{"items":[{"tags":["java","javafx","jetty","jlink","jpackage"],"comments":[{"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"score":1,"creation_date":1695344158,"post_id":77154323,"comment_id":136015297,"body_markdown":"&quot;I have already validated that the packages (jmod) are added to the destination folder where the .exe is located&quot; FWIW, .jmod files are only used as input for jlink, they can not be used as runtime dependencies.","body":"&quot;I have already validated that the packages (jmod) are added to the destination folder where the .exe is located&quot; FWIW, .jmod files are only used as input for jlink, they can not be used as runtime dependencies."},{"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"score":1,"creation_date":1695344292,"post_id":77154323,"comment_id":136015305,"body_markdown":"Is your application modular? (i.e. do you have your own `module-info` file?) You are using `jlink` with `--add-modules` to add all the JDK modules, but you should only have to add the main module of your application.","body":"Is your application modular? (i.e. do you have your own <code>module-info</code> file?) You are using <code>jlink</code> with <code>--add-modules</code> to add all the JDK modules, but you should only have to add the main module of your application."},{"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"score":0,"creation_date":1695345121,"post_id":77154323,"comment_id":136015392,"body_markdown":"I see you&#39;re also using `--input ../../target/libs`, are there extra jar files or native libraries that need to be added to the application?","body":"I see you&#39;re also using <code>--input ..&#47;..&#47;target&#47;libs</code>, are there extra jar files or native libraries that need to be added to the application?"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1695354891,"post_id":77154323,"comment_id":136016118,"body_markdown":"If your websocket connections are using tls, you may [require cryptoki](https://stackoverflow.com/questions/60081037/modular-java-13-javafx-webwiew-fails-to-display-when-jlinked).","body":"If your websocket connections are using tls, you may <a href=\"https://stackoverflow.com/questions/60081037/modular-java-13-javafx-webwiew-fails-to-display-when-jlinked\">require cryptoki</a>."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1695355683,"post_id":77154323,"comment_id":136016178,"body_markdown":"You&#39;re most likely missing cryptographic modules in the custom run-time image and that is leading to failed SSL handshakes. See Q&amp;A linked by jewelsea for more information. Also see https://stackoverflow.com/q/73590370/6395627 and its duplicates.","body":"You&#39;re most likely missing cryptographic modules in the custom run-time image and that is leading to failed SSL handshakes. See Q&amp;A linked by jewelsea for more information. Also see <a href=\"https://stackoverflow.com/q/73590370/6395627\">stackoverflow.com/q/73590370/6395627</a> and its duplicates."},{"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"score":1,"creation_date":1695369378,"post_id":77154323,"comment_id":136017873,"body_markdown":"See also [Java FX Application with Jpackage not work](https://stackoverflow.com/questions/70456027/java-fx-application-with-jpackage-not-work)","body":"See also <a href=\"https://stackoverflow.com/questions/70456027/java-fx-application-with-jpackage-not-work\">Java FX Application with Jpackage not work</a>"}],"answers":[{"tags":[],"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1695345209,"creation_date":1695345209,"answer_id":77154390,"question_id":77154323,"body_markdown":"&gt; How can I validate the log of the application when it starts if it automatically closes?, Does Java have a way to monitor the execution of an .exe created with jpackage?\r\n\r\nYou can try running jpackage with `--win-console`, and then running the application from the console to see if any error message is printed.\r\n\r\n&gt; How can I verify that the runtime that is included in the application image can load all the necessary packages for the application to start?\r\n\r\nCreate the runtime image without the `--strip-native-commands` option. That will result in a runtime image that includes the `java` launcher. You can then use that launcher to try and launch the application manually, by manually specifying the module path and main module.","title":"Cannot start program created with jpackage","body":"<blockquote>\n<p>How can I validate the log of the application when it starts if it automatically closes?, Does Java have a way to monitor the execution of an .exe created with jpackage?</p>\n</blockquote>\n<p>You can try running jpackage with <code>--win-console</code>, and then running the application from the console to see if any error message is printed.</p>\n<blockquote>\n<p>How can I verify that the runtime that is included in the application image can load all the necessary packages for the application to start?</p>\n</blockquote>\n<p>Create the runtime image without the <code>--strip-native-commands</code> option. That will result in a runtime image that includes the <code>java</code> launcher. You can then use that launcher to try and launch the application manually, by manually specifying the module path and main module.</p>\n"}],"owner":{"account_id":14765348,"reputation":43,"user_id":10663562,"display_name":"hanarce"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1695345209,"creation_date":1695343395,"question_id":77154323,"body_markdown":"Hello everyone I am new using jpackage and I am building a java aplicaction with JavaFx framework and I added a Websocket server (using org.eclipse.jetty.websocket and org.eclipse.jetty dependencies) but the application does not start when I double click to the .exe.\r\nI am using  the following dependencies in my pom file to add the websocket server:\r\n\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jetty-server&lt;/artifactId&gt;\r\n            &lt;version&gt;11.0.15&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jetty-servlet&lt;/artifactId&gt;\r\n            &lt;version&gt;11.0.15&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.eclipse.jetty.websocket&lt;/groupId&gt;\r\n            &lt;artifactId&gt;websocket-jetty-api&lt;/artifactId&gt;\r\n            &lt;version&gt;11.0.15&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.eclipse.jetty.websocket&lt;/groupId&gt;\r\n            &lt;artifactId&gt;websocket-jetty-server&lt;/artifactId&gt;\r\n            &lt;version&gt;11.0.15&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\nThe application was made in IntelliJ with java 20 and is working fine when i debug and I can interact with the graphical interface and I can connect to the websocket server but when I create  app image (.exe) with the following commands:\r\n\r\n```\r\njlink --verbose --output runtime --module-path &quot;$Env:JAVA_HOME/jmods&quot; --add-modules javafx.base,javafx.controls,javafx.fxml,javafx.graphics,javafx.media,javafx.swing,javafx.web,java.base,java.desktop,java.instrument,java.logging,java.naming,java.net.http,java.scripting,java.sql,java.xml,jdk.unsupported,jdk.crypto.ec,jdk.accessibility,jdk.management.jfr --strip-native-commands --no-header-files --no-man-pages --strip-debug --compress=1\r\n```\r\n\r\n```\r\njpackage --verbose --type app-image --runtime-image runtime --input ../../target/libs --module-path ../../target/mods --module $ModuleAndMainClass --dest . --name $AppName --vendor $Vendor --resource-dir resources --java-options &quot;-XshowSettings:all&quot; --icon resources/$AppName.ico\r\n```\r\n\r\nI get the .exe application successfully but when I double click to the .exe, the process opens but ends immediately without warning or errors and when I create the .exe without websocket and without  org.eclipse.jetty, org.eclipse.websocket dependencies, the .exe runs successfully and I can interact with the graphical interface created with Javafx.\r\n\r\nI am using Jdk 20.0.2 with javafx framework 20.0.2 and I have installed Javafx jmod in the path %JAVA_HOME%/jmods and I tried the following:\r\n\r\n1. I tried install JavaxFx 20.0.2 framework from libs, copying the .jar files to the %JAVA_HOME%\\\\lib folder\r\n2. I tried clear cache memory\r\n3. I tried reinstall Java and JavaFx 20.0.2\r\n4. I tried disable antivirus when I execute Jpackage and Jlink commands\r\n5. I tried clear maeven packages repository.\r\n6. I have already validated that I only have a single version of Java installed(20.0.2)\r\n   7\\.I have already validated that the packages (jmod) are added to the destination folder where the .exe is located, I even copied them manually but the problem persists.\r\n7. I tried manually downloading javafx jmod packages to include the folder path in the --module-path parameter of the jLink command.\r\n\r\nMy system environment look fine: JAVA_HOME is the path of my jdk 20 installation folder and the Path has %JAVA_HOME%\\\\bin\r\nAfter that the problem still persists and I have the following questions:\r\n\r\n1. What do I have to include in jlink or jpackage so that I can create the application image and run it with javafx and websocket server (org.eclipse.jetty)?\r\n2. How can I validate the log of the application when it starts if it automatically closes?, Does Java have a way to monitor the execution of an .exe created with jpackage?\r\n3. How can I verify that the runtime that is included in the application image can load all the necessary packages for the application to start?\r\n   Any thoughts will be greatly appreciated.\r\n   Best","title":"Cannot start program created with jpackage","body":"<p>Hello everyone I am new using jpackage and I am building a java aplicaction with JavaFx framework and I added a Websocket server (using org.eclipse.jetty.websocket and org.eclipse.jetty dependencies) but the application does not start when I double click to the .exe.\nI am using  the following dependencies in my pom file to add the websocket server:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\n            &lt;artifactId&gt;jetty-server&lt;/artifactId&gt;\n            &lt;version&gt;11.0.15&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\n            &lt;artifactId&gt;jetty-servlet&lt;/artifactId&gt;\n            &lt;version&gt;11.0.15&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.eclipse.jetty.websocket&lt;/groupId&gt;\n            &lt;artifactId&gt;websocket-jetty-api&lt;/artifactId&gt;\n            &lt;version&gt;11.0.15&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.eclipse.jetty.websocket&lt;/groupId&gt;\n            &lt;artifactId&gt;websocket-jetty-server&lt;/artifactId&gt;\n            &lt;version&gt;11.0.15&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>The application was made in IntelliJ with java 20 and is working fine when i debug and I can interact with the graphical interface and I can connect to the websocket server but when I create  app image (.exe) with the following commands:</p>\n<pre><code>jlink --verbose --output runtime --module-path &quot;$Env:JAVA_HOME/jmods&quot; --add-modules javafx.base,javafx.controls,javafx.fxml,javafx.graphics,javafx.media,javafx.swing,javafx.web,java.base,java.desktop,java.instrument,java.logging,java.naming,java.net.http,java.scripting,java.sql,java.xml,jdk.unsupported,jdk.crypto.ec,jdk.accessibility,jdk.management.jfr --strip-native-commands --no-header-files --no-man-pages --strip-debug --compress=1\n</code></pre>\n<pre><code>jpackage --verbose --type app-image --runtime-image runtime --input ../../target/libs --module-path ../../target/mods --module $ModuleAndMainClass --dest . --name $AppName --vendor $Vendor --resource-dir resources --java-options &quot;-XshowSettings:all&quot; --icon resources/$AppName.ico\n</code></pre>\n<p>I get the .exe application successfully but when I double click to the .exe, the process opens but ends immediately without warning or errors and when I create the .exe without websocket and without  org.eclipse.jetty, org.eclipse.websocket dependencies, the .exe runs successfully and I can interact with the graphical interface created with Javafx.</p>\n<p>I am using Jdk 20.0.2 with javafx framework 20.0.2 and I have installed Javafx jmod in the path %JAVA_HOME%/jmods and I tried the following:</p>\n<ol>\n<li>I tried install JavaxFx 20.0.2 framework from libs, copying the .jar files to the %JAVA_HOME%\\lib folder</li>\n<li>I tried clear cache memory</li>\n<li>I tried reinstall Java and JavaFx 20.0.2</li>\n<li>I tried disable antivirus when I execute Jpackage and Jlink commands</li>\n<li>I tried clear maeven packages repository.</li>\n<li>I have already validated that I only have a single version of Java installed(20.0.2)\n7.I have already validated that the packages (jmod) are added to the destination folder where the .exe is located, I even copied them manually but the problem persists.</li>\n<li>I tried manually downloading javafx jmod packages to include the folder path in the --module-path parameter of the jLink command.</li>\n</ol>\n<p>My system environment look fine: JAVA_HOME is the path of my jdk 20 installation folder and the Path has %JAVA_HOME%\\bin\nAfter that the problem still persists and I have the following questions:</p>\n<ol>\n<li>What do I have to include in jlink or jpackage so that I can create the application image and run it with javafx and websocket server (org.eclipse.jetty)?</li>\n<li>How can I validate the log of the application when it starts if it automatically closes?, Does Java have a way to monitor the execution of an .exe created with jpackage?</li>\n<li>How can I verify that the runtime that is included in the application image can load all the necessary packages for the application to start?\nAny thoughts will be greatly appreciated.\nBest</li>\n</ol>\n"},{"tags":["java","awtrobot"],"answers":[{"tags":[],"owner":{"account_id":6595050,"reputation":344,"user_id":5095124,"accept_rate":59,"display_name":"The Law"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1445534428,"creation_date":1445534428,"answer_id":33286873,"question_id":33286724,"body_markdown":"Java generally does not recognize multimedia key strokes (and Fn is generally considered non-standard keyboard key) as valid ones in its inbuilt libraries and will return 0 on non-standard `keystroke event`.\r\n\r\nBut you can get your key by using [Intellitype][1] library for non-standard keys and also as possible work-around for the input.\r\n\r\n\r\n  [1]: https://code.google.com/p/jintellitype/","title":"Using the Robot class in Java to simulate &quot;Fn&quot; key press","body":"<p>Java generally does not recognize multimedia key strokes (and Fn is generally considered non-standard keyboard key) as valid ones in its inbuilt libraries and will return 0 on non-standard <code>keystroke event</code>.</p>\n\n<p>But you can get your key by using <a href=\"https://code.google.com/p/jintellitype/\" rel=\"noreferrer\">Intellitype</a> library for non-standard keys and also as possible work-around for the input.</p>\n"}],"owner":{"account_id":7168504,"reputation":393,"user_id":5476825,"accept_rate":50,"display_name":"Daanv z"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2987,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1695343954,"creation_date":1445533841,"question_id":33286724,"body_markdown":"I&#39;m trying to write a small program that makes the backlight of my laptop&#39;s keyboard flash whenever I receive an email/text/other type of message.\r\nI&#39;m trying to use Java&#39;s Robot class to do this.\r\n\r\nMy problem so far is that I cannot seem to find the keycode for the &quot;Fn&quot; key.","title":"Using the Robot class in Java to simulate &quot;Fn&quot; key press","body":"<p>I'm trying to write a small program that makes the backlight of my laptop's keyboard flash whenever I receive an email/text/other type of message.\nI'm trying to use Java's Robot class to do this.</p>\n\n<p>My problem so far is that I cannot seem to find the keycode for the \"Fn\" key.</p>\n"},{"tags":["java","oop"],"comments":[{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1695351069,"post_id":77154243,"comment_id":136015850,"body_markdown":"You can utilize an _[XPath](https://en.wikipedia.org/wiki/XPath)_ for the _NodeList_, _//*[@*[contains(name(), &#39;ID&#39;)]]_.","body":"You can utilize an <i><a href=\"https://en.wikipedia.org/wiki/XPath\" rel=\"nofollow noreferrer\">XPath</a></i> for the <i>NodeList</i>, <i>//*[@*[contains(name(), &#39;ID&#39;)]]</i>."}],"answers":[{"tags":[],"owner":{"account_id":5584931,"reputation":2048,"user_id":4425643,"accept_rate":64,"display_name":"CausingUnderflowsEverywhere"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1695342787,"creation_date":1695342787,"answer_id":77154302,"question_id":77154243,"body_markdown":"If you want to reduce the spaghetti, make each method fulfill a small step that returns a result and make each step happen one by one in the main method, passing on each result to the next method. \r\n\r\nHere&#39;s an example of how that could be done.\r\n\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        String fullPath = &quot;[Path to Folder]&quot;;\r\n        fullPath = fullPath.replace(&quot;\\\\&quot;, &quot;/&quot;);\r\n        Path dir = Paths.get(fullPath);\r\n        List&lt;String&gt; xmlFileList = createListOfAllXMLFiles(dir);\r\n        List&lt;Document&gt; xmlDocuments = readDirectory(dir);\r\n        xmlDocuments.forEach(doc -&gt; readContents(doc.getDocumentElement(), xmlFileList));\r\n    }\r\n\r\n    public static List&lt;Document&gt; readDirectory(Path dir) throws IOException {\r\n        List&lt;Document&gt; documents = new LinkedList&lt;&gt;();\r\n        Files.walk(dir).forEach(\r\n                //path -&gt; showFile(path.toFile())\r\n                path -&gt; {\r\n                        if (path.toFile().isFile()) {\r\n                            try {\r\n                                Document document = readXML(path);\r\n                                documents.add(document);\r\n                            } catch (Exception e) {\r\n                            //System.out.println(&quot;Exception: &quot; + e.getMessage());\r\n                            }\r\n                        }\r\n                }\r\n        );\r\n        return documents;\r\n    }\r\n\r\n    public static List&lt;String&gt; createListOfAllXMLFiles(Path dir) {\r\n        List&lt;String&gt; fileList = new ArrayList&lt;String&gt;();\r\n\r\n        try (Stream&lt;Path&gt; walkStream = Files.walk(dir)) {\r\n            walkStream.filter(p -&gt; p.toFile().isFile()).forEach(f -&gt; {\r\n                String fileName = f.getFileName().toString().substring(0, f.getFileName().toString().lastIndexOf(&#39;.&#39;));\r\n\r\n                fileList.add(fileName );\r\n            });\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        return fileList;\r\n    }\r\n\r\n    public static Document readXML(Path path) throws ParserConfigurationException, IOException, SAXException {\r\n\r\n        Document document;\r\n        DocumentBuilderFactory docBuilderFactory = DocumentBuilderFactory.newInstance();\r\n        DocumentBuilder docBuilder = docBuilderFactory.newDocumentBuilder();\r\n        document = docBuilder.parse(path.toFile());\r\n        return document;\r\n    }\r\n\r\n    public static void readContents(Node node, List&lt;String&gt; fileList) {\r\n        // do something with the current node instead of System.out\r\n        //System.out.println(node.getNodeName());\r\n\r\n        checkAttributes(node, fileList);\r\n\r\n\r\n        NodeList nodeList = node.getChildNodes();\r\n        for (int i = 0; i &lt; nodeList.getLength(); i++) {\r\n            Node currentNode = nodeList.item(i);\r\n            if (currentNode.getNodeType() == Node.ELEMENT_NODE) {\r\n                //calls this method for all the children which is Element\r\n                readContents(currentNode, fileList);\r\n            }\r\n        }\r\n    }\r\n\r\n    public static void checkAttributes(Node element, List&lt;String&gt; fileList) {\r\n        String lookupString = &quot;ID&quot;;\r\n\r\n        String nodeName = element.getNodeName();\r\n        NamedNodeMap attributes = element.getAttributes();\r\n        for (int i = 0; i &lt; attributes.getLength(); i++) {\r\n            Node node = attributes.item(i);\r\n            String attributeName = node.getNodeName();\r\n            String attributeValue = node.getNodeValue();\r\n\r\n            if (attributeName.contains(lookupString)) {\r\n\r\n                boolean idExists = fileList.contains(attributeValue);\r\n\r\n                if (!idExists) {\r\n                    System.out.println(&quot;  Cannot find attributeName: &quot; + attributeName + &quot;; attributeValue: &quot; + attributeValue + &quot;; nodeName: &quot; + nodeName);\r\n                }\r\n            }\r\n        }\r\n    }","title":"Issue with passing too many arguments to lower level functions","body":"<p>If you want to reduce the spaghetti, make each method fulfill a small step that returns a result and make each step happen one by one in the main method, passing on each result to the next method.</p>\n<p>Here's an example of how that could be done.</p>\n<pre><code>public static void main(String[] args) throws Exception {\n    String fullPath = &quot;[Path to Folder]&quot;;\n    fullPath = fullPath.replace(&quot;\\\\&quot;, &quot;/&quot;);\n    Path dir = Paths.get(fullPath);\n    List&lt;String&gt; xmlFileList = createListOfAllXMLFiles(dir);\n    List&lt;Document&gt; xmlDocuments = readDirectory(dir);\n    xmlDocuments.forEach(doc -&gt; readContents(doc.getDocumentElement(), xmlFileList));\n}\n\npublic static List&lt;Document&gt; readDirectory(Path dir) throws IOException {\n    List&lt;Document&gt; documents = new LinkedList&lt;&gt;();\n    Files.walk(dir).forEach(\n            //path -&gt; showFile(path.toFile())\n            path -&gt; {\n                    if (path.toFile().isFile()) {\n                        try {\n                            Document document = readXML(path);\n                            documents.add(document);\n                        } catch (Exception e) {\n                        //System.out.println(&quot;Exception: &quot; + e.getMessage());\n                        }\n                    }\n            }\n    );\n    return documents;\n}\n\npublic static List&lt;String&gt; createListOfAllXMLFiles(Path dir) {\n    List&lt;String&gt; fileList = new ArrayList&lt;String&gt;();\n\n    try (Stream&lt;Path&gt; walkStream = Files.walk(dir)) {\n        walkStream.filter(p -&gt; p.toFile().isFile()).forEach(f -&gt; {\n            String fileName = f.getFileName().toString().substring(0, f.getFileName().toString().lastIndexOf('.'));\n\n            fileList.add(fileName );\n        });\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n\n    return fileList;\n}\n\npublic static Document readXML(Path path) throws ParserConfigurationException, IOException, SAXException {\n\n    Document document;\n    DocumentBuilderFactory docBuilderFactory = DocumentBuilderFactory.newInstance();\n    DocumentBuilder docBuilder = docBuilderFactory.newDocumentBuilder();\n    document = docBuilder.parse(path.toFile());\n    return document;\n}\n\npublic static void readContents(Node node, List&lt;String&gt; fileList) {\n    // do something with the current node instead of System.out\n    //System.out.println(node.getNodeName());\n\n    checkAttributes(node, fileList);\n\n\n    NodeList nodeList = node.getChildNodes();\n    for (int i = 0; i &lt; nodeList.getLength(); i++) {\n        Node currentNode = nodeList.item(i);\n        if (currentNode.getNodeType() == Node.ELEMENT_NODE) {\n            //calls this method for all the children which is Element\n            readContents(currentNode, fileList);\n        }\n    }\n}\n\npublic static void checkAttributes(Node element, List&lt;String&gt; fileList) {\n    String lookupString = &quot;ID&quot;;\n\n    String nodeName = element.getNodeName();\n    NamedNodeMap attributes = element.getAttributes();\n    for (int i = 0; i &lt; attributes.getLength(); i++) {\n        Node node = attributes.item(i);\n        String attributeName = node.getNodeName();\n        String attributeValue = node.getNodeValue();\n\n        if (attributeName.contains(lookupString)) {\n\n            boolean idExists = fileList.contains(attributeValue);\n\n            if (!idExists) {\n                System.out.println(&quot;  Cannot find attributeName: &quot; + attributeName + &quot;; attributeValue: &quot; + attributeValue + &quot;; nodeName: &quot; + nodeName);\n            }\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2474796,"reputation":387,"user_id":2155646,"accept_rate":88,"display_name":"Spacko"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77154302,"answer_count":1,"score":0,"last_activity_date":1695343075,"creation_date":1695341162,"question_id":77154243,"body_markdown":"I am struggling to how to improve the code of the problem that I written below.\r\n\r\n\r\nI have a folder with subfolders containing many xml files\r\nEach file represents an single object\r\n\r\n* Parent Folder\r\n    * Attributes\r\n        * id1.xml\r\n        * id2.xml\r\n        * id3.xml\r\n    * AttributeGroups\r\n        * id4.xml\r\n        * id5.xml\r\n        * id6.xml\r\n    * UserTypes\r\n        * id7.xml\r\n        * id8.xml\r\n\r\nEach xml contains references to other objects.\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;ProductInformation&gt;\r\n   &lt;AttributeList&gt;\r\n        &lt;Attribute ID=&quot;id1&quot;&gt;\r\n            &lt;AttributeGroupLink AttributeGroupID=&quot;id4&quot;&gt;&lt;/AttributeGroupLink&gt;\r\n            &lt;UserTypeLink UserTypeID=&quot;id8&quot;&gt;&lt;/UserTypeLink&gt;\r\n            &lt;UserTypeLink UserTypeID=&quot;id9&quot;&gt;&lt;/UserTypeLink&gt;\r\n        &lt;/Attribute&gt;\r\n    &lt;/AttributeList&gt;\r\n&lt;/ProductInformation&gt;\r\n```\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;ProductInformation&gt;\r\n   &lt;AttributeList&gt;\r\n        &lt;Attribute ID=&quot;id2&quot;&gt;\r\n            &lt;AttributeGroupLink AttributeGroupID=&quot;id5&quot;&gt;&lt;/AttributeGroupLink&gt;\r\n            &lt;AttributeGroupLink AttributeGroupID=&quot;id6&quot;&gt;&lt;/AttributeGroupLink&gt;\r\n            &lt;UserTypeLink UserTypeID=&quot;id7&quot;&gt;&lt;/UserTypeLink&gt;\r\n            &lt;UserTypeLink UserTypeID=&quot;id9&quot;&gt;&lt;/UserTypeLink&gt;\r\n        &lt;/Attribute&gt;\r\n    &lt;/AttributeList&gt;\r\n&lt;/ProductInformation&gt;\r\n```\r\n\r\nI want to write a program to loop through each xml file, read the relevant attributes to get the referenced ids. If a file with the referenced id does not exist, I want to log that.\r\n\r\nI have written a first pass that works. However I think that the design can be improved, as I am\r\n* Passing a lot of data from higher level functions to lower level functions\r\n* Unable to log all the information I want such as \r\n    * Directory Name where the error was found\r\n* Unsure how to only log each unique error once (i.e. above id9 \r\n\r\nMy code\r\n\r\n```java\r\npublic class Main {\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        String fullPath = &quot;[Path to Folder]&quot;;\r\n        fullPath = fullPath.replace(&quot;\\\\&quot;, &quot;/&quot;);\r\n        Path dir = Paths.get(fullPath);\r\n        readDirectory(dir);\r\n    }\r\n\r\n    public static void readDirectory(Path dir) throws IOException {\r\n\r\n\r\n        List&lt;String&gt; xmlList = createListOfAllXMLFiles(dir);\r\n\r\n        Files.walk(dir).forEach(\r\n                //path -&gt; showFile(path.toFile())\r\n                path -&gt; {\r\n                    try {\r\n                        if (path.toFile().isFile()) {\r\n                            readXML(path, xmlList );\r\n                        }\r\n                    } catch (ParserConfigurationException | IOException | SAXException e) {\r\n                        throw new RuntimeException(e);\r\n                    }\r\n                }\r\n        );\r\n    }\r\n\r\n    public static List&lt;String&gt; createListOfAllXMLFiles(Path dir) {\r\n        List&lt;String&gt; fileList = new ArrayList&lt;String&gt;();\r\n\r\n        try (Stream&lt;Path&gt; walkStream = Files.walk(dir)) {\r\n            walkStream.filter(p -&gt; p.toFile().isFile()).forEach(f -&gt; {\r\n                String fileName = f.getFileName().toString().substring(0, f.getFileName().toString().lastIndexOf(&#39;.&#39;));\r\n\r\n                fileList.add(fileName );\r\n            });\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        return fileList;\r\n    }\r\n\r\n    public static void readXML(Path path, List&lt;String&gt; fileList) throws ParserConfigurationException, IOException, SAXException {\r\n\r\n        Document document;\r\n        DocumentBuilderFactory docBuilderFactory = DocumentBuilderFactory.newInstance();\r\n        DocumentBuilder docBuilder = docBuilderFactory.newDocumentBuilder();\r\n        try {\r\n            document = docBuilder.parse(path.toFile());\r\n        } catch (Exception e) {\r\n            //System.out.println(&quot;Exception: &quot; + e.getMessage());\r\n            return;\r\n        }\r\n\r\n        readContents(document.getDocumentElement(), fileList);\r\n\r\n    }\r\n\r\n    public static void readContents(Node node, List&lt;String&gt; fileList) {\r\n        // do something with the current node instead of System.out\r\n        //System.out.println(node.getNodeName());\r\n\r\n        checkAttributes(node, fileList);\r\n\r\n\r\n        NodeList nodeList = node.getChildNodes();\r\n        for (int i = 0; i &lt; nodeList.getLength(); i++) {\r\n            Node currentNode = nodeList.item(i);\r\n            if (currentNode.getNodeType() == Node.ELEMENT_NODE) {\r\n                //calls this method for all the children which is Element\r\n                readContents(currentNode, fileList);\r\n            }\r\n        }\r\n    }\r\n\r\n    public static void checkAttributes(Node element, List&lt;String&gt; fileList) {\r\n        String lookupString = &quot;ID&quot;;\r\n\r\n        String nodeName = element.getNodeName();\r\n        NamedNodeMap attributes = element.getAttributes();\r\n        for (int i = 0; i &lt; attributes.getLength(); i++) {\r\n            Node node = attributes.item(i);\r\n            String attributeName = node.getNodeName();\r\n            String attributeValue = node.getNodeValue();\r\n\r\n            if (attributeName.contains(lookupString)) {\r\n\r\n                boolean idExists = fileList.contains(attributeValue);\r\n\r\n                if (!idExists) {\r\n                    System.out.println(&quot;  Cannot find attributeName: &quot; + attributeName + &quot;; attributeValue: &quot; + attributeValue + &quot;; nodeName: &quot; + nodeName);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n","title":"Issue with passing too many arguments to lower level functions","body":"<p>I am struggling to how to improve the code of the problem that I written below.</p>\n<p>I have a folder with subfolders containing many xml files\nEach file represents an single object</p>\n<ul>\n<li>Parent Folder\n<ul>\n<li>Attributes\n<ul>\n<li>id1.xml</li>\n<li>id2.xml</li>\n<li>id3.xml</li>\n</ul>\n</li>\n<li>AttributeGroups\n<ul>\n<li>id4.xml</li>\n<li>id5.xml</li>\n<li>id6.xml</li>\n</ul>\n</li>\n<li>UserTypes\n<ul>\n<li>id7.xml</li>\n<li>id8.xml</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p>Each xml contains references to other objects.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;ProductInformation&gt;\n   &lt;AttributeList&gt;\n        &lt;Attribute ID=&quot;id1&quot;&gt;\n            &lt;AttributeGroupLink AttributeGroupID=&quot;id4&quot;&gt;&lt;/AttributeGroupLink&gt;\n            &lt;UserTypeLink UserTypeID=&quot;id8&quot;&gt;&lt;/UserTypeLink&gt;\n            &lt;UserTypeLink UserTypeID=&quot;id9&quot;&gt;&lt;/UserTypeLink&gt;\n        &lt;/Attribute&gt;\n    &lt;/AttributeList&gt;\n&lt;/ProductInformation&gt;\n</code></pre>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;ProductInformation&gt;\n   &lt;AttributeList&gt;\n        &lt;Attribute ID=&quot;id2&quot;&gt;\n            &lt;AttributeGroupLink AttributeGroupID=&quot;id5&quot;&gt;&lt;/AttributeGroupLink&gt;\n            &lt;AttributeGroupLink AttributeGroupID=&quot;id6&quot;&gt;&lt;/AttributeGroupLink&gt;\n            &lt;UserTypeLink UserTypeID=&quot;id7&quot;&gt;&lt;/UserTypeLink&gt;\n            &lt;UserTypeLink UserTypeID=&quot;id9&quot;&gt;&lt;/UserTypeLink&gt;\n        &lt;/Attribute&gt;\n    &lt;/AttributeList&gt;\n&lt;/ProductInformation&gt;\n</code></pre>\n<p>I want to write a program to loop through each xml file, read the relevant attributes to get the referenced ids. If a file with the referenced id does not exist, I want to log that.</p>\n<p>I have written a first pass that works. However I think that the design can be improved, as I am</p>\n<ul>\n<li>Passing a lot of data from higher level functions to lower level functions</li>\n<li>Unable to log all the information I want such as\n<ul>\n<li>Directory Name where the error was found</li>\n</ul>\n</li>\n<li>Unsure how to only log each unique error once (i.e. above id9</li>\n</ul>\n<p>My code</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n\n    public static void main(String[] args) throws Exception {\n        String fullPath = &quot;[Path to Folder]&quot;;\n        fullPath = fullPath.replace(&quot;\\\\&quot;, &quot;/&quot;);\n        Path dir = Paths.get(fullPath);\n        readDirectory(dir);\n    }\n\n    public static void readDirectory(Path dir) throws IOException {\n\n\n        List&lt;String&gt; xmlList = createListOfAllXMLFiles(dir);\n\n        Files.walk(dir).forEach(\n                //path -&gt; showFile(path.toFile())\n                path -&gt; {\n                    try {\n                        if (path.toFile().isFile()) {\n                            readXML(path, xmlList );\n                        }\n                    } catch (ParserConfigurationException | IOException | SAXException e) {\n                        throw new RuntimeException(e);\n                    }\n                }\n        );\n    }\n\n    public static List&lt;String&gt; createListOfAllXMLFiles(Path dir) {\n        List&lt;String&gt; fileList = new ArrayList&lt;String&gt;();\n\n        try (Stream&lt;Path&gt; walkStream = Files.walk(dir)) {\n            walkStream.filter(p -&gt; p.toFile().isFile()).forEach(f -&gt; {\n                String fileName = f.getFileName().toString().substring(0, f.getFileName().toString().lastIndexOf('.'));\n\n                fileList.add(fileName );\n            });\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n\n        return fileList;\n    }\n\n    public static void readXML(Path path, List&lt;String&gt; fileList) throws ParserConfigurationException, IOException, SAXException {\n\n        Document document;\n        DocumentBuilderFactory docBuilderFactory = DocumentBuilderFactory.newInstance();\n        DocumentBuilder docBuilder = docBuilderFactory.newDocumentBuilder();\n        try {\n            document = docBuilder.parse(path.toFile());\n        } catch (Exception e) {\n            //System.out.println(&quot;Exception: &quot; + e.getMessage());\n            return;\n        }\n\n        readContents(document.getDocumentElement(), fileList);\n\n    }\n\n    public static void readContents(Node node, List&lt;String&gt; fileList) {\n        // do something with the current node instead of System.out\n        //System.out.println(node.getNodeName());\n\n        checkAttributes(node, fileList);\n\n\n        NodeList nodeList = node.getChildNodes();\n        for (int i = 0; i &lt; nodeList.getLength(); i++) {\n            Node currentNode = nodeList.item(i);\n            if (currentNode.getNodeType() == Node.ELEMENT_NODE) {\n                //calls this method for all the children which is Element\n                readContents(currentNode, fileList);\n            }\n        }\n    }\n\n    public static void checkAttributes(Node element, List&lt;String&gt; fileList) {\n        String lookupString = &quot;ID&quot;;\n\n        String nodeName = element.getNodeName();\n        NamedNodeMap attributes = element.getAttributes();\n        for (int i = 0; i &lt; attributes.getLength(); i++) {\n            Node node = attributes.item(i);\n            String attributeName = node.getNodeName();\n            String attributeValue = node.getNodeValue();\n\n            if (attributeName.contains(lookupString)) {\n\n                boolean idExists = fileList.contains(attributeValue);\n\n                if (!idExists) {\n                    System.out.println(&quot;  Cannot find attributeName: &quot; + attributeName + &quot;; attributeValue: &quot; + attributeValue + &quot;; nodeName: &quot; + nodeName);\n                }\n            }\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":["java","testng","ui-automation","testng-eclipse"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1695352525,"post_id":77131218,"comment_id":136015956,"body_markdown":"Did you see the error message? It cannot find  `org.slf4j.LoggerFactory`. At this point you can either install that manually (a web search should find it) and hope that this is the only dependency TestNG has, and if not, resolve any other dependencies manually as well. Or, and I&#39;d recommend that, switch to Maven or Gradle and let the tool handle the dependencies for you.","body":"Did you see the error message? It cannot find  <code>org.slf4j.LoggerFactory</code>. At this point you can either install that manually (a web search should find it) and hope that this is the only dependency TestNG has, and if not, resolve any other dependencies manually as well. Or, and I&#39;d recommend that, switch to Maven or Gradle and let the tool handle the dependencies for you."}],"owner":{"account_id":29477807,"reputation":1,"user_id":22589153,"display_name":"Papiya"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695342758,"creation_date":1695087330,"question_id":77131218,"body_markdown":"I am getting the below error on running `TestNG` test. Kindly suggest what could be wrong.\r\n\r\nNote: I have installed `TestNG` v 708 from Eclipse IDE. My project is not a Maven Project so I have not added any dependency, it&#39;s a normal Java project.\r\n\r\n```\r\n[RemoteTestNG] detected TestNG version 7.8.0\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/slf4j/LoggerFactory\r\n\tat org.testng.log4testng.Logger.lambda$getLogger$0(Logger.java:30)\r\n\tat java.base/java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1708)\r\n\tat org.testng.log4testng.Logger.getLogger(Logger.java:30)\r\n\tat org.testng.TestNG.&lt;clinit&gt;(TestNG.java:113)\r\n\tat org.testng.remote.support.RemoteTestNGFactory7_8.createRemoteTestNG(RemoteTestNGFactory7_8.java:16)\r\n\tat org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:67)\r\nCaused by: java.lang.ClassNotFoundException: org.slf4j.LoggerFactory\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n\t... 6 more\r\n```\r\n\r\nHow can I resolve it?","title":"Not able to run TestNG test","body":"<p>I am getting the below error on running <code>TestNG</code> test. Kindly suggest what could be wrong.</p>\n<p>Note: I have installed <code>TestNG</code> v 708 from Eclipse IDE. My project is not a Maven Project so I have not added any dependency, it's a normal Java project.</p>\n<pre><code>[RemoteTestNG] detected TestNG version 7.8.0\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/slf4j/LoggerFactory\n    at org.testng.log4testng.Logger.lambda$getLogger$0(Logger.java:30)\n    at java.base/java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1708)\n    at org.testng.log4testng.Logger.getLogger(Logger.java:30)\n    at org.testng.TestNG.&lt;clinit&gt;(TestNG.java:113)\n    at org.testng.remote.support.RemoteTestNGFactory7_8.createRemoteTestNG(RemoteTestNGFactory7_8.java:16)\n    at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:67)\nCaused by: java.lang.ClassNotFoundException: org.slf4j.LoggerFactory\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n    ... 6 more\n</code></pre>\n<p>How can I resolve it?</p>\n"},{"tags":["java","string","stream","byte"],"comments":[{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":2,"creation_date":1695318478,"post_id":77152491,"comment_id":136011902,"body_markdown":"There&#39;s no advantage to using StringWriter","body":"There&#39;s no advantage to using StringWriter"},{"owner":{"account_id":251706,"reputation":5298,"user_id":529282,"display_name":"Martheen"},"score":2,"creation_date":1695318558,"post_id":77152491,"comment_id":136011918,"body_markdown":"Where do you even get that second part? It looks like it comes from a decompression logic that gets extracted and then adapted without understanding the reasoning.","body":"Where do you even get that second part? It looks like it comes from a decompression logic that gets extracted and then adapted without understanding the reasoning."},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1695342453,"post_id":77152491,"comment_id":136015163,"body_markdown":"Are you certain the bytes represent text?","body":"Are you certain the bytes represent text?"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":1,"creation_date":1695343710,"post_id":77152491,"comment_id":136015261,"body_markdown":"`String s = Files.readString(Paths.get(&quot;... .txt&quot;));` would be better - if possible.","body":"<code>String s = Files.readString(Paths.get(&quot;... .txt&quot;));</code> would be better - if possible."}],"answers":[{"tags":[],"owner":{"account_id":25728677,"reputation":29,"user_id":19484558,"display_name":"firapinch"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1695319946,"creation_date":1695319946,"answer_id":77152667,"question_id":77152491,"body_markdown":"For small to moderately sized byte arrays, use new String(byteArr, UTF_8) for simplicity and efficiency. For very large files or stream-based processing, consider the ByteArrayInputStream approach, but it&#39;s more complex.","title":"Java: String vs StringWriter?","body":"<p>For small to moderately sized byte arrays, use new String(byteArr, UTF_8) for simplicity and efficiency. For very large files or stream-based processing, consider the ByteArrayInputStream approach, but it's more complex.</p>\n"},{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695342576,"creation_date":1695342576,"answer_id":77154293,"question_id":77152491,"body_markdown":"If the goal is to convert from a byte array you already have, that represents UTF-8 text, to a single `String`, then `new String(bytes, UTF_8)` is unambiguously the best, most efficient solution.\r\n\r\nIf any of those aren&#39;t true, e.g. you are reading the file incrementally, the situation may change, but you will have to specify the situation.","title":"Java: String vs StringWriter?","body":"<p>If the goal is to convert from a byte array you already have, that represents UTF-8 text, to a single <code>String</code>, then <code>new String(bytes, UTF_8)</code> is unambiguously the best, most efficient solution.</p>\n<p>If any of those aren't true, e.g. you are reading the file incrementally, the situation may change, but you will have to specify the situation.</p>\n"}],"owner":{"account_id":20053569,"reputation":141,"user_id":14701745,"display_name":"HelloWorld"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1695342576,"creation_date":1695318035,"question_id":77152491,"body_markdown":"If I have an array of bytes(which could be from fairly large file), which is better for constructing a String?\r\n\r\n```\r\nnew String(byteArr, UTF_8);\r\n```\r\n\r\nvs\r\n\r\n```\r\ntry (final ByteArrayInputStream decompressed = new ByteArrayInputStream(byteArr);\r\n     final StringWriter stringWriter = new StringWriter()) {\r\n\r\n  IOUtils.copy(decompressed, stringWriter, UTF_8);\r\n  return stringWriter.toString();\r\n\r\n} catch(...) {//...}\r\n```\r\nIs there any benefit to using `StringWriter` here?","title":"Java: String vs StringWriter?","body":"<p>If I have an array of bytes(which could be from fairly large file), which is better for constructing a String?</p>\n<pre><code>new String(byteArr, UTF_8);\n</code></pre>\n<p>vs</p>\n<pre><code>try (final ByteArrayInputStream decompressed = new ByteArrayInputStream(byteArr);\n     final StringWriter stringWriter = new StringWriter()) {\n\n  IOUtils.copy(decompressed, stringWriter, UTF_8);\n  return stringWriter.toString();\n\n} catch(...) {//...}\n</code></pre>\n<p>Is there any benefit to using <code>StringWriter</code> here?</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1695018998,"post_id":77124891,"comment_id":135962667,"body_markdown":"I think you need to use [TextFlow](https://docs.oracle.com/javase/8/javafx/api/javafx/scene/text/TextFlow.html) (rather than `TextArea`). Also refer to [JavaFX Multiple colors in textarea (JavaFX 8)](https://stackoverflow.com/questions/23202828/javafx-multiple-colors-in-textarea-javafx-8).","body":"I think you need to use <a href=\"https://docs.oracle.com/javase/8/javafx/api/javafx/scene/text/TextFlow.html\" rel=\"nofollow noreferrer\">TextFlow</a> (rather than <code>TextArea</code>). Also refer to <a href=\"https://stackoverflow.com/questions/23202828/javafx-multiple-colors-in-textarea-javafx-8\">JavaFX Multiple colors in textarea (JavaFX 8)</a>."},{"owner":{"display_name":"user16612111"},"score":0,"creation_date":1695019093,"post_id":77124891,"comment_id":135962682,"body_markdown":"@Abra ,Okay I will try. But have you tried to reproduce my code and see whether it gets past the isPresent block? Thanks. On my end it&#39;s not printing the text and not executing the code in the false block","body":"@Abra ,Okay I will try. But have you tried to reproduce my code and see whether it gets past the isPresent block? Thanks. On my end it&#39;s not printing the text and not executing the code in the false block"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":1,"creation_date":1695019327,"post_id":77124891,"comment_id":135962716,"body_markdown":"If you want someone to try to reproduce the behavior you claim to be seeing, then I suggest that you post a [mcve].","body":"If you want someone to try to reproduce the behavior you claim to be seeing, then I suggest that you post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1695030216,"post_id":77124891,"comment_id":135964743,"body_markdown":"Dont create new text, set [the selection](https://openjfx.io/javadoc/17/javafx.controls/javafx/scene/control/TextInputControl.html#selectionProperty) on the existing text and style the selection in a css style sheet.","body":"Dont create new text, set <a href=\"https://openjfx.io/javadoc/17/javafx.controls/javafx/scene/control/TextInputControl.html#selectionProperty\" rel=\"nofollow noreferrer\">the selection</a> on the existing text and style the selection in a css style sheet."}],"answers":[{"tags":[],"owner":{"account_id":7717111,"reputation":8764,"user_id":5844477,"display_name":"Sai Dandem"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1695173909,"creation_date":1695173909,"answer_id":77138802,"question_id":77124891,"body_markdown":"+1 for all the suggestions provided in the comments. I do recommend to use TextFlow for getting a better styled text. \r\n\r\nI also like @jewelsea suggestion of selecting the required text (to keep it simple) . But keep a note that, this approach has few limitations. You can only change the color but not the text style. And the selection/highlighting will be cleared, the moment you try to select the text manually.\r\n\r\nBut if you say you need to get this behavior with TextArea and you need to still have the selection behavior (while your text is highlighted), you can check the below solution.\r\n\r\nFirstly, I recommend to work with a Stage rather than using Dialog. This way you have better control over the buttons.\r\n\r\nSecondly, I created a custom TextArea control, that has an extra feature of highlighting the text. This logic is same as how TextArea selection works (like using Path for building selection area). And for this Path, I am using BlendMode.ADD to let the color apply on text instead of background.\r\n\r\nThe complete working demo is below. This is just to give you some ideas. If you think this looks like an overkill for your requirement, then ignore this approach and stick to @jewelsea suggestion.\r\n\r\n*Note: This may not cover all scenarios. Check the logic thoroughly and fix if you are going with this approach* ;)\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n    import javafx.application.Application;\r\n    import javafx.beans.property.IntegerProperty;\r\n    import javafx.beans.property.SimpleIntegerProperty;\r\n    import javafx.geometry.Insets;\r\n    import javafx.geometry.Point2D;\r\n    import javafx.geometry.Pos;\r\n    import javafx.geometry.Rectangle2D;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.Button;\r\n    import javafx.scene.control.Label;\r\n    import javafx.scene.control.TextArea;\r\n    import javafx.scene.control.TextField;\r\n    import javafx.scene.control.skin.TextAreaSkin;\r\n    import javafx.scene.effect.BlendMode;\r\n    import javafx.scene.layout.*;\r\n    import javafx.scene.shape.LineTo;\r\n    import javafx.scene.shape.MoveTo;\r\n    import javafx.scene.shape.Path;\r\n    import javafx.scene.shape.PathElement;\r\n    import javafx.stage.Stage;\r\n    import javafx.stage.StageStyle;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.regex.Matcher;\r\n    import java.util.regex.Pattern;\r\n    \r\n    public class TextAreaSearchDemo extends Application {\r\n        String text = &quot;One day he was sitting on a rock, watching the goats, and he heard something in the bushes.&quot; +\r\n                &quot;A lion was moving slowly toward one of the goats. Wilson knew that he had to be brave.&quot; +\r\n                &quot;He thought about what he had learned from his father. He sat quietly, waiting for the right&quot; +\r\n                &quot;moment. He knew that if he did the wrong thing, the lion would kill him. Wilson lifted his&quot; +\r\n                &quot;spear and moved quietly toward the lion. When the lion saw him he looked him in the eye.&quot; +\r\n                &quot;They both froze. Wilson remembered all that his father had told him about being brave.&quot; +\r\n                &quot;He knew that he could throw his spear and kill the lion. Suddenly the lion turned away and&quot; +\r\n                &quot;disappeared over the rocks. Wilson stood strong and watched. After the danger passed he&quot; +\r\n                &quot;took a deep breath. He felt the sun on his face and put down his spear. Wilson knew that he&quot; +\r\n                &quot;could take care of the people in his family and his tribe.&quot;;\r\n    \r\n        @Override\r\n        public void start(final Stage stage) throws Exception {\r\n            Button search = new Button(&quot;Search&quot;);\r\n            CustomTextArea textArea = new CustomTextArea();\r\n            textArea.setText(text);\r\n            textArea.setWrapText(true);\r\n            VBox.setVgrow(textArea, Priority.ALWAYS);\r\n    \r\n            search.setOnAction(e -&gt; {\r\n                IntegerProperty index = new SimpleIntegerProperty(-1);\r\n    \r\n                TextField textField = new TextField();\r\n                textField.textProperty().addListener(p -&gt; index.set(-1));\r\n                HBox pane = new HBox(10, new Label(&quot;Enter the search phrase&quot;), textField);\r\n    \r\n                Button nextBtn = new Button(&quot;Next&quot;);\r\n                Button prevBtn = new Button(&quot;Previous&quot;);\r\n                nextBtn.setOnAction(e1 -&gt; handleSearch(textField.getText(), true, textArea, index));\r\n                prevBtn.setOnAction(e1 -&gt; handleSearch(textField.getText(), false, textArea, index));\r\n                HBox btnPane = new HBox(10, nextBtn, prevBtn);\r\n                btnPane.setAlignment(Pos.CENTER);\r\n    \r\n                VBox root = new VBox(20, pane, btnPane);\r\n                root.setPadding(new Insets(20));\r\n    \r\n                Stage dialog = new Stage();\r\n                dialog.initStyle(StageStyle.UTILITY);\r\n                dialog.setTitle(&quot;Find&quot;);\r\n                dialog.setScene(new Scene(root, 350, 150));\r\n                dialog.show();\r\n            });\r\n    \r\n            VBox root = new VBox(15, search, textArea);\r\n            root.setPadding(new Insets(10));\r\n            Scene scene = new Scene(root, 300, 400);\r\n            stage.setScene(scene);\r\n            stage.setTitle(&quot;TextArea Search&quot;);\r\n            stage.show();\r\n        }\r\n    \r\n        private void handleSearch(final String text, final boolean isNext, CustomTextArea textArea, IntegerProperty index) {\r\n            if (text == null || text.isEmpty()) {\r\n                return;\r\n            }\r\n    \r\n            int newIndex = isNext ? index.get() + 1 : index.get() - 1;\r\n            Pattern pattern = Pattern.compile(text);\r\n            Matcher matcher = pattern.matcher(textArea.getText());\r\n            int count = 0;\r\n            while (matcher.find()) {\r\n                if (count == newIndex) {\r\n                    textArea.highlightRange(matcher.start(), matcher.end() - 1);\r\n                    index.set(newIndex);\r\n                    break;\r\n                }\r\n                count++;\r\n            }\r\n        }\r\n    \r\n        class CustomTextArea extends TextArea {\r\n            /**\r\n             * Start index of the highlight.\r\n             */\r\n            private int highlightStartIndex;\r\n    \r\n            /**\r\n             * End index of the highlight.\r\n             */\r\n            private int highlightEndIndex;\r\n    \r\n            /**\r\n             * Rectangle node to act as highlight.\r\n             */\r\n            private final Path highlightPath;\r\n    \r\n            /**\r\n             * Node to keep reference of the all contents of the TextArea.\r\n             */\r\n            private StackPane contentPane;\r\n    \r\n            boolean highlightRequired = false;\r\n    \r\n            public CustomTextArea() {\r\n                /* Setting default values */\r\n                highlightStartIndex = -1;\r\n                highlightEndIndex = -1;\r\n    \r\n                /* Settings for text highlighting */\r\n                highlightPath = new Path();\r\n                highlightPath.getStyleClass().add(&quot;textarea-highlight&quot;);\r\n                highlightPath.setMouseTransparent(true);\r\n                highlightPath.setManaged(false);\r\n                highlightPath.setStroke(null);\r\n                highlightPath.setStyle(&quot;-fx-fill:red;-fx-stroke-width:0px;&quot;);\r\n                highlightPath.setBlendMode(BlendMode.ADD);\r\n    \r\n                textProperty().addListener((obs, oldVal, newVal) -&gt; removeHighlight());\r\n                /*\r\n                 * When the width of the TextArea changes, we need to update the selection path bounds.\r\n                 */\r\n                widthProperty().addListener((obs, oldVal, newVal) -&gt; {\r\n                    if (highlightStartIndex &gt; -1) {\r\n                        doHighlightIndex();\r\n                    }\r\n                });\r\n    \r\n                needsLayoutProperty().addListener((obs, oldval, needsLayout) -&gt; {\r\n                    if (!needsLayout &amp;&amp; highlightRequired) {\r\n                        doHighlightIndex();\r\n                        highlightRequired = false;\r\n                    }\r\n                });\r\n            }\r\n    \r\n            /**\r\n             * Removes the highlight in the text area.\r\n             */\r\n            public final void removeHighlight() {\r\n                if (contentPane != null) {\r\n                    contentPane.getChildren().remove(highlightPath);\r\n                }\r\n                highlightStartIndex = -1;\r\n                highlightEndIndex = -1;\r\n            }\r\n    \r\n            /**\r\n             * Highlights the character at the provided index in the text area.\r\n             *\r\n             * @param highlightPos Position of the character in the text\r\n             */\r\n            public final void highlight(final int highlightPos) {\r\n                highlightRange(highlightPos, highlightPos);\r\n            }\r\n    \r\n            /**\r\n             * Highlights the characters for the provided index range in the text area.\r\n             *\r\n             * @param start Start character index for highlighting\r\n             * @param end   End character index for highlighting\r\n             */\r\n            public final void highlightRange(final int start, final int end) {\r\n                if (end &lt; start) {\r\n                    throw new IllegalArgumentException(&quot;Caret cannot be less than the anchor index&quot;);\r\n                }\r\n                if (getLength() &gt; 0) {\r\n                    highlightStartIndex = start;\r\n                    highlightEndIndex = end;\r\n    \r\n                    if (highlightStartIndex &gt;= getLength()) {\r\n                        highlightStartIndex = getLength() - 1;\r\n                    } else if (highlightStartIndex &lt; 0) {\r\n                        highlightStartIndex = 0;\r\n                    }\r\n    \r\n                    if (highlightEndIndex &gt;= getLength()) {\r\n                        highlightEndIndex = getLength() - 1;\r\n                    } else if (highlightEndIndex &lt; 0) {\r\n                        highlightEndIndex = 0;\r\n                    }\r\n    \r\n                    if (getSkin() != null) {\r\n                        doHighlightIndex();\r\n                    } else {\r\n                        highlightRequired = true;\r\n                    }\r\n                }\r\n    \r\n            }\r\n    \r\n            /**\r\n             * Highlights the character at the specified index.\r\n             */\r\n            private void doHighlightIndex() {\r\n                if (highlightStartIndex &gt; -1) {\r\n                    /* Compute the highlight bounds based on the index range. Handles multi line highlighting as well. */\r\n                    List&lt;HighlightBound&gt; highlightBounds = computeHighlightBounds();\r\n    \r\n                    /* Building the selection path based on the character bounds */\r\n                    final List&lt;PathElement&gt; elements = new ArrayList&lt;&gt;();\r\n                    highlightBounds.forEach(bound -&gt; {\r\n                        elements.add(new MoveTo(bound.point1.getX(), bound.point1.getY()));\r\n                        elements.add(new LineTo(bound.point2.getX(), bound.point2.getY()));\r\n                        elements.add(new LineTo(bound.point3.getX(), bound.point3.getY()));\r\n                        elements.add(new LineTo(bound.point4.getX(), bound.point4.getY()));\r\n                        elements.add(new LineTo(bound.point1.getX(), bound.point1.getY()));\r\n                    });\r\n                    highlightPath.getElements().clear();\r\n                    highlightPath.getElements().addAll(elements);\r\n    \r\n                    /* Ensuring to lookup contentPane if it not yet loaded */\r\n                    if (contentPane == null) {\r\n                        lookupContentPane();\r\n                    }\r\n    \r\n                    /* If the highlightPath is not yet added in the pane then adding in the contentPane */\r\n                    if (contentPane != null &amp;&amp; !contentPane.getChildren().contains(highlightPath)) {\r\n                        contentPane.getChildren().add(highlightPath);\r\n                    }\r\n                }\r\n            }\r\n    \r\n            /**\r\n             * Lookup for the content pane in which all nodes are rendered.\r\n             */\r\n            private void lookupContentPane() {\r\n                final Region content = (Region) lookup(&quot;.content&quot;);\r\n                if (content != null) {\r\n                    contentPane = (StackPane) content.getParent();\r\n                }\r\n            }\r\n    \r\n            @Override\r\n            protected final void layoutChildren() {\r\n                super.layoutChildren();\r\n                /*\r\n                 * Looking for appropriate nodes that are required to determine text selection. Using these nodes, we build\r\n                 * an extra node(Path) inside the TextArea to show the custom selection.\r\n                 */\r\n                if (contentPane == null) {\r\n                    lookupContentPane();\r\n                }\r\n            }\r\n    \r\n            public Path getHighlightPath() {\r\n                return highlightPath;\r\n            }\r\n    \r\n            /**\r\n             * Computes the bounds for each highlight line based on the provided highlight indexes.\r\n             *\r\n             * @return List of HighLightBounds for multiple lines\r\n             */\r\n            private List&lt;HighlightBound&gt; computeHighlightBounds() {\r\n                final List&lt;HighlightBound&gt; list = new ArrayList&lt;&gt;();\r\n                /* If it is single character highlighting, including only one character bounds. */\r\n                if (highlightEndIndex &lt;= highlightStartIndex) {\r\n                    /* If it is single character highlighting, including only one character bounds. */\r\n                    final Rectangle2D bounds = ((TextAreaSkin) getSkin()).getCharacterBounds(highlightStartIndex);\r\n                    list.add(new HighlightBound(bounds.getMinX(), bounds.getMinY(), bounds.getMaxX(), bounds.getMaxY()));\r\n                    return list;\r\n                }\r\n    \r\n                /* If it is a range highlighting... */\r\n                double minX = -1;\r\n                double minY = -1;\r\n                double maxX = -1;\r\n                double maxY = -1;\r\n                /*\r\n                 * Looping through each character in the range and taking its bound to compute each line highlight bound\r\n                 */\r\n                for (int index = highlightStartIndex; index &lt;= highlightEndIndex; index++) {\r\n                    final Rectangle2D bounds = ((TextAreaSkin) getSkin()).getCharacterBounds(index);\r\n                    if (index == highlightStartIndex) {\r\n                        minX = bounds.getMinX();\r\n                        minY = bounds.getMinY();\r\n                        maxX = bounds.getMaxX();\r\n                        maxY = bounds.getMaxY();\r\n                    } else {\r\n                        /* If the new character minX is less than previous minX, then it is a new line */\r\n                        if (bounds.getMinX() &lt;= minX) {\r\n                            /* Registering the previous bounds for the line */\r\n                            list.add(new HighlightBound(minX, minY, maxX, maxY));\r\n    \r\n                            /* ... and starting a new line bounds */\r\n                            minX = bounds.getMinX();\r\n                            minY = bounds.getMinY();\r\n                            maxX = bounds.getMaxX();\r\n                            maxY = bounds.getMaxY();\r\n                        } else {\r\n                            /*\r\n                             * If the character falls next to the previous character, then updating the highlight end\r\n                             * bounds\r\n                             */\r\n                            maxX = bounds.getMaxX();\r\n                            maxY = bounds.getMaxY();\r\n                        }\r\n                    }\r\n                }\r\n    \r\n                /* Registering the last highlight bound */\r\n                if (minX &gt; -1) {\r\n                    list.add(new HighlightBound(minX, minY, maxX, maxY));\r\n                }\r\n                return list;\r\n            }\r\n    \r\n            /**\r\n             * Class to hold the bounds of the highlight for each line. This class provided the four corners of the bounds.\r\n             */\r\n            final class HighlightBound {\r\n                /* Top left point of the bound */\r\n                private final Point2D point1;\r\n                /* Top right point of the bound */\r\n                private final Point2D point2;\r\n                /* Bottom right point of the bound */\r\n                private final Point2D point3;\r\n                /* Bottom left point of the bound */\r\n                private final Point2D point4;\r\n    \r\n                /**\r\n                 * Constructor\r\n                 *\r\n                 * @param minX Minimun X value of the bound\r\n                 * @param minY Minimum Y value of the bound\r\n                 * @param maxX Maximum X value of the bound\r\n                 * @param maxY Maximum Y value of the bound\r\n                 */\r\n                public HighlightBound(double minX, double minY, double maxX, double maxY) {\r\n                    point1 = new Point2D(minX, minY);\r\n                    point2 = new Point2D(maxX, minY);\r\n                    point3 = new Point2D(maxX, maxY);\r\n                    point4 = new Point2D(minX, maxY);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wr2tL.gif","title":"How to search and format text block in Text Area with javafx","body":"<p>+1 for all the suggestions provided in the comments. I do recommend to use TextFlow for getting a better styled text.</p>\n<p>I also like @jewelsea suggestion of selecting the required text (to keep it simple) . But keep a note that, this approach has few limitations. You can only change the color but not the text style. And the selection/highlighting will be cleared, the moment you try to select the text manually.</p>\n<p>But if you say you need to get this behavior with TextArea and you need to still have the selection behavior (while your text is highlighted), you can check the below solution.</p>\n<p>Firstly, I recommend to work with a Stage rather than using Dialog. This way you have better control over the buttons.</p>\n<p>Secondly, I created a custom TextArea control, that has an extra feature of highlighting the text. This logic is same as how TextArea selection works (like using Path for building selection area). And for this Path, I am using BlendMode.ADD to let the color apply on text instead of background.</p>\n<p>The complete working demo is below. This is just to give you some ideas. If you think this looks like an overkill for your requirement, then ignore this approach and stick to @jewelsea suggestion.</p>\n<p><em>Note: This may not cover all scenarios. Check the logic thoroughly and fix if you are going with this approach</em> ;)</p>\n<p><a href=\"https://i.stack.imgur.com/wr2tL.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wr2tL.gif\" alt=\"enter image description here\" /></a></p>\n<pre><code>import javafx.application.Application;\nimport javafx.beans.property.IntegerProperty;\nimport javafx.beans.property.SimpleIntegerProperty;\nimport javafx.geometry.Insets;\nimport javafx.geometry.Point2D;\nimport javafx.geometry.Pos;\nimport javafx.geometry.Rectangle2D;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.Label;\nimport javafx.scene.control.TextArea;\nimport javafx.scene.control.TextField;\nimport javafx.scene.control.skin.TextAreaSkin;\nimport javafx.scene.effect.BlendMode;\nimport javafx.scene.layout.*;\nimport javafx.scene.shape.LineTo;\nimport javafx.scene.shape.MoveTo;\nimport javafx.scene.shape.Path;\nimport javafx.scene.shape.PathElement;\nimport javafx.stage.Stage;\nimport javafx.stage.StageStyle;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\npublic class TextAreaSearchDemo extends Application {\n    String text = &quot;One day he was sitting on a rock, watching the goats, and he heard something in the bushes.&quot; +\n            &quot;A lion was moving slowly toward one of the goats. Wilson knew that he had to be brave.&quot; +\n            &quot;He thought about what he had learned from his father. He sat quietly, waiting for the right&quot; +\n            &quot;moment. He knew that if he did the wrong thing, the lion would kill him. Wilson lifted his&quot; +\n            &quot;spear and moved quietly toward the lion. When the lion saw him he looked him in the eye.&quot; +\n            &quot;They both froze. Wilson remembered all that his father had told him about being brave.&quot; +\n            &quot;He knew that he could throw his spear and kill the lion. Suddenly the lion turned away and&quot; +\n            &quot;disappeared over the rocks. Wilson stood strong and watched. After the danger passed he&quot; +\n            &quot;took a deep breath. He felt the sun on his face and put down his spear. Wilson knew that he&quot; +\n            &quot;could take care of the people in his family and his tribe.&quot;;\n\n    @Override\n    public void start(final Stage stage) throws Exception {\n        Button search = new Button(&quot;Search&quot;);\n        CustomTextArea textArea = new CustomTextArea();\n        textArea.setText(text);\n        textArea.setWrapText(true);\n        VBox.setVgrow(textArea, Priority.ALWAYS);\n\n        search.setOnAction(e -&gt; {\n            IntegerProperty index = new SimpleIntegerProperty(-1);\n\n            TextField textField = new TextField();\n            textField.textProperty().addListener(p -&gt; index.set(-1));\n            HBox pane = new HBox(10, new Label(&quot;Enter the search phrase&quot;), textField);\n\n            Button nextBtn = new Button(&quot;Next&quot;);\n            Button prevBtn = new Button(&quot;Previous&quot;);\n            nextBtn.setOnAction(e1 -&gt; handleSearch(textField.getText(), true, textArea, index));\n            prevBtn.setOnAction(e1 -&gt; handleSearch(textField.getText(), false, textArea, index));\n            HBox btnPane = new HBox(10, nextBtn, prevBtn);\n            btnPane.setAlignment(Pos.CENTER);\n\n            VBox root = new VBox(20, pane, btnPane);\n            root.setPadding(new Insets(20));\n\n            Stage dialog = new Stage();\n            dialog.initStyle(StageStyle.UTILITY);\n            dialog.setTitle(&quot;Find&quot;);\n            dialog.setScene(new Scene(root, 350, 150));\n            dialog.show();\n        });\n\n        VBox root = new VBox(15, search, textArea);\n        root.setPadding(new Insets(10));\n        Scene scene = new Scene(root, 300, 400);\n        stage.setScene(scene);\n        stage.setTitle(&quot;TextArea Search&quot;);\n        stage.show();\n    }\n\n    private void handleSearch(final String text, final boolean isNext, CustomTextArea textArea, IntegerProperty index) {\n        if (text == null || text.isEmpty()) {\n            return;\n        }\n\n        int newIndex = isNext ? index.get() + 1 : index.get() - 1;\n        Pattern pattern = Pattern.compile(text);\n        Matcher matcher = pattern.matcher(textArea.getText());\n        int count = 0;\n        while (matcher.find()) {\n            if (count == newIndex) {\n                textArea.highlightRange(matcher.start(), matcher.end() - 1);\n                index.set(newIndex);\n                break;\n            }\n            count++;\n        }\n    }\n\n    class CustomTextArea extends TextArea {\n        /**\n         * Start index of the highlight.\n         */\n        private int highlightStartIndex;\n\n        /**\n         * End index of the highlight.\n         */\n        private int highlightEndIndex;\n\n        /**\n         * Rectangle node to act as highlight.\n         */\n        private final Path highlightPath;\n\n        /**\n         * Node to keep reference of the all contents of the TextArea.\n         */\n        private StackPane contentPane;\n\n        boolean highlightRequired = false;\n\n        public CustomTextArea() {\n            /* Setting default values */\n            highlightStartIndex = -1;\n            highlightEndIndex = -1;\n\n            /* Settings for text highlighting */\n            highlightPath = new Path();\n            highlightPath.getStyleClass().add(&quot;textarea-highlight&quot;);\n            highlightPath.setMouseTransparent(true);\n            highlightPath.setManaged(false);\n            highlightPath.setStroke(null);\n            highlightPath.setStyle(&quot;-fx-fill:red;-fx-stroke-width:0px;&quot;);\n            highlightPath.setBlendMode(BlendMode.ADD);\n\n            textProperty().addListener((obs, oldVal, newVal) -&gt; removeHighlight());\n            /*\n             * When the width of the TextArea changes, we need to update the selection path bounds.\n             */\n            widthProperty().addListener((obs, oldVal, newVal) -&gt; {\n                if (highlightStartIndex &gt; -1) {\n                    doHighlightIndex();\n                }\n            });\n\n            needsLayoutProperty().addListener((obs, oldval, needsLayout) -&gt; {\n                if (!needsLayout &amp;&amp; highlightRequired) {\n                    doHighlightIndex();\n                    highlightRequired = false;\n                }\n            });\n        }\n\n        /**\n         * Removes the highlight in the text area.\n         */\n        public final void removeHighlight() {\n            if (contentPane != null) {\n                contentPane.getChildren().remove(highlightPath);\n            }\n            highlightStartIndex = -1;\n            highlightEndIndex = -1;\n        }\n\n        /**\n         * Highlights the character at the provided index in the text area.\n         *\n         * @param highlightPos Position of the character in the text\n         */\n        public final void highlight(final int highlightPos) {\n            highlightRange(highlightPos, highlightPos);\n        }\n\n        /**\n         * Highlights the characters for the provided index range in the text area.\n         *\n         * @param start Start character index for highlighting\n         * @param end   End character index for highlighting\n         */\n        public final void highlightRange(final int start, final int end) {\n            if (end &lt; start) {\n                throw new IllegalArgumentException(&quot;Caret cannot be less than the anchor index&quot;);\n            }\n            if (getLength() &gt; 0) {\n                highlightStartIndex = start;\n                highlightEndIndex = end;\n\n                if (highlightStartIndex &gt;= getLength()) {\n                    highlightStartIndex = getLength() - 1;\n                } else if (highlightStartIndex &lt; 0) {\n                    highlightStartIndex = 0;\n                }\n\n                if (highlightEndIndex &gt;= getLength()) {\n                    highlightEndIndex = getLength() - 1;\n                } else if (highlightEndIndex &lt; 0) {\n                    highlightEndIndex = 0;\n                }\n\n                if (getSkin() != null) {\n                    doHighlightIndex();\n                } else {\n                    highlightRequired = true;\n                }\n            }\n\n        }\n\n        /**\n         * Highlights the character at the specified index.\n         */\n        private void doHighlightIndex() {\n            if (highlightStartIndex &gt; -1) {\n                /* Compute the highlight bounds based on the index range. Handles multi line highlighting as well. */\n                List&lt;HighlightBound&gt; highlightBounds = computeHighlightBounds();\n\n                /* Building the selection path based on the character bounds */\n                final List&lt;PathElement&gt; elements = new ArrayList&lt;&gt;();\n                highlightBounds.forEach(bound -&gt; {\n                    elements.add(new MoveTo(bound.point1.getX(), bound.point1.getY()));\n                    elements.add(new LineTo(bound.point2.getX(), bound.point2.getY()));\n                    elements.add(new LineTo(bound.point3.getX(), bound.point3.getY()));\n                    elements.add(new LineTo(bound.point4.getX(), bound.point4.getY()));\n                    elements.add(new LineTo(bound.point1.getX(), bound.point1.getY()));\n                });\n                highlightPath.getElements().clear();\n                highlightPath.getElements().addAll(elements);\n\n                /* Ensuring to lookup contentPane if it not yet loaded */\n                if (contentPane == null) {\n                    lookupContentPane();\n                }\n\n                /* If the highlightPath is not yet added in the pane then adding in the contentPane */\n                if (contentPane != null &amp;&amp; !contentPane.getChildren().contains(highlightPath)) {\n                    contentPane.getChildren().add(highlightPath);\n                }\n            }\n        }\n\n        /**\n         * Lookup for the content pane in which all nodes are rendered.\n         */\n        private void lookupContentPane() {\n            final Region content = (Region) lookup(&quot;.content&quot;);\n            if (content != null) {\n                contentPane = (StackPane) content.getParent();\n            }\n        }\n\n        @Override\n        protected final void layoutChildren() {\n            super.layoutChildren();\n            /*\n             * Looking for appropriate nodes that are required to determine text selection. Using these nodes, we build\n             * an extra node(Path) inside the TextArea to show the custom selection.\n             */\n            if (contentPane == null) {\n                lookupContentPane();\n            }\n        }\n\n        public Path getHighlightPath() {\n            return highlightPath;\n        }\n\n        /**\n         * Computes the bounds for each highlight line based on the provided highlight indexes.\n         *\n         * @return List of HighLightBounds for multiple lines\n         */\n        private List&lt;HighlightBound&gt; computeHighlightBounds() {\n            final List&lt;HighlightBound&gt; list = new ArrayList&lt;&gt;();\n            /* If it is single character highlighting, including only one character bounds. */\n            if (highlightEndIndex &lt;= highlightStartIndex) {\n                /* If it is single character highlighting, including only one character bounds. */\n                final Rectangle2D bounds = ((TextAreaSkin) getSkin()).getCharacterBounds(highlightStartIndex);\n                list.add(new HighlightBound(bounds.getMinX(), bounds.getMinY(), bounds.getMaxX(), bounds.getMaxY()));\n                return list;\n            }\n\n            /* If it is a range highlighting... */\n            double minX = -1;\n            double minY = -1;\n            double maxX = -1;\n            double maxY = -1;\n            /*\n             * Looping through each character in the range and taking its bound to compute each line highlight bound\n             */\n            for (int index = highlightStartIndex; index &lt;= highlightEndIndex; index++) {\n                final Rectangle2D bounds = ((TextAreaSkin) getSkin()).getCharacterBounds(index);\n                if (index == highlightStartIndex) {\n                    minX = bounds.getMinX();\n                    minY = bounds.getMinY();\n                    maxX = bounds.getMaxX();\n                    maxY = bounds.getMaxY();\n                } else {\n                    /* If the new character minX is less than previous minX, then it is a new line */\n                    if (bounds.getMinX() &lt;= minX) {\n                        /* Registering the previous bounds for the line */\n                        list.add(new HighlightBound(minX, minY, maxX, maxY));\n\n                        /* ... and starting a new line bounds */\n                        minX = bounds.getMinX();\n                        minY = bounds.getMinY();\n                        maxX = bounds.getMaxX();\n                        maxY = bounds.getMaxY();\n                    } else {\n                        /*\n                         * If the character falls next to the previous character, then updating the highlight end\n                         * bounds\n                         */\n                        maxX = bounds.getMaxX();\n                        maxY = bounds.getMaxY();\n                    }\n                }\n            }\n\n            /* Registering the last highlight bound */\n            if (minX &gt; -1) {\n                list.add(new HighlightBound(minX, minY, maxX, maxY));\n            }\n            return list;\n        }\n\n        /**\n         * Class to hold the bounds of the highlight for each line. This class provided the four corners of the bounds.\n         */\n        final class HighlightBound {\n            /* Top left point of the bound */\n            private final Point2D point1;\n            /* Top right point of the bound */\n            private final Point2D point2;\n            /* Bottom right point of the bound */\n            private final Point2D point3;\n            /* Bottom left point of the bound */\n            private final Point2D point4;\n\n            /**\n             * Constructor\n             *\n             * @param minX Minimun X value of the bound\n             * @param minY Minimum Y value of the bound\n             * @param maxX Maximum X value of the bound\n             * @param maxY Maximum Y value of the bound\n             */\n            public HighlightBound(double minX, double minY, double maxX, double maxY) {\n                point1 = new Point2D(minX, minY);\n                point2 = new Point2D(maxX, minY);\n                point3 = new Point2D(maxX, maxY);\n                point4 = new Point2D(minX, maxY);\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695342443,"creation_date":1695342443,"answer_id":77154288,"question_id":77124891,"body_markdown":"A basic search implementation leveraging the text selection capability of TextArea.  \r\n\r\nThis works (somewhat) similarly to the Windows Notepad app and the Mac TextEdit app, but with a bit less bling.\r\n\r\n[![search][1]][1]\r\n\r\nThe example screen shows the output after pressing the next button twice.\r\n\r\nIf a more sophisticated solution is required, look at [Sai&#39;s answer][2].\r\n\r\nThere are a lot of subtle corner cases, like whether to disable or disable next and previous buttons if no next match is available in a given direction and if not, how to handle such a situation (in this solution&#39;s case it just removes the selection).  So the solution may need adjustments and may not be directly applicable to your case.  Also, the solution has been minimally tested, so may have some errors (if using it in your application test it thoroughly first).  \r\n\r\nThe solution is based on a non-editable text area.  It might also work with an editable text area, but I didn&#39;t try it.\r\n\r\n    import javafx.application.Application;\r\n    import javafx.geometry.Insets;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.Button;\r\n    import javafx.scene.control.IndexRange;\r\n    import javafx.scene.control.TextArea;\r\n    import javafx.scene.control.TextField;\r\n    import javafx.scene.layout.HBox;\r\n    import javafx.scene.layout.VBox;\r\n    import javafx.stage.Stage;\r\n    \r\n    public class FindItApp extends Application {\r\n        private final TextField searchBox = new TextField(DEFAULT_SEARCH_TEXT);\r\n        private final Button previous = new Button(&quot;&lt;&quot;);\r\n        private final Button next = new Button(&quot;&gt;&quot;);\r\n    \r\n        private final TextArea textArea = new TextArea(TEXT);\r\n    \r\n        @Override\r\n        public void start(Stage stage) {\r\n            previous.setOnAction(e -&gt; findPrevious());\r\n            next.setOnAction(e -&gt; findNext());\r\n    \r\n            searchBox.setOnAction(e -&gt; next.fire());\r\n    \r\n            HBox controls = new HBox(10, searchBox, previous, next);\r\n    \r\n            textArea.setEditable(false);\r\n    \r\n            VBox layout = new VBox(10, controls, textArea);\r\n            layout.setPadding(new Insets(10));\r\n            stage.setScene(new Scene(layout, 250, 200));\r\n            stage.show();\r\n        }\r\n    \r\n        private void findPrevious() {\r\n            String text = textArea.getText();\r\n            String searchText = searchBox.getText();\r\n    \r\n            if (text == null || text.isEmpty() || searchText == null || searchText.isEmpty()) {\r\n                textArea.selectRange(0,0);\r\n                return;\r\n            }\r\n    \r\n            IndexRange selection = textArea.getSelection();\r\n            int endPos = selection == null || selection.getStart() == 0 ? text.length() : selection.getStart();\r\n            int textPos = text.substring(0, endPos).lastIndexOf(searchText);\r\n            if (textPos == -1) {\r\n                textArea.selectRange(0,0);\r\n                return;\r\n            }\r\n    \r\n            textArea.selectRange(textPos, textPos + searchText.length());\r\n        }\r\n    \r\n        private void findNext() {\r\n            String text = textArea.getText();\r\n            String searchText = searchBox.getText();\r\n    \r\n            if (text == null || text.isEmpty() || searchText == null || searchText.isEmpty()) {\r\n                textArea.selectRange(0,0);\r\n                return;\r\n            }\r\n    \r\n            IndexRange selection = textArea.getSelection();\r\n            int startPos = selection != null ? selection.getEnd() : 0;\r\n            int textPos = text.indexOf(searchText, startPos);\r\n            if (textPos == -1) {\r\n                textArea.selectRange(0,0);\r\n                return;\r\n            }\r\n    \r\n            textArea.selectRange(textPos, textPos + searchText.length());\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch(args);\r\n        }\r\n    \r\n        private static final String TEXT = &quot;&quot;&quot;\r\n                If we shadows have offended,\r\n                Think but this, and all is mended,\r\n                That you have but slumberd here,\r\n                While these visions did appear,\r\n                And this weak and idle theme,\r\n                No more yielding, but a dream.\r\n                &quot;&quot;&quot;;\r\n        \r\n        private static final String DEFAULT_SEARCH_TEXT = &quot;but&quot;;\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/RZAQL.png\r\n  [2]: https://stackoverflow.com/a/77138802/1155209","title":"How to search and format text block in Text Area with javafx","body":"<p>A basic search implementation leveraging the text selection capability of TextArea.</p>\n<p>This works (somewhat) similarly to the Windows Notepad app and the Mac TextEdit app, but with a bit less bling.</p>\n<p><a href=\"https://i.stack.imgur.com/RZAQL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RZAQL.png\" alt=\"search\" /></a></p>\n<p>The example screen shows the output after pressing the next button twice.</p>\n<p>If a more sophisticated solution is required, look at <a href=\"https://stackoverflow.com/a/77138802/1155209\">Sai's answer</a>.</p>\n<p>There are a lot of subtle corner cases, like whether to disable or disable next and previous buttons if no next match is available in a given direction and if not, how to handle such a situation (in this solution's case it just removes the selection).  So the solution may need adjustments and may not be directly applicable to your case.  Also, the solution has been minimally tested, so may have some errors (if using it in your application test it thoroughly first).</p>\n<p>The solution is based on a non-editable text area.  It might also work with an editable text area, but I didn't try it.</p>\n<pre><code>import javafx.application.Application;\nimport javafx.geometry.Insets;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.IndexRange;\nimport javafx.scene.control.TextArea;\nimport javafx.scene.control.TextField;\nimport javafx.scene.layout.HBox;\nimport javafx.scene.layout.VBox;\nimport javafx.stage.Stage;\n\npublic class FindItApp extends Application {\n    private final TextField searchBox = new TextField(DEFAULT_SEARCH_TEXT);\n    private final Button previous = new Button(&quot;&lt;&quot;);\n    private final Button next = new Button(&quot;&gt;&quot;);\n\n    private final TextArea textArea = new TextArea(TEXT);\n\n    @Override\n    public void start(Stage stage) {\n        previous.setOnAction(e -&gt; findPrevious());\n        next.setOnAction(e -&gt; findNext());\n\n        searchBox.setOnAction(e -&gt; next.fire());\n\n        HBox controls = new HBox(10, searchBox, previous, next);\n\n        textArea.setEditable(false);\n\n        VBox layout = new VBox(10, controls, textArea);\n        layout.setPadding(new Insets(10));\n        stage.setScene(new Scene(layout, 250, 200));\n        stage.show();\n    }\n\n    private void findPrevious() {\n        String text = textArea.getText();\n        String searchText = searchBox.getText();\n\n        if (text == null || text.isEmpty() || searchText == null || searchText.isEmpty()) {\n            textArea.selectRange(0,0);\n            return;\n        }\n\n        IndexRange selection = textArea.getSelection();\n        int endPos = selection == null || selection.getStart() == 0 ? text.length() : selection.getStart();\n        int textPos = text.substring(0, endPos).lastIndexOf(searchText);\n        if (textPos == -1) {\n            textArea.selectRange(0,0);\n            return;\n        }\n\n        textArea.selectRange(textPos, textPos + searchText.length());\n    }\n\n    private void findNext() {\n        String text = textArea.getText();\n        String searchText = searchBox.getText();\n\n        if (text == null || text.isEmpty() || searchText == null || searchText.isEmpty()) {\n            textArea.selectRange(0,0);\n            return;\n        }\n\n        IndexRange selection = textArea.getSelection();\n        int startPos = selection != null ? selection.getEnd() : 0;\n        int textPos = text.indexOf(searchText, startPos);\n        if (textPos == -1) {\n            textArea.selectRange(0,0);\n            return;\n        }\n\n        textArea.selectRange(textPos, textPos + searchText.length());\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n\n    private static final String TEXT = &quot;&quot;&quot;\n            If we shadows have offended,\n            Think but this, and all is mended,\n            That you have but slumberd here,\n            While these visions did appear,\n            And this weak and idle theme,\n            No more yielding, but a dream.\n            &quot;&quot;&quot;;\n    \n    private static final String DEFAULT_SEARCH_TEXT = &quot;but&quot;;\n}\n</code></pre>\n"}],"owner":{"display_name":"user16612111"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77138802,"answer_count":2,"score":1,"last_activity_date":1695342443,"creation_date":1695017696,"question_id":77124891,"body_markdown":"I have a javafx program and I am trying to locate a certain phrase in a text area. The phrase is entered by the user via a TextInputDialog control. I then handle the Next button inside the dialog that should locate and style the found text in the text area when its clicked. I pass an instance of the return type of the method `TextInputDialog.showAndWait()` to the action methods for the next button. I try to check if the result is present in the type `Optional&lt;String&gt;` and it doesn&#39;t return true or false, also checking if it&#39;s null via the method `result.isEmpty()` does not return true or false. How do I change my code to make it achieve the desired objective \r\n```\r\n//method to locate text inside the text area\r\n@FXML\r\n    protected void onLocateText(){\r\n        //show an alert for the user to enter text\r\n        TextInputDialog dialog = new TextInputDialog();\r\n        dialog.setTitle(&quot;Find&quot;);\r\n        dialog.setHeaderText(&quot;Enter the search phrase&quot;);\r\n        //set buttons for iterating through the next and previous words\r\n        ButtonType next = new ButtonType(&quot;Next&quot;, ButtonBar.ButtonData.OK_DONE);\r\n        ButtonType previous = new ButtonType(&quot;Previous&quot;,ButtonBar.ButtonData.CANCEL_CLOSE);\r\n        //what happens when the next button is clicked;\r\n        //add the buttons to the prompt\r\n        dialog.getDialogPane().getButtonTypes().setAll(next, previous);\r\n        Button nxt = (Button) dialog.getDialogPane().lookupButton(next);\r\n        Button prev = (Button) dialog.getDialogPane().lookupButton(previous);\r\n        Optional&lt;String&gt; result = dialog.showAndWait();\r\n        nxt.setOnAction(e-&gt; handleNextClick(result));\r\n        prev.setOnAction(e-&gt; handlePreviousClick(result));\r\n}\r\n```\r\nThe implementation details of handleNextClick\r\n```\r\nprivate void handleNextClick(Optional&lt;String&gt; result) {\r\n        //show and wait for the user input\r\n        if (result.isPresent()) {\r\n            //get the text entered\r\n            String text = result.get();\r\n            System.out.println(text);\r\n            //loop through the text in the text area and locate\r\n            Pattern pattern = Pattern.compile(text);\r\n            Matcher matcher = pattern.matcher(text);\r\n            while (matcher.find()) {\r\n                Text textNode = new Text(matcher.group());\r\n                textNode.setStyle(&quot;-fx-fill: red; -fx-font-weight: bold;&quot;);\r\n                //replace the matched text with the formatted text\r\n                textArea.replaceText(matcher.start(), matcher.end(), &quot;&quot;);\r\n            }\r\n        }else{\r\n            System.out.println(&quot;block returning false&quot;);\r\n        }\r\n    }\r\n```","title":"How to search and format text block in Text Area with javafx","body":"<p>I have a javafx program and I am trying to locate a certain phrase in a text area. The phrase is entered by the user via a TextInputDialog control. I then handle the Next button inside the dialog that should locate and style the found text in the text area when its clicked. I pass an instance of the return type of the method <code>TextInputDialog.showAndWait()</code> to the action methods for the next button. I try to check if the result is present in the type <code>Optional&lt;String&gt;</code> and it doesn't return true or false, also checking if it's null via the method <code>result.isEmpty()</code> does not return true or false. How do I change my code to make it achieve the desired objective</p>\n<pre><code>//method to locate text inside the text area\n@FXML\n    protected void onLocateText(){\n        //show an alert for the user to enter text\n        TextInputDialog dialog = new TextInputDialog();\n        dialog.setTitle(&quot;Find&quot;);\n        dialog.setHeaderText(&quot;Enter the search phrase&quot;);\n        //set buttons for iterating through the next and previous words\n        ButtonType next = new ButtonType(&quot;Next&quot;, ButtonBar.ButtonData.OK_DONE);\n        ButtonType previous = new ButtonType(&quot;Previous&quot;,ButtonBar.ButtonData.CANCEL_CLOSE);\n        //what happens when the next button is clicked;\n        //add the buttons to the prompt\n        dialog.getDialogPane().getButtonTypes().setAll(next, previous);\n        Button nxt = (Button) dialog.getDialogPane().lookupButton(next);\n        Button prev = (Button) dialog.getDialogPane().lookupButton(previous);\n        Optional&lt;String&gt; result = dialog.showAndWait();\n        nxt.setOnAction(e-&gt; handleNextClick(result));\n        prev.setOnAction(e-&gt; handlePreviousClick(result));\n}\n</code></pre>\n<p>The implementation details of handleNextClick</p>\n<pre><code>private void handleNextClick(Optional&lt;String&gt; result) {\n        //show and wait for the user input\n        if (result.isPresent()) {\n            //get the text entered\n            String text = result.get();\n            System.out.println(text);\n            //loop through the text in the text area and locate\n            Pattern pattern = Pattern.compile(text);\n            Matcher matcher = pattern.matcher(text);\n            while (matcher.find()) {\n                Text textNode = new Text(matcher.group());\n                textNode.setStyle(&quot;-fx-fill: red; -fx-font-weight: bold;&quot;);\n                //replace the matched text with the formatted text\n                textArea.replaceText(matcher.start(), matcher.end(), &quot;&quot;);\n            }\n        }else{\n            System.out.println(&quot;block returning false&quot;);\n        }\n    }\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1695322515,"post_id":77152730,"comment_id":136012645,"body_markdown":"You are basically answering your own question. You need the correct event to broadcast this information from. The events you mentioned (`onStart`, `onResume`, etc.) happen before the view is fully rendered. This is why when you leave and come back, you can get the information you want from the `onViewStateRestored` and/or from `onResume`. You need to find out about all of the UI events in Android and find one that fires when the application is loaded, or a view finish rendering. I am no Android expert, but I assume there is an event for those activities.","body":"You are basically answering your own question. You need the correct event to broadcast this information from. The events you mentioned (<code>onStart</code>, <code>onResume</code>, etc.) happen before the view is fully rendered. This is why when you leave and come back, you can get the information you want from the <code>onViewStateRestored</code> and/or from <code>onResume</code>. You need to find out about all of the UI events in Android and find one that fires when the application is loaded, or a view finish rendering. I am no Android expert, but I assume there is an event for those activities."},{"owner":{"account_id":918720,"reputation":943,"user_id":950907,"accept_rate":71,"display_name":"Radu"},"score":0,"creation_date":1695323076,"post_id":77152730,"comment_id":136012757,"body_markdown":"I am no Android expert either :) I tried all the events I could think of, but couldn&#39;t find one. That doesn&#39;t mean there isn&#39;t one, just that I didn&#39;t find it. Also, I thought there might be some other way, similar to the getMeasuredHeight() (or maybe some way to convert it from what getMeasuredHeight() gives me to actual pixels)?","body":"I am no Android expert either :) I tried all the events I could think of, but couldn&#39;t find one. That doesn&#39;t mean there isn&#39;t one, just that I didn&#39;t find it. Also, I thought there might be some other way, similar to the getMeasuredHeight() (or maybe some way to convert it from what getMeasuredHeight() gives me to actual pixels)?"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":1,"creation_date":1695323529,"post_id":77152730,"comment_id":136012842,"body_markdown":"Maybe you can find information [here](https://developer.android.com/topic/performance/vitals/launch-time)?","body":"Maybe you can find information <a href=\"https://developer.android.com/topic/performance/vitals/launch-time\" rel=\"nofollow noreferrer\">here</a>?"},{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":1,"creation_date":1695324658,"post_id":77152730,"comment_id":136013003,"body_markdown":"It&#39;s possible to get from a layout after it&#39;s loaded using `ViewTreeObserver`. You can find some code for this here: https://stackoverflow.com/questions/43633485/why-we-use-viewtreeobserveraddongloballayoutlistener.","body":"It&#39;s possible to get from a layout after it&#39;s loaded using <code>ViewTreeObserver</code>. You can find some code for this here: <a href=\"https://stackoverflow.com/questions/43633485/why-we-use-viewtreeobserveraddongloballayoutlistener\" title=\"why we use viewtreeobserveraddongloballayoutlistener\">stackoverflow.com/questions/43633485/&hellip;</a>."},{"owner":{"account_id":918720,"reputation":943,"user_id":950907,"accept_rate":71,"display_name":"Radu"},"score":0,"creation_date":1695326747,"post_id":77152730,"comment_id":136013336,"body_markdown":"Great, the viewitreeobserver really helped me. I put it in onStart() and when it fires it calls my function. The problem is that it fires a lot, I have to now find a way how to remove itself after firing for the first time :) (I am not really a Java guy).","body":"Great, the viewitreeobserver really helped me. I put it in onStart() and when it fires it calls my function. The problem is that it fires a lot, I have to now find a way how to remove itself after firing for the first time :) (I am not really a Java guy)."},{"owner":{"account_id":918720,"reputation":943,"user_id":950907,"accept_rate":71,"display_name":"Radu"},"score":1,"creation_date":1695327124,"post_id":77152730,"comment_id":136013401,"body_markdown":"Ok, just had to add layout.getViewTreeObserver().removeOnGlobalLayoutListener(this); at the end and it worked.  \nAlias Cartellano, post it as an answer so I can accept it.","body":"Ok, just had to add layout.getViewTreeObserver().removeOnGlobalLayoutListener(th&zwnj;&#8203;is); at the end and it worked.   Alias Cartellano, post it as an answer so I can accept it."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":1,"creation_date":1695329120,"post_id":77152730,"comment_id":136013692,"body_markdown":"@Radu you can also post your own answer. Of course, you will need to provide sufficient code to be helpful to others. I also suggest improving your question to show the minimal, reproducible code.","body":"@Radu you can also post your own answer. Of course, you will need to provide sufficient code to be helpful to others. I also suggest improving your question to show the minimal, reproducible code."}],"answers":[{"tags":[],"owner":{"account_id":918720,"reputation":943,"user_id":950907,"accept_rate":71,"display_name":"Radu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695341595,"creation_date":1695341595,"answer_id":77154258,"question_id":77152730,"body_markdown":"Ok, thanks to the help from Alias Cartellano I managed to solve it.\r\nThis is the code, in case anyone else finds it useful:\r\n\r\n```\r\n    @Override\r\n    public void onViewStateRestored(Bundle savedInstanceState) {\r\n        super.onViewStateRestored(savedInstanceState);\r\n        Log.e(TAG, &quot;On view state restored called...&quot;);\r\n\r\n        final RelativeLayout layout = (RelativeLayout) getActivity().findViewById(R.id.myRelativeLayout);\r\n\r\n        layout.getViewTreeObserver().addOnGlobalLayoutListener(new ViewTreeObserver.OnGlobalLayoutListener() {\r\n            @Override\r\n            public void onGlobalLayout() {\r\n                int height = layout.getHeight();\r\n                place_camera_buttons(height);\r\n                layout.getViewTreeObserver().removeOnGlobalLayoutListener(this);\r\n            }\r\n        });\r\n\r\n    }\r\n```","title":"How to get the height of an Android layout in Java?","body":"<p>Ok, thanks to the help from Alias Cartellano I managed to solve it.\nThis is the code, in case anyone else finds it useful:</p>\n<pre><code>    @Override\n    public void onViewStateRestored(Bundle savedInstanceState) {\n        super.onViewStateRestored(savedInstanceState);\n        Log.e(TAG, &quot;On view state restored called...&quot;);\n\n        final RelativeLayout layout = (RelativeLayout) getActivity().findViewById(R.id.myRelativeLayout);\n\n        layout.getViewTreeObserver().addOnGlobalLayoutListener(new ViewTreeObserver.OnGlobalLayoutListener() {\n            @Override\n            public void onGlobalLayout() {\n                int height = layout.getHeight();\n                place_camera_buttons(height);\n                layout.getViewTreeObserver().removeOnGlobalLayoutListener(this);\n            }\n        });\n\n    }\n</code></pre>\n"}],"owner":{"account_id":918720,"reputation":943,"user_id":950907,"accept_rate":71,"display_name":"Radu"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1695341595,"creation_date":1695320556,"question_id":77152730,"body_markdown":"I have a fragment and I want to know the layout height at runtime, somewhere like onStart() or onResume() or onViewStateRestored()\r\nI am using layout.getHeight() but it returns 0 unless if I leave the app and come back to it again.\r\nI&#39;ve read that this doesn&#39;t work because it must display the layout first, and that another method is to use layout.measure() and then layout.getMeasuredHeight()\r\nThis works better, in the sense that it returns a value, but the value is a &#39;bit&#39; off. For example I get 625 instead of ~2200\r\n\r\nI guess I could cheat a bit and get the screen height and then substract the action bar and nav bar, but this might not work well if the window is not full screen.\r\n\r\nSo any idea on how I can get the proper layout height?","title":"How to get the height of an Android layout in Java?","body":"<p>I have a fragment and I want to know the layout height at runtime, somewhere like onStart() or onResume() or onViewStateRestored()\nI am using layout.getHeight() but it returns 0 unless if I leave the app and come back to it again.\nI've read that this doesn't work because it must display the layout first, and that another method is to use layout.measure() and then layout.getMeasuredHeight()\nThis works better, in the sense that it returns a value, but the value is a 'bit' off. For example I get 625 instead of ~2200</p>\n<p>I guess I could cheat a bit and get the screen height and then substract the action bar and nav bar, but this might not work well if the window is not full screen.</p>\n<p>So any idea on how I can get the proper layout height?</p>\n"},{"tags":["java","data-structures"],"comments":[{"owner":{"account_id":21534,"reputation":59456,"user_id":52443,"display_name":"Welbog"},"score":1,"creation_date":1695306391,"post_id":77150984,"comment_id":136009307,"body_markdown":"Welcome to Stack Overflow. Instead of linking to a picture of a problem, or a picture of output, paste the problem and the output. Text is always better in text format, rather than in image format.","body":"Welcome to Stack Overflow. Instead of linking to a picture of a problem, or a picture of output, paste the problem and the output. Text is always better in text format, rather than in image format."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1695318514,"post_id":77150984,"comment_id":136011913,"body_markdown":"Off-topic: Someone who knows more about Java generics than I do should take a look at this, and possibly talk to your professor, or set me straight. The issue is here: *&quot;You can use an array of queues to simulate checkout lines.&quot;*  Java generics and arrays don&#39;t mix well. I would expect an array of queues to generate a `generic array creation` error. Instead, try `List &lt;Queue&lt;Integer&gt;&gt; checkoutLines = new ArrayList&lt;&gt; (5);`.","body":"Off-topic: Someone who knows more about Java generics than I do should take a look at this, and possibly talk to your professor, or set me straight. The issue is here: <i>&quot;You can use an array of queues to simulate checkout lines.&quot;</i>  Java generics and arrays don&#39;t mix well. I would expect an array of queues to generate a <code>generic array creation</code> error. Instead, try <code>List &lt;Queue&lt;Integer&gt;&gt; checkoutLines = new ArrayList&lt;&gt; (5);</code>."}],"answers":[{"tags":[],"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695341116,"creation_date":1695340067,"answer_id":77154194,"question_id":77150984,"body_markdown":"There is some lack of clarity in the instructions your professor gave. The instructions are open to interpretation. It may be the professor relied on students&#39; understanding of material presented in the lecture or previous assignments. However, we on Stack Overflow don&#39;t have access to that unless you update the question. It may be the students need to discuss this with the professor and request explanations. Presenting examples would be a good idea.\r\n\r\nNonetheless, I have some suggestions:\r\n\r\n**First** *&quot;Each transaction takes a random amount of time to complete.&quot;*\r\n\r\nI assume a transaction is a customer checking out. One way to handle this is to &quot;glue&quot; transaction time to a customer. Fields can be &quot;glued&quot; together through instances of a `class`. So, a `Customer` class may be appropriate:\r\n\r\n     public class Customer {\r\n       public static int nextID = 0;\r\n       private final int customerID;\r\n       private int transactionTime;  // remaining, countdown \r\n    \r\n       public Customer () { \r\n           customerID = ++nextID;\r\n           transactionTime = 10;\r\n       }\r\n    \r\n       public Customer (int time) { \r\n          customerID = ++nextID;\r\n          transactionTime = time;\r\n       }\r\n    \r\n       public int getID () { return customerID; }\r\n       public int tick () { return --transactionTime; }  \r\n       @Override\r\n       public String toString () { return &quot;Customer &quot; + customerID + &quot; &quot;; }\r\n    }\r\n\r\nThe constructor assigns customer numbers in order. I do not believe having the customer numbers in random order is a requirement. \r\n\r\nThe transaction time is number of clock ticks to complete a transaction.  \r\n\r\n**Next**, I would like to mention an issue with arrays and generics. Because of the way generics were implemented in Java, arrays and generics do not work well together. You should not create an array of a generic `Collection`. A line such as the following will generate an &quot;generic array creation&quot; compiler error: \r\n\r\n    Queue&lt;Integer&gt;[] checkoutLines = new Queue&lt;Integer&gt;[numCheckoutLines];\r\n\r\nTo get around that, you can nest generics. In the suggested code in this answer, I used this line:\r\n          \r\n    List&lt;Queue&lt;Customer&gt;&gt; checkoutLines = new ArrayList&lt;&gt;(NUM_CHECKOUT_LINES);\r\n\r\nIf you want to access a specific checkout queue, use code like the following:\r\n\r\n     Queue&lt;Customer&gt; lane = checkoutLines.get(3);\r\n\r\nThis accesses lane 3. Of course, you would replace `3` with a variable or expression that resolves to an integer.\r\n\r\nThe code for `findShortestLine` and `allQueuesEmpty` looks like this:\r\n\r\n    // Find the shortest checkout lane\r\n    private static int findShortestLine(List&lt;Queue&lt;Customer&gt;&gt; checkoutLines) {\r\n        int shortestLineIndex = 0;\r\n        int minLength = checkoutLines.size();\r\n\r\n        for (int i = 1; i &lt; checkoutLines.size(); i++) {\r\n            int length = checkoutLines.get(i).size();\r\n            if (length &lt; minLength) {\r\n                minLength = length;\r\n                shortestLineIndex = i;\r\n            }\r\n        }\r\n        return shortestLineIndex;\r\n    }\r\n\r\n    // Check if all checkout lines are empty\r\n    private static boolean allQueuesEmpty(List&lt;Queue&lt;Customer&gt;&gt; checkoutLines) {\r\n        for (Queue&lt;Customer&gt; line : checkoutLines) {\r\n            if (!line.isEmpty()) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\n**By the way**, Named constants are usually declared with `final`, and with names written in all uppercase.  The beginning of the program looks like this:\r\n\r\n        public class GroceryStore {\r\n\r\n           public static void main(String[] args) {\r\n\r\n              final int    NUM_CHECKOUT_LINES = 5;\r\n              final double PROBABILITY_CUSTOMER_JOINS = 0.35;\r\n              final int    MAX_TRANSACTION_TIME = 25;\r\n              final int    MAX_CUSTOMERS = 40;    \r\n\r\n              List&lt;Queue&lt;Customer&gt;&gt; checkoutLines\r\n                   = new ArrayList&lt;&gt;(NUM_CHECKOUT_LINES);\r\n              Random random = new Random(); \r\n\r\n - `NUM_CHECKOUT_LINES` is your `numCheckoutLines`\r\n - `MAX_CUSTOMERS` is the maximum number of customers that will be processed in one run of the simulation. It corresponds to your \r\n - `numCustomers`, but is not quite the same. \r\n - `MAX_TRANSACTION_TIME` is the maximum amount of time (ticks) a customer will take to check out.\r\n - `PROBABILITY_CUSTOMER_JOINS` is the probability that one customer will begin waiting in line in one tick. \r\n\r\n**Trivial** Since you are to &quot;Open&quot; the store with one customer in each lane, you can create the lanes and first customers at the same time. \r\n\r\n        // Initialize checkout lines\r\n        for (int i = 0; i &lt; NUM_CHECKOUT_LINES; i++) {\r\n            checkoutLines.add(new LinkedList&lt;Customer&gt;());\r\n            checkoutLines.get(i).add\r\n                (new Customer(random.nextInt(MAX_TRANSACTION_TIME)));\r\n            System.out.println (checkoutLines.get(i).peek() \r\n                    + &quot;joined queue &quot; +  i);\r\n        }\r\n\r\n**And now, the main idea:**\r\n\r\nThe main idea is to run the simulation one-clock-tick-at-a-time until all queues are empty, just as you coded in the main loop. With each tick we want to do two things:\r\n\r\n - Add a customer or not, at random. This code generates a random `double` in the range [0.0, 1.0). If the generated number exceeds `PROBABILITY_CUSTOMER_JOINS`, the customer is not added. \r\n - Decrease the remaining transaction time for the first customer in each lane by one tick. If a remaining time reaches zero, the transaction is complete, and the customer leaves the queue. \r\n\r\n             for (int time = 1; !allQueuesEmpty(checkoutLines);  time++) {\r\n                if (     Customer.nextID &lt; MAX_CUSTOMERS \r\n                      &amp;&amp; random.nextDouble() &lt; PROBABILITY_CUSTOMER_JOINS) {\r\n                int shortestLineIndex = findShortestLine(checkoutLines);\r\n                Customer customer = \r\n                   new Customer(random.nextInt(MAX_TRANSACTION_TIME));\r\n                if (checkoutLines.get(shortestLineIndex).offer(customer)) {\r\n                    System.out.println(&quot;Customer &quot; + customer.getID()\r\n                            + &quot; joined queue &quot; + (shortestLineIndex));\r\n                } else {\r\n                    System.out.println (customer \r\n                         + &quot; got frustrated and left the store &quot; \r\n                         + &quot;without checking out!&quot;);\r\n                }\r\n            }\r\n\r\n            for (int lane = 0; lane &lt; checkoutLines.size (); lane++) {\r\n                Customer customer = checkoutLines.get(lane).peek();\r\n                   if (customer == null) { continue; } // lane empty\r\n                   if (customer.tick() &lt;= 0) { \r\n                      System.out.println (customer + &quot;is checking out from queue &quot;\r\n                            + lane);\r\n                      checkoutLines.get(lane).remove();\r\n                }\r\n            }                     \r\n        }\r\n     }\r\n\r\n**Other thoughts**\r\n\r\n - It is possible the program will terminate before the number of customers generated reaches MAX_CUSTOMERS. If MAX_CUSTOMERS is reached, the program should continue to run until all customers have checked out.\r\n\r\n - You might consider having the possibility that more than one customer could get in line during one tick. \r\n\r\n - I like that you coded methods to find the shortest line, and tested for all queues empty. You might consider coding a method to add a customer. \r\n\r\n - You might want to code a consistent way of accessing a customer. I wanted to show that a customer can be accessed within a Collection by using a (temporary) `Customer` reference, and doing that without. \r\n\r\n - Do not assume this code is bug free! \r\n\r\n - Demo run:\r\n\r\n````\r\nCustomer 1 joined queue 0\r\nCustomer 2 joined queue 1\r\nCustomer 3 joined queue 2\r\nCustomer 4 joined queue 3\r\nCustomer 5 joined queue 4\r\nCustomer 6 joined queue 1\r\nCustomer 7 joined queue 2\r\nCustomer 8 joined queue 3\r\nCustomer 9 joined queue 4\r\nCustomer 10 joined queue 1\r\nCustomer 11 joined queue 2\r\nCustomer 12 joined queue 3\r\nCustomer 3 is checking out from queue 2\r\nCustomer 13 joined queue 2\r\nCustomer 14 joined queue 4\r\nCustomer 1 is checking out from queue 0\r\nCustomer 4 is checking out from queue 3\r\nCustomer 5 is checking out from queue 4\r\nCustomer 15 joined queue 3\r\nCustomer 2 is checking out from queue 1\r\nCustomer 16 joined queue 1\r\nCustomer 7 is checking out from queue 2\r\nCustomer 17 joined queue 2\r\nCustomer 6 is checking out from queue 1\r\nCustomer 18 joined queue 1\r\nCustomer 8 is checking out from queue 3\r\nCustomer 19 joined queue 3\r\nCustomer 9 is checking out from queue 4\r\nCustomer 20 joined queue 4\r\nCustomer 10 is checking out from queue 1\r\nCustomer 14 is checking out from queue 4\r\nCustomer 16 is checking out from queue 1\r\nCustomer 11 is checking out from queue 2\r\nCustomer 18 is checking out from queue 1\r\nCustomer 20 is checking out from queue 4\r\nCustomer 12 is checking out from queue 3\r\nCustomer 15 is checking out from queue 3\r\nCustomer 19 is checking out from queue 3\r\nCustomer 13 is checking out from queue 2\r\nCustomer 17 is checking out from queue 2\r\n````\r\n \r\n","title":"Grocery Checkout Lines using Queues in Java","body":"<p>There is some lack of clarity in the instructions your professor gave. The instructions are open to interpretation. It may be the professor relied on students' understanding of material presented in the lecture or previous assignments. However, we on Stack Overflow don't have access to that unless you update the question. It may be the students need to discuss this with the professor and request explanations. Presenting examples would be a good idea.</p>\n<p>Nonetheless, I have some suggestions:</p>\n<p><strong>First</strong> <em>&quot;Each transaction takes a random amount of time to complete.&quot;</em></p>\n<p>I assume a transaction is a customer checking out. One way to handle this is to &quot;glue&quot; transaction time to a customer. Fields can be &quot;glued&quot; together through instances of a <code>class</code>. So, a <code>Customer</code> class may be appropriate:</p>\n<pre><code> public class Customer {\n   public static int nextID = 0;\n   private final int customerID;\n   private int transactionTime;  // remaining, countdown \n\n   public Customer () { \n       customerID = ++nextID;\n       transactionTime = 10;\n   }\n\n   public Customer (int time) { \n      customerID = ++nextID;\n      transactionTime = time;\n   }\n\n   public int getID () { return customerID; }\n   public int tick () { return --transactionTime; }  \n   @Override\n   public String toString () { return &quot;Customer &quot; + customerID + &quot; &quot;; }\n}\n</code></pre>\n<p>The constructor assigns customer numbers in order. I do not believe having the customer numbers in random order is a requirement.</p>\n<p>The transaction time is number of clock ticks to complete a transaction.</p>\n<p><strong>Next</strong>, I would like to mention an issue with arrays and generics. Because of the way generics were implemented in Java, arrays and generics do not work well together. You should not create an array of a generic <code>Collection</code>. A line such as the following will generate an &quot;generic array creation&quot; compiler error:</p>\n<pre><code>Queue&lt;Integer&gt;[] checkoutLines = new Queue&lt;Integer&gt;[numCheckoutLines];\n</code></pre>\n<p>To get around that, you can nest generics. In the suggested code in this answer, I used this line:</p>\n<pre><code>List&lt;Queue&lt;Customer&gt;&gt; checkoutLines = new ArrayList&lt;&gt;(NUM_CHECKOUT_LINES);\n</code></pre>\n<p>If you want to access a specific checkout queue, use code like the following:</p>\n<pre><code> Queue&lt;Customer&gt; lane = checkoutLines.get(3);\n</code></pre>\n<p>This accesses lane 3. Of course, you would replace <code>3</code> with a variable or expression that resolves to an integer.</p>\n<p>The code for <code>findShortestLine</code> and <code>allQueuesEmpty</code> looks like this:</p>\n<pre><code>// Find the shortest checkout lane\nprivate static int findShortestLine(List&lt;Queue&lt;Customer&gt;&gt; checkoutLines) {\n    int shortestLineIndex = 0;\n    int minLength = checkoutLines.size();\n\n    for (int i = 1; i &lt; checkoutLines.size(); i++) {\n        int length = checkoutLines.get(i).size();\n        if (length &lt; minLength) {\n            minLength = length;\n            shortestLineIndex = i;\n        }\n    }\n    return shortestLineIndex;\n}\n\n// Check if all checkout lines are empty\nprivate static boolean allQueuesEmpty(List&lt;Queue&lt;Customer&gt;&gt; checkoutLines) {\n    for (Queue&lt;Customer&gt; line : checkoutLines) {\n        if (!line.isEmpty()) {\n            return false;\n        }\n    }\n    return true;\n}\n</code></pre>\n<p><strong>By the way</strong>, Named constants are usually declared with <code>final</code>, and with names written in all uppercase.  The beginning of the program looks like this:</p>\n<pre><code>    public class GroceryStore {\n\n       public static void main(String[] args) {\n\n          final int    NUM_CHECKOUT_LINES = 5;\n          final double PROBABILITY_CUSTOMER_JOINS = 0.35;\n          final int    MAX_TRANSACTION_TIME = 25;\n          final int    MAX_CUSTOMERS = 40;    \n\n          List&lt;Queue&lt;Customer&gt;&gt; checkoutLines\n               = new ArrayList&lt;&gt;(NUM_CHECKOUT_LINES);\n          Random random = new Random(); \n</code></pre>\n<ul>\n<li><code>NUM_CHECKOUT_LINES</code> is your <code>numCheckoutLines</code></li>\n<li><code>MAX_CUSTOMERS</code> is the maximum number of customers that will be processed in one run of the simulation. It corresponds to your</li>\n<li><code>numCustomers</code>, but is not quite the same.</li>\n<li><code>MAX_TRANSACTION_TIME</code> is the maximum amount of time (ticks) a customer will take to check out.</li>\n<li><code>PROBABILITY_CUSTOMER_JOINS</code> is the probability that one customer will begin waiting in line in one tick.</li>\n</ul>\n<p><strong>Trivial</strong> Since you are to &quot;Open&quot; the store with one customer in each lane, you can create the lanes and first customers at the same time.</p>\n<pre><code>    // Initialize checkout lines\n    for (int i = 0; i &lt; NUM_CHECKOUT_LINES; i++) {\n        checkoutLines.add(new LinkedList&lt;Customer&gt;());\n        checkoutLines.get(i).add\n            (new Customer(random.nextInt(MAX_TRANSACTION_TIME)));\n        System.out.println (checkoutLines.get(i).peek() \n                + &quot;joined queue &quot; +  i);\n    }\n</code></pre>\n<p><strong>And now, the main idea:</strong></p>\n<p>The main idea is to run the simulation one-clock-tick-at-a-time until all queues are empty, just as you coded in the main loop. With each tick we want to do two things:</p>\n<ul>\n<li><p>Add a customer or not, at random. This code generates a random <code>double</code> in the range [0.0, 1.0). If the generated number exceeds <code>PROBABILITY_CUSTOMER_JOINS</code>, the customer is not added.</p>\n</li>\n<li><p>Decrease the remaining transaction time for the first customer in each lane by one tick. If a remaining time reaches zero, the transaction is complete, and the customer leaves the queue.</p>\n<pre><code>      for (int time = 1; !allQueuesEmpty(checkoutLines);  time++) {\n         if (     Customer.nextID &lt; MAX_CUSTOMERS \n               &amp;&amp; random.nextDouble() &lt; PROBABILITY_CUSTOMER_JOINS) {\n         int shortestLineIndex = findShortestLine(checkoutLines);\n         Customer customer = \n            new Customer(random.nextInt(MAX_TRANSACTION_TIME));\n         if (checkoutLines.get(shortestLineIndex).offer(customer)) {\n             System.out.println(&quot;Customer &quot; + customer.getID()\n                     + &quot; joined queue &quot; + (shortestLineIndex));\n         } else {\n             System.out.println (customer \n                  + &quot; got frustrated and left the store &quot; \n                  + &quot;without checking out!&quot;);\n         }\n     }\n\n     for (int lane = 0; lane &lt; checkoutLines.size (); lane++) {\n         Customer customer = checkoutLines.get(lane).peek();\n            if (customer == null) { continue; } // lane empty\n            if (customer.tick() &lt;= 0) { \n               System.out.println (customer + &quot;is checking out from queue &quot;\n                     + lane);\n               checkoutLines.get(lane).remove();\n         }\n     }                     \n }\n</code></pre>\n<p>}</p>\n</li>\n</ul>\n<p><strong>Other thoughts</strong></p>\n<ul>\n<li><p>It is possible the program will terminate before the number of customers generated reaches MAX_CUSTOMERS. If MAX_CUSTOMERS is reached, the program should continue to run until all customers have checked out.</p>\n</li>\n<li><p>You might consider having the possibility that more than one customer could get in line during one tick.</p>\n</li>\n<li><p>I like that you coded methods to find the shortest line, and tested for all queues empty. You might consider coding a method to add a customer.</p>\n</li>\n<li><p>You might want to code a consistent way of accessing a customer. I wanted to show that a customer can be accessed within a Collection by using a (temporary) <code>Customer</code> reference, and doing that without.</p>\n</li>\n<li><p>Do not assume this code is bug free!</p>\n</li>\n<li><p>Demo run:</p>\n</li>\n</ul>\n<pre><code>Customer 1 joined queue 0\nCustomer 2 joined queue 1\nCustomer 3 joined queue 2\nCustomer 4 joined queue 3\nCustomer 5 joined queue 4\nCustomer 6 joined queue 1\nCustomer 7 joined queue 2\nCustomer 8 joined queue 3\nCustomer 9 joined queue 4\nCustomer 10 joined queue 1\nCustomer 11 joined queue 2\nCustomer 12 joined queue 3\nCustomer 3 is checking out from queue 2\nCustomer 13 joined queue 2\nCustomer 14 joined queue 4\nCustomer 1 is checking out from queue 0\nCustomer 4 is checking out from queue 3\nCustomer 5 is checking out from queue 4\nCustomer 15 joined queue 3\nCustomer 2 is checking out from queue 1\nCustomer 16 joined queue 1\nCustomer 7 is checking out from queue 2\nCustomer 17 joined queue 2\nCustomer 6 is checking out from queue 1\nCustomer 18 joined queue 1\nCustomer 8 is checking out from queue 3\nCustomer 19 joined queue 3\nCustomer 9 is checking out from queue 4\nCustomer 20 joined queue 4\nCustomer 10 is checking out from queue 1\nCustomer 14 is checking out from queue 4\nCustomer 16 is checking out from queue 1\nCustomer 11 is checking out from queue 2\nCustomer 18 is checking out from queue 1\nCustomer 20 is checking out from queue 4\nCustomer 12 is checking out from queue 3\nCustomer 15 is checking out from queue 3\nCustomer 19 is checking out from queue 3\nCustomer 13 is checking out from queue 2\nCustomer 17 is checking out from queue 2\n</code></pre>\n"}],"owner":{"account_id":29501186,"reputation":1,"user_id":22608171,"display_name":"Emily Zhu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695341116,"creation_date":1695304839,"question_id":77150984,"body_markdown":"This is my assignment over queues. (https://i.stack.imgur.com/XSXLS.png)\r\nI have a rubric of everything I need to make sure I have in order to make a perfect score. I ran into two problems. First problem I ran into was: I&#39;m not too sure how to make customers enter/exit the lines. I know there&#39;s some lines of code I need to write but my brain at this point cannot wrap around it. Second problem I ran into was: When I run my program, it shows which customers is joining what queues. However, it&#39;s not randomized. They come in a order and I need to make it to where it comes at random time with a random order. I probably can&#39;t explain this well so hopefully the assignment description helps and also my output screenshot! here is my output: (https://i.stack.imgur.com/SfYDS.png). and here is my code so far. What can I do to fix my issue?\r\n\r\n    import java.util.LinkedList;\r\n    import java.util.Queue;\r\n    import java.util.Random;\r\n\r\n    public class Main {\r\n    public static void main(String[] args) {\r\n        int numCheckoutLines = 5;\r\n        Queue&lt;Integer&gt;[] checkoutLines = new Queue[numCheckoutLines];\r\n        Random random = new Random();\r\n\r\n        // Initialize checkout lines\r\n        for (int i = 0; i &lt; numCheckoutLines; i++) {\r\n            checkoutLines[i] = new LinkedList&lt;&gt;();\r\n        }\r\n\r\n        int numCustomers = 10; // Change this value as needed\r\n\r\n        // Generate and enqueue customers\r\n        for (int i = 1; i &lt;= numCustomers; i++) {\r\n            int shortestLineIndex = findShortestLine(checkoutLines);\r\n            checkoutLines[shortestLineIndex].offer(i);\r\n            System.out.println(&quot;Customer &quot; + i + &quot; joined Queue &quot; + (shortestLineIndex + 1));\r\n        }\r\n\r\n        // Simulate checkout process\r\n        for (int time = 1; !allQueuesEmpty(checkoutLines); time++) {\r\n            for (int i = 0; i &lt; numCheckoutLines; i++) {\r\n                if (!checkoutLines[i].isEmpty()) {\r\n                    int customer = checkoutLines[i].poll();\r\n                    System.out.println(&quot;Queue &quot; + (i + 1) + &quot;: Customer &quot; + customer + &quot; is checking out.&quot;);\r\n                    // Simulate checkout time (random time between 1 and 5 seconds)\r\n                    int checkoutTime = random.nextInt(5) + 1;\r\n                    if (checkoutTime == 5) {\r\n                        System.out.println(&quot;Queue &quot; + (i + 1) + &quot;: Customer &quot; + customer + &quot; has an issue and needs assistance.&quot;);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    // Find the shortest checkout line\r\n    private static int findShortestLine(Queue&lt;Integer&gt;[] checkoutLines) {\r\n        int shortestLineIndex = 0;\r\n        int minLength = checkoutLines[0].size();\r\n\r\n        for (int i = 1; i &lt; checkoutLines.length; i++) {\r\n            int length = checkoutLines[i].size();\r\n            if (length &lt; minLength) {\r\n                minLength = length;\r\n                shortestLineIndex = i;\r\n            }\r\n        }\r\n\r\n        return shortestLineIndex;\r\n    }\r\n\r\n    // Check if all checkout lines are empty\r\n    private static boolean allQueuesEmpty(Queue&lt;Integer&gt;[] checkoutLines) {\r\n        for (Queue&lt;Integer&gt; line : checkoutLines) {\r\n            if (!line.isEmpty()) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n}","title":"Grocery Checkout Lines using Queues in Java","body":"<p>This is my assignment over queues. (<a href=\"https://i.stack.imgur.com/XSXLS.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/XSXLS.png</a>)\nI have a rubric of everything I need to make sure I have in order to make a perfect score. I ran into two problems. First problem I ran into was: I'm not too sure how to make customers enter/exit the lines. I know there's some lines of code I need to write but my brain at this point cannot wrap around it. Second problem I ran into was: When I run my program, it shows which customers is joining what queues. However, it's not randomized. They come in a order and I need to make it to where it comes at random time with a random order. I probably can't explain this well so hopefully the assignment description helps and also my output screenshot! here is my output: (<a href=\"https://i.stack.imgur.com/SfYDS.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/SfYDS.png</a>). and here is my code so far. What can I do to fix my issue?</p>\n<pre><code>import java.util.LinkedList;\nimport java.util.Queue;\nimport java.util.Random;\n\npublic class Main {\npublic static void main(String[] args) {\n    int numCheckoutLines = 5;\n    Queue&lt;Integer&gt;[] checkoutLines = new Queue[numCheckoutLines];\n    Random random = new Random();\n\n    // Initialize checkout lines\n    for (int i = 0; i &lt; numCheckoutLines; i++) {\n        checkoutLines[i] = new LinkedList&lt;&gt;();\n    }\n\n    int numCustomers = 10; // Change this value as needed\n\n    // Generate and enqueue customers\n    for (int i = 1; i &lt;= numCustomers; i++) {\n        int shortestLineIndex = findShortestLine(checkoutLines);\n        checkoutLines[shortestLineIndex].offer(i);\n        System.out.println(&quot;Customer &quot; + i + &quot; joined Queue &quot; + (shortestLineIndex + 1));\n    }\n\n    // Simulate checkout process\n    for (int time = 1; !allQueuesEmpty(checkoutLines); time++) {\n        for (int i = 0; i &lt; numCheckoutLines; i++) {\n            if (!checkoutLines[i].isEmpty()) {\n                int customer = checkoutLines[i].poll();\n                System.out.println(&quot;Queue &quot; + (i + 1) + &quot;: Customer &quot; + customer + &quot; is checking out.&quot;);\n                // Simulate checkout time (random time between 1 and 5 seconds)\n                int checkoutTime = random.nextInt(5) + 1;\n                if (checkoutTime == 5) {\n                    System.out.println(&quot;Queue &quot; + (i + 1) + &quot;: Customer &quot; + customer + &quot; has an issue and needs assistance.&quot;);\n                }\n            }\n        }\n    }\n}\n\n// Find the shortest checkout line\nprivate static int findShortestLine(Queue&lt;Integer&gt;[] checkoutLines) {\n    int shortestLineIndex = 0;\n    int minLength = checkoutLines[0].size();\n\n    for (int i = 1; i &lt; checkoutLines.length; i++) {\n        int length = checkoutLines[i].size();\n        if (length &lt; minLength) {\n            minLength = length;\n            shortestLineIndex = i;\n        }\n    }\n\n    return shortestLineIndex;\n}\n\n// Check if all checkout lines are empty\nprivate static boolean allQueuesEmpty(Queue&lt;Integer&gt;[] checkoutLines) {\n    for (Queue&lt;Integer&gt; line : checkoutLines) {\n        if (!line.isEmpty()) {\n            return false;\n        }\n    }\n    return true;\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","android","xml","android-layout","android-view"],"answers":[{"tags":[],"owner":{"account_id":1236882,"reputation":609,"user_id":1200303,"accept_rate":80,"display_name":"curiousguy"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1331287174,"creation_date":1331287174,"answer_id":9632101,"question_id":9611791,"body_markdown":"I am not sure whether you can put a video as a background view. But you can try to use a video view and put it inside Frame layout.\r\n\r\nYou can use this link for further reference:\r\n[https://stackoverflow.com/questions/7074600/android-video-as-background-view][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/7074600/android-video-as-background-view","title":"Setting a video to play as the background in Android","body":"<p>I am not sure whether you can put a video as a background view. But you can try to use a video view and put it inside Frame layout.</p>\n\n<p>You can use this link for further reference:\n<a href=\"https://stackoverflow.com/questions/7074600/android-video-as-background-view\">android: video as background view</a></p>\n"},{"tags":[],"owner":{"account_id":19338624,"reputation":359,"user_id":14138691,"display_name":"Antony Nicolas Huaman Alikhan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695340659,"creation_date":1695340659,"answer_id":77154219,"question_id":9611791,"body_markdown":"Im using exoplayer to put a video from local: \r\n\r\nin xml:\r\n\r\n    &lt;com.google.android.exoplayer2.ui.PlayerView\r\n        android:id=&quot;@+id/compensation_video_view&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        app:resize_mode=&quot;fill&quot;\r\n        android:layout_height=&quot;match_parent&quot;/&gt;\r\n\r\nin activity or fragment:\r\n\r\n    private val exoPlayerTwo by lazy(LazyThreadSafetyMode.NONE) {\r\n        SimpleExoPlayer.Builder(requireContext()).build()\r\n    }\r\n\r\n    private fun showBackgroundVideo() {\r\n        //also set to the player view\r\n        binding.compensationVideoView.player = exoPlayerTwo\r\n        exoPlayerTwo.playWhenReady = true\r\n        exoPlayerTwo.volume = 0f\r\n        exoPlayerTwo.repeatMode = SimpleExoPlayer.REPEAT_MODE_ALL // With thi loop the video\r\n        val uri = RawResourceDataSource.buildRawResourceUri(R.raw.compensalia_background_video)\r\n        val mediaItem = MediaItem.fromUri(uri)\r\n        exoPlayerTwo.setMediaItem(mediaItem)\r\n        exoPlayerTwo.prepare()\r\n    }\r\n\r\n\r\nalso realease the component:\r\n\r\n    override fun onDestroy() {\r\n        super.onDestroy()\r\n        exoPlayerTwo.release()\r\n    }\r\n\r\n","title":"Setting a video to play as the background in Android","body":"<p>Im using exoplayer to put a video from local:</p>\n<p>in xml:</p>\n<pre><code>&lt;com.google.android.exoplayer2.ui.PlayerView\n    android:id=&quot;@+id/compensation_video_view&quot;\n    android:layout_width=&quot;match_parent&quot;\n    app:resize_mode=&quot;fill&quot;\n    android:layout_height=&quot;match_parent&quot;/&gt;\n</code></pre>\n<p>in activity or fragment:</p>\n<pre><code>private val exoPlayerTwo by lazy(LazyThreadSafetyMode.NONE) {\n    SimpleExoPlayer.Builder(requireContext()).build()\n}\n\nprivate fun showBackgroundVideo() {\n    //also set to the player view\n    binding.compensationVideoView.player = exoPlayerTwo\n    exoPlayerTwo.playWhenReady = true\n    exoPlayerTwo.volume = 0f\n    exoPlayerTwo.repeatMode = SimpleExoPlayer.REPEAT_MODE_ALL // With thi loop the video\n    val uri = RawResourceDataSource.buildRawResourceUri(R.raw.compensalia_background_video)\n    val mediaItem = MediaItem.fromUri(uri)\n    exoPlayerTwo.setMediaItem(mediaItem)\n    exoPlayerTwo.prepare()\n}\n</code></pre>\n<p>also realease the component:</p>\n<pre><code>override fun onDestroy() {\n    super.onDestroy()\n    exoPlayerTwo.release()\n}\n</code></pre>\n"}],"owner":{"account_id":1228162,"reputation":17908,"user_id":1193321,"accept_rate":65,"display_name":"EGHDK"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11213,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":9632101,"answer_count":2,"score":2,"last_activity_date":1695340659,"creation_date":1331170703,"question_id":9611791,"body_markdown":"I&#39;m trying to make a video run in the background of my application.\r\n\r\nI&#39;ve searched high and low and the closest thing I could find was this other post:\r\nhttps://stackoverflow.com/questions/8830111/integrating-video-file-in-android-app-as-app-background\r\n\r\nThe code provided does not work (I get 3 errors in java).\r\n\r\nDoes anyone know how I would go about doing this? I want it to play in the background as I would later like to set a zoom in and out buttons that will allow you to magnify the video playing in the background. Thanks in advance.","title":"Setting a video to play as the background in Android","body":"<p>I'm trying to make a video run in the background of my application.</p>\n\n<p>I've searched high and low and the closest thing I could find was this other post:\n<a href=\"https://stackoverflow.com/questions/8830111/integrating-video-file-in-android-app-as-app-background\">Integrating video file in android app as app background</a></p>\n\n<p>The code provided does not work (I get 3 errors in java).</p>\n\n<p>Does anyone know how I would go about doing this? I want it to play in the background as I would later like to set a zoom in and out buttons that will allow you to magnify the video playing in the background. Thanks in advance.</p>\n"},{"tags":["java","spring","lazy-initialization"],"comments":[{"owner":{"account_id":181397,"reputation":2579,"user_id":2283319,"accept_rate":100,"display_name":"Chris Kitching"},"score":0,"creation_date":1458745153,"post_id":36181611,"comment_id":59998454,"body_markdown":"There&#39;s the general problem of lazy initialisation: if the wrong thing happens you might be triggered to initialise a lot of stuff all at once, creating a huge load spike that might not otherwise have existed. It depends on how your program works.","body":"There&#39;s the general problem of lazy initialisation: if the wrong thing happens you might be triggered to initialise a lot of stuff all at once, creating a huge load spike that might not otherwise have existed. It depends on how your program works."}],"answers":[{"tags":[],"owner":{"account_id":1424961,"reputation":30720,"user_id":1348743,"display_name":"Javaru"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1458746351,"creation_date":1458745406,"answer_id":36181718,"question_id":36181611,"body_markdown":"The primary &quot;downside&quot; is not catching configuration issues immediately. If you have a bean that is only used &quot;occasionally&quot;, and that bean is misconfigured, your application could be out in production for several days before it goes to use that bean and throws the error. It&#39;s much better to know about that issue at startup. \r\n\r\nAdditionally, it is generally more desirable to pay initialization costs (i.e. performance, time delays, etc.) at startup rather than during use. In a Web Application for example, you want the cost of initializing the bean at startup, not the first time a customer uses your shopping cart (waiting for the shopping cart bean to do its first initialization), and then again when she goes to checkout, and then again when payment is processed, etc.\r\n\r\nThose are some of the reasons.\r\n\r\n[EDIT]\r\n\r\np.s. from the Spring reference guide section [6.4.4 Lazy-initialized beans][1]\r\n\r\n&gt; By default, ApplicationContext implementations eagerly create and configure all singleton beans as part of the initialization process. Generally, this pre-instantiation is desirable, because errors in the configuration or surrounding environment are discovered immediately, as opposed to hours or even days later. When this behavior is not desirable, you can prevent pre-instantiation of a singleton bean by marking the bean definition as lazy-initialized. A lazy-initialized bean tells the IoC container to create a bean instance when it is first requested, rather than at startup.\r\n\r\n\r\n  [1]: http://docs.spring.io/spring/docs/current/spring-framework-reference/htmlsingle/#beans-factory-lazy-init","title":"Are there any real downsides to lazy bean initialization?","body":"<p>The primary \"downside\" is not catching configuration issues immediately. If you have a bean that is only used \"occasionally\", and that bean is misconfigured, your application could be out in production for several days before it goes to use that bean and throws the error. It's much better to know about that issue at startup. </p>\n\n<p>Additionally, it is generally more desirable to pay initialization costs (i.e. performance, time delays, etc.) at startup rather than during use. In a Web Application for example, you want the cost of initializing the bean at startup, not the first time a customer uses your shopping cart (waiting for the shopping cart bean to do its first initialization), and then again when she goes to checkout, and then again when payment is processed, etc.</p>\n\n<p>Those are some of the reasons.</p>\n\n<p>[EDIT]</p>\n\n<p>p.s. from the Spring reference guide section <a href=\"http://docs.spring.io/spring/docs/current/spring-framework-reference/htmlsingle/#beans-factory-lazy-init\" rel=\"noreferrer\">6.4.4 Lazy-initialized beans</a></p>\n\n<blockquote>\n  <p>By default, ApplicationContext implementations eagerly create and configure all singleton beans as part of the initialization process. Generally, this pre-instantiation is desirable, because errors in the configuration or surrounding environment are discovered immediately, as opposed to hours or even days later. When this behavior is not desirable, you can prevent pre-instantiation of a singleton bean by marking the bean definition as lazy-initialized. A lazy-initialized bean tells the IoC container to create a bean instance when it is first requested, rather than at startup.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":6284,"reputation":14589,"user_id":10508,"accept_rate":53,"display_name":"David M. Karr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695338988,"creation_date":1695338988,"answer_id":77154141,"question_id":36181611,"body_markdown":"Something we only discovered today, if one of your bean methods has the @KafkaListener annotation (there are probably variants of this problem in other frameworks), and you make the bean @Lazy to avoid circular references with another bean associated with this bean, and there are otherwise no other references to those beans, then the bean will never be instantiated, and the Kafka listener method will never activate, and not fire on available messages.","title":"Are there any real downsides to lazy bean initialization?","body":"<p>Something we only discovered today, if one of your bean methods has the @KafkaListener annotation (there are probably variants of this problem in other frameworks), and you make the bean @Lazy to avoid circular references with another bean associated with this bean, and there are otherwise no other references to those beans, then the bean will never be instantiated, and the Kafka listener method will never activate, and not fire on available messages.</p>\n"}],"owner":{"account_id":1523507,"reputation":966,"user_id":1430008,"accept_rate":75,"display_name":"ingenious"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2990,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":36181718,"answer_count":2,"score":5,"last_activity_date":1695338988,"creation_date":1458745100,"question_id":36181611,"body_markdown":"Recently I&#39;ve started using the lazy initialization feature in spring *a lot*. And so I&#39;ve been wandering - are there any actual downsides to initializing your beans lazily? If not - why is not lazy the default behaviour?","title":"Are there any real downsides to lazy bean initialization?","body":"<p>Recently I've started using the lazy initialization feature in spring <em>a lot</em>. And so I've been wandering - are there any actual downsides to initializing your beans lazily? If not - why is not lazy the default behaviour?</p>\n"},{"tags":["java","osgi","osgi-bundle","declarative-services"],"answers":[{"tags":[],"owner":{"account_id":88135,"reputation":15266,"user_id":243991,"accept_rate":22,"display_name":"Peter Kriens"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1629470757,"creation_date":1629470757,"answer_id":68864076,"question_id":68861860,"body_markdown":"Well, why the AtomicReference? You also don&#39;t need bind and unbind services. You seem confused :-) You might want to take a look at the [videos][1] or the [OSGi starter][2]\r\n\r\nFor the dynamic case, this is what would work:\r\n\r\n    @Component(immediate = true)\r\n    public class ServiceImpl implements Service {\r\n\r\n        @Reference    \r\n        volatile CounterService myCounterService;\r\n        \r\n        @Activate\r\n       void activate() {\r\n        ...\r\n        }\r\n        \r\n    }\r\n\r\nIf the `CounterService` is not dynamic, this is a very nice pattern:\r\n\r\n    @Component(immediate = true)\r\n    public class ServiceImpl implements Service {\r\n    \r\n        final CounterService myCounterService;\r\n        \r\n        @Activate\r\n        public ServiceImpl( @Reference  CounterService  c ) {\r\n            this.myCounterService = c;\r\n        }\r\n        \r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n[1]: https://www.youtube.com/channel/UCooLOwpb_wqvHIVyccnFacw\r\n[2]: https://bndtools.org/workspace/osgi-starter.html\r\n\r\n\r\n","title":"unsupported type java.util.concurrent.atomic.AtomicReference","body":"<p>Well, why the AtomicReference? You also don't need bind and unbind services. You seem confused :-) You might want to take a look at the <a href=\"https://www.youtube.com/channel/UCooLOwpb_wqvHIVyccnFacw\" rel=\"nofollow noreferrer\">videos</a> or the <a href=\"https://bndtools.org/workspace/osgi-starter.html\" rel=\"nofollow noreferrer\">OSGi starter</a></p>\n<p>For the dynamic case, this is what would work:</p>\n<pre><code>@Component(immediate = true)\npublic class ServiceImpl implements Service {\n\n    @Reference    \n    volatile CounterService myCounterService;\n    \n    @Activate\n   void activate() {\n    ...\n    }\n    \n}\n</code></pre>\n<p>If the <code>CounterService</code> is not dynamic, this is a very nice pattern:</p>\n<pre><code>@Component(immediate = true)\npublic class ServiceImpl implements Service {\n\n    final CounterService myCounterService;\n    \n    @Activate\n    public ServiceImpl( @Reference  CounterService  c ) {\n        this.myCounterService = c;\n    }\n    \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29504659,"reputation":1,"user_id":22610902,"display_name":"Saurav Suman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695337648,"creation_date":1695337324,"answer_id":77154069,"question_id":68861860,"body_markdown":"Another way to fix this is to remove the **@Reference** annotation from the field and add it to your bind method. Something like this:\r\n    \r\n    @Component (service = Service.class, immediate = true)\r\n    public class ServiceImpl implements Service{\r\n    \r\n        public static final AtomicReference&lt;CounterService&gt; myCounterService = new AtomicReference&lt;&gt;();\r\n    \r\n    @Reference (name = &quot;CounterService&quot;, policy = ReferencePolicy.DYNAMIC, cardinality = ReferenceCardinality.MANDATORY,\r\n                bind = &quot;bindCounterService&quot;, unbind = &quot;unbindCounterService&quot;, service = CounterService.class)\r\n    public void bindCounterService(CounterService counterService)\r\n    {     \r\n         myCounterService = counterService;\r\n    }\r\n    \r\n    public void unbindCounterService(CounterService counterService)\r\n    {     \r\n        myCounterService = null;\r\n    }\r\n    \r\n    }","title":"unsupported type java.util.concurrent.atomic.AtomicReference","body":"<p>Another way to fix this is to remove the <strong>@Reference</strong> annotation from the field and add it to your bind method. Something like this:</p>\n<pre><code>@Component (service = Service.class, immediate = true)\npublic class ServiceImpl implements Service{\n\n    public static final AtomicReference&lt;CounterService&gt; myCounterService = new AtomicReference&lt;&gt;();\n\n@Reference (name = &quot;CounterService&quot;, policy = ReferencePolicy.DYNAMIC, cardinality = ReferenceCardinality.MANDATORY,\n            bind = &quot;bindCounterService&quot;, unbind = &quot;unbindCounterService&quot;, service = CounterService.class)\npublic void bindCounterService(CounterService counterService)\n{     \n     myCounterService = counterService;\n}\n\npublic void unbindCounterService(CounterService counterService)\n{     \n    myCounterService = null;\n}\n\n}\n</code></pre>\n"}],"owner":{"account_id":8865517,"reputation":17,"user_id":6620817,"display_name":"Kamalraj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":330,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1695337648,"creation_date":1629460606,"question_id":68861860,"body_markdown":"I am writing OSGI services .After Starting the service,I got Below Message.Kindly suggest to overcome this Issue.\r\n\r\n    @Component (service = Service.class, immediate = true)\r\n    public class ServiceImpl implements Service{\r\n    \r\n    @Reference (name = &quot;CounterService&quot;, policy = ReferencePolicy.DYNAMIC, cardinality = ReferenceCardinality.MANDATORY,\r\n                bind = &quot;bindCounter&quot;, unbind = &quot;unbindCounter&quot;, service = CounterService.class)\r\n        public static final AtomicReference&lt;CounterService&gt; myCounterService = new AtomicReference&lt;&gt;();\r\n    \r\n    public void bindCService(CounterService counterService)\r\n    {     \r\n        this.cacheService= cacheService;\r\n    }\r\n    \r\n    public void unbindService(CounterService cacheService)\r\n    {     \r\n        this.cacheService= null;\r\n    }\r\n    \r\n    }\r\n\r\n\r\n\r\n\r\nAnd i got this Message after Starting Service\r\n\r\n    \r\n\r\n&gt; -!MESSAGE [com.xxx.xxx.xxx.CounterImpl(29)] Field counterService in component class com.xxx.xxx.xxx.CounterImpl has unsupported type\r\n&gt; java.util.concurrent.atomic.AtomicReference","title":"unsupported type java.util.concurrent.atomic.AtomicReference","body":"<p>I am writing OSGI services .After Starting the service,I got Below Message.Kindly suggest to overcome this Issue.</p>\n<pre><code>@Component (service = Service.class, immediate = true)\npublic class ServiceImpl implements Service{\n\n@Reference (name = &quot;CounterService&quot;, policy = ReferencePolicy.DYNAMIC, cardinality = ReferenceCardinality.MANDATORY,\n            bind = &quot;bindCounter&quot;, unbind = &quot;unbindCounter&quot;, service = CounterService.class)\n    public static final AtomicReference&lt;CounterService&gt; myCounterService = new AtomicReference&lt;&gt;();\n\npublic void bindCService(CounterService counterService)\n{     \n    this.cacheService= cacheService;\n}\n\npublic void unbindService(CounterService cacheService)\n{     \n    this.cacheService= null;\n}\n\n}\n</code></pre>\n<p>And i got this Message after Starting Service</p>\n<blockquote>\n<p>-!MESSAGE [com.xxx.xxx.xxx.CounterImpl(29)] Field counterService in component class com.xxx.xxx.xxx.CounterImpl has unsupported type\njava.util.concurrent.atomic.AtomicReference</p>\n</blockquote>\n"},{"tags":["java","types","casting","superclass"],"comments":[{"owner":{"account_id":431527,"reputation":9888,"user_id":815653,"accept_rate":81,"display_name":"zell"},"score":0,"creation_date":1325677079,"post_id":8726096,"comment_id":10864621,"body_markdown":"Plz tell the reason of the -1","body":"Plz tell the reason of the -1"},{"owner":{"account_id":431527,"reputation":9888,"user_id":815653,"accept_rate":81,"display_name":"zell"},"score":0,"creation_date":1325677742,"post_id":8726096,"comment_id":10864856,"body_markdown":"honestly, no. Maybe it&#39;s my way to formulate the problem like this if you like.","body":"honestly, no. Maybe it&#39;s my way to formulate the problem like this if you like."}],"answers":[{"tags":[],"owner":{"account_id":1106606,"reputation":3836,"user_id":1097883,"display_name":"afrischke"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1325679376,"creation_date":1325676869,"answer_id":8726167,"question_id":8726096,"body_markdown":"Certainly:\r\n\r\n    Object o = new Object();\r\n    Object o2 = o;\r\n\r\nIn this example, the type of o2 is not a proper supertype of the type of o. However as far as the intention of the question (probably) goes, see the accepted answer.  ","title":"For Java assignment &quot;x=y&quot;, does a Java compiler requires that x&#39;s declared type is the supertype of y&#39;s (including the same type)?","body":"<p>Certainly:</p>\n\n<pre><code>Object o = new Object();\nObject o2 = o;\n</code></pre>\n\n<p>In this example, the type of o2 is not a proper supertype of the type of o. However as far as the intention of the question (probably) goes, see the accepted answer.  </p>\n"},{"tags":[],"owner":{"account_id":41449,"reputation":9952,"user_id":120471,"accept_rate":83,"display_name":"hrnt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1325677263,"creation_date":1325677263,"answer_id":8726263,"question_id":8726096,"body_markdown":"Well, depends on what you mean by &quot;supertype&quot;. However, if used as a general OOP term:\r\n`Object[] arr = new Integer[5];`\r\n\r\nFor discussion on why this is a flaw of the type system, please see for example http://c2.com/cgi/wiki?JavaArraysBreakTypeSafety","title":"For Java assignment &quot;x=y&quot;, does a Java compiler requires that x&#39;s declared type is the supertype of y&#39;s (including the same type)?","body":"<p>Well, depends on what you mean by \"supertype\". However, if used as a general OOP term:\n<code>Object[] arr = new Integer[5];</code></p>\n\n<p>For discussion on why this is a flaw of the type system, please see for example <a href=\"http://c2.com/cgi/wiki?JavaArraysBreakTypeSafety\" rel=\"nofollow\">http://c2.com/cgi/wiki?JavaArraysBreakTypeSafety</a></p>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1325677370,"creation_date":1325677370,"answer_id":8726291,"question_id":8726096,"body_markdown":"In assignment the LHS must be the type or the RHS or a **super** type.\r\nWith supertype also covariant array types are meant: String[] to Object[] (never use that!).\r\nOr **widening** (primitive types) may take place: assigning an `int` to a `float`.\r\nOr **boxing** may happen: Integer to int, int to Integer.","title":"For Java assignment &quot;x=y&quot;, does a Java compiler requires that x&#39;s declared type is the supertype of y&#39;s (including the same type)?","body":"<p>In assignment the LHS must be the type or the RHS or a <strong>super</strong> type.\nWith supertype also covariant array types are meant: String[] to Object[] (never use that!).\nOr <strong>widening</strong> (primitive types) may take place: assigning an <code>int</code> to a <code>float</code>.\nOr <strong>boxing</strong> may happen: Integer to int, int to Integer.</p>\n"},{"tags":[],"owner":{"account_id":9187,"reputation":9248,"user_id":16873,"accept_rate":100,"display_name":"Thiago Chaves"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1325678392,"creation_date":1325678392,"answer_id":8726526,"question_id":8726096,"body_markdown":"The answer is no, according to the Java language specification, below. See the **bold** text.\r\n\r\n&gt; Assignment of a value of compile-time reference type S (source) to a\r\n&gt; variable of compile-time reference type T (target) is checked as\r\n&gt; follows: \r\n\r\n&gt; If S is a class type:\r\n\r\n&gt; * **If T is a class type, then S must either be the same class as T, or S must be a subclass of T, or a compile-time error occurs.**\r\n&gt; * If T is an interface type, then S must implement interface T, or a compile-time error occurs.\r\n&gt; * If T is an array type, then a compile-time error occurs. \r\n\r\n&gt; If S is an interface type: \r\n\r\n&gt; * If T is a class type, then T must be Object, or a\r\n&gt; compile-time error occurs. \r\n&gt; * If T is an interface type, then T must be\r\n&gt; either the same interface as S or a superinterface of S, or a\r\n&gt; compile-time error occurs. \r\n&gt; * If T is an array type, then a compile-time\r\n&gt; error occurs. \r\n\r\n&gt; If S is an array type SC[], that is, an array of\r\n&gt; components of type SC: \r\n\r\n&gt; * If T is a class type, then T must be Object, or\r\n&gt; a compile-time error occurs. \r\n&gt; * If T is an interface type, then a\r\n&gt; compile-time error occurs unless T is the type java.io.Serializable or\r\n&gt; the type Cloneable, the only interfaces implemented by arrays. \r\n&gt; * If T is\r\n&gt; an array type TC[], that is, an array of components of type TC, then a\r\n&gt; compile-time error occurs unless one of the following is true: \r\n\r\n&gt;  * TC and\r\n&gt; SC are the same primitive type. \r\n&gt;  * TC and SC are both reference types and\r\n&gt; type SC is assignable to TC, as determined by a recursive application\r\n&gt; of these compile-time rules for assignability.","title":"For Java assignment &quot;x=y&quot;, does a Java compiler requires that x&#39;s declared type is the supertype of y&#39;s (including the same type)?","body":"<p>The answer is no, according to the Java language specification, below. See the <strong>bold</strong> text.</p>\n\n<blockquote>\n  <p>Assignment of a value of compile-time reference type S (source) to a\n  variable of compile-time reference type T (target) is checked as\n  follows: </p>\n  \n  <p>If S is a class type:</p>\n  \n  <ul>\n  <li><strong>If T is a class type, then S must either be the same class as T, or S must be a subclass of T, or a compile-time error occurs.</strong></li>\n  <li>If T is an interface type, then S must implement interface T, or a compile-time error occurs.</li>\n  <li>If T is an array type, then a compile-time error occurs. </li>\n  </ul>\n  \n  <p>If S is an interface type: </p>\n  \n  <ul>\n  <li>If T is a class type, then T must be Object, or a\n  compile-time error occurs. </li>\n  <li>If T is an interface type, then T must be\n  either the same interface as S or a superinterface of S, or a\n  compile-time error occurs. </li>\n  <li>If T is an array type, then a compile-time\n  error occurs. </li>\n  </ul>\n  \n  <p>If S is an array type SC[], that is, an array of\n  components of type SC: </p>\n  \n  <ul>\n  <li>If T is a class type, then T must be Object, or\n  a compile-time error occurs. </li>\n  <li>If T is an interface type, then a\n  compile-time error occurs unless T is the type java.io.Serializable or\n  the type Cloneable, the only interfaces implemented by arrays. </li>\n  <li><p>If T is\n  an array type TC[], that is, an array of components of type TC, then a\n  compile-time error occurs unless one of the following is true: </p>\n  \n  <ul>\n  <li>TC and\n  SC are the same primitive type. </li>\n  <li>TC and SC are both reference types and\n  type SC is assignable to TC, as determined by a recursive application\n  of these compile-time rules for assignability.</li>\n  </ul></li>\n  </ul>\n</blockquote>\n"}],"owner":{"account_id":431527,"reputation":9888,"user_id":815653,"accept_rate":81,"display_name":"zell"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":133,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":8726291,"answer_count":4,"score":0,"last_activity_date":1695337095,"creation_date":1325676564,"question_id":8726096,"body_markdown":"Formulated in another way: \r\n\r\ncould you give an example assignment of JAVA, x=y, such that the declared type of &quot;x&quot; is not a supertype of that of &quot;y&quot;? \r\n\r\nRecall that the declared type is &quot;T&quot; if x is declared as &quot;T x&quot;. (supertype includes &quot;the same type&quot; by convention.) ","title":"For Java assignment &quot;x=y&quot;, does a Java compiler requires that x&#39;s declared type is the supertype of y&#39;s (including the same type)?","body":"<p>Formulated in another way:</p>\n<p>could you give an example assignment of JAVA, x=y, such that the declared type of &quot;x&quot; is not a supertype of that of &quot;y&quot;?</p>\n<p>Recall that the declared type is &quot;T&quot; if x is declared as &quot;T x&quot;. (supertype includes &quot;the same type&quot; by convention.)</p>\n"},{"tags":["java","jackson","jackson-databind"],"owner":{"account_id":16901977,"reputation":1,"user_id":12223093,"display_name":"unfuse"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695334839,"creation_date":1695334839,"question_id":77153947,"body_markdown":"I am trying to write custom deserialization handling using Jackson (2.14.0) to address common boilerplate repeated in our DTO/POJO classes used in our integrations. \r\n\r\nWe currently use DTOs to handle all integration schema complexity (field name differences, type differences, wrapping/unwrapping fields) - and I specifically want to remove some of these DTOs with replacement annotations / custom deserializers where common patterns are repeated but also formulaic. \r\n\r\nMy current problem is one use case where there are multiple schema complications existing simultaneously:\r\n* The serialized format is UNWRAPPED relative to the POJO\r\n* The serialized format&#39;s unwrapped fields are named differently (it&#39;s a deterministic name change, but not a simple prefix/suffix, despite my examples)\r\n* The serializes format&#39;s unwrapped fields are TYPED differently\r\n\r\n\r\n```java\r\n/* \r\n  POJOs\r\n*/\r\nclass Foo {\r\n    TimeRange timeRange;\r\n}\r\n\r\nclass TimeRange {\r\n    long start;\r\n    long end;\r\n}\r\n\r\n/*\r\n  DTOs - an exact mirror of what JSON is transmitted\r\n*/\r\nclass FooDTO {\r\n    String startDateTime;\r\n    String endDateTime;\r\n}\r\n```\r\n\r\nMy tentative solution for this is to register custom deserialization `SimpleModule`s - by using a new annotation on the POJO fields - that registers and changes fields using `BeanDeserializerModifier`s. Fields can then opt into the special logic by using a custom annotation. Like: \r\n\r\n```java\r\nclass Foo {\r\n    @JsonTimeRange(format = &quot;ISO_DATE_TIME&quot;)\r\n    TimeRange timeRange;\r\n}\r\n\r\nclass TimeRange {\r\n    long start;\r\n    long end;\r\n\r\n    @JsonCreator TimeRange(final long start, final long end) { ... }\r\n}\r\n```\r\n\r\nThe one I have working so far for this `TimeRange` use case attempts to use existing Jackson `@JsonUnwrapped` logic present in `BeanDeserializer/Base` and I feel is SO CLOSE to working perfectly.\r\n\r\nMy problem as I can see it is I do not know how to effectively propagate state down in the deserialization hierarchy.\r\n\r\nJackson handles `@JsonUnwrapped` by taking the original `BeanDeserializer` associated with the class and building virtual bean properties matching the transformed names. When deserializing it scans a copied token buffer looking for those values and injects those properties into the base deserializer as if they had always been there. The base deserializer then operates normally, barely cognizant of the difference. \r\n\r\nIn my case, I&#39;m hoping to leverage the existing `@JsonCreator` for `TimeRange`. The trouble is that it&#39;s _`creatorProperties` is built with a `LongDeserializer` for it&#39;s own fields when built by Jackson (which is technically correct) - and I cannot find how how in the world to intercept these and replace them. I can build the exact &quot;String To Long Deserializer&quot; required when processing `@JsonTimeRange` but that state is nowhere to be found when processing the `BeanDeserializer` for `TimeRange`.\r\n\r\nI also can&#39;t seem to find a place to re-intercept `Foo.timeRange` - neither the property NOR the deserializer - in a way that matters. \r\n* I can retrieve the canonical deserializer for `TimeRange` from `DeserializationContext` when building my custom property - but I can&#39;t reach down into `deserializer -&gt; bean properties -&gt; creator -&gt; creator properties -&gt; deserializer` and swap anything out. it&#39;s all hidden and immutable by this point\r\n* `ContextualDeserializer#createContextual` as executed by `BeanDeserializer` is the most often cited place in other posts I have read, but it&#39;s insufficient for my intention here for what seems to be the same reason - cannot access and change the fields I need to.\r\n\r\nI accept that my desire to use as much vanilla Jackson as possible - including relying on the standard `JsonCreator` for `TimeRange`, and how it processes &quot;Unwrapped&quot; fields (`NameTransformer`, `UnwrappedPropertyHandler`, and their retrievals within `BeanDeserializer#resolve`) - may be too much to expect.\r\n\r\nBut on the other hand it SEEMS to fit so well and I&#39;m hoping there&#39;s a connection between these deserialization levels I can utilize to dynamically tweak the CreatorProperties for TimeRange just enough to let it go. The error I get right now is just type type difference. \r\n\r\n```\r\nCannot deserialize value of type `long` from String &quot;2019-01-01T08:00:00.000Z&quot;: not a valid `long` value\r\n at [Source: (String)&quot;{&quot;startDateTime&quot;:&quot;2019-01-01T08:00:00.000Z&quot;,&quot;endDateTime&quot;:&quot;2019-01-01T18:00:00.000Z&quot;}&quot;; line: 1, column: 141] (through reference chain: com.my.project.TimeRange[&quot;startDateTime&quot;])\r\ncom.fasterxml.jackson.databind.exc.InvalidFormatException: Cannot deserialize value of type `long` from String &quot;2019-01-01T08:00:00.000Z&quot;: not a valid `long` value\r\n at [Source: (String)&quot;{&quot;startDateTime&quot;:&quot;2019-01-01T08:00:00.000Z&quot;,&quot;endDateTime&quot;:&quot;2019-01-01T18:00:00.000Z&quot;}&quot;; line: 1, column: 141] (through reference chain: com.my.project.TimeRange[&quot;startDateTime&quot;])\r\n\tat app//com.fasterxml.jackson.databind.exc.InvalidFormatException.from(InvalidFormatException.java:67)\r\n\tat app//com.fasterxml.jackson.databind.DeserializationContext.weirdStringException(DeserializationContext.java:1996)\r\n\tat app//com.fasterxml.jackson.databind.DeserializationContext.handleWeirdStringValue(DeserializationContext.java:1224)\r\n\tat app//com.fasterxml.jackson.databind.deser.std.StdDeserializer._parseLongPrimitive(StdDeserializer.java:916)\r\n\tat app//com.fasterxml.jackson.databind.deser.std.StdDeserializer._parseLongPrimitive(StdDeserializer.java:904)\r\n\tat app//com.fasterxml.jackson.databind.deser.std.NumberDeserializers$LongDeserializer.deserialize(NumberDeserializers.java:573)\r\n\tat app//com.fasterxml.jackson.databind.deser.std.NumberDeserializers$LongDeserializer.deserialize(NumberDeserializers.java:550)\r\n\tat app//com.fasterxml.jackson.databind.deser.SettableBeanProperty.deserialize(SettableBeanProperty.java:542)\r\n```\r\n\r\nAlso open to alternatives, but this seems the most Jackson-like solution to me for this problem since they already have some support for Unwrapped fields! \r\n","title":"Modify Deserializer for a Creator Property to handle unwrapped field of a different type","body":"<p>I am trying to write custom deserialization handling using Jackson (2.14.0) to address common boilerplate repeated in our DTO/POJO classes used in our integrations.</p>\n<p>We currently use DTOs to handle all integration schema complexity (field name differences, type differences, wrapping/unwrapping fields) - and I specifically want to remove some of these DTOs with replacement annotations / custom deserializers where common patterns are repeated but also formulaic.</p>\n<p>My current problem is one use case where there are multiple schema complications existing simultaneously:</p>\n<ul>\n<li>The serialized format is UNWRAPPED relative to the POJO</li>\n<li>The serialized format's unwrapped fields are named differently (it's a deterministic name change, but not a simple prefix/suffix, despite my examples)</li>\n<li>The serializes format's unwrapped fields are TYPED differently</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>/* \n  POJOs\n*/\nclass Foo {\n    TimeRange timeRange;\n}\n\nclass TimeRange {\n    long start;\n    long end;\n}\n\n/*\n  DTOs - an exact mirror of what JSON is transmitted\n*/\nclass FooDTO {\n    String startDateTime;\n    String endDateTime;\n}\n</code></pre>\n<p>My tentative solution for this is to register custom deserialization <code>SimpleModule</code>s - by using a new annotation on the POJO fields - that registers and changes fields using <code>BeanDeserializerModifier</code>s. Fields can then opt into the special logic by using a custom annotation. Like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Foo {\n    @JsonTimeRange(format = &quot;ISO_DATE_TIME&quot;)\n    TimeRange timeRange;\n}\n\nclass TimeRange {\n    long start;\n    long end;\n\n    @JsonCreator TimeRange(final long start, final long end) { ... }\n}\n</code></pre>\n<p>The one I have working so far for this <code>TimeRange</code> use case attempts to use existing Jackson <code>@JsonUnwrapped</code> logic present in <code>BeanDeserializer/Base</code> and I feel is SO CLOSE to working perfectly.</p>\n<p>My problem as I can see it is I do not know how to effectively propagate state down in the deserialization hierarchy.</p>\n<p>Jackson handles <code>@JsonUnwrapped</code> by taking the original <code>BeanDeserializer</code> associated with the class and building virtual bean properties matching the transformed names. When deserializing it scans a copied token buffer looking for those values and injects those properties into the base deserializer as if they had always been there. The base deserializer then operates normally, barely cognizant of the difference.</p>\n<p>In my case, I'm hoping to leverage the existing <code>@JsonCreator</code> for <code>TimeRange</code>. The trouble is that it's _<code>creatorProperties</code> is built with a <code>LongDeserializer</code> for it's own fields when built by Jackson (which is technically correct) - and I cannot find how how in the world to intercept these and replace them. I can build the exact &quot;String To Long Deserializer&quot; required when processing <code>@JsonTimeRange</code> but that state is nowhere to be found when processing the <code>BeanDeserializer</code> for <code>TimeRange</code>.</p>\n<p>I also can't seem to find a place to re-intercept <code>Foo.timeRange</code> - neither the property NOR the deserializer - in a way that matters.</p>\n<ul>\n<li>I can retrieve the canonical deserializer for <code>TimeRange</code> from <code>DeserializationContext</code> when building my custom property - but I can't reach down into <code>deserializer -&gt; bean properties -&gt; creator -&gt; creator properties -&gt; deserializer</code> and swap anything out. it's all hidden and immutable by this point</li>\n<li><code>ContextualDeserializer#createContextual</code> as executed by <code>BeanDeserializer</code> is the most often cited place in other posts I have read, but it's insufficient for my intention here for what seems to be the same reason - cannot access and change the fields I need to.</li>\n</ul>\n<p>I accept that my desire to use as much vanilla Jackson as possible - including relying on the standard <code>JsonCreator</code> for <code>TimeRange</code>, and how it processes &quot;Unwrapped&quot; fields (<code>NameTransformer</code>, <code>UnwrappedPropertyHandler</code>, and their retrievals within <code>BeanDeserializer#resolve</code>) - may be too much to expect.</p>\n<p>But on the other hand it SEEMS to fit so well and I'm hoping there's a connection between these deserialization levels I can utilize to dynamically tweak the CreatorProperties for TimeRange just enough to let it go. The error I get right now is just type type difference.</p>\n<pre><code>Cannot deserialize value of type `long` from String &quot;2019-01-01T08:00:00.000Z&quot;: not a valid `long` value\n at [Source: (String)&quot;{&quot;startDateTime&quot;:&quot;2019-01-01T08:00:00.000Z&quot;,&quot;endDateTime&quot;:&quot;2019-01-01T18:00:00.000Z&quot;}&quot;; line: 1, column: 141] (through reference chain: com.my.project.TimeRange[&quot;startDateTime&quot;])\ncom.fasterxml.jackson.databind.exc.InvalidFormatException: Cannot deserialize value of type `long` from String &quot;2019-01-01T08:00:00.000Z&quot;: not a valid `long` value\n at [Source: (String)&quot;{&quot;startDateTime&quot;:&quot;2019-01-01T08:00:00.000Z&quot;,&quot;endDateTime&quot;:&quot;2019-01-01T18:00:00.000Z&quot;}&quot;; line: 1, column: 141] (through reference chain: com.my.project.TimeRange[&quot;startDateTime&quot;])\n    at app//com.fasterxml.jackson.databind.exc.InvalidFormatException.from(InvalidFormatException.java:67)\n    at app//com.fasterxml.jackson.databind.DeserializationContext.weirdStringException(DeserializationContext.java:1996)\n    at app//com.fasterxml.jackson.databind.DeserializationContext.handleWeirdStringValue(DeserializationContext.java:1224)\n    at app//com.fasterxml.jackson.databind.deser.std.StdDeserializer._parseLongPrimitive(StdDeserializer.java:916)\n    at app//com.fasterxml.jackson.databind.deser.std.StdDeserializer._parseLongPrimitive(StdDeserializer.java:904)\n    at app//com.fasterxml.jackson.databind.deser.std.NumberDeserializers$LongDeserializer.deserialize(NumberDeserializers.java:573)\n    at app//com.fasterxml.jackson.databind.deser.std.NumberDeserializers$LongDeserializer.deserialize(NumberDeserializers.java:550)\n    at app//com.fasterxml.jackson.databind.deser.SettableBeanProperty.deserialize(SettableBeanProperty.java:542)\n</code></pre>\n<p>Also open to alternatives, but this seems the most Jackson-like solution to me for this problem since they already have some support for Unwrapped fields!</p>\n"},{"tags":["java","database","hibernate"],"comments":[{"owner":{"account_id":4000458,"reputation":17823,"user_id":3296621,"accept_rate":78,"display_name":"Smutje"},"score":0,"creation_date":1478851241,"post_id":40542633,"comment_id":68325679,"body_markdown":"`create` works only one time and not for extending databases, `drop-and-create` may destroy your production data - most people use `create` as initial setup and migrate production databases via third party products (manually, Flyway, Liquibase).","body":"<code>create</code> works only one time and not for extending databases, <code>drop-and-create</code> may destroy your production data - most people use <code>create</code> as initial setup and migrate production databases via third party products (manually, Flyway, Liquibase)."}],"answers":[{"tags":[],"owner":{"account_id":2739343,"reputation":131,"user_id":2361219,"display_name":"Turan Y&#252;ksel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1479035281,"creation_date":1479035281,"answer_id":40573130,"question_id":40542633,"body_markdown":"Hibernate generates DDL statements by analysing your annotations or `&lt;class&gt;` and `&lt;database-object&gt;` definitions in the XML files, it does not take your queries into account. Anyways, it is performance-wise enough for many developers who just develop big software in small chunks and easy to put into automation (e.g. in testing).\r\n\r\nNormally one should define partitions and indexes in a production (or production-like) environment after seeing the nature of the data and queries on the data.\r\n","title":"Good practice while creating schema in Hibernate application","body":"<p>Hibernate generates DDL statements by analysing your annotations or <code>&lt;class&gt;</code> and <code>&lt;database-object&gt;</code> definitions in the XML files, it does not take your queries into account. Anyways, it is performance-wise enough for many developers who just develop big software in small chunks and easy to put into automation (e.g. in testing).</p>\n\n<p>Normally one should define partitions and indexes in a production (or production-like) environment after seeing the nature of the data and queries on the data.</p>\n"},{"tags":[],"owner":{"account_id":29317993,"reputation":31,"user_id":22462274,"display_name":"unimatrix10"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695334563,"creation_date":1695334563,"answer_id":77153929,"question_id":40542633,"body_markdown":"TL;DR: Hibernate recommends manual (assisted whit version control system) administration of the schema for production environments.\r\n\r\nhttps://docs.jboss.org/hibernate/orm/6.3/userguide/html_single/Hibernate_User_Guide.html#best-practices-schema\r\n","title":"Good practice while creating schema in Hibernate application","body":"<p>TL;DR: Hibernate recommends manual (assisted whit version control system) administration of the schema for production environments.</p>\n<p><a href=\"https://docs.jboss.org/hibernate/orm/6.3/userguide/html_single/Hibernate_User_Guide.html#best-practices-schema\" rel=\"nofollow noreferrer\">https://docs.jboss.org/hibernate/orm/6.3/userguide/html_single/Hibernate_User_Guide.html#best-practices-schema</a></p>\n"}],"owner":{"account_id":8405839,"reputation":3,"user_id":6309359,"accept_rate":50,"display_name":"rakesh kapri"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":40573130,"answer_count":2,"score":0,"last_activity_date":1695334563,"creation_date":1478847167,"question_id":40542633,"body_markdown":"This might seem to be a very basic question but what is usually a good practice for creating database schema while using Hibernate application (especially while creating an application from scratch).\r\n\r\nAlthough we can create it using hibernate by using &quot;hibernate.hbm2ddl.auto = create&quot; property but should it be preferred over creating schema using DB administration applications like PL/SQL developer.\r\n\r\nThough we can create partitions, indexes and sequences using PL/SQL Developer but is it also possible to do same using hibernate as well. Even if so, is it a good practice.\r\n\r\nThanks in advance.\r\n","title":"Good practice while creating schema in Hibernate application","body":"<p>This might seem to be a very basic question but what is usually a good practice for creating database schema while using Hibernate application (especially while creating an application from scratch).</p>\n\n<p>Although we can create it using hibernate by using \"hibernate.hbm2ddl.auto = create\" property but should it be preferred over creating schema using DB administration applications like PL/SQL developer.</p>\n\n<p>Though we can create partitions, indexes and sequences using PL/SQL Developer but is it also possible to do same using hibernate as well. Even if so, is it a good practice.</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java","javascript","http","facebook-graph-api","curl"],"comments":[{"owner":{"account_id":4944108,"reputation":1241,"user_id":3980029,"display_name":"Aninda Bhattacharyya"},"score":1,"creation_date":1426096444,"post_id":28993724,"comment_id":46235891,"body_markdown":"It depends if the producer has done something like a discovery service or not. If not, then I am afraid you can&#39;t.","body":"It depends if the producer has done something like a discovery service or not. If not, then I am afraid you can&#39;t."}],"answers":[{"tags":[],"owner":{"account_id":1181763,"reputation":2612,"user_id":1156554,"display_name":"David"},"down_vote_count":1,"up_vote_count":24,"is_accepted":false,"score":23,"last_activity_date":1479905980,"creation_date":1426096561,"answer_id":28993964,"question_id":28993724,"body_markdown":"Some RESTful APIs publish a Web Application Description Language resource (WADL - pronounced like the walk that ducks do - for short).  JAX-RS, or at least Jersy webapps will do this by default at the application root URL /application.wadl.  It doesn&#39;t appear that Twitter&#39;s API is one of these.  Many REST purists would argue that the API should be self describing and self discoverable simply by interacting with it and seeing what other endpoints it will give you.\r\n\r\n[More about WADL from wikipedia...](http://en.wikipedia.org/wiki/Web_Application_Description_Language)","title":"Is there a way to discover all endpoints of a REST API?","body":"<p>Some RESTful APIs publish a Web Application Description Language resource (WADL - pronounced like the walk that ducks do - for short).  JAX-RS, or at least Jersy webapps will do this by default at the application root URL /application.wadl.  It doesn't appear that Twitter's API is one of these.  Many REST purists would argue that the API should be self describing and self discoverable simply by interacting with it and seeing what other endpoints it will give you.</p>\n\n<p><a href=\"http://en.wikipedia.org/wiki/Web_Application_Description_Language\" rel=\"noreferrer\">More about WADL from wikipedia...</a></p>\n"},{"tags":[],"owner":{"account_id":435280,"reputation":14323,"user_id":821786,"display_name":"Gergely Bacso"},"down_vote_count":2,"up_vote_count":88,"is_accepted":true,"score":86,"last_activity_date":1695333990,"creation_date":1426096561,"answer_id":28993965,"question_id":28993724,"body_markdown":"There is no way of programmatically discovering REST services as they do not have a standard registry service.\r\n\r\nApart from doing something insane brute-force search there is no way of finding the right URLs ( not to mention the right parameters). So the only option is documenting your API. For that the best choice I have seen so far is:\r\n\r\n - [Swagger][1]\r\n - And people also like [API Blueprint][2].\r\n\r\n\r\n  [1]: http://swagger.io/\r\n  [2]: https://apiblueprint.org/","title":"Is there a way to discover all endpoints of a REST API?","body":"<p>There is no way of programmatically discovering REST services as they do not have a standard registry service.</p>\n<p>Apart from doing something insane brute-force search there is no way of finding the right URLs ( not to mention the right parameters). So the only option is documenting your API. For that the best choice I have seen so far is:</p>\n<ul>\n<li><a href=\"http://swagger.io/\" rel=\"nofollow noreferrer\">Swagger</a></li>\n<li>And people also like <a href=\"https://apiblueprint.org/\" rel=\"nofollow noreferrer\">API Blueprint</a>.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":198697,"reputation":18245,"user_id":443515,"accept_rate":56,"display_name":"Qwerky"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1562575609,"creation_date":1562575609,"answer_id":56931291,"question_id":28993724,"body_markdown":"You should be able to discover everything you need to know about a REST API by only knowing the initial entry point. This is one of the fundamental points of REST; that it should be hypermedia driven and self describing. It is also one of the least understood principles. The discovery of resources is down to hypermedia links in the responses from the server.\r\n\r\nBack as long ago as [2008 Roy Fielding started to get annoyed about people writing HTTP based APIs and calling them REST][1] just because it was the hot new thing. Here are a couple of points he makes;\r\n\r\n&gt; A REST API **must not define fixed resource names or hierarchies** (an\r\n&gt; obvious coupling of client and server). Servers must have the freedom\r\n&gt; to control their own namespace. Instead, allow servers to instruct\r\n&gt; clients on how to construct appropriate URIs, such as is done in HTML\r\n&gt; forms and URI templates, by defining those instructions within media\r\n&gt; types and link relations. [Failure here implies that clients are\r\n&gt; assuming a resource structure due to out-of band information, such as\r\n&gt; a domain-specific standard, which is the data-oriented equivalent to\r\n&gt; RPCs functional coupling].\r\n\r\nand\r\n\r\n&gt; A REST API **should be entered with no prior knowledge beyond the\r\n&gt; initial URI (bookmark) and set of standardized media types that are\r\n&gt; appropriate for the intended audience** (i.e., expected to be understood\r\n&gt; by any client that might use the API). From that point on, all\r\n&gt; application state transitions must be driven by client selection of\r\n&gt; server-provided choices that are present in the received\r\n&gt; representations or implied by the users manipulation of those\r\n&gt; representations. The transitions may be determined (or limited by) the\r\n&gt; clients knowledge of media types and resource communication\r\n&gt; mechanisms, both of which may be improved on-the-fly (e.g.,\r\n&gt; code-on-demand). [Failure here implies that out-of-band information is\r\n&gt; driving interaction instead of hypertext.]\r\n\r\nWhat this means in practice is that the entry point (typically using the root URI of &quot;/&quot;) contains links to other REST APIs. Those APIs will contain links to other APIs and so on. There should be no API that doesn&#39;t have a link to it. That would mean it is not discoverable.\r\n\r\nThe other answers here fundamentally wrong in that they fail to acknowledge the most basic principle of REST.\r\n\r\n[1]: https://roy.gbiv.com/untangled/2008/rest-apis-must-be-hypertext-driven","title":"Is there a way to discover all endpoints of a REST API?","body":"<p>You should be able to discover everything you need to know about a REST API by only knowing the initial entry point. This is one of the fundamental points of REST; that it should be hypermedia driven and self describing. It is also one of the least understood principles. The discovery of resources is down to hypermedia links in the responses from the server.</p>\n\n<p>Back as long ago as <a href=\"https://roy.gbiv.com/untangled/2008/rest-apis-must-be-hypertext-driven\" rel=\"noreferrer\">2008 Roy Fielding started to get annoyed about people writing HTTP based APIs and calling them REST</a> just because it was the hot new thing. Here are a couple of points he makes;</p>\n\n<blockquote>\n  <p>A REST API <strong>must not define fixed resource names or hierarchies</strong> (an\n  obvious coupling of client and server). Servers must have the freedom\n  to control their own namespace. Instead, allow servers to instruct\n  clients on how to construct appropriate URIs, such as is done in HTML\n  forms and URI templates, by defining those instructions within media\n  types and link relations. [Failure here implies that clients are\n  assuming a resource structure due to out-of band information, such as\n  a domain-specific standard, which is the data-oriented equivalent to\n  RPCs functional coupling].</p>\n</blockquote>\n\n<p>and</p>\n\n<blockquote>\n  <p>A REST API <strong>should be entered with no prior knowledge beyond the\n  initial URI (bookmark) and set of standardized media types that are\n  appropriate for the intended audience</strong> (i.e., expected to be understood\n  by any client that might use the API). From that point on, all\n  application state transitions must be driven by client selection of\n  server-provided choices that are present in the received\n  representations or implied by the users manipulation of those\n  representations. The transitions may be determined (or limited by) the\n  clients knowledge of media types and resource communication\n  mechanisms, both of which may be improved on-the-fly (e.g.,\n  code-on-demand). [Failure here implies that out-of-band information is\n  driving interaction instead of hypertext.]</p>\n</blockquote>\n\n<p>What this means in practice is that the entry point (typically using the root URI of \"/\") contains links to other REST APIs. Those APIs will contain links to other APIs and so on. There should be no API that doesn't have a link to it. That would mean it is not discoverable.</p>\n\n<p>The other answers here fundamentally wrong in that they fail to acknowledge the most basic principle of REST.</p>\n"}],"owner":{"account_id":2656383,"reputation":12294,"user_id":2296997,"accept_rate":62,"display_name":"4m1r"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":202277,"favorite_count":0,"down_vote_count":0,"up_vote_count":92,"accepted_answer_id":28993965,"answer_count":3,"score":92,"last_activity_date":1695333990,"creation_date":1426095858,"question_id":28993724,"body_markdown":"I&#39;m wondering if its possible to programmatically discover all the endpoints of a particular API. \r\n\r\nSo for example if I GET this URL with a browser or curl:\r\nhttps://api.twitter.com/1.1/\r\n\r\nI might get something like this as a JSON response:\r\n\r\n```\r\n&quot;TwitterAPI&quot;:{\r\n\t&quot;version&quot; : 1.1,\r\n\t&quot;GET&quot; : {\r\n\t\t&quot;search/&quot; : [&quot;users&quot;, &quot;trending&quot;],\r\n\t\t&quot;users/&quot; : [&quot;id&quot;, &quot;handle&quot;]\r\n\t}\r\n}\r\n```\r\n\r\nOf course Twitter could choose to publish or not publish this format. So as a side question, are there any libraries for Java or JavaScript that will automatically map and publish the API routes you created in your controllers?  ","title":"Is there a way to discover all endpoints of a REST API?","body":"<p>I'm wondering if its possible to programmatically discover all the endpoints of a particular API.</p>\n<p>So for example if I GET this URL with a browser or curl:\n<a href=\"https://api.twitter.com/1.1/\" rel=\"noreferrer\">https://api.twitter.com/1.1/</a></p>\n<p>I might get something like this as a JSON response:</p>\n<pre><code>&quot;TwitterAPI&quot;:{\n    &quot;version&quot; : 1.1,\n    &quot;GET&quot; : {\n        &quot;search/&quot; : [&quot;users&quot;, &quot;trending&quot;],\n        &quot;users/&quot; : [&quot;id&quot;, &quot;handle&quot;]\n    }\n}\n</code></pre>\n<p>Of course Twitter could choose to publish or not publish this format. So as a side question, are there any libraries for Java or JavaScript that will automatically map and publish the API routes you created in your controllers?</p>\n"},{"tags":["java","input","timer","android-view","countdowntimer"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1695229963,"post_id":77139751,"comment_id":135997845,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":6979173,"reputation":942,"user_id":6576302,"display_name":"C.F.G"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695192307,"creation_date":1695192307,"answer_id":77139900,"question_id":77139751,"body_markdown":"**First Method:**\r\n\r\nTry using Strings features (I haven&#39;t tested):\r\n\r\n    String formattedSecond = second + Html.fromHtml(&quot;&lt;sub&gt;&lt;small&gt;&quot; + s + &quot;&lt;/small&gt;&lt;/sub&gt;&quot;)\r\n    \r\n    secondTextView.setText(formattedSecond);\r\n\r\n\r\n**Second Method:**\r\n\r\nYou can add an extra `TextView` aligned in Right (End) Bottom of each `TextView` of smaller size both inside a `RelativeLayout`.\r\n\r\n    &lt;RelativeLayout\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;&gt;\r\n            &lt;TextView\r\n                android:id=&quot;@+id/aa&quot;\r\n                android:layout_width=&quot;80dp&quot;\r\n                android:layout_height=&quot;80dp&quot;\r\n                android:text=&quot;12&quot;\r\n                android:gravity=&quot;center&quot;\r\n                android:textSize=&quot;50sp&quot;/&gt;\r\n    \r\n            &lt;TextView\r\n                android:id=&quot;@+id/bb&quot;\r\n                android:layout_width=&quot;24dp&quot;\r\n                android:layout_height=&quot;24dp&quot;\r\n                android:text=&quot;S&quot;\r\n                android:gravity=&quot;center&quot;\r\n                android:textSize=&quot;20sp&quot;\r\n                android:layout_alignBottom=&quot;@id/aa&quot;\r\n                android:layout_alignEnd=&quot;@id/aa&quot; /&gt;\r\n    \r\n    &lt;/RelativeLayout&gt;","title":"How to take input for timer with 11 buttons","body":"<p><strong>First Method:</strong></p>\n<p>Try using Strings features (I haven't tested):</p>\n<pre><code>String formattedSecond = second + Html.fromHtml(&quot;&lt;sub&gt;&lt;small&gt;&quot; + s + &quot;&lt;/small&gt;&lt;/sub&gt;&quot;)\n\nsecondTextView.setText(formattedSecond);\n</code></pre>\n<p><strong>Second Method:</strong></p>\n<p>You can add an extra <code>TextView</code> aligned in Right (End) Bottom of each <code>TextView</code> of smaller size both inside a <code>RelativeLayout</code>.</p>\n<pre><code>&lt;RelativeLayout\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;&gt;\n        &lt;TextView\n            android:id=&quot;@+id/aa&quot;\n            android:layout_width=&quot;80dp&quot;\n            android:layout_height=&quot;80dp&quot;\n            android:text=&quot;12&quot;\n            android:gravity=&quot;center&quot;\n            android:textSize=&quot;50sp&quot;/&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/bb&quot;\n            android:layout_width=&quot;24dp&quot;\n            android:layout_height=&quot;24dp&quot;\n            android:text=&quot;S&quot;\n            android:gravity=&quot;center&quot;\n            android:textSize=&quot;20sp&quot;\n            android:layout_alignBottom=&quot;@id/aa&quot;\n            android:layout_alignEnd=&quot;@id/aa&quot; /&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1695333951,"creation_date":1695333951,"answer_id":77153891,"question_id":77139751,"body_markdown":"&gt; _&#39;... When a user type input like &quot;123&quot; the textview should change from right to left like &quot;00h 01m 23s&quot; . I cant figure out how to do this. It should take input like google clock app GOOGLE CLOCK APP ...&#39;_\r\n\r\nUtilize a _class structure_ to parse the value into _hours_, _minutes_, and _seconds_.\r\n\r\n```java\r\nimport static java.lang.Integer.parseInt;\r\n```\r\n\r\n```java\r\nclass Time {\r\n    String string = &quot;&quot;;\r\n    int h, m, s;\r\n\r\n    Time() { }\r\n    Time(String s) { append(s); }\r\n\r\n    void append(String s) {\r\n        string += s;\r\n        parse();\r\n    }\r\n\r\n    private void parse() {\r\n        int n = string.length();\r\n        if (n &lt; 3) s = parseInt(string);\r\n        else {\r\n            if (n &lt;= 4) m = parseInt(string.substring(0, n - 2));\r\n            else {\r\n                h = parseInt(string.substring(0, n - 4));\r\n                m = parseInt(string.substring(n - 4, n - 2));\r\n            }\r\n            s = parseInt(string.substring(n - 2));\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;%02dh %02dm %02ds&quot;.formatted(h, m, s);\r\n    }\r\n}\r\nString s = &quot;12345&quot;;\r\nSystem.out.println(new Time(s));\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n01h 23m 45s\r\n```\r\n\r\nHere is an example of an appending value.\r\n\r\n```java\r\nTime t = new Time();\r\nfor (int i = 1; i &lt; 10; i++) {\r\n    t.append(String.valueOf(i));\r\n    System.out.println(t);\r\n}\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n00h 00m 01s\r\n00h 00m 12s\r\n00h 01m 23s\r\n00h 12m 34s\r\n01h 23m 45s\r\n12h 34m 56s\r\n123h 45m 67s\r\n1234h 56m 78s\r\n12345h 67m 89s\r\n```","title":"How to take input for timer with 11 buttons","body":"<blockquote>\n<p><em>'... When a user type input like &quot;123&quot; the textview should change from right to left like &quot;00h 01m 23s&quot; . I cant figure out how to do this. It should take input like google clock app GOOGLE CLOCK APP ...'</em></p>\n</blockquote>\n<p>Utilize a <em>class structure</em> to parse the value into <em>hours</em>, <em>minutes</em>, and <em>seconds</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import static java.lang.Integer.parseInt;\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>class Time {\n    String string = &quot;&quot;;\n    int h, m, s;\n\n    Time() { }\n    Time(String s) { append(s); }\n\n    void append(String s) {\n        string += s;\n        parse();\n    }\n\n    private void parse() {\n        int n = string.length();\n        if (n &lt; 3) s = parseInt(string);\n        else {\n            if (n &lt;= 4) m = parseInt(string.substring(0, n - 2));\n            else {\n                h = parseInt(string.substring(0, n - 4));\n                m = parseInt(string.substring(n - 4, n - 2));\n            }\n            s = parseInt(string.substring(n - 2));\n        }\n    }\n\n    @Override\n    public String toString() {\n        return &quot;%02dh %02dm %02ds&quot;.formatted(h, m, s);\n    }\n}\nString s = &quot;12345&quot;;\nSystem.out.println(new Time(s));\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>01h 23m 45s\n</code></pre>\n<p>Here is an example of an appending value.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Time t = new Time();\nfor (int i = 1; i &lt; 10; i++) {\n    t.append(String.valueOf(i));\n    System.out.println(t);\n}\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>00h 00m 01s\n00h 00m 12s\n00h 01m 23s\n00h 12m 34s\n01h 23m 45s\n12h 34m 56s\n123h 45m 67s\n1234h 56m 78s\n12345h 67m 89s\n</code></pre>\n"}],"owner":{"account_id":28912062,"reputation":13,"user_id":22144862,"display_name":"codec123"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":2,"score":0,"last_activity_date":1695333951,"creation_date":1695190739,"question_id":77139751,"body_markdown":"I am new to android development . I am trying to make a timer app . My UI has 11 buttons from 0-9 , a 00 button and a backspace button . The initial format of my textview will be like &quot;00h 00m 00s&quot; . When a user type input like &quot;123&quot; the textview should change from right to left like &quot;00h 01m 23s&quot; . I cant figure out how to do this. \r\nIt should take input like google clock app\r\nGOOGLE CLOCK APP\r\n\r\n[![GOOGLE CLOCK APP][1]][1]\r\n\r\nPLS WRITE CLEAR CODE IN JAVA . \r\n\r\nI tried using three textview for h , m and s .  I used SpannableStringBuilder to reduce the size of h , m and s . \r\ni was expecting it to replace zeros in the text view but it is removing it and writing new number . in short i am messed up.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0Vs8K.jpg","title":"How to take input for timer with 11 buttons","body":"<p>I am new to android development . I am trying to make a timer app . My UI has 11 buttons from 0-9 , a 00 button and a backspace button . The initial format of my textview will be like &quot;00h 00m 00s&quot; . When a user type input like &quot;123&quot; the textview should change from right to left like &quot;00h 01m 23s&quot; . I cant figure out how to do this.\nIt should take input like google clock app\nGOOGLE CLOCK APP</p>\n<p><a href=\"https://i.stack.imgur.com/0Vs8K.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0Vs8K.jpg\" alt=\"GOOGLE CLOCK APP\" /></a></p>\n<p>PLS WRITE CLEAR CODE IN JAVA .</p>\n<p>I tried using three textview for h , m and s .  I used SpannableStringBuilder to reduce the size of h , m and s .\ni was expecting it to replace zeros in the text view but it is removing it and writing new number . in short i am messed up.</p>\n"},{"tags":["java","jackson","java-time"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1639930941,"post_id":70412805,"comment_id":124468585,"body_markdown":"Do you use the latest version of jackson?","body":"Do you use the latest version of jackson?"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1639934677,"post_id":70412805,"comment_id":124469566,"body_markdown":"In _Project &gt; Properties: Java Build Path_ tab _Module Dependencies_ select the `java.base` module and click _Expose Package..._ button. Enter as _Package_ `java.time`, as _Target module_ `UNNAMED` and select _opens_. Does this fix your issue? But probably the root cause is that you use a too old library that was written for an older Java version. So first check, if your used libraries are up to date.","body":"In <i>Project &gt; Properties: Java Build Path</i> tab <i>Module Dependencies</i> select the <code>java.base</code> module and click <i>Expose Package...</i> button. Enter as <i>Package</i> <code>java.time</code>, as <i>Target module</i> <code>UNNAMED</code> and select <i>opens</i>. Does this fix your issue? But probably the root cause is that you use a too old library that was written for an older Java version. So first check, if your used libraries are up to date."},{"owner":{"display_name":"user17173618"},"score":0,"creation_date":1640013555,"post_id":70412805,"comment_id":124488021,"body_markdown":"I got it now, default constructor was missing and I had a mistake in it and yes I had to use JavaTime for it. Thanks","body":"I got it now, default constructor was missing and I had a mistake in it and yes I had to use JavaTime for it. Thanks"}],"answers":[{"tags":[],"owner":{"account_id":23867602,"reputation":21,"user_id":17869745,"display_name":"necmiye"},"down_vote_count":13,"up_vote_count":4,"is_accepted":false,"score":-9,"last_activity_date":1641628740,"creation_date":1641628740,"answer_id":70630580,"question_id":70412805,"body_markdown":"I solved this problem to change jdk16 to jdk11.","title":"What does this error mean? java.lang.reflect.InaccessibleObjectException: Unable to make field private final int java.time.LocalDate.year","body":"<p>I solved this problem to change jdk16 to jdk11.</p>\n"},{"tags":[],"owner":{"account_id":6403427,"reputation":2065,"user_id":5471235,"accept_rate":90,"display_name":"makson"},"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1643284679,"creation_date":1643284679,"answer_id":70878195,"question_id":70412805,"body_markdown":"You can fix this issue on your own.\r\n\r\nadd `--add-opens java.base/java.time=ALL-UNNAMED` as start-argument and it&#39;ll work.\r\n\r\nHere is the corresponding [JEP][1]\r\n\r\n\r\n  [1]: https://openjdk.java.net/jeps/396","title":"What does this error mean? java.lang.reflect.InaccessibleObjectException: Unable to make field private final int java.time.LocalDate.year","body":"<p>You can fix this issue on your own.</p>\n<p>add <code>--add-opens java.base/java.time=ALL-UNNAMED</code> as start-argument and it'll work.</p>\n<p>Here is the corresponding <a href=\"https://openjdk.java.net/jeps/396\" rel=\"noreferrer\">JEP</a></p>\n"},{"tags":[],"owner":{"account_id":15922144,"reputation":97,"user_id":11488835,"display_name":"Ahmed Ahmed"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1663391248,"creation_date":1663391248,"answer_id":73752279,"question_id":70412805,"body_markdown":"I used this way and fixed this Problem. Firstly you have to create LocalDateTime Deserializer with the given Date Format in your Json Data.\r\n\r\n    class LocalDateTimeDeserializer implements JsonDeserializer &lt; LocalDateTime &gt; {\r\n    @Override\r\n    public LocalDateTime deserialize(JsonElement json, Type typeOfT, JsonDeserializationContext context)\r\n    throws JsonParseException {\r\n        return LocalDateTime.parse(json.getAsString(),\r\n            DateTimeFormatter.ofPattern(&quot;d::MMM::uuuu HH::mm::ss&quot;).withLocale(Locale.ENGLISH));\r\n    }\r\n}\r\n\r\nThen create Object of Type GsonBuilder and adapt it with your LocalDateDeserializer.\r\n\r\n    gsonBuilder.registerTypeAdapter(LocalDateTime.class, new LocalDateTimeDeserializer());\r\n    \r\n    Gson gson = gsonBuilder.setPrettyPrinting().create();\r\n\r\n","title":"What does this error mean? java.lang.reflect.InaccessibleObjectException: Unable to make field private final int java.time.LocalDate.year","body":"<p>I used this way and fixed this Problem. Firstly you have to create LocalDateTime Deserializer with the given Date Format in your Json Data.</p>\n<pre><code>class LocalDateTimeDeserializer implements JsonDeserializer &lt; LocalDateTime &gt; {\n@Override\npublic LocalDateTime deserialize(JsonElement json, Type typeOfT, JsonDeserializationContext context)\nthrows JsonParseException {\n    return LocalDateTime.parse(json.getAsString(),\n        DateTimeFormatter.ofPattern(&quot;d::MMM::uuuu HH::mm::ss&quot;).withLocale(Locale.ENGLISH));\n}\n</code></pre>\n<p>}</p>\n<p>Then create Object of Type GsonBuilder and adapt it with your LocalDateDeserializer.</p>\n<pre><code>gsonBuilder.registerTypeAdapter(LocalDateTime.class, new LocalDateTimeDeserializer());\n\nGson gson = gsonBuilder.setPrettyPrinting().create();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3469431,"reputation":31,"user_id":2904223,"display_name":"nbarm"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1666984411,"creation_date":1666984411,"answer_id":74239950,"question_id":70412805,"body_markdown":"I got this exception with JDK 17 and Gson:\r\n\r\n    Unable to make field private final java.time.LocalDate java.time.LocalDateTime.date accessible: module java.base does not &quot;opens java.time&quot;\r\n\r\nso I used this custom TypeAdapter with null checks:\r\n\r\n    public class LocalDateTimeTypeAdapter extends TypeAdapter&lt;LocalDateTime&gt; {\r\n    \r\n        @Override\r\n        public void write(final JsonWriter jsonWriter, final LocalDateTime localDate) throws IOException {\r\n            if (localDate == null) {\r\n                jsonWriter.nullValue();\r\n                return;\r\n            }\r\n            jsonWriter.value(localDate.toString());\r\n        }\r\n    \r\n        @Override\r\n        public LocalDateTime read(final JsonReader jsonReader) throws IOException {\r\n            if (jsonReader.peek() == JsonToken.NULL) {\r\n                jsonReader.nextNull();\r\n                return null;\r\n            }\r\n            return ZonedDateTime.parse(jsonReader.nextString()).toLocalDateTime();\r\n        }\r\n    }","title":"What does this error mean? java.lang.reflect.InaccessibleObjectException: Unable to make field private final int java.time.LocalDate.year","body":"<p>I got this exception with JDK 17 and Gson:</p>\n<pre><code>Unable to make field private final java.time.LocalDate java.time.LocalDateTime.date accessible: module java.base does not &quot;opens java.time&quot;\n</code></pre>\n<p>so I used this custom TypeAdapter with null checks:</p>\n<pre><code>public class LocalDateTimeTypeAdapter extends TypeAdapter&lt;LocalDateTime&gt; {\n\n    @Override\n    public void write(final JsonWriter jsonWriter, final LocalDateTime localDate) throws IOException {\n        if (localDate == null) {\n            jsonWriter.nullValue();\n            return;\n        }\n        jsonWriter.value(localDate.toString());\n    }\n\n    @Override\n    public LocalDateTime read(final JsonReader jsonReader) throws IOException {\n        if (jsonReader.peek() == JsonToken.NULL) {\n            jsonReader.nextNull();\n            return null;\n        }\n        return ZonedDateTime.parse(jsonReader.nextString()).toLocalDateTime();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1668383567,"creation_date":1668383029,"answer_id":74425662,"question_id":70412805,"body_markdown":"From my reading of [this issue](https://github.com/fasterxml/jackson-databind/issues/3168), the problems that required you to [do the &quot;--add-opens&quot; hack][1]  or other work-arounds **should be fixed** in current Jackson releases.\r\n\r\nSo, if you are still finding you need to do this:\r\n\r\n  1.  Make sure you are using a recent Jackson release&lt;sup&gt;1&lt;/sup&gt;.\r\n  2.  If that doesn&#39;t help, raise a Jackson issue which sufficient specificity to allow the Jackson developers to figure out where this instance of the problem is occuring.\r\n\r\nThe &quot;--add-opens&quot; approach will work, but it is not a good solution.  The good solution is to *help* the developers to fix the problem by reporting it.\r\n\r\n-------------------\r\n\r\n&lt;sup&gt;1 - I can&#39;t give you a specific release because it is not clear from the issue tracker or release notes *precisely* when the problem(s) were fixed.   But 2.14.0 or later seems like a good bet, based on the date of the issue closure.&lt;/sup&gt;\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/70878195/139985","title":"What does this error mean? java.lang.reflect.InaccessibleObjectException: Unable to make field private final int java.time.LocalDate.year","body":"<p>From my reading of <a href=\"https://github.com/fasterxml/jackson-databind/issues/3168\" rel=\"nofollow noreferrer\">this issue</a>, the problems that required you to <a href=\"https://stackoverflow.com/a/70878195/139985\">do the &quot;--add-opens&quot; hack</a>  or other work-arounds <strong>should be fixed</strong> in current Jackson releases.</p>\n<p>So, if you are still finding you need to do this:</p>\n<ol>\n<li>Make sure you are using a recent Jackson release<sup>1</sup>.</li>\n<li>If that doesn't help, raise a Jackson issue which sufficient specificity to allow the Jackson developers to figure out where this instance of the problem is occuring.</li>\n</ol>\n<p>The &quot;--add-opens&quot; approach will work, but it is not a good solution.  The good solution is to <em>help</em> the developers to fix the problem by reporting it.</p>\n<hr />\n<p><sup>1 - I can't give you a specific release because it is not clear from the issue tracker or release notes <em>precisely</em> when the problem(s) were fixed.   But 2.14.0 or later seems like a good bet, based on the date of the issue closure.</sup></p>\n"},{"tags":[],"owner":{"account_id":7514053,"reputation":61,"user_id":15321318,"display_name":"chetan"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1672906920,"creation_date":1672906920,"answer_id":75015574,"question_id":70412805,"body_markdown":"In STS or eclipse **add** the folowing statement in **default VM arguments**\r\n\r\n**--add-opens java.base/java.time=ALL-UNNAMED**\r\n\r\nDefault VM arguments path: \r\nWindow -&gt; Preferences -&gt; Installed JREs -&gt; select jre -&gt; edit\r\n","title":"What does this error mean? java.lang.reflect.InaccessibleObjectException: Unable to make field private final int java.time.LocalDate.year","body":"<p>In STS or eclipse <strong>add</strong> the folowing statement in <strong>default VM arguments</strong></p>\n<p><strong>--add-opens java.base/java.time=ALL-UNNAMED</strong></p>\n<p>Default VM arguments path:\nWindow -&gt; Preferences -&gt; Installed JREs -&gt; select jre -&gt; edit</p>\n"},{"tags":[],"owner":{"account_id":19953994,"reputation":11,"user_id":14622992,"display_name":"Ken"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674760788,"creation_date":1674760717,"answer_id":75250722,"question_id":70412805,"body_markdown":"I encountered a similar issue when I was unit testing Twilio SMS.\r\n\r\nI solved the issue by registering [JavaTimeModule][1] on the ObjectMapper.\r\n\r\n\r\n```\r\n        String json = &quot;{\\&quot;status\\&quot;: \\&quot;sent\\&quot;}&quot;;\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        mapper.registerModule(new JavaTimeModule());\r\n        var message = Message.fromJson(json, mapper);\r\n```\r\n\r\n\r\n  [1]: https://fasterxml.github.io/jackson-modules-java8/javadoc/datetime/2.9/com/fasterxml/jackson/datatype/jsr310/JavaTimeModule.html","title":"What does this error mean? java.lang.reflect.InaccessibleObjectException: Unable to make field private final int java.time.LocalDate.year","body":"<p>I encountered a similar issue when I was unit testing Twilio SMS.</p>\n<p>I solved the issue by registering <a href=\"https://fasterxml.github.io/jackson-modules-java8/javadoc/datetime/2.9/com/fasterxml/jackson/datatype/jsr310/JavaTimeModule.html\" rel=\"nofollow noreferrer\">JavaTimeModule</a> on the ObjectMapper.</p>\n<pre><code>        String json = &quot;{\\&quot;status\\&quot;: \\&quot;sent\\&quot;}&quot;;\n        ObjectMapper mapper = new ObjectMapper();\n        mapper.registerModule(new JavaTimeModule());\n        var message = Message.fromJson(json, mapper);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6579550,"reputation":524,"user_id":5084232,"display_name":"Tushar Wasson"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1687901582,"creation_date":1687901582,"answer_id":76568767,"question_id":70412805,"body_markdown":"I got this error after upgrading the application to Java 17 and Spring Boot 3. Adding VM options will lead to other problems.\r\n\r\n1.Fixed by adding the adapter.\r\n\r\n   \r\n\r\n     public class LocalDateTypeAdapter\r\n        implements JsonSerializer&lt;LocalDate&gt;, JsonDeserializer&lt;LocalDate&gt; {\r\n    \r\n      private final DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;);\r\n    \r\n      @Override\r\n      public JsonElement serialize(final LocalDate date, final Type typeOfSrc,\r\n          final JsonSerializationContext context) {\r\n        return new JsonPrimitive(date.format(formatter));\r\n      }\r\n    \r\n      @Override\r\n      public LocalDate deserialize(final JsonElement json, final Type typeOfT,\r\n          final JsonDeserializationContext context) throws JsonParseException {\r\n        return LocalDate.parse(json.getAsString(), formatter);\r\n      }\r\n    }\r\n\r\n2.Then register the adapter like this :-\r\n\r\n    @Configuration\r\n    public class GsonConfiguration {\r\n    \r\n        @Bean\r\n        public GsonBuilderCustomizer typeAdapterRegistration() {\r\n            return builder -&gt; {\r\n                builder.registerTypeAdapter(LocalDate.class, new LocalDateTypeAdapter());\r\n            };\r\n        }\r\n    }","title":"What does this error mean? java.lang.reflect.InaccessibleObjectException: Unable to make field private final int java.time.LocalDate.year","body":"<p>I got this error after upgrading the application to Java 17 and Spring Boot 3. Adding VM options will lead to other problems.</p>\n<p>1.Fixed by adding the adapter.</p>\n<pre><code> public class LocalDateTypeAdapter\n    implements JsonSerializer&lt;LocalDate&gt;, JsonDeserializer&lt;LocalDate&gt; {\n\n  private final DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;);\n\n  @Override\n  public JsonElement serialize(final LocalDate date, final Type typeOfSrc,\n      final JsonSerializationContext context) {\n    return new JsonPrimitive(date.format(formatter));\n  }\n\n  @Override\n  public LocalDate deserialize(final JsonElement json, final Type typeOfT,\n      final JsonDeserializationContext context) throws JsonParseException {\n    return LocalDate.parse(json.getAsString(), formatter);\n  }\n}\n</code></pre>\n<p>2.Then register the adapter like this :-</p>\n<pre><code>@Configuration\npublic class GsonConfiguration {\n\n    @Bean\n    public GsonBuilderCustomizer typeAdapterRegistration() {\n        return builder -&gt; {\n            builder.registerTypeAdapter(LocalDate.class, new LocalDateTypeAdapter());\n        };\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11657675,"reputation":996,"user_id":8536903,"display_name":"Lukk17s"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688715360,"creation_date":1688715360,"answer_id":76634850,"question_id":70412805,"body_markdown":"You can always use additional DTO object with already parsed LocalDate to String.","title":"What does this error mean? java.lang.reflect.InaccessibleObjectException: Unable to make field private final int java.time.LocalDate.year","body":"<p>You can always use additional DTO object with already parsed LocalDate to String.</p>\n"}],"owner":{"display_name":"user17173618"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60455,"favorite_count":0,"down_vote_count":1,"up_vote_count":25,"answer_count":9,"score":24,"last_activity_date":1695333117,"creation_date":1639927919,"question_id":70412805,"body_markdown":"I&#39;m trying to make a method, which uses the Json data with jackson library to have a list of objects.\r\nIf I run my code, I get the error:\r\n\r\njava.lang.reflect.InaccessibleObjectException: Unable to make field private final int java.time.LocalDate.year accessible: module java.base does not &quot;opens java.time&quot; to unnamed module @5c90e579\r\n\r\nWhy is it giving me an error about LocalDate even though I have JodaModul in my Code?\r\n\r\n```    \r\npublic static List&lt;Tweet&gt; getTweetsFile() throws Exception{\r\n\r\n            ObjectMapper mapper = new ObjectMapper().\r\n                    registerModule(new JodaModule()).\r\n                    configure(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS, false);\r\n            \r\n            File path = new File (&quot;C:/Users/PC/eclipse-workspace/hw4/tw.json&quot;);\r\n\r\n            List&lt;Tweet&gt; myObjects3 =  Arrays.asList(mapper.readValue(path, Tweet.class));\r\n    \r\n            return myObjects3;\r\n    }\r\n```\r\n\r\nHow it looks in my File:\r\n\r\n    [{&quot;date&quot;:&quot;2001-12-28&quot;,&quot;tweetNumber&quot;:1,&quot;country&quot;:&quot;England&quot;,&quot;comments&quot;:11,&quot;message&quot;:&quot;I like to watch anime and reading books&quot;,&quot;retweets&quot;:3,&quot;username&quot;:&quot;Isabelle&quot;,&quot;likes&quot;:55},{&quot;date&quot;:&quot;2003-05-11&quot;,&quot;tweetNumber&quot;:2,&quot;country&quot;:&quot;France&quot;,&quot;comments&quot;:25,&quot;message&quot;:&quot;I&#39;m Viatnamese, but I live in France&quot;,&quot;retweets&quot;:30,&quot;username&quot;:&quot;Vin&quot;,&quot;likes&quot;:110}..\r\n    \r\n**It&#39;s not in the right order like my Object has in their constructor, could that be the reaseon?**","title":"What does this error mean? java.lang.reflect.InaccessibleObjectException: Unable to make field private final int java.time.LocalDate.year","body":"<p>I'm trying to make a method, which uses the Json data with jackson library to have a list of objects.\nIf I run my code, I get the error:</p>\n<p>java.lang.reflect.InaccessibleObjectException: Unable to make field private final int java.time.LocalDate.year accessible: module java.base does not &quot;opens java.time&quot; to unnamed module @5c90e579</p>\n<p>Why is it giving me an error about LocalDate even though I have JodaModul in my Code?</p>\n<pre><code>public static List&lt;Tweet&gt; getTweetsFile() throws Exception{\n\n            ObjectMapper mapper = new ObjectMapper().\n                    registerModule(new JodaModule()).\n                    configure(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS, false);\n            \n            File path = new File (&quot;C:/Users/PC/eclipse-workspace/hw4/tw.json&quot;);\n\n            List&lt;Tweet&gt; myObjects3 =  Arrays.asList(mapper.readValue(path, Tweet.class));\n    \n            return myObjects3;\n    }\n</code></pre>\n<p>How it looks in my File:</p>\n<pre><code>[{&quot;date&quot;:&quot;2001-12-28&quot;,&quot;tweetNumber&quot;:1,&quot;country&quot;:&quot;England&quot;,&quot;comments&quot;:11,&quot;message&quot;:&quot;I like to watch anime and reading books&quot;,&quot;retweets&quot;:3,&quot;username&quot;:&quot;Isabelle&quot;,&quot;likes&quot;:55},{&quot;date&quot;:&quot;2003-05-11&quot;,&quot;tweetNumber&quot;:2,&quot;country&quot;:&quot;France&quot;,&quot;comments&quot;:25,&quot;message&quot;:&quot;I'm Viatnamese, but I live in France&quot;,&quot;retweets&quot;:30,&quot;username&quot;:&quot;Vin&quot;,&quot;likes&quot;:110}..\n</code></pre>\n<p><strong>It's not in the right order like my Object has in their constructor, could that be the reaseon?</strong></p>\n"},{"tags":["java","macos","intellij-idea","groovy"],"answers":[{"tags":[],"owner":{"account_id":395375,"reputation":7111,"user_id":3591528,"display_name":"teppic"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1481588583,"creation_date":1481588583,"answer_id":41111852,"question_id":41110256,"body_markdown":"`/usr/local/opt/groovy/libexec`.\r\n\r\nuse `brew info groovy` to print help:\r\n\r\n    ==&gt; Caveats\r\n      You should set GROOVY_HOME:\r\n        export GROOVY_HOME=/usr/local/opt/groovy/libexec","title":"How do I tell IntelliJ about groovy installed with brew on OSX","body":"<p><code>/usr/local/opt/groovy/libexec</code>.</p>\n\n<p>use <code>brew info groovy</code> to print help:</p>\n\n<pre><code>==&gt; Caveats\n  You should set GROOVY_HOME:\n    export GROOVY_HOME=/usr/local/opt/groovy/libexec\n</code></pre>\n"},{"tags":[],"owner":{"account_id":306132,"reputation":414,"user_id":616703,"display_name":"Will"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1481738838,"creation_date":1481738838,"answer_id":41149255,"question_id":41110256,"body_markdown":"I did this with Intellij IDEA 2016.3 on OS X.\r\n\r\nI am able to configure this under **Project Settings** -&gt; **Global Libraries**.\r\n\r\n1. Add a new global library  by clicking the `+` and select `Java`\r\n\r\n2. Navigate to the location `homebrew` installed Groovy, `/usr/local/Cellar/groovy/2.4.7` and select all the JAR files in the `libexec/lib` directory.\r\n\r\n3. Set the name to `groovy-2.4.7`, or whatever works for you.\r\n","title":"How do I tell IntelliJ about groovy installed with brew on OSX","body":"<p>I did this with Intellij IDEA 2016.3 on OS X.</p>\n\n<p>I am able to configure this under <strong>Project Settings</strong> -> <strong>Global Libraries</strong>.</p>\n\n<ol>\n<li><p>Add a new global library  by clicking the <code>+</code> and select <code>Java</code></p></li>\n<li><p>Navigate to the location <code>homebrew</code> installed Groovy, <code>/usr/local/Cellar/groovy/2.4.7</code> and select all the JAR files in the <code>libexec/lib</code> directory.</p></li>\n<li><p>Set the name to <code>groovy-2.4.7</code>, or whatever works for you.</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":3449,"reputation":11830,"user_id":4979,"accept_rate":72,"display_name":"Omer van Kloeten"},"down_vote_count":0,"up_vote_count":144,"is_accepted":false,"score":144,"last_activity_date":1695331237,"creation_date":1490188640,"answer_id":42952785,"question_id":41110256,"body_markdown":"1. Install groovysdk:&lt;pre&gt;\r\n   brew remove groovy \r\n   brew install groovysdk&lt;/pre&gt;\r\n\r\n1. Set `GROOVY_HOME`, otherwise IntelliJ reports as broken installation:&lt;pre&gt;\r\n   export GROOVY_HOME=/usr/local/opt/groovy/libexec&lt;/pre&gt;\r\n\r\n1. Point IntelliJ to the installed directory, e.g.:&lt;pre&gt;\r\n   /usr/local/Cellar/groovysdk/2.4.7/libexec&lt;/pre&gt;","title":"How do I tell IntelliJ about groovy installed with brew on OSX","body":"<ol>\n<li><p>Install groovysdk:<pre>\nbrew remove groovy\nbrew install groovysdk</pre></p>\n</li>\n<li><p>Set <code>GROOVY_HOME</code>, otherwise IntelliJ reports as broken installation:<pre>\nexport GROOVY_HOME=/usr/local/opt/groovy/libexec</pre></p>\n</li>\n<li><p>Point IntelliJ to the installed directory, e.g.:<pre>\n/usr/local/Cellar/groovysdk/2.4.7/libexec</pre></p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1984827,"reputation":709,"user_id":2390967,"display_name":"Fusca Software"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1493464996,"creation_date":1493464996,"answer_id":43695068,"question_id":41110256,"body_markdown":"Because I could not select /usr in the open dialog, I used to &#39;go to folder&#39; function of finder and created a favorite entry for /usr/local/opt/groovy/libexec\r\nwhich worked.","title":"How do I tell IntelliJ about groovy installed with brew on OSX","body":"<p>Because I could not select /usr in the open dialog, I used to 'go to folder' function of finder and created a favorite entry for /usr/local/opt/groovy/libexec\nwhich worked.</p>\n"},{"tags":[],"owner":{"account_id":2975925,"reputation":2918,"user_id":2526975,"display_name":"f-society"},"down_vote_count":1,"up_vote_count":49,"is_accepted":false,"score":48,"last_activity_date":1695332512,"creation_date":1505236069,"answer_id":46182040,"question_id":41110256,"body_markdown":"    brew install groovysdk\r\n\r\n - Right-Click on Project Root Folder or if a Config Wizard Pops up at the top of your windows we can click that link.\r\n\r\n - Select **&quot;Add Framework Support&quot;**.  \r\n   NOTE: if you don&#39;t see it, just press &lt;kbd&gt; command&lt;/kbd&gt;&lt;kbd&gt; shift&lt;/kbd&gt;&lt;kbd&gt;a&lt;/kbd&gt; and type &quot;Add Framework Support&quot; (i.e. use the [&quot;Find Action&quot;][1] command).\r\n\r\n - Scroll down and select **Groovy**.\r\n\r\n   If it does not show in the list, it&#39;s because it already has the framework added.\r\n - If Groovy has not been added to IntellJ then select **Create...**\r\n\r\n - navigate to `/usr/local/Cellar/groovysdk/&lt;version&gt;/libexec/`.  \r\n   E.g: `/usr/local/Cellar/groovysdk/2.4.11/libexec/`\r\n\r\n**Gotcha:** if it shows the file browser, bit does not let you view your `/usr/local` file path, you need to press &lt;kbd&gt; shift&lt;/kbd&gt;&lt;kbd&gt; command&lt;/kbd&gt;&lt;kbd&gt;g&lt;/kbd&gt; to open a dialog where you can type the path of any folder that you want to open.\r\n\r\nDone.\r\n\r\n\r\n  [1]: https://www.jetbrains.com/idea/guide/tutorials/presenting/find-action/","title":"How do I tell IntelliJ about groovy installed with brew on OSX","body":"<pre><code>brew install groovysdk\n</code></pre>\n<ul>\n<li><p>Right-Click on Project Root Folder or if a Config Wizard Pops up at the top of your windows we can click that link.</p>\n</li>\n<li><p>Select <strong>&quot;Add Framework Support&quot;</strong>.<br />\nNOTE: if you don't see it, just press <kbd> command</kbd><kbd> shift</kbd><kbd>a</kbd> and type &quot;Add Framework Support&quot; (i.e. use the <a href=\"https://www.jetbrains.com/idea/guide/tutorials/presenting/find-action/\" rel=\"nofollow noreferrer\">&quot;Find Action&quot;</a> command).</p>\n</li>\n<li><p>Scroll down and select <strong>Groovy</strong>.</p>\n<p>If it does not show in the list, it's because it already has the framework added.</p>\n</li>\n<li><p>If Groovy has not been added to IntellJ then select <strong>Create...</strong></p>\n</li>\n<li><p>navigate to <code>/usr/local/Cellar/groovysdk/&lt;version&gt;/libexec/</code>.<br />\nE.g: <code>/usr/local/Cellar/groovysdk/2.4.11/libexec/</code></p>\n</li>\n</ul>\n<p><strong>Gotcha:</strong> if it shows the file browser, bit does not let you view your <code>/usr/local</code> file path, you need to press <kbd> shift</kbd><kbd> command</kbd><kbd>g</kbd> to open a dialog where you can type the path of any folder that you want to open.</p>\n<p>Done.</p>\n"},{"tags":[],"owner":{"account_id":8150044,"reputation":455,"user_id":6137387,"display_name":"RB7"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1553896765,"creation_date":1553896765,"answer_id":55425977,"question_id":41110256,"body_markdown":"**It is very easy to do:**\r\n\r\n**Install groovy**:\r\n\r\n    brew install groovy\r\n\r\n**Point IntelliJ to the following directory:**\r\n\r\n    /usr/local/Cellar/groovysdk/&lt;version&gt;/libexec\r\n\r\nYou will see that intellij will get all the required dependencies\r\n\r\n","title":"How do I tell IntelliJ about groovy installed with brew on OSX","body":"<p><strong>It is very easy to do:</strong></p>\n\n<p><strong>Install groovy</strong>:</p>\n\n<pre><code>brew install groovy\n</code></pre>\n\n<p><strong>Point IntelliJ to the following directory:</strong></p>\n\n<pre><code>/usr/local/Cellar/groovysdk/&lt;version&gt;/libexec\n</code></pre>\n\n<p>You will see that intellij will get all the required dependencies</p>\n"}],"owner":{"account_id":105891,"reputation":14627,"user_id":282315,"accept_rate":82,"display_name":"David"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33745,"favorite_count":0,"down_vote_count":0,"up_vote_count":76,"answer_count":6,"score":76,"last_activity_date":1695332512,"creation_date":1481579516,"question_id":41110256,"body_markdown":"I&#39;m running: \r\n\r\n - IntelliJ Ultimate 2016.3\r\n - Homebrew 1.1.2\r\n - OS X 10.11.5 El Capitan \r\n\r\nI ran `brew install groovy` which resulted in groovy being installed in `/usr/local/Cellar/groovy/2.4.7/`. Brew also added a symlink: `/usr/local/bin/groovy -&gt; ../Cellar/groovy/2.4.7/bin/groovy`\r\n\r\n\r\nWhen I open the groovy project in IntelliJ, it gives me an option to Configure a Groovy SDK. I haven&#39;t set this up yet, so I get a &quot;Create&quot; button, which launches finder. From what I can tell there&#39;s nothing that I can select to make IntelliJ happy. I&#39;ve tried `/user/local/bin/groovy`, `/user/local/Cellar/groovy`, `/user/local/Cellar/groovy/2.4.7`, `/user/local/Cellar/groovy/2.4.7/bin` etc. No mater which I choose, IntelliJ doesn&#39;t accept the library and continues to tell me &quot;Error: library is not specified&quot;. \r\n\r\nDoes anyone know how I&#39;m supposed to go about telling IntelliJ where groovy is? ","title":"How do I tell IntelliJ about groovy installed with brew on OSX","body":"<p>I'm running: </p>\n\n<ul>\n<li>IntelliJ Ultimate 2016.3</li>\n<li>Homebrew 1.1.2</li>\n<li>OS X 10.11.5 El Capitan </li>\n</ul>\n\n<p>I ran <code>brew install groovy</code> which resulted in groovy being installed in <code>/usr/local/Cellar/groovy/2.4.7/</code>. Brew also added a symlink: <code>/usr/local/bin/groovy -&gt; ../Cellar/groovy/2.4.7/bin/groovy</code></p>\n\n<p>When I open the groovy project in IntelliJ, it gives me an option to Configure a Groovy SDK. I haven't set this up yet, so I get a \"Create\" button, which launches finder. From what I can tell there's nothing that I can select to make IntelliJ happy. I've tried <code>/user/local/bin/groovy</code>, <code>/user/local/Cellar/groovy</code>, <code>/user/local/Cellar/groovy/2.4.7</code>, <code>/user/local/Cellar/groovy/2.4.7/bin</code> etc. No mater which I choose, IntelliJ doesn't accept the library and continues to tell me \"Error: library is not specified\". </p>\n\n<p>Does anyone know how I'm supposed to go about telling IntelliJ where groovy is? </p>\n"},{"tags":["java","maven","ehcache","ehcache-3"],"comments":[{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1695330804,"post_id":77153593,"comment_id":136013926,"body_markdown":"If you compile _modular_ java, with `module-info.java`, you need a `require` in it","body":"If you compile <i>modular</i> java, with <code>module-info.java</code>, you need a <code>require</code> in it"},{"owner":{"account_id":209503,"reputation":22790,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":2,"creation_date":1695331832,"post_id":77153593,"comment_id":136014092,"body_markdown":"The dependency for you project should be under `&lt;dependencies&gt;` element not `&lt;dependencyManagement&gt;` get rid of it and test it out if that is what you have in your pom file.","body":"The dependency for you project should be under <code>&lt;dependencies&gt;</code> element not <code>&lt;dependencyManagement&gt;</code> get rid of it and test it out if that is what you have in your pom file."},{"owner":{"account_id":8490813,"reputation":3810,"user_id":6367213,"display_name":"Janez Kuhar"},"score":3,"creation_date":1695331991,"post_id":77153593,"comment_id":136014117,"body_markdown":"Does this answer your question? [Differences between dependencyManagement and dependencies in Maven](https://stackoverflow.com/questions/2619598/differences-between-dependencymanagement-and-dependencies-in-maven)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/2619598/differences-between-dependencymanagement-and-dependencies-in-maven\">Differences between dependencyManagement and dependencies in Maven</a>"},{"owner":{"account_id":13022992,"reputation":204,"user_id":9411757,"display_name":"tehmas"},"score":0,"creation_date":1695332097,"post_id":77153593,"comment_id":136014132,"body_markdown":"@JorgeCampos Man... yes that was the issue. Thank you very much.","body":"@JorgeCampos Man... yes that was the issue. Thank you very much."}],"owner":{"account_id":13022992,"reputation":204,"user_id":9411757,"display_name":"tehmas"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1695331633,"creation_date":1695329542,"question_id":77153593,"body_markdown":"I&#39;m trying to use `echache` but I can&#39;t seem to use in my project. I&#39;m getting the following error:\r\n\r\n&quot;Cannot resolve symbol &#39;ehcache&#39;&quot;\r\n\r\nI&#39;m using IntelliJ IDEA and have installed `Maven 3.9.4`. I&#39;ve tried `mvn clean install` and `mvn dependency:resolve`. After spending around 6+ hours on this, I&#39;m not sure what step to follow now.\r\n\r\n\r\nMain.java file:\r\n\r\n    package org.example;\r\n    \r\n    import org.ehcache.*;\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            System.out.println(&quot;Hello world!&quot;);\r\n        }\r\n    }\r\n\r\npom.xml file:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n        &lt;artifactId&gt;demo3&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n        &lt;properties&gt;\r\n            &lt;maven.compiler.source&gt;8&lt;/maven.compiler.source&gt;\r\n            &lt;maven.compiler.target&gt;8&lt;/maven.compiler.target&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;/properties&gt;\r\n        &lt;dependencyManagement&gt;\r\n            &lt;dependencies&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.ehcache&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;ehcache&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.1.3&lt;/version&gt;\r\n                &lt;/dependency&gt;\r\n            &lt;/dependencies&gt;\r\n        &lt;/dependencyManagement&gt;\r\n    &lt;/project&gt;\r\n\r\nmvn clean install output:\r\n\r\n    [INFO] Scanning for projects...\r\n    [INFO] \r\n    [INFO] -------------------------&lt; org.example:demo3 &gt;--------------------------\r\n    [INFO] Building demo3 1.0-SNAPSHOT\r\n    [INFO] --------------------------------[ jar ]---------------------------------\r\n    [INFO] \r\n    [INFO] --- maven-clean-plugin:2.5:clean (default-clean) @ demo3 ---\r\n    [INFO] \r\n    [INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ demo3 ---\r\n    [INFO] Using &#39;UTF-8&#39; encoding to copy filtered resources.\r\n    [INFO] Copying 0 resource\r\n    [INFO] \r\n    [INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ demo3 ---\r\n    [INFO] Changes detected - recompiling the module!\r\n    [INFO] Compiling 1 source file to /Users/asad-raheem/Documents/workspace/demo3/target/classes\r\n    [INFO] -------------------------------------------------------------\r\n    [ERROR] COMPILATION ERROR : \r\n    [INFO] -------------------------------------------------------------\r\n    [ERROR] /Users/asad-raheem/Documents/workspace/demo3/src/main/java/org/example/Main.java:[3,1] package org.ehcache does not exist\r\n    [INFO] 1 error\r\n    [INFO] -------------------------------------------------------------\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time:  0.634 s\r\n    [INFO] Finished at: 2023-09-22T02:23:00+05:00\r\n    [INFO] ------------------------------------------------------------------------\r\n    [ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project demo3: Compilation failure\r\n    [ERROR] /Users/asad-raheem/Documents/workspace/demo3/src/main/java/org/example/Main.java:[3,1] package org.ehcache does not exist\r\n    [ERROR] \r\n    [ERROR] -&gt; [Help 1]\r\n    [ERROR] \r\n    [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n    [ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n    [ERROR] \r\n    [ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n    [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\r\n    \r\n    Process finished with exit code 1","title":"Not able to use org.ehcache in project","body":"<p>I'm trying to use <code>echache</code> but I can't seem to use in my project. I'm getting the following error:</p>\n<p>&quot;Cannot resolve symbol 'ehcache'&quot;</p>\n<p>I'm using IntelliJ IDEA and have installed <code>Maven 3.9.4</code>. I've tried <code>mvn clean install</code> and <code>mvn dependency:resolve</code>. After spending around 6+ hours on this, I'm not sure what step to follow now.</p>\n<p>Main.java file:</p>\n<pre><code>package org.example;\n\nimport org.ehcache.*;\npublic class Main {\n    public static void main(String[] args) {\n        System.out.println(&quot;Hello world!&quot;);\n    }\n}\n</code></pre>\n<p>pom.xml file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\n    &lt;artifactId&gt;demo3&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;8&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.ehcache&lt;/groupId&gt;\n                &lt;artifactId&gt;ehcache&lt;/artifactId&gt;\n                &lt;version&gt;3.1.3&lt;/version&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n&lt;/project&gt;\n</code></pre>\n<p>mvn clean install output:</p>\n<pre><code>[INFO] Scanning for projects...\n[INFO] \n[INFO] -------------------------&lt; org.example:demo3 &gt;--------------------------\n[INFO] Building demo3 1.0-SNAPSHOT\n[INFO] --------------------------------[ jar ]---------------------------------\n[INFO] \n[INFO] --- maven-clean-plugin:2.5:clean (default-clean) @ demo3 ---\n[INFO] \n[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ demo3 ---\n[INFO] Using 'UTF-8' encoding to copy filtered resources.\n[INFO] Copying 0 resource\n[INFO] \n[INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ demo3 ---\n[INFO] Changes detected - recompiling the module!\n[INFO] Compiling 1 source file to /Users/asad-raheem/Documents/workspace/demo3/target/classes\n[INFO] -------------------------------------------------------------\n[ERROR] COMPILATION ERROR : \n[INFO] -------------------------------------------------------------\n[ERROR] /Users/asad-raheem/Documents/workspace/demo3/src/main/java/org/example/Main.java:[3,1] package org.ehcache does not exist\n[INFO] 1 error\n[INFO] -------------------------------------------------------------\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  0.634 s\n[INFO] Finished at: 2023-09-22T02:23:00+05:00\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project demo3: Compilation failure\n[ERROR] /Users/asad-raheem/Documents/workspace/demo3/src/main/java/org/example/Main.java:[3,1] package org.ehcache does not exist\n[ERROR] \n[ERROR] -&gt; [Help 1]\n[ERROR] \n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\n\nProcess finished with exit code 1\n</code></pre>\n"},{"tags":["java","string","pdf","replace","pdfbox"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1624039457,"post_id":68037448,"comment_id":120257996,"body_markdown":"The text stripper merely gives you an independent string representing the text PDFBox could recognized. You cannot change the PDF by manipulating that string (and strictly speaking you don&#39;t even manipulate that string but create a new, again independent string...).","body":"The text stripper merely gives you an independent string representing the text PDFBox could recognized. You cannot change the PDF by manipulating that string (and strictly speaking you don&#39;t even manipulate that string but create a new, again independent string...)."},{"owner":{"account_id":17458558,"reputation":3,"user_id":12656778,"display_name":"Fl00der"},"score":0,"creation_date":1624046699,"post_id":68037448,"comment_id":120260213,"body_markdown":"Then how should I approach this problem, if the text stripper is not the thing I&#39;m looking for?","body":"Then how should I approach this problem, if the text stripper is not the thing I&#39;m looking for?"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":2,"creation_date":1624083345,"post_id":68037448,"comment_id":120265881,"body_markdown":"First of all, PDF is not designed for replacing text pieces in a search and replace manner, see [this answer](https://stackoverflow.com/a/60655298/1729265). Thus, you should reconsider the architecture of your task. Alternatives might be using pdfs with form fields to fill in, or doing search and replace in another, more suitable format and only thereafter exporting to pdf.","body":"First of all, PDF is not designed for replacing text pieces in a search and replace manner, see <a href=\"https://stackoverflow.com/a/60655298/1729265\">this answer</a>. Thus, you should reconsider the architecture of your task. Alternatives might be using pdfs with form fields to fill in, or doing search and replace in another, more suitable format and only thereafter exporting to pdf."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1624084066,"post_id":68037448,"comment_id":120266007,"body_markdown":"If you really cannot avoid having to search and replace text in pdfs, then there are two cases: 1. Your pdf is internally built in a very simple way, avoiding all the pitfalls mentioned in the answer referred to above. In this case you can do text replacement in content streams. 2. Otherwise you&#39;ll essentially have to apply redaction to the pdf to remove the text to replace and add new text there.","body":"If you really cannot avoid having to search and replace text in pdfs, then there are two cases: 1. Your pdf is internally built in a very simple way, avoiding all the pitfalls mentioned in the answer referred to above. In this case you can do text replacement in content streams. 2. Otherwise you&#39;ll essentially have to apply redaction to the pdf to remove the text to replace and add new text there."},{"owner":{"account_id":17458558,"reputation":3,"user_id":12656778,"display_name":"Fl00der"},"score":0,"creation_date":1624189843,"post_id":68037448,"comment_id":120285408,"body_markdown":"In your opinion, this text stripper option should be used for a pdf with fill forms, or is there another way to do it? I checked out the API documentation a few times, but I couldn&#39;t find anything related to my issue.","body":"In your opinion, this text stripper option should be used for a pdf with fill forms, or is there another way to do it? I checked out the API documentation a few times, but I couldn&#39;t find anything related to my issue."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":2,"creation_date":1624196920,"post_id":68037448,"comment_id":120287069,"body_markdown":"The text stripper is for text extraction. If you extend it a bit, for extraction of text with position or with some style information. It is not for text changing. For form field fill-ins look for `PDAcroForm` use in the API and the examples.","body":"The text stripper is for text extraction. If you extend it a bit, for extraction of text with position or with some style information. It is not for text changing. For form field fill-ins look for <code>PDAcroForm</code> use in the API and the examples."}],"answers":[{"tags":[],"owner":{"account_id":29124356,"reputation":1,"user_id":22311037,"display_name":"sweetcookitalys"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695327599,"creation_date":1695327599,"answer_id":77153405,"question_id":68037448,"body_markdown":" **If I understand correctly, you want to edit a sentence in the PDF**\r\n\r\n&gt;        PDDocument doc = PDDocument.load(file);\r\n\t\t\t\r\n    \t          stripper = new PDFTextStripper();\r\n\t\t\t\t\t\r\n    \t          String text = stripper.getText(doc);\r\n    \t          Pattern pattern = Pattern.compile(&quot;\\\\bluca\\\\b&quot;);\r\n    \t          Matcher matcher = pattern.matcher(text);\r\n    \t            \r\n\r\n    \t matcher.find();\r\n    \t              String group = matcher.group();\r\n    \t              int start = matcher.start();\r\n    \t              int end = matcher.end();\r\n    \t    String hj=  matcher.\treplaceFirst(&quot;Carlone&quot;);\r\n    \t          System.out.println(group + &quot; &quot; + start + &quot; &quot; + end+hj);\r\n\r\n    \t     ","title":"How to save a string into PDF in PDFBox?","body":"<p><strong>If I understand correctly, you want to edit a sentence in the PDF</strong></p>\n<blockquote>\n<pre><code>   PDDocument doc = PDDocument.load(file);\n</code></pre>\n</blockquote>\n<pre><code>              stripper = new PDFTextStripper();\n                \n              String text = stripper.getText(doc);\n              Pattern pattern = Pattern.compile(&quot;\\\\bluca\\\\b&quot;);\n              Matcher matcher = pattern.matcher(text);\n                \n\n     matcher.find();\n                  String group = matcher.group();\n                  int start = matcher.start();\n                  int end = matcher.end();\n        String hj=  matcher.    replaceFirst(&quot;Carlone&quot;);\n              System.out.println(group + &quot; &quot; + start + &quot; &quot; + end+hj);\n\n         \n</code></pre>\n"},{"tags":[],"owner":{"account_id":7313335,"reputation":4794,"user_id":5571795,"display_name":"Hezy Ziv"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695331338,"creation_date":1695331338,"answer_id":77153719,"question_id":68037448,"body_markdown":"try this\r\n\r\n    public static void main(String[] args) {\r\n            String fileName = &quot;testPDF.pdf&quot;;\r\n            \r\n            try {\r\n                PDDocument doc = PDDocument.load(new File(&quot;sample.pdf&quot;));\r\n                String text = new PDFTextStripper().getText(doc);\r\n    \r\n                // Assuming the text you want to replace is on the first page\r\n                PDPage page = doc.getPage(0);\r\n                \r\n                if (text.contains(&quot;nameReplace&quot;)) {\r\n                    // Remove the content of the first page\r\n                    page.setContents(null);\r\n                    \r\n                    try (PDPageContentStream contentStream = new PDPageContentStream(doc, page, PDPageContentStream.AppendMode.APPEND, true)) {\r\n                        // Here you would ideally re-add all the previous content (this example won&#39;t cover that)\r\n                        \r\n                        // Add replaced text (for simplicity, this example assumes the text fits in the given position)\r\n                        contentStream.beginText();\r\n                        contentStream.setFont(PDType1Font.HELVETICA_BOLD, 12);\r\n                        contentStream.newLineAtOffset(100, 700);\r\n                        contentStream.showText(text.replace(&quot;nameReplace&quot;, &quot;Example Ethan&quot;));\r\n                        contentStream.endText();\r\n                    }\r\n                }\r\n    \r\n                doc.save(fileName);\r\n                doc.close();\r\n    \r\n            } catch (IOException e) {\r\n                System.out.println(e.getMessage());\r\n            }\r\n        }\r\n\r\n","title":"How to save a string into PDF in PDFBox?","body":"<p>try this</p>\n<pre><code>public static void main(String[] args) {\n        String fileName = &quot;testPDF.pdf&quot;;\n        \n        try {\n            PDDocument doc = PDDocument.load(new File(&quot;sample.pdf&quot;));\n            String text = new PDFTextStripper().getText(doc);\n\n            // Assuming the text you want to replace is on the first page\n            PDPage page = doc.getPage(0);\n            \n            if (text.contains(&quot;nameReplace&quot;)) {\n                // Remove the content of the first page\n                page.setContents(null);\n                \n                try (PDPageContentStream contentStream = new PDPageContentStream(doc, page, PDPageContentStream.AppendMode.APPEND, true)) {\n                    // Here you would ideally re-add all the previous content (this example won't cover that)\n                    \n                    // Add replaced text (for simplicity, this example assumes the text fits in the given position)\n                    contentStream.beginText();\n                    contentStream.setFont(PDType1Font.HELVETICA_BOLD, 12);\n                    contentStream.newLineAtOffset(100, 700);\n                    contentStream.showText(text.replace(&quot;nameReplace&quot;, &quot;Example Ethan&quot;));\n                    contentStream.endText();\n                }\n            }\n\n            doc.save(fileName);\n            doc.close();\n\n        } catch (IOException e) {\n            System.out.println(e.getMessage());\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":17458558,"reputation":3,"user_id":12656778,"display_name":"Fl00der"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":481,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1695331338,"creation_date":1624028523,"question_id":68037448,"body_markdown":"I&#39;m currently working with PDFBox to create a PDF where the necessary spots are filled with the correct information. I have my string in the project, but for some reason, I cannot put that string into a pdf file with the `doc.save();` functionality.\r\n\r\nIs there any way to do such things, or should I approach this problem with a different manner?\r\n```java\r\npublic static void main(String[] args) {\r\n        String fileName = &quot;testPDF.pdf&quot;;\r\n        \r\n        try{\r\n            PDDocument doc = PDDocument.load(new File(&quot;sample.pdf&quot;));\r\n            String text = new PDFTextStripper().getText(doc);\r\n\r\n            String name = text.replace(&quot;nameReplace&quot;, &quot;Example Ethan&quot;);\r\n            \r\n            doc.save(fileName);\r\n            doc.close();\r\n\r\n        }\r\n        catch(IOException e){\r\n            System.out.println(e.getMessage());\r\n        }\r\n    }","title":"How to save a string into PDF in PDFBox?","body":"<p>I'm currently working with PDFBox to create a PDF where the necessary spots are filled with the correct information. I have my string in the project, but for some reason, I cannot put that string into a pdf file with the <code>doc.save();</code> functionality.</p>\n<p>Is there any way to do such things, or should I approach this problem with a different manner?</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n        String fileName = &quot;testPDF.pdf&quot;;\n        \n        try{\n            PDDocument doc = PDDocument.load(new File(&quot;sample.pdf&quot;));\n            String text = new PDFTextStripper().getText(doc);\n\n            String name = text.replace(&quot;nameReplace&quot;, &quot;Example Ethan&quot;);\n            \n            doc.save(fileName);\n            doc.close();\n\n        }\n        catch(IOException e){\n            System.out.println(e.getMessage());\n        }\n    }\n</code></pre>\n"},{"tags":["java","kotlin","swing"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1695336656,"post_id":77153718,"comment_id":136014649,"body_markdown":"Maybe test with [this?](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/nio/file/Files.html#isRegularFile(java.nio.file.Path,java.nio.file.LinkOption...))","body":"Maybe test with <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/nio/file/Files.html#isRegularFile(java.nio.file.Path,java.nio.file.LinkOption...)\" rel=\"nofollow noreferrer\">this?</a>"}],"owner":{"account_id":13446245,"reputation":154,"user_id":9702105,"display_name":"Josh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695331308,"creation_date":1695331308,"question_id":77153718,"body_markdown":"JDK 17.0.3 - Azul Zulu\r\n\r\nI have a custom FileFilter class which extends the java classes of `javax.swing.filechooser.FileFilter` and `java.io.FileFilter`. (All code is in Kotlin)\r\n\r\nThe `accept()` method is overridden and overloaded with these two functions:\r\n```\r\nclass MyCustomFileFilter(\r\n    /* Irrelevant constructor parameters */\r\n    private val predicate: (path: Path) -&gt; Boolean, // function to pass to the constructor\r\n) : SwingFileFilter(), FileFilter {\r\n\r\n    fun accept(path: Path): Boolean {\r\n        return path.isDirectory() || predicate(path)\r\n    }\r\n\r\n    override fun accept(file: File): Boolean = accept(file.toPath())\r\n}\r\n```\r\n\r\nAnd the `JFileChooser` is instantiated with an instance of my `FileFilter` class.\r\n\r\n```\r\nprivate val fileChooser = JFileChooser(HomeLocation.currentValue.toFile()).apply {\r\n    isMultiSelectionEnabled = true\r\n    fileFilter = some.object.path.to.filter // filter is an instance of MyCustomFileFilter\r\n}\r\n```\r\n\r\nWhen navigating to the &quot;Desktop&quot; in the file chooser (Windows 10), this error is thrown:\r\n```\r\nException in thread &quot;Basic L&amp;F File Loading Thread&quot; java.nio.file.InvalidPathException: Illegal char &lt;:&gt; at index 0: ::{20D04FE0-3AEA-1069-A2D8-08002B30309D}\r\n\tat java.base/sun.nio.fs.WindowsPathParser.normalize(WindowsPathParser.java:182)\r\n\tat java.base/sun.nio.fs.WindowsPathParser.parse(WindowsPathParser.java:153)\r\n\tat java.base/sun.nio.fs.WindowsPathParser.parse(WindowsPathParser.java:77)\r\n\tat java.base/sun.nio.fs.WindowsPath.parse(WindowsPath.java:92)\r\n\tat java.base/sun.nio.fs.WindowsFileSystem.getPath(WindowsFileSystem.java:232)\r\n\tat java.base/java.io.File.toPath(File.java:2387)\r\n\tat fully.qualified.classname.of.MyCustomFileFilter.accept(MyCustomFileFilter.kt:43)\r\n\tat java.desktop/javax.swing.JFileChooser.accept(JFileChooser.java:1654)\r\n\tat java.desktop/javax.swing.plaf.basic.BasicDirectoryModel$FilesLoader.run0(BasicDirectoryModel.java:319)\r\n\tat java.desktop/javax.swing.plaf.basic.BasicDirectoryModel$FilesLoader.run(BasicDirectoryModel.java:295)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\n```\r\n\r\nAfter some debugging, it appears that the file chooser, when browsing the Desktop folder and deciding which files should appear based on the filter, is giving the file object of the &quot;This PC&quot; folder to the accept method. My implementation calls `toPath()` on the `File` and that is when the error happens, because apprently the path string resolves to `::{20D04FE0-3AEA-1069-A2D8-08002B30309D}`.\r\n\r\nAm I doing something wrong or in bad practice by using the `toPath()` function, or is the implementation broken somewhere? Is this a known issue?\r\n\r\nNote: I do have a workaround for this problem (which is to not use the `Paths` library, and stick to files) but I would like to know what is going wrong here and why it is happening, or perhaps if there is an open issue for it somehwere.","title":"InvalidPathException when browsing to &quot;Desktop&quot; in JFileChooser with custom FileFilter on Windows","body":"<p>JDK 17.0.3 - Azul Zulu</p>\n<p>I have a custom FileFilter class which extends the java classes of <code>javax.swing.filechooser.FileFilter</code> and <code>java.io.FileFilter</code>. (All code is in Kotlin)</p>\n<p>The <code>accept()</code> method is overridden and overloaded with these two functions:</p>\n<pre><code>class MyCustomFileFilter(\n    /* Irrelevant constructor parameters */\n    private val predicate: (path: Path) -&gt; Boolean, // function to pass to the constructor\n) : SwingFileFilter(), FileFilter {\n\n    fun accept(path: Path): Boolean {\n        return path.isDirectory() || predicate(path)\n    }\n\n    override fun accept(file: File): Boolean = accept(file.toPath())\n}\n</code></pre>\n<p>And the <code>JFileChooser</code> is instantiated with an instance of my <code>FileFilter</code> class.</p>\n<pre><code>private val fileChooser = JFileChooser(HomeLocation.currentValue.toFile()).apply {\n    isMultiSelectionEnabled = true\n    fileFilter = some.object.path.to.filter // filter is an instance of MyCustomFileFilter\n}\n</code></pre>\n<p>When navigating to the &quot;Desktop&quot; in the file chooser (Windows 10), this error is thrown:</p>\n<pre><code>Exception in thread &quot;Basic L&amp;F File Loading Thread&quot; java.nio.file.InvalidPathException: Illegal char &lt;:&gt; at index 0: ::{20D04FE0-3AEA-1069-A2D8-08002B30309D}\n    at java.base/sun.nio.fs.WindowsPathParser.normalize(WindowsPathParser.java:182)\n    at java.base/sun.nio.fs.WindowsPathParser.parse(WindowsPathParser.java:153)\n    at java.base/sun.nio.fs.WindowsPathParser.parse(WindowsPathParser.java:77)\n    at java.base/sun.nio.fs.WindowsPath.parse(WindowsPath.java:92)\n    at java.base/sun.nio.fs.WindowsFileSystem.getPath(WindowsFileSystem.java:232)\n    at java.base/java.io.File.toPath(File.java:2387)\n    at fully.qualified.classname.of.MyCustomFileFilter.accept(MyCustomFileFilter.kt:43)\n    at java.desktop/javax.swing.JFileChooser.accept(JFileChooser.java:1654)\n    at java.desktop/javax.swing.plaf.basic.BasicDirectoryModel$FilesLoader.run0(BasicDirectoryModel.java:319)\n    at java.desktop/javax.swing.plaf.basic.BasicDirectoryModel$FilesLoader.run(BasicDirectoryModel.java:295)\n    at java.base/java.lang.Thread.run(Thread.java:833)\n</code></pre>\n<p>After some debugging, it appears that the file chooser, when browsing the Desktop folder and deciding which files should appear based on the filter, is giving the file object of the &quot;This PC&quot; folder to the accept method. My implementation calls <code>toPath()</code> on the <code>File</code> and that is when the error happens, because apprently the path string resolves to <code>::{20D04FE0-3AEA-1069-A2D8-08002B30309D}</code>.</p>\n<p>Am I doing something wrong or in bad practice by using the <code>toPath()</code> function, or is the implementation broken somewhere? Is this a known issue?</p>\n<p>Note: I do have a workaround for this problem (which is to not use the <code>Paths</code> library, and stick to files) but I would like to know what is going wrong here and why it is happening, or perhaps if there is an open issue for it somehwere.</p>\n"},{"tags":["java","reactive-programming","spring-webflux","project-reactor"],"comments":[{"owner":{"account_id":1126254,"reputation":27393,"user_id":1113486,"display_name":"Simon Basl&#233;"},"score":2,"creation_date":1609922713,"post_id":65572611,"comment_id":115969554,"body_markdown":"are you aware that `doFinally` triggers on upstream onComplete/onError signals _but also on downstream `cancel()` signal_? if so, there isn&#39;t an operator that delays the cancel signal propagation. if you&#39;re only interested in onComplete|onError, then your approach is the recommended one.","body":"are you aware that <code>doFinally</code> triggers on upstream onComplete/onError signals <i>but also on downstream <code>cancel()</code> signal</i>? if so, there isn&#39;t an operator that delays the cancel signal propagation. if you&#39;re only interested in onComplete|onError, then your approach is the recommended one."}],"answers":[{"tags":[],"owner":{"account_id":28957730,"reputation":49,"user_id":22180933,"display_name":"RonVe"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1695330641,"creation_date":1695330641,"answer_id":77153668,"question_id":65572611,"body_markdown":"`doOnTerminate()` will execute the side-effect before termination.\r\nIt does not get the Mono value.\r\n\r\n`doOnNext()` will only be called with the value of the Mono, but not on error/cancel.\r\n\r\n`tap()` Can be used to capture all possible signals and take an action when appropriate.\r\n\r\n`doFinally()` executes after the Mono terminates.","title":"Project reactor: Is there a non-side-effect finally like method (Not the side-effect method doFinally)","body":"<p><code>doOnTerminate()</code> will execute the side-effect before termination.\nIt does not get the Mono value.</p>\n<p><code>doOnNext()</code> will only be called with the value of the Mono, but not on error/cancel.</p>\n<p><code>tap()</code> Can be used to capture all possible signals and take an action when appropriate.</p>\n<p><code>doFinally()</code> executes after the Mono terminates.</p>\n"}],"owner":{"account_id":4844268,"reputation":1484,"user_id":3908406,"display_name":"user3908406"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2221,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1695330641,"creation_date":1609815326,"question_id":65572611,"body_markdown":"Given such an example:\r\n```\r\nMono.create(callback -&gt; {\r\n    try { callback.success(someLogic()); }\r\n    catch (Exception e) { callback.error(e); }\r\n   })\r\n   .doFinally((v) -&gt; Mono.fromRunnable(() -&gt; {\r\n       Thread.sleep(1000); // In reality, we have a blocking I/O code here and needs to be executed on a separate thread \r\n   }).block())\r\n   .block();\r\n```\r\n\r\nWhen I run this code, it finishes immediately without waiting for the 1000ms delay. This is because `doFinally` is a side effect method, so it does not execute as part of the chain. Is there a finally like method that can execute as part of the chain? \r\n\r\nMy current workaround is\r\n\r\n```\r\nMono.create(callback -&gt; {\r\n    try { callback.success(someLogic()); }\r\n    catch (Exception e) { callback.error(e); }\r\n   })\r\n   .then(Mono.fromRunnable(() -&gt; {\r\n       Thread.sleep(1000);\r\n   }))\r\n   .onErrorResume(e -&gt; Mono.fromRunnable(() -&gt; {\r\n       Thread.sleep(1000);\r\n   }))\r\n   .block();\r\n```\r\n\r\nIf no such method is there a better approach?","title":"Project reactor: Is there a non-side-effect finally like method (Not the side-effect method doFinally)","body":"<p>Given such an example:</p>\n<pre><code>Mono.create(callback -&gt; {\n    try { callback.success(someLogic()); }\n    catch (Exception e) { callback.error(e); }\n   })\n   .doFinally((v) -&gt; Mono.fromRunnable(() -&gt; {\n       Thread.sleep(1000); // In reality, we have a blocking I/O code here and needs to be executed on a separate thread \n   }).block())\n   .block();\n</code></pre>\n<p>When I run this code, it finishes immediately without waiting for the 1000ms delay. This is because <code>doFinally</code> is a side effect method, so it does not execute as part of the chain. Is there a finally like method that can execute as part of the chain?</p>\n<p>My current workaround is</p>\n<pre><code>Mono.create(callback -&gt; {\n    try { callback.success(someLogic()); }\n    catch (Exception e) { callback.error(e); }\n   })\n   .then(Mono.fromRunnable(() -&gt; {\n       Thread.sleep(1000);\n   }))\n   .onErrorResume(e -&gt; Mono.fromRunnable(() -&gt; {\n       Thread.sleep(1000);\n   }))\n   .block();\n</code></pre>\n<p>If no such method is there a better approach?</p>\n"},{"tags":["java","selenium-webdriver","junit","jmeter","load-testing"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1695421173,"post_id":77153183,"comment_id":136027229,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":3460456,"reputation":162728,"user_id":2897748,"display_name":"Dmitri T"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695326313,"creation_date":1695326313,"answer_id":77153294,"question_id":77153183,"body_markdown":"Given you&#39;re testing a web application you should rather go for [Apache JMeter][1]\r\n\r\nloadtest4j is a very simple tool which &quot;hammers&quot; the URL while modern web applications are way more &quot;complex&quot; so you will need to take care of:\r\n\r\n - [Embedded resources][2] (images, scripts, styles, fonts, etc.)\r\n - [Caching][3] of these resources  \r\n - Handling [cookies][4] and other [headers][5] \r\n - Handling [AJAX][6] requests \r\n\r\nSo JMeter would be way more &quot;future-proof&quot; solution \r\n\r\n\r\n  [1]: https://jmeter.apache.org/\r\n  [2]: https://www.blazemeter.com/blog/web-testing-jmeter\r\n  [3]: https://developer.mozilla.org/en-US/docs/Web/HTTP/Caching\r\n  [4]: https://developer.mozilla.org/en-US/docs/Web/HTTP/Cookies\r\n  [5]: https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers\r\n  [6]: https://www.w3schools.com/js/js_ajax_intro.asp","title":"how to perform load tests using a java framework?","body":"<p>Given you're testing a web application you should rather go for <a href=\"https://jmeter.apache.org/\" rel=\"nofollow noreferrer\">Apache JMeter</a></p>\n<p>loadtest4j is a very simple tool which &quot;hammers&quot; the URL while modern web applications are way more &quot;complex&quot; so you will need to take care of:</p>\n<ul>\n<li><a href=\"https://www.blazemeter.com/blog/web-testing-jmeter\" rel=\"nofollow noreferrer\">Embedded resources</a> (images, scripts, styles, fonts, etc.)</li>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Caching\" rel=\"nofollow noreferrer\">Caching</a> of these resources</li>\n<li>Handling <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Cookies\" rel=\"nofollow noreferrer\">cookies</a> and other <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers\" rel=\"nofollow noreferrer\">headers</a></li>\n<li>Handling <a href=\"https://www.w3schools.com/js/js_ajax_intro.asp\" rel=\"nofollow noreferrer\">AJAX</a> requests</li>\n</ul>\n<p>So JMeter would be way more &quot;future-proof&quot; solution</p>\n"}],"owner":{"account_id":13271282,"reputation":1,"user_id":9582238,"display_name":"Calin_m"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695330277,"creation_date":1695325137,"question_id":77153183,"body_markdown":"I&#39;m using Serenity Bdd (based on Selenium WebDriver) framework to test UI of an app. We need some load testing to be done as well.\r\nDo you guys have any suggestions regarding best practices or any tips? I&#39;ve seen that Jmeter and loadtest4j libraries can be integrated by adding the dependency to the pom.xml file and using imports.\r\nA basic scenario would be to see if an endpoint can handle 100 or 1000 connections at once.\r\nthank you for any input \r\n\r\ntried to import Jmeter and loadtest4j but not sure which one will be more useful in the future when complexity increases, using java 17, on a Windows 10 environment with Eclipse ","title":"how to perform load tests using a java framework?","body":"<p>I'm using Serenity Bdd (based on Selenium WebDriver) framework to test UI of an app. We need some load testing to be done as well.\nDo you guys have any suggestions regarding best practices or any tips? I've seen that Jmeter and loadtest4j libraries can be integrated by adding the dependency to the pom.xml file and using imports.\nA basic scenario would be to see if an endpoint can handle 100 or 1000 connections at once.\nthank you for any input</p>\n<p>tried to import Jmeter and loadtest4j but not sure which one will be more useful in the future when complexity increases, using java 17, on a Windows 10 environment with Eclipse</p>\n"},{"tags":["java","typescript","spring-boot","cors","vercel"],"comments":[{"owner":{"account_id":16673497,"reputation":2011,"user_id":12050506,"display_name":"possum"},"score":0,"creation_date":1695329494,"post_id":77153545,"comment_id":136013744,"body_markdown":"Why is &quot;Can someone help me?&quot; not an actual question? https://meta.stackoverflow.com/questions/284236/why-is-can-someone-help-me-not-an-actual-question","body":"Why is &quot;Can someone help me?&quot; not an actual question? <a href=\"https://meta.stackoverflow.com/questions/284236/why-is-can-someone-help-me-not-an-actual-question\" title=\"why is can someone help me not an actual question\">meta.stackoverflow.com/questions/284236/&hellip;</a>"},{"owner":{"account_id":17683470,"reputation":158,"user_id":12836822,"display_name":"Ashrik Ahamed"},"score":0,"creation_date":1695359100,"post_id":77153545,"comment_id":136016424,"body_markdown":"Did you use @CrossOrigin(origins = { &quot;*&quot; }) as controller class  annotation?","body":"Did you use @CrossOrigin(origins = { &quot;*&quot; }) as controller class  annotation?"}],"owner":{"account_id":27308220,"reputation":1,"user_id":20823838,"display_name":"Gustavo Nepomuceno"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695329747,"creation_date":1695328970,"question_id":77153545,"body_markdown":"I&#39;m having problems with cors with my spring java API, I deployed it to render but when I try to consume it it gives a CORS error even though I passed the domain from my frontend to the backend to allow access.\r\n\r\napplication.properties\r\n```\r\ncors.origins=${CORS_ORIGINS:https://ds-commerce-v1.netlify.app}\r\n```\r\nthe error:\r\n(ds-commerce-v1.netlify.app/:1 Access to XMLHttpRequest at &#39;https://api-dsecommerce.onrender.com/products?page=0&amp;name=&amp;size=12&amp;sort=name&#39; from origin &#39;https://ds-commerce-v1.netlify.app&#39; has been blocked by CORS policy: No &#39;Access-Control-Allow-Origin&#39; header is present on the requested resource.*\r\n\r\nI passed the environment variables in the frontend deploy to match my api address but it seems like something is wrong and it is not accepting the req at that frontend address.\r\n\r\n\r\n\r\n\r\nThis is the code for CORS in my api but idkn where the problem is\r\n```\r\n@Configuration\r\n@EnableResourceServer\r\n@EnableGlobalMethodSecurity(prePostEnabled = true)\r\npublic class ResourceServerConfig extends ResourceServerConfigurerAdapter {\r\n\r\n\t@Value(&quot;${cors.origins}&quot;)\r\n\tprivate String corsOrigins;\r\n\t\r\n\t@Autowired\r\n\tprivate Environment env;\r\n\t\r\n\t@Autowired\r\n\tprivate JwtTokenStore tokenStore;\r\n\t\r\n\t@Override\r\n\tpublic void configure(ResourceServerSecurityConfigurer resources) throws Exception {\r\n\t\tresources.tokenStore(tokenStore);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void configure(HttpSecurity http) throws Exception {\r\n\r\n\t\t// H2\r\n\t\tif (Arrays.asList(env.getActiveProfiles()).contains(&quot;test&quot;)) {\r\n\t\t\thttp.headers().frameOptions().disable();\r\n\t\t}\r\n\t\t\r\n\t\thttp.authorizeRequests().anyRequest().permitAll();\r\n\t\t\r\n\t\thttp.cors().configurationSource(corsConfigurationSource());\r\n\t}\r\n\t\r\n\t@Bean\r\n\tCorsConfigurationSource corsConfigurationSource() {\r\n\r\n\t\tString[] origins = corsOrigins.split(&quot;,&quot;);\r\n\r\n\t    CorsConfiguration corsConfig = new CorsConfiguration();\r\n\t    corsConfig.setAllowedOriginPatterns(Arrays.asList(origins));\r\n\t    corsConfig.setAllowedMethods(Arrays.asList(&quot;POST&quot;, &quot;GET&quot;, &quot;PUT&quot;, &quot;DELETE&quot;, &quot;PATCH&quot;));\r\n\t    corsConfig.setAllowCredentials(true);\r\n\t    corsConfig.setAllowedHeaders(Arrays.asList(&quot;Authorization&quot;, &quot;Content-Type&quot;));\r\n\t \r\n\t    UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n\t    source.registerCorsConfiguration(&quot;/**&quot;, corsConfig);\r\n\t    return source;\r\n\t}\r\n\r\n\t@Bean\r\n\tFilterRegistrationBean&lt;CorsFilter&gt; corsFilter() {\r\n\t    FilterRegistrationBean&lt;CorsFilter&gt; bean\r\n\t            = new FilterRegistrationBean&lt;&gt;(new CorsFilter(corsConfigurationSource()));\r\n\t    bean.setOrder(Ordered.HIGHEST_PRECEDENCE);\r\n\t    return bean;\r\n\t}\r\n}\r\n```\r\n","title":"How do I get rid of this problem blocked by CORS policy (with java spring boot)?","body":"<p>I'm having problems with cors with my spring java API, I deployed it to render but when I try to consume it it gives a CORS error even though I passed the domain from my frontend to the backend to allow access.</p>\n<p>application.properties</p>\n<pre><code>cors.origins=${CORS_ORIGINS:https://ds-commerce-v1.netlify.app}\n</code></pre>\n<p>the error:\n(ds-commerce-v1.netlify.app/:1 Access to XMLHttpRequest at 'https://api-dsecommerce.onrender.com/products?page=0&amp;name=&amp;size=12&amp;sort=name' from origin 'https://ds-commerce-v1.netlify.app' has been blocked by CORS policy: No 'Access-Control-Allow-Origin' header is present on the requested resource.*</p>\n<p>I passed the environment variables in the frontend deploy to match my api address but it seems like something is wrong and it is not accepting the req at that frontend address.</p>\n<p>This is the code for CORS in my api but idkn where the problem is</p>\n<pre><code>@Configuration\n@EnableResourceServer\n@EnableGlobalMethodSecurity(prePostEnabled = true)\npublic class ResourceServerConfig extends ResourceServerConfigurerAdapter {\n\n    @Value(&quot;${cors.origins}&quot;)\n    private String corsOrigins;\n    \n    @Autowired\n    private Environment env;\n    \n    @Autowired\n    private JwtTokenStore tokenStore;\n    \n    @Override\n    public void configure(ResourceServerSecurityConfigurer resources) throws Exception {\n        resources.tokenStore(tokenStore);\n    }\n\n    @Override\n    public void configure(HttpSecurity http) throws Exception {\n\n        // H2\n        if (Arrays.asList(env.getActiveProfiles()).contains(&quot;test&quot;)) {\n            http.headers().frameOptions().disable();\n        }\n        \n        http.authorizeRequests().anyRequest().permitAll();\n        \n        http.cors().configurationSource(corsConfigurationSource());\n    }\n    \n    @Bean\n    CorsConfigurationSource corsConfigurationSource() {\n\n        String[] origins = corsOrigins.split(&quot;,&quot;);\n\n        CorsConfiguration corsConfig = new CorsConfiguration();\n        corsConfig.setAllowedOriginPatterns(Arrays.asList(origins));\n        corsConfig.setAllowedMethods(Arrays.asList(&quot;POST&quot;, &quot;GET&quot;, &quot;PUT&quot;, &quot;DELETE&quot;, &quot;PATCH&quot;));\n        corsConfig.setAllowCredentials(true);\n        corsConfig.setAllowedHeaders(Arrays.asList(&quot;Authorization&quot;, &quot;Content-Type&quot;));\n     \n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n        source.registerCorsConfiguration(&quot;/**&quot;, corsConfig);\n        return source;\n    }\n\n    @Bean\n    FilterRegistrationBean&lt;CorsFilter&gt; corsFilter() {\n        FilterRegistrationBean&lt;CorsFilter&gt; bean\n                = new FilterRegistrationBean&lt;&gt;(new CorsFilter(corsConfigurationSource()));\n        bean.setOrder(Ordered.HIGHEST_PRECEDENCE);\n        return bean;\n    }\n}\n</code></pre>\n"},{"tags":["java","java-8","mockito"],"answers":[{"tags":[],"owner":{"account_id":16744354,"reputation":504,"user_id":12103109,"display_name":"CaptainAye"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1695326151,"creation_date":1695326151,"answer_id":77153273,"question_id":77153047,"body_markdown":"You can use `doAnswer` in order to print the parameters the way you&#39;re expecting. It will allow you to access the parameters of the mocked method by using `getArgument(int i)` method.\r\n\r\n    Mockito.doAnswer(i -&gt; {\r\n                throw new Exception(String.format(&quot;Failed step 1. Received parameters: %s, %s&quot;, i.getArgument(0), i.getArgument(1)));\r\n                    })\r\n                    .when(factory).load(any(), any());\r\n    Mockito.doNothing().when(factory).load(eq(&quot;correct&quot;), eq(&quot;correct&quot;));","title":"Throw an exception displaying parameters passed into a void method in Java 8 Mockito","body":"<p>You can use <code>doAnswer</code> in order to print the parameters the way you're expecting. It will allow you to access the parameters of the mocked method by using <code>getArgument(int i)</code> method.</p>\n<pre><code>Mockito.doAnswer(i -&gt; {\n            throw new Exception(String.format(&quot;Failed step 1. Received parameters: %s, %s&quot;, i.getArgument(0), i.getArgument(1)));\n                })\n                .when(factory).load(any(), any());\nMockito.doNothing().when(factory).load(eq(&quot;correct&quot;), eq(&quot;correct&quot;));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10556120,"reputation":97,"user_id":7777243,"display_name":"Disruptis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695328996,"creation_date":1695328996,"answer_id":77153548,"question_id":77153047,"body_markdown":"While CaptainAye&#39;s solution is a great one, I realized I could do what I was looking for in a lot less code by using `Mockito.verify`.\r\n\r\n    Mockito.verify(factory).load(eq(&quot;correct&quot;), eq(&quot;correct&quot;));","title":"Throw an exception displaying parameters passed into a void method in Java 8 Mockito","body":"<p>While CaptainAye's solution is a great one, I realized I could do what I was looking for in a lot less code by using <code>Mockito.verify</code>.</p>\n<pre><code>Mockito.verify(factory).load(eq(&quot;correct&quot;), eq(&quot;correct&quot;));\n</code></pre>\n"}],"owner":{"account_id":10556120,"reputation":97,"user_id":7777243,"display_name":"Disruptis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77153273,"answer_count":2,"score":0,"last_activity_date":1695328996,"creation_date":1695323645,"question_id":77153047,"body_markdown":"I have a test suite using Mockito that mocks certain void functions to `doNothing()` if passed the correct parameters and to throw an error if passed wrong ones. When it detects incorrect parameters I want it to also print the parameters it received in the exception it throws.\r\n\r\n \r\n\r\n   \r\n    Mockito.doThrow(new Exception(String.format(&quot;Failed step 1. Received parameters: %s, %s&quot;, param1, param2)))\r\n            .when(factory).load(any(), any());\r\n    Mockito.doNothing().when(factory).load(eq(&quot;correct&quot;), eq(&quot;correct&quot;));\r\n\r\nI can&#39;t seem to find a way to do this because Additional Answers does not apply to void return types. This needs to work for Java 8.","title":"Throw an exception displaying parameters passed into a void method in Java 8 Mockito","body":"<p>I have a test suite using Mockito that mocks certain void functions to <code>doNothing()</code> if passed the correct parameters and to throw an error if passed wrong ones. When it detects incorrect parameters I want it to also print the parameters it received in the exception it throws.</p>\n<pre><code>Mockito.doThrow(new Exception(String.format(&quot;Failed step 1. Received parameters: %s, %s&quot;, param1, param2)))\n        .when(factory).load(any(), any());\nMockito.doNothing().when(factory).load(eq(&quot;correct&quot;), eq(&quot;correct&quot;));\n</code></pre>\n<p>I can't seem to find a way to do this because Additional Answers does not apply to void return types. This needs to work for Java 8.</p>\n"},{"tags":["java","jetbrains-ide"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1695325782,"post_id":77153237,"comment_id":136013189,"body_markdown":"Clone the repo, check out the said branch and follow the other instructions from the markdown file. Note that you need to use cygwin if you&#39;re using Windows (though I wouldn&#39;t recommend building the JDK on Windows). Also, I want to mention that building a JDK requires some time and a reasonable amount of resources if I recall correctly. What _specifically_ do you need help with?","body":"Clone the repo, check out the said branch and follow the other instructions from the markdown file. Note that you need to use cygwin if you&#39;re using Windows (though I wouldn&#39;t recommend building the JDK on Windows). Also, I want to mention that building a JDK requires some time and a reasonable amount of resources if I recall correctly. What <i>specifically</i> do you need help with?"},{"owner":{"account_id":21208933,"reputation":922,"user_id":15597975,"display_name":"mars8"},"score":0,"creation_date":1695326657,"post_id":77153237,"comment_id":136013320,"body_markdown":"i am running hyprland desktop (on arch linux) which uses Wayland. Intellij IDE&#39;s generally do not work on wayland, however user &#39;j run&#39; from the youtrack link was able to get it running, per his screenshot. i am stille not sure what repo i need to clone. the build instructions say &#39;git clone https://git.openjdk.org/jdk/&#39;, &#39;j run&#39; mentions OpenJDK21U-jdk_x64_linux_hotspot_2023-08-09-06-56.tar.gz.&#39; None of them sound like the [jbr21 branch](https://github.com/JetBrains/JetBrainsRuntime/tree/jbr21)....","body":"i am running hyprland desktop (on arch linux) which uses Wayland. Intellij IDE&#39;s generally do not work on wayland, however user &#39;j run&#39; from the youtrack link was able to get it running, per his screenshot. i am stille not sure what repo i need to clone. the build instructions say &#39;git clone <a href=\"https://git.openjdk.org/jdk/\" rel=\"nofollow noreferrer\">git.openjdk.org/jdk</a>&#39;, &#39;j run&#39; mentions OpenJDK21U-jdk_x64_linux_hotspot_2023-08-09-06-56.tar.gz.&#39; None of them sound like the <a href=\"https://github.com/JetBrains/JetBrainsRuntime/tree/jbr21\" rel=\"nofollow noreferrer\">jbr21 branch</a>...."}],"answers":[{"tags":[],"owner":{"account_id":5584931,"reputation":2048,"user_id":4425643,"accept_rate":64,"display_name":"CausingUnderflowsEverywhere"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1695328748,"creation_date":1695328748,"answer_id":77153522,"question_id":77153237,"body_markdown":"First clone the jbr repository and switch to the branch version you&#39;d like to build. \r\n\r\n    git clone https://github.com/JetBrains/JetBrainsRuntime.git\r\n    cd JetBrainsRuntime\r\n    git checkout jbr21\r\n\r\nNext, follow the Build instructions in the README: https://github.com/JetBrains/JetBrainsRuntime/tree/jbr21#configuring-the-build-environment\r\n\r\n\r\n## Example for Linux (Docker):\r\n\r\nCreate a container:\r\n\r\n    $ cd jb/project/docker\r\n    $ docker build .\r\n    ...\r\n    Successfully built 942ea9900054\r\n\r\nRun these commands in the new container:\r\n\r\n    $ docker run -v `pwd`../../../../:/JetBrainsRuntime -it 942ea9900054\r\n    # cd /JetBrainsRuntime\r\n    # sh ./configure\r\n    # make images CONF=linux-x86_64-normal-server-release\r\n\r\n","title":"How to build JetBrains runtime from its GitHub repo?","body":"<p>First clone the jbr repository and switch to the branch version you'd like to build.</p>\n<pre><code>git clone https://github.com/JetBrains/JetBrainsRuntime.git\ncd JetBrainsRuntime\ngit checkout jbr21\n</code></pre>\n<p>Next, follow the Build instructions in the README: <a href=\"https://github.com/JetBrains/JetBrainsRuntime/tree/jbr21#configuring-the-build-environment\" rel=\"nofollow noreferrer\">https://github.com/JetBrains/JetBrainsRuntime/tree/jbr21#configuring-the-build-environment</a></p>\n<h2>Example for Linux (Docker):</h2>\n<p>Create a container:</p>\n<pre><code>$ cd jb/project/docker\n$ docker build .\n...\nSuccessfully built 942ea9900054\n</code></pre>\n<p>Run these commands in the new container:</p>\n<pre><code>$ docker run -v `pwd`../../../../:/JetBrainsRuntime -it 942ea9900054\n# cd /JetBrainsRuntime\n# sh ./configure\n# make images CONF=linux-x86_64-normal-server-release\n</code></pre>\n"}],"owner":{"account_id":21208933,"reputation":922,"user_id":15597975,"display_name":"mars8"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77153522,"answer_count":1,"score":1,"last_activity_date":1695328748,"creation_date":1695325642,"question_id":77153237,"body_markdown":"I am specifically trying to follow [this](https://youtrack.jetbrains.com/issue/JBR-3206/Native-Wayland-support) post. It mentions \r\n\r\n*&quot;build jbr21 off of nightly openjdk, e.g. OpenJDK21U-jdk_x64_linux_hotspot_2023-08-09-06-56.tar.gz&quot;*\r\n\r\nA [link](https://github.com/JetBrains/JetBrainsRuntime/blob/main/doc/building.md) is provided to the build instructions but it is too hard for a noob to follow. \r\n\r\nWhat are the steps I need to follow in order to build and run the `jbr21` branch from the JetBrains runtime repository?","title":"How to build JetBrains runtime from its GitHub repo?","body":"<p>I am specifically trying to follow <a href=\"https://youtrack.jetbrains.com/issue/JBR-3206/Native-Wayland-support\" rel=\"nofollow noreferrer\">this</a> post. It mentions</p>\n<p><em>&quot;build jbr21 off of nightly openjdk, e.g. OpenJDK21U-jdk_x64_linux_hotspot_2023-08-09-06-56.tar.gz&quot;</em></p>\n<p>A <a href=\"https://github.com/JetBrains/JetBrainsRuntime/blob/main/doc/building.md\" rel=\"nofollow noreferrer\">link</a> is provided to the build instructions but it is too hard for a noob to follow.</p>\n<p>What are the steps I need to follow in order to build and run the <code>jbr21</code> branch from the JetBrains runtime repository?</p>\n"},{"tags":["java","spring-boot","cors"],"owner":{"account_id":26829339,"reputation":1,"user_id":20417541,"display_name":"Michell Antonionny Bizerra de "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695328252,"creation_date":1695328252,"question_id":77153472,"body_markdown":"I&#39;m receiving the message &#39;http://localhost:4200&#39; has been blocked by CORS policy: No &#39;Access-Control-Allow-Origin&#39; when making a request via an Angular application (version 8.1.2).\r\nThank you in advance for everyone&#39;s attention.\r\nI will put my CorsFilter handling classes below.\r\nIn this AppConfig class I am trying to treat cors globally and not within controllers using @CrossOrigin(origins = &quot;*&quot;) for example.\r\n\r\n\r\n```\r\nimport java.time.Duration;\r\n\r\nimport org.springframework.boot.web.client.RestTemplateBuilder;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.web.client.RestTemplate;\r\nimport org.springframework.web.cors.CorsConfiguration;\r\nimport org.springframework.web.cors.UrlBasedCorsConfigurationSource;\r\nimport org.springframework.web.filter.CorsFilter;\r\n\r\n@Configuration\r\npublic class AppConfig {\r\n    @Bean\r\n    public RestTemplate restTemplate(RestTemplateBuilder builder) {\r\n\r\n        return builder\r\n                .setConnectTimeout(Duration.ofMillis(240000)) //2m\r\n                .setReadTimeout(Duration.ofMillis(240000))  //2m\r\n                .build();\r\n    }\r\n\r\n\r\n    @Bean\r\n    public CorsFilter corsFilter() {\r\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n        CorsConfiguration config = new CorsConfiguration().applyPermitDefaultValues();\r\n        config.setAllowCredentials(true);\r\n        config.addAllowedOrigin(&quot;*&quot;);\r\n        config.addAllowedHeader(&quot;*&quot;);\r\n        config.addAllowedMethod(&quot;OPTIONS&quot;);\r\n        config.addAllowedMethod(&quot;GET&quot;);\r\n        config.addAllowedMethod(&quot;POST&quot;);\r\n        config.addAllowedMethod(&quot;PUT&quot;);\r\n        config.addAllowedMethod(&quot;DELETE&quot;);\r\n        source.registerCorsConfiguration(&quot;/**&quot;, config);\r\n        return new CorsFilter(source);\r\n    }\r\n}\r\n```\r\n","title":"http://localhost:4200&#39; has been blocked by CORS policy: No &#39;Access-Control-Allow-Origin&#39;","body":"<p>I'm receiving the message 'http://localhost:4200' has been blocked by CORS policy: No 'Access-Control-Allow-Origin' when making a request via an Angular application (version 8.1.2).\nThank you in advance for everyone's attention.\nI will put my CorsFilter handling classes below.\nIn this AppConfig class I am trying to treat cors globally and not within controllers using @CrossOrigin(origins = &quot;*&quot;) for example.</p>\n<pre><code>import java.time.Duration;\n\nimport org.springframework.boot.web.client.RestTemplateBuilder;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.web.client.RestTemplate;\nimport org.springframework.web.cors.CorsConfiguration;\nimport org.springframework.web.cors.UrlBasedCorsConfigurationSource;\nimport org.springframework.web.filter.CorsFilter;\n\n@Configuration\npublic class AppConfig {\n    @Bean\n    public RestTemplate restTemplate(RestTemplateBuilder builder) {\n\n        return builder\n                .setConnectTimeout(Duration.ofMillis(240000)) //2m\n                .setReadTimeout(Duration.ofMillis(240000))  //2m\n                .build();\n    }\n\n\n    @Bean\n    public CorsFilter corsFilter() {\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n        CorsConfiguration config = new CorsConfiguration().applyPermitDefaultValues();\n        config.setAllowCredentials(true);\n        config.addAllowedOrigin(&quot;*&quot;);\n        config.addAllowedHeader(&quot;*&quot;);\n        config.addAllowedMethod(&quot;OPTIONS&quot;);\n        config.addAllowedMethod(&quot;GET&quot;);\n        config.addAllowedMethod(&quot;POST&quot;);\n        config.addAllowedMethod(&quot;PUT&quot;);\n        config.addAllowedMethod(&quot;DELETE&quot;);\n        source.registerCorsConfiguration(&quot;/**&quot;, config);\n        return new CorsFilter(source);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","ssl-certificate"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1695330851,"post_id":77153255,"comment_id":136013936,"body_markdown":"Let&#39;s encrypted doesn&#39;t issue certificates for localhost. Certificates only work correctly if you install them on the server they are issued for and then you have to use the full address which is noted in the certificate for accessing it.","body":"Let&#39;s encrypted doesn&#39;t issue certificates for localhost. Certificates only work correctly if you install them on the server they are issued for and then you have to use the full address which is noted in the certificate for accessing it."},{"owner":{"account_id":3405565,"reputation":840,"user_id":2856694,"accept_rate":30,"display_name":"Victor Soares"},"score":0,"creation_date":1695334493,"post_id":77153255,"comment_id":136014449,"body_markdown":"@Robert my application is running on a subdomain and the certificate was generated for the domain. For example: domain.com is where I got the certificate from and app.domain.com is where my application is. In this case, do I need to generate another certificate for the subdomain?","body":"@Robert my application is running on a subdomain and the certificate was generated for the domain. For example: domain.com is where I got the certificate from and app.domain.com is where my application is. In this case, do I need to generate another certificate for the subdomain?"},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1695337708,"post_id":77153255,"comment_id":136014745,"body_markdown":"You need to obtain and use a cert that _contains_ the name you use to connect, OR (optionally) a wildcard form of that name -- you can get a wildcard for \\*.example.com and use it for fred.example.com and wilma.example.com but NOT example.com or boo.boo.example.com (two levels of name). LetsEncrypt will issue a cert for more than one name (up to 100 IIRC) so you can get e.g. example.com,sub.example.com or example.com,\\*.example.com . But name mismatch can&#39;t cause the error you&#39;re reporting -- a more likely cause for that is if your keystore contains only the cert and not the privatekey; ...","body":"You need to obtain and use a cert that <i>contains</i> the name you use to connect, OR (optionally) a wildcard form of that name -- you can get a wildcard for *.example.com and use it for fred.example.com and wilma.example.com but NOT example.com or boo.boo.example.com (two levels of name). LetsEncrypt will issue a cert for more than one name (up to 100 IIRC) so you can get e.g. example.com,sub.example.com or example.com,*.example.com . But name mismatch can&#39;t cause the error you&#39;re reporting -- a more likely cause for that is if your keystore contains only the cert and not the privatekey; ..."},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1695337884,"post_id":77153255,"comment_id":136014763,"body_markdown":"... you cannot convert the _two or more_ PEM files created by certbot (if that&#39;s what you used) to a keystore with `keytool`, you need instead `openssl pkcs12 -export -in fullchain.pem -inkey privatekey.pem -out p12keystore` (see about a hundred existing Qs) or something like keystore-explorer.org .","body":"... you cannot convert the <i>two or more</i> PEM files created by certbot (if that&#39;s what you used) to a keystore with <code>keytool</code>, you need instead <code>openssl pkcs12 -export -in fullchain.pem -inkey privatekey.pem -out p12keystore</code> (see about a hundred existing Qs) or something like keystore-explorer.org ."}],"owner":{"account_id":3405565,"reputation":840,"user_id":2856694,"accept_rate":30,"display_name":"Victor Soares"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695327775,"creation_date":1695325831,"question_id":77153255,"body_markdown":"I&#39;m trying to generate a keystore and enable SSL in my Spring Boot application, but I&#39;m getting the error **ERR_SSL_VERSION_OR_CIPHER_MISMATCH**.\r\n\r\n**Here&#39;s what I&#39;ve done:**\r\n\r\n 1. Exported my valid .crt certificate generated by Let&#39;s Encrypt.\r\n 2. Imported my .crt into a .p12 keystore with this command:  \r\n\r\n&gt; keytool -import -alias springboot -file myCertificate.crt -keystore\r\n&gt; springboot.p12 -storepass password\r\n\r\n 3. Added the keystore &quot;springboot.p12&quot; to &#39;src/main/resources&#39; of the project.\r\n 4. Added the configuration in the application.yml file:\r\n\r\n\r\n&gt;         ssl:\r\n&gt;             key-store: classpath:springboot.p12\r\n&gt;             key-store-password: password\r\n\r\n 5. Started the server at https://localhost:8080/ and received the &quot;ERR_SSL_VERSION_OR_CIPHER_MISMATCH&quot; message in Chrome.\r\n\r\n\r\nI believe I might be doing something wrong in keystore generation. **Does anyone have any tips?**\r\n\r\n**Note:** I tested this update in production, and instead of ERR_SSL_VERSION_OR_CIPHER_MISMATCH, I get ERR_CONNECTION_TIMED_OUT.&quot;\r\n\r\n**Note2:** If I generete a self-sign certificate that error not occurrus, but I need a valid certificate","title":"How to resolve ERR_SSL_VERSION_OR_CIPHER_MISMATCH error when wnabling SSL in Java Spring Boot?","body":"<p>I'm trying to generate a keystore and enable SSL in my Spring Boot application, but I'm getting the error <strong>ERR_SSL_VERSION_OR_CIPHER_MISMATCH</strong>.</p>\n<p><strong>Here's what I've done:</strong></p>\n<ol>\n<li>Exported my valid .crt certificate generated by Let's Encrypt.</li>\n<li>Imported my .crt into a .p12 keystore with this command:</li>\n</ol>\n<blockquote>\n<p>keytool -import -alias springboot -file myCertificate.crt -keystore\nspringboot.p12 -storepass password</p>\n</blockquote>\n<ol start=\"3\">\n<li>Added the keystore &quot;springboot.p12&quot; to 'src/main/resources' of the project.</li>\n<li>Added the configuration in the application.yml file:</li>\n</ol>\n<blockquote>\n<pre><code>    ssl:\n        key-store: classpath:springboot.p12\n        key-store-password: password\n</code></pre>\n</blockquote>\n<ol start=\"5\">\n<li>Started the server at https://localhost:8080/ and received the &quot;ERR_SSL_VERSION_OR_CIPHER_MISMATCH&quot; message in Chrome.</li>\n</ol>\n<p>I believe I might be doing something wrong in keystore generation. <strong>Does anyone have any tips?</strong></p>\n<p><strong>Note:</strong> I tested this update in production, and instead of ERR_SSL_VERSION_OR_CIPHER_MISMATCH, I get ERR_CONNECTION_TIMED_OUT.&quot;</p>\n<p><strong>Note2:</strong> If I generete a self-sign certificate that error not occurrus, but I need a valid certificate</p>\n"},{"tags":["java","logging","execution"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":1,"creation_date":1695333683,"post_id":77153389,"comment_id":136014354,"body_markdown":"Why do you want to do that? Most people use automated tests, e.g. with [JUnit](https://junit.org) (at least for the bulk of their testing). In an automated test, the test is code (not a script that someone has to manually follow), and it includes one or more assertions that check that variables have expected values. Needing to know about the trace is a brittle way of tying test and code under test together; the details how the code gets whatever value probably shouldn&#39;t matter. If you do automated testing please disregard the above and [edit] your question, explain more, and add a [mcve].","body":"Why do you want to do that? Most people use automated tests, e.g. with <a href=\"https://junit.org\" rel=\"nofollow noreferrer\">JUnit</a> (at least for the bulk of their testing). In an automated test, the test is code (not a script that someone has to manually follow), and it includes one or more assertions that check that variables have expected values. Needing to know about the trace is a brittle way of tying test and code under test together; the details how the code gets whatever value probably shouldn&#39;t matter. If you do automated testing please disregard the above and <a href=\"https://stackoverflow.com/posts/77153389/edit\">edit</a> your question, explain more, and add a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":29503893,"reputation":1,"user_id":22610314,"display_name":"LYL"},"score":0,"creation_date":1695344013,"post_id":77153389,"comment_id":136015284,"body_markdown":"@Robert Thanks for your reply! I want to do this because my previous teammates wrote some test cases without explanation. My current work is to understand their existing test cases and generate more for the untested parts of our projects. Because there is more than one project on my hand now, I would like to find a more convenient/automatic way to collect log files and understand existing test cases more efficiently. In the current stage, I am not using the automated testing you described. Sorry for the confusion.","body":"@Robert Thanks for your reply! I want to do this because my previous teammates wrote some test cases without explanation. My current work is to understand their existing test cases and generate more for the untested parts of our projects. Because there is more than one project on my hand now, I would like to find a more convenient/automatic way to collect log files and understand existing test cases more efficiently. In the current stage, I am not using the automated testing you described. Sorry for the confusion."}],"owner":{"account_id":29503893,"reputation":1,"user_id":22610314,"display_name":"LYL"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695327397,"creation_date":1695327397,"question_id":77153389,"body_markdown":"I&#39;m relatively new to Java. Recently, I&#39;ve been attempting to run test cases on existing projects. I&#39;m aware that debugging tools, like those in Eclipse, allow me to step through test cases and monitor variable values at each step.\r\n\r\n\r\n\r\nHowever, as the projects grow more intricate and the number of test cases rise, manually stepping through each one and noting down all the details becomes cumbersome. Is there a more efficient method to gather the code&#39;s execution sequence (I think it is also called execution trace) and the variable value changes during each statement&#39;s execution? (For example, is there a tool that can automatically produce log files containing this information?) Any assistance would be greatly appreciated!","title":"Collecting variable value changes and execution trace in Java","body":"<p>I'm relatively new to Java. Recently, I've been attempting to run test cases on existing projects. I'm aware that debugging tools, like those in Eclipse, allow me to step through test cases and monitor variable values at each step.</p>\n<p>However, as the projects grow more intricate and the number of test cases rise, manually stepping through each one and noting down all the details becomes cumbersome. Is there a more efficient method to gather the code's execution sequence (I think it is also called execution trace) and the variable value changes during each statement's execution? (For example, is there a tool that can automatically produce log files containing this information?) Any assistance would be greatly appreciated!</p>\n"},{"tags":["java","spring-boot","spring-security","oauth-2.0","spring-webflux"],"comments":[{"owner":{"account_id":6157899,"reputation":19791,"user_id":4800344,"display_name":"Ermiya Eskandary"},"score":0,"creation_date":1695301893,"post_id":77150450,"comment_id":136008300,"body_markdown":"Have you confirmed that a new `httpClient` or `authorizedClientManager` is not being created everytime due to the service lifetime?","body":"Have you confirmed that a new <code>httpClient</code> or <code>authorizedClientManager</code> is not being created everytime due to the service lifetime?"},{"owner":{"account_id":115659,"reputation":32567,"user_id":303598,"accept_rate":84,"display_name":"matsev"},"score":0,"creation_date":1695302457,"post_id":77150450,"comment_id":136008451,"body_markdown":"Yes, since the are being created as Spring `@Bean`s, those objects will be created as singletons when the application starts.","body":"Yes, since the are being created as Spring <code>@Bean</code>s, those objects will be created as singletons when the application starts."},{"owner":{"account_id":6157899,"reputation":19791,"user_id":4800344,"display_name":"Ermiya Eskandary"},"score":0,"creation_date":1695302815,"post_id":77150450,"comment_id":136008545,"body_markdown":"OK great. And what requests are made? Are they auth code flow or client credentials requests? New tokens are definitely being generated?","body":"OK great. And what requests are made? Are they auth code flow or client credentials requests? New tokens are definitely being generated?"},{"owner":{"account_id":115659,"reputation":32567,"user_id":303598,"accept_rate":84,"display_name":"matsev"},"score":1,"creation_date":1695308365,"post_id":77150450,"comment_id":136009776,"body_markdown":"@ErmiyaEskandary please see the sequence diagrams that I have added to the question","body":"@ErmiyaEskandary please see the sequence diagrams that I have added to the question"},{"owner":{"account_id":6157899,"reputation":19791,"user_id":4800344,"display_name":"Ermiya Eskandary"},"score":0,"creation_date":1695308651,"post_id":77150450,"comment_id":136009849,"body_markdown":"Thank you, great diagram software btw - curious what application it is! That aside, it looks you&#39;re using the client creds flow here. Do just this and see if it works - if not, still update your question with it `ReactiveOAuth2AuthorizedClientProviderBuilder.builder().clientCredentials().build();`","body":"Thank you, great diagram software btw - curious what application it is! That aside, it looks you&#39;re using the client creds flow here. Do just this and see if it works - if not, still update your question with it <code>ReactiveOAuth2AuthorizedClientProviderBuilder.builder().clie&zwnj;&#8203;ntCredentials().buil&zwnj;&#8203;d();</code>"},{"owner":{"account_id":21488921,"reputation":4715,"user_id":15835039,"display_name":"Steve Riesenberg"},"score":1,"creation_date":1695313778,"post_id":77150450,"comment_id":136010985,"body_markdown":"Spring Security caches the `OAuth2AuthorizedClient` (which contains the `access_token`) with the `ReactiveOAuth2AuthorizedClientService` for you. Are you sure the tokens you receive do not expire quickly?","body":"Spring Security caches the <code>OAuth2AuthorizedClient</code> (which contains the <code>access_token</code>) with the <code>ReactiveOAuth2AuthorizedClientService</code> for you. Are you sure the tokens you receive do not expire quickly?"},{"owner":{"account_id":115659,"reputation":32567,"user_id":303598,"accept_rate":84,"display_name":"matsev"},"score":0,"creation_date":1695325517,"post_id":77150450,"comment_id":136013138,"body_markdown":"@ErmiyaEskandary I tried to remove the `.authorizationCode().refreshToken()` from the `ReactiveOAuth2AuthorizedClientProviderBuilder`, but the behavior is unchanged. The sequence diagrams were generated by using [PlantUML](https://plantuml.com/sequence-diagram).","body":"@ErmiyaEskandary I tried to remove the <code>.authorizationCode().refreshToken()</code> from the <code>ReactiveOAuth2AuthorizedClientProviderBuilder</code>, but the behavior is unchanged. The sequence diagrams were generated by using <a href=\"https://plantuml.com/sequence-diagram\" rel=\"nofollow noreferrer\">PlantUML</a>."},{"owner":{"account_id":115659,"reputation":32567,"user_id":303598,"accept_rate":84,"display_name":"matsev"},"score":0,"creation_date":1695326491,"post_id":77150450,"comment_id":136013291,"body_markdown":"@SteveRiesenberg Yes I thought that Spring Security would have in memory caching enabled by default. Please see my second updated above for details about the token expiration.","body":"@SteveRiesenberg Yes I thought that Spring Security would have in memory caching enabled by default. Please see my second updated above for details about the token expiration."},{"owner":{"account_id":115659,"reputation":32567,"user_id":303598,"accept_rate":84,"display_name":"matsev"},"score":0,"creation_date":1695327512,"post_id":77150450,"comment_id":136013436,"body_markdown":"@SteveRiesenberg Please also see my update about not currently having configured the `.attributes(oauth2AuthorizedClient(authorizedClient))` method call. Is that relevant? Where do I find the `authorizedClient`?","body":"@SteveRiesenberg Please also see my update about not currently having configured the <code>.attributes(oauth2AuthorizedClient(authorizedClient))</code> method call. Is that relevant? Where do I find the <code>authorizedClient</code>?"},{"owner":{"account_id":21488921,"reputation":4715,"user_id":15835039,"display_name":"Steve Riesenberg"},"score":0,"creation_date":1695328498,"post_id":77150450,"comment_id":136013592,"body_markdown":"Information is available in [the docs](https://docs.spring.io/spring-security/reference/reactive/oauth2/client/authorized-clients.html). See [defaulting the authorized client](https://docs.spring.io/spring-security/reference/reactive/oauth2/client/authorized-clients.html#_defaulting_the_authorized_client). It might be easier to provide a minimal sample and I can explore it further.","body":"Information is available in <a href=\"https://docs.spring.io/spring-security/reference/reactive/oauth2/client/authorized-clients.html\" rel=\"nofollow noreferrer\">the docs</a>. See <a href=\"https://docs.spring.io/spring-security/reference/reactive/oauth2/client/authorized-clients.html#_defaulting_the_authorized_client\" rel=\"nofollow noreferrer\">defaulting the authorized client</a>. It might be easier to provide a minimal sample and I can explore it further."}],"answers":[{"tags":[],"owner":{"account_id":5060337,"reputation":12,"user_id":4062178,"display_name":"Beck-"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1695302125,"creation_date":1695302125,"answer_id":77150619,"question_id":77150450,"body_markdown":"The appropriate way, is to store it in the database, same as it is done with the users and roles/permissions with Spring security. The only difference is that, you to update it, when it&#39;s expired. \r\n\r\nBesides, in your code there are few things you need to take into consideration.\r\n\r\nYou are using refresh token, which means once you have the first token, the refresh token is used to extend the validity of the previous token, without the need to issue a new one.\r\n\r\nYou are also using authorization code grant type for refresh token, which means it follows a whole process, which is used with front application user oriented, therefore it makes sense to have refresh token.\r\n\r\nIf the grant type was client credentials, then there will not be any need to have refresh token, but to just fire a request each time with client_id and client_secret to get the new bearer token.\r\n\r\nWhat i would recommend, is for you to first check the difference between oAuth grant types, as for your question, you can store them in a h2 or even persist them in mysql databse, once a token is expired, you can set it as expired.\r\n\r\nThen the token value, should be in an Authorization header appended with a prefix depending on which type of token, i.e\r\n\r\n&gt; Authorization Bearer {token-value}\r\n\r\n.","title":"How can one cache Oauth2 tokens using Spring Security and WebClient?","body":"<p>The appropriate way, is to store it in the database, same as it is done with the users and roles/permissions with Spring security. The only difference is that, you to update it, when it's expired.</p>\n<p>Besides, in your code there are few things you need to take into consideration.</p>\n<p>You are using refresh token, which means once you have the first token, the refresh token is used to extend the validity of the previous token, without the need to issue a new one.</p>\n<p>You are also using authorization code grant type for refresh token, which means it follows a whole process, which is used with front application user oriented, therefore it makes sense to have refresh token.</p>\n<p>If the grant type was client credentials, then there will not be any need to have refresh token, but to just fire a request each time with client_id and client_secret to get the new bearer token.</p>\n<p>What i would recommend, is for you to first check the difference between oAuth grant types, as for your question, you can store them in a h2 or even persist them in mysql databse, once a token is expired, you can set it as expired.</p>\n<p>Then the token value, should be in an Authorization header appended with a prefix depending on which type of token, i.e</p>\n<blockquote>\n<p>Authorization Bearer {token-value}</p>\n</blockquote>\n<p>.</p>\n"}],"owner":{"account_id":115659,"reputation":32567,"user_id":303598,"accept_rate":84,"display_name":"matsev"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":431,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695327327,"creation_date":1695300835,"question_id":77150450,"body_markdown":"How can configure refresh token requests and caching of Oauth2 tokens using Spring Security, WebClient and Spring Boot 3.1.3?\r\n\r\nI would like to configure a service with the following flow:\r\n1. polls messages from a queue (i.e. the flow is not a result of an incoming http request)\r\n2. does some processing \r\n3. requests an Oauth2 token from an authentication server\r\n4. post the processed data together with the token using `WebClient` to a third party API that uses Oauth2 for authentication\r\n5. re-use the same token for subsequent requests for the duration of the token validity\r\n\r\nThe flow is working up until step 4. The application successfully makes Oauth authentication request, receives a token and posts the processed data to the third party API with the token added as a `Bearer` token to the `Authorization` header. However, it seems like step 5 is missing as additional authentication requests are made to the authentication server for _every_ request, despite that the token suggests that it is valid for one hour.\r\n\r\nWhat is the appropriate way of configuring Spring Security and/or WebClient so that valid tokens are cached and refresh token requests are issued to the authentication server when the existing token is about to expire?\r\n\r\n\r\nThis is what I currently have:\r\n\r\n**Configuration Class**\r\n```java\r\npackage com.company.example;\r\n\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.oauth2.client.AuthorizedClientServiceReactiveOAuth2AuthorizedClientManager;\r\nimport org.springframework.security.oauth2.client.ReactiveOAuth2AuthorizedClientManager;\r\nimport org.springframework.security.oauth2.client.ReactiveOAuth2AuthorizedClientProvider;\r\nimport org.springframework.security.oauth2.client.ReactiveOAuth2AuthorizedClientProviderBuilder;\r\nimport org.springframework.security.oauth2.client.ReactiveOAuth2AuthorizedClientService;\r\nimport org.springframework.security.oauth2.client.registration.ReactiveClientRegistrationRepository;\r\nimport org.springframework.security.oauth2.client.web.reactive.function.client.ServerOAuth2AuthorizedClientExchangeFilterFunction;\r\nimport org.springframework.web.reactive.function.client.WebClient;\r\n\r\n@Configuration\r\npublic class SomeConfig {\r\n    private static final String REMOTE_SERVER_URL = &quot;https://www.remote.com&quot;;\r\n    private static final String OAUTH_CLIENT_REGISTRATION = &quot;example&quot;;\r\n\r\n    @Bean\r\n    public ReactiveOAuth2AuthorizedClientManager authorizedClientManager(\r\n            ReactiveClientRegistrationRepository clientRegistrationRepository,\r\n            ReactiveOAuth2AuthorizedClientService authorizedClientService) {\r\n        ReactiveOAuth2AuthorizedClientProvider authorizedClientProvider =\r\n                ReactiveOAuth2AuthorizedClientProviderBuilder.builder()\r\n                        .authorizationCode()\r\n                        .refreshToken()\r\n                        .clientCredentials()\r\n                        .build();\r\n\r\n        AuthorizedClientServiceReactiveOAuth2AuthorizedClientManager authorizedClientManager =\r\n                new AuthorizedClientServiceReactiveOAuth2AuthorizedClientManager(\r\n                        clientRegistrationRepository, authorizedClientService);\r\n        authorizedClientManager.setAuthorizedClientProvider(authorizedClientProvider);\r\n\r\n        return authorizedClientManager;\r\n    }\r\n\r\n    @Bean\r\n    WebClient httpClient(\r\n            ReactiveOAuth2AuthorizedClientManager authorizedClientManager) {\r\n        ServerOAuth2AuthorizedClientExchangeFilterFunction oauth2Client =\r\n                new ServerOAuth2AuthorizedClientExchangeFilterFunction(authorizedClientManager);\r\n        oauth2Client.setDefaultClientRegistrationId(OAUTH_CLIENT_REGISTRATION);\r\n\r\n        return WebClient.builder()\r\n                .filter(oauth2Client)\r\n                .baseUrl(REMOTE_SERVER_URL)\r\n                .build();\r\n    }\r\n}\r\n```\r\n\r\n**Request Service**\r\n```java\r\npackage com.company.example;\r\n\r\nimport org.springframework.stereotype.Service;\r\nimport org.springframework.web.reactive.function.client.WebClient;\r\nimport reactor.core.publisher.Mono;\r\n\r\nimport static org.springframework.http.HttpHeaders.ACCEPT;\r\nimport static org.springframework.http.HttpHeaders.CONTENT_TYPE;\r\nimport static org.springframework.http.MediaType.APPLICATION_JSON_VALUE;\r\n\r\n@Service\r\npublic class RequestService {\r\n    private static final String SERVER_ENDPOINT = &quot;/endpoint&quot;;\r\n    private final WebClient webClient;\r\n\r\n    public RequestService(WebClient webClient) {\r\n        this.webClient = webClient;\r\n    }\r\n\r\n    public Mono&lt;ResponseObject&gt; makeRequest(Mono&lt;RequestObject&gt; requestObject) {\r\n        return requestObject.flatMap(req -&gt; this.webClient\r\n                .post()\r\n                .uri(SERVER_ENDPOINT)\r\n                .header(ACCEPT, APPLICATION_JSON_VALUE)\r\n                .header(CONTENT_TYPE, APPLICATION_JSON_VALUE)\r\n                .bodyValue(requestObject)\r\n                .retrieve()\r\n                .bodyToMono(ResponseObject.class));\r\n    }\r\n}\r\n```\r\n\r\n**application.yaml**\r\n```yaml\r\nspring:\r\n  security:\r\n    oauth2:\r\n      client:\r\n        registration:\r\n          example:\r\n            authorization-grant-type: client_credentials\r\n            client-id: ${client-id}\r\n            client-secret: ${client-secret}\r\n            scope: api://${app-id}/.default\r\n        provider:\r\n          example:\r\n            token-uri: https://example.oauth.server.com/oauth2/v2.0/token\r\n```\r\n\r\n**Dependencies**\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.1.3&lt;/version&gt;\r\n        &lt;relativePath/&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;groupId&gt;com.example.oauth&lt;/groupId&gt;\r\n    &lt;artifactId&gt;webclient&lt;/artifactId&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-oauth2-client&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\n**Update 1**\r\n\r\nWhat I see is that an authentication request is made to the authentication server before every request to the third party API:\r\n\r\n[![what I see][1]][1]\r\n\r\nWhat I would like os that a single authentication request is made before the first request with the third party API. The token should be cached and re-used for every subsequent request with the third party API as long as it is valid:\r\n\r\n[![what I would like to see][2]][2]\r\n\r\n\r\n**Update 2**\r\n\r\nThe token validity period is one hour. I know this that the response authentication server has the following content:\r\n\r\n```json\r\n{\r\n  &quot;token_type&quot;: &quot;Bearer&quot;,\r\n  &quot;expires_in&quot;: 3599,\r\n  &quot;ext_expires_in&quot;: 3599,\r\n  &quot;access_token&quot;: [token]\r\n}\r\n```\r\n\r\nThe `[token]` is a JWT token and when analysed using https://jwt.io it has (among other things) an `exp` field with an epoch timestamp one hour after the authentication request was made.\r\n\r\n\r\n**Update 3**\r\n\r\nLooking through the JavaDoc I found this code snippet in the [ServerOAuth2AuthorizedClientExchangeFilterFunction#oauth2AuthorizedClient()][3]:\r\n\r\n```java\r\n WebClient webClient = WebClient.builder()\r\n    .filter(new ServerOAuth2AuthorizedClientExchangeFilterFunction(authorizedClientManager))\r\n    .build();\r\n Mono&lt;String&gt; response = webClient\r\n    .get()\r\n    .uri(uri)\r\n    .attributes(oauth2AuthorizedClient(authorizedClient))\r\n    // ...\r\n    .retrieve()\r\n    .bodyToMono(String.class);\r\n```\r\nOne thing that is missing from my current configuration is the `.attributes(oauth2AuthorizedClient(authorizedClient))` part. Is this relevant? If so, from where do I get the `authorizedClient`?\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/K2aUK.png\r\n  [2]: https://i.stack.imgur.com/TYjWl.png\r\n  [3]: https://docs.spring.io/spring-security/site/docs/6.1.3/api/org/springframework/security/oauth2/client/web/reactive/function/client/ServerOAuth2AuthorizedClientExchangeFilterFunction.html#oauth2AuthorizedClient(org.springframework.security.oauth2.client.OAuth2AuthorizedClient)","title":"How can one cache Oauth2 tokens using Spring Security and WebClient?","body":"<p>How can configure refresh token requests and caching of Oauth2 tokens using Spring Security, WebClient and Spring Boot 3.1.3?</p>\n<p>I would like to configure a service with the following flow:</p>\n<ol>\n<li>polls messages from a queue (i.e. the flow is not a result of an incoming http request)</li>\n<li>does some processing</li>\n<li>requests an Oauth2 token from an authentication server</li>\n<li>post the processed data together with the token using <code>WebClient</code> to a third party API that uses Oauth2 for authentication</li>\n<li>re-use the same token for subsequent requests for the duration of the token validity</li>\n</ol>\n<p>The flow is working up until step 4. The application successfully makes Oauth authentication request, receives a token and posts the processed data to the third party API with the token added as a <code>Bearer</code> token to the <code>Authorization</code> header. However, it seems like step 5 is missing as additional authentication requests are made to the authentication server for <em>every</em> request, despite that the token suggests that it is valid for one hour.</p>\n<p>What is the appropriate way of configuring Spring Security and/or WebClient so that valid tokens are cached and refresh token requests are issued to the authentication server when the existing token is about to expire?</p>\n<p>This is what I currently have:</p>\n<p><strong>Configuration Class</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.company.example;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.oauth2.client.AuthorizedClientServiceReactiveOAuth2AuthorizedClientManager;\nimport org.springframework.security.oauth2.client.ReactiveOAuth2AuthorizedClientManager;\nimport org.springframework.security.oauth2.client.ReactiveOAuth2AuthorizedClientProvider;\nimport org.springframework.security.oauth2.client.ReactiveOAuth2AuthorizedClientProviderBuilder;\nimport org.springframework.security.oauth2.client.ReactiveOAuth2AuthorizedClientService;\nimport org.springframework.security.oauth2.client.registration.ReactiveClientRegistrationRepository;\nimport org.springframework.security.oauth2.client.web.reactive.function.client.ServerOAuth2AuthorizedClientExchangeFilterFunction;\nimport org.springframework.web.reactive.function.client.WebClient;\n\n@Configuration\npublic class SomeConfig {\n    private static final String REMOTE_SERVER_URL = &quot;https://www.remote.com&quot;;\n    private static final String OAUTH_CLIENT_REGISTRATION = &quot;example&quot;;\n\n    @Bean\n    public ReactiveOAuth2AuthorizedClientManager authorizedClientManager(\n            ReactiveClientRegistrationRepository clientRegistrationRepository,\n            ReactiveOAuth2AuthorizedClientService authorizedClientService) {\n        ReactiveOAuth2AuthorizedClientProvider authorizedClientProvider =\n                ReactiveOAuth2AuthorizedClientProviderBuilder.builder()\n                        .authorizationCode()\n                        .refreshToken()\n                        .clientCredentials()\n                        .build();\n\n        AuthorizedClientServiceReactiveOAuth2AuthorizedClientManager authorizedClientManager =\n                new AuthorizedClientServiceReactiveOAuth2AuthorizedClientManager(\n                        clientRegistrationRepository, authorizedClientService);\n        authorizedClientManager.setAuthorizedClientProvider(authorizedClientProvider);\n\n        return authorizedClientManager;\n    }\n\n    @Bean\n    WebClient httpClient(\n            ReactiveOAuth2AuthorizedClientManager authorizedClientManager) {\n        ServerOAuth2AuthorizedClientExchangeFilterFunction oauth2Client =\n                new ServerOAuth2AuthorizedClientExchangeFilterFunction(authorizedClientManager);\n        oauth2Client.setDefaultClientRegistrationId(OAUTH_CLIENT_REGISTRATION);\n\n        return WebClient.builder()\n                .filter(oauth2Client)\n                .baseUrl(REMOTE_SERVER_URL)\n                .build();\n    }\n}\n</code></pre>\n<p><strong>Request Service</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.company.example;\n\nimport org.springframework.stereotype.Service;\nimport org.springframework.web.reactive.function.client.WebClient;\nimport reactor.core.publisher.Mono;\n\nimport static org.springframework.http.HttpHeaders.ACCEPT;\nimport static org.springframework.http.HttpHeaders.CONTENT_TYPE;\nimport static org.springframework.http.MediaType.APPLICATION_JSON_VALUE;\n\n@Service\npublic class RequestService {\n    private static final String SERVER_ENDPOINT = &quot;/endpoint&quot;;\n    private final WebClient webClient;\n\n    public RequestService(WebClient webClient) {\n        this.webClient = webClient;\n    }\n\n    public Mono&lt;ResponseObject&gt; makeRequest(Mono&lt;RequestObject&gt; requestObject) {\n        return requestObject.flatMap(req -&gt; this.webClient\n                .post()\n                .uri(SERVER_ENDPOINT)\n                .header(ACCEPT, APPLICATION_JSON_VALUE)\n                .header(CONTENT_TYPE, APPLICATION_JSON_VALUE)\n                .bodyValue(requestObject)\n                .retrieve()\n                .bodyToMono(ResponseObject.class));\n    }\n}\n</code></pre>\n<p><strong>application.yaml</strong></p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  security:\n    oauth2:\n      client:\n        registration:\n          example:\n            authorization-grant-type: client_credentials\n            client-id: ${client-id}\n            client-secret: ${client-secret}\n            scope: api://${app-id}/.default\n        provider:\n          example:\n            token-uri: https://example.oauth.server.com/oauth2/v2.0/token\n</code></pre>\n<p><strong>Dependencies</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.3&lt;/version&gt;\n        &lt;relativePath/&gt;\n    &lt;/parent&gt;\n\n    &lt;groupId&gt;com.example.oauth&lt;/groupId&gt;\n    &lt;artifactId&gt;webclient&lt;/artifactId&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-oauth2-client&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p><strong>Update 1</strong></p>\n<p>What I see is that an authentication request is made to the authentication server before every request to the third party API:</p>\n<p><a href=\"https://i.stack.imgur.com/K2aUK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/K2aUK.png\" alt=\"what I see\" /></a></p>\n<p>What I would like os that a single authentication request is made before the first request with the third party API. The token should be cached and re-used for every subsequent request with the third party API as long as it is valid:</p>\n<p><a href=\"https://i.stack.imgur.com/TYjWl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TYjWl.png\" alt=\"what I would like to see\" /></a></p>\n<p><strong>Update 2</strong></p>\n<p>The token validity period is one hour. I know this that the response authentication server has the following content:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;token_type&quot;: &quot;Bearer&quot;,\n  &quot;expires_in&quot;: 3599,\n  &quot;ext_expires_in&quot;: 3599,\n  &quot;access_token&quot;: [token]\n}\n</code></pre>\n<p>The <code>[token]</code> is a JWT token and when analysed using <a href=\"https://jwt.io\" rel=\"nofollow noreferrer\">https://jwt.io</a> it has (among other things) an <code>exp</code> field with an epoch timestamp one hour after the authentication request was made.</p>\n<p><strong>Update 3</strong></p>\n<p>Looking through the JavaDoc I found this code snippet in the <a href=\"https://docs.spring.io/spring-security/site/docs/6.1.3/api/org/springframework/security/oauth2/client/web/reactive/function/client/ServerOAuth2AuthorizedClientExchangeFilterFunction.html#oauth2AuthorizedClient(org.springframework.security.oauth2.client.OAuth2AuthorizedClient)\" rel=\"nofollow noreferrer\">ServerOAuth2AuthorizedClientExchangeFilterFunction#oauth2AuthorizedClient()</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code> WebClient webClient = WebClient.builder()\n    .filter(new ServerOAuth2AuthorizedClientExchangeFilterFunction(authorizedClientManager))\n    .build();\n Mono&lt;String&gt; response = webClient\n    .get()\n    .uri(uri)\n    .attributes(oauth2AuthorizedClient(authorizedClient))\n    // ...\n    .retrieve()\n    .bodyToMono(String.class);\n</code></pre>\n<p>One thing that is missing from my current configuration is the <code>.attributes(oauth2AuthorizedClient(authorizedClient))</code> part. Is this relevant? If so, from where do I get the <code>authorizedClient</code>?</p>\n"},{"tags":["java","android","image","mediarecorder"],"comments":[{"owner":{"account_id":6330683,"reputation":5229,"user_id":4915707,"display_name":"Alexander Ushakov"},"score":0,"creation_date":1695320400,"post_id":77152531,"comment_id":136012280,"body_markdown":"What version of Android you use to run this code?","body":"What version of Android you use to run this code?"},{"owner":{"account_id":6330683,"reputation":5229,"user_id":4915707,"display_name":"Alexander Ushakov"},"score":0,"creation_date":1695320509,"post_id":77152531,"comment_id":136012301,"body_markdown":"Please show setupCamera method content","body":"Please show setupCamera method content"}],"answers":[{"tags":[],"owner":{"account_id":1420007,"reputation":17492,"user_id":1344825,"display_name":"Eddy Talvala"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1695327161,"creation_date":1695327161,"answer_id":77153362,"question_id":77152531,"body_markdown":"When directly connecting the camera to the video encoder, the buffers are allocated with flags indicating they will be consumed by the encoder. This flag is used by the camera HAL and graphics buffer allocators to select appropriate formats/layouts/etc for the buffers.\r\n\r\nWhen you use an ImageReader like this, only a flag for &#39;CPU use&#39; is set; when you then try to send the buffer to the encoder, it likely errors out when trying to access the buffer from the hardware encoder.\r\n\r\nYou can try using this variant of the ImageReader constructor: \r\nhttps://developer.android.com/reference/android/media/ImageReader?hl=en#newInstance(int,%20int,%20int,%20int,%20long)\r\n\r\nand pass in the `USAGE_VIDEO_ENCODE` and `USAGE_CPU_READ_OFTEN` flags.  Note that this isn&#39;t a guaranteed-to-work combination, unfortunately. That said, I&#39;d expect it to likely work with YUV_420_888 as the format. (PRIVATE format would mean you couldn&#39;t read from it in app code, since you won&#39;t know the layout).\r\n\r\nThe most compatible option is to either have two output streams, one to the encoder and one to the ImageReader for ML. Or do the copying in the GPU like you did before.\r\n\r\n","title":"Not able to pass Images to RecordingSession Surface with ImageWriter","body":"<p>When directly connecting the camera to the video encoder, the buffers are allocated with flags indicating they will be consumed by the encoder. This flag is used by the camera HAL and graphics buffer allocators to select appropriate formats/layouts/etc for the buffers.</p>\n<p>When you use an ImageReader like this, only a flag for 'CPU use' is set; when you then try to send the buffer to the encoder, it likely errors out when trying to access the buffer from the hardware encoder.</p>\n<p>You can try using this variant of the ImageReader constructor:\n<a href=\"https://developer.android.com/reference/android/media/ImageReader?hl=en#newInstance(int,%20int,%20int,%20int,%20long)\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/media/ImageReader?hl=en#newInstance(int,%20int,%20int,%20int,%20long)</a></p>\n<p>and pass in the <code>USAGE_VIDEO_ENCODE</code> and <code>USAGE_CPU_READ_OFTEN</code> flags.  Note that this isn't a guaranteed-to-work combination, unfortunately. That said, I'd expect it to likely work with YUV_420_888 as the format. (PRIVATE format would mean you couldn't read from it in app code, since you won't know the layout).</p>\n<p>The most compatible option is to either have two output streams, one to the encoder and one to the ImageReader for ML. Or do the copying in the GPU like you did before.</p>\n"}],"owner":{"account_id":6871137,"reputation":933,"user_id":5281431,"display_name":"mrousavy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77153362,"answer_count":1,"score":0,"last_activity_date":1695327161,"creation_date":1695318365,"question_id":77152531,"body_markdown":"I&#39;m trying to create an app that uses Camera2 to both detect QR codes and record a video.\r\n\r\nI have many outputs, and since I cannot attach everything at once to the Camera, I needed to do both my frame processing (QR Code or whatever) and my media recording in one single Camera Output.\r\nI decided to go for an `ImageReader`, where I receive my `Image`s which I can then process, and then pass them through to another output surface, in this case the `MediaRecorder`&#39;s Surface, using an `ImageWriter`. So:\r\n\r\n`ImageReader` -&gt; do some ML processing on the `Image` -&gt; `ImageWriter` -&gt; `MediaRecorder`\r\n\r\nMy current setup looks like this:\r\n\r\n```kt\r\nclass VideoPipeline(width: Int,\r\n                    height: Int,\r\n                    format: Int): ImageReader.OnImageAvailableListener {\r\n  private var passThroughImageWriter: ImageWriter? = null\r\n\r\n  init {\r\n    imageReader = ImageReader.newInstance(width, height, format, 5)\r\n    imageReader.setOnImageAvailableListener(this, videoThreadHandler)\r\n    setupCamera(imageReader.surface, previewSurface, photoOutputSurface)\r\n  }\r\n\r\n  fun startRecording() {\r\n    val recorderSurface = MediaCodec.createPersistentInputSurface()\r\n    val recorder = MediaRecorder(...)\r\n    recorder.setVideoSource(MediaRecorder.VideoSource.SURFACE)\r\n    // a bunch of other setup code for media recorder\r\n    recorder.setInputSurface(surface)\r\n    recorder.prepare()\r\n    recorder.start()\r\n\r\n    passThroughImageWriter = ImageWriter.newInstance(recorderSurface, 5)\r\n  }\r\n  \r\n  override fun onImageAvailable(reader: ImageReader) {\r\n    val image = reader.acquireLatestImage()\r\n    \r\n    if (passThroughImageWriter != null) {\r\n      // Moves the Image to the ImageWriter, no need to close\r\n      passThroughImageWriter?.queueInputImage(image)\r\n    } else {\r\n      // Nothing else happening here, close image.\r\n      image.close()\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nBut this just fails every time, no matter what `format` I use (Tried `ImageFormat.YUV_420_888`, `ImageFormat.PRIVATE` and `PixelFormat.RGB888`):\r\n\r\n```\r\nVideoPipeline           D  --&gt; writing 1280 x 960 34 frame..\r\nGraphicBufferSource     D  got buffer with new dataSpace #104\r\nGraphicBufferSource     W  released unpopulated slots: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63]\r\nVideoPipeline           D  --&gt; writing 1280 x 960 34 frame..\r\nGraphicBufferSource     W  released unpopulated slots: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63]\r\nRecordingSession        E  MediaRecorder Error: 268435556 (-1007)\r\nRecordingSession        I  Stopping RecordingSession..\r\nVideoPipeline           D  --&gt; writing 1280 x 960 34 frame..\r\nGraphicBufferSource     W  released unpopulated slots: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63]\r\nMediaRecorder           E  stop failed: -1007\r\nAndroidRuntime          D  Shutting down VM\r\nAndroidRuntime          E  FATAL EXCEPTION: main\r\n                            Process: com.mrousavy.camera.example, PID: 6406\r\n                            java.lang.RuntimeException: stop failed.\r\n                              at android.media.MediaRecorder.stop(Native Method)\r\n                              at com.mrousavy.camera.core.RecordingSession.stop(RecordingSession.kt:103)\r\n                              at com.mrousavy.camera.core.RecordingSession._init_$lambda$0(RecordingSession.kt:75)\r\n                              at com.mrousavy.camera.core.RecordingSession.$r8$lambda$enBPf4dA0r-MTevnd6ChW75ZCDg(Unknown Source:0)\r\n                              at com.mrousavy.camera.core.RecordingSession$$ExternalSyntheticLambda0.onError(Unknown Source:2)\r\n                              at android.media.MediaRecorder$EventHandler.handleMessage(MediaRecorder.java:1615)\r\n                              at android.os.Handler.dispatchMessage(Handler.java:106)\r\n                              at android.os.Looper.loopOnce(Looper.java:201)\r\n                              at android.os.Looper.loop(Looper.java:288)\r\n                              at android.app.ActivityThread.main(ActivityThread.java:7872)\r\n                              at java.lang.reflect.Method.invoke(Native Method)\r\n                              at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)\r\n                              at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:936)\r\n```\r\n\r\nAny ideas why?\r\n\r\nFull code:\r\n- [`VideoPipeline.kt`](https://github.com/mrousavy/react-native-vision-camera/blob/fix/image-writer-queueing/package/android/src/main/java/com/mrousavy/camera/core/VideoPipeline.kt)\r\n- [`RecordingSession.kt`](https://github.com/mrousavy/react-native-vision-camera/blob/fix/image-writer-queueing/package/android/src/main/java/com/mrousavy/camera/core/RecordingSession.kt)\r\n\r\nJFYI: Before I used `ImageWriter`, I had an OpenGL pipeline that just streamed into the `MediaRecorder`&#39;s surface using OpenGL Surfaces, that worked perfectly fine. So I think the `MediaRecorder` is set up properly, it&#39;s gotta be something with the `ImageWriter` imo.\r\n\r\nHere&#39;s the diff where I switched from the OpenGL pipeline to `ImageWriter`: [`4e96eb7`](https://github.com/mrousavy/react-native-vision-camera/commit/4e96eb77e0755edf5a4351d61fa36d60415f1db6) (reason being that OpenGL is always RGB, and I want PRIVATE/YUV frames)\r\n\r\nI&#39;d appreciate any pointers/help here!","title":"Not able to pass Images to RecordingSession Surface with ImageWriter","body":"<p>I'm trying to create an app that uses Camera2 to both detect QR codes and record a video.</p>\n<p>I have many outputs, and since I cannot attach everything at once to the Camera, I needed to do both my frame processing (QR Code or whatever) and my media recording in one single Camera Output.\nI decided to go for an <code>ImageReader</code>, where I receive my <code>Image</code>s which I can then process, and then pass them through to another output surface, in this case the <code>MediaRecorder</code>'s Surface, using an <code>ImageWriter</code>. So:</p>\n<p><code>ImageReader</code> -&gt; do some ML processing on the <code>Image</code> -&gt; <code>ImageWriter</code> -&gt; <code>MediaRecorder</code></p>\n<p>My current setup looks like this:</p>\n<pre><code>class VideoPipeline(width: Int,\n                    height: Int,\n                    format: Int): ImageReader.OnImageAvailableListener {\n  private var passThroughImageWriter: ImageWriter? = null\n\n  init {\n    imageReader = ImageReader.newInstance(width, height, format, 5)\n    imageReader.setOnImageAvailableListener(this, videoThreadHandler)\n    setupCamera(imageReader.surface, previewSurface, photoOutputSurface)\n  }\n\n  fun startRecording() {\n    val recorderSurface = MediaCodec.createPersistentInputSurface()\n    val recorder = MediaRecorder(...)\n    recorder.setVideoSource(MediaRecorder.VideoSource.SURFACE)\n    // a bunch of other setup code for media recorder\n    recorder.setInputSurface(surface)\n    recorder.prepare()\n    recorder.start()\n\n    passThroughImageWriter = ImageWriter.newInstance(recorderSurface, 5)\n  }\n  \n  override fun onImageAvailable(reader: ImageReader) {\n    val image = reader.acquireLatestImage()\n    \n    if (passThroughImageWriter != null) {\n      // Moves the Image to the ImageWriter, no need to close\n      passThroughImageWriter?.queueInputImage(image)\n    } else {\n      // Nothing else happening here, close image.\n      image.close()\n    }\n  }\n}\n</code></pre>\n<p>But this just fails every time, no matter what <code>format</code> I use (Tried <code>ImageFormat.YUV_420_888</code>, <code>ImageFormat.PRIVATE</code> and <code>PixelFormat.RGB888</code>):</p>\n<pre><code>VideoPipeline           D  --&gt; writing 1280 x 960 34 frame..\nGraphicBufferSource     D  got buffer with new dataSpace #104\nGraphicBufferSource     W  released unpopulated slots: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63]\nVideoPipeline           D  --&gt; writing 1280 x 960 34 frame..\nGraphicBufferSource     W  released unpopulated slots: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63]\nRecordingSession        E  MediaRecorder Error: 268435556 (-1007)\nRecordingSession        I  Stopping RecordingSession..\nVideoPipeline           D  --&gt; writing 1280 x 960 34 frame..\nGraphicBufferSource     W  released unpopulated slots: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63]\nMediaRecorder           E  stop failed: -1007\nAndroidRuntime          D  Shutting down VM\nAndroidRuntime          E  FATAL EXCEPTION: main\n                            Process: com.mrousavy.camera.example, PID: 6406\n                            java.lang.RuntimeException: stop failed.\n                              at android.media.MediaRecorder.stop(Native Method)\n                              at com.mrousavy.camera.core.RecordingSession.stop(RecordingSession.kt:103)\n                              at com.mrousavy.camera.core.RecordingSession._init_$lambda$0(RecordingSession.kt:75)\n                              at com.mrousavy.camera.core.RecordingSession.$r8$lambda$enBPf4dA0r-MTevnd6ChW75ZCDg(Unknown Source:0)\n                              at com.mrousavy.camera.core.RecordingSession$$ExternalSyntheticLambda0.onError(Unknown Source:2)\n                              at android.media.MediaRecorder$EventHandler.handleMessage(MediaRecorder.java:1615)\n                              at android.os.Handler.dispatchMessage(Handler.java:106)\n                              at android.os.Looper.loopOnce(Looper.java:201)\n                              at android.os.Looper.loop(Looper.java:288)\n                              at android.app.ActivityThread.main(ActivityThread.java:7872)\n                              at java.lang.reflect.Method.invoke(Native Method)\n                              at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)\n                              at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:936)\n</code></pre>\n<p>Any ideas why?</p>\n<p>Full code:</p>\n<ul>\n<li><a href=\"https://github.com/mrousavy/react-native-vision-camera/blob/fix/image-writer-queueing/package/android/src/main/java/com/mrousavy/camera/core/VideoPipeline.kt\" rel=\"nofollow noreferrer\"><code>VideoPipeline.kt</code></a></li>\n<li><a href=\"https://github.com/mrousavy/react-native-vision-camera/blob/fix/image-writer-queueing/package/android/src/main/java/com/mrousavy/camera/core/RecordingSession.kt\" rel=\"nofollow noreferrer\"><code>RecordingSession.kt</code></a></li>\n</ul>\n<p>JFYI: Before I used <code>ImageWriter</code>, I had an OpenGL pipeline that just streamed into the <code>MediaRecorder</code>'s surface using OpenGL Surfaces, that worked perfectly fine. So I think the <code>MediaRecorder</code> is set up properly, it's gotta be something with the <code>ImageWriter</code> imo.</p>\n<p>Here's the diff where I switched from the OpenGL pipeline to <code>ImageWriter</code>: <a href=\"https://github.com/mrousavy/react-native-vision-camera/commit/4e96eb77e0755edf5a4351d61fa36d60415f1db6\" rel=\"nofollow noreferrer\"><code>4e96eb7</code></a> (reason being that OpenGL is always RGB, and I want PRIVATE/YUV frames)</p>\n<p>I'd appreciate any pointers/help here!</p>\n"},{"tags":["java","spring-jms","activemq-artemis"],"comments":[{"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1695246296,"post_id":77146030,"comment_id":136000559,"body_markdown":"What do you mean by, &quot;when the listener ends the treatment&quot;?","body":"What do you mean by, &quot;when the listener ends the treatment&quot;?"},{"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1695246330,"post_id":77146030,"comment_id":136000564,"body_markdown":"What version of ActiveMQ Artemis are you using?","body":"What version of ActiveMQ Artemis are you using?"},{"owner":{"account_id":3445746,"reputation":85,"user_id":2886612,"display_name":"Jonathan"},"score":0,"creation_date":1695279202,"post_id":77146030,"comment_id":136003674,"body_markdown":"When the listener sends the response (so after the timeout of the original producer). I&#39;m using the version 2.29.0, but I tried the last one (2.31.0) and I have the same behavior","body":"When the listener sends the response (so after the timeout of the original producer). I&#39;m using the version 2.29.0, but I tried the last one (2.31.0) and I have the same behavior"},{"owner":{"account_id":3445746,"reputation":85,"user_id":2886612,"display_name":"Jonathan"},"score":0,"creation_date":1695286981,"post_id":77146030,"comment_id":136005180,"body_markdown":"An explanation of what I see in the code of Spring &amp; artemis-jms-client. When Spring tries to send the response, it calls ActiveMQSession#createProducer that will create a durable address and the temporary queue through the method ActiveMQSession#checkDestination.  \n\nAs the address is not temporary, I can&#39;t set specific configuration to delete temporary queues if there&#39;s no consumer on it.  \n\nThe only solution I see here is to forbidden the automatic creations of queues. It will throws an InvalidDestinationException, but I don&#39;t have the temporary queue created after the timeout","body":"An explanation of what I see in the code of Spring &amp; artemis-jms-client. When Spring tries to send the response, it calls ActiveMQSession#createProducer that will create a durable address and the temporary queue through the method ActiveMQSession#checkDestination.    As the address is not temporary, I can&#39;t set specific configuration to delete temporary queues if there&#39;s no consumer on it.    The only solution I see here is to forbidden the automatic creations of queues. It will throws an InvalidDestinationException, but I don&#39;t have the temporary queue created after the timeout"},{"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1695923863,"post_id":77146030,"comment_id":136092015,"body_markdown":"This looks like a bug to me. For the time being you can work-around the issue by configuring automatic address deletion via the `auto-delete-addresses` address-setting. See [the documentation](https://activemq.apache.org/components/artemis/documentation/latest/address-settings.html#address-settings) for more details on that setting and other related settings.","body":"This looks like a bug to me. For the time being you can work-around the issue by configuring automatic address deletion via the <code>auto-delete-addresses</code> address-setting. See <a href=\"https://activemq.apache.org/components/artemis/documentation/latest/address-settings.html#address-settings\" rel=\"nofollow noreferrer\">the documentation</a> for more details on that setting and other related settings."}],"answers":[{"tags":[],"owner":{"account_id":18991509,"reputation":190,"user_id":13860684,"display_name":"Nine Friends"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695326544,"creation_date":1695326544,"answer_id":77153318,"question_id":77146030,"body_markdown":"In many use cases of synchronous communication pattern, the response of the service provider is of no value anymore, after the requester stops waiting for it. And I believe you describe such a use case. Then it makes sense to set a time to live for the request message:\r\n\r\n    JMSTemplate.setTimeToLive(long timeToLiveInMs)\r\n\r\nSet it to a value corresponding to your timeout. If there is a delay in the service provider consuming the request, the message will expire approximately at the time you stop waiting for the response, thus the service provider wont be bothered with processing this request anymore and hence wont send a redundant response. Unless you have not specified an expiry address in your address setting, the expired messages are deleted.\r\n\r\nThis might not eliminate every single case of redundant response, for example, when the response is created in time, but there is a delay in transmitting it to your application, or because your application goes down during your timeout interval. Thus, the service provider should propagate a time to live value of the request message to the response message. And I agree with your comment, the service provider should not be allowed to re-create the response queue. With time to live, the occurrence of these attempts will happen less often.\r\n","title":"Spring JMS &amp; ActiveMQ Artemis: manage timeout for synchronous messages","body":"<p>In many use cases of synchronous communication pattern, the response of the service provider is of no value anymore, after the requester stops waiting for it. And I believe you describe such a use case. Then it makes sense to set a time to live for the request message:</p>\n<pre><code>JMSTemplate.setTimeToLive(long timeToLiveInMs)\n</code></pre>\n<p>Set it to a value corresponding to your timeout. If there is a delay in the service provider consuming the request, the message will expire approximately at the time you stop waiting for the response, thus the service provider wont be bothered with processing this request anymore and hence wont send a redundant response. Unless you have not specified an expiry address in your address setting, the expired messages are deleted.</p>\n<p>This might not eliminate every single case of redundant response, for example, when the response is created in time, but there is a delay in transmitting it to your application, or because your application goes down during your timeout interval. Thus, the service provider should propagate a time to live value of the request message to the response message. And I agree with your comment, the service provider should not be allowed to re-create the response queue. With time to live, the occurrence of these attempts will happen less often.</p>\n"}],"owner":{"account_id":3445746,"reputation":85,"user_id":2886612,"display_name":"Jonathan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695326544,"creation_date":1695245459,"question_id":77146030,"body_markdown":"I have a huge application using JMS to communicate. Unfortunately, all the messages are synchronous for now and we use the method `JmsTemplate#sendAndReceive`.\r\n\r\nAll right, it works ! But....\r\n\r\nIf we have a timeout, the producer closes the temporary queue (defined to receive the response), as expected. But when the listener ends the treatment, it will recreate the temporary queue to send the response. This queue is temporary (with no consumer), but the address is not flagged as temporary as well. \r\n\r\nThe result is that we have multiple addresses and queues waiting a consumer to treat the response and it will never happen.\r\n\r\nHow to prevent the re-creation of the temporary queue if the producer (of the original message) closed it before, and doesn&#39;t wait anymore?\r\n\r\nEdit: I&#39;m using Artemis 2.29.0, but I have the the same behavior with the last version 2.31.0","title":"Spring JMS &amp; ActiveMQ Artemis: manage timeout for synchronous messages","body":"<p>I have a huge application using JMS to communicate. Unfortunately, all the messages are synchronous for now and we use the method <code>JmsTemplate#sendAndReceive</code>.</p>\n<p>All right, it works ! But....</p>\n<p>If we have a timeout, the producer closes the temporary queue (defined to receive the response), as expected. But when the listener ends the treatment, it will recreate the temporary queue to send the response. This queue is temporary (with no consumer), but the address is not flagged as temporary as well.</p>\n<p>The result is that we have multiple addresses and queues waiting a consumer to treat the response and it will never happen.</p>\n<p>How to prevent the re-creation of the temporary queue if the producer (of the original message) closed it before, and doesn't wait anymore?</p>\n<p>Edit: I'm using Artemis 2.29.0, but I have the the same behavior with the last version 2.31.0</p>\n"},{"tags":["java","amazon-web-services","jersey","jax-rs","jersey-client"],"comments":[{"owner":{"account_id":984172,"reputation":594,"user_id":1003113,"display_name":"Martynas Juseviius"},"score":0,"creation_date":1695410294,"post_id":77153267,"comment_id":136025818,"body_markdown":"So far no luck injecting `Providers` (or otherwise obtaining a `MessageBodyWriter` instance) in the `ClientRequestFilter` :/","body":"So far no luck injecting <code>Providers</code> (or otherwise obtaining a <code>MessageBodyWriter</code> instance) in the <code>ClientRequestFilter</code> :/"},{"owner":{"account_id":984172,"reputation":594,"user_id":1003113,"display_name":"Martynas Juseviius"},"score":0,"creation_date":1695413285,"post_id":77153267,"comment_id":136026208,"body_markdown":"Using a `WriterInterceptor` might be another approach: https://stackoverflow.com/a/33519702/1003113","body":"Using a <code>WriterInterceptor</code> might be another approach: <a href=\"https://stackoverflow.com/a/33519702/1003113\">stackoverflow.com/a/33519702/1003113</a>"}],"owner":{"account_id":984172,"reputation":594,"user_id":1003113,"display_name":"Martynas Juseviius"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695326452,"creation_date":1695326079,"question_id":77153267,"body_markdown":"My application is using [Jersey client](https://eclipse-ee4j.github.io/jersey.github.io/documentation/latest/client.html) and I want to deploy it on AWS and access resources that require [request authentication using AWS SigV4](https://docs.aws.amazon.com/AmazonS3/latest/API/sig-v4-authenticating-requests.html).\r\n\r\nI have looked at client code [examples specific to the Neptune DB](https://github.com/aws/amazon-neptune-sigv4-signer/tree/master/src/main/java/com/amazonaws/neptune/auth) (which is the service I&#39;m planning to use). They depend on getting the request entity content, which is one of the things used for SigV4 signing, together with the request URI and headers.\r\n\r\nI was planning to implement the Jersey version as `ClientRequestFilter`, but I realized that while the entity object is set (it can be retrieved using [`ClientRequestContext::getEntity`](https://docs.oracle.com/javaee/7/api/javax/ws/rs/client/ClientRequestContext.html#getEntity--)), it is not yet written at that stage. Serialization [happens later in the lifecycle in the `MessageBodyWriter`](https://eclipse-ee4j.github.io/jersey.github.io/documentation/latest/filters-and-interceptors.html#d0e10038).\r\n\r\nAny ideas how to implement it? One caveat is that signing has to be applied even when the request has no entity (empty string is used as the entity in that case).\r\n\r\nIn the meanwhile I will try to inject `Providers` into the `ClientRequestFilter` and serialize the entity there, or split this implementation over the `ClientRequestFilter` and the `MessageBodyWriter`, which would not be ideal.","title":"Getting request entity in Jersey&#39;s ClientRequestFilter","body":"<p>My application is using <a href=\"https://eclipse-ee4j.github.io/jersey.github.io/documentation/latest/client.html\" rel=\"nofollow noreferrer\">Jersey client</a> and I want to deploy it on AWS and access resources that require <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/API/sig-v4-authenticating-requests.html\" rel=\"nofollow noreferrer\">request authentication using AWS SigV4</a>.</p>\n<p>I have looked at client code <a href=\"https://github.com/aws/amazon-neptune-sigv4-signer/tree/master/src/main/java/com/amazonaws/neptune/auth\" rel=\"nofollow noreferrer\">examples specific to the Neptune DB</a> (which is the service I'm planning to use). They depend on getting the request entity content, which is one of the things used for SigV4 signing, together with the request URI and headers.</p>\n<p>I was planning to implement the Jersey version as <code>ClientRequestFilter</code>, but I realized that while the entity object is set (it can be retrieved using <a href=\"https://docs.oracle.com/javaee/7/api/javax/ws/rs/client/ClientRequestContext.html#getEntity--\" rel=\"nofollow noreferrer\"><code>ClientRequestContext::getEntity</code></a>), it is not yet written at that stage. Serialization <a href=\"https://eclipse-ee4j.github.io/jersey.github.io/documentation/latest/filters-and-interceptors.html#d0e10038\" rel=\"nofollow noreferrer\">happens later in the lifecycle in the <code>MessageBodyWriter</code></a>.</p>\n<p>Any ideas how to implement it? One caveat is that signing has to be applied even when the request has no entity (empty string is used as the entity in that case).</p>\n<p>In the meanwhile I will try to inject <code>Providers</code> into the <code>ClientRequestFilter</code> and serialize the entity there, or split this implementation over the <code>ClientRequestFilter</code> and the <code>MessageBodyWriter</code>, which would not be ideal.</p>\n"},{"tags":["java","spring","spring-kafka"],"answers":[{"tags":[],"owner":{"account_id":7037433,"reputation":61,"user_id":5390986,"display_name":"feenix110998"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1695325715,"creation_date":1695325715,"answer_id":77153242,"question_id":77153219,"body_markdown":"I think we can use the  RetryTopicConfigurationSupport https://docs.spring.io/spring-kafka/api/org/springframework/kafka/retrytopic/RetryTopicConfigurationSupport.html\r\n","title":"RetryTopicNamesProviderFactory with Spring-Kafka 3.0.10","body":"<p>I think we can use the  RetryTopicConfigurationSupport <a href=\"https://docs.spring.io/spring-kafka/api/org/springframework/kafka/retrytopic/RetryTopicConfigurationSupport.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-kafka/api/org/springframework/kafka/retrytopic/RetryTopicConfigurationSupport.html</a></p>\n"}],"owner":{"account_id":7037433,"reputation":61,"user_id":5390986,"display_name":"feenix110998"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77153242,"answer_count":1,"score":0,"last_activity_date":1695325715,"creation_date":1695325445,"question_id":77153219,"body_markdown":"I implemented a non-blocking retry for my kafka app using Spring-Kafa 2.7. I needed a custom topic name for the DLT so RetryTopicNamesProviderFactory was used. The retry process worked as expected with this version. Recently the app was migrated to Spring Kafka 3.0.10 and now the default DLT is used. It appears the RetryTopicNamesProviderFactory is ignored now. I found a post [post ][1]that claims that:\r\nIn 2.9.x and above the RetryTopicNamesProviderFactory bean configuration is no longer supported.\r\nIs there an equivalent or alternate method to configure a custom DLT name for retryable topic using Spring-Kafka 3.0.10 ? I looked at RetryTopicConfigurer but I need the entire name changed not just the suffix so I don&#39;t believe this will work.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/73284479/spring-kafka-retrytopicconfiguration-with-custom-names-for-retry-and-dead-lette","title":"RetryTopicNamesProviderFactory with Spring-Kafka 3.0.10","body":"<p>I implemented a non-blocking retry for my kafka app using Spring-Kafa 2.7. I needed a custom topic name for the DLT so RetryTopicNamesProviderFactory was used. The retry process worked as expected with this version. Recently the app was migrated to Spring Kafka 3.0.10 and now the default DLT is used. It appears the RetryTopicNamesProviderFactory is ignored now. I found a post <a href=\"https://stackoverflow.com/questions/73284479/spring-kafka-retrytopicconfiguration-with-custom-names-for-retry-and-dead-lette\">post </a>that claims that:\nIn 2.9.x and above the RetryTopicNamesProviderFactory bean configuration is no longer supported.\nIs there an equivalent or alternate method to configure a custom DLT name for retryable topic using Spring-Kafka 3.0.10 ? I looked at RetryTopicConfigurer but I need the entire name changed not just the suffix so I don't believe this will work.</p>\n"},{"tags":["java","recursion","backtracking","sudoku","crossword"],"answers":[{"tags":[],"owner":{"account_id":1881735,"reputation":7688,"user_id":1701776,"accept_rate":71,"display_name":"BambooleanLogic"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1695313803,"creation_date":1695312692,"answer_id":77151949,"question_id":77151638,"body_markdown":"There are two issues with the code.\r\n\r\nThe first is a bug in the recursion that results in the second-to-last blank cell never getting filled in.\r\n\r\n```\r\nif (isFilled(matrix)) {\r\n    return;\r\n} else {\r\n    fillMatrixBruteForce(matrix);\r\n}\r\n```\r\n\r\nIn the first case, we check if we just placed the final letter. If we did, we return. That part is fine.\r\n\r\nIn the second case, we call ourselves recursively to see if this guess leads to a solution. However, _regardless of the outcome_, we act as if we failed and undo our guess.\r\n\r\nTo fix this, we also check whether the recursion succeeded, in which case we return:\r\n\r\n```java\r\nif (isFilled(matrix)) {\r\n    return;\r\n} else {\r\n    fillMatrixBruteForce(matrix);\r\n    if (isFilled(matrix)) {\r\n        return;\r\n    }\r\n}\r\n```\r\n\r\n(Alternatively, `fillMatrixBruteForce` can return either `true` or `false` to signal whether it succeeded or gave up. This means we won&#39;t have to check `isFilled` a second time.)\r\n\r\nThe second issue is the performance. The algorithm, as written, is very slow. Luckily, there is a simple tweak to massively speed it up.\r\n\r\nFor context, there are 11 open cells, each capable of containing one of five letters. That&#39;s 48,828,125 different possibilities to check. You really don&#39;t want to force your computer to recursively check all of those, meaning that rapidly giving up on impossible values is crucial.\r\n\r\nYou already do this somewhat with your `containsLetter` method. However, that only checks if a given _row_ contains the letter. This means that a LOT of obviously impossible combinations slip through the cracks and are fully brute-forced. By adding a second method, `columnContainsLetter` and checking whether the letter exists in _either_ the current row or the column (or both), that MASSIVELY cuts down on the number of possibilities we&#39;re forced to check and makes the algorithm run in mere seconds on my computer.","title":"How do I implement crossword solver correctly in Java","body":"<p>There are two issues with the code.</p>\n<p>The first is a bug in the recursion that results in the second-to-last blank cell never getting filled in.</p>\n<pre><code>if (isFilled(matrix)) {\n    return;\n} else {\n    fillMatrixBruteForce(matrix);\n}\n</code></pre>\n<p>In the first case, we check if we just placed the final letter. If we did, we return. That part is fine.</p>\n<p>In the second case, we call ourselves recursively to see if this guess leads to a solution. However, <em>regardless of the outcome</em>, we act as if we failed and undo our guess.</p>\n<p>To fix this, we also check whether the recursion succeeded, in which case we return:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (isFilled(matrix)) {\n    return;\n} else {\n    fillMatrixBruteForce(matrix);\n    if (isFilled(matrix)) {\n        return;\n    }\n}\n</code></pre>\n<p>(Alternatively, <code>fillMatrixBruteForce</code> can return either <code>true</code> or <code>false</code> to signal whether it succeeded or gave up. This means we won't have to check <code>isFilled</code> a second time.)</p>\n<p>The second issue is the performance. The algorithm, as written, is very slow. Luckily, there is a simple tweak to massively speed it up.</p>\n<p>For context, there are 11 open cells, each capable of containing one of five letters. That's 48,828,125 different possibilities to check. You really don't want to force your computer to recursively check all of those, meaning that rapidly giving up on impossible values is crucial.</p>\n<p>You already do this somewhat with your <code>containsLetter</code> method. However, that only checks if a given <em>row</em> contains the letter. This means that a LOT of obviously impossible combinations slip through the cracks and are fully brute-forced. By adding a second method, <code>columnContainsLetter</code> and checking whether the letter exists in <em>either</em> the current row or the column (or both), that MASSIVELY cuts down on the number of possibilities we're forced to check and makes the algorithm run in mere seconds on my computer.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1695325593,"creation_date":1695318740,"answer_id":77152574,"question_id":77151638,"body_markdown":"This is the same algorithm used to solve _Sudoku_ puzzles, referred to as _[backtracking](https://en.wikipedia.org/wiki/Sudoku_solving_algorithms#Sudoku_brute_force)_.\r\n\r\n```java\r\nclass Crossword {\r\n    char matrix[][], v[];\r\n    int length;\r\n    boolean solved;\r\n\r\n    Crossword(char[][] matrix, char[] v) {\r\n        this.matrix = matrix;\r\n        length = (this.v = v).length;\r\n    }\r\n\r\n    void solve(int m, int n) {\r\n        if (matrix[m][n] == &#39; &#39;) {\r\n            for (int i = 0, a, b; i &lt; length; i++) {\r\n                if (valid(m, n, v[i])) {\r\n                    matrix[m][n] = v[i];\r\n                    a = m;\r\n                    b = n;\r\n                    if (++n == length) {\r\n                        n = 0;\r\n                        if (++m == length) {\r\n                            solved = true;\r\n                            return;\r\n                        }\r\n                    }\r\n                    solve(m, n);\r\n                    if (solved) return;\r\n                    m = a;\r\n                    n = b;\r\n                    matrix[m][n] = &#39; &#39;;\r\n                }\r\n            }\r\n        } else {\r\n            if (++n == length) {\r\n                n = 0;\r\n                if (++m == length) {\r\n                    solved = true;\r\n                    return;\r\n                }\r\n            }\r\n            solve(m, n);\r\n        }\r\n    }\r\n\r\n    boolean valid(int m, int n, char c) {\r\n        for (int i = 0; i &lt; length; i++) {\r\n            if (matrix[m][i] == c) return false;\r\n            if (matrix[i][n] == c) return false;\r\n        }\r\n        return true;\r\n    }\r\n}\r\n```\r\n\r\nHere is an example.\r\n\r\n```java\r\nchar[][] matrix = {\r\n    {&#39;B&#39;, &#39;R&#39;, &#39;A&#39;, &#39;V&#39;, &#39;E&#39;},\r\n    {&#39; &#39;, &#39;E&#39;, &#39;B&#39;, &#39;R&#39;, &#39; &#39;},\r\n    {&#39; &#39;, &#39; &#39;, &#39;V&#39;, &#39; &#39;, &#39;B&#39;},\r\n    {&#39; &#39;, &#39;B&#39;, &#39;R&#39;, &#39; &#39;, &#39; &#39;},\r\n    {&#39; &#39;, &#39; &#39;, &#39;E&#39;, &#39;B&#39;, &#39; &#39;}\r\n};\r\nchar[] v = new char[] { &#39;B&#39;, &#39;R&#39;, &#39;A&#39;, &#39;V&#39;, &#39;E&#39; };\r\nCrossword c = new Crossword(matrix, v);\r\nc.solve(0, 0);\r\nStream.of(c.matrix).forEach(x -&gt; System.out.println(Arrays.toString(x)));\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n[B, R, A, V, E]\r\n[V, E, B, R, A]\r\n[R, A, V, E, B]\r\n[E, B, R, A, V]\r\n[A, V, E, B, R]\r\n```","title":"How do I implement crossword solver correctly in Java","body":"<p>This is the same algorithm used to solve <em>Sudoku</em> puzzles, referred to as <em><a href=\"https://en.wikipedia.org/wiki/Sudoku_solving_algorithms#Sudoku_brute_force\" rel=\"nofollow noreferrer\">backtracking</a></em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Crossword {\n    char matrix[][], v[];\n    int length;\n    boolean solved;\n\n    Crossword(char[][] matrix, char[] v) {\n        this.matrix = matrix;\n        length = (this.v = v).length;\n    }\n\n    void solve(int m, int n) {\n        if (matrix[m][n] == ' ') {\n            for (int i = 0, a, b; i &lt; length; i++) {\n                if (valid(m, n, v[i])) {\n                    matrix[m][n] = v[i];\n                    a = m;\n                    b = n;\n                    if (++n == length) {\n                        n = 0;\n                        if (++m == length) {\n                            solved = true;\n                            return;\n                        }\n                    }\n                    solve(m, n);\n                    if (solved) return;\n                    m = a;\n                    n = b;\n                    matrix[m][n] = ' ';\n                }\n            }\n        } else {\n            if (++n == length) {\n                n = 0;\n                if (++m == length) {\n                    solved = true;\n                    return;\n                }\n            }\n            solve(m, n);\n        }\n    }\n\n    boolean valid(int m, int n, char c) {\n        for (int i = 0; i &lt; length; i++) {\n            if (matrix[m][i] == c) return false;\n            if (matrix[i][n] == c) return false;\n        }\n        return true;\n    }\n}\n</code></pre>\n<p>Here is an example.</p>\n<pre class=\"lang-java prettyprint-override\"><code>char[][] matrix = {\n    {'B', 'R', 'A', 'V', 'E'},\n    {' ', 'E', 'B', 'R', ' '},\n    {' ', ' ', 'V', ' ', 'B'},\n    {' ', 'B', 'R', ' ', ' '},\n    {' ', ' ', 'E', 'B', ' '}\n};\nchar[] v = new char[] { 'B', 'R', 'A', 'V', 'E' };\nCrossword c = new Crossword(matrix, v);\nc.solve(0, 0);\nStream.of(c.matrix).forEach(x -&gt; System.out.println(Arrays.toString(x)));\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>[B, R, A, V, E]\n[V, E, B, R, A]\n[R, A, V, E, B]\n[E, B, R, A, V]\n[A, V, E, B, R]\n</code></pre>\n"}],"owner":{"account_id":21590296,"reputation":388,"user_id":15920030,"display_name":"vanderwaal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77151949,"answer_count":2,"score":2,"last_activity_date":1695325593,"creation_date":1695310121,"question_id":77151638,"body_markdown":"I have a problem with implementing the following task.\r\n\r\n&gt; A square matrix has eleven letters missing, which you have to replace.\r\n&gt;\r\n&gt; Every row, column contain all the letters in the word &quot;BRAVE&quot;.\r\n\r\nThe problem is when I try to run this code it seems that there is infinite recursion,\r\nthe program is never ending. \r\n\r\nI have been debugging for two days, Still I cannot find what is wrong.\r\n\r\n\r\n```\r\npublic class Crossword {\r\n\r\n    static Character[] letters = new Character[]{&#39;B&#39;, &#39;R&#39;, &#39;A&#39;, &#39;V&#39;, &#39;E&#39;};\r\n\r\n    static boolean isFilled(char[][] matrix) {\r\n        Set&lt;Character&gt; lettersSet = new HashSet&lt;&gt;(Arrays.asList(letters));\r\n\r\n        // Check rows and columns simultaneously\r\n        for (int i = 0; i &lt; matrix.length; i++) {\r\n            Set&lt;Character&gt; rowLetters = new HashSet&lt;&gt;();\r\n            Set&lt;Character&gt; colLetters = new HashSet&lt;&gt;();\r\n\r\n            for (int j = 0; j &lt; matrix.length; j++) {\r\n                rowLetters.add(matrix[i][j]);\r\n                colLetters.add(matrix[j][i]);\r\n            }\r\n\r\n            if (!rowLetters.containsAll(lettersSet) || !colLetters.containsAll(lettersSet)) {\r\n                return false;\r\n            }\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    static boolean containsLetter(char[] row, char symbol) {\r\n        for (char c : row) {\r\n            if (c == symbol) {\r\n                return true;\r\n            }\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    static void fillMatrixBruteForce(char[][] matrix) {\r\n\r\n        for (int i = 0; i &lt; matrix.length; i++) {\r\n            for (int j = 0; j &lt; matrix.length; j++) {\r\n\r\n                if (matrix[i][j] == &#39; &#39;) {\r\n\r\n                    for (int k = 0; k &lt; letters.length; k++) {\r\n                        if (!containsLetter(matrix[i], letters[k])) {\r\n\r\n                            matrix[i][j] = letters[k];\r\n                            if (isFilled(matrix)) {\r\n                                return;\r\n                            } else {\r\n                                fillMatrixBruteForce(matrix);\r\n                            }\r\n\r\n                        }\r\n                    }\r\n                    matrix[i][j] = &#39; &#39;;\r\n                }\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    static void print(char[][] matrix) {\r\n        Arrays.stream(matrix).forEach(\r\n                System.out::println\r\n        );\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        char[][] matrix = {\r\n                {&#39;B&#39;, &#39;R&#39;, &#39;A&#39;, &#39;V&#39;, &#39;E&#39;},\r\n                {&#39; &#39;, &#39;E&#39;, &#39;B&#39;, &#39;R&#39;, &#39; &#39;},\r\n                {&#39; &#39;, &#39; &#39;, &#39;V&#39;, &#39; &#39;, &#39;B&#39;},\r\n                {&#39; &#39;, &#39;B&#39;, &#39;R&#39;, &#39; &#39;, &#39; &#39;},\r\n                {&#39; &#39;, &#39; &#39;, &#39;E&#39;, &#39;B&#39;, &#39; &#39;}\r\n        };\r\n        print(matrix);\r\n\r\n        fillMatrixBruteForce(matrix);\r\n        print(matrix);\r\n```\r\n","title":"How do I implement crossword solver correctly in Java","body":"<p>I have a problem with implementing the following task.</p>\n<blockquote>\n<p>A square matrix has eleven letters missing, which you have to replace.</p>\n<p>Every row, column contain all the letters in the word &quot;BRAVE&quot;.</p>\n</blockquote>\n<p>The problem is when I try to run this code it seems that there is infinite recursion,\nthe program is never ending.</p>\n<p>I have been debugging for two days, Still I cannot find what is wrong.</p>\n<pre><code>public class Crossword {\n\n    static Character[] letters = new Character[]{'B', 'R', 'A', 'V', 'E'};\n\n    static boolean isFilled(char[][] matrix) {\n        Set&lt;Character&gt; lettersSet = new HashSet&lt;&gt;(Arrays.asList(letters));\n\n        // Check rows and columns simultaneously\n        for (int i = 0; i &lt; matrix.length; i++) {\n            Set&lt;Character&gt; rowLetters = new HashSet&lt;&gt;();\n            Set&lt;Character&gt; colLetters = new HashSet&lt;&gt;();\n\n            for (int j = 0; j &lt; matrix.length; j++) {\n                rowLetters.add(matrix[i][j]);\n                colLetters.add(matrix[j][i]);\n            }\n\n            if (!rowLetters.containsAll(lettersSet) || !colLetters.containsAll(lettersSet)) {\n                return false;\n            }\n        }\n\n        return true;\n    }\n\n    static boolean containsLetter(char[] row, char symbol) {\n        for (char c : row) {\n            if (c == symbol) {\n                return true;\n            }\n        }\n\n        return false;\n    }\n\n    static void fillMatrixBruteForce(char[][] matrix) {\n\n        for (int i = 0; i &lt; matrix.length; i++) {\n            for (int j = 0; j &lt; matrix.length; j++) {\n\n                if (matrix[i][j] == ' ') {\n\n                    for (int k = 0; k &lt; letters.length; k++) {\n                        if (!containsLetter(matrix[i], letters[k])) {\n\n                            matrix[i][j] = letters[k];\n                            if (isFilled(matrix)) {\n                                return;\n                            } else {\n                                fillMatrixBruteForce(matrix);\n                            }\n\n                        }\n                    }\n                    matrix[i][j] = ' ';\n                }\n            }\n        }\n\n    }\n\n    static void print(char[][] matrix) {\n        Arrays.stream(matrix).forEach(\n                System.out::println\n        );\n    }\n\n    public static void main(String[] args) {\n        char[][] matrix = {\n                {'B', 'R', 'A', 'V', 'E'},\n                {' ', 'E', 'B', 'R', ' '},\n                {' ', ' ', 'V', ' ', 'B'},\n                {' ', 'B', 'R', ' ', ' '},\n                {' ', ' ', 'E', 'B', ' '}\n        };\n        print(matrix);\n\n        fillMatrixBruteForce(matrix);\n        print(matrix);\n</code></pre>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1695258623,"post_id":77146522,"comment_id":136001666,"body_markdown":"Possibly useful: https://stackoverflow.com/a/6810409/256196","body":"Possibly useful: <a href=\"https://stackoverflow.com/a/6810409/256196\">stackoverflow.com/a/6810409/256196</a>"}],"answers":[{"tags":[],"owner":{"account_id":5584931,"reputation":2048,"user_id":4425643,"accept_rate":64,"display_name":"CausingUnderflowsEverywhere"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1695322939,"creation_date":1695255387,"answer_id":77146531,"question_id":77146522,"body_markdown":"Well you need to convert your number into a word. \r\n\r\nUse a series of `if` statements. See [tutorial][1].\r\n\r\n    String word = &quot;&quot;;\r\n    \r\n    if (i == 1) {\r\n       word = &quot;first&quot;;\r\n    }\r\n    \r\n    if (i == 2) {\r\n       word = &quot;second&quot;;\r\n    }\r\n    \r\n    if (i == 3) {\r\n       word = &quot;last&quot;;\r\n    }\r\n\r\nOr use a `switch` for the same effect. See [tutorial for basic `switch`][2], and see [JEP 361][3] for switch expressions.\r\n\r\n```java\r\nString word = switch ( i )\r\n{\r\n    case 1 -&gt; &quot;first&quot;;\r\n    case 2 -&gt; &quot;second&quot;;\r\n    case 3 -&gt; &quot;last&quot;;\r\n    default -&gt; throw new IllegalStateException ( &quot;Not 1-2-3.&quot; );\r\n};\r\n```\r\n\r\nThen you can use your word in the message instead of `i`. See [tutorial on concatenating strings][4].\r\n\r\n    System.out.println(&quot;Please enter the name for the &quot; + word + &quot; dog&quot;); \r\n    String dogName = input.nextLine();\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/nutsandbolts/if.html\r\n  [2]: https://docs.oracle.com/javase/tutorial/java/nutsandbolts/switch.html\r\n  [3]: https://openjdk.org/jeps/361\r\n  [4]: https://docs.oracle.com/javase/tutorial/java/data/strings.html","title":"how to have &#39;i&#39; spelled out in a word instead of number format in java","body":"<p>Well you need to convert your number into a word.</p>\n<p>Use a series of <code>if</code> statements. See <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/if.html\" rel=\"nofollow noreferrer\">tutorial</a>.</p>\n<pre><code>String word = &quot;&quot;;\n\nif (i == 1) {\n   word = &quot;first&quot;;\n}\n\nif (i == 2) {\n   word = &quot;second&quot;;\n}\n\nif (i == 3) {\n   word = &quot;last&quot;;\n}\n</code></pre>\n<p>Or use a <code>switch</code> for the same effect. See <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/switch.html\" rel=\"nofollow noreferrer\">tutorial for basic <code>switch</code></a>, and see <a href=\"https://openjdk.org/jeps/361\" rel=\"nofollow noreferrer\">JEP 361</a> for switch expressions.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String word = switch ( i )\n{\n    case 1 -&gt; &quot;first&quot;;\n    case 2 -&gt; &quot;second&quot;;\n    case 3 -&gt; &quot;last&quot;;\n    default -&gt; throw new IllegalStateException ( &quot;Not 1-2-3.&quot; );\n};\n</code></pre>\n<p>Then you can use your word in the message instead of <code>i</code>. See <a href=\"https://docs.oracle.com/javase/tutorial/java/data/strings.html\" rel=\"nofollow noreferrer\">tutorial on concatenating strings</a>.</p>\n<pre><code>System.out.println(&quot;Please enter the name for the &quot; + word + &quot; dog&quot;); \nString dogName = input.nextLine();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695261106,"creation_date":1695261106,"answer_id":77146774,"question_id":77146522,"body_markdown":"I would normally recommend a new class over parallel arrays, but this is a trivial case and parallel arrays would work almost exactly as you described. Something like,\r\n\r\n\tString[] ordinals = { &quot;first&quot;, &quot;second&quot;, &quot;last&quot; };\r\n\tString[] dogNames = new String[ordinals.length];\r\n\tfor (int i = 0; i &lt; ordinals.length; i++) {\r\n\t\tSystem.out.printf(&quot;Please enter the name for the %s dog%n&quot;, ordinals[i]);\r\n\t\tdogNames[i] = input.nextLine();\r\n\t}\r\n\r\nAfter the loop executes `dogNames` contains the names of the first, second and last dogs.\r\n","title":"how to have &#39;i&#39; spelled out in a word instead of number format in java","body":"<p>I would normally recommend a new class over parallel arrays, but this is a trivial case and parallel arrays would work almost exactly as you described. Something like,</p>\n<pre><code>String[] ordinals = { &quot;first&quot;, &quot;second&quot;, &quot;last&quot; };\nString[] dogNames = new String[ordinals.length];\nfor (int i = 0; i &lt; ordinals.length; i++) {\n    System.out.printf(&quot;Please enter the name for the %s dog%n&quot;, ordinals[i]);\n    dogNames[i] = input.nextLine();\n}\n</code></pre>\n<p>After the loop executes <code>dogNames</code> contains the names of the first, second and last dogs.</p>\n"},{"tags":[],"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695261281,"creation_date":1695261281,"answer_id":77146782,"question_id":77146522,"body_markdown":"In addition to the other suggestions, an array seems a natural solution.\r\n\r\n    static final String[] ordinal = { &quot;first&quot;, &quot;second&quot;, &quot;last&quot; };\r\n    \r\n    System.out.println(&quot;Please enter the name for the &quot; +\r\n                       ordinal[i-1] + &quot; dog&quot;); \r\n\r\n(Use of &quot;last&quot; for &quot;third&quot; as per question).\r\n\r\n(Checks for out-of-range `i` omitted).\r\n","title":"how to have &#39;i&#39; spelled out in a word instead of number format in java","body":"<p>In addition to the other suggestions, an array seems a natural solution.</p>\n<pre><code>static final String[] ordinal = { &quot;first&quot;, &quot;second&quot;, &quot;last&quot; };\n\nSystem.out.println(&quot;Please enter the name for the &quot; +\n                   ordinal[i-1] + &quot; dog&quot;); \n</code></pre>\n<p>(Use of &quot;last&quot; for &quot;third&quot; as per question).</p>\n<p>(Checks for out-of-range <code>i</code> omitted).</p>\n"},{"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - "},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695270604,"creation_date":1695270604,"answer_id":77147212,"question_id":77146522,"body_markdown":"Another alternative would be to make use of the [Ternary Operator](https://www.educative.io/answers/ternary-operator-in-java), for example:\r\n\r\n```\r\nfor (int i = 0; i &lt; 3; i++) {\r\n    // Example of nested Ternary Operators:\r\n    System.out.println(&quot;Please enter the name for the &quot; \r\n            + (i == 0 ? &quot;first&quot; : (i == 1 ? &quot;second&quot; : &quot;last&quot;)) + &quot; dog&quot;);\r\n}\r\n```\r\n\r\nThe output to the Console Window will be:\r\n\r\n```\r\nPlease enter the name for the first dog\r\nPlease enter the name for the second dog\r\nPlease enter the name for the last dog\r\n```\r\n\r\n**A usable example might be:**\r\n\r\n```\r\nScanner userInput = new Scanner(System.in);\r\nString ls = System.lineSeparator();\r\nString[] dogNames = new String[3];\r\nString dName;\r\n        \r\nfor (int i = 0; i &lt; dogNames.length; i++) {\r\n    dName = &quot;&quot;;\r\n    while (dName.isEmpty()) {\r\n        // Example of nested Ternary Operators:\r\n        System.out.print(&quot;Please enter the name for the &quot; \r\n                + (i == 0 ? &quot;first&quot; : (i == 1 ? &quot;second&quot; : &quot;last&quot;)) + &quot; dog: -&gt; &quot;);\r\n        dName = userInput.nextLine().trim();\r\n        if (dName.isEmpty()) {\r\n            System.out.println(&quot;You must enter a dog name! Try again...&quot; + ls);\r\n        }\r\n    }\r\n    dogNames[i] = dName;\r\n}\r\n        \r\nSystem.out.println(ls + &quot;Dog names provided are:&quot; + ls \r\n                        + &quot;-----------------------&quot;);\r\nfor (String names : dogNames) {\r\n    System.out.println(names);\r\n}\r\n```","title":"how to have &#39;i&#39; spelled out in a word instead of number format in java","body":"<p>Another alternative would be to make use of the <a href=\"https://www.educative.io/answers/ternary-operator-in-java\" rel=\"nofollow noreferrer\">Ternary Operator</a>, for example:</p>\n<pre><code>for (int i = 0; i &lt; 3; i++) {\n    // Example of nested Ternary Operators:\n    System.out.println(&quot;Please enter the name for the &quot; \n            + (i == 0 ? &quot;first&quot; : (i == 1 ? &quot;second&quot; : &quot;last&quot;)) + &quot; dog&quot;);\n}\n</code></pre>\n<p>The output to the Console Window will be:</p>\n<pre><code>Please enter the name for the first dog\nPlease enter the name for the second dog\nPlease enter the name for the last dog\n</code></pre>\n<p><strong>A usable example might be:</strong></p>\n<pre><code>Scanner userInput = new Scanner(System.in);\nString ls = System.lineSeparator();\nString[] dogNames = new String[3];\nString dName;\n        \nfor (int i = 0; i &lt; dogNames.length; i++) {\n    dName = &quot;&quot;;\n    while (dName.isEmpty()) {\n        // Example of nested Ternary Operators:\n        System.out.print(&quot;Please enter the name for the &quot; \n                + (i == 0 ? &quot;first&quot; : (i == 1 ? &quot;second&quot; : &quot;last&quot;)) + &quot; dog: -&gt; &quot;);\n        dName = userInput.nextLine().trim();\n        if (dName.isEmpty()) {\n            System.out.println(&quot;You must enter a dog name! Try again...&quot; + ls);\n        }\n    }\n    dogNames[i] = dName;\n}\n        \nSystem.out.println(ls + &quot;Dog names provided are:&quot; + ls \n                        + &quot;-----------------------&quot;);\nfor (String names : dogNames) {\n    System.out.println(names);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695325142,"creation_date":1695325142,"answer_id":77153184,"question_id":77146522,"body_markdown":"Use the _[ordinal indicator](https://en.wikipedia.org/wiki/Ordinal_indicator)_ instead.\r\n\r\n```java\r\nString suffix(int i) {\r\n    return switch (i) {\r\n        case 11, 12, 13 -&gt; &quot;th&quot;;\r\n        default -&gt; switch (i % 10) {\r\n            case 1 -&gt; &quot;st&quot;;\r\n            case 2 -&gt; &quot;nd&quot;;\r\n            case 3 -&gt; &quot;rd&quot;;\r\n            default -&gt; &quot;th&quot;;\r\n        };\r\n    };\r\n}\r\n```\r\n\r\nHere is an example.\r\n\r\n```java\r\nfor (int i = 1; i &lt;= 5; i++)\r\n    System.out.print(i + suffix(i) + &#39; &#39;);\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n1st 2nd 3rd 4th 5th \r\n```","title":"how to have &#39;i&#39; spelled out in a word instead of number format in java","body":"<p>Use the <em><a href=\"https://en.wikipedia.org/wiki/Ordinal_indicator\" rel=\"nofollow noreferrer\">ordinal indicator</a></em> instead.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String suffix(int i) {\n    return switch (i) {\n        case 11, 12, 13 -&gt; &quot;th&quot;;\n        default -&gt; switch (i % 10) {\n            case 1 -&gt; &quot;st&quot;;\n            case 2 -&gt; &quot;nd&quot;;\n            case 3 -&gt; &quot;rd&quot;;\n            default -&gt; &quot;th&quot;;\n        };\n    };\n}\n</code></pre>\n<p>Here is an example.</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (int i = 1; i &lt;= 5; i++)\n    System.out.print(i + suffix(i) + ' ');\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>1st 2nd 3rd 4th 5th \n</code></pre>\n"}],"owner":{"account_id":29318455,"reputation":1,"user_id":22462611,"display_name":"Angela A.A"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":5,"score":0,"last_activity_date":1695325142,"creation_date":1695255075,"question_id":77146522,"body_markdown":"Instead of having java print out \r\n\r\n    Please enter the name for dog 1:\r\n    Please enter the name for dog 2:\r\n    Please enter the name for dog 3:\r\n\r\nwith code:\r\n\r\n\r\n    System.out.println(&quot;Please enter the name for the &quot; + i + &quot;dog&quot;);\r\n    String dogName = input.nextLine();\r\n\r\nHow can I get it to print out:\r\n\r\n    Please enter the name for the first dog.\r\n    Please enter the name for the second dog.\r\n    Please enter the name for the last dog.\r\n\r\nI used:\r\n\r\n    System.out.println(&quot;Please enter the name for the &quot; + i + &quot;dog&quot;);\r\n    String dogName = input.nextLine();\r\n\r\nbut it don&#39;t want the numbers there, I want first, second, and last.\r\n","title":"how to have &#39;i&#39; spelled out in a word instead of number format in java","body":"<p>Instead of having java print out</p>\n<pre><code>Please enter the name for dog 1:\nPlease enter the name for dog 2:\nPlease enter the name for dog 3:\n</code></pre>\n<p>with code:</p>\n<pre><code>System.out.println(&quot;Please enter the name for the &quot; + i + &quot;dog&quot;);\nString dogName = input.nextLine();\n</code></pre>\n<p>How can I get it to print out:</p>\n<pre><code>Please enter the name for the first dog.\nPlease enter the name for the second dog.\nPlease enter the name for the last dog.\n</code></pre>\n<p>I used:</p>\n<pre><code>System.out.println(&quot;Please enter the name for the &quot; + i + &quot;dog&quot;);\nString dogName = input.nextLine();\n</code></pre>\n<p>but it don't want the numbers there, I want first, second, and last.</p>\n"},{"tags":["java","github","okhttp","github-api","intellij-14"],"answers":[{"tags":[],"owner":{"account_id":5569841,"reputation":3750,"user_id":4415625,"display_name":"dani-vta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694935913,"creation_date":1694870837,"answer_id":77117968,"question_id":77098825,"body_markdown":"The request `List pull requests` does not provide the query parameters `since` and `until`. That&#39;s why it is returning pull requests that don&#39;t fall within the given range. The only query parameters allowed are: `state`, `head`, `base`, `sort`, `direction`, `per_page` and `page`. See the documentation below:\r\n\r\nhttps://docs.github.com/en/rest/pulls/pulls?apiVersion=2022-11-28#list-pull-requests\r\n\r\nI think you might be mixing up the request with `List repositories for the authenticated user`, which instead accepts the query parameters `since` and `after` and allows you to filter &lt;b&gt;&lt;i&gt;repositories&lt;/i&gt;&lt;/b&gt; for their &lt;b&gt;&lt;i&gt;update&lt;/i&gt;&lt;/b&gt; date.\r\n\r\nhttps://docs.github.com/en/rest/repos/repos?apiVersion=2022-11-28#list-repositories-for-the-authenticated-user\r\n\r\nIt seems from the documentation that there are no requests that allow you to filter pull requests by their creation date. The only thing you could do is get the pull requests of a repository and then filter them manually.\r\n\r\nYour code could look something like this:\r\n\r\n```\r\npublic class ConsumeGithubAPI {\r\n\r\n    static final DateTimeFormatter GITHUB_DATE_TIME_FORMAT = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ssz&quot;);\r\n\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        JsonArray pullRequests = getPullRequests(&quot;-Owner-&quot;, &quot;-reponame-&quot;, &quot;2022-06-01&quot;, &quot;2022-07-10&quot;);\r\n        String formattedOutput = formatOutput(pullRequests);\r\n        System.out.println(formattedOutput);\r\n    }\r\n\r\n    public static JsonArray getPullRequests(String owner, String repositoryName, String startDate, String endDate) throws IOException {\r\n        //Reading auth config\r\n        InputStream stream = Thread.currentThread().getContextClassLoader().getResourceAsStream(&quot;auth.properties&quot;);\r\n        Properties prop = new Properties();\r\n        prop.load(stream);\r\n\r\n        //Building URLs with HttpUrl offers:\r\n        //   1. Delegating the building without worrying about the actual syntax that holds the URL elements together (:// after the scheme, / between path segments, ? before the list of query parameters, and so on)\r\n        //   2. Parameterizing the elements of the URL. Employing actual variables would be better than using fixed expressions as I did (this was just for demonstration&#39;s sake).\r\n        OkHttpClient client = new OkHttpClient();\r\n        Request request = new Request.Builder()\r\n                .url(new HttpUrl.Builder()\r\n                        .scheme(&quot;https&quot;)\r\n                        .host(&quot;api.github.com&quot;)\r\n                        .addPathSegment(&quot;repos&quot;)\r\n                        .addPathSegment(owner)\r\n                        .addPathSegment(repositoryName)\r\n                        .addPathSegment(&quot;pulls&quot;)\r\n                        .addQueryParameter(&quot;state&quot;, &quot;all&quot;)\r\n                        .addQueryParameter(&quot;per_page&quot;, &quot;100&quot;)\r\n                        .addQueryParameter(&quot;page&quot;, &quot;1&quot;)\r\n                        .build())\r\n                .addHeader(&quot;Authorization&quot;, &quot;Bearer &quot; + prop.get(&quot;auth&quot;))\r\n                .build();\r\n\r\n        //Parsing the response\r\n        JsonArray modifiedPRs = new JsonArray();\r\n        Response response = client.newCall(request).execute();\r\n        String responseBody = response.body().string();\r\n        JsonArray pullRequests = JsonParser.parseString(responseBody).getAsJsonArray();\r\n\r\n        //Employing the LocalDateTime class to better handle date/time confrontations\r\n        LocalDateTime tempDateTime;\r\n        LocalDateTime startDateTime = LocalDate.parse(startDate, DateTimeFormatter.ISO_LOCAL_DATE).atStartOfDay();\r\n        LocalDateTime endDateTime = LocalDate.parse(endDate, DateTimeFormatter.ISO_LOCAL_DATE).plusDays(1).atStartOfDay();\r\n\r\n        for (JsonElement pR : pullRequests) {\r\n            JsonObject prObject = pR.getAsJsonObject();\r\n\r\n            //Reading the creation date of the current pull request\r\n            tempDateTime = LocalDateTime.parse(prObject.get(&quot;created_at&quot;).getAsString(), GITHUB_DATE_TIME_FORMAT);\r\n\r\n            //Assuming that the date range limits are included,\r\n            //Skipping the pull request if its creation date/time is lower than startDate or greater/equal than the endDate (equal because endDate has been moved to the next day)\r\n            if (tempDateTime.isBefore(startDateTime) || tempDateTime.isEqual(endDateTime) || tempDateTime.isAfter(endDateTime)) {\r\n                continue;\r\n            }\r\n\r\n            JsonObject prData = new JsonObject();\r\n            prData.addProperty(&quot;id&quot;, prObject.get(&quot;id&quot;).getAsBigInteger());\r\n            prData.addProperty(&quot;user&quot;, prObject.get(&quot;user&quot;).getAsJsonObject().get(&quot;login&quot;).getAsString());\r\n            prData.addProperty(&quot;title&quot;, prObject.get(&quot;title&quot;).getAsString());\r\n            prData.addProperty(&quot;state&quot;, prObject.get(&quot;state&quot;).getAsString());\r\n            prData.addProperty(&quot;created_at&quot;, prObject.get(&quot;created_at&quot;).getAsString());\r\n            modifiedPRs.add(prData);\r\n        }\r\n        response.close();\r\n        return modifiedPRs;\r\n    }\r\n\r\n    private static String formatOutput(JsonArray jsonArray) {\r\n        Gson gson = new GsonBuilder().setPrettyPrinting().create();\r\n        return gson.toJson(jsonArray);\r\n    }\r\n}\r\n```","title":"Trouble Fetching GitHub Pull Requests by Date Range in Java Using OkHttp","body":"<p>The request <code>List pull requests</code> does not provide the query parameters <code>since</code> and <code>until</code>. That's why it is returning pull requests that don't fall within the given range. The only query parameters allowed are: <code>state</code>, <code>head</code>, <code>base</code>, <code>sort</code>, <code>direction</code>, <code>per_page</code> and <code>page</code>. See the documentation below:</p>\n<p><a href=\"https://docs.github.com/en/rest/pulls/pulls?apiVersion=2022-11-28#list-pull-requests\" rel=\"nofollow noreferrer\">https://docs.github.com/en/rest/pulls/pulls?apiVersion=2022-11-28#list-pull-requests</a></p>\n<p>I think you might be mixing up the request with <code>List repositories for the authenticated user</code>, which instead accepts the query parameters <code>since</code> and <code>after</code> and allows you to filter <b><i>repositories</i></b> for their <b><i>update</i></b> date.</p>\n<p><a href=\"https://docs.github.com/en/rest/repos/repos?apiVersion=2022-11-28#list-repositories-for-the-authenticated-user\" rel=\"nofollow noreferrer\">https://docs.github.com/en/rest/repos/repos?apiVersion=2022-11-28#list-repositories-for-the-authenticated-user</a></p>\n<p>It seems from the documentation that there are no requests that allow you to filter pull requests by their creation date. The only thing you could do is get the pull requests of a repository and then filter them manually.</p>\n<p>Your code could look something like this:</p>\n<pre><code>public class ConsumeGithubAPI {\n\n    static final DateTimeFormatter GITHUB_DATE_TIME_FORMAT = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd'T'HH:mm:ssz&quot;);\n\n\n    public static void main(String[] args) throws IOException {\n        JsonArray pullRequests = getPullRequests(&quot;-Owner-&quot;, &quot;-reponame-&quot;, &quot;2022-06-01&quot;, &quot;2022-07-10&quot;);\n        String formattedOutput = formatOutput(pullRequests);\n        System.out.println(formattedOutput);\n    }\n\n    public static JsonArray getPullRequests(String owner, String repositoryName, String startDate, String endDate) throws IOException {\n        //Reading auth config\n        InputStream stream = Thread.currentThread().getContextClassLoader().getResourceAsStream(&quot;auth.properties&quot;);\n        Properties prop = new Properties();\n        prop.load(stream);\n\n        //Building URLs with HttpUrl offers:\n        //   1. Delegating the building without worrying about the actual syntax that holds the URL elements together (:// after the scheme, / between path segments, ? before the list of query parameters, and so on)\n        //   2. Parameterizing the elements of the URL. Employing actual variables would be better than using fixed expressions as I did (this was just for demonstration's sake).\n        OkHttpClient client = new OkHttpClient();\n        Request request = new Request.Builder()\n                .url(new HttpUrl.Builder()\n                        .scheme(&quot;https&quot;)\n                        .host(&quot;api.github.com&quot;)\n                        .addPathSegment(&quot;repos&quot;)\n                        .addPathSegment(owner)\n                        .addPathSegment(repositoryName)\n                        .addPathSegment(&quot;pulls&quot;)\n                        .addQueryParameter(&quot;state&quot;, &quot;all&quot;)\n                        .addQueryParameter(&quot;per_page&quot;, &quot;100&quot;)\n                        .addQueryParameter(&quot;page&quot;, &quot;1&quot;)\n                        .build())\n                .addHeader(&quot;Authorization&quot;, &quot;Bearer &quot; + prop.get(&quot;auth&quot;))\n                .build();\n\n        //Parsing the response\n        JsonArray modifiedPRs = new JsonArray();\n        Response response = client.newCall(request).execute();\n        String responseBody = response.body().string();\n        JsonArray pullRequests = JsonParser.parseString(responseBody).getAsJsonArray();\n\n        //Employing the LocalDateTime class to better handle date/time confrontations\n        LocalDateTime tempDateTime;\n        LocalDateTime startDateTime = LocalDate.parse(startDate, DateTimeFormatter.ISO_LOCAL_DATE).atStartOfDay();\n        LocalDateTime endDateTime = LocalDate.parse(endDate, DateTimeFormatter.ISO_LOCAL_DATE).plusDays(1).atStartOfDay();\n\n        for (JsonElement pR : pullRequests) {\n            JsonObject prObject = pR.getAsJsonObject();\n\n            //Reading the creation date of the current pull request\n            tempDateTime = LocalDateTime.parse(prObject.get(&quot;created_at&quot;).getAsString(), GITHUB_DATE_TIME_FORMAT);\n\n            //Assuming that the date range limits are included,\n            //Skipping the pull request if its creation date/time is lower than startDate or greater/equal than the endDate (equal because endDate has been moved to the next day)\n            if (tempDateTime.isBefore(startDateTime) || tempDateTime.isEqual(endDateTime) || tempDateTime.isAfter(endDateTime)) {\n                continue;\n            }\n\n            JsonObject prData = new JsonObject();\n            prData.addProperty(&quot;id&quot;, prObject.get(&quot;id&quot;).getAsBigInteger());\n            prData.addProperty(&quot;user&quot;, prObject.get(&quot;user&quot;).getAsJsonObject().get(&quot;login&quot;).getAsString());\n            prData.addProperty(&quot;title&quot;, prObject.get(&quot;title&quot;).getAsString());\n            prData.addProperty(&quot;state&quot;, prObject.get(&quot;state&quot;).getAsString());\n            prData.addProperty(&quot;created_at&quot;, prObject.get(&quot;created_at&quot;).getAsString());\n            modifiedPRs.add(prData);\n        }\n        response.close();\n        return modifiedPRs;\n    }\n\n    private static String formatOutput(JsonArray jsonArray) {\n        Gson gson = new GsonBuilder().setPrettyPrinting().create();\n        return gson.toJson(jsonArray);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":29145798,"reputation":11,"user_id":22327742,"display_name":"Lungelo Thabethe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1695325099,"creation_date":1694621747,"question_id":77098825,"body_markdown":"I&#39;m working on a Java program to retrieve pull requests from a GitHub repository within a specified date range using `OkHttp` and the GitHub API. However, I&#39;m encountering issues where the code doesn&#39;t seem to filter pull requests correctly based on the date range. \r\n\r\nI&#39;m using `OkHttp` to make a GET request to the GitHub API to fetch pull requests from a specific repository.\r\n\r\nI want to filter the pull requests based on their creation date, and I&#39;m using the &#39;created&#39; parameter in the API URL to specify the date range. The dates are correctly formatted in ISO 8601 format (&#39;yyyy-MM-dd&#39;).\r\n\r\nDespite setting the date range, the API response doesn&#39;t seem to be filtering the pull requests as expected. I&#39;m still receiving pull requests outside the specified date range.\r\n\r\n\r\n```\r\npackage ConsumeGithubAPI;\r\n\r\nimport com.google.gson.*;\r\nimport okhttp3.OkHttpClient;\r\nimport okhttp3.Request;\r\nimport okhttp3.Response;\r\n\r\nimport java.io.IOException;\r\n\r\npublic class ConsumeGithubAPI {\r\n    public static void main(String[] args) {\r\n        JsonArray pullRequests = getPullRequests(&quot;-Owner-&quot;, &quot;-reponame-&quot;, &quot;2022-06-01&quot;, &quot;2022-07-10&quot;);\r\n        String formattedOutput = formatOutput(pullRequests);\r\n        System.out.println(formattedOutput);\r\n    }\r\n\r\n    public static JsonArray getPullRequests(String owner, String repositoryName, String startDate, String endDate) {\r\n\r\n        OkHttpClient client = new OkHttpClient();\r\n        Request request = new Request.Builder()\r\n                .url(&quot;https://api.github.com/repos/&quot; + owner + &quot;/&quot; + repositoryName + &quot;/pulls&quot; +\r\n                        &quot;?state=all&amp;per_page=100&amp;page=1&quot; +\r\n                        &quot;&amp;since=&quot; + startDate + &quot;T00:00:00Z&quot; +\r\n                        &quot;&amp;until=&quot; + endDate + &quot;T23:59:59Z&quot;)\r\n                .addHeader(&quot;Authorization&quot;, &quot;-token-&quot;)\r\n                .build();\r\n        JsonArray modifiedPRs = new JsonArray();\r\n        try {\r\n            Response response = client.newCall(request).execute();\r\n            String responseBody = response.body().string();\r\n\r\n            JsonArray pullRequests = JsonParser.parseString(responseBody).getAsJsonArray();\r\n\r\n            for (JsonElement pR : pullRequests) {\r\n                JsonObject prObject = pR.getAsJsonObject();\r\n                JsonObject prData = new JsonObject();\r\n                prData.addProperty(&quot;id&quot;, prObject.get(&quot;id&quot;).getAsBigInteger());\r\n                prData.addProperty(&quot;user&quot;, prObject.get(&quot;user&quot;).getAsJsonObject().get(&quot;login&quot;).getAsString());\r\n                prData.addProperty(&quot;title&quot;, prObject.get(&quot;title&quot;).getAsString());\r\n                prData.addProperty(&quot;state&quot;, prObject.get(&quot;state&quot;).getAsString());\r\n                prData.addProperty(&quot;created_at&quot;, prObject.get(&quot;created_at&quot;).getAsString());\r\n                modifiedPRs.add(prData);\r\n\r\n            }\r\n            response.close();\r\n            return modifiedPRs;\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return modifiedPRs;\r\n    }\r\n\r\n    private static String formatOutput(JsonArray jsonArray) {\r\n        Gson gson = new GsonBuilder().setPrettyPrinting().create();\r\n        return gson.toJson(jsonArray);\r\n    }\r\n}\r\n\r\n```\r\n\r\nWhat I&#39;ve tried:\r\n\r\nI&#39;ve checked the date formatting to ensure it&#39;s correct.\r\nI&#39;ve verified that the repository exists and contains pull requests within the date range.\r\nI&#39;ve reviewed the GitHub API documentation to confirm the correct parameter usage.\r\n","title":"Trouble Fetching GitHub Pull Requests by Date Range in Java Using OkHttp","body":"<p>I'm working on a Java program to retrieve pull requests from a GitHub repository within a specified date range using <code>OkHttp</code> and the GitHub API. However, I'm encountering issues where the code doesn't seem to filter pull requests correctly based on the date range.</p>\n<p>I'm using <code>OkHttp</code> to make a GET request to the GitHub API to fetch pull requests from a specific repository.</p>\n<p>I want to filter the pull requests based on their creation date, and I'm using the 'created' parameter in the API URL to specify the date range. The dates are correctly formatted in ISO 8601 format ('yyyy-MM-dd').</p>\n<p>Despite setting the date range, the API response doesn't seem to be filtering the pull requests as expected. I'm still receiving pull requests outside the specified date range.</p>\n<pre><code>package ConsumeGithubAPI;\n\nimport com.google.gson.*;\nimport okhttp3.OkHttpClient;\nimport okhttp3.Request;\nimport okhttp3.Response;\n\nimport java.io.IOException;\n\npublic class ConsumeGithubAPI {\n    public static void main(String[] args) {\n        JsonArray pullRequests = getPullRequests(&quot;-Owner-&quot;, &quot;-reponame-&quot;, &quot;2022-06-01&quot;, &quot;2022-07-10&quot;);\n        String formattedOutput = formatOutput(pullRequests);\n        System.out.println(formattedOutput);\n    }\n\n    public static JsonArray getPullRequests(String owner, String repositoryName, String startDate, String endDate) {\n\n        OkHttpClient client = new OkHttpClient();\n        Request request = new Request.Builder()\n                .url(&quot;https://api.github.com/repos/&quot; + owner + &quot;/&quot; + repositoryName + &quot;/pulls&quot; +\n                        &quot;?state=all&amp;per_page=100&amp;page=1&quot; +\n                        &quot;&amp;since=&quot; + startDate + &quot;T00:00:00Z&quot; +\n                        &quot;&amp;until=&quot; + endDate + &quot;T23:59:59Z&quot;)\n                .addHeader(&quot;Authorization&quot;, &quot;-token-&quot;)\n                .build();\n        JsonArray modifiedPRs = new JsonArray();\n        try {\n            Response response = client.newCall(request).execute();\n            String responseBody = response.body().string();\n\n            JsonArray pullRequests = JsonParser.parseString(responseBody).getAsJsonArray();\n\n            for (JsonElement pR : pullRequests) {\n                JsonObject prObject = pR.getAsJsonObject();\n                JsonObject prData = new JsonObject();\n                prData.addProperty(&quot;id&quot;, prObject.get(&quot;id&quot;).getAsBigInteger());\n                prData.addProperty(&quot;user&quot;, prObject.get(&quot;user&quot;).getAsJsonObject().get(&quot;login&quot;).getAsString());\n                prData.addProperty(&quot;title&quot;, prObject.get(&quot;title&quot;).getAsString());\n                prData.addProperty(&quot;state&quot;, prObject.get(&quot;state&quot;).getAsString());\n                prData.addProperty(&quot;created_at&quot;, prObject.get(&quot;created_at&quot;).getAsString());\n                modifiedPRs.add(prData);\n\n            }\n            response.close();\n            return modifiedPRs;\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        return modifiedPRs;\n    }\n\n    private static String formatOutput(JsonArray jsonArray) {\n        Gson gson = new GsonBuilder().setPrettyPrinting().create();\n        return gson.toJson(jsonArray);\n    }\n}\n\n</code></pre>\n<p>What I've tried:</p>\n<p>I've checked the date formatting to ensure it's correct.\nI've verified that the repository exists and contains pull requests within the date range.\nI've reviewed the GitHub API documentation to confirm the correct parameter usage.</p>\n"},{"tags":["java","android","rtsp","exoplayer","exoplayer2.x"],"owner":{"account_id":22802274,"reputation":1,"user_id":16954774,"display_name":"Bob"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695324850,"creation_date":1695315589,"question_id":77152260,"body_markdown":"I integrated the code from this repo into my app:\r\nhttps://github.com/kardelencanoglu/ExoPlayerRTSP\r\nAnd I&#39;m able to see the compile, and see the player on my android app in the emulator.\r\n\r\nOn my local machine I generate a rtsp stream this way, that I can recover from VLC:\r\n\r\n`/Applications/VLC.app/Contents/MacOS/VLC -I dummy blabla.mp4 --sout &#39;#rtp{sdp=rtsp://0.0.0.0:8082/live}&#39; --no-sout-all --sout-keep`\r\n\r\nin my app build.gradle:\r\n\r\n```\r\nimplementation &#39;com.google.android.exoplayer:exoplayer:2.19.1&#39;\r\n```\r\nIncluded:\r\n```\r\n\r\nimport com.google.android.exoplayer2.MediaItem;\r\nimport com.google.android.exoplayer2.SimpleExoPlayer;\r\nimport com.google.android.exoplayer2.source.MediaSource;\r\nimport com.google.android.exoplayer2.source.ProgressiveMediaSource;\r\nimport com.google.android.exoplayer2.ui.PlayerView;\r\nimport com.google.android.exoplayer2.upstream.DefaultDataSourceFactory;\r\n```\r\n\r\nin my main activity I have:\r\n```\r\n   private SimpleExoPlayer player;\r\n   private PlayerView playerView;\r\n```\r\n....\r\n\r\n playerView = findViewById(R.id.player_view);\r\n        \r\n```\r\ntry {\r\n            \r\n            // Overriding rtspStreamUrl for testing purposes\r\n            rtspStreamUrl = &quot;rtsp://10.0.2.2:8082/live&quot;;\r\n            Uri videoUri = Uri.parse(rtspStreamUrl);\r\n\r\n            player = new SimpleExoPlayer.Builder(this).build();\r\n            playerView.setPlayer(player);\r\n            MediaSource mediaSource = new ProgressiveMediaSource.Factory(new DefaultDataSourceFactory(this, &quot;exoplayer-codelab&quot;)).createMediaSource(MediaItem.fromUri(videoUri));\r\n            player.prepare(mediaSource);\r\n            player.setPlayWhenReady(true);\r\n            playerView.bringToFront();\r\n        }\r\n        catch (Exception e) {\r\n            Log.e(&quot;Unable to start EXO player&quot;,&quot;&quot;);\r\n        }\r\n```\r\n\r\nI get the following error in logcat:\r\n\r\nPlayback error\r\n                                                                                                      c*om.google.android.exoplayer2.ExoPlaybackException: Source error\r\n                                                                                                          at com.google.android.exoplayer2.ExoPlayerImplInternal.handleIoException(ExoPlayerImplInternal.java:684)\r\n                                                                                                          at com.google.android.exoplayer2.ExoPlayerImplInternal.handleMessage(ExoPlayerImplInternal.java:656)\r\n                                                                                                          at android.os.Handler.dispatchMessage(Handler.java:102)\r\n                                                                                                          at android.os.Looper.loopOnce(Looper.java:205)\r\n                                                                                                          at android.os.Looper.loop(Looper.java:294)\r\n                                                                                                          at android.os.HandlerThread.run(HandlerThread.java:67)\r\n                                                                                                      Caused by: com.google.android.exoplayer2.upstream.HttpDataSource$HttpDataSourceException: java.net.MalformedURLException: unknown protocol: rtsp\r\n                                                                                                          at com.google.android.exoplayer2.upstream.DefaultHttpDataSource.open(DefaultHttpDataSource.java:388)\r\n                                                                                                          at com.google.android.exoplayer2.upstream.DefaultDataSource.open(DefaultDataSource.java:269)\r\n                                                                                                          at com.google.android.exoplayer2.upstream.StatsDataSource.open(StatsDataSource.java:90)\r\n                                                                                                          at com.google.android.exoplayer2.source.ProgressiveMediaPeriod$ExtractingLoadable.load(ProgressiveMediaPeriod.java:1013)\r\n                                                                                                          at com.google.android.exoplayer2.upstream.Loader$LoadTask.run(Loader.java:420)\r\n                                                                                                          at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\r\n                                                                                                          at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:644)\r\n                                                                                                          at java.lang.Thread.run(Thread.java:1012)\r\n                                                                                                      **Caused by: java.net.MalformedURLException: unknown protocol: rtsp**\r\n                                                                                                          at java.net.URL.&lt;init&gt;(URL.java:608)\r\n                                                                                                          at java.net.URL.&lt;init&gt;(URL.java:498)\r\n                                                                                                          at java.net.URL.&lt;init&gt;(URL.java:447)\r\n                                                                                                          at com.google.android.exoplayer2.upstream.DefaultHttpDataSource.makeConnection(DefaultHttpDataSource.java:530)\r\n                                                                                                          at com.google.android.exoplayer2.upstream.DefaultHttpDataSource.open(DefaultHttpDataSource.java:382)\r\n                                                                                                          at com.google.android.exoplayer2.upstream.DefaultDataSource.open(DefaultDataSource.java:269)&#160;\r\n                                                                                                          at com.google.android.exoplayer2.upstream.StatsDataSource.open(StatsDataSource.java:90)&#160;\r\n                                                                                                          at com.google.android.exoplayer2.source.ProgressiveMediaPeriod$ExtractingLoadable.load(ProgressiveMediaPeriod.java:1013)&#160;\r\n                                                                                                          at com.google.android.exoplayer2.upstream.Loader$LoadTask.run(Loader.java:420)&#160;\r\n                                                                                                          at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)&#160;\r\n                                                                                                          at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:644)&#160;\r\n                                                                                                          at java.lang.Thread.run(Thread.java:1012)&#160;*\r\n\r\n\r\nAny idea would be much appreciated, thanks in advance!\r\n\r\n\r\n\r\nI tried to retrieve the stream in VLC, it works all fine, but not in emulator.\r\n\r\n\r\n**EDIT:**\r\nthe problem changes if I do:\r\n\r\n    import com.google.android.exoplayer2.source.rtsp.RtspMediaSource;\r\n\r\nand instead of Progressive I use:\r\n\r\n    MediaSource mediaSource =\r\n                        new RtspMediaSource.Factory().createMediaSource(MediaItem.fromUri(rtspStreamUrl));\r\n\r\nthen I get:\r\nPlayback error\r\n                                                                                                      com.google.android.exoplayer2.ExoPlaybackException: Source error\r\n                                                                                                          at com.google.android.exoplayer2.ExoPlayerImplInternal.handleIoException(ExoPlayerImplInternal.java:684)\r\n                                                                                                          at com.google.android.exoplayer2.ExoPlayerImplInternal.handleMessage(ExoPlayerImplInternal.java:660)\r\n                                                                                                          at android.os.Handler.dispatchMessage(Handler.java:102)\r\n                                                                                                          at android.os.Looper.loopOnce(Looper.java:205)\r\n                                                                                                          at android.os.Looper.loop(Looper.java:294)\r\n                                                                                                          at android.os.HandlerThread.run(HandlerThread.java:67)\r\n                                                                                                      Caused by: com.google.android.exoplayer2.source.rtsp.RtspMediaSource$RtspPlaybackException: SETUP 461\r\n","title":"Exoplayer unknown source android java","body":"<p>I integrated the code from this repo into my app:\n<a href=\"https://github.com/kardelencanoglu/ExoPlayerRTSP\" rel=\"nofollow noreferrer\">https://github.com/kardelencanoglu/ExoPlayerRTSP</a>\nAnd I'm able to see the compile, and see the player on my android app in the emulator.</p>\n<p>On my local machine I generate a rtsp stream this way, that I can recover from VLC:</p>\n<p><code>/Applications/VLC.app/Contents/MacOS/VLC -I dummy blabla.mp4 --sout '#rtp{sdp=rtsp://0.0.0.0:8082/live}' --no-sout-all --sout-keep</code></p>\n<p>in my app build.gradle:</p>\n<pre><code>implementation 'com.google.android.exoplayer:exoplayer:2.19.1'\n</code></pre>\n<p>Included:</p>\n<pre><code>\nimport com.google.android.exoplayer2.MediaItem;\nimport com.google.android.exoplayer2.SimpleExoPlayer;\nimport com.google.android.exoplayer2.source.MediaSource;\nimport com.google.android.exoplayer2.source.ProgressiveMediaSource;\nimport com.google.android.exoplayer2.ui.PlayerView;\nimport com.google.android.exoplayer2.upstream.DefaultDataSourceFactory;\n</code></pre>\n<p>in my main activity I have:</p>\n<pre><code>   private SimpleExoPlayer player;\n   private PlayerView playerView;\n</code></pre>\n<p>....</p>\n<p>playerView = findViewById(R.id.player_view);</p>\n<pre><code>try {\n            \n            // Overriding rtspStreamUrl for testing purposes\n            rtspStreamUrl = &quot;rtsp://10.0.2.2:8082/live&quot;;\n            Uri videoUri = Uri.parse(rtspStreamUrl);\n\n            player = new SimpleExoPlayer.Builder(this).build();\n            playerView.setPlayer(player);\n            MediaSource mediaSource = new ProgressiveMediaSource.Factory(new DefaultDataSourceFactory(this, &quot;exoplayer-codelab&quot;)).createMediaSource(MediaItem.fromUri(videoUri));\n            player.prepare(mediaSource);\n            player.setPlayWhenReady(true);\n            playerView.bringToFront();\n        }\n        catch (Exception e) {\n            Log.e(&quot;Unable to start EXO player&quot;,&quot;&quot;);\n        }\n</code></pre>\n<p>I get the following error in logcat:</p>\n<p>Playback error\nc*om.google.android.exoplayer2.ExoPlaybackException: Source error\nat com.google.android.exoplayer2.ExoPlayerImplInternal.handleIoException(ExoPlayerImplInternal.java:684)\nat com.google.android.exoplayer2.ExoPlayerImplInternal.handleMessage(ExoPlayerImplInternal.java:656)\nat android.os.Handler.dispatchMessage(Handler.java:102)\nat android.os.Looper.loopOnce(Looper.java:205)\nat android.os.Looper.loop(Looper.java:294)\nat android.os.HandlerThread.run(HandlerThread.java:67)\nCaused by: com.google.android.exoplayer2.upstream.HttpDataSource$HttpDataSourceException: java.net.MalformedURLException: unknown protocol: rtsp\nat com.google.android.exoplayer2.upstream.DefaultHttpDataSource.open(DefaultHttpDataSource.java:388)\nat com.google.android.exoplayer2.upstream.DefaultDataSource.open(DefaultDataSource.java:269)\nat com.google.android.exoplayer2.upstream.StatsDataSource.open(StatsDataSource.java:90)\nat com.google.android.exoplayer2.source.ProgressiveMediaPeriod$ExtractingLoadable.load(ProgressiveMediaPeriod.java:1013)\nat com.google.android.exoplayer2.upstream.Loader$LoadTask.run(Loader.java:420)\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:644)\nat java.lang.Thread.run(Thread.java:1012)\n<strong>Caused by: java.net.MalformedURLException: unknown protocol: rtsp</strong>\nat java.net.URL.(URL.java:608)\nat java.net.URL.(URL.java:498)\nat java.net.URL.(URL.java:447)\nat com.google.android.exoplayer2.upstream.DefaultHttpDataSource.makeConnection(DefaultHttpDataSource.java:530)\nat com.google.android.exoplayer2.upstream.DefaultHttpDataSource.open(DefaultHttpDataSource.java:382)\nat com.google.android.exoplayer2.upstream.DefaultDataSource.open(DefaultDataSource.java:269)\nat com.google.android.exoplayer2.upstream.StatsDataSource.open(StatsDataSource.java:90)\nat com.google.android.exoplayer2.source.ProgressiveMediaPeriod$ExtractingLoadable.load(ProgressiveMediaPeriod.java:1013)\nat com.google.android.exoplayer2.upstream.Loader$LoadTask.run(Loader.java:420)\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:644)\nat java.lang.Thread.run(Thread.java:1012)*</p>\n<p>Any idea would be much appreciated, thanks in advance!</p>\n<p>I tried to retrieve the stream in VLC, it works all fine, but not in emulator.</p>\n<p><strong>EDIT:</strong>\nthe problem changes if I do:</p>\n<pre><code>import com.google.android.exoplayer2.source.rtsp.RtspMediaSource;\n</code></pre>\n<p>and instead of Progressive I use:</p>\n<pre><code>MediaSource mediaSource =\n                    new RtspMediaSource.Factory().createMediaSource(MediaItem.fromUri(rtspStreamUrl));\n</code></pre>\n<p>then I get:\nPlayback error\ncom.google.android.exoplayer2.ExoPlaybackException: Source error\nat com.google.android.exoplayer2.ExoPlayerImplInternal.handleIoException(ExoPlayerImplInternal.java:684)\nat com.google.android.exoplayer2.ExoPlayerImplInternal.handleMessage(ExoPlayerImplInternal.java:660)\nat android.os.Handler.dispatchMessage(Handler.java:102)\nat android.os.Looper.loopOnce(Looper.java:205)\nat android.os.Looper.loop(Looper.java:294)\nat android.os.HandlerThread.run(HandlerThread.java:67)\nCaused by: com.google.android.exoplayer2.source.rtsp.RtspMediaSource$RtspPlaybackException: SETUP 461</p>\n"},{"tags":["java","spring","junit","spring-junit"],"comments":[{"owner":{"account_id":1096470,"reputation":26066,"user_id":1089967,"accept_rate":59,"display_name":"lance-java"},"score":0,"creation_date":1444147308,"post_id":32974432,"comment_id":53774021,"body_markdown":"How are you instantiating an instance of `A`? My guess is that you are using `new` rather than looking it up from the ApplicationContext","body":"How are you instantiating an instance of <code>A</code>? My guess is that you are using <code>new</code> rather than looking it up from the ApplicationContext"},{"owner":{"account_id":406060,"reputation":21895,"user_id":775345,"accept_rate":96,"display_name":"Robert Moskal"},"score":0,"creation_date":1444147335,"post_id":32974432,"comment_id":53774032,"body_markdown":"So shouldn&#39;t application.properties in the @PropertySource read application-test.properties?","body":"So shouldn&#39;t application.properties in the @PropertySource read application-test.properties?"},{"owner":{"account_id":1888409,"reputation":1883,"user_id":1707141,"accept_rate":48,"display_name":"Nikhil Das Nomula"},"score":0,"creation_date":1444147383,"post_id":32974432,"comment_id":53774059,"body_markdown":"@Lance Java: Yes I am using new. Will try looking up from ApplicationContext..","body":"@Lance Java: Yes I am using new. Will try looking up from ApplicationContext.."},{"owner":{"account_id":1888409,"reputation":1883,"user_id":1707141,"accept_rate":48,"display_name":"Nikhil Das Nomula"},"score":0,"creation_date":1444147407,"post_id":32974432,"comment_id":53774071,"body_markdown":"@RobertMoskal I tried that and did&#39;nt seem to work either.","body":"@RobertMoskal I tried that and did&#39;nt seem to work either."},{"owner":{"account_id":1096470,"reputation":26066,"user_id":1089967,"accept_rate":59,"display_name":"lance-java"},"score":0,"creation_date":1444147461,"post_id":32974432,"comment_id":53774110,"body_markdown":"@user1707141 using `new` means that spring is not managing the object and does not have a chance to populate it.","body":"@user1707141 using <code>new</code> means that spring is not managing the object and does not have a chance to populate it."},{"owner":{"account_id":1096470,"reputation":26066,"user_id":1089967,"accept_rate":59,"display_name":"lance-java"},"score":0,"creation_date":1444147682,"post_id":32974432,"comment_id":53774240,"body_markdown":"This is a good argument for using [constructor injection](https://en.wikipedia.org/wiki/Dependency_injection#Constructor_injection) rather than [setter/field injection](https://en.wikipedia.org/wiki/Dependency_injection#Setter_injection)","body":"This is a good argument for using <a href=\"https://en.wikipedia.org/wiki/Dependency_injection#Constructor_injection\" rel=\"nofollow noreferrer\">constructor injection</a> rather than <a href=\"https://en.wikipedia.org/wiki/Dependency_injection#Setter_injection\" rel=\"nofollow noreferrer\">setter/field injection</a>"},{"owner":{"account_id":1888409,"reputation":1883,"user_id":1707141,"accept_rate":48,"display_name":"Nikhil Das Nomula"},"score":0,"creation_date":1444147948,"post_id":32974432,"comment_id":53774407,"body_markdown":"Aah ok, however when I use new object for running the application normally it is picking up the value(from properties file). Its only in jUnit that the value is null. I just tried to fetch the object from the applicationContext it says that the bean does not exist. I am surprised as to why it come up with that as it is annotated with @Component","body":"Aah ok, however when I use new object for running the application normally it is picking up the value(from properties file). Its only in jUnit that the value is null. I just tried to fetch the object from the applicationContext it says that the bean does not exist. I am surprised as to why it come up with that as it is annotated with @Component"},{"owner":{"account_id":1096470,"reputation":26066,"user_id":1089967,"accept_rate":59,"display_name":"lance-java"},"score":1,"creation_date":1444220185,"post_id":32974432,"comment_id":53808386,"body_markdown":"You will need either @ComponentScan or `&lt;context:component-scan/&gt;` to pick up your @Component","body":"You will need either @ComponentScan or <code>&lt;context:component-scan&#47;&gt;</code> to pick up your @Component"}],"answers":[{"tags":[],"owner":{"account_id":406060,"reputation":21895,"user_id":775345,"accept_rate":96,"display_name":"Robert Moskal"},"down_vote_count":1,"up_vote_count":41,"is_accepted":false,"score":40,"last_activity_date":1689582784,"creation_date":1444148699,"answer_id":32974945,"question_id":32974432,"body_markdown":"Firstly, application.properties in the @PropertySource should read `application-test.properties` if that&#39;s what the file is named (matching these things up matters):\r\n\r\n    @PropertySource(&quot;classpath:application-test.properties&quot;)\r\n\r\nThat file should be under your `/src/test/resources` classpath (at the root).\r\n\r\nI don&#39;t understand why you&#39;d specify a dependency hard coded to a file called `application-test.properties`. Is that component only to be used in the test environment?\r\n\r\nThe normal thing to do is to have property files with the same name on different classpaths. You load one or the other depending on whether you are running your tests or not.\r\n\r\nIn a typically laid out application, you&#39;d have:\r\n\r\n    src/test/resources/application.properties\r\n\r\nand \r\n\r\n    src/main/resources/application.properties\r\n\r\nAnd then inject it like this:\r\n\r\n    @PropertySource(&quot;classpath:application.properties&quot;)\r\n\r\nThe even better thing to do would be to expose that property file as a bean in your spring context and then inject that bean into any component that needs it. This way your code is not littered with references to application.properties and you can use anything you want as a source of properties. Here&#39;s an example: https://stackoverflow.com/questions/14570477/how-to-read-properties-file-in-spring-project","title":"Spring jUnit Testing properties file","body":"<p>Firstly, application.properties in the @PropertySource should read <code>application-test.properties</code> if that's what the file is named (matching these things up matters):</p>\n<pre><code>@PropertySource(&quot;classpath:application-test.properties&quot;)\n</code></pre>\n<p>That file should be under your <code>/src/test/resources</code> classpath (at the root).</p>\n<p>I don't understand why you'd specify a dependency hard coded to a file called <code>application-test.properties</code>. Is that component only to be used in the test environment?</p>\n<p>The normal thing to do is to have property files with the same name on different classpaths. You load one or the other depending on whether you are running your tests or not.</p>\n<p>In a typically laid out application, you'd have:</p>\n<pre><code>src/test/resources/application.properties\n</code></pre>\n<p>and</p>\n<pre><code>src/main/resources/application.properties\n</code></pre>\n<p>And then inject it like this:</p>\n<pre><code>@PropertySource(&quot;classpath:application.properties&quot;)\n</code></pre>\n<p>The even better thing to do would be to expose that property file as a bean in your spring context and then inject that bean into any component that needs it. This way your code is not littered with references to application.properties and you can use anything you want as a source of properties. Here's an example: <a href=\"https://stackoverflow.com/questions/14570477/how-to-read-properties-file-in-spring-project\">how to read properties file in spring project?</a></p>\n"},{"tags":[],"owner":{"account_id":3171905,"reputation":10222,"user_id":2680640,"display_name":"sendon1982"},"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1493116495,"creation_date":1493116495,"answer_id":43608301,"question_id":32974432,"body_markdown":"As for the testing, you should use from Spring 4.1 which will overwrite the properties defined in other places:\r\n\r\n    @TestPropertySource(&quot;classpath:application-test.properties&quot;)\r\n\r\nTest property sources have higher precedence than those loaded from the operating system&#39;s environment or Java system properties as well as property sources added by the application like @PropertySource","title":"Spring jUnit Testing properties file","body":"<p>As for the testing, you should use from Spring 4.1 which will overwrite the properties defined in other places:</p>\n\n<pre><code>@TestPropertySource(\"classpath:application-test.properties\")\n</code></pre>\n\n<p>Test property sources have higher precedence than those loaded from the operating system's environment or Java system properties as well as property sources added by the application like @PropertySource</p>\n"},{"tags":[],"owner":{"account_id":5942206,"reputation":784,"user_id":4673017,"accept_rate":75,"display_name":"Siena"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1601665856,"creation_date":1601664019,"answer_id":64176708,"question_id":32974432,"body_markdown":"I faced the same issue, spent too much calories searching for the right fix until I decided to settle down with file reading:\r\n\r\n    Properties configProps = new Properties();\r\n    InputStream iStream = new ClassPathResource(&quot;myapp-test.properties&quot;).getInputStream();\r\n    InputStream iStream = getConfigFile();\r\n    configProps.load(iStream);\r\n    \r\n\r\n\r\n","title":"Spring jUnit Testing properties file","body":"<p>I faced the same issue, spent too much calories searching for the right fix until I decided to settle down with file reading:</p>\n<pre><code>Properties configProps = new Properties();\nInputStream iStream = new ClassPathResource(&quot;myapp-test.properties&quot;).getInputStream();\nInputStream iStream = getConfigFile();\nconfigProps.load(iStream);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18383700,"reputation":23,"user_id":16259996,"display_name":"loud_mouth"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656882568,"creation_date":1656882568,"answer_id":72849926,"question_id":32974432,"body_markdown":"If you are using a jar file inside a docker container, and the resource properties file, say `application.properties` is packaged within the same `classes` directory that contains the java(this is what IntelliJ IDE does automatically for resources file stored in `/src/main/resources`), this is what helped me: \r\n\r\n```\r\npublic static Properties props = new Properties();\r\n\r\n    static {\r\n        try {\r\n            props.load(\r\n                    Thread\r\n                            .currentThread()\r\n                            .getContextClassLoader()\r\n                            .getResourceAsStream(&quot;application.properties&quot;)\r\n            );\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n```\r\n\r\nMost other methods either only worked inside the IDE or inside the Docker. This one works in both. ","title":"Spring jUnit Testing properties file","body":"<p>If you are using a jar file inside a docker container, and the resource properties file, say <code>application.properties</code> is packaged within the same <code>classes</code> directory that contains the java(this is what IntelliJ IDE does automatically for resources file stored in <code>/src/main/resources</code>), this is what helped me:</p>\n<pre><code>public static Properties props = new Properties();\n\n    static {\n        try {\n            props.load(\n                    Thread\n                            .currentThread()\n                            .getContextClassLoader()\n                            .getResourceAsStream(&quot;application.properties&quot;)\n            );\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<p>Most other methods either only worked inside the IDE or inside the Docker. This one works in both.</p>\n"},{"tags":[],"owner":{"account_id":1180343,"reputation":81,"user_id":1155396,"display_name":"Tapan Upadhyay"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695323898,"creation_date":1673899766,"answer_id":75139211,"question_id":32974432,"body_markdown":"If you want to load a few properties, I found a good way in the spring ReflectionTestUtils:\r\n\r\n    \r\n    @Before\r\n    Public void setup(){\r\n     ReflectionTestUtils.setField(youclassobject, &quot;value&quot;, &quot;yourValue&quot;)\r\n     \r\n    }\r\n    \r\nYou can follow this link as well for more details https://roytuts.com/mock-an-autowired-value-field-in-spring-with-junit-mockito/\r\n","title":"Spring jUnit Testing properties file","body":"<p>If you want to load a few properties, I found a good way in the spring ReflectionTestUtils:</p>\n<pre><code>@Before\nPublic void setup(){\n ReflectionTestUtils.setField(youclassobject, &quot;value&quot;, &quot;yourValue&quot;)\n \n}\n</code></pre>\n<p>You can follow this link as well for more details <a href=\"https://roytuts.com/mock-an-autowired-value-field-in-spring-with-junit-mockito/\" rel=\"nofollow noreferrer\">https://roytuts.com/mock-an-autowired-value-field-in-spring-with-junit-mockito/</a></p>\n"},{"tags":[],"owner":{"account_id":19320165,"reputation":99,"user_id":14124017,"display_name":"Om Prakash N"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678877366,"creation_date":1678877366,"answer_id":75743669,"question_id":32974432,"body_markdown":"How to read values from properties file while running JUnit Test ?\r\nReflectionTestUtils is the simplest way to set values for any variable that is reading values from properties file.\r\n\r\nInside the setup function, add the below line:\r\n\r\n`ReflectionTestUtils.setField(ObjectName, &quot;VariableToSetValue&quot;, &quot;Value&quot;);` \r\n\r\nEg: `ReflectionTestUtils.setField(studentService, &quot;uri&quot;, &quot;http://example.com&quot;);`\r\n","title":"Spring jUnit Testing properties file","body":"<p>How to read values from properties file while running JUnit Test ?\nReflectionTestUtils is the simplest way to set values for any variable that is reading values from properties file.</p>\n<p>Inside the setup function, add the below line:</p>\n<p><code>ReflectionTestUtils.setField(ObjectName, &quot;VariableToSetValue&quot;, &quot;Value&quot;);</code></p>\n<p>Eg: <code>ReflectionTestUtils.setField(studentService, &quot;uri&quot;, &quot;http://example.com&quot;);</code></p>\n"},{"tags":[],"owner":{"account_id":543631,"reputation":10094,"user_id":912829,"accept_rate":53,"display_name":"ACV"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1686949339,"creation_date":1686949339,"answer_id":76493562,"question_id":32974432,"body_markdown":"The answer to your question is that \r\n`@PropertySource(&quot;classpath:application-test.properties&quot;)` does not work outside of spring boot test. Only when you have `@SpringBootTest` only then this works and properties are automatically injected.","title":"Spring jUnit Testing properties file","body":"<p>The answer to your question is that\n<code>@PropertySource(&quot;classpath:application-test.properties&quot;)</code> does not work outside of spring boot test. Only when you have <code>@SpringBootTest</code> only then this works and properties are automatically injected.</p>\n"}],"owner":{"account_id":1888409,"reputation":1883,"user_id":1707141,"accept_rate":48,"display_name":"Nikhil Das Nomula"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":184045,"favorite_count":0,"down_vote_count":0,"up_vote_count":33,"answer_count":7,"score":33,"last_activity_date":1695323898,"creation_date":1444147087,"question_id":32974432,"body_markdown":"I have a jUnit Test that has its own properties file(application-test.properties) and its spring config file(application-core-test.xml). \r\n\r\nOne of the method uses an object instantiated by spring config and that is a spring component. One of the members in the classes derives its value from application.properties which is our main properties file. While accessing this value through jUnit it is always null. I even tried changing the properties file to point to the actual properties file, but that doesnt seem to work. \r\n\r\nHere is how I am accessing the properties file object\r\n\r\n    @Component\r\n    @PropertySource(&quot;classpath:application.properties&quot;)\r\n    public abstract class A {\r\n\r\n\t    @Value(&quot;${test.value}&quot;)\r\n\t    public String value;\r\n\r\n        public A(){\r\n            SpringBeanAutowiringSupport.processInjectionBasedOnCurrentContext(this);\r\n        }\r\n\r\n        public A(String text) {\r\n            this();\r\n            // do something with text and value.. here is where I run into NPE\r\n        }\r\n\r\n    }\r\n\r\n    public class B extends A { \r\n         //addtnl code\r\n\r\n        private B() {\r\n\r\n        }\r\n        \r\n\r\n        private B(String text) {\r\n             super(text)\r\n        }\r\n    }\r\n\r\n    @RunWith(SpringJUnit4ClassRunner.class)\r\n    @ContextConfiguration(locations={&quot;classpath:META-INF/spring/application-core-test.xml&quot;,\r\n\t\t\t\t\t\t\t\t &quot;classpath:META-INF/spring/application-schedule-test.xml&quot;})\r\n    @PropertySource(&quot;classpath:application-test.properties&quot;)\r\n    public class TestD {\r\n\r\n\t\t@Value(&quot;${value.works}&quot;)\r\n\t\tpublic String valueWorks;\r\n\t\t\r\n\t\t@Test\r\n\t\tpublic void testBlah() {     \r\n\t\t\tSpringBeanAutowiringSupport.processInjectionBasedOnCurrentContext(this);\r\n\t\t\tB b= new B(&quot;blah&quot;);\r\n\t\t\t//...addtnl code\r\n\t\r\n\t\t}    \r\n\t}      ","title":"Spring jUnit Testing properties file","body":"<p>I have a jUnit Test that has its own properties file(application-test.properties) and its spring config file(application-core-test.xml). </p>\n\n<p>One of the method uses an object instantiated by spring config and that is a spring component. One of the members in the classes derives its value from application.properties which is our main properties file. While accessing this value through jUnit it is always null. I even tried changing the properties file to point to the actual properties file, but that doesnt seem to work. </p>\n\n<p>Here is how I am accessing the properties file object</p>\n\n<pre><code>@Component\n@PropertySource(\"classpath:application.properties\")\npublic abstract class A {\n\n    @Value(\"${test.value}\")\n    public String value;\n\n    public A(){\n        SpringBeanAutowiringSupport.processInjectionBasedOnCurrentContext(this);\n    }\n\n    public A(String text) {\n        this();\n        // do something with text and value.. here is where I run into NPE\n    }\n\n}\n\npublic class B extends A { \n     //addtnl code\n\n    private B() {\n\n    }\n\n\n    private B(String text) {\n         super(text)\n    }\n}\n\n@RunWith(SpringJUnit4ClassRunner.class)\n@ContextConfiguration(locations={\"classpath:META-INF/spring/application-core-test.xml\",\n                             \"classpath:META-INF/spring/application-schedule-test.xml\"})\n@PropertySource(\"classpath:application-test.properties\")\npublic class TestD {\n\n    @Value(\"${value.works}\")\n    public String valueWorks;\n\n    @Test\n    public void testBlah() {     \n        SpringBeanAutowiringSupport.processInjectionBasedOnCurrentContext(this);\n        B b= new B(\"blah\");\n        //...addtnl code\n\n    }    \n}      \n</code></pre>\n"},{"tags":["java","lwjgl"],"comments":[{"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"score":0,"creation_date":1695322497,"post_id":77152926,"comment_id":136012642,"body_markdown":"Are you using the z-axis? Is this 2D or 3D?","body":"Are you using the z-axis? Is this 2D or 3D?"},{"owner":{"account_id":29346081,"reputation":5,"user_id":22484365,"display_name":"The Typholorian"},"score":0,"creation_date":1695322594,"post_id":77152926,"comment_id":136012669,"body_markdown":"Yes, making a 3D game. Camera y is side to side, x is up and down. 90 y would be looking right.","body":"Yes, making a 3D game. Camera y is side to side, x is up and down. 90 y would be looking right."},{"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"score":0,"creation_date":1695322743,"post_id":77152926,"comment_id":136012698,"body_markdown":"So it&#39;s a right-handed coordinate system (because of OpenGL) with Z facing up.","body":"So it&#39;s a right-handed coordinate system (because of OpenGL) with Z facing up."},{"owner":{"account_id":29346081,"reputation":5,"user_id":22484365,"display_name":"The Typholorian"},"score":0,"creation_date":1695322822,"post_id":77152926,"comment_id":136012712,"body_markdown":"Think so? Kinda new to this sort of thing. My controls are\n        Game.newKeybind(GLFW_KEY_S, () -&gt; {Game.cameraInc.z = 1;});\n        Game.newKeybind(GLFW_KEY_W, () -&gt; {Game.cameraInc.z = -1;});\n        Game.newKeybind(GLFW_KEY_D, () -&gt; {Game.cameraInc.x = 1;});\n        Game.newKeybind(GLFW_KEY_A, () -&gt; {Game.cameraInc.x = -1;});\n        Game.newKeybind(GLFW_KEY_SPACE, () -&gt; {Game.cameraInc.y = 1;});\n        Game.newKeybind(GLFW_KEY_LEFT_SHIFT, () -&gt; {Game.cameraInc.y = -1;});\nif that helps.","body":"Think so? Kinda new to this sort of thing. My controls are         Game.newKeybind(GLFW_KEY_S, () -&gt; {Game.cameraInc.z = 1;});         Game.newKeybind(GLFW_KEY_W, () -&gt; {Game.cameraInc.z = -1;});         Game.newKeybind(GLFW_KEY_D, () -&gt; {Game.cameraInc.x = 1;});         Game.newKeybind(GLFW_KEY_A, () -&gt; {Game.cameraInc.x = -1;});         Game.newKeybind(GLFW_KEY_SPACE, () -&gt; {Game.cameraInc.y = 1;});         Game.newKeybind(GLFW_KEY_LEFT_SHIFT, () -&gt; {Game.cameraInc.y = -1;}); if that helps."},{"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"score":0,"creation_date":1695326333,"post_id":77152926,"comment_id":136013267,"body_markdown":"I know it&#39;s not Java OpenGL code, but the [following WebGL code](https://webglfundamentals.org/webgl/lessons/webgl-3d-camera.html#:~:text=Here%27s%20the%20code%20to%20compute%20a%20%22lookAt%22%20matrix) could be ported. It is a function to calculate a &quot;lookAt matrix&quot;. It involves normlizing the cross product of two vectors along multiple axis. All of the vector math is given. You just need to supply the position, target, and the &quot;up&quot; vector.","body":"I know it&#39;s not Java OpenGL code, but the <a href=\"https://webglfundamentals.org/webgl/lessons/webgl-3d-camera.html#:~:text=Here%27s%20the%20code%20to%20compute%20a%20%22lookAt%22%20matrix\" rel=\"nofollow noreferrer\">following WebGL code</a> could be ported. It is a function to calculate a &quot;lookAt matrix&quot;. It involves normlizing the cross product of two vectors along multiple axis. All of the vector math is given. You just need to supply the position, target, and the &quot;up&quot; vector."}],"owner":{"account_id":29346081,"reputation":5,"user_id":22484365,"display_name":"The Typholorian"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1695323289,"creation_date":1695322295,"question_id":77152926,"body_markdown":"Trying to make some code to look at a specific point in the world. ChatGPT isn&#39;t helping. Probably should have paid attention in school. Here&#39;s what I have so far (it doesn&#39;t work very well but Y is on to something)\r\n\r\n```java\r\npublic void lookAtCoordinate(Vector3f target) {\r\n    double xSide = target.x - position.x;\r\n    double ySide = target.y - position.y;\r\n    double zSide = target.z - position.z;\r\n    setRotation((float) Math.toDegrees(Math.acos(xSide / ySide)), (float) -Math.toDegrees(Math.acos(xSide / zSide)), 0);\r\n    //setRotation(target.x - position.x, target.y - position.x, 0;\r\n}\r\n```\r\nHelp?\r\n\r\nGame controls:\r\n\r\n```java\r\nGame.newKeybind(GLFW_KEY_S, () -&gt; { Game.cameraInc.z = 1; });\r\nGame.newKeybind(GLFW_KEY_W, () -&gt; { Game.cameraInc.z = -1; });\r\nGame.newKeybind(GLFW_KEY_D, () -&gt; { Game.cameraInc.x = 1; });\r\nGame.newKeybind(GLFW_KEY_A, () -&gt; { Game.cameraInc.x = -1; });\r\nGame.newKeybind(GLFW_KEY_SPACE, () -&gt; { Game.cameraInc.y = 1; });\r\nGame.newKeybind(GLFW_KEY_LEFT_SHIFT, () -&gt; { Game.cameraInc.y = -1; });\r\n```","title":"Look at specific point in LWJGL","body":"<p>Trying to make some code to look at a specific point in the world. ChatGPT isn't helping. Probably should have paid attention in school. Here's what I have so far (it doesn't work very well but Y is on to something)</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void lookAtCoordinate(Vector3f target) {\n    double xSide = target.x - position.x;\n    double ySide = target.y - position.y;\n    double zSide = target.z - position.z;\n    setRotation((float) Math.toDegrees(Math.acos(xSide / ySide)), (float) -Math.toDegrees(Math.acos(xSide / zSide)), 0);\n    //setRotation(target.x - position.x, target.y - position.x, 0;\n}\n</code></pre>\n<p>Help?</p>\n<p>Game controls:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Game.newKeybind(GLFW_KEY_S, () -&gt; { Game.cameraInc.z = 1; });\nGame.newKeybind(GLFW_KEY_W, () -&gt; { Game.cameraInc.z = -1; });\nGame.newKeybind(GLFW_KEY_D, () -&gt; { Game.cameraInc.x = 1; });\nGame.newKeybind(GLFW_KEY_A, () -&gt; { Game.cameraInc.x = -1; });\nGame.newKeybind(GLFW_KEY_SPACE, () -&gt; { Game.cameraInc.y = 1; });\nGame.newKeybind(GLFW_KEY_LEFT_SHIFT, () -&gt; { Game.cameraInc.y = -1; });\n</code></pre>\n"},{"tags":["java","mongodb"],"answers":[{"tags":[],"owner":{"account_id":14437512,"reputation":1697,"user_id":10429137,"display_name":"kedar sedai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1585204772,"creation_date":1585203855,"answer_id":60861955,"question_id":60861817,"body_markdown":"go to your `MongoDB Atlas` -&gt; `NetworkAccess`-&gt; Edit-&gt; and add `Current IP address` it works!!\r\n\r\n    // Create a Mongo client \r\n      MongoClient mongo = new MongoClient( &quot;localhost&quot; , 27017 ); \r\n   \r\n      // Creating Credentials \r\n      MongoCredential credential; \r\n      credential = MongoCredential.createCredential(&quot;User&quot;, &quot;DB&quot;, \r\n         &quot;pass&quot;.toCharArray()); \r\n      System.out.println(&quot;Connected to the database successfully&quot;);  \r\n      ","title":"Cluster description not yet available. Waiting for 30000 ms before timing out com.mongodb.diagnostics.logging.JULLogger log","body":"<p>go to your <code>MongoDB Atlas</code> -> <code>NetworkAccess</code>-> Edit-> and add <code>Current IP address</code> it works!!</p>\n\n<pre><code>// Create a Mongo client \n  MongoClient mongo = new MongoClient( \"localhost\" , 27017 ); \n\n  // Creating Credentials \n  MongoCredential credential; \n  credential = MongoCredential.createCredential(\"User\", \"DB\", \n     \"pass\".toCharArray()); \n  System.out.println(\"Connected to the database successfully\");  \n</code></pre>\n"}],"owner":{"account_id":16854542,"reputation":101,"user_id":13050733,"display_name":"Jackson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21758,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":1,"score":6,"last_activity_date":1695322985,"creation_date":1585202980,"question_id":60861817,"body_markdown":"I am trying to connect MongoDB Atlas with Java. This is my code\r\n\r\n    MongoClientSettings.Builder mongoClientSettingsBuilder = MongoClientSettings.builder()\r\n            .credential(mongoCredential)\r\n            .applyToClusterSettings(builder -&gt; builder.hosts(new ServerAddress(&quot;dev-20937-liwy3.gcp.mongodb.net&quot;, 27017)));\r\n\tMongoClientSettings settings = mongoClientSettingsBuilder.build();\t\t\r\n\tMongoClient mongoClient = MongoClients.create(settings);\r\n\t\r\n\r\nBy doing so I am getting the following error\r\n\r\n    INFO: Cluster description not yet available. Waiting for 30000 ms before timing out\r\n    Mar 26, 2020 11:33:41 AM com.mongodb.diagnostics.logging.JULLogger log\r\n    Exception in thread &quot;main&quot; com.mongodb.MongoTimeoutException: Timed out after 30000 ms while waiting to connect. Client view of cluster state is {type=UNKNOWN, servers=[{address=dev-20937-liwy3.gcp.mongodb.net:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: dev-20937-liwy3.gcp.mongodb.net}, caused by {java.net.UnknownHostException: dev-20937-liwy3.gcp.mongodb.net}}]\r\n\r\n\r\nI do not know the cause of the error. By my guess I have given my host name wrong. \r\n\r\nCan someone help me out with this","title":"Cluster description not yet available. Waiting for 30000 ms before timing out com.mongodb.diagnostics.logging.JULLogger log","body":"<p>I am trying to connect MongoDB Atlas with Java. This is my code</p>\n\n<pre><code>MongoClientSettings.Builder mongoClientSettingsBuilder = MongoClientSettings.builder()\n        .credential(mongoCredential)\n        .applyToClusterSettings(builder -&gt; builder.hosts(new ServerAddress(\"dev-20937-liwy3.gcp.mongodb.net\", 27017)));\nMongoClientSettings settings = mongoClientSettingsBuilder.build();      \nMongoClient mongoClient = MongoClients.create(settings);\n</code></pre>\n\n<p>By doing so I am getting the following error</p>\n\n<pre><code>INFO: Cluster description not yet available. Waiting for 30000 ms before timing out\nMar 26, 2020 11:33:41 AM com.mongodb.diagnostics.logging.JULLogger log\nException in thread \"main\" com.mongodb.MongoTimeoutException: Timed out after 30000 ms while waiting to connect. Client view of cluster state is {type=UNKNOWN, servers=[{address=dev-20937-liwy3.gcp.mongodb.net:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: dev-20937-liwy3.gcp.mongodb.net}, caused by {java.net.UnknownHostException: dev-20937-liwy3.gcp.mongodb.net}}]\n</code></pre>\n\n<p>I do not know the cause of the error. By my guess I have given my host name wrong. </p>\n\n<p>Can someone help me out with this</p>\n"},{"tags":["java","selenium","selenium-webdriver","webdriverwait","selenium4"],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1667252832,"creation_date":1574424573,"answer_id":58994021,"question_id":58993667,"body_markdown":"This warning message...\r\n\r\n```lang-none\r\nWarning: (143,13) &#39;WebDriverWait(org.openqa.selenium.WebDriver, long)&#39; is deprecated\r\n```\r\n\r\n...implies that the current constructor of [WebDriverWait](https://selenium.dev/selenium/docs/api/java/org/openqa/selenium/support/ui/WebDriverWait.html) have been deprecated.\r\n\r\n\r\n----------\r\n\r\n\r\nLooking in to the code for [WebDriverWait.java](https://github.com/SeleniumHQ/selenium/blob/master/java/client/src/org/openqa/selenium/support/ui/WebDriverWait.java) it seems:\r\n\r\n- The following methods are **deprecated**:\r\n - `public WebDriverWait(WebDriver driver, long timeoutInSeconds)`\r\n\r\n            @Deprecated\r\n            public WebDriverWait(WebDriver driver, long timeoutInSeconds) {\r\n              this(driver, Duration.ofSeconds(timeoutInSeconds));\r\n            }\r\n\r\n - `public WebDriverWait(WebDriver driver, long timeoutInSeconds, long sleepInMillis)`\r\n\r\n            @Deprecated\r\n            public WebDriverWait(WebDriver driver, long timeoutInSeconds, long sleepInMillis) {\r\n              this(driver, Duration.ofSeconds(timeoutInSeconds), Duration.ofMillis(sleepInMillis));\r\n            }\r\n\r\n - `public WebDriverWait(WebDriver driver, Clock clock, Sleeper sleeper, long timeoutInSeconds, long sleepInMillis)`\r\n\r\n            @Deprecated\r\n            public WebDriverWait(\r\n                WebDriver driver, Clock clock, Sleeper sleeper, long timeoutInSeconds, long sleepInMillis) {\r\n              this(\r\n                  driver,\r\n                  Duration.ofSeconds(timeoutInSeconds),\r\n                  Duration.ofMillis(sleepInMillis),\r\n                  clock,\r\n                  sleeper);\r\n            }\r\n\r\n- Whilst the following methods were **added**:\r\n - `public WebDriverWait(WebDriver driver, Duration timeout)`\r\n\r\n            /**\r\n             * @param driver The WebDriver instance to pass to the expected conditions\r\n             * @param timeout The timeout when an expectation is called\r\n             * @see WebDriverWait#ignoring(java.lang.Class)\r\n             */\r\n            public WebDriverWait(WebDriver driver, Duration timeout) {\r\n              this(\r\n                  driver,\r\n                  timeout,\r\n                  Duration.ofMillis(DEFAULT_SLEEP_TIMEOUT),\r\n                  Clock.systemDefaultZone(),\r\n                  Sleeper.SYSTEM_SLEEPER);\r\n            }\r\n\r\n - `public WebDriverWait(WebDriver driver, Duration timeout, Duration sleep)`\r\n\r\n            /**\r\n             * Wait will ignore instances of NotFoundException that are encountered (thrown) by default in\r\n             * the &#39;until&#39; condition, and immediately propagate all others.  You can add more to the ignore\r\n             * list by calling ignoring(exceptions to add).\r\n             *\r\n             * @param driver The WebDriver instance to pass to the expected conditions\r\n             * @param timeout The timeout in seconds when an expectation is called\r\n             * @param sleep The duration in milliseconds to sleep between polls.\r\n             * @see WebDriverWait#ignoring(java.lang.Class)\r\n             */\r\n            public WebDriverWait(WebDriver driver, Duration timeout, Duration sleep) {\r\n              this(driver, timeout, sleep, Clock.systemDefaultZone(), Sleeper.SYSTEM_SLEEPER);\r\n            }\r\n\r\n - `WebDriver driver, Duration timeout, Duration sleep, Clock clock, Sleeper sleeper)`\r\n\r\n            /**\r\n             * @param driver the WebDriver instance to pass to the expected conditions\r\n             * @param clock used when measuring the timeout\r\n             * @param sleeper used to make the current thread go to sleep\r\n             * @param timeout the timeout when an expectation is called\r\n             * @param sleep the timeout used whilst sleeping\r\n             */\r\n            public WebDriverWait(WebDriver driver, Duration timeout, Duration sleep, Clock clock, Sleeper sleeper) {\r\n              super(driver, clock, sleeper);\r\n              withTimeout(timeout);\r\n              pollingEvery(sleep);\r\n              ignoring(NotFoundException.class);\r\n              this.driver = driver;\r\n            }\r\n\r\nHence you see the error.\r\n\r\n\r\n----------\r\n\r\n\r\nHowever, I don&#39;t see any changes to [`WebDriverWait`](https://selenium.dev/selenium/docs/api/java/org/openqa/selenium/support/ui/WebDriverWait.html) Class in [**Selenium**](https://stackoverflow.com/questions/54459701/what-is-selenium-and-what-is-webdriver/54482491#54482491)**v4.0.0-alpha*** Java client changelog and the functionality should continue to function as per the current implementation.\r\n\r\n### Selenium Java client `v4.0.0-alpha-3` changelog:\r\n\r\n```lang-none\r\nv4.0.0-alpha-3\r\n==============\r\n\r\n* Add &quot;relative&quot; locators. The entry point is through the `RelativeLocator`.\r\n  Usage is like `driver.findElements(withTagName(&quot;p&quot;).above(lowest));`\r\n* Add chromedriver cast APIs to remote server (#7282)\r\n* `By` is now serializable over JSON.\r\n* Add ApplicationCache, Fetch, Network, Performance, Profiler,\r\n  ResourceTiming, Security and Target CDP domains.\r\n* Fixing Safari initialization code to be able to use Safari Technology\r\n  Preview.\r\n* Ensure that the protocol converter handles the new session responses\r\n  properly.\r\n* Expose devtools APIs from chromium derived drivers.\r\n* Expose presence of devtools support on a role-based interface\r\n* Move to new Grid, deleting the old standalone server and grid implementation.\r\n* Switch to using `HttpHandler` where possible. This will impact projects that\r\n  are extending Selenium Grid.\r\n* Respect &quot;webdriver.firefox.logfile&quot; system property in legacy Firefox driver.\r\n  Fixes #6649\r\n* Back out OpenCensus support: OpenTracing and OpenCensus are merging, so\r\n  settle on one for now.\r\n* Only allow CORS when using a allow-cors flag in the Grid server\r\n* If you&#39;re using the Java Platform Module System, all modules\r\n  associated with the project are generated as &quot;open&quot; modules. This\r\n  will change in a future release.\r\n* The version of Jetty being used is unshadowed.\r\n```\r\n\r\n\r\n----------\r\n\r\n\r\n\r\nConclusion\r\n----------\r\n_Selenium&#39;s Java client v4.0.0-alpha-3_ is still a _alpha_ release and needs to go through _beta_ release and hence shouldn&#39;t be used for testing activity in production environment.\r\n\r\n\r\n----------\r\n\r\n\r\nSolution\r\n--------\r\nAn immediate solution would be to downgrade to current **released level** [Version 3.141.59](https://docs.seleniumhq.org/download/).\r\n\r\n","title":"WebDriverWait is deprecated in Selenium 4","body":"<p>This warning message...</p>\n<pre class=\"lang-none prettyprint-override\"><code>Warning: (143,13) 'WebDriverWait(org.openqa.selenium.WebDriver, long)' is deprecated\n</code></pre>\n<p>...implies that the current constructor of <a href=\"https://selenium.dev/selenium/docs/api/java/org/openqa/selenium/support/ui/WebDriverWait.html\" rel=\"nofollow noreferrer\">WebDriverWait</a> have been deprecated.</p>\n<hr />\n<p>Looking in to the code for <a href=\"https://github.com/SeleniumHQ/selenium/blob/master/java/client/src/org/openqa/selenium/support/ui/WebDriverWait.java\" rel=\"nofollow noreferrer\">WebDriverWait.java</a> it seems:</p>\n<ul>\n<li><p>The following methods are <strong>deprecated</strong>:</p>\n</li>\n<li><p><code>public WebDriverWait(WebDriver driver, long timeoutInSeconds)</code></p>\n<pre><code>     @Deprecated\n     public WebDriverWait(WebDriver driver, long timeoutInSeconds) {\n       this(driver, Duration.ofSeconds(timeoutInSeconds));\n     }\n</code></pre>\n</li>\n<li><p><code>public WebDriverWait(WebDriver driver, long timeoutInSeconds, long sleepInMillis)</code></p>\n<pre><code>     @Deprecated\n     public WebDriverWait(WebDriver driver, long timeoutInSeconds, long sleepInMillis) {\n       this(driver, Duration.ofSeconds(timeoutInSeconds), Duration.ofMillis(sleepInMillis));\n     }\n</code></pre>\n</li>\n<li><p><code>public WebDriverWait(WebDriver driver, Clock clock, Sleeper sleeper, long timeoutInSeconds, long sleepInMillis)</code></p>\n<pre><code>     @Deprecated\n     public WebDriverWait(\n         WebDriver driver, Clock clock, Sleeper sleeper, long timeoutInSeconds, long sleepInMillis) {\n       this(\n           driver,\n           Duration.ofSeconds(timeoutInSeconds),\n           Duration.ofMillis(sleepInMillis),\n           clock,\n           sleeper);\n     }\n</code></pre>\n</li>\n<li><p>Whilst the following methods were <strong>added</strong>:</p>\n</li>\n<li><p><code>public WebDriverWait(WebDriver driver, Duration timeout)</code></p>\n<pre><code>     /**\n      * @param driver The WebDriver instance to pass to the expected conditions\n      * @param timeout The timeout when an expectation is called\n      * @see WebDriverWait#ignoring(java.lang.Class)\n      */\n     public WebDriverWait(WebDriver driver, Duration timeout) {\n       this(\n           driver,\n           timeout,\n           Duration.ofMillis(DEFAULT_SLEEP_TIMEOUT),\n           Clock.systemDefaultZone(),\n           Sleeper.SYSTEM_SLEEPER);\n     }\n</code></pre>\n</li>\n<li><p><code>public WebDriverWait(WebDriver driver, Duration timeout, Duration sleep)</code></p>\n<pre><code>     /**\n      * Wait will ignore instances of NotFoundException that are encountered (thrown) by default in\n      * the 'until' condition, and immediately propagate all others.  You can add more to the ignore\n      * list by calling ignoring(exceptions to add).\n      *\n      * @param driver The WebDriver instance to pass to the expected conditions\n      * @param timeout The timeout in seconds when an expectation is called\n      * @param sleep The duration in milliseconds to sleep between polls.\n      * @see WebDriverWait#ignoring(java.lang.Class)\n      */\n     public WebDriverWait(WebDriver driver, Duration timeout, Duration sleep) {\n       this(driver, timeout, sleep, Clock.systemDefaultZone(), Sleeper.SYSTEM_SLEEPER);\n     }\n</code></pre>\n</li>\n<li><p><code>WebDriver driver, Duration timeout, Duration sleep, Clock clock, Sleeper sleeper)</code></p>\n<pre><code>     /**\n      * @param driver the WebDriver instance to pass to the expected conditions\n      * @param clock used when measuring the timeout\n      * @param sleeper used to make the current thread go to sleep\n      * @param timeout the timeout when an expectation is called\n      * @param sleep the timeout used whilst sleeping\n      */\n     public WebDriverWait(WebDriver driver, Duration timeout, Duration sleep, Clock clock, Sleeper sleeper) {\n       super(driver, clock, sleeper);\n       withTimeout(timeout);\n       pollingEvery(sleep);\n       ignoring(NotFoundException.class);\n       this.driver = driver;\n     }\n</code></pre>\n</li>\n</ul>\n<p>Hence you see the error.</p>\n<hr />\n<p>However, I don't see any changes to <a href=\"https://selenium.dev/selenium/docs/api/java/org/openqa/selenium/support/ui/WebDriverWait.html\" rel=\"nofollow noreferrer\"><code>WebDriverWait</code></a> Class in <a href=\"https://stackoverflow.com/questions/54459701/what-is-selenium-and-what-is-webdriver/54482491#54482491\"><strong>Selenium</strong></a><strong>v4.0.0-alpha</strong>* Java client changelog and the functionality should continue to function as per the current implementation.</p>\n<h3>Selenium Java client <code>v4.0.0-alpha-3</code> changelog:</h3>\n<pre class=\"lang-none prettyprint-override\"><code>v4.0.0-alpha-3\n==============\n\n* Add &quot;relative&quot; locators. The entry point is through the `RelativeLocator`.\n  Usage is like `driver.findElements(withTagName(&quot;p&quot;).above(lowest));`\n* Add chromedriver cast APIs to remote server (#7282)\n* `By` is now serializable over JSON.\n* Add ApplicationCache, Fetch, Network, Performance, Profiler,\n  ResourceTiming, Security and Target CDP domains.\n* Fixing Safari initialization code to be able to use Safari Technology\n  Preview.\n* Ensure that the protocol converter handles the new session responses\n  properly.\n* Expose devtools APIs from chromium derived drivers.\n* Expose presence of devtools support on a role-based interface\n* Move to new Grid, deleting the old standalone server and grid implementation.\n* Switch to using `HttpHandler` where possible. This will impact projects that\n  are extending Selenium Grid.\n* Respect &quot;webdriver.firefox.logfile&quot; system property in legacy Firefox driver.\n  Fixes #6649\n* Back out OpenCensus support: OpenTracing and OpenCensus are merging, so\n  settle on one for now.\n* Only allow CORS when using a allow-cors flag in the Grid server\n* If you're using the Java Platform Module System, all modules\n  associated with the project are generated as &quot;open&quot; modules. This\n  will change in a future release.\n* The version of Jetty being used is unshadowed.\n</code></pre>\n<hr />\n<h2>Conclusion</h2>\n<p><em>Selenium's Java client v4.0.0-alpha-3</em> is still a <em>alpha</em> release and needs to go through <em>beta</em> release and hence shouldn't be used for testing activity in production environment.</p>\n<hr />\n<h2>Solution</h2>\n<p>An immediate solution would be to downgrade to current <strong>released level</strong> <a href=\"https://docs.seleniumhq.org/download/\" rel=\"nofollow noreferrer\">Version 3.141.59</a>.</p>\n"},{"tags":[],"owner":{"account_id":6701767,"reputation":47952,"user_id":5168011,"accept_rate":100,"display_name":"Guy"},"down_vote_count":0,"up_vote_count":29,"is_accepted":true,"score":29,"last_activity_date":1575437898,"creation_date":1575437898,"answer_id":59169549,"question_id":58993667,"body_markdown":"It doesn&#39;t appear in the docs, but if you look at the [source code](https://github.com/SeleniumHQ/selenium/blob/master/java/client/src/org/openqa/selenium/support/ui/WebDriverWait.java) you will see `@Deprecated` annotation\r\n\r\n    @Deprecated\r\n    public WebDriverWait(WebDriver driver, long timeoutInSeconds) {\r\n        this(driver, Duration.ofSeconds(timeoutInSeconds));\r\n    }\r\n    \r\nIn the constructor description you have the solution\r\n\r\n&gt;  @deprecated Instead, use {@link\r\n&gt; WebDriverWait#WebDriverWait(WebDriver, Duration)}.\r\n\r\nWhich is the constructor being called from the deprecated one in any case.\r\n\r\n    new WebDriverWait(driver, Duration.ofSeconds(10));","title":"WebDriverWait is deprecated in Selenium 4","body":"<p>It doesn't appear in the docs, but if you look at the <a href=\"https://github.com/SeleniumHQ/selenium/blob/master/java/client/src/org/openqa/selenium/support/ui/WebDriverWait.java\" rel=\"noreferrer\">source code</a> you will see <code>@Deprecated</code> annotation</p>\n\n<pre><code>@Deprecated\npublic WebDriverWait(WebDriver driver, long timeoutInSeconds) {\n    this(driver, Duration.ofSeconds(timeoutInSeconds));\n}\n</code></pre>\n\n<p>In the constructor description you have the solution</p>\n\n<blockquote>\n  <p>@deprecated Instead, use {@link\n  WebDriverWait#WebDriverWait(WebDriver, Duration)}.</p>\n</blockquote>\n\n<p>Which is the constructor being called from the deprecated one in any case.</p>\n\n<pre><code>new WebDriverWait(driver, Duration.ofSeconds(10));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9132670,"reputation":18589,"user_id":6793637,"accept_rate":0,"display_name":"PDHide"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1667252924,"creation_date":1586355003,"answer_id":61102746,"question_id":58993667,"body_markdown":"\r\n    WebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(10));\r\n\r\nUse this instead. Only WebDriverWait(driver, clock) is supported;\r\n\r\n\r\n","title":"WebDriverWait is deprecated in Selenium 4","body":"<pre><code>WebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(10));\n</code></pre>\n<p>Use this instead. Only WebDriverWait(driver, clock) is supported;</p>\n"},{"tags":[],"owner":{"account_id":21650589,"reputation":81,"user_id":15971299,"display_name":"Geetu Dhillon"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1667253339,"creation_date":1621425840,"answer_id":67602907,"question_id":58993667,"body_markdown":"Code which gives the below warning:\r\n\r\n```\r\ndriver.manage().timeouts().implicitlyWait(10, TimeUnit.SECONDS);\r\n```\r\n\r\nWarning:\r\n\r\n&gt; The method `implicitlyWait(long, TimeUnit)` from the type `WebDriver.Timeouts` is deprecated.\r\n\r\nUpdate which works on Selenium 4:\r\n\r\n```\r\ndriver.manage().timeouts().implicitlyWait(Duration.ofSeconds(10));\r\n```\r\n","title":"WebDriverWait is deprecated in Selenium 4","body":"<p>Code which gives the below warning:</p>\n<pre><code>driver.manage().timeouts().implicitlyWait(10, TimeUnit.SECONDS);\n</code></pre>\n<p>Warning:</p>\n<blockquote>\n<p>The method <code>implicitlyWait(long, TimeUnit)</code> from the type <code>WebDriver.Timeouts</code> is deprecated.</p>\n</blockquote>\n<p>Update which works on Selenium 4:</p>\n<pre><code>driver.manage().timeouts().implicitlyWait(Duration.ofSeconds(10));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16500782,"reputation":49,"user_id":11922149,"display_name":"Rajiv Agarwal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1622652338,"creation_date":1622615497,"answer_id":67800018,"question_id":58993667,"body_markdown":"This code snippet is working with Selenium 4.0:\r\n\r\n    driver.manage().timeouts().implicitlyWait(Duration.ofSeconds(10));\r\n\r\n","title":"WebDriverWait is deprecated in Selenium 4","body":"<p>This code snippet is working with Selenium 4.0:</p>\n<pre><code>driver.manage().timeouts().implicitlyWait(Duration.ofSeconds(10));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2500437,"reputation":1762,"user_id":2175704,"display_name":"Sameera De Silva"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1667253017,"creation_date":1634921031,"answer_id":69680448,"question_id":58993667,"body_markdown":"Write it like this with Selenium 4 since what you tried to use is deprecated, as you said.\r\n\r\nFirst import.\r\n\r\n    import java.time.Duration;\r\n\r\n    driver.manage().timeouts().implicitlyWait(Duration.ofSeconds(10));\r\n    driver.manage().timeouts().scriptTimeout(Duration.ofSeconds(30));\r\n    driver.manage().timeouts().pageLoadTimeout(Duration.ofSeconds(60));\r\n\r\nFor fluent wait.\r\n\r\n     Wait&lt;WebDriver&gt; wait = new FluentWait&lt;WebDriver&gt;(driver)\r\n            .withTimeout(Duration.ofSeconds(30))\r\n            .pollingEvery(Duration.ofSeconds(5))\r\n            .ignoring(NoSuchElementException.class);\r\n\r\nWebDriverWait statement\r\n\r\n    WebDriverWait wait = new WebDriverWait(driver,Duration.ofSeconds(10));\r\n\r\n\r\n","title":"WebDriverWait is deprecated in Selenium 4","body":"<p>Write it like this with Selenium 4 since what you tried to use is deprecated, as you said.</p>\n<p>First import.</p>\n<pre><code>import java.time.Duration;\n\ndriver.manage().timeouts().implicitlyWait(Duration.ofSeconds(10));\ndriver.manage().timeouts().scriptTimeout(Duration.ofSeconds(30));\ndriver.manage().timeouts().pageLoadTimeout(Duration.ofSeconds(60));\n</code></pre>\n<p>For fluent wait.</p>\n<pre><code> Wait&lt;WebDriver&gt; wait = new FluentWait&lt;WebDriver&gt;(driver)\n        .withTimeout(Duration.ofSeconds(30))\n        .pollingEvery(Duration.ofSeconds(5))\n        .ignoring(NoSuchElementException.class);\n</code></pre>\n<p>WebDriverWait statement</p>\n<pre><code>WebDriverWait wait = new WebDriverWait(driver,Duration.ofSeconds(10));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28266730,"reputation":1,"user_id":21610576,"display_name":"Menaga Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681482698,"creation_date":1681141027,"answer_id":75978490,"question_id":58993667,"body_markdown":"    WebDriverWait wait = new WebDriverWait(driver,Duration.ofSeconds(10));\r\n\r\nHere which driver have to use for selenium 4? Earlier in selenium 3.141 version we have used `EventfiringWebDriver`","title":"WebDriverWait is deprecated in Selenium 4","body":"<pre><code>WebDriverWait wait = new WebDriverWait(driver,Duration.ofSeconds(10));\n</code></pre>\n<p>Here which driver have to use for selenium 4? Earlier in selenium 3.141 version we have used <code>EventfiringWebDriver</code></p>\n"},{"tags":[],"owner":{"account_id":9616241,"reputation":626,"user_id":7138917,"display_name":"Anj Raju"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695322894,"creation_date":1695322894,"answer_id":77152980,"question_id":58993667,"body_markdown":"Instead of the following lines of code: \r\n\r\n        driver.manage().timeouts().pageLoadTimeout(30, TimeUnit.SECONDS);\r\n        driver.manage().timeouts().implicitlyWait(30, TimeUnit.SECONDS);\r\n\r\nUse this:\r\n    \r\n\r\n    driver.manage().timeouts().pageLoadTimeout(Duration.ofSeconds(30));\r\n    driver.manage().timeouts().implicitlyWait(Duration.ofSeconds(30));\r\n\r\nBasically, you are replacing the parameter and replacing two parameters (`30, TimeUnit.SECONDS`) with one (`Duration.ofSeconds(30)`)\r\n\r\n\r\n","title":"WebDriverWait is deprecated in Selenium 4","body":"<p>Instead of the following lines of code:</p>\n<pre><code>    driver.manage().timeouts().pageLoadTimeout(30, TimeUnit.SECONDS);\n    driver.manage().timeouts().implicitlyWait(30, TimeUnit.SECONDS);\n</code></pre>\n<p>Use this:</p>\n<pre><code>driver.manage().timeouts().pageLoadTimeout(Duration.ofSeconds(30));\ndriver.manage().timeouts().implicitlyWait(Duration.ofSeconds(30));\n</code></pre>\n<p>Basically, you are replacing the parameter and replacing two parameters (<code>30, TimeUnit.SECONDS</code>) with one (<code>Duration.ofSeconds(30)</code>)</p>\n"}],"owner":{"account_id":12016659,"reputation":8089,"user_id":8791568,"display_name":"Mate Mre"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89601,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":59169549,"answer_count":8,"score":17,"last_activity_date":1695322894,"creation_date":1574423322,"question_id":58993667,"body_markdown":"I&#39;m getting a \r\n\r\n&gt;Warning: (143,13) &#39;WebDriverWait(org.openqa.selenium.WebDriver, long)&#39; is deprecated\r\n\r\nin Selenium 4.0.0-alpha-3.\r\n\r\nBut official [Selenium page](https://selenium.dev/selenium/docs/api/java/org/openqa/selenium/support/ui/WebDriverWait.html) lists only\r\n\r\n    WebDriverWait(WebDriver driver, Clock clock, Sleeper sleeper, long timeOutInSeconds, long sleepTimeOut)\r\n\r\nas deprecated. \r\n\r\nWhat is wrong? I&#39;m using IntelliJ, could it be their issue?","title":"WebDriverWait is deprecated in Selenium 4","body":"<p>I'm getting a </p>\n\n<blockquote>\n  <p>Warning: (143,13) 'WebDriverWait(org.openqa.selenium.WebDriver, long)' is deprecated</p>\n</blockquote>\n\n<p>in Selenium 4.0.0-alpha-3.</p>\n\n<p>But official <a href=\"https://selenium.dev/selenium/docs/api/java/org/openqa/selenium/support/ui/WebDriverWait.html\" rel=\"noreferrer\">Selenium page</a> lists only</p>\n\n<pre><code>WebDriverWait(WebDriver driver, Clock clock, Sleeper sleeper, long timeOutInSeconds, long sleepTimeOut)\n</code></pre>\n\n<p>as deprecated. </p>\n\n<p>What is wrong? I'm using IntelliJ, could it be their issue?</p>\n"},{"tags":["java","sql","database","oracle","plsql"],"owner":{"account_id":14212096,"reputation":131,"user_id":10267017,"display_name":"luis alberto juarez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1695323243,"answer_count":0,"score":0,"last_activity_date":1695322059,"creation_date":1695322059,"question_id":77152904,"body_markdown":"Hi i&#39;m trying to select rows into columns, i have used **Listagg** function to retrieve comma separated column and then parse it in Java code, it works fine for small queries (about 150,000 rows) when i retrieve large queries it become a problem for memory and cpu.\r\n\r\nIs there any way to select the rows as columns dynamically by query? for example:\r\n\r\n**Original result**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n**Listagg result**\r\n \r\n[![enter image description here][2]][2]\r\n\r\n**Expected result**\r\n\r\n[![enter image description here][3]][3]\r\n\r\nThank you!\r\n\r\n  [1]: https://i.stack.imgur.com/Y6R4t.png\r\n  [2]: https://i.stack.imgur.com/YCuGt.png\r\n  [3]: https://i.stack.imgur.com/3bCJo.png","title":"How to Select Rows into Columns Dynamically Oracle","body":"<p>Hi i'm trying to select rows into columns, i have used <strong>Listagg</strong> function to retrieve comma separated column and then parse it in Java code, it works fine for small queries (about 150,000 rows) when i retrieve large queries it become a problem for memory and cpu.</p>\n<p>Is there any way to select the rows as columns dynamically by query? for example:</p>\n<p><strong>Original result</strong></p>\n<p><a href=\"https://i.stack.imgur.com/Y6R4t.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Y6R4t.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Listagg result</strong></p>\n<p><a href=\"https://i.stack.imgur.com/YCuGt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YCuGt.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Expected result</strong></p>\n<p><a href=\"https://i.stack.imgur.com/3bCJo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3bCJo.png\" alt=\"enter image description here\" /></a></p>\n<p>Thank you!</p>\n"},{"tags":["java","postgresql","junit5","quarkus","testcontainers"],"answers":[{"tags":[],"owner":{"account_id":8633322,"reputation":218343,"user_id":6464308,"display_name":"Laurenz Albe"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1611925384,"creation_date":1611908921,"answer_id":65951074,"question_id":65947435,"body_markdown":"Create a template test database with the name `test_template`.\r\n\r\nAfter each test,\r\n\r\n1. disconnect all sessions from the test database (not required with PostgreSQL v13):\r\n\r\n       SELECT pg_terminate_backend(pid)\r\n       FROM pg_stat_activity\r\n       WHERE datname = &#39;test&#39;;\r\n\r\n2. drop the database with\r\n\r\n       DROP DATABASE test;\r\n\r\n   In v13, use the additional `FORCE` option.\r\n\r\n3. create a new test database with\r\n\r\n       CREATE DATABASE test TEMPLATE test_template;\r\n\r\nNote: you have to enable autocommit in the JDBC driver for `CREATE DATABASE` and `DROP DATABASE` to work.","title":"Is there a way to drop all tables or truncate inside a postgres testcontainer","body":"<p>Create a template test database with the name <code>test_template</code>.</p>\n<p>After each test,</p>\n<ol>\n<li><p>disconnect all sessions from the test database (not required with PostgreSQL v13):</p>\n<pre><code>SELECT pg_terminate_backend(pid)\nFROM pg_stat_activity\nWHERE datname = 'test';\n</code></pre>\n</li>\n<li><p>drop the database with</p>\n<pre><code>DROP DATABASE test;\n</code></pre>\n<p>In v13, use the additional <code>FORCE</code> option.</p>\n</li>\n<li><p>create a new test database with</p>\n<pre><code>CREATE DATABASE test TEMPLATE test_template;\n</code></pre>\n</li>\n</ol>\n<p>Note: you have to enable autocommit in the JDBC driver for <code>CREATE DATABASE</code> and <code>DROP DATABASE</code> to work.</p>\n"},{"tags":[],"owner":{"account_id":29290980,"reputation":1,"user_id":22441462,"display_name":"juanse"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1693085660,"creation_date":1692882672,"answer_id":76969634,"question_id":65947435,"body_markdown":"You can try with this:\r\n\r\n1) Remove the static clause from the container definition. It will force it to create the container on every start() execution.\r\n\r\n    PostgreSQLContainer&lt;?&gt; POSTGRES ....\r\n\r\n2) You can also remove the stop in the @beforeach I think it is not necesary\r\n3) You can create the tables when you start the container providing the schema SQL:\r\n\r\n        PostgreSQLContainer&lt;?&gt; postgresContainer = new PostgreSQLContainer&lt; (&quot;postgres:14-alpine&quot;)\r\n                  .withDatabaseName(&quot;db&quot;)\r\n                  .withUsername(&quot;username&quot;)\r\n                  .withPassword(&quot;password&quot;)\r\n                  .withCopyFileToContainer(\r\n                       MountableFile.forClasspathResource(&quot;/schema.sql&quot;),\r\n                       &quot;/docker-entrypoint-initdb.d/&quot;\r\n                  );\r\n\r\n4) And if you want to insert some data in depending of your test method you can do something like this and call it in the beginning of your test:\r\n\r\n        private void loadData(String scriptPath) {\r\n            try {\r\n                postgresContainer.copyFileToContainer(\r\n                     MountableFile.forClasspathResource(scriptPath),\r\n                     &quot;/data/import.sql&quot;\r\n                );\r\n                postgresContainer.execInContainer(\r\n                     &quot;psql&quot;,\r\n                     &quot;-U&quot;,\r\n                     postgresContainer.getUsername(),\r\n                     &quot;-d&quot;,\r\n                     postgresContainer.getDatabaseName(),\r\n                     &quot;-f&quot;,\r\n                     &quot;/data/import.sql&quot;\r\n               );\r\n           } catch (IOException e) {\r\n               throw new RuntimeException(e);\r\n           } catch (InterruptedException e) {\r\n               throw new RuntimeException(e);\r\n           }\r\n       }","title":"Is there a way to drop all tables or truncate inside a postgres testcontainer","body":"<p>You can try with this:</p>\n<ol>\n<li><p>Remove the static clause from the container definition. It will force it to create the container on every start() execution.</p>\n<p>PostgreSQLContainer&lt;?&gt; POSTGRES ....</p>\n</li>\n<li><p>You can also remove the stop in the @beforeach I think it is not necesary</p>\n</li>\n<li><p>You can create the tables when you start the container providing the schema SQL:</p>\n<pre><code> PostgreSQLContainer&lt;?&gt; postgresContainer = new PostgreSQLContainer&lt; (&quot;postgres:14-alpine&quot;)\n           .withDatabaseName(&quot;db&quot;)\n           .withUsername(&quot;username&quot;)\n           .withPassword(&quot;password&quot;)\n           .withCopyFileToContainer(\n                MountableFile.forClasspathResource(&quot;/schema.sql&quot;),\n                &quot;/docker-entrypoint-initdb.d/&quot;\n           );\n</code></pre>\n</li>\n<li><p>And if you want to insert some data in depending of your test method you can do something like this and call it in the beginning of your test:</p>\n<pre><code> private void loadData(String scriptPath) {\n     try {\n         postgresContainer.copyFileToContainer(\n              MountableFile.forClasspathResource(scriptPath),\n              &quot;/data/import.sql&quot;\n         );\n         postgresContainer.execInContainer(\n              &quot;psql&quot;,\n              &quot;-U&quot;,\n              postgresContainer.getUsername(),\n              &quot;-d&quot;,\n              postgresContainer.getDatabaseName(),\n              &quot;-f&quot;,\n              &quot;/data/import.sql&quot;\n        );\n    } catch (IOException e) {\n        throw new RuntimeException(e);\n    } catch (InterruptedException e) {\n        throw new RuntimeException(e);\n    }\n}\n</code></pre>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":3568344,"reputation":645,"user_id":2979325,"display_name":"Serkan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695322042,"creation_date":1692907327,"answer_id":76972587,"question_id":65947435,"body_markdown":"Assuming youre using Panache and Active Record pattern, you can do this:\r\n\r\n    @BeforeEach\r\n    @Transactional\r\n    public void cleanUp() {\r\n       MyEntity.deleteAll();\r\n    }\r\n\r\nIf you are using repositories then simply inject your repository and call the deleteAll() method. \r\n\r\nAnd there is also *@TestTransactional* available for unit tests. This will simply rollback any changes to the db after the test has finished. \r\n\r\nBtw, Im typing from my phone, so apologies for any syntax errors. ","title":"Is there a way to drop all tables or truncate inside a postgres testcontainer","body":"<p>Assuming youre using Panache and Active Record pattern, you can do this:</p>\n<pre><code>@BeforeEach\n@Transactional\npublic void cleanUp() {\n   MyEntity.deleteAll();\n}\n</code></pre>\n<p>If you are using repositories then simply inject your repository and call the deleteAll() method.</p>\n<p>And there is also <em>@TestTransactional</em> available for unit tests. This will simply rollback any changes to the db after the test has finished.</p>\n<p>Btw, Im typing from my phone, so apologies for any syntax errors.</p>\n"},{"tags":[],"owner":{"account_id":18999437,"reputation":2463,"user_id":13867124,"display_name":"AztecCodes"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1693157415,"creation_date":1693157415,"answer_id":76988238,"question_id":65947435,"body_markdown":"&lt;h3&gt; Discard changes made during a test &lt;/h3&gt;\r\n\r\n**Truncate Tables:**\r\nJust truncate all tables instead of dropping the entire database. It is quicker too and probably the best option in your case.\r\n\r\n**Code Example:**\r\n```java\r\n// Code Example on how to truncate tables\r\n@BeforeEach\r\nvoid cleanDatabase() {\r\n    entityManager.createNativeQuery(&quot;TRUNCATE TABLE user_table CASCADE&quot;).executeUpdate();\r\n    // Here you can add more tables if you want to\r\n}\r\n```\r\n\r\n**Transaction Rollback:**  \r\nI guess the most common option to ensure that changes made during a test are discarded is this one. You basically start a transaction and the very start of the test and roll it back when its finished.\r\n\r\n**Code Example:**\r\n```java\r\n// Example Code of a Transaction Rollback\r\n\r\n@Inject\r\nUserTransaction userTransaction;\r\n\r\n@BeforeEach\r\nvoid beginTransaction() throws Exception {\r\n    userTransaction.begin();\r\n}\r\n\r\n@AfterEach\r\nvoid rollbackTransaction() throws Exception {\r\n    userTransaction.rollback();\r\n}\r\n```\r\nWith this approach you are also faster than dropping and recreating the whole database or tables. However this will only work if your tests are transactionally safe and you are not testing non-transactional features.\r\n\r\n**Liquibase or Flyway:**   \r\nThis only works if you are using a migration tool like Liquibase or Flyway. You can basically reset the database to a specific migration or baseline before each test.\r\n\r\n**Code Example:**\r\n```java\r\n// Code Example with Flyway\r\n\r\n@Inject\r\nFlyway flyway\r\n\r\n@BeforeEach\r\nvoid resetDatabase(){\r\n    // This method cleans the database.\r\n    flyway.clean();\r\n    // This method applies all migrations from the start.\r\n    flyway.migrate();\r\n}\r\n```\r\n\r\nIf you have any questions feel free to ask.","title":"Is there a way to drop all tables or truncate inside a postgres testcontainer","body":"<h3> Discard changes made during a test </h3>\n<p><strong>Truncate Tables:</strong>\nJust truncate all tables instead of dropping the entire database. It is quicker too and probably the best option in your case.</p>\n<p><strong>Code Example:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>// Code Example on how to truncate tables\n@BeforeEach\nvoid cleanDatabase() {\n    entityManager.createNativeQuery(&quot;TRUNCATE TABLE user_table CASCADE&quot;).executeUpdate();\n    // Here you can add more tables if you want to\n}\n</code></pre>\n<p><strong>Transaction Rollback:</strong><br />\nI guess the most common option to ensure that changes made during a test are discarded is this one. You basically start a transaction and the very start of the test and roll it back when its finished.</p>\n<p><strong>Code Example:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>// Example Code of a Transaction Rollback\n\n@Inject\nUserTransaction userTransaction;\n\n@BeforeEach\nvoid beginTransaction() throws Exception {\n    userTransaction.begin();\n}\n\n@AfterEach\nvoid rollbackTransaction() throws Exception {\n    userTransaction.rollback();\n}\n</code></pre>\n<p>With this approach you are also faster than dropping and recreating the whole database or tables. However this will only work if your tests are transactionally safe and you are not testing non-transactional features.</p>\n<p><strong>Liquibase or Flyway:</strong><br />\nThis only works if you are using a migration tool like Liquibase or Flyway. You can basically reset the database to a specific migration or baseline before each test.</p>\n<p><strong>Code Example:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>// Code Example with Flyway\n\n@Inject\nFlyway flyway\n\n@BeforeEach\nvoid resetDatabase(){\n    // This method cleans the database.\n    flyway.clean();\n    // This method applies all migrations from the start.\n    flyway.migrate();\n}\n</code></pre>\n<p>If you have any questions feel free to ask.</p>\n"}],"owner":{"account_id":14660694,"reputation":361,"user_id":10588848,"display_name":"Johnnes Souza"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1637,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1695322042,"creation_date":1611882406,"question_id":65947435,"body_markdown":"I&#39;m looking for a way to keep my component tests self contained.\r\nSo to achieve this behavior, in some of the tests I need to have a &#39;clean database&#39; or at least a &#39;clean table&#39;. I still couldn&#39;t find a way to do this inside a testcontainer.\r\nSo here is what I&#39;ve tried so far:\r\nMy container setup class:\r\n\r\npublic class PostgreSqlTestContainer implements QuarkusTestResourceLifecycleManager {\r\n\r\n    public static final PostgreSQLContainer&lt;?&gt; POSTGRES = new PostgreSQLContainer&lt;&gt;(&quot;postgres:alpine&quot;);\r\n\r\n    @Override\r\n    public Map&lt;String, String&gt; start() {\r\n        POSTGRES.start();         \r\n        return some_db_config_as_per_doc;\r\n    }\r\n\r\n    @Override\r\n    public void stop() {        \r\n        POSTGRES.stop();\r\n    }\r\n\r\nHere is the tests class:\r\n\r\n    @QuarkusTest\r\n    @QuarkusTestResource(PostgreSqlTestContainer.class)\r\n    class UserResourcesTest {\r\n    \r\n      @Test\r\n      scenario_one(){\r\n         // create a new user\r\n         // do some stuff (@POST.. check HTTP == 201) \r\n      }\r\n\r\n      @Test\r\n      scenario_two(){\r\n         // create new user\r\n         // do some stuff (@POST.. check HTTP == 201) (pass)\r\n         // look for all users on database\r\n         // do more stuff (@GET..  check HTTP == 200) (pass)\r\n         // assert that only 1 user was found\r\n         // since scenario_one should not interfere with scenario_two (fail)\r\n      }\r\n\r\n    }\r\n\r\nThe second scenario fails since some &#39;dirty&#39; from the first test was still on the db container.\r\nI&#39;ve tried to stop/start the container for each test. (very, very slow process, and sometimes I get an error, and very slow again).\r\n\r\n        @BeforeEach\r\n        void setup(){\r\n            PostgreSqlTestContainer.POSTGRES.stop();\r\n            PostgreSqlTestContainer.POSTGRES.start();\r\n        }\r\n\r\nAlso tried to truncate the table / drop the whole db:\r\n\r\n        @Inject\r\n        EntityManager entityManager;\r\n    \r\n        @BeforeEach\r\n        private void rollBack(){\r\n            truncate();\r\n        }\r\n\r\n        void truncate(){\r\n          Query nativeQuery = entityManager.createNativeQuery(&quot;DROP DATABASE IF EXISTS db_name&quot;);\r\n          nativeQuery.executeUpdate();\r\n        }\r\n\r\nI&#39;m looking for any workaround for this problem, I just want to somehow use a `@BeforeEach` to clean up the DB before each test. I mean, all I want is a clean environment for each test.","title":"Is there a way to drop all tables or truncate inside a postgres testcontainer","body":"<p>I'm looking for a way to keep my component tests self contained.\nSo to achieve this behavior, in some of the tests I need to have a 'clean database' or at least a 'clean table'. I still couldn't find a way to do this inside a testcontainer.\nSo here is what I've tried so far:\nMy container setup class:</p>\n<p>public class PostgreSqlTestContainer implements QuarkusTestResourceLifecycleManager {</p>\n<pre><code>public static final PostgreSQLContainer&lt;?&gt; POSTGRES = new PostgreSQLContainer&lt;&gt;(&quot;postgres:alpine&quot;);\n\n@Override\npublic Map&lt;String, String&gt; start() {\n    POSTGRES.start();         \n    return some_db_config_as_per_doc;\n}\n\n@Override\npublic void stop() {        \n    POSTGRES.stop();\n}\n</code></pre>\n<p>Here is the tests class:</p>\n<pre><code>@QuarkusTest\n@QuarkusTestResource(PostgreSqlTestContainer.class)\nclass UserResourcesTest {\n\n  @Test\n  scenario_one(){\n     // create a new user\n     // do some stuff (@POST.. check HTTP == 201) \n  }\n\n  @Test\n  scenario_two(){\n     // create new user\n     // do some stuff (@POST.. check HTTP == 201) (pass)\n     // look for all users on database\n     // do more stuff (@GET..  check HTTP == 200) (pass)\n     // assert that only 1 user was found\n     // since scenario_one should not interfere with scenario_two (fail)\n  }\n\n}\n</code></pre>\n<p>The second scenario fails since some 'dirty' from the first test was still on the db container.\nI've tried to stop/start the container for each test. (very, very slow process, and sometimes I get an error, and very slow again).</p>\n<pre><code>    @BeforeEach\n    void setup(){\n        PostgreSqlTestContainer.POSTGRES.stop();\n        PostgreSqlTestContainer.POSTGRES.start();\n    }\n</code></pre>\n<p>Also tried to truncate the table / drop the whole db:</p>\n<pre><code>    @Inject\n    EntityManager entityManager;\n\n    @BeforeEach\n    private void rollBack(){\n        truncate();\n    }\n\n    void truncate(){\n      Query nativeQuery = entityManager.createNativeQuery(&quot;DROP DATABASE IF EXISTS db_name&quot;);\n      nativeQuery.executeUpdate();\n    }\n</code></pre>\n<p>I'm looking for any workaround for this problem, I just want to somehow use a <code>@BeforeEach</code> to clean up the DB before each test. I mean, all I want is a clean environment for each test.</p>\n"},{"tags":["java","spring","templates"],"owner":{"account_id":18062712,"reputation":26,"user_id":13129461,"display_name":"B.."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695321705,"creation_date":1695321705,"question_id":77152864,"body_markdown":"I am looking for ways in which we can have a common template for YAML documents and be able to dynamically populate the values in the yaml files in Java spring boot.\r\n\r\nSo under resources in spring boot, will create a folder for templates, under which we will have a YAML file. This yaml file should be referenced in the Java helper class, dynamically populate the values, convert this yaml doc to a escape string and pass it as a parameter.\r\n\r\nCame accross templates like thymeleaf/ pebble but these are not very efficient for the required use case.\r\n\r\nWould appreciate any suggestions on this.","title":"Template engine for a YAML file in Java spring boot","body":"<p>I am looking for ways in which we can have a common template for YAML documents and be able to dynamically populate the values in the yaml files in Java spring boot.</p>\n<p>So under resources in spring boot, will create a folder for templates, under which we will have a YAML file. This yaml file should be referenced in the Java helper class, dynamically populate the values, convert this yaml doc to a escape string and pass it as a parameter.</p>\n<p>Came accross templates like thymeleaf/ pebble but these are not very efficient for the required use case.</p>\n<p>Would appreciate any suggestions on this.</p>\n"},{"tags":["java","opencsv"],"answers":[{"tags":[],"owner":{"account_id":1522669,"reputation":11674,"user_id":1421925,"accept_rate":90,"display_name":"Magnilex"},"down_vote_count":1,"up_vote_count":6,"is_accepted":true,"score":5,"last_activity_date":1495788265,"creation_date":1436897890,"answer_id":31414311,"question_id":31414120,"body_markdown":"There is no built in functionality in opencsv for reading from a column by name.\r\n\r\nThe [official FAQ example][1] has the following example on how to read from a file:\r\n\r\n    CSVReader reader = new CSVReader(new FileReader(&quot;yourfile.csv&quot;));\r\n    String [] nextLine;\r\n    while ((nextLine = reader.readNext()) != null) {\r\n       // nextLine[] is an array of values from the line\r\n       System.out.println(nextLine[0] + nextLine[1] + &quot;etc...&quot;);\r\n    }\r\n\r\nYou simply fetch the value in second column for each row by accesing the row with `nextLine[1]` (remember, arrays indices are zero based).\r\n\r\nSo, in your case you could simply read from the second line:\r\n\r\n    CSVReader reader = new CSVReader(new FileReader(&quot;yourfile.csv&quot;));\r\n    String [] nextLine;\r\n    while ((nextLine = reader.readNext()) != null) {\r\n       System.out.println(nextLine[1]);\r\n    }\r\n\r\n---\r\n\r\nFor a more sophisticated way of determining the column index from its header, refer to [the answer from Scott Conway][2].\r\n\r\n\r\n  [1]: http://opencsv.sourceforge.net/\r\n  [2]: https://stackoverflow.com/a/31440044/1421925","title":"How to read from particular header in opencsv?","body":"<p>There is no built in functionality in opencsv for reading from a column by name.</p>\n\n<p>The <a href=\"http://opencsv.sourceforge.net/\" rel=\"nofollow noreferrer\">official FAQ example</a> has the following example on how to read from a file:</p>\n\n<pre><code>CSVReader reader = new CSVReader(new FileReader(\"yourfile.csv\"));\nString [] nextLine;\nwhile ((nextLine = reader.readNext()) != null) {\n   // nextLine[] is an array of values from the line\n   System.out.println(nextLine[0] + nextLine[1] + \"etc...\");\n}\n</code></pre>\n\n<p>You simply fetch the value in second column for each row by accesing the row with <code>nextLine[1]</code> (remember, arrays indices are zero based).</p>\n\n<p>So, in your case you could simply read from the second line:</p>\n\n<pre><code>CSVReader reader = new CSVReader(new FileReader(\"yourfile.csv\"));\nString [] nextLine;\nwhile ((nextLine = reader.readNext()) != null) {\n   System.out.println(nextLine[1]);\n}\n</code></pre>\n\n<hr>\n\n<p>For a more sophisticated way of determining the column index from its header, refer to <a href=\"https://stackoverflow.com/a/31440044/1421925\">the answer from Scott Conway</a>.</p>\n"},{"tags":[],"owner":{"account_id":6621553,"reputation":4538,"user_id":5113071,"accept_rate":55,"display_name":"Shawn Mehan"},"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1436899240,"creation_date":1436899240,"answer_id":31414755,"question_id":31414120,"body_markdown":"Looking at the [javadoc][1]\r\n\r\n\r\n  [1]: http://opencsv.sourceforge.net/apidocs/ &quot;javadoc&quot;\r\n\r\nif you create a CSVReader object, then you can use the method .readAll to pull the entire file. It returns a List of String[], with each String[] representing a line of the file. So now you have the tokens of each line, and you only want the second element of that, so split them up as they have been nicely given to you with delimiters. And on each line you only want the second element, so:\r\n\r\n    public static void main(String[] args){\r\n        String data = &quot;63,Graham,101153.06,Abraham&quot;;\r\n        String result[] = data.split(&quot;,&quot;);\r\n        System.out.print(result[1]);\r\n    }","title":"How to read from particular header in opencsv?","body":"<p>Looking at the <a href=\"http://opencsv.sourceforge.net/apidocs/\" rel=\"nofollow\" title=\"javadoc\">javadoc</a></p>\n\n<p>if you create a CSVReader object, then you can use the method .readAll to pull the entire file. It returns a List of String[], with each String[] representing a line of the file. So now you have the tokens of each line, and you only want the second element of that, so split them up as they have been nicely given to you with delimiters. And on each line you only want the second element, so:</p>\n\n<pre><code>public static void main(String[] args){\n    String data = \"63,Graham,101153.06,Abraham\";\n    String result[] = data.split(\",\");\n    System.out.print(result[1]);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4836940,"reputation":985,"user_id":3903279,"display_name":"Scott Conway"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1484633860,"creation_date":1436990893,"answer_id":31440044,"question_id":31414120,"body_markdown":"Magnilex and Sparky are right in that CSVReader does not support reading values by column name.  But that being said there are two ways you can do this.  \r\n\r\nGiven that you have the column names and the default CSVReader reads the header you can search the first the header for the position then use that from there on out;\r\n\r\n    private int getHeaderLocation(String[] headers, String columnName) {\r\n       return Arrays.asList(headers).indexOf(columnName);\r\n    }\r\n\r\nso your method would look like (leaving out a lot of error checks you will need to put in)\r\n\r\n    CSVReader reader = new CSVReader(new FileReader(&quot;yourfile.csv&quot;));\r\n    String [] nextLine;\r\n    int columnPosition;\r\n\r\n    nextLine = reader.readNext();\r\n    columnPosition = getHeaderLocation(nextLine, &quot;castle1&quot;);\r\n\r\n    while ((nextLine = reader.readNext()) != null &amp;&amp; columnPosition &gt; -1) {\r\n       // nextLine[] is an array of values from the line\r\n       System.out.println(nextLine[columnPosition]);\r\n    }\r\n\r\nI would only do the above if you were pressed for time and it was only one column you cared about.  That is because openCSV can convert directly to an object that has the variables the same as the header column names using the `CsvToBean` class and the `HeaderColumnNameMappingStrategy`.  \r\n\r\nSo first you would define a class that has the fields (and really you only need to put in the fields you want - extras are ignored and missing ones are null or default values). \r\n\r\n    public class CastleDTO {\r\n       private int id1;\r\n       private String castle1;\r\n       private double salary;\r\n       private String name1;\r\n   \r\n       // have all the getters and setters here....\r\n    }\r\n\r\nThen your code would look like\r\n\r\n    CSVReader reader = new CSVReader(new FileReader(&quot;yourfile.csv&quot;));\r\n    HeaderColumnNameMappingStrategy&lt;CastleDTO&gt; castleStrategy = new HeaderColumnNameMappingStrategy&lt;CastleDTO&gt;();\r\n    CsvToBean&lt;CastleDTO&gt; csvToBean = new CsvToBean&lt;CastleDTO&gt;();\r\n\r\n    List&lt;CastleDTO&gt; castleList = csvToBean.parse(castleStrategy, reader);\r\n\r\n    for (CastleDTO dto : castleList) {\r\n       System.out.println(dto.getCastle1());\r\n    }","title":"How to read from particular header in opencsv?","body":"<p>Magnilex and Sparky are right in that CSVReader does not support reading values by column name.  But that being said there are two ways you can do this.  </p>\n\n<p>Given that you have the column names and the default CSVReader reads the header you can search the first the header for the position then use that from there on out;</p>\n\n<pre><code>private int getHeaderLocation(String[] headers, String columnName) {\n   return Arrays.asList(headers).indexOf(columnName);\n}\n</code></pre>\n\n<p>so your method would look like (leaving out a lot of error checks you will need to put in)</p>\n\n<pre><code>CSVReader reader = new CSVReader(new FileReader(\"yourfile.csv\"));\nString [] nextLine;\nint columnPosition;\n\nnextLine = reader.readNext();\ncolumnPosition = getHeaderLocation(nextLine, \"castle1\");\n\nwhile ((nextLine = reader.readNext()) != null &amp;&amp; columnPosition &gt; -1) {\n   // nextLine[] is an array of values from the line\n   System.out.println(nextLine[columnPosition]);\n}\n</code></pre>\n\n<p>I would only do the above if you were pressed for time and it was only one column you cared about.  That is because openCSV can convert directly to an object that has the variables the same as the header column names using the <code>CsvToBean</code> class and the <code>HeaderColumnNameMappingStrategy</code>.  </p>\n\n<p>So first you would define a class that has the fields (and really you only need to put in the fields you want - extras are ignored and missing ones are null or default values). </p>\n\n<pre><code>public class CastleDTO {\n   private int id1;\n   private String castle1;\n   private double salary;\n   private String name1;\n\n   // have all the getters and setters here....\n}\n</code></pre>\n\n<p>Then your code would look like</p>\n\n<pre><code>CSVReader reader = new CSVReader(new FileReader(\"yourfile.csv\"));\nHeaderColumnNameMappingStrategy&lt;CastleDTO&gt; castleStrategy = new HeaderColumnNameMappingStrategy&lt;CastleDTO&gt;();\nCsvToBean&lt;CastleDTO&gt; csvToBean = new CsvToBean&lt;CastleDTO&gt;();\n\nList&lt;CastleDTO&gt; castleList = csvToBean.parse(castleStrategy, reader);\n\nfor (CastleDTO dto : castleList) {\n   System.out.println(dto.getCastle1());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":64856,"reputation":29696,"user_id":191246,"accept_rate":77,"display_name":"ccpizza"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1695321682,"creation_date":1584313454,"answer_id":60698551,"question_id":31414120,"body_markdown":"From the [opencsv docs][1]:\r\n\r\n&gt; Starting with version 4.2, theres another handy way of reading CSV files that doesnt even require creating special classes. If your CSV file has headers, you can initialize a CSVReaderHeaderAware instance and read values as a map:\r\n\r\n&lt;!-- language-all: lang-java --&gt;\r\n\r\n      reader = new CSVReaderHeaderAware(new FileReader(&quot;yourfile.csv&quot;));\r\n      record = reader.readMap();\r\n\r\n`.readMap()` will return a single record. You need to call `.readMap()` repeatedly to get all the records until you get `null` when it runs to the end (or to the first empty line), e.g.:\r\n\r\n    Map&lt;String, String&gt; values;\r\n\r\n    while ((values = reader.readMap()) != null) {\r\n\r\n        // consume the values here\r\n\r\n    }\r\n\r\n\r\nThe class also has another constructor which allows more customization, e.g.:\r\n\r\n    CSVReaderHeaderAware reader = new CSVReaderHeaderAware(\r\n            new InputStreamReader(inputStream),\r\n            0,      // skipLines\r\n            parser, // custom parser\r\n            false,  // keep end of lines\r\n            true,   // verify reader\r\n            0,      // multiline limit\r\n            null    // null for default locale\r\n    );\r\n\r\nA possible downside is that since the reader is lazy it does not offer a record count, therefore, if you need to know the total number (for example to display correct progress information), then you&#39;ll need to use another reader just for counting lines.\r\n\r\n\r\nSee also:\r\n- [CSVReaderHeaderAwareBuilder][2]\r\n\r\n\r\n  [1]: http://opencsv.sourceforge.net/#even_quicker_start\r\n  [2]: https://javadoc.io/doc/com.opencsv/opencsv/latest/com/opencsv/CSVReaderHeaderAwareBuilder.html","title":"How to read from particular header in opencsv?","body":"<p>From the <a href=\"http://opencsv.sourceforge.net/#even_quicker_start\" rel=\"nofollow noreferrer\">opencsv docs</a>:</p>\n<blockquote>\n<p>Starting with version 4.2, theres another handy way of reading CSV files that doesnt even require creating special classes. If your CSV file has headers, you can initialize a CSVReaderHeaderAware instance and read values as a map:</p>\n</blockquote>\n\n<pre class=\"lang-java prettyprint-override\"><code>  reader = new CSVReaderHeaderAware(new FileReader(&quot;yourfile.csv&quot;));\n  record = reader.readMap();\n</code></pre>\n<p><code>.readMap()</code> will return a single record. You need to call <code>.readMap()</code> repeatedly to get all the records until you get <code>null</code> when it runs to the end (or to the first empty line), e.g.:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, String&gt; values;\n\nwhile ((values = reader.readMap()) != null) {\n\n    // consume the values here\n\n}\n</code></pre>\n<p>The class also has another constructor which allows more customization, e.g.:</p>\n<pre class=\"lang-java prettyprint-override\"><code>CSVReaderHeaderAware reader = new CSVReaderHeaderAware(\n        new InputStreamReader(inputStream),\n        0,      // skipLines\n        parser, // custom parser\n        false,  // keep end of lines\n        true,   // verify reader\n        0,      // multiline limit\n        null    // null for default locale\n);\n</code></pre>\n<p>A possible downside is that since the reader is lazy it does not offer a record count, therefore, if you need to know the total number (for example to display correct progress information), then you'll need to use another reader just for counting lines.</p>\n<p>See also:</p>\n<ul>\n<li><a href=\"https://javadoc.io/doc/com.opencsv/opencsv/latest/com/opencsv/CSVReaderHeaderAwareBuilder.html\" rel=\"nofollow noreferrer\">CSVReaderHeaderAwareBuilder</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2631431,"reputation":712,"user_id":2277286,"accept_rate":85,"display_name":"elkoo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1608102575,"creation_date":1607585268,"answer_id":65230162,"question_id":31414120,"body_markdown":"I had a task to remove several columns from existing csv, example of csv:\r\n\r\n    FirstName, LastName, City, County, Zip\r\n    Steve,Hopkins,London,Greater London,15554\r\n    James,Bond,Vilnius,Vilniaus,03250\r\nI needed only FirstName and LastName columns with values and it is very important that order should be the same - default rd.readMap() does not preserve the order, code for this task:\r\n\r\n        \r\n\r\n            String[] COLUMN_NAMES_TO_REMOVE = new String[]{&quot;&quot;, &quot;City&quot;, &quot;County&quot;, &quot;Zip&quot;};\r\n            CSVReaderHeaderAware rd = new CSVReaderHeaderAware(new StringReader(old.csv));\r\n            CSVWriter writer = new CSVWriter((new FileWriter(new.csv)),\r\n                    CSVWriter.DEFAULT_SEPARATOR, CSVWriter.NO_QUOTE_CHARACTER, CSVWriter.NO_ESCAPE_CHARACTER, CSVWriter.DEFAULT_LINE_END);\r\n    \r\n            // let&#39;s get private field\r\n            Field privateField = CSVReaderHeaderAware.class.getDeclaredField(&quot;headerIndex&quot;);\r\n            privateField.setAccessible(true);\r\n            Map&lt;String, Integer&gt; headerIndex = (Map&lt;String, Integer&gt;) privateField.get(rd);\r\n    \r\n            // do ordering in natural order - 0, 1, 2 ... n\r\n            Map&lt;String, Integer&gt; sortedInNaturalOrder = headerIndex.entrySet().stream()\r\n                    .sorted(Map.Entry.comparingByValue(Comparator.naturalOrder()))\r\n                    .collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue,\r\n                            (oldValue, newValue) -&gt; oldValue, LinkedHashMap::new));\r\n    \r\n            // let&#39;s get headers in natural order\r\n            List&lt;String&gt; headers = sortedInNaturalOrder.keySet().stream().distinct().collect(Collectors.toList());\r\n    \r\n            // let&#39;s remove headers\r\n            List&lt;String&gt; removedColumns = new ArrayList&lt;String&gt;(Arrays.asList(COLUMN_NAMES_TO_REMOVE));\r\n            headers.removeAll(removedColumns);\r\n            // save column names           \r\n            writer.writeNext(headers.toArray(new String[headers.size()]));\r\n       \r\n            List&lt;String&gt; keys = new ArrayList&lt;&gt;();\r\n            Map&lt;String, String&gt; values;\r\n            while ((values = rd.readMap()) != null) {\r\n                for (String key : headers) {\r\n                    keys.add(values.get(key));\r\n                    if (keys.size() == headers.size()) {\r\n                        String[] itemsArray = new String[headers.size()];\r\n                        itemsArray = keys.toArray(itemsArray);\r\n                        // save values                       \r\n                        writer.writeNext(itemsArray);\r\n                        keys.clear();\r\n                    }\r\n                }\r\n            }\r\n            writer.flush();\r\n\r\nOutput:\r\n\r\n    FirstName, LastName\r\n    Steve,Hopkins\r\n    James,Bond\r\n","title":"How to read from particular header in opencsv?","body":"<p>I had a task to remove several columns from existing csv, example of csv:</p>\n<pre><code>FirstName, LastName, City, County, Zip\nSteve,Hopkins,London,Greater London,15554\nJames,Bond,Vilnius,Vilniaus,03250\n</code></pre>\n<p>I needed only FirstName and LastName columns with values and it is very important that order should be the same - default rd.readMap() does not preserve the order, code for this task:</p>\n<pre><code>        String[] COLUMN_NAMES_TO_REMOVE = new String[]{&quot;&quot;, &quot;City&quot;, &quot;County&quot;, &quot;Zip&quot;};\n        CSVReaderHeaderAware rd = new CSVReaderHeaderAware(new StringReader(old.csv));\n        CSVWriter writer = new CSVWriter((new FileWriter(new.csv)),\n                CSVWriter.DEFAULT_SEPARATOR, CSVWriter.NO_QUOTE_CHARACTER, CSVWriter.NO_ESCAPE_CHARACTER, CSVWriter.DEFAULT_LINE_END);\n\n        // let's get private field\n        Field privateField = CSVReaderHeaderAware.class.getDeclaredField(&quot;headerIndex&quot;);\n        privateField.setAccessible(true);\n        Map&lt;String, Integer&gt; headerIndex = (Map&lt;String, Integer&gt;) privateField.get(rd);\n\n        // do ordering in natural order - 0, 1, 2 ... n\n        Map&lt;String, Integer&gt; sortedInNaturalOrder = headerIndex.entrySet().stream()\n                .sorted(Map.Entry.comparingByValue(Comparator.naturalOrder()))\n                .collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue,\n                        (oldValue, newValue) -&gt; oldValue, LinkedHashMap::new));\n\n        // let's get headers in natural order\n        List&lt;String&gt; headers = sortedInNaturalOrder.keySet().stream().distinct().collect(Collectors.toList());\n\n        // let's remove headers\n        List&lt;String&gt; removedColumns = new ArrayList&lt;String&gt;(Arrays.asList(COLUMN_NAMES_TO_REMOVE));\n        headers.removeAll(removedColumns);\n        // save column names           \n        writer.writeNext(headers.toArray(new String[headers.size()]));\n   \n        List&lt;String&gt; keys = new ArrayList&lt;&gt;();\n        Map&lt;String, String&gt; values;\n        while ((values = rd.readMap()) != null) {\n            for (String key : headers) {\n                keys.add(values.get(key));\n                if (keys.size() == headers.size()) {\n                    String[] itemsArray = new String[headers.size()];\n                    itemsArray = keys.toArray(itemsArray);\n                    // save values                       \n                    writer.writeNext(itemsArray);\n                    keys.clear();\n                }\n            }\n        }\n        writer.flush();\n</code></pre>\n<p>Output:</p>\n<pre><code>FirstName, LastName\nSteve,Hopkins\nJames,Bond\n</code></pre>\n"}],"owner":{"account_id":2377481,"reputation":1344,"user_id":2080429,"accept_rate":100,"display_name":"Yashasvi Raj Pant"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25707,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":31414311,"answer_count":5,"score":13,"last_activity_date":1695321682,"creation_date":1436897285,"question_id":31414120,"body_markdown":"I have a csv file. I want to extract particular column from it.For example:\r\nSay, I have csv:\r\n\r\n    id1,caste1,salary,name1\r\n    63,Graham,101153.06,Abraham\r\n    103,Joseph,122451.02,Charlie\r\n    63,Webster,127965.91,Violet\r\n    76,Smith,156150.62,Eric\r\n    97,Moreno,55867.74,Mia\r\n    65,Reynolds,106918.14,Richard\r\n\r\nHow can i use opencsv to read only data from header caste1?","title":"How to read from particular header in opencsv?","body":"<p>I have a csv file. I want to extract particular column from it.For example:\nSay, I have csv:</p>\n\n<pre><code>id1,caste1,salary,name1\n63,Graham,101153.06,Abraham\n103,Joseph,122451.02,Charlie\n63,Webster,127965.91,Violet\n76,Smith,156150.62,Eric\n97,Moreno,55867.74,Mia\n65,Reynolds,106918.14,Richard\n</code></pre>\n\n<p>How can i use opencsv to read only data from header caste1?</p>\n"},{"tags":["java","selenium","selenium-webdriver","webdriverwait"],"answers":[{"tags":[],"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664454985,"creation_date":1664454985,"answer_id":73895664,"question_id":73895498,"body_markdown":"You never know if your client loaded all the possible cookies. Because if you have asynchronous UI each new request might add new cookie or modify existing one. \r\n\r\nSo the better, more reliable and &quot;proper&quot;  approach would be to first of all know which cookies exactly you expect to have. Say you keep the names in `Set&lt;String&gt; cookieNames`.\r\n\r\nThen your wait would look like:\r\n\r\n```java\r\nwebDriverWait.until(\r\n        webDriver -&gt; {\r\n            Set&lt;Cookie&gt; cookies = webDriver.manage().getCookies();\r\n            return cookies.size() == cookieNames.size() &amp;&amp;\r\n                    cookies.stream().allMatch(cookie -&gt; cookieNames.contains(cookie.getName()));\r\n        }\r\n);\r\n```\r\n","title":"Selenium webDriver - wait for cookies and local db cookies in java","body":"<p>You never know if your client loaded all the possible cookies. Because if you have asynchronous UI each new request might add new cookie or modify existing one.</p>\n<p>So the better, more reliable and &quot;proper&quot;  approach would be to first of all know which cookies exactly you expect to have. Say you keep the names in <code>Set&lt;String&gt; cookieNames</code>.</p>\n<p>Then your wait would look like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>webDriverWait.until(\n        webDriver -&gt; {\n            Set&lt;Cookie&gt; cookies = webDriver.manage().getCookies();\n            return cookies.size() == cookieNames.size() &amp;&amp;\n                    cookies.stream().allMatch(cookie -&gt; cookieNames.contains(cookie.getName()));\n        }\n);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3355741,"reputation":438,"user_id":2818711,"display_name":"Marek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664458642,"creation_date":1664458642,"answer_id":73896497,"question_id":73895498,"body_markdown":"or if your frontend is using Angular, you can wait until this script is true (meaning the site is fully loaded) and then can continue with your script for fetching cookies:\r\n\r\n    return window.getAllAngularTestabilities().findIndex(x =&gt; !x.isStable()) === -1","title":"Selenium webDriver - wait for cookies and local db cookies in java","body":"<p>or if your frontend is using Angular, you can wait until this script is true (meaning the site is fully loaded) and then can continue with your script for fetching cookies:</p>\n<pre><code>return window.getAllAngularTestabilities().findIndex(x =&gt; !x.isStable()) === -1\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19757287,"reputation":1,"user_id":14467294,"display_name":"Nebisis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695321409,"creation_date":1695321409,"answer_id":77152830,"question_id":73895498,"body_markdown":"I have experienced many cases where `document.readyState` returns &quot;complete&quot; before the page has visibly been loaded, let alone cookies after loggin in.\r\n\r\nTo check if a cookie exists in the session:\r\n\r\n    driver.manage().getCookieNamed(&quot;cookieName&quot;);\r\n\r\nProblem is that the `Cookie` object returned is **nullable**.\r\n\r\nOptions:\r\n\r\n1. try/catch - try to check if the cookie exists\r\n             - catch `NullPointerException` and try again \r\n\r\n2. create a retryable method that accepts another returning method (Supplier) and evaluates the boolean expression (Predicate) you want met.   *recommended\r\n\r\nFor example:\r\n\r\n      public &lt;T&gt; boolean retryable(Supplier&lt;T&gt; method, Predicate&lt;T&gt; condition, int retries) {\r\n        for (int i = 0; i &lt; retries; i++) {\r\n          T methodReturnValue = method.get();\r\n          if (!condition.test(methodReturnValue) || methodReturnValue == null) {\r\n            // Todo: sleep / wait / try again immediately\r\n          } else {\r\n              return true;\r\n          }\r\n        }\r\n        return false;\r\n      }\r\n\r\n\r\n**Just implicitly waiting without retrying is not recommended as it can waste execution time that builds up for each test using this wait**","title":"Selenium webDriver - wait for cookies and local db cookies in java","body":"<p>I have experienced many cases where <code>document.readyState</code> returns &quot;complete&quot; before the page has visibly been loaded, let alone cookies after loggin in.</p>\n<p>To check if a cookie exists in the session:</p>\n<pre><code>driver.manage().getCookieNamed(&quot;cookieName&quot;);\n</code></pre>\n<p>Problem is that the <code>Cookie</code> object returned is <strong>nullable</strong>.</p>\n<p>Options:</p>\n<ol>\n<li><p>try/catch - try to check if the cookie exists\n- catch <code>NullPointerException</code> and try again</p>\n</li>\n<li><p>create a retryable method that accepts another returning method (Supplier) and evaluates the boolean expression (Predicate) you want met.   *recommended</p>\n</li>\n</ol>\n<p>For example:</p>\n<pre><code>  public &lt;T&gt; boolean retryable(Supplier&lt;T&gt; method, Predicate&lt;T&gt; condition, int retries) {\n    for (int i = 0; i &lt; retries; i++) {\n      T methodReturnValue = method.get();\n      if (!condition.test(methodReturnValue) || methodReturnValue == null) {\n        // Todo: sleep / wait / try again immediately\n      } else {\n          return true;\n      }\n    }\n    return false;\n  }\n</code></pre>\n<p><strong>Just implicitly waiting without retrying is not recommended as it can waste execution time that builds up for each test using this wait</strong></p>\n"}],"owner":{"account_id":11780629,"reputation":365,"user_id":8620369,"display_name":"Maria Dorohin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":385,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1695321409,"creation_date":1664454220,"question_id":73895498,"body_markdown":"I use selenium to get cookies and local db cookies in java.\r\n\r\nif I use following code to wait the side will be ready I don&#39;t get all the cookies: \r\n\r\n    webDriverWait.until(webDriver -&gt; &quot;complete&quot;.equals((JavascriptExecutor) webDriver.executeScript(&quot;return document.readyState&quot;)))\r\n\r\n\r\nI saw that if I wait enough of time eventually I will get all the cookies (regular cookies and userData cookies that saved in local db).\r\n\r\nIs there a way to use webDriverWait to wait until all the cookies will be load?","title":"Selenium webDriver - wait for cookies and local db cookies in java","body":"<p>I use selenium to get cookies and local db cookies in java.</p>\n<p>if I use following code to wait the side will be ready I don't get all the cookies:</p>\n<pre><code>webDriverWait.until(webDriver -&gt; &quot;complete&quot;.equals((JavascriptExecutor) webDriver.executeScript(&quot;return document.readyState&quot;)))\n</code></pre>\n<p>I saw that if I wait enough of time eventually I will get all the cookies (regular cookies and userData cookies that saved in local db).</p>\n<p>Is there a way to use webDriverWait to wait until all the cookies will be load?</p>\n"},{"tags":["java","parsing","assembly","bytecode"],"answers":[{"tags":[],"owner":{"account_id":35502,"reputation":28362,"user_id":100565,"accept_rate":59,"display_name":"MeBigFatGuy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695321048,"creation_date":1695321048,"answer_id":77152791,"question_id":77152392,"body_markdown":"ok, figured out a way.\r\n\r\nCollect all the Labels in a set that you receive thru ```visitLabel```, and then when the instruction of interest happens, save off a copy of the already visited labels, while still collecting labels in the original set.\r\n\r\nWhen you visit a jmp instruction, if the label is in the set of visited labels collected at the time of the instruction of interest, you know it&#39;s a loop.","title":"Finding if the current instruction is in a loop using java&#39;s asm.jar","body":"<p>ok, figured out a way.</p>\n<p>Collect all the Labels in a set that you receive thru <code>visitLabel</code>, and then when the instruction of interest happens, save off a copy of the already visited labels, while still collecting labels in the original set.</p>\n<p>When you visit a jmp instruction, if the label is in the set of visited labels collected at the time of the instruction of interest, you know it's a loop.</p>\n"}],"owner":{"account_id":35502,"reputation":28362,"user_id":100565,"accept_rate":59,"display_name":"MeBigFatGuy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695321048,"creation_date":1695316960,"question_id":77152392,"body_markdown":"Using https://asm.ow2.io/\r\n\r\nI&#39;d like to determine whether the current instruction is inside a loop.\r\n\r\nI&#39;m confused as to how asm does this as, \r\n1) Backward Labels offsets aren&#39;t determined until you hit a statement that branches to them\r\n2) There doesn&#39;t seem to be a way to know the current instruction&#39;s offset\r\n\r\nso you can clearly determine if an instruction precedes or is in a loop, but it could be\r\n\r\n```\r\nstatement in question\r\nfor () {\r\n} // this jump gives you a label with a real offset but you don&#39;t know the statement in question&#39;s offset.\r\n```\r\nWhat am i missing?","title":"Finding if the current instruction is in a loop using java&#39;s asm.jar","body":"<p>Using <a href=\"https://asm.ow2.io/\" rel=\"nofollow noreferrer\">https://asm.ow2.io/</a></p>\n<p>I'd like to determine whether the current instruction is inside a loop.</p>\n<p>I'm confused as to how asm does this as,</p>\n<ol>\n<li>Backward Labels offsets aren't determined until you hit a statement that branches to them</li>\n<li>There doesn't seem to be a way to know the current instruction's offset</li>\n</ol>\n<p>so you can clearly determine if an instruction precedes or is in a loop, but it could be</p>\n<pre><code>statement in question\nfor () {\n} // this jump gives you a label with a real offset but you don't know the statement in question's offset.\n</code></pre>\n<p>What am i missing?</p>\n"},{"tags":["java","spring-boot","feign"],"comments":[{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1695273471,"post_id":77145842,"comment_id":136002884,"body_markdown":"Not sure whether https://stackoverflow.com/questions/60221388/spring-boot-openfeign-java-lang-illegalstateexception-method-has-too-many-body/60271238#60271238 has some helpfull hints","body":"Not sure whether <a href=\"https://stackoverflow.com/questions/60221388/spring-boot-openfeign-java-lang-illegalstateexception-method-has-too-many-body/60271238#60271238\" title=\"spring boot openfeign java lang illegalstateexception method has too many body\">stackoverflow.com/questions/60221388/&hellip;</a> has some helpfull hints"}],"owner":{"account_id":29494909,"reputation":11,"user_id":22603209,"display_name":"Hiluminatu l"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695321032,"creation_date":1695242615,"question_id":77145842,"body_markdown":"Soo, I am using the following api endpoint:\r\n\r\n    @GetMapping(value=&quot;/api/data)\r\n    ResponseEntity&lt;Data&gt; getData(@AuthenticationPrincipal currentAuthenticatedUser, HttpServletRequest request);\r\n\r\nThis endpoint returns the following error when called through feign in a different microservice:\r\n\r\n    &quot;Method has too many Body parameters&quot;.\r\n\r\nAm I missing something? Because I don&#39;t use the ```@RequestBody``` and I don&#39;t use a body when calling my endpoint anyway. So why is this error being thrown?\r\n\r\n\r\nThank you in advance!\r\n\r\nSo what I did was that I upgraded the spring boot version to spring boot 3, and changed the package of HttpServletRequest from javax.servlet.http.HttpServletRequest to jakarta.servlet.http.HttpServletRequest. Before it worked marvelously, but just changing the package of one method property shouldn&#39;t change this thing drastically.","title":"Feign error: Method has too many Body parameters","body":"<p>Soo, I am using the following api endpoint:</p>\n<pre><code>@GetMapping(value=&quot;/api/data)\nResponseEntity&lt;Data&gt; getData(@AuthenticationPrincipal currentAuthenticatedUser, HttpServletRequest request);\n</code></pre>\n<p>This endpoint returns the following error when called through feign in a different microservice:</p>\n<pre><code>&quot;Method has too many Body parameters&quot;.\n</code></pre>\n<p>Am I missing something? Because I don't use the <code>@RequestBody</code> and I don't use a body when calling my endpoint anyway. So why is this error being thrown?</p>\n<p>Thank you in advance!</p>\n<p>So what I did was that I upgraded the spring boot version to spring boot 3, and changed the package of HttpServletRequest from javax.servlet.http.HttpServletRequest to jakarta.servlet.http.HttpServletRequest. Before it worked marvelously, but just changing the package of one method property shouldn't change this thing drastically.</p>\n"},{"tags":["java","android","android-recyclerview","picasso"],"comments":[{"owner":{"account_id":10851412,"reputation":147,"user_id":7979054,"display_name":"Deepak"},"score":0,"creation_date":1695307205,"post_id":77150835,"comment_id":136009493,"body_markdown":"Might be you are recreating that fragment hence try adding that fragment in back stack and when you are coming back to home use instance from back stack\n\n\nyou can check this answer\nhttps://stackoverflow.com/a/18306258/7979054","body":"Might be you are recreating that fragment hence try adding that fragment in back stack and when you are coming back to home use instance from back stack   you can check this answer <a href=\"https://stackoverflow.com/a/18306258/7979054\">stackoverflow.com/a/18306258/7979054</a>"}],"owner":{"account_id":29501111,"reputation":1,"user_id":22608105,"display_name":"Prateek Jangra"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1695307257,"answer_count":0,"score":0,"last_activity_date":1695321002,"creation_date":1695303719,"question_id":77150835,"body_markdown":"I am using fragment to change the App Ui (Ex: Favourite, Home, Setting fragments in the MainActivity).\r\n\r\nHome fragment is responsible for loading the images using recyclerview (Using Picasso library)\r\n\r\nWhen I am switching to different fragment (Home =&gt; Setting) and the switching back to Home fragment then the recyclerview is loading from start.\r\n\r\nProblem: **Doesn&#39;t able to cache the images into storage using Picasso and the recyclerview is showing items from start, I want to show the items where it&#39;s left before switching the fragments.**\r\n\r\n***Please use JAVA language***","title":"RecyclerView Not showing as I am expecting ANDROID STUDIO JAVA","body":"<p>I am using fragment to change the App Ui (Ex: Favourite, Home, Setting fragments in the MainActivity).</p>\n<p>Home fragment is responsible for loading the images using recyclerview (Using Picasso library)</p>\n<p>When I am switching to different fragment (Home =&gt; Setting) and the switching back to Home fragment then the recyclerview is loading from start.</p>\n<p>Problem: <strong>Doesn't able to cache the images into storage using Picasso and the recyclerview is showing items from start, I want to show the items where it's left before switching the fragments.</strong></p>\n<p><em><strong>Please use JAVA language</strong></em></p>\n"},{"tags":["java","impersonation"],"answers":[{"tags":[],"owner":{"account_id":3686166,"reputation":121,"user_id":3069892,"accept_rate":80,"display_name":"CodeJunkie"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1409215441,"creation_date":1409215441,"answer_id":25544483,"question_id":24888258,"body_markdown":"Finally i am able to solve this problem by creating one native C library using JNI.\r\n\r\nNative windows API used are\r\n\r\n     LogonUser : http://msdn.microsoft.com/en-us/library/windows/desktop/aa378184(v=vs.85).aspx\r\n     ImpersonateLoggedOnUser  : http://msdn.microsoft.com/en-us/library/windows/desktop/aa378612(v=vs.85).aspx\r\n     RevertToSelf  :  http://msdn.microsoft.com/en-us/library/windows/desktop/aa379317(v=vs.85).aspx","title":"User impersonation in java","body":"<p>Finally i am able to solve this problem by creating one native C library using JNI.</p>\n\n<p>Native windows API used are</p>\n\n<pre><code> LogonUser : http://msdn.microsoft.com/en-us/library/windows/desktop/aa378184(v=vs.85).aspx\n ImpersonateLoggedOnUser  : http://msdn.microsoft.com/en-us/library/windows/desktop/aa378612(v=vs.85).aspx\n RevertToSelf  :  http://msdn.microsoft.com/en-us/library/windows/desktop/aa379317(v=vs.85).aspx\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29483995,"reputation":1,"user_id":22594331,"display_name":"Vili"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695320922,"creation_date":1695142055,"answer_id":77136486,"question_id":24888258,"body_markdown":"Instead of:\r\n\r\n```java\r\n// Login using different user\r\nIWindowsIdentity identity = prov.logonDomainUser(&quot;abc.jim&quot;,&quot;abc.com&quot;, &quot;Xyz@123&quot;);\r\n```\r\n\r\nI did use:\r\n\r\n```java\r\nIWindowsIdentity identity = prov.logonDomainUserEx(&quot;abc.jim&quot;,&quot;abc.com&quot;,&quot;Xyz@123&quot;,2,0);\r\n```\r\n\r\nThen code on the top of the thread work...","title":"User impersonation in java","body":"<p>Instead of:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Login using different user\nIWindowsIdentity identity = prov.logonDomainUser(&quot;abc.jim&quot;,&quot;abc.com&quot;, &quot;Xyz@123&quot;);\n</code></pre>\n<p>I did use:</p>\n<pre class=\"lang-java prettyprint-override\"><code>IWindowsIdentity identity = prov.logonDomainUserEx(&quot;abc.jim&quot;,&quot;abc.com&quot;,&quot;Xyz@123&quot;,2,0);\n</code></pre>\n<p>Then code on the top of the thread work...</p>\n"}],"owner":{"account_id":3686166,"reputation":121,"user_id":3069892,"accept_rate":80,"display_name":"CodeJunkie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6701,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":25544483,"answer_count":2,"score":5,"last_activity_date":1695320922,"creation_date":1406034405,"question_id":24888258,"body_markdown":"Using impersonation I tried to read a file located on the network in a shared folder. But I got the error &quot;Access is denied&quot;. My source code is given below ...\r\n\r\nThis works fine for local resources. But gives error when access network resources. line\r\n\\\\sever\\shared\\abc.txt\r\n\r\n        // Create a provider that implements Windows authentication functions\r\n        IWindowsAuthProvider prov = new WindowsAuthProviderImpl();\r\n\r\n        // Login using different user\r\n        IWindowsIdentity identity = prov.logonDomainUser(&quot;abc.jim&quot;,&quot;abc.com&quot;, &quot;Xyz@123&quot;);\r\n        IWindowsImpersonationContext context = identity.impersonate();\r\n\r\n        // Reading file using new user\r\n        readFile(); // It gives error - Access is denied\r\n\r\n        // Revert back to original logged user \r\n        context.revertToSelf();\r\n\r\n        readFile(); // It is working properly\r\n\r\n        // Cleanup the Windows identity\r\n        identity.dispose();","title":"User impersonation in java","body":"<p>Using impersonation I tried to read a file located on the network in a shared folder. But I got the error \"Access is denied\". My source code is given below ...</p>\n\n<p>This works fine for local resources. But gives error when access network resources. line\n\\sever\\shared\\abc.txt</p>\n\n<pre><code>    // Create a provider that implements Windows authentication functions\n    IWindowsAuthProvider prov = new WindowsAuthProviderImpl();\n\n    // Login using different user\n    IWindowsIdentity identity = prov.logonDomainUser(\"abc.jim\",\"abc.com\", \"Xyz@123\");\n    IWindowsImpersonationContext context = identity.impersonate();\n\n    // Reading file using new user\n    readFile(); // It gives error - Access is denied\n\n    // Revert back to original logged user \n    context.revertToSelf();\n\n    readFile(); // It is working properly\n\n    // Cleanup the Windows identity\n    identity.dispose();\n</code></pre>\n"},{"tags":["java","itext7"],"answers":[{"tags":[],"owner":{"account_id":8930620,"reputation":2388,"user_id":6663375,"display_name":"Uladzimir Asipchuk"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1559655555,"creation_date":1559655555,"answer_id":56445126,"question_id":56444723,"body_markdown":"In a nutshell, `PdfCanvas` is designed for low-level operations and `Canvas` - for high-level ones.\r\n\r\nYou want to write rectangles / pathes / text and any other operators to the content stream of a pdf? Use the `PdfCanvas` instance.\r\n\r\nYou want to add high-level iText objects (`Paragraph`s, `Table`s, `List`s, ...) to your `PdfCanvas`? Use the `Canvas` instance.\r\n\r\n**PdfCanvas example**\r\n\r\n            PdfDocument pdfDoc = new PdfDocument(new PdfWriter(destinationFolder + &quot;simpleCanvas.pdf&quot;));\r\n\r\n        PdfPage page1 = pdfDoc.addNewPage();\r\n\r\n        PdfCanvas canvas = new PdfCanvas(page1);\r\n        canvas.rectangle(100, 100, 100, 100).fill();\r\n\r\n        pdfDoc.close();\r\n\r\nThe resultant pdf: [![enter image description here][1]][1]\r\n\r\n\r\n**Canvas example**\r\n\r\n                PdfDocument pdf = new PdfDocument(new PdfWriter(out));\r\n\r\n        PdfPage page = pdf.addNewPage();\r\n        PdfCanvas pdfCanvas = new PdfCanvas(page);\r\n\r\n        Rectangle rectangle = new Rectangle(100, 100, 100, 100);\r\n\r\n        Canvas canvas = new Canvas(pdfCanvas, pdf, rectangle);\r\n        canvas.add(new Paragraph(&quot;Hello World&quot;));\r\n\r\n        canvas.close();\r\n\r\n        pdf.close();\r\n\r\n\r\nThe resultant pdf: [![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/UOddC.png\r\n  [2]: https://i.stack.imgur.com/b8Uym.png","title":"Difference between PdfCanvas and Canvas in itext 7","body":"<p>In a nutshell, <code>PdfCanvas</code> is designed for low-level operations and <code>Canvas</code> - for high-level ones.</p>\n\n<p>You want to write rectangles / pathes / text and any other operators to the content stream of a pdf? Use the <code>PdfCanvas</code> instance.</p>\n\n<p>You want to add high-level iText objects (<code>Paragraph</code>s, <code>Table</code>s, <code>List</code>s, ...) to your <code>PdfCanvas</code>? Use the <code>Canvas</code> instance.</p>\n\n<p><strong>PdfCanvas example</strong></p>\n\n<pre><code>        PdfDocument pdfDoc = new PdfDocument(new PdfWriter(destinationFolder + \"simpleCanvas.pdf\"));\n\n    PdfPage page1 = pdfDoc.addNewPage();\n\n    PdfCanvas canvas = new PdfCanvas(page1);\n    canvas.rectangle(100, 100, 100, 100).fill();\n\n    pdfDoc.close();\n</code></pre>\n\n<p>The resultant pdf: <a href=\"https://i.stack.imgur.com/UOddC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UOddC.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>Canvas example</strong></p>\n\n<pre><code>            PdfDocument pdf = new PdfDocument(new PdfWriter(out));\n\n    PdfPage page = pdf.addNewPage();\n    PdfCanvas pdfCanvas = new PdfCanvas(page);\n\n    Rectangle rectangle = new Rectangle(100, 100, 100, 100);\n\n    Canvas canvas = new Canvas(pdfCanvas, pdf, rectangle);\n    canvas.add(new Paragraph(\"Hello World\"));\n\n    canvas.close();\n\n    pdf.close();\n</code></pre>\n\n<p>The resultant pdf: <a href=\"https://i.stack.imgur.com/b8Uym.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/b8Uym.png\" alt=\"enter image description here\"></a></p>\n"}],"owner":{"account_id":13478230,"reputation":90,"user_id":9724395,"display_name":"Vakul Gupta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5878,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"closed_date":1559700551,"accepted_answer_id":56445126,"answer_count":1,"score":1,"last_activity_date":1695320791,"creation_date":1559654170,"question_id":56444723,"body_markdown":"What is the difference between the PdfCanvas and Canvas classes in the iText7 library? When should I use each one of them?","title":"Difference between PdfCanvas and Canvas in itext 7","body":"<p>What is the difference between the PdfCanvas and Canvas classes in the iText7 library? When should I use each one of them?</p>\n"},{"tags":["java","pdfbox"],"comments":[{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":1,"creation_date":1695354056,"post_id":77152678,"comment_id":136016059,"body_markdown":"Creating a checkbox is more complex, have a look at the `CreateCheckBox.java` code from the source code download.","body":"Creating a checkbox is more complex, have a look at the <code>CreateCheckBox.java</code> code from the source code download."},{"owner":{"account_id":14961660,"reputation":1403,"user_id":10801227,"display_name":"John"},"score":0,"creation_date":1695366339,"post_id":77152678,"comment_id":136017305,"body_markdown":"@TilmanHausherr I saw this code, but it doesn&#39;t explain how to add kids&#39; widgets to this ```Checkbox``` field. If I try to create another widget and add it like shown in my example, I see only one checkbox, but in the pdf debugger I see two widgets.","body":"@TilmanHausherr I saw this code, but it doesn&#39;t explain how to add kids&#39; widgets to this <code>Checkbox</code> field. If I try to create another widget and add it like shown in my example, I see only one checkbox, but in the pdf debugger I see two widgets."},{"owner":{"account_id":14961660,"reputation":1403,"user_id":10801227,"display_name":"John"},"score":0,"creation_date":1695366429,"post_id":77152678,"comment_id":136017323,"body_markdown":"@TilmanHausherr are you saying about this one? https://github.com/apache/pdfbox/blob/trunk/examples/src/main/java/org/apache/pdfbox/examples/interactive/form/CreateCheckBox.java","body":"@TilmanHausherr are you saying about this one? <a href=\"https://github.com/apache/pdfbox/blob/trunk/examples/src/main/java/org/apache/pdfbox/examples/interactive/form/CreateCheckBox.java\" rel=\"nofollow noreferrer\">github.com/apache/pdfbox/blob/trunk/examples/src/main/java/o&zwnj;&#8203;rg/&hellip;</a>"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1695376659,"post_id":77152678,"comment_id":136019316,"body_markdown":"Yes, that one, or the one for 2.0 https://svn.apache.org/viewvc/pdfbox/branches/2.0/examples/src/main/java/org/apache/pdfbox/examples/interactive/form/CreateCheckBox.java?view=markup","body":"Yes, that one, or the one for 2.0 <a href=\"https://svn.apache.org/viewvc/pdfbox/branches/2.0/examples/src/main/java/org/apache/pdfbox/examples/interactive/form/CreateCheckBox.java?view=markup\" rel=\"nofollow noreferrer\">svn.apache.org/viewvc/pdfbox/branches/2.0/examples/src/main/&zwnj;&#8203;&hellip;</a>"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1695376738,"post_id":77152678,"comment_id":136019330,"body_markdown":"The difference for you is that field != widget, so you&#39;d have to create the widgets separately and set them to the field instead of `checkbox.getWidgets().get(0)`","body":"The difference for you is that field != widget, so you&#39;d have to create the widgets separately and set them to the field instead of <code>checkbox.getWidgets().get(0)</code>"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":1,"creation_date":1695377264,"post_id":77152678,"comment_id":136019429,"body_markdown":"See the CreateMultiWidgetsForm.java example on how to have several widgets for 1 annotation","body":"See the CreateMultiWidgetsForm.java example on how to have several widgets for 1 annotation"}],"owner":{"account_id":14961660,"reputation":1403,"user_id":10801227,"display_name":"John"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695320047,"creation_date":1695320047,"question_id":77152678,"body_markdown":"I need to create several checkbox buttons with the same name. The first checkbox should be placed on the first page, and the second one should be placed on the second page. When I pick up one of them, the second must be picked up too.&lt;br/&gt; \r\nI use the PDFBox 2.0.29 version.&lt;br/&gt;\r\nI try to do it the following way:\r\n```\r\npublic void addCheckbox(String name) {\r\n    PDField field = getField(&quot;checkbox1&quot;);\r\n    boolean isOld = true;\r\n    if (field == null) {\r\n        isOld = false;\r\n        field = new PDCheckbox(acroForm);\r\n        field.setPartialName(name));\r\n        acroForm.getFields().add(field);\r\n    }\r\n    PDAnnotationWidget widget = new PDAnnotationWidget();\r\n    widget.setPage(page);\r\n    ...\r\n    PDAppearanceDictionary appearance = new PDAppearanceDictionary();\r\n    widget.setAppearance(appearance);\r\n    if (isOld) {\r\n        List&lt;PDAnnotationWidget&gt; widgets = field.getWidgets();\r\n        widgets.add(widget);\r\n        ((PDTerminalField) field).setWidgets(widgets);\r\n    }\r\n    page.getAnnotations().add(widget);\r\n}\r\n\r\npublic PDField getField(String name) {\r\n    for (PDField item : acroForm.getFields()) {\r\n        if (item.getFullyQualifiedName().equals(name)) {\r\n            return item;\r\n        }\r\n    }\r\n    return null;\r\n}\r\n```\r\nbut I don&#39;t see my checkboxes on the PDF document. Can anyone help me to add these ones?","title":"How to create checkbox fields with the same name","body":"<p>I need to create several checkbox buttons with the same name. The first checkbox should be placed on the first page, and the second one should be placed on the second page. When I pick up one of them, the second must be picked up too.<br/>\nI use the PDFBox 2.0.29 version.<br/>\nI try to do it the following way:</p>\n<pre><code>public void addCheckbox(String name) {\n    PDField field = getField(&quot;checkbox1&quot;);\n    boolean isOld = true;\n    if (field == null) {\n        isOld = false;\n        field = new PDCheckbox(acroForm);\n        field.setPartialName(name));\n        acroForm.getFields().add(field);\n    }\n    PDAnnotationWidget widget = new PDAnnotationWidget();\n    widget.setPage(page);\n    ...\n    PDAppearanceDictionary appearance = new PDAppearanceDictionary();\n    widget.setAppearance(appearance);\n    if (isOld) {\n        List&lt;PDAnnotationWidget&gt; widgets = field.getWidgets();\n        widgets.add(widget);\n        ((PDTerminalField) field).setWidgets(widgets);\n    }\n    page.getAnnotations().add(widget);\n}\n\npublic PDField getField(String name) {\n    for (PDField item : acroForm.getFields()) {\n        if (item.getFullyQualifiedName().equals(name)) {\n            return item;\n        }\n    }\n    return null;\n}\n</code></pre>\n<p>but I don't see my checkboxes on the PDF document. Can anyone help me to add these ones?</p>\n"},{"tags":["java","html","spring-boot","forms","post"],"comments":[{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1695317899,"post_id":77152424,"comment_id":136011790,"body_markdown":"&quot;I tried some scripts in js&quot; You mean Java I think, not JavaScript. You wouldn&#39;t be handling a POST request in JavaScript unless you were using node.js","body":"&quot;I tried some scripts in js&quot; You mean Java I think, not JavaScript. You wouldn&#39;t be handling a POST request in JavaScript unless you were using node.js"},{"owner":{"account_id":29256442,"reputation":11,"user_id":22414533,"display_name":"GPPiotr"},"score":0,"creation_date":1695319946,"post_id":77152424,"comment_id":136012182,"body_markdown":"I guess I already solved it by &lt;script&gt;. Right now I have second problem I don`t know how to display info on html from JSON. Do You maybe know how to solve it?","body":"I guess I already solved it by &lt;script&gt;. Right now I have second problem I don`t know how to display info on html from JSON. Do You maybe know how to solve it?"},{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":1,"creation_date":1695320325,"post_id":77152424,"comment_id":136012261,"body_markdown":"If you&#39;ve solved your problem you should either post your answer (if you think it might be helpful for others) or delete your question. After that, you can post your new question on SO, however a problem like &quot;I don&#39;t know how to display info on html from JSON&quot; is very broad and may not be received very well.","body":"If you&#39;ve solved your problem you should either post your answer (if you think it might be helpful for others) or delete your question. After that, you can post your new question on SO, however a problem like &quot;I don&#39;t know how to display info on html from JSON&quot; is very broad and may not be received very well."},{"owner":{"account_id":10770525,"reputation":526,"user_id":7924110,"display_name":"Kenany"},"score":0,"creation_date":1695325658,"post_id":77152424,"comment_id":136013170,"body_markdown":"You should use Javascript to solve your problem even to display JSON into Html. Follow that link to learn about DOM manipulation:   https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Client-side_web_APIs/Manipulating_documents","body":"You should use Javascript to solve your problem even to display JSON into Html. Follow that link to learn about DOM manipulation:   <a href=\"https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Client-side_web_APIs/Manipulating_documents\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Learn/JavaScript/&hellip;</a>"},{"owner":{"account_id":29256442,"reputation":11,"user_id":22414533,"display_name":"GPPiotr"},"score":0,"creation_date":1695399139,"post_id":77152424,"comment_id":136023924,"body_markdown":"@Kenany thanks for answer. I will check this link","body":"@Kenany thanks for answer. I will check this link"}],"owner":{"account_id":29256442,"reputation":11,"user_id":22414533,"display_name":"GPPiotr"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695317745,"creation_date":1695317300,"question_id":77152424,"body_markdown":"Could You help me with POST method in my HTML? Okay so I have a localhost:8080/create-your-package with form and text inputs with labels. I have too a second endpoint on localhost:8080/create-package and this endpoint takes as argument Object of My type Package(all the variables that my form have). How can I take those values from input and create from them a new Object of Package and send it as POST method into create-package?\r\n\r\n\r\nmy Package \r\n\r\n\r\n```\r\npackage com.courier.application.model;\r\n\r\nimport jakarta.validation.Valid;\r\nimport lombok.*;\r\nimport org.bson.types.ObjectId;\r\nimport org.springframework.data.annotation.Id;\r\nimport org.springframework.data.mongodb.core.mapping.Document;\r\n\r\n@Document(collection = &quot;packages&quot;)\r\n@Data\r\n@AllArgsConstructor\r\npublic class Package {\r\n    @Id\r\n    private ObjectId packageId;\r\n    @Valid\r\n    private Point startingPoint;\r\n    @Valid\r\n    private Point destinationPoint;\r\n    private String expectedShippingTime;\r\n    private String trackingCode;\r\n}\r\n```\r\n\r\nPoint Object from Package Class\r\n\r\n\r\n```\r\npackage com.courier.application.model;\r\n\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Data;\r\n\r\nimport jakarta.validation.constraints.Size;\r\nimport jakarta.validation.constraints.NotBlank;\r\n\r\n@Data\r\n@AllArgsConstructor\r\npublic class Point {\r\n    @NotBlank\r\n    @Size(min = 2, max = 25)\r\n    private String city;\r\n    @NotBlank\r\n    @Size(min = 2, max = 25)\r\n    private String street;\r\n    @NotBlank\r\n    @Size(min = 1, max = 7)\r\n    private String apartment;\r\n    @NotBlank\r\n    @Size(min = 3, max = 7)\r\n    private String postalCode;\r\n}\r\n```\r\n\r\n\r\nmy HTML\r\n\r\n\r\n```\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html lang=&quot;pl&quot;&gt;\r\n&lt;head&gt;\r\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;/css/package-create.css&quot;&gt;\r\n    &lt;title&gt;PaczkaTrack - stw&#243;rz paczk&lt;/title&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n&lt;h1&gt;Formularz paczki&lt;/h1&gt;\r\n&lt;form action=&quot;http://localhost:8080/create-package&quot; method=&quot;POST&quot;&gt;\r\n    &lt;h2&gt;Nadawca&lt;/h2&gt;\r\n    &lt;label for=&quot;startingPoint.city&quot;&gt;Miasto&lt;/label&gt;\r\n    &lt;input type=&quot;text&quot; id=&quot;startingPoint.city&quot; name=&quot;startingPoint.city&quot; required&gt;\r\n\r\n    &lt;label for=&quot;startingPoint.street&quot;&gt;Ulica&lt;/label&gt;\r\n    &lt;input type=&quot;text&quot; id=&quot;startingPoint.street&quot; name=&quot;startingPoint.street&quot; required&gt;\r\n\r\n    &lt;label for=&quot;startingPoint.apartment&quot;&gt;Apartment&lt;/label&gt;\r\n    &lt;input type=&quot;text&quot; id=&quot;startingPoint.apartment&quot; name=&quot;startingPoint.apartment&quot; required&gt;\r\n\r\n    &lt;label for=&quot;startingPoint.postalCode&quot;&gt;Kod&lt;/label&gt;\r\n    &lt;input type=&quot;text&quot; id=&quot;startingPoint.postalCode&quot; name=&quot;startingPoint.postalCode&quot; required&gt;\r\n\r\n    &lt;h2&gt;Odbiorca&lt;/h2&gt;\r\n\r\n    &lt;label for=&quot;destinationPoint.city&quot;&gt;Miasto&lt;/label&gt;\r\n    &lt;input type=&quot;text&quot; id=&quot;destinationPoint.city&quot; name=&quot;destinationPoint.city&quot; required&gt;\r\n\r\n    &lt;label for=&quot;destinationPoint.street&quot;&gt;Ulica&lt;/label&gt;\r\n    &lt;input type=&quot;text&quot; id=&quot;destinationPoint.street&quot; name=&quot;destinationPoint.street&quot; required&gt;\r\n\r\n    &lt;label for=&quot;destinationPoint.apartment&quot;&gt;Apartment&lt;/label&gt;\r\n    &lt;input type=&quot;text&quot; id=&quot;destinationPoint.apartment&quot; name=&quot;destinationPoint.apartment&quot; required&gt;\r\n\r\n    &lt;label for=&quot;destinationPoint.postalCode&quot;&gt;Kod&lt;/label&gt;\r\n    &lt;input type=&quot;text&quot; id=&quot;destinationPoint.postalCode&quot; name=&quot;destinationPoint.postalCode&quot; required&gt;\r\n\r\n    &lt;input type=&quot;submit&quot; value=&quot;Dodaj pake!&quot;&gt;\r\n&lt;/form&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\n\r\nmy Controller with create-package\r\n\r\n\r\n```\r\npackage com.courier.application.controller;\r\n\r\nimport com.courier.application.error.PackageNotFoundException;\r\nimport com.courier.application.error.PackageSentToWrongAddressException;\r\nimport com.courier.application.model.Package;\r\nimport com.courier.application.service.PackageService;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.validation.annotation.Validated;\r\nimport org.springframework.web.bind.annotation.*;\r\n\r\nimport jakarta.validation.Valid;\r\nimport java.util.Optional;\r\n\r\n@RestController\r\n@Validated\r\npublic class PackageController {\r\n\r\n    @Autowired\r\n    PackageService packageService;\r\n\r\n    @GetMapping(&quot;/find-package&quot;)\r\n    public Optional&lt;Package&gt; findPackageByTrackingCode(String trackingCode) throws PackageNotFoundException {\r\n        return packageService.findByTrackingCode(trackingCode);\r\n    }\r\n\r\n    @PostMapping(&quot;/create-package&quot;)\r\n    public Package createPackage(@Valid @RequestBody Package createdPackage) throws PackageSentToWrongAddressException {\r\n        return packageService.saveCreatedPackage(createdPackage);\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\nI tried some scripts in js but none of them worked. How Can I solve my problem?","title":"POST method from input HTML to spring boot","body":"<p>Could You help me with POST method in my HTML? Okay so I have a localhost:8080/create-your-package with form and text inputs with labels. I have too a second endpoint on localhost:8080/create-package and this endpoint takes as argument Object of My type Package(all the variables that my form have). How can I take those values from input and create from them a new Object of Package and send it as POST method into create-package?</p>\n<p>my Package</p>\n<pre><code>package com.courier.application.model;\n\nimport jakarta.validation.Valid;\nimport lombok.*;\nimport org.bson.types.ObjectId;\nimport org.springframework.data.annotation.Id;\nimport org.springframework.data.mongodb.core.mapping.Document;\n\n@Document(collection = &quot;packages&quot;)\n@Data\n@AllArgsConstructor\npublic class Package {\n    @Id\n    private ObjectId packageId;\n    @Valid\n    private Point startingPoint;\n    @Valid\n    private Point destinationPoint;\n    private String expectedShippingTime;\n    private String trackingCode;\n}\n</code></pre>\n<p>Point Object from Package Class</p>\n<pre><code>package com.courier.application.model;\n\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\n\nimport jakarta.validation.constraints.Size;\nimport jakarta.validation.constraints.NotBlank;\n\n@Data\n@AllArgsConstructor\npublic class Point {\n    @NotBlank\n    @Size(min = 2, max = 25)\n    private String city;\n    @NotBlank\n    @Size(min = 2, max = 25)\n    private String street;\n    @NotBlank\n    @Size(min = 1, max = 7)\n    private String apartment;\n    @NotBlank\n    @Size(min = 3, max = 7)\n    private String postalCode;\n}\n</code></pre>\n<p>my HTML</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;pl&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;/css/package-create.css&quot;&gt;\n    &lt;title&gt;PaczkaTrack - stwrz paczk&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;h1&gt;Formularz paczki&lt;/h1&gt;\n&lt;form action=&quot;http://localhost:8080/create-package&quot; method=&quot;POST&quot;&gt;\n    &lt;h2&gt;Nadawca&lt;/h2&gt;\n    &lt;label for=&quot;startingPoint.city&quot;&gt;Miasto&lt;/label&gt;\n    &lt;input type=&quot;text&quot; id=&quot;startingPoint.city&quot; name=&quot;startingPoint.city&quot; required&gt;\n\n    &lt;label for=&quot;startingPoint.street&quot;&gt;Ulica&lt;/label&gt;\n    &lt;input type=&quot;text&quot; id=&quot;startingPoint.street&quot; name=&quot;startingPoint.street&quot; required&gt;\n\n    &lt;label for=&quot;startingPoint.apartment&quot;&gt;Apartment&lt;/label&gt;\n    &lt;input type=&quot;text&quot; id=&quot;startingPoint.apartment&quot; name=&quot;startingPoint.apartment&quot; required&gt;\n\n    &lt;label for=&quot;startingPoint.postalCode&quot;&gt;Kod&lt;/label&gt;\n    &lt;input type=&quot;text&quot; id=&quot;startingPoint.postalCode&quot; name=&quot;startingPoint.postalCode&quot; required&gt;\n\n    &lt;h2&gt;Odbiorca&lt;/h2&gt;\n\n    &lt;label for=&quot;destinationPoint.city&quot;&gt;Miasto&lt;/label&gt;\n    &lt;input type=&quot;text&quot; id=&quot;destinationPoint.city&quot; name=&quot;destinationPoint.city&quot; required&gt;\n\n    &lt;label for=&quot;destinationPoint.street&quot;&gt;Ulica&lt;/label&gt;\n    &lt;input type=&quot;text&quot; id=&quot;destinationPoint.street&quot; name=&quot;destinationPoint.street&quot; required&gt;\n\n    &lt;label for=&quot;destinationPoint.apartment&quot;&gt;Apartment&lt;/label&gt;\n    &lt;input type=&quot;text&quot; id=&quot;destinationPoint.apartment&quot; name=&quot;destinationPoint.apartment&quot; required&gt;\n\n    &lt;label for=&quot;destinationPoint.postalCode&quot;&gt;Kod&lt;/label&gt;\n    &lt;input type=&quot;text&quot; id=&quot;destinationPoint.postalCode&quot; name=&quot;destinationPoint.postalCode&quot; required&gt;\n\n    &lt;input type=&quot;submit&quot; value=&quot;Dodaj pake!&quot;&gt;\n&lt;/form&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>my Controller with create-package</p>\n<pre><code>package com.courier.application.controller;\n\nimport com.courier.application.error.PackageNotFoundException;\nimport com.courier.application.error.PackageSentToWrongAddressException;\nimport com.courier.application.model.Package;\nimport com.courier.application.service.PackageService;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.validation.annotation.Validated;\nimport org.springframework.web.bind.annotation.*;\n\nimport jakarta.validation.Valid;\nimport java.util.Optional;\n\n@RestController\n@Validated\npublic class PackageController {\n\n    @Autowired\n    PackageService packageService;\n\n    @GetMapping(&quot;/find-package&quot;)\n    public Optional&lt;Package&gt; findPackageByTrackingCode(String trackingCode) throws PackageNotFoundException {\n        return packageService.findByTrackingCode(trackingCode);\n    }\n\n    @PostMapping(&quot;/create-package&quot;)\n    public Package createPackage(@Valid @RequestBody Package createdPackage) throws PackageSentToWrongAddressException {\n        return packageService.saveCreatedPackage(createdPackage);\n    }\n}\n\n</code></pre>\n<p>I tried some scripts in js but none of them worked. How Can I solve my problem?</p>\n"},{"tags":["java","regex"],"answers":[{"tags":[],"owner":{"account_id":412598,"reputation":43470,"user_id":785745,"accept_rate":71,"display_name":"Kendall Frey"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1340822529,"creation_date":1340822177,"answer_id":11232855,"question_id":11232801,"body_markdown":"Use the following regex, and get a list of all matches. That will be what you are looking for.\r\n\r\n    \\d+|\\D+\r\n\r\nIn Java, I think the code would look something like this:\r\n\r\n    Matcher matcher = Pattern.compile(&quot;\\\\d+|\\\\D+&quot;).matcher(theString);\r\n    while (matcher.find())\r\n    {\r\n        // append matcher.group() to your list\r\n    }","title":"Regex split numbers and letter groups without spaces","body":"<p>Use the following regex, and get a list of all matches. That will be what you are looking for.</p>\n\n<pre><code>\\d+|\\D+\n</code></pre>\n\n<p>In Java, I think the code would look something like this:</p>\n\n<pre><code>Matcher matcher = Pattern.compile(\"\\\\d+|\\\\D+\").matcher(theString);\nwhile (matcher.find())\n{\n    // append matcher.group() to your list\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1695317378,"creation_date":1340823281,"answer_id":11233149,"question_id":11232801,"body_markdown":"You can also use &quot;[look around][1]&quot; mechanism in regex describing where you want to `split` your text:\r\n\r\n\tString stringToSplit = &quot;11E12C108N&quot;;\r\n\tString[] tokens = stringToSplit .split(&quot;(?&lt;=\\\\d)(?=\\\\D)|(?=\\\\d)(?&lt;=\\\\D)&quot;);\r\n\tSystem.out.println(Arrays.toString(tokens));\r\n\r\noutput: `[11, E, 12, C, 108, N]`\r\n\r\nIdea is to split in places which are between digit (`\\d`) and non-digit (`\\D`). In other words it is place (empty string) which have:\r\n\r\n- digit before `(?&lt;=\\d)` and non-digit after it `(?=\\D)`\r\n\r\nOR\r\n- non-digit before `(?&lt;=\\D)` and digit after it `(?=\\d)`\r\n\r\nMore info about `(?&lt;=..)` and `(?=..)` (and few more) you can find at http://www.regular-expressions.info/lookaround.html\r\n\r\n\r\n  [1]: https://www.regular-expressions.info/lookaround.html","title":"Regex split numbers and letter groups without spaces","body":"<p>You can also use &quot;<a href=\"https://www.regular-expressions.info/lookaround.html\" rel=\"nofollow noreferrer\">look around</a>&quot; mechanism in regex describing where you want to <code>split</code> your text:</p>\n<pre><code>String stringToSplit = &quot;11E12C108N&quot;;\nString[] tokens = stringToSplit .split(&quot;(?&lt;=\\\\d)(?=\\\\D)|(?=\\\\d)(?&lt;=\\\\D)&quot;);\nSystem.out.println(Arrays.toString(tokens));\n</code></pre>\n<p>output: <code>[11, E, 12, C, 108, N]</code></p>\n<p>Idea is to split in places which are between digit (<code>\\d</code>) and non-digit (<code>\\D</code>). In other words it is place (empty string) which have:</p>\n<ul>\n<li>digit before <code>(?&lt;=\\d)</code> and non-digit after it <code>(?=\\D)</code></li>\n</ul>\n<p>OR</p>\n<ul>\n<li>non-digit before <code>(?&lt;=\\D)</code> and digit after it <code>(?=\\d)</code></li>\n</ul>\n<p>More info about <code>(?&lt;=..)</code> and <code>(?=..)</code> (and few more) you can find at <a href=\"http://www.regular-expressions.info/lookaround.html\" rel=\"nofollow noreferrer\">http://www.regular-expressions.info/lookaround.html</a></p>\n"}],"owner":{"account_id":1003423,"reputation":322,"user_id":1017740,"accept_rate":71,"display_name":"Steve C"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26207,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":11232855,"answer_count":2,"score":13,"last_activity_date":1695317378,"creation_date":1340821972,"question_id":11232801,"body_markdown":"If I have a string like &quot;11E12C108N&quot; which is a concatenation of letter groups and digit groups, how do I split them without a delimiter space character inbetween?\r\n\r\nFor example, I want the resulting split to be:\r\n\r\n    tokens[0] = &quot;11&quot;\r\n    tokens[1] = &quot;E&quot;\r\n    tokens[2] = &quot;12&quot;\r\n    tokens[3] = &quot;C&quot;\r\n    tokens[4] = &quot;108&quot;\r\n    tokens[5] = &quot;N&quot;\r\n\r\nI have this right now.\r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tString stringToSplit = &quot;11E12C108N&quot;;\r\n\t\t\r\n\t\tPattern pattern = Pattern.compile(&quot;\\\\d+\\\\D+&quot;);\r\n\t\tMatcher matcher = pattern.matcher(stringToSplit);\r\n\t\t\r\n\t\twhile (matcher.find()) {\r\n\t\t\tSystem.out.println(matcher.group());\r\n\t\t}\r\n\t}\r\n\r\nWhich gives me:\r\n\r\n    11E\r\n    12C\r\n    108N\r\n\r\nCan I make the original regex do a complete split in one go? Instead of having to run the regex again on the intermediate tokens?","title":"Regex split numbers and letter groups without spaces","body":"<p>If I have a string like \"11E12C108N\" which is a concatenation of letter groups and digit groups, how do I split them without a delimiter space character inbetween?</p>\n\n<p>For example, I want the resulting split to be:</p>\n\n<pre><code>tokens[0] = \"11\"\ntokens[1] = \"E\"\ntokens[2] = \"12\"\ntokens[3] = \"C\"\ntokens[4] = \"108\"\ntokens[5] = \"N\"\n</code></pre>\n\n<p>I have this right now.</p>\n\n<pre><code>public static void main(String[] args) {\n\n    String stringToSplit = \"11E12C108N\";\n\n    Pattern pattern = Pattern.compile(\"\\\\d+\\\\D+\");\n    Matcher matcher = pattern.matcher(stringToSplit);\n\n    while (matcher.find()) {\n        System.out.println(matcher.group());\n    }\n}\n</code></pre>\n\n<p>Which gives me:</p>\n\n<pre><code>11E\n12C\n108N\n</code></pre>\n\n<p>Can I make the original regex do a complete split in one go? Instead of having to run the regex again on the intermediate tokens?</p>\n"},{"tags":["java","encryption","cryptography","aes"],"comments":[{"owner":{"account_id":899926,"reputation":5112,"user_id":1820553,"display_name":"kelalaka"},"score":0,"creation_date":1695313184,"post_id":77151365,"comment_id":136010845,"body_markdown":"Ok. I read falsly. Big-endian Little-endian.","body":"Ok. I read falsly. Big-endian Little-endian."}],"owner":{"account_id":28954964,"reputation":35,"user_id":22178719,"display_name":"schegga_BC"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1695317321,"creation_date":1695307793,"question_id":77151365,"body_markdown":"I am trying to implement an encryption function that uses the AES T-Tables implementation.\r\n\r\nI am quite sure that my roundKeys are correct.\r\nI also know that the initial round key addition in the following code is correct. \r\n\r\nSo there must be an error in the main rounds, but i am not sure what went wrong. I have narrowed it down to the following problems:\r\n\r\n1. The logic I use to lookup in the t-tables in each round: \r\n\r\n```\r\ntemp[i] = T0[(state[i] &gt;&gt;&gt; 24) &amp; 0xFF] ^\r\n                        T1[(state[(i + 3) % 4] &gt;&gt;&gt; 16) &amp; 0xFF] ^\r\n                        T2[(state[(i + 2) % 4] &gt;&gt;&gt; 8) &amp; 0xFF] ^\r\n                        T3[state[(i + 1) % 4] &amp; 0xFF] ^ roundKeys[round][i]; \r\n``` \r\nThat seems correct? I followed the descripton in [Rijnadel Proposel on page 18](https://csrc.nist.gov/csrc/media/projects/cryptographic-standards-and-guidelines/documents/aes-development/rijndael-ammended.pdf). \r\n\r\n2. Maybe I am using the wrong t-tables for looking up. I am not sure which ones are correct. I found T-Tables in the [bouncy castle implementation](https://github.com/bcgit/bc-java/blob/main/core/src/main/java/org/bouncycastle/crypto/engines/AESFastEngine.java) and then i found some different tables in the [Go implementation](https://go.dev/src/crypto/aes/const.go).\r\n\r\nThey are both different, but i have tried my code with both and it doesnt work.\r\nWhich of these tables are the correct ones?\r\n\r\n\r\n```\r\npublic byte[] blockEncryption(byte[] plaintext, int[][] roundKeys) {\r\n        // Convert plaintext bytes to state matrix\r\n        int[] state = new int[4];\r\n        for (int i = 0; i &lt; 4; i++) {\r\n            state[i] = ((plaintext[4 * i] &amp; 0xFF) &lt;&lt; 24) |\r\n                    ((plaintext[4 * i + 1] &amp; 0xFF) &lt;&lt; 16) |\r\n                    ((plaintext[4 * i + 2] &amp; 0xFF) &lt;&lt; 8) |\r\n                    (plaintext[4 * i + 3] &amp; 0xFF);\r\n        }\r\n\r\n        // Initial round key addition\r\n        for (int i = 0; i &lt; 4; i++) {\r\n            state[i] ^= roundKeys[0][i];\r\n        }\r\n\r\n        // Main rounds\r\n        for (int round = 1; round &lt; 10; round++) {\r\n            int[] temp = new int[4];\r\n            for (int i = 0; i &lt; 4; i++) {\r\n                temp[i] = T0[(state[i] &gt;&gt;&gt; 24) &amp; 0xFF] ^\r\n                        T1[(state[(i + 3) % 4] &gt;&gt;&gt; 16) &amp; 0xFF] ^\r\n                        T2[(state[(i + 2) % 4] &gt;&gt;&gt; 8) &amp; 0xFF] ^\r\n                        T3[state[(i + 1) % 4] &amp; 0xFF] ^ roundKeys[round][i];      \r\n            };System.arraycopy(temp, 0, state, 0, 4);\r\n        }\r\n\r\n        // Final round (without MixColumns)\r\n        byte[] ciphertext = new byte[16];\r\n        for (int i = 0; i &lt; 4; i++) {\r\n            int word = roundKeys[roundKeys.length - 1][i];\r\n            ciphertext[4 * i] = (byte) (S[(state[i] &gt;&gt;&gt; 24) &amp; 0xFF] ^ (word &gt;&gt;&gt; 24));\r\n            ciphertext[4 * i + 1] = (byte) (S[(state[(i + 3) % 4] &gt;&gt;&gt; 16) &amp; 0xFF] ^ (word &gt;&gt;&gt; 16));\r\n            ciphertext[4 * i + 2] = (byte) (S[(state[(i + 2) % 4] &gt;&gt;&gt; 8) &amp; 0xFF] ^ (word &gt;&gt;&gt; 8));\r\n            ciphertext[4 * i + 3] = (byte) (S[state[(i + 1) % 4] &amp; 0xFF] ^ word);\r\n        }\r\n        System.out.println(&quot;Endzustand: &quot; + intArrayToHex(state));\r\n\r\n        return ciphertext;\r\n    }\r\n```","title":"Java AES T-Tables Implementation","body":"<p>I am trying to implement an encryption function that uses the AES T-Tables implementation.</p>\n<p>I am quite sure that my roundKeys are correct.\nI also know that the initial round key addition in the following code is correct.</p>\n<p>So there must be an error in the main rounds, but i am not sure what went wrong. I have narrowed it down to the following problems:</p>\n<ol>\n<li>The logic I use to lookup in the t-tables in each round:</li>\n</ol>\n<pre><code>temp[i] = T0[(state[i] &gt;&gt;&gt; 24) &amp; 0xFF] ^\n                        T1[(state[(i + 3) % 4] &gt;&gt;&gt; 16) &amp; 0xFF] ^\n                        T2[(state[(i + 2) % 4] &gt;&gt;&gt; 8) &amp; 0xFF] ^\n                        T3[state[(i + 1) % 4] &amp; 0xFF] ^ roundKeys[round][i]; \n</code></pre>\n<p>That seems correct? I followed the descripton in <a href=\"https://csrc.nist.gov/csrc/media/projects/cryptographic-standards-and-guidelines/documents/aes-development/rijndael-ammended.pdf\" rel=\"nofollow noreferrer\">Rijnadel Proposel on page 18</a>.</p>\n<ol start=\"2\">\n<li>Maybe I am using the wrong t-tables for looking up. I am not sure which ones are correct. I found T-Tables in the <a href=\"https://github.com/bcgit/bc-java/blob/main/core/src/main/java/org/bouncycastle/crypto/engines/AESFastEngine.java\" rel=\"nofollow noreferrer\">bouncy castle implementation</a> and then i found some different tables in the <a href=\"https://go.dev/src/crypto/aes/const.go\" rel=\"nofollow noreferrer\">Go implementation</a>.</li>\n</ol>\n<p>They are both different, but i have tried my code with both and it doesnt work.\nWhich of these tables are the correct ones?</p>\n<pre><code>public byte[] blockEncryption(byte[] plaintext, int[][] roundKeys) {\n        // Convert plaintext bytes to state matrix\n        int[] state = new int[4];\n        for (int i = 0; i &lt; 4; i++) {\n            state[i] = ((plaintext[4 * i] &amp; 0xFF) &lt;&lt; 24) |\n                    ((plaintext[4 * i + 1] &amp; 0xFF) &lt;&lt; 16) |\n                    ((plaintext[4 * i + 2] &amp; 0xFF) &lt;&lt; 8) |\n                    (plaintext[4 * i + 3] &amp; 0xFF);\n        }\n\n        // Initial round key addition\n        for (int i = 0; i &lt; 4; i++) {\n            state[i] ^= roundKeys[0][i];\n        }\n\n        // Main rounds\n        for (int round = 1; round &lt; 10; round++) {\n            int[] temp = new int[4];\n            for (int i = 0; i &lt; 4; i++) {\n                temp[i] = T0[(state[i] &gt;&gt;&gt; 24) &amp; 0xFF] ^\n                        T1[(state[(i + 3) % 4] &gt;&gt;&gt; 16) &amp; 0xFF] ^\n                        T2[(state[(i + 2) % 4] &gt;&gt;&gt; 8) &amp; 0xFF] ^\n                        T3[state[(i + 1) % 4] &amp; 0xFF] ^ roundKeys[round][i];      \n            };System.arraycopy(temp, 0, state, 0, 4);\n        }\n\n        // Final round (without MixColumns)\n        byte[] ciphertext = new byte[16];\n        for (int i = 0; i &lt; 4; i++) {\n            int word = roundKeys[roundKeys.length - 1][i];\n            ciphertext[4 * i] = (byte) (S[(state[i] &gt;&gt;&gt; 24) &amp; 0xFF] ^ (word &gt;&gt;&gt; 24));\n            ciphertext[4 * i + 1] = (byte) (S[(state[(i + 3) % 4] &gt;&gt;&gt; 16) &amp; 0xFF] ^ (word &gt;&gt;&gt; 16));\n            ciphertext[4 * i + 2] = (byte) (S[(state[(i + 2) % 4] &gt;&gt;&gt; 8) &amp; 0xFF] ^ (word &gt;&gt;&gt; 8));\n            ciphertext[4 * i + 3] = (byte) (S[state[(i + 1) % 4] &amp; 0xFF] ^ word);\n        }\n        System.out.println(&quot;Endzustand: &quot; + intArrayToHex(state));\n\n        return ciphertext;\n    }\n</code></pre>\n"},{"tags":["java","matlab","plot","jfreechart"],"comments":[{"owner":{"account_id":21269479,"reputation":10151,"user_id":15649230,"display_name":"Ahmed AEK"},"score":3,"creation_date":1694793160,"post_id":77113602,"comment_id":135942419,"body_markdown":"if it walks like a duck and quacks like a duck then it is a duck, on a side note, you could use a zero before and after your point to make it look more like `stem`.","body":"if it walks like a duck and quacks like a duck then it is a duck, on a side note, you could use a zero before and after your point to make it look more like <code>stem</code>."},{"owner":{"account_id":25421573,"reputation":41,"user_id":19227485,"display_name":"MrManini"},"score":0,"creation_date":1694795371,"post_id":77113602,"comment_id":135942789,"body_markdown":"Damn, it was really that simple ahhaha, that solved it, thanks.","body":"Damn, it was really that simple ahhaha, that solved it, thanks."},{"owner":{"account_id":25421573,"reputation":41,"user_id":19227485,"display_name":"MrManini"},"score":0,"creation_date":1694912749,"post_id":77113602,"comment_id":135953704,"body_markdown":"@trashgod I checked it out and it also looks like a discrete signal, but since the x-axis are categories, and not numbers, i would have to input each number as a string into its own category which is just a little bit more annoying to do. But thanks for the suggestion!","body":"@trashgod I checked it out and it also looks like a discrete signal, but since the x-axis are categories, and not numbers, i would have to input each number as a string into its own category which is just a little bit more annoying to do. But thanks for the suggestion!"}],"answers":[{"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695316897,"creation_date":1695316897,"answer_id":77152387,"question_id":77113602,"body_markdown":"As @Ahmed AEK [comments][1], you can adjust your dataset to &quot;make it look more like [stem][2].&quot; Also consider,\r\n\r\n- [`HighLowRenderer`][3], suitable for continuous data; the methods `setDrawCloseTicks()` and `setDrawOpenTicks()` control tick mark visibility.\r\n\r\n- [`MinMaxCategoryRenderer`][4], suitable for category data; the icons can be replaced with custom implementations, as seen [here][5] and [here][6].\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/77113602/is-there-a-way-to-make-discrete-signal-plots-in-java#comment135942419_77113602\r\n  [2]: https://matplotlib.org/stable/gallery/lines_bars_and_markers/stem_plot.html\r\n  [3]: https://www.jfree.org/jfreechart/javadoc/org/jfree/chart/renderer/xy/HighLowRenderer.html\r\n  [4]: https://www.jfree.org/jfreechart/javadoc/org/jfree/chart/renderer/category/MinMaxCategoryRenderer.html\r\n  [5]: https://stackoverflow.com/a/4641530/230513\r\n  [6]: https://stackoverflow.com/a/5263600/230513","title":"Is there a way to make discrete signal plots in Java?","body":"<p>As @Ahmed AEK <a href=\"https://stackoverflow.com/questions/77113602/is-there-a-way-to-make-discrete-signal-plots-in-java#comment135942419_77113602\">comments</a>, you can adjust your dataset to &quot;make it look more like <a href=\"https://matplotlib.org/stable/gallery/lines_bars_and_markers/stem_plot.html\" rel=\"nofollow noreferrer\">stem</a>.&quot; Also consider,</p>\n<ul>\n<li><p><a href=\"https://www.jfree.org/jfreechart/javadoc/org/jfree/chart/renderer/xy/HighLowRenderer.html\" rel=\"nofollow noreferrer\"><code>HighLowRenderer</code></a>, suitable for continuous data; the methods <code>setDrawCloseTicks()</code> and <code>setDrawOpenTicks()</code> control tick mark visibility.</p>\n</li>\n<li><p><a href=\"https://www.jfree.org/jfreechart/javadoc/org/jfree/chart/renderer/category/MinMaxCategoryRenderer.html\" rel=\"nofollow noreferrer\"><code>MinMaxCategoryRenderer</code></a>, suitable for category data; the icons can be replaced with custom implementations, as seen <a href=\"https://stackoverflow.com/a/4641530/230513\">here</a> and <a href=\"https://stackoverflow.com/a/5263600/230513\">here</a>.</p>\n</li>\n</ul>\n"}],"owner":{"account_id":25421573,"reputation":41,"user_id":19227485,"display_name":"MrManini"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1695316897,"creation_date":1694791662,"question_id":77113602,"body_markdown":"I want to make a discrete signal plot in Java, like when using the [stem() command in matlab](https://la.mathworks.com/help/matlab/ref/stem.html?lang=en), such that when giving it an array for the x-axis and one for the y-axis, it makes like a scatter plot with a vertical line connected to x-axis.\r\n\r\nI have tried using JFreeChart to do this, but it doesn&#39;t have a discrete plot specifically. The closest I came to it was asking ChatGPT to make a scatter plot and connect the lines to the bottom and it gave me this code:\r\n \r\n```\r\npackage z;\r\n\r\nimport org.jfree.chart.ChartFactory;\r\nimport org.jfree.chart.ChartPanel;\r\nimport org.jfree.chart.JFreeChart;\r\nimport org.jfree.chart.plot.PlotOrientation;\r\nimport org.jfree.chart.plot.XYPlot;\r\nimport org.jfree.chart.renderer.xy.XYItemRenderer;\r\nimport org.jfree.chart.ui.ApplicationFrame;\r\nimport org.jfree.chart.ui.RectangleInsets;\r\nimport org.jfree.data.xy.DefaultXYDataset;\r\nimport org.jfree.data.xy.XYSeries;\r\nimport org.jfree.data.xy.XYSeriesCollection;\r\n\r\nimport java.awt.Color;\r\nimport java.awt.Shape;\r\nimport java.awt.geom.Ellipse2D;\r\nimport java.util.Random;\r\nimport javax.swing.SwingUtilities;\r\nimport org.jfree.chart.renderer.xy.XYLineAndShapeRenderer;\r\n\r\npublic class ScatterPlotWithLines extends ApplicationFrame {\r\n\r\n    public ScatterPlotWithLines(String title) {\r\n        super(title);\r\n\r\n        // Create a dataset with 10 random data points\r\n        XYSeriesCollection dataset = createScatterDataset(10);\r\n\r\n        // Create the scatter plot\r\n        JFreeChart chart = ChartFactory.createScatterPlot(\r\n                &quot;Scatter Plot with Lines&quot;,\r\n                &quot;X-Axis Label&quot;,\r\n                &quot;Y-Axis Label&quot;,\r\n                dataset,\r\n                PlotOrientation.VERTICAL,\r\n                true,\r\n                true,\r\n                false\r\n        );\r\n\r\n        // Customize the plot and renderer for scatter points (optional)\r\n        XYPlot plot = (XYPlot) chart.getPlot();\r\n        XYItemRenderer renderer = plot.getRenderer();\r\n\r\n        // Customize the renderer for scatter points (e.g., change the shape and color of points)\r\n        Shape pointShape = new Ellipse2D.Double(-3, -3, 6, 6); // Example shape\r\n        renderer.setSeriesShape(0, pointShape);\r\n        renderer.setSeriesPaint(0, Color.blue);\r\n\r\n        // Create a dataset for lines connecting the data points to the x-axis\r\n        DefaultXYDataset lineDataset = createLineDataset(dataset);\r\n\r\n        // Create a renderer for the lines\r\n        XYItemRenderer lineRenderer = new XYLineAndShapeRenderer(true, false);\r\n        lineRenderer.setSeriesPaint(0, Color.red); // Line color\r\n\r\n        plot.setDataset(1, lineDataset); // Add the line dataset to the plot\r\n        plot.setRenderer(1, lineRenderer); // Set the line renderer for the new dataset\r\n\r\n        // Set margin for the plot\r\n        plot.setAxisOffset(new RectangleInsets(5.0, 5.0, 5.0, 5.0));\r\n\r\n        // Create a ChartPanel and add it to the frame\r\n        ChartPanel chartPanel = new ChartPanel(chart);\r\n        chartPanel.setPreferredSize(new java.awt.Dimension(800, 600));\r\n        setContentPane(chartPanel);\r\n    }\r\n\r\n    private XYSeriesCollection createScatterDataset(int numPoints) {\r\n        XYSeriesCollection dataset = new XYSeriesCollection();\r\n        XYSeries series = new XYSeries(&quot;Scatter Plot&quot;);\r\n\r\n        // Generate random data points for the series\r\n        Random rand = new Random();\r\n        for (int i = 0; i &lt; numPoints; i++) {\r\n            double x = rand.nextDouble() * 10;\r\n            double y = rand.nextDouble() * 10;\r\n            series.add(x, y);\r\n        }\r\n\r\n        dataset.addSeries(series);\r\n\r\n        return dataset;\r\n    }\r\n\r\n    private DefaultXYDataset createLineDataset(XYSeriesCollection scatterDataset) {\r\n        DefaultXYDataset lineDataset = new DefaultXYDataset();\r\n\r\n        // Create lines connecting data points to the x-axis\r\n        for (int i = 0; i &lt; scatterDataset.getSeriesCount(); i++) {\r\n            XYSeries scatterSeries = scatterDataset.getSeries(i);\r\n            double[][] lineData = new double[2][scatterSeries.getItemCount() * 2];\r\n\r\n            for (int j = 0; j &lt; scatterSeries.getItemCount(); j++) {\r\n                double x = scatterSeries.getX(j).doubleValue();\r\n                double y = scatterSeries.getY(j).doubleValue();\r\n\r\n                // Add the data point\r\n                lineData[0][j * 2] = x;\r\n                lineData[1][j * 2] = y;\r\n\r\n                // Connect to the x-axis\r\n                lineData[0][j * 2 + 1] = x;\r\n                lineData[1][j * 2 + 1] = 0;\r\n            }\r\n\r\n            lineDataset.addSeries(&quot;Lines&quot;, lineData);\r\n        }\r\n\r\n        return lineDataset;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        SwingUtilities.invokeLater(() -&gt; {\r\n            ScatterPlotWithLines example = new ScatterPlotWithLines(&quot;Scatter Plot with Lines&quot;);\r\n            example.pack();\r\n            example.setDefaultCloseOperation(ApplicationFrame.EXIT_ON_CLOSE);\r\n            example.setVisible(true);\r\n        });\r\n    }\r\n}\r\n```\r\nand it works, sort of:\r\n\r\n[![Stem plot?](https://i.stack.imgur.com/Y1lym.png)](https://i.stack.imgur.com/Y1lym.png)\r\n\r\nI understand it made a different dataset and connected the dots, but is it possible to have it just with the vertical lines? I know I can do this easily using other languages like Python and MatLab, I just want to know if it&#39;s possible to do it in Java.","title":"Is there a way to make discrete signal plots in Java?","body":"<p>I want to make a discrete signal plot in Java, like when using the <a href=\"https://la.mathworks.com/help/matlab/ref/stem.html?lang=en\" rel=\"nofollow noreferrer\">stem() command in matlab</a>, such that when giving it an array for the x-axis and one for the y-axis, it makes like a scatter plot with a vertical line connected to x-axis.</p>\n<p>I have tried using JFreeChart to do this, but it doesn't have a discrete plot specifically. The closest I came to it was asking ChatGPT to make a scatter plot and connect the lines to the bottom and it gave me this code:</p>\n<pre><code>package z;\n\nimport org.jfree.chart.ChartFactory;\nimport org.jfree.chart.ChartPanel;\nimport org.jfree.chart.JFreeChart;\nimport org.jfree.chart.plot.PlotOrientation;\nimport org.jfree.chart.plot.XYPlot;\nimport org.jfree.chart.renderer.xy.XYItemRenderer;\nimport org.jfree.chart.ui.ApplicationFrame;\nimport org.jfree.chart.ui.RectangleInsets;\nimport org.jfree.data.xy.DefaultXYDataset;\nimport org.jfree.data.xy.XYSeries;\nimport org.jfree.data.xy.XYSeriesCollection;\n\nimport java.awt.Color;\nimport java.awt.Shape;\nimport java.awt.geom.Ellipse2D;\nimport java.util.Random;\nimport javax.swing.SwingUtilities;\nimport org.jfree.chart.renderer.xy.XYLineAndShapeRenderer;\n\npublic class ScatterPlotWithLines extends ApplicationFrame {\n\n    public ScatterPlotWithLines(String title) {\n        super(title);\n\n        // Create a dataset with 10 random data points\n        XYSeriesCollection dataset = createScatterDataset(10);\n\n        // Create the scatter plot\n        JFreeChart chart = ChartFactory.createScatterPlot(\n                &quot;Scatter Plot with Lines&quot;,\n                &quot;X-Axis Label&quot;,\n                &quot;Y-Axis Label&quot;,\n                dataset,\n                PlotOrientation.VERTICAL,\n                true,\n                true,\n                false\n        );\n\n        // Customize the plot and renderer for scatter points (optional)\n        XYPlot plot = (XYPlot) chart.getPlot();\n        XYItemRenderer renderer = plot.getRenderer();\n\n        // Customize the renderer for scatter points (e.g., change the shape and color of points)\n        Shape pointShape = new Ellipse2D.Double(-3, -3, 6, 6); // Example shape\n        renderer.setSeriesShape(0, pointShape);\n        renderer.setSeriesPaint(0, Color.blue);\n\n        // Create a dataset for lines connecting the data points to the x-axis\n        DefaultXYDataset lineDataset = createLineDataset(dataset);\n\n        // Create a renderer for the lines\n        XYItemRenderer lineRenderer = new XYLineAndShapeRenderer(true, false);\n        lineRenderer.setSeriesPaint(0, Color.red); // Line color\n\n        plot.setDataset(1, lineDataset); // Add the line dataset to the plot\n        plot.setRenderer(1, lineRenderer); // Set the line renderer for the new dataset\n\n        // Set margin for the plot\n        plot.setAxisOffset(new RectangleInsets(5.0, 5.0, 5.0, 5.0));\n\n        // Create a ChartPanel and add it to the frame\n        ChartPanel chartPanel = new ChartPanel(chart);\n        chartPanel.setPreferredSize(new java.awt.Dimension(800, 600));\n        setContentPane(chartPanel);\n    }\n\n    private XYSeriesCollection createScatterDataset(int numPoints) {\n        XYSeriesCollection dataset = new XYSeriesCollection();\n        XYSeries series = new XYSeries(&quot;Scatter Plot&quot;);\n\n        // Generate random data points for the series\n        Random rand = new Random();\n        for (int i = 0; i &lt; numPoints; i++) {\n            double x = rand.nextDouble() * 10;\n            double y = rand.nextDouble() * 10;\n            series.add(x, y);\n        }\n\n        dataset.addSeries(series);\n\n        return dataset;\n    }\n\n    private DefaultXYDataset createLineDataset(XYSeriesCollection scatterDataset) {\n        DefaultXYDataset lineDataset = new DefaultXYDataset();\n\n        // Create lines connecting data points to the x-axis\n        for (int i = 0; i &lt; scatterDataset.getSeriesCount(); i++) {\n            XYSeries scatterSeries = scatterDataset.getSeries(i);\n            double[][] lineData = new double[2][scatterSeries.getItemCount() * 2];\n\n            for (int j = 0; j &lt; scatterSeries.getItemCount(); j++) {\n                double x = scatterSeries.getX(j).doubleValue();\n                double y = scatterSeries.getY(j).doubleValue();\n\n                // Add the data point\n                lineData[0][j * 2] = x;\n                lineData[1][j * 2] = y;\n\n                // Connect to the x-axis\n                lineData[0][j * 2 + 1] = x;\n                lineData[1][j * 2 + 1] = 0;\n            }\n\n            lineDataset.addSeries(&quot;Lines&quot;, lineData);\n        }\n\n        return lineDataset;\n    }\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(() -&gt; {\n            ScatterPlotWithLines example = new ScatterPlotWithLines(&quot;Scatter Plot with Lines&quot;);\n            example.pack();\n            example.setDefaultCloseOperation(ApplicationFrame.EXIT_ON_CLOSE);\n            example.setVisible(true);\n        });\n    }\n}\n</code></pre>\n<p>and it works, sort of:</p>\n<p><a href=\"https://i.stack.imgur.com/Y1lym.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Y1lym.png\" alt=\"Stem plot?\" /></a></p>\n<p>I understand it made a different dataset and connected the dots, but is it possible to have it just with the vertical lines? I know I can do this easily using other languages like Python and MatLab, I just want to know if it's possible to do it in Java.</p>\n"},{"tags":["java","android-studio","encryption","aes"],"comments":[{"owner":{"account_id":899926,"reputation":5112,"user_id":1820553,"display_name":"kelalaka"},"score":0,"creation_date":1695317627,"post_id":77152332,"comment_id":136011757,"body_markdown":"High probably IV encoding problem with the site if not the key. Could you output all in hex or base64 then try again? Or at least provide us?","body":"High probably IV encoding problem with the site if not the key. Could you output all in hex or base64 then try again? Or at least provide us?"},{"owner":{"account_id":13294099,"reputation":49274,"user_id":9597706,"display_name":"Richard Heap"},"score":0,"creation_date":1695318780,"post_id":77152332,"comment_id":136011969,"body_markdown":"The linked online tool doesn&#39;t appear to perform the hashing of the &#39;secret key&#39; to the value used to create the key spec. (You don&#39;t specify where this string is likely to come from, but if it&#39;s more of a &#39;password&#39; you should be using a KDF to derive a key - rather than a simple hash.)","body":"The linked online tool doesn&#39;t appear to perform the hashing of the &#39;secret key&#39; to the value used to create the key spec. (You don&#39;t specify where this string is likely to come from, but if it&#39;s more of a &#39;password&#39; you should be using a KDF to derive a key - rather than a simple hash.)"},{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1695330254,"post_id":77152332,"comment_id":136013841,"body_markdown":"Online tools don&#39;t work as specifically as you assume: For decryption, in addition to the key derivation mentioned in the previous comment, the tool would have to Base64 decode the data and then separate IV and ciphertext. Most tools are just able to decrypt a ciphertext for a *given* key and IV.","body":"Online tools don&#39;t work as specifically as you assume: For decryption, in addition to the key derivation mentioned in the previous comment, the tool would have to Base64 decode the data and then separate IV and ciphertext. Most tools are just able to decrypt a ciphertext for a <i>given</i> key and IV."},{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1695330983,"post_id":77152332,"comment_id":136013957,"body_markdown":"And even if you perform the individual steps yourself, the tool wouldn&#39;t be able to process the key hash and the IV, since no encoding can be specified for either, instead an ASCII or UTF-8 encoding is performed under the hood (which does not work for a key *hash* and a *random* IV).","body":"And even if you perform the individual steps yourself, the tool wouldn&#39;t be able to process the key hash and the IV, since no encoding can be specified for either, instead an ASCII or UTF-8 encoding is performed under the hood (which does not work for a key <i>hash</i> and a <i>random</i> IV)."}],"owner":{"account_id":15909868,"reputation":15,"user_id":11480082,"display_name":"Nicholas"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695316293,"creation_date":1695316293,"question_id":77152332,"body_markdown":"I&#39;m really new to AES_256 encryption so I would like to get some insight and understand what&#39;s going on with this situation. \r\n\r\nI have created an AESUtil to encrypt some sensitive data that will save into a text file, with my decrypt function, I also able to decrypt the encrypted value. However, when I try to decrypt it with [online tools](https://www.devglan.com/online-tools/aes-encryption-decryption), it shows error of **&quot;Given final block not properly padded. Such issues can arise if a bad key is used during decryption.&quot;** \r\n\r\nWhat&#39;s going wrong? as my code as it able to decrypt perfectly, but I can&#39;t expect my QA to run my code every time to decrypt the value, I believe using online AES tool would be easier for them.  \r\n\r\nHere&#39;s my code\r\n```\r\npublic class AESUtil {\r\n\r\n    private static SecretKeySpec getSecretKeySpec(String secretKey) throws Exception {\r\n        byte[] keyBytes = secretKey.getBytes(StandardCharsets.UTF_8);\r\n        MessageDigest sha = MessageDigest.getInstance(&quot;SHA-256&quot;);\r\n        keyBytes = sha.digest(keyBytes);\r\n        return new SecretKeySpec(keyBytes, &quot;AES&quot;);\r\n    }\r\n\r\n    public static String encryptData(String secretKey, String content) {\r\n        try {\r\n            SecretKeySpec secretKeySpec = getSecretKeySpec(secretKey);\r\n\r\n            // Generate a random IV\r\n            SecureRandom secureRandom = new SecureRandom();\r\n            byte[] iv = new byte[16];\r\n            secureRandom.nextBytes(iv);\r\n            IvParameterSpec ivSpec = new IvParameterSpec(iv);\r\n\r\n            // Encrypt\r\n            Cipher cipher = Cipher.getInstance(&quot;AES/CBC/PKCS5Padding&quot;);\r\n            cipher.init(Cipher.ENCRYPT_MODE, secretKeySpec, ivSpec);\r\n            byte[] encrypted = cipher.doFinal(content.getBytes(StandardCharsets.UTF_8));\r\n\r\n            // Combine IV and encrypted content\r\n            byte[] combined = new byte[iv.length + encrypted.length];\r\n            System.arraycopy(iv, 0, combined, 0, iv.length);\r\n            System.arraycopy(encrypted, 0, combined, iv.length, encrypted.length);\r\n\r\n            // Return the combined data as a Base64 encoded string\r\n            return android.util.Base64.encodeToString(combined, android.util.Base64.DEFAULT);\r\n        } catch (Exception e) {\r\n            throw new RuntimeException(&quot;Error while encrypting&quot;, e);\r\n        }\r\n    }\r\n\r\n    public static String decryptData(String secretKey, String encryptedContent) {\r\n        try {\r\n            SecretKeySpec secretKeySpec = getSecretKeySpec(secretKey);\r\n\r\n            // Decode the Base64 encoded string\r\n            byte[] combined = android.util.Base64.decode(encryptedContent, android.util.Base64.DEFAULT);\r\n\r\n            // Extract the IV and encrypted content\r\n            byte[] iv = new byte[16];\r\n            byte[] encrypted = new byte[combined.length - 16];\r\n\r\n            System.arraycopy(combined, 0, iv, 0, 16);\r\n            System.arraycopy(combined, 16, encrypted, 0, encrypted.length);\r\n            IvParameterSpec ivSpec = new IvParameterSpec(iv);\r\n\r\n            // Decrypt\r\n            Cipher cipher = Cipher.getInstance(&quot;AES/CBC/PKCS5Padding&quot;);\r\n            cipher.init(Cipher.DECRYPT_MODE, secretKeySpec, ivSpec);\r\n            byte[] decrypted = cipher.doFinal(encrypted);\r\n\r\n            // Convert the decrypted byte array back to a string\r\n            return new String(decrypted, StandardCharsets.UTF_8);\r\n        } catch (Exception e) {\r\n            throw new RuntimeException(&quot;Error while decrypting&quot;, e);\r\n        }\r\n    }\r\n}\r\n```\r\n```\r\nString secretKey = &quot;my very secret key 000!!&quot;\r\n```","title":"Online AES tools unable to decrypt my value","body":"<p>I'm really new to AES_256 encryption so I would like to get some insight and understand what's going on with this situation.</p>\n<p>I have created an AESUtil to encrypt some sensitive data that will save into a text file, with my decrypt function, I also able to decrypt the encrypted value. However, when I try to decrypt it with <a href=\"https://www.devglan.com/online-tools/aes-encryption-decryption\" rel=\"nofollow noreferrer\">online tools</a>, it shows error of <strong>&quot;Given final block not properly padded. Such issues can arise if a bad key is used during decryption.&quot;</strong></p>\n<p>What's going wrong? as my code as it able to decrypt perfectly, but I can't expect my QA to run my code every time to decrypt the value, I believe using online AES tool would be easier for them.</p>\n<p>Here's my code</p>\n<pre><code>public class AESUtil {\n\n    private static SecretKeySpec getSecretKeySpec(String secretKey) throws Exception {\n        byte[] keyBytes = secretKey.getBytes(StandardCharsets.UTF_8);\n        MessageDigest sha = MessageDigest.getInstance(&quot;SHA-256&quot;);\n        keyBytes = sha.digest(keyBytes);\n        return new SecretKeySpec(keyBytes, &quot;AES&quot;);\n    }\n\n    public static String encryptData(String secretKey, String content) {\n        try {\n            SecretKeySpec secretKeySpec = getSecretKeySpec(secretKey);\n\n            // Generate a random IV\n            SecureRandom secureRandom = new SecureRandom();\n            byte[] iv = new byte[16];\n            secureRandom.nextBytes(iv);\n            IvParameterSpec ivSpec = new IvParameterSpec(iv);\n\n            // Encrypt\n            Cipher cipher = Cipher.getInstance(&quot;AES/CBC/PKCS5Padding&quot;);\n            cipher.init(Cipher.ENCRYPT_MODE, secretKeySpec, ivSpec);\n            byte[] encrypted = cipher.doFinal(content.getBytes(StandardCharsets.UTF_8));\n\n            // Combine IV and encrypted content\n            byte[] combined = new byte[iv.length + encrypted.length];\n            System.arraycopy(iv, 0, combined, 0, iv.length);\n            System.arraycopy(encrypted, 0, combined, iv.length, encrypted.length);\n\n            // Return the combined data as a Base64 encoded string\n            return android.util.Base64.encodeToString(combined, android.util.Base64.DEFAULT);\n        } catch (Exception e) {\n            throw new RuntimeException(&quot;Error while encrypting&quot;, e);\n        }\n    }\n\n    public static String decryptData(String secretKey, String encryptedContent) {\n        try {\n            SecretKeySpec secretKeySpec = getSecretKeySpec(secretKey);\n\n            // Decode the Base64 encoded string\n            byte[] combined = android.util.Base64.decode(encryptedContent, android.util.Base64.DEFAULT);\n\n            // Extract the IV and encrypted content\n            byte[] iv = new byte[16];\n            byte[] encrypted = new byte[combined.length - 16];\n\n            System.arraycopy(combined, 0, iv, 0, 16);\n            System.arraycopy(combined, 16, encrypted, 0, encrypted.length);\n            IvParameterSpec ivSpec = new IvParameterSpec(iv);\n\n            // Decrypt\n            Cipher cipher = Cipher.getInstance(&quot;AES/CBC/PKCS5Padding&quot;);\n            cipher.init(Cipher.DECRYPT_MODE, secretKeySpec, ivSpec);\n            byte[] decrypted = cipher.doFinal(encrypted);\n\n            // Convert the decrypted byte array back to a string\n            return new String(decrypted, StandardCharsets.UTF_8);\n        } catch (Exception e) {\n            throw new RuntimeException(&quot;Error while decrypting&quot;, e);\n        }\n    }\n}\n</code></pre>\n<pre><code>String secretKey = &quot;my very secret key 000!!&quot;\n</code></pre>\n"},{"tags":["java","android","kotlin","android-emulator"],"answers":[{"tags":[],"owner":{"account_id":1610498,"reputation":696,"user_id":2100569,"display_name":"Steven Linn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689056550,"creation_date":1689056550,"answer_id":76659188,"question_id":76007110,"body_markdown":"Android 14 looks in this location first:\r\n```\r\n/apex/com.android.conscrypt/cacerts\r\n```","title":"Android 14 (UpsideDownCake) doesn&#39;t see certificate installed in /system/etc/security/cacert","body":"<p>Android 14 looks in this location first:</p>\n<pre><code>/apex/com.android.conscrypt/cacerts\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26232,"reputation":12048,"user_id":68051,"accept_rate":88,"display_name":"Tim Perry"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1695316152,"creation_date":1695316152,"answer_id":77152321,"question_id":76007110,"body_markdown":"Android 14 now reads CA certs from within the Conscrypt library&#39;s APEX filesystem, at `/apex/com.android.conscrypt/cacerts`.\r\n\r\nThat&#39;s an awkward problem for use cases like this, because that path is impossible to directly modify or remount. You can try all you like, but APEX modules are loaded using different mechanisms to the rest of the filesystem, and in general if you make simple changes via an ADB shell, apps on the device won&#39;t see them - they use isolated mount namespaces, so they&#39;ll continue using their original set of mounts independently.\r\n\r\nI&#39;ve done some digging here though, and found some working solutions: you can bind mount an alternative directory into this location, and then use `nsenter` to duplicate that mount individually into each app&#39;s mount namespace, and into the Zygote process (which starts future apps, so that newly launched apps copy this by default).\r\n\r\nThat&#39;s the essence of it. The full steps &amp; background context are quite involved, but I&#39;ve documented it and built a full script to automate this here: https://httptoolkit.com/blog/android-14-install-system-ca-certificate/\r\n\r\nYou can see the resulting changes to automate that process in HTTP Toolkit here: https://github.com/httptoolkit/httptoolkit-server/commit/965fd8d9b287af0e4b305d828d5e8e1aa52dce36","title":"Android 14 (UpsideDownCake) doesn&#39;t see certificate installed in /system/etc/security/cacert","body":"<p>Android 14 now reads CA certs from within the Conscrypt library's APEX filesystem, at <code>/apex/com.android.conscrypt/cacerts</code>.</p>\n<p>That's an awkward problem for use cases like this, because that path is impossible to directly modify or remount. You can try all you like, but APEX modules are loaded using different mechanisms to the rest of the filesystem, and in general if you make simple changes via an ADB shell, apps on the device won't see them - they use isolated mount namespaces, so they'll continue using their original set of mounts independently.</p>\n<p>I've done some digging here though, and found some working solutions: you can bind mount an alternative directory into this location, and then use <code>nsenter</code> to duplicate that mount individually into each app's mount namespace, and into the Zygote process (which starts future apps, so that newly launched apps copy this by default).</p>\n<p>That's the essence of it. The full steps &amp; background context are quite involved, but I've documented it and built a full script to automate this here: <a href=\"https://httptoolkit.com/blog/android-14-install-system-ca-certificate/\" rel=\"nofollow noreferrer\">https://httptoolkit.com/blog/android-14-install-system-ca-certificate/</a></p>\n<p>You can see the resulting changes to automate that process in HTTP Toolkit here: <a href=\"https://github.com/httptoolkit/httptoolkit-server/commit/965fd8d9b287af0e4b305d828d5e8e1aa52dce36\" rel=\"nofollow noreferrer\">https://github.com/httptoolkit/httptoolkit-server/commit/965fd8d9b287af0e4b305d828d5e8e1aa52dce36</a></p>\n"}],"owner":{"account_id":3549806,"reputation":8516,"user_id":2964945,"display_name":"Melquiades"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":803,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":2,"score":7,"last_activity_date":1695316152,"creation_date":1681398869,"question_id":76007110,"body_markdown":"For our automated testing platform for Android emulator, we are able to push a Proxyman certificate to a `/system/etc/security/cacerts` with the tried and tested commands:\r\n\r\n\r\n1. Start emulator with `-writable-system` flag: ```emulator -avd emulator_name -writable-system```\r\n\r\n2. Prepare Proxyman certificate:\r\n\r\n    - ```openssl x509 -inform PEM -subject_hash_old -in proxyman-ssl-proxying-certificate.pem | head -1``` - it returns a hash for the cert, eg. 30eb732c\r\n\r\n    - save that to a file: ```cat proxyman-ssl-proxying-certificate.pem &gt; 30eb732c.0```\r\n\r\n    - ```openssl x509 -inform PEM -text -in proxyman-ssl-proxying-certificate.pem -out /dev/null &gt;&gt; 30eb732c.0```\r\n\r\n3. Push the created `30eb732c.0` to emulator:\r\n\r\n    - `adb root`\r\n    - `adb remount`\r\n    - `adb root`\r\n    - `adb shell avbctl disable-verification`\r\n    - `adb reboot`\r\n    - `adb root`\r\n    - `adb remount`\r\n    - `adb push 30eb732c.0 /system/etc/security/cacerts`\r\n\r\n4. I can verify that the file is there by listing all certs with `adb shell ls /system/etc/security/cacert` and seeing mine on the list.\r\n\r\nWith these, we are able to see the traffic in Proxyman on release builds of our apps, up to API 33, and I can see the certificate installed on system partition in the Emulator Settings/Security/Encryption &amp; credentials/Trusted credentials.\r\n\r\n[![enter image description here](https://i.stack.imgur.com/wSDAv.png)](https://i.stack.imgur.com/wSDAv.png)\r\n\r\nWith the same steps for Android Emulator UpsideDownCake, I can see that the cert file is indeed in `/system/etc/security/cacert`, but the UI doesn&#39;t show it, and the traffic also fails to be captured by Proxyman (getting `SSL Handshake Failed`).\r\n\r\n\r\nThe method for installing cert has been informed by many of these:\r\n\r\n- https://stackoverflow.com/questions/58010655/is-adb-remount-broken-on-android-api-29\r\n- https://issuetracker.google.com/issues/144891973?pli=1\r\n- https://gist.github.com/pwlin/8a0d01e6428b7a96e2eb\r\n- https://blog.ropnop.com/configuring-burp-suite-with-android-nougat\r\n\r\nI feel like I might be missing something here, but also wondering what&#39;s the difference between API 33 and UpsideDownCake emulators. Has anyone been successful in installing a certificate in `/system/etc/security/cacert` on Android 14 (UpsideDownCake) emulator?\r\n","title":"Android 14 (UpsideDownCake) doesn&#39;t see certificate installed in /system/etc/security/cacert","body":"<p>For our automated testing platform for Android emulator, we are able to push a Proxyman certificate to a <code>/system/etc/security/cacerts</code> with the tried and tested commands:</p>\n<ol>\n<li><p>Start emulator with <code>-writable-system</code> flag: <code>emulator -avd emulator_name -writable-system</code></p>\n</li>\n<li><p>Prepare Proxyman certificate:</p>\n<ul>\n<li><p><code>openssl x509 -inform PEM -subject_hash_old -in proxyman-ssl-proxying-certificate.pem | head -1</code> - it returns a hash for the cert, eg. 30eb732c</p>\n</li>\n<li><p>save that to a file: <code>cat proxyman-ssl-proxying-certificate.pem &gt; 30eb732c.0</code></p>\n</li>\n<li><p><code>openssl x509 -inform PEM -text -in proxyman-ssl-proxying-certificate.pem -out /dev/null &gt;&gt; 30eb732c.0</code></p>\n</li>\n</ul>\n</li>\n<li><p>Push the created <code>30eb732c.0</code> to emulator:</p>\n<ul>\n<li><code>adb root</code></li>\n<li><code>adb remount</code></li>\n<li><code>adb root</code></li>\n<li><code>adb shell avbctl disable-verification</code></li>\n<li><code>adb reboot</code></li>\n<li><code>adb root</code></li>\n<li><code>adb remount</code></li>\n<li><code>adb push 30eb732c.0 /system/etc/security/cacerts</code></li>\n</ul>\n</li>\n<li><p>I can verify that the file is there by listing all certs with <code>adb shell ls /system/etc/security/cacert</code> and seeing mine on the list.</p>\n</li>\n</ol>\n<p>With these, we are able to see the traffic in Proxyman on release builds of our apps, up to API 33, and I can see the certificate installed on system partition in the Emulator Settings/Security/Encryption &amp; credentials/Trusted credentials.</p>\n<p><a href=\"https://i.stack.imgur.com/wSDAv.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/wSDAv.png\" alt=\"enter image description here\" /></a></p>\n<p>With the same steps for Android Emulator UpsideDownCake, I can see that the cert file is indeed in <code>/system/etc/security/cacert</code>, but the UI doesn't show it, and the traffic also fails to be captured by Proxyman (getting <code>SSL Handshake Failed</code>).</p>\n<p>The method for installing cert has been informed by many of these:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/58010655/is-adb-remount-broken-on-android-api-29\">Is adb remount broken on android api 29?</a></li>\n<li><a href=\"https://issuetracker.google.com/issues/144891973?pli=1\" rel=\"noreferrer\">https://issuetracker.google.com/issues/144891973?pli=1</a></li>\n<li><a href=\"https://gist.github.com/pwlin/8a0d01e6428b7a96e2eb\" rel=\"noreferrer\">https://gist.github.com/pwlin/8a0d01e6428b7a96e2eb</a></li>\n<li><a href=\"https://blog.ropnop.com/configuring-burp-suite-with-android-nougat\" rel=\"noreferrer\">https://blog.ropnop.com/configuring-burp-suite-with-android-nougat</a></li>\n</ul>\n<p>I feel like I might be missing something here, but also wondering what's the difference between API 33 and UpsideDownCake emulators. Has anyone been successful in installing a certificate in <code>/system/etc/security/cacert</code> on Android 14 (UpsideDownCake) emulator?</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1579258278,"post_id":59785833,"comment_id":105714704,"body_markdown":"Add only relevant code not the whole code","body":"Add only relevant code not the whole code"},{"owner":{"account_id":425670,"reputation":2681,"user_id":806407,"accept_rate":78,"display_name":"lakshman"},"score":0,"creation_date":1579258494,"post_id":59785833,"comment_id":105714813,"body_markdown":"format your code please","body":"format your code please"},{"owner":{"account_id":17550038,"reputation":1,"user_id":12730625,"display_name":"giusdisplay"},"score":0,"creation_date":1579258634,"post_id":59785833,"comment_id":105714880,"body_markdown":"I tried to format the code but I can&#39;t do better than that","body":"I tried to format the code but I can&#39;t do better than that"},{"owner":{"account_id":7557680,"reputation":2844,"user_id":5736633,"accept_rate":71,"display_name":"vatbub"},"score":0,"creation_date":1579259475,"post_id":59785833,"comment_id":105715301,"body_markdown":"Welcome to StackOverflow :) Please do not include the code for your entire project. This makes it hard to understand and difficult to find the issue. Instead, please try to reduce your code to a [minimal, reproducible example](https://stackoverflow.com/help/minimal-reproducible-example). Cheers :)","body":"Welcome to StackOverflow :) Please do not include the code for your entire project. This makes it hard to understand and difficult to find the issue. Instead, please try to reduce your code to a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal, reproducible example</a>. Cheers :)"},{"owner":{"account_id":17550038,"reputation":1,"user_id":12730625,"display_name":"giusdisplay"},"score":0,"creation_date":1579260932,"post_id":59785833,"comment_id":105715984,"body_markdown":"I wasn&#39;t sure which files were needed for you to understand and solve the problem","body":"I wasn&#39;t sure which files were needed for you to understand and solve the problem"}],"answers":[{"tags":[],"owner":{"account_id":425670,"reputation":2681,"user_id":806407,"accept_rate":78,"display_name":"lakshman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1579258165,"creation_date":1579258165,"answer_id":59785879,"question_id":59785833,"body_markdown":"You need to annotate `UserDao` with `@Repository` annotation.","title":"Exception: Consider defining a bean of type in your configuration","body":"<p>You need to annotate <code>UserDao</code> with <code>@Repository</code> annotation.</p>\n"},{"tags":[],"owner":{"account_id":4874770,"reputation":983,"user_id":3930210,"display_name":"Gaurav Dhiman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1579258342,"creation_date":1579258342,"answer_id":59785919,"question_id":59785833,"body_markdown":"UserDao should be a spring bean. In order to make it a spring bean use annotation **@Repository or @Component**","title":"Exception: Consider defining a bean of type in your configuration","body":"<p>UserDao should be a spring bean. In order to make it a spring bean use annotation <strong>@Repository or @Component</strong></p>\n"},{"tags":[],"owner":{"account_id":9343149,"reputation":117,"user_id":11880321,"display_name":"ApprenticeWST"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1592378538,"creation_date":1579264650,"answer_id":59787498,"question_id":59785833,"body_markdown":"You are using `@Autowired UserDao` in main class, which is the cause.\r\n\r\nTry :\r\n\r\n 1. Adding `@Repository` in `UserDao`\r\n 2. Then, annotate run method in `MyFirstArtifactApplication`, with `@PostConstruct`.\r\n\r\nIf the above does not work, then try changing your main class to :\r\n\r\n    @SpringBootApplication\r\n    public class MyFirstArtifactApplication {\r\n    \r\n        @Autowired\r\n        UserDao userDao;\r\n    \r\n        private static final Logger log =  LoggerFactory.getLogger(MyFirstArtifactApplication.class);\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(MyFirstArtifactApplication.class, args);\r\n            System.out.println(&quot;ciao&quot;);\r\n        }\r\n    \r\n        @PostConstruct \r\n        public void setUpData(String... strings) throws Exception {\r\n            log.info(&quot;ciao23&quot;);\r\n            userDao.save(new User(&quot;AAABBB00A01A123A&quot;, &quot;A B&quot;, &quot;AA&quot;,&quot;user&quot;));\r\n            userDao.save(new User(&quot;RSSMRA85T10A562S&quot;, &quot;M R&quot;,&quot;ab&quot;, &quot;user&quot;));\r\n        }\r\n     }","title":"Exception: Consider defining a bean of type in your configuration","body":"<p>You are using <code>@Autowired UserDao</code> in main class, which is the cause.</p>\n\n<p>Try :</p>\n\n<ol>\n<li>Adding <code>@Repository</code> in <code>UserDao</code></li>\n<li>Then, annotate run method in <code>MyFirstArtifactApplication</code>, with <code>@PostConstruct</code>.</li>\n</ol>\n\n<p>If the above does not work, then try changing your main class to :</p>\n\n<pre><code>@SpringBootApplication\npublic class MyFirstArtifactApplication {\n\n    @Autowired\n    UserDao userDao;\n\n    private static final Logger log =  LoggerFactory.getLogger(MyFirstArtifactApplication.class);\n\n    public static void main(String[] args) {\n        SpringApplication.run(MyFirstArtifactApplication.class, args);\n        System.out.println(\"ciao\");\n    }\n\n    @PostConstruct \n    public void setUpData(String... strings) throws Exception {\n        log.info(\"ciao23\");\n        userDao.save(new User(\"AAABBB00A01A123A\", \"A B\", \"AA\",\"user\"));\n        userDao.save(new User(\"RSSMRA85T10A562S\", \"M R\",\"ab\", \"user\"));\n    }\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17550480,"reputation":1,"user_id":12730976,"display_name":"majkelo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1579267466,"creation_date":1579267466,"answer_id":59788288,"question_id":59785833,"body_markdown":"create @Controller class and @Autowire yours Dao&#39;s in there (but use a constructor)... Spring boot is a preconfigurated spring mvc .. \r\nso model - is yours Entity , controller - ? ,you can use @service/@component also.\r\nand use @Repository on  UserDao","title":"Exception: Consider defining a bean of type in your configuration","body":"<p>create @Controller class and @Autowire yours Dao's in there (but use a constructor)... Spring boot is a preconfigurated spring mvc .. \nso model - is yours Entity , controller - ? ,you can use @service/@component also.\nand use @Repository on  UserDao</p>\n"}],"owner":{"account_id":17550038,"reputation":1,"user_id":12730625,"display_name":"giusdisplay"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11572,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1695316075,"creation_date":1579257998,"question_id":59785833,"body_markdown":"I&#39;m not very familiar with English. I will try to explain the problem.\r\nI am learning to use spring-boot framework. \r\nI&#39;m configuring the model part. So I created the database tables using annotations @Entity, @Table\r\n\r\nAfter I created the tables, I created DAO for each one.\r\n\r\nI am following a tutorial, but I am not doing anything other than it.\r\n\r\nThe only different thing I did was add this line to the &quot;application.properties&quot; file otherwise the application would not work (this before implementing the model part) After creating the model part I encountered this new problem\r\n\r\n    spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration\r\n\r\n\r\nWhen I run and build the project I get the following error because the application fails to start. This is the output:\r\n\r\n     :: Spring Boot ::        (v2.2.2.RELEASE)\r\n    \r\n    2020-01-17 10:59:41.645  INFO 12464 --- [           main] c.m.m.MyFirstArtifactApplication         : Starting MyFirstArtifactApplication on SII-AS1 with PID 12464 (C:\\Users\\name\\Desktop\\my-first-artifact\\target\\classes started by name in C:\\Users\\name\\Desktop\\my-first-artifact)\r\n    2020-01-17 10:59:41.648  INFO 12464 --- [           main] c.m.m.MyFirstArtifactApplication         : No active profile set, falling back to default profiles: default\r\n    2020-01-17 10:59:42.500  INFO 12464 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8094 (http)\r\n    2020-01-17 10:59:42.507  INFO 12464 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n    2020-01-17 10:59:42.507  INFO 12464 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.29]\r\n    2020-01-17 10:59:42.590  INFO 12464 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n    2020-01-17 10:59:42.590  INFO 12464 --- [           main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 909 ms\r\n    2020-01-17 10:59:42.624  WARN 12464 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;myFirstArtifactApplication&#39;: Unsatisfied dependency expressed through field &#39;userDao&#39;; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;com.myfirstgroup.myfirstartifact.daos.UserDao&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\r\n    2020-01-17 10:59:42.626  INFO 12464 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\r\n    2020-01-17 10:59:42.637  INFO 12464 --- [           main] ConditionEvaluationReportLoggingListener : \r\n    \r\n    Error starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n    2020-01-17 10:59:42.702 ERROR 12464 --- [           main] o.s.b.d.LoggingFailureAnalysisReporter   : \r\n    \r\n    ***************************\r\n    APPLICATION FAILED TO START\r\n    ***************************\r\n    \r\n    Description:\r\n    \r\n    Field userDao in com.myfirstgroup.myfirstartifact.MyFirstArtifactApplication required a bean of type &#39;com.myfirstgroup.myfirstartifact.daos.UserDao&#39; that could not be found.\r\n    \r\n    The injection point has the following annotations:\r\n    \t- @org.springframework.beans.factory.annotation.Autowired(required=true)\r\n    \r\n    \r\n    Action:\r\n    \r\n    Consider defining a bean of type &#39;com.myfirstgroup.myfirstartifact.daos.UserDao&#39; in your configuration.\r\n    \r\n    \r\n    Process finished with exit code 1\r\n\r\nCan anyone help me?\r\n\r\n\r\nEntities:\r\n\r\n**- User**\r\n\r\n    package com.myfirstgroup.myfirstartifact.entities;\r\n    \r\n    import lombok.AllArgsConstructor;\r\n    import lombok.Getter;\r\n    import lombok.NoArgsConstructor;\r\n    import lombok.Setter;\r\n    \r\n    import javax.persistence.Column;\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.Id;\r\n    import javax.persistence.Table;\r\n    import javax.validation.constraints.NotBlank;\r\n    import javax.validation.constraints.NotEmpty;\r\n    import javax.validation.constraints.NotNull;\r\n    \r\n    \r\n    @Entity\r\n    @Table(name = &quot;users&quot;)\r\n    @AllArgsConstructor @NoArgsConstructor\r\n            public class User {\r\n          \r\n            //String ID, String USERNAME, String PASSWORD, String PERMISSION\r\n            @Id                                 //JPA id of the table\r\n            @Column(name = &quot;ID&quot;)                //JPA (if column name is different from variable name)\r\n            @NotEmpty @NotBlank @NotNull        //Lombok annotation\r\n            @Getter @Setter                     //JSR-303 Validation\r\n            private String id;\r\n        \r\n            @Column(name = &quot;USERNAME&quot;)          //JPA (if column name is different from variable name)\r\n            @NotEmpty @NotBlank @NotNull        //Lombok annotation\r\n            @Getter @Setter                     //JSR-303 Validation\r\n            private String username;\r\n        \r\n            @Column(name = &quot;PASSWORD&quot;)          //JPA (if column name is different from variable name)\r\n            @NotEmpty @NotBlank @NotNull        //Lombok annotation\r\n            @Getter @Setter                     //JSR-303 Validation\r\n            private String password;\r\n        \r\n            @Column(name = &quot;PERMISSION&quot;)        //JPA (if column name is different from variable name)\r\n            @NotEmpty @NotBlank @NotNull        //Lombok annotation\r\n            @Getter @Setter                     //JSR-303 Validation\r\n            private String permission;\r\n        \r\n        }\r\n\r\n**- Account**\r\n\r\n\r\n    package com.myfirstgroup.myfirstartifact.entities;\r\n    \r\n    import lombok.AllArgsConstructor;\r\n    import lombok.Getter;\r\n    import lombok.NoArgsConstructor;\r\n    import lombok.Setter;\r\n    \r\n    import javax.persistence.Column;\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.Id;\r\n    import javax.persistence.Table;\r\n    import javax.validation.constraints.NotBlank;\r\n    import javax.validation.constraints.NotEmpty;\r\n    import javax.validation.constraints.NotNull;\r\n    \r\n    @Entity\r\n    @Table(name = &quot;accounts&quot;)\r\n    @AllArgsConstructor @NoArgsConstructor\r\n    \r\n    public class Account {\r\n    \r\n        //String ID, String FK_USER, Double TOTAL\r\n        @Id                             //JPA id of the table\r\n        @Column(name = &quot;ID&quot;)            //JPA (if column name is different from variable name)\r\n        @NotNull @NotBlank @NotEmpty    //Lombok annotation\r\n        @Getter @Setter                 //JSR-303 Validation\r\n        private String id;\r\n    \r\n        @Column(name = &quot;FK_USER&quot;)       //JPA (if column name is different from variable name)\r\n        @NotNull @NotBlank @NotEmpty    //Lombok annotation\r\n        @Getter @Setter                 //JSR-303 Validation\r\n        private String fkUser;\r\n    \r\n        @Column(name = &quot;TOTAL&quot;)         //JPA (if column name is different from variable name)\r\n        @Getter @Setter                 //JSR-303 Validation\r\n        private Double total;\r\n    }\r\n\r\n- **Opearation**\r\n\r\n         package com.myfirstgroup.myfirstartifact.entities;\r\n    \r\n    \r\n          import lombok.AllArgsConstructor;\r\n          import lombok.Getter;\r\n          import lombok.NoArgsConstructor;\r\n          import lombok.Setter;\r\n          import javax.persistence.*;\r\n          import javax.validation.constraints.NotBlank;\r\n          import javax.validation.constraints.NotEmpty;\r\n          import javax.validation.constraints.NotNull;\r\n          import java.util.Date;\r\n    \r\n         @Entity\r\n         @Table(name = &quot;operations&quot;)\r\n         @AllArgsConstructor @NoArgsConstructor\r\n         public class Operation {\r\n              //String ID, Date DATE, Double Value, String DESCRIPTION, String FK_ACCOUNT1, String FK_ACCOUNT2\r\n    \r\n        @Id                             //JPA id of the table\r\n        @Column(name =&quot;ID&quot;)             //JPA (if column name is different from variable name)\r\n        @Getter @Setter                 //JSR-303 Validation\r\n        @NotEmpty @NotNull @NotBlank    //Lombok annotation\r\n        private String id;\r\n    \r\n        @Column(name =&quot;DATE&quot;)           //JPA (if column name is different from variable name)\r\n        @Getter @Setter                 //JSR-303 Validation\r\n        private Date date;              //Lombok annotation\r\n    \r\n        @Column(name =&quot;DESCRIPTION&quot;)    //JPA (if column name is different from variable name)\r\n        @Getter @Setter                 //JSR-303 Validation\r\n        private String description;\r\n    \r\n    \r\n        @Column(name =&quot;VALUE&quot;)          //JPA (if column name is different from variable name)\r\n        @Getter @Setter                 //JSR-303 Validation\r\n        @NotNull                        //Lombok annotation\r\n        private Double value;\r\n    \r\n    \r\n        @Column(name =&quot;FK_ACCOUNT1&quot;)    //JPA (if column name is different from variable name)\r\n        @Getter @Setter                 //JSR-303 Validation\r\n        @NotEmpty @NotNull @NotBlank    //Lombok annotation\r\n        private String fkAccount1;\r\n    \r\n        @Column(name =&quot;FK_ACCOUNT2&quot;)    //JPA (if column name is different from variable name)\r\n        @Getter @Setter                 //JSR-303 Validation\r\n        private String fkAccount2;\r\n    \r\n        @PrePersist\r\n        void getTimeOperation(){\r\n            this.date = new Date();\r\n        }\r\n    }\r\n\r\nDaos:\r\n\r\n**-UserDao**\r\n\r\n    package com.myfirstgroup.myfirstartifact.daos;\r\n    \r\n    import com.myfirstgroup.myfirstartifact.entities.User;\r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n    \r\n    import org.springframework.stereotype.Repository;\r\n    \r\n    import java.util.Optional;\r\n    \r\n    \r\n    public interface UserDao extends JpaRepository&lt;User, String&gt; {\r\n    \r\n        Optional&lt;User&gt; findById(String id);\r\n    }\r\n\r\n\r\n- **AccountDao**\r\n\r\n          package com.myfirstgroup.myfirstartifact.daos;\r\n    \r\n          import com.myfirstgroup.myfirstartifact.entities.Account;\r\n          import org.springframework.data.jpa.repository.JpaRepository;\r\n          import org.springframework.data.jpa.repository.Query;\r\n          import org.springframework.data.repository.query.Param;\r\n          import org.springframework.stereotype.Repository;\r\n    \r\n          import java.util.List;\r\n    \r\n    \r\n          public interface AccountDao extends JpaRepository&lt;Account, String&gt; {\r\n        @Query(value = &quot;SELECT * FROM accounts WHERE FK_USER=:user&quot;, nativeQuery = true)\r\n        List&lt;Account&gt; getAllAccountPerUser(@Param(&quot;user&quot;)String user);\r\n        List&lt;Account&gt; findByFkUser(String fkUser);\r\n    }\r\n\r\n\r\n- **OperationDao**\r\n\r\n        package com.myfirstgroup.myfirstartifact.daos;\r\n    \r\n        import com.myfirstgroup.myfirstartifact.entities.Operation;\r\n        import org.springframework.data.jpa.repository.JpaRepository;\r\n        import org.springframework.data.jpa.repository.Query;\r\n        import org.springframework.data.repository.query.Param;\r\n        import org.springframework.stereotype.Repository;\r\n    \r\n        import java.util.List;\r\n    \r\n        public interface OperationDao extends JpaRepository&lt;Operation,String&gt; {\r\n        @Query(value = &quot;SELECT * FROM operations WHERE FK_ACCOUNT1:=account OR FK_ACCOUNT2:=account&quot;, nativeQuery = true)\r\n        List&lt;Operation&gt; findAllOperationByAccount(@Param(&quot;account&quot;) String account);\r\n    }\r\n\r\nArtifactApplication.java:\r\n\r\n\r\n    package com.myfirstgroup.myfirstartifact;\r\n    \r\n    import com.myfirstgroup.myfirstartifact.daos.AccountDao;\r\n    import com.myfirstgroup.myfirstartifact.daos.OperationDao;\r\n    import com.myfirstgroup.myfirstartifact.daos.UserDao;\r\n    import com.myfirstgroup.myfirstartifact.entities.Account;\r\n    import com.myfirstgroup.myfirstartifact.entities.Operation;\r\n    import com.myfirstgroup.myfirstartifact.entities.User;\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.EnableAutoConfiguration;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    \r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.boot.CommandLineRunner;\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.boot.autoconfigure.domain.EntityScan;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.ComponentScan;\r\n    import org.springframework.data.jpa.repository.config.EnableJpaRepositories;\r\n    \r\n    \r\n    import java.util.Date;\r\n    \r\n    @SpringBootApplication\r\n    \r\n    \r\n    \r\n    public class MyFirstArtifactApplication implements CommandLineRunner{\r\n    \r\n    \r\n    \t@Autowired\r\n    \tUserDao userDao;\r\n    \r\n    \t@Autowired\r\n    \tAccountDao accountDao;\r\n    \r\n    \t@Autowired\r\n    \tOperationDao operationDao;\r\n    \r\n    \r\n    \r\n    \tprivate static final Logger log =  LoggerFactory.getLogger(MyFirstArtifactApplication.class);\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(MyFirstArtifactApplication.class, args);\r\n    \t\tSystem.out.println(&quot;ciao&quot;);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void run(String... strings) throws Exception{\r\n    \t\tlog.info(&quot;ciao23&quot;);\r\n    \r\n    \t\tuserDao.save(new User(&quot;AAABBB12C456D&quot;, &quot;Aaaaaaa&quot;, &quot;bbbbbbb&quot;, &quot;user&quot;));\r\n    \t\tuserDao.save(new User(&quot;RSSMRA85T10A562S&quot;, &quot;Mario Rossi&quot;, &quot;abba&quot;, &quot;user&quot;));\r\n    \t\tuserDao.save(new User(&quot;PLLPNC82B02G224Z&quot;, &quot;Pinco Pallino&quot;, &quot;salutpass&quot;, &quot;user&quot;));\r\n    \r\n    \t\taccountDao.save(new Account(&quot;account_number_1&quot;,&quot;AAABBB12C456D&quot;,3000.00));\r\n    \t\taccountDao.save(new Account(&quot;account_number_2&quot;,&quot;AAABBB12C456D&quot;,4000.00));\r\n    \t\taccountDao.save(new Account(&quot;account_number_3&quot;,&quot;RSSMRA85T10A562S&quot;,7000.00));\r\n    \t\taccountDao.save(new Account(&quot;account_number_4&quot;,&quot;PLLPNC82B02G224Z&quot;,2000.00));\r\n    \t\taccountDao.save(new Account(&quot;account_number_5&quot;,&quot;PLLPNC82B02G224Z&quot;,8000.00));\r\n    \r\n    \t\toperationDao.save(new Operation(&quot;3452&quot;,new Date(),&quot;Bonifico Bancario&quot;,100.00,&quot;account_number_1&quot;,&quot;account_number_3&quot;));\r\n    \t\toperationDao.save(new Operation(&quot;3453&quot;,new Date(),&quot;Pagamento Tasse&quot;,-100.00,&quot;account_number_2&quot;,&quot;account_number_5&quot;));\r\n    \t\toperationDao.save(new Operation(&quot;3454&quot;,new Date(),&quot;Postagiro&quot;,230.00,&quot;account_number_3&quot;,&quot;account_number_4&quot;));\r\n    \t\toperationDao.save(new Operation(&quot;3455&quot;,new Date(),&quot;Vaglia Postale&quot;,172.00,&quot;account_number_1&quot;,&quot;account_number_5&quot;));\r\n    \t\toperationDao.save(new Operation(&quot;3456&quot;,new Date(),&quot;Acquisto Azioni&quot;,-3400.00,&quot;account_number_2&quot;,&quot;account_number_4&quot;));\r\n    \t\toperationDao.save(new Operation(&quot;3457&quot;,new Date(),&quot;Vendita Azioni&quot;,100.00,&quot;account_number_2&quot;,&quot;account_number_3&quot;));\r\n    \t\toperationDao.save(new Operation(&quot;3458&quot;,new Date(),&quot;Prelevamento&quot;,-100.00,&quot;account_number_3&quot;,&quot;&quot;));\r\n    \t\toperationDao.save(new Operation(&quot;3459&quot;,new Date(),&quot;Deposito&quot;,1100.00,&quot;account_number_5&quot;,&quot;account_number_1&quot;));\r\n    \t}\r\n    }\r\n\r\n\r\n\r\npom.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.2.2.RELEASE&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.myfirstgroup&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;my-first-artifact&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;my-first-artifact&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t\t&lt;exclusions&gt;\r\n    \t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t&lt;/exclusions&gt;\r\n    \t\t&lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.18.10&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.3.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n        &lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    \r\n    &lt;/project&gt;\r\n\r\n\r\n\r\napplication.properties:\r\n\r\n    server.port=8094\r\n    spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration\r\n\r\n\r\n\r\n\r\n\r\n","title":"Exception: Consider defining a bean of type in your configuration","body":"<p>I'm not very familiar with English. I will try to explain the problem.\nI am learning to use spring-boot framework. \nI'm configuring the model part. So I created the database tables using annotations @Entity, @Table</p>\n\n<p>After I created the tables, I created DAO for each one.</p>\n\n<p>I am following a tutorial, but I am not doing anything other than it.</p>\n\n<p>The only different thing I did was add this line to the \"application.properties\" file otherwise the application would not work (this before implementing the model part) After creating the model part I encountered this new problem</p>\n\n<pre><code>spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration\n</code></pre>\n\n<p>When I run and build the project I get the following error because the application fails to start. This is the output:</p>\n\n<pre><code> :: Spring Boot ::        (v2.2.2.RELEASE)\n\n2020-01-17 10:59:41.645  INFO 12464 --- [           main] c.m.m.MyFirstArtifactApplication         : Starting MyFirstArtifactApplication on SII-AS1 with PID 12464 (C:\\Users\\g.barbera\\Desktop\\my-first-artifact\\target\\classes started by g.barbera in C:\\Users\\g.barbera\\Desktop\\my-first-artifact)\n2020-01-17 10:59:41.648  INFO 12464 --- [           main] c.m.m.MyFirstArtifactApplication         : No active profile set, falling back to default profiles: default\n2020-01-17 10:59:42.500  INFO 12464 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8094 (http)\n2020-01-17 10:59:42.507  INFO 12464 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2020-01-17 10:59:42.507  INFO 12464 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.29]\n2020-01-17 10:59:42.590  INFO 12464 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2020-01-17 10:59:42.590  INFO 12464 --- [           main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 909 ms\n2020-01-17 10:59:42.624  WARN 12464 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'myFirstArtifactApplication': Unsatisfied dependency expressed through field 'userDao'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.myfirstgroup.myfirstartifact.daos.UserDao' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\n2020-01-17 10:59:42.626  INFO 12464 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\n2020-01-17 10:59:42.637  INFO 12464 --- [           main] ConditionEvaluationReportLoggingListener : \n\nError starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2020-01-17 10:59:42.702 ERROR 12464 --- [           main] o.s.b.d.LoggingFailureAnalysisReporter   : \n\n***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nField userDao in com.myfirstgroup.myfirstartifact.MyFirstArtifactApplication required a bean of type 'com.myfirstgroup.myfirstartifact.daos.UserDao' that could not be found.\n\nThe injection point has the following annotations:\n    - @org.springframework.beans.factory.annotation.Autowired(required=true)\n\n\nAction:\n\nConsider defining a bean of type 'com.myfirstgroup.myfirstartifact.daos.UserDao' in your configuration.\n\n\nProcess finished with exit code 1\n</code></pre>\n\n<p>Can anyone help me?</p>\n\n<p>Entities:</p>\n\n<p><strong>- User</strong></p>\n\n<pre><code>package com.myfirstgroup.myfirstartifact.entities;\n\nimport lombok.AllArgsConstructor;\nimport lombok.Getter;\nimport lombok.NoArgsConstructor;\nimport lombok.Setter;\n\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.Id;\nimport javax.persistence.Table;\nimport javax.validation.constraints.NotBlank;\nimport javax.validation.constraints.NotEmpty;\nimport javax.validation.constraints.NotNull;\n\n\n@Entity\n@Table(name = \"users\")\n@AllArgsConstructor @NoArgsConstructor\n        public class User {\n\n        //String ID, String USERNAME, String PASSWORD, String PERMISSION\n        @Id                                 //JPA id of the table\n        @Column(name = \"ID\")                //JPA (if column name is different from variable name)\n        @NotEmpty @NotBlank @NotNull        //Lombok annotation\n        @Getter @Setter                     //JSR-303 Validation\n        private String id;\n\n        @Column(name = \"USERNAME\")          //JPA (if column name is different from variable name)\n        @NotEmpty @NotBlank @NotNull        //Lombok annotation\n        @Getter @Setter                     //JSR-303 Validation\n        private String username;\n\n        @Column(name = \"PASSWORD\")          //JPA (if column name is different from variable name)\n        @NotEmpty @NotBlank @NotNull        //Lombok annotation\n        @Getter @Setter                     //JSR-303 Validation\n        private String password;\n\n        @Column(name = \"PERMISSION\")        //JPA (if column name is different from variable name)\n        @NotEmpty @NotBlank @NotNull        //Lombok annotation\n        @Getter @Setter                     //JSR-303 Validation\n        private String permission;\n\n    }\n</code></pre>\n\n<p><strong>- Account</strong></p>\n\n<pre><code>package com.myfirstgroup.myfirstartifact.entities;\n\nimport lombok.AllArgsConstructor;\nimport lombok.Getter;\nimport lombok.NoArgsConstructor;\nimport lombok.Setter;\n\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.Id;\nimport javax.persistence.Table;\nimport javax.validation.constraints.NotBlank;\nimport javax.validation.constraints.NotEmpty;\nimport javax.validation.constraints.NotNull;\n\n@Entity\n@Table(name = \"accounts\")\n@AllArgsConstructor @NoArgsConstructor\n\npublic class Account {\n\n    //String ID, String FK_USER, Double TOTAL\n    @Id                             //JPA id of the table\n    @Column(name = \"ID\")            //JPA (if column name is different from variable name)\n    @NotNull @NotBlank @NotEmpty    //Lombok annotation\n    @Getter @Setter                 //JSR-303 Validation\n    private String id;\n\n    @Column(name = \"FK_USER\")       //JPA (if column name is different from variable name)\n    @NotNull @NotBlank @NotEmpty    //Lombok annotation\n    @Getter @Setter                 //JSR-303 Validation\n    private String fkUser;\n\n    @Column(name = \"TOTAL\")         //JPA (if column name is different from variable name)\n    @Getter @Setter                 //JSR-303 Validation\n    private Double total;\n}\n</code></pre>\n\n<ul>\n<li><p><strong>Opearation</strong></p>\n\n<pre><code> package com.myfirstgroup.myfirstartifact.entities;\n\n\n  import lombok.AllArgsConstructor;\n  import lombok.Getter;\n  import lombok.NoArgsConstructor;\n  import lombok.Setter;\n  import javax.persistence.*;\n  import javax.validation.constraints.NotBlank;\n  import javax.validation.constraints.NotEmpty;\n  import javax.validation.constraints.NotNull;\n  import java.util.Date;\n\n @Entity\n @Table(name = \"operations\")\n @AllArgsConstructor @NoArgsConstructor\n public class Operation {\n      //String ID, Date DATE, Double Value, String DESCRIPTION, String FK_ACCOUNT1, String FK_ACCOUNT2\n\n@Id                             //JPA id of the table\n@Column(name =\"ID\")             //JPA (if column name is different from variable name)\n@Getter @Setter                 //JSR-303 Validation\n@NotEmpty @NotNull @NotBlank    //Lombok annotation\nprivate String id;\n\n@Column(name =\"DATE\")           //JPA (if column name is different from variable name)\n@Getter @Setter                 //JSR-303 Validation\nprivate Date date;              //Lombok annotation\n\n@Column(name =\"DESCRIPTION\")    //JPA (if column name is different from variable name)\n@Getter @Setter                 //JSR-303 Validation\nprivate String description;\n\n\n@Column(name =\"VALUE\")          //JPA (if column name is different from variable name)\n@Getter @Setter                 //JSR-303 Validation\n@NotNull                        //Lombok annotation\nprivate Double value;\n\n\n@Column(name =\"FK_ACCOUNT1\")    //JPA (if column name is different from variable name)\n@Getter @Setter                 //JSR-303 Validation\n@NotEmpty @NotNull @NotBlank    //Lombok annotation\nprivate String fkAccount1;\n\n@Column(name =\"FK_ACCOUNT2\")    //JPA (if column name is different from variable name)\n@Getter @Setter                 //JSR-303 Validation\nprivate String fkAccount2;\n\n@PrePersist\nvoid getTimeOperation(){\n    this.date = new Date();\n}\n</code></pre>\n\n<p>}</p></li>\n</ul>\n\n<p>Daos:</p>\n\n<p><strong>-UserDao</strong></p>\n\n<pre><code>package com.myfirstgroup.myfirstartifact.daos;\n\nimport com.myfirstgroup.myfirstartifact.entities.User;\nimport org.springframework.data.jpa.repository.JpaRepository;\n\nimport org.springframework.stereotype.Repository;\n\nimport java.util.Optional;\n\n\npublic interface UserDao extends JpaRepository&lt;User, String&gt; {\n\n    Optional&lt;User&gt; findById(String id);\n}\n</code></pre>\n\n<ul>\n<li><p><strong>AccountDao</strong></p>\n\n<pre><code>  package com.myfirstgroup.myfirstartifact.daos;\n\n  import com.myfirstgroup.myfirstartifact.entities.Account;\n  import org.springframework.data.jpa.repository.JpaRepository;\n  import org.springframework.data.jpa.repository.Query;\n  import org.springframework.data.repository.query.Param;\n  import org.springframework.stereotype.Repository;\n\n  import java.util.List;\n\n\n  public interface AccountDao extends JpaRepository&lt;Account, String&gt; {\n@Query(value = \"SELECT * FROM accounts WHERE FK_USER=:user\", nativeQuery = true)\nList&lt;Account&gt; getAllAccountPerUser(@Param(\"user\")String user);\nList&lt;Account&gt; findByFkUser(String fkUser);\n</code></pre>\n\n<p>}</p></li>\n<li><p><strong>OperationDao</strong></p>\n\n<pre><code>package com.myfirstgroup.myfirstartifact.daos;\n\nimport com.myfirstgroup.myfirstartifact.entities.Operation;\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.data.jpa.repository.Query;\nimport org.springframework.data.repository.query.Param;\nimport org.springframework.stereotype.Repository;\n\nimport java.util.List;\n\npublic interface OperationDao extends JpaRepository&lt;Operation,String&gt; {\n@Query(value = \"SELECT * FROM operations WHERE FK_ACCOUNT1:=account OR FK_ACCOUNT2:=account\", nativeQuery = true)\nList&lt;Operation&gt; findAllOperationByAccount(@Param(\"account\") String account);\n</code></pre>\n\n<p>}</p></li>\n</ul>\n\n<p>ArtifactApplication.java:</p>\n\n<pre><code>package com.myfirstgroup.myfirstartifact;\n\nimport com.myfirstgroup.myfirstartifact.daos.AccountDao;\nimport com.myfirstgroup.myfirstartifact.daos.OperationDao;\nimport com.myfirstgroup.myfirstartifact.daos.UserDao;\nimport com.myfirstgroup.myfirstartifact.entities.Account;\nimport com.myfirstgroup.myfirstartifact.entities.Operation;\nimport com.myfirstgroup.myfirstartifact.entities.User;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.EnableAutoConfiguration;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.CommandLineRunner;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.autoconfigure.domain.EntityScan;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\n\n\nimport java.util.Date;\n\n@SpringBootApplication\n\n\n\npublic class MyFirstArtifactApplication implements CommandLineRunner{\n\n\n    @Autowired\n    UserDao userDao;\n\n    @Autowired\n    AccountDao accountDao;\n\n    @Autowired\n    OperationDao operationDao;\n\n\n\n    private static final Logger log =  LoggerFactory.getLogger(MyFirstArtifactApplication.class);\n\n    public static void main(String[] args) {\n        SpringApplication.run(MyFirstArtifactApplication.class, args);\n        System.out.println(\"ciao\");\n    }\n\n    @Override\n    public void run(String... strings) throws Exception{\n        log.info(\"ciao23\");\n\n        userDao.save(new User(\"AAABBB12C456D\", \"Aaaaaaa\", \"bbbbbbb\", \"user\"));\n        userDao.save(new User(\"RSSMRA85T10A562S\", \"Mario Rossi\", \"abba\", \"user\"));\n        userDao.save(new User(\"PLLPNC82B02G224Z\", \"Pinco Pallino\", \"salutpass\", \"user\"));\n\n        accountDao.save(new Account(\"account_number_1\",\"AAABBB12C456D\",3000.00));\n        accountDao.save(new Account(\"account_number_2\",\"AAABBB12C456D\",4000.00));\n        accountDao.save(new Account(\"account_number_3\",\"RSSMRA85T10A562S\",7000.00));\n        accountDao.save(new Account(\"account_number_4\",\"PLLPNC82B02G224Z\",2000.00));\n        accountDao.save(new Account(\"account_number_5\",\"PLLPNC82B02G224Z\",8000.00));\n\n        operationDao.save(new Operation(\"3452\",new Date(),\"Bonifico Bancario\",100.00,\"account_number_1\",\"account_number_3\"));\n        operationDao.save(new Operation(\"3453\",new Date(),\"Pagamento Tasse\",-100.00,\"account_number_2\",\"account_number_5\"));\n        operationDao.save(new Operation(\"3454\",new Date(),\"Postagiro\",230.00,\"account_number_3\",\"account_number_4\"));\n        operationDao.save(new Operation(\"3455\",new Date(),\"Vaglia Postale\",172.00,\"account_number_1\",\"account_number_5\"));\n        operationDao.save(new Operation(\"3456\",new Date(),\"Acquisto Azioni\",-3400.00,\"account_number_2\",\"account_number_4\"));\n        operationDao.save(new Operation(\"3457\",new Date(),\"Vendita Azioni\",100.00,\"account_number_2\",\"account_number_3\"));\n        operationDao.save(new Operation(\"3458\",new Date(),\"Prelevamento\",-100.00,\"account_number_3\",\"\"));\n        operationDao.save(new Operation(\"3459\",new Date(),\"Deposito\",1100.00,\"account_number_5\",\"account_number_1\"));\n    }\n}\n</code></pre>\n\n<p>pom.xml:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.2.2.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.myfirstgroup&lt;/groupId&gt;\n    &lt;artifactId&gt;my-first-artifact&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;my-first-artifact&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;1.18.10&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n            &lt;version&gt;2.3.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n\n&lt;/project&gt;\n</code></pre>\n\n<p>application.properties:</p>\n\n<pre><code>server.port=8094\nspring.autoconfigure.exclude=org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration\n</code></pre>\n"},{"tags":["java","tomcat","jar","war","java-io"],"answers":[{"tags":[],"owner":{"account_id":1827567,"reputation":1054,"user_id":1659875,"display_name":"spandey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670059484,"creation_date":1520787525,"answer_id":49222604,"question_id":49222370,"body_markdown":"You should be using\r\n\r\n    getResourceAsStream(...);\r\n\r\nwhen the resource is bundled as a jar/war or any other single file package for that matter.","title":"java.lang.IllegalArgumentException: URI is not hierarchical (in deployed application)","body":"<p>You should be using</p>\n<pre><code>getResourceAsStream(...);\n</code></pre>\n<p>when the resource is bundled as a jar/war or any other single file package for that matter.</p>\n"},{"tags":[],"owner":{"account_id":7582437,"reputation":5222,"user_id":5752737,"accept_rate":100,"display_name":"geco17"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1520787914,"creation_date":1520787914,"answer_id":49222689,"question_id":49222370,"body_markdown":"Create the `OutputStream` with \r\n\r\n\tOutputStream os = this.getClass()\r\n\t\t.getClassLoader()\r\n\t\t.getResourceAsStream(&quot;/templates/&quot; + quoteNumber + &quot;.pdf&quot;);\r\n\r\nYou want to store the pdf inside the jar, which is different from when running in your local environment (say with Eclipse) where the OS filesystem is used. \r\n\r\n","title":"java.lang.IllegalArgumentException: URI is not hierarchical (in deployed application)","body":"<p>Create the <code>OutputStream</code> with </p>\n\n<pre><code>OutputStream os = this.getClass()\n    .getClassLoader()\n    .getResourceAsStream(\"/templates/\" + quoteNumber + \".pdf\");\n</code></pre>\n\n<p>You want to store the pdf inside the jar, which is different from when running in your local environment (say with Eclipse) where the OS filesystem is used. </p>\n"},{"tags":[],"owner":{"account_id":10247695,"reputation":64,"user_id":7562982,"display_name":"Jasvant Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695315270,"creation_date":1695315270,"answer_id":77152223,"question_id":49222370,"body_markdown":"Modify the code to\r\n\r\n    OutputStream outputStream = new FileOutputStream(&quot;/templates/&quot;+quoteNumber+&quot;.pdf&quot;);","title":"java.lang.IllegalArgumentException: URI is not hierarchical (in deployed application)","body":"<p>Modify the code to</p>\n<pre><code>OutputStream outputStream = new FileOutputStream(&quot;/templates/&quot;+quoteNumber+&quot;.pdf&quot;);\n</code></pre>\n"}],"owner":{"account_id":12418760,"reputation":279,"user_id":9046818,"accept_rate":0,"display_name":"Ketan Navadiya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":555,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1695315270,"creation_date":1520786247,"question_id":49222370,"body_markdown":"I have deployed my app to jar file. I want to generate and store PDF in resource folder of my application, Everything is working for me in development but when I deployed I got error in live application\r\n\r\nfollowing is my code\r\n\r\n\t\t\tURL url = this.getClass().getResource(&quot;/templates&quot;);\r\n\t\t    parentDirectory = new File(new URI(url.toString()));\r\n\t\t\tOutputStream outputStream = new FileOutputStream(parentDirectory.toString()+&quot;/&quot;+quoteNumber+&quot;.pdf&quot;);\r\n\r\n\r\neverything is working fine and created PDf file successfully when I run my application from Eclips but I deploye application WAR file in server I got this error \r\n\r\n\r\nmy error full log is following \r\n\r\n\r\n\r\n\r\n&gt; 2018-03-09 18:23:31.033 ERROR 6 --- [ XNIO-2 task-13]\r\n&gt; o.z.p.spring.web.advice.AdviceTrait      : Internal Server Error\r\n&gt; java.lang.IllegalArgumentException: URI is not hierarchical \tat\r\n&gt; java.io.File.&lt;init&gt;(File.java:418) \tat\r\n&gt; com.beequote.web.rest.QuotebuilderResource.Quote(QuotebuilderResource.java:338)\r\n&gt; \tat\r\n&gt; com.beequote.web.rest.QuotebuilderResource$$FastClassBySpringCGLIB$$7c210806.invoke(&lt;generated&gt;)\r\n&gt; \tat\r\n&gt; org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)\r\n&gt; \tat\r\n&gt; org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738)\r\n&gt; \tat\r\n&gt; org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\r\n&gt; \tat\r\n&gt; com.ryantenney.metrics.spring.TimedMethodInterceptor.invoke(TimedMethodInterceptor.java:48)\r\n&gt; \tat\r\n&gt; com.ryantenney.metrics.spring.TimedMethodInterceptor.invoke(TimedMethodInterceptor.java:34)\r\n&gt; \tat\r\n&gt; com.ryantenney.metrics.spring.AbstractMetricMethodInterceptor.invoke(AbstractMetricMethodInterceptor.java:59)\r\n&gt; \tat\r\n&gt; org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n&gt; \tat\r\n&gt; org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673)\r\n&gt; \tat\r\n&gt; com.beequote.web.rest.QuotebuilderResource$$EnhancerBySpringCGLIB$$c16579cf.Quote(&lt;generated&gt;)\r\n&gt; \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) \tat\r\n&gt; sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n&gt; \tat\r\n&gt; sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n&gt; \tat java.lang.reflect.Method.invoke(Method.java:498) \tat\r\n&gt; org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\r\n&gt; \tat\r\n&gt; org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133)\r\n&gt; \tat\r\n&gt; org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97)\r\n&gt; \tat\r\n&gt; org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827)\r\n&gt; \tat\r\n&gt; org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738)\r\n&gt; \tat\r\n&gt; org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)\r\n&gt; \tat\r\n&gt; org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967)\r\n&gt; \tat\r\n&gt; org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901)\r\n&gt; \tat\r\n&gt; org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)\r\n&gt; \tat\r\n&gt; org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861)\r\n&gt; \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:687) \tat\r\n&gt; org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)\r\n&gt; \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:790) \tat\r\n&gt; io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:85)\r\n&gt; \tat\r\n&gt; io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)\r\n&gt; \tat\r\n&gt; com.codahale.metrics.servlet.AbstractInstrumentedFilter.doFilter(AbstractInstrumentedFilter.java:111)\r\n&gt; \tat\r\n&gt; io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n&gt; \tat\r\n&gt; io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n&gt; \tat\r\n&gt; org.springframework.web.servlet.resource.ResourceUrlEncodingFilter.doFilter(ResourceUrlEncodingFilter.java:59)\r\n&gt; \tat\r\n&gt; io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n&gt; \tat\r\n&gt; io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n&gt; \tat\r\n&gt; org.springframework.boot.web.filter.ApplicationContextHeaderFilter.doFilterInternal(ApplicationContextHeaderFilter.java:55)\r\n&gt; \tat\r\n&gt; org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n&gt; \tat\r\n&gt; io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n&gt; \tat\r\n&gt; io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n&gt; \tat\r\n&gt; org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101)\r\n&gt; \tat\r\n&gt; io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n&gt; \tat\r\n&gt; io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n&gt; \tat\r\n&gt; org.springframework.boot.actuate.trace.WebRequestTraceFilter.doFilterInternal(WebRequestTraceFilter.java:110)\r\n&gt; \tat\r\n&gt; org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n&gt; \tat\r\n&gt; io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n&gt; \tat\r\n&gt; io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n&gt; \tat\r\n&gt; org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:317)\r\n&gt; \tat\r\n&gt; org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127)\r\n&gt; \tat\r\n&gt; org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)\r\n&gt; \tat\r\n&gt; org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n&gt; \tat\r\n&gt; org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:114)\r\n&gt; \tat\r\n&gt; org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n&gt; \tat\r\n&gt; org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)\r\n&gt; \tat\r\n&gt; org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n&gt; \tat\r\n&gt; org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)\r\n&gt; \tat\r\n&gt; org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n&gt; \tat\r\n&gt; org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)\r\n&gt; \tat\r\n&gt; org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n&gt; \tat\r\n&gt; org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\r\n&gt; \tat\r\n&gt; org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n&gt; \tat com.beequote.security.jwt.JWTFilter.doFilter(JWTFilter.java:36)\r\n&gt; \tat\r\n&gt; org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n&gt; \tat\r\n&gt; org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:96)\r\n&gt; \tat\r\n&gt; org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n&gt; \tat\r\n&gt; org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n&gt; \tat\r\n&gt; org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)\r\n&gt; \tat\r\n&gt; org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n&gt; \tat\r\n&gt; org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:64)\r\n&gt; \tat\r\n&gt; org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n&gt; \tat\r\n&gt; org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n&gt; \tat\r\n&gt; org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)\r\n&gt; \tat\r\n&gt; org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n&gt; \tat\r\n&gt; org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)\r\n&gt; \tat\r\n&gt; org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n&gt; \tat\r\n&gt; org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n&gt; \tat\r\n&gt; org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:214)\r\n&gt; \tat\r\n&gt; org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:177)\r\n&gt; \tat\r\n&gt; org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:347)\r\n&gt; \tat\r\n&gt; org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:263)\r\n&gt; \tat\r\n&gt; io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n&gt; \tat\r\n&gt; io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n&gt; \tat\r\n&gt; org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)\r\n&gt; \tat\r\n&gt; org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n&gt; \tat\r\n&gt; io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n&gt; \tat\r\n&gt; io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n&gt; \tat\r\n&gt; org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:108)\r\n&gt; \tat\r\n&gt; org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n&gt; \tat\r\n&gt; io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n&gt; \tat\r\n&gt; io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n&gt; \tat\r\n&gt; org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81)\r\n&gt; \tat\r\n&gt; org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n&gt; \tat\r\n&gt; io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n&gt; \tat\r\n&gt; io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n&gt; \tat\r\n&gt; org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)\r\n&gt; \tat\r\n&gt; org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n&gt; \tat\r\n&gt; io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n&gt; \tat\r\n&gt; io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n&gt; \tat\r\n&gt; io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)\r\n&gt; \tat\r\n&gt; io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)\r\n&gt; \tat\r\n&gt; io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:64)\r\n&gt; \tat\r\n&gt; io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)\r\n&gt; \tat\r\n&gt; io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:131)\r\n&gt; \tat\r\n&gt; io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)\r\n&gt; \tat\r\n&gt; io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n&gt; \tat\r\n&gt; io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)\r\n&gt; \tat\r\n&gt; io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)\r\n&gt; \tat\r\n&gt; io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)\r\n&gt; \tat\r\n&gt; io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)\r\n&gt; \tat\r\n&gt; io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)\r\n&gt; \tat\r\n&gt; io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n&gt; \tat\r\n&gt; io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n&gt; \tat\r\n&gt; io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:292)\r\n&gt; \tat\r\n&gt; io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:81)\r\n&gt; \tat\r\n&gt; io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:138)\r\n&gt; \tat\r\n&gt; io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:135)\r\n&gt; \tat\r\n&gt; io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)\r\n&gt; \tat\r\n&gt; io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)\r\n&gt; \tat\r\n&gt; io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:272)\r\n&gt; \tat\r\n&gt; io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:81)\r\n&gt; \tat\r\n&gt; io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:104)\r\n&gt; \tat\r\n&gt; io.undertow.server.Connectors.executeRootHandler(Connectors.java:332)\r\n&gt; \tat\r\n&gt; io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:830)\r\n&gt; \tat\r\n&gt; java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n&gt; \tat\r\n&gt; java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n&gt; \tat java.lang.Thread.run(Thread.java:748)","title":"java.lang.IllegalArgumentException: URI is not hierarchical (in deployed application)","body":"<p>I have deployed my app to jar file. I want to generate and store PDF in resource folder of my application, Everything is working for me in development but when I deployed I got error in live application</p>\n\n<p>following is my code</p>\n\n<pre><code>        URL url = this.getClass().getResource(\"/templates\");\n        parentDirectory = new File(new URI(url.toString()));\n        OutputStream outputStream = new FileOutputStream(parentDirectory.toString()+\"/\"+quoteNumber+\".pdf\");\n</code></pre>\n\n<p>everything is working fine and created PDf file successfully when I run my application from Eclips but I deploye application WAR file in server I got this error </p>\n\n<p>my error full log is following </p>\n\n<blockquote>\n  <p>2018-03-09 18:23:31.033 ERROR 6 --- [ XNIO-2 task-13]\n  o.z.p.spring.web.advice.AdviceTrait      : Internal Server Error\n  java.lang.IllegalArgumentException: URI is not hierarchical   at\n  java.io.File.(File.java:418)    at\n  com.beequote.web.rest.QuotebuilderResource.Quote(QuotebuilderResource.java:338)\n    at\n  com.beequote.web.rest.QuotebuilderResource$$FastClassBySpringCGLIB$$7c210806.invoke()\n    at\n  org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)\n    at\n  org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738)\n    at\n  org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\n    at\n  com.ryantenney.metrics.spring.TimedMethodInterceptor.invoke(TimedMethodInterceptor.java:48)\n    at\n  com.ryantenney.metrics.spring.TimedMethodInterceptor.invoke(TimedMethodInterceptor.java:34)\n    at\n  com.ryantenney.metrics.spring.AbstractMetricMethodInterceptor.invoke(AbstractMetricMethodInterceptor.java:59)\n    at\n  org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\n    at\n  org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673)\n    at\n  com.beequote.web.rest.QuotebuilderResource$$EnhancerBySpringCGLIB$$c16579cf.Quote()\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)  at\n  sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at\n  sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)     at\n  org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\n    at\n  org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133)\n    at\n  org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97)\n    at\n  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827)\n    at\n  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738)\n    at\n  org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)\n    at\n  org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967)\n    at\n  org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901)\n    at\n  org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)\n    at\n  org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:687)     at\n  org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:790)     at\n  io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:85)\n    at\n  io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)\n    at\n  com.codahale.metrics.servlet.AbstractInstrumentedFilter.doFilter(AbstractInstrumentedFilter.java:111)\n    at\n  io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n    at\n  io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n    at\n  org.springframework.web.servlet.resource.ResourceUrlEncodingFilter.doFilter(ResourceUrlEncodingFilter.java:59)\n    at\n  io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n    at\n  io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n    at\n  org.springframework.boot.web.filter.ApplicationContextHeaderFilter.doFilterInternal(ApplicationContextHeaderFilter.java:55)\n    at\n  org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    at\n  io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n    at\n  io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n    at\n  org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101)\n    at\n  io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n    at\n  io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n    at\n  org.springframework.boot.actuate.trace.WebRequestTraceFilter.doFilterInternal(WebRequestTraceFilter.java:110)\n    at\n  org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    at\n  io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n    at\n  io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n    at\n  org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:317)\n    at\n  org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127)\n    at\n  org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)\n    at\n  org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\n    at\n  org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:114)\n    at\n  org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\n    at\n  org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)\n    at\n  org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\n    at\n  org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)\n    at\n  org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\n    at\n  org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)\n    at\n  org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\n    at\n  org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\n    at\n  org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\n    at com.beequote.security.jwt.JWTFilter.doFilter(JWTFilter.java:36)\n    at\n  org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\n    at\n  org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:96)\n    at\n  org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    at\n  org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\n    at\n  org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)\n    at\n  org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\n    at\n  org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:64)\n    at\n  org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    at\n  org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\n    at\n  org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)\n    at\n  org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\n    at\n  org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)\n    at\n  org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    at\n  org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\n    at\n  org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:214)\n    at\n  org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:177)\n    at\n  org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:347)\n    at\n  org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:263)\n    at\n  io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n    at\n  io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n    at\n  org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)\n    at\n  org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    at\n  io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n    at\n  io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n    at\n  org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:108)\n    at\n  org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    at\n  io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n    at\n  io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n    at\n  org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81)\n    at\n  org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    at\n  io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n    at\n  io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n    at\n  org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)\n    at\n  org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    at\n  io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n    at\n  io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n    at\n  io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)\n    at\n  io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)\n    at\n  io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:64)\n    at\n  io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)\n    at\n  io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:131)\n    at\n  io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)\n    at\n  io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n    at\n  io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)\n    at\n  io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)\n    at\n  io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)\n    at\n  io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)\n    at\n  io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)\n    at\n  io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n    at\n  io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n    at\n  io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:292)\n    at\n  io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:81)\n    at\n  io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:138)\n    at\n  io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:135)\n    at\n  io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)\n    at\n  io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)\n    at\n  io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:272)\n    at\n  io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:81)\n    at\n  io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:104)\n    at\n  io.undertow.server.Connectors.executeRootHandler(Connectors.java:332)\n    at\n  io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:830)\n    at\n  java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at\n  java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at java.lang.Thread.run(Thread.java:748)</p>\n</blockquote>\n"},{"tags":["java","apache-kafka","quarkus","ksqldb"],"comments":[{"owner":{"account_id":58650,"reputation":3399,"user_id":175554,"accept_rate":40,"display_name":"ozkanpakdil"},"score":0,"creation_date":1695500361,"post_id":77143257,"comment_id":136033653,"body_markdown":"is there a way to lower the timeout of the &quot;get()&quot; ? it will be easier if you put a reproducer.","body":"is there a way to lower the timeout of the &quot;get()&quot; ? it will be easier if you put a reproducer."},{"owner":{"account_id":5217060,"reputation":351,"user_id":4171672,"accept_rate":17,"display_name":"Drakem"},"score":0,"creation_date":1695724936,"post_id":77143257,"comment_id":136059817,"body_markdown":"The reproducer is basically the jUnit test code that I posted, you just need to put it into a quarkus project and add the needed dependencies. The timeout in the get() is not the issue here, I don&#39;t expect that query to take a lot of time, in fact it takes around a few milliseconds when run via REST API on ksql, so the fact that the get() call hangs is not due to actual execution time.","body":"The reproducer is basically the jUnit test code that I posted, you just need to put it into a quarkus project and add the needed dependencies. The timeout in the get() is not the issue here, I don&#39;t expect that query to take a lot of time, in fact it takes around a few milliseconds when run via REST API on ksql, so the fact that the get() call hangs is not due to actual execution time."}],"owner":{"account_id":5217060,"reputation":351,"user_id":4171672,"accept_rate":17,"display_name":"Drakem"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695315156,"creation_date":1695218700,"question_id":77143257,"body_markdown":"This is my Java code\r\n\r\n    import io.confluent.ksql.api.client.BatchedQueryResult;\r\n    import io.confluent.ksql.api.client.Client;\r\n    import io.confluent.ksql.api.client.ClientOptions;\r\n    import io.confluent.ksql.api.client.Row;\r\n    import org.junit.jupiter.api.Test;\r\n    \r\n    import java.util.List;\r\n    import java.util.Map;\r\n    import java.util.Properties;\r\n    import java.util.concurrent.ExecutionException;\r\n    \r\n    public class KSqlDBTest {\r\n    \tpublic static String KSQLDB_SERVER_HOST = &quot;localhost&quot;;\r\n    \tpublic static int KSQLDB_SERVER_HOST_PORT = 8088;\r\n    \r\n    \t@Test\r\n    \tpublic void kSqlDbTest() {\r\n    \t\tClientOptions options = ClientOptions.create()\r\n    \t\t\t\t.setHost(KSQLDB_SERVER_HOST)\r\n    \t\t\t\t.setPort(KSQLDB_SERVER_HOST_PORT)\r\n    \t\t\t\t.setUseTls(false)\r\n    \t\t\t\t.setUseAlpn(false)\r\n    \t\t\t\t.setExecuteQueryMaxResultRows(1000000000);\r\n    \r\n    \t\tProperties properties = new Properties();\r\n    \t\tproperties.put(&quot;auto.offset.reset&quot;, &quot;earliest&quot;);\r\n    \r\n    \t\tClient client = Client.create(options);\r\n    \t\ttry {\r\n    \t\t\tString pullQuery = &quot;SELECT * FROM QUERYABLE_CLIENTS_VEHICLES;&quot;;\r\n    \t\t\tBatchedQueryResult batchedQueryResult = client.executeQuery(pullQuery, (Map)properties);\r\n    \t\t\tList&lt;Row&gt; resultRows = batchedQueryResult.get();\r\n    \r\n    \t\t\tSystem.out.println(&quot;Received results. Num rows: &quot; + resultRows.size());\r\n    \t\t\tfor (Row row : resultRows) {\r\n    \t\t\t\tSystem.out.println(&quot;Row: &quot; + row.values());\r\n    \t\t\t}\r\n    \t\t} catch (InterruptedException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t} catch (ExecutionException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t\tcatch (Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nThe problem is the execution of the following line of code gets stuck:\r\n\r\n    List&lt;Row&gt; resultRows = batchedQueryResult.get();\r\n\r\nRight after executing it, I actually see this log on the kSqlDB server:\r\n\r\n    INFO 172.21.0.1 - - [Wed, 20 Sep 2023 14:00:19 GMT] &quot;POST /query-stream HTTP/2.0&quot; 200 1030 &quot;-&quot; &quot;ksqlDB Java Client v7.4.0&quot; 142 (io.confluent.ksql.api.server.LoggingHandler)\r\n\r\nBut the execution hangs on Java side.\r\n\r\nSome considerations:\r\n\r\n - My kSqlDb server is up and running in a docker container on my local machine. Here&#39;s the result to a call to GET /info endpoint:\r\n\r\n    {\r\n        &quot;KsqlServerInfo&quot;: {\r\n            &quot;version&quot;: &quot;7.4.0&quot;,\r\n            &quot;kafkaClusterId&quot;: &quot;nq0iysPOTMeoaTizkPidNw&quot;,\r\n            &quot;ksqlServiceId&quot;: &quot;default_&quot;,\r\n            &quot;serverStatus&quot;: &quot;RUNNING&quot;\r\n        }\r\n    }\r\n\r\n - The QUERYABLE_CLIENTS_VEHICLES materialized table is correctly\r\n   created, and the query &quot;SELECT * FROM QUERYABLE_CLIENTS_VEHICLES;&quot;\r\n   when executed directly from confluent console works with no\r\n   problems\r\n - I also tried to directly call thekSqlDB REST endpoint POST\r\n   /query-stream passing the same query, and    it works with no\r\n   problems\r\n - There is no exception catched by the code.\r\n\r\nWhat could be the issue?","title":"Issues with kSqlDB client for Java in Quarkus app - BatchedQueryResult hangs on completableFuture get()","body":"<p>This is my Java code</p>\n<pre><code>import io.confluent.ksql.api.client.BatchedQueryResult;\nimport io.confluent.ksql.api.client.Client;\nimport io.confluent.ksql.api.client.ClientOptions;\nimport io.confluent.ksql.api.client.Row;\nimport org.junit.jupiter.api.Test;\n\nimport java.util.List;\nimport java.util.Map;\nimport java.util.Properties;\nimport java.util.concurrent.ExecutionException;\n\npublic class KSqlDBTest {\n    public static String KSQLDB_SERVER_HOST = &quot;localhost&quot;;\n    public static int KSQLDB_SERVER_HOST_PORT = 8088;\n\n    @Test\n    public void kSqlDbTest() {\n        ClientOptions options = ClientOptions.create()\n                .setHost(KSQLDB_SERVER_HOST)\n                .setPort(KSQLDB_SERVER_HOST_PORT)\n                .setUseTls(false)\n                .setUseAlpn(false)\n                .setExecuteQueryMaxResultRows(1000000000);\n\n        Properties properties = new Properties();\n        properties.put(&quot;auto.offset.reset&quot;, &quot;earliest&quot;);\n\n        Client client = Client.create(options);\n        try {\n            String pullQuery = &quot;SELECT * FROM QUERYABLE_CLIENTS_VEHICLES;&quot;;\n            BatchedQueryResult batchedQueryResult = client.executeQuery(pullQuery, (Map)properties);\n            List&lt;Row&gt; resultRows = batchedQueryResult.get();\n\n            System.out.println(&quot;Received results. Num rows: &quot; + resultRows.size());\n            for (Row row : resultRows) {\n                System.out.println(&quot;Row: &quot; + row.values());\n            }\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        } catch (ExecutionException e) {\n            e.printStackTrace();\n        }\n        catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>The problem is the execution of the following line of code gets stuck:</p>\n<pre><code>List&lt;Row&gt; resultRows = batchedQueryResult.get();\n</code></pre>\n<p>Right after executing it, I actually see this log on the kSqlDB server:</p>\n<pre><code>INFO 172.21.0.1 - - [Wed, 20 Sep 2023 14:00:19 GMT] &quot;POST /query-stream HTTP/2.0&quot; 200 1030 &quot;-&quot; &quot;ksqlDB Java Client v7.4.0&quot; 142 (io.confluent.ksql.api.server.LoggingHandler)\n</code></pre>\n<p>But the execution hangs on Java side.</p>\n<p>Some considerations:</p>\n<ul>\n<li><p>My kSqlDb server is up and running in a docker container on my local machine. Here's the result to a call to GET /info endpoint:</p>\n<p>{\n&quot;KsqlServerInfo&quot;: {\n&quot;version&quot;: &quot;7.4.0&quot;,\n&quot;kafkaClusterId&quot;: &quot;nq0iysPOTMeoaTizkPidNw&quot;,\n&quot;ksqlServiceId&quot;: &quot;default_&quot;,\n&quot;serverStatus&quot;: &quot;RUNNING&quot;\n}\n}</p>\n</li>\n<li><p>The QUERYABLE_CLIENTS_VEHICLES materialized table is correctly\ncreated, and the query &quot;SELECT * FROM QUERYABLE_CLIENTS_VEHICLES;&quot;\nwhen executed directly from confluent console works with no\nproblems</p>\n</li>\n<li><p>I also tried to directly call thekSqlDB REST endpoint POST\n/query-stream passing the same query, and    it works with no\nproblems</p>\n</li>\n<li><p>There is no exception catched by the code.</p>\n</li>\n</ul>\n<p>What could be the issue?</p>\n"},{"tags":["java","apache-beam"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1695297425,"post_id":77149639,"comment_id":136007346,"body_markdown":"Welcome to Stack Overflow! Please clarify your specific problem or add additional details to highlight exactly what you need. \nAs it&#39;s currently written, its hard to tell exactly what you&#39;re asking. See the \n[How to Ask page](https://stackoverflow.com/help/how-to-ask) for help clarifying this question. Include the desired behavior, a specific problem or error and the shortest code necessary to \nreproduce the issue. See also [How to create a Minimal, Complete, and Verifiable example](https://stackoverflow.com/help/mcve).","body":"Welcome to Stack Overflow! Please clarify your specific problem or add additional details to highlight exactly what you need.  As it&#39;s currently written, its hard to tell exactly what you&#39;re asking. See the  <a href=\"https://stackoverflow.com/help/how-to-ask\">How to Ask page</a> for help clarifying this question. Include the desired behavior, a specific problem or error and the shortest code necessary to  reproduce the issue. See also <a href=\"https://stackoverflow.com/help/mcve\">How to create a Minimal, Complete, and Verifiable example</a>."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1695420850,"post_id":77149639,"comment_id":136027186,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":523682,"reputation":5868,"user_id":949327,"display_name":"Kenn Knowles"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695314778,"creation_date":1695314778,"answer_id":77152181,"question_id":77149639,"body_markdown":"Nice find! That sounds like it could be a bug in Beam. Start here: https://github.com/apache/beam/issues/new/choose :-)","title":"Unable to use Java Double in @FieldAccess DoFn for fetching nullable DOUBLE schema field","body":"<p>Nice find! That sounds like it could be a bug in Beam. Start here: <a href=\"https://github.com/apache/beam/issues/new/choose\" rel=\"nofollow noreferrer\">https://github.com/apache/beam/issues/new/choose</a> :-)</p>\n"}],"owner":{"account_id":29499801,"reputation":1,"user_id":22607071,"display_name":"Vergo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695314778,"creation_date":1695294108,"question_id":77149639,"body_markdown":"I&#39;m attempting to do the following in my DoFn to extract a double value from an existing nullable field in my schema: \r\n\r\n`@FieldAccess(&quot;field1&quot;) Double field1`\r\n\r\nHowever I&#39;m getting the following exception:\r\n\r\n&gt; java.lang.IllegalArgumentException: Element argument type java.lang.Double\r\n&gt; does not work with expected schema field type DOUBLE\r\n\r\nOn debugging, the issue seems to be in [ConvertHelpers.getConvertPrimitive()](https://github.com/apache/beam/blob/master/sdks/java/core/src/main/java/org/apache/beam/sdk/schemas/utils/ConvertHelpers.java#L151). Specifically, [StaticSchemaInference.fieldFromType()](https://github.com/apache/beam/blob/master/sdks/java/core/src/main/java/org/apache/beam/sdk/schemas/utils/StaticSchemaInference.java#L73) seems to return FieldType DOUBLE NOT NULL regardless of whether a Double object or a primitive double is specified. This also then seems to cause a mismatch to the schema type which is only DOUBLE (i.e, without the NOT NULL).\r\n\r\nI can&#39;t seem to figure out another obvious way to obtain a nullable value via @FieldAccess and the examples/tests in the Beam codebase don&#39;t seem to cover this scenario either. Any ideas?","title":"Unable to use Java Double in @FieldAccess DoFn for fetching nullable DOUBLE schema field","body":"<p>I'm attempting to do the following in my DoFn to extract a double value from an existing nullable field in my schema:</p>\n<p><code>@FieldAccess(&quot;field1&quot;) Double field1</code></p>\n<p>However I'm getting the following exception:</p>\n<blockquote>\n<p>java.lang.IllegalArgumentException: Element argument type java.lang.Double\ndoes not work with expected schema field type DOUBLE</p>\n</blockquote>\n<p>On debugging, the issue seems to be in <a href=\"https://github.com/apache/beam/blob/master/sdks/java/core/src/main/java/org/apache/beam/sdk/schemas/utils/ConvertHelpers.java#L151\" rel=\"nofollow noreferrer\">ConvertHelpers.getConvertPrimitive()</a>. Specifically, <a href=\"https://github.com/apache/beam/blob/master/sdks/java/core/src/main/java/org/apache/beam/sdk/schemas/utils/StaticSchemaInference.java#L73\" rel=\"nofollow noreferrer\">StaticSchemaInference.fieldFromType()</a> seems to return FieldType DOUBLE NOT NULL regardless of whether a Double object or a primitive double is specified. This also then seems to cause a mismatch to the schema type which is only DOUBLE (i.e, without the NOT NULL).</p>\n<p>I can't seem to figure out another obvious way to obtain a nullable value via @FieldAccess and the examples/tests in the Beam codebase don't seem to cover this scenario either. Any ideas?</p>\n"},{"tags":["java","jvm","heap-memory"],"answers":[{"tags":[],"owner":{"account_id":4210603,"reputation":94356,"user_id":3448419,"display_name":"apangin"},"down_vote_count":0,"up_vote_count":42,"is_accepted":true,"score":42,"last_activity_date":1546873381,"creation_date":1546873381,"answer_id":54076834,"question_id":54071798,"body_markdown":"`-Xmx` specifies the precise upper limit for the heap. It is the preferred way to set the heap size.\r\n\r\n`-XX:MaxRAM` does not define the heap size directly. Instead this parameter overrides the actual amount of physical RAM when calculating the heap limits basing on ergonomics.\r\n\r\nIf `-Xmx` is set, `MaxRAM` is never used. Otherwise the maximum heap size is estimated&lt;sup&gt;1&lt;/sup&gt; as\r\n\r\n    MaxHeapSize = MaxRAM * MaxRAMPercentage / 100% (default MaxRAMPercentage=25)\r\n\r\n---\r\n\r\n&lt;sup&gt;1&lt;/sup&gt; The actual [algorithm](http://hg.openjdk.java.net/jdk/jdk11/file/1ddf9a99e4ad/src/hotspot/share/runtime/arguments.cpp#l1750) is a bit more complicated and depends on other parameters.","title":"What is the difference between xmx and MaxRAM JVM parameters?","body":"<p><code>-Xmx</code> specifies the precise upper limit for the heap. It is the preferred way to set the heap size.</p>\n\n<p><code>-XX:MaxRAM</code> does not define the heap size directly. Instead this parameter overrides the actual amount of physical RAM when calculating the heap limits basing on ergonomics.</p>\n\n<p>If <code>-Xmx</code> is set, <code>MaxRAM</code> is never used. Otherwise the maximum heap size is estimated<sup>1</sup> as</p>\n\n<pre><code>MaxHeapSize = MaxRAM * MaxRAMPercentage / 100% (default MaxRAMPercentage=25)\n</code></pre>\n\n<hr>\n\n<p><sup>1</sup> The actual <a href=\"http://hg.openjdk.java.net/jdk/jdk11/file/1ddf9a99e4ad/src/hotspot/share/runtime/arguments.cpp#l1750\" rel=\"noreferrer\">algorithm</a> is a bit more complicated and depends on other parameters.</p>\n"}],"owner":{"account_id":1301815,"reputation":31761,"user_id":1251549,"accept_rate":29,"display_name":"Cherry"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26023,"favorite_count":0,"down_vote_count":0,"up_vote_count":33,"accepted_answer_id":54076834,"answer_count":1,"score":33,"last_activity_date":1695314182,"creation_date":1546854048,"question_id":54071798,"body_markdown":"[MaxRAM][1]:\r\n\r\n&gt; based on the amount of memory on the machine. The proportion of memory to use for the heap is controlled by the command-line options InitialRAMFraction and MaxRAMFraction\r\n[...]\r\nThe value of MaxRAM is platform-dependent.\r\n\r\n[Xmx][2]:\r\n\r\n&gt; -***Xmx**n*\r\nSpecify the maximum size, in bytes, of the memory allocation pool. This value must a multiple of 1024 greater than 2MB. Append the letter k or K to indicate kilobytes, or m or M to indicate megabytes. The default value is 64MB. The upper limit for this value will be approximately 4000m on Solaris 7 and Solaris 8 SPARC platforms and 2000m on Solaris 2.6 and x86 platforms, minus overhead amounts.\r\n\r\nAs I understand both define `heap` size. No? What is recommended to use: `Xmx` or `MaxRAM`? If I use both which one ovverides another?\r\n\r\n  [1]: https://stackoverflow.com/a/27825475/1251549\r\n  [2]: https://stackoverflow.com/a/5374501/1251549","title":"What is the difference between xmx and MaxRAM JVM parameters?","body":"<p><a href=\"https://stackoverflow.com/a/27825475/1251549\">MaxRAM</a>:</p>\n<blockquote>\n<p>based on the amount of memory on the machine. The proportion of memory to use for the heap is controlled by the command-line options InitialRAMFraction and MaxRAMFraction\n[...]\nThe value of MaxRAM is platform-dependent.</p>\n</blockquote>\n<p><a href=\"https://stackoverflow.com/a/5374501/1251549\">Xmx</a>:</p>\n<blockquote>\n<p>-<em><strong>Xmx</strong>n</em>\nSpecify the maximum size, in bytes, of the memory allocation pool. This value must a multiple of 1024 greater than 2MB. Append the letter k or K to indicate kilobytes, or m or M to indicate megabytes. The default value is 64MB. The upper limit for this value will be approximately 4000m on Solaris 7 and Solaris 8 SPARC platforms and 2000m on Solaris 2.6 and x86 platforms, minus overhead amounts.</p>\n</blockquote>\n<p>As I understand both define <code>heap</code> size. No? What is recommended to use: <code>Xmx</code> or <code>MaxRAM</code>? If I use both which one ovverides another?</p>\n"},{"tags":["java","jpa","specifications"],"owner":{"account_id":28044012,"reputation":11,"user_id":21421106,"display_name":"OzuSkywalker"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695313941,"creation_date":1695313941,"question_id":77152082,"body_markdown":"For example, I have a class user like\r\n\r\n```\r\nclass User{\r\nprivate String id;\r\nprivate List&lt;Company&gt; companies;\r\n}\r\n```\r\nAnd a class company\r\n\r\n```\r\nclass Company{\r\nprivate String id;\r\n}\r\n```\r\nBoth are entities and Im triyinng to do filter users by the exact match of companies by id with specification like\r\n\r\n```\r\nSpecification&lt;User&gt; -&gt; (root,query,builder) -&gt;{\r\n         Join&lt;User,Company&gt; companyJoin = root.join(&quot;companies&quot;);\r\n          return builder.equal(companyJoin.get(&quot;id&quot;),companyIdList);\r\n        }\r\n```\r\nI don&#39;t want to use builder.in because I want an exact match of the user companies ids, like do: \r\nuser.getCompanies().stream().map(Company::getId).equals(companyIdList)\r\n\r\n\r\n","title":"JPA Criteria: Is there any way to create a specification for exact match with list?","body":"<p>For example, I have a class user like</p>\n<pre><code>class User{\nprivate String id;\nprivate List&lt;Company&gt; companies;\n}\n</code></pre>\n<p>And a class company</p>\n<pre><code>class Company{\nprivate String id;\n}\n</code></pre>\n<p>Both are entities and Im triyinng to do filter users by the exact match of companies by id with specification like</p>\n<pre><code>Specification&lt;User&gt; -&gt; (root,query,builder) -&gt;{\n         Join&lt;User,Company&gt; companyJoin = root.join(&quot;companies&quot;);\n          return builder.equal(companyJoin.get(&quot;id&quot;),companyIdList);\n        }\n</code></pre>\n<p>I don't want to use builder.in because I want an exact match of the user companies ids, like do:\nuser.getCompanies().stream().map(Company::getId).equals(companyIdList)</p>\n"},{"tags":["java","gradle"],"comments":[{"owner":{"account_id":5218565,"reputation":1034,"user_id":6540591,"display_name":"User51"},"score":1,"creation_date":1675433254,"post_id":75331454,"comment_id":132933607,"body_markdown":"First step in resolving these is see if I can hit the host that Gradle is failing at...  In this case, `https://plugins.gradle.org`, and then the full path to the plugin and see if it starts downloading.  Bottom line... If your browser can hit it, but gradle can&#39;t, invesitgate you proxy.  If your browser CANT hit it, investigate your proxy.","body":"First step in resolving these is see if I can hit the host that Gradle is failing at...  In this case, <code>https:&#47;&#47;plugins.gradle.org</code>, and then the full path to the plugin and see if it starts downloading.  Bottom line... If your browser can hit it, but gradle can&#39;t, invesitgate you proxy.  If your browser CANT hit it, investigate your proxy."}],"answers":[{"tags":[],"owner":{"account_id":2733809,"reputation":734,"user_id":2356917,"accept_rate":69,"display_name":"Kami Wan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1675957353,"creation_date":1675957353,"answer_id":75400988,"question_id":75331454,"body_markdown":"It is caused by poor network and proxy. I adjust my proxy and network and everything goes well.","title":"Gradle 7.4 build with resolve error: The server may not support the client&#39;s requested TLS protocol versions","body":"<p>It is caused by poor network and proxy. I adjust my proxy and network and everything goes well.</p>\n"},{"tags":[],"owner":{"account_id":19320165,"reputation":99,"user_id":14124017,"display_name":"Om Prakash N"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695313894,"creation_date":1695313894,"answer_id":77152077,"question_id":75331454,"body_markdown":"Anyone using a corporate/office laptops, check if there is any software monitoring your internet usage. I had Zscaler turned on for internet security. I turned it off and finally flutter app started.","title":"Gradle 7.4 build with resolve error: The server may not support the client&#39;s requested TLS protocol versions","body":"<p>Anyone using a corporate/office laptops, check if there is any software monitoring your internet usage. I had Zscaler turned on for internet security. I turned it off and finally flutter app started.</p>\n"}],"owner":{"account_id":2733809,"reputation":734,"user_id":2356917,"accept_rate":69,"display_name":"Kami Wan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5854,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75400988,"answer_count":2,"score":2,"last_activity_date":1695313894,"creation_date":1675397551,"question_id":75331454,"body_markdown":"I try to build a gradle project with following gradle properties:\r\n\r\n```properties\r\n\r\n## use proxy\r\nsystemProp.http.proxyHost=127.0.0.1\r\nsystemProp.http.proxyPort=7890\r\nsystemProp.https.proxyHost=127.0.0.1\r\nsystemProp.https.proxyPort=7890\r\n\r\n## config tls\r\nsystemProp.https.protocols=TLSv1.1,TLSv1.2,TLSv1.3\r\nsystemProp.jdk.tls.client.protocols=TLSv1.1,TLSv1.2,TLSv1.3\r\n```\r\n\r\nI have a proxy at port 7890. Jdk is 17 and gradle is 7.4. When I build the opensource project called [airbyte](https://github.com/airbytehq/airbyte). I got the following error:\r\n\r\n```\r\nBuilding all of Airbyte.\r\n/Users/wanshao/projects/cdc/airbyte/airbyte-integrations/connectors\r\n&gt; Task :buildSrc:extractPluginRequests UP-TO-DATE\r\n&gt; Task :buildSrc:generatePluginAdapters UP-TO-DATE\r\n&gt; Task :buildSrc:compileJava UP-TO-DATE\r\n&gt; Task :buildSrc:compileGroovy UP-TO-DATE\r\n&gt; Task :buildSrc:compileGroovyPlugins UP-TO-DATE\r\n&gt; Task :buildSrc:pluginDescriptors UP-TO-DATE\r\n&gt; Task :buildSrc:processResources UP-TO-DATE\r\n&gt; Task :buildSrc:classes UP-TO-DATE\r\n&gt; Task :buildSrc:jar UP-TO-DATE\r\n&gt; Task :buildSrc:assemble UP-TO-DATE\r\n&gt; Task :buildSrc:pluginUnderTestMetadata UP-TO-DATE\r\n&gt; Task :buildSrc:compileTestJava NO-SOURCE\r\n&gt; Task :buildSrc:compileTestGroovy NO-SOURCE\r\n&gt; Task :buildSrc:processTestResources NO-SOURCE\r\n&gt; Task :buildSrc:testClasses UP-TO-DATE\r\n&gt; Task :buildSrc:test NO-SOURCE\r\n&gt; Task :buildSrc:validatePlugins UP-TO-DATE\r\n&gt; Task :buildSrc:check UP-TO-DATE\r\n&gt; Task :buildSrc:build UP-TO-DATE\r\nDownload https://plugins.gradle.org/m2/io/swagger/swagger-parser/1.0.55/swagger-parser-1.0.55.jar, took 1 s 880 ms (94.89 kB)\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* Where:\r\nBuild file &#39;/Users/wanshao/projects/cdc/airbyte/build.gradle&#39; line: 322\r\n\r\n* What went wrong:\r\nA problem occurred evaluating root project &#39;airbyte&#39;.\r\n&gt; A problem occurred configuring project &#39;:airbyte-api&#39;.\r\n   &gt; Could not resolve all files for configuration &#39;:airbyte-api:classpath&#39;.\r\n      &gt; Could not download joda-time-2.10.8.jar (joda-time:joda-time:2.10.8)\r\n         &gt; Could not get resource &#39;https://plugins.gradle.org/m2/joda-time/joda-time/2.10.8/joda-time-2.10.8.jar&#39;.\r\n            &gt; Could not GET &#39;https://plugins.gradle.org/m2/joda-time/joda-time/2.10.8/joda-time-2.10.8.jar&#39;.\r\n               &gt; The server may not support the client&#39;s requested TLS protocol versions: (TLSv1.1, TLSv1.2, TLSv1.3). You may need to configure the client to allow other protocols to be used. See: https://docs.gradle.org/7.4/userguide/build_environment.html#gradle_system_properties\r\n                  &gt; Remote host terminated the handshake\r\n\r\n\r\n```","title":"Gradle 7.4 build with resolve error: The server may not support the client&#39;s requested TLS protocol versions","body":"<p>I try to build a gradle project with following gradle properties:</p>\n<pre><code>\n## use proxy\nsystemProp.http.proxyHost=127.0.0.1\nsystemProp.http.proxyPort=7890\nsystemProp.https.proxyHost=127.0.0.1\nsystemProp.https.proxyPort=7890\n\n## config tls\nsystemProp.https.protocols=TLSv1.1,TLSv1.2,TLSv1.3\nsystemProp.jdk.tls.client.protocols=TLSv1.1,TLSv1.2,TLSv1.3\n</code></pre>\n<p>I have a proxy at port 7890. Jdk is 17 and gradle is 7.4. When I build the opensource project called <a href=\"https://github.com/airbytehq/airbyte\" rel=\"nofollow noreferrer\">airbyte</a>. I got the following error:</p>\n<pre><code>Building all of Airbyte.\n/Users/wanshao/projects/cdc/airbyte/airbyte-integrations/connectors\n&gt; Task :buildSrc:extractPluginRequests UP-TO-DATE\n&gt; Task :buildSrc:generatePluginAdapters UP-TO-DATE\n&gt; Task :buildSrc:compileJava UP-TO-DATE\n&gt; Task :buildSrc:compileGroovy UP-TO-DATE\n&gt; Task :buildSrc:compileGroovyPlugins UP-TO-DATE\n&gt; Task :buildSrc:pluginDescriptors UP-TO-DATE\n&gt; Task :buildSrc:processResources UP-TO-DATE\n&gt; Task :buildSrc:classes UP-TO-DATE\n&gt; Task :buildSrc:jar UP-TO-DATE\n&gt; Task :buildSrc:assemble UP-TO-DATE\n&gt; Task :buildSrc:pluginUnderTestMetadata UP-TO-DATE\n&gt; Task :buildSrc:compileTestJava NO-SOURCE\n&gt; Task :buildSrc:compileTestGroovy NO-SOURCE\n&gt; Task :buildSrc:processTestResources NO-SOURCE\n&gt; Task :buildSrc:testClasses UP-TO-DATE\n&gt; Task :buildSrc:test NO-SOURCE\n&gt; Task :buildSrc:validatePlugins UP-TO-DATE\n&gt; Task :buildSrc:check UP-TO-DATE\n&gt; Task :buildSrc:build UP-TO-DATE\nDownload https://plugins.gradle.org/m2/io/swagger/swagger-parser/1.0.55/swagger-parser-1.0.55.jar, took 1 s 880 ms (94.89 kB)\n\nFAILURE: Build failed with an exception.\n\n* Where:\nBuild file '/Users/wanshao/projects/cdc/airbyte/build.gradle' line: 322\n\n* What went wrong:\nA problem occurred evaluating root project 'airbyte'.\n&gt; A problem occurred configuring project ':airbyte-api'.\n   &gt; Could not resolve all files for configuration ':airbyte-api:classpath'.\n      &gt; Could not download joda-time-2.10.8.jar (joda-time:joda-time:2.10.8)\n         &gt; Could not get resource 'https://plugins.gradle.org/m2/joda-time/joda-time/2.10.8/joda-time-2.10.8.jar'.\n            &gt; Could not GET 'https://plugins.gradle.org/m2/joda-time/joda-time/2.10.8/joda-time-2.10.8.jar'.\n               &gt; The server may not support the client's requested TLS protocol versions: (TLSv1.1, TLSv1.2, TLSv1.3). You may need to configure the client to allow other protocols to be used. See: https://docs.gradle.org/7.4/userguide/build_environment.html#gradle_system_properties\n                  &gt; Remote host terminated the handshake\n\n\n</code></pre>\n"},{"tags":["java","java-stream","immutability"],"answers":[{"tags":[],"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1584976422,"creation_date":1584976422,"answer_id":60816300,"question_id":60816247,"body_markdown":"Yes, you can make use of `reduce` operation with identity element as \r\n\r\n    Duration total = durations.stream()\r\n            .reduce(Duration.ZERO, Duration::plus);","title":"Using streams to sum a collection of immutable `Duration` objects, in Java","body":"<p>Yes, you can make use of <code>reduce</code> operation with identity element as </p>\n\n<pre><code>Duration total = durations.stream()\n        .reduce(Duration.ZERO, Duration::plus);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9847667,"reputation":29054,"user_id":7294647,"accept_rate":67,"display_name":"Jacob G."},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1695313699,"creation_date":1584976457,"answer_id":60816311,"question_id":60816247,"body_markdown":"# `Stream#reduce`\r\n\r\nThis can be achieved using the overloaded [`Stream#reduce`](https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/util/stream/Stream.html#reduce(T,java.util.function.BinaryOperator)) method that accepts an identity:\r\n\r\n    durations.stream().reduce(Duration.ZERO, Duration::plus)\r\n\r\nThe following snippet provides an example:\r\n\r\n    var durations = List.of(Duration.ofDays(1), Duration.ofHours(1));\r\n    System.out.println(durations.stream().reduce(Duration.ZERO, Duration::plus));\r\n\r\nAs expected, the output is:\r\n\r\n    PT25H","title":"Using streams to sum a collection of immutable `Duration` objects, in Java","body":"<h1><code>Stream#reduce</code></h1>\n<p>This can be achieved using the overloaded <a href=\"https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/util/stream/Stream.html#reduce(T,java.util.function.BinaryOperator)\" rel=\"nofollow noreferrer\"><code>Stream#reduce</code></a> method that accepts an identity:</p>\n<pre><code>durations.stream().reduce(Duration.ZERO, Duration::plus)\n</code></pre>\n<p>The following snippet provides an example:</p>\n<pre><code>var durations = List.of(Duration.ofDays(1), Duration.ofHours(1));\nSystem.out.println(durations.stream().reduce(Duration.ZERO, Duration::plus));\n</code></pre>\n<p>As expected, the output is:</p>\n<pre><code>PT25H\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1651157,"reputation":156,"user_id":1521751,"display_name":"armani"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1584997131,"creation_date":1584997131,"answer_id":60821440,"question_id":60816247,"body_markdown":"Here is a fully working example with sample inputs. You need to use the reduce function in java streams. Here is a [short tutorial][1] that I used.\r\n\r\n    import java.time.Duration;\r\n    import java.util.List;\r\n    import java.util.stream.Collectors;\r\n    import java.util.stream.IntStream;\r\n    \r\n    public class DurationTest {\r\n        public static void main(String [] args){\r\n            List&lt;Duration&gt; durations = IntStream\r\n                    .rangeClosed(1, 10)\r\n                    .mapToObj( n -&gt; Duration.ofSeconds(n) )\r\n                    .collect(Collectors.toList());\r\n    \r\n            int sumOfSeconds = (10 * (1 + 10) ) / 2;\r\n    \r\n            Duration total = durations.stream().reduce( Duration.ZERO, (t, d) -&gt; t = t.plus(d) );\r\n            System.out.printf(&quot;actual = %s, expected = %s&quot;, total.getSeconds(), sumOfSeconds);\r\n        }\r\n    }\r\n\r\n  [1]: https://www.baeldung.com/java-stream-reduce","title":"Using streams to sum a collection of immutable `Duration` objects, in Java","body":"<p>Here is a fully working example with sample inputs. You need to use the reduce function in java streams. Here is a <a href=\"https://www.baeldung.com/java-stream-reduce\" rel=\"nofollow noreferrer\">short tutorial</a> that I used.</p>\n\n<pre><code>import java.time.Duration;\nimport java.util.List;\nimport java.util.stream.Collectors;\nimport java.util.stream.IntStream;\n\npublic class DurationTest {\n    public static void main(String [] args){\n        List&lt;Duration&gt; durations = IntStream\n                .rangeClosed(1, 10)\n                .mapToObj( n -&gt; Duration.ofSeconds(n) )\n                .collect(Collectors.toList());\n\n        int sumOfSeconds = (10 * (1 + 10) ) / 2;\n\n        Duration total = durations.stream().reduce( Duration.ZERO, (t, d) -&gt; t = t.plus(d) );\n        System.out.printf(\"actual = %s, expected = %s\", total.getSeconds(), sumOfSeconds);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1383,"favorite_count":0,"down_vote_count":2,"up_vote_count":9,"accepted_answer_id":60816311,"answer_count":3,"score":7,"last_activity_date":1695313699,"creation_date":1584976251,"question_id":60816247,"body_markdown":"The [`java.time.Duration`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/Duration.html) class built into Java 8 and later represents a span of time unattached to the timeline on the scale of hour-minutes-seconds. The class offers a `plus` method to sum two such spans of time. \r\n\r\nThe *java.time* classes use immutable objects. So the [`Duration::plus`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/Duration.html#plus(java.time.Duration)) method returns a new third `Duration` object as a result rather than altering (mutating) either of the input objects.\r\n\r\nThe conventional syntax to sum a collection of `Duration` objects would be the following.\r\n\r\n    Duration total = Duration.ZERO;\r\n    for ( Duration duration : durations )\r\n    {\r\n        total = total.plus( duration );\r\n    }\r\n\r\nCan streams be used in place of this `for` loop?","title":"Using streams to sum a collection of immutable `Duration` objects, in Java","body":"<p>The <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/Duration.html\" rel=\"noreferrer\"><code>java.time.Duration</code></a> class built into Java 8 and later represents a span of time unattached to the timeline on the scale of hour-minutes-seconds. The class offers a <code>plus</code> method to sum two such spans of time. </p>\n\n<p>The <em>java.time</em> classes use immutable objects. So the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/Duration.html#plus(java.time.Duration)\" rel=\"noreferrer\"><code>Duration::plus</code></a> method returns a new third <code>Duration</code> object as a result rather than altering (mutating) either of the input objects.</p>\n\n<p>The conventional syntax to sum a collection of <code>Duration</code> objects would be the following.</p>\n\n<pre><code>Duration total = Duration.ZERO;\nfor ( Duration duration : durations )\n{\n    total = total.plus( duration );\n}\n</code></pre>\n\n<p>Can streams be used in place of this <code>for</code> loop?</p>\n"},{"tags":["java","collections","interface","java-21"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":4,"creation_date":1691563119,"post_id":76864541,"comment_id":135506733,"body_markdown":"Have you considered consulting the documentation?","body":"Have you considered consulting the documentation?"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1691567415,"post_id":76864541,"comment_id":135507501,"body_markdown":"@user207421 The OP is obviously not actually asking this question and is instead trying to provide a &quot;canonical reference&quot; for questions about `SequencedCollection` and `SequencedMap`. Now, whether you think this a worthwhile Q&amp;A is a different issue.","body":"@user207421 The OP is obviously not actually asking this question and is instead trying to provide a &quot;canonical reference&quot; for questions about <code>SequencedCollection</code> and <code>SequencedMap</code>. Now, whether you think this a worthwhile Q&amp;A is a different issue."},{"owner":{"account_id":6528461,"reputation":3279,"user_id":5050431,"accept_rate":60,"display_name":"A_Arnold"},"score":1,"creation_date":1691594429,"post_id":76864541,"comment_id":135513408,"body_markdown":"It is encouraged to document new things and answer your own question. See https://stackoverflow.blog/2011/07/01/its-ok-to-ask-and-answer-your-own-questions/","body":"It is encouraged to document new things and answer your own question. See <a href=\"https://stackoverflow.blog/2011/07/01/its-ok-to-ask-and-answer-your-own-questions/\">stackoverflow.blog/2011/07/01/&hellip;</a>"},{"owner":{"account_id":1119690,"reputation":15788,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"score":0,"creation_date":1695249733,"post_id":76864541,"comment_id":136000934,"body_markdown":"There is no new interface in Java 21 called `Sequence`.","body":"There is no new interface in Java 21 called <code>Sequence</code>."}],"answers":[{"tags":[],"owner":{"account_id":6528461,"reputation":3279,"user_id":5050431,"accept_rate":60,"display_name":"A_Arnold"},"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1691562744,"creation_date":1691554619,"answer_id":76864542,"question_id":76864541,"body_markdown":"The `Sequence` interface is Javas standardization of sequential `Collections` that have a logical ordering, or as [*JEP 431: Sequenced Collections*][1] puts it, a defined encounter order. A `SortedSet` would be able to keep its natural ordering, a `List` keeps its insertion order etc. \r\n\r\nThe methods that it adds are \r\n\r\n    SequencedCollection&lt;E&gt; reversed();\r\n    void addFirst(E);\r\n    void addLast(E);\r\n    E getFirst();\r\n    E getLast();\r\n    E removeFirst();\r\n    E removeLast();\r\n\r\nThe `getFirst()` method can replace `list.get(0)`, `deque.getFirst()`, `sortedSet.first()`, and `linkedHashSet.iterator().next()`. The same for `getLast()` except `LinkedHashSet` had no get last and you would have to iterate the entire Set. \r\n\r\nThere is some strangeness IMO to this regarding `SortedSet`. `SortedSet` is forced to implement the `addFirst()` and `addLast()` methods which dont make sense in context and the Jep says these methods can throw `UnsupportedOperationException`.\r\n\r\n`Reversed()` also standardizes how to iterate backwards. Previously, there was `navSet.descendingSet()`, `deque.descendingIterator()`, and `for (var it = list.listIterator(list.size()); it.hasPrevious();)\r\n{}` and again `LinkedHashSet` has no method. Now `reversed()` allows all the standard iteration techniques of fors, streams etc. and includes `LinkedHashSet`.\r\nOne final note is that if a codebase used these method names they will run into issues. See the [Jep][1] for a full description of the item.[![Inheritence of Sequence][2]][2]\r\n\r\n\r\n  [1]: https://openjdk.org/jeps/431\r\n  [2]: https://i.stack.imgur.com/gK5Cr.png","title":"What is Java 21s new Sequence Interface","body":"<p>The <code>Sequence</code> interface is Javas standardization of sequential <code>Collections</code> that have a logical ordering, or as <a href=\"https://openjdk.org/jeps/431\" rel=\"nofollow noreferrer\"><em>JEP 431: Sequenced Collections</em></a> puts it, a defined encounter order. A <code>SortedSet</code> would be able to keep its natural ordering, a <code>List</code> keeps its insertion order etc.</p>\n<p>The methods that it adds are</p>\n<pre><code>SequencedCollection&lt;E&gt; reversed();\nvoid addFirst(E);\nvoid addLast(E);\nE getFirst();\nE getLast();\nE removeFirst();\nE removeLast();\n</code></pre>\n<p>The <code>getFirst()</code> method can replace <code>list.get(0)</code>, <code>deque.getFirst()</code>, <code>sortedSet.first()</code>, and <code>linkedHashSet.iterator().next()</code>. The same for <code>getLast()</code> except <code>LinkedHashSet</code> had no get last and you would have to iterate the entire Set.</p>\n<p>There is some strangeness IMO to this regarding <code>SortedSet</code>. <code>SortedSet</code> is forced to implement the <code>addFirst()</code> and <code>addLast()</code> methods which dont make sense in context and the Jep says these methods can throw <code>UnsupportedOperationException</code>.</p>\n<p><code>Reversed()</code> also standardizes how to iterate backwards. Previously, there was <code>navSet.descendingSet()</code>, <code>deque.descendingIterator()</code>, and <code>for (var it = list.listIterator(list.size()); it.hasPrevious();) {}</code> and again <code>LinkedHashSet</code> has no method. Now <code>reversed()</code> allows all the standard iteration techniques of fors, streams etc. and includes <code>LinkedHashSet</code>.\nOne final note is that if a codebase used these method names they will run into issues. See the <a href=\"https://openjdk.org/jeps/431\" rel=\"nofollow noreferrer\">Jep</a> for a full description of the item.<a href=\"https://i.stack.imgur.com/gK5Cr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gK5Cr.png\" alt=\"Inheritence of Sequence\" /></a></p>\n"},{"tags":[],"owner":{"account_id":1119690,"reputation":15788,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1695313301,"creation_date":1695251233,"answer_id":77146327,"question_id":76864541,"body_markdown":"There is no new interface in Java 21 called `Sequence`.  Rather, there are three related interfaces: [`SequencedCollection`](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/SequencedCollection.html), [`SequencedSet`](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/SequencedSet.html), and [`SequencedMap`](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/SequencedMap.html).  These three interfaces represent collections or maps which have a well-defined iteration order, as well as the ability to be viewed in reverse.\r\n\r\nThese three types were added by the [JEP 431: Sequenced Collections](https://openjdk.org/jeps/431) feature.  Per its summary, its goal was to:\r\n\r\n&gt; Introduce new interfaces to represent collections with a defined encounter order. Each such collection has a well-defined first element, second element, and so forth, up to the last element. It also provides uniform APIs for accessing its first and last elements, and for processing its elements in reverse order.\r\n\r\nThese new interface types can be used any time a `Collection`, `Set`, or `Map` is needed in which the iteration order is important.\r\n\r\nThese new interfaces were added to the existing collection hierarchy where appropriate.  `List`, `Deque`, and `SequencedSet` extend `SequencedCollection` directly.  `SortedSet` and `LinkedHashSet` extend `SequencedSet`.  And `SortedMap` and `LinkedHashMap` both extend `SequencedMap`.\r\n\r\nThe mutation methods in the interfaces (`addFirst`, `putLast`, etc) are all _optional_ methods, which are only implemented by types where that sort of mutation makes sense.  For instance, `addFirst` is not implemented for `SortedSet`, since the encounter order is defined by the comparison function between the elements, so an arbitrary element cannot be added to the beginning of the set.\r\n\r\n# Interface methods\r\n\r\n## `SequencedCollection`\r\n\r\n`SequencedCollection` extends `Collection` and provides methods to add, retrieve, and remove the first and last element.  It also provides a method to provide a reversed view of the collection.  Per the Javadoc method summary:\r\n\r\n| Modifier and Type        | Method          | Description |\r\n| --- | --- | --- |\r\n| `default void`           | `addFirst(E e)` | Adds an element as the first element of this collection (optional operation). |\r\n| `default void`           | `addLast(E e)`  | Adds an element as the last element of this collection (optional operation). |\r\n| `default E`              | `getFirst()`    | Gets the first element of this collection. |\r\n| `default E`              | `getLast()`     | Gets the last element of this collection. |\r\n| `default E`              | `removeFirst()` | Removes and returns the first element of this collection (optional operation). |\r\n| `default E`              | `removeLast()`  | Removes and returns the last element of this collection (optional operation). |\r\n| `SequencedCollection&lt;E&gt;` | `reversed()`    | Returns a reverse-ordered view of this collection. |\r\n\r\n## `SequencedSet`\r\n\r\n`SequencedSet` extends both `SequencedCollection` and `Set`.  It is identical to `SequencedCollection`, except that its `reversed` view returns a `SequencedSet` rather than a `SequencedCollection`.\r\n\r\n| Modifier and Type | Method          | Description |\r\n| --- | --- | --- |\r\n| `SequencedSet&lt;E&gt;` | `reversed()`    | Returns a reverse-ordered view of this collection. |\r\n\r\n## `SequencedMap`\r\n\r\n`SequencedMap` extends `Map` and provides methods to retrieve, put, and poll elements from the map.  It also provides a method to provide a reversed view of the map.  Per the Javadoc method summary:\r\n\r\n| Modifier and Type        | Method          | Description |\r\n| --- | --- | --- |\r\n| `default Map.Entry&lt;K,V&gt;`               | `firstEntry()` | Returns the first key-value mapping in this map, or null if the map is empty. |\r\n| `default Map.Entry&lt;K,V&gt;`               | `lastEntry()` | Returns the last key-value mapping in this map, or null if the map is empty. |\r\n| `default Map.Entry&lt;K,V&gt;`               | `pollFirstEntry()` | Removes and returns the first key-value mapping in this map, or null if the map is empty (optional operation). |\r\n| `default Map.Entry&lt;K,V&gt;`               | `pollLastEntry()` | Removes and returns the last key-value mapping in this map, or null if the map is empty (optional operation). |\r\n| `default V` | `putFirst(K k, V v)`       | Inserts the given mapping into the map if it is not already present, or replaces the value of a mapping if it is already present (optional operation). |\r\n| `default V` | `putLast(K k, V v)`        | Inserts the given mapping into the map if it is not already present, or replaces the value of a mapping if it is already present (optional operation). |\r\n| `SequencedMap&lt;K,V&gt;`                    | `reversed()` | Returns a reverse-ordered view of this map. |\r\n| `default SequencedSet&lt;Map.Entry&lt;K,V&gt;&gt;` | `sequencedEntrySet()` | Returns a SequencedSet view of this map&#39;s entrySet. |\r\n| `default SequencedSet&lt;K&gt;`              | `sequencedKeySet()` | Returns a SequencedSet view of this map&#39;s keySet. |\r\n| `default SequencedCollection&lt;V&gt;`       | `sequencedValues()` | Returns a SequencedCollection view of this map&#39;s values collection. |\r\n","title":"What is Java 21s new Sequence Interface","body":"<p>There is no new interface in Java 21 called <code>Sequence</code>.  Rather, there are three related interfaces: <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/SequencedCollection.html\" rel=\"nofollow noreferrer\"><code>SequencedCollection</code></a>, <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/SequencedSet.html\" rel=\"nofollow noreferrer\"><code>SequencedSet</code></a>, and <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/SequencedMap.html\" rel=\"nofollow noreferrer\"><code>SequencedMap</code></a>.  These three interfaces represent collections or maps which have a well-defined iteration order, as well as the ability to be viewed in reverse.</p>\n<p>These three types were added by the <a href=\"https://openjdk.org/jeps/431\" rel=\"nofollow noreferrer\">JEP 431: Sequenced Collections</a> feature.  Per its summary, its goal was to:</p>\n<blockquote>\n<p>Introduce new interfaces to represent collections with a defined encounter order. Each such collection has a well-defined first element, second element, and so forth, up to the last element. It also provides uniform APIs for accessing its first and last elements, and for processing its elements in reverse order.</p>\n</blockquote>\n<p>These new interface types can be used any time a <code>Collection</code>, <code>Set</code>, or <code>Map</code> is needed in which the iteration order is important.</p>\n<p>These new interfaces were added to the existing collection hierarchy where appropriate.  <code>List</code>, <code>Deque</code>, and <code>SequencedSet</code> extend <code>SequencedCollection</code> directly.  <code>SortedSet</code> and <code>LinkedHashSet</code> extend <code>SequencedSet</code>.  And <code>SortedMap</code> and <code>LinkedHashMap</code> both extend <code>SequencedMap</code>.</p>\n<p>The mutation methods in the interfaces (<code>addFirst</code>, <code>putLast</code>, etc) are all <em>optional</em> methods, which are only implemented by types where that sort of mutation makes sense.  For instance, <code>addFirst</code> is not implemented for <code>SortedSet</code>, since the encounter order is defined by the comparison function between the elements, so an arbitrary element cannot be added to the beginning of the set.</p>\n<h1>Interface methods</h1>\n<h2><code>SequencedCollection</code></h2>\n<p><code>SequencedCollection</code> extends <code>Collection</code> and provides methods to add, retrieve, and remove the first and last element.  It also provides a method to provide a reversed view of the collection.  Per the Javadoc method summary:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Modifier and Type</th>\n<th>Method</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>default void</code></td>\n<td><code>addFirst(E e)</code></td>\n<td>Adds an element as the first element of this collection (optional operation).</td>\n</tr>\n<tr>\n<td><code>default void</code></td>\n<td><code>addLast(E e)</code></td>\n<td>Adds an element as the last element of this collection (optional operation).</td>\n</tr>\n<tr>\n<td><code>default E</code></td>\n<td><code>getFirst()</code></td>\n<td>Gets the first element of this collection.</td>\n</tr>\n<tr>\n<td><code>default E</code></td>\n<td><code>getLast()</code></td>\n<td>Gets the last element of this collection.</td>\n</tr>\n<tr>\n<td><code>default E</code></td>\n<td><code>removeFirst()</code></td>\n<td>Removes and returns the first element of this collection (optional operation).</td>\n</tr>\n<tr>\n<td><code>default E</code></td>\n<td><code>removeLast()</code></td>\n<td>Removes and returns the last element of this collection (optional operation).</td>\n</tr>\n<tr>\n<td><code>SequencedCollection&lt;E&gt;</code></td>\n<td><code>reversed()</code></td>\n<td>Returns a reverse-ordered view of this collection.</td>\n</tr>\n</tbody>\n</table>\n</div><h2><code>SequencedSet</code></h2>\n<p><code>SequencedSet</code> extends both <code>SequencedCollection</code> and <code>Set</code>.  It is identical to <code>SequencedCollection</code>, except that its <code>reversed</code> view returns a <code>SequencedSet</code> rather than a <code>SequencedCollection</code>.</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Modifier and Type</th>\n<th>Method</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>SequencedSet&lt;E&gt;</code></td>\n<td><code>reversed()</code></td>\n<td>Returns a reverse-ordered view of this collection.</td>\n</tr>\n</tbody>\n</table>\n</div><h2><code>SequencedMap</code></h2>\n<p><code>SequencedMap</code> extends <code>Map</code> and provides methods to retrieve, put, and poll elements from the map.  It also provides a method to provide a reversed view of the map.  Per the Javadoc method summary:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Modifier and Type</th>\n<th>Method</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>default Map.Entry&lt;K,V&gt;</code></td>\n<td><code>firstEntry()</code></td>\n<td>Returns the first key-value mapping in this map, or null if the map is empty.</td>\n</tr>\n<tr>\n<td><code>default Map.Entry&lt;K,V&gt;</code></td>\n<td><code>lastEntry()</code></td>\n<td>Returns the last key-value mapping in this map, or null if the map is empty.</td>\n</tr>\n<tr>\n<td><code>default Map.Entry&lt;K,V&gt;</code></td>\n<td><code>pollFirstEntry()</code></td>\n<td>Removes and returns the first key-value mapping in this map, or null if the map is empty (optional operation).</td>\n</tr>\n<tr>\n<td><code>default Map.Entry&lt;K,V&gt;</code></td>\n<td><code>pollLastEntry()</code></td>\n<td>Removes and returns the last key-value mapping in this map, or null if the map is empty (optional operation).</td>\n</tr>\n<tr>\n<td><code>default V</code></td>\n<td><code>putFirst(K k, V v)</code></td>\n<td>Inserts the given mapping into the map if it is not already present, or replaces the value of a mapping if it is already present (optional operation).</td>\n</tr>\n<tr>\n<td><code>default V</code></td>\n<td><code>putLast(K k, V v)</code></td>\n<td>Inserts the given mapping into the map if it is not already present, or replaces the value of a mapping if it is already present (optional operation).</td>\n</tr>\n<tr>\n<td><code>SequencedMap&lt;K,V&gt;</code></td>\n<td><code>reversed()</code></td>\n<td>Returns a reverse-ordered view of this map.</td>\n</tr>\n<tr>\n<td><code>default SequencedSet&lt;Map.Entry&lt;K,V&gt;&gt;</code></td>\n<td><code>sequencedEntrySet()</code></td>\n<td>Returns a SequencedSet view of this map's entrySet.</td>\n</tr>\n<tr>\n<td><code>default SequencedSet&lt;K&gt;</code></td>\n<td><code>sequencedKeySet()</code></td>\n<td>Returns a SequencedSet view of this map's keySet.</td>\n</tr>\n<tr>\n<td><code>default SequencedCollection&lt;V&gt;</code></td>\n<td><code>sequencedValues()</code></td>\n<td>Returns a SequencedCollection view of this map's values collection.</td>\n</tr>\n</tbody>\n</table>\n</div>"}],"owner":{"account_id":6528461,"reputation":3279,"user_id":5050431,"accept_rate":60,"display_name":"A_Arnold"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":211,"favorite_count":0,"down_vote_count":9,"up_vote_count":5,"answer_count":2,"score":-4,"last_activity_date":1695313301,"creation_date":1691554619,"question_id":76864541,"body_markdown":"What is the new `Sequence` interface in [Java 21][1]? What does it add and what may be common issues to consider?\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Java_version_history#Java_21","title":"What is Java 21s new Sequence Interface","body":"<p>What is the new <code>Sequence</code> interface in <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_21\" rel=\"nofollow noreferrer\">Java 21</a>? What does it add and what may be common issues to consider?</p>\n"},{"tags":["java","java-time"],"comments":[{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1646922254,"post_id":71425060,"comment_id":126247393,"body_markdown":"@veejayD But why do you need `Date`?","body":"@veejayD But why do you need <code>Date</code>?"},{"owner":{"account_id":12728827,"reputation":81,"user_id":9246275,"display_name":"veejay"},"score":0,"creation_date":1646922745,"post_id":71425060,"comment_id":126247616,"body_markdown":"@MCEmperor I need to populate this in DB column. So I need to convert a string which is in UTC to EST then converting ZonedDateTime back to java.util.Date in this format (yyyy-MM-dd&#39;T&#39;HH:mm:ss)","body":"@MCEmperor I need to populate this in DB column. So I need to convert a string which is in UTC to EST then converting ZonedDateTime back to java.util.Date in this format (yyyy-MM-dd&#39;T&#39;HH:mm:ss)"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1646929291,"post_id":71425060,"comment_id":126250463,"body_markdown":"@veejayD Never use either `Date` class. Use only *java.time* classes .","body":"@veejayD Never use either <code>Date</code> class. Use only <i>java.time</i> classes ."}],"answers":[{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1646920975,"creation_date":1646920975,"answer_id":71425429,"question_id":71425060,"body_markdown":"Once you have `ZonedDateTime` in correct time zone  convert it to Instant and then use method [public static Date from(Instant instant)][1] of class Date.\r\n\r\n    Instant instant = Instant.from(zonedDateTime);\r\n    Date date = Date.from(instant);\r\n\r\nHowever, if you can, refrain from usage of Date class which is outdated (pun intended) package `java.time` with classes like `ZonedDateTime`, `Instant`\r\nand others should be used\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Date.html#from-java.time.Instant-\r\n\r\n","title":"How to convert UTC to EST java.util.date in Java8+?","body":"<p>Once you have <code>ZonedDateTime</code> in correct time zone  convert it to Instant and then use method <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Date.html#from-java.time.Instant-\" rel=\"nofollow noreferrer\">public static Date from(Instant instant)</a> of class Date.</p>\n<pre><code>Instant instant = Instant.from(zonedDateTime);\nDate date = Date.from(instant);\n</code></pre>\n<p>However, if you can, refrain from usage of Date class which is outdated (pun intended) package <code>java.time</code> with classes like <code>ZonedDateTime</code>, <code>Instant</code>\nand others should be used</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1695313144,"creation_date":1646930439,"answer_id":71427728,"question_id":71425060,"body_markdown":"## Avoid legacy classes\r\n\r\nYou commented:\r\n\r\n&gt; I need to populate this in DB column. So I need to convert a string which is in UTC to EST then converting ZonedDateTime back to java.util.Date in this format (yyyy-MM-dd&#39;T&#39;HH:mm:ss)\r\n\r\nNever use either `Date` class. Use only *java.time* classes. JDBC 4.2 and later supports *java.time* for exchanging date-time values with a database. \r\n\r\n - For a column of a type akin to the SQL-standard type `TIMESTAMP WITHOUT TIME ZONE`, use `java.time.LocalDateTime`. \r\n - For a column of a type akin to the SQL-standard type `TIMESTAMP WITH TIME ZONE`, use `java.time.OffsetDateTime`.\r\n \r\n\r\n## Not a moment\r\n\r\nYour input string:\r\n\r\n&gt;`String timestamp = &quot;2022-03-01T16:29:03&quot;;`\r\n\r\n is misnamed. That value lacks an indicator of time zone or offset-from-UTC. So it cannot represent a moment. We have no way of knowing if that is around 4:30 PM in Tokyo Japan, or in Toulouse France, or in Toledo Ohio US  all very different moments several hours apart. So calling this a timestamp is misleading. \r\n\r\nParse that input string as a `LocalDateTime`. No need to specify a formatting pattern. That string complies with ISO 8691, used by default in the *java.time* classses when parsing/generating text.\r\n\r\n    LocalDateTime ldt = LocalDateTime.parse( &quot;2022-03-01T16:29:03&quot; ) ;\r\n\r\n# Moment\r\n\r\nYour code at this point seems convoluted. You assign a default time zone to this date-with-time. But that seems unlikely to make sense. I am guessing that your intention was for this specific date-with-time to represent a specific moment as seen in a specific time zone.\r\n\r\nApparently you want eastern Canada &#127464;&#127462; time zone. The [proper name for that zone][1] is `America/Toronto`.\r\n\r\n    ZoneId z = ZoneId.of( &quot;America/Toronto&quot; ) ;\r\n\r\nAssign that zone to produce a `ZonedDateTime` object. \r\n\r\n    ZonedDateTime zdt = ldt.atZone( z ) ;\r\n\r\nNow we have a moment, a specific point on the timeline.\r\n\r\n## JDBC\r\n\r\nBut for writing to a database column of a type akin to the SQL-standard `TIMESTAMP WITH TIME ZONE`, we need to use `OffsetDateTime`.\r\n\r\n    OffsetDateTime odt = zdt.toOffsetDateTime() ;\r\n\r\nLater you commented that the input string is intended to represent a moment in UTC. So assign a `ZoneOffset` object, the constant `UTC`, to get an `OffsetDateTime`.\r\n\r\n    OffsetDateTime odt = ldt.atOffset( ZoneOffset.UTC ) ;\r\n\r\nSend to the database.\r\n\r\n    myPreparedStatement.setObject(  , odt ) ;\r\n\r\nRetrieval.\r\n\r\n    OffsetDateTime odt = myResultSet.getObject(  , OffsetDateTime.class ) ;\r\n    ZonedDateTime zdt = odt.atZoneSameInstant( z ) ;\r\n\r\n## Converting legacy  modern\r\n\r\nIf you must use `java.util.Date` to  interoperate with old code not yet updated to *java.time*, you can convert to and fro. Look to the new `to` and `from` methods added to the old classes. \r\n\r\n    java.util.Date d = Date.from( odt.toInstant() ) ;\r\n    java.util.Date d = Date.from( zdt.toInstant() ) ;\r\n\r\nGoing the other direction.\r\n\r\n    Instant instant = myJavaUtilDate.toInstant() ;\r\n\r\nAll of these topics have been addressed many times on Stack Overflow. Search to learn more. \r\n\r\n\r\n  [1]: https://en.m.wikipedia.org/wiki/List_of_tz_database_time_zones\r\n\r\n\r\n  [1]: https://en.m.wikipedia.org/wiki/List_of_tz_database_time_zones","title":"How to convert UTC to EST java.util.date in Java8+?","body":"<h2>Avoid legacy classes</h2>\n<p>You commented:</p>\n<blockquote>\n<p>I need to populate this in DB column. So I need to convert a string which is in UTC to EST then converting ZonedDateTime back to java.util.Date in this format (yyyy-MM-dd'T'HH:mm:ss)</p>\n</blockquote>\n<p>Never use either <code>Date</code> class. Use only <em>java.time</em> classes. JDBC 4.2 and later supports <em>java.time</em> for exchanging date-time values with a database.</p>\n<ul>\n<li>For a column of a type akin to the SQL-standard type <code>TIMESTAMP WITHOUT TIME ZONE</code>, use <code>java.time.LocalDateTime</code>.</li>\n<li>For a column of a type akin to the SQL-standard type <code>TIMESTAMP WITH TIME ZONE</code>, use <code>java.time.OffsetDateTime</code>.</li>\n</ul>\n<h2>Not a moment</h2>\n<p>Your input string:</p>\n<blockquote>\n<p><code>String timestamp = &quot;2022-03-01T16:29:03&quot;;</code></p>\n</blockquote>\n<p> is misnamed. That value lacks an indicator of time zone or offset-from-UTC. So it cannot represent a moment. We have no way of knowing if that is around 4:30 PM in Tokyo Japan, or in Toulouse France, or in Toledo Ohio US  all very different moments several hours apart. So calling this a timestamp is misleading.</p>\n<p>Parse that input string as a <code>LocalDateTime</code>. No need to specify a formatting pattern. That string complies with ISO 8691, used by default in the <em>java.time</em> classses when parsing/generating text.</p>\n<pre><code>LocalDateTime ldt = LocalDateTime.parse( &quot;2022-03-01T16:29:03&quot; ) ;\n</code></pre>\n<h1>Moment</h1>\n<p>Your code at this point seems convoluted. You assign a default time zone to this date-with-time. But that seems unlikely to make sense. I am guessing that your intention was for this specific date-with-time to represent a specific moment as seen in a specific time zone.</p>\n<p>Apparently you want eastern Canada  time zone. The <a href=\"https://en.m.wikipedia.org/wiki/List_of_tz_database_time_zones\" rel=\"nofollow noreferrer\">proper name for that zone</a> is <code>America/Toronto</code>.</p>\n<pre><code>ZoneId z = ZoneId.of( &quot;America/Toronto&quot; ) ;\n</code></pre>\n<p>Assign that zone to produce a <code>ZonedDateTime</code> object.</p>\n<pre><code>ZonedDateTime zdt = ldt.atZone( z ) ;\n</code></pre>\n<p>Now we have a moment, a specific point on the timeline.</p>\n<h2>JDBC</h2>\n<p>But for writing to a database column of a type akin to the SQL-standard <code>TIMESTAMP WITH TIME ZONE</code>, we need to use <code>OffsetDateTime</code>.</p>\n<pre><code>OffsetDateTime odt = zdt.toOffsetDateTime() ;\n</code></pre>\n<p>Later you commented that the input string is intended to represent a moment in UTC. So assign a <code>ZoneOffset</code> object, the constant <code>UTC</code>, to get an <code>OffsetDateTime</code>.</p>\n<pre><code>OffsetDateTime odt = ldt.atOffset( ZoneOffset.UTC ) ;\n</code></pre>\n<p>Send to the database.</p>\n<pre><code>myPreparedStatement.setObject(  , odt ) ;\n</code></pre>\n<p>Retrieval.</p>\n<pre><code>OffsetDateTime odt = myResultSet.getObject(  , OffsetDateTime.class ) ;\nZonedDateTime zdt = odt.atZoneSameInstant( z ) ;\n</code></pre>\n<h2>Converting legacy  modern</h2>\n<p>If you must use <code>java.util.Date</code> to  interoperate with old code not yet updated to <em>java.time</em>, you can convert to and fro. Look to the new <code>to</code> and <code>from</code> methods added to the old classes.</p>\n<pre><code>java.util.Date d = Date.from( odt.toInstant() ) ;\njava.util.Date d = Date.from( zdt.toInstant() ) ;\n</code></pre>\n<p>Going the other direction.</p>\n<pre><code>Instant instant = myJavaUtilDate.toInstant() ;\n</code></pre>\n<p>All of these topics have been addressed many times on Stack Overflow. Search to learn more.</p>\n"}],"owner":{"account_id":12728827,"reputation":81,"user_id":9246275,"display_name":"veejay"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":898,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71427728,"answer_count":2,"score":0,"last_activity_date":1695313144,"creation_date":1646919534,"question_id":71425060,"body_markdown":"I have my code below which converts UTC to EST. But, how can I convert ZonedDateTime to java.util.Date  from the below code along with this format (yyyy-MM-dd&#39;T&#39;HH:mm:ss) ?\r\n```java\r\nDateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss&quot;);\r\nString f = &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss&quot;;\r\nString timestamp = &quot;2022-03-01T16:29:03&quot;; //sample input\r\n\r\nTemporalAccessor temporalAccessor = formatter.parse(timestamp);\r\nLocalDateTime localDateTime = LocalDateTime.from(temporalAccessor);\r\nZonedDateTime zonedDateTime = ZonedDateTime.of(localDateTime, ZoneId.systemDefault());\r\nInstant result = Instant.from(zonedDateTime);\r\nZonedDateTime nyTime = result.atZone(ZoneId.of(&quot;Canada/Eastern&quot;));\r\nDateTimeFormatter format = DateTimeFormatter.ofPattern(f);\r\nSystem.out.println(&quot;Date EST : &quot; + format.format(nyTime));\r\n```\r\n","title":"How to convert UTC to EST java.util.date in Java8+?","body":"<p>I have my code below which converts UTC to EST. But, how can I convert ZonedDateTime to java.util.Date  from the below code along with this format (yyyy-MM-dd'T'HH:mm:ss) ?</p>\n<pre class=\"lang-java prettyprint-override\"><code>DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd'T'HH:mm:ss&quot;);\nString f = &quot;yyyy-MM-dd'T'HH:mm:ss&quot;;\nString timestamp = &quot;2022-03-01T16:29:03&quot;; //sample input\n\nTemporalAccessor temporalAccessor = formatter.parse(timestamp);\nLocalDateTime localDateTime = LocalDateTime.from(temporalAccessor);\nZonedDateTime zonedDateTime = ZonedDateTime.of(localDateTime, ZoneId.systemDefault());\nInstant result = Instant.from(zonedDateTime);\nZonedDateTime nyTime = result.atZone(ZoneId.of(&quot;Canada/Eastern&quot;));\nDateTimeFormatter format = DateTimeFormatter.ofPattern(f);\nSystem.out.println(&quot;Date EST : &quot; + format.format(nyTime));\n</code></pre>\n"},{"tags":["java","spring","spring-boot","junit","mockito"],"comments":[{"owner":{"account_id":209503,"reputation":22790,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":0,"creation_date":1695313330,"post_id":77151877,"comment_id":136010884,"body_markdown":"I think you are looking for how to dynamically register beans. Here is one post: https://stackoverflow.com/q/75046275/460557 and found this one on google: https://medium.com/@venkivenki4b6/spring-dynamically-register-beans-in-4-ways-at-run-time-c1dc45dcbeb9 \nSee if it helps","body":"I think you are looking for how to dynamically register beans. Here is one post: <a href=\"https://stackoverflow.com/q/75046275/460557\">stackoverflow.com/q/75046275/460557</a> and found this one on google: <a href=\"https://medium.com/@venkivenki4b6/spring-dynamically-register-beans-in-4-ways-at-run-time-c1dc45dcbeb9\" rel=\"nofollow noreferrer\">medium.com/@venkivenki4b6/&hellip;</a>  See if it helps"},{"owner":{"account_id":16744354,"reputation":504,"user_id":12103109,"display_name":"CaptainAye"},"score":0,"creation_date":1695325286,"post_id":77151877,"comment_id":136013100,"body_markdown":"The exception means that Spring found more bean candidates to match for ConcreteService than only one. Do you have couple of beans defined for that type? If so, you would need to specify @Qualifier in order to pick the one that you&#39;re interested in but your Template doesn&#39;t support it.","body":"The exception means that Spring found more bean candidates to match for ConcreteService than only one. Do you have couple of beans defined for that type? If so, you would need to specify @Qualifier in order to pick the one that you&#39;re interested in but your Template doesn&#39;t support it."}],"owner":{"account_id":25227059,"reputation":45,"user_id":19062771,"display_name":"amongosus"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695312961,"creation_date":1695312056,"question_id":77151877,"body_markdown":"I&#39;m developing some Integration Tests and to speed up the process I wanted to exploit the Template pattern for a quicker coverage.\r\nThis is my Template class\r\n\r\n    @SpringBootTest\r\n    @AutoConfigureMockMvc\r\n    public abstract class ControllerTestTemplate&lt;D extends BaseDto, S extends ServiceTemplate&gt;{\r\n        protected D dto;\r\n        @MockBean\r\n        protected S service;\r\n        protected String endpoint;\r\n        @Autowired\r\n        private MockMvc mockMvc;\r\n        private static EasyRandom easyRandom;\r\n\r\n\r\n    public ControllerTestTemplate(D dto, String endpoint) {\r\n        this.dto = dto;\r\n        this.endpoint = endpoint;\r\n    }\r\n    @BeforeAll\r\n    public static void setUp(){\r\n        EasyRandomParameters  easyRandom = new EasyRandom();\r\n    }\r\n\r\n    @Test\r\n    void saveWorks() throws Exception {\r\n    //given\r\n        D d = (D) easyRandom.nextObject(dto.getClass());\r\n        String json = new ObjectMapper()\r\n                .writeValueAsString(d);\r\n\r\n        when(service.save(eq(d))).thenReturn(d);\r\n    //when - then\r\n\r\n        mockMvc.perform(post(endpoint)\r\n                        .contentType(MediaType.APPLICATION_JSON)\r\n                        .content(json))\r\n                .andExpect(status().isOk());\r\n    }\r\n    }\r\n\r\nSo that I cant just create a class that extends my Template for free coverage\r\n\r\n    public class ConcreteControllerTest extends ControllerTestTemplate&lt;ConcreteDto,ConcreteService&gt; {\r\n            public ConcreteControllerTest() {\r\n            super(new ConcreteDto(), &quot;/concrete&quot;);\r\n        }\r\n    }\r\n\r\nRightfully this is wrong, as Spring Boot cannot figure out exactly what Bean he should mock. I get this error when running the Test Suite above: `Unable to register mock bean ? expected a single matching bean to replace but found: [list of services]`\r\n\r\nSo my question is, can I define the exact Bean to Mock with @MockBean at runtime? Is there a way to make my idea work?\r\n\r\nThis is just a fake project, I don&#39;t think this will ever be applied in real scenarios, I was just curious if such implementation could work.","title":"How to Dynamically load MockBeans","body":"<p>I'm developing some Integration Tests and to speed up the process I wanted to exploit the Template pattern for a quicker coverage.\nThis is my Template class</p>\n<pre><code>@SpringBootTest\n@AutoConfigureMockMvc\npublic abstract class ControllerTestTemplate&lt;D extends BaseDto, S extends ServiceTemplate&gt;{\n    protected D dto;\n    @MockBean\n    protected S service;\n    protected String endpoint;\n    @Autowired\n    private MockMvc mockMvc;\n    private static EasyRandom easyRandom;\n\n\npublic ControllerTestTemplate(D dto, String endpoint) {\n    this.dto = dto;\n    this.endpoint = endpoint;\n}\n@BeforeAll\npublic static void setUp(){\n    EasyRandomParameters  easyRandom = new EasyRandom();\n}\n\n@Test\nvoid saveWorks() throws Exception {\n//given\n    D d = (D) easyRandom.nextObject(dto.getClass());\n    String json = new ObjectMapper()\n            .writeValueAsString(d);\n\n    when(service.save(eq(d))).thenReturn(d);\n//when - then\n\n    mockMvc.perform(post(endpoint)\n                    .contentType(MediaType.APPLICATION_JSON)\n                    .content(json))\n            .andExpect(status().isOk());\n}\n}\n</code></pre>\n<p>So that I cant just create a class that extends my Template for free coverage</p>\n<pre><code>public class ConcreteControllerTest extends ControllerTestTemplate&lt;ConcreteDto,ConcreteService&gt; {\n        public ConcreteControllerTest() {\n        super(new ConcreteDto(), &quot;/concrete&quot;);\n    }\n}\n</code></pre>\n<p>Rightfully this is wrong, as Spring Boot cannot figure out exactly what Bean he should mock. I get this error when running the Test Suite above: <code>Unable to register mock bean ? expected a single matching bean to replace but found: [list of services]</code></p>\n<p>So my question is, can I define the exact Bean to Mock with @MockBean at runtime? Is there a way to make my idea work?</p>\n<p>This is just a fake project, I don't think this will ever be applied in real scenarios, I was just curious if such implementation could work.</p>\n"},{"tags":["javascript","java","arrays","swagger","kubernetes-helm"],"owner":{"account_id":19605932,"reputation":13,"user_id":14349620,"display_name":"Dennis van Putten"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695312915,"creation_date":1695312915,"question_id":77151978,"body_markdown":"I have swagger running on my k8 cluster. I&#39;m trying to override the default petshop url with environment variables in my deployment.yaml. This works well with a URL. Only when I try with two URLs as the swagger documentation indicates does it go wrong. Then swagger somehow tries to put a comma after the last url.\r\n```\r\n    env:\r\n    - name: URLS\r\n      value: &quot;https://example1.local/v3/api-docs,https://example2.local/v3/apidocs&quot;\r\n```\r\n\r\nThe swagger-initialiser.json converts it to:\r\n\r\n```\r\nurls: https://example1.local/v3/api-docs,https://example2.local/v3/apidocs,\r\n```\r\n\r\nCan&#39;t see how to fix it. Can anyone help me out? :)","title":"Swagger-ui config overwrite","body":"<p>I have swagger running on my k8 cluster. I'm trying to override the default petshop url with environment variables in my deployment.yaml. This works well with a URL. Only when I try with two URLs as the swagger documentation indicates does it go wrong. Then swagger somehow tries to put a comma after the last url.</p>\n<pre><code>    env:\n    - name: URLS\n      value: &quot;https://example1.local/v3/api-docs,https://example2.local/v3/apidocs&quot;\n</code></pre>\n<p>The swagger-initialiser.json converts it to:</p>\n<pre><code>urls: https://example1.local/v3/api-docs,https://example2.local/v3/apidocs,\n</code></pre>\n<p>Can't see how to fix it. Can anyone help me out? :)</p>\n"},{"tags":["java","commercetools"],"answers":[{"tags":[],"owner":{"account_id":6106088,"reputation":317,"user_id":4763768,"display_name":"jenschude"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1694584942,"creation_date":1694584942,"answer_id":77094409,"question_id":77087792,"body_markdown":"You can use the QueryUtils class with it&#39;s methods. They provide similar functionality.\r\n\r\n        public void queryAll() {\r\n        ProjectApiRoot apiRoot = createProjectClient();\r\n        List&lt;String&gt; ids = QueryUtils.queryAll(apiRoot.productProjections().get(), (productProjections) -&gt; {\r\n            return productProjections.stream().map(ProductProjection::getId).collect(Collectors.toList());\r\n        }, 100)\r\n                .thenApply(lists -&gt; lists.stream().flatMap(List::stream).collect(Collectors.toList()))\r\n                .toCompletableFuture()\r\n                .join();\r\n        }\r\n\r\nPlease see https://commercetools.github.io/commercetools-sdk-java-v2/javadoc/com/commercetools/docs/meta/Querying.html","title":"Extract all Product database in a single List&lt;Product&gt; with CommerceTools SDK v2","body":"<p>You can use the QueryUtils class with it's methods. They provide similar functionality.</p>\n<pre><code>    public void queryAll() {\n    ProjectApiRoot apiRoot = createProjectClient();\n    List&lt;String&gt; ids = QueryUtils.queryAll(apiRoot.productProjections().get(), (productProjections) -&gt; {\n        return productProjections.stream().map(ProductProjection::getId).collect(Collectors.toList());\n    }, 100)\n            .thenApply(lists -&gt; lists.stream().flatMap(List::stream).collect(Collectors.toList()))\n            .toCompletableFuture()\n            .join();\n    }\n</code></pre>\n<p>Please see <a href=\"https://commercetools.github.io/commercetools-sdk-java-v2/javadoc/com/commercetools/docs/meta/Querying.html\" rel=\"nofollow noreferrer\">https://commercetools.github.io/commercetools-sdk-java-v2/javadoc/com/commercetools/docs/meta/Querying.html</a></p>\n"},{"tags":[],"owner":{"account_id":7095080,"reputation":51,"user_id":5428976,"accept_rate":75,"display_name":"MiguelHoz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695312870,"creation_date":1695312870,"answer_id":77151972,"question_id":77087792,"body_markdown":"Thank you very much @jenschude, but I finally decided to create my own method because I needed to add the complete Product objects in a List to process them later.\r\nIt may not be the best solution, but it works for me, which is the important thing :-)\r\n\r\n```lang-java\r\n    public List&lt;Product&gt; getAllProductsByPredicate(final String predicate) throws InterruptedException {\r\n        List&lt;Product&gt; tmpProducts = new java.util.ArrayList&lt;&gt;(Collections.emptyList());\r\n        boolean lastPage = false;\r\n        int pagina = 0;\r\n\r\n        try {\r\n            // Instead of using offset to get a page, ask for elements being greater than the id of the first\r\n            // product in your project\r\n            String lastId = getApiRoot()\r\n                .products()\r\n                .get()\r\n                .withWhere(predicate)\r\n                .withSort(&quot;id asc&quot;)\r\n                .withLimit(1)\r\n                .execute()\r\n                .toCompletableFuture().get()\r\n                .getBody().getResults().get(0).getId();\r\n            lastId = lastId.substring(0, lastId.length() - 1) + &quot;0&quot;; // Starting last id less than the first one\r\n\r\n            while (!lastPage) {\r\n                pagina++;\r\n                ProductPagedQueryResponse productPagedQueryResponse =\r\n                    getApiRoot()\r\n                        .products()\r\n                        .get()\r\n                        // Important, internally we use id &gt; $lastId, it will not work without this line\r\n                        .withSort(&quot;id asc&quot;)\r\n                        .withWhere(predicate)\r\n                        .addWhere(&quot;id &gt; :lastId&quot;)\r\n                        .addPredicateVar(&quot;lastId&quot;, lastId)\r\n                        // Limit the size per page\r\n                        .withLimit(MAXIMUM_AMOUNT_OF_RESULTS)\r\n                        // always use this\r\n                        .withWithTotal(false)\r\n                        .execute()\r\n                        .toCompletableFuture()\r\n                        .get()\r\n                        .getBody();\r\n\r\n                // Add all the results to temporary list os products\r\n                tmpProducts.addAll(productPagedQueryResponse.getResults());\r\n                // Evaluate the size of current results\r\n                int size = productPagedQueryResponse.getResults().size();\r\n                if (size != 0) {\r\n                    LOGGER.debug(&quot;Recuperada la p&#225;gina #{} con {} productos&quot;, pagina, size);\r\n                    lastId = productPagedQueryResponse.getResults().get(size - 1).getId();\r\n                }\r\n                // If (size &lt; MAXIMUM_AMOUNT_OF_RESULTS) then lastPage = true to exit the loop\r\n                if (size != MAXIMUM_AMOUNT_OF_RESULTS) {\r\n                    LOGGER.debug(&quot;Ultima p&#225;gina de productos (total {} p&#225;ginas)&quot;, pagina);\r\n                    lastPage = true;\r\n                }\r\n            }\r\n            return tmpProducts;\r\n        } catch (ExecutionException e1) {\r\n            LOGGER.error(&quot;Failed to execute. ExecutionException:\\n{}&quot;, e1.getMessage());\r\n            return tmpProducts;\r\n        }\r\n    }\r\n```\r\n\r\nThanks again","title":"Extract all Product database in a single List&lt;Product&gt; with CommerceTools SDK v2","body":"<p>Thank you very much @jenschude, but I finally decided to create my own method because I needed to add the complete Product objects in a List to process them later.\nIt may not be the best solution, but it works for me, which is the important thing :-)</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public List&lt;Product&gt; getAllProductsByPredicate(final String predicate) throws InterruptedException {\n        List&lt;Product&gt; tmpProducts = new java.util.ArrayList&lt;&gt;(Collections.emptyList());\n        boolean lastPage = false;\n        int pagina = 0;\n\n        try {\n            // Instead of using offset to get a page, ask for elements being greater than the id of the first\n            // product in your project\n            String lastId = getApiRoot()\n                .products()\n                .get()\n                .withWhere(predicate)\n                .withSort(&quot;id asc&quot;)\n                .withLimit(1)\n                .execute()\n                .toCompletableFuture().get()\n                .getBody().getResults().get(0).getId();\n            lastId = lastId.substring(0, lastId.length() - 1) + &quot;0&quot;; // Starting last id less than the first one\n\n            while (!lastPage) {\n                pagina++;\n                ProductPagedQueryResponse productPagedQueryResponse =\n                    getApiRoot()\n                        .products()\n                        .get()\n                        // Important, internally we use id &gt; $lastId, it will not work without this line\n                        .withSort(&quot;id asc&quot;)\n                        .withWhere(predicate)\n                        .addWhere(&quot;id &gt; :lastId&quot;)\n                        .addPredicateVar(&quot;lastId&quot;, lastId)\n                        // Limit the size per page\n                        .withLimit(MAXIMUM_AMOUNT_OF_RESULTS)\n                        // always use this\n                        .withWithTotal(false)\n                        .execute()\n                        .toCompletableFuture()\n                        .get()\n                        .getBody();\n\n                // Add all the results to temporary list os products\n                tmpProducts.addAll(productPagedQueryResponse.getResults());\n                // Evaluate the size of current results\n                int size = productPagedQueryResponse.getResults().size();\n                if (size != 0) {\n                    LOGGER.debug(&quot;Recuperada la pgina #{} con {} productos&quot;, pagina, size);\n                    lastId = productPagedQueryResponse.getResults().get(size - 1).getId();\n                }\n                // If (size &lt; MAXIMUM_AMOUNT_OF_RESULTS) then lastPage = true to exit the loop\n                if (size != MAXIMUM_AMOUNT_OF_RESULTS) {\n                    LOGGER.debug(&quot;Ultima pgina de productos (total {} pginas)&quot;, pagina);\n                    lastPage = true;\n                }\n            }\n            return tmpProducts;\n        } catch (ExecutionException e1) {\n            LOGGER.error(&quot;Failed to execute. ExecutionException:\\n{}&quot;, e1.getMessage());\n            return tmpProducts;\n        }\n    }\n</code></pre>\n<p>Thanks again</p>\n"}],"owner":{"account_id":7095080,"reputation":51,"user_id":5428976,"accept_rate":75,"display_name":"MiguelHoz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77094409,"answer_count":2,"score":0,"last_activity_date":1695312870,"creation_date":1694510842,"question_id":77087792,"body_markdown":"I&#39;m looking for a way to migrate certain functionality from CommerceTools Java SDK-v1 to SDK-v2.\r\nThis functionality allows me to extract the entire product database (around 30k products) into a single list of products (`List&lt;Product&gt;`).\r\n\r\nThis is the code we currently use with SDK v1:\r\n```\r\n            final QueryPredicate qPred = ProductQuery.of().productType().isInIds(ids);\r\n            final ProductQuery seedQuery = ProductQuery.of()\r\n                .withSort(m -&gt; m.id().sort().asc())\r\n                .withLimit(ProjectConstants.PAGE_SIZE)\r\n                .withPredicates(qPred)\r\n                .withFetchTotal(false);\r\n            final CompletionStage&lt;List&lt;Product&gt;&gt; resultStage = findNext(seedQuery, seedQuery, new LinkedList&lt;&gt;(), connCT);\r\n            final List&lt;Product&gt; actualProducts = resultStage.toCompletableFuture().join();\r\n            final List&lt;Product&gt; javaSortedActual = actualProducts.stream().sorted(Comparator.comparing(p -&gt; p.getId())).collect(toList());\r\n            return javaSortedActual;\r\n```\r\n\r\n\r\nAs you can see, `ProductQuery` is used to create the seedQuery that is then used with `CompletionStage.findNext` which is the command that retrieves all the product pages one by one and enters them into the complete list.\r\n\r\nThe problem is that with the SDK v2 the `ProductQuery` method no longer exists and I no longer know how I should recover all the products from our database in a single list.\r\n\r\nDoes anyone know how I can get the same functionality with SDK v2?\r\n\r\nThanks in advance.","title":"Extract all Product database in a single List&lt;Product&gt; with CommerceTools SDK v2","body":"<p>I'm looking for a way to migrate certain functionality from CommerceTools Java SDK-v1 to SDK-v2.\nThis functionality allows me to extract the entire product database (around 30k products) into a single list of products (<code>List&lt;Product&gt;</code>).</p>\n<p>This is the code we currently use with SDK v1:</p>\n<pre><code>            final QueryPredicate qPred = ProductQuery.of().productType().isInIds(ids);\n            final ProductQuery seedQuery = ProductQuery.of()\n                .withSort(m -&gt; m.id().sort().asc())\n                .withLimit(ProjectConstants.PAGE_SIZE)\n                .withPredicates(qPred)\n                .withFetchTotal(false);\n            final CompletionStage&lt;List&lt;Product&gt;&gt; resultStage = findNext(seedQuery, seedQuery, new LinkedList&lt;&gt;(), connCT);\n            final List&lt;Product&gt; actualProducts = resultStage.toCompletableFuture().join();\n            final List&lt;Product&gt; javaSortedActual = actualProducts.stream().sorted(Comparator.comparing(p -&gt; p.getId())).collect(toList());\n            return javaSortedActual;\n</code></pre>\n<p>As you can see, <code>ProductQuery</code> is used to create the seedQuery that is then used with <code>CompletionStage.findNext</code> which is the command that retrieves all the product pages one by one and enters them into the complete list.</p>\n<p>The problem is that with the SDK v2 the <code>ProductQuery</code> method no longer exists and I no longer know how I should recover all the products from our database in a single list.</p>\n<p>Does anyone know how I can get the same functionality with SDK v2?</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","html","swing","javafx","plotly"],"comments":[{"owner":{"account_id":1151383,"reputation":36217,"user_id":1133011,"accept_rate":96,"display_name":"David Kroukamp"},"score":1,"creation_date":1607420714,"post_id":65190461,"comment_id":115260376,"body_markdown":"Sorry to clarify why exactly does it NEED to be invisible?","body":"Sorry to clarify why exactly does it NEED to be invisible?"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":1,"creation_date":1607422432,"post_id":65190461,"comment_id":115261101,"body_markdown":"*&quot;it is likely that it is the plotly.js JavaScript the JEditorPane is having trouble with:&quot;* Nope. It can&#39;t have trouble with something it never supported - at all. Swing&#39;s support of HTML rendering is limited to a subset of HTML 3.2, very simple styles, and no scripts, whatsoever. The Java-FX `WebView` embeds an actual browser, though I don&#39;t know if it will render a page before it is made visible on-screen. Like @DavidKroukamp, I am curious about the need to do this without showing a page on-screen. See also [What is the XY problem?](http://meta.stackexchange.com/q/66377)","body":"<i>&quot;it is likely that it is the plotly.js JavaScript the JEditorPane is having trouble with:&quot;</i> Nope. It can&#39;t have trouble with something it never supported - at all. Swing&#39;s support of HTML rendering is limited to a subset of HTML 3.2, very simple styles, and no scripts, whatsoever. The Java-FX <code>WebView</code> embeds an actual browser, though I don&#39;t know if it will render a page before it is made visible on-screen. Like @DavidKroukamp, I am curious about the need to do this without showing a page on-screen. See also <a href=\"http://meta.stackexchange.com/q/66377\">What is the XY problem?</a>"},{"owner":{"account_id":1151383,"reputation":36217,"user_id":1133011,"accept_rate":96,"display_name":"David Kroukamp"},"score":1,"creation_date":1607427187,"post_id":65190461,"comment_id":115263169,"body_markdown":"Agreed with @AndrewThompson if this is something automated task you run locally i can&#39;t see why it can&#39;t show a window, and if it mustn&#39;t then you are using an incorrect framework you probably better off creating a CLI that integrates with chrome using the `--healdess` argument so no chrome window is produced and use its built in print/save functions or one of these options https://stackoverflow.com/a/46243263/1133011","body":"Agreed with @AndrewThompson if this is something automated task you run locally i can&#39;t see why it can&#39;t show a window, and if it mustn&#39;t then you are using an incorrect framework you probably better off creating a CLI that integrates with chrome using the <code>--healdess</code> argument so no chrome window is produced and use its built in print/save functions or one of these options <a href=\"https://stackoverflow.com/a/46243263/1133011\">stackoverflow.com/a/46243263/1133011</a>"},{"owner":{"account_id":18424609,"reputation":66,"user_id":13421258,"display_name":"Tom Schorsch"},"score":0,"creation_date":1607493090,"post_id":65190461,"comment_id":115286568,"body_markdown":"I run analysis software 20-30 times a day as I am doing analysis and creating the analysis software.  Having 100s of windows pop-up is annoying and (in my mind) not necessary.  Apparently many in the plotly community are also very annoyed with not being able to create plot images without first rendering them in a browser as well. JFreeChart and JavaFX don&#39;t have this issue. Here is an unanswered plotly question related to mine &lt;https://stackoverflow.com/questions/34957790/use-plotly-offline-to-generate-graphs-as-images&gt;.  If this were solved I might be able to use it.","body":"I run analysis software 20-30 times a day as I am doing analysis and creating the analysis software.  Having 100s of windows pop-up is annoying and (in my mind) not necessary.  Apparently many in the plotly community are also very annoyed with not being able to create plot images without first rendering them in a browser as well. JFreeChart and JavaFX don&#39;t have this issue. Here is an unanswered plotly question related to mine &lt;<a href=\"https://stackoverflow.com/questions/34957790/use-plotly-offline-to-generate-graphs-as-images\" title=\"use plotly offline to generate graphs as images\">stackoverflow.com/questions/34957790/&hellip;</a>&gt;.  If this were solved I might be able to use it."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1607493791,"post_id":65190461,"comment_id":115286749,"body_markdown":"*&quot;I run analysis software..&quot;* Tip: Add @DavidKroukamp (or whoever, the `@` is important) to *notify* the person of a new comment.","body":"<i>&quot;I run analysis software..&quot;</i> Tip: Add @DavidKroukamp (or whoever, the <code>@</code> is important) to <i>notify</i> the person of a new comment."},{"owner":{"account_id":18424609,"reputation":66,"user_id":13421258,"display_name":"Tom Schorsch"},"score":0,"creation_date":1607573479,"post_id":65190461,"comment_id":115317318,"body_markdown":"Thanks @AndrewThompson. Plotly users have many posts with my same &quot;use case&quot; but for python or R instead of Java. &lt;https://github.com/plotly/plotly.py/issues/880&gt; is one such with a post in it that ends with a frustrated &quot;Plotly is a html / online web tool only. I will look elsewhere for use cases that require images as output.&quot; His frustration and mine is that &quot;solutions&quot; require downloads with complex dependencies, use a Rube-Goldberg approach, and then don&#39;t work because of new issues. I am not competent in this problem space and need a simple solution by someone who has already solved it.","body":"Thanks @AndrewThompson. Plotly users have many posts with my same &quot;use case&quot; but for python or R instead of Java. &lt;<a href=\"https://github.com/plotly/plotly.py/issues/880\" rel=\"nofollow noreferrer\">github.com/plotly/plotly.py/issues/880</a>&gt; is one such with a post in it that ends with a frustrated &quot;Plotly is a html / online web tool only. I will look elsewhere for use cases that require images as output.&quot; His frustration and mine is that &quot;solutions&quot; require downloads with complex dependencies, use a Rube-Goldberg approach, and then don&#39;t work because of new issues. I am not competent in this problem space and need a simple solution by someone who has already solved it."},{"owner":{"account_id":18424609,"reputation":66,"user_id":13421258,"display_name":"Tom Schorsch"},"score":0,"creation_date":1607576316,"post_id":65190461,"comment_id":115317881,"body_markdown":"Thanks @DavidKroukamp.  My use case is not an uncommon use case based on the number of requests for this capability.  (including the link &lt;stackoverflow.com/questions/34957790/&gt; above which was created 8 years ago, viewed 321k times and was active as of 30 days ago.  It appears to be a simple request &quot;Render HTML to an image&quot; but there is no easy solution.   My variant is it is a complex html file with Java Script and I&#39;d like to do it 100&#39;s of times (1000&#39;s of times a day) from Java (where I create the initial .html files).   Someone has to have a simple Java solution for this!!!  Right?","body":"Thanks @DavidKroukamp.  My use case is not an uncommon use case based on the number of requests for this capability.  (including the link &lt;stackoverflow.com/questions/34957790/&gt; above which was created 8 years ago, viewed 321k times and was active as of 30 days ago.  It appears to be a simple request &quot;Render HTML to an image&quot; but there is no easy solution.   My variant is it is a complex html file with Java Script and I&#39;d like to do it 100&#39;s of times (1000&#39;s of times a day) from Java (where I create the initial .html files).   Someone has to have a simple Java solution for this!!!  Right?"}],"owner":{"account_id":18424609,"reputation":66,"user_id":13421258,"display_name":"Tom Schorsch"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":438,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695312076,"creation_date":1607380565,"question_id":65190461,"body_markdown":"It has been several years with no solution, also I noticed there are new plotly python solutions for off-line image generation (https://plotly.com/python/static-image-export/) - are there any such solutions for java yet?\r\n\r\nI would like to create and embed the .pngs of technical plots (based on JavaScript and plotly) into a PowerPoint presentation.  I have used JFreeChart and JafaFX plots in the past (and created .pngs with then) but now I am trying to replace those plotting technologies with plotly.  The link below says that it is not possible to embed .html directly into a PPT slide so it can be viewed without clicking on it without a 3rd party add-on (which I cannot use) which is why I am trying to change my .html (with JavaScript) plot files to .png plot files.  &lt;https://superuser.com/questions/1221880/how-to-embed-an-html-file-into-a-powerpoint-presentation&gt;\r\n\r\nI regularly create a 100&#39;s of ploty .html files from java (sample below) that are saved to my local hard drive. My dev/execution environment is off-line so I need a solution I can call from Java (i.e. native or Open Source 3rd party .jar I can download &amp; use) so that I can turn these .html files (with plotly JavaScript) into .pngs.\r\n\r\nA Swing JEditorPane solution won&#39;t work with my .html files.\r\n```\r\nimport java.awt.image.BufferedImage;\r\nimport java.awt.image.RenderedImage;\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport java.net.MalformedURLException;\r\nimport java.net.URL;\r\nimport javax.imageio.ImageIO;\r\nimport javax.swing.JEditorPane;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.SwingUtilities;\r\n\r\npublic class HTML2PNG_SWING {\r\n\tpublic static void main(String[] args) {\r\n\t\tURL htmlFile = null;\r\n\t\ttry {htmlFile = new File(&quot;D://myPlot.html&quot;).toURI().toURL();} catch (MalformedURLException e2) {e2.printStackTrace();}\r\n\t\tFile pngFile = new File(&quot;D://myPlot.png&quot;);          // png file I want to create\r\n\r\n\t\tJEditorPane ed = null;\r\n\t\t//load the webpage into the editor\r\n\t\ttry {ed = new JEditorPane(htmlFile);} catch (IOException e) {e.printStackTrace();}\r\n\r\n\t\ttry {\t// Likely there is some callback I can use instead which can tell me when the .html file is loaded\r\n\t\t\tThread.sleep(10000);} catch (InterruptedException e1) {e1.printStackTrace();\r\n\t\t\t}\r\n\r\n\t\t// I have to put some window size here... it would be nice if the size were auto-generated based on the .html plot  \r\n\t\ted.setSize(1000,1000); \r\n\t\t//create a new image\r\n\t\tBufferedImage image = new BufferedImage(ed.getWidth(), ed.getHeight(),BufferedImage.TYPE_INT_ARGB);\r\n\r\n\t\t//paint the editor onto the image\r\n\t\tSwingUtilities.paintComponent(image.createGraphics(), ed, new JPanel(), 0, 0, image.getWidth(), image.getHeight());\r\n\r\n\t\t//save the image to file\r\n\t\ttry {ImageIO.write((RenderedImage)image, &quot;png&quot;, pngFile);} catch (IOException e) {e.printStackTrace();\r\n\t\t}      \r\n\t}  \r\n} \r\n```\r\nExplanation: A Swing JEditorPane works with simple .html files without the need to render the html file to the screen.  When I try the Swing solution on my sample .html file below, the two Text divs show up (see sample below) but not the plotly div plot itself so it is likely that it is the plotly.js JavaScript the JEditorPane is having trouble with:\r\n&lt;https://www.tutorialspoint.com/swingexamples/using_jeditorpane_to_show_html.htm&gt;\r\n\r\nA JavaFX Snapshot/WebView/WebEngine solution won&#39;t work with my .html files.\r\n```\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport java.net.MalformedURLException;\r\nimport java.net.URL;\r\nimport java.util.Date;\r\n\r\nimport javax.imageio.ImageIO;\r\n\r\nimport javafx.application.Application;\r\nimport javafx.application.Platform;\r\nimport javafx.beans.value.ChangeListener;\r\nimport javafx.beans.value.ObservableValue;\r\nimport javafx.concurrent.Worker;\r\nimport javafx.embed.swing.SwingFXUtils;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.SnapshotParameters;\r\nimport javafx.scene.image.WritableImage;\r\nimport javafx.scene.layout.VBox;\r\nimport javafx.scene.text.Text;\r\nimport javafx.scene.web.WebEngine;\r\nimport javafx.scene.web.WebView;\r\nimport javafx.stage.Stage;\r\n\r\npublic class HTML2PNG_JAVAFX2 extends Application {\r\n\r\n\tpublic void start(Stage primaryStage) throws Exception {\r\n\r\n\t\tURL htmlFile = null;\r\n\t\ttry {htmlFile = new File(&quot;D://myPlot.html&quot;).toURI().toURL();} catch (MalformedURLException e2) {e2.printStackTrace();}\r\n\t\tFile pngFile = new File(&quot;D://myPlot.png&quot;);          // png file I want to create\r\n\r\n\t\tSystem.out.println(&quot;Before loading web page-\t&quot;+new Date().toString());\r\n\t\tWebView webView = new WebView();\r\n\t\twebView.getEngine().load(htmlFile.toExternalForm());  // comment this out and uncomment out the next line to show that &#39;simple&#39; pages can be rendered&#39; successfully\r\n//\t\twebView.getEngine().load( &quot;http://www.stackoverflow.com/&quot; );\r\n        WebEngine webEngine = webView.getEngine();\r\n\t\tVBox vBox = new VBox();\r\n\t\tvBox.getChildren().add(new Text(&quot;Hello World&quot;));  // used so I can see something if the webView has not loaded\r\n\t\tvBox.getChildren().add(webView);\r\n\t\t\r\n\t\t// I am only using this to show that the page is loaded (successfully or not) and when\r\n        webEngine.getLoadWorker().stateProperty().addListener(new BrowserStatusChangeListener(vBox));\r\n\r\n        Stage tempStage = new Stage();\r\n\r\n\t\t// Please excuse this weird threading code and the .sleeps.  \r\n\t\t// I was trying to methodically separate the different activities into isolated code pockets to better understand what was going on\r\n\r\n\t\t// Put this in a new Thread so it is off the JavaFX Thread\r\n\t\tnew Thread(() -&gt; {\r\n\t\t\t// Delay to allow the web page to load\r\n\t\t\ttry {\r\n\t\t\t\tThread.sleep(10000);\r\n\t\t\t} catch (InterruptedException e1) {\r\n\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\te1.printStackTrace();\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// This goes back on the JavaFX Thread\r\n\t\t\tPlatform.runLater(() -&gt;{ \r\n\t\t\t\tScene scene =  new Scene(vBox);\r\n\t\t\t\ttempStage.setScene(scene);\r\n\t\t\t\tvBox.layout();\t\t\t\t\r\n\t\t\t\tvBox.requestLayout();\r\n\t\t\t\ttempStage.show(); // if this line is commented out the html will not be captured\r\n\t\t\t});\r\n\r\n\t\t\t// Delay to allow the above scene/stage code to be executed (may not be needed)\r\n\t\t\ttry {\r\n\t\t\t\tThread.sleep(10000);\r\n\t\t\t} catch (InterruptedException e1) {\r\n\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\te1.printStackTrace();\r\n\t\t\t}\r\n\r\n\t\t\t// This also goes back on the JavaFX Thread but after a 2nd delay\r\n\t\t\tPlatform.runLater(() -&gt;{ \r\n\t\t\t\tSystem.out.println(&quot;Writing... after the delay-\t&quot;+new Date().toString());\r\n\t\t\t\tWritableImage image = vBox.snapshot(new SnapshotParameters(), null);\r\n\t\t\t\ttry {\r\n\t\t\t\t\tImageIO.write(SwingFXUtils.fromFXImage(image, null), &quot;png&quot;, pngFile);\r\n\t\t\t\t} catch (IOException e) {\r\n\t\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t\tif (pngFile.length() &gt; 50000) {\r\n\t\t\t\t\tSystem.out.println(&quot;Success, file size: &quot;+pngFile.length()+&quot;-\t&quot;+new Date().toString());\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tSystem.out.println(&quot;Failure, file size: &quot;+pngFile.length()+&quot;-\t&quot;+new Date().toString());\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t})\r\n\t\t.start();\r\n\t}\r\n\r\n\t// \r\n\tclass BrowserStatusChangeListener implements ChangeListener&lt;Worker.State&gt; {\r\n\t\t\r\n\t\tVBox vBox;\r\n\t\tpublic BrowserStatusChangeListener(VBox vBox) {\r\n\t\t\tthis.vBox = vBox;\r\n\t\t}\r\n\t\t@Override\r\n\t\tpublic void changed(ObservableValue&lt;? extends Worker.State&gt; observable, Worker.State oldValue, Worker.State newValue) {\r\n\t\t\tif (newValue.equals(Worker.State.SUCCEEDED)) {\r\n\t\t\t\tSystem.out.println(&quot;Succeeded loading-\t\t&quot;+new Date().toString());\r\n\t\t\t}\r\n\t\t\telse if(newValue.equals(Worker.State.FAILED)){\r\n\t\t\t\tSystem.out.println(&quot;Failed loading-\t\t\t&quot;+new Date().toString());\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tApplication.launch(args);\r\n\t}\r\n}\r\n```\r\nExplanation: A JavaFX Snapshot/WebView/WebEngine solution only works if the WebView is visible (attached to JavaFX Scene and Stage and &#39;Show()&#39;ed).  If ```tempStage.show();``` is commented out nothing can be captured.  The following unanswered question is specific to JavaFX but otherwise is the same as mine.\r\n&lt;https://stackoverflow.com/questions/30121204/javafx-how-to-create-snapshot-screenshot-of-invisble-webview&gt;.  Finally, I could not get the WebEngine to load myPlot.html correctly.  The engine reports back that it succeeded when loading myPlot.html BUT the Java Script does not appear to be executing.  This link implies you can force the JavaScript execution BUT I did not try it because of the ```tempStage.show();``` issue above.  &lt;http://tutorials.jenkov.com/javafx/webview.html#executing-javascript-from-java&gt;\r\n\r\nI think a Swing, JavaFX, or 3rd Party html rendering engine that can handle Java Script and can return a graphic image of the rendered .html WITHOUT displaying it to the screen is what I am looking for.  I don&#39;t believe my problem is ploty.js specific.\r\n\r\nMy ideal solution would look like the following:\r\n```\r\n// Sample ideal pseudo code (ignoring error handling code)\r\n\tURL htmlFile = new File(&quot;D://myPlot.html&quot;).toURI().toURL();   // local .html file (that contains JavaScript)\r\n\tFile pngFile = new File(&quot;D://myPlot.png&quot;);          // png file I want to create\r\n\tSomeWebEngine we = new SomeWebEngine(htmlFile);     // loads the .html file (but does not display it to the screen)\r\n\twe.whenLoaded(()-&gt;we.saveTo(pngFile));              // Spawns task which executes AFTER the html file is loaded, which saves the html to the png file\r\n```\r\n\r\nBonus capability: The rendered image is the minimal image size needed to contain the html plot (see sample below) AND you do not have to set that size yourself. \r\n\r\nSample plotly based &quot;plot.html&quot; file (with html &#39;div&#39; wrapper for additional text elements at the corners elements that I can&#39;t do in plotly alone):\r\n```\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html lang=&quot;en-US&quot;&gt;\r\n&lt;head&gt;\r\n\t&lt;title&gt;My Plot&lt;/title&gt;\r\n\t&lt;script src=&#39;D://plotly.js&#39;&gt;&lt;/script&gt;\r\n\t&lt;!-- &lt;script src=&quot;https://cdn.plot.ly/plotly-latest.min.js&quot;&gt;&lt;/script&gt; won&#39;t work becuase I am offline --&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n\t&lt;div style=&quot;position:relative;&quot; id=&#39;plotDiv&#39;&gt;\r\n\t\t&lt;div id=&quot;topLeft&quot;&gt;\r\n\t\t\t&lt;p style=&quot;position:absolute;top:0;left:0;&quot;&gt;&lt;Strong&gt;Stuff plotly won&#39;t let me put inside the plot&lt;/Strong&gt;&lt;/p&gt;\r\n\t\t&lt;/div&gt;\r\n\t\t&lt;div id=&quot;bottomRight&quot;&gt;\r\n\t\t\t&lt;p style=&quot;position:absolute;bottom:0;right:0;&quot;&gt;&lt;Strong&gt;More Stuff, different corner&lt;/Strong&gt;&lt;/p&gt;\r\n\t\t&lt;/div&gt;\r\n\t&lt;/div&gt;\r\n&lt;/body&gt;\r\n&lt;script&gt;\r\n\tvar trace0 = {\r\n\t\tx: [&quot;1.0&quot;, &quot;2.0&quot;, &quot;3.0&quot;, &quot;4.0&quot;],\r\n\t\ty: [&quot;1.0&quot;, &quot;4.0&quot;, &quot;2.0&quot;, &quot;3.0&quot;],\r\n\t\tmode: &#39;lines+markers&#39;,\r\n\t\ttype: &#39;scatter&#39;,\r\n\t\tname: &#39;My Data&#39;\r\n\t};\r\n\tvar data = [trace0];\r\n\tPlotly.newPlot(&#39;plotDiv&#39;, data);\r\n&lt;/script&gt;\r\n&lt;/html&gt;\r\n```\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/K5hX2.png","title":"Offline (no internet) conversion of local .html file (with JavaScript) to .png file from Java without rendering it to screen","body":"<p>It has been several years with no solution, also I noticed there are new plotly python solutions for off-line image generation (<a href=\"https://plotly.com/python/static-image-export/\" rel=\"nofollow noreferrer\">https://plotly.com/python/static-image-export/</a>) - are there any such solutions for java yet?</p>\n<p>I would like to create and embed the .pngs of technical plots (based on JavaScript and plotly) into a PowerPoint presentation.  I have used JFreeChart and JafaFX plots in the past (and created .pngs with then) but now I am trying to replace those plotting technologies with plotly.  The link below says that it is not possible to embed .html directly into a PPT slide so it can be viewed without clicking on it without a 3rd party add-on (which I cannot use) which is why I am trying to change my .html (with JavaScript) plot files to .png plot files.  <a href=\"https://superuser.com/questions/1221880/how-to-embed-an-html-file-into-a-powerpoint-presentation\">https://superuser.com/questions/1221880/how-to-embed-an-html-file-into-a-powerpoint-presentation</a></p>\n<p>I regularly create a 100's of ploty .html files from java (sample below) that are saved to my local hard drive. My dev/execution environment is off-line so I need a solution I can call from Java (i.e. native or Open Source 3rd party .jar I can download &amp; use) so that I can turn these .html files (with plotly JavaScript) into .pngs.</p>\n<p>A Swing JEditorPane solution won't work with my .html files.</p>\n<pre><code>import java.awt.image.BufferedImage;\nimport java.awt.image.RenderedImage;\nimport java.io.File;\nimport java.io.IOException;\nimport java.net.MalformedURLException;\nimport java.net.URL;\nimport javax.imageio.ImageIO;\nimport javax.swing.JEditorPane;\nimport javax.swing.JPanel;\nimport javax.swing.SwingUtilities;\n\npublic class HTML2PNG_SWING {\n    public static void main(String[] args) {\n        URL htmlFile = null;\n        try {htmlFile = new File(&quot;D://myPlot.html&quot;).toURI().toURL();} catch (MalformedURLException e2) {e2.printStackTrace();}\n        File pngFile = new File(&quot;D://myPlot.png&quot;);          // png file I want to create\n\n        JEditorPane ed = null;\n        //load the webpage into the editor\n        try {ed = new JEditorPane(htmlFile);} catch (IOException e) {e.printStackTrace();}\n\n        try {   // Likely there is some callback I can use instead which can tell me when the .html file is loaded\n            Thread.sleep(10000);} catch (InterruptedException e1) {e1.printStackTrace();\n            }\n\n        // I have to put some window size here... it would be nice if the size were auto-generated based on the .html plot  \n        ed.setSize(1000,1000); \n        //create a new image\n        BufferedImage image = new BufferedImage(ed.getWidth(), ed.getHeight(),BufferedImage.TYPE_INT_ARGB);\n\n        //paint the editor onto the image\n        SwingUtilities.paintComponent(image.createGraphics(), ed, new JPanel(), 0, 0, image.getWidth(), image.getHeight());\n\n        //save the image to file\n        try {ImageIO.write((RenderedImage)image, &quot;png&quot;, pngFile);} catch (IOException e) {e.printStackTrace();\n        }      \n    }  \n} \n</code></pre>\n<p>Explanation: A Swing JEditorPane works with simple .html files without the need to render the html file to the screen.  When I try the Swing solution on my sample .html file below, the two Text divs show up (see sample below) but not the plotly div plot itself so it is likely that it is the plotly.js JavaScript the JEditorPane is having trouble with:\n<a href=\"https://www.tutorialspoint.com/swingexamples/using_jeditorpane_to_show_html.htm\" rel=\"nofollow noreferrer\">https://www.tutorialspoint.com/swingexamples/using_jeditorpane_to_show_html.htm</a></p>\n<p>A JavaFX Snapshot/WebView/WebEngine solution won't work with my .html files.</p>\n<pre><code>import java.io.File;\nimport java.io.IOException;\nimport java.net.MalformedURLException;\nimport java.net.URL;\nimport java.util.Date;\n\nimport javax.imageio.ImageIO;\n\nimport javafx.application.Application;\nimport javafx.application.Platform;\nimport javafx.beans.value.ChangeListener;\nimport javafx.beans.value.ObservableValue;\nimport javafx.concurrent.Worker;\nimport javafx.embed.swing.SwingFXUtils;\nimport javafx.scene.Scene;\nimport javafx.scene.SnapshotParameters;\nimport javafx.scene.image.WritableImage;\nimport javafx.scene.layout.VBox;\nimport javafx.scene.text.Text;\nimport javafx.scene.web.WebEngine;\nimport javafx.scene.web.WebView;\nimport javafx.stage.Stage;\n\npublic class HTML2PNG_JAVAFX2 extends Application {\n\n    public void start(Stage primaryStage) throws Exception {\n\n        URL htmlFile = null;\n        try {htmlFile = new File(&quot;D://myPlot.html&quot;).toURI().toURL();} catch (MalformedURLException e2) {e2.printStackTrace();}\n        File pngFile = new File(&quot;D://myPlot.png&quot;);          // png file I want to create\n\n        System.out.println(&quot;Before loading web page-    &quot;+new Date().toString());\n        WebView webView = new WebView();\n        webView.getEngine().load(htmlFile.toExternalForm());  // comment this out and uncomment out the next line to show that 'simple' pages can be rendered' successfully\n//      webView.getEngine().load( &quot;http://www.stackoverflow.com/&quot; );\n        WebEngine webEngine = webView.getEngine();\n        VBox vBox = new VBox();\n        vBox.getChildren().add(new Text(&quot;Hello World&quot;));  // used so I can see something if the webView has not loaded\n        vBox.getChildren().add(webView);\n        \n        // I am only using this to show that the page is loaded (successfully or not) and when\n        webEngine.getLoadWorker().stateProperty().addListener(new BrowserStatusChangeListener(vBox));\n\n        Stage tempStage = new Stage();\n\n        // Please excuse this weird threading code and the .sleeps.  \n        // I was trying to methodically separate the different activities into isolated code pockets to better understand what was going on\n\n        // Put this in a new Thread so it is off the JavaFX Thread\n        new Thread(() -&gt; {\n            // Delay to allow the web page to load\n            try {\n                Thread.sleep(10000);\n            } catch (InterruptedException e1) {\n                // TODO Auto-generated catch block\n                e1.printStackTrace();\n            }\n            \n            // This goes back on the JavaFX Thread\n            Platform.runLater(() -&gt;{ \n                Scene scene =  new Scene(vBox);\n                tempStage.setScene(scene);\n                vBox.layout();              \n                vBox.requestLayout();\n                tempStage.show(); // if this line is commented out the html will not be captured\n            });\n\n            // Delay to allow the above scene/stage code to be executed (may not be needed)\n            try {\n                Thread.sleep(10000);\n            } catch (InterruptedException e1) {\n                // TODO Auto-generated catch block\n                e1.printStackTrace();\n            }\n\n            // This also goes back on the JavaFX Thread but after a 2nd delay\n            Platform.runLater(() -&gt;{ \n                System.out.println(&quot;Writing... after the delay- &quot;+new Date().toString());\n                WritableImage image = vBox.snapshot(new SnapshotParameters(), null);\n                try {\n                    ImageIO.write(SwingFXUtils.fromFXImage(image, null), &quot;png&quot;, pngFile);\n                } catch (IOException e) {\n                    // TODO Auto-generated catch block\n                    e.printStackTrace();\n                }\n                if (pngFile.length() &gt; 50000) {\n                    System.out.println(&quot;Success, file size: &quot;+pngFile.length()+&quot;-   &quot;+new Date().toString());\n                }\n                else {\n                    System.out.println(&quot;Failure, file size: &quot;+pngFile.length()+&quot;-   &quot;+new Date().toString());\n                }\n            });\n        })\n        .start();\n    }\n\n    // \n    class BrowserStatusChangeListener implements ChangeListener&lt;Worker.State&gt; {\n        \n        VBox vBox;\n        public BrowserStatusChangeListener(VBox vBox) {\n            this.vBox = vBox;\n        }\n        @Override\n        public void changed(ObservableValue&lt;? extends Worker.State&gt; observable, Worker.State oldValue, Worker.State newValue) {\n            if (newValue.equals(Worker.State.SUCCEEDED)) {\n                System.out.println(&quot;Succeeded loading-      &quot;+new Date().toString());\n            }\n            else if(newValue.equals(Worker.State.FAILED)){\n                System.out.println(&quot;Failed loading-         &quot;+new Date().toString());\n            }\n        }\n\n    }\n\n    public static void main(String[] args) {\n        Application.launch(args);\n    }\n}\n</code></pre>\n<p>Explanation: A JavaFX Snapshot/WebView/WebEngine solution only works if the WebView is visible (attached to JavaFX Scene and Stage and 'Show()'ed).  If <code>tempStage.show();</code> is commented out nothing can be captured.  The following unanswered question is specific to JavaFX but otherwise is the same as mine.\n<a href=\"https://stackoverflow.com/questions/30121204/javafx-how-to-create-snapshot-screenshot-of-invisble-webview\">JavaFX - How to create SnapShot/Screenshot of (invisble) WebView</a>.  Finally, I could not get the WebEngine to load myPlot.html correctly.  The engine reports back that it succeeded when loading myPlot.html BUT the Java Script does not appear to be executing.  This link implies you can force the JavaScript execution BUT I did not try it because of the <code>tempStage.show();</code> issue above.  <a href=\"http://tutorials.jenkov.com/javafx/webview.html#executing-javascript-from-java\" rel=\"nofollow noreferrer\">http://tutorials.jenkov.com/javafx/webview.html#executing-javascript-from-java</a></p>\n<p>I think a Swing, JavaFX, or 3rd Party html rendering engine that can handle Java Script and can return a graphic image of the rendered .html WITHOUT displaying it to the screen is what I am looking for.  I don't believe my problem is ploty.js specific.</p>\n<p>My ideal solution would look like the following:</p>\n<pre><code>// Sample ideal pseudo code (ignoring error handling code)\n    URL htmlFile = new File(&quot;D://myPlot.html&quot;).toURI().toURL();   // local .html file (that contains JavaScript)\n    File pngFile = new File(&quot;D://myPlot.png&quot;);          // png file I want to create\n    SomeWebEngine we = new SomeWebEngine(htmlFile);     // loads the .html file (but does not display it to the screen)\n    we.whenLoaded(()-&gt;we.saveTo(pngFile));              // Spawns task which executes AFTER the html file is loaded, which saves the html to the png file\n</code></pre>\n<p>Bonus capability: The rendered image is the minimal image size needed to contain the html plot (see sample below) AND you do not have to set that size yourself.</p>\n<p>Sample plotly based &quot;plot.html&quot; file (with html 'div' wrapper for additional text elements at the corners elements that I can't do in plotly alone):</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;en-US&quot;&gt;\n&lt;head&gt;\n    &lt;title&gt;My Plot&lt;/title&gt;\n    &lt;script src='D://plotly.js'&gt;&lt;/script&gt;\n    &lt;!-- &lt;script src=&quot;https://cdn.plot.ly/plotly-latest.min.js&quot;&gt;&lt;/script&gt; won't work becuase I am offline --&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;div style=&quot;position:relative;&quot; id='plotDiv'&gt;\n        &lt;div id=&quot;topLeft&quot;&gt;\n            &lt;p style=&quot;position:absolute;top:0;left:0;&quot;&gt;&lt;Strong&gt;Stuff plotly won't let me put inside the plot&lt;/Strong&gt;&lt;/p&gt;\n        &lt;/div&gt;\n        &lt;div id=&quot;bottomRight&quot;&gt;\n            &lt;p style=&quot;position:absolute;bottom:0;right:0;&quot;&gt;&lt;Strong&gt;More Stuff, different corner&lt;/Strong&gt;&lt;/p&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/body&gt;\n&lt;script&gt;\n    var trace0 = {\n        x: [&quot;1.0&quot;, &quot;2.0&quot;, &quot;3.0&quot;, &quot;4.0&quot;],\n        y: [&quot;1.0&quot;, &quot;4.0&quot;, &quot;2.0&quot;, &quot;3.0&quot;],\n        mode: 'lines+markers',\n        type: 'scatter',\n        name: 'My Data'\n    };\n    var data = [trace0];\n    Plotly.newPlot('plotDiv', data);\n&lt;/script&gt;\n&lt;/html&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/K5hX2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/K5hX2.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","multithreading","intellij-idea","spring-webflux"],"answers":[{"tags":[],"owner":{"account_id":3101358,"reputation":962,"user_id":2625393,"display_name":"Numichi"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1661436302,"creation_date":1661436302,"answer_id":73488979,"question_id":73488468,"body_markdown":"The reactive process is contrary to the norm. You cannot use blocking elements here! With Tomcat, it creates a separate thread for each request so that the topic can be blocked. Reactive Netty will NOT create a new thread, just uses a fixed pool. \r\n\r\nWith the loose approach, you can think that if a process is waiting for a response, it gives the resource of that thread to another. If you block it, it won&#39;t be able to do that. Therefore, even with a single-threaded Netty, it can handle to serve multiple parallel requests.\r\nTherefore, thread-based data storage also does not work properly, because another process can interfere or modify it. Therefore, reactive context is available instead.\r\n\r\nThere is a article to reactive transaction. I don&#39;t know it will be solution for you:\r\nhttps://itnext.io/integrating-hibernate-reactive-with-spring-5427440607fe ","title":"Possibly blocking call in non-blocking context could lead to thread starvation. Why?","body":"<p>The reactive process is contrary to the norm. You cannot use blocking elements here! With Tomcat, it creates a separate thread for each request so that the topic can be blocked. Reactive Netty will NOT create a new thread, just uses a fixed pool.</p>\n<p>With the loose approach, you can think that if a process is waiting for a response, it gives the resource of that thread to another. If you block it, it won't be able to do that. Therefore, even with a single-threaded Netty, it can handle to serve multiple parallel requests.\nTherefore, thread-based data storage also does not work properly, because another process can interfere or modify it. Therefore, reactive context is available instead.</p>\n<p>There is a article to reactive transaction. I don't know it will be solution for you:\n<a href=\"https://itnext.io/integrating-hibernate-reactive-with-spring-5427440607fe\" rel=\"nofollow noreferrer\">https://itnext.io/integrating-hibernate-reactive-with-spring-5427440607fe</a></p>\n"}],"owner":{"account_id":16189468,"reputation":804,"user_id":11688668,"display_name":"Ilya Y"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10413,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":1,"score":3,"last_activity_date":1695312070,"creation_date":1661434398,"question_id":73488468,"body_markdown":"I have such a controller and such a service class. Why am I getting this warning in IDEA - &quot;`Possibly blocking call in non-blocking context could lead to thread starvation`&quot; ?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n    @PostMapping(value = {&quot;/create&quot;})\r\n    public Mono&lt;ResponseEntity&lt;ResponseDto&gt;&gt; create(\r\n            @RequestBody RequestDto request) {\r\n        ResponseDto result = service.create(request);\r\n        return Mono.just(ResponseEntity.ok(result));\r\n    }\r\n\r\n    @Transactional\r\n    public ResponseDto create(RequestDto request) {\r\n        taskRepository.save(request);\r\n        return new ResponseDto(&quot;&quot;);\r\n    }\r\n\r\nThis is apparently caused by the `@Transactional` annotation. When I remove it, the warning disappears. What is this problem and how can it be fixed?\r\n\r\np.s. this example is schematic. the real code is bigger.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Urxp6.png\r\n  [2]: https://i.stack.imgur.com/2PkCU.png","title":"Possibly blocking call in non-blocking context could lead to thread starvation. Why?","body":"<p>I have such a controller and such a service class. Why am I getting this warning in IDEA - &quot;<code>Possibly blocking call in non-blocking context could lead to thread starvation</code>&quot; ?</p>\n<p><a href=\"https://i.stack.imgur.com/Urxp6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Urxp6.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>@PostMapping(value = {&quot;/create&quot;})\npublic Mono&lt;ResponseEntity&lt;ResponseDto&gt;&gt; create(\n        @RequestBody RequestDto request) {\n    ResponseDto result = service.create(request);\n    return Mono.just(ResponseEntity.ok(result));\n}\n\n@Transactional\npublic ResponseDto create(RequestDto request) {\n    taskRepository.save(request);\n    return new ResponseDto(&quot;&quot;);\n}\n</code></pre>\n<p>This is apparently caused by the <code>@Transactional</code> annotation. When I remove it, the warning disappears. What is this problem and how can it be fixed?</p>\n<p>p.s. this example is schematic. the real code is bigger.</p>\n"},{"tags":["java","pac4j"],"answers":[{"tags":[],"owner":{"account_id":1608505,"reputation":2459,"user_id":1488073,"display_name":"jleleu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1695311837,"creation_date":1695311837,"answer_id":77151851,"question_id":77150900,"body_markdown":"You are fully right. There was an issue.\r\n\r\nUsing singletons is not generally the best practice so I removed it.\r\n\r\nIn plain JEE, it is still necessary though so the singleton is back in the `ConfigFactory` this time. It&#39;s fixed by this commit: https://github.com/pac4j/jee-pac4j-demo/commit/810da2c224f18f4a7bc44e1f34993cf992ddaf9b","title":"INSTANCE singleton missing","body":"<p>You are fully right. There was an issue.</p>\n<p>Using singletons is not generally the best practice so I removed it.</p>\n<p>In plain JEE, it is still necessary though so the singleton is back in the <code>ConfigFactory</code> this time. It's fixed by this commit: <a href=\"https://github.com/pac4j/jee-pac4j-demo/commit/810da2c224f18f4a7bc44e1f34993cf992ddaf9b\" rel=\"nofollow noreferrer\">https://github.com/pac4j/jee-pac4j-demo/commit/810da2c224f18f4a7bc44e1f34993cf992ddaf9b</a></p>\n"}],"owner":{"account_id":22418943,"reputation":39,"user_id":16626558,"display_name":"Impatient Hippo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77151851,"answer_count":1,"score":0,"last_activity_date":1695311837,"creation_date":1695304176,"question_id":77150900,"body_markdown":"I would like to add SSO functionalty to an existing Webapp and I am\r\ntrying to use pac4j for that. I downloaded the jee-jac4j-demo and\r\nI am running in errors all over the place which all point to missing\r\nstatic fields called &quot;INSTANCE&quot;\r\n\r\nFor example:\r\n\r\n  src/main/webapp/loginForm.jsp line 5:\r\n```\r\n  FormClient formClient = (FormClient) Config.INSTANCE.getClients().findClient(&quot;FormClient&quot;).get();\r\n```\r\n\r\n  gives me the error:\r\n\r\n```\r\nUnable to compile class for JSP: \r\n\r\nAn error occurred at line: [5] in the jsp file: [/loginForm.jsp]\r\nINSTANCE cannot be resolved or is not a field\r\n5: \tFormClient formClient = (FormClient) Config.INSTANCE.getClients().findClient(&quot;FormClient&quot;).get();\r\n```\r\n\r\nAccording the javadocs this field went away around version 6.0.0-RC2.\r\n\r\nSo here my questions:\r\n\r\n* Is there a documentation/migration guide of the changes between 5.7.x and 6.0.x?\r\n* What is the stand-in replacement for INSTANCE?\r\n* Can this be fixed by altering the pom.xml? I tried to guess an alder version pac4j-code=5.7.0 jee-pac4j=7.1.0 but then I found this code inside ForceLoginFilter:\r\n\r\n```\r\naction = client.getRedirectionAction(new CallContext(context, JEESessionStore.INSTANCE)).get();\r\n```\r\n\r\nCallContext only seems to exist in pac4j 6.0, but JEESessionStore.INSTANCE is gone there?!","title":"INSTANCE singleton missing","body":"<p>I would like to add SSO functionalty to an existing Webapp and I am\ntrying to use pac4j for that. I downloaded the jee-jac4j-demo and\nI am running in errors all over the place which all point to missing\nstatic fields called &quot;INSTANCE&quot;</p>\n<p>For example:</p>\n<p>src/main/webapp/loginForm.jsp line 5:</p>\n<pre><code>  FormClient formClient = (FormClient) Config.INSTANCE.getClients().findClient(&quot;FormClient&quot;).get();\n</code></pre>\n<p>gives me the error:</p>\n<pre><code>Unable to compile class for JSP: \n\nAn error occurred at line: [5] in the jsp file: [/loginForm.jsp]\nINSTANCE cannot be resolved or is not a field\n5:  FormClient formClient = (FormClient) Config.INSTANCE.getClients().findClient(&quot;FormClient&quot;).get();\n</code></pre>\n<p>According the javadocs this field went away around version 6.0.0-RC2.</p>\n<p>So here my questions:</p>\n<ul>\n<li>Is there a documentation/migration guide of the changes between 5.7.x and 6.0.x?</li>\n<li>What is the stand-in replacement for INSTANCE?</li>\n<li>Can this be fixed by altering the pom.xml? I tried to guess an alder version pac4j-code=5.7.0 jee-pac4j=7.1.0 but then I found this code inside ForceLoginFilter:</li>\n</ul>\n<pre><code>action = client.getRedirectionAction(new CallContext(context, JEESessionStore.INSTANCE)).get();\n</code></pre>\n<p>CallContext only seems to exist in pac4j 6.0, but JEESessionStore.INSTANCE is gone there?!</p>\n"},{"tags":["java","inline","ternary"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":6,"creation_date":1623079178,"post_id":31412294,"comment_id":119970242,"body_markdown":"`System.getProperty(&quot;XYZ&quot;, &quot;default&quot;)`","body":"<code>System.getProperty(&quot;XYZ&quot;, &quot;default&quot;)</code>"}],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438169,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1436891473,"creation_date":1436891473,"answer_id":31412362,"question_id":31412294,"body_markdown":"Sounds like you probably want a simple method like this:\r\n\r\n    public String getValueOrDefault(String value, String defaultValue) {\r\n        return isNotNullOrEmpty(value) ? value : defaultValue;\r\n    }\r\n\r\nThen:\r\n\r\n    String result = getValueOrDefault(System.getProperty(&quot;XYZ&quot;), &quot;default&quot;);\r\n\r\nAt this point, you don&#39;t *need* `temp`... you&#39;ve effectively used the method parameter as a way of initializing the temporary variable.\r\n\r\nIf you *really* want `temp` and you don&#39;t want an extra method, you *can* do it in one statement, but I really wouldn&#39;t:\r\n\r\n    public class Test {\r\n        public static void main(String[] args) {\r\n            String temp, result = isNotNullOrEmpty(temp = System.getProperty(&quot;XYZ&quot;)) ? temp : &quot;default&quot;;\r\n            System.out.println(&quot;result: &quot; + result);\r\n            System.out.println(&quot;temp: &quot; + temp);\r\n        }\r\n    \r\n        private static boolean isNotNullOrEmpty(String str) {\r\n            return str != null &amp;&amp; !str.isEmpty();\r\n        }\r\n    }","title":"Java - Check Not Null/Empty else assign default value","body":"<p>Sounds like you probably want a simple method like this:</p>\n\n<pre><code>public String getValueOrDefault(String value, String defaultValue) {\n    return isNotNullOrEmpty(value) ? value : defaultValue;\n}\n</code></pre>\n\n<p>Then:</p>\n\n<pre><code>String result = getValueOrDefault(System.getProperty(\"XYZ\"), \"default\");\n</code></pre>\n\n<p>At this point, you don't <em>need</em> <code>temp</code>... you've effectively used the method parameter as a way of initializing the temporary variable.</p>\n\n<p>If you <em>really</em> want <code>temp</code> and you don't want an extra method, you <em>can</em> do it in one statement, but I really wouldn't:</p>\n\n<pre><code>public class Test {\n    public static void main(String[] args) {\n        String temp, result = isNotNullOrEmpty(temp = System.getProperty(\"XYZ\")) ? temp : \"default\";\n        System.out.println(\"result: \" + result);\n        System.out.println(\"temp: \" + temp);\n    }\n\n    private static boolean isNotNullOrEmpty(String str) {\n        return str != null &amp;&amp; !str.isEmpty();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":90063,"reputation":9824,"user_id":248082,"accept_rate":64,"display_name":"nobeh"},"down_vote_count":9,"up_vote_count":111,"is_accepted":false,"score":102,"last_activity_date":1521651900,"creation_date":1436891784,"answer_id":31412469,"question_id":31412294,"body_markdown":"Use Java 8 [`Optional`][1] (no filter needed):\r\n\r\n    public static String orElse(String defaultValue) {\r\n      return Optional.ofNullable(System.getProperty(&quot;property&quot;)).orElse(defaultValue);\r\n    }\r\n\r\n\r\n[1]: https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html","title":"Java - Check Not Null/Empty else assign default value","body":"<p>Use Java 8 <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html\" rel=\"noreferrer\"><code>Optional</code></a> (no filter needed):</p>\n\n<pre><code>public static String orElse(String defaultValue) {\n  return Optional.ofNullable(System.getProperty(\"property\")).orElse(defaultValue);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6196766,"reputation":1221,"user_id":4827834,"accept_rate":83,"display_name":"zalis"},"down_vote_count":0,"up_vote_count":67,"is_accepted":false,"score":67,"last_activity_date":1473663469,"creation_date":1473663469,"answer_id":39444848,"question_id":31412294,"body_markdown":"Use org.apache.commons.lang3.StringUtils\n\n    String emptyString = new String();    \n    result = StringUtils.defaultIfEmpty(emptyString, &quot;default&quot;);\n    System.out.println(result);\n\n    String nullString = null;\n    result = StringUtils.defaultIfEmpty(nullString, &quot;default&quot;);\n    System.out.println(result);\n\nBoth of the above options will print:\n\n&gt; default\n&gt;\n&gt; default","title":"Java - Check Not Null/Empty else assign default value","body":"<p>Use org.apache.commons.lang3.StringUtils</p>\n<pre><code>String emptyString = new String();    \nresult = StringUtils.defaultIfEmpty(emptyString, &quot;default&quot;);\nSystem.out.println(result);\n\nString nullString = null;\nresult = StringUtils.defaultIfEmpty(nullString, &quot;default&quot;);\nSystem.out.println(result);\n</code></pre>\n<p>Both of the above options will print:</p>\n<blockquote>\n<p>default</p>\n<p>default</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":4757741,"reputation":8173,"user_id":3846053,"display_name":"Shibashis"},"down_vote_count":1,"up_vote_count":79,"is_accepted":false,"score":78,"last_activity_date":1521651869,"creation_date":1497802213,"answer_id":44616951,"question_id":31412294,"body_markdown":"I know the question is really old, but with generics one can add a more generalized method with will work for all types.\r\n\r\n    public static &lt;T&gt; T getValueOrDefault(T value, T defaultValue) {\r\n        return value == null ? defaultValue : value;\r\n    }\r\n","title":"Java - Check Not Null/Empty else assign default value","body":"<p>I know the question is really old, but with generics one can add a more generalized method with will work for all types.</p>\n\n<pre><code>public static &lt;T&gt; T getValueOrDefault(T value, T defaultValue) {\n    return value == null ? defaultValue : value;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5215471,"reputation":4961,"user_id":4170582,"accept_rate":91,"display_name":"Tarik"},"down_vote_count":0,"up_vote_count":43,"is_accepted":false,"score":43,"last_activity_date":1539000794,"creation_date":1539000794,"answer_id":52702027,"question_id":31412294,"body_markdown":"You can use this method in the `ObjectUtils` class from [org.apache.commons.lang3][1] library :\r\n\r\n    public static &lt;T&gt; T defaultIfNull(T object, T defaultValue)\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/javadocs/api-3.1/org/apache/commons/lang3/ObjectUtils.html#defaultIfNull(T,%20T)","title":"Java - Check Not Null/Empty else assign default value","body":"<p>You can use this method in the <code>ObjectUtils</code> class from <a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-3.1/org/apache/commons/lang3/ObjectUtils.html#defaultIfNull(T,%20T)\" rel=\"noreferrer\">org.apache.commons.lang3</a> library :</p>\n\n<pre><code>public static &lt;T&gt; T defaultIfNull(T object, T defaultValue)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5624104,"reputation":1479,"user_id":4453055,"accept_rate":25,"display_name":"AK4647"},"down_vote_count":1,"up_vote_count":128,"is_accepted":true,"score":127,"last_activity_date":1660275658,"creation_date":1573829125,"answer_id":58879379,"question_id":31412294,"body_markdown":"If using JDK 9 +, use Objects.requireNonNullElse(T obj, T defaultObj)","title":"Java - Check Not Null/Empty else assign default value","body":"<p>If using JDK 9 +, use Objects.requireNonNullElse(T obj, T defaultObj)</p>\n"},{"tags":[],"owner":{"account_id":5426010,"reputation":1104,"user_id":4318240,"accept_rate":60,"display_name":"lights"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1576380075,"creation_date":1576380075,"answer_id":59340975,"question_id":31412294,"body_markdown":"With guava you can use \r\n\r\n    MoreObjects.firstNonNull(possiblyNullString, defaultValue);","title":"Java - Check Not Null/Empty else assign default value","body":"<p>With guava you can use </p>\n\n<pre><code>MoreObjects.firstNonNull(possiblyNullString, defaultValue);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":40774,"reputation":28739,"user_id":118228,"accept_rate":85,"display_name":"djangofan"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1591122682,"creation_date":1591122323,"answer_id":62158839,"question_id":31412294,"body_markdown":"This is the best solution IMHO.   It covers BOTH `null` and `empty` scenario, as is easy to understand when reading the code.   All you need to know is that `.getProperty` returns a `null` when system prop is not set:\r\n\r\n    String DEFAULT_XYZ = System.getProperty(&quot;user.home&quot;) + &quot;/xyz&quot;;\r\n    String PROP = Optional.ofNullable(System.getProperty(&quot;XYZ&quot;))\r\n            .filter(s -&gt; !s.isEmpty())\r\n            .orElse(DEFAULT_XYZ);","title":"Java - Check Not Null/Empty else assign default value","body":"<p>This is the best solution IMHO.   It covers BOTH <code>null</code> and <code>empty</code> scenario, as is easy to understand when reading the code.   All you need to know is that <code>.getProperty</code> returns a <code>null</code> when system prop is not set:</p>\n\n<pre><code>String DEFAULT_XYZ = System.getProperty(\"user.home\") + \"/xyz\";\nString PROP = Optional.ofNullable(System.getProperty(\"XYZ\"))\n        .filter(s -&gt; !s.isEmpty())\n        .orElse(DEFAULT_XYZ);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1535921,"reputation":3060,"user_id":1431979,"display_name":"Pierre C"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1603984504,"creation_date":1603984504,"answer_id":64594015,"question_id":31412294,"body_markdown":"In Java 9, if you have an object which has another object as property and that nested objects has a method yielding a string, then you can use this construct to return an empty string if the embeded object is null :\r\n\r\n    String label = Optional.ofNullable(org.getDiffusion()).map(Diffusion::getLabel).orElse(&quot;&quot;)\r\n\r\nIn this example :\r\n\r\n - `org` is an instance of an object of type `Organism` \r\n - `Organism` has a `Diffusion` property (another object) \r\n - `Diffusion` has a `String label` property (and `getLabel()` getter).\r\n\r\nWith this example, if `org.getDiffusion()` is not null, then it returns the `getLabel` property of its `Diffusion` object (this returns a `String`).  Otherwise, it returns an empty string.","title":"Java - Check Not Null/Empty else assign default value","body":"<p>In Java 9, if you have an object which has another object as property and that nested objects has a method yielding a string, then you can use this construct to return an empty string if the embeded object is null :</p>\n<pre><code>String label = Optional.ofNullable(org.getDiffusion()).map(Diffusion::getLabel).orElse(&quot;&quot;)\n</code></pre>\n<p>In this example :</p>\n<ul>\n<li><code>org</code> is an instance of an object of type <code>Organism</code></li>\n<li><code>Organism</code> has a <code>Diffusion</code> property (another object)</li>\n<li><code>Diffusion</code> has a <code>String label</code> property (and <code>getLabel()</code> getter).</li>\n</ul>\n<p>With this example, if <code>org.getDiffusion()</code> is not null, then it returns the <code>getLabel</code> property of its <code>Diffusion</code> object (this returns a <code>String</code>).  Otherwise, it returns an empty string.</p>\n"},{"tags":[],"owner":{"account_id":10142598,"reputation":1495,"user_id":7491845,"display_name":"Andrii Chertok"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1687217914,"creation_date":1648642673,"answer_id":71677085,"question_id":31412294,"body_markdown":"If you need to set not null value or return default value instead you can use simple generic method\r\n\r\n    private &lt;T&gt; T getIfNotNullOrElse(T input, T defaultValue) {\r\n       return Optional.ofNullable(input).orElse(defaultValue);\r\n    }","title":"Java - Check Not Null/Empty else assign default value","body":"<p>If you need to set not null value or return default value instead you can use simple generic method</p>\n<pre><code>private &lt;T&gt; T getIfNotNullOrElse(T input, T defaultValue) {\n   return Optional.ofNullable(input).orElse(defaultValue);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28572040,"reputation":1,"user_id":21874119,"display_name":"vzamora"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695311442,"creation_date":1695311404,"answer_id":77151797,"question_id":31412294,"body_markdown":"Tim, \r\n\r\nIt is worth notice that on C based languages the attribution is also an expression and returns a value that can be used on other expressions. So the attribution can be rewritten as: \r\n\r\n    String result = (result = System.getProperty(&quot;XYZ&quot;)) != null ? result : &quot;default&quot;\r\n\r\nor, using your function:\r\n\r\n    String result = isNotNullOrEmpty(result = System.getProperty(&quot;XYZ&quot;)) ? result : &quot;default&quot;\r\n\r\n\r\nThe trick to write this code in one line is to reuse the variable result instead of create a new temp one, which will not work inside of expressions. \r\n\r\nYou end up with an extra attribution, but will not run the method twice. \r\n","title":"Java - Check Not Null/Empty else assign default value","body":"<p>Tim,</p>\n<p>It is worth notice that on C based languages the attribution is also an expression and returns a value that can be used on other expressions. So the attribution can be rewritten as:</p>\n<pre><code>String result = (result = System.getProperty(&quot;XYZ&quot;)) != null ? result : &quot;default&quot;\n</code></pre>\n<p>or, using your function:</p>\n<pre><code>String result = isNotNullOrEmpty(result = System.getProperty(&quot;XYZ&quot;)) ? result : &quot;default&quot;\n</code></pre>\n<p>The trick to write this code in one line is to reuse the variable result instead of create a new temp one, which will not work inside of expressions.</p>\n<p>You end up with an extra attribution, but will not run the method twice.</p>\n"}],"owner":{"account_id":2927858,"reputation":1283,"user_id":2508829,"accept_rate":71,"display_name":"Cam1989"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":214602,"favorite_count":0,"down_vote_count":0,"up_vote_count":113,"accepted_answer_id":58879379,"answer_count":11,"score":113,"last_activity_date":1695311442,"creation_date":1436891277,"question_id":31412294,"body_markdown":"I am trying to simplify the following code.\r\n\r\nThe basic steps that the code should carry out are as follows:\r\n\r\n 1. Assign String a default value \r\n 2. Run a method \r\n 3. If the method returns a null/empty string leave the String as default \r\n 4. If the method returns a valid string set the String to this result\r\n\r\nA Simple example would be:\r\n\r\n        String temp = System.getProperty(&quot;XYZ&quot;);\r\n        String result = &quot;default&quot;;\r\n        if(temp != null &amp;&amp; !temp.isEmpty()){\r\n            result = temp;\r\n        }\r\nI have made another attemp using a ternary operator:\r\n\r\n        String temp;\r\n        String result = isNotNullOrEmpty(temp = System.getProperty(&quot;XYZ&quot;)) ? temp : &quot;default&quot;;\r\n\r\nThe isNotNullOrEmpty() Method\r\n\r\n     private static boolean isNotNullOrEmpty(String str){\r\n        return (str != null &amp;&amp; !str.isEmpty());\r\n    }\r\n\r\nIs it possible to do all of this in-line? I know I could do something like this:\r\n\r\n    String result = isNotNullOrEmpty(System.getProperty(&quot;XYZ&quot;)) ? System.getProperty(&quot;XYZ&quot;) : &quot;default&quot;;\r\n\r\nBut I am calling the same method twice. I would be something like to do something like this (which doesn&#39;t work):\r\n\r\n    String result = isNotNullOrEmpty(String temp = System.getProperty(&quot;XYZ&quot;)) ? temp : &quot;default&quot;;\r\n\r\nI would like to initialize the &#39;temp&#39; String within the same line. Is this possible? Or what should I be doing?\r\n\r\nThank you for your suggestions.\r\n\r\nTim","title":"Java - Check Not Null/Empty else assign default value","body":"<p>I am trying to simplify the following code.</p>\n\n<p>The basic steps that the code should carry out are as follows:</p>\n\n<ol>\n<li>Assign String a default value </li>\n<li>Run a method </li>\n<li>If the method returns a null/empty string leave the String as default </li>\n<li>If the method returns a valid string set the String to this result</li>\n</ol>\n\n<p>A Simple example would be:</p>\n\n<pre><code>    String temp = System.getProperty(\"XYZ\");\n    String result = \"default\";\n    if(temp != null &amp;&amp; !temp.isEmpty()){\n        result = temp;\n    }\n</code></pre>\n\n<p>I have made another attemp using a ternary operator:</p>\n\n<pre><code>    String temp;\n    String result = isNotNullOrEmpty(temp = System.getProperty(\"XYZ\")) ? temp : \"default\";\n</code></pre>\n\n<p>The isNotNullOrEmpty() Method</p>\n\n<pre><code> private static boolean isNotNullOrEmpty(String str){\n    return (str != null &amp;&amp; !str.isEmpty());\n}\n</code></pre>\n\n<p>Is it possible to do all of this in-line? I know I could do something like this:</p>\n\n<pre><code>String result = isNotNullOrEmpty(System.getProperty(\"XYZ\")) ? System.getProperty(\"XYZ\") : \"default\";\n</code></pre>\n\n<p>But I am calling the same method twice. I would be something like to do something like this (which doesn't work):</p>\n\n<pre><code>String result = isNotNullOrEmpty(String temp = System.getProperty(\"XYZ\")) ? temp : \"default\";\n</code></pre>\n\n<p>I would like to initialize the 'temp' String within the same line. Is this possible? Or what should I be doing?</p>\n\n<p>Thank you for your suggestions.</p>\n\n<p>Tim</p>\n"},{"tags":["java","solr"],"owner":{"account_id":1235900,"reputation":1020,"user_id":1199488,"accept_rate":79,"display_name":"DavidVdd"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695311127,"creation_date":1695311127,"question_id":77151760,"body_markdown":"Current facet implementation of hierarchial facet is based on https://cwiki.apache.org/confluence/display/solr/HierarchicalFaceting with facet.prefix drilldown.\r\n\r\nDue to data growth this approach has become slower and I&#39;d like to imrpove it.\r\n\r\nCurrent structure. (to describe a document cat be added to multiple categories, which makes pivot facet or nested json facetting not ideal)\r\n\r\n```\r\nDoc 1: \r\n  category: {l1}A1/\r\n            {l1}A2/\r\n            {l2}A1/B1/\r\n            {l2}A2/B2/\r\n\r\nDoc 2: \r\n  category: {l1}A1/\r\n            {l1}A3/\r\n            {l2}A1/B1\r\n            {l2}A3/B3\r\n            {l3}A1/B1/C1\r\n            {l3}A3/B3/C3\r\n```\r\n\r\nLet&#39;s assume there are 7 levels deep and the UI has to show the first 4 levels deep. \r\nThe root nodes use to contain only 3 values so it was possible to create facets like, but this has now increased substantially:\r\n\r\n```\r\nfacet.field={!key=l1_category facet.prefix=&quot;{l1}&quot; v=category}\r\nfacet.field={!key=l2_category facet.prefix=&quot;{l2}&quot; v=category}\r\nfacet.field={!key=l3_category facet.prefix=&quot;{l3}&quot; v=category} \r\n```   \r\n\r\nThen there was java logic that would process these facets and create the correct tree structure using recursive logic over each of the keys and by splitting the path&#39;s using &#39;contains&#39;.\r\n\r\nIn the end it should look like (but with 4 levels, and the ability to filter down to 7)\r\n```\r\n A1(2)\r\n   B1(2)\r\n     C1(1)\r\n A2(1)\r\n   B2(1)\r\n A3(1)\r\n   B3(1)\r\n    C3(1)\r\n```\r\n\r\nI&#39;ve already attempted to use nested json.facet&#39;s. \r\nBut I could not get the outer bucket value to prefix the inner one.\r\n\r\nIdeally it would be an adjustment of the follow request, but I&#39;m not sure if such an improvement is possible:\r\n\r\n```\r\njson.facet =  {\r\n    &quot;categories_lvl1&quot;: {\r\n      &quot;type&quot;: &quot;terms&quot;,\r\n      &quot;field&quot;: &quot;categories&quot;,\r\n      &quot;limit&quot;: 50,\r\n      &quot;prefix&quot;:&quot;{l1}&quot;,\r\n      &quot;facet&quot;: {\r\n        &quot;categories_lvl2&quot;: {\r\n          &quot;type&quot;: &quot;terms&quot;,\r\n          &quot;field&quot;: &quot;categories&quot;,\r\n           &quot;prefix&quot;:&quot;{l2}&quot;, &lt;-- instead of this it should be a reference to the parent bucket term with a regex applied, because now it will  give invalid combinations\r\n          &quot;limit&quot;: 100\r\n        }\r\n      }\r\n    }\r\n  }      \r\n```\r\n\r\n**Would there be a better data structure and/or better search request option to build the tree? (current Solr version 8.11.1)**\r\n\r\nI know a create all combinations as &#39;nested&#39; documents solution(and then use those to facet), but this would be a heavy operation and for searching it&#39;s currently not necesssary + could make counts more difficult.","title":"Solr hierarchial facet performance improvement required","body":"<p>Current facet implementation of hierarchial facet is based on <a href=\"https://cwiki.apache.org/confluence/display/solr/HierarchicalFaceting\" rel=\"nofollow noreferrer\">https://cwiki.apache.org/confluence/display/solr/HierarchicalFaceting</a> with facet.prefix drilldown.</p>\n<p>Due to data growth this approach has become slower and I'd like to imrpove it.</p>\n<p>Current structure. (to describe a document cat be added to multiple categories, which makes pivot facet or nested json facetting not ideal)</p>\n<pre><code>Doc 1: \n  category: {l1}A1/\n            {l1}A2/\n            {l2}A1/B1/\n            {l2}A2/B2/\n\nDoc 2: \n  category: {l1}A1/\n            {l1}A3/\n            {l2}A1/B1\n            {l2}A3/B3\n            {l3}A1/B1/C1\n            {l3}A3/B3/C3\n</code></pre>\n<p>Let's assume there are 7 levels deep and the UI has to show the first 4 levels deep.\nThe root nodes use to contain only 3 values so it was possible to create facets like, but this has now increased substantially:</p>\n<pre><code>facet.field={!key=l1_category facet.prefix=&quot;{l1}&quot; v=category}\nfacet.field={!key=l2_category facet.prefix=&quot;{l2}&quot; v=category}\nfacet.field={!key=l3_category facet.prefix=&quot;{l3}&quot; v=category} \n</code></pre>\n<p>Then there was java logic that would process these facets and create the correct tree structure using recursive logic over each of the keys and by splitting the path's using 'contains'.</p>\n<p>In the end it should look like (but with 4 levels, and the ability to filter down to 7)</p>\n<pre><code> A1(2)\n   B1(2)\n     C1(1)\n A2(1)\n   B2(1)\n A3(1)\n   B3(1)\n    C3(1)\n</code></pre>\n<p>I've already attempted to use nested json.facet's.\nBut I could not get the outer bucket value to prefix the inner one.</p>\n<p>Ideally it would be an adjustment of the follow request, but I'm not sure if such an improvement is possible:</p>\n<pre><code>json.facet =  {\n    &quot;categories_lvl1&quot;: {\n      &quot;type&quot;: &quot;terms&quot;,\n      &quot;field&quot;: &quot;categories&quot;,\n      &quot;limit&quot;: 50,\n      &quot;prefix&quot;:&quot;{l1}&quot;,\n      &quot;facet&quot;: {\n        &quot;categories_lvl2&quot;: {\n          &quot;type&quot;: &quot;terms&quot;,\n          &quot;field&quot;: &quot;categories&quot;,\n           &quot;prefix&quot;:&quot;{l2}&quot;, &lt;-- instead of this it should be a reference to the parent bucket term with a regex applied, because now it will  give invalid combinations\n          &quot;limit&quot;: 100\n        }\n      }\n    }\n  }      \n</code></pre>\n<p><strong>Would there be a better data structure and/or better search request option to build the tree? (current Solr version 8.11.1)</strong></p>\n<p>I know a create all combinations as 'nested' documents solution(and then use those to facet), but this would be a heavy operation and for searching it's currently not necesssary + could make counts more difficult.</p>\n"},{"tags":["java","outlook","office365","exchange-server"],"comments":[{"owner":{"account_id":2307656,"reputation":398,"user_id":2026594,"accept_rate":58,"display_name":"Zaknafein"},"score":0,"creation_date":1648050545,"post_id":70954881,"comment_id":126527436,"body_markdown":"I have the same problem, and &quot;first&quot; answer i get is &quot;disable/enable it on dashboard administrator&quot;. But i&#39;m checking if i can use it without administrator change it.","body":"I have the same problem, and &quot;first&quot; answer i get is &quot;disable/enable it on dashboard administrator&quot;. But i&#39;m checking if i can use it without administrator change it."}],"answers":[{"tags":[],"owner":{"account_id":131793,"reputation":64005,"user_id":332059,"accept_rate":57,"display_name":"Dmitry Streblechenko"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1643808694,"creation_date":1643808694,"answer_id":70956540,"question_id":70954881,"body_markdown":"As the error explicitly states, SMTP authentication is disabled. It even provides you with a very helpful link to https://aka.ms/smtp_auth_disabled. The link explains how to enable SMTP AUTH for the whole organization or only for some mailboxes.","title":"535 5.7.139 Authentication unsuccessful, SmtpClientAuthentication is disabled for the Tenant","body":"<p>As the error explicitly states, SMTP authentication is disabled. It even provides you with a very helpful link to <a href=\"https://aka.ms/smtp_auth_disabled\" rel=\"noreferrer\">https://aka.ms/smtp_auth_disabled</a>. The link explains how to enable SMTP AUTH for the whole organization or only for some mailboxes.</p>\n"},{"tags":[],"owner":{"account_id":3624381,"reputation":97,"user_id":3022408,"display_name":"slingshot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669071487,"creation_date":1669071487,"answer_id":74525756,"question_id":70954881,"body_markdown":"AAD security defaults may block this. I had:\r\n\r\n    Get-TransportConfig | Format-List SmtpClientAuthenticationDisabled\r\n    SmtpClientAuthenticationDisabled : False\r\n\r\nBut still got 535 5.7.139 authentication unsuccessful\r\n\r\nIt turned out it was Security defaults in AAD that was the problem\r\n\r\n**Turn off Security Defaults in Azure Active Directory**\r\n\r\n    Start by logging into the Azure Active Directory (https://aad.portal.azure.com/). \r\n\r\n\r\n    Select Azure Active Directory\r\n\r\n    In left menu click: Azure Active Directory\r\n\r\n    Select Properties from the menu under Manage\r\n\r\n    AAD properties\r\n\r\n    Select Manage security defaults at the very bottom of the properties page\r\n\r\n    Managing security defaults\r\n\r\n    Move the slider to No and click Save\r\n\r\n    save security defaults\r\n\r\n\r\n**You may then check:**\r\n    \r\n    Next login to or navigate to the Microsoft 365 Admin Center https://admin.microsoft.com/\r\n\r\n    Select Settings &gt; Org Settings\r\n\r\n    Under Services, select Modern Authentication \r\n\r\n    Ensure Authentication SMTP is checked\r\n","title":"535 5.7.139 Authentication unsuccessful, SmtpClientAuthentication is disabled for the Tenant","body":"<p>AAD security defaults may block this. I had:</p>\n<pre><code>Get-TransportConfig | Format-List SmtpClientAuthenticationDisabled\nSmtpClientAuthenticationDisabled : False\n</code></pre>\n<p>But still got 535 5.7.139 authentication unsuccessful</p>\n<p>It turned out it was Security defaults in AAD that was the problem</p>\n<p><strong>Turn off Security Defaults in Azure Active Directory</strong></p>\n<pre><code>Start by logging into the Azure Active Directory (https://aad.portal.azure.com/). \n\n\nSelect Azure Active Directory\n\nIn left menu click: Azure Active Directory\n\nSelect Properties from the menu under Manage\n\nAAD properties\n\nSelect Manage security defaults at the very bottom of the properties page\n\nManaging security defaults\n\nMove the slider to No and click Save\n\nsave security defaults\n</code></pre>\n<p><strong>You may then check:</strong></p>\n<pre><code>Next login to or navigate to the Microsoft 365 Admin Center https://admin.microsoft.com/\n\nSelect Settings &gt; Org Settings\n\nUnder Services, select Modern Authentication \n\nEnsure Authentication SMTP is checked\n</code></pre>\n"}],"owner":{"account_id":22539698,"reputation":31,"user_id":16730426,"display_name":"aspini mohanty"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65511,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1695310782,"creation_date":1643801662,"question_id":70954881,"body_markdown":"I am sending e email using an SMTP error . I am getting Authentication unsuccessful. The username and password are correct. Am I doing something wrong.\r\n\r\n&lt;!-- language-all: lang-java --&gt;\r\n    public class Office365TextMsgSend {\r\n\r\n\tProperties properties;\r\n\tSession session;\r\n\tMimeMessage mimeMessage;\r\n\r\n\tString USERNAME = &quot;xxxx@xxxx.xx&quot;;\r\n\tString PASSWORD = &quot;xxxxxxx&quot;;\r\n\tString HOSTNAME = &quot;smtp.office365.com&quot;;\r\n\tString STARTTLS_PORT = &quot;587&quot;;\r\n\tboolean STARTTLS = true;\r\n\tboolean AUTH = true;\r\n\tString FromAddress=&quot;xxxx@xxxx.xx&quot;;\r\n\r\n\tpublic static void main(String args[]) throws MessagingException {\r\n\t\tString EmailSubject = &quot;Subject:Text Subject&quot;;\r\n\t\tString EmailBody = &quot;Text Message Body: Hello World&quot;;\r\n\t\tString ToAddress = &quot;xxxxxx@gmail.com&quot;;\r\n\t\tOffice365TextMsgSend office365TextMsgSend = new Office365TextMsgSend();\r\n\t\toffice365TextMsgSend.sendGmail(EmailSubject, EmailBody, ToAddress);\r\n\t}\r\n\r\n\tpublic void sendGmail(String EmailSubject, String EmailBody, String ToAddress) {\r\n\t\ttry {\r\n\t\t\tproperties = new Properties();\r\n\t\t\tproperties.put(&quot;mail.smtp.host&quot;, HOSTNAME);\r\n\t\t\t// Setting STARTTLS_PORT\r\n\t\t\tproperties.put(&quot;mail.smtp.port&quot;, STARTTLS_PORT);\r\n\t\t\t// AUTH enabled\r\n\t\t\tproperties.put(&quot;mail.smtp.auth&quot;, AUTH);\r\n\t\t\t// STARTTLS enabled\r\n\t\t\tproperties.put(&quot;mail.smtp.starttls.enable&quot;, STARTTLS);\r\n\t\t\tproperties.put(&quot;mail.smtp.ssl.protocols&quot;, &quot;TLSv1.2&quot;);\r\n\t\t\t// Authenticating\r\n\t\t\tAuthenticator auth = new Authenticator() {\r\n\t\t\t\tprotected PasswordAuthentication getPasswordAuthentication() {\r\n\t\t\t\t\treturn new PasswordAuthentication(USERNAME, PASSWORD);\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\t// creating session\r\n\t\t\tsession = Session.getInstance(properties, auth);\r\n\r\n\t\t\t// create mimemessage\r\n\t\t\tmimeMessage = new MimeMessage(session);\r\n\t\t\t\r\n\t\t\t//from address should exist in the domain\r\n\t\t\tmimeMessage.setFrom(new InternetAddress(FromAddress));\r\n\t\t\tmimeMessage.addRecipient(RecipientType.TO, new InternetAddress(ToAddress));\r\n\t\t\tmimeMessage.setSubject(EmailSubject);\r\n\r\n\t\t\t// setting text message body\r\n\t\t\tmimeMessage.setText(EmailBody);\r\n\r\n\t\t\t// sending mail\r\n\t\t\tTransport.send(mimeMessage);\r\n\t\t\tSystem.out.println(&quot;Mail Send Successfully&quot;);\r\n\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\r\n    }\r\n\r\nError:\r\n\r\n&gt; javax.mail.AuthenticationFailedException: 535 5.7.139 Authentication\r\n&gt; unsuccessful, SmtpClientAuthentication is disabled for the Tenant.\r\n&gt; Visit https://aka.ms/smtp_auth_disabled for more information.\r\n&gt; [MA1PR01CA0169.INDPRD01.PROD.OUTLOOK.COM]\r\n\r\n","title":"535 5.7.139 Authentication unsuccessful, SmtpClientAuthentication is disabled for the Tenant","body":"<p>I am sending e email using an SMTP error . I am getting Authentication unsuccessful. The username and password are correct. Am I doing something wrong.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class Office365TextMsgSend {\n\nProperties properties;\nSession session;\nMimeMessage mimeMessage;\n\nString USERNAME = &quot;xxxx@xxxx.xx&quot;;\nString PASSWORD = &quot;xxxxxxx&quot;;\nString HOSTNAME = &quot;smtp.office365.com&quot;;\nString STARTTLS_PORT = &quot;587&quot;;\nboolean STARTTLS = true;\nboolean AUTH = true;\nString FromAddress=&quot;xxxx@xxxx.xx&quot;;\n\npublic static void main(String args[]) throws MessagingException {\n    String EmailSubject = &quot;Subject:Text Subject&quot;;\n    String EmailBody = &quot;Text Message Body: Hello World&quot;;\n    String ToAddress = &quot;xxxxxx@gmail.com&quot;;\n    Office365TextMsgSend office365TextMsgSend = new Office365TextMsgSend();\n    office365TextMsgSend.sendGmail(EmailSubject, EmailBody, ToAddress);\n}\n\npublic void sendGmail(String EmailSubject, String EmailBody, String ToAddress) {\n    try {\n        properties = new Properties();\n        properties.put(&quot;mail.smtp.host&quot;, HOSTNAME);\n        // Setting STARTTLS_PORT\n        properties.put(&quot;mail.smtp.port&quot;, STARTTLS_PORT);\n        // AUTH enabled\n        properties.put(&quot;mail.smtp.auth&quot;, AUTH);\n        // STARTTLS enabled\n        properties.put(&quot;mail.smtp.starttls.enable&quot;, STARTTLS);\n        properties.put(&quot;mail.smtp.ssl.protocols&quot;, &quot;TLSv1.2&quot;);\n        // Authenticating\n        Authenticator auth = new Authenticator() {\n            protected PasswordAuthentication getPasswordAuthentication() {\n                return new PasswordAuthentication(USERNAME, PASSWORD);\n            }\n        };\n\n        // creating session\n        session = Session.getInstance(properties, auth);\n\n        // create mimemessage\n        mimeMessage = new MimeMessage(session);\n        \n        //from address should exist in the domain\n        mimeMessage.setFrom(new InternetAddress(FromAddress));\n        mimeMessage.addRecipient(RecipientType.TO, new InternetAddress(ToAddress));\n        mimeMessage.setSubject(EmailSubject);\n\n        // setting text message body\n        mimeMessage.setText(EmailBody);\n\n        // sending mail\n        Transport.send(mimeMessage);\n        System.out.println(&quot;Mail Send Successfully&quot;);\n\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n\n}\n</code></pre>\n<p>Error:</p>\n<blockquote>\n<p>javax.mail.AuthenticationFailedException: 535 5.7.139 Authentication\nunsuccessful, SmtpClientAuthentication is disabled for the Tenant.\nVisit <a href=\"https://aka.ms/smtp_auth_disabled\" rel=\"nofollow noreferrer\">https://aka.ms/smtp_auth_disabled</a> for more information.\n[MA1PR01CA0169.INDPRD01.PROD.OUTLOOK.COM]</p>\n</blockquote>\n"},{"tags":["java","spring-boot","spring-test"],"answers":[{"tags":[],"owner":{"account_id":1126328,"reputation":10371,"user_id":1113542,"accept_rate":73,"display_name":"Dhruv"},"down_vote_count":1,"up_vote_count":23,"is_accepted":true,"score":22,"last_activity_date":1695310583,"creation_date":1557370230,"answer_id":56051531,"question_id":56021699,"body_markdown":"A simple way of getting additional beans in the context is via using nested configuration classes within test classes\r\n\r\n    @TestConfiguration\r\n    static class AdditionalConfig {\r\n    \t@Bean\r\n    \tpublic SomeBean getSomeBean() {\r\n    \t\treturn new SomeBean();\r\n    \t}\r\n    }\r\n\r\n*Example:*\r\n\r\nScenario - If you have some Controller say *ProductController* and you have the corresponding slice-test for the class say *ProductionControllerTest*\r\n\r\n    @RestController\r\n    public class ProductController {\r\n    \r\n        @Autowired\r\n        private IProductService productService;\r\n    \r\n        @Autowired\r\n        private IProductValidator productValidator;\r\n    \r\n    \r\n        @GetMapping(&quot;product&quot;)\r\n        public Product getProduct(@RequestParam Long id) {\r\n    \r\n            Product product = productService.getProduct(id); // you are using mockBean of productService\r\n            \r\n            productValidator.validateProduct(product); // you need real bean of productValidator\r\n            return product;\r\n        }\r\n    }\r\n\r\nCorresponding slide test class with an additional bean configuration\r\n\r\n   \r\n\r\n    @RunWith(SpringRunner.class)\r\n    @WebMvcTest\r\n    public class ProductControllerSliceTest {\r\n    \r\n        @Autowired\r\n        private MockMvc mockMvc;\r\n    \r\n        @MockBean\r\n        private IProductService productService;\r\n    \r\n        @Autowired\r\n        private ApplicationContext applicationContext;\r\n    \r\n        @TestConfiguration\r\n        static class AdditionalConfig {\r\n            @Bean\r\n            public IProductValidator productValidator() {\r\n                return new ProductValidator();\r\n            }\r\n        }\r\n    \r\n    \r\n        @Test\r\n        public void testProductGetById() throws Exception {\r\n            Product testProductWithID1L = new Product(1L, &quot;testProduct&quot;);\r\n            when(productService.getProduct(anyLong())).thenReturn(testProductWithID1L);\r\n    \r\n            mockMvc.perform(get(&quot;/product&quot;)\r\n                    .param(&quot;id&quot;, &quot;1&quot;)).andDo(print())\r\n                    .andExpect(status().isOk())\r\n                    .andExpect(jsonPath(&quot;name&quot;)\r\n                            .value(&quot;testProduct&quot;))\r\n                    .andExpect(MockMvcResultMatchers.jsonPath(&quot;id&quot;)\r\n                            .value(&quot;1&quot;));\r\n        }\r\n    }\r\n\r\n&lt;p&gt; &lt;b&gt; Additional thoughts on your scenario: &lt;/b&gt; If you really intend to do the unit testing of the controller class then ideally you should mock all the additional dependencies of class that you are testing. \r\nIdeally, the intention of the unit test is to only test the behavior of the object/class under test. All the dependent classes behavior or external calls should be mocked. &lt;br/&gt;\r\nWhen you start testing several classes together under one test, you are moving more towards a component test or integration test&lt;/p&gt;","title":"Add one additional bean to &quot;@WebMvcTest&quot;","body":"<p>A simple way of getting additional beans in the context is via using nested configuration classes within test classes</p>\n<pre><code>@TestConfiguration\nstatic class AdditionalConfig {\n    @Bean\n    public SomeBean getSomeBean() {\n        return new SomeBean();\n    }\n}\n</code></pre>\n<p><em>Example:</em></p>\n<p>Scenario - If you have some Controller say <em>ProductController</em> and you have the corresponding slice-test for the class say <em>ProductionControllerTest</em></p>\n<pre><code>@RestController\npublic class ProductController {\n\n    @Autowired\n    private IProductService productService;\n\n    @Autowired\n    private IProductValidator productValidator;\n\n\n    @GetMapping(&quot;product&quot;)\n    public Product getProduct(@RequestParam Long id) {\n\n        Product product = productService.getProduct(id); // you are using mockBean of productService\n        \n        productValidator.validateProduct(product); // you need real bean of productValidator\n        return product;\n    }\n}\n</code></pre>\n<p>Corresponding slide test class with an additional bean configuration</p>\n<pre><code>@RunWith(SpringRunner.class)\n@WebMvcTest\npublic class ProductControllerSliceTest {\n\n    @Autowired\n    private MockMvc mockMvc;\n\n    @MockBean\n    private IProductService productService;\n\n    @Autowired\n    private ApplicationContext applicationContext;\n\n    @TestConfiguration\n    static class AdditionalConfig {\n        @Bean\n        public IProductValidator productValidator() {\n            return new ProductValidator();\n        }\n    }\n\n\n    @Test\n    public void testProductGetById() throws Exception {\n        Product testProductWithID1L = new Product(1L, &quot;testProduct&quot;);\n        when(productService.getProduct(anyLong())).thenReturn(testProductWithID1L);\n\n        mockMvc.perform(get(&quot;/product&quot;)\n                .param(&quot;id&quot;, &quot;1&quot;)).andDo(print())\n                .andExpect(status().isOk())\n                .andExpect(jsonPath(&quot;name&quot;)\n                        .value(&quot;testProduct&quot;))\n                .andExpect(MockMvcResultMatchers.jsonPath(&quot;id&quot;)\n                        .value(&quot;1&quot;));\n    }\n}\n</code></pre>\n<p> <b> Additional thoughts on your scenario: </b> If you really intend to do the unit testing of the controller class then ideally you should mock all the additional dependencies of class that you are testing. \nIdeally, the intention of the unit test is to only test the behavior of the object/class under test. All the dependent classes behavior or external calls should be mocked. <br/>\nWhen you start testing several classes together under one test, you are moving more towards a component test or integration test</p>\n"},{"tags":[],"owner":{"account_id":1921,"reputation":185672,"user_id":2648,"accept_rate":52,"display_name":"D&#243;nal"},"down_vote_count":1,"up_vote_count":26,"is_accepted":false,"score":25,"last_activity_date":1624447275,"creation_date":1603382391,"answer_id":64486074,"question_id":56021699,"body_markdown":"A very simple solution is to annotate your test class with `@Import` specifying the class(es) of the additional bean(s) you want to use in your test, as [stated in documentation][1]:\r\n\r\n&gt; Typically @WebMvcTest is used in combination with @MockBean or **@Import\r\n&gt; to create any collaborators required by your @Controller beans**.\r\n\r\ne.g.\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    @WebMvcTest(MyController.class)\r\n    @Import(SomeOtherBean.class)\r\n    public class SourcingOrganisationControllerTests {\r\n    \r\n        // The controller bean is made available via @WebMvcTest  \r\n        @Autowired\r\n        private MyController myController;\r\n    \r\n        // Additional beans (only one in this case) are made available via @Import\r\n        @Autowired\r\n        private SomeOtherBean someOtherBean;\r\n    }\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/autoconfigure/web/servlet/WebMvcTest.html","title":"Add one additional bean to &quot;@WebMvcTest&quot;","body":"<p>A very simple solution is to annotate your test class with <code>@Import</code> specifying the class(es) of the additional bean(s) you want to use in your test, as <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/autoconfigure/web/servlet/WebMvcTest.html\" rel=\"noreferrer\">stated in documentation</a>:</p>\n<blockquote>\n<p>Typically @WebMvcTest is used in combination with @MockBean or <strong>@Import\nto create any collaborators required by your @Controller beans</strong>.</p>\n</blockquote>\n<p>e.g.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@WebMvcTest(MyController.class)\n@Import(SomeOtherBean.class)\npublic class SourcingOrganisationControllerTests {\n\n    // The controller bean is made available via @WebMvcTest  \n    @Autowired\n    private MyController myController;\n\n    // Additional beans (only one in this case) are made available via @Import\n    @Autowired\n    private SomeOtherBean someOtherBean;\n}\n</code></pre>\n"}],"owner":{"account_id":201157,"reputation":12723,"user_id":447426,"accept_rate":62,"display_name":"dermoritz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9274,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"accepted_answer_id":56051531,"answer_count":2,"score":19,"last_activity_date":1695310583,"creation_date":1557228892,"question_id":56021699,"body_markdown":"I have a controller and a test using @WebMvcTest and its running fine. Now i needed to add a little validation logic and for this i ``@Autowired`` an additional bean (a ``@Component``, a MapstructMapper).\r\n\r\nAs expected now the test is failing due to ``@WebMvcTest``. (No components are discovered)\r\n\r\nIs there a way to add one bean to the context created?\r\n\r\nSince i am using ``@MockBeans`` to mock service layer: is there a way to delegate all mock calls to a real object? With this i could mock the mapper and delegate to real mapper?!\r\n\r\n\r\n\r\n","title":"Add one additional bean to &quot;@WebMvcTest&quot;","body":"<p>I have a controller and a test using @WebMvcTest and its running fine. Now i needed to add a little validation logic and for this i <code>@Autowired</code> an additional bean (a <code>@Component</code>, a MapstructMapper).</p>\n\n<p>As expected now the test is failing due to <code>@WebMvcTest</code>. (No components are discovered)</p>\n\n<p>Is there a way to add one bean to the context created?</p>\n\n<p>Since i am using <code>@MockBeans</code> to mock service layer: is there a way to delegate all mock calls to a real object? With this i could mock the mapper and delegate to real mapper?!</p>\n"},{"tags":["java","docker","operating-system","docker-machine"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":2,"creation_date":1695305205,"post_id":77150936,"comment_id":136009044,"body_markdown":"How did you remove the far file in a running container? One fundamental difference is that on Unix-likes by default opening a file is non-exclusive: others can open, write to and even delete files that a process have opened. If they delete it the process having previously opened it will continue to be able to read it until it closes it. That might be what you&#39;re seeing, but if you could explain what **exactly** you&#39;re doing, we could give a more definite answer.","body":"How did you remove the far file in a running container? One fundamental difference is that on Unix-likes by default opening a file is non-exclusive: others can open, write to and even delete files that a process have opened. If they delete it the process having previously opened it will continue to be able to read it until it closes it. That might be what you&#39;re seeing, but if you could explain what <b>exactly</b> you&#39;re doing, we could give a more definite answer."},{"owner":{"account_id":20065617,"reputation":11,"user_id":14711352,"display_name":"Anguraj Dinesh"},"score":0,"creation_date":1695309536,"post_id":77150936,"comment_id":136010049,"body_markdown":"Hi @JoachimSauer, I&#39;ve updated the post with more explanation, what I&#39;m exactly doing with the basic repro steps. Please check. Thanks","body":"Hi @JoachimSauer, I&#39;ve updated the post with more explanation, what I&#39;m exactly doing with the basic repro steps. Please check. Thanks"},{"owner":{"account_id":10247695,"reputation":64,"user_id":7562982,"display_name":"Jasvant Singh"},"score":2,"creation_date":1695309936,"post_id":77150936,"comment_id":136010134,"body_markdown":"Docker containers runs under linux sybsystem on Windows. In linux you can delete a file which is opened by a process and the file will still be available to running process until the process closes that file or exit. This is precisely what is happening in your case.","body":"Docker containers runs under linux sybsystem on Windows. In linux you can delete a file which is opened by a process and the file will still be available to running process until the process closes that file or exit. This is precisely what is happening in your case."},{"owner":{"account_id":20065617,"reputation":11,"user_id":14711352,"display_name":"Anguraj Dinesh"},"score":0,"creation_date":1695311282,"post_id":77150936,"comment_id":136010443,"body_markdown":"Thanks for the explanation, @JasvantSingh","body":"Thanks for the explanation, @JasvantSingh"}],"owner":{"account_id":20065617,"reputation":11,"user_id":14711352,"display_name":"Anguraj Dinesh"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695310497,"creation_date":1695304483,"question_id":77150936,"body_markdown":"I have a Java application that is running in the container, and I have removed the core jar file from the container, but still the application in the container is **UP** and **RUNNING**, I don&#39;t understand how ?\r\n\r\nIf a Java application is running on our local system, then you can&#39;t remove or modify the jar files that are currently used by the application. Even if you try to delete the jar file, you will get the prompt message &quot;**The action can&#39;t be completed because the file is open in Java Platform Architecture**&quot;.\r\n\r\nHow are the host OS processes used in the Docker container? **Can someone please explain how this works?**\r\n\r\n**To recreate the scenario**: Please download the [Tomcat image][1] from the docker hub. Create and run the container using the command (**docker run -it --rm -p 8888:8080 tomcat**), Now, open the webpage on **localhost:8888**, and you will see the webpage as **HTTP Status 404: Not Found** (that&#39;s OK - this is expected). Now, the container is UP and RUNNING.\r\n\r\nGo inside the container and try to delete the jar files in the lib directory (full path: **/usr/local/tomcat/lib**) using the command (**rm jar-file-name**). and please check the web page again, now you will see the same page, where the application is running properly, even after the jar files are removed.\r\n\r\n\r\n  [1]: https://hub.docker.com/_/tomcat","title":"Removed the core jar file from the container, but still the container is UP and RUNNING","body":"<p>I have a Java application that is running in the container, and I have removed the core jar file from the container, but still the application in the container is <strong>UP</strong> and <strong>RUNNING</strong>, I don't understand how ?</p>\n<p>If a Java application is running on our local system, then you can't remove or modify the jar files that are currently used by the application. Even if you try to delete the jar file, you will get the prompt message &quot;<strong>The action can't be completed because the file is open in Java Platform Architecture</strong>&quot;.</p>\n<p>How are the host OS processes used in the Docker container? <strong>Can someone please explain how this works?</strong></p>\n<p><strong>To recreate the scenario</strong>: Please download the <a href=\"https://hub.docker.com/_/tomcat\" rel=\"nofollow noreferrer\">Tomcat image</a> from the docker hub. Create and run the container using the command (<strong>docker run -it --rm -p 8888:8080 tomcat</strong>), Now, open the webpage on <strong>localhost:8888</strong>, and you will see the webpage as <strong>HTTP Status 404: Not Found</strong> (that's OK - this is expected). Now, the container is UP and RUNNING.</p>\n<p>Go inside the container and try to delete the jar files in the lib directory (full path: <strong>/usr/local/tomcat/lib</strong>) using the command (<strong>rm jar-file-name</strong>). and please check the web page again, now you will see the same page, where the application is running properly, even after the jar files are removed.</p>\n"},{"tags":["java","asynchronous","jdbc","nonblocking"],"answers":[{"tags":[],"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670575797,"creation_date":1670575797,"answer_id":74740716,"question_id":74734716,"body_markdown":"For question 1, you are correct -- non-blocking is not inherently better (and with the arrival of [Virtual Threads][1], it&#39;s about to become a lot worse in comparison to good old thread-per-request). At best, you could look at the tools you are working with and do some performance testing with a small scale example. But frankly, that is down to the tool, not the strategy (at least, until Virtual Threads get here).\r\n\r\nFor question 2, I would strongly encourage you to choose the solution that works best with your tool/framework. Staying within your ecosystem will allow you to make more flexible moves when the time comes to optimize.\r\n\r\nBut all things equal, I would strongly encourage you to stick with thread-per-request, since you are working with Java. Ignoring Virtual Threads, thread-per-request allows you to work with and manage simple, blocking, synchronous code. You don&#39;t have to deal with callbacks or tracing the logic through confusing and piecemeal logs. Simply make a thread per request, let it block where it does, and then let your scheduler handle which thread should have the CPU core at any given time.\r\n\r\n\r\n  [1]: https://openjdk.org/jeps/8295817","title":"Non-blocking vs blocking Java server with JDBC calls","body":"<p>For question 1, you are correct -- non-blocking is not inherently better (and with the arrival of <a href=\"https://openjdk.org/jeps/8295817\" rel=\"nofollow noreferrer\">Virtual Threads</a>, it's about to become a lot worse in comparison to good old thread-per-request). At best, you could look at the tools you are working with and do some performance testing with a small scale example. But frankly, that is down to the tool, not the strategy (at least, until Virtual Threads get here).</p>\n<p>For question 2, I would strongly encourage you to choose the solution that works best with your tool/framework. Staying within your ecosystem will allow you to make more flexible moves when the time comes to optimize.</p>\n<p>But all things equal, I would strongly encourage you to stick with thread-per-request, since you are working with Java. Ignoring Virtual Threads, thread-per-request allows you to work with and manage simple, blocking, synchronous code. You don't have to deal with callbacks or tracing the logic through confusing and piecemeal logs. Simply make a thread per request, let it block where it does, and then let your scheduler handle which thread should have the CPU core at any given time.</p>\n"},{"tags":[],"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1670976190,"creation_date":1670976190,"answer_id":74792238,"question_id":74734716,"body_markdown":"&gt; Pros: Save some overhead on the OS since it doesn&#39;t need to give CPU time to the thread waiting for IO\r\n\r\nIts not just the CPU time for waiting threads, but also the overhead of switching between threads competing for the CPU. As you have more threads, more of them will be in a running state, and the CPU time must be spread between them. This requires a lot of memory management for switching.\r\n\r\n&gt; Cons: For a large application (where each task is subscribing a callback to the previous task), it requires to split a single request to multiple threads creating a different kind of overhead. And potentially if a same request gets executed on multiple physical core, it adds overhead as data might not be available in L1/L2 core cache.\r\n\r\nThis also happens with the classic approach since blocking calls will cause the CPU to switch to a different thread, and, as stated before, the CPUwill even have to switch between runnable threads to share the CPU time as their number increases.\r\n\r\n&gt; **Question 1**: [] for an application that aren&#39;t memory bounded and where creating more threads isn&#39;t a problem\r\n\r\nIn the current state of Java, creating more threads is always going to be a problem at some point. With the thread-per-request model, it depends how many requests you have in parallel. 1000, probably ok, 10000 maybe not.\r\n\r\n&gt; it&#39;s not clear that writing a non-blocking application is actually more CPU efficient than writing blocking application. Is there any reason to believe otherwise?\r\n\r\nIt is not just a question of efficiency, but also scalability. For the performance itself, this would require proper load testing. You may also want to check [Is non-blocking I/O really faster than multi-threaded blocking I/O? How?](https://stackoverflow.com/questions/8546273/is-non-blocking-i-o-really-faster-than-multi-threaded-blocking-i-o-how)\r\n\r\n&gt; **Question 2**: My understanding is also that if we use JDBC, the connection is actually blocking and even if we make the rest of our application to be non-blocking, because of the JDBC client we lose all the benefit and in that case a Option 1 is most likely better?\r\n\r\nJDBC is indeed a synchronous API. Oracle was working on ADBA as an asynchronous equivalent, but they discontinued it, considering that Project Loom will make it irrelevant. [R2DBC](https://r2dbc.io/) provides an alternative which supports MySQL. [Spring even supports reactive transactions](https://spring.io/blog/2019/05/16/reactive-transactions-with-spring).","title":"Non-blocking vs blocking Java server with JDBC calls","body":"<blockquote>\n<p>Pros: Save some overhead on the OS since it doesn't need to give CPU time to the thread waiting for IO</p>\n</blockquote>\n<p>Its not just the CPU time for waiting threads, but also the overhead of switching between threads competing for the CPU. As you have more threads, more of them will be in a running state, and the CPU time must be spread between them. This requires a lot of memory management for switching.</p>\n<blockquote>\n<p>Cons: For a large application (where each task is subscribing a callback to the previous task), it requires to split a single request to multiple threads creating a different kind of overhead. And potentially if a same request gets executed on multiple physical core, it adds overhead as data might not be available in L1/L2 core cache.</p>\n</blockquote>\n<p>This also happens with the classic approach since blocking calls will cause the CPU to switch to a different thread, and, as stated before, the CPUwill even have to switch between runnable threads to share the CPU time as their number increases.</p>\n<blockquote>\n<p><strong>Question 1</strong>: [] for an application that aren't memory bounded and where creating more threads isn't a problem</p>\n</blockquote>\n<p>In the current state of Java, creating more threads is always going to be a problem at some point. With the thread-per-request model, it depends how many requests you have in parallel. 1000, probably ok, 10000 maybe not.</p>\n<blockquote>\n<p>it's not clear that writing a non-blocking application is actually more CPU efficient than writing blocking application. Is there any reason to believe otherwise?</p>\n</blockquote>\n<p>It is not just a question of efficiency, but also scalability. For the performance itself, this would require proper load testing. You may also want to check <a href=\"https://stackoverflow.com/questions/8546273/is-non-blocking-i-o-really-faster-than-multi-threaded-blocking-i-o-how\">Is non-blocking I/O really faster than multi-threaded blocking I/O? How?</a></p>\n<blockquote>\n<p><strong>Question 2</strong>: My understanding is also that if we use JDBC, the connection is actually blocking and even if we make the rest of our application to be non-blocking, because of the JDBC client we lose all the benefit and in that case a Option 1 is most likely better?</p>\n</blockquote>\n<p>JDBC is indeed a synchronous API. Oracle was working on ADBA as an asynchronous equivalent, but they discontinued it, considering that Project Loom will make it irrelevant. <a href=\"https://r2dbc.io/\" rel=\"nofollow noreferrer\">R2DBC</a> provides an alternative which supports MySQL. <a href=\"https://spring.io/blog/2019/05/16/reactive-transactions-with-spring\" rel=\"nofollow noreferrer\">Spring even supports reactive transactions</a>.</p>\n"}],"owner":{"account_id":2860674,"reputation":2162,"user_id":2456013,"accept_rate":73,"display_name":"HLP"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":734,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1695310494,"creation_date":1670523518,"question_id":74734716,"body_markdown":"Our gRPC need to handle 1000 QPS and each request requires a list of **sequential operations** to happen, including one which is to read data from the DB using JDBC. Handling a single request takes at most 50ms.\r\n\r\nOur application can be written in two ways:\r\n\r\n- **Option 1 - Classic one blocking thread per request:** we can create a large thread pool (~200) and simply assign one thread per request and have that thread block while it waits for the DB.\r\n- **Option 2 - Having each request handled in a truly non-blocking fashion:**. This would require us to use a non-blocking MySQL client which I don&#39;t know if it exist, but for now let&#39;s assume it exist.\r\n\r\nMy understanding is that non-blocking approach has these pros and cons:\r\n- Pros: Allows to reduce the number of threads required, and as a such reduce the memory footprint\r\n- Pros: Save some overhead on the OS since it doesn&#39;t need to give CPU time to the thread waiting for IO\r\n- Cons: For a large application (where each task is subscribing a callback to the previous task), it requires to split a single request to multiple threads creating a different kind of overhead. And potentially if a same request gets executed on multiple physical core, it adds overhead as data might not be available in L1/L2 core cache.\r\n\r\n**Question 1:** Even though non blocking application seems to be the new cool thing, my understanding is that for an application that aren&#39;t memory bounded and where creating more threads isn&#39;t a problem, it&#39;s not clear that writing a non-blocking application is actually more CPU efficient than writing blocking application. Is there any reason to believe otherwise?\r\n\r\n**Question 2:** My understanding is also that if we use JDBC, the connection is actually blocking and even if we make the rest of our application to be non-blocking, because of the JDBC client we lose all the benefit and in that case a Option 1 is most likely better?","title":"Non-blocking vs blocking Java server with JDBC calls","body":"<p>Our gRPC need to handle 1000 QPS and each request requires a list of <strong>sequential operations</strong> to happen, including one which is to read data from the DB using JDBC. Handling a single request takes at most 50ms.</p>\n<p>Our application can be written in two ways:</p>\n<ul>\n<li><strong>Option 1 - Classic one blocking thread per request:</strong> we can create a large thread pool (~200) and simply assign one thread per request and have that thread block while it waits for the DB.</li>\n<li><strong>Option 2 - Having each request handled in a truly non-blocking fashion:</strong>. This would require us to use a non-blocking MySQL client which I don't know if it exist, but for now let's assume it exist.</li>\n</ul>\n<p>My understanding is that non-blocking approach has these pros and cons:</p>\n<ul>\n<li>Pros: Allows to reduce the number of threads required, and as a such reduce the memory footprint</li>\n<li>Pros: Save some overhead on the OS since it doesn't need to give CPU time to the thread waiting for IO</li>\n<li>Cons: For a large application (where each task is subscribing a callback to the previous task), it requires to split a single request to multiple threads creating a different kind of overhead. And potentially if a same request gets executed on multiple physical core, it adds overhead as data might not be available in L1/L2 core cache.</li>\n</ul>\n<p><strong>Question 1:</strong> Even though non blocking application seems to be the new cool thing, my understanding is that for an application that aren't memory bounded and where creating more threads isn't a problem, it's not clear that writing a non-blocking application is actually more CPU efficient than writing blocking application. Is there any reason to believe otherwise?</p>\n<p><strong>Question 2:</strong> My understanding is also that if we use JDBC, the connection is actually blocking and even if we make the rest of our application to be non-blocking, because of the JDBC client we lose all the benefit and in that case a Option 1 is most likely better?</p>\n"},{"tags":["java","udp","file-descriptor","datagram"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1699930632,"post_id":77151478,"comment_id":136589856,"body_markdown":"Eh? You can already set SO_REUSEPORT with [`DatagramSocket.setOption()` and `SO_REUSEPORT`](https://www.cs.usfca.edu/~cs212/javadoc/api/java.base/java/net/StandardSocketOptions.html#SO_REUSEPORT). You don&#39;t need Reflection at all.","body":"Eh? You can already set SO_REUSEPORT with <a href=\"https://www.cs.usfca.edu/~cs212/javadoc/api/java.base/java/net/StandardSocketOptions.html#SO_REUSEPORT\" rel=\"nofollow noreferrer\"><code>DatagramSocket.setOption()</code> and <code>SO_REUSEPORT</code></a>. You don&#39;t need Reflection at all."}],"answers":[{"tags":[],"owner":{"account_id":1496441,"reputation":1,"user_id":1402263,"display_name":"diesel10"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1695310490,"creation_date":1695310490,"answer_id":77151687,"question_id":77151478,"body_markdown":"It appears that using the opens JVM flags we can get this work with java 17 again.\r\n\r\n    --add-opens=java.base/java.io=ALL-UNNAMED \r\n    --add-opens=java.base/java.net=ALL-UNNAMED \r\n    --add-opens=java.base/sun.nio.ch=ALL-UNNAMED \r\n    --add-opens java.base/java.lang=ALL-UNNAMED \r\n    --add-opens java.base/java.util=ALL-UNNAMED","title":"How to get FD on datagram socket?","body":"<p>It appears that using the opens JVM flags we can get this work with java 17 again.</p>\n<pre><code>--add-opens=java.base/java.io=ALL-UNNAMED \n--add-opens=java.base/java.net=ALL-UNNAMED \n--add-opens=java.base/sun.nio.ch=ALL-UNNAMED \n--add-opens java.base/java.lang=ALL-UNNAMED \n--add-opens java.base/java.util=ALL-UNNAMED\n</code></pre>\n"}],"owner":{"account_id":1496441,"reputation":1,"user_id":1402263,"display_name":"diesel10"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695310490,"creation_date":1695308659,"question_id":77151478,"body_markdown":"Before java 17, we could get the FD on a datagram socket like below trick with reflection, in order to set a socket option for SO_PORTREUSE using a kernel API.  But the implementation changed in latest java and the field is now called delegate, and the setAccessible API will not work with it due to a java.lang.reflect.InaccessibleObjectException.  \r\n\r\nHas anyone found an alternative way to get this from the datagram socket?\r\n\r\n        private int getFD(DatagramSocket ds) throws Exception {\r\n            Field dsImpl = DatagramSocket.class.getDeclaredField(&quot;impl&quot;);\r\n            dsImpl.setAccessible(true);\r\n\r\n            Field fd = DatagramSocketImpl.class.getDeclaredField(&quot;fd&quot;);\r\n            fd.setAccessible(true);\r\n\r\n            FileDescriptor fdi = (FileDescriptor) fd.get(dsImpl.get(ds));\r\n\r\n            Field fdVal = FileDescriptor.class.getDeclaredField(&quot;fd&quot;);\r\n            fdVal.setAccessible(true);\r\n\r\n            return fdVal.getInt(fdi);\r\n        }","title":"How to get FD on datagram socket?","body":"<p>Before java 17, we could get the FD on a datagram socket like below trick with reflection, in order to set a socket option for SO_PORTREUSE using a kernel API.  But the implementation changed in latest java and the field is now called delegate, and the setAccessible API will not work with it due to a java.lang.reflect.InaccessibleObjectException.</p>\n<p>Has anyone found an alternative way to get this from the datagram socket?</p>\n<pre><code>    private int getFD(DatagramSocket ds) throws Exception {\n        Field dsImpl = DatagramSocket.class.getDeclaredField(&quot;impl&quot;);\n        dsImpl.setAccessible(true);\n\n        Field fd = DatagramSocketImpl.class.getDeclaredField(&quot;fd&quot;);\n        fd.setAccessible(true);\n\n        FileDescriptor fdi = (FileDescriptor) fd.get(dsImpl.get(ds));\n\n        Field fdVal = FileDescriptor.class.getDeclaredField(&quot;fd&quot;);\n        fdVal.setAccessible(true);\n\n        return fdVal.getInt(fdi);\n    }\n</code></pre>\n"},{"tags":["java","spring-boot","exception","jpa","hikaricp"],"owner":{"account_id":3997696,"reputation":23,"user_id":3294707,"display_name":"user3294707"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695309995,"creation_date":1695309660,"question_id":77151586,"body_markdown":"I wantwhen (for some reason) the database has a problem and cannot make the connection with HikariCPthe service to start normally and is not terminated because the database is failing.\r\n\r\nI tried to control the connection with try catch, also with `InitializationFailTimeout` and with `spring.datasource.continue-on-error: true`, but still the service does not start, maybe you have any other idea that I can try to use?\r\n\r\n    @Bean\r\n    public DBSecret dbSecret(Environment env) {\r\n        return DBSecret.builder()\r\n                .url(env.getProperty(&quot;spring.datasource.url&quot;))\r\n                .username(env.getProperty(&quot;spring.datasource.username&quot;))\r\n                .password(env.getProperty(&quot;spring.datasource.password&quot;))\r\n                .build();\r\n    }\r\n\r\n    @Bean\r\n    public DataSource datasource(DBSecret secret,\r\n                                 @Value(&quot;${spring.datasource.driverClassName}&quot;) String driverClass) {\r\n        HikariConfig config = new HikariConfig();\r\n        config.setJdbcUrl(secret.getUrl());\r\n        config.setUsername(secret.getUsername());\r\n        config.setPassword(secret.getPassword());\r\n        config.setDriverClassName(driverClass);\r\n        config.setConnectionTimeout(1800000);\r\n        try {\r\n            return connection(config);\r\n        }catch (Exception e){\r\n            e.printStackTrace();\r\n            return null;\r\n        }\r\n    }\r\n\r\n    private HikariDataSource connection(HikariConfig config){\r\n        return new HikariDataSource(config);\r\n    }","title":"How can I control HikariCP exceptions?","body":"<p>I wantwhen (for some reason) the database has a problem and cannot make the connection with HikariCPthe service to start normally and is not terminated because the database is failing.</p>\n<p>I tried to control the connection with try catch, also with <code>InitializationFailTimeout</code> and with <code>spring.datasource.continue-on-error: true</code>, but still the service does not start, maybe you have any other idea that I can try to use?</p>\n<pre><code>@Bean\npublic DBSecret dbSecret(Environment env) {\n    return DBSecret.builder()\n            .url(env.getProperty(&quot;spring.datasource.url&quot;))\n            .username(env.getProperty(&quot;spring.datasource.username&quot;))\n            .password(env.getProperty(&quot;spring.datasource.password&quot;))\n            .build();\n}\n\n@Bean\npublic DataSource datasource(DBSecret secret,\n                             @Value(&quot;${spring.datasource.driverClassName}&quot;) String driverClass) {\n    HikariConfig config = new HikariConfig();\n    config.setJdbcUrl(secret.getUrl());\n    config.setUsername(secret.getUsername());\n    config.setPassword(secret.getPassword());\n    config.setDriverClassName(driverClass);\n    config.setConnectionTimeout(1800000);\n    try {\n        return connection(config);\n    }catch (Exception e){\n        e.printStackTrace();\n        return null;\n    }\n}\n\nprivate HikariDataSource connection(HikariConfig config){\n    return new HikariDataSource(config);\n}\n</code></pre>\n"},{"tags":["java","swing","gridbaglayout"],"answers":[{"tags":[],"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1695309553,"creation_date":1695308301,"answer_id":77151431,"question_id":77151300,"body_markdown":"Solution: You should use a simpler layout when one is called for. Here, better to have those center JPanels held in a GridLayout with 1 row and 2 columns as this will guarantee that they split the panel exactly in two.  And you can still use GridBagLayout inside the left panel if you want to center the button mid-panel.\r\n\r\nSide notes: \r\n* There is no need (or sense) to give a JButton a layout manager unless you are adding components to it, which would be somewhat unusual, but something I&#39;ve seen done, albeit rarely.\r\n* If you want a 30 px border around a component, then use an empty border: \r\n```\r\nint ebGap = 30;\r\nsetBorder(BorderFactory.createEmptyBorder(ebGap, ebGap, ebGap, ebGap));\r\n```\r\n\r\nFor example:\r\n\r\n```\r\nimport java.awt.Color;\r\nimport java.awt.Dimension;\r\nimport java.awt.GridBagConstraints;\r\nimport java.awt.GridBagLayout;\r\nimport java.awt.GridLayout;\r\nimport javax.swing.*;\r\n\r\n@SuppressWarnings(&quot;serial&quot;)\r\npublic class SwingFoo02 extends JPanel {\r\n    \r\n    private static final int PREF_W = 400;\r\n    private static final int PREF_H = 300;\r\n    \r\n    public SwingFoo02() {\r\n        int ebGap = 30;\r\n        setBorder(BorderFactory.createEmptyBorder(ebGap, ebGap, ebGap, ebGap));\r\n        \r\n        JPanel centerLeft = new JPanel(new GridBagLayout());\r\n        JPanel centerRight = new JPanel();\r\n        \r\n        centerLeft.setBackground(Color.RED);\r\n        centerRight.setBackground(Color.GREEN);        \r\n\r\n        JButton leftBtn = new JButton(&quot;CLIIIIICK!!!&quot;);\r\n        GridBagConstraints gbc = new GridBagConstraints();        \r\n        gbc.anchor = GridBagConstraints.CENTER;\r\n        gbc.fill = GridBagConstraints.HORIZONTAL;\r\n        gbc.weightx = 1.0;\r\n        gbc.weighty = 0.0;\r\n        gbc.gridx = 0;\r\n        gbc.gridy = 0;\r\n        centerLeft.add(leftBtn, gbc);\r\n        \r\n        setLayout(new GridLayout(1, 2));\r\n        add(centerLeft);\r\n        add(centerRight);\r\n\r\n    }\r\n    \r\n\r\n    @Override\r\n    public Dimension getPreferredSize() {\r\n        Dimension supSize = super.getPreferredSize();\r\n        int w = Math.max(supSize.width, PREF_W);\r\n        int h = Math.max(supSize.height, PREF_H);\r\n        return new Dimension(w, h);\r\n    }\r\n    \r\n    public static void main(String[] args) {\r\n        SwingUtilities.invokeLater(() -&gt; {\r\n            SwingFoo02 mainPanel = new SwingFoo02();\r\n\r\n            JFrame frame = new JFrame(&quot;GUI&quot;);\r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            frame.add(mainPanel);\r\n            frame.pack();\r\n            frame.setLocationRelativeTo(null);\r\n            frame.setVisible(true);\r\n        });\r\n    }\r\n\r\n}\r\n```","title":"Having problem when using GridBagLayout on JPanel and putting JButton inside","body":"<p>Solution: You should use a simpler layout when one is called for. Here, better to have those center JPanels held in a GridLayout with 1 row and 2 columns as this will guarantee that they split the panel exactly in two.  And you can still use GridBagLayout inside the left panel if you want to center the button mid-panel.</p>\n<p>Side notes:</p>\n<ul>\n<li>There is no need (or sense) to give a JButton a layout manager unless you are adding components to it, which would be somewhat unusual, but something I've seen done, albeit rarely.</li>\n<li>If you want a 30 px border around a component, then use an empty border:</li>\n</ul>\n<pre><code>int ebGap = 30;\nsetBorder(BorderFactory.createEmptyBorder(ebGap, ebGap, ebGap, ebGap));\n</code></pre>\n<p>For example:</p>\n<pre><code>import java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.GridBagConstraints;\nimport java.awt.GridBagLayout;\nimport java.awt.GridLayout;\nimport javax.swing.*;\n\n@SuppressWarnings(&quot;serial&quot;)\npublic class SwingFoo02 extends JPanel {\n    \n    private static final int PREF_W = 400;\n    private static final int PREF_H = 300;\n    \n    public SwingFoo02() {\n        int ebGap = 30;\n        setBorder(BorderFactory.createEmptyBorder(ebGap, ebGap, ebGap, ebGap));\n        \n        JPanel centerLeft = new JPanel(new GridBagLayout());\n        JPanel centerRight = new JPanel();\n        \n        centerLeft.setBackground(Color.RED);\n        centerRight.setBackground(Color.GREEN);        \n\n        JButton leftBtn = new JButton(&quot;CLIIIIICK!!!&quot;);\n        GridBagConstraints gbc = new GridBagConstraints();        \n        gbc.anchor = GridBagConstraints.CENTER;\n        gbc.fill = GridBagConstraints.HORIZONTAL;\n        gbc.weightx = 1.0;\n        gbc.weighty = 0.0;\n        gbc.gridx = 0;\n        gbc.gridy = 0;\n        centerLeft.add(leftBtn, gbc);\n        \n        setLayout(new GridLayout(1, 2));\n        add(centerLeft);\n        add(centerRight);\n\n    }\n    \n\n    @Override\n    public Dimension getPreferredSize() {\n        Dimension supSize = super.getPreferredSize();\n        int w = Math.max(supSize.width, PREF_W);\n        int h = Math.max(supSize.height, PREF_H);\n        return new Dimension(w, h);\n    }\n    \n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(() -&gt; {\n            SwingFoo02 mainPanel = new SwingFoo02();\n\n            JFrame frame = new JFrame(&quot;GUI&quot;);\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n            frame.add(mainPanel);\n            frame.pack();\n            frame.setLocationRelativeTo(null);\n            frame.setVisible(true);\n        });\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":29501565,"reputation":7,"user_id":22608457,"display_name":"MouseTheMilkLover"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77151431,"answer_count":1,"score":1,"last_activity_date":1695309553,"creation_date":1695307289,"question_id":77151300,"body_markdown":"Here&#39;s what I&#39;ve got. I have two JPanels, each with GridBagLayout. They have weightx = 0.5 and fill both directions. So basically the window is half one JPanel, half the other. And it should stay this way. But if i put for example JButton in one of them, then the JPanel widens and takes some space of the second JPanel. \r\n\r\nWhat should I do to prevent this behavior? Is there any other layout that would work the same way as I described?\r\n\r\nHere&#39;s the code I&#39;ve been testing this on.\r\n\r\n\\`\r\n\r\n```\r\nJFrame f = new JFrame();\r\n        f.setLayout(new BorderLayout());\r\n        f.setTitle(&quot;Start Window&quot;);\r\n        f.setDefaultCloseOperation(f.EXIT_ON_CLOSE);\r\n        f.setSize(400,300);\r\n        f.setResizable(true);\r\n\r\n        JPanel top = new JPanel();\r\n        JPanel right = new JPanel();\r\n        JPanel bottom = new JPanel();\r\n        JPanel left = new JPanel();\r\n\r\n        top.setPreferredSize(new Dimension(30,30));\r\n        right.setPreferredSize(new Dimension(30,30));\r\n        bottom.setPreferredSize(new Dimension(30,30));\r\n        left.setPreferredSize(new Dimension(30,30));\r\n\r\n        f.add(top,BorderLayout.NORTH);\r\n        f.add(right,BorderLayout.EAST);\r\n        f.add(bottom,BorderLayout.SOUTH);\r\n        f.add(left,BorderLayout.WEST);\r\n\r\n        JPanel centerContainer = new JPanel(new GridBagLayout());\r\n        GridBagConstraints centerLayout = new GridBagConstraints();\r\n        centerContainer.setBackground(Color.blue);\r\n        f.add(centerContainer);\r\n\r\n        JPanel centerLeft = new JPanel(new GridBagLayout());\r\n        GridBagConstraints centerLeftLayout = new GridBagConstraints();\r\n        centerLayout.gridx=0;\r\n        centerLayout.gridy=0;\r\n        centerLayout.weightx=0.5;\r\n        centerLayout.weighty=1;\r\n        centerLayout.fill = GridBagConstraints.BOTH;\r\n        centerLeft.setBackground(Color.red);\r\n        centerContainer.add(centerLeft,centerLayout);\r\n\r\n        JPanel centerRight = new JPanel();\r\n        centerLayout.gridx=1;\r\n        centerLayout.gridy=0;\r\n        centerLayout.weightx=0.5;\r\n        centerLayout.weighty=1;\r\n        centerLayout.fill = GridBagConstraints.BOTH;\r\n        centerRight.setBackground(Color.green);\r\n        centerContainer.add(centerRight,centerLayout);\r\n\r\n        JPanel leftElement = new JPanel(new GridBagLayout());\r\n        GridBagConstraints leftElementLayout = new GridBagConstraints();\r\n\r\n        centerLeftLayout.gridx=0;\r\n        centerLeftLayout.gridy=0;\r\n        centerLeftLayout.weightx=1;\r\n        centerLeftLayout.weighty=1;\r\n        centerLeftLayout.fill = GridBagConstraints.HORIZONTAL;\r\n\r\n        centerLeft.add(leftElement,centerLeftLayout);\r\n\r\n        JButton leftBtn = new JButton(&quot;CLIIIIICK!!!&quot;);\r\n        leftBtn.setLayout(new GridBagLayout());\r\n        leftElementLayout.gridx=0;\r\n        leftElementLayout.gridy=0;\r\n        leftElementLayout.weighty=0;\r\n        leftElementLayout.weightx=1;\r\n        leftElementLayout.fill=GridBagConstraints.HORIZONTAL;\r\n\r\n\r\n        leftElement.add(leftBtn,leftElementLayout);\r\n\r\n\r\n        f.setVisible(true);\r\n```\r\n\r\n\\`","title":"Having problem when using GridBagLayout on JPanel and putting JButton inside","body":"<p>Here's what I've got. I have two JPanels, each with GridBagLayout. They have weightx = 0.5 and fill both directions. So basically the window is half one JPanel, half the other. And it should stay this way. But if i put for example JButton in one of them, then the JPanel widens and takes some space of the second JPanel.</p>\n<p>What should I do to prevent this behavior? Is there any other layout that would work the same way as I described?</p>\n<p>Here's the code I've been testing this on.</p>\n<p>`</p>\n<pre><code>JFrame f = new JFrame();\n        f.setLayout(new BorderLayout());\n        f.setTitle(&quot;Start Window&quot;);\n        f.setDefaultCloseOperation(f.EXIT_ON_CLOSE);\n        f.setSize(400,300);\n        f.setResizable(true);\n\n        JPanel top = new JPanel();\n        JPanel right = new JPanel();\n        JPanel bottom = new JPanel();\n        JPanel left = new JPanel();\n\n        top.setPreferredSize(new Dimension(30,30));\n        right.setPreferredSize(new Dimension(30,30));\n        bottom.setPreferredSize(new Dimension(30,30));\n        left.setPreferredSize(new Dimension(30,30));\n\n        f.add(top,BorderLayout.NORTH);\n        f.add(right,BorderLayout.EAST);\n        f.add(bottom,BorderLayout.SOUTH);\n        f.add(left,BorderLayout.WEST);\n\n        JPanel centerContainer = new JPanel(new GridBagLayout());\n        GridBagConstraints centerLayout = new GridBagConstraints();\n        centerContainer.setBackground(Color.blue);\n        f.add(centerContainer);\n\n        JPanel centerLeft = new JPanel(new GridBagLayout());\n        GridBagConstraints centerLeftLayout = new GridBagConstraints();\n        centerLayout.gridx=0;\n        centerLayout.gridy=0;\n        centerLayout.weightx=0.5;\n        centerLayout.weighty=1;\n        centerLayout.fill = GridBagConstraints.BOTH;\n        centerLeft.setBackground(Color.red);\n        centerContainer.add(centerLeft,centerLayout);\n\n        JPanel centerRight = new JPanel();\n        centerLayout.gridx=1;\n        centerLayout.gridy=0;\n        centerLayout.weightx=0.5;\n        centerLayout.weighty=1;\n        centerLayout.fill = GridBagConstraints.BOTH;\n        centerRight.setBackground(Color.green);\n        centerContainer.add(centerRight,centerLayout);\n\n        JPanel leftElement = new JPanel(new GridBagLayout());\n        GridBagConstraints leftElementLayout = new GridBagConstraints();\n\n        centerLeftLayout.gridx=0;\n        centerLeftLayout.gridy=0;\n        centerLeftLayout.weightx=1;\n        centerLeftLayout.weighty=1;\n        centerLeftLayout.fill = GridBagConstraints.HORIZONTAL;\n\n        centerLeft.add(leftElement,centerLeftLayout);\n\n        JButton leftBtn = new JButton(&quot;CLIIIIICK!!!&quot;);\n        leftBtn.setLayout(new GridBagLayout());\n        leftElementLayout.gridx=0;\n        leftElementLayout.gridy=0;\n        leftElementLayout.weighty=0;\n        leftElementLayout.weightx=1;\n        leftElementLayout.fill=GridBagConstraints.HORIZONTAL;\n\n\n        leftElement.add(leftBtn,leftElementLayout);\n\n\n        f.setVisible(true);\n</code></pre>\n<p>`</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1695267640,"post_id":77147008,"comment_id":136002397,"body_markdown":"Off-topic: If your `for` loops for printing the contents of `deck1` and `deck2` are for testing or debugging, you might be interested in `Arrays.toString`: `System.out.println (Arrays.toString (deck1));` for example will print the contents of the array.","body":"Off-topic: If your <code>for</code> loops for printing the contents of <code>deck1</code> and <code>deck2</code> are for testing or debugging, you might be interested in <code>Arrays.toString</code>: <code>System.out.println (Arrays.toString (deck1));</code> for example will print the contents of the array."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":1,"creation_date":1695268769,"post_id":77147008,"comment_id":136002496,"body_markdown":"The card game, [War](https://en.wikipedia.org/wiki/War_(card_game)), is played with a deck of playing cards which has four suits, i.e. Clubs, Diamonds, Hearts and Spades, where each suit has 13 cards with values from 2 to 14 (inclusive, assuming Aces are high). Shouldn&#39;t your [full] &quot;deck&quot; model an actual deck of [playing] cards?","body":"The card game, <a href=\"https://en.wikipedia.org/wiki/War_(card_game)\" rel=\"nofollow noreferrer\">War</a>, is played with a deck of playing cards which has four suits, i.e. Clubs, Diamonds, Hearts and Spades, where each suit has 13 cards with values from 2 to 14 (inclusive, assuming Aces are high). Shouldn&#39;t your [full] &quot;deck&quot; model an actual deck of [playing] cards?"},{"owner":{"account_id":949245,"reputation":796,"user_id":975773,"accept_rate":67,"display_name":"Shobit"},"score":0,"creation_date":1695275502,"post_id":77147008,"comment_id":136003132,"body_markdown":"If the `player` from `boolean player = deck1[0] &lt; deck2[0];` is true, this means deck2 is the winner, however, in your if-condition `if(player) { ... cards1++; cards2--; }` it seems like you&#39;re giving the card to player1 instead of player2.  Am I misunderstanding something?  Shouldn&#39;t it be the other way?","body":"If the <code>player</code> from <code>boolean player = deck1[0] &lt; deck2[0];</code> is true, this means deck2 is the winner, however, in your if-condition <code>if(player) { ... cards1++; cards2--; }</code> it seems like you&#39;re giving the card to player1 instead of player2.  Am I misunderstanding something?  Shouldn&#39;t it be the other way?"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1695400653,"post_id":77147008,"comment_id":136024220,"body_markdown":"Off-topic: Consider creating a `static` method for sorting. You can use it in future code. Consider using the [Fisher-Yates Shuffle](https://en.wikipedia.org/wiki/Fisher%E2%80%93Yates_shuffle).","body":"Off-topic: Consider creating a <code>static</code> method for sorting. You can use it in future code. Consider using the <a href=\"https://en.wikipedia.org/wiki/Fisher%E2%80%93Yates_shuffle\" rel=\"nofollow noreferrer\">Fisher-Yates Shuffle</a>."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1695400849,"post_id":77147008,"comment_id":136024259,"body_markdown":"Off-topic: You could use one `for` loop to split the dek. Since you used two `for` loops to split the deck, consider twice using  [copyOfRange method](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Arrays.html#copyOfRange(int%5B%5D,int,int)) instead.","body":"Off-topic: You could use one <code>for</code> loop to split the dek. Since you used two <code>for</code> loops to split the deck, consider twice using  <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Arrays.html#copyOfRange(int%5B%5D,int,int)\" rel=\"nofollow noreferrer\">copyOfRange method</a> instead."}],"answers":[{"tags":[],"owner":{"account_id":29496627,"reputation":9,"user_id":22604511,"display_name":"Seruloo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695309455,"creation_date":1695309455,"answer_id":77151566,"question_id":77147008,"body_markdown":"I figured out the issue! Since with this method of tie resolution, the king of diamonds can never be beaten, the player with &quot;52&quot; in their deck will always win. For some reason, the deck shuffling mechanism consistently put 52 in the first 26 cards, so that player always won. After making the math.random multiplied by 52 rather than 52-i, the 52 was more randomly distributed and both players won.","title":"Java Game of War not working as expected - fixed winner regardless of original deck values","body":"<p>I figured out the issue! Since with this method of tie resolution, the king of diamonds can never be beaten, the player with &quot;52&quot; in their deck will always win. For some reason, the deck shuffling mechanism consistently put 52 in the first 26 cards, so that player always won. After making the math.random multiplied by 52 rather than 52-i, the 52 was more randomly distributed and both players won.</p>\n"}],"owner":{"account_id":29496627,"reputation":9,"user_id":22604511,"display_name":"Seruloo"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1695309455,"creation_date":1695266754,"question_id":77147008,"body_markdown":"Java program has fixed winner regardless of cards in both players decks. \r\n\r\nThe game of War starts with a shuffled deck of 52 that are distributed evenly (26 cards each) to both players (deck1 and deck2). For the number of rounds specified, the first card in each deck&#39;s array is compared. (The player may exit after every round). The winner takes both cards (values) and puts it at the bottom of the deck (end of listed values) (Arraylists are not allowed). The game ends when one deck has no cards. One of the decks consistently gets all the cards regardless of the original shuffled values and I don&#39;t understand why. All I could pinpoint is that the winner depended on the original assignment of cards from the array. The deck that obtained the first 26 cards always won.\r\n\r\nCode show below:\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\nimport static java.lang.System.exit;\r\n\r\npublic class War {\r\n    public static void main(String[] args) {\r\n        int numTimePlay = args.length &gt; 0 ? Integer.parseInt(args[0]) : 0;\r\n\r\n        if (numTimePlay &lt; 1) {\r\n            System.out.println(&quot;Error: invalid number&quot;);\r\n            exit(0);\r\n        }\r\n\r\n        //starts game\r\n        for (int m = 0; m &lt; numTimePlay; m++) {\r\n\r\n            //Each grouping of four represents a group of the same number arranged by suit\r\n            int[] fullDeck = new int[52];\r\n            for (int i = 0; i &lt; fullDeck.length; i++) {\r\n                fullDeck[i] = i + 1;\r\n            }\r\n            //Shuffled numbers\r\n            for (int i = 0; i &lt; fullDeck.length; i++) {\r\n                int l = (int) (Math.random() * (52 - i));\r\n                int temp1 = fullDeck[i];\r\n                fullDeck[i] = fullDeck[l];\r\n                fullDeck[l] = temp1;\r\n            }\r\n\r\n            //Split deck for players\r\n            int[] deck1 = new int[52];\r\n            int[] deck2 = new int[52];\r\n            for (int i = 0; i &lt; 26; i++) {\r\n                deck2[i] = fullDeck[i];\r\n            }\r\n            for (int i = 26; i &lt; fullDeck.length; i++) {\r\n                deck1[i - 26] = fullDeck[i];\r\n            }\r\n\r\n            for (int i = 0; i &lt; 52; i++){\r\n                System.out.print(deck1[i]+ &quot; &quot;);\r\n            }\r\n            System.out.println();\r\n            for (int i = 0; i &lt; 52; i++){\r\n                System.out.print(deck2[i]+ &quot; &quot;);\r\n            }\r\n            System.out.println();\r\n\r\n            //starting deck numbers\r\n            int cards1 = 26;\r\n            int cards2 = 26;\r\n\r\n            while (deck1[0] != 0 &amp;&amp; deck2[0] != 0) {\r\n                //look it&#39;s the &quot;starting&quot; player\r\n                int startingPlayer = (int) (Math.random() * 2) == 0 ? 1 : 2;\r\n                boolean player = deck1[0] &lt; deck2[0];\r\n\r\n                //deck 1 moves over\r\n                int value1 = deck1[0];\r\n                for (int i  = 1; i &lt; deck1.length; i++){\r\n                    deck1[i-1] = deck1[i];\r\n                }\r\n\r\n                //deck 2 moves over\r\n                int value2 = deck2[0];\r\n                for (int i = 1; i &lt; deck2.length; i++){\r\n                    deck2[i-1] = deck2[i];\r\n                }\r\n\r\n                //cards added to winner&#39;s deck\r\n                if (player) {\r\n                    deck1[cards1-1] = value1;\r\n                    deck1[cards1] = value2;\r\n                    cards1++;\r\n                    cards2--;\r\n                }\r\n                else{\r\n                    deck2[cards2-1] = value2;\r\n                    deck2[cards2] = value1;\r\n                    cards2++;\r\n                    cards1--;\r\n                }\r\n            }\r\n\r\n                for (int i = 0; i &lt; 52; i++){\r\n                    System.out.print(deck1[i]+ &quot; &quot;);\r\n                }\r\n                System.out.println();\r\n                for (int i = 0; i &lt; 52; i++){\r\n                System.out.print(deck2[i]+ &quot; &quot;);\r\n                }\r\n                if (cards1 == 0){\r\n                    System.out.println(&quot;Player loses&quot;);\r\n                }\r\n                else{\r\n                    System.out.println(&quot;CPU loses&quot;);\r\n                }\r\n                //Grab user input to use break if needed\r\n                System.out.println(&quot;Do you want to continue? Y/N&quot;);\r\n                Scanner myScanner = new Scanner(System.in);\r\n                String yes = myScanner.next();\r\n                if (!(yes.equals(&quot;Y&quot;))){\r\n                    System.out.println(&quot;Thanks for playing!&quot;);\r\n                    exit(0);\r\n                }\r\n\r\n        }\r\n    }\r\n}\r\n```","title":"Java Game of War not working as expected - fixed winner regardless of original deck values","body":"<p>Java program has fixed winner regardless of cards in both players decks.</p>\n<p>The game of War starts with a shuffled deck of 52 that are distributed evenly (26 cards each) to both players (deck1 and deck2). For the number of rounds specified, the first card in each deck's array is compared. (The player may exit after every round). The winner takes both cards (values) and puts it at the bottom of the deck (end of listed values) (Arraylists are not allowed). The game ends when one deck has no cards. One of the decks consistently gets all the cards regardless of the original shuffled values and I don't understand why. All I could pinpoint is that the winner depended on the original assignment of cards from the array. The deck that obtained the first 26 cards always won.</p>\n<p>Code show below:</p>\n<pre><code>import java.util.Scanner;\n\nimport static java.lang.System.exit;\n\npublic class War {\n    public static void main(String[] args) {\n        int numTimePlay = args.length &gt; 0 ? Integer.parseInt(args[0]) : 0;\n\n        if (numTimePlay &lt; 1) {\n            System.out.println(&quot;Error: invalid number&quot;);\n            exit(0);\n        }\n\n        //starts game\n        for (int m = 0; m &lt; numTimePlay; m++) {\n\n            //Each grouping of four represents a group of the same number arranged by suit\n            int[] fullDeck = new int[52];\n            for (int i = 0; i &lt; fullDeck.length; i++) {\n                fullDeck[i] = i + 1;\n            }\n            //Shuffled numbers\n            for (int i = 0; i &lt; fullDeck.length; i++) {\n                int l = (int) (Math.random() * (52 - i));\n                int temp1 = fullDeck[i];\n                fullDeck[i] = fullDeck[l];\n                fullDeck[l] = temp1;\n            }\n\n            //Split deck for players\n            int[] deck1 = new int[52];\n            int[] deck2 = new int[52];\n            for (int i = 0; i &lt; 26; i++) {\n                deck2[i] = fullDeck[i];\n            }\n            for (int i = 26; i &lt; fullDeck.length; i++) {\n                deck1[i - 26] = fullDeck[i];\n            }\n\n            for (int i = 0; i &lt; 52; i++){\n                System.out.print(deck1[i]+ &quot; &quot;);\n            }\n            System.out.println();\n            for (int i = 0; i &lt; 52; i++){\n                System.out.print(deck2[i]+ &quot; &quot;);\n            }\n            System.out.println();\n\n            //starting deck numbers\n            int cards1 = 26;\n            int cards2 = 26;\n\n            while (deck1[0] != 0 &amp;&amp; deck2[0] != 0) {\n                //look it's the &quot;starting&quot; player\n                int startingPlayer = (int) (Math.random() * 2) == 0 ? 1 : 2;\n                boolean player = deck1[0] &lt; deck2[0];\n\n                //deck 1 moves over\n                int value1 = deck1[0];\n                for (int i  = 1; i &lt; deck1.length; i++){\n                    deck1[i-1] = deck1[i];\n                }\n\n                //deck 2 moves over\n                int value2 = deck2[0];\n                for (int i = 1; i &lt; deck2.length; i++){\n                    deck2[i-1] = deck2[i];\n                }\n\n                //cards added to winner's deck\n                if (player) {\n                    deck1[cards1-1] = value1;\n                    deck1[cards1] = value2;\n                    cards1++;\n                    cards2--;\n                }\n                else{\n                    deck2[cards2-1] = value2;\n                    deck2[cards2] = value1;\n                    cards2++;\n                    cards1--;\n                }\n            }\n\n                for (int i = 0; i &lt; 52; i++){\n                    System.out.print(deck1[i]+ &quot; &quot;);\n                }\n                System.out.println();\n                for (int i = 0; i &lt; 52; i++){\n                System.out.print(deck2[i]+ &quot; &quot;);\n                }\n                if (cards1 == 0){\n                    System.out.println(&quot;Player loses&quot;);\n                }\n                else{\n                    System.out.println(&quot;CPU loses&quot;);\n                }\n                //Grab user input to use break if needed\n                System.out.println(&quot;Do you want to continue? Y/N&quot;);\n                Scanner myScanner = new Scanner(System.in);\n                String yes = myScanner.next();\n                if (!(yes.equals(&quot;Y&quot;))){\n                    System.out.println(&quot;Thanks for playing!&quot;);\n                    exit(0);\n                }\n\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","maven","rpmbuild"],"owner":{"account_id":23449971,"reputation":1,"user_id":17506262,"display_name":"Hel&#237; Rodr&#237;guez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695309074,"creation_date":1695309074,"question_id":77151527,"body_markdown":"Create a RPM package after generate a jar file with the same pom.xml\r\nIm using the plugin org.codehaus.mojo. I would like to create a RPM package after create a jar file with the same pom.xml file. The documentation is not accurate enought to configure the pom.xml file or the plugin does not work. The plugin find some problems with the directories in order to copy the jar file and to prepare the package.\r\nOne of most common error is Unable to copy files for packaging: The destination directory cannot include itself. It seems than them the prefix item doesnt work or there are some items misconfigured.\r\n\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;rpm-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;2.3.0&lt;/version&gt;\r\n\t\t\t\t&lt;extensions&gt;true&lt;/extensions&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;generate-rpm&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;rpm&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t&lt;!--phase&gt;package&lt;/phase&gt;--&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;name&gt;${project.artifactId}&lt;/name&gt;\r\n\t\t\t\t\t&lt;license&gt;Prop License (c), Me&lt;/license&gt;\r\n\t\t\t\t\t&lt;distribution&gt;Test 1.0&lt;/distribution&gt;\r\n\t\t\t\t\t&lt;group&gt;${project.basedir}/temp&lt;/group&gt;\r\n\t\t\t\t\t&lt;packager&gt;Me&lt;/packager&gt;\r\n\t\t\t\t\t&lt;prefix&gt;/usr/local/games&lt;/prefix&gt;\r\n\t\t\t\t\t&lt;mappings&gt;\r\n\t\t\t\t\t&lt;mapping&gt;\r\n\t\t\t\t\t\t&lt;directory&gt;/usr/local&lt;/directory&gt;\r\n\t\t\t\t\t\t&lt;!--directoryIncluded&gt;false&lt;/directoryIncluded&gt;--&gt;\r\n\t\t\t\t\t\t&lt;!--configuration&gt;true&lt;/configuration&gt;--&gt;\r\n\t\t\t\t\t\t&lt;filemode&gt;777&lt;/filemode&gt;\r\n\t\t\t\t\t\t&lt;username&gt;rodriguez&lt;/username&gt;\r\n\t\t\t\t\t\t&lt;groupname&gt;root&lt;/groupname&gt;\r\n\t\t\t\t\t\t&lt;sources&gt;\r\n\t\t\t\t\t\t\t&lt;source&gt;\r\n\t\t\t\t\t\t\t\t&lt;!--location&gt;${project.basedir}/target${project.artifactId}-${project.version}.jar&lt;/location--&gt;\r\n\t\t\t\t\t\t\t\t&lt;!--location&gt;${project.basedir}/target/${project.artifactId}.jar&lt;/location&gt;--&gt;\r\n\t\t\t\t\t\t\t\t&lt;location&gt;${project.basedir}/target&lt;/location&gt;\r\n\t\t\t\t\t\t\t&lt;/source&gt;\r\n\t\t\t\t\t\t&lt;/sources&gt;\r\n\t\t\t\t\t&lt;/mapping&gt;\r\n\t\t\t\t\t&lt;/mappings&gt;\r\n\t\t\t\t\t&lt;preinstallScriptlet&gt;\r\n                        &lt;scriptFile&gt;${project.basedir}/scripts/preinstall.sh&lt;/scriptFile&gt;\r\n                    &lt;/preinstallScriptlet&gt;\r\n                   &lt;postinstallScriptlet&gt;\r\n                        &lt;scriptFile&gt;${project.basedir}/scripts/postinstall.sh&lt;/scriptFile&gt;\r\n                        &lt;fileEncoding&gt;utf-8&lt;/fileEncoding&gt;\r\n                   &lt;/postinstallScriptlet&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t&lt;/plugin&gt;","title":"RPM package after generate a jar file with the same pom.xml","body":"<p>Create a RPM package after generate a jar file with the same pom.xml\nIm using the plugin org.codehaus.mojo. I would like to create a RPM package after create a jar file with the same pom.xml file. The documentation is not accurate enought to configure the pom.xml file or the plugin does not work. The plugin find some problems with the directories in order to copy the jar file and to prepare the package.\nOne of most common error is Unable to copy files for packaging: The destination directory cannot include itself. It seems than them the prefix item doesnt work or there are some items misconfigured.</p>\n<pre><code>        &lt;plugin&gt;\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n            &lt;artifactId&gt;rpm-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.3.0&lt;/version&gt;\n            &lt;extensions&gt;true&lt;/extensions&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;generate-rpm&lt;/id&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;rpm&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;!--phase&gt;package&lt;/phase&gt;--&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n            &lt;configuration&gt;\n                &lt;name&gt;${project.artifactId}&lt;/name&gt;\n                &lt;license&gt;Prop License (c), Me&lt;/license&gt;\n                &lt;distribution&gt;Test 1.0&lt;/distribution&gt;\n                &lt;group&gt;${project.basedir}/temp&lt;/group&gt;\n                &lt;packager&gt;Me&lt;/packager&gt;\n                &lt;prefix&gt;/usr/local/games&lt;/prefix&gt;\n                &lt;mappings&gt;\n                &lt;mapping&gt;\n                    &lt;directory&gt;/usr/local&lt;/directory&gt;\n                    &lt;!--directoryIncluded&gt;false&lt;/directoryIncluded&gt;--&gt;\n                    &lt;!--configuration&gt;true&lt;/configuration&gt;--&gt;\n                    &lt;filemode&gt;777&lt;/filemode&gt;\n                    &lt;username&gt;rodriguez&lt;/username&gt;\n                    &lt;groupname&gt;root&lt;/groupname&gt;\n                    &lt;sources&gt;\n                        &lt;source&gt;\n                            &lt;!--location&gt;${project.basedir}/target${project.artifactId}-${project.version}.jar&lt;/location--&gt;\n                            &lt;!--location&gt;${project.basedir}/target/${project.artifactId}.jar&lt;/location&gt;--&gt;\n                            &lt;location&gt;${project.basedir}/target&lt;/location&gt;\n                        &lt;/source&gt;\n                    &lt;/sources&gt;\n                &lt;/mapping&gt;\n                &lt;/mappings&gt;\n                &lt;preinstallScriptlet&gt;\n                    &lt;scriptFile&gt;${project.basedir}/scripts/preinstall.sh&lt;/scriptFile&gt;\n                &lt;/preinstallScriptlet&gt;\n               &lt;postinstallScriptlet&gt;\n                    &lt;scriptFile&gt;${project.basedir}/scripts/postinstall.sh&lt;/scriptFile&gt;\n                    &lt;fileEncoding&gt;utf-8&lt;/fileEncoding&gt;\n               &lt;/postinstallScriptlet&gt;\n            &lt;/configuration&gt;\n    &lt;/plugin&gt;\n</code></pre>\n"},{"tags":["java","github-actions","quarkus"],"answers":[{"tags":[],"owner":{"account_id":1115215,"reputation":10877,"user_id":1104727,"display_name":"Holly Cummins"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1690477020,"creation_date":1690477020,"answer_id":76781949,"question_id":76781846,"body_markdown":"The `quarkus:test` command is really intended for local, interactive, continuous testing. The advantage of the command is that it will detect code changes and re-run the affected tests automatically. That&#39;s awesome locally, but doesn&#39;t make sense in a CI. \r\n\r\nTo run Quarkus tests in &#39;normal&#39; mode, it&#39;s sufficient to just run the normal maven commands, such as `mvn install` or `mvn verify`. In your case, the `mvn package` should be running the tests already, but you could confirm by deliberately committing a failing test and confirming the build fails. \r\n\r\nI&#39;m fairly sure that `quarkus.test.disable-continuous-testing` option doesn&#39;t exist. I think maybe it&#39;s got confused with `quarkus.test.continuous-testing=disabled`, which does exist. That option is mostly intended if you&#39;re running with `quarkus:dev` (which runs the application and can also continuously run tests) but only want live reload of the application, and definitely don&#39;t want tests. \r\n\r\nFor your scenario, I&#39;d just remove the `./mvnw quarkus:test -Dquarkus.test.disable-continuous-testing=true` line from your workflow file. That should avoid the interactive session and the Quarkus tests will be run in the previous maven step. ","title":"Github Actions Workflow for Quarkus Tests","body":"<p>The <code>quarkus:test</code> command is really intended for local, interactive, continuous testing. The advantage of the command is that it will detect code changes and re-run the affected tests automatically. That's awesome locally, but doesn't make sense in a CI.</p>\n<p>To run Quarkus tests in 'normal' mode, it's sufficient to just run the normal maven commands, such as <code>mvn install</code> or <code>mvn verify</code>. In your case, the <code>mvn package</code> should be running the tests already, but you could confirm by deliberately committing a failing test and confirming the build fails.</p>\n<p>I'm fairly sure that <code>quarkus.test.disable-continuous-testing</code> option doesn't exist. I think maybe it's got confused with <code>quarkus.test.continuous-testing=disabled</code>, which does exist. That option is mostly intended if you're running with <code>quarkus:dev</code> (which runs the application and can also continuously run tests) but only want live reload of the application, and definitely don't want tests.</p>\n<p>For your scenario, I'd just remove the <code>./mvnw quarkus:test -Dquarkus.test.disable-continuous-testing=true</code> line from your workflow file. That should avoid the interactive session and the Quarkus tests will be run in the previous maven step.</p>\n"},{"tags":[],"owner":{"account_id":24354111,"reputation":1,"user_id":18289571,"display_name":"ours"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695308779,"creation_date":1695308779,"answer_id":77151494,"question_id":76781846,"body_markdown":"&gt; This causes the job to hang on github and just keep running indefinitely\r\n\r\nA bit off-topic but you should add a time limit for your future jobs. \r\n\r\nYou can do so with `timeout-minutes`.\r\n\r\nFor more information, see this topic: https://stackoverflow.com/a/59076067/18289571","title":"Github Actions Workflow for Quarkus Tests","body":"<blockquote>\n<p>This causes the job to hang on github and just keep running indefinitely</p>\n</blockquote>\n<p>A bit off-topic but you should add a time limit for your future jobs.</p>\n<p>You can do so with <code>timeout-minutes</code>.</p>\n<p>For more information, see this topic: <a href=\"https://stackoverflow.com/a/59076067/18289571\">https://stackoverflow.com/a/59076067/18289571</a></p>\n"}],"owner":{"account_id":27652339,"reputation":23,"user_id":21106947,"display_name":"jf743"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":215,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76781949,"answer_count":2,"score":2,"last_activity_date":1695308779,"creation_date":1690476148,"question_id":76781846,"body_markdown":"I am trying to write a github actions workflow to run tests for a quarkus application. However, when running quarkus tests, it runs all the tests, and then displays a command prompt and asks for more commands. This causes the job to hang on github and just keep running indefinitely. I can&#39;t figure out how to get quarkus to run all the tests and then just exit.\r\n\r\nHere is my current .yml file:\r\n\r\n```\r\nname: Java CI with Quarkus\r\n\r\non:\r\n  push:\r\n    branches: [ main ]\r\n  pull_request:\r\n    branches: [ main ]\r\n\r\nconcurrency:\r\n  group: ${{ github.workflow }}-${{ github.event.pull_request.number || github.ref }}\r\n  cancel-in-progress: true\r\n\r\njobs:\r\n  build:\r\n\r\n    runs-on: ubuntu-latest\r\n\r\n    steps:\r\n      - uses: actions/checkout@v2\r\n      - name: Set up JDK 17\r\n        uses: actions/setup-java@v2\r\n        with:\r\n          java-version: &#39;17&#39;\r\n          distribution: &#39;adopt&#39;\r\n      - name: Cache Maven packages\r\n        uses: actions/cache@v2\r\n        with:\r\n          path: ~/.m2\r\n          key: ${{ runner.os }}-m2-${{ hashFiles(&#39;**/pom.xml&#39;) }}\r\n          restore-keys: ${{ runner.os }}-m2\r\n      - name: Build with Maven\r\n        run: mvn -B package --file pom.xml\r\n      - name: Test with Quarkus\r\n        run: ./mvnw quarkus:test -Dquarkus.test.disable-continuous-testing=true\r\n```","title":"Github Actions Workflow for Quarkus Tests","body":"<p>I am trying to write a github actions workflow to run tests for a quarkus application. However, when running quarkus tests, it runs all the tests, and then displays a command prompt and asks for more commands. This causes the job to hang on github and just keep running indefinitely. I can't figure out how to get quarkus to run all the tests and then just exit.</p>\n<p>Here is my current .yml file:</p>\n<pre><code>name: Java CI with Quarkus\n\non:\n  push:\n    branches: [ main ]\n  pull_request:\n    branches: [ main ]\n\nconcurrency:\n  group: ${{ github.workflow }}-${{ github.event.pull_request.number || github.ref }}\n  cancel-in-progress: true\n\njobs:\n  build:\n\n    runs-on: ubuntu-latest\n\n    steps:\n      - uses: actions/checkout@v2\n      - name: Set up JDK 17\n        uses: actions/setup-java@v2\n        with:\n          java-version: '17'\n          distribution: 'adopt'\n      - name: Cache Maven packages\n        uses: actions/cache@v2\n        with:\n          path: ~/.m2\n          key: ${{ runner.os }}-m2-${{ hashFiles('**/pom.xml') }}\n          restore-keys: ${{ runner.os }}-m2\n      - name: Build with Maven\n        run: mvn -B package --file pom.xml\n      - name: Test with Quarkus\n        run: ./mvnw quarkus:test -Dquarkus.test.disable-continuous-testing=true\n</code></pre>\n"},{"tags":["java","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":57990,"reputation":3210,"user_id":173689,"accept_rate":85,"display_name":"Daniel Bleisteiner"},"score":0,"creation_date":1695309616,"post_id":77151387,"comment_id":136010073,"body_markdown":"Using `debug=true` I&#39;m seeing many `create global temporary table HT_` and `create global temporary table HTE_` before running OOM. But these seem to go through since I can see these generated tables in the database. Right now I&#39;ve no idea why Hibernate does that  maybe for performance optimizations.","body":"Using <code>debug=true</code> I&#39;m seeing many <code>create global temporary table HT_</code> and <code>create global temporary table HTE_</code> before running OOM. But these seem to go through since I can see these generated tables in the database. Right now I&#39;ve no idea why Hibernate does that  maybe for performance optimizations."}],"owner":{"account_id":57990,"reputation":3210,"user_id":173689,"accept_rate":85,"display_name":"Daniel Bleisteiner"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1695308693,"creation_date":1695307962,"question_id":77151387,"body_markdown":"I&#39;m having problems with a fresh application using **SpringBoot 3.1.3** and an existing **JPA** data model. We&#39;ve used that data model with several other applications before  but with **Java 11** and **SpringBoot 2.7.x**.\r\n\r\nThis time I want to go **Java 17** and therefor I&#39;ve **migrated** the data model from `javax` to `jakarta` using OpenRewrite. That worked pretty well as far as I can see. The project itself builds without any errors and I&#39;ve also **fixed** a single **invalid** `@Table(indexes={@Index(...)})` where Hibernate complained about. That **invalid index annotation** has never been verified with **SpringBoot 2.7** before.\r\n\r\nAs soon as I&#39;d fixed that the **SpringBoot 3.1** version no longer complains but **fails to start** and runs into **OUT OF MEMORY** &#160;even with several GB of max heap. All I get to see in the logs is the following:\r\n\r\n```\r\n2023-09-21T16:46:56.550+02:00  INFO 81372 --- [  restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\r\n2023-09-21T16:46:56.573+02:00  INFO 81372 --- [  restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.7.Final\r\n2023-09-21T16:46:56.574+02:00  INFO 81372 --- [  restartedMain] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer\r\n2023-09-21T16:46:56.647+02:00  INFO 81372 --- [  restartedMain] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy\r\n2023-09-21T16:46:56.709+02:00  INFO 81372 --- [  restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer\r\n2023-09-21T16:46:56.718+02:00  INFO 81372 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\r\n2023-09-21T16:46:56.931+02:00  INFO 81372 --- [  restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection oracle.jdbc.driver.T4CConnection@51420c43\r\n2023-09-21T16:46:56.933+02:00  INFO 81372 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\r\n2023-09-21T16:46:57.517+02:00  INFO 81372 --- [  restartedMain] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy\r\n```\r\n\r\nAnd after a longer period **wasting memory** it **fails** and **terminates** the application:\r\n\r\n```\r\n2023-09-21T16:49:44.584+02:00  WARN 81372 --- [  restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Java heap space\r\n2023-09-21T16:49:44.585+02:00  INFO 81372 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\r\n2023-09-21T16:49:44.595+02:00  INFO 81372 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\r\n2023-09-21T16:49:44.598+02:00  INFO 81372 --- [  restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\r\n2023-09-21T16:49:44.609+02:00  INFO 81372 --- [  restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : \r\n\r\nError starting ApplicationContext. To display the condition evaluation report re-run your application with &#39;debug&#39; enabled.\r\n2023-09-21T16:49:44.622+02:00 ERROR 81372 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed\r\n\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Java heap space\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1155) ~[spring-context-6.0.11.jar:6.0.11]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:932) ~[spring-context-6.0.11.jar:6.0.11]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608) ~[spring-context-6.0.11.jar:6.0.11]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.3.jar:3.1.3]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-3.1.3.jar:3.1.3]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436) ~[spring-boot-3.1.3.jar:3.1.3]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:312) ~[spring-boot-3.1.3.jar:3.1.3]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-3.1.3.jar:3.1.3]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-3.1.3.jar:3.1.3]\r\n\tat eu.ecg.eureka.rlp.fmp.migration.Application.main(Application.java:20) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.1.3.jar:3.1.3]\r\nCaused by: java.lang.OutOfMemoryError: Java heap space\r\n\tat java.base/java.util.Arrays.copyOf(Arrays.java:3537) ~[na:na]\r\n\tat java.base/java.lang.AbstractStringBuilder.ensureCapacityInternal(AbstractStringBuilder.java:228) ~[na:na]\r\n\tat java.base/java.lang.AbstractStringBuilder.append(AbstractStringBuilder.java:582) ~[na:na]\r\n\tat java.base/java.lang.StringBuilder.append(StringBuilder.java:179) ~[na:na]\r\n\tat org.hibernate.sql.ast.spi.AbstractSqlAstTranslator.appendSql(AbstractSqlAstTranslator.java:517) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\r\n\tat org.hibernate.sql.ast.tree.expression.ColumnReference$$Lambda$1307/0x0000000801015930.accept(Unknown Source) ~[na:na]\r\n\tat org.hibernate.sql.ast.tree.expression.ColumnReference.appendReadExpression(ColumnReference.java:191) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\r\n\tat org.hibernate.sql.ast.tree.expression.ColumnReference.appendReadExpression(ColumnReference.java:196) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\r\n\tat org.hibernate.sql.ast.tree.expression.ColumnReference.appendReadExpression(ColumnReference.java:171) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\r\n\tat org.hibernate.sql.ast.spi.AbstractSqlAstTranslator.visitColumnReference(AbstractSqlAstTranslator.java:6086) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\r\n\tat org.hibernate.sql.ast.tree.expression.ColumnReference.accept(ColumnReference.java:222) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\r\n\tat org.hibernate.sql.ast.spi.AbstractSqlAstTranslator.renderExpressionAsClauseItem(AbstractSqlAstTranslator.java:5035) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\r\n\tat org.hibernate.sql.ast.spi.AbstractSqlAstTranslator.renderSelectExpression(AbstractSqlAstTranslator.java:5020) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\r\n\tat org.hibernate.sql.ast.spi.AbstractSqlAstTranslator.visitSqlSelectExpression(AbstractSqlAstTranslator.java:5015) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\r\n\tat org.hibernate.sql.ast.spi.AbstractSqlAstTranslator.visitSqlSelection(AbstractSqlAstTranslator.java:4997) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\r\n\tat org.hibernate.dialect.OracleSqlAstTranslator.visitSqlSelection(OracleSqlAstTranslator.java:98) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\r\n\tat org.hibernate.sql.ast.spi.AbstractSqlAstTranslator.visitSqlSelections(AbstractSqlAstTranslator.java:4662) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\r\n\tat org.hibernate.sql.ast.spi.AbstractSqlAstTranslator.visitSelectClause(AbstractSqlAstTranslator.java:4563) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\r\n\tat org.hibernate.sql.ast.spi.AbstractSqlAstTranslator.visitQuerySpec(AbstractSqlAstTranslator.java:3031) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\r\n\tat org.hibernate.dialect.OracleSqlAstTranslator.visitQuerySpec(OracleSqlAstTranslator.java:269) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\r\n\tat org.hibernate.sql.ast.tree.select.QuerySpec.accept(QuerySpec.java:119) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\r\n\tat org.hibernate.sql.ast.spi.AbstractSqlAstTranslator.visitSelectStatement(AbstractSqlAstTranslator.java:986) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\r\n\tat org.hibernate.sql.ast.spi.AbstractSqlAstTranslator.translateSelect(AbstractSqlAstTranslator.java:849) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\r\n\tat org.hibernate.sql.ast.spi.AbstractSqlAstTranslator.translate(AbstractSqlAstTranslator.java:799) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\r\n\tat org.hibernate.loader.ast.internal.SingleIdLoadPlan.&lt;init&gt;(SingleIdLoadPlan.java:67) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\r\n\tat org.hibernate.loader.ast.internal.SingleIdEntityLoaderStandardImpl.createLoadPlan(SingleIdEntityLoaderStandardImpl.java:197) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\r\n\tat org.hibernate.loader.ast.internal.SingleIdEntityLoaderStandardImpl.prepare(SingleIdEntityLoaderStandardImpl.java:55) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\r\n\tat org.hibernate.persister.entity.AbstractEntityPersister.prepareLoader(AbstractEntityPersister.java:3447) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\r\n\tat org.hibernate.persister.entity.AbstractEntityPersister.postInstantiate(AbstractEntityPersister.java:3441) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\r\n\tat org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.finishInitialization(MappingMetamodelImpl.java:204) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\r\n\tat org.hibernate.internal.SessionFactoryImpl.initializeMappingModel(SessionFactoryImpl.java:320) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\r\n\tat org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:270) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\r\n```\r\n\r\n**I&#39;ve no idea where to start looking at. Any recommendations?**\r\n\r\nPS:\r\n\r\nA minor addition... I&#39;ve also replaced all `@Type(type = &quot;yes_no&quot;)` with `@Convert(converter = YesNoConverter.class)` because Hibernate complained about that too.\r\n\r\n```\r\n// FIXME: @Type(type = &quot;yes_no&quot;)\r\n@Convert(converter = YesNoConverter.class)\r\nprivate boolean editable = true;\r\n```\r\n","title":"OOM after migrating JPA data model from Java 11 to 17 + SpringBoot 2.7 to 3.1","body":"<p>I'm having problems with a fresh application using <strong>SpringBoot 3.1.3</strong> and an existing <strong>JPA</strong> data model. We've used that data model with several other applications before  but with <strong>Java 11</strong> and <strong>SpringBoot 2.7.x</strong>.</p>\n<p>This time I want to go <strong>Java 17</strong> and therefor I've <strong>migrated</strong> the data model from <code>javax</code> to <code>jakarta</code> using OpenRewrite. That worked pretty well as far as I can see. The project itself builds without any errors and I've also <strong>fixed</strong> a single <strong>invalid</strong> <code>@Table(indexes={@Index(...)})</code> where Hibernate complained about. That <strong>invalid index annotation</strong> has never been verified with <strong>SpringBoot 2.7</strong> before.</p>\n<p>As soon as I'd fixed that the <strong>SpringBoot 3.1</strong> version no longer complains but <strong>fails to start</strong> and runs into <strong>OUT OF MEMORY</strong> even with several GB of max heap. All I get to see in the logs is the following:</p>\n<pre><code>2023-09-21T16:46:56.550+02:00  INFO 81372 --- [  restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\n2023-09-21T16:46:56.573+02:00  INFO 81372 --- [  restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.7.Final\n2023-09-21T16:46:56.574+02:00  INFO 81372 --- [  restartedMain] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer\n2023-09-21T16:46:56.647+02:00  INFO 81372 --- [  restartedMain] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy\n2023-09-21T16:46:56.709+02:00  INFO 81372 --- [  restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer\n2023-09-21T16:46:56.718+02:00  INFO 81372 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\n2023-09-21T16:46:56.931+02:00  INFO 81372 --- [  restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection oracle.jdbc.driver.T4CConnection@51420c43\n2023-09-21T16:46:56.933+02:00  INFO 81372 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\n2023-09-21T16:46:57.517+02:00  INFO 81372 --- [  restartedMain] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy\n</code></pre>\n<p>And after a longer period <strong>wasting memory</strong> it <strong>fails</strong> and <strong>terminates</strong> the application:</p>\n<pre><code>2023-09-21T16:49:44.584+02:00  WARN 81372 --- [  restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Java heap space\n2023-09-21T16:49:44.585+02:00  INFO 81372 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\n2023-09-21T16:49:44.595+02:00  INFO 81372 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\n2023-09-21T16:49:44.598+02:00  INFO 81372 --- [  restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\n2023-09-21T16:49:44.609+02:00  INFO 81372 --- [  restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : \n\nError starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.\n2023-09-21T16:49:44.622+02:00 ERROR 81372 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Java heap space\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1155) ~[spring-context-6.0.11.jar:6.0.11]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:932) ~[spring-context-6.0.11.jar:6.0.11]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608) ~[spring-context-6.0.11.jar:6.0.11]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.3.jar:3.1.3]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-3.1.3.jar:3.1.3]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436) ~[spring-boot-3.1.3.jar:3.1.3]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:312) ~[spring-boot-3.1.3.jar:3.1.3]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-3.1.3.jar:3.1.3]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-3.1.3.jar:3.1.3]\n    at eu.ecg.eureka.rlp.fmp.migration.Application.main(Application.java:20) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.1.3.jar:3.1.3]\nCaused by: java.lang.OutOfMemoryError: Java heap space\n    at java.base/java.util.Arrays.copyOf(Arrays.java:3537) ~[na:na]\n    at java.base/java.lang.AbstractStringBuilder.ensureCapacityInternal(AbstractStringBuilder.java:228) ~[na:na]\n    at java.base/java.lang.AbstractStringBuilder.append(AbstractStringBuilder.java:582) ~[na:na]\n    at java.base/java.lang.StringBuilder.append(StringBuilder.java:179) ~[na:na]\n    at org.hibernate.sql.ast.spi.AbstractSqlAstTranslator.appendSql(AbstractSqlAstTranslator.java:517) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\n    at org.hibernate.sql.ast.tree.expression.ColumnReference$$Lambda$1307/0x0000000801015930.accept(Unknown Source) ~[na:na]\n    at org.hibernate.sql.ast.tree.expression.ColumnReference.appendReadExpression(ColumnReference.java:191) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\n    at org.hibernate.sql.ast.tree.expression.ColumnReference.appendReadExpression(ColumnReference.java:196) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\n    at org.hibernate.sql.ast.tree.expression.ColumnReference.appendReadExpression(ColumnReference.java:171) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\n    at org.hibernate.sql.ast.spi.AbstractSqlAstTranslator.visitColumnReference(AbstractSqlAstTranslator.java:6086) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\n    at org.hibernate.sql.ast.tree.expression.ColumnReference.accept(ColumnReference.java:222) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\n    at org.hibernate.sql.ast.spi.AbstractSqlAstTranslator.renderExpressionAsClauseItem(AbstractSqlAstTranslator.java:5035) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\n    at org.hibernate.sql.ast.spi.AbstractSqlAstTranslator.renderSelectExpression(AbstractSqlAstTranslator.java:5020) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\n    at org.hibernate.sql.ast.spi.AbstractSqlAstTranslator.visitSqlSelectExpression(AbstractSqlAstTranslator.java:5015) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\n    at org.hibernate.sql.ast.spi.AbstractSqlAstTranslator.visitSqlSelection(AbstractSqlAstTranslator.java:4997) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\n    at org.hibernate.dialect.OracleSqlAstTranslator.visitSqlSelection(OracleSqlAstTranslator.java:98) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\n    at org.hibernate.sql.ast.spi.AbstractSqlAstTranslator.visitSqlSelections(AbstractSqlAstTranslator.java:4662) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\n    at org.hibernate.sql.ast.spi.AbstractSqlAstTranslator.visitSelectClause(AbstractSqlAstTranslator.java:4563) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\n    at org.hibernate.sql.ast.spi.AbstractSqlAstTranslator.visitQuerySpec(AbstractSqlAstTranslator.java:3031) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\n    at org.hibernate.dialect.OracleSqlAstTranslator.visitQuerySpec(OracleSqlAstTranslator.java:269) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\n    at org.hibernate.sql.ast.tree.select.QuerySpec.accept(QuerySpec.java:119) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\n    at org.hibernate.sql.ast.spi.AbstractSqlAstTranslator.visitSelectStatement(AbstractSqlAstTranslator.java:986) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\n    at org.hibernate.sql.ast.spi.AbstractSqlAstTranslator.translateSelect(AbstractSqlAstTranslator.java:849) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\n    at org.hibernate.sql.ast.spi.AbstractSqlAstTranslator.translate(AbstractSqlAstTranslator.java:799) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\n    at org.hibernate.loader.ast.internal.SingleIdLoadPlan.&lt;init&gt;(SingleIdLoadPlan.java:67) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\n    at org.hibernate.loader.ast.internal.SingleIdEntityLoaderStandardImpl.createLoadPlan(SingleIdEntityLoaderStandardImpl.java:197) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\n    at org.hibernate.loader.ast.internal.SingleIdEntityLoaderStandardImpl.prepare(SingleIdEntityLoaderStandardImpl.java:55) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\n    at org.hibernate.persister.entity.AbstractEntityPersister.prepareLoader(AbstractEntityPersister.java:3447) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\n    at org.hibernate.persister.entity.AbstractEntityPersister.postInstantiate(AbstractEntityPersister.java:3441) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\n    at org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.finishInitialization(MappingMetamodelImpl.java:204) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\n    at org.hibernate.internal.SessionFactoryImpl.initializeMappingModel(SessionFactoryImpl.java:320) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\n    at org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:270) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\n</code></pre>\n<p><strong>I've no idea where to start looking at. Any recommendations?</strong></p>\n<p>PS:</p>\n<p>A minor addition... I've also replaced all <code>@Type(type = &quot;yes_no&quot;)</code> with <code>@Convert(converter = YesNoConverter.class)</code> because Hibernate complained about that too.</p>\n<pre><code>// FIXME: @Type(type = &quot;yes_no&quot;)\n@Convert(converter = YesNoConverter.class)\nprivate boolean editable = true;\n</code></pre>\n"},{"tags":["java","char"],"comments":[{"owner":{"account_id":543631,"reputation":10094,"user_id":912829,"accept_rate":53,"display_name":"ACV"},"score":2,"creation_date":1462218644,"post_id":9909333,"comment_id":61535230,"body_markdown":"you may check if your char has the default value by: `char == 0`","body":"you may check if your char has the default value by: <code>char == 0</code>"}],"answers":[{"tags":[],"owner":{"account_id":69149,"reputation":233552,"user_id":201359,"accept_rate":100,"display_name":"&#211;scar L&#243;pez"},"down_vote_count":1,"up_vote_count":123,"is_accepted":true,"score":122,"last_activity_date":1332948197,"creation_date":1332944023,"answer_id":9909357,"question_id":9909333,"body_markdown":"The default value of a `char` attribute is indeed `&#39;\\u0000&#39;` (the null character) as stated in the Java Language Specification, section [&#167;4.12.5 Initial Values of Variables ](http://docs.oracle.com/javase/specs/jls/se7/html/jls-4.html#jls-4.12.5).\r\n\r\nIn my system, the line `System.out.println(&#39;\\u0000&#39;);` prints a little square, meaning that it&#39;s not a printable character - as expected.","title":"What&#39;s the default value of char?","body":"<p>The default value of a <code>char</code> attribute is indeed <code>'\\u0000'</code> (the null character) as stated in the Java Language Specification, section <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-4.html#jls-4.12.5\">4.12.5 Initial Values of Variables </a>.</p>\n\n<p>In my system, the line <code>System.out.println('\\u0000');</code> prints a little square, meaning that it's not a printable character - as expected.</p>\n"},{"tags":[],"owner":{"account_id":480822,"reputation":48369,"user_id":894284,"accept_rate":75,"display_name":"Matt Fenwick"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1332944067,"creation_date":1332944067,"answer_id":9909374,"question_id":9909333,"body_markdown":"It&#39;s &#39;\\u0000&#39;.  See [here for more information][1].\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html","title":"What&#39;s the default value of char?","body":"<p>It's '\\u0000'.  See <a href=\"http://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html\" rel=\"nofollow\">here for more information</a>.</p>\n"},{"tags":[],"owner":{"account_id":473751,"reputation":19104,"user_id":883033,"accept_rate":63,"display_name":"Chandra Sekhar"},"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1475681306,"creation_date":1332944328,"answer_id":9909453,"question_id":9909333,"body_markdown":"**&#39;\\u0000&#39;** is the default value for a character. Its decimal equivalent is 0.\r\n\r\nWhen you are declaring some char variable without initializing it, &#39;\\u0000&#39; will be assigned to it by default.\r\n\r\nsee this code\r\n\r\n\tpublic class Test {\r\n\t\tchar c;\r\n\t\r\n\t\tpublic static void main(String args[]) throws Exception {\r\n\t\t\tTest t = new Test();\r\n\t\t\tchar c1 = &#39;\\u0000&#39;;\r\n\t\t\tSystem.out.println(t.c);\r\n\t\t\tSystem.out.println(c1);\r\n\t\t\tSystem.out.println(t.c == c1);\r\n\t\t}\r\n\t}\r\n\r\nThis code will print **true** for the last print.","title":"What&#39;s the default value of char?","body":"<p><strong>'\\u0000'</strong> is the default value for a character. Its decimal equivalent is 0.</p>\n\n<p>When you are declaring some char variable without initializing it, '\\u0000' will be assigned to it by default.</p>\n\n<p>see this code</p>\n\n<pre><code>public class Test {\n    char c;\n\n    public static void main(String args[]) throws Exception {\n        Test t = new Test();\n        char c1 = '\\u0000';\n        System.out.println(t.c);\n        System.out.println(c1);\n        System.out.println(t.c == c1);\n    }\n}\n</code></pre>\n\n<p>This code will print <strong>true</strong> for the last print.</p>\n"},{"tags":[],"owner":{"account_id":3143232,"reputation":2420,"user_id":2658276,"accept_rate":91,"display_name":"roshan"},"down_vote_count":3,"up_vote_count":9,"is_accepted":false,"score":6,"last_activity_date":1497936995,"creation_date":1383224789,"answer_id":19707338,"question_id":9909333,"body_markdown":"`&#39;\\u0000&#39;` stands for `null` . So if you print an uninitialized char variable , you&#39;ll get nothing.","title":"What&#39;s the default value of char?","body":"<p><code>'\\u0000'</code> stands for <code>null</code> . So if you print an uninitialized char variable , you'll get nothing.</p>\n"},{"tags":[],"owner":{"account_id":1730551,"reputation":13017,"user_id":1584255,"accept_rate":65,"display_name":"The Coordinator"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1396756892,"creation_date":1396756892,"answer_id":22889841,"question_id":9909333,"body_markdown":"The default char is the character with an int value of 0 (zero).\r\n\r\n char NULLCHAR = (char) 0;\r\n\r\n char NULLCHAR = &#39;\\0&#39;;\r\n\r\n \r\n","title":"What&#39;s the default value of char?","body":"<p>The default char is the character with an int value of 0 (zero).</p>\n\n<p>char NULLCHAR = (char) 0;</p>\n\n<p>char NULLCHAR = '\\0';</p>\n"},{"tags":[],"owner":{"account_id":3802879,"reputation":1641,"user_id":3156006,"accept_rate":86,"display_name":"Mateen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1418118653,"creation_date":1418118653,"answer_id":27375894,"question_id":9909333,"body_markdown":"its tempting say as white space or integer 0 as per below proof\r\n\r\n    char c1 = &#39;\\u0000&#39;;\r\n    System.out.println(&quot;*&quot;+c1+&quot;*&quot;);\r\n    System.out.println((int)c1);\r\n\r\nbut i wouldn&#39;t say so because, it might differ it different platforms or in future. What i really care is i ll never use this default value, so before using any char just check it is \\u0000 or not, then use it to avoid misconceptions in programs. Its as simple as that.","title":"What&#39;s the default value of char?","body":"<p>its tempting say as white space or integer 0 as per below proof</p>\n\n<pre><code>char c1 = '\\u0000';\nSystem.out.println(\"*\"+c1+\"*\");\nSystem.out.println((int)c1);\n</code></pre>\n\n<p>but i wouldn't say so because, it might differ it different platforms or in future. What i really care is i ll never use this default value, so before using any char just check it is \\u0000 or not, then use it to avoid misconceptions in programs. Its as simple as that.</p>\n"},{"tags":[],"owner":{"account_id":5249799,"reputation":109,"user_id":4194404,"display_name":"Luis Parada"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1418227760,"creation_date":1418227760,"answer_id":27405656,"question_id":9909333,"body_markdown":"The default value of a char data type is &#39;\\u0000&#39; (or 0) and a maximum value of &#39;\\uffff&#39; (or 65,535 inclusive).\r\n\r\nYou can see the info [here].\r\n\r\n\r\n  [here]: https://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html","title":"What&#39;s the default value of char?","body":"<p>The default value of a char data type is '\\u0000' (or 0) and a maximum value of '\\uffff' (or 65,535 inclusive).</p>\n\n<p>You can see the info <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html\" rel=\"nofollow\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":3449589,"reputation":1843,"user_id":2889528,"accept_rate":60,"display_name":"Yogesh Manware"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1451970795,"creation_date":1438769948,"answer_id":31829659,"question_id":9909333,"body_markdown":"Default value of Character is **Character.MIN_VALUE** which internally represented as `MIN_VALUE = &#39;\\u0000&#39;`\r\n\r\nAdditionally, you can check if the character field contains default value as \r\n\r\n    Character DEFAULT_CHAR = new Character(Character.MIN_VALUE);\r\n    if (DEFAULT_CHAR.compareTo((Character) value) == 0)\r\n    {\r\n    \r\n    }","title":"What&#39;s the default value of char?","body":"<p>Default value of Character is <strong>Character.MIN_VALUE</strong> which internally represented as <code>MIN_VALUE = '\\u0000'</code></p>\n\n<p>Additionally, you can check if the character field contains default value as </p>\n\n<pre><code>Character DEFAULT_CHAR = new Character(Character.MIN_VALUE);\nif (DEFAULT_CHAR.compareTo((Character) value) == 0)\n{\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2446987,"reputation":1,"user_id":2134064,"display_name":"Choo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1439526090,"creation_date":1439526090,"answer_id":32002229,"question_id":9909333,"body_markdown":"Note that there is a distinct difference between null and zero. \r\nIn http://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html (referenced above), the statement is made :-\r\n\r\nThere&#39;s also a special null literal that can be used as a value for any reference type. null may be assigned to any variable, except variables of primitive types. There&#39;s little you can do with a null value beyond testing for its presence. Therefore, null is often used in programs as a marker to indicate that some object is unavailable.\r\n\r\nThat is why the following statements will give you an error and not the other :-\r\n\r\nchar a = null; //Type mismatch: cannot convert from null to char.\r\n\r\nchar b = 0;    //Valid syntax.\r\n","title":"What&#39;s the default value of char?","body":"<p>Note that there is a distinct difference between null and zero. \nIn <a href=\"http://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html\" rel=\"nofollow\">http://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html</a> (referenced above), the statement is made :-</p>\n\n<p>There's also a special null literal that can be used as a value for any reference type. null may be assigned to any variable, except variables of primitive types. There's little you can do with a null value beyond testing for its presence. Therefore, null is often used in programs as a marker to indicate that some object is unavailable.</p>\n\n<p>That is why the following statements will give you an error and not the other :-</p>\n\n<p>char a = null; //Type mismatch: cannot convert from null to char.</p>\n\n<p>char b = 0;    //Valid syntax.</p>\n"},{"tags":[],"owner":{"account_id":8577255,"reputation":1,"user_id":6426202,"display_name":"Bcom"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1465117388,"creation_date":1465116295,"answer_id":37640025,"question_id":9909333,"body_markdown":"I think it is `&#39;\\u00000&#39;` or just `&#39;&#39;` rather than `&#39;\\u0000&#39;`\r\n(The 1st one has 5 zeros while the last one has four zeroes.)","title":"What&#39;s the default value of char?","body":"<p>I think it is <code>'\\u00000'</code> or just <code>''</code> rather than <code>'\\u0000'</code>\n(The 1st one has 5 zeros while the last one has four zeroes.)</p>\n"},{"tags":[],"owner":{"account_id":8390416,"reputation":334,"user_id":6299322,"accept_rate":71,"display_name":"Anish Sharma"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1695308627,"creation_date":1475676963,"answer_id":39876407,"question_id":9909333,"body_markdown":"`\\u0000` is the default value for char type in Java\r\n\r\nAs others mentioned, you can use comparison to check the value of an uninitialized variable.\r\n\r\n```java\r\nchar ch;\r\nif(ch==0) {\r\n System.out.println(&quot;Default value is the null character&quot;);\r\n}\r\n```","title":"What&#39;s the default value of char?","body":"<p><code>\\u0000</code> is the default value for char type in Java</p>\n<p>As others mentioned, you can use comparison to check the value of an uninitialized variable.</p>\n<pre class=\"lang-java prettyprint-override\"><code>char ch;\nif(ch==0) {\n System.out.println(&quot;Default value is the null character&quot;);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8736811,"reputation":1,"user_id":6535172,"display_name":"Shubham Malhotra"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1482477265,"creation_date":1482475022,"answer_id":41296375,"question_id":9909333,"body_markdown":"Default value for `char` is **\\u0000**\r\n\r\n    public class DefaultValues {\r\n\tchar varChar;\r\n\tpublic static void main(String...l)\r\n\t {\r\n\t\tDefaultValues ob =new DefaultValues();\r\n\t\tSystem.out.println(ob.varChar==&#39;\\u0000&#39;);\r\n\t }\t\r\n    }\r\n\r\n\r\nThis will return **true**","title":"What&#39;s the default value of char?","body":"<p>Default value for <code>char</code> is <strong>\\u0000</strong></p>\n\n<pre><code>public class DefaultValues {\nchar varChar;\npublic static void main(String...l)\n {\n    DefaultValues ob =new DefaultValues();\n    System.out.println(ob.varChar=='\\u0000');\n }  \n}\n</code></pre>\n\n<p>This will return <strong>true</strong></p>\n"},{"tags":[],"owner":{"account_id":6608813,"reputation":978,"user_id":5104758,"accept_rate":93,"display_name":"lft93ryt"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1490981208,"creation_date":1490981208,"answer_id":43146452,"question_id":9909333,"body_markdown":"The default value of char is null which is &#39;\\u0000&#39; as per [Unicode chart][1]. Let us see how it works while printing out. \r\n\r\n    public class Test_Class { \t\r\n         char c;\r\n         void printAll() { \t\r\n           System.out.println(&quot;c = &quot; + c);\r\n        } \t\r\n        public static void main(String[] args) { \t\r\n        Test_Class f = new Test_Class(); \t\r\n        f.printAll(); \t\r\n        } }\r\n\r\nNote: The output is blank.\r\n\r\n\r\n  [1]: http://www.unicode.org/charts/PDF/U0000.pdf","title":"What&#39;s the default value of char?","body":"<p>The default value of char is null which is '\\u0000' as per <a href=\"http://www.unicode.org/charts/PDF/U0000.pdf\" rel=\"nofollow noreferrer\">Unicode chart</a>. Let us see how it works while printing out. </p>\n\n<pre><code>public class Test_Class {   \n     char c;\n     void printAll() {  \n       System.out.println(\"c = \" + c);\n    }   \n    public static void main(String[] args) {    \n    Test_Class f = new Test_Class();    \n    f.printAll();   \n    } }\n</code></pre>\n\n<p>Note: The output is blank.</p>\n"},{"tags":[],"owner":{"account_id":3834329,"reputation":2561,"user_id":3179070,"display_name":"javapedia.net"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1528335064,"creation_date":1528327087,"answer_id":50730920,"question_id":9909333,"body_markdown":"The default value of a char primitive type is &#39;\\u0000&#39;(null character) as stated in the Java Language Specification.\r\n\r\nThe shortcut for &#39;u0000&#39; is &#39;\\0&#39;, So the null can be represented either by &#39;u0000&#39; or &#39;\\0&#39;.\r\n\r\nThe below Java program validates null representations using instance char field &#39;c&#39;.&lt;code&gt;\r\n\r\n    public class DefaultValueForchar {\t\r\n    \tchar c;\r\n    \tpublic static void main(String[] args) {\r\n    \t\tchar c0 = &#39;\\0&#39;;\r\n    \t\tchar cu0000 = &#39;\\u0000&#39;;\r\n    \t\tDefaultValueForchar obj = new DefaultValueForchar();\r\n    \t\tSystem.out.println(obj.c);\r\n    \t\tSystem.out.println(c0);\r\n    \t\tSystem.out.println(cu0000);\r\n    \t\tSystem.out.println(c0==cu0000);\r\n    \t\tSystem.out.println(obj.c==c0);\r\n    \t\tSystem.out.println(obj.c==cu0000);\r\n    \t}\r\n    \r\n    }\r\n\r\n&lt;/code&gt;\r\n  [![output:][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/m4Pd2.png","title":"What&#39;s the default value of char?","body":"<p>The default value of a char primitive type is '\\u0000'(null character) as stated in the Java Language Specification.</p>\n\n<p>The shortcut for 'u0000' is '\\0', So the null can be represented either by 'u0000' or '\\0'.</p>\n\n<p>The below Java program validates null representations using instance char field 'c'.<code></p>\n\n<pre><code>public class DefaultValueForchar {  \n    char c;\n    public static void main(String[] args) {\n        char c0 = '\\0';\n        char cu0000 = '\\u0000';\n        DefaultValueForchar obj = new DefaultValueForchar();\n        System.out.println(obj.c);\n        System.out.println(c0);\n        System.out.println(cu0000);\n        System.out.println(c0==cu0000);\n        System.out.println(obj.c==c0);\n        System.out.println(obj.c==cu0000);\n    }\n\n}\n</code></pre>\n\n<p></code>\n  <a href=\"https://i.stack.imgur.com/m4Pd2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/m4Pd2.png\" alt=\"output:\"></a></p>\n"}],"owner":{"account_id":1360943,"reputation":1085,"user_id":1298336,"display_name":"user1298336"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":195621,"favorite_count":0,"down_vote_count":0,"up_vote_count":106,"accepted_answer_id":9909357,"answer_count":14,"score":106,"last_activity_date":1695308627,"creation_date":1332943930,"question_id":9909333,"body_markdown":"    char c = &#39;\\u0000&#39;;\r\n\r\nWhen I print `c`, it shows &#39;a&#39; in the command line window.  \r\n\r\nSo what&#39;s the default value of a `char` type field?  \r\n\r\nSomeone said `&#39;\\u0000&#39;` means null in Unicode; is that right?\r\n","title":"What&#39;s the default value of char?","body":"<pre><code>char c = '\\u0000';\n</code></pre>\n<p>When I print <code>c</code>, it shows 'a' in the command line window.</p>\n<p>So what's the default value of a <code>char</code> type field?</p>\n<p>Someone said <code>'\\u0000'</code> means null in Unicode; is that right?</p>\n"},{"tags":["java","hibernate","jpa"],"comments":[{"owner":{"account_id":30050,"reputation":2011,"user_id":81668,"accept_rate":100,"display_name":"Matthieu BROUILLARD"},"score":0,"creation_date":1270566749,"post_id":2585641,"comment_id":2593117,"body_markdown":"I guess that such a big problem depends a lot on your project and what is acceptable for it or not:\n\n- central deployment (JEE based for example) vs client-server like\n\n- several client version allowed at any time (=&gt; care on DB col removal, integrity constraints, ...)\n\n- hot deployment vs stop application accepted\n\n- ...","body":"I guess that such a big problem depends a lot on your project and what is acceptable for it or not:  - central deployment (JEE based for example) vs client-server like  - several client version allowed at any time (=&gt; care on DB col removal, integrity constraints, ...)  - hot deployment vs stop application accepted  - ..."}],"answers":[{"tags":[],"owner":{"account_id":110128,"reputation":55940,"user_id":291550,"accept_rate":90,"display_name":"Bozhidar Batsov"},"down_vote_count":0,"up_vote_count":40,"is_accepted":true,"score":40,"last_activity_date":1340298341,"creation_date":1270565286,"answer_id":2585763,"question_id":2585641,"body_markdown":"1. It&#39;s always recommended to generate the schema manually, preferably by a tool supporting database schema revisions, such as the great [Liquibase][1]. Generating the schema from the entities is great in theory, but were fragile in practice and causes lots of problems in the long run(trust me on this).\r\n\r\n2. In productions it&#39;s always best to have manually generated and review the schema.\r\n\r\n3. You make an update to an entity and create a matching update script(revision) to update your database schema to reflect the entity change. You can create a custom solution(I&#39;ve written a few) or use something more popular like liquibase(it even supports schema changes rollbacks). If you&#39;re using a build tool such as maven or ant - it&#39;s recommend to plug the db schema update util into the build process so that fresh builds stay in sync with the schema.\r\n\r\n\r\n  [1]: http://liquibase.org/","title":"Hibernate/JPA DB Schema Generation Best Practices","body":"<ol>\n<li><p>It's always recommended to generate the schema manually, preferably by a tool supporting database schema revisions, such as the great <a href=\"http://liquibase.org/\" rel=\"noreferrer\">Liquibase</a>. Generating the schema from the entities is great in theory, but were fragile in practice and causes lots of problems in the long run(trust me on this).</p></li>\n<li><p>In productions it's always best to have manually generated and review the schema.</p></li>\n<li><p>You make an update to an entity and create a matching update script(revision) to update your database schema to reflect the entity change. You can create a custom solution(I've written a few) or use something more popular like liquibase(it even supports schema changes rollbacks). If you're using a build tool such as maven or ant - it's recommend to plug the db schema update util into the build process so that fresh builds stay in sync with the schema.</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1270566702,"creation_date":1270566702,"answer_id":2585965,"question_id":2585641,"body_markdown":"Although disputable, I&#39;d say that the answer to all 3 questions is: let hibernate automatically generate the tables in the schema.\r\n\r\nI haven&#39;t had any problems with that so far. You might need to clean some field up manually from time to time, but this is no headache compared to separately keeping track of DDL scripts - i.e. managing their revisions and synchronizing them with entity changes (and vice-versa)\r\n\r\nFor deploying on production - an obvious tip - first make sure everything is generated OK on the test environment and then deploy on production.","title":"Hibernate/JPA DB Schema Generation Best Practices","body":"<p>Although disputable, I'd say that the answer to all 3 questions is: let hibernate automatically generate the tables in the schema.</p>\n\n<p>I haven't had any problems with that so far. You might need to clean some field up manually from time to time, but this is no headache compared to separately keeping track of DDL scripts - i.e. managing their revisions and synchronizing them with entity changes (and vice-versa)</p>\n\n<p>For deploying on production - an obvious tip - first make sure everything is generated OK on the test environment and then deploy on production.</p>\n"},{"tags":[],"owner":{"account_id":347517,"reputation":5454,"user_id":681671,"accept_rate":59,"display_name":"Dojo"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1432230489,"creation_date":1301821421,"answer_id":5528621,"question_id":2585641,"body_markdown":"Manually, because:\r\n\r\n 1. Same database may be used by different applications and not all of\r\n    them would be using hibernate or even java. Database schema should\r\n    not be dictated by ORM, it should be designed around the data and\r\n    business requirements.\r\n 2. The datatypes chosen by hibernate might not be best suited for the application.\r\n 3. As mentioned in an earlier comment, changes to the entities would require manual intervention if data loss is not acceptable.\r\n 4. Things such as additional properties (generic term not java\r\n        properties) on join tables work wonderfully in RDBMS but are\r\n            somewhat complex and inefficient to use in an ORM. Doing such a\r\n            mapping from ORM -&gt; RDBMS might create tables that are not\r\n            efficient. In theory, it is possible to build the exact same join\r\n            table using hibernate generated code, but it would require some\r\n            special care while writing the Entities.\r\n\r\nI would use automatic generation for standalone applications or databases that are accessed  via the same ORM layer and also if the app needs to be ported to different databases. It would save lot of time in by not requiring one to write and maintain DB vendor specific DDL scripts. ","title":"Hibernate/JPA DB Schema Generation Best Practices","body":"<p>Manually, because:</p>\n\n<ol>\n<li>Same database may be used by different applications and not all of\nthem would be using hibernate or even java. Database schema should\nnot be dictated by ORM, it should be designed around the data and\nbusiness requirements.</li>\n<li>The datatypes chosen by hibernate might not be best suited for the application.</li>\n<li>As mentioned in an earlier comment, changes to the entities would require manual intervention if data loss is not acceptable.</li>\n<li>Things such as additional properties (generic term not java\n    properties) on join tables work wonderfully in RDBMS but are\n        somewhat complex and inefficient to use in an ORM. Doing such a\n        mapping from ORM -> RDBMS might create tables that are not\n        efficient. In theory, it is possible to build the exact same join\n        table using hibernate generated code, but it would require some\n        special care while writing the Entities.</li>\n</ol>\n\n<p>I would use automatic generation for standalone applications or databases that are accessed  via the same ORM layer and also if the app needs to be ported to different databases. It would save lot of time in by not requiring one to write and maintain DB vendor specific DDL scripts. </p>\n"},{"tags":[],"owner":{"account_id":387465,"reputation":4697,"user_id":745827,"accept_rate":88,"display_name":"Cengiz"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1497525472,"creation_date":1306420739,"answer_id":6140395,"question_id":2585641,"body_markdown":"Like Bozhidar said, don&#180;t let Hibernate create&amp;update the database schema.\r\nLet your application create and update the database schema. \r\nFor java the best tool to do this is [Flyway][1]. You need to create one or more SQL files with DDL statements which are describing your database schema. These SQL files are then executed by Flyway. For more information look at the site of [Flyway][1].\r\n\r\n  [1]: http://flywaydb.org\r\n","title":"Hibernate/JPA DB Schema Generation Best Practices","body":"<p>Like Bozhidar said, dont let Hibernate create&amp;update the database schema.\nLet your application create and update the database schema. \nFor java the best tool to do this is <a href=\"http://flywaydb.org\" rel=\"nofollow noreferrer\">Flyway</a>. You need to create one or more SQL files with DDL statements which are describing your database schema. These SQL files are then executed by Flyway. For more information look at the site of <a href=\"http://flywaydb.org\" rel=\"nofollow noreferrer\">Flyway</a>.</p>\n"},{"tags":[],"owner":{"account_id":8812369,"reputation":364,"user_id":6585002,"display_name":"Ceddaerrix"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1481731964,"creation_date":1481731964,"answer_id":41147219,"question_id":2585641,"body_markdown":"I believe that a lot of what is being discussed or argued here should also be related to if you are more confortable with the code-first or the database-first approach.\r\n\r\nPersonally, I am more intended to go for latter and, making a reference to Single Responsibility Principle (SRP), I prefer having DB specialist handling the DB and an application specialist handling the application, than having the application handling the DB. Additionally, I am of the opinion that taking too many shortcuts will work fine at the beginning but create unmanageable problems as things grow/evolve.","title":"Hibernate/JPA DB Schema Generation Best Practices","body":"<p>I believe that a lot of what is being discussed or argued here should also be related to if you are more confortable with the code-first or the database-first approach.</p>\n\n<p>Personally, I am more intended to go for latter and, making a reference to Single Responsibility Principle (SRP), I prefer having DB specialist handling the DB and an application specialist handling the application, than having the application handling the DB. Additionally, I am of the opinion that taking too many shortcuts will work fine at the beginning but create unmanageable problems as things grow/evolve.</p>\n"},{"tags":[],"owner":{"account_id":29317993,"reputation":31,"user_id":22462274,"display_name":"unimatrix10"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695308383,"creation_date":1695308383,"answer_id":77151445,"question_id":2585641,"body_markdown":"TL;DR: Hibernate recommends manual administration for production environments\r\n\r\nhttps://docs.jboss.org/hibernate/orm/6.3/userguide/html_single/Hibernate_User_Guide.html#best-practices-schema","title":"Hibernate/JPA DB Schema Generation Best Practices","body":"<p>TL;DR: Hibernate recommends manual administration for production environments</p>\n<p><a href=\"https://docs.jboss.org/hibernate/orm/6.3/userguide/html_single/Hibernate_User_Guide.html#best-practices-schema\" rel=\"nofollow noreferrer\">https://docs.jboss.org/hibernate/orm/6.3/userguide/html_single/Hibernate_User_Guide.html#best-practices-schema</a></p>\n"}],"owner":{"account_id":118571,"reputation":47102,"user_id":309683,"accept_rate":68,"display_name":"Behrang Saeedzadeh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22475,"favorite_count":0,"down_vote_count":0,"up_vote_count":48,"accepted_answer_id":2585763,"answer_count":6,"score":48,"last_activity_date":1695308383,"creation_date":1270564609,"question_id":2585641,"body_markdown":"I just wanted to hear the opinion of Hibernate experts about DB schema generation best practices for Hibernate/JPA based projects. Especially:\r\n\r\n 1. What strategy to use when the project has just started? Is it recommended to let Hibernate automatically generate the schema in this phase or is it better to create the database tables manually from earliest phases of the project?\r\n \r\n 2. Pretending that throughout the project the schema was being generated using Hibernate, is it better to disable automatic schema generation and manually create the database schema just before the system is released into production?\r\n \r\n 3. And after the system has been released into production, what is the best practice for maintaining the entity classes and the DB schema (e.g. adding/renaming/updating columns, renaming tables, etc.)?","title":"Hibernate/JPA DB Schema Generation Best Practices","body":"<p>I just wanted to hear the opinion of Hibernate experts about DB schema generation best practices for Hibernate/JPA based projects. Especially:</p>\n\n<ol>\n<li><p>What strategy to use when the project has just started? Is it recommended to let Hibernate automatically generate the schema in this phase or is it better to create the database tables manually from earliest phases of the project?</p></li>\n<li><p>Pretending that throughout the project the schema was being generated using Hibernate, is it better to disable automatic schema generation and manually create the database schema just before the system is released into production?</p></li>\n<li><p>And after the system has been released into production, what is the best practice for maintaining the entity classes and the DB schema (e.g. adding/renaming/updating columns, renaming tables, etc.)?</p></li>\n</ol>\n"},{"tags":["java","mysql","spring","spring-boot","spring-security"],"comments":[{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":1,"creation_date":1695326019,"post_id":77151412,"comment_id":136013213,"body_markdown":"what does this question have to do with spring security? also the logs contain no stack trace or no error","body":"what does this question have to do with spring security? also the logs contain no stack trace or no error"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1695894609,"post_id":77151412,"comment_id":136085910,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":26610565,"reputation":21,"user_id":20230821,"display_name":"Ijaas Fouzer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695308167,"creation_date":1695308167,"question_id":77151412,"body_markdown":"\r\n\r\n        package com.example.hotel.repo.implementation;  \r\n        import com.example.hotel.domain.Role;\r\n        import com.example.hotel.domain.User;\r\n        import com.example.hotel.exception.ApiException;\r\n        import com.example.hotel.repo.RoleRepository;\r\n        import com.example.hotel.repo.UserRepository;\r\n        import lombok.RequiredArgsConstructor;\r\n        import lombok.extern.slf4j.Slf4j;\r\n        import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n        import org.springframework.dao.EmptyResultDataAccessException;\r\n        import org.springframework.jdbc.core.namedparam.MapSqlParameterSource;\r\n        import org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate;\r\n        import org.springframework.jdbc.core.namedparam.SqlParameterSource;\r\n        import org.springframework.jdbc.support.GeneratedKeyHolder;\r\n        import org.springframework.jdbc.support.KeyHolder;\r\n        import org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\n        \r\n        import org.springframework.stereotype.Repository;\r\n        import org.springframework.web.servlet.support.ServletUriComponentsBuilder;\r\n        \r\n        import java.util.Collection;\r\n        import java.util.Objects;\r\n        import java.util.UUID;\r\n        \r\n        import static com.example.hotel.enumeration.RoleType.ROLE_USER;\r\n        import static com.example.hotel.enumeration.VerificationType.ACCOUNT;\r\n        import static com.example.hotel.query.UserQuery.*;\r\n        import static java.util.Map.of;\r\n        import static java.util.Objects.requireNonNull;\r\n        \r\n        @Repository\r\n        @RequiredArgsConstructor\r\n        @Slf4j\r\n        public class UserRepositoryImpl implements UserRepository &lt;User&gt; {\r\n            private final NamedParameterJdbcTemplate jdbc;\r\n            private final RoleRepository &lt;Role&gt; roleRepository;\r\n            private final BCryptPasswordEncoder encoder;\r\n        \r\n            @Override\r\n            public User create(User user) {\r\n                //check the email whether unique\r\n                if (getEmailCount(user.getEmail().trim().toLowerCase()) &gt; 0)\r\n                    throw new ApiException(&quot;Email already in use. Please use another email and try again&quot;);\r\n                //save new user\r\n               try {\r\n                    KeyHolder holder = new GeneratedKeyHolder(); //get the id from the database\r\n        \r\n                    SqlParameterSource parameters = getSqlParameterSource(user); // set the parameters and get the firstname lastname and details\r\n                    jdbc.update(INSERT_USER_QUERY, parameters, holder); // to update the database after getting the user details\r\n                    //setting a id\r\n                    user.setId(requireNonNull(holder.getKey()).longValue());\r\n                    //setting a role\r\n                    roleRepository.addRoleToUser(user.getId(), ROLE_USER.name());\r\n                    // send verification url\r\n                    String verificationUrl = getVerificationUrl(UUID.randomUUID().toString(), ACCOUNT.getType());\r\n                    // save url in verification table\r\n                    jdbc.update(INSERT_ACCOUNT_VERIFICATION_URL_QUERY, of(&quot;userId&quot;, user.getId(), &quot;url&quot;, verificationUrl)); //userId and url is mapped to INSERT_ACCOUNT_VERIFICATION_URL_QUERY\r\n                    // send email to user with verification url\r\n                    // emailService.sendVerificationUrl(user.getFirstName(), user.getEmail(), verificationUrl, ACCOUNT);\r\n                    user.setEnabled(false);\r\n                    user.setNotLocked(true);\r\n                    // return newly created user\r\n                    return user;\r\n                    // if any errors, throw exception with proper message\r\n                } catch (Exception exception) {\r\n                   log.error(&quot;Error occurred while creating a user: {}&quot;, exception.getMessage(), exception);\r\n                   throw new ApiException(&quot;An error occurred. Please try again.&quot;);\r\n               }\r\n            }\r\n            @Override\r\n            public Collection&lt;User&gt; list(int page, int pageSize) {\r\n                return null;\r\n            }\r\n        \r\n            @Override\r\n            public User get(Long id) {\r\n                return null;\r\n            }\r\n        \r\n            @Override\r\n            public User update(User data) {\r\n                return null;\r\n            }\r\n        \r\n            @Override\r\n            public boolean delete(Long id) {\r\n                return false;\r\n            }\r\n            private Integer getEmailCount(String email) {\r\n                return jdbc.queryForObject(COUNT_USER_EMAIL_QUERY, of(&quot;email&quot;, email), Integer.class);\r\n            }\r\n        \r\n            private SqlParameterSource getSqlParameterSource(User user) {\r\n                return new MapSqlParameterSource()\r\n                        .addValue(&quot;firstName&quot;, user.getFirstName())\r\n                        .addValue(&quot;lastName&quot;, user.getLastName())\r\n                        .addValue(&quot;email&quot;, user.getEmail())\r\n                        .addValue(&quot;password&quot;, encoder.encode(user.getPassword()));\r\n        \r\n            }\r\n            private String getVerificationUrl(String key, String type){\r\n                return ServletUriComponentsBuilder.fromCurrentContextPath().path(&quot;/user/verify/&quot; + type + &quot;/&quot; + key).toUriString(); //backend url is extracted\r\n            }\r\n        \r\n        \r\n        \r\n        }\r\n        \r\n        package com.example.hotel.repo;\r\n        \r\n        import com.example.hotel.domain.User;\r\n        \r\n        import java.util.Collection;\r\n        \r\n        public interface UserRepository &lt;T extends User&gt;{\r\n            /* Basic CRUD Operation */\r\n            T create(T data);\r\n            Collection &lt;T&gt; list(int page, int pageSize);\r\n            T get(Long id);\r\n        \r\n            T update(T data);\r\n            boolean delete(Long id);\r\n        \r\n            /* More CRUD Operation */\r\n        \r\n        }\r\n        \r\n        package com.example.hotel.domain;\r\n        \r\n        import com.fasterxml.jackson.annotation.JsonInclude;\r\n        import lombok.AllArgsConstructor;\r\n        import lombok.Data;\r\n        import lombok.NoArgsConstructor;\r\n        import lombok.experimental.SuperBuilder;\r\n        \r\n        import static com.fasterxml.jackson.annotation.JsonInclude.Include.NON_DEFAULT;\r\n        \r\n        @Data\r\n        @SuperBuilder\r\n        @NoArgsConstructor\r\n        @AllArgsConstructor\r\n        @JsonInclude(NON_DEFAULT)\r\n        public class Role {\r\n            private Long id;\r\n            private String name;\r\n            private String permission;\r\n        \r\n        }\r\n        package com.example.hotel.domain;\r\n        \r\n        import com.fasterxml.jackson.annotation.JsonInclude;\r\n        import jakarta.persistence.Entity;\r\n        import jakarta.validation.constraints.Email;\r\n        import jakarta.validation.constraints.NotEmpty;\r\n        import lombok.AllArgsConstructor;\r\n        import lombok.Data;\r\n        import lombok.NoArgsConstructor;\r\n        import lombok.experimental.SuperBuilder;\r\n        \r\n        import java.time.LocalDateTime;\r\n        \r\n        import static com.fasterxml.jackson.annotation.JsonInclude.Include.NON_DEFAULT;\r\n        \r\n        @Data\r\n        @SuperBuilder\r\n        @NoArgsConstructor\r\n        @AllArgsConstructor\r\n        @JsonInclude(NON_DEFAULT)\r\n        public class User {\r\n            private Long id;\r\n            @NotEmpty(message = &quot;First name cannot be empty&quot;)\r\n            private String firstName;\r\n            @NotEmpty(message = &quot;Last name cannot be empty&quot;)\r\n            private String lastName;\r\n            @NotEmpty(message = &quot;Email cannot be empty&quot;)\r\n            @Email(message = &quot;Invalid email. Please enter a valid email&quot;)\r\n            private String email;\r\n            @NotEmpty(message = &quot;Password cannot be empty&quot;)\r\n            private String password;\r\n            private String address;\r\n            private String phone;\r\n            private String title;\r\n            private String bio;\r\n            private String imageUrl;\r\n            private boolean enabled;\r\n            private boolean isNotLocked;\r\n            private boolean isUsingMfa;\r\n            private LocalDateTime createdAt;\r\n        }\r\n        \r\n**These are my class files, As i have been trying to insert data into the database via Insomnia I have been as**\r\n\r\n        {\r\n        \r\n        \t&quot;firstName&quot;: &quot;ijas&quot;,\r\n        \t&quot;lastName&quot;: &quot;me&quot;,\r\n        \t&quot;email&quot;: &quot;undyin2@gmail.com&quot;,\r\n        \t&quot;password&quot; : &quot;123456&quot;\r\n        }\r\n\r\nI get the response as \r\n\r\n        {\r\n        \t&quot;timestamp&quot;: &quot;2023-09-21T14:17:06.086+00:00&quot;,\r\n        \t&quot;status&quot;: 500,\r\n        \t&quot;error&quot;: &quot;Internal Server Error&quot;,\r\n        \t&quot;path&quot;: &quot;/user/register&quot;\r\n        }\r\n      \r\nThe stack trace gives \r\n      \r\n        \r\n        &quot;C:\\Program Files\\jdk-20_windows-x64_bin\\jdk-20.0.1\\bin\\java.exe&quot; -XX:TieredStopAtLevel=1 -Dspring.output.ansi.enabled=always -Dcom.sun.management.jmxremote -Dspring.jmx.enabled=true -Dspring.liveBeansView.mbeanDomain -Dspring.application.admin.enabled=true &quot;-Dmanagement.endpoints.jmx.exposure.include=*&quot; &quot;-javaagent:D:\\Program Files\\JetBrains\\IntelliJ IDEA 2023.2.1\\lib\\idea_rt.jar=59724:D:\\Program Files\\JetBrains\\IntelliJ IDEA 2023.2.1\\bin&quot; -Dfile.encoding=UTF-8 -Dsun.stdout.encoding=UTF-8 -Dsun.stderr.encoding=UTF-8 -classpath C:\\Users\\ASUS\\Documents\\Hotel-Management\\server\\target\\classes;C:\\Users\\ASUS\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-web\\3.1.3\\spring-boot-starter-web-3.1.3.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter\\3.1.3\\spring-boot-starter-3.1.3.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\springframework\\boot\\spring-boot\\3.1.3\\spring-boot-3.1.3.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\springframework\\boot\\spring-boot-autoconfigure\\3.1.3\\spring-boot-autoconfigure-3.1.3.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-logging\\3.1.3\\spring-boot-starter-logging-3.1.3.jar;C:\\Users\\ASUS\\.m2\\repository\\ch\\qos\\logback\\logback-classic\\1.4.11\\logback-classic-1.4.11.jar;C:\\Users\\ASUS\\.m2\\repository\\ch\\qos\\logback\\logback-core\\1.4.11\\logback-core-1.4.11.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\apache\\logging\\log4j\\log4j-to-slf4j\\2.20.0\\log4j-to-slf4j-2.20.0.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\apache\\logging\\log4j\\log4j-api\\2.20.0\\log4j-api-2.20.0.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\slf4j\\jul-to-slf4j\\2.0.7\\jul-to-slf4j-2.0.7.jar;C:\\Users\\ASUS\\.m2\\repository\\jakarta\\annotation\\jakarta.annotation-api\\2.1.1\\jakarta.annotation-api-2.1.1.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\yaml\\snakeyaml\\1.33\\snakeyaml-1.33.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-json\\3.1.3\\spring-boot-starter-json-3.1.3.jar;C:\\Users\\ASUS\\.m2\\repository\\com\\fasterxml\\jackson\\core\\jackson-databind\\2.15.2\\jackson-databind-2.15.2.jar;C:\\Users\\ASUS\\.m2\\repository\\com\\fasterxml\\jackson\\core\\jackson-annotations\\2.15.2\\jackson-annotations-2.15.2.jar;C:\\Users\\ASUS\\.m2\\repository\\com\\fasterxml\\jackson\\core\\jackson-core\\2.15.2\\jackson-core-2.15.2.jar;C:\\Users\\ASUS\\.m2\\repository\\com\\fasterxml\\jackson\\datatype\\jackson-datatype-jdk8\\2.15.2\\jackson-datatype-jdk8-2.15.2.jar;C:\\Users\\ASUS\\.m2\\repository\\com\\fasterxml\\jackson\\datatype\\jackson-datatype-jsr310\\2.15.2\\jackson-datatype-jsr310-2.15.2.jar;C:\\Users\\ASUS\\.m2\\repository\\com\\fasterxml\\jackson\\module\\jackson-module-parameter-names\\2.15.2\\jackson-module-parameter-names-2.15.2.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-tomcat\\3.1.3\\spring-boot-starter-tomcat-3.1.3.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\apache\\tomcat\\embed\\tomcat-embed-core\\10.1.12\\tomcat-embed-core-10.1.12.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\apache\\tomcat\\embed\\tomcat-embed-websocket\\10.1.12\\tomcat-embed-websocket-10.1.12.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\springframework\\spring-web\\6.0.11\\spring-web-6.0.11.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\springframework\\spring-beans\\6.0.11\\spring-beans-6.0.11.jar;C:\\Users\\ASUS\\.m2\\repository\\io\\micrometer\\micrometer-observation\\1.11.3\\micrometer-observation-1.11.3.jar;C:\\Users\\ASUS\\.m2\\repository\\io\\micrometer\\micrometer-commons\\1.11.3\\micrometer-commons-1.11.3.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\springframework\\spring-webmvc\\6.0.11\\spring-webmvc-6.0.11.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\springframework\\spring-context\\6.0.11\\spring-context-6.0.11.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\springframework\\spring-expression\\6.0.11\\spring-expression-6.0.11.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-security\\3.1.3\\spring-boot-starter-security-3.1.3.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\springframework\\spring-aop\\6.0.11\\spring-aop-6.0.11.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\springframework\\security\\spring-security-config\\6.1.3\\spring-security-config-6.1.3.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\springframework\\security\\spring-security-core\\6.1.3\\spring-security-core-6.1.3.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\springframework\\security\\spring-security-crypto\\6.1.3\\spring-security-crypto-6.1.3.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\springframework\\security\\spring-security-web\\6.1.3\\spring-security-web-6.1.3.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-validation\\3.1.3\\spring-boot-starter-validation-3.1.3.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\apache\\tomcat\\embed\\tomcat-embed-el\\10.1.12\\tomcat-embed-el-10.1.12.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\hibernate\\validator\\hibernate-validator\\8.0.1.Final\\hibernate-validator-8.0.1.Final.jar;C:\\Users\\ASUS\\.m2\\repository\\jakarta\\validation\\jakarta.validation-api\\3.0.2\\jakarta.validation-api-3.0.2.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\jboss\\logging\\jboss-logging\\3.5.3.Final\\jboss-logging-3.5.3.Final.jar;C:\\Users\\ASUS\\.m2\\repository\\com\\fasterxml\\classmate\\1.5.1\\classmate-1.5.1.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-data-jpa\\3.1.3\\spring-boot-starter-data-jpa-3.1.3.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-aop\\3.1.3\\spring-boot-starter-aop-3.1.3.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\aspectj\\aspectjweaver\\1.9.20\\aspectjweaver-1.9.20.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-jdbc\\3.1.3\\spring-boot-starter-jdbc-3.1.3.jar;C:\\Users\\ASUS\\.m2\\repository\\com\\zaxxer\\HikariCP\\5.0.1\\HikariCP-5.0.1.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\springframework\\spring-jdbc\\6.0.11\\spring-jdbc-6.0.11.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\hibernate\\orm\\hibernate-core\\6.2.7.Final\\hibernate-core-6.2.7.Final.jar;C:\\Users\\ASUS\\.m2\\repository\\jakarta\\persistence\\jakarta.persistence-api\\3.1.0\\jakarta.persistence-api-3.1.0.jar;C:\\Users\\ASUS\\.m2\\repository\\jakarta\\transaction\\jakarta.transaction-api\\2.0.1\\jakarta.transaction-api-2.0.1.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\hibernate\\common\\hibernate-commons-annotations\\6.0.6.Final\\hibernate-commons-annotations-6.0.6.Final.jar;C:\\Users\\ASUS\\.m2\\repository\\io\\smallrye\\jandex\\3.0.5\\jandex-3.0.5.jar;C:\\Users\\ASUS\\.m2\\repository\\net\\bytebuddy\\byte-buddy\\1.14.6\\byte-buddy-1.14.6.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\glassfish\\jaxb\\jaxb-runtime\\4.0.3\\jaxb-runtime-4.0.3.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\glassfish\\jaxb\\jaxb-core\\4.0.3\\jaxb-core-4.0.3.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\eclipse\\angus\\angus-activation\\2.0.1\\angus-activation-2.0.1.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\glassfish\\jaxb\\txw2\\4.0.3\\txw2-4.0.3.jar;C:\\Users\\ASUS\\.m2\\repository\\com\\sun\\istack\\istack-commons-runtime\\4.1.2\\istack-commons-runtime-4.1.2.jar;C:\\Users\\ASUS\\.m2\\repository\\jakarta\\inject\\jakarta.inject-api\\2.0.1\\jakarta.inject-api-2.0.1.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\antlr\\antlr4-runtime\\4.10.1\\antlr4-runtime-4.10.1.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\springframework\\data\\spring-data-jpa\\3.1.3\\spring-data-jpa-3.1.3.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\springframework\\data\\spring-data-commons\\3.1.3\\spring-data-commons-3.1.3.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\springframework\\spring-orm\\6.0.11\\spring-orm-6.0.11.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\springframework\\spring-tx\\6.0.11\\spring-tx-6.0.11.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\slf4j\\slf4j-api\\2.0.7\\slf4j-api-2.0.7.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\springframework\\spring-aspects\\6.0.11\\spring-aspects-6.0.11.jar;C:\\Users\\ASUS\\.m2\\repository\\com\\mysql\\mysql-connector-j\\8.0.33\\mysql-connector-j-8.0.33.jar;C:\\Users\\ASUS\\.m2\\repository\\jakarta\\xml\\bind\\jakarta.xml.bind-api\\4.0.0\\jakarta.xml.bind-api-4.0.0.jar;C:\\Users\\ASUS\\.m2\\repository\\jakarta\\activation\\jakarta.activation-api\\2.1.2\\jakarta.activation-api-2.1.2.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\springframework\\spring-core\\6.0.11\\spring-core-6.0.11.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\springframework\\spring-jcl\\6.0.11\\spring-jcl-6.0.11.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\projectlombok\\lombok\\1.18.28\\lombok-1.18.28.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\modelmapper\\modelmapper\\3.1.1\\modelmapper-3.1.1.jar com.example.hotel.HotelBackend\r\n        \r\n          .   ____          _            __ _ _\r\n         /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n        ( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n         \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n          &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n         =========|_|==============|___/=/_/_/_/\r\n         :: Spring Boot ::                (v3.1.3)\r\n        \r\n        2023-09-21T19:59:18.917+05:30  INFO 1636 --- [           main] com.example.hotel.HotelBackend           : Starting HotelBackend using Java 20.0.1 with PID 1636 (C:\\Users\\ASUS\\Documents\\Hotel-Management\\server\\target\\classes started by ASUS in C:\\Users\\ASUS\\Documents\\Hotel-Management\\server)\r\n        2023-09-21T19:59:18.919+05:30  INFO 1636 --- [           main] com.example.hotel.HotelBackend           : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n        2023-09-21T19:59:19.287+05:30  INFO 1636 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n        2023-09-21T19:59:19.329+05:30  INFO 1636 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 37 ms. Found 1 JPA repository interfaces.\r\n        2023-09-21T19:59:19.631+05:30  INFO 1636 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n        2023-09-21T19:59:19.637+05:30  INFO 1636 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n        2023-09-21T19:59:19.637+05:30  INFO 1636 --- [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.12]\r\n        2023-09-21T19:59:19.691+05:30  INFO 1636 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n        2023-09-21T19:59:19.691+05:30  INFO 1636 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 746 ms\r\n        2023-09-21T19:59:19.775+05:30  INFO 1636 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\r\n        2023-09-21T19:59:19.807+05:30  INFO 1636 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.7.Final\r\n        2023-09-21T19:59:19.808+05:30  INFO 1636 --- [           main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer\r\n        2023-09-21T19:59:19.896+05:30  INFO 1636 --- [           main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy\r\n        2023-09-21T19:59:19.977+05:30  INFO 1636 --- [           main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer\r\n        2023-09-21T19:59:19.987+05:30  INFO 1636 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\r\n        2023-09-21T19:59:20.193+05:30  INFO 1636 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@6e5f5478\r\n        2023-09-21T19:59:20.194+05:30  INFO 1636 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\r\n        2023-09-21T19:59:20.341+05:30  INFO 1636 --- [           main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy\r\n        2023-09-21T19:59:20.755+05:30  INFO 1636 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\r\n        2023-09-21T19:59:20.787+05:30  INFO 1636 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n        2023-09-21T19:59:20.941+05:30  INFO 1636 --- [           main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.\r\n        2023-09-21T19:59:21.027+05:30  WARN 1636 --- [           main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\r\n        2023-09-21T19:59:21.219+05:30  INFO 1636 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path &#39;&#39;\r\n        2023-09-21T19:59:21.224+05:30  INFO 1636 --- [           main] com.example.hotel.HotelBackend           : Started HotelBackend in 2.539 seconds (process running for 2.927)\r\n        \r\n**So i have been trying to solve this error for long time, i would really appreciate if somebody could help me solve this error.**\r\n        \r\nI will also share the query codes below as to how it is queried into the database. And to note, i get data inserted successfully to the database yet i get an error of exception that leads me to a generic stack trace as shared. \r\n        \r\n        package com.example.hotel.query;\r\n        \r\n        public class RoleQuery {\r\n            public static final String INSERT_ROLE_TO_USER_QUERY = &quot;INSERT INTO UserRoles (user_id, role_id) VALUES (:userId, :roleId) &quot;;\r\n            public static final String SELECT_ROLE_BY_NAME_QUERY = &quot;SELECT * FROM Roles WHERE name = :name&quot;;\r\n        }\r\n        \r\n        package com.example.hotel.query;\r\n        \r\n        public class UserQuery {\r\n        \r\n            public static final String INSERT_USER_QUERY = &quot;INSERT INTO Users (first_name, last_name, email, password) VALUES (:firstName, :lastName, :email, :password)&quot;;\r\n            //NamedParmeter is used this way.\r\n            public static final String COUNT_USER_EMAIL_QUERY = &quot;SELECT COUNT(*) FROM Users WHERE email = :email&quot;;\r\n            public static final String INSERT_ACCOUNT_VERIFICATION_URL_QUERY = &quot;INSERT INTO AccountVerifications (user_id, url) VALUES (:userId, :url)&quot;;\r\n        }\r\n        [![enter image description here][1]][1]\r\n      \r\n        \r\n        \r\n          [1]: https://i.stack.imgur.com/9Zo00.png","title":"Generic exception when developing Spring Boot 3 API with Insomnia","body":"<pre><code>    package com.example.hotel.repo.implementation;  \n    import com.example.hotel.domain.Role;\n    import com.example.hotel.domain.User;\n    import com.example.hotel.exception.ApiException;\n    import com.example.hotel.repo.RoleRepository;\n    import com.example.hotel.repo.UserRepository;\n    import lombok.RequiredArgsConstructor;\n    import lombok.extern.slf4j.Slf4j;\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\n    import org.springframework.dao.EmptyResultDataAccessException;\n    import org.springframework.jdbc.core.namedparam.MapSqlParameterSource;\n    import org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate;\n    import org.springframework.jdbc.core.namedparam.SqlParameterSource;\n    import org.springframework.jdbc.support.GeneratedKeyHolder;\n    import org.springframework.jdbc.support.KeyHolder;\n    import org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\n    \n    import org.springframework.stereotype.Repository;\n    import org.springframework.web.servlet.support.ServletUriComponentsBuilder;\n    \n    import java.util.Collection;\n    import java.util.Objects;\n    import java.util.UUID;\n    \n    import static com.example.hotel.enumeration.RoleType.ROLE_USER;\n    import static com.example.hotel.enumeration.VerificationType.ACCOUNT;\n    import static com.example.hotel.query.UserQuery.*;\n    import static java.util.Map.of;\n    import static java.util.Objects.requireNonNull;\n    \n    @Repository\n    @RequiredArgsConstructor\n    @Slf4j\n    public class UserRepositoryImpl implements UserRepository &lt;User&gt; {\n        private final NamedParameterJdbcTemplate jdbc;\n        private final RoleRepository &lt;Role&gt; roleRepository;\n        private final BCryptPasswordEncoder encoder;\n    \n        @Override\n        public User create(User user) {\n            //check the email whether unique\n            if (getEmailCount(user.getEmail().trim().toLowerCase()) &gt; 0)\n                throw new ApiException(&quot;Email already in use. Please use another email and try again&quot;);\n            //save new user\n           try {\n                KeyHolder holder = new GeneratedKeyHolder(); //get the id from the database\n    \n                SqlParameterSource parameters = getSqlParameterSource(user); // set the parameters and get the firstname lastname and details\n                jdbc.update(INSERT_USER_QUERY, parameters, holder); // to update the database after getting the user details\n                //setting a id\n                user.setId(requireNonNull(holder.getKey()).longValue());\n                //setting a role\n                roleRepository.addRoleToUser(user.getId(), ROLE_USER.name());\n                // send verification url\n                String verificationUrl = getVerificationUrl(UUID.randomUUID().toString(), ACCOUNT.getType());\n                // save url in verification table\n                jdbc.update(INSERT_ACCOUNT_VERIFICATION_URL_QUERY, of(&quot;userId&quot;, user.getId(), &quot;url&quot;, verificationUrl)); //userId and url is mapped to INSERT_ACCOUNT_VERIFICATION_URL_QUERY\n                // send email to user with verification url\n                // emailService.sendVerificationUrl(user.getFirstName(), user.getEmail(), verificationUrl, ACCOUNT);\n                user.setEnabled(false);\n                user.setNotLocked(true);\n                // return newly created user\n                return user;\n                // if any errors, throw exception with proper message\n            } catch (Exception exception) {\n               log.error(&quot;Error occurred while creating a user: {}&quot;, exception.getMessage(), exception);\n               throw new ApiException(&quot;An error occurred. Please try again.&quot;);\n           }\n        }\n        @Override\n        public Collection&lt;User&gt; list(int page, int pageSize) {\n            return null;\n        }\n    \n        @Override\n        public User get(Long id) {\n            return null;\n        }\n    \n        @Override\n        public User update(User data) {\n            return null;\n        }\n    \n        @Override\n        public boolean delete(Long id) {\n            return false;\n        }\n        private Integer getEmailCount(String email) {\n            return jdbc.queryForObject(COUNT_USER_EMAIL_QUERY, of(&quot;email&quot;, email), Integer.class);\n        }\n    \n        private SqlParameterSource getSqlParameterSource(User user) {\n            return new MapSqlParameterSource()\n                    .addValue(&quot;firstName&quot;, user.getFirstName())\n                    .addValue(&quot;lastName&quot;, user.getLastName())\n                    .addValue(&quot;email&quot;, user.getEmail())\n                    .addValue(&quot;password&quot;, encoder.encode(user.getPassword()));\n    \n        }\n        private String getVerificationUrl(String key, String type){\n            return ServletUriComponentsBuilder.fromCurrentContextPath().path(&quot;/user/verify/&quot; + type + &quot;/&quot; + key).toUriString(); //backend url is extracted\n        }\n    \n    \n    \n    }\n    \n    package com.example.hotel.repo;\n    \n    import com.example.hotel.domain.User;\n    \n    import java.util.Collection;\n    \n    public interface UserRepository &lt;T extends User&gt;{\n        /* Basic CRUD Operation */\n        T create(T data);\n        Collection &lt;T&gt; list(int page, int pageSize);\n        T get(Long id);\n    \n        T update(T data);\n        boolean delete(Long id);\n    \n        /* More CRUD Operation */\n    \n    }\n    \n    package com.example.hotel.domain;\n    \n    import com.fasterxml.jackson.annotation.JsonInclude;\n    import lombok.AllArgsConstructor;\n    import lombok.Data;\n    import lombok.NoArgsConstructor;\n    import lombok.experimental.SuperBuilder;\n    \n    import static com.fasterxml.jackson.annotation.JsonInclude.Include.NON_DEFAULT;\n    \n    @Data\n    @SuperBuilder\n    @NoArgsConstructor\n    @AllArgsConstructor\n    @JsonInclude(NON_DEFAULT)\n    public class Role {\n        private Long id;\n        private String name;\n        private String permission;\n    \n    }\n    package com.example.hotel.domain;\n    \n    import com.fasterxml.jackson.annotation.JsonInclude;\n    import jakarta.persistence.Entity;\n    import jakarta.validation.constraints.Email;\n    import jakarta.validation.constraints.NotEmpty;\n    import lombok.AllArgsConstructor;\n    import lombok.Data;\n    import lombok.NoArgsConstructor;\n    import lombok.experimental.SuperBuilder;\n    \n    import java.time.LocalDateTime;\n    \n    import static com.fasterxml.jackson.annotation.JsonInclude.Include.NON_DEFAULT;\n    \n    @Data\n    @SuperBuilder\n    @NoArgsConstructor\n    @AllArgsConstructor\n    @JsonInclude(NON_DEFAULT)\n    public class User {\n        private Long id;\n        @NotEmpty(message = &quot;First name cannot be empty&quot;)\n        private String firstName;\n        @NotEmpty(message = &quot;Last name cannot be empty&quot;)\n        private String lastName;\n        @NotEmpty(message = &quot;Email cannot be empty&quot;)\n        @Email(message = &quot;Invalid email. Please enter a valid email&quot;)\n        private String email;\n        @NotEmpty(message = &quot;Password cannot be empty&quot;)\n        private String password;\n        private String address;\n        private String phone;\n        private String title;\n        private String bio;\n        private String imageUrl;\n        private boolean enabled;\n        private boolean isNotLocked;\n        private boolean isUsingMfa;\n        private LocalDateTime createdAt;\n    }\n    \n</code></pre>\n<p><strong>These are my class files, As i have been trying to insert data into the database via Insomnia I have been as</strong></p>\n<pre><code>    {\n    \n        &quot;firstName&quot;: &quot;ijas&quot;,\n        &quot;lastName&quot;: &quot;me&quot;,\n        &quot;email&quot;: &quot;undyin2@gmail.com&quot;,\n        &quot;password&quot; : &quot;123456&quot;\n    }\n</code></pre>\n<p>I get the response as</p>\n<pre><code>    {\n        &quot;timestamp&quot;: &quot;2023-09-21T14:17:06.086+00:00&quot;,\n        &quot;status&quot;: 500,\n        &quot;error&quot;: &quot;Internal Server Error&quot;,\n        &quot;path&quot;: &quot;/user/register&quot;\n    }\n  \n</code></pre>\n<p>The stack trace gives</p>\n<pre><code>    &quot;C:\\Program Files\\jdk-20_windows-x64_bin\\jdk-20.0.1\\bin\\java.exe&quot; -XX:TieredStopAtLevel=1 -Dspring.output.ansi.enabled=always -Dcom.sun.management.jmxremote -Dspring.jmx.enabled=true -Dspring.liveBeansView.mbeanDomain -Dspring.application.admin.enabled=true &quot;-Dmanagement.endpoints.jmx.exposure.include=*&quot; &quot;-javaagent:D:\\Program Files\\JetBrains\\IntelliJ IDEA 2023.2.1\\lib\\idea_rt.jar=59724:D:\\Program Files\\JetBrains\\IntelliJ IDEA 2023.2.1\\bin&quot; -Dfile.encoding=UTF-8 -Dsun.stdout.encoding=UTF-8 -Dsun.stderr.encoding=UTF-8 -classpath C:\\Users\\ASUS\\Documents\\Hotel-Management\\server\\target\\classes;C:\\Users\\ASUS\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-web\\3.1.3\\spring-boot-starter-web-3.1.3.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter\\3.1.3\\spring-boot-starter-3.1.3.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\springframework\\boot\\spring-boot\\3.1.3\\spring-boot-3.1.3.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\springframework\\boot\\spring-boot-autoconfigure\\3.1.3\\spring-boot-autoconfigure-3.1.3.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-logging\\3.1.3\\spring-boot-starter-logging-3.1.3.jar;C:\\Users\\ASUS\\.m2\\repository\\ch\\qos\\logback\\logback-classic\\1.4.11\\logback-classic-1.4.11.jar;C:\\Users\\ASUS\\.m2\\repository\\ch\\qos\\logback\\logback-core\\1.4.11\\logback-core-1.4.11.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\apache\\logging\\log4j\\log4j-to-slf4j\\2.20.0\\log4j-to-slf4j-2.20.0.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\apache\\logging\\log4j\\log4j-api\\2.20.0\\log4j-api-2.20.0.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\slf4j\\jul-to-slf4j\\2.0.7\\jul-to-slf4j-2.0.7.jar;C:\\Users\\ASUS\\.m2\\repository\\jakarta\\annotation\\jakarta.annotation-api\\2.1.1\\jakarta.annotation-api-2.1.1.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\yaml\\snakeyaml\\1.33\\snakeyaml-1.33.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-json\\3.1.3\\spring-boot-starter-json-3.1.3.jar;C:\\Users\\ASUS\\.m2\\repository\\com\\fasterxml\\jackson\\core\\jackson-databind\\2.15.2\\jackson-databind-2.15.2.jar;C:\\Users\\ASUS\\.m2\\repository\\com\\fasterxml\\jackson\\core\\jackson-annotations\\2.15.2\\jackson-annotations-2.15.2.jar;C:\\Users\\ASUS\\.m2\\repository\\com\\fasterxml\\jackson\\core\\jackson-core\\2.15.2\\jackson-core-2.15.2.jar;C:\\Users\\ASUS\\.m2\\repository\\com\\fasterxml\\jackson\\datatype\\jackson-datatype-jdk8\\2.15.2\\jackson-datatype-jdk8-2.15.2.jar;C:\\Users\\ASUS\\.m2\\repository\\com\\fasterxml\\jackson\\datatype\\jackson-datatype-jsr310\\2.15.2\\jackson-datatype-jsr310-2.15.2.jar;C:\\Users\\ASUS\\.m2\\repository\\com\\fasterxml\\jackson\\module\\jackson-module-parameter-names\\2.15.2\\jackson-module-parameter-names-2.15.2.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-tomcat\\3.1.3\\spring-boot-starter-tomcat-3.1.3.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\apache\\tomcat\\embed\\tomcat-embed-core\\10.1.12\\tomcat-embed-core-10.1.12.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\apache\\tomcat\\embed\\tomcat-embed-websocket\\10.1.12\\tomcat-embed-websocket-10.1.12.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\springframework\\spring-web\\6.0.11\\spring-web-6.0.11.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\springframework\\spring-beans\\6.0.11\\spring-beans-6.0.11.jar;C:\\Users\\ASUS\\.m2\\repository\\io\\micrometer\\micrometer-observation\\1.11.3\\micrometer-observation-1.11.3.jar;C:\\Users\\ASUS\\.m2\\repository\\io\\micrometer\\micrometer-commons\\1.11.3\\micrometer-commons-1.11.3.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\springframework\\spring-webmvc\\6.0.11\\spring-webmvc-6.0.11.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\springframework\\spring-context\\6.0.11\\spring-context-6.0.11.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\springframework\\spring-expression\\6.0.11\\spring-expression-6.0.11.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-security\\3.1.3\\spring-boot-starter-security-3.1.3.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\springframework\\spring-aop\\6.0.11\\spring-aop-6.0.11.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\springframework\\security\\spring-security-config\\6.1.3\\spring-security-config-6.1.3.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\springframework\\security\\spring-security-core\\6.1.3\\spring-security-core-6.1.3.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\springframework\\security\\spring-security-crypto\\6.1.3\\spring-security-crypto-6.1.3.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\springframework\\security\\spring-security-web\\6.1.3\\spring-security-web-6.1.3.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-validation\\3.1.3\\spring-boot-starter-validation-3.1.3.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\apache\\tomcat\\embed\\tomcat-embed-el\\10.1.12\\tomcat-embed-el-10.1.12.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\hibernate\\validator\\hibernate-validator\\8.0.1.Final\\hibernate-validator-8.0.1.Final.jar;C:\\Users\\ASUS\\.m2\\repository\\jakarta\\validation\\jakarta.validation-api\\3.0.2\\jakarta.validation-api-3.0.2.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\jboss\\logging\\jboss-logging\\3.5.3.Final\\jboss-logging-3.5.3.Final.jar;C:\\Users\\ASUS\\.m2\\repository\\com\\fasterxml\\classmate\\1.5.1\\classmate-1.5.1.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-data-jpa\\3.1.3\\spring-boot-starter-data-jpa-3.1.3.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-aop\\3.1.3\\spring-boot-starter-aop-3.1.3.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\aspectj\\aspectjweaver\\1.9.20\\aspectjweaver-1.9.20.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-jdbc\\3.1.3\\spring-boot-starter-jdbc-3.1.3.jar;C:\\Users\\ASUS\\.m2\\repository\\com\\zaxxer\\HikariCP\\5.0.1\\HikariCP-5.0.1.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\springframework\\spring-jdbc\\6.0.11\\spring-jdbc-6.0.11.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\hibernate\\orm\\hibernate-core\\6.2.7.Final\\hibernate-core-6.2.7.Final.jar;C:\\Users\\ASUS\\.m2\\repository\\jakarta\\persistence\\jakarta.persistence-api\\3.1.0\\jakarta.persistence-api-3.1.0.jar;C:\\Users\\ASUS\\.m2\\repository\\jakarta\\transaction\\jakarta.transaction-api\\2.0.1\\jakarta.transaction-api-2.0.1.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\hibernate\\common\\hibernate-commons-annotations\\6.0.6.Final\\hibernate-commons-annotations-6.0.6.Final.jar;C:\\Users\\ASUS\\.m2\\repository\\io\\smallrye\\jandex\\3.0.5\\jandex-3.0.5.jar;C:\\Users\\ASUS\\.m2\\repository\\net\\bytebuddy\\byte-buddy\\1.14.6\\byte-buddy-1.14.6.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\glassfish\\jaxb\\jaxb-runtime\\4.0.3\\jaxb-runtime-4.0.3.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\glassfish\\jaxb\\jaxb-core\\4.0.3\\jaxb-core-4.0.3.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\eclipse\\angus\\angus-activation\\2.0.1\\angus-activation-2.0.1.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\glassfish\\jaxb\\txw2\\4.0.3\\txw2-4.0.3.jar;C:\\Users\\ASUS\\.m2\\repository\\com\\sun\\istack\\istack-commons-runtime\\4.1.2\\istack-commons-runtime-4.1.2.jar;C:\\Users\\ASUS\\.m2\\repository\\jakarta\\inject\\jakarta.inject-api\\2.0.1\\jakarta.inject-api-2.0.1.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\antlr\\antlr4-runtime\\4.10.1\\antlr4-runtime-4.10.1.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\springframework\\data\\spring-data-jpa\\3.1.3\\spring-data-jpa-3.1.3.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\springframework\\data\\spring-data-commons\\3.1.3\\spring-data-commons-3.1.3.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\springframework\\spring-orm\\6.0.11\\spring-orm-6.0.11.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\springframework\\spring-tx\\6.0.11\\spring-tx-6.0.11.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\slf4j\\slf4j-api\\2.0.7\\slf4j-api-2.0.7.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\springframework\\spring-aspects\\6.0.11\\spring-aspects-6.0.11.jar;C:\\Users\\ASUS\\.m2\\repository\\com\\mysql\\mysql-connector-j\\8.0.33\\mysql-connector-j-8.0.33.jar;C:\\Users\\ASUS\\.m2\\repository\\jakarta\\xml\\bind\\jakarta.xml.bind-api\\4.0.0\\jakarta.xml.bind-api-4.0.0.jar;C:\\Users\\ASUS\\.m2\\repository\\jakarta\\activation\\jakarta.activation-api\\2.1.2\\jakarta.activation-api-2.1.2.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\springframework\\spring-core\\6.0.11\\spring-core-6.0.11.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\springframework\\spring-jcl\\6.0.11\\spring-jcl-6.0.11.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\projectlombok\\lombok\\1.18.28\\lombok-1.18.28.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\modelmapper\\modelmapper\\3.1.1\\modelmapper-3.1.1.jar com.example.hotel.HotelBackend\n    \n      .   ____          _            __ _ _\n     /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n    ( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n     \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n      '  |____| .__|_| |_|_| |_\\__, | / / / /\n     =========|_|==============|___/=/_/_/_/\n     :: Spring Boot ::                (v3.1.3)\n    \n    2023-09-21T19:59:18.917+05:30  INFO 1636 --- [           main] com.example.hotel.HotelBackend           : Starting HotelBackend using Java 20.0.1 with PID 1636 (C:\\Users\\ASUS\\Documents\\Hotel-Management\\server\\target\\classes started by ASUS in C:\\Users\\ASUS\\Documents\\Hotel-Management\\server)\n    2023-09-21T19:59:18.919+05:30  INFO 1636 --- [           main] com.example.hotel.HotelBackend           : No active profile set, falling back to 1 default profile: &quot;default&quot;\n    2023-09-21T19:59:19.287+05:30  INFO 1636 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n    2023-09-21T19:59:19.329+05:30  INFO 1636 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 37 ms. Found 1 JPA repository interfaces.\n    2023-09-21T19:59:19.631+05:30  INFO 1636 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\n    2023-09-21T19:59:19.637+05:30  INFO 1636 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n    2023-09-21T19:59:19.637+05:30  INFO 1636 --- [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.12]\n    2023-09-21T19:59:19.691+05:30  INFO 1636 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n    2023-09-21T19:59:19.691+05:30  INFO 1636 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 746 ms\n    2023-09-21T19:59:19.775+05:30  INFO 1636 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\n    2023-09-21T19:59:19.807+05:30  INFO 1636 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.7.Final\n    2023-09-21T19:59:19.808+05:30  INFO 1636 --- [           main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer\n    2023-09-21T19:59:19.896+05:30  INFO 1636 --- [           main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy\n    2023-09-21T19:59:19.977+05:30  INFO 1636 --- [           main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer\n    2023-09-21T19:59:19.987+05:30  INFO 1636 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\n    2023-09-21T19:59:20.193+05:30  INFO 1636 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@6e5f5478\n    2023-09-21T19:59:20.194+05:30  INFO 1636 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\n    2023-09-21T19:59:20.341+05:30  INFO 1636 --- [           main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy\n    2023-09-21T19:59:20.755+05:30  INFO 1636 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\n    2023-09-21T19:59:20.787+05:30  INFO 1636 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'\n    2023-09-21T19:59:20.941+05:30  INFO 1636 --- [           main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.\n    2023-09-21T19:59:21.027+05:30  WARN 1636 --- [           main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\n    2023-09-21T19:59:21.219+05:30  INFO 1636 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''\n    2023-09-21T19:59:21.224+05:30  INFO 1636 --- [           main] com.example.hotel.HotelBackend           : Started HotelBackend in 2.539 seconds (process running for 2.927)\n    \n</code></pre>\n<p><strong>So i have been trying to solve this error for long time, i would really appreciate if somebody could help me solve this error.</strong></p>\n<p>I will also share the query codes below as to how it is queried into the database. And to note, i get data inserted successfully to the database yet i get an error of exception that leads me to a generic stack trace as shared.</p>\n<pre><code>    package com.example.hotel.query;\n    \n    public class RoleQuery {\n        public static final String INSERT_ROLE_TO_USER_QUERY = &quot;INSERT INTO UserRoles (user_id, role_id) VALUES (:userId, :roleId) &quot;;\n        public static final String SELECT_ROLE_BY_NAME_QUERY = &quot;SELECT * FROM Roles WHERE name = :name&quot;;\n    }\n    \n    package com.example.hotel.query;\n    \n    public class UserQuery {\n    \n        public static final String INSERT_USER_QUERY = &quot;INSERT INTO Users (first_name, last_name, email, password) VALUES (:firstName, :lastName, :email, :password)&quot;;\n        //NamedParmeter is used this way.\n        public static final String COUNT_USER_EMAIL_QUERY = &quot;SELECT COUNT(*) FROM Users WHERE email = :email&quot;;\n        public static final String INSERT_ACCOUNT_VERIFICATION_URL_QUERY = &quot;INSERT INTO AccountVerifications (user_id, url) VALUES (:userId, :url)&quot;;\n    }\n    [![enter image description here][1]][1]\n  \n    \n    \n      [1]: https://i.stack.imgur.com/9Zo00.png\n</code></pre>\n"},{"tags":["java","android","xml","fonts","aapt"],"comments":[{"owner":{"account_id":24020541,"reputation":754,"user_id":18002913,"display_name":"NewPartizal"},"score":0,"creation_date":1695310532,"post_id":77151011,"comment_id":136010263,"body_markdown":"I think the problem is caused by the font with aapt. It usually has the .otf extension as far as I know. If you download a font with .otf, maybe the problem can be solved.maybe it will work","body":"I think the problem is caused by the font with aapt. It usually has the .otf extension as far as I know. If you download a font with .otf, maybe the problem can be solved.maybe it will work"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1695333736,"post_id":77151011,"comment_id":136014357,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":29501586,"reputation":1,"user_id":22608471,"display_name":"Giuliano"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695307368,"creation_date":1695307287,"answer_id":77151299,"question_id":77151011,"body_markdown":"after you created your font folder, you have to place your font file into that folder and then reference to that file in  your application theme style\r\n\r\nso go to themes folder of your project and edit the style for the application theme, adding the item &quot;android:fontFamily&quot;\r\n\r\n    &lt;style name=&quot;Theme.MyApplication&quot;....&gt;\r\n    ...\r\n    \r\n    &lt;item name=&quot;android:fontFamily&quot;&gt;@font/myfontname&lt;/item&gt;\r\n    \r\n    ...\r\n    &lt;/style&gt;","title":"How to set custom font for my entire application","body":"<p>after you created your font folder, you have to place your font file into that folder and then reference to that file in  your application theme style</p>\n<p>so go to themes folder of your project and edit the style for the application theme, adding the item &quot;android:fontFamily&quot;</p>\n<pre><code>&lt;style name=&quot;Theme.MyApplication&quot;....&gt;\n...\n\n&lt;item name=&quot;android:fontFamily&quot;&gt;@font/myfontname&lt;/item&gt;\n\n...\n&lt;/style&gt;\n</code></pre>\n"}],"owner":{"account_id":28987078,"reputation":3,"user_id":22203694,"display_name":"Micah Okoh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695307368,"creation_date":1695305109,"question_id":77151011,"body_markdown":"I wanted to set custom font for app but I&#39;m receiving an error\r\n\r\nI tried to set custom font for my app using the method I saw from google. I added a font resource folder but I got an error saying &#39; aapt : invalid resource directory name My app/app/src/main/res font &#39;  .Please what do I do?","title":"How to set custom font for my entire application","body":"<p>I wanted to set custom font for app but I'm receiving an error</p>\n<p>I tried to set custom font for my app using the method I saw from google. I added a font resource folder but I got an error saying ' aapt : invalid resource directory name My app/app/src/main/res font '  .Please what do I do?</p>\n"},{"tags":["java","jna"],"answers":[{"tags":[],"owner":{"account_id":29180359,"reputation":1,"user_id":22354710,"display_name":"David Maffitt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695307213,"creation_date":1695307213,"answer_id":77151291,"question_id":77143900,"body_markdown":"The issue seems to be that loading a library is passed from JNA to a native loader without a larger context. If the native loader fails, JNA does not take any steps to remediate that failure. The consequence is that the native loader must be given all the context it needs independent of JNA. This means setting environment variables used by the native loader. For Macs, these are `DYLD_LIBRARY_PATH` and `DYLD_FALLBACK_FRAMEWORK_PATH`.  See `man dyld` for more info.\r\n\r\nMy approach is to use these variables to specify where my app will unpack the native dependencies. Now both JNA and the native loader know where to find the dependencies.","title":"How to load native library and its transitive native dependencies with JNA?","body":"<p>The issue seems to be that loading a library is passed from JNA to a native loader without a larger context. If the native loader fails, JNA does not take any steps to remediate that failure. The consequence is that the native loader must be given all the context it needs independent of JNA. This means setting environment variables used by the native loader. For Macs, these are <code>DYLD_LIBRARY_PATH</code> and <code>DYLD_FALLBACK_FRAMEWORK_PATH</code>.  See <code>man dyld</code> for more info.</p>\n<p>My approach is to use these variables to specify where my app will unpack the native dependencies. Now both JNA and the native loader know where to find the dependencies.</p>\n"}],"owner":{"account_id":29180359,"reputation":1,"user_id":22354710,"display_name":"David Maffitt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695307213,"creation_date":1695223327,"question_id":77143900,"body_markdown":"This comes up periodically but none of the answers work for me or are complete enough for me understand what is going on. For example, https://stackoverflow.com/questions/68974402/how-to-load-a-native-api-with-jna.\r\nI can get the primary lib to load, but none of its transitive dependencies. I have a single native lib that I need to make an interface for but it has many native libraries on which it depends.\r\nI have tried many variations of three approaches and not hit on the right combination.\r\n\r\n1. native libs directly on the classpath with various directory structures (&#39;darwin&#39; or &#39;darwin_x86_64&#39; in my case)\r\n2. native libs in a jar, jar on the classpath, sytem variable jna.nounpack=false\r\n3. native libs in a jar, jar is unpacked to a temp directory \\&lt;tmp&gt;, system variable jna.library.path=\\&lt;tmp&gt;\r\n\r\nI set jna_load_debug=true.  I can see the main lib getting loaded but subesequent failure because transitive dependencies are not loaded and there is no indication that the correct places are being searched. \r\n\r\nHere is some of the output from unpacking the native libs into a directory and setting jna.library.path\r\n\r\n    INFO: Adding paths from jna.library.path: /var/folders/cv/xl07kvgs0q91fv5w0x1y5mbh0000gn/T/snafu17797529543521833103\r\n    Sep 20, 2023 9:36:56 AM com.sun.jna.NativeLibrary loadLibrary\r\n    INFO: Trying /var/folders/cv/xl07kvgs0q91fv5w0x1y5mbh0000gn/T/snafu17797529543521833103/libstellarsolver.dylib\r\n    Sep 20, 2023 9:36:57 AM com.sun.jna.NativeLibrary loadLibrary\r\n\r\nNice! the temp directory containing the lib and its transitive dependencies is added to search path.\r\n\r\n    INFO: Loading failed with message: dlopen(/var/folders/cv/xl07kvgs0q91fv5w0x1y5mbh0000gn/T/snafu17797529543521833103/libstellarsolver.dylib, 0x0009): Library not loaded: @executable_path/../Frameworks/libcfitsio.4.dylib\r\n      Referenced from: &lt;ABEB0A7F-C1DB-3C8B-BB02-6A20D400CAAD&gt; /private/var/folders/cv/xl07kvgs0q91fv5w0x1y5mbh0000gn/T/snafu17797529543521833103/libstellarsolver.dylib\r\n      Reason: tried: &#39;/Library/Java/JavaVirtualMachines/temurin-17.jdk/Contents/Home/Frameworks/libcfitsio.4.dylib&#39; (no such file), &#39;/usr/lib/libcfitsio.4.dylib&#39; (no such file, not in dyld cache)\r\n\r\nThis indicates to me that libstellarsolver.dylib was found and JNA realizes it needs to find transitive dependency libcfitsio.4.dylib. There is this failure and others but there is never any indication that it looks in jna.library.path for this dependency. This is baffliing to me.\r\n\r\nThe stackoverflow question above suggests I might have to create an explicit search path for every transitive dependency. Can that be true? This seems like a commmon use case for JNA. Help is greatly appreciated.\r\n\r\n\r\nDave\r\n\r\n\r\n\r\n\r\n","title":"How to load native library and its transitive native dependencies with JNA?","body":"<p>This comes up periodically but none of the answers work for me or are complete enough for me understand what is going on. For example, <a href=\"https://stackoverflow.com/questions/68974402/how-to-load-a-native-api-with-jna\">How to load a native API with JNA</a>.\nI can get the primary lib to load, but none of its transitive dependencies. I have a single native lib that I need to make an interface for but it has many native libraries on which it depends.\nI have tried many variations of three approaches and not hit on the right combination.</p>\n<ol>\n<li>native libs directly on the classpath with various directory structures ('darwin' or 'darwin_x86_64' in my case)</li>\n<li>native libs in a jar, jar on the classpath, sytem variable jna.nounpack=false</li>\n<li>native libs in a jar, jar is unpacked to a temp directory &lt;tmp&gt;, system variable jna.library.path=&lt;tmp&gt;</li>\n</ol>\n<p>I set jna_load_debug=true.  I can see the main lib getting loaded but subesequent failure because transitive dependencies are not loaded and there is no indication that the correct places are being searched.</p>\n<p>Here is some of the output from unpacking the native libs into a directory and setting jna.library.path</p>\n<pre><code>INFO: Adding paths from jna.library.path: /var/folders/cv/xl07kvgs0q91fv5w0x1y5mbh0000gn/T/snafu17797529543521833103\nSep 20, 2023 9:36:56 AM com.sun.jna.NativeLibrary loadLibrary\nINFO: Trying /var/folders/cv/xl07kvgs0q91fv5w0x1y5mbh0000gn/T/snafu17797529543521833103/libstellarsolver.dylib\nSep 20, 2023 9:36:57 AM com.sun.jna.NativeLibrary loadLibrary\n</code></pre>\n<p>Nice! the temp directory containing the lib and its transitive dependencies is added to search path.</p>\n<pre><code>INFO: Loading failed with message: dlopen(/var/folders/cv/xl07kvgs0q91fv5w0x1y5mbh0000gn/T/snafu17797529543521833103/libstellarsolver.dylib, 0x0009): Library not loaded: @executable_path/../Frameworks/libcfitsio.4.dylib\n  Referenced from: &lt;ABEB0A7F-C1DB-3C8B-BB02-6A20D400CAAD&gt; /private/var/folders/cv/xl07kvgs0q91fv5w0x1y5mbh0000gn/T/snafu17797529543521833103/libstellarsolver.dylib\n  Reason: tried: '/Library/Java/JavaVirtualMachines/temurin-17.jdk/Contents/Home/Frameworks/libcfitsio.4.dylib' (no such file), '/usr/lib/libcfitsio.4.dylib' (no such file, not in dyld cache)\n</code></pre>\n<p>This indicates to me that libstellarsolver.dylib was found and JNA realizes it needs to find transitive dependency libcfitsio.4.dylib. There is this failure and others but there is never any indication that it looks in jna.library.path for this dependency. This is baffliing to me.</p>\n<p>The stackoverflow question above suggests I might have to create an explicit search path for every transitive dependency. Can that be true? This seems like a commmon use case for JNA. Help is greatly appreciated.</p>\n<p>Dave</p>\n"},{"tags":["java","jdbc","mysql-connector"],"comments":[{"owner":{"account_id":7738,"reputation":143223,"user_id":13508,"accept_rate":86,"display_name":"&#193;lvaro Gonz&#225;lez"},"score":0,"creation_date":1695302387,"post_id":77150582,"comment_id":136008432,"body_markdown":"Does the editor play any role here, e.g. you&#39;re using an extension to run queries from the editor and see results in a new tab? The question itself suggests you&#39;re merely trying to connect from your own Java application and, for that, you surely need to write some code to tell javac where the JAR is.","body":"Does the editor play any role here, e.g. you&#39;re using an extension to run queries from the editor and see results in a new tab? The question itself suggests you&#39;re merely trying to connect from your own Java application and, for that, you surely need to write some code to tell javac where the JAR is."},{"owner":{"account_id":25965414,"reputation":81,"user_id":19681418,"display_name":"Talete"},"score":0,"creation_date":1695302647,"post_id":77150582,"comment_id":136008508,"body_markdown":"@&#193;lvaroGonz&#225;lez i&#39;m not using extension, i&#39;m doing pretty much what you see here https://www.youtube.com/watch?v=yBhBaya7tF4","body":"@&#193;lvaroGonz&#225;lez i&#39;m not using extension, i&#39;m doing pretty much what you see here <a href=\"https://www.youtube.com/watch?v=yBhBaya7tF4\" rel=\"nofollow noreferrer\">youtube.com/watch?v=yBhBaya7tF4</a>"},{"owner":{"account_id":213468,"reputation":103494,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1695371219,"post_id":77150582,"comment_id":136018179,"body_markdown":"The error means that the driver is not on the classpath when you run your application. Please provide a [mre] and show how you are running your application. &quot;Installing&quot; Java JARs like this is an uncommon practice (and isn&#39;t something that means the driver is available when you run a Java application). Also, you should not add both JARs, just add one of them (their contents is (nearly) identical).","body":"The error means that the driver is not on the classpath when you run your application. Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> and show how you are running your application. &quot;Installing&quot; Java JARs like this is an uncommon practice (and isn&#39;t something that means the driver is available when you run a Java application). Also, you should not add both JARs, just add one of them (their contents is (nearly) identical)."}],"owner":{"account_id":25965414,"reputation":81,"user_id":19681418,"display_name":"Talete"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1695371054,"answer_count":0,"score":0,"last_activity_date":1695307180,"creation_date":1695301895,"question_id":77150582,"body_markdown":"I am writing a java app on linux mint 21.\r\nTrying to connect to a local mysql database i get the error \r\n\r\n&gt; java.sql.SQLException: No suitable driver found for jdbc:mysql://localhost:3306/mydb\r\n\r\nI installed the mysql-connector-j_8.1.0-1debian11_all.deb package i  found at https://dev.mysql.com/downloads/connector/j/ (choosing debian linux as os) and than linked both \r\n\r\n    mysql-connector-j-8.1.0.jar \r\n    mysql-connector-java-8.1.0.jar\r\n\r\nto the reference library of my project.\r\n\r\nThe url should be correct, so is there anything else i should do?\r\n\r\nEdit:\r\n\r\nAlso tried the &quot;platform indipendent&quot; jar.\r\n","title":"Connect to mysql db in linux mint","body":"<p>I am writing a java app on linux mint 21.\nTrying to connect to a local mysql database i get the error</p>\n<blockquote>\n<p>java.sql.SQLException: No suitable driver found for jdbc:mysql://localhost:3306/mydb</p>\n</blockquote>\n<p>I installed the mysql-connector-j_8.1.0-1debian11_all.deb package i  found at <a href=\"https://dev.mysql.com/downloads/connector/j/\" rel=\"nofollow noreferrer\">https://dev.mysql.com/downloads/connector/j/</a> (choosing debian linux as os) and than linked both</p>\n<pre><code>mysql-connector-j-8.1.0.jar \nmysql-connector-java-8.1.0.jar\n</code></pre>\n<p>to the reference library of my project.</p>\n<p>The url should be correct, so is there anything else i should do?</p>\n<p>Edit:</p>\n<p>Also tried the &quot;platform indipendent&quot; jar.</p>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1695318303,"post_id":77151156,"comment_id":136011871,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":29491278,"reputation":1,"user_id":22600253,"display_name":"hyeonwoojung"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695306620,"creation_date":1695306127,"question_id":77151156,"body_markdown":"I am trying to make an app using android studio which can capture my phone&#39;s display in realtime and after that, gets me the information of the picture that I captured. Using this information, I want to display it in OLED using arduino. My plan went like this.\r\n1) Capture in real time using android API(MediaProjection and VirtualDisplay)\r\n2) Get the information of my capture.\r\n3) send the information(ex. color of the pixel to arduino) th arduino\r\n4) show it using OLED display\r\n\r\nIn sending information, I thought that sending information of each pixel will be nice. But I am having a hard time getting the information of my capture. Is there any way I can get information?\r\n","title":"Is it possible to get informations at each pixel in android?","body":"<p>I am trying to make an app using android studio which can capture my phone's display in realtime and after that, gets me the information of the picture that I captured. Using this information, I want to display it in OLED using arduino. My plan went like this.</p>\n<ol>\n<li>Capture in real time using android API(MediaProjection and VirtualDisplay)</li>\n<li>Get the information of my capture.</li>\n<li>send the information(ex. color of the pixel to arduino) th arduino</li>\n<li>show it using OLED display</li>\n</ol>\n<p>In sending information, I thought that sending information of each pixel will be nice. But I am having a hard time getting the information of my capture. Is there any way I can get information?</p>\n"},{"tags":["java","spring-boot","maven"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1589966142,"post_id":61909247,"comment_id":109499448,"body_markdown":"Have you tried to build on plain command line.","body":"Have you tried to build on plain command line."},{"owner":{"account_id":1979094,"reputation":3912,"user_id":1776132,"display_name":"Smile"},"score":0,"creation_date":1589966720,"post_id":61909247,"comment_id":109499752,"body_markdown":"Did you try reimporting the project? Right click on project -&gt; maven -&gt; reimport?","body":"Did you try reimporting the project? Right click on project -&gt; maven -&gt; reimport?"},{"owner":{"account_id":18631980,"reputation":113,"user_id":13579721,"display_name":"Phoenix"},"score":0,"creation_date":1589987873,"post_id":61909247,"comment_id":109512094,"body_markdown":"@khmarbaise I am new to Spring Boot, so right now don&#39;t know how to build the project from command line, but will try in few days.","body":"@khmarbaise I am new to Spring Boot, so right now don&#39;t know how to build the project from command line, but will try in few days."},{"owner":{"account_id":18631980,"reputation":113,"user_id":13579721,"display_name":"Phoenix"},"score":0,"creation_date":1589988029,"post_id":61909247,"comment_id":109512198,"body_markdown":"@Smile I tried reimporting the project, but still getting the same issue.","body":"@Smile I tried reimporting the project, but still getting the same issue."},{"owner":{"account_id":8277734,"reputation":1488,"user_id":8636565,"display_name":"Daniel Jacob"},"score":2,"creation_date":1589988296,"post_id":61909247,"comment_id":109512353,"body_markdown":"Building the project can be done with the command mvn clean verify for example in your terminal at the level of the root directory","body":"Building the project can be done with the command mvn clean verify for example in your terminal at the level of the root directory"}],"answers":[{"tags":[],"owner":{"account_id":18493218,"reputation":33,"user_id":13472253,"display_name":"Mertay Dayanc"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1590608543,"creation_date":1590608543,"answer_id":62051551,"question_id":61909247,"body_markdown":"I was having the exact same problem then I found a way to overcome that. I am not an expert on Spring Boot so I don&#39;t know what causes this but I can help you to fix. Go to https://start.spring.io/ then [Click on the add dependencies on the top right corner of the pic.][1] after that select Spring Web under the dropdown menu, then generate the initializr again. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JNj1I.png","title":"Dependency &#39;org.springframework.boot:spring-boot-starter-web:2.3.0.RELEASE&#39; not found","body":"<p>I was having the exact same problem then I found a way to overcome that. I am not an expert on Spring Boot so I don't know what causes this but I can help you to fix. Go to <a href=\"https://start.spring.io/\" rel=\"nofollow noreferrer\">https://start.spring.io/</a> then <a href=\"https://i.stack.imgur.com/JNj1I.png\" rel=\"nofollow noreferrer\">Click on the add dependencies on the top right corner of the pic.</a> after that select Spring Web under the dropdown menu, then generate the initializr again. </p>\n"},{"tags":[],"owner":{"account_id":4711916,"reputation":453,"user_id":4632520,"display_name":"Opatile Kelobang"},"down_vote_count":0,"up_vote_count":31,"is_accepted":true,"score":31,"last_activity_date":1600788342,"creation_date":1600788342,"answer_id":64012872,"question_id":61909247,"body_markdown":"I had a similar issue. Easiest fix is to **Invalidate Caches and Restart**\r\n\r\n\r\n[![IntelliJ Idea Invalidate Caches and Restart][1]][1]\r\n\r\n\r\nMaven will then re-sync your POM file after the restart. No need to make changes anywhere else.\r\n\r\n[![Spring Boot 2.3.0.RELEASE][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5LUoT.png\r\n  [2]: https://i.stack.imgur.com/aC7YG.png","title":"Dependency &#39;org.springframework.boot:spring-boot-starter-web:2.3.0.RELEASE&#39; not found","body":"<p>I had a similar issue. Easiest fix is to <strong>Invalidate Caches and Restart</strong></p>\n<p><a href=\"https://i.stack.imgur.com/5LUoT.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/5LUoT.png\" alt=\"IntelliJ Idea Invalidate Caches and Restart\" /></a></p>\n<p>Maven will then re-sync your POM file after the restart. No need to make changes anywhere else.</p>\n<p><a href=\"https://i.stack.imgur.com/aC7YG.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/aC7YG.png\" alt=\"Spring Boot 2.3.0.RELEASE\" /></a></p>\n"},{"tags":[],"owner":{"account_id":20380232,"reputation":31,"user_id":14950510,"display_name":"Alexandru Baciu"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1610003505,"creation_date":1609923697,"answer_id":65592901,"question_id":61909247,"body_markdown":"If invalidate `Caches / Restart...` doesn&#39;t work, check `Always update snapshots` from &quot;File -&gt; Settings -&gt; Building, Execution, Deployment -&gt; Build Tools -&gt; Maven&quot;. For me worked like a charm.","title":"Dependency &#39;org.springframework.boot:spring-boot-starter-web:2.3.0.RELEASE&#39; not found","body":"<p>If invalidate <code>Caches / Restart...</code> doesn't work, check <code>Always update snapshots</code> from &quot;File -&gt; Settings -&gt; Building, Execution, Deployment -&gt; Build Tools -&gt; Maven&quot;. For me worked like a charm.</p>\n"},{"tags":[],"owner":{"account_id":244572,"reputation":2040,"user_id":2266682,"accept_rate":75,"display_name":"Aqeel Ashiq"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695306618,"creation_date":1695304808,"answer_id":77150980,"question_id":61909247,"body_markdown":"For me, in intellij IDEA maven home path was incorrectly set to maven wrapper:\r\n[![wrong maven home path set in intellij  idea][1]][1]\r\n\r\nUpdate it to correct maven home path\r\n\r\n[![correct maven home path][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ulz0e.png\r\n  [2]: https://i.stack.imgur.com/ogxsB.png","title":"Dependency &#39;org.springframework.boot:spring-boot-starter-web:2.3.0.RELEASE&#39; not found","body":"<p>For me, in intellij IDEA maven home path was incorrectly set to maven wrapper:\n<a href=\"https://i.stack.imgur.com/ulz0e.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ulz0e.png\" alt=\"wrong maven home path set in intellij  idea\" /></a></p>\n<p>Update it to correct maven home path</p>\n<p><a href=\"https://i.stack.imgur.com/ogxsB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ogxsB.png\" alt=\"correct maven home path\" /></a></p>\n"}],"owner":{"account_id":18631980,"reputation":113,"user_id":13579721,"display_name":"Phoenix"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21104,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":64012872,"answer_count":4,"score":11,"last_activity_date":1695306618,"creation_date":1589965736,"question_id":61909247,"body_markdown":"I am having a problem while creating a simple `spring boot` web application. I am building this app using Intellij Idea IDE. There is a issue arising related to the dependency. Intellij is saying - `Dependency &#39;org.springframework.boot:spring-boot-starter-web:2.3.0.RELEASE&#39; not found`(in `pom.xml`).\r\n\r\nDetailed Error Information:\r\n\r\n    Dependency &#39;org.springframework.boot:spring-boot-starter-web:2.3.0.RELEASE&#39; not found.\r\n    Tag name: artifactId Description : The unique id for an artifact produced by the project group, e.g. maven-artifact. Version : 3.0.0+ \r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.3.0.RELEASE&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;springboot-demo&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;springboot-demo&lt;/name&gt;\r\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n\r\n","title":"Dependency &#39;org.springframework.boot:spring-boot-starter-web:2.3.0.RELEASE&#39; not found","body":"<p>I am having a problem while creating a simple <code>spring boot</code> web application. I am building this app using Intellij Idea IDE. There is a issue arising related to the dependency. Intellij is saying - <code>Dependency 'org.springframework.boot:spring-boot-starter-web:2.3.0.RELEASE' not found</code>(in <code>pom.xml</code>).</p>\n\n<p>Detailed Error Information:</p>\n\n<pre><code>Dependency 'org.springframework.boot:spring-boot-starter-web:2.3.0.RELEASE' not found.\nTag name: artifactId Description : The unique id for an artifact produced by the project group, e.g. maven-artifact. Version : 3.0.0+ \n</code></pre>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.3.0.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;springboot-demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;springboot-demo&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","keycloak"],"answers":[{"tags":[],"owner":{"account_id":3804065,"reputation":3440,"user_id":3157154,"display_name":"Boomer"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1514875875,"creation_date":1514875875,"answer_id":48056709,"question_id":48056418,"body_markdown":"The correct port for *Keycloak* is __8080__. The *9990* is the port for *Wildfly* administration.  \r\nUse http://localhost:8080/auth","title":"Keycloak returns &quot;404 - Not Found&quot; page","body":"<p>The correct port for <em>Keycloak</em> is <strong>8080</strong>. The <em>9990</em> is the port for <em>Wildfly</em> administration.<br>\nUse <a href=\"http://localhost:8080/auth\" rel=\"noreferrer\">http://localhost:8080/auth</a></p>\n"},{"tags":[],"owner":{"account_id":219754,"reputation":12930,"user_id":476828,"accept_rate":51,"display_name":"Subodh Joshi"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1516707082,"creation_date":1516707082,"answer_id":48400689,"question_id":48056418,"body_markdown":"If you will check keycloak [documentation][1] you will get detail information about port that you can modify as well only condition that port should not capture by any other application.\r\n  \r\n\r\n     &lt;socket-binding-group name=&quot;standard-sockets&quot; default-interface=&quot;public&quot; port-offset=&quot;${jboss.socket.binding.port-offset:0}&quot;&gt;\r\n            &lt;socket-binding name=&quot;management-http&quot; interface=&quot;management&quot; port=&quot;${jboss.management.http.port:9990}&quot;/&gt;\r\n            &lt;socket-binding name=&quot;management-https&quot; interface=&quot;management&quot; port=&quot;${jboss.management.https.port:9993}&quot;/&gt;\r\n            &lt;socket-binding name=&quot;ajp&quot; port=&quot;${jboss.ajp.port:8009}&quot;/&gt;\r\n            &lt;socket-binding name=&quot;http&quot; port=&quot;${jboss.http.port:8080}&quot;/&gt;\r\n            &lt;socket-binding name=&quot;https&quot; port=&quot;${jboss.https.port:8443}&quot;/&gt;\r\n            &lt;socket-binding name=&quot;txn-recovery-environment&quot; port=&quot;4712&quot;/&gt;\r\n            &lt;socket-binding name=&quot;txn-status-manager&quot; port=&quot;4713&quot;/&gt;\r\n            &lt;outbound-socket-binding name=&quot;mail-smtp&quot;&gt;\r\n                &lt;remote-destination host=&quot;localhost&quot; port=&quot;25&quot;/&gt;\r\n            &lt;/outbound-socket-binding&gt;\r\n        &lt;/socket-binding-group&gt;\r\n\r\nSo default port `http` its `8080` and `https` its `8443`\r\n\r\n  [1]: http://www.keycloak.org/docs/2.5/server_installation/topics/network/ports.html","title":"Keycloak returns &quot;404 - Not Found&quot; page","body":"<p>If you will check keycloak <a href=\"http://www.keycloak.org/docs/2.5/server_installation/topics/network/ports.html\" rel=\"nofollow noreferrer\">documentation</a> you will get detail information about port that you can modify as well only condition that port should not capture by any other application.</p>\n\n<pre><code> &lt;socket-binding-group name=\"standard-sockets\" default-interface=\"public\" port-offset=\"${jboss.socket.binding.port-offset:0}\"&gt;\n        &lt;socket-binding name=\"management-http\" interface=\"management\" port=\"${jboss.management.http.port:9990}\"/&gt;\n        &lt;socket-binding name=\"management-https\" interface=\"management\" port=\"${jboss.management.https.port:9993}\"/&gt;\n        &lt;socket-binding name=\"ajp\" port=\"${jboss.ajp.port:8009}\"/&gt;\n        &lt;socket-binding name=\"http\" port=\"${jboss.http.port:8080}\"/&gt;\n        &lt;socket-binding name=\"https\" port=\"${jboss.https.port:8443}\"/&gt;\n        &lt;socket-binding name=\"txn-recovery-environment\" port=\"4712\"/&gt;\n        &lt;socket-binding name=\"txn-status-manager\" port=\"4713\"/&gt;\n        &lt;outbound-socket-binding name=\"mail-smtp\"&gt;\n            &lt;remote-destination host=\"localhost\" port=\"25\"/&gt;\n        &lt;/outbound-socket-binding&gt;\n    &lt;/socket-binding-group&gt;\n</code></pre>\n\n<p>So default port <code>http</code> its <code>8080</code> and <code>https</code> its <code>8443</code></p>\n"},{"tags":[],"owner":{"account_id":4706506,"reputation":3176,"user_id":3808452,"accept_rate":94,"display_name":"Barthy"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1623792140,"creation_date":1602591831,"answer_id":64335206,"question_id":48056418,"body_markdown":"I had set a &quot;Frontend URL&quot; (`Keycloak Admin Console &gt; Realm Settings &gt; General Frontend Url`) for the realm that looked like this: `http://localhost:8080` while the client&#39;s &quot;Root URL&quot; was `http://localhost:8080/auth`.\r\n\r\nAfter removing the &quot;Frontend URL&quot; everything worked fine. Another solution was to set both fields to `http://localhost:8080/auth`.","title":"Keycloak returns &quot;404 - Not Found&quot; page","body":"<p>I had set a &quot;Frontend URL&quot; (<code>Keycloak Admin Console &gt; Realm Settings &gt; General Frontend Url</code>) for the realm that looked like this: <code>http://localhost:8080</code> while the client's &quot;Root URL&quot; was <code>http://localhost:8080/auth</code>.</p>\n<p>After removing the &quot;Frontend URL&quot; everything worked fine. Another solution was to set both fields to <code>http://localhost:8080/auth</code>.</p>\n"},{"tags":[],"owner":{"account_id":21660216,"reputation":1,"user_id":15979436,"display_name":"user15979436"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1621496609,"creation_date":1621496609,"answer_id":67616063,"question_id":48056418,"body_markdown":"I had the same problem and then noticed that when I started standalone .bac, at the beginning of the prompt it said something like &quot;JBOSS_HOME may be pointing to a different installation - unpredictable results may occur.&quot;, then if is that the case,  just \r\n delete the JBOSS_HOME environment variable. I solved in this way. (I don&#39;t know how good is this solution, but i had no other ways to make it works)","title":"Keycloak returns &quot;404 - Not Found&quot; page","body":"<p>I had the same problem and then noticed that when I started standalone .bac, at the beginning of the prompt it said something like &quot;JBOSS_HOME may be pointing to a different installation - unpredictable results may occur.&quot;, then if is that the case,  just\ndelete the JBOSS_HOME environment variable. I solved in this way. (I don't know how good is this solution, but i had no other ways to make it works)</p>\n"},{"tags":[],"owner":{"account_id":12045236,"reputation":536,"user_id":8810517,"display_name":"Abhay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635236476,"creation_date":1635236476,"answer_id":69719728,"question_id":48056418,"body_markdown":"I was facing this issue with Keycloak running on Ubuntu image inside Docker.\r\nWhat worked for me was adding `-b 0.0.0.0` argument.\r\n\r\nSo one can try running following command:\r\n`bin/standalone.sh -b 0.0.0.0`\r\n\r\nYou may be able to access console at `localhost:8080`","title":"Keycloak returns &quot;404 - Not Found&quot; page","body":"<p>I was facing this issue with Keycloak running on Ubuntu image inside Docker.\nWhat worked for me was adding <code>-b 0.0.0.0</code> argument.</p>\n<p>So one can try running following command:\n<code>bin/standalone.sh -b 0.0.0.0</code></p>\n<p>You may be able to access console at <code>localhost:8080</code></p>\n"},{"tags":[],"owner":{"account_id":1153033,"reputation":3117,"user_id":1134343,"display_name":"Peter"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1637003214,"creation_date":1637003214,"answer_id":69979591,"question_id":48056418,"body_markdown":"In my case [the docs][1] I read didn&#39;t mention to edit the `&lt;default-bindings .... datasource=...` when adding a database. The server.log showed the wrong datasource name &#39;ExampleDS&#39; which made it clear enough:\r\n\r\n    2021-11-15 18:32:29,302 ERROR [org.jboss.as.controller.management-operation] (Controller Boot Thread) WFLYCTL0013: Operation (&quot;add&quot;) failed - address: ([(&quot;deployment&quot; =&gt; &quot;keycloak-server.war&quot;)]) - failure description: {\r\n        &quot;WFLYCTL0412: Required services that are not installed:&quot; =&gt; [&quot;jboss.naming.context.java.jboss.datasources.ExampleDS&quot;],\r\n        &quot;WFLYCTL0180: Services with missing/unavailable dependencies&quot; =&gt; [&quot;jboss.naming.context.java.module.auth.auth.DefaultDataSource is missing [jboss.naming.context.java.jboss.datasources.ExampleDS]&quot;]\r\n    }\r\n\r\nSo I fixed that...and was failing to connect to the database, because my database wasn&#39;t listening on the address it used. \r\n\r\n    Caused by: org.postgresql.util.PSQLException: Connection to &lt;host_goes_here&gt;:5432 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.\r\n\r\nReconfiguring  PostgreSQL fixed that:\r\n\r\n/etc/postgresql/12/main/postgresql.conf\r\n\r\n    listen_addresses = &#39;*&#39;\r\n\r\n/etc/postgresql/12/main/pg_hba.conf\r\n\r\n    host    keycloak    keycloak     &lt;ip_goes_here&gt;/32    &lt;method_goes_here&gt;\r\n\r\nAnd FYI other than looking at config, you can use things like this to see what it listens to:\r\n\r\n    lsof -Pni | grep java\r\n    ss -ltp | grep java\r\n    netstat -lantp | grep java\r\n \r\n\r\n  [1]: https://www.keycloak.org/docs/latest/server_installation/index.html#_database","title":"Keycloak returns &quot;404 - Not Found&quot; page","body":"<p>In my case <a href=\"https://www.keycloak.org/docs/latest/server_installation/index.html#_database\" rel=\"nofollow noreferrer\">the docs</a> I read didn't mention to edit the <code>&lt;default-bindings .... datasource=...</code> when adding a database. The server.log showed the wrong datasource name 'ExampleDS' which made it clear enough:</p>\n<pre><code>2021-11-15 18:32:29,302 ERROR [org.jboss.as.controller.management-operation] (Controller Boot Thread) WFLYCTL0013: Operation (&quot;add&quot;) failed - address: ([(&quot;deployment&quot; =&gt; &quot;keycloak-server.war&quot;)]) - failure description: {\n    &quot;WFLYCTL0412: Required services that are not installed:&quot; =&gt; [&quot;jboss.naming.context.java.jboss.datasources.ExampleDS&quot;],\n    &quot;WFLYCTL0180: Services with missing/unavailable dependencies&quot; =&gt; [&quot;jboss.naming.context.java.module.auth.auth.DefaultDataSource is missing [jboss.naming.context.java.jboss.datasources.ExampleDS]&quot;]\n}\n</code></pre>\n<p>So I fixed that...and was failing to connect to the database, because my database wasn't listening on the address it used.</p>\n<pre><code>Caused by: org.postgresql.util.PSQLException: Connection to &lt;host_goes_here&gt;:5432 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.\n</code></pre>\n<p>Reconfiguring  PostgreSQL fixed that:</p>\n<p>/etc/postgresql/12/main/postgresql.conf</p>\n<pre><code>listen_addresses = '*'\n</code></pre>\n<p>/etc/postgresql/12/main/pg_hba.conf</p>\n<pre><code>host    keycloak    keycloak     &lt;ip_goes_here&gt;/32    &lt;method_goes_here&gt;\n</code></pre>\n<p>And FYI other than looking at config, you can use things like this to see what it listens to:</p>\n<pre><code>lsof -Pni | grep java\nss -ltp | grep java\nnetstat -lantp | grep java\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7943207,"reputation":519,"user_id":5996498,"accept_rate":62,"display_name":"Galilo Galilo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677306522,"creation_date":1677306522,"answer_id":75563688,"question_id":48056418,"body_markdown":"In my case it worked fine when I added --http-relative-path=/auth to the run command, thus my docker-compose file is:\r\n\r\n\r\n    version: &#39;3.8&#39;\r\n    services:\r\n      keycloak:\r\n        image: quay.io/keycloak/keycloak:19.0.1\r\n        command: [&#39;start-dev --import-realm --http-relative-path=/auth&#39;]\r\n        volumes:\r\n          - ./realm-config:/opt/keycloak/data/import\r\n        environment:\r\n          - KC_DB=dev-file\r\n          - KEYCLOAK_ADMIN=administrator\r\n          - KEYCLOAK_ADMIN_PASSWORD=not-my-password\r\n          - KC_FEATURES=scripts\r\n          - KC_HTTP_PORT=9080\r\n          - KC_HTTPS_PORT=9443\r\n        ports:\r\n          - 127.0.0.1:9080:9080\r\n          - 127.0.0.1:9443:9443\r\n\r\n","title":"Keycloak returns &quot;404 - Not Found&quot; page","body":"<p>In my case it worked fine when I added --http-relative-path=/auth to the run command, thus my docker-compose file is:</p>\n<pre><code>version: '3.8'\nservices:\n  keycloak:\n    image: quay.io/keycloak/keycloak:19.0.1\n    command: ['start-dev --import-realm --http-relative-path=/auth']\n    volumes:\n      - ./realm-config:/opt/keycloak/data/import\n    environment:\n      - KC_DB=dev-file\n      - KEYCLOAK_ADMIN=administrator\n      - KEYCLOAK_ADMIN_PASSWORD=not-my-password\n      - KC_FEATURES=scripts\n      - KC_HTTP_PORT=9080\n      - KC_HTTPS_PORT=9443\n    ports:\n      - 127.0.0.1:9080:9080\n      - 127.0.0.1:9443:9443\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15851127,"reputation":98,"user_id":11436917,"display_name":"ilyesAj"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695306514,"creation_date":1695306514,"answer_id":77151214,"question_id":48056418,"body_markdown":"**update 2023:** the official docker image `quay.io/keycloak/keycloak` does not automatically points to admin console ( redirects you to `/` then `/auth` which gives you `404 not found`)if you want to access to admin console go directly to `/admin` instead\r\n\r\nreference: https://www.keycloak.org/getting-started/getting-started-docker","title":"Keycloak returns &quot;404 - Not Found&quot; page","body":"<p><strong>update 2023:</strong> the official docker image <code>quay.io/keycloak/keycloak</code> does not automatically points to admin console ( redirects you to <code>/</code> then <code>/auth</code> which gives you <code>404 not found</code>)if you want to access to admin console go directly to <code>/admin</code> instead</p>\n<p>reference: <a href=\"https://www.keycloak.org/getting-started/getting-started-docker\" rel=\"nofollow noreferrer\">https://www.keycloak.org/getting-started/getting-started-docker</a></p>\n"}],"owner":{"account_id":281730,"reputation":355,"user_id":578201,"accept_rate":8,"display_name":"NidhinRaj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32012,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":8,"score":9,"last_activity_date":1695306514,"creation_date":1514874135,"question_id":48056418,"body_markdown":"I am trying to install Keycloak on my PC. I have the Java 8 JDK installed.\r\n\r\nAfter running `\\bin\\standalone.bat`, when I go to the page `127.0.0.1:9990/auth`, I am returned the error\r\n\r\n&gt; 404 - Not Found\r\n\r\n[![screenshot of error page with title &quot;Error&quot; and body &quot;404 - Not Found&quot;][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/g4Kzq.png","title":"Keycloak returns &quot;404 - Not Found&quot; page","body":"<p>I am trying to install Keycloak on my PC. I have the Java 8 JDK installed.</p>\n\n<p>After running <code>\\bin\\standalone.bat</code>, when I go to the page <code>127.0.0.1:9990/auth</code>, I am returned the error</p>\n\n<blockquote>\n  <p>404 - Not Found</p>\n</blockquote>\n\n<p><a href=\"https://i.stack.imgur.com/g4Kzq.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/g4Kzq.png\" alt=\"screenshot of error page with title &quot;Error&quot; and body &quot;404 - Not Found&quot;\"></a></p>\n"},{"tags":["java","spring-boot","spring-webclient"],"answers":[{"tags":[],"owner":{"account_id":4068081,"reputation":10971,"user_id":3342253,"accept_rate":94,"display_name":"Jan Nielsen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669657671,"creation_date":1669657671,"answer_id":74604577,"question_id":74604442,"body_markdown":"Ugh -- use Spring&#39;s `FileSystemResource`:\r\n\r\n```\r\nvar uploadFile = new File(home+&quot;/upload.csv&quot;);\r\n\r\nvar multipartBodyBuilder = new MultipartBodyBuilder();\r\nmultipartBodyBuilder.part(&quot;file&quot;, new FileSystemResource(uploadFile));\r\n\r\nvar mimeMultipartData = multipartBodyBuilder.build();\r\n```\r\nand everything works fine.","title":"Spring WebClient multi-part file upload","body":"<p>Ugh -- use Spring's <code>FileSystemResource</code>:</p>\n<pre><code>var uploadFile = new File(home+&quot;/upload.csv&quot;);\n\nvar multipartBodyBuilder = new MultipartBodyBuilder();\nmultipartBodyBuilder.part(&quot;file&quot;, new FileSystemResource(uploadFile));\n\nvar mimeMultipartData = multipartBodyBuilder.build();\n</code></pre>\n<p>and everything works fine.</p>\n"},{"tags":[],"owner":{"account_id":16535035,"reputation":437,"user_id":11947303,"display_name":"CodeSlave"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695306481,"creation_date":1695306481,"answer_id":77151209,"question_id":74604442,"body_markdown":"This worked for me:\r\n\r\n    private static MultipartInserter getMultiPartFile(MultipartFile file) {\r\n        MultipartBodyBuilder builder = new MultipartBodyBuilder();\r\n        builder.part(&quot;file&quot;, file.getResource());\r\n\r\n        return BodyInserters.fromMultipartData(builder.build());\r\n    }\r\n\r\nand I used it here:\r\n\r\n              return client.post()\r\n                           .uri(exampleUri)\r\n                           .contentType(MediaType.MULTIPART_FORM_DATA)\r\n                           .body(getMultiPartFile(file))\r\n                           .retrieve()\r\n                           .toEntity(Example.class)\r\n                           .block();","title":"Spring WebClient multi-part file upload","body":"<p>This worked for me:</p>\n<pre><code>private static MultipartInserter getMultiPartFile(MultipartFile file) {\n    MultipartBodyBuilder builder = new MultipartBodyBuilder();\n    builder.part(&quot;file&quot;, file.getResource());\n\n    return BodyInserters.fromMultipartData(builder.build());\n}\n</code></pre>\n<p>and I used it here:</p>\n<pre><code>          return client.post()\n                       .uri(exampleUri)\n                       .contentType(MediaType.MULTIPART_FORM_DATA)\n                       .body(getMultiPartFile(file))\n                       .retrieve()\n                       .toEntity(Example.class)\n                       .block();\n</code></pre>\n"}],"owner":{"account_id":4068081,"reputation":10971,"user_id":3342253,"accept_rate":94,"display_name":"Jan Nielsen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3580,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74604577,"answer_count":2,"score":1,"last_activity_date":1695306481,"creation_date":1669656959,"question_id":74604442,"body_markdown":"A simple Spring Boot 2.7.5 WebClient application fails with a 400 BAD REQUEST:\r\n\r\n```\r\nvar home = &quot;/home/me&quot;;\r\n\r\nvar uploadFile = new File(home+&quot;/upload.csv&quot;);\t \r\nvar uploadPath = uploadFile.toPath();\r\nvar uploadContent = Files.readString(uploadPath);\r\n\r\nvar multipartBodyBuilder = new MultipartBodyBuilder();\r\nmultipartBodyBuilder.part(&quot;file&quot;, uploadPath);\r\n//multipartBodyBuilder.part(&quot;file&quot;, uploadFile);\r\nvar mimeMultipartData = multipartBodyBuilder.build();\r\n\r\nvar configuration = new Configuration(/* ... */);\r\n\r\nvar webClient = WebClient.builder()\r\n        .baseUrl(_baseUrl(configuration.getEndpoint()))\r\n        .filters( filters -&gt; {\r\n            filters.add(authentication(configuration));\r\n\r\n            if (configuration.capturePackets()) {\r\n                filters.add(captureRequest());\r\n                filters.add(captureResponse());\r\n            }\r\n        })\r\n        .build();\r\n\r\nMono&lt;HttpStatus&gt; httpStatusMono = webClient\r\n     .post()\r\n     .uri(URI.create(&quot;http://localhost:8080/api/marketplaces/1/holdings/uploads&quot;))\r\n\t .body(BodyInserters.fromMultipartData(mimeMultipartData))\r\n\t .retrieve()\r\n\t .bodyToMono(HttpStatus.class);\r\n```\r\n\r\nagainst a Spring Boot 2.7.5 multi-part file upload API:\r\n\r\n```\r\n    @PostMapping(&quot;/uploads&quot;)\r\n    public ResponseEntity&lt;?&gt; uploads(@RequestParam(value=&quot;file&quot;, required=true) MultipartFile file) throws IOException {\r\n        try (InputStream input = file.getInputStream()) {\r\n            doSomething(input);\r\n        }\r\n        return ResponseEntity.ok().build();\r\n    }\r\n```\r\n\r\nThe bad request exception is:\r\n\r\n```\r\norg.springframework.web.reactive.function.client.WebClientResponseException$BadRequest: 400 Bad Request from POST http://localhost:8080/api/uploads\r\n\tat org.springframework.web.reactive.function.client.WebClientResponseException.create(WebClientResponseException.java:217)\r\n\tSuppressed: The stacktrace has been enhanced by Reactor, refer to additional information below: \r\nError has been observed at the following site(s):\r\n\t*__checkpoint  400 from POST http://localhost:8080/api/uploads [DefaultWebClient]\r\nOriginal Stack Trace:\r\n\t\tat org.springframework.web.reactive.function.client.WebClientResponseException.create(WebClientResponseException.java:217)\r\n\t\tat org.springframework.web.reactive.function.client.DefaultClientResponse.lambda$createException$1(DefaultClientResponse.java:207)\r\n\t\tat reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:106)\r\n\t\tat reactor.core.publisher.FluxOnErrorReturn$ReturnSubscriber.onNext(FluxOnErrorReturn.java:162)\r\n\t\tat reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1816)\r\n\t\tat reactor.core.publisher.FluxDefaultIfEmpty$DefaultIfEmptySubscriber.onComplete(FluxDefaultIfEmpty.java:109)\r\n\t\tat reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onComplete(FluxMapFuseable.java:152)\r\n\t\tat reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onComplete(FluxContextWrite.java:126)\r\n\t\tat reactor.core.publisher.FluxMapFuseable$MapFuseableConditionalSubscriber.onComplete(FluxMapFuseable.java:350)\r\n\t\tat reactor.core.publisher.FluxFilterFuseable$FilterFuseableConditionalSubscriber.onComplete(FluxFilterFuseable.java:391)\r\n\t\tat reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1817)\r\n\t\tat reactor.core.publisher.MonoCollect$CollectSubscriber.onComplete(MonoCollect.java:160)\r\n\t\tat reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144)\r\n\t\tat reactor.core.publisher.FluxPeek$PeekSubscriber.onComplete(FluxPeek.java:260)\r\n\t\tat reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144)\r\n\t\tat reactor.netty.channel.FluxReceive.onInboundComplete(FluxReceive.java:400)\r\n\t\tat reactor.netty.channel.ChannelOperations.onInboundComplete(ChannelOperations.java:419)\r\n\t\tat reactor.netty.channel.ChannelOperations.terminate(ChannelOperations.java:473)\r\n\t\tat reactor.netty.http.client.HttpClientOperations.onInboundNext(HttpClientOperations.java:702)\r\n\t\tat reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:113)\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)\r\n\t\tat io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103)\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)\r\n\t\tat io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)\r\n\t\tat io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:336)\r\n\t\tat io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:308)\r\n\t\tat io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)\r\n\t\tat io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\r\n\t\tat io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\r\n\t\tat io.netty.channel.epoll.AbstractEpollStreamChannel$EpollStreamUnsafe.epollInReady(AbstractEpollStreamChannel.java:800)\r\n\t\tat io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)\r\n\t\tat io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:397)\r\n\t\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\r\n\t\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n\t\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n\t\tat java.base/java.lang.Thread.run(Thread.java:833)\r\n\tSuppressed: java.lang.Exception: #block terminated with an error\r\n\t\tat reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:99)\r\n\t\tat reactor.core.publisher.Mono.block(Mono.java:1707)\r\n\t\tat UploadsTest.springUpload(UploadsTest.java:165)\r\n\t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\t\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\t\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\t\tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:725)\r\n\t\tat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n\t\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n\t\tat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\r\n\t\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\r\n\t\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\r\n\t\tat org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\r\n\t\tat org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\r\n\t\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n\t\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n\t\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n\t\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n\t\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\r\n\t\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\r\n\t\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:214)\r\n\t\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\t\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:210)\r\n\t\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:135)\r\n\t\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:66)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\r\n\t\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\t\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\t\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\t\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\t\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\t\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\t\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\t\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\t\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\t\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\t\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\t\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\t\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\t\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n\t\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\t\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n\t\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\r\n\t\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\r\n\t\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\r\n\t\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\r\n\t\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\r\n\t\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n\t\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:95)\r\n\t\tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:91)\r\n\t\tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:60)\r\n\t\tat org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:98)\r\n\t\tat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)\r\n\t\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:529)\r\n\t\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:756)\r\n\t\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:452)\r\n\t\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210)\r\n```\r\n\r\nThis simple post from curl works fine:\r\n\r\n```\r\ncurl -X POST -v --user &quot;username:password&quot; -H &quot;Content-Type: multipart/form-data&quot; \\\\\r\n     --form file=@upload.csv  http://localhost:8080/api/uploads\r\n```\r\n\r\nas does this Angular POST (not shown is the authentication interceptor):\r\n\r\n```\r\nupload(file: File): Observable&lt;any&gt; {\r\n    const formData: FormData = new FormData()\r\n\r\n    formData.append(&#39;file&#39;, file, file.name);\r\n\r\n    const observable: Observable&lt;any&gt; = this._http\r\n      .post(url, formData)\r\n      .pipe(\r\n        // map(response =&gt; response),\r\n        share()\r\n    );\r\n```\r\n\r\nAny ideas on how to get the Spring WebClient API to work like the curl &amp; Angular clients?","title":"Spring WebClient multi-part file upload","body":"<p>A simple Spring Boot 2.7.5 WebClient application fails with a 400 BAD REQUEST:</p>\n<pre><code>var home = &quot;/home/me&quot;;\n\nvar uploadFile = new File(home+&quot;/upload.csv&quot;);   \nvar uploadPath = uploadFile.toPath();\nvar uploadContent = Files.readString(uploadPath);\n\nvar multipartBodyBuilder = new MultipartBodyBuilder();\nmultipartBodyBuilder.part(&quot;file&quot;, uploadPath);\n//multipartBodyBuilder.part(&quot;file&quot;, uploadFile);\nvar mimeMultipartData = multipartBodyBuilder.build();\n\nvar configuration = new Configuration(/* ... */);\n\nvar webClient = WebClient.builder()\n        .baseUrl(_baseUrl(configuration.getEndpoint()))\n        .filters( filters -&gt; {\n            filters.add(authentication(configuration));\n\n            if (configuration.capturePackets()) {\n                filters.add(captureRequest());\n                filters.add(captureResponse());\n            }\n        })\n        .build();\n\nMono&lt;HttpStatus&gt; httpStatusMono = webClient\n     .post()\n     .uri(URI.create(&quot;http://localhost:8080/api/marketplaces/1/holdings/uploads&quot;))\n     .body(BodyInserters.fromMultipartData(mimeMultipartData))\n     .retrieve()\n     .bodyToMono(HttpStatus.class);\n</code></pre>\n<p>against a Spring Boot 2.7.5 multi-part file upload API:</p>\n<pre><code>    @PostMapping(&quot;/uploads&quot;)\n    public ResponseEntity&lt;?&gt; uploads(@RequestParam(value=&quot;file&quot;, required=true) MultipartFile file) throws IOException {\n        try (InputStream input = file.getInputStream()) {\n            doSomething(input);\n        }\n        return ResponseEntity.ok().build();\n    }\n</code></pre>\n<p>The bad request exception is:</p>\n<pre><code>org.springframework.web.reactive.function.client.WebClientResponseException$BadRequest: 400 Bad Request from POST http://localhost:8080/api/uploads\n    at org.springframework.web.reactive.function.client.WebClientResponseException.create(WebClientResponseException.java:217)\n    Suppressed: The stacktrace has been enhanced by Reactor, refer to additional information below: \nError has been observed at the following site(s):\n    *__checkpoint  400 from POST http://localhost:8080/api/uploads [DefaultWebClient]\nOriginal Stack Trace:\n        at org.springframework.web.reactive.function.client.WebClientResponseException.create(WebClientResponseException.java:217)\n        at org.springframework.web.reactive.function.client.DefaultClientResponse.lambda$createException$1(DefaultClientResponse.java:207)\n        at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:106)\n        at reactor.core.publisher.FluxOnErrorReturn$ReturnSubscriber.onNext(FluxOnErrorReturn.java:162)\n        at reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1816)\n        at reactor.core.publisher.FluxDefaultIfEmpty$DefaultIfEmptySubscriber.onComplete(FluxDefaultIfEmpty.java:109)\n        at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onComplete(FluxMapFuseable.java:152)\n        at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onComplete(FluxContextWrite.java:126)\n        at reactor.core.publisher.FluxMapFuseable$MapFuseableConditionalSubscriber.onComplete(FluxMapFuseable.java:350)\n        at reactor.core.publisher.FluxFilterFuseable$FilterFuseableConditionalSubscriber.onComplete(FluxFilterFuseable.java:391)\n        at reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1817)\n        at reactor.core.publisher.MonoCollect$CollectSubscriber.onComplete(MonoCollect.java:160)\n        at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144)\n        at reactor.core.publisher.FluxPeek$PeekSubscriber.onComplete(FluxPeek.java:260)\n        at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144)\n        at reactor.netty.channel.FluxReceive.onInboundComplete(FluxReceive.java:400)\n        at reactor.netty.channel.ChannelOperations.onInboundComplete(ChannelOperations.java:419)\n        at reactor.netty.channel.ChannelOperations.terminate(ChannelOperations.java:473)\n        at reactor.netty.http.client.HttpClientOperations.onInboundNext(HttpClientOperations.java:702)\n        at reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:113)\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\n        at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)\n        at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103)\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\n        at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)\n        at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)\n        at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:336)\n        at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:308)\n        at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\n        at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)\n        at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\n        at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\n        at io.netty.channel.epoll.AbstractEpollStreamChannel$EpollStreamUnsafe.epollInReady(AbstractEpollStreamChannel.java:800)\n        at io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)\n        at io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:397)\n        at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\n        at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n        at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n        at java.base/java.lang.Thread.run(Thread.java:833)\n    Suppressed: java.lang.Exception: #block terminated with an error\n        at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:99)\n        at reactor.core.publisher.Mono.block(Mono.java:1707)\n        at UploadsTest.springUpload(UploadsTest.java:165)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n        at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:725)\n        at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n        at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\n        at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\n        at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\n        at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\n        at org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\n        at org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\n        at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n        at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n        at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n        at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n        at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\n        at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\n        at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:214)\n        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n        at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:210)\n        at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:135)\n        at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:66)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\n        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n        at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n        at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n        at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n        at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n        at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n        at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n        at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n        at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n        at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n        at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n        at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\n        at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\n        at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\n        at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\n        at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\n        at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\n        at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:95)\n        at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:91)\n        at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:60)\n        at org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:98)\n        at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)\n        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:529)\n        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:756)\n        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:452)\n        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210)\n</code></pre>\n<p>This simple post from curl works fine:</p>\n<pre><code>curl -X POST -v --user &quot;username:password&quot; -H &quot;Content-Type: multipart/form-data&quot; \\\\\n     --form file=@upload.csv  http://localhost:8080/api/uploads\n</code></pre>\n<p>as does this Angular POST (not shown is the authentication interceptor):</p>\n<pre><code>upload(file: File): Observable&lt;any&gt; {\n    const formData: FormData = new FormData()\n\n    formData.append('file', file, file.name);\n\n    const observable: Observable&lt;any&gt; = this._http\n      .post(url, formData)\n      .pipe(\n        // map(response =&gt; response),\n        share()\n    );\n</code></pre>\n<p>Any ideas on how to get the Spring WebClient API to work like the curl &amp; Angular clients?</p>\n"},{"tags":["java","selenium-webdriver","selenium-jupiter"],"answers":[{"tags":[],"owner":{"account_id":4420200,"reputation":4708,"user_id":3877746,"accept_rate":100,"display_name":"Boni Garc&#237;a"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695306228,"creation_date":1695306228,"answer_id":77151168,"question_id":77150945,"body_markdown":"This is not possible in the current implementation of Selenium Manager, since browsers are always disposed after each test. But you can introduce a custom wait after each test to manually inspect your browser, for instance, as follows:\r\n\r\n    @AfterEach\r\n    void teardown() throws InterruptedException {\r\n        Thread.sleep(60000);\r\n    }","title":"How to prevent SeleniumJupiter from quit the driver?","body":"<p>This is not possible in the current implementation of Selenium Manager, since browsers are always disposed after each test. But you can introduce a custom wait after each test to manually inspect your browser, for instance, as follows:</p>\n<pre><code>@AfterEach\nvoid teardown() throws InterruptedException {\n    Thread.sleep(60000);\n}\n</code></pre>\n"}],"owner":{"account_id":22764027,"reputation":11,"user_id":16922382,"display_name":"ladida"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695306269,"creation_date":1695304555,"question_id":77150945,"body_markdown":"Selenium Jupiter run driver.quit() automatically after every test. But in some cases I would like to look at the browser after the test manually. In Selenium it&#39;s easy, don&#39;t call `driver.quit()`. But how does I can do that in Selenium Jupiter?","title":"How to prevent SeleniumJupiter from quit the driver?","body":"<p>Selenium Jupiter run driver.quit() automatically after every test. But in some cases I would like to look at the browser after the test manually. In Selenium it's easy, don't call <code>driver.quit()</code>. But how does I can do that in Selenium Jupiter?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":2042,"reputation":29163,"user_id":2811,"accept_rate":75,"display_name":"diciu"},"score":24,"creation_date":1263034174,"post_id":2033088,"comment_id":1957067,"body_markdown":"Use *if(drawable==null)* Calling any method on a NULL object is a NullPointerException.","body":"Use <i>if(drawable==null)</i> Calling any method on a NULL object is a NullPointerException."},{"owner":{"account_id":85409,"reputation":89783,"user_id":238134,"accept_rate":73,"display_name":"deamon"},"score":3,"creation_date":1263035810,"post_id":2033088,"comment_id":1957142,"body_markdown":"Why don&#39;t you write a usual answer instead of a comment, diciu?","body":"Why don&#39;t you write a usual answer instead of a comment, diciu?"},{"owner":{"account_id":164368,"reputation":104823,"user_id":387076,"accept_rate":47,"display_name":"Gilles &#39;SO- stop being evil&#39;"},"score":0,"creation_date":1408283633,"post_id":2033088,"comment_id":39522970,"body_markdown":"@JaredBurrows Do not edit the code in a question in a way that defeats the purpose of the question!","body":"@JaredBurrows Do not edit the code in a question in a way that defeats the purpose of the question!"},{"owner":{"account_id":918082,"reputation":54574,"user_id":950427,"accept_rate":91,"display_name":"Jared Burrows"},"score":0,"creation_date":1408283786,"post_id":2033088,"comment_id":39523010,"body_markdown":"@Gilles Read my editorial comment, I made the code more readable.","body":"@Gilles Read my editorial comment, I made the code more readable."},{"owner":{"account_id":164368,"reputation":104823,"user_id":387076,"accept_rate":47,"display_name":"Gilles &#39;SO- stop being evil&#39;"},"score":0,"creation_date":1408283966,"post_id":2033088,"comment_id":39523056,"body_markdown":"@JaredBurrows No, your edit was not a formatting change. You changed non-working code which was the object of the question, into working code which made the question moot.","body":"@JaredBurrows No, your edit was not a formatting change. You changed non-working code which was the object of the question, into working code which made the question moot."},{"owner":{"account_id":1542737,"reputation":4319,"user_id":1436981,"accept_rate":45,"display_name":"stuXnet"},"score":0,"creation_date":1408284028,"post_id":2033088,"comment_id":39523074,"body_markdown":"@JaredBurrows I had to revert (some of) your changes - you changed it from `drawable.equals(null)` to `isNull(drawable)` - I assume you copied from your first (formatting only) edit on Eddie B&#39;s answer. Please don&#39;t do that.","body":"@JaredBurrows I had to revert (some of) your changes - you changed it from <code>drawable.equals(null)</code> to <code>isNull(drawable)</code> - I assume you copied from your first (formatting only) edit on Eddie B&#39;s answer. Please don&#39;t do that."},{"owner":{"account_id":1542737,"reputation":4319,"user_id":1436981,"accept_rate":45,"display_name":"stuXnet"},"score":0,"creation_date":1408284084,"post_id":2033088,"comment_id":39523086,"body_markdown":"@Giles `isNull(drawable)` won&#39;t compile, because there is no `isNull` defined in the context of the question.","body":"@Giles <code>isNull(drawable)</code> won&#39;t compile, because there is no <code>isNull</code> defined in the context of the question."},{"owner":{"account_id":918082,"reputation":54574,"user_id":950427,"accept_rate":91,"display_name":"Jared Burrows"},"score":0,"creation_date":1408284564,"post_id":2033088,"comment_id":39523216,"body_markdown":"@stuXnet That&#39;s perfectly fine. Good question just needed reformatting.","body":"@stuXnet That&#39;s perfectly fine. Good question just needed reformatting."}],"answers":[{"tags":[],"owner":{"account_id":8198,"reputation":176773,"user_id":14637,"accept_rate":88,"display_name":"Thomas"},"down_vote_count":0,"up_vote_count":190,"is_accepted":false,"score":190,"last_activity_date":1544689034,"creation_date":1263034132,"answer_id":2033090,"question_id":2033088,"body_markdown":"    Drawable drawable = Common.getDrawableFromUrl(this, product.getMapPath());\r\n    if (drawable == null) {\r\n        drawable = getRandomDrawable();\r\n    }\r\n\r\nThe `equals()` method checks for *value* equality, which means that it compares the *contents* of two objects. Since `null` is not an object, this crashes when trying to compare the contents of your object to the contents of `null`.\r\n\r\nThe `==` operator checks for *reference* equality, which means that it looks whether the two objects are actually the *very same object*. This does not require the objects to actually exist; two nonexistent objects (`null` references) are also equal.\r\n","title":"How to check if object is null?","body":"<pre><code>Drawable drawable = Common.getDrawableFromUrl(this, product.getMapPath());\nif (drawable == null) {\n    drawable = getRandomDrawable();\n}\n</code></pre>\n\n<p>The <code>equals()</code> method checks for <em>value</em> equality, which means that it compares the <em>contents</em> of two objects. Since <code>null</code> is not an object, this crashes when trying to compare the contents of your object to the contents of <code>null</code>.</p>\n\n<p>The <code>==</code> operator checks for <em>reference</em> equality, which means that it looks whether the two objects are actually the <em>very same object</em>. This does not require the objects to actually exist; two nonexistent objects (<code>null</code> references) are also equal.</p>\n"},{"tags":[],"owner":{"account_id":85409,"reputation":89783,"user_id":238134,"accept_rate":73,"display_name":"deamon"},"down_vote_count":4,"up_vote_count":39,"is_accepted":true,"score":35,"last_activity_date":1413791835,"creation_date":1263035443,"answer_id":2033135,"question_id":2033088,"body_markdown":"**Edited Java 8 Solution:**\r\n\r\n    final Drawable drawable = \r\n        Optional.ofNullable(Common.getDrawableFromUrl(this, product.getMapPath()))\r\n            .orElseGet(() -&gt; getRandomDrawable());\r\n\r\nYou can declare `drawable` `final` in this case.\r\n\r\nAs Chasmo pointed out, Android doesn&#39;t support Java 8 at the moment. So this solution is only possible in other contexts.\r\n","title":"How to check if object is null?","body":"<p><strong>Edited Java 8 Solution:</strong></p>\n\n<pre><code>final Drawable drawable = \n    Optional.ofNullable(Common.getDrawableFromUrl(this, product.getMapPath()))\n        .orElseGet(() -&gt; getRandomDrawable());\n</code></pre>\n\n<p>You can declare <code>drawable</code> <code>final</code> in this case.</p>\n\n<p>As Chasmo pointed out, Android doesn't support Java 8 at the moment. So this solution is only possible in other contexts.</p>\n"},{"tags":[],"owner":{"account_id":52535,"reputation":34017,"user_id":157027,"accept_rate":67,"display_name":"Amit"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1263048455,"creation_date":1263048455,"answer_id":2033709,"question_id":2033088,"body_markdown":"    drawable.equals(null)\r\n\r\nThe above line calls the &quot;equals(...)&quot; method on the drawable object.\r\n\r\nSo, when drawable is not null and it is a real object, then all goes well as calling the &quot;equals(null)&quot; method will return &quot;false&quot;\r\n\r\nBut when &quot;drawable&quot; is null, then it means calling the &quot;equals(...)&quot; method on null object, means calling a method on an object that doesn&#39;t exist so it throws &quot;NullPointerException&quot;\r\n\r\nTo check whether an object exists and it is not null, use the following\r\n\r\n    if(drawable == null) {\r\n        ...\r\n        ...\r\n    }\r\n\r\nIn above condition, we are checking that the reference variable &quot;drawable&quot; is null or contains some value (reference to its object) so it won&#39;t throw exception in case drawable is null as checking \r\n\r\n    null == null\r\n\r\nis valid.","title":"How to check if object is null?","body":"<pre><code>drawable.equals(null)\n</code></pre>\n\n<p>The above line calls the \"equals(...)\" method on the drawable object.</p>\n\n<p>So, when drawable is not null and it is a real object, then all goes well as calling the \"equals(null)\" method will return \"false\"</p>\n\n<p>But when \"drawable\" is null, then it means calling the \"equals(...)\" method on null object, means calling a method on an object that doesn't exist so it throws \"NullPointerException\"</p>\n\n<p>To check whether an object exists and it is not null, use the following</p>\n\n<pre><code>if(drawable == null) {\n    ...\n    ...\n}\n</code></pre>\n\n<p>In above condition, we are checking that the reference variable \"drawable\" is null or contains some value (reference to its object) so it won't throw exception in case drawable is null as checking </p>\n\n<pre><code>null == null\n</code></pre>\n\n<p>is valid.</p>\n"},{"tags":[],"owner":{"account_id":89591,"reputation":639,"user_id":1691669,"display_name":"outofcoffee"},"down_vote_count":1,"up_vote_count":26,"is_accepted":false,"score":25,"last_activity_date":1263048880,"creation_date":1263048880,"answer_id":2033732,"question_id":2033088,"body_markdown":"I use this approach:\r\n\r\n    if (null == drawable) {\r\n      //do stuff\r\n    } else {\r\n      //other things\r\n    }\r\n\r\nThis way I find improves the readability of the line - as I read quickly through a source file I can see it&#39;s a null check.\r\n\r\nWith regards to why you can&#39;t call `.equals()` on an object which may be `null`; if the object reference you have (namely &#39;drawable&#39;) **is** in fact `null`, it doesn&#39;t point to an object on the heap. This means there&#39;s no object on the heap on which the call to `equals()` can succeed.\r\n\r\nBest of luck!","title":"How to check if object is null?","body":"<p>I use this approach:</p>\n\n<pre><code>if (null == drawable) {\n  //do stuff\n} else {\n  //other things\n}\n</code></pre>\n\n<p>This way I find improves the readability of the line - as I read quickly through a source file I can see it's a null check.</p>\n\n<p>With regards to why you can't call <code>.equals()</code> on an object which may be <code>null</code>; if the object reference you have (namely 'drawable') <strong>is</strong> in fact <code>null</code>, it doesn't point to an object on the heap. This means there's no object on the heap on which the call to <code>equals()</code> can succeed.</p>\n\n<p>Best of luck!</p>\n"},{"tags":[],"owner":{"account_id":72724,"reputation":5991,"user_id":209838,"accept_rate":67,"display_name":"Tom R"},"down_vote_count":4,"up_vote_count":1,"is_accepted":false,"score":-3,"last_activity_date":1263050006,"creation_date":1263050006,"answer_id":2033795,"question_id":2033088,"body_markdown":"It&#39;s probably slightly more efficient to catch a NullPointerException. The above methods mean that the runtime is checking for null pointers twice. ","title":"How to check if object is null?","body":"<p>It's probably slightly more efficient to catch a NullPointerException. The above methods mean that the runtime is checking for null pointers twice. </p>\n"},{"tags":[],"owner":{"account_id":1280634,"reputation":331,"user_id":1234797,"display_name":"heapuser"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1408282772,"creation_date":1348714457,"answer_id":12613413,"question_id":2033088,"body_markdown":"`if (yourObject instanceof yourClassName)` will evaluate to `false` if `yourObject` is `null`.","title":"How to check if object is null?","body":"<p><code>if (yourObject instanceof yourClassName)</code> will evaluate to <code>false</code> if <code>yourObject</code> is <code>null</code>.</p>\n"},{"tags":[],"owner":{"account_id":966925,"reputation":4497,"user_id":990208,"accept_rate":82,"display_name":"Bala"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1408282687,"creation_date":1369399818,"answer_id":16735388,"question_id":2033088,"body_markdown":"Use [google guava libs][1] to handle is-null-check (deamon&#39;s update)\r\n\r\n    Drawable drawable = Optional.of(Common.getDrawableFromUrl(this, product.getMapPath())).or(getRandomDrawable());\r\n\r\n\r\n  [1]: https://code.google.com/p/guava-libraries/wiki/UsingAndAvoidingNullExplained","title":"How to check if object is null?","body":"<p>Use <a href=\"https://code.google.com/p/guava-libraries/wiki/UsingAndAvoidingNullExplained\" rel=\"nofollow\">google guava libs</a> to handle is-null-check (deamon's update)</p>\n\n<pre><code>Drawable drawable = Optional.of(Common.getDrawableFromUrl(this, product.getMapPath())).or(getRandomDrawable());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":257480,"reputation":5081,"user_id":538921,"accept_rate":91,"display_name":"Edward J Beckett"},"down_vote_count":3,"up_vote_count":10,"is_accepted":false,"score":7,"last_activity_date":1408282755,"creation_date":1392601869,"answer_id":21819440,"question_id":2033088,"body_markdown":"DIY\r\n\r\n\tprivate boolean isNull(Object obj) {\r\n\t\treturn obj == null;\r\n\t}\r\n\r\n\r\n---\r\n\r\n    Drawable drawable = Common.getDrawableFromUrl(this, product.getMapPath());\r\n    if (isNull(drawable)) {\r\n        drawable = getRandomDrawable();\r\n    }","title":"How to check if object is null?","body":"<p>DIY</p>\n\n<pre><code>private boolean isNull(Object obj) {\n    return obj == null;\n}\n</code></pre>\n\n<hr>\n\n<pre><code>Drawable drawable = Common.getDrawableFromUrl(this, product.getMapPath());\nif (isNull(drawable)) {\n    drawable = getRandomDrawable();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12821400,"reputation":43,"user_id":9276135,"display_name":"Meet Vyas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695302996,"creation_date":1695302996,"answer_id":77150748,"question_id":2033088,"body_markdown":"You can use ```Objects.isNull(Object)```","title":"How to check if object is null?","body":"<p>You can use <code>Objects.isNull(Object)</code></p>\n"}],"owner":{"account_id":11824,"reputation":66155,"user_id":22996,"accept_rate":92,"display_name":"Niko Gamulin"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":451419,"favorite_count":0,"down_vote_count":1,"up_vote_count":98,"accepted_answer_id":2033135,"answer_count":9,"score":97,"last_activity_date":1695305466,"creation_date":1263034030,"question_id":2033088,"body_markdown":"I am creating an application which retrieves images from the web. In case the image cannot be retrieved another local image should be used.\r\n\r\nWhile trying to execute the following lines:\r\n\r\n    Drawable drawable = Common.getDrawableFromUrl(this, product.getMapPath());\r\n    if (drawable.equals(null)) {\r\n      drawable = getRandomDrawable();\r\n    }\r\n\r\nThe line if(drawable.equals(null)) throws an exception if drawable is null.\r\n\r\nDoes anyone know how should the value of drawable be checked in order not to throw an exception in case it is null and retrieve the local image (execute `drawable = getRandomDrawable()`)?\r\n","title":"How to check if object is null?","body":"<p>I am creating an application which retrieves images from the web. In case the image cannot be retrieved another local image should be used.</p>\n<p>While trying to execute the following lines:</p>\n<pre><code>Drawable drawable = Common.getDrawableFromUrl(this, product.getMapPath());\nif (drawable.equals(null)) {\n  drawable = getRandomDrawable();\n}\n</code></pre>\n<p>The line if(drawable.equals(null)) throws an exception if drawable is null.</p>\n<p>Does anyone know how should the value of drawable be checked in order not to throw an exception in case it is null and retrieve the local image (execute <code>drawable = getRandomDrawable()</code>)?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9823,"page":169,"page_size":100}
