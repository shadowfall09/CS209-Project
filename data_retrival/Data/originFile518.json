{"items":[{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1680822220,"post_id":75954136,"comment_id":133966730,"body_markdown":"If you [attach a completion listener](https://firebase.google.com/docs/database/android/read-and-write#add_a_completion_callback) to the write operation and log what happens, does it succeed? Or does it fail?","body":"If you <a href=\"https://firebase.google.com/docs/database/android/read-and-write#add_a_completion_callback\" rel=\"nofollow noreferrer\">attach a completion listener</a> to the write operation and log what happens, does it succeed? Or does it fail?"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1680847968,"post_id":75954136,"comment_id":133969117,"body_markdown":"Please edit your question and add the information Frank asked for, and please also respond using @.","body":"Please edit your question and add the information Frank asked for, and please also respond using @."}],"owner":{"account_id":28236057,"reputation":1,"user_id":21584501,"display_name":"Andrea Nisco"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680822148,"creation_date":1680818935,"question_id":75954136,"body_markdown":"I was just trying to write or read using Firebase realtime database in Android Studio, but it seems that I just can&#39;t. I have like an invisible wall that blocks me, since I don&#39;t get even any errors, so, I really don&#39;t have a clue about what could it be.\r\n\r\nThis is the code that I am using in Android Studio:\r\n\r\n```\r\nFirebaseDatabase database = FirebaseDatabase.getInstance();\r\nDatabaseReference myRef = database.getReference(&quot;message&quot;);\r\n\r\nmyRef.setValue(&quot;Hello, World!&quot;);\r\n```\r\n\r\nAs you can see, it is just the default writing code that Firebase suggests you to use the first time. \r\n\r\nI am pretty sure that my rules in the database are correct, because they are pretty basic:\r\n\r\n```\r\n{\r\n  &quot;rules&quot;: {\r\n    &quot;.read&quot;: true,\r\n    &quot;.write&quot;: true\r\n  }\r\n}\r\n```\r\n\r\nI am also sure that I ave a reference called message since I have created it: \r\n\r\n```\r\n{\r\n  &quot;message&quot;: &quot;&quot;\r\n}\r\n```\r\n\r\nI am also sure that I can connect to internet since I have this in the manifest: \r\n\r\n```\r\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n```\r\n\r\nAnd last I am sure that I am on the right database, since I have already developed a login and signup authentication that works fine, it&#39;s just that it seems I am not able to write (or read) to realtime database and I can&#39;t really understand why. Please help me.\r\n\r\nI was just trying to write from Android to Firebase realtime database and it seems that I am not able to do that but I don&#39;t understand why. ","title":"Unable to write or read using Firebase realtime database in Android app","body":"<p>I was just trying to write or read using Firebase realtime database in Android Studio, but it seems that I just can't. I have like an invisible wall that blocks me, since I don't get even any errors, so, I really don't have a clue about what could it be.</p>\n<p>This is the code that I am using in Android Studio:</p>\n<pre><code>FirebaseDatabase database = FirebaseDatabase.getInstance();\nDatabaseReference myRef = database.getReference(&quot;message&quot;);\n\nmyRef.setValue(&quot;Hello, World!&quot;);\n</code></pre>\n<p>As you can see, it is just the default writing code that Firebase suggests you to use the first time.</p>\n<p>I am pretty sure that my rules in the database are correct, because they are pretty basic:</p>\n<pre><code>{\n  &quot;rules&quot;: {\n    &quot;.read&quot;: true,\n    &quot;.write&quot;: true\n  }\n}\n</code></pre>\n<p>I am also sure that I ave a reference called message since I have created it:</p>\n<pre><code>{\n  &quot;message&quot;: &quot;&quot;\n}\n</code></pre>\n<p>I am also sure that I can connect to internet since I have this in the manifest:</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n</code></pre>\n<p>And last I am sure that I am on the right database, since I have already developed a login and signup authentication that works fine, it's just that it seems I am not able to write (or read) to realtime database and I can't really understand why. Please help me.</p>\n<p>I was just trying to write from Android to Firebase realtime database and it seems that I am not able to do that but I don't understand why.</p>\n"},{"tags":["java","spring-boot"],"owner":{"account_id":487587,"reputation":3346,"user_id":1375292,"accept_rate":67,"display_name":"Troy Daniels"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680822019,"creation_date":1680822019,"question_id":75954359,"body_markdown":"I am attempting to create several related Spring beans, so I am trying to make an abstract `Configuration` and then have several subclasses.  I currently have something like\r\n\r\n```\r\npublic abstract class BaseConfig&lt;Type&gt; {\r\n   @Bean \r\n   @ConditionalOnProperty(...)\r\n   public MyBean&lt;Type&gt; subscriber() {\r\n     return createSubscriber();\r\n   }\r\n\r\n   protected abstract MyBean&lt;Type&gt; createSubscriber();\r\n}\r\n```\r\n\r\nThe subclasses are defined by\r\n\r\n```\r\npublic class FooBean extends MyBean&lt;Foo&gt; { ... }\r\npublic class BarBean extends MyBean&lt;Bar&gt; { ... }\r\n\r\n@Configuration\r\npublic Config {\r\n  @Configuration\r\n  class FooConfig extends BaseConfig&lt;Foo&gt; {\r\n    @Override\r\n    FooBean createSubscriber() { return new FooBean(); }\r\n  }\r\n\r\n  @Configuration\r\n  class BarConfig extends BaseConfig&lt;Bar&gt; {\r\n    @Override\r\n    BarBean createSubscriber(() { return new BarBean(); }\r\n  }\r\n}\r\n```\r\n\r\nWhen I run the code with debug logging enabled, I see that both configs are created.  The first one created (in my case, `BarConfig`), creates a singleton bean named `subscriber` which is a `BarBean`.  For the second one, there is already a bean named `subscriber`, so it does not create the `FooBean`.\r\n\r\nObviously, I could have the derived `Configuration` classes provide a method (`fooBean` or `barBean`) with the appropriate annotations, but then I have the same annotations in multiple places.  (I also feel that Spring code tends to have so many annotations that it&#39;s hard to find the actual code, so I&#39;d like to hide the annotations as much as possible.)\r\n\r\nIt seems that a solution could be to use `@Bean(name=&quot;???&quot;)` in the base class.  The [`KafkaListener`][1] annotation allows you to use `__listener` as a reference to the associated bean in `SpEl` expression, which would let me do `@Bean(name=&quot;#{__listener.getPrefix()}Subscriber&quot;)` to create unique names. Is there a similar syntax for `@Bean`?  I have not been able to find one online.\r\n\r\nAlternatively, is there a different way to create the beans that lets me specify the name at runtime? \r\n\r\n\r\n  [1]: https://docs.spring.io/spring-kafka/api/org/springframework/kafka/annotation/KafkaListener.html","title":"Create a Spring bean with a name determined at runtime","body":"<p>I am attempting to create several related Spring beans, so I am trying to make an abstract <code>Configuration</code> and then have several subclasses.  I currently have something like</p>\n<pre><code>public abstract class BaseConfig&lt;Type&gt; {\n   @Bean \n   @ConditionalOnProperty(...)\n   public MyBean&lt;Type&gt; subscriber() {\n     return createSubscriber();\n   }\n\n   protected abstract MyBean&lt;Type&gt; createSubscriber();\n}\n</code></pre>\n<p>The subclasses are defined by</p>\n<pre><code>public class FooBean extends MyBean&lt;Foo&gt; { ... }\npublic class BarBean extends MyBean&lt;Bar&gt; { ... }\n\n@Configuration\npublic Config {\n  @Configuration\n  class FooConfig extends BaseConfig&lt;Foo&gt; {\n    @Override\n    FooBean createSubscriber() { return new FooBean(); }\n  }\n\n  @Configuration\n  class BarConfig extends BaseConfig&lt;Bar&gt; {\n    @Override\n    BarBean createSubscriber(() { return new BarBean(); }\n  }\n}\n</code></pre>\n<p>When I run the code with debug logging enabled, I see that both configs are created.  The first one created (in my case, <code>BarConfig</code>), creates a singleton bean named <code>subscriber</code> which is a <code>BarBean</code>.  For the second one, there is already a bean named <code>subscriber</code>, so it does not create the <code>FooBean</code>.</p>\n<p>Obviously, I could have the derived <code>Configuration</code> classes provide a method (<code>fooBean</code> or <code>barBean</code>) with the appropriate annotations, but then I have the same annotations in multiple places.  (I also feel that Spring code tends to have so many annotations that it's hard to find the actual code, so I'd like to hide the annotations as much as possible.)</p>\n<p>It seems that a solution could be to use <code>@Bean(name=&quot;???&quot;)</code> in the base class.  The <a href=\"https://docs.spring.io/spring-kafka/api/org/springframework/kafka/annotation/KafkaListener.html\" rel=\"nofollow noreferrer\"><code>KafkaListener</code></a> annotation allows you to use <code>__listener</code> as a reference to the associated bean in <code>SpEl</code> expression, which would let me do <code>@Bean(name=&quot;#{__listener.getPrefix()}Subscriber&quot;)</code> to create unique names. Is there a similar syntax for <code>@Bean</code>?  I have not been able to find one online.</p>\n<p>Alternatively, is there a different way to create the beans that lets me specify the name at runtime?</p>\n"},{"tags":["java","recursion"],"owner":{"account_id":28236231,"reputation":11,"user_id":21584645,"display_name":"Saeed"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1680820790,"creation_date":1680820790,"question_id":75954283,"body_markdown":"I am working on this leetcode problem: https://leetcode.com/problems/number-of-closed-islands/description/\r\n\r\n\r\nThe recursive code I have written produces different result for the test case below if we returning xx instead of yy.\r\n\r\nTest case is:\r\n```\r\ngrid = [[0,0,1,1,0,1,0,0,1,0],[1,1,0,1,1,0,1,1,1,0],[1,0,1,1,1,0,0,1,1,0],[0,1,1,0,0,0,0,1,0,1],[0,0,0,0,0,0,1,1,1,0],[0,1,0,1,0,1,0,1,1,1],[1,0,1,0,1,1,0,0,0,1],[1,1,1,1,1,1,0,0,0,0],[1,1,1,0,0,1,0,1,0,1],[1,1,1,0,1,1,0,1,1,0]]\r\n```\r\nMy code:\r\n```\r\nclass Solution {\r\n    int R;\r\n    int C;\r\n    public int closedIsland(int[][] grid) {\r\n        R = grid.length;\r\n        C = grid[0].length;\r\n\r\n        boolean[][] visited = new boolean[R][C];\r\n        int numIslands = 0;\r\n        for (int r = 0; r &lt; R; ++r) {\r\n            for (int c = 0; c &lt; C; ++c) {\r\n                if (grid[r][c] == 1 || visited[r][c]) {\r\n                    continue;\r\n                }\r\n                if (dfs(r, c, grid, visited)) {\r\n                    numIslands++;\r\n                }\r\n                // numIslands += dfs(r, c, grid, visited);\r\n            }\r\n        }\r\n\r\n        return numIslands;\r\n    }\r\n\r\n    public boolean dfs(int r, int c, int[][] grid, boolean[][] visited) {\r\n        if (r &lt; 0 || r == R || c &lt; 0 || c == C) {\r\n            return false;\r\n        }\r\n\r\n        if (grid[r][c] == 1  || visited[r][c]) {\r\n            return true;\r\n        }\r\n\r\n        visited[r][c] = true;\r\n    \r\n        boolean left = dfs(r - 1, c, grid, visited);\r\n        boolean right = dfs(r + 1, c, grid, visited);\r\n        boolean up = dfs(r, c - 1, grid, visited);\r\n        boolean bottom = dfs(r, c + 1, grid, visited);\r\n        \r\n        System.out.println(r + &quot;_&quot; + c);\r\n        boolean yy = left &amp;&amp; right &amp;&amp; up &amp;&amp; bottom;\r\n        boolean xx = dfs(r - 1, c, grid, visited) \r\n                    &amp;&amp; dfs(r + 1, c, grid, visited) \r\n                    &amp;&amp; dfs(r, c - 1, grid, visited) &amp;&amp; dfs(r, c + 1, grid, visited);\r\n        // System.out.println(&quot;yy : &quot; + yy);\r\n        // System.out.println(&quot;xx : &quot; + xx);\r\n        // return left &amp;&amp; right &amp;&amp; up &amp;&amp; bottom;\r\n        return xx;\r\n    }\r\n}\r\n```\r\n\r\nDoes anyone know the reason? \r\n\r\n","title":"Different java recursive outputs","body":"<p>I am working on this leetcode problem: <a href=\"https://leetcode.com/problems/number-of-closed-islands/description/\" rel=\"nofollow noreferrer\">https://leetcode.com/problems/number-of-closed-islands/description/</a></p>\n<p>The recursive code I have written produces different result for the test case below if we returning xx instead of yy.</p>\n<p>Test case is:</p>\n<pre><code>grid = [[0,0,1,1,0,1,0,0,1,0],[1,1,0,1,1,0,1,1,1,0],[1,0,1,1,1,0,0,1,1,0],[0,1,1,0,0,0,0,1,0,1],[0,0,0,0,0,0,1,1,1,0],[0,1,0,1,0,1,0,1,1,1],[1,0,1,0,1,1,0,0,0,1],[1,1,1,1,1,1,0,0,0,0],[1,1,1,0,0,1,0,1,0,1],[1,1,1,0,1,1,0,1,1,0]]\n</code></pre>\n<p>My code:</p>\n<pre><code>class Solution {\n    int R;\n    int C;\n    public int closedIsland(int[][] grid) {\n        R = grid.length;\n        C = grid[0].length;\n\n        boolean[][] visited = new boolean[R][C];\n        int numIslands = 0;\n        for (int r = 0; r &lt; R; ++r) {\n            for (int c = 0; c &lt; C; ++c) {\n                if (grid[r][c] == 1 || visited[r][c]) {\n                    continue;\n                }\n                if (dfs(r, c, grid, visited)) {\n                    numIslands++;\n                }\n                // numIslands += dfs(r, c, grid, visited);\n            }\n        }\n\n        return numIslands;\n    }\n\n    public boolean dfs(int r, int c, int[][] grid, boolean[][] visited) {\n        if (r &lt; 0 || r == R || c &lt; 0 || c == C) {\n            return false;\n        }\n\n        if (grid[r][c] == 1  || visited[r][c]) {\n            return true;\n        }\n\n        visited[r][c] = true;\n    \n        boolean left = dfs(r - 1, c, grid, visited);\n        boolean right = dfs(r + 1, c, grid, visited);\n        boolean up = dfs(r, c - 1, grid, visited);\n        boolean bottom = dfs(r, c + 1, grid, visited);\n        \n        System.out.println(r + &quot;_&quot; + c);\n        boolean yy = left &amp;&amp; right &amp;&amp; up &amp;&amp; bottom;\n        boolean xx = dfs(r - 1, c, grid, visited) \n                    &amp;&amp; dfs(r + 1, c, grid, visited) \n                    &amp;&amp; dfs(r, c - 1, grid, visited) &amp;&amp; dfs(r, c + 1, grid, visited);\n        // System.out.println(&quot;yy : &quot; + yy);\n        // System.out.println(&quot;xx : &quot; + xx);\n        // return left &amp;&amp; right &amp;&amp; up &amp;&amp; bottom;\n        return xx;\n    }\n}\n</code></pre>\n<p>Does anyone know the reason?</p>\n"},{"tags":["java","jpa"],"comments":[{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":1,"creation_date":1680820491,"post_id":75954233,"comment_id":133966497,"body_markdown":"The policy document contains a contact frequency and the contact frequency contains a back reference to the  policy document? How do you expect the json to look? Create a dto without the back reference.","body":"The policy document contains a contact frequency and the contact frequency contains a back reference to the  policy document? How do you expect the json to look? Create a dto without the back reference."},{"owner":{"account_id":25523969,"reputation":25,"user_id":19313367,"display_name":"Yiğit G&#252;neş"},"score":0,"creation_date":1680821965,"post_id":75954233,"comment_id":133966708,"body_markdown":"Hi @daniu, thanks for your answer. Do you mean dto for policy document? Because I already have a dto for contact frequency. I was mapping contact frequency to dto and setting the dto parameters to policy document parameters. But contact frequency&#39;s policy document reference is still going to be there. How I can get rid of it? btw sorry to be dumb and make you angry","body":"Hi @daniu, thanks for your answer. Do you mean dto for policy document? Because I already have a dto for contact frequency. I was mapping contact frequency to dto and setting the dto parameters to policy document parameters. But contact frequency&#39;s policy document reference is still going to be there. How I can get rid of it? btw sorry to be dumb and make you angry"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":1,"creation_date":1681140004,"post_id":75954233,"comment_id":134004780,"body_markdown":"You&#39;ve got a circular reference which will cause a stack overflow as your serializer recursively goes through a PolicyDocument to covert it to JSON. You have to tell it how to handle the circular reference caused by PolicyDocument.contactFrequency and ContactFrequency.policyDocument referencing each other. JSONIgnore on one side is the most common, but then you have to reset the reference yourself at times. See https://www.baeldung.com/jackson-bidirectional-relationships-and-infinite-recursion","body":"You&#39;ve got a circular reference which will cause a stack overflow as your serializer recursively goes through a PolicyDocument to covert it to JSON. You have to tell it how to handle the circular reference caused by PolicyDocument.contactFrequency and ContactFrequency.policyDocument referencing each other. JSONIgnore on one side is the most common, but then you have to reset the reference yourself at times. See <a href=\"https://www.baeldung.com/jackson-bidirectional-relationships-and-infinite-recursion\" rel=\"nofollow noreferrer\">baeldung.com/&hellip;</a>"},{"owner":{"account_id":25523969,"reputation":25,"user_id":19313367,"display_name":"Yiğit G&#252;neş"},"score":0,"creation_date":1681145187,"post_id":75954233,"comment_id":134005855,"body_markdown":"Hi @Chris thank you for your helpful comment. My problem was solved when I applied the first solution in the document you sent.","body":"Hi @Chris thank you for your helpful comment. My problem was solved when I applied the first solution in the document you sent."}],"owner":{"account_id":25523969,"reputation":25,"user_id":19313367,"display_name":"Yiğit G&#252;neş"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680820071,"creation_date":1680820071,"question_id":75954233,"body_markdown":"Recently I created a new entity and a table to join one of my existing table/entity. But i guess i misconfigured and I am receiving this error:\r\n\r\n```\r\n[2023-04-06] [21:54:39,901] [SEVERE ] [10gjnye] [org.eclipse.yasson.internal.Marshaller]: [Unable to serialize property &#39;contactFrequency&#39; from com.policy.common.entities.PolicyDocument]\r\n[2023-04-06] [21:54:39,901] [SEVERE ] [10gjnye] [org.eclipse.yasson.internal.Marshaller]: [Generating incomplete JSON]\r\n[2023-04-06] [21:54:39,902] [INFO&#160;&#160; ] [10gjnye] [com.gcdm.ms.utils.logging.filter.GcdmServiceLoggingFilter]: [MSG:#### SERVICE_EXIT: 90&#160; * Server out-bound response on thread http-thread-pool::http-listener(4)\r\n90 RESP &lt; 500\r\n```\r\nAnd throws 500.\r\n\r\n**MAIN ENTITY**\r\n```\r\npackage com.policy.common.entities;\r\n\r\nimport com.policy.common.entities.enums.PolicyDocumentStatus;\r\nimport com.policy.common.util.logging.PmToStringStyle;\r\nimport com.fasterxml.jackson.annotation.JsonIgnore;\r\nimport com.fasterxml.jackson.databind.annotation.JsonDeserialize;\r\nimport com.fasterxml.jackson.databind.deser.std.DateDeserializers;\r\nimport com.sun.istack.Nullable;\r\nimport org.apache.commons.lang3.builder.ToStringBuilder;\r\n\r\nimport javax.persistence.*;\r\nimport javax.xml.bind.annotation.XmlRootElement;\r\nimport java.io.Serializable;\r\nimport java.util.ArrayList;\r\nimport java.util.Calendar;\r\nimport java.util.List;\r\n\r\n\r\n@Entity\r\n@Table(name = &quot;policy_document&quot;)\r\n@NamedQueries({\r\n@NamedQuery(name = PolicyDocument.findPolicyDocumentByNameCountryAndVersion,\r\nquery = &quot;SELECT p FROM PolicyDocument AS p WHERE p.name = :name and p.country = :country and p.majorVersion = :majorVersion and p.minorVersion = :minorVersion&quot;),\r\n@NamedQuery(name = PolicyDocument.findPolicyDocumentByNameAndCountry,\r\nquery = &quot;SELECT p FROM PolicyDocument AS p WHERE p.name = :name and p.country = :country&quot;),\r\n@NamedQuery(name = PolicyDocument.findAllPolicySearchDocuments,\r\nquery = &quot;SELECT NEW com.policy.common.entities.PolicySearchDocument(p.id, p.name, p.validFrom, p.country, &quot; +\r\n&quot;p.majorVersion, p.minorVersion, p.status) FROM PolicyDocument AS p&quot;),\r\n@NamedQuery(name = PolicyDocument.findPolicySearchDocumentsNotArchived,\r\nquery = &quot;SELECT NEW com.policy.common.entities.PolicySearchDocument(p.id, p.name, p.validFrom, p.country, &quot; +\r\n&quot;p.majorVersion, p.minorVersion, p.status) FROM PolicyDocument AS p WHERE p.status != :archived&quot;),\r\n@NamedQuery(name = PolicyDocument.findPolicyDocumentNotArchivedById,\r\nquery = &quot;SELECT p FROM PolicyDocument AS p WHERE p.id = :id AND p.status != :archived&quot;)})\r\n@XmlRootElement\r\npublic class PolicyDocument implements DocumentMetadata, Serializable {\r\n\r\npublic static final String findPolicyDocumentByNameCountryAndVersion = &quot;findPolicyDocumentByNameCountryAndVersion&quot;;\r\npublic static final String findPolicyDocumentByNameAndCountry = &quot;findPolicyDocumentByNameAndCountry&quot;;\r\npublic static final String findAllPolicyDocuments = &quot;findAllPolicyDocuments&quot;;\r\npublic static final String findAllPolicySearchDocuments = &quot;findAllPolicySearchDocuments&quot;;\r\npublic static final String findPolicySearchDocumentsNotArchived = &quot;findPolicySearchDocumentsNotArchived&quot;;\r\npublic static final String findPolicyDocumentNotArchivedById = &quot;findPolicyDocumentNotArchivedById&quot;;\r\n\r\n@Id\r\n@SequenceGenerator(name = &quot;policy_document_id_seq&quot;, sequenceName = &quot;policy_document_id_seq&quot;, allocationSize = 1)\r\n@GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;policy_document_id_seq&quot;)\r\n@Column(name = &quot;id&quot;, updatable = false)\r\nprivate Long id;\r\n\r\n/**\r\n* The policy name (sometimes called policy id)\r\n*/\r\n@Column(name = &quot;name&quot;)\r\nprotected String name;\r\n\r\n/**\r\n* Date from which the policy document is valid\r\n*/\r\n@Column(name = &quot;valid_from&quot;)\r\n@Temporal(TemporalType.TIMESTAMP)\r\n@JsonDeserialize(using = DateDeserializers.CalendarDeserializer.class)\r\nprotected Calendar validFrom;\r\n\r\n/**\r\n* A policy document is identified by PolicyName, MajorVersion, MinorVersion and country.\r\n* Here is the two digit ISO country code\r\n*/\r\n@Column(name = &quot;country&quot;)\r\nprotected String country;\r\n\r\n/**\r\n* Major version number\r\n*/\r\n@Column(name = &quot;major_version&quot;)\r\nprotected Integer majorVersion;\r\n\r\n/**\r\n* Minor version number\r\n*/\r\n@Column(name = &quot;minor_version&quot;)\r\nprotected Integer minorVersion;\r\n\r\n/**\r\n* currently unused integer field\r\n*/\r\n@Column(name = &quot;data_controller&quot;)\r\nprotected Integer dataController;\r\n\r\n/**\r\n* A short description of the PolicyDocument\r\n*/\r\n@Column(name = &quot;description&quot;)\r\nprotected String description;\r\n\r\n/**\r\n* List of all textblocks which contains the language dependend texts and usage definitions\r\n*/\r\n@OneToMany(cascade = CascadeType.ALL, fetch = FetchType.EAGER)\r\n@JoinColumn(name = &quot;policy_document_id&quot;, referencedColumnName = &quot;id&quot;)\r\nprotected List&lt;TextBlock&gt; textBlocks = new ArrayList&lt;&gt;();\r\n\r\n/**\r\n* Currently unused field\r\n*/\r\n@Column(name = &quot;primarytext&quot;)\r\nprivate String primaryText;\r\n\r\n/**\r\n* Currently unused field\r\n*/\r\n@Column(name = &quot;secondarytext&quot;)\r\nprivate String secondaryText;\r\n\r\n/**\r\n* Contact frequency days for marketing frequency rule\r\n*/\r\n@OneToOne( mappedBy =&quot;policyDocument&quot;, cascade = CascadeType.ALL, fetch = FetchType.EAGER)\r\n@Nullable\r\nprotected ContactFrequency contactFrequency;\r\n\r\n/**\r\n* Dummy for compatibility\r\n*/\r\n@Transient\r\nprotected List&lt;TouchpointLink&gt; touchpointLinks = new ArrayList&lt;&gt;();\r\n\r\n/**\r\n* Status of the document DRAFT, APPROVED, SUBMITTED ...\r\n*/\r\n@JsonIgnore\r\n@Enumerated(EnumType.STRING)\r\n@Column(name = &quot;status&quot;)\r\nprotected PolicyDocumentStatus status;\r\n\r\n@Transient // detached per default to avoid having to move large CLOBs all the time\r\nprivate List&lt;EncodedPolicyDocument&gt; encodedPolicyDocuments = new ArrayList&lt;&gt;();\r\n\r\n/**\r\n* @deprecated only use in JPA, never in tests! In tests, use builders instead. They will assign negative IDs to keep the ID space clean\r\n*/\r\n@Deprecated // Warning: only use in JPA, never in tests! In tests, use builders instead. They will assign negative IDs to keep the ID space clean\r\npublic PolicyDocument() {\r\n// default constructor is needed when returning as entity, as per the JAX-RS spec\r\n}\r\n\r\n@Override\r\npublic Long getId() {\r\nreturn id;\r\n}\r\n\r\n@Override\r\npublic void setId(Long id) {\r\nthis.id = id;\r\n}\r\n\r\n@Override\r\npublic String getName() {\r\nreturn name;\r\n}\r\n\r\n@Override\r\npublic void setName(String name) {\r\nthis.name = name;\r\n}\r\n\r\n@Override\r\npublic Calendar getValidFrom() {\r\nreturn validFrom;\r\n}\r\n\r\n@Override\r\npublic void setValidFrom(Calendar validFrom) {\r\nthis.validFrom = validFrom;\r\n}\r\n\r\n@Override\r\npublic String getCountry() {\r\nreturn country;\r\n}\r\n\r\n@Override\r\npublic void setCountry(String country) {\r\nthis.country = country;\r\n}\r\n\r\n@Override\r\npublic Integer getMajorVersion() {\r\nreturn majorVersion;\r\n}\r\n\r\n@Override\r\npublic void setMajorVersion(Integer majorVersion) {\r\nthis.majorVersion = majorVersion;\r\n}\r\n\r\n@Override\r\npublic Integer getMinorVersion() {\r\nreturn minorVersion;\r\n}\r\n\r\n@Override\r\npublic void setMinorVersion(Integer minorVersion) {\r\nthis.minorVersion = minorVersion;\r\n}\r\n\r\n@Override\r\npublic Integer getDataController() {\r\nreturn dataController;\r\n}\r\n\r\n@Override\r\npublic void setDataController(Integer dataController) {\r\nthis.dataController = dataController;\r\n}\r\n\r\n@Override\r\npublic String getDescription() {\r\nreturn description;\r\n}\r\n\r\n@Override\r\npublic void setDescription(String description) {\r\nthis.description = description;\r\n}\r\n\r\n@Override\r\npublic List&lt;TextBlock&gt; getTextBlocks() {\r\nreturn textBlocks;\r\n}\r\n\r\n@Override\r\npublic void setTextBlocks(List&lt;TextBlock&gt; textBlocks) {\r\nthis.textBlocks = textBlocks;\r\n}\r\n\r\n@Override\r\npublic String getPrimaryText() {\r\nreturn primaryText;\r\n}\r\n\r\n@Override\r\npublic void setPrimaryText(String primaryText) {\r\nthis.primaryText = primaryText;\r\n}\r\n\r\n@Override\r\npublic String getSecondaryText() {\r\nreturn secondaryText;\r\n}\r\n\r\n@Override\r\npublic void setSecondaryText(String secondaryText) {\r\nthis.secondaryText = secondaryText;\r\n}\r\n\r\n@Override\r\npublic PolicyDocumentStatus getStatus() {\r\nreturn status;\r\n}\r\n\r\n@Override\r\npublic void setStatus(PolicyDocumentStatus status) {\r\nthis.status = status;\r\n}\r\n\r\n@Override\r\npublic List&lt;EncodedPolicyDocument&gt; getEncodedPolicyDocuments() {\r\nreturn encodedPolicyDocuments; //NOSONAR\r\n}\r\n\r\n@Override\r\npublic void setEncodedPolicyDocuments(List&lt;EncodedPolicyDocument&gt; encodedPolicyDocuments) {\r\nthis.encodedPolicyDocuments = encodedPolicyDocuments; //NOSONAR\r\n}\r\n\r\n@Override\r\npublic ContactFrequency getContactFrequency() {\r\nreturn contactFrequency;\r\n}\r\n\r\n@Override\r\npublic void setContactFrequency(ContactFrequency contactFrequency) {\r\nthis.contactFrequency = contactFrequency;\r\n}\r\n\r\npublic List&lt;TouchpointLink&gt; getTouchpointLinks() {\r\nreturn touchpointLinks;\r\n}\r\n\r\npublic void setTouchpointLinks(List&lt;TouchpointLink&gt; touchpointLinks) {\r\nthis.touchpointLinks = touchpointLinks;\r\n}\r\n\r\n@Override\r\npublic String toString() {\r\nreturn new ToStringBuilder(this, PmToStringStyle.multiLineInstance(0))\r\n.append(&quot;id&quot;, getId())\r\n.append(&quot;name&quot;, getName())\r\n.append(&quot;validFrom&quot;, getValidFrom())\r\n.append(&quot;country&quot;, getCountry())\r\n.append(&quot;majorVersion&quot;, getMajorVersion())\r\n.append(&quot;minorVersion&quot;, getMinorVersion())\r\n.append(&quot;status&quot;, getStatus())\r\n.append(&quot;description&quot;, getDescription())\r\n.append(&quot;textBlocks&quot;, getTextBlocks())\r\n.append(&quot;dataController&quot;, getDataController())\r\n.append(&quot;contactFrequency&quot;, getContactFrequency())\r\n.toString();\r\n}\r\n}\r\n```\r\n**NEW ENTITY**\r\n```\r\npackage com.policy.common.entities;\r\n\r\nimport com.policy.common.util.logging.PmToStringStyle;\r\nimport org.apache.commons.lang3.builder.ToStringBuilder;\r\n\r\nimport javax.inject.Named;\r\nimport javax.persistence.*;\r\nimport javax.xml.bind.annotation.XmlRootElement;\r\nimport java.io.Serializable;\r\nimport java.util.List;\r\n\r\n@Entity\r\n@Table(name = &quot;contact_frequency&quot;)\r\n@NamedQueries({\r\n@NamedQuery(name = ContactFrequency.findContactFrequencyByPolicyDocumentId,\r\nquery = &quot;SELECT cf FROM ContactFrequency as cf WHERE cf.policyDocument = :policyDocument&quot;)\r\n})\r\n@XmlRootElement\r\npublic class ContactFrequency implements Serializable{\r\n\r\npublic static final String findContactFrequencyByPolicyDocumentId = &quot;findContactFrequencyByPolicyDocumentId&quot;;\r\n\r\n@Id\r\n@SequenceGenerator(name = &quot;contact_frequency_id_seq&quot;, sequenceName = &quot;contact_frequency_id_seq&quot;, allocationSize = 1)\r\n@GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;contact_frequency_id_seq&quot;)\r\n@Column(name = &quot;id&quot;, updatable = false)\r\nprivate Long id;\r\n\r\n@Column(name = &quot;frequency_days&quot;)\r\nprivate Integer frequencyDays;\r\n\r\n@OneToOne(cascade =CascadeType.ALL, fetch = FetchType.EAGER)\r\n@JoinColumn(name = &quot;policy_document_id&quot;, referencedColumnName = &quot;id&quot;, nullable = false)\r\nprivate PolicyDocument policyDocument;\r\n\r\n\r\npublic ContactFrequency(Long id, Integer frequencyDays, PolicyDocument policyDocument) {\r\nthis.id = id;\r\nthis.frequencyDays = frequencyDays;\r\nthis.policyDocument = policyDocument;\r\n}\r\n\r\npublic ContactFrequency() {\r\n}\r\n\r\npublic Long getId() {\r\nreturn id;\r\n}\r\n\r\npublic void setId(Long id) {\r\nthis.id = id;\r\n}\r\n\r\npublic PolicyDocument getPolicyDocument() {\r\nreturn policyDocument;\r\n}\r\n\r\npublic void setPolicyDocument(PolicyDocument policyDocument) {\r\nthis.policyDocument = policyDocument;\r\n}\r\n\r\npublic Integer getFrequencyDays() {\r\nreturn frequencyDays;\r\n}\r\n\r\npublic void setFrequencyDays(Integer frequencyDays) {\r\nthis.frequencyDays = frequencyDays;\r\n}\r\n\r\n@Override\r\npublic String toString() {\r\nreturn new ToStringBuilder(this, PmToStringStyle.multiLineInstance(0))\r\n.append(&quot;id&quot;, getId())\r\n.append(&quot;policyDocument&quot;, getPolicyDocument())\r\n.append(&quot;frequencyDays&quot;, getFrequencyDays())\r\n.toString();\r\n}\r\n\r\n}\r\n\r\n```\r\n**THE API CAUSES ERROR**\r\n```\r\n@Override\r\n@GET\r\n@Path(&quot;{id}&quot;)\r\npublic PolicyDocument findById(@PathParam(&quot;id&quot;) Long id) throws NotFoundAppException {\r\nPolicyDocument policyDocument = policyFinder.retrievePolicyDocument(id);\r\nContactFrequency contactFrequency = searchContactFrequency.findContactFrequencyByDocumentId(policyDocument);\r\nContactFrequencyDto contactFrequencyDto = searchContactFrequency.toFrequencyDto(contactFrequency);\r\nif (contactFrequencyDto.getFrequencyDays() != null) {\r\ncontactFrequencyDto.setId(null);\r\npmLogger.info(&quot;Policy Document&#39;s contact frequency is null: &quot; + contactFrequencyDto);\r\n}\r\npolicyDocument.getContactFrequency().setId(contactFrequencyDto.getId());\r\npolicyDocument.getContactFrequency().setFrequencyDays(contactFrequencyDto.getFrequencyDays());\r\npmLogger.info(&quot;Policy Document with contactFrequency: &quot; + policyDocument);\r\n\r\nif (PolicyDocumentStatus.DRAFT.equals(policyDocument.getStatus())\r\n&amp;&amp; (currentEnvironmentUserRoles.hasAnyRole(Roles.Use_PM2_POLICY_APPROVER)\r\n&amp;&amp; !currentEnvironmentUserRoles.hasAnyRole(Roles.Use_PM2_POLICY_USER, Roles.Use_PM2_POLICY_ADMIN, Roles.Use_PM2_GLOBAL_ADMIN))) {\r\nthrow new NotFoundAppException(&quot;You do not have the permission to access the document&quot;);\r\n}\r\nreturn policyDocument;\r\n}\r\n```\r\n**THE QUERY FOR CONTACT FREQUENCY**\r\n```\r\npackage com.policy.admin.search.control;\r\n\r\nimport com.policy.common.entities.ContactFrequency;\r\nimport com.policy.common.entities.ContactFrequencyDto;\r\nimport com.policy.common.entities.PolicyDocument;\r\nimport com.policy.common.logging.Loggable;\r\nimport com.policy.common.logging.PmLogger;\r\n\r\nimport javax.ejb.Stateless;\r\nimport javax.inject.Inject;\r\nimport javax.persistence.EntityManager;\r\nimport javax.persistence.PersistenceContext;\r\nimport javax.persistence.TypedQuery;\r\nimport java.util.List;\r\n\r\n@Loggable\r\n@Stateless\r\npublic class SearchContactFrequency {\r\n\r\n@PersistenceContext(\r\nunitName = &quot;policy&quot;\r\n)\r\nEntityManager em;\r\n@Inject\r\nPmLogger pmLogger;\r\n\r\npublic SearchContactFrequency(){\r\n\r\n}\r\n\r\npublic ContactFrequency findContactFrequencyByDocumentId(PolicyDocument policyDocument){\r\nTypedQuery&lt;ContactFrequency&gt; query = em.createNamedQuery(&quot;findContactFrequencyByPolicyDocumentId&quot;, ContactFrequency.class);\r\nquery.setParameter(&quot;policyDocument&quot;, policyDocument);\r\nList&lt;ContactFrequency&gt; results = query.getResultList();\r\nif (results.isEmpty()){\r\npmLogger.info(&quot;NULL VALUE&quot;);\r\nreturn null;\r\n}\r\npmLogger.info(&quot;Contact Frequency by given policy document id: &quot; + results.get(0).getFrequencyDays());\r\nreturn results.get(0);\r\n}\r\n\r\npublic ContactFrequencyDto toFrequencyDto(ContactFrequency contactFrequency) {\r\nContactFrequencyDto contactFrequencyDto = new ContactFrequencyDto();\r\ncontactFrequencyDto.setId(contactFrequency.getId());\r\ncontactFrequencyDto.setFrequencyDays(contactFrequencyDto.getFrequencyDays());\r\npmLogger.info(&quot;Mapping entity to dto completed successfully: &quot; + contactFrequencyDto);\r\nreturn contactFrequencyDto;\r\n}\r\n\r\n}\r\n```\r\nWhenever I try to retrieve a document by a given id, I face this issue. \r\nSince I don&#39;t want to get rid of contactFrequency, I cant use @Jsonbtransient. \r\nHave any clue guys?","title":"Unable To Serialize Property, One to One Relation","body":"<p>Recently I created a new entity and a table to join one of my existing table/entity. But i guess i misconfigured and I am receiving this error:</p>\n<pre><code>[2023-04-06] [21:54:39,901] [SEVERE ] [10gjnye] [org.eclipse.yasson.internal.Marshaller]: [Unable to serialize property 'contactFrequency' from com.policy.common.entities.PolicyDocument]\n[2023-04-06] [21:54:39,901] [SEVERE ] [10gjnye] [org.eclipse.yasson.internal.Marshaller]: [Generating incomplete JSON]\n[2023-04-06] [21:54:39,902] [INFO   ] [10gjnye] [com.gcdm.ms.utils.logging.filter.GcdmServiceLoggingFilter]: [MSG:#### SERVICE_EXIT: 90  * Server out-bound response on thread http-thread-pool::http-listener(4)\n90 RESP &lt; 500\n</code></pre>\n<p>And throws 500.</p>\n<p><strong>MAIN ENTITY</strong></p>\n<pre><code>package com.policy.common.entities;\n\nimport com.policy.common.entities.enums.PolicyDocumentStatus;\nimport com.policy.common.util.logging.PmToStringStyle;\nimport com.fasterxml.jackson.annotation.JsonIgnore;\nimport com.fasterxml.jackson.databind.annotation.JsonDeserialize;\nimport com.fasterxml.jackson.databind.deser.std.DateDeserializers;\nimport com.sun.istack.Nullable;\nimport org.apache.commons.lang3.builder.ToStringBuilder;\n\nimport javax.persistence.*;\nimport javax.xml.bind.annotation.XmlRootElement;\nimport java.io.Serializable;\nimport java.util.ArrayList;\nimport java.util.Calendar;\nimport java.util.List;\n\n\n@Entity\n@Table(name = &quot;policy_document&quot;)\n@NamedQueries({\n@NamedQuery(name = PolicyDocument.findPolicyDocumentByNameCountryAndVersion,\nquery = &quot;SELECT p FROM PolicyDocument AS p WHERE p.name = :name and p.country = :country and p.majorVersion = :majorVersion and p.minorVersion = :minorVersion&quot;),\n@NamedQuery(name = PolicyDocument.findPolicyDocumentByNameAndCountry,\nquery = &quot;SELECT p FROM PolicyDocument AS p WHERE p.name = :name and p.country = :country&quot;),\n@NamedQuery(name = PolicyDocument.findAllPolicySearchDocuments,\nquery = &quot;SELECT NEW com.policy.common.entities.PolicySearchDocument(p.id, p.name, p.validFrom, p.country, &quot; +\n&quot;p.majorVersion, p.minorVersion, p.status) FROM PolicyDocument AS p&quot;),\n@NamedQuery(name = PolicyDocument.findPolicySearchDocumentsNotArchived,\nquery = &quot;SELECT NEW com.policy.common.entities.PolicySearchDocument(p.id, p.name, p.validFrom, p.country, &quot; +\n&quot;p.majorVersion, p.minorVersion, p.status) FROM PolicyDocument AS p WHERE p.status != :archived&quot;),\n@NamedQuery(name = PolicyDocument.findPolicyDocumentNotArchivedById,\nquery = &quot;SELECT p FROM PolicyDocument AS p WHERE p.id = :id AND p.status != :archived&quot;)})\n@XmlRootElement\npublic class PolicyDocument implements DocumentMetadata, Serializable {\n\npublic static final String findPolicyDocumentByNameCountryAndVersion = &quot;findPolicyDocumentByNameCountryAndVersion&quot;;\npublic static final String findPolicyDocumentByNameAndCountry = &quot;findPolicyDocumentByNameAndCountry&quot;;\npublic static final String findAllPolicyDocuments = &quot;findAllPolicyDocuments&quot;;\npublic static final String findAllPolicySearchDocuments = &quot;findAllPolicySearchDocuments&quot;;\npublic static final String findPolicySearchDocumentsNotArchived = &quot;findPolicySearchDocumentsNotArchived&quot;;\npublic static final String findPolicyDocumentNotArchivedById = &quot;findPolicyDocumentNotArchivedById&quot;;\n\n@Id\n@SequenceGenerator(name = &quot;policy_document_id_seq&quot;, sequenceName = &quot;policy_document_id_seq&quot;, allocationSize = 1)\n@GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;policy_document_id_seq&quot;)\n@Column(name = &quot;id&quot;, updatable = false)\nprivate Long id;\n\n/**\n* The policy name (sometimes called policy id)\n*/\n@Column(name = &quot;name&quot;)\nprotected String name;\n\n/**\n* Date from which the policy document is valid\n*/\n@Column(name = &quot;valid_from&quot;)\n@Temporal(TemporalType.TIMESTAMP)\n@JsonDeserialize(using = DateDeserializers.CalendarDeserializer.class)\nprotected Calendar validFrom;\n\n/**\n* A policy document is identified by PolicyName, MajorVersion, MinorVersion and country.\n* Here is the two digit ISO country code\n*/\n@Column(name = &quot;country&quot;)\nprotected String country;\n\n/**\n* Major version number\n*/\n@Column(name = &quot;major_version&quot;)\nprotected Integer majorVersion;\n\n/**\n* Minor version number\n*/\n@Column(name = &quot;minor_version&quot;)\nprotected Integer minorVersion;\n\n/**\n* currently unused integer field\n*/\n@Column(name = &quot;data_controller&quot;)\nprotected Integer dataController;\n\n/**\n* A short description of the PolicyDocument\n*/\n@Column(name = &quot;description&quot;)\nprotected String description;\n\n/**\n* List of all textblocks which contains the language dependend texts and usage definitions\n*/\n@OneToMany(cascade = CascadeType.ALL, fetch = FetchType.EAGER)\n@JoinColumn(name = &quot;policy_document_id&quot;, referencedColumnName = &quot;id&quot;)\nprotected List&lt;TextBlock&gt; textBlocks = new ArrayList&lt;&gt;();\n\n/**\n* Currently unused field\n*/\n@Column(name = &quot;primarytext&quot;)\nprivate String primaryText;\n\n/**\n* Currently unused field\n*/\n@Column(name = &quot;secondarytext&quot;)\nprivate String secondaryText;\n\n/**\n* Contact frequency days for marketing frequency rule\n*/\n@OneToOne( mappedBy =&quot;policyDocument&quot;, cascade = CascadeType.ALL, fetch = FetchType.EAGER)\n@Nullable\nprotected ContactFrequency contactFrequency;\n\n/**\n* Dummy for compatibility\n*/\n@Transient\nprotected List&lt;TouchpointLink&gt; touchpointLinks = new ArrayList&lt;&gt;();\n\n/**\n* Status of the document DRAFT, APPROVED, SUBMITTED ...\n*/\n@JsonIgnore\n@Enumerated(EnumType.STRING)\n@Column(name = &quot;status&quot;)\nprotected PolicyDocumentStatus status;\n\n@Transient // detached per default to avoid having to move large CLOBs all the time\nprivate List&lt;EncodedPolicyDocument&gt; encodedPolicyDocuments = new ArrayList&lt;&gt;();\n\n/**\n* @deprecated only use in JPA, never in tests! In tests, use builders instead. They will assign negative IDs to keep the ID space clean\n*/\n@Deprecated // Warning: only use in JPA, never in tests! In tests, use builders instead. They will assign negative IDs to keep the ID space clean\npublic PolicyDocument() {\n// default constructor is needed when returning as entity, as per the JAX-RS spec\n}\n\n@Override\npublic Long getId() {\nreturn id;\n}\n\n@Override\npublic void setId(Long id) {\nthis.id = id;\n}\n\n@Override\npublic String getName() {\nreturn name;\n}\n\n@Override\npublic void setName(String name) {\nthis.name = name;\n}\n\n@Override\npublic Calendar getValidFrom() {\nreturn validFrom;\n}\n\n@Override\npublic void setValidFrom(Calendar validFrom) {\nthis.validFrom = validFrom;\n}\n\n@Override\npublic String getCountry() {\nreturn country;\n}\n\n@Override\npublic void setCountry(String country) {\nthis.country = country;\n}\n\n@Override\npublic Integer getMajorVersion() {\nreturn majorVersion;\n}\n\n@Override\npublic void setMajorVersion(Integer majorVersion) {\nthis.majorVersion = majorVersion;\n}\n\n@Override\npublic Integer getMinorVersion() {\nreturn minorVersion;\n}\n\n@Override\npublic void setMinorVersion(Integer minorVersion) {\nthis.minorVersion = minorVersion;\n}\n\n@Override\npublic Integer getDataController() {\nreturn dataController;\n}\n\n@Override\npublic void setDataController(Integer dataController) {\nthis.dataController = dataController;\n}\n\n@Override\npublic String getDescription() {\nreturn description;\n}\n\n@Override\npublic void setDescription(String description) {\nthis.description = description;\n}\n\n@Override\npublic List&lt;TextBlock&gt; getTextBlocks() {\nreturn textBlocks;\n}\n\n@Override\npublic void setTextBlocks(List&lt;TextBlock&gt; textBlocks) {\nthis.textBlocks = textBlocks;\n}\n\n@Override\npublic String getPrimaryText() {\nreturn primaryText;\n}\n\n@Override\npublic void setPrimaryText(String primaryText) {\nthis.primaryText = primaryText;\n}\n\n@Override\npublic String getSecondaryText() {\nreturn secondaryText;\n}\n\n@Override\npublic void setSecondaryText(String secondaryText) {\nthis.secondaryText = secondaryText;\n}\n\n@Override\npublic PolicyDocumentStatus getStatus() {\nreturn status;\n}\n\n@Override\npublic void setStatus(PolicyDocumentStatus status) {\nthis.status = status;\n}\n\n@Override\npublic List&lt;EncodedPolicyDocument&gt; getEncodedPolicyDocuments() {\nreturn encodedPolicyDocuments; //NOSONAR\n}\n\n@Override\npublic void setEncodedPolicyDocuments(List&lt;EncodedPolicyDocument&gt; encodedPolicyDocuments) {\nthis.encodedPolicyDocuments = encodedPolicyDocuments; //NOSONAR\n}\n\n@Override\npublic ContactFrequency getContactFrequency() {\nreturn contactFrequency;\n}\n\n@Override\npublic void setContactFrequency(ContactFrequency contactFrequency) {\nthis.contactFrequency = contactFrequency;\n}\n\npublic List&lt;TouchpointLink&gt; getTouchpointLinks() {\nreturn touchpointLinks;\n}\n\npublic void setTouchpointLinks(List&lt;TouchpointLink&gt; touchpointLinks) {\nthis.touchpointLinks = touchpointLinks;\n}\n\n@Override\npublic String toString() {\nreturn new ToStringBuilder(this, PmToStringStyle.multiLineInstance(0))\n.append(&quot;id&quot;, getId())\n.append(&quot;name&quot;, getName())\n.append(&quot;validFrom&quot;, getValidFrom())\n.append(&quot;country&quot;, getCountry())\n.append(&quot;majorVersion&quot;, getMajorVersion())\n.append(&quot;minorVersion&quot;, getMinorVersion())\n.append(&quot;status&quot;, getStatus())\n.append(&quot;description&quot;, getDescription())\n.append(&quot;textBlocks&quot;, getTextBlocks())\n.append(&quot;dataController&quot;, getDataController())\n.append(&quot;contactFrequency&quot;, getContactFrequency())\n.toString();\n}\n}\n</code></pre>\n<p><strong>NEW ENTITY</strong></p>\n<pre><code>package com.policy.common.entities;\n\nimport com.policy.common.util.logging.PmToStringStyle;\nimport org.apache.commons.lang3.builder.ToStringBuilder;\n\nimport javax.inject.Named;\nimport javax.persistence.*;\nimport javax.xml.bind.annotation.XmlRootElement;\nimport java.io.Serializable;\nimport java.util.List;\n\n@Entity\n@Table(name = &quot;contact_frequency&quot;)\n@NamedQueries({\n@NamedQuery(name = ContactFrequency.findContactFrequencyByPolicyDocumentId,\nquery = &quot;SELECT cf FROM ContactFrequency as cf WHERE cf.policyDocument = :policyDocument&quot;)\n})\n@XmlRootElement\npublic class ContactFrequency implements Serializable{\n\npublic static final String findContactFrequencyByPolicyDocumentId = &quot;findContactFrequencyByPolicyDocumentId&quot;;\n\n@Id\n@SequenceGenerator(name = &quot;contact_frequency_id_seq&quot;, sequenceName = &quot;contact_frequency_id_seq&quot;, allocationSize = 1)\n@GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;contact_frequency_id_seq&quot;)\n@Column(name = &quot;id&quot;, updatable = false)\nprivate Long id;\n\n@Column(name = &quot;frequency_days&quot;)\nprivate Integer frequencyDays;\n\n@OneToOne(cascade =CascadeType.ALL, fetch = FetchType.EAGER)\n@JoinColumn(name = &quot;policy_document_id&quot;, referencedColumnName = &quot;id&quot;, nullable = false)\nprivate PolicyDocument policyDocument;\n\n\npublic ContactFrequency(Long id, Integer frequencyDays, PolicyDocument policyDocument) {\nthis.id = id;\nthis.frequencyDays = frequencyDays;\nthis.policyDocument = policyDocument;\n}\n\npublic ContactFrequency() {\n}\n\npublic Long getId() {\nreturn id;\n}\n\npublic void setId(Long id) {\nthis.id = id;\n}\n\npublic PolicyDocument getPolicyDocument() {\nreturn policyDocument;\n}\n\npublic void setPolicyDocument(PolicyDocument policyDocument) {\nthis.policyDocument = policyDocument;\n}\n\npublic Integer getFrequencyDays() {\nreturn frequencyDays;\n}\n\npublic void setFrequencyDays(Integer frequencyDays) {\nthis.frequencyDays = frequencyDays;\n}\n\n@Override\npublic String toString() {\nreturn new ToStringBuilder(this, PmToStringStyle.multiLineInstance(0))\n.append(&quot;id&quot;, getId())\n.append(&quot;policyDocument&quot;, getPolicyDocument())\n.append(&quot;frequencyDays&quot;, getFrequencyDays())\n.toString();\n}\n\n}\n\n</code></pre>\n<p><strong>THE API CAUSES ERROR</strong></p>\n<pre><code>@Override\n@GET\n@Path(&quot;{id}&quot;)\npublic PolicyDocument findById(@PathParam(&quot;id&quot;) Long id) throws NotFoundAppException {\nPolicyDocument policyDocument = policyFinder.retrievePolicyDocument(id);\nContactFrequency contactFrequency = searchContactFrequency.findContactFrequencyByDocumentId(policyDocument);\nContactFrequencyDto contactFrequencyDto = searchContactFrequency.toFrequencyDto(contactFrequency);\nif (contactFrequencyDto.getFrequencyDays() != null) {\ncontactFrequencyDto.setId(null);\npmLogger.info(&quot;Policy Document's contact frequency is null: &quot; + contactFrequencyDto);\n}\npolicyDocument.getContactFrequency().setId(contactFrequencyDto.getId());\npolicyDocument.getContactFrequency().setFrequencyDays(contactFrequencyDto.getFrequencyDays());\npmLogger.info(&quot;Policy Document with contactFrequency: &quot; + policyDocument);\n\nif (PolicyDocumentStatus.DRAFT.equals(policyDocument.getStatus())\n&amp;&amp; (currentEnvironmentUserRoles.hasAnyRole(Roles.Use_PM2_POLICY_APPROVER)\n&amp;&amp; !currentEnvironmentUserRoles.hasAnyRole(Roles.Use_PM2_POLICY_USER, Roles.Use_PM2_POLICY_ADMIN, Roles.Use_PM2_GLOBAL_ADMIN))) {\nthrow new NotFoundAppException(&quot;You do not have the permission to access the document&quot;);\n}\nreturn policyDocument;\n}\n</code></pre>\n<p><strong>THE QUERY FOR CONTACT FREQUENCY</strong></p>\n<pre><code>package com.policy.admin.search.control;\n\nimport com.policy.common.entities.ContactFrequency;\nimport com.policy.common.entities.ContactFrequencyDto;\nimport com.policy.common.entities.PolicyDocument;\nimport com.policy.common.logging.Loggable;\nimport com.policy.common.logging.PmLogger;\n\nimport javax.ejb.Stateless;\nimport javax.inject.Inject;\nimport javax.persistence.EntityManager;\nimport javax.persistence.PersistenceContext;\nimport javax.persistence.TypedQuery;\nimport java.util.List;\n\n@Loggable\n@Stateless\npublic class SearchContactFrequency {\n\n@PersistenceContext(\nunitName = &quot;policy&quot;\n)\nEntityManager em;\n@Inject\nPmLogger pmLogger;\n\npublic SearchContactFrequency(){\n\n}\n\npublic ContactFrequency findContactFrequencyByDocumentId(PolicyDocument policyDocument){\nTypedQuery&lt;ContactFrequency&gt; query = em.createNamedQuery(&quot;findContactFrequencyByPolicyDocumentId&quot;, ContactFrequency.class);\nquery.setParameter(&quot;policyDocument&quot;, policyDocument);\nList&lt;ContactFrequency&gt; results = query.getResultList();\nif (results.isEmpty()){\npmLogger.info(&quot;NULL VALUE&quot;);\nreturn null;\n}\npmLogger.info(&quot;Contact Frequency by given policy document id: &quot; + results.get(0).getFrequencyDays());\nreturn results.get(0);\n}\n\npublic ContactFrequencyDto toFrequencyDto(ContactFrequency contactFrequency) {\nContactFrequencyDto contactFrequencyDto = new ContactFrequencyDto();\ncontactFrequencyDto.setId(contactFrequency.getId());\ncontactFrequencyDto.setFrequencyDays(contactFrequencyDto.getFrequencyDays());\npmLogger.info(&quot;Mapping entity to dto completed successfully: &quot; + contactFrequencyDto);\nreturn contactFrequencyDto;\n}\n\n}\n</code></pre>\n<p>Whenever I try to retrieve a document by a given id, I face this issue.\nSince I don't want to get rid of contactFrequency, I cant use @Jsonbtransient.\nHave any clue guys?</p>\n"},{"tags":["java","spring-boot","gradle","serialization","multipartfile"],"answers":[{"tags":[],"owner":{"account_id":12445560,"reputation":231,"user_id":9061851,"display_name":"Pavel D."},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680818084,"creation_date":1680694875,"answer_id":75938972,"question_id":75938036,"body_markdown":"If this works with Postman, likely the issue is in the client part.\r\n\r\nMultipart is not `APPLICATION_JSON` (`&quot;application/json&quot;`). Try to use `&quot;multipart/form-data&quot;` or `&quot;application/octet-stream&quot;` when you prepare the entity and in `request()`. Also try to remove `.accept(APPLICATION_JSON)` completely.\r\n\r\nConsider using higher level http clients. Some references:  \r\nhttps://www.baeldung.com/httpclient-multipart-upload  \r\nhttps://www.baeldung.com/spring-rest-template-multipart-upload","title":"Serialization issues on passing a MultipartFile to the server in Spring Boot","body":"<p>If this works with Postman, likely the issue is in the client part.</p>\n<p>Multipart is not <code>APPLICATION_JSON</code> (<code>&quot;application/json&quot;</code>). Try to use <code>&quot;multipart/form-data&quot;</code> or <code>&quot;application/octet-stream&quot;</code> when you prepare the entity and in <code>request()</code>. Also try to remove <code>.accept(APPLICATION_JSON)</code> completely.</p>\n<p>Consider using higher level http clients. Some references:<br />\n<a href=\"https://www.baeldung.com/httpclient-multipart-upload\" rel=\"nofollow noreferrer\">https://www.baeldung.com/httpclient-multipart-upload</a><br />\n<a href=\"https://www.baeldung.com/spring-rest-template-multipart-upload\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-rest-template-multipart-upload</a></p>\n"}],"owner":{"account_id":28109607,"reputation":29,"user_id":21477593,"display_name":"Micu Bogdan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":680,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75938972,"answer_count":1,"score":1,"last_activity_date":1680818084,"creation_date":1680688495,"question_id":75938036,"body_markdown":"I&#39;m trying to pass a file through the server to a database in Spring Boot. From the info I gathered, I came to the conclusion that passing it as a MultipartFile rather than a File would be the right way to do it. I&#39;m getting this error though: \r\n```\r\nCaused by: jakarta.ws.rs.client.ResponseProcessingException: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class java.io.ByteArrayInputStream and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: org.springframework.mock.web.MockMultipartFile[&quot;inputStream&quot;])\r\nCaused by: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class java.io.ByteArrayInputStream and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: org.springframework.mock.web.MockMultipartFile[&quot;inputStream&quot;])\r\n```\r\nSo I did as the error code said and I disabled SerializationFeature.FAIL_ON_EMPTY_BEANS by adding this line in the application.properties: \r\n```\r\nspring.jackson.serialization.FAIL_ON_EMPTY_BEANS=false\r\n```\r\nInitially, when I was building the app using gradle, I was getting an exception regarding the StaleOutputCleaner. I don&#39;t remember changing anything, but now it builds successfully, but it&#39;s throwing the same serialization error as before.\r\n\r\n\r\nI tested the server on postman and the upload feature works over there. How can I get over this issue and get it working in the app as well? I&#39;ll put all the relevant pieces of code down below.\r\nThe first block of code is the call from the ServerUtils file on the client side. The rest of the classes are on the server side.\r\n```\r\npublic void saveFile(File file) throws IOException {\r\n        internalPostRequest(&quot;secure/&quot; + store.accessStore().getUsername() + &quot;/file/add&quot;,\r\n                Entity.entity(convert(file), APPLICATION_JSON), new GenericType&lt;&gt;(){});\r\n    }\r\npublic static MultipartFile convert(File file) throws IOException {\r\n        String filename = file.getName();\r\n        FileInputStream inputStream = new FileInputStream(file);\r\n        return new MockMultipartFile(filename, inputStream);\r\n    }\r\nprivate &lt;T&gt; T internalPostRequest(String path, Entity send, GenericType&lt;T&gt; retType) {\r\n        return ClientBuilder.newClient(new ClientConfig())\r\n                .target(getServer()).path(path)\r\n                .request(APPLICATION_JSON)\r\n                .accept(APPLICATION_JSON)\r\n                .post(send, retType);\r\n    }\r\n\r\n```\r\n\r\n```\r\npublic class FileController {\r\n    @Autowired\r\n    private StorageService service;\r\n    @PostMapping(&quot;/add&quot;)\r\n    public ResponseEntity&lt;?&gt; uploadFile(@RequestParam(&quot;file&quot;) MultipartFile file) throws IOException {\r\n        String uploadFile = service.uploadFile(file);\r\n        return ResponseEntity.status(HttpStatus.OK)\r\n                .body(uploadFile);\r\n    }\r\n```\r\n\r\n```\r\n@Service\r\npublic class StorageService {\r\n    @Autowired\r\n    private StorageRepository repository;\r\n\r\n    public String uploadFile(MultipartFile file) throws IOException {\r\n        repository.save(new FileData(file.getOriginalFilename(),\r\n                file.getContentType(), compressFile(file.getBytes())));\r\n        return &quot;File uploaded succesfully: &quot;+ file.getOriginalFilename();\r\n    }\r\n    public String getType(String fileName){\r\n        Optional&lt;FileData&gt; dbFileData = repository.findByName(fileName);\r\n        if (dbFileData.isPresent()) {\r\n            return dbFileData.get().getType();\r\n        } else {\r\n            return &quot;File not found: &quot; + fileName;\r\n        }\r\n    }\r\n    public static byte[] compressFile(byte[] data) {\r\n        Deflater deflater = new Deflater();\r\n        deflater.setLevel(Deflater.BEST_COMPRESSION);\r\n        deflater.setInput(data);\r\n        deflater.finish();\r\n\r\n        ByteArrayOutputStream outputStream = new ByteArrayOutputStream(data.length);\r\n        byte[] tmp = new byte[4*1024];\r\n        while (!deflater.finished()) {\r\n            int size = deflater.deflate(tmp);\r\n            outputStream.write(tmp, 0, size);\r\n        }\r\n        try {\r\n            outputStream.close();\r\n        } catch (Exception ignored) {\r\n        }\r\n        return outputStream.toByteArray();\r\n    }\r\n```\r\n\r\n\r\n","title":"Serialization issues on passing a MultipartFile to the server in Spring Boot","body":"<p>I'm trying to pass a file through the server to a database in Spring Boot. From the info I gathered, I came to the conclusion that passing it as a MultipartFile rather than a File would be the right way to do it. I'm getting this error though:</p>\n<pre><code>Caused by: jakarta.ws.rs.client.ResponseProcessingException: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class java.io.ByteArrayInputStream and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: org.springframework.mock.web.MockMultipartFile[&quot;inputStream&quot;])\nCaused by: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class java.io.ByteArrayInputStream and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: org.springframework.mock.web.MockMultipartFile[&quot;inputStream&quot;])\n</code></pre>\n<p>So I did as the error code said and I disabled SerializationFeature.FAIL_ON_EMPTY_BEANS by adding this line in the application.properties:</p>\n<pre><code>spring.jackson.serialization.FAIL_ON_EMPTY_BEANS=false\n</code></pre>\n<p>Initially, when I was building the app using gradle, I was getting an exception regarding the StaleOutputCleaner. I don't remember changing anything, but now it builds successfully, but it's throwing the same serialization error as before.</p>\n<p>I tested the server on postman and the upload feature works over there. How can I get over this issue and get it working in the app as well? I'll put all the relevant pieces of code down below.\nThe first block of code is the call from the ServerUtils file on the client side. The rest of the classes are on the server side.</p>\n<pre><code>public void saveFile(File file) throws IOException {\n        internalPostRequest(&quot;secure/&quot; + store.accessStore().getUsername() + &quot;/file/add&quot;,\n                Entity.entity(convert(file), APPLICATION_JSON), new GenericType&lt;&gt;(){});\n    }\npublic static MultipartFile convert(File file) throws IOException {\n        String filename = file.getName();\n        FileInputStream inputStream = new FileInputStream(file);\n        return new MockMultipartFile(filename, inputStream);\n    }\nprivate &lt;T&gt; T internalPostRequest(String path, Entity send, GenericType&lt;T&gt; retType) {\n        return ClientBuilder.newClient(new ClientConfig())\n                .target(getServer()).path(path)\n                .request(APPLICATION_JSON)\n                .accept(APPLICATION_JSON)\n                .post(send, retType);\n    }\n\n</code></pre>\n<pre><code>public class FileController {\n    @Autowired\n    private StorageService service;\n    @PostMapping(&quot;/add&quot;)\n    public ResponseEntity&lt;?&gt; uploadFile(@RequestParam(&quot;file&quot;) MultipartFile file) throws IOException {\n        String uploadFile = service.uploadFile(file);\n        return ResponseEntity.status(HttpStatus.OK)\n                .body(uploadFile);\n    }\n</code></pre>\n<pre><code>@Service\npublic class StorageService {\n    @Autowired\n    private StorageRepository repository;\n\n    public String uploadFile(MultipartFile file) throws IOException {\n        repository.save(new FileData(file.getOriginalFilename(),\n                file.getContentType(), compressFile(file.getBytes())));\n        return &quot;File uploaded succesfully: &quot;+ file.getOriginalFilename();\n    }\n    public String getType(String fileName){\n        Optional&lt;FileData&gt; dbFileData = repository.findByName(fileName);\n        if (dbFileData.isPresent()) {\n            return dbFileData.get().getType();\n        } else {\n            return &quot;File not found: &quot; + fileName;\n        }\n    }\n    public static byte[] compressFile(byte[] data) {\n        Deflater deflater = new Deflater();\n        deflater.setLevel(Deflater.BEST_COMPRESSION);\n        deflater.setInput(data);\n        deflater.finish();\n\n        ByteArrayOutputStream outputStream = new ByteArrayOutputStream(data.length);\n        byte[] tmp = new byte[4*1024];\n        while (!deflater.finished()) {\n            int size = deflater.deflate(tmp);\n            outputStream.write(tmp, 0, size);\n        }\n        try {\n            outputStream.close();\n        } catch (Exception ignored) {\n        }\n        return outputStream.toByteArray();\n    }\n</code></pre>\n"},{"tags":["java","jsp","tomcat","jstl"],"comments":[{"owner":{"account_id":1795008,"reputation":1985,"user_id":1634595,"accept_rate":92,"display_name":"Clinton J"},"score":0,"creation_date":1489691619,"post_id":42782589,"comment_id":72794743,"body_markdown":"Not a duplicate.  I do not have standard.jar.","body":"Not a duplicate.  I do not have standard.jar."},{"owner":{"account_id":1317825,"reputation":12193,"user_id":1264321,"accept_rate":92,"display_name":"Stefan"},"score":0,"creation_date":1489734780,"post_id":42782589,"comment_id":72809798,"body_markdown":"Yes, but the problem is the same. The jstl taglibs cannot be found. You need to make sure, that jstl.jar is in your &quot;/WEB-INF/lib&quot; folder, as you can see in Alexei Petrov answer.","body":"Yes, but the problem is the same. The jstl taglibs cannot be found. You need to make sure, that jstl.jar is in your &quot;/WEB-INF/lib&quot; folder, as you can see in Alexei Petrov answer."}],"answers":[{"tags":[],"owner":{"account_id":8930307,"reputation":331,"user_id":6663147,"accept_rate":100,"display_name":"Alexei Petrov"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1489504940,"creation_date":1489504940,"answer_id":42789955,"question_id":42782589,"body_markdown":"Tags are correct.\r\n\r\n    &lt;%@ taglib uri=&quot;http://java.sun.com/jsp/jstl/core&quot; prefix=&quot;c&quot;%&gt;\r\n    &lt;%@ taglib uri=&quot;http://java.sun.com/jsp/jstl/sql&quot; prefix=&quot;sql&quot;%&gt;\r\n\r\nWhere in WEB-INF folder it should be under lib. \r\n\r\n\r\n[![enter image description here][1]][1] \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9gxh4.png","title":"JSTL error: The absolute uri: http://java.sun.com/jsp/jstl/core cannot be resolved in either web.xml or the jar files deployed with this application","body":"<p>Tags are correct.</p>\n\n<pre><code>&lt;%@ taglib uri=\"http://java.sun.com/jsp/jstl/core\" prefix=\"c\"%&gt;\n&lt;%@ taglib uri=\"http://java.sun.com/jsp/jstl/sql\" prefix=\"sql\"%&gt;\n</code></pre>\n\n<p>Where in WEB-INF folder it should be under lib. </p>\n\n<p><a href=\"https://i.stack.imgur.com/9gxh4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9gxh4.png\" alt=\"enter image description here\"></a> </p>\n"},{"tags":[],"owner":{"account_id":1795008,"reputation":1985,"user_id":1634595,"accept_rate":92,"display_name":"Clinton J"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1495853210,"creation_date":1495853210,"answer_id":44212444,"question_id":42782589,"body_markdown":"The version of JSP I was using was not compatible with the version of JSTL.","title":"JSTL error: The absolute uri: http://java.sun.com/jsp/jstl/core cannot be resolved in either web.xml or the jar files deployed with this application","body":"<p>The version of JSP I was using was not compatible with the version of JSTL.</p>\n"}],"owner":{"account_id":1795008,"reputation":1985,"user_id":1634595,"accept_rate":92,"display_name":"Clinton J"},"comment_count":2,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1740,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1680800102,"accepted_answer_id":44212444,"answer_count":2,"score":-1,"last_activity_date":1680815795,"creation_date":1489484994,"question_id":42782589,"body_markdown":"Here&#39;s my code:\r\n\r\n    &lt;%@ page import=&quot;java.io.*,java.util.*,java.sql.*&quot;%&gt;\r\n    &lt;%@ page import=&quot;javax.servlet.http.*,javax.servlet.*&quot; %&gt;\r\n    &lt;%@ taglib uri=&quot;http://java.sun.com/jsp/jstl/core&quot; prefix=&quot;c&quot;%&gt;\r\n    &lt;%@ taglib uri=&quot;http://java.sun.com/jsp/jstl/sql&quot; prefix=&quot;sql&quot;%&gt;\r\n\r\nFollowed by the html file.  jstl-1.2.jar is located in the WEB-INF folder.  That is the only explanation I&#39;ve found anywhere else for why this shouldn&#39;t work, so I don&#39;t understand why I am still having this problem.","title":"JSTL error: The absolute uri: http://java.sun.com/jsp/jstl/core cannot be resolved in either web.xml or the jar files deployed with this application","body":"<p>Here's my code:</p>\n\n<pre><code>&lt;%@ page import=\"java.io.*,java.util.*,java.sql.*\"%&gt;\n&lt;%@ page import=\"javax.servlet.http.*,javax.servlet.*\" %&gt;\n&lt;%@ taglib uri=\"http://java.sun.com/jsp/jstl/core\" prefix=\"c\"%&gt;\n&lt;%@ taglib uri=\"http://java.sun.com/jsp/jstl/sql\" prefix=\"sql\"%&gt;\n</code></pre>\n\n<p>Followed by the html file.  jstl-1.2.jar is located in the WEB-INF folder.  That is the only explanation I've found anywhere else for why this shouldn't work, so I don't understand why I am still having this problem.</p>\n"},{"tags":["java","android","button","drawable"],"answers":[{"tags":[],"owner":{"account_id":19715420,"reputation":8505,"user_id":14434976,"display_name":"MariosP"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680814799,"creation_date":1680814799,"answer_id":75953737,"question_id":75930242,"body_markdown":"From Android 7.0 (API level 24) and above the `GradientDrawable` has a public method `getColor()` which returns a `ColorStateList` and from there you can retrieve the default color using the `getDefaultColor()` method. Also to get a color from your resources it is better to use the `ContextCompat.getColor(Context context, @ColorRes int id)` method which supports backward compatibility instead of the `getResources().getColor(@ColorRes int id)`. So based on your example you can change the `GradientDrawable` color on every button click to the correct traffic color like the below example:\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        TextView light;\r\n        Button change;\r\n        int previousColor = 0;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            light = findViewById(R.id.traffic_light_circle);\r\n            change = findViewById(R.id.change);\r\n    \r\n            //create the GradientDrawable initially to red color\r\n            GradientDrawable drawable = new GradientDrawable();\r\n            drawable.setShape(GradientDrawable.OVAL);\r\n            drawable.setColor(ContextCompat.getColor(this, R.color.red));\r\n            light.setBackground(drawable);\r\n    \r\n            //set the previous color state to red initially\r\n            previousColor = ContextCompat.getColor(this, R.color.red);\r\n            change.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v)\r\n                {\r\n                    GradientDrawable drawable = (GradientDrawable) light.getBackground();\r\n                    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N)\r\n                    {\r\n                        if(drawable.getColor()!=null)\r\n                        {\r\n                            int color = drawable.getColor().getDefaultColor();\r\n                            //current color is red (go to yellow)\r\n                            if (color == ContextCompat.getColor(v.getContext(), R.color.red))\r\n                            {\r\n                                drawable.setColor(ContextCompat.getColor(v.getContext(), R.color.yellow));\r\n                                light.setBackground(drawable);\r\n                                previousColor = ContextCompat.getColor(v.getContext(), R.color.red);\r\n                            }\r\n                            //current color is green (go to yellow)\r\n                            else if(color == ContextCompat.getColor(v.getContext(), R.color.green))\r\n                            {\r\n                                drawable.setColor(ContextCompat.getColor(v.getContext(), R.color.yellow));\r\n                                light.setBackground(drawable);\r\n                                previousColor = ContextCompat.getColor(v.getContext(), R.color.green);\r\n                            }\r\n                            //current color is yellow and the previous color was red (go to green)\r\n                            else if(color == ContextCompat.getColor(v.getContext(), R.color.yellow) &amp;&amp; previousColor == ContextCompat.getColor(v.getContext(), R.color.red))\r\n                            {\r\n                                drawable.setColor(ContextCompat.getColor(v.getContext(), R.color.green));\r\n                                light.setBackground(drawable);\r\n                                previousColor = ContextCompat.getColor(v.getContext(), R.color.yellow);\r\n                            }\r\n                            //current color is yellow and the previous color was green (go to red)\r\n                            else if(color == ContextCompat.getColor(v.getContext(), R.color.yellow) &amp;&amp; previousColor == ContextCompat.getColor(v.getContext(), R.color.green))\r\n                            {\r\n                                drawable.setColor(ContextCompat.getColor(v.getContext(), R.color.red));\r\n                                light.setBackground(drawable);\r\n                                previousColor = ContextCompat.getColor(v.getContext(), R.color.yellow);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\nThe variable of `previousColor` in the above example is necessary when the current state is yellow to identify the next color state red or green.  \r\n","title":"How to Implement a GradientDrawable object in Main Activity","body":"<p>From Android 7.0 (API level 24) and above the <code>GradientDrawable</code> has a public method <code>getColor()</code> which returns a <code>ColorStateList</code> and from there you can retrieve the default color using the <code>getDefaultColor()</code> method. Also to get a color from your resources it is better to use the <code>ContextCompat.getColor(Context context, @ColorRes int id)</code> method which supports backward compatibility instead of the <code>getResources().getColor(@ColorRes int id)</code>. So based on your example you can change the <code>GradientDrawable</code> color on every button click to the correct traffic color like the below example:</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    TextView light;\n    Button change;\n    int previousColor = 0;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        light = findViewById(R.id.traffic_light_circle);\n        change = findViewById(R.id.change);\n\n        //create the GradientDrawable initially to red color\n        GradientDrawable drawable = new GradientDrawable();\n        drawable.setShape(GradientDrawable.OVAL);\n        drawable.setColor(ContextCompat.getColor(this, R.color.red));\n        light.setBackground(drawable);\n\n        //set the previous color state to red initially\n        previousColor = ContextCompat.getColor(this, R.color.red);\n        change.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v)\n            {\n                GradientDrawable drawable = (GradientDrawable) light.getBackground();\n                if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N)\n                {\n                    if(drawable.getColor()!=null)\n                    {\n                        int color = drawable.getColor().getDefaultColor();\n                        //current color is red (go to yellow)\n                        if (color == ContextCompat.getColor(v.getContext(), R.color.red))\n                        {\n                            drawable.setColor(ContextCompat.getColor(v.getContext(), R.color.yellow));\n                            light.setBackground(drawable);\n                            previousColor = ContextCompat.getColor(v.getContext(), R.color.red);\n                        }\n                        //current color is green (go to yellow)\n                        else if(color == ContextCompat.getColor(v.getContext(), R.color.green))\n                        {\n                            drawable.setColor(ContextCompat.getColor(v.getContext(), R.color.yellow));\n                            light.setBackground(drawable);\n                            previousColor = ContextCompat.getColor(v.getContext(), R.color.green);\n                        }\n                        //current color is yellow and the previous color was red (go to green)\n                        else if(color == ContextCompat.getColor(v.getContext(), R.color.yellow) &amp;&amp; previousColor == ContextCompat.getColor(v.getContext(), R.color.red))\n                        {\n                            drawable.setColor(ContextCompat.getColor(v.getContext(), R.color.green));\n                            light.setBackground(drawable);\n                            previousColor = ContextCompat.getColor(v.getContext(), R.color.yellow);\n                        }\n                        //current color is yellow and the previous color was green (go to red)\n                        else if(color == ContextCompat.getColor(v.getContext(), R.color.yellow) &amp;&amp; previousColor == ContextCompat.getColor(v.getContext(), R.color.green))\n                        {\n                            drawable.setColor(ContextCompat.getColor(v.getContext(), R.color.red));\n                            light.setBackground(drawable);\n                            previousColor = ContextCompat.getColor(v.getContext(), R.color.yellow);\n                        }\n                    }\n                }\n            }\n        });\n    }\n}\n</code></pre>\n<p>The variable of <code>previousColor</code> in the above example is necessary when the current state is yellow to identify the next color state red or green.</p>\n"}],"owner":{"account_id":23123912,"reputation":51,"user_id":17230029,"display_name":"Aimex"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75953737,"answer_count":1,"score":1,"last_activity_date":1680814799,"creation_date":1680616573,"question_id":75930242,"body_markdown":"I trying to create a traffic application. its very simple just a label and button. I wanted the label to be in a circle shape rather than square so I implemented the following in the main activity:\r\n\r\n    GradientDrawable drawable = new GradientDrawable();\r\n    drawable.setShape(GradientDrawable.OVAL);\r\n    drawable.setColor(getResources().getColor(R.color.red));\r\n    \r\n    light = findViewById(R.id.traffic_light_circle);\r\n    light.setBackground(drawable);\r\n    change=findViewById(R.id.change);\r\n\r\nHowever I am having trouble implementing the button. I need to implement an if else statement to switch between the colors. But I don&#39;t know how to call for the drawable object. each time I try to call it, it gives me an error. How should I approach this.\r\n\r\nI tried the following in terms of the button but didn&#39;t get a result.\r\n\r\n    change.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) { //on button click\r\n                GradientDrawable drawable = (GradientDrawable) light.getBackground();\r\n\r\n                int color = drawable.getColor();\r\n                if (color == getResources().getColor(R.color.red)) {\r\n                    drawable.setColor(getResources().getColor(R.color.yellow));\r\n                    light.setBackground(drawable);}\r\n\r\n  \r\n\r\n\r\n\r\n","title":"How to Implement a GradientDrawable object in Main Activity","body":"<p>I trying to create a traffic application. its very simple just a label and button. I wanted the label to be in a circle shape rather than square so I implemented the following in the main activity:</p>\n<pre><code>GradientDrawable drawable = new GradientDrawable();\ndrawable.setShape(GradientDrawable.OVAL);\ndrawable.setColor(getResources().getColor(R.color.red));\n\nlight = findViewById(R.id.traffic_light_circle);\nlight.setBackground(drawable);\nchange=findViewById(R.id.change);\n</code></pre>\n<p>However I am having trouble implementing the button. I need to implement an if else statement to switch between the colors. But I don't know how to call for the drawable object. each time I try to call it, it gives me an error. How should I approach this.</p>\n<p>I tried the following in terms of the button but didn't get a result.</p>\n<pre><code>change.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) { //on button click\n            GradientDrawable drawable = (GradientDrawable) light.getBackground();\n\n            int color = drawable.getColor();\n            if (color == getResources().getColor(R.color.red)) {\n                drawable.setColor(getResources().getColor(R.color.yellow));\n                light.setBackground(drawable);}\n</code></pre>\n"},{"tags":["java","postgresql","spring-boot"],"comments":[{"owner":{"account_id":3498606,"reputation":5166,"user_id":2925962,"accept_rate":0,"display_name":"akortex"},"score":0,"creation_date":1607446400,"post_id":65203052,"comment_id":115272709,"body_markdown":"What are you using to generate the schema? Are you using hibernate&#39;s DDL function or something like `flyway`?","body":"What are you using to generate the schema? Are you using hibernate&#39;s DDL function or something like <code>flyway</code>?"},{"owner":{"account_id":11350405,"reputation":97,"user_id":8321608,"display_name":"Tyler Edmonds"},"score":0,"creation_date":1607454631,"post_id":65203052,"comment_id":115276315,"body_markdown":"I&#39;m using a sql file under resources &quot;schema.sql&quot;\n\n```CREATE SCHEMA IF NOT EXISTS cinc_student```","body":"I&#39;m using a sql file under resources &quot;schema.sql&quot;  <code>CREATE SCHEMA IF NOT EXISTS cinc_student</code>"}],"answers":[{"tags":[],"owner":{"account_id":3596160,"reputation":11,"user_id":3000799,"display_name":"codyf0328"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1612802238,"creation_date":1612802238,"answer_id":66105638,"question_id":65203052,"body_markdown":"Add the following to `application.properties`. This will tell Spring to use the Postgre Dialect which will auto-create the hibernate_sequence on application startup.\r\n\r\n```\r\nspring.jpa.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect\r\n```","title":"PostgreSQL Spring Boot - hibernate_sequence is not generated","body":"<p>Add the following to <code>application.properties</code>. This will tell Spring to use the Postgre Dialect which will auto-create the hibernate_sequence on application startup.</p>\n<pre><code>spring.jpa.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8301010,"reputation":1586,"user_id":6239635,"display_name":"Mitch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680814722,"creation_date":1680814722,"answer_id":75953725,"question_id":65203052,"body_markdown":"Adding `spring.jpa.generate-ddl=true` to the `application.properties` worked for me.\r\n\r\n---\r\n\r\n - Spring-boot version: `15.2`\r\n - PostgreSQL version: `v3.0.2`\r\n","title":"PostgreSQL Spring Boot - hibernate_sequence is not generated","body":"<p>Adding <code>spring.jpa.generate-ddl=true</code> to the <code>application.properties</code> worked for me.</p>\n<hr />\n<ul>\n<li>Spring-boot version: <code>15.2</code></li>\n<li>PostgreSQL version: <code>v3.0.2</code></li>\n</ul>\n"}],"owner":{"account_id":11350405,"reputation":97,"user_id":8321608,"display_name":"Tyler Edmonds"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1238,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1680814722,"creation_date":1607445484,"question_id":65203052,"body_markdown":"- Java 11\r\n- Spring Boot 2.2.4.RELEASE\r\n- PostgreSQL 42.4.9\r\n\r\nI&#39;ve been researching through Stack Overflow and other sources and have been unable to find an answer to my question. \r\n\r\nBasically I have a Spring Boot application and I&#39;m trying to save an object to a PostgreSQL db.  When trying to save an object, I&#39;m getting a hibernate_sequence does not exist error.\r\n\r\n```ERROR: relation &quot;&lt;schema&gt;.hibernate_sequence&quot; does not exist```\r\n\r\nHere is my entity that handles the id generation:\r\n\r\n```@Override\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;id&quot;, nullable = false, unique = true)\r\n    private Long id;\r\n```\r\nFrom my application.properties file:\r\n```\r\n######### uses denoted schema (this schema must exist in db or have a .sql file in resources dir that creates it)\r\nspring.jpa.properties.hibernate.default_schema=cinc_student\r\n######### required to make spring use the schema.sql file in resources dir (if not using this file, this can be removed)\r\nspring.datasource.initialization-mode=always\r\n######### prevents hibernate from recreating unique indexes each time the app is restarted.\r\nspring.jpa.properties.hibernate.schema_update.unique_constraint_strategy=RECREATE_QUIETLY\r\n```\r\n\r\nI&#39;m using a schema.sql file under resources with the following line in it to create the schema:\r\n\r\n```CREATE SCHEMA IF NOT EXISTS cinc_student```\r\n\r\nI have two test databases that I point my application to locally.  In one of the databases, the schema and hibernate_sequence were generated automatically without issue.\r\n\r\nIn the other db, the schema was created but the sequence was not generated. No difference in the code at all, just pointing to different freshly created empty local databases. \r\n\r\nCan anyone explain?\r\n\r\nI am not using a @GenerateSequence because I want it to use the default hibernate_sequence that should be generated out of the box. I will not be creating a manual sequence. \r\n","title":"PostgreSQL Spring Boot - hibernate_sequence is not generated","body":"<ul>\n<li>Java 11</li>\n<li>Spring Boot 2.2.4.RELEASE</li>\n<li>PostgreSQL 42.4.9</li>\n</ul>\n<p>I've been researching through Stack Overflow and other sources and have been unable to find an answer to my question.</p>\n<p>Basically I have a Spring Boot application and I'm trying to save an object to a PostgreSQL db.  When trying to save an object, I'm getting a hibernate_sequence does not exist error.</p>\n<p><code>ERROR: relation &quot;&lt;schema&gt;.hibernate_sequence&quot; does not exist</code></p>\n<p>Here is my entity that handles the id generation:</p>\n<pre><code>    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;, nullable = false, unique = true)\n    private Long id;\n</code></pre>\n<p>From my application.properties file:</p>\n<pre><code>######### uses denoted schema (this schema must exist in db or have a .sql file in resources dir that creates it)\nspring.jpa.properties.hibernate.default_schema=cinc_student\n######### required to make spring use the schema.sql file in resources dir (if not using this file, this can be removed)\nspring.datasource.initialization-mode=always\n######### prevents hibernate from recreating unique indexes each time the app is restarted.\nspring.jpa.properties.hibernate.schema_update.unique_constraint_strategy=RECREATE_QUIETLY\n</code></pre>\n<p>I'm using a schema.sql file under resources with the following line in it to create the schema:</p>\n<p><code>CREATE SCHEMA IF NOT EXISTS cinc_student</code></p>\n<p>I have two test databases that I point my application to locally.  In one of the databases, the schema and hibernate_sequence were generated automatically without issue.</p>\n<p>In the other db, the schema was created but the sequence was not generated. No difference in the code at all, just pointing to different freshly created empty local databases.</p>\n<p>Can anyone explain?</p>\n<p>I am not using a @GenerateSequence because I want it to use the default hibernate_sequence that should be generated out of the box. I will not be creating a manual sequence.</p>\n"},{"tags":["java","android","android-studio","kotlin","picasso"],"owner":{"account_id":12944538,"reputation":219,"user_id":9359288,"display_name":"Murat Aktay"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680813667,"creation_date":1680813667,"question_id":75953599,"body_markdown":"Nothing triggers when trying to download images with Picasso. Only the onPrepareLoad() method is called. Photo size: 1.4mb\r\n\r\n```\r\n                    Picasso.get().load(args.wallpaper.url)\r\n                        .into(object : com.squareup.picasso.Target {\r\n                            override fun onBitmapFailed(\r\n                                e: java.lang.Exception?,\r\n                                errorDrawable: Drawable?\r\n                            ) {\r\n                                Toast.makeText(\r\n                                    context,\r\n                                    context?.getString(R.string.photo_download_error) ?: &quot;&quot;,\r\n                                    Toast.LENGTH_SHORT\r\n                                ).show()\r\n                            }\r\n\r\n                            override fun onPrepareLoad(placeHolderDrawable: Drawable?) {\r\n                                Log.d(&quot;Prepare: &quot;, &quot;prepare&quot;)\r\n                            }\r\n\r\n                            override fun onBitmapLoaded(\r\n                                bitmap: Bitmap?,\r\n                                from: Picasso.LoadedFrom?\r\n                            ) {\r\n                                if (RemoteConfig.isAdActive) setAdsAndBitmap(bitmap) else setBitmap(\r\n                                    bitmap\r\n                                )\r\n                            }\r\n                        })\r\n```","title":"Nothing triggers when trying to download images with Picasso","body":"<p>Nothing triggers when trying to download images with Picasso. Only the onPrepareLoad() method is called. Photo size: 1.4mb</p>\n<pre><code>                    Picasso.get().load(args.wallpaper.url)\n                        .into(object : com.squareup.picasso.Target {\n                            override fun onBitmapFailed(\n                                e: java.lang.Exception?,\n                                errorDrawable: Drawable?\n                            ) {\n                                Toast.makeText(\n                                    context,\n                                    context?.getString(R.string.photo_download_error) ?: &quot;&quot;,\n                                    Toast.LENGTH_SHORT\n                                ).show()\n                            }\n\n                            override fun onPrepareLoad(placeHolderDrawable: Drawable?) {\n                                Log.d(&quot;Prepare: &quot;, &quot;prepare&quot;)\n                            }\n\n                            override fun onBitmapLoaded(\n                                bitmap: Bitmap?,\n                                from: Picasso.LoadedFrom?\n                            ) {\n                                if (RemoteConfig.isAdActive) setAdsAndBitmap(bitmap) else setBitmap(\n                                    bitmap\n                                )\n                            }\n                        })\n</code></pre>\n"},{"tags":["java","eclipse","console","ansi-escape"],"comments":[{"owner":{"account_id":4604899,"reputation":5097,"user_id":3734640,"accept_rate":83,"display_name":"Govinda Sakhare"},"score":0,"creation_date":1583045907,"post_id":60472639,"comment_id":106980609,"body_markdown":"what is the expected output?","body":"what is the expected output?"},{"owner":{"account_id":13467644,"reputation":55,"user_id":9717320,"display_name":"Suhail Moh"},"score":0,"creation_date":1583049284,"post_id":60472639,"comment_id":106981137,"body_markdown":"Seat No : wb1 Booked\nSeat No : wb2 Booked\nSeat No : wb3 Booked\nSeat No : wb4 Available\nSeat No : wb5 Available\nSeat No : wb6 Booked\nSeat No : wb7 Available\nSeat No : wb8 Available\nSeat No : wb9 Available\nSeat No : wb10 Booked","body":"Seat No : wb1 Booked Seat No : wb2 Booked Seat No : wb3 Booked Seat No : wb4 Available Seat No : wb5 Available Seat No : wb6 Booked Seat No : wb7 Available Seat No : wb8 Available Seat No : wb9 Available Seat No : wb10 Booked"}],"answers":[{"tags":[],"owner":{"account_id":6513834,"reputation":1,"user_id":5040285,"display_name":"KhanhLe"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1583046205,"creation_date":1583046205,"answer_id":60472758,"question_id":60472639,"body_markdown":"The first comment is good enough, \r\n\r\nbut I would suggest you enter &quot;debug mode&quot; of Eclipse to see what happened.\r\n\r\nStep 1: Try to set a break point by clicking at left border of your &quot;showReservationDetails&quot; method.\r\n\r\nStep 2: Try to run your software with &quot;Debug&quot;, the button is placed next to the normal &quot;Run&quot; button.\r\n\r\nStep 3: try to use &quot;F6&quot; to step through your program\r\n\r\nStep 4: use your mouse to view values of variables during debug by pointing to them.\r\n\r\nThis is basic skill you need to see if anything wrong in your software.\r\nHope this help.","title":"Console output not in order Java","body":"<p>The first comment is good enough, </p>\n\n<p>but I would suggest you enter \"debug mode\" of Eclipse to see what happened.</p>\n\n<p>Step 1: Try to set a break point by clicking at left border of your \"showReservationDetails\" method.</p>\n\n<p>Step 2: Try to run your software with \"Debug\", the button is placed next to the normal \"Run\" button.</p>\n\n<p>Step 3: try to use \"F6\" to step through your program</p>\n\n<p>Step 4: use your mouse to view values of variables during debug by pointing to them.</p>\n\n<p>This is basic skill you need to see if anything wrong in your software.\nHope this help.</p>\n"},{"tags":[],"owner":{"account_id":13467644,"reputation":55,"user_id":9717320,"display_name":"Suhail Moh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1583050257,"creation_date":1583050257,"answer_id":60473183,"question_id":60472639,"body_markdown":"I did researches. System.out.println() is Thread-safe but System.err.println() is not. So Changing the System.err to System.out solve the problem. \r\n\r\nAnd System.out.println(&quot;\\u001B[32m&quot;+&quot;Available&quot;); here &quot;\\u001B[32m&quot; is used to display colored fonts using the ANSI. \r\n\r\n&quot;\\u001B[32m&quot; - Denotes Green Color\r\n\r\nThanks for the supports ","title":"Console output not in order Java","body":"<p>I did researches. System.out.println() is Thread-safe but System.err.println() is not. So Changing the System.err to System.out solve the problem. </p>\n\n<p>And System.out.println(\"\\u001B[32m\"+\"Available\"); here \"\\u001B[32m\" is used to display colored fonts using the ANSI. </p>\n\n<p>\"\\u001B[32m\" - Denotes Green Color</p>\n\n<p>Thanks for the supports </p>\n"}],"owner":{"account_id":13467644,"reputation":55,"user_id":9717320,"display_name":"Suhail Moh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":348,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1583060052,"answer_count":2,"score":0,"last_activity_date":1680813542,"creation_date":1583044865,"question_id":60472639,"body_markdown":"I&#39;m developing a console application for the Theatre Reservation system with saving the records in a file. When I&#39;m trying to display seat details, it shows in different orders. I&#39;m using static block to initialize the data. \r\n\r\n\r\n    public class WestBelcony extends Seat {\r\n\r\n\tpublic final static double price = 40;\r\n\r\n\tprivate static List&lt;Seat&gt; listSeat;\r\n\r\n\tstatic {\r\n\t\tSystem.out.println(&quot;Here&quot;);\r\n\t\tlistSeat = new ArrayList&lt;Seat&gt;();\r\n\r\n\t\tfor (int i = 1; i &lt;= 10; i++) {\r\n\t\t\tlistSeat.add(new Seat().setId(&quot;wb&quot; + i));\r\n\t\t}\r\n\t}\r\n\r\n\tpublic List&lt;Seat&gt; getListSeat() {\r\n\t\treturn listSeat;\r\n\t}\r\n\r\n\tpublic void updateSeatBooking(String seatNo, boolean status\t) {\r\n\t\tfor (int i = 0; i &lt; listSeat.size(); i++) {\r\n\t\t\tif (listSeat.get(i).getId().contains(seatNo)) {\r\n\t\t\t\tlistSeat.get(i).setBooked(status);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tpublic void getSeatDetails(String seatNo) {\r\n\r\n\t\tfor (Seat seat : listSeat) {\r\n\t\t\tif (seat.getId().contains(seatNo)) {\r\n\t\t\t\tSystem.out.println(&quot;Seat Id : &quot; + seat.getId() + &quot; IsBooked : &quot; + seat.isBooked());\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic void showReservationDetails() {\r\n\t\tfor (Seat seat : listSeat) {\r\n\t\t\tSystem.out.print(&quot;Seat No : &quot; + seat.getId() + &quot; &quot;);\r\n\t\t\tif(!seat.isBooked()) {\r\n\t\t\t\tSystem.out.println(&quot;\\u001B[32m&quot;+&quot;Available&quot;);\r\n\t\t\t\tSystem.out.print(&quot;\\u001B[0m&quot;);\r\n\t\t\t} else {\r\n\t\t\t\tSystem.err.println(&quot;Booked&quot;);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic static Seat getSeat(String id) {\r\n\t\tfor (Seat seat : listSeat) {\r\n\t\t\tif(seat.getId().contains(id))\r\n\t\t\t\treturn seat;\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n    }\r\n\r\n\r\nAnd this is how I&#39;m calling the method\r\n\r\n    WestBelcony eb = new WestBelcony();\r\n    wb.showReservationDetails();\r\n\r\n\r\nIt displays like this\r\n\r\n    Seat No : wb1 Booked\r\n    BookedSeat No : wb2 Seat No : wb3 Seat No : wb4 Available\r\n    Seat No : wb5 Available\r\n    Seat No : wb6 Seat No : wb7 Available\r\n    Seat No : wb8 Available\r\n    Seat No : wb9 Available\r\n    Seat No : wb10 How many seats do you want to book?\r\n    \r\n    Booked\r\n    Booked\r\n    Booked\r\n\r\nWhat is wrong with this code?\r\n","title":"Console output not in order Java","body":"<p>I'm developing a console application for the Theatre Reservation system with saving the records in a file. When I'm trying to display seat details, it shows in different orders. I'm using static block to initialize the data. </p>\n\n<pre><code>public class WestBelcony extends Seat {\n\npublic final static double price = 40;\n\nprivate static List&lt;Seat&gt; listSeat;\n\nstatic {\n    System.out.println(\"Here\");\n    listSeat = new ArrayList&lt;Seat&gt;();\n\n    for (int i = 1; i &lt;= 10; i++) {\n        listSeat.add(new Seat().setId(\"wb\" + i));\n    }\n}\n\npublic List&lt;Seat&gt; getListSeat() {\n    return listSeat;\n}\n\npublic void updateSeatBooking(String seatNo, boolean status ) {\n    for (int i = 0; i &lt; listSeat.size(); i++) {\n        if (listSeat.get(i).getId().contains(seatNo)) {\n            listSeat.get(i).setBooked(status);\n        }\n    }\n}\n\npublic void getSeatDetails(String seatNo) {\n\n    for (Seat seat : listSeat) {\n        if (seat.getId().contains(seatNo)) {\n            System.out.println(\"Seat Id : \" + seat.getId() + \" IsBooked : \" + seat.isBooked());\n        }\n    }\n}\n\npublic void showReservationDetails() {\n    for (Seat seat : listSeat) {\n        System.out.print(\"Seat No : \" + seat.getId() + \" \");\n        if(!seat.isBooked()) {\n            System.out.println(\"\\u001B[32m\"+\"Available\");\n            System.out.print(\"\\u001B[0m\");\n        } else {\n            System.err.println(\"Booked\");\n        }\n    }\n}\n\npublic static Seat getSeat(String id) {\n    for (Seat seat : listSeat) {\n        if(seat.getId().contains(id))\n            return seat;\n    }\n    return null;\n}\n}\n</code></pre>\n\n<p>And this is how I'm calling the method</p>\n\n<pre><code>WestBelcony eb = new WestBelcony();\nwb.showReservationDetails();\n</code></pre>\n\n<p>It displays like this</p>\n\n<pre><code>Seat No : wb1 Booked\nBookedSeat No : wb2 Seat No : wb3 Seat No : wb4 Available\nSeat No : wb5 Available\nSeat No : wb6 Seat No : wb7 Available\nSeat No : wb8 Available\nSeat No : wb9 Available\nSeat No : wb10 How many seats do you want to book?\n\nBooked\nBooked\nBooked\n</code></pre>\n\n<p>What is wrong with this code?</p>\n"},{"tags":["java","redis","connection-pooling","jedis"],"answers":[{"tags":[],"owner":{"account_id":6937561,"reputation":114,"user_id":5325000,"display_name":"Mαx Φ"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1659948336,"creation_date":1659948336,"answer_id":73275110,"question_id":73242557,"body_markdown":"With `JedisPool` you can do transactions, e.g., something like this:\r\n\r\n```java\r\ntry (Jedis jedis = pool.getResource()) {\r\n  Transaction t = jedis.multi();\r\n  t.sadd(&quot;planets&quot;, &quot;Venus&quot;);\r\n  t.sadd(&quot;planets&quot;, &quot;Mars&quot;);\r\n  t.exec();\r\n}\r\n```\r\n\r\nIt doesn&#39;t seem like you can do anything similar with `JedisPooled`.\r\n\r\nProbably, there&#39;s more to that, but that&#39;s what I&#39;ve stumbled on by myself.\r\n\r\nHope that helps!","title":"JedisPool vs JedisPooled","body":"<p>With <code>JedisPool</code> you can do transactions, e.g., something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try (Jedis jedis = pool.getResource()) {\n  Transaction t = jedis.multi();\n  t.sadd(&quot;planets&quot;, &quot;Venus&quot;);\n  t.sadd(&quot;planets&quot;, &quot;Mars&quot;);\n  t.exec();\n}\n</code></pre>\n<p>It doesn't seem like you can do anything similar with <code>JedisPooled</code>.</p>\n<p>Probably, there's more to that, but that's what I've stumbled on by myself.</p>\n<p>Hope that helps!</p>\n"},{"tags":[],"owner":{"account_id":203484,"reputation":145,"user_id":574872,"display_name":"signonsridhar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680813353,"creation_date":1680813353,"answer_id":75953565,"question_id":73242557,"body_markdown":"My understanding is that each command in JedisPooled \r\n\r\n    JedisPooled jedis = new JedisPooled(&quot;localhost&quot;, 6379);\r\n    jedis.sadd(&quot;hellow&quot;, &quot;world&quot;);//fetch and release the resource\r\n    jedis.sadd(&quot;hellow&quot;, &quot;what&quot;);//fetch and release the resource\r\n\r\nwill get the resource from the pool and release the resource into the pool without having to do try-with-resources.\r\nJedisPool needs explicit try-with-resources\r\n\r\n    JedisPool pool = new JedisPool(&quot;localhost&quot;, 6379);\r\n    try (Jedis jedis = pool.getResource()) {\r\n        jedis.set(&quot;foo&quot;, &quot;bar&quot;); // jedis resource is used\r\n        System.out.println(jedis.get(&quot;foo&quot;)); // same jedis resource is used\r\n    }//here resource is released\r\n\r\nREF : https://redis.io/docs/clients/java/","title":"JedisPool vs JedisPooled","body":"<p>My understanding is that each command in JedisPooled</p>\n<pre><code>JedisPooled jedis = new JedisPooled(&quot;localhost&quot;, 6379);\njedis.sadd(&quot;hellow&quot;, &quot;world&quot;);//fetch and release the resource\njedis.sadd(&quot;hellow&quot;, &quot;what&quot;);//fetch and release the resource\n</code></pre>\n<p>will get the resource from the pool and release the resource into the pool without having to do try-with-resources.\nJedisPool needs explicit try-with-resources</p>\n<pre><code>JedisPool pool = new JedisPool(&quot;localhost&quot;, 6379);\ntry (Jedis jedis = pool.getResource()) {\n    jedis.set(&quot;foo&quot;, &quot;bar&quot;); // jedis resource is used\n    System.out.println(jedis.get(&quot;foo&quot;)); // same jedis resource is used\n}//here resource is released\n</code></pre>\n<p>REF : <a href=\"https://redis.io/docs/clients/java/\" rel=\"nofollow noreferrer\">https://redis.io/docs/clients/java/</a></p>\n"}],"owner":{"account_id":20889890,"reputation":76,"user_id":15345535,"display_name":"parpar8090"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2338,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":73275110,"answer_count":2,"score":3,"last_activity_date":1680813353,"creation_date":1659650041,"question_id":73242557,"body_markdown":"Looking at the [Jedis Getting Started][1], I understand it&#39;s better to use connection pools to be threadsafe. To do so, I would need a `JedisPool` and a `try-with-resources` statement like so:\r\n\r\n    try (Jedis jedis = pool.getResource()) {\r\n      jedis.set(&quot;hello&quot;, &quot;world&quot;);\r\n    }\r\n\r\nBut then there&#39;s `JedisPooled`, which is the same as `JedisPool` just without the `try-with-resources`.\r\n\r\n    JedisPooled jedis = new JedisPooled(&quot;localhost&quot;, 6379);\r\n    jedis.sadd(&quot;hellow&quot;, &quot;world&quot;);\r\n\r\nSo the question is, is there any other difference between JedisPool/Pooled, and why should I prefer JedisPool over JedisPooled (or vice versa)?\r\n\r\n  [1]: https://github.com/redis/jedis","title":"JedisPool vs JedisPooled","body":"<p>Looking at the <a href=\"https://github.com/redis/jedis\" rel=\"nofollow noreferrer\">Jedis Getting Started</a>, I understand it's better to use connection pools to be threadsafe. To do so, I would need a <code>JedisPool</code> and a <code>try-with-resources</code> statement like so:</p>\n<pre><code>try (Jedis jedis = pool.getResource()) {\n  jedis.set(&quot;hello&quot;, &quot;world&quot;);\n}\n</code></pre>\n<p>But then there's <code>JedisPooled</code>, which is the same as <code>JedisPool</code> just without the <code>try-with-resources</code>.</p>\n<pre><code>JedisPooled jedis = new JedisPooled(&quot;localhost&quot;, 6379);\njedis.sadd(&quot;hellow&quot;, &quot;world&quot;);\n</code></pre>\n<p>So the question is, is there any other difference between JedisPool/Pooled, and why should I prefer JedisPool over JedisPooled (or vice versa)?</p>\n"},{"tags":["java","if-statement","methods","integer","conditional-statements"],"comments":[{"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"score":3,"creation_date":1675594265,"post_id":75351630,"comment_id":132959288,"body_markdown":"Take a look at [De Morgan Laws](https://en.wikipedia.org/wiki/De_Morgan%27s_laws)","body":"Take a look at <a href=\"https://en.wikipedia.org/wiki/De_Morgan%27s_laws\" rel=\"nofollow noreferrer\">De Morgan Laws</a>"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1675595887,"post_id":75351630,"comment_id":132959507,"body_markdown":"Hint: there is no integer that is BOTH greater than 5 AND less than 1 at the same time.  But that is what the `if` condition requires in the first version of the method.","body":"Hint: there is no integer that is BOTH greater than 5 AND less than 1 at the same time.  But that is what the <code>if</code> condition requires in the first version of the method."}],"answers":[{"tags":[],"owner":{"account_id":2818342,"reputation":299838,"user_id":2422776,"display_name":"Mureinik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675593767,"creation_date":1675593767,"answer_id":75351654,"question_id":75351630,"body_markdown":"In the first method, the conditon `goalkeepingSkill &gt; 5 &amp;&amp; goalkeepingSkill &lt; 1` is always false. No number can be both greater than 5 and less than 1. If you want to inverse the condition of the second method, you need to use the `||` logical operator instead of `&amp;&amp;`:\r\n\r\n```java\r\npublic void setGoalkeepingSkill(int goalkeepingSkill) {\r\n    if (goalkeepingSkill &gt; 5 || goalkeepingSkill &lt; 1) {\r\n        // Here -------------^\r\n        System.out.println(&quot;invalid skill value goalkeeping&quot;);\r\n        this.goalkeepingSkill = 1;\r\n    } else {\r\n        this.goalkeepingSkill = goalkeepingSkill; \r\n        System.out.println(&quot;Goalkeeping Skill has been set&quot;);\r\n    }\r\n}\r\n```","title":"Two methods look like they are doing the same thing but give different output. Why?","body":"<p>In the first method, the conditon <code>goalkeepingSkill &gt; 5 &amp;&amp; goalkeepingSkill &lt; 1</code> is always false. No number can be both greater than 5 and less than 1. If you want to inverse the condition of the second method, you need to use the <code>||</code> logical operator instead of <code>&amp;&amp;</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void setGoalkeepingSkill(int goalkeepingSkill) {\n    if (goalkeepingSkill &gt; 5 || goalkeepingSkill &lt; 1) {\n        // Here -------------^\n        System.out.println(&quot;invalid skill value goalkeeping&quot;);\n        this.goalkeepingSkill = 1;\n    } else {\n        this.goalkeepingSkill = goalkeepingSkill; \n        System.out.println(&quot;Goalkeeping Skill has been set&quot;);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":26491591,"reputation":27,"user_id":20129821,"display_name":"Arson1st"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":75351654,"answer_count":1,"score":-1,"last_activity_date":1680813195,"creation_date":1675593532,"question_id":75351630,"body_markdown":"Two methods look like they are doing the same thing but give different output. Why?\r\n\r\nInputs:\r\n\r\n```\r\n-6\r\n1\r\n-5 \r\n```\r\n\r\nMethod 1:\r\n\r\n    public void setGoalkeepingSkill(int goalkeepingSkill) {\r\n \t\tif (goalkeepingSkill &gt; 5 &amp;&amp; goalkeepingSkill &lt; 1) {\r\n   \t\t\tSystem.out.println(&quot;invalid skill value goalkeeping&quot;);\r\n   \t\t\tthis.goalkeepingSkill = 1;\r\n   \t\t} else {\r\n   \t\t\tthis.goalkeepingSkill = goalkeepingSkill; \r\n   \t\t\tSystem.out.println(&quot;Goalkeeping Skill has been set&quot;);\r\n    \t}\r\n    }\r\n\r\nOutput: \r\n\r\n```\r\nGoalkeeping Skill has been set\r\nGoalkeeping Skill has been set\r\nGoalkeeping Skill has been set\r\n```\r\n\r\nMethod 2:\r\n\r\n    public void setGoalkeepingSkill(int goalkeepingSkill) {\r\n    \r\n        if(goalkeepingSkill&lt;=5 &amp;&amp; goalkeepingSkill&gt;=1){\r\n            this.goalkeepingSkill = goalkeepingSkill;\r\n            System.out.println(&quot;Goalkeeping Skill has been set&quot;);\r\n        }else{\r\n            this.goalkeepingSkill=1;\r\n            System.out.println(&quot;invalid skill value goalkeeping&quot;);\r\n        }\r\n    }\r\n\r\nOutput:\r\n```\r\ninvalid skill value goalkeeping\r\nGoalkeeping Skill has been set\r\ninvalid skill value goalkeeping\r\n```\r\n\r\n\r\nEDIT: I thought || denotes AND, &amp;&amp; denotes OR. My bad","title":"Two methods look like they are doing the same thing but give different output. Why?","body":"<p>Two methods look like they are doing the same thing but give different output. Why?</p>\n<p>Inputs:</p>\n<pre><code>-6\n1\n-5 \n</code></pre>\n<p>Method 1:</p>\n<pre><code>public void setGoalkeepingSkill(int goalkeepingSkill) {\n    if (goalkeepingSkill &gt; 5 &amp;&amp; goalkeepingSkill &lt; 1) {\n        System.out.println(&quot;invalid skill value goalkeeping&quot;);\n        this.goalkeepingSkill = 1;\n    } else {\n        this.goalkeepingSkill = goalkeepingSkill; \n        System.out.println(&quot;Goalkeeping Skill has been set&quot;);\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>Goalkeeping Skill has been set\nGoalkeeping Skill has been set\nGoalkeeping Skill has been set\n</code></pre>\n<p>Method 2:</p>\n<pre><code>public void setGoalkeepingSkill(int goalkeepingSkill) {\n\n    if(goalkeepingSkill&lt;=5 &amp;&amp; goalkeepingSkill&gt;=1){\n        this.goalkeepingSkill = goalkeepingSkill;\n        System.out.println(&quot;Goalkeeping Skill has been set&quot;);\n    }else{\n        this.goalkeepingSkill=1;\n        System.out.println(&quot;invalid skill value goalkeeping&quot;);\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>invalid skill value goalkeeping\nGoalkeeping Skill has been set\ninvalid skill value goalkeeping\n</code></pre>\n<p>EDIT: I thought || denotes AND, &amp;&amp; denotes OR. My bad</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":19435569,"reputation":1567,"user_id":21105992,"display_name":"teapot418"},"score":3,"creation_date":1680809977,"post_id":75953162,"comment_id":133964731,"body_markdown":"If you were wondering what that number is: https://www.wikidata.org/wiki/Q10571632","body":"If you were wondering what that number is: <a href=\"https://www.wikidata.org/wiki/Q10571632\" rel=\"nofollow noreferrer\">wikidata.org/wiki/Q10571632</a>"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1680810873,"post_id":75953162,"comment_id":133964919,"body_markdown":"Java Language Specification [4.2.1. Integral Types and Values](https://docs.oracle.com/javase/specs/jls/se20/html/jls-4.html#jls-4.2.1): &quot;*The values of the integral types are integers in the following ranges:  ... For `long`, from `-9223372036854775808` to `9223372036854775807`, inclusive*&quot; - and [documentation](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Math.html#round(double)) of `round()`: &quot;*Returns the closest long to the argument,  ...*&quot; (or [`Long.MAX_VALUE`](https://docs.oracle.com/en/java/javase/20/docs/api/constant-values.html#java.lang.Long.MAX_VALUE))","body":"Java Language Specification <a href=\"https://docs.oracle.com/javase/specs/jls/se20/html/jls-4.html#jls-4.2.1\" rel=\"nofollow noreferrer\">4.2.1. Integral Types and Values</a>: &quot;<i>The values of the integral types are integers in the following ranges:  ... For <code>long</code>, from <code>-9223372036854775808</code> to <code>9223372036854775807</code>, inclusive</i>&quot; - and <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Math.html#round(double)\" rel=\"nofollow noreferrer\">documentation</a> of <code>round()</code>: &quot;<i>Returns the closest long to the argument,  ...</i>&quot; (or <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/constant-values.html#java.lang.Long.MAX_VALUE\" rel=\"nofollow noreferrer\"><code>Long.MAX_VALUE</code></a>)"},{"owner":{"account_id":27058201,"reputation":1,"user_id":20610602,"display_name":"Benjamin"},"score":0,"creation_date":1680811171,"post_id":75953162,"comment_id":133964966,"body_markdown":"damn I&#39;m an idiot.","body":"damn I&#39;m an idiot."}],"answers":[{"tags":[],"owner":{"account_id":13223423,"reputation":1,"user_id":9549372,"display_name":"Nicolas Reinaldo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680813158,"creation_date":1680813158,"answer_id":75953525,"question_id":75953162,"body_markdown":"For my yo can use this way:\r\n\r\n    public static void main(String[] args) {\r\n        double value = 6.022e23;\r\n        BigDecimal valueD = BigDecimal.valueOf(value).setScale(2,RoundingMode.HALF_UP);\r\n        System.out.println(valueD);\r\n    }\r\n    \r\nthis converts it to bigdecimal, maybe later you can convert it to the data type you want, or pass it to a string and then to a long or whatever you want. \r\nAnd RoundingMode you have a lot options : down, floor, half_up,etc","title":"How do I make sense of this Math.round result?","body":"<p>For my yo can use this way:</p>\n<pre><code>public static void main(String[] args) {\n    double value = 6.022e23;\n    BigDecimal valueD = BigDecimal.valueOf(value).setScale(2,RoundingMode.HALF_UP);\n    System.out.println(valueD);\n}\n</code></pre>\n<p>this converts it to bigdecimal, maybe later you can convert it to the data type you want, or pass it to a string and then to a long or whatever you want.\nAnd RoundingMode you have a lot options : down, floor, half_up,etc</p>\n"}],"owner":{"account_id":27058201,"reputation":1,"user_id":20610602,"display_name":"Benjamin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1680814118,"answer_count":1,"score":-2,"last_activity_date":1680813158,"creation_date":1680809667,"question_id":75953162,"body_markdown":"I&#39;m using IntelliJ IDEA  to write a java program to compute and print the value of Math.round(6.022e23)\r\n\r\n```\r\npublic class MathRound {\r\n    public static void main(String[] args) {\r\n        long value = Math.round(6.022e23);\r\n        System.out.println(value);\r\n    }\r\n}\r\n```\r\n\r\nafter I compile and execute I get:\r\n\r\n9223372036854775807\r\n\r\nHowever, I know the answer to be 602200000000000000000000.\r\n\r\nWhat am I doing wrong?","title":"How do I make sense of this Math.round result?","body":"<p>I'm using IntelliJ IDEA  to write a java program to compute and print the value of Math.round(6.022e23)</p>\n<pre><code>public class MathRound {\n    public static void main(String[] args) {\n        long value = Math.round(6.022e23);\n        System.out.println(value);\n    }\n}\n</code></pre>\n<p>after I compile and execute I get:</p>\n<p>9223372036854775807</p>\n<p>However, I know the answer to be 602200000000000000000000.</p>\n<p>What am I doing wrong?</p>\n"},{"tags":["java","uml","class-diagram","model-associations"],"comments":[{"owner":{"account_id":1764995,"reputation":36209,"user_id":1611055,"accept_rate":91,"display_name":"Andreas Fester"},"score":2,"creation_date":1449835601,"post_id":34222857,"comment_id":56190043,"body_markdown":"You should review your cardinalities - like, `Booking` references an array of `Table` in your code but is shown as a `1:1` relationship in the diagram. Similarly, `Booking` references `Time` once in the code but is shown as 1:n relationship in the diagram. Also, I do not see any direct relationship from `Restaurant` to `Time` in the code.","body":"You should review your cardinalities - like, <code>Booking</code> references an array of <code>Table</code> in your code but is shown as a <code>1:1</code> relationship in the diagram. Similarly, <code>Booking</code> references <code>Time</code> once in the code but is shown as 1:n relationship in the diagram. Also, I do not see any direct relationship from <code>Restaurant</code> to <code>Time</code> in the code."},{"owner":{"account_id":7336172,"reputation":41,"user_id":5587488,"display_name":"anon1996"},"score":0,"creation_date":1449836118,"post_id":34222857,"comment_id":56190374,"body_markdown":"But the methods public int getStTime (String n) and public int getEndTime (String n) are contained within the Restaurant code so isn&#39;t there is a direct relationship from Restaurant to Time?","body":"But the methods public int getStTime (String n) and public int getEndTime (String n) are contained within the Restaurant code so isn&#39;t there is a direct relationship from Restaurant to Time?"},{"owner":{"account_id":1764995,"reputation":36209,"user_id":1611055,"accept_rate":91,"display_name":"Andreas Fester"},"score":0,"creation_date":1449836622,"post_id":34222857,"comment_id":56190739,"body_markdown":"I would say, it is **not** a **direct** relationship in any case - it is probably a **conceptual** relationship (these methods look like convenient methods to get start and end time for a given booking, but that could also be solved by returning a given `Booking` and use the `getStart()` and `getEnd()` methods of that class). It somewhat depends on what your intention is with that UML diagram - if its intended to most perfectly reflect the Java code the relationship is not there, if it shall show a conceptual model you could probably add it.","body":"I would say, it is <b>not</b> a <b>direct</b> relationship in any case - it is probably a <b>conceptual</b> relationship (these methods look like convenient methods to get start and end time for a given booking, but that could also be solved by returning a given <code>Booking</code> and use the <code>getStart()</code> and <code>getEnd()</code> methods of that class). It somewhat depends on what your intention is with that UML diagram - if its intended to most perfectly reflect the Java code the relationship is not there, if it shall show a conceptual model you could probably add it."},{"owner":{"account_id":2283105,"reputation":9727,"user_id":2007760,"accept_rate":94,"display_name":"Peter Uhnak"},"score":0,"creation_date":1449839533,"post_id":34222857,"comment_id":56192660,"body_markdown":"Maybe the relationship from `Restaurant` to `Time` is to represent opening hours?","body":"Maybe the relationship from <code>Restaurant</code> to <code>Time</code> is to represent opening hours?"}],"answers":[{"tags":[],"owner":{"account_id":2283105,"reputation":9727,"user_id":2007760,"accept_rate":94,"display_name":"Peter Uhnak"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1449840555,"creation_date":1449840555,"answer_id":34224698,"question_id":34222857,"body_markdown":"I will ignore methods and attributes, because they are trivial and not interesting (and getters should ideally be omitted).\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThere are several differences to your diagram:\r\n\r\n* `Restaurant` may not have any bookings at all, so it should be `*`, and not `1..*`\r\n* `Booking` needs only one `Time`, because `Time` already contains the start and end\r\n* I don&#39;t know why `Restaurant` has start and end time. I will assume it&#39;s to show opening hours (which is a single instance of a `Time`.\r\n* According to your code you can have `Booking` on more than one `Table`. In your diagram only one was possible.\r\n* One `Table` may have many `Booking`s. In your diagram it could have only one. (Of course there is run-time constraint that two `Booking`s shouldn&#39;t book the same `Table` within the same `Time` period, but that should be expressed in OCL or as a note)\r\n* Added role names to the association endpoints (`period`,`openingHours`,...)\r\n\r\nMore notes:\r\n\r\n* `Time` should either contain a single time, or it should be renamed to `Period` or `TimeInterval`. The current naming is confusing.\r\n* Multiplicity on the other side of relations from `Time` can be omitted (since they do not have much meaning here).\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/SAIld.png","title":"Converting Java Code to a UML diagram","body":"<p>I will ignore methods and attributes, because they are trivial and not interesting (and getters should ideally be omitted).</p>\n\n<p><a href=\"https://i.stack.imgur.com/SAIld.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SAIld.png\" alt=\"enter image description here\"></a></p>\n\n<p>There are several differences to your diagram:</p>\n\n<ul>\n<li><code>Restaurant</code> may not have any bookings at all, so it should be <code>*</code>, and not <code>1..*</code></li>\n<li><code>Booking</code> needs only one <code>Time</code>, because <code>Time</code> already contains the start and end</li>\n<li>I don't know why <code>Restaurant</code> has start and end time. I will assume it's to show opening hours (which is a single instance of a <code>Time</code>.</li>\n<li>According to your code you can have <code>Booking</code> on more than one <code>Table</code>. In your diagram only one was possible.</li>\n<li>One <code>Table</code> may have many <code>Booking</code>s. In your diagram it could have only one. (Of course there is run-time constraint that two <code>Booking</code>s shouldn't book the same <code>Table</code> within the same <code>Time</code> period, but that should be expressed in OCL or as a note)</li>\n<li>Added role names to the association endpoints (<code>period</code>,<code>openingHours</code>,...)</li>\n</ul>\n\n<p>More notes:</p>\n\n<ul>\n<li><code>Time</code> should either contain a single time, or it should be renamed to <code>Period</code> or <code>TimeInterval</code>. The current naming is confusing.</li>\n<li>Multiplicity on the other side of relations from <code>Time</code> can be omitted (since they do not have much meaning here).</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":28235496,"reputation":1,"user_id":21584050,"display_name":"Msai 143"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1680811850,"creation_date":1680811850,"answer_id":75953390,"question_id":34222857,"body_markdown":"     +------------------+                     +--------------------+\r\n     |  Input Text     |                     |  Pre-processing   |\r\n     | (Plant Symptoms)|                     | (Tokenization,    |\r\n     |                  |                     |  Embedding, etc.) |\r\n     +--------+---------+                     +--------+-----------+\r\n              |                                          |\r\n     +--------v-----------+         +--------------------v-------------+\r\n     |  Language Model    |         |    Convolutional Neural Network  |\r\n     | (ULM)               |         |       (CNN) for Image Analysis  |\r\n     |                     |         |                                |\r\n     |    +------------+   |         |   +-------------+  +--------+ |\r\n     |    | LSTM Layer |   |         |   | Convolution |  | Fully  | |\r\n     |    | 1          |   |         |   |  Layers     |  |   Connected| |\r\n     |    +------------+   |         |   +-------------+  |  Layers  | |\r\n     |          |          |         |            |        +----------+ |\r\n     |    +-----v-----+    |         |   +--------v-------+            |\r\n     |    | LSTM Layer |    |         |   |   Pooling Layer |            |\r\n     |    | 2          |    |         |   |    (e.g. Max)    |            |\r\n     |    +------------+    |         |   +------------------+            |\r\n     |          |          |         |            |                       |\r\n     |    +-----v-----+    |         |   +--------v-------+            |\r\n     |    | LSTM Layer |    |         |   |  Flatten Layer  |            |\r\n     |    | 3          |    |         |   +------------------+            |\r\n     |    +------------+    |         |            |                       |\r\n     |          |          |         |   +--------v-------+            |\r\n     |    +-----v-----+    |         |   | Fully Connected |            |\r\n     |    |  Output    |    |         |   |    Layers for    |            |\r\n     |    |  Layer     |    |         |   |  Classification  |            |\r\n     |    +------------+    |         |   +------------------+            |\r\n     |          |          |         |            |                       |\r\n     +----------v----------+         +------------v-----------------------+\r\n                |                                      |\r\n     +----------v----------+                           |\r\n     |  Softmax Activation |                           |\r\n     |  (Output Probabilities)|                        |\r\n     +----------------------+                           |\r\n                                                      |\r\n                                        +------------v----------------+\r\n                                        |    Disease Prediction    |\r\n                                        |    (e.g. Healthy,       |\r\n                                        |     Diseased, etc.)     |\r\n                                        +--------------------------+\r\n","title":"Converting Java Code to a UML diagram","body":"<pre><code> +------------------+                     +--------------------+\n |  Input Text     |                     |  Pre-processing   |\n | (Plant Symptoms)|                     | (Tokenization,    |\n |                  |                     |  Embedding, etc.) |\n +--------+---------+                     +--------+-----------+\n          |                                          |\n +--------v-----------+         +--------------------v-------------+\n |  Language Model    |         |    Convolutional Neural Network  |\n | (ULM)               |         |       (CNN) for Image Analysis  |\n |                     |         |                                |\n |    +------------+   |         |   +-------------+  +--------+ |\n |    | LSTM Layer |   |         |   | Convolution |  | Fully  | |\n |    | 1          |   |         |   |  Layers     |  |   Connected| |\n |    +------------+   |         |   +-------------+  |  Layers  | |\n |          |          |         |            |        +----------+ |\n |    +-----v-----+    |         |   +--------v-------+            |\n |    | LSTM Layer |    |         |   |   Pooling Layer |            |\n |    | 2          |    |         |   |    (e.g. Max)    |            |\n |    +------------+    |         |   +------------------+            |\n |          |          |         |            |                       |\n |    +-----v-----+    |         |   +--------v-------+            |\n |    | LSTM Layer |    |         |   |  Flatten Layer  |            |\n |    | 3          |    |         |   +------------------+            |\n |    +------------+    |         |            |                       |\n |          |          |         |   +--------v-------+            |\n |    +-----v-----+    |         |   | Fully Connected |            |\n |    |  Output    |    |         |   |    Layers for    |            |\n |    |  Layer     |    |         |   |  Classification  |            |\n |    +------------+    |         |   +------------------+            |\n |          |          |         |            |                       |\n +----------v----------+         +------------v-----------------------+\n            |                                      |\n +----------v----------+                           |\n |  Softmax Activation |                           |\n |  (Output Probabilities)|                        |\n +----------------------+                           |\n                                                  |\n                                    +------------v----------------+\n                                    |    Disease Prediction    |\n                                    |    (e.g. Healthy,       |\n                                    |     Diseased, etc.)     |\n                                    +--------------------------+\n</code></pre>\n"}],"owner":{"account_id":7336172,"reputation":41,"user_id":5587488,"display_name":"anon1996"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8770,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1680811850,"creation_date":1449834563,"question_id":34222857,"body_markdown":"I have to convert the following Java code to a UML diagram, however I&#39;m not sure whether I have done the associations between the classes correctly. Please you advise me whether or not the UML diagram is correct. \r\n\r\n    public class Booking {\r\n    \r\n        private String name;\r\n\r\n        private Time time;\r\n\r\n        private Table[] tables;\r\n  \r\n        public Booking ( String n, int st, int en, int num ){\r\n        }\r\n\r\n        public int getStart (  ){\r\n            return 1;\r\n        }\r\n   \r\n        public int getEnd (  ){\r\n            return 1;\r\n        }\r\n\r\n        public Table[] getTables (  ){\r\n            return new Table[3];\r\n        }\r\n\r\n        public int getBookingSize (  ){\r\n            return 1;\r\n        }\r\n    }\r\n\r\n&lt;!-- --&gt;\r\n\r\n    public class Time {\r\n \r\n        private int startHour;\r\n  \r\n        private int endHour;\r\n    \r\n        public Time ( int st, int en ){\r\n        }\r\n\r\n        public int getStart (  ){\r\n            return 1;\r\n        }\r\n\r\n        public int getEnd (  ){\r\n            return 1;\r\n        }\r\n    }\r\n\r\n  &lt;!-- --&gt;\r\n\r\n    public class Table {\r\n   \r\n        private int number;\r\n    \r\n        private int seats;\r\n  \r\n        public Table ( int num, int sz ){\r\n        }\r\n  \r\n        public int getNumber (  ){\r\n            return 1;\r\n        }\r\n\r\n        public int getSeats (  ){\r\n            return 1;\r\n        }\r\n    }\r\n\r\n&lt;!-- --&gt;\r\n\r\n    public class Restaurant {\r\n    \r\n        private Booking[] bookings;\r\n    \r\n        public void makeBooking ( String n, int st, int en, int s ){\r\n        }\r\n\r\n    \r\n        public void cancelBooking ( String n ){\r\n        }\r\n    \r\n        public Table[] getTables ( String n ){\r\n            return new Table[2];\r\n        }\r\n\r\n        public int getStTime (String n) {\r\n            return 1;\r\n        }\r\n\r\n        public int getEndTime (String n) {\r\n            return 1;\r\n        }\r\n    }\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/E9uCx.png ","title":"Converting Java Code to a UML diagram","body":"<p>I have to convert the following Java code to a UML diagram, however I'm not sure whether I have done the associations between the classes correctly. Please you advise me whether or not the UML diagram is correct. </p>\n\n<pre><code>public class Booking {\n\n    private String name;\n\n    private Time time;\n\n    private Table[] tables;\n\n    public Booking ( String n, int st, int en, int num ){\n    }\n\n    public int getStart (  ){\n        return 1;\n    }\n\n    public int getEnd (  ){\n        return 1;\n    }\n\n    public Table[] getTables (  ){\n        return new Table[3];\n    }\n\n    public int getBookingSize (  ){\n        return 1;\n    }\n}\n</code></pre>\n\n\n\n<pre><code>public class Time {\n\n    private int startHour;\n\n    private int endHour;\n\n    public Time ( int st, int en ){\n    }\n\n    public int getStart (  ){\n        return 1;\n    }\n\n    public int getEnd (  ){\n        return 1;\n    }\n}\n</code></pre>\n\n  \n\n<pre><code>public class Table {\n\n    private int number;\n\n    private int seats;\n\n    public Table ( int num, int sz ){\n    }\n\n    public int getNumber (  ){\n        return 1;\n    }\n\n    public int getSeats (  ){\n        return 1;\n    }\n}\n</code></pre>\n\n\n\n<pre><code>public class Restaurant {\n\n    private Booking[] bookings;\n\n    public void makeBooking ( String n, int st, int en, int s ){\n    }\n\n\n    public void cancelBooking ( String n ){\n    }\n\n    public Table[] getTables ( String n ){\n        return new Table[2];\n    }\n\n    public int getStTime (String n) {\n        return 1;\n    }\n\n    public int getEndTime (String n) {\n        return 1;\n    }\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/E9uCx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/E9uCx.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","gradle"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":1,"creation_date":1680801782,"post_id":75952097,"comment_id":133962998,"body_markdown":"If Project A was not designed for extension/wrapping/decorating/injection, then why use it?  This sounds like a really, really bad idea.","body":"If Project A was not designed for extension/wrapping/decorating/injection, then why use it?  This sounds like a really, really bad idea."},{"owner":{"account_id":3159156,"reputation":276,"user_id":2670806,"display_name":"Surculus"},"score":0,"creation_date":1680803599,"post_id":75952097,"comment_id":133963385,"body_markdown":"@AndrewS It&#39;s a custom client for a very old video game to add QOL features. The problem is that the devs have very strange views on how to write and format their code which makes it a headache to maintain re: merge conflicts. There are also other design choices which make active modification of the original source a pain. I would not want to do this in production.","body":"@AndrewS It&#39;s a custom client for a very old video game to add QOL features. The problem is that the devs have very strange views on how to write and format their code which makes it a headache to maintain re: merge conflicts. There are also other design choices which make active modification of the original source a pain. I would not want to do this in production."},{"owner":{"account_id":5218565,"reputation":1034,"user_id":6540591,"display_name":"User51"},"score":0,"creation_date":1680810314,"post_id":75952097,"comment_id":133964795,"body_markdown":"Was thinking you could do it with an intermediate jar which simply moved `foo.bar` to `shaded.foo.bar` and then re-implement them all in your extension class, but that wouldn&#39;t intercept calls between classes in the original `foo.bar`...  Another possible option would be some kind of aspect oriented programming, but with the requirements to have both classpath collisions PLUS extension, I&#39;m not sure how you could get there natively.","body":"Was thinking you could do it with an intermediate jar which simply moved <code>foo.bar</code> to <code>shaded.foo.bar</code> and then re-implement them all in your extension class, but that wouldn&#39;t intercept calls between classes in the original <code>foo.bar</code>...  Another possible option would be some kind of aspect oriented programming, but with the requirements to have both classpath collisions PLUS extension, I&#39;m not sure how you could get there natively."}],"answers":[{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680810750,"creation_date":1680810750,"answer_id":75953277,"question_id":75952097,"body_markdown":"Maybe this is a case for **AOP, Aspect Oriented Programming**. It can intercept calls and provide one&#39;s own filtering.\r\n\r\nIt is both a tricky patching instead of just rewriting code.\r\nBut you can return in the old code your child class instance when originally their base class instance was returned.\r\n\r\n[Baeldung on Spring&#39;s AOP][1]\r\n\r\nWhether this is a feasible approach depends.\r\n\r\n  [1]: https://www.baeldung.com/spring-aop","title":"Patching java classes in another project with a child class without modifying the source code","body":"<p>Maybe this is a case for <strong>AOP, Aspect Oriented Programming</strong>. It can intercept calls and provide one's own filtering.</p>\n<p>It is both a tricky patching instead of just rewriting code.\nBut you can return in the old code your child class instance when originally their base class instance was returned.</p>\n<p><a href=\"https://www.baeldung.com/spring-aop\" rel=\"nofollow noreferrer\">Baeldung on Spring's AOP</a></p>\n<p>Whether this is a feasible approach depends.</p>\n"}],"owner":{"account_id":3159156,"reputation":276,"user_id":2670806,"display_name":"Surculus"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1680863325,"answer_count":1,"score":1,"last_activity_date":1680810750,"creation_date":1680801125,"question_id":75952097,"body_markdown":"# Goal #\r\n\r\nI have a project A whose source I do not want to modify. I want to &quot;merge&quot; it with a project B on build such that:\r\n\r\n1. Classes in B replace classes in A.\r\n2. Any classes that are replaced in A are moved s.t. the classes in B can keep inherit from those classes.\r\n\r\nThe purpose of this is to be able to &quot;hijack&quot; behaviours in project A by wrapping methods (and in some instanced replacing them all together) without having to do so in the project A source code.\r\n\r\n# Example #\r\n\r\nGiven a class `Foo` in project A under the namspace `org.bar`, we have a class\r\n\r\n```{java}\r\npublic class Foo extends org.bar.Foo {\r\n    @Override\r\n    public void doThings() {\r\n        // doOtherThings\r\n        super.doThings();\r\n        // doEvenMoreThings\r\n    }\r\n}\r\n```\r\n\r\nin project B that will be called instead of the original `Foo` class by other code in project A.\r\n\r\n# My problem / what I tried #\r\n\r\nMy idea for solving this was to create a shadowed jar of project A s.t. all classes except those to be patched would move to a new namespace matching the namespace of project B and then merge the two. However, I was unable to patch the references to those classes within project A.\r\n\r\nThe problem I have is replacing any namespace reference to the original classes to the patched classes while keeping the reference &quot;parent&quot; reference in the patched classes. Any attempt to do so has resulted in java complaining, at runtime, that the references are borked (this was a few months ago and I do not have the errorlogs).\r\n","title":"Patching java classes in another project with a child class without modifying the source code","body":"<h1>Goal</h1>\n<p>I have a project A whose source I do not want to modify. I want to &quot;merge&quot; it with a project B on build such that:</p>\n<ol>\n<li>Classes in B replace classes in A.</li>\n<li>Any classes that are replaced in A are moved s.t. the classes in B can keep inherit from those classes.</li>\n</ol>\n<p>The purpose of this is to be able to &quot;hijack&quot; behaviours in project A by wrapping methods (and in some instanced replacing them all together) without having to do so in the project A source code.</p>\n<h1>Example</h1>\n<p>Given a class <code>Foo</code> in project A under the namspace <code>org.bar</code>, we have a class</p>\n<pre><code>public class Foo extends org.bar.Foo {\n    @Override\n    public void doThings() {\n        // doOtherThings\n        super.doThings();\n        // doEvenMoreThings\n    }\n}\n</code></pre>\n<p>in project B that will be called instead of the original <code>Foo</code> class by other code in project A.</p>\n<h1>My problem / what I tried</h1>\n<p>My idea for solving this was to create a shadowed jar of project A s.t. all classes except those to be patched would move to a new namespace matching the namespace of project B and then merge the two. However, I was unable to patch the references to those classes within project A.</p>\n<p>The problem I have is replacing any namespace reference to the original classes to the patched classes while keeping the reference &quot;parent&quot; reference in the patched classes. Any attempt to do so has resulted in java complaining, at runtime, that the references are borked (this was a few months ago and I do not have the errorlogs).</p>\n"},{"tags":["java","rest","gmail-api"],"comments":[{"owner":{"account_id":16001561,"reputation":3061,"user_id":11548057,"display_name":"joshmeranda"},"score":0,"creation_date":1680796148,"post_id":75951389,"comment_id":133961643,"body_markdown":"looking at https://stackoverflow.com/questions/35778772/how-to-mark-messages-as-read-using-gmail-api-as-i-parse you should be able to add an `UNREAD` or `READ` label to do this","body":"looking at <a href=\"https://stackoverflow.com/questions/35778772/how-to-mark-messages-as-read-using-gmail-api-as-i-parse\" title=\"how to mark messages as read using gmail api as i parse\">stackoverflow.com/questions/35778772/&hellip;</a> you should be able to add an <code>UNREAD</code> or <code>READ</code> label to do this"},{"owner":{"account_id":2066403,"reputation":109410,"user_id":1841839,"accept_rate":71,"display_name":"Linda Lawton - DaImTo"},"score":0,"creation_date":1680796321,"post_id":75951389,"comment_id":133961694,"body_markdown":"Do you want to use the gmail api or IMAP?    If its the gmail api then just remove the label UNREAD","body":"Do you want to use the gmail api or IMAP?    If its the gmail api then just remove the label UNREAD"},{"owner":{"account_id":8288767,"reputation":329,"user_id":6231134,"accept_rate":85,"display_name":"Tiago Dall&#39;Oca"},"score":0,"creation_date":1680798407,"post_id":75951389,"comment_id":133962204,"body_markdown":"Oh that&#39;s awesome! Will try and get back to report if it worked","body":"Oh that&#39;s awesome! Will try and get back to report if it worked"}],"answers":[{"tags":[],"owner":{"account_id":25872105,"reputation":1405,"user_id":19602805,"display_name":"Bryan Monterrosa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680810006,"creation_date":1680810006,"answer_id":75953195,"question_id":75951389,"body_markdown":"You can add/remove the ```UNREAD``` label and it will update the email status. It was already mentioned in the comments by [joshmeranda][1] and [Linda Lawton - DaImTo][2] but I wanted to provide a code as an example using Java.\r\n\r\nThis would update a message using a given messageId by swapping its status from ```READ``` to ```UNREAD``` or vice-versa:\r\n\r\n```\r\n        String user = &quot;A_USER_ID&quot;; //&lt;- use &quot;me&quot; to use the authenticated user&#39;s ID.\r\n        String messageId = &quot;A_MESSAGE_ID&quot;;\r\n        Message message = service.users().messages().get(user, messageId).execute();\r\n\r\n        if (message.getLabelIds().contains(&quot;UNREAD&quot;)) {\r\n            ModifyMessageRequest modifyRequest = new ModifyMessageRequest()\r\n                    .setRemoveLabelIds(Arrays.asList(new String[] { &quot;UNREAD&quot; }));\r\n            Message modifiedMessage = service.users().messages().modify(user, messageId, modifyRequest).execute();\r\n        } else {\r\n            ModifyMessageRequest modifyRequest = new ModifyMessageRequest()\r\n                    .setAddLabelIds(Arrays.asList(new String[] { &quot;UNREAD&quot; }));\r\n            Message modifiedMessage = service.users().messages().modify(user, messageId, modifyRequest).execute();\r\n        }\r\n```\r\n\r\n---\r\n### Reference:\r\n* [Gmail API Java Quickstart][3] to get the ```Gmail service``` object.\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/11548057/joshmeranda\r\n  [2]: https://stackoverflow.com/users/1841839/linda-lawton-daimto\r\n  [3]: https://developers.google.com/gmail/api/quickstart/java","title":"Is there any way of marking an email as read/seen using Gmail&#39;s API? Link to the API below","body":"<p>You can add/remove the <code>UNREAD</code> label and it will update the email status. It was already mentioned in the comments by <a href=\"https://stackoverflow.com/users/11548057/joshmeranda\">joshmeranda</a> and <a href=\"https://stackoverflow.com/users/1841839/linda-lawton-daimto\">Linda Lawton - DaImTo</a> but I wanted to provide a code as an example using Java.</p>\n<p>This would update a message using a given messageId by swapping its status from <code>READ</code> to <code>UNREAD</code> or vice-versa:</p>\n<pre><code>        String user = &quot;A_USER_ID&quot;; //&lt;- use &quot;me&quot; to use the authenticated user's ID.\n        String messageId = &quot;A_MESSAGE_ID&quot;;\n        Message message = service.users().messages().get(user, messageId).execute();\n\n        if (message.getLabelIds().contains(&quot;UNREAD&quot;)) {\n            ModifyMessageRequest modifyRequest = new ModifyMessageRequest()\n                    .setRemoveLabelIds(Arrays.asList(new String[] { &quot;UNREAD&quot; }));\n            Message modifiedMessage = service.users().messages().modify(user, messageId, modifyRequest).execute();\n        } else {\n            ModifyMessageRequest modifyRequest = new ModifyMessageRequest()\n                    .setAddLabelIds(Arrays.asList(new String[] { &quot;UNREAD&quot; }));\n            Message modifiedMessage = service.users().messages().modify(user, messageId, modifyRequest).execute();\n        }\n</code></pre>\n<hr />\n<h3>Reference:</h3>\n<ul>\n<li><a href=\"https://developers.google.com/gmail/api/quickstart/java\" rel=\"nofollow noreferrer\">Gmail API Java Quickstart</a> to get the <code>Gmail service</code> object.</li>\n</ul>\n"}],"owner":{"account_id":8288767,"reputation":329,"user_id":6231134,"accept_rate":85,"display_name":"Tiago Dall&#39;Oca"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75953195,"answer_count":1,"score":1,"last_activity_date":1680810006,"creation_date":1680795883,"question_id":75951389,"body_markdown":"I tried going over the the entire thing, read the Java client reference too, but it doesn&#39;t seem that there is a way to do it, which is strange as it is possible to mark an email as read using IMAP wth Gmail.\r\n\r\nIt seems it&#39;s only possible to [add/remove labels from messages](https://developers.google.com/gmail/api/reference/rest/v1/users.messages/modify)\r\n\r\nCan anyone confirm this?","title":"Is there any way of marking an email as read/seen using Gmail&#39;s API? Link to the API below","body":"<p>I tried going over the the entire thing, read the Java client reference too, but it doesn't seem that there is a way to do it, which is strange as it is possible to mark an email as read using IMAP wth Gmail.</p>\n<p>It seems it's only possible to <a href=\"https://developers.google.com/gmail/api/reference/rest/v1/users.messages/modify\" rel=\"nofollow noreferrer\">add/remove labels from messages</a></p>\n<p>Can anyone confirm this?</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"score":0,"creation_date":1680796188,"post_id":75951401,"comment_id":133961658,"body_markdown":"take a look here:\nhttps://stackoverflow.com/questions/24839760/spring-boot-responsebody-doesnt-serialize-entity-id","body":"take a look here: <a href=\"https://stackoverflow.com/questions/24839760/spring-boot-responsebody-doesnt-serialize-entity-id\" title=\"spring boot responsebody doesnt serialize entity id\">stackoverflow.com/questions/24839760/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":28218549,"reputation":29,"user_id":21569670,"display_name":"omprakash K"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680804196,"creation_date":1680804196,"answer_id":75952480,"question_id":75951401,"body_markdown":"You change return type from string to user object\r\n\r\n    @GetMapping(&quot;/{id}&quot;)\r\n        public ResponseEntity&lt;User&gt; getUserById(@PathVariable Integer id)throws JsonProcessingException {\r\n            Optional&lt;User&gt; userOptional = userService.getUserById(id);\r\n            \r\n            if (userOptional.isPresent()) {\r\n                User user = userOptional.get();\r\n                return ResponseEntity.ok(user);\r\n            } else {\r\n                return ResponseEntity.notFound().build();\r\n            }\r\n        }\r\n    \r\n    }","title":"Can&#39;t display field id in java rest application with spring boot","body":"<p>You change return type from string to user object</p>\n<pre><code>@GetMapping(&quot;/{id}&quot;)\n    public ResponseEntity&lt;User&gt; getUserById(@PathVariable Integer id)throws JsonProcessingException {\n        Optional&lt;User&gt; userOptional = userService.getUserById(id);\n        \n        if (userOptional.isPresent()) {\n            User user = userOptional.get();\n            return ResponseEntity.ok(user);\n        } else {\n            return ResponseEntity.notFound().build();\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5609143,"reputation":385,"user_id":4442612,"display_name":"vijaydeep"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680809505,"creation_date":1680809505,"answer_id":75953135,"question_id":75951401,"body_markdown":"By default the @Id attributes are not rendered. If you want to display the id then you can create a new getter say getId like this :  \r\n\r\n    public Integer getId(){\r\n            return this.id;\r\n        }\r\n\r\n  \r\n\r\nNow  it will show id also as part of response.","title":"Can&#39;t display field id in java rest application with spring boot","body":"<p>By default the @Id attributes are not rendered. If you want to display the id then you can create a new getter say getId like this :</p>\n<pre><code>public Integer getId(){\n        return this.id;\n    }\n</code></pre>\n<p>Now  it will show id also as part of response.</p>\n"}],"owner":{"account_id":5409858,"reputation":163,"user_id":4307049,"display_name":"Luke"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1680809505,"creation_date":1680795945,"question_id":75951401,"body_markdown":"I have a java web application with spring boot version 3.1.0\r\n\r\nUser class is:\r\n```\r\n\r\nimport jakarta.persistence.Column;\r\nimport jakarta.persistence.Entity;\r\nimport jakarta.persistence.GeneratedValue;\r\nimport jakarta.persistence.GenerationType;\r\nimport jakarta.persistence.Id;\r\nimport jakarta.persistence.Table;\r\nimport lombok.Getter;\r\nimport lombok.Setter;\r\n\r\n@Getter\r\n@Setter\r\n@Entity\r\n@Table(name = &quot;user&quot;)\r\npublic class User {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    @Column(name = &quot;user_id&quot;)\r\n    private Integer id;\r\n    \r\n    @Column(name = &quot;username&quot;)\r\n    private String username;\r\n\r\n    public User() {\r\n    }\r\n\r\n    public User(Integer id) {\r\n        this.id = id;\r\n    }\r\n}\r\n```\r\n\r\nUserController is:\r\n```\r\n\r\nimport java.util.List;\r\nimport java.util.Optional;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.PathVariable;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport com.fasterxml.jackson.annotation.JsonInclude;\r\nimport com.fasterxml.jackson.core.JsonProcessingException;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\n\r\n\r\n@RestController\r\n@RequestMapping(&quot;/users&quot;)\r\npublic class UserController {\r\n    \r\n\t@Autowired\r\n\tprivate UserService userService;\r\n\t\r\n    @GetMapping(&quot;&quot;)\r\n    public ResponseEntity&lt;List&lt;User&gt;&gt; getUsers() {\r\n    \tList&lt;User&gt; users = userService.getAllUsers();\r\n        return ResponseEntity.ok(users);\r\n    }\r\n\r\n    @GetMapping(&quot;/{id}&quot;)\r\n    public ResponseEntity&lt;String&gt; getUserById(@PathVariable Integer id)throws JsonProcessingException {\r\n        Optional&lt;User&gt; userOptional = userService.getUserById(id);\r\n        \r\n        if (userOptional.isPresent()) {\r\n            User user = userOptional.get();\r\n            return ResponseEntity.ok(user);\r\n        } else {\r\n            return ResponseEntity.notFound().build();\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\nUserService is:\r\n```\r\n\r\nimport java.util.List;\r\nimport java.util.Optional;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Service;\r\n\r\n@Service\r\npublic class UserService {\r\n\r\n   @Autowired\r\n   private UserRepository userRepository;\r\n\r\n   public List&lt;User&gt; getAllUsers() {\r\n       return userRepository.findAll();\r\n   }\r\n\r\n   public Optional&lt;User&gt; getUserById(Integer id) {\r\n       return userRepository.findById(id);\r\n   }\r\n\r\n   public void saveOrUpdateUser(User user) {\r\n       userRepository.save(user);\r\n   }\r\n\r\n   public void deleteUser(Integer id) {\r\n       userRepository.deleteById(id);\r\n   }\r\n\r\n}\r\n```\r\n\r\nUserRepository is:\r\n```\r\nimport java.util.Optional;\r\n\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.stereotype.Repository;\r\n\r\n@Repository\r\npublic interface UserRepository extends JpaRepository&lt;User, Integer&gt; {\r\n\r\n\tOptional&lt;User&gt; findById(int id);\r\n\t\r\n}\r\n```\r\n\r\nWhen I call http://localhost:8080/xxx/users/1, I get this result:\r\n```\r\n{\r\n  &quot;username&quot; : &quot;my-email@gmail.com&quot;,\r\n  &quot;_links&quot; : {\r\n    &quot;self&quot; : {\r\n      &quot;href&quot; : &quot;http://localhost:8080/xxx/users/1&quot;\r\n    },\r\n    &quot;user&quot; : {\r\n      &quot;href&quot; : &quot;http://localhost:8080/xxx/users/1&quot;\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nField id of User class is never returned and I don&#39;t understand why. I tried also with\r\n```\r\n@Id\r\n@GeneratedValue(strategy = GenerationType.AUTO)\r\n@Column(name = &quot;user_id&quot;)\r\n@JsonProperty(&quot;id&quot;)\r\n@JsonInclude(JsonInclude.Include.ALWAYS)\r\n```\r\n\r\nI use lombok lib for getter and setter. However, I tried also to define getter and setter manually in the classic way but nothing changes.\r\n\r\nWhat&#39;s wrong with this?\r\n\r\nThanks","title":"Can&#39;t display field id in java rest application with spring boot","body":"<p>I have a java web application with spring boot version 3.1.0</p>\n<p>User class is:</p>\n<pre><code>\nimport jakarta.persistence.Column;\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport jakarta.persistence.Id;\nimport jakarta.persistence.Table;\nimport lombok.Getter;\nimport lombok.Setter;\n\n@Getter\n@Setter\n@Entity\n@Table(name = &quot;user&quot;)\npublic class User {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = &quot;user_id&quot;)\n    private Integer id;\n    \n    @Column(name = &quot;username&quot;)\n    private String username;\n\n    public User() {\n    }\n\n    public User(Integer id) {\n        this.id = id;\n    }\n}\n</code></pre>\n<p>UserController is:</p>\n<pre><code>\nimport java.util.List;\nimport java.util.Optional;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport com.fasterxml.jackson.annotation.JsonInclude;\nimport com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.databind.ObjectMapper;\n\n\n@RestController\n@RequestMapping(&quot;/users&quot;)\npublic class UserController {\n    \n    @Autowired\n    private UserService userService;\n    \n    @GetMapping(&quot;&quot;)\n    public ResponseEntity&lt;List&lt;User&gt;&gt; getUsers() {\n        List&lt;User&gt; users = userService.getAllUsers();\n        return ResponseEntity.ok(users);\n    }\n\n    @GetMapping(&quot;/{id}&quot;)\n    public ResponseEntity&lt;String&gt; getUserById(@PathVariable Integer id)throws JsonProcessingException {\n        Optional&lt;User&gt; userOptional = userService.getUserById(id);\n        \n        if (userOptional.isPresent()) {\n            User user = userOptional.get();\n            return ResponseEntity.ok(user);\n        } else {\n            return ResponseEntity.notFound().build();\n        }\n    }\n\n}\n</code></pre>\n<p>UserService is:</p>\n<pre><code>\nimport java.util.List;\nimport java.util.Optional;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\n\n@Service\npublic class UserService {\n\n   @Autowired\n   private UserRepository userRepository;\n\n   public List&lt;User&gt; getAllUsers() {\n       return userRepository.findAll();\n   }\n\n   public Optional&lt;User&gt; getUserById(Integer id) {\n       return userRepository.findById(id);\n   }\n\n   public void saveOrUpdateUser(User user) {\n       userRepository.save(user);\n   }\n\n   public void deleteUser(Integer id) {\n       userRepository.deleteById(id);\n   }\n\n}\n</code></pre>\n<p>UserRepository is:</p>\n<pre><code>import java.util.Optional;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\n@Repository\npublic interface UserRepository extends JpaRepository&lt;User, Integer&gt; {\n\n    Optional&lt;User&gt; findById(int id);\n    \n}\n</code></pre>\n<p>When I call http://localhost:8080/xxx/users/1, I get this result:</p>\n<pre><code>{\n  &quot;username&quot; : &quot;my-email@gmail.com&quot;,\n  &quot;_links&quot; : {\n    &quot;self&quot; : {\n      &quot;href&quot; : &quot;http://localhost:8080/xxx/users/1&quot;\n    },\n    &quot;user&quot; : {\n      &quot;href&quot; : &quot;http://localhost:8080/xxx/users/1&quot;\n    }\n  }\n}\n</code></pre>\n<p>Field id of User class is never returned and I don't understand why. I tried also with</p>\n<pre><code>@Id\n@GeneratedValue(strategy = GenerationType.AUTO)\n@Column(name = &quot;user_id&quot;)\n@JsonProperty(&quot;id&quot;)\n@JsonInclude(JsonInclude.Include.ALWAYS)\n</code></pre>\n<p>I use lombok lib for getter and setter. However, I tried also to define getter and setter manually in the classic way but nothing changes.</p>\n<p>What's wrong with this?</p>\n<p>Thanks</p>\n"},{"tags":["java","spring-boot","cassandra","project-reactor","spring-data-cassandra"],"comments":[{"owner":{"account_id":60456,"reputation":55961,"user_id":1054558,"accept_rate":100,"display_name":"Aaron"},"score":0,"creation_date":1680696932,"post_id":75934568,"comment_id":133941227,"body_markdown":"What error/exception do you get back?","body":"What error/exception do you get back?"},{"owner":{"account_id":18770885,"reputation":772,"user_id":13687718,"display_name":"mang4521"},"score":0,"creation_date":1680722167,"post_id":75934568,"comment_id":133948215,"body_markdown":"I don&#39;t see an error. For the successful query case, I see the heartbeat to be successful. But, for the failure case I see no heartbeat successful response.","body":"I don&#39;t see an error. For the successful query case, I see the heartbeat to be successful. But, for the failure case I see no heartbeat successful response."}],"answers":[{"tags":[],"owner":{"account_id":18770885,"reputation":772,"user_id":13687718,"display_name":"mang4521"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680808971,"creation_date":1680808971,"answer_id":75953064,"question_id":75934568,"body_markdown":"This worked for me:\r\n\r\nTable Class:\r\n\r\n```\r\n@Data\r\n@AllArgsConstructor\r\n@Table(value = &quot;user_table&quot;)\r\npublic class UserConfig implements Serializable {\r\n    @PrimaryKeyColumn(name = &quot;user_name&quot;, ordinal = 0, type = PrimaryKeyType.PARTITIONED)\r\n    private String userName;\r\n    @PrimaryKeyColumn(name = &quot;department_name&quot;, ordinal = 1, type = PrimaryKeyType.CLUSTERED, ordering = Ordering.ASCENDING)\r\n    private String departmentName;\r\n    @Column(value = &quot;address&quot;)\r\n    private String address;\r\n}\r\n```\r\n\r\nRepository:\r\n\r\n```\r\n@Repository\r\npublic interface UserRepository extends ReactiveCassandraRepository&lt;UserConfig, String&gt; {\r\n\r\n    @Query(&quot;SELECT * from user_table where user_name=?0&quot;)\r\n    Flux&lt;UserConfig&gt; findByUserName(String userName);\r\n\r\n    @Query(&quot;SELECT * from user_table where user_name=?0 and department_name=?1&quot;)\r\n    Flux&lt;UserConfig&gt; findByUserNameAndDepartmentName(String userName, String departmentName);\r\n}\r\n```\r\n\r\nThe change mainly here is with respect to how the Repository interface methods are defined with @Query.","title":"Unable to access a Cassandra table with a Composite key using Reactive Cassandra","body":"<p>This worked for me:</p>\n<p>Table Class:</p>\n<pre><code>@Data\n@AllArgsConstructor\n@Table(value = &quot;user_table&quot;)\npublic class UserConfig implements Serializable {\n    @PrimaryKeyColumn(name = &quot;user_name&quot;, ordinal = 0, type = PrimaryKeyType.PARTITIONED)\n    private String userName;\n    @PrimaryKeyColumn(name = &quot;department_name&quot;, ordinal = 1, type = PrimaryKeyType.CLUSTERED, ordering = Ordering.ASCENDING)\n    private String departmentName;\n    @Column(value = &quot;address&quot;)\n    private String address;\n}\n</code></pre>\n<p>Repository:</p>\n<pre><code>@Repository\npublic interface UserRepository extends ReactiveCassandraRepository&lt;UserConfig, String&gt; {\n\n    @Query(&quot;SELECT * from user_table where user_name=?0&quot;)\n    Flux&lt;UserConfig&gt; findByUserName(String userName);\n\n    @Query(&quot;SELECT * from user_table where user_name=?0 and department_name=?1&quot;)\n    Flux&lt;UserConfig&gt; findByUserNameAndDepartmentName(String userName, String departmentName);\n}\n</code></pre>\n<p>The change mainly here is with respect to how the Repository interface methods are defined with @Query.</p>\n"}],"owner":{"account_id":18770885,"reputation":772,"user_id":13687718,"display_name":"mang4521"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75953064,"answer_count":1,"score":1,"last_activity_date":1680808971,"creation_date":1680650571,"question_id":75934568,"body_markdown":"I am using Spring-Reactive and Reactive-Cassandra [spring-boot-starter-data-cassandra-reactive] to access tables on Cassandra. I am able to access simple tables with a single column representing the Primary Key such as:\r\n\r\n```\r\nuser_name: partition_key\r\naddress: regular\r\n```\r\n\r\nBut when it comes to a more complicated table such as the following, I am unable to fetch any info from Cassandra:\r\n\r\n```\r\nuser_name: partition_key\r\ndepartment_name: clustering\r\naddress: regular\r\n```\r\n\r\nFollowing is how I have written my @Configuration and @Repository in Spring reactive:\r\n\r\nConfig:\r\n\r\n```\r\n@AllArgsConstructor\r\n@Table(value = &quot;user_table&quot;)\r\npublic class UserConfig {\r\n    @Getter\r\n    @PrimaryKey\r\n    private UserKey key;\r\n\r\n    @Column(&quot;address&quot;)\r\n    @Getter\r\n    private String address;\r\n}\r\n```\r\n\r\nPrimary Key Class:\r\n\r\n```\r\n@Getter\r\n@PrimaryKeyClass\r\n@AllArgsConstructor\r\npublic class UserKey {\r\n    @PrimaryKeyColumn(name = &quot;user_name&quot;, ordinal = 0, type = PrimaryKeyType.PARTITIONED)\r\n    private String userName;\r\n    @PrimaryKeyColumn(name = &quot;department_name&quot;, ordinal = 1, type = PrimaryKeyType.CLUSTERED)\r\n    private String departmentName;\r\n}\r\n```\r\n\r\nRepository:\r\n\r\n```\r\n@Repository\r\npublic interface UserRepository extends ReactiveCassandraRepository&lt;UserConfig, UserKey&gt; {\r\n    Mono&lt;UserConfig&gt; findByKeyUserNameAndKeyDepartmentName(String userName, String departmentName);\r\n}\r\n```\r\n\r\nMy Cassandra config class is as follows:\r\n\r\n```\r\n@Configuration\r\n@EnableReactiveCassandraRepositories\r\npublic class CassandraConfig extends AbstractReactiveCassandraConfiguration {\r\n    @Value(&quot;${spring.cassandra.contact-points}&quot;)\r\n    private String contactPoints;\r\n\r\n    @Value(&quot;${spring.cassandra.local-datacenter}&quot;)\r\n    private String localDatacenter;\r\n    \r\n    @Value(&quot;${spring.cassandra.port}&quot;)\r\n    private int port;\r\n    \r\n    @Value(&quot;${spring.cassandra.keyspace-name}&quot;)\r\n    private String keySpace;\r\n    \r\n    @Value(&quot;${spring.cassandra.username}&quot;)\r\n    private String username;\r\n    \r\n    @Value(&quot;${spring.cassandra.password}&quot;)\r\n    private String password;\r\n\r\n    @Value(&quot;${spring.cassandra.schema-action}&quot;)\r\n    private SchemaAction schemaAction;\r\n\r\n    @Override\r\n    protected String getContactPoints() {\r\n        return contactPoints;\r\n    }\r\n\r\n    @Override\r\n    protected int getPort() {\r\n        return port;\r\n    }\r\n\r\n    @Override\r\n    public SchemaAction getSchemaAction() {\r\n        return schemaAction;\r\n    }\r\n\r\n    @Override\r\n    protected String getKeyspaceName() {\r\n        return keySpace;\r\n    }\r\n\r\n    @Bean\r\n    @Override\r\n    public CqlSessionFactoryBean cassandraSession() {\r\n        CqlSessionFactoryBean cqlSessionFactoryBean = new CqlSessionFactoryBean();\r\n        cqlSessionFactoryBean.setUsername(username);\r\n        cqlSessionFactoryBean.setPassword(password);\r\n        cqlSessionFactoryBean.setKeyspaceName(keySpace);\r\n        cqlSessionFactoryBean.setLocalDatacenter(localDatacenter);\r\n        cqlSessionFactoryBean.setPort(port);\r\n        cqlSessionFactoryBean.setContactPoints(contactPoints);\r\n        return cqlSessionFactoryBean;\r\n    }\r\n}\r\n```\r\n\r\nAll the documentation I have followed does the exact same thing that I am doing above. What am I missing here? Kindly help.","title":"Unable to access a Cassandra table with a Composite key using Reactive Cassandra","body":"<p>I am using Spring-Reactive and Reactive-Cassandra [spring-boot-starter-data-cassandra-reactive] to access tables on Cassandra. I am able to access simple tables with a single column representing the Primary Key such as:</p>\n<pre><code>user_name: partition_key\naddress: regular\n</code></pre>\n<p>But when it comes to a more complicated table such as the following, I am unable to fetch any info from Cassandra:</p>\n<pre><code>user_name: partition_key\ndepartment_name: clustering\naddress: regular\n</code></pre>\n<p>Following is how I have written my @Configuration and @Repository in Spring reactive:</p>\n<p>Config:</p>\n<pre><code>@AllArgsConstructor\n@Table(value = &quot;user_table&quot;)\npublic class UserConfig {\n    @Getter\n    @PrimaryKey\n    private UserKey key;\n\n    @Column(&quot;address&quot;)\n    @Getter\n    private String address;\n}\n</code></pre>\n<p>Primary Key Class:</p>\n<pre><code>@Getter\n@PrimaryKeyClass\n@AllArgsConstructor\npublic class UserKey {\n    @PrimaryKeyColumn(name = &quot;user_name&quot;, ordinal = 0, type = PrimaryKeyType.PARTITIONED)\n    private String userName;\n    @PrimaryKeyColumn(name = &quot;department_name&quot;, ordinal = 1, type = PrimaryKeyType.CLUSTERED)\n    private String departmentName;\n}\n</code></pre>\n<p>Repository:</p>\n<pre><code>@Repository\npublic interface UserRepository extends ReactiveCassandraRepository&lt;UserConfig, UserKey&gt; {\n    Mono&lt;UserConfig&gt; findByKeyUserNameAndKeyDepartmentName(String userName, String departmentName);\n}\n</code></pre>\n<p>My Cassandra config class is as follows:</p>\n<pre><code>@Configuration\n@EnableReactiveCassandraRepositories\npublic class CassandraConfig extends AbstractReactiveCassandraConfiguration {\n    @Value(&quot;${spring.cassandra.contact-points}&quot;)\n    private String contactPoints;\n\n    @Value(&quot;${spring.cassandra.local-datacenter}&quot;)\n    private String localDatacenter;\n    \n    @Value(&quot;${spring.cassandra.port}&quot;)\n    private int port;\n    \n    @Value(&quot;${spring.cassandra.keyspace-name}&quot;)\n    private String keySpace;\n    \n    @Value(&quot;${spring.cassandra.username}&quot;)\n    private String username;\n    \n    @Value(&quot;${spring.cassandra.password}&quot;)\n    private String password;\n\n    @Value(&quot;${spring.cassandra.schema-action}&quot;)\n    private SchemaAction schemaAction;\n\n    @Override\n    protected String getContactPoints() {\n        return contactPoints;\n    }\n\n    @Override\n    protected int getPort() {\n        return port;\n    }\n\n    @Override\n    public SchemaAction getSchemaAction() {\n        return schemaAction;\n    }\n\n    @Override\n    protected String getKeyspaceName() {\n        return keySpace;\n    }\n\n    @Bean\n    @Override\n    public CqlSessionFactoryBean cassandraSession() {\n        CqlSessionFactoryBean cqlSessionFactoryBean = new CqlSessionFactoryBean();\n        cqlSessionFactoryBean.setUsername(username);\n        cqlSessionFactoryBean.setPassword(password);\n        cqlSessionFactoryBean.setKeyspaceName(keySpace);\n        cqlSessionFactoryBean.setLocalDatacenter(localDatacenter);\n        cqlSessionFactoryBean.setPort(port);\n        cqlSessionFactoryBean.setContactPoints(contactPoints);\n        return cqlSessionFactoryBean;\n    }\n}\n</code></pre>\n<p>All the documentation I have followed does the exact same thing that I am doing above. What am I missing here? Kindly help.</p>\n"},{"tags":["java","javafx","junit","event-listener"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1680809755,"post_id":75953051,"comment_id":133964697,"body_markdown":"Evaluate a JavaFX-specific test support framework, e.g. [TestFX](https://github.com/TestFX/TestFX), to see if you would like to use it to assist in testing your code.  You can create tests without something like TestFX, but then you will need to manage the [JavaFX Platform lifecycle](https://openjfx.io/javadoc/20/javafx.graphics/javafx/stage/Stage.html) for your tests yourself, which I don&#39;t necessarily recommend attempting.","body":"Evaluate a JavaFX-specific test support framework, e.g. <a href=\"https://github.com/TestFX/TestFX\" rel=\"nofollow noreferrer\">TestFX</a>, to see if you would like to use it to assist in testing your code.  You can create tests without something like TestFX, but then you will need to manage the <a href=\"https://openjfx.io/javadoc/20/javafx.graphics/javafx/stage/Stage.html\" rel=\"nofollow noreferrer\">JavaFX Platform lifecycle</a> for your tests yourself, which I don&#39;t necessarily recommend attempting."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1680809973,"post_id":75953051,"comment_id":133964729,"body_markdown":"The ControlsFX library provides [validation support](https://controlsfx.github.io/javadoc/11.1.0/org.controlsfx.controls/org/controlsfx/validation/package-summary.html) as [explained here](https://controlsfx.github.io/features/decorationvalidation/), it may be worth investigating it rather than creating a custom validation handler.  [MaterialFX](https://github.com/palexdev/MaterialFX) also has a [validator](https://github.com/palexdev/MaterialFX/tree/main/materialfx/src/main/java/io/github/palexdev/materialfx/validation).","body":"The ControlsFX library provides <a href=\"https://controlsfx.github.io/javadoc/11.1.0/org.controlsfx.controls/org/controlsfx/validation/package-summary.html\" rel=\"nofollow noreferrer\">validation support</a> as <a href=\"https://controlsfx.github.io/features/decorationvalidation/\" rel=\"nofollow noreferrer\">explained here</a>, it may be worth investigating it rather than creating a custom validation handler.  <a href=\"https://github.com/palexdev/MaterialFX\" rel=\"nofollow noreferrer\">MaterialFX</a> also has a <a href=\"https://github.com/palexdev/MaterialFX/tree/main/materialfx/src/main/java/io/github/palexdev/materialfx/validation\" rel=\"nofollow noreferrer\">validator</a>."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":2,"creation_date":1680810423,"post_id":75953051,"comment_id":133964821,"body_markdown":"Factor the logic out from the actual UI. You don&#39;t need to test whether `TextField.setText(...)` works (that is the responsibility of JavaFX); you only need to test if your logic that generates the result of the validation from the user input is correct. So I would create a `record ValidationResult(boolean valid, String message)` and a method `ValidationResult validateAdd(String text)`. That method can be tested without any UI controls. Your listener can simply invoke `validateAdd(newValue)` and update the UI with the result.","body":"Factor the logic out from the actual UI. You don&#39;t need to test whether <code>TextField.setText(...)</code> works (that is the responsibility of JavaFX); you only need to test if your logic that generates the result of the validation from the user input is correct. So I would create a <code>record ValidationResult(boolean valid, String message)</code> and a method <code>ValidationResult validateAdd(String text)</code>. That method can be tested without any UI controls. Your listener can simply invoke <code>validateAdd(newValue)</code> and update the UI with the result."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1680819311,"post_id":75953051,"comment_id":133966351,"body_markdown":"Both MaterialFX and ControlsFX open source library validators work pretty much as described by James_D, so you can review, reuse or copy their code if you wish.  Unfortunately, neither library provide unit test cases for the validators, otherwise, you could review or copy them as well.","body":"Both MaterialFX and ControlsFX open source library validators work pretty much as described by James_D, so you can review, reuse or copy their code if you wish.  Unfortunately, neither library provide unit test cases for the validators, otherwise, you could review or copy them as well."}],"owner":{"account_id":27043140,"reputation":1,"user_id":20597710,"display_name":"janaka20000000002"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":222,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680808889,"creation_date":1680808889,"question_id":75953051,"body_markdown":"I&#39;m creating a javafx application. There I have to take inputs from the user. Here I used the instance I take inputs for user name as an example. Here I have created a method that adds a listener to the text field that takes inputs for user name. The relevant method triggers when user click on the text filed.It shows messages about the validity of the input to the user in the nameLabelADD realtime when user inputs data. I want to create a test method to test this function. How can i do it?\r\n\r\n\r\n```\r\npublic class SceneController implements Initializable {\r\n    @FXML\r\n    TextField nameFieldADD;\r\n    @FXML\r\n    Label nameLabelADD;\r\n\r\n    //more javafx elements\r\n\r\n    @Override\r\n    public void initialize(URL url, ResourceBundle resourceBundle){\r\n         // \r\n    }\r\n\r\n    public void addNameValidation(){\r\n        nameFieldADD.textProperty().addListener((observable, oldValue, newValue) -&gt; {\r\n            if (!newValue.matches(&quot;\\\\D*&quot;)) { // Only allow non-digit characters\r\n                nameFieldADD.setText(oldValue);\r\n                nameLabelADD.setText(&quot;Only strings are allowed here&quot;);\r\n                return;\r\n            }\r\n            else if (newValue.trim().isEmpty()) {\r\n                nameLabelADD.setText(&quot;This field is mandatory&quot;);\r\n                nameLabelADD.setTextFill(Color.RED);\r\n            }\r\n            else if (newValue.trim().length() == 30) { // Maximum character limit\r\n                nameLabelADD.setText(&quot;You have reached maximum character limit&quot;);\r\n                nameLabelADD.setTextFill(Color.RED);\r\n            }\r\n            else if (newValue.trim().length() &gt; 30) {\r\n                nameFieldADD.setText(oldValue);\r\n            }\r\n            else {\r\n                boolean nameExists = false;\r\n                for(Driver object:Main.obj){\r\n                    if(Objects.equals(object.getName().toLowerCase(),newValue.trim().toLowerCase())){\r\n                        nameExists = true;\r\n                        break;\r\n                    }\r\n                }\r\n                if (nameExists) {\r\n                    nameLabelADD.setText(&quot;This name is already taken&quot;);\r\n                    nameLabelADD.setTextFill(Color.RED);\r\n                } else {\r\n                    nameLabelADD.setText(&quot;Valid&quot;);\r\n                    nameLabelADD.setTextFill(Color.GREEN);\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n```\r\n\r\n\r\nHere is the test method i created for it but it gives me an error saying java.lang.NullPointerException: Cannot invoke &quot;javafx.scene.control.TextField.setText(String)&quot; because &quot;this.controller.nameFieldADD&quot; is null\r\n```\r\npackage com.example.programming_cw;\r\n\r\nimport javafx.application.Application;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.Parent;\r\nimport javafx.scene.Scene;\r\nimport javafx.stage.Stage;\r\nimport org.junit.jupiter.api.Test;\r\n\r\nimport static org.junit.jupiter.api.Assertions.assertEquals;\r\n\r\npublic class SceneControllerTest extends Application {\r\n    private SceneController controller;\r\n\r\n    @Override\r\n    public void start(Stage stage) throws Exception {\r\n        // Load the FXML file and create the SceneController instance\r\n        FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;Scene.fxml&quot;));\r\n        Parent root = loader.load();\r\n        controller = loader.getController();\r\n\r\n        // Create and show the Scene\r\n        Scene scene = new Scene(root);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }\r\n\r\n    @Test\r\n    public void isNameValid(){\r\n        controller.nameFieldADD.setText(&quot;John&quot;);\r\n        controller.addNameValidation();\r\n        assertEquals(&quot;Valid&quot;, controller.nameLabelADD.getText());\r\n    }\r\n}\r\n\r\n```\r\n","title":"Creating a junit test for method an event listener in a JavaFX controler","body":"<p>I'm creating a javafx application. There I have to take inputs from the user. Here I used the instance I take inputs for user name as an example. Here I have created a method that adds a listener to the text field that takes inputs for user name. The relevant method triggers when user click on the text filed.It shows messages about the validity of the input to the user in the nameLabelADD realtime when user inputs data. I want to create a test method to test this function. How can i do it?</p>\n<pre><code>public class SceneController implements Initializable {\n    @FXML\n    TextField nameFieldADD;\n    @FXML\n    Label nameLabelADD;\n\n    //more javafx elements\n\n    @Override\n    public void initialize(URL url, ResourceBundle resourceBundle){\n         // \n    }\n\n    public void addNameValidation(){\n        nameFieldADD.textProperty().addListener((observable, oldValue, newValue) -&gt; {\n            if (!newValue.matches(&quot;\\\\D*&quot;)) { // Only allow non-digit characters\n                nameFieldADD.setText(oldValue);\n                nameLabelADD.setText(&quot;Only strings are allowed here&quot;);\n                return;\n            }\n            else if (newValue.trim().isEmpty()) {\n                nameLabelADD.setText(&quot;This field is mandatory&quot;);\n                nameLabelADD.setTextFill(Color.RED);\n            }\n            else if (newValue.trim().length() == 30) { // Maximum character limit\n                nameLabelADD.setText(&quot;You have reached maximum character limit&quot;);\n                nameLabelADD.setTextFill(Color.RED);\n            }\n            else if (newValue.trim().length() &gt; 30) {\n                nameFieldADD.setText(oldValue);\n            }\n            else {\n                boolean nameExists = false;\n                for(Driver object:Main.obj){\n                    if(Objects.equals(object.getName().toLowerCase(),newValue.trim().toLowerCase())){\n                        nameExists = true;\n                        break;\n                    }\n                }\n                if (nameExists) {\n                    nameLabelADD.setText(&quot;This name is already taken&quot;);\n                    nameLabelADD.setTextFill(Color.RED);\n                } else {\n                    nameLabelADD.setText(&quot;Valid&quot;);\n                    nameLabelADD.setTextFill(Color.GREEN);\n                }\n            }\n        });\n    }\n\n</code></pre>\n<p>Here is the test method i created for it but it gives me an error saying java.lang.NullPointerException: Cannot invoke &quot;javafx.scene.control.TextField.setText(String)&quot; because &quot;this.controller.nameFieldADD&quot; is null</p>\n<pre><code>package com.example.programming_cw;\n\nimport javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\nimport org.junit.jupiter.api.Test;\n\nimport static org.junit.jupiter.api.Assertions.assertEquals;\n\npublic class SceneControllerTest extends Application {\n    private SceneController controller;\n\n    @Override\n    public void start(Stage stage) throws Exception {\n        // Load the FXML file and create the SceneController instance\n        FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;Scene.fxml&quot;));\n        Parent root = loader.load();\n        controller = loader.getController();\n\n        // Create and show the Scene\n        Scene scene = new Scene(root);\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    @Test\n    public void isNameValid(){\n        controller.nameFieldADD.setText(&quot;John&quot;);\n        controller.addNameValidation();\n        assertEquals(&quot;Valid&quot;, controller.nameLabelADD.getText());\n    }\n}\n\n</code></pre>\n"},{"tags":["java","junit","mocking"],"comments":[{"owner":{"account_id":22194,"reputation":18092,"user_id":54506,"accept_rate":78,"display_name":"Jayan"},"score":0,"creation_date":1430113412,"post_id":29887984,"comment_id":47899751,"body_markdown":"Are you looking for in-memory file systems?  See discussion at http://stackoverflow.com/questions/12988135/any-available-in-memory-filesystem-implementations-for-java7-nio2","body":"Are you looking for in-memory file systems?  See discussion at <a href=\"http://stackoverflow.com/questions/12988135/any-available-in-memory-filesystem-implementations-for-java7-nio2\" title=\"any available in memory filesystem implementations for java7 nio2\">stackoverflow.com/questions/12988135/&hellip;</a>"},{"owner":{"account_id":22194,"reputation":18092,"user_id":54506,"accept_rate":78,"display_name":"Jayan"},"score":2,"creation_date":1430113651,"post_id":29887984,"comment_id":47899857,"body_markdown":"Jmockit can mock almost anything.. Did you try it? https://github.com/google/jimfs may work for you if you are with Java (7 or 8)","body":"Jmockit can mock almost anything.. Did you try it? <a href=\"https://github.com/google/jimfs\" rel=\"nofollow noreferrer\">github.com/google/jimfs</a> may work for you if you are with Java (7 or 8)"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1430113805,"post_id":29887984,"comment_id":47899915,"body_markdown":"@Jayan I have seen it. But no idea how to use it as a mock only in junit test. Not in production mode.","body":"@Jayan I have seen it. But no idea how to use it as a mock only in junit test. Not in production mode."},{"owner":{"account_id":22194,"reputation":18092,"user_id":54506,"accept_rate":78,"display_name":"Jayan"},"score":0,"creation_date":1430119939,"post_id":29887984,"comment_id":47902963,"body_markdown":"You can create a interface say  &quot;DirectoryCreator&quot; with two implementations.  The Unit test one will just ensure your API is called. Production version will create it.","body":"You can create a interface say  &quot;DirectoryCreator&quot; with two implementations.  The Unit test one will just ensure your API is called. Production version will create it."},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1460549137,"post_id":29887984,"comment_id":60792392,"body_markdown":"@Jayan No but i found a Workaround by using the Java tempfile","body":"@Jayan No but i found a Workaround by using the Java tempfile"}],"answers":[{"tags":[],"owner":{"account_id":1086954,"reputation":29057,"user_id":1082449,"accept_rate":71,"display_name":"davnicwil"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1430115144,"creation_date":1430115144,"answer_id":29888408,"question_id":29887984,"body_markdown":"First it&#39;s important to ask: what&#39;s the value of this test?\r\n\r\nIt may be that you&#39;ve simplified your example but all the `afterPropertiesSet()` method does is create a directory on disk, subject to some very simple pre-conditions. The creation of a directory on the file system is a side-effect and (at least in my opinion) code with side-effects is not a good fit for unit testing.\r\n\r\nWhy? Because whether the side-effect happens or not is completely outside the scope of your application&#39;s logic. Whether it actually happens or not depends on so many things beyond your code&#39;s control - the java File api at the top, all the way down to the physical disk actually making the write on the production machine.\r\n\r\nI&#39;ll put it another way - even if you do mock the file system, what do you gain? You gain the knowledge that a directory was written to the mock file system, and no more. What does that mean? Is it of any value? Does it give you any additional confidence about whether your system will behave as expected in production?\r\n\r\nAny code such as this which only produces a side-effect, with only very trivial (i.e. too-simple-to-test) business logic defining whether the side-effect should happen, shouldn&#39;t be unit-tested in the first place. There&#39;s no value in it.\r\n\r\nIf in your actual code there&#39;s complex business logic determining whether a side-effect happens, then my advice is to abstract away the code producing the side-effect into another class. Then, you can easily mock it in your existing class to test the &#39;pure&#39; business logic around it.\r\n\r\nPlease let me emphasise that I&#39;m not advocating that side-effects such as this shouldn&#39;t be tested at all. I&#39;m just saying that unit tests are the wrong method for testing them. Instead, go with automated (or manual!) integration tests on production hardware.\r\n\r\n\r\n\r\n","title":"Mock file/filesystem in unittest","body":"<p>First it's important to ask: what's the value of this test?</p>\n\n<p>It may be that you've simplified your example but all the <code>afterPropertiesSet()</code> method does is create a directory on disk, subject to some very simple pre-conditions. The creation of a directory on the file system is a side-effect and (at least in my opinion) code with side-effects is not a good fit for unit testing.</p>\n\n<p>Why? Because whether the side-effect happens or not is completely outside the scope of your application's logic. Whether it actually happens or not depends on so many things beyond your code's control - the java File api at the top, all the way down to the physical disk actually making the write on the production machine.</p>\n\n<p>I'll put it another way - even if you do mock the file system, what do you gain? You gain the knowledge that a directory was written to the mock file system, and no more. What does that mean? Is it of any value? Does it give you any additional confidence about whether your system will behave as expected in production?</p>\n\n<p>Any code such as this which only produces a side-effect, with only very trivial (i.e. too-simple-to-test) business logic defining whether the side-effect should happen, shouldn't be unit-tested in the first place. There's no value in it.</p>\n\n<p>If in your actual code there's complex business logic determining whether a side-effect happens, then my advice is to abstract away the code producing the side-effect into another class. Then, you can easily mock it in your existing class to test the 'pure' business logic around it.</p>\n\n<p>Please let me emphasise that I'm not advocating that side-effects such as this shouldn't be tested at all. I'm just saying that unit tests are the wrong method for testing them. Instead, go with automated (or manual!) integration tests on production hardware.</p>\n"}],"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3337,"favorite_count":0,"down_vote_count":8,"up_vote_count":3,"answer_count":1,"score":-5,"last_activity_date":1680808786,"creation_date":1430113197,"question_id":29887984,"body_markdown":"I have a class in which a directory is created if a property is set. Now every Time I run the test the directory is created in my FileSystem. Is there a way to mock the the file/filesystem?\r\n\r\nClass under test:\r\n\r\n    @Service(&quot;InitializeEnvironment&quot;)\r\n    public class EnvironmentChecker implements InitializingBean {\r\n    \r\n    \r\n    \t\r\n    \t@Value(value=&quot;${delivered_dir}&quot;)\r\n    \tprivate String delivered_dir;\r\n    \t\r\n    \t@Override\r\n    \tpublic void afterPropertiesSet() throws Exception {\r\n    \r\n    \t\t\r\n    \t\tif (!StringUtils.isEmpty(delivered_dir)){\r\n    \t\t\tFile dir = new File(delivered_dir);\r\n    \t\t\tif (!dir.exists()) {\r\n    \t\t\t\tdir.mkdirs();\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nUnitTest\r\n\r\n    public class EnvironmentCheckerTest {\r\n    \r\n    \t@Test\r\n    \tpublic void testMailHostNichtGesetzt() throws Exception{\r\n    \t\tEnvironmentChecker environmentChecker = new EnvironmentChecker();\r\n    \t\tsetValue(environmentChecker, &quot;delivered_dir&quot;, &quot;./&quot;);\r\n    \t\t\r\n    \t\tenvironmentChecker.afterPropertiesSet();\r\n    \r\n    \t}\r\n    \r\n    \tprivate void setValue(Object target, String fieldname, Object value){\r\n    \t\tField field = ReflectionUtils.findField(target.getClass(),fieldname);\r\n    \t\tReflectionUtils.makeAccessible(field);\r\n    \t\tReflectionUtils.setField(field, target, value);\t\t\r\n    \t\t\r\n    \t}\r\n\r\n","title":"Mock file/filesystem in unittest","body":"<p>I have a class in which a directory is created if a property is set. Now every Time I run the test the directory is created in my FileSystem. Is there a way to mock the the file/filesystem?</p>\n<p>Class under test:</p>\n<pre><code>@Service(&quot;InitializeEnvironment&quot;)\npublic class EnvironmentChecker implements InitializingBean {\n\n\n    \n    @Value(value=&quot;${delivered_dir}&quot;)\n    private String delivered_dir;\n    \n    @Override\n    public void afterPropertiesSet() throws Exception {\n\n        \n        if (!StringUtils.isEmpty(delivered_dir)){\n            File dir = new File(delivered_dir);\n            if (!dir.exists()) {\n                dir.mkdirs();\n            }\n        }\n    }\n}\n</code></pre>\n<p>UnitTest</p>\n<pre><code>public class EnvironmentCheckerTest {\n\n    @Test\n    public void testMailHostNichtGesetzt() throws Exception{\n        EnvironmentChecker environmentChecker = new EnvironmentChecker();\n        setValue(environmentChecker, &quot;delivered_dir&quot;, &quot;./&quot;);\n        \n        environmentChecker.afterPropertiesSet();\n\n    }\n\n    private void setValue(Object target, String fieldname, Object value){\n        Field field = ReflectionUtils.findField(target.getClass(),fieldname);\n        ReflectionUtils.makeAccessible(field);\n        ReflectionUtils.setField(field, target, value);     \n        \n    }\n</code></pre>\n"},{"tags":["java","spring","postgresql","spring-data-jpa","spring-data"],"answers":[{"tags":[],"owner":{"account_id":28218549,"reputation":29,"user_id":21569670,"display_name":"omprakash K"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680802933,"creation_date":1680801117,"answer_id":75952094,"question_id":75952014,"body_markdown":"i have update one line of code in your changeEmail method go and try, it will work\r\n \r\n    public void changeEmail(String email, String password, String newEmail) throws AuthenticationException {\r\n    try {\r\n        authenticationManager.authenticate(new UsernamePasswordAuthenticationToken(email, password));\r\n\r\n        var user = userRepository.findByEmail(email).orElseThrow(() -&gt; new ResponseStatusException(HttpStatus.NOT_FOUND));\r\n        \r\n \r\n        user.setEmail(newEmail);\r\n        \r\n        for (Address address : user.getAddresses()) {\r\n            address.setUser(null);\r\n        }\r\n        \r\n        userRepository.save(user);\r\n    } catch (BadCredentialsException e) {\r\n        throw new ResponseStatusException(HttpStatus.FORBIDDEN);\r\n    }\r\n}\r\n\r\nif you are deleting the user you can add the @OnDelete in your user entity\r\n\r\n    @OneToMany(mappedBy = &quot;user&quot;, orphanRemoval = true, fetch = FetchType.LAZY)\r\n    @JsonManagedReference(value = &quot;addresses&quot;)\r\n    @OnDelete(action = OnDeleteAction.CASCADE)\r\n    private Set&lt;Address&gt; addresses;\r\n\r\n","title":"ERROR: update or delete on table &quot;users&quot; violates foreign key constraint &quot;fkoixwfhgxuda232r3m5llu7few&quot; on table &quot;addresses&quot;","body":"<p>i have update one line of code in your changeEmail method go and try, it will work</p>\n<pre><code>public void changeEmail(String email, String password, String newEmail) throws AuthenticationException {\ntry {\n    authenticationManager.authenticate(new UsernamePasswordAuthenticationToken(email, password));\n\n    var user = userRepository.findByEmail(email).orElseThrow(() -&gt; new ResponseStatusException(HttpStatus.NOT_FOUND));\n    \n\n    user.setEmail(newEmail);\n    \n    for (Address address : user.getAddresses()) {\n        address.setUser(null);\n    }\n    \n    userRepository.save(user);\n} catch (BadCredentialsException e) {\n    throw new ResponseStatusException(HttpStatus.FORBIDDEN);\n}\n</code></pre>\n<p>}</p>\n<p>if you are deleting the user you can add the @OnDelete in your user entity</p>\n<pre><code>@OneToMany(mappedBy = &quot;user&quot;, orphanRemoval = true, fetch = FetchType.LAZY)\n@JsonManagedReference(value = &quot;addresses&quot;)\n@OnDelete(action = OnDeleteAction.CASCADE)\nprivate Set&lt;Address&gt; addresses;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680808756,"creation_date":1680808756,"answer_id":75953036,"question_id":75952014,"body_markdown":"The error says that the email from the table &#39;users&#39; is also used as a foreign key in the table &#39;addresses&#39;. This has been modeled in the entity Address with the annotation:\r\n\r\n    @JoinColumn(name = &quot;owner_email&quot;, referencedColumnName = &quot;email&quot;)\r\n\r\nThis has been done for reason. As a check of data integrity - if the user changes his/her email then the corresponding entry &#39;owner_email&#39; should be changed as well.\r\n\r\n**Solution** - update both fields in your service class before calling save. Like this:\r\n\r\n    user.setEmail(newEmail);\r\n    for (String address : user.getAddresses()) {\r\n        address.setOwnerEmail(newEmail);\r\n    }\r\n    userRepository.save(user);","title":"ERROR: update or delete on table &quot;users&quot; violates foreign key constraint &quot;fkoixwfhgxuda232r3m5llu7few&quot; on table &quot;addresses&quot;","body":"<p>The error says that the email from the table 'users' is also used as a foreign key in the table 'addresses'. This has been modeled in the entity Address with the annotation:</p>\n<pre><code>@JoinColumn(name = &quot;owner_email&quot;, referencedColumnName = &quot;email&quot;)\n</code></pre>\n<p>This has been done for reason. As a check of data integrity - if the user changes his/her email then the corresponding entry 'owner_email' should be changed as well.</p>\n<p><strong>Solution</strong> - update both fields in your service class before calling save. Like this:</p>\n<pre><code>user.setEmail(newEmail);\nfor (String address : user.getAddresses()) {\n    address.setOwnerEmail(newEmail);\n}\nuserRepository.save(user);\n</code></pre>\n"}],"owner":{"account_id":20774047,"reputation":40,"user_id":15256004,"display_name":"Frischmann"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":359,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75953036,"answer_count":2,"score":0,"last_activity_date":1680808756,"creation_date":1680800427,"question_id":75952014,"body_markdown":"I have two entities Users and Addresses with OneToMany mapping from Users.\r\n\r\n```java\r\n@Entity\r\n@Table(name = &quot;users&quot;)\r\npublic class User {\r\n    @Id\r\n    @GeneratedValue\r\n    private Long id;\r\n\r\n    @Email\r\n    @Column(unique = true)\r\n    private String email;\r\n\r\n    @OneToMany(mappedBy = &quot;user&quot;, orphanRemoval = true, fetch = FetchType.LAZY)\r\n    @JsonManagedReference(value = &quot;addresses&quot;)\r\n    private Set&lt;Address&gt; addresses;\r\n}\r\n```\r\n\r\n```java\r\n@Entity\r\n@Table(name = &quot;addresses&quot;)\r\npublic class Address {\r\n    @Id\r\n    @GeneratedValue\r\n    private Long id;\r\n\r\n    @NotBlank\r\n    @ColumnTransformer(\r\n            read = &quot;PGP_SYM_DECRYPT(title::bytea, current_setting(&#39;my.dbsecretkey&#39;))&quot;,\r\n            write = &quot;PGP_SYM_ENCRYPT (?, current_setting(&#39;my.dbsecretkey&#39;))&quot;\r\n    )\r\n    private String title;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;owner_email&quot;, referencedColumnName = &quot;email&quot;)\r\n    @JsonBackReference(value = &quot;addresses&quot;)\r\n    private User user;\r\n\r\n    @Column(name = &quot;owner_email&quot;, insertable=false, updatable=false)\r\n    private String owner_email;\r\n\r\n    @ElementCollection\r\n    private Set&lt;String&gt; sharedWithUsers;\r\n}\r\n```\r\n\r\nI want to update user&#39;s email like so\r\n```java\r\npublic void changeEmail(String email, String password, String newEmail) throws AuthenticationException {\r\n\ttry {\r\n\t\tauthenticationManager.authenticate(new UsernamePasswordAuthenticationToken(email, password));\r\n\r\n\t\tvar user = userRepository.findByEmail(email).orElseThrow(() -&gt; new ResponseStatusException(HttpStatus.NOT_FOUND));\r\n\t\t\r\n\t\tuser.setEmail(newEmail);\r\n\t\tuserRepository.save(user);\r\n\t} catch (BadCredentialsException e) {\r\n\t\tthrow new ResponseStatusException(HttpStatus.FORBIDDEN);\r\n\t}\r\n}\r\n```\r\n\r\nBut when I do it I get this error: `org.postgresql.util.PSQLException: ERROR: update or delete on table &quot;users&quot; violates foreign key constraint &quot;fkoixwfhgxuda232r3m5llu7few&quot; on table &quot;addresses&quot;\r\n  Detail: Key (email)=(first@mail.com) is still referenced from table &quot;addresses&quot;.`\r\n\r\nI&#39;ve already tried to add CascadeType.ALL to User&#39;s entity, but it does not helped.\r\nPlease help me.","title":"ERROR: update or delete on table &quot;users&quot; violates foreign key constraint &quot;fkoixwfhgxuda232r3m5llu7few&quot; on table &quot;addresses&quot;","body":"<p>I have two entities Users and Addresses with OneToMany mapping from Users.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;users&quot;)\npublic class User {\n    @Id\n    @GeneratedValue\n    private Long id;\n\n    @Email\n    @Column(unique = true)\n    private String email;\n\n    @OneToMany(mappedBy = &quot;user&quot;, orphanRemoval = true, fetch = FetchType.LAZY)\n    @JsonManagedReference(value = &quot;addresses&quot;)\n    private Set&lt;Address&gt; addresses;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;addresses&quot;)\npublic class Address {\n    @Id\n    @GeneratedValue\n    private Long id;\n\n    @NotBlank\n    @ColumnTransformer(\n            read = &quot;PGP_SYM_DECRYPT(title::bytea, current_setting('my.dbsecretkey'))&quot;,\n            write = &quot;PGP_SYM_ENCRYPT (?, current_setting('my.dbsecretkey'))&quot;\n    )\n    private String title;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;owner_email&quot;, referencedColumnName = &quot;email&quot;)\n    @JsonBackReference(value = &quot;addresses&quot;)\n    private User user;\n\n    @Column(name = &quot;owner_email&quot;, insertable=false, updatable=false)\n    private String owner_email;\n\n    @ElementCollection\n    private Set&lt;String&gt; sharedWithUsers;\n}\n</code></pre>\n<p>I want to update user's email like so</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void changeEmail(String email, String password, String newEmail) throws AuthenticationException {\n    try {\n        authenticationManager.authenticate(new UsernamePasswordAuthenticationToken(email, password));\n\n        var user = userRepository.findByEmail(email).orElseThrow(() -&gt; new ResponseStatusException(HttpStatus.NOT_FOUND));\n        \n        user.setEmail(newEmail);\n        userRepository.save(user);\n    } catch (BadCredentialsException e) {\n        throw new ResponseStatusException(HttpStatus.FORBIDDEN);\n    }\n}\n</code></pre>\n<p>But when I do it I get this error: <code>org.postgresql.util.PSQLException: ERROR: update or delete on table &quot;users&quot; violates foreign key constraint &quot;fkoixwfhgxuda232r3m5llu7few&quot; on table &quot;addresses&quot; Detail: Key (email)=(first@mail.com) is still referenced from table &quot;addresses&quot;.</code></p>\n<p>I've already tried to add CascadeType.ALL to User's entity, but it does not helped.\nPlease help me.</p>\n"},{"tags":["java","configuration","command","log4j","executable-jar"],"owner":{"account_id":21832130,"reputation":19,"user_id":16126951,"display_name":"pooja b"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680808653,"creation_date":1680808239,"question_id":75952969,"body_markdown":"I have a code that fetches data from a HTML file and inserts that data in a MSSQL table\r\n\r\nI have added log4j properties file and log4j jar\r\nalso added a config file which has html source and MSSQL password and sql URL\r\n\r\nI created a java jar file and tried running the file in command prompt\r\nwith commnand \r\njava -jar jarname.jar\r\n\r\nwhen i tried running the jar file without log4j properties and without using config file(mean directly added the passwords,URL and path in code)\r\nthe jar file run successfully given expected output\r\n\r\nbut when i tried using log4j properties file and config file\r\ngetting error in command prompt while running jar file\r\n\r\n \r\n\r\n     Exception in thread &quot;main&quot; java.lang.NullPointerException\r\n            at java.io.File.&lt;init&gt;(Unknown Source)\r\n        \r\n\r\nalso got log4j noclassdeffound exception\r\n\r\nnote :this a simple java program without maven or springboot","title":"Exception in thread &quot;main&quot; java.io.FileNotFoundException: ConfigReader.htmlSourceURL (The system cannot find the file specified)","body":"<p>I have a code that fetches data from a HTML file and inserts that data in a MSSQL table</p>\n<p>I have added log4j properties file and log4j jar\nalso added a config file which has html source and MSSQL password and sql URL</p>\n<p>I created a java jar file and tried running the file in command prompt\nwith commnand\njava -jar jarname.jar</p>\n<p>when i tried running the jar file without log4j properties and without using config file(mean directly added the passwords,URL and path in code)\nthe jar file run successfully given expected output</p>\n<p>but when i tried using log4j properties file and config file\ngetting error in command prompt while running jar file</p>\n<pre><code> Exception in thread &quot;main&quot; java.lang.NullPointerException\n        at java.io.File.&lt;init&gt;(Unknown Source)\n    \n</code></pre>\n<p>also got log4j noclassdeffound exception</p>\n<p>note :this a simple java program without maven or springboot</p>\n"},{"tags":["java","postgresql","jpa","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680808040,"creation_date":1680808040,"answer_id":75952945,"question_id":75952484,"body_markdown":"The problem is in the join column definition.\r\n\r\nCurrent:\r\n\r\n    @JoinColumn(name = &quot;USER_UUID&quot;, referencedColumnName = &quot;USER_UUID&quot;)\r\n\r\nShould be probably:\r\n\r\n    @JoinColumn(name = &quot;USER_ID&quot;, referencedColumnName = &quot;USER_ID&quot;)\r\n\r\nAlternatively you can create a column USER_UUID in the CONTACTS table.","title":"SqlExceptionHelper: ERROR: operator does not exist: uuid = integer","body":"<p>The problem is in the join column definition.</p>\n<p>Current:</p>\n<pre><code>@JoinColumn(name = &quot;USER_UUID&quot;, referencedColumnName = &quot;USER_UUID&quot;)\n</code></pre>\n<p>Should be probably:</p>\n<pre><code>@JoinColumn(name = &quot;USER_ID&quot;, referencedColumnName = &quot;USER_ID&quot;)\n</code></pre>\n<p>Alternatively you can create a column USER_UUID in the CONTACTS table.</p>\n"}],"owner":{"account_id":1153647,"reputation":463,"user_id":1134835,"accept_rate":40,"display_name":"Mohit224"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680808040,"creation_date":1680804253,"question_id":75952484,"body_markdown":"I have defined my two entities classes where an Account table can have multiple contacts. The JPA class looks like this: \r\n```\r\n@Entity\r\n@Table(name = &quot;ACCOUNT&quot;)\r\npublic class AccountEntity implements Serializable {\r\n\r\n\t/**\r\n\t * serialVersionUID\r\n\t */\r\n\tprivate static final long serialVersionUID = -8875162570848460130L;\r\n\r\n\t@Id\r\n\t@Column(name = &quot;USER_ID&quot;)\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tprivate Integer userId;\r\n\t\r\n\t@Type(type=&quot;org.hibernate.type.PostgresUUIDType&quot;)\r\n\t@Column(name = &quot;USER_UUID&quot;)\r\n\tprivate UUID userUuid;\r\n\r\n\t@Column(name = &quot;USER_NAME&quot;)\r\n\tprivate String userName;\r\n\r\n\t@Column(name = &quot;FIRST_NAME&quot;)\r\n\tprivate String firstName;\r\n\r\n\t@Column(name = &quot;MIDDLE_NAME&quot;)\r\n\tprivate String middleName;\r\n\r\n\t@Column(name = &quot;LAST_NAME&quot;)\r\n\tprivate String lastName;\r\n\r\n\t@Column(name = &quot;DOB&quot;)\r\n\tprivate Date dateOfBirth;\r\n\r\n\t@OneToMany(cascade = CascadeType.ALL, fetch = FetchType.LAZY, mappedBy = &quot;userAccountEntity&quot;)\r\n\tprivate List&lt;ContactsEntity&gt; userContactList;\r\n\r\n}\r\n```\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;CONTACTS&quot;)\r\n@Inheritance(strategy = InheritanceType.SINGLE_TABLE)\r\n@DiscriminatorColumn(name = &quot;contact_entity_type&quot;)\r\npublic class BaseContactsEntity implements Serializable {\r\n\r\n\tprivate static final long serialVersionUID = 1L;\r\n\r\n\t@Id\r\n\t@Column(name = &quot;CONTACTS_ID&quot;)\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tprivate Integer userContactId;\r\n\r\n\t@Column(name = &quot;PHONE_TYPE&quot;)\r\n\tprivate String phoneType;\r\n\r\n\t@Column(name = &quot;PHONE_NUMBER&quot;)\r\n\tprivate String phoneNumber;\r\n\r\n\t@Column(name = &quot;USER_ID&quot;)\r\n\tprivate Integer userId;\r\n\r\n\t@ManyToOne(fetch = FetchType.LAZY)\r\n\t@JoinColumn(name = &quot;USER_UUID&quot;, referencedColumnName = &quot;USER_UUID&quot;)\r\n\tprivate UserAccountEntity userAccountEntity;\r\n}\r\n\r\n@Entity\r\n@Table(name = &quot;CONTACTS&quot;)\r\npublic class ContactsEntity extends BaseContactsEntity implements Serializable {\r\n\r\n\tprivate static final long serialVersionUID = 2553316166097098867L;\r\n\r\n}\r\n```\r\nThe AccountEntity is for the Account table which can have more than one contacts. I created BaseContactsEntity and ContactsEntity classes where ContactsEntity can later add additional columns based on the client needs and BaseContactsEntity will always have the predefined capabilities. When I try to retrieve the Account Entity record using &quot;findUserByUserName&quot; JPA query it tries to fetch both Account and related Contacts object. This query fails and gives the following error: \r\n```\r\nSqlExceptionHelper: ERROR: operator does not exist: uuid = integer\r\n  Hint: No operator matches the given name and argument types. You might need to add explicit type casts.\r\n```\r\n\r\nWhen I remove the BaseContactsEntity and remove the inherit annotations the query works fine and it fetches the required results but after adding the BaseContactsEntity I started seeing this error. Any leads to resolve this issue would be very helpful. \r\n","title":"SqlExceptionHelper: ERROR: operator does not exist: uuid = integer","body":"<p>I have defined my two entities classes where an Account table can have multiple contacts. The JPA class looks like this:</p>\n<pre><code>@Entity\n@Table(name = &quot;ACCOUNT&quot;)\npublic class AccountEntity implements Serializable {\n\n    /**\n     * serialVersionUID\n     */\n    private static final long serialVersionUID = -8875162570848460130L;\n\n    @Id\n    @Column(name = &quot;USER_ID&quot;)\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer userId;\n    \n    @Type(type=&quot;org.hibernate.type.PostgresUUIDType&quot;)\n    @Column(name = &quot;USER_UUID&quot;)\n    private UUID userUuid;\n\n    @Column(name = &quot;USER_NAME&quot;)\n    private String userName;\n\n    @Column(name = &quot;FIRST_NAME&quot;)\n    private String firstName;\n\n    @Column(name = &quot;MIDDLE_NAME&quot;)\n    private String middleName;\n\n    @Column(name = &quot;LAST_NAME&quot;)\n    private String lastName;\n\n    @Column(name = &quot;DOB&quot;)\n    private Date dateOfBirth;\n\n    @OneToMany(cascade = CascadeType.ALL, fetch = FetchType.LAZY, mappedBy = &quot;userAccountEntity&quot;)\n    private List&lt;ContactsEntity&gt; userContactList;\n\n}\n</code></pre>\n<pre><code>@Entity\n@Table(name = &quot;CONTACTS&quot;)\n@Inheritance(strategy = InheritanceType.SINGLE_TABLE)\n@DiscriminatorColumn(name = &quot;contact_entity_type&quot;)\npublic class BaseContactsEntity implements Serializable {\n\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @Column(name = &quot;CONTACTS_ID&quot;)\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer userContactId;\n\n    @Column(name = &quot;PHONE_TYPE&quot;)\n    private String phoneType;\n\n    @Column(name = &quot;PHONE_NUMBER&quot;)\n    private String phoneNumber;\n\n    @Column(name = &quot;USER_ID&quot;)\n    private Integer userId;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;USER_UUID&quot;, referencedColumnName = &quot;USER_UUID&quot;)\n    private UserAccountEntity userAccountEntity;\n}\n\n@Entity\n@Table(name = &quot;CONTACTS&quot;)\npublic class ContactsEntity extends BaseContactsEntity implements Serializable {\n\n    private static final long serialVersionUID = 2553316166097098867L;\n\n}\n</code></pre>\n<p>The AccountEntity is for the Account table which can have more than one contacts. I created BaseContactsEntity and ContactsEntity classes where ContactsEntity can later add additional columns based on the client needs and BaseContactsEntity will always have the predefined capabilities. When I try to retrieve the Account Entity record using &quot;findUserByUserName&quot; JPA query it tries to fetch both Account and related Contacts object. This query fails and gives the following error:</p>\n<pre><code>SqlExceptionHelper: ERROR: operator does not exist: uuid = integer\n  Hint: No operator matches the given name and argument types. You might need to add explicit type casts.\n</code></pre>\n<p>When I remove the BaseContactsEntity and remove the inherit annotations the query works fine and it fetches the required results but after adding the BaseContactsEntity I started seeing this error. Any leads to resolve this issue would be very helpful.</p>\n"},{"tags":["java","android","play-billing-library"],"comments":[{"owner":{"account_id":216950,"reputation":20103,"user_id":472495,"accept_rate":92,"display_name":"halfer"},"score":0,"creation_date":1680804382,"post_id":75952415,"comment_id":133963552,"body_markdown":"By way of an edit to this question, could you explain why you &quot;can&#39;t&quot; do this? What specific problem are you having?","body":"By way of an edit to this question, could you explain why you &quot;can&#39;t&quot; do this? What specific problem are you having?"},{"owner":{"account_id":26431069,"reputation":11,"user_id":21582584,"display_name":"Дмитрий Сахно"},"score":0,"creation_date":1680805525,"post_id":75952415,"comment_id":133963793,"body_markdown":"I changed the description added a screenshot of the error","body":"I changed the description added a screenshot of the error"},{"owner":{"account_id":216950,"reputation":20103,"user_id":472495,"accept_rate":92,"display_name":"halfer"},"score":0,"creation_date":1680808171,"post_id":75952415,"comment_id":133964340,"body_markdown":"The added image doesn&#39;t contain an error exactly, but it might give readers some more clues as to the problem you are having. The variables and methods in red colour seem to have an issue. If you hover your mouse/cursor over those things in your editor, it may give you the error you are seeking. The `of` method perhaps is not a method on the `ImmutableList` object, and the two variables below do not seem to be in scope.","body":"The added image doesn&#39;t contain an error exactly, but it might give readers some more clues as to the problem you are having. The variables and methods in red colour seem to have an issue. If you hover your mouse/cursor over those things in your editor, it may give you the error you are seeking. The <code>of</code> method perhaps is not a method on the <code>ImmutableList</code> object, and the two variables below do not seem to be in scope."},{"owner":{"account_id":216950,"reputation":20103,"user_id":472495,"accept_rate":92,"display_name":"halfer"},"score":0,"creation_date":1680808280,"post_id":75952415,"comment_id":133964359,"body_markdown":"Where did you get this code from? It&#39;s fine not to fully understand Java code, but I fear that if you copy-pasted it from the internet, you will unavoidably still have to learn some basic concepts.","body":"Where did you get this code from? It&#39;s fine not to fully understand Java code, but I fear that if you copy-pasted it from the internet, you will unavoidably still have to learn some basic concepts."},{"owner":{"account_id":26431069,"reputation":11,"user_id":21582584,"display_name":"Дмитрий Сахно"},"score":0,"creation_date":1680810677,"post_id":75952415,"comment_id":133964873,"body_markdown":"thanks for the help .Put together pieces of code","body":"thanks for the help .Put together pieces of code"},{"owner":{"account_id":26431069,"reputation":11,"user_id":21582584,"display_name":"Дмитрий Сахно"},"score":0,"creation_date":1680810819,"post_id":75952415,"comment_id":133964905,"body_markdown":"Such an error  (Cannot resolve method &#39;of&#39; in &#39;ImmutableList&#39;) how to fix?","body":"Such an error  (Cannot resolve method &#39;of&#39; in &#39;ImmutableList&#39;) how to fix?"},{"owner":{"account_id":216950,"reputation":20103,"user_id":472495,"accept_rate":92,"display_name":"halfer"},"score":0,"creation_date":1680816232,"post_id":75952415,"comment_id":133965912,"body_markdown":"The short answer is that you need to use a different method on that object to accomplish what you want to achieve. What you do expect `.of()` to do?","body":"The short answer is that you need to use a different method on that object to accomplish what you want to achieve. What you do expect <code>.of()</code> to do?"},{"owner":{"account_id":26431069,"reputation":11,"user_id":21582584,"display_name":"Дмитрий Сахно"},"score":0,"creation_date":1680835572,"post_id":75952415,"comment_id":133968003,"body_markdown":"I want to start the process of making a purchase for a specific PRODUCT_ID (1 or 2)","body":"I want to start the process of making a purchase for a specific PRODUCT_ID (1 or 2)"}],"owner":{"account_id":26431069,"reputation":11,"user_id":21582584,"display_name":"Дмитрий Сахно"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":288,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1680858109,"answer_count":0,"score":1,"last_activity_date":1680808005,"creation_date":1680803674,"question_id":75952415,"body_markdown":"I&#39;m upgrading from version 3 to version 5. I don&#39;t understand how to request a purchase.\r\n\r\nThe request was made like this:\r\n\r\n    public void  one(View view){\r\n    Vibro = (Vibrator)this.getSystemService(VIBRATOR_SERVICE);\r\n    Vibro.vibrate(50);\r\n    \r\n            BillingFlowParams flowParams = BillingFlowParams.newBuilder()\r\n                    .setSkuDetails(mSkuDetailsMap.get(PRODUCT_ID1))\r\n                    .build();\r\n            billingClient.launchBillingFlow(MainActivity2.this, flowParams);\r\n\r\nNow I have updated my code to 5:\r\n\r\n    public class MainActivity2 extends AppCompatActivity implements PurchasesUpdatedListener {\r\n    \r\n        // Покупка\r\n        \r\n        private final Map&lt;QueryProductDetailsParams.Product, ArrayList&lt;QueryProductDetailsParams.Product&gt;&gt; mSkuDetailsMap = new HashMap&lt;&gt;();\r\n        ProgressBar progressBar;\r\n        \r\n        public static final String PRODUCT_ID1 = &quot;purchase111&quot;;\r\n        public static final String PRODUCT_ID2 = &quot;purchase222&quot;;\r\n        \r\n        \r\n        private BillingClient billingClient;\r\n        ConnectionDetector cd;\r\n        private Vibrator Vibro;\r\n        \r\n        @Override\r\n        protected void onDestroy() {\r\n            super.onDestroy();\r\n        \r\n            { if (billingClient!=null)\r\n        \r\n            { billingClient.endConnection();\r\n                Toast.makeText(MainActivity2.this, (&quot;Служба отключена&quot;), Toast.LENGTH_SHORT).show();}}\r\n        \r\n        }\r\n        \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main2);\r\n        \r\n            cd = new ConnectionDetector(this);\r\n        \r\n            TextView button1 = findViewById(R.id.button);\r\n            TextView button2 = findViewById(R.id.button2);\r\n        \r\n            if (cd.isConnected()) {\r\n        \r\n                progressBar = findViewById(R.id.progressBar);\r\n                progressBar.setVisibility(View.VISIBLE);\r\n                TextView textView2 = findViewById(R.id.textView2);\r\n                textView2.setVisibility(View.VISIBLE);\r\n        \r\n        \r\n                button1.setClickable(false);\r\n                button2.setClickable(false);\r\n        \r\n        \r\n                purchase(null);\r\n            }\r\n        \r\n            else\r\n            { Toast.makeText(MainActivity2.this, (R.string.internet_not_activity), Toast.LENGTH_SHORT).show();\r\n        \r\n                button1.setClickable(false);\r\n                button2.setClickable(false);\r\n        \r\n        \r\n        \r\n                new CountDownTimer(3000, 1) {\r\n        \r\n                    public void onTick(long l)\r\n                    {}\r\n        \r\n                    public void onFinish()\r\n                    {finish();}\r\n                }.start();\r\n            }\r\n        \r\n        }\r\n        \r\n        \r\n        \r\n        public void purchase(View view) {\r\n        \r\n            // Устанавливаем соединение с клиентом биллинга\r\n            // проверяем статус покупки из кеша Google Play Store\r\n            // чтобы проверить, был ли товар уже приобретен ранее или возвращен\r\n        \r\n            billingClient = BillingClient.newBuilder(this).enablePendingPurchases().setListener(this).build();\r\n            billingClient.startConnection(new BillingClientStateListener() {\r\n                @Override\r\n                public void onBillingSetupFinished(@NonNull BillingResult billingResult) {\r\n                    QueryPurchasesParams queryPurchasesParams = QueryPurchasesParams.newBuilder().setProductType(BillingClient.ProductType.INAPP).build();\r\n                    billingClient.queryPurchasesAsync(queryPurchasesParams, (billingResult1, list) -&gt; runOnUiThread(() -&gt; {\r\n                                if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.OK) {\r\n        \r\n                                    if (list.size() &gt; 0) {\r\n                                        initiatePurchase();\r\n                                        Toast.makeText(MainActivity2.this, (&quot;Служба включена&quot;), Toast.LENGTH_SHORT).show();\r\n                                    }}\r\n        \r\n                                else\r\n                                { Toast.makeText(getApplicationContext(), &quot;\\n&quot; + &quot;Ошибка &quot; + billingResult.getDebugMessage(), Toast.LENGTH_SHORT).show();}\r\n        \r\n                            }\r\n                    ));\r\n                }\r\n        \r\n        \r\n                @Override\r\n                public void onBillingServiceDisconnected() { }\r\n            });\r\n        }\r\n        \r\n        \r\n        \r\n        private void initiatePurchase() {\r\n        \r\n            List&lt;String&gt; skuList = Arrays.asList(PRODUCT_ID1, PRODUCT_ID2);\r\n        \r\n            ArrayList&lt;QueryProductDetailsParams.Product&gt; productList = new ArrayList&lt;&gt;();\r\n            for(String sku : skuList) {\r\n                productList.add(\r\n                        QueryProductDetailsParams.Product.newBuilder()\r\n                                .setProductId(sku)\r\n                                .setProductType(BillingClient.ProductType.INAPP)\r\n                                .build()\r\n                );\r\n            }\r\n        \r\n            QueryProductDetailsParams params = QueryProductDetailsParams.newBuilder()\r\n                    .setProductList(productList)\r\n                    .build();\r\n        \r\n            billingClient.queryProductDetailsAsync(params, (billingResult, productDetailsList) -&gt; {\r\n        \r\n        \r\n                QueryPurchasesParams queryPurchasesParams = QueryPurchasesParams.newBuilder().setProductType(BillingClient.ProductType.INAPP).build();\r\n                billingClient.queryPurchasesAsync(queryPurchasesParams, (billingResult1, list) -&gt; runOnUiThread(() -&gt; {\r\n        \r\n                    if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.OK)\r\n                    {\r\n        \r\n                        for (QueryProductDetailsParams.Product skuDetails : productList) {\r\n                            mSkuDetailsMap.put(skuDetails,productList);\r\n                        }\r\n        \r\n                        progressBar.setVisibility(View.GONE);\r\n                        TextView textView2 = findViewById(R.id.textView2);\r\n                        textView2.setVisibility(View.GONE);\r\n        \r\n                        TextView button1 = findViewById(R.id.button);\r\n                        TextView button2 = findViewById(R.id.button2);\r\n                        button1.setClickable(true);\r\n                        button2.setClickable(true);\r\n        \r\n                        vibro();\r\n        \r\n        \r\n                        if (productList.size() &lt;= 0)\r\n        \r\n                        {\r\n                            // пытаемся добавить элемент / идентификатор продукта &quot;покупка&quot; внутри управляемого продукта в консоли Google Play\r\n                            Toast.makeText(getApplicationContext(),&quot;\\n&quot; + &quot;Товар не найден&quot;,Toast.LENGTH_SHORT).show();\r\n                        }}\r\n        \r\n                    else\r\n                    { Toast.makeText(getApplicationContext(), &quot; \\n&quot; + &quot;Ошибка &quot;+billingResult.getDebugMessage(), Toast.LENGTH_SHORT).show(); }\r\n        \r\n                }));\r\n            });\r\n        }\r\n        \r\n        @Override\r\n        public void onPurchasesUpdated(BillingResult billingResult, @Nullable List&lt;Purchase&gt; purchases) {\r\n            // если товар только что куплен\r\n            if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.OK &amp;&amp; purchases != null)\r\n            {\r\n                handlePurchases(purchases);\r\n        \r\n            }\r\n        \r\n        \r\n            // если покупка отменена\r\n            else if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.USER_CANCELED)\r\n            {\r\n                Toast.makeText(getApplicationContext(),&quot;Покупка отменена&quot;,Toast.LENGTH_SHORT).show();\r\n            }\r\n        \r\n        }\r\n        \r\n        \r\n        void handlePurchases(List&lt;Purchase&gt;  purchases) {\r\n            for(Purchase purchase:purchases) {\r\n                //если товар куплен\r\n        \r\n                //////////////////////////////////////////////////////////////////////////////////////////////////////\r\n        \r\n                if (PRODUCT_ID1.equals(purchase.getProducts().get(0)) &amp;&amp; purchase.getPurchaseState() == Purchase.PurchaseState.PURCHASED)\r\n        \r\n                {\r\n        \r\n                    // если товар куплен и не подтвержден\r\n        \r\n                    if (!purchase.isAcknowledged()) {\r\n                        AcknowledgePurchaseParams acknowledgePurchaseParams =\r\n                                AcknowledgePurchaseParams.newBuilder()\r\n                                        .setPurchaseToken(purchase.getPurchaseToken())\r\n                                        .build();\r\n                        billingClient.acknowledgePurchase(acknowledgePurchaseParams, ackPurchase);\r\n                    }\r\n        \r\n                    // иначе товар куплен и также подтвержден\r\n                    // Предоставление пользователю права на покупку товара\r\n        \r\n        \r\n                    payComplete1(null);\r\n        \r\n        \r\n                }\r\n        \r\n                //////////////////////////////////////////////////////////////////////////////////////////////////////\r\n        \r\n                if (PRODUCT_ID2.equals(purchase.getProducts().get(0)) &amp;&amp; purchase.getPurchaseState() == Purchase.PurchaseState.PURCHASED)\r\n        \r\n                {\r\n        \r\n                    // если товар куплен и не подтвержден\r\n        \r\n                    if (!purchase.isAcknowledged()) {\r\n                        AcknowledgePurchaseParams acknowledgePurchaseParams =\r\n                                AcknowledgePurchaseParams.newBuilder()\r\n                                        .setPurchaseToken(purchase.getPurchaseToken())\r\n                                        .build();\r\n                        billingClient.acknowledgePurchase(acknowledgePurchaseParams, ackPurchase);\r\n                    }\r\n        \r\n                    // иначе товар куплен и также подтвержден\r\n                    // Предоставление пользователю права на покупку товара\r\n        \r\n        \r\n                    payComplete2(null);\r\n        \r\n        \r\n                }\r\n        \r\n            }\r\n        \r\n        }\r\n        \r\n        AcknowledgePurchaseResponseListener ackPurchase = billingResult -&gt; {};\r\n        \r\n        \r\n        public void  one(View view){\r\n            Vibro = (Vibrator)this.getSystemService(VIBRATOR_SERVICE);\r\n            Vibro.vibrate(50);\r\n        \r\n        \r\n            BillingFlowParams flowParams = BillingFlowParams.newBuilder()\r\n                    .setSkuDetails(mSkuDetailsMap.get(PRODUCT_ID1))\r\n                    .build();\r\n            billingClient.launchBillingFlow(MainActivity2.this, flowParams);\r\n        \r\n        }\r\n        \r\n        public void  two(View view){\r\n            Vibro = (Vibrator)this.getSystemService(VIBRATOR_SERVICE);\r\n            Vibro.vibrate(50);\r\n        \r\n            BillingFlowParams flowParams = BillingFlowParams.newBuilder()\r\n                    .setSkuDetails(mSkuDetailsMap.get(PRODUCT_ID2))\r\n                    .build();\r\n            billingClient.launchBillingFlow(MainActivity2.this, flowParams);\r\n        \r\n        }\r\n        \r\n        public void payComplete1(View view)\r\n        {    Toast.makeText(getApplicationContext(), &quot;\\n&quot; + &quot; payComplete1 - Товар куплен 1&quot;, Toast.LENGTH_SHORT).show();}\r\n        \r\n        public void payComplete2(View view)\r\n        {    Toast.makeText(getApplicationContext(), &quot;\\n&quot; + &quot; payComplete2 - Товар куплен 2&quot;, Toast.LENGTH_SHORT).show();}\r\n        \r\n        \r\n        public void vibro(){\r\n            Vibro = (Vibrator)this.getSystemService(VIBRATOR_SERVICE);\r\n            Vibro.vibrate(50);\r\n        }\r\n    \r\n    }\r\n\r\nI can&#39;t request purchases. How to embed?\r\n\r\n    // An activity reference from which the billing flow will be launched.\r\n    Activity activity = &quot;&quot;;\r\n    \r\n    ImmutableList productDetailsParamsList =\r\n    ImmutableList.of(\r\n    ProductDetailsParams.newBuilder()\r\n    // retrieve a value for &quot;productDetails&quot; by calling queryProductDetailsAsync()\r\n    .setProductDetails(productDetails)\r\n    // to get an offer token, call ProductDetails.getSubscriptionOfferDetails()\r\n    // for a list of offers that are available to the user\r\n    .setOfferToken(selectedOfferToken)\r\n    .build()\r\n    );\r\n    \r\n    BillingFlowParams billingFlowParams = BillingFlowParams.newBuilder()\r\n    .setProductDetailsParamsList(productDetailsParamsList)\r\n    .build();\r\n    \r\n    // Launch the billing flow\r\n    BillingResult billingResult = billingClient.launchBillingFlow(activity, billingFlowParams);\r\n\r\nI don&#39;t understand how to do it right. I have this error:\r\n\r\n![enter image description here][1]\r\n\r\n[1]: https://i.stack.imgur.com/nPxDu.png","title":"How to request a purchase Android billing: 5.1.0","body":"<p>I'm upgrading from version 3 to version 5. I don't understand how to request a purchase.</p>\n<p>The request was made like this:</p>\n<pre><code>public void  one(View view){\nVibro = (Vibrator)this.getSystemService(VIBRATOR_SERVICE);\nVibro.vibrate(50);\n\n        BillingFlowParams flowParams = BillingFlowParams.newBuilder()\n                .setSkuDetails(mSkuDetailsMap.get(PRODUCT_ID1))\n                .build();\n        billingClient.launchBillingFlow(MainActivity2.this, flowParams);\n</code></pre>\n<p>Now I have updated my code to 5:</p>\n<pre><code>public class MainActivity2 extends AppCompatActivity implements PurchasesUpdatedListener {\n\n    // Покупка\n    \n    private final Map&lt;QueryProductDetailsParams.Product, ArrayList&lt;QueryProductDetailsParams.Product&gt;&gt; mSkuDetailsMap = new HashMap&lt;&gt;();\n    ProgressBar progressBar;\n    \n    public static final String PRODUCT_ID1 = &quot;purchase111&quot;;\n    public static final String PRODUCT_ID2 = &quot;purchase222&quot;;\n    \n    \n    private BillingClient billingClient;\n    ConnectionDetector cd;\n    private Vibrator Vibro;\n    \n    @Override\n    protected void onDestroy() {\n        super.onDestroy();\n    \n        { if (billingClient!=null)\n    \n        { billingClient.endConnection();\n            Toast.makeText(MainActivity2.this, (&quot;Служба отключена&quot;), Toast.LENGTH_SHORT).show();}}\n    \n    }\n    \n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main2);\n    \n        cd = new ConnectionDetector(this);\n    \n        TextView button1 = findViewById(R.id.button);\n        TextView button2 = findViewById(R.id.button2);\n    \n        if (cd.isConnected()) {\n    \n            progressBar = findViewById(R.id.progressBar);\n            progressBar.setVisibility(View.VISIBLE);\n            TextView textView2 = findViewById(R.id.textView2);\n            textView2.setVisibility(View.VISIBLE);\n    \n    \n            button1.setClickable(false);\n            button2.setClickable(false);\n    \n    \n            purchase(null);\n        }\n    \n        else\n        { Toast.makeText(MainActivity2.this, (R.string.internet_not_activity), Toast.LENGTH_SHORT).show();\n    \n            button1.setClickable(false);\n            button2.setClickable(false);\n    \n    \n    \n            new CountDownTimer(3000, 1) {\n    \n                public void onTick(long l)\n                {}\n    \n                public void onFinish()\n                {finish();}\n            }.start();\n        }\n    \n    }\n    \n    \n    \n    public void purchase(View view) {\n    \n        // Устанавливаем соединение с клиентом биллинга\n        // проверяем статус покупки из кеша Google Play Store\n        // чтобы проверить, был ли товар уже приобретен ранее или возвращен\n    \n        billingClient = BillingClient.newBuilder(this).enablePendingPurchases().setListener(this).build();\n        billingClient.startConnection(new BillingClientStateListener() {\n            @Override\n            public void onBillingSetupFinished(@NonNull BillingResult billingResult) {\n                QueryPurchasesParams queryPurchasesParams = QueryPurchasesParams.newBuilder().setProductType(BillingClient.ProductType.INAPP).build();\n                billingClient.queryPurchasesAsync(queryPurchasesParams, (billingResult1, list) -&gt; runOnUiThread(() -&gt; {\n                            if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.OK) {\n    \n                                if (list.size() &gt; 0) {\n                                    initiatePurchase();\n                                    Toast.makeText(MainActivity2.this, (&quot;Служба включена&quot;), Toast.LENGTH_SHORT).show();\n                                }}\n    \n                            else\n                            { Toast.makeText(getApplicationContext(), &quot;\\n&quot; + &quot;Ошибка &quot; + billingResult.getDebugMessage(), Toast.LENGTH_SHORT).show();}\n    \n                        }\n                ));\n            }\n    \n    \n            @Override\n            public void onBillingServiceDisconnected() { }\n        });\n    }\n    \n    \n    \n    private void initiatePurchase() {\n    \n        List&lt;String&gt; skuList = Arrays.asList(PRODUCT_ID1, PRODUCT_ID2);\n    \n        ArrayList&lt;QueryProductDetailsParams.Product&gt; productList = new ArrayList&lt;&gt;();\n        for(String sku : skuList) {\n            productList.add(\n                    QueryProductDetailsParams.Product.newBuilder()\n                            .setProductId(sku)\n                            .setProductType(BillingClient.ProductType.INAPP)\n                            .build()\n            );\n        }\n    \n        QueryProductDetailsParams params = QueryProductDetailsParams.newBuilder()\n                .setProductList(productList)\n                .build();\n    \n        billingClient.queryProductDetailsAsync(params, (billingResult, productDetailsList) -&gt; {\n    \n    \n            QueryPurchasesParams queryPurchasesParams = QueryPurchasesParams.newBuilder().setProductType(BillingClient.ProductType.INAPP).build();\n            billingClient.queryPurchasesAsync(queryPurchasesParams, (billingResult1, list) -&gt; runOnUiThread(() -&gt; {\n    \n                if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.OK)\n                {\n    \n                    for (QueryProductDetailsParams.Product skuDetails : productList) {\n                        mSkuDetailsMap.put(skuDetails,productList);\n                    }\n    \n                    progressBar.setVisibility(View.GONE);\n                    TextView textView2 = findViewById(R.id.textView2);\n                    textView2.setVisibility(View.GONE);\n    \n                    TextView button1 = findViewById(R.id.button);\n                    TextView button2 = findViewById(R.id.button2);\n                    button1.setClickable(true);\n                    button2.setClickable(true);\n    \n                    vibro();\n    \n    \n                    if (productList.size() &lt;= 0)\n    \n                    {\n                        // пытаемся добавить элемент / идентификатор продукта &quot;покупка&quot; внутри управляемого продукта в консоли Google Play\n                        Toast.makeText(getApplicationContext(),&quot;\\n&quot; + &quot;Товар не найден&quot;,Toast.LENGTH_SHORT).show();\n                    }}\n    \n                else\n                { Toast.makeText(getApplicationContext(), &quot; \\n&quot; + &quot;Ошибка &quot;+billingResult.getDebugMessage(), Toast.LENGTH_SHORT).show(); }\n    \n            }));\n        });\n    }\n    \n    @Override\n    public void onPurchasesUpdated(BillingResult billingResult, @Nullable List&lt;Purchase&gt; purchases) {\n        // если товар только что куплен\n        if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.OK &amp;&amp; purchases != null)\n        {\n            handlePurchases(purchases);\n    \n        }\n    \n    \n        // если покупка отменена\n        else if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.USER_CANCELED)\n        {\n            Toast.makeText(getApplicationContext(),&quot;Покупка отменена&quot;,Toast.LENGTH_SHORT).show();\n        }\n    \n    }\n    \n    \n    void handlePurchases(List&lt;Purchase&gt;  purchases) {\n        for(Purchase purchase:purchases) {\n            //если товар куплен\n    \n            //////////////////////////////////////////////////////////////////////////////////////////////////////\n    \n            if (PRODUCT_ID1.equals(purchase.getProducts().get(0)) &amp;&amp; purchase.getPurchaseState() == Purchase.PurchaseState.PURCHASED)\n    \n            {\n    \n                // если товар куплен и не подтвержден\n    \n                if (!purchase.isAcknowledged()) {\n                    AcknowledgePurchaseParams acknowledgePurchaseParams =\n                            AcknowledgePurchaseParams.newBuilder()\n                                    .setPurchaseToken(purchase.getPurchaseToken())\n                                    .build();\n                    billingClient.acknowledgePurchase(acknowledgePurchaseParams, ackPurchase);\n                }\n    \n                // иначе товар куплен и также подтвержден\n                // Предоставление пользователю права на покупку товара\n    \n    \n                payComplete1(null);\n    \n    \n            }\n    \n            //////////////////////////////////////////////////////////////////////////////////////////////////////\n    \n            if (PRODUCT_ID2.equals(purchase.getProducts().get(0)) &amp;&amp; purchase.getPurchaseState() == Purchase.PurchaseState.PURCHASED)\n    \n            {\n    \n                // если товар куплен и не подтвержден\n    \n                if (!purchase.isAcknowledged()) {\n                    AcknowledgePurchaseParams acknowledgePurchaseParams =\n                            AcknowledgePurchaseParams.newBuilder()\n                                    .setPurchaseToken(purchase.getPurchaseToken())\n                                    .build();\n                    billingClient.acknowledgePurchase(acknowledgePurchaseParams, ackPurchase);\n                }\n    \n                // иначе товар куплен и также подтвержден\n                // Предоставление пользователю права на покупку товара\n    \n    \n                payComplete2(null);\n    \n    \n            }\n    \n        }\n    \n    }\n    \n    AcknowledgePurchaseResponseListener ackPurchase = billingResult -&gt; {};\n    \n    \n    public void  one(View view){\n        Vibro = (Vibrator)this.getSystemService(VIBRATOR_SERVICE);\n        Vibro.vibrate(50);\n    \n    \n        BillingFlowParams flowParams = BillingFlowParams.newBuilder()\n                .setSkuDetails(mSkuDetailsMap.get(PRODUCT_ID1))\n                .build();\n        billingClient.launchBillingFlow(MainActivity2.this, flowParams);\n    \n    }\n    \n    public void  two(View view){\n        Vibro = (Vibrator)this.getSystemService(VIBRATOR_SERVICE);\n        Vibro.vibrate(50);\n    \n        BillingFlowParams flowParams = BillingFlowParams.newBuilder()\n                .setSkuDetails(mSkuDetailsMap.get(PRODUCT_ID2))\n                .build();\n        billingClient.launchBillingFlow(MainActivity2.this, flowParams);\n    \n    }\n    \n    public void payComplete1(View view)\n    {    Toast.makeText(getApplicationContext(), &quot;\\n&quot; + &quot; payComplete1 - Товар куплен 1&quot;, Toast.LENGTH_SHORT).show();}\n    \n    public void payComplete2(View view)\n    {    Toast.makeText(getApplicationContext(), &quot;\\n&quot; + &quot; payComplete2 - Товар куплен 2&quot;, Toast.LENGTH_SHORT).show();}\n    \n    \n    public void vibro(){\n        Vibro = (Vibrator)this.getSystemService(VIBRATOR_SERVICE);\n        Vibro.vibrate(50);\n    }\n\n}\n</code></pre>\n<p>I can't request purchases. How to embed?</p>\n<pre><code>// An activity reference from which the billing flow will be launched.\nActivity activity = &quot;&quot;;\n\nImmutableList productDetailsParamsList =\nImmutableList.of(\nProductDetailsParams.newBuilder()\n// retrieve a value for &quot;productDetails&quot; by calling queryProductDetailsAsync()\n.setProductDetails(productDetails)\n// to get an offer token, call ProductDetails.getSubscriptionOfferDetails()\n// for a list of offers that are available to the user\n.setOfferToken(selectedOfferToken)\n.build()\n);\n\nBillingFlowParams billingFlowParams = BillingFlowParams.newBuilder()\n.setProductDetailsParamsList(productDetailsParamsList)\n.build();\n\n// Launch the billing flow\nBillingResult billingResult = billingClient.launchBillingFlow(activity, billingFlowParams);\n</code></pre>\n<p>I don't understand how to do it right. I have this error:</p>\n<p><img src=\"https://i.stack.imgur.com/nPxDu.png\" alt=\"enter image description here\" /></p>\n"},{"tags":["java","swing","paintcomponent","mousehover"],"comments":[{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":1,"creation_date":1680268221,"post_id":75898892,"comment_id":133873931,"body_markdown":"Have you considered to use a tooltip? You can display an image there. Set the time to display to 0 or something that suits you.","body":"Have you considered to use a tooltip? You can display an image there. Set the time to display to 0 or something that suits you."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1680268278,"post_id":75898892,"comment_id":133873942,"body_markdown":"basically, _never-ever_ do any painting outside the normal painting cycle, instead set a field to the current image and call repaint. Then in paintComponent, _do_ paint that image","body":"basically, <i>never-ever</i> do any painting outside the normal painting cycle, instead set a field to the current image and call repaint. Then in paintComponent, <i>do</i> paint that image"},{"owner":{"account_id":28089076,"reputation":3,"user_id":21458975,"display_name":"Kauan Santana"},"score":0,"creation_date":1680268560,"post_id":75898892,"comment_id":133874019,"body_markdown":"@JustanotherJavaprogrammer the ToolTip would be like when hovering the mouse button over the button it would give me a hint of what that button would do, wouldn&#39;t it?\n\nbecause what I&#39;m looking for would be, like in games, that when hovering the mouse over a certain button it would show an image referring to the way the user hovered over it","body":"@JustanotherJavaprogrammer the ToolTip would be like when hovering the mouse button over the button it would give me a hint of what that button would do, wouldn&#39;t it?  because what I&#39;m looking for would be, like in games, that when hovering the mouse over a certain button it would show an image referring to the way the user hovered over it"},{"owner":{"account_id":28089076,"reputation":3,"user_id":21458975,"display_name":"Kauan Santana"},"score":0,"creation_date":1680268572,"post_id":75898892,"comment_id":133874021,"body_markdown":"@JustanotherJavaprogrammer  But your tip, it was very useful to me, I already know where to apply the tooltip thanks","body":"@JustanotherJavaprogrammer  But your tip, it was very useful to me, I already know where to apply the tooltip thanks"},{"owner":{"account_id":28089076,"reputation":3,"user_id":21458975,"display_name":"Kauan Santana"},"score":0,"creation_date":1680268968,"post_id":75898892,"comment_id":133874120,"body_markdown":"@kleopatra From what I understood from the tip you gave me, should I: create a new field to fill in my panel, and make the drawings in it, and not directly on my panel?","body":"@kleopatra From what I understood from the tip you gave me, should I: create a new field to fill in my panel, and make the drawings in it, and not directly on my panel?"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1680270747,"post_id":75898892,"comment_id":133874593,"body_markdown":"no, not a &quot;field&quot; as in child of in your panel, but a &quot;field&quot; as an instance var in that panel :) Then use the value of that field in paintComponent","body":"no, not a &quot;field&quot; as in child of in your panel, but a &quot;field&quot; as an instance var in that panel :) Then use the value of that field in paintComponent"}],"answers":[{"tags":[],"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680276056,"creation_date":1680276056,"answer_id":75900186,"question_id":75898892,"body_markdown":"Since your code was not a complete runnable example, I went ahead and created the following GUI.\r\n\r\n[![Example][1]][1]\r\n\r\nHere&#39;s the same GUI when you hover over the simulation button.\r\n\r\n[![Example][2]][2]\r\n\r\nOracle has a helpful tutorial, [Creating a GUI With Swing](https://docs.oracle.com/javase/tutorial/uiswing/index.html).  Skip the Learning Swing with the NetBeans IDE section.  \r\n\r\nI read the images I wanted to use before I constructed the GUI.  That way, I only read the images one time.\r\n\r\nHere&#39;s the complete runnable code.  I made the additional classes inner classes so I could post the code as one block.\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Dimension;\r\n    import java.awt.Graphics;\r\n    import java.awt.GridLayout;\r\n    import java.awt.Image;\r\n    import java.awt.event.MouseAdapter;\r\n    import java.awt.event.MouseEvent;\r\n    import java.io.IOException;\r\n    import java.net.URL;\r\n    \r\n    import javax.imageio.ImageIO;\r\n    import javax.swing.BorderFactory;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.SwingUtilities;\r\n    \r\n    public class HoverEffects implements Runnable {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSwingUtilities.invokeLater(new HoverEffects());\r\n    \t}\r\n    \r\n    \tprivate final DrawingPanel drawingPanel;\r\n    \r\n    \tprivate final LoadImages loadImages;\r\n    \r\n    \tpublic HoverEffects() {\r\n    \t\tthis.loadImages = new LoadImages();\r\n    \t\tthis.drawingPanel = new DrawingPanel(loadImages.getWallpaper());\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void run() {\r\n    \t\tJFrame frame = new JFrame(&quot;Hover Effects&quot;);\r\n    \t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \r\n    \t\tframe.add(createButtonPanel(), BorderLayout.WEST);\r\n    \t\tframe.add(drawingPanel, BorderLayout.CENTER);\r\n    \r\n    \t\tframe.pack();\r\n    \t\tframe.setLocationByPlatform(true);\r\n    \t\tframe.setVisible(true);\r\n    \t}\r\n    \r\n    \tprivate JPanel createButtonPanel() {\r\n    \t\tJPanel outerPanel = new JPanel();\r\n    \r\n    \t\tJPanel panel = new JPanel(new GridLayout(0, 1, 5, 5));\r\n    \t\tpanel.setBorder(BorderFactory.createEmptyBorder(5, 5, 5, 5));\r\n    \r\n    \t\tJButton matchButton = new JButton(&quot;Match&quot;);\r\n    \t\tmatchButton.addMouseListener(\r\n    \t\t\t\tnew HoverListener(this, loadImages, matchButton));\r\n    \t\tpanel.add(matchButton);\r\n    \r\n    \t\tJButton simulatorButton = new JButton(&quot;Simulation&quot;);\r\n    \t\tsimulatorButton.addMouseListener(\r\n    \t\t\t\tnew HoverListener(this, loadImages, simulatorButton));\r\n    \t\tpanel.add(simulatorButton);\r\n    \r\n    \t\touterPanel.add(panel);\r\n    \r\n    \t\treturn outerPanel;\r\n    \t}\r\n    \r\n    \tpublic void setImage(Image image) {\r\n    \t\tdrawingPanel.setImage(image);\r\n    \t\tdrawingPanel.repaint();\r\n    \t}\r\n    \r\n    \tpublic class DrawingPanel extends JPanel {\r\n    \r\n    \t\tprivate static final long serialVersionUID = 1L;\r\n    \r\n    \t\tprivate Image image;\r\n    \r\n    \t\tpublic DrawingPanel(Image image) {\r\n    \t\t\tsetImage(image);\r\n    \t\t\tthis.setPreferredSize(new Dimension(800, 600));\r\n    \t\t}\r\n    \r\n    \t\tpublic void setImage(Image image) {\r\n    \t\t\tthis.image = image;\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tprotected void paintComponent(Graphics g) {\r\n    \t\t\tsuper.paintComponent(g);\r\n    \t\t\tg.drawImage(image, 0, 0, this);\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    \tpublic class HoverListener extends MouseAdapter {\r\n    \r\n    \t\tprivate final HoverEffects view;\r\n    \r\n    \t\tprivate final LoadImages model;\r\n    \r\n    \t\tprivate final JButton button;\r\n    \r\n    \t\tpublic HoverListener(HoverEffects view, LoadImages model,\r\n    \t\t\t\tJButton button) {\r\n    \t\t\tthis.view = view;\r\n    \t\t\tthis.model = model;\r\n    \t\t\tthis.button = button;\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic void mouseEntered(MouseEvent event) {\r\n    \t\t\tString text = button.getText();\r\n    \t\t\tif (text.equals(&quot;Match&quot;)) {\r\n    \t\t\t\tview.setImage(model.getNature1());\r\n    \t\t\t} else {\r\n    \t\t\t\tview.setImage(model.getNature2());\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic void mouseExited(MouseEvent event) {\r\n    \t\t\tview.setImage(model.getWallpaper());\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    \tpublic class LoadImages {\r\n    \r\n    \t\tprivate Image nature1, nature2, wallpaper;\r\n    \r\n    \t\tpublic LoadImages() {\r\n    \t\t\ttry {\r\n    \t\t\t\tURL url = new URL(\r\n    \t\t\t\t\t\t&quot;http://www.thewowstyle.com/wp-content/uploads/&quot;\r\n    \t\t\t\t\t\t\t\t+ &quot;2015/01/nature-wallpaper-27.jpg&quot;);\r\n    \t\t\t\tImage image = ImageIO.read(url);\r\n    \t\t\t\twallpaper = image.getScaledInstance(800, 600,\r\n    \t\t\t\t\t\tImage.SCALE_SMOOTH);\r\n    \t\t\t\turl = new URL(&quot;http://www.thewowstyle.com/wp-content/uploads/&quot;\r\n    \t\t\t\t\t\t+ &quot;2015/01/nature-images..jpg&quot;);\r\n    \t\t\t\timage = ImageIO.read(url);\r\n    \t\t\t\tnature1 = image.getScaledInstance(800, 600, Image.SCALE_SMOOTH);\r\n    \t\t\t\turl = new URL(&quot;http://www.thewowstyle.com/wp-content/uploads/&quot;\r\n    \t\t\t\t\t\t+ &quot;2015/01/nature-images.jpg&quot;);\r\n    \t\t\t\timage = ImageIO.read(url);\r\n    \t\t\t\tnature2 = image.getScaledInstance(800, 600, Image.SCALE_SMOOTH);\r\n    \t\t\t} catch (IOException e) {\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\tpublic Image getNature1() {\r\n    \t\t\treturn nature1;\r\n    \t\t}\r\n    \r\n    \t\tpublic Image getNature2() {\r\n    \t\t\treturn nature2;\r\n    \t\t}\r\n    \r\n    \t\tpublic Image getWallpaper() {\r\n    \t\t\treturn wallpaper;\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XFKiQ.jpg\r\n  [2]: https://i.stack.imgur.com/NadRS.jpg","title":"Hover Effects with Java Swing","body":"<p>Since your code was not a complete runnable example, I went ahead and created the following GUI.</p>\n<p><a href=\"https://i.stack.imgur.com/XFKiQ.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XFKiQ.jpg\" alt=\"Example\" /></a></p>\n<p>Here's the same GUI when you hover over the simulation button.</p>\n<p><a href=\"https://i.stack.imgur.com/NadRS.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NadRS.jpg\" alt=\"Example\" /></a></p>\n<p>Oracle has a helpful tutorial, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a>.  Skip the Learning Swing with the NetBeans IDE section.</p>\n<p>I read the images I wanted to use before I constructed the GUI.  That way, I only read the images one time.</p>\n<p>Here's the complete runnable code.  I made the additional classes inner classes so I could post the code as one block.</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Dimension;\nimport java.awt.Graphics;\nimport java.awt.GridLayout;\nimport java.awt.Image;\nimport java.awt.event.MouseAdapter;\nimport java.awt.event.MouseEvent;\nimport java.io.IOException;\nimport java.net.URL;\n\nimport javax.imageio.ImageIO;\nimport javax.swing.BorderFactory;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.SwingUtilities;\n\npublic class HoverEffects implements Runnable {\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(new HoverEffects());\n    }\n\n    private final DrawingPanel drawingPanel;\n\n    private final LoadImages loadImages;\n\n    public HoverEffects() {\n        this.loadImages = new LoadImages();\n        this.drawingPanel = new DrawingPanel(loadImages.getWallpaper());\n    }\n\n    @Override\n    public void run() {\n        JFrame frame = new JFrame(&quot;Hover Effects&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n        frame.add(createButtonPanel(), BorderLayout.WEST);\n        frame.add(drawingPanel, BorderLayout.CENTER);\n\n        frame.pack();\n        frame.setLocationByPlatform(true);\n        frame.setVisible(true);\n    }\n\n    private JPanel createButtonPanel() {\n        JPanel outerPanel = new JPanel();\n\n        JPanel panel = new JPanel(new GridLayout(0, 1, 5, 5));\n        panel.setBorder(BorderFactory.createEmptyBorder(5, 5, 5, 5));\n\n        JButton matchButton = new JButton(&quot;Match&quot;);\n        matchButton.addMouseListener(\n                new HoverListener(this, loadImages, matchButton));\n        panel.add(matchButton);\n\n        JButton simulatorButton = new JButton(&quot;Simulation&quot;);\n        simulatorButton.addMouseListener(\n                new HoverListener(this, loadImages, simulatorButton));\n        panel.add(simulatorButton);\n\n        outerPanel.add(panel);\n\n        return outerPanel;\n    }\n\n    public void setImage(Image image) {\n        drawingPanel.setImage(image);\n        drawingPanel.repaint();\n    }\n\n    public class DrawingPanel extends JPanel {\n\n        private static final long serialVersionUID = 1L;\n\n        private Image image;\n\n        public DrawingPanel(Image image) {\n            setImage(image);\n            this.setPreferredSize(new Dimension(800, 600));\n        }\n\n        public void setImage(Image image) {\n            this.image = image;\n        }\n\n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            g.drawImage(image, 0, 0, this);\n        }\n\n    }\n\n    public class HoverListener extends MouseAdapter {\n\n        private final HoverEffects view;\n\n        private final LoadImages model;\n\n        private final JButton button;\n\n        public HoverListener(HoverEffects view, LoadImages model,\n                JButton button) {\n            this.view = view;\n            this.model = model;\n            this.button = button;\n        }\n\n        @Override\n        public void mouseEntered(MouseEvent event) {\n            String text = button.getText();\n            if (text.equals(&quot;Match&quot;)) {\n                view.setImage(model.getNature1());\n            } else {\n                view.setImage(model.getNature2());\n            }\n        }\n\n        @Override\n        public void mouseExited(MouseEvent event) {\n            view.setImage(model.getWallpaper());\n        }\n\n    }\n\n    public class LoadImages {\n\n        private Image nature1, nature2, wallpaper;\n\n        public LoadImages() {\n            try {\n                URL url = new URL(\n                        &quot;http://www.thewowstyle.com/wp-content/uploads/&quot;\n                                + &quot;2015/01/nature-wallpaper-27.jpg&quot;);\n                Image image = ImageIO.read(url);\n                wallpaper = image.getScaledInstance(800, 600,\n                        Image.SCALE_SMOOTH);\n                url = new URL(&quot;http://www.thewowstyle.com/wp-content/uploads/&quot;\n                        + &quot;2015/01/nature-images..jpg&quot;);\n                image = ImageIO.read(url);\n                nature1 = image.getScaledInstance(800, 600, Image.SCALE_SMOOTH);\n                url = new URL(&quot;http://www.thewowstyle.com/wp-content/uploads/&quot;\n                        + &quot;2015/01/nature-images.jpg&quot;);\n                image = ImageIO.read(url);\n                nature2 = image.getScaledInstance(800, 600, Image.SCALE_SMOOTH);\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }\n\n        public Image getNature1() {\n            return nature1;\n        }\n\n        public Image getNature2() {\n            return nature2;\n        }\n\n        public Image getWallpaper() {\n            return wallpaper;\n        }\n\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28089076,"reputation":3,"user_id":21458975,"display_name":"Kauan Santana"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680807674,"creation_date":1680807674,"answer_id":75952895,"question_id":75898892,"body_markdown":"I don&#39;t know, if I solved it the best way but it worked, I&#39;m going to try to study more about Java Swing and its components.\r\n\r\nCode:\r\n\r\n    public class ImgPanelStart extends JPanel{\r\n\r\n    private Image backgroundImage;\r\n    private BufferedImage imgBg;\r\n    private LoadImages images;\r\n\r\n    public ImgPanelStart() {\r\n\r\n        images = new LoadImages();\r\n        backgroundImage = images.getWallpaper();\r\n        \r\n    }\r\n\r\n    @Override\r\n    public void paintComponent(Graphics g) {\r\n        super.paintComponent(g);\r\n\r\n        if (backgroundImage != null) {\r\n            Dimension dim = this.getSize();\r\n            int dWidth = (int) dim.getWidth();\r\n            int dHeight = (int) dim.getHeight();\r\n\r\n            imgBg = new BufferedImage(dWidth, dHeight, BufferedImage.TYPE_INT_RGB);\r\n            Graphics2D g2 = imgBg.createGraphics();\r\n\r\n            g2.drawImage(backgroundImage, 0, 0, dWidth, dHeight, null);\r\n            g2.dispose();\r\n\r\n            g.drawImage(imgBg, 0, 0, null);\r\n        }\r\n    }\r\n    \r\n\r\n    private void setImgBackground(int imageIndex) {\r\n        switch (imageIndex) {\r\n            case 1:\r\n                backgroundImage = images.getMatchImg();\r\n                break;\r\n            case 2:\r\n                backgroundImage = images.getSimuImg();\r\n                break;\r\n            case 3:\r\n                backgroundImage = images.getWallpaper();\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n        repaint();\r\n    }\r\n\r\n    public class HoverEffects extends MouseAdapter {\r\n\r\n        private final JButton button;\r\n\r\n        public HoverEffects(JButton button) {\r\n            this.button = button;\r\n        }\r\n\r\n        @Override\r\n        public void mouseEntered(MouseEvent event) {\r\n            String text = button.getText();\r\n            if (text.equals(&quot;Match&quot;)) {\r\n                setImgBackground(1);\r\n            } else {\r\n                setImgBackground(2);\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public void mouseExited(MouseEvent event) {\r\n            setImgBackground(3);\r\n        }\r\n\r\n    }\r\n\r\n\r\n    public class LoadImages {\r\n\r\n        private Image matchImg, simuImg, wallpaper;\r\n\r\n        public LoadImages() {\r\n            try {\r\n        \r\n                Image image = ImageIO.read(new File(&quot;./ApsProject/src/assets/img0.jpg&quot;));\r\n                wallpaper = image.getScaledInstance(850, 600, Image.SCALE_SMOOTH);\r\n                image = ImageIO.read(new File(&quot;./ApsProject/src/assets/SimuScreenRightPanel.png&quot;));\r\n                matchImg = image.getScaledInstance(850, 600, Image.SCALE_SMOOTH);\r\n                image = ImageIO.read(new File(&quot;./ApsProject/src/assets/MatchScreenRightPanel.png&quot;));\r\n                simuImg = image.getScaledInstance(850, 600, Image.SCALE_SMOOTH);\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n\r\n        public Image getMatchImg() {\r\n            return matchImg;\r\n        }\r\n\r\n        public Image getSimuImg() {\r\n            return simuImg;\r\n        }\r\n\r\n        public Image getWallpaper() {\r\n            return wallpaper;\r\n        }\r\n\r\n    }\r\n\r\n}\r\n","title":"Hover Effects with Java Swing","body":"<p>I don't know, if I solved it the best way but it worked, I'm going to try to study more about Java Swing and its components.</p>\n<p>Code:</p>\n<pre><code>public class ImgPanelStart extends JPanel{\n\nprivate Image backgroundImage;\nprivate BufferedImage imgBg;\nprivate LoadImages images;\n\npublic ImgPanelStart() {\n\n    images = new LoadImages();\n    backgroundImage = images.getWallpaper();\n    \n}\n\n@Override\npublic void paintComponent(Graphics g) {\n    super.paintComponent(g);\n\n    if (backgroundImage != null) {\n        Dimension dim = this.getSize();\n        int dWidth = (int) dim.getWidth();\n        int dHeight = (int) dim.getHeight();\n\n        imgBg = new BufferedImage(dWidth, dHeight, BufferedImage.TYPE_INT_RGB);\n        Graphics2D g2 = imgBg.createGraphics();\n\n        g2.drawImage(backgroundImage, 0, 0, dWidth, dHeight, null);\n        g2.dispose();\n\n        g.drawImage(imgBg, 0, 0, null);\n    }\n}\n\n\nprivate void setImgBackground(int imageIndex) {\n    switch (imageIndex) {\n        case 1:\n            backgroundImage = images.getMatchImg();\n            break;\n        case 2:\n            backgroundImage = images.getSimuImg();\n            break;\n        case 3:\n            backgroundImage = images.getWallpaper();\n            break;\n        default:\n            break;\n    }\n    repaint();\n}\n\npublic class HoverEffects extends MouseAdapter {\n\n    private final JButton button;\n\n    public HoverEffects(JButton button) {\n        this.button = button;\n    }\n\n    @Override\n    public void mouseEntered(MouseEvent event) {\n        String text = button.getText();\n        if (text.equals(&quot;Match&quot;)) {\n            setImgBackground(1);\n        } else {\n            setImgBackground(2);\n        }\n    }\n\n    @Override\n    public void mouseExited(MouseEvent event) {\n        setImgBackground(3);\n    }\n\n}\n\n\npublic class LoadImages {\n\n    private Image matchImg, simuImg, wallpaper;\n\n    public LoadImages() {\n        try {\n    \n            Image image = ImageIO.read(new File(&quot;./ApsProject/src/assets/img0.jpg&quot;));\n            wallpaper = image.getScaledInstance(850, 600, Image.SCALE_SMOOTH);\n            image = ImageIO.read(new File(&quot;./ApsProject/src/assets/SimuScreenRightPanel.png&quot;));\n            matchImg = image.getScaledInstance(850, 600, Image.SCALE_SMOOTH);\n            image = ImageIO.read(new File(&quot;./ApsProject/src/assets/MatchScreenRightPanel.png&quot;));\n            simuImg = image.getScaledInstance(850, 600, Image.SCALE_SMOOTH);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n\n    public Image getMatchImg() {\n        return matchImg;\n    }\n\n    public Image getSimuImg() {\n        return simuImg;\n    }\n\n    public Image getWallpaper() {\n        return wallpaper;\n    }\n\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":28089076,"reputation":3,"user_id":21458975,"display_name":"Kauan Santana"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":344,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75900186,"answer_count":2,"score":-1,"last_activity_date":1680807674,"creation_date":1680267887,"question_id":75898892,"body_markdown":"In my main window I have two panels. They are `leftPanel` and `rightPanel`. In the `leftPanel` I have two buttons: `matchButton` and `simulatorButton`. In my `rightPanel` I have an image drawn on it. I tried to add a hover effect to both buttons. When hovering the mouse over the `matchButton` the image contained in the `rightPanel` would change to a new image. When removing the mouse from the `matchButton` the image on the `rightPanel` would revert to the default image. It would be the same with `simulatorButton`. For that I created a separate class and added the following code:\r\n```java\r\npublic class ImgPanelStart extends JPanel {\r\n    private Image backgroundImage;\r\n    private BufferedImage imgBg;\r\n\r\n    public ImgPanelStart() {\r\n        try {\r\n            backgroundImage = ImageIO.read(new File(&quot;./apsProject/assets/img0.jpg&quot;));\r\n        } catch (IOException ex) {\r\n            System.out.println(&quot;Falha ao carregar imagem de fundo&quot;);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void paintComponent(Graphics g) {\r\n        super.paintComponent(g);\r\n        if (backgroundImage != null) {\r\n            g.drawImage(imgBg, 0, 0, null);\r\n        }\r\n        Dimension dim = this.getSize();\r\n        int dWidth = (int) dim.getWidth();\r\n        int dHeight = (int) dim.getHeight();\r\n        imgBg = new BufferedImage(dWidth, dHeight, BufferedImage.TYPE_INT_RGB);\r\n        Graphics2D g2 = imgBg.createGraphics();\r\n        g2.drawImage(backgroundImage, 0, 0, dWidth, dHeight, null);\r\n        g2.dispose();\r\n        g.drawImage(imgBg, 0, 0, null);\r\n    }\r\n\r\n    private void setImgBackground(Image img) {\r\n        backgroundImage = img;\r\n        if (imgBg == null) {\r\n            imgBg = new BufferedImage(850, 600, BufferedImage.TYPE_INT_RGB);\r\n        }\r\n        Graphics2D g2 = imgBg.createGraphics();\r\n        g2.drawImage(backgroundImage, 0, 0, getWidth(), getHeight(), null);\r\n        g2.dispose();\r\n        repaint();\r\n    }\r\n\r\n    public void addHoverEffect(JButton button, JButton button2) {\r\n        button.addMouseListener(new MouseAdapter() {\r\n            @Override\r\n            public void mouseEntered(MouseEvent e) {\r\n                try {\r\n                    setImgBackground(ImageIO.read(new File(&quot;./apsProject/assets/wall.jpg&quot;)));\r\n                } catch (IOException e1) {\r\n                    e1.printStackTrace();\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void mouseExited(MouseEvent e) {\r\n                try {\r\n                    setImgBackground(ImageIO.read(new File(&quot;./apsProject/assets/img0.jpg&quot;)));\r\n                } catch (IOException e1) {\r\n                    e1.printStackTrace();\r\n                };\r\n            }\r\n        });\r\n\r\n        button2.addMouseListener(new MouseAdapter() {\r\n            @Override\r\n            public void mouseEntered(MouseEvent e) {\r\n                try {\r\n                    setImgBackground(ImageIO.read(new File(&quot;./apsProject/assets/img2.jpg&quot;)));\r\n                } catch (IOException e1) {\r\n                    e1.printStackTrace();\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void mouseExited(MouseEvent e) {\r\n                try {\r\n                    setImgBackground(ImageIO.read(new File(&quot;./apsProject/assets/img0.jpg&quot;)));\r\n                } catch (IOException e1) {\r\n                    e1.printStackTrace();\r\n                }\r\n            }\r\n        });\r\n    }\r\n}\r\n```\r\nI call my method in the main class like this:\r\n```java\r\nImgPanelStart effects = new ImgPanelStart();\r\neffects.addHoverEffect(matchButton, simulationButton);\r\n```\r\nHowever, the drawing made on the panel is not updated when hovering the mouse over it.\r\n\r\nIt would be something like, I hovered the mouse over the button button it would change the image in my `rightPanel` to *wall.jpg*. I removed the mouse and it would return to the image *img0.jpg*.\r\n\r\nI hovered the mouse over the `button2` button, it would change the image in my `rightPanel` to *img2.jpg*. When I removed the mouse it would return to the image *img0.jpg*.\r\n\r\nDoes anyone know what could be wrong, or give me a tip on what I can do to fix this problem?","title":"Hover Effects with Java Swing","body":"<p>In my main window I have two panels. They are <code>leftPanel</code> and <code>rightPanel</code>. In the <code>leftPanel</code> I have two buttons: <code>matchButton</code> and <code>simulatorButton</code>. In my <code>rightPanel</code> I have an image drawn on it. I tried to add a hover effect to both buttons. When hovering the mouse over the <code>matchButton</code> the image contained in the <code>rightPanel</code> would change to a new image. When removing the mouse from the <code>matchButton</code> the image on the <code>rightPanel</code> would revert to the default image. It would be the same with <code>simulatorButton</code>. For that I created a separate class and added the following code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ImgPanelStart extends JPanel {\n    private Image backgroundImage;\n    private BufferedImage imgBg;\n\n    public ImgPanelStart() {\n        try {\n            backgroundImage = ImageIO.read(new File(&quot;./apsProject/assets/img0.jpg&quot;));\n        } catch (IOException ex) {\n            System.out.println(&quot;Falha ao carregar imagem de fundo&quot;);\n        }\n    }\n\n    @Override\n    public void paintComponent(Graphics g) {\n        super.paintComponent(g);\n        if (backgroundImage != null) {\n            g.drawImage(imgBg, 0, 0, null);\n        }\n        Dimension dim = this.getSize();\n        int dWidth = (int) dim.getWidth();\n        int dHeight = (int) dim.getHeight();\n        imgBg = new BufferedImage(dWidth, dHeight, BufferedImage.TYPE_INT_RGB);\n        Graphics2D g2 = imgBg.createGraphics();\n        g2.drawImage(backgroundImage, 0, 0, dWidth, dHeight, null);\n        g2.dispose();\n        g.drawImage(imgBg, 0, 0, null);\n    }\n\n    private void setImgBackground(Image img) {\n        backgroundImage = img;\n        if (imgBg == null) {\n            imgBg = new BufferedImage(850, 600, BufferedImage.TYPE_INT_RGB);\n        }\n        Graphics2D g2 = imgBg.createGraphics();\n        g2.drawImage(backgroundImage, 0, 0, getWidth(), getHeight(), null);\n        g2.dispose();\n        repaint();\n    }\n\n    public void addHoverEffect(JButton button, JButton button2) {\n        button.addMouseListener(new MouseAdapter() {\n            @Override\n            public void mouseEntered(MouseEvent e) {\n                try {\n                    setImgBackground(ImageIO.read(new File(&quot;./apsProject/assets/wall.jpg&quot;)));\n                } catch (IOException e1) {\n                    e1.printStackTrace();\n                }\n            }\n\n            @Override\n            public void mouseExited(MouseEvent e) {\n                try {\n                    setImgBackground(ImageIO.read(new File(&quot;./apsProject/assets/img0.jpg&quot;)));\n                } catch (IOException e1) {\n                    e1.printStackTrace();\n                };\n            }\n        });\n\n        button2.addMouseListener(new MouseAdapter() {\n            @Override\n            public void mouseEntered(MouseEvent e) {\n                try {\n                    setImgBackground(ImageIO.read(new File(&quot;./apsProject/assets/img2.jpg&quot;)));\n                } catch (IOException e1) {\n                    e1.printStackTrace();\n                }\n            }\n\n            @Override\n            public void mouseExited(MouseEvent e) {\n                try {\n                    setImgBackground(ImageIO.read(new File(&quot;./apsProject/assets/img0.jpg&quot;)));\n                } catch (IOException e1) {\n                    e1.printStackTrace();\n                }\n            }\n        });\n    }\n}\n</code></pre>\n<p>I call my method in the main class like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ImgPanelStart effects = new ImgPanelStart();\neffects.addHoverEffect(matchButton, simulationButton);\n</code></pre>\n<p>However, the drawing made on the panel is not updated when hovering the mouse over it.</p>\n<p>It would be something like, I hovered the mouse over the button button it would change the image in my <code>rightPanel</code> to <em>wall.jpg</em>. I removed the mouse and it would return to the image <em>img0.jpg</em>.</p>\n<p>I hovered the mouse over the <code>button2</code> button, it would change the image in my <code>rightPanel</code> to <em>img2.jpg</em>. When I removed the mouse it would return to the image <em>img0.jpg</em>.</p>\n<p>Does anyone know what could be wrong, or give me a tip on what I can do to fix this problem?</p>\n"},{"tags":["java","recursion","arraylist","collections"],"comments":[{"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"score":2,"creation_date":1680805282,"post_id":75952594,"comment_id":133963750,"body_markdown":"It might depend on how they are called, which you left out.","body":"It might depend on how they are called, which you left out."}],"answers":[{"tags":[],"owner":{"account_id":1463192,"reputation":12429,"user_id":1376896,"accept_rate":100,"display_name":"Wenbing Li"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680805506,"creation_date":1680805506,"answer_id":75952646,"question_id":75952594,"body_markdown":"The problem with the code is that it&#39;s modifying the same arr list instance throughout the recursion. When it adds the list arr to the list lt, it&#39;s actually adding a reference to the same list instance. As a result, when the code modifies arr, it&#39;s also modifying the lists stored in lt.\r\n\r\n    class Solution {\r\n        public void sub(int idx,int[] nums,List&lt;Integer&gt; arr,ArrayList&lt;List&lt;Integer&gt;&gt; lt){\r\n            if(idx&gt;=nums.length){\r\n                lt.add(new ArrayList&lt;&gt;(arr));\r\n                // System.out.println(arr.toString());\r\n                return;\r\n            }\r\n            arr.add(nums[idx]);\r\n            sub(idx+1,nums,arr,lt);\r\n            arr.remove(arr.size()-1);\r\n            sub(idx+1,nums,arr,lt);\r\n        }\r\n    \r\n        public List&lt;List&lt;Integer&gt;&gt; subsets(int[] nums) {\r\n            List&lt;Integer&gt; arr=new ArrayList&lt;&gt;();\r\n            ArrayList&lt;List&lt;Integer&gt;&gt; lt=new ArrayList&lt;List&lt;Integer&gt;&gt;();\r\n            sub(0,nums,arr,lt);\r\n            return lt;\r\n        }\r\n    }\r\n\r\n","title":"Why the ArrayList comes out to be empty in the below code","body":"<p>The problem with the code is that it's modifying the same arr list instance throughout the recursion. When it adds the list arr to the list lt, it's actually adding a reference to the same list instance. As a result, when the code modifies arr, it's also modifying the lists stored in lt.</p>\n<pre><code>class Solution {\n    public void sub(int idx,int[] nums,List&lt;Integer&gt; arr,ArrayList&lt;List&lt;Integer&gt;&gt; lt){\n        if(idx&gt;=nums.length){\n            lt.add(new ArrayList&lt;&gt;(arr));\n            // System.out.println(arr.toString());\n            return;\n        }\n        arr.add(nums[idx]);\n        sub(idx+1,nums,arr,lt);\n        arr.remove(arr.size()-1);\n        sub(idx+1,nums,arr,lt);\n    }\n\n    public List&lt;List&lt;Integer&gt;&gt; subsets(int[] nums) {\n        List&lt;Integer&gt; arr=new ArrayList&lt;&gt;();\n        ArrayList&lt;List&lt;Integer&gt;&gt; lt=new ArrayList&lt;List&lt;Integer&gt;&gt;();\n        sub(0,nums,arr,lt);\n        return lt;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680806450,"creation_date":1680805687,"answer_id":75952665,"question_id":75952594,"body_markdown":"&gt; The list lt remains empty after the code is executed?\r\n\r\nThe `List` of `List`s doesn&#39;t.  However, every time you add a `List` to that collection, it is *the same* `List` object.  You ultimately remove every element you ever add to that `List`, so you end up with a `List` of many references to the same empty `List`.\r\n\r\nInstead of adding an element to the one `List` and later removing it, make a new *copy* of the `List` each time you to add an element, and add the element (only) to the copy.  Never remove any elements.  This will ultimately result in 2&lt;sup&gt;*n*&lt;/sup&gt; distinct `List` objects for an array of length *n*, which is indeed the number to be expected.","title":"Why the ArrayList comes out to be empty in the below code","body":"<blockquote>\n<p>The list lt remains empty after the code is executed?</p>\n</blockquote>\n<p>The <code>List</code> of <code>List</code>s doesn't.  However, every time you add a <code>List</code> to that collection, it is <em>the same</em> <code>List</code> object.  You ultimately remove every element you ever add to that <code>List</code>, so you end up with a <code>List</code> of many references to the same empty <code>List</code>.</p>\n<p>Instead of adding an element to the one <code>List</code> and later removing it, make a new <em>copy</em> of the <code>List</code> each time you to add an element, and add the element (only) to the copy.  Never remove any elements.  This will ultimately result in 2<sup><em>n</em></sup> distinct <code>List</code> objects for an array of length <em>n</em>, which is indeed the number to be expected.</p>\n"},{"tags":[],"owner":{"account_id":4831322,"reputation":121,"user_id":3899462,"display_name":"Sudhanshu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680806598,"creation_date":1680806598,"answer_id":75952774,"question_id":75952594,"body_markdown":"This is because you have only one `arr` reference and you keep adding same to the `lt`. at the end it is blank array and reflecting to all.\r\n\r\nYou can make a copy of `arr`(Clone it) and then add `it`\r\n\r\n    lt.add((ArrayList)((ArrayList)arr).clone());","title":"Why the ArrayList comes out to be empty in the below code","body":"<p>This is because you have only one <code>arr</code> reference and you keep adding same to the <code>lt</code>. at the end it is blank array and reflecting to all.</p>\n<p>You can make a copy of <code>arr</code>(Clone it) and then add <code>it</code></p>\n<pre><code>lt.add((ArrayList)((ArrayList)arr).clone());\n</code></pre>\n"}],"owner":{"account_id":24123066,"reputation":21,"user_id":18091881,"display_name":"Paurab Bhattacharjee"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1680815325,"accepted_answer_id":75952646,"answer_count":3,"score":-3,"last_activity_date":1680806598,"creation_date":1680805121,"question_id":75952594,"body_markdown":"The questions wants us to return all the subsets of an array in a list.But in the below code why The list lt remains empty after the code is executed?\r\nAccording to me this list lt should have stored all the subsets....\r\n```\r\nclass Solution {\r\n    public void sub(int idx,int[] nums,List&lt;Integer&gt; arr,ArrayList&lt;List&lt;Integer&gt;&gt; lt){\r\n        if(idx&gt;=nums.length){\r\n            lt.add(arr);\r\n            // System.out.println(arr.toString());\r\n            return;\r\n        }\r\n        arr.add(nums[idx]);\r\n        sub(idx+1,nums,arr,lt);\r\n        arr.remove(arr.size()-1);\r\n        sub(idx+1,nums,arr,lt);\r\n    }\r\n\r\n    public List&lt;List&lt;Integer&gt;&gt; subsets(int[] nums) {\r\n        List&lt;Integer&gt; arr=new ArrayList&lt;&gt;();\r\n        ArrayList&lt;List&lt;Integer&gt;&gt; lt=new ArrayList&lt;List&lt;Integer&gt;&gt;();\r\n        sub(0,nums,arr,lt);\r\n        return lt;\r\n    }\r\n}\r\n```","title":"Why the ArrayList comes out to be empty in the below code","body":"<p>The questions wants us to return all the subsets of an array in a list.But in the below code why The list lt remains empty after the code is executed?\nAccording to me this list lt should have stored all the subsets....</p>\n<pre><code>class Solution {\n    public void sub(int idx,int[] nums,List&lt;Integer&gt; arr,ArrayList&lt;List&lt;Integer&gt;&gt; lt){\n        if(idx&gt;=nums.length){\n            lt.add(arr);\n            // System.out.println(arr.toString());\n            return;\n        }\n        arr.add(nums[idx]);\n        sub(idx+1,nums,arr,lt);\n        arr.remove(arr.size()-1);\n        sub(idx+1,nums,arr,lt);\n    }\n\n    public List&lt;List&lt;Integer&gt;&gt; subsets(int[] nums) {\n        List&lt;Integer&gt; arr=new ArrayList&lt;&gt;();\n        ArrayList&lt;List&lt;Integer&gt;&gt; lt=new ArrayList&lt;List&lt;Integer&gt;&gt;();\n        sub(0,nums,arr,lt);\n        return lt;\n    }\n}\n</code></pre>\n"},{"tags":["java","openapi","quarkus"],"comments":[{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1680852510,"post_id":75952762,"comment_id":133969756,"body_markdown":"Hi, can you add some sample code describing approximately what you are trying to do? It will make things a lot of easier for readers of the question","body":"Hi, can you add some sample code describing approximately what you are trying to do? It will make things a lot of easier for readers of the question"},{"owner":{"account_id":3568344,"reputation":645,"user_id":2979325,"display_name":"Serkan"},"score":0,"creation_date":1680852624,"post_id":75952762,"comment_id":133969775,"body_markdown":"the examples are applied as an example input on the Swagger page when you want to make an REST call (see: localhost:8080/q/swagger-ui)","body":"the examples are applied as an example input on the Swagger page when you want to make an REST call (see: localhost:8080/q/swagger-ui)"}],"owner":{"account_id":28234925,"reputation":1,"user_id":21583546,"display_name":"shrmz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680806487,"creation_date":1680806487,"question_id":75952762,"body_markdown":"I&#39;m a newbie in developing Quarkus api with OpenAPI YAML configuration. I have attributes declared in my YAML file for the various Objects. I&#39;m getting my parameter from the call, where the user passes in a JSON and the return a JSON after executing couple of functions. I want to know if it&#39;s possible to use the example values from my YAML as input for my api calls. I was not able to find any documentation regarding, I&#39;ve seen various documents about using YAML configuration for a database or some server, but this is specifically to get the input and use it as a parameter for the functions. If you guys can give me a hint or clue that would be wonderful. \r\n\r\nI&#39;ve seen various documents about using YAML configuration for a database or some server, but this is specifically to get the input and use it as a parameter for the functions. If you guys can give me a hint or clue that would be wonderful. ","title":"How to include object&#39;s parameters from YAML for Quarkus Rest API call?","body":"<p>I'm a newbie in developing Quarkus api with OpenAPI YAML configuration. I have attributes declared in my YAML file for the various Objects. I'm getting my parameter from the call, where the user passes in a JSON and the return a JSON after executing couple of functions. I want to know if it's possible to use the example values from my YAML as input for my api calls. I was not able to find any documentation regarding, I've seen various documents about using YAML configuration for a database or some server, but this is specifically to get the input and use it as a parameter for the functions. If you guys can give me a hint or clue that would be wonderful.</p>\n<p>I've seen various documents about using YAML configuration for a database or some server, but this is specifically to get the input and use it as a parameter for the functions. If you guys can give me a hint or clue that would be wonderful.</p>\n"},{"tags":["java","user-interface","button","javafx","scene"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1680809992,"post_id":75952743,"comment_id":133964733,"body_markdown":"Any node can only appear in one scene.","body":"Any node can only appear in one scene."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1680810643,"post_id":75952743,"comment_id":133964862,"body_markdown":"Don&#39;t switch out the entire scene.  Instead, construct a scene of nested panes, with your navigation buttons in a different position in the scene graph (e.g. in the top panel of a border pane) and the main content in a separate child pane (e.g. the middle panel of a border pane) which you can swap out for something else.","body":"Don&#39;t switch out the entire scene.  Instead, construct a scene of nested panes, with your navigation buttons in a different position in the scene graph (e.g. in the top panel of a border pane) and the main content in a separate child pane (e.g. the middle panel of a border pane) which you can swap out for something else."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1680810727,"post_id":75952743,"comment_id":133964883,"body_markdown":"The child pane swap approach is demonstrated by [this answer](https://stackoverflow.com/a/18651659/1155209) which uses [this code](https://gist.github.com/jewelsea/6460130).  That code is for FXML-based content, but you can generate the nodes in Java instead of FXML if desired.  There will be simpler examples of the concept in some other similar questions on StackOverflow.","body":"The child pane swap approach is demonstrated by <a href=\"https://stackoverflow.com/a/18651659/1155209\">this answer</a> which uses <a href=\"https://gist.github.com/jewelsea/6460130\" rel=\"nofollow noreferrer\">this code</a>.  That code is for FXML-based content, but you can generate the nodes in Java instead of FXML if desired.  There will be simpler examples of the concept in some other similar questions on StackOverflow."}],"owner":{"account_id":23819019,"reputation":11,"user_id":17826864,"display_name":"Andres Soza"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1680806332,"creation_date":1680806332,"question_id":75952743,"body_markdown":"I am currently studying Java and my university has asked me to create a small JavaFX app. However, I am having an issue with one of the buttons I set - it is not displaying on certain scenes, while the rest of them are working correctly.\r\n\r\nI have been practicing how to switch between scenes and have split my code into three sections for better understanding in the future. The first section contains labels, the second one sets the buttons, and the last one sets the layouts and scenes.\r\n\r\nThe button in question is &quot;buttonMain&quot;, which is supposed to allow me to go back to the main scene. However, it is not displaying on the following scenes: &quot;sceneRegMascota&quot;, &quot;sceneRegUsuario&quot;, &quot;sceneInicioSesion&quot;, and &quot;sceneListMascotas&quot;. This issue is causing me to get stuck when switching to any of these scenes.\r\n\r\n\r\n\r\n```\r\npublic class MainApp extends Application{\r\n\r\n    Stage window;\r\n    Scene sceneMain, sceneRegMascota, sceneRegUsuario, sceneInicioSesion,sceneListMascotas;\r\n    public static void main(String[] args) {\r\n        launch(args);\r\n    }\r\n\r\n    @Override\r\n    public void start(Stage primaryStage) {\r\n        window = primaryStage;\r\n\r\n\r\n\r\n        //sceneMain + labels\r\n        Label labelMain =new Label(&quot;Bienvenido a Veterinaria Moka&quot;);\r\n        Label labelRegUsuario =new Label(&quot;Registro de Usuario&quot;);\r\n        Label labelInicioSesion =new Label(&quot;Inicio de sesion&quot;);\r\n        Label labelRegMascota =new Label(&quot;Registro de Nueva Mascota&quot;);\r\n        Label labelListMascotas =new Label(&quot;Listar Mascotas&quot;);\r\n\r\n\r\n\r\n\r\n        //sceneMain + buttons\r\n        Button buttonMain = new Button(&quot;Volver al Menu Principal&quot;);\r\n        buttonMain.setOnAction(e -&gt; window.setScene(sceneMain));\r\n\r\n        Button buttonRegUsuario = new Button(&quot;Registro de Nuevo Usuario&quot;);\r\n        buttonRegUsuario.setOnAction(e -&gt; window.setScene(sceneRegUsuario));\r\n\r\n        Button buttonInicioSesion = new Button(&quot;Inicio de Sesion&quot;);\r\n        buttonInicioSesion.setOnAction(e -&gt; window.setScene(sceneInicioSesion));\r\n\r\n        Button buttonRegMascota = new Button(&quot;Registrar nueva Mascota&quot;);\r\n        buttonRegMascota.setOnAction(e -&gt; window.setScene(sceneRegMascota));\r\n\r\n        Button buttonListMascotas = new Button(&quot;Lista de Mascotas&quot;);\r\n        buttonListMascotas.setOnAction(e -&gt; window.setScene(sceneListMascotas));\r\n\r\n        \r\n\r\n        //sceneMain + Layouts\r\n        VBox layoutMain = new VBox(20);\r\n        layoutMain.getChildren().addAll(labelMain, buttonRegUsuario, buttonInicioSesion, buttonRegMascota, buttonListMascotas);\r\n        sceneMain = new Scene(layoutMain, 400, 500);\r\n\r\n        VBox layoutRegUsuario = new VBox(20);\r\n        layoutRegUsuario.getChildren().addAll(labelRegUsuario, buttonMain);\r\n        sceneRegUsuario = new Scene(layoutRegUsuario, 200, 200);\r\n\r\n        VBox layoutInicioSesion = new VBox(20);\r\n        layoutInicioSesion.getChildren().addAll(labelInicioSesion, buttonMain);\r\n        sceneInicioSesion = new Scene(layoutInicioSesion, 200, 200);\r\n\r\n        VBox layoutRegMascota = new VBox(20);\r\n        layoutRegMascota.getChildren().addAll(labelRegMascota, buttonMain);\r\n        sceneRegMascota = new Scene(layoutRegMascota, 200, 200);\r\n\r\n        VBox layoutListMascotas = new VBox(20);\r\n        layoutListMascotas.getChildren().addAll(labelListMascotas, buttonMain);\r\n        sceneListMascotas = new Scene(layoutListMascotas, 200, 200);\r\n\r\n        window.setScene(sceneMain);\r\n        window.setTitle(&quot;Veterinaria Moka Admin&quot;);\r\n        window.show();\r\n    }\r\n}\r\n```\r\n\r\n\r\nExpected Results:\r\n\r\nWhen switching to any of the scenes (&quot;sceneRegMascota&quot;, &quot;sceneRegUsuario&quot;, &quot;sceneInicioSesion&quot;, or &quot;sceneListMascotas&quot;), the &quot;buttonMain&quot; should be displayed so that I can go back to the main scene when I want to.\r\n\r\nActual Results:\r\n\r\nUnfortunately, when switching to any of the above scenes, the &quot;buttonMain&quot; is not displayed, and I cannot go back to the main scene. This is causing me to get stuck and unable to navigate the app as intended.\r\n[sceneInicioSesion with no buttons](https://i.stack.imgur.com/W6bn4.png)","title":"Why is the button of JavaFX not displaying when switching between scenes?","body":"<p>I am currently studying Java and my university has asked me to create a small JavaFX app. However, I am having an issue with one of the buttons I set - it is not displaying on certain scenes, while the rest of them are working correctly.</p>\n<p>I have been practicing how to switch between scenes and have split my code into three sections for better understanding in the future. The first section contains labels, the second one sets the buttons, and the last one sets the layouts and scenes.</p>\n<p>The button in question is &quot;buttonMain&quot;, which is supposed to allow me to go back to the main scene. However, it is not displaying on the following scenes: &quot;sceneRegMascota&quot;, &quot;sceneRegUsuario&quot;, &quot;sceneInicioSesion&quot;, and &quot;sceneListMascotas&quot;. This issue is causing me to get stuck when switching to any of these scenes.</p>\n<pre><code>public class MainApp extends Application{\n\n    Stage window;\n    Scene sceneMain, sceneRegMascota, sceneRegUsuario, sceneInicioSesion,sceneListMascotas;\n    public static void main(String[] args) {\n        launch(args);\n    }\n\n    @Override\n    public void start(Stage primaryStage) {\n        window = primaryStage;\n\n\n\n        //sceneMain + labels\n        Label labelMain =new Label(&quot;Bienvenido a Veterinaria Moka&quot;);\n        Label labelRegUsuario =new Label(&quot;Registro de Usuario&quot;);\n        Label labelInicioSesion =new Label(&quot;Inicio de sesion&quot;);\n        Label labelRegMascota =new Label(&quot;Registro de Nueva Mascota&quot;);\n        Label labelListMascotas =new Label(&quot;Listar Mascotas&quot;);\n\n\n\n\n        //sceneMain + buttons\n        Button buttonMain = new Button(&quot;Volver al Menu Principal&quot;);\n        buttonMain.setOnAction(e -&gt; window.setScene(sceneMain));\n\n        Button buttonRegUsuario = new Button(&quot;Registro de Nuevo Usuario&quot;);\n        buttonRegUsuario.setOnAction(e -&gt; window.setScene(sceneRegUsuario));\n\n        Button buttonInicioSesion = new Button(&quot;Inicio de Sesion&quot;);\n        buttonInicioSesion.setOnAction(e -&gt; window.setScene(sceneInicioSesion));\n\n        Button buttonRegMascota = new Button(&quot;Registrar nueva Mascota&quot;);\n        buttonRegMascota.setOnAction(e -&gt; window.setScene(sceneRegMascota));\n\n        Button buttonListMascotas = new Button(&quot;Lista de Mascotas&quot;);\n        buttonListMascotas.setOnAction(e -&gt; window.setScene(sceneListMascotas));\n\n        \n\n        //sceneMain + Layouts\n        VBox layoutMain = new VBox(20);\n        layoutMain.getChildren().addAll(labelMain, buttonRegUsuario, buttonInicioSesion, buttonRegMascota, buttonListMascotas);\n        sceneMain = new Scene(layoutMain, 400, 500);\n\n        VBox layoutRegUsuario = new VBox(20);\n        layoutRegUsuario.getChildren().addAll(labelRegUsuario, buttonMain);\n        sceneRegUsuario = new Scene(layoutRegUsuario, 200, 200);\n\n        VBox layoutInicioSesion = new VBox(20);\n        layoutInicioSesion.getChildren().addAll(labelInicioSesion, buttonMain);\n        sceneInicioSesion = new Scene(layoutInicioSesion, 200, 200);\n\n        VBox layoutRegMascota = new VBox(20);\n        layoutRegMascota.getChildren().addAll(labelRegMascota, buttonMain);\n        sceneRegMascota = new Scene(layoutRegMascota, 200, 200);\n\n        VBox layoutListMascotas = new VBox(20);\n        layoutListMascotas.getChildren().addAll(labelListMascotas, buttonMain);\n        sceneListMascotas = new Scene(layoutListMascotas, 200, 200);\n\n        window.setScene(sceneMain);\n        window.setTitle(&quot;Veterinaria Moka Admin&quot;);\n        window.show();\n    }\n}\n</code></pre>\n<p>Expected Results:</p>\n<p>When switching to any of the scenes (&quot;sceneRegMascota&quot;, &quot;sceneRegUsuario&quot;, &quot;sceneInicioSesion&quot;, or &quot;sceneListMascotas&quot;), the &quot;buttonMain&quot; should be displayed so that I can go back to the main scene when I want to.</p>\n<p>Actual Results:</p>\n<p>Unfortunately, when switching to any of the above scenes, the &quot;buttonMain&quot; is not displayed, and I cannot go back to the main scene. This is causing me to get stuck and unable to navigate the app as intended.\n<a href=\"https://i.stack.imgur.com/W6bn4.png\" rel=\"nofollow noreferrer\">sceneInicioSesion with no buttons</a></p>\n"},{"tags":["java","php","docker","symfony","elasticsearch"],"owner":{"account_id":12983426,"reputation":1589,"user_id":12090310,"display_name":"Khaled Boussoffara"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":142,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1680806290,"creation_date":1680806290,"question_id":75952739,"body_markdown":"I&#39;m trying to test elastic search using symfony 6 and docker under windows 10 :\r\n\r\n    &quot;friendsofsymfony/elastica-bundle&quot;: &quot;^6.2&quot;,\r\n    &quot;php&quot;: &quot;&gt;=8.1&quot;,\r\n    &quot;doctrine/orm&quot;: &quot;^2.14&quot;,\r\n    &quot;symfony&quot;: &quot;6.2.*&quot;\r\n\r\nfos_elastica.yaml :\r\n\r\n    # Read the documentation: https://github.com/FriendsOfSymfony/FOSElasticaBundle/blob/master/doc/setup.md\r\n    fos_elastica:\r\n        clients:\r\n            default: { host: localhost, port: 9209 }\r\n        indexes:\r\n            articles:\r\n                properties:\r\n                    type: ~\r\n                    name: ~\r\n                    slug: ~\r\n                    keyword: ~\r\n                persistence:\r\n                    driver: orm\r\n                    model: App\\Entity\\Article\r\n                    provider: ~\r\n                    finder: ~\r\n\r\ndocker-compose.yaml :\r\n\r\n      # elasticsearch ——————————————————————————————————————————————————————————————\r\n    \r\n      # elasticsearch server (official image)\r\n      # https://www.elastic.co/guide/en/elasticsearch/reference/current/docker.html\r\n      elasticsearch:\r\n        container_name: sb-elasticsearch\r\n        image: docker.elastic.co/elasticsearch/elasticsearch:6.8.3 # 6.8.4 out\r\n        ports:\r\n          - &quot;9209:9200&quot;\r\n        environment:\r\n          - &quot;discovery.type=single-node&quot;\r\n          - &quot;bootstrap.memory_lock=true&quot;\r\n          - &quot;ES_JAVA_OPTS=-Xms1G -Xmx1G&quot;\r\n          - &quot;xpack.security.enabled=false&quot;\r\n          - &quot;http.cors.enabled=true&quot;\r\n          - &quot;http.cors.allow-origin=*&quot;\r\n    \r\n      # elasticsearch head manager (fork of mobz/elasticsearch-head for elasticsearch 6)\r\n      # /!\\ it isn&#39;t an official image /!\\\r\n      # https://hub.docker.com/r/tobias74/elasticsearch-head\r\n      elasticsearch-head:\r\n        container_name: sb-elasticsearch-head\r\n        depends_on:\r\n          - elasticsearch\r\n        image: tobias74/elasticsearch-head:6\r\n        ports:\r\n          - &quot;9109:9100&quot;\r\n\r\nWhen i try : `php bin/console fos:elastica:create` i got this error :\r\n\r\n&gt; class java.util.ArrayList cannot be cast to class java.util.Map (java.util.ArrayList and java.util.Map are in module java.base of loader &#39;bootstrap&#39;)\r\n\r\nany explications please ? ","title":"testing elastic search with Symfony 6 under docker and windows 10 return &quot; class java.util.ArrayList cannot be cast to class java.util.Map &quot;","body":"<p>I'm trying to test elastic search using symfony 6 and docker under windows 10 :</p>\n<pre><code>&quot;friendsofsymfony/elastica-bundle&quot;: &quot;^6.2&quot;,\n&quot;php&quot;: &quot;&gt;=8.1&quot;,\n&quot;doctrine/orm&quot;: &quot;^2.14&quot;,\n&quot;symfony&quot;: &quot;6.2.*&quot;\n</code></pre>\n<p>fos_elastica.yaml :</p>\n<pre><code># Read the documentation: https://github.com/FriendsOfSymfony/FOSElasticaBundle/blob/master/doc/setup.md\nfos_elastica:\n    clients:\n        default: { host: localhost, port: 9209 }\n    indexes:\n        articles:\n            properties:\n                type: ~\n                name: ~\n                slug: ~\n                keyword: ~\n            persistence:\n                driver: orm\n                model: App\\Entity\\Article\n                provider: ~\n                finder: ~\n</code></pre>\n<p>docker-compose.yaml :</p>\n<pre><code>  # elasticsearch ——————————————————————————————————————————————————————————————\n\n  # elasticsearch server (official image)\n  # https://www.elastic.co/guide/en/elasticsearch/reference/current/docker.html\n  elasticsearch:\n    container_name: sb-elasticsearch\n    image: docker.elastic.co/elasticsearch/elasticsearch:6.8.3 # 6.8.4 out\n    ports:\n      - &quot;9209:9200&quot;\n    environment:\n      - &quot;discovery.type=single-node&quot;\n      - &quot;bootstrap.memory_lock=true&quot;\n      - &quot;ES_JAVA_OPTS=-Xms1G -Xmx1G&quot;\n      - &quot;xpack.security.enabled=false&quot;\n      - &quot;http.cors.enabled=true&quot;\n      - &quot;http.cors.allow-origin=*&quot;\n\n  # elasticsearch head manager (fork of mobz/elasticsearch-head for elasticsearch 6)\n  # /!\\ it isn't an official image /!\\\n  # https://hub.docker.com/r/tobias74/elasticsearch-head\n  elasticsearch-head:\n    container_name: sb-elasticsearch-head\n    depends_on:\n      - elasticsearch\n    image: tobias74/elasticsearch-head:6\n    ports:\n      - &quot;9109:9100&quot;\n</code></pre>\n<p>When i try : <code>php bin/console fos:elastica:create</code> i got this error :</p>\n<blockquote>\n<p>class java.util.ArrayList cannot be cast to class java.util.Map (java.util.ArrayList and java.util.Map are in module java.base of loader 'bootstrap')</p>\n</blockquote>\n<p>any explications please ?</p>\n"},{"tags":["java","apache-camel","quarkus","amqp"],"comments":[{"owner":{"account_id":6469560,"reputation":486,"user_id":5010153,"accept_rate":43,"display_name":"AnnetteC"},"score":0,"creation_date":1676554641,"post_id":75453350,"comment_id":133162979,"body_markdown":"As it looks there is no support for transacted routes in camel-quarkus for the version I am forced to use, just from 3.4.0 upwards: https://issues.apache.org/jira/browse/CAMEL-15108 . Thus, this stuff well needs to be done in plain Java","body":"As it looks there is no support for transacted routes in camel-quarkus for the version I am forced to use, just from 3.4.0 upwards: <a href=\"https://issues.apache.org/jira/browse/CAMEL-15108\" rel=\"nofollow noreferrer\">issues.apache.org/jira/browse/CAMEL-15108</a> . Thus, this stuff well needs to be done in plain Java"}],"answers":[{"tags":[],"owner":{"account_id":157630,"reputation":17688,"user_id":375722,"display_name":"Tim Bish"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676413707,"creation_date":1676413707,"answer_id":75453837,"question_id":75453350,"body_markdown":"The likely issue here is that you need to enable transactions on the route so that the consumption of the message that fails will trigger a rollback of the transaction when an error is thrown.  \r\n\r\nThere is considerable documentation about this and how transaction are managed in the Camel docs [here][1].\r\n\r\n\r\n  [1]: https://camel.apache.org/components/3.20.x/eips/transactional-client.html","title":"camel-quarkus-amqp: Erroneous proceed messages not requeued / route not transactional","body":"<p>The likely issue here is that you need to enable transactions on the route so that the consumption of the message that fails will trigger a rollback of the transaction when an error is thrown.</p>\n<p>There is considerable documentation about this and how transaction are managed in the Camel docs <a href=\"https://camel.apache.org/components/3.20.x/eips/transactional-client.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":6469560,"reputation":486,"user_id":5010153,"accept_rate":43,"display_name":"AnnetteC"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680806280,"creation_date":1676627687,"answer_id":75482670,"question_id":75453350,"body_markdown":"Since there is a lack of transactional support for AMQP in camel-quarkus in versions below 3.4.0, I needed to do that plain without camel. Here is my implementation as reference for others maybe facing the same or similar problem.\r\n\r\n\r\nEdit 2023-03-11:\r\n\r\nThis solution has a big flaw since the acknowledgement will be applied to all messages of the same session. If there were some failed before and than a successfully one went through, all messages will be acknowledged, also the failed ones. I am working on a solution for that now...\r\n\r\n\r\nEdit 2023-04-06:\r\n\r\nI removed the code from above and replaced it with the following one:\r\n\r\n    public class MessageConsumer implements Runnable {\r\n\r\n        private static final long WAIT_UNTIL_RECONNECT = 30000; // 30 seconds\r\n\r\n        @Inject private UpdateService updateService;\r\n        @Inject ConnectionFactory connectionFactory;\r\n\r\n        private final ExecutorService scheduler = Executors.newSingleThreadExecutor();\r\n        void onStart(@Observes StartupEvent ev) { scheduler.submit(this); }\r\n        void onStop(@Observes ShutdownEvent ev) { scheduler.shutdown(); }\r\n\r\n        @SneakyThrows\r\n        @Override\r\n        public void run() {\r\n\t\t\t// loop here to make sure that it will reconnect to the queue in case of disconnect\r\n\t\t\twhile (true) {\r\n\t\t\t\ttry (Connection connection = connectionFactory.createConnection()) {\r\n\t\t\t\t\tconnection.start();\r\n\t\t\t\t\tconsume(connection);\r\n\t\t\t\t} catch (Exception e) {\r\n\t\t\t\t\tlog.error(&quot;Exception in connection&quot;, e);\r\n\t\t\t\t\tThread.sleep(WAIT_UNTIL_RECONNECT);\r\n\t\t\t\t}\r\n\t\t\t}\r\n        }\r\n\r\n\t\tprivate void consume(Connection connection) throws JMSException {\r\n\t\t\tlog.info(&quot;Starting queue session...&quot;);\r\n\t\t\ttry (Session session = connection.createSession(true, Session.SESSION_TRANSACTED)) {\r\n\t\t\t\tDestination queue = session.createQueue(messagingProperties.getQueue());\r\n\t\t\t\twhile (true) {\r\n\t\t\t\t\ttry (javax.jms.MessageConsumer consumer = session.createConsumer(queue)) {\r\n\t\t\t\t\t\tMessage message = consumer.receive();\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\thandleMessage(message);\r\n\t\t\t\t\t\t} catch (Exception e) {\r\n\t\t\t\t\t\t\tsession.rollback();\r\n\t\t\t\t\t\t\tlog.error(&quot;Error in message processing&quot;, e);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tsession.commit();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n        private void handleMessage(Message message) {\r\n            if (message == null) return;\r\n\t\t\tupdateService.update(UUID.fromString(message.getBody(String.class)));\r\n\t\t\tmessage.acknowledge();\r\n        }\r\n    }","title":"camel-quarkus-amqp: Erroneous proceed messages not requeued / route not transactional","body":"<p>Since there is a lack of transactional support for AMQP in camel-quarkus in versions below 3.4.0, I needed to do that plain without camel. Here is my implementation as reference for others maybe facing the same or similar problem.</p>\n<p>Edit 2023-03-11:</p>\n<p>This solution has a big flaw since the acknowledgement will be applied to all messages of the same session. If there were some failed before and than a successfully one went through, all messages will be acknowledged, also the failed ones. I am working on a solution for that now...</p>\n<p>Edit 2023-04-06:</p>\n<p>I removed the code from above and replaced it with the following one:</p>\n<pre><code>public class MessageConsumer implements Runnable {\n\n    private static final long WAIT_UNTIL_RECONNECT = 30000; // 30 seconds\n\n    @Inject private UpdateService updateService;\n    @Inject ConnectionFactory connectionFactory;\n\n    private final ExecutorService scheduler = Executors.newSingleThreadExecutor();\n    void onStart(@Observes StartupEvent ev) { scheduler.submit(this); }\n    void onStop(@Observes ShutdownEvent ev) { scheduler.shutdown(); }\n\n    @SneakyThrows\n    @Override\n    public void run() {\n        // loop here to make sure that it will reconnect to the queue in case of disconnect\n        while (true) {\n            try (Connection connection = connectionFactory.createConnection()) {\n                connection.start();\n                consume(connection);\n            } catch (Exception e) {\n                log.error(&quot;Exception in connection&quot;, e);\n                Thread.sleep(WAIT_UNTIL_RECONNECT);\n            }\n        }\n    }\n\n    private void consume(Connection connection) throws JMSException {\n        log.info(&quot;Starting queue session...&quot;);\n        try (Session session = connection.createSession(true, Session.SESSION_TRANSACTED)) {\n            Destination queue = session.createQueue(messagingProperties.getQueue());\n            while (true) {\n                try (javax.jms.MessageConsumer consumer = session.createConsumer(queue)) {\n                    Message message = consumer.receive();\n                    try {\n                        handleMessage(message);\n                    } catch (Exception e) {\n                        session.rollback();\n                        log.error(&quot;Error in message processing&quot;, e);\n                    }\n                    session.commit();\n                }\n            }\n        }\n    }\n\n    private void handleMessage(Message message) {\n        if (message == null) return;\n        updateService.update(UUID.fromString(message.getBody(String.class)));\n        message.acknowledge();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":6469560,"reputation":486,"user_id":5010153,"accept_rate":43,"display_name":"AnnetteC"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":165,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1680806280,"creation_date":1676409373,"question_id":75453350,"body_markdown":"**Problem:**\r\n\r\nWhen the further processing of a message fails, than the message is not requeued but just lost for good. Otherwise everything is working fine.\r\n\r\n**Environment:**\r\n\r\nQuarkus application on AKS with camel-quarkus-amqp, queue = Azure service bus\r\n\r\nWe have similar applications to that one, running on a jboss server with the same configuration (service bus queue with same properties, similar camel route setup) that are not showing that behaviour.\r\n\r\n\r\n**Code:**\r\n\r\nThe application was previously built based on quarkus 1.11.3.Final but even after an update to 2.7.6.Final, the behaviour is the same.\r\n\r\nfrom *pom.xml* (standard like from code generation):\r\n\r\n    &lt;properties&gt;\r\n      ...\r\n      &lt;quarkus.platform.version&gt;2.7.6.Final&lt;/quarkus.platform.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.camel.quarkus&lt;/groupId&gt;\r\n        &lt;artifactId&gt;camel-quarkus-amqp&lt;/artifactId&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.camel.quarkus&lt;/groupId&gt;\r\n        &lt;artifactId&gt;camel-quarkus-bean&lt;/artifactId&gt;\r\n      &lt;/dependency&gt;\r\n    &lt;dependencies&gt;\r\n\r\n*application.properties:*\r\n\r\n    quarkus.qpid-jms.url=failover:(amqps://xyz.servicebus.windows.net)\r\n    quarkus.qpid-jms.username=xxx\r\n    quarkus.qpid-jms.password=xxx\r\n\r\n*Implementation - Consumer:*\r\n\r\n    public class MessageConsumer extends RouteBuilder {\r\n\r\n        @Inject private UpdateService updateService;\r\n\r\n        @Override\r\n        public void configure() {\r\n            from(&quot;amqp:queue:&quot; + &quot;queueName&quot;)\r\n                .routeId(MessageConsumer.class.getName() + &quot;.consumeQueue&quot;)\r\n                .process(exchange -&gt; exchange.getIn().setBody(UUID.fromString(exchange.getIn().getBody(String.class))))\r\n                .bean(updateService);\r\n        }\r\n    }\r\n\r\n*Implementation - Producer:*\r\n\r\n    import javax.inject.Inject;\r\n    import javax.jms.ConnectionFactory;\r\n    import javax.jms.JMSContext;\r\n    import java.util.UUID;\r\n\r\n    public class MessageRepository {\r\n\r\n        @Inject ConnectionFactory connectionFactory;\r\n\r\n        public void sendMessage(UUID uuid) {\r\n            try (JMSContext context = connectionFactory.createContext(JMSContext.AUTO_ACKNOWLEDGE)) {\r\n                context.createProducer().send(context.createQueue(&quot;queueName&quot;), uuid.toString());\r\n            } catch (Exception e) {\r\n                throw new ApplicationException(&quot;Invalid message&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n**Question:**\r\n\r\nWhat do I need to change / add to get messages requeued (not acknowledged) if an exception will be throw inside the bean processing of `updateService` in the camel route?","title":"camel-quarkus-amqp: Erroneous proceed messages not requeued / route not transactional","body":"<p><strong>Problem:</strong></p>\n<p>When the further processing of a message fails, than the message is not requeued but just lost for good. Otherwise everything is working fine.</p>\n<p><strong>Environment:</strong></p>\n<p>Quarkus application on AKS with camel-quarkus-amqp, queue = Azure service bus</p>\n<p>We have similar applications to that one, running on a jboss server with the same configuration (service bus queue with same properties, similar camel route setup) that are not showing that behaviour.</p>\n<p><strong>Code:</strong></p>\n<p>The application was previously built based on quarkus 1.11.3.Final but even after an update to 2.7.6.Final, the behaviour is the same.</p>\n<p>from <em>pom.xml</em> (standard like from code generation):</p>\n<pre><code>&lt;properties&gt;\n  ...\n  &lt;quarkus.platform.version&gt;2.7.6.Final&lt;/quarkus.platform.version&gt;\n&lt;/properties&gt;\n&lt;dependencies&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;org.apache.camel.quarkus&lt;/groupId&gt;\n    &lt;artifactId&gt;camel-quarkus-amqp&lt;/artifactId&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;org.apache.camel.quarkus&lt;/groupId&gt;\n    &lt;artifactId&gt;camel-quarkus-bean&lt;/artifactId&gt;\n  &lt;/dependency&gt;\n&lt;dependencies&gt;\n</code></pre>\n<p><em>application.properties:</em></p>\n<pre><code>quarkus.qpid-jms.url=failover:(amqps://xyz.servicebus.windows.net)\nquarkus.qpid-jms.username=xxx\nquarkus.qpid-jms.password=xxx\n</code></pre>\n<p><em>Implementation - Consumer:</em></p>\n<pre><code>public class MessageConsumer extends RouteBuilder {\n\n    @Inject private UpdateService updateService;\n\n    @Override\n    public void configure() {\n        from(&quot;amqp:queue:&quot; + &quot;queueName&quot;)\n            .routeId(MessageConsumer.class.getName() + &quot;.consumeQueue&quot;)\n            .process(exchange -&gt; exchange.getIn().setBody(UUID.fromString(exchange.getIn().getBody(String.class))))\n            .bean(updateService);\n    }\n}\n</code></pre>\n<p><em>Implementation - Producer:</em></p>\n<pre><code>import javax.inject.Inject;\nimport javax.jms.ConnectionFactory;\nimport javax.jms.JMSContext;\nimport java.util.UUID;\n\npublic class MessageRepository {\n\n    @Inject ConnectionFactory connectionFactory;\n\n    public void sendMessage(UUID uuid) {\n        try (JMSContext context = connectionFactory.createContext(JMSContext.AUTO_ACKNOWLEDGE)) {\n            context.createProducer().send(context.createQueue(&quot;queueName&quot;), uuid.toString());\n        } catch (Exception e) {\n            throw new ApplicationException(&quot;Invalid message&quot;);\n        }\n    }\n}\n</code></pre>\n<p><strong>Question:</strong></p>\n<p>What do I need to change / add to get messages requeued (not acknowledged) if an exception will be throw inside the bean processing of <code>updateService</code> in the camel route?</p>\n"},{"tags":["java","apache-spark","join","apache-spark-sql"],"comments":[{"owner":{"account_id":8429880,"reputation":4538,"user_id":6325994,"accept_rate":56,"display_name":"Abdennacer Lachiheb"},"score":1,"creation_date":1680803493,"post_id":75951587,"comment_id":133963360,"body_markdown":"What if in ds2 you have 2 orange with different quantity values, or that will never happen ?","body":"What if in ds2 you have 2 orange with different quantity values, or that will never happen ?"},{"owner":{"account_id":6802882,"reputation":195,"user_id":5235665,"display_name":"hotmeatballsoup"},"score":0,"creation_date":1680804750,"post_id":75951587,"comment_id":133963625,"body_markdown":"Great point @AbdennacerLachiheb but in my use case that won&#39;t happen. In each DS the fruits will be unique.","body":"Great point @AbdennacerLachiheb but in my use case that won&#39;t happen. In each DS the fruits will be unique."},{"owner":{"account_id":8429880,"reputation":4538,"user_id":6325994,"accept_rate":56,"display_name":"Abdennacer Lachiheb"},"score":0,"creation_date":1680805425,"post_id":75951587,"comment_id":133963776,"body_markdown":"OK I see, I posted an answer for your case.","body":"OK I see, I posted an answer for your case."}],"answers":[{"tags":[],"owner":{"account_id":8429880,"reputation":4538,"user_id":6325994,"accept_rate":56,"display_name":"Abdennacer Lachiheb"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680805773,"creation_date":1680805366,"answer_id":75952625,"question_id":75951587,"body_markdown":"You can use &quot;full&quot; join to get all values from both dataset, then use coalesce to get the preferred column values:\r\n\r\n    ds2 = ds2.withColumnRenamed(&quot;fruit&quot;, &quot;fruit2&quot;).withColumnRenamed(&quot;quantity&quot;, &quot;quantity2&quot;);\r\n    ds1.join(ds2, ds1.col(&quot;fruit&quot;).equalTo(ds2.col(&quot;fruit2&quot;)), &quot;full&quot;)\r\n            .withColumn(&quot;fruit&quot;, functions.coalesce(col(&quot;fruit&quot;), col(&quot;fruit2&quot;)))\r\n            .withColumn(&quot;quantity&quot;, functions.coalesce(col(&quot;quantity2&quot;), col(&quot;quantity&quot;)))\r\n            .drop(&quot;fruit2&quot;, &quot;quantity2&quot;)\r\n            .show();\r\n\r\nResult:\r\n\r\n    +---------+--------+\r\n    |    fruit|quantity|\r\n    +---------+--------+\r\n    |     kiwi|     104|\r\n    |   orange|       5|\r\n    |    apple|      50|\r\n    |     pear|      12|\r\n    |   banana|      50|\r\n    |pineapple|      25|\r\n    |blueberry|      15|\r\n    +---------+--------+","title":"Java Spark SQL: Merging and overwriting Datasets with identical schema","body":"<p>You can use &quot;full&quot; join to get all values from both dataset, then use coalesce to get the preferred column values:</p>\n<pre><code>ds2 = ds2.withColumnRenamed(&quot;fruit&quot;, &quot;fruit2&quot;).withColumnRenamed(&quot;quantity&quot;, &quot;quantity2&quot;);\nds1.join(ds2, ds1.col(&quot;fruit&quot;).equalTo(ds2.col(&quot;fruit2&quot;)), &quot;full&quot;)\n        .withColumn(&quot;fruit&quot;, functions.coalesce(col(&quot;fruit&quot;), col(&quot;fruit2&quot;)))\n        .withColumn(&quot;quantity&quot;, functions.coalesce(col(&quot;quantity2&quot;), col(&quot;quantity&quot;)))\n        .drop(&quot;fruit2&quot;, &quot;quantity2&quot;)\n        .show();\n</code></pre>\n<p>Result:</p>\n<pre><code>+---------+--------+\n|    fruit|quantity|\n+---------+--------+\n|     kiwi|     104|\n|   orange|       5|\n|    apple|      50|\n|     pear|      12|\n|   banana|      50|\n|pineapple|      25|\n|blueberry|      15|\n+---------+--------+\n</code></pre>\n"}],"owner":{"account_id":6802882,"reputation":195,"user_id":5235665,"display_name":"hotmeatballsoup"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75952625,"answer_count":1,"score":0,"last_activity_date":1680805773,"creation_date":1680797374,"question_id":75951587,"body_markdown":"Java 11 and Spark SQL 2.13:3.3.2 here. Please note: I&#39;m using and interested in the Java API and would appreciate Java answers, but I can _probably_ decipher Scala-based answers and do the necessary Scala-to-Java conversions if necessary. But Java would be appreciated!\r\n\r\n---\r\n\r\nI have 2 `Dataset&lt;Row&gt;` instances, both with the same exact schema (same columns/headers, which are the same types):\r\n```\r\ndata set #1 (ds1)\r\n===\r\nfruit,quantity\r\n--------------\r\napple,50\r\npear,12\r\norange,0\r\nkiwi,104\r\n\r\ndata set #2 (ds2)\r\n===\r\nid,fruit,quantity\r\n--------------\r\nbanana,50\r\npineapple,25\r\norange,5\r\nblueberry,15\r\n```\r\n\r\nI would like to &quot;_merge_&quot; these 2 `Dataset&lt;Row&gt;`s so that they are appended or joined to one another, but in such a way that `ds2` overwrites any values in `ds1` if their `fruit` columns match. So `orange` is in both data sets, but in `ds2` its quantity is `5`, so that should be the final listing in the resultant `Dataset&lt;Row&gt;` output. So in other words, this operation should results in a 3rd data set like so:\r\n```\r\ndata set #2 (ds2)\r\n===\r\nid,fruit,quantity\r\n--------------\r\napple,50\r\npear,12\r\norange,5\r\nkiwi,104\r\nbanana,50\r\npineapple,25\r\nblueberry,15\r\n```\r\n\r\nThe order of the rows does not matter, all that matters to me is that the list of fruits in both data sets are listed in the 3rd, and that `ds1` rows are **updated** (not inserted) if there is a matching fruit in `ds2`.\r\n\r\nI took a look at `Dataset#join` JavaDocs, but they seem to be just useful for when you need the SQL equivalent of an `inner join`, but won&#39;t help me with the desired overwrite functionality.\r\n\r\nThanks in advance for any and all help!","title":"Java Spark SQL: Merging and overwriting Datasets with identical schema","body":"<p>Java 11 and Spark SQL 2.13:3.3.2 here. Please note: I'm using and interested in the Java API and would appreciate Java answers, but I can <em>probably</em> decipher Scala-based answers and do the necessary Scala-to-Java conversions if necessary. But Java would be appreciated!</p>\n<hr />\n<p>I have 2 <code>Dataset&lt;Row&gt;</code> instances, both with the same exact schema (same columns/headers, which are the same types):</p>\n<pre><code>data set #1 (ds1)\n===\nfruit,quantity\n--------------\napple,50\npear,12\norange,0\nkiwi,104\n\ndata set #2 (ds2)\n===\nid,fruit,quantity\n--------------\nbanana,50\npineapple,25\norange,5\nblueberry,15\n</code></pre>\n<p>I would like to &quot;<em>merge</em>&quot; these 2 <code>Dataset&lt;Row&gt;</code>s so that they are appended or joined to one another, but in such a way that <code>ds2</code> overwrites any values in <code>ds1</code> if their <code>fruit</code> columns match. So <code>orange</code> is in both data sets, but in <code>ds2</code> its quantity is <code>5</code>, so that should be the final listing in the resultant <code>Dataset&lt;Row&gt;</code> output. So in other words, this operation should results in a 3rd data set like so:</p>\n<pre><code>data set #2 (ds2)\n===\nid,fruit,quantity\n--------------\napple,50\npear,12\norange,5\nkiwi,104\nbanana,50\npineapple,25\nblueberry,15\n</code></pre>\n<p>The order of the rows does not matter, all that matters to me is that the list of fruits in both data sets are listed in the 3rd, and that <code>ds1</code> rows are <strong>updated</strong> (not inserted) if there is a matching fruit in <code>ds2</code>.</p>\n<p>I took a look at <code>Dataset#join</code> JavaDocs, but they seem to be just useful for when you need the SQL equivalent of an <code>inner join</code>, but won't help me with the desired overwrite functionality.</p>\n<p>Thanks in advance for any and all help!</p>\n"},{"tags":["java","collections"],"comments":[{"owner":{"account_id":970,"reputation":399857,"user_id":1288,"accept_rate":93,"display_name":"Bill the Lizard"},"score":0,"creation_date":1242135293,"post_id":852822,"comment_id":660987,"body_markdown":"Are you asking for the syntax on how to do that, or a real world example of why you would want to?","body":"Are you asking for the syntax on how to do that, or a real world example of why you would want to?"}],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1242135343,"creation_date":1242135343,"answer_id":852833,"question_id":852822,"body_markdown":"You mean like this?\r\n\r\n    public List&lt;String&gt; buildList(String first, String second)\r\n    {\r\n         List&lt;String&gt; ret = new ArrayList&lt;String&gt;();\r\n         ret.add(first);\r\n         ret.add(second);\r\n         return ret;\r\n    }\r\n\r\n    ...\r\n\r\n    List&lt;String&gt; names = buildList(&quot;Jon&quot;, &quot;Marc&quot;);\r\n\r\nOr are you interested in the `ArrayList` constructor which takes a `Collection&lt;? extends E&gt;`? For example:\r\n\r\n    String[] items = new String[] { &quot;First&quot;, &quot;Second&quot;, &quot;Third&quot; };\r\n    // Here&#39;s one way of creating a List...\r\n    Collection&lt;String&gt; itemCollection = Arrays.asList(items);\r\n    // And here&#39;s another\r\n    ArrayList&lt;String&gt; itemList = new ArrayList&lt;String&gt;(itemCollection);","title":"Java ArrayList and HashMap on-the-fly","body":"<p>You mean like this?</p>\n\n<pre><code>public List&lt;String&gt; buildList(String first, String second)\n{\n     List&lt;String&gt; ret = new ArrayList&lt;String&gt;();\n     ret.add(first);\n     ret.add(second);\n     return ret;\n}\n\n...\n\nList&lt;String&gt; names = buildList(\"Jon\", \"Marc\");\n</code></pre>\n\n<p>Or are you interested in the <code>ArrayList</code> constructor which takes a <code>Collection&lt;? extends E&gt;</code>? For example:</p>\n\n<pre><code>String[] items = new String[] { \"First\", \"Second\", \"Third\" };\n// Here's one way of creating a List...\nCollection&lt;String&gt; itemCollection = Arrays.asList(items);\n// And here's another\nArrayList&lt;String&gt; itemList = new ArrayList&lt;String&gt;(itemCollection);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2146,"reputation":51871,"user_id":2959,"accept_rate":67,"display_name":"Steve McLeod"},"down_vote_count":6,"up_vote_count":45,"is_accepted":false,"score":39,"last_activity_date":1680805252,"creation_date":1242135364,"answer_id":852837,"question_id":852822,"body_markdown":"A nice way of doing this is using `List.of()` (since Java 8) and `Map.of()` (since Java 9):\r\n\r\n```java\r\nList&lt;String&gt; list = List.of(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;);\r\n    \r\nMap&lt;Integer, String&gt; map = Map.of(1, &quot;A&quot;,\r\n                                  2, &quot;B&quot;,\r\n                                  3, &quot;C&quot;);\r\n```\r\n\r\nJava 7 and earlier may use [Google Collections][1]:\r\n\r\n    List&lt;String&gt; list = ImmutableList.of(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;);\r\n    \r\n    Map&lt;Integer, String&gt; map = ImmutableMap.of(\r\n      1, &quot;A&quot;,\r\n      2, &quot;B&quot;,\r\n      3, &quot;C&quot;);\r\n\r\n\r\n  [1]: http://code.google.com/p/google-collections/","title":"Java ArrayList and HashMap on-the-fly","body":"<p>A nice way of doing this is using <code>List.of()</code> (since Java 8) and <code>Map.of()</code> (since Java 9):</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; list = List.of(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;);\n    \nMap&lt;Integer, String&gt; map = Map.of(1, &quot;A&quot;,\n                                  2, &quot;B&quot;,\n                                  3, &quot;C&quot;);\n</code></pre>\n<p>Java 7 and earlier may use <a href=\"http://code.google.com/p/google-collections/\" rel=\"nofollow noreferrer\">Google Collections</a>:</p>\n<pre><code>List&lt;String&gt; list = ImmutableList.of(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;);\n\nMap&lt;Integer, String&gt; map = ImmutableMap.of(\n  1, &quot;A&quot;,\n  2, &quot;B&quot;,\n  3, &quot;C&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17419,"reputation":41146,"user_id":38971,"accept_rate":97,"display_name":"cgp"},"down_vote_count":1,"up_vote_count":33,"is_accepted":false,"score":32,"last_activity_date":1368704321,"creation_date":1242135404,"answer_id":852841,"question_id":852822,"body_markdown":"Arrays can be converted to `List`s:\r\n\r\n    List&lt;String&gt; al = Arrays.asList(&quot;vote&quot;, &quot;for&quot;, &quot;me&quot;); //pandering\r\n\r\nNote that this does *not* return an `ArrayList` but an arbitrary `List` instance (in this case it’s an `Array.ArrayList`)!\r\n\r\nBruno&#39;s approach works best and could be considered on the fly for maps. I prefer the other method for lists though (seen above):\r\n\r\n    Map&lt;String,String&gt; map = new HashMap&lt;String,String&gt;() {\r\n     {\r\n        put(&quot;key1&quot;, &quot;value1&quot;);\r\n        put(&quot;key2&quot;, &quot;value2&quot;);\r\n     }\r\n    };\r\n","title":"Java ArrayList and HashMap on-the-fly","body":"<p>Arrays can be converted to <code>List</code>s:</p>\n\n<pre><code>List&lt;String&gt; al = Arrays.asList(\"vote\", \"for\", \"me\"); //pandering\n</code></pre>\n\n<p>Note that this does <em>not</em> return an <code>ArrayList</code> but an arbitrary <code>List</code> instance (in this case it’s an <code>Array.ArrayList</code>)!</p>\n\n<p>Bruno's approach works best and could be considered on the fly for maps. I prefer the other method for lists though (seen above):</p>\n\n<pre><code>Map&lt;String,String&gt; map = new HashMap&lt;String,String&gt;() {\n {\n    put(\"key1\", \"value1\");\n    put(\"key2\", \"value2\");\n }\n};\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12462,"reputation":162436,"user_id":24545,"accept_rate":99,"display_name":"Yuval Adam"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1242135426,"creation_date":1242135426,"answer_id":852843,"question_id":852822,"body_markdown":"Use a nice anonymous initializer:\r\n\r\n    List&lt;String&gt; list = new ArrayList&lt;String&gt;() {{\r\n        add(&quot;a&quot;);\r\n        add(&quot;b&quot;);\r\n    }};\r\n\r\nSame goes for a Map:\r\n\r\n\r\n    Map&lt;String, String&gt; map = new HashMap&lt;String, String&gt;() {{\r\n        put(&quot;a&quot;, &quot;a&quot;);\r\n        put(&quot;b&quot;, &quot;b&quot;);\r\n    }};\r\n\r\n\r\nI find this the most elegant and readable.\r\n\r\nOther methods demand creating an array first, then converting it to a List - too expensive in my taste, and less readable.","title":"Java ArrayList and HashMap on-the-fly","body":"<p>Use a nice anonymous initializer:</p>\n\n<pre><code>List&lt;String&gt; list = new ArrayList&lt;String&gt;() {{\n    add(\"a\");\n    add(\"b\");\n}};\n</code></pre>\n\n<p>Same goes for a Map:</p>\n\n<pre><code>Map&lt;String, String&gt; map = new HashMap&lt;String, String&gt;() {{\n    put(\"a\", \"a\");\n    put(\"b\", \"b\");\n}};\n</code></pre>\n\n<p>I find this the most elegant and readable.</p>\n\n<p>Other methods demand creating an array first, then converting it to a List - too expensive in my taste, and less readable.</p>\n"},{"tags":[],"owner":{"account_id":14954,"reputation":47917,"user_id":31136,"accept_rate":50,"display_name":"bruno conde"},"down_vote_count":0,"up_vote_count":114,"is_accepted":true,"score":114,"last_activity_date":1242135465,"creation_date":1242135465,"answer_id":852847,"question_id":852822,"body_markdown":"    List&lt;String&gt; list = new ArrayList&lt;String&gt;() {\r\n     {\r\n        add(&quot;value1&quot;);\r\n        add(&quot;value2&quot;);\r\n     }\r\n    };\r\n\r\n    Map&lt;String,String&gt; map = new HashMap&lt;String,String&gt;() {\r\n     {\r\n        put(&quot;key1&quot;, &quot;value1&quot;);\r\n        put(&quot;key2&quot;, &quot;value2&quot;);\r\n     }\r\n    };\r\n\r\n","title":"Java ArrayList and HashMap on-the-fly","body":"<pre><code>List&lt;String&gt; list = new ArrayList&lt;String&gt;() {\n {\n    add(\"value1\");\n    add(\"value2\");\n }\n};\n\nMap&lt;String,String&gt; map = new HashMap&lt;String,String&gt;() {\n {\n    put(\"key1\", \"value1\");\n    put(\"key2\", \"value2\");\n }\n};\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9049,"reputation":16318,"user_id":16542,"accept_rate":73,"display_name":"Andreas Petersson"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1242135471,"creation_date":1242135471,"answer_id":852848,"question_id":852822,"body_markdown":"for short lists:\r\n\r\n        List&lt;String&gt; ab = Arrays.asList(&quot;a&quot;,&quot;b&quot;);","title":"Java ArrayList and HashMap on-the-fly","body":"<p>for short lists:</p>\n\n<pre><code>    List&lt;String&gt; ab = Arrays.asList(\"a\",\"b\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1215286,"reputation":7830,"user_id":1183010,"accept_rate":80,"display_name":"R. Oosterholt"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1501759941,"creation_date":1495531107,"answer_id":44130677,"question_id":852822,"body_markdown":"For lists you can use [Arrays.asList][1] like this:\r\n\r\n    List&lt;String&gt; stringList = Arrays.asList(&quot;one&quot;, &quot;two&quot;);\r\n    List&lt;Integer&gt; intList = Arrays.asList(1, 2);\r\n\r\nFor Maps you could use this:\r\n\r\n\tpublic static &lt;K, V&gt; Map&lt;K, V&gt; mapOf(Object... keyValues) {\r\n\t\tMap&lt;K, V&gt; map = new HashMap&lt;&gt;();\r\n\r\n\t\tK key = null;\r\n\t\tfor (int index = 0; index &lt; keyValues.length; index++) {\r\n\t\t\tif (index % 2 == 0) {\r\n\t\t\t\tkey = (K)keyValues[index];\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tmap.put(key, (V)keyValues[index]);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn map;\r\n\t}\r\n\r\n    Map&lt;Integer, String&gt; map1 = mapOf(1, &quot;value1&quot;, 2, &quot;value2&quot;);\r\n    Map&lt;String, String&gt; map2 = mapOf(&quot;key1&quot;, &quot;value1&quot;, &quot;key2&quot;, &quot;value2&quot;);\r\n\r\nNote: in `Java 9` you can use [Map.of][2]  \r\nNote2: `Double Brace Initialization` for creating HashMaps as suggested in other answers has it [caveats][3]\r\n\r\n\r\n\r\n\r\n[1]: http://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html#asList(T...)\r\n[2]: http://download.java.net/java/jdk9/docs/api/java/util/Map.html#of-K-V-\r\n[3]: https://stackoverflow.com/a/924326/1183010","title":"Java ArrayList and HashMap on-the-fly","body":"<p>For lists you can use <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html#asList(T...)\" rel=\"nofollow noreferrer\">Arrays.asList</a> like this:</p>\n\n<pre><code>List&lt;String&gt; stringList = Arrays.asList(\"one\", \"two\");\nList&lt;Integer&gt; intList = Arrays.asList(1, 2);\n</code></pre>\n\n<p>For Maps you could use this:</p>\n\n<pre><code>public static &lt;K, V&gt; Map&lt;K, V&gt; mapOf(Object... keyValues) {\n    Map&lt;K, V&gt; map = new HashMap&lt;&gt;();\n\n    K key = null;\n    for (int index = 0; index &lt; keyValues.length; index++) {\n        if (index % 2 == 0) {\n            key = (K)keyValues[index];\n        }\n        else {\n            map.put(key, (V)keyValues[index]);\n        }\n    }\n\n    return map;\n}\n\nMap&lt;Integer, String&gt; map1 = mapOf(1, \"value1\", 2, \"value2\");\nMap&lt;String, String&gt; map2 = mapOf(\"key1\", \"value1\", \"key2\", \"value2\");\n</code></pre>\n\n<p>Note: in <code>Java 9</code> you can use <a href=\"http://download.java.net/java/jdk9/docs/api/java/util/Map.html#of-K-V-\" rel=\"nofollow noreferrer\">Map.of</a><br>\nNote2: <code>Double Brace Initialization</code> for creating HashMaps as suggested in other answers has it <a href=\"https://stackoverflow.com/a/924326/1183010\">caveats</a></p>\n"},{"tags":[],"owner":{"account_id":7880606,"reputation":137,"user_id":5954741,"display_name":"ahmadPH"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1617278161,"creation_date":1617278161,"answer_id":66904061,"question_id":852822,"body_markdown":"How about this?\r\n\r\n```Java\r\nArrayList&lt;String&gt; array = new ArrayList&lt;String&gt;(Arrays.asList(&quot;value1&quot;, &quot;value2&quot;));\r\n```\r\nI know many of the answers provided similar solutions, but I think this one is a little more exact and more succinct.\r\nIf you have lots of values, you might wanna do this:\r\n```Java\r\nArrayList&lt;String&gt; array = new ArrayList&lt;String&gt;(Arrays.asList(\r\n    &quot;value1&quot;,\r\n    &quot;value2&quot;,\r\n    &quot;value3&quot;,\r\n    ...\r\n));\r\n```","title":"Java ArrayList and HashMap on-the-fly","body":"<p>How about this?</p>\n<pre><code>ArrayList&lt;String&gt; array = new ArrayList&lt;String&gt;(Arrays.asList(&quot;value1&quot;, &quot;value2&quot;));\n</code></pre>\n<p>I know many of the answers provided similar solutions, but I think this one is a little more exact and more succinct.\nIf you have lots of values, you might wanna do this:</p>\n<pre><code>ArrayList&lt;String&gt; array = new ArrayList&lt;String&gt;(Arrays.asList(\n    &quot;value1&quot;,\n    &quot;value2&quot;,\n    &quot;value3&quot;,\n    ...\n));\n</code></pre>\n"}],"owner":{"account_id":1272,"reputation":10527,"user_id":1693,"accept_rate":59,"display_name":"Steve M"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62410,"favorite_count":0,"down_vote_count":0,"up_vote_count":60,"accepted_answer_id":852847,"answer_count":8,"score":60,"last_activity_date":1680805252,"creation_date":1242135187,"question_id":852822,"body_markdown":"Can someone please provide an example of creating a Java `ArrayList` and `HashMap` on the fly? So instead of doing an `add()` or `put()`, actually supplying the seed data for the array/hash at the class instantiation?\r\n\r\nTo provide an example, something similar to PHP for instance:\r\n\r\n    $array = array (3, 1, 2);\r\n    $assoc_array = array( &#39;key&#39; =&gt; &#39;value&#39; );","title":"Java ArrayList and HashMap on-the-fly","body":"<p>Can someone please provide an example of creating a Java <code>ArrayList</code> and <code>HashMap</code> on the fly? So instead of doing an <code>add()</code> or <code>put()</code>, actually supplying the seed data for the array/hash at the class instantiation?</p>\n\n<p>To provide an example, something similar to PHP for instance:</p>\n\n<pre><code>$array = array (3, 1, 2);\n$assoc_array = array( 'key' =&gt; 'value' );\n</code></pre>\n"},{"tags":["java","spring","maven"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":3,"creation_date":1644019498,"post_id":70993809,"comment_id":125502820,"body_markdown":"You can safely remove it if (you can reasonably expect that) everyone you work with has it installed.","body":"You can safely remove it if (you can reasonably expect that) everyone you work with has it installed."},{"owner":{"account_id":949732,"reputation":1711,"user_id":976115,"accept_rate":43,"display_name":"hurelhuyag"},"score":1,"creation_date":1678853844,"post_id":70993809,"comment_id":133612296,"body_markdown":"The wrapper thing was first introduced to gradle users. Because gradle developers constantly decide to change configuration format. That is why gradle users have to stay with the gradle version they configured.\nIt is useless for maven users. Better keep away from it.","body":"The wrapper thing was first introduced to gradle users. Because gradle developers constantly decide to change configuration format. That is why gradle users have to stay with the gradle version they configured. It is useless for maven users. Better keep away from it."},{"owner":{"account_id":1352612,"reputation":4119,"user_id":1357094,"accept_rate":85,"display_name":"cellepo"},"score":0,"creation_date":1680575791,"post_id":70993809,"comment_id":133917751,"body_markdown":"I&#39;m assuming to also delete the `&lt;project root&gt;/.mvn` directory (containing maven-wrapper.jar, and maven-wrapper.properties).","body":"I&#39;m assuming to also delete the <code>&lt;project root&gt;&#47;.mvn</code> directory (containing maven-wrapper.jar, and maven-wrapper.properties)."},{"owner":{"account_id":1352612,"reputation":4119,"user_id":1357094,"accept_rate":85,"display_name":"cellepo"},"score":0,"creation_date":1680575920,"post_id":70993809,"comment_id":133917769,"body_markdown":"fwiw, same wrapper bug when using start.spring.io via `IntelliJ Spring Initializr`.  Related:  https://youtrack.jetbrains.com/issue/IDEA-246851/Allow-to-disable-Maven-wrapper-support","body":"fwiw, same wrapper bug when using start.spring.io via <code>IntelliJ Spring Initializr</code>.  Related:  <a href=\"https://youtrack.jetbrains.com/issue/IDEA-246851/Allow-to-disable-Maven-wrapper-support\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/IDEA-246851/&hellip;</a>"},{"owner":{"account_id":1352612,"reputation":4119,"user_id":1357094,"accept_rate":85,"display_name":"cellepo"},"score":0,"creation_date":1680804663,"post_id":70993809,"comment_id":133963603,"body_markdown":"Yeah looks like also deleting `&lt;project root&gt;/.mvn` was fine as well, in addition to the other artifacts questioned by OP.","body":"Yeah looks like also deleting <code>&lt;project root&gt;&#47;.mvn</code> was fine as well, in addition to the other artifacts questioned by OP."}],"answers":[{"tags":[],"owner":{"account_id":1352612,"reputation":4119,"user_id":1357094,"accept_rate":85,"display_name":"cellepo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680804905,"creation_date":1680804905,"answer_id":75952569,"question_id":70993809,"body_markdown":"Given the comment thread above on the Question itself here by this point..\r\nI&#39;m going to go ahead and throw an initial official Answer out here that:\r\n\r\n**Yes**, those `mvnw` files can be safely deleted; as well as `&lt;project root&gt;/.mvn` directory. (of course, assuming that you don&#39;t want/need mvnw features)\r\n\r\nI have successfully myself tested deleting them all, in a Spring Boot app built with Maven.","title":"Can I safely delete the mvnw and mvnw.cmd files?","body":"<p>Given the comment thread above on the Question itself here by this point..\nI'm going to go ahead and throw an initial official Answer out here that:</p>\n<p><strong>Yes</strong>, those <code>mvnw</code> files can be safely deleted; as well as <code>&lt;project root&gt;/.mvn</code> directory. (of course, assuming that you don't want/need mvnw features)</p>\n<p>I have successfully myself tested deleting them all, in a Spring Boot app built with Maven.</p>\n"}],"owner":{"account_id":3978849,"reputation":9293,"user_id":3281336,"accept_rate":60,"display_name":"PatS"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":977,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":1,"score":7,"last_activity_date":1680805039,"creation_date":1644015939,"question_id":70993809,"body_markdown":"I used the Spring Initializr website https://start.spring.io/ to create a spring boot program, and I wanted to delete the `mvnw`, `mvnw.cmd`, and `.mvnw` directory. \r\n\r\n**Is there any reason to keep these files maven wrapper files around?**\r\n\r\nI read https://stackoverflow.com/questions/38723833/what-is-the-purpose-of-mvnw-and-mvnw-cmd-files and see that if I didn&#39;t have maven installed it would download maven and use that downloaded code to compile my java code.  \r\n\r\n**If I delete them does that cause problems for someone else on the team?**\r\n\r\n*I&#39;ve always deleted them and it&#39;s never caused a problem that I&#39;m aware of, but maybe it&#39;s because the team members all have maven installed*\r\n\r\n*It seems like  `mvnw` similar to the `npx` command in Javascript but only for the one mvn command.*\r\n\r\nHaving Java and Maven installed seems (to me) to be a prerequisite to writing Java code, so I&#39;m baffled as to what problem the Spring Team was solving when then decided to add this feature.  If anyone knows the use case or reason that this was done, please share it.\r\n\r\nEvery couple of years I revisit this question and figured I&#39;d ask it and have the answer in SO for future reference.\r\n","title":"Can I safely delete the mvnw and mvnw.cmd files?","body":"<p>I used the Spring Initializr website <a href=\"https://start.spring.io/\" rel=\"noreferrer\">https://start.spring.io/</a> to create a spring boot program, and I wanted to delete the <code>mvnw</code>, <code>mvnw.cmd</code>, and <code>.mvnw</code> directory.</p>\n<p><strong>Is there any reason to keep these files maven wrapper files around?</strong></p>\n<p>I read <a href=\"https://stackoverflow.com/questions/38723833/what-is-the-purpose-of-mvnw-and-mvnw-cmd-files\">What is the purpose of mvnw and mvnw.cmd files?</a> and see that if I didn't have maven installed it would download maven and use that downloaded code to compile my java code.</p>\n<p><strong>If I delete them does that cause problems for someone else on the team?</strong></p>\n<p><em>I've always deleted them and it's never caused a problem that I'm aware of, but maybe it's because the team members all have maven installed</em></p>\n<p><em>It seems like  <code>mvnw</code> similar to the <code>npx</code> command in Javascript but only for the one mvn command.</em></p>\n<p>Having Java and Maven installed seems (to me) to be a prerequisite to writing Java code, so I'm baffled as to what problem the Spring Team was solving when then decided to add this feature.  If anyone knows the use case or reason that this was done, please share it.</p>\n<p>Every couple of years I revisit this question and figured I'd ask it and have the answer in SO for future reference.</p>\n"},{"tags":["java","apache-beam","apache-beam-io"],"comments":[{"owner":{"account_id":14821814,"reputation":1213,"user_id":10703868,"display_name":"Peter Boone"},"score":0,"creation_date":1680847530,"post_id":75944237,"comment_id":133969061,"body_markdown":"What are the performance issues? One reason we switched to DIRECT_READ was that we were hitting the ExtractBytesPerDay quota.","body":"What are the performance issues? One reason we switched to DIRECT_READ was that we were hitting the ExtractBytesPerDay quota."},{"owner":{"account_id":7266237,"reputation":154,"user_id":5540820,"display_name":"Frank Pinto"},"score":0,"creation_date":1680871709,"post_id":75944237,"comment_id":133973094,"body_markdown":"We were seeing 200k record read take 20-25 mins. In Spark it would be done in 2-3 mins. At this point I tried that, and also moving away from TableRow format but it&#39;s still too slow","body":"We were seeing 200k record read take 20-25 mins. In Spark it would be done in 2-3 mins. At this point I tried that, and also moving away from TableRow format but it&#39;s still too slow"}],"owner":{"account_id":7266237,"reputation":154,"user_id":5540820,"display_name":"Frank Pinto"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680804554,"creation_date":1680731485,"question_id":75944237,"body_markdown":"I&#39;m running into some performance issues in the Apache Beam pipeline I&#39;m building when I try to read from BigQuery using the typical BigQueryIO library. Reading through [this][1] docs, I&#39;ve noticed that it offers two different ways of reading from BQ: the EXPORT and DIRECT_READ method. However, it doesnt indicate the benefits of one over the other, so I wanted to see if there are any associated to choosing DIRECT_READ over the default EXPORT.\r\n\r\n\r\n  [1]: https://beam.apache.org/documentation/io/built-in/google-bigquery/#storage-api","title":"Difference between using the DIRECT_READ and EXPORT in Apache Beam&#39;s BigQueryIO","body":"<p>I'm running into some performance issues in the Apache Beam pipeline I'm building when I try to read from BigQuery using the typical BigQueryIO library. Reading through <a href=\"https://beam.apache.org/documentation/io/built-in/google-bigquery/#storage-api\" rel=\"nofollow noreferrer\">this</a> docs, I've noticed that it offers two different ways of reading from BQ: the EXPORT and DIRECT_READ method. However, it doesnt indicate the benefits of one over the other, so I wanted to see if there are any associated to choosing DIRECT_READ over the default EXPORT.</p>\n"},{"tags":["java","iterator"],"comments":[{"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"score":5,"creation_date":1680803908,"post_id":75952417,"comment_id":133963457,"body_markdown":"What makes you think using it, or how it works, is any different when passed as a parameter?","body":"What makes you think using it, or how it works, is any different when passed as a parameter?"}],"answers":[{"tags":[],"owner":{"account_id":12863154,"reputation":402,"user_id":9304291,"display_name":"Marek Borecki"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680804408,"creation_date":1680804408,"answer_id":75952500,"question_id":75952417,"body_markdown":"You can pass Iterator exactly as you wrote\r\n\r\n    private static void method(Iterator&lt;String&gt; iterator) {\r\n        iterator.hasNext();\r\n\r\n        iterator.next();\r\n\r\n        iterator.forEachRemaining(System.out::println);\r\n\r\n    }\r\n\r\nYou can check if there is next element with hasNext(), you can take next element with next(). Or you can iterate throught elements what left in collection.\r\n\r\nfor example if you create list with 5 elements and then invoke next() two times\r\n\r\nforEachRemaining() will use 3 elements what left.\r\n\r\nforEachRemaining accept Consumer so this is something like bellow\r\n\r\n    System.out::prinln\r\n\r\nor equivalent\r\n\r\n    x -&gt; System.out.println(x)\r\n\r\nConsume is an instruction how to use an argument\r\n\r\n\r\n\r\nAs example of usage you can use iterator to go throught csv file.\r\nYou can read first line as header and then parse rest lines into objects","title":"How to pass iterator to method as parameter and how it works ?? any example in java","body":"<p>You can pass Iterator exactly as you wrote</p>\n<pre><code>private static void method(Iterator&lt;String&gt; iterator) {\n    iterator.hasNext();\n\n    iterator.next();\n\n    iterator.forEachRemaining(System.out::println);\n\n}\n</code></pre>\n<p>You can check if there is next element with hasNext(), you can take next element with next(). Or you can iterate throught elements what left in collection.</p>\n<p>for example if you create list with 5 elements and then invoke next() two times</p>\n<p>forEachRemaining() will use 3 elements what left.</p>\n<p>forEachRemaining accept Consumer so this is something like bellow</p>\n<pre><code>System.out::prinln\n</code></pre>\n<p>or equivalent</p>\n<pre><code>x -&gt; System.out.println(x)\n</code></pre>\n<p>Consume is an instruction how to use an argument</p>\n<p>As example of usage you can use iterator to go throught csv file.\nYou can read first line as header and then parse rest lines into objects</p>\n"}],"owner":{"account_id":26569762,"reputation":1,"user_id":20196157,"display_name":"Raj Kumar Barman"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":149,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1680804408,"creation_date":1680803693,"question_id":75952417,"body_markdown":"How to pass iterator to method as parameter and how it works ?? any example .\r\nwhere callee would look like this :\r\n```\r\nvoid someMethod(Iterator&lt;String&gt; data) {     \r\n\r\n}\r\n```\r\nhow we can use this &quot;data&quot; object ... Any example\r\n\r\nneed example to understand how iterator works when passed as parameter to a method.","title":"How to pass iterator to method as parameter and how it works ?? any example in java","body":"<p>How to pass iterator to method as parameter and how it works ?? any example .\nwhere callee would look like this :</p>\n<pre><code>void someMethod(Iterator&lt;String&gt; data) {     \n\n}\n</code></pre>\n<p>how we can use this &quot;data&quot; object ... Any example</p>\n<p>need example to understand how iterator works when passed as parameter to a method.</p>\n"},{"tags":["java","spring","mongodb","spring-boot","spring-data-mongodb"],"owner":{"account_id":26231695,"reputation":23,"user_id":19907511,"display_name":"Moko Doko"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680804251,"creation_date":1680752515,"question_id":75945630,"body_markdown":"I try to upgrade Spring Boot app to 2.7.10 and it includes changing of mongo-java-driver to mongodb-driver-sync. Now parsing of private fields ends with `java.lang.IllegalStateException Cannot set property id because no setter, no wither and it&#39;s not part of the persistence constructor public`. Is there a way to reconfigure something to fix that without making fields public?","title":"MongoTemplate can&#39;t access private fields","body":"<p>I try to upgrade Spring Boot app to 2.7.10 and it includes changing of mongo-java-driver to mongodb-driver-sync. Now parsing of private fields ends with <code>java.lang.IllegalStateException Cannot set property id because no setter, no wither and it's not part of the persistence constructor public</code>. Is there a way to reconfigure something to fix that without making fields public?</p>\n"},{"tags":["java","http","netty"],"owner":{"account_id":21843526,"reputation":35,"user_id":16136741,"display_name":"FlafyKing"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680804152,"creation_date":1680804152,"question_id":75952476,"body_markdown":"Im creating an HTTP server using Netty. I have a NioEventLoopGroup that creates about 25 threads when many requests are coming but when server is unused, threads do not expire. They just keep on existing and the heap is piling up. \r\n\r\nI want threads to expire after a few seconds of being not used. Any help would be higly appriciated.\r\n\r\n**HttpServer.java**\r\n\r\n```\r\nimport mypackage.config.HttpServerInitializer;\r\nimport io.netty.bootstrap.ServerBootstrap;\r\nimport io.netty.channel.ChannelFuture;\r\nimport io.netty.channel.nio.NioEventLoopGroup;\r\nimport io.netty.channel.socket.nio.NioServerSocketChannel;\r\n\r\nimport java.util.concurrent.TimeUnit;\r\n\r\npublic class HttpServer\r\n{\r\n    public static void main( String[] args ) throws Exception\r\n    {\r\n        ServerBootstrap serverBootstrap = new ServerBootstrap();\r\n        NioEventLoopGroup bossGroup = new NioEventLoopGroup();\r\n        NioEventLoopGroup workerGroup = new NioEventLoopGroup();\r\n        System.out.println(&quot;Server starting...&quot;);\r\n        try {\r\n            serverBootstrap.group(bossGroup, workerGroup)\r\n                    .channel(NioServerSocketChannel.class)\r\n                    .childHandler(new HttpServerInitializer());\r\n            ChannelFuture channelFuture = serverBootstrap.bind(8080).sync();\r\n            channelFuture.channel().closeFuture().sync();\r\n        } finally {\r\n            workerGroup.shutdownGracefully(5, 10, TimeUnit.SECONDS);\r\n            bossGroup.shutdownGracefully(5, 10, TimeUnit.SECONDS);\r\n            System.out.println(&quot;Server stopped.&quot;);\r\n        }\r\n    }\r\n} \r\n```\r\n\r\n**ServerInitializer.java**\r\n\r\n```\r\npackage ingkonkurs.config;\r\n\r\nimport io.netty.channel.ChannelHandlerContext;\r\nimport io.netty.channel.ChannelInitializer;\r\nimport io.netty.channel.ChannelPipeline;\r\nimport io.netty.channel.socket.SocketChannel;\r\nimport io.netty.handler.codec.http.HttpObjectAggregator;\r\nimport io.netty.handler.codec.http.HttpServerCodec;\r\nimport io.netty.handler.timeout.IdleStateHandler;\r\n\r\nimport java.util.concurrent.TimeUnit;\r\n\r\npublic class HttpServerInitializer extends ChannelInitializer&lt;SocketChannel&gt; {\r\n    int maxRequestSize = 10 * 1024 * 1024;\r\n\r\n    @Override\r\n    public void initChannel(SocketChannel ch) throws Exception {\r\n        ChannelPipeline pipeline = ch.pipeline();\r\n\r\n        // Add HTTP server codec, which includes a decoder and an encoder\r\n        pipeline.addLast(new HttpServerCodec());\r\n\r\n        // Add HTTP object aggregator, which aggregates multiple messages into one FullHttpRequest or FullHttpResponse\r\n        pipeline.addLast(new HttpObjectAggregator(maxRequestSize));\r\n\r\n        // Add your custom handler to handle incoming HTTP requests\r\n        pipeline.addLast(new CustomHttpServerHandler());\r\n\r\n        // Keep idle connections for 10 seconds\r\n        pipeline.addLast(new IdleStateHandler(10, 0, 0, TimeUnit.SECONDS));\r\n\r\n    }\r\n\r\n    @Override\r\n    public void exceptionCaught(ChannelHandlerContext ctx, Throwable cause) throws Exception {\r\n        cause.printStackTrace();\r\n        ctx.close();\r\n    }\r\n}\r\n\r\n```\r\n\r\n**CustomHttpServerHandler.java**\r\n\r\n```\r\npackage ingkonkurs.config;\r\n\r\nimport io.netty.buffer.Unpooled;\r\nimport io.netty.channel.ChannelHandlerContext;\r\nimport io.netty.channel.SimpleChannelInboundHandler;\r\nimport io.netty.handler.codec.http.*;\r\n\r\nimport static io.netty.handler.codec.http.HttpHeaderNames.*;\r\nimport static io.netty.handler.codec.http.HttpResponseStatus.OK;\r\nimport static io.netty.handler.codec.http.HttpVersion.HTTP_1_1;\r\n\r\npublic class CustomHttpServerHandler extends SimpleChannelInboundHandler&lt;FullHttpRequest&gt; {\r\n\r\n    @Override\r\n    protected void channelRead0(ChannelHandlerContext ctx, FullHttpRequest request) throws Exception {\r\n        // Handle incoming HTTP request\r\n            if (request.method() == HttpMethod.POST &amp;&amp; &quot;/endpoint&quot;.equals(request.uri())) {\r\n                System.out.println(&quot;Got a request&quot;);\r\n                String message = &quot;Hello world&quot;;\r\n                FullHttpResponse response = new DefaultFullHttpResponse(HTTP_1_1, OK, Unpooled.wrappedBuffer(message.getBytes()));\r\n                response.headers().set(CONTENT_TYPE, &quot;text/plain&quot;);\r\n                response.headers().set(CONTENT_LENGTH, response.content().readableBytes());\r\n                ctx.writeAndFlush(response);\r\n            } else {\r\n                // Send an HTTP 404 response for any other requests\r\n                FullHttpResponse response = new DefaultFullHttpResponse(HttpVersion.HTTP_1_1, HttpResponseStatus.NOT_FOUND);\r\n                ctx.writeAndFlush(response);\r\n            }\r\n    }\r\n\r\n    @Override\r\n    public void exceptionCaught(ChannelHandlerContext ctx, Throwable cause) throws Exception {\r\n        cause.printStackTrace();\r\n        ctx.close();\r\n    }\r\n\r\n}\r\n```","title":"Unused Netty threads not expiring","body":"<p>Im creating an HTTP server using Netty. I have a NioEventLoopGroup that creates about 25 threads when many requests are coming but when server is unused, threads do not expire. They just keep on existing and the heap is piling up.</p>\n<p>I want threads to expire after a few seconds of being not used. Any help would be higly appriciated.</p>\n<p><strong>HttpServer.java</strong></p>\n<pre><code>import mypackage.config.HttpServerInitializer;\nimport io.netty.bootstrap.ServerBootstrap;\nimport io.netty.channel.ChannelFuture;\nimport io.netty.channel.nio.NioEventLoopGroup;\nimport io.netty.channel.socket.nio.NioServerSocketChannel;\n\nimport java.util.concurrent.TimeUnit;\n\npublic class HttpServer\n{\n    public static void main( String[] args ) throws Exception\n    {\n        ServerBootstrap serverBootstrap = new ServerBootstrap();\n        NioEventLoopGroup bossGroup = new NioEventLoopGroup();\n        NioEventLoopGroup workerGroup = new NioEventLoopGroup();\n        System.out.println(&quot;Server starting...&quot;);\n        try {\n            serverBootstrap.group(bossGroup, workerGroup)\n                    .channel(NioServerSocketChannel.class)\n                    .childHandler(new HttpServerInitializer());\n            ChannelFuture channelFuture = serverBootstrap.bind(8080).sync();\n            channelFuture.channel().closeFuture().sync();\n        } finally {\n            workerGroup.shutdownGracefully(5, 10, TimeUnit.SECONDS);\n            bossGroup.shutdownGracefully(5, 10, TimeUnit.SECONDS);\n            System.out.println(&quot;Server stopped.&quot;);\n        }\n    }\n} \n</code></pre>\n<p><strong>ServerInitializer.java</strong></p>\n<pre><code>package ingkonkurs.config;\n\nimport io.netty.channel.ChannelHandlerContext;\nimport io.netty.channel.ChannelInitializer;\nimport io.netty.channel.ChannelPipeline;\nimport io.netty.channel.socket.SocketChannel;\nimport io.netty.handler.codec.http.HttpObjectAggregator;\nimport io.netty.handler.codec.http.HttpServerCodec;\nimport io.netty.handler.timeout.IdleStateHandler;\n\nimport java.util.concurrent.TimeUnit;\n\npublic class HttpServerInitializer extends ChannelInitializer&lt;SocketChannel&gt; {\n    int maxRequestSize = 10 * 1024 * 1024;\n\n    @Override\n    public void initChannel(SocketChannel ch) throws Exception {\n        ChannelPipeline pipeline = ch.pipeline();\n\n        // Add HTTP server codec, which includes a decoder and an encoder\n        pipeline.addLast(new HttpServerCodec());\n\n        // Add HTTP object aggregator, which aggregates multiple messages into one FullHttpRequest or FullHttpResponse\n        pipeline.addLast(new HttpObjectAggregator(maxRequestSize));\n\n        // Add your custom handler to handle incoming HTTP requests\n        pipeline.addLast(new CustomHttpServerHandler());\n\n        // Keep idle connections for 10 seconds\n        pipeline.addLast(new IdleStateHandler(10, 0, 0, TimeUnit.SECONDS));\n\n    }\n\n    @Override\n    public void exceptionCaught(ChannelHandlerContext ctx, Throwable cause) throws Exception {\n        cause.printStackTrace();\n        ctx.close();\n    }\n}\n\n</code></pre>\n<p><strong>CustomHttpServerHandler.java</strong></p>\n<pre><code>package ingkonkurs.config;\n\nimport io.netty.buffer.Unpooled;\nimport io.netty.channel.ChannelHandlerContext;\nimport io.netty.channel.SimpleChannelInboundHandler;\nimport io.netty.handler.codec.http.*;\n\nimport static io.netty.handler.codec.http.HttpHeaderNames.*;\nimport static io.netty.handler.codec.http.HttpResponseStatus.OK;\nimport static io.netty.handler.codec.http.HttpVersion.HTTP_1_1;\n\npublic class CustomHttpServerHandler extends SimpleChannelInboundHandler&lt;FullHttpRequest&gt; {\n\n    @Override\n    protected void channelRead0(ChannelHandlerContext ctx, FullHttpRequest request) throws Exception {\n        // Handle incoming HTTP request\n            if (request.method() == HttpMethod.POST &amp;&amp; &quot;/endpoint&quot;.equals(request.uri())) {\n                System.out.println(&quot;Got a request&quot;);\n                String message = &quot;Hello world&quot;;\n                FullHttpResponse response = new DefaultFullHttpResponse(HTTP_1_1, OK, Unpooled.wrappedBuffer(message.getBytes()));\n                response.headers().set(CONTENT_TYPE, &quot;text/plain&quot;);\n                response.headers().set(CONTENT_LENGTH, response.content().readableBytes());\n                ctx.writeAndFlush(response);\n            } else {\n                // Send an HTTP 404 response for any other requests\n                FullHttpResponse response = new DefaultFullHttpResponse(HttpVersion.HTTP_1_1, HttpResponseStatus.NOT_FOUND);\n                ctx.writeAndFlush(response);\n            }\n    }\n\n    @Override\n    public void exceptionCaught(ChannelHandlerContext ctx, Throwable cause) throws Exception {\n        cause.printStackTrace();\n        ctx.close();\n    }\n\n}\n</code></pre>\n"},{"tags":["java","android","shared-libraries","eigenvalue","jama"],"comments":[{"owner":{"account_id":1111280,"reputation":6531,"user_id":1101692,"accept_rate":89,"display_name":"Shark"},"score":0,"creation_date":1351707482,"post_id":13164228,"comment_id":17911824,"body_markdown":"Post code lest you want to be ridiculed. No, seriously, post code please and form up your question.","body":"Post code lest you want to be ridiculed. No, seriously, post code please and form up your question."},{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":0,"creation_date":1351707553,"post_id":13164228,"comment_id":17911857,"body_markdown":"What makes you think that float calculations would be faster than double calculations? Your second question is difficult to understand.","body":"What makes you think that float calculations would be faster than double calculations? Your second question is difficult to understand."},{"owner":{"account_id":1983010,"reputation":33,"user_id":1779116,"display_name":"Luke Numerati"},"score":0,"creation_date":1351707750,"post_id":13164228,"comment_id":17911944,"body_markdown":"becous the few methods witch i compute before are in float...and in double it takes too seconds- time so i can convert float to double or, re  write my other methods to float precisions..","body":"becous the few methods witch i compute before are in float...and in double it takes too seconds- time so i can convert float to double or, re  write my other methods to float precisions.."},{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":0,"creation_date":1351707792,"post_id":13164228,"comment_id":17911965,"body_markdown":"float to double conversions will take a minimal amount of time vs. eigenvalue calculation.","body":"float to double conversions will take a minimal amount of time vs. eigenvalue calculation."},{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":0,"creation_date":1351708320,"post_id":13164228,"comment_id":17913109,"body_markdown":"See for example: http://stackoverflow.com/questions/4584637/double-or-float-which-is-faster","body":"See for example: <a href=\"http://stackoverflow.com/questions/4584637/double-or-float-which-is-faster\" title=\"double or float which is faster\">stackoverflow.com/questions/4584637/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1111280,"reputation":6531,"user_id":1101692,"accept_rate":89,"display_name":"Shark"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1351707626,"creation_date":1351707626,"answer_id":13164278,"question_id":13164228,"body_markdown":"Or are you looking for something like this? \r\n   \r\n         import java.util.Arrays;\r\n\r\n    public class Matrix {\r\n\r\n\tprotected int rows;\r\n\r\n\tprotected int cols;\r\n\r\n\tdouble[][] values;\r\n\r\n\tpublic Matrix(int rows, int cols) {\r\n\t\tthis.rows = rows;\r\n\t\tthis.cols = cols;\r\n\r\n\t\tvalues = new double[rows][cols];\r\n\r\n\t\tfor (int i = 0; i &lt; rows; i++)\r\n\t\t\tfor (int j = 0; j &lt; cols; j++)\r\n\t\t\t\tvalues[i][j] = 0;\r\n\r\n\t}\r\n\r\n\tpublic Matrix(int[][] M) {\r\n\t\tthis.rows = M.length;\r\n\t\tthis.cols = M[0].length;\r\n\r\n\t\tvalues = new double[rows][cols];\r\n\r\n\t\tfor (int i = 0; i &lt; rows; i++)\r\n\t\t\tfor (int j = 0; j &lt; cols; j++)\r\n\t\t\t\tvalues[i][j] = M[i][j];\r\n\t}\r\n\r\n\tpublic Matrix(double[][] M) {\r\n\t\tthis.rows = M.length;\r\n\t\tthis.cols = M[0].length;\r\n\r\n\t\tvalues = new double[rows][cols];\r\n\r\n\t\tfor (int i = 0; i &lt; rows; i++)\r\n\t\t\tfor (int j = 0; j &lt; cols; j++)\r\n\t\t\t\tvalues[i][j] = M[i][j];\r\n\t}\r\n\r\n\tpublic void setToEye() {\r\n\t\tfor (int i = 0; i &lt; rows; i++)\r\n\t\t\tfor (int j = 0; j &lt; cols; j++)\r\n\t\t\t\tvalues[i][j] = (i == j) ? 1 : 0;\r\n\r\n\t}\r\n\r\n\tpublic static int[] matrixSize(Matrix M) {\r\n\t\tint[] size = new int[2];\r\n\t\tsize[0] = M.rows;\r\n\t\tsize[1] = M.cols;\r\n\t\treturn size;\r\n\t}\r\n\r\n\tpublic static double vectMul(double[] A, double[] B) {\r\n\t\tdouble suma = 0;\r\n\t\tfor (int i = 0; i &lt; A.length; i++)\r\n\t\t\tsuma += A[i] * B[i];\r\n\r\n\t\treturn suma;\r\n\t}\r\n\r\n\tpublic static Matrix matrixTranspose(Matrix M) {\r\n\t\tint[] size = matrixSize(M);\r\n\t\tdouble[][] Mt = new double[size[0]][size[1]];\r\n\r\n\t\tfor (int i = 0; i &lt; size[0]; i++)\r\n\t\t\tfor (int j = 0; j &lt; size[1]; j++)\r\n\t\t\t\tMt[i][j] = M.getValue(j, i);\r\n\r\n\t\treturn new Matrix(Mt);\r\n\t}\r\n\r\n\tpublic static Matrix matrixMul(Matrix A, Matrix B) {\r\n\t\tint m1 = matrixSize(A)[0];\r\n\t\tint n1 = matrixSize(A)[1];\r\n\t\tint m2 = matrixSize(B)[0];\r\n\t\tint n2 = matrixSize(B)[1];\r\n\t\tdouble[][] rez;\r\n\r\n\t\tif (n1 != m2) {\r\n\t\t\tSystem.err.println(&quot;Inner matrix dimensions must agree!&quot;);\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\trez = new double[m1][n2];\r\n\t\tfor (int i = 0; i &lt; m1; i++)\r\n\t\t\tfor (int j = 0; j &lt; n2; j++)\r\n\t\t\t\trez[i][j] = vectMul(A.getRow(i), B.getColumn(j));\r\n\r\n\t\tMatrix r = new Matrix(rez);\r\n\t\treturn r;\r\n\t}\r\n\r\n\tpublic static Matrix matrixMulWithMod(Matrix A, Matrix B, double mod) {\r\n\t\tint m1 = matrixSize(A)[0];\r\n\t\tint n1 = matrixSize(A)[1];\r\n\t\tint m2 = matrixSize(B)[0];\r\n\t\tint n2 = matrixSize(B)[1];\r\n\t\tdouble[][] rez;\r\n\r\n\t\tif (n1 != m2) {\r\n\t\t\tSystem.err.println(&quot;Inner matrix dimensions must agree!&quot;);\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\trez = new double[m1][n2];\r\n\t\tfor (int i = 0; i &lt; m1; i++)\r\n\t\t\tfor (int j = 0; j &lt; n2; j++)\r\n\t\t\t\trez[i][j] = vectMul(A.getRow(i), B.getColumn(j)) % mod;\r\n\r\n\t\tMatrix r = new Matrix(rez);\r\n\t\treturn r;\r\n\t}\r\n\r\n\tpublic String toString() {\r\n\t\tStringBuilder sb = new StringBuilder();\r\n\t\tfor (int i = 0; i &lt; this.rows; i++) {\r\n\t\t\tsb.append(Arrays.toString(values[i]));\r\n\t\t\tsb.append(&#39;\\n&#39;);\r\n\t\t}\r\n\r\n\t\tString str = sb.toString();\r\n\t\treturn str;\r\n\t}\r\n\r\n\tpublic double[][] getValues() {\r\n\t\treturn values;\r\n\t}\r\n\r\n\tpublic void setValues(double[][] values) {\r\n\t\tthis.values = values;\r\n\t}\r\n\r\n\tpublic void setValues(int[][] values) {\r\n\t\tfor (int i = 0; i &lt; rows; i++)\r\n\t\t\tfor (int j = 0; j &lt; cols; j++)\r\n\t\t\t\tthis.values[i][j] = (double) values[i][j];\r\n\t}\r\n\r\n\tpublic double getValue(int row, int col) {\r\n\t\treturn values[row][col];\r\n\t}\r\n\r\n\tpublic void setValue(int row, int col, double value) {\r\n\t\tvalues[row][col] = value;\r\n\t}\r\n\r\n\tpublic double[] getRow(int row) {\r\n\t\tdouble[] temp = new double[cols];\r\n\t\tfor (int i = 0; i &lt; temp.length; i++)\r\n\t\t\ttemp[i] = values[row][i];\r\n\t\treturn temp;\r\n\r\n\t}\r\n\r\n\tpublic double[] getColumn(int col) {\r\n\t\tdouble[] temp = new double[rows];\r\n\t\tfor (int i = 0; i &lt; temp.length; i++)\r\n\t\t\ttemp[i] = values[i][col];\r\n\t\treturn temp;\r\n\t}\r\n\r\n\tpublic double[] toDoubleArray() {\r\n\t\tdouble[] temp = new double[rows * cols];\r\n\t\tfor (int i = 0; i &lt; rows; i++)\r\n\t\t\tfor (int j = 0; j &lt; cols; j++)\r\n\t\t\t\ttemp[i * (rows + 1) + j] = values[i][j];\r\n\t\treturn temp;\r\n\t}\r\n\r\n\tpublic int[] toIntArray() {\r\n\t\tint[] temp = new int[rows * cols];\r\n\t\tfor (int i = 0; i &lt; rows; i++)\r\n\t\t\tfor (int j = 0; j &lt; cols; j++)\r\n\t\t\t\ttemp[i * (rows + 1) + j] = (int) values[i][j];\r\n\t\treturn temp;\r\n\t}\r\n\r\n\tpublic int getRowCount() {\r\n\t\treturn this.rows;\r\n\t}\r\n\r\n\tpublic int getColumnsCount() {\r\n\t\treturn this.cols;\r\n\t}\r\n\r\n\tpublic static double getMatrixDet(Matrix M) {\r\n\t\tint m = M.getRowCount();\r\n\t\tint n = M.getColumnsCount();\r\n\r\n\t\tdouble D = 0;\r\n\r\n\t\tif (m != n) {\r\n\t\t\tSystem.err.println(&quot;Matrix must be square!&quot;);\r\n\t\t\tSystem.exit(0);\r\n\t\t}\r\n\r\n\t\tif (n &gt; 1) {\r\n\t\t\tMatrix I = new Matrix(m - 1, n - 1);\r\n\r\n\t\t\tfor (int i = 1; i &lt; m; i++)\r\n\t\t\t\tfor (int j = 1; j &lt; n; j++)\r\n\t\t\t\t\tI.setValue(i - 1, j - 1, M.getValue(i, j));\r\n\r\n\t\t\tD = M.getValue(0, 0) * getMatrixDet(I);\r\n\t\t} else\r\n\t\t\tD = M.getValue(0, 0);\r\n\r\n\t\t// za niz , kopira iz niza a elemente 0:i-1 i+1:n sredi za matrcu \r\n\t\tMatrix I = new Matrix(m - 1, n - 1);\r\n\t\tfor (int i = 1; i &lt; n; i++) {\r\n\t\t\tI = M.withoutIthRowAndJthCol(i, 0);\r\n\t\t\tD = D + Math.pow((-1), i) * M.getValue(i, 0) * getMatrixDet(I);\r\n\t\t}\r\n\t\treturn D;\r\n\r\n\t}\r\n\r\n\tpublic Matrix transpose() {\r\n\t\tMatrix temp = new Matrix(this.values);\r\n\r\n\t\tfor (int i = 0; i &lt; this.rows; i++)\r\n\t\t\tfor (int j = 0; j &lt; this.cols; j++)\r\n\t\t\t\tthis.values[i][j] = temp.getValue(j, i);\r\n\r\n\t\treturn this;\r\n\t}\r\n\r\n\tprivate Matrix withoutIthRowAndJthCol(int row, int col) {\r\n\t\tMatrix temp = new Matrix(this.rows - 1, this.cols - 1);\r\n\t\tint k = 0, l = 0;\r\n\t\tfor (int i = 0; i &lt; this.getRowCount(); i++) {\r\n\t\t\tif (i == row)\r\n\t\t\t\tcontinue;\r\n\t\t\tfor (int j = 0; j &lt; this.getColumnsCount(); j++) {\r\n\t\t\t\tif (j == col)\r\n\t\t\t\t\tcontinue;\r\n\r\n\t\t\t\ttemp.setValue(k, l, this.values[i][j]);\r\n\t\t\t\tl++;\r\n\t\t\t}\r\n\t\t\tl %= 2;\r\n\t\t\tk++;\r\n\t\t}\r\n\t\treturn temp;\r\n\t}\r\n\r\n\tpublic static Matrix getMatrixAdj(Matrix M) {\r\n\t\tint m = M.getRowCount();\r\n\t\tint n = M.getColumnsCount();\r\n\r\n\t\tMatrix A = new Matrix(m, n);\r\n\r\n\t\tif (m != n) {\r\n\t\t\tSystem.err.println(&quot;Matrix must be square!&quot;);\r\n\t\t\tSystem.exit(0);\r\n\t\t}\r\n\r\n\t\tfor (int i = 0; i &lt; m; i++)\r\n\t\t\tfor (int j = 0; j &lt; n; j++) {\r\n\t\t\t\tA.setValue(i, j, Math.pow((-1), i + j)\r\n\t\t\t\t\t\t* getMatrixDet(M.withoutIthRowAndJthCol(i, j)));\r\n\t\t\t}\r\n\t\tA.transpose();\r\n\t\treturn A;\r\n\t}\r\n\r\n\tpublic static Matrix matrixDiv(Matrix M, double n) {\r\n\t\tMatrix temp = M;\r\n\r\n\t\tfor (int i = 0; i &lt; M.getRowCount(); i++)\r\n\t\t\tfor (int j = 0; j &lt; M.getColumnsCount(); j++)\r\n\t\t\t\ttemp.setValue(i, j, (M.getValue(i, j) / n));\r\n\r\n\t\treturn temp;\r\n\t}\r\n\r\n\tpublic static Matrix getMatrixInv(Matrix M) {\r\n\t\tMatrix I = new Matrix(M.getRowCount(), M.getColumnsCount());\r\n\r\n\t\tif (M.getRowCount() != M.getColumnsCount()) {\r\n\t\t\tSystem.err.println(&quot;Matrix must be square!&quot;);\r\n\t\t\tSystem.exit(0);\r\n\t\t}\r\n\t\tif (getMatrixDet(M) == 0) {\r\n\t\t\tSystem.err.println(&quot;Matrix is singular!&quot;);\r\n\t\t\tSystem.exit(0);\r\n\t\t}\r\n\t\tI = matrixDiv(getMatrixAdj(M), getMatrixDet(M));\r\n\t\treturn I;\r\n\t}\r\n    }\r\n\r\n\r\nif this is what you wanted, you&#39;re welcome.","title":"Java library eigenvalues float numbers","body":"<p>Or are you looking for something like this? </p>\n\n<pre><code>     import java.util.Arrays;\n\npublic class Matrix {\n\nprotected int rows;\n\nprotected int cols;\n\ndouble[][] values;\n\npublic Matrix(int rows, int cols) {\n    this.rows = rows;\n    this.cols = cols;\n\n    values = new double[rows][cols];\n\n    for (int i = 0; i &lt; rows; i++)\n        for (int j = 0; j &lt; cols; j++)\n            values[i][j] = 0;\n\n}\n\npublic Matrix(int[][] M) {\n    this.rows = M.length;\n    this.cols = M[0].length;\n\n    values = new double[rows][cols];\n\n    for (int i = 0; i &lt; rows; i++)\n        for (int j = 0; j &lt; cols; j++)\n            values[i][j] = M[i][j];\n}\n\npublic Matrix(double[][] M) {\n    this.rows = M.length;\n    this.cols = M[0].length;\n\n    values = new double[rows][cols];\n\n    for (int i = 0; i &lt; rows; i++)\n        for (int j = 0; j &lt; cols; j++)\n            values[i][j] = M[i][j];\n}\n\npublic void setToEye() {\n    for (int i = 0; i &lt; rows; i++)\n        for (int j = 0; j &lt; cols; j++)\n            values[i][j] = (i == j) ? 1 : 0;\n\n}\n\npublic static int[] matrixSize(Matrix M) {\n    int[] size = new int[2];\n    size[0] = M.rows;\n    size[1] = M.cols;\n    return size;\n}\n\npublic static double vectMul(double[] A, double[] B) {\n    double suma = 0;\n    for (int i = 0; i &lt; A.length; i++)\n        suma += A[i] * B[i];\n\n    return suma;\n}\n\npublic static Matrix matrixTranspose(Matrix M) {\n    int[] size = matrixSize(M);\n    double[][] Mt = new double[size[0]][size[1]];\n\n    for (int i = 0; i &lt; size[0]; i++)\n        for (int j = 0; j &lt; size[1]; j++)\n            Mt[i][j] = M.getValue(j, i);\n\n    return new Matrix(Mt);\n}\n\npublic static Matrix matrixMul(Matrix A, Matrix B) {\n    int m1 = matrixSize(A)[0];\n    int n1 = matrixSize(A)[1];\n    int m2 = matrixSize(B)[0];\n    int n2 = matrixSize(B)[1];\n    double[][] rez;\n\n    if (n1 != m2) {\n        System.err.println(\"Inner matrix dimensions must agree!\");\n        return null;\n    }\n\n    rez = new double[m1][n2];\n    for (int i = 0; i &lt; m1; i++)\n        for (int j = 0; j &lt; n2; j++)\n            rez[i][j] = vectMul(A.getRow(i), B.getColumn(j));\n\n    Matrix r = new Matrix(rez);\n    return r;\n}\n\npublic static Matrix matrixMulWithMod(Matrix A, Matrix B, double mod) {\n    int m1 = matrixSize(A)[0];\n    int n1 = matrixSize(A)[1];\n    int m2 = matrixSize(B)[0];\n    int n2 = matrixSize(B)[1];\n    double[][] rez;\n\n    if (n1 != m2) {\n        System.err.println(\"Inner matrix dimensions must agree!\");\n        return null;\n    }\n\n    rez = new double[m1][n2];\n    for (int i = 0; i &lt; m1; i++)\n        for (int j = 0; j &lt; n2; j++)\n            rez[i][j] = vectMul(A.getRow(i), B.getColumn(j)) % mod;\n\n    Matrix r = new Matrix(rez);\n    return r;\n}\n\npublic String toString() {\n    StringBuilder sb = new StringBuilder();\n    for (int i = 0; i &lt; this.rows; i++) {\n        sb.append(Arrays.toString(values[i]));\n        sb.append('\\n');\n    }\n\n    String str = sb.toString();\n    return str;\n}\n\npublic double[][] getValues() {\n    return values;\n}\n\npublic void setValues(double[][] values) {\n    this.values = values;\n}\n\npublic void setValues(int[][] values) {\n    for (int i = 0; i &lt; rows; i++)\n        for (int j = 0; j &lt; cols; j++)\n            this.values[i][j] = (double) values[i][j];\n}\n\npublic double getValue(int row, int col) {\n    return values[row][col];\n}\n\npublic void setValue(int row, int col, double value) {\n    values[row][col] = value;\n}\n\npublic double[] getRow(int row) {\n    double[] temp = new double[cols];\n    for (int i = 0; i &lt; temp.length; i++)\n        temp[i] = values[row][i];\n    return temp;\n\n}\n\npublic double[] getColumn(int col) {\n    double[] temp = new double[rows];\n    for (int i = 0; i &lt; temp.length; i++)\n        temp[i] = values[i][col];\n    return temp;\n}\n\npublic double[] toDoubleArray() {\n    double[] temp = new double[rows * cols];\n    for (int i = 0; i &lt; rows; i++)\n        for (int j = 0; j &lt; cols; j++)\n            temp[i * (rows + 1) + j] = values[i][j];\n    return temp;\n}\n\npublic int[] toIntArray() {\n    int[] temp = new int[rows * cols];\n    for (int i = 0; i &lt; rows; i++)\n        for (int j = 0; j &lt; cols; j++)\n            temp[i * (rows + 1) + j] = (int) values[i][j];\n    return temp;\n}\n\npublic int getRowCount() {\n    return this.rows;\n}\n\npublic int getColumnsCount() {\n    return this.cols;\n}\n\npublic static double getMatrixDet(Matrix M) {\n    int m = M.getRowCount();\n    int n = M.getColumnsCount();\n\n    double D = 0;\n\n    if (m != n) {\n        System.err.println(\"Matrix must be square!\");\n        System.exit(0);\n    }\n\n    if (n &gt; 1) {\n        Matrix I = new Matrix(m - 1, n - 1);\n\n        for (int i = 1; i &lt; m; i++)\n            for (int j = 1; j &lt; n; j++)\n                I.setValue(i - 1, j - 1, M.getValue(i, j));\n\n        D = M.getValue(0, 0) * getMatrixDet(I);\n    } else\n        D = M.getValue(0, 0);\n\n    // za niz , kopira iz niza a elemente 0:i-1 i+1:n sredi za matrcu \n    Matrix I = new Matrix(m - 1, n - 1);\n    for (int i = 1; i &lt; n; i++) {\n        I = M.withoutIthRowAndJthCol(i, 0);\n        D = D + Math.pow((-1), i) * M.getValue(i, 0) * getMatrixDet(I);\n    }\n    return D;\n\n}\n\npublic Matrix transpose() {\n    Matrix temp = new Matrix(this.values);\n\n    for (int i = 0; i &lt; this.rows; i++)\n        for (int j = 0; j &lt; this.cols; j++)\n            this.values[i][j] = temp.getValue(j, i);\n\n    return this;\n}\n\nprivate Matrix withoutIthRowAndJthCol(int row, int col) {\n    Matrix temp = new Matrix(this.rows - 1, this.cols - 1);\n    int k = 0, l = 0;\n    for (int i = 0; i &lt; this.getRowCount(); i++) {\n        if (i == row)\n            continue;\n        for (int j = 0; j &lt; this.getColumnsCount(); j++) {\n            if (j == col)\n                continue;\n\n            temp.setValue(k, l, this.values[i][j]);\n            l++;\n        }\n        l %= 2;\n        k++;\n    }\n    return temp;\n}\n\npublic static Matrix getMatrixAdj(Matrix M) {\n    int m = M.getRowCount();\n    int n = M.getColumnsCount();\n\n    Matrix A = new Matrix(m, n);\n\n    if (m != n) {\n        System.err.println(\"Matrix must be square!\");\n        System.exit(0);\n    }\n\n    for (int i = 0; i &lt; m; i++)\n        for (int j = 0; j &lt; n; j++) {\n            A.setValue(i, j, Math.pow((-1), i + j)\n                    * getMatrixDet(M.withoutIthRowAndJthCol(i, j)));\n        }\n    A.transpose();\n    return A;\n}\n\npublic static Matrix matrixDiv(Matrix M, double n) {\n    Matrix temp = M;\n\n    for (int i = 0; i &lt; M.getRowCount(); i++)\n        for (int j = 0; j &lt; M.getColumnsCount(); j++)\n            temp.setValue(i, j, (M.getValue(i, j) / n));\n\n    return temp;\n}\n\npublic static Matrix getMatrixInv(Matrix M) {\n    Matrix I = new Matrix(M.getRowCount(), M.getColumnsCount());\n\n    if (M.getRowCount() != M.getColumnsCount()) {\n        System.err.println(\"Matrix must be square!\");\n        System.exit(0);\n    }\n    if (getMatrixDet(M) == 0) {\n        System.err.println(\"Matrix is singular!\");\n        System.exit(0);\n    }\n    I = matrixDiv(getMatrixAdj(M), getMatrixDet(M));\n    return I;\n}\n}\n</code></pre>\n\n<p>if this is what you wanted, you're welcome.</p>\n"},{"tags":[],"owner":{"account_id":1435980,"reputation":127999,"user_id":1357341,"accept_rate":100,"display_name":"arshajii"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1680804049,"creation_date":1351707771,"answer_id":13164315,"question_id":13164228,"body_markdown":"I know of one library called [*la4j*][1], you might be interested in looking into that. I should mention that, generally, I don&#39;t think Java is a good choice if you&#39;re planning on doing many matrix manipulations/calculations (I myself have tried and hit a dead-end), you might be better off looking into Python ([NumPy][2]) or C++ ([Armadillo][3]) for such projects.\r\n\r\n\r\n  [1]: http://la4j.org\r\n  [2]: https://numpy.org/\r\n  [3]: https://arma.sourceforge.net/","title":"Java library eigenvalues float numbers","body":"<p>I know of one library called <a href=\"http://la4j.org\" rel=\"nofollow noreferrer\"><em>la4j</em></a>, you might be interested in looking into that. I should mention that, generally, I don't think Java is a good choice if you're planning on doing many matrix manipulations/calculations (I myself have tried and hit a dead-end), you might be better off looking into Python (<a href=\"https://numpy.org/\" rel=\"nofollow noreferrer\">NumPy</a>) or C++ (<a href=\"https://arma.sourceforge.net/\" rel=\"nofollow noreferrer\">Armadillo</a>) for such projects.</p>\n"}],"owner":{"account_id":1983010,"reputation":33,"user_id":1779116,"display_name":"Luke Numerati"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":491,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"closed_date":1351941213,"answer_count":2,"score":-3,"last_activity_date":1680804049,"creation_date":1351707406,"question_id":13164228,"body_markdown":"Hi I have the Jama librarry, but this libraray work only with Double numbers..and its very slow. for Android app ..and finally i dont need so high precision of eig decomp..so is there some JAva libaray with float num.....similar in syntax with jama? becouse...I dont want to re-- write again my 440 rows code thanks. eig. Transpose, inverse and so basic Linear algebra operations..\r\n\r\nor exist same java library eigenvalues. with threads?","title":"Java library eigenvalues float numbers","body":"<p>Hi I have the Jama librarry, but this libraray work only with Double numbers..and its very slow. for Android app ..and finally i dont need so high precision of eig decomp..so is there some JAva libaray with float num.....similar in syntax with jama? becouse...I dont want to re-- write again my 440 rows code thanks. eig. Transpose, inverse and so basic Linear algebra operations..</p>\n\n<p>or exist same java library eigenvalues. with threads?</p>\n"},{"tags":["java","jedis"],"answers":[{"tags":[],"owner":{"account_id":4829511,"reputation":5855,"user_id":4021802,"display_name":"sazzad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680803929,"creation_date":1680803929,"answer_id":75952449,"question_id":75892257,"body_markdown":"Use the `Jedis` class. It has support for all the binary variants.","title":"How to use Binary Jedis in version 4.3.2?","body":"<p>Use the <code>Jedis</code> class. It has support for all the binary variants.</p>\n"}],"owner":{"account_id":2252016,"reputation":6192,"user_id":1984049,"accept_rate":74,"display_name":"Oliver"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":155,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1680803929,"creation_date":1680204563,"question_id":75892257,"body_markdown":"In Jedis version 2.8.0 I have used **redis.clients.jedis.BinaryJedis**\r\n\r\nWhat should I use to save binary key value pairs using Jedis Client 4.3.2?\r\nCan someone point me towards documentation or provide a sample snippet?","title":"How to use Binary Jedis in version 4.3.2?","body":"<p>In Jedis version 2.8.0 I have used <strong>redis.clients.jedis.BinaryJedis</strong></p>\n<p>What should I use to save binary key value pairs using Jedis Client 4.3.2?\nCan someone point me towards documentation or provide a sample snippet?</p>\n"},{"tags":["java","date","filesystems"],"comments":[{"owner":{"account_id":50722,"reputation":1895,"user_id":151343,"accept_rate":73,"display_name":"Todd"},"score":2,"creation_date":1272398876,"post_id":2723838,"comment_id":2751268,"body_markdown":"Okay, after more discussions and investigations into the filesystems, we have decided that using last modified is sufficient since it would likely have to have been checked along with creation date.  Both would need to be checked to determine whether an old file was recently modified and therefore still active.  So, just check for the file modified farthest in the past.  Thanks for all the input.  BTW, I would love to use nio, but the Linux flavor here doesn&#39;t support file creation anyway.","body":"Okay, after more discussions and investigations into the filesystems, we have decided that using last modified is sufficient since it would likely have to have been checked along with creation date.  Both would need to be checked to determine whether an old file was recently modified and therefore still active.  So, just check for the file modified farthest in the past.  Thanks for all the input.  BTW, I would love to use nio, but the Linux flavor here doesn&#39;t support file creation anyway."}],"answers":[{"tags":[],"owner":{"account_id":57484,"reputation":66727,"user_id":172211,"accept_rate":89,"display_name":"Carl Smotricz"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1272392987,"creation_date":1272392987,"answer_id":2723914,"question_id":2723838,"body_markdown":"The API of `java.io.File` only supports getting the last *modified* time. And the Internet is very quiet on this topic as well.\r\n\r\nUnless I missed something significant, the Java library as is (up to but not yet including Java 7) does not include this capability. So if you were desperate for this, one solution would be to write some C(++) code to call system routines and call it using JNI. Most of this work seems to be already done for you in a library called [JNA](https://github.com/twall/jna/), though. \r\n\r\nYou may still need to do a little OS specific coding in Java for this, though, as you&#39;ll probably not find the same system calls available in Windows and Unix/Linux/BSD/OS X.\r\n","title":"Determine file creation date in Java","body":"<p>The API of <code>java.io.File</code> only supports getting the last <em>modified</em> time. And the Internet is very quiet on this topic as well.</p>\n\n<p>Unless I missed something significant, the Java library as is (up to but not yet including Java 7) does not include this capability. So if you were desperate for this, one solution would be to write some C(++) code to call system routines and call it using JNI. Most of this work seems to be already done for you in a library called <a href=\"https://github.com/twall/jna/\" rel=\"noreferrer\">JNA</a>, though. </p>\n\n<p>You may still need to do a little OS specific coding in Java for this, though, as you'll probably not find the same system calls available in Windows and Unix/Linux/BSD/OS X.</p>\n"},{"tags":[],"owner":{"account_id":73745,"reputation":20493,"user_id":212211,"accept_rate":89,"display_name":"ring bearer"},"down_vote_count":0,"up_vote_count":199,"is_accepted":false,"score":199,"last_activity_date":1632325796,"creation_date":1272393823,"answer_id":2724009,"question_id":2723838,"body_markdown":"**Java nio** has options to access `creationTime` and other meta-data as long as the filesystem provides it.\r\nCheck [this link][1] out\r\n\r\nFor example (provided based on [@ydaetskcoR][2]&#39;s comment):\r\n```java\r\nPath file = ...;\r\nBasicFileAttributes attr = Files.readAttributes(file.toPath(), BasicFileAttributes.class);\r\n\r\nSystem.out.println(&quot;creationTime: &quot; + attr.creationTime());\r\nSystem.out.println(&quot;lastAccessTime: &quot; + attr.lastAccessTime());\r\nSystem.out.println(&quot;lastModifiedTime: &quot; + attr.lastModifiedTime());\r\n```\r\n\r\n  [1]: http://java.sun.com/docs/books/tutorial/essential/io/fileAttr.html\r\n  [2]: https://stackoverflow.com/users/2291321/ydaetskcor","title":"Determine file creation date in Java","body":"<p><strong>Java nio</strong> has options to access <code>creationTime</code> and other meta-data as long as the filesystem provides it.\nCheck <a href=\"http://java.sun.com/docs/books/tutorial/essential/io/fileAttr.html\" rel=\"noreferrer\">this link</a> out</p>\n<p>For example (provided based on <a href=\"https://stackoverflow.com/users/2291321/ydaetskcor\">@ydaetskcoR</a>'s comment):</p>\n<pre class=\"lang-java prettyprint-override\"><code>Path file = ...;\nBasicFileAttributes attr = Files.readAttributes(file.toPath(), BasicFileAttributes.class);\n\nSystem.out.println(&quot;creationTime: &quot; + attr.creationTime());\nSystem.out.println(&quot;lastAccessTime: &quot; + attr.lastAccessTime());\nSystem.out.println(&quot;lastModifiedTime: &quot; + attr.lastModifiedTime());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":100586,"reputation":439,"user_id":271075,"display_name":"Jacek S"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1272396703,"creation_date":1272394960,"answer_id":2724169,"question_id":2723838,"body_markdown":"On a Windows system, you can use free [FileTimes][1] library.\r\n\r\nThis will be easier in the future with [Java NIO.2 (JDK 7) and the java.nio.file.attribute package][2].\r\n\r\nBut remember that most Linux filesystems [don&#39;t support file creation timestamps][3].\r\n\r\n\r\n  [1]: http://mindprod.com/products1.html#FILETIMES\r\n  [2]: http://java.sun.com/developer/technicalArticles/javase/nio/#8\r\n  [3]: http://en.wikipedia.org/wiki/Comparison_of_file_systems#Metadata","title":"Determine file creation date in Java","body":"<p>On a Windows system, you can use free <a href=\"http://mindprod.com/products1.html#FILETIMES\" rel=\"noreferrer\">FileTimes</a> library.</p>\n\n<p>This will be easier in the future with <a href=\"http://java.sun.com/developer/technicalArticles/javase/nio/#8\" rel=\"noreferrer\">Java NIO.2 (JDK 7) and the java.nio.file.attribute package</a>.</p>\n\n<p>But remember that most Linux filesystems <a href=\"http://en.wikipedia.org/wiki/Comparison_of_file_systems#Metadata\" rel=\"noreferrer\">don't support file creation timestamps</a>.</p>\n"},{"tags":[],"owner":{"account_id":200864,"reputation":377,"user_id":1956886,"display_name":"David Nugent"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1358848597,"creation_date":1358848597,"answer_id":14455760,"question_id":2723838,"body_markdown":"As a follow-up to this question - since it relates specifically to creation time and discusses obtaining it via the new nio classes - it seems right now in JDK7&#39;s implementation you&#39;re out of luck. Addendum: same behaviour is in OpenJDK7.\r\n\r\nOn Unix filesystems you cannot retrieve the creation timestamp, you simply get a copy of the last modification time. So sad, but unfortunately true. I&#39;m not sure why that is but the code specifically does that as the following will demonstrate.\r\n\r\n    import java.io.IOException;\r\n    import java.nio.file.*;\r\n    import java.nio.file.attribute.*;\r\n\r\n    public class TestFA {\r\n      static void getAttributes(String pathStr) throws IOException {\r\n        Path p = Paths.get(pathStr);\r\n        BasicFileAttributes view\r\n           = Files.getFileAttributeView(p, BasicFileAttributeView.class)\r\n                  .readAttributes();\r\n        System.out.println(view.creationTime()+&quot; is the same as &quot;+view.lastModifiedTime());\r\n      }\r\n      public static void main(String[] args) throws IOException {\r\n        for (String s : args) {\r\n            getAttributes(s);\r\n        }\r\n      }\r\n    }\r\n\r\n","title":"Determine file creation date in Java","body":"<p>As a follow-up to this question - since it relates specifically to creation time and discusses obtaining it via the new nio classes - it seems right now in JDK7's implementation you're out of luck. Addendum: same behaviour is in OpenJDK7.</p>\n\n<p>On Unix filesystems you cannot retrieve the creation timestamp, you simply get a copy of the last modification time. So sad, but unfortunately true. I'm not sure why that is but the code specifically does that as the following will demonstrate.</p>\n\n<pre><code>import java.io.IOException;\nimport java.nio.file.*;\nimport java.nio.file.attribute.*;\n\npublic class TestFA {\n  static void getAttributes(String pathStr) throws IOException {\n    Path p = Paths.get(pathStr);\n    BasicFileAttributes view\n       = Files.getFileAttributeView(p, BasicFileAttributeView.class)\n              .readAttributes();\n    System.out.println(view.creationTime()+\" is the same as \"+view.lastModifiedTime());\n  }\n  public static void main(String[] args) throws IOException {\n    for (String s : args) {\n        getAttributes(s);\n    }\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3507352,"reputation":587,"user_id":2932601,"accept_rate":86,"display_name":"Oleksandr Tarasenko"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1416318098,"creation_date":1416318098,"answer_id":26995786,"question_id":2723838,"body_markdown":"I&#39;ve solved this problem using JDK 7 with this code:\r\n\r\n    package FileCreationDate;\r\n    \r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import java.nio.file.Files;\r\n    import java.nio.file.Path;\r\n    import java.nio.file.attribute.BasicFileAttributes;\r\n    import java.util.Date;\r\n    import java.util.concurrent.TimeUnit;\r\n    \r\n    public class Main\r\n    {\r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \t\tFile file = new File(&quot;c:\\\\1.txt&quot;);\r\n    \t\tPath filePath = file.toPath();\r\n    \r\n    \t\tBasicFileAttributes attributes = null;\r\n    \t\ttry\r\n    \t\t{\r\n    \t\t\tattributes =\r\n    \t\t\t\t\tFiles.readAttributes(filePath, BasicFileAttributes.class);\r\n    \t\t}\r\n    \t\tcatch (IOException exception)\r\n    \t\t{\r\n    \t\t\tSystem.out.println(&quot;Exception handled when trying to get file &quot; +\r\n    \t\t\t\t\t&quot;attributes: &quot; + exception.getMessage());\r\n    \t\t}\r\n    \t\tlong milliseconds = attributes.creationTime().to(TimeUnit.MILLISECONDS);\r\n    \t\tif((milliseconds &gt; Long.MIN_VALUE) &amp;&amp; (milliseconds &lt; Long.MAX_VALUE))\r\n    \t\t{\r\n    \t\t\tDate creationDate =\r\n    \t\t\t\t\tnew Date(attributes.creationTime().to(TimeUnit.MILLISECONDS));\r\n    \r\n    \t\t\tSystem.out.println(&quot;File &quot; + filePath.toString() + &quot; created &quot; +\r\n    \t\t\t\t\tcreationDate.getDate() + &quot;/&quot; +\r\n    \t\t\t\t\t(creationDate.getMonth() + 1) + &quot;/&quot; +\r\n    \t\t\t\t\t(creationDate.getYear() + 1900));\r\n    \t\t}\r\n    \t}\r\n    }","title":"Determine file creation date in Java","body":"<p>I've solved this problem using JDK 7 with this code:</p>\n\n<pre><code>package FileCreationDate;\n\nimport java.io.File;\nimport java.io.IOException;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.nio.file.attribute.BasicFileAttributes;\nimport java.util.Date;\nimport java.util.concurrent.TimeUnit;\n\npublic class Main\n{\n    public static void main(String[] args) {\n\n        File file = new File(\"c:\\\\1.txt\");\n        Path filePath = file.toPath();\n\n        BasicFileAttributes attributes = null;\n        try\n        {\n            attributes =\n                    Files.readAttributes(filePath, BasicFileAttributes.class);\n        }\n        catch (IOException exception)\n        {\n            System.out.println(\"Exception handled when trying to get file \" +\n                    \"attributes: \" + exception.getMessage());\n        }\n        long milliseconds = attributes.creationTime().to(TimeUnit.MILLISECONDS);\n        if((milliseconds &gt; Long.MIN_VALUE) &amp;&amp; (milliseconds &lt; Long.MAX_VALUE))\n        {\n            Date creationDate =\n                    new Date(attributes.creationTime().to(TimeUnit.MILLISECONDS));\n\n            System.out.println(\"File \" + filePath.toString() + \" created \" +\n                    creationDate.getDate() + \"/\" +\n                    (creationDate.getMonth() + 1) + \"/\" +\n                    (creationDate.getYear() + 1900));\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":91056,"reputation":124854,"user_id":250260,"accept_rate":80,"display_name":"Jorgesys"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1478274950,"creation_date":1443133263,"answer_id":32771882,"question_id":2723838,"body_markdown":"This is a basic example of how to get the creation date of a file in `Java`, using [**`BasicFileAttributes`**][1] class:\r\n\r\n       Path path = Paths.get(&quot;C:\\\\Users\\\\jorgesys\\\\workspaceJava\\\\myfile.txt&quot;);\r\n    \tBasicFileAttributes attr;\r\n    \ttry {\r\n    \tattr = Files.readAttributes(path, BasicFileAttributes.class);\r\n    \tSystem.out.println(&quot;Creation date: &quot; + attr.creationTime());\r\n    \t//System.out.println(&quot;Last access date: &quot; + attr.lastAccessTime());\r\n    \t//System.out.println(&quot;Last modified date: &quot; + attr.lastModifiedTime());\r\n    \t} catch (IOException e) {\r\n    \tSystem.out.println(&quot;oops error! &quot; + e.getMessage());\r\n    }\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/nio/file/attribute/BasicFileAttributes.html","title":"Determine file creation date in Java","body":"<p>This is a basic example of how to get the creation date of a file in <code>Java</code>, using <a href=\"https://docs.oracle.com/javase/7/docs/api/java/nio/file/attribute/BasicFileAttributes.html\" rel=\"noreferrer\"><strong><code>BasicFileAttributes</code></strong></a> class:</p>\n\n<pre><code>   Path path = Paths.get(\"C:\\\\Users\\\\jorgesys\\\\workspaceJava\\\\myfile.txt\");\n    BasicFileAttributes attr;\n    try {\n    attr = Files.readAttributes(path, BasicFileAttributes.class);\n    System.out.println(\"Creation date: \" + attr.creationTime());\n    //System.out.println(\"Last access date: \" + attr.lastAccessTime());\n    //System.out.println(\"Last modified date: \" + attr.lastModifiedTime());\n    } catch (IOException e) {\n    System.out.println(\"oops error! \" + e.getMessage());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15818421,"reputation":21,"user_id":11413412,"display_name":"zhangxinqiang"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1556249285,"creation_date":1556249285,"answer_id":55860428,"question_id":2723838,"body_markdown":"in java1.7+ \r\nYou can use this code to get file`s create time !\r\n```java\r\nprivate static LocalDateTime getCreateTime(File file) throws IOException {\r\n        Path path = Paths.get(file.getPath());\r\n        BasicFileAttributeView basicfile = Files.getFileAttributeView(path, BasicFileAttributeView.class, LinkOption.NOFOLLOW_LINKS);\r\n        BasicFileAttributes attr = basicfile.readAttributes();\r\n        long date = attr.creationTime().toMillis();\r\n        Instant instant = Instant.ofEpochMilli(date);\r\n        return LocalDateTime.ofInstant(instant, ZoneId.systemDefault());\r\n    }\r\n```","title":"Determine file creation date in Java","body":"<p>in java1.7+ \nYou can use this code to get file`s create time !</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>private static LocalDateTime getCreateTime(File file) throws IOException {\n        Path path = Paths.get(file.getPath());\n        BasicFileAttributeView basicfile = Files.getFileAttributeView(path, BasicFileAttributeView.class, LinkOption.NOFOLLOW_LINKS);\n        BasicFileAttributes attr = basicfile.readAttributes();\n        long date = attr.creationTime().toMillis();\n        Instant instant = Instant.ofEpochMilli(date);\n        return LocalDateTime.ofInstant(instant, ZoneId.systemDefault());\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11806275,"reputation":1,"user_id":8638682,"display_name":"JuanK"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680803918,"creation_date":1680803918,"answer_id":75952448,"question_id":2723838,"body_markdown":"Basically after you get the creation date from the BasicFileAttributeView object, you should format the date to show:\r\n\r\n    String modifiedDate;\r\n    Path inPath = Paths.get(yourfile.getAbsolutePath());\r\n    BasicFileAttributes attr;\r\n    try {\r\n        attr = Files.readAttributes(inPath, BasicFileAttributes.class);\r\n    } catch (IOException e) {\r\n        attr = null;\r\n    }\r\n            \r\n    if (attr == null) {\r\n         this.modifiedDate = null;\r\n    } else {\r\n        this.modifiedDate = simpleDateFormat.format(attr.creationTime().toMillis());\r\n    }","title":"Determine file creation date in Java","body":"<p>Basically after you get the creation date from the BasicFileAttributeView object, you should format the date to show:</p>\n<pre><code>String modifiedDate;\nPath inPath = Paths.get(yourfile.getAbsolutePath());\nBasicFileAttributes attr;\ntry {\n    attr = Files.readAttributes(inPath, BasicFileAttributes.class);\n} catch (IOException e) {\n    attr = null;\n}\n        \nif (attr == null) {\n     this.modifiedDate = null;\n} else {\n    this.modifiedDate = simpleDateFormat.format(attr.creationTime().toMillis());\n}\n</code></pre>\n"}],"owner":{"account_id":50722,"reputation":1895,"user_id":151343,"accept_rate":73,"display_name":"Todd"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":210373,"favorite_count":0,"down_vote_count":0,"up_vote_count":137,"answer_count":8,"score":137,"last_activity_date":1680803918,"creation_date":1272392386,"question_id":2723838,"body_markdown":"There is another similar question to mine on StackOverflow ([How to get creation date of a file in Java][1]), but the answer isn&#39;t really there as the OP had a different need that could be solved via other mechanisms.  I am trying to create a list of the files in a directory that can be sorted by age, hence the need for the file creation date.\r\n\r\nI haven&#39;t located any good way to do this after much trawling of the web.  Is there a mechanism for getting file creation dates?\r\n\r\nBTW, currently on a Windows system, may need this to work on a Linux system as well.  Also, I can&#39;t guarantee that a file naming convention would be followed where the creation date/time is embedded in the name.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/741466/how-to-get-creation-date-of-a-file-in-java","title":"Determine file creation date in Java","body":"<p>There is another similar question to mine on StackOverflow (<a href=\"https://stackoverflow.com/questions/741466/how-to-get-creation-date-of-a-file-in-java\">How to get creation date of a file in Java</a>), but the answer isn't really there as the OP had a different need that could be solved via other mechanisms.  I am trying to create a list of the files in a directory that can be sorted by age, hence the need for the file creation date.</p>\n\n<p>I haven't located any good way to do this after much trawling of the web.  Is there a mechanism for getting file creation dates?</p>\n\n<p>BTW, currently on a Windows system, may need this to work on a Linux system as well.  Also, I can't guarantee that a file naming convention would be followed where the creation date/time is embedded in the name.</p>\n"},{"tags":["java","sorting","time-complexity","comparison"],"comments":[{"owner":{"account_id":17476274,"reputation":25017,"user_id":12671057,"display_name":"Kelly Bundy"},"score":0,"creation_date":1680782942,"post_id":75933954,"comment_id":133958250,"body_markdown":"What are &quot;odd&quot;/&quot;even&quot; comparisons?","body":"What are &quot;odd&quot;/&quot;even&quot; comparisons?"},{"owner":{"account_id":17476274,"reputation":25017,"user_id":12671057,"display_name":"Kelly Bundy"},"score":0,"creation_date":1680783611,"post_id":75933954,"comment_id":133958382,"body_markdown":"Since you were even already given the answer: what did the instructor say when you asked them for an explanation?","body":"Since you were even already given the answer: what did the instructor say when you asked them for an explanation?"}],"answers":[{"tags":[],"owner":{"account_id":246495,"reputation":10418,"user_id":520684,"accept_rate":73,"display_name":"Daniel Figueroa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680803894,"creation_date":1680645425,"answer_id":75934154,"question_id":75933954,"body_markdown":"It&#39;s been too many years since I did any CS like this so I might be completely off but then I&#39;m sure people will comment on the validity of this answer, but this is what I think your professor means happens. \r\nWhich if I&#39;m correct seems weird, since one of the comparisons is of the item itself.\r\n\r\n__First iteration:__ compare 6 with 6, since it&#39;s the first item in the list do nothing.  \r\n__Second iteration:__ compare 5 with 5, but it isn&#39;t the first element, compare it with next element to the left. Since 5 &lt; 6 place 5 before 6  \r\n__Third iteration:__ compare 4 with 4, but it isn&#39;t the first element, compare it with next element to the left. Since 4 &lt; 6 move to next item and compare 4 &lt; 5 is true place 4 before 5. \r\nAnd so on...  \r\n\r\n    1. 654321 | 1 ({6,6} = 1)\r\n    2. 564321 | 3 ({5,5 = 1}, {5,6 = 2})\r\n    3. 456321 | 4 ({4,4 = 1}, {4,6 = 1}, {4,5 = 2})\r\n    4. 345621 | 6 ({3,3 = 1}, {3,6 = 2}, {3,5 = 1}, {3,4 = 2})\r\n    5. 234561 | 7 ({2,2 = 1}, {2,6 = 1}, {2,5 = 2}, {2,4 = 1}, {2,3 = 2})\r\n    6. 123456 | 9 ({1,1 = 1}, {1,6 = 2}, {1,5 = 1}, {1,4 = 2}, {1,3 = 1}, {1,2 = 2})\r\n\r\n1+3+4+6+7+9 = 30","title":"how long will an insertion sort algorithm take to sort a list of 6 elements?","body":"<p>It's been too many years since I did any CS like this so I might be completely off but then I'm sure people will comment on the validity of this answer, but this is what I think your professor means happens.\nWhich if I'm correct seems weird, since one of the comparisons is of the item itself.</p>\n<p><strong>First iteration:</strong> compare 6 with 6, since it's the first item in the list do nothing.<br />\n<strong>Second iteration:</strong> compare 5 with 5, but it isn't the first element, compare it with next element to the left. Since 5 &lt; 6 place 5 before 6<br />\n<strong>Third iteration:</strong> compare 4 with 4, but it isn't the first element, compare it with next element to the left. Since 4 &lt; 6 move to next item and compare 4 &lt; 5 is true place 4 before 5.\nAnd so on...</p>\n<pre><code>1. 654321 | 1 ({6,6} = 1)\n2. 564321 | 3 ({5,5 = 1}, {5,6 = 2})\n3. 456321 | 4 ({4,4 = 1}, {4,6 = 1}, {4,5 = 2})\n4. 345621 | 6 ({3,3 = 1}, {3,6 = 2}, {3,5 = 1}, {3,4 = 2})\n5. 234561 | 7 ({2,2 = 1}, {2,6 = 1}, {2,5 = 2}, {2,4 = 1}, {2,3 = 2})\n6. 123456 | 9 ({1,1 = 1}, {1,6 = 2}, {1,5 = 1}, {1,4 = 2}, {1,3 = 1}, {1,2 = 2})\n</code></pre>\n<p>1+3+4+6+7+9 = 30</p>\n"}],"owner":{"account_id":27991586,"reputation":57,"user_id":21377330,"display_name":"Sheep_Walker"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":208,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":75934154,"answer_count":1,"score":-2,"last_activity_date":1680803894,"creation_date":1680643500,"question_id":75933954,"body_markdown":"&quot;In the worst case, assuming each odd comparison takes 2 &#181;s and each even comparison takes 1 &#181;s, how long will an insertion sort algorithm take to sort a list of 6 elements?&quot;\r\n\r\nSo I have a class where we are taught how to code in Java. We are learning about sorting algorithms like Bubble, Merge, Insertion or Quick sorts and their time complexities. In a quiz, I got this question. The answer to this question was 30 &#181;s. Why is that the answer? (btw the question was just that. No program or description was provided).","title":"how long will an insertion sort algorithm take to sort a list of 6 elements?","body":"<p>&quot;In the worst case, assuming each odd comparison takes 2 µs and each even comparison takes 1 µs, how long will an insertion sort algorithm take to sort a list of 6 elements?&quot;</p>\n<p>So I have a class where we are taught how to code in Java. We are learning about sorting algorithms like Bubble, Merge, Insertion or Quick sorts and their time complexities. In a quiz, I got this question. The answer to this question was 30 µs. Why is that the answer? (btw the question was just that. No program or description was provided).</p>\n"},{"tags":["java","android","android-studio","service","android-notifications"],"answers":[{"tags":[],"owner":{"account_id":28066075,"reputation":11,"user_id":21439449,"display_name":"Bableb"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680803573,"creation_date":1680803573,"answer_id":75952403,"question_id":75952172,"body_markdown":"Instead of using the constructor to pass a certain value in an application context, you should try to pass it as a Bundle to the OnCreate function. Here is a link to the documentation : https://developer.android.com/reference/android/os/Bundle . ` @Override\r\n    public void onCreate(Bundle putYourInfoHere) {\r\n        super.onCreate(putYourInfoHere);\r\n\r\n        this.presetOption = putYoutInfoHere.getInt\r\n\r\n        //Notification Preset1\r\n        String titledText1 = &quot;Scan Docs With A.I Filters&quot;;\r\n        String someBigText1 = &quot;It&#39;s been a long time since no document is scanned...&quot;;\r\n        if (presetOption == 1)\r\n        {\r\n            createNotification(titledText1, someBigText1);\r\n        }\r\n        else if (presetOption == 2)\r\n        {\r\n            //notification Preset2\r\n            String titledText2 = &quot;Try ID Car Scan&quot;;\r\n            String someBigText2 = &quot;Best ever ID card scanning let you scan both side of ID Card on same page more visible&quot;;\r\n            createNotification(titledText2, someBigText2);\r\n        }else if (presetOption == 3)\r\n        {\r\n            //notification Preset3\r\n            String titledText3 = &quot;Try Digital Signature&quot;;\r\n            String someBigText3 = &quot;Draw or Import digital signature and place it on any document you want.&quot;;\r\n            createNotification(titledText3, someBigText3);\r\n        }else if (presetOption == 4)\r\n        {\r\n            //notification Preset4\r\n            String titledText4 = &quot;D.S.P Ocr feature&quot;;\r\n            String someBigText4 = &quot;Let&#39;s convert text image into editable text for you...&quot;;\r\n            createNotification(titledText4, someBigText4);\r\n        }\r\n        else\r\n        {\r\n            createNotification(titledText1, someBigText1);\r\n        }\r\n\r\n\r\n    }`\r\n\r\nI am assuming that you get you&#39;re presetValue in your constructor from another page. If so, you should implement a function to store the value in your Bundle as shown in the documentation.","title":"Constructor parameters not known inside onCreate method of Service Class in Android Studio","body":"<p>Instead of using the constructor to pass a certain value in an application context, you should try to pass it as a Bundle to the OnCreate function. Here is a link to the documentation : <a href=\"https://developer.android.com/reference/android/os/Bundle\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/os/Bundle</a> . ` @Override\npublic void onCreate(Bundle putYourInfoHere) {\nsuper.onCreate(putYourInfoHere);</p>\n<pre><code>    this.presetOption = putYoutInfoHere.getInt\n\n    //Notification Preset1\n    String titledText1 = &quot;Scan Docs With A.I Filters&quot;;\n    String someBigText1 = &quot;It's been a long time since no document is scanned...&quot;;\n    if (presetOption == 1)\n    {\n        createNotification(titledText1, someBigText1);\n    }\n    else if (presetOption == 2)\n    {\n        //notification Preset2\n        String titledText2 = &quot;Try ID Car Scan&quot;;\n        String someBigText2 = &quot;Best ever ID card scanning let you scan both side of ID Card on same page more visible&quot;;\n        createNotification(titledText2, someBigText2);\n    }else if (presetOption == 3)\n    {\n        //notification Preset3\n        String titledText3 = &quot;Try Digital Signature&quot;;\n        String someBigText3 = &quot;Draw or Import digital signature and place it on any document you want.&quot;;\n        createNotification(titledText3, someBigText3);\n    }else if (presetOption == 4)\n    {\n        //notification Preset4\n        String titledText4 = &quot;D.S.P Ocr feature&quot;;\n        String someBigText4 = &quot;Let's convert text image into editable text for you...&quot;;\n        createNotification(titledText4, someBigText4);\n    }\n    else\n    {\n        createNotification(titledText1, someBigText1);\n    }\n\n\n}`\n</code></pre>\n<p>I am assuming that you get you're presetValue in your constructor from another page. If so, you should implement a function to store the value in your Bundle as shown in the documentation.</p>\n"}],"owner":{"account_id":27102131,"reputation":1,"user_id":20648503,"display_name":"Kamran Ullah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680803573,"creation_date":1680801599,"question_id":75952172,"body_markdown":"\r\n```\r\n``package com.arkenstonestudio.docxscanner.Notification;\r\n\r\nimport android.app.Notification;\r\nimport android.app.NotificationChannel;\r\nimport android.app.NotificationManager;\r\nimport android.app.PendingIntent;\r\nimport android.app.Service;\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.os.Build;\r\nimport android.os.IBinder;\r\nimport android.util.Log;\r\nimport androidx.core.app.NotificationCompat;\r\nimport com.arkenstonestudio.docxscanner.LauncherActivity;\r\nimport com.arkenstonestudio.docxscanner.R;\r\n\r\npublic class ShowNotification extends Service {\r\n\r\n    private final static String TAG = &quot;ShowNotification&quot;;\r\n    NotificationManager mNotificationManager;\r\n    private int presetOption = 0;\r\n\r\n    public void notificationValues(int presetOptionX){\r\n\r\n       this.presetOption = presetOptionX; // 3 int value here is not known in onCreate\r\n        Log.i(TAG, &quot;Constructor: &quot;+ this.presetOption);\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onCreate() {\r\n        super.onCreate();\r\n\r\n        Log.i(TAG, &quot;onCreate: &quot;+presetOption); // 0 int value is shown here instead of 3\r\n\r\n        //Notification Preset1\r\n        String titledText1 = &quot;Scan Docs With A.I Filters&quot;;\r\n        String someBigText1 = &quot;It&#39;s been a long time since no document is scanned...&quot;;\r\n        if (presetOption == 1)\r\n        {\r\n            createNotification(titledText1, someBigText1);\r\n        }\r\n        else if (presetOption == 2)\r\n        {\r\n            //notification Preset2\r\n            String titledText2 = &quot;Try ID Car Scan&quot;;\r\n            String someBigText2 = &quot;Best ever ID card scanning let you scan both side of ID Card on same page more visible&quot;;\r\n            createNotification(titledText2, someBigText2);\r\n        }else if (presetOption == 3)\r\n        {\r\n            //notification Preset3\r\n            String titledText3 = &quot;Try Digital Signature&quot;;\r\n            String someBigText3 = &quot;Draw or Import digital signature and place it on any document you want.&quot;;\r\n            createNotification(titledText3, someBigText3);\r\n        }else if (presetOption == 4)\r\n        {\r\n            //notification Preset4\r\n            String titledText4 = &quot;D.S.P Ocr feature&quot;;\r\n            String someBigText4 = &quot;Let&#39;s convert text image into editable text for you...&quot;;\r\n            createNotification(titledText4, someBigText4);\r\n        }\r\n        else\r\n        {\r\n            createNotification(titledText1, someBigText1);\r\n        }\r\n\r\n\r\n    }\r\n\r\n    private void createNotification(String titledTxt, String bigTxt){\r\n\r\n        NotificationCompat.BigTextStyle bigText = new NotificationCompat.BigTextStyle();\r\n\r\n        NotificationCompat.Builder mBuilder =\r\n                new NotificationCompat.Builder(getApplicationContext(), &quot;notify_001&quot;);\r\n        Intent ii = new Intent(getApplicationContext(), LauncherActivity.class);\r\n        PendingIntent pendingIntent = PendingIntent.getActivity(this, 0, ii, 0);\r\n\r\n\r\n        mBuilder.setContentIntent(pendingIntent);\r\n        if (android.os.Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) {\r\n            mBuilder.setSmallIcon(R.drawable.docx_scan_trans);\r\n            mBuilder.setColor(getResources().getColor(R.color.white));\r\n        } else {\r\n            mBuilder.setSmallIcon(R.mipmap.ic_launcher);\r\n        }\r\n\r\n        mBuilder.setContentTitle(titledTxt);\r\n        mBuilder.setContentText(bigTxt);\r\n        mBuilder.setPriority(Notification.PRIORITY_MAX);\r\n        mBuilder.setStyle(bigText);\r\n\r\n        mNotificationManager =\r\n                (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\r\n\r\n        // === Removed some obsoletes\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O)\r\n        {\r\n            String channelId = &quot;dsp-rc-123&quot;;\r\n            NotificationChannel channel = new NotificationChannel(\r\n                    channelId,\r\n                    &quot;Docx scanner Plus&quot;,\r\n                    NotificationManager.IMPORTANCE_HIGH);\r\n            mNotificationManager.createNotificationChannel(channel);\r\n            mBuilder.setChannelId(channelId);\r\n        }\r\n\r\n        mNotificationManager.notify(0, mBuilder.build());\r\n        Log.i(TAG, &quot;Notification created&quot;);\r\n    }\r\n\r\n    @Override\r\n    public IBinder onBind(Intent intent) {\r\n        // TODO Auto-generated method stub\r\n        return null;\r\n    }\r\n}`\r\n\r\n```\r\n`\r\n**I am trying above code where I use constructor for initialization of int value and then I try to access that value inside onCreate method but the problem is that int value inside onCreate method is always 0 while the value is shown correctly inside constructor. Anyone can help me with that...Thanks in Advance.**\r\n\r\nScreenshot is shown for more clarification:\r\n[enter image description here](https://i.stack.imgur.com/vmani.png)\r\n\r\nAll I want to access the constructor value and assign it to variable inside class so that to make it global.\r\n\r\nI did not find any suitable answer related to my problem on Stack Overflow","title":"Constructor parameters not known inside onCreate method of Service Class in Android Studio","body":"<pre><code>``package com.arkenstonestudio.docxscanner.Notification;\n\nimport android.app.Notification;\nimport android.app.NotificationChannel;\nimport android.app.NotificationManager;\nimport android.app.PendingIntent;\nimport android.app.Service;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.os.Build;\nimport android.os.IBinder;\nimport android.util.Log;\nimport androidx.core.app.NotificationCompat;\nimport com.arkenstonestudio.docxscanner.LauncherActivity;\nimport com.arkenstonestudio.docxscanner.R;\n\npublic class ShowNotification extends Service {\n\n    private final static String TAG = &quot;ShowNotification&quot;;\n    NotificationManager mNotificationManager;\n    private int presetOption = 0;\n\n    public void notificationValues(int presetOptionX){\n\n       this.presetOption = presetOptionX; // 3 int value here is not known in onCreate\n        Log.i(TAG, &quot;Constructor: &quot;+ this.presetOption);\n\n    }\n\n    @Override\n    public void onCreate() {\n        super.onCreate();\n\n        Log.i(TAG, &quot;onCreate: &quot;+presetOption); // 0 int value is shown here instead of 3\n\n        //Notification Preset1\n        String titledText1 = &quot;Scan Docs With A.I Filters&quot;;\n        String someBigText1 = &quot;It's been a long time since no document is scanned...&quot;;\n        if (presetOption == 1)\n        {\n            createNotification(titledText1, someBigText1);\n        }\n        else if (presetOption == 2)\n        {\n            //notification Preset2\n            String titledText2 = &quot;Try ID Car Scan&quot;;\n            String someBigText2 = &quot;Best ever ID card scanning let you scan both side of ID Card on same page more visible&quot;;\n            createNotification(titledText2, someBigText2);\n        }else if (presetOption == 3)\n        {\n            //notification Preset3\n            String titledText3 = &quot;Try Digital Signature&quot;;\n            String someBigText3 = &quot;Draw or Import digital signature and place it on any document you want.&quot;;\n            createNotification(titledText3, someBigText3);\n        }else if (presetOption == 4)\n        {\n            //notification Preset4\n            String titledText4 = &quot;D.S.P Ocr feature&quot;;\n            String someBigText4 = &quot;Let's convert text image into editable text for you...&quot;;\n            createNotification(titledText4, someBigText4);\n        }\n        else\n        {\n            createNotification(titledText1, someBigText1);\n        }\n\n\n    }\n\n    private void createNotification(String titledTxt, String bigTxt){\n\n        NotificationCompat.BigTextStyle bigText = new NotificationCompat.BigTextStyle();\n\n        NotificationCompat.Builder mBuilder =\n                new NotificationCompat.Builder(getApplicationContext(), &quot;notify_001&quot;);\n        Intent ii = new Intent(getApplicationContext(), LauncherActivity.class);\n        PendingIntent pendingIntent = PendingIntent.getActivity(this, 0, ii, 0);\n\n\n        mBuilder.setContentIntent(pendingIntent);\n        if (android.os.Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) {\n            mBuilder.setSmallIcon(R.drawable.docx_scan_trans);\n            mBuilder.setColor(getResources().getColor(R.color.white));\n        } else {\n            mBuilder.setSmallIcon(R.mipmap.ic_launcher);\n        }\n\n        mBuilder.setContentTitle(titledTxt);\n        mBuilder.setContentText(bigTxt);\n        mBuilder.setPriority(Notification.PRIORITY_MAX);\n        mBuilder.setStyle(bigText);\n\n        mNotificationManager =\n                (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\n\n        // === Removed some obsoletes\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O)\n        {\n            String channelId = &quot;dsp-rc-123&quot;;\n            NotificationChannel channel = new NotificationChannel(\n                    channelId,\n                    &quot;Docx scanner Plus&quot;,\n                    NotificationManager.IMPORTANCE_HIGH);\n            mNotificationManager.createNotificationChannel(channel);\n            mBuilder.setChannelId(channelId);\n        }\n\n        mNotificationManager.notify(0, mBuilder.build());\n        Log.i(TAG, &quot;Notification created&quot;);\n    }\n\n    @Override\n    public IBinder onBind(Intent intent) {\n        // TODO Auto-generated method stub\n        return null;\n    }\n}`\n\n</code></pre>\n<p>`\n<strong>I am trying above code where I use constructor for initialization of int value and then I try to access that value inside onCreate method but the problem is that int value inside onCreate method is always 0 while the value is shown correctly inside constructor. Anyone can help me with that...Thanks in Advance.</strong></p>\n<p>Screenshot is shown for more clarification:\n<a href=\"https://i.stack.imgur.com/vmani.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>All I want to access the constructor value and assign it to variable inside class so that to make it global.</p>\n<p>I did not find any suitable answer related to my problem on Stack Overflow</p>\n"},{"tags":["java","if-statement","math","design-patterns","switch-statement"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1680784126,"post_id":75949502,"comment_id":133958488,"body_markdown":"You have exactly one line that mentions `y` twice, every other line mentions each variable once. Is that a typo? Also: what should happen when `q` is  &lt; 0 or &gt; 6?","body":"You have exactly one line that mentions <code>y</code> twice, every other line mentions each variable once. Is that a typo? Also: what should happen when <code>q</code> is  &lt; 0 or &gt; 6?"},{"owner":{"account_id":28175191,"reputation":1,"user_id":21533070,"display_name":"jonathan"},"score":0,"creation_date":1680784646,"post_id":75949502,"comment_id":133958618,"body_markdown":"There is no situation for `q is &lt; 0 or &gt; 6`, forget it. ANd yes, I updated the equation there is a problem with line 4","body":"There is no situation for <code>q is &lt; 0 or &gt; 6</code>, forget it. ANd yes, I updated the equation there is a problem with line 4"}],"answers":[{"tags":[],"owner":{"account_id":953960,"reputation":2945,"user_id":979590,"accept_rate":38,"display_name":"Gabriel Belingueres"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680787464,"creation_date":1680787464,"answer_id":75950061,"question_id":75949502,"body_markdown":"Assuming the x, y, and z values are somewhat constant, you could create a Map that translate the q value to a particular assignment of A, B, C.\r\n\r\n    Map&lt;Long,Assignment&gt; map = new HashMap&lt;&gt;();\r\n    map.put(0, new Assignment(x,y,z));\r\n    map.put(1, new Assignment(y,x,z));\r\n    ...\r\n    map.put(5, new Assignment(x,z,y));\r\n    \r\n    public Assignment getAssignment(double q) {\r\n      // out of range values of q return null\r\n      return map.get((long)Math.floor(q));\r\n    }","title":"How to simplify an equation by using min amount of if block in Java?","body":"<p>Assuming the x, y, and z values are somewhat constant, you could create a Map that translate the q value to a particular assignment of A, B, C.</p>\n<pre><code>Map&lt;Long,Assignment&gt; map = new HashMap&lt;&gt;();\nmap.put(0, new Assignment(x,y,z));\nmap.put(1, new Assignment(y,x,z));\n...\nmap.put(5, new Assignment(x,z,y));\n\npublic Assignment getAssignment(double q) {\n  // out of range values of q return null\n  return map.get((long)Math.floor(q));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4711943,"reputation":4009,"user_id":3812201,"accept_rate":100,"display_name":"ArcticLord"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680788490,"creation_date":1680788490,"answer_id":75950229,"question_id":75949502,"body_markdown":"Let me suggest a simple data structure:\r\n\r\n    public class Foo {\r\n\t\tprivate static final List&lt;Foo&gt; library;\r\n\t\tstatic {\r\n\t\t\tlibrary = new ArrayList&lt;Foo&gt;();\r\n\t\t\tlibrary.add(new Foo(x, y, z, 0, 1));\r\n\t\t\tlibrary.add(new Foo(y, x, z, 1, 2));\r\n\t\t\tlibrary.add(new Foo(z, x, y, 2, 3));\r\n\t\t\tlibrary.add(new Foo(z, y, x, 3, 4));\r\n\t\t\tlibrary.add(new Foo(y, z, x, 4, 5));\r\n\t\t\tlibrary.add(new Foo(x, z, y, 5, 6));\r\n\t\t};\r\n\t\tpublic static Foo get(double val) {\r\n\t\t\tfor(Foo foo : library) {\r\n\t\t\t\tif(foo.lower &lt;= val &amp;&amp; foo.upper &gt; val)\r\n\t\t\t\t\treturn foo;\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tpublic final Object A,B,C;\r\n\t\tprivate final double lower,upper;\r\n\t\tprivate Foo(Object A, Object B, Object C, double lower, double upper) {\r\n\t\t\tthis.A = A;\r\n\t\t\tthis.B = B;\r\n\t\t\tthis.C = C;\r\n\t\t\tthis.lower = lower;\r\n\t\t\tthis.upper = upper;\r\n\t\t}\r\n\t}\r\n\r\nThen you can acces your values like this\r\n\r\n    Foo foo = Foo.get(1.5d);\r\n\tfoo.A; // y","title":"How to simplify an equation by using min amount of if block in Java?","body":"<p>Let me suggest a simple data structure:</p>\n<pre><code>public class Foo {\n    private static final List&lt;Foo&gt; library;\n    static {\n        library = new ArrayList&lt;Foo&gt;();\n        library.add(new Foo(x, y, z, 0, 1));\n        library.add(new Foo(y, x, z, 1, 2));\n        library.add(new Foo(z, x, y, 2, 3));\n        library.add(new Foo(z, y, x, 3, 4));\n        library.add(new Foo(y, z, x, 4, 5));\n        library.add(new Foo(x, z, y, 5, 6));\n    };\n    public static Foo get(double val) {\n        for(Foo foo : library) {\n            if(foo.lower &lt;= val &amp;&amp; foo.upper &gt; val)\n                return foo;\n        }\n        return null;\n    }\n    public final Object A,B,C;\n    private final double lower,upper;\n    private Foo(Object A, Object B, Object C, double lower, double upper) {\n        this.A = A;\n        this.B = B;\n        this.C = C;\n        this.lower = lower;\n        this.upper = upper;\n    }\n}\n</code></pre>\n<p>Then you can acces your values like this</p>\n<pre><code>Foo foo = Foo.get(1.5d);\nfoo.A; // y\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1680803443,"creation_date":1680791067,"answer_id":75950650,"question_id":75949502,"body_markdown":"You could use a switch statement to return an object with the values. Here I am using a `record` as an immutable class.  It could also be a regular class.\r\n```\r\nrecord Data&lt;T&gt; (T A, T B, T C) {}\r\n\r\nData&lt;Integer&gt; d = getValues(10.6, 10,20,30);\r\nSystem.out.println(d);\r\nData&lt;String&gt; d2 = getValues(9.3, &quot;One&quot;,&quot;Two&quot;,&quot;Three&quot;);\r\nSystem.out.println(d2);\r\n```\r\nprints\r\n```\r\nData[A=30, B=10, C=20]\r\nData[A=Two, B=One, C=Three]\r\n```\r\n- casting `q` to an `int` will select the correct case\r\n- then just return the object associated with the value of `q`\r\n- Exception will be thrown if `q` is out of range.\r\n```\r\npublic static &lt;T&gt; Data&lt;T&gt; getValues(double q, T x, T y, T z) {           \r\n   return switch((int)(q/5)) {\r\n         case 0 -&gt; new Data&lt;&gt;(y,x,z);\r\n         case 1 -&gt; new Data&lt;&gt;(y,x,z);\r\n         case 2 -&gt; new Data&lt;&gt;(z,x,y);\r\n         case 3 -&gt; new Data&lt;&gt;(z,y,x);\r\n         case 4 -&gt; new Data&lt;&gt;(y,z,x);\r\n         case 5 -&gt; new Data&lt;&gt;(x,z,y);\r\n         default -&gt; throw new IllegalArgumentException(&quot;Argument out of range q = &quot; + q);\r\n   \r\n     };\r\n}","title":"How to simplify an equation by using min amount of if block in Java?","body":"<p>You could use a switch statement to return an object with the values. Here I am using a <code>record</code> as an immutable class.  It could also be a regular class.</p>\n<pre><code>record Data&lt;T&gt; (T A, T B, T C) {}\n\nData&lt;Integer&gt; d = getValues(10.6, 10,20,30);\nSystem.out.println(d);\nData&lt;String&gt; d2 = getValues(9.3, &quot;One&quot;,&quot;Two&quot;,&quot;Three&quot;);\nSystem.out.println(d2);\n</code></pre>\n<p>prints</p>\n<pre><code>Data[A=30, B=10, C=20]\nData[A=Two, B=One, C=Three]\n</code></pre>\n<ul>\n<li>casting <code>q</code> to an <code>int</code> will select the correct case</li>\n<li>then just return the object associated with the value of <code>q</code></li>\n<li>Exception will be thrown if <code>q</code> is out of range.</li>\n</ul>\n<pre><code>public static &lt;T&gt; Data&lt;T&gt; getValues(double q, T x, T y, T z) {           \n   return switch((int)(q/5)) {\n         case 0 -&gt; new Data&lt;&gt;(y,x,z);\n         case 1 -&gt; new Data&lt;&gt;(y,x,z);\n         case 2 -&gt; new Data&lt;&gt;(z,x,y);\n         case 3 -&gt; new Data&lt;&gt;(z,y,x);\n         case 4 -&gt; new Data&lt;&gt;(y,z,x);\n         case 5 -&gt; new Data&lt;&gt;(x,z,y);\n         default -&gt; throw new IllegalArgumentException(&quot;Argument out of range q = &quot; + q);\n   \n     };\n}\n</code></pre>\n"}],"owner":{"account_id":28175191,"reputation":1,"user_id":21533070,"display_name":"jonathan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75950650,"answer_count":3,"score":0,"last_activity_date":1680803443,"creation_date":1680784009,"question_id":75949502,"body_markdown":"I have the following equation and I am thinking that there may be an approach to simplify it:\r\n\r\n```\r\n(A, B, C) = (x, y, z), if (0 &lt;= q &lt; 5)\r\n            (y, x, z), if (5 &lt;= q &lt; 10)\r\n            (z, x ,y), if (10 &lt;= q &lt; 15)\r\n            (z, y, x), if (15 &lt;= q &lt; 20)\r\n            (y, z, x), if (20 &lt;= q &lt; 25)\r\n            (x, z, y), if (25 &lt;= q &lt; 30)\r\n```\r\n\r\nIs there a better way to write 6 condition for this equation? \r\n\r\n```\r\nif(0 &lt;= q &amp;&amp; q &lt; 1)\r\n    A = x; B 0 y; C = z;\r\nelse if(1 &lt;= q &amp;&amp; q &lt; 2)\r\n   ...\r\n```","title":"How to simplify an equation by using min amount of if block in Java?","body":"<p>I have the following equation and I am thinking that there may be an approach to simplify it:</p>\n<pre><code>(A, B, C) = (x, y, z), if (0 &lt;= q &lt; 5)\n            (y, x, z), if (5 &lt;= q &lt; 10)\n            (z, x ,y), if (10 &lt;= q &lt; 15)\n            (z, y, x), if (15 &lt;= q &lt; 20)\n            (y, z, x), if (20 &lt;= q &lt; 25)\n            (x, z, y), if (25 &lt;= q &lt; 30)\n</code></pre>\n<p>Is there a better way to write 6 condition for this equation?</p>\n<pre><code>if(0 &lt;= q &amp;&amp; q &lt; 1)\n    A = x; B 0 y; C = z;\nelse if(1 &lt;= q &amp;&amp; q &lt; 2)\n   ...\n</code></pre>\n"},{"tags":["java","json","jackson"],"comments":[{"owner":{"account_id":195331,"reputation":275398,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1565623360,"post_id":57463841,"comment_id":101401397,"body_markdown":"You can provide your own `PrettyPrinter` instance for `ObjectMapper` to use. For eg. https://stackoverflow.com/questions/28256852/what-is-the-simplest-way-to-configure-the-indentation-spacing-on-a-jackson-objec","body":"You can provide your own <code>PrettyPrinter</code> instance for <code>ObjectMapper</code> to use. For eg. <a href=\"https://stackoverflow.com/questions/28256852/what-is-the-simplest-way-to-configure-the-indentation-spacing-on-a-jackson-objec\" title=\"what is the simplest way to configure the indentation spacing on a jackson objec\">stackoverflow.com/questions/28256852/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1565682078,"creation_date":1565624996,"answer_id":57464391,"question_id":57463841,"body_markdown":"Yes. You can customise the `DefaultPrettyPrinter` with the followings: \r\n\r\n - Use `withoutSpacesInObjectEntries()` to turn off spaces\r\n   inside the object entries\r\n\r\n - Set the array indenter to `DefaultPrettyPrinter.NopIndenter` such that there is  no spaces to separate the array value.  \r\n\r\nCode wise , it looks like : \r\n\r\n\r\n    DefaultPrettyPrinter pp = new DefaultPrettyPrinter()\r\n                .withoutSpacesInObjectEntries()\r\n                .withArrayIndenter(new DefaultPrettyPrinter.NopIndenter());\r\n    \r\n    ObjectWriter w = new ObjectMapper()\r\n                .writer()\r\n                .with(pp);\r\n\r\nIt will output the JSON with the format like :\r\n\r\n    {\r\n      &quot;users&quot;:[{\r\n        &quot;name&quot;:&quot;u1&quot;,\r\n        &quot;age&quot;:10\r\n      },{\r\n        &quot;name&quot;:&quot;u2&quot;,\r\n        &quot;age&quot;:20\r\n      }]\r\n    }\r\n\r\n","title":"Pretty print Jackson json without whitespaces?","body":"<p>Yes. You can customise the <code>DefaultPrettyPrinter</code> with the followings: </p>\n\n<ul>\n<li><p>Use <code>withoutSpacesInObjectEntries()</code> to turn off spaces\ninside the object entries</p></li>\n<li><p>Set the array indenter to <code>DefaultPrettyPrinter.NopIndenter</code> such that there is  no spaces to separate the array value.  </p></li>\n</ul>\n\n<p>Code wise , it looks like : </p>\n\n<pre><code>DefaultPrettyPrinter pp = new DefaultPrettyPrinter()\n            .withoutSpacesInObjectEntries()\n            .withArrayIndenter(new DefaultPrettyPrinter.NopIndenter());\n\nObjectWriter w = new ObjectMapper()\n            .writer()\n            .with(pp);\n</code></pre>\n\n<p>It will output the JSON with the format like :</p>\n\n<pre><code>{\n  \"users\":[{\n    \"name\":\"u1\",\n    \"age\":10\n  },{\n    \"name\":\"u2\",\n    \"age\":20\n  }]\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":145555,"reputation":21469,"user_id":355438,"display_name":"Ilya Serbis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680803114,"creation_date":1680802412,"answer_id":75952286,"question_id":57463841,"body_markdown":"If you would like to get something like this (spaces only after colons and entities of the array are separated by line breaks)\r\n\r\n\t{\r\n\t  &quot;users&quot;: [\r\n\t\t{\r\n\t\t  &quot;name&quot;: &quot;u1&quot;,\r\n\t\t  &quot;age&quot;: 10\r\n\t\t},\r\n\t\t{\r\n\t\t  &quot;name&quot;: &quot;u2&quot;,\r\n\t\t  &quot;age&quot;: 20\r\n\t\t}\r\n\t  ]\r\n\t}\r\n\r\nyou should use custom `PrettyPrinter` implementation:\r\n\r\n\tpublic class CustomPrettyPrinter extends DefaultPrettyPrinter {\r\n\t\tpublic CustomPrettyPrinter() {\r\n\t\t\tsuper._arrayIndenter = new DefaultIndenter();\r\n\t\t\tsuper._objectFieldValueSeparatorWithSpaces = _separators.getObjectFieldValueSeparator() + &quot; &quot;;\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic CustomPrettyPrinter createInstance() {\r\n\t\t\treturn new CustomPrettyPrinter();\r\n\t\t}\r\n\t}\r\n\r\nusing the following code:\r\n\r\n    ObjectWriter writer = new ObjectMapper()\r\n            .writer()\r\n            .with(new CustomPrettyPrinter());\r\n    String result = writer.writeValueAsString(obj);","title":"Pretty print Jackson json without whitespaces?","body":"<p>If you would like to get something like this (spaces only after colons and entities of the array are separated by line breaks)</p>\n<pre><code>{\n  &quot;users&quot;: [\n    {\n      &quot;name&quot;: &quot;u1&quot;,\n      &quot;age&quot;: 10\n    },\n    {\n      &quot;name&quot;: &quot;u2&quot;,\n      &quot;age&quot;: 20\n    }\n  ]\n}\n</code></pre>\n<p>you should use custom <code>PrettyPrinter</code> implementation:</p>\n<pre><code>public class CustomPrettyPrinter extends DefaultPrettyPrinter {\n    public CustomPrettyPrinter() {\n        super._arrayIndenter = new DefaultIndenter();\n        super._objectFieldValueSeparatorWithSpaces = _separators.getObjectFieldValueSeparator() + &quot; &quot;;\n    }\n\n    @Override\n    public CustomPrettyPrinter createInstance() {\n        return new CustomPrettyPrinter();\n    }\n}\n</code></pre>\n<p>using the following code:</p>\n<pre><code>ObjectWriter writer = new ObjectMapper()\n        .writer()\n        .with(new CustomPrettyPrinter());\nString result = writer.writeValueAsString(obj);\n</code></pre>\n"}],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3248,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":57464391,"answer_count":2,"score":1,"last_activity_date":1680803114,"creation_date":1565622753,"question_id":57463841,"body_markdown":"I have a `json` string that I want to pretty print with `jackson`. The following works in general:\r\n\r\n\t\tObjectWriter w = new ObjectMapper()\r\n\t\t\t\t.writer()\r\n\t\t\t\t.withDefaultPrettyPrinter();\r\n\r\n\t\tObject obj = new ObjectMapper().readValue(json, Object.class);\r\n\t\tSystem.out.println(w.writeValueAsString(obj));\r\n\r\nResult:\r\n\r\n    {\r\n       &quot;myarray&quot; : [ {\r\n          &quot;field&quot; : &quot;val&quot;\r\n       } ]\r\n    }\r\n\r\nBUT: I&#39;d like to get the output without whitespaces between parameters. Is  that possible?\r\n\r\nDesired output:\r\n\r\n    {\r\n       &quot;myarray&quot;:[{\r\n          &quot;field&quot;:&quot;val&quot;\r\n       }]\r\n    }","title":"Pretty print Jackson json without whitespaces?","body":"<p>I have a <code>json</code> string that I want to pretty print with <code>jackson</code>. The following works in general:</p>\n\n<pre><code>    ObjectWriter w = new ObjectMapper()\n            .writer()\n            .withDefaultPrettyPrinter();\n\n    Object obj = new ObjectMapper().readValue(json, Object.class);\n    System.out.println(w.writeValueAsString(obj));\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>{\n   \"myarray\" : [ {\n      \"field\" : \"val\"\n   } ]\n}\n</code></pre>\n\n<p>BUT: I'd like to get the output without whitespaces between parameters. Is  that possible?</p>\n\n<p>Desired output:</p>\n\n<pre><code>{\n   \"myarray\":[{\n      \"field\":\"val\"\n   }]\n}\n</code></pre>\n"},{"tags":["java","multithreading","cassandra","datastax"],"comments":[{"owner":{"account_id":9160590,"reputation":2225,"user_id":6812035,"display_name":"Carlos Monroy Nieblas"},"score":0,"creation_date":1570511434,"post_id":58279546,"comment_id":102926632,"body_markdown":"how are you initializing the session object?","body":"how are you initializing the session object?"},{"owner":{"account_id":2834181,"reputation":432,"user_id":2435117,"display_name":"SDt"},"score":0,"creation_date":1570513285,"post_id":58279546,"comment_id":102927079,"body_markdown":"@CarlosMonroyNieblas I have added that in the code section of my question now.","body":"@CarlosMonroyNieblas I have added that in the code section of my question now."},{"owner":{"account_id":60456,"reputation":55961,"user_id":1054558,"accept_rate":100,"display_name":"Aaron"},"score":0,"creation_date":1572352305,"post_id":58279546,"comment_id":103525791,"body_markdown":"William brings up a good point below.  When you run `nodetool status` what is the name of your data center?","body":"William brings up a good point below.  When you run <code>nodetool status</code> what is the name of your data center?"}],"answers":[{"tags":[],"owner":{"account_id":4329387,"reputation":204,"user_id":3535293,"display_name":"William"},"down_vote_count":1,"up_vote_count":19,"is_accepted":true,"score":18,"last_activity_date":1572258207,"creation_date":1572255919,"answer_id":58588661,"question_id":58279546,"body_markdown":"Change `.withLocalDatacenter(&quot;us-east-2&quot;)` to `.withLocalDatacenter(&quot;datacenter1&quot;)` and retry.","title":"NoNodeAvailableException: No node was available to execute the query","body":"<p>Change <code>.withLocalDatacenter(\"us-east-2\")</code> to <code>.withLocalDatacenter(\"datacenter1\")</code> and retry.</p>\n"},{"tags":[],"owner":{"account_id":17805754,"reputation":151,"user_id":12931506,"display_name":"Ceci G J"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1582195076,"creation_date":1582193782,"answer_id":60317577,"question_id":58279546,"body_markdown":"You can execute nodetool status in cassandra and you will obtain the name of the Datacenter. That is the value that you must put in `withLocalDatacenter` method:\r\n\r\n```\r\n/opt/apache-cassandra-3.11.2/bin$ ./nodetool status\r\nDatacenter: **dc1**\r\n===============\r\nStatus=Up/Down\r\n|/ State=Normal/Leaving/Joining/Moving\r\n--  Address         Load       Tokens       Owns (effective)  Host ID    Rack\r\n```","title":"NoNodeAvailableException: No node was available to execute the query","body":"<p>You can execute nodetool status in cassandra and you will obtain the name of the Datacenter. That is the value that you must put in <code>withLocalDatacenter</code> method:</p>\n\n<pre><code>/opt/apache-cassandra-3.11.2/bin$ ./nodetool status\nDatacenter: **dc1**\n===============\nStatus=Up/Down\n|/ State=Normal/Leaving/Joining/Moving\n--  Address         Load       Tokens       Owns (effective)  Host ID    Rack\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10966656,"reputation":176,"user_id":8058202,"display_name":"PraveenKumar K G"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638194645,"creation_date":1638194645,"answer_id":70155972,"question_id":58279546,"body_markdown":"When running in local, better to run nodetool status command get the dc name and use in application while connecting to Cassandra instance.","title":"NoNodeAvailableException: No node was available to execute the query","body":"<p>When running in local, better to run nodetool status command get the dc name and use in application while connecting to Cassandra instance.</p>\n"}],"owner":{"account_id":2834181,"reputation":432,"user_id":2435117,"display_name":"SDt"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22497,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":58588661,"answer_count":3,"score":15,"last_activity_date":1680802628,"creation_date":1570502415,"question_id":58279546,"body_markdown":"I am not using Elasticssearch. I am trying to perform some database operations in cassandra using CQL. I am using threads. While running the code I am always getting the exception in thread after a while : com.datastax.oss.driver.api.core.NoNodeAvailableException: No node was available to execute the query. \r\n\r\nI have tested with even one thread. The error is still there. Here is my code : \r\n       \r\n    InetAddress addrOne = InetAddress.getByName(&quot;52.15.195.41&quot;);\r\n\tInetSocketAddress addrSocOne = new InetSocketAddress(addrOne,9042);\r\n    CqlSession sessionOne = CqlSession.builder().addContactPoint(addrSocOne).withLocalDatacenter(&quot;us-east-2&quot;).withKeyspace(&quot;test&quot;).build();\r\n\r\n    while(counter &lt;= 100)\r\n    {\r\n\t    String query = &quot;select max(id) FROM samplequeue&quot;;\r\n\t    ResultSet rs = session.execute(query);\r\n\t    for (Row row : rs) \r\n\t    {\r\n\t        int exS = row.getInt(&quot;system.max(id)&quot;);\r\n\t    }\r\n        counter++;\r\n\t    Thread.sleep(50);\r\n    }\r\n\r\nThis is a very simple, modified example just to demonstrate the problem. I am unable to resolve it. All the threads are exiting giving the same exception. I am running cassandra 3.11.4 on AWS. All my nodes are up and running and I can perform operations finely in the backend.","title":"NoNodeAvailableException: No node was available to execute the query","body":"<p>I am not using Elasticssearch. I am trying to perform some database operations in cassandra using CQL. I am using threads. While running the code I am always getting the exception in thread after a while : com.datastax.oss.driver.api.core.NoNodeAvailableException: No node was available to execute the query. </p>\n\n<p>I have tested with even one thread. The error is still there. Here is my code : </p>\n\n<pre><code>InetAddress addrOne = InetAddress.getByName(\"52.15.195.41\");\nInetSocketAddress addrSocOne = new InetSocketAddress(addrOne,9042);\nCqlSession sessionOne = CqlSession.builder().addContactPoint(addrSocOne).withLocalDatacenter(\"us-east-2\").withKeyspace(\"test\").build();\n\nwhile(counter &lt;= 100)\n{\n    String query = \"select max(id) FROM samplequeue\";\n    ResultSet rs = session.execute(query);\n    for (Row row : rs) \n    {\n        int exS = row.getInt(\"system.max(id)\");\n    }\n    counter++;\n    Thread.sleep(50);\n}\n</code></pre>\n\n<p>This is a very simple, modified example just to demonstrate the problem. I am unable to resolve it. All the threads are exiting giving the same exception. I am running cassandra 3.11.4 on AWS. All my nodes are up and running and I can perform operations finely in the backend.</p>\n"},{"tags":["java","android-studio","spotify"],"owner":{"account_id":20240006,"reputation":41,"user_id":14844119,"display_name":"Ahmad Ajmal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1680802392,"creation_date":1669757070,"question_id":74620399,"body_markdown":"I&#39;m trying to build an app which integrates the Spotify App Remote SDK. However, when I try to connect to Spotify using the SDK, the CouldNotFindSpotifyApp error is thrown even though the Spotify app is installed on the device.\r\n\r\nI found other solutions on stackoverflow that asked me to add a queries in the manifest\r\n\\`\r\n\r\n```\r\n&lt;queries&gt;\r\n    &lt;package android:name=&quot;com.spotify.music&quot; /&gt;\r\n&lt;/queries&gt;\r\n```\r\n\r\n\\`\r\nBut that doesn&#39;t work and gives me the same error\r\n\r\nI tried to connect to the spotify api using this code:\r\n\\`\r\n\r\n```\r\nConnectionParams connectionParams =\r\n        new ConnectionParams.Builder(CLIENT_ID)\r\n                .setRedirectUri(REDIRECT_URI)\r\n                .showAuthView(true)\r\n                .build();\r\nSpotifyAppRemote.connect(this, connectionParams,\r\n        new Connector.ConnectionListener() {\r\n\r\n            @Override\r\n            public void onConnected(SpotifyAppRemote spotifyAppRemote) {\r\n                mSpotifyAppRemote = spotifyAppRemote;\r\n                Log.d(&quot;MainActivity&quot;, &quot;Connected! Yay!&quot;);\r\n\r\n                // Now you can start interacting with App Remote\r\n                connected();\r\n            }\r\n\r\n            @Override\r\n            public void onFailure(Throwable error) {\r\n                if (error instanceof NotLoggedInException || error instanceof UserNotAuthorizedException) {\r\n                    Log.d(&quot;MainActivity&quot;, &quot;Other Error&quot;);\r\n                } else if (error instanceof CouldNotFindSpotifyApp) {\r\n                    Log.d(&quot;MainActivity&quot;, &quot;User Not Found&quot;);\r\n                }\r\n            }\r\n        });\r\n```\r\n\r\n\\`\r\n\r\nAnd instead of connecting it gave me an error\r\n\r\n```\r\nCouldNotFindSpotifyApp\r\n```","title":"Spotify App Remote SDK: CouldNotFindSpotifyApp error","body":"<p>I'm trying to build an app which integrates the Spotify App Remote SDK. However, when I try to connect to Spotify using the SDK, the CouldNotFindSpotifyApp error is thrown even though the Spotify app is installed on the device.</p>\n<p>I found other solutions on stackoverflow that asked me to add a queries in the manifest\n`</p>\n<pre><code>&lt;queries&gt;\n    &lt;package android:name=&quot;com.spotify.music&quot; /&gt;\n&lt;/queries&gt;\n</code></pre>\n<p>`\nBut that doesn't work and gives me the same error</p>\n<p>I tried to connect to the spotify api using this code:\n`</p>\n<pre><code>ConnectionParams connectionParams =\n        new ConnectionParams.Builder(CLIENT_ID)\n                .setRedirectUri(REDIRECT_URI)\n                .showAuthView(true)\n                .build();\nSpotifyAppRemote.connect(this, connectionParams,\n        new Connector.ConnectionListener() {\n\n            @Override\n            public void onConnected(SpotifyAppRemote spotifyAppRemote) {\n                mSpotifyAppRemote = spotifyAppRemote;\n                Log.d(&quot;MainActivity&quot;, &quot;Connected! Yay!&quot;);\n\n                // Now you can start interacting with App Remote\n                connected();\n            }\n\n            @Override\n            public void onFailure(Throwable error) {\n                if (error instanceof NotLoggedInException || error instanceof UserNotAuthorizedException) {\n                    Log.d(&quot;MainActivity&quot;, &quot;Other Error&quot;);\n                } else if (error instanceof CouldNotFindSpotifyApp) {\n                    Log.d(&quot;MainActivity&quot;, &quot;User Not Found&quot;);\n                }\n            }\n        });\n</code></pre>\n<p>`</p>\n<p>And instead of connecting it gave me an error</p>\n<pre><code>CouldNotFindSpotifyApp\n</code></pre>\n"},{"tags":["java","hibernate","hibernate-criteria"],"owner":{"account_id":2215372,"reputation":419,"user_id":1956139,"accept_rate":57,"display_name":"Curtis Snowden"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1680802119,"creation_date":1680802119,"question_id":75952255,"body_markdown":"I have a complicated custom field framework I&#39;ve built for my application, and I&#39;m trying to generify things in order to help with maintenance and overhead. I&#39;ve started extensive use of generics, but I&#39;ve hit a bit of a snag when it comes to querying for data. I&#39;d like to have an &quot;alias&quot; for fields that all have different names so that a single universal query can be used with a generic method in order to get the same general results.\r\n\r\nTo try and clarify. I have custom field values for several different parent entity models. These various custom field values each have their own class, but they all share the same basic implementation - There is an EmbeddedId composite Id that references the parent entity. This parent entity is different for each type, but they all have one. Here are two examples:\r\n\r\n    @Entity\r\n    public class CustomFieldEntity1Value implements Serializable, CustomFieldValueCommon {\r\n    \r\n    \t/***************************************************************\r\n    \t * Fields\r\n    \t ***************************************************************/\r\n    \t\r\n        @EmbeddedId\r\n    \tprivate CustomFieldEntity1ValueId pk = new CustomFieldEntity1ValueId();\r\n\r\n        @Column(name = &quot;VALUE&quot;, nullable = false, insertable = true, updatable = true, length = 4000)\r\n        private String value;\r\n    }\r\n\r\n    @Embeddable\r\n    public class CustomFieldEntity1ValueId implements Serializable {\r\n    \r\n    \t/***************************************************************\r\n    \t * Constructors\r\n    \t ***************************************************************/\r\n    \t\r\n    \tpublic CustomFieldEntity1ValueId (Entity1 entity1, CustomFieldEntity1Meta customFieldMeta) {\r\n    \t\tthis.entity1 = entity1;\r\n    \t\tthis.customFieldMeta = customFieldMeta;\r\n    \t}\r\n    \t\r\n    \t/***************************************************************\r\n    \t * Fields\r\n    \t ***************************************************************/\r\n    \r\n    \t/**\r\n    \t * The parent entity that this value is directly associated with.\r\n    \t */\r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n    \t@JoinColumn(name = &quot;FK_ENTITY1&quot;)\r\n    \tprivate Entity1 entity1;\r\n        \r\n        /**\r\n         * The parent custom field meta that this value is directly associated with.\r\n         */\r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n    \t@JoinColumn(name = &quot;FK_CUSTOMFIELDMETA&quot;)\r\n        private CustomFieldEntity1Meta customFieldMeta;\r\n    }\r\n\r\nand\r\n\r\n    @Entity\r\n    public class CustomFieldEntity2Value implements Serializable, CustomFieldValueCommon {\r\n    \r\n    \t/***************************************************************\r\n    \t * Fields\r\n    \t ***************************************************************/\r\n    \t\r\n        @EmbeddedId\r\n    \tprivate CustomFieldEntity2ValueId pk = new CustomFieldEntity2ValueId();\r\n\r\n        @Column(name = &quot;VALUE&quot;, nullable = false, insertable = true, updatable = true, length = 4000)\r\n        private String value;\r\n    }\r\n\r\n    @Embeddable\r\n    public class CustomFieldEntity2ValueId implements Serializable {\r\n    \r\n    \t/***************************************************************\r\n    \t * Constructors\r\n    \t ***************************************************************/\r\n    \t\r\n    \tpublic CustomFieldEntity2ValueId (Entity2 entity2, CustomFieldEntity2Meta customFieldMeta) {\r\n    \t\tthis.entity2 = entity2;\r\n    \t\tthis.customFieldMeta = customFieldMeta;\r\n    \t}\r\n    \t\r\n    \t/***************************************************************\r\n    \t * Fields\r\n    \t ***************************************************************/\r\n    \r\n    \t/**\r\n    \t * The parent entity that this value is directly associated with.\r\n    \t */\r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n    \t@JoinColumn(name = &quot;FK_ENTITY2&quot;)\r\n    \tprivate Entity2 entity2;\r\n        \r\n        /**\r\n         * The parent custom field meta that this value is directly associated with.\r\n         */\r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n    \t@JoinColumn(name = &quot;FK_CUSTOMFIELDMETA&quot;)\r\n        private CustomFieldEntity2Meta customFieldMeta;\r\n    }\r\n\r\nA lot is obviously omitted, but that should show my general setup. I currently have about 10 of these, and more get added which is why I&#39;m working to generify things.\r\n\r\nNow, what I normally do in order to get all of the values for a particular entity is reference it directly in my criteria via the proper path. I am using Hibernate.\r\n\r\n    CriteriaQuery&lt;CustomFieldEntity1Value&gt; criteriaQuery = criteriaBuilder.createQuery(CustomFieldEntity1Value.class);\r\n    Root&lt;CustomFieldEntity1Value&gt; root = criteriaQuery.from(CustomFieldEntity1Value.class);\r\n    criteriaQuery\r\n    \t.select(root)\r\n    \t.where(\r\n    \t\tcriteriaBuilder.equal(root.get(&quot;pk&quot;).get(&quot;entity1&quot;).get(&quot;id&quot;), entity1Id)\r\n    \t);\r\n\r\nSo what I&#39;d like to do is be able to generically reference this parent entity id in the query via an alias, so that the same code snippet can be used for all existing custom fields, and used again for any new instances I may create in the future. Something like this:\r\n\r\n    public &lt;T extends CustomFieldValueCommon&gt; List&lt;T&gt; getCustomFieldValues(Integer parentEntityId, Class&lt;T&gt; customFieldValueClass) {\r\n        CriteriaBuilder criteriaBuilder = entityManager().getCriteriaBuilder();\r\n    \tCriteriaQuery&lt;T&gt; criteriaQuery = criteriaBuilder.createQuery(customFieldValueClass);\r\n    \tRoot&lt;T&gt; root = criteriaQuery.from(customFieldValueClass);\r\n    \tcriteriaQuery\r\n    \t\t.select(root)\r\n    \t\t.where(\r\n    \t\t\tcriteriaBuilder.equal(root.get(&quot;parentEntityId&quot;), parentEntityId)\r\n    \t\t);\r\n    \t\t\r\n    \treturn entityManager().createQuery(createQuery).getResultList();\r\n    }\r\n\r\nIt&#39;s the &quot;parentEntityId&quot; portion that is giving me trouble. I&#39;d prefer not to change my composite ID classes, as that will entail possibly days of changing everything from Entity1, Entity2, etc to &quot;Entity1 parentEntity&quot;, &quot;Entity2 parentEntity&quot;, etc. and all corresponding references throughout the rest of the code. I&#39;m just wondering if there is an annotation available in Hibernate or something else that Hibernate can utilize which can be used as a general alias to a field of any depth. Depending on the class, &quot;parentEntityId&quot; will refer to &quot;pk.entity1.id&quot; or &quot;pk.entity2.id&quot;, etc. Is there any way to achieve this?","title":"Hibernate Query Field Alias","body":"<p>I have a complicated custom field framework I've built for my application, and I'm trying to generify things in order to help with maintenance and overhead. I've started extensive use of generics, but I've hit a bit of a snag when it comes to querying for data. I'd like to have an &quot;alias&quot; for fields that all have different names so that a single universal query can be used with a generic method in order to get the same general results.</p>\n<p>To try and clarify. I have custom field values for several different parent entity models. These various custom field values each have their own class, but they all share the same basic implementation - There is an EmbeddedId composite Id that references the parent entity. This parent entity is different for each type, but they all have one. Here are two examples:</p>\n<pre><code>@Entity\npublic class CustomFieldEntity1Value implements Serializable, CustomFieldValueCommon {\n\n    /***************************************************************\n     * Fields\n     ***************************************************************/\n    \n    @EmbeddedId\n    private CustomFieldEntity1ValueId pk = new CustomFieldEntity1ValueId();\n\n    @Column(name = &quot;VALUE&quot;, nullable = false, insertable = true, updatable = true, length = 4000)\n    private String value;\n}\n\n@Embeddable\npublic class CustomFieldEntity1ValueId implements Serializable {\n\n    /***************************************************************\n     * Constructors\n     ***************************************************************/\n    \n    public CustomFieldEntity1ValueId (Entity1 entity1, CustomFieldEntity1Meta customFieldMeta) {\n        this.entity1 = entity1;\n        this.customFieldMeta = customFieldMeta;\n    }\n    \n    /***************************************************************\n     * Fields\n     ***************************************************************/\n\n    /**\n     * The parent entity that this value is directly associated with.\n     */\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;FK_ENTITY1&quot;)\n    private Entity1 entity1;\n    \n    /**\n     * The parent custom field meta that this value is directly associated with.\n     */\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;FK_CUSTOMFIELDMETA&quot;)\n    private CustomFieldEntity1Meta customFieldMeta;\n}\n</code></pre>\n<p>and</p>\n<pre><code>@Entity\npublic class CustomFieldEntity2Value implements Serializable, CustomFieldValueCommon {\n\n    /***************************************************************\n     * Fields\n     ***************************************************************/\n    \n    @EmbeddedId\n    private CustomFieldEntity2ValueId pk = new CustomFieldEntity2ValueId();\n\n    @Column(name = &quot;VALUE&quot;, nullable = false, insertable = true, updatable = true, length = 4000)\n    private String value;\n}\n\n@Embeddable\npublic class CustomFieldEntity2ValueId implements Serializable {\n\n    /***************************************************************\n     * Constructors\n     ***************************************************************/\n    \n    public CustomFieldEntity2ValueId (Entity2 entity2, CustomFieldEntity2Meta customFieldMeta) {\n        this.entity2 = entity2;\n        this.customFieldMeta = customFieldMeta;\n    }\n    \n    /***************************************************************\n     * Fields\n     ***************************************************************/\n\n    /**\n     * The parent entity that this value is directly associated with.\n     */\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;FK_ENTITY2&quot;)\n    private Entity2 entity2;\n    \n    /**\n     * The parent custom field meta that this value is directly associated with.\n     */\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;FK_CUSTOMFIELDMETA&quot;)\n    private CustomFieldEntity2Meta customFieldMeta;\n}\n</code></pre>\n<p>A lot is obviously omitted, but that should show my general setup. I currently have about 10 of these, and more get added which is why I'm working to generify things.</p>\n<p>Now, what I normally do in order to get all of the values for a particular entity is reference it directly in my criteria via the proper path. I am using Hibernate.</p>\n<pre><code>CriteriaQuery&lt;CustomFieldEntity1Value&gt; criteriaQuery = criteriaBuilder.createQuery(CustomFieldEntity1Value.class);\nRoot&lt;CustomFieldEntity1Value&gt; root = criteriaQuery.from(CustomFieldEntity1Value.class);\ncriteriaQuery\n    .select(root)\n    .where(\n        criteriaBuilder.equal(root.get(&quot;pk&quot;).get(&quot;entity1&quot;).get(&quot;id&quot;), entity1Id)\n    );\n</code></pre>\n<p>So what I'd like to do is be able to generically reference this parent entity id in the query via an alias, so that the same code snippet can be used for all existing custom fields, and used again for any new instances I may create in the future. Something like this:</p>\n<pre><code>public &lt;T extends CustomFieldValueCommon&gt; List&lt;T&gt; getCustomFieldValues(Integer parentEntityId, Class&lt;T&gt; customFieldValueClass) {\n    CriteriaBuilder criteriaBuilder = entityManager().getCriteriaBuilder();\n    CriteriaQuery&lt;T&gt; criteriaQuery = criteriaBuilder.createQuery(customFieldValueClass);\n    Root&lt;T&gt; root = criteriaQuery.from(customFieldValueClass);\n    criteriaQuery\n        .select(root)\n        .where(\n            criteriaBuilder.equal(root.get(&quot;parentEntityId&quot;), parentEntityId)\n        );\n        \n    return entityManager().createQuery(createQuery).getResultList();\n}\n</code></pre>\n<p>It's the &quot;parentEntityId&quot; portion that is giving me trouble. I'd prefer not to change my composite ID classes, as that will entail possibly days of changing everything from Entity1, Entity2, etc to &quot;Entity1 parentEntity&quot;, &quot;Entity2 parentEntity&quot;, etc. and all corresponding references throughout the rest of the code. I'm just wondering if there is an annotation available in Hibernate or something else that Hibernate can utilize which can be used as a general alias to a field of any depth. Depending on the class, &quot;parentEntityId&quot; will refer to &quot;pk.entity1.id&quot; or &quot;pk.entity2.id&quot;, etc. Is there any way to achieve this?</p>\n"},{"tags":["java","text"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1680799950,"post_id":75951761,"comment_id":133962546,"body_markdown":"var values = input.split(&quot;anyValue&quot;);` should get you most of the way there.","body":"var values = input.split(&quot;anyValue&quot;);` should get you most of the way there."},{"owner":{"account_id":9868787,"reputation":171,"user_id":9199753,"display_name":"Pedro Henrique"},"score":0,"creation_date":1680800658,"post_id":75951761,"comment_id":133962735,"body_markdown":"the values between variables can be anything and do not necessarily have a pattern","body":"the values between variables can be anything and do not necessarily have a pattern"}],"answers":[{"tags":[],"owner":{"account_id":15500461,"reputation":50,"user_id":11940310,"display_name":"Braian Pita"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680801633,"creation_date":1680801260,"answer_id":75952120,"question_id":75951761,"body_markdown":"You can use the following code in java:\r\n\r\n```java\r\n\r\nimport java.util.regex.Matcher;\r\nimport java.util.regex.Pattern;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        String pattern= &quot;anyvalue{variable1}anyvalue{variable2}anyvalue{var3}&quot;;\r\n        String input = &quot;anyvaluehelloanyvalueworldanyvaluesomething&quot;;\r\n\r\n        // Convert the pattern into a regular expression\r\n        String regex = pattern.replaceAll(&quot;\\\\{(.+?)\\\\}&quot;, &quot;(?&lt;$1&gt;.*)&quot;);\r\n\r\n        Pattern r = Pattern.compile(regex);\r\n        Matcher m = r.matcher(input);\r\n        \r\n        if (m.find()) {\r\n            // Get the names of the capture groups from the pattern\r\n            Pattern groupNamesPattern = Pattern.compile(&quot;\\\\(\\\\?&lt;(.+?)&gt;&quot;);\r\n            Matcher groupNamesMatcher = groupNamesPattern.matcher(regex);\r\n            \r\n            // Print all the variables that were found\r\n            while (groupNamesMatcher.find()) {\r\n                String variableName = groupNamesMatcher.group(1);\r\n                String variableValue = m.group(variableName);\r\n                System.out.println(variableName + &quot;: &quot; + variableValue);\r\n            }\r\n        } else {\r\n            System.out.println(&quot;No match found.&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\nI am basically converting your pattern to named groups for any {variable_name} in the pattern. As far as I know, there is no easy way to get the groups&#39; names, so you need a second regex to get those for your output.\r\n\r\nHowever, there seem to be a few alternatives to find the named groups. You can follow [this thread][1] if you want to look into other alternatives to find the names of the groups.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/15588903/get-group-names-in-java-regex","title":"how to extract variables based on a pattern braces using regex in Java?","body":"<p>You can use the following code in java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nimport java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\npublic class Main {\n    public static void main(String[] args) {\n        String pattern= &quot;anyvalue{variable1}anyvalue{variable2}anyvalue{var3}&quot;;\n        String input = &quot;anyvaluehelloanyvalueworldanyvaluesomething&quot;;\n\n        // Convert the pattern into a regular expression\n        String regex = pattern.replaceAll(&quot;\\\\{(.+?)\\\\}&quot;, &quot;(?&lt;$1&gt;.*)&quot;);\n\n        Pattern r = Pattern.compile(regex);\n        Matcher m = r.matcher(input);\n        \n        if (m.find()) {\n            // Get the names of the capture groups from the pattern\n            Pattern groupNamesPattern = Pattern.compile(&quot;\\\\(\\\\?&lt;(.+?)&gt;&quot;);\n            Matcher groupNamesMatcher = groupNamesPattern.matcher(regex);\n            \n            // Print all the variables that were found\n            while (groupNamesMatcher.find()) {\n                String variableName = groupNamesMatcher.group(1);\n                String variableValue = m.group(variableName);\n                System.out.println(variableName + &quot;: &quot; + variableValue);\n            }\n        } else {\n            System.out.println(&quot;No match found.&quot;);\n        }\n    }\n}\n</code></pre>\n<p>I am basically converting your pattern to named groups for any {variable_name} in the pattern. As far as I know, there is no easy way to get the groups' names, so you need a second regex to get those for your output.</p>\n<p>However, there seem to be a few alternatives to find the named groups. You can follow <a href=\"https://stackoverflow.com/questions/15588903/get-group-names-in-java-regex\">this thread</a> if you want to look into other alternatives to find the names of the groups.</p>\n"}],"owner":{"account_id":9868787,"reputation":171,"user_id":9199753,"display_name":"Pedro Henrique"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75952120,"answer_count":1,"score":1,"last_activity_date":1680801693,"creation_date":1680798581,"question_id":75951761,"body_markdown":"Have this data input:\r\n\r\npattern: `anyValue{variable1}otherValue{variable2}lastValue`\r\n\r\nvalue: `anyValuehellootherValueworldlastValue`\r\n\r\nExpect this output\r\n\r\n    variable1: hello\r\n    variable2: world\r\n\r\ncan i have any variables with braces,\r\nI would like an example using Regex with an implementation in Java or another language,\r\n","title":"how to extract variables based on a pattern braces using regex in Java?","body":"<p>Have this data input:</p>\n<p>pattern: <code>anyValue{variable1}otherValue{variable2}lastValue</code></p>\n<p>value: <code>anyValuehellootherValueworldlastValue</code></p>\n<p>Expect this output</p>\n<pre><code>variable1: hello\nvariable2: world\n</code></pre>\n<p>can i have any variables with braces,\nI would like an example using Regex with an implementation in Java or another language,</p>\n"},{"tags":["java","spring-boot","exception"],"comments":[{"owner":{"account_id":1362416,"reputation":4479,"user_id":1299533,"display_name":"Scott Frederick"},"score":0,"creation_date":1680807603,"post_id":75952142,"comment_id":133964207,"body_markdown":"What version of Spring Boot are you upgrading from? If it was prior to Spring Boot 2.3 then this answer might help: https://stackoverflow.com/a/63194596/1299533.","body":"What version of Spring Boot are you upgrading from? If it was prior to Spring Boot 2.3 then this answer might help: <a href=\"https://stackoverflow.com/a/63194596/1299533\">stackoverflow.com/a/63194596/1299533</a>."},{"owner":{"account_id":13859774,"reputation":111,"user_id":10005690,"display_name":"Rose"},"score":0,"creation_date":1680854292,"post_id":75952142,"comment_id":133970069,"body_markdown":"@ScottFrederick I am using Spring boot 2.7.5 and tried your suggestion and kept the mentioned properties in application.properties but still the issue is not resolved .Do we need use custom handling","body":"@ScottFrederick I am using Spring boot 2.7.5 and tried your suggestion and kept the mentioned properties in application.properties but still the issue is not resolved .Do we need use custom handling"}],"owner":{"account_id":13859774,"reputation":111,"user_id":10005690,"display_name":"Rose"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":217,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680801426,"creation_date":1680801426,"question_id":75952142,"body_markdown":"javax.validation.ValidationException is not working after upgrading the Spring boot to 2.7.5 version .I am able to see the proper description in debug mode but it throwing the exception properly .The error has to thrown as &quot;User not Found in the System&quot; but it is throwing Unauthorized Error .But it was working properly before upgrade of Spring boot to higher version . In higher versions javax.validation.ValidationException is not existing in that how the error has to thrown in proper way .Please find the code syntax and pom.xml . Appreciate any help \r\n\r\nError Message :\r\n\r\n    {\r\n        &quot;timestamp&quot;: &quot;2023-04-06T17:03:04.171+00:00&quot;,\r\n        &quot;status&quot;: 401,\r\n        &quot;error&quot;: &quot;Unauthorized&quot;,\r\n        &quot;path&quot;: &quot;/type/get&quot;\r\n    }\r\n    \r\n         @RequestMapping(value = &quot;/get&quot;, method = RequestMethod.GET)\r\n         public Object getSerachData(@RequestParam(value = &quot;user&quot;) String user,\r\n                                                    @RequestParam(value = &quot;customerId&quot;, required = false) String customerId,\r\n                                                    @RequestParam(value = &quot;system&quot;, required = false) String system,\r\n                                                     throws ParseException, JsonProcessingException, javax.xml.bind.ValidationException {       \r\n                if (user != null &amp;&amp; !user.isEmpty())\r\n                    documentMap.put(&quot;Type.user&quot;, user);\r\n                if (customerId != null &amp;&amp; !customerId.isEmpty())\r\n                    documentMap.put(&quot;Type.customerId&quot;, customerId);\r\n                if (system != null &amp;&amp; !system.isEmpty())\r\n                    documentMap.put(&quot;Type.system&quot;, system);     \r\n                if (database.isEmpty())\r\n                    throw new ValidationException(RESOURCE_NOT_FOUND);\r\n                return getPrettyDocument(database);\r\n            }\r\n        \r\n        \r\n        @ControllerAdvice\r\n        public class ValidationExceptionHandler {\r\n        \r\n            @ExceptionHandler(ConstraintViolationException.class)\r\n            public void constraintViolationException(HttpServletResponse response,ConstraintViolationException e) throws IOException {\r\n                Set&lt;ConstraintViolation&lt;?&gt;&gt; violations = e.getConstraintViolations();\r\n                StringBuilder strBuilder = new StringBuilder();\r\n                for (ConstraintViolation&lt;?&gt; violation : violations ) {\r\n                    strBuilder.append(violation.getMessage() + &#39;\\n&#39;);\r\n                }\r\n                ResponseEntity.status(BAD_REQUEST);\r\n                response.sendError(HttpStatus.BAD_REQUEST.value());\r\n            }\r\n            @ExceptionHandler(ValidationException.class)\r\n            public void dateViolationException(HttpServletResponse response, ValidationException e) throws IOException {\r\n               if(e.getMessage().equalsIgnoreCase(&quot;Resource Not Found&quot;)){\r\n                   ResponseEntity.status(NOT_FOUND);\r\n                   response.sendError(NOT_FOUND.value(), e.getMessage());\r\n                }else{\r\n                   if(e.getMessage().equalsIgnoreCase(&quot;User Not Found in the system&quot;)){\r\n                       ResponseEntity.status(UNAUTHORIZED);\r\n                       response.sendError(UNAUTHORIZED.value(), e.getMessage());\r\n               }\r\n                else{\r\n                    ResponseEntity.status(BAD_REQUEST);\r\n                    response.sendError(HttpStatus.BAD_REQUEST.value(), e.getMessage());\r\n                }\r\n            }\r\n\r\n        }}\r\n\r\n    Maven.pm.xml\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n            &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n                     xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n                     xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n                &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n            \r\n                &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n                &lt;artifactId&gt;SampleService&lt;/artifactId&gt;\r\n                &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n            \r\n                &lt;packaging&gt;jar&lt;/packaging&gt;\r\n            \r\n                &lt;name&gt;SampleService&lt;/name&gt;\r\n                &lt;description&gt;Project for SampleService &lt;/description&gt;\r\n            \r\n                &lt;properties&gt;\r\n                    &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n                    &lt;springboot.version&gt;2.7.5&lt;/springboot.version&gt;\r\n                    &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n                    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n                    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n                    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n                    &lt;surefire-plugin.version&gt;2.22.0&lt;/surefire-plugin.version&gt;\r\n                    &lt;log4j2.version&gt;2.17.0&lt;/log4j2.version&gt;\r\n                &lt;/properties&gt;\r\n            \r\n                &lt;dependencyManagement&gt;\r\n                    &lt;dependencies&gt;\r\n                        &lt;dependency&gt;\r\n                            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n                            &lt;version&gt;${springboot.version}&lt;/version&gt;\r\n                            &lt;type&gt;pom&lt;/type&gt;\r\n                            &lt;scope&gt;import&lt;/scope&gt;\r\n                        &lt;/dependency&gt;\r\n                    &lt;/dependencies&gt;\r\n                &lt;/dependencyManagement&gt;\r\n            \r\n                &lt;dependencies&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\r\n                    &lt;/dependency&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\r\n                    &lt;/dependency&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n                        &lt;scope&gt;test&lt;/scope&gt;\r\n                    &lt;/dependency&gt;\r\n            \r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;junit&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n                        &lt;scope&gt;test&lt;/scope&gt;\r\n                    &lt;/dependency&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n                        &lt;version&gt;2.8.2&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n            \r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n                    &lt;/dependency&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n                    &lt;/dependency&gt;\r\n            \r\n                &lt;/dependencies&gt;\r\n            \r\n                &lt;repositories&gt;\r\n                    &lt;repository&gt;\r\n                        &lt;id&gt;spring-milestone&lt;/id&gt;\r\n                        &lt;name&gt;Spring Maven MILESTONE Repository&lt;/name&gt;\r\n                        &lt;url&gt;https://repo.spring.io/libs-milestone&lt;/url&gt;\r\n                    &lt;/repository&gt;\r\n                &lt;/repositories&gt;\r\n            \r\n                &lt;build&gt;\r\n                    &lt;plugins&gt;\r\n                        &lt;plugin&gt;\r\n                            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                            &lt;version&gt;2.22.2&lt;/version&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;systemProperties&gt;\r\n                                    &lt;java.util.logging.manager&gt;org.jboss.logmanager.LogManager&lt;/java.util.logging.manager&gt;\r\n                                &lt;/systemProperties&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/plugin&gt;\r\n                        &lt;plugin&gt;\r\n                            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                            &lt;version&gt;${springboot.version}&lt;/version&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;arguments&gt;\r\n                                    &lt;source&gt;1.8&lt;/source&gt;\r\n                                    &lt;target&gt;1.8&lt;/target&gt;\r\n                                    &lt;uberJar&gt;true&lt;/uberJar&gt;\r\n                                &lt;/arguments&gt;\r\n                            &lt;/configuration&gt;\r\n                            &lt;executions&gt;\r\n                                &lt;execution&gt;\r\n                                    &lt;goals&gt;\r\n                                        &lt;goal&gt;repackage&lt;/goal&gt;\r\n                                    &lt;/goals&gt;\r\n                                &lt;/execution&gt;\r\n                            &lt;/executions&gt;\r\n                        &lt;/plugin&gt;\r\n                    &lt;/plugins&gt;\r\n                &lt;/build&gt;\r\n            &lt;/project&gt;\r\n\r\n","title":"javax.validation.ValidationException is not working in Spring boot 2.7.5 higher versions","body":"<p>javax.validation.ValidationException is not working after upgrading the Spring boot to 2.7.5 version .I am able to see the proper description in debug mode but it throwing the exception properly .The error has to thrown as &quot;User not Found in the System&quot; but it is throwing Unauthorized Error .But it was working properly before upgrade of Spring boot to higher version . In higher versions javax.validation.ValidationException is not existing in that how the error has to thrown in proper way .Please find the code syntax and pom.xml . Appreciate any help</p>\n<p>Error Message :</p>\n<pre><code>{\n    &quot;timestamp&quot;: &quot;2023-04-06T17:03:04.171+00:00&quot;,\n    &quot;status&quot;: 401,\n    &quot;error&quot;: &quot;Unauthorized&quot;,\n    &quot;path&quot;: &quot;/type/get&quot;\n}\n\n     @RequestMapping(value = &quot;/get&quot;, method = RequestMethod.GET)\n     public Object getSerachData(@RequestParam(value = &quot;user&quot;) String user,\n                                                @RequestParam(value = &quot;customerId&quot;, required = false) String customerId,\n                                                @RequestParam(value = &quot;system&quot;, required = false) String system,\n                                                 throws ParseException, JsonProcessingException, javax.xml.bind.ValidationException {       \n            if (user != null &amp;&amp; !user.isEmpty())\n                documentMap.put(&quot;Type.user&quot;, user);\n            if (customerId != null &amp;&amp; !customerId.isEmpty())\n                documentMap.put(&quot;Type.customerId&quot;, customerId);\n            if (system != null &amp;&amp; !system.isEmpty())\n                documentMap.put(&quot;Type.system&quot;, system);     \n            if (database.isEmpty())\n                throw new ValidationException(RESOURCE_NOT_FOUND);\n            return getPrettyDocument(database);\n        }\n    \n    \n    @ControllerAdvice\n    public class ValidationExceptionHandler {\n    \n        @ExceptionHandler(ConstraintViolationException.class)\n        public void constraintViolationException(HttpServletResponse response,ConstraintViolationException e) throws IOException {\n            Set&lt;ConstraintViolation&lt;?&gt;&gt; violations = e.getConstraintViolations();\n            StringBuilder strBuilder = new StringBuilder();\n            for (ConstraintViolation&lt;?&gt; violation : violations ) {\n                strBuilder.append(violation.getMessage() + '\\n');\n            }\n            ResponseEntity.status(BAD_REQUEST);\n            response.sendError(HttpStatus.BAD_REQUEST.value());\n        }\n        @ExceptionHandler(ValidationException.class)\n        public void dateViolationException(HttpServletResponse response, ValidationException e) throws IOException {\n           if(e.getMessage().equalsIgnoreCase(&quot;Resource Not Found&quot;)){\n               ResponseEntity.status(NOT_FOUND);\n               response.sendError(NOT_FOUND.value(), e.getMessage());\n            }else{\n               if(e.getMessage().equalsIgnoreCase(&quot;User Not Found in the system&quot;)){\n                   ResponseEntity.status(UNAUTHORIZED);\n                   response.sendError(UNAUTHORIZED.value(), e.getMessage());\n           }\n            else{\n                ResponseEntity.status(BAD_REQUEST);\n                response.sendError(HttpStatus.BAD_REQUEST.value(), e.getMessage());\n            }\n        }\n\n    }}\n\nMaven.pm.xml\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n        &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n                 xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n                 xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n            &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n        \n            &lt;groupId&gt;com.example&lt;/groupId&gt;\n            &lt;artifactId&gt;SampleService&lt;/artifactId&gt;\n            &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n        \n            &lt;packaging&gt;jar&lt;/packaging&gt;\n        \n            &lt;name&gt;SampleService&lt;/name&gt;\n            &lt;description&gt;Project for SampleService &lt;/description&gt;\n        \n            &lt;properties&gt;\n                &lt;java.version&gt;1.8&lt;/java.version&gt;\n                &lt;springboot.version&gt;2.7.5&lt;/springboot.version&gt;\n                &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n                &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n                &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n                &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n                &lt;surefire-plugin.version&gt;2.22.0&lt;/surefire-plugin.version&gt;\n                &lt;log4j2.version&gt;2.17.0&lt;/log4j2.version&gt;\n            &lt;/properties&gt;\n        \n            &lt;dependencyManagement&gt;\n                &lt;dependencies&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n                        &lt;version&gt;${springboot.version}&lt;/version&gt;\n                        &lt;type&gt;pom&lt;/type&gt;\n                        &lt;scope&gt;import&lt;/scope&gt;\n                    &lt;/dependency&gt;\n                &lt;/dependencies&gt;\n            &lt;/dependencyManagement&gt;\n        \n            &lt;dependencies&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\n                &lt;/dependency&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\n                &lt;/dependency&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n                    &lt;scope&gt;test&lt;/scope&gt;\n                &lt;/dependency&gt;\n        \n                &lt;dependency&gt;\n                    &lt;groupId&gt;junit&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit&lt;/artifactId&gt;\n                    &lt;scope&gt;test&lt;/scope&gt;\n                &lt;/dependency&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n                    &lt;artifactId&gt;gson&lt;/artifactId&gt;\n                    &lt;version&gt;2.8.2&lt;/version&gt;\n                &lt;/dependency&gt;\n        \n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n                &lt;/dependency&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n                &lt;/dependency&gt;\n        \n            &lt;/dependencies&gt;\n        \n            &lt;repositories&gt;\n                &lt;repository&gt;\n                    &lt;id&gt;spring-milestone&lt;/id&gt;\n                    &lt;name&gt;Spring Maven MILESTONE Repository&lt;/name&gt;\n                    &lt;url&gt;https://repo.spring.io/libs-milestone&lt;/url&gt;\n                &lt;/repository&gt;\n            &lt;/repositories&gt;\n        \n            &lt;build&gt;\n                &lt;plugins&gt;\n                    &lt;plugin&gt;\n                        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                        &lt;version&gt;2.22.2&lt;/version&gt;\n                        &lt;configuration&gt;\n                            &lt;systemProperties&gt;\n                                &lt;java.util.logging.manager&gt;org.jboss.logmanager.LogManager&lt;/java.util.logging.manager&gt;\n                            &lt;/systemProperties&gt;\n                        &lt;/configuration&gt;\n                    &lt;/plugin&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                        &lt;version&gt;${springboot.version}&lt;/version&gt;\n                        &lt;configuration&gt;\n                            &lt;arguments&gt;\n                                &lt;source&gt;1.8&lt;/source&gt;\n                                &lt;target&gt;1.8&lt;/target&gt;\n                                &lt;uberJar&gt;true&lt;/uberJar&gt;\n                            &lt;/arguments&gt;\n                        &lt;/configuration&gt;\n                        &lt;executions&gt;\n                            &lt;execution&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;repackage&lt;/goal&gt;\n                                &lt;/goals&gt;\n                            &lt;/execution&gt;\n                        &lt;/executions&gt;\n                    &lt;/plugin&gt;\n                &lt;/plugins&gt;\n            &lt;/build&gt;\n        &lt;/project&gt;\n</code></pre>\n"},{"tags":["java","hibernate","jpa","orm"],"owner":{"account_id":15505980,"reputation":39,"user_id":11186140,"display_name":"coi175"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680800750,"creation_date":1680800750,"question_id":75952049,"body_markdown":"I&#39;m have Parent entity with list of Child entities.\r\nI make these actions inside one transaction:\r\n1) Delete one Child entity.\r\n2) Call flush() (I see delete query in debug sql).\r\n3) Delete Parent entity (with cascade delete).\r\n\r\nAnd then I get an error: &lt;br&gt;\r\n`&#39;Hibernate - Batch update returned unexpected row count from update: 0 actual row count: 0 expected: 1&#39;`.\r\n\r\nAfter 2) flush() I checked in debug mode that deleted Child entity is not exists in list on Parent entity. How I can solve this problem, if I can&#39;t avoid chain of two deletion. And why does this error occur?","title":"Hibernate - Batch update returned unexpected row count from update: 0 actual row count: 0 expected: 1 when delete parent entity with cascade deletion","body":"<p>I'm have Parent entity with list of Child entities.\nI make these actions inside one transaction:</p>\n<ol>\n<li>Delete one Child entity.</li>\n<li>Call flush() (I see delete query in debug sql).</li>\n<li>Delete Parent entity (with cascade delete).</li>\n</ol>\n<p>And then I get an error: <br>\n<code>'Hibernate - Batch update returned unexpected row count from update: 0 actual row count: 0 expected: 1'</code>.</p>\n<p>After 2) flush() I checked in debug mode that deleted Child entity is not exists in list on Parent entity. How I can solve this problem, if I can't avoid chain of two deletion. And why does this error occur?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1350869,"reputation":16563,"user_id":1322268,"display_name":"shawnt00"},"score":2,"creation_date":1680799799,"post_id":75951901,"comment_id":133962510,"body_markdown":"It says to change in place. That&#39;s the first problem. The array is also already sorted.","body":"It says to change in place. That&#39;s the first problem. The array is also already sorted."},{"owner":{"account_id":1350869,"reputation":16563,"user_id":1322268,"display_name":"shawnt00"},"score":0,"creation_date":1680800183,"post_id":75951901,"comment_id":133962611,"body_markdown":"They probably expect you to do something like this: When a duplicate is found, move everything past the dup down by one slot.","body":"They probably expect you to do something like this: When a duplicate is found, move everything past the dup down by one slot."},{"owner":{"account_id":1350869,"reputation":16563,"user_id":1322268,"display_name":"shawnt00"},"score":0,"creation_date":1680800402,"post_id":75951901,"comment_id":133962668,"body_markdown":"You can&#39;t just automatically add the last element anyway when that&#39;s a dup itself.","body":"You can&#39;t just automatically add the last element anyway when that&#39;s a dup itself."},{"owner":{"account_id":1350869,"reputation":16563,"user_id":1322268,"display_name":"shawnt00"},"score":0,"creation_date":1680800556,"post_id":75951901,"comment_id":133962707,"body_markdown":"The reason it shows output as `[1,1]` is because that&#39;s still the contents of the original array not the new one.","body":"The reason it shows output as <code>[1,1]</code> is because that&#39;s still the contents of the original array not the new one."},{"owner":{"account_id":18424225,"reputation":21,"user_id":13420984,"display_name":"Jayson "},"score":0,"creation_date":1680801623,"post_id":75951901,"comment_id":133962963,"body_markdown":"Alright I did a for loop to copy all the element in newArr to nums. And its still has the same output. For refrence                                                                                       \n       for(int i = 0; i &lt; j; i++){\n          nums[i] = newArr[i];\n\n        }","body":"Alright I did a for loop to copy all the element in newArr to nums. And its still has the same output. For refrence                                                                                               for(int i = 0; i &lt; j; i++){           nums[i] = newArr[i];          }"},{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":0,"creation_date":1680803230,"post_id":75951901,"comment_id":133963297,"body_markdown":"You don&#39;t need the 2nd array at all. You can solve this with a single array, moving numbers in place.","body":"You don&#39;t need the 2nd array at all. You can solve this with a single array, moving numbers in place."},{"owner":{"account_id":1350869,"reputation":16563,"user_id":1322268,"display_name":"shawnt00"},"score":0,"creation_date":1680803501,"post_id":75951901,"comment_id":133963362,"body_markdown":"I agree that copying the elements over should have given different output.","body":"I agree that copying the elements over should have given different output."}],"owner":{"account_id":18424225,"reputation":21,"user_id":13420984,"display_name":"Jayson "},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1680800292,"creation_date":1680799631,"question_id":75951901,"body_markdown":"&gt;Given an integer array nums sorted in non-decreasing order, remove the duplicates in-place such that each unique element appears only once. The relative order of the elements should be kept the same. Then return the number of unique elements in nums.\\\r\n\\\r\nConsider the number of unique elements of nums be k, to get accepted, you need to do the following things:\\\r\n\\\r\nChange the array nums such that the first k elements of nums contain the unique elements in the order they were present in nums initially. The remaining elements of nums are not important as well as the size of nums.\\\r\nReturn k.\r\n\r\n\r\nMy code \r\n\r\n    class Solution {\r\n        int j = 0;\r\n        public int removeDuplicates(int[] nums) {\r\n\r\n            int[] newArr = new int[nums.length];\r\n\r\n            for(int i = 0; i &lt; nums.length - 1; i++){\r\n                Arrays.sort(nums);\r\n                if (nums[i] != nums[i+1] ) {\r\n                    newArr[j] = nums[i];\r\n                    j++;          \r\n                }\r\n\r\n            }\r\n\r\n            newArr[j] = nums[nums.length - 1];\r\n            j++;\r\n\r\n            return j;\r\n        }\r\n    }\r\n\r\n\r\n\r\nI tried everything I could think of. Somehow my return output is wrong. \r\n\r\nThe first test case is `nums = [1,1,2]`\r\n\r\nMy output `[1,1]`\r\n\r\nWhat is actual expected `[1,2]`","title":"Leetcode question 26. I can&#39;t seem to return the right answer","body":"<blockquote>\n<p>Given an integer array nums sorted in non-decreasing order, remove the duplicates in-place such that each unique element appears only once. The relative order of the elements should be kept the same. Then return the number of unique elements in nums.<br />\n<br />\nConsider the number of unique elements of nums be k, to get accepted, you need to do the following things:<br />\n<br />\nChange the array nums such that the first k elements of nums contain the unique elements in the order they were present in nums initially. The remaining elements of nums are not important as well as the size of nums.<br />\nReturn k.</p>\n</blockquote>\n<p>My code</p>\n<pre><code>class Solution {\n    int j = 0;\n    public int removeDuplicates(int[] nums) {\n\n        int[] newArr = new int[nums.length];\n\n        for(int i = 0; i &lt; nums.length - 1; i++){\n            Arrays.sort(nums);\n            if (nums[i] != nums[i+1] ) {\n                newArr[j] = nums[i];\n                j++;          \n            }\n\n        }\n\n        newArr[j] = nums[nums.length - 1];\n        j++;\n\n        return j;\n    }\n}\n</code></pre>\n<p>I tried everything I could think of. Somehow my return output is wrong.</p>\n<p>The first test case is <code>nums = [1,1,2]</code></p>\n<p>My output <code>[1,1]</code></p>\n<p>What is actual expected <code>[1,2]</code></p>\n"},{"tags":["java","elasticsearch","apache-nifi","logback","open-telemetry"],"comments":[{"owner":{"account_id":191465,"reputation":2509,"user_id":432053,"accept_rate":60,"display_name":"Vijay Kumar"},"score":0,"creation_date":1635590497,"post_id":69743764,"comment_id":123342637,"body_markdown":"Hi MHegde, you can swap out the call you make to MongoDB, with a call to the Open Telemetry. If you can share your MongoDB appender code, I can point out what needs to be changed.","body":"Hi MHegde, you can swap out the call you make to MongoDB, with a call to the Open Telemetry. If you can share your MongoDB appender code, I can point out what needs to be changed."},{"owner":{"account_id":2146093,"reputation":319,"user_id":1903691,"display_name":"MHegde"},"score":0,"creation_date":1635743713,"post_id":69743764,"comment_id":123367087,"body_markdown":"@VijayKumar - Thanks Vijay, I have updated the question with mongo code part","body":"@VijayKumar - Thanks Vijay, I have updated the question with mongo code part"},{"owner":{"account_id":5066911,"reputation":1131,"user_id":4066802,"display_name":"lprakashv"},"score":0,"creation_date":1662140801,"post_id":69743764,"comment_id":129945476,"body_markdown":"One of the things you can do is, just use a file appender and provide that file path in the filelogreceiver&#39;s config inside opentelemetry-collector-contrib config and use and elasticsearch exporter. So, your pipeline would use fileloadreceiver as your receiver and elasticsearch exporter along with any processor you might want to use (e.g., batch etc.)","body":"One of the things you can do is, just use a file appender and provide that file path in the filelogreceiver&#39;s config inside opentelemetry-collector-contrib config and use and elasticsearch exporter. So, your pipeline would use fileloadreceiver as your receiver and elasticsearch exporter along with any processor you might want to use (e.g., batch etc.)"}],"answers":[{"tags":[],"owner":{"account_id":3053597,"reputation":580,"user_id":2587704,"accept_rate":50,"display_name":"JackB"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680800093,"creation_date":1680800093,"answer_id":75951968,"question_id":69743764,"body_markdown":"It looks like you&#39;re trying to write a logback appender. Checkout the [OpenTelemetry logback appender](https://github.com/open-telemetry/opentelemetry-java-instrumentation/tree/main/instrumentation/logback/logback-appender-1.0/library), which bridges logback logs into the OpenTelemetry log sdk. You can configure the OpenTelemetry log SDK to export the records to elastic search. ","title":"Logback custom appender to push logs to ElasticSearch via Open Telemetry","body":"<p>It looks like you're trying to write a logback appender. Checkout the <a href=\"https://github.com/open-telemetry/opentelemetry-java-instrumentation/tree/main/instrumentation/logback/logback-appender-1.0/library\" rel=\"nofollow noreferrer\">OpenTelemetry logback appender</a>, which bridges logback logs into the OpenTelemetry log sdk. You can configure the OpenTelemetry log SDK to export the records to elastic search.</p>\n"}],"owner":{"account_id":2146093,"reputation":319,"user_id":1903691,"display_name":"MHegde"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":727,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1680800093,"creation_date":1635359396,"question_id":69743764,"body_markdown":"I am using apache Nifi , which uses logback framework for logging.\r\nI have written a custom log appender to push logs to MongoDB.\r\nNow I have a requirement to push logs in specific format (json) to ElasticSearch.\r\n\r\nAs few other apps are already using open telemetry to push data to ES, i have been asked to do so.\r\n\r\nSo now I am looking for right way to push data from my custom log appender (java class) to Open Telemetry.\r\n\r\nCould some please point me to the usefull example which I can refer ?\r\n\r\n\r\nMongo appender looks like below, same message I want to push Open Telemetry also.\r\n\r\n\r\n    @Override\r\n    public void start() {\r\n        super.start();\r\n        logger.info(&quot;Initialising MongoDBLogAppender ~~~~~~~~~~~~~~~~&quot;);\r\n        try{\r\n            createConnection();\r\n        }catch (Exception e){\r\n            logger.error(&quot;Failed to obtain a database instance from the MongoClient at server [{}] and port [{}].&quot;, this.server, this.port);\r\n        }\r\n    }\r\n\r\n    private MongoClient createConnection () throws Exception {\r\n        if (client == null)\r\n        {\r\n            client = createMongoClient(this.server, this.port, this.databaseName, this.userName, this.password);\r\n        }\r\n\r\n        if (this.databaseName != null &amp;&amp; (!&quot;&quot;.equals(this.databaseName))) {\r\n            database = client.getDatabase(this.databaseName);\r\n        } else {\r\n            logger.error(&quot;Mongo database name is required.&quot;);\r\n        }\r\n        return client;\r\n    }\r\n\r\n\r\n    @Override\r\n    protected void append(ILoggingEvent iLoggingEvent) {\r\n        if (database == null)\r\n            return;\r\n\r\n        String logMessage = iLoggingEvent.getMessage() == null ? &quot;&quot; : iLoggingEvent.getMessage();\r\n        logger.info(&quot;LogMessage (inside append method) : &quot;+logMessage);//Change the level to debug after testing\r\n\r\n        String[] msgParts = parseLogMessage(logMessage);\r\n        Document doc = new Document()\r\n                .append(&quot;Timestamp&quot;, new Date(iLoggingEvent.getTimeStamp()))\r\n                .append(&quot;Ip&quot;, this.hostIp)\r\n                .append(&quot;Server&quot;, &quot;NiFi&quot;)\r\n                .append(&quot;Instance&quot;, &quot;&quot;)\r\n                .append(&quot;Url&quot;, &quot;&quot;)\r\n                .append(&quot;TTId&quot;, msgParts[1])\r\n                .append(&quot;LTId&quot;, msgParts[0])\r\n                .append(&quot;LUId&quot;, msgParts[2])\r\n                .append(&quot;SId&quot;, msgParts[4])\r\n                .append(&quot;RId&quot;, msgParts[3])\r\n                .append(&quot;Level&quot;, iLoggingEvent.getLevel().levelStr)\r\n                .append(&quot;Logger&quot;, iLoggingEvent.getLoggerName())\r\n                .append(&quot;Thread&quot;, iLoggingEvent.getThreadName())\r\n                .append(&quot;Message&quot;, msgParts[5])\r\n                .append(&quot;Exception&quot;, iLoggingEvent.getThrowableProxy() != null ? ThrowableProxyUtil.asString(iLoggingEvent.getThrowableProxy()) : null);\r\n        try\r\n        {\r\n            Publisher&lt;InsertOneResult&gt; publisher = database.getCollection(collectionName).insertOne(doc);\r\n            publisher.subscribe(new Subscriber&lt;InsertOneResult&gt;() {\r\n                @Override\r\n                public void onSubscribe(final Subscription s) {\r\n                    s.request(1);  // &lt;--- Data requested and the insertion will now occur\r\n                }\r\n\r\n                @Override\r\n                public void onNext(final InsertOneResult result) {}\r\n\r\n                @Override\r\n                public void onError(final Throwable t) {\r\n                    logger.error(&quot;Failed to insert Nifi log to mongodb : &quot;+this.toString(),t);\r\n                }\r\n\r\n                @Override\r\n                public void onComplete() {}\r\n            });\r\n        }\r\n        catch (Exception e)\r\n        {\r\n            logger.error(&quot;Encountered exception while logging Nifi log to MongoDB : &quot;+this.toString(), e);\r\n        }\r\n    }\r\n\r\n\r\n    /* Log message format expected : &quot;~(&lt;LoggedinTenantId&gt;, &lt;TargetTenantId&gt;, &lt;Userid&gt;) ~ &lt;RequestId&gt; ~ &lt;SessionId&gt; ~ &lt;DetailedMessage&gt;&quot; */\r\n    public static String[] parseLogMessage(String logMessage){\r\n        String[] msgParts = new String[6];\r\n        ..................................\r\n        return msgParts;\r\n    }\r\n\r\n\r\n    private synchronized static MongoClient createMongoClient(String server, int port, String databaseName, String userName, String password)\r\n    {\r\n\t\t...................................\r\n        return MongoClients.create(settings);\r\n    }\r\n\r\n}\r\n\r\n\r\n\r\nThanks\r\nMahendra","title":"Logback custom appender to push logs to ElasticSearch via Open Telemetry","body":"<p>I am using apache Nifi , which uses logback framework for logging.\nI have written a custom log appender to push logs to MongoDB.\nNow I have a requirement to push logs in specific format (json) to ElasticSearch.</p>\n<p>As few other apps are already using open telemetry to push data to ES, i have been asked to do so.</p>\n<p>So now I am looking for right way to push data from my custom log appender (java class) to Open Telemetry.</p>\n<p>Could some please point me to the usefull example which I can refer ?</p>\n<p>Mongo appender looks like below, same message I want to push Open Telemetry also.</p>\n<pre><code>@Override\npublic void start() {\n    super.start();\n    logger.info(&quot;Initialising MongoDBLogAppender ~~~~~~~~~~~~~~~~&quot;);\n    try{\n        createConnection();\n    }catch (Exception e){\n        logger.error(&quot;Failed to obtain a database instance from the MongoClient at server [{}] and port [{}].&quot;, this.server, this.port);\n    }\n}\n\nprivate MongoClient createConnection () throws Exception {\n    if (client == null)\n    {\n        client = createMongoClient(this.server, this.port, this.databaseName, this.userName, this.password);\n    }\n\n    if (this.databaseName != null &amp;&amp; (!&quot;&quot;.equals(this.databaseName))) {\n        database = client.getDatabase(this.databaseName);\n    } else {\n        logger.error(&quot;Mongo database name is required.&quot;);\n    }\n    return client;\n}\n\n\n@Override\nprotected void append(ILoggingEvent iLoggingEvent) {\n    if (database == null)\n        return;\n\n    String logMessage = iLoggingEvent.getMessage() == null ? &quot;&quot; : iLoggingEvent.getMessage();\n    logger.info(&quot;LogMessage (inside append method) : &quot;+logMessage);//Change the level to debug after testing\n\n    String[] msgParts = parseLogMessage(logMessage);\n    Document doc = new Document()\n            .append(&quot;Timestamp&quot;, new Date(iLoggingEvent.getTimeStamp()))\n            .append(&quot;Ip&quot;, this.hostIp)\n            .append(&quot;Server&quot;, &quot;NiFi&quot;)\n            .append(&quot;Instance&quot;, &quot;&quot;)\n            .append(&quot;Url&quot;, &quot;&quot;)\n            .append(&quot;TTId&quot;, msgParts[1])\n            .append(&quot;LTId&quot;, msgParts[0])\n            .append(&quot;LUId&quot;, msgParts[2])\n            .append(&quot;SId&quot;, msgParts[4])\n            .append(&quot;RId&quot;, msgParts[3])\n            .append(&quot;Level&quot;, iLoggingEvent.getLevel().levelStr)\n            .append(&quot;Logger&quot;, iLoggingEvent.getLoggerName())\n            .append(&quot;Thread&quot;, iLoggingEvent.getThreadName())\n            .append(&quot;Message&quot;, msgParts[5])\n            .append(&quot;Exception&quot;, iLoggingEvent.getThrowableProxy() != null ? ThrowableProxyUtil.asString(iLoggingEvent.getThrowableProxy()) : null);\n    try\n    {\n        Publisher&lt;InsertOneResult&gt; publisher = database.getCollection(collectionName).insertOne(doc);\n        publisher.subscribe(new Subscriber&lt;InsertOneResult&gt;() {\n            @Override\n            public void onSubscribe(final Subscription s) {\n                s.request(1);  // &lt;--- Data requested and the insertion will now occur\n            }\n\n            @Override\n            public void onNext(final InsertOneResult result) {}\n\n            @Override\n            public void onError(final Throwable t) {\n                logger.error(&quot;Failed to insert Nifi log to mongodb : &quot;+this.toString(),t);\n            }\n\n            @Override\n            public void onComplete() {}\n        });\n    }\n    catch (Exception e)\n    {\n        logger.error(&quot;Encountered exception while logging Nifi log to MongoDB : &quot;+this.toString(), e);\n    }\n}\n\n\n/* Log message format expected : &quot;~(&lt;LoggedinTenantId&gt;, &lt;TargetTenantId&gt;, &lt;Userid&gt;) ~ &lt;RequestId&gt; ~ &lt;SessionId&gt; ~ &lt;DetailedMessage&gt;&quot; */\npublic static String[] parseLogMessage(String logMessage){\n    String[] msgParts = new String[6];\n    ..................................\n    return msgParts;\n}\n\n\nprivate synchronized static MongoClient createMongoClient(String server, int port, String databaseName, String userName, String password)\n{\n    ...................................\n    return MongoClients.create(settings);\n}\n</code></pre>\n<p>}</p>\n<p>Thanks\nMahendra</p>\n"},{"tags":["java","oauth-2.0","adobe","analytics"],"owner":{"account_id":471470,"reputation":1217,"user_id":879293,"accept_rate":24,"display_name":"Sri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680799954,"creation_date":1680799954,"question_id":75951956,"body_markdown":"Given I have client id, client secret. How can I get access token to read data from adobe analytics.\r\n\r\nI would like to have a backend java making call to adobe analytics and get certain data stored in analytics into my java application.\r\n\r\nNo sprint boot, this is plain java project.\r\n\r\nAny code sample appreciated. thanks.\r\n","title":"java adobe analytics oauth access token","body":"<p>Given I have client id, client secret. How can I get access token to read data from adobe analytics.</p>\n<p>I would like to have a backend java making call to adobe analytics and get certain data stored in analytics into my java application.</p>\n<p>No sprint boot, this is plain java project.</p>\n<p>Any code sample appreciated. thanks.</p>\n"},{"tags":["java","open-telemetry"],"answers":[{"tags":[],"owner":{"account_id":3053597,"reputation":580,"user_id":2587704,"accept_rate":50,"display_name":"JackB"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680799843,"creation_date":1680799843,"answer_id":75951936,"question_id":66714778,"body_markdown":"&gt; How do I set that TracerProvider as the default provider for my application?\r\n\r\nThat depends on how your application is accessing the TracerProvider, and whether or not you&#39;re using the otel java agent:\r\n\r\n- If using the otel java agent, you&#39;ll need to use an [agent extension](https://github.com/open-telemetry/opentelemetry-java-instrumentation/blob/main/examples/extension/README.md) to customize the SDK that the agent installs.\r\n- Else if you&#39;re using [autoconfigure](https://github.com/open-telemetry/opentelemetry-java/tree/main/sdk-extensions/autoconfigure) to install the SDK, you can use various [customization methods](https://github.com/open-telemetry/opentelemetry-java/blob/f4d464a1c03b75b58ef4ce58e88c69f0fe89c9dd/sdk-extensions/autoconfigure/src/main/java/io/opentelemetry/sdk/autoconfigure/AutoConfiguredOpenTelemetrySdkBuilder.java#L149) or [implement one of the SPIs](https://github.com/open-telemetry/opentelemetry-java/tree/main/sdk-extensions/autoconfigure-spi). \r\n- Else if you&#39;re configuring the SDK directly, you can do what you&#39;ve described. \r\n\r\nOnce you&#39;ve configured SDK, you need to make sure instrumentation is accessing it. The SDK installed by otel java agent is used by all installation it installs. If not using the agent, you can manually pass the SDK to the relevant instrumentation. If its not practical to manually pass the SDK, you can use GlobalOpenTelemetry, which has static accessor for setting / getting the OpenTelemetry instance, although this is discouraged.\r\n\r\nYou should also consider whether the resource is the appropriate place for the attribute. The resource is attached to all records exported by the SDK, but its generally reserved for attributes that describe the source of the telemetry. If the attributes describe the record itself, consider adding a custom [SpanProcessor](https://github.com/open-telemetry/opentelemetry-java/blob/f4d464a1c03b75b58ef4ce58e88c69f0fe89c9dd/sdk/trace/src/main/java/io/opentelemetry/sdk/trace/SpanProcessor.java) to add the attribute to individual spans. ","title":"How to add an attribute to all outgoing Spans (Java)","body":"<blockquote>\n<p>How do I set that TracerProvider as the default provider for my application?</p>\n</blockquote>\n<p>That depends on how your application is accessing the TracerProvider, and whether or not you're using the otel java agent:</p>\n<ul>\n<li>If using the otel java agent, you'll need to use an <a href=\"https://github.com/open-telemetry/opentelemetry-java-instrumentation/blob/main/examples/extension/README.md\" rel=\"nofollow noreferrer\">agent extension</a> to customize the SDK that the agent installs.</li>\n<li>Else if you're using <a href=\"https://github.com/open-telemetry/opentelemetry-java/tree/main/sdk-extensions/autoconfigure\" rel=\"nofollow noreferrer\">autoconfigure</a> to install the SDK, you can use various <a href=\"https://github.com/open-telemetry/opentelemetry-java/blob/f4d464a1c03b75b58ef4ce58e88c69f0fe89c9dd/sdk-extensions/autoconfigure/src/main/java/io/opentelemetry/sdk/autoconfigure/AutoConfiguredOpenTelemetrySdkBuilder.java#L149\" rel=\"nofollow noreferrer\">customization methods</a> or <a href=\"https://github.com/open-telemetry/opentelemetry-java/tree/main/sdk-extensions/autoconfigure-spi\" rel=\"nofollow noreferrer\">implement one of the SPIs</a>.</li>\n<li>Else if you're configuring the SDK directly, you can do what you've described.</li>\n</ul>\n<p>Once you've configured SDK, you need to make sure instrumentation is accessing it. The SDK installed by otel java agent is used by all installation it installs. If not using the agent, you can manually pass the SDK to the relevant instrumentation. If its not practical to manually pass the SDK, you can use GlobalOpenTelemetry, which has static accessor for setting / getting the OpenTelemetry instance, although this is discouraged.</p>\n<p>You should also consider whether the resource is the appropriate place for the attribute. The resource is attached to all records exported by the SDK, but its generally reserved for attributes that describe the source of the telemetry. If the attributes describe the record itself, consider adding a custom <a href=\"https://github.com/open-telemetry/opentelemetry-java/blob/f4d464a1c03b75b58ef4ce58e88c69f0fe89c9dd/sdk/trace/src/main/java/io/opentelemetry/sdk/trace/SpanProcessor.java\" rel=\"nofollow noreferrer\">SpanProcessor</a> to add the attribute to individual spans.</p>\n"}],"owner":{"account_id":13391970,"reputation":11,"user_id":9664101,"display_name":"rubber_ducky_debugger"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":773,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1680799843,"creation_date":1616183406,"question_id":66714778,"body_markdown":"If I understand correctly, I should be able to use an opentelemetry Resource to attach custom Attributes to outgoing Spans. I think the syntax should be something like\r\n\r\n```\r\nResource resource = Resource.create(Attributes.builder().put(&quot;key&quot;, &quot;value&quot;).build());\r\nSdkTracerProvider sdkTracerProvider = SdkTracerProvider.builder().setResource(resource).build;\r\n```\r\n\r\nQuestions:\r\n\r\nHow do I set that TracerProvider as the default provider for my application? \r\n\r\nIf I do so, will it add that attribute to the default set of attributes attached to Spans, or will it replace them? \r\n\r\nAlso, if I do so, would I still be able to use the ```Span.current()``` syntax to access the current Span, or would I need to access the current Span through the Tracer? ","title":"How to add an attribute to all outgoing Spans (Java)","body":"<p>If I understand correctly, I should be able to use an opentelemetry Resource to attach custom Attributes to outgoing Spans. I think the syntax should be something like</p>\n<pre><code>Resource resource = Resource.create(Attributes.builder().put(&quot;key&quot;, &quot;value&quot;).build());\nSdkTracerProvider sdkTracerProvider = SdkTracerProvider.builder().setResource(resource).build;\n</code></pre>\n<p>Questions:</p>\n<p>How do I set that TracerProvider as the default provider for my application?</p>\n<p>If I do so, will it add that attribute to the default set of attributes attached to Spans, or will it replace them?</p>\n<p>Also, if I do so, would I still be able to use the <code>Span.current()</code> syntax to access the current Span, or would I need to access the current Span through the Tracer?</p>\n"},{"tags":["java","exception","error-handling","foreach","throw"],"answers":[{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680799831,"creation_date":1680799831,"answer_id":75951935,"question_id":75951853,"body_markdown":"Because the parameter of [forEach(...)][1] is a [Consumer][2].\r\n```\r\nmyBean -&gt; {\r\n  myMethod(myBean);\r\n}\r\n```\r\nThe above is an implementation of consumer as lambda function.\r\n\r\n`Consumer.accept()` does not throw exceptions, so you have to handle it in some way - possibly catch and rethrow as unchecked exception.\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/Iterable.html#forEach-java.util.function.Consumer-\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/function/Consumer.html","title":"Why am I only getting an Unhandled Exception Type error only when using List.forEach?","body":"<p>Because the parameter of <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Iterable.html#forEach-java.util.function.Consumer-\" rel=\"nofollow noreferrer\">forEach(...)</a> is a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/function/Consumer.html\" rel=\"nofollow noreferrer\">Consumer</a>.</p>\n<pre><code>myBean -&gt; {\n  myMethod(myBean);\n}\n</code></pre>\n<p>The above is an implementation of consumer as lambda function.</p>\n<p><code>Consumer.accept()</code> does not throw exceptions, so you have to handle it in some way - possibly catch and rethrow as unchecked exception.</p>\n"}],"owner":{"account_id":7219622,"reputation":464,"user_id":7737266,"display_name":"devjoco"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":167,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75951935,"answer_count":1,"score":0,"last_activity_date":1680799831,"creation_date":1680799230,"question_id":75951853,"body_markdown":"I have some method that throws an exception:\r\n```java\r\npublic void myMethod(MyBean bean) throws SomeException {\r\n    ...\r\n}\r\n```\r\n\r\nAnd another method is calling this method like this with no errors/warnings from Eclipse:\r\n```java \r\npublic void processBeanList(List&lt;MyBean&gt; myBeanList) {\r\n    for (int i = 0; i &lt; myBeanList.size(); i++) {\r\n        MyBean myBean = myBeanList.get(i);\r\n        myMethod(myBean);\r\n    }\r\n}\r\n```\r\n\r\nHowever if I change the implementation of this `processBeanList` to the following, I get an &quot;Unhandled exception type SomeException&quot; error:\r\n```java \r\npublic void processBeanList(List&lt;MyBean&gt; myBeanList) {\r\n    myBeanList.forEach(myBean -&gt; {\r\n        myMethod(myBean); // Eclipse underlines this, mentions error\r\n    });\r\n}\r\n```\r\n\r\nI realize that if the method throws the Exception then it should be handled or re-thrown, but is there something different between these two implementations that I&#39;m missing, which would lead Eclipse to show the error in once case and not the other? Or is this just something that Eclipse, for whatever reason, is picking up in the second instance, but not in the first when it should be picked up in both cases?","title":"Why am I only getting an Unhandled Exception Type error only when using List.forEach?","body":"<p>I have some method that throws an exception:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void myMethod(MyBean bean) throws SomeException {\n    ...\n}\n</code></pre>\n<p>And another method is calling this method like this with no errors/warnings from Eclipse:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void processBeanList(List&lt;MyBean&gt; myBeanList) {\n    for (int i = 0; i &lt; myBeanList.size(); i++) {\n        MyBean myBean = myBeanList.get(i);\n        myMethod(myBean);\n    }\n}\n</code></pre>\n<p>However if I change the implementation of this <code>processBeanList</code> to the following, I get an &quot;Unhandled exception type SomeException&quot; error:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void processBeanList(List&lt;MyBean&gt; myBeanList) {\n    myBeanList.forEach(myBean -&gt; {\n        myMethod(myBean); // Eclipse underlines this, mentions error\n    });\n}\n</code></pre>\n<p>I realize that if the method throws the Exception then it should be handled or re-thrown, but is there something different between these two implementations that I'm missing, which would lead Eclipse to show the error in once case and not the other? Or is this just something that Eclipse, for whatever reason, is picking up in the second instance, but not in the first when it should be picked up in both cases?</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":2,"creation_date":1516534451,"post_id":48366268,"comment_id":83719218,"body_markdown":"You use `setJMenubar()` to add the menubar to the JFrame, not `add()`.","body":"You use <code>setJMenubar()</code> to add the menubar to the JFrame, not <code>add()</code>."},{"owner":{"account_id":4686682,"reputation":411,"user_id":3793935,"accept_rate":75,"display_name":"user3793935"},"score":0,"creation_date":1516534562,"post_id":48366268,"comment_id":83719238,"body_markdown":"Ah yes, my bad, but if I do so, it destroys my Gui.\nI add a picture","body":"Ah yes, my bad, but if I do so, it destroys my Gui. I add a picture"}],"answers":[{"tags":[],"owner":{"account_id":4686682,"reputation":411,"user_id":3793935,"accept_rate":75,"display_name":"user3793935"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1516535570,"creation_date":1516535570,"answer_id":48366460,"question_id":48366268,"body_markdown":"Okay, I&#39;m sorry for wasting your time (who ever reads this).\r\nMy 2 JPanles are set to the frames prefered size, so the problem was, that the menuBar tock the space that the 2 panels needed and that was destroying my gui.\r\n\r\nIf I set the size of the 2 JPanels to frame.height -50 it work&#39;s:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZDm9V.jpg","title":"Java How to add menuBar to JFrame without destroying my layout","body":"<p>Okay, I'm sorry for wasting your time (who ever reads this).\nMy 2 JPanles are set to the frames prefered size, so the problem was, that the menuBar tock the space that the 2 panels needed and that was destroying my gui.</p>\n\n<p>If I set the size of the 2 JPanels to frame.height -50 it work's:\n<a href=\"https://i.stack.imgur.com/ZDm9V.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZDm9V.jpg\" alt=\"enter image description here\"></a></p>\n"}],"owner":{"account_id":4686682,"reputation":411,"user_id":3793935,"accept_rate":75,"display_name":"user3793935"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":697,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1680799713,"creation_date":1516534071,"question_id":48366268,"body_markdown":"I need some help with adding a menuBar to my JFrame.\r\nI have my GUI class:\r\n\r\n```\r\n    public class Gui extends JFrame implements KeyListener {\r\n    \tprivate PanelMiniMap map;\r\n\tprivate CardLayout cardLayout = new CardLayout();\r\n\r\n\tprivate JPanel cards;\r\n\r\n\tpublic Gui() {\r\n\t\tthis.setSize(1000, 800);\r\n\t\tthis.setDefaultCloseOperation(EXIT_ON_CLOSE);\r\n\t\tthis.setLocationRelativeTo(null);// center\r\n\t\tthis.setResizable(false);\r\n\r\n\t\t// bauen();\r\n\t\tthis.cards = new JPanel(cardLayout);\r\n\r\n\t\t\r\n\r\n\t\tthis.addListener();\r\n\t\tthis.add(cards);\r\n\r\n\t\tthis.setVisible(true);\r\n\r\n\t}\r\n\r\n\tpublic void addListener() {\r\n\t\tthis.addKeyListener(this);\r\n\t}\r\n\r\n\tpublic void addPanelZuCards(PanelSpielfeld spielfeld, PanelCharakterErschaffung charerschaffung, PanelMiniMap map) {\r\n\r\n\t\tthis.map = map;\r\n\r\n\t\tthis.cards.add(charerschaffung, &quot;charerschaffung&quot;);\r\n\t\tthis.cards.add(spielfeld, &quot;spielfeld&quot;);\r\n\t}\r\n\r\n\tpublic Dimension getDimension() {\r\n\t\treturn new Dimension(this.getWidth(), this.getHeight());\r\n\t}\r\n\r\n\t/**\r\n\t * Neue Charaktererschaffung ausgeben\r\n\t * \r\n\t * @param charerschaffung\r\n\t *            Das Panel, auf dem die Oberflaeche zur Charaktererschaffung\r\n\t *            erstellt wird\r\n\t */\r\n\tpublic void zeigeCharckterPanel() {\r\n\t\tthis.cardLayout.show(cards, &quot;charerschaffung&quot;);\r\n\t}\r\n\r\n\tpublic void zeigeSpielPanel() {\r\n\t\tthis.cardLayout.show(cards, &quot;spielfeld&quot;);\r\n\t\tthis.requestFocus();\r\n\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void keyTyped(KeyEvent e) {\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void keyReleased(KeyEvent e) {\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void keyPressed(KeyEvent e) {\r\n\t\tif (e.getKeyCode() == KeyEvent.VK_LEFT) {\r\n\t\t\tmap.move(-1, 0);\r\n\t\t\tmap.repaint();\r\n\t\t}\r\n\t\tif (e.getKeyCode() == KeyEvent.VK_RIGHT) {\r\n\t\t\tmap.move(1, 0);\r\n\t\t\tmap.repaint();\r\n\t\t}\r\n\t\tif (e.getKeyCode() == KeyEvent.VK_UP) {\r\n\t\t\tmap.move(0, -1);\r\n\t\t\tmap.repaint();\r\n\t\t}\r\n\t\tif (e.getKeyCode() == KeyEvent.VK_DOWN) {\r\n\t\t\tmap.move(0, 1);\r\n\t\t\tmap.repaint();\r\n\r\n\t\t}\r\n\t}\r\n\r\n}\r\n```\r\n\r\nwhere I add my 2 JPanels(PanelSpielfeld,PanelCharakterErschaffung)) to my GUI, and it locks like this:\r\n[![enter image description here][1]][1]\r\n\r\nand the other card, which is the same principle, I show the other card after pressing the &quot;starten!&quot; button:\r\n[![enter image description here][2]][2]\r\n\r\nSo, if I add a menuBar to the Jframe:\r\n\r\n    public Gui() {\r\n    \t\tthis.setSize(1000, 800);\r\n    \t\tthis.setDefaultCloseOperation(EXIT_ON_CLOSE);\r\n    \t\tthis.setLocationRelativeTo(null);// center\r\n    \t\tthis.setResizable(false);\r\n    \r\n    \t\t// bauen();\r\n    \t\tthis.cards = new JPanel(cardLayout);\r\n    \t\t\t\r\n    \t\tJMenuBar menuBar;\r\n    \t\tJMenu menu;\r\n    \t\tJMenuItem menuItem;\r\n    \r\n    \t\tmenuBar = new JMenuBar();\r\n    \r\n    \t\tmenu = new JMenu(&quot;A Menu&quot;);\r\n    \t\tmenuItem = new JMenuItem(&quot;testitem&quot;);\r\n    \r\n    \t\tmenu.add(menuItem);\r\n    \t\tmenuItem = new JMenuItem(&quot;3214dx&quot;);\r\n    \t\tmenu.add(menuItem);\r\n    \t\tmenuItem = new JMenuItem(&quot;dwq213m&quot;);\r\n    \t\tmenu.add(menuItem);\r\n    \t\tmenuBar.add(menu);\r\n    \t\tthis.add(menuBar);\r\n    \t\t\r\n    \t\tthis.addListener();\t\t\r\n    \t\tthis.add(cards);\r\n    \t\t\r\n    \t\tthis.setVisible(true);\r\n    \t\tthis.addWindowFocusListener(this);\r\n    \t}\r\n\r\nNothing is happening, and I don&#39;t really understand why.\r\nWhat am I doing wrong or what should I do, to have the same MenuBar on both &quot;cards&quot;?\r\n\r\n\r\n**Edit:**\r\nI changed \r\n\r\n    this.add(menuBar)\r\n\r\nto:\r\n\r\n    this.setJMenuBar(menuBar);\r\n\r\nand now it locks like this:\r\n[![enter image description here][3]][3]\r\n\r\nI&#39;m still missing something. Do I have to set a specific LayoutManager for the JFrame?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/sZAUj.png\r\n  [2]: https://i.stack.imgur.com/r2RbK.png\r\n  [3]: https://i.stack.imgur.com/gV0Cq.jpg","title":"Java How to add menuBar to JFrame without destroying my layout","body":"<p>I need some help with adding a menuBar to my JFrame.\nI have my GUI class:</p>\n<pre><code>    public class Gui extends JFrame implements KeyListener {\n        private PanelMiniMap map;\n    private CardLayout cardLayout = new CardLayout();\n\n    private JPanel cards;\n\n    public Gui() {\n        this.setSize(1000, 800);\n        this.setDefaultCloseOperation(EXIT_ON_CLOSE);\n        this.setLocationRelativeTo(null);// center\n        this.setResizable(false);\n\n        // bauen();\n        this.cards = new JPanel(cardLayout);\n\n        \n\n        this.addListener();\n        this.add(cards);\n\n        this.setVisible(true);\n\n    }\n\n    public void addListener() {\n        this.addKeyListener(this);\n    }\n\n    public void addPanelZuCards(PanelSpielfeld spielfeld, PanelCharakterErschaffung charerschaffung, PanelMiniMap map) {\n\n        this.map = map;\n\n        this.cards.add(charerschaffung, &quot;charerschaffung&quot;);\n        this.cards.add(spielfeld, &quot;spielfeld&quot;);\n    }\n\n    public Dimension getDimension() {\n        return new Dimension(this.getWidth(), this.getHeight());\n    }\n\n    /**\n     * Neue Charaktererschaffung ausgeben\n     * \n     * @param charerschaffung\n     *            Das Panel, auf dem die Oberflaeche zur Charaktererschaffung\n     *            erstellt wird\n     */\n    public void zeigeCharckterPanel() {\n        this.cardLayout.show(cards, &quot;charerschaffung&quot;);\n    }\n\n    public void zeigeSpielPanel() {\n        this.cardLayout.show(cards, &quot;spielfeld&quot;);\n        this.requestFocus();\n\n    }\n\n    @Override\n    public void keyTyped(KeyEvent e) {\n    }\n\n    @Override\n    public void keyReleased(KeyEvent e) {\n    }\n\n    @Override\n    public void keyPressed(KeyEvent e) {\n        if (e.getKeyCode() == KeyEvent.VK_LEFT) {\n            map.move(-1, 0);\n            map.repaint();\n        }\n        if (e.getKeyCode() == KeyEvent.VK_RIGHT) {\n            map.move(1, 0);\n            map.repaint();\n        }\n        if (e.getKeyCode() == KeyEvent.VK_UP) {\n            map.move(0, -1);\n            map.repaint();\n        }\n        if (e.getKeyCode() == KeyEvent.VK_DOWN) {\n            map.move(0, 1);\n            map.repaint();\n\n        }\n    }\n\n}\n</code></pre>\n<p>where I add my 2 JPanels(PanelSpielfeld,PanelCharakterErschaffung)) to my GUI, and it locks like this:\n<a href=\"https://i.stack.imgur.com/sZAUj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sZAUj.png\" alt=\"enter image description here\" /></a></p>\n<p>and the other card, which is the same principle, I show the other card after pressing the &quot;starten!&quot; button:\n<a href=\"https://i.stack.imgur.com/r2RbK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/r2RbK.png\" alt=\"enter image description here\" /></a></p>\n<p>So, if I add a menuBar to the Jframe:</p>\n<pre><code>public Gui() {\n        this.setSize(1000, 800);\n        this.setDefaultCloseOperation(EXIT_ON_CLOSE);\n        this.setLocationRelativeTo(null);// center\n        this.setResizable(false);\n\n        // bauen();\n        this.cards = new JPanel(cardLayout);\n            \n        JMenuBar menuBar;\n        JMenu menu;\n        JMenuItem menuItem;\n\n        menuBar = new JMenuBar();\n\n        menu = new JMenu(&quot;A Menu&quot;);\n        menuItem = new JMenuItem(&quot;testitem&quot;);\n\n        menu.add(menuItem);\n        menuItem = new JMenuItem(&quot;3214dx&quot;);\n        menu.add(menuItem);\n        menuItem = new JMenuItem(&quot;dwq213m&quot;);\n        menu.add(menuItem);\n        menuBar.add(menu);\n        this.add(menuBar);\n        \n        this.addListener();     \n        this.add(cards);\n        \n        this.setVisible(true);\n        this.addWindowFocusListener(this);\n    }\n</code></pre>\n<p>Nothing is happening, and I don't really understand why.\nWhat am I doing wrong or what should I do, to have the same MenuBar on both &quot;cards&quot;?</p>\n<p><strong>Edit:</strong>\nI changed</p>\n<pre><code>this.add(menuBar)\n</code></pre>\n<p>to:</p>\n<pre><code>this.setJMenuBar(menuBar);\n</code></pre>\n<p>and now it locks like this:\n<a href=\"https://i.stack.imgur.com/gV0Cq.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gV0Cq.jpg\" alt=\"enter image description here\" /></a></p>\n<p>I'm still missing something. Do I have to set a specific LayoutManager for the JFrame?</p>\n"},{"tags":["java","spring","generics"],"comments":[{"owner":{"account_id":4686595,"reputation":5802,"user_id":3793867,"accept_rate":29,"display_name":"Darshan Lila"},"score":0,"creation_date":1416222800,"post_id":26971422,"comment_id":42478515,"body_markdown":"Use `@Qualifier` when you autowire a dependency.","body":"Use <code>@Qualifier</code> when you autowire a dependency."},{"owner":{"account_id":1427397,"reputation":1308,"user_id":1350552,"accept_rate":24,"display_name":"Viktor"},"score":0,"creation_date":1416223237,"post_id":26971422,"comment_id":42478760,"body_markdown":"And how do you think I&#39;ll do that in a static way, like in the method `getService()` above?","body":"And how do you think I&#39;ll do that in a static way, like in the method <code>getService()</code> above?"},{"owner":{"account_id":2155152,"reputation":3994,"user_id":1910582,"accept_rate":88,"display_name":"Bond - Java Bond"},"score":0,"creation_date":1416223384,"post_id":26971422,"comment_id":42478839,"body_markdown":"why do you require beans statically when they are made available correctly via `@Autowired` ??","body":"why do you require beans statically when they are made available correctly via <code>@Autowired</code> ??"},{"owner":{"account_id":1427397,"reputation":1308,"user_id":1350552,"accept_rate":24,"display_name":"Viktor"},"score":0,"creation_date":1416224010,"post_id":26971422,"comment_id":42479163,"body_markdown":"Because I&#39;m using `WebApplicationContextUtils.getWebApplicationContext(ServletContext)` to access `ApplicationContext` and there are no more ways to obtain it. So I need a static way to get such a bean.","body":"Because I&#39;m using <code>WebApplicationContextUtils.getWebApplicationContext(ServletC&zwnj;&#8203;ontext)</code> to access <code>ApplicationContext</code> and there are no more ways to obtain it. So I need a static way to get such a bean."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1416227336,"post_id":26971422,"comment_id":42480808,"body_markdown":"Why would you need a static way? If you only need to inject it just use the `getAutowireCapableBeanFactory` and use that to autowire the dependencies in the class you construct (instead of trying to look them up yourself).","body":"Why would you need a static way? If you only need to inject it just use the <code>getAutowireCapableBeanFactory</code> and use that to autowire the dependencies in the class you construct (instead of trying to look them up yourself)."}],"answers":[{"tags":[],"owner":{"account_id":130368,"reputation":2042,"user_id":329589,"display_name":"Radu"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1680799586,"creation_date":1523048491,"answer_id":49700932,"question_id":26971422,"body_markdown":"Getting generic beans programmatically from the application context:\r\n\r\n    String[] beanNames = applicationContext.getBeanNamesForType(ResolvableType.forType(new ParameterizedTypeReference&lt;String&gt;() {}));\r\n    if (beanNames.length &gt; 0) {\r\n        String bean = (String) applicationContext.getBean(beanNames[0]);\r\n    }\r\n\r\nor in your specific case:\r\n\r\n\r\n    String[] beanNames = applicationContext.getBeanNamesForType(ResolvableType.forType(new ParameterizedTypeReference&lt;Service&lt;Foo&gt;&gt;() {}));\r\n    if (beanNames.length &gt; 0) {\r\n        Service&lt;Foo&gt; bean = (Service&lt;Foo&gt;) applicationContext.getBean(beanNames[0]);\r\n    }\r\n\r\n\r\nOr check [this][1] answer if you&#39;re interested in a mechanism to handle generic objects with particular handler.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/49700833/329589","title":"Spring: how to get an applicable generic bean instance by its type argument(s)?","body":"<p>Getting generic beans programmatically from the application context:</p>\n<pre><code>String[] beanNames = applicationContext.getBeanNamesForType(ResolvableType.forType(new ParameterizedTypeReference&lt;String&gt;() {}));\nif (beanNames.length &gt; 0) {\n    String bean = (String) applicationContext.getBean(beanNames[0]);\n}\n</code></pre>\n<p>or in your specific case:</p>\n<pre><code>String[] beanNames = applicationContext.getBeanNamesForType(ResolvableType.forType(new ParameterizedTypeReference&lt;Service&lt;Foo&gt;&gt;() {}));\nif (beanNames.length &gt; 0) {\n    Service&lt;Foo&gt; bean = (Service&lt;Foo&gt;) applicationContext.getBean(beanNames[0]);\n}\n</code></pre>\n<p>Or check <a href=\"https://stackoverflow.com/a/49700833/329589\">this</a> answer if you're interested in a mechanism to handle generic objects with particular handler.</p>\n"}],"owner":{"account_id":1427397,"reputation":1308,"user_id":1350552,"accept_rate":24,"display_name":"Viktor"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4948,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1680799586,"creation_date":1416222735,"question_id":26971422,"body_markdown":"I&#39;m using Spring 4.1.2 and I have the following code:\r\n\r\n    public class Foo {\r\n    }\r\n\r\n    public class Bar {\r\n    }\r\n\r\n    public interface Service&lt;T&gt; {\r\n    }\r\n\r\n    @Service(&quot;fooService&quot;)\r\n    public class FooServiceImpl implements Service&lt;Foo&gt; {\r\n    }\r\n\r\n    @Service(&quot;barService&quot;)\r\n    public class BarServiceImpl implements Service&lt;Bar&gt; {\r\n    }\r\n\r\nI know that Spring 4 can inject generic bean instances like the following:\r\n\r\n    @Autowired\r\n    private Service&lt;Foo&gt; service; // works fine\r\n\r\nBut I need to obtain them in a static way like the following:\r\n\r\n    Service&lt;Foo&gt; service = getService(getContext(), Foo.class);\r\n\r\n    ...\r\n\r\n    public static &lt;T&gt; Service&lt;T&gt; getService(ApplicationContext context,\r\n            Class&lt;T&gt; objectClass) {\r\n        ...\r\n    }\r\n\r\nI tried to use `ApplicationContext.getBeansOfType(Service.class)` but it returns all available bean instances (`fooService` and `barService`). So I need to pass type arguments somehow.\r\n\r\nIs there any way to do this? Something like this:\r\n\r\n    @SupressWarnings(&quot;unchecked&quot;)\r\n    Service&lt;Foo&gt; service = applicationContext.getGenericBean(\r\n            Service.class, // bean class\r\n            Foo.class // type arguments\r\n            // ...\r\n    );","title":"Spring: how to get an applicable generic bean instance by its type argument(s)?","body":"<p>I'm using Spring 4.1.2 and I have the following code:</p>\n\n<pre><code>public class Foo {\n}\n\npublic class Bar {\n}\n\npublic interface Service&lt;T&gt; {\n}\n\n@Service(\"fooService\")\npublic class FooServiceImpl implements Service&lt;Foo&gt; {\n}\n\n@Service(\"barService\")\npublic class BarServiceImpl implements Service&lt;Bar&gt; {\n}\n</code></pre>\n\n<p>I know that Spring 4 can inject generic bean instances like the following:</p>\n\n<pre><code>@Autowired\nprivate Service&lt;Foo&gt; service; // works fine\n</code></pre>\n\n<p>But I need to obtain them in a static way like the following:</p>\n\n<pre><code>Service&lt;Foo&gt; service = getService(getContext(), Foo.class);\n\n...\n\npublic static &lt;T&gt; Service&lt;T&gt; getService(ApplicationContext context,\n        Class&lt;T&gt; objectClass) {\n    ...\n}\n</code></pre>\n\n<p>I tried to use <code>ApplicationContext.getBeansOfType(Service.class)</code> but it returns all available bean instances (<code>fooService</code> and <code>barService</code>). So I need to pass type arguments somehow.</p>\n\n<p>Is there any way to do this? Something like this:</p>\n\n<pre><code>@SupressWarnings(\"unchecked\")\nService&lt;Foo&gt; service = applicationContext.getGenericBean(\n        Service.class, // bean class\n        Foo.class // type arguments\n        // ...\n);\n</code></pre>\n"},{"tags":["java","android","android-studio"],"owner":{"account_id":28233962,"reputation":1,"user_id":21582750,"display_name":"Axel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680798005,"creation_date":1680798005,"question_id":75951671,"body_markdown":"I&#39;m writing a java-based app, with different intents, I tried with the onstop method but it is chaiamto even when I leave an intent for another intent.\r\nHow can I completely close and make apps disappear from multitasking when it is in the backgorund ?\r\nThank you so much","title":"How can I completely close and make apps disappear from multitasking when it is in the backgorund?","body":"<p>I'm writing a java-based app, with different intents, I tried with the onstop method but it is chaiamto even when I leave an intent for another intent.\nHow can I completely close and make apps disappear from multitasking when it is in the backgorund ?\nThank you so much</p>\n"},{"tags":["java","amazon-web-services","aws-event-bridge"],"owner":{"account_id":21151264,"reputation":1,"user_id":15551518,"display_name":"manci ayman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680797977,"creation_date":1680797977,"question_id":75951667,"body_markdown":"I need to send events to AWS EventBridge in Java. The code cannot use the AWS SDK so it must use the REST API. The code must also use Apache HttpClient.\r\n\r\n```\r\n\r\npublic class TestEventBridge {\r\n\r\n    public static void main(String[] args)\r\n            throws NoSuchAlgorithmException, InvalidKeyException, IOException, URISyntaxException {\r\n        // Define EventBridge endpoint URL\r\n        String endpointUrl = &quot;https://events.eu-west-3.amazonaws.com&quot;;\r\n        // Define AWS region\r\n        String awsRegion = &quot;eu-west-3&quot;;\r\n        // Define AWS access key ID\r\n        String awsAccessKeyId = &quot;xxx&quot;;\r\n        // Define AWS secret access key\r\n        String awsSecretAccessKey = &quot;xxx&quot;;\r\n        // Define the event to be sent\r\n        String event = &quot;{\\&quot;Entries\\&quot;:[{\\&quot;Source\\&quot;:\\&quot;com.test\\&quot;,\\&quot;Detail\\&quot;:\\&quot;{ \\\\\\&quot;title\\\\\\&quot;: \\\\\\&quot;my_title\\\\\\&quot;, \\\\\\&quot;businessDomain\\\\\\&quot;: \\\\\\&quot;mydomain\\\\\\&quot; }\\&quot;,\\&quot;Resources\\&quot;:[\\&quot;myasset.jpg\\&quot;],\\&quot;DetailType\\&quot;:\\&quot;asset_created_success\\&quot;}]}&quot;;\r\n\r\n        // Generate a unique ID for the request\r\n        String uuid = UUID.randomUUID().toString();\r\n\r\n        // Define the current time in UTC format\r\n        ZoneId zoneId = ZoneId.of(&quot;UTC&quot;);\r\n        LocalDateTime now = LocalDateTime.now(zoneId);\r\n        DateTimeFormatter dateTimeFormatter = DateTimeFormatter.ofPattern(&quot;yyyyMMdd&#39;T&#39;HHmmss&#39;Z&#39;&quot;);\r\n        String currentTime = now.format(dateTimeFormatter);\r\n\r\n        // Define the payload hash\r\n        String payloadHash = Base64.getEncoder().encodeToString(hash(event)).toLowerCase();\r\n\r\n        // Define the canonical request\r\n        String canonicalRequest = &quot;POST\\n/\\n\\ncontent-type:application/x-amz-json-1.1\\nhost:&quot; + endpointUrl.split(&quot;//&quot;)[1] + &quot;\\nx-amz-date:&quot; + currentTime + &quot;\\nx-amz-target:AWSEvents.PutEvents\\n\\ncontent-type;host;x-amz-date;x-amz-target\\n&quot; + payloadHash;\r\n\r\n        // Define the string to sign\r\n        String stringToSign = &quot;AWS4-HMAC-SHA256\\n&quot; + currentTime + &quot;\\n&quot; + now.format(DateTimeFormatter.ofPattern(&quot;yyyyMMdd&quot;)) + &quot;/&quot; + awsRegion + &quot;/events/aws4_request\\n&quot; + Base64.getEncoder().encodeToString(hash(canonicalRequest)).toLowerCase();\r\n\r\n        // Generate the signing key\r\n        byte[] kSecret = (&quot;AWS4&quot; + awsSecretAccessKey).getBytes(StandardCharsets.UTF_8);\r\n        byte[] kDate = hmacSHA256(now.format(DateTimeFormatter.ofPattern(&quot;yyyyMMdd&quot;)), kSecret);\r\n        byte[] kRegion = hmacSHA256(awsRegion, kDate);\r\n        byte[] kService = hmacSHA256(&quot;events&quot;, kRegion);\r\n        byte[] kSigning = hmacSHA256(&quot;aws4_request&quot;, kService);\r\n\r\n        // Generate the signature\r\n        String signature = Base64.getEncoder().encodeToString(hmacSHA256(stringToSign, kSigning)).toLowerCase();\r\n\r\n        // Define the authorization header\r\n        String authorizationHeader = &quot;AWS4-HMAC-SHA256 Credential=&quot; + awsAccessKeyId + &quot;/&quot; + now.format(DateTimeFormatter.ofPattern(&quot;yyyyMMdd&quot;)) + &quot;/&quot; + awsRegion + &quot;/events/aws4_request, SignedHeaders=content-type;host;x-amz-date;x-amz-target, Signature=&quot; + signature;\r\n\r\n        // Define the HTTP client\r\n        HttpClient httpClient = HttpClients.createDefault();\r\n\r\n        // Define the HTTP POST request\r\n        HttpPost httpPost = new HttpPost(new URI(endpointUrl));\r\n        httpPost.setHeader(&quot;content-type&quot;, &quot;application/x-amz-json-1.1&quot;);\r\n        httpPost.setHeader(&quot;host&quot;, endpointUrl.split(&quot;//&quot;)[1]);\r\n        httpPost.setHeader(&quot;x-amz-date&quot;, currentTime);\r\n        httpPost.setHeader(&quot;x-amz-target&quot;, &quot;AWSEvents.PutEvents&quot;);\r\n        httpPost.setHeader(&quot;Authorization&quot;, authorizationHeader);\r\n        HttpEntity httpEntity = new StringEntity(event);\r\n        httpPost.setEntity(httpEntity);\r\n\r\n        // Execute the HTTP request and get the response\r\n        HttpResponse httpResponse = httpClient.execute(httpPost);\r\n        System.out.println(EntityUtils.toString(httpResponse.getEntity()));\r\n        System.out.println(httpResponse.getStatusLine().getStatusCode());\r\n    }\r\n\r\n    private static byte[] hmacSHA256(String data, byte[] key) throws NoSuchAlgorithmException, InvalidKeyException {\r\n        String algorithm = &quot;HmacSHA256&quot;;\r\n        Mac mac = Mac.getInstance(algorithm);\r\n        mac.init(new SecretKeySpec(key, algorithm));\r\n        return mac.doFinal(data.getBytes(StandardCharsets.UTF_8));\r\n    }\r\n\r\n    private static byte[] hash(String data) throws NoSuchAlgorithmException {\r\n        String algorithm = &quot;SHA-256&quot;;\r\n        return java.security.MessageDigest.getInstance(algorithm).digest(data.getBytes(StandardCharsets.UTF_8));\r\n    }\r\n}\r\n```\r\nI need to send events to AWS EventBridge in Java. The code cannot use the AWS SDK so it must use the REST API. The code must also use Apache HttpClient.\r\n","title":"the request signature we calculated does not match the signature aws","body":"<p>I need to send events to AWS EventBridge in Java. The code cannot use the AWS SDK so it must use the REST API. The code must also use Apache HttpClient.</p>\n<pre><code>\npublic class TestEventBridge {\n\n    public static void main(String[] args)\n            throws NoSuchAlgorithmException, InvalidKeyException, IOException, URISyntaxException {\n        // Define EventBridge endpoint URL\n        String endpointUrl = &quot;https://events.eu-west-3.amazonaws.com&quot;;\n        // Define AWS region\n        String awsRegion = &quot;eu-west-3&quot;;\n        // Define AWS access key ID\n        String awsAccessKeyId = &quot;xxx&quot;;\n        // Define AWS secret access key\n        String awsSecretAccessKey = &quot;xxx&quot;;\n        // Define the event to be sent\n        String event = &quot;{\\&quot;Entries\\&quot;:[{\\&quot;Source\\&quot;:\\&quot;com.test\\&quot;,\\&quot;Detail\\&quot;:\\&quot;{ \\\\\\&quot;title\\\\\\&quot;: \\\\\\&quot;my_title\\\\\\&quot;, \\\\\\&quot;businessDomain\\\\\\&quot;: \\\\\\&quot;mydomain\\\\\\&quot; }\\&quot;,\\&quot;Resources\\&quot;:[\\&quot;myasset.jpg\\&quot;],\\&quot;DetailType\\&quot;:\\&quot;asset_created_success\\&quot;}]}&quot;;\n\n        // Generate a unique ID for the request\n        String uuid = UUID.randomUUID().toString();\n\n        // Define the current time in UTC format\n        ZoneId zoneId = ZoneId.of(&quot;UTC&quot;);\n        LocalDateTime now = LocalDateTime.now(zoneId);\n        DateTimeFormatter dateTimeFormatter = DateTimeFormatter.ofPattern(&quot;yyyyMMdd'T'HHmmss'Z'&quot;);\n        String currentTime = now.format(dateTimeFormatter);\n\n        // Define the payload hash\n        String payloadHash = Base64.getEncoder().encodeToString(hash(event)).toLowerCase();\n\n        // Define the canonical request\n        String canonicalRequest = &quot;POST\\n/\\n\\ncontent-type:application/x-amz-json-1.1\\nhost:&quot; + endpointUrl.split(&quot;//&quot;)[1] + &quot;\\nx-amz-date:&quot; + currentTime + &quot;\\nx-amz-target:AWSEvents.PutEvents\\n\\ncontent-type;host;x-amz-date;x-amz-target\\n&quot; + payloadHash;\n\n        // Define the string to sign\n        String stringToSign = &quot;AWS4-HMAC-SHA256\\n&quot; + currentTime + &quot;\\n&quot; + now.format(DateTimeFormatter.ofPattern(&quot;yyyyMMdd&quot;)) + &quot;/&quot; + awsRegion + &quot;/events/aws4_request\\n&quot; + Base64.getEncoder().encodeToString(hash(canonicalRequest)).toLowerCase();\n\n        // Generate the signing key\n        byte[] kSecret = (&quot;AWS4&quot; + awsSecretAccessKey).getBytes(StandardCharsets.UTF_8);\n        byte[] kDate = hmacSHA256(now.format(DateTimeFormatter.ofPattern(&quot;yyyyMMdd&quot;)), kSecret);\n        byte[] kRegion = hmacSHA256(awsRegion, kDate);\n        byte[] kService = hmacSHA256(&quot;events&quot;, kRegion);\n        byte[] kSigning = hmacSHA256(&quot;aws4_request&quot;, kService);\n\n        // Generate the signature\n        String signature = Base64.getEncoder().encodeToString(hmacSHA256(stringToSign, kSigning)).toLowerCase();\n\n        // Define the authorization header\n        String authorizationHeader = &quot;AWS4-HMAC-SHA256 Credential=&quot; + awsAccessKeyId + &quot;/&quot; + now.format(DateTimeFormatter.ofPattern(&quot;yyyyMMdd&quot;)) + &quot;/&quot; + awsRegion + &quot;/events/aws4_request, SignedHeaders=content-type;host;x-amz-date;x-amz-target, Signature=&quot; + signature;\n\n        // Define the HTTP client\n        HttpClient httpClient = HttpClients.createDefault();\n\n        // Define the HTTP POST request\n        HttpPost httpPost = new HttpPost(new URI(endpointUrl));\n        httpPost.setHeader(&quot;content-type&quot;, &quot;application/x-amz-json-1.1&quot;);\n        httpPost.setHeader(&quot;host&quot;, endpointUrl.split(&quot;//&quot;)[1]);\n        httpPost.setHeader(&quot;x-amz-date&quot;, currentTime);\n        httpPost.setHeader(&quot;x-amz-target&quot;, &quot;AWSEvents.PutEvents&quot;);\n        httpPost.setHeader(&quot;Authorization&quot;, authorizationHeader);\n        HttpEntity httpEntity = new StringEntity(event);\n        httpPost.setEntity(httpEntity);\n\n        // Execute the HTTP request and get the response\n        HttpResponse httpResponse = httpClient.execute(httpPost);\n        System.out.println(EntityUtils.toString(httpResponse.getEntity()));\n        System.out.println(httpResponse.getStatusLine().getStatusCode());\n    }\n\n    private static byte[] hmacSHA256(String data, byte[] key) throws NoSuchAlgorithmException, InvalidKeyException {\n        String algorithm = &quot;HmacSHA256&quot;;\n        Mac mac = Mac.getInstance(algorithm);\n        mac.init(new SecretKeySpec(key, algorithm));\n        return mac.doFinal(data.getBytes(StandardCharsets.UTF_8));\n    }\n\n    private static byte[] hash(String data) throws NoSuchAlgorithmException {\n        String algorithm = &quot;SHA-256&quot;;\n        return java.security.MessageDigest.getInstance(algorithm).digest(data.getBytes(StandardCharsets.UTF_8));\n    }\n}\n</code></pre>\n<p>I need to send events to AWS EventBridge in Java. The code cannot use the AWS SDK so it must use the REST API. The code must also use Apache HttpClient.</p>\n"},{"tags":["java","android","automated-tests","appium-android","android-uiautomator"],"owner":{"account_id":17048003,"reputation":358,"user_id":12334353,"display_name":"cdub"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":199,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1680797456,"creation_date":1680794443,"question_id":75951167,"body_markdown":"Note: Working with Java 11 and Appium.\r\n\r\nI am trying to get a MobileElement for an appium test suite using Android UiAutomators. Specifically I need to scroll to one so I am condtructing the locator using `@AndroidFindBy(uiAutomator = &quot;new UiScrollable(new UiSelector().scrollable(true)).scrollIntoView(new UiSelector()...)&quot;`. My problem is that the element I need has no unique identifiers but a child does.\r\n\r\nElement tree looks something like this\r\n```xml\r\n&lt;RecyclerView&gt;\r\n   &lt;LinearLayout&gt;\r\n      &lt;TextView text=&quot;name&quot;&gt;\r\n      &lt;LinearLayout&gt;\r\n         &lt;TextView text=&quot;type&quot;&gt;\r\n         &lt;TextView text=&quot;unique id&quot;&gt; &lt;---I can find this\r\n      &lt;Switch&gt; &lt;--- Element I need\r\n   &lt;LinearLayout&gt;\r\n      &lt;TextView text=&quot;name&quot;&gt;\r\n      &lt;LinearLayout&gt;\r\n         &lt;TextView text=&quot;type&quot;&gt;\r\n         &lt;TextView text=&quot;another unique id&quot;&gt;\r\n      &lt;Switch&gt;\r\n```\r\n\r\nI tried `new UiScrollable(new UiSelector().scrollable(true)).scrollIntoView(new UiSelector().textContains(&quot;unique text&quot;).fromParent(new UiSelector())` but that only gives me the other TextView under the LinearLayout. I have also tried `.childSelector()` and other paths but since the TextView is the only unique element I always end up at it with no way to move back up the tree. The Android developer documentaion on UiSelectors has not been helpful for me.\r\n\r\nIn short I want to go from (TextView text=&quot;unique id&quot;) get parent (LinearLayout) from there find (Switch) sibling. Once I have the specific (LinearLayout) I can get the (Switch) easily. Its getting the parent from the child that I can&#39;t seen to figure out. Any advice?\r\n\r\n----------------------------------------\r\nContext Not needed to Answer Question:\r\n\r\nThe RecyclerView has dozen of this LinearLayouts, so my ultimate goal is to have a java method that finds the switch based on the unique id and name combo. The name, type, and id are not unique in my actual code but the the name and id make a unique pair. This fact can be ignored for the above question, just wanted to provide context for the below. can be shared across elements but the id is always unique.\r\n\r\n```java\r\nprivate WebElement getSwitch(String name, String uniqueId){\r\n   return driver.findElement(AppiumBy.androidUIAutomator(\r\n      String.format(&quot;new UiScrollable(new UiSelector().scrollable(true))&quot;+\r\n      &quot;.scrollIntoView(new UiSelector().textContains(\\&quot;%s\\&quot;)&quot;+\r\n      &quot;.getParentofTextViewSomehow().fromParent(new UiSelector().text(\\&quot;%s\\&quot;)&quot;+\r\n      &quot;.fromParent(new UiSelector().className(\\&quot;Switch\\&quot;))))&quot;,uniqueId, name)));\r\n}\r\n```","title":"How do I get the parent UiSelector starting at its child?","body":"<p>Note: Working with Java 11 and Appium.</p>\n<p>I am trying to get a MobileElement for an appium test suite using Android UiAutomators. Specifically I need to scroll to one so I am condtructing the locator using <code>@AndroidFindBy(uiAutomator = &quot;new UiScrollable(new UiSelector().scrollable(true)).scrollIntoView(new UiSelector()...)&quot;</code>. My problem is that the element I need has no unique identifiers but a child does.</p>\n<p>Element tree looks something like this</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;RecyclerView&gt;\n   &lt;LinearLayout&gt;\n      &lt;TextView text=&quot;name&quot;&gt;\n      &lt;LinearLayout&gt;\n         &lt;TextView text=&quot;type&quot;&gt;\n         &lt;TextView text=&quot;unique id&quot;&gt; &lt;---I can find this\n      &lt;Switch&gt; &lt;--- Element I need\n   &lt;LinearLayout&gt;\n      &lt;TextView text=&quot;name&quot;&gt;\n      &lt;LinearLayout&gt;\n         &lt;TextView text=&quot;type&quot;&gt;\n         &lt;TextView text=&quot;another unique id&quot;&gt;\n      &lt;Switch&gt;\n</code></pre>\n<p>I tried <code>new UiScrollable(new UiSelector().scrollable(true)).scrollIntoView(new UiSelector().textContains(&quot;unique text&quot;).fromParent(new UiSelector())</code> but that only gives me the other TextView under the LinearLayout. I have also tried <code>.childSelector()</code> and other paths but since the TextView is the only unique element I always end up at it with no way to move back up the tree. The Android developer documentaion on UiSelectors has not been helpful for me.</p>\n<p>In short I want to go from (TextView text=&quot;unique id&quot;) get parent (LinearLayout) from there find (Switch) sibling. Once I have the specific (LinearLayout) I can get the (Switch) easily. Its getting the parent from the child that I can't seen to figure out. Any advice?</p>\n<hr />\n<p>Context Not needed to Answer Question:</p>\n<p>The RecyclerView has dozen of this LinearLayouts, so my ultimate goal is to have a java method that finds the switch based on the unique id and name combo. The name, type, and id are not unique in my actual code but the the name and id make a unique pair. This fact can be ignored for the above question, just wanted to provide context for the below. can be shared across elements but the id is always unique.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private WebElement getSwitch(String name, String uniqueId){\n   return driver.findElement(AppiumBy.androidUIAutomator(\n      String.format(&quot;new UiScrollable(new UiSelector().scrollable(true))&quot;+\n      &quot;.scrollIntoView(new UiSelector().textContains(\\&quot;%s\\&quot;)&quot;+\n      &quot;.getParentofTextViewSomehow().fromParent(new UiSelector().text(\\&quot;%s\\&quot;)&quot;+\n      &quot;.fromParent(new UiSelector().className(\\&quot;Switch\\&quot;))))&quot;,uniqueId, name)));\n}\n</code></pre>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":262968,"reputation":767110,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"score":0,"creation_date":1680781495,"post_id":75948479,"comment_id":133957910,"body_markdown":"You may try this regex: `^(?!&amp;?(\\d)(?:&amp;?\\1)+$)(?=.{12,14}$)\\d*(?:&amp;\\d*)?$`","body":"You may try this regex: <code>^(?!&amp;?(\\d)(?:&amp;?\\1)+$)(?=.{12,14}$)\\d*(?:&amp;\\d*)?$</code>"},{"owner":{"account_id":22533675,"reputation":155,"user_id":16725317,"display_name":"Harinatha Reddy"},"score":1,"creation_date":1680783603,"post_id":75948479,"comment_id":133958381,"body_markdown":"Thanks anubhava  the above regex working as expected but its allowed only Numerics but it need to allow the Alphabets as well.\n\nAnd &amp; is not allowed Begining and ending of the text.\nLike 11122344111&amp; and &amp;11122344111 not allowed","body":"Thanks anubhava  the above regex working as expected but its allowed only Numerics but it need to allow the Alphabets as well.  And &amp; is not allowed Begining and ending of the text. Like 11122344111&amp; and &amp;11122344111 not allowed"}],"answers":[{"tags":[],"owner":{"account_id":262968,"reputation":767110,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680791197,"creation_date":1680791197,"answer_id":75950674,"question_id":75948479,"body_markdown":"You may use this regex for your conditions:\r\n\r\n```sh\r\n^(?!([\\da-zA-Z])(?:&amp;?\\1)+$)(?=.{12,14}$)[\\da-zA-Z]+(?:&amp;[\\da-zA-Z]+)?$\r\n```\r\n\r\n[RegEx Demo][1]\r\n\r\n\r\n  [1]: https://regex101.com/r/o0Ydy8/1\r\n\r\n**RegEx Details:**\r\n\r\n- `^`: Start\r\n- `(?!([\\da-zA-Z])(?:&amp;?\\1)+$)`: Negative lookahead to assert failure when same digit or letter is repeated till end\r\n- `(?=.{12,14}$)`: Positive lookahead to make sure there are 12 to 14 characters\r\n- `[\\da-zA-Z]+`: Match 1+ digits or letters\r\n- `(?:&amp;[\\da-zA-Z]+)?`: Optionally match `&amp;` followed by 1+ of digits or letters\r\n- `$`: End","title":"Regex for Not allow all same characters even included single special character","body":"<p>You may use this regex for your conditions:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>^(?!([\\da-zA-Z])(?:&amp;?\\1)+$)(?=.{12,14}$)[\\da-zA-Z]+(?:&amp;[\\da-zA-Z]+)?$\n</code></pre>\n<p><a href=\"https://regex101.com/r/o0Ydy8/1\" rel=\"nofollow noreferrer\">RegEx Demo</a></p>\n<p><strong>RegEx Details:</strong></p>\n<ul>\n<li><code>^</code>: Start</li>\n<li><code>(?!([\\da-zA-Z])(?:&amp;?\\1)+$)</code>: Negative lookahead to assert failure when same digit or letter is repeated till end</li>\n<li><code>(?=.{12,14}$)</code>: Positive lookahead to make sure there are 12 to 14 characters</li>\n<li><code>[\\da-zA-Z]+</code>: Match 1+ digits or letters</li>\n<li><code>(?:&amp;[\\da-zA-Z]+)?</code>: Optionally match <code>&amp;</code> followed by 1+ of digits or letters</li>\n<li><code>$</code>: End</li>\n</ul>\n"}],"owner":{"account_id":22533675,"reputation":155,"user_id":16725317,"display_name":"Harinatha Reddy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":1,"score":0,"last_activity_date":1680796674,"creation_date":1680776856,"question_id":75948479,"body_markdown":"Requirement :\r\n\r\nTrying to create the regex for the below conditions, I have tried the one regex it&#39;s working as expected other than one condition as it does not allow duplicates even separated by particular Char &amp;.\r\n\r\n1. Allow Alpha Numeric characters with a minimum of 12 and a maximum of 14 \r\n\r\n2. No special characters are allowed other than &amp; ( only one)\r\n\r\n3. Not Allow all the same characters even separated by &amp; \r\n\r\n4. Length is same between 12 to 14 even including the &amp; \r\n\r\n  \r\nex: \r\n\r\n    111111111111 not allowed as all are the same characters\r\n    1111111&amp;11111 not allowed as all are the same characters even &amp; is there\r\n    111111111112 allowed \r\n    1111111&amp;11112 allowed\r\n    ABC123567GHDG4 allowed\r\n    \r\n```\r\n^(\\d)(?!\\1+$)(?=.{11,13}$)[0-9]*(?:[&amp;][0-9]+)?$\r\n```\r\n\r\nThe above regex is working other than the case `1111111&amp;11111` \r\n","title":"Regex for Not allow all same characters even included single special character","body":"<p>Requirement :</p>\n<p>Trying to create the regex for the below conditions, I have tried the one regex it's working as expected other than one condition as it does not allow duplicates even separated by particular Char &amp;.</p>\n<ol>\n<li><p>Allow Alpha Numeric characters with a minimum of 12 and a maximum of 14</p>\n</li>\n<li><p>No special characters are allowed other than &amp; ( only one)</p>\n</li>\n<li><p>Not Allow all the same characters even separated by &amp;</p>\n</li>\n<li><p>Length is same between 12 to 14 even including the &amp;</p>\n</li>\n</ol>\n<p>ex:</p>\n<pre><code>111111111111 not allowed as all are the same characters\n1111111&amp;11111 not allowed as all are the same characters even &amp; is there\n111111111112 allowed \n1111111&amp;11112 allowed\nABC123567GHDG4 allowed\n</code></pre>\n<pre><code>^(\\d)(?!\\1+$)(?=.{11,13}$)[0-9]*(?:[&amp;][0-9]+)?$\n</code></pre>\n<p>The above regex is working other than the case <code>1111111&amp;11111</code></p>\n"},{"tags":["java","jasper-reports","pie-chart","jfreechart"],"answers":[{"tags":[],"owner":{"account_id":12321216,"reputation":414,"user_id":8990439,"display_name":"alesssz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1657119942,"creation_date":1657119942,"answer_id":72885888,"question_id":72855153,"body_markdown":"I managed to resolve this, if someone is struggling like I was:\r\n\r\n    import net.sf.jasperreports.engine.JRAbstractChartCustomizer;\r\n    import net.sf.jasperreports.engine.JRChart;\r\n    import org.jfree.chart.JFreeChart;\r\n    import org.jfree.chart.plot.PiePlot;\r\n    import org.jfree.data.general.PieDataset;\r\n    \r\n    import com.fasterxml.jackson.databind.node.ArrayNode;\r\n    \r\n    import java.awt.Color;\r\n    import java.util.HashMap;\r\n    \r\n    \r\n    \r\n    public class customColorSeries_pieChart  extends JRAbstractChartCustomizer  { \r\n        @Override\r\n        public void customize(JFreeChart chart, JRChart jasperChart) {\r\n        \tPiePlot plot = (PiePlot) chart.getPlot();\r\n        \tPieDataset plot_dataset = plot.getDataset();\r\n        \t\r\n        \tHashMap&lt;String, String&gt; customMap = new HashMap&lt;&gt;();\r\n        \t//Inside &#39;seriesColor&#39; we will find an array of object like -&gt; [{&quot;Status&quot;: &quot;Aperta&quot;, &quot;Color&quot;: &quot;#FFFF00&quot;}, ...]\r\n        \t//This comes from a parameter passed from a main report to a subreport\r\n        \tcom.fasterxml.jackson.databind.node.ArrayNode seriesColor = (ArrayNode) getParameterValue(&quot;seriesColor_P&quot;);\r\n        \t\r\n        \tfor (int z = 0; z &lt; seriesColor.size(); z++) {      \t\r\n            \tcustomMap.put(seriesColor.get(z).get(&quot;Status&quot;).textValue(), seriesColor.get(z).get(&quot;Color&quot;).textValue());\r\n            }\r\n        \t\r\n        \t\r\n        \tfor (int i = 0; i &lt; plot_dataset.getItemCount(); i++) {\r\n            \tif(customMap.containsKey(plot_dataset.getKey(i).toString())) {\r\n            \t\tplot.setSectionPaint(plot_dataset.getKey(i), Color.decode(customMap.get(plot_dataset.getKey(i).toString())));\r\n            \t}\r\n            \telse {\r\n            \t\tplot.setSectionPaint(plot_dataset.getKey(i), Color.BLACK);\r\n            \t}\r\n            }\r\n    \r\n        }        \r\n    }","title":"JasperSoft Studio (6.8), custom and dynamic color for a pieChart element","body":"<p>I managed to resolve this, if someone is struggling like I was:</p>\n<pre><code>import net.sf.jasperreports.engine.JRAbstractChartCustomizer;\nimport net.sf.jasperreports.engine.JRChart;\nimport org.jfree.chart.JFreeChart;\nimport org.jfree.chart.plot.PiePlot;\nimport org.jfree.data.general.PieDataset;\n\nimport com.fasterxml.jackson.databind.node.ArrayNode;\n\nimport java.awt.Color;\nimport java.util.HashMap;\n\n\n\npublic class customColorSeries_pieChart  extends JRAbstractChartCustomizer  { \n    @Override\n    public void customize(JFreeChart chart, JRChart jasperChart) {\n        PiePlot plot = (PiePlot) chart.getPlot();\n        PieDataset plot_dataset = plot.getDataset();\n        \n        HashMap&lt;String, String&gt; customMap = new HashMap&lt;&gt;();\n        //Inside 'seriesColor' we will find an array of object like -&gt; [{&quot;Status&quot;: &quot;Aperta&quot;, &quot;Color&quot;: &quot;#FFFF00&quot;}, ...]\n        //This comes from a parameter passed from a main report to a subreport\n        com.fasterxml.jackson.databind.node.ArrayNode seriesColor = (ArrayNode) getParameterValue(&quot;seriesColor_P&quot;);\n        \n        for (int z = 0; z &lt; seriesColor.size(); z++) {          \n            customMap.put(seriesColor.get(z).get(&quot;Status&quot;).textValue(), seriesColor.get(z).get(&quot;Color&quot;).textValue());\n        }\n        \n        \n        for (int i = 0; i &lt; plot_dataset.getItemCount(); i++) {\n            if(customMap.containsKey(plot_dataset.getKey(i).toString())) {\n                plot.setSectionPaint(plot_dataset.getKey(i), Color.decode(customMap.get(plot_dataset.getKey(i).toString())));\n            }\n            else {\n                plot.setSectionPaint(plot_dataset.getKey(i), Color.BLACK);\n            }\n        }\n\n    }        \n}\n</code></pre>\n"}],"owner":{"account_id":12321216,"reputation":414,"user_id":8990439,"display_name":"alesssz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":278,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72885888,"answer_count":1,"score":1,"last_activity_date":1680796615,"creation_date":1656929843,"question_id":72855153,"body_markdown":"I&#39;m using `JasperSoft Studio version 6.8`. I&#39;m trying to create a pieChart with dynamic colours. I would want each label (&#39;Verificata dal cliente&#39;, &#39;Aperta&#39;, &#39;Situazione invariata&#39;, etc...) to always have the same colour. &lt;br&gt;\r\nThe problem is that I don&#39;t always have all those labels (otherwise I would add a fixed color Series in the chart options), but I need each label to always have the same colour, despire how many labels there are (for example, &#39;Aperta&#39; always red, despite if there are 2 labels or 10) &lt;br&gt; &lt;br&gt;\r\n[![enter image description here][1]][1]\r\n\r\nIs there any way to do it? I&#39;m not that good with chart customization in java, but I guess that&#39;s the way...any help?&lt;br&gt;&lt;br&gt;\r\n\r\nEDIT:\r\nI managed to create a customizer:\r\n\r\n    import net.sf.jasperreports.engine.JRAbstractChartCustomizer;\r\n    import net.sf.jasperreports.engine.JRChart;\r\n    import org.jfree.chart.JFreeChart;\r\n    import org.jfree.chart.plot.PiePlot;\r\n    import com.fasterxml.jackson.databind.node.ArrayNode;\r\n    import java.util.HashMap;\r\n    \r\n    public class customColorSeries_pieChart  extends JRAbstractChartCustomizer  { \r\n    \t//Inside &#39;seriesColor&#39; we will find an array of object like -&gt; [{&quot;Status&quot;: &quot;Aperta&quot;, &quot;Color&quot;: &quot;#FFFF00&quot;}, ...]\r\n    \r\n        @Override\r\n        public void customize(JFreeChart chart, JRChart jasperChart) {\r\n        \tPiePlot plot = (PiePlot) chart.getPlot();    \t\r\n        \tHashMap&lt;String, String&gt; customMap = new HashMap&lt;&gt;();\r\n    \t\t//This comes from a parameter passed from a main report to a subreport\r\n        \tcom.fasterxml.jackson.databind.node.ArrayNode seriesColor = (ArrayNode) getParameterValue(&quot;seriesColor_P&quot;);\r\n            for (int z = 0; z &lt; seriesColor.size(); z++) {\r\n            \t//System.out.println(seriesColor.get(z).get(&quot;Status&quot;));\r\n            \t//System.out.println(seriesColor.get(z).get(&quot;Color&quot;));\r\n            \t\r\n            \tcustomMap.put(seriesColor.get(z).get(&quot;Status&quot;).textValue(), seriesColor.get(z).get(&quot;Color&quot;).textValue());\r\n            }\r\n        }        \r\n    }\r\n\r\nFrom there I don&#39;t know how to manage and manipulate the pie chart dataset to give each `Status` always the same color. &lt;br&gt;\r\nAny suggestion?\r\n\r\n  [1]: https://i.stack.imgur.com/loPXv.png","title":"JasperSoft Studio (6.8), custom and dynamic color for a pieChart element","body":"<p>I'm using <code>JasperSoft Studio version 6.8</code>. I'm trying to create a pieChart with dynamic colours. I would want each label ('Verificata dal cliente', 'Aperta', 'Situazione invariata', etc...) to always have the same colour. <br>\nThe problem is that I don't always have all those labels (otherwise I would add a fixed color Series in the chart options), but I need each label to always have the same colour, despire how many labels there are (for example, 'Aperta' always red, despite if there are 2 labels or 10) <br> <br>\n<a href=\"https://i.stack.imgur.com/loPXv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/loPXv.png\" alt=\"enter image description here\" /></a></p>\n<p>Is there any way to do it? I'm not that good with chart customization in java, but I guess that's the way...any help?<br><br></p>\n<p>EDIT:\nI managed to create a customizer:</p>\n<pre><code>import net.sf.jasperreports.engine.JRAbstractChartCustomizer;\nimport net.sf.jasperreports.engine.JRChart;\nimport org.jfree.chart.JFreeChart;\nimport org.jfree.chart.plot.PiePlot;\nimport com.fasterxml.jackson.databind.node.ArrayNode;\nimport java.util.HashMap;\n\npublic class customColorSeries_pieChart  extends JRAbstractChartCustomizer  { \n    //Inside 'seriesColor' we will find an array of object like -&gt; [{&quot;Status&quot;: &quot;Aperta&quot;, &quot;Color&quot;: &quot;#FFFF00&quot;}, ...]\n\n    @Override\n    public void customize(JFreeChart chart, JRChart jasperChart) {\n        PiePlot plot = (PiePlot) chart.getPlot();       \n        HashMap&lt;String, String&gt; customMap = new HashMap&lt;&gt;();\n        //This comes from a parameter passed from a main report to a subreport\n        com.fasterxml.jackson.databind.node.ArrayNode seriesColor = (ArrayNode) getParameterValue(&quot;seriesColor_P&quot;);\n        for (int z = 0; z &lt; seriesColor.size(); z++) {\n            //System.out.println(seriesColor.get(z).get(&quot;Status&quot;));\n            //System.out.println(seriesColor.get(z).get(&quot;Color&quot;));\n            \n            customMap.put(seriesColor.get(z).get(&quot;Status&quot;).textValue(), seriesColor.get(z).get(&quot;Color&quot;).textValue());\n        }\n    }        \n}\n</code></pre>\n<p>From there I don't know how to manage and manipulate the pie chart dataset to give each <code>Status</code> always the same color. <br>\nAny suggestion?</p>\n"},{"tags":["java","active-directory","kerberos","kerberos-delegation"],"comments":[{"owner":{"account_id":9493865,"reputation":5415,"user_id":7057680,"display_name":"T-Heron"},"score":0,"creation_date":1602973637,"post_id":64146021,"comment_id":113890348,"body_markdown":"The last paragraph of your problem statement is a bit confusing, can you edit/expand on it a bit inside of your question?  --&gt;  &quot;*I have tried with cases where end user is in ForestA, or when the backend service is in ForestA, either case works fine with S4U2Proxy call. The only time it does not work is when the end user and the end service are in one domain, and the front end service is in a different domain.*&quot;","body":"The last paragraph of your problem statement is a bit confusing, can you edit/expand on it a bit inside of your question?  --&gt;  &quot;<i>I have tried with cases where end user is in ForestA, or when the backend service is in ForestA, either case works fine with S4U2Proxy call. The only time it does not work is when the end user and the end service are in one domain, and the front end service is in a different domain.</i>&quot;"},{"owner":{"account_id":9493865,"reputation":5415,"user_id":7057680,"display_name":"T-Heron"},"score":0,"creation_date":1602973771,"post_id":64146021,"comment_id":113890378,"body_markdown":"Also, is userB, the front-end service, and the back-end service, all in the root domain of each forest?","body":"Also, is userB, the front-end service, and the back-end service, all in the root domain of each forest?"},{"owner":{"account_id":19632158,"reputation":51,"user_id":14370227,"display_name":"Thomas Yin"},"score":0,"creation_date":1603471873,"post_id":64146021,"comment_id":114057867,"body_markdown":"I&#39;ve edited the description to clarify. Also yes, this is all assuming there is one root domain in each forest.","body":"I&#39;ve edited the description to clarify. Also yes, this is all assuming there is one root domain in each forest."}],"answers":[{"tags":[],"owner":{"account_id":19632158,"reputation":51,"user_id":14370227,"display_name":"Thomas Yin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1603471709,"creation_date":1603471709,"answer_id":64504164,"question_id":64146021,"body_markdown":"After discussing the matter with Microsoft, it was confirmed that this specific case is not supported by Microsoft AD by design. Specifically if front end service is in one forest, and the user and resource service are in a different forest, then this use case is not supported. \r\n\r\nHopefully this helps for someone that encounter this issue in the future.","title":"Kerberos Resourced based constrained delegation in cross realm setup","body":"<p>After discussing the matter with Microsoft, it was confirmed that this specific case is not supported by Microsoft AD by design. Specifically if front end service is in one forest, and the user and resource service are in a different forest, then this use case is not supported.</p>\n<p>Hopefully this helps for someone that encounter this issue in the future.</p>\n"},{"tags":[],"owner":{"account_id":7263705,"reputation":21,"user_id":5539333,"display_name":"Troels Schwarz-Linnet"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680796415,"creation_date":1680796415,"answer_id":75951467,"question_id":64146021,"body_markdown":"Errorcode 12 is KDC_ERR_POLICY\r\n\r\nI experienced the same, where the midtier was Linux, running Apache2 as reverse proxy, on Ubuntu 18.04 LTS.\r\n\r\nMIT implemented resource-based constrained delegation protocol in 2021, with Kerberos V.5 1.19.\r\n9 years after Microsoft extended the Kerberos protocol in 2012.\r\n\r\nThe solution was to upgrade to Ubuntu 22.04 LTS, which come with Kerberos 1.19. Then it worked.\r\n\r\nI found out by creating a Forest, 2x DC, SQL, mid-tier, IIS server and user laptop in Azure cloud.\r\nBy inspection with Network Monitor in DC, I could see how Tickets was interchange differently, comparing IIS and Apache2. Then I travelled through MIT release notes and saw their announcement for Resource-Based Constrained Delegation in 1.19.\r\n","title":"Kerberos Resourced based constrained delegation in cross realm setup","body":"<p>Errorcode 12 is KDC_ERR_POLICY</p>\n<p>I experienced the same, where the midtier was Linux, running Apache2 as reverse proxy, on Ubuntu 18.04 LTS.</p>\n<p>MIT implemented resource-based constrained delegation protocol in 2021, with Kerberos V.5 1.19.\n9 years after Microsoft extended the Kerberos protocol in 2012.</p>\n<p>The solution was to upgrade to Ubuntu 22.04 LTS, which come with Kerberos 1.19. Then it worked.</p>\n<p>I found out by creating a Forest, 2x DC, SQL, mid-tier, IIS server and user laptop in Azure cloud.\nBy inspection with Network Monitor in DC, I could see how Tickets was interchange differently, comparing IIS and Apache2. Then I travelled through MIT release notes and saw their announcement for Resource-Based Constrained Delegation in 1.19.</p>\n"}],"owner":{"account_id":19632158,"reputation":51,"user_id":14370227,"display_name":"Thomas Yin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":405,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":64504164,"answer_count":2,"score":4,"last_activity_date":1680796415,"creation_date":1601501443,"question_id":64146021,"body_markdown":"I&#39;m trying to use latest JDK 8 to perform [resource based constrained delegation][1], and seems to be running into issues getting the service ticket for the last leg of the S4U2Proxy call. \r\n\r\nHere is my setup:\r\nTwo microsoft AD forest with two way forest authentication enabled. \r\n\r\n - ForestA: forestA.com \r\n - ForestB: forestB.com\r\n- Front end service is in ForestA with SPN of http/myappserver.forestA.com\r\n- Back end service in ForestB with SPN of http/backend.forestB.com\r\n- The user being impersonated is in ForestB with username of userB.\r\n\r\nI&#39;ve successfully utilized S4U2Self protocol and retrieved the service ticket for userB to Front end service in ForestA. However, when trying to utilized S4U2Proxy to get service ticket to back end service in ForestB, the request fails with error code kerberos error 12.\r\n\r\nUpon investigating the audit logs from event Viewer on the domain controller of ForestB, it indicates the error message is 0xC000019B (Event Id 4769), which seems to be related to some generic trust setup issue. \r\n\r\nAny further requests with the same payload with result in Kerberos error code 28 back from ForestB&#39;s domainController. Likely due to caching of kerberos ticket from before?\r\n\r\nUpdate:\r\n\r\nThis setup works fine if the front end service and the user are in the same forest, and the back end service is in a different forest. \r\n\r\nIt also works when front end service and back end service are in one forest, and the user is in a different forest.\r\n\r\n  [1]: https://learn.microsoft.com/en-us/openspecs/windows_protocols/ms-sfu/3bff5864-8135-400e-bdd9-33b552051d94","title":"Kerberos Resourced based constrained delegation in cross realm setup","body":"<p>I'm trying to use latest JDK 8 to perform <a href=\"https://learn.microsoft.com/en-us/openspecs/windows_protocols/ms-sfu/3bff5864-8135-400e-bdd9-33b552051d94\" rel=\"nofollow noreferrer\">resource based constrained delegation</a>, and seems to be running into issues getting the service ticket for the last leg of the S4U2Proxy call.</p>\n<p>Here is my setup:\nTwo microsoft AD forest with two way forest authentication enabled.</p>\n<ul>\n<li>ForestA: forestA.com</li>\n<li>ForestB: forestB.com</li>\n<li>Front end service is in ForestA with SPN of http/myappserver.forestA.com</li>\n<li>Back end service in ForestB with SPN of http/backend.forestB.com</li>\n<li>The user being impersonated is in ForestB with username of userB.</li>\n</ul>\n<p>I've successfully utilized S4U2Self protocol and retrieved the service ticket for userB to Front end service in ForestA. However, when trying to utilized S4U2Proxy to get service ticket to back end service in ForestB, the request fails with error code kerberos error 12.</p>\n<p>Upon investigating the audit logs from event Viewer on the domain controller of ForestB, it indicates the error message is 0xC000019B (Event Id 4769), which seems to be related to some generic trust setup issue.</p>\n<p>Any further requests with the same payload with result in Kerberos error code 28 back from ForestB's domainController. Likely due to caching of kerberos ticket from before?</p>\n<p>Update:</p>\n<p>This setup works fine if the front end service and the user are in the same forest, and the back end service is in a different forest.</p>\n<p>It also works when front end service and back end service are in one forest, and the user is in a different forest.</p>\n"},{"tags":["java","hibernate","hibernate-mapping"],"comments":[{"owner":{"account_id":6518557,"reputation":2810,"user_id":5043481,"display_name":"zforgo"},"score":0,"creation_date":1680559559,"post_id":75923934,"comment_id":133916124,"body_markdown":"Welcome to Stack Overflow. Please take the [tour](https://stackoverflow.com/tour) to learn how Stack Overflow works and read [How to Ask](https://stackoverflow.com/help/how-to-ask) or how to improve the quality of your question. Then edit your question to include your full source code you have as a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example), which can be compiled and tested by others. Currently the related entity `Articulo` is missing from the question.","body":"Welcome to Stack Overflow. Please take the <a href=\"https://stackoverflow.com/tour\">tour</a> to learn how Stack Overflow works and read <a href=\"https://stackoverflow.com/help/how-to-ask\">How to Ask</a> or how to improve the quality of your question. Then edit your question to include your full source code you have as a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, which can be compiled and tested by others. Currently the related entity <code>Articulo</code> is missing from the question."},{"owner":{"account_id":15138451,"reputation":460,"user_id":12083015,"display_name":"Erwin"},"score":0,"creation_date":1680578836,"post_id":75923934,"comment_id":133918048,"body_markdown":"What is the class Articulo and ArticuloCI looks like? Have you check [here](https://docs.jboss.org/hibernate/core/3.3/reference/en/html/inheritance.html) ?","body":"What is the class Articulo and ArticuloCI looks like? Have you check <a href=\"https://docs.jboss.org/hibernate/core/3.3/reference/en/html/inheritance.html\" rel=\"nofollow noreferrer\">here</a> ?"},{"owner":{"account_id":28206749,"reputation":11,"user_id":21559722,"display_name":"Luis Fernando Serio Faraldo"},"score":0,"creation_date":1680796419,"post_id":75923934,"comment_id":133961734,"body_markdown":"there, I added the definitions, sorry for the late edit, had some days off with sickness","body":"there, I added the definitions, sorry for the late edit, had some days off with sickness"}],"owner":{"account_id":28206749,"reputation":11,"user_id":21559722,"display_name":"Luis Fernando Serio Faraldo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1680796351,"creation_date":1680557555,"question_id":75923934,"body_markdown":"Sorry if duplicate, really tried to get an answer to this but couldn&#39;t solve.\r\n\r\nI have a superclass for all my entitys:\r\n\r\n```\r\npublic abstract class ZafiroEntity implements Serializable, Cloneable{\r\n    private String codigo;\r\n    private String nombre;\r\n    private Long id;\r\n    private boolean habilitado;\r\n    private Date lastSessionActivity;\r\n...getters()\r\n...setters()\r\n}\r\n```\r\n\r\nThen I have hibernate xmls like this:\r\n\r\n\r\n```\r\n&lt;class name=&quot;com.ansal.entities.Articulo&quot; table=&quot;articulos&quot;&gt;  \r\n        &lt;id name=&quot;codigo&quot; type=&quot;string&quot; column=&quot;codigo&quot;&gt;&lt;/id&gt;\r\n        &lt;property name=&quot;nombre&quot; type=&quot;string&quot; column=&quot;nombre&quot;&gt;&lt;/property&gt;\r\n        &lt;property name=&quot;descripcion&quot; type=&quot;string&quot; column=&quot;descripcion&quot;&gt;&lt;/property&gt;\r\n        &lt;property name=&quot;lista1&quot; type=&quot;string&quot; column=&quot;lista1&quot;&gt;&lt;/property&gt;\r\n        &lt;property name=&quot;lista2&quot; type=&quot;string&quot; column=&quot;lista2&quot;&gt;&lt;/property&gt;\r\n        &lt;property name=&quot;lista3&quot; type=&quot;string&quot; column=&quot;lista3&quot;&gt;&lt;/property&gt;\r\n        &lt;property name=&quot;lista4&quot; type=&quot;string&quot; column=&quot;lista4&quot;&gt;&lt;/property&gt;\r\n        &lt;property name=&quot;lista5&quot; type=&quot;string&quot; column=&quot;lista5&quot;&gt;&lt;/property&gt;\r\n        &lt;property name=&quot;oferta&quot; type=&quot;boolean&quot; column=&quot;oferta&quot;&gt;&lt;/property&gt;\r\n        &lt;property name=&quot;unidad&quot; type=&quot;string&quot; column=&quot;unidad&quot;&gt;&lt;/property&gt;\r\n        &lt;property name=&quot;totalVentas&quot; type=&quot;long&quot; column=&quot;total_ventas&quot;&gt;&lt;/property&gt;\r\n        &lt;property name=&quot;fechaCreacion&quot; type=&quot;timestamp&quot; column=&quot;fecha_creacion&quot;&gt;&lt;/property&gt;\r\n        &lt;property name=&quot;reemplazaImagenImportador&quot; type=&quot;boolean&quot; column=&quot;reemplaza_imagen_importador&quot;&gt;&lt;/property&gt;\r\n        &lt;property name=&quot;reemplazaDocumentoImportador&quot; type=&quot;boolean&quot; column=&quot;reemplaza_documento_importador&quot;&gt;&lt;/property&gt;\r\n        \r\n        &lt;set name=&quot;listas&quot; table=&quot;articulo_lista&quot; inverse=&quot;true&quot; fetch=&quot;select&quot; cascade=&quot;all&quot; lazy=&quot;false&quot;&gt;\r\n            &lt;key column=&quot;articulo_codigo&quot;/&gt;\r\n            &lt;many-to-many class=&quot;com.ansal.entities.Lista&quot;&gt;\r\n                &lt;column name=&quot;grupo_codigo&quot; /&gt;\r\n                &lt;column name=&quot;subgrupo_codigo&quot; /&gt;\r\n                &lt;column name=&quot;lista_codigo&quot; /&gt;\r\n            &lt;/many-to-many&gt;\r\n        &lt;/set&gt;\r\n        \r\n        &lt;list name=&quot;atributos&quot; table=&quot;articulo_atributos&quot; lazy=&quot;false&quot; inverse=&quot;false&quot; cascade=&quot;all&quot; fetch=&quot;select&quot;&gt;\r\n            &lt;key column=&quot;articulo_codigo&quot;/&gt;\r\n            &lt;index column=&quot;orden&quot;/&gt;\r\n            &lt;many-to-many column=&quot;idatributo&quot; class=&quot;com.ansal.entities.Atributo&quot;/&gt;\r\n        &lt;/list&gt;\r\n        \r\n        &lt;list name=&quot;imagenes&quot; table=&quot;articulo_imagenes&quot; lazy=&quot;false&quot; inverse=&quot;false&quot; cascade=&quot;all&quot; fetch=&quot;select&quot;&gt;\r\n            &lt;key column=&quot;articulo_codigo&quot;/&gt;\r\n            &lt;index column=&quot;orden&quot;/&gt;\r\n            &lt;many-to-many column=&quot;idfile&quot; class=&quot;com.ansal.entities.ZFile&quot;/&gt;\r\n        &lt;/list&gt;\r\n        \r\n        &lt;list name=&quot;documentos&quot; table=&quot;articulo_documentos&quot; lazy=&quot;false&quot; cascade=&quot;all&quot; inverse=&quot;false&quot; fetch=&quot;select&quot;&gt;\r\n            &lt;key column=&quot;articulo_codigo&quot;/&gt;\r\n            &lt;index column=&quot;orden&quot;/&gt;\r\n            &lt;many-to-many column=&quot;idfile&quot; class=&quot;com.ansal.entities.ZFile&quot;/&gt;\r\n        &lt;/list&gt;\r\n    &lt;/class&gt;\r\n    \r\n    &lt;class name=&quot;com.ansal.entities.ArticuloCI&quot; table=&quot;articulos&quot;&gt;  \r\n        &lt;id name=&quot;codigo&quot; type=&quot;string&quot; column=&quot;codigo&quot;&gt;&lt;/id&gt;\r\n        &lt;property name=&quot;nombre&quot; type=&quot;string&quot; column=&quot;nombre&quot;&gt;&lt;/property&gt;\r\n        &lt;property name=&quot;lista1&quot; type=&quot;string&quot; column=&quot;lista1&quot;&gt;&lt;/property&gt;\r\n        &lt;property name=&quot;lista2&quot; type=&quot;string&quot; column=&quot;lista2&quot;&gt;&lt;/property&gt;\r\n        &lt;property name=&quot;lista3&quot; type=&quot;string&quot; column=&quot;lista3&quot;&gt;&lt;/property&gt;\r\n        &lt;property name=&quot;lista4&quot; type=&quot;string&quot; column=&quot;lista4&quot;&gt;&lt;/property&gt;\r\n        &lt;property name=&quot;lista5&quot; type=&quot;string&quot; column=&quot;lista5&quot;&gt;&lt;/property&gt;\r\n        &lt;property name=&quot;oferta&quot; type=&quot;boolean&quot; column=&quot;oferta&quot;&gt;&lt;/property&gt;\r\n        &lt;property name=&quot;unidad&quot; type=&quot;string&quot; column=&quot;unidad&quot;&gt;&lt;/property&gt;\r\n    &lt;/class&gt;\r\n\r\n    &lt;class name=&quot;com.ansal.entities.CommerceItem&quot; table=&quot;commerce_item&quot;&gt;  \r\n        &lt;id name=&quot;id&quot; type=&quot;long&quot;&gt;\r\n            &lt;column name=&quot;id&quot;  unique=&quot;true&quot;/&gt;\r\n            &lt;generator class=&quot;identity&quot;/&gt;\r\n        &lt;/id&gt;\r\n        &lt;many-to-one name=&quot;articulo&quot; class=&quot;com.ansal.entities.ArticuloCI&quot; lazy=&quot;false&quot;&gt;\r\n            &lt;column name=&quot;codigo_articulo&quot; /&gt;\r\n        &lt;/many-to-one&gt;\r\n        &lt;property name=&quot;cantidad&quot; type=&quot;int&quot; column=&quot;cantidad&quot;&gt;&lt;/property&gt;\r\n        &lt;property name=&quot;precioVenta&quot; type=&quot;string&quot; column=&quot;precio_venta&quot;&gt;&lt;/property&gt;\r\n        &lt;property name=&quot;precioTotal&quot; type=&quot;string&quot; column=&quot;precio_total&quot;&gt;&lt;/property&gt;\r\n        &lt;property name=&quot;cantidadConfirmada&quot; type=&quot;int&quot; column=&quot;cantidad_confirmada&quot;&gt;&lt;/property&gt;\r\n        &lt;set name=&quot;reemplazos&quot; table=&quot;commerce_item_reemplazo&quot; cascade=&quot;save-update&quot; inverse=&quot;false&quot; lazy=&quot;false&quot; fetch=&quot;select&quot;&gt;\r\n            &lt;key column=&quot;id_ci_padre&quot;/&gt;\r\n            &lt;many-to-many class=&quot;com.ansal.entities.CommerceItem&quot;&gt;\r\n                &lt;column name=&quot;id_ci_reemplazo&quot; /&gt;\r\n            &lt;/many-to-many&gt;\r\n        &lt;/set&gt;\r\n    &lt;/class&gt;  \r\n```\r\n\r\nBut when I try to filter:\r\n\r\n\r\n```\r\n\r\nString query = &quot;from com.ansal.entities.Articulo a WHERE (a.descripcion is null OR a.descripcion = &#39;&#39;)&quot;;\r\nList&lt;Articulo&gt; articulos = (List&lt;Articulo&gt;) HibernateUtils.get(query, new HashMap&lt;&gt;(), Articulo.class);\r\n\r\n\r\npublic static &lt;T&gt; List&lt;T&gt; get(String query, Map&lt;String,Object&gt; params, Class&lt;T&gt; t) throws Exception {\r\n        return get(query, params, t, 0, 0);\r\n    }\r\n\r\npublic static &lt;T&gt; List&lt;T&gt; get(String query, Map&lt;String,Object&gt; params, Class&lt;T&gt; t, int maxItems, int firstRow) throws Exception {\r\n        SessionFactory factory = HibernateUtils.getSessionFactory();\r\n        Session session = factory.openSession();\r\n        Exception ex = null;\r\n        List&lt;T&gt; ret = new ArrayList&lt;&gt;();\r\n        try {\r\n            Query q = session.createQuery(query,t);\r\n            for(String key: params.keySet()){\r\n                if(isDate(params.get(key))){\r\n                    q.setParameter(key, params.get(key), TemporalType.DATE);\r\n                } else {\r\n                    q.setParameter(key, params.get(key));\r\n                }\r\n            }\r\n            if(maxItems&gt;0){\r\n                q.setMaxResults(maxItems);\r\n            }\r\n            q.setFirstResult(firstRow);\r\n            ret = q.getResultList();\r\n        } catch (Exception e) {\r\n            ex = e;\r\n            Logger.getLogger(HibernateUtils.class.getName()).log(Level.SEVERE, null, ex);\r\n        } finally {\r\n            session.close();\r\n        }\r\n        return ret;\r\n    }\r\n```\r\n\r\nThen it returns an Exception stating it doesn&#39;t have the property &quot;descripcion&quot;, and after debugging I found that the query is building as &quot;from com.ansal.entities.ArticuloCI a WHERE (a.descripcion is null OR a.descripcion = &#39;&#39;)&quot;.\r\n\r\nI guess it may be connected by the inheritance.\r\nArticulo extends ZafiroEntity and \r\nArticuloCI extends Articulo\r\n\r\nMore info: This a service only server, and since it has to return data and not proxys I tried to built multiple entities reflecting the data needed for each response/necessity.\r\nSaves and updates works just fine.\r\n\r\nThanks in advance\r\n\r\nTried to google the problem, but I guess I&#39;m missing the keywords to find a similar case or example.\r\nAlso checked the suggestion stackoverflow showed me before posting.\r\nSorry all.\r\n\r\n\r\nEdit 1:ArticuloCI was me being lazy but it worked\r\n\r\n    public class Articulo extends ZafiroEntity {\r\n        private String descripcion;\r\n        private String lista1,lista2,lista3,lista4,lista5;\r\n        private boolean oferta;\r\n        private List&lt;ZFile&gt; documentos = new ArrayList&lt;&gt;();\r\n        private String unidad;\r\n        private List&lt;ZFile&gt; imagenes = new ArrayList&lt;&gt;();\r\n        private Date fechaCreacion = new Date();\r\n        private Set&lt;Lista&gt; listas = new HashSet&lt;Lista&gt;();\r\n        private Long totalVentas;\r\n        private Set&lt;Inventory&gt; stock;\r\n        private List&lt;Atributo&gt; atributos = new ArrayList&lt;&gt;();\r\n        private boolean reemplazaImagenImportador = true;\r\n        private boolean reemplazaDocumentoImportador = true;\r\n        //getters and setters\r\n    }\r\n    \r\n    public class ArticuloCI extends Articulo{}\r\n\r\n","title":"Hibernate query wrong entity","body":"<p>Sorry if duplicate, really tried to get an answer to this but couldn't solve.</p>\n<p>I have a superclass for all my entitys:</p>\n<pre><code>public abstract class ZafiroEntity implements Serializable, Cloneable{\n    private String codigo;\n    private String nombre;\n    private Long id;\n    private boolean habilitado;\n    private Date lastSessionActivity;\n...getters()\n...setters()\n}\n</code></pre>\n<p>Then I have hibernate xmls like this:</p>\n<pre><code>&lt;class name=&quot;com.ansal.entities.Articulo&quot; table=&quot;articulos&quot;&gt;  \n        &lt;id name=&quot;codigo&quot; type=&quot;string&quot; column=&quot;codigo&quot;&gt;&lt;/id&gt;\n        &lt;property name=&quot;nombre&quot; type=&quot;string&quot; column=&quot;nombre&quot;&gt;&lt;/property&gt;\n        &lt;property name=&quot;descripcion&quot; type=&quot;string&quot; column=&quot;descripcion&quot;&gt;&lt;/property&gt;\n        &lt;property name=&quot;lista1&quot; type=&quot;string&quot; column=&quot;lista1&quot;&gt;&lt;/property&gt;\n        &lt;property name=&quot;lista2&quot; type=&quot;string&quot; column=&quot;lista2&quot;&gt;&lt;/property&gt;\n        &lt;property name=&quot;lista3&quot; type=&quot;string&quot; column=&quot;lista3&quot;&gt;&lt;/property&gt;\n        &lt;property name=&quot;lista4&quot; type=&quot;string&quot; column=&quot;lista4&quot;&gt;&lt;/property&gt;\n        &lt;property name=&quot;lista5&quot; type=&quot;string&quot; column=&quot;lista5&quot;&gt;&lt;/property&gt;\n        &lt;property name=&quot;oferta&quot; type=&quot;boolean&quot; column=&quot;oferta&quot;&gt;&lt;/property&gt;\n        &lt;property name=&quot;unidad&quot; type=&quot;string&quot; column=&quot;unidad&quot;&gt;&lt;/property&gt;\n        &lt;property name=&quot;totalVentas&quot; type=&quot;long&quot; column=&quot;total_ventas&quot;&gt;&lt;/property&gt;\n        &lt;property name=&quot;fechaCreacion&quot; type=&quot;timestamp&quot; column=&quot;fecha_creacion&quot;&gt;&lt;/property&gt;\n        &lt;property name=&quot;reemplazaImagenImportador&quot; type=&quot;boolean&quot; column=&quot;reemplaza_imagen_importador&quot;&gt;&lt;/property&gt;\n        &lt;property name=&quot;reemplazaDocumentoImportador&quot; type=&quot;boolean&quot; column=&quot;reemplaza_documento_importador&quot;&gt;&lt;/property&gt;\n        \n        &lt;set name=&quot;listas&quot; table=&quot;articulo_lista&quot; inverse=&quot;true&quot; fetch=&quot;select&quot; cascade=&quot;all&quot; lazy=&quot;false&quot;&gt;\n            &lt;key column=&quot;articulo_codigo&quot;/&gt;\n            &lt;many-to-many class=&quot;com.ansal.entities.Lista&quot;&gt;\n                &lt;column name=&quot;grupo_codigo&quot; /&gt;\n                &lt;column name=&quot;subgrupo_codigo&quot; /&gt;\n                &lt;column name=&quot;lista_codigo&quot; /&gt;\n            &lt;/many-to-many&gt;\n        &lt;/set&gt;\n        \n        &lt;list name=&quot;atributos&quot; table=&quot;articulo_atributos&quot; lazy=&quot;false&quot; inverse=&quot;false&quot; cascade=&quot;all&quot; fetch=&quot;select&quot;&gt;\n            &lt;key column=&quot;articulo_codigo&quot;/&gt;\n            &lt;index column=&quot;orden&quot;/&gt;\n            &lt;many-to-many column=&quot;idatributo&quot; class=&quot;com.ansal.entities.Atributo&quot;/&gt;\n        &lt;/list&gt;\n        \n        &lt;list name=&quot;imagenes&quot; table=&quot;articulo_imagenes&quot; lazy=&quot;false&quot; inverse=&quot;false&quot; cascade=&quot;all&quot; fetch=&quot;select&quot;&gt;\n            &lt;key column=&quot;articulo_codigo&quot;/&gt;\n            &lt;index column=&quot;orden&quot;/&gt;\n            &lt;many-to-many column=&quot;idfile&quot; class=&quot;com.ansal.entities.ZFile&quot;/&gt;\n        &lt;/list&gt;\n        \n        &lt;list name=&quot;documentos&quot; table=&quot;articulo_documentos&quot; lazy=&quot;false&quot; cascade=&quot;all&quot; inverse=&quot;false&quot; fetch=&quot;select&quot;&gt;\n            &lt;key column=&quot;articulo_codigo&quot;/&gt;\n            &lt;index column=&quot;orden&quot;/&gt;\n            &lt;many-to-many column=&quot;idfile&quot; class=&quot;com.ansal.entities.ZFile&quot;/&gt;\n        &lt;/list&gt;\n    &lt;/class&gt;\n    \n    &lt;class name=&quot;com.ansal.entities.ArticuloCI&quot; table=&quot;articulos&quot;&gt;  \n        &lt;id name=&quot;codigo&quot; type=&quot;string&quot; column=&quot;codigo&quot;&gt;&lt;/id&gt;\n        &lt;property name=&quot;nombre&quot; type=&quot;string&quot; column=&quot;nombre&quot;&gt;&lt;/property&gt;\n        &lt;property name=&quot;lista1&quot; type=&quot;string&quot; column=&quot;lista1&quot;&gt;&lt;/property&gt;\n        &lt;property name=&quot;lista2&quot; type=&quot;string&quot; column=&quot;lista2&quot;&gt;&lt;/property&gt;\n        &lt;property name=&quot;lista3&quot; type=&quot;string&quot; column=&quot;lista3&quot;&gt;&lt;/property&gt;\n        &lt;property name=&quot;lista4&quot; type=&quot;string&quot; column=&quot;lista4&quot;&gt;&lt;/property&gt;\n        &lt;property name=&quot;lista5&quot; type=&quot;string&quot; column=&quot;lista5&quot;&gt;&lt;/property&gt;\n        &lt;property name=&quot;oferta&quot; type=&quot;boolean&quot; column=&quot;oferta&quot;&gt;&lt;/property&gt;\n        &lt;property name=&quot;unidad&quot; type=&quot;string&quot; column=&quot;unidad&quot;&gt;&lt;/property&gt;\n    &lt;/class&gt;\n\n    &lt;class name=&quot;com.ansal.entities.CommerceItem&quot; table=&quot;commerce_item&quot;&gt;  \n        &lt;id name=&quot;id&quot; type=&quot;long&quot;&gt;\n            &lt;column name=&quot;id&quot;  unique=&quot;true&quot;/&gt;\n            &lt;generator class=&quot;identity&quot;/&gt;\n        &lt;/id&gt;\n        &lt;many-to-one name=&quot;articulo&quot; class=&quot;com.ansal.entities.ArticuloCI&quot; lazy=&quot;false&quot;&gt;\n            &lt;column name=&quot;codigo_articulo&quot; /&gt;\n        &lt;/many-to-one&gt;\n        &lt;property name=&quot;cantidad&quot; type=&quot;int&quot; column=&quot;cantidad&quot;&gt;&lt;/property&gt;\n        &lt;property name=&quot;precioVenta&quot; type=&quot;string&quot; column=&quot;precio_venta&quot;&gt;&lt;/property&gt;\n        &lt;property name=&quot;precioTotal&quot; type=&quot;string&quot; column=&quot;precio_total&quot;&gt;&lt;/property&gt;\n        &lt;property name=&quot;cantidadConfirmada&quot; type=&quot;int&quot; column=&quot;cantidad_confirmada&quot;&gt;&lt;/property&gt;\n        &lt;set name=&quot;reemplazos&quot; table=&quot;commerce_item_reemplazo&quot; cascade=&quot;save-update&quot; inverse=&quot;false&quot; lazy=&quot;false&quot; fetch=&quot;select&quot;&gt;\n            &lt;key column=&quot;id_ci_padre&quot;/&gt;\n            &lt;many-to-many class=&quot;com.ansal.entities.CommerceItem&quot;&gt;\n                &lt;column name=&quot;id_ci_reemplazo&quot; /&gt;\n            &lt;/many-to-many&gt;\n        &lt;/set&gt;\n    &lt;/class&gt;  \n</code></pre>\n<p>But when I try to filter:</p>\n<pre><code>\nString query = &quot;from com.ansal.entities.Articulo a WHERE (a.descripcion is null OR a.descripcion = '')&quot;;\nList&lt;Articulo&gt; articulos = (List&lt;Articulo&gt;) HibernateUtils.get(query, new HashMap&lt;&gt;(), Articulo.class);\n\n\npublic static &lt;T&gt; List&lt;T&gt; get(String query, Map&lt;String,Object&gt; params, Class&lt;T&gt; t) throws Exception {\n        return get(query, params, t, 0, 0);\n    }\n\npublic static &lt;T&gt; List&lt;T&gt; get(String query, Map&lt;String,Object&gt; params, Class&lt;T&gt; t, int maxItems, int firstRow) throws Exception {\n        SessionFactory factory = HibernateUtils.getSessionFactory();\n        Session session = factory.openSession();\n        Exception ex = null;\n        List&lt;T&gt; ret = new ArrayList&lt;&gt;();\n        try {\n            Query q = session.createQuery(query,t);\n            for(String key: params.keySet()){\n                if(isDate(params.get(key))){\n                    q.setParameter(key, params.get(key), TemporalType.DATE);\n                } else {\n                    q.setParameter(key, params.get(key));\n                }\n            }\n            if(maxItems&gt;0){\n                q.setMaxResults(maxItems);\n            }\n            q.setFirstResult(firstRow);\n            ret = q.getResultList();\n        } catch (Exception e) {\n            ex = e;\n            Logger.getLogger(HibernateUtils.class.getName()).log(Level.SEVERE, null, ex);\n        } finally {\n            session.close();\n        }\n        return ret;\n    }\n</code></pre>\n<p>Then it returns an Exception stating it doesn't have the property &quot;descripcion&quot;, and after debugging I found that the query is building as &quot;from com.ansal.entities.ArticuloCI a WHERE (a.descripcion is null OR a.descripcion = '')&quot;.</p>\n<p>I guess it may be connected by the inheritance.\nArticulo extends ZafiroEntity and\nArticuloCI extends Articulo</p>\n<p>More info: This a service only server, and since it has to return data and not proxys I tried to built multiple entities reflecting the data needed for each response/necessity.\nSaves and updates works just fine.</p>\n<p>Thanks in advance</p>\n<p>Tried to google the problem, but I guess I'm missing the keywords to find a similar case or example.\nAlso checked the suggestion stackoverflow showed me before posting.\nSorry all.</p>\n<p>Edit 1:ArticuloCI was me being lazy but it worked</p>\n<pre><code>public class Articulo extends ZafiroEntity {\n    private String descripcion;\n    private String lista1,lista2,lista3,lista4,lista5;\n    private boolean oferta;\n    private List&lt;ZFile&gt; documentos = new ArrayList&lt;&gt;();\n    private String unidad;\n    private List&lt;ZFile&gt; imagenes = new ArrayList&lt;&gt;();\n    private Date fechaCreacion = new Date();\n    private Set&lt;Lista&gt; listas = new HashSet&lt;Lista&gt;();\n    private Long totalVentas;\n    private Set&lt;Inventory&gt; stock;\n    private List&lt;Atributo&gt; atributos = new ArrayList&lt;&gt;();\n    private boolean reemplazaImagenImportador = true;\n    private boolean reemplazaDocumentoImportador = true;\n    //getters and setters\n}\n\npublic class ArticuloCI extends Articulo{}\n</code></pre>\n"},{"tags":["java","c++","initialization","equivalent","static-block"],"comments":[{"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"score":1,"creation_date":1381156805,"post_id":19227664,"comment_id":28457194,"body_markdown":"(Can I just point out the mutable statics in Java are really not recommended.)","body":"(Can I just point out the mutable statics in Java are really not recommended.)"},{"owner":{"account_id":481416,"reputation":355314,"user_id":895245,"accept_rate":49,"display_name":"Ciro Santilli OurBigBook.com"},"score":0,"creation_date":1446567375,"post_id":19227664,"comment_id":54791183,"body_markdown":"Non-static: http://stackoverflow.com/questions/10520342/initializing-blocks-c-java","body":"Non-static: <a href=\"http://stackoverflow.com/questions/10520342/initializing-blocks-c-java\" title=\"initializing blocks c java\">stackoverflow.com/questions/10520342/initializing-blocks-c-j&zwnj;&#8203;ava</a>"},{"owner":{"account_id":13026692,"reputation":820,"user_id":9414470,"display_name":"Jaideep Shekhar"},"score":0,"creation_date":1576763836,"post_id":19227664,"comment_id":105009409,"body_markdown":"Should the `static block` be separate for each class? Or does a single one suffice? Why not create an initializing function and call it in `main`?","body":"Should the <code>static block</code> be separate for each class? Or does a single one suffice? Why not create an initializing function and call it in <code>main</code>?"},{"owner":{"account_id":514136,"reputation":120958,"user_id":1593077,"accept_rate":49,"display_name":"einpoklum"},"score":0,"creation_date":1576766746,"post_id":19227664,"comment_id":105011106,"body_markdown":"@JaideepShekhar: There are no classes involved here - just a block of code that runs once before `main()`. &quot;Why not... call it in `main()`&quot;? So that main doesn&#39;t have to know about it of course.","body":"@JaideepShekhar: There are no classes involved here - just a block of code that runs once before <code>main()</code>. &quot;Why not... call it in <code>main()</code>&quot;? So that main doesn&#39;t have to know about it of course."},{"owner":{"account_id":13026692,"reputation":820,"user_id":9414470,"display_name":"Jaideep Shekhar"},"score":0,"creation_date":1576767342,"post_id":19227664,"comment_id":105011425,"body_markdown":"Am I right in understanding that there is no need for multiple static blocks? Still, no offense, but it seems like a bit of a hassle for a small problem, IMO.","body":"Am I right in understanding that there is no need for multiple static blocks? Still, no offense, but it seems like a bit of a hassle for a small problem, IMO."},{"owner":{"account_id":514136,"reputation":120958,"user_id":1593077,"accept_rate":49,"display_name":"einpoklum"},"score":0,"creation_date":1576768691,"post_id":19227664,"comment_id":105012166,"body_markdown":"@JaideepShekhar: No, that&#39;s not right. The whole point is that there isn&#39;t a single global point at which you know everything that needs to be run statically, but rather, every translation unit or file can add  such code, independently of the rest of the program.","body":"@JaideepShekhar: No, that&#39;s not right. The whole point is that there isn&#39;t a single global point at which you know everything that needs to be run statically, but rather, every translation unit or file can add  such code, independently of the rest of the program."}],"answers":[{"tags":[],"owner":{"account_id":293472,"reputation":467154,"user_id":596781,"accept_rate":80,"display_name":"Kerrek SB"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1404042620,"creation_date":1381156805,"answer_id":19227700,"question_id":19227664,"body_markdown":"You *can* initialize static data members in C++:\r\n\r\n    #include &quot;Bar.h&quot;\r\n\r\n    Bar make_a_bar();\r\n\r\n    struct Foo\r\n    {\r\n        static Bar bar;\r\n    };\r\n\r\n    Bar Foo::bar = make_a_bar();\r\n\r\nYou may have to think about inter-translation-unit dependencies, but that&#39;s the general approach.","title":"What&#39;s the C++ idiom equivalent to the Java static block?","body":"<p>You <em>can</em> initialize static data members in C++:</p>\n\n<pre><code>#include \"Bar.h\"\n\nBar make_a_bar();\n\nstruct Foo\n{\n    static Bar bar;\n};\n\nBar Foo::bar = make_a_bar();\n</code></pre>\n\n<p>You may have to think about inter-translation-unit dependencies, but that's the general approach.</p>\n"},{"tags":[],"owner":{"account_id":1980316,"reputation":168343,"user_id":1782465,"accept_rate":76,"display_name":"Angew is no longer proud of SO"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1381232286,"creation_date":1381158101,"answer_id":19228206,"question_id":19227664,"body_markdown":"For #1, if you really need to initialise when the process starts/library is loaded, you&#39;ll have to use something platform-specific (such as DllMain on Windows).\r\n\r\nHowever, if it&#39;s enough for you to run the initialisation before any code from the same .cpp file as the statics is executed, the following should work:\r\n\r\n    // Header:\r\n    class MyClass\r\n    {\r\n      static int myDatum;\r\n    \r\n      static int initDatum();\r\n    };\r\n\r\n&amp;nbsp;\r\n\r\n    // .cpp file:\r\n    int MyClass::myDatum = MyClass::initDatum();\r\n\r\nThis way, `initDatum()` is guaranteed to be called before any code from that `.cpp` file is executed.\r\n\r\nIf you don&#39;t want to pollute the class definition, you can also use a [Lambda][1] (C++11):\r\n\r\n    // Header:\r\n    class MyClass\r\n    {\r\n      static int myDatum;\r\n    };\r\n\r\n&amp;nbsp;\r\n\r\n    // .cpp file:\r\n    int MyClass::myDatum = []() -&gt; int { /*any code here*/ return /*something*/; }();\r\n\r\nDon&#39;t forget the last pair of parentheses - that actually calls the lambda.\r\n\r\n---\r\n\r\nAs for #2, there&#39;s one problem: you can&#39;t call a virtual function in the constructor. You&#39;re better off doing this by hand in the class instead of using a base class for it:\r\n\r\n    class MyClass\r\n    {\r\n      static int myDatum;\r\n    \r\n      MyClass() {\r\n        static bool onlyOnce = []() -&gt; bool {\r\n          MyClass::myDatum = /*whatever*/;\r\n          return true;\r\n        }\r\n      }\r\n    };\r\n\r\nAssuming the class only has one constructor, that will work just fine; it is thread-safe, as C++11 guarantees such safety for initializing static local variables.\r\n\r\n\r\n  [1]: https://stackoverflow.com/q/7627098/1593077","title":"What&#39;s the C++ idiom equivalent to the Java static block?","body":"<p>For #1, if you really need to initialise when the process starts/library is loaded, you'll have to use something platform-specific (such as DllMain on Windows).</p>\n\n<p>However, if it's enough for you to run the initialisation before any code from the same .cpp file as the statics is executed, the following should work:</p>\n\n<pre><code>// Header:\nclass MyClass\n{\n  static int myDatum;\n\n  static int initDatum();\n};\n</code></pre>\n\n<p>&nbsp;</p>\n\n<pre><code>// .cpp file:\nint MyClass::myDatum = MyClass::initDatum();\n</code></pre>\n\n<p>This way, <code>initDatum()</code> is guaranteed to be called before any code from that <code>.cpp</code> file is executed.</p>\n\n<p>If you don't want to pollute the class definition, you can also use a <a href=\"https://stackoverflow.com/q/7627098/1593077\">Lambda</a> (C++11):</p>\n\n<pre><code>// Header:\nclass MyClass\n{\n  static int myDatum;\n};\n</code></pre>\n\n<p>&nbsp;</p>\n\n<pre><code>// .cpp file:\nint MyClass::myDatum = []() -&gt; int { /*any code here*/ return /*something*/; }();\n</code></pre>\n\n<p>Don't forget the last pair of parentheses - that actually calls the lambda.</p>\n\n<hr>\n\n<p>As for #2, there's one problem: you can't call a virtual function in the constructor. You're better off doing this by hand in the class instead of using a base class for it:</p>\n\n<pre><code>class MyClass\n{\n  static int myDatum;\n\n  MyClass() {\n    static bool onlyOnce = []() -&gt; bool {\n      MyClass::myDatum = /*whatever*/;\n      return true;\n    }\n  }\n};\n</code></pre>\n\n<p>Assuming the class only has one constructor, that will work just fine; it is thread-safe, as C++11 guarantees such safety for initializing static local variables.</p>\n"},{"tags":[],"owner":{"account_id":514136,"reputation":120958,"user_id":1593077,"accept_rate":49,"display_name":"einpoklum"},"down_vote_count":0,"up_vote_count":22,"is_accepted":true,"score":22,"last_activity_date":1635448395,"creation_date":1450297202,"answer_id":34321324,"question_id":19227664,"body_markdown":"## You can have static blocks in C++ as well - outside classes.\r\n\r\nIt turns out we can implement a Java-style static block, albeit outside of a class rather than inside it, i.e. at translation unit scope. The implementation is a bit ugly under the hood, but when used it&#39;s quite elegant!\r\n\r\n### Downloadable version\r\n\r\nThere&#39;s now a [GitHub repo][1] for the solution, containing a single header file: [`static_block.hpp`][2].\r\n\r\n### Usage\r\n\r\nIf you write:\r\n\r\n    static_block {\r\n        std::cout &lt;&lt; &quot;Hello static block world!\\n&quot;;\r\n    }\r\n\r\nthis code will run before your `main()`. And you can initialize static variables or do whatever else you like. So you can place such a block in your class&#39; `.cpp` implementation file.\r\n\r\n**Notes:** \r\n\r\n- You _must_ surround your static block code with curly braces.\r\n- The relative order of execution of static code is [not guaranteed in C++][3].\r\n\r\n### Implementation\r\n\r\nThe static block implementation involves a dummy variable initialized statically with a function. Your static block is actually the body of that function. To ensure we don&#39;t collide with some other dummy variable (e.g. from another static block - or anywhere else), we need a bit of macro machinery. \r\n\r\n    #define CONCATENATE(s1, s2) s1##s2\r\n    #define EXPAND_THEN_CONCATENATE(s1, s2) CONCATENATE(s1, s2)\r\n    #ifdef __COUNTER__\r\n    #define UNIQUE_IDENTIFIER(prefix) EXPAND_THEN_CONCATENATE(prefix, __COUNTER__)\r\n    #else\r\n    #define UNIQUE_IDENTIFIER(prefix) EXPAND_THEN_CONCATENATE(prefix, __LINE__)\r\n    #endif // __COUNTER__\r\n    #ifdef _MSC_VER\r\n    #define _UNUSED\r\n    #else\r\n    #define _UNUSED __attribute((unused))\r\n    #endif // _MSC_VER\r\n\r\n\r\n\r\n\r\nand here is the macro work to put things together:\r\n\r\n    #define static_block STATIC_BLOCK_IMPL1(UNIQUE_IDENTIFIER(_static_block_))\r\n    \r\n    #define STATIC_BLOCK_IMPL1(prefix) \\\r\n    \tSTATIC_BLOCK_IMPL2(CONCATENATE(prefix,_fn),CONCATENATE(prefix,_var))\r\n    \r\n    #define STATIC_BLOCK_IMPL2(function_name,var_name) \\\r\n    static void function_name(); \\\r\n    static int var_name _UNUSED = (function_name(), 0) ; \\\r\n    static void function_name()\r\n\r\n**Notes:**\r\n\r\n- Some compilers do not support `__COUNTER__` - it&#39;s not part of the C++ standard; in those cases the code above uses `__LINE__`, which works too. GCC and Clang do support `__COUNTER__`.\r\n- This is C++98; you don&#39;t need any C++11/14/17 constructs. However, it&#39;s _not_ valid C, despite not using any classes or methods.\r\n- The `__attribute ((unused))` might be dropped, or replaced with `[[unused]]` if you have a C++11 compiler which doesn&#39;t like the GCC-style unused extension.\r\n- This does not avert or help with the [static initialization order fiasco][3], since while you know your static block will execute before `main()`, you are not guaranteed when exactly that happens relative to other static initializations.\r\n\r\n[&lt;kbd&gt;Live Demo&lt;/kbd&gt;][4]\r\n\r\n\r\n  [1]: https://github.com/eyalroz/cpp-static-block\r\n  [2]: https://github.com/eyalroz/cpp-static-block/blob/master/static_block.hpp\r\n  [3]: https://isocpp.org/wiki/faq/ctors#static-init-order\r\n  [4]: http://coliru.stacked-crooked.com/a/1020d498ce9c0209","title":"What&#39;s the C++ idiom equivalent to the Java static block?","body":"<h2>You can have static blocks in C++ as well - outside classes.</h2>\n<p>It turns out we can implement a Java-style static block, albeit outside of a class rather than inside it, i.e. at translation unit scope. The implementation is a bit ugly under the hood, but when used it's quite elegant!</p>\n<h3>Downloadable version</h3>\n<p>There's now a <a href=\"https://github.com/eyalroz/cpp-static-block\" rel=\"noreferrer\">GitHub repo</a> for the solution, containing a single header file: <a href=\"https://github.com/eyalroz/cpp-static-block/blob/master/static_block.hpp\" rel=\"noreferrer\"><code>static_block.hpp</code></a>.</p>\n<h3>Usage</h3>\n<p>If you write:</p>\n<pre><code>static_block {\n    std::cout &lt;&lt; &quot;Hello static block world!\\n&quot;;\n}\n</code></pre>\n<p>this code will run before your <code>main()</code>. And you can initialize static variables or do whatever else you like. So you can place such a block in your class' <code>.cpp</code> implementation file.</p>\n<p><strong>Notes:</strong></p>\n<ul>\n<li>You <em>must</em> surround your static block code with curly braces.</li>\n<li>The relative order of execution of static code is <a href=\"https://isocpp.org/wiki/faq/ctors#static-init-order\" rel=\"noreferrer\">not guaranteed in C++</a>.</li>\n</ul>\n<h3>Implementation</h3>\n<p>The static block implementation involves a dummy variable initialized statically with a function. Your static block is actually the body of that function. To ensure we don't collide with some other dummy variable (e.g. from another static block - or anywhere else), we need a bit of macro machinery.</p>\n<pre><code>#define CONCATENATE(s1, s2) s1##s2\n#define EXPAND_THEN_CONCATENATE(s1, s2) CONCATENATE(s1, s2)\n#ifdef __COUNTER__\n#define UNIQUE_IDENTIFIER(prefix) EXPAND_THEN_CONCATENATE(prefix, __COUNTER__)\n#else\n#define UNIQUE_IDENTIFIER(prefix) EXPAND_THEN_CONCATENATE(prefix, __LINE__)\n#endif // __COUNTER__\n#ifdef _MSC_VER\n#define _UNUSED\n#else\n#define _UNUSED __attribute((unused))\n#endif // _MSC_VER\n</code></pre>\n<p>and here is the macro work to put things together:</p>\n<pre><code>#define static_block STATIC_BLOCK_IMPL1(UNIQUE_IDENTIFIER(_static_block_))\n\n#define STATIC_BLOCK_IMPL1(prefix) \\\n    STATIC_BLOCK_IMPL2(CONCATENATE(prefix,_fn),CONCATENATE(prefix,_var))\n\n#define STATIC_BLOCK_IMPL2(function_name,var_name) \\\nstatic void function_name(); \\\nstatic int var_name _UNUSED = (function_name(), 0) ; \\\nstatic void function_name()\n</code></pre>\n<p><strong>Notes:</strong></p>\n<ul>\n<li>Some compilers do not support <code>__COUNTER__</code> - it's not part of the C++ standard; in those cases the code above uses <code>__LINE__</code>, which works too. GCC and Clang do support <code>__COUNTER__</code>.</li>\n<li>This is C++98; you don't need any C++11/14/17 constructs. However, it's <em>not</em> valid C, despite not using any classes or methods.</li>\n<li>The <code>__attribute ((unused))</code> might be dropped, or replaced with <code>[[unused]]</code> if you have a C++11 compiler which doesn't like the GCC-style unused extension.</li>\n<li>This does not avert or help with the <a href=\"https://isocpp.org/wiki/faq/ctors#static-init-order\" rel=\"noreferrer\">static initialization order fiasco</a>, since while you know your static block will execute before <code>main()</code>, you are not guaranteed when exactly that happens relative to other static initializations.</li>\n</ul>\n<p><a href=\"http://coliru.stacked-crooked.com/a/1020d498ce9c0209\" rel=\"noreferrer\"><kbd>Live Demo</kbd></a></p>\n"},{"tags":[],"owner":{"account_id":1499674,"reputation":931,"user_id":1404748,"accept_rate":0,"display_name":"Kaitain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1450455558,"creation_date":1450455558,"answer_id":34359794,"question_id":19227664,"body_markdown":"You may be better off taking a different approach altogether. Does the collection of static information actually need to be defined inside StaticInitialized? \r\n\r\nConsider creating a separate singleton class called SharedData. The first client that calls SharedData::Instance() will then trigger the creation of the collection of shared data, which will simply be normal class data, albeit living inside a single object instance that is allocated statically:\r\n\r\n// SharedData.h\r\n\r\n    class SharedData\r\n    {\r\n    public:\r\n        int m_Status;\r\n        bool m_Active;\r\n    \r\n        static SharedData&amp; instance();\r\n    private:\r\n        SharedData();\r\n    }\r\n\r\n// SharedData.cpp\r\n\r\n    SharedData::SharedData()\r\n    : m_Status( 0 ), m_Active( true )\r\n    {}\r\n    \r\n    // static \r\n    SharedData&amp; SharedData::instance()\r\n    {\r\n        static SharedData s_Instance;\r\n        return s_Instance;\r\n    }\r\n\r\nAny client interested in the shared collection of data would now have to access it via the SharedData singleton, and the first such client to call SharedData::instance() would trigger the setup of that data, in SharedData&#39;s ctor, which would only ever be called once.\r\n\r\nNow your code suggests that different subclasses might have their own ways of initializing static data (through the polymorphic nature of initializeStatics()). But this seems a rather problematic idea. Are multiple derived classes really intended to share a single set of static data, yet each subclass would initialize it differently? This would simply mean that whichever class was constructed first would be the one to set up the static data in its own parochial way, and then every other class would have to use this setup. Is this really what you want?\r\n\r\nI am also slightly confused as to why you would try to combine polymorphism with private inheritance. The number of cases where you would genuinely want to use private inheritance (as opposed to composition) is very small. I&#39;m left wondering if you somehow believe that you need initializeStatics() to be virtual in order for the derived class to be able to call it. (This is not the case.) Yet you do seem to wish to override initializeStatics() in the derived class, for reasons that are not clear to me (see earlier). Something seems kooky about the whole setup.","title":"What&#39;s the C++ idiom equivalent to the Java static block?","body":"<p>You may be better off taking a different approach altogether. Does the collection of static information actually need to be defined inside StaticInitialized? </p>\n\n<p>Consider creating a separate singleton class called SharedData. The first client that calls SharedData::Instance() will then trigger the creation of the collection of shared data, which will simply be normal class data, albeit living inside a single object instance that is allocated statically:</p>\n\n<p>// SharedData.h</p>\n\n<pre><code>class SharedData\n{\npublic:\n    int m_Status;\n    bool m_Active;\n\n    static SharedData&amp; instance();\nprivate:\n    SharedData();\n}\n</code></pre>\n\n<p>// SharedData.cpp</p>\n\n<pre><code>SharedData::SharedData()\n: m_Status( 0 ), m_Active( true )\n{}\n\n// static \nSharedData&amp; SharedData::instance()\n{\n    static SharedData s_Instance;\n    return s_Instance;\n}\n</code></pre>\n\n<p>Any client interested in the shared collection of data would now have to access it via the SharedData singleton, and the first such client to call SharedData::instance() would trigger the setup of that data, in SharedData's ctor, which would only ever be called once.</p>\n\n<p>Now your code suggests that different subclasses might have their own ways of initializing static data (through the polymorphic nature of initializeStatics()). But this seems a rather problematic idea. Are multiple derived classes really intended to share a single set of static data, yet each subclass would initialize it differently? This would simply mean that whichever class was constructed first would be the one to set up the static data in its own parochial way, and then every other class would have to use this setup. Is this really what you want?</p>\n\n<p>I am also slightly confused as to why you would try to combine polymorphism with private inheritance. The number of cases where you would genuinely want to use private inheritance (as opposed to composition) is very small. I'm left wondering if you somehow believe that you need initializeStatics() to be virtual in order for the derived class to be able to call it. (This is not the case.) Yet you do seem to wish to override initializeStatics() in the derived class, for reasons that are not clear to me (see earlier). Something seems kooky about the whole setup.</p>\n"},{"tags":[],"owner":{"account_id":242612,"reputation":68519,"user_id":514235,"accept_rate":80,"display_name":"iammilind"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1470126637,"creation_date":1470126637,"answer_id":38715440,"question_id":19227664,"body_markdown":"Here is a nice way to mimic a `static` block using C++11:\r\n\r\nMacro\r\n---\r\n\r\n    #define CONCATE_(X,Y) X##Y\r\n    #define CONCATE(X,Y) CONCATE_(X,Y)\r\n    #define UNIQUE(NAME) CONCATE(NAME, __LINE__)\r\n    \r\n    struct Static_ \r\n    {\r\n      template&lt;typename T&gt; Static_ (T only_once) { only_once(); }\r\n      ~Static_ () {}  // to counter &quot;warning: unused variable&quot;\r\n    };\r\n    // `UNIQUE` macro required if we expect multiple `static` blocks in function\r\n    #define STATIC static Static_ UNIQUE(block) = [&amp;]() -&gt; void\r\n\r\nUsage\r\n---\r\n\r\n    void foo ()\r\n    {\r\n      std::cout &lt;&lt; &quot;foo()\\n&quot;;\r\n      STATIC\r\n      {\r\n        std::cout &lt;&lt; &quot;Executes only once\\n&quot;;\r\n      };  \r\n    }\r\n\r\n[Demo](http://ideone.com/6sjRzz).\r\n","title":"What&#39;s the C++ idiom equivalent to the Java static block?","body":"<p>Here is a nice way to mimic a <code>static</code> block using C++11:</p>\n\n<h2>Macro</h2>\n\n<pre><code>#define CONCATE_(X,Y) X##Y\n#define CONCATE(X,Y) CONCATE_(X,Y)\n#define UNIQUE(NAME) CONCATE(NAME, __LINE__)\n\nstruct Static_ \n{\n  template&lt;typename T&gt; Static_ (T only_once) { only_once(); }\n  ~Static_ () {}  // to counter \"warning: unused variable\"\n};\n// `UNIQUE` macro required if we expect multiple `static` blocks in function\n#define STATIC static Static_ UNIQUE(block) = [&amp;]() -&gt; void\n</code></pre>\n\n<h2>Usage</h2>\n\n<pre><code>void foo ()\n{\n  std::cout &lt;&lt; \"foo()\\n\";\n  STATIC\n  {\n    std::cout &lt;&lt; \"Executes only once\\n\";\n  };  \n}\n</code></pre>\n\n<p><a href=\"http://ideone.com/6sjRzz\" rel=\"nofollow\">Demo</a>.</p>\n"},{"tags":[],"owner":{"account_id":199455,"reputation":8086,"user_id":444796,"accept_rate":0,"display_name":"Ichthyo"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1521436792,"creation_date":1521391551,"answer_id":49350413,"question_id":19227664,"body_markdown":"In C++ there is no such idiom.\r\n------------------------------\r\n\r\nThe reason lies in the entirely different nature of the code generated from C++: The runtime is not &quot;managed&quot;. In the generated code, after compilation, there exists *no notion* of a &quot;class&quot; anymore, and there is no such thing like code entities loaded on demand by a &quot;classloader&quot;.\r\n\r\nThere are some elements with roughly comparable behaviour, yet you really need to understand their nature precisely to exploit this behaviour.\r\n\r\n- you can build your code into a shared library, which can be loaded dynamically, at runtime.\r\n- in C++11, you can [std::call_once][1] your initialisation from a class constructor. However, such code will run late, when the class instance is created, not when the executable or shared library is loaded\r\n- you can define global variables and (class) static variables with an initialiser. This initialiser can be a function, which allows you to run code when the variable gets initialised. The execution order of these initialisers is well defined only within a single translation unit (e.g. one `*.cpp` file). \r\n\r\nBut you must not assume anything beyond that; esp. you can never be sure if and when this initialisation is actually performed. **This warning is for real**. Especially *do not assume anything about side-effects* of such initialisation code. It is perfectly legal for the compiler to replace such code by something deemed &quot;equivalent&quot; by the compiler. Future compiler versions can be assumed to become more and more clever in that respect. Your code may seem to work, but can break with different optimisation flags, different build process, newer compiler version.\r\n\r\n\r\n----------\r\n**practical hint**: if you find yourself in the situation that you have several static variables, which you need to initialise properly, then chances are that you want to factor them out into a class. This class can then have a regular constructor and destructor to do the initialisation / clean-up. You may then place an instance of that helper class into a single (class) static variable. C++ gives very strong consistency guarantees for invoking ctors and dtors of classes, for anything which is accessible by official means (no casts, no low-level trickery).\r\n\r\n\r\n  [1]: http://en.cppreference.com/w/cpp/thread/call_once","title":"What&#39;s the C++ idiom equivalent to the Java static block?","body":"<h2>In C++ there is no such idiom.</h2>\n\n<p>The reason lies in the entirely different nature of the code generated from C++: The runtime is not \"managed\". In the generated code, after compilation, there exists <em>no notion</em> of a \"class\" anymore, and there is no such thing like code entities loaded on demand by a \"classloader\".</p>\n\n<p>There are some elements with roughly comparable behaviour, yet you really need to understand their nature precisely to exploit this behaviour.</p>\n\n<ul>\n<li>you can build your code into a shared library, which can be loaded dynamically, at runtime.</li>\n<li>in C++11, you can <a href=\"http://en.cppreference.com/w/cpp/thread/call_once\" rel=\"nofollow noreferrer\">std::call_once</a> your initialisation from a class constructor. However, such code will run late, when the class instance is created, not when the executable or shared library is loaded</li>\n<li>you can define global variables and (class) static variables with an initialiser. This initialiser can be a function, which allows you to run code when the variable gets initialised. The execution order of these initialisers is well defined only within a single translation unit (e.g. one <code>*.cpp</code> file). </li>\n</ul>\n\n<p>But you must not assume anything beyond that; esp. you can never be sure if and when this initialisation is actually performed. <strong>This warning is for real</strong>. Especially <em>do not assume anything about side-effects</em> of such initialisation code. It is perfectly legal for the compiler to replace such code by something deemed \"equivalent\" by the compiler. Future compiler versions can be assumed to become more and more clever in that respect. Your code may seem to work, but can break with different optimisation flags, different build process, newer compiler version.</p>\n\n<hr>\n\n<p><strong>practical hint</strong>: if you find yourself in the situation that you have several static variables, which you need to initialise properly, then chances are that you want to factor them out into a class. This class can then have a regular constructor and destructor to do the initialisation / clean-up. You may then place an instance of that helper class into a single (class) static variable. C++ gives very strong consistency guarantees for invoking ctors and dtors of classes, for anything which is accessible by official means (no casts, no low-level trickery).</p>\n"},{"tags":[],"owner":{"display_name":"user10146018"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1584905440,"creation_date":1584811736,"answer_id":60791031,"question_id":19227664,"body_markdown":"In C++17 , u can have the following:- \r\n\r\nstatic.hpp :- \r\n\r\n    #define M_CON(A, B) M_CON_(A, B)\r\n    #define M_CON_(A, B) A##B\r\n    \r\n    #define STATIC_BLOCK \\\r\n            [[maybe_unused]] static const auto M_CON(_static_block,__LINE__) = []()\r\n    \r\n    \r\nmain.cpp:- \r\n\r\n    #include &lt;iostream&gt;\r\n    #include &quot;static.hpp&quot;\r\n    \r\n    STATIC_BLOCK {\r\n       std::cout &lt;&lt; &quot;my static block&quot; &lt;&lt; &#39;\\n&#39;;\r\n       int A,B,C,D = 12;\r\n       std::cout &lt;&lt; &quot;my static block with &quot; &lt;&lt; A &lt;&lt; &#39;\\n&#39;;    \r\n       return 0; // this return is must\r\n    }();\r\n    \r\n    int main(){\r\n        std::cout &lt;&lt; &quot;in main function\\n&quot;;\r\n    }\r\n\r\nThis also works in C++11 without ``[[maybe_unused]]``","title":"What&#39;s the C++ idiom equivalent to the Java static block?","body":"<p>In C++17 , u can have the following:- </p>\n\n<p>static.hpp :- </p>\n\n<pre><code>#define M_CON(A, B) M_CON_(A, B)\n#define M_CON_(A, B) A##B\n\n#define STATIC_BLOCK \\\n        [[maybe_unused]] static const auto M_CON(_static_block,__LINE__) = []()\n</code></pre>\n\n<p>main.cpp:- </p>\n\n<pre><code>#include &lt;iostream&gt;\n#include \"static.hpp\"\n\nSTATIC_BLOCK {\n   std::cout &lt;&lt; \"my static block\" &lt;&lt; '\\n';\n   int A,B,C,D = 12;\n   std::cout &lt;&lt; \"my static block with \" &lt;&lt; A &lt;&lt; '\\n';    \n   return 0; // this return is must\n}();\n\nint main(){\n    std::cout &lt;&lt; \"in main function\\n\";\n}\n</code></pre>\n\n<p>This also works in C++11 without <code>[[maybe_unused]]</code></p>\n"}],"owner":{"account_id":514136,"reputation":120958,"user_id":1593077,"accept_rate":49,"display_name":"einpoklum"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22763,"favorite_count":0,"down_vote_count":0,"up_vote_count":43,"accepted_answer_id":34321324,"answer_count":7,"score":43,"last_activity_date":1680796319,"creation_date":1381156691,"question_id":19227664,"body_markdown":"I have a class with some static members, and I want to run some code to initialize them (suppose this code cannot be converted into a simple expression). In Java, I would just do\r\n\r\n    class MyClass {\r\n        static int field1;\r\n        static int field2;\r\n\r\n        static {\r\n            /* do some computation which sets field1 and field2 */\r\n        }\r\n    }\r\n\r\nUnless I&#39;m mistaken, C++ does not allow for such static code blocks, right? What should I be doing instead?\r\n\r\nI would like solution for both of the following options:\r\n\r\n1. Initialization happens when process loads (or when the DLL with this class is loaded).\r\n2. Initialization happens when the class is first instantiated.\r\n\r\nFor the second option, I was thinking of:\r\n\r\n    class StaticInitialized {\r\n        static bool staticsInitialized = false;\r\n    \r\n        virtual void initializeStatics();\r\n    \r\n        StaticInitialized() {\r\n            if (!staticsInitialized) {\r\n                initializeStatics();\r\n                staticsInitialized = true;\r\n            }\r\n        }\r\n    };\r\n    \r\n    class MyClass : private StaticInitialized {\r\n        static int field1;\r\n        static int field2;\r\n    \r\n        void initializeStatics() {\r\n            /* computation which sets field1, field2 */\r\n        }\r\n    };\r\n\r\nbut that&#39;s not possible, since C++ (at the moment?) does not allow initialization of non-const static members. But, at least that reduces the problem of a static block to that of static initialization by expression...","title":"What&#39;s the C++ idiom equivalent to the Java static block?","body":"<p>I have a class with some static members, and I want to run some code to initialize them (suppose this code cannot be converted into a simple expression). In Java, I would just do</p>\n<pre><code>class MyClass {\n    static int field1;\n    static int field2;\n\n    static {\n        /* do some computation which sets field1 and field2 */\n    }\n}\n</code></pre>\n<p>Unless I'm mistaken, C++ does not allow for such static code blocks, right? What should I be doing instead?</p>\n<p>I would like solution for both of the following options:</p>\n<ol>\n<li>Initialization happens when process loads (or when the DLL with this class is loaded).</li>\n<li>Initialization happens when the class is first instantiated.</li>\n</ol>\n<p>For the second option, I was thinking of:</p>\n<pre><code>class StaticInitialized {\n    static bool staticsInitialized = false;\n\n    virtual void initializeStatics();\n\n    StaticInitialized() {\n        if (!staticsInitialized) {\n            initializeStatics();\n            staticsInitialized = true;\n        }\n    }\n};\n\nclass MyClass : private StaticInitialized {\n    static int field1;\n    static int field2;\n\n    void initializeStatics() {\n        /* computation which sets field1, field2 */\n    }\n};\n</code></pre>\n<p>but that's not possible, since C++ (at the moment?) does not allow initialization of non-const static members. But, at least that reduces the problem of a static block to that of static initialization by expression...</p>\n"},{"tags":["java","mysql","spring-boot","spring-data-jpa","spring-session"],"owner":{"account_id":10525614,"reputation":414,"user_id":7756713,"accept_rate":86,"display_name":"Jon H"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680796278,"creation_date":1680796278,"question_id":75951445,"body_markdown":"I have a `Java 11`, `Spring Boot 2.7.4` application using `Spring MVC` and `Spring Security` to allow users to upload and search for documents in a repository. After the great help I got on SO question 75938188, I have just implemented `Spring Session`, which I have configured to use an existing `MySQL` database, via an existing `DataSource` which is used to save audit records.\r\n\r\nIt initially looked like everything had worked perfectly - the session schema was installed automatically in the DB and the application appeared to work as normal. But then I noticed that my existing `JPA` `Repository` calls used to create audit entries were no longer creating any records, despite the code being properly executed and no error being thrown. This worked fine before implementing `Spring Session` and the repository calls to do read operations still work fine.\r\n\r\nIs this happening because it is not recommended practice for an existing application database to also be used for `Spring Session`? Does `Spring session` hold some kind of lock over the database preventing other processes committing to it? Or should I be able to use an existing database in this way to hold session data, as well as other application data? If not, what is the recommended approach?\r\n\r\nTo implement `Spring Session`, I did the following:\r\n\r\n1. Added `Maven` dependency:\r\n\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.session&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-session-jdbc&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\n2. Added application.properties settings:\r\n\r\n```\r\nspring.session.store-type=jdbc\r\nspring.session.jdbc.initialize-schema=always\r\nspring.session.timeout.seconds=900\r\nspring.session.jdbc.schema=classpath:org/springframework/session/jdbc/schema-mysql.sql\r\n```\r\n\r\nI later removed the second of these, but the result was the same.\r\n\r\n3. To my existing Configuration class that declares the DataSource, I made this class extend `AbstractHttpSessionApplicationInitializer` and also added this Bean:\r\n\r\n```\r\n    @Bean\r\n    public PlatformTransactionManager transactionManager(DataSource dataSource) {\r\n        return new DataSourceTransactionManager(dataSource);\r\n    }\r\n```\r\n\r\n4. The existing `Repository` class that is used to create audit records is a simple extension of `CrudRepository`:\r\n\r\n```\r\n@Repository\r\npublic interface AuditRepository extends CrudRepository&lt;Audit, Integer&gt; {\r\n\r\n    List&lt;Audit&gt; findAllByCaseIdStartsWith(String parentCaseId);\r\n}\r\n```\r\n\r\nI would be very grateful for any suggestions and or advice on this issue. Many thanks for reading my post.","title":"Spring Boot JPA Repository save not committing after implementing Spring Session on MySQL DB","body":"<p>I have a <code>Java 11</code>, <code>Spring Boot 2.7.4</code> application using <code>Spring MVC</code> and <code>Spring Security</code> to allow users to upload and search for documents in a repository. After the great help I got on SO question 75938188, I have just implemented <code>Spring Session</code>, which I have configured to use an existing <code>MySQL</code> database, via an existing <code>DataSource</code> which is used to save audit records.</p>\n<p>It initially looked like everything had worked perfectly - the session schema was installed automatically in the DB and the application appeared to work as normal. But then I noticed that my existing <code>JPA</code> <code>Repository</code> calls used to create audit entries were no longer creating any records, despite the code being properly executed and no error being thrown. This worked fine before implementing <code>Spring Session</code> and the repository calls to do read operations still work fine.</p>\n<p>Is this happening because it is not recommended practice for an existing application database to also be used for <code>Spring Session</code>? Does <code>Spring session</code> hold some kind of lock over the database preventing other processes committing to it? Or should I be able to use an existing database in this way to hold session data, as well as other application data? If not, what is the recommended approach?</p>\n<p>To implement <code>Spring Session</code>, I did the following:</p>\n<ol>\n<li>Added <code>Maven</code> dependency:</li>\n</ol>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.session&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-session-jdbc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<ol start=\"2\">\n<li>Added application.properties settings:</li>\n</ol>\n<pre><code>spring.session.store-type=jdbc\nspring.session.jdbc.initialize-schema=always\nspring.session.timeout.seconds=900\nspring.session.jdbc.schema=classpath:org/springframework/session/jdbc/schema-mysql.sql\n</code></pre>\n<p>I later removed the second of these, but the result was the same.</p>\n<ol start=\"3\">\n<li>To my existing Configuration class that declares the DataSource, I made this class extend <code>AbstractHttpSessionApplicationInitializer</code> and also added this Bean:</li>\n</ol>\n<pre><code>    @Bean\n    public PlatformTransactionManager transactionManager(DataSource dataSource) {\n        return new DataSourceTransactionManager(dataSource);\n    }\n</code></pre>\n<ol start=\"4\">\n<li>The existing <code>Repository</code> class that is used to create audit records is a simple extension of <code>CrudRepository</code>:</li>\n</ol>\n<pre><code>@Repository\npublic interface AuditRepository extends CrudRepository&lt;Audit, Integer&gt; {\n\n    List&lt;Audit&gt; findAllByCaseIdStartsWith(String parentCaseId);\n}\n</code></pre>\n<p>I would be very grateful for any suggestions and or advice on this issue. Many thanks for reading my post.</p>\n"},{"tags":["java","hazelcast"],"answers":[{"tags":[],"owner":{"account_id":552254,"reputation":6004,"user_id":917336,"display_name":"noctarius"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1511476304,"creation_date":1511476304,"answer_id":47464028,"question_id":47457364,"body_markdown":"Unfortunately not. You&#39;re listener would need to run on a cluster node, since the `local` is directly connected to the underlying partitioning scheme. What do you want to do on the evict event, maybe you can achieve it differently.","title":"Hazelcast: Execute EntryEvictedListener only once per cluster in client mode","body":"<p>Unfortunately not. You're listener would need to run on a cluster node, since the <code>local</code> is directly connected to the underlying partitioning scheme. What do you want to do on the evict event, maybe you can achieve it differently.</p>\n"}],"owner":{"account_id":12330481,"reputation":21,"user_id":8996665,"display_name":"Kirill"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":776,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1680795769,"creation_date":1511445935,"question_id":47457364,"body_markdown":"We are connecting to Hazelcast cluster using Java clients from **multiple** nodes.\r\n\r\n    HazelcastClient.newHazelcastClient(cfg)\r\n\r\nWe need our EntryEvictedListener to be executed only once per cluster.\r\nBy default it is executed on all connected clients.\r\n\r\nFound how to reach this goal with Hazelcast embedded (https://stackoverflow.com/questions/47274007/time-based-eviction-in-hazelcast), but looks like \r\n\r\n    map.addLocalEntryListener(...) \r\nis not allowed for client. \r\n\r\nSo is there any way to execute eviction listener only once per cluster using client?","title":"Hazelcast: Execute EntryEvictedListener only once per cluster in client mode","body":"<p>We are connecting to Hazelcast cluster using Java clients from <strong>multiple</strong> nodes.</p>\n\n<pre><code>HazelcastClient.newHazelcastClient(cfg)\n</code></pre>\n\n<p>We need our EntryEvictedListener to be executed only once per cluster.\nBy default it is executed on all connected clients.</p>\n\n<p>Found how to reach this goal with Hazelcast embedded (<a href=\"https://stackoverflow.com/questions/47274007/time-based-eviction-in-hazelcast\">Time Based Eviction in Hazelcast</a>), but looks like </p>\n\n<pre><code>map.addLocalEntryListener(...) \n</code></pre>\n\n<p>is not allowed for client. </p>\n\n<p>So is there any way to execute eviction listener only once per cluster using client?</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1680795723,"post_id":75951350,"comment_id":133961542,"body_markdown":"Any reason you didn&#39;t just port the source code/libraries and do a fresh project/build?","body":"Any reason you didn&#39;t just port the source code/libraries and do a fresh project/build?"},{"owner":{"account_id":7430214,"reputation":1253,"user_id":5651468,"accept_rate":100,"display_name":"Sandeep"},"score":0,"creation_date":1680796459,"post_id":75951350,"comment_id":133961742,"body_markdown":"@Rogue  That is what I thought I was doing.","body":"@Rogue  That is what I thought I was doing."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1680796877,"post_id":75951350,"comment_id":133961847,"body_markdown":"It sounds like you&#39;re trying to copy the actual project information/etc into a new environment (e.g. eclipse&#39;s project files, resulting built files, etc). Instead, you should basically &quot;import&quot; the project in eclipse as a new project, targetting just your src+libs. (Granted, it&#39;s been 15 years since I&#39;ve touched eclipse in a serious manner).","body":"It sounds like you&#39;re trying to copy the actual project information/etc into a new environment (e.g. eclipse&#39;s project files, resulting built files, etc). Instead, you should basically &quot;import&quot; the project in eclipse as a new project, targetting just your src+libs. (Granted, it&#39;s been 15 years since I&#39;ve touched eclipse in a serious manner)."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1680797452,"post_id":75951350,"comment_id":133961980,"body_markdown":"i would do it differently. Pick a proper build system like Gradle or Maven and make a project.. I use Maven so would use a Maven archetype to create a Java project then copy my source into the right place. That way, you&#39;re not tied to an IDE. You can import the Maven project into Eclipse or another IDE","body":"i would do it differently. Pick a proper build system like Gradle or Maven and make a project.. I use Maven so would use a Maven archetype to create a Java project then copy my source into the right place. That way, you&#39;re not tied to an IDE. You can import the Maven project into Eclipse or another IDE"}],"owner":{"account_id":7430214,"reputation":1253,"user_id":5651468,"accept_rate":100,"display_name":"Sandeep"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680795596,"creation_date":1680795596,"question_id":75951350,"body_markdown":"I have some Java projects (not Maven) on my old Windows system.  The source files, the class files and all the JAR files are on the C:\\ drive.  I have copied the entire source tree (.java files), object tree (.class files) and all the JAR files to an external drive, **making sure that all the files are exactly at the same locations, relative to the root**.\r\n\r\nOn a different system I installed the same version of Eclipse (2019-03) and I imported the projects on that instance of Eclipse, from the external drive.  I manually edited the `.classpath` files for the projects, to factor in the change in the drive paths for all the files (from C: to the correct letter drive on the new system).\r\n\r\nIn my opinion I fully replicated the old environment in the new Eclipse instance.  **However, I am missing something** because the source files are not getting compiled in the new Eclipse instance: neither upon editing existing files nor upon adding new files.\r\n\r\nAttempting to run the Java applications in the new Eclipse instance is giving the following error:\r\n\r\n&gt; Error: Could not find or load main class pkg_name.class_name Caused by:  \r\n&gt; java.lang.ClassNotFoundException: pkg_name.class_name\r\n\r\nAny pointers will be appreciated.\r\n","title":"Java project not compiling in Eclipse following import from filesystem","body":"<p>I have some Java projects (not Maven) on my old Windows system.  The source files, the class files and all the JAR files are on the C:\\ drive.  I have copied the entire source tree (.java files), object tree (.class files) and all the JAR files to an external drive, <strong>making sure that all the files are exactly at the same locations, relative to the root</strong>.</p>\n<p>On a different system I installed the same version of Eclipse (2019-03) and I imported the projects on that instance of Eclipse, from the external drive.  I manually edited the <code>.classpath</code> files for the projects, to factor in the change in the drive paths for all the files (from C: to the correct letter drive on the new system).</p>\n<p>In my opinion I fully replicated the old environment in the new Eclipse instance.  <strong>However, I am missing something</strong> because the source files are not getting compiled in the new Eclipse instance: neither upon editing existing files nor upon adding new files.</p>\n<p>Attempting to run the Java applications in the new Eclipse instance is giving the following error:</p>\n<blockquote>\n<p>Error: Could not find or load main class pkg_name.class_name Caused by:<br />\njava.lang.ClassNotFoundException: pkg_name.class_name</p>\n</blockquote>\n<p>Any pointers will be appreciated.</p>\n"},{"tags":["java","docker","docker-api"],"owner":{"account_id":19644639,"reputation":73,"user_id":14379956,"display_name":"SanjiSqurt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":599,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680795510,"creation_date":1680794212,"question_id":75951136,"body_markdown":"I am trying to use docker and run my image with this Java Library: com.github.dockerjava\r\n\r\nHere is the code :\r\n```java\r\nimport com.github.dockerjava.api.DockerClient;\r\nimport com.github.dockerjava.api.command.CreateContainerCmd;\r\nimport com.github.dockerjava.api.command.PullImageResultCallback;\r\nimport com.github.dockerjava.api.exception.NotFoundException;\r\nimport com.github.dockerjava.api.model.Container;\r\nimport com.github.dockerjava.api.model.ContainerNetwork;\r\nimport com.github.dockerjava.api.model.Image;\r\nimport com.github.dockerjava.core.DockerClientBuilder;\r\n\r\npublic static void main(String[] args) {\r\n        String containerName = &quot;mycontainer_name&quot;;\r\n        String dockerImage = &quot;myimage&quot;;\r\n\r\n        // Get the Docker client\r\n        System.out.println(&quot;Get Docker client&quot;);\r\n        DockerClient dockerClient = DockerClientBuilder.getInstance().build();\r\n\r\n        // Check if the container is already running\r\n        if (dockerContainerExists(containerName, dockerClient)) {\r\n            System.out.println(&quot;Container already exists&quot;);\r\n            dockerStop(containerName, dockerClient);\r\n            DockerRm(containerName, dockerClient);\r\n        }\r\n\r\n        CreateContainerCmd createContainer = dockerClient\r\n                .createContainerCmd(dockerImage).withName(containerName);\r\n        createContainer.withTty(true);\r\n        createContainer.exec();\r\n\r\n        dockerClient.killContainerCmd(containerName).exec();\r\n        dockerClient.removeContainerCmd(containerName).exec();\r\n\r\n        // runDataGenerator(new Pcap(), args);\r\n    }\r\n```\r\n\r\nHere is my pom.xml dependency :\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.github.docker-java&lt;/groupId&gt;\r\n    &lt;artifactId&gt;docker-java&lt;/artifactId&gt;\r\n    &lt;version&gt;3.3.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nBut I get this error :\r\n\r\n```bash\r\nException in thread &quot;main&quot; java.lang.IllegalArgumentException: Unsupported protocol scheme: npipe:////./pipe/docker_engine\r\n        at com.github.dockerjava.jaxrs.JerseyDockerHttpClient.&lt;init&gt;(JerseyDockerHttpClient.java:225)\r\n        at com.github.dockerjava.jaxrs.JerseyDockerHttpClient.&lt;init&gt;(JerseyDockerHttpClient.java:49)\r\n        at com.github.dockerjava.jaxrs.JerseyDockerHttpClient$Builder.build(JerseyDockerHttpClient.java:124)\r\n        at com.github.dockerjava.core.DockerClientBuilder.build(DockerClientBuilder.java:106)\r\n        at org.package.main(Pcap.java:1108)\r\n```\r\n\r\nI am on Windows and have Docker Desktop running (by the way it works perfectly on Linux) and I saw the same type of error for other people but I couldn&#39;t find any answers.\r\nIf someone has the answer to this or has faced the same problem I am up for answers...","title":"Problem running Docker with com.github.dockerjava","body":"<p>I am trying to use docker and run my image with this Java Library: com.github.dockerjava</p>\n<p>Here is the code :</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.github.dockerjava.api.DockerClient;\nimport com.github.dockerjava.api.command.CreateContainerCmd;\nimport com.github.dockerjava.api.command.PullImageResultCallback;\nimport com.github.dockerjava.api.exception.NotFoundException;\nimport com.github.dockerjava.api.model.Container;\nimport com.github.dockerjava.api.model.ContainerNetwork;\nimport com.github.dockerjava.api.model.Image;\nimport com.github.dockerjava.core.DockerClientBuilder;\n\npublic static void main(String[] args) {\n        String containerName = &quot;mycontainer_name&quot;;\n        String dockerImage = &quot;myimage&quot;;\n\n        // Get the Docker client\n        System.out.println(&quot;Get Docker client&quot;);\n        DockerClient dockerClient = DockerClientBuilder.getInstance().build();\n\n        // Check if the container is already running\n        if (dockerContainerExists(containerName, dockerClient)) {\n            System.out.println(&quot;Container already exists&quot;);\n            dockerStop(containerName, dockerClient);\n            DockerRm(containerName, dockerClient);\n        }\n\n        CreateContainerCmd createContainer = dockerClient\n                .createContainerCmd(dockerImage).withName(containerName);\n        createContainer.withTty(true);\n        createContainer.exec();\n\n        dockerClient.killContainerCmd(containerName).exec();\n        dockerClient.removeContainerCmd(containerName).exec();\n\n        // runDataGenerator(new Pcap(), args);\n    }\n</code></pre>\n<p>Here is my pom.xml dependency :</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.github.docker-java&lt;/groupId&gt;\n    &lt;artifactId&gt;docker-java&lt;/artifactId&gt;\n    &lt;version&gt;3.3.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>But I get this error :</p>\n<pre class=\"lang-bash prettyprint-override\"><code>Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: Unsupported protocol scheme: npipe:////./pipe/docker_engine\n        at com.github.dockerjava.jaxrs.JerseyDockerHttpClient.&lt;init&gt;(JerseyDockerHttpClient.java:225)\n        at com.github.dockerjava.jaxrs.JerseyDockerHttpClient.&lt;init&gt;(JerseyDockerHttpClient.java:49)\n        at com.github.dockerjava.jaxrs.JerseyDockerHttpClient$Builder.build(JerseyDockerHttpClient.java:124)\n        at com.github.dockerjava.core.DockerClientBuilder.build(DockerClientBuilder.java:106)\n        at org.package.main(Pcap.java:1108)\n</code></pre>\n<p>I am on Windows and have Docker Desktop running (by the way it works perfectly on Linux) and I saw the same type of error for other people but I couldn't find any answers.\nIf someone has the answer to this or has faced the same problem I am up for answers...</p>\n"},{"tags":["java","spring","spring-boot","bean-validation","hibernate-validator"],"answers":[{"tags":[],"owner":{"account_id":8974783,"reputation":9445,"user_id":6692043,"display_name":"yrodiere"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680794890,"creation_date":1680794890,"answer_id":75951233,"question_id":75951034,"body_markdown":"This cannot work, see https://stackoverflow.com/a/69076232/6692043\r\n\r\nBasically you should remove this from your dependencies:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n        &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n        &lt;version&gt;2.0.1.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nAnd you should use `jakarta.validation.*` instead of `javax.validation.*` in your code.","title":"Bean validation not working after updating to Spring Boot 3","body":"<p>This cannot work, see <a href=\"https://stackoverflow.com/a/69076232/6692043\">https://stackoverflow.com/a/69076232/6692043</a></p>\n<p>Basically you should remove this from your dependencies:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n    &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n    &lt;version&gt;2.0.1.Final&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>And you should use <code>jakarta.validation.*</code> instead of <code>javax.validation.*</code> in your code.</p>\n"}],"owner":{"account_id":2119667,"reputation":7639,"user_id":1883212,"accept_rate":14,"display_name":"user1883212"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2153,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1680794890,"creation_date":1680793552,"question_id":75951034,"body_markdown":"\r\nAfter updating to Spring Boot 3 I get the following exception while using bean validation:\r\n\r\n    java.lang.IllegalStateException: Failed to load ApplicationContext for [MergedContextConfiguration@54089484 testClass = com.sogh.rest.EventFeedClientTest, locations = [], classes = [], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = [&quot;rest.endpoints.query.backoff=1000&quot;], contextCustomizers = [[ImportsContextCustomizer@45adc393 key = [com.sogh.utils.TestConfig, com.globalrelay.mc.oscar.common.logging.LoggingConfiguration, com.sogh.rest.RestApiConfig]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@437da279, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@6253c26, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@254ea8f8, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@9da1, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@69e153c5], contextLoader = org.springframework.test.context.support.DelegatingSmartContextLoader, parent = null]\r\n    \r\n    \tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)\r\n    \tat org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)\r\n    \tat org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:110)\r\n    \tat org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:94)\r\n    \tat org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:61)\r\n    \tat org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)\r\n    \tat org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)\r\n    \tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\r\n    \tat java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)\r\n    \tat java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)\r\n    \tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)\r\n    \tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\r\n    \tat java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)\r\n    \tat java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)\r\n    \tat java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)\r\n    \tat java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)\r\n    \tat java.base/java.util.Optional.orElseGet(Optional.java:364)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)\r\n    \tat org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)\r\n    \tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n    \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n    \tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n    \tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n    \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n    \tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n    \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n    \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n    \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\r\n    \tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\r\n    \tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\r\n    \tat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\r\n    \tat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\r\n    \tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\r\n    \tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)\r\n    \tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;eventFeedClient&#39; defined in class path resource [com/globalrelay/mc/oscar/common/normalizer/service/rest/RestApiConfig.class]: Failed to instantiate [com.sogh.rest.EventFeedClient]: Factory method &#39;eventFeedClient&#39; threw exception with message: Unable to create a Configuration, because no Bean Validation provider could be found. Add a provider like Hibernate Validator (RI) to your classpath.\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:657)\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:645)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:917)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)\r\n    \tat org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:221)\r\n    \tat org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:110)\r\n    \tat org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.loadContext(AbstractDelegatingSmartContextLoader.java:212)\r\n    \tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)\r\n    \tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)\r\n    \t... 73 more\r\n    Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.sogh.rest.EventFeedClient]: Factory method &#39;eventFeedClient&#39; threw exception with message: Unable to create a Configuration, because no Bean Validation provider could be found. Add a provider like Hibernate Validator (RI) to your classpath.\r\n    \tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:171)\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)\r\n    \t... 90 more\r\n    Caused by: javax.validation.NoProviderFoundException: Unable to create a Configuration, because no Bean Validation provider could be found. Add a provider like Hibernate Validator (RI) to your classpath.\r\n    \tat javax.validation.Validation$GenericBootstrapImpl.configure(Validation.java:291)\r\n    \tat javax.validation.Validation.buildDefaultValidatorFactory(Validation.java:103)\r\n    \tat com.sogh.rest.AbstractRestClient.&lt;init&gt;(AbstractRestClient.java:42)\r\n    \tat com.sogh.rest.EventFeedClient.&lt;init&gt;(EventFeedClient.java:30)\r\n    \tat com.sogh.rest.RestApiConfig.eventFeedClient(RestApiConfig.java:76)\r\n    \tat com.sogh.rest.RestApiConfig$$SpringCGLIB$$0.CGLIB$eventFeedClient$1(&lt;generated&gt;)\r\n    \tat com.sogh.RestApiConfig$$SpringCGLIB$$2.invoke(&lt;generated&gt;)\r\n    \tat org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:258)\r\n    \tat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331)\r\n    \tat com.sogh.RestApiConfig$$SpringCGLIB$$0.eventFeedClient(&lt;generated&gt;)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n    \tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139)\r\n    \t... 91 more\r\n\r\nThis is the line of code on which it fails:\r\n\r\n    private final Validator validator = Validation.buildDefaultValidatorFactory().getValidator();\r\n\r\nI have the following dependencies configured in Maven:\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n            &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.1.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n            &lt;version&gt;8.0.0.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.5&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;jakarta.validation&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jakarta.validation-api&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nWhat am I missing?\r\n\r\n\r\n\r\n","title":"Bean validation not working after updating to Spring Boot 3","body":"<p>After updating to Spring Boot 3 I get the following exception while using bean validation:</p>\n<pre><code>java.lang.IllegalStateException: Failed to load ApplicationContext for [MergedContextConfiguration@54089484 testClass = com.sogh.rest.EventFeedClientTest, locations = [], classes = [], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = [&quot;rest.endpoints.query.backoff=1000&quot;], contextCustomizers = [[ImportsContextCustomizer@45adc393 key = [com.sogh.utils.TestConfig, com.globalrelay.mc.oscar.common.logging.LoggingConfiguration, com.sogh.rest.RestApiConfig]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@437da279, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@6253c26, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@254ea8f8, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@9da1, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@69e153c5], contextLoader = org.springframework.test.context.support.DelegatingSmartContextLoader, parent = null]\n\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)\n    at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)\n    at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:110)\n    at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:94)\n    at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:61)\n    at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)\n    at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)\n    at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\n    at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)\n    at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\n    at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)\n    at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)\n    at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)\n    at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)\n    at java.base/java.util.Optional.orElseGet(Optional.java:364)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)\n    at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\n    at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\n    at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\n    at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\n    at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'eventFeedClient' defined in class path resource [com/globalrelay/mc/oscar/common/normalizer/service/rest/RestApiConfig.class]: Failed to instantiate [com.sogh.rest.EventFeedClient]: Factory method 'eventFeedClient' threw exception with message: Unable to create a Configuration, because no Bean Validation provider could be found. Add a provider like Hibernate Validator (RI) to your classpath.\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:657)\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:645)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:917)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)\n    at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:221)\n    at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:110)\n    at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.loadContext(AbstractDelegatingSmartContextLoader.java:212)\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)\n    ... 73 more\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.sogh.rest.EventFeedClient]: Factory method 'eventFeedClient' threw exception with message: Unable to create a Configuration, because no Bean Validation provider could be found. Add a provider like Hibernate Validator (RI) to your classpath.\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:171)\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)\n    ... 90 more\nCaused by: javax.validation.NoProviderFoundException: Unable to create a Configuration, because no Bean Validation provider could be found. Add a provider like Hibernate Validator (RI) to your classpath.\n    at javax.validation.Validation$GenericBootstrapImpl.configure(Validation.java:291)\n    at javax.validation.Validation.buildDefaultValidatorFactory(Validation.java:103)\n    at com.sogh.rest.AbstractRestClient.&lt;init&gt;(AbstractRestClient.java:42)\n    at com.sogh.rest.EventFeedClient.&lt;init&gt;(EventFeedClient.java:30)\n    at com.sogh.rest.RestApiConfig.eventFeedClient(RestApiConfig.java:76)\n    at com.sogh.rest.RestApiConfig$$SpringCGLIB$$0.CGLIB$eventFeedClient$1(&lt;generated&gt;)\n    at com.sogh.RestApiConfig$$SpringCGLIB$$2.invoke(&lt;generated&gt;)\n    at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:258)\n    at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331)\n    at com.sogh.RestApiConfig$$SpringCGLIB$$0.eventFeedClient(&lt;generated&gt;)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139)\n    ... 91 more\n</code></pre>\n<p>This is the line of code on which it fails:</p>\n<pre><code>private final Validator validator = Validation.buildDefaultValidatorFactory().getValidator();\n</code></pre>\n<p>I have the following dependencies configured in Maven:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n        &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n        &lt;version&gt;2.0.1.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n        &lt;version&gt;8.0.0.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;version&gt;3.0.5&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;jakarta.validation&lt;/groupId&gt;\n        &lt;artifactId&gt;jakarta.validation-api&lt;/artifactId&gt;\n        &lt;version&gt;3.0.2&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>What am I missing?</p>\n"},{"tags":["java","regex","sonarqube","sonarlint"],"comments":[{"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":1,"creation_date":1680791708,"post_id":75950746,"comment_id":133960410,"body_markdown":"What flavor of regex?","body":"What flavor of regex?"},{"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1680791793,"post_id":75950746,"comment_id":133960440,"body_markdown":"When you say &quot;in all formats&quot; do you mean all the *specific* formats you listed, and no others?","body":"When you say &quot;in all formats&quot; do you mean all the <i>specific</i> formats you listed, and no others?"},{"owner":{"account_id":23993326,"reputation":25,"user_id":17979144,"display_name":"scottyboombox"},"score":0,"creation_date":1680791946,"post_id":75950746,"comment_id":133960493,"body_markdown":"@JohnBollinger I am using Java, so whatever the syntax/flavor for that is.","body":"@JohnBollinger I am using Java, so whatever the syntax/flavor for that is."},{"owner":{"account_id":23993326,"reputation":25,"user_id":17979144,"display_name":"scottyboombox"},"score":0,"creation_date":1680791978,"post_id":75950746,"comment_id":133960500,"body_markdown":"@JohnBollinger Yes, all of the specific formats I have listed.","body":"@JohnBollinger Yes, all of the specific formats I have listed."},{"owner":{"account_id":13717922,"reputation":58377,"user_id":9898643,"display_name":"Theo"},"score":0,"creation_date":1680792061,"post_id":75950746,"comment_id":133960521,"body_markdown":"`^(-?\\d){9}$` should do it or if you allow `--` too, then change the question mark into an asteriks `*`","body":"<code>^(-?\\d){9}$</code> should do it or if you allow <code>--</code> too, then change the question mark into an asteriks <code>*</code>"},{"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1680792254,"post_id":75950746,"comment_id":133960584,"body_markdown":"@Theo, that will accept alot more formats than those presented.  It is my understanding of the question and comments that *only* the four formats specified should be matched by the wanted regex.","body":"@Theo, that will accept alot more formats than those presented.  It is my understanding of the question and comments that <i>only</i> the four formats specified should be matched by the wanted regex."},{"owner":{"account_id":13717922,"reputation":58377,"user_id":9898643,"display_name":"Theo"},"score":0,"creation_date":1680792369,"post_id":75950746,"comment_id":133960622,"body_markdown":"@JohnBollinger Yep, I was going for _&quot;all formats&quot;_","body":"@JohnBollinger Yep, I was going for <i>&quot;all formats&quot;</i>"},{"owner":{"account_id":23993326,"reputation":25,"user_id":17979144,"display_name":"scottyboombox"},"score":0,"creation_date":1680792743,"post_id":75950746,"comment_id":133960725,"body_markdown":"I edited the question to be more precise. I am looking for the regex to match only the 4 specified formats. My apologies for the confusion.","body":"I edited the question to be more precise. I am looking for the regex to match only the 4 specified formats. My apologies for the confusion."},{"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1680794249,"post_id":75950746,"comment_id":133961162,"body_markdown":"What about: `^\\d\\d(?:-?\\d{7}|\\d-\\d\\d(?:-\\d|\\d-)\\d{3})$` ?","body":"What about: <code>^\\d\\d(?:-?\\d{7}|\\d-\\d\\d(?:-\\d|\\d-)\\d{3})$</code> ?"},{"owner":{"account_id":1613587,"reputation":752095,"user_id":1491895,"accept_rate":69,"display_name":"Barmar"},"score":0,"creation_date":1680794909,"post_id":75950746,"comment_id":133961332,"body_markdown":"Do you really want a solution that satisfies SonarLint, even if it makes it harder for a human to understand (like @trincot&#39;s comment -- no offense)?","body":"Do you really want a solution that satisfies SonarLint, even if it makes it harder for a human to understand (like @trincot&#39;s comment -- no offense)?"},{"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1680795079,"post_id":75950746,"comment_id":133961383,"body_markdown":"It might be enough to replace both `\\d{2}` with `\\d\\d`.","body":"It might be enough to replace both <code>\\d{2}</code> with <code>\\d\\d</code>."},{"owner":{"account_id":23993326,"reputation":25,"user_id":17979144,"display_name":"scottyboombox"},"score":0,"creation_date":1680800809,"post_id":75950746,"comment_id":133962770,"body_markdown":"@trincot replacing \\d{2} with \\d\\d worked. Not the prettiest or most elegant solution, but it made Sonar happy and that&#39;s all that matters to the people up top. Thanks","body":"@trincot replacing \\d{2} with \\d\\d worked. Not the prettiest or most elegant solution, but it made Sonar happy and that&#39;s all that matters to the people up top. Thanks"}],"answers":[{"tags":[],"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1680793958,"creation_date":1680793626,"answer_id":75951047,"question_id":75950746,"body_markdown":"[Sonar&#39;s discussion of regex complexity][1] suggests considering replacing the regex with regular code (which I infer might involve simpler regexes in some cases).  Here, it looks like it would be straightforward to do that by testing each alternative via a separate regex instead of cramming them all into one, so do consider that.\r\n\r\nThe same discussion describes how Sonar computes regex complexity:\r\n\r\n&gt; Each of the following operators increases the complexity by an amount\r\n&gt; equal to the current nesting level and also increases the current\r\n&gt; nesting level by one for its arguments:\r\n&gt; \r\n&gt;   -  `|` - when multiple | operators are used together, the subsequent ones only increase the complexity by 1\r\n&gt;   -  `&amp;&amp;` (inside character classes) - when multiple `&amp;&amp;` operators are used together, the subsequent ones only increase the complexity by\r\n&gt; 1\r\n&gt;   -  Quantifiers (`*`, `+`, `?`, `{n,m}`, `{n,}` or `{n}`)\r\n&gt;   -  Non-capturing groups that set flags (such as `(?i:some_pattern)` or `(?i)some_pattern`)\r\n&gt;   -  Lookahead and lookbehind assertions\r\n&gt; \r\n&gt; Additionally, each use of the following features increase the\r\n&gt; complexity by 1 regardless of nesting:\r\n&gt; \r\n&gt;  -   character classes\r\n&gt;  -   back references\r\n\r\nThat produces 21 through 9 quantifiers, each at nesting level 2, plus three `|` operators, all at nesting level 1: 2 * 9 + 3 == 21.\r\n\r\nI doubt that a less complex regex exists for this job, especially one that achieves the spirit of this Sonar rule: to make regex usages easy to read and maintain.  However, you should still be able to get Sonar to accept it without complaint by leveraging this:\r\n\r\n&gt; If a regular expression is split among multiple variables, the\r\n&gt; complexity is calculated for each variable individually, not for the\r\n&gt; whole regular expression. If a regular expression is split over\r\n&gt; multiple lines, each line is treated individually if it is accompanied\r\n&gt; by a comment (either a Java comment or a comment within the regular\r\n&gt; expression), otherwise the regular expression is analyzed as a whole.\r\n\r\nI think that means that something along these lines would be acceptable to Sonar:\r\n```java\r\n    Pattern p = Pattern.compile(\r\n            // xxxxxxxxx\r\n            &quot;^\\d{9}$&quot;\r\n            // xxx-xx-xxxx\r\n            + &quot;|^\\d{3}-\\d{2}-\\d{4}$&quot;\r\n            // xx-xxxxxxx\r\n            + &quot;|^\\d{2}-\\d{7}$&quot;\r\n            // xxx-xxx-xxx\r\n            + &quot;|^\\d{3}-\\d{3}-\\d{3}$&quot;\r\n            );\r\n```\r\nThe docs lead me to believe that there would be other viable variations along similar lines of expressing the regex pieces separately.\r\n\r\n  [1]: https://rules.sonarsource.com/java/RSPEC-5843","title":"Simplify this regex to reduce its complexity","body":"<p><a href=\"https://rules.sonarsource.com/java/RSPEC-5843\" rel=\"nofollow noreferrer\">Sonar's discussion of regex complexity</a> suggests considering replacing the regex with regular code (which I infer might involve simpler regexes in some cases).  Here, it looks like it would be straightforward to do that by testing each alternative via a separate regex instead of cramming them all into one, so do consider that.</p>\n<p>The same discussion describes how Sonar computes regex complexity:</p>\n<blockquote>\n<p>Each of the following operators increases the complexity by an amount\nequal to the current nesting level and also increases the current\nnesting level by one for its arguments:</p>\n<ul>\n<li><code>|</code> - when multiple | operators are used together, the subsequent ones only increase the complexity by 1</li>\n<li><code>&amp;&amp;</code> (inside character classes) - when multiple <code>&amp;&amp;</code> operators are used together, the subsequent ones only increase the complexity by\n1</li>\n<li>Quantifiers (<code>*</code>, <code>+</code>, <code>?</code>, <code>{n,m}</code>, <code>{n,}</code> or <code>{n}</code>)</li>\n<li>Non-capturing groups that set flags (such as <code>(?i:some_pattern)</code> or <code>(?i)some_pattern</code>)</li>\n<li>Lookahead and lookbehind assertions</li>\n</ul>\n<p>Additionally, each use of the following features increase the\ncomplexity by 1 regardless of nesting:</p>\n<ul>\n<li>character classes</li>\n<li>back references</li>\n</ul>\n</blockquote>\n<p>That produces 21 through 9 quantifiers, each at nesting level 2, plus three <code>|</code> operators, all at nesting level 1: 2 * 9 + 3 == 21.</p>\n<p>I doubt that a less complex regex exists for this job, especially one that achieves the spirit of this Sonar rule: to make regex usages easy to read and maintain.  However, you should still be able to get Sonar to accept it without complaint by leveraging this:</p>\n<blockquote>\n<p>If a regular expression is split among multiple variables, the\ncomplexity is calculated for each variable individually, not for the\nwhole regular expression. If a regular expression is split over\nmultiple lines, each line is treated individually if it is accompanied\nby a comment (either a Java comment or a comment within the regular\nexpression), otherwise the regular expression is analyzed as a whole.</p>\n</blockquote>\n<p>I think that means that something along these lines would be acceptable to Sonar:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    Pattern p = Pattern.compile(\n            // xxxxxxxxx\n            &quot;^\\d{9}$&quot;\n            // xxx-xx-xxxx\n            + &quot;|^\\d{3}-\\d{2}-\\d{4}$&quot;\n            // xx-xxxxxxx\n            + &quot;|^\\d{2}-\\d{7}$&quot;\n            // xxx-xxx-xxx\n            + &quot;|^\\d{3}-\\d{3}-\\d{3}$&quot;\n            );\n</code></pre>\n<p>The docs lead me to believe that there would be other viable variations along similar lines of expressing the regex pieces separately.</p>\n"}],"owner":{"account_id":23993326,"reputation":25,"user_id":17979144,"display_name":"scottyboombox"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":439,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1680794784,"creation_date":1680791589,"question_id":75950746,"body_markdown":"SonarLint is currently yelling at me for the complexity of some regex I am using for tax ID numbers. I need to reduce the complexity from 21 to 20 and I simply cannot think of a way to do that. All of the solutions I&#39;ve tried have only made it more complex...\r\n\r\nThe regex in question:\r\n```\r\n^\\d{9}$|^\\d{3}-\\d{2}-\\d{4}$|^\\d{2}-\\d{7}$|^\\d{3}-\\d{3}-\\d{3}$\r\n```\r\n\r\nIt needs to match tax ID numbers in these specific formats, and nothing else:\r\n\r\n555555555\r\n\r\n555-55-5555\r\n\r\n55-5555555\r\n\r\n555-555-555","title":"Simplify this regex to reduce its complexity","body":"<p>SonarLint is currently yelling at me for the complexity of some regex I am using for tax ID numbers. I need to reduce the complexity from 21 to 20 and I simply cannot think of a way to do that. All of the solutions I've tried have only made it more complex...</p>\n<p>The regex in question:</p>\n<pre><code>^\\d{9}$|^\\d{3}-\\d{2}-\\d{4}$|^\\d{2}-\\d{7}$|^\\d{3}-\\d{3}-\\d{3}$\n</code></pre>\n<p>It needs to match tax ID numbers in these specific formats, and nothing else:</p>\n<p>555555555</p>\n<p>555-55-5555</p>\n<p>55-5555555</p>\n<p>555-555-555</p>\n"},{"tags":["java","selenium-webdriver","cucumber","gherkin"],"comments":[{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1608282176,"post_id":65354147,"comment_id":115540848,"body_markdown":"Any class in Java can be extended (Without it being abstract, /or final)","body":"Any class in Java can be extended (Without it being abstract, /or final)"},{"owner":{"account_id":20208281,"reputation":13,"user_id":14822007,"display_name":"zakaria janah"},"score":0,"creation_date":1608282341,"post_id":65354147,"comment_id":115540896,"body_markdown":"hello thank you for replying \nhere the resean why I use the secend class is i want to know the type of the object by ** getMyType **is there a way to do it in hte same class","body":"hello thank you for replying  here the resean why I use the secend class is i want to know the type of the object by ** getMyType **is there a way to do it in hte same class"},{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1608282608,"post_id":65354147,"comment_id":115540989,"body_markdown":"Yes, your first class public ReadingExcelUsingPoiji will have a method that is implemented and return its type,\n\nThen the class that extends will do extends ReadingExcelUsingPoiji  then @Override that parent method.   So your ReadingExcelUsingPoiji will return ReadingExcelUsingPoji.class, and your ReadingUserUsingPoiji  will return ReadingUserUsingPoiji .class from its method...or whatever you want","body":"Yes, your first class public ReadingExcelUsingPoiji will have a method that is implemented and return its type,  Then the class that extends will do extends ReadingExcelUsingPoiji  then @Override that parent method.   So your ReadingExcelUsingPoiji will return ReadingExcelUsingPoji.class, and your ReadingUserUsingPoiji  will return ReadingUserUsingPoiji .class from its method...or whatever you want"},{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1608282650,"post_id":65354147,"comment_id":115541016,"body_markdown":"The idea of @override will work no matter if your parent class is abstract or not...","body":"The idea of @override will work no matter if your parent class is abstract or not..."},{"owner":{"account_id":20208281,"reputation":13,"user_id":14822007,"display_name":"zakaria janah"},"score":0,"creation_date":1608283037,"post_id":65354147,"comment_id":115541153,"body_markdown":"ah, I use ReadingExcelUsingPoiji to transofrm Excel file to Class Object for that i use ReadingExcelUsingPoiji to do the transformation but I need to pass the type of the class Object for my class User class so I creat another class called ReadingUserUsingPoiji just too get the type of User , what I want is to keep only ReadingExcelUsingPoiji and use it with any class Object generic method","body":"ah, I use ReadingExcelUsingPoiji to transofrm Excel file to Class Object for that i use ReadingExcelUsingPoiji to do the transformation but I need to pass the type of the class Object for my class User class so I creat another class called ReadingUserUsingPoiji just too get the type of User , what I want is to keep only ReadingExcelUsingPoiji and use it with any class Object generic method"},{"owner":{"account_id":20208281,"reputation":13,"user_id":14822007,"display_name":"zakaria janah"},"score":0,"creation_date":1608283093,"post_id":65354147,"comment_id":115541180,"body_markdown":"in this line   List&lt;T&gt; data = Poiji.fromExcel(new File(filePath), getMyType(), options);\n\ngetMyType() return User is there a way to pass user generally","body":"in this line   List&lt;T&gt; data = Poiji.fromExcel(new File(filePath), getMyType(), options);  getMyType() return User is there a way to pass user generally"}],"answers":[{"tags":[],"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1608303588,"creation_date":1608289983,"answer_id":65356023,"question_id":65354147,"body_markdown":"I am trying to understand here, so you dont want @override, but rather 1 method that returns you the type of class to transform to??\r\n\r\nWhy can&#39;t it be that simple...  You have a method that determines what class you should use to transform to...\r\n\r\n\r\nI dont understand why you are using generics...your logic doesnt seem to really care for it? Especially if you have 1 ReadingExcelUsingPoiji class..it really shouldnt care.\r\n\r\n\r\n    public class ReadingExcelUsingPoiji&lt;T&gt; {\r\n\r\n    public List&lt;T&gt; transformExcelToClass(String filePath, Class&lt;T&gt; classToTransformTo) {\r\n        PoijiOptions options = PoijiOptions.PoijiOptionsBuilder.settings().addListDelimiter(&quot;;&quot;).build();\r\n        List&lt;T&gt; data = Poiji.fromExcel(new File(filePath), classToTransformTo, options);\r\n        return data;\r\n    }\r\n\r\n    \r\n    public static void main(String [] args) {\r\n    \t\r\n    \tReadingExcelUsingPoiji genericConverter = new ReadingExcelUsingPoiji();\r\n    \t\r\n    \tList&lt;User&gt; listOfUsers = genericConverter.transformExcelToClass(&quot;yourFilePath&quot;, User.class);\r\n    \tList&lt;Car&gt; listOfCars = genericConverter.transformExcelToClass(&quot;yourFilePath&quot;, Car.class);\r\n    }\r\n    \r\n    \r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    public class LoadUserStepDfn extends LoadDataStepDfn&lt;User&gt; {\r\n    \r\n    \t\r\n    \t\r\n    \t@Given(&quot;^Data is loaded from \\&quot;([^\\&quot;]*)\\&quot;$&quot;)\r\n    \tpublic void data_is_loaded_from (String filePath) throws Throwable {\r\n    \t    super.data_is_loaded_from(filePath , User.class);\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n\r\n\r\n    public class LoadDataStepDfn&lt;T&gt; {\r\n    \r\n    \tpublic List&lt;T&gt; data;\r\n    \r\n    \tprotected ReadingExcelUsingPoiji readingExcelUsingPoiji;\r\n    \r\n    \tprotected void data_is_loaded_from(String filePath, Class&lt;T&gt; classToTransformTo) throws Throwable {\r\n    \t\tdata = readingExcelUsingPoiji.transformExcelToClass(filePath, classToTransformTo);\r\n    \r\n    \t}\r\n    \r\n    }","title":"Creating a Generic method to load dataSet in cucumber using Poiji library","body":"<p>I am trying to understand here, so you dont want @override, but rather 1 method that returns you the type of class to transform to??</p>\n<p>Why can't it be that simple...  You have a method that determines what class you should use to transform to...</p>\n<p>I dont understand why you are using generics...your logic doesnt seem to really care for it? Especially if you have 1 ReadingExcelUsingPoiji class..it really shouldnt care.</p>\n<pre><code>public class ReadingExcelUsingPoiji&lt;T&gt; {\n\npublic List&lt;T&gt; transformExcelToClass(String filePath, Class&lt;T&gt; classToTransformTo) {\n    PoijiOptions options = PoijiOptions.PoijiOptionsBuilder.settings().addListDelimiter(&quot;;&quot;).build();\n    List&lt;T&gt; data = Poiji.fromExcel(new File(filePath), classToTransformTo, options);\n    return data;\n}\n\n\npublic static void main(String [] args) {\n    \n    ReadingExcelUsingPoiji genericConverter = new ReadingExcelUsingPoiji();\n    \n    List&lt;User&gt; listOfUsers = genericConverter.transformExcelToClass(&quot;yourFilePath&quot;, User.class);\n    List&lt;Car&gt; listOfCars = genericConverter.transformExcelToClass(&quot;yourFilePath&quot;, Car.class);\n}\n</code></pre>\n<p>}</p>\n<pre><code>public class LoadUserStepDfn extends LoadDataStepDfn&lt;User&gt; {\n\n    \n    \n    @Given(&quot;^Data is loaded from \\&quot;([^\\&quot;]*)\\&quot;$&quot;)\n    public void data_is_loaded_from (String filePath) throws Throwable {\n        super.data_is_loaded_from(filePath , User.class);\n    }\n\n}\n\n\n\n\npublic class LoadDataStepDfn&lt;T&gt; {\n\n    public List&lt;T&gt; data;\n\n    protected ReadingExcelUsingPoiji readingExcelUsingPoiji;\n\n    protected void data_is_loaded_from(String filePath, Class&lt;T&gt; classToTransformTo) throws Throwable {\n        data = readingExcelUsingPoiji.transformExcelToClass(filePath, classToTransformTo);\n\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":20208281,"reputation":13,"user_id":14822007,"display_name":"zakaria janah"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":389,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":65356023,"answer_count":1,"score":0,"last_activity_date":1680794756,"creation_date":1608281961,"question_id":65354147,"body_markdown":"I have a class that loaded data from scenario steps\r\nmy first class is LoadUserStepDfn\r\n  \r\n\r\n    public class LoadUserStepDfn extends LoadDataStepDfn&lt;User&gt; {\r\n\r\n\tpublic LoadUserStepDfn(ReadingUserUsingPoiji readingUserUsingPoiji) {\r\n\t\tsuper.readingExcelUsingPoiji = readingUserUsingPoiji;\r\n\t}\r\n\r\n\t@Given(&quot;^Data is loaded from \\&quot;([^\\&quot;]*)\\&quot;$&quot;)\r\n\tpublic void data_is_loaded_from (String filePath) throws Throwable {\r\n\t\tsuper.data_is_loaded_from(filePath);\r\n\t}\r\n\r\n\r\nand it call class named LoadDataStepDfn\r\n   \r\n\r\n    public class LoadDataStepDfn&lt;T&gt; {\r\n\r\n\tpublic List&lt;T&gt; data;\r\n\r\n\tprotected ReadingExcelUsingPoiji readingExcelUsingPoiji;\r\n\r\n\tpublic void data_is_loaded_from (String filePath) throws Throwable {\r\n\t\tdata = readingExcelUsingPoiji.TransformExcelToClass(filePath);\r\n\r\n\t}\r\n\r\nand here is my class that reads Excel and stores it to java class \r\n  \r\n```\r\npublic abstract class ReadingExcelUsingPoiji&lt;T&gt; {\r\n\r\n\r\n    public List&lt;T&gt; TransformExcelToClass(String filePath){\r\n        PoijiOptions options = PoijiOptions.PoijiOptionsBuilder.settings().addListDelimiter(&quot;;&quot;).build();\r\n        List&lt;T&gt; data = Poiji.fromExcel(new File(filePath), getMyType(), options);\r\n        return data;\r\n    }\r\n\r\n    public abstract Class&lt;T&gt; getMyType();\r\n\r\n}\r\n```\r\n\r\nthe problem that I want to use one class I don&#39;t want it to be abstract and use another one which is this class \r\n\r\n```\r\n    public class ReadingUserUsingPoiji extends ReadingExcelUsingPoiji&lt;User&gt; {\r\n\r\n\r\n    public Class&lt;User&gt; getMyType(){\r\n        return User.class;\r\n    }\r\n```","title":"Creating a Generic method to load dataSet in cucumber using Poiji library","body":"<p>I have a class that loaded data from scenario steps\nmy first class is LoadUserStepDfn</p>\n<pre><code>public class LoadUserStepDfn extends LoadDataStepDfn&lt;User&gt; {\n\npublic LoadUserStepDfn(ReadingUserUsingPoiji readingUserUsingPoiji) {\n    super.readingExcelUsingPoiji = readingUserUsingPoiji;\n}\n\n@Given(&quot;^Data is loaded from \\&quot;([^\\&quot;]*)\\&quot;$&quot;)\npublic void data_is_loaded_from (String filePath) throws Throwable {\n    super.data_is_loaded_from(filePath);\n}\n</code></pre>\n<p>and it call class named LoadDataStepDfn</p>\n<pre><code>public class LoadDataStepDfn&lt;T&gt; {\n\npublic List&lt;T&gt; data;\n\nprotected ReadingExcelUsingPoiji readingExcelUsingPoiji;\n\npublic void data_is_loaded_from (String filePath) throws Throwable {\n    data = readingExcelUsingPoiji.TransformExcelToClass(filePath);\n\n}\n</code></pre>\n<p>and here is my class that reads Excel and stores it to java class</p>\n<pre><code>public abstract class ReadingExcelUsingPoiji&lt;T&gt; {\n\n\n    public List&lt;T&gt; TransformExcelToClass(String filePath){\n        PoijiOptions options = PoijiOptions.PoijiOptionsBuilder.settings().addListDelimiter(&quot;;&quot;).build();\n        List&lt;T&gt; data = Poiji.fromExcel(new File(filePath), getMyType(), options);\n        return data;\n    }\n\n    public abstract Class&lt;T&gt; getMyType();\n\n}\n</code></pre>\n<p>the problem that I want to use one class I don't want it to be abstract and use another one which is this class</p>\n<pre><code>    public class ReadingUserUsingPoiji extends ReadingExcelUsingPoiji&lt;User&gt; {\n\n\n    public Class&lt;User&gt; getMyType(){\n        return User.class;\n    }\n</code></pre>\n"},{"tags":["java","maven","intellij-idea"],"comments":[{"owner":{"account_id":3538058,"reputation":5428,"user_id":2960034,"display_name":"y.bedrov"},"score":0,"creation_date":1681289453,"post_id":75949581,"comment_id":134030998,"body_markdown":"Was project built? There is no out/target folder in the project tree.","body":"Was project built? There is no out/target folder in the project tree."},{"owner":{"account_id":17693330,"reputation":3781,"user_id":12844632,"display_name":"Egor Klepikov"},"score":0,"creation_date":1681813466,"post_id":75949581,"comment_id":134113520,"body_markdown":"Try to remove the out/target folder and rebuild the project from scratch via Build | Build Project action","body":"Try to remove the out/target folder and rebuild the project from scratch via Build | Build Project action"}],"answers":[{"tags":[],"owner":{"account_id":17585365,"reputation":194,"user_id":12758199,"display_name":"The_Java_Guy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680788490,"creation_date":1680788490,"answer_id":75950228,"question_id":75949581,"body_markdown":"Close your IDE and delete the `.idea` folder and `tsp3.iml` file from the root of the project and reload the project. \r\n\r\nMost issues for intellij are solved by removing the `.idea` folder. \r\n\r\n    rm -rf .idea *.iml\r\n\r\n","title":"Could not find or load main class in Maven IntelliJ IDEA","body":"<p>Close your IDE and delete the <code>.idea</code> folder and <code>tsp3.iml</code> file from the root of the project and reload the project.</p>\n<p>Most issues for intellij are solved by removing the <code>.idea</code> folder.</p>\n<pre><code>rm -rf .idea *.iml\n</code></pre>\n"}],"owner":{"account_id":28206524,"reputation":11,"user_id":21559527,"display_name":"doradura"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":235,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680794501,"creation_date":1680784452,"question_id":75949581,"body_markdown":"I can&#39;t run my project in intellij idea with maven.\r\nThis is my exceptions:\r\n[![enter image description here][1]][1]\r\nThis is my project structure and my Run configurations\r\n[![enter image description here](https://i.stack.imgur.com/tdhqh.png)](https://i.stack.imgur.com/tdhqh.png)\r\n\r\nMaybe the problem in maven or other .iml files?\r\nThis is my tsp3.iml (you can see where it is in the photo above)\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;module version=&quot;4&quot;&gt;\r\n  &lt;component name=&quot;FacetManager&quot;&gt;\r\n    &lt;facet type=&quot;hibernate&quot; name=&quot;Hibernate&quot;&gt;\r\n      &lt;configuration&gt;\r\n        &lt;datasource-map&gt;\r\n          &lt;unit-entry name=&quot;hibernate.cfg.xml&quot; value=&quot;128d993e-c8c2-47d8-a6c8-47085cb9ff4a&quot; /&gt;\r\n          &lt;unit-entry name=&quot;res:hibernate.cfg.xml&quot; value=&quot;128d993e-c8c2-47d8-a6c8-47085cb9ff4a&quot; /&gt;\r\n        &lt;/datasource-map&gt;\r\n        &lt;naming-strategy-map /&gt;\r\n        &lt;deploymentDescriptor name=&quot;hibernate.cfg.xml&quot; url=&quot;file://$MODULE_DIR$/src/main/java/resources/hibernate.cfg.xml&quot; /&gt;\r\n      &lt;/configuration&gt;\r\n    &lt;/facet&gt;\r\n  &lt;/component&gt;\r\n  &lt;component name=&quot;NewModuleRootManager&quot;&gt;\r\n    &lt;content url=&quot;file://$MODULE_DIR$&quot;&gt;\r\n      &lt;sourceFolder url=&quot;file://$MODULE_DIR$/src/main/java/resources&quot; type=&quot;java-resource&quot; /&gt;\r\n    &lt;/content&gt;\r\n  &lt;/component&gt;\r\n&lt;/module&gt;\r\n```\r\nThis is my .idea package:\r\n[![enter image description here](https://i.stack.imgur.com/dIkyY.png)](https://i.stack.imgur.com/dIkyY.png) \r\n\r\nMy compiler.xml:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project version=&quot;4&quot;&gt;\r\n    &lt;component name=&quot;CompilerConfiguration&quot;&gt;\r\n        &lt;annotationProcessing&gt;\r\n            &lt;profile name=&quot;Maven default annotation processors profile&quot; enabled=&quot;true&quot;&gt;\r\n                &lt;sourceOutputDir name=&quot;target/generated-sources/annotations&quot; /&gt;\r\n                &lt;sourceTestOutputDir name=&quot;target/generated-test-sources/test-annotations&quot; /&gt;\r\n                &lt;outputRelativeToContentRoot value=&quot;true&quot; /&gt;\r\n                &lt;module name=&quot;tsp3&quot; /&gt;\r\n            &lt;/profile&gt;\r\n        &lt;/annotationProcessing&gt;\r\n    &lt;/component&gt;\r\n&lt;/project&gt;\r\n```\r\nMy modules.xml:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project version=&quot;4&quot;&gt;\r\n  &lt;component name=&quot;ProjectModuleManager&quot;&gt;\r\n    &lt;modules&gt;\r\n      &lt;module fileurl=&quot;file://$PROJECT_DIR$/tsp3.iml&quot; filepath=&quot;$PROJECT_DIR$/tsp3.iml&quot; /&gt;\r\n    &lt;/modules&gt;\r\n  &lt;/component&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\n\r\nI tried to add new application in Run-&gt; Edit configuration and rebuild my project.\r\n\r\nI tried to delete .idea and tsp3.iml. After restarting I had new package &quot;target&quot;. Before and after deleting this package it didn&#39;t work. After that I deleted .idea and tsp3.iml again and there wasn&#39;t &quot;target&quot; in my project but it still doesn&#39;t work. I think the problem can be in compiler.xml in .idea because there are two folder paths with &quot;target&quot; in it. But I don&#39;t know what I should write there.\r\n\r\nThis is my compiler.xml now:\r\n[![enter image description here][2]][2]\r\n  \r\nI will be grateful for your help!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/TAVf1.png\r\n  [2]: https://i.stack.imgur.com/qFlx8.png","title":"Could not find or load main class in Maven IntelliJ IDEA","body":"<p>I can't run my project in intellij idea with maven.\nThis is my exceptions:\n<a href=\"https://i.stack.imgur.com/TAVf1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TAVf1.png\" alt=\"enter image description here\" /></a>\nThis is my project structure and my Run configurations\n<a href=\"https://i.stack.imgur.com/tdhqh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tdhqh.png\" alt=\"enter image description here\" /></a></p>\n<p>Maybe the problem in maven or other .iml files?\nThis is my tsp3.iml (you can see where it is in the photo above)</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;module version=&quot;4&quot;&gt;\n  &lt;component name=&quot;FacetManager&quot;&gt;\n    &lt;facet type=&quot;hibernate&quot; name=&quot;Hibernate&quot;&gt;\n      &lt;configuration&gt;\n        &lt;datasource-map&gt;\n          &lt;unit-entry name=&quot;hibernate.cfg.xml&quot; value=&quot;128d993e-c8c2-47d8-a6c8-47085cb9ff4a&quot; /&gt;\n          &lt;unit-entry name=&quot;res:hibernate.cfg.xml&quot; value=&quot;128d993e-c8c2-47d8-a6c8-47085cb9ff4a&quot; /&gt;\n        &lt;/datasource-map&gt;\n        &lt;naming-strategy-map /&gt;\n        &lt;deploymentDescriptor name=&quot;hibernate.cfg.xml&quot; url=&quot;file://$MODULE_DIR$/src/main/java/resources/hibernate.cfg.xml&quot; /&gt;\n      &lt;/configuration&gt;\n    &lt;/facet&gt;\n  &lt;/component&gt;\n  &lt;component name=&quot;NewModuleRootManager&quot;&gt;\n    &lt;content url=&quot;file://$MODULE_DIR$&quot;&gt;\n      &lt;sourceFolder url=&quot;file://$MODULE_DIR$/src/main/java/resources&quot; type=&quot;java-resource&quot; /&gt;\n    &lt;/content&gt;\n  &lt;/component&gt;\n&lt;/module&gt;\n</code></pre>\n<p>This is my .idea package:\n<a href=\"https://i.stack.imgur.com/dIkyY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dIkyY.png\" alt=\"enter image description here\" /></a></p>\n<p>My compiler.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project version=&quot;4&quot;&gt;\n    &lt;component name=&quot;CompilerConfiguration&quot;&gt;\n        &lt;annotationProcessing&gt;\n            &lt;profile name=&quot;Maven default annotation processors profile&quot; enabled=&quot;true&quot;&gt;\n                &lt;sourceOutputDir name=&quot;target/generated-sources/annotations&quot; /&gt;\n                &lt;sourceTestOutputDir name=&quot;target/generated-test-sources/test-annotations&quot; /&gt;\n                &lt;outputRelativeToContentRoot value=&quot;true&quot; /&gt;\n                &lt;module name=&quot;tsp3&quot; /&gt;\n            &lt;/profile&gt;\n        &lt;/annotationProcessing&gt;\n    &lt;/component&gt;\n&lt;/project&gt;\n</code></pre>\n<p>My modules.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project version=&quot;4&quot;&gt;\n  &lt;component name=&quot;ProjectModuleManager&quot;&gt;\n    &lt;modules&gt;\n      &lt;module fileurl=&quot;file://$PROJECT_DIR$/tsp3.iml&quot; filepath=&quot;$PROJECT_DIR$/tsp3.iml&quot; /&gt;\n    &lt;/modules&gt;\n  &lt;/component&gt;\n&lt;/project&gt;\n</code></pre>\n<p>I tried to add new application in Run-&gt; Edit configuration and rebuild my project.</p>\n<p>I tried to delete .idea and tsp3.iml. After restarting I had new package &quot;target&quot;. Before and after deleting this package it didn't work. After that I deleted .idea and tsp3.iml again and there wasn't &quot;target&quot; in my project but it still doesn't work. I think the problem can be in compiler.xml in .idea because there are two folder paths with &quot;target&quot; in it. But I don't know what I should write there.</p>\n<p>This is my compiler.xml now:\n<a href=\"https://i.stack.imgur.com/qFlx8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qFlx8.png\" alt=\"enter image description here\" /></a></p>\n<p>I will be grateful for your help!</p>\n"},{"tags":["java","gradle","intellij-idea","jar","build.gradle"],"comments":[{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":0,"creation_date":1680778825,"post_id":75948683,"comment_id":133957254,"body_markdown":"Maybe remove the : in  implementation(&#39;:vtv-plugin-base&#39;)","body":"Maybe remove the : in  implementation(&#39;:vtv-plugin-base&#39;)"},{"owner":{"account_id":23791468,"reputation":11,"user_id":17802855,"display_name":"Harish Algat"},"score":0,"creation_date":1680779178,"post_id":75948683,"comment_id":133957336,"body_markdown":"the issue is not there","body":"the issue is not there"},{"owner":{"account_id":5218565,"reputation":1034,"user_id":6540591,"display_name":"User51"},"score":0,"creation_date":1680789447,"post_id":75948683,"comment_id":133959834,"body_markdown":"So, it seems to find the `.jar` files or it would fail sooner, correct?  It also seems to fail on the second jar, since `mqttv3` is in the classpath (an assumption tho).  So, I assume you have a `org.eclipse.paho.client.mqttv3-1.2.6.jar` file or somesuch?  Whatever your local jar file is, can you open that file (use 7-zip or something), and verify that `MqttClientPersistence.class` exists in it? Also, does whatever IDE you&#39;re using recognize the class?  Can you navigate to it (perhaps with Ctrl/Cmd + Click) whereever it&#39;s being used?  Just a few things to help narrow it down...","body":"So, it seems to find the <code>.jar</code> files or it would fail sooner, correct?  It also seems to fail on the second jar, since <code>mqttv3</code> is in the classpath (an assumption tho).  So, I assume you have a <code>org.eclipse.paho.client.mqttv3-1.2.6.jar</code> file or somesuch?  Whatever your local jar file is, can you open that file (use 7-zip or something), and verify that <code>MqttClientPersistence.class</code> exists in it? Also, does whatever IDE you&#39;re using recognize the class?  Can you navigate to it (perhaps with Ctrl/Cmd + Click) whereever it&#39;s being used?  Just a few things to help narrow it down..."}],"owner":{"account_id":23791468,"reputation":11,"user_id":17802855,"display_name":"Harish Algat"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680794409,"creation_date":1680778430,"question_id":75948683,"body_markdown":"I am using Gradle as a build tool and IntelliJ IDE.\r\n\r\nI have 2 local jars which I am using in `build.gradle` file as a dependency and picking it from local directory.\r\n\r\nI also have a task to generate the jar for that project but when the jar is created and when I am trying to use it in other project it&#39;s giving class not found exception.\r\n\r\nMy build.gradle file:\r\n```gradle\r\nplugins {\r\n    id &#39;java&#39;\r\n}\r\n\r\ngroup &#39;com.vodafone.tv&#39;\r\nversion &#39;1.0&#39;\r\n\r\nrepositories {\r\n    mavenCentral()\r\n    maven { url &#39;https://jitpack.io&#39; }\r\n    flatDir {\r\n//these are the directories from where I am picking up the local jars\r\n        dirs &quot;C:\\\\Users\\\\debanjan.bhatt\\\\Desktop\\\\vtv-plugin-base-master&quot;\r\n        dirs &quot;C:\\\\Users\\\\debanjan.bhatt\\\\Desktop&quot;\r\n    }\r\n}\r\n//task to generate jar\r\ntask buildPlugin(type: Jar) {\r\n    manifest {\r\n        attributes &#39;Manifest-Version&#39;: &#39;1.0&#39;,\r\n                &#39;Plugin-Id&#39;: &#39;vtv-mqtt&#39;,\r\n                &#39;Plugin-Version&#39;: &#39;1.0.0&#39;\r\n    }\r\n    from { configurations.compile.collect { it.isDirectory() ? it : zipTree(it) } }\r\n    with jar\r\n}\r\n\r\ndependencies {\r\n    implementation(&#39;:vtv-plugin-base&#39;) // this is my first local jar 1\r\n    implementation(name: &#39;org.eclipse.paho.client.mqttv3-1.2.6&#39;)   //this is my seconds local jar 2\r\n    implementation group: &#39;com.consol.citrus&#39;, name: &#39;citrus-java-dsl&#39;, version: &#39;2.8.0&#39;\r\n    implementation group: &#39;org.json&#39;, name: &#39;json&#39;, version: &#39;20201115&#39;\r\n    compileOnly(group: &#39;org.pf4j&#39;, name: &#39;pf4j&#39;, version: &#39;3.6.0&#39;)\r\n    annotationProcessor(group: &#39;org.pf4j&#39;, name: &#39;pf4j&#39;, version: &quot;3.6.0&quot;)\r\n    implementation group: &#39;org.testng&#39;, name: &#39;testng&#39;, version: &#39;7.4.0&#39;\r\n    implementation group: &#39;org.slf4j&#39;, name: &#39;slf4j-log4j12&#39;, version: &#39;1.7.30&#39;\r\n    implementation group: &#39;com.google.code.gson&#39;, name: &#39;gson&#39;, version: &#39;2.8.6&#39;\r\n}\r\n\r\ntest {\r\n    useJUnitPlatform()\r\n}\r\n```\r\n\r\nI am getting the following error when this jar is created using the task and I am using it somewhere else in the project.\r\n\r\n```lang-txt\r\n09:43:50,216 \\[ INFO  \\] java.lang.ClassNotFoundException: org.eclipse.paho.client.mqttv3.MqttClientPersistence\r\n```","title":"ClassNotFoundException on creating jar","body":"<p>I am using Gradle as a build tool and IntelliJ IDE.</p>\n<p>I have 2 local jars which I am using in <code>build.gradle</code> file as a dependency and picking it from local directory.</p>\n<p>I also have a task to generate the jar for that project but when the jar is created and when I am trying to use it in other project it's giving class not found exception.</p>\n<p>My build.gradle file:</p>\n<pre><code>plugins {\n    id 'java'\n}\n\ngroup 'com.vodafone.tv'\nversion '1.0'\n\nrepositories {\n    mavenCentral()\n    maven { url 'https://jitpack.io' }\n    flatDir {\n//these are the directories from where I am picking up the local jars\n        dirs &quot;C:\\\\Users\\\\debanjan.bhatt\\\\Desktop\\\\vtv-plugin-base-master&quot;\n        dirs &quot;C:\\\\Users\\\\debanjan.bhatt\\\\Desktop&quot;\n    }\n}\n//task to generate jar\ntask buildPlugin(type: Jar) {\n    manifest {\n        attributes 'Manifest-Version': '1.0',\n                'Plugin-Id': 'vtv-mqtt',\n                'Plugin-Version': '1.0.0'\n    }\n    from { configurations.compile.collect { it.isDirectory() ? it : zipTree(it) } }\n    with jar\n}\n\ndependencies {\n    implementation(':vtv-plugin-base') // this is my first local jar 1\n    implementation(name: 'org.eclipse.paho.client.mqttv3-1.2.6')   //this is my seconds local jar 2\n    implementation group: 'com.consol.citrus', name: 'citrus-java-dsl', version: '2.8.0'\n    implementation group: 'org.json', name: 'json', version: '20201115'\n    compileOnly(group: 'org.pf4j', name: 'pf4j', version: '3.6.0')\n    annotationProcessor(group: 'org.pf4j', name: 'pf4j', version: &quot;3.6.0&quot;)\n    implementation group: 'org.testng', name: 'testng', version: '7.4.0'\n    implementation group: 'org.slf4j', name: 'slf4j-log4j12', version: '1.7.30'\n    implementation group: 'com.google.code.gson', name: 'gson', version: '2.8.6'\n}\n\ntest {\n    useJUnitPlatform()\n}\n</code></pre>\n<p>I am getting the following error when this jar is created using the task and I am using it somewhere else in the project.</p>\n<pre class=\"lang-txt prettyprint-override\"><code>09:43:50,216 \\[ INFO  \\] java.lang.ClassNotFoundException: org.eclipse.paho.client.mqttv3.MqttClientPersistence\n</code></pre>\n"},{"tags":["java","quartz-scheduler"],"answers":[{"tags":[],"owner":{"account_id":4804,"reputation":268579,"user_id":7412,"accept_rate":96,"display_name":"dogbane"},"down_vote_count":21,"up_vote_count":33,"is_accepted":true,"score":12,"last_activity_date":1300180670,"creation_date":1291987621,"answer_id":4409263,"question_id":4408858,"body_markdown":"**Source**: [Automatically Retry Failed Jobs in Quartz][1]\r\n\r\n[1]: http://fahdshariff.blogspot.com/2010/12/automatically-retry-failed-jobs-in.html\r\n\r\nIf you want to have a job which keeps trying over and over again until it succeeds, all you have to do is throw a JobExecutionException with a flag to tell the scheduler to fire it again when it fails. The following code shows how:\r\n\r\n    class MyJob implements Job {\r\n    \r\n        public MyJob() {\r\n        }\r\n    \r\n        public void execute(JobExecutionContext context) throws JobExecutionException {\r\n            \r\n            try{\r\n                //connect to other application etc\r\n            }\r\n            catch(Exception e){\r\n    \r\n                Thread.sleep(600000); //sleep for 10 mins\r\n    \r\n                JobExecutionException e2 = new JobExecutionException(e);\r\n                //fire it again\r\n                e2.setRefireImmediately(true);\r\n                throw e2;\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nIt gets a bit more complicated if you want to retry a certain number of times. You have to use a StatefulJob and hold a retryCounter in its JobDataMap, which you increment if the job fails. If the counter exceeds the maximum number of retries, then you can disable the job if you wish.\r\n\r\n    class MyJob implements StatefulJob {\r\n    \r\n        public MyJob() {\r\n        }\r\n    \r\n        public void execute(JobExecutionContext context) throws JobExecutionException {\r\n            JobDataMap dataMap = context.getJobDetail().getJobDataMap();\r\n            int count = dataMap.getIntValue(&quot;count&quot;);\r\n            \r\n            // allow 5 retries\r\n            if(count &gt;= 5){\r\n                JobExecutionException e = new JobExecutionException(&quot;Retries exceeded&quot;);\r\n                //make sure it doesn&#39;t run again\r\n                e.setUnscheduleAllTriggers(true);\r\n                throw e;\r\n            }\r\n            \r\n            \r\n            try{\r\n                //connect to other application etc\r\n                \r\n                //reset counter back to 0\r\n                dataMap.putAsString(&quot;count&quot;, 0);\r\n            }\r\n            catch(Exception e){\r\n                count++;\r\n                dataMap.putAsString(&quot;count&quot;, count);\r\n                JobExecutionException e2 = new JobExecutionException(e);\r\n                \r\n                Thread.sleep(600000); //sleep for 10 mins\r\n                \r\n                //fire it again\r\n                e2.setRefireImmediately(true);\r\n                throw e2;\r\n            }\r\n        }\r\n    }","title":"Quartz retry when failure","body":"<p><strong>Source</strong>: <a href=\"http://fahdshariff.blogspot.com/2010/12/automatically-retry-failed-jobs-in.html\" rel=\"noreferrer\">Automatically Retry Failed Jobs in Quartz</a></p>\n\n<p>If you want to have a job which keeps trying over and over again until it succeeds, all you have to do is throw a JobExecutionException with a flag to tell the scheduler to fire it again when it fails. The following code shows how:</p>\n\n<pre><code>class MyJob implements Job {\n\n    public MyJob() {\n    }\n\n    public void execute(JobExecutionContext context) throws JobExecutionException {\n\n        try{\n            //connect to other application etc\n        }\n        catch(Exception e){\n\n            Thread.sleep(600000); //sleep for 10 mins\n\n            JobExecutionException e2 = new JobExecutionException(e);\n            //fire it again\n            e2.setRefireImmediately(true);\n            throw e2;\n        }\n    }\n}\n</code></pre>\n\n<p>It gets a bit more complicated if you want to retry a certain number of times. You have to use a StatefulJob and hold a retryCounter in its JobDataMap, which you increment if the job fails. If the counter exceeds the maximum number of retries, then you can disable the job if you wish.</p>\n\n<pre><code>class MyJob implements StatefulJob {\n\n    public MyJob() {\n    }\n\n    public void execute(JobExecutionContext context) throws JobExecutionException {\n        JobDataMap dataMap = context.getJobDetail().getJobDataMap();\n        int count = dataMap.getIntValue(\"count\");\n\n        // allow 5 retries\n        if(count &gt;= 5){\n            JobExecutionException e = new JobExecutionException(\"Retries exceeded\");\n            //make sure it doesn't run again\n            e.setUnscheduleAllTriggers(true);\n            throw e;\n        }\n\n\n        try{\n            //connect to other application etc\n\n            //reset counter back to 0\n            dataMap.putAsString(\"count\", 0);\n        }\n        catch(Exception e){\n            count++;\n            dataMap.putAsString(\"count\", count);\n            JobExecutionException e2 = new JobExecutionException(e);\n\n            Thread.sleep(600000); //sleep for 10 mins\n\n            //fire it again\n            e2.setRefireImmediately(true);\n            throw e2;\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":62516,"reputation":20965,"user_id":185723,"accept_rate":89,"display_name":"dimitrisli"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1291990462,"creation_date":1291990462,"answer_id":4409634,"question_id":4408858,"body_markdown":"I would suggest for more flexibility and configurability to better store in your DB two offsets: the *repeatOffset* which will tell you\r\nafter how long the job should be retried and the *trialPeriodOffset* which will keep the information of the time window that the job is\r\nallowed to be rescheduled. Then you can retrieve these two parameters like (I assume you are using Spring):\r\n\r\n    String repeatOffset = yourDBUtilsDao.getConfigParameter(..);\r\n    String trialPeriodOffset = yourDBUtilsDao.getConfigParameter(..);\r\n\r\nThen instead of the job to remember the counter it will need to remember the initalAttempt:\r\n\r\n    Long initialAttempt = null;\r\n    initialAttempt = (Long) existingJobDetail.getJobDataMap().get(&quot;firstAttempt&quot;);\r\n\r\nand perform the something like the following check:\r\n\r\n    long allowedThreshold = initialAttempt + Long.parseLong(trialPeriodOffset);\r\n    \t\tif (System.currentTimeMillis() &gt; allowedThreshold) {\r\n    \t\t\t//We&#39;ve tried enough, time to give up\r\n    \t\t\tlog.warn(&quot;The job is not going to be rescheduled since it has reached its trial period threshold&quot;);\r\n    \t\t\tsched.deleteJob(jobName, jobGroup);\r\n    \t\t\treturn YourResultEnumHere.HAS_REACHED_THE_RESCHEDULING_LIMIT;\r\n    \t\t}\r\n\r\nIt would be a good idea to create an enum for the result of the attempt that is being returned back to the core workflow of your \r\napplication like above.\r\n\r\nThen construct the rescheduling time:\r\n\r\n    Date startTime = null;\r\n    startTime = new Date(System.currentTimeMillis() + Long.parseLong(repeatOffset));\r\n    \r\n    String triggerName = &quot;Trigger_&quot; + jobName;\r\n    String triggerGroup = &quot;Trigger_&quot; + jobGroup;\r\n    \t\t\r\n    Trigger retrievedTrigger = sched.getTrigger(triggerName, triggerGroup);\r\n    if (!(retrievedTrigger instanceof SimpleTrigger)) {\r\n            \tlog.error(&quot;While rescheduling the Quartz Job retrieved was not of SimpleTrigger type as expected&quot;);\r\n            \treturn YourResultEnumHere.ERROR;\r\n    }\r\n            \r\n            ((SimpleTrigger) retrievedTrigger).setStartTime(startTime);\r\n    \t\tsched.rescheduleJob(triggerName, triggerGroup, retrievedTrigger);\r\n    \t\treturn YourResultEnumHere.RESCHEDULED;","title":"Quartz retry when failure","body":"<p>I would suggest for more flexibility and configurability to better store in your DB two offsets: the <em>repeatOffset</em> which will tell you\nafter how long the job should be retried and the <em>trialPeriodOffset</em> which will keep the information of the time window that the job is\nallowed to be rescheduled. Then you can retrieve these two parameters like (I assume you are using Spring):</p>\n\n<pre><code>String repeatOffset = yourDBUtilsDao.getConfigParameter(..);\nString trialPeriodOffset = yourDBUtilsDao.getConfigParameter(..);\n</code></pre>\n\n<p>Then instead of the job to remember the counter it will need to remember the initalAttempt:</p>\n\n<pre><code>Long initialAttempt = null;\ninitialAttempt = (Long) existingJobDetail.getJobDataMap().get(\"firstAttempt\");\n</code></pre>\n\n<p>and perform the something like the following check:</p>\n\n<pre><code>long allowedThreshold = initialAttempt + Long.parseLong(trialPeriodOffset);\n        if (System.currentTimeMillis() &gt; allowedThreshold) {\n            //We've tried enough, time to give up\n            log.warn(\"The job is not going to be rescheduled since it has reached its trial period threshold\");\n            sched.deleteJob(jobName, jobGroup);\n            return YourResultEnumHere.HAS_REACHED_THE_RESCHEDULING_LIMIT;\n        }\n</code></pre>\n\n<p>It would be a good idea to create an enum for the result of the attempt that is being returned back to the core workflow of your \napplication like above.</p>\n\n<p>Then construct the rescheduling time:</p>\n\n<pre><code>Date startTime = null;\nstartTime = new Date(System.currentTimeMillis() + Long.parseLong(repeatOffset));\n\nString triggerName = \"Trigger_\" + jobName;\nString triggerGroup = \"Trigger_\" + jobGroup;\n\nTrigger retrievedTrigger = sched.getTrigger(triggerName, triggerGroup);\nif (!(retrievedTrigger instanceof SimpleTrigger)) {\n            log.error(\"While rescheduling the Quartz Job retrieved was not of SimpleTrigger type as expected\");\n            return YourResultEnumHere.ERROR;\n}\n\n        ((SimpleTrigger) retrievedTrigger).setStartTime(startTime);\n        sched.rescheduleJob(triggerName, triggerGroup, retrievedTrigger);\n        return YourResultEnumHere.RESCHEDULED;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6350625,"reputation":193,"user_id":4929812,"display_name":"Fl&#225;vio Ferreira"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1481038435,"creation_date":1481038435,"answer_id":40999093,"question_id":4408858,"body_markdown":"I would recommend an implementation like this one to recover the job after a fail:\r\n\r\n    final JobDataMap jobDataMap = jobCtx.getJobDetail().getJobDataMap();\r\n    // the keys doesn&#39;t exist on first retry\r\n    final int retries = jobDataMap.containsKey(COUNT_MAP_KEY) ? jobDataMap.getIntValue(COUNT_MAP_KEY) : 0;\r\n\r\n    // to stop after awhile\r\n    if (retries &lt; MAX_RETRIES) {\r\n      log.warn(&quot;Retry job &quot; + jobCtx.getJobDetail());\r\n\r\n      // increment the number of retries\r\n      jobDataMap.put(COUNT_MAP_KEY, retries + 1);\r\n\r\n      final JobDetail job = jobCtx\r\n          .getJobDetail()\r\n          .getJobBuilder()\r\n           // to track the number of retries\r\n          .withIdentity(jobCtx.getJobDetail().getKey().getName() + &quot; - &quot; + retries, &quot;FailingJobsGroup&quot;)\r\n          .usingJobData(jobDataMap)\r\n          .build();\r\n\r\n      final OperableTrigger trigger = (OperableTrigger) TriggerBuilder\r\n          .newTrigger()\r\n          .forJob(job)\r\n           // trying to reduce back pressure, you can use another algorithm\r\n          .startAt(new Date(jobCtx.getFireTime().getTime() + (retries*100))) \r\n          .build();\r\n\r\n      try {\r\n        // schedule another job to avoid blocking threads\r\n        jobCtx.getScheduler().scheduleJob(job, trigger);\r\n      } catch (SchedulerException e) {\r\n        log.error(&quot;Error creating job&quot;);\r\n        throw new JobExecutionException(e);\r\n      }\r\n    }\r\n \r\n**Why?**\r\n\r\n 1. It will not block Quartz Workers\r\n 2. It will avoid back pressure. With setRefireImmediately the job will be fired immediately and it could lead to back pressure issues\r\n\r\n","title":"Quartz retry when failure","body":"<p>I would recommend an implementation like this one to recover the job after a fail:</p>\n\n<pre><code>final JobDataMap jobDataMap = jobCtx.getJobDetail().getJobDataMap();\n// the keys doesn't exist on first retry\nfinal int retries = jobDataMap.containsKey(COUNT_MAP_KEY) ? jobDataMap.getIntValue(COUNT_MAP_KEY) : 0;\n\n// to stop after awhile\nif (retries &lt; MAX_RETRIES) {\n  log.warn(\"Retry job \" + jobCtx.getJobDetail());\n\n  // increment the number of retries\n  jobDataMap.put(COUNT_MAP_KEY, retries + 1);\n\n  final JobDetail job = jobCtx\n      .getJobDetail()\n      .getJobBuilder()\n       // to track the number of retries\n      .withIdentity(jobCtx.getJobDetail().getKey().getName() + \" - \" + retries, \"FailingJobsGroup\")\n      .usingJobData(jobDataMap)\n      .build();\n\n  final OperableTrigger trigger = (OperableTrigger) TriggerBuilder\n      .newTrigger()\n      .forJob(job)\n       // trying to reduce back pressure, you can use another algorithm\n      .startAt(new Date(jobCtx.getFireTime().getTime() + (retries*100))) \n      .build();\n\n  try {\n    // schedule another job to avoid blocking threads\n    jobCtx.getScheduler().scheduleJob(job, trigger);\n  } catch (SchedulerException e) {\n    log.error(\"Error creating job\");\n    throw new JobExecutionException(e);\n  }\n}\n</code></pre>\n\n<p><strong>Why?</strong></p>\n\n<ol>\n<li>It will not block Quartz Workers</li>\n<li>It will avoid back pressure. With setRefireImmediately the job will be fired immediately and it could lead to back pressure issues</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":25939300,"reputation":31,"user_id":19659058,"display_name":"gearbase"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680793682,"creation_date":1680793682,"answer_id":75951052,"question_id":4408858,"body_markdown":"I hope this information will be useful for you (this is a copy of my answer in this [thread](https://stackoverflow.com/a/75949972/19659058))\r\n\r\nBelow is an example of a multi-instance Spring Boot application that launches a cron job.  \r\nThe Job must be running on only one of the instances.  \r\nThe configuration of each instance must be the same.  \r\nIf a job crashes, it should try to restart 3 times with a delay of 5 minutes * number of restart attempts.  \r\nIf the job still crashes after 3 restarts, the default cron for our job trigger should be set.\r\n\r\n\r\n**We will use Quartz in cluster mode:**\r\n\r\nDeps:\r\n```groovy\r\nimplementation(&quot;org.springframework.boot:spring-boot-starter-quartz&quot;)\r\n```\r\n\r\nAt first, it is a bad idea to use Thread.sleep(600000) as said in this [answer](https://stackoverflow.com/a/4409263/19659058)  \r\n*Out job:*\r\n```kotlin\r\n@Component\r\n@Profile(&quot;quartz&quot;)\r\nclass SomeJob(\r\n    private val someService: SomeService\r\n) : QuartzJobBean() {\r\n    private val log: Logger = LoggerFactory.getLogger(SomeJob::class.java)\r\n    \r\n    override fun executeInternal(jobExecutionContext: JobExecutionContext) {\r\n        try {\r\n            log.info(&quot;Doing awesome work...&quot;)\r\n            someService.work()\r\n            if ((1..10).random() &gt;= 5) throw RuntimeException(&quot;Something went wrong...&quot;)\r\n        } catch (e: Exception) {\r\n            throw JobExecutionException(e)\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nHere is the Quartz configuration (more information [here](https://www.baeldung.com/spring-quartz-schedule)):\r\n```kotlin\r\n@Configuration\r\n@Profile(&quot;quartz&quot;)\r\nclass JobConfig {\r\n    //JobDetail for our job\r\n    @Bean\r\n    fun someJobDetail(): JobDetail {\r\n        return JobBuilder\r\n            .newJob(SomeJob::class.java).withIdentity(&quot;SomeJob&quot;)\r\n            .withDescription(&quot;Some job&quot;)\r\n            //If we want the job to be launched after the application instance crashes at the \r\n            //next launch\r\n            .requestRecovery(true)\r\n            .storeDurably().build()\r\n    }\r\n\r\n    //Trigger\r\n    @Bean\r\n    fun someJobTrigger(someJobDetail: JobDetail): Trigger {\r\n        return TriggerBuilder.newTrigger().forJob(someJobDetail)\r\n            .withIdentity(&quot;SomeJobTrigger&quot;)\r\n            .withSchedule(CronScheduleBuilder.cronSchedule(&quot;0 0 4 L-1 * ? *&quot;))\r\n            .build()\r\n\r\n    }\r\n\r\n    //Otherwise, changing cron for an existing trigger will not work. (the old cron value will be stored in the database)\r\n    @Bean\r\n    fun scheduler(triggers: List&lt;Trigger&gt;, jobDetails: List&lt;JobDetail&gt;, factory: SchedulerFactoryBean): Scheduler {\r\n        factory.setWaitForJobsToCompleteOnShutdown(true)\r\n        val scheduler = factory.scheduler\r\n        factory.setOverwriteExistingJobs(true)\r\n        //https://stackoverflow.com/questions/39673572/spring-quartz-scheduler-race-condition\r\n        factory.setTransactionManager(JdbcTransactionManager())\r\n        rescheduleTriggers(triggers, scheduler)\r\n        scheduler.start()\r\n        return scheduler\r\n    }\r\n\r\n    private fun rescheduleTriggers(triggers: List&lt;Trigger&gt;, scheduler: Scheduler) {\r\n        triggers.forEach {\r\n            if (!scheduler.checkExists(it.key)) {\r\n                scheduler.scheduleJob(it)\r\n            } else {\r\n                scheduler.rescheduleJob(it.key, it)\r\n            }\r\n        }\r\n    }\r\n}\r\n    \r\n```\r\nAdd a listener to the scheduler:\r\n```kotlin\r\n@Component\r\n@Profile(&quot;quartz&quot;)\r\nclass JobListenerConfig(\r\n    private val schedulerFactory: SchedulerFactoryBean,\r\n    private val jobListener: JobListener\r\n) {\r\n    @PostConstruct\r\n    fun addListener() {\r\n        schedulerFactory.scheduler.listenerManager.addJobListener(jobListener, KeyMatcher.keyEquals(jobKey(&quot;SomeJob&quot;)))\r\n    }\r\n}\r\n\r\n```\r\n\r\nAnd now the most important - the logic of processing the execution of our job with listener:\r\n```kotlin\r\n@Profile(&quot;quartz&quot;)\r\nclass JobListener(\r\n    //can be obtained from the execution context, but it can also be injected\r\n    private val scheduler: Scheduler,\r\n    private val triggers: List&lt;Trigger&gt;\r\n): JobListenerSupport() {\r\n\r\n    private lateinit var triggerCronMap: Map&lt;String, String&gt;\r\n\r\n    @PostConstruct\r\n    fun post(){\r\n        //there will be no recovery triggers , only our self-written ones\r\n        triggerCronMap = triggers.associate {\r\n            it.key.name to (it as CronTrigger).cronExpression\r\n        }\r\n    }\r\n\r\n    override fun getName(): String {\r\n        return &quot;myJobListener&quot;\r\n    }\r\n\r\n\r\n    override fun jobToBeExecuted(context: JobExecutionContext) {\r\n        log.info(&quot;Job: ${context.jobDetail.key.name} ready to start by trigger: ${context.trigger.key.name}&quot;)\r\n    }\r\n\r\n\r\n    override fun jobWasExecuted(context: JobExecutionContext, jobException: JobExecutionException?) {\r\n        //you can use context.mergedJobDataMap\r\n        val dataMap = context.trigger.jobDataMap\r\n        val count = if (dataMap[&quot;count&quot;] != null) dataMap.getIntValue(&quot;count&quot;) else {\r\n            dataMap.putAsString(&quot;count&quot;, 1)\r\n            1\r\n        }\r\n        //in the if block, you can add the condition &amp;&amp; !context.trigger.key.name.startsWith(&quot;recover_&quot;) - in this case, the scheduler will not restart recover triggers if they fall during execution\r\n        if (jobException != null ){\r\n            if (count &lt; 3) {\r\n                log.warn(&quot;Job: ${context.jobDetail.key.name} filed while execution. Restart attempts count: $count &quot;)\r\n                val oldTrigger = context.trigger\r\n                var newTriggerName = context.trigger.key.name + &quot;_retry&quot;\r\n                //in case such a trigger already exists\r\n                context.scheduler.getTriggersOfJob(context.jobDetail.key)\r\n                    .map { it.key.name }\r\n                    .takeIf { it.contains(newTriggerName) }\r\n                    ?.apply { newTriggerName += &quot;_retry&quot; }\r\n                val newTrigger = TriggerBuilder.newTrigger()\r\n                    .forJob(context.jobDetail)\r\n                    .withIdentity(newTriggerName, context.trigger.key.group)\r\n                    //create a simple trigger that should be fired in 5 minutes * restart attempts\r\n                    .startAt(Date.from(Instant.now().plus((5 * count).toLong(), ChronoUnit.MINUTES)))\r\n                    .usingJobData(&quot;count&quot;, count + 1 )\r\n                    .build()\r\n                val date = scheduler.rescheduleJob(oldTrigger.key, newTrigger)\r\n                log.warn(&quot;Rescheduling trigger: ${oldTrigger.key} to trigger: ${newTrigger.key}&quot;)\r\n            } else {\r\n                log.warn(&quot;The maximum number of restarts has been reached. Restart attempts: $count&quot;)\r\n                recheduleWithDefaultTrigger(context)\r\n            }\r\n        } else if (count &gt; 1) {\r\n            recheduleWithDefaultTrigger(context)\r\n        }\r\n        else {\r\n            log.info(&quot;Job: ${context.jobDetail.key.name} completed successfully&quot;)\r\n        }\r\n        context.scheduler.getTriggersOfJob(context.trigger.jobKey).forEach {\r\n            log.info(&quot;Trigger with key: ${it.key} for job: ${context.trigger.jobKey.name} will start at ${it.nextFireTime ?: it.startTime}&quot;)\r\n        }\r\n    }\r\n\r\n    private fun recheduleWithDefaultTrigger(context: JobExecutionContext) {\r\n        val clone = context.jobDetail.clone() as JobDetail\r\n        val defaultTriggerName = context.trigger.key.name.split(&quot;_&quot;)[0]\r\n        //Recovery triggers should not be rescheduled\r\n        if (!triggerCronMap.contains(defaultTriggerName)) {\r\n            log.warn(&quot;This trigger: ${context.trigger.key.name} for job: ${context.trigger.jobKey.name} is not self-written trigger. It can be recovery trigger or whatever. This trigger must not be recheduled.&quot;)\r\n            return\r\n        }\r\n        log.warn(&quot;Remove all triggers for job: ${context.trigger.jobKey.name} and schedule default trigger for it: $defaultTriggerName&quot;)\r\n        scheduler.deleteJob(clone.key)\r\n        scheduler.addJob(clone, true)\r\n        scheduler.scheduleJob(\r\n            TriggerBuilder.newTrigger()\r\n                .forJob(clone)\r\n                .withIdentity(defaultTriggerName)\r\n                .withSchedule(CronScheduleBuilder.cronSchedule(triggerCronMap[defaultTriggerName]))\r\n                .usingJobData(&quot;count&quot;, 1)\r\n                .startAt(Date.from(Instant.now().plusSeconds(5)))\r\n                .build()\r\n        )\r\n    }\r\n}\r\n```\r\nLast but not least: **application.yaml**\r\n```yaml\r\nspring:\r\n  quartz:\r\n    job-store-type: jdbc #Database Mode\r\n    jdbc:\r\n      initialize-schema: never #Do not initialize table structure\r\n    properties:\r\n      org:\r\n        quartz:\r\n          scheduler:\r\n            instanceId: AUTO #Default hostname and timestamp generate instance ID, which can be any string, but must be the only corresponding qrtz_scheduler_state INSTANCE_NAME field for all dispatchers\r\n            #instanceName: clusteredScheduler #quartzScheduler\r\n          jobStore:\r\n#            a few problems with the two properties below: https://github.com/spring-projects/spring-boot/issues/28758#issuecomment-974628989 &amp; https://github.com/quartz-scheduler/quartz/issues/284\r\n#            class: org.springframework.scheduling.quartz.LocalDataSourceJobStore #Persistence Configuration\r\n            driverDelegateClass: org.quartz.impl.jdbcjobstore.PostgreSQLDelegate #We only make database-specific proxies for databases\r\n#            useProperties: true #Indicates that JDBC JobStore stores all values in JobDataMaps as strings, so more complex objects can be stored as name-value pairs rather than serialized in BLOB columns.In the long run, this is safer because you avoid serializing non-String classes to BLOB class versions.\r\n            tablePrefix: scam_quartz.QRTZ_  #Database Table Prefix\r\n            misfireThreshold: 60000 #The number of milliseconds the dispatcher will &quot;tolerate&quot; a Trigger to pass its next startup time before being considered a &quot;fire&quot;.The default value (if you do not enter this property in the configuration) is 60000 (60 seconds).\r\n            clusterCheckinInterval: 5000 #Set the frequency (in milliseconds) of this instance&#39;checkin&#39;* with other instances of the cluster.Affects the speed of detecting failed instances.\r\n            isClustered: true #Turn on Clustering\r\n          threadPool: #Connection Pool\r\n            class: org.quartz.simpl.SimpleThreadPool\r\n            threadCount: 3\r\n            threadPriority: 1\r\n            threadsInheritContextClassLoaderOfInitializingThread: true\r\n```\r\n\r\n[Here](https://github.com/quartz-scheduler/quartz/tree/master/quartz-core/src/main/resources/org/quartz/impl/jdbcjobstore) official scripts for database (use liquibase or flyway)      \r\nMore information:   \r\n[About quartz](https://www.baeldung.com/quartz)  \r\n[spring boot using quartz in cluster mode](https://medium.com/javarevisited/spring-boot-using-quartz-in-mode-cluster-e1d71e4af4b9)  \r\n[One more article](https://habr.com/ru/companies/surfstudio/articles/685980)  \r\n[Cluster effectively quartz](https://medium.com/javarevisited/how-to-cluster-effectively-quartz-jobs-9b097f5e1191)","title":"Quartz retry when failure","body":"<p>I hope this information will be useful for you (this is a copy of my answer in this <a href=\"https://stackoverflow.com/a/75949972/19659058\">thread</a>)</p>\n<p>Below is an example of a multi-instance Spring Boot application that launches a cron job.<br />\nThe Job must be running on only one of the instances.<br />\nThe configuration of each instance must be the same.<br />\nIf a job crashes, it should try to restart 3 times with a delay of 5 minutes * number of restart attempts.<br />\nIf the job still crashes after 3 restarts, the default cron for our job trigger should be set.</p>\n<p><strong>We will use Quartz in cluster mode:</strong></p>\n<p>Deps:</p>\n<pre><code>implementation(&quot;org.springframework.boot:spring-boot-starter-quartz&quot;)\n</code></pre>\n<p>At first, it is a bad idea to use Thread.sleep(600000) as said in this <a href=\"https://stackoverflow.com/a/4409263/19659058\">answer</a><br />\n<em>Out job:</em></p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Component\n@Profile(&quot;quartz&quot;)\nclass SomeJob(\n    private val someService: SomeService\n) : QuartzJobBean() {\n    private val log: Logger = LoggerFactory.getLogger(SomeJob::class.java)\n    \n    override fun executeInternal(jobExecutionContext: JobExecutionContext) {\n        try {\n            log.info(&quot;Doing awesome work...&quot;)\n            someService.work()\n            if ((1..10).random() &gt;= 5) throw RuntimeException(&quot;Something went wrong...&quot;)\n        } catch (e: Exception) {\n            throw JobExecutionException(e)\n        }\n    }\n}\n</code></pre>\n<p>Here is the Quartz configuration (more information <a href=\"https://www.baeldung.com/spring-quartz-schedule\" rel=\"nofollow noreferrer\">here</a>):</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Configuration\n@Profile(&quot;quartz&quot;)\nclass JobConfig {\n    //JobDetail for our job\n    @Bean\n    fun someJobDetail(): JobDetail {\n        return JobBuilder\n            .newJob(SomeJob::class.java).withIdentity(&quot;SomeJob&quot;)\n            .withDescription(&quot;Some job&quot;)\n            //If we want the job to be launched after the application instance crashes at the \n            //next launch\n            .requestRecovery(true)\n            .storeDurably().build()\n    }\n\n    //Trigger\n    @Bean\n    fun someJobTrigger(someJobDetail: JobDetail): Trigger {\n        return TriggerBuilder.newTrigger().forJob(someJobDetail)\n            .withIdentity(&quot;SomeJobTrigger&quot;)\n            .withSchedule(CronScheduleBuilder.cronSchedule(&quot;0 0 4 L-1 * ? *&quot;))\n            .build()\n\n    }\n\n    //Otherwise, changing cron for an existing trigger will not work. (the old cron value will be stored in the database)\n    @Bean\n    fun scheduler(triggers: List&lt;Trigger&gt;, jobDetails: List&lt;JobDetail&gt;, factory: SchedulerFactoryBean): Scheduler {\n        factory.setWaitForJobsToCompleteOnShutdown(true)\n        val scheduler = factory.scheduler\n        factory.setOverwriteExistingJobs(true)\n        //https://stackoverflow.com/questions/39673572/spring-quartz-scheduler-race-condition\n        factory.setTransactionManager(JdbcTransactionManager())\n        rescheduleTriggers(triggers, scheduler)\n        scheduler.start()\n        return scheduler\n    }\n\n    private fun rescheduleTriggers(triggers: List&lt;Trigger&gt;, scheduler: Scheduler) {\n        triggers.forEach {\n            if (!scheduler.checkExists(it.key)) {\n                scheduler.scheduleJob(it)\n            } else {\n                scheduler.rescheduleJob(it.key, it)\n            }\n        }\n    }\n}\n    \n</code></pre>\n<p>Add a listener to the scheduler:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Component\n@Profile(&quot;quartz&quot;)\nclass JobListenerConfig(\n    private val schedulerFactory: SchedulerFactoryBean,\n    private val jobListener: JobListener\n) {\n    @PostConstruct\n    fun addListener() {\n        schedulerFactory.scheduler.listenerManager.addJobListener(jobListener, KeyMatcher.keyEquals(jobKey(&quot;SomeJob&quot;)))\n    }\n}\n\n</code></pre>\n<p>And now the most important - the logic of processing the execution of our job with listener:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Profile(&quot;quartz&quot;)\nclass JobListener(\n    //can be obtained from the execution context, but it can also be injected\n    private val scheduler: Scheduler,\n    private val triggers: List&lt;Trigger&gt;\n): JobListenerSupport() {\n\n    private lateinit var triggerCronMap: Map&lt;String, String&gt;\n\n    @PostConstruct\n    fun post(){\n        //there will be no recovery triggers , only our self-written ones\n        triggerCronMap = triggers.associate {\n            it.key.name to (it as CronTrigger).cronExpression\n        }\n    }\n\n    override fun getName(): String {\n        return &quot;myJobListener&quot;\n    }\n\n\n    override fun jobToBeExecuted(context: JobExecutionContext) {\n        log.info(&quot;Job: ${context.jobDetail.key.name} ready to start by trigger: ${context.trigger.key.name}&quot;)\n    }\n\n\n    override fun jobWasExecuted(context: JobExecutionContext, jobException: JobExecutionException?) {\n        //you can use context.mergedJobDataMap\n        val dataMap = context.trigger.jobDataMap\n        val count = if (dataMap[&quot;count&quot;] != null) dataMap.getIntValue(&quot;count&quot;) else {\n            dataMap.putAsString(&quot;count&quot;, 1)\n            1\n        }\n        //in the if block, you can add the condition &amp;&amp; !context.trigger.key.name.startsWith(&quot;recover_&quot;) - in this case, the scheduler will not restart recover triggers if they fall during execution\n        if (jobException != null ){\n            if (count &lt; 3) {\n                log.warn(&quot;Job: ${context.jobDetail.key.name} filed while execution. Restart attempts count: $count &quot;)\n                val oldTrigger = context.trigger\n                var newTriggerName = context.trigger.key.name + &quot;_retry&quot;\n                //in case such a trigger already exists\n                context.scheduler.getTriggersOfJob(context.jobDetail.key)\n                    .map { it.key.name }\n                    .takeIf { it.contains(newTriggerName) }\n                    ?.apply { newTriggerName += &quot;_retry&quot; }\n                val newTrigger = TriggerBuilder.newTrigger()\n                    .forJob(context.jobDetail)\n                    .withIdentity(newTriggerName, context.trigger.key.group)\n                    //create a simple trigger that should be fired in 5 minutes * restart attempts\n                    .startAt(Date.from(Instant.now().plus((5 * count).toLong(), ChronoUnit.MINUTES)))\n                    .usingJobData(&quot;count&quot;, count + 1 )\n                    .build()\n                val date = scheduler.rescheduleJob(oldTrigger.key, newTrigger)\n                log.warn(&quot;Rescheduling trigger: ${oldTrigger.key} to trigger: ${newTrigger.key}&quot;)\n            } else {\n                log.warn(&quot;The maximum number of restarts has been reached. Restart attempts: $count&quot;)\n                recheduleWithDefaultTrigger(context)\n            }\n        } else if (count &gt; 1) {\n            recheduleWithDefaultTrigger(context)\n        }\n        else {\n            log.info(&quot;Job: ${context.jobDetail.key.name} completed successfully&quot;)\n        }\n        context.scheduler.getTriggersOfJob(context.trigger.jobKey).forEach {\n            log.info(&quot;Trigger with key: ${it.key} for job: ${context.trigger.jobKey.name} will start at ${it.nextFireTime ?: it.startTime}&quot;)\n        }\n    }\n\n    private fun recheduleWithDefaultTrigger(context: JobExecutionContext) {\n        val clone = context.jobDetail.clone() as JobDetail\n        val defaultTriggerName = context.trigger.key.name.split(&quot;_&quot;)[0]\n        //Recovery triggers should not be rescheduled\n        if (!triggerCronMap.contains(defaultTriggerName)) {\n            log.warn(&quot;This trigger: ${context.trigger.key.name} for job: ${context.trigger.jobKey.name} is not self-written trigger. It can be recovery trigger or whatever. This trigger must not be recheduled.&quot;)\n            return\n        }\n        log.warn(&quot;Remove all triggers for job: ${context.trigger.jobKey.name} and schedule default trigger for it: $defaultTriggerName&quot;)\n        scheduler.deleteJob(clone.key)\n        scheduler.addJob(clone, true)\n        scheduler.scheduleJob(\n            TriggerBuilder.newTrigger()\n                .forJob(clone)\n                .withIdentity(defaultTriggerName)\n                .withSchedule(CronScheduleBuilder.cronSchedule(triggerCronMap[defaultTriggerName]))\n                .usingJobData(&quot;count&quot;, 1)\n                .startAt(Date.from(Instant.now().plusSeconds(5)))\n                .build()\n        )\n    }\n}\n</code></pre>\n<p>Last but not least: <strong>application.yaml</strong></p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  quartz:\n    job-store-type: jdbc #Database Mode\n    jdbc:\n      initialize-schema: never #Do not initialize table structure\n    properties:\n      org:\n        quartz:\n          scheduler:\n            instanceId: AUTO #Default hostname and timestamp generate instance ID, which can be any string, but must be the only corresponding qrtz_scheduler_state INSTANCE_NAME field for all dispatchers\n            #instanceName: clusteredScheduler #quartzScheduler\n          jobStore:\n#            a few problems with the two properties below: https://github.com/spring-projects/spring-boot/issues/28758#issuecomment-974628989 &amp; https://github.com/quartz-scheduler/quartz/issues/284\n#            class: org.springframework.scheduling.quartz.LocalDataSourceJobStore #Persistence Configuration\n            driverDelegateClass: org.quartz.impl.jdbcjobstore.PostgreSQLDelegate #We only make database-specific proxies for databases\n#            useProperties: true #Indicates that JDBC JobStore stores all values in JobDataMaps as strings, so more complex objects can be stored as name-value pairs rather than serialized in BLOB columns.In the long run, this is safer because you avoid serializing non-String classes to BLOB class versions.\n            tablePrefix: scam_quartz.QRTZ_  #Database Table Prefix\n            misfireThreshold: 60000 #The number of milliseconds the dispatcher will &quot;tolerate&quot; a Trigger to pass its next startup time before being considered a &quot;fire&quot;.The default value (if you do not enter this property in the configuration) is 60000 (60 seconds).\n            clusterCheckinInterval: 5000 #Set the frequency (in milliseconds) of this instance'checkin'* with other instances of the cluster.Affects the speed of detecting failed instances.\n            isClustered: true #Turn on Clustering\n          threadPool: #Connection Pool\n            class: org.quartz.simpl.SimpleThreadPool\n            threadCount: 3\n            threadPriority: 1\n            threadsInheritContextClassLoaderOfInitializingThread: true\n</code></pre>\n<p><a href=\"https://github.com/quartz-scheduler/quartz/tree/master/quartz-core/src/main/resources/org/quartz/impl/jdbcjobstore\" rel=\"nofollow noreferrer\">Here</a> official scripts for database (use liquibase or flyway)<br />\nMore information:<br />\n<a href=\"https://www.baeldung.com/quartz\" rel=\"nofollow noreferrer\">About quartz</a><br />\n<a href=\"https://medium.com/javarevisited/spring-boot-using-quartz-in-mode-cluster-e1d71e4af4b9\" rel=\"nofollow noreferrer\">spring boot using quartz in cluster mode</a><br />\n<a href=\"https://habr.com/ru/companies/surfstudio/articles/685980\" rel=\"nofollow noreferrer\">One more article</a><br />\n<a href=\"https://medium.com/javarevisited/how-to-cluster-effectively-quartz-jobs-9b097f5e1191\" rel=\"nofollow noreferrer\">Cluster effectively quartz</a></p>\n"}],"owner":{"account_id":29346,"reputation":4188,"user_id":79230,"accept_rate":88,"display_name":"Averroes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48217,"favorite_count":0,"down_vote_count":0,"up_vote_count":28,"accepted_answer_id":4409263,"answer_count":4,"score":28,"last_activity_date":1680793682,"creation_date":1291984502,"question_id":4408858,"body_markdown":"Let&#39;s say I have a trigger configured this way:\r\n\r\n    &lt;bean id=&quot;updateInsBBTrigger&quot;         \r\n        class=&quot;org.springframework.scheduling.quartz.CronTriggerBean&quot;&gt;\r\n        &lt;property name=&quot;jobDetail&quot; ref=&quot;updateInsBBJobDetail&quot;/&gt;\r\n        &lt;!--  run every morning at 5 AM  --&gt;\r\n        &lt;property name=&quot;cronExpression&quot; value=&quot;0 0 5 * * ?&quot;/&gt;\r\n    &lt;/bean&gt;\r\n    \r\n\r\nThe trigger have to connect with another application and if there is any problem (like a connection failure) it should to retry the task up to five times every 10 minutes or until success. There is any way to configure the trigger to work like this?\r\n","title":"Quartz retry when failure","body":"<p>Let's say I have a trigger configured this way:</p>\n\n<pre><code>&lt;bean id=\"updateInsBBTrigger\"         \n    class=\"org.springframework.scheduling.quartz.CronTriggerBean\"&gt;\n    &lt;property name=\"jobDetail\" ref=\"updateInsBBJobDetail\"/&gt;\n    &lt;!--  run every morning at 5 AM  --&gt;\n    &lt;property name=\"cronExpression\" value=\"0 0 5 * * ?\"/&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>The trigger have to connect with another application and if there is any problem (like a connection failure) it should to retry the task up to five times every 10 minutes or until success. There is any way to configure the trigger to work like this?</p>\n"},{"tags":["java","security"],"comments":[{"owner":{"account_id":955054,"reputation":5629,"user_id":980520,"accept_rate":90,"display_name":"lynks"},"score":3,"creation_date":1335305488,"post_id":10306673,"comment_id":13265385,"body_markdown":"The best you can hope for is obfustication, if the program can read it, anyone with access to the files can too. That&#39;s not to say you cant make it damn hard to access.","body":"The best you can hope for is obfustication, if the program can read it, anyone with access to the files can too. That&#39;s not to say you cant make it damn hard to access."},{"owner":{"account_id":1405259,"reputation":3061,"user_id":1333157,"accept_rate":92,"display_name":"ZeroOne"},"score":0,"creation_date":1335306046,"post_id":10306673,"comment_id":13265536,"body_markdown":"Encrypting it with a constant password that is kept in the code seems like a legit way of doing it if people looking over the admin&#39;s shoulder are the main threat.","body":"Encrypting it with a constant password that is kept in the code seems like a legit way of doing it if people looking over the admin&#39;s shoulder are the main threat."},{"owner":{"account_id":120028,"reputation":35734,"user_id":312172,"accept_rate":86,"display_name":"user unknown"},"score":0,"creation_date":1335306122,"post_id":10306673,"comment_id":13265549,"body_markdown":"How many people access the database? Don&#39;t they need a password for the core database access? Why should you store a second one/ this one?","body":"How many people access the database? Don&#39;t they need a password for the core database access? Why should you store a second one/ this one?"},{"owner":{"account_id":1405259,"reputation":3061,"user_id":1333157,"accept_rate":92,"display_name":"ZeroOne"},"score":0,"creation_date":1335306232,"post_id":10306673,"comment_id":13265575,"body_markdown":"@userunknown, obviously the Java application needs its own username and password for accessing the database. These are kept in the properties file, like the original poster explained.","body":"@userunknown, obviously the Java application needs its own username and password for accessing the database. These are kept in the properties file, like the original poster explained."},{"owner":{"account_id":120028,"reputation":35734,"user_id":312172,"accept_rate":86,"display_name":"user unknown"},"score":0,"creation_date":1335306603,"post_id":10306673,"comment_id":13265671,"body_markdown":"@ZeroOne: For databases I use, I have an account, and the application just forwards my login information to the database, which grants me privileges or not. Manipulation of a front end program seems to me very risky.","body":"@ZeroOne: For databases I use, I have an account, and the application just forwards my login information to the database, which grants me privileges or not. Manipulation of a front end program seems to me very risky."},{"owner":{"account_id":1405259,"reputation":3061,"user_id":1333157,"accept_rate":92,"display_name":"ZeroOne"},"score":0,"creation_date":1335307227,"post_id":10306673,"comment_id":13265824,"body_markdown":"@userunknown Think of a web application like Stack Overflow. The application needs to access a database, but your login credentials to the web site certainly won&#39;t let you in into that database that powers the site. The application has its own database credentials.","body":"@userunknown Think of a web application like Stack Overflow. The application needs to access a database, but your login credentials to the web site certainly won&#39;t let you in into that database that powers the site. The application has its own database credentials."},{"owner":{"account_id":120028,"reputation":35734,"user_id":312172,"accept_rate":86,"display_name":"user unknown"},"score":0,"creation_date":1335307700,"post_id":10306673,"comment_id":13265933,"body_markdown":"@ZeroOne: `Java application` isn&#39;t a web-application, is it? Maybe it is, but then it is poorly specified.","body":"@ZeroOne: <code>Java application</code> isn&#39;t a web-application, is it? Maybe it is, but then it is poorly specified."},{"owner":{"account_id":1405259,"reputation":3061,"user_id":1333157,"accept_rate":92,"display_name":"ZeroOne"},"score":0,"creation_date":1335307894,"post_id":10306673,"comment_id":13265980,"body_markdown":"@userunknown Yeah, I just noticed that I just assumed it was. That&#39;s because that&#39;s the only reason I could think of why anyone would want to save a database password into a properties file. Otherwise it should be done just like you already said.","body":"@userunknown Yeah, I just noticed that I just assumed it was. That&#39;s because that&#39;s the only reason I could think of why anyone would want to save a database password into a properties file. Otherwise it should be done just like you already said."},{"owner":{"account_id":54172,"reputation":3040,"user_id":162056,"accept_rate":79,"display_name":"daramasala"},"score":0,"creation_date":1335772811,"post_id":10306673,"comment_id":13382013,"body_markdown":"Thanks for all the comments. So, I wonder, if all I can do is obfuscate then I can just encode it in Base64, no? This way it is hard to tell what is the password by looking at it and yet I don&#39;t need to use encryption/decryption which seem an overkill given the fact the password is not really secured.","body":"Thanks for all the comments. So, I wonder, if all I can do is obfuscate then I can just encode it in Base64, no? This way it is hard to tell what is the password by looking at it and yet I don&#39;t need to use encryption/decryption which seem an overkill given the fact the password is not really secured."},{"owner":{"account_id":360377,"reputation":465,"user_id":702345,"display_name":"Harald Brabenetz"},"score":2,"creation_date":1478023689,"post_id":10306673,"comment_id":67985280,"body_markdown":"I created an opensource-library: http://secured-properties.brabenetz.net/   Please let me know what you think about it.","body":"I created an opensource-library: <a href=\"http://secured-properties.brabenetz.net/\" rel=\"nofollow noreferrer\">secured-properties.brabenetz.net</a>   Please let me know what you think about it."}],"answers":[{"tags":[],"owner":{"account_id":8112,"reputation":64592,"user_id":14419,"accept_rate":100,"display_name":"Mads Hansen"},"down_vote_count":0,"up_vote_count":60,"is_accepted":true,"score":60,"last_activity_date":1335317513,"creation_date":1335312658,"answer_id":10307724,"question_id":10306673,"body_markdown":"[![enter image description here][1]][2] \r\n==\r\n**Jasypt provides the [org.jasypt.properties.EncryptableProperties][3] class for loading, managing and transparently decrypting encrypted values in .properties files, allowing the mix of both encrypted and not-encrypted values in the same file.**\r\n\r\nhttp://www.jasypt.org/encrypting-configuration.html\r\n\r\n&gt; By using an org.jasypt.properties.EncryptableProperties object, an\r\n&gt; application would be able to correctly read and use a .properties file\r\n&gt; like this:\r\n \r\n    datasource.driver=com.mysql.jdbc.Driver \r\n    datasource.url=jdbc:mysql://localhost/reportsdb \r\n    datasource.username=reportsUser \r\n    datasource.password=ENC(G6N718UuyPE5bHyWKyuLQSm02auQPUtm) \r\n\r\n&gt; Note that\r\n&gt; the database password is encrypted (in fact, any other property could\r\n&gt; also be encrypted, be it related with database configuration or not).\r\n&gt; \r\n&gt; How do we read this value? like this:\r\n\r\n    /*\r\n    * First, create (or ask some other component for) the adequate encryptor for   \r\n    * decrypting the values in our .properties file.   \r\n    */  \r\n    StandardPBEStringEncryptor encryptor = new StandardPBEStringEncryptor();     \r\n    encryptor.setPassword(&quot;jasypt&quot;); // could be got from web, env variable...    \r\n    /*   \r\n    * Create our EncryptableProperties object and load it the usual way.   \r\n    */  \r\n    Properties props = new EncryptableProperties(encryptor);  \r\n    props.load(new FileInputStream(&quot;/path/to/my/configuration.properties&quot;));\r\n    \r\n    /*   \r\n    * To get a non-encrypted value, we just get it with getProperty...   \r\n    */  \r\n    String datasourceUsername = props.getProperty(&quot;datasource.username&quot;);\r\n    \r\n    /*   \r\n    * ...and to get an encrypted value, we do exactly the same. Decryption will   \r\n    * be transparently performed behind the scenes.   \r\n    */ \r\n    String datasourcePassword = props.getProperty(&quot;datasource.password&quot;);\r\n    \r\n     // From now on, datasourcePassword equals &quot;reports_passwd&quot;...\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/oEt2m.png\r\n  [2]: http://www.jasypt.org\r\n  [3]: http://www.jasypt.org/api/jasypt/1.8/org/jasypt/properties/EncryptableProperties.html","title":"Securing a password in a properties file","body":"<h1><a href=\"http://www.jasypt.org\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/oEt2m.png\" alt=\"enter image description here\"></a></h1>\n\n<p><strong>Jasypt provides the <a href=\"http://www.jasypt.org/api/jasypt/1.8/org/jasypt/properties/EncryptableProperties.html\" rel=\"noreferrer\">org.jasypt.properties.EncryptableProperties</a> class for loading, managing and transparently decrypting encrypted values in .properties files, allowing the mix of both encrypted and not-encrypted values in the same file.</strong></p>\n\n<p><a href=\"http://www.jasypt.org/encrypting-configuration.html\" rel=\"noreferrer\">http://www.jasypt.org/encrypting-configuration.html</a></p>\n\n<blockquote>\n  <p>By using an org.jasypt.properties.EncryptableProperties object, an\n  application would be able to correctly read and use a .properties file\n  like this:</p>\n</blockquote>\n\n<pre><code>datasource.driver=com.mysql.jdbc.Driver \ndatasource.url=jdbc:mysql://localhost/reportsdb \ndatasource.username=reportsUser \ndatasource.password=ENC(G6N718UuyPE5bHyWKyuLQSm02auQPUtm) \n</code></pre>\n\n<blockquote>\n  <p>Note that\n  the database password is encrypted (in fact, any other property could\n  also be encrypted, be it related with database configuration or not).</p>\n  \n  <p>How do we read this value? like this:</p>\n</blockquote>\n\n<pre><code>/*\n* First, create (or ask some other component for) the adequate encryptor for   \n* decrypting the values in our .properties file.   \n*/  \nStandardPBEStringEncryptor encryptor = new StandardPBEStringEncryptor();     \nencryptor.setPassword(\"jasypt\"); // could be got from web, env variable...    \n/*   \n* Create our EncryptableProperties object and load it the usual way.   \n*/  \nProperties props = new EncryptableProperties(encryptor);  \nprops.load(new FileInputStream(\"/path/to/my/configuration.properties\"));\n\n/*   \n* To get a non-encrypted value, we just get it with getProperty...   \n*/  \nString datasourceUsername = props.getProperty(\"datasource.username\");\n\n/*   \n* ...and to get an encrypted value, we do exactly the same. Decryption will   \n* be transparently performed behind the scenes.   \n*/ \nString datasourcePassword = props.getProperty(\"datasource.password\");\n\n // From now on, datasourcePassword equals \"reports_passwd\"...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5168716,"reputation":137,"user_id":4137960,"display_name":"Abelgo Japan"},"down_vote_count":2,"up_vote_count":14,"is_accepted":false,"score":12,"last_activity_date":1413961635,"creation_date":1413960814,"answer_id":26501842,"question_id":10306673,"body_markdown":"The poor mans compromise solution is to use a simplistic multi signature approach.\r\n\r\nFor Example the DBA sets the applications database password to a 50 character random string. \r\n**TAKqWskc4ncvKaJTyDcgAHq82X7tX6GfK2fc386bmNw3muknjU**\r\n\r\nHe or she give half the password to the application developer who then hard codes it into the java binary.\r\n\r\n**private String pass1 = &quot;TAKqWskc4ncvKaJTyDcgAHq82&quot;**\r\n\r\nThe other half of the password is passed as a command line argument. the DBA gives pass2 to the system support or admin person who either enters it a application start time or puts it into the automated application start up script.\r\n\r\njava -jar /myapplication.jar  -pass2 X7tX6GfK2fc386bmNw3muknjU\r\n\r\nWhen the application starts it uses pass1 + pass2 and connects to the database. \r\n\r\nThis solution has many advantages with out the downfalls mentioned.\r\n\r\nYou can safely put half the password in a command line arguments as reading it wont help you much unless you are the developer who has the other half of the password.\r\n\r\nThe DBA can also still change the second half of the password and the developer need not have to re-deploy the application. \r\n\r\nThe source code can also be semi public as reading it and the password will not give you application access.  \r\n\r\nYou can further improve the situation by adding restrictions on the IP address ranges the database will accept connections from. \r\n\r\n\r\n\r\n\r\n\r\n\r\n \r\n\r\n\r\n\r\n\r\n ","title":"Securing a password in a properties file","body":"<p>The poor mans compromise solution is to use a simplistic multi signature approach.</p>\n\n<p>For Example the DBA sets the applications database password to a 50 character random string. \n<strong>TAKqWskc4ncvKaJTyDcgAHq82X7tX6GfK2fc386bmNw3muknjU</strong></p>\n\n<p>He or she give half the password to the application developer who then hard codes it into the java binary.</p>\n\n<p><strong>private String pass1 = \"TAKqWskc4ncvKaJTyDcgAHq82\"</strong></p>\n\n<p>The other half of the password is passed as a command line argument. the DBA gives pass2 to the system support or admin person who either enters it a application start time or puts it into the automated application start up script.</p>\n\n<p>java -jar /myapplication.jar  -pass2 X7tX6GfK2fc386bmNw3muknjU</p>\n\n<p>When the application starts it uses pass1 + pass2 and connects to the database. </p>\n\n<p>This solution has many advantages with out the downfalls mentioned.</p>\n\n<p>You can safely put half the password in a command line arguments as reading it wont help you much unless you are the developer who has the other half of the password.</p>\n\n<p>The DBA can also still change the second half of the password and the developer need not have to re-deploy the application. </p>\n\n<p>The source code can also be semi public as reading it and the password will not give you application access.  </p>\n\n<p>You can further improve the situation by adding restrictions on the IP address ranges the database will accept connections from. </p>\n"},{"tags":[],"owner":{"account_id":3997984,"reputation":4081,"user_id":3294902,"display_name":"Kostas Kryptos"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1490021669,"creation_date":1450700933,"answer_id":34395731,"question_id":10306673,"body_markdown":"What about providing a custom N-Factor authentication mechanism?\r\n\r\nBefore combining available methods, let&#39;s assume we can perform the following:\r\n\r\n1) Hard-code inside the Java program\r\n\r\n2) Store in a .properties file\r\n\r\n3) Ask user to type password from command line\r\n\r\n4) Ask user to type password from a form\r\n\r\n5) Ask user to load a password-file from command line or a form\r\n\r\n6) Provide the password through network\r\n\r\n7) many alternatives (eg Draw A Secret, Fingerprint, IP-specific, bla bla bla)\r\n\r\n**1st option:** We could make things more complicated for an attacker by using obfuscation, but this is not considered a good countermeasure. A good coder can easily understand how it works if he/she can access the file. We could even export a per-user binary (or just the obfuscation part or key-part), so an attacker must have access to this user-specific file, not another distro.\r\nAgain, we should find a way to change passwords, eg by recompiling or using reflection to on-the-fly change class behavior.\r\n\r\n**2nd option:** We can store the password in the .properties file in an encrypted format, so it&#39;s not directly visible from an attacker (just like [jasypt][1] does). If we need a password manager we&#39;ll need a master password too which again should be stored somewhere - inside a .class file, the keystore, kernel, another file or even in memory - all have their pros and cons.  \r\nBut, now users will just edit the .properties file for password change.\r\n\r\n**3rd option:** type the password when running from command line e.g. `java -jar /myprogram.jar -p sdflhjkiweHIUHIU8976hyd`.\r\n\r\nThis doesn&#39;t require the password to be stored and will stay in memory. However, `history` commands and OS logs, may be your worst enemy here.\r\nTo change passwords on-the-fly, you will need to implement some methods (eg listen for console inputs, RMI, sockets, REST bla bla bla), but the password will always stay in memory.\r\n\r\nOne can even temporarily decrypt it only when required -&gt; then delete the decrypted, but always keep the encrypted password in memory. Unfortunately, the aforementioned method does not increase security against unauthorized in-memory access, because the person who achieves that, will probably have access to the algorithm, salt and any other secrets being used.\r\n\r\n**4th option:** provide the password from a custom form, rather than the command line. This will circumvent the problem of logging exposure.\r\n\r\n**5th option:** provide a file as a password stored previously on a another medium -&gt; then hard delete file. This will again circumvent the problem of logging exposure, plus no typing is required that could be shoulder-surfing stolen. When a change is required, provide another file, then delete again. \r\n\r\n**6th option:** again to avoid shoulder-surfing, one can implement an RMI method call, to provide the password (through an encrypted channel) from another device, eg via a mobile phone. However, you now need to protect your network channel and access to the other device.\r\n\r\nI would choose a combination of the above methods to achieve maximum security so one would have to access the .class files, the property file, logs, network channel, shoulder surfing, man in the middle, other files bla bla bla. This can be easily implemented using a XOR operation between all sub_passwords to produce the actual password.\r\n\r\nWe can&#39;t be protected from unauthorized in-memory access though, this can only be achieved by using some access-restricted hardware (eg smartcards, HSMs, SGX), where everything is computed into them, without anyone, even the legitimate owner being able to access decryption keys or algorithms. Again, one can steal this hardware too, there are reported [side-channel attacks][2] that may help attackers in key extraction and in some cases you need to trust another party (eg with SGX you trust Intel). Of course, situation may worsen when secure-enclave cloning (de-assembling) will be possible, but I guess this will take some years to be practical.\r\n\r\nAlso, one may consider a key sharing solution where the full key is split between different servers. However, upon reconstruction, the full key can be stolen. The only way to mitigate the aforementioned issue is by [secure multiparty computation][3].\r\n\r\nWe should always keep in mind that whatever the input method, we need to ensure we are not vulnerable from network sniffing (MITM attacks) and/or key-loggers.\r\n\r\n  [1]: http://www.jasypt.org/\r\n  [2]: https://www.theregister.co.uk/2017/03/07/eggheads_slip_a_note_under_intels_door_sgx_can_leak_crypto_keys/\r\n  [3]: https://crypto.stackexchange.com/questions/41470/how-to-securely-compute-aes-where-the-key-is-splitted-across-different-servers","title":"Securing a password in a properties file","body":"<p>What about providing a custom N-Factor authentication mechanism?</p>\n\n<p>Before combining available methods, let's assume we can perform the following:</p>\n\n<p>1) Hard-code inside the Java program</p>\n\n<p>2) Store in a .properties file</p>\n\n<p>3) Ask user to type password from command line</p>\n\n<p>4) Ask user to type password from a form</p>\n\n<p>5) Ask user to load a password-file from command line or a form</p>\n\n<p>6) Provide the password through network</p>\n\n<p>7) many alternatives (eg Draw A Secret, Fingerprint, IP-specific, bla bla bla)</p>\n\n<p><strong>1st option:</strong> We could make things more complicated for an attacker by using obfuscation, but this is not considered a good countermeasure. A good coder can easily understand how it works if he/she can access the file. We could even export a per-user binary (or just the obfuscation part or key-part), so an attacker must have access to this user-specific file, not another distro.\nAgain, we should find a way to change passwords, eg by recompiling or using reflection to on-the-fly change class behavior.</p>\n\n<p><strong>2nd option:</strong> We can store the password in the .properties file in an encrypted format, so it's not directly visible from an attacker (just like <a href=\"http://www.jasypt.org/\" rel=\"noreferrer\">jasypt</a> does). If we need a password manager we'll need a master password too which again should be stored somewhere - inside a .class file, the keystore, kernel, another file or even in memory - all have their pros and cons.<br>\nBut, now users will just edit the .properties file for password change.</p>\n\n<p><strong>3rd option:</strong> type the password when running from command line e.g. <code>java -jar /myprogram.jar -p sdflhjkiweHIUHIU8976hyd</code>.</p>\n\n<p>This doesn't require the password to be stored and will stay in memory. However, <code>history</code> commands and OS logs, may be your worst enemy here.\nTo change passwords on-the-fly, you will need to implement some methods (eg listen for console inputs, RMI, sockets, REST bla bla bla), but the password will always stay in memory.</p>\n\n<p>One can even temporarily decrypt it only when required -> then delete the decrypted, but always keep the encrypted password in memory. Unfortunately, the aforementioned method does not increase security against unauthorized in-memory access, because the person who achieves that, will probably have access to the algorithm, salt and any other secrets being used.</p>\n\n<p><strong>4th option:</strong> provide the password from a custom form, rather than the command line. This will circumvent the problem of logging exposure.</p>\n\n<p><strong>5th option:</strong> provide a file as a password stored previously on a another medium -> then hard delete file. This will again circumvent the problem of logging exposure, plus no typing is required that could be shoulder-surfing stolen. When a change is required, provide another file, then delete again. </p>\n\n<p><strong>6th option:</strong> again to avoid shoulder-surfing, one can implement an RMI method call, to provide the password (through an encrypted channel) from another device, eg via a mobile phone. However, you now need to protect your network channel and access to the other device.</p>\n\n<p>I would choose a combination of the above methods to achieve maximum security so one would have to access the .class files, the property file, logs, network channel, shoulder surfing, man in the middle, other files bla bla bla. This can be easily implemented using a XOR operation between all sub_passwords to produce the actual password.</p>\n\n<p>We can't be protected from unauthorized in-memory access though, this can only be achieved by using some access-restricted hardware (eg smartcards, HSMs, SGX), where everything is computed into them, without anyone, even the legitimate owner being able to access decryption keys or algorithms. Again, one can steal this hardware too, there are reported <a href=\"https://www.theregister.co.uk/2017/03/07/eggheads_slip_a_note_under_intels_door_sgx_can_leak_crypto_keys/\" rel=\"noreferrer\">side-channel attacks</a> that may help attackers in key extraction and in some cases you need to trust another party (eg with SGX you trust Intel). Of course, situation may worsen when secure-enclave cloning (de-assembling) will be possible, but I guess this will take some years to be practical.</p>\n\n<p>Also, one may consider a key sharing solution where the full key is split between different servers. However, upon reconstruction, the full key can be stolen. The only way to mitigate the aforementioned issue is by <a href=\"https://crypto.stackexchange.com/questions/41470/how-to-securely-compute-aes-where-the-key-is-splitted-across-different-servers\">secure multiparty computation</a>.</p>\n\n<p>We should always keep in mind that whatever the input method, we need to ensure we are not vulnerable from network sniffing (MITM attacks) and/or key-loggers.</p>\n"},{"tags":[],"owner":{"account_id":1686882,"reputation":1183,"user_id":1549977,"accept_rate":86,"display_name":"Benjamin Marwell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680793397,"creation_date":1465551438,"answer_id":37744873,"question_id":10306673,"body_markdown":"Actually, this is a duplicate of https://stackoverflow.com/questions/1132567/encrypt-password-in-configuration-files.\r\n\r\nThe best solution I found so far is in this answer: https://stackoverflow.com/a/1133815/1549977\r\n\r\nPros: Password is saved a a char array, not as a string. It&#39;s still not good, but better than anything else.","title":"Securing a password in a properties file","body":"<p>Actually, this is a duplicate of <a href=\"https://stackoverflow.com/questions/1132567/encrypt-password-in-configuration-files\">Encrypt password in configuration files</a>.</p>\n<p>The best solution I found so far is in this answer: <a href=\"https://stackoverflow.com/a/1133815/1549977\">https://stackoverflow.com/a/1133815/1549977</a></p>\n<p>Pros: Password is saved a a char array, not as a string. It's still not good, but better than anything else.</p>\n"}],"owner":{"account_id":54172,"reputation":3040,"user_id":162056,"accept_rate":79,"display_name":"daramasala"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":167105,"favorite_count":0,"down_vote_count":0,"up_vote_count":76,"closed_date":1505764126,"accepted_answer_id":10307724,"answer_count":4,"score":76,"last_activity_date":1680793397,"creation_date":1335304892,"question_id":10306673,"body_markdown":"I have a java application that connects to a database.  \r\nThe user name and password for the database are stored in a properties file.  \r\nWhat is the common practice to avoid storing the password in cleartext in the properties file while still retaining the option to let the user change it?  \r\nThe main motivation here is to prevent someone looking over the admin&#39;s shoulder and seeing the password while the admin is editing the properties file.  \r\nI read [here](https://stackoverflow.com/q/4155187/162056) that there&#39;s a built in way to do it in C#.  \r\nKnowing java, I don&#39;t expect to find a built in solution but I&#39;d like to hear what other people are doing.  \r\nIf I don&#39;t find any good choice then I am probably going to encrypt it with a constant password that will be kept in the code. But I&#39;d hate to do it this way because it feels wrong.\r\n\r\n**Edit Dec 12th 2012**\r\nLooks like there is no magic and I must store the password in the code or something similar.\r\nAt the end we implemented something very similar to what Jasypt that was mentioned in one of the answers does.\r\nSo I&#39;m accepting the Jasypt answer because it is the closest thing to a definite answer.","title":"Securing a password in a properties file","body":"<p>I have a java application that connects to a database.<br>\nThe user name and password for the database are stored in a properties file.<br>\nWhat is the common practice to avoid storing the password in cleartext in the properties file while still retaining the option to let the user change it?<br>\nThe main motivation here is to prevent someone looking over the admin's shoulder and seeing the password while the admin is editing the properties file.<br>\nI read <a href=\"https://stackoverflow.com/q/4155187/162056\">here</a> that there's a built in way to do it in C#.<br>\nKnowing java, I don't expect to find a built in solution but I'd like to hear what other people are doing.<br>\nIf I don't find any good choice then I am probably going to encrypt it with a constant password that will be kept in the code. But I'd hate to do it this way because it feels wrong.</p>\n\n<p><strong>Edit Dec 12th 2012</strong>\nLooks like there is no magic and I must store the password in the code or something similar.\nAt the end we implemented something very similar to what Jasypt that was mentioned in one of the answers does.\nSo I'm accepting the Jasypt answer because it is the closest thing to a definite answer.</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":413650,"reputation":1002,"user_id":787418,"accept_rate":56,"display_name":"csyperski"},"score":0,"creation_date":1584989135,"post_id":60819378,"comment_id":107606110,"body_markdown":"You need to provide more information like Spring boot version, Java version, the command you are attempting to run, any output you do get.  There really isn&#39;t enough information to assist you in your question.","body":"You need to provide more information like Spring boot version, Java version, the command you are attempting to run, any output you do get.  There really isn&#39;t enough information to assist you in your question."}],"answers":[{"tags":[],"owner":{"account_id":3993086,"reputation":91,"user_id":3291361,"display_name":"user3291361"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1584987405,"creation_date":1584987405,"answer_id":60819391,"question_id":60819378,"body_markdown":"    public static void main(String[] args) {\r\n            try {\r\n                SpringApplication app = new SpringApplication(YourClass.class);\r\n                app.run(args);\r\n            } catch(Throwable ex) {\r\n                ex.printStackTrace();\r\n            }\r\n    }\r\n\r\nWith this, I was able to see the full error in the logs. Hope this helps.","title":"Process finished with exit code 1 Spring Boot Intellij no other logs","body":"<pre><code>public static void main(String[] args) {\n        try {\n            SpringApplication app = new SpringApplication(YourClass.class);\n            app.run(args);\n        } catch(Throwable ex) {\n            ex.printStackTrace();\n        }\n}\n</code></pre>\n\n<p>With this, I was able to see the full error in the logs. Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":9240537,"reputation":147,"user_id":6863958,"display_name":"Jos&#233;-Alberto Gilberte Le&#243;n"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680791955,"creation_date":1680791955,"answer_id":75950799,"question_id":60819378,"body_markdown":"If you have an application.yml with bad syntax, you can obtain the error. Review your application.yml or put the code above to have more information about the exception.","title":"Process finished with exit code 1 Spring Boot Intellij no other logs","body":"<p>If you have an application.yml with bad syntax, you can obtain the error. Review your application.yml or put the code above to have more information about the exception.</p>\n"}],"owner":{"account_id":3993086,"reputation":91,"user_id":3291361,"display_name":"user3291361"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4235,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1680791955,"creation_date":1584987382,"question_id":60819378,"body_markdown":"I see no logs in my console\r\n/Library/Java/JavaVirtualMachines/adoptopenjdk-11.jdk/Contents/Home/bin/java...\r\n\r\nProcess finished with exit code 1","title":"Process finished with exit code 1 Spring Boot Intellij no other logs","body":"<p>I see no logs in my console\n/Library/Java/JavaVirtualMachines/adoptopenjdk-11.jdk/Contents/Home/bin/java...</p>\n\n<p>Process finished with exit code 1</p>\n"},{"tags":["java","android","telephony"],"comments":[{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1680802761,"post_id":75950777,"comment_id":133963192,"body_markdown":"[There is no official way to do this](https://stackoverflow.com/a/10678019/16653700).","body":"<a href=\"https://stackoverflow.com/a/10678019/16653700\">There is no official way to do this</a>."}],"owner":{"account_id":5600321,"reputation":322,"user_id":4447899,"accept_rate":50,"display_name":"user4447899"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680791845,"creation_date":1680791845,"question_id":75950777,"body_markdown":"I am starting a call in android java using an intent \r\nIntent callIntent = new Intent(Intent.ACTION_CALL);\r\n\r\nHow can I programmatically end this call","title":"how can I programmatically end a call in android java which was started with an intent","body":"<p>I am starting a call in android java using an intent\nIntent callIntent = new Intent(Intent.ACTION_CALL);</p>\n<p>How can I programmatically end this call</p>\n"},{"tags":["java","generics","treeset"],"answers":[{"tags":[],"owner":{"account_id":357343,"reputation":54520,"user_id":697449,"accept_rate":82,"display_name":"Paul Bellora"},"down_vote_count":0,"up_vote_count":33,"is_accepted":true,"score":33,"last_activity_date":1522368159,"creation_date":1355559547,"answer_id":13890563,"question_id":13890542,"body_markdown":"`TreeSet` is implemented that way because you can [alternatively provide][1] a [`Comparator`][2], in which case the elements don&#39;t need to be [`Comparable`][3]. The only way to support both behaviors without splitting the implementation into multiple classes was to include runtime checks - this was simply a design decision by the author(s) of that class.\r\n\r\nExposing factory methods for `TreeSet` instead of public constructors would&#39;ve been a way to maintain compile time checks using stricter generic type constraints, but that would&#39;ve been a break from the core collections API&#39;s convention of exposing public no-arg and copy constructors for its implementation classes. As you noted in your comment, [Guava][4] goes the factory route with its collections and IMHO is better off for it.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/TreeSet.html#TreeSet-java.util.Comparator-\r\n  [2]: http://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html\r\n  [3]: http://docs.oracle.com/javase/8/docs/api/java/lang/Comparable.html\r\n  [4]: https://github.com/google/guava","title":"Creating a TreeSet with a non-Comparable class: why a run-time exception, rather than compile-time error?","body":"<p><code>TreeSet</code> is implemented that way because you can <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/TreeSet.html#TreeSet-java.util.Comparator-\" rel=\"noreferrer\">alternatively provide</a> a <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html\" rel=\"noreferrer\"><code>Comparator</code></a>, in which case the elements don't need to be <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/Comparable.html\" rel=\"noreferrer\"><code>Comparable</code></a>. The only way to support both behaviors without splitting the implementation into multiple classes was to include runtime checks - this was simply a design decision by the author(s) of that class.</p>\n\n<p>Exposing factory methods for <code>TreeSet</code> instead of public constructors would've been a way to maintain compile time checks using stricter generic type constraints, but that would've been a break from the core collections API's convention of exposing public no-arg and copy constructors for its implementation classes. As you noted in your comment, <a href=\"https://github.com/google/guava\" rel=\"noreferrer\">Guava</a> goes the factory route with its collections and IMHO is better off for it.</p>\n"},{"tags":[],"owner":{"account_id":2169094,"reputation":87,"user_id":2377645,"display_name":"Ivan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680791794,"creation_date":1680791794,"answer_id":75950772,"question_id":13890542,"body_markdown":"You can make a type-safe wrapper for TreeSet:\r\n```\r\npublic class TypeSafeTreeSet&lt;T extends Comparable&lt;? super T&gt;&gt; extends TreeSet&lt;T&gt; {\r\n}\r\n```","title":"Creating a TreeSet with a non-Comparable class: why a run-time exception, rather than compile-time error?","body":"<p>You can make a type-safe wrapper for TreeSet:</p>\n<pre><code>public class TypeSafeTreeSet&lt;T extends Comparable&lt;? super T&gt;&gt; extends TreeSet&lt;T&gt; {\n}\n</code></pre>\n"}],"owner":{"account_id":876126,"reputation":348,"user_id":925735,"accept_rate":50,"display_name":"uscjeremy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5452,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":13890563,"answer_count":2,"score":16,"last_activity_date":1680791794,"creation_date":1355559354,"question_id":13890542,"body_markdown":"If I create an arbitrary class that does not implement Comparable, and try to use it as a treeset, it throws an exception at run time when an object is inserted:\r\n\r\n    public class Foo {\r\n    }\r\n\r\n    public TreeSet&lt;Foo&gt; fooSet = new TreeSet&lt;Foo&gt;();\r\n    fooSet.add(new Foo()); // Throws a ClassCastException exception here: Foo is not comparable\r\n\r\nI&#39;m no Java expert, but something about this seemed dynamically typed (ala Python) in a way I wasn&#39;t expecting.  Is there no way for TreeSet&#39;s implementation to specify that its generic type argument must implement Comparable so that this can be caught at compile-time?  Non-generic functions can take interfaces as arguments; is the same not possible with generics?\r\n","title":"Creating a TreeSet with a non-Comparable class: why a run-time exception, rather than compile-time error?","body":"<p>If I create an arbitrary class that does not implement Comparable, and try to use it as a treeset, it throws an exception at run time when an object is inserted:</p>\n\n<pre><code>public class Foo {\n}\n\npublic TreeSet&lt;Foo&gt; fooSet = new TreeSet&lt;Foo&gt;();\nfooSet.add(new Foo()); // Throws a ClassCastException exception here: Foo is not comparable\n</code></pre>\n\n<p>I'm no Java expert, but something about this seemed dynamically typed (ala Python) in a way I wasn't expecting.  Is there no way for TreeSet's implementation to specify that its generic type argument must implement Comparable so that this can be caught at compile-time?  Non-generic functions can take interfaces as arguments; is the same not possible with generics?</p>\n"},{"tags":["java","android","firebase","google-cloud-firestore","firebase-storage"],"comments":[{"owner":{"account_id":8964121,"reputation":12195,"user_id":6740698,"display_name":"Xenolion"},"score":0,"creation_date":1596910974,"post_id":63318634,"comment_id":111965452,"body_markdown":"you real have a lot of problems in the code: onSuccess method does not do anything there. First: you have made a map but you have added PICK_IMAGE_REQUEST which is just an integer &quot;71&quot;. Second. The app that you have made you have not used it all. You need a lot of code fix first.","body":"you real have a lot of problems in the code: onSuccess method does not do anything there. First: you have made a map but you have added PICK_IMAGE_REQUEST which is just an integer &quot;71&quot;. Second. The app that you have made you have not used it all. You need a lot of code fix first."}],"answers":[{"tags":[],"owner":{"account_id":426109,"reputation":302012,"user_id":807126,"display_name":"Doug Stevenson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1596910492,"creation_date":1596910492,"answer_id":63318790,"question_id":63318634,"body_markdown":"Your code doesn&#39;t actually write anything to the DocumentReference you created.  You will need a call to `set()`:\r\n\r\n```\r\nDocumentReference documentReference = fStore.collection(&quot;users&quot;).document(UID);\r\ndocumentReference.set(...)\r\n```\r\n\r\nYou will need to pass an object or Map to set to tell it what to store in the document, as illustrated in the [documentation][1].\r\n\r\n\r\n  [1]: https://firebase.google.com/docs/firestore/manage-data/add-data#set_a_document","title":"How to insert image URL into firestore database after uploading an image in android studio?","body":"<p>Your code doesn't actually write anything to the DocumentReference you created.  You will need a call to <code>set()</code>:</p>\n<pre><code>DocumentReference documentReference = fStore.collection(&quot;users&quot;).document(UID);\ndocumentReference.set(...)\n</code></pre>\n<p>You will need to pass an object or Map to set to tell it what to store in the document, as illustrated in the <a href=\"https://firebase.google.com/docs/firestore/manage-data/add-data#set_a_document\" rel=\"nofollow noreferrer\">documentation</a>.</p>\n"},{"tags":[],"owner":{"account_id":10751207,"reputation":84,"user_id":7910598,"display_name":"Oscar Alejandro Alvarez"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1596911076,"creation_date":1596911076,"answer_id":63318878,"question_id":63318634,"body_markdown":"The file path cannot be used like that, as a reference to download an image. Instead you need to get a download url that is provided by firebase, change your code like this:\r\n\r\n   \r\n\r\n     StorageReference ref = storageReference.child(&quot;Users Profile/&quot; + UUID.randomUUID().toString());\r\n            UploadTask uploadTask = ref.putFile(filePath);\r\n    \r\n            Task&lt;Uri&gt; urlTask = uploadTask.continueWithTask(new Continuation&lt;UploadTask.TaskSnapshot, Task&lt;Uri&gt;&gt;() {\r\n                @Override\r\n                public Task&lt;Uri&gt; then(@NonNull Task&lt;UploadTask.TaskSnapshot&gt; task) throws Exception {\r\n                    if (task.isSuccessful()) {\r\n                        //here the upload of the image finish\r\n                    }\r\n    \r\n                    // Continue the task to get a download url\r\n                    return ref.getDownloadUrl();\r\n                }\r\n            }).addOnCompleteListener(new OnCompleteListener&lt;Uri&gt;() {\r\n                @Override\r\n                public void onComplete(@NonNull Task&lt;Uri&gt; task) {\r\n                    if (task.isSuccessful()) {\r\n                        Uri downloadUri = task.getResult(); //this is the download url that you need to pass to your database\r\n                        //Pass the url to your reference\r\n                        UID = fAuth.getCurrentUser().getUid();\r\n                        DocumentReference documentReference = fStore.collection(&quot;users&quot;).document(UID);\r\n    documentReference.update(&quot;profileImage&quot;, downloadUri);\r\n                        Toast.makeText(ProfileActivity.this, &quot;Uploaded&quot;, Toast.LENGTH_SHORT).show();\r\n                    } else {\r\n                        / Handle failures\r\n                        // ...\r\n                    }\r\n                }\r\n            });\r\nYou can see in more detail here: https://firebase.google.com/docs/storage/android/upload-files#java_1","title":"How to insert image URL into firestore database after uploading an image in android studio?","body":"<p>The file path cannot be used like that, as a reference to download an image. Instead you need to get a download url that is provided by firebase, change your code like this:</p>\n<pre><code> StorageReference ref = storageReference.child(&quot;Users Profile/&quot; + UUID.randomUUID().toString());\n        UploadTask uploadTask = ref.putFile(filePath);\n\n        Task&lt;Uri&gt; urlTask = uploadTask.continueWithTask(new Continuation&lt;UploadTask.TaskSnapshot, Task&lt;Uri&gt;&gt;() {\n            @Override\n            public Task&lt;Uri&gt; then(@NonNull Task&lt;UploadTask.TaskSnapshot&gt; task) throws Exception {\n                if (task.isSuccessful()) {\n                    //here the upload of the image finish\n                }\n\n                // Continue the task to get a download url\n                return ref.getDownloadUrl();\n            }\n        }).addOnCompleteListener(new OnCompleteListener&lt;Uri&gt;() {\n            @Override\n            public void onComplete(@NonNull Task&lt;Uri&gt; task) {\n                if (task.isSuccessful()) {\n                    Uri downloadUri = task.getResult(); //this is the download url that you need to pass to your database\n                    //Pass the url to your reference\n                    UID = fAuth.getCurrentUser().getUid();\n                    DocumentReference documentReference = fStore.collection(&quot;users&quot;).document(UID);\ndocumentReference.update(&quot;profileImage&quot;, downloadUri);\n                    Toast.makeText(ProfileActivity.this, &quot;Uploaded&quot;, Toast.LENGTH_SHORT).show();\n                } else {\n                    / Handle failures\n                    // ...\n                }\n            }\n        });\n</code></pre>\n<p>You can see in more detail here: <a href=\"https://firebase.google.com/docs/storage/android/upload-files#java_1\" rel=\"nofollow noreferrer\">https://firebase.google.com/docs/storage/android/upload-files#java_1</a></p>\n"},{"tags":[],"owner":{"account_id":19806851,"reputation":1,"user_id":14506622,"display_name":"parth tagalpallewar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680791458,"creation_date":1680454635,"answer_id":75913411,"question_id":63318634,"body_markdown":"```\r\nstorageRef.child(path).getDownloadUrl().addOnSuccessListener(new OnSuccessListener&lt;Uri&gt;() {\r\n        @Override\r\n        public void onSuccess(Uri uri) {\r\n            Glide.with(getApplicationContext()).load(uri.toString()).into(img);\r\n        }\r\n    });\r\n```","title":"How to insert image URL into firestore database after uploading an image in android studio?","body":"<pre><code>storageRef.child(path).getDownloadUrl().addOnSuccessListener(new OnSuccessListener&lt;Uri&gt;() {\n        @Override\n        public void onSuccess(Uri uri) {\n            Glide.with(getApplicationContext()).load(uri.toString()).into(img);\n        }\n    });\n</code></pre>\n"}],"owner":{"display_name":"user14054849"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2218,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":63318878,"answer_count":3,"score":0,"last_activity_date":1680791458,"creation_date":1596909521,"question_id":63318634,"body_markdown":"I created an upload image functionality in my app. The image uploads and shows for the user and returns &quot;uploaded&quot; upon success. \r\n\r\nNow when the user closes the app and opens again it wont show the image because it is not stored in his unique database file in the field of profileImage.\r\n\r\nI am storing the image in the storage datastore.\r\n\r\nI want to store the same image url that is  being stored in the storage to be in the current users field in the database.\r\n\r\nBut the code I&#39;ve written still doesn&#39;t insert the required value of the image url.\r\n\r\nHere is my code so far:\r\n\r\n\r\n    FirebaseFirestore fStore;\r\n    FirebaseStorage storage;\r\n    StorageReference storageReference;\r\n    \r\n    FirebaseAuth fAuth;\r\n    String UID;\r\n    private Uri filePath;\r\n    private final int PICK_IMAGE_REQUEST = 71;\r\n    \r\n    \r\n    fAuth = FirebaseAuth.getInstance();\r\n    fStore = FirebaseFirestore.getInstance();\r\n    storage = FirebaseStorage.getInstance();\r\n    storageReference = storage.getReference();\r\n    \r\n    \r\n    \r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_profile);\r\n    \r\n        userImage = findViewById(R.id.profile_userImg);\r\n    \r\n        userImage.setOnClickListener(new View.OnClickListener() {\r\n            @RequiresApi(api = Build.VERSION_CODES.LOLLIPOP_MR1)\r\n            @Override\r\n            public void onClick(View view) {\r\n                chooseImage();\r\n            }\r\n        });\r\n    \r\n    }\r\n    \r\n    \r\n    \r\n    @RequiresApi(api = Build.VERSION_CODES.LOLLIPOP_MR1)\r\n    private void chooseImage() {\r\n        Intent intent = new Intent();\r\n        intent.setType(&quot;image/*&quot;);\r\n        intent.setAction(Intent.ACTION_GET_CONTENT);\r\n        startActivityForResult(Intent.createChooser(intent, &quot;Choose a Profile Image&quot;), PICK_IMAGE_REQUEST);\r\n    }\r\n    \r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, @androidx.annotation.Nullable Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n        if (requestCode == PICK_IMAGE_REQUEST &amp;&amp; resultCode == RESULT_OK &amp;&amp; data != null &amp;&amp; data.getData() != null) {\r\n    \r\n            filePath = data.getData();\r\n            try {\r\n                Bitmap bitmap = MediaStore.Images.Media.getBitmap(getContentResolver(), filePath);\r\n                userImage.setImageBitmap(bitmap);\r\n                if (filePath != null) {\r\n                    StorageReference ref = storageReference.child(&quot;Users Profile/&quot; + UUID.randomUUID().toString());\r\n                    ref.putFile(filePath).addOnSuccessListener(new OnSuccessListener &lt; UploadTask.TaskSnapshot &gt; () {\r\n                        @Override\r\n                        public void onSuccess(UploadTask.TaskSnapshot taskSnapshot) {\r\n                            UID = fAuth.getCurrentUser().getUid();\r\n                            DocumentReference documentReference = fStore.collection(&quot;users&quot;).document(UID);\r\n                            Map &lt; String, Object &gt; user = new HashMap &lt; &gt; ();\r\n                            user.put(&quot;profileImage&quot;, PICK_IMAGE_REQUEST);\r\n                            Toast.makeText(ProfileActivity.this, &quot;Uploaded&quot;, Toast.LENGTH_SHORT).show();\r\n                        }\r\n                    }).addOnFailureListener(new OnFailureListener() {\r\n                        @Override\r\n                        public void onFailure(@NonNull Exception e) {\r\n                            Toast.makeText(ProfileActivity.this, &quot;Failed&quot;, Toast.LENGTH_SHORT).show();\r\n                        }\r\n                    });\r\n    \r\n                }\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n","title":"How to insert image URL into firestore database after uploading an image in android studio?","body":"<p>I created an upload image functionality in my app. The image uploads and shows for the user and returns &quot;uploaded&quot; upon success.</p>\n<p>Now when the user closes the app and opens again it wont show the image because it is not stored in his unique database file in the field of profileImage.</p>\n<p>I am storing the image in the storage datastore.</p>\n<p>I want to store the same image url that is  being stored in the storage to be in the current users field in the database.</p>\n<p>But the code I've written still doesn't insert the required value of the image url.</p>\n<p>Here is my code so far:</p>\n<pre><code>FirebaseFirestore fStore;\nFirebaseStorage storage;\nStorageReference storageReference;\n\nFirebaseAuth fAuth;\nString UID;\nprivate Uri filePath;\nprivate final int PICK_IMAGE_REQUEST = 71;\n\n\nfAuth = FirebaseAuth.getInstance();\nfStore = FirebaseFirestore.getInstance();\nstorage = FirebaseStorage.getInstance();\nstorageReference = storage.getReference();\n\n\n\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_profile);\n\n    userImage = findViewById(R.id.profile_userImg);\n\n    userImage.setOnClickListener(new View.OnClickListener() {\n        @RequiresApi(api = Build.VERSION_CODES.LOLLIPOP_MR1)\n        @Override\n        public void onClick(View view) {\n            chooseImage();\n        }\n    });\n\n}\n\n\n\n@RequiresApi(api = Build.VERSION_CODES.LOLLIPOP_MR1)\nprivate void chooseImage() {\n    Intent intent = new Intent();\n    intent.setType(&quot;image/*&quot;);\n    intent.setAction(Intent.ACTION_GET_CONTENT);\n    startActivityForResult(Intent.createChooser(intent, &quot;Choose a Profile Image&quot;), PICK_IMAGE_REQUEST);\n}\n\n@Override\nprotected void onActivityResult(int requestCode, int resultCode, @androidx.annotation.Nullable Intent data) {\n    super.onActivityResult(requestCode, resultCode, data);\n    if (requestCode == PICK_IMAGE_REQUEST &amp;&amp; resultCode == RESULT_OK &amp;&amp; data != null &amp;&amp; data.getData() != null) {\n\n        filePath = data.getData();\n        try {\n            Bitmap bitmap = MediaStore.Images.Media.getBitmap(getContentResolver(), filePath);\n            userImage.setImageBitmap(bitmap);\n            if (filePath != null) {\n                StorageReference ref = storageReference.child(&quot;Users Profile/&quot; + UUID.randomUUID().toString());\n                ref.putFile(filePath).addOnSuccessListener(new OnSuccessListener &lt; UploadTask.TaskSnapshot &gt; () {\n                    @Override\n                    public void onSuccess(UploadTask.TaskSnapshot taskSnapshot) {\n                        UID = fAuth.getCurrentUser().getUid();\n                        DocumentReference documentReference = fStore.collection(&quot;users&quot;).document(UID);\n                        Map &lt; String, Object &gt; user = new HashMap &lt; &gt; ();\n                        user.put(&quot;profileImage&quot;, PICK_IMAGE_REQUEST);\n                        Toast.makeText(ProfileActivity.this, &quot;Uploaded&quot;, Toast.LENGTH_SHORT).show();\n                    }\n                }).addOnFailureListener(new OnFailureListener() {\n                    @Override\n                    public void onFailure(@NonNull Exception e) {\n                        Toast.makeText(ProfileActivity.this, &quot;Failed&quot;, Toast.LENGTH_SHORT).show();\n                    }\n                });\n\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","hibernate","jpa"],"owner":{"account_id":474317,"reputation":45,"user_id":883922,"display_name":"wtomko"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1680791093,"creation_date":1680787626,"question_id":75950097,"body_markdown":"Hibernate is trying to guess FieldBridge when column is not indexed.\r\n\r\nI have entity A with such filed.\r\n\r\n```\r\n@Embedded\r\n@AttributeOverrides(@AttributeOverride(name = &quot;value&quot;, column = @Column(name = &quot;TYPE&quot;)))\r\nprivate TypeValue type;\r\n\r\n```\r\n\r\n`TypeValue identificationType` is a `ValueObject`\r\n\r\n```\r\n@Embeddable\r\npublic class TypeValue {\r\n    private String value;\r\n\r\n\r\n\tpublic TypeValue () {\r\n\t}\r\n\r\n\tpublic TypeValue (String value) {\r\n\t\tthis.value = value;\r\n\t}\r\n\r\n\tpublic String getValue() {\r\n        return value;\r\n    }\r\n\r\n    public void setValue(String value) {\r\n        this.value =  value;\r\n    }\r\n}\r\n```\r\n\r\nFor some reason I got this error:\r\nHSEARCH000135: Unable to guess FieldBridge for type...\r\n\r\nHibernateVersion: 5.6.3.Final\r\n\r\n\r\n\r\n   ","title":"Got HSEARCH000135: Unable to guess FieldBridge","body":"<p>Hibernate is trying to guess FieldBridge when column is not indexed.</p>\n<p>I have entity A with such filed.</p>\n<pre><code>@Embedded\n@AttributeOverrides(@AttributeOverride(name = &quot;value&quot;, column = @Column(name = &quot;TYPE&quot;)))\nprivate TypeValue type;\n\n</code></pre>\n<p><code>TypeValue identificationType</code> is a <code>ValueObject</code></p>\n<pre><code>@Embeddable\npublic class TypeValue {\n    private String value;\n\n\n    public TypeValue () {\n    }\n\n    public TypeValue (String value) {\n        this.value = value;\n    }\n\n    public String getValue() {\n        return value;\n    }\n\n    public void setValue(String value) {\n        this.value =  value;\n    }\n}\n</code></pre>\n<p>For some reason I got this error:\nHSEARCH000135: Unable to guess FieldBridge for type...</p>\n<p>HibernateVersion: 5.6.3.Final</p>\n"},{"tags":["java","weblogic12c"],"comments":[{"owner":{"account_id":23904234,"reputation":1928,"user_id":17902018,"display_name":"rikyeah"},"score":0,"creation_date":1645004881,"post_id":71002773,"comment_id":125752948,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":3747484,"reputation":3573,"user_id":3115822,"display_name":"Borja"},"score":0,"creation_date":1678451217,"post_id":71002773,"comment_id":133539485,"body_markdown":"Does this answer your question? [The server is invalid. Error occurred reading server credential. If the domain was recreated, the server instance in Eclipse must also be recreated](https://stackoverflow.com/questions/75279875/the-server-is-invalid-error-occurred-reading-server-credential-if-the-domain-w)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/75279875/the-server-is-invalid-error-occurred-reading-server-credential-if-the-domain-w\">The server is invalid. Error occurred reading server credential. If the domain was recreated, the server instance in Eclipse must also be recreated</a>"}],"answers":[{"tags":[],"owner":{"account_id":7684903,"reputation":401,"user_id":5823051,"display_name":"Hector Gardu&#241;o Real"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648681077,"creation_date":1648681077,"answer_id":71685035,"question_id":71002773,"body_markdown":"Try using Eclipse OEPE version https://www.oracle.com/tools/downloads/oepe-v12219-downloads.html","title":"Can&#39;t add weblogic 14.1.1.0. server to eclipse","body":"<p>Try using Eclipse OEPE version <a href=\"https://www.oracle.com/tools/downloads/oepe-v12219-downloads.html\" rel=\"nofollow noreferrer\">https://www.oracle.com/tools/downloads/oepe-v12219-downloads.html</a></p>\n"},{"tags":[],"owner":{"account_id":4431952,"reputation":13,"user_id":3608908,"display_name":"Leonardo Leite de Melo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680791069,"creation_date":1680791069,"answer_id":75950651,"question_id":71002773,"body_markdown":"I&#39;ve fixed it changing the JDK used by eclipse at eclipse.ini setting a SDK 11 and commenting -Dosgi.requiredJavaVersion=17.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gy0rb.png","title":"Can&#39;t add weblogic 14.1.1.0. server to eclipse","body":"<p>I've fixed it changing the JDK used by eclipse at eclipse.ini setting a SDK 11 and commenting -Dosgi.requiredJavaVersion=17.</p>\n<p><a href=\"https://i.stack.imgur.com/gy0rb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gy0rb.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":5777090,"reputation":1,"user_id":4616103,"display_name":"Leo lee"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4170,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1680791069,"creation_date":1644100719,"question_id":71002773,"body_markdown":"I am trying to integrate eclipse 2021-12 as Oracle WebLogic Server 14.1.1.0. Both are installed and working perfectly separately. When trying to integrate and add a new weblogic server I get the message: \r\n\r\n&gt; The server is invalid. Error occurred reading server credential. If the domain was recreated, the server instance in Eclipse must also be recreated. Required classpath for credential detection is missing. Detection is disabled.\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vAb69.png","title":"Can&#39;t add weblogic 14.1.1.0. server to eclipse","body":"<p>I am trying to integrate eclipse 2021-12 as Oracle WebLogic Server 14.1.1.0. Both are installed and working perfectly separately. When trying to integrate and add a new weblogic server I get the message:</p>\n<blockquote>\n<p>The server is invalid. Error occurred reading server credential. If the domain was recreated, the server instance in Eclipse must also be recreated. Required classpath for credential detection is missing. Detection is disabled.</p>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/vAb69.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vAb69.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","methods","naming-conventions"],"comments":[{"owner":{"account_id":14116,"reputation":39820,"user_id":28760,"accept_rate":93,"display_name":"Kiril"},"score":1,"creation_date":1314036016,"post_id":7151418,"comment_id":8578650,"body_markdown":"In my opinion the naming convention is not a &quot;law,&quot; so while you should try to start the method name with a verb, I don&#39;t see a reason why you can&#39;t start it with a noun if it&#39;s descriptive enough (`movingAverage` is quite descriptive). Don&#39;t forget that while people these days don&#39;t really complain about long method names, I&#39;d take `movingAverage` over `computeMovingAverage` any day. BTW, I can&#39;t think of a verb that&#39;s not generic, even more so when it comes to programming.","body":"In my opinion the naming convention is not a &quot;law,&quot; so while you should try to start the method name with a verb, I don&#39;t see a reason why you can&#39;t start it with a noun if it&#39;s descriptive enough (<code>movingAverage</code> is quite descriptive). Don&#39;t forget that while people these days don&#39;t really complain about long method names, I&#39;d take <code>movingAverage</code> over <code>computeMovingAverage</code> any day. BTW, I can&#39;t think of a verb that&#39;s not generic, even more so when it comes to programming."},{"owner":{"account_id":278210,"reputation":176444,"user_id":572670,"accept_rate":92,"display_name":"amit"},"score":1,"creation_date":1314036297,"post_id":7151418,"comment_id":8578751,"body_markdown":"even the native java methods don&#39;t follow blindly the &#39;first word is a verb&#39; convention. for instance `Collection#size()`, `Collection#toArray()`. I&#39;d say feel free to use `movingAverage()` if you feel it is clear enough [and no one might think it means something else].","body":"even the native java methods don&#39;t follow blindly the &#39;first word is a verb&#39; convention. for instance <code>Collection#size()</code>, <code>Collection#toArray()</code>. I&#39;d say feel free to use <code>movingAverage()</code> if you feel it is clear enough [and no one might think it means something else]."},{"owner":{"account_id":45934,"reputation":203649,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":2,"creation_date":1314045270,"post_id":7151418,"comment_id":8581216,"body_markdown":"@amit The standard Java library is not a good example, it is highly inconsistent - for example some classes have a `length()` method, others have a `getLength()` method, some even have getter and setter methods with the same name (for example `ByteBuffer.position()` to get the position and `ByteBuffer.position(int)` to set the position - I&#39;d discourage you to name your methods like this!).","body":"@amit The standard Java library is not a good example, it is highly inconsistent - for example some classes have a <code>length()</code> method, others have a <code>getLength()</code> method, some even have getter and setter methods with the same name (for example <code>ByteBuffer.position()</code> to get the position and <code>ByteBuffer.position(int)</code> to set the position - I&#39;d discourage you to name your methods like this!)."},{"owner":{"account_id":10258,"reputation":26460,"user_id":19276,"accept_rate":81,"display_name":"DJClayworth"},"score":4,"creation_date":1314046709,"post_id":7151418,"comment_id":8581641,"body_markdown":"@Link There is still useful information in the verb. computeMovingAverage would be used when you have to do the (possibly long) work of the calculation - getMovingAverage would imply merely retrieving the already-calculated value.","body":"@Link There is still useful information in the verb. computeMovingAverage would be used when you have to do the (possibly long) work of the calculation - getMovingAverage would imply merely retrieving the already-calculated value."},{"owner":{"account_id":260473,"reputation":48258,"user_id":544050,"accept_rate":95,"display_name":"PengOne"},"score":0,"creation_date":1314048479,"post_id":7151418,"comment_id":8582091,"body_markdown":"@DJClayworth That&#39;s a really good point. Combining that with Evan&#39;s verb summary gives me a great guideline. Thanks.","body":"@DJClayworth That&#39;s a really good point. Combining that with Evan&#39;s verb summary gives me a great guideline. Thanks."}],"answers":[{"tags":[],"owner":{"account_id":223869,"reputation":54820,"user_id":483349,"accept_rate":67,"display_name":"Evan Mulawski"},"down_vote_count":0,"up_vote_count":46,"is_accepted":true,"score":46,"last_activity_date":1495655900,"creation_date":1314036297,"answer_id":7151581,"question_id":7151418,"body_markdown":"I usually ask myself:\r\n\r\n*What is this method doing?*\r\n\r\nThe answer dictates what the method should be called. It is completely independent of the programmer, of course.\r\n\r\n**Note:** If you can&#39;t *succinctly* describe what the method is doing, it&#39;s probably doing too much and should be split up.\r\n\r\nChoosing your method&#39;s verb:\r\n\r\n - Performing calculation(s): **calculate**\r\n - Retrieving data: **get** or **retrieve**\r\n - Mutating data: **set** or **change**\r\n - Deleting data: **delete** or **remove**\r\n - Converting: **convert**\r\n - Initiating an action: **start** or **initiate**\r\n - Stopping an action: **stop** or **cancel**\r\n\r\nNow, not all methods begin with a verb; but they really don&#39;t need to. If you read:\r\n\r\n    ... myString.length();\r\n\r\nor\r\n\r\n    ... myArray.size();\r\n\r\nyou know exactly what is going on - no verb required. This is true for many class methods higher up in the Java hierarchy; Collections, Math, etc. As long as the name accurately communicates what the method does, it&#39;s fine.","title":"determining which verb to use for method names in Java","body":"<p>I usually ask myself:</p>\n\n<p><em>What is this method doing?</em></p>\n\n<p>The answer dictates what the method should be called. It is completely independent of the programmer, of course.</p>\n\n<p><strong>Note:</strong> If you can't <em>succinctly</em> describe what the method is doing, it's probably doing too much and should be split up.</p>\n\n<p>Choosing your method's verb:</p>\n\n<ul>\n<li>Performing calculation(s): <strong>calculate</strong></li>\n<li>Retrieving data: <strong>get</strong> or <strong>retrieve</strong></li>\n<li>Mutating data: <strong>set</strong> or <strong>change</strong></li>\n<li>Deleting data: <strong>delete</strong> or <strong>remove</strong></li>\n<li>Converting: <strong>convert</strong></li>\n<li>Initiating an action: <strong>start</strong> or <strong>initiate</strong></li>\n<li>Stopping an action: <strong>stop</strong> or <strong>cancel</strong></li>\n</ul>\n\n<p>Now, not all methods begin with a verb; but they really don't need to. If you read:</p>\n\n<pre><code>... myString.length();\n</code></pre>\n\n<p>or</p>\n\n<pre><code>... myArray.size();\n</code></pre>\n\n<p>you know exactly what is going on - no verb required. This is true for many class methods higher up in the Java hierarchy; Collections, Math, etc. As long as the name accurately communicates what the method does, it's fine.</p>\n"},{"tags":[],"owner":{"account_id":535414,"reputation":765,"user_id":904933,"display_name":"David Andersson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1314036596,"creation_date":1314036596,"answer_id":7151648,"question_id":7151418,"body_markdown":"(*My opinion*) You don&#39;t need a verb in the method name if the object has no state, like a math-library. Compare *computeSquareRoot*(x) and *getJoin*(listOfStrings) with *squareRoot*(x) and *join*(listOfStrings).","title":"determining which verb to use for method names in Java","body":"<p>(<em>My opinion</em>) You don't need a verb in the method name if the object has no state, like a math-library. Compare <em>computeSquareRoot</em>(x) and <em>getJoin</em>(listOfStrings) with <em>squareRoot</em>(x) and <em>join</em>(listOfStrings).</p>\n"},{"tags":[],"owner":{"account_id":235324,"reputation":4269,"user_id":502059,"accept_rate":79,"display_name":"suat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1314037450,"creation_date":1314037450,"answer_id":7151808,"question_id":7151418,"body_markdown":"As you said and as we can see in the answers, the verbs used at the beginning of method names are almost the same verbs. I think, if same amount of effort is spent for writing related documentation, methods become much more understandable and integrable :) \r\n\r\nI also realized after reading the question, most of the methods I write start with **get**, **retrieve**, **create**. So again it seems verb selection does not matter so much.\r\n\r\nBest","title":"determining which verb to use for method names in Java","body":"<p>As you said and as we can see in the answers, the verbs used at the beginning of method names are almost the same verbs. I think, if same amount of effort is spent for writing related documentation, methods become much more understandable and integrable :) </p>\n\n<p>I also realized after reading the question, most of the methods I write start with <strong>get</strong>, <strong>retrieve</strong>, <strong>create</strong>. So again it seems verb selection does not matter so much.</p>\n\n<p>Best</p>\n"},{"tags":[],"owner":{"account_id":97634,"reputation":769,"user_id":264727,"accept_rate":83,"display_name":"outmind"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680778388,"creation_date":1314038036,"answer_id":7151912,"question_id":7151418,"body_markdown":"I think to find anything which could be a &quot;solution&quot; for the problem we should first extract criteria which play any role in choosing name, like:\r\n\r\n*  readableness (trivial: `getValue` instead of `transferValueFromThisObjectToYou`)\r\n*  convenience (trivial: `getCoordValue` instead of )\r\n*  semantics of the method (get is not the same as calculate)\r\n*  context of usage (in IDEs I usually type `aaa.get_` and press Ctrl+Space to check what I can get from the object)\r\n*  code guides (or other &quot;guides&quot; like Java Bean convention which force you to use some names)\r\n\r\n...\r\n\r\nHowever as suat said - better spend some efforts on a documentation for your methods.","title":"determining which verb to use for method names in Java","body":"<p>I think to find anything which could be a &quot;solution&quot; for the problem we should first extract criteria which play any role in choosing name, like:</p>\n<ul>\n<li>readableness (trivial: <code>getValue</code> instead of <code>transferValueFromThisObjectToYou</code>)</li>\n<li>convenience (trivial: <code>getCoordValue</code> instead of )</li>\n<li>semantics of the method (get is not the same as calculate)</li>\n<li>context of usage (in IDEs I usually type <code>aaa.get_</code> and press Ctrl+Space to check what I can get from the object)</li>\n<li>code guides (or other &quot;guides&quot; like Java Bean convention which force you to use some names)</li>\n</ul>\n<p>...</p>\n<p>However as suat said - better spend some efforts on a documentation for your methods.</p>\n"},{"tags":[],"owner":{"account_id":48192,"reputation":10791,"user_id":143069,"display_name":"ILMTitan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680791059,"creation_date":1314044984,"answer_id":7153237,"question_id":7151418,"body_markdown":"I don&#39;t think java method names should &quot;begin with a verb&quot;, I think they should describe the action. This often requires a verb, as verbs describe actions. Usually, they are important parts of the description (`getVar` and `setVar` mean totally different things). Occasionally, they add nothing to the description (can you think of anything that would operate on `movingAverage` besides get/calculate/generate?) and should be dropped. ","title":"determining which verb to use for method names in Java","body":"<p>I don't think java method names should &quot;begin with a verb&quot;, I think they should describe the action. This often requires a verb, as verbs describe actions. Usually, they are important parts of the description (<code>getVar</code> and <code>setVar</code> mean totally different things). Occasionally, they add nothing to the description (can you think of anything that would operate on <code>movingAverage</code> besides get/calculate/generate?) and should be dropped.</p>\n"},{"tags":[],"owner":{"account_id":9600113,"reputation":74,"user_id":7127962,"display_name":"Ricardo Montesinos"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1490722865,"creation_date":1490722865,"answer_id":43076371,"question_id":7151418,"body_markdown":"Do not forget to use this verbs &quot;is, has or can&quot; for **boolean** methods, such as: **is**On(), **is**Full(), and so on.","title":"determining which verb to use for method names in Java","body":"<p>Do not forget to use this verbs \"is, has or can\" for <strong>boolean</strong> methods, such as: <strong>is</strong>On(), <strong>is</strong>Full(), and so on.</p>\n"},{"tags":[],"owner":{"account_id":83658,"reputation":1362,"user_id":234391,"accept_rate":57,"display_name":"Cornel Masson"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1561117777,"creation_date":1561117777,"answer_id":56702884,"question_id":7151418,"body_markdown":"Regarding the use of `get` and `set` methods for property accessors *only*: the whole point of [information hiding][1] is that the user of an API (i.e. the calling code) should not need to know or depend on whether the property is stored or calculated on the fly. The implementation should be able to change at any time, as long as the API stays the same.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Information_hiding","title":"determining which verb to use for method names in Java","body":"<p>Regarding the use of <code>get</code> and <code>set</code> methods for property accessors <em>only</em>: the whole point of <a href=\"https://en.wikipedia.org/wiki/Information_hiding\" rel=\"nofollow noreferrer\">information hiding</a> is that the user of an API (i.e. the calling code) should not need to know or depend on whether the property is stored or calculated on the fly. The implementation should be able to change at any time, as long as the API stays the same.</p>\n"},{"tags":[],"owner":{"account_id":18590356,"reputation":708,"user_id":13547712,"display_name":"Gravity API"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1664729486,"creation_date":1633450563,"answer_id":69453993,"question_id":7151418,"body_markdown":"Updated Answer.\r\n\r\nThis kind of list already exists in Powershell. In order to get the list, run any powershell terminal (Windows/Linux/Mac) and run the command `Get-Verb`\r\n\r\n```none\r\nVerb        AliasPrefix Group          Description\r\n----        ----------- -----          -----------\r\nAdd         a           Common         Adds a resource to a container, or attaches an item to another item\r\nClear       cl          Common         Removes all the resources from a container but does not delete the container\r\nClose       cs          Common         Changes the state of a resource to make it inaccessible, unavailable, or unusable\r\nCopy        cp          Common         Copies a resource to another name or to another container\r\nEnter       et          Common         Specifies an action that allows the user to move into a resource\r\nExit        ex          Common         Sets the current environment or context to the most recently used context\r\nFind        fd          Common         Looks for an object in a container that is unknown, implied, optional, or specified\r\nFormat      f           Common         Arranges objects in a specified form or layout\r\nGet         g           Common         Specifies an action that retrieves a resource\r\nHide        h           Common         Makes a resource undetectable\r\nJoin        j           Common         Combines resources into one resource\r\nLock        lk          Common         Secures a resource\r\nMove        m           Common         Moves a resource from one location to another\r\nNew         n           Common         Creates a resource\r\nOpen        op          Common         Changes the state of a resource to make it accessible, available, or usable\r\nOptimize    om          Common         Increases the effectiveness of a resource\r\nPush        pu          Common         Adds an item to the top of a stack\r\nPop         pop         Common         Removes an item from the top of a stack\r\nRedo        re          Common         Resets a resource to the state that was undone\r\nRemove      r           Common         Deletes a resource from a container\r\nRename      rn          Common         Changes the name of a resource\r\nReset       rs          Common         Sets a resource back to its original state\r\nResize      rz          Common         Changes the size of a resource\r\nSearch      sr          Common         Creates a reference to a resource in a container\r\nSelect      sc          Common         Locates a resource in a container\r\nSet         s           Common         Replaces data on an existing resource or creates a resource that contains some data\r\nShow        sh          Common         Makes a resource visible to the user\r\nSkip        sk          Common         Bypasses one or more resources or points in a sequence\r\nSplit       sl          Common         Separates parts of a resource\r\nStep        st          Common         Moves to the next point or resource in a sequence\r\nSwitch      sw          Common         Specifies an action that alternates between two resources, such as to change between two locations, responsibilities, or states\r\nUndo        un          Common         Sets a resource to its previous state\r\nUnlock      uk          Common         Releases a resource that was locked\r\nWatch       wc          Common         Continually inspects or monitors a resource for changes\r\nConnect     cc          Communications Creates a link between a source and a destination\r\nDisconnect  dc          Communications Breaks the link between a source and a destination\r\nRead        rd          Communications Acquires information from a source\r\nReceive     rc          Communications Accepts information sent from a source\r\nSend        sd          Communications Delivers information to a destination\r\nWrite       wr          Communications Adds information to a target\r\nBackup      ba          Data           Stores data by replicating it\r\nCheckpoint  ch          Data           Creates a snapshot of the current state of the data or of its configuration\r\nCompare     cr          Data           Evaluates the data from one resource against the data from another resource\r\nCompress    cm          Data           Compacts the data of a resource\r\nConvert     cv          Data           Changes the data from one representation to another when the cmdlet supports bidirectional conversion or when the cmdlet supports conversion between multiple …\r\nConvertFrom cf          Data           Converts one primary type of input (the cmdlet noun indicates the input) to one or more supported output types\r\nConvertTo   ct          Data           Converts from one or more types of input to a primary output type (the cmdlet noun indicates the output type)\r\nDismount    dm          Data           Detaches a named entity from a location\r\nEdit        ed          Data           Modifies existing data by adding or removing content\r\nExpand      en          Data           Restores the data of a resource that has been compressed to its original state\r\nExport      ep          Data           Encapsulates the primary input into a persistent data store, such as a file, or into an interchange format\r\nGroup       gp          Data           Arranges or associates one or more resources\r\nImport      ip          Data           Creates a resource from data that is stored in a persistent data store (such as a file) or in an interchange format\r\nInitialize  in          Data           Prepares a resource for use, and sets it to a default state\r\nLimit       l           Data           Applies constraints to a resource\r\nMerge       mg          Data           Creates a single resource from multiple resources\r\nMount       mt          Data           Attaches a named entity to a location\r\nOut         o           Data           Sends data out of the environment\r\nPublish     pb          Data           Makes a resource available to others\r\nRestore     rr          Data           Sets a resource to a predefined state, such as a state set by Checkpoint\r\nSave        sv          Data           Preserves data to avoid loss\r\nSync        sy          Data           Assures that two or more resources are in the same state\r\nUnpublish   ub          Data           Makes a resource unavailable to others\r\nUpdate      ud          Data           Brings a resource up-to-date to maintain its state, accuracy, conformance, or compliance\r\nDebug       db          Diagnostic     Examines a resource to diagnose operational problems\r\nMeasure     ms          Diagnostic     Identifies resources that are consumed by a specified operation, or retrieves statistics about a resource\r\nPing        pi          Diagnostic     Use the Test verb\r\nRepair      rp          Diagnostic     Restores a resource to a usable condition\r\nResolve     rv          Diagnostic     Maps a shorthand representation of a resource to a more complete representation\r\nTest        t           Diagnostic     Verifies the operation or consistency of a resource\r\nTrace       tr          Diagnostic     Tracks the activities of a resource\r\nApprove     ap          Lifecycle      Confirms or agrees to the status of a resource or process\r\nAssert      as          Lifecycle      Affirms the state of a resource\r\nBuild       bd          Lifecycle      Creates an artifact (usually a binary or document) out of some set of input files (usually source code or declarative documents)\r\nComplete    cmp         Lifecycle      Concludes an operation\r\nConfirm     cn          Lifecycle      Acknowledges, verifies, or validates the state of a resource or process\r\nDeny        dn          Lifecycle      Refuses, objects, blocks, or opposes the state of a resource or process\r\nDeploy      dp          Lifecycle      Sends an application, website, or solution to a remote target[s] in such a way that a consumer of that solution can access it after deployment is complete\r\nDisable     d           Lifecycle      Configures a resource to an unavailable or inactive state\r\nEnable      e           Lifecycle      Configures a resource to an available or active state\r\nInstall     is          Lifecycle      Places a resource in a location, and optionally initializes it\r\nInvoke      i           Lifecycle      Performs an action, such as running a command or a method\r\nRegister    rg          Lifecycle      Creates an entry for a resource in a repository such as a database\r\nRequest     rq          Lifecycle      Asks for a resource or asks for permissions\r\nRestart     rt          Lifecycle      Stops an operation and then starts it again\r\nResume      ru          Lifecycle      Starts an operation that has been suspended\r\nStart       sa          Lifecycle      Initiates an operation\r\nStop        sp          Lifecycle      Discontinues an activity\r\nSubmit      sb          Lifecycle      Presents a resource for approval\r\nSuspend     ss          Lifecycle      Pauses an activity\r\nUninstall   us          Lifecycle      Removes a resource from an indicated location\r\nUnregister  ur          Lifecycle      Removes the entry for a resource from a repository\r\nWait        w           Lifecycle      Pauses an operation until a specified event occurs\r\nUse         u           Other          Uses or includes a resource to do something\r\nBlock       bl          Security       Restricts access to a resource\r\nGrant       gr          Security       Allows access to a resource\r\nProtect     pt          Security       Safeguards a resource from attack or loss\r\nRevoke      rk          Security       Specifies an action that does not allow access to a resource\r\nUnblock     ul          Security       Removes restrictions to a resource\r\nUnprotect   up          Security       Removes safeguards from a resource that were added to prevent it from attack or loss\r\n```","title":"determining which verb to use for method names in Java","body":"<p>Updated Answer.</p>\n<p>This kind of list already exists in Powershell. In order to get the list, run any powershell terminal (Windows/Linux/Mac) and run the command <code>Get-Verb</code></p>\n<pre class=\"lang-none prettyprint-override\"><code>Verb        AliasPrefix Group          Description\n----        ----------- -----          -----------\nAdd         a           Common         Adds a resource to a container, or attaches an item to another item\nClear       cl          Common         Removes all the resources from a container but does not delete the container\nClose       cs          Common         Changes the state of a resource to make it inaccessible, unavailable, or unusable\nCopy        cp          Common         Copies a resource to another name or to another container\nEnter       et          Common         Specifies an action that allows the user to move into a resource\nExit        ex          Common         Sets the current environment or context to the most recently used context\nFind        fd          Common         Looks for an object in a container that is unknown, implied, optional, or specified\nFormat      f           Common         Arranges objects in a specified form or layout\nGet         g           Common         Specifies an action that retrieves a resource\nHide        h           Common         Makes a resource undetectable\nJoin        j           Common         Combines resources into one resource\nLock        lk          Common         Secures a resource\nMove        m           Common         Moves a resource from one location to another\nNew         n           Common         Creates a resource\nOpen        op          Common         Changes the state of a resource to make it accessible, available, or usable\nOptimize    om          Common         Increases the effectiveness of a resource\nPush        pu          Common         Adds an item to the top of a stack\nPop         pop         Common         Removes an item from the top of a stack\nRedo        re          Common         Resets a resource to the state that was undone\nRemove      r           Common         Deletes a resource from a container\nRename      rn          Common         Changes the name of a resource\nReset       rs          Common         Sets a resource back to its original state\nResize      rz          Common         Changes the size of a resource\nSearch      sr          Common         Creates a reference to a resource in a container\nSelect      sc          Common         Locates a resource in a container\nSet         s           Common         Replaces data on an existing resource or creates a resource that contains some data\nShow        sh          Common         Makes a resource visible to the user\nSkip        sk          Common         Bypasses one or more resources or points in a sequence\nSplit       sl          Common         Separates parts of a resource\nStep        st          Common         Moves to the next point or resource in a sequence\nSwitch      sw          Common         Specifies an action that alternates between two resources, such as to change between two locations, responsibilities, or states\nUndo        un          Common         Sets a resource to its previous state\nUnlock      uk          Common         Releases a resource that was locked\nWatch       wc          Common         Continually inspects or monitors a resource for changes\nConnect     cc          Communications Creates a link between a source and a destination\nDisconnect  dc          Communications Breaks the link between a source and a destination\nRead        rd          Communications Acquires information from a source\nReceive     rc          Communications Accepts information sent from a source\nSend        sd          Communications Delivers information to a destination\nWrite       wr          Communications Adds information to a target\nBackup      ba          Data           Stores data by replicating it\nCheckpoint  ch          Data           Creates a snapshot of the current state of the data or of its configuration\nCompare     cr          Data           Evaluates the data from one resource against the data from another resource\nCompress    cm          Data           Compacts the data of a resource\nConvert     cv          Data           Changes the data from one representation to another when the cmdlet supports bidirectional conversion or when the cmdlet supports conversion between multiple …\nConvertFrom cf          Data           Converts one primary type of input (the cmdlet noun indicates the input) to one or more supported output types\nConvertTo   ct          Data           Converts from one or more types of input to a primary output type (the cmdlet noun indicates the output type)\nDismount    dm          Data           Detaches a named entity from a location\nEdit        ed          Data           Modifies existing data by adding or removing content\nExpand      en          Data           Restores the data of a resource that has been compressed to its original state\nExport      ep          Data           Encapsulates the primary input into a persistent data store, such as a file, or into an interchange format\nGroup       gp          Data           Arranges or associates one or more resources\nImport      ip          Data           Creates a resource from data that is stored in a persistent data store (such as a file) or in an interchange format\nInitialize  in          Data           Prepares a resource for use, and sets it to a default state\nLimit       l           Data           Applies constraints to a resource\nMerge       mg          Data           Creates a single resource from multiple resources\nMount       mt          Data           Attaches a named entity to a location\nOut         o           Data           Sends data out of the environment\nPublish     pb          Data           Makes a resource available to others\nRestore     rr          Data           Sets a resource to a predefined state, such as a state set by Checkpoint\nSave        sv          Data           Preserves data to avoid loss\nSync        sy          Data           Assures that two or more resources are in the same state\nUnpublish   ub          Data           Makes a resource unavailable to others\nUpdate      ud          Data           Brings a resource up-to-date to maintain its state, accuracy, conformance, or compliance\nDebug       db          Diagnostic     Examines a resource to diagnose operational problems\nMeasure     ms          Diagnostic     Identifies resources that are consumed by a specified operation, or retrieves statistics about a resource\nPing        pi          Diagnostic     Use the Test verb\nRepair      rp          Diagnostic     Restores a resource to a usable condition\nResolve     rv          Diagnostic     Maps a shorthand representation of a resource to a more complete representation\nTest        t           Diagnostic     Verifies the operation or consistency of a resource\nTrace       tr          Diagnostic     Tracks the activities of a resource\nApprove     ap          Lifecycle      Confirms or agrees to the status of a resource or process\nAssert      as          Lifecycle      Affirms the state of a resource\nBuild       bd          Lifecycle      Creates an artifact (usually a binary or document) out of some set of input files (usually source code or declarative documents)\nComplete    cmp         Lifecycle      Concludes an operation\nConfirm     cn          Lifecycle      Acknowledges, verifies, or validates the state of a resource or process\nDeny        dn          Lifecycle      Refuses, objects, blocks, or opposes the state of a resource or process\nDeploy      dp          Lifecycle      Sends an application, website, or solution to a remote target[s] in such a way that a consumer of that solution can access it after deployment is complete\nDisable     d           Lifecycle      Configures a resource to an unavailable or inactive state\nEnable      e           Lifecycle      Configures a resource to an available or active state\nInstall     is          Lifecycle      Places a resource in a location, and optionally initializes it\nInvoke      i           Lifecycle      Performs an action, such as running a command or a method\nRegister    rg          Lifecycle      Creates an entry for a resource in a repository such as a database\nRequest     rq          Lifecycle      Asks for a resource or asks for permissions\nRestart     rt          Lifecycle      Stops an operation and then starts it again\nResume      ru          Lifecycle      Starts an operation that has been suspended\nStart       sa          Lifecycle      Initiates an operation\nStop        sp          Lifecycle      Discontinues an activity\nSubmit      sb          Lifecycle      Presents a resource for approval\nSuspend     ss          Lifecycle      Pauses an activity\nUninstall   us          Lifecycle      Removes a resource from an indicated location\nUnregister  ur          Lifecycle      Removes the entry for a resource from a repository\nWait        w           Lifecycle      Pauses an operation until a specified event occurs\nUse         u           Other          Uses or includes a resource to do something\nBlock       bl          Security       Restricts access to a resource\nGrant       gr          Security       Allows access to a resource\nProtect     pt          Security       Safeguards a resource from attack or loss\nRevoke      rk          Security       Specifies an action that does not allow access to a resource\nUnblock     ul          Security       Removes restrictions to a resource\nUnprotect   up          Security       Removes safeguards from a resource that were added to prevent it from attack or loss\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8056033,"reputation":2316,"user_id":6073148,"accept_rate":75,"display_name":"Zahid Khan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657168670,"creation_date":1657168670,"answer_id":72892343,"question_id":7151418,"body_markdown":"We use method names as propositions (such as plus, minus) rather than verb (such as add, subtract). This emphasis the fact that these methods(propositions) don&#39;t change the value of objects. \r\n\r\nThe `BigInteger` and `BigDecimal` classes didn&#39;t obey this naming convention, and it led to many usage errors. ","title":"determining which verb to use for method names in Java","body":"<p>We use method names as propositions (such as plus, minus) rather than verb (such as add, subtract). This emphasis the fact that these methods(propositions) don't change the value of objects.</p>\n<p>The <code>BigInteger</code> and <code>BigDecimal</code> classes didn't obey this naming convention, and it led to many usage errors.</p>\n"}],"owner":{"account_id":260473,"reputation":48258,"user_id":544050,"accept_rate":95,"display_name":"PengOne"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20256,"favorite_count":0,"down_vote_count":0,"up_vote_count":32,"accepted_answer_id":7151581,"answer_count":9,"score":32,"last_activity_date":1680791059,"creation_date":1314035448,"question_id":7151418,"body_markdown":"I understand that naming conventions are important for a number of reasons, most having to do with making your code more readable and easier to integrate into larger projects, etc. In Java, most conventions require that method names be in `lowerCamelCase` begin with a verb.\r\n\r\nMy question is: how do I choose the verb to begin the method name?\r\n\r\nTo make this question less vague, I&#39;m often in the situation where my first choice for a method name is a noun describing the output. In these cases, I&#39;m usually torn between appending generic verbs such as `get`, `generate`, `calculate`, etc in font of the noun to conform to the verb rule. Are there general guidelines for when to use which?\r\n\r\nHere&#39;s an example. I have a method that takes `double[] array` and an `int k` and returns `double[] newArray` which is the length `k` moving average of `array`, i.e. `newArray[i] = (array[i-k+1]+...+array[i])/k` with some fudging to make `newArray` the same length as `array`. My inclination is to call this method `movingAverage` since that&#39;s what it returns, but that&#39;s out since it doesn&#39;t begin with a verb. Should I call this method `getMovingAverage` or `generateMovingAverage` or `calculateMovingAverage` or does it not really matter?","title":"determining which verb to use for method names in Java","body":"<p>I understand that naming conventions are important for a number of reasons, most having to do with making your code more readable and easier to integrate into larger projects, etc. In Java, most conventions require that method names be in <code>lowerCamelCase</code> begin with a verb.</p>\n\n<p>My question is: how do I choose the verb to begin the method name?</p>\n\n<p>To make this question less vague, I'm often in the situation where my first choice for a method name is a noun describing the output. In these cases, I'm usually torn between appending generic verbs such as <code>get</code>, <code>generate</code>, <code>calculate</code>, etc in font of the noun to conform to the verb rule. Are there general guidelines for when to use which?</p>\n\n<p>Here's an example. I have a method that takes <code>double[] array</code> and an <code>int k</code> and returns <code>double[] newArray</code> which is the length <code>k</code> moving average of <code>array</code>, i.e. <code>newArray[i] = (array[i-k+1]+...+array[i])/k</code> with some fudging to make <code>newArray</code> the same length as <code>array</code>. My inclination is to call this method <code>movingAverage</code> since that's what it returns, but that's out since it doesn't begin with a verb. Should I call this method <code>getMovingAverage</code> or <code>generateMovingAverage</code> or <code>calculateMovingAverage</code> or does it not really matter?</p>\n"},{"tags":["java","quartz-scheduler"],"answers":[{"tags":[],"owner":{"account_id":879781,"reputation":973,"user_id":188764,"accept_rate":80,"display_name":"Kris"},"down_vote_count":0,"up_vote_count":26,"is_accepted":true,"score":26,"last_activity_date":1502900045,"creation_date":1356660529,"answer_id":14063719,"question_id":12257990,"body_markdown":"You have to reschedule the job by creating a new trigger.\r\n\r\n    public void execute(JobExecutionContext context) throws JobExecutionException {\r\n        Trigger newTrigger = what_ever_you_want;\r\n        Trigger oldTrigger = context.getTrigger();\r\n        Scheduler scheduler = StdSchedulerFactory.getDefaultScheduler();\r\n        scheduler.rescheduleJob(oldTrigger.getKey(), newTrigger);\r\n    }\r\n\r\nThis will replace the same job with a new trigger fire time.\r\n","title":"How to reschedule the job execution interval in Quartz?","body":"<p>You have to reschedule the job by creating a new trigger.</p>\n\n<pre><code>public void execute(JobExecutionContext context) throws JobExecutionException {\n    Trigger newTrigger = what_ever_you_want;\n    Trigger oldTrigger = context.getTrigger();\n    Scheduler scheduler = StdSchedulerFactory.getDefaultScheduler();\n    scheduler.rescheduleJob(oldTrigger.getKey(), newTrigger);\n}\n</code></pre>\n\n<p>This will replace the same job with a new trigger fire time.</p>\n"},{"tags":[],"owner":{"account_id":2174240,"reputation":1419,"user_id":1925356,"accept_rate":33,"display_name":"Alex Mi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1586063955,"creation_date":1586063955,"answer_id":61038393,"question_id":12257990,"body_markdown":"Perhaps there is a static method triggerKey() somewhere in the Quartz library. However, I managed to reschedule an existing Quartz job (using Quartz 2.3.2) without using this (potential) method, but rather using the TriggerKey class as follows:\r\n\r\n    \tboolean updateExisting = true; // try it also with false\r\n\t\tint aveId = 1234; // change it as you wish\r\n\t\tjava.util.Date closeDate = new java.util.Date(); // change it as you wish\r\n\t\t\r\n\t\tSchedulerFactory sf = new StdSchedulerFactory(&quot;... /quartz_priority.properties&quot;);\r\n\t\tScheduler scheduler = sf.getScheduler();\r\n\r\n\t\tTriggerKey triggerKey = new TriggerKey(&quot;trigger&quot; + aveId, &quot;group1&quot;);\r\n\r\n\t\tif (updateExisting) {\r\n\t\t\tTrigger oldTrigger = scheduler.getTrigger(triggerKey);\r\n\t\t\tTriggerBuilder oldTriggerBuilder = oldTrigger.getTriggerBuilder();\r\n\r\n\t\t\tTrigger newTrigger = oldTriggerBuilder.startAt(closeDate).build();\r\n\t\t\tscheduler.rescheduleJob(triggerKey, newTrigger);\r\n\r\n\t\t} else {\r\n\t\t\tTrigger trigger = TriggerBuilder.newTrigger().withIdentity(triggerKey).startAt(closeDate).build();\r\n\r\n\t\t\t// Define job instance\r\n\t\t\tJobDetail job1 = JobBuilder.newJob(&lt;YOUR_JOB_CLASS_NAME&gt;.class).withIdentity(&quot;job&quot; + aveId, &quot;group1&quot;).build();\r\n\r\n\t\t\tJobDataMap map = job1.getJobDataMap();\r\n\t\t\tmap.put(&lt;PARAMETER_NAME&gt;, aveId);\r\n\r\n\t\t\t// Schedule the job with the trigger\r\n\t\t\tscheduler.scheduleJob(job1, trigger);\r\n\t\t}\r\n\r\n","title":"How to reschedule the job execution interval in Quartz?","body":"<p>Perhaps there is a static method triggerKey() somewhere in the Quartz library. However, I managed to reschedule an existing Quartz job (using Quartz 2.3.2) without using this (potential) method, but rather using the TriggerKey class as follows:</p>\n\n<pre><code>    boolean updateExisting = true; // try it also with false\n    int aveId = 1234; // change it as you wish\n    java.util.Date closeDate = new java.util.Date(); // change it as you wish\n\n    SchedulerFactory sf = new StdSchedulerFactory(\"... /quartz_priority.properties\");\n    Scheduler scheduler = sf.getScheduler();\n\n    TriggerKey triggerKey = new TriggerKey(\"trigger\" + aveId, \"group1\");\n\n    if (updateExisting) {\n        Trigger oldTrigger = scheduler.getTrigger(triggerKey);\n        TriggerBuilder oldTriggerBuilder = oldTrigger.getTriggerBuilder();\n\n        Trigger newTrigger = oldTriggerBuilder.startAt(closeDate).build();\n        scheduler.rescheduleJob(triggerKey, newTrigger);\n\n    } else {\n        Trigger trigger = TriggerBuilder.newTrigger().withIdentity(triggerKey).startAt(closeDate).build();\n\n        // Define job instance\n        JobDetail job1 = JobBuilder.newJob(&lt;YOUR_JOB_CLASS_NAME&gt;.class).withIdentity(\"job\" + aveId, \"group1\").build();\n\n        JobDataMap map = job1.getJobDataMap();\n        map.put(&lt;PARAMETER_NAME&gt;, aveId);\n\n        // Schedule the job with the trigger\n        scheduler.scheduleJob(job1, trigger);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25939300,"reputation":31,"user_id":19659058,"display_name":"gearbase"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680790853,"creation_date":1680784829,"answer_id":75949636,"question_id":12257990,"body_markdown":"Let me expand on [Kris](https://stackoverflow.com/users/188764/kris) and [Alex Mi](https://stackoverflow.com/users/1925356/alex-mi) answers.\r\n\r\nBelow is an example of a multi-instance Spring Boot application that launches a cron job.  \r\nThe Job must be running on only one of the instances.  \r\nThe configuration of each instance must be the same.  \r\nIf a job crashes, it should try to restart 3 times with a delay of 5 minutes * number of restart attempts.  \r\nIf the job still crashes after 3 restarts, the default cron for our job trigger should be set.\r\n\r\n\r\n**We will use Quartz in cluster mode:**\r\n\r\nDeps:\r\n```groovy\r\nimplementation(&quot;org.springframework.boot:spring-boot-starter-quartz&quot;)\r\n```\r\n\r\n*Out job:*\r\n```kotlin\r\n@Component\r\n@Profile(&quot;quartz&quot;)\r\nclass SomeJob(\r\n    private val someService: SomeService\r\n) : QuartzJobBean() {\r\n    private val log: Logger = LoggerFactory.getLogger(SomeJob::class.java)\r\n    \r\n    override fun executeInternal(jobExecutionContext: JobExecutionContext) {\r\n        try {\r\n            log.info(&quot;Doing awesome work...&quot;)\r\n            someService.work()\r\n            if ((1..10).random() &gt;= 5) throw RuntimeException(&quot;Something went wrong...&quot;)\r\n        } catch (e: Exception) {\r\n            throw JobExecutionException(e)\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nHere is the Quartz configuration (more information [here](https://www.baeldung.com/spring-quartz-schedule)):\r\n```kotlin\r\n@Configuration\r\n@Profile(&quot;quartz&quot;)\r\nclass JobConfig {\r\n    //JobDetail for our job\r\n    @Bean\r\n    fun someJobDetail(): JobDetail {\r\n        return JobBuilder\r\n            .newJob(SomeJob::class.java).withIdentity(&quot;SomeJob&quot;)\r\n            .withDescription(&quot;Some job&quot;)\r\n            //If we want the job to be launched after the application instance crashes at the \r\n            //next launch\r\n            .requestRecovery(true)\r\n            .storeDurably().build()\r\n    }\r\n\r\n    //Trigger\r\n    @Bean\r\n    fun someJobTrigger(someJobDetail: JobDetail): Trigger {\r\n        return TriggerBuilder.newTrigger().forJob(someJobDetail)\r\n            .withIdentity(&quot;SomeJobTrigger&quot;)\r\n            .withSchedule(CronScheduleBuilder.cronSchedule(&quot;0 0 4 L-1 * ? *&quot;))\r\n            .build()\r\n\r\n    }\r\n\r\n    //Otherwise, changing cron for an existing trigger will not work. (the old cron value will be stored in the database)\r\n    @Bean\r\n    fun scheduler(triggers: List&lt;Trigger&gt;, jobDetails: List&lt;JobDetail&gt;, factory: SchedulerFactoryBean): Scheduler {\r\n        factory.setWaitForJobsToCompleteOnShutdown(true)\r\n        val scheduler = factory.scheduler\r\n        factory.setOverwriteExistingJobs(true)\r\n        //https://stackoverflow.com/questions/39673572/spring-quartz-scheduler-race-condition\r\n        factory.setTransactionManager(JdbcTransactionManager())\r\n        rescheduleTriggers(triggers, scheduler)\r\n        scheduler.start()\r\n        return scheduler\r\n    }\r\n\r\n    private fun rescheduleTriggers(triggers: List&lt;Trigger&gt;, scheduler: Scheduler) {\r\n        triggers.forEach {\r\n            if (!scheduler.checkExists(it.key)) {\r\n                scheduler.scheduleJob(it)\r\n            } else {\r\n                scheduler.rescheduleJob(it.key, it)\r\n            }\r\n        }\r\n    }\r\n}\r\n    \r\n```\r\nAdd a listener to the scheduler:\r\n```kotlin\r\n@Component\r\n@Profile(&quot;quartz&quot;)\r\nclass JobListenerConfig(\r\n    private val schedulerFactory: SchedulerFactoryBean,\r\n    private val jobListener: JobListener\r\n) {\r\n    @PostConstruct\r\n    fun addListener() {\r\n        schedulerFactory.scheduler.listenerManager.addJobListener(jobListener, KeyMatcher.keyEquals(jobKey(&quot;SomeJob&quot;)))\r\n    }\r\n}\r\n\r\n```\r\n\r\nAnd now the most important - the logic of processing the execution of our job with listener:\r\n```kotlin\r\n@Profile(&quot;quartz&quot;)\r\nclass JobListener(\r\n    //can be obtained from the execution context, but it can also be injected\r\n    private val scheduler: Scheduler,\r\n    private val triggers: List&lt;Trigger&gt;\r\n): JobListenerSupport() {\r\n\r\n    private lateinit var triggerCronMap: Map&lt;String, String&gt;\r\n\r\n    @PostConstruct\r\n    fun post(){\r\n        //there will be no recovery triggers , only our self-written ones\r\n        triggerCronMap = triggers.associate {\r\n            it.key.name to (it as CronTrigger).cronExpression\r\n        }\r\n    }\r\n\r\n    override fun getName(): String {\r\n        return &quot;myJobListener&quot;\r\n    }\r\n\r\n\r\n    override fun jobToBeExecuted(context: JobExecutionContext) {\r\n        log.info(&quot;Job: ${context.jobDetail.key.name} ready to start by trigger: ${context.trigger.key.name}&quot;)\r\n    }\r\n\r\n\r\n    override fun jobWasExecuted(context: JobExecutionContext, jobException: JobExecutionException?) {\r\n        //you can use context.mergedJobDataMap\r\n        val dataMap = context.trigger.jobDataMap\r\n        val count = if (dataMap[&quot;count&quot;] != null) dataMap.getIntValue(&quot;count&quot;) else {\r\n            dataMap.putAsString(&quot;count&quot;, 1)\r\n            1\r\n        }\r\n        //in the if block, you can add the condition &amp;&amp; !context.trigger.key.name.startsWith(&quot;recover_&quot;) - in this case, the scheduler will not restart recover triggers if they fall during execution\r\n        if (jobException != null ){\r\n            if (count &lt; 3) {\r\n                log.warn(&quot;Job: ${context.jobDetail.key.name} filed while execution. Restart attempts count: $count &quot;)\r\n                val oldTrigger = context.trigger\r\n                var newTriggerName = context.trigger.key.name + &quot;_retry&quot;\r\n                //in case such a trigger already exists\r\n                context.scheduler.getTriggersOfJob(context.jobDetail.key)\r\n                    .map { it.key.name }\r\n                    .takeIf { it.contains(newTriggerName) }\r\n                    ?.apply { newTriggerName += &quot;_retry&quot; }\r\n                val newTrigger = TriggerBuilder.newTrigger()\r\n                    .forJob(context.jobDetail)\r\n                    .withIdentity(newTriggerName, context.trigger.key.group)\r\n                    //create a simple trigger that should be fired in 5 minutes * restart attempts\r\n                    .startAt(Date.from(Instant.now().plus((5 * count).toLong(), ChronoUnit.MINUTES)))\r\n                    .usingJobData(&quot;count&quot;, count + 1 )\r\n                    .build()\r\n                val date = scheduler.rescheduleJob(oldTrigger.key, newTrigger)\r\n                log.info(&quot;Rescheduling trigger: ${oldTrigger.key} to trigger: ${newTrigger.key}&quot;)\r\n            } else {\r\n                log.warn(&quot;Reach max count of restarts: $count. Remove all triggers for job: ${context.trigger.jobKey.name} and schedule default trigger for it: ${context.trigger.key.name.split(&quot;_&quot;)[0]}&quot;)\r\n                recheduleWithDefaultTrigger(context)\r\n            }\r\n        } else if (count &gt; 1) {\r\n            recheduleWithDefaultTrigger(context)\r\n        }\r\n        else {\r\n            log.info(&quot;Job: ${context.jobDetail.key.name} completed successfully&quot;)\r\n        }\r\n        context.scheduler.getTriggersOfJob(context.trigger.jobKey).forEach {\r\n            log.info(&quot;Trigger with key: ${it.key} for job: ${context.trigger.jobKey.name} will start at ${it.nextFireTime ?: it.startTime}&quot;)\r\n        }\r\n    }\r\n\r\n    private fun recheduleWithDefaultTrigger(context: JobExecutionContext) {\r\n        val clone = context.jobDetail.clone() as JobDetail\r\n        val defaultTriggerName = context.trigger.key.name.split(&quot;_&quot;)[0]\r\n        //Recovery triggers should not be rescheduled\r\n        if (!triggerCronMap.contains(defaultTriggerName)) return\r\n        scheduler.deleteJob(clone.key)\r\n        scheduler.addJob(clone, true)\r\n        scheduler.scheduleJob(\r\n            TriggerBuilder.newTrigger()\r\n                .forJob(clone)\r\n                .withIdentity(defaultTriggerName)\r\n                .withSchedule(CronScheduleBuilder.cronSchedule(triggerCronMap[defaultTriggerName]))\r\n                .usingJobData(&quot;count&quot;, 1)\r\n                .startAt(Date.from(Instant.now().plusSeconds(5)))\r\n                .build()\r\n        )\r\n    }\r\n}\r\n```\r\nLast but not least: **application.yaml**\r\n```yaml\r\nspring:\r\n  quartz:\r\n    job-store-type: jdbc #Database Mode\r\n    jdbc:\r\n      initialize-schema: never #Do not initialize table structure\r\n    properties:\r\n      org:\r\n        quartz:\r\n          scheduler:\r\n            instanceId: AUTO #Default hostname and timestamp generate instance ID, which can be any string, but must be the only corresponding qrtz_scheduler_state INSTANCE_NAME field for all dispatchers\r\n            #instanceName: clusteredScheduler #quartzScheduler\r\n          jobStore:\r\n#            a few problems with the two properties below: https://github.com/spring-projects/spring-boot/issues/28758#issuecomment-974628989 &amp; https://github.com/quartz-scheduler/quartz/issues/284\r\n#            class: org.springframework.scheduling.quartz.LocalDataSourceJobStore #Persistence Configuration\r\n            driverDelegateClass: org.quartz.impl.jdbcjobstore.PostgreSQLDelegate #We only make database-specific proxies for databases\r\n#            useProperties: true #Indicates that JDBC JobStore stores all values in JobDataMaps as strings, so more complex objects can be stored as name-value pairs rather than serialized in BLOB columns.In the long run, this is safer because you avoid serializing non-String classes to BLOB class versions.\r\n            tablePrefix: scam_quartz.QRTZ_  #Database Table Prefix\r\n            misfireThreshold: 60000 #The number of milliseconds the dispatcher will &quot;tolerate&quot; a Trigger to pass its next startup time before being considered a &quot;fire&quot;.The default value (if you do not enter this property in the configuration) is 60000 (60 seconds).\r\n            clusterCheckinInterval: 5000 #Set the frequency (in milliseconds) of this instance&#39;checkin&#39;* with other instances of the cluster.Affects the speed of detecting failed instances.\r\n            isClustered: true #Turn on Clustering\r\n          threadPool: #Connection Pool\r\n            class: org.quartz.simpl.SimpleThreadPool\r\n            threadCount: 3\r\n            threadPriority: 1\r\n            threadsInheritContextClassLoaderOfInitializingThread: true\r\n```\r\n\r\n[Here](https://github.com/quartz-scheduler/quartz/tree/master/quartz-core/src/main/resources/org/quartz/impl/jdbcjobstore) official scripts for database (use liquibase or flyway)      \r\nMore information:   \r\n[About quartz](https://www.baeldung.com/quartz)  \r\n[spring boot using quartz in cluster mode](https://medium.com/javarevisited/spring-boot-using-quartz-in-mode-cluster-e1d71e4af4b9)  \r\n[One more article](https://habr.com/ru/companies/surfstudio/articles/685980)  \r\n[Cluster effectively quartz](https://medium.com/javarevisited/how-to-cluster-effectively-quartz-jobs-9b097f5e1191)","title":"How to reschedule the job execution interval in Quartz?","body":"<p>Let me expand on <a href=\"https://stackoverflow.com/users/188764/kris\">Kris</a> and <a href=\"https://stackoverflow.com/users/1925356/alex-mi\">Alex Mi</a> answers.</p>\n<p>Below is an example of a multi-instance Spring Boot application that launches a cron job.<br />\nThe Job must be running on only one of the instances.<br />\nThe configuration of each instance must be the same.<br />\nIf a job crashes, it should try to restart 3 times with a delay of 5 minutes * number of restart attempts.<br />\nIf the job still crashes after 3 restarts, the default cron for our job trigger should be set.</p>\n<p><strong>We will use Quartz in cluster mode:</strong></p>\n<p>Deps:</p>\n<pre><code>implementation(&quot;org.springframework.boot:spring-boot-starter-quartz&quot;)\n</code></pre>\n<p><em>Out job:</em></p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Component\n@Profile(&quot;quartz&quot;)\nclass SomeJob(\n    private val someService: SomeService\n) : QuartzJobBean() {\n    private val log: Logger = LoggerFactory.getLogger(SomeJob::class.java)\n    \n    override fun executeInternal(jobExecutionContext: JobExecutionContext) {\n        try {\n            log.info(&quot;Doing awesome work...&quot;)\n            someService.work()\n            if ((1..10).random() &gt;= 5) throw RuntimeException(&quot;Something went wrong...&quot;)\n        } catch (e: Exception) {\n            throw JobExecutionException(e)\n        }\n    }\n}\n</code></pre>\n<p>Here is the Quartz configuration (more information <a href=\"https://www.baeldung.com/spring-quartz-schedule\" rel=\"nofollow noreferrer\">here</a>):</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Configuration\n@Profile(&quot;quartz&quot;)\nclass JobConfig {\n    //JobDetail for our job\n    @Bean\n    fun someJobDetail(): JobDetail {\n        return JobBuilder\n            .newJob(SomeJob::class.java).withIdentity(&quot;SomeJob&quot;)\n            .withDescription(&quot;Some job&quot;)\n            //If we want the job to be launched after the application instance crashes at the \n            //next launch\n            .requestRecovery(true)\n            .storeDurably().build()\n    }\n\n    //Trigger\n    @Bean\n    fun someJobTrigger(someJobDetail: JobDetail): Trigger {\n        return TriggerBuilder.newTrigger().forJob(someJobDetail)\n            .withIdentity(&quot;SomeJobTrigger&quot;)\n            .withSchedule(CronScheduleBuilder.cronSchedule(&quot;0 0 4 L-1 * ? *&quot;))\n            .build()\n\n    }\n\n    //Otherwise, changing cron for an existing trigger will not work. (the old cron value will be stored in the database)\n    @Bean\n    fun scheduler(triggers: List&lt;Trigger&gt;, jobDetails: List&lt;JobDetail&gt;, factory: SchedulerFactoryBean): Scheduler {\n        factory.setWaitForJobsToCompleteOnShutdown(true)\n        val scheduler = factory.scheduler\n        factory.setOverwriteExistingJobs(true)\n        //https://stackoverflow.com/questions/39673572/spring-quartz-scheduler-race-condition\n        factory.setTransactionManager(JdbcTransactionManager())\n        rescheduleTriggers(triggers, scheduler)\n        scheduler.start()\n        return scheduler\n    }\n\n    private fun rescheduleTriggers(triggers: List&lt;Trigger&gt;, scheduler: Scheduler) {\n        triggers.forEach {\n            if (!scheduler.checkExists(it.key)) {\n                scheduler.scheduleJob(it)\n            } else {\n                scheduler.rescheduleJob(it.key, it)\n            }\n        }\n    }\n}\n    \n</code></pre>\n<p>Add a listener to the scheduler:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Component\n@Profile(&quot;quartz&quot;)\nclass JobListenerConfig(\n    private val schedulerFactory: SchedulerFactoryBean,\n    private val jobListener: JobListener\n) {\n    @PostConstruct\n    fun addListener() {\n        schedulerFactory.scheduler.listenerManager.addJobListener(jobListener, KeyMatcher.keyEquals(jobKey(&quot;SomeJob&quot;)))\n    }\n}\n\n</code></pre>\n<p>And now the most important - the logic of processing the execution of our job with listener:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Profile(&quot;quartz&quot;)\nclass JobListener(\n    //can be obtained from the execution context, but it can also be injected\n    private val scheduler: Scheduler,\n    private val triggers: List&lt;Trigger&gt;\n): JobListenerSupport() {\n\n    private lateinit var triggerCronMap: Map&lt;String, String&gt;\n\n    @PostConstruct\n    fun post(){\n        //there will be no recovery triggers , only our self-written ones\n        triggerCronMap = triggers.associate {\n            it.key.name to (it as CronTrigger).cronExpression\n        }\n    }\n\n    override fun getName(): String {\n        return &quot;myJobListener&quot;\n    }\n\n\n    override fun jobToBeExecuted(context: JobExecutionContext) {\n        log.info(&quot;Job: ${context.jobDetail.key.name} ready to start by trigger: ${context.trigger.key.name}&quot;)\n    }\n\n\n    override fun jobWasExecuted(context: JobExecutionContext, jobException: JobExecutionException?) {\n        //you can use context.mergedJobDataMap\n        val dataMap = context.trigger.jobDataMap\n        val count = if (dataMap[&quot;count&quot;] != null) dataMap.getIntValue(&quot;count&quot;) else {\n            dataMap.putAsString(&quot;count&quot;, 1)\n            1\n        }\n        //in the if block, you can add the condition &amp;&amp; !context.trigger.key.name.startsWith(&quot;recover_&quot;) - in this case, the scheduler will not restart recover triggers if they fall during execution\n        if (jobException != null ){\n            if (count &lt; 3) {\n                log.warn(&quot;Job: ${context.jobDetail.key.name} filed while execution. Restart attempts count: $count &quot;)\n                val oldTrigger = context.trigger\n                var newTriggerName = context.trigger.key.name + &quot;_retry&quot;\n                //in case such a trigger already exists\n                context.scheduler.getTriggersOfJob(context.jobDetail.key)\n                    .map { it.key.name }\n                    .takeIf { it.contains(newTriggerName) }\n                    ?.apply { newTriggerName += &quot;_retry&quot; }\n                val newTrigger = TriggerBuilder.newTrigger()\n                    .forJob(context.jobDetail)\n                    .withIdentity(newTriggerName, context.trigger.key.group)\n                    //create a simple trigger that should be fired in 5 minutes * restart attempts\n                    .startAt(Date.from(Instant.now().plus((5 * count).toLong(), ChronoUnit.MINUTES)))\n                    .usingJobData(&quot;count&quot;, count + 1 )\n                    .build()\n                val date = scheduler.rescheduleJob(oldTrigger.key, newTrigger)\n                log.info(&quot;Rescheduling trigger: ${oldTrigger.key} to trigger: ${newTrigger.key}&quot;)\n            } else {\n                log.warn(&quot;Reach max count of restarts: $count. Remove all triggers for job: ${context.trigger.jobKey.name} and schedule default trigger for it: ${context.trigger.key.name.split(&quot;_&quot;)[0]}&quot;)\n                recheduleWithDefaultTrigger(context)\n            }\n        } else if (count &gt; 1) {\n            recheduleWithDefaultTrigger(context)\n        }\n        else {\n            log.info(&quot;Job: ${context.jobDetail.key.name} completed successfully&quot;)\n        }\n        context.scheduler.getTriggersOfJob(context.trigger.jobKey).forEach {\n            log.info(&quot;Trigger with key: ${it.key} for job: ${context.trigger.jobKey.name} will start at ${it.nextFireTime ?: it.startTime}&quot;)\n        }\n    }\n\n    private fun recheduleWithDefaultTrigger(context: JobExecutionContext) {\n        val clone = context.jobDetail.clone() as JobDetail\n        val defaultTriggerName = context.trigger.key.name.split(&quot;_&quot;)[0]\n        //Recovery triggers should not be rescheduled\n        if (!triggerCronMap.contains(defaultTriggerName)) return\n        scheduler.deleteJob(clone.key)\n        scheduler.addJob(clone, true)\n        scheduler.scheduleJob(\n            TriggerBuilder.newTrigger()\n                .forJob(clone)\n                .withIdentity(defaultTriggerName)\n                .withSchedule(CronScheduleBuilder.cronSchedule(triggerCronMap[defaultTriggerName]))\n                .usingJobData(&quot;count&quot;, 1)\n                .startAt(Date.from(Instant.now().plusSeconds(5)))\n                .build()\n        )\n    }\n}\n</code></pre>\n<p>Last but not least: <strong>application.yaml</strong></p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  quartz:\n    job-store-type: jdbc #Database Mode\n    jdbc:\n      initialize-schema: never #Do not initialize table structure\n    properties:\n      org:\n        quartz:\n          scheduler:\n            instanceId: AUTO #Default hostname and timestamp generate instance ID, which can be any string, but must be the only corresponding qrtz_scheduler_state INSTANCE_NAME field for all dispatchers\n            #instanceName: clusteredScheduler #quartzScheduler\n          jobStore:\n#            a few problems with the two properties below: https://github.com/spring-projects/spring-boot/issues/28758#issuecomment-974628989 &amp; https://github.com/quartz-scheduler/quartz/issues/284\n#            class: org.springframework.scheduling.quartz.LocalDataSourceJobStore #Persistence Configuration\n            driverDelegateClass: org.quartz.impl.jdbcjobstore.PostgreSQLDelegate #We only make database-specific proxies for databases\n#            useProperties: true #Indicates that JDBC JobStore stores all values in JobDataMaps as strings, so more complex objects can be stored as name-value pairs rather than serialized in BLOB columns.In the long run, this is safer because you avoid serializing non-String classes to BLOB class versions.\n            tablePrefix: scam_quartz.QRTZ_  #Database Table Prefix\n            misfireThreshold: 60000 #The number of milliseconds the dispatcher will &quot;tolerate&quot; a Trigger to pass its next startup time before being considered a &quot;fire&quot;.The default value (if you do not enter this property in the configuration) is 60000 (60 seconds).\n            clusterCheckinInterval: 5000 #Set the frequency (in milliseconds) of this instance'checkin'* with other instances of the cluster.Affects the speed of detecting failed instances.\n            isClustered: true #Turn on Clustering\n          threadPool: #Connection Pool\n            class: org.quartz.simpl.SimpleThreadPool\n            threadCount: 3\n            threadPriority: 1\n            threadsInheritContextClassLoaderOfInitializingThread: true\n</code></pre>\n<p><a href=\"https://github.com/quartz-scheduler/quartz/tree/master/quartz-core/src/main/resources/org/quartz/impl/jdbcjobstore\" rel=\"nofollow noreferrer\">Here</a> official scripts for database (use liquibase or flyway)<br />\nMore information:<br />\n<a href=\"https://www.baeldung.com/quartz\" rel=\"nofollow noreferrer\">About quartz</a><br />\n<a href=\"https://medium.com/javarevisited/spring-boot-using-quartz-in-mode-cluster-e1d71e4af4b9\" rel=\"nofollow noreferrer\">spring boot using quartz in cluster mode</a><br />\n<a href=\"https://habr.com/ru/companies/surfstudio/articles/685980\" rel=\"nofollow noreferrer\">One more article</a><br />\n<a href=\"https://medium.com/javarevisited/how-to-cluster-effectively-quartz-jobs-9b097f5e1191\" rel=\"nofollow noreferrer\">Cluster effectively quartz</a></p>\n"}],"owner":{"account_id":428023,"reputation":15099,"user_id":810077,"accept_rate":83,"display_name":"Chetan Kinger"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29801,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":14063719,"answer_count":3,"score":8,"last_activity_date":1680790853,"creation_date":1346740599,"question_id":12257990,"body_markdown":"I am a bit new to Quartz. Is there a way to update the job execution interval for an already submitted Quartz job? Does this interval get updated immediately? Do you have to start the job once again after rescheduling it?\r\n\r\nI found the following link but I don&#39;t know which libraries is the code referring to since my quartz jars don&#39;t contain some of the classes used in the link. Also, where did the triggerKey method come from? Is this some kind of a static import? \r\n\r\nhttp://www.quartz-scheduler.org/documentation/2.4.0-SNAPSHOT/cookbook/UpdateTrigger.html\r\n\r\nI want to update the job execution interval to a very large number in one of my JUnit test cases since I don&#39;t want the job to interfere with the state of the class under test. Once the test case completes, I want to reset the the job execution interval to the actual value that will be used in production","title":"How to reschedule the job execution interval in Quartz?","body":"<p>I am a bit new to Quartz. Is there a way to update the job execution interval for an already submitted Quartz job? Does this interval get updated immediately? Do you have to start the job once again after rescheduling it?</p>\n\n<p>I found the following link but I don't know which libraries is the code referring to since my quartz jars don't contain some of the classes used in the link. Also, where did the triggerKey method come from? Is this some kind of a static import? </p>\n\n<p><a href=\"http://www.quartz-scheduler.org/documentation/2.4.0-SNAPSHOT/cookbook/UpdateTrigger.html\" rel=\"noreferrer\">http://www.quartz-scheduler.org/documentation/2.4.0-SNAPSHOT/cookbook/UpdateTrigger.html</a></p>\n\n<p>I want to update the job execution interval to a very large number in one of my JUnit test cases since I don't want the job to interfere with the state of the class under test. Once the test case completes, I want to reset the the job execution interval to the actual value that will be used in production</p>\n"},{"tags":["java","azure-devops","sdk","azure-pipelines","appium"],"answers":[{"tags":[],"owner":{"account_id":13359429,"reputation":1,"user_id":9963204,"display_name":"Bruno Graciano Alves Carneiro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680790837,"creation_date":1680790837,"answer_id":75950612,"question_id":75290021,"body_markdown":"Hello everything is fine? well I believe that on your machine locally you installed the appium-doctor, node, and the appium, the pipeline is no different. To install and validate all the same steps on the machine, you must install everything via script in a macOS virtual machine, as shown in the example below:\r\n\r\n    pool:\r\n      vmImage: macOS-10.15\r\n              - script: npm install -g appium@1.21.0 # --unsafe-perm=true --allow-root\r\n            displayName: &quot;Install appium 1.21.0&quot;\r\n\r\n          - task: NodeTool@0\r\n            condition: always()\r\n            inputs:\r\n              versionSpec: &quot;16.x&quot;\r\n            displayName: Install Node Js\r\n\r\n          - task: Bash@3\r\n            displayName: &quot;Run Appium in background port 4723&quot;\r\n            continueOnError: false\r\n            enabled: true\r\n            inputs:\r\n              targetType: &#39;inline&#39;\r\n              script: |\r\n                #!/bin/bash\r\n                nohup appium -a 127.0.0.1 -p 4723 --relaxed-security &gt; $(agent.buildDirectory)/s/folderReports/appium_log_4723.txt &amp;\r\n\r\n          - script: npm install -g appium-doctor\r\n            continueOnError: true\r\n            enabled: true\r\n            displayName: &quot;Install appium doctor&quot;\r\n          - script: appium-doctor\r\n            continueOnError: true\r\n            enabled: true\r\n            displayName: &quot;Check appium doctor&quot;\r\n\r\nThe Android Emulator &quot;Task Script&quot;you can instantiate it as follows:\r\n \r\n\r\n              - task: Bash@3\r\n            displayName: Run Emulator\r\n            enabled: true\r\n            inputs:\r\n              targetType: &#39;inline&#39;\r\n              script: | \r\n[enter image description here][1]\r\n        \r\nMORE INFORMATION: https://learn.microsoft.com/pt-br/azure/devops/pipelines/ecosystems/android?view=azure-devops\r\n\r\nI&#39;m sorry if I didn&#39;t understand, it&#39;s my first answer here on this channel\r\n\r\n  [1]: https://i.stack.imgur.com/Neh0h.png","title":"How to run Appium tests with WebdriverIO (Android) in Azure DevOps Pipeline","body":"<p>Hello everything is fine? well I believe that on your machine locally you installed the appium-doctor, node, and the appium, the pipeline is no different. To install and validate all the same steps on the machine, you must install everything via script in a macOS virtual machine, as shown in the example below:</p>\n<pre><code>pool:\n  vmImage: macOS-10.15\n          - script: npm install -g appium@1.21.0 # --unsafe-perm=true --allow-root\n        displayName: &quot;Install appium 1.21.0&quot;\n\n      - task: NodeTool@0\n        condition: always()\n        inputs:\n          versionSpec: &quot;16.x&quot;\n        displayName: Install Node Js\n\n      - task: Bash@3\n        displayName: &quot;Run Appium in background port 4723&quot;\n        continueOnError: false\n        enabled: true\n        inputs:\n          targetType: 'inline'\n          script: |\n            #!/bin/bash\n            nohup appium -a 127.0.0.1 -p 4723 --relaxed-security &gt; $(agent.buildDirectory)/s/folderReports/appium_log_4723.txt &amp;\n\n      - script: npm install -g appium-doctor\n        continueOnError: true\n        enabled: true\n        displayName: &quot;Install appium doctor&quot;\n      - script: appium-doctor\n        continueOnError: true\n        enabled: true\n        displayName: &quot;Check appium doctor&quot;\n</code></pre>\n<p>The Android Emulator &quot;Task Script&quot;you can instantiate it as follows:</p>\n<pre><code>          - task: Bash@3\n        displayName: Run Emulator\n        enabled: true\n        inputs:\n          targetType: 'inline'\n          script: | \n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/Neh0h.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>MORE INFORMATION: <a href=\"https://learn.microsoft.com/pt-br/azure/devops/pipelines/ecosystems/android?view=azure-devops\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/pt-br/azure/devops/pipelines/ecosystems/android?view=azure-devops</a></p>\n<p>I'm sorry if I didn't understand, it's my first answer here on this channel</p>\n"}],"owner":{"account_id":19855685,"reputation":27,"user_id":21008772,"display_name":"Mohamed Khlifi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":448,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680790837,"creation_date":1675112063,"question_id":75290021,"body_markdown":"I have a test that I want to run in Azure DevOps Pipeline. I&#39;m using Appium and WebdriverIO.\r\n\r\nI have done it locally and it worked fine. I have installed an Android emulator from Android Studio and set the SDK and JDK paths.\r\n\r\nThe problem now is that I need to create a pipeline to run the test. I have no idea how should I do it.\r\n\r\nHow should I set the SDK and JDK in Azure DevOps. For your information, I don&#39;t use YAML. I use classic editor.\r\n\r\nI know how to create a pipeline to run Cypress tests. But Appium, Nope","title":"How to run Appium tests with WebdriverIO (Android) in Azure DevOps Pipeline","body":"<p>I have a test that I want to run in Azure DevOps Pipeline. I'm using Appium and WebdriverIO.</p>\n<p>I have done it locally and it worked fine. I have installed an Android emulator from Android Studio and set the SDK and JDK paths.</p>\n<p>The problem now is that I need to create a pipeline to run the test. I have no idea how should I do it.</p>\n<p>How should I set the SDK and JDK in Azure DevOps. For your information, I don't use YAML. I use classic editor.</p>\n<p>I know how to create a pipeline to run Cypress tests. But Appium, Nope</p>\n"},{"tags":["java","spring","spring-boot","quartz-scheduler"],"comments":[{"owner":{"account_id":13578509,"reputation":681,"user_id":9795231,"display_name":"user06062019"},"score":0,"creation_date":1578387803,"post_id":59613194,"comment_id":105412626,"body_markdown":"I think you need to create your triggers with misfired configuration.Refer this http://www.quartz-scheduler.org/documentation/quartz-2.1.7/tutorials/tutorial-lesson-06.html","body":"I think you need to create your triggers with misfired configuration.Refer this <a href=\"http://www.quartz-scheduler.org/documentation/quartz-2.1.7/tutorials/tutorial-lesson-06.html\" rel=\"nofollow noreferrer\">quartz-scheduler.org/documentation/quartz-2.1.7/tutorials/&hellip;</a>"},{"owner":{"account_id":10092302,"reputation":1025,"user_id":7458887,"display_name":"Alexpandiyan Chokkan"},"score":0,"creation_date":1578477148,"post_id":59613194,"comment_id":105447770,"body_markdown":"I am not worrying about misfiring. I have to implement the scheduled jobs should be reinitialized.","body":"I am not worrying about misfiring. I have to implement the scheduled jobs should be reinitialized."},{"owner":{"account_id":13578509,"reputation":681,"user_id":9795231,"display_name":"user06062019"},"score":0,"creation_date":1578505415,"post_id":59613194,"comment_id":105463698,"body_markdown":"So when you say your application is  down and you want to restart all the triggers whose firing time has been lapsed.Isn&#39;t it a senerio of misfire?","body":"So when you say your application is  down and you want to restart all the triggers whose firing time has been lapsed.Isn&#39;t it a senerio of misfire?"},{"owner":{"account_id":10092302,"reputation":1025,"user_id":7458887,"display_name":"Alexpandiyan Chokkan"},"score":0,"creation_date":1578542334,"post_id":59613194,"comment_id":105474668,"body_markdown":"That&#39;s also a scenario of misfire. But I don&#39;t want to enable misfiring. Is there any other way to impl?","body":"That&#39;s also a scenario of misfire. But I don&#39;t want to enable misfiring. Is there any other way to impl?"},{"owner":{"account_id":13578509,"reputation":681,"user_id":9795231,"display_name":"user06062019"},"score":0,"creation_date":1578562437,"post_id":59613194,"comment_id":105481441,"body_markdown":"Sorry not sure about any other way of doing it without changing the quartz code.","body":"Sorry not sure about any other way of doing it without changing the quartz code."}],"answers":[{"tags":[],"owner":{"account_id":15190407,"reputation":13077,"user_id":10961238,"display_name":"Romil Patel"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1578587181,"creation_date":1578587181,"answer_id":59668275,"question_id":59613194,"body_markdown":"You can get the scheduled-jobs from the database and on application startup using `ApplicationRunner` or using `@EventListener(ApplicationReadyEvent.class)` and call to `startAllSchedulers()`.\r\n\r\n    public class SchedulerStartUpHandler implements ApplicationRunner {\r\n    \r\n        @Autowired\r\n        private SchedulerService schedulerService;\r\n    \r\n        @Override\r\n        public void run(ApplicationArguments args) throws Exception {\r\n            log.info(&quot;Schedule all new scheduler jobs at app startup - starting&quot;);\r\n            try {\r\n                schedulerService.startAllSchedulers();\r\n                log.info(&quot;Schedule all new scheduler jobs at app startup - complete&quot;);\r\n            } catch (Exception ex) {\r\n                log.error(&quot;Schedule all new scheduler jobs at app startup - error&quot;, ex);\r\n            }\r\n        }\r\n    }\r\n\r\nOR\r\n\r\n    @EventListener(ApplicationReadyEvent.class)\r\n    public void startTheScheduledJobFromDatabase() {\r\n        startAllSchedulers();\r\n    }\r\n\r\n\r\n----------\r\n**startAllSchedulers()**\r\n\r\n    public void startAllSchedulers() {\r\n       List&lt;SchedulerJobInfo&gt; jobInfoList = schedulerRepository.findAll();\r\n        if (jobInfoList != null) {\r\n            Scheduler scheduler = schedulerFactoryBean.getScheduler();\r\n            jobInfoList.forEach(jobInfo -&gt; {\r\n                try {\r\n                    JobDetail jobDetail = JobBuilder.newJob(SampleCronJob.class)\r\n                            .withIdentity(jobInfo.getJobName(), jobInfo.getJobGroup()).build();\r\n                    if (!scheduler.checkExists(jobDetail.getKey())) {\r\n                        Trigger trigger;\r\n                        jobDetail = scheduleCreator.createJob(SampleCronJob.class,\r\n                                false, context, jobInfo.getJobName(), jobInfo.getJobGroup());\r\n\r\n                        if (jobInfo.getCronJob() &amp;&amp; CronExpression.isValidExpression(jobInfo.getCronExpression())) {\r\n                            trigger = scheduleCreator.createCronTrigger(jobInfo.getJobName(), new Date(),\r\n                                    jobInfo.getCronExpression(), SimpleTrigger.MISFIRE_INSTRUCTION_FIRE_NOW);\r\n                        } else {\r\n                            trigger = scheduleCreator.createSimpleTrigger(jobInfo.getJobName(), new Date(),\r\n                                    jobInfo.getRepeatTime(), SimpleTrigger.MISFIRE_INSTRUCTION_FIRE_NOW);\r\n                        }\r\n\r\n                        scheduler.scheduleJob(jobDetail, trigger);\r\n\r\n                    }\r\n                } catch (SchedulerException e) {\r\n                    log.error(e.getMessage(), e);\r\n                }\r\n            });\r\n        }\r\n    }","title":"How to restart Quartz jobs which is stored in DB?","body":"<p>You can get the scheduled-jobs from the database and on application startup using <code>ApplicationRunner</code> or using <code>@EventListener(ApplicationReadyEvent.class)</code> and call to <code>startAllSchedulers()</code>.</p>\n\n<pre><code>public class SchedulerStartUpHandler implements ApplicationRunner {\n\n    @Autowired\n    private SchedulerService schedulerService;\n\n    @Override\n    public void run(ApplicationArguments args) throws Exception {\n        log.info(\"Schedule all new scheduler jobs at app startup - starting\");\n        try {\n            schedulerService.startAllSchedulers();\n            log.info(\"Schedule all new scheduler jobs at app startup - complete\");\n        } catch (Exception ex) {\n            log.error(\"Schedule all new scheduler jobs at app startup - error\", ex);\n        }\n    }\n}\n</code></pre>\n\n<p>OR</p>\n\n<pre><code>@EventListener(ApplicationReadyEvent.class)\npublic void startTheScheduledJobFromDatabase() {\n    startAllSchedulers();\n}\n</code></pre>\n\n<hr>\n\n<p><strong>startAllSchedulers()</strong></p>\n\n<pre><code>public void startAllSchedulers() {\n   List&lt;SchedulerJobInfo&gt; jobInfoList = schedulerRepository.findAll();\n    if (jobInfoList != null) {\n        Scheduler scheduler = schedulerFactoryBean.getScheduler();\n        jobInfoList.forEach(jobInfo -&gt; {\n            try {\n                JobDetail jobDetail = JobBuilder.newJob(SampleCronJob.class)\n                        .withIdentity(jobInfo.getJobName(), jobInfo.getJobGroup()).build();\n                if (!scheduler.checkExists(jobDetail.getKey())) {\n                    Trigger trigger;\n                    jobDetail = scheduleCreator.createJob(SampleCronJob.class,\n                            false, context, jobInfo.getJobName(), jobInfo.getJobGroup());\n\n                    if (jobInfo.getCronJob() &amp;&amp; CronExpression.isValidExpression(jobInfo.getCronExpression())) {\n                        trigger = scheduleCreator.createCronTrigger(jobInfo.getJobName(), new Date(),\n                                jobInfo.getCronExpression(), SimpleTrigger.MISFIRE_INSTRUCTION_FIRE_NOW);\n                    } else {\n                        trigger = scheduleCreator.createSimpleTrigger(jobInfo.getJobName(), new Date(),\n                                jobInfo.getRepeatTime(), SimpleTrigger.MISFIRE_INSTRUCTION_FIRE_NOW);\n                    }\n\n                    scheduler.scheduleJob(jobDetail, trigger);\n\n                }\n            } catch (SchedulerException e) {\n                log.error(e.getMessage(), e);\n            }\n        });\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25939300,"reputation":31,"user_id":19659058,"display_name":"gearbase"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680790257,"creation_date":1680790257,"answer_id":75950509,"question_id":59613194,"body_markdown":"I hope this information will be useful for you (this is a copy of my answer in this [thread](https://stackoverflow.com/a/75949972/19659058))\r\n\r\nBelow is an example of a multi-instance Spring Boot application that launches a cron job.  \r\nThe Job must be running on only one of the instances.  \r\nThe configuration of each instance must be the same.  \r\nIf a job crashes, it should try to restart 3 times with a delay of 5 minutes * number of restart attempts.  \r\nIf the job still crashes after 3 restarts, the default cron for our job trigger should be set.\r\n\r\n\r\n**We will use Quartz in cluster mode:**\r\n\r\nDeps:\r\n```groovy\r\nimplementation(&quot;org.springframework.boot:spring-boot-starter-quartz&quot;)\r\n```\r\n\r\nAt first, it is a bad idea to use Thread.sleep(600000) as said in this [answer](https://stackoverflow.com/a/4409263/19659058)  \r\n*Out job:*\r\n```kotlin\r\n@Component\r\n@Profile(&quot;quartz&quot;)\r\nclass SomeJob(\r\n    private val someService: SomeService\r\n) : QuartzJobBean() {\r\n    private val log: Logger = LoggerFactory.getLogger(SomeJob::class.java)\r\n    \r\n    override fun executeInternal(jobExecutionContext: JobExecutionContext) {\r\n        try {\r\n            log.info(&quot;Doing awesome work...&quot;)\r\n            someService.work()\r\n            if ((1..10).random() &gt;= 5) throw RuntimeException(&quot;Something went wrong...&quot;)\r\n        } catch (e: Exception) {\r\n            throw JobExecutionException(e)\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nHere is the Quartz configuration (more information [here](https://www.baeldung.com/spring-quartz-schedule)):\r\n```kotlin\r\n@Configuration\r\n@Profile(&quot;quartz&quot;)\r\nclass JobConfig {\r\n    //JobDetail for our job\r\n    @Bean\r\n    fun someJobDetail(): JobDetail {\r\n        return JobBuilder\r\n            .newJob(SomeJob::class.java).withIdentity(&quot;SomeJob&quot;)\r\n            .withDescription(&quot;Some job&quot;)\r\n            //If we want the job to be launched after the application instance crashes at the \r\n            //next launch\r\n            .requestRecovery(true)\r\n            .storeDurably().build()\r\n    }\r\n\r\n    //Trigger\r\n    @Bean\r\n    fun someJobTrigger(someJobDetail: JobDetail): Trigger {\r\n        return TriggerBuilder.newTrigger().forJob(someJobDetail)\r\n            .withIdentity(&quot;SomeJobTrigger&quot;)\r\n            .withSchedule(CronScheduleBuilder.cronSchedule(&quot;0/30 * * ? * * *&quot;))\r\n            .build()\r\n\r\n    }\r\n\r\n    //Otherwise, changing cron for an existing trigger will not work. (the old cron value will be stored in the database)\r\n    @Bean\r\n    fun scheduler(triggers: List&lt;Trigger&gt;, jobDetails: List&lt;JobDetail&gt;, factory: SchedulerFactoryBean): Scheduler {\r\n        factory.setWaitForJobsToCompleteOnShutdown(true)\r\n        val scheduler = factory.scheduler\r\n        factory.setOverwriteExistingJobs(true)\r\n        //https://stackoverflow.com/questions/39673572/spring-quartz-scheduler-race-condition\r\n        factory.setTransactionManager(JdbcTransactionManager())\r\n        rescheduleTriggers(triggers, scheduler)\r\n        scheduler.start()\r\n        return scheduler\r\n    }\r\n\r\n    private fun rescheduleTriggers(triggers: List&lt;Trigger&gt;, scheduler: Scheduler) {\r\n        triggers.forEach {\r\n            if (!scheduler.checkExists(it.key)) {\r\n                scheduler.scheduleJob(it)\r\n            } else {\r\n                scheduler.rescheduleJob(it.key, it)\r\n            }\r\n        }\r\n    }\r\n}\r\n    \r\n```\r\nAdd a listener to the scheduler:\r\n```kotlin\r\n@Component\r\n@Profile(&quot;quartz&quot;)\r\nclass JobListenerConfig(\r\n    private val schedulerFactory: SchedulerFactoryBean,\r\n    private val jobListener: JobListener\r\n) {\r\n    @PostConstruct\r\n    fun addListener() {\r\n        schedulerFactory.scheduler.listenerManager.addJobListener(jobListener, KeyMatcher.keyEquals(jobKey(&quot;SomeJob&quot;)))\r\n    }\r\n}\r\n\r\n```\r\n\r\nAnd now the most important - the logic of processing the execution of our job with listener:\r\n```kotlin\r\n@Profile(&quot;quartz&quot;)\r\nclass JobListener(\r\n    //can be obtained from the execution context, but it can also be injected\r\n    private val scheduler: Scheduler,\r\n    private val triggers: List&lt;Trigger&gt;\r\n): JobListenerSupport() {\r\n\r\n    private lateinit var triggerCronMap: Map&lt;String, String&gt;\r\n\r\n    @PostConstruct\r\n    fun post(){\r\n        //there will be no recovery triggers , only our self-written ones\r\n        triggerCronMap = triggers.associate {\r\n            it.key.name to (it as CronTrigger).cronExpression\r\n        }\r\n    }\r\n\r\n    override fun getName(): String {\r\n        return &quot;myJobListener&quot;\r\n    }\r\n\r\n\r\n    override fun jobToBeExecuted(context: JobExecutionContext) {\r\n        log.info(&quot;Job: ${context.jobDetail.key.name} ready to start by trigger: ${context.trigger.key.name}&quot;)\r\n    }\r\n\r\n\r\n    override fun jobWasExecuted(context: JobExecutionContext, jobException: JobExecutionException?) {\r\n        //you can use context.mergedJobDataMap\r\n        val dataMap = context.trigger.jobDataMap\r\n        val count = if (dataMap[&quot;count&quot;] != null) dataMap.getIntValue(&quot;count&quot;) else {\r\n            dataMap.putAsString(&quot;count&quot;, 1)\r\n            1\r\n        }\r\n        //in the if block, you can add the condition &amp;&amp; !context.trigger.key.name.startsWith(&quot;recover_&quot;) - in this case, the scheduler will not restart recover triggers if they fall during execution\r\n        if (jobException != null ){\r\n            if (count &lt; 3) {\r\n                log.warn(&quot;Job: ${context.jobDetail.key.name} filed while execution. Restart attempts count: $count &quot;)\r\n                val oldTrigger = context.trigger\r\n                var newTriggerName = context.trigger.key.name + &quot;_retry&quot;\r\n                //in case such a trigger already exists\r\n                context.scheduler.getTriggersOfJob(context.jobDetail.key)\r\n                    .map { it.key.name }\r\n                    .takeIf { it.contains(newTriggerName) }\r\n                    ?.apply { newTriggerName += &quot;_retry&quot; }\r\n                val newTrigger = TriggerBuilder.newTrigger()\r\n                    .forJob(context.jobDetail)\r\n                    .withIdentity(newTriggerName, context.trigger.key.group)\r\n                    //create a simple trigger that should be fired in 5 minutes * restart attempts\r\n                    .startAt(Date.from(Instant.now().plus((5 * count).toLong(), ChronoUnit.MINUTES)))\r\n                    .usingJobData(&quot;count&quot;, count + 1 )\r\n                    .build()\r\n                val date = scheduler.rescheduleJob(oldTrigger.key, newTrigger)\r\n                log.warn(&quot;Rescheduling trigger: ${oldTrigger.key} to trigger: ${newTrigger.key}&quot;)\r\n            } else {\r\n                log.warn(&quot;The maximum number of restarts has been reached. Restart attempts: $count&quot;)\r\n                recheduleWithDefaultTrigger(context)\r\n            }\r\n        } else if (count &gt; 1) {\r\n            recheduleWithDefaultTrigger(context)\r\n        }\r\n        else {\r\n            log.info(&quot;Job: ${context.jobDetail.key.name} completed successfully&quot;)\r\n        }\r\n        context.scheduler.getTriggersOfJob(context.trigger.jobKey).forEach {\r\n            log.info(&quot;Trigger with key: ${it.key} for job: ${context.trigger.jobKey.name} will start at ${it.nextFireTime ?: it.startTime}&quot;)\r\n        }\r\n    }\r\n\r\n    private fun recheduleWithDefaultTrigger(context: JobExecutionContext) {\r\n        val clone = context.jobDetail.clone() as JobDetail\r\n        val defaultTriggerName = context.trigger.key.name.split(&quot;_&quot;)[0]\r\n        //Recovery triggers should not be rescheduled\r\n        if (!triggerCronMap.contains(defaultTriggerName)) {\r\n            log.warn(&quot;This trigger: ${context.trigger.key.name} for job: ${context.trigger.jobKey.name} is not self-written trigger. It can be recovery trigger or whatever. This trigger must not be recheduled.&quot;)\r\n            return\r\n        }\r\n        log.warn(&quot;Remove all triggers for job: ${context.trigger.jobKey.name} and schedule default trigger for it: $defaultTriggerName&quot;)\r\n        scheduler.deleteJob(clone.key)\r\n        scheduler.addJob(clone, true)\r\n        scheduler.scheduleJob(\r\n            TriggerBuilder.newTrigger()\r\n                .forJob(clone)\r\n                .withIdentity(defaultTriggerName)\r\n                .withSchedule(CronScheduleBuilder.cronSchedule(triggerCronMap[defaultTriggerName]))\r\n                .usingJobData(&quot;count&quot;, 1)\r\n                .startAt(Date.from(Instant.now().plusSeconds(5)))\r\n                .build()\r\n        )\r\n    }\r\n}\r\n```\r\nLast but not least: **application.yaml**\r\n```yaml\r\nspring:\r\n  quartz:\r\n    job-store-type: jdbc #Database Mode\r\n    jdbc:\r\n      initialize-schema: never #Do not initialize table structure\r\n    properties:\r\n      org:\r\n        quartz:\r\n          scheduler:\r\n            instanceId: AUTO #Default hostname and timestamp generate instance ID, which can be any string, but must be the only corresponding qrtz_scheduler_state INSTANCE_NAME field for all dispatchers\r\n            #instanceName: clusteredScheduler #quartzScheduler\r\n          jobStore:\r\n#            a few problems with the two properties below: https://github.com/spring-projects/spring-boot/issues/28758#issuecomment-974628989 &amp; https://github.com/quartz-scheduler/quartz/issues/284\r\n#            class: org.springframework.scheduling.quartz.LocalDataSourceJobStore #Persistence Configuration\r\n            driverDelegateClass: org.quartz.impl.jdbcjobstore.PostgreSQLDelegate #We only make database-specific proxies for databases\r\n#            useProperties: true #Indicates that JDBC JobStore stores all values in JobDataMaps as strings, so more complex objects can be stored as name-value pairs rather than serialized in BLOB columns.In the long run, this is safer because you avoid serializing non-String classes to BLOB class versions.\r\n            tablePrefix: scam_quartz.QRTZ_  #Database Table Prefix\r\n            misfireThreshold: 60000 #The number of milliseconds the dispatcher will &quot;tolerate&quot; a Trigger to pass its next startup time before being considered a &quot;fire&quot;.The default value (if you do not enter this property in the configuration) is 60000 (60 seconds).\r\n            clusterCheckinInterval: 5000 #Set the frequency (in milliseconds) of this instance&#39;checkin&#39;* with other instances of the cluster.Affects the speed of detecting failed instances.\r\n            isClustered: true #Turn on Clustering\r\n          threadPool: #Connection Pool\r\n            class: org.quartz.simpl.SimpleThreadPool\r\n            threadCount: 3\r\n            threadPriority: 1\r\n            threadsInheritContextClassLoaderOfInitializingThread: true\r\n```\r\n\r\n[Here](https://github.com/quartz-scheduler/quartz/tree/master/quartz-core/src/main/resources/org/quartz/impl/jdbcjobstore) official scripts for database (use liquibase or flyway)      \r\nMore information:   \r\n[About quartz](https://www.baeldung.com/quartz)  \r\n[spring boot using quartz in cluster mode](https://medium.com/javarevisited/spring-boot-using-quartz-in-mode-cluster-e1d71e4af4b9)  \r\n[One more article](https://habr.com/ru/companies/surfstudio/articles/685980)  \r\n[Cluster effectively quartz](https://medium.com/javarevisited/how-to-cluster-effectively-quartz-jobs-9b097f5e1191)","title":"How to restart Quartz jobs which is stored in DB?","body":"<p>I hope this information will be useful for you (this is a copy of my answer in this <a href=\"https://stackoverflow.com/a/75949972/19659058\">thread</a>)</p>\n<p>Below is an example of a multi-instance Spring Boot application that launches a cron job.<br />\nThe Job must be running on only one of the instances.<br />\nThe configuration of each instance must be the same.<br />\nIf a job crashes, it should try to restart 3 times with a delay of 5 minutes * number of restart attempts.<br />\nIf the job still crashes after 3 restarts, the default cron for our job trigger should be set.</p>\n<p><strong>We will use Quartz in cluster mode:</strong></p>\n<p>Deps:</p>\n<pre><code>implementation(&quot;org.springframework.boot:spring-boot-starter-quartz&quot;)\n</code></pre>\n<p>At first, it is a bad idea to use Thread.sleep(600000) as said in this <a href=\"https://stackoverflow.com/a/4409263/19659058\">answer</a><br />\n<em>Out job:</em></p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Component\n@Profile(&quot;quartz&quot;)\nclass SomeJob(\n    private val someService: SomeService\n) : QuartzJobBean() {\n    private val log: Logger = LoggerFactory.getLogger(SomeJob::class.java)\n    \n    override fun executeInternal(jobExecutionContext: JobExecutionContext) {\n        try {\n            log.info(&quot;Doing awesome work...&quot;)\n            someService.work()\n            if ((1..10).random() &gt;= 5) throw RuntimeException(&quot;Something went wrong...&quot;)\n        } catch (e: Exception) {\n            throw JobExecutionException(e)\n        }\n    }\n}\n</code></pre>\n<p>Here is the Quartz configuration (more information <a href=\"https://www.baeldung.com/spring-quartz-schedule\" rel=\"nofollow noreferrer\">here</a>):</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Configuration\n@Profile(&quot;quartz&quot;)\nclass JobConfig {\n    //JobDetail for our job\n    @Bean\n    fun someJobDetail(): JobDetail {\n        return JobBuilder\n            .newJob(SomeJob::class.java).withIdentity(&quot;SomeJob&quot;)\n            .withDescription(&quot;Some job&quot;)\n            //If we want the job to be launched after the application instance crashes at the \n            //next launch\n            .requestRecovery(true)\n            .storeDurably().build()\n    }\n\n    //Trigger\n    @Bean\n    fun someJobTrigger(someJobDetail: JobDetail): Trigger {\n        return TriggerBuilder.newTrigger().forJob(someJobDetail)\n            .withIdentity(&quot;SomeJobTrigger&quot;)\n            .withSchedule(CronScheduleBuilder.cronSchedule(&quot;0/30 * * ? * * *&quot;))\n            .build()\n\n    }\n\n    //Otherwise, changing cron for an existing trigger will not work. (the old cron value will be stored in the database)\n    @Bean\n    fun scheduler(triggers: List&lt;Trigger&gt;, jobDetails: List&lt;JobDetail&gt;, factory: SchedulerFactoryBean): Scheduler {\n        factory.setWaitForJobsToCompleteOnShutdown(true)\n        val scheduler = factory.scheduler\n        factory.setOverwriteExistingJobs(true)\n        //https://stackoverflow.com/questions/39673572/spring-quartz-scheduler-race-condition\n        factory.setTransactionManager(JdbcTransactionManager())\n        rescheduleTriggers(triggers, scheduler)\n        scheduler.start()\n        return scheduler\n    }\n\n    private fun rescheduleTriggers(triggers: List&lt;Trigger&gt;, scheduler: Scheduler) {\n        triggers.forEach {\n            if (!scheduler.checkExists(it.key)) {\n                scheduler.scheduleJob(it)\n            } else {\n                scheduler.rescheduleJob(it.key, it)\n            }\n        }\n    }\n}\n    \n</code></pre>\n<p>Add a listener to the scheduler:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Component\n@Profile(&quot;quartz&quot;)\nclass JobListenerConfig(\n    private val schedulerFactory: SchedulerFactoryBean,\n    private val jobListener: JobListener\n) {\n    @PostConstruct\n    fun addListener() {\n        schedulerFactory.scheduler.listenerManager.addJobListener(jobListener, KeyMatcher.keyEquals(jobKey(&quot;SomeJob&quot;)))\n    }\n}\n\n</code></pre>\n<p>And now the most important - the logic of processing the execution of our job with listener:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Profile(&quot;quartz&quot;)\nclass JobListener(\n    //can be obtained from the execution context, but it can also be injected\n    private val scheduler: Scheduler,\n    private val triggers: List&lt;Trigger&gt;\n): JobListenerSupport() {\n\n    private lateinit var triggerCronMap: Map&lt;String, String&gt;\n\n    @PostConstruct\n    fun post(){\n        //there will be no recovery triggers , only our self-written ones\n        triggerCronMap = triggers.associate {\n            it.key.name to (it as CronTrigger).cronExpression\n        }\n    }\n\n    override fun getName(): String {\n        return &quot;myJobListener&quot;\n    }\n\n\n    override fun jobToBeExecuted(context: JobExecutionContext) {\n        log.info(&quot;Job: ${context.jobDetail.key.name} ready to start by trigger: ${context.trigger.key.name}&quot;)\n    }\n\n\n    override fun jobWasExecuted(context: JobExecutionContext, jobException: JobExecutionException?) {\n        //you can use context.mergedJobDataMap\n        val dataMap = context.trigger.jobDataMap\n        val count = if (dataMap[&quot;count&quot;] != null) dataMap.getIntValue(&quot;count&quot;) else {\n            dataMap.putAsString(&quot;count&quot;, 1)\n            1\n        }\n        //in the if block, you can add the condition &amp;&amp; !context.trigger.key.name.startsWith(&quot;recover_&quot;) - in this case, the scheduler will not restart recover triggers if they fall during execution\n        if (jobException != null ){\n            if (count &lt; 3) {\n                log.warn(&quot;Job: ${context.jobDetail.key.name} filed while execution. Restart attempts count: $count &quot;)\n                val oldTrigger = context.trigger\n                var newTriggerName = context.trigger.key.name + &quot;_retry&quot;\n                //in case such a trigger already exists\n                context.scheduler.getTriggersOfJob(context.jobDetail.key)\n                    .map { it.key.name }\n                    .takeIf { it.contains(newTriggerName) }\n                    ?.apply { newTriggerName += &quot;_retry&quot; }\n                val newTrigger = TriggerBuilder.newTrigger()\n                    .forJob(context.jobDetail)\n                    .withIdentity(newTriggerName, context.trigger.key.group)\n                    //create a simple trigger that should be fired in 5 minutes * restart attempts\n                    .startAt(Date.from(Instant.now().plus((5 * count).toLong(), ChronoUnit.MINUTES)))\n                    .usingJobData(&quot;count&quot;, count + 1 )\n                    .build()\n                val date = scheduler.rescheduleJob(oldTrigger.key, newTrigger)\n                log.warn(&quot;Rescheduling trigger: ${oldTrigger.key} to trigger: ${newTrigger.key}&quot;)\n            } else {\n                log.warn(&quot;The maximum number of restarts has been reached. Restart attempts: $count&quot;)\n                recheduleWithDefaultTrigger(context)\n            }\n        } else if (count &gt; 1) {\n            recheduleWithDefaultTrigger(context)\n        }\n        else {\n            log.info(&quot;Job: ${context.jobDetail.key.name} completed successfully&quot;)\n        }\n        context.scheduler.getTriggersOfJob(context.trigger.jobKey).forEach {\n            log.info(&quot;Trigger with key: ${it.key} for job: ${context.trigger.jobKey.name} will start at ${it.nextFireTime ?: it.startTime}&quot;)\n        }\n    }\n\n    private fun recheduleWithDefaultTrigger(context: JobExecutionContext) {\n        val clone = context.jobDetail.clone() as JobDetail\n        val defaultTriggerName = context.trigger.key.name.split(&quot;_&quot;)[0]\n        //Recovery triggers should not be rescheduled\n        if (!triggerCronMap.contains(defaultTriggerName)) {\n            log.warn(&quot;This trigger: ${context.trigger.key.name} for job: ${context.trigger.jobKey.name} is not self-written trigger. It can be recovery trigger or whatever. This trigger must not be recheduled.&quot;)\n            return\n        }\n        log.warn(&quot;Remove all triggers for job: ${context.trigger.jobKey.name} and schedule default trigger for it: $defaultTriggerName&quot;)\n        scheduler.deleteJob(clone.key)\n        scheduler.addJob(clone, true)\n        scheduler.scheduleJob(\n            TriggerBuilder.newTrigger()\n                .forJob(clone)\n                .withIdentity(defaultTriggerName)\n                .withSchedule(CronScheduleBuilder.cronSchedule(triggerCronMap[defaultTriggerName]))\n                .usingJobData(&quot;count&quot;, 1)\n                .startAt(Date.from(Instant.now().plusSeconds(5)))\n                .build()\n        )\n    }\n}\n</code></pre>\n<p>Last but not least: <strong>application.yaml</strong></p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  quartz:\n    job-store-type: jdbc #Database Mode\n    jdbc:\n      initialize-schema: never #Do not initialize table structure\n    properties:\n      org:\n        quartz:\n          scheduler:\n            instanceId: AUTO #Default hostname and timestamp generate instance ID, which can be any string, but must be the only corresponding qrtz_scheduler_state INSTANCE_NAME field for all dispatchers\n            #instanceName: clusteredScheduler #quartzScheduler\n          jobStore:\n#            a few problems with the two properties below: https://github.com/spring-projects/spring-boot/issues/28758#issuecomment-974628989 &amp; https://github.com/quartz-scheduler/quartz/issues/284\n#            class: org.springframework.scheduling.quartz.LocalDataSourceJobStore #Persistence Configuration\n            driverDelegateClass: org.quartz.impl.jdbcjobstore.PostgreSQLDelegate #We only make database-specific proxies for databases\n#            useProperties: true #Indicates that JDBC JobStore stores all values in JobDataMaps as strings, so more complex objects can be stored as name-value pairs rather than serialized in BLOB columns.In the long run, this is safer because you avoid serializing non-String classes to BLOB class versions.\n            tablePrefix: scam_quartz.QRTZ_  #Database Table Prefix\n            misfireThreshold: 60000 #The number of milliseconds the dispatcher will &quot;tolerate&quot; a Trigger to pass its next startup time before being considered a &quot;fire&quot;.The default value (if you do not enter this property in the configuration) is 60000 (60 seconds).\n            clusterCheckinInterval: 5000 #Set the frequency (in milliseconds) of this instance'checkin'* with other instances of the cluster.Affects the speed of detecting failed instances.\n            isClustered: true #Turn on Clustering\n          threadPool: #Connection Pool\n            class: org.quartz.simpl.SimpleThreadPool\n            threadCount: 3\n            threadPriority: 1\n            threadsInheritContextClassLoaderOfInitializingThread: true\n</code></pre>\n<p><a href=\"https://github.com/quartz-scheduler/quartz/tree/master/quartz-core/src/main/resources/org/quartz/impl/jdbcjobstore\" rel=\"nofollow noreferrer\">Here</a> official scripts for database (use liquibase or flyway)<br />\nMore information:<br />\n<a href=\"https://www.baeldung.com/quartz\" rel=\"nofollow noreferrer\">About quartz</a><br />\n<a href=\"https://medium.com/javarevisited/spring-boot-using-quartz-in-mode-cluster-e1d71e4af4b9\" rel=\"nofollow noreferrer\">spring boot using quartz in cluster mode</a><br />\n<a href=\"https://habr.com/ru/companies/surfstudio/articles/685980\" rel=\"nofollow noreferrer\">One more article</a><br />\n<a href=\"https://medium.com/javarevisited/how-to-cluster-effectively-quartz-jobs-9b097f5e1191\" rel=\"nofollow noreferrer\">Cluster effectively quartz</a></p>\n"}],"owner":{"account_id":10092302,"reputation":1025,"user_id":7458887,"display_name":"Alexpandiyan Chokkan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5153,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1680790257,"creation_date":1578318160,"question_id":59613194,"body_markdown":"I have a `scheduler` application which runs using `Spring Boot` &amp; `Quartz`. I have created the job with multiple triggers (cron) which is running perfectly fine. The details of the job, cron expressions are storing at the database.\r\n\r\nHere is the requirement, whenever restarting the application the stored triggers are not firing. I know a workaround to make it happen. Storing the details of job, trigger in a user defined table. Should be loaded upfront whenever the application starts. But I am not sure the approach is right or wrong.\r\n\r\nAlso I have referred lot of articles and github projects to find out how to restart/resume/re-initiate jobs.\r\n\r\nThere could be a solution where I couldn&#39;t find, maybe lack of understanding of quartz or something. I am sure someone would have experienced the scenario and found a way to overcome it. It will be grateful if someone provide an answer.","title":"How to restart Quartz jobs which is stored in DB?","body":"<p>I have a <code>scheduler</code> application which runs using <code>Spring Boot</code> &amp; <code>Quartz</code>. I have created the job with multiple triggers (cron) which is running perfectly fine. The details of the job, cron expressions are storing at the database.</p>\n\n<p>Here is the requirement, whenever restarting the application the stored triggers are not firing. I know a workaround to make it happen. Storing the details of job, trigger in a user defined table. Should be loaded upfront whenever the application starts. But I am not sure the approach is right or wrong.</p>\n\n<p>Also I have referred lot of articles and github projects to find out how to restart/resume/re-initiate jobs.</p>\n\n<p>There could be a solution where I couldn't find, maybe lack of understanding of quartz or something. I am sure someone would have experienced the scenario and found a way to overcome it. It will be grateful if someone provide an answer.</p>\n"},{"tags":["java","maven","dockerfile"],"comments":[{"owner":{"account_id":20137339,"reputation":5,"user_id":14768013,"display_name":"Ferich1"},"score":0,"creation_date":1680790149,"post_id":75950457,"comment_id":133960013,"body_markdown":"Lool what... My maven was in the offline mode. How?.. Okaaaay. I switched off offline mode. But why Maven switched on an offline mode? Loll","body":"Lool what... My maven was in the offline mode. How?.. Okaaaay. I switched off offline mode. But why Maven switched on an offline mode? Loll"}],"owner":{"account_id":20137339,"reputation":5,"user_id":14768013,"display_name":"Ferich1"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":179,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680790002,"creation_date":1680790002,"question_id":75950457,"body_markdown":"I am trying to include docker-maven-plugin to my pom.xml file but always I get an error: Cannot resolve plugin io.fabric8:docker-maven-plugin:0.42.0.\r\n\r\nWhat am I doing wrong?\r\nHere is my pom.xml file:\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.7.10&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.optimagrowth&lt;/groupId&gt;\r\n    &lt;artifactId&gt;licensing-service&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;Microservices1&lt;/name&gt;\r\n    &lt;description&gt;Microservices1&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;11&lt;/java.version&gt;\r\n        &lt;docker.image.prefix&gt;ostock&lt;/docker.image.prefix&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-hateoas&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;version&gt;1.18.22&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;!-- This plugin is used to create a docker image and publish the image to docker hub--&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;io.fabric8&lt;/groupId&gt;\r\n                &lt;artifactId&gt;docker-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;0.42.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;repository&gt;${docker.image.prefix}/${project.artifactId}&lt;/repository&gt;\r\n                    &lt;tag&gt;${project.version}&lt;/tag&gt;\r\n                    &lt;buildArgs&gt;\r\n                        &lt;JAR_FILE&gt;target/${project.build.finalName}.jar&lt;/JAR_FILE&gt;\r\n                    &lt;/buildArgs&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;default&lt;/id&gt;\r\n                        &lt;phase&gt;install&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;build&lt;/goal&gt;\r\n                            &lt;goal&gt;push&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\n\r\n\r\nAlso I tried to add dockerfile-maven plugin, but I got the same error: Cannot resolve plugin com.spotify:dockerfile-maven-plugin:1.4.13.","title":"Cannot resolve plugin io.fabric8:docker-maven-plugin:0.42.0","body":"<p>I am trying to include docker-maven-plugin to my pom.xml file but always I get an error: Cannot resolve plugin io.fabric8:docker-maven-plugin:0.42.0.</p>\n<p>What am I doing wrong?\nHere is my pom.xml file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.10&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.optimagrowth&lt;/groupId&gt;\n    &lt;artifactId&gt;licensing-service&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;Microservices1&lt;/name&gt;\n    &lt;description&gt;Microservices1&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n        &lt;docker.image.prefix&gt;ostock&lt;/docker.image.prefix&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-hateoas&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;1.18.22&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;!-- This plugin is used to create a docker image and publish the image to docker hub--&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;io.fabric8&lt;/groupId&gt;\n                &lt;artifactId&gt;docker-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.42.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;repository&gt;${docker.image.prefix}/${project.artifactId}&lt;/repository&gt;\n                    &lt;tag&gt;${project.version}&lt;/tag&gt;\n                    &lt;buildArgs&gt;\n                        &lt;JAR_FILE&gt;target/${project.build.finalName}.jar&lt;/JAR_FILE&gt;\n                    &lt;/buildArgs&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;default&lt;/id&gt;\n                        &lt;phase&gt;install&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;build&lt;/goal&gt;\n                            &lt;goal&gt;push&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n\n\n&lt;/project&gt;\n\n</code></pre>\n<p>Also I tried to add dockerfile-maven plugin, but I got the same error: Cannot resolve plugin com.spotify:dockerfile-maven-plugin:1.4.13.</p>\n"},{"tags":["java","awt","x11"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1680711573,"post_id":75941817,"comment_id":133945763,"body_markdown":"Looks like you haven&#39;t installed zthe x11 components of you OS","body":"Looks like you haven&#39;t installed zthe x11 components of you OS"},{"owner":{"account_id":28224593,"reputation":29,"user_id":21574817,"display_name":"jlan"},"score":0,"creation_date":1680711930,"post_id":75941817,"comment_id":133945855,"body_markdown":"I have installed X11 and it works if I type startx","body":"I have installed X11 and it works if I type startx"},{"owner":{"account_id":7547772,"reputation":8583,"user_id":5730279,"display_name":"hc_dev"},"score":0,"creation_date":1680717073,"post_id":75941817,"comment_id":133947059,"body_markdown":"Does this answer your question? [Java Can&#39;t connect to X11 window server using &#39;localhost:10.0&#39; as the value of the DISPLAY variable](https://stackoverflow.com/questions/10165761/java-cant-connect-to-x11-window-server-using-localhost10-0-as-the-value-of-t)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/10165761/java-cant-connect-to-x11-window-server-using-localhost10-0-as-the-value-of-t\">Java Can&#39;t connect to X11 window server using &#39;localhost:10.0&#39; as the value of the DISPLAY variable</a>"},{"owner":{"account_id":28224593,"reputation":29,"user_id":21574817,"display_name":"jlan"},"score":0,"creation_date":1680770781,"post_id":75941817,"comment_id":133955504,"body_markdown":"Won&#39;t work, but thanks anyways","body":"Won&#39;t work, but thanks anyways"}],"answers":[{"tags":[],"owner":{"account_id":12902766,"reputation":173,"user_id":9331018,"display_name":"M Virts"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680712983,"creation_date":1680712983,"answer_id":75942023,"question_id":75941817,"body_markdown":"Based on the localhost:10.0 value of DISPLAY, it seems likely that you are connecting to the raspberry pi via SSH and your SSH client is attempting to do X forwarding (allowing remote programs to open windows on your local computer). Disable X forwarding in your SSH client or set your DISPLAY variable to something else to avoid this. I would try `export DISPLAY=:0` as a starting point for testing.\r\n\r\nIf that doesn&#39;t help, try running a known X application like `xterm` to see if it will connect to the X server and create a window. If this fails, you may need to fix your X server configuration, or an X server may not be running.\r\n\r\nIf that succeeds, check the DISPLAY variable that works for the other program (`echo $DISPLAY`) and try using whatever value is set there. (e.g. `export DISPLAY=:0`)\r\n\r\nNote that X display numbers usually correspond to a TCP port number where the X server is listening. The display number is 6000 less than the port number, so display 0 listens on port 6000, display 10 listens on 6010. This means you can use a command like `netstat -tlp` to list out programs that are listening on specific ports and check if anything is listening on port 6010, corresponding to localhost:10.0 in your DISPLAY variable. If the process listening on 6010 is ssh, your client is attempting to provide X forwarding.\r\n\r\nAlso note that on most systems X servers have an authentication mechanism that prevents users that didn&#39;t start a session from connecting. (look up XAuthority file for more info) Usually the root user can open windows on any X server, so it may be worth trying as the root user to test.\r\n\r\n\r\n\r\n","title":"java.awt.AWTError: Can&#39;t connect to X11 window server using &#39;localhost:10.0&#39; as the value of the DISPLAY variable","body":"<p>Based on the localhost:10.0 value of DISPLAY, it seems likely that you are connecting to the raspberry pi via SSH and your SSH client is attempting to do X forwarding (allowing remote programs to open windows on your local computer). Disable X forwarding in your SSH client or set your DISPLAY variable to something else to avoid this. I would try <code>export DISPLAY=:0</code> as a starting point for testing.</p>\n<p>If that doesn't help, try running a known X application like <code>xterm</code> to see if it will connect to the X server and create a window. If this fails, you may need to fix your X server configuration, or an X server may not be running.</p>\n<p>If that succeeds, check the DISPLAY variable that works for the other program (<code>echo $DISPLAY</code>) and try using whatever value is set there. (e.g. <code>export DISPLAY=:0</code>)</p>\n<p>Note that X display numbers usually correspond to a TCP port number where the X server is listening. The display number is 6000 less than the port number, so display 0 listens on port 6000, display 10 listens on 6010. This means you can use a command like <code>netstat -tlp</code> to list out programs that are listening on specific ports and check if anything is listening on port 6010, corresponding to localhost:10.0 in your DISPLAY variable. If the process listening on 6010 is ssh, your client is attempting to provide X forwarding.</p>\n<p>Also note that on most systems X servers have an authentication mechanism that prevents users that didn't start a session from connecting. (look up XAuthority file for more info) Usually the root user can open windows on any X server, so it may be worth trying as the root user to test.</p>\n"},{"tags":[],"owner":{"account_id":28224593,"reputation":29,"user_id":21574817,"display_name":"jlan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680789985,"creation_date":1680789985,"answer_id":75950453,"question_id":75941817,"body_markdown":"I just got it, it was as simple as writing `sudo java -jar` instead of `java -jar`, not sure why but it works now","title":"java.awt.AWTError: Can&#39;t connect to X11 window server using &#39;localhost:10.0&#39; as the value of the DISPLAY variable","body":"<p>I just got it, it was as simple as writing <code>sudo java -jar</code> instead of <code>java -jar</code>, not sure why but it works now</p>\n"}],"owner":{"account_id":28224593,"reputation":29,"user_id":21574817,"display_name":"jlan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2103,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":75950453,"answer_count":2,"score":0,"last_activity_date":1680789985,"creation_date":1680711418,"question_id":75941817,"body_markdown":"I have a problem working connecting to X11 and DISPLAY variable\r\n\r\n\r\nI&#39;m working with a Java file in my Raspberry Pi Zero that is using JFrame and I want the window created by JFrame to show up in a monitor that is connected to my Raspberry, but I keep getting this exception. Any ideas? I&#39;m working with Java OpenJDK version &quot;1.8.0_312&quot;\r\n\r\n```none\r\nException in thread &quot;main&quot; java.awt.AWTError: Can&#39;t connect to X11 window server using &#39;localhost:10.0&#39; as the value of the DISPLAY variable.\r\n    at sun.awt.X11GraphicsEnvironment.initDisplay(Native Method)\r\n    at sun.awt.X11GraphicsEnvironment.access$200(X11GraphicsEnvironment.java:65)\r\n    at sun.awt.X11GraphicsEnvironment$1.run(X11GraphicsEnvironment.java:115)\r\n    at java.security.AccessController.doPrivileged(Native Method)\r\n    at sun.awt.X11GraphicsEnvironment.&lt;clinit&gt;(X11GraphicsEnvironment.java:74)\r\n    at java.lang.Class.forName0(Native Method)\r\n    at java.lang.Class.forName(Class.java:264)\r\n    at java.awt.GraphicsEnvironment.createGE(GraphicsEnvironment.java:103)\r\n    at java.awt.GraphicsEnvironment.getLocalGraphicsEnvironment(GraphicsEnvironment.java:82)\r\n    at java.awt.Window.initGC(Window.java:475)\r\n    at java.awt.Window.init(Window.java:495)\r\n    at java.awt.Window.&lt;init&gt;(Window.java:537)\r\n    at java.awt.Frame.&lt;init&gt;(Frame.java:420)\r\n    at javax.swing.JFrame.&lt;init&gt;(JFrame.java:233)\r\n    at Prueba.main(Prueba.java:5)\r\n```\r\n\r\nI tried to start xterm or xhost to check everything was working fine but I have this problem:\r\n\r\n```none\r\nNo protocol specified\r\nxterm: Xt error: Can&#39;t open display: :0\r\n```\r\n\r\nI am using Putty as my SSH client.","title":"java.awt.AWTError: Can&#39;t connect to X11 window server using &#39;localhost:10.0&#39; as the value of the DISPLAY variable","body":"<p>I have a problem working connecting to X11 and DISPLAY variable</p>\n<p>I'm working with a Java file in my Raspberry Pi Zero that is using JFrame and I want the window created by JFrame to show up in a monitor that is connected to my Raspberry, but I keep getting this exception. Any ideas? I'm working with Java OpenJDK version &quot;1.8.0_312&quot;</p>\n<pre class=\"lang-none prettyprint-override\"><code>Exception in thread &quot;main&quot; java.awt.AWTError: Can't connect to X11 window server using 'localhost:10.0' as the value of the DISPLAY variable.\n    at sun.awt.X11GraphicsEnvironment.initDisplay(Native Method)\n    at sun.awt.X11GraphicsEnvironment.access$200(X11GraphicsEnvironment.java:65)\n    at sun.awt.X11GraphicsEnvironment$1.run(X11GraphicsEnvironment.java:115)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at sun.awt.X11GraphicsEnvironment.&lt;clinit&gt;(X11GraphicsEnvironment.java:74)\n    at java.lang.Class.forName0(Native Method)\n    at java.lang.Class.forName(Class.java:264)\n    at java.awt.GraphicsEnvironment.createGE(GraphicsEnvironment.java:103)\n    at java.awt.GraphicsEnvironment.getLocalGraphicsEnvironment(GraphicsEnvironment.java:82)\n    at java.awt.Window.initGC(Window.java:475)\n    at java.awt.Window.init(Window.java:495)\n    at java.awt.Window.&lt;init&gt;(Window.java:537)\n    at java.awt.Frame.&lt;init&gt;(Frame.java:420)\n    at javax.swing.JFrame.&lt;init&gt;(JFrame.java:233)\n    at Prueba.main(Prueba.java:5)\n</code></pre>\n<p>I tried to start xterm or xhost to check everything was working fine but I have this problem:</p>\n<pre class=\"lang-none prettyprint-override\"><code>No protocol specified\nxterm: Xt error: Can't open display: :0\n</code></pre>\n<p>I am using Putty as my SSH client.</p>\n"},{"tags":["java","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1680790119,"post_id":75950060,"comment_id":133960003,"body_markdown":"I wouldn&#39;t expect it. What makes you think you can change the metadata through modifying the map? If you are already generating the code why modify it afterwards, feels weird to me (although the whole construct feels weird to me but that is something else).","body":"I wouldn&#39;t expect it. What makes you think you can change the metadata through modifying the map? If you are already generating the code why modify it afterwards, feels weird to me (although the whole construct feels weird to me but that is something else)."}],"owner":{"account_id":24774918,"reputation":11,"user_id":18658548,"display_name":"Amit Singh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1680789849,"creation_date":1680787461,"question_id":75950060,"body_markdown":"I am trying to create wrapper for integrating multiple databases in spring boot.\r\nIn order to scan Repositories, i am creating Configuration class file annotated with @EnableJpaRepositories at runtime.\r\n\r\nSteps : \r\n1. Read multiple database configurations for some config file.\r\n2. Create @Configuration class file  for each database at runtime\r\n3. Register this configuration bean in spring boot at runtime.\r\n\r\nBelow is my code : \r\n\r\nMy dynamically created @Configuration class file at runtime from template looks something this : \r\n\r\n\r\n```\r\n@Configuration\r\n@Component\r\n@EnableTransactionManagement\r\n@EnableJpaRepositories\r\npublic class TESTDBJpaConfig {\r\n\r\n\t@Autowired\r\n    private LoadTimeWeaver loadTimeWeaver;\r\n\r\n\t@Bean(&quot;testdbdatasource&quot;)\r\n    public DataSource clusterDataSource() throws Exception {\r\n       \r\n\t\t// Initalizing datasource as per config value : say testDataSOurce    \r\n        return testDataSOurce;\r\n    }\r\n\r\n    @Bean(&quot;testentitymanager&quot;)\r\n    public LocalContainerEntityManagerFactoryBean entityManagerFactory() throws Exception {\r\n    \tLocalContainerEntityManagerFactoryBean entityManagerFactory = new LocalContainerEntityManagerFactoryBean();\r\n    \tentityManagerFactory.setDataSource(clusterDataSource());\r\n\t\tentityManagerFactory.setJpaVendorAdapter(new HibernateJpaVendorAdapter());\r\n\r\n\t\tString packageName = &quot;&quot;; // package name picked from config\r\n\t\tentityManagerFactory.setPackagesToScan(packageName);\r\n\r\n\t\tentityManagerFactory.setLoadTimeWeaver(loadTimeWeaver);\r\n\r\n        return entityManagerFactory;\r\n    }\r\n\r\n    @Bean(&quot;testtxnmanager&quot;)\r\n    public PlatformTransactionManager transactionManager() throws Exception {\r\n        JpaTransactionManager transactionManager = new JpaTransactionManager();\r\n\t    transactionManager.setEntityManagerFactory(entityManagerFactory().getObject());\r\n\t    return transactionManager;\r\n    }\r\n}\r\n```\r\n\r\n\r\nI am modifying the attributes of @EnableJpaRepositories at runtime and then registering the bean. Below is the code for that :\r\n\r\n\r\n```\r\n@Component\r\npublic class DatabasePostProcessor implements BeanFactoryPostProcessor {\r\n    @Override\r\n    public void postProcessBeanFactory(ConfigurableListableBeanFactory beanFactory) throws BeansException {\r\n        try {\r\n        \t\tString generatedCode = &quot;// Sample code for @COnfiguration class show above is this string&quot;\r\n            \tString className = &quot;com.example.database.TESTDBJpaConfig&quot;;\r\n                Class&lt;?&gt; generatedClass = InMemoryJavaCompiler.newInstance().compile(className, generatedCode);\r\n                \r\n                // Update @EnableJpaRepositories annotation with correct values\r\n                updateJpaAnnotation(generatedClass);\r\n\r\n                // register the bean here\r\n                BeanDefinitionRegistry registry = ((BeanDefinitionRegistry )beanFactory);\r\n                GenericBeanDefinition beanDefinition = new GenericBeanDefinition();\r\n                beanDefinition.setBeanClass(generatedClass);\r\n                beanDefinition.setLazyInit(false);\r\n                beanDefinition.setAbstract(false);\r\n                beanDefinition.setAutowireCandidate(true);\r\n                registry.registerBeanDefinition(className,beanDefinition);\r\n                beanDefinition.getBeanClass().newInstance();\r\n\r\n        } catch (Exception exp) {\r\n            log.error(&quot;Unable to setup database&quot;);\r\n        }\r\n    }\r\n\r\n    private void updateJpaAnnotation(Class&lt;?&gt; generatedClass) throws Exception {\r\n        Method method = Class.class.getDeclaredMethod(&quot;annotationData&quot;, null);\r\n        method.setAccessible(true);\r\n        Object annotationData = method.invoke(generatedClass, null);\r\n        Field declaredAnnotations = annotationData.getClass().getDeclaredField(&quot;declaredAnnotations&quot;);\r\n        declaredAnnotations.setAccessible(true);\r\n        Map&lt;Class&lt;? extends Annotation&gt;, Annotation&gt; annotations = (Map&lt;Class&lt;? extends Annotation&gt;, Annotation&gt;) declaredAnnotations.get(annotationData);\r\n        Annotation oldJpaAnnotation = annotations.get(EnableJpaRepositories.class);\r\n        Annotation newJpaAnnotation = new EnableJpaRepositories(){\r\n            @Override\r\n            public Class&lt;? extends Annotation&gt; annotationType() {\r\n                return oldJpaAnnotation.annotationType();\r\n            }\r\n            @Override\r\n            public String[] basePackages() {\r\n                return // Base package from config;\r\n            }\r\n            @Override\r\n            public String entityManagerFactoryRef() {\r\n                return &quot;testentitymanager&quot;;\r\n            }\r\n\r\n            @Override\r\n            public String transactionManagerRef() {\r\n                return &quot;testtxnmanager&quot;;\r\n            }\r\n            // rest of the code\r\n        };\r\n        annotations.put(EnableJpaRepositories.class, newJpaAnnotation);\r\n    }\r\n}\r\n```\r\n\r\nProblem is : when i am running the code bean is getting registered, but code erros out when i @Autowire any repository class. It says &quot;required a bean of type XYZ Repository not found&quot;.\r\n\r\nIdeally when the bean is registered @EnableJpaRepositories with updated basePackages attribute it should have scanned them right ?\r\n\r\n\r\nPlease help me here, what am i doing wrong here","title":"How to register dynamically created class file for @EnableJpaRepository","body":"<p>I am trying to create wrapper for integrating multiple databases in spring boot.\nIn order to scan Repositories, i am creating Configuration class file annotated with @EnableJpaRepositories at runtime.</p>\n<p>Steps :</p>\n<ol>\n<li>Read multiple database configurations for some config file.</li>\n<li>Create @Configuration class file  for each database at runtime</li>\n<li>Register this configuration bean in spring boot at runtime.</li>\n</ol>\n<p>Below is my code :</p>\n<p>My dynamically created @Configuration class file at runtime from template looks something this :</p>\n<pre><code>@Configuration\n@Component\n@EnableTransactionManagement\n@EnableJpaRepositories\npublic class TESTDBJpaConfig {\n\n    @Autowired\n    private LoadTimeWeaver loadTimeWeaver;\n\n    @Bean(&quot;testdbdatasource&quot;)\n    public DataSource clusterDataSource() throws Exception {\n       \n        // Initalizing datasource as per config value : say testDataSOurce    \n        return testDataSOurce;\n    }\n\n    @Bean(&quot;testentitymanager&quot;)\n    public LocalContainerEntityManagerFactoryBean entityManagerFactory() throws Exception {\n        LocalContainerEntityManagerFactoryBean entityManagerFactory = new LocalContainerEntityManagerFactoryBean();\n        entityManagerFactory.setDataSource(clusterDataSource());\n        entityManagerFactory.setJpaVendorAdapter(new HibernateJpaVendorAdapter());\n\n        String packageName = &quot;&quot;; // package name picked from config\n        entityManagerFactory.setPackagesToScan(packageName);\n\n        entityManagerFactory.setLoadTimeWeaver(loadTimeWeaver);\n\n        return entityManagerFactory;\n    }\n\n    @Bean(&quot;testtxnmanager&quot;)\n    public PlatformTransactionManager transactionManager() throws Exception {\n        JpaTransactionManager transactionManager = new JpaTransactionManager();\n        transactionManager.setEntityManagerFactory(entityManagerFactory().getObject());\n        return transactionManager;\n    }\n}\n</code></pre>\n<p>I am modifying the attributes of @EnableJpaRepositories at runtime and then registering the bean. Below is the code for that :</p>\n<pre><code>@Component\npublic class DatabasePostProcessor implements BeanFactoryPostProcessor {\n    @Override\n    public void postProcessBeanFactory(ConfigurableListableBeanFactory beanFactory) throws BeansException {\n        try {\n                String generatedCode = &quot;// Sample code for @COnfiguration class show above is this string&quot;\n                String className = &quot;com.example.database.TESTDBJpaConfig&quot;;\n                Class&lt;?&gt; generatedClass = InMemoryJavaCompiler.newInstance().compile(className, generatedCode);\n                \n                // Update @EnableJpaRepositories annotation with correct values\n                updateJpaAnnotation(generatedClass);\n\n                // register the bean here\n                BeanDefinitionRegistry registry = ((BeanDefinitionRegistry )beanFactory);\n                GenericBeanDefinition beanDefinition = new GenericBeanDefinition();\n                beanDefinition.setBeanClass(generatedClass);\n                beanDefinition.setLazyInit(false);\n                beanDefinition.setAbstract(false);\n                beanDefinition.setAutowireCandidate(true);\n                registry.registerBeanDefinition(className,beanDefinition);\n                beanDefinition.getBeanClass().newInstance();\n\n        } catch (Exception exp) {\n            log.error(&quot;Unable to setup database&quot;);\n        }\n    }\n\n    private void updateJpaAnnotation(Class&lt;?&gt; generatedClass) throws Exception {\n        Method method = Class.class.getDeclaredMethod(&quot;annotationData&quot;, null);\n        method.setAccessible(true);\n        Object annotationData = method.invoke(generatedClass, null);\n        Field declaredAnnotations = annotationData.getClass().getDeclaredField(&quot;declaredAnnotations&quot;);\n        declaredAnnotations.setAccessible(true);\n        Map&lt;Class&lt;? extends Annotation&gt;, Annotation&gt; annotations = (Map&lt;Class&lt;? extends Annotation&gt;, Annotation&gt;) declaredAnnotations.get(annotationData);\n        Annotation oldJpaAnnotation = annotations.get(EnableJpaRepositories.class);\n        Annotation newJpaAnnotation = new EnableJpaRepositories(){\n            @Override\n            public Class&lt;? extends Annotation&gt; annotationType() {\n                return oldJpaAnnotation.annotationType();\n            }\n            @Override\n            public String[] basePackages() {\n                return // Base package from config;\n            }\n            @Override\n            public String entityManagerFactoryRef() {\n                return &quot;testentitymanager&quot;;\n            }\n\n            @Override\n            public String transactionManagerRef() {\n                return &quot;testtxnmanager&quot;;\n            }\n            // rest of the code\n        };\n        annotations.put(EnableJpaRepositories.class, newJpaAnnotation);\n    }\n}\n</code></pre>\n<p>Problem is : when i am running the code bean is getting registered, but code erros out when i @Autowire any repository class. It says &quot;required a bean of type XYZ Repository not found&quot;.</p>\n<p>Ideally when the bean is registered @EnableJpaRepositories with updated basePackages attribute it should have scanned them right ?</p>\n<p>Please help me here, what am i doing wrong here</p>\n"},{"tags":["java","android","android-studio"],"owner":{"account_id":28232007,"reputation":21,"user_id":21581084,"display_name":"Pooja Wagh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1680789724,"creation_date":1680784593,"question_id":75949597,"body_markdown":"how to find out when polygon overlapping each other on google map using java android studio \r\n\r\nim searching on google no of time but i didn&#39;t found perfect ans","title":"How to solve polygon overlapping each other on google map using java in android studio?","body":"<p>how to find out when polygon overlapping each other on google map using java android studio</p>\n<p>im searching on google no of time but i didn't found perfect ans</p>\n"},{"tags":["java","android","flutter","kotlin","android-bluetooth"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1680115424,"post_id":75877274,"comment_id":133844507,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."},{"owner":{"account_id":12925501,"reputation":171,"user_id":9346402,"display_name":"tobi1805"},"score":0,"creation_date":1680266411,"post_id":75877274,"comment_id":133873433,"body_markdown":"https://developer.android.com/guide/topics/connectivity/bluetooth/find-bluetooth-devices#discover-devices","body":"<a href=\"https://developer.android.com/guide/topics/connectivity/bluetooth/find-bluetooth-devices#discover-devices\" rel=\"nofollow noreferrer\">developer.android.com/guide/topics/connectivity/bluetooth/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":27446708,"reputation":21,"user_id":20940306,"display_name":"Mohib Ul Rehman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680789369,"creation_date":1680773063,"answer_id":75947878,"question_id":75877274,"body_markdown":"I got the solution, The problem was with device as well and still (the problem comes rarely) but code is working fine now for my devices as well. There may be delay in scanning some devices. i.e. 3 devices scanned with no time and other one or two devices take time to scan. Some time broadcast receiver missed to invoke, that&#39;s why time to get an end.\r\n\r\nFollowing is the broadcast receiver which will return Bluetooth device.\r\n\r\n\r\n    class FoundDeviceReceiver(\r\n        private val onDeviceFound: (BluetoothDevice) -&gt; Unit\r\n    ): BroadcastReceiver() {\r\n\r\n    override fun onReceive(context: Context?, intent: Intent?) {\r\n        when(intent?.action) {\r\n            BluetoothDevice.ACTION_FOUND -&gt; {\r\n                val device = if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.TIRAMISU) {\r\n                    intent.getParcelableExtra(\r\n                        BluetoothDevice.EXTRA_DEVICE,\r\n                        BluetoothDevice::class.java\r\n                    )\r\n                } else {\r\n                    intent.getParcelableExtra(BluetoothDevice.EXTRA_DEVICE)\r\n                }\r\n                device?.let(onDeviceFound)\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\nFollowing is the method to register broadcast receiver and start discovery. We also have to unregister the broadcast receiver according to our requirements.\r\n\r\n \r\n\r\n    override fun startDiscovery() {\r\n            if (!hasPermission(Manifest.permission.BLUETOOTH_SCAN)) {\r\n                return\r\n            }\r\n\r\n        context.registerReceiver(\r\n            foundDeviceReceiver, IntentFilter(BluetoothDevice.ACTION_FOUND)\r\n        )\r\n\r\n    \r\n        bluetoothAdapter?.startDiscovery()\r\n    }\r\n\r\n\r\n `bluetoothAdapter?.startDiscovery()` is the build in method, which will invoke the registered broadcast receiver and we will successfully receive Bluetooth devices.\r\n\r\nIf someone will have still problem then he can comment, I will be happy to respond.","title":"Get list of unpaired Bluetooth devices","body":"<p>I got the solution, The problem was with device as well and still (the problem comes rarely) but code is working fine now for my devices as well. There may be delay in scanning some devices. i.e. 3 devices scanned with no time and other one or two devices take time to scan. Some time broadcast receiver missed to invoke, that's why time to get an end.</p>\n<p>Following is the broadcast receiver which will return Bluetooth device.</p>\n<pre><code>class FoundDeviceReceiver(\n    private val onDeviceFound: (BluetoothDevice) -&gt; Unit\n): BroadcastReceiver() {\n\noverride fun onReceive(context: Context?, intent: Intent?) {\n    when(intent?.action) {\n        BluetoothDevice.ACTION_FOUND -&gt; {\n            val device = if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.TIRAMISU) {\n                intent.getParcelableExtra(\n                    BluetoothDevice.EXTRA_DEVICE,\n                    BluetoothDevice::class.java\n                )\n            } else {\n                intent.getParcelableExtra(BluetoothDevice.EXTRA_DEVICE)\n            }\n            device?.let(onDeviceFound)\n        }\n    }\n}\n</code></pre>\n<p>Following is the method to register broadcast receiver and start discovery. We also have to unregister the broadcast receiver according to our requirements.</p>\n<pre><code>override fun startDiscovery() {\n        if (!hasPermission(Manifest.permission.BLUETOOTH_SCAN)) {\n            return\n        }\n\n    context.registerReceiver(\n        foundDeviceReceiver, IntentFilter(BluetoothDevice.ACTION_FOUND)\n    )\n\n\n    bluetoothAdapter?.startDiscovery()\n}\n</code></pre>\n<p><code>bluetoothAdapter?.startDiscovery()</code> is the build in method, which will invoke the registered broadcast receiver and we will successfully receive Bluetooth devices.</p>\n<p>If someone will have still problem then he can comment, I will be happy to respond.</p>\n"}],"owner":{"account_id":27446708,"reputation":21,"user_id":20940306,"display_name":"Mohib Ul Rehman"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":325,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1680789369,"creation_date":1680093229,"question_id":75877274,"body_markdown":"How to get(scan) list of unpaired Bluetooth devices in android? meaning have to scan nearby devices. Would you please help in this regard.\r\n\r\nI know how to find(scan) paired devices and do all things(socket, connection, server, communication etc) with pared devices but unable to find(scan) nearby Bluetooth devices programmatically. I hope you people will understand my problem and help accordingly.\r\n\r\n\r\n\r\nI want to scan for list of unpaired Bluetooth devices.","title":"Get list of unpaired Bluetooth devices","body":"<p>How to get(scan) list of unpaired Bluetooth devices in android? meaning have to scan nearby devices. Would you please help in this regard.</p>\n<p>I know how to find(scan) paired devices and do all things(socket, connection, server, communication etc) with pared devices but unable to find(scan) nearby Bluetooth devices programmatically. I hope you people will understand my problem and help accordingly.</p>\n<p>I want to scan for list of unpaired Bluetooth devices.</p>\n"},{"tags":["java","tomcat","memory-leaks"],"comments":[{"owner":{"account_id":265077,"reputation":3398,"user_id":551804,"accept_rate":100,"display_name":"David"},"score":0,"creation_date":1456999454,"post_id":28105803,"comment_id":59209613,"body_markdown":"http://docs.oracle.com/cd/E17952_01/connector-j-relnotes-en/news-5-1-23.html","body":"<a href=\"http://docs.oracle.com/cd/E17952_01/connector-j-relnotes-en/news-5-1-23.html\" rel=\"nofollow noreferrer\">docs.oracle.com/cd/E17952_01/connector-j-relnotes-en/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":5144658,"reputation":324,"user_id":4120980,"display_name":"Ravi Chhatrala"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1422004240,"creation_date":1422004240,"answer_id":28106401,"question_id":28105803,"body_markdown":"I think your problem is similar to [this][1]. When you redeploy the app, apache deploys it incrementally on itself where `system.gc();` do not work and after few redeployment in developing phase the permanent generated space gets full and you get memory leak error. \r\n\r\nPlease keep restarting your server after few redeployment, so the PermGen space can be cleared with a restart.\r\n\r\nOr \r\n\r\na you can also solve it by changing the PermGen space in server.\r\nPlease visit [here][2].\r\n\r\nI hope this will help you.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/7683434/permgen-space-error-glassfish-server\r\n  [2]: http://www.mkyong.com/tomcat/tomcat-javalangoutofmemoryerror-permgen-space/","title":"Tomcat8 memory leak","body":"<p>I think your problem is similar to <a href=\"https://stackoverflow.com/questions/7683434/permgen-space-error-glassfish-server\">this</a>. When you redeploy the app, apache deploys it incrementally on itself where <code>system.gc();</code> do not work and after few redeployment in developing phase the permanent generated space gets full and you get memory leak error. </p>\n\n<p>Please keep restarting your server after few redeployment, so the PermGen space can be cleared with a restart.</p>\n\n<p>Or </p>\n\n<p>a you can also solve it by changing the PermGen space in server.\nPlease visit <a href=\"http://www.mkyong.com/tomcat/tomcat-javalangoutofmemoryerror-permgen-space/\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>I hope this will help you.</p>\n"},{"tags":[],"owner":{"account_id":3054958,"reputation":14923,"user_id":2588800,"accept_rate":100,"display_name":"Svetlin Zarev"},"down_vote_count":0,"up_vote_count":26,"is_accepted":true,"score":26,"last_activity_date":1680789355,"creation_date":1422005646,"answer_id":28106807,"question_id":28105803,"body_markdown":"There is nothing to worry about. This is a standard message tomcat outputs when it detects the application has started its own `Thread` or created a `ThreadLocal`. If you terminate the thread on shutdown and remove the *threadlocals* when they are no longer needed, then there will be no problem. \r\n\r\n&gt; Why would I get all this memory leaks errors? as well, when I run\r\n&gt; shutdown, it doesn&#39;t shut it down, I have to manually kill the\r\n&gt; process.\r\n\r\nI&#39;ve seen this behavior, when an application has started `ScheduledExecutor` (but this will happen with any other `Thread`/`TheadPool`) and didn&#39;t shut it down on `contextDestroyed`. So check if you are shutting down your threads on application/server stop.\r\n\r\n\r\n**Now on your concrete problem** why the server doesn&#39;t stop:\r\nJDBC drivers are registered in the JVM as singletons, and are shared with all webapps. More info [here.][1] The best solution to your problem is to move the MySQL driver from the webapp&#39;s `WEB-INF/lib` into Tomcat&#39;s `/lib` folder. If you cannot do that you can try [this][2] but it&#39;s more like a hack than a real solution.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/6981564/why-jdbc-driver-must-been-put-in-tomcat-home-lib-folder/7198049#7198049\r\n  [2]: http://techblog.ralph-schuster.eu/2014/07/09/solution-to-tomcat-cant-stop-an-abandoned-connection-cleanup-thread/","title":"Tomcat8 memory leak","body":"<p>There is nothing to worry about. This is a standard message tomcat outputs when it detects the application has started its own <code>Thread</code> or created a <code>ThreadLocal</code>. If you terminate the thread on shutdown and remove the <em>threadlocals</em> when they are no longer needed, then there will be no problem.</p>\n<blockquote>\n<p>Why would I get all this memory leaks errors? as well, when I run\nshutdown, it doesn't shut it down, I have to manually kill the\nprocess.</p>\n</blockquote>\n<p>I've seen this behavior, when an application has started <code>ScheduledExecutor</code> (but this will happen with any other <code>Thread</code>/<code>TheadPool</code>) and didn't shut it down on <code>contextDestroyed</code>. So check if you are shutting down your threads on application/server stop.</p>\n<p><strong>Now on your concrete problem</strong> why the server doesn't stop:\nJDBC drivers are registered in the JVM as singletons, and are shared with all webapps. More info <a href=\"https://stackoverflow.com/questions/6981564/why-jdbc-driver-must-been-put-in-tomcat-home-lib-folder/7198049#7198049\">here.</a> The best solution to your problem is to move the MySQL driver from the webapp's <code>WEB-INF/lib</code> into Tomcat's <code>/lib</code> folder. If you cannot do that you can try <a href=\"http://techblog.ralph-schuster.eu/2014/07/09/solution-to-tomcat-cant-stop-an-abandoned-connection-cleanup-thread/\" rel=\"nofollow noreferrer\">this</a> but it's more like a hack than a real solution.</p>\n"}],"owner":{"account_id":97482,"reputation":14027,"user_id":264419,"accept_rate":89,"display_name":"Dejell"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":131489,"favorite_count":0,"down_vote_count":0,"up_vote_count":25,"accepted_answer_id":28106807,"answer_count":2,"score":25,"last_activity_date":1680789355,"creation_date":1422001806,"question_id":28105803,"body_markdown":"When I try to stop tomcat8 on Java 8, I get a few memory leaks errors:\r\n\r\n    org.apache.catalina.loader.WebappClassLoaderBase.clearReferencesThreads The web application [ROOT] appears to have started a thread named [Abandoned connection cleanup thread] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\r\n     java.lang.Object.wait(Native Method)\r\n     java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:142)\r\n     com.mysql.jdbc.AbandonedConnectionCleanupThread.run(AbandonedConnectionCleanupThread.java:40)\r\n    23-Jan-2015 08:18:10.202 WARNING [localhost-startStop-2] org.apache.catalina.loader.WebappClassLoaderBase.clearReferencesThreads The web application [ROOT] appears to have started a thread named [pool-5-thread-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread\r\n\r\n\r\n    23-Jan-2015 08:18:10.205 SEVERE [localhost-startStop-2] org.apache.catalina.loader.WebappClassLoaderBase.checkThreadLocalMapForLeaks The web application [ROOT] created a ThreadLocal with key of type [com.util.ThreadLocalProperties$1] (value [com.util.ThreadLocalProperties$1@2fafda6e]) and a value of type [java.util.Properties] (value [{}]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\r\n\r\nThe class ThreadLocalProperties is:\r\n\r\n    public class ThreadLocalProperties extends Properties {\r\n    \r\n    \tprivate static final long serialVersionUID = -4260632266508618756L;\r\n    \tprivate final ThreadLocal&lt;Properties&gt; localProperties = new ThreadLocal&lt;Properties&gt;() {\r\n    \t\t@Override\r\n    \t\tprotected Properties initialValue() {\r\n    \t\t\treturn new Properties();\r\n    \t\t}\r\n    \t};\r\n    \r\n    \tpublic ThreadLocalProperties(Properties properties) {\r\n    \t\tsuper(properties);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic String getProperty(String key) {\r\n    \t\tString localValue = localProperties.get().getProperty(key);\r\n    \t\treturn localValue == null ? super.getProperty(key) : localValue;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic Object setProperty(String key, String value) {\r\n    \t\treturn localProperties.get().setProperty(key, value);\r\n    \t}\r\n    \r\n    \tpublic ThreadLocal&lt;Properties&gt; getThreadLocal() {\r\n    \t\treturn localProperties;\r\n    \t}\r\n    }\r\n\r\nand I start and stop it like this:\r\n\r\n    @WebListener()\r\n    public class GeneralListener implements ServletContextListener {\r\n    \r\n    \tThreadLocalProperties threadLocalProperties = new ThreadLocalProperties(System.getProperties());\r\n    \r\n    \t@Override\r\n    \tpublic void contextDestroyed(ServletContextEvent arg0) {\r\n    \t\tthreadLocalProperties.getThreadLocal().remove();\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void contextInitialized(ServletContextEvent arg0) {\r\n    \t\tSystem.setProperties(threadLocalProperties);\r\n    \t}\r\n    }\r\n\r\nWhy would i get all this memory leaks errors? as well, when I run shutdown, it doesn&#39;t shut it down, I have to manually kill the process.\r\n\r\nWhat is wrong?","title":"Tomcat8 memory leak","body":"<p>When I try to stop tomcat8 on Java 8, I get a few memory leaks errors:</p>\n\n<pre><code>org.apache.catalina.loader.WebappClassLoaderBase.clearReferencesThreads The web application [ROOT] appears to have started a thread named [Abandoned connection cleanup thread] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\n java.lang.Object.wait(Native Method)\n java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:142)\n com.mysql.jdbc.AbandonedConnectionCleanupThread.run(AbandonedConnectionCleanupThread.java:40)\n23-Jan-2015 08:18:10.202 WARNING [localhost-startStop-2] org.apache.catalina.loader.WebappClassLoaderBase.clearReferencesThreads The web application [ROOT] appears to have started a thread named [pool-5-thread-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread\n\n\n23-Jan-2015 08:18:10.205 SEVERE [localhost-startStop-2] org.apache.catalina.loader.WebappClassLoaderBase.checkThreadLocalMapForLeaks The web application [ROOT] created a ThreadLocal with key of type [com.util.ThreadLocalProperties$1] (value [com.util.ThreadLocalProperties$1@2fafda6e]) and a value of type [java.util.Properties] (value [{}]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\n</code></pre>\n\n<p>The class ThreadLocalProperties is:</p>\n\n<pre><code>public class ThreadLocalProperties extends Properties {\n\n    private static final long serialVersionUID = -4260632266508618756L;\n    private final ThreadLocal&lt;Properties&gt; localProperties = new ThreadLocal&lt;Properties&gt;() {\n        @Override\n        protected Properties initialValue() {\n            return new Properties();\n        }\n    };\n\n    public ThreadLocalProperties(Properties properties) {\n        super(properties);\n    }\n\n    @Override\n    public String getProperty(String key) {\n        String localValue = localProperties.get().getProperty(key);\n        return localValue == null ? super.getProperty(key) : localValue;\n    }\n\n    @Override\n    public Object setProperty(String key, String value) {\n        return localProperties.get().setProperty(key, value);\n    }\n\n    public ThreadLocal&lt;Properties&gt; getThreadLocal() {\n        return localProperties;\n    }\n}\n</code></pre>\n\n<p>and I start and stop it like this:</p>\n\n<pre><code>@WebListener()\npublic class GeneralListener implements ServletContextListener {\n\n    ThreadLocalProperties threadLocalProperties = new ThreadLocalProperties(System.getProperties());\n\n    @Override\n    public void contextDestroyed(ServletContextEvent arg0) {\n        threadLocalProperties.getThreadLocal().remove();\n    }\n\n    @Override\n    public void contextInitialized(ServletContextEvent arg0) {\n        System.setProperties(threadLocalProperties);\n    }\n}\n</code></pre>\n\n<p>Why would i get all this memory leaks errors? as well, when I run shutdown, it doesn't shut it down, I have to manually kill the process.</p>\n\n<p>What is wrong?</p>\n"},{"tags":["java","akka-stream"],"owner":{"account_id":21624083,"reputation":61,"user_id":15948642,"display_name":"Sigurd"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680788977,"creation_date":1680788977,"question_id":75950297,"body_markdown":"I&#39;m using Akka Stream 2.6 and I want to handle a failed stream.\r\n\r\n    Source.from(...).via(business()).recover(MyException.class, elem -&gt; errorMessage())\r\n\r\nI&#39;m aware, that I can map an Exception based on mapError() and also recover to a valid element in the stream by recover(), but I&#39;ve not seen a way to get an exception and the failing element of the stream. I need the current element because there is meta information, that is necessary for handling the error correctly. ","title":"Handling Errors in Akka Streams: Using Exception and current element of the stream","body":"<p>I'm using Akka Stream 2.6 and I want to handle a failed stream.</p>\n<pre><code>Source.from(...).via(business()).recover(MyException.class, elem -&gt; errorMessage())\n</code></pre>\n<p>I'm aware, that I can map an Exception based on mapError() and also recover to a valid element in the stream by recover(), but I've not seen a way to get an exception and the failing element of the stream. I need the current element because there is meta information, that is necessary for handling the error correctly.</p>\n"},{"tags":["java","arrays"],"answers":[{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680786579,"creation_date":1680784365,"answer_id":75949564,"question_id":75946451,"body_markdown":"You wrote in your question:\r\n&gt; I want to build 3 animal objects\r\n\r\nThat means you want a class named `Animal` which has three attributes, i.e.\r\n```java\r\npublic class Animal {\r\n    private String first;\r\n    private String second;\r\n    private String third;\r\n}\r\n```\r\nNote that I could not ascertain, from your question, what each attrbiute represents and therefore I named them `first`, `second` and `third`.\r\n\r\nNow you want to write a constructor for your class:\r\n```java\r\npublic Animal(String first, String second, String third) {\r\n    this.first = first;\r\n    this.second = second;\r\n    this.third = third;\r\n}\r\n```\r\nYou also wrote in your question:\r\n&gt; I want to store the animals objects in array\r\n\r\nAn array has a fixed size which you provide when you declare it. Since you are reading from a file, you probably don&#39;t know the size, hence probably better to use a [List](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html).\r\n\r\nWhen reading from a file in Java, after you have finished reading the file, you should close it. Since Java 7, there is [try-with-resources](https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html).\r\n\r\nAlso since Java 7 there is class `Files` which is part of [NIO.2](https://docs.oracle.com/javase/tutorial/essential/io/fileio.html).\r\n\r\n`StringTokenizer` is a legacy class. New code should use method `split` of class `java.lang.String`.\r\n\r\nHere is sample code that achieves what you want.\r\n```java\r\nimport java.io.BufferedReader;\r\nimport java.io.IOException;\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Path;\r\nimport java.nio.file.Paths;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class Animal {\r\n    private String first;\r\n    private String second;\r\n    private String third;\r\n\r\n    public Animal(String first, String second, String third) {\r\n        this.first = first;\r\n        this.second = second;\r\n        this.third = third;\r\n    }\r\n\r\n    public static void getAnimalsFromTextFile() throws IOException {\r\n        List&lt;Animal&gt; animals = new ArrayList&lt;&gt;();\r\n        Path path = Paths.get(&quot;animals.txt&quot;);\r\n        try (BufferedReader inFile = Files.newBufferedReader(path)) {\r\n            String line = inFile.readLine();\r\n            while (line != null) {\r\n                String[] strings = line.split(&quot; &quot;);\r\n                Animal animal = new Animal(strings[0], strings[1], strings[2]);\r\n                animals.add(animal);\r\n                line = inFile.readLine();\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\nAlternatively, you could use [streams](https://www.oracle.com/technical-resources/articles/java/architect-streams-pt2.html) which was introduced in Java 8.\r\n```java\r\npublic static void getAnimalsFromTextFile() throws IOException {\r\n    Path path = Paths.get(&quot;animals.txt&quot;);\r\n    try (Stream&lt;String&gt; stream = Files.lines(path)) {\r\n        List&lt;Animal&gt; animals = stream.map(line -&gt; line.split(&quot; &quot;))\r\n                                     .map(array -&gt; new Animal(array[0], array[1], array[2]))\r\n                                     .collect(Collectors.toList());\r\n    }\r\n}\r\n```\r\n","title":"Trying to read data from text data and build objects from that","body":"<p>You wrote in your question:</p>\n<blockquote>\n<p>I want to build 3 animal objects</p>\n</blockquote>\n<p>That means you want a class named <code>Animal</code> which has three attributes, i.e.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Animal {\n    private String first;\n    private String second;\n    private String third;\n}\n</code></pre>\n<p>Note that I could not ascertain, from your question, what each attrbiute represents and therefore I named them <code>first</code>, <code>second</code> and <code>third</code>.</p>\n<p>Now you want to write a constructor for your class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Animal(String first, String second, String third) {\n    this.first = first;\n    this.second = second;\n    this.third = third;\n}\n</code></pre>\n<p>You also wrote in your question:</p>\n<blockquote>\n<p>I want to store the animals objects in array</p>\n</blockquote>\n<p>An array has a fixed size which you provide when you declare it. Since you are reading from a file, you probably don't know the size, hence probably better to use a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html\" rel=\"nofollow noreferrer\">List</a>.</p>\n<p>When reading from a file in Java, after you have finished reading the file, you should close it. Since Java 7, there is <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\">try-with-resources</a>.</p>\n<p>Also since Java 7 there is class <code>Files</code> which is part of <a href=\"https://docs.oracle.com/javase/tutorial/essential/io/fileio.html\" rel=\"nofollow noreferrer\">NIO.2</a>.</p>\n<p><code>StringTokenizer</code> is a legacy class. New code should use method <code>split</code> of class <code>java.lang.String</code>.</p>\n<p>Here is sample code that achieves what you want.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class Animal {\n    private String first;\n    private String second;\n    private String third;\n\n    public Animal(String first, String second, String third) {\n        this.first = first;\n        this.second = second;\n        this.third = third;\n    }\n\n    public static void getAnimalsFromTextFile() throws IOException {\n        List&lt;Animal&gt; animals = new ArrayList&lt;&gt;();\n        Path path = Paths.get(&quot;animals.txt&quot;);\n        try (BufferedReader inFile = Files.newBufferedReader(path)) {\n            String line = inFile.readLine();\n            while (line != null) {\n                String[] strings = line.split(&quot; &quot;);\n                Animal animal = new Animal(strings[0], strings[1], strings[2]);\n                animals.add(animal);\n                line = inFile.readLine();\n            }\n        }\n    }\n}\n</code></pre>\n<p>Alternatively, you could use <a href=\"https://www.oracle.com/technical-resources/articles/java/architect-streams-pt2.html\" rel=\"nofollow noreferrer\">streams</a> which was introduced in Java 8.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void getAnimalsFromTextFile() throws IOException {\n    Path path = Paths.get(&quot;animals.txt&quot;);\n    try (Stream&lt;String&gt; stream = Files.lines(path)) {\n        List&lt;Animal&gt; animals = stream.map(line -&gt; line.split(&quot; &quot;))\n                                     .map(array -&gt; new Animal(array[0], array[1], array[2]))\n                                     .collect(Collectors.toList());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9735171,"reputation":2264,"user_id":7218656,"accept_rate":75,"display_name":"Arun Sudhakaran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680788474,"creation_date":1680788474,"answer_id":75950226,"question_id":75946451,"body_markdown":"Create a class that holds three animals, this will be the\r\n\r\n    class Animal {\r\n    \t\r\n    \tprivate String animal1; \r\n    \tprivate String animal2; \r\n    \tprivate String animal3;\r\n    \tpublic Animal(String animal1, String animal2, String animal3) {\r\n    \t\tsuper();\r\n    \t\tthis.animal1 = animal1;\r\n    \t\tthis.animal2 = animal2;\r\n    \t\tthis.animal3 = animal3;\r\n    \t}\r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\treturn &quot;Animal [animal1=&quot; + animal1 + &quot;, animal2=&quot; + animal2 + &quot;, animal3=&quot; + animal3 + &quot;]&quot;;\r\n    \t}\r\n    }\r\n\r\n**Inside your loop (while reading the file)**\r\n\r\n 1. Split the current line with space (`&quot; &quot;`) and get an array of elements.\r\n 2. Pass each array element respectively to your animal constructor.\r\n 3. Once you have the object assign it to the array with the index `cnt`.\r\n\r\n    public class AnimalManager {\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\t\r\n    \t\t\r\n    \t\ttry (BufferedReader inFile = new BufferedReader(new FileReader(&quot;animals.txt&quot;));) {\r\n    \t\t\t\r\n    \t\t    String line;\r\n    \t\t    int cnt = 0;\r\n    \t\t    Animal[] animalArray = new Animal[10];\r\n    \t\t    \r\n    \t\t    while ((line = inFile.readLine()) != null) {\r\n    \t\t    \t\r\n    \t\t    \tString animalsInLine[] = line.split(&quot; &quot;);\r\n    \t\t    \tanimalArray[cnt++] = new Animal(animalsInLine[0], animalsInLine[1], animalsInLine[2]);\r\n    \t\t    }\r\n    \t\t    \r\n    \t\t    System.out.println(java.util.Arrays.toString(animalArray));\r\n    \t\t} catch (IOException e) {\r\n    \t\t\tSystem.out.println(&quot;Error while file handling : &quot; + e.getMessage());\r\n    \t\t}\r\n    \t}","title":"Trying to read data from text data and build objects from that","body":"<p>Create a class that holds three animals, this will be the</p>\n<pre><code>class Animal {\n    \n    private String animal1; \n    private String animal2; \n    private String animal3;\n    public Animal(String animal1, String animal2, String animal3) {\n        super();\n        this.animal1 = animal1;\n        this.animal2 = animal2;\n        this.animal3 = animal3;\n    }\n    @Override\n    public String toString() {\n        return &quot;Animal [animal1=&quot; + animal1 + &quot;, animal2=&quot; + animal2 + &quot;, animal3=&quot; + animal3 + &quot;]&quot;;\n    }\n}\n</code></pre>\n<p><strong>Inside your loop (while reading the file)</strong></p>\n<ol>\n<li><p>Split the current line with space (<code>&quot; &quot;</code>) and get an array of elements.</p>\n</li>\n<li><p>Pass each array element respectively to your animal constructor.</p>\n</li>\n<li><p>Once you have the object assign it to the array with the index <code>cnt</code>.</p>\n<p>public class AnimalManager {</p>\n<pre><code>public static void main(String[] args) {\n\n\n    try (BufferedReader inFile = new BufferedReader(new FileReader(&quot;animals.txt&quot;));) {\n\n        String line;\n        int cnt = 0;\n        Animal[] animalArray = new Animal[10];\n\n        while ((line = inFile.readLine()) != null) {\n\n            String animalsInLine[] = line.split(&quot; &quot;);\n            animalArray[cnt++] = new Animal(animalsInLine[0], animalsInLine[1], animalsInLine[2]);\n        }\n\n        System.out.println(java.util.Arrays.toString(animalArray));\n    } catch (IOException e) {\n        System.out.println(&quot;Error while file handling : &quot; + e.getMessage());\n    }\n}\n</code></pre>\n</li>\n</ol>\n"}],"owner":{"account_id":28229229,"reputation":11,"user_id":21578700,"display_name":"Nikita Gelfman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1680788474,"creation_date":1680762113,"question_id":75946451,"body_markdown":"```java\r\npublic void getAnimalsFromTextFile() throws IOException {\r\n    String file = &quot;C:\\\\Users\\\\nikit\\\\OneDrive\\\\Desktop\\\\animals.txt&quot;;\r\n    BufferedReader inFile = new BufferedReader(new FileReader(file));\r\n    String line;\r\n    int cnt = 0;\r\n    while ((line = inFile.readLine()) != null) {\r\n        StringTokenizer st = new StringTokenizer(line,&quot;&quot;);\r\n        if(st.hasMoreTokens()) {\r\n            String line1 = st.nextToken();\r\n            StringTokenizer st1 = new StringTokenizer(line1, &quot; &quot;);\r\n            while (st1.hasMoreTokens()) {\r\n                String att = st1.nextToken();\r\n                strings.add(att);\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThis text file is:\r\n```none\r\nJackie Jack Boston\r\nMarty Bird California\r\nDonald Duck Netherlands\r\n```\r\nI want to build 3 `Animal` objects from this file, like:\r\n```java\r\nAnimal animal =  new Animal(Jackie, Jack, Boston);\r\n```\r\nThen add them to array.\r\n \r\nIn the and I want to store the animals objects in array.\r\n","title":"Trying to read data from text data and build objects from that","body":"<pre class=\"lang-java prettyprint-override\"><code>public void getAnimalsFromTextFile() throws IOException {\n    String file = &quot;C:\\\\Users\\\\nikit\\\\OneDrive\\\\Desktop\\\\animals.txt&quot;;\n    BufferedReader inFile = new BufferedReader(new FileReader(file));\n    String line;\n    int cnt = 0;\n    while ((line = inFile.readLine()) != null) {\n        StringTokenizer st = new StringTokenizer(line,&quot;&quot;);\n        if(st.hasMoreTokens()) {\n            String line1 = st.nextToken();\n            StringTokenizer st1 = new StringTokenizer(line1, &quot; &quot;);\n            while (st1.hasMoreTokens()) {\n                String att = st1.nextToken();\n                strings.add(att);\n            }\n        }\n    }\n}\n</code></pre>\n<p>This text file is:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Jackie Jack Boston\nMarty Bird California\nDonald Duck Netherlands\n</code></pre>\n<p>I want to build 3 <code>Animal</code> objects from this file, like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Animal animal =  new Animal(Jackie, Jack, Boston);\n</code></pre>\n<p>Then add them to array.</p>\n<p>In the and I want to store the animals objects in array.</p>\n"},{"tags":["java","spring","hibernate","jpa","persistence"],"owner":{"account_id":14677665,"reputation":11,"user_id":10600216,"display_name":"kassem adam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1680788452,"creation_date":1680787711,"question_id":75950111,"body_markdown":"In my db, there is an entity that exists that has it&#39;s records partitioned in various tables named using this convention &quot;Foo_MMYYYY&quot;\r\n\r\nFor example, say I have a table to have log records of a users interaction on a website. Since these interactions happen very frequently and each time we store the interaction log in the db, a solution for this website is to have the Log entity partitioned with a set of &quot;rotated&quot; tables in our db. So every month, a new table is created (for Ex, for this month the table would be named `logs_042023`) that will contain that months set of log records. \r\n\r\nIs there a way to dynamically set the table for a JPA entity by sending in &lt;MM&gt;&lt;YYYY&gt; portion of the table name as an argument?\r\n\r\nI tried looking up JPA documentation to see if there was a way to do this to no avail. It seems that the table name cannot be dynamically altered during runtime. What other options do I have?","title":"How would I assign a JPA Entity to a set of &quot;rotated&quot; tables in database?","body":"<p>In my db, there is an entity that exists that has it's records partitioned in various tables named using this convention &quot;Foo_MMYYYY&quot;</p>\n<p>For example, say I have a table to have log records of a users interaction on a website. Since these interactions happen very frequently and each time we store the interaction log in the db, a solution for this website is to have the Log entity partitioned with a set of &quot;rotated&quot; tables in our db. So every month, a new table is created (for Ex, for this month the table would be named <code>logs_042023</code>) that will contain that months set of log records.</p>\n<p>Is there a way to dynamically set the table for a JPA entity by sending in  portion of the table name as an argument?</p>\n<p>I tried looking up JPA documentation to see if there was a way to do this to no avail. It seems that the table name cannot be dynamically altered during runtime. What other options do I have?</p>\n"},{"tags":["java","pdf","pdfbox","pdftotext"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":2,"creation_date":1680811629,"post_id":75947149,"comment_id":133965059,"body_markdown":"Most likely there are no spaces (as in drawn space characters) there, the text insertion point simply is repositioned. What you are looking for is text extraction that tries to keep the layout.","body":"Most likely there are no spaces (as in drawn space characters) there, the text insertion point simply is repositioned. What you are looking for is text extraction that tries to keep the layout."},{"owner":{"account_id":13915256,"reputation":1,"user_id":10047281,"display_name":"iiprateek"},"score":0,"creation_date":1680887457,"post_id":75947149,"comment_id":133976433,"body_markdown":"I just want to preserve the format of pdf using Apache pdf box with java.","body":"I just want to preserve the format of pdf using Apache pdf box with java."},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1680888103,"post_id":75947149,"comment_id":133976557,"body_markdown":"Maybe you should use tabula java instead, that one can extract tables.","body":"Maybe you should use tabula java instead, that one can extract tables."},{"owner":{"account_id":13915256,"reputation":1,"user_id":10047281,"display_name":"iiprateek"},"score":0,"creation_date":1681045129,"post_id":75947149,"comment_id":133992706,"body_markdown":"@mkl yes, the character has its own coordinates that pdf renderer uses to draw text. What will be my algorithm to draw white spaces. To make that it will show space. Blank string length of width of pdf. Then calculate where the single character will take place.","body":"@mkl yes, the character has its own coordinates that pdf renderer uses to draw text. What will be my algorithm to draw white spaces. To make that it will show space. Blank string length of width of pdf. Then calculate where the single character will take place."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1681420506,"post_id":75947149,"comment_id":134057920,"body_markdown":"You may want to look at the proof-of-concept [in this answer](https://stackoverflow.com/a/45842515/1729265) (unfortunately based on PDFBox 1.8.x) or [this github project](https://github.com/JonathanLink/PDFLayoutTextStripper) based on PDFBox 2.x.","body":"You may want to look at the proof-of-concept <a href=\"https://stackoverflow.com/a/45842515/1729265\">in this answer</a> (unfortunately based on PDFBox 1.8.x) or <a href=\"https://github.com/JonathanLink/PDFLayoutTextStripper\" rel=\"nofollow noreferrer\">this github project</a> based on PDFBox 2.x."},{"owner":{"account_id":13915256,"reputation":1,"user_id":10047281,"display_name":"iiprateek"},"score":0,"creation_date":1681667588,"post_id":75947149,"comment_id":134089909,"body_markdown":"I have used the github project once. If you see carefully the picture no 2 (Data extraction from a form in a PDF file) the spaces are not formatted correctly. For one space It have 2 whitespaces in text extract. In that project first he is trying to find new line on the basis of Y position. If the position of current `TextPosition` object is greater than previous text position. Then a new line is formed. He just created the blank array of width of pdf/4 and with the location X position he is trying to fit the text into the text extract. He is also checking XprevChar + prevCharWidth == currXpos","body":"I have used the github project once. If you see carefully the picture no 2 (Data extraction from a form in a PDF file) the spaces are not formatted correctly. For one space It have 2 whitespaces in text extract. In that project first he is trying to find new line on the basis of Y position. If the position of current <code>TextPosition</code> object is greater than previous text position. Then a new line is formed. He just created the blank array of width of pdf/4 and with the location X position he is trying to fit the text into the text extract. He is also checking XprevChar + prevCharWidth == currXpos"}],"owner":{"account_id":13915256,"reputation":1,"user_id":10047281,"display_name":"iiprateek"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680788080,"creation_date":1680768028,"question_id":75947149,"body_markdown":"I have a pdf like this \r\n\r\n![pdf](https://i.stack.imgur.com/aSoyx.png)\r\n\r\nbut the extracted goes like this \r\n```Hoodie with Kangaroo\r\nPocket,Light\r\nOlive,M,469168485002\r\n1475.63 364.23 1111.40 133.3761051020 2299.0\r\n```\r\n\r\nBut i want the result with the preserved multi spaces present in the document\r\n```\r\nHoodie with Kangaroo\r\nPocket,Light              61051020     2299.0     1475.63       364.23      1111.40       133.37\r\nOlive,M,469168485002\r\n```\r\n \r\n\r\nI am expecting to get the result in preserved spaces that is present in pdf ","title":"preserve multiple spaces between words using pdfbox","body":"<p>I have a pdf like this</p>\n<p><img src=\"https://i.stack.imgur.com/aSoyx.png\" alt=\"pdf\" /></p>\n<p>but the extracted goes like this</p>\n<pre><code>Pocket,Light\nOlive,M,469168485002\n1475.63 364.23 1111.40 133.3761051020 2299.0\n</code></pre>\n<p>But i want the result with the preserved multi spaces present in the document</p>\n<pre><code>Hoodie with Kangaroo\nPocket,Light              61051020     2299.0     1475.63       364.23      1111.40       133.37\nOlive,M,469168485002\n</code></pre>\n<p>I am expecting to get the result in preserved spaces that is present in pdf</p>\n"},{"tags":["java","list","sorting","comparator"],"comments":[{"owner":{"account_id":15138451,"reputation":460,"user_id":12083015,"display_name":"Erwin"},"score":0,"creation_date":1680574771,"post_id":75924992,"comment_id":133917649,"body_markdown":"I can&#39;t understand the data structure of the maps. Also `Maps` and `MapDifference`. Need more code to see.","body":"I can&#39;t understand the data structure of the maps. Also <code>Maps</code> and <code>MapDifference</code>. Need more code to see."},{"owner":{"account_id":5951494,"reputation":12969,"user_id":4679320,"accept_rate":67,"display_name":"prasad_"},"score":0,"creation_date":1680575936,"post_id":75924992,"comment_id":133917771,"body_markdown":"What is the sort criteria for the list?","body":"What is the sort criteria for the list?"},{"owner":{"account_id":18886372,"reputation":157,"user_id":13777706,"display_name":"Blake"},"score":0,"creation_date":1680584857,"post_id":75924992,"comment_id":133918661,"body_markdown":"Sort criteria can be anything, i just need the order to be the same on both the maps","body":"Sort criteria can be anything, i just need the order to be the same on both the maps"}],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680787894,"creation_date":1680787894,"answer_id":75950138,"question_id":75924992,"body_markdown":"I think that this is the key:\r\n\r\n    Error: Required type: List &lt;T&gt;\r\n\r\nThe sort needs a comparable class to sort with. Try this to sort the jurisdictionTaxes:\r\n\r\n\t\tArrays.sort((JurisdictionTax[]) map1.get(&quot;jurisdictionTaxes&quot;));\r\n\r\nEg:\r\n\r\n\tstatic Map&lt;String, Object&gt; map1 = new HashMap&lt;&gt;();\r\n\r\n\tstatic {\r\n\t\tmap1.put(&quot;taxRate&quot;, &quot;rateType=EXCLUSIVE, rate=0.07&quot;);\r\n\t\tmap1.put(&quot;taxAmount&quot;, &quot;currencyCode=USD, amount=7.0&quot;);\r\n\t\tmap1.put(&quot;jurisdictionTaxes&quot;, new JurisdictionTax[] { new JurisdictionTax(new TaxRate(&quot;bbb&quot;)),\r\n\t\t\t\tnew JurisdictionTax(new TaxRate(&quot;aaa&quot;)) });\r\n\t\tmap1.put(&quot;withholdingJurisdictionTaxes&quot;, &quot;[]&quot;);\r\n\t}\r\n\r\n\tstatic Map&lt;String, Object&gt; map2 = new HashMap&lt;&gt;();\r\n\r\n\tstatic {\r\n\t\tmap2.put(&quot;taxRate&quot;, &quot;rateType=EXCLUSIVE, rate=0.07&quot;);\r\n\t\tmap2.put(&quot;taxAmount&quot;, &quot;currencyCode=USD, amount=7.0}&quot;);\r\n\t\tmap2.put(&quot;jurisdictionTaxes&quot;, new JurisdictionTax[] { new JurisdictionTax(new TaxRate(&quot;ccc&quot;)),\r\n\t\t\t\tnew JurisdictionTax(new TaxRate(&quot;aaa&quot;)) });\r\n\t\tmap2.put(&quot;withholdingJurisdictionTaxes&quot;, &quot;[]&quot;);\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\tSystem.out.println(&quot;map1 before: &quot; + ((JurisdictionTax[])map1.get(&quot;jurisdictionTaxes&quot;))[0]);\r\n\tSystem.out.println(&quot;map2 before: &quot; + ((JurisdictionTax[])map2.get(&quot;jurisdictionTaxes&quot;))[0]);\r\n\t\r\n\tArrays.sort((JurisdictionTax[]) map1.get(&quot;jurisdictionTaxes&quot;));\r\n\tArrays.sort((JurisdictionTax[]) map2.get(&quot;jurisdictionTaxes&quot;));\r\n\r\n\tSystem.out.println(&quot;map1 after: &quot; + ((JurisdictionTax[])map1.get(&quot;jurisdictionTaxes&quot;))[0]);\r\n\tSystem.out.println(&quot;map2 after: &quot; +    ((JurisdictionTax[])map2.get(&quot;jurisdictionTaxes&quot;))[0]);\r\n\r\nprints:\r\n\r\n    map1 before: JurisdictionTax [jurisdictionLevel=null, taxAmount=null, taxRate=TaxRate [rateType=bbb, rate=null]]\r\n    map2 before: JurisdictionTax [jurisdictionLevel=null, taxAmount=null, taxRate=TaxRate [rateType=ccc, rate=null]]\r\n    map1 after: JurisdictionTax [jurisdictionLevel=null, taxAmount=null, taxRate=TaxRate [rateType=aaa, rate=null]]\r\n    map2 after: JurisdictionTax [jurisdictionLevel=null, taxAmount=null, taxRate=TaxRate [rateType=aaa, rate=null]]\r\n\r\nWith defined classes:\r\n\r\n\r\n    public class JurisdictionTax implements Comparable&lt;JurisdictionTax&gt; {\r\n\tpublic JurisdictionTax(TaxRate taxRate) {\r\n\t\tsuper();\r\n\t\tthis.taxRate = taxRate;\r\n\t}\r\n\tpublic String jurisdictionLevel;\r\n\tpublic TaxAmount taxAmount;\r\n\tpublic TaxRate taxRate;\r\n\tpublic String displayName;\r\n\tpublic String jurisdictionName;\r\n\tpublic String responsiblePartyReason;\r\n\t\r\n\t\r\n\t@Override\r\n\tpublic int compareTo(JurisdictionTax other) {\r\n\t\t// incomplete\r\n\t\treturn this.taxRate.rateType.compareTo(other.taxRate.rateType);\r\n\t}\r\n\r\n\r\n\t@Override\r\n\tpublic String toString() {\r\n\t\treturn &quot;JurisdictionTax [jurisdictionLevel=&quot; + jurisdictionLevel + &quot;, taxAmount=&quot; + taxAmount + &quot;, taxRate=&quot;\r\n\t\t\t\t+ taxRate + &quot;]&quot;;\r\n\t}\r\n    \t\r\n    \r\n    \r\n    }\r\n\r\n etc\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"How to sort List&lt;Object&gt; in a Map&lt;String, Object&gt; in Java?","body":"<p>I think that this is the key:</p>\n<pre><code>Error: Required type: List &lt;T&gt;\n</code></pre>\n<p>The sort needs a comparable class to sort with. Try this to sort the jurisdictionTaxes:</p>\n<pre><code>    Arrays.sort((JurisdictionTax[]) map1.get(&quot;jurisdictionTaxes&quot;));\n</code></pre>\n<p>Eg:</p>\n<pre><code>static Map&lt;String, Object&gt; map1 = new HashMap&lt;&gt;();\n\nstatic {\n    map1.put(&quot;taxRate&quot;, &quot;rateType=EXCLUSIVE, rate=0.07&quot;);\n    map1.put(&quot;taxAmount&quot;, &quot;currencyCode=USD, amount=7.0&quot;);\n    map1.put(&quot;jurisdictionTaxes&quot;, new JurisdictionTax[] { new JurisdictionTax(new TaxRate(&quot;bbb&quot;)),\n            new JurisdictionTax(new TaxRate(&quot;aaa&quot;)) });\n    map1.put(&quot;withholdingJurisdictionTaxes&quot;, &quot;[]&quot;);\n}\n\nstatic Map&lt;String, Object&gt; map2 = new HashMap&lt;&gt;();\n\nstatic {\n    map2.put(&quot;taxRate&quot;, &quot;rateType=EXCLUSIVE, rate=0.07&quot;);\n    map2.put(&quot;taxAmount&quot;, &quot;currencyCode=USD, amount=7.0}&quot;);\n    map2.put(&quot;jurisdictionTaxes&quot;, new JurisdictionTax[] { new JurisdictionTax(new TaxRate(&quot;ccc&quot;)),\n            new JurisdictionTax(new TaxRate(&quot;aaa&quot;)) });\n    map2.put(&quot;withholdingJurisdictionTaxes&quot;, &quot;[]&quot;);\n}\n\npublic static void main(String[] args) {\nSystem.out.println(&quot;map1 before: &quot; + ((JurisdictionTax[])map1.get(&quot;jurisdictionTaxes&quot;))[0]);\nSystem.out.println(&quot;map2 before: &quot; + ((JurisdictionTax[])map2.get(&quot;jurisdictionTaxes&quot;))[0]);\n\nArrays.sort((JurisdictionTax[]) map1.get(&quot;jurisdictionTaxes&quot;));\nArrays.sort((JurisdictionTax[]) map2.get(&quot;jurisdictionTaxes&quot;));\n\nSystem.out.println(&quot;map1 after: &quot; + ((JurisdictionTax[])map1.get(&quot;jurisdictionTaxes&quot;))[0]);\nSystem.out.println(&quot;map2 after: &quot; +    ((JurisdictionTax[])map2.get(&quot;jurisdictionTaxes&quot;))[0]);\n</code></pre>\n<p>prints:</p>\n<pre><code>map1 before: JurisdictionTax [jurisdictionLevel=null, taxAmount=null, taxRate=TaxRate [rateType=bbb, rate=null]]\nmap2 before: JurisdictionTax [jurisdictionLevel=null, taxAmount=null, taxRate=TaxRate [rateType=ccc, rate=null]]\nmap1 after: JurisdictionTax [jurisdictionLevel=null, taxAmount=null, taxRate=TaxRate [rateType=aaa, rate=null]]\nmap2 after: JurisdictionTax [jurisdictionLevel=null, taxAmount=null, taxRate=TaxRate [rateType=aaa, rate=null]]\n</code></pre>\n<p>With defined classes:</p>\n<pre><code>public class JurisdictionTax implements Comparable&lt;JurisdictionTax&gt; {\npublic JurisdictionTax(TaxRate taxRate) {\n    super();\n    this.taxRate = taxRate;\n}\npublic String jurisdictionLevel;\npublic TaxAmount taxAmount;\npublic TaxRate taxRate;\npublic String displayName;\npublic String jurisdictionName;\npublic String responsiblePartyReason;\n\n\n@Override\npublic int compareTo(JurisdictionTax other) {\n    // incomplete\n    return this.taxRate.rateType.compareTo(other.taxRate.rateType);\n}\n\n\n@Override\npublic String toString() {\n    return &quot;JurisdictionTax [jurisdictionLevel=&quot; + jurisdictionLevel + &quot;, taxAmount=&quot; + taxAmount + &quot;, taxRate=&quot;\n            + taxRate + &quot;]&quot;;\n}\n    \n\n\n}\n</code></pre>\n<p>etc</p>\n"}],"owner":{"account_id":18886372,"reputation":157,"user_id":13777706,"display_name":"Blake"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75950138,"answer_count":1,"score":1,"last_activity_date":1680787894,"creation_date":1680574103,"question_id":75924992,"body_markdown":"I have two maps, `Map&lt;String,Object&gt;` which looks like:\r\n```\r\nMap&lt;String, Object&gt; map1 = {\r\n    taxRate={rateType=EXCLUSIVE, rate=0.07}, \r\n    taxAmount={currencyCode=USD, amount=7.0},\r\n    jurisdictionTaxes=[{jurisdictionLevel=State, taxAmount={currencyCode=USD, amount=null}, taxRate={rateType=EXCLUSIVE, rate=null}, displayName=, jurisdictionName=, responsiblePartyReason=}, {jurisdictionLevel=County, taxAmount={currencyCode=USD, amount=null}, taxRate={rateType=EXCLUSIVE, rate=null}, displayName=, jurisdictionName=, responsiblePartyReason=}, {jurisdictionLevel=City, taxAmount={currencyCode=USD, amount=null}, taxRate={rateType=EXCLUSIVE, rate=null}, displayName=, jurisdictionName=, responsiblePartyReason=}, {jurisdictionLevel=District, taxAmount={currencyCode=USD, amount=null}, taxRate={rateType=EXCLUSIVE, rate=null}, displayName=, jurisdictionName=, responsiblePartyReason=}],\r\n    withholdingJurisdictionTaxes=[]\r\n}\r\n\r\nMap&lt;String, Object&gt; map2 = {\r\n    taxRate={rateType=EXCLUSIVE, rate=0.07}, \r\n    taxAmount={currencyCode=USD, amount=7.0},\r\n    jurisdictionTaxes=[{jurisdictionLevel=State, taxAmount={currencyCode=USD, amount=null}, taxRate={rateType=EXCLUSIVE, rate=null}, displayName=, jurisdictionName=, responsiblePartyReason=}, {jurisdictionLevel=County, taxAmount={currencyCode=USD, amount=null}, taxRate={rateType=EXCLUSIVE, rate=null}, displayName=, jurisdictionName=, responsiblePartyReason=}, {jurisdictionLevel=City, taxAmount={currencyCode=USD, amount=null}, taxRate={rateType=EXCLUSIVE, rate=null}, displayName=, jurisdictionName=, responsiblePartyReason=}, {jurisdictionLevel=District, taxAmount={currencyCode=USD, amount=null}, taxRate={rateType=EXCLUSIVE, rate=null}, displayName=, jurisdictionName=, responsiblePartyReason=}],\r\n    withholdingJurisdictionTaxes=[]\r\n}\r\n\r\n```\r\n\r\nI am comparing these two maps using\r\n\r\n```\r\n  Map&lt;String, Object&gt; flatMap1 = FlatMapUtil.flatten(map1);\r\n  Map&lt;String, Object&gt; flatMap2 = FlatMapUtil.flatten(map2);\r\n  MapDifference&lt;String, Object&gt; difference = Maps.difference(flatMap1, flatMap2);\r\n\r\n```\r\n\r\nHowever if you look at the second key value in the map, it is a list of objects. The order matters while calculating the diff. So I would need to sort that particular list before finding the Map.difference.\r\n\r\nCan you help me understand how I can sort this List&lt;Object&gt;?\r\n\r\nI tried the following:\r\n```\r\n1. Collections.sort(Arrays.asList(leftMap.get(&quot;jurisdictionTaxes&quot;)));\r\n\r\nError: Required type: List &lt;T&gt;\r\nProvided: List &lt;Object&gt;\r\n\r\n2. Arrays.asList(leftMap.get(&quot;jurisdictionTaxes&quot;)).sort((s1, s2) -&gt; s1.get(&quot;jurisdictionLevel&quot;) - s2.get(&quot;jurisdictionLevel&quot;));\r\n\r\nError: Cannot resolve method &#39;get&#39; in &#39;Object&#39;\r\n```\r\n\r\n\r\n```\r\n public static &lt;K, V&gt; MapDifference&lt;K, V&gt; difference(Map&lt;? extends K, ? extends V&gt; left, Map&lt;? extends K, ? extends V&gt; right) {\r\n        if (left instanceof SortedMap) {\r\n            SortedMap&lt;K, ? extends V&gt; sortedLeft = (SortedMap)left;\r\n            return difference(sortedLeft, right);\r\n        } else {\r\n            return difference(left, right, Equivalence.equals());\r\n        }\r\n    }\r\n```","title":"How to sort List&lt;Object&gt; in a Map&lt;String, Object&gt; in Java?","body":"<p>I have two maps, <code>Map&lt;String,Object&gt;</code> which looks like:</p>\n<pre><code>Map&lt;String, Object&gt; map1 = {\n    taxRate={rateType=EXCLUSIVE, rate=0.07}, \n    taxAmount={currencyCode=USD, amount=7.0},\n    jurisdictionTaxes=[{jurisdictionLevel=State, taxAmount={currencyCode=USD, amount=null}, taxRate={rateType=EXCLUSIVE, rate=null}, displayName=, jurisdictionName=, responsiblePartyReason=}, {jurisdictionLevel=County, taxAmount={currencyCode=USD, amount=null}, taxRate={rateType=EXCLUSIVE, rate=null}, displayName=, jurisdictionName=, responsiblePartyReason=}, {jurisdictionLevel=City, taxAmount={currencyCode=USD, amount=null}, taxRate={rateType=EXCLUSIVE, rate=null}, displayName=, jurisdictionName=, responsiblePartyReason=}, {jurisdictionLevel=District, taxAmount={currencyCode=USD, amount=null}, taxRate={rateType=EXCLUSIVE, rate=null}, displayName=, jurisdictionName=, responsiblePartyReason=}],\n    withholdingJurisdictionTaxes=[]\n}\n\nMap&lt;String, Object&gt; map2 = {\n    taxRate={rateType=EXCLUSIVE, rate=0.07}, \n    taxAmount={currencyCode=USD, amount=7.0},\n    jurisdictionTaxes=[{jurisdictionLevel=State, taxAmount={currencyCode=USD, amount=null}, taxRate={rateType=EXCLUSIVE, rate=null}, displayName=, jurisdictionName=, responsiblePartyReason=}, {jurisdictionLevel=County, taxAmount={currencyCode=USD, amount=null}, taxRate={rateType=EXCLUSIVE, rate=null}, displayName=, jurisdictionName=, responsiblePartyReason=}, {jurisdictionLevel=City, taxAmount={currencyCode=USD, amount=null}, taxRate={rateType=EXCLUSIVE, rate=null}, displayName=, jurisdictionName=, responsiblePartyReason=}, {jurisdictionLevel=District, taxAmount={currencyCode=USD, amount=null}, taxRate={rateType=EXCLUSIVE, rate=null}, displayName=, jurisdictionName=, responsiblePartyReason=}],\n    withholdingJurisdictionTaxes=[]\n}\n\n</code></pre>\n<p>I am comparing these two maps using</p>\n<pre><code>  Map&lt;String, Object&gt; flatMap1 = FlatMapUtil.flatten(map1);\n  Map&lt;String, Object&gt; flatMap2 = FlatMapUtil.flatten(map2);\n  MapDifference&lt;String, Object&gt; difference = Maps.difference(flatMap1, flatMap2);\n\n</code></pre>\n<p>However if you look at the second key value in the map, it is a list of objects. The order matters while calculating the diff. So I would need to sort that particular list before finding the Map.difference.</p>\n<p>Can you help me understand how I can sort this List?</p>\n<p>I tried the following:</p>\n<pre><code>1. Collections.sort(Arrays.asList(leftMap.get(&quot;jurisdictionTaxes&quot;)));\n\nError: Required type: List &lt;T&gt;\nProvided: List &lt;Object&gt;\n\n2. Arrays.asList(leftMap.get(&quot;jurisdictionTaxes&quot;)).sort((s1, s2) -&gt; s1.get(&quot;jurisdictionLevel&quot;) - s2.get(&quot;jurisdictionLevel&quot;));\n\nError: Cannot resolve method 'get' in 'Object'\n</code></pre>\n<pre><code> public static &lt;K, V&gt; MapDifference&lt;K, V&gt; difference(Map&lt;? extends K, ? extends V&gt; left, Map&lt;? extends K, ? extends V&gt; right) {\n        if (left instanceof SortedMap) {\n            SortedMap&lt;K, ? extends V&gt; sortedLeft = (SortedMap)left;\n            return difference(sortedLeft, right);\n        } else {\n            return difference(left, right, Equivalence.equals());\n        }\n    }\n</code></pre>\n"},{"tags":["java","quarkus","vert.x","smallrye"],"answers":[{"tags":[],"owner":{"account_id":427958,"reputation":548,"user_id":809984,"display_name":"jponge"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680768020,"creation_date":1680768020,"answer_id":75947146,"question_id":75940219,"body_markdown":"It would be easier if you had a full reproducer project somewhere, and any error log / stack-trace would also help.\r\n\r\nThat being said I&#39;m seeing something very suspicious:\r\n\r\n```java\r\n.onItem().transform(entity -&gt; ObjectUtils.isNotEmpty(entity) ? productTranslator.toDomain(entity) : null)\r\n```\r\n\r\nThis could insert `null` values in a `Multi` stream, and that is not permitted in the _Reactive Streams_ specification that `Multi` implements.\r\nWhen a `transform` handler returns `null`, then the stream is errored.","title":"Implementation using io.vertx.mutiny in Quarkus does not change the value to be returned","body":"<p>It would be easier if you had a full reproducer project somewhere, and any error log / stack-trace would also help.</p>\n<p>That being said I'm seeing something very suspicious:</p>\n<pre class=\"lang-java prettyprint-override\"><code>.onItem().transform(entity -&gt; ObjectUtils.isNotEmpty(entity) ? productTranslator.toDomain(entity) : null)\n</code></pre>\n<p>This could insert <code>null</code> values in a <code>Multi</code> stream, and that is not permitted in the <em>Reactive Streams</em> specification that <code>Multi</code> implements.\nWhen a <code>transform</code> handler returns <code>null</code>, then the stream is errored.</p>\n"},{"tags":[],"owner":{"account_id":28223234,"reputation":3,"user_id":21573645,"display_name":"Takayuki-T"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680787841,"creation_date":1680787841,"answer_id":75950131,"question_id":75940219,"body_markdown":"I was able to deal with it by doing only OrderBy separately as shown below, but the reason is not clear. Sorry for the inconvenience.    \r\n\r\n\r\n    @Override\r\n        public Multi&lt;Product&gt; searchProducts(String sortKey, String order, Integer limit, Integer offset) {\r\n    \r\n            final String query = QueryHelper.setOrderInQuery(ProductCommand.FECTH, order);\r\n    \r\n            return client\r\n                    .preparedQuery(query)\r\n                    .execute(selectTuple(sortKey, limit, offset))\r\n                    .onItem().transformToMulti(rows -&gt; Multi.createFrom().iterable(rows))\r\n                    .onItem().transform(this::toProduct)\r\n                    .onItem().transform(entity -&gt; ObjectUtils.isNotEmpty(entity) ? productTranslator.toDomain(entity) : null);\r\n        }\r\n    \r\n        private Tuple selectTuple(String key, Integer limit, Integer offset) {\r\n            return Tuple.wrap(Arrays.asList(\r\n                    Objects.isNull(key) ? &quot; p.id&quot; : key,\r\n                    Objects.isNull(limit) ? 10 : limit,\r\n                    Objects.isNull(offset) ? 0 : offset));","title":"Implementation using io.vertx.mutiny in Quarkus does not change the value to be returned","body":"<p>I was able to deal with it by doing only OrderBy separately as shown below, but the reason is not clear. Sorry for the inconvenience.</p>\n<pre><code>@Override\n    public Multi&lt;Product&gt; searchProducts(String sortKey, String order, Integer limit, Integer offset) {\n\n        final String query = QueryHelper.setOrderInQuery(ProductCommand.FECTH, order);\n\n        return client\n                .preparedQuery(query)\n                .execute(selectTuple(sortKey, limit, offset))\n                .onItem().transformToMulti(rows -&gt; Multi.createFrom().iterable(rows))\n                .onItem().transform(this::toProduct)\n                .onItem().transform(entity -&gt; ObjectUtils.isNotEmpty(entity) ? productTranslator.toDomain(entity) : null);\n    }\n\n    private Tuple selectTuple(String key, Integer limit, Integer offset) {\n        return Tuple.wrap(Arrays.asList(\n                Objects.isNull(key) ? &quot; p.id&quot; : key,\n                Objects.isNull(limit) ? 10 : limit,\n                Objects.isNull(offset) ? 0 : offset));\n</code></pre>\n"}],"owner":{"account_id":28223234,"reputation":3,"user_id":21573645,"display_name":"Takayuki-T"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":244,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75947146,"answer_count":2,"score":0,"last_activity_date":1680787841,"creation_date":1680702271,"question_id":75940219,"body_markdown":"We are building a reactive system by implementing it using io.vertx.mutiny in Quarkus.\r\nAt this time, a single value was tested and confirmed to be returned. However, variables that are expected to return multiple records will not finish processing and will eventually be cancelled. How should I deal with this?\r\n\r\nI would appreciate it if you could enjoy it if you know the solution.\r\n\r\nImport-Block\r\n```\r\nimport io.smallrye.mutiny.Multi; import io.smallrye.mutiny.Uni; import io.vertx.mutiny.pgclient.PgPool; import io.vertx.mutiny.sqlclient.Row; import io.vertx.mutiny.sqlclient.RowSet; import io.vertx.mutiny.sqlclient.SqlClient; import io.vertx.mutiny.sqlclient.Tuple;`\r\n```\r\n```\r\nprivate final PgPool client;\r\n```\r\n\r\n\r\nSuccess Method\r\n   \r\n```\r\nprivate final String FETCH_BY_ID = &quot;SELECT p.*, c.name as category_name FROM products p INNER JOIN categories c ON p.category_id = c.id WHERE p.id = $1&quot;;\r\n @Override\r\n    public Uni&lt;Product&gt; searchProduct(UUID productId) {\r\n        return this.executeFetchById(productId, this.client);\r\n    }\r\n\r\n    private Uni&lt;Product&gt; executeFetchById(UUID productId, SqlClient client) {\r\n        return client\r\n                .preparedQuery(FETCH_BY_ID)\r\n                .execute(Tuple.of(productId))\r\n                .onItem().transform(RowSet::iterator)\r\n                .onItem().transform(iterator -&gt; iterator.hasNext() ? toProduct(iterator.next()) : null)\r\n                .onItem().transform(entity -&gt; ObjectUtils.isNotEmpty(entity) ? productTranslator.toDomain(entity) : null);\r\n    }\r\n```\r\n\r\nFailure\r\n```\r\n    @Override\r\n    public Multi&lt;Product&gt; searchProducts(String sortKey, String order, Integer limit, Integer offset) {\r\n\r\n        final String query = generateSearchProductsQuery(sortKey, order);\r\n\r\n        return client\r\n                .preparedQuery(query)\r\n                .execute(selectTuple(limit, offset))\r\n                .onItem().transformToMulti(rows -&gt; Multi.createFrom().iterable(rows))\r\n                .onItem().transform(this::toProduct)\r\n                .onItem().transform(entity -&gt; ObjectUtils.isNotEmpty(entity) ? productTranslator.toDomain(entity) : null);\r\n    }\r\n\r\n    private Tuple selectTuple(Integer limit, Integer offset) {\r\n        return Tuple.wrap(Arrays.asList(\r\n                Objects.isNull(limit) ? 10 : limit,\r\n                Objects.isNull(offset) ? 0 : offset));\r\n    }\r\n\r\n    private String generateSearchProductsQuery(String sortKey, String order) {\r\n        String baseQuery = &quot;SELECT p.*, c.name as category_name FROM products p INNER JOIN categories c ON p.category_id = c.id ORDER BY %s %s LIMIT $1 OFFSET $2&quot;;\r\n        String finalSortKey = Objects.isNull(sortKey) ? &quot;p.id&quot; : sortKey;\r\n        String finalOrder = Objects.isNull(order) ? &quot;ASC&quot; : order;\r\n        return String.format(baseQuery, finalSortKey, finalOrder);\r\n    }\r\n```\r\n\r\n\r\n```\r\nreturn client\r\n                .preparedQuery(query)\r\n                .execute(selectTuple(limit, offset))\r\n                .onItem().transformToMulti(rows -&gt; Multi.createFrom().iterable(rows))\r\n                .onItem().transform(this::toProduct)\r\n                .log(&quot;TEST A&quot;)\r\n                .onItem().transform(entity -&gt; ObjectUtils.isNotEmpty(entity) ? productTranslator.toDomain(entity) : null);\r\n```\r\n\r\n”TEST A”　is displayed, but the process was never completed.\r\n　\r\n","title":"Implementation using io.vertx.mutiny in Quarkus does not change the value to be returned","body":"<p>We are building a reactive system by implementing it using io.vertx.mutiny in Quarkus.\nAt this time, a single value was tested and confirmed to be returned. However, variables that are expected to return multiple records will not finish processing and will eventually be cancelled. How should I deal with this?</p>\n<p>I would appreciate it if you could enjoy it if you know the solution.</p>\n<p>Import-Block</p>\n<pre><code>import io.smallrye.mutiny.Multi; import io.smallrye.mutiny.Uni; import io.vertx.mutiny.pgclient.PgPool; import io.vertx.mutiny.sqlclient.Row; import io.vertx.mutiny.sqlclient.RowSet; import io.vertx.mutiny.sqlclient.SqlClient; import io.vertx.mutiny.sqlclient.Tuple;`\n</code></pre>\n<pre><code>private final PgPool client;\n</code></pre>\n<p>Success Method</p>\n<pre><code>private final String FETCH_BY_ID = &quot;SELECT p.*, c.name as category_name FROM products p INNER JOIN categories c ON p.category_id = c.id WHERE p.id = $1&quot;;\n @Override\n    public Uni&lt;Product&gt; searchProduct(UUID productId) {\n        return this.executeFetchById(productId, this.client);\n    }\n\n    private Uni&lt;Product&gt; executeFetchById(UUID productId, SqlClient client) {\n        return client\n                .preparedQuery(FETCH_BY_ID)\n                .execute(Tuple.of(productId))\n                .onItem().transform(RowSet::iterator)\n                .onItem().transform(iterator -&gt; iterator.hasNext() ? toProduct(iterator.next()) : null)\n                .onItem().transform(entity -&gt; ObjectUtils.isNotEmpty(entity) ? productTranslator.toDomain(entity) : null);\n    }\n</code></pre>\n<p>Failure</p>\n<pre><code>    @Override\n    public Multi&lt;Product&gt; searchProducts(String sortKey, String order, Integer limit, Integer offset) {\n\n        final String query = generateSearchProductsQuery(sortKey, order);\n\n        return client\n                .preparedQuery(query)\n                .execute(selectTuple(limit, offset))\n                .onItem().transformToMulti(rows -&gt; Multi.createFrom().iterable(rows))\n                .onItem().transform(this::toProduct)\n                .onItem().transform(entity -&gt; ObjectUtils.isNotEmpty(entity) ? productTranslator.toDomain(entity) : null);\n    }\n\n    private Tuple selectTuple(Integer limit, Integer offset) {\n        return Tuple.wrap(Arrays.asList(\n                Objects.isNull(limit) ? 10 : limit,\n                Objects.isNull(offset) ? 0 : offset));\n    }\n\n    private String generateSearchProductsQuery(String sortKey, String order) {\n        String baseQuery = &quot;SELECT p.*, c.name as category_name FROM products p INNER JOIN categories c ON p.category_id = c.id ORDER BY %s %s LIMIT $1 OFFSET $2&quot;;\n        String finalSortKey = Objects.isNull(sortKey) ? &quot;p.id&quot; : sortKey;\n        String finalOrder = Objects.isNull(order) ? &quot;ASC&quot; : order;\n        return String.format(baseQuery, finalSortKey, finalOrder);\n    }\n</code></pre>\n<pre><code>return client\n                .preparedQuery(query)\n                .execute(selectTuple(limit, offset))\n                .onItem().transformToMulti(rows -&gt; Multi.createFrom().iterable(rows))\n                .onItem().transform(this::toProduct)\n                .log(&quot;TEST A&quot;)\n                .onItem().transform(entity -&gt; ObjectUtils.isNotEmpty(entity) ? productTranslator.toDomain(entity) : null);\n</code></pre>\n<p>”TEST A”　is displayed, but the process was never completed.\n　</p>\n"},{"tags":["java","android","firebase","opencsv"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":1,"creation_date":1680779899,"post_id":75947737,"comment_id":133957519,"body_markdown":"What exactly in this code doesn&#39;t work the way you expect?\nTell us what is wrong with shared code. Do you have any errors?","body":"What exactly in this code doesn&#39;t work the way you expect? Tell us what is wrong with shared code. Do you have any errors?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1680785064,"post_id":75947737,"comment_id":133958745,"body_markdown":"`String[] mimeTypes = {&quot;text/csv` Remove that. Just `*/*` will show all files.","body":"<code>String[] mimeTypes = {&quot;text&#47;csv</code> Remove that. Just <code>*&#47;*</code> will show all files."},{"owner":{"account_id":22018291,"reputation":23,"user_id":16287464,"display_name":"Naak Mukka"},"score":0,"creation_date":1680787382,"post_id":75947737,"comment_id":133959322,"body_markdown":"@AlexMamo As you can see in the image the resto.csv file cannot be selected but i want it to be selected so that the data can be parsed.\nTHERE ARE NO ERRORS so i think there must be some logical error","body":"@AlexMamo As you can see in the image the resto.csv file cannot be selected but i want it to be selected so that the data can be parsed. THERE ARE NO ERRORS so i think there must be some logical error"},{"owner":{"account_id":22018291,"reputation":23,"user_id":16287464,"display_name":"Naak Mukka"},"score":0,"creation_date":1680787405,"post_id":75947737,"comment_id":133959332,"body_markdown":"@blackapps tried that too but doesnt help...","body":"@blackapps tried that too but doesnt help..."}],"owner":{"account_id":22018291,"reputation":23,"user_id":16287464,"display_name":"Naak Mukka"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680787338,"creation_date":1680772022,"question_id":75947737,"body_markdown":"I am learning Android App Development and trying to make an app which selects a csv or excel file and then parse the data into a Recycler View.\r\nHere I am using a csv file:\r\n\r\n    Name, Price\r\n    Item1, 10\r\n    Item2, 20\r\n    Item3, 30\r\n\r\nbut when click the upload button the file chooser opens successfully but its not showing any csv or xlsx file present in the device although file is present.\r\n\r\nHere is the code :\r\n\r\n\r\n```\r\nimport androidx.annotation.Nullable;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport android.annotation.SuppressLint;\r\nimport android.content.Intent;\r\nimport android.net.Uri;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.opencsv.CSVReader;\r\n\r\nimport java.io.FileReader;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class AdminHome extends AppCompatActivity {\r\n    Button logOutBtn, uploadBtn;\r\n    FirebaseAuth mAuth;\r\n    TextView tvEmail;\r\n    private static final int FILE_SELECT_CODE = 1;\r\n    private List&lt;MenuItem&gt; menuItemList = new ArrayList&lt;&gt;();\r\n    @SuppressLint(&quot;MissingInflatedId&quot;)\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_admin_home);\r\n\r\n        mAuth = FirebaseAuth.getInstance();\r\n\r\n        tvEmail = findViewById(R.id.tvUser);\r\n        logOutBtn = findViewById(R.id.logOutBtn);\r\n        uploadBtn = findViewById(R.id.uploadBtn);\r\n        String email = getIntent().getStringExtra(&quot;email&quot;);\r\n        tvEmail.setText(email);\r\n\r\n\r\n        uploadBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                showFileChooser();\r\n            }\r\n        });\r\n\r\n        logOutBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                signOut();\r\n            }\r\n        });\r\n    }\r\n\r\n    private void showFileChooser() {\r\n        Intent intent = new Intent(Intent.ACTION_GET_CONTENT);\r\n        intent.setType(&quot;*/*&quot;); // Allow all file types\r\n        String[] mimeTypes = {&quot;text/csv&quot;}; // Add CSV MIME type\r\n        intent.putExtra(Intent.EXTRA_MIME_TYPES, mimeTypes);\r\n        intent.addCategory(Intent.CATEGORY_OPENABLE);\r\n        try {\r\n            startActivityForResult(Intent.createChooser(intent, &quot;Select a File&quot;), FILE_SELECT_CODE);\r\n\r\n        }catch (Exception e) {\r\n            Toast.makeText(this, e.getMessage(), Toast.LENGTH_LONG).show();\r\n            System.out.println(e.getMessage());\r\n        }\r\n    }\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n        if(requestCode == FILE_SELECT_CODE &amp;&amp; resultCode == RESULT_OK) {\r\n            if(data != null) {\r\n                Uri uri = data.getData();\r\n                String path = uri.getPath();\r\n                try {\r\n                    CSVReader reader = new CSVReader(new FileReader(path));\r\n                    String[] line;\r\n\r\n                    while ((line = reader.readNext()) != null) {\r\n                        String name = line[0];\r\n                        String price = line[1];\r\n                        menuItemList.add(new MenuItem(name, price));\r\n\r\n                    }\r\n                    RecyclerView recyclerView = findViewById(R.id.menu_list);\r\n                    MenuAdapter adapter = new MenuAdapter(menuItemList);\r\n                    recyclerView.setAdapter(adapter);\r\n                    recyclerView.setLayoutManager(new LinearLayoutManager(this));\r\n                    reader.close();\r\n                }catch (Exception e) {\r\n                    Toast.makeText(this, e.getMessage(), Toast.LENGTH_SHORT).show();\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onBackPressed() {\r\n        super.onBackPressed();\r\n        finishAffinity();\r\n    }\r\n\r\n    public void signOut() {\r\n        mAuth.signOut();\r\n        Intent intent = new Intent(AdminHome.this, MainActivity.class);\r\n        startActivity(intent);\r\n        finish();\r\n    }\r\n}\r\n```\r\n[![As you can see I have a csv file present but its not getting selected](https://i.stack.imgur.com/fkfTf.png)](https://i.stack.imgur.com/fkfTf.png)\r\n\r\nAs you can see in the image the resto.csv file cannot be selected but i want it to be selected so that the data can be parsed.\r\n***THERE ARE NO ERRORS so i think there must be some logical error***\r\nI tried to remove these lines thinking that it will allow all types of files to select which it did but then it was not parsing the data:\r\n\r\n```\r\n\r\n        String[] mimeTypes = {&quot;text/csv&quot;}; // Add CSV MIME type\r\n        intent.putExtra(Intent.EXTRA_MIME_TYPES, mimeTypes);`\r\n```","title":"Fille Chooser unable to select csv, xlsx file Android Studio","body":"<p>I am learning Android App Development and trying to make an app which selects a csv or excel file and then parse the data into a Recycler View.\nHere I am using a csv file:</p>\n<pre><code>Name, Price\nItem1, 10\nItem2, 20\nItem3, 30\n</code></pre>\n<p>but when click the upload button the file chooser opens successfully but its not showing any csv or xlsx file present in the device although file is present.</p>\n<p>Here is the code :</p>\n<pre><code>import androidx.annotation.Nullable;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.recyclerview.widget.LinearLayoutManager;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport android.annotation.SuppressLint;\nimport android.content.Intent;\nimport android.net.Uri;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport com.google.firebase.auth.FirebaseAuth;\nimport com.opencsv.CSVReader;\n\nimport java.io.FileReader;\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class AdminHome extends AppCompatActivity {\n    Button logOutBtn, uploadBtn;\n    FirebaseAuth mAuth;\n    TextView tvEmail;\n    private static final int FILE_SELECT_CODE = 1;\n    private List&lt;MenuItem&gt; menuItemList = new ArrayList&lt;&gt;();\n    @SuppressLint(&quot;MissingInflatedId&quot;)\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_admin_home);\n\n        mAuth = FirebaseAuth.getInstance();\n\n        tvEmail = findViewById(R.id.tvUser);\n        logOutBtn = findViewById(R.id.logOutBtn);\n        uploadBtn = findViewById(R.id.uploadBtn);\n        String email = getIntent().getStringExtra(&quot;email&quot;);\n        tvEmail.setText(email);\n\n\n        uploadBtn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                showFileChooser();\n            }\n        });\n\n        logOutBtn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                signOut();\n            }\n        });\n    }\n\n    private void showFileChooser() {\n        Intent intent = new Intent(Intent.ACTION_GET_CONTENT);\n        intent.setType(&quot;*/*&quot;); // Allow all file types\n        String[] mimeTypes = {&quot;text/csv&quot;}; // Add CSV MIME type\n        intent.putExtra(Intent.EXTRA_MIME_TYPES, mimeTypes);\n        intent.addCategory(Intent.CATEGORY_OPENABLE);\n        try {\n            startActivityForResult(Intent.createChooser(intent, &quot;Select a File&quot;), FILE_SELECT_CODE);\n\n        }catch (Exception e) {\n            Toast.makeText(this, e.getMessage(), Toast.LENGTH_LONG).show();\n            System.out.println(e.getMessage());\n        }\n    }\n\n    @Override\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n        super.onActivityResult(requestCode, resultCode, data);\n        if(requestCode == FILE_SELECT_CODE &amp;&amp; resultCode == RESULT_OK) {\n            if(data != null) {\n                Uri uri = data.getData();\n                String path = uri.getPath();\n                try {\n                    CSVReader reader = new CSVReader(new FileReader(path));\n                    String[] line;\n\n                    while ((line = reader.readNext()) != null) {\n                        String name = line[0];\n                        String price = line[1];\n                        menuItemList.add(new MenuItem(name, price));\n\n                    }\n                    RecyclerView recyclerView = findViewById(R.id.menu_list);\n                    MenuAdapter adapter = new MenuAdapter(menuItemList);\n                    recyclerView.setAdapter(adapter);\n                    recyclerView.setLayoutManager(new LinearLayoutManager(this));\n                    reader.close();\n                }catch (Exception e) {\n                    Toast.makeText(this, e.getMessage(), Toast.LENGTH_SHORT).show();\n                }\n            }\n        }\n    }\n\n    @Override\n    public void onBackPressed() {\n        super.onBackPressed();\n        finishAffinity();\n    }\n\n    public void signOut() {\n        mAuth.signOut();\n        Intent intent = new Intent(AdminHome.this, MainActivity.class);\n        startActivity(intent);\n        finish();\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/fkfTf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fkfTf.png\" alt=\"As you can see I have a csv file present but its not getting selected\" /></a></p>\n<p>As you can see in the image the resto.csv file cannot be selected but i want it to be selected so that the data can be parsed.\n<em><strong>THERE ARE NO ERRORS so i think there must be some logical error</strong></em>\nI tried to remove these lines thinking that it will allow all types of files to select which it did but then it was not parsing the data:</p>\n<pre><code>\n        String[] mimeTypes = {&quot;text/csv&quot;}; // Add CSV MIME type\n        intent.putExtra(Intent.EXTRA_MIME_TYPES, mimeTypes);`\n</code></pre>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":22533675,"reputation":155,"user_id":16725317,"display_name":"Harinatha Reddy"},"score":0,"creation_date":1680786789,"post_id":75949638,"comment_id":133959173,"body_markdown":"Sorry one case missed in the questions same character means not only digits even alpha like AAAAAAAAAAAA not allow","body":"Sorry one case missed in the questions same character means not only digits even alpha like AAAAAAAAAAAA not allow"},{"owner":{"account_id":4739783,"reputation":612574,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":0,"creation_date":1680786930,"post_id":75949638,"comment_id":133959212,"body_markdown":"See the [answer](https://stackoverflow.com/a/75949772/3832970) (I removed the comment above), it has the right solution.","body":"See the <a href=\"https://stackoverflow.com/a/75949772/3832970\">answer</a> (I removed the comment above), it has the right solution."}],"answers":[{"tags":[],"owner":{"account_id":4739783,"reputation":612574,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1680786335,"creation_date":1680785693,"answer_id":75949772,"question_id":75949638,"body_markdown":"You can use\r\n```none\r\n^(?=.{12,14}$)(?!([a-zA-Z\\d])(?:&amp;?\\1)+$)[a-zA-Z\\d]+(?:&amp;[a-zA-Z\\d]+)?$\r\n```\r\nSee the [regex demo][1]\r\n\r\n*Details*:\r\n\r\n - `^` - start of string\r\n - `(?=.{12,14}$)` - the length of the string must be between 12 and 14 chars\r\n - `(?!([a-zA-Z\\d])(?:&amp;?\\1)+$)` - the string cannot have identical alphanumeric chars eventually separated with a `&amp;` char at any position\r\n - `[a-zA-Z\\d]+(?:&amp;[a-zA-Z\\d]+)?` - one or more alphanumeric chars followed with an optional sequence of a `&amp;` char followed with one or more alphanumeric chars\r\n - `$` - end of string.\r\n\r\n  [1]: https://regex101.com/r/aFpfwv/3","title":"Regex Pattern for Not allow all same characters even separated by single special character","body":"<p>You can use</p>\n<pre class=\"lang-none prettyprint-override\"><code>^(?=.{12,14}$)(?!([a-zA-Z\\d])(?:&amp;?\\1)+$)[a-zA-Z\\d]+(?:&amp;[a-zA-Z\\d]+)?$\n</code></pre>\n<p>See the <a href=\"https://regex101.com/r/aFpfwv/3\" rel=\"nofollow noreferrer\">regex demo</a></p>\n<p><em>Details</em>:</p>\n<ul>\n<li><code>^</code> - start of string</li>\n<li><code>(?=.{12,14}$)</code> - the length of the string must be between 12 and 14 chars</li>\n<li><code>(?!([a-zA-Z\\d])(?:&amp;?\\1)+$)</code> - the string cannot have identical alphanumeric chars eventually separated with a <code>&amp;</code> char at any position</li>\n<li><code>[a-zA-Z\\d]+(?:&amp;[a-zA-Z\\d]+)?</code> - one or more alphanumeric chars followed with an optional sequence of a <code>&amp;</code> char followed with one or more alphanumeric chars</li>\n<li><code>$</code> - end of string.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":10051056,"reputation":3485,"user_id":7430869,"display_name":"Trung Duong"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680786963,"creation_date":1680786963,"answer_id":75949979,"question_id":75949638,"body_markdown":"You could try this pattern: \r\n\r\n    /^([A-Z0-9])(?!(\\1|&amp;)+$)(?=.{11,13}$)[A-Z0-9]*(?:[&amp;][A-Z0-9]+)?$/gm\r\n\r\nIt&#39;s modified version of your pattern, I&#39;ve only updated the negative look-ahead part to `(?!(\\1|&amp;)+$)` (not allow repeated of first letter or &#39;&amp;&#39; letter).\r\n\r\nSee demo [here][1] \r\n\r\n\r\n  [1]: https://regex101.com/r/hfcNuE/1","title":"Regex Pattern for Not allow all same characters even separated by single special character","body":"<p>You could try this pattern:</p>\n<pre><code>/^([A-Z0-9])(?!(\\1|&amp;)+$)(?=.{11,13}$)[A-Z0-9]*(?:[&amp;][A-Z0-9]+)?$/gm\n</code></pre>\n<p>It's modified version of your pattern, I've only updated the negative look-ahead part to <code>(?!(\\1|&amp;)+$)</code> (not allow repeated of first letter or '&amp;' letter).</p>\n<p>See demo <a href=\"https://regex101.com/r/hfcNuE/1\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":22533675,"reputation":155,"user_id":16725317,"display_name":"Harinatha Reddy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1680786963,"creation_date":1680784833,"question_id":75949638,"body_markdown":"\r\nTrying to create the regex for the below conditions, I have tried the one regex it&#39;s working as expected other than one condition as it does not allow duplicates even separated by particular Char &amp;.\r\n\r\n1. Allow Alpha Numeric characters with a minimum of 12 and a maximum of 14 \r\n\r\n2. No special characters are allowed other than &amp; ( only one)\r\n\r\n3. Not Allow all the same characters even separated by &amp; \r\n\r\n4. Length is same between 12 to 14 even including the &amp; \r\n\r\n  \r\nex: 111111111111 not allowed as all are the same characters\r\n\r\n    1111111&amp;11111 not allowed as all are the same characters even &amp; is there\r\n\r\n    111111111112 allowed \r\n\r\n    1111111&amp;11112 allowed\r\n\r\n    ABC123567GHDG4 allowed\r\n    \r\n```\r\n^(\\d)(?!\\1+$)(?=.{11,13}$)[0-9]*(?:[&amp;][0-9]+)?$\r\n```\r\n\r\nThe above regex is working other than the case 1111111&amp;11111 \r\n\r\ntried the below regex as well, it works the condition as it&#39;s not allowing the same characters \r\n\r\nBut it allows the &amp; beginning and end of the string and not allowed Alphabets \r\n\r\n```\r\n^(?!&amp;?(\\d)(?:&amp;?\\1)+$)(?=.{12,14}$)\\d*(?:&amp;\\d*)?$\r\n```\r\n\r\n\r\n\r\nWe do not allow the ```&quot;&amp;&quot;``` at the beginning and end of the string \r\nAnd it needs to allow the ```Captial Alpha character``` along with ```numerics```.\r\n```\r\nABC123567GHDG4 allowed \r\n\r\nABC1235&amp;67GHD allowed\r\n\r\nABCDEFGHIJKLR allowed\r\n\r\n1254789563254 allowed\r\n\r\n125478&amp;563254 allowed\r\n\r\n125478556325&amp; not allowed as ends with &amp;\r\n\r\n&amp;125478556325 not allowed as starts with &amp;\r\n\r\nABCDEFGHIJKL&amp; not allowed as ends with &amp;\r\n\r\n&amp;ABCDEFGHIJKL not allowed as start with &amp;\r\n\r\n```\r\n\r\n","title":"Regex Pattern for Not allow all same characters even separated by single special character","body":"<p>Trying to create the regex for the below conditions, I have tried the one regex it's working as expected other than one condition as it does not allow duplicates even separated by particular Char &amp;.</p>\n<ol>\n<li><p>Allow Alpha Numeric characters with a minimum of 12 and a maximum of 14</p>\n</li>\n<li><p>No special characters are allowed other than &amp; ( only one)</p>\n</li>\n<li><p>Not Allow all the same characters even separated by &amp;</p>\n</li>\n<li><p>Length is same between 12 to 14 even including the &amp;</p>\n</li>\n</ol>\n<p>ex: 111111111111 not allowed as all are the same characters</p>\n<pre><code>1111111&amp;11111 not allowed as all are the same characters even &amp; is there\n\n111111111112 allowed \n\n1111111&amp;11112 allowed\n\nABC123567GHDG4 allowed\n</code></pre>\n<pre><code>^(\\d)(?!\\1+$)(?=.{11,13}$)[0-9]*(?:[&amp;][0-9]+)?$\n</code></pre>\n<p>The above regex is working other than the case 1111111&amp;11111</p>\n<p>tried the below regex as well, it works the condition as it's not allowing the same characters</p>\n<p>But it allows the &amp; beginning and end of the string and not allowed Alphabets</p>\n<pre><code>^(?!&amp;?(\\d)(?:&amp;?\\1)+$)(?=.{12,14}$)\\d*(?:&amp;\\d*)?$\n</code></pre>\n<p>We do not allow the <code>&quot;&amp;&quot;</code> at the beginning and end of the string\nAnd it needs to allow the <code>Captial Alpha character</code> along with <code>numerics</code>.</p>\n<pre><code>ABC123567GHDG4 allowed \n\nABC1235&amp;67GHD allowed\n\nABCDEFGHIJKLR allowed\n\n1254789563254 allowed\n\n125478&amp;563254 allowed\n\n125478556325&amp; not allowed as ends with &amp;\n\n&amp;125478556325 not allowed as starts with &amp;\n\nABCDEFGHIJKL&amp; not allowed as ends with &amp;\n\n&amp;ABCDEFGHIJKL not allowed as start with &amp;\n\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9474,"page":518,"page_size":100}
