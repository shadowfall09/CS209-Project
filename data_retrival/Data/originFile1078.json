{"items":[{"tags":["java","spring-boot","maven","csvreader"],"comments":[{"owner":{"account_id":10328218,"reputation":2812,"user_id":7619034,"display_name":"Rob Evans"},"score":0,"creation_date":1591825304,"post_id":62313538,"comment_id":110207701,"body_markdown":"Your dependency is correct looking at https://search.maven.org/artifact/com.opencsv/opencsv/5.2/jar have you got a conflict perhaps with the Apache commons lib? http://commons.apache.org/proper/commons-csv/apidocs/org/apache/commons/csv/CSVParser.html","body":"Your dependency is correct looking at <a href=\"https://search.maven.org/artifact/com.opencsv/opencsv/5.2/jar\" rel=\"nofollow noreferrer\">search.maven.org/artifact/com.opencsv/opencsv/5.2/jar</a> have you got a conflict perhaps with the Apache commons lib? <a href=\"http://commons.apache.org/proper/commons-csv/apidocs/org/apache/commons/csv/CSVParser.html\" rel=\"nofollow noreferrer\">commons.apache.org/proper/commons-csv/apidocs/org/apache/&hellip;</a>"},{"owner":{"account_id":14863446,"reputation":347,"user_id":10733389,"display_name":"BobbKitty729"},"score":0,"creation_date":1591825453,"post_id":62313538,"comment_id":110207746,"body_markdown":"@RobEvans Maybe, I have ```org.apache.commons``` also as a dependency in my pom.xml","body":"@RobEvans Maybe, I have <code>org.apache.commons</code> also as a dependency in my pom.xml"},{"owner":{"account_id":10328218,"reputation":2812,"user_id":7619034,"display_name":"Rob Evans"},"score":0,"creation_date":1591825621,"post_id":62313538,"comment_id":110207817,"body_markdown":"Seems you will have a conflict then. https://stackoverflow.com/questions/547805/exclude-all-transitive-dependencies-of-a-single-dependency might help you but you&#39;ll need to decide whether the additional opencsv lib is needed or whether the (transitive?) apache dependency is wanted","body":"Seems you will have a conflict then. <a href=\"https://stackoverflow.com/questions/547805/exclude-all-transitive-dependencies-of-a-single-dependency\" title=\"exclude all transitive dependencies of a single dependency\">stackoverflow.com/questions/547805/&hellip;</a> might help you but you&#39;ll need to decide whether the additional opencsv lib is needed or whether the (transitive?) apache dependency is wanted"}],"answers":[{"tags":[],"owner":{"account_id":20559734,"reputation":76,"user_id":15090501,"display_name":"Ariye Caspi"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1634030658,"creation_date":1634030658,"answer_id":69538048,"question_id":62313538,"body_markdown":"**Had the same issue.**\r\nA right-click on the project -&gt; Maven -&gt; &#39;Reload project&#39; may probably fix it.","title":"How to solve &quot;java: package com.opencsv does not exist&quot; in Maven with IntelliJ?","body":"<p><strong>Had the same issue.</strong>\nA right-click on the project -&gt; Maven -&gt; 'Reload project' may probably fix it.</p>\n"},{"tags":[],"owner":{"account_id":18810786,"reputation":556,"user_id":13719014,"display_name":"Innomight"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1661684214,"creation_date":1661684214,"answer_id":73518074,"question_id":62313538,"body_markdown":"Commenting out lines where you used the dependency and then building the project once and reloading helps. ","title":"How to solve &quot;java: package com.opencsv does not exist&quot; in Maven with IntelliJ?","body":"<p>Commenting out lines where you used the dependency and then building the project once and reloading helps.</p>\n"}],"owner":{"account_id":14863446,"reputation":347,"user_id":10733389,"display_name":"BobbKitty729"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7088,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":69538048,"answer_count":2,"score":3,"last_activity_date":1661684214,"creation_date":1591825069,"question_id":62313538,"body_markdown":"In Maven, I have quite a few dependencies that IntelliJ import. I also have the one for ```CSVReader```\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;com.opencsv&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;opencsv&lt;/artifactId&gt;\r\n        &lt;version&gt;5.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nIn the class that uses it, I have ```import com.opencsv.CSVParser;```. It says, &quot;Cannot resolve symbol CSVParser&quot;. It gives me an option to add library to classpath. I&#39;m hesitant to do this as last time I did this, it resolved the error but wouldn&#39;t allow me to run my Spring Boot application. Why can&#39;t the library just be imported like the other ones?","title":"How to solve &quot;java: package com.opencsv does not exist&quot; in Maven with IntelliJ?","body":"<p>In Maven, I have quite a few dependencies that IntelliJ import. I also have the one for <code>CSVReader</code></p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.opencsv&lt;/groupId&gt;\n    &lt;artifactId&gt;opencsv&lt;/artifactId&gt;\n    &lt;version&gt;5.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>In the class that uses it, I have <code>import com.opencsv.CSVParser;</code>. It says, \"Cannot resolve symbol CSVParser\". It gives me an option to add library to classpath. I'm hesitant to do this as last time I did this, it resolved the error but wouldn't allow me to run my Spring Boot application. Why can't the library just be imported like the other ones?</p>\n"},{"tags":["java","unit-testing","console","output","user-input"],"answers":[{"tags":[],"owner":{"account_id":25937120,"reputation":2268,"user_id":19657183,"display_name":"Mihe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661683675,"creation_date":1661683675,"answer_id":73518021,"question_id":73517451,"body_markdown":"There are several ways, depending on what is actually being tested and whether the class under test can be modified. From the question I&#39;ll assume that you don&#39;t want to or can&#39;t change ConsoleTalker. I also assume that running the class under test in a separate process is not an option, because it should be tested during the build process. \r\n\r\nLeaves me with PipedInputStream/PipedOutputStream, that is create a pair for each direction (read / write), redirect System.out and System.in and run ConsoleTalker in a separate thread, e. g.\r\n\r\n```\r\npublic class ConsoleTalkerTest {\r\n    private static PrintStream sOut;\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        sOut = System.out;\r\n        InputStream sIn = System.in;\r\n\r\n        try (PipedOutputStream srcOut = new PipedOutputStream();\r\n             PipedInputStream srcIn = new PipedInputStream();\r\n             PipedInputStream pis = new PipedInputStream(srcOut);\r\n             PipedOutputStream pos = new PipedOutputStream(srcIn);\r\n             BufferedReader reader = new BufferedReader(new InputStreamReader(pis));\r\n             PrintStream writer = new PrintStream(pos, true)) {\r\n        \r\n            System.setOut(new PrintStream(srcOut, true));\r\n            System.setIn(srcIn);\r\n\r\n            Thread th = new Thread(() -&gt; {\r\n                ConsoleTalker talker = new ConsoleTalker();\r\n                talker.Start();\r\n            });\r\n            th.start();\r\n\r\n            writer.println(&quot;Test&quot;);\r\n\r\n            String response = reader.readLine();\r\n            showResults(&quot;Test&quot;, response);\r\n        \r\n            writer.println(&quot;exit&quot;);\r\n            response = reader.readLine();\r\n            showResults(&quot;ABCDEF&quot;, response);\r\n        } finally {\r\n            System.setIn(sIn);\r\n            System.setOut(sOut);\r\n        }\r\n    }\r\n\r\n    static void showResults(String expected, String actual) {\r\n        if (Objects.equals(expected, actual)) {\r\n            sOut.println(&quot;Received expected answer &quot; + expected);\r\n        } else {\r\n            sOut.println(&quot;Expected &quot; + expected + &quot; but got &quot; + actual);\r\n        }\r\n    }\r\n}\r\n```","title":"Testing standard in and out in java without anticipating the user input that will be written","body":"<p>There are several ways, depending on what is actually being tested and whether the class under test can be modified. From the question I'll assume that you don't want to or can't change ConsoleTalker. I also assume that running the class under test in a separate process is not an option, because it should be tested during the build process.</p>\n<p>Leaves me with PipedInputStream/PipedOutputStream, that is create a pair for each direction (read / write), redirect System.out and System.in and run ConsoleTalker in a separate thread, e. g.</p>\n<pre><code>public class ConsoleTalkerTest {\n    private static PrintStream sOut;\n\n    public static void main(String[] args) throws Exception {\n        sOut = System.out;\n        InputStream sIn = System.in;\n\n        try (PipedOutputStream srcOut = new PipedOutputStream();\n             PipedInputStream srcIn = new PipedInputStream();\n             PipedInputStream pis = new PipedInputStream(srcOut);\n             PipedOutputStream pos = new PipedOutputStream(srcIn);\n             BufferedReader reader = new BufferedReader(new InputStreamReader(pis));\n             PrintStream writer = new PrintStream(pos, true)) {\n        \n            System.setOut(new PrintStream(srcOut, true));\n            System.setIn(srcIn);\n\n            Thread th = new Thread(() -&gt; {\n                ConsoleTalker talker = new ConsoleTalker();\n                talker.Start();\n            });\n            th.start();\n\n            writer.println(&quot;Test&quot;);\n\n            String response = reader.readLine();\n            showResults(&quot;Test&quot;, response);\n        \n            writer.println(&quot;exit&quot;);\n            response = reader.readLine();\n            showResults(&quot;ABCDEF&quot;, response);\n        } finally {\n            System.setIn(sIn);\n            System.setOut(sOut);\n        }\n    }\n\n    static void showResults(String expected, String actual) {\n        if (Objects.equals(expected, actual)) {\n            sOut.println(&quot;Received expected answer &quot; + expected);\n        } else {\n            sOut.println(&quot;Expected &quot; + expected + &quot; but got &quot; + actual);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":6991103,"reputation":295,"user_id":5360345,"display_name":"Silverman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73518021,"answer_count":1,"score":0,"last_activity_date":1661683966,"creation_date":1661678415,"question_id":73517451,"body_markdown":"I have the typical java class that reads a user input from the console, processes it, and answers accordingly. For example:\r\n- If the user types &quot;hello&quot;\r\n- The program answers &quot;Hello world!&quot;\r\n\r\netc.\r\n\r\n\r\n```\r\npublic class ConsoleTalker\r\n{\r\n    private Scanner scanner;\r\n    \r\n    public boolean continueExecution;\r\n    \r\n    public ConsoleTalker()\r\n    {\r\n        this.scanner = new Scanner(System.in);\r\n    }\r\n    \r\n    public void Start()\r\n    {\r\n        this.continueExecution = true;\r\n        \r\n        while(continueExecution)\r\n        {\r\n            String userInput = this.ReadUserInput();\r\n            \r\n            this.ExecuteAction(userInput);\r\n        }\r\n    }\r\n    \r\n    private String ReadUserInput()\r\n    {\r\n        return scanner.nextLine();\r\n    }\r\n    \r\n    private void println(String text)\r\n    {\r\n        System.out.println(text);\r\n    }\r\n\r\n    private void ExecuteAction(String userInput)\r\n    {\r\n        // ...\r\n    }\r\n```\r\n\r\nOnly the `.Start()` method is public. So you start it and the program will go on until:\r\n- The user types &quot;exit&quot;\r\n- The program answers &quot;Goodbye!&quot;, sets `continueExecuting = false` and the loop ends\r\n\r\nI want to test this class. I have followed the suggestions found in this website:\r\nhttps://www.danvega.dev/blog/2020/12/16/testing-standard-in-out-java/\r\n\r\nHowever, this presents a problem, which is that I need to write all the userInput beforehand:\r\n\r\n```\r\n@Test\r\n    public void StartListening_WriteHello_AnswersHelloWorld() {\r\n        // Arrange\r\n            //here you see I need to anticipate I will write a hello and an exit during the conversation\r\n        String userInput = &quot;hello&quot; + System.lineSeparator() + &quot;exit&quot;;\r\n        String expectedAnswer1 = &quot;Hello world!&quot;;\r\n        String expectedAnswer2 = &quot;Goodbye!&quot;;\r\n        \r\n        \r\n            // Redirect standard in\r\n        ByteArrayInputStream bais = new ByteArrayInputStream(userInput.getBytes());\r\n        System.setIn(bais);\r\n        \r\n            // Redirect standard out\r\n        ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n        PrintStream printStream = new PrintStream(baos);\r\n        System.setOut(printStream);\r\n        \r\n        // Act\r\n        var consoleTalker = new ConsoleTalker();\r\n        consoleTalker.Start();\r\n        \r\n        // Assert\r\n        String[] lines = baos.toString().split(System.lineSeparator());\r\n        String actualAnswer1 = lines[lines.length-2];\r\n        String actualAnswer2 = lines[lines.length-1];\r\n        \r\n        Assertions.assertEquals(expectedAnswer1, actualAnswer1);\r\n        Assertions.assertEquals(expectedAnswer2, actualAnswer2);\r\n        Assertions.assertFalse(consoleTalker.continueExecution);\r\n    }\r\n```\r\n\r\n**How can I intercalate inputs and outputs during the test, back and forth? Where I read the output and I write the next simulated user input based on that output, or I compute the next expected output based on previous outputs.**\r\n\r\n**Some of the outputs from ConsoleTalker are not going to be predictable (for example, if it contains some sort of random answer, or ids). If I need to write all the userInput I will be using during the test beforehand, some scenarios are not going to be testable.**\r\n\r\nI can modify ConsoleTalker in order to make it more testable but, for the sake of the answer, please try to avoid:\r\n- turning the private methods into public.\r\n- any workaround where I anticipate the program output and can write all the user input beforehand. I really need to go back and forth in the test with the inputs and outputs.\r\n\r\n","title":"Testing standard in and out in java without anticipating the user input that will be written","body":"<p>I have the typical java class that reads a user input from the console, processes it, and answers accordingly. For example:</p>\n<ul>\n<li>If the user types &quot;hello&quot;</li>\n<li>The program answers &quot;Hello world!&quot;</li>\n</ul>\n<p>etc.</p>\n<pre><code>public class ConsoleTalker\n{\n    private Scanner scanner;\n    \n    public boolean continueExecution;\n    \n    public ConsoleTalker()\n    {\n        this.scanner = new Scanner(System.in);\n    }\n    \n    public void Start()\n    {\n        this.continueExecution = true;\n        \n        while(continueExecution)\n        {\n            String userInput = this.ReadUserInput();\n            \n            this.ExecuteAction(userInput);\n        }\n    }\n    \n    private String ReadUserInput()\n    {\n        return scanner.nextLine();\n    }\n    \n    private void println(String text)\n    {\n        System.out.println(text);\n    }\n\n    private void ExecuteAction(String userInput)\n    {\n        // ...\n    }\n</code></pre>\n<p>Only the <code>.Start()</code> method is public. So you start it and the program will go on until:</p>\n<ul>\n<li>The user types &quot;exit&quot;</li>\n<li>The program answers &quot;Goodbye!&quot;, sets <code>continueExecuting = false</code> and the loop ends</li>\n</ul>\n<p>I want to test this class. I have followed the suggestions found in this website:\n<a href=\"https://www.danvega.dev/blog/2020/12/16/testing-standard-in-out-java/\" rel=\"nofollow noreferrer\">https://www.danvega.dev/blog/2020/12/16/testing-standard-in-out-java/</a></p>\n<p>However, this presents a problem, which is that I need to write all the userInput beforehand:</p>\n<pre><code>@Test\n    public void StartListening_WriteHello_AnswersHelloWorld() {\n        // Arrange\n            //here you see I need to anticipate I will write a hello and an exit during the conversation\n        String userInput = &quot;hello&quot; + System.lineSeparator() + &quot;exit&quot;;\n        String expectedAnswer1 = &quot;Hello world!&quot;;\n        String expectedAnswer2 = &quot;Goodbye!&quot;;\n        \n        \n            // Redirect standard in\n        ByteArrayInputStream bais = new ByteArrayInputStream(userInput.getBytes());\n        System.setIn(bais);\n        \n            // Redirect standard out\n        ByteArrayOutputStream baos = new ByteArrayOutputStream();\n        PrintStream printStream = new PrintStream(baos);\n        System.setOut(printStream);\n        \n        // Act\n        var consoleTalker = new ConsoleTalker();\n        consoleTalker.Start();\n        \n        // Assert\n        String[] lines = baos.toString().split(System.lineSeparator());\n        String actualAnswer1 = lines[lines.length-2];\n        String actualAnswer2 = lines[lines.length-1];\n        \n        Assertions.assertEquals(expectedAnswer1, actualAnswer1);\n        Assertions.assertEquals(expectedAnswer2, actualAnswer2);\n        Assertions.assertFalse(consoleTalker.continueExecution);\n    }\n</code></pre>\n<p><strong>How can I intercalate inputs and outputs during the test, back and forth? Where I read the output and I write the next simulated user input based on that output, or I compute the next expected output based on previous outputs.</strong></p>\n<p><strong>Some of the outputs from ConsoleTalker are not going to be predictable (for example, if it contains some sort of random answer, or ids). If I need to write all the userInput I will be using during the test beforehand, some scenarios are not going to be testable.</strong></p>\n<p>I can modify ConsoleTalker in order to make it more testable but, for the sake of the answer, please try to avoid:</p>\n<ul>\n<li>turning the private methods into public.</li>\n<li>any workaround where I anticipate the program output and can write all the user input beforehand. I really need to go back and forth in the test with the inputs and outputs.</li>\n</ul>\n"},{"tags":["java","php","android","json","android-volley"],"comments":[{"owner":{"account_id":4671581,"reputation":5413,"user_id":3783243,"accept_rate":82,"display_name":"user3783243"},"score":0,"creation_date":1661682211,"post_id":73517843,"comment_id":129825429,"body_markdown":"Please clarify `mistakes in the php script `. Do you receive errors, wrong output, something else? Please add as much detail as you can.","body":"Please clarify <code>mistakes in the php script </code>. Do you receive errors, wrong output, something else? Please add as much detail as you can."},{"owner":{"account_id":4671581,"reputation":5413,"user_id":3783243,"accept_rate":82,"display_name":"user3783243"},"score":0,"creation_date":1661682308,"post_id":73517843,"comment_id":129825446,"body_markdown":"Unrelated but I&#39;ve never seen a need for `array_push`, it is the same as `$allarray[] = $row[&quot;quote_id&quot;];`.... additionally `$_POST[$key]` should be the same as `$value`.","body":"Unrelated but I&#39;ve never seen a need for <code>array_push</code>, it is the same as <code>$allarray[] = $row[&quot;quote_id&quot;];</code>.... additionally <code>$_POST[$key]</code> should be the same as <code>$value</code>."},{"owner":{"account_id":19005930,"reputation":31,"user_id":13872688,"display_name":"Ali Haydar"},"score":0,"creation_date":1661682575,"post_id":73517843,"comment_id":129825490,"body_markdown":"D/error: org.json.JSONException: Value Arraynull of type java.lang.String cannot be converted to JSONArray","body":"D/error: org.json.JSONException: Value Arraynull of type java.lang.String cannot be converted to JSONArray"},{"owner":{"account_id":4671581,"reputation":5413,"user_id":3783243,"accept_rate":82,"display_name":"user3783243"},"score":0,"creation_date":1661682632,"post_id":73517843,"comment_id":129825499,"body_markdown":"Debug on the PHP side first, are you sending back JSON to the JAVA app? Please edit the question to include errors and details, https://stackoverflow.com/posts/73517843/edit.","body":"Debug on the PHP side first, are you sending back JSON to the JAVA app? Please edit the question to include errors and details, <a href=\"https://stackoverflow.com/posts/73517843/edit\">stackoverflow.com/posts/73517843/edit</a>."}],"owner":{"account_id":19005930,"reputation":31,"user_id":13872688,"display_name":"Ali Haydar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661683635,"creation_date":1661681895,"question_id":73517843,"body_markdown":"Synchronize SQLite With MySql by sending array of ids for the quotes available in the SQLite to php script that will compare it with the available in the database and receive the missing quotes\r\n\r\nthis method will work in every moment when the app started\r\n\r\nbtw i know i have mistakes in the php script for that i&#39;m asking now\r\n\r\n\r\nim facing this error !\r\n\r\n&gt;D/error: org.json.JSONException: Value Arraynull of type java.lang.String cannot be converted to JSONArray\r\n\r\nthank you !\r\n\r\n   **DatabaseHelper.java**\r\n\r\n    public Map&lt;String,String&gt; readIds(){\r\n\r\n    SQLiteDatabase db=this.getReadableDatabase();\r\n\r\n    Cursor cursor=db.rawQuery(&quot;SELECT * FROM &quot;+TABLE_NAME_QUOTES,null);\r\n\r\n    Map&lt;String,String&gt; QuotesModuleArray = new HashMap&lt;String, String&gt;();\r\n    \r\n    if (cursor.moveToFirst()){\r\n\r\n        do {\r\n            QuotesModuleArray.put(&quot;quote_id&quot;+&quot;[&quot;+cursor.getString(0)+&quot;]&quot;, cursor.getString(0));\r\n\r\n        }while (cursor.moveToNext());\r\n\r\n    }\r\n\r\n    cursor.close();\r\n\r\n    return QuotesModuleArray;\r\n    }\r\n **MainActivity.java**\r\n\r\n    public void Quotes_SQLITE() throws UnsupportedEncodingException {\r\n\r\n    String url=&quot;.../android/checkquotes.php&quot;;\r\n\r\n    Map&lt;String,String&gt; arrayListQuotes;\r\n    dbHandler = new DataBaseHelper(MainActivity.this);\r\n    arrayListQuotes = dbHandler.readIds();\r\n    System.out.println(Arrays.toString(new Map[]{arrayListQuotes}));\r\n\r\n    quotesListSQLite.clear();\r\n\r\n    JsonArrayRequest jsonArrayRequest = new JsonArrayRequest(Request.Method.GET, url, null,\r\n            response -&gt; {\r\n\r\n\r\n                Log.e(&quot;Quotesqlite : &quot;,response.toString());\r\n\r\n\r\n                progressBar.setVisibility(View.GONE);\r\n                swipeRefreshLayout.setRefreshing(false);\r\n                for (int i = 0 ; i &lt; response.length() ; i++){\r\n                    try {\r\n\r\n                        JSONObject jsonObject = response.getJSONObject(i);\r\n\r\n                        int quote_id = jsonObject.getInt(&quot;quote_id&quot;);\r\n                        String quote_name = jsonObject.getString(&quot;quote_name&quot;);\r\n                        String quote_details = jsonObject.getString(&quot;quote_details&quot;);\r\n                        String status = jsonObject.getString(&quot;status&quot;);\r\n                        String parent_id = jsonObject.getString(&quot;parent_id&quot;);\r\n                        int language_id = jsonObject.getInt(&quot;language_id&quot;);\r\n\r\n\r\n                        QuoteSQLite quote = new QuoteSQLite(quote_id , quote_name , quote_details , status,parent_id, language_id);\r\n\r\n                        dbHandler.Add_Quote(quote_id,quote_name,quote_details, status,parent_id, language_id);\r\n\r\n                        quotesListSQLite.add(quote);\r\n                    } catch (JSONException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n\r\n                }\r\n            }, new Response.ErrorListener() {\r\n        @Override\r\n        public void onErrorResponse(VolleyError error) {\r\n            Toast.makeText(context, error.getMessage()+&quot;&quot;, Toast.LENGTH_SHORT).show();\r\n            Log.d(&quot;error&quot;,error.getMessage()+&quot;&quot;);\r\n            if((error.getMessage()+&quot;&quot;).equals(&quot;null&quot;)) {\r\n                try {\r\n                    Quotes_SQLITE();\r\n                } catch (UnsupportedEncodingException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n\r\n        }\r\n    })\r\n    {\r\n        @Override\r\n        protected Map&lt;String, String&gt; getParams() {\r\n\r\n            Map&lt;String, String&gt; params;\r\n            params=arrayListQuotes;\r\n\r\n           \r\n            return params;\r\n        }\r\n    };\r\n\r\n    requestQueue.add(jsonArrayRequest);\r\n\r\n      }\r\n\r\n **PHP Script**\r\n\r\n    &lt;?php \r\n    header(&#39;Content-Type: application/json; charset=utf-8&#39;);\r\n\r\n    define(&#39;DB_HOST&#39;, &#39;localhost&#39;);\r\n    define(&#39;DB_USER&#39;, &#39;ibnabita_alihaydar&#39;);\r\n    define(&#39;DB_PASS&#39;, &#39;81336874&#39;);\r\n    define(&#39;DB_NAME&#39;, &#39;ibnabita_secure_imam&#39;);\r\n\r\n    $conn = mysqli_connect(DB_HOST, DB_USER, DB_PASS, DB_NAME);\r\n    mysqli_query($conn,&quot;SET NAMES &#39;utf8&#39;&quot;);\r\n    mysqli_query($conn,&#39;SET CHARACTER SET utf8&#39;);\r\n\r\n\r\n    $allarray = array();\r\n    $toaddarray = array();\r\n    $flag = [];\r\n    $i = 0 ;\r\n    if(mysqli_connect_error($conn))\r\n    {\r\n     echo &quot;Failed to connect to database &quot;.mysqli_connect_error();\r\n    }\r\n\r\n\r\n    $sql=&quot;select quote_id from quotes&quot;;\r\n\r\n    $result2=mysqli_query($conn,$sql);\r\n    if($result2)\r\n    {\r\n    while($row=mysqli_fetch_array($result2,MYSQLI_BOTH))\r\n    {\r\n    array_push($allarray,$row[&quot;quote_id&quot;]);\r\n    }\r\n    }\r\n\r\n    $ids = array();\r\n\r\n    foreach($_POST as $key=&gt;$value){\r\n    $ids[] = $_POST[$key];\r\n    }\r\n\r\n\r\n     $data = json_decode($ids,true);\r\n\r\n     foreach($data as $item) { //foreach element in $arr\r\n\r\n     echo $item.&quot;\\n&quot; ;\r\n \r\n     }\r\n\r\n\r\n    foreach($allarray as $item) { //foreach element in $arr\r\n    //echo $item.&quot;\\n&quot; ;\r\n\r\n    if(in_array( $item ,$data))\r\n    {\r\n   \r\n    \r\n    }\r\n    else\r\n    {\r\n    $sql23=&quot;select * from quotes where quote_id=&quot;.$item;\r\n    $result23=mysqli_query($conn,$sql23);\r\n    $row23=mysqli_fetch_array($result23,MYSQLI_BOTH);\r\n    $flag[]=$row23;\r\n\r\n     }\r\n\r\n     }\r\n     print(json_encode($flag,JSON_UNESCAPED_UNICODE));\r\n\r\n\r\n\r\n     mysqli_close($conn); \r\n\r\n     ?&gt;","title":"Synchronize SQLite With MySql by sending array of available quotes and receive the missing Android Java","body":"<p>Synchronize SQLite With MySql by sending array of ids for the quotes available in the SQLite to php script that will compare it with the available in the database and receive the missing quotes</p>\n<p>this method will work in every moment when the app started</p>\n<p>btw i know i have mistakes in the php script for that i'm asking now</p>\n<p>im facing this error !</p>\n<blockquote>\n<p>D/error: org.json.JSONException: Value Arraynull of type java.lang.String cannot be converted to JSONArray</p>\n</blockquote>\n<p>thank you !</p>\n<p><strong>DatabaseHelper.java</strong></p>\n<pre><code>public Map&lt;String,String&gt; readIds(){\n\nSQLiteDatabase db=this.getReadableDatabase();\n\nCursor cursor=db.rawQuery(&quot;SELECT * FROM &quot;+TABLE_NAME_QUOTES,null);\n\nMap&lt;String,String&gt; QuotesModuleArray = new HashMap&lt;String, String&gt;();\n\nif (cursor.moveToFirst()){\n\n    do {\n        QuotesModuleArray.put(&quot;quote_id&quot;+&quot;[&quot;+cursor.getString(0)+&quot;]&quot;, cursor.getString(0));\n\n    }while (cursor.moveToNext());\n\n}\n\ncursor.close();\n\nreturn QuotesModuleArray;\n}\n</code></pre>\n<p><strong>MainActivity.java</strong></p>\n<pre><code>public void Quotes_SQLITE() throws UnsupportedEncodingException {\n\nString url=&quot;.../android/checkquotes.php&quot;;\n\nMap&lt;String,String&gt; arrayListQuotes;\ndbHandler = new DataBaseHelper(MainActivity.this);\narrayListQuotes = dbHandler.readIds();\nSystem.out.println(Arrays.toString(new Map[]{arrayListQuotes}));\n\nquotesListSQLite.clear();\n\nJsonArrayRequest jsonArrayRequest = new JsonArrayRequest(Request.Method.GET, url, null,\n        response -&gt; {\n\n\n            Log.e(&quot;Quotesqlite : &quot;,response.toString());\n\n\n            progressBar.setVisibility(View.GONE);\n            swipeRefreshLayout.setRefreshing(false);\n            for (int i = 0 ; i &lt; response.length() ; i++){\n                try {\n\n                    JSONObject jsonObject = response.getJSONObject(i);\n\n                    int quote_id = jsonObject.getInt(&quot;quote_id&quot;);\n                    String quote_name = jsonObject.getString(&quot;quote_name&quot;);\n                    String quote_details = jsonObject.getString(&quot;quote_details&quot;);\n                    String status = jsonObject.getString(&quot;status&quot;);\n                    String parent_id = jsonObject.getString(&quot;parent_id&quot;);\n                    int language_id = jsonObject.getInt(&quot;language_id&quot;);\n\n\n                    QuoteSQLite quote = new QuoteSQLite(quote_id , quote_name , quote_details , status,parent_id, language_id);\n\n                    dbHandler.Add_Quote(quote_id,quote_name,quote_details, status,parent_id, language_id);\n\n                    quotesListSQLite.add(quote);\n                } catch (JSONException e) {\n                    e.printStackTrace();\n                }\n\n            }\n        }, new Response.ErrorListener() {\n    @Override\n    public void onErrorResponse(VolleyError error) {\n        Toast.makeText(context, error.getMessage()+&quot;&quot;, Toast.LENGTH_SHORT).show();\n        Log.d(&quot;error&quot;,error.getMessage()+&quot;&quot;);\n        if((error.getMessage()+&quot;&quot;).equals(&quot;null&quot;)) {\n            try {\n                Quotes_SQLITE();\n            } catch (UnsupportedEncodingException e) {\n                e.printStackTrace();\n            }\n        }\n\n    }\n})\n{\n    @Override\n    protected Map&lt;String, String&gt; getParams() {\n\n        Map&lt;String, String&gt; params;\n        params=arrayListQuotes;\n\n       \n        return params;\n    }\n};\n\nrequestQueue.add(jsonArrayRequest);\n\n  }\n</code></pre>\n<p><strong>PHP Script</strong></p>\n<pre><code>&lt;?php \nheader('Content-Type: application/json; charset=utf-8');\n\ndefine('DB_HOST', 'localhost');\ndefine('DB_USER', 'ibnabita_alihaydar');\ndefine('DB_PASS', '81336874');\ndefine('DB_NAME', 'ibnabita_secure_imam');\n\n$conn = mysqli_connect(DB_HOST, DB_USER, DB_PASS, DB_NAME);\nmysqli_query($conn,&quot;SET NAMES 'utf8'&quot;);\nmysqli_query($conn,'SET CHARACTER SET utf8');\n\n\n$allarray = array();\n$toaddarray = array();\n$flag = [];\n$i = 0 ;\nif(mysqli_connect_error($conn))\n{\n echo &quot;Failed to connect to database &quot;.mysqli_connect_error();\n}\n\n\n$sql=&quot;select quote_id from quotes&quot;;\n\n$result2=mysqli_query($conn,$sql);\nif($result2)\n{\nwhile($row=mysqli_fetch_array($result2,MYSQLI_BOTH))\n{\narray_push($allarray,$row[&quot;quote_id&quot;]);\n}\n}\n\n$ids = array();\n\nforeach($_POST as $key=&gt;$value){\n$ids[] = $_POST[$key];\n}\n\n\n $data = json_decode($ids,true);\n\n foreach($data as $item) { //foreach element in $arr\n\n echo $item.&quot;\\n&quot; ;\n\n }\n\n\nforeach($allarray as $item) { //foreach element in $arr\n//echo $item.&quot;\\n&quot; ;\n\nif(in_array( $item ,$data))\n{\n\n\n}\nelse\n{\n$sql23=&quot;select * from quotes where quote_id=&quot;.$item;\n$result23=mysqli_query($conn,$sql23);\n$row23=mysqli_fetch_array($result23,MYSQLI_BOTH);\n$flag[]=$row23;\n\n }\n\n }\n print(json_encode($flag,JSON_UNESCAPED_UNICODE));\n\n\n\n mysqli_close($conn); \n\n ?&gt;\n</code></pre>\n"},{"tags":["java","hibernate"],"answers":[{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1661682498,"creation_date":1661682498,"answer_id":73517903,"question_id":73517764,"body_markdown":"From [EmbeddedId][1]:\r\n\r\n&gt; Relationship mappings defined within an embedded id class are not supported.\r\n\r\nWhat you need to do is replace the `User` field with a field for the user&#39;s id (`private long userId`), then use [MapsId][2] in your `PersonalScore` class to add a relation with `User` using the `userId` field from the embedded id.\r\n\r\n\r\n  [1]: https://javaee.github.io/javaee-spec/javadocs/javax/persistence/EmbeddedId.html\r\n  [2]: https://javaee.github.io/javaee-spec/javadocs/javax/persistence/MapsId.html","title":"Can&#39;t create composite primary key: Unable to build Hibernate SessionFactory","body":"<p>From <a href=\"https://javaee.github.io/javaee-spec/javadocs/javax/persistence/EmbeddedId.html\" rel=\"nofollow noreferrer\">EmbeddedId</a>:</p>\n<blockquote>\n<p>Relationship mappings defined within an embedded id class are not supported.</p>\n</blockquote>\n<p>What you need to do is replace the <code>User</code> field with a field for the user's id (<code>private long userId</code>), then use <a href=\"https://javaee.github.io/javaee-spec/javadocs/javax/persistence/MapsId.html\" rel=\"nofollow noreferrer\">MapsId</a> in your <code>PersonalScore</code> class to add a relation with <code>User</code> using the <code>userId</code> field from the embedded id.</p>\n"}],"owner":{"account_id":13429807,"reputation":1816,"user_id":9689945,"display_name":"hhrzc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":266,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73517903,"answer_count":1,"score":0,"last_activity_date":1661682498,"creation_date":1661681259,"question_id":73517764,"body_markdown":"I try to create a composite primary key but can&#39;t.\r\n\r\nMy attempt (there is the [tutorial][1] I used):\r\n\r\n- User entity:\r\n```java\r\n@Entity\r\n@Table(name = &quot;user&quot;)\r\npublic class User {\r\n\r\n    @Id\r\n    @Column\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private long id;\r\n    @Column\r\n    private String name;\r\n\r\n    //getters, setters, equals, hashcode\r\n}\r\n```\r\n\r\n- PersonalScore class:\r\n```java\r\n@Entity\r\npublic class PersonalScore {\r\n\r\n    @EmbeddedId\r\n    private PersonalScoreId personalScoreId;\r\n    //getters, setters, equals, hashcode, constructors\r\n}\r\n```\r\n\r\n- PersonalScoreId class (Primary key):\r\n\r\n```java\r\n@Embeddable\r\npublic class PersonalScoreId implements Serializable {\r\n    \r\n    private User user;\r\n    private Date date;\r\n\r\n    //getters, setters, equals, hashcode, constructors (noargs included)\r\n\r\n```\r\n\r\nThat&#39;s all. In the result I got the error:\r\n\r\n```\r\n\r\n&gt; Caused by: javax.persistence.PersistenceException: [PersistenceUnit:\r\n&gt; default] Unable to build Hibernate SessionFactory; nested exception is\r\n&gt; org.hibernate.MappingException: Could not determine type for:\r\n&gt; com...model.dto.User, at table: personal_score, for columns:\r\n&gt; [org.hibernate.mapping.Column(user)]\r\n\r\n```\r\n\r\n\r\n  [1]: https://Caused%20by:%20javax.persistence.PersistenceException:%20[PersistenceUnit:%20default]%20Unable%20to%20build%20Hibernate%20SessionFactory;%20nested%20exception%20is%20org.hibernate.MappingException:%20Could%20not%20determine%20type%20for:%20com.hltr.deardiary.model.dto.User,%20at%20table:%20personal_score,%20for%20columns:%20[org.hibernate.mapping.Column(user)]","title":"Can&#39;t create composite primary key: Unable to build Hibernate SessionFactory","body":"<p>I try to create a composite primary key but can't.</p>\n<p>My attempt (there is the <a href=\"https://Caused%20by:%20javax.persistence.PersistenceException:%20%5BPersistenceUnit:%20default%5D%20Unable%20to%20build%20Hibernate%20SessionFactory;%20nested%20exception%20is%20org.hibernate.MappingException:%20Could%20not%20determine%20type%20for:%20com.hltr.deardiary.model.dto.User,%20at%20table:%20personal_score,%20for%20columns:%20%5Borg.hibernate.mapping.Column(user)%5D\" rel=\"nofollow noreferrer\">tutorial</a> I used):</p>\n<ul>\n<li>User entity:</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;user&quot;)\npublic class User {\n\n    @Id\n    @Column\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private long id;\n    @Column\n    private String name;\n\n    //getters, setters, equals, hashcode\n}\n</code></pre>\n<ul>\n<li>PersonalScore class:</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\npublic class PersonalScore {\n\n    @EmbeddedId\n    private PersonalScoreId personalScoreId;\n    //getters, setters, equals, hashcode, constructors\n}\n</code></pre>\n<ul>\n<li>PersonalScoreId class (Primary key):</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>@Embeddable\npublic class PersonalScoreId implements Serializable {\n    \n    private User user;\n    private Date date;\n\n    //getters, setters, equals, hashcode, constructors (noargs included)\n\n</code></pre>\n<p>That's all. In the result I got the error:</p>\n<pre><code>\n&gt; Caused by: javax.persistence.PersistenceException: [PersistenceUnit:\n&gt; default] Unable to build Hibernate SessionFactory; nested exception is\n&gt; org.hibernate.MappingException: Could not determine type for:\n&gt; com...model.dto.User, at table: personal_score, for columns:\n&gt; [org.hibernate.mapping.Column(user)]\n\n</code></pre>\n"},{"tags":["java","oop","object","serialization","stream"],"comments":[{"owner":{"account_id":16519,"reputation":10181,"user_id":36071,"accept_rate":68,"display_name":"Yoni"},"score":0,"creation_date":1265752093,"post_id":2232759,"comment_id":2188260,"body_markdown":"Do you mean serializing classes, or objects?","body":"Do you mean serializing classes, or objects?"},{"owner":{"account_id":55654,"reputation":90563,"user_id":166712,"accept_rate":100,"display_name":"Anthony Forloney"},"score":8,"creation_date":1265752433,"post_id":2232759,"comment_id":2188292,"body_markdown":"He &quot;wasn&#39;t convinced&quot; they answered his questions.","body":"He &quot;wasn&#39;t convinced&quot; they answered his questions."},{"owner":{"account_id":78982,"reputation":59009,"user_id":224346,"display_name":"Anon."},"score":5,"creation_date":1265753654,"post_id":2232759,"comment_id":2188446,"body_markdown":"The answers provided were, in fact, correct. If they don&#39;t work for you, reply to them as comments and try to work it out instead of just ignoring them and then starting to flame others when they point out you&#39;re not using SO right.","body":"The answers provided were, in fact, correct. If they don&#39;t work for you, reply to them as comments and try to work it out instead of just ignoring them and then starting to flame others when they point out you&#39;re not using SO right."},{"owner":{"account_id":69531,"reputation":1950,"user_id":202224,"accept_rate":81,"display_name":"David"},"score":0,"creation_date":1265753733,"post_id":2232759,"comment_id":2188461,"body_markdown":"No article should convince you to use serialisation. If you need it to solve a problem that need is what will convince you to use it. The articles just need to help you use it correctly.","body":"No article should convince you to use serialisation. If you need it to solve a problem that need is what will convince you to use it. The articles just need to help you use it correctly."},{"owner":{"account_id":880058,"reputation":1531,"user_id":212462,"accept_rate":33,"display_name":"m_a_khan"},"score":0,"creation_date":1265754131,"post_id":2232759,"comment_id":2188513,"body_markdown":"@Anon: Did you pay attention to the post date of my posts? I tried getting an answer for almost over a month for the same problem I was having and I was getting the same answer from the same people. I don&#39;t see how you are using SO right, I will say it one more time, mind your business, if you can&#39;t contribute anything positive then don&#39;t contribute anything.","body":"@Anon: Did you pay attention to the post date of my posts? I tried getting an answer for almost over a month for the same problem I was having and I was getting the same answer from the same people. I don&#39;t see how you are using SO right, I will say it one more time, mind your business, if you can&#39;t contribute anything positive then don&#39;t contribute anything."},{"owner":{"account_id":78982,"reputation":59009,"user_id":224346,"display_name":"Anon."},"score":0,"creation_date":1265754516,"post_id":2232759,"comment_id":2188542,"body_markdown":"If we look at this question: http://stackoverflow.com/questions/1941775/utf8-encoded-xhtml-content-in-jsp\n\nYou got an answer which answered the question posted, and just ignored it.","body":"If we look at this question: <a href=\"http://stackoverflow.com/questions/1941775/utf8-encoded-xhtml-content-in-jsp\" title=\"utf8 encoded xhtml content in jsp\">stackoverflow.com/questions/1941775/&hellip;</a>  You got an answer which answered the question posted, and just ignored it."},{"owner":{"account_id":67242,"reputation":3450,"user_id":196852,"accept_rate":85,"display_name":"Chris"},"score":4,"creation_date":1265754574,"post_id":2232759,"comment_id":2188547,"body_markdown":"Anon is contributing to the quality of the site by discouraging duplicate questions. It&#39;s silly to see five separate questions that are all asking the same thing. If you can&#39;t get an answer, well sometimes that&#39;s just how it is. If you get an answer but it doesn&#39;t seem to work, then continue the discussion in comments. SO is not a magic box that will magically give you an answer if you just ask the right question, or ask enough times, or catch the eye of the right expert.","body":"Anon is contributing to the quality of the site by discouraging duplicate questions. It&#39;s silly to see five separate questions that are all asking the same thing. If you can&#39;t get an answer, well sometimes that&#39;s just how it is. If you get an answer but it doesn&#39;t seem to work, then continue the discussion in comments. SO is not a magic box that will magically give you an answer if you just ask the right question, or ask enough times, or catch the eye of the right expert."},{"owner":{"account_id":880058,"reputation":1531,"user_id":212462,"accept_rate":33,"display_name":"m_a_khan"},"score":0,"creation_date":1265755281,"post_id":2232759,"comment_id":2188640,"body_markdown":"@Anon: I see, so what should I do now? mark it correct/accept it? Since you somehow know that the posted answer &quot;answered&quot; my question, would you be kind enough to tell me what should be my next step in order to comply with SO rules?","body":"@Anon: I see, so what should I do now? mark it correct/accept it? Since you somehow know that the posted answer &quot;answered&quot; my question, would you be kind enough to tell me what should be my next step in order to comply with SO rules?"},{"owner":{"account_id":78982,"reputation":59009,"user_id":224346,"display_name":"Anon."},"score":1,"creation_date":1265755693,"post_id":2232759,"comment_id":2188684,"body_markdown":"Either: (Accept the answer) or (Post a comment and/or amend the question explaining why it&#39;s not what you need).","body":"Either: (Accept the answer) or (Post a comment and/or amend the question explaining why it&#39;s not what you need)."},{"owner":{"account_id":1387192,"reputation":61110,"user_id":1318946,"accept_rate":52,"display_name":"Pratik Butani"},"score":0,"creation_date":1374812927,"post_id":2232759,"comment_id":26097425,"body_markdown":"Its better explain here : http://www.vogella.com/articles/JavaSerialization/article.html","body":"Its better explain here : <a href=\"http://www.vogella.com/articles/JavaSerialization/article.html\" rel=\"nofollow noreferrer\">vogella.com/articles/JavaSerialization/article.html</a>"},{"owner":{"account_id":415074,"reputation":14411,"user_id":789657,"accept_rate":84,"display_name":"Simon"},"score":1,"creation_date":1388093895,"post_id":2232759,"comment_id":31168202,"body_markdown":"No-one seems to have pointed out that you do not serialise a class, you serialise an object which represents an instance of a class. Perhaps that helps to see why it&#39;s useful?","body":"No-one seems to have pointed out that you do not serialise a class, you serialise an object which represents an instance of a class. Perhaps that helps to see why it&#39;s useful?"}],"answers":[{"tags":[],"owner":{"account_id":57685,"reputation":1790,"user_id":172821,"accept_rate":40,"display_name":"ddyer"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1265752096,"creation_date":1265752096,"answer_id":2232777,"question_id":2232759,"body_markdown":"The most obvious is that you can transmit the serialized class over a network,\r\nand the recepient can construct a duplicate of the original instanstance.  Likewise,\r\nyou can save a serialized structure to a file system.\r\n\r\nAlso, note that serialization is recursive, so you can serialize an entire heterogenous\r\ndata structure in one swell foop, if desired.\r\n","title":"What is the purpose of Serialization in Java?","body":"<p>The most obvious is that you can transmit the serialized class over a network,\nand the recepient can construct a duplicate of the original instanstance.  Likewise,\nyou can save a serialized structure to a file system.</p>\n\n<p>Also, note that serialization is recursive, so you can serialize an entire heterogenous\ndata structure in one swell foop, if desired.</p>\n"},{"tags":[],"owner":{"account_id":28874,"reputation":12117,"user_id":2352432,"accept_rate":74,"display_name":"Pool"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1509602285,"creation_date":1265752189,"answer_id":2232790,"question_id":2232759,"body_markdown":"&lt;a href=&quot;http://oreilly.com/catalog/javarmi/chapter/ch10.html&quot;&gt;In essense&lt;/a&gt;:\r\n\r\n&gt; Serialization is the process of\r\n&gt; converting a set of object instances\r\n&gt; that contain references to each other\r\n&gt; into a linear stream of bytes, which\r\n&gt; can then be sent through a socket,\r\n&gt; stored to a file, or simply\r\n&gt; manipulated as a stream of data\r\n\r\nSee uses from &lt;a href=&quot;http://en.wikipedia.org/wiki/Serialization&quot;&gt;Wiki&lt;/a&gt;:\r\n\r\nSerialization has a number of advantages. It provides:\r\n\r\n&gt;  1. a method of persisting objects which\r\n&gt;     is more convenient than writing\r\n&gt;     their properties to a text file on\r\n&gt;     disk, and re-assembling them by\r\n&gt;     reading this back in.\r\n&gt;  2. a method of\r\n&gt;     issuing remote procedure calls,\r\n&gt;     e.g., as in SOAP\r\n&gt;  3. a method for\r\n&gt;     distributing objects, especially in\r\n&gt;     software componentry such as COM,\r\n&gt;     CORBA, etc. \r\n&gt;  4. a method for detecting\r\n&gt;     changes in time-varying data.","title":"What is the purpose of Serialization in Java?","body":"<p><a href=\"http://oreilly.com/catalog/javarmi/chapter/ch10.html\" rel=\"nofollow noreferrer\">In essense</a>:</p>\n\n<blockquote>\n  <p>Serialization is the process of\n  converting a set of object instances\n  that contain references to each other\n  into a linear stream of bytes, which\n  can then be sent through a socket,\n  stored to a file, or simply\n  manipulated as a stream of data</p>\n</blockquote>\n\n<p>See uses from <a href=\"http://en.wikipedia.org/wiki/Serialization\" rel=\"nofollow noreferrer\">Wiki</a>:</p>\n\n<p>Serialization has a number of advantages. It provides:</p>\n\n<blockquote>\n  <ol>\n  <li>a method of persisting objects which\n  is more convenient than writing\n  their properties to a text file on\n  disk, and re-assembling them by\n  reading this back in.</li>\n  <li>a method of\n  issuing remote procedure calls,\n  e.g., as in SOAP</li>\n  <li>a method for\n  distributing objects, especially in\n  software componentry such as COM,\n  CORBA, etc. </li>\n  <li>a method for detecting\n  changes in time-varying data.</li>\n  </ol>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":85850,"reputation":8741,"user_id":239101,"accept_rate":57,"display_name":"David Soroko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1265752301,"creation_date":1265752301,"answer_id":2232804,"question_id":2232759,"body_markdown":"Serialized objects maintain state in space, they can be transferred over the network, file system, etc... and time, they can outlive the JVM that created them. \r\n\r\nSometimes this is useful.","title":"What is the purpose of Serialization in Java?","body":"<p>Serialized objects maintain state in space, they can be transferred over the network, file system, etc... and time, they can outlive the JVM that created them. </p>\n\n<p>Sometimes this is useful.</p>\n"},{"tags":[],"owner":{"account_id":32417,"reputation":40343,"user_id":89989,"accept_rate":74,"display_name":"Gordon Gustafson"},"down_vote_count":0,"up_vote_count":72,"is_accepted":false,"score":72,"last_activity_date":1400522160,"creation_date":1265752558,"answer_id":2232824,"question_id":2232759,"body_markdown":"While you&#39;re running your application, all of its objects are stored in memory (RAM). When you exit, that memory gets reclaimed by the operating system, and your program essentially &#39;forgets&#39; everything that happened while it was running. Serialization remedies this by letting your application save objects to disk so it can read them back the next time it starts. If your application is going to provide any way of saving/sharing a previous state, you&#39;ll need some form of serialization.\r\n","title":"What is the purpose of Serialization in Java?","body":"<p>While you're running your application, all of its objects are stored in memory (RAM). When you exit, that memory gets reclaimed by the operating system, and your program essentially 'forgets' everything that happened while it was running. Serialization remedies this by letting your application save objects to disk so it can read them back the next time it starts. If your application is going to provide any way of saving/sharing a previous state, you'll need some form of serialization.</p>\n"},{"tags":[],"owner":{"account_id":100026,"reputation":2141,"user_id":269844,"display_name":"Schmelter"},"down_vote_count":0,"up_vote_count":203,"is_accepted":true,"score":203,"last_activity_date":1265752594,"creation_date":1265752594,"answer_id":2232828,"question_id":2232759,"body_markdown":"Let&#39;s define serialization first, then we can talk about why it&#39;s so useful.\r\n\r\nSerialization is simply turning an existing object into a byte array.  This byte array represents the class of the object, the version of the object, and the internal state of the object.  This byte array can then be used between JVM&#39;s running the same code to transmit/read the object.\r\n\r\nWhy would we want to do this?\r\n\r\nThere are several reasons:\r\n\r\n- Communication: If you have two machines that are running the same code, and they need to communicate, an easy way is for one machine to build an object with information that it would like to transmit, and then serialize that object to the other machine.  It&#39;s not the best method for communication, but it gets the job done.\r\n\r\n- Persistence: If you want to store the state of a particular operation in a database, it can be easily serialized to a byte array, and stored in the database for later retrieval.\r\n\r\n- Deep Copy: If you need an *exact* replica of an Object, and don&#39;t want to go to the trouble of writing your own specialized clone() class, simply serializing the object to a byte array, and then de-serializing it to another object achieves this goal.\r\n\r\n- Caching: Really just an application of the above, but sometimes an object takes 10 minutes to build, but would only take 10 seconds to de-serialize.  So, rather than hold onto the giant object in memory, just cache it out to a file via serialization, and read it in later when it&#39;s needed.\r\n\r\n- Cross JVM Synchronization: Serialization works across different JVMs that may be running on different architectures.","title":"What is the purpose of Serialization in Java?","body":"<p>Let's define serialization first, then we can talk about why it's so useful.</p>\n\n<p>Serialization is simply turning an existing object into a byte array.  This byte array represents the class of the object, the version of the object, and the internal state of the object.  This byte array can then be used between JVM's running the same code to transmit/read the object.</p>\n\n<p>Why would we want to do this?</p>\n\n<p>There are several reasons:</p>\n\n<ul>\n<li><p>Communication: If you have two machines that are running the same code, and they need to communicate, an easy way is for one machine to build an object with information that it would like to transmit, and then serialize that object to the other machine.  It's not the best method for communication, but it gets the job done.</p></li>\n<li><p>Persistence: If you want to store the state of a particular operation in a database, it can be easily serialized to a byte array, and stored in the database for later retrieval.</p></li>\n<li><p>Deep Copy: If you need an <em>exact</em> replica of an Object, and don't want to go to the trouble of writing your own specialized clone() class, simply serializing the object to a byte array, and then de-serializing it to another object achieves this goal.</p></li>\n<li><p>Caching: Really just an application of the above, but sometimes an object takes 10 minutes to build, but would only take 10 seconds to de-serialize.  So, rather than hold onto the giant object in memory, just cache it out to a file via serialization, and read it in later when it's needed.</p></li>\n<li><p>Cross JVM Synchronization: Serialization works across different JVMs that may be running on different architectures.</p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":939794,"reputation":2423,"user_id":968064,"accept_rate":86,"display_name":"Rushdi Shams"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1441867329,"creation_date":1412871056,"answer_id":26283126,"question_id":2232759,"body_markdown":"I can share my story and I hope it will give some ideas why serialization is necessary. However, the answers to your question are already remarkably detail.\r\n\r\nI had several projects that need to load and read a bunch of text files. The files contained stop words, biomedical verbs, biomedical abbreviations, words semantically connected to each other, etc. The contents of these files are simple: **words**! \r\n\r\nNow for each project, I needed to read the words from each of these files and put them into different arrays; as the contents of the file never changed, it became a common, however redundant, task after the first project. \r\n\r\nSo, what I did is that I created one object to read each of these files and to populate individual arrays (instance variables of the objects). Then I serialized the objects and then for the later projects, I simply deserialized them. I didn&#39;t have to read the files and populate the arrays again and again.","title":"What is the purpose of Serialization in Java?","body":"<p>I can share my story and I hope it will give some ideas why serialization is necessary. However, the answers to your question are already remarkably detail.</p>\n\n<p>I had several projects that need to load and read a bunch of text files. The files contained stop words, biomedical verbs, biomedical abbreviations, words semantically connected to each other, etc. The contents of these files are simple: <strong>words</strong>! </p>\n\n<p>Now for each project, I needed to read the words from each of these files and put them into different arrays; as the contents of the file never changed, it became a common, however redundant, task after the first project. </p>\n\n<p>So, what I did is that I created one object to read each of these files and to populate individual arrays (instance variables of the objects). Then I serialized the objects and then for the later projects, I simply deserialized them. I didn't have to read the files and populate the arrays again and again.</p>\n"},{"tags":[],"owner":{"account_id":5374830,"reputation":9,"user_id":4282124,"display_name":"Ron Norman"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1416670756,"creation_date":1416670756,"answer_id":27079162,"question_id":2232759,"body_markdown":"I use serialized objects to standardize the arguments I pass to functions or class constructors.  Passing one serialized bean is much cleaner than a long list of arguments.  The result is code that is easier to read and debug.","title":"What is the purpose of Serialization in Java?","body":"<p>I use serialized objects to standardize the arguments I pass to functions or class constructors.  Passing one serialized bean is much cleaner than a long list of arguments.  The result is code that is easier to read and debug.</p>\n"},{"tags":[],"owner":{"account_id":5305974,"reputation":189,"user_id":4233869,"accept_rate":41,"display_name":"JCoder"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1427405478,"creation_date":1427405478,"answer_id":29289268,"question_id":2232759,"body_markdown":"   For the simple purpose of learning (notice, I said learning, I did not say best, or even good, but just for the sake of understanding stuff), you could save your data to a text file on the computer, then have a program that reads that info, and based on the file, you could have your program respond differently. If you were more advanced, it wouldn&#39;t necessarily have to be a txt file, but something else.\r\n\r\n   Serializing on the other hand, puts things directly into computer language. It&#39;s like you&#39;re telling a Spanish computer something in Spanish, rather than telling it something in French, forcing it to learn French, then save things into its native Spanish by translating everything. Not the most tech-intensive answer, I&#39;m just trying to create an understandable example in a common language format. \r\n\r\n   Serialization is also faster, because in Java, objects are handled on the heap, and take much longer than if they were represented as primitives on the stack. Speed, speed, speed. And less file processing from a programmer point of view.","title":"What is the purpose of Serialization in Java?","body":"<p>For the simple purpose of learning (notice, I said learning, I did not say best, or even good, but just for the sake of understanding stuff), you could save your data to a text file on the computer, then have a program that reads that info, and based on the file, you could have your program respond differently. If you were more advanced, it wouldn't necessarily have to be a txt file, but something else.</p>\n\n<p>Serializing on the other hand, puts things directly into computer language. It's like you're telling a Spanish computer something in Spanish, rather than telling it something in French, forcing it to learn French, then save things into its native Spanish by translating everything. Not the most tech-intensive answer, I'm just trying to create an understandable example in a common language format. </p>\n\n<p>Serialization is also faster, because in Java, objects are handled on the heap, and take much longer than if they were represented as primitives on the stack. Speed, speed, speed. And less file processing from a programmer point of view.</p>\n"},{"tags":[],"owner":{"account_id":4063743,"reputation":39,"user_id":3339502,"display_name":"dar24"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661681396,"creation_date":1661681396,"answer_id":73517782,"question_id":2232759,"body_markdown":"One of the classical example where serialization is used in daily life is &quot;Save Game&quot; option in any computer games. When player decides save his progress in the game then the application writes the saved state of the game into a file via serialization and when player &quot;Load Game&quot; the serialized file is read and Game state is re-created. ","title":"What is the purpose of Serialization in Java?","body":"<p>One of the classical example where serialization is used in daily life is &quot;Save Game&quot; option in any computer games. When player decides save his progress in the game then the application writes the saved state of the game into a file via serialization and when player &quot;Load Game&quot; the serialized file is read and Game state is re-created.</p>\n"}],"owner":{"account_id":880058,"reputation":1531,"user_id":212462,"accept_rate":33,"display_name":"m_a_khan"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":113305,"favorite_count":0,"down_vote_count":1,"up_vote_count":117,"accepted_answer_id":2232828,"answer_count":9,"score":116,"last_activity_date":1661681396,"creation_date":1265751920,"question_id":2232759,"body_markdown":"I have read quite a number of articles on Serialization and how it is so nice and great but none of the arguments were convincing enough. I am wondering if someone can really tell me what is it that we can really achieve by serializing a class?\r\n","title":"What is the purpose of Serialization in Java?","body":"<p>I have read quite a number of articles on Serialization and how it is so nice and great but none of the arguments were convincing enough. I am wondering if someone can really tell me what is it that we can really achieve by serializing a class?</p>\n"},{"tags":["java","sql","postgresql","orm","ebean"],"comments":[{"owner":{"account_id":1001733,"reputation":34918,"user_id":1016435,"display_name":"xQbert"},"score":1,"creation_date":1639520981,"post_id":70356250,"comment_id":124368854,"body_markdown":"Can you use native SQL? https://ebean.io/docs/query/native-sql  it looks like it may work *note I&quot;ve never used ebean.  This is just a quick review of the ebean docs*  or perhaps RawSQL","body":"Can you use native SQL? <a href=\"https://ebean.io/docs/query/native-sql\" rel=\"nofollow noreferrer\">ebean.io/docs/query/native-sql</a>  it looks like it may work <i>note I&quot;ve never used ebean.  This is just a quick review of the ebean docs</i>  or perhaps RawSQL"},{"owner":{"account_id":23648316,"reputation":1,"user_id":17677609,"display_name":"Nick Kl"},"score":0,"creation_date":1639528821,"post_id":70356250,"comment_id":124370515,"body_markdown":"Thanks for your reply. I can&#39;t use native sql.","body":"Thanks for your reply. I can&#39;t use native sql."}],"answers":[{"tags":[],"owner":{"account_id":24018229,"reputation":313,"user_id":18000902,"display_name":"Omar Hussien"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661681218,"creation_date":1661681218,"answer_id":73517754,"question_id":70356250,"body_markdown":"you can use **sqlQuery in ebean** see [sqlQuery][1] :\r\n\r\n    String sql = &quot;select sum(ff.money) as sum, count(ff.name) as count from (\\r\\n&quot;\r\n\t\t \t\t+ &quot;select owr.clientName as name, owr.sumOfMoney as money from OrderWorkReport owr) ff ;&quot;;\r\n    SqlRow row = DB.sqlQuery(sql).findOne();\r\n    int count= row.getInteger(&quot;count&quot;);\r\n    int sum =row.getInteger(&quot;sum&quot;);\r\n    System.out.println(&quot;sum = &quot;+sum+&quot;\\ncount = &quot;+count);\r\n\r\n  [1]: https://ebean.io/docs/query/sqlquery","title":"Subquery in ebean","body":"<p>you can use <strong>sqlQuery in ebean</strong> see <a href=\"https://ebean.io/docs/query/sqlquery\" rel=\"nofollow noreferrer\">sqlQuery</a> :</p>\n<pre><code>String sql = &quot;select sum(ff.money) as sum, count(ff.name) as count from (\\r\\n&quot;\n            + &quot;select owr.clientName as name, owr.sumOfMoney as money from OrderWorkReport owr) ff ;&quot;;\nSqlRow row = DB.sqlQuery(sql).findOne();\nint count= row.getInteger(&quot;count&quot;);\nint sum =row.getInteger(&quot;sum&quot;);\nSystem.out.println(&quot;sum = &quot;+sum+&quot;\\ncount = &quot;+count);\n</code></pre>\n"}],"owner":{"account_id":23648316,"reputation":1,"user_id":17677609,"display_name":"Nick Kl"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661681218,"creation_date":1639520686,"question_id":70356250,"body_markdown":"I am faced with the problem of forming subqueries in ebean. I need to compose a query that is similar to the following sql:\r\n\r\n    select sum(money), count(name) from (\r\n        select owr.&quot;clientName&quot; as name, owr.&quot;sumOfMoney&quot; as money from nm.&quot;OrderWorkReport&quot; owr) ff; \r\n\r\nThis request is just an example, but it reflects the essence of the problem. I need to compose a select query from a select query.\r\n\r\nI studied the ebean sources and documentation, but I didn&#39;t find an answer! Maybe someone has encountered this and knows how to write this select query using the ebean interfaces in java.","title":"Subquery in ebean","body":"<p>I am faced with the problem of forming subqueries in ebean. I need to compose a query that is similar to the following sql:</p>\n<pre><code>select sum(money), count(name) from (\n    select owr.&quot;clientName&quot; as name, owr.&quot;sumOfMoney&quot; as money from nm.&quot;OrderWorkReport&quot; owr) ff; \n</code></pre>\n<p>This request is just an example, but it reflects the essence of the problem. I need to compose a select query from a select query.</p>\n<p>I studied the ebean sources and documentation, but I didn't find an answer! Maybe someone has encountered this and knows how to write this select query using the ebean interfaces in java.</p>\n"},{"tags":["java","spring","spring-boot","intellij-idea"],"comments":[{"owner":{"account_id":2486870,"reputation":685,"user_id":2165146,"display_name":"muhammed ozbilici"},"score":0,"creation_date":1661680616,"post_id":73517630,"comment_id":129825147,"body_markdown":"first, do `invalidate cache restart` with intellij and retry it. if still same proble, then change port to `8081` and retry. still nothing, then open your browser in `cognito` mod.","body":"first, do <code>invalidate cache restart</code> with intellij and retry it. if still same proble, then change port to <code>8081</code> and retry. still nothing, then open your browser in <code>cognito</code> mod."}],"answers":[{"tags":[],"owner":{"account_id":1713714,"reputation":781,"user_id":1571268,"accept_rate":78,"display_name":"criztovyl"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661681194,"creation_date":1661681194,"answer_id":73517752,"question_id":73517630,"body_markdown":"Your `Starter` and `Hello` classes are in different packages (`com.learn.spring` vs `com.learning.spring.hello`), for Spring to automatically pick up your `Hello` class it must be in the same package as your `Starter`.\r\n\r\nIf the different packages are intended that way, you will need to tell Spring to scan them using `ComponentScan` annotation:\r\n\r\n```\r\npackage com.learn.spring;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.context.annotation.ComponentScan;\r\n\r\n@SpringBootApplication\r\n@ComponentScan(&quot;com.learning.spring&quot;)\r\npublic class StarterClass {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(StarterClass.class,args);\r\n    }\r\n}\r\n```","title":"Sping Boot basic project not running in Intellij Community Edition Same code runs in STS","body":"<p>Your <code>Starter</code> and <code>Hello</code> classes are in different packages (<code>com.learn.spring</code> vs <code>com.learning.spring.hello</code>), for Spring to automatically pick up your <code>Hello</code> class it must be in the same package as your <code>Starter</code>.</p>\n<p>If the different packages are intended that way, you will need to tell Spring to scan them using <code>ComponentScan</code> annotation:</p>\n<pre><code>package com.learn.spring;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.annotation.ComponentScan;\n\n@SpringBootApplication\n@ComponentScan(&quot;com.learning.spring&quot;)\npublic class StarterClass {\n\n    public static void main(String[] args) {\n        SpringApplication.run(StarterClass.class,args);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":11503543,"reputation":23,"user_id":8430581,"display_name":"Rajat"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1202,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73517752,"answer_count":1,"score":0,"last_activity_date":1661681194,"creation_date":1661680213,"question_id":73517630,"body_markdown":"I have created a Basic Spring Project with following three files in IntelliJ community Edition.\r\n\r\nStarter Class :\r\n\r\n    package com.learn.spring;\r\n    \r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    \r\n    @SpringBootApplication\r\n    public class StarterClass {\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(StarterClass.class,args);\r\n        }\r\n    }\r\n\r\n\r\nHello.java\r\n\r\n    package com.learning.spring.hello;\r\n    \r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    @RestController\r\n    public class Hello {\r\n    \r\n        @RequestMapping(&quot;/hello&quot;)\r\n        public String hi() {\r\n            return &quot;Hello How Are you doing in IntelliJ&quot;;\r\n        }\r\n    }\r\n\r\npom.xml :\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n        &lt;artifactId&gt;SpringProjectIntelliJ28082022&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n        &lt;parent&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n                &lt;version&gt;2.5.14&lt;/version&gt;\r\n        &lt;/parent&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;maven.compiler.source&gt;8&lt;/maven.compiler.source&gt;\r\n            &lt;maven.compiler.target&gt;8&lt;/maven.compiler.target&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.5.14&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\n\r\nWhen I run the application I get the following in my Console :\r\n\r\n \r\n\r\n     .   ____          _            __ _ _\r\n     /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n    ( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n     \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n      &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n     =========|_|==============|___/=/_/_/_/\r\n     :: Spring Boot ::               (v2.5.14)\r\n    \r\n    2022-08-28 15:07:36.980  INFO 9408 --- [           main] com.learn.spring.StarterClass            : Starting StarterClass using Java 1.8.0_291 on ******** with PID 9408 (S:\\Java_Workspaces\\spring\\SpringProjectIntelliJ28082022\\target\\classes started by **** in S:\\Java_Workspaces\\spring\\SpringProjectIntelliJ28082022)\r\n    2022-08-28 15:07:36.981  INFO 9408 --- [           main] com.learn.spring.StarterClass            : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n    2022-08-28 15:07:37.912  INFO 9408 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n    2022-08-28 15:07:37.932  INFO 9408 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n    2022-08-28 15:07:37.932  INFO 9408 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]\r\n    2022-08-28 15:07:38.084  INFO 9408 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n    2022-08-28 15:07:38.084  INFO 9408 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1071 ms\r\n    2022-08-28 15:07:38.382  INFO 9408 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path &#39;&#39;\r\n    2022-08-28 15:07:38.382  INFO 9408 --- [           main] com.learn.spring.StarterClass            : Started StarterClass in 1.739 seconds (JVM running for 2.04)\r\n    2022-08-28 15:08:01.308  INFO 9408 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet &#39;dispatcherServlet&#39;\r\n    2022-08-28 15:08:01.308  INFO 9408 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet &#39;dispatcherServlet&#39;\r\n    2022-08-28 15:08:01.308  INFO 9408 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 0 ms\r\n\r\nbut when I open the browser and hit \r\n**localhost:8080/hello**\r\n\r\nI get the error message webpage.\r\n[![enter image description here][1]][1]\r\n\r\nPlease guide me on where am i going wrong.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/EVLjd.png","title":"Sping Boot basic project not running in Intellij Community Edition Same code runs in STS","body":"<p>I have created a Basic Spring Project with following three files in IntelliJ community Edition.</p>\n<p>Starter Class :</p>\n<pre><code>package com.learn.spring;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class StarterClass {\n\n    public static void main(String[] args) {\n        SpringApplication.run(StarterClass.class,args);\n    }\n}\n</code></pre>\n<p>Hello.java</p>\n<pre><code>package com.learning.spring.hello;\n\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\npublic class Hello {\n\n    @RequestMapping(&quot;/hello&quot;)\n    public String hi() {\n        return &quot;Hello How Are you doing in IntelliJ&quot;;\n    }\n}\n</code></pre>\n<p>pom.xml :</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\n    &lt;artifactId&gt;SpringProjectIntelliJ28082022&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;parent&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n            &lt;version&gt;2.5.14&lt;/version&gt;\n    &lt;/parent&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;8&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.5.14&lt;/version&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>When I run the application I get the following in my Console :</p>\n<pre><code> .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::               (v2.5.14)\n\n2022-08-28 15:07:36.980  INFO 9408 --- [           main] com.learn.spring.StarterClass            : Starting StarterClass using Java 1.8.0_291 on ******** with PID 9408 (S:\\Java_Workspaces\\spring\\SpringProjectIntelliJ28082022\\target\\classes started by **** in S:\\Java_Workspaces\\spring\\SpringProjectIntelliJ28082022)\n2022-08-28 15:07:36.981  INFO 9408 --- [           main] com.learn.spring.StarterClass            : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2022-08-28 15:07:37.912  INFO 9408 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\n2022-08-28 15:07:37.932  INFO 9408 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2022-08-28 15:07:37.932  INFO 9408 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]\n2022-08-28 15:07:38.084  INFO 9408 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2022-08-28 15:07:38.084  INFO 9408 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1071 ms\n2022-08-28 15:07:38.382  INFO 9408 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''\n2022-08-28 15:07:38.382  INFO 9408 --- [           main] com.learn.spring.StarterClass            : Started StarterClass in 1.739 seconds (JVM running for 2.04)\n2022-08-28 15:08:01.308  INFO 9408 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'\n2022-08-28 15:08:01.308  INFO 9408 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'\n2022-08-28 15:08:01.308  INFO 9408 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 0 ms\n</code></pre>\n<p>but when I open the browser and hit\n<strong>localhost:8080/hello</strong></p>\n<p>I get the error message webpage.\n<a href=\"https://i.stack.imgur.com/EVLjd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EVLjd.png\" alt=\"enter image description here\" /></a></p>\n<p>Please guide me on where am i going wrong.</p>\n"},{"tags":["java","multithreading","output","sample"],"comments":[{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":1,"creation_date":1661599223,"post_id":73510495,"comment_id":129813277,"body_markdown":"Note: No need to synchronize in the c&#39;tor `SharedResources`.","body":"Note: No need to synchronize in the c&#39;tor <code>SharedResources</code>."},{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":3,"creation_date":1661599571,"post_id":73510495,"comment_id":129813347,"body_markdown":"Note: `sharedResources.setSharedPar1(sharedResources.getSharedPar1() + 100);` even if the setter and the getter are synchronized, two threads may get+set the same value. Probably you want here a `getAndSet()` that sync on the shared resource.","body":"Note: <code>sharedResources.setSharedPar1(sharedResources.getSharedPar1(&zwnj;&#8203;) + 100);</code> even if the setter and the getter are synchronized, two threads may get+set the same value. Probably you want here a <code>getAndSet()</code> that sync on the shared resource."},{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":0,"creation_date":1661601451,"post_id":73510495,"comment_id":129813663,"body_markdown":"Rule of thumb: when one resource is written by one thread and read by other threads, declaring the field volatile is enough (all reading threads will read the updated values). However, when multiple threads both write and read one field, then simply volatile is not enough because as suggested above, if the set and get are not synchronized you may read twice the same value. Either you lock both set and get (using synchronization and so on), or you use the very comfortable utility called AtomicReference which already implements all those tricks for you","body":"Rule of thumb: when one resource is written by one thread and read by other threads, declaring the field volatile is enough (all reading threads will read the updated values). However, when multiple threads both write and read one field, then simply volatile is not enough because as suggested above, if the set and get are not synchronized you may read twice the same value. Either you lock both set and get (using synchronization and so on), or you use the very comfortable utility called AtomicReference which already implements all those tricks for you"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1661632553,"post_id":73510495,"comment_id":129819637,"body_markdown":"SharedResources is synchronized, but System.out may not be.  Try adding `System.out.flush();` after every System.out.println statement.","body":"SharedResources is synchronized, but System.out may not be.  Try adding <code>System.out.flush();</code> after every System.out.println statement."}],"answers":[{"tags":[],"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1661681177,"creation_date":1661681177,"answer_id":73517751,"question_id":73510495,"body_markdown":"There are several issues.  Firstly you have a race condition on the get/set cycles so that each thread may read the same initial value and therefore they replace an updated value of another thread. This is caused as you do not synchronise on this entire block for atomic change to each independent variable and two threads perform `getSharedParX()` before each runs `sharedResource.setSharedParX(updatedValue)`:\r\n\r\n    sharedResource.setSharedParX(sharedResource.getSharedParX() + x);\r\n\r\nThe timeline of your read/updates is therefore trampling the results of other threads (note that main prints before it updates), and first line of output of these threads use a mix of the first/second values of `sharedPar1` and `sharedPar2`:\r\n\r\n\t// Task1 read sharedPar1=0 and saved sharedPar1=1000\r\n\tMain thread! - Shared resources: 1000 and \r\n\t\r\n\t// Task2 reads sharedPar1=1000 and saved sharedPar1=1100 (trampling main values)\r\n\t// Task2 read sharedPar2=&quot;&quot; and saved sharedPar2=&quot;b&quot; (trampling main/Task2 values)\r\n\tTask2, it. 0. - Shared resources: 1100 and b\r\n\tTask1, it. 0. - Shared resources: 1100 and b\r\n\r\nSecondly note that `System.out` is a `PrintWriter` so the `println` messages are synchronized. Main thread was simply able to print more results before Task1/Task2 had a chance to, which is why the first lines from Task1/2 appear well down the list. It&#39;s generally not a good idea to print to same stream inside threads as the I/O contention could slow down all the threads as they contend with each other to write output.\r\n\r\nYou need to fix so that the operations are atomic - look at using `AtomicInteger` or `AtomicReference&lt;String&gt;` or implement your own handlers to perform the changes needed in one step (and remove setX) such as:\r\n\r\n    synchronized int addAndGet(int delta) {\r\n\t    sharedPar1 += delta;\r\n\t\treturn sharedPar1;\r\n\t}\r\n    synchronized String appendAndGet(String delta) {\r\n\t    sharedPar2 += delta;\r\n\t\treturn sharedPar2;\r\n\t}\r\n\r\n","title":"Java multithreading unexpected output","body":"<p>There are several issues.  Firstly you have a race condition on the get/set cycles so that each thread may read the same initial value and therefore they replace an updated value of another thread. This is caused as you do not synchronise on this entire block for atomic change to each independent variable and two threads perform <code>getSharedParX()</code> before each runs <code>sharedResource.setSharedParX(updatedValue)</code>:</p>\n<pre><code>sharedResource.setSharedParX(sharedResource.getSharedParX() + x);\n</code></pre>\n<p>The timeline of your read/updates is therefore trampling the results of other threads (note that main prints before it updates), and first line of output of these threads use a mix of the first/second values of <code>sharedPar1</code> and <code>sharedPar2</code>:</p>\n<pre><code>// Task1 read sharedPar1=0 and saved sharedPar1=1000\nMain thread! - Shared resources: 1000 and \n\n// Task2 reads sharedPar1=1000 and saved sharedPar1=1100 (trampling main values)\n// Task2 read sharedPar2=&quot;&quot; and saved sharedPar2=&quot;b&quot; (trampling main/Task2 values)\nTask2, it. 0. - Shared resources: 1100 and b\nTask1, it. 0. - Shared resources: 1100 and b\n</code></pre>\n<p>Secondly note that <code>System.out</code> is a <code>PrintWriter</code> so the <code>println</code> messages are synchronized. Main thread was simply able to print more results before Task1/Task2 had a chance to, which is why the first lines from Task1/2 appear well down the list. It's generally not a good idea to print to same stream inside threads as the I/O contention could slow down all the threads as they contend with each other to write output.</p>\n<p>You need to fix so that the operations are atomic - look at using <code>AtomicInteger</code> or <code>AtomicReference&lt;String&gt;</code> or implement your own handlers to perform the changes needed in one step (and remove setX) such as:</p>\n<pre><code>synchronized int addAndGet(int delta) {\n    sharedPar1 += delta;\n    return sharedPar1;\n}\nsynchronized String appendAndGet(String delta) {\n    sharedPar2 += delta;\n    return sharedPar2;\n}\n</code></pre>\n"}],"owner":{"account_id":22543172,"reputation":11,"user_id":19679944,"display_name":"Armin Petrovi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":73517751,"answer_count":1,"score":0,"last_activity_date":1661681177,"creation_date":1661598815,"question_id":73510495,"body_markdown":"I am trying to learn multithreading in Java. Here is the code that I wrote:\r\n\r\n```\r\npublic class SharedResources {\r\n    volatile private int sharedPar1;\r\n    volatile private String sharedPar2;\r\n\r\n    public SharedResources(Integer sharedPar1, String sharedPar2) {\r\n        synchronized (sharedPar1) {\r\n            this.sharedPar1 = sharedPar1;\r\n        }\r\n        synchronized (sharedPar2) {\r\n            this.sharedPar2 = sharedPar2;\r\n        }\r\n    }\r\n\r\n    public synchronized int getSharedPar1() {\r\n        return sharedPar1;\r\n    }\r\n\r\n    public synchronized void setSharedPar1(int sharedPar1) {\r\n        this.sharedPar1 = sharedPar1;\r\n    }\r\n\r\n    public synchronized String getSharedPar2() {\r\n        return sharedPar2;\r\n    }\r\n\r\n    public synchronized void setSharedPar2(String sharedPar2) {\r\n        this.sharedPar2 = sharedPar2;\r\n    }\r\n}\r\n\r\n```\r\nThis above is simply one class that represents mock shared resources. Two mock thread classes:\r\n\r\n```\r\npublic class Task1 extends Thread {\r\n    volatile private SharedResources sharedResources;\r\n\r\n    public Task1(SharedResources sharedResources) {\r\n        this.sharedResources = sharedResources;\r\n    }\r\n\r\n    public SharedResources getSharedResources() {\r\n        return sharedResources;\r\n    }\r\n\r\n    public void setSharedResources(SharedResources sharedResources) {\r\n        this.sharedResources = sharedResources;\r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n        for (int i = 0; i &lt; 10; i++) {\r\n            sharedResources.setSharedPar1(sharedResources.getSharedPar1() + 1000);\r\n            sharedResources.setSharedPar2(sharedResources.getSharedPar2() + &quot;c&quot;);\r\n            System.out.println(&quot;Task1, it. &quot; + i + &quot;. - Shared resources: &quot; + sharedResources.getSharedPar1() + &quot; and &quot; + sharedResources.getSharedPar2());\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\nTask 2 :\r\n\r\n```\r\npublic class Task2 extends Thread {\r\n    volatile private SharedResources sharedResources;\r\n\r\n    public Task2(SharedResources sharedResource) {\r\n        this.sharedResources = sharedResource;\r\n    }\r\n\r\n    public SharedResources getSharedResources() {\r\n        return sharedResources;\r\n    }\r\n\r\n    public void setSharedResources(SharedResources sharedResources) {\r\n        this.sharedResources = sharedResources;\r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n        for (int i = 0; i &lt; 10; i++) {\r\n            sharedResources.setSharedPar1(sharedResources.getSharedPar1() + 100);\r\n            sharedResources.setSharedPar2(sharedResources.getSharedPar2() + &quot;b&quot;);\r\n            System.out.println(&quot;Task2, it. &quot; + i + &quot;. - Shared resources: &quot; + sharedResources.getSharedPar1() + &quot; and &quot; + sharedResources.getSharedPar2());\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nNow, the Main function:\r\n\r\n```\r\npublic static void main(String[] args) {\r\n        SharedResources sharedResource = new SharedResources(0, &quot;&quot;);\r\n\r\n        Thread firstTask = new Task1(sharedResource);\r\n        Thread secondTask = new Task2(sharedResource);\r\n\r\n        firstTask.start();\r\n        secondTask.start();\r\n\r\n        for (int i = 0; i &lt; 10; i++) {\r\n            System.out.println(&quot;Main thread! - Shared resources: &quot; + sharedResource.getSharedPar1() + &quot; and &quot; + sharedResource.getSharedPar2());\r\n            sharedResource.setSharedPar1(sharedResource.getSharedPar1() + 1);\r\n            sharedResource.setSharedPar2(sharedResource.getSharedPar2() + &quot;a&quot;);\r\n        }\r\n        System.out.println();\r\n    }\r\n```\r\n\r\nNow, idea is this - having two threads that make different operations on variables **sharedPar1** and **sharedPar2**, in output I want to get consistent values of variables, meaning I want to be able to logically connect output of this program, to its lines of code. But, I don&#39;t know why there are some things as they are in my output. Basically, I need someone to explain this kind of output to me: \r\n\r\n```\r\nMain thread! - Shared resources: 1000 and \r\nMain thread! - Shared resources: 1101 and ba\r\nMain thread! - Shared resources: 1102 and baa\r\nMain thread! - Shared resources: 1103 and baaa\r\nMain thread! - Shared resources: 1104 and baaaa\r\nMain thread! - Shared resources: 1105 and baaaaa\r\nMain thread! - Shared resources: 1106 and baaaaaa\r\nMain thread! - Shared resources: 1107 and baaaaaaa\r\nMain thread! - Shared resources: 1108 and baaaaaaaa\r\nMain thread! - Shared resources: 1109 and baaaaaaaaa\r\n\r\nTask2, it. 0. - Shared resources: 1100 and b\r\nTask1, it. 0. - Shared resources: 1100 and b\r\nTask2, it. 1. - Shared resources: 1210 and baaaaaaaaaab\r\nTask1, it. 1. - Shared resources: 2210 and baaaaaaaaaabc\r\nTask1, it. 2. - Shared resources: 3310 and baaaaaaaaaabcc\r\nTask2, it. 2. - Shared resources: 3310 and baaaaaaaaaabcb\r\nTask1, it. 3. - Shared resources: 4310 and baaaaaaaaaabcbc\r\nTask2, it. 3. - Shared resources: 4410 and baaaaaaaaaabcbcb\r\nTask1, it. 4. - Shared resources: 5410 and baaaaaaaaaabcbcbc\r\nTask2, it. 4. - Shared resources: 5510 and baaaaaaaaaabcbcbcb\r\nTask1, it. 5. - Shared resources: 6510 and baaaaaaaaaabcbcbcbc\r\nTask2, it. 5. - Shared resources: 6610 and baaaaaaaaaabcbcbcbcb\r\nTask1, it. 6. - Shared resources: 7610 and baaaaaaaaaabcbcbcbcbc\r\nTask2, it. 6. - Shared resources: 7710 and baaaaaaaaaabcbcbcbcbcb\r\nTask1, it. 7. - Shared resources: 8710 and baaaaaaaaaabcbcbcbcbcbc\r\nTask1, it. 8. - Shared resources: 9810 and baaaaaaaaaabcbcbcbcbcbcc\r\nTask1, it. 9. - Shared resources: 10810 and baaaaaaaaaabcbcbcbcbcbccc\r\nTask2, it. 7. - Shared resources: 9810 and baaaaaaaaaabcbcbcbcbcbcb\r\nTask2, it. 8. - Shared resources: 10910 and baaaaaaaaaabcbcbcbcbcbcccb\r\nTask2, it. 9. - Shared resources: 11010 and baaaaaaaaaabcbcbcbcbcbcccbb\r\n\r\n```\r\nI understand everything in the output until line **Task2, it. 0. - Shared resources: 1100 and b** - why in this line we do not have values from previous line (last line in Main loop)? Output of main, where we have &#39;aaa..&#39; added to string and ones added to integer variable are nowhere to be found in this line, and that is what I do not understand. \r\n\r\nSo, basically I want to be able to use shared class and variables between multiple different threads, but even if I have set variables to &#39;volatile&#39; and methods to &#39;synchronized&#39;, again values are not properly updated when outputted to the screen. Can someone explain why is that? And if you see that this is wrong way to do these kind of things, where am I wrong?\r\n\r\nAlso, I am wondering if there is a way to ensure that in one thread, we always execute lets say one full iteration of a loop before scheduler kicks our thread out of processor?","title":"Java multithreading unexpected output","body":"<p>I am trying to learn multithreading in Java. Here is the code that I wrote:</p>\n<pre><code>public class SharedResources {\n    volatile private int sharedPar1;\n    volatile private String sharedPar2;\n\n    public SharedResources(Integer sharedPar1, String sharedPar2) {\n        synchronized (sharedPar1) {\n            this.sharedPar1 = sharedPar1;\n        }\n        synchronized (sharedPar2) {\n            this.sharedPar2 = sharedPar2;\n        }\n    }\n\n    public synchronized int getSharedPar1() {\n        return sharedPar1;\n    }\n\n    public synchronized void setSharedPar1(int sharedPar1) {\n        this.sharedPar1 = sharedPar1;\n    }\n\n    public synchronized String getSharedPar2() {\n        return sharedPar2;\n    }\n\n    public synchronized void setSharedPar2(String sharedPar2) {\n        this.sharedPar2 = sharedPar2;\n    }\n}\n\n</code></pre>\n<p>This above is simply one class that represents mock shared resources. Two mock thread classes:</p>\n<pre><code>public class Task1 extends Thread {\n    volatile private SharedResources sharedResources;\n\n    public Task1(SharedResources sharedResources) {\n        this.sharedResources = sharedResources;\n    }\n\n    public SharedResources getSharedResources() {\n        return sharedResources;\n    }\n\n    public void setSharedResources(SharedResources sharedResources) {\n        this.sharedResources = sharedResources;\n    }\n\n    @Override\n    public void run() {\n        for (int i = 0; i &lt; 10; i++) {\n            sharedResources.setSharedPar1(sharedResources.getSharedPar1() + 1000);\n            sharedResources.setSharedPar2(sharedResources.getSharedPar2() + &quot;c&quot;);\n            System.out.println(&quot;Task1, it. &quot; + i + &quot;. - Shared resources: &quot; + sharedResources.getSharedPar1() + &quot; and &quot; + sharedResources.getSharedPar2());\n        }\n    }\n}\n\n</code></pre>\n<p>Task 2 :</p>\n<pre><code>public class Task2 extends Thread {\n    volatile private SharedResources sharedResources;\n\n    public Task2(SharedResources sharedResource) {\n        this.sharedResources = sharedResource;\n    }\n\n    public SharedResources getSharedResources() {\n        return sharedResources;\n    }\n\n    public void setSharedResources(SharedResources sharedResources) {\n        this.sharedResources = sharedResources;\n    }\n\n    @Override\n    public void run() {\n        for (int i = 0; i &lt; 10; i++) {\n            sharedResources.setSharedPar1(sharedResources.getSharedPar1() + 100);\n            sharedResources.setSharedPar2(sharedResources.getSharedPar2() + &quot;b&quot;);\n            System.out.println(&quot;Task2, it. &quot; + i + &quot;. - Shared resources: &quot; + sharedResources.getSharedPar1() + &quot; and &quot; + sharedResources.getSharedPar2());\n        }\n    }\n}\n</code></pre>\n<p>Now, the Main function:</p>\n<pre><code>public static void main(String[] args) {\n        SharedResources sharedResource = new SharedResources(0, &quot;&quot;);\n\n        Thread firstTask = new Task1(sharedResource);\n        Thread secondTask = new Task2(sharedResource);\n\n        firstTask.start();\n        secondTask.start();\n\n        for (int i = 0; i &lt; 10; i++) {\n            System.out.println(&quot;Main thread! - Shared resources: &quot; + sharedResource.getSharedPar1() + &quot; and &quot; + sharedResource.getSharedPar2());\n            sharedResource.setSharedPar1(sharedResource.getSharedPar1() + 1);\n            sharedResource.setSharedPar2(sharedResource.getSharedPar2() + &quot;a&quot;);\n        }\n        System.out.println();\n    }\n</code></pre>\n<p>Now, idea is this - having two threads that make different operations on variables <strong>sharedPar1</strong> and <strong>sharedPar2</strong>, in output I want to get consistent values of variables, meaning I want to be able to logically connect output of this program, to its lines of code. But, I don't know why there are some things as they are in my output. Basically, I need someone to explain this kind of output to me:</p>\n<pre><code>Main thread! - Shared resources: 1000 and \nMain thread! - Shared resources: 1101 and ba\nMain thread! - Shared resources: 1102 and baa\nMain thread! - Shared resources: 1103 and baaa\nMain thread! - Shared resources: 1104 and baaaa\nMain thread! - Shared resources: 1105 and baaaaa\nMain thread! - Shared resources: 1106 and baaaaaa\nMain thread! - Shared resources: 1107 and baaaaaaa\nMain thread! - Shared resources: 1108 and baaaaaaaa\nMain thread! - Shared resources: 1109 and baaaaaaaaa\n\nTask2, it. 0. - Shared resources: 1100 and b\nTask1, it. 0. - Shared resources: 1100 and b\nTask2, it. 1. - Shared resources: 1210 and baaaaaaaaaab\nTask1, it. 1. - Shared resources: 2210 and baaaaaaaaaabc\nTask1, it. 2. - Shared resources: 3310 and baaaaaaaaaabcc\nTask2, it. 2. - Shared resources: 3310 and baaaaaaaaaabcb\nTask1, it. 3. - Shared resources: 4310 and baaaaaaaaaabcbc\nTask2, it. 3. - Shared resources: 4410 and baaaaaaaaaabcbcb\nTask1, it. 4. - Shared resources: 5410 and baaaaaaaaaabcbcbc\nTask2, it. 4. - Shared resources: 5510 and baaaaaaaaaabcbcbcb\nTask1, it. 5. - Shared resources: 6510 and baaaaaaaaaabcbcbcbc\nTask2, it. 5. - Shared resources: 6610 and baaaaaaaaaabcbcbcbcb\nTask1, it. 6. - Shared resources: 7610 and baaaaaaaaaabcbcbcbcbc\nTask2, it. 6. - Shared resources: 7710 and baaaaaaaaaabcbcbcbcbcb\nTask1, it. 7. - Shared resources: 8710 and baaaaaaaaaabcbcbcbcbcbc\nTask1, it. 8. - Shared resources: 9810 and baaaaaaaaaabcbcbcbcbcbcc\nTask1, it. 9. - Shared resources: 10810 and baaaaaaaaaabcbcbcbcbcbccc\nTask2, it. 7. - Shared resources: 9810 and baaaaaaaaaabcbcbcbcbcbcb\nTask2, it. 8. - Shared resources: 10910 and baaaaaaaaaabcbcbcbcbcbcccb\nTask2, it. 9. - Shared resources: 11010 and baaaaaaaaaabcbcbcbcbcbcccbb\n\n</code></pre>\n<p>I understand everything in the output until line <strong>Task2, it. 0. - Shared resources: 1100 and b</strong> - why in this line we do not have values from previous line (last line in Main loop)? Output of main, where we have 'aaa..' added to string and ones added to integer variable are nowhere to be found in this line, and that is what I do not understand.</p>\n<p>So, basically I want to be able to use shared class and variables between multiple different threads, but even if I have set variables to 'volatile' and methods to 'synchronized', again values are not properly updated when outputted to the screen. Can someone explain why is that? And if you see that this is wrong way to do these kind of things, where am I wrong?</p>\n<p>Also, I am wondering if there is a way to ensure that in one thread, we always execute lets say one full iteration of a loop before scheduler kicks our thread out of processor?</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":16366460,"reputation":131,"user_id":11820819,"display_name":"Dorin Simion"},"score":1,"creation_date":1661040197,"post_id":73430478,"comment_id":129676666,"body_markdown":"Do it in one loop. Initialize  max and secondMax with Integer.MIN_VALUE.  then loop  array and if arr[i] bigger than max, than secondMax=max; max = arr[i]; else if arr[i] bigger than secondMax just secondMax=arr[i]. I didn&#39;t written code, as I assume you are practicing so give it a try :)","body":"Do it in one loop. Initialize  max and secondMax with Integer.MIN_VALUE.  then loop  array and if arr[i] bigger than max, than secondMax=max; max = arr[i]; else if arr[i] bigger than secondMax just secondMax=arr[i]. I didn&#39;t written code, as I assume you are practicing so give it a try :)"}],"answers":[{"tags":[],"owner":{"account_id":25937120,"reputation":2268,"user_id":19657183,"display_name":"Mihe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661037046,"creation_date":1661036559,"answer_id":73430641,"question_id":73430478,"body_markdown":"&gt; I swapped the largest with the first element of the array\r\n\r\nWell, not exactly. You copied the value of the largest element to a variable named `largest`. Then you swapped the value of this variable with the value of the first element of the array. The array-element that holds the largest value remains untouched.\r\n\r\nYou&#39;ve to store the index of the array element that holds the largest value, then you can swap:\r\n\r\n```\r\npublic static int secondLargest(int[] arr, int size)\r\n{\r\n    int largestIx = 0;\r\n\r\n    for(int i = 1; i &lt; size; i++) {\r\n        if(arr[i] &gt; arr[largestIx]) {\r\n            largestIx = i;\r\n        }\r\n    }\r\n\r\n    int temp = arr[0];\r\n    arr[0] = arr[largestIx];\r\n    arr[largestIx] = temp;\r\n    ...\r\n```\r\n","title":"Second Largest Element In an Array","body":"<blockquote>\n<p>I swapped the largest with the first element of the array</p>\n</blockquote>\n<p>Well, not exactly. You copied the value of the largest element to a variable named <code>largest</code>. Then you swapped the value of this variable with the value of the first element of the array. The array-element that holds the largest value remains untouched.</p>\n<p>You've to store the index of the array element that holds the largest value, then you can swap:</p>\n<pre><code>public static int secondLargest(int[] arr, int size)\n{\n    int largestIx = 0;\n\n    for(int i = 1; i &lt; size; i++) {\n        if(arr[i] &gt; arr[largestIx]) {\n            largestIx = i;\n        }\n    }\n\n    int temp = arr[0];\n    arr[0] = arr[largestIx];\n    arr[largestIx] = temp;\n    ...\n</code></pre>\n"}],"owner":{"account_id":16663974,"reputation":1,"user_id":19556047,"display_name":"Letter Box"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":144,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1661680912,"creation_date":1661034347,"question_id":73430478,"body_markdown":"Here, if I do not consider time complexity and space complexity criteria in mind, I tried something.\r\nHere, **largest** represents the **largest element** in array and once largest was found, I **swapped** the **largest with the first element** of the array and then so I reused the method which I used to find **largest** in order to get the **second largest** method which I have stored in **secondLargest** variable.\r\nHere, Ideally I should get the **secondlargest** element in return while I am **getting the largest**.\r\n**PLEASE HELP**\r\n\r\n    public static int secondLargest(int[] arr, int size)\r\n    {\r\n        int largest= arr[0];\r\n        for(int i=1; i&lt;size; i++)\r\n        {\r\n            if(arr[i]&gt; largest)\r\n            {\r\n                largest= arr[i];\r\n            }\r\n            \r\n            \r\n        }\r\n         if(largest!= arr[0])\r\n         {\r\n            int temp= arr[0];\r\n            arr[0]= largest;\r\n            largest = temp;\r\n         }\r\n         int SecondLargest = arr[1];\r\n         for(int i=2; i&lt;size; i++)\r\n         {\r\n             if(arr[i]&gt; SecondLargest)\r\n             {\r\n                 SecondLargest= arr[i];\r\n             }\r\n             \r\n         }\r\n         return SecondLargest;\r\n","title":"Second Largest Element In an Array","body":"<p>Here, if I do not consider time complexity and space complexity criteria in mind, I tried something.\nHere, <strong>largest</strong> represents the <strong>largest element</strong> in array and once largest was found, I <strong>swapped</strong> the <strong>largest with the first element</strong> of the array and then so I reused the method which I used to find <strong>largest</strong> in order to get the <strong>second largest</strong> method which I have stored in <strong>secondLargest</strong> variable.\nHere, Ideally I should get the <strong>secondlargest</strong> element in return while I am <strong>getting the largest</strong>.\n<strong>PLEASE HELP</strong></p>\n<pre><code>public static int secondLargest(int[] arr, int size)\n{\n    int largest= arr[0];\n    for(int i=1; i&lt;size; i++)\n    {\n        if(arr[i]&gt; largest)\n        {\n            largest= arr[i];\n        }\n        \n        \n    }\n     if(largest!= arr[0])\n     {\n        int temp= arr[0];\n        arr[0]= largest;\n        largest = temp;\n     }\n     int SecondLargest = arr[1];\n     for(int i=2; i&lt;size; i++)\n     {\n         if(arr[i]&gt; SecondLargest)\n         {\n             SecondLargest= arr[i];\n         }\n         \n     }\n     return SecondLargest;\n</code></pre>\n"},{"tags":["java","list","collections","pascals-triangle"],"comments":[{"owner":{"display_name":"user6073886"},"score":3,"creation_date":1661246942,"post_id":73456194,"comment_id":129720199,"body_markdown":"`List&lt;Integer&gt; pre, row = null;` only initializes `row` and `List&lt;Integer&gt; row, pre = null;` only initializes `pre`. The `= null` at the end doesn&#39;t apply to all the variables you declared beforehand in that line.","body":"<code>List&lt;Integer&gt; pre, row = null;</code> only initializes <code>row</code> and <code>List&lt;Integer&gt; row, pre = null;</code> only initializes <code>pre</code>. The <code>= null</code> at the end doesn&#39;t apply to all the variables you declared beforehand in that line."},{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":1,"creation_date":1661247745,"post_id":73456194,"comment_id":129720476,"body_markdown":"So what you&#39;re looking for is `List&lt;Integer&gt; pre = null, row = null;`","body":"So what you&#39;re looking for is <code>List&lt;Integer&gt; pre = null, row = null;</code>"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1661253367,"post_id":73456194,"comment_id":129722580,"body_markdown":"@QBrute there is no need to initialize `row` with `null` here.","body":"@QBrute there is no need to initialize <code>row</code> with <code>null</code> here."}],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1661254796,"creation_date":1661254796,"answer_id":73458054,"question_id":73456194,"body_markdown":"A variable initializer only initializes the variable before it, regardless of how many variables the declaration statement creates. So\r\n```java\r\nList&lt;Integer&gt; pre, row = null;\r\n```\r\nonly initializes `row` with `null` whereas\r\n```java\r\nList&lt;Integer&gt; row, pre = null;\r\n```\r\nonly initializes `pre` with `null` which would be the same as\r\n```java\r\nList&lt;Integer&gt; pre = null, row;\r\n```\r\nwhich demonstrates that is not an issue of the variable order.\r\n\r\n---\r\n\r\nThe first statement of your loop body is `row = new ArrayList&lt;Integer&gt;();`\r\n\r\nTherefore, `row` does not need to be initialized before the loop. The loop body will not be executed if `numRows` is zero or less, but this is not a problem, because `row` is not accessed after the loop. All accesses to `row` occur after the variable has been initialized.\r\n\r\nIn fact, you could move the declaration of `row` into the loop at the place where you initialize it.\r\n\r\nIn contrast, the `pre.get(j-1)` occurs before the first assignment, i.e. `pre=row;`, therefore, the compiler considers this an access to a potentially uninitialized variable for the first loop iteration. An experienced reader may recognize that this line will never be executed in the first loop iteration and the `pre` variable is initialized in subsequent iterations. But the compiler does not analyze the conditions to that depth.\r\n\r\nSo you need to initialize `pre` as with `List&lt;Integer&gt; row, pre = null;` even if you know that this initial value will never be used.\r\n\r\nAn alternative is to move the logic of the first iteration before the loop, e.g.\r\n\r\n```java\r\npublic List&lt;List&lt;Integer&gt;&gt; generate(int numRows) {\r\n    if(numRows &lt;= 0) return Collections.emptyList();\r\n\r\n    List&lt;List&lt;Integer&gt;&gt; rows = new ArrayList&lt;&gt;();\r\n    List&lt;Integer&gt; pre = Collections.singletonList(1);\r\n    rows.add(pre);\r\n\r\n    for(int i = 1; i &lt; numRows; ++i) {\r\n        List&lt;Integer&gt; row = new ArrayList&lt;&gt;();\r\n        for(int j = 0; j &lt;= i; ++j) {\r\n            if(j == 0 || j == i)\r\n                row.add(1);\r\n            else\r\n                row.add(pre.get(j - 1) + pre.get(j));\r\n        }\r\n        pre = row;\r\n        rows.add(row);\r\n    }\r\n\r\n    return rows;\r\n}\r\n```\r\n\r\nThe adds the invariant first row to the rows before the loop and starts the loop with the second row (index one). Note that this requires handling the empty case at the beginning. But the advantage is that this code doesnt need to initialize a variable with an unused value.\r\n","title":"List may not be initialized for Pascal&#39;s triangle, but works when order is changed. Why?","body":"<p>A variable initializer only initializes the variable before it, regardless of how many variables the declaration statement creates. So</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Integer&gt; pre, row = null;\n</code></pre>\n<p>only initializes <code>row</code> with <code>null</code> whereas</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Integer&gt; row, pre = null;\n</code></pre>\n<p>only initializes <code>pre</code> with <code>null</code> which would be the same as</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Integer&gt; pre = null, row;\n</code></pre>\n<p>which demonstrates that is not an issue of the variable order.</p>\n<hr />\n<p>The first statement of your loop body is <code>row = new ArrayList&lt;Integer&gt;();</code></p>\n<p>Therefore, <code>row</code> does not need to be initialized before the loop. The loop body will not be executed if <code>numRows</code> is zero or less, but this is not a problem, because <code>row</code> is not accessed after the loop. All accesses to <code>row</code> occur after the variable has been initialized.</p>\n<p>In fact, you could move the declaration of <code>row</code> into the loop at the place where you initialize it.</p>\n<p>In contrast, the <code>pre.get(j-1)</code> occurs before the first assignment, i.e. <code>pre=row;</code>, therefore, the compiler considers this an access to a potentially uninitialized variable for the first loop iteration. An experienced reader may recognize that this line will never be executed in the first loop iteration and the <code>pre</code> variable is initialized in subsequent iterations. But the compiler does not analyze the conditions to that depth.</p>\n<p>So you need to initialize <code>pre</code> as with <code>List&lt;Integer&gt; row, pre = null;</code> even if you know that this initial value will never be used.</p>\n<p>An alternative is to move the logic of the first iteration before the loop, e.g.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public List&lt;List&lt;Integer&gt;&gt; generate(int numRows) {\n    if(numRows &lt;= 0) return Collections.emptyList();\n\n    List&lt;List&lt;Integer&gt;&gt; rows = new ArrayList&lt;&gt;();\n    List&lt;Integer&gt; pre = Collections.singletonList(1);\n    rows.add(pre);\n\n    for(int i = 1; i &lt; numRows; ++i) {\n        List&lt;Integer&gt; row = new ArrayList&lt;&gt;();\n        for(int j = 0; j &lt;= i; ++j) {\n            if(j == 0 || j == i)\n                row.add(1);\n            else\n                row.add(pre.get(j - 1) + pre.get(j));\n        }\n        pre = row;\n        rows.add(row);\n    }\n\n    return rows;\n}\n</code></pre>\n<p>The adds the invariant first row to the rows before the loop and starts the loop with the second row (index one). Note that this requires handling the empty case at the beginning. But the advantage is that this code doesnt need to initialize a variable with an unused value.</p>\n"}],"owner":{"account_id":25158217,"reputation":65,"user_id":19002759,"display_name":"Sachin K Rao"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73458054,"answer_count":1,"score":0,"last_activity_date":1661680894,"creation_date":1661246684,"question_id":73456194,"body_markdown":"While looking up solutions for the Pascal&#39;s triangle problem which takes in the number of rows as input (int numRows), and outputs a List containing all rows of the triangle, I tried this code:-\r\n\r\n```\r\nclass Solution {\r\n    public List&lt;List&lt;Integer&gt;&gt; generate(int numRows) {\r\n        List&lt;List&lt;Integer&gt;&gt; rows = new ArrayList&lt;List&lt;Integer&gt;&gt;();\r\n        List&lt;Integer&gt; pre, row = null;\r\n        \r\n        for(int i=0; i&lt;numRows; ++i){\r\n            row = new ArrayList&lt;Integer&gt;();\r\n            for(int j=0; j&lt;=i; ++j){\r\n                if(j==0 || j==i)\r\n                    row.add(1);\r\n                else\r\n                    row.add(pre.get(j-1)+pre.get(j));\r\n            }\r\n            pre=row;\r\n            rows.add(row);\r\n        }\r\n        \r\n        return rows;\r\n    }\r\n}\r\n```\r\n\r\nThis gave me the error:-\r\n\r\n```\r\nLine 12: error: variable pre might not have been initialized\r\n                    row.add(pre.get(j-1)+pre.get(j));\r\n                            ^\r\n```\r\nHowever, by changing the fourth line to:-\r\n`\r\nList&lt;Integer&gt; row, pre = null;\r\n`\r\n\r\nThe code worked just fine. What&#39;s the reason behind this?","title":"List may not be initialized for Pascal&#39;s triangle, but works when order is changed. Why?","body":"<p>While looking up solutions for the Pascal's triangle problem which takes in the number of rows as input (int numRows), and outputs a List containing all rows of the triangle, I tried this code:-</p>\n<pre><code>class Solution {\n    public List&lt;List&lt;Integer&gt;&gt; generate(int numRows) {\n        List&lt;List&lt;Integer&gt;&gt; rows = new ArrayList&lt;List&lt;Integer&gt;&gt;();\n        List&lt;Integer&gt; pre, row = null;\n        \n        for(int i=0; i&lt;numRows; ++i){\n            row = new ArrayList&lt;Integer&gt;();\n            for(int j=0; j&lt;=i; ++j){\n                if(j==0 || j==i)\n                    row.add(1);\n                else\n                    row.add(pre.get(j-1)+pre.get(j));\n            }\n            pre=row;\n            rows.add(row);\n        }\n        \n        return rows;\n    }\n}\n</code></pre>\n<p>This gave me the error:-</p>\n<pre><code>Line 12: error: variable pre might not have been initialized\n                    row.add(pre.get(j-1)+pre.get(j));\n                            ^\n</code></pre>\n<p>However, by changing the fourth line to:-\n<code>List&lt;Integer&gt; row, pre = null;</code></p>\n<p>The code worked just fine. What's the reason behind this?</p>\n"},{"tags":["java","oop","interface","extends"],"answers":[{"tags":[],"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1661680405,"creation_date":1661679720,"answer_id":73517582,"question_id":73517501,"body_markdown":"## General ##\r\n\r\nIn general there is no reason to write out the methods you already get from the other interface again. Do not do that.\r\n\r\n## Javadoc ##\r\n\r\nIn case of `Deque` however, it is to override the Javadoc, giving more details that are specific to `Deque` and not to general `Queue`s.\r\n\r\n#### add(E) ####\r\n\r\nCompare the source code, example `add`:\r\n\r\n[Queue][2]:\r\n\r\n    /**\r\n     * Inserts the specified element into this queue if it is possible to do so\r\n     * immediately without violating capacity restrictions, returning\r\n     * {@code true} upon success and throwing an {@code IllegalStateException}\r\n     * if no space is currently available.\r\n     *\r\n     * @param e the element to add\r\n     * @return {@code true} (as specified by {@link Collection#add})\r\n     * @throws IllegalStateException if the element cannot be added at this\r\n     *         time due to capacity restrictions\r\n     * @throws ClassCastException if the class of the specified element\r\n     *         prevents it from being added to this queue\r\n     * @throws NullPointerException if the specified element is null and\r\n     *         this queue does not permit null elements\r\n     * @throws IllegalArgumentException if some property of this element\r\n     *         prevents it from being added to this queue\r\n     */\r\n    boolean add(E e);\r\n\r\n[Deque][1]:\r\n\r\n    /**\r\n     * Inserts the specified element into the queue represented by this deque\r\n     * (in other words, at the tail of this deque) if it is possible to do so\r\n     * immediately without violating capacity restrictions, returning\r\n     * {@code true} upon success and throwing an\r\n     * {@code IllegalStateException} if no space is currently available.\r\n     * When using a capacity-restricted deque, it is generally preferable to\r\n     * use {@link #offer(Object) offer}.\r\n     *\r\n     * &lt;p&gt;This method is equivalent to {@link #addLast}.\r\n     *\r\n     * @param e the element to add\r\n     * @return {@code true} (as specified by {@link Collection#add})\r\n     * @throws IllegalStateException if the element cannot be added at this\r\n     *         time due to capacity restrictions\r\n     * @throws ClassCastException if the class of the specified element\r\n     *         prevents it from being added to this deque\r\n     * @throws NullPointerException if the specified element is null and this\r\n     *         deque does not permit null elements\r\n     * @throws IllegalArgumentException if some property of the specified\r\n     *         element prevents it from being added to this deque\r\n     */\r\n    boolean add(E e);\r\n\r\nThe diff:\r\n\r\n[![difference][3]][3]\r\n\r\n&lt;sub&gt;(diff created by P4Merge)&lt;/sub&gt;\r\n\r\nSo when you use `Deque`s `add` method, you will see another Javadoc than when just using the `add` method of another `Queue`.\r\n\r\n\r\n\r\n  [1]: https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/Deque.java#L416\r\n  [2]: https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/Queue.java#L156\r\n  [3]: https://i.stack.imgur.com/J0Qgc.png","title":"Interfaces extending other interfaces but also containing same methods","body":"<h2>General</h2>\n<p>In general there is no reason to write out the methods you already get from the other interface again. Do not do that.</p>\n<h2>Javadoc</h2>\n<p>In case of <code>Deque</code> however, it is to override the Javadoc, giving more details that are specific to <code>Deque</code> and not to general <code>Queue</code>s.</p>\n<h4>add(E)</h4>\n<p>Compare the source code, example <code>add</code>:</p>\n<p><a href=\"https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/Queue.java#L156\" rel=\"noreferrer\">Queue</a>:</p>\n<pre><code>/**\n * Inserts the specified element into this queue if it is possible to do so\n * immediately without violating capacity restrictions, returning\n * {@code true} upon success and throwing an {@code IllegalStateException}\n * if no space is currently available.\n *\n * @param e the element to add\n * @return {@code true} (as specified by {@link Collection#add})\n * @throws IllegalStateException if the element cannot be added at this\n *         time due to capacity restrictions\n * @throws ClassCastException if the class of the specified element\n *         prevents it from being added to this queue\n * @throws NullPointerException if the specified element is null and\n *         this queue does not permit null elements\n * @throws IllegalArgumentException if some property of this element\n *         prevents it from being added to this queue\n */\nboolean add(E e);\n</code></pre>\n<p><a href=\"https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/Deque.java#L416\" rel=\"noreferrer\">Deque</a>:</p>\n<pre><code>/**\n * Inserts the specified element into the queue represented by this deque\n * (in other words, at the tail of this deque) if it is possible to do so\n * immediately without violating capacity restrictions, returning\n * {@code true} upon success and throwing an\n * {@code IllegalStateException} if no space is currently available.\n * When using a capacity-restricted deque, it is generally preferable to\n * use {@link #offer(Object) offer}.\n *\n * &lt;p&gt;This method is equivalent to {@link #addLast}.\n *\n * @param e the element to add\n * @return {@code true} (as specified by {@link Collection#add})\n * @throws IllegalStateException if the element cannot be added at this\n *         time due to capacity restrictions\n * @throws ClassCastException if the class of the specified element\n *         prevents it from being added to this deque\n * @throws NullPointerException if the specified element is null and this\n *         deque does not permit null elements\n * @throws IllegalArgumentException if some property of the specified\n *         element prevents it from being added to this deque\n */\nboolean add(E e);\n</code></pre>\n<p>The diff:</p>\n<p><a href=\"https://i.stack.imgur.com/J0Qgc.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/J0Qgc.png\" alt=\"difference\" /></a></p>\n<p><sub>(diff created by P4Merge)</sub></p>\n<p>So when you use <code>Deque</code>s <code>add</code> method, you will see another Javadoc than when just using the <code>add</code> method of another <code>Queue</code>.</p>\n"}],"owner":{"account_id":21714721,"reputation":23,"user_id":16025919,"display_name":"James Smith"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73517582,"answer_count":1,"score":2,"last_activity_date":1661680405,"creation_date":1661678952,"question_id":73517501,"body_markdown":"Just looking Java Collections and I see the List interface, which extends the Collection interface, also contains the exact same method signatures in the Collection interface -- but not all of them just a subset. My question is why? Since it extends it, we know it will inherit them all by default. And why a subset? \r\n\r\nThe same can be seen with the Deque extending the Queue, containing all the method signatures of the Queue. Doesn&#39;t this make it harder to know what&#39;s unique about that interface?\r\n\r\nHere is a simple example of the above:\r\n\r\n```java\r\npublic interface A {\r\n   void someMethod();\r\n}\r\n```\r\n```java\r\npublic interface B extends A {\r\n   void someMethod(); // why make this explicit?\r\n   void anotherMethod();\r\n}\r\n```","title":"Interfaces extending other interfaces but also containing same methods","body":"<p>Just looking Java Collections and I see the List interface, which extends the Collection interface, also contains the exact same method signatures in the Collection interface -- but not all of them just a subset. My question is why? Since it extends it, we know it will inherit them all by default. And why a subset?</p>\n<p>The same can be seen with the Deque extending the Queue, containing all the method signatures of the Queue. Doesn't this make it harder to know what's unique about that interface?</p>\n<p>Here is a simple example of the above:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface A {\n   void someMethod();\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public interface B extends A {\n   void someMethod(); // why make this explicit?\n   void anotherMethod();\n}\n</code></pre>\n"},{"tags":["java","c#",".net","spring-boot","jdbctemplate"],"answers":[{"tags":[],"owner":{"account_id":3720263,"reputation":1076,"user_id":3095500,"display_name":"utrucceh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661172745,"creation_date":1661172745,"answer_id":73445441,"question_id":73410453,"body_markdown":"You don&#39;t need to write like that. If you use Entity framework like **eclipseLink** or **hibernate** they are automatically mapping. \r\nFor example with your types:\r\n\r\n    @Entity\r\n    @Table(name = &quot;Product&quot;)\r\n    @XmlRootElement\r\n    public class Product implements Serializable {\r\n    \r\n        private static final long serialVersionUID = 1L;\r\n    \r\n        @Id\r\n        @Basic(optional = false)\r\n        @Column(nullable = false)\r\n        private Long productId;\r\n    \r\n        @Basic(optional = false)\r\n        @Column(name = &quot;PRODUCT_NAME&quot;, nullable = false, length = 200)\r\n        private String productName;\r\n        @OneToMany( mappedBy = &quot;productId&quot;, fetch = FetchType.LAZY)\r\n        private List&lt;Supplier&gt; suppliers;\r\n        @OneToMany( mappedBy = &quot;productId&quot;, fetch = FetchType.LAZY)\r\n        private List&lt;Location&gt; locations;\r\n        \r\n        //set get\r\n    \r\n        \r\n    }\r\n\r\nYou can write your query simply like this:\r\n\r\n    List&lt;Product&gt; lst = em.createQuery(&quot;select a from Product a&quot;,Product.class).getResultList();\r\n    System.out.println(lst.getSuppliers().size());\r\n\r\nEntity framework will automaticly fill those values but in any way I dont recommend this auto fetches for big systems for performance and ram usage.\r\n\r\n","title":"Java JDBC Template Equivalent for EntityFramework Include, map join list into subclass","body":"<p>You don't need to write like that. If you use Entity framework like <strong>eclipseLink</strong> or <strong>hibernate</strong> they are automatically mapping.\nFor example with your types:</p>\n<pre><code>@Entity\n@Table(name = &quot;Product&quot;)\n@XmlRootElement\npublic class Product implements Serializable {\n\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @Basic(optional = false)\n    @Column(nullable = false)\n    private Long productId;\n\n    @Basic(optional = false)\n    @Column(name = &quot;PRODUCT_NAME&quot;, nullable = false, length = 200)\n    private String productName;\n    @OneToMany( mappedBy = &quot;productId&quot;, fetch = FetchType.LAZY)\n    private List&lt;Supplier&gt; suppliers;\n    @OneToMany( mappedBy = &quot;productId&quot;, fetch = FetchType.LAZY)\n    private List&lt;Location&gt; locations;\n    \n    //set get\n\n    \n}\n</code></pre>\n<p>You can write your query simply like this:</p>\n<pre><code>List&lt;Product&gt; lst = em.createQuery(&quot;select a from Product a&quot;,Product.class).getResultList();\nSystem.out.println(lst.getSuppliers().size());\n</code></pre>\n<p>Entity framework will automaticly fill those values but in any way I dont recommend this auto fetches for big systems for performance and ram usage.</p>\n"},{"tags":[],"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1661679024,"creation_date":1661383501,"answer_id":73480426,"question_id":73410453,"body_markdown":"Java offers you different options to implement the desired behavior.\r\n\r\nFirst, as a naive solution, you could try using JDBC directly and iterate over the different results returned by your query, taking into consideration the last fetched result of every type, and build the corresponding object graph on your own.\r\n\r\nFor instance, given the following query (note that it is ordered):\r\n\r\n```sql \r\nselect pr.*, sp.*, loc.* from dbo.Product pr\r\ninner join dbo.Suppliers \r\n   on suppliers.productId = product.productId\r\ninner join dbo.Locations \r\n   on locations.productId = product.productId\r\norder by pr.productId, sp.supplierId, loc.locationId\r\n```\r\n\r\nYou can use something like the following to iterate and build your object graph:\r\n\r\n```java\r\n// You can use PreparedStatement as well if you prefer to\r\nList&lt;Product&gt; products = new ArrayList&lt;&gt;();\r\nLong lastProductId = null;\r\nProduct product = null;\r\nLong lastSupplierId = null;\r\nSupplier supplier = null;\r\nLong lastLocationId = null;\r\nLocation location = null;\r\ntry (Statement stmt = con.createStatement()) {\r\n     ResultSet rs = stmt.executeQuery(query);\r\n  while (rs.next()) {\r\n     Long productId = rs.getLong(&quot;ProductId&quot;);\r\n     if (lastProductId == null || productId != lastProductId) {\r\n       product = new Product();\r\n       products.add(product);\r\n\r\n       product.setProductId(productId);\r\n       product.setProductName(rs.getString(&quot;ProductName&quot;));\r\n       product.setSuppliers(new ArrayList&lt;&gt;());\r\n       product.setLocations(new ArrayList&lt;&gt;());\r\n\r\n       lastProductId = productId;\r\n       lastSupplierId = null;\r\n       lastLocationId = null;\r\n     }\r\n\r\n     // Suppliers\r\n     Long supplierId = rs.getLong(&quot;SupplierId&quot;);\r\n     if (lastSupplierId == null || supplierId != lastSupplierId) {\r\n       supplier = new Supplier();\r\n       product.getSuppliers().add(supplier);\r\n\r\n       supplier.setSupplierId(supplierId);\r\n       //...\r\n\r\n       lastSupplierId = supplierId;\r\n     }\r\n\r\n     // Locations\r\n     Long locationId = rs.getLong(&quot;LocationId&quot;);\r\n     if (lastLocationId == null || locationId != lastLocationId) {\r\n       location = new Location();\r\n       product.getLocations().add(location);\r\n\r\n       location.setLocationId(locationId);\r\n       //...\r\n\r\n       lastLocationId = locationId;\r\n     }\r\n\r\n\r\n  }\r\n} catch (SQLException e) {\r\n  e.printStackTrace();\r\n} \r\n```\r\n\r\nWith `JdbcTemplate` probably the way to go would be using [`queryForList`](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jdbc/core/JdbcTemplate.html#queryForList-java.lang.String-java.lang.Object...-). Consider for instance:\r\n\r\n```java\r\n// Every Map in the list is composed by the column names as keys and \r\n// the corresponding values as values\r\nList&lt;Map&lt;String, Object&gt;&gt; rows = jdbcTemplate.queryForList(productQuery);\r\n\r\n// The same code as above, but taking the information from the result Maps\r\nList&lt;Product&gt; products = new ArrayList&lt;&gt;();\r\nLong lastProductId = null;\r\nProduct product = null;\r\nLong lastSupplierId = null;\r\nSupplier supplier = null;\r\nLong lastLocationId = null;\r\nLocation location = null;\r\nfor (Map row : rows) {\r\n  Long productId = (Long)row.get(&quot;ProductId&quot;);\r\n  if (lastProductId == null || productId != lastProductId) {\r\n     product = new Product();\r\n     products.add(product);\r\n\r\n     product.setProductId(productId);\r\n     product.setProductName((String)row.get(&quot;ProductName&quot;));\r\n     product.setSuppliers(new ArrayList&lt;&gt;());\r\n     product.setLocations(new ArrayList&lt;&gt;());\r\n\r\n     lastProductId = productId;\r\n     lastSupplierId = null;\r\n     lastLocationId = null;\r\n   }\r\n\r\n   // Suppliers\r\n   Long supplierId = (Long)row.get(&quot;supplierId&quot;);\r\n   if (lastSupplierId == null || supplierId != lastSupplierId) {\r\n     supplier = new Supplier();\r\n     product.getSuppliers().add(supplier);\r\n\r\n     supplier.setSupplierId(supplierId);\r\n     //...\r\n\r\n     lastSupplierId = supplierId;\r\n   }\r\n\r\n   // Locations\r\n   Long locationId = (Long)row.get(&quot;locationId&quot;);\r\n   if (lastLocationId == null || locationId != lastLocationId) {\r\n     location = new Location();\r\n     product.getLocations().add(location);\r\n\r\n     location.setLocationId(locationId);\r\n     //...\r\n\r\n     lastLocationId = locationId;\r\n   }\r\n} \r\n\r\n```\r\n\r\nAs you can see, both approaches are neither very extensible nor maintainable, although suitable.\r\n\r\nSimilarly to EntityFramework, Java provides different ORM that you can use to alleviate these problems.\r\n\r\nThe first one is [MyBatis](https://mybatis.org/mybatis-3/getting-started.html).\r\n\r\nSimplifying a lot, with MyBatis you need a `SqlSession`, an artifact that correctly configured will allow you to obtain a reference to a `Mapper`.\r\n\r\nA `Mapper` is just an interface that declares different methods, one per every operation you need to perform against the database. A typical code block will be by like the following:\r\n\r\n```java\r\ntry (SqlSession session = sqlSessionFactory.openSession()) {\r\n  ProductMapper mapper = session.getMapper(ProductMapper.class);\r\n  //...\r\n}\r\n```\r\n\r\nWhere:\r\n\r\n```java\r\npublic interface ProductMapper {\r\n  List&lt;Product&gt; getProducts();\r\n}\r\n```\r\n\r\nFor every `Mapper` you need to provide an associated [XML configuration file](https://mybatis.org/mybatis-3/sqlmap-xml.html). This file will define as namespace the `Mapper` and, typically, for every method defined in the `Mapper`, the appropriate configuration. For example:\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\r\n&lt;!DOCTYPE mapper PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot; &quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot; &gt;\r\n&lt;mapper namespace=my.pkg.ProducMapper&gt;\r\n\r\n  &lt;resultMap id=productWithSuppliersAndLocationsResultMap&quot; type=my.pkg.Product&gt;\r\n\t&lt;id property=productId         column=ProductId /&gt;\r\n    &lt;result property=productName   column=ProductName /&gt;\r\n    &lt;collection property=suppliers ofType=my.pkg.Supplier&gt;\r\n      &lt;id property=supplierId&quot;      column=SupplierId /&gt;\r\n      &lt;! ... /&gt;\r\n    &lt;/collection&gt;\r\n    &lt;collection property=locations ofType=my.pkg.Location&gt;\r\n      &lt;id property=locationId&quot;     column=LocationId /&gt;\r\n      &lt;! ... /&gt;\r\n    &lt;/collection&gt;\r\n  &lt;/resultMap&gt;\r\n\r\n  &lt;select id=getProducts resultMap=&quot;productWithSuppliersAndLocationsResultMap&quot;&gt;\r\n   select pr.*, sp.*, loc.* from dbo.Product pr\r\n                 inner join dbo.Suppliers \r\n                     on suppliers.productId = product.productId\r\n                 inner join dbo.Locations \r\n                     on locations.productId = product.productId\r\n       order by pr.productId, sp.supplierId, loc.locationId\r\n  &lt;/select&gt;\r\n\r\n&lt;/mapper&gt;\r\n```\r\n\r\nAs you can guess, it will use Reflection to populate the different properties from the provided SQL statement according to the provided `resultMap`.\r\n\r\nIt can be easily [integrated with Spring](http://mybatis.org/spring/) as well.\r\n\r\nOne more option, as explained as well by @utrucceh in his/her answer, is the use of [JPA](https://docs.oracle.com/javaee/6/tutorial/doc/bnbpz.html), which is the Java _de jure_ ORM standard.\r\n\r\nTo deal with it, you first need to transform your plain objects in [entities](https://docs.oracle.com/javaee/6/tutorial/doc/bnbqa.html), defining their columns and the relations within them. For example:\r\n\r\n```java\r\n@Entity\r\n@Table(name = &quot;Products&quot;)\r\npublic class Product  {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long productId;\r\n\r\n    @Column(name = ProductName, nullable = false)\r\n    private String productName;\r\n\r\n    @OneToMany(mappedBy = &quot;product&quot;)\r\n    private List&lt;Supplier&gt; suppliers;\r\n\r\n    @OneToMany(mappedBy = &quot;product&quot;)\r\n    private List&lt;Location&gt; locations;\r\n    \r\n    //\r\n\r\n}\r\n\r\n@Entity\r\n@Table(name=Suppliers)\r\npublic class Supplier {\r\n\r\n  @Id\r\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n  private Long supplierId;\r\n\r\n  @ManyToOne(fetch= FetchType.LAZY)\r\n  @JoinColumn(name=productId, nullable = false)\r\n  private Product product;\r\n\r\n  //\r\n\r\n}\r\n\r\n@Entity\r\n@Table(name=Locations)\r\npublic class Location {\r\n\r\n  @Id\r\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n  private Long locationId;\r\n\r\n  @ManyToOne(fetch= FetchType.LAZY)\r\n  @JoinColumn(name=productId, nullable = false)\r\n  private Product product;\r\n\r\n  //\r\n\r\n}\r\n```\r\n\r\nThis object graph can be queried in different ways.\r\n\r\nFor instance, you can use the [Criteria API](https://docs.oracle.com/javaee/6/tutorial/doc/gjitv.html).\r\n\r\nThe code could be something similar to the following:\r\n\r\n```java\r\nEntityManager em = entityManagerFactory.createEntityManager();\r\nCriteriaBuilder cb = em.getCriteriaBuilder();\r\n\r\nCriteriaQuery&lt;Product&gt; query = cb.createQuery(Product.class);\r\nRoot&lt;Product&gt; root = query.from(Product.class);\r\nquery.select(root);\r\n// Using fetchJoin will instruct the ORM to fetch, equivalent in a certain\r\n// way to Include(), your results. The JPA implementation will do it best to\r\n// optimize the way to return the actual information\r\nJoin&lt;Product, Supplier&gt; joinSuppliers = root.fetchJoin(&quot;suppliers&quot;, JoinType.INNER);\r\nJoin&lt;Product, Location&gt; joinLocations = root.fetchJoin(&quot;locations&quot;, JoinType.INNER);\r\nList&lt;Product&gt; results = query.getResultList();\r\n```\r\n\r\n\r\n\r\nAs an alternative, you could provide your SQL query as well, for example:\r\n\r\n```java\r\nEntityManager em = entityManagerFactory.createEntityManager();\r\nQuery query = em.createQuery(\r\n  &quot;SELECT DISTINCT pr FROM Product pr\r\n          INNER JOIN FETCH pr.suppliers s\r\n          INNER JOIN FETCH pr.locations l\r\n  &quot;);\r\nList&lt;Product&gt; resultList = query.getResultList();\r\n```\r\n\r\nSorry for the brevity of the examples, but both JPA and MyBatis are very extensive subjects.\r\n\r\nJPA implementations like [Hibernate](https://hibernate.org/) can be easily integrated with Spring.\r\n\r\nThe [Spring Data JPA](https://spring.io/projects/spring-data-jpa) project provides great value added as well.\r\n\r\nI realize that in my answer I actually didn&#39;t answer your question, I just provided different alternatives to achieve the desired results.\r\n\r\nThe actual answer is no, AFAIK `JdbcTemplate` doesn&#39;t include any functionally similar to the one provided by `Include`.\r\n\r\nIn Entity Framework `Include` identify the set of related entities you want to be fetched with the parent result.\r\n\r\nIn Java, the more similar approach to `Include` will be using JPA, with their entities and relationships as suggested, and the use of `fetchJoin` or a `FETCH JOIN` clause in your SQL query like indicated: that will actually fetch the related entities you need to.","title":"Java JDBC Template Equivalent for EntityFramework Include, map join list into subclass","body":"<p>Java offers you different options to implement the desired behavior.</p>\n<p>First, as a naive solution, you could try using JDBC directly and iterate over the different results returned by your query, taking into consideration the last fetched result of every type, and build the corresponding object graph on your own.</p>\n<p>For instance, given the following query (note that it is ordered):</p>\n<pre class=\"lang-sql prettyprint-override\"><code>select pr.*, sp.*, loc.* from dbo.Product pr\ninner join dbo.Suppliers \n   on suppliers.productId = product.productId\ninner join dbo.Locations \n   on locations.productId = product.productId\norder by pr.productId, sp.supplierId, loc.locationId\n</code></pre>\n<p>You can use something like the following to iterate and build your object graph:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// You can use PreparedStatement as well if you prefer to\nList&lt;Product&gt; products = new ArrayList&lt;&gt;();\nLong lastProductId = null;\nProduct product = null;\nLong lastSupplierId = null;\nSupplier supplier = null;\nLong lastLocationId = null;\nLocation location = null;\ntry (Statement stmt = con.createStatement()) {\n     ResultSet rs = stmt.executeQuery(query);\n  while (rs.next()) {\n     Long productId = rs.getLong(&quot;ProductId&quot;);\n     if (lastProductId == null || productId != lastProductId) {\n       product = new Product();\n       products.add(product);\n\n       product.setProductId(productId);\n       product.setProductName(rs.getString(&quot;ProductName&quot;));\n       product.setSuppliers(new ArrayList&lt;&gt;());\n       product.setLocations(new ArrayList&lt;&gt;());\n\n       lastProductId = productId;\n       lastSupplierId = null;\n       lastLocationId = null;\n     }\n\n     // Suppliers\n     Long supplierId = rs.getLong(&quot;SupplierId&quot;);\n     if (lastSupplierId == null || supplierId != lastSupplierId) {\n       supplier = new Supplier();\n       product.getSuppliers().add(supplier);\n\n       supplier.setSupplierId(supplierId);\n       //...\n\n       lastSupplierId = supplierId;\n     }\n\n     // Locations\n     Long locationId = rs.getLong(&quot;LocationId&quot;);\n     if (lastLocationId == null || locationId != lastLocationId) {\n       location = new Location();\n       product.getLocations().add(location);\n\n       location.setLocationId(locationId);\n       //...\n\n       lastLocationId = locationId;\n     }\n\n\n  }\n} catch (SQLException e) {\n  e.printStackTrace();\n} \n</code></pre>\n<p>With <code>JdbcTemplate</code> probably the way to go would be using <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jdbc/core/JdbcTemplate.html#queryForList-java.lang.String-java.lang.Object...-\" rel=\"nofollow noreferrer\"><code>queryForList</code></a>. Consider for instance:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Every Map in the list is composed by the column names as keys and \n// the corresponding values as values\nList&lt;Map&lt;String, Object&gt;&gt; rows = jdbcTemplate.queryForList(productQuery);\n\n// The same code as above, but taking the information from the result Maps\nList&lt;Product&gt; products = new ArrayList&lt;&gt;();\nLong lastProductId = null;\nProduct product = null;\nLong lastSupplierId = null;\nSupplier supplier = null;\nLong lastLocationId = null;\nLocation location = null;\nfor (Map row : rows) {\n  Long productId = (Long)row.get(&quot;ProductId&quot;);\n  if (lastProductId == null || productId != lastProductId) {\n     product = new Product();\n     products.add(product);\n\n     product.setProductId(productId);\n     product.setProductName((String)row.get(&quot;ProductName&quot;));\n     product.setSuppliers(new ArrayList&lt;&gt;());\n     product.setLocations(new ArrayList&lt;&gt;());\n\n     lastProductId = productId;\n     lastSupplierId = null;\n     lastLocationId = null;\n   }\n\n   // Suppliers\n   Long supplierId = (Long)row.get(&quot;supplierId&quot;);\n   if (lastSupplierId == null || supplierId != lastSupplierId) {\n     supplier = new Supplier();\n     product.getSuppliers().add(supplier);\n\n     supplier.setSupplierId(supplierId);\n     //...\n\n     lastSupplierId = supplierId;\n   }\n\n   // Locations\n   Long locationId = (Long)row.get(&quot;locationId&quot;);\n   if (lastLocationId == null || locationId != lastLocationId) {\n     location = new Location();\n     product.getLocations().add(location);\n\n     location.setLocationId(locationId);\n     //...\n\n     lastLocationId = locationId;\n   }\n} \n\n</code></pre>\n<p>As you can see, both approaches are neither very extensible nor maintainable, although suitable.</p>\n<p>Similarly to EntityFramework, Java provides different ORM that you can use to alleviate these problems.</p>\n<p>The first one is <a href=\"https://mybatis.org/mybatis-3/getting-started.html\" rel=\"nofollow noreferrer\">MyBatis</a>.</p>\n<p>Simplifying a lot, with MyBatis you need a <code>SqlSession</code>, an artifact that correctly configured will allow you to obtain a reference to a <code>Mapper</code>.</p>\n<p>A <code>Mapper</code> is just an interface that declares different methods, one per every operation you need to perform against the database. A typical code block will be by like the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try (SqlSession session = sqlSessionFactory.openSession()) {\n  ProductMapper mapper = session.getMapper(ProductMapper.class);\n  //...\n}\n</code></pre>\n<p>Where:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface ProductMapper {\n  List&lt;Product&gt; getProducts();\n}\n</code></pre>\n<p>For every <code>Mapper</code> you need to provide an associated <a href=\"https://mybatis.org/mybatis-3/sqlmap-xml.html\" rel=\"nofollow noreferrer\">XML configuration file</a>. This file will define as namespace the <code>Mapper</code> and, typically, for every method defined in the <code>Mapper</code>, the appropriate configuration. For example:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\n&lt;!DOCTYPE mapper PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot; &quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot; &gt;\n&lt;mapper namespace=my.pkg.ProducMapper&gt;\n\n  &lt;resultMap id=productWithSuppliersAndLocationsResultMap&quot; type=my.pkg.Product&gt;\n    &lt;id property=productId         column=ProductId /&gt;\n    &lt;result property=productName   column=ProductName /&gt;\n    &lt;collection property=suppliers ofType=my.pkg.Supplier&gt;\n      &lt;id property=supplierId&quot;      column=SupplierId /&gt;\n      &lt;! ... /&gt;\n    &lt;/collection&gt;\n    &lt;collection property=locations ofType=my.pkg.Location&gt;\n      &lt;id property=locationId&quot;     column=LocationId /&gt;\n      &lt;! ... /&gt;\n    &lt;/collection&gt;\n  &lt;/resultMap&gt;\n\n  &lt;select id=getProducts resultMap=&quot;productWithSuppliersAndLocationsResultMap&quot;&gt;\n   select pr.*, sp.*, loc.* from dbo.Product pr\n                 inner join dbo.Suppliers \n                     on suppliers.productId = product.productId\n                 inner join dbo.Locations \n                     on locations.productId = product.productId\n       order by pr.productId, sp.supplierId, loc.locationId\n  &lt;/select&gt;\n\n&lt;/mapper&gt;\n</code></pre>\n<p>As you can guess, it will use Reflection to populate the different properties from the provided SQL statement according to the provided <code>resultMap</code>.</p>\n<p>It can be easily <a href=\"http://mybatis.org/spring/\" rel=\"nofollow noreferrer\">integrated with Spring</a> as well.</p>\n<p>One more option, as explained as well by @utrucceh in his/her answer, is the use of <a href=\"https://docs.oracle.com/javaee/6/tutorial/doc/bnbpz.html\" rel=\"nofollow noreferrer\">JPA</a>, which is the Java <em>de jure</em> ORM standard.</p>\n<p>To deal with it, you first need to transform your plain objects in <a href=\"https://docs.oracle.com/javaee/6/tutorial/doc/bnbqa.html\" rel=\"nofollow noreferrer\">entities</a>, defining their columns and the relations within them. For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;Products&quot;)\npublic class Product  {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long productId;\n\n    @Column(name = ProductName, nullable = false)\n    private String productName;\n\n    @OneToMany(mappedBy = &quot;product&quot;)\n    private List&lt;Supplier&gt; suppliers;\n\n    @OneToMany(mappedBy = &quot;product&quot;)\n    private List&lt;Location&gt; locations;\n    \n    //\n\n}\n\n@Entity\n@Table(name=Suppliers)\npublic class Supplier {\n\n  @Id\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\n  private Long supplierId;\n\n  @ManyToOne(fetch= FetchType.LAZY)\n  @JoinColumn(name=productId, nullable = false)\n  private Product product;\n\n  //\n\n}\n\n@Entity\n@Table(name=Locations)\npublic class Location {\n\n  @Id\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\n  private Long locationId;\n\n  @ManyToOne(fetch= FetchType.LAZY)\n  @JoinColumn(name=productId, nullable = false)\n  private Product product;\n\n  //\n\n}\n</code></pre>\n<p>This object graph can be queried in different ways.</p>\n<p>For instance, you can use the <a href=\"https://docs.oracle.com/javaee/6/tutorial/doc/gjitv.html\" rel=\"nofollow noreferrer\">Criteria API</a>.</p>\n<p>The code could be something similar to the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>EntityManager em = entityManagerFactory.createEntityManager();\nCriteriaBuilder cb = em.getCriteriaBuilder();\n\nCriteriaQuery&lt;Product&gt; query = cb.createQuery(Product.class);\nRoot&lt;Product&gt; root = query.from(Product.class);\nquery.select(root);\n// Using fetchJoin will instruct the ORM to fetch, equivalent in a certain\n// way to Include(), your results. The JPA implementation will do it best to\n// optimize the way to return the actual information\nJoin&lt;Product, Supplier&gt; joinSuppliers = root.fetchJoin(&quot;suppliers&quot;, JoinType.INNER);\nJoin&lt;Product, Location&gt; joinLocations = root.fetchJoin(&quot;locations&quot;, JoinType.INNER);\nList&lt;Product&gt; results = query.getResultList();\n</code></pre>\n<p>As an alternative, you could provide your SQL query as well, for example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>EntityManager em = entityManagerFactory.createEntityManager();\nQuery query = em.createQuery(\n  &quot;SELECT DISTINCT pr FROM Product pr\n          INNER JOIN FETCH pr.suppliers s\n          INNER JOIN FETCH pr.locations l\n  &quot;);\nList&lt;Product&gt; resultList = query.getResultList();\n</code></pre>\n<p>Sorry for the brevity of the examples, but both JPA and MyBatis are very extensive subjects.</p>\n<p>JPA implementations like <a href=\"https://hibernate.org/\" rel=\"nofollow noreferrer\">Hibernate</a> can be easily integrated with Spring.</p>\n<p>The <a href=\"https://spring.io/projects/spring-data-jpa\" rel=\"nofollow noreferrer\">Spring Data JPA</a> project provides great value added as well.</p>\n<p>I realize that in my answer I actually didn't answer your question, I just provided different alternatives to achieve the desired results.</p>\n<p>The actual answer is no, AFAIK <code>JdbcTemplate</code> doesn't include any functionally similar to the one provided by <code>Include</code>.</p>\n<p>In Entity Framework <code>Include</code> identify the set of related entities you want to be fetched with the parent result.</p>\n<p>In Java, the more similar approach to <code>Include</code> will be using JPA, with their entities and relationships as suggested, and the use of <code>fetchJoin</code> or a <code>FETCH JOIN</code> clause in your SQL query like indicated: that will actually fetch the related entities you need to.</p>\n"}],"owner":{"account_id":21004999,"reputation":788,"user_id":15435022,"display_name":"mattsmith5"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":824,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73480426,"answer_count":2,"score":1,"last_activity_date":1661679024,"creation_date":1660865693,"question_id":73410453,"body_markdown":"Does Java JDBC Template have the equivalent of Entity Framework Linq Include? Whats the best way to conduct this if not in the JDBCTemplate library?\r\n\r\nFor example in .Net, the following example would map a single-to-many database relationship into Product Class, with Suppliers and Locations below automatically.\r\n\r\n\r\n**SQL**\r\n\r\n    select * from dbo.Product\r\n    inner join dbo.Suppliers \r\n       on suppliers.productId = product.productId\r\n    inner join dbo.Locations \r\n       on locations.productId = product.productId\r\n\r\n**Target Class:**\r\n\r\n    public class Product{\r\n        private Long productId;\r\n        private String productName;\r\n        private List&lt;Supplier&gt; suppliers; \r\n        private List&lt;Location&gt; locations;   \r\n    }\r\n\r\n\r\n\r\n**C#**\r\n\r\n    List&lt;Product&gt; productList = dbContext.Product.Include(x=&gt;x.Supplier)\r\n                  .Include(x=&gt;x.Location);\r\n\r\n\r\n**Java JDBC Template Proposed Solution:**\r\n\r\nHow can this be done with Java and JDBC Template? Is there a clean way? I am thinking of converting the sql query into JSON for suppliers and locations, and mapping.\r\n\r\n\r\n\r\n    String productQuery = \r\n      SELECT pr.productId\r\n          ,pr.productName\r\n            ,(select *\r\n              from dbo.Supplier supp\r\n            where supp.supplierId = pr.supplierId\r\n          for json auto) as SuppliersJson\r\n            ,(select *\r\n              from dbo.Location loc\r\n            where loc.locationId = pr.locationId\r\n          for json auto) as LocationsJson\r\n      FROM dbo.Product pr;\r\n\r\nWith this, \r\n\r\n    List&lt;Product&gt; products = namedJdbcTemplate.queryForObject(productQuery, new ProductMapper());\r\n\r\n    @Override\r\n    public ProductMapper mapRow(ResultSet rs, int rowNum) throws SQLException {\r\n        Product product = new Product();\r\n        product.setProductId(rs.getLong(&quot;ProductId&quot;));\r\n        product.setProductName(rs.getString(&quot;ProductName&quot;));\r\n        product.setSuppliers(new ObjectMapper().readValue(suppliersJson, Supplier.class));\r\n        product.setLocations(new ObjectMapper().readValue(locationsJson, Location.class));\r\n        return product;\r\n    }\r\n","title":"Java JDBC Template Equivalent for EntityFramework Include, map join list into subclass","body":"<p>Does Java JDBC Template have the equivalent of Entity Framework Linq Include? Whats the best way to conduct this if not in the JDBCTemplate library?</p>\n<p>For example in .Net, the following example would map a single-to-many database relationship into Product Class, with Suppliers and Locations below automatically.</p>\n<p><strong>SQL</strong></p>\n<pre><code>select * from dbo.Product\ninner join dbo.Suppliers \n   on suppliers.productId = product.productId\ninner join dbo.Locations \n   on locations.productId = product.productId\n</code></pre>\n<p><strong>Target Class:</strong></p>\n<pre><code>public class Product{\n    private Long productId;\n    private String productName;\n    private List&lt;Supplier&gt; suppliers; \n    private List&lt;Location&gt; locations;   \n}\n</code></pre>\n<p><strong>C#</strong></p>\n<pre><code>List&lt;Product&gt; productList = dbContext.Product.Include(x=&gt;x.Supplier)\n              .Include(x=&gt;x.Location);\n</code></pre>\n<p><strong>Java JDBC Template Proposed Solution:</strong></p>\n<p>How can this be done with Java and JDBC Template? Is there a clean way? I am thinking of converting the sql query into JSON for suppliers and locations, and mapping.</p>\n<pre><code>String productQuery = \n  SELECT pr.productId\n      ,pr.productName\n        ,(select *\n          from dbo.Supplier supp\n        where supp.supplierId = pr.supplierId\n      for json auto) as SuppliersJson\n        ,(select *\n          from dbo.Location loc\n        where loc.locationId = pr.locationId\n      for json auto) as LocationsJson\n  FROM dbo.Product pr;\n</code></pre>\n<p>With this,</p>\n<pre><code>List&lt;Product&gt; products = namedJdbcTemplate.queryForObject(productQuery, new ProductMapper());\n\n@Override\npublic ProductMapper mapRow(ResultSet rs, int rowNum) throws SQLException {\n    Product product = new Product();\n    product.setProductId(rs.getLong(&quot;ProductId&quot;));\n    product.setProductName(rs.getString(&quot;ProductName&quot;));\n    product.setSuppliers(new ObjectMapper().readValue(suppliersJson, Supplier.class));\n    product.setLocations(new ObjectMapper().readValue(locationsJson, Location.class));\n    return product;\n}\n</code></pre>\n"},{"tags":["java","ebean","db2-400"],"comments":[{"owner":{"account_id":904213,"reputation":1004,"user_id":939484,"display_name":"Dam"},"score":0,"creation_date":1650056626,"post_id":71888158,"comment_id":127034063,"body_markdown":"Data is too big to use a transaction and do a rollback if anything go wrong?","body":"Data is too big to use a transaction and do a rollback if anything go wrong?"}],"answers":[{"tags":[],"owner":{"account_id":24018229,"reputation":313,"user_id":18000902,"display_name":"Omar Hussien"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661679019,"creation_date":1661679019,"answer_id":73517510,"question_id":71888158,"body_markdown":"you can use **Savepoint** see [savepoints in ebean][1]:\r\n\r\n\r\n**transaction.setNestedUseSavepoint()** :\r\n\r\n&gt; can use transaction.setNestedUseSavepoint() to enable it to use Savepoint for nested transactions. This means that these nested transactions can be rolled back leaving the outer transaction to continue and potentially commit\r\n\r\n    // start &#39;outer&#39; transaction\r\n    try (Transaction outerTxn = database.beginTransaction()) {\r\n\r\n      outerTxn.setNestedUseSavepoint();\r\n\r\n      // save backup here...\r\n      \r\n\r\n      try (Transaction nestedTransaction = database.beginTransaction()) {\r\n        // nested transaction is a savepoint ...\r\n\r\n            // do some piece of work which we might want to either commit or   rollback ...\r\n        otherBean.save();\r\n\r\n        if (...) {\r\n          nestedTransaction.rollback();\r\n\r\n        } else {\r\n          nestedTransaction.commit();\r\n        }\r\n      }\r\n\r\n      // continue using &#39;outer&#39; transaction ...\r\n\r\n      outerTxn.commit();\r\n    }\r\n\r\n  [1]: https://ebean.io/docs/transactions/savepoints","title":"Temporary backup tables, if process fails restore","body":"<p>you can use <strong>Savepoint</strong> see <a href=\"https://ebean.io/docs/transactions/savepoints\" rel=\"nofollow noreferrer\">savepoints in ebean</a>:</p>\n<p><strong>transaction.setNestedUseSavepoint()</strong> :</p>\n<blockquote>\n<p>can use transaction.setNestedUseSavepoint() to enable it to use Savepoint for nested transactions. This means that these nested transactions can be rolled back leaving the outer transaction to continue and potentially commit</p>\n</blockquote>\n<pre><code>// start 'outer' transaction\ntry (Transaction outerTxn = database.beginTransaction()) {\n\n  outerTxn.setNestedUseSavepoint();\n\n  // save backup here...\n  \n\n  try (Transaction nestedTransaction = database.beginTransaction()) {\n    // nested transaction is a savepoint ...\n\n        // do some piece of work which we might want to either commit or   rollback ...\n    otherBean.save();\n\n    if (...) {\n      nestedTransaction.rollback();\n\n    } else {\n      nestedTransaction.commit();\n    }\n  }\n\n  // continue using 'outer' transaction ...\n\n  outerTxn.commit();\n}\n</code></pre>\n"}],"owner":{"account_id":1457901,"reputation":420,"user_id":1373031,"accept_rate":75,"display_name":"Peter"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661679019,"creation_date":1650051028,"question_id":71888158,"body_markdown":"I have an application that periodically downloads a large XML and saves it into a database. What is the proper way to deal with failure during the insertion process. Current process:\r\n\r\n1. download XML\r\n2. parse XML\r\n3. clear current data\r\n4. insert data into database &lt;= spans thousands of rows over 8 different tables\r\n\r\nI would like to be able to do a backup before step 4 and if step 4 fails restore the data from backup. Currently using ebean to do persistence. I was trying to use temporary tables and copy all data there and if case of failure copy data back, but I am not sure how to hold on to a single session while waiting for 4 to finish.","title":"Temporary backup tables, if process fails restore","body":"<p>I have an application that periodically downloads a large XML and saves it into a database. What is the proper way to deal with failure during the insertion process. Current process:</p>\n<ol>\n<li>download XML</li>\n<li>parse XML</li>\n<li>clear current data</li>\n<li>insert data into database &lt;= spans thousands of rows over 8 different tables</li>\n</ol>\n<p>I would like to be able to do a backup before step 4 and if step 4 fails restore the data from backup. Currently using ebean to do persistence. I was trying to use temporary tables and copy all data there and if case of failure copy data back, but I am not sure how to hold on to a single session while waiting for 4 to finish.</p>\n"},{"tags":["java","file","exception","interface"],"comments":[{"owner":{"account_id":3519324,"reputation":1,"user_id":2942023,"display_name":"user2942023"},"score":0,"creation_date":1384809196,"post_id":20057972,"comment_id":29876702,"body_markdown":"of course! what class do you need?","body":"of course! what class do you need?"},{"owner":{"account_id":893424,"reputation":725,"user_id":931258,"display_name":"SimplyPanda"},"score":0,"creation_date":1384809369,"post_id":20057972,"comment_id":29876794,"body_markdown":"Preferably both the interface and the class that implements it.","body":"Preferably both the interface and the class that implements it."},{"owner":{"account_id":3519324,"reputation":1,"user_id":2942023,"display_name":"user2942023"},"score":0,"creation_date":1384809453,"post_id":20057972,"comment_id":29876842,"body_markdown":"public interface Playable {\n\t\n\tpublic void ImprimirDatos();\n\n}","body":"public interface Playable { \t \tpublic void ImprimirDatos();  }"},{"owner":{"account_id":893424,"reputation":725,"user_id":931258,"display_name":"SimplyPanda"},"score":0,"creation_date":1384809503,"post_id":20057972,"comment_id":29876876,"body_markdown":"Preferably edit it into the question in a readable manner.","body":"Preferably edit it into the question in a readable manner."},{"owner":{"account_id":3519324,"reputation":1,"user_id":2942023,"display_name":"user2942023"},"score":0,"creation_date":1384809509,"post_id":20057972,"comment_id":29876879,"body_markdown":"public void ImprimirDatos(){\n\t\tSystem.out.println (&quot;TITULO PELICULA: &quot; + getTitulo());\n\t\tSystem.out.println (&quot;DIRECTOR: &quot; + getDirector());\n\t\tSystem.out.println (&quot;ACTOR PRINCIPAL: &quot; + getActor() );\n\t\tSystem.out.println (&quot;FECHA: &quot; + getFecha());\n\t}","body":"public void ImprimirDatos(){ \t\tSystem.out.println (&quot;TITULO PELICULA: &quot; + getTitulo()); \t\tSystem.out.println (&quot;DIRECTOR: &quot; + getDirector()); \t\tSystem.out.println (&quot;ACTOR PRINCIPAL: &quot; + getActor() ); \t\tSystem.out.println (&quot;FECHA: &quot; + getFecha()); \t}"},{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":1,"creation_date":1384809716,"post_id":20057972,"comment_id":29876991,"body_markdown":"It seems that the problem is with you operating with different `Serial Versions` of the class.","body":"It seems that the problem is with you operating with different <code>Serial Versions</code> of the class."},{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":0,"creation_date":1384809836,"post_id":20057972,"comment_id":29877047,"body_markdown":"This is not a compilation error but `run-time exception`. Do you get compilation error(s) as well?","body":"This is not a compilation error but <code>run-time exception</code>. Do you get compilation error(s) as well?"},{"owner":{"account_id":3519324,"reputation":1,"user_id":2942023,"display_name":"user2942023"},"score":0,"creation_date":1384814668,"post_id":20057972,"comment_id":29879410,"body_markdown":"I have edit the question and i have put the code of the interface and the function","body":"I have edit the question and i have put the code of the interface and the function"}],"answers":[{"tags":[],"owner":{"account_id":7421,"reputation":20226,"user_id":12890,"accept_rate":83,"display_name":"Arne Burmeister"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1384810919,"creation_date":1384810919,"answer_id":20058532,"question_id":20057972,"body_markdown":"You (or the library you use) have changed the class `Teatro` to create another serial format (changed/added/removed a member, changed the superclass, ...) **after** you have written an object of class `Teatro` to a stream.\r\n\r\nIf you are really sure, use a fixed id:\r\n\r\n    public class Teatro implements Serializable {\r\n      private static final long serialVersionUID = -8638492166751354209L;\r\n    \r\n      ...\r\n    }\r\n\r\n","title":"implement interface in java","body":"<p>You (or the library you use) have changed the class <code>Teatro</code> to create another serial format (changed/added/removed a member, changed the superclass, ...) <strong>after</strong> you have written an object of class <code>Teatro</code> to a stream.</p>\n\n<p>If you are really sure, use a fixed id:</p>\n\n<pre><code>public class Teatro implements Serializable {\n  private static final long serialVersionUID = -8638492166751354209L;\n\n  ...\n}\n</code></pre>\n"}],"owner":{"account_id":3519324,"reputation":1,"user_id":2942023,"display_name":"user2942023"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":162,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661678574,"creation_date":1384809018,"question_id":20057972,"body_markdown":"I am using an interface in java. I want to put the data in a file and when i compile the program appear this error:\r\n\r\n    java.io.InvalidClassException: Teatro; local class incompatible: stream classdesc      serialVersionUID = -8638492166751354209, local class serialVersionUID = 8721614984870769537\r\n\tat java.io.ObjectStreamClass.initNonProxy(Unknown Source)\r\n\tat java.io.ObjectInputStream.readNonProxyDesc(Unknown Source)\r\n\tat java.io.ObjectInputStream.readClassDesc(Unknown Source)\r\n\tat java.io.ObjectInputStream.readOrdinaryObject(Unknown Source)\r\n\tat java.io.ObjectInputStream.readObject0(Unknown Source)\r\n\tat java.io.ObjectInputStream.readObject(Unknown Source)\r\n\tat CarteleraProg.main(CarteleraProg.java:107)\r\n\r\n&gt; error Teatro; local class incompatible: stream classdesc\r\n&gt; serialVersionUID = -8638492166751354209, local class serialVersionUID\r\n&gt; = 8721614984870769537\r\n\r\n     public interface Playable {\r\n\t\r\n\tpublic void ImprimirDatos();\r\n\r\n     }\r\n\r\n     public void ImprimirDatos(){\r\n\tSystem.out.println (&quot;TITULO TEATRO: &quot; + getTitulo());\r\n\tSystem.out.println (&quot;DIRECTOR: &quot; + getDirector());\r\n\tSystem.out.println (&quot;ESCENOGRAFO: &quot; + getEsceno() );\r\n\tSystem.out.println (&quot;FECHA: &quot; + getFecha());\r\n       }\r\nWhat can i do to solve that?\r\n\r\nThank you very much","title":"implement interface in java","body":"<p>I am using an interface in java. I want to put the data in a file and when i compile the program appear this error:</p>\n\n<pre><code>java.io.InvalidClassException: Teatro; local class incompatible: stream classdesc      serialVersionUID = -8638492166751354209, local class serialVersionUID = 8721614984870769537\nat java.io.ObjectStreamClass.initNonProxy(Unknown Source)\nat java.io.ObjectInputStream.readNonProxyDesc(Unknown Source)\nat java.io.ObjectInputStream.readClassDesc(Unknown Source)\nat java.io.ObjectInputStream.readOrdinaryObject(Unknown Source)\nat java.io.ObjectInputStream.readObject0(Unknown Source)\nat java.io.ObjectInputStream.readObject(Unknown Source)\nat CarteleraProg.main(CarteleraProg.java:107)\n</code></pre>\n\n<blockquote>\n  <p>error Teatro; local class incompatible: stream classdesc\n  serialVersionUID = -8638492166751354209, local class serialVersionUID\n  = 8721614984870769537</p>\n</blockquote>\n\n<pre><code> public interface Playable {\n\npublic void ImprimirDatos();\n\n }\n\n public void ImprimirDatos(){\nSystem.out.println (\"TITULO TEATRO: \" + getTitulo());\nSystem.out.println (\"DIRECTOR: \" + getDirector());\nSystem.out.println (\"ESCENOGRAFO: \" + getEsceno() );\nSystem.out.println (\"FECHA: \" + getFecha());\n   }\n</code></pre>\n\n<p>What can i do to solve that?</p>\n\n<p>Thank you very much</p>\n"},{"tags":["java","interface"],"comments":[{"owner":{"account_id":8326,"reputation":258545,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":4,"creation_date":1282284041,"post_id":3528420,"comment_id":3691520,"body_markdown":"possible duplicate of [Why we are Implementing Interfaces ?](http://stackoverflow.com/questions/1583654/why-we-are-implementing-interfaces)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/1583654/why-we-are-implementing-interfaces\">Why we are Implementing Interfaces ?</a>"},{"owner":{"account_id":1286307,"reputation":631,"user_id":1239295,"accept_rate":67,"display_name":"Bruce Sun"},"score":1,"creation_date":1467688544,"post_id":3528420,"comment_id":63814441,"body_markdown":"Also a good explanation [here](http://programmers.stackexchange.com/a/131334/146150).","body":"Also a good explanation <a href=\"http://programmers.stackexchange.com/a/131334/146150\">here</a>."}],"answers":[{"tags":[],"owner":{"display_name":"user377136"},"down_vote_count":0,"up_vote_count":55,"is_accepted":false,"score":55,"last_activity_date":1282282990,"creation_date":1282282990,"answer_id":3528446,"question_id":3528420,"body_markdown":"I would say the main use is polymorphism, or the ability to perform the same operation on a number of different objects. If different objects all implement the same interface and have the same method, you can store all of those objects in a Vector, for example, and iterate through the Vector calling that method on each one. ","title":"Why do we need interfaces in Java?","body":"<p>I would say the main use is polymorphism, or the ability to perform the same operation on a number of different objects. If different objects all implement the same interface and have the same method, you can store all of those objects in a Vector, for example, and iterate through the Vector calling that method on each one. </p>\n"},{"tags":[],"owner":{"account_id":86477,"reputation":192886,"user_id":240443,"accept_rate":79,"display_name":"Amadan"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1282283027,"creation_date":1282283027,"answer_id":3528447,"question_id":3528420,"body_markdown":"You need them so you can type your objects outside the hierarchy.\r\n\r\nFor example, the objects that can be compared can be pretty much anywhere on the object hierarchy - they do not need to have a common ancestor which can be compared. `String`s can be compared, `Integer`s can be compared, you could even make your own `Frame`s that could be compared (say, a frame is &quot;less&quot; than another frame if it is more in the foreground - i.e. if it would overlay the other frame). Thus, if you want to refer to a thing that can be compared, you would be forced to declare a variable with the most general ancestor - in this case, `Object`. This is too general, because then it can also receive values which are not comparable (and would throw errors when you try to compare them).\r\n\r\nThus, the interface `Comparable`: it selects all the classes that implement the comparison functionality *across* the subclass-superclass hierarchy.","title":"Why do we need interfaces in Java?","body":"<p>You need them so you can type your objects outside the hierarchy.</p>\n\n<p>For example, the objects that can be compared can be pretty much anywhere on the object hierarchy - they do not need to have a common ancestor which can be compared. <code>String</code>s can be compared, <code>Integer</code>s can be compared, you could even make your own <code>Frame</code>s that could be compared (say, a frame is \"less\" than another frame if it is more in the foreground - i.e. if it would overlay the other frame). Thus, if you want to refer to a thing that can be compared, you would be forced to declare a variable with the most general ancestor - in this case, <code>Object</code>. This is too general, because then it can also receive values which are not comparable (and would throw errors when you try to compare them).</p>\n\n<p>Thus, the interface <code>Comparable</code>: it selects all the classes that implement the comparison functionality <em>across</em> the subclass-superclass hierarchy.</p>\n"},{"tags":[],"owner":{"account_id":142896,"reputation":35109,"user_id":350890,"accept_rate":100,"display_name":"Peter Tillemans"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1375198561,"creation_date":1282284801,"answer_id":3528552,"question_id":3528420,"body_markdown":"In addition to these responses I would say the most important use for interfaces is to reduce coupling between components in your software.\r\n\r\nAn interface allows to represent an agreement between classes on how they will talk to each other without being tied to the actual implementations. \r\n\r\nThis allows us to replace implementations by others (very useful for testing, or changing use cases) without changing the compiled code.","title":"Why do we need interfaces in Java?","body":"<p>In addition to these responses I would say the most important use for interfaces is to reduce coupling between components in your software.</p>\n\n<p>An interface allows to represent an agreement between classes on how they will talk to each other without being tied to the actual implementations. </p>\n\n<p>This allows us to replace implementations by others (very useful for testing, or changing use cases) without changing the compiled code.</p>\n"},{"tags":[],"owner":{"account_id":1295433,"reputation":3,"user_id":1624708,"display_name":"Danny Crossley"},"down_vote_count":7,"up_vote_count":1,"is_accepted":false,"score":-6,"last_activity_date":1348644703,"creation_date":1348486297,"answer_id":12564187,"question_id":3528420,"body_markdown":"Some code won&#39;t compile without it.\r\n\r\nFor example, in:\r\n\r\n    for (String name : list)\r\n    {\r\n        System.out.print(&quot;\\nIn foreach loop: name: &quot; + name);\r\n    }\r\n\r\n`list` must implement the `java.lang.Iterable interface`.","title":"Why do we need interfaces in Java?","body":"<p>Some code won't compile without it.</p>\n\n<p>For example, in:</p>\n\n<pre><code>for (String name : list)\n{\n    System.out.print(\"\\nIn foreach loop: name: \" + name);\n}\n</code></pre>\n\n<p><code>list</code> must implement the <code>java.lang.Iterable interface</code>.</p>\n"},{"tags":[],"owner":{"account_id":431656,"reputation":3970,"user_id":815864,"accept_rate":70,"display_name":"Thein"},"down_vote_count":1,"up_vote_count":51,"is_accepted":false,"score":50,"last_activity_date":1513277473,"creation_date":1371542295,"answer_id":17163473,"question_id":3528420,"body_markdown":"I was also thinking about how interfaces are used. I hope this will help others:\r\n\r\n&gt; An interface is a contract (or a protocol, or a common understanding)\r\n&gt; of what the classes can do. When a class implements a certain\r\n&gt; interface, it promises to provide implementation to all the abstract\r\n&gt; methods declared in the interface. Interface defines a set of common\r\n&gt; behaviors. The classes implement the interface agree to these\r\n&gt; behaviors and provide their own implementation to the behaviors. This\r\n&gt; allows you to program at the interface, instead of the actual\r\n&gt; implementation. One of the main usage of interface is provide a\r\n&gt; communication contract between two objects. If you know a class\r\n&gt; implements an interface, then you know that class contains concrete\r\n&gt; implementations of the methods declared in that interface, and you are\r\n&gt; guaranteed to be able to invoke these methods safely. In other words,\r\n&gt; two objects can communicate based on the contract defined in the\r\n&gt; interface, instead of their specific implementation.\r\n&gt; \r\n&gt; Secondly, Java does not support multiple inheritance (whereas C++\r\n&gt; does). Multiple inheritance permits you to derive a subclass from more\r\n&gt; than one direct superclass. This poses a problem if two direct\r\n&gt; superclasses have conflicting implementations. (Which one to follow in\r\n&gt; the subclass?). However, multiple inheritance does have its place.\r\n&gt; Java does this by permitting you to &quot;implements&quot; more than one\r\n&gt; interfaces (but you can only &quot;extends&quot; from a single superclass).\r\n&gt; Since interfaces contain only abstract methods without actual\r\n&gt; implementation, no conflict can arise among the multiple interfaces.\r\n&gt; (Interface can hold constants but is not recommended. If a subclass\r\n&gt; implements two interfaces with conflicting constants, the compiler\r\n&gt; will flag out a compilation error.)\r\n\r\nfrom: http://www.ntu.edu.sg/home/ehchua/programming/java/J3b_OOPInheritancePolymorphism.html#zz-6.6","title":"Why do we need interfaces in Java?","body":"<p>I was also thinking about how interfaces are used. I hope this will help others:</p>\n\n<blockquote>\n  <p>An interface is a contract (or a protocol, or a common understanding)\n  of what the classes can do. When a class implements a certain\n  interface, it promises to provide implementation to all the abstract\n  methods declared in the interface. Interface defines a set of common\n  behaviors. The classes implement the interface agree to these\n  behaviors and provide their own implementation to the behaviors. This\n  allows you to program at the interface, instead of the actual\n  implementation. One of the main usage of interface is provide a\n  communication contract between two objects. If you know a class\n  implements an interface, then you know that class contains concrete\n  implementations of the methods declared in that interface, and you are\n  guaranteed to be able to invoke these methods safely. In other words,\n  two objects can communicate based on the contract defined in the\n  interface, instead of their specific implementation.</p>\n  \n  <p>Secondly, Java does not support multiple inheritance (whereas C++\n  does). Multiple inheritance permits you to derive a subclass from more\n  than one direct superclass. This poses a problem if two direct\n  superclasses have conflicting implementations. (Which one to follow in\n  the subclass?). However, multiple inheritance does have its place.\n  Java does this by permitting you to \"implements\" more than one\n  interfaces (but you can only \"extends\" from a single superclass).\n  Since interfaces contain only abstract methods without actual\n  implementation, no conflict can arise among the multiple interfaces.\n  (Interface can hold constants but is not recommended. If a subclass\n  implements two interfaces with conflicting constants, the compiler\n  will flag out a compilation error.)</p>\n</blockquote>\n\n<p>from: <a href=\"http://www.ntu.edu.sg/home/ehchua/programming/java/J3b_OOPInheritancePolymorphism.html#zz-6.6\" rel=\"noreferrer\">http://www.ntu.edu.sg/home/ehchua/programming/java/J3b_OOPInheritancePolymorphism.html#zz-6.6</a></p>\n"},{"tags":[],"owner":{"account_id":23895789,"reputation":21,"user_id":17894788,"display_name":"Rohini Patil"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1645122798,"creation_date":1645122798,"answer_id":71163612,"question_id":3528420,"body_markdown":"We need interfaces :\r\n1. To achieve total abstraction.\r\n2. To achieve security.\r\n3. Java doesn&#39;t allow multiple inheritance but it can be achieved by implementing multiples interfaces.","title":"Why do we need interfaces in Java?","body":"<p>We need interfaces :</p>\n<ol>\n<li>To achieve total abstraction.</li>\n<li>To achieve security.</li>\n<li>Java doesn't allow multiple inheritance but it can be achieved by implementing multiples interfaces.</li>\n</ol>\n"}],"owner":{"account_id":643209,"reputation":3263,"user_id":426008,"accept_rate":0,"display_name":"Vinoth Kumar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102831,"favorite_count":0,"down_vote_count":0,"up_vote_count":72,"answer_count":6,"score":72,"last_activity_date":1661678276,"creation_date":1282282576,"question_id":3528420,"body_markdown":"In Java to implement multiple inheritance we use interfaces. Is it the only use of interfaces? If yes, what is the main use of interface in Java? Why do we need interfaces in Java?","title":"Why do we need interfaces in Java?","body":"<p>In Java to implement multiple inheritance we use interfaces. Is it the only use of interfaces? If yes, what is the main use of interface in Java? Why do we need interfaces in Java?</p>\n"},{"tags":["java","stdout","stderr"],"comments":[{"owner":{"account_id":284109,"reputation":47153,"user_id":581994,"accept_rate":57,"display_name":"Hot Licks"},"score":0,"creation_date":1353451519,"post_id":13483443,"comment_id":18448958,"body_markdown":"This is pretty much the norm for *NIX commands.","body":"This is pretty much the norm for *NIX commands."},{"owner":{"account_id":358715,"reputation":1714,"user_id":699665,"display_name":"MarkHu"},"score":2,"creation_date":1503612461,"post_id":13483443,"comment_id":78702128,"body_markdown":"Sadly, `javac -version` is also odd that way. Workaround: `java -version 2&gt;&amp;1 | egrep &#39;java|version&#39; --color`","body":"Sadly, <code>javac -version</code> is also odd that way. Workaround: <code>java -version 2&gt;&amp;1 | egrep &#39;java|version&#39; --color</code>"}],"answers":[{"tags":[],"owner":{"account_id":411142,"reputation":34084,"user_id":783412,"accept_rate":100,"display_name":"hd1"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1353451428,"creation_date":1353451428,"answer_id":13483485,"question_id":13483443,"body_markdown":"The workaround for this problem is:\r\n\r\n    java -version 2&gt; java_version.txt","title":"Why does &#39;java -version&#39; go to stderr?","body":"<p>The workaround for this problem is:</p>\n\n<pre><code>java -version 2&gt; java_version.txt\n</code></pre>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":1,"up_vote_count":31,"is_accepted":true,"score":30,"last_activity_date":1661677556,"creation_date":1353451595,"answer_id":13483519,"question_id":13483443,"body_markdown":"&gt; Is there any special reason for the results of java -version going to stderr?\r\n\r\nAFAIK, there is no special reason.  It is just how the `java` command was / is implemented.  Probably all the way back to Java 1.0, though it would be very difficult to verify that.\r\n\r\nMy brief investigation shows that this behavior is *inconsistent* with how most Linux commands behave ... everything else I&#39;ve tried uses stdout for version information.  (After all, the version information is not &quot;error&quot; output.)  \r\n\r\nNote however `--version` / `-version` options are a convention rather than something required by any formal standard.  (The [GNU coding standards][1] state that commands should implement `--version` and that version info should be written to standard output.  But POSIX standards don&#39;t mention this, nor do the LSB standards.)\r\n\r\n------------------\r\n\r\nWhat can / should you do?\r\n\r\n - It should be easy to capture stderr instead of stdout in your shell script or batch file.\r\n - There shouldn&#39;t be any risk in doing this.  Oracle cannot change the Java tool chains to send `-version` output to stdout without potentially breaking customer scripts.  This is highly unlikely&lt;sup&gt;1&lt;/sup&gt;.\r\n\r\n&lt;sup&gt;1 - Here is evidence of just how unlikely it is: https://bugs.java.com/bugdatabase/view_bug.do?bug_id=4380614.  Note the &quot;Resolution: Wont Fix&quot; ... and the final comment.&lt;/sup&gt;\r\n\r\n------------------\r\n\r\n**UPDATE**\r\n\r\nIn Java 9, they introduced some new &quot;version&quot; command line options.  If you run `java -help 2&gt;&amp;1 | grep version` against a Java 11 installation you will see the following:\r\n\r\n    $ java -help 2&gt;&amp;1 | grep version\r\n        -version      print product version to the error stream and exit\r\n        --version     print product version to the output stream and exit\r\n        -showversion  print product version to the error stream and continue\r\n        --show-version\r\n                      print product version to the output stream and continue.\r\n\r\nSo if you are using Java 11 LTS or later, the solution will be to use `--version` rather that `-version` to get the version information.\r\n\r\n\r\n  [1]: http://www.gnu.org/prep/standards/html_node/_002d_002dversion.html","title":"Why does &#39;java -version&#39; go to stderr?","body":"<blockquote>\n<p>Is there any special reason for the results of java -version going to stderr?</p>\n</blockquote>\n<p>AFAIK, there is no special reason.  It is just how the <code>java</code> command was / is implemented.  Probably all the way back to Java 1.0, though it would be very difficult to verify that.</p>\n<p>My brief investigation shows that this behavior is <em>inconsistent</em> with how most Linux commands behave ... everything else I've tried uses stdout for version information.  (After all, the version information is not &quot;error&quot; output.)</p>\n<p>Note however <code>--version</code> / <code>-version</code> options are a convention rather than something required by any formal standard.  (The <a href=\"http://www.gnu.org/prep/standards/html_node/_002d_002dversion.html\" rel=\"nofollow noreferrer\">GNU coding standards</a> state that commands should implement <code>--version</code> and that version info should be written to standard output.  But POSIX standards don't mention this, nor do the LSB standards.)</p>\n<hr />\n<p>What can / should you do?</p>\n<ul>\n<li>It should be easy to capture stderr instead of stdout in your shell script or batch file.</li>\n<li>There shouldn't be any risk in doing this.  Oracle cannot change the Java tool chains to send <code>-version</code> output to stdout without potentially breaking customer scripts.  This is highly unlikely<sup>1</sup>.</li>\n</ul>\n<p><sup>1 - Here is evidence of just how unlikely it is: <a href=\"https://bugs.java.com/bugdatabase/view_bug.do?bug_id=4380614\" rel=\"nofollow noreferrer\">https://bugs.java.com/bugdatabase/view_bug.do?bug_id=4380614</a>.  Note the &quot;Resolution: Wont Fix&quot; ... and the final comment.</sup></p>\n<hr />\n<p><strong>UPDATE</strong></p>\n<p>In Java 9, they introduced some new &quot;version&quot; command line options.  If you run <code>java -help 2&gt;&amp;1 | grep version</code> against a Java 11 installation you will see the following:</p>\n<pre><code>$ java -help 2&gt;&amp;1 | grep version\n    -version      print product version to the error stream and exit\n    --version     print product version to the output stream and exit\n    -showversion  print product version to the error stream and continue\n    --show-version\n                  print product version to the output stream and continue.\n</code></pre>\n<p>So if you are using Java 11 LTS or later, the solution will be to use <code>--version</code> rather that <code>-version</code> to get the version information.</p>\n"}],"owner":{"account_id":3108,"reputation":10370,"user_id":4411,"accept_rate":87,"display_name":"Jagger"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4811,"favorite_count":0,"down_vote_count":0,"up_vote_count":28,"accepted_answer_id":13483519,"answer_count":2,"score":28,"last_activity_date":1661677556,"creation_date":1353451238,"question_id":13483443,"body_markdown":"Is there any special reason for the results of `java -version` going to `stderr`?\r\n\r\nFor example, this command executed from Windows&#39; prompt line:\r\n\r\n    java -version &gt; java_version.txt\r\n\r\nleaves the file `java_version.txt` empty.\r\n\r\nEDIT: The same happens with the help printed out after executing `java.exe` without any parameters.\r\n\r\nEDIT: Just out of a sheer curiosity I checked whether it has been always like that and it turned out it actually has. `java -version` goes to `stderr` in JDK 1.1.8 and also in JDK 1.2.2, however the outputs of `java.exe` without any parameters do not.","title":"Why does &#39;java -version&#39; go to stderr?","body":"<p>Is there any special reason for the results of <code>java -version</code> going to <code>stderr</code>?</p>\n\n<p>For example, this command executed from Windows' prompt line:</p>\n\n<pre><code>java -version &gt; java_version.txt\n</code></pre>\n\n<p>leaves the file <code>java_version.txt</code> empty.</p>\n\n<p>EDIT: The same happens with the help printed out after executing <code>java.exe</code> without any parameters.</p>\n\n<p>EDIT: Just out of a sheer curiosity I checked whether it has been always like that and it turned out it actually has. <code>java -version</code> goes to <code>stderr</code> in JDK 1.1.8 and also in JDK 1.2.2, however the outputs of <code>java.exe</code> without any parameters do not.</p>\n"},{"tags":["java","generics","strategy-pattern","generic-type-parameters"],"comments":[{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1661637035,"post_id":73514616,"comment_id":129820326,"body_markdown":"Sounds like your storage requirement is that things conform to a storable interface?","body":"Sounds like your storage requirement is that things conform to a storable interface?"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1661659004,"post_id":73514616,"comment_id":129822478,"body_markdown":"Looks like this is a question about Java generics, not actually a question about the diamond operator.","body":"Looks like this is a question about Java generics, not actually a question about the diamond operator."}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1661639153,"creation_date":1661638632,"answer_id":73514748,"question_id":73514616,"body_markdown":"In the second code sample in the declaration of the interface `StorageStrategy&lt;MyThingToStore&gt;`, `MyThingToStore` is a [Type Variable](https://docs.oracle.com/javase/specs/jls/se17/html/jls-4.html#jls-4.4).\r\n\r\nI.e. it&#39;s not the actual type, only a placeholder for a type, like `T`. The common convention is to use single-letter generic *type variables* (`T`, `U`, `R`, etc.), otherwise it might look confusing like in this case.\r\n\r\n**Note** that in the class declarations, like:\r\n```\r\npublic class StorageUsingArrayListStrategy \r\n    implements StorageStrategy&lt;MyThingToStore&gt;\r\n```\r\n`MyThingToStore` is no longer a *type variable*, but the name of the class `MyThingToStore` because in this case *parameterized* interface is implemented by a *non-parameterized* class (i.e. the actual type known to the compile is expected to be provided).","title":"Question on diamond operator for design pattern strategy","body":"<p>In the second code sample in the declaration of the interface <code>StorageStrategy&lt;MyThingToStore&gt;</code>, <code>MyThingToStore</code> is a <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-4.html#jls-4.4\" rel=\"nofollow noreferrer\">Type Variable</a>.</p>\n<p>I.e. it's not the actual type, only a placeholder for a type, like <code>T</code>. The common convention is to use single-letter generic <em>type variables</em> (<code>T</code>, <code>U</code>, <code>R</code>, etc.), otherwise it might look confusing like in this case.</p>\n<p><strong>Note</strong> that in the class declarations, like:</p>\n<pre><code>public class StorageUsingArrayListStrategy \n    implements StorageStrategy&lt;MyThingToStore&gt;\n</code></pre>\n<p><code>MyThingToStore</code> is no longer a <em>type variable</em>, but the name of the class <code>MyThingToStore</code> because in this case <em>parameterized</em> interface is implemented by a <em>non-parameterized</em> class (i.e. the actual type known to the compile is expected to be provided).</p>\n"},{"tags":[],"owner":{"account_id":13459822,"reputation":1807,"user_id":9712270,"display_name":"magicmn"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1661639288,"creation_date":1661639288,"answer_id":73514803,"question_id":73514616,"body_markdown":"I think the confusion comes from how you named type parameter for `StorageStrategy` in your 2nd example.\r\n\r\nLet&#39;s name it `T` for type instead. `T` in this case is just a placeholder to express what type of objects your `StorageStrategy` can work with. \r\n\r\n    public interface StorageStrategy&lt;T&gt; {\r\n        void addToStore(T myThingToStore);\r\n        int getSize();\r\n    }\r\n\r\nE.g.\r\n\r\n    StorageStrategy&lt;MyThingToStore&gt; strategy1 = // Initialization \r\n    StorageStrategy&lt;String&gt; strategy2 = // Initialization \r\n    strategy1.addToStore(new MyThingToStore(&quot;Apple&quot;));\r\n    // This works fine, because strategy2 accepts &quot;String&quot; instead of &quot;MyThingToStore&quot;\r\n    strategy2.addToStore(&quot;Apple&quot;);\r\n    // Last line doesn&#39;t work, because strategy1 can only handle objects of type &quot;MyThingToStore&quot;\r\n    strategy1.addToStore(&quot;Apple&quot;);\r\n\r\nTo make it work properly, you need to change your different `StorageStrategy` implementations to also include the type parameter.\r\n\r\n    public class StorageUsingHashSetStrategy&lt;T&gt; implements StorageStrategy&lt;T&gt; {\r\n    \r\n        private final Set&lt;T&gt; storeUsingHashSet = new HashSet&lt;&gt;();\r\n        @Override\r\n        public void addToStore(T myThingToStore) {\r\n            storeUsingHashSet.add(myThingToStore);\r\n        }\r\n    \r\n        @Override\r\n        public int getSize() {\r\n            return storeUsingHashSet.size();\r\n        }\r\n    \r\n    }\r\n\r\nAnd lastly you also want to have a type paremeter for `MyStorage`\r\n\r\n    public class MyStorage&lt;T&gt; {\r\n    \r\n        private final StorageStrategy&lt;T&gt; storageStrategy;\r\n    \r\n        public MyStorage(StorageStrategy&lt;T&gt; storageStrategy) {\r\n            this.storageStrategy = storageStrategy;\r\n        }\r\n    \r\n        public void addToStore(T myThingToStore) {\r\n            storageStrategy.addToStore(myThingToStore);\r\n        }\r\n    \r\n        public int getSize() {\r\n            return storageStrategy.getSize();\r\n        }\r\n    \r\n    }\r\n\r\nNow you can create a `MyStorage` and can use it to store essentially any object into it and not just `MyThingToStore`. Whether that is something you want or not is up to you.","title":"Question on diamond operator for design pattern strategy","body":"<p>I think the confusion comes from how you named type parameter for <code>StorageStrategy</code> in your 2nd example.</p>\n<p>Let's name it <code>T</code> for type instead. <code>T</code> in this case is just a placeholder to express what type of objects your <code>StorageStrategy</code> can work with.</p>\n<pre><code>public interface StorageStrategy&lt;T&gt; {\n    void addToStore(T myThingToStore);\n    int getSize();\n}\n</code></pre>\n<p>E.g.</p>\n<pre><code>StorageStrategy&lt;MyThingToStore&gt; strategy1 = // Initialization \nStorageStrategy&lt;String&gt; strategy2 = // Initialization \nstrategy1.addToStore(new MyThingToStore(&quot;Apple&quot;));\n// This works fine, because strategy2 accepts &quot;String&quot; instead of &quot;MyThingToStore&quot;\nstrategy2.addToStore(&quot;Apple&quot;);\n// Last line doesn't work, because strategy1 can only handle objects of type &quot;MyThingToStore&quot;\nstrategy1.addToStore(&quot;Apple&quot;);\n</code></pre>\n<p>To make it work properly, you need to change your different <code>StorageStrategy</code> implementations to also include the type parameter.</p>\n<pre><code>public class StorageUsingHashSetStrategy&lt;T&gt; implements StorageStrategy&lt;T&gt; {\n\n    private final Set&lt;T&gt; storeUsingHashSet = new HashSet&lt;&gt;();\n    @Override\n    public void addToStore(T myThingToStore) {\n        storeUsingHashSet.add(myThingToStore);\n    }\n\n    @Override\n    public int getSize() {\n        return storeUsingHashSet.size();\n    }\n\n}\n</code></pre>\n<p>And lastly you also want to have a type paremeter for <code>MyStorage</code></p>\n<pre><code>public class MyStorage&lt;T&gt; {\n\n    private final StorageStrategy&lt;T&gt; storageStrategy;\n\n    public MyStorage(StorageStrategy&lt;T&gt; storageStrategy) {\n        this.storageStrategy = storageStrategy;\n    }\n\n    public void addToStore(T myThingToStore) {\n        storageStrategy.addToStore(myThingToStore);\n    }\n\n    public int getSize() {\n        return storageStrategy.getSize();\n    }\n\n}\n</code></pre>\n<p>Now you can create a <code>MyStorage</code> and can use it to store essentially any object into it and not just <code>MyThingToStore</code>. Whether that is something you want or not is up to you.</p>\n"}],"owner":{"account_id":14482834,"reputation":3894,"user_id":10461625,"display_name":"PatPanda"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73514803,"answer_count":2,"score":0,"last_activity_date":1661677348,"creation_date":1661636784,"question_id":73514616,"body_markdown":"Small question regarding the diamond operator and design pattern strategy for Java, please.\r\n\r\nI would like to implement a very specific requirement:\r\n- there are some objects to store (in my example called ```MyThingToStore```)\r\n\r\n- and the requirement is to store them with different kinds of data structures, for comparison.\r\n\r\nTherefore, I went to try with a strategy pattern, where each of the strategies is a different way to store, I think this pattern is quite lovely.\r\n\r\nThe code is as follows:\r\n\r\n```\r\n\r\npublic class MyThingToStore {\r\n\r\n    private final String name;\r\n\r\n    public MyThingToStore(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    @Override\r\n    public boolean equals(Object o) {\r\n        if (this == o) return true;\r\n        if (o == null || getClass() != o.getClass()) return false;\r\n        MyThingToStore that = (MyThingToStore) o;\r\n        return Objects.equals(name, that.name);\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return Objects.hash(name);\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;MyThingToStore{&quot; +\r\n                &quot;name=&#39;&quot; + name + &#39;\\&#39;&#39; +\r\n                &#39;}&#39;;\r\n    }\r\n\r\n}\r\n\r\npublic class MyStorage {\r\n\r\n    private final StorageStrategy storageStrategy;\r\n\r\n    public MyStorage(StorageStrategy storageStrategy) {\r\n        this.storageStrategy = storageStrategy;\r\n    }\r\n\r\n    public void addToStore(MyThingToStore myThingToStore) {\r\n        storageStrategy.addToStore(myThingToStore);\r\n    }\r\n\r\n    public int getSize() {\r\n        return storageStrategy.getSize();\r\n    }\r\n\r\n}\r\n\r\npublic interface StorageStrategy {\r\n\r\n    void addToStore(MyThingToStore myThingToStore);\r\n\r\n    int getSize();\r\n\r\n}\r\n\r\n\r\npublic class StorageUsingArrayListStrategy implements StorageStrategy {\r\n\r\n    private final List&lt;MyThingToStore&gt; storeUsingArrayList = new ArrayList&lt;&gt;();\r\n\r\n    @Override\r\n    public void addToStore(MyThingToStore myThingToStore) {\r\n        storeUsingArrayList.add(myThingToStore);\r\n    }\r\n\r\n    @Override\r\n    public int getSize() {\r\n        return storeUsingArrayList.size();\r\n    }\r\n\r\n}\r\n\r\n\r\npublic class StorageUsingHashSetStrategy implements StorageStrategy{\r\n\r\n    private final Set&lt;MyThingToStore&gt; storeUsingHashSet = new HashSet&lt;&gt;();\r\n\r\n    @Override\r\n    public void addToStore(MyThingToStore myThingToStore) {\r\n        storeUsingHashSet.add(myThingToStore);\r\n    }\r\n\r\n    @Override\r\n    public int getSize() {\r\n        return storeUsingHashSet.size();\r\n    }\r\n\r\n}\r\n\r\n\r\npublic class Main {\r\n\r\n    public static void main(String[] args) {\r\n        final StorageStrategy storageStrategy = new StorageUsingArrayListStrategy();\r\n        final MyStorage myStorage = new MyStorage(storageStrategy);\r\n        myStorage.addToStore(new MyThingToStore(&quot;firstItem&quot;));\r\n        myStorage.addToStore(new MyThingToStore(&quot;duplicatedSecondItem&quot;));\r\n        myStorage.addToStore(new MyThingToStore(&quot;duplicatedSecondItem&quot;));\r\n        System.out.println(myStorage.getSize()); //changing strategy will return a different size, working!\r\n    }\r\n}\r\n```\r\n\r\nAnd this is working fine, very happy, especially tackled the requirement &quot;easy to change the data structure to do the actual store&quot;.\r\n\r\n(By the way, side question, if there is an even better way to do this, please let me know!)\r\n\r\nNow, looking online at different implementations of strategy patterns, I see this diamond operator which I am having a hard time understanding:\r\n\r\n```\r\n\r\nMyThingToStore stays the same.\r\n\r\n\r\npublic class MyStorage {\r\n\r\n    private final StorageStrategy&lt;MyThingToStore&gt; storageStrategy; //note the diamond here\r\n\r\n    public MyStorage(StorageStrategy&lt;MyThingToStore&gt; storageStrategy) {\r\n        this.storageStrategy = storageStrategy;\r\n    }\r\n\r\n    public void addToStore(MyThingToStore myThingToStore) {\r\n        storageStrategy.addToStore(myThingToStore);\r\n    }\r\n\r\n    public int getSize() {\r\n        return storageStrategy.getSize();\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;MyStorage{&quot; +\r\n                &quot;storageStrategy=&quot; + storageStrategy +\r\n                &#39;}&#39;;\r\n    }\r\n\r\n}\r\n\r\n\r\npublic interface StorageStrategy&lt;MyThingToStore&gt; {\r\n    //note the diamond, and it will be colored differently in IDEs\r\n    void addToStore(MyThingToStore myThingToStore);\r\n\r\n    int getSize();\r\n\r\n}\r\n\r\npublic class StorageUsingArrayListStrategy implements StorageStrategy&lt;MyThingToStore&gt; {\r\n\r\n    private final List&lt;MyThingToStore&gt; storeUsingArrayList = new ArrayList&lt;&gt;();\r\n\r\n    @Override\r\n    public void addToStore(MyThingToStore myThingToStore) {\r\n        storeUsingArrayList.add(myThingToStore);\r\n    }\r\n\r\n    @Override\r\n    public int getSize() {\r\n        return storeUsingArrayList.size();\r\n    }\r\n\r\n}\r\n\r\n\r\npublic class StorageUsingHashSetStrategy implements StorageStrategy&lt;MyThingToStore&gt; {\r\n\r\n    private final Set&lt;MyThingToStore&gt; storeUsingHashSet = new HashSet&lt;&gt;();\r\n\r\n    @Override\r\n    public void addToStore(MyThingToStore myThingToStore) {\r\n        storeUsingHashSet.add(myThingToStore);\r\n    }\r\n\r\n    @Override\r\n    public int getSize() {\r\n        return storeUsingHashSet.size();\r\n    }\r\n\r\n}\r\n\r\npublic class Main {\r\n\r\n    public static void main(String[] args) {\r\n        final StorageStrategy&lt;MyThingToStore&gt; storageStrategy = new StorageUsingArrayListStrategy();\r\n        final MyStorage myStorage = new MyStorage(storageStrategy);\r\n        myStorage.addToStore(new MyThingToStore(&quot;firstItem&quot;));\r\n        myStorage.addToStore(new MyThingToStore(&quot;duplicatedSecondItem&quot;));\r\n        myStorage.addToStore(new MyThingToStore(&quot;duplicatedSecondItem&quot;));\r\n        System.out.println(myStorage.getSize()); //changing strategy will return a different size, working!\r\n    }\r\n}\r\n\r\n\r\n```\r\n\r\nAnd both versions will yield the same good result, also be able to answer requirements.\r\n\r\nMy question is: what are the differences between the version without a diamond operator, and the version with the diamond operator, please?\r\n\r\nWhich of the two ways are &quot;better&quot; and why?\r\n\r\nWhile this question might appear to be &quot;too vague&quot;, I believe there is a reason for a better choice.","title":"Question on diamond operator for design pattern strategy","body":"<p>Small question regarding the diamond operator and design pattern strategy for Java, please.</p>\n<p>I would like to implement a very specific requirement:</p>\n<ul>\n<li><p>there are some objects to store (in my example called <code>MyThingToStore</code>)</p>\n</li>\n<li><p>and the requirement is to store them with different kinds of data structures, for comparison.</p>\n</li>\n</ul>\n<p>Therefore, I went to try with a strategy pattern, where each of the strategies is a different way to store, I think this pattern is quite lovely.</p>\n<p>The code is as follows:</p>\n<pre><code>\npublic class MyThingToStore {\n\n    private final String name;\n\n    public MyThingToStore(String name) {\n        this.name = name;\n    }\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n        MyThingToStore that = (MyThingToStore) o;\n        return Objects.equals(name, that.name);\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(name);\n    }\n\n    @Override\n    public String toString() {\n        return &quot;MyThingToStore{&quot; +\n                &quot;name='&quot; + name + '\\'' +\n                '}';\n    }\n\n}\n\npublic class MyStorage {\n\n    private final StorageStrategy storageStrategy;\n\n    public MyStorage(StorageStrategy storageStrategy) {\n        this.storageStrategy = storageStrategy;\n    }\n\n    public void addToStore(MyThingToStore myThingToStore) {\n        storageStrategy.addToStore(myThingToStore);\n    }\n\n    public int getSize() {\n        return storageStrategy.getSize();\n    }\n\n}\n\npublic interface StorageStrategy {\n\n    void addToStore(MyThingToStore myThingToStore);\n\n    int getSize();\n\n}\n\n\npublic class StorageUsingArrayListStrategy implements StorageStrategy {\n\n    private final List&lt;MyThingToStore&gt; storeUsingArrayList = new ArrayList&lt;&gt;();\n\n    @Override\n    public void addToStore(MyThingToStore myThingToStore) {\n        storeUsingArrayList.add(myThingToStore);\n    }\n\n    @Override\n    public int getSize() {\n        return storeUsingArrayList.size();\n    }\n\n}\n\n\npublic class StorageUsingHashSetStrategy implements StorageStrategy{\n\n    private final Set&lt;MyThingToStore&gt; storeUsingHashSet = new HashSet&lt;&gt;();\n\n    @Override\n    public void addToStore(MyThingToStore myThingToStore) {\n        storeUsingHashSet.add(myThingToStore);\n    }\n\n    @Override\n    public int getSize() {\n        return storeUsingHashSet.size();\n    }\n\n}\n\n\npublic class Main {\n\n    public static void main(String[] args) {\n        final StorageStrategy storageStrategy = new StorageUsingArrayListStrategy();\n        final MyStorage myStorage = new MyStorage(storageStrategy);\n        myStorage.addToStore(new MyThingToStore(&quot;firstItem&quot;));\n        myStorage.addToStore(new MyThingToStore(&quot;duplicatedSecondItem&quot;));\n        myStorage.addToStore(new MyThingToStore(&quot;duplicatedSecondItem&quot;));\n        System.out.println(myStorage.getSize()); //changing strategy will return a different size, working!\n    }\n}\n</code></pre>\n<p>And this is working fine, very happy, especially tackled the requirement &quot;easy to change the data structure to do the actual store&quot;.</p>\n<p>(By the way, side question, if there is an even better way to do this, please let me know!)</p>\n<p>Now, looking online at different implementations of strategy patterns, I see this diamond operator which I am having a hard time understanding:</p>\n<pre><code>\nMyThingToStore stays the same.\n\n\npublic class MyStorage {\n\n    private final StorageStrategy&lt;MyThingToStore&gt; storageStrategy; //note the diamond here\n\n    public MyStorage(StorageStrategy&lt;MyThingToStore&gt; storageStrategy) {\n        this.storageStrategy = storageStrategy;\n    }\n\n    public void addToStore(MyThingToStore myThingToStore) {\n        storageStrategy.addToStore(myThingToStore);\n    }\n\n    public int getSize() {\n        return storageStrategy.getSize();\n    }\n\n    @Override\n    public String toString() {\n        return &quot;MyStorage{&quot; +\n                &quot;storageStrategy=&quot; + storageStrategy +\n                '}';\n    }\n\n}\n\n\npublic interface StorageStrategy&lt;MyThingToStore&gt; {\n    //note the diamond, and it will be colored differently in IDEs\n    void addToStore(MyThingToStore myThingToStore);\n\n    int getSize();\n\n}\n\npublic class StorageUsingArrayListStrategy implements StorageStrategy&lt;MyThingToStore&gt; {\n\n    private final List&lt;MyThingToStore&gt; storeUsingArrayList = new ArrayList&lt;&gt;();\n\n    @Override\n    public void addToStore(MyThingToStore myThingToStore) {\n        storeUsingArrayList.add(myThingToStore);\n    }\n\n    @Override\n    public int getSize() {\n        return storeUsingArrayList.size();\n    }\n\n}\n\n\npublic class StorageUsingHashSetStrategy implements StorageStrategy&lt;MyThingToStore&gt; {\n\n    private final Set&lt;MyThingToStore&gt; storeUsingHashSet = new HashSet&lt;&gt;();\n\n    @Override\n    public void addToStore(MyThingToStore myThingToStore) {\n        storeUsingHashSet.add(myThingToStore);\n    }\n\n    @Override\n    public int getSize() {\n        return storeUsingHashSet.size();\n    }\n\n}\n\npublic class Main {\n\n    public static void main(String[] args) {\n        final StorageStrategy&lt;MyThingToStore&gt; storageStrategy = new StorageUsingArrayListStrategy();\n        final MyStorage myStorage = new MyStorage(storageStrategy);\n        myStorage.addToStore(new MyThingToStore(&quot;firstItem&quot;));\n        myStorage.addToStore(new MyThingToStore(&quot;duplicatedSecondItem&quot;));\n        myStorage.addToStore(new MyThingToStore(&quot;duplicatedSecondItem&quot;));\n        System.out.println(myStorage.getSize()); //changing strategy will return a different size, working!\n    }\n}\n\n\n</code></pre>\n<p>And both versions will yield the same good result, also be able to answer requirements.</p>\n<p>My question is: what are the differences between the version without a diamond operator, and the version with the diamond operator, please?</p>\n<p>Which of the two ways are &quot;better&quot; and why?</p>\n<p>While this question might appear to be &quot;too vague&quot;, I believe there is a reason for a better choice.</p>\n"},{"tags":["java","android","firebase-realtime-database","firebase-storage"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1633344225,"post_id":69434598,"comment_id":122725916,"body_markdown":"How many images do you have in that directory?","body":"How many images do you have in that directory?"},{"owner":{"account_id":18263780,"reputation":190,"user_id":13295989,"display_name":"MrCreed"},"score":0,"creation_date":1633425826,"post_id":69434598,"comment_id":122750139,"body_markdown":"As I mentioned above some items have over 200 images so a rough estimate would be around 1000 images","body":"As I mentioned above some items have over 200 images so a rough estimate would be around 1000 images"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":1,"creation_date":1633426102,"post_id":69434598,"comment_id":122750243,"body_markdown":"Try to use a [recursive method](https://stackoverflow.com/questions/60443829/how-do-i-upload-multiple-files-to-firebase-databse-in-order-as-in-arraylist/).","body":"Try to use a <a href=\"https://stackoverflow.com/questions/60443829/how-do-i-upload-multiple-files-to-firebase-databse-in-order-as-in-arraylist/\">recursive method</a>."}],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1633357119,"creation_date":1633357119,"answer_id":69437579,"question_id":69434598,"body_markdown":"You&#39;re downloading all files in parallel, which means that memory consumption is going to go up as the number of files goes up. To limit the memory consumption, download the files one by one, or with a reasonable maximum number of parallel downloads.","title":"How to manage memory when downloading multiple files from firebase in Android","body":"<p>You're downloading all files in parallel, which means that memory consumption is going to go up as the number of files goes up. To limit the memory consumption, download the files one by one, or with a reasonable maximum number of parallel downloads.</p>\n"}],"owner":{"account_id":18263780,"reputation":190,"user_id":13295989,"display_name":"MrCreed"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":191,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69437579,"answer_count":1,"score":0,"last_activity_date":1661676803,"creation_date":1633343962,"question_id":69434598,"body_markdown":"I have an images directory in Firebase Storage and I am trying to download all the files in that directory to my app. each image has a corresponding field in the database that stores its name the downloads are mostly successful but the app freezes and gets an App Not Responding prompt when you try to interact with ui or crashes after a while when you just wait.\r\n\r\nbelow is the code I use to download the images to my app&#39;s storage directory\r\n\r\n    private void downloadAllTopicsAndFirstItems(Activity activity) {\r\n        databaseReference.child(FIREBASE_TOPIC_NODE).addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                int count = 0;\r\n                for (DataSnapshot snap : snapshot.getChildren()) {\r\n                    Topic topic = snap.getValue(Topic.class);\r\n                    if (topic == null) return;\r\n                    if (topic.getItems() != null) topic.setTotalItems(topic.getItems().size());\r\n                    File fileTopic = new File(activity.getFilesDir(), topic.getFirebaseImageNode() + &quot;.jpg&quot;);\r\n                    Topic topic1 = new Topic();\r\n                    LiveData&lt;Topic&gt; topicWithId = viewModel.getTopicWithId(topic.getId());\r\n                    topicWithId.observe((LifecycleOwner) activity, topic2 -&gt; {\r\n                        if (topic2 != null) {\r\n                            topic1.setId(topic2.getId());\r\n                            topic1.setFirebaseImageNode(topic2.getFirebaseImageNode());\r\n                            topic1.setImageUrl(topic2.getImageUrl());\r\n                            topic1.setTitle(topic2.getTitle());\r\n                            topic1.setDescription(topic2.getDescription());\r\n                            topicWithId.removeObservers((LifecycleOwner) activity);\r\n                        }\r\n                    });\r\n                    if (!fileTopic.exists()) {\r\n                        int finalCount = count;\r\n                        storageReference.child(FIREBASE_APP_IMAGES).child(topic.getFirebaseImageNode() + &quot;.jpg&quot;)\r\n                                .getFile(fileTopic)\r\n                                .addOnSuccessListener(taskSnapshot -&gt; {\r\n                                    topic.setLocalStorageUri(fileTopic.getAbsolutePath());\r\n                                    if (finalCount &lt;6) getTopicItems(topic.getItems(), activity);\r\n                                    if (topic.equals(topic1)) viewModel.updateTopic(topic);\r\n                                    else viewModel.insertTopics(topic);\r\n                                    Log.d(&quot;Topic Image&quot;, &quot;onSuccess: downloaded to &quot; + fileTopic.getAbsolutePath());\r\n                                })\r\n                                .addOnFailureListener(e -&gt; Log.d(&quot;Topic Image&quot;, &quot;onFailure: &quot; + topic.getFirebaseImageNode() + &quot;.jpg&quot; + e.toString()));\r\n                    } else {\r\n                        topic.setLocalStorageUri(fileTopic.getAbsolutePath());\r\n                        if (count&lt;6) getTopicItems(topic.getItems(), activity);\r\n                        if (topic.equals(topic1)) viewModel.updateTopic(topic);\r\n                        else viewModel.insertTopics(topic);\r\n                    }\r\n\r\n                    topics.add(topic);\r\n                    viewModel.insertTopics(topic);\r\n                    Log.d(&quot;Topic &quot;, topic.toString());\r\n                    count++;\r\n                    if (topics.size() == snapshot.getChildrenCount()) {\r\n                        Log.d(&quot;Topics&quot;, &quot;onDataChange: &quot; + topics.toString());\r\n                        topicRvAdapter.setItems(topics);\r\n                        progressBar.setVisibility(View.GONE);\r\n                    }\r\n\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n                if (error.getCode() == DatabaseError.DISCONNECTED) {\r\n                    errorView.setText(R.string.no_internet);\r\n                } else {\r\n                    errorView.setText(R.string.something_went_wrong);\r\n                }\r\n                progressBar.setVisibility(View.GONE);\r\n            }\r\n        });\r\n    }\r\n\r\n\r\nThe method below downloads the items contained in a single topic. *Note: Some topics have over 200 items*\r\n\r\n    private void getTopicItems(ArrayList&lt;Item&gt; items, Activity activity){\r\n        if (items != null) {\r\n            for (Item item : items) {\r\n                Item item1 = new Item();\r\n                LiveData&lt;Item&gt; itemWithId = viewModel.getItemWithId(item.getId());\r\n                itemWithId.observe((LifecycleOwner) activity, item2 -&gt; {\r\n                    if (item2 != null) {\r\n                        item1.setId(item2.getId());\r\n                        item1.setImageUrl(item2.getImageUrl());\r\n                        item1.setEnglishWord(item2.getEnglishWord());\r\n                        item1.setCategory(item2.getCategory());\r\n                        item1.setTopic(item2.getTopic());\r\n                        item1.setRutooroWord(item2.getRutooroWord());\r\n                        item1.setFirebaseImageNode(item2.getFirebaseImageNode());\r\n                        itemWithId.removeObservers((LifecycleOwner) activity);\r\n\r\n                    }\r\n                });\r\n                // download the item image to storage;\r\n                String itemNode = item.getFirebaseImageNode();\r\n                File file = new File(activity.getFilesDir(), itemNode + &quot;.jpg&quot;);\r\n                if (itemNode != null) {\r\n                    if (!file.exists()) {\r\n                        storageReference.child(FIREBASE_APP_IMAGES).child(itemNode + &quot;.jpg&quot;)\r\n                                .getFile(file)\r\n                                .addOnSuccessListener(taskSnapshot -&gt; {\r\n                                    item.setLocalStorageUri(file.getAbsolutePath());\r\n                                    if (item.equals(item1)) viewModel.updateItem(item);\r\n                                    else viewModel.insertItems(item);\r\n                                    Log.d(&quot;Topic Item Image&quot;, &quot;onSuccess: downloaded to &quot; + file.getAbsolutePath());\r\n                                })\r\n                                .addOnFailureListener(e -&gt; Log.d(&quot;Topic Item Image&quot;, &quot;onFailure: &quot; + itemNode + &quot;.jpg&quot; + e.toString()));\r\n                    } else {\r\n                        item.setLocalStorageUri(file.getAbsolutePath());\r\n                        if (item.equals(item1)) viewModel.updateItem(item);\r\n                        else viewModel.insertItems(item);\r\n                    }\r\n                } else {\r\n                    if (item.equals(item1)) viewModel.updateItem(item);\r\n                    else viewModel.insertItems(item);\r\n                }\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n\r\nAfter a minute or two the app crashes with the error below\r\n\r\n```\r\nE/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.allez.san.myapplication, PID: 18718\r\n    java.lang.OutOfMemoryError: Failed to allocate a 24 byte allocation with 2000472 free bytes and 1953KB until OOM, target footprint 201326592, growth limit 201326592; failed due to fragmentation (largest possible contiguous allocation 150470656 bytes)\r\n        at java.lang.reflect.Executable.getMethodOrConstructorGenericInfoInternal(Executable.java:708)\r\n        at java.lang.reflect.Executable.getGenericParameterTypes(Executable.java:270)\r\n        at java.lang.reflect.Method.getGenericParameterTypes(Method.java:212)\r\n        at com.google.firebase.database.core.utilities.encoding.CustomClassMapper$BeanMapper.deserialize(CustomClassMapper.java:588)\r\n        at com.google.firebase.database.core.utilities.encoding.CustomClassMapper$BeanMapper.deserialize(CustomClassMapper.java:563)\r\n        at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.convertBean(CustomClassMapper.java:433)\r\n        at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.deserializeToClass(CustomClassMapper.java:232)\r\n        at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.deserializeToType(CustomClassMapper.java:179)\r\n        at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.deserializeToParameterizedType(CustomClassMapper.java:246)\r\n        at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.deserializeToType(CustomClassMapper.java:177)\r\n        at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.access$100(CustomClassMapper.java:48)\r\n        at com.google.firebase.database.core.utilities.encoding.CustomClassMapper$BeanMapper.deserialize(CustomClassMapper.java:593)\r\n        at com.google.firebase.database.core.utilities.encoding.CustomClassMapper$BeanMapper.deserialize(CustomClassMapper.java:563)\r\n        at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.convertBean(CustomClassMapper.java:433)\r\n        at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.deserializeToClass(CustomClassMapper.java:232)\r\n        at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.convertToCustomClass(CustomClassMapper.java:80)\r\n        at com.google.firebase.database.DataSnapshot.getValue(DataSnapshot.java:203)\r\n        at com.allez.san.learnrutooro.utils.DownloadUtil$3.onDataChange(DownloadUtil.java:296)\r\n        at com.google.firebase.database.core.ValueEventRegistration.fireEvent(ValueEventRegistration.java:75)\r\n        at com.google.firebase.database.core.view.DataEvent.fire(DataEvent.java:63)\r\n        at com.google.firebase.database.core.view.EventRaiser$1.run(EventRaiser.java:55)\r\n        at android.os.Handler.handleCallback(Handler.java:938)\r\n        at android.os.Handler.dispatchMessage(Handler.java:99)\r\n        at android.os.Looper.loop(Looper.java:246)\r\n        at android.app.ActivityThread.main(ActivityThread.java:8512)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:602)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1139)\r\nI/Process: Sending signal. PID: 18718 SIG: 9\r\n```","title":"How to manage memory when downloading multiple files from firebase in Android","body":"<p>I have an images directory in Firebase Storage and I am trying to download all the files in that directory to my app. each image has a corresponding field in the database that stores its name the downloads are mostly successful but the app freezes and gets an App Not Responding prompt when you try to interact with ui or crashes after a while when you just wait.</p>\n<p>below is the code I use to download the images to my app's storage directory</p>\n<pre><code>private void downloadAllTopicsAndFirstItems(Activity activity) {\n    databaseReference.child(FIREBASE_TOPIC_NODE).addValueEventListener(new ValueEventListener() {\n        @Override\n        public void onDataChange(@NonNull DataSnapshot snapshot) {\n            int count = 0;\n            for (DataSnapshot snap : snapshot.getChildren()) {\n                Topic topic = snap.getValue(Topic.class);\n                if (topic == null) return;\n                if (topic.getItems() != null) topic.setTotalItems(topic.getItems().size());\n                File fileTopic = new File(activity.getFilesDir(), topic.getFirebaseImageNode() + &quot;.jpg&quot;);\n                Topic topic1 = new Topic();\n                LiveData&lt;Topic&gt; topicWithId = viewModel.getTopicWithId(topic.getId());\n                topicWithId.observe((LifecycleOwner) activity, topic2 -&gt; {\n                    if (topic2 != null) {\n                        topic1.setId(topic2.getId());\n                        topic1.setFirebaseImageNode(topic2.getFirebaseImageNode());\n                        topic1.setImageUrl(topic2.getImageUrl());\n                        topic1.setTitle(topic2.getTitle());\n                        topic1.setDescription(topic2.getDescription());\n                        topicWithId.removeObservers((LifecycleOwner) activity);\n                    }\n                });\n                if (!fileTopic.exists()) {\n                    int finalCount = count;\n                    storageReference.child(FIREBASE_APP_IMAGES).child(topic.getFirebaseImageNode() + &quot;.jpg&quot;)\n                            .getFile(fileTopic)\n                            .addOnSuccessListener(taskSnapshot -&gt; {\n                                topic.setLocalStorageUri(fileTopic.getAbsolutePath());\n                                if (finalCount &lt;6) getTopicItems(topic.getItems(), activity);\n                                if (topic.equals(topic1)) viewModel.updateTopic(topic);\n                                else viewModel.insertTopics(topic);\n                                Log.d(&quot;Topic Image&quot;, &quot;onSuccess: downloaded to &quot; + fileTopic.getAbsolutePath());\n                            })\n                            .addOnFailureListener(e -&gt; Log.d(&quot;Topic Image&quot;, &quot;onFailure: &quot; + topic.getFirebaseImageNode() + &quot;.jpg&quot; + e.toString()));\n                } else {\n                    topic.setLocalStorageUri(fileTopic.getAbsolutePath());\n                    if (count&lt;6) getTopicItems(topic.getItems(), activity);\n                    if (topic.equals(topic1)) viewModel.updateTopic(topic);\n                    else viewModel.insertTopics(topic);\n                }\n\n                topics.add(topic);\n                viewModel.insertTopics(topic);\n                Log.d(&quot;Topic &quot;, topic.toString());\n                count++;\n                if (topics.size() == snapshot.getChildrenCount()) {\n                    Log.d(&quot;Topics&quot;, &quot;onDataChange: &quot; + topics.toString());\n                    topicRvAdapter.setItems(topics);\n                    progressBar.setVisibility(View.GONE);\n                }\n\n            }\n        }\n\n        @Override\n        public void onCancelled(@NonNull DatabaseError error) {\n            if (error.getCode() == DatabaseError.DISCONNECTED) {\n                errorView.setText(R.string.no_internet);\n            } else {\n                errorView.setText(R.string.something_went_wrong);\n            }\n            progressBar.setVisibility(View.GONE);\n        }\n    });\n}\n</code></pre>\n<p>The method below downloads the items contained in a single topic. <em>Note: Some topics have over 200 items</em></p>\n<pre><code>private void getTopicItems(ArrayList&lt;Item&gt; items, Activity activity){\n    if (items != null) {\n        for (Item item : items) {\n            Item item1 = new Item();\n            LiveData&lt;Item&gt; itemWithId = viewModel.getItemWithId(item.getId());\n            itemWithId.observe((LifecycleOwner) activity, item2 -&gt; {\n                if (item2 != null) {\n                    item1.setId(item2.getId());\n                    item1.setImageUrl(item2.getImageUrl());\n                    item1.setEnglishWord(item2.getEnglishWord());\n                    item1.setCategory(item2.getCategory());\n                    item1.setTopic(item2.getTopic());\n                    item1.setRutooroWord(item2.getRutooroWord());\n                    item1.setFirebaseImageNode(item2.getFirebaseImageNode());\n                    itemWithId.removeObservers((LifecycleOwner) activity);\n\n                }\n            });\n            // download the item image to storage;\n            String itemNode = item.getFirebaseImageNode();\n            File file = new File(activity.getFilesDir(), itemNode + &quot;.jpg&quot;);\n            if (itemNode != null) {\n                if (!file.exists()) {\n                    storageReference.child(FIREBASE_APP_IMAGES).child(itemNode + &quot;.jpg&quot;)\n                            .getFile(file)\n                            .addOnSuccessListener(taskSnapshot -&gt; {\n                                item.setLocalStorageUri(file.getAbsolutePath());\n                                if (item.equals(item1)) viewModel.updateItem(item);\n                                else viewModel.insertItems(item);\n                                Log.d(&quot;Topic Item Image&quot;, &quot;onSuccess: downloaded to &quot; + file.getAbsolutePath());\n                            })\n                            .addOnFailureListener(e -&gt; Log.d(&quot;Topic Item Image&quot;, &quot;onFailure: &quot; + itemNode + &quot;.jpg&quot; + e.toString()));\n                } else {\n                    item.setLocalStorageUri(file.getAbsolutePath());\n                    if (item.equals(item1)) viewModel.updateItem(item);\n                    else viewModel.insertItems(item);\n                }\n            } else {\n                if (item.equals(item1)) viewModel.updateItem(item);\n                else viewModel.insertItems(item);\n            }\n        }\n    }\n\n}\n</code></pre>\n<p>After a minute or two the app crashes with the error below</p>\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.allez.san.myapplication, PID: 18718\n    java.lang.OutOfMemoryError: Failed to allocate a 24 byte allocation with 2000472 free bytes and 1953KB until OOM, target footprint 201326592, growth limit 201326592; failed due to fragmentation (largest possible contiguous allocation 150470656 bytes)\n        at java.lang.reflect.Executable.getMethodOrConstructorGenericInfoInternal(Executable.java:708)\n        at java.lang.reflect.Executable.getGenericParameterTypes(Executable.java:270)\n        at java.lang.reflect.Method.getGenericParameterTypes(Method.java:212)\n        at com.google.firebase.database.core.utilities.encoding.CustomClassMapper$BeanMapper.deserialize(CustomClassMapper.java:588)\n        at com.google.firebase.database.core.utilities.encoding.CustomClassMapper$BeanMapper.deserialize(CustomClassMapper.java:563)\n        at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.convertBean(CustomClassMapper.java:433)\n        at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.deserializeToClass(CustomClassMapper.java:232)\n        at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.deserializeToType(CustomClassMapper.java:179)\n        at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.deserializeToParameterizedType(CustomClassMapper.java:246)\n        at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.deserializeToType(CustomClassMapper.java:177)\n        at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.access$100(CustomClassMapper.java:48)\n        at com.google.firebase.database.core.utilities.encoding.CustomClassMapper$BeanMapper.deserialize(CustomClassMapper.java:593)\n        at com.google.firebase.database.core.utilities.encoding.CustomClassMapper$BeanMapper.deserialize(CustomClassMapper.java:563)\n        at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.convertBean(CustomClassMapper.java:433)\n        at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.deserializeToClass(CustomClassMapper.java:232)\n        at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.convertToCustomClass(CustomClassMapper.java:80)\n        at com.google.firebase.database.DataSnapshot.getValue(DataSnapshot.java:203)\n        at com.allez.san.learnrutooro.utils.DownloadUtil$3.onDataChange(DownloadUtil.java:296)\n        at com.google.firebase.database.core.ValueEventRegistration.fireEvent(ValueEventRegistration.java:75)\n        at com.google.firebase.database.core.view.DataEvent.fire(DataEvent.java:63)\n        at com.google.firebase.database.core.view.EventRaiser$1.run(EventRaiser.java:55)\n        at android.os.Handler.handleCallback(Handler.java:938)\n        at android.os.Handler.dispatchMessage(Handler.java:99)\n        at android.os.Looper.loop(Looper.java:246)\n        at android.app.ActivityThread.main(ActivityThread.java:8512)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:602)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1139)\nI/Process: Sending signal. PID: 18718 SIG: 9\n</code></pre>\n"},{"tags":["java","junit"],"comments":[{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1661678859,"post_id":73516729,"comment_id":129824875,"body_markdown":"A sidenote (both answers are excellent here): `&quot;1234&quot; == testManuscript.getMSId()` __does not work__ - that is comparing reference identity, not value equality. It&#39;s `&quot;1234&quot;.equals(testManuscript.getMSid())`, however, the better way is `assertEquals(&quot;1234&quot;, testManuscript.getMSid())`, as now JUnit will show you character-by-character where the differences are, if any. Also, `getMSid()` is not the proper style. It&#39;d be `getMsId()`. Java code style dictates: `.getDvdPlayer()`, not `.getDVDPlayer()`.","body":"A sidenote (both answers are excellent here): <code>&quot;1234&quot; == testManuscript.getMSId()</code> <b>does not work</b> - that is comparing reference identity, not value equality. It&#39;s <code>&quot;1234&quot;.equals(testManuscript.getMSid())</code>, however, the better way is <code>assertEquals(&quot;1234&quot;, testManuscript.getMSid())</code>, as now JUnit will show you character-by-character where the differences are, if any. Also, <code>getMSid()</code> is not the proper style. It&#39;d be <code>getMsId()</code>. Java code style dictates: <code>.getDvdPlayer()</code>, not <code>.getDVDPlayer()</code>."}],"answers":[{"tags":[],"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1661674071,"creation_date":1661672780,"answer_id":73516884,"question_id":73516729,"body_markdown":"You have imported `@Test` from JUnit 5, while you&#39;re using `@Before` from JUnit 4, that combination doesn&#39;t work. You need to choose which JUnit version you want to use, 4 or 5, and then consistently import classes from that JUnit version. I would recommend using JUnit 5, and removing all JUnit 4 dependencies from your classpath, or at least configure your IDE to not suggest those imports.\r\n\r\nFor this specific case, replace `@Before` (`org.junit.Before`) with `@BeforeEach` (`org.junit.jupiter.api.BeforeEach`).\r\n\r\nIn the example as shown, you don&#39;t even need this `setUp` method, as each test-execution gets its own instance of the test class. You can use:\r\n\r\n```\r\nprivate Manuscript testManuscript = new Manuscript();\r\n```\r\n\r\nThat is, remove `static`, initialize the field directly, and remove the `setUp` method.\r\n\r\nEven if you continue to use the `setUp` method, I recommend removing the `static`, so `testManuscript` is an instance field, like it is actually used.","title":"JUnit setUp doesn&#39;t create object","body":"<p>You have imported <code>@Test</code> from JUnit 5, while you're using <code>@Before</code> from JUnit 4, that combination doesn't work. You need to choose which JUnit version you want to use, 4 or 5, and then consistently import classes from that JUnit version. I would recommend using JUnit 5, and removing all JUnit 4 dependencies from your classpath, or at least configure your IDE to not suggest those imports.</p>\n<p>For this specific case, replace <code>@Before</code> (<code>org.junit.Before</code>) with <code>@BeforeEach</code> (<code>org.junit.jupiter.api.BeforeEach</code>).</p>\n<p>In the example as shown, you don't even need this <code>setUp</code> method, as each test-execution gets its own instance of the test class. You can use:</p>\n<pre><code>private Manuscript testManuscript = new Manuscript();\n</code></pre>\n<p>That is, remove <code>static</code>, initialize the field directly, and remove the <code>setUp</code> method.</p>\n<p>Even if you continue to use the <code>setUp</code> method, I recommend removing the <code>static</code>, so <code>testManuscript</code> is an instance field, like it is actually used.</p>\n"},{"tags":[],"owner":{"account_id":14608568,"reputation":625,"user_id":10550655,"display_name":"Michael Katt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661676191,"creation_date":1661676191,"answer_id":73517227,"question_id":73516729,"body_markdown":"You have mixed Junit4 with Junit5. You should use only one version.\r\n\r\nJunit4 or \r\n\r\n    package org.lhoffjann;\r\n    \r\n    import org.junit.Before;\r\n    import org.junit.Test;\r\n    \r\n    import org.junit.Assert;\r\n    \r\n    public class ManuscriptTest {\r\n        private static Manuscript testManuscript;\r\n    \r\n        @Before\r\n        public void setUp(){\r\n            testManuscript = new Manuscript();\r\n        }\r\n        \r\n        @Test\r\n        public void testGetMSid() {\r\n            testManuscript.setMSid(&quot;1234&quot;);\r\n           Assert.assertEquals(&quot;1234&quot;,testManuscript.getMSid());\r\n        }\r\n\r\nor\r\n\r\nJunit5 \r\n\r\n    package org.lhoffjann;\r\n    \r\n    import org.junit.jupiter.api.Assertions;\r\n    import org.junit.jupiter.api.BeforeEach;\r\n    import org.junit.jupiter.api.Test;\r\n    \r\n    class ManuscriptTest {\r\n    \tprivate static Manuscript testManuscript;\r\n    \r\n    \t@BeforeEach\r\n    \tpublic void setUp() {\r\n    \t\ttestManuscript = new Manuscript();\r\n    \t}\r\n    \r\n    \t@Test\r\n    \tvoid testGetMSid() {\r\n    \t\ttestManuscript.setMSid(&quot;1234&quot;);\r\n    \t\tAssertions.assertEquals(&quot;1234&quot;, testManuscript.getMSid());\r\n    \t}\r\n    }","title":"JUnit setUp doesn&#39;t create object","body":"<p>You have mixed Junit4 with Junit5. You should use only one version.</p>\n<p>Junit4 or</p>\n<pre><code>package org.lhoffjann;\n\nimport org.junit.Before;\nimport org.junit.Test;\n\nimport org.junit.Assert;\n\npublic class ManuscriptTest {\n    private static Manuscript testManuscript;\n\n    @Before\n    public void setUp(){\n        testManuscript = new Manuscript();\n    }\n    \n    @Test\n    public void testGetMSid() {\n        testManuscript.setMSid(&quot;1234&quot;);\n       Assert.assertEquals(&quot;1234&quot;,testManuscript.getMSid());\n    }\n</code></pre>\n<p>or</p>\n<p>Junit5</p>\n<pre><code>package org.lhoffjann;\n\nimport org.junit.jupiter.api.Assertions;\nimport org.junit.jupiter.api.BeforeEach;\nimport org.junit.jupiter.api.Test;\n\nclass ManuscriptTest {\n    private static Manuscript testManuscript;\n\n    @BeforeEach\n    public void setUp() {\n        testManuscript = new Manuscript();\n    }\n\n    @Test\n    void testGetMSid() {\n        testManuscript.setMSid(&quot;1234&quot;);\n        Assertions.assertEquals(&quot;1234&quot;, testManuscript.getMSid());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":21570847,"reputation":13,"user_id":19724534,"display_name":"Lennart"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73516884,"answer_count":2,"score":1,"last_activity_date":1661676191,"creation_date":1661671100,"question_id":73516729,"body_markdown":"Why do I get a `NullPointerExeption` for `testManuscript` when trying to run my test?\r\n\r\n\r\n\r\nThis is my Manuscript.java:\r\n```\r\npackage org.lhoffjann;\r\n\r\n\r\npublic class Manuscript {\r\nprivate String msID;\r\nprivate String path;\r\n    public void setMSid(String msID){\r\n        this.msID = msID;\r\n    }\r\n\r\n    public String getMSid() {\r\n        return this.msID;\r\n    }\r\n}\r\n```\r\n\r\nThis is my ManuscriptTest.java:\r\n```\r\npackage org.lhoffjann;\r\n\r\nimport org.junit.Before;\r\nimport org.junit.BeforeClass;\r\nimport org.junit.jupiter.api.Test;\r\nimport static org.junit.jupiter.api.Assertions.assertTrue;\r\n\r\npublic class ManuscriptTest {\r\n    private static Manuscript testManuscript;\r\n\r\n    @Before\r\n    public void setUp(){\r\n        testManuscript = new Manuscript();\r\n    }\r\n    @Test\r\n    public void testGetMSid() {\r\n        testManuscript.setMSid(&quot;1234&quot;);\r\n        assertTrue(&quot;1234&quot; == testManuscript.getMSid());\r\n    }\r\n}\r\n```","title":"JUnit setUp doesn&#39;t create object","body":"<p>Why do I get a <code>NullPointerExeption</code> for <code>testManuscript</code> when trying to run my test?</p>\n<p>This is my Manuscript.java:</p>\n<pre><code>package org.lhoffjann;\n\n\npublic class Manuscript {\nprivate String msID;\nprivate String path;\n    public void setMSid(String msID){\n        this.msID = msID;\n    }\n\n    public String getMSid() {\n        return this.msID;\n    }\n}\n</code></pre>\n<p>This is my ManuscriptTest.java:</p>\n<pre><code>package org.lhoffjann;\n\nimport org.junit.Before;\nimport org.junit.BeforeClass;\nimport org.junit.jupiter.api.Test;\nimport static org.junit.jupiter.api.Assertions.assertTrue;\n\npublic class ManuscriptTest {\n    private static Manuscript testManuscript;\n\n    @Before\n    public void setUp(){\n        testManuscript = new Manuscript();\n    }\n    @Test\n    public void testGetMSid() {\n        testManuscript.setMSid(&quot;1234&quot;);\n        assertTrue(&quot;1234&quot; == testManuscript.getMSid());\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","performance","java-stream"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1661560198,"post_id":73507392,"comment_id":129808710,"body_markdown":"If you have Guava you can do `Lists.partition(userList, chunkSize).forEach(customerService::saveBulk);`","body":"If you have Guava you can do <code>Lists.partition(userList, chunkSize).forEach(customerService::saveBulk);</code>"},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1661561375,"post_id":73507392,"comment_id":129808828,"body_markdown":"Does `Stream::parallel()` work for you?","body":"Does <code>Stream::parallel()</code> work for you?"},{"owner":{"account_id":282893,"reputation":1061,"user_id":580082,"display_name":"jlc488"},"score":0,"creation_date":1661564537,"post_id":73507392,"comment_id":129809088,"body_markdown":"@MCEmperor you mean something like userList.parallelStream().forEach(customerService::saveBulk) ?? \n\nis it possible?? I mean the size of the list is too large to run parallel stream all at once ??","body":"@MCEmperor you mean something like userList.parallelStream().forEach(customerService::saveBulk) ??   is it possible?? I mean the size of the list is too large to run parallel stream all at once ??"}],"answers":[{"tags":[],"owner":{"account_id":14303081,"reputation":316,"user_id":10331902,"display_name":"Leonhard Bauer"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1661675812,"creation_date":1661558528,"answer_id":73507478,"question_id":73507392,"body_markdown":"You can use `Collectors.groupingBy()` for this and then iterate over it.\r\n\r\n``` java\r\n\r\nfinal List&lt;User&gt; users = userService.selectAll();\r\nfinal int partitionSize = 10000;\r\nfinal AtomicInteger counter = new AtomicInteger();\r\n\r\nusers\r\n    .stream()\r\n    .collect(Collectors.groupingBy(x -&gt; counter.getAndIncrement() / partitionSize))\r\n    .values()\r\n    // now you have a Collection&lt;List&lt;User&gt;&gt;\r\n    // each list contains partitionSize elments\r\n    .stream()\r\n    .map(group -&gt; customerService.saveBulk(group));\r\n    .forEach(future -&gt; future.get())\r\n```\r\n\r\nMy Java is a little rusty so you might want to return a single combined future if you want to make your method `@Async` also and return some `Future&lt;T&gt;` instead of calling `.get()` on the futures iteratively.\r\n\r\nDepending on the number of your users it might be better to individually load chunks of users, perform your needed actions and save them again. In this solution all users are loaded into memory by `userService.selectAll()` at the beginning. Depending on the number of your users this might be too much data (1.000.000 rows) loaded at the same time.\r\n\r\nI think the best approach would be to paginate `userService.selectAll()` and query 10.000 users, do you work, and save the 10.000 users back. For this you would need some kind of pagination of your data.\r\n\r\nIf your Backend is a database with a Hibernate ORM you can make it kind of like this:\r\n\r\n- Make your backing `userRepository` a `PagingAndSortingRepository`\r\n- Iterate over the batch sized pages to operate in batches\r\n\r\nThen the logic would be something like:\r\n```java\r\nUserRepository:\r\n@Repository\r\npublic interface UserRepository extends PagingAndSortingRepository&lt;User, Long&gt; {\r\n\r\n}\r\n\r\n\r\nUserService:\r\npublic Page&lt;User&gt; findPaginated(int pageNo, int pageSize) {\r\n\r\n    Pageable paging = PageRequest.of(pageNo, pageSize);\r\n    Page&lt;User&gt; pagedResult = userRepository.findAll(paging);\r\n\r\n    return pagedResult;\r\n}\r\n\r\nYour Logic:\r\n\r\nint pageSize = 10000\r\nint totalPages = userService\r\n    .findPaginated(0,pageSize).getTotalPages()\r\n\r\n// Then you can iterate over all the pages however you like\r\nfor(int i = 0; i &lt; totalPages; i++) {\r\n    List&lt;User&gt; batch = userService.findPaginated(i, pageSize)\r\n    // do your stuff with the batch\r\n    customerService.saveBulk(batch)\r\n}\r\n\r\n```","title":"java11 stream split n of list chunk as arguments","body":"<p>You can use <code>Collectors.groupingBy()</code> for this and then iterate over it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nfinal List&lt;User&gt; users = userService.selectAll();\nfinal int partitionSize = 10000;\nfinal AtomicInteger counter = new AtomicInteger();\n\nusers\n    .stream()\n    .collect(Collectors.groupingBy(x -&gt; counter.getAndIncrement() / partitionSize))\n    .values()\n    // now you have a Collection&lt;List&lt;User&gt;&gt;\n    // each list contains partitionSize elments\n    .stream()\n    .map(group -&gt; customerService.saveBulk(group));\n    .forEach(future -&gt; future.get())\n</code></pre>\n<p>My Java is a little rusty so you might want to return a single combined future if you want to make your method <code>@Async</code> also and return some <code>Future&lt;T&gt;</code> instead of calling <code>.get()</code> on the futures iteratively.</p>\n<p>Depending on the number of your users it might be better to individually load chunks of users, perform your needed actions and save them again. In this solution all users are loaded into memory by <code>userService.selectAll()</code> at the beginning. Depending on the number of your users this might be too much data (1.000.000 rows) loaded at the same time.</p>\n<p>I think the best approach would be to paginate <code>userService.selectAll()</code> and query 10.000 users, do you work, and save the 10.000 users back. For this you would need some kind of pagination of your data.</p>\n<p>If your Backend is a database with a Hibernate ORM you can make it kind of like this:</p>\n<ul>\n<li>Make your backing <code>userRepository</code> a <code>PagingAndSortingRepository</code></li>\n<li>Iterate over the batch sized pages to operate in batches</li>\n</ul>\n<p>Then the logic would be something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>UserRepository:\n@Repository\npublic interface UserRepository extends PagingAndSortingRepository&lt;User, Long&gt; {\n\n}\n\n\nUserService:\npublic Page&lt;User&gt; findPaginated(int pageNo, int pageSize) {\n\n    Pageable paging = PageRequest.of(pageNo, pageSize);\n    Page&lt;User&gt; pagedResult = userRepository.findAll(paging);\n\n    return pagedResult;\n}\n\nYour Logic:\n\nint pageSize = 10000\nint totalPages = userService\n    .findPaginated(0,pageSize).getTotalPages()\n\n// Then you can iterate over all the pages however you like\nfor(int i = 0; i &lt; totalPages; i++) {\n    List&lt;User&gt; batch = userService.findPaginated(i, pageSize)\n    // do your stuff with the batch\n    customerService.saveBulk(batch)\n}\n\n</code></pre>\n"}],"owner":{"account_id":282893,"reputation":1061,"user_id":580082,"display_name":"jlc488"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":444,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73507478,"answer_count":1,"score":1,"last_activity_date":1661675812,"creation_date":1661557491,"question_id":73507392,"body_markdown":"Let&#39;s say I have this (Spring boot) code:\r\n\r\n```\r\nList&lt;User&gt; userList = userService.selectAll(); &lt;-- this returns 1,000,000 rows\r\n\r\ncustomerService.saveBulk(userList).get(); \r\n```\r\n\r\nI want to split the list into small sizes and perform `saveBulk` iteratively.\r\n\r\nIs there any way to perform saveBulk smartly using java stream?\r\n\r\nsaveBulk is annotated with @Async ","title":"java11 stream split n of list chunk as arguments","body":"<p>Let's say I have this (Spring boot) code:</p>\n<pre><code>List&lt;User&gt; userList = userService.selectAll(); &lt;-- this returns 1,000,000 rows\n\ncustomerService.saveBulk(userList).get(); \n</code></pre>\n<p>I want to split the list into small sizes and perform <code>saveBulk</code> iteratively.</p>\n<p>Is there any way to perform saveBulk smartly using java stream?</p>\n<p>saveBulk is annotated with @Async</p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1368332361,"post_id":16504140,"comment_id":23691539,"body_markdown":"Monitors are a crucial concept for multi threaded control and communication. You should take the time to read through something like [this](http://www.baptiste-wicht.com/2010/09/java-concurrency-part-5-monitors-locks-and-conditions/) to get a better understanding. Technically speaking, no, there isn&#39;t any sure way to stop any thread, event if it has internal mechanisms to allow for for it, as other parts of the libraries may not be monitoring the state of thread","body":"Monitors are a crucial concept for multi threaded control and communication. You should take the time to read through something like <a href=\"http://www.baptiste-wicht.com/2010/09/java-concurrency-part-5-monitors-locks-and-conditions/\" rel=\"nofollow noreferrer\">this</a> to get a better understanding. Technically speaking, no, there isn&#39;t any sure way to stop any thread, event if it has internal mechanisms to allow for for it, as other parts of the libraries may not be monitoring the state of thread"}],"answers":[{"tags":[],"owner":{"account_id":446792,"reputation":3194,"user_id":840055,"accept_rate":67,"display_name":"goblinjuice"},"down_vote_count":0,"up_vote_count":57,"is_accepted":true,"score":57,"last_activity_date":1571794611,"creation_date":1368332401,"answer_id":16504159,"question_id":16504140,"body_markdown":"You asked: \r\n&gt; My question is if theres no way to stop a thread in Java then how to stop a thread? \r\n\r\nThe Answer: In Java there&#39;s no clean, quick or reliable way to stop a thread. \r\n\r\n&gt; Thread termination is not so straight forward. A running thread, often called by many writers as a light-weight process, has its own stack and is the master of its own destiny (well daemons are). It may own files and sockets. It may hold locks. Abrupt Termination is not always easy: Unpredictable consequences may arise if the thread is in the middle of writing to a file and is killed before it can finish writing. Or what about the monitor locks held by the thread when it is shot in the head?\r\n\r\nInstead, Threads rely on a **cooperative** mechanism called **Interruption**. This means that Threads could only *signal* other threads to stop, not force them to stop. \r\n\r\n&gt; To stop threads in Java, we rely on a co-operative mechanism called Interruption. The concept is very simple. To stop a thread, all we can do is deliver it a signal, aka interrupt it, requesting that the thread stops itself at the next available opportunity. Thats all. There is no telling what the receiver thread might do with the signal: it may not even bother to check the signal; or even worse ignore it.\r\n\r\nSource: https://codeahoy.com/java/How-To-Stop-Threads-Safely/","title":"Thread.stop() - deprecated","body":"<p>You asked: </p>\n\n<blockquote>\n  <p>My question is if theres no way to stop a thread in Java then how to stop a thread? </p>\n</blockquote>\n\n<p>The Answer: In Java there's no clean, quick or reliable way to stop a thread. </p>\n\n<blockquote>\n  <p>Thread termination is not so straight forward. A running thread, often called by many writers as a light-weight process, has its own stack and is the master of its own destiny (well daemons are). It may own files and sockets. It may hold locks. Abrupt Termination is not always easy: Unpredictable consequences may arise if the thread is in the middle of writing to a file and is killed before it can finish writing. Or what about the monitor locks held by the thread when it is shot in the head?</p>\n</blockquote>\n\n<p>Instead, Threads rely on a <strong>cooperative</strong> mechanism called <strong>Interruption</strong>. This means that Threads could only <em>signal</em> other threads to stop, not force them to stop. </p>\n\n<blockquote>\n  <p>To stop threads in Java, we rely on a co-operative mechanism called Interruption. The concept is very simple. To stop a thread, all we can do is deliver it a signal, aka interrupt it, requesting that the thread stops itself at the next available opportunity. Thats all. There is no telling what the receiver thread might do with the signal: it may not even bother to check the signal; or even worse ignore it.</p>\n</blockquote>\n\n<p>Source: <a href=\"https://codeahoy.com/java/How-To-Stop-Threads-Safely/\" rel=\"noreferrer\">https://codeahoy.com/java/How-To-Stop-Threads-Safely/</a></p>\n"},{"tags":[],"owner":{"account_id":1249277,"reputation":1622,"user_id":1210038,"accept_rate":53,"display_name":"Harshal Pandya"},"down_vote_count":4,"up_vote_count":9,"is_accepted":false,"score":5,"last_activity_date":1368332637,"creation_date":1368332637,"answer_id":16504182,"question_id":16504140,"body_markdown":"The right way is to use a join. Instead of prematurely stopping the execution of a thread, join will wait for the thread to finish execution before moving to the next statement.  \r\n\r\n    Thread exampleThread = new Thread(){\r\n        public void run(){\r\n            try {\r\n                \r\n                Thread.sleep(2000);\r\n               \r\n            } catch (InterruptedException ex) {\r\n                //handle the exception\r\n            }\r\n        }\r\n    };\r\n  \r\n    exampleThread.start();\r\n    exampleThread.join();\r\nHere exampleThread.join() will wait until exampleThread is done executing before moving to the next statement. However, the onus of making sure that the thread does finish execution is on the programmer. \r\nIn essence there is no way to stop a thread but if you design it right you should not need to stop the thread.","title":"Thread.stop() - deprecated","body":"<p>The right way is to use a join. Instead of prematurely stopping the execution of a thread, join will wait for the thread to finish execution before moving to the next statement.  </p>\n\n<pre><code>Thread exampleThread = new Thread(){\n    public void run(){\n        try {\n\n            Thread.sleep(2000);\n\n        } catch (InterruptedException ex) {\n            //handle the exception\n        }\n    }\n};\n\nexampleThread.start();\nexampleThread.join();\n</code></pre>\n\n<p>Here exampleThread.join() will wait until exampleThread is done executing before moving to the next statement. However, the onus of making sure that the thread does finish execution is on the programmer. \nIn essence there is no way to stop a thread but if you design it right you should not need to stop the thread.</p>\n"},{"tags":[],"owner":{"account_id":2454231,"reputation":1496,"user_id":2139804,"accept_rate":70,"display_name":"Tinki"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1415731819,"creation_date":1415731259,"answer_id":26872090,"question_id":16504140,"body_markdown":"When your thread handles interrupts correctly, it should be possible to instantly terminate it with use of `ExecutorService` interface. According to Oracle documentation, `ExecutorService.shutdownNow()` method, attempts to stop all actively executing tasks without waiting for their termination. There are however no guarantees beyond best-effort attempts to stop them. Here is some sample code:\r\n    \r\n    class MyThread implements Runnable{\r\n        @Override\r\n    \tpublic void run() {\r\n    \t\tfor (int i = 1; i &lt; 10000000; i++)\r\n    \t\t\ttry {\r\n    \t\t\tSystem.out.println(i + &quot; ThreadID: &quot; + Thread.currentThread().getId());\r\n    \t\t\tif (Thread.interrupted()) \r\n    \t\t\t\t\tthrow new InterruptedException();\r\n    \t\t\t} catch (InterruptedException e) {\r\n    \t\t\t\treturn;\r\n    \t\t}\t\r\n    \t}\r\n    }\r\n\r\n    ExecutorService executor = Executors.newFixedThreadPool(3);\r\n        \t\texecutor.submit(new MyThread());\r\n        \t\texecutor.submit(new MyThread());\r\n        \t\texecutor.submit(new MyThread());\r\n        \t\texecutor.shutdownNow();\r\n\r\nWithout termination each thread should print message to console 10000000 times. `executor.shutdownNow()` method instantly stops all three threads. ","title":"Thread.stop() - deprecated","body":"<p>When your thread handles interrupts correctly, it should be possible to instantly terminate it with use of <code>ExecutorService</code> interface. According to Oracle documentation, <code>ExecutorService.shutdownNow()</code> method, attempts to stop all actively executing tasks without waiting for their termination. There are however no guarantees beyond best-effort attempts to stop them. Here is some sample code:</p>\n\n<pre><code>class MyThread implements Runnable{\n    @Override\n    public void run() {\n        for (int i = 1; i &lt; 10000000; i++)\n            try {\n            System.out.println(i + \" ThreadID: \" + Thread.currentThread().getId());\n            if (Thread.interrupted()) \n                    throw new InterruptedException();\n            } catch (InterruptedException e) {\n                return;\n        }   \n    }\n}\n\nExecutorService executor = Executors.newFixedThreadPool(3);\n            executor.submit(new MyThread());\n            executor.submit(new MyThread());\n            executor.submit(new MyThread());\n            executor.shutdownNow();\n</code></pre>\n\n<p>Without termination each thread should print message to console 10000000 times. <code>executor.shutdownNow()</code> method instantly stops all three threads. </p>\n"},{"tags":[],"owner":{"account_id":2683557,"reputation":426,"user_id":2318378,"display_name":"Akhil Patro"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1526131378,"creation_date":1499622503,"answer_id":44999313,"question_id":16504140,"body_markdown":"From https://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html:\r\n\r\n&gt; Most uses of stop should be replaced by code that simply modifies some variable to indicate that the target thread should stop running. The target thread should check this variable regularly, and return from its run method in an orderly fashion if the variable indicates that it is to stop running. To ensure prompt communication of the stop-request, the variable must be volatile (or access to the variable must be synchronized \r\n).","title":"Thread.stop() - deprecated","body":"<p>From <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html</a>:</p>\n\n<blockquote>\n  <p>Most uses of stop should be replaced by code that simply modifies some variable to indicate that the target thread should stop running. The target thread should check this variable regularly, and return from its run method in an orderly fashion if the variable indicates that it is to stop running. To ensure prompt communication of the stop-request, the variable must be volatile (or access to the variable must be synchronized \n  ).</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":3119418,"reputation":4685,"user_id":2639515,"accept_rate":45,"display_name":"Alessandro Roaro"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1581418444,"creation_date":1581418444,"answer_id":60167244,"question_id":16504140,"body_markdown":"The logic to stop the thread should be handled in your implementation of the thread, so that you are sure that everything goes the way you want. \r\nFor example, you could create a `cancel()` method that changes the state of the thread, which is checked cyclically. Like this:\r\n\r\n\r\n    class StoppableThread implements Runnable {\r\n    \r\n    \tboolean isCancelled = false;\r\n    \t\r\n    \r\n        public void run() {\r\n            while (!isCancelled) {\r\n                System.out.println(&quot;Thread is running with all its might!&quot;);\r\n    \t\t\t\r\n    \t\t\ttry {\r\n    \t\t\t\tThread.sleep(1000);\r\n    \t\t\t} catch (InterruptedException e) {\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t}\r\n            }   \r\n        }\r\n    \t\r\n    \t\r\n    \tpublic void cancel () {\r\n    \t\tisCancelled = true;\r\n    \t}\r\n    }\r\n\r\n","title":"Thread.stop() - deprecated","body":"<p>The logic to stop the thread should be handled in your implementation of the thread, so that you are sure that everything goes the way you want. \nFor example, you could create a <code>cancel()</code> method that changes the state of the thread, which is checked cyclically. Like this:</p>\n\n<pre><code>class StoppableThread implements Runnable {\n\n    boolean isCancelled = false;\n\n\n    public void run() {\n        while (!isCancelled) {\n            System.out.println(\"Thread is running with all its might!\");\n\n            try {\n                Thread.sleep(1000);\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        }   \n    }\n\n\n    public void cancel () {\n        isCancelled = true;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17695615,"reputation":1,"user_id":13001661,"display_name":"Wayne"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661675783,"creation_date":1661675783,"answer_id":73517183,"question_id":16504140,"body_markdown":"Threads in java are interesting because how you implement them depends on the purpose of the program you are writing. \r\nIf you do not prioritize the efficiency of your program, the `thread.join()` is a method that&#39;s used to wait for a Java thread to &quot;finish&quot; executing. Note, it&#39;s used to wait for a Java thread, not to stop a thread, and in this case we can assume a thread finishes executing after it&#39;s done running the `run()` method. \r\nThe reason using the `thread.stop()` method is dangerous, is because we do not know how the scheduler has ordered the execution of the thread, and that uncertainty is quite frustrating, but we have to accept it. Let&#39;s say you use the `thread.stop` method while the thread is reading objects from main memory. That may cause a huge overhead because the scheduler is now forced to sort of prioritize stopping this thread, and ignore other threads... \r\nSo this is one of the many reason why using `thread.stop` should be discouraged","title":"Thread.stop() - deprecated","body":"<p>Threads in java are interesting because how you implement them depends on the purpose of the program you are writing.\nIf you do not prioritize the efficiency of your program, the <code>thread.join()</code> is a method that's used to wait for a Java thread to &quot;finish&quot; executing. Note, it's used to wait for a Java thread, not to stop a thread, and in this case we can assume a thread finishes executing after it's done running the <code>run()</code> method.\nThe reason using the <code>thread.stop()</code> method is dangerous, is because we do not know how the scheduler has ordered the execution of the thread, and that uncertainty is quite frustrating, but we have to accept it. Let's say you use the <code>thread.stop</code> method while the thread is reading objects from main memory. That may cause a huge overhead because the scheduler is now forced to sort of prioritize stopping this thread, and ignore other threads...\nSo this is one of the many reason why using <code>thread.stop</code> should be discouraged</p>\n"}],"owner":{"display_name":"user2374107"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93463,"favorite_count":0,"down_vote_count":0,"up_vote_count":62,"accepted_answer_id":16504159,"answer_count":6,"score":62,"last_activity_date":1661675783,"creation_date":1368332173,"question_id":16504140,"body_markdown":"Why is `Thread.stop()` deprecated in Java? On their website, I see the following:\r\n&gt; ###Why is `Thread.stop` deprecated?\r\nBecause it is inherently unsafe. Stopping a thread causes it to unlock all the monitors that it has locked. (The monitors are unlocked as the `ThreadDeath` exception propagates up the stack.) If any of the objects previously protected by these monitors were in an inconsistent state, other threads may now view these objects in an inconsistent state. Such objects are said to be damaged. When threads operate on damaged objects, arbitrary behavior can result. This behavior may be subtle and difficult to detect, or it may be pronounced. Unlike other unchecked exceptions, `ThreadDeath` kills threads silently; thus, the user has no warning that his program may be corrupted. The corruption can manifest itself at any time after the actual damage occurs, even hours or days in the future.\r\n\r\nI don&#39;t understand what they mean by &quot;monitors&quot;. Regardless, my question is if `Thread.stop()` should not be called then how should a Java thread be stopped?","title":"Thread.stop() - deprecated","body":"<p>Why is <code>Thread.stop()</code> deprecated in Java? On their website, I see the following:</p>\n\n<blockquote>\n  <h3>Why is <code>Thread.stop</code> deprecated?</h3>\n  \n  <p>Because it is inherently unsafe. Stopping a thread causes it to unlock all the monitors that it has locked. (The monitors are unlocked as the <code>ThreadDeath</code> exception propagates up the stack.) If any of the objects previously protected by these monitors were in an inconsistent state, other threads may now view these objects in an inconsistent state. Such objects are said to be damaged. When threads operate on damaged objects, arbitrary behavior can result. This behavior may be subtle and difficult to detect, or it may be pronounced. Unlike other unchecked exceptions, <code>ThreadDeath</code> kills threads silently; thus, the user has no warning that his program may be corrupted. The corruption can manifest itself at any time after the actual damage occurs, even hours or days in the future.</p>\n</blockquote>\n\n<p>I don't understand what they mean by \"monitors\". Regardless, my question is if <code>Thread.stop()</code> should not be called then how should a Java thread be stopped?</p>\n"},{"tags":["java","ms-word","apache-poi","apache-tika"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":3,"creation_date":1661674815,"post_id":73517031,"comment_id":129824232,"body_markdown":"For how to read equations to HTML see https://stackoverflow.com/questions/59414033/reading-equations-from-word-docx-to-html-together-with-their-text-context-us/59502090#59502090. That does not answer the question about the formatting. But the task to fully convert a Word document to HTML will lead to program a whole library. That is much too broad for an answer here.","body":"For how to read equations to HTML see <a href=\"https://stackoverflow.com/questions/59414033/reading-equations-from-word-docx-to-html-together-with-their-text-context-us/59502090#59502090\" title=\"reading equations from word docx to html together with their text context us\">stackoverflow.com/questions/59414033/&hellip;</a>. That does not answer the question about the formatting. But the task to fully convert a Word document to HTML will lead to program a whole library. That is much too broad for an answer here."},{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":1,"creation_date":1661676463,"post_id":73517031,"comment_id":129824489,"body_markdown":"*&quot;This is not giving me any math information&quot;* What did you expect exactly? How could you convert an arbitrary math expression to a simple text string?","body":"<i>&quot;This is not giving me any math information&quot;</i> What did you expect exactly? How could you convert an arbitrary math expression to a simple text string?"},{"owner":{"account_id":12569632,"reputation":71,"user_id":9144154,"display_name":"Adnan Bin Zahir"},"score":0,"creation_date":1661677299,"post_id":73517031,"comment_id":129824625,"body_markdown":"@Olivier I am expecting something like a string/boolean by which I can determine if there is any math present or not. \nFor example in my case: &lt;math&gt;110 x&lt;/math&gt;","body":"@Olivier I am expecting something like a string/boolean by which I can determine if there is any math present or not.  For example in my case: &lt;math&gt;110 x&lt;/math&gt;"},{"owner":{"account_id":23470251,"reputation":812,"user_id":17523866,"display_name":"jonsson"},"score":0,"creation_date":1661782880,"post_id":73517031,"comment_id":129847253,"body_markdown":"It looks as if the libraries you are using discard equation XML altogether. Not a familiar area but you might have to use something like POI-OpenXML4J to get the Math OOXML and interpret any formatting elements yourself. (Don&#39;t know whether many people actually do much formatting *inside* an equation as they may rely on the equation&#39;s built-in features for most formatting. Either you can rely on that or yoou can&#39;t!).","body":"It looks as if the libraries you are using discard equation XML altogether. Not a familiar area but you might have to use something like POI-OpenXML4J to get the Math OOXML and interpret any formatting elements yourself. (Don&#39;t know whether many people actually do much formatting <i>inside</i> an equation as they may rely on the equation&#39;s built-in features for most formatting. Either you can rely on that or yoou can&#39;t!)."}],"owner":{"account_id":12569632,"reputation":71,"user_id":9144154,"display_name":"Adnan Bin Zahir"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":197,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1661675599,"creation_date":1661674178,"question_id":73517031,"body_markdown":"I am trying to read a word file which looks like this:\r\n[Docx file screenshot][1]\r\n\r\nFirst I have tried using XWPFRun:\r\n\r\n    public String[] readStringFromFile(String absolutePath) throws Exception {\r\n        FileInputStream fileInputStream = new FileInputStream(absolutePath);\r\n        XWPFDocument document = new XWPFDocument(fileInputStream);\r\n        List&lt;XWPFParagraph&gt; paragraphs = document.getParagraphs();\r\n        List&lt;String&gt; strings = new ArrayList&lt;&gt;();\r\n        \r\n        for (XWPFParagraph paragraph : paragraphs) {\r\n            strings.add(paragraph.getText());\r\n            for (XWPFRun run :\r\n                    paragraph.getRuns()) {\r\n                System.out.println(&quot;Run: &quot; + run.text());\r\n                System.out.println(&quot;Run infos:&quot;);\r\n                System.out.println(&quot;Bold: &quot; + run.isBold() + &quot; Italic: &quot; + run.isItalic() + &quot; Underlined: &quot; + run.getUnderline());\r\n                System.out.println(&quot;Superscript/Subscript: &quot; + run.getVerticalAlignment() + &quot;\\n&quot;);\r\n            }\r\n        }\r\n        document.close();\r\n        return strings.toArray(new String[0]);\r\n    }\r\n\r\nOutput:\r\n\r\n    Run: This one is a test Docx file.\r\n    Run infos:\r\n    Bold: false Italic: false Underlined: NONE\r\n    Superscript/Subscript: baseline\r\n\r\n\tRun: Math: \r\n\tRun infos:\r\n\tBold: false Italic: false Underlined: NONE\r\n\tSuperscript/Subscript: baseline\r\n\r\n\tRun: This is bold\r\n\tRun infos:\r\n\tBold: true Italic: false Underlined: NONE\r\n\tSuperscript/Subscript: baseline\r\n\r\n\tRun: This ones italic\r\n\tRun infos:\r\n\tBold: false Italic: true Underlined: NONE\r\n\tSuperscript/Subscript: baseline\r\n\r\n\tRun: Underlined\r\n\tRun infos:\r\n\tBold: false Italic: false Underlined: SINGLE\r\n\tSuperscript/Subscript: baseline\r\n\r\n\tRun: Bold Italic and underlined\r\n\tRun infos:\r\n\tBold: true Italic: true Underlined: SINGLE\r\n\tSuperscript/Subscript: baseline\r\n\r\n\tRun: Bold and italic\r\n\tRun infos:\r\n\tBold: true Italic: true Underlined: NONE\r\n\tSuperscript/Subscript: baseline\r\n\r\n\tRun: In Same Line: \r\n\tRun infos:\r\n\tBold: false Italic: false Underlined: NONE\r\n\tSuperscript/Subscript: baseline\r\n\r\n\tRun: Bold\r\n\tRun infos:\r\n\tBold: true Italic: false Underlined: NONE\r\n\tSuperscript/Subscript: baseline\r\n\r\n\tRun:  \r\n\tRun infos:\r\n\tBold: false Italic: false Underlined: NONE\r\n\tSuperscript/Subscript: baseline\r\n\r\n\tRun: Italic\r\n\tRun infos:\r\n\tBold: false Italic: true Underlined: NONE\r\n\tSuperscript/Subscript: baseline\r\n\r\n\tRun:  \r\n\tRun infos:\r\n\tBold: false Italic: false Underlined: NONE\r\n\tSuperscript/Subscript: baseline\r\n\r\n\tRun: Underlined\r\n\tRun infos:\r\n\tBold: false Italic: false Underlined: SINGLE\r\n\tSuperscript/Subscript: baseline\r\n\r\n\tRun:  \r\n\tRun infos:\r\n\tBold: false Italic: false Underlined: NONE\r\n\tSuperscript/Subscript: baseline\r\n\r\n\tRun: Bold and Italic\r\n\tRun infos:\r\n\tBold: true Italic: true Underlined: NONE\r\n\tSuperscript/Subscript: baseline\r\n\r\n\tRun: W\r\n\tRun infos:\r\n\tBold: false Italic: false Underlined: NONE\r\n\tSuperscript/Subscript: baseline\r\n\r\n\tRun: e have some\r\n\tRun infos:\r\n\tBold: false Italic: false Underlined: NONE\r\n\tSuperscript/Subscript: baseline\r\n\r\n\tRun: superscript\r\n\tRun infos:\r\n\tBold: false Italic: false Underlined: NONE\r\n\tSuperscript/Subscript: superscript\r\n\r\n\tRun:  and\r\n\tRun infos:\r\n\tBold: false Italic: false Underlined: NONE\r\n\tSuperscript/Subscript: baseline\r\n\r\n\tRun: subscript\r\n\tRun infos:\r\n\tBold: false Italic: false Underlined: NONE\r\n\tSuperscript/Subscript: subscript\r\n\r\nThis is not giving me any math information.\r\n\r\nThen I tried using Apache Tika and getting the information from the returned HTML:\r\n\r\n    private void getHtmlUsingTika(String absolutePath) throws IOException, TikaException, SAXException {\r\n        ContentHandler handler = new ToXMLContentHandler();\r\n        AutoDetectParser parser = new AutoDetectParser();\r\n        Metadata metadata = new Metadata();\r\n\r\n        InputStream stream = new FileInputStream(new File(absolutePath));\r\n\r\n        parser.parse(stream,handler,metadata);\r\n        System.out.println(handler.toString());\r\n    }\r\n\r\nOutput:\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n    &lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;\r\n    &lt;head&gt;\r\n    &lt;meta name=&quot;cp:revision&quot; content=&quot;25&quot; /&gt;\r\n    &lt;meta name=&quot;extended-properties:AppVersion&quot; content=&quot;15.0000&quot; /&gt;\r\n    &lt;meta name=&quot;meta:paragraph-count&quot; content=&quot;1&quot; /&gt;\r\n    &lt;meta name=&quot;meta:word-count&quot; content=&quot;33&quot; /&gt;\r\n    &lt;meta name=&quot;extended-properties:Application&quot; content=&quot;Microsoft Office Word&quot; /&gt;\r\n    &lt;meta name=&quot;meta:last-author&quot; content=&quot;Microsoft account&quot; /&gt;\r\n    &lt;meta name=&quot;extended-properties:Company&quot; content=&quot;&quot; /&gt;\r\n    &lt;meta name=&quot;xmpTPg:NPages&quot; content=&quot;1&quot; /&gt;\r\n    &lt;meta name=&quot;dcterms:created&quot; content=&quot;2022-04-25T09:09:00Z&quot; /&gt;\r\n    &lt;meta name=&quot;meta:line-count&quot; content=&quot;1&quot; /&gt;\r\n    &lt;meta name=&quot;dcterms:modified&quot; content=&quot;2022-08-28T07:08:00Z&quot; /&gt;\r\n    &lt;meta name=&quot;meta:character-count&quot; content=&quot;189&quot; /&gt;\r\n    &lt;meta name=&quot;extended-properties:Template&quot; content=&quot;Normal.dotm&quot; /&gt;\r\n    &lt;meta name=&quot;meta:character-count-with-spaces&quot; content=&quot;221&quot; /&gt;\r\n    &lt;meta name=&quot;X-TIKA:Parsed-By&quot; content=&quot;org.apache.tika.parser.DefaultParser&quot; /&gt;\r\n    &lt;meta name=&quot;X-TIKA:Parsed-By&quot; content=&quot;org.apache.tika.parser.microsoft.ooxml.OOXMLParser&quot; /&gt;\r\n    &lt;meta name=&quot;extended-properties:DocSecurityString&quot; content=&quot;None&quot; /&gt;\r\n    &lt;meta name=&quot;extended-properties:TotalTime&quot; content=&quot;35&quot; /&gt;\r\n    &lt;meta name=&quot;meta:page-count&quot; content=&quot;1&quot; /&gt;\r\n    &lt;meta name=&quot;Content-Type&quot; content=&quot;application/vnd.openxmlformats-officedocument.wordprocessingml.document&quot; /&gt;\r\n    &lt;meta name=&quot;dc:publisher&quot; content=&quot;&quot; /&gt;\r\n    &lt;title&gt;&lt;/title&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;&lt;p&gt;This one is a test Docx file.&lt;/p&gt;\r\n    &lt;p&gt;Math: &lt;/p&gt;\r\n    &lt;p&gt;&lt;b&gt;This is bold&lt;/b&gt;&lt;/p&gt;\r\n    &lt;p&gt;&lt;i&gt;This ones italic&lt;/i&gt;&lt;/p&gt;\r\n    &lt;p&gt;&lt;u&gt;Underlined&lt;/u&gt;&lt;/p&gt;\r\n    &lt;p&gt;&lt;b&gt;&lt;i&gt;&lt;u&gt;Bold Italic and underlined&lt;/u&gt;&lt;/i&gt;&lt;/b&gt;&lt;/p&gt;\r\n    &lt;p&gt;&lt;b&gt;&lt;i&gt;Bold and italic&lt;/i&gt;&lt;/b&gt;&lt;/p&gt;\r\n    &lt;p&gt;In Same Line: &lt;b&gt;Bold&lt;/b&gt; &lt;i&gt;Italic&lt;/i&gt; &lt;u&gt;Underlined&lt;/u&gt; &lt;b&gt;&lt;i&gt;Bold and Italic&lt;/i&gt;&lt;/b&gt;&lt;/p&gt;\r\n    &lt;p&gt;We have somesuperscript andsubscript&lt;/p&gt;\r\n    &lt;p&gt;&lt;a name=&quot;_GoBack&quot; /&gt;&lt;/p&gt;\r\n    &lt;/body&gt;&lt;/html&gt;\r\n\r\nAgain I am not getting any math information furthermore I&#39;m not getting any superscript and subscript information using this approach.\r\n\r\nI am a beginner when it comes to handling word documents and stuck with this issue for a while now. Is there a way to get both math and other style information at the same time in java? \r\nAlso is it possible using javascript?\r\n\r\n  [1]: https://i.stack.imgur.com/N3OZ6.png","title":"How to read a Word file and get both formatting and math expression information in java?","body":"<p>I am trying to read a word file which looks like this:\n<a href=\"https://i.stack.imgur.com/N3OZ6.png\" rel=\"nofollow noreferrer\">Docx file screenshot</a></p>\n<p>First I have tried using XWPFRun:</p>\n<pre><code>public String[] readStringFromFile(String absolutePath) throws Exception {\n    FileInputStream fileInputStream = new FileInputStream(absolutePath);\n    XWPFDocument document = new XWPFDocument(fileInputStream);\n    List&lt;XWPFParagraph&gt; paragraphs = document.getParagraphs();\n    List&lt;String&gt; strings = new ArrayList&lt;&gt;();\n    \n    for (XWPFParagraph paragraph : paragraphs) {\n        strings.add(paragraph.getText());\n        for (XWPFRun run :\n                paragraph.getRuns()) {\n            System.out.println(&quot;Run: &quot; + run.text());\n            System.out.println(&quot;Run infos:&quot;);\n            System.out.println(&quot;Bold: &quot; + run.isBold() + &quot; Italic: &quot; + run.isItalic() + &quot; Underlined: &quot; + run.getUnderline());\n            System.out.println(&quot;Superscript/Subscript: &quot; + run.getVerticalAlignment() + &quot;\\n&quot;);\n        }\n    }\n    document.close();\n    return strings.toArray(new String[0]);\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>Run: This one is a test Docx file.\nRun infos:\nBold: false Italic: false Underlined: NONE\nSuperscript/Subscript: baseline\n\nRun: Math: \nRun infos:\nBold: false Italic: false Underlined: NONE\nSuperscript/Subscript: baseline\n\nRun: This is bold\nRun infos:\nBold: true Italic: false Underlined: NONE\nSuperscript/Subscript: baseline\n\nRun: This ones italic\nRun infos:\nBold: false Italic: true Underlined: NONE\nSuperscript/Subscript: baseline\n\nRun: Underlined\nRun infos:\nBold: false Italic: false Underlined: SINGLE\nSuperscript/Subscript: baseline\n\nRun: Bold Italic and underlined\nRun infos:\nBold: true Italic: true Underlined: SINGLE\nSuperscript/Subscript: baseline\n\nRun: Bold and italic\nRun infos:\nBold: true Italic: true Underlined: NONE\nSuperscript/Subscript: baseline\n\nRun: In Same Line: \nRun infos:\nBold: false Italic: false Underlined: NONE\nSuperscript/Subscript: baseline\n\nRun: Bold\nRun infos:\nBold: true Italic: false Underlined: NONE\nSuperscript/Subscript: baseline\n\nRun:  \nRun infos:\nBold: false Italic: false Underlined: NONE\nSuperscript/Subscript: baseline\n\nRun: Italic\nRun infos:\nBold: false Italic: true Underlined: NONE\nSuperscript/Subscript: baseline\n\nRun:  \nRun infos:\nBold: false Italic: false Underlined: NONE\nSuperscript/Subscript: baseline\n\nRun: Underlined\nRun infos:\nBold: false Italic: false Underlined: SINGLE\nSuperscript/Subscript: baseline\n\nRun:  \nRun infos:\nBold: false Italic: false Underlined: NONE\nSuperscript/Subscript: baseline\n\nRun: Bold and Italic\nRun infos:\nBold: true Italic: true Underlined: NONE\nSuperscript/Subscript: baseline\n\nRun: W\nRun infos:\nBold: false Italic: false Underlined: NONE\nSuperscript/Subscript: baseline\n\nRun: e have some\nRun infos:\nBold: false Italic: false Underlined: NONE\nSuperscript/Subscript: baseline\n\nRun: superscript\nRun infos:\nBold: false Italic: false Underlined: NONE\nSuperscript/Subscript: superscript\n\nRun:  and\nRun infos:\nBold: false Italic: false Underlined: NONE\nSuperscript/Subscript: baseline\n\nRun: subscript\nRun infos:\nBold: false Italic: false Underlined: NONE\nSuperscript/Subscript: subscript\n</code></pre>\n<p>This is not giving me any math information.</p>\n<p>Then I tried using Apache Tika and getting the information from the returned HTML:</p>\n<pre><code>private void getHtmlUsingTika(String absolutePath) throws IOException, TikaException, SAXException {\n    ContentHandler handler = new ToXMLContentHandler();\n    AutoDetectParser parser = new AutoDetectParser();\n    Metadata metadata = new Metadata();\n\n    InputStream stream = new FileInputStream(new File(absolutePath));\n\n    parser.parse(stream,handler,metadata);\n    System.out.println(handler.toString());\n}\n</code></pre>\n<p>Output:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;\n&lt;head&gt;\n&lt;meta name=&quot;cp:revision&quot; content=&quot;25&quot; /&gt;\n&lt;meta name=&quot;extended-properties:AppVersion&quot; content=&quot;15.0000&quot; /&gt;\n&lt;meta name=&quot;meta:paragraph-count&quot; content=&quot;1&quot; /&gt;\n&lt;meta name=&quot;meta:word-count&quot; content=&quot;33&quot; /&gt;\n&lt;meta name=&quot;extended-properties:Application&quot; content=&quot;Microsoft Office Word&quot; /&gt;\n&lt;meta name=&quot;meta:last-author&quot; content=&quot;Microsoft account&quot; /&gt;\n&lt;meta name=&quot;extended-properties:Company&quot; content=&quot;&quot; /&gt;\n&lt;meta name=&quot;xmpTPg:NPages&quot; content=&quot;1&quot; /&gt;\n&lt;meta name=&quot;dcterms:created&quot; content=&quot;2022-04-25T09:09:00Z&quot; /&gt;\n&lt;meta name=&quot;meta:line-count&quot; content=&quot;1&quot; /&gt;\n&lt;meta name=&quot;dcterms:modified&quot; content=&quot;2022-08-28T07:08:00Z&quot; /&gt;\n&lt;meta name=&quot;meta:character-count&quot; content=&quot;189&quot; /&gt;\n&lt;meta name=&quot;extended-properties:Template&quot; content=&quot;Normal.dotm&quot; /&gt;\n&lt;meta name=&quot;meta:character-count-with-spaces&quot; content=&quot;221&quot; /&gt;\n&lt;meta name=&quot;X-TIKA:Parsed-By&quot; content=&quot;org.apache.tika.parser.DefaultParser&quot; /&gt;\n&lt;meta name=&quot;X-TIKA:Parsed-By&quot; content=&quot;org.apache.tika.parser.microsoft.ooxml.OOXMLParser&quot; /&gt;\n&lt;meta name=&quot;extended-properties:DocSecurityString&quot; content=&quot;None&quot; /&gt;\n&lt;meta name=&quot;extended-properties:TotalTime&quot; content=&quot;35&quot; /&gt;\n&lt;meta name=&quot;meta:page-count&quot; content=&quot;1&quot; /&gt;\n&lt;meta name=&quot;Content-Type&quot; content=&quot;application/vnd.openxmlformats-officedocument.wordprocessingml.document&quot; /&gt;\n&lt;meta name=&quot;dc:publisher&quot; content=&quot;&quot; /&gt;\n&lt;title&gt;&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;&lt;p&gt;This one is a test Docx file.&lt;/p&gt;\n&lt;p&gt;Math: &lt;/p&gt;\n&lt;p&gt;&lt;b&gt;This is bold&lt;/b&gt;&lt;/p&gt;\n&lt;p&gt;&lt;i&gt;This ones italic&lt;/i&gt;&lt;/p&gt;\n&lt;p&gt;&lt;u&gt;Underlined&lt;/u&gt;&lt;/p&gt;\n&lt;p&gt;&lt;b&gt;&lt;i&gt;&lt;u&gt;Bold Italic and underlined&lt;/u&gt;&lt;/i&gt;&lt;/b&gt;&lt;/p&gt;\n&lt;p&gt;&lt;b&gt;&lt;i&gt;Bold and italic&lt;/i&gt;&lt;/b&gt;&lt;/p&gt;\n&lt;p&gt;In Same Line: &lt;b&gt;Bold&lt;/b&gt; &lt;i&gt;Italic&lt;/i&gt; &lt;u&gt;Underlined&lt;/u&gt; &lt;b&gt;&lt;i&gt;Bold and Italic&lt;/i&gt;&lt;/b&gt;&lt;/p&gt;\n&lt;p&gt;We have somesuperscript andsubscript&lt;/p&gt;\n&lt;p&gt;&lt;a name=&quot;_GoBack&quot; /&gt;&lt;/p&gt;\n&lt;/body&gt;&lt;/html&gt;\n</code></pre>\n<p>Again I am not getting any math information furthermore I'm not getting any superscript and subscript information using this approach.</p>\n<p>I am a beginner when it comes to handling word documents and stuck with this issue for a while now. Is there a way to get both math and other style information at the same time in java?\nAlso is it possible using javascript?</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1661667630,"post_id":73516382,"comment_id":129823274,"body_markdown":"please read this question and answers: [Why should I not upload images of code/data/errors when asking a question?](https://meta.stackoverflow.com/q/285551/16320675)","body":"please read this question and answers: <a href=\"https://meta.stackoverflow.com/q/285551/16320675\">Why should I not upload images of code/data/errors when asking a question?</a>"}],"answers":[{"tags":[],"owner":{"account_id":26086726,"reputation":129,"user_id":19784153,"display_name":"ePortfel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661675478,"creation_date":1661675478,"answer_id":73517153,"question_id":73516382,"body_markdown":"I think the one possible way is to inherit from JOptionPane and define new method like &quot;showUndecoratedOptionDialog&quot;. This method would be identical with showOptionDialog but with one additional line dialog.setUndecorated(true) just before dialog.show().\r\n\r\n","title":"How to setUndecorated(true) on a jOptionPane","body":"<p>I think the one possible way is to inherit from JOptionPane and define new method like &quot;showUndecoratedOptionDialog&quot;. This method would be identical with showOptionDialog but with one additional line dialog.setUndecorated(true) just before dialog.show().</p>\n"}],"owner":{"account_id":24485103,"reputation":1,"user_id":18402907,"display_name":"Jo&#227;o Victor"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1661675478,"creation_date":1661666486,"question_id":73516382,"body_markdown":"How can I setUndecorated(true) my jOptionPane?\r\n\r\nI&#39;ve tried everything, I&#39;ll leave below the link to the image of jOptionPane.\r\n\r\nhttps://i.stack.imgur.com/RUWaR.png\r\n\r\nHere&#39;s what i tried:\r\n\r\n    private void btnExitMouseClicked(java.awt.event.MouseEvent evt) {                                     \r\n        // TODO add your handling code here:\r\n        Color temaDark = new Color(18, 18, 18);\r\n        UIManager.put(&quot;control&quot;, temaDark);\r\n        UIManager.put(&quot;OptionPane.background&quot;, temaDark);\r\n        UIManager.put(&quot;OptionPane.messageForeground&quot;, Color.white);\r\n        int resposta = JOptionPane.showOptionDialog(new JFrame(), &quot;Deseja realmente sair do sistema?&quot;, &quot;Sair&quot;,\r\n                JOptionPane.YES_NO_OPTION, JOptionPane.QUESTION_MESSAGE, null,\r\n                new Object[]{&quot;N&#227;o&quot;, &quot;Sim&quot;}, JOptionPane.YES_OPTION);\r\n        if (resposta == JOptionPane.NO_OPTION) { //Inverti a op&#231;&#227;o para facilitar, para o Netbeans focar no &quot;N&#227;o&quot;, caso o usuario clique sem querer em sair\r\n            System.exit(0);\r\n        }\r\n    }    ","title":"How to setUndecorated(true) on a jOptionPane","body":"<p>How can I setUndecorated(true) my jOptionPane?</p>\n<p>I've tried everything, I'll leave below the link to the image of jOptionPane.</p>\n<p><a href=\"https://i.stack.imgur.com/RUWaR.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/RUWaR.png</a></p>\n<p>Here's what i tried:</p>\n<pre><code>private void btnExitMouseClicked(java.awt.event.MouseEvent evt) {                                     \n    // TODO add your handling code here:\n    Color temaDark = new Color(18, 18, 18);\n    UIManager.put(&quot;control&quot;, temaDark);\n    UIManager.put(&quot;OptionPane.background&quot;, temaDark);\n    UIManager.put(&quot;OptionPane.messageForeground&quot;, Color.white);\n    int resposta = JOptionPane.showOptionDialog(new JFrame(), &quot;Deseja realmente sair do sistema?&quot;, &quot;Sair&quot;,\n            JOptionPane.YES_NO_OPTION, JOptionPane.QUESTION_MESSAGE, null,\n            new Object[]{&quot;No&quot;, &quot;Sim&quot;}, JOptionPane.YES_OPTION);\n    if (resposta == JOptionPane.NO_OPTION) { //Inverti a opo para facilitar, para o Netbeans focar no &quot;No&quot;, caso o usuario clique sem querer em sair\n        System.exit(0);\n    }\n}    \n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1661683750,"post_id":73517027,"comment_id":129825702,"body_markdown":"&quot;I wanted to differentiate between 43 inch and 50 inch smart tvs&quot; -- Android may not know how large the TV is.","body":"&quot;I wanted to differentiate between 43 inch and 50 inch smart tvs&quot; -- Android may not know how large the TV is."}],"answers":[{"tags":[],"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661675083,"creation_date":1661675083,"answer_id":73517128,"question_id":73517027,"body_markdown":"You can get the resolution of the screen in pixels of evey Android device.\r\n\r\nAlso you can get pixels per inch (or dots per inch) for every Android device.\r\n\r\nSo yes you can calculate the demension of the screen.\r\n\r\nThe device itself will not be smaller ;-)","title":"Is there a way to get the physical size(inches) of smart android TV Programmatically","body":"<p>You can get the resolution of the screen in pixels of evey Android device.</p>\n<p>Also you can get pixels per inch (or dots per inch) for every Android device.</p>\n<p>So yes you can calculate the demension of the screen.</p>\n<p>The device itself will not be smaller ;-)</p>\n"}],"owner":{"account_id":26178649,"reputation":1,"user_id":19862348,"display_name":"Leul Girma"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":211,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661675083,"creation_date":1661674127,"question_id":73517027,"body_markdown":"I wanted to differentiate between 43 inch and 50 inch smart tvs and using display metrics i was able to get close enough result on my smartphone but on a 50 inch 4k tv it returns 28 inches with 1920&#215;1080 resolution, I installed some device info apps on the TV and they also show the size as 28 inch with 1080 res.\r\n\r\nThis [answer](https://stackoverflow.com/questions/67884567/how-to-read-the-real-native-physical-display-resolution-on-android-tv) suggested using DisplayCompat.ModeCompat, which has methods getPhysicalWidth and getPhysicalHeight that returns the correct resolution, but no other properties like display metrics that can help in determining the Inches.\r\n\r\nI want to know if there is methods inside DisplayCompat or other ways may to get the exact inch like combining the resolution, ppi or aspect ratio or if there is a library.","title":"Is there a way to get the physical size(inches) of smart android TV Programmatically","body":"<p>I wanted to differentiate between 43 inch and 50 inch smart tvs and using display metrics i was able to get close enough result on my smartphone but on a 50 inch 4k tv it returns 28 inches with 19201080 resolution, I installed some device info apps on the TV and they also show the size as 28 inch with 1080 res.</p>\n<p>This <a href=\"https://stackoverflow.com/questions/67884567/how-to-read-the-real-native-physical-display-resolution-on-android-tv\">answer</a> suggested using DisplayCompat.ModeCompat, which has methods getPhysicalWidth and getPhysicalHeight that returns the correct resolution, but no other properties like display metrics that can help in determining the Inches.</p>\n<p>I want to know if there is methods inside DisplayCompat or other ways may to get the exact inch like combining the resolution, ppi or aspect ratio or if there is a library.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1869831,"reputation":4089,"user_id":1692341,"accept_rate":90,"display_name":"Steffen"},"score":2,"creation_date":1401194197,"post_id":23889572,"comment_id":36778834,"body_markdown":"Does your class overwrite `toString()`? Probably not. As such, it will use the default implementation of [`Object`](http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#toString--). Ah, and because it&#39;s an array you are trying to print at the beginning. Use `Arrays.toString(array)` instead. You&#39;ll still have to overwrite `toString()` for your Airport class.","body":"Does your class overwrite <code>toString()</code>? Probably not. As such, it will use the default implementation of <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#toString--\" rel=\"nofollow noreferrer\"><code>Object</code></a>. Ah, and because it&#39;s an array you are trying to print at the beginning. Use <code>Arrays.toString(array)</code> instead. You&#39;ll still have to overwrite <code>toString()</code> for your Airport class."},{"owner":{"account_id":4459968,"reputation":106,"user_id":3629162,"display_name":"jlucidar"},"score":0,"creation_date":1401194201,"post_id":23889572,"comment_id":36778839,"body_markdown":"can you post your class airport ?","body":"can you post your class airport ?"},{"owner":{"account_id":1439900,"reputation":1569,"user_id":1360343,"accept_rate":50,"display_name":"Ankit Sharma"},"score":1,"creation_date":1401195421,"post_id":23889572,"comment_id":36779685,"body_markdown":"This is not memory address, It is full name of class + hash code of that object of same class.","body":"This is not memory address, It is full name of class + hash code of that object of same class."}],"answers":[{"tags":[],"owner":{"account_id":3260062,"reputation":6909,"user_id":2745792,"accept_rate":65,"display_name":"Ninad Pingale"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1401194196,"creation_date":1401194196,"answer_id":23889609,"question_id":23889572,"body_markdown":"If you implement `toString()` method of `Airport` object you can see strings on console.","title":"Why does my Java code return a memory address and not a string?","body":"<p>If you implement <code>toString()</code> method of <code>Airport</code> object you can see strings on console.</p>\n"},{"tags":[],"owner":{"account_id":2524075,"reputation":36076,"user_id":2193767,"accept_rate":78,"display_name":"TheLostMind"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1401194210,"creation_date":1401194210,"answer_id":23889613,"question_id":23889572,"body_markdown":"toString() doesn&#39;t return an address . It returns \r\n\r\n    getClass().getName() + &#39;@&#39; + Integer.toHexString(hashCode())","title":"Why does my Java code return a memory address and not a string?","body":"<p>toString() doesn't return an address . It returns </p>\n\n<pre><code>getClass().getName() + '@' + Integer.toHexString(hashCode())\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3284464,"reputation":4395,"user_id":2764279,"accept_rate":89,"display_name":"earthmover"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1401194351,"creation_date":1401194351,"answer_id":23889662,"question_id":23889572,"body_markdown":"Since `info` is an array of `String`, that&#39;s why the output is `[Lcom.flightwise.planexml.ws.Airport;@604ed9f0` and **not a `String`**, and if you want to print the `toString()` (if you have overrided) method of your `Airport` class, then just do : \r\n\r\n    System.out.println(info[0].toString()) // you can use any index in place of 0","title":"Why does my Java code return a memory address and not a string?","body":"<p>Since <code>info</code> is an array of <code>String</code>, that's why the output is <code>[Lcom.flightwise.planexml.ws.Airport;@604ed9f0</code> and <strong>not a <code>String</code></strong>, and if you want to print the <code>toString()</code> (if you have overrided) method of your <code>Airport</code> class, then just do : </p>\n\n<pre><code>System.out.println(info[0].toString()) // you can use any index in place of 0\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3076563,"reputation":6258,"user_id":2605733,"accept_rate":89,"display_name":"Abdul Fatir"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1401194752,"creation_date":1401194752,"answer_id":23889824,"question_id":23889572,"body_markdown":"As others have answered, you are:  \n\n1- Printing the array itself.  \n2- Using toString() without an override.    \n3- Printing an Airport Object.  \nIf you want to print specific things about the **Airport**, you need to use the properties explicitly. Also, read the documentaion https://flightwise.com/documentation/39/PlaneXML_API_Reference.html#Airport  \n\nIt reads:\n\n&gt; Provides basic information on an airport.\n&gt;\n&gt;Ident As String  \nICAO As String  \nLocation As String  \nLat As Double  \nLon As Double  \nElev As Int32  \nGMTOffset As Short  \nDST As Short","title":"Why does my Java code return a memory address and not a string?","body":"<p>As others have answered, you are:</p>\n<p>1- Printing the array itself.<br />\n2- Using toString() without an override.<br />\n3- Printing an Airport Object.<br />\nIf you want to print specific things about the <strong>Airport</strong>, you need to use the properties explicitly. Also, read the documentaion <a href=\"https://flightwise.com/documentation/39/PlaneXML_API_Reference.html#Airport\" rel=\"nofollow noreferrer\">https://flightwise.com/documentation/39/PlaneXML_API_Reference.html#Airport</a></p>\n<p>It reads:</p>\n<blockquote>\n<p>Provides basic information on an airport.</p>\n<p>Ident As String<br />\nICAO As String<br />\nLocation As String<br />\nLat As Double<br />\nLon As Double<br />\nElev As Int32<br />\nGMTOffset As Short<br />\nDST As Short</p>\n</blockquote>\n"}],"owner":{"account_id":3194329,"reputation":1295,"user_id":2697874,"accept_rate":72,"display_name":"Ben Mayo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4068,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1661673770,"accepted_answer_id":23889824,"answer_count":4,"score":0,"last_activity_date":1661673764,"creation_date":1401194074,"question_id":23889572,"body_markdown":"I am calling a WSDL service from PlaneXML - API reference here\r\nhttps://flightwise.com/documentation/39/PlaneXML_API_Reference.html#AirportInfo\r\n\r\nMy code:\r\n\r\n    public static void airportName() throws RemoteException{\r\n\t\tString lax = &quot;LAX&quot;;       \r\n\t\tPlaneXMLv1SoapProxy foo = new PlaneXMLv1SoapProxy();\r\n\t\tAirport [] info = foo.airportInfo(lax);\r\n\t\tSystem.out.println(&quot;output 1: &quot; + info);\r\n        System.out.println(&quot;output 2: &quot; + info.toString());\r\n\t\tSystem.out.println(&quot;output 3: &quot; + info[0]);\r\n    }\r\n\r\nMy output:\r\n\r\n    output 1: [Lcom.flightwise.planexml.ws.Airport;@604ed9f0\r\n    output 2: [Lcom.flightwise.planexml.ws.Airport;@604ed9f0\r\n    test\r\n    test\r\n    output 3: com.flightwise.planexml.ws.Airport@9117a1a4\r\n\r\nWhy do I return these memory addresses and not a string?\r\nAny ideas what might be causing the &quot;test&quot; output?\r\n\r\n","title":"Why does my Java code return a memory address and not a string?","body":"<p>I am calling a WSDL service from PlaneXML - API reference here\n<a href=\"https://flightwise.com/documentation/39/PlaneXML_API_Reference.html#AirportInfo\" rel=\"nofollow noreferrer\">https://flightwise.com/documentation/39/PlaneXML_API_Reference.html#AirportInfo</a></p>\n<p>My code:</p>\n<pre><code>public static void airportName() throws RemoteException{\n    String lax = &quot;LAX&quot;;       \n    PlaneXMLv1SoapProxy foo = new PlaneXMLv1SoapProxy();\n    Airport [] info = foo.airportInfo(lax);\n    System.out.println(&quot;output 1: &quot; + info);\n    System.out.println(&quot;output 2: &quot; + info.toString());\n    System.out.println(&quot;output 3: &quot; + info[0]);\n}\n</code></pre>\n<p>My output:</p>\n<pre><code>output 1: [Lcom.flightwise.planexml.ws.Airport;@604ed9f0\noutput 2: [Lcom.flightwise.planexml.ws.Airport;@604ed9f0\ntest\ntest\noutput 3: com.flightwise.planexml.ws.Airport@9117a1a4\n</code></pre>\n<p>Why do I return these memory addresses and not a string?\nAny ideas what might be causing the &quot;test&quot; output?</p>\n"},{"tags":["java","sqlite","database-connection"],"comments":[{"owner":{"account_id":3537759,"reputation":2321,"user_id":2955605,"display_name":"Slimu"},"score":0,"creation_date":1465297156,"post_id":37677443,"comment_id":62831879,"body_markdown":"This link: https://docs.oracle.com/javase/tutorial/jdbc/basics/index.html should help you learn how to work with DB in Java. You can also use Hibernate for this, but if you are a begginer I recomend using the old way. You should have the jdbc jars for sqlite in your application so that you can establish a connection","body":"This link: <a href=\"https://docs.oracle.com/javase/tutorial/jdbc/basics/index.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/jdbc/basics/index.html</a> should help you learn how to work with DB in Java. You can also use Hibernate for this, but if you are a begginer I recomend using the old way. You should have the jdbc jars for sqlite in your application so that you can establish a connection"},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1465297175,"post_id":37677443,"comment_id":62831894,"body_markdown":"If the server is remote you don&#39;t have to install the database on the client.  You have to install the database on the machine that will persist the data to disk.  It had to be done once.","body":"If the server is remote you don&#39;t have to install the database on the client.  You have to install the database on the machine that will persist the data to disk.  It had to be done once."}],"answers":[{"tags":[],"owner":{"account_id":7610459,"reputation":1833,"user_id":5771474,"accept_rate":74,"display_name":"Ice"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661673729,"creation_date":1465297544,"answer_id":37677654,"question_id":37677443,"body_markdown":"You need Jdbc driver only or you can use ORM like hibernate. \r\nYoutube has many tutorials about java and databases:\r\n\r\n[https://www.youtube.com/results?search_query=java+database+tutorial][1]\r\n\r\n\r\nIf you are a begginer, start with jdbc with sql queries, later you should start using ORM&#39;s.\r\nProbably you need to install mysql server or use this website [https://www.elephantsql.com/][2] to get database instant.\r\n\r\n\r\n  [1]: https://www.youtube.com/results?search_query=java%20database%20tutorial\r\n  [2]: https://www.elephantsql.com/","title":"do I need to install sqlite software to connect in java?","body":"<p>You need Jdbc driver only or you can use ORM like hibernate.\nYoutube has many tutorials about java and databases:</p>\n<p><a href=\"https://www.youtube.com/results?search_query=java%20database%20tutorial\" rel=\"nofollow noreferrer\">https://www.youtube.com/results?search_query=java+database+tutorial</a></p>\n<p>If you are a begginer, start with jdbc with sql queries, later you should start using ORM's.\nProbably you need to install mysql server or use this website <a href=\"https://www.elephantsql.com/\" rel=\"nofollow noreferrer\">https://www.elephantsql.com/</a> to get database instant.</p>\n"},{"tags":[],"owner":{"account_id":4392376,"reputation":3969,"user_id":3580365,"accept_rate":83,"display_name":"Gal Dreiman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1465297974,"creation_date":1465297974,"answer_id":37677809,"question_id":37677443,"body_markdown":"There are 2 options:\r\n\r\n 1. **Use your DB locally**:\r\nFor this you will need to install SQLLite on your machine, and in your project use JDBC jars for the connections from your java project to the DB. You may send queries to the DB as a string like &quot;SELECT XXX FROM YYY WHERE a&gt;b&quot; or use *Object Relational Mapping (ORM)* tools like [Hibernate][1].\r\n 2. If you have a **remote DB** installed on a VM on some cloud for example, then you don&#39;t need to install any DB on your local computer. But you will still need to use JDBC for connection.\r\n\r\n\r\n  [1]: http://www.tutorialspoint.com/hibernate/orm_overview.htm","title":"do I need to install sqlite software to connect in java?","body":"<p>There are 2 options:</p>\n\n<ol>\n<li><strong>Use your DB locally</strong>:\nFor this you will need to install SQLLite on your machine, and in your project use JDBC jars for the connections from your java project to the DB. You may send queries to the DB as a string like \"SELECT XXX FROM YYY WHERE a>b\" or use <em>Object Relational Mapping (ORM)</em> tools like <a href=\"http://www.tutorialspoint.com/hibernate/orm_overview.htm\" rel=\"nofollow\">Hibernate</a>.</li>\n<li>If you have a <strong>remote DB</strong> installed on a VM on some cloud for example, then you don't need to install any DB on your local computer. But you will still need to use JDBC for connection.</li>\n</ol>\n"}],"owner":{"display_name":"user3375734"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1661673729,"creation_date":1465296998,"question_id":37677443,"body_markdown":"To make connection to sqlite database and do some transaction, is it mandatory that a database software should be installed in the machine. I have seen that some libraries just handle connection and transactions without even database software. Or did I miss to notice that there were some database is already installed? How does the connection mechanism works?\r\nA link to good article with detailed explanation would help me!\r\n\r\nThank you.","title":"do I need to install sqlite software to connect in java?","body":"<p>To make connection to sqlite database and do some transaction, is it mandatory that a database software should be installed in the machine. I have seen that some libraries just handle connection and transactions without even database software. Or did I miss to notice that there were some database is already installed? How does the connection mechanism works?\nA link to good article with detailed explanation would help me!</p>\n\n<p>Thank you.</p>\n"},{"tags":["java","amazon-web-services","spring-boot","kotlin","aws-msk"],"comments":[{"owner":{"account_id":15422225,"reputation":419,"user_id":11125970,"display_name":"floating_hammer"},"score":1,"creation_date":1623683741,"post_id":67487870,"comment_id":120142268,"body_markdown":"This looks very similar to https://stackoverflow.com/questions/67574325/unable-to-use-iam-access-control-method-using-terraform-aws-msk-cluster-resource","body":"This looks very similar to <a href=\"https://stackoverflow.com/questions/67574325/unable-to-use-iam-access-control-method-using-terraform-aws-msk-cluster-resource\" title=\"unable to use iam access control method using terraform aws msk cluster resource\">stackoverflow.com/questions/67574325/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":6025448,"reputation":368,"user_id":4731312,"display_name":"Matt Kindy"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1628171576,"creation_date":1628171576,"answer_id":68667927,"question_id":67487870,"body_markdown":"I had this issue. AWS MSK IAM relies on [communication over port 9098][1]. In my case, I had security groups allow inbound communication over the typical ports 9092 (plaintext) and 9094 (TLS) but not 9098. Make sure your cluster is accepting traffic over that port\r\n\r\n\r\n  [1]: https://aws.amazon.com/blogs/big-data/securing-apache-kafka-is-easy-and-familiar-with-iam-access-control-for-amazon-msk/","title":"AWS MSK with IAM - Timeout Exception","body":"<p>I had this issue. AWS MSK IAM relies on <a href=\"https://aws.amazon.com/blogs/big-data/securing-apache-kafka-is-easy-and-familiar-with-iam-access-control-for-amazon-msk/\" rel=\"nofollow noreferrer\">communication over port 9098</a>. In my case, I had security groups allow inbound communication over the typical ports 9092 (plaintext) and 9094 (TLS) but not 9098. Make sure your cluster is accepting traffic over that port</p>\n"},{"tags":[],"owner":{"account_id":5005938,"reputation":11,"user_id":4023601,"display_name":"Siraj Lakhani"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645546272,"creation_date":1645116050,"answer_id":71162086,"question_id":67487870,"body_markdown":"I was facing similar issue and below is the config i had used in java code. Turns out I was using old kafka-client lib and after upgrading version till 2.6.11, I was able to resolve the issue.\r\n\r\n    &lt;dependency&gt;\r\n          &lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\r\n          &lt;artifactId&gt;kafka-clients&lt;/artifactId&gt;\r\n          &lt;version&gt;2.6.3&lt;/version&gt;\r\n     &lt;/dependency&gt;\r\n\r\n\r\n     props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, brokers);\r\n     props.put(&quot;security.protocol&quot;, &quot;SASL_SSL&quot;);\r\n     props.put(&quot;sasl.mechanism&quot;, &quot;AWS_MSK_IAM&quot;);\r\n     props.put(&quot;sasl.jaas.config&quot;, &quot;software.amazon.msk.auth.iam.IAMLoginModule required;&quot;);\r\n     props.put(&quot;sasl.client.callback.handler.class&quot;, &quot;software.amazon.msk.auth.iam.IAMClientCallbackHandler&quot;);\r\n     props.put(ConsumerConfig.GROUP_ID_CONFIG, &quot;Random123&quot;);\r\n     props.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;earliest&quot;);\r\n     props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG,&quot;org.apache.kafka.common.serialization.StringDeserializer&quot;);\r\n     props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, &quot;org.apache.kafka.common.serialization.StringDeserializer&quot;);","title":"AWS MSK with IAM - Timeout Exception","body":"<p>I was facing similar issue and below is the config i had used in java code. Turns out I was using old kafka-client lib and after upgrading version till 2.6.11, I was able to resolve the issue.</p>\n<pre><code>&lt;dependency&gt;\n      &lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\n      &lt;artifactId&gt;kafka-clients&lt;/artifactId&gt;\n      &lt;version&gt;2.6.3&lt;/version&gt;\n &lt;/dependency&gt;\n\n\n props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, brokers);\n props.put(&quot;security.protocol&quot;, &quot;SASL_SSL&quot;);\n props.put(&quot;sasl.mechanism&quot;, &quot;AWS_MSK_IAM&quot;);\n props.put(&quot;sasl.jaas.config&quot;, &quot;software.amazon.msk.auth.iam.IAMLoginModule required;&quot;);\n props.put(&quot;sasl.client.callback.handler.class&quot;, &quot;software.amazon.msk.auth.iam.IAMClientCallbackHandler&quot;);\n props.put(ConsumerConfig.GROUP_ID_CONFIG, &quot;Random123&quot;);\n props.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;earliest&quot;);\n props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG,&quot;org.apache.kafka.common.serialization.StringDeserializer&quot;);\n props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, &quot;org.apache.kafka.common.serialization.StringDeserializer&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3188714,"reputation":1014,"user_id":2693608,"display_name":"ezer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652879493,"creation_date":1652879176,"answer_id":72289807,"question_id":67487870,"body_markdown":"this issue is seems to relate to networking.\r\n\r\nmake sure you expose the correct ports in your MSK security group ingress\r\n\r\nin case you use cloudformation to generate your security group, you can use the ingress that suits you (more than one option can be appplied)\r\n\r\nexample:\r\n```yaml\r\n  MskSecurityGroup:\r\n    Type: &quot;AWS::EC2::SecurityGroup&quot;\r\n    Properties:\r\n      GroupDescription: MSK security group\r\n      GroupName: !Sub &quot;${AWS::StackName}-securitygroup&quot;\r\n      SecurityGroupEgress:\r\n        - Description: No restrictions\r\n          CidrIp: &quot;0.0.0.0/0&quot;\r\n          FromPort: 0\r\n          IpProtocol: tcp\r\n          ToPort: 65535\r\n      SecurityGroupIngress:\r\n\r\n        # bootstrap servers IAM auth\r\n        - CidrIp: !Ref CidrIp\r\n          FromPort: 9098\r\n          IpProtocol: tcp\r\n          ToPort: 9098\r\n\r\n        # bootstrap servers TLS auth\r\n        - CidrIp: !Ref CidrIp\r\n          FromPort: 9094\r\n          IpProtocol: tcp\r\n          ToPort: 9094\r\n\r\n        # bootstrap servers PLAINTEXT\r\n        - CidrIp: !Ref CidrIp\r\n          FromPort: 9092\r\n          IpProtocol: tcp\r\n          ToPort: 9092\r\n\r\n        # zookeeper TLS\r\n        - CidrIp: !Ref CidrIp\r\n          FromPort: 2182\r\n          IpProtocol: tcp\r\n          ToPort: 2182\r\n\r\n        # zookeeper PLAINTEXT\r\n        - CidrIp: !Ref CidrIp\r\n          FromPort: 2181\r\n          IpProtocol: tcp\r\n          ToPort: 2181\r\n      VpcId: !Ref myVpcId\r\n```","title":"AWS MSK with IAM - Timeout Exception","body":"<p>this issue is seems to relate to networking.</p>\n<p>make sure you expose the correct ports in your MSK security group ingress</p>\n<p>in case you use cloudformation to generate your security group, you can use the ingress that suits you (more than one option can be appplied)</p>\n<p>example:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>  MskSecurityGroup:\n    Type: &quot;AWS::EC2::SecurityGroup&quot;\n    Properties:\n      GroupDescription: MSK security group\n      GroupName: !Sub &quot;${AWS::StackName}-securitygroup&quot;\n      SecurityGroupEgress:\n        - Description: No restrictions\n          CidrIp: &quot;0.0.0.0/0&quot;\n          FromPort: 0\n          IpProtocol: tcp\n          ToPort: 65535\n      SecurityGroupIngress:\n\n        # bootstrap servers IAM auth\n        - CidrIp: !Ref CidrIp\n          FromPort: 9098\n          IpProtocol: tcp\n          ToPort: 9098\n\n        # bootstrap servers TLS auth\n        - CidrIp: !Ref CidrIp\n          FromPort: 9094\n          IpProtocol: tcp\n          ToPort: 9094\n\n        # bootstrap servers PLAINTEXT\n        - CidrIp: !Ref CidrIp\n          FromPort: 9092\n          IpProtocol: tcp\n          ToPort: 9092\n\n        # zookeeper TLS\n        - CidrIp: !Ref CidrIp\n          FromPort: 2182\n          IpProtocol: tcp\n          ToPort: 2182\n\n        # zookeeper PLAINTEXT\n        - CidrIp: !Ref CidrIp\n          FromPort: 2181\n          IpProtocol: tcp\n          ToPort: 2181\n      VpcId: !Ref myVpcId\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9888134,"reputation":487,"user_id":7322039,"display_name":"Vahan Yeghyan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661673151,"creation_date":1661673151,"answer_id":73516922,"question_id":67487870,"body_markdown":"    @Bean\r\n\tpublic Map&lt;String, Object&gt; consumerConfigs() {\r\n\t\tMap&lt;String, Object&gt; props = new HashMap&lt;&gt;();\r\n\t\tprops.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, url);\r\n\t\tprops.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\r\n\t\tprops.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\r\n\t\tprops.put(CommonClientConfigs.SECURITY_PROTOCOL_CONFIG, &quot;SASL_SSL&quot;);\r\n\t\tprops.put(SaslConfigs.SASL_MECHANISM, &quot;AWS_MSK_IAM&quot;);\r\n\t\tprops.put(SaslConfigs.SASL_JAAS_CONFIG, &quot;software.amazon.msk.auth.iam.IAMLoginModule required;&quot;);\r\n\t\tprops.put(SaslConfigs.SASL_CLIENT_CALLBACK_HANDLER_CLASS, &quot;software.amazon.msk.auth.iam.IAMClientCallbackHandler&quot;);\r\n\t\treturn props;\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic ConsumerFactory&lt;String, String&gt; consumerFactory() {\r\n\t\treturn new DefaultKafkaConsumerFactory&lt;&gt;(consumerConfigs());\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic KafkaListenerContainerFactory&lt;ConcurrentMessageListenerContainer&lt;String, String&gt;&gt; kafkaListenerContainerFactory() {\r\n\t\tConcurrentKafkaListenerContainerFactory&lt;String, String&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\r\n\t\tfactory.setConsumerFactory(consumerFactory());\r\n\t\treturn factory;\r\n\t}\r\n\r\n1. Make sure that MSK cluster&#39;s security group opened access for current EC2.\r\n2. Make sure current EC2 has IAM role and that role should be configured with policies that allow or deny actions. If its serverless cluster you can see &quot;Configure IAM policy&quot; button, there you will see a json which you should copy then edit as described there and insert into your EC2 IAM role&#39;s policy and you will have access.\r\n3. Also you must have current dependency for maven \r\n    \r\n       &lt;dependency&gt;\r\n          &lt;groupId&gt;software.amazon.msk&lt;/groupId&gt;\r\n          &lt;artifactId&gt;aws-msk-iam-auth&lt;/artifactId&gt;\r\n          &lt;version&gt;1.1.4&lt;/version&gt;\r\n       &lt;/dependency&gt;\r\n\r\n which will do the client work part for you. Be informed that sometimes it gives conflict with &quot;aws-java-sdk&quot; dependency.","title":"AWS MSK with IAM - Timeout Exception","body":"<pre><code>@Bean\npublic Map&lt;String, Object&gt; consumerConfigs() {\n    Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\n    props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, url);\n    props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\n    props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\n    props.put(CommonClientConfigs.SECURITY_PROTOCOL_CONFIG, &quot;SASL_SSL&quot;);\n    props.put(SaslConfigs.SASL_MECHANISM, &quot;AWS_MSK_IAM&quot;);\n    props.put(SaslConfigs.SASL_JAAS_CONFIG, &quot;software.amazon.msk.auth.iam.IAMLoginModule required;&quot;);\n    props.put(SaslConfigs.SASL_CLIENT_CALLBACK_HANDLER_CLASS, &quot;software.amazon.msk.auth.iam.IAMClientCallbackHandler&quot;);\n    return props;\n}\n\n@Bean\npublic ConsumerFactory&lt;String, String&gt; consumerFactory() {\n    return new DefaultKafkaConsumerFactory&lt;&gt;(consumerConfigs());\n}\n\n@Bean\npublic KafkaListenerContainerFactory&lt;ConcurrentMessageListenerContainer&lt;String, String&gt;&gt; kafkaListenerContainerFactory() {\n    ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n    factory.setConsumerFactory(consumerFactory());\n    return factory;\n}\n</code></pre>\n<ol>\n<li><p>Make sure that MSK cluster's security group opened access for current EC2.</p>\n</li>\n<li><p>Make sure current EC2 has IAM role and that role should be configured with policies that allow or deny actions. If its serverless cluster you can see &quot;Configure IAM policy&quot; button, there you will see a json which you should copy then edit as described there and insert into your EC2 IAM role's policy and you will have access.</p>\n</li>\n<li><p>Also you must have current dependency for maven</p>\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;software.amazon.msk&lt;/groupId&gt;\n   &lt;artifactId&gt;aws-msk-iam-auth&lt;/artifactId&gt;\n   &lt;version&gt;1.1.4&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n</li>\n</ol>\n<p>which will do the client work part for you. Be informed that sometimes it gives conflict with &quot;aws-java-sdk&quot; dependency.</p>\n"}],"owner":{"account_id":437387,"reputation":301,"user_id":825045,"accept_rate":83,"display_name":"Lucas Gazire"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4946,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":4,"score":4,"last_activity_date":1661673151,"creation_date":1620739996,"question_id":67487870,"body_markdown":"We are using Aws MSK, recently they announce the AWS MSK IAM AUTH(https://github.com/aws/aws-msk-iam-auth)\r\n\r\nWhen i tried to use it with the bellow configuration on my clients i got the exception:\r\n```[AdminClient clientId=adminclient-1] Metadata update failed\r\norg.apache.kafka.common.errors.TimeoutException: Call(callName=fetchMetadata, deadlineMs=1620677932733) timed out at 1620677932734 after 1 attempt(s)\r\nCaused by: org.apache.kafka.common.errors.TimeoutException: Timed out waiting for a node assignment.\r\n```\r\nMy application.yml:\r\n\r\n```security.protocol: SASL_SSL\r\nsasl:\r\n  mechanism: AWS_MSK_IAM\r\n  jaas:\r\n    config: software.amazon.msk.auth.iam.IAMLoginModule required\r\n  client:\r\n    callback:\r\n      handler:\r\n        class: software.amazon.msk.auth.iam.IAMClientCallbackHandler\r\n```\r\n\r\nThe telnet works but it seems that something is missing, any suggestions?","title":"AWS MSK with IAM - Timeout Exception","body":"<p>We are using Aws MSK, recently they announce the AWS MSK IAM AUTH(<a href=\"https://github.com/aws/aws-msk-iam-auth\" rel=\"nofollow noreferrer\">https://github.com/aws/aws-msk-iam-auth</a>)</p>\n<p>When i tried to use it with the bellow configuration on my clients i got the exception:</p>\n<pre><code>org.apache.kafka.common.errors.TimeoutException: Call(callName=fetchMetadata, deadlineMs=1620677932733) timed out at 1620677932734 after 1 attempt(s)\nCaused by: org.apache.kafka.common.errors.TimeoutException: Timed out waiting for a node assignment.\n</code></pre>\n<p>My application.yml:</p>\n<pre><code>sasl:\n  mechanism: AWS_MSK_IAM\n  jaas:\n    config: software.amazon.msk.auth.iam.IAMLoginModule required\n  client:\n    callback:\n      handler:\n        class: software.amazon.msk.auth.iam.IAMClientCallbackHandler\n</code></pre>\n<p>The telnet works but it seems that something is missing, any suggestions?</p>\n"},{"tags":["java","java-threads"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1661359553,"post_id":73476556,"comment_id":129755727,"body_markdown":"If you want help debugging your code, then I think you should post a [mcve].","body":"If you want help debugging your code, then I think you should post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":25070695,"reputation":1,"user_id":18924554,"display_name":"Piotruz"},"score":0,"creation_date":1661360337,"post_id":73476556,"comment_id":129756004,"body_markdown":"Okey, I&#39;ll try. There&#39;s a lot of code required to make the wole thing work but I thougth these 2 snippets were enough to point out some obvious flaws.","body":"Okey, I&#39;ll try. There&#39;s a lot of code required to make the wole thing work but I thougth these 2 snippets were enough to point out some obvious flaws."},{"owner":{"account_id":25070695,"reputation":1,"user_id":18924554,"display_name":"Piotruz"},"score":0,"creation_date":1661366475,"post_id":73476556,"comment_id":129758085,"body_markdown":"@Abra hey is this too much?","body":"@Abra hey is this too much?"}],"answers":[{"tags":[],"owner":{"account_id":26086726,"reputation":129,"user_id":19784153,"display_name":"ePortfel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661672964,"creation_date":1661672964,"answer_id":73516900,"question_id":73476556,"body_markdown":"Execution never stops because both players hang onto foo.wait(); and there is no one to wake them up.\r\n\r\nPlayer object should interrupt other sleeping players after making a move:\r\n```\r\n            do\r\n            {\r\n              while (mark == ticTacToe.lastMark())\r\n              { // if the last placed mark is the same as this player&#39;s mark wait for the other thread\r\n                try { foo.wait(); } catch (InterruptedException ex) {};\r\n              }\r\n              if (!wonBoard(ticTacToe.table(),&#39;O&#39;) &amp;&amp; !wonBoard(ticTacToe.table(),&#39;X&#39;))\r\n              {\r\n                ticTacToe.setMark(strategy.computeMove(mark, ticTacToe)[0], strategy.computeMove(mark, ticTacToe)[1], mark); // set the mark in place\r\n              }\r\n              for (Thread th : ticTacToe.threads) th.interrupt();\r\n            } while (!wonBoard(ticTacToe.table(),&#39;O&#39;) &amp;&amp; !wonBoard(ticTacToe.table(),&#39;X&#39;)); //check if the board has 3 consecutive marks on any line\r\n```\r\n\r\nOf course first you have to write down references to threads:\r\n```\r\npublic class TicTacToe {\r\n  \r\n    public List&lt;Thread&gt; threads;\r\n```\r\n```\r\n        for (int i = 0; i &lt; marks.size(); i++) {\r\n            Player player = Player.createPlayer(ticTacToe, marks.get(i), strategies[i]);\r\n            Thread thread = new Thread(player);\r\n            playerThreads.add(thread);\r\n        }\r\n\r\n        ticTacToe.threads=playerThreads;\r\n        playerThreads.forEach(Thread::start);\r\n        playerThreads.forEach(silentConsumer(Thread::join));\r\n```\r\n","title":"Java concurrent threads Tic Tac Toe simulation","body":"<p>Execution never stops because both players hang onto foo.wait(); and there is no one to wake them up.</p>\n<p>Player object should interrupt other sleeping players after making a move:</p>\n<pre><code>            do\n            {\n              while (mark == ticTacToe.lastMark())\n              { // if the last placed mark is the same as this player's mark wait for the other thread\n                try { foo.wait(); } catch (InterruptedException ex) {};\n              }\n              if (!wonBoard(ticTacToe.table(),'O') &amp;&amp; !wonBoard(ticTacToe.table(),'X'))\n              {\n                ticTacToe.setMark(strategy.computeMove(mark, ticTacToe)[0], strategy.computeMove(mark, ticTacToe)[1], mark); // set the mark in place\n              }\n              for (Thread th : ticTacToe.threads) th.interrupt();\n            } while (!wonBoard(ticTacToe.table(),'O') &amp;&amp; !wonBoard(ticTacToe.table(),'X')); //check if the board has 3 consecutive marks on any line\n</code></pre>\n<p>Of course first you have to write down references to threads:</p>\n<pre><code>public class TicTacToe {\n  \n    public List&lt;Thread&gt; threads;\n</code></pre>\n<pre><code>        for (int i = 0; i &lt; marks.size(); i++) {\n            Player player = Player.createPlayer(ticTacToe, marks.get(i), strategies[i]);\n            Thread thread = new Thread(player);\n            playerThreads.add(thread);\n        }\n\n        ticTacToe.threads=playerThreads;\n        playerThreads.forEach(Thread::start);\n        playerThreads.forEach(silentConsumer(Thread::join));\n</code></pre>\n"}],"owner":{"account_id":25070695,"reputation":1,"user_id":18924554,"display_name":"Piotruz"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":598,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661672964,"creation_date":1661358034,"question_id":73476556,"body_markdown":"Hey I tried to synchronize two threads but I can&#39;t seem to get them to work properly.\r\n\r\nEach thread is a Player. They should wait for their turn after placing their mark. The problem is execution never stops and I&#39;m not sure why.\r\n\r\nIf this post does not meet minimal and readible criteria, let me know I&#39;ll keep editing.\r\n\r\nThis is `TicTacToe` class.\r\n```\r\npublic class TicTacToe {\r\n\r\n    static char prevMark=&#39;O&#39;;\r\n    static char[][] board;\r\n\r\n    public TicTacToe() {\r\n        newBoard(); // create board filled with blank spaces\r\n    }\r\n\r\n    public void setMark(int x, int y, char mark) {\r\n        if(x&gt;2||y&gt;2||(mark!=&#39;X&#39;&amp;&amp;mark!=&#39;O&#39;)) // if coordinates get outside the table or the mark is not X or O throw exception\r\n            throw new IllegalArgumentException();\r\n        if (board[x][y]==&#39; &#39;) { // if given place in the table is blank you can place the mark\r\n            board[x][y] = mark;\r\n            prevMark=mark;\r\n        }\r\n        else\r\n            throw new IllegalArgumentException();\r\n    }\r\n\r\n    public char[][] table() {\r\n        return Arrays.stream(board).map(char[]::clone).toArray(char[][]::new);\r\n    }\r\n\r\n    public char lastMark() {\r\n        return prevMark;\r\n    }\r\n\r\n    static private void newBoard() {\r\n        board= new char[][]{{&#39; &#39;, &#39; &#39;, &#39; &#39;},\r\n                {&#39; &#39;, &#39; &#39;, &#39; &#39;},\r\n                {&#39; &#39;, &#39; &#39;, &#39; &#39;},\r\n        };\r\n    }\r\n\r\n}\r\n```\r\nThis class manages creation of the playing board, setting the marks on it and remembering the last mark placed to determine which player&#39;s turn is next.\r\n\r\nThis is `Player` interface\r\n```\r\npublic interface Player extends Runnable{\r\n\r\n    static boolean wonBoard(char[][] table, char mark){ //check if there is a line of 3 consecutive marks on the board\r\n        for(int i=0; i&lt;=2;i++){\r\n            if(table[0][i]==mark&amp;&amp;table[1][i]==mark&amp;&amp;table[2][i]==mark)\r\n                return true;\r\n            if(table[i][0]==mark&amp;&amp;table[i][1]==mark&amp;&amp;table[i][2]==mark)\r\n                return true;\r\n        }\r\n        if (table[0][0] == mark &amp;&amp; table[1][1] == mark &amp;&amp; table[2][2] == mark)\r\n            return true;\r\n        return table[0][2] == mark &amp;&amp; table[1][1] == mark &amp;&amp; table[2][0] == mark;\r\n    }\r\n\r\n    static Player createPlayer(final TicTacToe ticTacToe, final char mark, PlayerStrategy strategy) {\r\n\r\n        Object foo = new Object();\r\n\r\n        return new Player() {\r\n            @Override\r\n            public void run() {\r\n                synchronized (foo) {\r\n                    try {\r\n                        do {\r\n                            while (mark == ticTacToe.lastMark()) { // if the last placed mark is the same as this player&#39;s mark wait for the other thread\r\n                                foo.wait();\r\n                            }\r\n                            ticTacToe.setMark(strategy.computeMove(mark, ticTacToe)[0], strategy.computeMove(mark, ticTacToe)[1], mark); // set the mark in place\r\n                        } while (!wonBoard(ticTacToe.table(), mark)); //check if the board has 3 consecutive marks on any line\r\n                    } catch (InterruptedException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n            }\r\n        };\r\n    }\r\n}\r\n```\r\n\r\nThis class is for determining the next move of each player and returns coordinates of the move. There shouldn&#39;t be any problems here.\r\n\r\n```\r\npublic class PlayerStrategy {\r\n\r\n    public int[] computeMove(final char mark, final TicTacToe ticTacToe) {\r\n        final char[][] table = ticTacToe.table();\r\n        int[] coordinates = new int[0];\r\n        for (int dia = 0; dia &lt; 5; dia++) {\r\n            for (int i = 0; i &lt; 3; i++) {\r\n                for (int j = 0; j &lt; 3; j++) {\r\n                    if (i + j == dia &amp;&amp; table[i][j] == &#39; &#39;) {\r\n                        coordinates = new int[]{i,j};\r\n                        return coordinates;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        throw new IllegalArgumentException();\r\n    }\r\n}\r\n```\r\n\r\nHere&#39;s an example of the test.\r\n\r\n```\r\nimport static org.junit.jupiter.api.Assertions.assertEquals;\r\n\r\nclass GameTest {\r\n\r\n    @Test\r\n    void testPlayers() {\r\n        testCase(&quot;&quot; +\r\n                        &quot;XOO\\n&quot; +\r\n                        &quot;XXX\\n&quot; +\r\n                        &quot;O  &quot;,\r\n                new PlayerStrategy(), new PlayerStrategy());\r\n    }\r\n\r\n    private void testCase(String expected, PlayerStrategy... strategies) {\r\n        final TicTacToe ticTacToe = new TicTacToe();\r\n\r\n        final List&lt;Thread&gt; playerThreads = new ArrayList&lt;&gt;();\r\n        final List&lt;Character&gt; marks = Arrays.asList(&#39;X&#39;, &#39;O&#39;);\r\n\r\n        for (int i = 0; i &lt; marks.size(); i++) {\r\n            Player player = Player.createPlayer(ticTacToe, marks.get(i), strategies[i]);\r\n            Thread thread = new Thread(player);\r\n            playerThreads.add(thread);\r\n        }\r\n\r\n        playerThreads.forEach(Thread::start);\r\n        playerThreads.forEach(silentConsumer(Thread::join));\r\n\r\n        assertEquals(expected, tableString(ticTacToe.table()));\r\n    }\r\n}\r\n```\r\n\r\nClass with `tableString` method for asserting equals\r\n```\r\nimport java.util.stream.Collectors;\r\n\r\npublic class Utils {\r\n    public static String tableString(char[][] table){\r\n        return Arrays.stream(table)\r\n                .map(String::new)\r\n                .collect(Collectors.joining(&quot;\\n&quot;));\r\n    }\r\n\r\n}\r\n```\r\n\r\nConsumer for throws\r\n```\r\nimport java.util.function.Consumer;\r\n\r\n@FunctionalInterface\r\npublic interface ThrowingConsumer&lt;T, E extends Throwable&gt; {\r\n    void apply(T o) throws E;\r\n\r\n    static &lt;T, E extends Throwable&gt; Consumer&lt;T&gt; silentConsumer(ThrowingConsumer&lt;T, E&gt; throwingConsumer) {\r\n        return (param) -&gt; {\r\n            try {\r\n                throwingConsumer.apply(param);\r\n            } catch (Throwable e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        };\r\n    }\r\n}\r\n```","title":"Java concurrent threads Tic Tac Toe simulation","body":"<p>Hey I tried to synchronize two threads but I can't seem to get them to work properly.</p>\n<p>Each thread is a Player. They should wait for their turn after placing their mark. The problem is execution never stops and I'm not sure why.</p>\n<p>If this post does not meet minimal and readible criteria, let me know I'll keep editing.</p>\n<p>This is <code>TicTacToe</code> class.</p>\n<pre><code>public class TicTacToe {\n\n    static char prevMark='O';\n    static char[][] board;\n\n    public TicTacToe() {\n        newBoard(); // create board filled with blank spaces\n    }\n\n    public void setMark(int x, int y, char mark) {\n        if(x&gt;2||y&gt;2||(mark!='X'&amp;&amp;mark!='O')) // if coordinates get outside the table or the mark is not X or O throw exception\n            throw new IllegalArgumentException();\n        if (board[x][y]==' ') { // if given place in the table is blank you can place the mark\n            board[x][y] = mark;\n            prevMark=mark;\n        }\n        else\n            throw new IllegalArgumentException();\n    }\n\n    public char[][] table() {\n        return Arrays.stream(board).map(char[]::clone).toArray(char[][]::new);\n    }\n\n    public char lastMark() {\n        return prevMark;\n    }\n\n    static private void newBoard() {\n        board= new char[][]{{' ', ' ', ' '},\n                {' ', ' ', ' '},\n                {' ', ' ', ' '},\n        };\n    }\n\n}\n</code></pre>\n<p>This class manages creation of the playing board, setting the marks on it and remembering the last mark placed to determine which player's turn is next.</p>\n<p>This is <code>Player</code> interface</p>\n<pre><code>public interface Player extends Runnable{\n\n    static boolean wonBoard(char[][] table, char mark){ //check if there is a line of 3 consecutive marks on the board\n        for(int i=0; i&lt;=2;i++){\n            if(table[0][i]==mark&amp;&amp;table[1][i]==mark&amp;&amp;table[2][i]==mark)\n                return true;\n            if(table[i][0]==mark&amp;&amp;table[i][1]==mark&amp;&amp;table[i][2]==mark)\n                return true;\n        }\n        if (table[0][0] == mark &amp;&amp; table[1][1] == mark &amp;&amp; table[2][2] == mark)\n            return true;\n        return table[0][2] == mark &amp;&amp; table[1][1] == mark &amp;&amp; table[2][0] == mark;\n    }\n\n    static Player createPlayer(final TicTacToe ticTacToe, final char mark, PlayerStrategy strategy) {\n\n        Object foo = new Object();\n\n        return new Player() {\n            @Override\n            public void run() {\n                synchronized (foo) {\n                    try {\n                        do {\n                            while (mark == ticTacToe.lastMark()) { // if the last placed mark is the same as this player's mark wait for the other thread\n                                foo.wait();\n                            }\n                            ticTacToe.setMark(strategy.computeMove(mark, ticTacToe)[0], strategy.computeMove(mark, ticTacToe)[1], mark); // set the mark in place\n                        } while (!wonBoard(ticTacToe.table(), mark)); //check if the board has 3 consecutive marks on any line\n                    } catch (InterruptedException e) {\n                        e.printStackTrace();\n                    }\n                }\n            }\n        };\n    }\n}\n</code></pre>\n<p>This class is for determining the next move of each player and returns coordinates of the move. There shouldn't be any problems here.</p>\n<pre><code>public class PlayerStrategy {\n\n    public int[] computeMove(final char mark, final TicTacToe ticTacToe) {\n        final char[][] table = ticTacToe.table();\n        int[] coordinates = new int[0];\n        for (int dia = 0; dia &lt; 5; dia++) {\n            for (int i = 0; i &lt; 3; i++) {\n                for (int j = 0; j &lt; 3; j++) {\n                    if (i + j == dia &amp;&amp; table[i][j] == ' ') {\n                        coordinates = new int[]{i,j};\n                        return coordinates;\n                    }\n                }\n            }\n        }\n        throw new IllegalArgumentException();\n    }\n}\n</code></pre>\n<p>Here's an example of the test.</p>\n<pre><code>import static org.junit.jupiter.api.Assertions.assertEquals;\n\nclass GameTest {\n\n    @Test\n    void testPlayers() {\n        testCase(&quot;&quot; +\n                        &quot;XOO\\n&quot; +\n                        &quot;XXX\\n&quot; +\n                        &quot;O  &quot;,\n                new PlayerStrategy(), new PlayerStrategy());\n    }\n\n    private void testCase(String expected, PlayerStrategy... strategies) {\n        final TicTacToe ticTacToe = new TicTacToe();\n\n        final List&lt;Thread&gt; playerThreads = new ArrayList&lt;&gt;();\n        final List&lt;Character&gt; marks = Arrays.asList('X', 'O');\n\n        for (int i = 0; i &lt; marks.size(); i++) {\n            Player player = Player.createPlayer(ticTacToe, marks.get(i), strategies[i]);\n            Thread thread = new Thread(player);\n            playerThreads.add(thread);\n        }\n\n        playerThreads.forEach(Thread::start);\n        playerThreads.forEach(silentConsumer(Thread::join));\n\n        assertEquals(expected, tableString(ticTacToe.table()));\n    }\n}\n</code></pre>\n<p>Class with <code>tableString</code> method for asserting equals</p>\n<pre><code>import java.util.stream.Collectors;\n\npublic class Utils {\n    public static String tableString(char[][] table){\n        return Arrays.stream(table)\n                .map(String::new)\n                .collect(Collectors.joining(&quot;\\n&quot;));\n    }\n\n}\n</code></pre>\n<p>Consumer for throws</p>\n<pre><code>import java.util.function.Consumer;\n\n@FunctionalInterface\npublic interface ThrowingConsumer&lt;T, E extends Throwable&gt; {\n    void apply(T o) throws E;\n\n    static &lt;T, E extends Throwable&gt; Consumer&lt;T&gt; silentConsumer(ThrowingConsumer&lt;T, E&gt; throwingConsumer) {\n        return (param) -&gt; {\n            try {\n                throwingConsumer.apply(param);\n            } catch (Throwable e) {\n                throw new RuntimeException(e);\n            }\n        };\n    }\n}\n</code></pre>\n"},{"tags":["java","node.js","elasticsearch","sonarqube"],"comments":[{"owner":{"account_id":6455405,"reputation":4591,"user_id":5607207,"display_name":"SYN"},"score":0,"creation_date":1661676599,"post_id":73516843,"comment_id":129824508,"body_markdown":"From those logs, I don&#39;t seen anything that could explain why elasticsearch is stopping. How do you start that container? Looks like container is being restarted.","body":"From those logs, I don&#39;t seen anything that could explain why elasticsearch is stopping. How do you start that container? Looks like container is being restarted."},{"owner":{"account_id":1068959,"reputation":474,"user_id":8021304,"display_name":"Prosenjit Manna"},"score":0,"creation_date":1661684734,"post_id":73516843,"comment_id":129825890,"body_markdown":"Sonarqube service created at this location\nsudo nano /etc/systemd/system/sonarqube.service","body":"Sonarqube service created at this location sudo nano /etc/systemd/system/sonarqube.service"},{"owner":{"account_id":1068959,"reputation":474,"user_id":8021304,"display_name":"Prosenjit Manna"},"score":0,"creation_date":1661684808,"post_id":73516843,"comment_id":129825904,"body_markdown":"Here is the content of sonarqube service file https://gist.githubusercontent.com/prosenjit-manna/cac325b49649c3252b21c804fb57b7cf/raw/31b5d8a55800f9629847d913eb89ad6e5e2e7d24/sonarqube.service","body":"Here is the content of sonarqube service file <a href=\"https://gist.githubusercontent.com/prosenjit-manna/cac325b49649c3252b21c804fb57b7cf/raw/31b5d8a55800f9629847d913eb89ad6e5e2e7d24/sonarqube.service\" rel=\"nofollow noreferrer\">gist.githubusercontent.com/prosenjit-manna/&hellip;</a>"},{"owner":{"account_id":6455405,"reputation":4591,"user_id":5607207,"display_name":"SYN"},"score":0,"creation_date":1661691552,"post_id":73516843,"comment_id":129827347,"body_markdown":"allright, do you get anything from `journalctl -u sonarqube`","body":"allright, do you get anything from <code>journalctl -u sonarqube</code>"},{"owner":{"account_id":1068959,"reputation":474,"user_id":8021304,"display_name":"Prosenjit Manna"},"score":0,"creation_date":1661698768,"post_id":73516843,"comment_id":129828837,"body_markdown":"Hey, I run your commands and you can check the log from here https://gist.github.com/prosenjit-manna/f74aa7d98b111a6cb33fb6a3e93f4d95","body":"Hey, I run your commands and you can check the log from here <a href=\"https://gist.github.com/prosenjit-manna/f74aa7d98b111a6cb33fb6a3e93f4d95\" rel=\"nofollow noreferrer\">gist.github.com/prosenjit-manna/&hellip;</a>"},{"owner":{"account_id":6455405,"reputation":4591,"user_id":5607207,"display_name":"SYN"},"score":0,"creation_date":1661700397,"post_id":73516843,"comment_id":129829192,"body_markdown":"Sounds like something wrong with your systemd unit. Docs does something different, see: https://docs.sonarqube.org/latest/setup/operate-server/","body":"Sounds like something wrong with your systemd unit. Docs does something different, see: <a href=\"https://docs.sonarqube.org/latest/setup/operate-server/\" rel=\"nofollow noreferrer\">docs.sonarqube.org/latest/setup/operate-server</a>"},{"owner":{"account_id":1068959,"reputation":474,"user_id":8021304,"display_name":"Prosenjit Manna"},"score":0,"creation_date":1661756396,"post_id":73516843,"comment_id":129838443,"body_markdown":"Hey thanks for your info, I checked your docs. And I understand my sonar. service file is different. \n\nThen I just copy and paste sonar. service from the documentation. But still not solved the issue. \n\nThanks  for your help.","body":"Hey thanks for your info, I checked your docs. And I understand my sonar. service file is different.   Then I just copy and paste sonar. service from the documentation. But still not solved the issue.   Thanks  for your help."},{"owner":{"account_id":6455405,"reputation":4591,"user_id":5607207,"display_name":"SYN"},"score":0,"creation_date":1661792545,"post_id":73516843,"comment_id":129850635,"body_markdown":"well... for sure something&#39;s wrong with that systemd unit. sonarqube isn&#39;t crashing, it&#39;s being restarted on a loop. check back on journalctl logs.","body":"well... for sure something&#39;s wrong with that systemd unit. sonarqube isn&#39;t crashing, it&#39;s being restarted on a loop. check back on journalctl logs."}],"owner":{"account_id":1068959,"reputation":474,"user_id":8021304,"display_name":"Prosenjit Manna"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1133,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661672363,"creation_date":1661672363,"question_id":73516843,"body_markdown":"\r\nHow I can fix these error so that sonarqube web server start?\r\n\r\n**System info**:\r\n4gb ram \r\n20gb ssd \r\nUbuntu 20\r\nGCP instance \r\nopenjdk 11.0.16 2022-07-19\r\nOpenJDK Runtime Environment (build 11.0.16+8-post-Debian-1deb11u1)\r\nOpenJDK 64-Bit Server VM (build 11.0.16+8-post-Debian-1deb11u1, mixed mode, sharing)\r\nDatabase postgreysql \r\n\r\n\r\n\r\nadded this config \r\n\r\n```\r\nsudo nano /etc/sysctl.conf\r\nvm.max_map_count=524288\r\nfs.file-max=131072\r\n\r\nsudo nano /etc/security/limits.conf\r\nLimitNOFILE=131072\r\nLimitNPROC=8192\r\n\r\n```\r\n\r\nHere is the error log from es.log \r\n\r\n```\r\n\r\n    nux/5.10.0-17-cloud-amd64/amd64], JVM[Debian/OpenJDK 64-Bit Server VM/11.0.16/11.0.16+8-post-Debian-1deb11u1]\r\n    2022.08.28 07:25:58 INFO  es[][o.e.n.Node] JVM home [/usr/lib/jvm/java-11-openjdk-amd64]\r\n    2022.08.28 07:25:58 INFO  es[][o.e.n.Node] JVM arguments [-XX:+UseG1GC, -Djava.io.tmpdir=/opt/sonarqube/sonarqube-9.6.0.59041/temp, -XX:ErrorFile=../logs/es_hs_err_pid%p.log, -Des.networkaddress.cache.ttl=60, -Des.networkaddress.cache.negative.ttl=10, -XX:+AlwaysPreTouch, -Xss1m, -Djava.awt.headless=true, -Dfile.encoding=UTF-8, -Djna.nosys=true, -Djna.tmpdir=/opt/sonarqube/sonarqube-9.6.0.59041/temp, -XX:-OmitStackTraceInFastThrow, -Dio.netty.noUnsafe=true, -Dio.netty.noKeySetOptimization=true, -Dio.netty.recycler.maxCapacityPerThread=0, -Dio.netty.allocator.numDirectArenas=0, -Dlog4j.shutdownHookEnabled=false, -Dlog4j2.disable.jmx=true, -Dlog4j2.formatMsgNoLookups=true, -Djava.locale.providers=COMPAT, -Dcom.redhat.fips=false, -Des.enforce.bootstrap.checks=true, -Xmx512m, -Xms512m, -XX:MaxDirectMemorySize=256m, -XX:+HeapDumpOnOutOfMemoryError, -Des.path.home=/opt/sonarqube/sonarqube-9.6.0.59041/elasticsearch, -Des.path.conf=/opt/sonarqube/sonarqube-9.6.0.59041/temp/conf/es, -Des.distribution.flavor=default, -Des.distribution.type=tar, -Des.bundled_jdk=false]\r\n    2022.08.28 07:25:59 INFO  es[][o.e.p.PluginsService] loaded module [analysis-common]\r\n    2022.08.28 07:25:59 INFO  es[][o.e.p.PluginsService] loaded module [lang-painless]\r\n    2022.08.28 07:25:59 INFO  es[][o.e.p.PluginsService] loaded module [parent-join]\r\n    2022.08.28 07:25:59 INFO  es[][o.e.p.PluginsService] loaded module [reindex]\r\n    2022.08.28 07:25:59 INFO  es[][o.e.p.PluginsService] loaded module [transport-netty4]\r\n    2022.08.28 07:25:59 INFO  es[][o.e.p.PluginsService] no plugins loaded\r\n    2022.08.28 07:25:59 INFO  es[][o.e.e.NodeEnvironment] using [1] data paths, mounts [[/ (/dev/sda1)]], net usable_space [15gb], net total_space [19.4gb], types [ext4]\r\n    2022.08.28 07:25:59 INFO  es[][o.e.e.NodeEnvironment] heap size [512mb], compressed ordinary object pointers [true]\r\n    2022.08.28 07:26:00 INFO  es[][o.e.n.Node] node name [sonarqube], node ID [hMHntBcSQP2N_BO7RmEq_Q], cluster name [sonarqube], roles [data_frozen, master, remote_cluster_client, data, data_content, data_hot, data_warm, data_cold, ingest]\r\n    2022.08.28 07:26:10 INFO  es[][o.e.t.NettyAllocator] creating NettyAllocator with the following configs: [name=unpooled, suggested_max_allocation_size=256kb, factors={es.unsafe.use_unpooled_allocator=null, g1gc_enabled=true, g1gc_region_size=1mb, heap_size=512mb}]\r\n    2022.08.28 07:26:10 INFO  es[][o.e.i.r.RecoverySettings] using rate limit [40mb] with [default=40mb, read=0b, write=0b, max=0b]\r\n    2022.08.28 07:26:10 INFO  es[][o.e.d.DiscoveryModule] using discovery type [zen] and seed hosts providers [settings]\r\n    2022.08.28 07:26:11 INFO  es[][o.e.g.DanglingIndicesState] gateway.auto_import_dangling_indices is disabled, dangling indices will not be automatically detected or imported and must be managed manually\r\n    2022.08.28 07:26:12 INFO  es[][o.e.n.Node] initialized\r\n    2022.08.28 07:26:12 INFO  es[][o.e.n.Node] starting ...\r\n    2022.08.28 07:26:12 INFO  es[][o.e.t.TransportService] publish_address {127.0.0.1:33021}, bound_addresses {127.0.0.1:33021}\r\n    2022.08.28 07:26:13 INFO  es[][o.e.b.BootstrapChecks] explicitly enforcing bootstrap checks\r\n    2022.08.28 07:26:13 INFO  es[][o.e.c.c.Coordinator] cluster UUID [Zr7bq2njQaGGtYQLTPjNwA]\r\n    2022.08.28 07:26:13 INFO  es[][o.e.c.s.MasterService] elected-as-master ([1] nodes joined)[{sonarqube}{hMHntBcSQP2N_BO7RmEq_Q}{cPlSdljHSWaa_qh9tCJnAw}{127.0.0.1}{127.0.0.1:33021}{cdfhimrsw} elect leader, _BECOME_MASTER_TASK_, _FINISH_ELECTION_], term: 5, version: 9, delta: master node changed {previous [], current [{sonarqube}{hMHntBcSQP2N_BO7RmEq_Q}{cPlSdljHSWaa_qh9tCJnAw}{127.0.0.1}{127.0.0.1:33021}{cdfhimrsw}]}\r\n    2022.08.28 07:26:13 INFO  es[][o.e.c.s.ClusterApplierService] master node changed {previous [], current [{sonarqube}{hMHntBcSQP2N_BO7RmEq_Q}{cPlSdljHSWaa_qh9tCJnAw}{127.0.0.1}{127.0.0.1:33021}{cdfhimrsw}]}, term: 5, version: 9, reason: Publication{term=5, version=9}\r\n    2022.08.28 07:26:13 INFO  es[][o.e.h.AbstractHttpServerTransport] publish_address {127.0.0.1:9001}, bound_addresses {127.0.0.1:9001}\r\n    2022.08.28 07:26:13 INFO  es[][o.e.n.Node] started\r\n    2022.08.28 07:26:13 INFO  es[][o.e.g.GatewayService] recovered [0] indices into cluster_state\r\n    2022.08.28 07:26:20 INFO  es[][o.e.n.Node] stopping ...\r\n    2022.08.28 07:26:20 INFO  es[][o.e.n.Node] stopped\r\n    2022.08.28 07:26:20 INFO  es[][o.e.n.Node] closing ...\r\n    2022.08.28 07:26:20 INFO  es[][o.e.n.Node] closed\r\n\r\n```","title":"Sonarqube not starting up because of elastic search error","body":"<p>How I can fix these error so that sonarqube web server start?</p>\n<p><strong>System info</strong>:\n4gb ram\n20gb ssd\nUbuntu 20\nGCP instance\nopenjdk 11.0.16 2022-07-19\nOpenJDK Runtime Environment (build 11.0.16+8-post-Debian-1deb11u1)\nOpenJDK 64-Bit Server VM (build 11.0.16+8-post-Debian-1deb11u1, mixed mode, sharing)\nDatabase postgreysql</p>\n<p>added this config</p>\n<pre><code>sudo nano /etc/sysctl.conf\nvm.max_map_count=524288\nfs.file-max=131072\n\nsudo nano /etc/security/limits.conf\nLimitNOFILE=131072\nLimitNPROC=8192\n\n</code></pre>\n<p>Here is the error log from es.log</p>\n<pre><code>\n    nux/5.10.0-17-cloud-amd64/amd64], JVM[Debian/OpenJDK 64-Bit Server VM/11.0.16/11.0.16+8-post-Debian-1deb11u1]\n    2022.08.28 07:25:58 INFO  es[][o.e.n.Node] JVM home [/usr/lib/jvm/java-11-openjdk-amd64]\n    2022.08.28 07:25:58 INFO  es[][o.e.n.Node] JVM arguments [-XX:+UseG1GC, -Djava.io.tmpdir=/opt/sonarqube/sonarqube-9.6.0.59041/temp, -XX:ErrorFile=../logs/es_hs_err_pid%p.log, -Des.networkaddress.cache.ttl=60, -Des.networkaddress.cache.negative.ttl=10, -XX:+AlwaysPreTouch, -Xss1m, -Djava.awt.headless=true, -Dfile.encoding=UTF-8, -Djna.nosys=true, -Djna.tmpdir=/opt/sonarqube/sonarqube-9.6.0.59041/temp, -XX:-OmitStackTraceInFastThrow, -Dio.netty.noUnsafe=true, -Dio.netty.noKeySetOptimization=true, -Dio.netty.recycler.maxCapacityPerThread=0, -Dio.netty.allocator.numDirectArenas=0, -Dlog4j.shutdownHookEnabled=false, -Dlog4j2.disable.jmx=true, -Dlog4j2.formatMsgNoLookups=true, -Djava.locale.providers=COMPAT, -Dcom.redhat.fips=false, -Des.enforce.bootstrap.checks=true, -Xmx512m, -Xms512m, -XX:MaxDirectMemorySize=256m, -XX:+HeapDumpOnOutOfMemoryError, -Des.path.home=/opt/sonarqube/sonarqube-9.6.0.59041/elasticsearch, -Des.path.conf=/opt/sonarqube/sonarqube-9.6.0.59041/temp/conf/es, -Des.distribution.flavor=default, -Des.distribution.type=tar, -Des.bundled_jdk=false]\n    2022.08.28 07:25:59 INFO  es[][o.e.p.PluginsService] loaded module [analysis-common]\n    2022.08.28 07:25:59 INFO  es[][o.e.p.PluginsService] loaded module [lang-painless]\n    2022.08.28 07:25:59 INFO  es[][o.e.p.PluginsService] loaded module [parent-join]\n    2022.08.28 07:25:59 INFO  es[][o.e.p.PluginsService] loaded module [reindex]\n    2022.08.28 07:25:59 INFO  es[][o.e.p.PluginsService] loaded module [transport-netty4]\n    2022.08.28 07:25:59 INFO  es[][o.e.p.PluginsService] no plugins loaded\n    2022.08.28 07:25:59 INFO  es[][o.e.e.NodeEnvironment] using [1] data paths, mounts [[/ (/dev/sda1)]], net usable_space [15gb], net total_space [19.4gb], types [ext4]\n    2022.08.28 07:25:59 INFO  es[][o.e.e.NodeEnvironment] heap size [512mb], compressed ordinary object pointers [true]\n    2022.08.28 07:26:00 INFO  es[][o.e.n.Node] node name [sonarqube], node ID [hMHntBcSQP2N_BO7RmEq_Q], cluster name [sonarqube], roles [data_frozen, master, remote_cluster_client, data, data_content, data_hot, data_warm, data_cold, ingest]\n    2022.08.28 07:26:10 INFO  es[][o.e.t.NettyAllocator] creating NettyAllocator with the following configs: [name=unpooled, suggested_max_allocation_size=256kb, factors={es.unsafe.use_unpooled_allocator=null, g1gc_enabled=true, g1gc_region_size=1mb, heap_size=512mb}]\n    2022.08.28 07:26:10 INFO  es[][o.e.i.r.RecoverySettings] using rate limit [40mb] with [default=40mb, read=0b, write=0b, max=0b]\n    2022.08.28 07:26:10 INFO  es[][o.e.d.DiscoveryModule] using discovery type [zen] and seed hosts providers [settings]\n    2022.08.28 07:26:11 INFO  es[][o.e.g.DanglingIndicesState] gateway.auto_import_dangling_indices is disabled, dangling indices will not be automatically detected or imported and must be managed manually\n    2022.08.28 07:26:12 INFO  es[][o.e.n.Node] initialized\n    2022.08.28 07:26:12 INFO  es[][o.e.n.Node] starting ...\n    2022.08.28 07:26:12 INFO  es[][o.e.t.TransportService] publish_address {127.0.0.1:33021}, bound_addresses {127.0.0.1:33021}\n    2022.08.28 07:26:13 INFO  es[][o.e.b.BootstrapChecks] explicitly enforcing bootstrap checks\n    2022.08.28 07:26:13 INFO  es[][o.e.c.c.Coordinator] cluster UUID [Zr7bq2njQaGGtYQLTPjNwA]\n    2022.08.28 07:26:13 INFO  es[][o.e.c.s.MasterService] elected-as-master ([1] nodes joined)[{sonarqube}{hMHntBcSQP2N_BO7RmEq_Q}{cPlSdljHSWaa_qh9tCJnAw}{127.0.0.1}{127.0.0.1:33021}{cdfhimrsw} elect leader, _BECOME_MASTER_TASK_, _FINISH_ELECTION_], term: 5, version: 9, delta: master node changed {previous [], current [{sonarqube}{hMHntBcSQP2N_BO7RmEq_Q}{cPlSdljHSWaa_qh9tCJnAw}{127.0.0.1}{127.0.0.1:33021}{cdfhimrsw}]}\n    2022.08.28 07:26:13 INFO  es[][o.e.c.s.ClusterApplierService] master node changed {previous [], current [{sonarqube}{hMHntBcSQP2N_BO7RmEq_Q}{cPlSdljHSWaa_qh9tCJnAw}{127.0.0.1}{127.0.0.1:33021}{cdfhimrsw}]}, term: 5, version: 9, reason: Publication{term=5, version=9}\n    2022.08.28 07:26:13 INFO  es[][o.e.h.AbstractHttpServerTransport] publish_address {127.0.0.1:9001}, bound_addresses {127.0.0.1:9001}\n    2022.08.28 07:26:13 INFO  es[][o.e.n.Node] started\n    2022.08.28 07:26:13 INFO  es[][o.e.g.GatewayService] recovered [0] indices into cluster_state\n    2022.08.28 07:26:20 INFO  es[][o.e.n.Node] stopping ...\n    2022.08.28 07:26:20 INFO  es[][o.e.n.Node] stopped\n    2022.08.28 07:26:20 INFO  es[][o.e.n.Node] closing ...\n    2022.08.28 07:26:20 INFO  es[][o.e.n.Node] closed\n\n</code></pre>\n"},{"tags":["java","xsd","sonarqube","schema"],"owner":{"account_id":13983587,"reputation":862,"user_id":10099219,"display_name":"Haripriya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":356,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1661670717,"creation_date":1661669714,"question_id":73516606,"body_markdown":"My working code -\r\n\r\n    @PostMapping(&quot;/process/validate&quot;)\r\n        public boolean validateProcessWithXSD(@Parameter(hidden = true) @RequestHeader(value = &quot;Authorization&quot;, required = true) String jwtToken\r\n                , int xsdVersion, @RequestBody ProcessObj processBytes) throws Exception {\r\n            boolean isValidated;\r\n            try {\r\n                String xsdPath = &quot;/assets/runtimeXsds/Process.v&quot; + xsdVersion + &quot;.xsd&quot;;\r\n                InputStream xsdStream = request.getSession().getServletContext().getResourceAsStream(xsdPath);\r\n                Source source = new StreamSource(xsdStream);\r\n                SchemaFactory factory = SchemaFactory.newInstance(XMLConstants.W3C_XML_SCHEMA_NS_URI); //Sonarqube Blocker - Disable access to external entities in XML parsing.\r\n                factory.setFeature(XMLConstants.FEATURE_SECURE_PROCESSING, true);\r\n                javax.xml.validation.Schema schema = factory.newSchema(source);\r\n                Validator validator = schema.newValidator();\r\n                validator.validate(new StreamSource(new ByteArrayInputStream(processBytes.getBytes())));\r\n                isValidated = true;\r\n            \r\n            return isValidated;\r\n        }\r\n\r\nNow, if I include fix -\r\n\r\n    factory.setProperty(XMLConstants.ACCESS_EXTERNAL_DTD, &quot;&quot;);\r\n    factory.setProperty(XMLConstants.ACCESS_EXTERNAL_SCHEMA, &quot;&quot;);\r\n\r\n \r\n\r\nThen API fails -\r\n\r\n    org.xml.sax.SAXParseException; lineNumber: 4; columnNumber: 154; schema_reference: Failed to read schema document &#39;xmldsig-core-schema.xsd&#39;, because &#39;http&#39; access is not allowed due to restriction set by the accessExternalSchema property.\r\n\r\nChanging above fix with `&quot;http&quot;` value works fine but then sonarqube re-appears.\r\n\r\nTried many ways as suggested in [XML External Entity Prevention Cheat Sheet][1] and similar SO posts but issue remains.\r\n\r\n\r\n  [1]: https://cheatsheetseries.owasp.org/cheatsheets/XML_External_Entity_Prevention_Cheat_Sheet.html","title":"Fix for Sonarqube - XML parsers should not be vulnerable to XXE attacks impacts xml validation in spring boot","body":"<p>My working code -</p>\n<pre><code>@PostMapping(&quot;/process/validate&quot;)\n    public boolean validateProcessWithXSD(@Parameter(hidden = true) @RequestHeader(value = &quot;Authorization&quot;, required = true) String jwtToken\n            , int xsdVersion, @RequestBody ProcessObj processBytes) throws Exception {\n        boolean isValidated;\n        try {\n            String xsdPath = &quot;/assets/runtimeXsds/Process.v&quot; + xsdVersion + &quot;.xsd&quot;;\n            InputStream xsdStream = request.getSession().getServletContext().getResourceAsStream(xsdPath);\n            Source source = new StreamSource(xsdStream);\n            SchemaFactory factory = SchemaFactory.newInstance(XMLConstants.W3C_XML_SCHEMA_NS_URI); //Sonarqube Blocker - Disable access to external entities in XML parsing.\n            factory.setFeature(XMLConstants.FEATURE_SECURE_PROCESSING, true);\n            javax.xml.validation.Schema schema = factory.newSchema(source);\n            Validator validator = schema.newValidator();\n            validator.validate(new StreamSource(new ByteArrayInputStream(processBytes.getBytes())));\n            isValidated = true;\n        \n        return isValidated;\n    }\n</code></pre>\n<p>Now, if I include fix -</p>\n<pre><code>factory.setProperty(XMLConstants.ACCESS_EXTERNAL_DTD, &quot;&quot;);\nfactory.setProperty(XMLConstants.ACCESS_EXTERNAL_SCHEMA, &quot;&quot;);\n</code></pre>\n<p>Then API fails -</p>\n<pre><code>org.xml.sax.SAXParseException; lineNumber: 4; columnNumber: 154; schema_reference: Failed to read schema document 'xmldsig-core-schema.xsd', because 'http' access is not allowed due to restriction set by the accessExternalSchema property.\n</code></pre>\n<p>Changing above fix with <code>&quot;http&quot;</code> value works fine but then sonarqube re-appears.</p>\n<p>Tried many ways as suggested in <a href=\"https://cheatsheetseries.owasp.org/cheatsheets/XML_External_Entity_Prevention_Cheat_Sheet.html\" rel=\"nofollow noreferrer\">XML External Entity Prevention Cheat Sheet</a> and similar SO posts but issue remains.</p>\n"},{"tags":["java","servlets"],"comments":[{"owner":{"account_id":7991,"reputation":205509,"user_id":14104,"display_name":"epascarello"},"score":1,"creation_date":1661288170,"post_id":73464951,"comment_id":129735694,"body_markdown":"That is not possible to do on the backend. You can make the front end code redirect with meta tags or JavaScript.","body":"That is not possible to do on the backend. You can make the front end code redirect with meta tags or JavaScript."}],"answers":[{"tags":[],"owner":{"account_id":26143339,"reputation":11,"user_id":19832393,"display_name":"DyingAssassin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661670653,"creation_date":1661670653,"answer_id":73516679,"question_id":73464951,"body_markdown":"I did a work around. I added a html link to the display message to click to bring the user back to the home page.","title":"How to display a message and then redirect in Java","body":"<p>I did a work around. I added a html link to the display message to click to bring the user back to the home page.</p>\n"}],"owner":{"account_id":26143339,"reputation":11,"user_id":19832393,"display_name":"DyingAssassin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1661780708,"answer_count":1,"score":0,"last_activity_date":1661670653,"creation_date":1661288066,"question_id":73464951,"body_markdown":"I am working on a Java based registration page. The index page has a form that is filled out and then posted to local database. As of now when submitted it displays a message that states data was entered or not. I cannot figure out how to have that message displayed temporarily and then redirect it to a different page. Below is my Java Servlet.\r\n\r\n```\r\n\r\nimport jakarta.servlet.ServletException;\r\nimport jakarta.servlet.annotation.WebServlet;\r\nimport jakarta.servlet.http.HttpServlet;\r\nimport jakarta.servlet.http.HttpServletRequest;\r\nimport jakarta.servlet.http.HttpServletResponse;\r\nimport java.io.IOException;\r\nimport java.io.PrintWriter;\r\nimport java.util.Date;\r\n\r\n/**\r\n * Servlet implementation class Register\r\n */\r\n@WebServlet(&quot;/Register&quot;)\r\npublic class Register extends HttpServlet {\r\n\tprivate static final long serialVersionUID = 1L;\r\n       \r\n    /**\r\n     * @see HttpServlet#HttpServlet()\r\n     */\r\n    public Register() {\r\n        super();\r\n        // TODO Auto-generated constructor stub\r\n    }\r\n\r\n\t/**\r\n\t * @see HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)\r\n\t */\r\n\tprotected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tresponse.getWriter().append(&quot;Served at: &quot;).append(request.getContextPath());\r\n\t}\r\n\r\n\t/**\r\n\t * @see HttpServlet#doPost(HttpServletRequest request, HttpServletResponse response)\r\n\t */\r\n\tprotected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n\t\t\r\n\t\tString id = request.getParameter(&quot;Id&quot;);\r\n\t\tString first = request.getParameter(&quot;First&quot;);\r\n\t\tString last = request.getParameter(&quot;Last&quot;);\r\n\t\tString email = request.getParameter(&quot;Email&quot;);\r\n\t\tString phone = request.getParameter(&quot;Phone&quot;);\r\n\t\t\r\n\t\tUser user = new User(id, first, last, email, phone);\r\n\t\t\r\n\t\tRegisterDao rDao = new RegisterDao();\r\n\t\tString result = rDao.insert(user);\r\n\t\tDateBean dBean = new DateBean(); /** import bean **/\r\n\t\tDate dateTime = dBean.getDateTime();\r\n\t\tPrintWriter writer = response.getWriter();\r\n\t\twriter.println(result + &quot; &quot; + dateTime);\r\n\t\twriter.flush();\r\n\t\twriter.close();\r\n\t\t\r\n\t\tresponse.sendRedirect(&quot;index.jsp&quot;);\r\n\t}\r\n\r\n}\r\n ```\r\n","title":"How to display a message and then redirect in Java","body":"<p>I am working on a Java based registration page. The index page has a form that is filled out and then posted to local database. As of now when submitted it displays a message that states data was entered or not. I cannot figure out how to have that message displayed temporarily and then redirect it to a different page. Below is my Java Servlet.</p>\n<pre><code>\nimport jakarta.servlet.ServletException;\nimport jakarta.servlet.annotation.WebServlet;\nimport jakarta.servlet.http.HttpServlet;\nimport jakarta.servlet.http.HttpServletRequest;\nimport jakarta.servlet.http.HttpServletResponse;\nimport java.io.IOException;\nimport java.io.PrintWriter;\nimport java.util.Date;\n\n/**\n * Servlet implementation class Register\n */\n@WebServlet(&quot;/Register&quot;)\npublic class Register extends HttpServlet {\n    private static final long serialVersionUID = 1L;\n       \n    /**\n     * @see HttpServlet#HttpServlet()\n     */\n    public Register() {\n        super();\n        // TODO Auto-generated constructor stub\n    }\n\n    /**\n     * @see HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)\n     */\n    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n        // TODO Auto-generated method stub\n        response.getWriter().append(&quot;Served at: &quot;).append(request.getContextPath());\n    }\n\n    /**\n     * @see HttpServlet#doPost(HttpServletRequest request, HttpServletResponse response)\n     */\n    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n        \n        String id = request.getParameter(&quot;Id&quot;);\n        String first = request.getParameter(&quot;First&quot;);\n        String last = request.getParameter(&quot;Last&quot;);\n        String email = request.getParameter(&quot;Email&quot;);\n        String phone = request.getParameter(&quot;Phone&quot;);\n        \n        User user = new User(id, first, last, email, phone);\n        \n        RegisterDao rDao = new RegisterDao();\n        String result = rDao.insert(user);\n        DateBean dBean = new DateBean(); /** import bean **/\n        Date dateTime = dBean.getDateTime();\n        PrintWriter writer = response.getWriter();\n        writer.println(result + &quot; &quot; + dateTime);\n        writer.flush();\n        writer.close();\n        \n        response.sendRedirect(&quot;index.jsp&quot;);\n    }\n\n}\n</code></pre>\n"},{"tags":["javascript","java","mysql","xml","jsp"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1661295242,"post_id":73465772,"comment_id":129737014,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":1,"creation_date":1661299437,"post_id":73465772,"comment_id":129737560,"body_markdown":"In index1.jsp you do not have any fields in your `form` - what do you expect to be posted?","body":"In index1.jsp you do not have any fields in your <code>form</code> - what do you expect to be posted?"},{"owner":{"account_id":3472091,"reputation":658,"user_id":2906157,"accept_rate":44,"display_name":"Sergio"},"score":0,"creation_date":1661580692,"post_id":73465772,"comment_id":129810522,"body_markdown":"your form is empty and you&#39;re also not gathering the submitted values anywhere.","body":"your form is empty and you&#39;re also not gathering the submitted values anywhere."}],"answers":[{"tags":[],"owner":{"account_id":26143339,"reputation":11,"user_id":19832393,"display_name":"DyingAssassin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661670376,"creation_date":1661670376,"answer_id":73516654,"question_id":73465772,"body_markdown":"I figured it out. I reestablished new fields using the pulled data like this\r\n\r\n```\r\nString name2 = &lt;%=last %&gt;;\r\n```\r\n\r\nThanks anyway ","title":"JSP to Java Data transfer","body":"<p>I figured it out. I reestablished new fields using the pulled data like this</p>\n<pre><code>String name2 = &lt;%=last %&gt;;\n</code></pre>\n<p>Thanks anyway</p>\n"}],"owner":{"account_id":26143339,"reputation":11,"user_id":19832393,"display_name":"DyingAssassin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1661670537,"creation_date":1661295051,"question_id":73465772,"body_markdown":"I am trying to build a webpage where I input data, it goes to a page that displays the data and asks for confirmation, and then it submits the data to a SQL database. It works up until the second submission to the database, there it submits NULL values into the db. Here is the following code\r\n\r\n\r\nIndex.jsp:\r\n```\r\n&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=ISO-8859-1&quot;\r\n    pageEncoding=&quot;ISO-8859-1&quot;%&gt;\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n&lt;head&gt;\r\n&lt;meta charset=&quot;ISO-8859-1&quot;&gt;\r\n&lt;title&gt;Register&lt;/title&gt;\r\n&lt;link rel=&quot;stylesheet&quot; href=&quot;style.css&quot;&gt;\r\n\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n    &lt;form name=&quot;myform&quot; action=&quot;index1.jsp&quot; method=&quot;post&quot; class=&quot;decor&quot;&gt;\r\n      &lt;div class=&quot;form-left-decoration&quot;&gt;&lt;/div&gt;\r\n      &lt;div class=&quot;form-right-decoration&quot;&gt;&lt;/div&gt;\r\n      &lt;div class=&quot;circle&quot;&gt;&lt;/div&gt;\r\n      &lt;div class=&quot;form-inner&quot;&gt;\r\n        &lt;h1&gt;Register&lt;/h1&gt;\r\n        \r\n        &lt;input type=&quot;text&quot; name = &quot;First&quot; placeholder=&quot;First Name&quot;&gt;\r\n        &lt;input type=&quot;text&quot; name=&quot;Last&quot; placeholder=&quot;Last Name&quot;&gt;\r\n        &lt;input type=&quot;email&quot; name=&quot;Email&quot; placeholder=&quot;Email&quot;&gt;\r\n        &lt;input type=&quot;text&quot; name=&quot;Id&quot; placeholder=&quot;ID&quot;&gt;\r\n        &lt;input type=&quot;text&quot; name=&quot;Phone&quot; placeholder=&quot;Phone Number&quot;&gt;\r\n        &lt;button  type=&quot;submit&quot; value=&quot;Submit&quot; name=&quot;submit&quot; &gt;Submit&lt;/button&gt;\r\n\r\n      &lt;/div&gt;\r\n    &lt;/form&gt;\r\n  &lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\nIndex1.jsp:\r\n```\r\n&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=ISO-8859-1&quot;\r\n    pageEncoding=&quot;ISO-8859-1&quot;%&gt;\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n&lt;head&gt;\r\n&lt;meta charset=&quot;ISO-8859-1&quot;&gt;\r\n&lt;title&gt;Confirm&lt;/title&gt;\r\n\r\n\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n\r\n\r\n&lt;h1&gt;Confirm for submission&lt;/h1&gt;\r\n\t&lt;%\r\n\t\r\n\tString id = request.getParameter(&quot;Id&quot;);\r\n\tString first = request.getParameter(&quot;First&quot;);\r\n\tString last = request.getParameter(&quot;Last&quot;);\r\n\tString email = request.getParameter(&quot;Email&quot;);\r\n\tString phone = request.getParameter(&quot;Phone&quot;);\r\n\t\t\r\n\t%&gt;\r\n&lt;table border=&quot;1&quot;&gt;\r\n&lt;tbody&gt;\r\n\r\n&lt;tr&gt;\r\n\t&lt;td&gt;ID : &lt;/td&gt;\r\n\t&lt;td&gt;&lt;%=id %&gt;&lt;/td&gt;\r\n&lt;/tr&gt;\r\n&lt;tr&gt;\r\n\t&lt;td&gt;First Name : &lt;/td&gt;\r\n\t&lt;td&gt;&lt;%=first %&gt;&lt;/td&gt;\r\n&lt;/tr&gt;\r\n&lt;tr&gt;\r\n\t&lt;td&gt;Last Name : &lt;/td&gt;\r\n\t&lt;td&gt;&lt;%=last %&gt;&lt;/td&gt;\r\n&lt;/tr&gt;\r\n&lt;tr&gt;\r\n\t&lt;td&gt;Email : &lt;/td&gt;\r\n\t&lt;td&gt;&lt;%=email %&gt;&lt;/td&gt;\r\n&lt;/tr&gt;\r\n&lt;tr&gt;\r\n\t&lt;td&gt;Phone : &lt;/td&gt;\r\n\t&lt;td&gt;&lt;%=phone %&gt;&lt;/td&gt;\r\n&lt;/tr&gt;\r\n\r\n\r\n\r\n&lt;/tbody&gt;\r\n&lt;/table&gt;\r\n\r\n &lt;form target=&quot;_blank&quot; name=&quot;myform&quot; action=&quot;Register&quot; method=&quot;post&quot; class=&quot;decor&quot;&gt;\r\n\t\t&lt;div&gt;\t\r\n        &lt;button  type=&quot;submit&quot; value=&quot;Submit&quot; name=&quot;submit&quot; &gt;Submit&lt;/button&gt;\r\n\r\n     \t&lt;/div&gt;\r\n    &lt;/form&gt;\r\n  &lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\n","title":"JSP to Java Data transfer","body":"<p>I am trying to build a webpage where I input data, it goes to a page that displays the data and asks for confirmation, and then it submits the data to a SQL database. It works up until the second submission to the database, there it submits NULL values into the db. Here is the following code</p>\n<p>Index.jsp:</p>\n<pre><code>&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=ISO-8859-1&quot;\n    pageEncoding=&quot;ISO-8859-1&quot;%&gt;\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;meta charset=&quot;ISO-8859-1&quot;&gt;\n&lt;title&gt;Register&lt;/title&gt;\n&lt;link rel=&quot;stylesheet&quot; href=&quot;style.css&quot;&gt;\n\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;form name=&quot;myform&quot; action=&quot;index1.jsp&quot; method=&quot;post&quot; class=&quot;decor&quot;&gt;\n      &lt;div class=&quot;form-left-decoration&quot;&gt;&lt;/div&gt;\n      &lt;div class=&quot;form-right-decoration&quot;&gt;&lt;/div&gt;\n      &lt;div class=&quot;circle&quot;&gt;&lt;/div&gt;\n      &lt;div class=&quot;form-inner&quot;&gt;\n        &lt;h1&gt;Register&lt;/h1&gt;\n        \n        &lt;input type=&quot;text&quot; name = &quot;First&quot; placeholder=&quot;First Name&quot;&gt;\n        &lt;input type=&quot;text&quot; name=&quot;Last&quot; placeholder=&quot;Last Name&quot;&gt;\n        &lt;input type=&quot;email&quot; name=&quot;Email&quot; placeholder=&quot;Email&quot;&gt;\n        &lt;input type=&quot;text&quot; name=&quot;Id&quot; placeholder=&quot;ID&quot;&gt;\n        &lt;input type=&quot;text&quot; name=&quot;Phone&quot; placeholder=&quot;Phone Number&quot;&gt;\n        &lt;button  type=&quot;submit&quot; value=&quot;Submit&quot; name=&quot;submit&quot; &gt;Submit&lt;/button&gt;\n\n      &lt;/div&gt;\n    &lt;/form&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>Index1.jsp:</p>\n<pre><code>&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=ISO-8859-1&quot;\n    pageEncoding=&quot;ISO-8859-1&quot;%&gt;\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;meta charset=&quot;ISO-8859-1&quot;&gt;\n&lt;title&gt;Confirm&lt;/title&gt;\n\n\n&lt;/head&gt;\n&lt;body&gt;\n\n\n&lt;h1&gt;Confirm for submission&lt;/h1&gt;\n    &lt;%\n    \n    String id = request.getParameter(&quot;Id&quot;);\n    String first = request.getParameter(&quot;First&quot;);\n    String last = request.getParameter(&quot;Last&quot;);\n    String email = request.getParameter(&quot;Email&quot;);\n    String phone = request.getParameter(&quot;Phone&quot;);\n        \n    %&gt;\n&lt;table border=&quot;1&quot;&gt;\n&lt;tbody&gt;\n\n&lt;tr&gt;\n    &lt;td&gt;ID : &lt;/td&gt;\n    &lt;td&gt;&lt;%=id %&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n    &lt;td&gt;First Name : &lt;/td&gt;\n    &lt;td&gt;&lt;%=first %&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n    &lt;td&gt;Last Name : &lt;/td&gt;\n    &lt;td&gt;&lt;%=last %&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n    &lt;td&gt;Email : &lt;/td&gt;\n    &lt;td&gt;&lt;%=email %&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n    &lt;td&gt;Phone : &lt;/td&gt;\n    &lt;td&gt;&lt;%=phone %&gt;&lt;/td&gt;\n&lt;/tr&gt;\n\n\n\n&lt;/tbody&gt;\n&lt;/table&gt;\n\n &lt;form target=&quot;_blank&quot; name=&quot;myform&quot; action=&quot;Register&quot; method=&quot;post&quot; class=&quot;decor&quot;&gt;\n        &lt;div&gt;   \n        &lt;button  type=&quot;submit&quot; value=&quot;Submit&quot; name=&quot;submit&quot; &gt;Submit&lt;/button&gt;\n\n        &lt;/div&gt;\n    &lt;/form&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"},{"tags":["java","sql","apache-commons-dbutils","dbutils"],"comments":[{"owner":{"account_id":6740011,"reputation":46650,"user_id":5193536,"display_name":"nbk"},"score":0,"creation_date":1661676116,"post_id":73516653,"comment_id":129824442,"body_markdown":"all sql dialects have a function similar to `IFNULL(x,-1)` so you don&#39;t need to check for `NULL`, only if the result is positive, which works with ID&#39;s of course, because they can&#39;t be negative","body":"all sql dialects have a function similar to <code>IFNULL(x,-1)</code> so you don&#39;t need to check for <code>NULL</code>, only if the result is positive, which works with ID&#39;s of course, because they can&#39;t be negative"},{"owner":{"account_id":19803536,"reputation":25,"user_id":14503948,"display_name":"lancelot _sin"},"score":0,"creation_date":1661680284,"post_id":73516653,"comment_id":129825103,"body_markdown":"@nbk sry for confusing (ID returned as NULL), SQL Query should be return as &quot;no data&quot; (no row at all) instead of NULL. I don think isnull/ifnull will able to handle this kind of scenario...","body":"@nbk sry for confusing (ID returned as NULL), SQL Query should be return as &quot;no data&quot; (no row at all) instead of NULL. I don think isnull/ifnull will able to handle this kind of scenario..."},{"owner":{"account_id":6740011,"reputation":46650,"user_id":5193536,"display_name":"nbk"},"score":0,"creation_date":1661680505,"post_id":73516653,"comment_id":129825133,"body_markdown":"no, both would do the trick but it  would return text and not a number, so you must handle that, which would not improve or make it easier that chekcn for NULL","body":"no, both would do the trick but it  would return text and not a number, so you must handle that, which would not improve or make it easier that chekcn for NULL"},{"owner":{"account_id":19803536,"reputation":25,"user_id":14503948,"display_name":"lancelot _sin"},"score":0,"creation_date":1661702686,"post_id":73516653,"comment_id":129829685,"body_markdown":"Thank you. I managed to handle this scenario by casting resultset into Object, then use &quot;instanceof&quot; to differentiate returned datatype either INT or string or null...","body":"Thank you. I managed to handle this scenario by casting resultset into Object, then use &quot;instanceof&quot; to differentiate returned datatype either INT or string or null..."}],"owner":{"account_id":19803536,"reputation":25,"user_id":14503948,"display_name":"lancelot _sin"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":142,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1661670408,"creation_date":1661670373,"question_id":73516653,"body_markdown":"Is there a standard proper java code to properly handle the following datatype which the result may possible returned as integer or null? I&#39;m using common-dbutils to perform query execution.\r\n\r\n    --MSSQL\r\n    QUERY =&quot;select ID from Users where Name=&#39;test&#39;&quot; --ID= int type\r\n    QueryRunner run = new QueryRunner();\r\n    int results = run.query(connection,QUERY, new ScalarHandler&lt;Integer&gt;()); \r\n\r\nID returned as INT if where condition met.\r\n\r\nID returned as NULL if where condition not met. (Throw exception since unable to cast into INT)\r\n\r\nAny standard java datatype/way should I returned to handle these kind of different scenarios? \r\n\r\n","title":"Apache DBUtils: Standard way to handle different datatype returned from SQL (INT/NULL)?","body":"<p>Is there a standard proper java code to properly handle the following datatype which the result may possible returned as integer or null? I'm using common-dbutils to perform query execution.</p>\n<pre><code>--MSSQL\nQUERY =&quot;select ID from Users where Name='test'&quot; --ID= int type\nQueryRunner run = new QueryRunner();\nint results = run.query(connection,QUERY, new ScalarHandler&lt;Integer&gt;()); \n</code></pre>\n<p>ID returned as INT if where condition met.</p>\n<p>ID returned as NULL if where condition not met. (Throw exception since unable to cast into INT)</p>\n<p>Any standard java datatype/way should I returned to handle these kind of different scenarios?</p>\n"},{"tags":["java","hibernate","jpa","persistence"],"comments":[{"owner":{"account_id":5279068,"reputation":895,"user_id":4215032,"display_name":"Pp88"},"score":1,"creation_date":1661583231,"post_id":73508351,"comment_id":129810827,"body_markdown":"How are you duplicating the `VehicleRent`? When adding a new `VehicleRent` are you creating a new fresh object? If you post the entities it will be better","body":"How are you duplicating the <code>VehicleRent</code>? When adding a new <code>VehicleRent</code> are you creating a new fresh object? If you post the entities it will be better"},{"owner":{"account_id":24597068,"reputation":73,"user_id":18500319,"display_name":"JOC"},"score":0,"creation_date":1661583563,"post_id":73508351,"comment_id":129810869,"body_markdown":"@Pp88 I invoke from `main.java` `user.Renting(List of &lt;Car&gt;, List of &lt;Bike&gt;, User)` two times. First goes well, second returns the mentioned error.","body":"@Pp88 I invoke from <code>main.java</code> <code>user.Renting(List of &lt;Car&gt;, List of &lt;Bike&gt;, User)</code> two times. First goes well, second returns the mentioned error."},{"owner":{"account_id":24597068,"reputation":73,"user_id":18500319,"display_name":"JOC"},"score":0,"creation_date":1661583924,"post_id":73508351,"comment_id":129810920,"body_markdown":"@Pp88 Just edited and added `Renting` method from `User.Java`","body":"@Pp88 Just edited and added <code>Renting</code> method from <code>User.Java</code>"},{"owner":{"account_id":5279068,"reputation":895,"user_id":4215032,"display_name":"Pp88"},"score":2,"creation_date":1661584438,"post_id":73508351,"comment_id":129811014,"body_markdown":"FYI variable names and method names must start lower case, anyway you are not showing us what are you passing to the method and the entities","body":"FYI variable names and method names must start lower case, anyway you are not showing us what are you passing to the method and the entities"},{"owner":{"account_id":24597068,"reputation":73,"user_id":18500319,"display_name":"JOC"},"score":0,"creation_date":1661585346,"post_id":73508351,"comment_id":129811140,"body_markdown":"@Pp88 Thanks for the heads up. I do intend on changing these names in the future. I&#39;ve also just edited once again and added all entities (w/o getters/setters/irrelevant methods). Could you please take a look? Note: I haven&#39;t added parent abstract class `Vehicle` as I think it is not necessary for this issue&#39;s understanding. However, if you think it is, just let me know and I&#39;ll add it right away.","body":"@Pp88 Thanks for the heads up. I do intend on changing these names in the future. I&#39;ve also just edited once again and added all entities (w/o getters/setters/irrelevant methods). Could you please take a look? Note: I haven&#39;t added parent abstract class <code>Vehicle</code> as I think it is not necessary for this issue&#39;s understanding. However, if you think it is, just let me know and I&#39;ll add it right away."},{"owner":{"account_id":26086726,"reputation":129,"user_id":19784153,"display_name":"ePortfel"},"score":1,"creation_date":1661590386,"post_id":73508351,"comment_id":129811832,"body_markdown":"To be honest it looks like it is ok. Do you have any constructor in VehicleRent? If so, show it. Also add System.out.println(rent.id); before the line em.persist(rent); and check if id has expected value on first and second persist.","body":"To be honest it looks like it is ok. Do you have any constructor in VehicleRent? If so, show it. Also add System.out.println(rent.id); before the line em.persist(rent); and check if id has expected value on first and second persist."},{"owner":{"account_id":24597068,"reputation":73,"user_id":18500319,"display_name":"JOC"},"score":0,"creation_date":1661621175,"post_id":73508351,"comment_id":129817564,"body_markdown":"@ePortfel just added `VehicleRent`&#39;s constructors. I&#39;ve also added the System.out.println(rent.id) and noticed that `rent.id` is the same for both runs. It is not sequentially increasing as it should&#39;ve. Any ideas?","body":"@ePortfel just added <code>VehicleRent</code>&#39;s constructors. I&#39;ve also added the System.out.println(rent.id) and noticed that <code>rent.id</code> is the same for both runs. It is not sequentially increasing as it should&#39;ve. Any ideas?"},{"owner":{"account_id":26086726,"reputation":129,"user_id":19784153,"display_name":"ePortfel"},"score":1,"creation_date":1661627075,"post_id":73508351,"comment_id":129818689,"body_markdown":"It might be sequence problem. Not every DBMS supports this. What is your DBMS? Try @GeneratedValue(strategy=GenerationType.AUTO) and check if id is generated properly. Move System.out.println(rent.id);  to the line after commit() to be sure that ids are distinct.","body":"It might be sequence problem. Not every DBMS supports this. What is your DBMS? Try @GeneratedValue(strategy=GenerationType.AUTO) and check if id is generated properly. Move System.out.println(rent.id);  to the line after commit() to be sure that ids are distinct."},{"owner":{"account_id":24597068,"reputation":73,"user_id":18500319,"display_name":"JOC"},"score":0,"creation_date":1661649728,"post_id":73508351,"comment_id":129821670,"body_markdown":"@ePortfel I&#39;m using PostgreSQL v13.4 as DBMS. I&#39;ve tried switching to GenerationType.AUTO but the following exceptions show up: 1. **Unable to build Hibernate SessionFactory**, 2. **Could not instantiate id generator [entity-name=poo.models.Car]**, 3. **The increment size of the [Car_SEQ] sequence is set to [50] in the entity mapping while the associated database sequence increment size is [1].**","body":"@ePortfel I&#39;m using PostgreSQL v13.4 as DBMS. I&#39;ve tried switching to GenerationType.AUTO but the following exceptions show up: 1. <b>Unable to build Hibernate SessionFactory</b>, 2. <b>Could not instantiate id generator [entity-name=poo.models.Car]</b>, 3. <b>The increment size of the [Car_SEQ] sequence is set to [50] in the entity mapping while the associated database sequence increment size is [1].</b>"},{"owner":{"account_id":24597068,"reputation":73,"user_id":18500319,"display_name":"JOC"},"score":0,"creation_date":1661650308,"post_id":73508351,"comment_id":129821717,"body_markdown":"@ePortfel I&#39;ve also moved `System.out.println(rent.id)` to the line after commit() and noticed that the id goes from 0 to 1 as expected. However, when the process is finished and it has to run `Renting` method once again for the second persistence the id is back to 0 instead of continuing the previous index (1).","body":"@ePortfel I&#39;ve also moved <code>System.out.println(rent.id)</code> to the line after commit() and noticed that the id goes from 0 to 1 as expected. However, when the process is finished and it has to run <code>Renting</code> method once again for the second persistence the id is back to 0 instead of continuing the previous index (1)."}],"answers":[{"tags":[],"owner":{"account_id":26086726,"reputation":129,"user_id":19784153,"display_name":"ePortfel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661668380,"creation_date":1661668380,"answer_id":73516505,"question_id":73508351,"body_markdown":"Something is wrong with sequences probably.\r\n\r\nPlease try this:\r\n1. DROP sequence rent_seq in database\r\n2. Run the version below:\r\n```\r\n@Entity\r\npublic class VehicleRent{\r\n   @Id\r\n   @GeneratedValue(strategy=GenerationType.AUTO)\r\n   private long id;\r\n```\r\n\r\nIf you get errors with other entities (Car / car_seq), do the same for them.\r\n\r\nIt works for sure in [DataNucleus][1] and [H2][2]. DBMS should create and manage sequences by itself.\r\n\r\n\r\n  [1]: https://www.datanucleus.org/\r\n  [2]: https://www.h2database.com/","title":"JPA Error: detached entity passed to persist when attempting to persist multiple duplicated instances","body":"<p>Something is wrong with sequences probably.</p>\n<p>Please try this:</p>\n<ol>\n<li>DROP sequence rent_seq in database</li>\n<li>Run the version below:</li>\n</ol>\n<pre><code>@Entity\npublic class VehicleRent{\n   @Id\n   @GeneratedValue(strategy=GenerationType.AUTO)\n   private long id;\n</code></pre>\n<p>If you get errors with other entities (Car / car_seq), do the same for them.</p>\n<p>It works for sure in <a href=\"https://www.datanucleus.org/\" rel=\"nofollow noreferrer\">DataNucleus</a> and <a href=\"https://www.h2database.com/\" rel=\"nofollow noreferrer\">H2</a>. DBMS should create and manage sequences by itself.</p>\n"}],"owner":{"account_id":24597068,"reputation":73,"user_id":18500319,"display_name":"JOC"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":152,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1661668380,"creation_date":1661574404,"question_id":73508351,"body_markdown":"I&#39;ve got two **OneToMany** relations between an entity and two lists of objects and one **ManyToOne** relation between the same entity and another entity as better explained below:\r\n\r\n 1. Entity `VehicleRent` has one or many `Car` (a list of `Car`) and one\r\n    or many `Bike` (a list of `Bike`);\r\n 2. Entities `VehicleRent` belong to one `User`.\r\n\r\nWhen persisting (em.persist()) `VehicleRent` for the first time, it all goes well. However, when I try to persist a new, but different `VehicleRent` afterwards it keeps overwriting the first one. \r\n\r\nAlso, when I try to duplicate an existing instance of `VehicleRent` it returns the following error:\r\n\r\n    select\r\n            nextval(&#39;rent_seq&#39;)\r\n    jakarta.persistence.PersistenceException: Converting `org.hibernate.PersistentObjectException` to JPA `PersistenceException` : detached entity passed to persist: poo.models.User\r\n\r\nI am using the **GenerationType.SEQUENCE** for generating all classes&#39; ids with each one having its specific SequenceGenerator (i.e. `rent_seq` for `VehicleRent`, `car_seq` for `Car` etc.). \r\n\r\nIn all relations, I am also using **CascadeType.ALL**.\r\n\r\nBasically, I would like to persist as many `VehicleRent` instances as I would like to, regardless of them having duplicate or different attributes. \r\n\r\nHow can I achieve this behavior? I would really appreciate any help.\r\n\r\n\r\n**Edit 1: Renting method from User.java**\r\n\r\n    public void Renting(List&lt;Car&gt; Carlist, List&lt;Bike&gt; Bikelist, User user) {\r\n        VehicleRent rent = new VehicleRent(Carlist, Bikelist, user);\r\n\r\n        EntityManagerFactory emf = Persistence.createEntityManagerFactory(&quot;default&quot;);\r\n        EntityManager em = emf.createEntityManager();\r\n\r\n        try{\r\n            em.getTransaction().begin();\r\n            em.persist(rent);\r\n            em.getTransaction().commit();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        em.close();\r\n        emf.close();\r\n    }\r\n\r\n**Edit 2: Entities (getters and setters ignored)**\r\n\r\n**User**\r\n\r\n    @Entity\r\n    @SequenceGenerator(name = &quot;user_seq&quot;, sequenceName = &quot;user_seq&quot;, allocationSize = 1, initialValue = 1)\r\n    public class User {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;user_seq&quot;)\r\n        private long id;\r\n        private String firstName;\r\n        private String lastName;\r\n        private String nickName;\r\n        private String password;\r\n        private String mail;\r\n    \r\n        public User() {\r\n        }\r\n\r\n**VehicleRent**\r\n\r\n    @Entity\r\n    @SequenceGenerator(name = &quot;rent_seq&quot;, sequenceName = &quot;rent_seq&quot;, allocationSize = 1, initialValue = 1)\r\n    public class VehicleRent{\r\n       @Id\r\n       @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;rent_seq&quot;)\r\n       private long id;\r\n    \r\n       @OneToMany(cascade = CascadeType.ALL, orphanRemoval = true, targetEntity = Car.class)\r\n       @JoinColumn(name = &quot;rent_id&quot;)\r\n       private List&lt;Car&gt; Carlist;\r\n    \r\n       @OneToMany(cascade = CascadeType.ALL, orphanRemoval = true, targetEntity = Bike.class)\r\n       @JoinColumn(name = &quot;rent_id&quot;)\r\n       private List&lt;Bike&gt; Bikelist;\r\n    \r\n       @ManyToOne(cascade = CascadeType.ALL) \r\n       @JoinColumn(name = &quot;user_id&quot;)\r\n       private User tenant;\r\n\r\n    public VehicleRent(List&lt;Car&gt; Carlist, List&lt;Bike&gt; Bikelist, User tenant){ \r\n          this();\r\n          this.Carlist = Carlist ;\r\n          this.Bikelist= Bikelist;\r\n          this.tenant = tenant;\r\n       }\r\n    \r\n       public VehicleRent() {\r\n       }\r\n\r\n**Bike**\r\n\r\n    @Entity\r\n    @SequenceGenerator(name = &quot;bike_seq&quot;, sequenceName = &quot;bike_seq&quot;, allocationSize = 1, initialValue = 1)\r\n    public class Bike extends Vehicle{\r\n        \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;bike_seq&quot;)\r\n        private long id; // I can&#39;t keep id into parent Vehicle because they&#39;ll both share the same generator (each must have their own for proper persistence).\r\n\r\n        private int cc;\r\n        private String type;\r\n    \r\n        public Bike() {\r\n        }\r\n    \r\n**Car**\r\n\r\n    @Entity\r\n    @SequenceGenerator(name = &quot;car_seq&quot;, sequenceName = &quot;car_seq&quot;, allocationSize = 1, initialValue = 1)\r\n    public class Car extends Vehicle {\r\n    \r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;car_seq&quot;)\r\n    private long id; // I can&#39;t keep id into parent Vehicle because they&#39;ll both share the same generator (each must have their own for proper persistence).\r\n    \r\n    private String paint;\r\n    private boolean twoDoors;\r\n    \r\n    public Car() {\r\n    }\r\n\r\n","title":"JPA Error: detached entity passed to persist when attempting to persist multiple duplicated instances","body":"<p>I've got two <strong>OneToMany</strong> relations between an entity and two lists of objects and one <strong>ManyToOne</strong> relation between the same entity and another entity as better explained below:</p>\n<ol>\n<li>Entity <code>VehicleRent</code> has one or many <code>Car</code> (a list of <code>Car</code>) and one\nor many <code>Bike</code> (a list of <code>Bike</code>);</li>\n<li>Entities <code>VehicleRent</code> belong to one <code>User</code>.</li>\n</ol>\n<p>When persisting (em.persist()) <code>VehicleRent</code> for the first time, it all goes well. However, when I try to persist a new, but different <code>VehicleRent</code> afterwards it keeps overwriting the first one.</p>\n<p>Also, when I try to duplicate an existing instance of <code>VehicleRent</code> it returns the following error:</p>\n<pre><code>select\n        nextval('rent_seq')\njakarta.persistence.PersistenceException: Converting `org.hibernate.PersistentObjectException` to JPA `PersistenceException` : detached entity passed to persist: poo.models.User\n</code></pre>\n<p>I am using the <strong>GenerationType.SEQUENCE</strong> for generating all classes' ids with each one having its specific SequenceGenerator (i.e. <code>rent_seq</code> for <code>VehicleRent</code>, <code>car_seq</code> for <code>Car</code> etc.).</p>\n<p>In all relations, I am also using <strong>CascadeType.ALL</strong>.</p>\n<p>Basically, I would like to persist as many <code>VehicleRent</code> instances as I would like to, regardless of them having duplicate or different attributes.</p>\n<p>How can I achieve this behavior? I would really appreciate any help.</p>\n<p><strong>Edit 1: Renting method from User.java</strong></p>\n<pre><code>public void Renting(List&lt;Car&gt; Carlist, List&lt;Bike&gt; Bikelist, User user) {\n    VehicleRent rent = new VehicleRent(Carlist, Bikelist, user);\n\n    EntityManagerFactory emf = Persistence.createEntityManagerFactory(&quot;default&quot;);\n    EntityManager em = emf.createEntityManager();\n\n    try{\n        em.getTransaction().begin();\n        em.persist(rent);\n        em.getTransaction().commit();\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n\n    em.close();\n    emf.close();\n}\n</code></pre>\n<p><strong>Edit 2: Entities (getters and setters ignored)</strong></p>\n<p><strong>User</strong></p>\n<pre><code>@Entity\n@SequenceGenerator(name = &quot;user_seq&quot;, sequenceName = &quot;user_seq&quot;, allocationSize = 1, initialValue = 1)\npublic class User {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;user_seq&quot;)\n    private long id;\n    private String firstName;\n    private String lastName;\n    private String nickName;\n    private String password;\n    private String mail;\n\n    public User() {\n    }\n</code></pre>\n<p><strong>VehicleRent</strong></p>\n<pre><code>@Entity\n@SequenceGenerator(name = &quot;rent_seq&quot;, sequenceName = &quot;rent_seq&quot;, allocationSize = 1, initialValue = 1)\npublic class VehicleRent{\n   @Id\n   @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;rent_seq&quot;)\n   private long id;\n\n   @OneToMany(cascade = CascadeType.ALL, orphanRemoval = true, targetEntity = Car.class)\n   @JoinColumn(name = &quot;rent_id&quot;)\n   private List&lt;Car&gt; Carlist;\n\n   @OneToMany(cascade = CascadeType.ALL, orphanRemoval = true, targetEntity = Bike.class)\n   @JoinColumn(name = &quot;rent_id&quot;)\n   private List&lt;Bike&gt; Bikelist;\n\n   @ManyToOne(cascade = CascadeType.ALL) \n   @JoinColumn(name = &quot;user_id&quot;)\n   private User tenant;\n\npublic VehicleRent(List&lt;Car&gt; Carlist, List&lt;Bike&gt; Bikelist, User tenant){ \n      this();\n      this.Carlist = Carlist ;\n      this.Bikelist= Bikelist;\n      this.tenant = tenant;\n   }\n\n   public VehicleRent() {\n   }\n</code></pre>\n<p><strong>Bike</strong></p>\n<pre><code>@Entity\n@SequenceGenerator(name = &quot;bike_seq&quot;, sequenceName = &quot;bike_seq&quot;, allocationSize = 1, initialValue = 1)\npublic class Bike extends Vehicle{\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;bike_seq&quot;)\n    private long id; // I can't keep id into parent Vehicle because they'll both share the same generator (each must have their own for proper persistence).\n\n    private int cc;\n    private String type;\n\n    public Bike() {\n    }\n</code></pre>\n<p><strong>Car</strong></p>\n<pre><code>@Entity\n@SequenceGenerator(name = &quot;car_seq&quot;, sequenceName = &quot;car_seq&quot;, allocationSize = 1, initialValue = 1)\npublic class Car extends Vehicle {\n\n@Id\n@GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;car_seq&quot;)\nprivate long id; // I can't keep id into parent Vehicle because they'll both share the same generator (each must have their own for proper persistence).\n\nprivate String paint;\nprivate boolean twoDoors;\n\npublic Car() {\n}\n</code></pre>\n"},{"tags":["java","text-files","temporary-files"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1661668503,"post_id":73516481,"comment_id":129823376,"body_markdown":"Print and show us the stacktrace for the exception.","body":"Print and show us the stacktrace for the exception."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1661668609,"post_id":73516481,"comment_id":129823394,"body_markdown":"A common reason for delete to fail (on Windows) is that some program has it open.  Possibly the program that is attempting the delete.   There is insufficient context in your question to know if that is what is happening here.","body":"A common reason for delete to fail (on Windows) is that some program has it open.  Possibly the program that is attempting the delete.   There is insufficient context in your question to know if that is what is happening here."},{"owner":{"account_id":25941272,"reputation":9,"user_id":19660754,"display_name":"Felipe"},"score":0,"creation_date":1661670355,"post_id":73516481,"comment_id":129823594,"body_markdown":"@StephenC it didnt show any exception","body":"@StephenC it didnt show any exception"},{"owner":{"account_id":25937120,"reputation":2268,"user_id":19657183,"display_name":"Mihe"},"score":3,"creation_date":1661670492,"post_id":73516481,"comment_id":129823611,"body_markdown":"@Felipe, put `ex.printStackTrace();` in your catch block and use java.nio.file.Files to delete/rename.","body":"@Felipe, put <code>ex.printStackTrace();</code> in your catch block and use java.nio.file.Files to delete/rename."},{"owner":{"account_id":25941272,"reputation":9,"user_id":19660754,"display_name":"Felipe"},"score":0,"creation_date":1661670952,"post_id":73516481,"comment_id":129823665,"body_markdown":"@Mihe do i just need to import ```java.nio.file.Files```?","body":"@Mihe do i just need to import <code>java.nio.file.Files</code>?"},{"owner":{"account_id":25937120,"reputation":2268,"user_id":19657183,"display_name":"Mihe"},"score":1,"creation_date":1661671460,"post_id":73516481,"comment_id":129823737,"body_markdown":"@Felipe, you also have to use the class :-) Like e. g. `Files.delete(oldFile.toPath());` instead of `oldFile.delete();`.","body":"@Felipe, you also have to use the class :-) Like e. g. <code>Files.delete(oldFile.toPath());</code> instead of <code>oldFile.delete();</code>."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1661672585,"post_id":73516481,"comment_id":129823880,"body_markdown":"@Felipe - I said **Print** and show us the stacktrace ....","body":"@Felipe - I said <b>Print</b> and show us the stacktrace ...."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1661672866,"post_id":73516481,"comment_id":129823908,"body_markdown":"Also use the `Files.renameTo` file instead of `File.rename`.   The `Files` methods have the advantage that they throw an exception when they fail, so you can get some clues about the cause of the failure.   Exception messages and stacktraces are important and should not be discarded ...","body":"Also use the <code>Files.renameTo</code> file instead of <code>File.rename</code>.   The <code>Files</code> methods have the advantage that they throw an exception when they fail, so you can get some clues about the cause of the failure.   Exception messages and stacktraces are important and should not be discarded ..."}],"owner":{"account_id":25941272,"reputation":9,"user_id":19660754,"display_name":"Felipe"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":132,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1661668007,"creation_date":1661668007,"question_id":73516481,"body_markdown":"Im trying to delete the original file (&quot;order2.txt&quot;) and rename the temp file to (&quot;order2.txt&quot;) that I have store the new data. But for some reason the original could not be delete and it also cant rename the temp file. Anyone know what is wrong with my code and how can i fix it?? \r\n\r\n```\r\nvoid editRecord(String editTerm){\r\n        String tempFile=&quot;temp.txt&quot;;\r\n        String file=&quot;order2.txt&quot;;\r\n\r\n        File oldFile=new File(file);\r\n        File newFile=new File(tempFile);\r\n        String ID1=&quot;&quot;;\r\n        String status1=&quot;&quot;;\r\n        String food1=&quot;&quot;;\r\n        String fq1=&quot;&quot;;\r\n        String d1=&quot;&quot;;\r\n        String dq1=&quot;&quot;;\r\n\r\n        System.out.println(&quot;l&quot;);\r\n        try{\r\n            System.out.println(&quot;2&quot;);\r\n            FileWriter fw=new FileWriter(tempFile,true);\r\n            BufferedWriter bw=new BufferedWriter(fw);\r\n            PrintWriter pw=new PrintWriter(bw);\r\n            Scanner x=new Scanner(new File(file));\r\n            x.useDelimiter(&quot;[,\\n]&quot;);\r\n            System.out.println(&quot;3&quot;);\r\n\r\n            while(x.hasNext()){\r\n                ID1=x.next();\r\n                status1=x.next();\r\n                food1=x.next();\r\n                fq1=x.next();\r\n                d1=x.next();\r\n                dq1=x.next();\r\n                System.out.println(dq1);\r\n                String newStatus =statusTextField.getText();\r\n                if(ID1.equals(editTerm))\r\n                {\r\n\r\n                    System.out.println(status1);\r\n\r\n                    pw.println(ID1+&quot;,&quot;+newStatus+&quot;,&quot;+food1+&quot;,&quot;+fq1+&quot;,&quot;+d1+&quot;,&quot;+dq1);\r\n\r\n                    System.out.println(ID1+&quot;,&quot;+newStatus+&quot;,&quot;+food1+&quot;,&quot;+fq1+&quot;,&quot;+d1+&quot;,&quot;+dq1);\r\n\r\n                }\r\n                else\r\n                {\r\n                    System.out.println(ID1+&quot;,&quot;+status1+&quot;,&quot;+food1+&quot;,&quot;+fq1+&quot;,&quot;+d1+&quot;,&quot;+dq1);\r\n                    pw.println(ID1+&quot;,&quot;+status1+&quot;,&quot;+food1+&quot;,&quot;+fq1+&quot;,&quot;+d1+&quot;,&quot;+dq1);\r\n                    System.out.println(&quot;y&quot;);\r\n                } \r\n                System.out.println(&quot;t&quot;);\r\n            }\r\n            x.close();\r\n            pw.flush();\r\n            pw.close();\r\n            System.out.println(&quot;t&quot;);\r\n            oldFile.delete();\r\n            File dump = new File(file);\r\n            newFile.renameTo(dump);\r\n            System.out.println(&quot;f&quot;);\r\n        }\r\n        catch(IOException ex) {\r\n\r\n            System.out.println(&quot;fail&quot;);\r\n        }\r\n    }\r\n```\r\n","title":"Cant delete original file and rename temp file","body":"<p>Im trying to delete the original file (&quot;order2.txt&quot;) and rename the temp file to (&quot;order2.txt&quot;) that I have store the new data. But for some reason the original could not be delete and it also cant rename the temp file. Anyone know what is wrong with my code and how can i fix it??</p>\n<pre><code>void editRecord(String editTerm){\n        String tempFile=&quot;temp.txt&quot;;\n        String file=&quot;order2.txt&quot;;\n\n        File oldFile=new File(file);\n        File newFile=new File(tempFile);\n        String ID1=&quot;&quot;;\n        String status1=&quot;&quot;;\n        String food1=&quot;&quot;;\n        String fq1=&quot;&quot;;\n        String d1=&quot;&quot;;\n        String dq1=&quot;&quot;;\n\n        System.out.println(&quot;l&quot;);\n        try{\n            System.out.println(&quot;2&quot;);\n            FileWriter fw=new FileWriter(tempFile,true);\n            BufferedWriter bw=new BufferedWriter(fw);\n            PrintWriter pw=new PrintWriter(bw);\n            Scanner x=new Scanner(new File(file));\n            x.useDelimiter(&quot;[,\\n]&quot;);\n            System.out.println(&quot;3&quot;);\n\n            while(x.hasNext()){\n                ID1=x.next();\n                status1=x.next();\n                food1=x.next();\n                fq1=x.next();\n                d1=x.next();\n                dq1=x.next();\n                System.out.println(dq1);\n                String newStatus =statusTextField.getText();\n                if(ID1.equals(editTerm))\n                {\n\n                    System.out.println(status1);\n\n                    pw.println(ID1+&quot;,&quot;+newStatus+&quot;,&quot;+food1+&quot;,&quot;+fq1+&quot;,&quot;+d1+&quot;,&quot;+dq1);\n\n                    System.out.println(ID1+&quot;,&quot;+newStatus+&quot;,&quot;+food1+&quot;,&quot;+fq1+&quot;,&quot;+d1+&quot;,&quot;+dq1);\n\n                }\n                else\n                {\n                    System.out.println(ID1+&quot;,&quot;+status1+&quot;,&quot;+food1+&quot;,&quot;+fq1+&quot;,&quot;+d1+&quot;,&quot;+dq1);\n                    pw.println(ID1+&quot;,&quot;+status1+&quot;,&quot;+food1+&quot;,&quot;+fq1+&quot;,&quot;+d1+&quot;,&quot;+dq1);\n                    System.out.println(&quot;y&quot;);\n                } \n                System.out.println(&quot;t&quot;);\n            }\n            x.close();\n            pw.flush();\n            pw.close();\n            System.out.println(&quot;t&quot;);\n            oldFile.delete();\n            File dump = new File(file);\n            newFile.renameTo(dump);\n            System.out.println(&quot;f&quot;);\n        }\n        catch(IOException ex) {\n\n            System.out.println(&quot;fail&quot;);\n        }\n    }\n</code></pre>\n"},{"tags":["java","google-chrome","selenium","selenium-chromedriver"],"comments":[{"owner":{"account_id":4019883,"reputation":584,"user_id":3310636,"accept_rate":33,"display_name":"fabio_vac"},"score":1,"creation_date":1450428366,"post_id":34343423,"comment_id":56444810,"body_markdown":"I don&#39;t understand why someone clicked down on this question! I think they don&#39;t understood the questione itself...","body":"I don&#39;t understand why someone clicked down on this question! I think they don&#39;t understood the questione itself..."}],"answers":[{"tags":[],"owner":{"account_id":4019883,"reputation":584,"user_id":3310636,"accept_rate":33,"display_name":"fabio_vac"},"down_vote_count":0,"up_vote_count":20,"is_accepted":true,"score":20,"last_activity_date":1450512657,"creation_date":1450512657,"answer_id":34368704,"question_id":34343423,"body_markdown":"This question was answered in the: &quot;chromedriver-users&quot; google forum.\r\nThis is the working answer:\r\n\r\n    Map&lt;String, Object&gt; prefs = new HashMap&lt;String, Object&gt;();\r\n    prefs.put(&quot;profile.default_content_setting_values.notifications&quot;, 2);\r\n    ChromeOptions options = new ChromeOptions();\r\n    options.setExperimentalOption(&quot;prefs&quot;, prefs);\r\n    WebDriver driver = new ChromeDriver(options);","title":"Disable Chrome notifications (Selenium)","body":"<p>This question was answered in the: \"chromedriver-users\" google forum.\nThis is the working answer:</p>\n\n<pre><code>Map&lt;String, Object&gt; prefs = new HashMap&lt;String, Object&gt;();\nprefs.put(\"profile.default_content_setting_values.notifications\", 2);\nChromeOptions options = new ChromeOptions();\noptions.setExperimentalOption(\"prefs\", prefs);\nWebDriver driver = new ChromeDriver(options);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8994292,"reputation":387,"user_id":6705265,"display_name":"wailord"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1470922195,"creation_date":1470922195,"answer_id":38897786,"question_id":34343423,"body_markdown":"you can use:\r\n\r\n    chrome_options = Options()\r\n    chrome_options.add_argument(&quot;--disable-notifications&quot;)\r\n    browser = webdriver.Chrome(chrome_options=chrome_options)","title":"Disable Chrome notifications (Selenium)","body":"<p>you can use:</p>\n\n<pre><code>chrome_options = Options()\nchrome_options.add_argument(\"--disable-notifications\")\nbrowser = webdriver.Chrome(chrome_options=chrome_options)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1062544,"reputation":119,"user_id":1063865,"display_name":"Vikas Garg"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1475059802,"creation_date":1475059802,"answer_id":39745356,"question_id":34343423,"body_markdown":"                ChromeOptions ops = new ChromeOptions();\r\n\t\t        ops.addArguments(&quot;--disable-notifications&quot;);\r\n\t\t        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;./lib/chromedriver&quot;);\r\n\t\t        driver = new ChromeDriver(ops);","title":"Disable Chrome notifications (Selenium)","body":"<pre><code>            ChromeOptions ops = new ChromeOptions();\n            ops.addArguments(\"--disable-notifications\");\n            System.setProperty(\"webdriver.chrome.driver\", \"./lib/chromedriver\");\n            driver = new ChromeDriver(ops);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3029527,"reputation":7159,"user_id":2568849,"accept_rate":79,"display_name":"Mesut GUNES"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1500292945,"creation_date":1500292945,"answer_id":45143791,"question_id":34343423,"body_markdown":"Someone needs this for Capybara or Watir, you can pass the `--disable-notifications` as an argument like `&quot;--start-fullscreen&quot;, &quot;--disable-infobars&quot;`. The following workes:\r\n\r\n    Capybara.register_driver :chrome do |app|\r\n      args = [&quot;--disable-notifications&quot;]\r\n      Capybara::Selenium::Driver.new(app, {:browser =&gt; :chrome, :args =&gt; args})\r\n    end\r\n","title":"Disable Chrome notifications (Selenium)","body":"<p>Someone needs this for Capybara or Watir, you can pass the <code>--disable-notifications</code> as an argument like <code>\"--start-fullscreen\", \"--disable-infobars\"</code>. The following workes:</p>\n\n<pre><code>Capybara.register_driver :chrome do |app|\n  args = [\"--disable-notifications\"]\n  Capybara::Selenium::Driver.new(app, {:browser =&gt; :chrome, :args =&gt; args})\nend\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14008109,"reputation":1,"user_id":10117601,"display_name":"Ravi Kulkarni"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1532259337,"creation_date":1532254451,"answer_id":51464074,"question_id":34343423,"body_markdown":"    public class MultipleWindowHandle\r\n    {\r\n        public static void main(String[] args)\r\n        {\r\n            System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;E:\\\\NEWSEL\\\\chromedriver.exe&quot;);\r\n\r\n            // Create object of HashMap Class as shown below.\r\n            Map&lt;String, Object&gt; prefs = new HashMap&lt;String, Object&gt;();\r\n\r\n            // Set the notification setting it will override the default setting.\r\n            prefs.put(&quot;profile.default_content_setting_values.notifications&quot;, 2);\r\n\r\n            // Create object of ChromeOption class.\r\n            ChromeOptions Roptions = new ChromeOptions();\r\n\r\n            // Set the experimental option.\r\n            Roptions.setExperimentalOption(&quot;prefs&quot;, prefs);\r\n\r\n            // Open chrome browser.\r\n            ChromeDriver driver = new ChromeDriver(Roptions);\r\n            driver.get(&quot;https://my.monsterindia.com/login.html&quot;);\r\n\r\n            Set&lt;String&gt; id = driver.getWindowHandles();\r\n            Object[] data = id.toArray();\r\n            driver.switchTo().window((String)data[1]); driver.close();\r\n        }\r\n    }","title":"Disable Chrome notifications (Selenium)","body":"<pre><code>public class MultipleWindowHandle\n{\n    public static void main(String[] args)\n    {\n        System.setProperty(\"webdriver.chrome.driver\", \"E:\\\\NEWSEL\\\\chromedriver.exe\");\n\n        // Create object of HashMap Class as shown below.\n        Map&lt;String, Object&gt; prefs = new HashMap&lt;String, Object&gt;();\n\n        // Set the notification setting it will override the default setting.\n        prefs.put(\"profile.default_content_setting_values.notifications\", 2);\n\n        // Create object of ChromeOption class.\n        ChromeOptions Roptions = new ChromeOptions();\n\n        // Set the experimental option.\n        Roptions.setExperimentalOption(\"prefs\", prefs);\n\n        // Open chrome browser.\n        ChromeDriver driver = new ChromeDriver(Roptions);\n        driver.get(\"https://my.monsterindia.com/login.html\");\n\n        Set&lt;String&gt; id = driver.getWindowHandles();\n        Object[] data = id.toArray();\n        driver.switchTo().window((String)data[1]); driver.close();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":4019883,"reputation":584,"user_id":3310636,"accept_rate":33,"display_name":"fabio_vac"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46309,"favorite_count":0,"down_vote_count":2,"up_vote_count":12,"accepted_answer_id":34368704,"answer_count":5,"score":10,"last_activity_date":1661667546,"creation_date":1450383144,"question_id":34343423,"body_markdown":"I just want to disable Chrome notifications in the Chrome opened by a Selenium Java application. (using java code)\r\n\r\nNotifications like this one:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/3C1F4.jpg\r\n\r\nThe problem is that settings manually set are lost after browser&#39;s window is closed.","title":"Disable Chrome notifications (Selenium)","body":"<p>I just want to disable Chrome notifications in the Chrome opened by a Selenium Java application. (using java code)</p>\n\n<p>Notifications like this one:</p>\n\n<p><a href=\"https://i.stack.imgur.com/3C1F4.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/3C1F4.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>The problem is that settings manually set are lost after browser's window is closed.</p>\n"},{"tags":["java","apache-poi","jsoup"],"answers":[{"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1661058394,"creation_date":1660979291,"answer_id":73424732,"question_id":73413267,"body_markdown":"To program a HTML to XSLFTextParagraph converter, which considers all the ugly possibilities of that HTML tag-soup, would lead to program a whole library. HTML is a mess, nothing else. No real rules, all free interpretable by browsers.\r\n\r\nJSoup is a helper but not the complete solution. I have adopted my attempt of https://stackoverflow.com/questions/54268485/how-to-set-define-different-styles-for-the-same-paragraph/54275245#54275245 to `XSLF`. As told there it uses  `NodeTraversor` and `NodeVisitor` of JSoup. I have extended this to consider inline-CSS using `style` attributes in `SPAN` elements. Also I have extended it to consider `LI` elements in `UL` elements as bulleted paragraphs.\r\n\r\nComplete example converting your given HTML-String:\r\n\r\n    import java.io.FileOutputStream;\r\n    \r\n    import org.apache.poi.xslf.usermodel.*;\r\n    import org.apache.poi.sl.usermodel.*;\r\n    \r\n    import org.jsoup.Jsoup;\r\n    import org.jsoup.nodes.Document;\r\n    import org.jsoup.nodes.Node;\r\n    import org.jsoup.nodes.TextNode;\r\n    import org.jsoup.nodes.Element;\r\n    import org.jsoup.select.Elements;\r\n    import org.jsoup.select.NodeVisitor;\r\n    import org.jsoup.select.NodeTraversor;\r\n    \r\n    public class HTMLtoPPTX {\r\n    \r\n     private XMLSlideShow slideShow;\r\n    \r\n     public HTMLtoPPTX(String html, String pptxPath) throws Exception {\r\n    \r\n      this.slideShow = new XMLSlideShow();\r\n      XSLFSlide slide = slideShow.createSlide();\r\n      XSLFTextShape textShape = slide.createAutoShape();\r\n      java.awt.Rectangle rect = new java.awt.Rectangle(100, 100, 500, 400);\r\n      textShape.setAnchor(rect.getBounds2D());\r\n      textShape.setShapeType(ShapeType.RECT);\r\n    \r\n      XSLFTextParagraph\tparagraph = null;\r\n      Document htmlDocument = Jsoup.parse(html);\r\n      Elements htmlElements = htmlDocument.select(&quot;p:not(li *), ul li:not(li *)&quot;);\r\n      for(Element htmlElement : htmlElements) {\r\n    \r\n    System.out.println(htmlElement);\r\n    \r\n       paragraph = textShape.addNewTextParagraph();\r\n       createParagraphFromHTML(paragraph, htmlElement);\r\n      }\r\n    \r\n      FileOutputStream out = new FileOutputStream(pptxPath);\r\n      slideShow.write(out);\r\n      out.close();\r\n      slideShow.close();\r\n    \r\n     }\r\n    \r\n     void createParagraphFromHTML(XSLFTextParagraph paragraph, Element htmlElement) {\r\n    \r\n      ParagraphNodeVisitor nodeVisitor = new ParagraphNodeVisitor(paragraph);\r\n      NodeTraversor.traverse(nodeVisitor, htmlElement);\r\n    \r\n     }\r\n    \r\n     private class ParagraphNodeVisitor implements NodeVisitor {\r\n    \r\n      String nodeName;\r\n      boolean isItalic;\r\n      boolean isBold;\r\n      boolean isUnderlined;\r\n      double fontSize;\r\n      java.awt.Color fontColor;\r\n      XSLFTextParagraph paragraph;\r\n      XSLFTextRun run;\r\n      boolean spanStyleSetBold;\r\n      boolean spanStyleSetItalic;\r\n      boolean spanStyleSetUnderlined;\r\n      boolean spanStyleSetFontColor;\r\n      boolean spanStyleSetFontSize;\r\n    \r\n      ParagraphNodeVisitor(XSLFTextParagraph paragraph) {\r\n       this.paragraph = paragraph;\r\n       this.run = paragraph.addNewTextRun(); this.run.setText(&quot;&quot;);\r\n       this.nodeName = &quot;&quot;;\r\n       this.isItalic = false;\r\n       this.isBold = false;\r\n       this.isUnderlined = false;\r\n       this.fontSize = 11d;\r\n       this.fontColor = java.awt.Color.BLACK;\r\n       this.spanStyleSetBold = false;\r\n       this.spanStyleSetItalic = false;\r\n       this.spanStyleSetUnderlined = false;\r\n       this.spanStyleSetFontColor = false;\r\n       this.spanStyleSetFontSize = false;\r\n    \r\n      }\r\n    \r\n      @Override\r\n      public void head(Node node, int depth) {\r\n       nodeName = node.nodeName();\r\n    \r\n    System.out.println(&quot;Start &quot;+nodeName+&quot;: &quot; + node);\r\n    \r\n       if (&quot;#text&quot;.equals(nodeName)) {\r\n        run.setText(((TextNode)node).text());\r\n       } else if (&quot;i&quot;.equals(nodeName)) {\r\n        isItalic = true;\r\n       } else if (&quot;b&quot;.equals(nodeName)) {\r\n        isBold = true;\r\n       } else if (&quot;u&quot;.equals(nodeName)) {\r\n        isUnderlined = true;\r\n       } else if (&quot;br&quot;.equals(nodeName)) {\r\n        run = run.getParagraph().addLineBreak();\r\n       } else if (&quot;font&quot;.equals(nodeName)) {\r\n        String rgbS = (!&quot;&quot;.equals(node.attr(&quot;color&quot;)))?node.attr(&quot;color&quot;):&quot;#000000&quot;;\r\n        fontColor = new java.awt.Color(\r\n         Integer.valueOf(rgbS.substring(1, 3), 16),\r\n         Integer.valueOf(rgbS.substring(3, 5), 16),\r\n         Integer.valueOf(rgbS.substring(5, 7), 16)\r\n        );\r\n        fontSize = (!&quot;&quot;.equals(node.attr(&quot;size&quot;)))?Double.parseDouble(node.attr(&quot;size&quot;)):11d;\r\n       } else if (&quot;li&quot;.equals(nodeName)) {\r\n        paragraph.setBullet(true); \r\n       } else if (&quot;span&quot;.equals(nodeName)) {\r\n        String style = node.attr(&quot;style&quot;);\r\n        if (style.matches(&quot;.*\\\\bfont-weight:\\\\s*bold\\\\s*;.*&quot;)) {\r\n         isBold = true;\r\n         spanStyleSetBold = true;\r\n        }\r\n        if (style.matches(&quot;.*\\\\bfont-style:\\\\s*italic\\\\s*;.*&quot;)) {\r\n         isItalic = true;\r\n         spanStyleSetItalic = true;\r\n        }\r\n        if (style.matches(&quot;.*\\\\btext-decoration:\\\\s*underline\\\\s*;.*&quot;)) {\r\n         isUnderlined = true;\r\n         spanStyleSetUnderlined = true;\r\n        }\r\n        //if (style.matches(&quot;.*\\\\bcolor:\\\\s*(#[0-9a-fA-F]+)\\\\s*;.*&quot;)) { \r\n        // ToDo      \r\n        //}\r\n        //if (style.matches(&quot;.*\\\\bfont-size:\\\\s*(#[0-9]+)\\\\s*;.*&quot;)) { \r\n        // ToDo      \r\n        //}  \r\n       }\r\n       \r\n       run.setItalic(isItalic);\r\n       run.setBold(isBold);\r\n       if (isUnderlined) run.setUnderlined(true); else run.setUnderlined(false);\r\n       run.setFontColor(fontColor); run.setFontSize(fontSize);\r\n      }\r\n    \r\n      @Override\r\n      public void tail(Node node, int depth) {\r\n       nodeName = node.nodeName();\r\n    \r\n    System.out.println(&quot;End &quot;+nodeName);\r\n    \r\n       if (&quot;#text&quot;.equals(nodeName)) {\r\n        run = paragraph.addNewTextRun(); run.setText(&quot;&quot;); //after setting the text in the run a new run is needed\r\n       } else if (&quot;i&quot;.equals(nodeName)) {\r\n        isItalic = false;\r\n       } else if (&quot;b&quot;.equals(nodeName)) {\r\n        isBold = false;\r\n       } else if (&quot;u&quot;.equals(nodeName)) {\r\n        isUnderlined = false;\r\n       } else if (&quot;br&quot;.equals(nodeName)) {\r\n        run = paragraph.addNewTextRun(); run.setText(&quot;&quot;); //after setting a break a new run is needed\r\n       } else if (&quot;font&quot;.equals(nodeName)) {\r\n        fontColor = java.awt.Color.BLACK;\r\n        fontSize = 11d;\r\n       } else if (&quot;li&quot;.equals(nodeName)) {\r\n        // ToDo\r\n       } else if (&quot;span&quot;.equals(nodeName)) {\r\n        if (spanStyleSetItalic) isItalic = false;\r\n        if (spanStyleSetBold) isBold = false;\r\n        if (spanStyleSetUnderlined) isUnderlined = false;\r\n        //if (spanStyleSetFontColor) fontColor = java.awt.Color.BLACK; //ToDo\r\n        //if (spanStyleSetFontSize) fontSize = 11d; //ToDo\r\n        run = paragraph.addNewTextRun(); run.setText(&quot;&quot;); //after a span a new run is needed\r\n       }\r\n       run.setItalic(isItalic);\r\n       run.setBold(isBold);\r\n       if (isUnderlined) run.setUnderlined(true); else run.setUnderlined(false);\r\n       run.setFontColor(fontColor); run.setFontSize(fontSize);\r\n      }\r\n     }\r\n    \r\n     public static void main(String[] args) throws Exception {\r\n    \r\n      String html = \r\n       &quot;&lt;p&gt;&lt;font size=&#39;32&#39; color=&#39;#0000FF&#39;&gt;&lt;b&gt;First paragraph.&lt;/font&gt;&lt;/b&gt;&lt;br/&gt;Just like a heading&lt;/p&gt;&quot;\r\n      +&quot;&lt;p&gt;This is my text &lt;i&gt;which now is in italic &lt;b&gt;but also in bold&lt;/b&gt; depending on its &lt;u&gt;importance&lt;/u&gt;&lt;/i&gt;.&lt;br/&gt;Now a &lt;b&gt;&lt;i&gt;&lt;u&gt;new&lt;/u&gt;&lt;/i&gt;&lt;/b&gt; line starts &lt;i&gt;within &lt;b&gt;the same&lt;/b&gt; paragraph&lt;/i&gt;.&lt;/p&gt;&quot;\r\n      +&quot;&lt;p&gt;&lt;b&gt;Last &lt;u&gt;paragraph &lt;i&gt;comes&lt;/u&gt; here&lt;/b&gt; finally&lt;/i&gt;.&lt;/p&gt;&quot;\r\n      +&quot;&lt;p&gt;But yet &lt;u&gt;&lt;i&gt;&lt;b&gt;another&lt;/i&gt;&lt;/u&gt;&lt;/b&gt; paragraph having &lt;i&gt;&lt;font size=&#39;22&#39; color=&#39;#FF0000&#39;&gt;special &lt;u&gt;font&lt;/u&gt; settings&lt;/font&gt;&lt;/i&gt;. Now default font again.&lt;/p&gt;&quot;\r\n      +&quot;&lt;p /&gt;&quot;\r\n      ;\r\n    \r\n      //html += \r\n      html = \r\n       &quot;&lt;p&gt;&lt;span style=\\&quot;font-weight: bold; font-style: italic; text-decoration: underline; \\&quot;&gt;Title&lt;/span&gt;&lt;/p&gt;&quot;\r\n      +&quot;&lt;ul&gt; &lt;li&gt; &lt;span style=\\&quot;font-weight: bold;\\&quot;&gt; &lt;/span&gt;&lt;span&gt;Laser cutting of sheet &lt;/span&gt;&lt;span style=\\&quot;font-weight: bold;\\&quot;&gt;metal&lt;/span&gt;&lt;span&gt; generates a continuous heat source which can led to high levels of thermal stress &lt;/span&gt; &lt;/li&gt; &lt;li&gt;&lt;span&gt;Thermal Stress can deform the material at the micron level and the slightest deformation reduces the effectiveness of the sheet metal components&lt;/span&gt;&lt;/li&gt; &lt;br /&gt; &lt;/ul&gt;&quot;\r\n      +&quot;&lt;p&gt;&lt;span&gt; &lt;/span&gt;&lt;span style=\\&quot;font-weight:bold;text-decoration:underline;\\&quot;&gt;Mass Level Production&lt;/span&gt;&lt;/p&gt;&quot;\r\n      +&quot;&lt;ul&gt; &lt;li&gt;&lt;span&gt;Laser cutting cannot produce more component more than one part at a time&lt;/span&gt;&lt;/li&gt; &lt;li&gt;&lt;span&gt;When production is required at a lower level , laser cutting may be apt but inefficient for mass level production&lt;/span&gt;&lt;/li&gt; &lt;/ul&gt;&quot;\r\n      +&quot;&lt;p&gt;&lt;span style=\\&quot;font-weight: bold;\\&quot;&gt;Metal etching with aluminum&lt;/span&gt;&lt;/p&gt;&quot;\r\n      +&quot;&lt;p&gt;&lt;span style=\\&quot;font-weight: bold;\\&quot;&gt; &lt;/span&gt;&lt;/p&gt;&quot;\r\n      +&quot;&lt;ul&gt; &lt;li&gt;&lt;span&gt;Aluminum is a reflective material that is reactive to heat in the manufacturing process and therefore, makes it less suitable for laser cutting and wire EDM processes&lt;/span&gt;&lt;/li&gt; &lt;li&gt; &lt;span&gt;As the use of aluminum is growing in many industries, there is a requirement for a suitable manufacturing process for thin &lt;/span&gt;&lt;span style=\\&quot;font-weight: bold;\\&quot;&gt;aluminum&lt;/span&gt;&lt;span&gt;components&lt;/span&gt; &lt;/li&gt; &lt;/ul&gt;&quot;\r\n      ;\r\n      \r\n      HTMLtoPPTX htmlToPPTX = new HTMLtoPPTX(html, &quot;./CreatePowerPointTextFromHTML.pptx&quot;);\r\n    \r\n     }\r\n    }\r\n\r\n\r\nAgain: Disclaimer: This is a working draft showing the principle. Neither it is fully ready nor it is code ready for use in productive environments.","title":"Not able to add bullet points and styles like bold and italic for some portion of a line using Apache POI","body":"<p>To program a HTML to XSLFTextParagraph converter, which considers all the ugly possibilities of that HTML tag-soup, would lead to program a whole library. HTML is a mess, nothing else. No real rules, all free interpretable by browsers.</p>\n<p>JSoup is a helper but not the complete solution. I have adopted my attempt of <a href=\"https://stackoverflow.com/questions/54268485/how-to-set-define-different-styles-for-the-same-paragraph/54275245#54275245\">How to set define different styles for the same paragraph</a> to <code>XSLF</code>. As told there it uses  <code>NodeTraversor</code> and <code>NodeVisitor</code> of JSoup. I have extended this to consider inline-CSS using <code>style</code> attributes in <code>SPAN</code> elements. Also I have extended it to consider <code>LI</code> elements in <code>UL</code> elements as bulleted paragraphs.</p>\n<p>Complete example converting your given HTML-String:</p>\n<pre><code>import java.io.FileOutputStream;\n\nimport org.apache.poi.xslf.usermodel.*;\nimport org.apache.poi.sl.usermodel.*;\n\nimport org.jsoup.Jsoup;\nimport org.jsoup.nodes.Document;\nimport org.jsoup.nodes.Node;\nimport org.jsoup.nodes.TextNode;\nimport org.jsoup.nodes.Element;\nimport org.jsoup.select.Elements;\nimport org.jsoup.select.NodeVisitor;\nimport org.jsoup.select.NodeTraversor;\n\npublic class HTMLtoPPTX {\n\n private XMLSlideShow slideShow;\n\n public HTMLtoPPTX(String html, String pptxPath) throws Exception {\n\n  this.slideShow = new XMLSlideShow();\n  XSLFSlide slide = slideShow.createSlide();\n  XSLFTextShape textShape = slide.createAutoShape();\n  java.awt.Rectangle rect = new java.awt.Rectangle(100, 100, 500, 400);\n  textShape.setAnchor(rect.getBounds2D());\n  textShape.setShapeType(ShapeType.RECT);\n\n  XSLFTextParagraph paragraph = null;\n  Document htmlDocument = Jsoup.parse(html);\n  Elements htmlElements = htmlDocument.select(&quot;p:not(li *), ul li:not(li *)&quot;);\n  for(Element htmlElement : htmlElements) {\n\nSystem.out.println(htmlElement);\n\n   paragraph = textShape.addNewTextParagraph();\n   createParagraphFromHTML(paragraph, htmlElement);\n  }\n\n  FileOutputStream out = new FileOutputStream(pptxPath);\n  slideShow.write(out);\n  out.close();\n  slideShow.close();\n\n }\n\n void createParagraphFromHTML(XSLFTextParagraph paragraph, Element htmlElement) {\n\n  ParagraphNodeVisitor nodeVisitor = new ParagraphNodeVisitor(paragraph);\n  NodeTraversor.traverse(nodeVisitor, htmlElement);\n\n }\n\n private class ParagraphNodeVisitor implements NodeVisitor {\n\n  String nodeName;\n  boolean isItalic;\n  boolean isBold;\n  boolean isUnderlined;\n  double fontSize;\n  java.awt.Color fontColor;\n  XSLFTextParagraph paragraph;\n  XSLFTextRun run;\n  boolean spanStyleSetBold;\n  boolean spanStyleSetItalic;\n  boolean spanStyleSetUnderlined;\n  boolean spanStyleSetFontColor;\n  boolean spanStyleSetFontSize;\n\n  ParagraphNodeVisitor(XSLFTextParagraph paragraph) {\n   this.paragraph = paragraph;\n   this.run = paragraph.addNewTextRun(); this.run.setText(&quot;&quot;);\n   this.nodeName = &quot;&quot;;\n   this.isItalic = false;\n   this.isBold = false;\n   this.isUnderlined = false;\n   this.fontSize = 11d;\n   this.fontColor = java.awt.Color.BLACK;\n   this.spanStyleSetBold = false;\n   this.spanStyleSetItalic = false;\n   this.spanStyleSetUnderlined = false;\n   this.spanStyleSetFontColor = false;\n   this.spanStyleSetFontSize = false;\n\n  }\n\n  @Override\n  public void head(Node node, int depth) {\n   nodeName = node.nodeName();\n\nSystem.out.println(&quot;Start &quot;+nodeName+&quot;: &quot; + node);\n\n   if (&quot;#text&quot;.equals(nodeName)) {\n    run.setText(((TextNode)node).text());\n   } else if (&quot;i&quot;.equals(nodeName)) {\n    isItalic = true;\n   } else if (&quot;b&quot;.equals(nodeName)) {\n    isBold = true;\n   } else if (&quot;u&quot;.equals(nodeName)) {\n    isUnderlined = true;\n   } else if (&quot;br&quot;.equals(nodeName)) {\n    run = run.getParagraph().addLineBreak();\n   } else if (&quot;font&quot;.equals(nodeName)) {\n    String rgbS = (!&quot;&quot;.equals(node.attr(&quot;color&quot;)))?node.attr(&quot;color&quot;):&quot;#000000&quot;;\n    fontColor = new java.awt.Color(\n     Integer.valueOf(rgbS.substring(1, 3), 16),\n     Integer.valueOf(rgbS.substring(3, 5), 16),\n     Integer.valueOf(rgbS.substring(5, 7), 16)\n    );\n    fontSize = (!&quot;&quot;.equals(node.attr(&quot;size&quot;)))?Double.parseDouble(node.attr(&quot;size&quot;)):11d;\n   } else if (&quot;li&quot;.equals(nodeName)) {\n    paragraph.setBullet(true); \n   } else if (&quot;span&quot;.equals(nodeName)) {\n    String style = node.attr(&quot;style&quot;);\n    if (style.matches(&quot;.*\\\\bfont-weight:\\\\s*bold\\\\s*;.*&quot;)) {\n     isBold = true;\n     spanStyleSetBold = true;\n    }\n    if (style.matches(&quot;.*\\\\bfont-style:\\\\s*italic\\\\s*;.*&quot;)) {\n     isItalic = true;\n     spanStyleSetItalic = true;\n    }\n    if (style.matches(&quot;.*\\\\btext-decoration:\\\\s*underline\\\\s*;.*&quot;)) {\n     isUnderlined = true;\n     spanStyleSetUnderlined = true;\n    }\n    //if (style.matches(&quot;.*\\\\bcolor:\\\\s*(#[0-9a-fA-F]+)\\\\s*;.*&quot;)) { \n    // ToDo      \n    //}\n    //if (style.matches(&quot;.*\\\\bfont-size:\\\\s*(#[0-9]+)\\\\s*;.*&quot;)) { \n    // ToDo      \n    //}  \n   }\n   \n   run.setItalic(isItalic);\n   run.setBold(isBold);\n   if (isUnderlined) run.setUnderlined(true); else run.setUnderlined(false);\n   run.setFontColor(fontColor); run.setFontSize(fontSize);\n  }\n\n  @Override\n  public void tail(Node node, int depth) {\n   nodeName = node.nodeName();\n\nSystem.out.println(&quot;End &quot;+nodeName);\n\n   if (&quot;#text&quot;.equals(nodeName)) {\n    run = paragraph.addNewTextRun(); run.setText(&quot;&quot;); //after setting the text in the run a new run is needed\n   } else if (&quot;i&quot;.equals(nodeName)) {\n    isItalic = false;\n   } else if (&quot;b&quot;.equals(nodeName)) {\n    isBold = false;\n   } else if (&quot;u&quot;.equals(nodeName)) {\n    isUnderlined = false;\n   } else if (&quot;br&quot;.equals(nodeName)) {\n    run = paragraph.addNewTextRun(); run.setText(&quot;&quot;); //after setting a break a new run is needed\n   } else if (&quot;font&quot;.equals(nodeName)) {\n    fontColor = java.awt.Color.BLACK;\n    fontSize = 11d;\n   } else if (&quot;li&quot;.equals(nodeName)) {\n    // ToDo\n   } else if (&quot;span&quot;.equals(nodeName)) {\n    if (spanStyleSetItalic) isItalic = false;\n    if (spanStyleSetBold) isBold = false;\n    if (spanStyleSetUnderlined) isUnderlined = false;\n    //if (spanStyleSetFontColor) fontColor = java.awt.Color.BLACK; //ToDo\n    //if (spanStyleSetFontSize) fontSize = 11d; //ToDo\n    run = paragraph.addNewTextRun(); run.setText(&quot;&quot;); //after a span a new run is needed\n   }\n   run.setItalic(isItalic);\n   run.setBold(isBold);\n   if (isUnderlined) run.setUnderlined(true); else run.setUnderlined(false);\n   run.setFontColor(fontColor); run.setFontSize(fontSize);\n  }\n }\n\n public static void main(String[] args) throws Exception {\n\n  String html = \n   &quot;&lt;p&gt;&lt;font size='32' color='#0000FF'&gt;&lt;b&gt;First paragraph.&lt;/font&gt;&lt;/b&gt;&lt;br/&gt;Just like a heading&lt;/p&gt;&quot;\n  +&quot;&lt;p&gt;This is my text &lt;i&gt;which now is in italic &lt;b&gt;but also in bold&lt;/b&gt; depending on its &lt;u&gt;importance&lt;/u&gt;&lt;/i&gt;.&lt;br/&gt;Now a &lt;b&gt;&lt;i&gt;&lt;u&gt;new&lt;/u&gt;&lt;/i&gt;&lt;/b&gt; line starts &lt;i&gt;within &lt;b&gt;the same&lt;/b&gt; paragraph&lt;/i&gt;.&lt;/p&gt;&quot;\n  +&quot;&lt;p&gt;&lt;b&gt;Last &lt;u&gt;paragraph &lt;i&gt;comes&lt;/u&gt; here&lt;/b&gt; finally&lt;/i&gt;.&lt;/p&gt;&quot;\n  +&quot;&lt;p&gt;But yet &lt;u&gt;&lt;i&gt;&lt;b&gt;another&lt;/i&gt;&lt;/u&gt;&lt;/b&gt; paragraph having &lt;i&gt;&lt;font size='22' color='#FF0000'&gt;special &lt;u&gt;font&lt;/u&gt; settings&lt;/font&gt;&lt;/i&gt;. Now default font again.&lt;/p&gt;&quot;\n  +&quot;&lt;p /&gt;&quot;\n  ;\n\n  //html += \n  html = \n   &quot;&lt;p&gt;&lt;span style=\\&quot;font-weight: bold; font-style: italic; text-decoration: underline; \\&quot;&gt;Title&lt;/span&gt;&lt;/p&gt;&quot;\n  +&quot;&lt;ul&gt; &lt;li&gt; &lt;span style=\\&quot;font-weight: bold;\\&quot;&gt; &lt;/span&gt;&lt;span&gt;Laser cutting of sheet &lt;/span&gt;&lt;span style=\\&quot;font-weight: bold;\\&quot;&gt;metal&lt;/span&gt;&lt;span&gt; generates a continuous heat source which can led to high levels of thermal stress &lt;/span&gt; &lt;/li&gt; &lt;li&gt;&lt;span&gt;Thermal Stress can deform the material at the micron level and the slightest deformation reduces the effectiveness of the sheet metal components&lt;/span&gt;&lt;/li&gt; &lt;br /&gt; &lt;/ul&gt;&quot;\n  +&quot;&lt;p&gt;&lt;span&gt; &lt;/span&gt;&lt;span style=\\&quot;font-weight:bold;text-decoration:underline;\\&quot;&gt;Mass Level Production&lt;/span&gt;&lt;/p&gt;&quot;\n  +&quot;&lt;ul&gt; &lt;li&gt;&lt;span&gt;Laser cutting cannot produce more component more than one part at a time&lt;/span&gt;&lt;/li&gt; &lt;li&gt;&lt;span&gt;When production is required at a lower level , laser cutting may be apt but inefficient for mass level production&lt;/span&gt;&lt;/li&gt; &lt;/ul&gt;&quot;\n  +&quot;&lt;p&gt;&lt;span style=\\&quot;font-weight: bold;\\&quot;&gt;Metal etching with aluminum&lt;/span&gt;&lt;/p&gt;&quot;\n  +&quot;&lt;p&gt;&lt;span style=\\&quot;font-weight: bold;\\&quot;&gt; &lt;/span&gt;&lt;/p&gt;&quot;\n  +&quot;&lt;ul&gt; &lt;li&gt;&lt;span&gt;Aluminum is a reflective material that is reactive to heat in the manufacturing process and therefore, makes it less suitable for laser cutting and wire EDM processes&lt;/span&gt;&lt;/li&gt; &lt;li&gt; &lt;span&gt;As the use of aluminum is growing in many industries, there is a requirement for a suitable manufacturing process for thin &lt;/span&gt;&lt;span style=\\&quot;font-weight: bold;\\&quot;&gt;aluminum&lt;/span&gt;&lt;span&gt;components&lt;/span&gt; &lt;/li&gt; &lt;/ul&gt;&quot;\n  ;\n  \n  HTMLtoPPTX htmlToPPTX = new HTMLtoPPTX(html, &quot;./CreatePowerPointTextFromHTML.pptx&quot;);\n\n }\n}\n</code></pre>\n<p>Again: Disclaimer: This is a working draft showing the principle. Neither it is fully ready nor it is code ready for use in productive environments.</p>\n"}],"owner":{"account_id":25957216,"reputation":45,"user_id":19674403,"display_name":"Code Machine"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":305,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73424732,"answer_count":1,"score":2,"last_activity_date":1661667036,"creation_date":1660894248,"question_id":73413267,"body_markdown":"I&#39;m reading one string in that some `li` tags have spans with styles so I&#39;m trying to add styles for a particular word in the `li` tag (not for the whole line), but for every styles change it is going for new bullet point instead of appending to the same `li`,\r\n\r\nString:\r\n```\r\n&quot;&lt;p&gt;&lt;span style=\\&quot;font-weight: bold;\\&quot;&gt;Title&lt;/span&gt;&lt;/p&gt; &lt;ul&gt; &lt;li&gt; &lt;span style=\\&quot;font-weight: bold;\\&quot;&gt; &lt;/span&gt;&lt;span&gt;Laser cutting of sheet &lt;/span&gt;&lt;span style=\\&quot;font-weight: bold;\\&quot;&gt;metal&lt;/span&gt;&lt;span&gt; generates a continuous heat source which can led to high levels of thermal stress &lt;/span&gt; &lt;/li&gt; &lt;li&gt;&lt;span&gt;Thermal Stress can deform the material at the micron level and the slightest deformation reduces the effectiveness of the sheet metal components&lt;/span&gt;&lt;/li&gt; &lt;br /&gt; &lt;/ul&gt; &lt;p&gt;&lt;span&gt; &lt;/span&gt;&lt;span style=\\&quot;font-weight: bold;\\&quot;&gt;Mass Level Production&lt;/span&gt;&lt;/p&gt; &lt;ul&gt; &lt;li&gt;&lt;span&gt;Laser cutting cannot produce more component more than one part at a time&lt;/span&gt;&lt;/li&gt; &lt;li&gt;&lt;span&gt;When production is required at a lower level , laser cutting may be apt but inefficient for mass level production&lt;/span&gt;&lt;/li&gt; &lt;/ul&gt; &lt;p&gt;&lt;span style=\\&quot;font-weight: bold;\\&quot;&gt;Metal etching with aluminum&lt;/span&gt;&lt;/p&gt; &lt;p&gt;&lt;span style=\\&quot;font-weight: bold;\\&quot;&gt; &lt;/span&gt;&lt;/p&gt; &lt;ul&gt; &lt;li&gt;&lt;span&gt;Aluminum is a reflective material that is reactive to heat in the manufacturing process and therefore, makes it less suitable for laser cutting and wire EDM processes&lt;/span&gt;&lt;/li&gt; &lt;li&gt; &lt;span&gt;As the use of aluminum is growing in many industries, there is a requirement for a suitable manufacturing process for thin &lt;/span&gt;&lt;span style=\\&quot;font-weight: bold;\\&quot;&gt;aluminum&lt;/span&gt;&lt;span&gt;components&lt;/span&gt; &lt;/li&gt; &lt;/ul&gt;&quot;\r\n```\r\n\r\nCan anyone help me, like where I&#39;m doing the mistake?   \r\nCode:\r\n```\r\npublic static void advancedUlLiConvert(XSLFTextShape textShape, String str) {\r\n\tSystem.out.println(&quot;Recived String: &quot;+str);\r\n\t\t\r\n\tDocument doc = null;\r\n\t\t\r\n\ttry {\r\n\t\tdoc = Jsoup.parse(str);\r\n\t\t\t\r\n\t\tElement element = doc.body();\r\n\t\tElements lstElements = element.children();\r\n\t\tSystem.out.println(&quot;bodyChildEle : &quot; +lstElements);\r\n\t\t\t\r\n\t\tfor (Element ele: lstElements) {\r\n\t\t\tif (ele.tagName() == &quot;p&quot;) {\r\n\t\t\t\tSystem.out.println(&quot;para&quot; + ele);\r\n\t\t\t\tString para = ele.children().toString();\r\n\r\n\t\t\t\tSystem.out.println(&quot;String para&quot; + para);\r\n                //if any &lt;p&gt; tags are there then I&#39;m calling this method to take care of that which is working fine,\r\n\t\t\t\taddAllStyledText(textShape,para, false);\r\n\t\t\t}\r\n\t\t\t//I&#39;m facing problems in these below part\r\n\t\t\tif (ele.tagName() == &quot;ul&quot;) {\r\n\t\t\t\tElements lstLi = ele.children();\r\n\t\t\t\tSystem.out.println(&quot;lstsi&quot; + lstLi);\r\n\t\t\t\t\t\r\n\t\t\t\tfor (Element li: lstLi) {\r\n\t\t\t\t\tElements spans = li.children();\r\n\r\n\t\t\t\t\tXSLFTextParagraph paragraph = textShape.addNewTextParagraph();\r\n\t\t\t\t\tparagraph.setBullet(true);\r\n\t\t\t\t\tXSLFTextRun textRun = paragraph.addNewTextRun();\r\n\t\t\t\t\t\t\r\n\t\t\t\t\tSystem.out.println(&quot;allspans: &quot; + spans);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\tfor (Element span: spans) {\r\n\t\t\t\t\t\tSystem.out.println(&quot;loopspan&quot; + span);\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\tif (!(span.hasText())) {\r\n\t\t\t\t\t\t\tspan.remove();\r\n\t\t\t\t\t\t\tSystem.out.println(&quot;Removed Element: &quot;+ span);\r\n\t\t\t\t\t\t} else if (span.hasAttr(&quot;style&quot;)) {\r\n\t\t\t\t\t\t\tSystem.out.println(&quot;Styled Span: &quot; + span);\r\n\t\t\t\t\t\t\tString strSpan = span.toString();\r\n\t\t\t\t\t\t\tboolean isBold = false;\r\n\t\t\t\t\t\t\tboolean isItalic = false;\r\n\t\t\t\t\t\t\tboolean isUnderline = false;\r\n\t\t\t\t\t\t\tboolean isLineThrough = false;\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tif (strSpan.contains(&quot;: bold;&quot;))\r\n\t\t\t\t\t\t\t\tisBold = true;\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tif (strSpan.contains(&quot;: italic;&quot;))\r\n\t\t\t\t\t\t\t\tisItalic = true;\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tif (strSpan.contains(&quot;: underline;&quot;))\r\n\t\t\t\t\t\t\t\tisUnderline = true;\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tif (strSpan.contains(&quot;: line-through;&quot;))\r\n\t\t\t\t\t\t\t\tisLineThrough = true;\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tString text = span.text();\r\n\t\t\t\t\t\t\ttextRun = textShape.appendText(text+&quot; &quot;, false);\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tif (isBold) {\r\n\t\t\t\t\t\t\t\ttextRun.setBold(true);\r\n\t\t\t\t\t\t\t\t//textRun.setFontColor(rgb);\r\n\t\t\t\t \t\t\t}\r\n\t\t\t\t\t\t\tif (isItalic) {\r\n\t\t\t\t\t\t\t\ttextRun.setItalic(true);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (isUnderline) {\r\n\t\t\t\t\t\t\t\ttextRun.setUnderlined(true);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (isLineThrough) {\r\n\t\t\t\t\t\t\t\ttextRun.setStrikethrough(true);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t//textRun.setText(text);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tSystem.out.println(&quot;Span without Style: &quot; + span);\r\n\t\t\t\t\t\t\tString text = span.text();\r\n                            //if I make this as false than whole code braking not sure why\r\n\t\t\t\t\t\t\ttextRun = textShape.appendText(text + &quot; &quot;, true);\r\n\t\t\t\t\t\t\t//textRun.setText(text);\r\n\t\t\t\t\t\t\t//paragraph.setBullet(false);\r\n\t\t\t\t\t\t\t//paragraph.setBullet(false);\r\n\t\t\t\t\t\t    //paragraph.addNewTextRun().setText(text);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tXSLFTextRun dummyTextRun = textShape.appendText(&quot;&quot;, false);\r\n\t\t\t\t\t\tdummyTextRun.setBold(false);\r\n\t\t\t\t\t\tdummyTextRun.setItalic(false);\r\n\t\t\t\t\t\tdummyTextRun.setUnderlined(false);\r\n\t\t\t\t\t\tdummyTextRun.setStrikethrough(false);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tparagraph.setBullet(false);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t} catch (Exception e) {\r\n\t\tlog.error(&quot;Exception in advancedUlLiConvert: &quot; , e);\r\n\t}\r\n}\r\n\r\n```\r\nCode Output:\r\n[![enter image description here][1]][1]\r\n\r\nMy expectation :\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8LSNu.png\r\n  [2]: https://i.stack.imgur.com/yVh94.png","title":"Not able to add bullet points and styles like bold and italic for some portion of a line using Apache POI","body":"<p>I'm reading one string in that some <code>li</code> tags have spans with styles so I'm trying to add styles for a particular word in the <code>li</code> tag (not for the whole line), but for every styles change it is going for new bullet point instead of appending to the same <code>li</code>,</p>\n<p>String:</p>\n<pre><code>&quot;&lt;p&gt;&lt;span style=\\&quot;font-weight: bold;\\&quot;&gt;Title&lt;/span&gt;&lt;/p&gt; &lt;ul&gt; &lt;li&gt; &lt;span style=\\&quot;font-weight: bold;\\&quot;&gt; &lt;/span&gt;&lt;span&gt;Laser cutting of sheet &lt;/span&gt;&lt;span style=\\&quot;font-weight: bold;\\&quot;&gt;metal&lt;/span&gt;&lt;span&gt; generates a continuous heat source which can led to high levels of thermal stress &lt;/span&gt; &lt;/li&gt; &lt;li&gt;&lt;span&gt;Thermal Stress can deform the material at the micron level and the slightest deformation reduces the effectiveness of the sheet metal components&lt;/span&gt;&lt;/li&gt; &lt;br /&gt; &lt;/ul&gt; &lt;p&gt;&lt;span&gt; &lt;/span&gt;&lt;span style=\\&quot;font-weight: bold;\\&quot;&gt;Mass Level Production&lt;/span&gt;&lt;/p&gt; &lt;ul&gt; &lt;li&gt;&lt;span&gt;Laser cutting cannot produce more component more than one part at a time&lt;/span&gt;&lt;/li&gt; &lt;li&gt;&lt;span&gt;When production is required at a lower level , laser cutting may be apt but inefficient for mass level production&lt;/span&gt;&lt;/li&gt; &lt;/ul&gt; &lt;p&gt;&lt;span style=\\&quot;font-weight: bold;\\&quot;&gt;Metal etching with aluminum&lt;/span&gt;&lt;/p&gt; &lt;p&gt;&lt;span style=\\&quot;font-weight: bold;\\&quot;&gt; &lt;/span&gt;&lt;/p&gt; &lt;ul&gt; &lt;li&gt;&lt;span&gt;Aluminum is a reflective material that is reactive to heat in the manufacturing process and therefore, makes it less suitable for laser cutting and wire EDM processes&lt;/span&gt;&lt;/li&gt; &lt;li&gt; &lt;span&gt;As the use of aluminum is growing in many industries, there is a requirement for a suitable manufacturing process for thin &lt;/span&gt;&lt;span style=\\&quot;font-weight: bold;\\&quot;&gt;aluminum&lt;/span&gt;&lt;span&gt;components&lt;/span&gt; &lt;/li&gt; &lt;/ul&gt;&quot;\n</code></pre>\n<p>Can anyone help me, like where I'm doing the mistake?<br />\nCode:</p>\n<pre><code>public static void advancedUlLiConvert(XSLFTextShape textShape, String str) {\n    System.out.println(&quot;Recived String: &quot;+str);\n        \n    Document doc = null;\n        \n    try {\n        doc = Jsoup.parse(str);\n            \n        Element element = doc.body();\n        Elements lstElements = element.children();\n        System.out.println(&quot;bodyChildEle : &quot; +lstElements);\n            \n        for (Element ele: lstElements) {\n            if (ele.tagName() == &quot;p&quot;) {\n                System.out.println(&quot;para&quot; + ele);\n                String para = ele.children().toString();\n\n                System.out.println(&quot;String para&quot; + para);\n                //if any &lt;p&gt; tags are there then I'm calling this method to take care of that which is working fine,\n                addAllStyledText(textShape,para, false);\n            }\n            //I'm facing problems in these below part\n            if (ele.tagName() == &quot;ul&quot;) {\n                Elements lstLi = ele.children();\n                System.out.println(&quot;lstsi&quot; + lstLi);\n                    \n                for (Element li: lstLi) {\n                    Elements spans = li.children();\n\n                    XSLFTextParagraph paragraph = textShape.addNewTextParagraph();\n                    paragraph.setBullet(true);\n                    XSLFTextRun textRun = paragraph.addNewTextRun();\n                        \n                    System.out.println(&quot;allspans: &quot; + spans);\n                        \n                    for (Element span: spans) {\n                        System.out.println(&quot;loopspan&quot; + span);\n                            \n                        if (!(span.hasText())) {\n                            span.remove();\n                            System.out.println(&quot;Removed Element: &quot;+ span);\n                        } else if (span.hasAttr(&quot;style&quot;)) {\n                            System.out.println(&quot;Styled Span: &quot; + span);\n                            String strSpan = span.toString();\n                            boolean isBold = false;\n                            boolean isItalic = false;\n                            boolean isUnderline = false;\n                            boolean isLineThrough = false;\n                                \n                            if (strSpan.contains(&quot;: bold;&quot;))\n                                isBold = true;\n                                \n                            if (strSpan.contains(&quot;: italic;&quot;))\n                                isItalic = true;\n                                \n                            if (strSpan.contains(&quot;: underline;&quot;))\n                                isUnderline = true;\n                                \n                            if (strSpan.contains(&quot;: line-through;&quot;))\n                                isLineThrough = true;\n                                \n                            String text = span.text();\n                            textRun = textShape.appendText(text+&quot; &quot;, false);\n                                \n                            if (isBold) {\n                                textRun.setBold(true);\n                                //textRun.setFontColor(rgb);\n                            }\n                            if (isItalic) {\n                                textRun.setItalic(true);\n                            }\n                            if (isUnderline) {\n                                textRun.setUnderlined(true);\n                            }\n                            if (isLineThrough) {\n                                textRun.setStrikethrough(true);\n                            }\n                            //textRun.setText(text);\n                        } else {\n                            System.out.println(&quot;Span without Style: &quot; + span);\n                            String text = span.text();\n                            //if I make this as false than whole code braking not sure why\n                            textRun = textShape.appendText(text + &quot; &quot;, true);\n                            //textRun.setText(text);\n                            //paragraph.setBullet(false);\n                            //paragraph.setBullet(false);\n                            //paragraph.addNewTextRun().setText(text);\n                        }\n\n                        XSLFTextRun dummyTextRun = textShape.appendText(&quot;&quot;, false);\n                        dummyTextRun.setBold(false);\n                        dummyTextRun.setItalic(false);\n                        dummyTextRun.setUnderlined(false);\n                        dummyTextRun.setStrikethrough(false);\n                    }\n                    paragraph.setBullet(false);\n                }\n            }\n        }\n    } catch (Exception e) {\n        log.error(&quot;Exception in advancedUlLiConvert: &quot; , e);\n    }\n}\n\n</code></pre>\n<p>Code Output:\n<a href=\"https://i.stack.imgur.com/8LSNu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8LSNu.png\" alt=\"enter image description here\" /></a></p>\n<p>My expectation :\n<a href=\"https://i.stack.imgur.com/yVh94.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yVh94.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","maven","jetty"],"comments":[{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1534397091,"post_id":51870053,"comment_id":90691634,"body_markdown":"I believe `javax.servlet:servlet-api` must be `&lt;scope&gt;provided&lt;/scope&gt;`","body":"I believe <code>javax.servlet:servlet-api</code> must be <code>&lt;scope&gt;provided&lt;&#47;scope&gt;</code>"},{"owner":{"account_id":412334,"reputation":33758,"user_id":785349,"accept_rate":94,"display_name":"quarks"},"score":0,"creation_date":1534397471,"post_id":51870053,"comment_id":90691752,"body_markdown":"I changed it to `&lt;scope&gt;provided&lt;/scope&gt;` just now and the same error persists","body":"I changed it to <code>&lt;scope&gt;provided&lt;&#47;scope&gt;</code> just now and the same error persists"},{"owner":{"account_id":406289,"reputation":47511,"user_id":775715,"accept_rate":100,"display_name":"Joakim Erdfelt"},"score":0,"creation_date":1534449591,"post_id":51870053,"comment_id":90720569,"body_markdown":"What does the `&lt;plugin&gt;` section for your `jetty-maven-plugin` look like?","body":"What does the <code>&lt;plugin&gt;</code> section for your <code>jetty-maven-plugin</code> look like?"}],"answers":[{"tags":[],"owner":{"account_id":2864238,"reputation":10897,"user_id":2458858,"accept_rate":85,"display_name":"tryingToLearn"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1534399005,"creation_date":1534399005,"answer_id":51870442,"question_id":51870053,"body_markdown":"The reason is that the class `javax.servlet.jsp.JspFactory` does not exist in `servlet-api` artifact. It exists in `jsp-api` artifact. I exploded the 2 jars and here&#39;s the result:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAdd the jsp-api dependency according to the version you need, e.g.:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jsp-api&lt;/artifactId&gt;\r\n        &lt;version&gt;2.0&lt;/version&gt;\r\n        &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/b7lyn.png","title":"ClassNotFoundException: javax.servlet.jsp.JspFactory","body":"<p>The reason is that the class <code>javax.servlet.jsp.JspFactory</code> does not exist in <code>servlet-api</code> artifact. It exists in <code>jsp-api</code> artifact. I exploded the 2 jars and here's the result:</p>\n\n<p><a href=\"https://i.stack.imgur.com/b7lyn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/b7lyn.png\" alt=\"enter image description here\"></a></p>\n\n<p>Add the jsp-api dependency according to the version you need, e.g.:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\n    &lt;artifactId&gt;jsp-api&lt;/artifactId&gt;\n    &lt;version&gt;2.0&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1811856,"reputation":2347,"user_id":1647735,"display_name":"Praveen D"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1617163339,"creation_date":1617163339,"answer_id":66881482,"question_id":51870053,"body_markdown":"You can use the below dependency in pom.xml\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\r\n\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n\t&lt;/dependency&gt;\r\n\r\ntomcat-embed-jasper: provides support for .jsp file rendering.","title":"ClassNotFoundException: javax.servlet.jsp.JspFactory","body":"<p>You can use the below dependency in pom.xml</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n    &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\n    &lt;scope&gt;compile&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>tomcat-embed-jasper: provides support for .jsp file rendering.</p>\n"},{"tags":[],"owner":{"account_id":14535706,"reputation":33,"user_id":10499154,"display_name":"himanshu chopra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661664933,"creation_date":1661664933,"answer_id":73516262,"question_id":51870053,"body_markdown":"I added both the dependencies from both the previous answers and removed the dependency that I added from the maven repository. Copying both dependencies so it won&#39;t create any confusion after some more answers are added.\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n        &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\r\n        &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jsp-api&lt;/artifactId&gt;\r\n        &lt;version&gt;2.0&lt;/version&gt;\r\n        &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;","title":"ClassNotFoundException: javax.servlet.jsp.JspFactory","body":"<p>I added both the dependencies from both the previous answers and removed the dependency that I added from the maven repository. Copying both dependencies so it won't create any confusion after some more answers are added.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n    &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\n    &lt;scope&gt;compile&lt;/scope&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\n    &lt;artifactId&gt;jsp-api&lt;/artifactId&gt;\n    &lt;version&gt;2.0&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":412334,"reputation":33758,"user_id":785349,"accept_rate":94,"display_name":"quarks"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9127,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1661664933,"creation_date":1534396809,"question_id":51870053,"body_markdown":" I have a maven-based app that I copied exactly and tried to run `mvn jetty:run` \r\n\r\nAnd now getting this error:\r\n\r\n    Caused by: java.lang.ClassNotFoundException: javax.servlet.jsp.JspFactory\r\n    \tat org.codehaus.plexus.classworlds.strategy.SelfFirstStrategy.loadClass(SelfFirstStrategy.java:50)\r\n    \tat org.codehaus.plexus.classworlds.realm.ClassRealm.unsynchronizedLoadClass(ClassRealm.java:271)\r\n    \tat org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass(ClassRealm.java:247)\r\n    \tat org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass(ClassRealm.java:239)\r\n    \t... 47 more\r\n\r\nThe weird thing is the same exact copy of the project that works on the other machine. \r\n\r\nHere are the complete dependencies:\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jboss.spec&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jboss-javaee-6.0&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0.0.Final&lt;/version&gt;\r\n            &lt;type&gt;pom&lt;/type&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n            &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.5&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.alibaba&lt;/groupId&gt;\r\n            &lt;artifactId&gt;fastjson&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2.8&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.fastjson&lt;/groupId&gt;\r\n            &lt;artifactId&gt;boon&lt;/artifactId&gt;\r\n            &lt;version&gt;0.30&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n            &lt;version&gt;2.5&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.http-client&lt;/groupId&gt;\r\n            &lt;artifactId&gt;google-http-client&lt;/artifactId&gt;\r\n            &lt;version&gt;1.21.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.http-client&lt;/groupId&gt;\r\n            &lt;artifactId&gt;google-http-client-gson&lt;/artifactId&gt;\r\n            &lt;version&gt;1.21.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.http-client&lt;/groupId&gt;\r\n            &lt;artifactId&gt;google-http-client-jackson2&lt;/artifactId&gt;\r\n            &lt;version&gt;1.21.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.inject&lt;/groupId&gt;\r\n            &lt;artifactId&gt;guice&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.inject.extensions&lt;/groupId&gt;\r\n            &lt;artifactId&gt;guice-servlet&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.restlet.jee&lt;/groupId&gt;\r\n            &lt;artifactId&gt;org.restlet&lt;/artifactId&gt;\r\n            &lt;version&gt;${version.restlet}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!--&lt;dependency&gt;--&gt;\r\n            &lt;!--&lt;groupId&gt;org.restlet.jee&lt;/groupId&gt;--&gt;\r\n            &lt;!--&lt;artifactId&gt;org.restlet.ext.jee&lt;/artifactId&gt;--&gt;\r\n            &lt;!--&lt;version&gt;${version.restlet}&lt;/version&gt;--&gt;\r\n        &lt;!--&lt;/dependency&gt;--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.restlet.jee&lt;/groupId&gt;\r\n            &lt;artifactId&gt;org.restlet.ext.fileupload&lt;/artifactId&gt;\r\n            &lt;version&gt;${version.restlet}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.restlet.jee&lt;/groupId&gt;\r\n            &lt;artifactId&gt;org.restlet.ext.servlet&lt;/artifactId&gt;\r\n            &lt;version&gt;${version.restlet}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.restlet.jee&lt;/groupId&gt;\r\n            &lt;artifactId&gt;org.restlet.ext.swagger&lt;/artifactId&gt;\r\n            &lt;version&gt;${version.restlet}&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.raml&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;raml-parser&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.restlet.jee&lt;/groupId&gt;\r\n            &lt;artifactId&gt;org.restlet.ext.xstream&lt;/artifactId&gt;\r\n            &lt;version&gt;${version.restlet}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.restlet.jee&lt;/groupId&gt;\r\n            &lt;artifactId&gt;org.restlet.ext.json&lt;/artifactId&gt;\r\n            &lt;version&gt;${version.restlet}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.auth0&lt;/groupId&gt;\r\n            &lt;artifactId&gt;java-jwt&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mindrot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jbcrypt&lt;/artifactId&gt;\r\n            &lt;version&gt;0.3m&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.carlosbecker&lt;/groupId&gt;\r\n            &lt;artifactId&gt;guice-junit-test-runner&lt;/artifactId&gt;\r\n            &lt;version&gt;1.1&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n            &lt;version&gt;${jackson.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\r\n            &lt;version&gt;${jackson.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n            &lt;version&gt;${jackson.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jetbrains.xodus&lt;/groupId&gt;\r\n            &lt;artifactId&gt;xodus-openAPI&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jetbrains.xodus&lt;/groupId&gt;\r\n            &lt;artifactId&gt;xodus-environment&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jetbrains.xodus&lt;/groupId&gt;\r\n            &lt;artifactId&gt;xodus-entity-store&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n            &lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n            &lt;version&gt;${guava.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- Testing --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.http-client&lt;/groupId&gt;\r\n            &lt;artifactId&gt;google-http-client-appengine&lt;/artifactId&gt;\r\n            &lt;version&gt;1.19.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- Test Data --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.fluttercode.datafactory&lt;/groupId&gt;\r\n            &lt;artifactId&gt;datafactory&lt;/artifactId&gt;\r\n            &lt;version&gt;0.8&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;version&gt;4.12&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n```\r\n","title":"ClassNotFoundException: javax.servlet.jsp.JspFactory","body":"<p>I have a maven-based app that I copied exactly and tried to run <code>mvn jetty:run</code> </p>\n\n<p>And now getting this error:</p>\n\n<pre><code>Caused by: java.lang.ClassNotFoundException: javax.servlet.jsp.JspFactory\n    at org.codehaus.plexus.classworlds.strategy.SelfFirstStrategy.loadClass(SelfFirstStrategy.java:50)\n    at org.codehaus.plexus.classworlds.realm.ClassRealm.unsynchronizedLoadClass(ClassRealm.java:271)\n    at org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass(ClassRealm.java:247)\n    at org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass(ClassRealm.java:239)\n    ... 47 more\n</code></pre>\n\n<p>The weird thing is the same exact copy of the project that works on the other machine. </p>\n\n<p>Here are the complete dependencies:\n<code>\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jboss.spec&lt;/groupId&gt;\n            &lt;artifactId&gt;jboss-javaee-6.0&lt;/artifactId&gt;\n            &lt;version&gt;1.0.0.Final&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;2.5&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.alibaba&lt;/groupId&gt;\n            &lt;artifactId&gt;fastjson&lt;/artifactId&gt;\n            &lt;version&gt;1.2.8&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.fastjson&lt;/groupId&gt;\n            &lt;artifactId&gt;boon&lt;/artifactId&gt;\n            &lt;version&gt;0.30&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\n            &lt;version&gt;2.5&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.http-client&lt;/groupId&gt;\n            &lt;artifactId&gt;google-http-client&lt;/artifactId&gt;\n            &lt;version&gt;1.21.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.http-client&lt;/groupId&gt;\n            &lt;artifactId&gt;google-http-client-gson&lt;/artifactId&gt;\n            &lt;version&gt;1.21.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.http-client&lt;/groupId&gt;\n            &lt;artifactId&gt;google-http-client-jackson2&lt;/artifactId&gt;\n            &lt;version&gt;1.21.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.inject&lt;/groupId&gt;\n            &lt;artifactId&gt;guice&lt;/artifactId&gt;\n            &lt;version&gt;3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.inject.extensions&lt;/groupId&gt;\n            &lt;artifactId&gt;guice-servlet&lt;/artifactId&gt;\n            &lt;version&gt;3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.restlet.jee&lt;/groupId&gt;\n            &lt;artifactId&gt;org.restlet&lt;/artifactId&gt;\n            &lt;version&gt;${version.restlet}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!--&lt;dependency&gt;--&gt;\n            &lt;!--&lt;groupId&gt;org.restlet.jee&lt;/groupId&gt;--&gt;\n            &lt;!--&lt;artifactId&gt;org.restlet.ext.jee&lt;/artifactId&gt;--&gt;\n            &lt;!--&lt;version&gt;${version.restlet}&lt;/version&gt;--&gt;\n        &lt;!--&lt;/dependency&gt;--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.restlet.jee&lt;/groupId&gt;\n            &lt;artifactId&gt;org.restlet.ext.fileupload&lt;/artifactId&gt;\n            &lt;version&gt;${version.restlet}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.restlet.jee&lt;/groupId&gt;\n            &lt;artifactId&gt;org.restlet.ext.servlet&lt;/artifactId&gt;\n            &lt;version&gt;${version.restlet}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.restlet.jee&lt;/groupId&gt;\n            &lt;artifactId&gt;org.restlet.ext.swagger&lt;/artifactId&gt;\n            &lt;version&gt;${version.restlet}&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.raml&lt;/groupId&gt;\n                    &lt;artifactId&gt;raml-parser&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.restlet.jee&lt;/groupId&gt;\n            &lt;artifactId&gt;org.restlet.ext.xstream&lt;/artifactId&gt;\n            &lt;version&gt;${version.restlet}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.restlet.jee&lt;/groupId&gt;\n            &lt;artifactId&gt;org.restlet.ext.json&lt;/artifactId&gt;\n            &lt;version&gt;${version.restlet}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.auth0&lt;/groupId&gt;\n            &lt;artifactId&gt;java-jwt&lt;/artifactId&gt;\n            &lt;version&gt;2.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mindrot&lt;/groupId&gt;\n            &lt;artifactId&gt;jbcrypt&lt;/artifactId&gt;\n            &lt;version&gt;0.3m&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.carlosbecker&lt;/groupId&gt;\n            &lt;artifactId&gt;guice-junit-test-runner&lt;/artifactId&gt;\n            &lt;version&gt;1.1&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n            &lt;version&gt;${jackson.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\n            &lt;version&gt;${jackson.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n            &lt;version&gt;${jackson.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jetbrains.xodus&lt;/groupId&gt;\n            &lt;artifactId&gt;xodus-openAPI&lt;/artifactId&gt;\n            &lt;version&gt;1.2.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jetbrains.xodus&lt;/groupId&gt;\n            &lt;artifactId&gt;xodus-environment&lt;/artifactId&gt;\n            &lt;version&gt;1.2.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jetbrains.xodus&lt;/groupId&gt;\n            &lt;artifactId&gt;xodus-entity-store&lt;/artifactId&gt;\n            &lt;version&gt;1.2.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n            &lt;artifactId&gt;guava&lt;/artifactId&gt;\n            &lt;version&gt;${guava.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- Testing --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.http-client&lt;/groupId&gt;\n            &lt;artifactId&gt;google-http-client-appengine&lt;/artifactId&gt;\n            &lt;version&gt;1.19.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- Test Data --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.fluttercode.datafactory&lt;/groupId&gt;\n            &lt;artifactId&gt;datafactory&lt;/artifactId&gt;\n            &lt;version&gt;0.8&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.12&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></p>\n"},{"tags":["java","selenium","selenium-webdriver"],"comments":[{"owner":{"account_id":16422586,"reputation":1841,"user_id":11863448,"display_name":"Akzy"},"score":0,"creation_date":1661514254,"post_id":73500491,"comment_id":129796088,"body_markdown":"Are you getting any error ? What have you tried so far ? Can we see your code ?","body":"Are you getting any error ? What have you tried so far ? Can we see your code ?"},{"owner":{"account_id":26164749,"reputation":1,"user_id":19850733,"display_name":"Chinmay Agrawal"},"score":0,"creation_date":1661514578,"post_id":73500491,"comment_id":129796209,"body_markdown":"WebElement search = driver.findElement(By.xpath(&quot;//*[@id=\\&quot;search_keyword\\&quot;]&quot;));\nsearch.sendKeys(&quot;59825&quot;);\nsearch.sendKeys(Keys.ENTER);\ndriver.findElement(By.partialLinkText(&quot;Cashew&quot;)).click();\n------My 1st try-------------\n//WebElement link = driver.findElement(By.xpath(&quot;\\&quot;//div[@id = &#39;Links&#39;]/a[3]\\&quot;&quot;));\n//link.click();\n\n------My 2nd try-------------\t\t\n//List&lt;WebElement&gt; find = driver.findElements(By.xpath(&quot;/html/body/section[2]/div[2]/div/div/div/div[1]&quot;));\n//find.get(1).click();\t\t \n}\n}","body":"WebElement search = driver.findElement(By.xpath(&quot;//*[@id=\\&quot;search_keyword\\&quot;]&quot;)); search.sendKeys(&quot;59825&quot;); search.sendKeys(Keys.ENTER); driver.findElement(By.partialLinkText(&quot;Cashew&quot;)).click(); ------My 1st try------------- //WebElement link = driver.findElement(By.xpath(&quot;\\&quot;//div[@id = &#39;Links&#39;]/a[3]\\&quot;&quot;)); //link.click();  ------My 2nd try-------------\t\t //List&lt;WebElement&gt; find = driver.findElements(By.xpath(&quot;/html/body/section[2]/div[2]/d&zwnj;&#8203;iv/div/div/div[1]&quot;))&zwnj;&#8203;; //find.get(1).click();\t\t  } }"},{"owner":{"account_id":18412051,"reputation":144,"user_id":13412076,"display_name":"arpita biswas"},"score":0,"creation_date":1661664745,"post_id":73500491,"comment_id":129822995,"body_markdown":"Hello, the code you mentioned worked for me. I also post the full code I tried.","body":"Hello, the code you mentioned worked for me. I also post the full code I tried."}],"answers":[{"tags":[],"owner":{"account_id":961326,"reputation":99,"user_id":985628,"display_name":"CurssedHammer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661515451,"creation_date":1661515035,"answer_id":73500682,"question_id":73500491,"body_markdown":"You can use the css selector based on class names: &quot;.product-block.inner-product-block&quot; and get the list of all the search results.\r\nThen click on whatever index you want to click.\r\n\r\nI am not using an IDE for this but it would look something like this:\r\n\r\n    driver.findElements(By.cssSelector(&quot;.product-block.inner-product-block&quot;)).get(0).click();","title":"Selenium webdriver (java) - Click on desired link of some search results","body":"<p>You can use the css selector based on class names: &quot;.product-block.inner-product-block&quot; and get the list of all the search results.\nThen click on whatever index you want to click.</p>\n<p>I am not using an IDE for this but it would look something like this:</p>\n<pre><code>driver.findElements(By.cssSelector(&quot;.product-block.inner-product-block&quot;)).get(0).click();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6244293,"reputation":3872,"user_id":4856814,"display_name":"murali selenium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661516616,"creation_date":1661516616,"answer_id":73500990,"question_id":73500491,"body_markdown":"As said, you can try with css &quot;.product-block.inner-product-block&quot;\r\nThen\r\n\r\n1. get List of WebElements\r\n2. do loop\r\n3. inside loop, try get text of each element or innerText attribute\r\n4. cross check if it is required one or not by simple if condition\r\n5. If so, click on that web element and break loop\r\n\r\nif this locator is not giving required info, try other locator. say $$(&quot;a h3&quot;) for veg names.","title":"Selenium webdriver (java) - Click on desired link of some search results","body":"<p>As said, you can try with css &quot;.product-block.inner-product-block&quot;\nThen</p>\n<ol>\n<li>get List of WebElements</li>\n<li>do loop</li>\n<li>inside loop, try get text of each element or innerText attribute</li>\n<li>cross check if it is required one or not by simple if condition</li>\n<li>If so, click on that web element and break loop</li>\n</ol>\n<p>if this locator is not giving required info, try other locator. say $$(&quot;a h3&quot;) for veg names.</p>\n"},{"tags":[],"owner":{"account_id":18412051,"reputation":144,"user_id":13412076,"display_name":"arpita biswas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661664787,"creation_date":1661664787,"answer_id":73516250,"question_id":73500491,"body_markdown":"The below code worked for me. It is navigates to the correct link\r\n\r\n    WebDriver driver = new ChromeDriver();\t\r\n    \t\tdriver.manage().timeouts().setScriptTimeout(20, TimeUnit.SECONDS);\r\n            driver.manage().window().maximize();\r\n            driver.get(&quot;http://www.bookmycrop.com&quot;);\r\n            WebElement search = driver.findElement(By.xpath(&quot;//*[@id=\\&quot;search_keyword\\&quot;]&quot;)); \r\n            search.sendKeys(&quot;59825&quot;); \r\n            search.sendKeys(Keys.ENTER); \r\n            driver.findElement(By.partialLinkText(&quot;Cashew&quot;)).click(); ","title":"Selenium webdriver (java) - Click on desired link of some search results","body":"<p>The below code worked for me. It is navigates to the correct link</p>\n<pre><code>WebDriver driver = new ChromeDriver();  \n        driver.manage().timeouts().setScriptTimeout(20, TimeUnit.SECONDS);\n        driver.manage().window().maximize();\n        driver.get(&quot;http://www.bookmycrop.com&quot;);\n        WebElement search = driver.findElement(By.xpath(&quot;//*[@id=\\&quot;search_keyword\\&quot;]&quot;)); \n        search.sendKeys(&quot;59825&quot;); \n        search.sendKeys(Keys.ENTER); \n        driver.findElement(By.partialLinkText(&quot;Cashew&quot;)).click(); \n</code></pre>\n"}],"owner":{"account_id":26164749,"reputation":1,"user_id":19850733,"display_name":"Chinmay Agrawal"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1661664787,"creation_date":1661514059,"question_id":73500491,"body_markdown":"I am doing automation using selenium webdriver (java) on a search engine BookMyCrop (http://www.bookmycrop.com). Here, I searched for a crop but, I am not able to click on desired search result. Please help me with it.\r\n\r\nCode :\r\n\r\n   \r\n\r\n     WebElement search = driver.findElement(By.xpath(&quot;//*[@id=\\&quot;search_keyword\\&quot;]&quot;)); \r\n    search.sendKeys(&quot;59825&quot;); \r\n    search.sendKeys(Keys.ENTER); \r\n    driver.findElement(By.partialLinkText(&quot;Cashew&quot;)).click(); \r\n    ------My 1st try------------- \r\n    //WebElement link = driver.findElement(By.xpath(&quot;\\&quot;//div[@id = &#39;Links&#39;]/a[3]\\&quot;&quot;)); \r\n    //link.click();\r\n    \r\n     ------My 2nd try------------- \r\n    \r\n    //List&lt;WebElement&gt; find = driver.findElements(By.xpath(&quot;/html/body/section[2]/div[2]/div/div/div/div[1]&quot;)); \r\n    //find.get(1).click(); \r\n    } \r\n    } ","title":"Selenium webdriver (java) - Click on desired link of some search results","body":"<p>I am doing automation using selenium webdriver (java) on a search engine BookMyCrop (<a href=\"http://www.bookmycrop.com\" rel=\"nofollow noreferrer\">http://www.bookmycrop.com</a>). Here, I searched for a crop but, I am not able to click on desired search result. Please help me with it.</p>\n<p>Code :</p>\n<pre><code> WebElement search = driver.findElement(By.xpath(&quot;//*[@id=\\&quot;search_keyword\\&quot;]&quot;)); \nsearch.sendKeys(&quot;59825&quot;); \nsearch.sendKeys(Keys.ENTER); \ndriver.findElement(By.partialLinkText(&quot;Cashew&quot;)).click(); \n------My 1st try------------- \n//WebElement link = driver.findElement(By.xpath(&quot;\\&quot;//div[@id = 'Links']/a[3]\\&quot;&quot;)); \n//link.click();\n\n ------My 2nd try------------- \n\n//List&lt;WebElement&gt; find = driver.findElements(By.xpath(&quot;/html/body/section[2]/div[2]/div/div/div/div[1]&quot;)); \n//find.get(1).click(); \n} \n} \n</code></pre>\n"},{"tags":["java","selenium","selenium-chromedriver"],"answers":[{"tags":[],"owner":{"account_id":18412051,"reputation":144,"user_id":13412076,"display_name":"arpita biswas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661663727,"creation_date":1661663727,"answer_id":73516173,"question_id":73496598,"body_markdown":"Please try below to add cookie to the current browser:\r\n \r\n\r\n     driver.manage().addCookie(new Cookie(&quot;key&quot;, &quot;value&quot;));","title":"Allow third party cookies in Chrome Webdriver configuration","body":"<p>Please try below to add cookie to the current browser:</p>\n<pre><code> driver.manage().addCookie(new Cookie(&quot;key&quot;, &quot;value&quot;));\n</code></pre>\n"}],"owner":{"account_id":21939854,"reputation":27,"user_id":16220550,"display_name":"Kuroosa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":131,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661663727,"creation_date":1661493204,"question_id":73496598,"body_markdown":"I know there are already answered questions in the same topic, but i can&#39;t figure it out from those, how do you enable third party cookies with ChromeOptions in newer versions of Selenium in Java?","title":"Allow third party cookies in Chrome Webdriver configuration","body":"<p>I know there are already answered questions in the same topic, but i can't figure it out from those, how do you enable third party cookies with ChromeOptions in newer versions of Selenium in Java?</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":21371577,"reputation":1913,"user_id":15739040,"display_name":"Vishal Beep"},"score":0,"creation_date":1661658854,"post_id":73515595,"comment_id":129822465,"body_markdown":"does `getContext()` is `null`","body":"does <code>getContext()</code> is <code>null</code>"},{"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"score":0,"creation_date":1661661298,"post_id":73515595,"comment_id":129822658,"body_markdown":"The error message tells you that `list_request` is null (the thing you called `setLayoutManager` on). `findViewById` can return null for a number of reasons - using the wrong view ID or view type or calling it before the layout is inflated are the most common reasons, but you haven&#39;t really provided enough context to say which is happening here (e.g. show your XML and show *where* your call to `findViewById` is in the Fragment)","body":"The error message tells you that <code>list_request</code> is null (the thing you called <code>setLayoutManager</code> on). <code>findViewById</code> can return null for a number of reasons - using the wrong view ID or view type or calling it before the layout is inflated are the most common reasons, but you haven&#39;t really provided enough context to say which is happening here (e.g. show your XML and show <i>where</i> your call to <code>findViewById</code> is in the Fragment)"},{"owner":{"account_id":21579464,"reputation":1,"user_id":15910911,"display_name":"Enock Ndagijimana"},"score":0,"creation_date":1661689484,"post_id":73515595,"comment_id":129826881,"body_markdown":"@Tyler V\nthank you is was working!","body":"@Tyler V thank you is was working!"}],"owner":{"account_id":21579464,"reputation":1,"user_id":15910911,"display_name":"Enock Ndagijimana"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661660527,"creation_date":1661653730,"question_id":73515595,"body_markdown":"hello there when run or test my app I got this error on line 99 where I call `RecylerView` as list_request.\r\n\r\n      list_request.setLayoutManager(new LinearLayoutManager(getContext(),LinearLayoutManager.VERTICAL,false));\r\n\r\nso this is where i decrered it:\r\n\r\n    \r\n        list_request = view.findViewById(R.id.leaves_list);\r\n        leaveList = new ArrayList&lt;&gt;();\r\n        leavesListAdapter= new LeavesListAdapter(getContext(),leaveList,this);\r\n\r\n        loadLeavesMethod();\r\n\r\nand inside the `loadLeavesMethod()` is where i use this:\r\n\r\n    private void loadLeavesMethod() {\r\n        RequestQueue requestQueue = Volley.newRequestQueue(getContext());\r\n        String URL1 = Constant.host +&quot;/UTB_API1/req_leaves.php&quot;;\r\n        StringRequest request= new StringRequest(Request.Method.POST, URL1, new Response.Listener&lt;String&gt;() {\r\n            @Override\r\n            public void onResponse(String response) {\r\n                try {\r\n                    JSONArray leaveArray = new JSONArray(response);\r\n                    for (int l =0; l&lt; leaveArray.length();l++){\r\n                        JSONObject leaveObj = leaveArray.getJSONObject(l);\r\n                        leaveList.add(new DataLeave(\r\n                                leaveObj.getString(&quot;TypeId&quot;),\r\n                                leaveObj.getString(&quot;LeaveName&quot;),\r\n                                leaveObj.getString(&quot;LeaveDays&quot;)\r\n                        ));\r\n                    }\r\n                    list_request.setLayoutManager(new LinearLayoutManager(getContext(),LinearLayoutManager.VERTICAL,false));\r\n                    list_request.setAdapter(leavesListAdapter);\r\n                } catch (JSONException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }, new Response.ErrorListener() {\r\n            @Override\r\n            public void onErrorResponse(VolleyError error) {\r\n\r\n            }\r\n        });\r\n        Volley.newRequestQueue(getContext()).add(request);\r\n    }","title":"void androidx.recyclerview.widget.RecyclerView.setLayoutManager(androidx.recyclerview.widget.RecyclerView$LayoutManager) on a null object reference","body":"<p>hello there when run or test my app I got this error on line 99 where I call <code>RecylerView</code> as list_request.</p>\n<pre><code>  list_request.setLayoutManager(new LinearLayoutManager(getContext(),LinearLayoutManager.VERTICAL,false));\n</code></pre>\n<p>so this is where i decrered it:</p>\n<pre><code>    list_request = view.findViewById(R.id.leaves_list);\n    leaveList = new ArrayList&lt;&gt;();\n    leavesListAdapter= new LeavesListAdapter(getContext(),leaveList,this);\n\n    loadLeavesMethod();\n</code></pre>\n<p>and inside the <code>loadLeavesMethod()</code> is where i use this:</p>\n<pre><code>private void loadLeavesMethod() {\n    RequestQueue requestQueue = Volley.newRequestQueue(getContext());\n    String URL1 = Constant.host +&quot;/UTB_API1/req_leaves.php&quot;;\n    StringRequest request= new StringRequest(Request.Method.POST, URL1, new Response.Listener&lt;String&gt;() {\n        @Override\n        public void onResponse(String response) {\n            try {\n                JSONArray leaveArray = new JSONArray(response);\n                for (int l =0; l&lt; leaveArray.length();l++){\n                    JSONObject leaveObj = leaveArray.getJSONObject(l);\n                    leaveList.add(new DataLeave(\n                            leaveObj.getString(&quot;TypeId&quot;),\n                            leaveObj.getString(&quot;LeaveName&quot;),\n                            leaveObj.getString(&quot;LeaveDays&quot;)\n                    ));\n                }\n                list_request.setLayoutManager(new LinearLayoutManager(getContext(),LinearLayoutManager.VERTICAL,false));\n                list_request.setAdapter(leavesListAdapter);\n            } catch (JSONException e) {\n                e.printStackTrace();\n            }\n        }\n    }, new Response.ErrorListener() {\n        @Override\n        public void onErrorResponse(VolleyError error) {\n\n        }\n    });\n    Volley.newRequestQueue(getContext()).add(request);\n}\n</code></pre>\n"},{"tags":["java","selenium","selenium-webdriver","webdriver"],"answers":[{"tags":[],"owner":{"account_id":6575876,"reputation":1770,"user_id":9894142,"display_name":"Swaroop Humane"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1595778607,"creation_date":1595778607,"answer_id":63102386,"question_id":63102108,"body_markdown":"The first thing we do when run the script is to open the browser and load the web page. We use commonly `driver.get(url);` to load the webpage. Every time we use this command, the page will be refreshed.\r\n\r\nWe can also use `driver.navigate().to(url);` to load the webpage. Both the commands work in the same way in terms of behavior. But the `navigate().to()` also have the other functions such as `navigate().forward()`, `navigate().back()` and `navigate().refresh()`.\r\n\r\nSo the difference is `driver.get()` never stores history whereas `driver.navigate().to()` stores browser history so as to be used for other commands forward and back etc.\r\n\r\nIn single page applications while `navigate().to()` navigates to the page by changing URL like doing forward/backward, `get()` refreshes page.\r\n\r\nMore info here - https://stackoverflow.com/questions/5664808/difference-between-webdriver-get-and-webdriver-navigate","title":"driver.get(url) vs driver.navigate().to(url);","body":"<p>The first thing we do when run the script is to open the browser and load the web page. We use commonly <code>driver.get(url);</code> to load the webpage. Every time we use this command, the page will be refreshed.</p>\n<p>We can also use <code>driver.navigate().to(url);</code> to load the webpage. Both the commands work in the same way in terms of behavior. But the <code>navigate().to()</code> also have the other functions such as <code>navigate().forward()</code>, <code>navigate().back()</code> and <code>navigate().refresh()</code>.</p>\n<p>So the difference is <code>driver.get()</code> never stores history whereas <code>driver.navigate().to()</code> stores browser history so as to be used for other commands forward and back etc.</p>\n<p>In single page applications while <code>navigate().to()</code> navigates to the page by changing URL like doing forward/backward, <code>get()</code> refreshes page.</p>\n<p>More info here - <a href=\"https://stackoverflow.com/questions/5664808/difference-between-webdriver-get-and-webdriver-navigate\">Difference between webdriver.get() and webdriver.navigate()</a></p>\n"},{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1595784916,"creation_date":1595784916,"answer_id":63103516,"question_id":63102108,"body_markdown":"In simple words [get()](https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/WebDriver.html#get-java.lang.String-) method in the [WebDriver](https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/WebDriver.html) interface extends the [SearchContext](https://github.com/SeleniumHQ/selenium/blob/941dc9c6b2e2aa4f701c1b72be8de03d4b7e996a/java/client/src/org/openqa/selenium/WebDriver.java#L49) and is defined as:\r\n\r\n    /**\r\n     * Load a new web page in the current browser window. This is done using an HTTP POST operation,\r\n     * and the method will block until the load is complete.\r\n     * This will follow redirects issued either by the server or as a meta-redirect from within the\r\n     * returned HTML.\r\n     * Synonym for {@link org.openqa.selenium.WebDriver.Navigation#to(String)}.\r\n     */\r\n    void get(String url);\r\n        \r\nHence you can use:\r\n\r\n\tdriver.get(&quot;https://www.google.com/&quot;);\r\n\r\nOn the other hand, [navigate()](https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/WebDriver.html#navigate--) is the [abstraction](https://github.com/SeleniumHQ/selenium/blob/941dc9c6b2e2aa4f701c1b72be8de03d4b7e996a/java/client/src/org/openqa/selenium/WebDriver.java#L463) which allows the [WebDriver](https://stackoverflow.com/questions/48079120/what-is-the-difference-between-chromedriver-and-webdriver-in-selenium/48080871#48080871) instance i.e. the `driver` to access the browser&#39;s history as well as to navigate to a given URL. The methods along with the usage are as follows:\r\n\r\n- `to(java.lang.String url)`: Load a new web page in the current browser window.\r\n\r\n\t  driver.navigate().to(&quot;https://www.google.com/&quot;);\r\n\r\n- `to(java.net.URL url)`: Overloaded version of to(String) that makes it easy to pass in a URL.\r\n- `refresh()`: Refresh the current page.\r\n\r\n\t  driver.navigate().refresh();\r\n\r\n- `back()`: Move back a single &quot;item&quot; in the browser&#39;s history.\r\n\r\n\t  driver.navigate().back();\r\n\r\n- `forward()`: Move a single &quot;item&quot; forward in the browser&#39;s history.\r\n\r\n\t  driver.navigate().forward();","title":"driver.get(url) vs driver.navigate().to(url);","body":"<p>In simple words <a href=\"https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/WebDriver.html#get-java.lang.String-\" rel=\"nofollow noreferrer\">get()</a> method in the <a href=\"https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/WebDriver.html\" rel=\"nofollow noreferrer\">WebDriver</a> interface extends the <a href=\"https://github.com/SeleniumHQ/selenium/blob/941dc9c6b2e2aa4f701c1b72be8de03d4b7e996a/java/client/src/org/openqa/selenium/WebDriver.java#L49\" rel=\"nofollow noreferrer\">SearchContext</a> and is defined as:</p>\n<pre><code>/**\n * Load a new web page in the current browser window. This is done using an HTTP POST operation,\n * and the method will block until the load is complete.\n * This will follow redirects issued either by the server or as a meta-redirect from within the\n * returned HTML.\n * Synonym for {@link org.openqa.selenium.WebDriver.Navigation#to(String)}.\n */\nvoid get(String url);\n    \n</code></pre>\n<p>Hence you can use:</p>\n<pre><code>driver.get(&quot;https://www.google.com/&quot;);\n</code></pre>\n<p>On the other hand, <a href=\"https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/WebDriver.html#navigate--\" rel=\"nofollow noreferrer\">navigate()</a> is the <a href=\"https://github.com/SeleniumHQ/selenium/blob/941dc9c6b2e2aa4f701c1b72be8de03d4b7e996a/java/client/src/org/openqa/selenium/WebDriver.java#L463\" rel=\"nofollow noreferrer\">abstraction</a> which allows the <a href=\"https://stackoverflow.com/questions/48079120/what-is-the-difference-between-chromedriver-and-webdriver-in-selenium/48080871#48080871\">WebDriver</a> instance i.e. the <code>driver</code> to access the browser's history as well as to navigate to a given URL. The methods along with the usage are as follows:</p>\n<ul>\n<li><p><code>to(java.lang.String url)</code>: Load a new web page in the current browser window.</p>\n<pre><code>driver.navigate().to(&quot;https://www.google.com/&quot;);\n</code></pre>\n</li>\n<li><p><code>to(java.net.URL url)</code>: Overloaded version of to(String) that makes it easy to pass in a URL.</p>\n</li>\n<li><p><code>refresh()</code>: Refresh the current page.</p>\n<pre><code>driver.navigate().refresh();\n</code></pre>\n</li>\n<li><p><code>back()</code>: Move back a single &quot;item&quot; in the browser's history.</p>\n<pre><code>driver.navigate().back();\n</code></pre>\n</li>\n<li><p><code>forward()</code>: Move a single &quot;item&quot; forward in the browser's history.</p>\n<pre><code>driver.navigate().forward();\n</code></pre>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":19876330,"reputation":62,"user_id":14561220,"display_name":"boludoz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661659940,"creation_date":1661659940,"answer_id":73515943,"question_id":63102108,"body_markdown":"    //Convenient\r\n    driver.get(&quot;https://selenium.dev&quot;);\r\n    \r\n    //Longer way\r\n    driver.navigate().to(&quot;https://selenium.dev&quot;);\r\n\r\n28/08/2022\r\n\r\nThere is no difference between the two, just that one is the long form and the other is the short form of Java.\r\n\r\nhttps://www.selenium.dev/documentation/webdriver/browser/navigation/\r\n","title":"driver.get(url) vs driver.navigate().to(url);","body":"<pre><code>//Convenient\ndriver.get(&quot;https://selenium.dev&quot;);\n\n//Longer way\ndriver.navigate().to(&quot;https://selenium.dev&quot;);\n</code></pre>\n<p>28/08/2022</p>\n<p>There is no difference between the two, just that one is the long form and the other is the short form of Java.</p>\n<p><a href=\"https://www.selenium.dev/documentation/webdriver/browser/navigation/\" rel=\"nofollow noreferrer\">https://www.selenium.dev/documentation/webdriver/browser/navigation/</a></p>\n"}],"owner":{"account_id":15589175,"reputation":33,"user_id":11246777,"display_name":"mk7644"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5137,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":63102386,"answer_count":3,"score":0,"last_activity_date":1661659940,"creation_date":1595777062,"question_id":63102108,"body_markdown":"Google&#39;s Answer:\r\nget() is used to navigate particular URL(website) and wait till page load. driver. navigate() is used to navigate to particular URL and does not wait to page load. \r\n\r\nSelenium Documentation:\r\nThe document.readyState property of a document describes the loading state of the current document. By default, WebDriver will hold off on responding to a driver.get() (or) driver.navigate().to() call until the document ready state is complete\r\n\r\nMy query is in Google it was said, navigate method doesnot wait till the page loads which was not in line with the point added from Selenium Documentation.\r\nPlease help me to understand.","title":"driver.get(url) vs driver.navigate().to(url);","body":"<p>Google's Answer:\nget() is used to navigate particular URL(website) and wait till page load. driver. navigate() is used to navigate to particular URL and does not wait to page load.</p>\n<p>Selenium Documentation:\nThe document.readyState property of a document describes the loading state of the current document. By default, WebDriver will hold off on responding to a driver.get() (or) driver.navigate().to() call until the document ready state is complete</p>\n<p>My query is in Google it was said, navigate method doesnot wait till the page loads which was not in line with the point added from Selenium Documentation.\nPlease help me to understand.</p>\n"},{"tags":["java","php","android","listview","android-fragments"],"answers":[{"tags":[],"owner":{"account_id":12219266,"reputation":51,"user_id":8918759,"display_name":"Zoltan Szabo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1523438417,"creation_date":1523438114,"answer_id":49771130,"question_id":49770229,"body_markdown":"In my opinion the best way to obtain the data from the server is using Retrofit library: http://square.github.io/retrofit/;\r\n\r\nHere are some guides to retrieve data from the server in JSON format and present it in a ListView: \r\n\r\n - https://gist.github.com/jsroyal/0908f01bf0e5b229b6bb78bd1a32854e;\r\n - http://www.pratikbutani.com/2016/05/android-tutorial-json-parsing-using-retrofit-part-1/;","title":"Display data from mysql server with php into the listview in fragment","body":"<p>In my opinion the best way to obtain the data from the server is using Retrofit library: <a href=\"http://square.github.io/retrofit/\" rel=\"nofollow noreferrer\">http://square.github.io/retrofit/</a>;</p>\n\n<p>Here are some guides to retrieve data from the server in JSON format and present it in a ListView: </p>\n\n<ul>\n<li><a href=\"https://gist.github.com/jsroyal/0908f01bf0e5b229b6bb78bd1a32854e\" rel=\"nofollow noreferrer\">https://gist.github.com/jsroyal/0908f01bf0e5b229b6bb78bd1a32854e</a>;</li>\n<li><a href=\"http://www.pratikbutani.com/2016/05/android-tutorial-json-parsing-using-retrofit-part-1/\" rel=\"nofollow noreferrer\">http://www.pratikbutani.com/2016/05/android-tutorial-json-parsing-using-retrofit-part-1/</a>;</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":19879402,"reputation":16,"user_id":14563739,"display_name":"KEYUR THUMMAR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661659631,"creation_date":1661659631,"answer_id":73515930,"question_id":49770229,"body_markdown":"    &lt;!DOCTYPE html&gt;\r\n    &lt;html&gt;\r\n    &lt;head&gt;\r\n    \t&lt;meta charset=&quot;utf-8&quot;&gt;\r\n    \t&lt;title&gt;DATABASE LIST DESIGN&lt;/title&gt;\r\n    &lt;style type=&quot;text/css&quot;&gt;\r\n    \t\tbody\r\n    \t\t{\r\n    \t\t\tmargin: 0;\r\n    \t\t\tpadding: 0;\r\n    \t\t\tbackground: #3adb1e;\r\n    \t\t\tfont-family: sans-serif;\r\n    \t\t}\r\n    \t\tul\r\n    \t\t{\r\n    \t\t\tposition: relative;\r\n    \t\t\twidth: 370px;\r\n    \t\t\tmargin: 10px auto 0;\r\n    \t\t\tpadding: 10px;\r\n    \t\t\tbox-sizing: border-box;\r\n    \t\t\tbackground: yellow;\r\n    \t\t\tbox-shadow: inset 0 0 10px rgba(0,0,0,.2);\r\n    \t\t\tborder-radius: 5px;\r\n    \t\t\toverflow: hidden;\r\n    \t\t}\r\n    \t\tul li\r\n    \t\t{\r\n    \t\t\tdisplay: flex;\r\n    \t\t\tbackground: #e0236c;\r\n    \t\t\tpadding: 10px 20px;\r\n    \t\t\tcolor: #fff;\r\n    \t\t\tmargin: 5px 0;\r\n    \t\t\ttransition: .5s\r\n    \t\t}\r\n    \t\tul li span\r\n    \t\t{\r\n    \t\t\twidth: 100px;\r\n    \t\t\ttext-align: center;\r\n    \t\t}\r\n    \t\tul li:hover\r\n    \t\t{\r\n    \t\t\ttransform: scale(1.06);\r\n    \t\t\tbackground: #ff3772\r\n    \t\t}\r\n    &lt;/style&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n    &lt;?php\r\n    $servername = &quot;localhost&quot;;\r\n    $username = &quot;root&quot;;\r\n    $password = &quot;&quot;;\r\n    $dbname = &quot;demon&quot;;\r\n    // Create connection\r\n    $conn = new mysqli($servername, $username, $password, $dbname);\r\n    // Check connection\r\n    if ($conn-&gt;connect_error) {\r\n      die(&quot;Connection failed: &quot; . $conn-&gt;connect_error);\r\n    }\r\n    $sql=&quot;select * from student&quot;;\r\n    $result=$conn-&gt;query($sql);\r\n    ?&gt;\t\r\n    \t&lt;ul&gt;\r\n    \t\t&lt;li&gt;\r\n    \t\t\t&lt;span&gt;STUDENT_ID &lt;/span&gt;\r\n    \t\t\t&lt;span&gt;NAME&lt;/span&gt;\r\n    \t\t\t&lt;span&gt;COURSE&lt;/span&gt;\r\n    \t\t&lt;/li&gt;\r\n    \t&lt;/ul&gt;\r\n    \t&lt;?php\r\n    while($row=$result-&gt;fetch_assoc())\r\n    {\r\n    ?&gt; &lt;ul&gt;\r\n    \t\t&lt;li&gt;&lt;?php echo $row[&quot;STUDENT_ID&quot;]; ?&gt;\r\n    \t\t \t&lt;?php echo $row[&quot;NAME&quot;]; ?&gt;\r\n    \t\t\t&lt;?php echo $row[&quot;COURSE&quot;]; ?&gt;\r\n    \t\t\t&lt;a href=&quot;deletedata.php?id=&lt;?php echo $row[&quot;STUDENT_ID&quot;]; ?&gt;&quot;&gt;\r\n                  &lt;button type=&quot;button&quot; class=&quot;deletebtn&quot;&gt;Delete&lt;/button&gt;\r\n                &lt;/a&gt;\r\n    \t\t&lt;/li&gt;\r\n    \t&lt;/ul&gt;\r\n    &lt;?php\t\r\n    }\r\n    ?&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;","title":"Display data from mysql server with php into the listview in fragment","body":"<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;utf-8&quot;&gt;\n    &lt;title&gt;DATABASE LIST DESIGN&lt;/title&gt;\n&lt;style type=&quot;text/css&quot;&gt;\n        body\n        {\n            margin: 0;\n            padding: 0;\n            background: #3adb1e;\n            font-family: sans-serif;\n        }\n        ul\n        {\n            position: relative;\n            width: 370px;\n            margin: 10px auto 0;\n            padding: 10px;\n            box-sizing: border-box;\n            background: yellow;\n            box-shadow: inset 0 0 10px rgba(0,0,0,.2);\n            border-radius: 5px;\n            overflow: hidden;\n        }\n        ul li\n        {\n            display: flex;\n            background: #e0236c;\n            padding: 10px 20px;\n            color: #fff;\n            margin: 5px 0;\n            transition: .5s\n        }\n        ul li span\n        {\n            width: 100px;\n            text-align: center;\n        }\n        ul li:hover\n        {\n            transform: scale(1.06);\n            background: #ff3772\n        }\n&lt;/style&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;?php\n$servername = &quot;localhost&quot;;\n$username = &quot;root&quot;;\n$password = &quot;&quot;;\n$dbname = &quot;demon&quot;;\n// Create connection\n$conn = new mysqli($servername, $username, $password, $dbname);\n// Check connection\nif ($conn-&gt;connect_error) {\n  die(&quot;Connection failed: &quot; . $conn-&gt;connect_error);\n}\n$sql=&quot;select * from student&quot;;\n$result=$conn-&gt;query($sql);\n?&gt;  \n    &lt;ul&gt;\n        &lt;li&gt;\n            &lt;span&gt;STUDENT_ID &lt;/span&gt;\n            &lt;span&gt;NAME&lt;/span&gt;\n            &lt;span&gt;COURSE&lt;/span&gt;\n        &lt;/li&gt;\n    &lt;/ul&gt;\n    &lt;?php\nwhile($row=$result-&gt;fetch_assoc())\n{\n?&gt; &lt;ul&gt;\n        &lt;li&gt;&lt;?php echo $row[&quot;STUDENT_ID&quot;]; ?&gt;\n            &lt;?php echo $row[&quot;NAME&quot;]; ?&gt;\n            &lt;?php echo $row[&quot;COURSE&quot;]; ?&gt;\n            &lt;a href=&quot;deletedata.php?id=&lt;?php echo $row[&quot;STUDENT_ID&quot;]; ?&gt;&quot;&gt;\n              &lt;button type=&quot;button&quot; class=&quot;deletebtn&quot;&gt;Delete&lt;/button&gt;\n            &lt;/a&gt;\n        &lt;/li&gt;\n    &lt;/ul&gt;\n&lt;?php   \n}\n?&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"}],"owner":{"account_id":6776751,"reputation":9,"user_id":9420110,"display_name":"kane kayp"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":682,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1661659631,"creation_date":1523435463,"question_id":49770229,"body_markdown":"i want to display in the listview data from the mysql database with php, the listview is in fragment. how can i do it.\r\n\r\nhere is the code, where shows the data in the listview but not from the database, i want the data to be retrieved inthe mysql database with php, \r\n\r\n            public class ServiceFragment extends Fragment {        \r\n            @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        // Inflate the layout for this fragment\r\n        // return inflater.inflate(R.layout.fragment_servicepay, container, false);\r\n\r\n        View view = inflater.inflate(R.layout.fragment_servicepay, container, false);\r\n        String[] ServiceItems = {&quot;Android&quot;, &quot;Iphone&quot;, &quot;Java&quot;};\r\n\r\n        final ListView listView = view.findViewById(R.id.ServiceList);\r\n        ArrayAdapter&lt;String&gt; listViewAdapter = new ArrayAdapter&lt;String&gt;(getActivity(), android.R.layout.simple_expandable_list_item_2, ServiceItems );\r\n        listView.setAdapter(listViewAdapter);\r\n\r\n        listView.setOnItemClickListener(new AdapterView.OnItemClickListener() {\r\n            @Override\r\n            public void onItemClick(AdapterView&lt;?&gt; parent, View view, int position, long id) {\r\n                Intent in = new Intent(view.getContext(), ServiceUniqueActivity.class);\r\n                startActivity(in);\r\n\r\n            }\r\n        });\r\n\r\n        return view;\r\n\r\n    }\r\n\r\n\r\nhere is the code of my php file \r\n\r\n    &lt;?php\r\n\r\n\r\n    $host = &quot;localhost&quot;; // host of MySQL server\r\n    $user = &quot;root&quot;; // MySQL user\r\n    $pwd = &quot;&quot;; // MySQL user&#39;s password\r\n    $db = &quot;servicedb&quot;; // database name\r\n \r\n    $con = mysqli_connect($host, $user, $pwd, $db) or die(&#39;Unable to connect&#39;);\r\n \r\n\r\n    if(mysqli_connect_error($con)) {\r\n    echo(&quot;Failed to connect to Database: &quot;.mysqli_connect_error());\r\n    } \r\n \r\n\r\n    $sql = &quot;SELECT * FROM Services&quot;;\r\n     $result= mysqli_query($con, $sql);\r\n     if($result) \r\n     {\r\n     while($row=mysqli_fetch_array($result))\r\n    {\r\n    $data[]=$row;\r\n    }\r\n\r\n     print(json_encode($data));\r\n     }\r\n     mysqli_close($con);\r\n     ?&gt;","title":"Display data from mysql server with php into the listview in fragment","body":"<p>i want to display in the listview data from the mysql database with php, the listview is in fragment. how can i do it.</p>\n\n<p>here is the code, where shows the data in the listview but not from the database, i want the data to be retrieved inthe mysql database with php, </p>\n\n<pre><code>        public class ServiceFragment extends Fragment {        \n        @Override\npublic View onCreateView(LayoutInflater inflater, ViewGroup container,\n                         Bundle savedInstanceState) {\n    // Inflate the layout for this fragment\n    // return inflater.inflate(R.layout.fragment_servicepay, container, false);\n\n    View view = inflater.inflate(R.layout.fragment_servicepay, container, false);\n    String[] ServiceItems = {\"Android\", \"Iphone\", \"Java\"};\n\n    final ListView listView = view.findViewById(R.id.ServiceList);\n    ArrayAdapter&lt;String&gt; listViewAdapter = new ArrayAdapter&lt;String&gt;(getActivity(), android.R.layout.simple_expandable_list_item_2, ServiceItems );\n    listView.setAdapter(listViewAdapter);\n\n    listView.setOnItemClickListener(new AdapterView.OnItemClickListener() {\n        @Override\n        public void onItemClick(AdapterView&lt;?&gt; parent, View view, int position, long id) {\n            Intent in = new Intent(view.getContext(), ServiceUniqueActivity.class);\n            startActivity(in);\n\n        }\n    });\n\n    return view;\n\n}\n</code></pre>\n\n<p>here is the code of my php file </p>\n\n<pre><code>&lt;?php\n\n\n$host = \"localhost\"; // host of MySQL server\n$user = \"root\"; // MySQL user\n$pwd = \"\"; // MySQL user's password\n$db = \"servicedb\"; // database name\n\n$con = mysqli_connect($host, $user, $pwd, $db) or die('Unable to connect');\n\n\nif(mysqli_connect_error($con)) {\necho(\"Failed to connect to Database: \".mysqli_connect_error());\n} \n\n\n$sql = \"SELECT * FROM Services\";\n $result= mysqli_query($con, $sql);\n if($result) \n {\n while($row=mysqli_fetch_array($result))\n{\n$data[]=$row;\n}\n\n print(json_encode($data));\n }\n mysqli_close($con);\n ?&gt;\n</code></pre>\n"},{"tags":["java","elasticsearch","elasticsearch-painless"],"answers":[{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661659561,"creation_date":1661659561,"answer_id":73515925,"question_id":73515764,"body_markdown":"Move the call to `add()` *inside* the brackets.\r\n\r\n    (\r\n        params.num == 0 ? null : BigDecimal.ONE.divide(BigDecimal.valueOf(params.num).add(BigDecimal.ONE))\r\n    )\r\n\r\nYou were calling `add()` on the result of the expression, which has type `Object`.\r\n\r\nNote also the use of `BigDecimal.ONE` in preference to `BigDecimal.valuesOf(1)`","title":"how to resolve `member method [java.lang.Object, add/1] not found` in painless","body":"<p>Move the call to <code>add()</code> <em>inside</em> the brackets.</p>\n<pre><code>(\n    params.num == 0 ? null : BigDecimal.ONE.divide(BigDecimal.valueOf(params.num).add(BigDecimal.ONE))\n)\n</code></pre>\n<p>You were calling <code>add()</code> on the result of the expression, which has type <code>Object</code>.</p>\n<p>Note also the use of <code>BigDecimal.ONE</code> in preference to <code>BigDecimal.valuesOf(1)</code></p>\n"}],"owner":{"account_id":21698666,"reputation":121,"user_id":16012143,"display_name":"user16012143"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":142,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73515925,"answer_count":1,"score":0,"last_activity_date":1661659561,"creation_date":1661656660,"question_id":73515764,"body_markdown":"I want to calculate (1 / num + 1) by using painless.  \r\nWhen num is 0, the whole result should be null.  \r\nI wrote like this;\r\n\r\n    POST /_scripts/painless/_execute\r\n    {\r\n      &quot;script&quot;: {\r\n        &quot;source&quot;:  &quot;&quot;&quot;\r\n          (\r\n            params.num == 0 ? null : BigDecimal.valueOf(1).divide(BigDecimal.valueOf(params.num))\r\n          ).add(BigDecimal.valueOf(1))\r\n        &quot;&quot;&quot;,\r\n        &quot;params&quot;: {&quot;num&quot;: 1}\r\n      }\r\n    }\r\n\r\nBut I got a compile error:\r\n\r\n    &quot;caused_by&quot; : {\r\n      &quot;type&quot; : &quot;illegal_argument_exception&quot;,\r\n      &quot;reason&quot; : &quot;member method [java.lang.Object, add/1] not found&quot;\r\n    }\r\n\r\nHow to resolve this?\r\nI want to write this code by one-liner if possible (so I don&#39;t want to use if statement).\r\nThank you in advance.","title":"how to resolve `member method [java.lang.Object, add/1] not found` in painless","body":"<p>I want to calculate (1 / num + 1) by using painless.<br />\nWhen num is 0, the whole result should be null.<br />\nI wrote like this;</p>\n<pre><code>POST /_scripts/painless/_execute\n{\n  &quot;script&quot;: {\n    &quot;source&quot;:  &quot;&quot;&quot;\n      (\n        params.num == 0 ? null : BigDecimal.valueOf(1).divide(BigDecimal.valueOf(params.num))\n      ).add(BigDecimal.valueOf(1))\n    &quot;&quot;&quot;,\n    &quot;params&quot;: {&quot;num&quot;: 1}\n  }\n}\n</code></pre>\n<p>But I got a compile error:</p>\n<pre><code>&quot;caused_by&quot; : {\n  &quot;type&quot; : &quot;illegal_argument_exception&quot;,\n  &quot;reason&quot; : &quot;member method [java.lang.Object, add/1] not found&quot;\n}\n</code></pre>\n<p>How to resolve this?\nI want to write this code by one-liner if possible (so I don't want to use if statement).\nThank you in advance.</p>\n"},{"tags":["java","linux","jsp","classpath"],"comments":[{"owner":{"account_id":653447,"reputation":15025,"user_id":447901,"accept_rate":66,"display_name":"lit"},"score":0,"creation_date":1493750994,"post_id":43744018,"comment_id":74533229,"body_markdown":"Please edit the question to include the source code with which you are having difficulty. Please include any error messages. Please describe how it is failing and the desired result.","body":"Please edit the question to include the source code with which you are having difficulty. Please include any error messages. Please describe how it is failing and the desired result."}],"answers":[{"tags":[],"owner":{"account_id":10591336,"reputation":3484,"user_id":7801800,"display_name":"Anshul Sharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1493747463,"creation_date":1493747463,"answer_id":43744219,"question_id":43744018,"body_markdown":"to get know tomcat path you can use `echo $CATALINA_HOME` or if tomcat is runing up then you can use `ps -ef | grep tomcat` to know path of tomcat. move your class file to  webapp folder in tomcat and move jar file to bin folder of java. you can file java path using `echo $JAVA_HOME` or `ps -ef | grep java`.","title":"JSP - File uploading, setting classpath and which JAR should be used in Linux?","body":"<p>to get know tomcat path you can use <code>echo $CATALINA_HOME</code> or if tomcat is runing up then you can use <code>ps -ef | grep tomcat</code> to know path of tomcat. move your class file to  webapp folder in tomcat and move jar file to bin folder of java. you can file java path using <code>echo $JAVA_HOME</code> or <code>ps -ef | grep java</code>.</p>\n"}],"owner":{"account_id":10338711,"reputation":11,"user_id":15034714,"display_name":"Farhad Hossain"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":224,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661658493,"creation_date":1493746617,"question_id":43744018,"body_markdown":"I am learning jsp in linux platform.I am learning in a sequential way and I am in a topic about file uploading.Here I have known that I have to set my class path and need including one or two extra JAR file in class path.I am using neither netbeans nor another IDE.\r\n\r\nNow, please help me so that I can solve my problem about file uploading.I am confused about exact class path.\r\n\r\n\r\nThank you.","title":"JSP - File uploading, setting classpath and which JAR should be used in Linux?","body":"<p>I am learning jsp in linux platform.I am learning in a sequential way and I am in a topic about file uploading.Here I have known that I have to set my class path and need including one or two extra JAR file in class path.I am using neither netbeans nor another IDE.</p>\n<p>Now, please help me so that I can solve my problem about file uploading.I am confused about exact class path.</p>\n<p>Thank you.</p>\n"},{"tags":["java","spring-boot","spring-security","camunda"],"comments":[{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":0,"creation_date":1661501416,"post_id":73497530,"comment_id":129791910,"body_markdown":"why do you want to add it to the application? You could also use a reverse proxy or a Gateway to handle security. At least for URL-based security.","body":"why do you want to add it to the application? You could also use a reverse proxy or a Gateway to handle security. At least for URL-based security."},{"owner":{"account_id":5300168,"reputation":121,"user_id":4230091,"display_name":"Amar Deep Singh"},"score":0,"creation_date":1661506243,"post_id":73497530,"comment_id":129793503,"body_markdown":"@dur The application by default come with basic Auth that can not be overridden without spring security taking over.","body":"@dur The application by default come with basic Auth that can not be overridden without spring security taking over."},{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":0,"creation_date":1661509029,"post_id":73497530,"comment_id":129794350,"body_markdown":"Oh, that&#39;s an additional problem, if the application also authenticates. How do you want to disable basic auth in your application if you can&#39;t change the code?","body":"Oh, that&#39;s an additional problem, if the application also authenticates. How do you want to disable basic auth in your application if you can&#39;t change the code?"},{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":0,"creation_date":1661509259,"post_id":73497530,"comment_id":129794420,"body_markdown":"For your logs: It looks like Spring Boot&#39;s autoconfigruation for Spring Security is not executed. Show  your security configuration class `WebAppSecurityConfig`. It looks like you are enabled OAuth2.","body":"For your logs: It looks like Spring Boot&#39;s autoconfigruation for Spring Security is not executed. Show  your security configuration class <code>WebAppSecurityConfig</code>. It looks like you are enabled OAuth2."}],"answers":[{"tags":[],"owner":{"account_id":5300168,"reputation":121,"user_id":4230091,"display_name":"Amar Deep Singh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1661512668,"creation_date":1661512668,"answer_id":73500198,"question_id":73497530,"body_markdown":"Thanks All I was able to solve it. This is Camunda-Run product.\r\nSolution : \r\n\r\n1. I already had created custom okta plugin jar which contains all my security config , I added following in \r\nMETA-INF/spring.factories \r\n\r\n```org.springframework.boot.autoconfigure.EnableAutoConfiguration=com.example.workflow.config.WebAppSecurityConfig```\r\n\r\n2.I had to copy following jars manually in to userlib folder where Camunda scans for jars. I know this is a dirty solution : I am planning to create a POM/BOM project for automatic dependency management. \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/k8xhD.png\r\n\r\nI will share GitHub link to my repo once I implement clean solution.","title":"How to load Spring Security dynamically","body":"<p>Thanks All I was able to solve it. This is Camunda-Run product.\nSolution :</p>\n<ol>\n<li>I already had created custom okta plugin jar which contains all my security config , I added following in\nMETA-INF/spring.factories</li>\n</ol>\n<p><code>org.springframework.boot.autoconfigure.EnableAutoConfiguration=com.example.workflow.config.WebAppSecurityConfig</code></p>\n<p>2.I had to copy following jars manually in to userlib folder where Camunda scans for jars. I know this is a dirty solution : I am planning to create a POM/BOM project for automatic dependency management.</p>\n<p><a href=\"https://i.stack.imgur.com/k8xhD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/k8xhD.png\" alt=\"enter image description here\" /></a></p>\n<p>I will share GitHub link to my repo once I implement clean solution.</p>\n"}],"owner":{"account_id":5300168,"reputation":121,"user_id":4230091,"display_name":"Amar Deep Singh"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":200,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1661657576,"creation_date":1661499001,"question_id":73497530,"body_markdown":"I have an existing vendor product which is written in Spring Boot. I don&#39;t have the source code / POM file / build pipeline but I want to implement Spring Security into this.\r\n\r\nI know that this product scans for a particular directory lets say `/app/customlibs` for JARs and it also respects the `spring.factories` in `META-INF` and I have added multiple functionalities using this feature.\r\n\r\nHowever since the base product does not have Spring Security dependencies so I am not able to place Spring Security rules, what shall I place in that directory `/app/customlibs` so it can load Spring Security dynamically.\r\nIs this possible to pack all Spring Security JARs together somehow?\r\n\r\nI tried placing Spring Security related JARs manually and one custom class which enables security via annotation `@EnableWebSecurity`. \r\n\r\nBut the application fails to start. Looks like Spring Security related filters are not enabled.\r\n\r\n    ***************************\r\n    APPLICATION FAILED TO START\r\n    ***************************\r\n    \r\n    Description:\r\n    \r\n    Field clientRegistrationRepository in com.example.workflow.config.WebAppSecurityConfig required a bean of type &#39;org.springframework.security.oauth2.client.registration.ClientRegistrationRepository&#39; that could not be found.\r\n    \r\n    The injection point has the following annotations:\r\n            - @org.springframework.beans.factory.annotation.Autowired(required=true)","title":"How to load Spring Security dynamically","body":"<p>I have an existing vendor product which is written in Spring Boot. I don't have the source code / POM file / build pipeline but I want to implement Spring Security into this.</p>\n<p>I know that this product scans for a particular directory lets say <code>/app/customlibs</code> for JARs and it also respects the <code>spring.factories</code> in <code>META-INF</code> and I have added multiple functionalities using this feature.</p>\n<p>However since the base product does not have Spring Security dependencies so I am not able to place Spring Security rules, what shall I place in that directory <code>/app/customlibs</code> so it can load Spring Security dynamically.\nIs this possible to pack all Spring Security JARs together somehow?</p>\n<p>I tried placing Spring Security related JARs manually and one custom class which enables security via annotation <code>@EnableWebSecurity</code>.</p>\n<p>But the application fails to start. Looks like Spring Security related filters are not enabled.</p>\n<pre><code>***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nField clientRegistrationRepository in com.example.workflow.config.WebAppSecurityConfig required a bean of type 'org.springframework.security.oauth2.client.registration.ClientRegistrationRepository' that could not be found.\n\nThe injection point has the following annotations:\n        - @org.springframework.beans.factory.annotation.Autowired(required=true)\n</code></pre>\n"},{"tags":["java","serialization"],"answers":[{"tags":[],"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1386558625,"creation_date":1386558625,"answer_id":20462473,"question_id":20462381,"body_markdown":"&gt; Unfortunately I get ClassNotFoundException when changed to class package name at special cases\r\n\r\nChange it back. You can change a lot of things about a class without breaking existing serializations, but the package name isn&#39;t one of them. You need to study the [Versioning of Serializable Objects chapter of the Object Serialization Specification](http://docs.oracle.com/javase/7/docs/platform/serialization/spec/version.html) to see what you can and cannot change. It&#39;s too late to have second thoughts about package names after you&#39;ve already done some serializations, indeed after you&#39;ve deployed your application. Leave it be.\r\n\r\nThere are other ways around this but I&#39;m hoping you won&#39;t need them.","title":"readObject method of objectinputstream throw ClassNotFoundException when changed class package","body":"<blockquote>\n  <p>Unfortunately I get ClassNotFoundException when changed to class package name at special cases</p>\n</blockquote>\n\n<p>Change it back. You can change a lot of things about a class without breaking existing serializations, but the package name isn't one of them. You need to study the <a href=\"http://docs.oracle.com/javase/7/docs/platform/serialization/spec/version.html\" rel=\"nofollow\">Versioning of Serializable Objects chapter of the Object Serialization Specification</a> to see what you can and cannot change. It's too late to have second thoughts about package names after you've already done some serializations, indeed after you've deployed your application. Leave it be.</p>\n\n<p>There are other ways around this but I'm hoping you won't need them.</p>\n"},{"tags":[],"owner":{"account_id":2052678,"reputation":134073,"user_id":1831293,"accept_rate":91,"display_name":"Evgeniy Dorofeev"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1386565072,"creation_date":1386565072,"answer_id":20463459,"question_id":20462381,"body_markdown":"There is a workaround:\r\n\r\n    class Workaround extends ObjectInputStream {\r\n    \tString className;\r\n    \r\n    \tpublic Workaround(InputStream in, Class&lt;?&gt; cls) throws IOException {\r\n    \t\tsuper(in);\r\n    \t\tthis.className = cls.getName();\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tprotected ObjectStreamClass readClassDescriptor() throws IOException,\r\n    \t\t\tClassNotFoundException {\r\n    \t\tObjectStreamClass cd = super.readClassDescriptor();\r\n    \t\ttry {\r\n    \t\t\tField f = cd.getClass().getDeclaredField(&quot;name&quot;);\r\n    \t\t\tf.setAccessible(true);\r\n    \t\t\tf.set(cd, className);\r\n    \t\t} catch (Exception e) {\r\n    \t\t\tthrow new RuntimeException(e);\r\n    \t\t}\r\n    \t\treturn cd;\r\n    \t}\r\n    }\r\n\r\nNow I can write an instance of Test1 and read it as an instance of Test2\r\n   \r\n    class Test1 implements Serializable {\r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \tint i;\r\n    }\r\n    \r\n    class Test2 implements Serializable {\r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \tint i;\r\n    }\r\n\r\n    ObjectOutputStream oos = new ObjectOutputStream(new FileOutputStream(&quot;1&quot;));\r\n    Test1 test1 = new Test1();\r\n    oos.writeObject(test1);\r\n    oos.close();\r\n    Workaround x = new Workaround(new FileInputStream(&quot;1&quot;), Test2.class);\r\n    Test2 test2 = (Test2)x.readObject();\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"readObject method of objectinputstream throw ClassNotFoundException when changed class package","body":"<p>There is a workaround:</p>\n\n<pre><code>class Workaround extends ObjectInputStream {\n    String className;\n\n    public Workaround(InputStream in, Class&lt;?&gt; cls) throws IOException {\n        super(in);\n        this.className = cls.getName();\n    }\n\n    @Override\n    protected ObjectStreamClass readClassDescriptor() throws IOException,\n            ClassNotFoundException {\n        ObjectStreamClass cd = super.readClassDescriptor();\n        try {\n            Field f = cd.getClass().getDeclaredField(\"name\");\n            f.setAccessible(true);\n            f.set(cd, className);\n        } catch (Exception e) {\n            throw new RuntimeException(e);\n        }\n        return cd;\n    }\n}\n</code></pre>\n\n<p>Now I can write an instance of Test1 and read it as an instance of Test2</p>\n\n<pre><code>class Test1 implements Serializable {\n    private static final long serialVersionUID = 1L;\n    int i;\n}\n\nclass Test2 implements Serializable {\n    private static final long serialVersionUID = 1L;\n    int i;\n}\n\nObjectOutputStream oos = new ObjectOutputStream(new FileOutputStream(\"1\"));\nTest1 test1 = new Test1();\noos.writeObject(test1);\noos.close();\nWorkaround x = new Workaround(new FileInputStream(\"1\"), Test2.class);\nTest2 test2 = (Test2)x.readObject();\n</code></pre>\n"}],"owner":{"account_id":3701886,"reputation":33,"user_id":3081347,"display_name":"user3081347"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1808,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":20462473,"answer_count":2,"score":3,"last_activity_date":1661655876,"creation_date":1386558066,"question_id":20462381,"body_markdown":"I used `ObjectOutputStream` to wirte object keeping object of properties in computer. Unfortunately I get `ClassNotFoundException` when changed to class package name at special cases.\r\n\r\nThat important of my question is:\r\n\r\nHow can I get old properties in old class into the my changed class?\r\n\r\nI have to resolve issue because I need old properties to keeping my applications is work.I&#39;m sure properties are same correctly that only class name is different.","title":"readObject method of objectinputstream throw ClassNotFoundException when changed class package","body":"<p>I used <code>ObjectOutputStream</code> to wirte object keeping object of properties in computer. Unfortunately I get <code>ClassNotFoundException</code> when changed to class package name at special cases.</p>\n<p>That important of my question is:</p>\n<p>How can I get old properties in old class into the my changed class?</p>\n<p>I have to resolve issue because I need old properties to keeping my applications is work.I'm sure properties are same correctly that only class name is different.</p>\n"},{"tags":["java","kubernetes","debugging","google-cloud-code"],"answers":[{"tags":[],"owner":{"account_id":4660375,"reputation":332,"user_id":3774803,"accept_rate":38,"display_name":"Alexander Kazantsev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661440456,"creation_date":1661440015,"answer_id":73489885,"question_id":73487681,"body_markdown":"I&#39;ve tried to add agentlib option to **JDK_JAVA_OPTIONS**, but scaffold(library inside cloud plugin) try to find agentlib in [JAVA_TOOL_OPTIONS][1]\r\n\r\nI&#39;ve put the option in the right place and it works well\r\n\r\n\r\n  [1]: https://github.com/GoogleContainerTools/skaffold/blob/c75c55133e709b2fee906eb158be13c7ccfa72cd/pkg/skaffold/debug/transform_jvm.go#L75","title":"How to debug Java application in Kubernetes with Cloud Code plugin","body":"<p>I've tried to add agentlib option to <strong>JDK_JAVA_OPTIONS</strong>, but scaffold(library inside cloud plugin) try to find agentlib in <a href=\"https://github.com/GoogleContainerTools/skaffold/blob/c75c55133e709b2fee906eb158be13c7ccfa72cd/pkg/skaffold/debug/transform_jvm.go#L75\" rel=\"nofollow noreferrer\">JAVA_TOOL_OPTIONS</a></p>\n<p>I've put the option in the right place and it works well</p>\n"},{"tags":[],"owner":{"account_id":295767,"reputation":2864,"user_id":600339,"display_name":"Brian de Alwis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661526186,"creation_date":1661526186,"answer_id":73503059,"question_id":73487681,"body_markdown":"Adding this as an answer to provide additional context.\r\n\r\nSkaffold doesn&#39;t currently support this feature.  There is an [open feature request on Skaffold to add this ability](https://github.com/GoogleContainerTools/skaffold/issues/4870). \r\n\r\nAdding support for this has not been a high-priority item for Skaffold as suspending on startup often causes puzzling problem cascades as startup, readiness, and liveness probes time out, leading to pod restarts, and then debug sessions being terminated, and then new sessions established.  And container startup problems are often more easily debugged in isolation (e.g., running as a normal Java app and emulating the Kubernetes startup through env vars, sending messages, etc).\r\n\r\nAll that said, Skaffold should respect existing `-agentlib` settings passed on the command-line or in `JAVA_TOOL_OPTIONS`.  So as [you found](https://stackoverflow.com/a/73489885/600339), you can pass along your own JDWP setting in your `JAVA_TOOL_OPTIONS`.","title":"How to debug Java application in Kubernetes with Cloud Code plugin","body":"<p>Adding this as an answer to provide additional context.</p>\n<p>Skaffold doesn't currently support this feature.  There is an <a href=\"https://github.com/GoogleContainerTools/skaffold/issues/4870\" rel=\"nofollow noreferrer\">open feature request on Skaffold to add this ability</a>.</p>\n<p>Adding support for this has not been a high-priority item for Skaffold as suspending on startup often causes puzzling problem cascades as startup, readiness, and liveness probes time out, leading to pod restarts, and then debug sessions being terminated, and then new sessions established.  And container startup problems are often more easily debugged in isolation (e.g., running as a normal Java app and emulating the Kubernetes startup through env vars, sending messages, etc).</p>\n<p>All that said, Skaffold should respect existing <code>-agentlib</code> settings passed on the command-line or in <code>JAVA_TOOL_OPTIONS</code>.  So as <a href=\"https://stackoverflow.com/a/73489885/600339\">you found</a>, you can pass along your own JDWP setting in your <code>JAVA_TOOL_OPTIONS</code>.</p>\n"}],"owner":{"account_id":4660375,"reputation":332,"user_id":3774803,"accept_rate":38,"display_name":"Alexander Kazantsev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":203,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1661655662,"creation_date":1661431230,"question_id":73487681,"body_markdown":"I&#39;m trying to debug a Java application in Kubernetes using a Cloud Code plugin.\r\nThere is no trouble with the default debug. \r\nI just click **debug** and it works, but... I don&#39;t know how to connect to application on the start.\r\n\r\nI&#39;ve tried to add option -`agentlib:jdwp=transport=dt_socket,server=n,suspend=**y**,address=,quiet=y`\r\nbut JVM crushed because Cloud Code adds its own option **agentlib** and JVM can&#39;t handle two options with the same name.\r\n\r\nHow can I edit the `agentlib` option for Cloud Code? (to add **suspend=y**) or maybe disable that option.\r\n\r\nOr maybe there is another way to debug the application while it starts?\r\n","title":"How to debug Java application in Kubernetes with Cloud Code plugin","body":"<p>I'm trying to debug a Java application in Kubernetes using a Cloud Code plugin.\nThere is no trouble with the default debug.\nI just click <strong>debug</strong> and it works, but... I don't know how to connect to application on the start.</p>\n<p>I've tried to add option -<code>agentlib:jdwp=transport=dt_socket,server=n,suspend=**y**,address=,quiet=y</code>\nbut JVM crushed because Cloud Code adds its own option <strong>agentlib</strong> and JVM can't handle two options with the same name.</p>\n<p>How can I edit the <code>agentlib</code> option for Cloud Code? (to add <strong>suspend=y</strong>) or maybe disable that option.</p>\n<p>Or maybe there is another way to debug the application while it starts?</p>\n"},{"tags":["java","spring","spring-boot","spring-boot-actuator"],"comments":[{"owner":{"account_id":2486870,"reputation":685,"user_id":2165146,"display_name":"muhammed ozbilici"},"score":0,"creation_date":1661683315,"post_id":73515639,"comment_id":129825629,"body_markdown":"check here please. https://www.javachinna.com/add-spring-boot-actuator-2-x-support-to-spring-mvc-rest-application-without-using-spring-boot/","body":"check here please. <a href=\"https://www.javachinna.com/add-spring-boot-actuator-2-x-support-to-spring-mvc-rest-application-without-using-spring-boot/\" rel=\"nofollow noreferrer\">javachinna.com/&hellip;</a>"}],"owner":{"account_id":19907780,"reputation":647,"user_id":14586445,"display_name":"Pep"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":256,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1661654488,"creation_date":1661654488,"question_id":73515639,"body_markdown":"Can I implement Spring Actuator 2.7.3 in my Spring MVC app without adding Spring boot?\r\n\r\n\r\npom.xml\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-actuator&lt;/artifactId&gt;\r\n    &lt;version&gt;2.7.3&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```","title":"How to use spring-boot-actuator 2.7.3 in a spring-core project?","body":"<p>Can I implement Spring Actuator 2.7.3 in my Spring MVC app without adding Spring boot?</p>\n<p>pom.xml</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-actuator&lt;/artifactId&gt;\n    &lt;version&gt;2.7.3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","jakarta-mail"],"answers":[{"tags":[],"owner":{"account_id":1525586,"reputation":151,"user_id":1424124,"display_name":"Mark"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1509663259,"creation_date":1509543947,"answer_id":47056365,"question_id":47031714,"body_markdown":"just upload the file to something like drop box and then share the link to it?\r\n","title":"How to send a zip file to gmail which contains javascript, Extension as zip is not present","body":"<p>just upload the file to something like drop box and then share the link to it?</p>\n"},{"tags":[],"owner":{"account_id":24292224,"reputation":31,"user_id":18237022,"display_name":"Kaden Sharpin"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1661653526,"creation_date":1661653526,"answer_id":73515581,"question_id":47031714,"body_markdown":"Rename the file extension of the zip file from &#39;.zip&#39; to &#39;.crx&#39;. You will be able to include any files in the archive.\r\n\r\nFor example:\r\nfiles.zip -&gt; files.crx","title":"How to send a zip file to gmail which contains javascript, Extension as zip is not present","body":"<p>Rename the file extension of the zip file from '.zip' to '.crx'. You will be able to include any files in the archive.</p>\n<p>For example:\nfiles.zip -&gt; files.crx</p>\n"}],"owner":{"account_id":3849926,"reputation":16794,"user_id":3190347,"accept_rate":68,"display_name":"Shubham Jain"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16692,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1661653526,"creation_date":1509441326,"question_id":47031714,"body_markdown":"I am facing an issue with sending a file which is actually a zip file containing some reports using js files.\r\n\r\nPreviously, As we know Gmail has blocked some extensions so I removed extension as .zip and the file was sending fine by Gmail.\r\n\r\nGetting error for below reason:\r\n\r\nhttps://support.google.com/mail/answer/6590?hl=en\r\n\r\nBut now even my file which does not have extension as .zip is not sending by Gmail\r\n\r\nBelow URL having the Extensions which are blocked by Gmail:\r\n\r\nhttps://webapps.stackexchange.com/questions/30030/how-to-allow-gmail-to-receive-zip-files\r\n\r\nAny workaround will be helpful","title":"How to send a zip file to gmail which contains javascript, Extension as zip is not present","body":"<p>I am facing an issue with sending a file which is actually a zip file containing some reports using js files.</p>\n\n<p>Previously, As we know Gmail has blocked some extensions so I removed extension as .zip and the file was sending fine by Gmail.</p>\n\n<p>Getting error for below reason:</p>\n\n<p><a href=\"https://support.google.com/mail/answer/6590?hl=en\" rel=\"nofollow noreferrer\">https://support.google.com/mail/answer/6590?hl=en</a></p>\n\n<p>But now even my file which does not have extension as .zip is not sending by Gmail</p>\n\n<p>Below URL having the Extensions which are blocked by Gmail:</p>\n\n<p><a href=\"https://webapps.stackexchange.com/questions/30030/how-to-allow-gmail-to-receive-zip-files\">https://webapps.stackexchange.com/questions/30030/how-to-allow-gmail-to-receive-zip-files</a></p>\n\n<p>Any workaround will be helpful</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1661652949,"post_id":73515541,"comment_id":129821954,"body_markdown":"Why do you regard &quot;creating a custom UI where stdout/err is directed&quot; as &quot;faking&quot; a console? How do you think &quot;real&quot; terminals/consoles are created? What is a &quot;real&quot; terminal in your mind?","body":"Why do you regard &quot;creating a custom UI where stdout/err is directed&quot; as &quot;faking&quot; a console? How do you think &quot;real&quot; terminals/consoles are created? What is a &quot;real&quot; terminal in your mind?"},{"owner":{"account_id":9244432,"reputation":146,"user_id":8507259,"display_name":"Ethan Chapman"},"score":0,"creation_date":1661653017,"post_id":73515541,"comment_id":129821967,"body_markdown":"There&#39;s a distinct difference between making your own UI versus using `cmd` or the system equivalent.","body":"There&#39;s a distinct difference between making your own UI versus using <code>cmd</code> or the system equivalent."},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1661653085,"post_id":73515541,"comment_id":129821979,"body_markdown":"Are you interested in using [`ProcessBuiler.inheritIO()`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/ProcessBuilder.html#inheritIO()) to forward IO to the **current** terminal or console? Or are you strictly wanting some new terminal to start in a window? Because that would be operating system specific. And you wouldn&#39;t really be able to control the input output from the parent process. So your question is just too vague.","body":"Are you interested in using <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/ProcessBuilder.html#inheritIO()\" rel=\"nofollow noreferrer\"><code>ProcessBuiler.inheritIO()</code></a> to forward IO to the <b>current</b> terminal or console? Or are you strictly wanting some new terminal to start in a window? Because that would be operating system specific. And you wouldn&#39;t really be able to control the input output from the parent process. So your question is just too vague."},{"owner":{"account_id":9244432,"reputation":146,"user_id":8507259,"display_name":"Ethan Chapman"},"score":0,"creation_date":1661653187,"post_id":73515541,"comment_id":129821992,"body_markdown":"The latter. And yeah, I&#39;m aware that it would be system-dependent. But given the line in the javadoc, I was curious if there was actually some built-in way to do this. (after all, a &quot;default&quot; seems to imply a way to change from the default)","body":"The latter. And yeah, I&#39;m aware that it would be system-dependent. But given the line in the javadoc, I was curious if there was actually some built-in way to do this. (after all, a &quot;default&quot; seems to imply a way to change from the default)"},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1661653202,"post_id":73515541,"comment_id":129821994,"body_markdown":"Technically there isn&#39;t any difference. `cmd` is also just another UI where the output streams of the process are directed to. Do you just want to use the system terminal to display your process&#39;s output?","body":"Technically there isn&#39;t any difference. <code>cmd</code> is also just another UI where the output streams of the process are directed to. Do you just want to use the system terminal to display your process&#39;s output?"},{"owner":{"account_id":9244432,"reputation":146,"user_id":8507259,"display_name":"Ethan Chapman"},"score":0,"creation_date":1661653290,"post_id":73515541,"comment_id":129822001,"body_markdown":"@Sweeper Yes, exactly, but without relying on any existing system terminal (for example, we might be running from javaw)","body":"@Sweeper Yes, exactly, but without relying on any existing system terminal (for example, we might be running from javaw)"},{"owner":{"account_id":25534785,"reputation":532,"user_id":19322069,"display_name":"access violation"},"score":0,"creation_date":1661655167,"post_id":73515541,"comment_id":129822160,"body_markdown":"&quot;cmd.exe&quot; and console windows are different things in Windows&#39; cmd.exe has the same status as any program linked for the so-called console subsystem - it gets a new console window if it does not inherit one.","body":"&quot;cmd.exe&quot; and console windows are different things in Windows&#39; cmd.exe has the same status as any program linked for the so-called console subsystem - it gets a new console window if it does not inherit one."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1661660300,"post_id":73515541,"comment_id":129822582,"body_markdown":"Perhaps this will help? [How to display the contents of a .txt file on cmd window using Java?](https://stackoverflow.com/questions/63244536/how-to-display-the-contents-of-a-txt-file-on-cmd-window-using-java)","body":"Perhaps this will help? <a href=\"https://stackoverflow.com/questions/63244536/how-to-display-the-contents-of-a-txt-file-on-cmd-window-using-java\">How to display the contents of a .txt file on cmd window using Java?</a>"}],"owner":{"account_id":9244432,"reputation":146,"user_id":8507259,"display_name":"Ethan Chapman"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661652649,"creation_date":1661652649,"question_id":73515541,"body_markdown":"The [Process javadoc](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Process.html) says:\r\n\r\n&gt; By default, the created process does not have its own terminal or console.\r\n\r\nIs there actually a way to create a terminal/console with the process, other than faking it by creating a custom UI where stdout/err is directed?","title":"Create Process with console/terminal","body":"<p>The <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Process.html\" rel=\"nofollow noreferrer\">Process javadoc</a> says:</p>\n<blockquote>\n<p>By default, the created process does not have its own terminal or console.</p>\n</blockquote>\n<p>Is there actually a way to create a terminal/console with the process, other than faking it by creating a custom UI where stdout/err is directed?</p>\n"},{"tags":["java","javafx","nullpointerexception","vbox"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":3,"creation_date":1475674503,"post_id":39875407,"comment_id":67037458,"body_markdown":"Why are you making (or trying to make) these classes singletons? There&#39;s no way that will work, as they are instantiated by the underlying framework (i.e. `ClientGUI` is instantiated as part of the startup process for JavaFX, and `ClientController` is instantiated by the `FXMLLoader`.).","body":"Why are you making (or trying to make) these classes singletons? There&#39;s no way that will work, as they are instantiated by the underlying framework (i.e. <code>ClientGUI</code> is instantiated as part of the startup process for JavaFX, and <code>ClientController</code> is instantiated by the <code>FXMLLoader</code>.)."},{"owner":{"account_id":45934,"reputation":203659,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":0,"creation_date":1475674752,"post_id":39875407,"comment_id":67037673,"body_markdown":"Indeed, and `ClientGUI.getInstance()` returns a **different** instance of class `ClientGUI` than the one that JavaFX has instantiated; one in which the member variable `messages` is `null`.","body":"Indeed, and <code>ClientGUI.getInstance()</code> returns a <b>different</b> instance of class <code>ClientGUI</code> than the one that JavaFX has instantiated; one in which the member variable <code>messages</code> is <code>null</code>."}],"answers":[{"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1475679670,"creation_date":1475678319,"answer_id":39876964,"question_id":39875407,"body_markdown":"The null pointer exception is occurring because the instance of `ClientGUI` you get from `ClientGUI.getInstance()` is not the instance that was created as part of the JavaFX launch process, and on which the `start()` method was invoked. Since `messages` was initialized in `start()`, the instance you get from `ClientGUI.getInstance()` does not have `messages` initialized. So when you call `ClientGUI.getInstance().display(message)`, it calls `messages.getChildren()...`: `messages` is null in that `ClientGUI` instance and you get a null pointer exception.\r\n\r\nThe underlying problem here is the overall structure. You really cannot make these singletons - especially the `Application` subclass - since they are instantiated by the framework. `ClientGUI` is instantiated by the JavaFX launch process, and with the way you are using the `FXMLLoader`, `ClientController` is instantiated by `FXMLLoader.load()` (so `ClientController.getInstance()` is probably not giving you the instance you hope it is either).\r\n\r\nIt is not really clear, and certainly makes no sense, as to why you are trying to make these classes singletons anyway. My guess is that you are trying to work around the structure you have in place, which is completely non-standard. The methods you have defined are pretty much all in classes which are not supposed to have the responsibility for the functionality implemented by those methods.\r\n\r\nIn particular: the `Application` subclass is responsible for application life-cycle. It should have a `start` method which simply loads the initial view (FMXL file), puts it in a window, and displays it. It might also start other services if you have/need them. It could optionally override `init()` and `stop()` if you need.\r\n\r\nThe controller class is the one that is responsible for updating the view. This is the only place you should be referencing the UI controls defined in the FXML file, and the only place you should be modifying the display.\r\n\r\nThe model class (`Client`) should have no knowledge at all of the view or controller. It should solely represent the state or data that are being presented. It is the responsibility of the controller (really a presenter, in some other architectures this can be done by the view) to update the view depending on the data represented by the model.\r\n\r\nSo you probably want to restructure the application along the following lines. There are variations on this depending on other things you might need, but this should at least get you on a workable track:\r\n\r\nClientGUI:\r\n\r\n    public class ClientGUI extends Application {\r\n    \r\n        @Override\r\n        public void start(Stage stage) throws Exception {\r\n            Parent root = FXMLLoader.load(getClass().getResource(&quot;ClientGUI.fxml&quot;));\r\n            scene = new Scene(root, 480, 360);\r\n            stage.setTitle(&quot;MyMessenger&quot;);\r\n            stage.setScene(scene);\r\n            stage.setMinWidth(660);\r\n            stage.setMinHeight(495);\r\n            stage.setMaxWidth(990);\r\n            stage.show();\r\n        }\r\n    }\r\n\r\nClientController:\r\n\r\n    public class ClientController implements Controller {\r\n        \r\n        @FXML\r\n        private TextField targetAddress;\r\n        @FXML\r\n        private TextField fieldUsername;\r\n        @FXML\r\n        private TextField fieldPort;\r\n        @FXML\r\n        private VBox messages;\r\n        @FXML\r\n        private TextField input;\r\n        @FXML\r\n        private Button btnConnect;\r\n    \r\n        private String username = &quot;Anonymous&quot;;\r\n        private int port = 2000;\r\n    \r\n        private Client client ;\r\n    \r\n        public void initialize() {\r\n            client = new Client();\r\n        }\r\n    \r\n        @FXML\r\n        private void connect() {\r\n    \r\n            if (!client.connected()) {\r\n                if (!targetAddress.getText().equals(&quot;&quot;)) {\r\n                    if (!fieldUsername.getText().equals(&quot;&quot;)) {\r\n                        username = fieldUsername.getText();\r\n                    }\r\n                    if (!fieldPort.getText().equals(&quot;&quot;)) {\r\n                        port = Integer.valueOf(fieldPort.getText());\r\n                    }\r\n    \r\n                    try {\r\n                        client.connect(targetAddress.getText(), username, port);\r\n                        btnConnect.setText(&quot;Disconnect&quot;);\r\n                        display(&quot;Attention: Successfully connected to server&quot;);\r\n                    } catch (IOException exc) {\r\n                        display(&quot;Attention: Unable to connect to server&quot;);\r\n                    }\r\n                } else {\r\n                    display(&quot;Attention: Address required&quot;);\r\n                }\r\n            } else {\r\n                client.disconnect();\r\n                display(&quot;Attention: Disconnecting...&quot;);\r\n                btnConnect.setText(&quot;Connect&quot;);\r\n            }\r\n    \r\n        }\r\n    \r\n        @FXML\r\n        private void message() {\r\n    \r\n            if (client.connected()) {\r\n                displayAndSend(input.getText());\r\n                input.setText(&quot;&quot;);\r\n            } else {\r\n                display(&quot;Attention: Not connected to server&quot;);\r\n                input.setText(&quot;&quot;);\r\n            }\r\n    \r\n        }\r\n    \r\n        public void display(String message) {\r\n            messages.getChildren().add(new Message(message));\r\n        }\r\n    \r\n        public void displayAndSend(String message) {\r\n            display(message);\r\n            client.sendMessage(message);\r\n        }\r\n    \r\n    }\r\n\r\nand then \r\n\r\n    // Note: why on earth is this Serializable? What state are you intending to serialize???\r\n    public class Client implements Serializable {\r\n        private Socket clientSocket;\r\n        private BufferedReader in;\r\n        private PrintWriter out;\r\n        private ObjectOutputStream objectOutputStream;\r\n        private boolean connected = false;\r\n        private static final long serialVersionUID = 0L;\r\n    \r\n    \r\n        public void connect(String targetAddress, String username_, int port_) throws IOException {\r\n    \r\n            clientSocket = new Socket(targetAddress, port_);\r\n            clientSocket.setReuseAddress(true); // Allows same port to be used successively without cool-down\r\n            in = new BufferedReader(new InputStreamReader(clientSocket.getInputStream()));\r\n            out = new PrintWriter(clientSocket.getOutputStream(), true);\r\n            objectOutputStream = new ObjectOutputStream(clientSocket.getOutputStream());\r\n            objectOutputStream.writeObject(username_);\r\n            connected = true;\r\n    \r\n        }\r\n    \r\n        public void disconnect() {\r\n            try {\r\n                if (in != null) {\r\n                    in.close();\r\n                }\r\n                if (out != null) {\r\n                    out.close();\r\n                }\r\n                if (objectOutputStream != null) {\r\n                    objectOutputStream.close();\r\n                }\r\n                if (clientSocket != null) {\r\n                    clientSocket.close();\r\n                }\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n            connected = false;\r\n        }\r\n    \r\n        public boolean connected() {\r\n            return connected;\r\n        }\r\n    \r\n    \r\n    \r\n        public void sendMessage(String message) {\r\n            out.println(message);\r\n        }\r\n    }\r\n\r\nFor the controller to work, you need the root element to define a `fx:controller=&quot;client.ClientController&quot;` attribute, and the controls in `ClientGUI.fxml` to define `fx:id` attributes matching the field names in the controller class, and for the event handler methods to be specified, e.g.:\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;!-- ... --&gt;\r\n\r\n    &lt;TextField fx:id=&quot;targetAddress&quot; /&gt;\r\n    &lt;TextField fx:id=&quot;fieldUserName&quot; /&gt;\r\n    &lt;TextField fx:id=&quot;fieldPort&quot; /&gt;\r\n\r\n    &lt;VBox fx:id=&quot;messages&quot; /&gt;\r\n\r\n    &lt;TextField fx:id=&quot;input&quot; onAction=&quot;#message&quot; /&gt;\r\n\r\n    &lt;Button text=&quot;Connect&quot; fx:id=&quot;btnConnect&quot; onAction=&quot;#connect&quot; /&gt;\r\n\r\n    &lt;!-- ... --&gt;\r\n\r\n(Note that text field fire an `ActionEvent` when enter is pressed, so there is no need to mess with key pressed handlers, etc.)\r\n\r\nYou may need to modify this somewhat to make the rest of the application functionality work, but as long as you stick to the basic principles: only the controller should modify the UI; the `Client` class should have no knowledge of the presentation details, etc, then you will be on the right path. If you make *anything* `static`, and certainly if you try to make any of these singletons, you are doing things wrong.","title":"Calling methods on VBox throws NullPointerException","body":"<p>The null pointer exception is occurring because the instance of <code>ClientGUI</code> you get from <code>ClientGUI.getInstance()</code> is not the instance that was created as part of the JavaFX launch process, and on which the <code>start()</code> method was invoked. Since <code>messages</code> was initialized in <code>start()</code>, the instance you get from <code>ClientGUI.getInstance()</code> does not have <code>messages</code> initialized. So when you call <code>ClientGUI.getInstance().display(message)</code>, it calls <code>messages.getChildren()...</code>: <code>messages</code> is null in that <code>ClientGUI</code> instance and you get a null pointer exception.</p>\n\n<p>The underlying problem here is the overall structure. You really cannot make these singletons - especially the <code>Application</code> subclass - since they are instantiated by the framework. <code>ClientGUI</code> is instantiated by the JavaFX launch process, and with the way you are using the <code>FXMLLoader</code>, <code>ClientController</code> is instantiated by <code>FXMLLoader.load()</code> (so <code>ClientController.getInstance()</code> is probably not giving you the instance you hope it is either).</p>\n\n<p>It is not really clear, and certainly makes no sense, as to why you are trying to make these classes singletons anyway. My guess is that you are trying to work around the structure you have in place, which is completely non-standard. The methods you have defined are pretty much all in classes which are not supposed to have the responsibility for the functionality implemented by those methods.</p>\n\n<p>In particular: the <code>Application</code> subclass is responsible for application life-cycle. It should have a <code>start</code> method which simply loads the initial view (FMXL file), puts it in a window, and displays it. It might also start other services if you have/need them. It could optionally override <code>init()</code> and <code>stop()</code> if you need.</p>\n\n<p>The controller class is the one that is responsible for updating the view. This is the only place you should be referencing the UI controls defined in the FXML file, and the only place you should be modifying the display.</p>\n\n<p>The model class (<code>Client</code>) should have no knowledge at all of the view or controller. It should solely represent the state or data that are being presented. It is the responsibility of the controller (really a presenter, in some other architectures this can be done by the view) to update the view depending on the data represented by the model.</p>\n\n<p>So you probably want to restructure the application along the following lines. There are variations on this depending on other things you might need, but this should at least get you on a workable track:</p>\n\n<p>ClientGUI:</p>\n\n<pre><code>public class ClientGUI extends Application {\n\n    @Override\n    public void start(Stage stage) throws Exception {\n        Parent root = FXMLLoader.load(getClass().getResource(\"ClientGUI.fxml\"));\n        scene = new Scene(root, 480, 360);\n        stage.setTitle(\"MyMessenger\");\n        stage.setScene(scene);\n        stage.setMinWidth(660);\n        stage.setMinHeight(495);\n        stage.setMaxWidth(990);\n        stage.show();\n    }\n}\n</code></pre>\n\n<p>ClientController:</p>\n\n<pre><code>public class ClientController implements Controller {\n\n    @FXML\n    private TextField targetAddress;\n    @FXML\n    private TextField fieldUsername;\n    @FXML\n    private TextField fieldPort;\n    @FXML\n    private VBox messages;\n    @FXML\n    private TextField input;\n    @FXML\n    private Button btnConnect;\n\n    private String username = \"Anonymous\";\n    private int port = 2000;\n\n    private Client client ;\n\n    public void initialize() {\n        client = new Client();\n    }\n\n    @FXML\n    private void connect() {\n\n        if (!client.connected()) {\n            if (!targetAddress.getText().equals(\"\")) {\n                if (!fieldUsername.getText().equals(\"\")) {\n                    username = fieldUsername.getText();\n                }\n                if (!fieldPort.getText().equals(\"\")) {\n                    port = Integer.valueOf(fieldPort.getText());\n                }\n\n                try {\n                    client.connect(targetAddress.getText(), username, port);\n                    btnConnect.setText(\"Disconnect\");\n                    display(\"Attention: Successfully connected to server\");\n                } catch (IOException exc) {\n                    display(\"Attention: Unable to connect to server\");\n                }\n            } else {\n                display(\"Attention: Address required\");\n            }\n        } else {\n            client.disconnect();\n            display(\"Attention: Disconnecting...\");\n            btnConnect.setText(\"Connect\");\n        }\n\n    }\n\n    @FXML\n    private void message() {\n\n        if (client.connected()) {\n            displayAndSend(input.getText());\n            input.setText(\"\");\n        } else {\n            display(\"Attention: Not connected to server\");\n            input.setText(\"\");\n        }\n\n    }\n\n    public void display(String message) {\n        messages.getChildren().add(new Message(message));\n    }\n\n    public void displayAndSend(String message) {\n        display(message);\n        client.sendMessage(message);\n    }\n\n}\n</code></pre>\n\n<p>and then </p>\n\n<pre><code>// Note: why on earth is this Serializable? What state are you intending to serialize???\npublic class Client implements Serializable {\n    private Socket clientSocket;\n    private BufferedReader in;\n    private PrintWriter out;\n    private ObjectOutputStream objectOutputStream;\n    private boolean connected = false;\n    private static final long serialVersionUID = 0L;\n\n\n    public void connect(String targetAddress, String username_, int port_) throws IOException {\n\n        clientSocket = new Socket(targetAddress, port_);\n        clientSocket.setReuseAddress(true); // Allows same port to be used successively without cool-down\n        in = new BufferedReader(new InputStreamReader(clientSocket.getInputStream()));\n        out = new PrintWriter(clientSocket.getOutputStream(), true);\n        objectOutputStream = new ObjectOutputStream(clientSocket.getOutputStream());\n        objectOutputStream.writeObject(username_);\n        connected = true;\n\n    }\n\n    public void disconnect() {\n        try {\n            if (in != null) {\n                in.close();\n            }\n            if (out != null) {\n                out.close();\n            }\n            if (objectOutputStream != null) {\n                objectOutputStream.close();\n            }\n            if (clientSocket != null) {\n                clientSocket.close();\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n\n        connected = false;\n    }\n\n    public boolean connected() {\n        return connected;\n    }\n\n\n\n    public void sendMessage(String message) {\n        out.println(message);\n    }\n}\n</code></pre>\n\n<p>For the controller to work, you need the root element to define a <code>fx:controller=\"client.ClientController\"</code> attribute, and the controls in <code>ClientGUI.fxml</code> to define <code>fx:id</code> attributes matching the field names in the controller class, and for the event handler methods to be specified, e.g.:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;!-- ... --&gt;\n\n&lt;TextField fx:id=\"targetAddress\" /&gt;\n&lt;TextField fx:id=\"fieldUserName\" /&gt;\n&lt;TextField fx:id=\"fieldPort\" /&gt;\n\n&lt;VBox fx:id=\"messages\" /&gt;\n\n&lt;TextField fx:id=\"input\" onAction=\"#message\" /&gt;\n\n&lt;Button text=\"Connect\" fx:id=\"btnConnect\" onAction=\"#connect\" /&gt;\n\n&lt;!-- ... --&gt;\n</code></pre>\n\n<p>(Note that text field fire an <code>ActionEvent</code> when enter is pressed, so there is no need to mess with key pressed handlers, etc.)</p>\n\n<p>You may need to modify this somewhat to make the rest of the application functionality work, but as long as you stick to the basic principles: only the controller should modify the UI; the <code>Client</code> class should have no knowledge of the presentation details, etc, then you will be on the right path. If you make <em>anything</em> <code>static</code>, and certainly if you try to make any of these singletons, you are doing things wrong.</p>\n"}],"owner":{"account_id":9132805,"reputation":59,"user_id":6793977,"display_name":"Gabe"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1384,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":39876964,"answer_count":1,"score":-2,"last_activity_date":1661651454,"creation_date":1475674326,"question_id":39875407,"body_markdown":"I am working on a client-server messenger application for practice. In my client module there is the Client class, the ClientController class, the ClientGUI class and fxml file, the Message class, a CSS file and the Main class. I have a method in my ClientGUI class and ClientController class, display(String message) that adds a Message object to the VBox that has the id #messages.\r\n\r\nHere is my problem: inside my ClientController class is a display() method that calls the ClientGUI&#39;s display() method (I know that seems redundant, but it&#39;s not the issue). When the display() method is called within my ClientGUI class, for example inside the setOnMouseClick() method, it works fine. When this method is called from my ClientController class however, I get a NullPointerException pointing to my messages variable of type VBox inside the display() method of my ClientGUI class. I have tried replacing    `messages.getChildren().add(new Message(message));` with `VBox test = messages;`\r\n\r\nThe latter works fine while the former throws an exception. I have also tried calling other methods on my messages variable, all of which throw the same error. Why does this happen?\r\n\r\n(It&#39;s still in the process of development so there may be additional unrelated issues)\r\n\r\nClient:\r\n\r\n    package client;\r\n    \r\n    import java.io.*;\r\n    import java.net.Socket;\r\n    \r\n    /**\r\n     * Gabe\r\n     * 9/26/2016\r\n     * Description: Represents client and its socket\r\n     */\r\n    \r\n    public class Client implements Serializable {\r\n        private static Client instance;\r\n        private Socket clientSocket;\r\n        private BufferedReader in;\r\n        private PrintWriter out;\r\n        private ObjectOutputStream objectOutputStream;\r\n        private boolean connected = false;\r\n        private static final long serialVersionUID = 0L;\r\n    \r\n        private Client() {}\r\n    \r\n        public void connect(String targetAddress, String username_, int port_) {\r\n            try {\r\n                clientSocket = new Socket(targetAddress, port_);\r\n                clientSocket.setReuseAddress(true); // Allows same port to be used successively without cool-down\r\n                in = new BufferedReader(new InputStreamReader(clientSocket.getInputStream()));\r\n                out = new PrintWriter(clientSocket.getOutputStream(), true);\r\n                objectOutputStream = new ObjectOutputStream(clientSocket.getOutputStream());\r\n                objectOutputStream.writeObject(username_);\r\n                ClientController.getInstance().display(&quot;Attention: Successfully connected to server&quot;);\r\n                connected = true;\r\n            } catch (IOException e) {\r\n                ClientController.getInstance().display(&quot;Attention: Unable to connect to server&quot;);\r\n            }\r\n        }\r\n    \r\n        public void disconnect() {\r\n            try {\r\n                if (in != null) {\r\n                    in.close();\r\n                }\r\n                if (out != null) {\r\n                    out.close();\r\n                }\r\n                if (objectOutputStream != null) {\r\n                    objectOutputStream.close();\r\n                }\r\n                if (clientSocket != null) {\r\n                    clientSocket.close();\r\n                }\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n            connected = false;\r\n        }\r\n    \r\n        public boolean connected() {\r\n            return connected;\r\n        }\r\n    \r\n        public static Client getInstance() {\r\n            if (instance == null) {\r\n                instance = new Client();\r\n            }\r\n            return instance;\r\n        }\r\n    \r\n        public void sendMessage(String message) {\r\n            out.println(message);\r\n        }\r\n    }\r\n\r\nClientController:\r\n\r\n    package client;\r\n    \r\n    import javafx.scene.layout.VBox;\r\n    \r\n    /**\r\n     * Gabe Castelli\r\n     * 9/28/2016\r\n     * Description:\r\n     */\r\n    \r\n    public class ClientController implements Controller {\r\n        private static ClientController instance;\r\n    \r\n        private ClientController() {}\r\n    \r\n        public static ClientController getInstance() {\r\n            if (instance == null) {\r\n                instance = new ClientController();\r\n            }\r\n            return instance;\r\n        }\r\n    \r\n        // Controls\r\n    \r\n        public void display(String message) {\r\n            ClientGUI.getInstance().display(message);\r\n        }\r\n    \r\n        public void displayAndSend(String message) {\r\n            display(message);\r\n            Client.getInstance().sendMessage(message);\r\n        }\r\n    \r\n        public void connect(String address_, String username_, int port_) {\r\n            Client.getInstance().connect(address_, username_, port_);\r\n        }\r\n    \r\n        public void disconnect() {\r\n            Client.getInstance().disconnect();\r\n        }\r\n    }\r\n\r\nClientGUI:\r\n\r\n    package client;\r\n    \r\n    import javafx.application.Application;\r\n    import javafx.fxml.FXMLLoader;\r\n    import javafx.geometry.Pos;\r\n    import javafx.scene.Parent;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.Button;\r\n    import javafx.scene.control.Label;\r\n    import javafx.scene.control.TextField;\r\n    import javafx.scene.input.KeyCode;\r\n    import javafx.scene.layout.VBox;\r\n    import javafx.stage.Stage;\r\n    \r\n    /**\r\n     * Gabe Castelli\r\n     * 9/26/2016\r\n     * Description: GUI for client-side using JavaFX\r\n     */\r\n    \r\n    public class ClientGUI extends Application {\r\n        private Scene scene;\r\n        private TextField targetAddress;\r\n        private TextField fieldUsername;\r\n        private TextField fieldPort;\r\n        private VBox messages;\r\n        private TextField input;\r\n        private Button btnConnect;\r\n        private String username = &quot;Anonymous&quot;;\r\n        private int port = 2000;\r\n    \r\n        private static ClientGUI instance;\r\n    \r\n        public static ClientGUI getInstance() {\r\n            if (instance == null) {\r\n                instance = new ClientGUI();\r\n            }\r\n            return instance;\r\n        }\r\n    \r\n        @Override\r\n        public void start(Stage stage) throws Exception {\r\n            Parent root = FXMLLoader.load(getClass().getResource(&quot;ClientGUI.fxml&quot;));\r\n            scene = new Scene(root, 480, 360);\r\n            stage.setTitle(&quot;MyMessenger&quot;);\r\n            stage.setScene(scene);\r\n            stage.setMinWidth(660);\r\n            stage.setMinHeight(495);\r\n            stage.setMaxWidth(990);\r\n            stage.show();\r\n    \r\n            targetAddress = (TextField) scene.lookup(&quot;#targetAddress&quot;);\r\n            fieldUsername = (TextField) scene.lookup(&quot;#fieldUsername&quot;);\r\n            fieldPort = (TextField) scene.lookup(&quot;#fieldPort&quot;);\r\n            messages = (VBox) scene.lookup(&quot;#messages&quot;);\r\n            input = (TextField) scene.lookup(&quot;#input&quot;);\r\n            btnConnect = (Button) scene.lookup(&quot;#btnConnect&quot;);\r\n    \r\n            input.setOnKeyPressed(event -&gt; {\r\n                if (event.getCode() == KeyCode.ENTER) {\r\n                    if (Client.getInstance().connected()) {\r\n                        ClientController.getInstance().displayAndSend(input.getText());\r\n                        input.setText(&quot;&quot;);\r\n                    } else {\r\n                        display(&quot;Attention: Not connected to server&quot;);\r\n                        input.setText(&quot;&quot;);\r\n                    }\r\n                }\r\n            });\r\n    \r\n            btnConnect.setOnMouseClicked(event -&gt; {\r\n                if (!Client.getInstance().connected()) {\r\n                    if (!targetAddress.getText().equals(&quot;&quot;)) {\r\n                        if (!fieldUsername.getText().equals(&quot;&quot;)) {\r\n                            username = fieldUsername.getText();\r\n                        }\r\n                        if (!fieldPort.getText().equals(&quot;&quot;)) {\r\n                            port = Integer.valueOf(fieldPort.getText());\r\n                        }\r\n    \r\n                        ClientController.getInstance().connect(targetAddress.getText(), username, port);\r\n                        btnConnect.setText(&quot;Disconnect&quot;);\r\n                    } else {\r\n                        display(&quot;Attention: Address required&quot;);\r\n                    }\r\n                } else {\r\n                    ClientController.getInstance().disconnect();\r\n                    display(&quot;Attention: Disconnecting...&quot;);\r\n                    btnConnect.setText(&quot;Connect&quot;);\r\n                }\r\n            });\r\n        }\r\n    \r\n        public void display(String message) {\r\n            messages.getChildren().add(new Message(message));\r\n        }\r\n    }\r\n\r\nStack trace:\r\n\r\n    Exception in thread &quot;JavaFX Application Thread&quot; java.lang.NullPointerException\r\n    \tat client.ClientGUI.display(ClientGUI.java:96)\r\n    \tat client.ClientController.display(ClientController.java:26)\r\n    \tat client.Client.connect(Client.java:34)\r\n    \tat client.ClientController.connect(ClientController.java:35)\r\n    \tat client.ClientGUI.lambda$start$1(ClientGUI.java:81)\r\n    \tat com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)\r\n    \tat com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:238)\r\n    \tat com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\r\n    \tat com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\r\n    \tat com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\r\n    \tat com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n    \tat com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n    \tat com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n    \tat com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\r\n    \tat com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)\r\n    \tat javafx.event.Event.fireEvent(Event.java:198)\r\n    \tat javafx.scene.Scene$ClickGenerator.postProcess(Scene.java:3470)\r\n    \tat javafx.scene.Scene$ClickGenerator.access$8100(Scene.java:3398)\r\n    \tat javafx.scene.Scene$MouseHandler.process(Scene.java:3766)\r\n    \tat javafx.scene.Scene$MouseHandler.access$1500(Scene.java:3485)\r\n    \tat javafx.scene.Scene.impl_processMouseEvent(Scene.java:1762)\r\n    \tat javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2494)\r\n    \tat com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:352)\r\n    \tat com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:275)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$355(GlassViewEventHandler.java:388)\r\n    \tat com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:389)\r\n    \tat com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:387)\r\n    \tat com.sun.glass.ui.View.handleMouseEvent(View.java:555)\r\n    \tat com.sun.glass.ui.View.notifyMouse(View.java:937)\r\n\r\n","title":"Calling methods on VBox throws NullPointerException","body":"<p>I am working on a client-server messenger application for practice. In my client module there is the Client class, the ClientController class, the ClientGUI class and fxml file, the Message class, a CSS file and the Main class. I have a method in my ClientGUI class and ClientController class, display(String message) that adds a Message object to the VBox that has the id #messages.</p>\n<p>Here is my problem: inside my ClientController class is a display() method that calls the ClientGUI's display() method (I know that seems redundant, but it's not the issue). When the display() method is called within my ClientGUI class, for example inside the setOnMouseClick() method, it works fine. When this method is called from my ClientController class however, I get a NullPointerException pointing to my messages variable of type VBox inside the display() method of my ClientGUI class. I have tried replacing    <code>messages.getChildren().add(new Message(message));</code> with <code>VBox test = messages;</code></p>\n<p>The latter works fine while the former throws an exception. I have also tried calling other methods on my messages variable, all of which throw the same error. Why does this happen?</p>\n<p>(It's still in the process of development so there may be additional unrelated issues)</p>\n<p>Client:</p>\n<pre><code>package client;\n\nimport java.io.*;\nimport java.net.Socket;\n\n/**\n * Gabe\n * 9/26/2016\n * Description: Represents client and its socket\n */\n\npublic class Client implements Serializable {\n    private static Client instance;\n    private Socket clientSocket;\n    private BufferedReader in;\n    private PrintWriter out;\n    private ObjectOutputStream objectOutputStream;\n    private boolean connected = false;\n    private static final long serialVersionUID = 0L;\n\n    private Client() {}\n\n    public void connect(String targetAddress, String username_, int port_) {\n        try {\n            clientSocket = new Socket(targetAddress, port_);\n            clientSocket.setReuseAddress(true); // Allows same port to be used successively without cool-down\n            in = new BufferedReader(new InputStreamReader(clientSocket.getInputStream()));\n            out = new PrintWriter(clientSocket.getOutputStream(), true);\n            objectOutputStream = new ObjectOutputStream(clientSocket.getOutputStream());\n            objectOutputStream.writeObject(username_);\n            ClientController.getInstance().display(&quot;Attention: Successfully connected to server&quot;);\n            connected = true;\n        } catch (IOException e) {\n            ClientController.getInstance().display(&quot;Attention: Unable to connect to server&quot;);\n        }\n    }\n\n    public void disconnect() {\n        try {\n            if (in != null) {\n                in.close();\n            }\n            if (out != null) {\n                out.close();\n            }\n            if (objectOutputStream != null) {\n                objectOutputStream.close();\n            }\n            if (clientSocket != null) {\n                clientSocket.close();\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n\n        connected = false;\n    }\n\n    public boolean connected() {\n        return connected;\n    }\n\n    public static Client getInstance() {\n        if (instance == null) {\n            instance = new Client();\n        }\n        return instance;\n    }\n\n    public void sendMessage(String message) {\n        out.println(message);\n    }\n}\n</code></pre>\n<p>ClientController:</p>\n<pre><code>package client;\n\nimport javafx.scene.layout.VBox;\n\n/**\n * Gabe Castelli\n * 9/28/2016\n * Description:\n */\n\npublic class ClientController implements Controller {\n    private static ClientController instance;\n\n    private ClientController() {}\n\n    public static ClientController getInstance() {\n        if (instance == null) {\n            instance = new ClientController();\n        }\n        return instance;\n    }\n\n    // Controls\n\n    public void display(String message) {\n        ClientGUI.getInstance().display(message);\n    }\n\n    public void displayAndSend(String message) {\n        display(message);\n        Client.getInstance().sendMessage(message);\n    }\n\n    public void connect(String address_, String username_, int port_) {\n        Client.getInstance().connect(address_, username_, port_);\n    }\n\n    public void disconnect() {\n        Client.getInstance().disconnect();\n    }\n}\n</code></pre>\n<p>ClientGUI:</p>\n<pre><code>package client;\n\nimport javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.geometry.Pos;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.Label;\nimport javafx.scene.control.TextField;\nimport javafx.scene.input.KeyCode;\nimport javafx.scene.layout.VBox;\nimport javafx.stage.Stage;\n\n/**\n * Gabe Castelli\n * 9/26/2016\n * Description: GUI for client-side using JavaFX\n */\n\npublic class ClientGUI extends Application {\n    private Scene scene;\n    private TextField targetAddress;\n    private TextField fieldUsername;\n    private TextField fieldPort;\n    private VBox messages;\n    private TextField input;\n    private Button btnConnect;\n    private String username = &quot;Anonymous&quot;;\n    private int port = 2000;\n\n    private static ClientGUI instance;\n\n    public static ClientGUI getInstance() {\n        if (instance == null) {\n            instance = new ClientGUI();\n        }\n        return instance;\n    }\n\n    @Override\n    public void start(Stage stage) throws Exception {\n        Parent root = FXMLLoader.load(getClass().getResource(&quot;ClientGUI.fxml&quot;));\n        scene = new Scene(root, 480, 360);\n        stage.setTitle(&quot;MyMessenger&quot;);\n        stage.setScene(scene);\n        stage.setMinWidth(660);\n        stage.setMinHeight(495);\n        stage.setMaxWidth(990);\n        stage.show();\n\n        targetAddress = (TextField) scene.lookup(&quot;#targetAddress&quot;);\n        fieldUsername = (TextField) scene.lookup(&quot;#fieldUsername&quot;);\n        fieldPort = (TextField) scene.lookup(&quot;#fieldPort&quot;);\n        messages = (VBox) scene.lookup(&quot;#messages&quot;);\n        input = (TextField) scene.lookup(&quot;#input&quot;);\n        btnConnect = (Button) scene.lookup(&quot;#btnConnect&quot;);\n\n        input.setOnKeyPressed(event -&gt; {\n            if (event.getCode() == KeyCode.ENTER) {\n                if (Client.getInstance().connected()) {\n                    ClientController.getInstance().displayAndSend(input.getText());\n                    input.setText(&quot;&quot;);\n                } else {\n                    display(&quot;Attention: Not connected to server&quot;);\n                    input.setText(&quot;&quot;);\n                }\n            }\n        });\n\n        btnConnect.setOnMouseClicked(event -&gt; {\n            if (!Client.getInstance().connected()) {\n                if (!targetAddress.getText().equals(&quot;&quot;)) {\n                    if (!fieldUsername.getText().equals(&quot;&quot;)) {\n                        username = fieldUsername.getText();\n                    }\n                    if (!fieldPort.getText().equals(&quot;&quot;)) {\n                        port = Integer.valueOf(fieldPort.getText());\n                    }\n\n                    ClientController.getInstance().connect(targetAddress.getText(), username, port);\n                    btnConnect.setText(&quot;Disconnect&quot;);\n                } else {\n                    display(&quot;Attention: Address required&quot;);\n                }\n            } else {\n                ClientController.getInstance().disconnect();\n                display(&quot;Attention: Disconnecting...&quot;);\n                btnConnect.setText(&quot;Connect&quot;);\n            }\n        });\n    }\n\n    public void display(String message) {\n        messages.getChildren().add(new Message(message));\n    }\n}\n</code></pre>\n<p>Stack trace:</p>\n<pre><code>Exception in thread &quot;JavaFX Application Thread&quot; java.lang.NullPointerException\n    at client.ClientGUI.display(ClientGUI.java:96)\n    at client.ClientController.display(ClientController.java:26)\n    at client.Client.connect(Client.java:34)\n    at client.ClientController.connect(ClientController.java:35)\n    at client.ClientGUI.lambda$start$1(ClientGUI.java:81)\n    at com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)\n    at com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:238)\n    at com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\n    at com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\n    at com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\n    at com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\n    at com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)\n    at javafx.event.Event.fireEvent(Event.java:198)\n    at javafx.scene.Scene$ClickGenerator.postProcess(Scene.java:3470)\n    at javafx.scene.Scene$ClickGenerator.access$8100(Scene.java:3398)\n    at javafx.scene.Scene$MouseHandler.process(Scene.java:3766)\n    at javafx.scene.Scene$MouseHandler.access$1500(Scene.java:3485)\n    at javafx.scene.Scene.impl_processMouseEvent(Scene.java:1762)\n    at javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2494)\n    at com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:352)\n    at com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:275)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$355(GlassViewEventHandler.java:388)\n    at com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:389)\n    at com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:387)\n    at com.sun.glass.ui.View.handleMouseEvent(View.java:555)\n    at com.sun.glass.ui.View.notifyMouse(View.java:937)\n</code></pre>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":212263,"reputation":136294,"user_id":464988,"accept_rate":94,"display_name":"MByD"},"down_vote_count":7,"up_vote_count":59,"is_accepted":true,"score":52,"last_activity_date":1315749048,"creation_date":1315749048,"answer_id":7378652,"question_id":7378644,"body_markdown":"Pass a reference of the activity when you create the class, and when calling relevant methods and use it.\r\n\r\n    void someMethodThatUsesActivity(Activity myActivityReference) {\r\n        myActivityReference.getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN, WindowManager.LayoutParams.FLAG_FULLSCREEN);\r\n    }","title":"How to call getWindow() outside an Activity in Android?","body":"<p>Pass a reference of the activity when you create the class, and when calling relevant methods and use it.</p>\n\n<pre><code>void someMethodThatUsesActivity(Activity myActivityReference) {\n    myActivityReference.getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN, WindowManager.LayoutParams.FLAG_FULLSCREEN);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4301708,"reputation":5,"user_id":3515291,"display_name":"wwahyudi"},"down_vote_count":20,"up_vote_count":3,"is_accepted":false,"score":-17,"last_activity_date":1397047023,"creation_date":1397047023,"answer_id":22962759,"question_id":7378644,"body_markdown":"Use \r\n\r\n    getActivity().getWindow().requestFeature(Window.FEATURE_PROGRESS);\r\nIt&#39;s will be easier","title":"How to call getWindow() outside an Activity in Android?","body":"<p>Use </p>\n\n<pre><code>getActivity().getWindow().requestFeature(Window.FEATURE_PROGRESS);\n</code></pre>\n\n<p>It's will be easier</p>\n"},{"tags":[],"owner":{"account_id":4477301,"reputation":4930,"user_id":3642107,"accept_rate":66,"display_name":"Oliver Hausler"},"down_vote_count":6,"up_vote_count":63,"is_accepted":false,"score":57,"last_activity_date":1415730255,"creation_date":1415730255,"answer_id":26871793,"question_id":7378644,"body_markdown":"You shall not keep references around as suggested in the accepted answer. This works, but may cause memory leaks.\r\n\r\nUse this instead from your view:\r\n\r\n    ((Activity) getContext()).getWindow()...\r\n\r\nYou have a managed reference to your activity in your view, which you can retrieve using getContext(). Cast it to Activity and use any methods from the activity, such as getWindow().","title":"How to call getWindow() outside an Activity in Android?","body":"<p>You shall not keep references around as suggested in the accepted answer. This works, but may cause memory leaks.</p>\n\n<p>Use this instead from your view:</p>\n\n<pre><code>((Activity) getContext()).getWindow()...\n</code></pre>\n\n<p>You have a managed reference to your activity in your view, which you can retrieve using getContext(). Cast it to Activity and use any methods from the activity, such as getWindow().</p>\n"},{"tags":[],"owner":{"account_id":1741886,"reputation":1520,"user_id":1593056,"display_name":"Hexise"},"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1501210410,"creation_date":1501210410,"answer_id":45364096,"question_id":7378644,"body_markdown":"You can use following method to cast current context to activity:\r\n\r\n    /**\r\n     * Get activity instance from desired context.\r\n     */\r\n    public static Activity getActivity(Context context) {\r\n        if (context == null) return null;\r\n        if (context instanceof Activity) return (Activity) context;\r\n        if (context instanceof ContextWrapper) return getActivity(((ContextWrapper)context).getBaseContext());\r\n        return null;\r\n    }\r\n\r\nThen you can get window from the activity.","title":"How to call getWindow() outside an Activity in Android?","body":"<p>You can use following method to cast current context to activity:</p>\n\n<pre><code>/**\n * Get activity instance from desired context.\n */\npublic static Activity getActivity(Context context) {\n    if (context == null) return null;\n    if (context instanceof Activity) return (Activity) context;\n    if (context instanceof ContextWrapper) return getActivity(((ContextWrapper)context).getBaseContext());\n    return null;\n}\n</code></pre>\n\n<p>Then you can get window from the activity.</p>\n"},{"tags":[],"owner":{"account_id":10212357,"reputation":31,"user_id":7539066,"display_name":"jsaon chyeng"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1608028403,"creation_date":1608028403,"answer_id":65304130,"question_id":7378644,"body_markdown":"kotlin code:\r\n```\r\nmyView.rootView.findViewById&lt;View&gt;(android.R.id.content).context as Activity\r\n```","title":"How to call getWindow() outside an Activity in Android?","body":"<p>kotlin code:</p>\n<pre><code>myView.rootView.findViewById&lt;View&gt;(android.R.id.content).context as Activity\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13606200,"reputation":637,"user_id":9815277,"display_name":"devio"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659208221,"creation_date":1659208221,"answer_id":73178403,"question_id":7378644,"body_markdown":"to call getWindow() outside an Activity in Android you need to pass the activity object in this method i set the parameter `Acticity` for example this activity set full screen to an activity\r\n\r\n     public void fullScreen(Activity activity){\r\n        activity.getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN, WindowManager.LayoutParams.FLAG_FULLSCREEN);\r\n        activity.getWindow().getDecorView().setSystemUiVisibility(\r\n                View.SYSTEM_UI_FLAG_LAYOUT_STABLE | View.SYSTEM_UI_FLAG_LAYOUT_HIDE_NAVIGATION\r\n                        | View.SYSTEM_UI_FLAG_LAYOUT_FULLSCREEN | View.SYSTEM_UI_FLAG_HIDE_NAVIGATION\r\n                        | View.SYSTEM_UI_FLAG_FULLSCREEN | View.SYSTEM_UI_FLAG_IMMERSIVE_STICKY);\r\n    }\r\n\r\nthen when you use it set `MainActivity.this` argument\r\n\r\n    yourClassInstance.fullScreen(MainActivity.this);","title":"How to call getWindow() outside an Activity in Android?","body":"<p>to call getWindow() outside an Activity in Android you need to pass the activity object in this method i set the parameter <code>Acticity</code> for example this activity set full screen to an activity</p>\n<pre><code> public void fullScreen(Activity activity){\n    activity.getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN, WindowManager.LayoutParams.FLAG_FULLSCREEN);\n    activity.getWindow().getDecorView().setSystemUiVisibility(\n            View.SYSTEM_UI_FLAG_LAYOUT_STABLE | View.SYSTEM_UI_FLAG_LAYOUT_HIDE_NAVIGATION\n                    | View.SYSTEM_UI_FLAG_LAYOUT_FULLSCREEN | View.SYSTEM_UI_FLAG_HIDE_NAVIGATION\n                    | View.SYSTEM_UI_FLAG_FULLSCREEN | View.SYSTEM_UI_FLAG_IMMERSIVE_STICKY);\n}\n</code></pre>\n<p>then when you use it set <code>MainActivity.this</code> argument</p>\n<pre><code>yourClassInstance.fullScreen(MainActivity.this);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3072498,"reputation":12819,"user_id":2602791,"display_name":"BladeCoder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661647830,"creation_date":1661647830,"answer_id":73515310,"question_id":7378644,"body_markdown":"A `Window` instance must always be retrieved from either an `Activity` or a `Dialog`. So the proper way is to pass the Window reference to your component, for example through dependency injection, then make sure your component does not outlive the Activity or Dialog in order to avoid memory leaks.\r\n\r\nNote that is incorrect to assume you can always retrieve the correct Window by looking for the Activity starting from a View&#39;s Context, because sometimes that View is inside a Dialog which uses a different Window.","title":"How to call getWindow() outside an Activity in Android?","body":"<p>A <code>Window</code> instance must always be retrieved from either an <code>Activity</code> or a <code>Dialog</code>. So the proper way is to pass the Window reference to your component, for example through dependency injection, then make sure your component does not outlive the Activity or Dialog in order to avoid memory leaks.</p>\n<p>Note that is incorrect to assume you can always retrieve the correct Window by looking for the Activity starting from a View's Context, because sometimes that View is inside a Dialog which uses a different Window.</p>\n"}],"owner":{"account_id":683623,"reputation":11257,"user_id":529024,"accept_rate":86,"display_name":"Kalimah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":114845,"favorite_count":0,"down_vote_count":0,"up_vote_count":50,"accepted_answer_id":7378652,"answer_count":7,"score":50,"last_activity_date":1661647830,"creation_date":1315748954,"question_id":7378644,"body_markdown":"I am trying to organize my code and move repetitive functions to a single class.\r\nThis line of code works fine inside a class that extends activity:\r\n\r\n    getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN, WindowManager.LayoutParams.FLAG_FULLSCREEN);\r\n\r\nHowever it is not working when I try to include it into an external class.\r\n\r\nHow do I call getWindow() from another class to apply it inside an Activity?\r\n","title":"How to call getWindow() outside an Activity in Android?","body":"<p>I am trying to organize my code and move repetitive functions to a single class.\nThis line of code works fine inside a class that extends activity:</p>\n\n<pre><code>getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN, WindowManager.LayoutParams.FLAG_FULLSCREEN);\n</code></pre>\n\n<p>However it is not working when I try to include it into an external class.</p>\n\n<p>How do I call getWindow() from another class to apply it inside an Activity?</p>\n"},{"tags":["java","spring-data-jpa","jpql","find-by-sql"],"owner":{"account_id":9965825,"reputation":21,"user_id":7373560,"display_name":"FireAndBlood"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1661646974,"creation_date":1661646974,"question_id":73515258,"body_markdown":"I have an entity Subjects: \r\n\r\n```\r\npublic class Subject {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n    private String name;\r\n\r\n    @OneToOne\r\n    private Teacher teacher;\r\n    @ManyToMany\r\n    private Set&lt;Teacher&gt; replacingTeachers;\r\n\r\n    @JsonIgnore\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;class_id&quot;)\r\n    private Class myClass;\r\n}\r\n```\r\n\r\nAnd I want to make a query which searches by myClass_id and by either teacher_id or by replacingTeachers&#39; ids (to contain an id). How to do this with Spring JPA? I tried this: \r\n\r\n```\r\n    Optional&lt;Subject&gt; findByTeacherIdAndMyClassIdOrReplacingTeachersContains(final Long teacherId, final Long classId);\r\n```","title":"How to make a query which searches by myClass_id and by either teacher_id or by replacingTeachers&#39; ids (to contain an id) with Spring JPA?","body":"<p>I have an entity Subjects:</p>\n<pre><code>public class Subject {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    private String name;\n\n    @OneToOne\n    private Teacher teacher;\n    @ManyToMany\n    private Set&lt;Teacher&gt; replacingTeachers;\n\n    @JsonIgnore\n    @ManyToOne\n    @JoinColumn(name = &quot;class_id&quot;)\n    private Class myClass;\n}\n</code></pre>\n<p>And I want to make a query which searches by myClass_id and by either teacher_id or by replacingTeachers' ids (to contain an id). How to do this with Spring JPA? I tried this:</p>\n<pre><code>    Optional&lt;Subject&gt; findByTeacherIdAndMyClassIdOrReplacingTeachersContains(final Long teacherId, final Long classId);\n</code></pre>\n"},{"tags":["java","swing","netbeans","key-bindings","keystroke"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":5,"creation_date":1661640856,"post_id":73514892,"comment_id":129820800,"body_markdown":"You are using the wrong InputMap. Your label doesn&#39;t have focus. You need to use the `InputMap` that allows you to handle the key binding even when the component doesn&#39;t have focus. Check out the section from the Swing tutorial on [How Key Bindings Work](https://docs.oracle.com/javase/tutorial/uiswing/misc/keybinding.html#maps) for more information.","body":"You are using the wrong InputMap. Your label doesn&#39;t have focus. You need to use the <code>InputMap</code> that allows you to handle the key binding even when the component doesn&#39;t have focus. Check out the section from the Swing tutorial on <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/keybinding.html#maps\" rel=\"nofollow noreferrer\">How Key Bindings Work</a> for more information."}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661644145,"creation_date":1661643630,"answer_id":73515092,"question_id":73514892,"body_markdown":"Start by making use of a more &quot;gloabl&quot; `InputMap`, the one you are using requires the component to be focusable AND have focus.\r\n\r\nAvoid using `KeyEvent.getKeyStroke(String)`, it does some weird things and isn&#39;t going to help you, instead, supply the actual `KeyEvent`, for example\r\n\r\n    InputMap inputMap = label.getInputMap(JComponent.WHEN_IN_FOCUSED_WINDOW);\r\n    inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_W, 0), &quot;upAction&quot;);\r\n    inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_S, 0), &quot;downAction&quot;);\r\n    inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_A, 0), &quot;leftAction&quot;);\r\n    inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_D, 0), &quot;rightAction&quot;);\r\n\r\nI&#39;d also recommend making the time to learn about custom painting, as components don&#39;t tend to work well like this.\r\n\r\nSee [Painting in AWT and Swing](https://www.oracle.com/java/technologies/painting.html) and [Performing Custom Painting](https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html) for more details","title":"Key bindings does not run","body":"<p>Start by making use of a more &quot;gloabl&quot; <code>InputMap</code>, the one you are using requires the component to be focusable AND have focus.</p>\n<p>Avoid using <code>KeyEvent.getKeyStroke(String)</code>, it does some weird things and isn't going to help you, instead, supply the actual <code>KeyEvent</code>, for example</p>\n<pre><code>InputMap inputMap = label.getInputMap(JComponent.WHEN_IN_FOCUSED_WINDOW);\ninputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_W, 0), &quot;upAction&quot;);\ninputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_S, 0), &quot;downAction&quot;);\ninputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_A, 0), &quot;leftAction&quot;);\ninputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_D, 0), &quot;rightAction&quot;);\n</code></pre>\n<p>I'd also recommend making the time to learn about custom painting, as components don't tend to work well like this.</p>\n<p>See <a href=\"https://www.oracle.com/java/technologies/painting.html\" rel=\"nofollow noreferrer\">Painting in AWT and Swing</a> and <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html\" rel=\"nofollow noreferrer\">Performing Custom Painting</a> for more details</p>\n"}],"owner":{"account_id":18734871,"reputation":1,"user_id":13659446,"display_name":"ali"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661644145,"creation_date":1661640476,"question_id":73514892,"body_markdown":"I work java program language in netbeans. I want to move a jlabel box by means of use keybindings. Box can not move when  keystroked. For example I keystroke w,a,s,d but box cannot move. When I press these keys, it should go up, down, right and left, but there is no movement in the program. The box stays where it is. What should do ? \r\n\r\n    import java.awt.Color;\r\n    import java.awt.event.*;\r\n    import javax.swing.*;\r\n    \r\n    \r\n    public class BoxGame {\r\n    \r\n    JFrame frame;\r\n    JLabel label;\r\n    Action upAction;\r\n    Action downAction;\r\n    Action leftAction;\r\n    Action rightAction;\r\n    \r\n    \r\n    BoxGame(){\r\n        \r\n       frame = new JFrame(&quot;Keybinding&quot;);\r\n       frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n       frame.setSize(450,450);\r\n       frame.setLayout(null);\r\n       \r\n       label = new JLabel();\r\n       label.setBackground(Color.red);\r\n       label.setBounds(100,100,100,100);\r\n       label.setOpaque(true);\r\n      \r\n       \r\n       upAction = new UpAction();\r\n       downAction = new DownAction();\r\n       leftAction = new LeftAction();\r\n       rightAction = new RightAction();\r\n       \r\n       label.getInputMap().put(KeyStroke.getKeyStroke(&quot;w&quot;), &quot;upAction&quot;);\r\n       label.getActionMap().put(&quot;upAction&quot;,upAction);\r\n       \r\n       label.getInputMap().put(KeyStroke.getKeyStroke(&quot;s&quot;), &quot;downAction&quot;);\r\n       label.getActionMap().put(&quot;downAction&quot;, downAction);\r\n       \r\n       label.getInputMap().put(KeyStroke.getKeyStroke(&quot;a&quot;), &quot;leftAction&quot;);\r\n       label.getActionMap().put(&quot;leftAction&quot;, leftAction);\r\n       \r\n       label.getInputMap().put(KeyStroke.getKeyStroke(&quot;d&quot;), &quot;rightAction&quot;);\r\n       label.getActionMap().put(&quot;rightAction&quot;, rightAction);\r\n       \r\n       frame.add(label);\r\n       frame.setVisible(true);\r\n\r\n    }\r\n    \r\n    public class UpAction extends AbstractAction{\r\n\r\n        @Override\r\n        public void actionPerformed(ActionEvent e) {\r\n            label.setLocation(label.getX(), label.getY()-10);\r\n        }\r\n    }\r\n    \r\n    public class DownAction extends  AbstractAction{\r\n\r\n        @Override\r\n        public void actionPerformed(ActionEvent e) {\r\n           label.setLocation(label.getX(), label.getY()+10);\r\n        }\r\n    }\r\n    \r\n    public class LeftAction extends AbstractAction{\r\n\r\n        @Override\r\n        public void actionPerformed(ActionEvent e) {\r\n           label.setLocation(label.getX()-10, label.getY());\r\n        }\r\n    }\r\n    \r\n    public class RightAction extends AbstractAction{\r\n\r\n        @Override\r\n        public void actionPerformed(ActionEvent e) {\r\n          label.setLocation(label.getX()+10, label.getY());\r\n        }\r\n      }  \r\n    }\r\n    \r\n\r\n","title":"Key bindings does not run","body":"<p>I work java program language in netbeans. I want to move a jlabel box by means of use keybindings. Box can not move when  keystroked. For example I keystroke w,a,s,d but box cannot move. When I press these keys, it should go up, down, right and left, but there is no movement in the program. The box stays where it is. What should do ?</p>\n<pre><code>import java.awt.Color;\nimport java.awt.event.*;\nimport javax.swing.*;\n\n\npublic class BoxGame {\n\nJFrame frame;\nJLabel label;\nAction upAction;\nAction downAction;\nAction leftAction;\nAction rightAction;\n\n\nBoxGame(){\n    \n   frame = new JFrame(&quot;Keybinding&quot;);\n   frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n   frame.setSize(450,450);\n   frame.setLayout(null);\n   \n   label = new JLabel();\n   label.setBackground(Color.red);\n   label.setBounds(100,100,100,100);\n   label.setOpaque(true);\n  \n   \n   upAction = new UpAction();\n   downAction = new DownAction();\n   leftAction = new LeftAction();\n   rightAction = new RightAction();\n   \n   label.getInputMap().put(KeyStroke.getKeyStroke(&quot;w&quot;), &quot;upAction&quot;);\n   label.getActionMap().put(&quot;upAction&quot;,upAction);\n   \n   label.getInputMap().put(KeyStroke.getKeyStroke(&quot;s&quot;), &quot;downAction&quot;);\n   label.getActionMap().put(&quot;downAction&quot;, downAction);\n   \n   label.getInputMap().put(KeyStroke.getKeyStroke(&quot;a&quot;), &quot;leftAction&quot;);\n   label.getActionMap().put(&quot;leftAction&quot;, leftAction);\n   \n   label.getInputMap().put(KeyStroke.getKeyStroke(&quot;d&quot;), &quot;rightAction&quot;);\n   label.getActionMap().put(&quot;rightAction&quot;, rightAction);\n   \n   frame.add(label);\n   frame.setVisible(true);\n\n}\n\npublic class UpAction extends AbstractAction{\n\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        label.setLocation(label.getX(), label.getY()-10);\n    }\n}\n\npublic class DownAction extends  AbstractAction{\n\n    @Override\n    public void actionPerformed(ActionEvent e) {\n       label.setLocation(label.getX(), label.getY()+10);\n    }\n}\n\npublic class LeftAction extends AbstractAction{\n\n    @Override\n    public void actionPerformed(ActionEvent e) {\n       label.setLocation(label.getX()-10, label.getY());\n    }\n}\n\npublic class RightAction extends AbstractAction{\n\n    @Override\n    public void actionPerformed(ActionEvent e) {\n      label.setLocation(label.getX()+10, label.getY());\n    }\n  }  \n}\n</code></pre>\n"},{"tags":["java","java-stream","reduce"],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1661599354,"creation_date":1661597872,"answer_id":73510390,"question_id":73510326,"body_markdown":"To find the smallest element that is different from `-1`, firstly, apply `filter()` to retain only *non-minus-one* elements in the stream and then apply `min()`.\r\n\r\nAs a default value, which would be returned if the stream appears to be empty, provide `-1`.\r\n\r\n    public static int getSmallestNonMinusOne(List&lt;Integer&gt; list) {\r\n        \r\n        return list.stream()\r\n            .mapToInt(Integer::intValue)\r\n            .filter(i -&gt; i != -1)\r\n            .min()\r\n            .orElse(-1);\r\n    }\r\n\r\nAlternatively, if you want to use `reduce()` you can re-write the code like this:\r\n    \r\n    public static int getSmallestNonMinusOne(List&lt;Integer&gt; list) {\r\n        \r\n        return list.stream()\r\n            .mapToInt(Integer::intValue)\r\n            .filter(i -&gt; i != -1)\r\n            .reduce(Integer::min)\r\n            .orElse(-1);\r\n    }\r\n\r\n***Note:*** that `min` is basically a specialized form of reduction, and from the perspective of readability the first version is preferred one. \r\n\r\n`main()`\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(getSmallestNonMinusOne(List.of(-1, 0, 8)));\r\n        System.out.println(getSmallestNonMinusOne(List.of(-1, -1, -1)));\r\n        System.out.println(getSmallestNonMinusOne(List.of(-1, 2, 5)));\r\n        System.out.println(getSmallestNonMinusOne(List.of()));\r\n    }\r\n\r\n*Output:*\r\n```\r\n0    // -1, 0, 8\r\n-1   // only -1 elements in the source\r\n2    // -1, 2, 5\r\n-1   // source is empty\r\n```","title":"Java - Stream API: applying reduce() operation to find the Minimum value that meets the requirements","body":"<p>To find the smallest element that is different from <code>-1</code>, firstly, apply <code>filter()</code> to retain only <em>non-minus-one</em> elements in the stream and then apply <code>min()</code>.</p>\n<p>As a default value, which would be returned if the stream appears to be empty, provide <code>-1</code>.</p>\n<pre><code>public static int getSmallestNonMinusOne(List&lt;Integer&gt; list) {\n    \n    return list.stream()\n        .mapToInt(Integer::intValue)\n        .filter(i -&gt; i != -1)\n        .min()\n        .orElse(-1);\n}\n</code></pre>\n<p>Alternatively, if you want to use <code>reduce()</code> you can re-write the code like this:</p>\n<pre><code>public static int getSmallestNonMinusOne(List&lt;Integer&gt; list) {\n    \n    return list.stream()\n        .mapToInt(Integer::intValue)\n        .filter(i -&gt; i != -1)\n        .reduce(Integer::min)\n        .orElse(-1);\n}\n</code></pre>\n<p><em><strong>Note:</strong></em> that <code>min</code> is basically a specialized form of reduction, and from the perspective of readability the first version is preferred one.</p>\n<p><code>main()</code></p>\n<pre><code>public static void main(String[] args) {\n    System.out.println(getSmallestNonMinusOne(List.of(-1, 0, 8)));\n    System.out.println(getSmallestNonMinusOne(List.of(-1, -1, -1)));\n    System.out.println(getSmallestNonMinusOne(List.of(-1, 2, 5)));\n    System.out.println(getSmallestNonMinusOne(List.of()));\n}\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>0    // -1, 0, 8\n-1   // only -1 elements in the source\n2    // -1, 2, 5\n-1   // source is empty\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4723575,"reputation":192,"user_id":7637632,"display_name":"Sajad"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1661599642,"creation_date":1661598693,"answer_id":73510485,"question_id":73510326,"body_markdown":"If you want to specifically use the `reduce` operator:\r\n\r\n    numbers.stream().reduce(-1, (submin, element) -&gt;\r\n        (submin == -1 &amp;&amp; element != -1) \r\n        ? element // here, I have seen the first non-minus-one number\r\n        : element != -1 ? Math.min(submin, element) : submin;  // here, I would keep updating the minimum without considering any minus ones \r\n\r\nIt starts with a minus one as the minimum, changes the minimum if it encounters a non-minus-one element, and keeps updating the minimum the normal way, ignoring any next `-1`s too.","title":"Java - Stream API: applying reduce() operation to find the Minimum value that meets the requirements","body":"<p>If you want to specifically use the <code>reduce</code> operator:</p>\n<pre><code>numbers.stream().reduce(-1, (submin, element) -&gt;\n    (submin == -1 &amp;&amp; element != -1) \n    ? element // here, I have seen the first non-minus-one number\n    : element != -1 ? Math.min(submin, element) : submin;  // here, I would keep updating the minimum without considering any minus ones \n</code></pre>\n<p>It starts with a minus one as the minimum, changes the minimum if it encounters a non-minus-one element, and keeps updating the minimum the normal way, ignoring any next <code>-1</code>s too.</p>\n"}],"owner":{"account_id":14482834,"reputation":3894,"user_id":10461625,"display_name":"PatPanda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":701,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73510390,"answer_count":2,"score":0,"last_activity_date":1661643444,"creation_date":1661597297,"question_id":73510326,"body_markdown":"Small question regarding Java and its Stream API, especially the `reduce()` operation.\r\n\r\nI have as input some Stream of integers.\r\n\r\nThe integers go from `-1` **inclusive**, to a positive integer. In the mathematical notation, it would be `[-1,n]`.\r\n\r\n***Note*** that the **smallest possible** number is `-1` (minus 1). It cannot be `-2`, `-3`, etc., the smallest is `-1`.\r\n\r\nI would like to write a reduce function which does:\r\n\r\n*Case A* - if the stream contains numbers from `0` to `n`, basically, **there is no** `-1` in the stream, return the minimum number of the stream.\r\n\r\n```\r\nStream&lt;Integer&gt; casea = Stream.of(2, 0, 4);\r\n```\r\n\r\nFor above *case A* example, to return `0`.\r\n\r\n\r\n*Case B* - if the stream contains **only** `-1`, there is nothing else other than `-1`, return `-1`.\r\n\r\n```\r\nStream&lt;Integer&gt; caseb = Stream.of(-1, -1, -1);\r\n```\r\n\r\nFor above *case B* example, to return -1.\r\n\r\n\r\n*Case C* - if the stream contains any -1, and any non -1, return the minimum number that is **not** -1.\r\n\r\n```\r\nStream&lt;Integer&gt; casec = Stream.of(-1, 2, 5);\r\n```\r\n\r\nFor above *case C* example, return `2` (and not `-1`).\r\n\r\n\r\nI am having trouble crafting this reduce function.\r\n\r\nWhat I have tried:\r\n\r\nSo far, I tried:\r\n```\r\n.reduce(Integer.MAX_VALUE, Integer::min);\r\n```\r\n\r\nUnfortunately, it is not correct.\r\nIt is returning the correct result for case a and b.\r\n\r\nHowever, it will return -1 for the case c, where I would like to return **the smallest non -1 integer**, since it has something other than -1 in the stream.\r\n\r\nHow can I apply `reduce` operation to meat the requirements?\r\n","title":"Java - Stream API: applying reduce() operation to find the Minimum value that meets the requirements","body":"<p>Small question regarding Java and its Stream API, especially the <code>reduce()</code> operation.</p>\n<p>I have as input some Stream of integers.</p>\n<p>The integers go from <code>-1</code> <strong>inclusive</strong>, to a positive integer. In the mathematical notation, it would be <code>[-1,n]</code>.</p>\n<p><em><strong>Note</strong></em> that the <strong>smallest possible</strong> number is <code>-1</code> (minus 1). It cannot be <code>-2</code>, <code>-3</code>, etc., the smallest is <code>-1</code>.</p>\n<p>I would like to write a reduce function which does:</p>\n<p><em>Case A</em> - if the stream contains numbers from <code>0</code> to <code>n</code>, basically, <strong>there is no</strong> <code>-1</code> in the stream, return the minimum number of the stream.</p>\n<pre><code>Stream&lt;Integer&gt; casea = Stream.of(2, 0, 4);\n</code></pre>\n<p>For above <em>case A</em> example, to return <code>0</code>.</p>\n<p><em>Case B</em> - if the stream contains <strong>only</strong> <code>-1</code>, there is nothing else other than <code>-1</code>, return <code>-1</code>.</p>\n<pre><code>Stream&lt;Integer&gt; caseb = Stream.of(-1, -1, -1);\n</code></pre>\n<p>For above <em>case B</em> example, to return -1.</p>\n<p><em>Case C</em> - if the stream contains any -1, and any non -1, return the minimum number that is <strong>not</strong> -1.</p>\n<pre><code>Stream&lt;Integer&gt; casec = Stream.of(-1, 2, 5);\n</code></pre>\n<p>For above <em>case C</em> example, return <code>2</code> (and not <code>-1</code>).</p>\n<p>I am having trouble crafting this reduce function.</p>\n<p>What I have tried:</p>\n<p>So far, I tried:</p>\n<pre><code>.reduce(Integer.MAX_VALUE, Integer::min);\n</code></pre>\n<p>Unfortunately, it is not correct.\nIt is returning the correct result for case a and b.</p>\n<p>However, it will return -1 for the case c, where I would like to return <strong>the smallest non -1 integer</strong>, since it has something other than -1 in the stream.</p>\n<p>How can I apply <code>reduce</code> operation to meat the requirements?</p>\n"},{"tags":["java","inheritance","super"],"comments":[{"owner":{"account_id":3930229,"reputation":2278,"user_id":4412979,"accept_rate":50,"display_name":"Vasily Liaskovsky"},"score":2,"creation_date":1661640462,"post_id":73514859,"comment_id":129820748,"body_markdown":"There are *private* methods for this, they are not inherited.","body":"There are <i>private</i> methods for this, they are not inherited."},{"owner":{"account_id":1202806,"reputation":23213,"user_id":1173112,"accept_rate":89,"display_name":"Koray Tugay"},"score":2,"creation_date":1661642239,"post_id":73514859,"comment_id":129820940,"body_markdown":"You are not constructing a `Parent` object - you are constructing a `Child` object..","body":"You are not constructing a <code>Parent</code> object - you are constructing a <code>Child</code> object.."}],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1661641919,"creation_date":1661641919,"answer_id":73514996,"question_id":73514859,"body_markdown":"&gt; I would have thought that to correctly construct a Parent object, its constructor should always be called with its own method definitions?\r\n\r\nNo.  It is assumed that if you permit a method to be overridden, and choose to override the method, that the overridden behavior is the right one.\r\n\r\n(Methods to prevent this overriding including marking your method final or private.)","title":"Why does the call to a parent class constructor not call the parent&#39;s methods that are overriden in the child class?","body":"<blockquote>\n<p>I would have thought that to correctly construct a Parent object, its constructor should always be called with its own method definitions?</p>\n</blockquote>\n<p>No.  It is assumed that if you permit a method to be overridden, and choose to override the method, that the overridden behavior is the right one.</p>\n<p>(Methods to prevent this overriding including marking your method final or private.)</p>\n"},{"tags":[],"owner":{"account_id":3878647,"reputation":1476,"user_id":3211872,"display_name":"earandap"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1661642380,"creation_date":1661642380,"answer_id":73515025,"question_id":73514859,"body_markdown":"The method in the parent will never be called by a child or subclass that overrides the method unless you explicitly call it with the super statement. That is because during a method call, which method(parent class or child class) is to be executed is determined by the object type.\r\n\r\nThis process in which a call to the overridden method is resolved at runtime is known as dynamic method dispatch.  \r\n\r\n\r\n    class Child extends Parent {\r\n        Child() {\r\n            System.out.println(&quot;Empty child ctor.&quot;);\r\n        }\r\n        @Override\r\n        void calculate() {\r\n            super.calculate(); // calling parent implementation\r\n            System.out.println(&quot;Child calculating...&quot;);\r\n        }\r\n    }","title":"Why does the call to a parent class constructor not call the parent&#39;s methods that are overriden in the child class?","body":"<p>The method in the parent will never be called by a child or subclass that overrides the method unless you explicitly call it with the super statement. That is because during a method call, which method(parent class or child class) is to be executed is determined by the object type.</p>\n<p>This process in which a call to the overridden method is resolved at runtime is known as dynamic method dispatch.</p>\n<pre><code>class Child extends Parent {\n    Child() {\n        System.out.println(&quot;Empty child ctor.&quot;);\n    }\n    @Override\n    void calculate() {\n        super.calculate(); // calling parent implementation\n        System.out.println(&quot;Child calculating...&quot;);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":24497293,"reputation":538,"user_id":18413363,"display_name":"Gregor Hartl Watters"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":317,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73515025,"answer_count":2,"score":1,"last_activity_date":1661642380,"creation_date":1661640000,"question_id":73514859,"body_markdown":"As shown in the code below, given a superclass ```Parent``` with a method ```calculate()``` that is called in ```Parent```&#39;s constructor, but also overriden in the class ```Child```, why does the implicit call to ```Parent```&#39;s constructor within ```Child```&#39;s constructor not call ```Parent```&#39;s ```calculate()``` instead of ```Child```&#39;s ```calculate()```?\r\n\r\n```\r\nclass Parent {\r\n    Parent() {\r\n        calculate();\r\n        System.out.println(&quot;Empty parent ctor.&quot;);\r\n    }\r\n    void calculate() {\r\n        System.out.println(&quot;Parent calculating...&quot;);\r\n    }\r\n}\r\n\r\nclass Child extends Parent {\r\n    Child() {\r\n        System.out.println(&quot;Empty child ctor.&quot;);\r\n    }\r\n    @Override\r\n    void calculate() {\r\n        System.out.println(&quot;Child calculating...&quot;);\r\n    }\r\n}\r\n\r\npublic class ParentConstructor {\r\n    public static void main(String [] args) {\r\n        Parent child = new Child();\r\n    }\r\n}\r\n\r\n```\r\nOutput:\r\n```\r\nChild calculating...\r\nEmpty parent ctor.\r\nEmpty child ctor.\r\n```\r\n\r\nI would have thought that to correctly construct a ```Parent``` object, its constructor should always be called with its own method definitions?","title":"Why does the call to a parent class constructor not call the parent&#39;s methods that are overriden in the child class?","body":"<p>As shown in the code below, given a superclass <code>Parent</code> with a method <code>calculate()</code> that is called in <code>Parent</code>'s constructor, but also overriden in the class <code>Child</code>, why does the implicit call to <code>Parent</code>'s constructor within <code>Child</code>'s constructor not call <code>Parent</code>'s <code>calculate()</code> instead of <code>Child</code>'s <code>calculate()</code>?</p>\n<pre><code>class Parent {\n    Parent() {\n        calculate();\n        System.out.println(&quot;Empty parent ctor.&quot;);\n    }\n    void calculate() {\n        System.out.println(&quot;Parent calculating...&quot;);\n    }\n}\n\nclass Child extends Parent {\n    Child() {\n        System.out.println(&quot;Empty child ctor.&quot;);\n    }\n    @Override\n    void calculate() {\n        System.out.println(&quot;Child calculating...&quot;);\n    }\n}\n\npublic class ParentConstructor {\n    public static void main(String [] args) {\n        Parent child = new Child();\n    }\n}\n\n</code></pre>\n<p>Output:</p>\n<pre><code>Child calculating...\nEmpty parent ctor.\nEmpty child ctor.\n</code></pre>\n<p>I would have thought that to correctly construct a <code>Parent</code> object, its constructor should always be called with its own method definitions?</p>\n"},{"tags":["java","junit","mockito","java-failsafe"],"comments":[{"owner":{"account_id":12305345,"reputation":450,"user_id":8978587,"display_name":"ShaharT"},"score":0,"creation_date":1653329187,"post_id":72351805,"comment_id":127820738,"body_markdown":"https://stackoverflow.com/questions/11785498/simulate-first-call-fails-second-call-succeeds","body":"<a href=\"https://stackoverflow.com/questions/11785498/simulate-first-call-fails-second-call-succeeds\" title=\"simulate first call fails second call succeeds\">stackoverflow.com/questions/11785498/&hellip;</a>"}],"owner":{"account_id":13440004,"reputation":107,"user_id":9697429,"display_name":"Saurabh Sharma"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":649,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1661642267,"creation_date":1653322882,"question_id":72351805,"body_markdown":"Using Failsafe by jhalterman for the first time ( [GIT](https://github.com/failsafe-lib/failsafe), [Website](https://failsafe.dev/) ) to add a simple asynchronous module to send sms. I am using only Retry and Timeout policy and implementation is working fine\r\n\r\n```\r\nFailsafe.with(timeoutPolicy, retryPolicy)\r\n    .with(getExecutorService())\r\n    .runAsync(() -&gt; sendSMS(msg, mobile));\r\n```\r\n\r\nNow I am struggling to write a unit test case for this.\r\n\r\nHow can I mock a failure to retry or timeout to write tests like `sendSmsOneRetry`, `sendSmsTwoRetry` or `sendSmsTimeout`?\r\n\r\nI have Mockito available too in project. ","title":"Writing Unit Test for Failsafe Retry and Timeout policy","body":"<p>Using Failsafe by jhalterman for the first time ( <a href=\"https://github.com/failsafe-lib/failsafe\" rel=\"nofollow noreferrer\">GIT</a>, <a href=\"https://failsafe.dev/\" rel=\"nofollow noreferrer\">Website</a> ) to add a simple asynchronous module to send sms. I am using only Retry and Timeout policy and implementation is working fine</p>\n<pre><code>Failsafe.with(timeoutPolicy, retryPolicy)\n    .with(getExecutorService())\n    .runAsync(() -&gt; sendSMS(msg, mobile));\n</code></pre>\n<p>Now I am struggling to write a unit test case for this.</p>\n<p>How can I mock a failure to retry or timeout to write tests like <code>sendSmsOneRetry</code>, <code>sendSmsTwoRetry</code> or <code>sendSmsTimeout</code>?</p>\n<p>I have Mockito available too in project.</p>\n"},{"tags":["java","noclassdeffounderror"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1661269719,"post_id":73460427,"comment_id":129729875,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":25629842,"reputation":1,"user_id":19400381,"display_name":"Arvind"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661641899,"creation_date":1661296280,"answer_id":73465860,"question_id":73460427,"body_markdown":"I recreated this issue on my local. It appears like there is some issue with\r\n&gt; com.availity.aries.core:vault:**3.3.0**-SNAPSHOT\r\n\r\nSo, the immediate fix would be to revert to the previous version i.e \r\n&gt; com.availity.aries.core:vault:**3.2.0**-SNAPSHOT\r\n\r\nNavigate to the *devtools* folder on your local machine and locate the file *launcher.gradle* [line 57][1] . Revert it to the previous version as indicated above. Once this is done, execute the command \r\n\r\n\r\n\r\n    ./gradle.sh clean compileJava launcher\r\n\r\n\r\nThe app should run without the error. The concerned team would look into this and get a fix ASAP.\r\n\r\n  [1]: https://git.availity.com/projects/CORE/repos/devtools/browse/launcher.gradle#57","title":"When trying to run Aries2 repo, getting java.lang.NoClassDefFoundError: com/availity/aries/core/queue/QueueStorage error","body":"<p>I recreated this issue on my local. It appears like there is some issue with</p>\n<blockquote>\n<p>com.availity.aries.core:vault:<strong>3.3.0</strong>-SNAPSHOT</p>\n</blockquote>\n<p>So, the immediate fix would be to revert to the previous version i.e</p>\n<blockquote>\n<p>com.availity.aries.core:vault:<strong>3.2.0</strong>-SNAPSHOT</p>\n</blockquote>\n<p>Navigate to the <em>devtools</em> folder on your local machine and locate the file <em>launcher.gradle</em> <a href=\"https://git.availity.com/projects/CORE/repos/devtools/browse/launcher.gradle#57\" rel=\"nofollow noreferrer\">line 57</a> . Revert it to the previous version as indicated above. Once this is done, execute the command</p>\n<pre><code>./gradle.sh clean compileJava launcher\n</code></pre>\n<p>The app should run without the error. The concerned team would look into this and get a fix ASAP.</p>\n"}],"owner":{"account_id":25631409,"reputation":1,"user_id":19401744,"display_name":"user19401744"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661641899,"creation_date":1661264506,"question_id":73460427,"body_markdown":"When attempting to run the pdm-outbound (Aries2 app) repo, we are getting the following error.  This is a new error and was not occurring last week.  I have conformed that devtools is up to date and rebuilt gradle.  Does anyone have any recommendations?\r\n\r\n    java.lang.NoClassDefFoundError: com/availity/aries/core/queue/QueueStorage\r\n    \tat java.lang.Class.getDeclaredConstructors0(Native Method)\r\n    \tat java.lang.Class.privateGetDeclaredConstructors(Class.java:2699)\r\n    \tat java.lang.Class.getConstructor0(Class.java:3103)\r\n    \tat java.lang.Class.newInstance(Class.java:412)\r\n    \tat com.availity.aries.core.plugin.Plugins.init(Plugins.java:207)\r\n    \tat com.availity.aries.Aries.start(Aries.java:259)\r\n    \tat com.availity.aries.Aries.bootstrap(Aries.java:146)\r\n    \tat com.availity.aries.Aries.main(Aries.java:74)\r\n    Caused by: java.lang.ClassNotFoundException: com.availity.aries.core.queue.QueueStorage\r\n    \tat java.net.URLClassLoader.findClass(URLClassLoader.java:387)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:418)\r\n    \tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:351)\r\n    \t... 8 more","title":"When trying to run Aries2 repo, getting java.lang.NoClassDefFoundError: com/availity/aries/core/queue/QueueStorage error","body":"<p>When attempting to run the pdm-outbound (Aries2 app) repo, we are getting the following error.  This is a new error and was not occurring last week.  I have conformed that devtools is up to date and rebuilt gradle.  Does anyone have any recommendations?</p>\n<pre><code>java.lang.NoClassDefFoundError: com/availity/aries/core/queue/QueueStorage\n    at java.lang.Class.getDeclaredConstructors0(Native Method)\n    at java.lang.Class.privateGetDeclaredConstructors(Class.java:2699)\n    at java.lang.Class.getConstructor0(Class.java:3103)\n    at java.lang.Class.newInstance(Class.java:412)\n    at com.availity.aries.core.plugin.Plugins.init(Plugins.java:207)\n    at com.availity.aries.Aries.start(Aries.java:259)\n    at com.availity.aries.Aries.bootstrap(Aries.java:146)\n    at com.availity.aries.Aries.main(Aries.java:74)\nCaused by: java.lang.ClassNotFoundException: com.availity.aries.core.queue.QueueStorage\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:387)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:418)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:351)\n    ... 8 more\n</code></pre>\n"},{"tags":["java","swing","jframe"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":3,"creation_date":1660846468,"post_id":73407200,"comment_id":129636124,"body_markdown":"**Don&#39;t create a new JTextArea** - your update method creates a new JTextArea but you never add it to the frame. Instead pass the text area as a parameter to your method. Actually you really should start over as your class is poorly structured. Take a look at the example from the Swing tutorial on [How to Use a Text Area](https://docs.oracle.com/javase/tutorial/uiswing/components/textarea.html). It show how to keep appending text to a text area.","body":"<b>Don&#39;t create a new JTextArea</b> - your update method creates a new JTextArea but you never add it to the frame. Instead pass the text area as a parameter to your method. Actually you really should start over as your class is poorly structured. Take a look at the example from the Swing tutorial on <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/textarea.html\" rel=\"nofollow noreferrer\">How to Use a Text Area</a>. It show how to keep appending text to a text area."}],"answers":[{"tags":[],"owner":{"account_id":17629418,"reputation":111,"user_id":12793815,"display_name":"nuclear_party"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661004720,"creation_date":1661004720,"answer_id":73427394,"question_id":73407200,"body_markdown":"You are referencing the wrong field. Instead of creating new object:\r\n\r\n    JTextArea textArea = new JTextArea(updBoard.getHeight(),updBoard.getWidth());  //remove this\r\n\r\nsimply do:\r\n\r\n    textArea.setText(stringBoard);\r\n\r\n","title":"Updating text in JFrame","body":"<p>You are referencing the wrong field. Instead of creating new object:</p>\n<pre><code>JTextArea textArea = new JTextArea(updBoard.getHeight(),updBoard.getWidth());  //remove this\n</code></pre>\n<p>simply do:</p>\n<pre><code>textArea.setText(stringBoard);\n</code></pre>\n"}],"owner":{"account_id":23304976,"reputation":1,"user_id":17385070,"display_name":"Lackii"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661641640,"creation_date":1660843634,"question_id":73407200,"body_markdown":"I am trying to update the text in my JFrame using the `show()` method.\r\nThe only thing is it isn&#39;t working. The text is supposed to be changed because I can print it out, but the frame doesn&#39;t change the text unless I make a new frame. Does anyone know what&#39;s up?\r\n```\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\n    \r\npublic class TetrisViewer {\r\n    private Board gameBoard;\r\n    private BoardToTextConverter textConverter;\r\n\r\n    public TetrisViewer(Board board) {\r\n        this.gameBoard = board;\r\n        this.textConverter = new BoardToTextConverter();\r\n    }\r\n\r\n    public void show() {\r\n        JFrame frame = new JFrame(&quot;Tetris&quot;);\r\n        JTextArea textArea = new JTextArea(gameBoard.getHeight(),gameBoard.getWidth());\r\n        String stringBoard = textConverter.convertToText(gameBoard);\r\n        textArea.setText(stringBoard);\r\n        frame.setLayout(new BorderLayout());\r\n        frame.add(textArea,BorderLayout.CENTER);\r\n        textArea.setFont(new Font(&quot;Monospaced&quot;,Font.PLAIN, 20));\r\n        frame.pack();\r\n        frame.setVisible(true);\r\n    }\r\n\r\n    public void update(Board updBoard) {\r\n         JTextArea textArea = new JTextArea(updBoard.getHeight(),updBoard.getWidth());\r\n         String stringBoard = textConverter.convertToText(updBoard);\r\n         textArea.setText(stringBoard);\r\n    }\r\n}\r\n```","title":"Updating text in JFrame","body":"<p>I am trying to update the text in my JFrame using the <code>show()</code> method.\nThe only thing is it isn't working. The text is supposed to be changed because I can print it out, but the frame doesn't change the text unless I make a new frame. Does anyone know what's up?</p>\n<pre><code>import javax.swing.*;\nimport java.awt.*;\n    \npublic class TetrisViewer {\n    private Board gameBoard;\n    private BoardToTextConverter textConverter;\n\n    public TetrisViewer(Board board) {\n        this.gameBoard = board;\n        this.textConverter = new BoardToTextConverter();\n    }\n\n    public void show() {\n        JFrame frame = new JFrame(&quot;Tetris&quot;);\n        JTextArea textArea = new JTextArea(gameBoard.getHeight(),gameBoard.getWidth());\n        String stringBoard = textConverter.convertToText(gameBoard);\n        textArea.setText(stringBoard);\n        frame.setLayout(new BorderLayout());\n        frame.add(textArea,BorderLayout.CENTER);\n        textArea.setFont(new Font(&quot;Monospaced&quot;,Font.PLAIN, 20));\n        frame.pack();\n        frame.setVisible(true);\n    }\n\n    public void update(Board updBoard) {\n         JTextArea textArea = new JTextArea(updBoard.getHeight(),updBoard.getWidth());\n         String stringBoard = textConverter.convertToText(updBoard);\n         textArea.setText(stringBoard);\n    }\n}\n</code></pre>\n"},{"tags":["java","java-stream","futuretask"],"comments":[{"owner":{"account_id":23020603,"reputation":341,"user_id":17141716,"display_name":"peterz"},"score":1,"creation_date":1660910010,"post_id":73415044,"comment_id":129650953,"body_markdown":"One inefficiency I can see is that item codes are processed one by one, so it must wait for `calculateItemPrice` on item 0, then on item 1 etc. So performance might benefit from making the stream parallel -- but you&#39;ll need to make sure `calculateItemPrice` is thread safe","body":"One inefficiency I can see is that item codes are processed one by one, so it must wait for <code>calculateItemPrice</code> on item 0, then on item 1 etc. So performance might benefit from making the stream parallel -- but you&#39;ll need to make sure <code>calculateItemPrice</code> is thread safe"},{"owner":{"account_id":17827364,"reputation":1861,"user_id":12948262,"display_name":"wxker"},"score":0,"creation_date":1661644735,"post_id":73415044,"comment_id":129821196,"body_markdown":"`future.get()` is a blocking call. If you don&#39;t want to block at all, it might be better to omit the second `map` function call and just manage a list of futures i.e. `List&lt;Future&lt;ItemPriceVO&gt;&gt;`","body":"<code>future.get()</code> is a blocking call. If you don&#39;t want to block at all, it might be better to omit the second <code>map</code> function call and just manage a list of futures i.e. <code>List&lt;Future&lt;ItemPriceVO&gt;&gt;</code>"}],"owner":{"account_id":9009921,"reputation":11,"user_id":6715010,"display_name":""},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1661641504,"creation_date":1660903166,"question_id":73415044,"body_markdown":"I&#39;m using Java-Streams to run `FutureTask`s and get the results.\r\n\r\nIt generally runs ok. But in recent days, if the API calls are frequent, the system blocks.\r\n\r\nWhat might be a reason of this problem?\r\n\r\n*Code:*\r\n```\r\nprivate List&lt;ItemPriceVO&gt; calculateItemPrices(PricingRequest request) {\r\n    return request.getItemCodes()\r\n        .stream()\r\n        .map(itemCode -&gt; executorService.submit(new TracerCallable&lt;ItemPriceVO&gt;() {\r\n                @Override public ItemPriceVO doCall() throws Exception {\r\n                    return calculateItemPrice(itemCode, request);\r\n                }\r\n            })\r\n        ).map(future -&gt; {\r\n            try {\r\n                return future.get();\r\n            } catch (InterruptedException | ExecutionException e) {\r\n                logger.error(&quot;calculate module price error, request:&quot; + request, e);\r\n                return null;\r\n            }\r\n        })\r\n        .filter(Objects::nonNull)\r\n        .collect(Collectors.toList());\r\n}\r\n```\r\n\r\n*Stack-trace:*\r\n```\r\n&quot;http-nio-7001-exec-250&quot; #4853 daemon prio=5 os_prio=0 tid=0x00002afcc00f1800 nid=0x7a6a waiting on condition [0x00002afdb7c36000]\r\n   java.lang.Thread.State: WAITING (parking)\r\n  at sun.misc.Unsafe.park0(Native Method)\r\n  - parking to wait for  &lt;0x00000006e876dbf8&gt; (a java.util.concurrent.FutureTask)\r\n  at sun.misc.Unsafe.park(Unsafe.java:1025)\r\n  at java.util.concurrent.locks.LockSupport.park(LockSupport.java:176)\r\n  at java.util.concurrent.FutureTask.awaitDone(FutureTask.java:429)\r\n  at java.util.concurrent.FutureTask.get(FutureTask.java:191)\r\n  at com.alibaba.ons.open.web.channelbizfrt.pricing.PricingBizService.lambda$calculateItemPrices$56(PricingBizService.java:218)\r\n  at com.alibaba.ons.open.web.channelbizfrt.pricing.PricingBizService$$Lambda$171/304812073.apply(Unknown Source)\r\n  at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\r\n  at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\r\n  at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\r\n  at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481)\r\n  at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471)\r\n  at java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\r\n  at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n  at java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:499)\r\n  at com.alibaba.ons.open.web.channelbizfrt.pricing.PricingBizService.calculateItemPrices(PricingBizService.java:225)\r\n  at com.alibaba.ons.open.web.channelbizfrt.pricing.PricingBizService.calculate(PricingBizService.java:124)\r\n  at com.alibaba.ons.open.web.channelbizfrt.pricing.PricingBizService$$FastClassBySpringCGLIB$$7f5d865.invoke(&lt;generated&gt;)\r\n```","title":"Running Async FeatureTask in Java stream","body":"<p>I'm using Java-Streams to run <code>FutureTask</code>s and get the results.</p>\n<p>It generally runs ok. But in recent days, if the API calls are frequent, the system blocks.</p>\n<p>What might be a reason of this problem?</p>\n<p><em>Code:</em></p>\n<pre><code>private List&lt;ItemPriceVO&gt; calculateItemPrices(PricingRequest request) {\n    return request.getItemCodes()\n        .stream()\n        .map(itemCode -&gt; executorService.submit(new TracerCallable&lt;ItemPriceVO&gt;() {\n                @Override public ItemPriceVO doCall() throws Exception {\n                    return calculateItemPrice(itemCode, request);\n                }\n            })\n        ).map(future -&gt; {\n            try {\n                return future.get();\n            } catch (InterruptedException | ExecutionException e) {\n                logger.error(&quot;calculate module price error, request:&quot; + request, e);\n                return null;\n            }\n        })\n        .filter(Objects::nonNull)\n        .collect(Collectors.toList());\n}\n</code></pre>\n<p><em>Stack-trace:</em></p>\n<pre><code>&quot;http-nio-7001-exec-250&quot; #4853 daemon prio=5 os_prio=0 tid=0x00002afcc00f1800 nid=0x7a6a waiting on condition [0x00002afdb7c36000]\n   java.lang.Thread.State: WAITING (parking)\n  at sun.misc.Unsafe.park0(Native Method)\n  - parking to wait for  &lt;0x00000006e876dbf8&gt; (a java.util.concurrent.FutureTask)\n  at sun.misc.Unsafe.park(Unsafe.java:1025)\n  at java.util.concurrent.locks.LockSupport.park(LockSupport.java:176)\n  at java.util.concurrent.FutureTask.awaitDone(FutureTask.java:429)\n  at java.util.concurrent.FutureTask.get(FutureTask.java:191)\n  at com.alibaba.ons.open.web.channelbizfrt.pricing.PricingBizService.lambda$calculateItemPrices$56(PricingBizService.java:218)\n  at com.alibaba.ons.open.web.channelbizfrt.pricing.PricingBizService$$Lambda$171/304812073.apply(Unknown Source)\n  at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n  at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n  at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n  at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481)\n  at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471)\n  at java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n  at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n  at java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:499)\n  at com.alibaba.ons.open.web.channelbizfrt.pricing.PricingBizService.calculateItemPrices(PricingBizService.java:225)\n  at com.alibaba.ons.open.web.channelbizfrt.pricing.PricingBizService.calculate(PricingBizService.java:124)\n  at com.alibaba.ons.open.web.channelbizfrt.pricing.PricingBizService$$FastClassBySpringCGLIB$$7f5d865.invoke(&lt;generated&gt;)\n</code></pre>\n"},{"tags":["java","junit","mockito","mapstruct"],"comments":[{"owner":{"account_id":16076125,"reputation":162,"user_id":11603305,"display_name":"Nora Na"},"score":0,"creation_date":1661623694,"post_id":60986556,"comment_id":129818061,"body_markdown":"The link is unrelated to the question.","body":"The link is unrelated to the question."}],"answers":[{"tags":[],"owner":{"account_id":1402854,"reputation":3712,"user_id":1331297,"accept_rate":82,"display_name":"Sjaak"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1586005455,"creation_date":1586005455,"answer_id":61028523,"question_id":60986556,"body_markdown":"My strategy would be to \r\n\r\n1. mock the mapper as well in your business logic and test it as a separate component. MapStruct can generate spring annotations. Just use `@Mapper( componentModel = &quot;spring&quot; )` to let your DI framework inject the mapper.\r\n\r\nYour class would look like: \r\n\r\n```java\r\n@Service public class ServiceRisqueImpl implements ServiceCRUD {\r\n\r\n@Autowired\r\nprivate RisqueRepository risqueRepo;\r\n\r\n@Autowired\r\nprivate RisqueBOConvertisseur risqueConv;\r\n\r\n//...\r\n\r\n```\r\n\r\nand your test for `ServiceRisqueImpl`\r\n\r\n```java\r\n@Mock\r\nprivate RisqueRepository risqueRepo;\r\n\r\n@Mock\r\nprivate DossierInternetResource dossierInternet;\r\n\r\n@Mock\r\nprivate RisqueBOConvertisseur risqueConv;\r\n\r\n@InjectMocks\r\nServiceRisqueImpl serviceRisque;\r\n```\r\n\r\n2. You&#39;ll need to mock the mapper as well now, but in doing so, you have far more fine-grained control over your business logic that calls the mapper and uses its result. After all, you can verify the call and mock the result however you like.\r\n\r\n3. And you need to add a separate test for your mapper and test the mapping logic. I usually to roundtrip mapping so: `in -&gt; map -&gt; reverseMap -&gt; out` and use assertj property assertion to see if `in` is the same as `out`.","title":"How to tests and mock mapstruct converter?","body":"<p>My strategy would be to </p>\n\n<ol>\n<li>mock the mapper as well in your business logic and test it as a separate component. MapStruct can generate spring annotations. Just use <code>@Mapper( componentModel = \"spring\" )</code> to let your DI framework inject the mapper.</li>\n</ol>\n\n<p>Your class would look like: </p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Service public class ServiceRisqueImpl implements ServiceCRUD {\n\n@Autowired\nprivate RisqueRepository risqueRepo;\n\n@Autowired\nprivate RisqueBOConvertisseur risqueConv;\n\n//...\n\n</code></pre>\n\n<p>and your test for <code>ServiceRisqueImpl</code></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Mock\nprivate RisqueRepository risqueRepo;\n\n@Mock\nprivate DossierInternetResource dossierInternet;\n\n@Mock\nprivate RisqueBOConvertisseur risqueConv;\n\n@InjectMocks\nServiceRisqueImpl serviceRisque;\n</code></pre>\n\n<ol start=\"2\">\n<li><p>You'll need to mock the mapper as well now, but in doing so, you have far more fine-grained control over your business logic that calls the mapper and uses its result. After all, you can verify the call and mock the result however you like.</p></li>\n<li><p>And you need to add a separate test for your mapper and test the mapping logic. I usually to roundtrip mapping so: <code>in -&gt; map -&gt; reverseMap -&gt; out</code> and use assertj property assertion to see if <code>in</code> is the same as <code>out</code>.</p></li>\n</ol>\n"}],"owner":{"account_id":11320426,"reputation":403,"user_id":8300911,"display_name":"J&#233;r&#233;my"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1082,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":61028523,"answer_count":1,"score":0,"last_activity_date":1661640618,"creation_date":1585813464,"question_id":60986556,"body_markdown":"I&#39;m using MapStruct framework on my java Gradle project, and it works perfectly but I just want to test :\r\n\r\n - MapStruct generated sources (converter)\r\n - service class (calls MapStruct&#39;s converter)\r\n\r\nI have tried to use [another topic to do this][1] but it is not working for me.\r\n\r\nThis is my MapStruct interface :\r\n\r\n   \r\n    @Mapper(unmappedTargetPolicy = ReportingPolicy.IGNORE)\r\n    public interface RisqueBOConvertisseur extends BOConvertisseur&lt;RisqueARS, RisqueBO&gt; {\r\n        @Override\r\n        RisqueBO convertirDaoVersBo(RisqueARS dao);\r\n    \r\n        @Override\r\n        RisqueARS convertirBoVersDao(RisqueBO bo);\r\n    }\r\n\r\nThis is my service class :\r\n```\r\n@Service\r\npublic class ServiceRisqueImpl implements ServiceCRUD&lt;RisqueBO&gt; {\r\n\r\n    @Autowired\r\n    private RisqueRepository risqueRepo;\r\n\r\n    private RisqueBOConvertisseur risqueConv = Mappers.getMapper(RisqueBOConvertisseur.class);\r\n\r\n    private final String nomObjet = &quot;RisqueARS&quot;;\r\n\r\n    public void setRisqueConv(RisqueBOConvertisseur risqueConv) {\r\n        this.risqueConv = risqueConv;\r\n    }\r\n\r\n    @Autowired\r\n    private DossierInternetResource dossierInternet;\r\n\r\n    @Override\r\n    public RisqueBO recupererParId(String id) {\r\n        // R&#233;cup&#232;re le bloc de la base de donn&#233;es\r\n        final RisqueARS risqueDAO = risqueRepo.findOne(id);\r\n\r\n        // Si aucun r&#233;sultat -&gt; on d&#233;clenche une exception\r\n        if (null == risqueDAO) {\r\n            // D&#233;clenche une exception\r\n            throw new ObjectNotFoundException(construireMessageErreur(this.nomObjet, &quot;L&#39;objet risque correspondant &#224; l&#39;id %s, n&#39;existe pas.&quot;, id));\r\n        }\r\n\r\n        return risqueConv.convertirDaoVersBo(risqueDAO);\r\n    }\r\n}\r\n```\r\nWhen I&#39;m trying to test my service :\r\n```\r\n@RunWith(MockitoJUnitRunner.class)\r\n@SpringBootTest(classes = {ServiceRisqueImpl.class, RisqueBOConvertisseurImpl.class, RisqueBOConvertisseur.class})\r\npublic class ServiceRisqueImplTest {\r\n\r\n    @Mock\r\n    private RisqueRepository risqueRepo;\r\n\r\n    @InjectMocks\r\n    ServiceRisqueImpl serviceRisque;\r\n\r\n    @Mock\r\n    private DossierInternetResource dossierInternet;\r\n\r\n    @Mock\r\n    private RisqueBOConvertisseur risqueConv;\r\n\r\n    @Before\r\n    public void initMocks() {\r\n        MockitoAnnotations.initMocks(this);\r\n        serviceRisque.setRisqueConv(risqueConv);\r\n    }\r\n\r\n    @Test(expected = ObjectNotFoundException.class)\r\n    public void testRecupererParIdQuandIdInconnu() {\r\n        // INITIALISATION\r\n        // Mock la m&#233;thode DAO de retour des donn&#233;es en base\r\n        when(risqueRepo.findOne(anyString())).thenReturn(null);\r\n\r\n        // PROCESSUS\r\n        serviceRisque.recupererParId(&quot;5&quot;);\r\n    }\r\n```\r\nJunit returns:\r\n```\r\nHowever the constructor or the initialization block threw an exception :\r\njava.lang.ClassNotFoundException: Cannot find implementation \r\nfor ***.convertisseur.RisqueBOConvertisseur\r\n```\r\nI have the same error with my converter test :\r\n```\r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest(classes = {RisqueBOConvertisseur.class, RisqueBOConvertisseurImpl.class})\r\n    public class RisqueBOConvertisseurTest {\r\n    \r\n        @Autowired\r\n        private RisqueBOConvertisseur configurationMapper;\r\n    \r\n        private final RisqueBOConvertisseur risqueConv = Mappers.getMapper(RisqueBOConvertisseur.class);\r\n    \r\n        @Test\r\n        public void test() {\r\n            // INITIALISATION\r\n            final RisqueBO risqueBO = new RisqueBO(&quot;950095f7-62e7-42e5-a5ae-0d7292e7ad00&quot;, &quot;D1&quot;, ProfilEpargnant.PROFIL_EPARGNANT_SECURISE,\r\n                    ComportementFaceRisques.REACTION_BAISSE_MARCHE_PANIQUE);\r\n    \r\n            // PROCESSUS\r\n            // final RisqueARS risqueARS =\r\n            // RisqueBOConvertisseur.INSTANCE.convertirBoVersDao(risqueBO);\r\n    \r\n            final RisqueARS risqueARS = configurationMapper.convertirBoVersDao(risqueBO);\r\n    \r\n            // VERIFICATIONS\r\n            assertEquals(risqueBO.getIdRisque(), risqueARS.getIdRisque());\r\n            assertEquals(risqueBO.getIdDossierInternet(), risqueARS.getIdDossierInternet());\r\n            assertEquals(risqueBO.getCodeComportementRisque(), risqueARS.getCodeComportementRisque());\r\n            assertEquals(risqueBO.getCodeProfilEpargnant(), risqueARS.getCodeProfilEpargnant());\r\n        }\r\n    \r\n    }\r\n```\r\nHow can I test my generated sources converter with MapStruct ?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/927358/how-do-i-undo-the-most-recent-local-commits-in-git","title":"How to tests and mock mapstruct converter?","body":"<p>I'm using MapStruct framework on my java Gradle project, and it works perfectly but I just want to test :</p>\n<ul>\n<li>MapStruct generated sources (converter)</li>\n<li>service class (calls MapStruct's converter)</li>\n</ul>\n<p>I have tried to use <a href=\"https://stackoverflow.com/questions/927358/how-do-i-undo-the-most-recent-local-commits-in-git\">another topic to do this</a> but it is not working for me.</p>\n<p>This is my MapStruct interface :</p>\n<pre><code>@Mapper(unmappedTargetPolicy = ReportingPolicy.IGNORE)\npublic interface RisqueBOConvertisseur extends BOConvertisseur&lt;RisqueARS, RisqueBO&gt; {\n    @Override\n    RisqueBO convertirDaoVersBo(RisqueARS dao);\n\n    @Override\n    RisqueARS convertirBoVersDao(RisqueBO bo);\n}\n</code></pre>\n<p>This is my service class :</p>\n<pre><code>@Service\npublic class ServiceRisqueImpl implements ServiceCRUD&lt;RisqueBO&gt; {\n\n    @Autowired\n    private RisqueRepository risqueRepo;\n\n    private RisqueBOConvertisseur risqueConv = Mappers.getMapper(RisqueBOConvertisseur.class);\n\n    private final String nomObjet = &quot;RisqueARS&quot;;\n\n    public void setRisqueConv(RisqueBOConvertisseur risqueConv) {\n        this.risqueConv = risqueConv;\n    }\n\n    @Autowired\n    private DossierInternetResource dossierInternet;\n\n    @Override\n    public RisqueBO recupererParId(String id) {\n        // Rcupre le bloc de la base de donnes\n        final RisqueARS risqueDAO = risqueRepo.findOne(id);\n\n        // Si aucun rsultat -&gt; on dclenche une exception\n        if (null == risqueDAO) {\n            // Dclenche une exception\n            throw new ObjectNotFoundException(construireMessageErreur(this.nomObjet, &quot;L'objet risque correspondant  l'id %s, n'existe pas.&quot;, id));\n        }\n\n        return risqueConv.convertirDaoVersBo(risqueDAO);\n    }\n}\n</code></pre>\n<p>When I'm trying to test my service :</p>\n<pre><code>@RunWith(MockitoJUnitRunner.class)\n@SpringBootTest(classes = {ServiceRisqueImpl.class, RisqueBOConvertisseurImpl.class, RisqueBOConvertisseur.class})\npublic class ServiceRisqueImplTest {\n\n    @Mock\n    private RisqueRepository risqueRepo;\n\n    @InjectMocks\n    ServiceRisqueImpl serviceRisque;\n\n    @Mock\n    private DossierInternetResource dossierInternet;\n\n    @Mock\n    private RisqueBOConvertisseur risqueConv;\n\n    @Before\n    public void initMocks() {\n        MockitoAnnotations.initMocks(this);\n        serviceRisque.setRisqueConv(risqueConv);\n    }\n\n    @Test(expected = ObjectNotFoundException.class)\n    public void testRecupererParIdQuandIdInconnu() {\n        // INITIALISATION\n        // Mock la mthode DAO de retour des donnes en base\n        when(risqueRepo.findOne(anyString())).thenReturn(null);\n\n        // PROCESSUS\n        serviceRisque.recupererParId(&quot;5&quot;);\n    }\n</code></pre>\n<p>Junit returns:</p>\n<pre><code>However the constructor or the initialization block threw an exception :\njava.lang.ClassNotFoundException: Cannot find implementation \nfor ***.convertisseur.RisqueBOConvertisseur\n</code></pre>\n<p>I have the same error with my converter test :</p>\n<pre><code>    @RunWith(SpringRunner.class)\n    @SpringBootTest(classes = {RisqueBOConvertisseur.class, RisqueBOConvertisseurImpl.class})\n    public class RisqueBOConvertisseurTest {\n    \n        @Autowired\n        private RisqueBOConvertisseur configurationMapper;\n    \n        private final RisqueBOConvertisseur risqueConv = Mappers.getMapper(RisqueBOConvertisseur.class);\n    \n        @Test\n        public void test() {\n            // INITIALISATION\n            final RisqueBO risqueBO = new RisqueBO(&quot;950095f7-62e7-42e5-a5ae-0d7292e7ad00&quot;, &quot;D1&quot;, ProfilEpargnant.PROFIL_EPARGNANT_SECURISE,\n                    ComportementFaceRisques.REACTION_BAISSE_MARCHE_PANIQUE);\n    \n            // PROCESSUS\n            // final RisqueARS risqueARS =\n            // RisqueBOConvertisseur.INSTANCE.convertirBoVersDao(risqueBO);\n    \n            final RisqueARS risqueARS = configurationMapper.convertirBoVersDao(risqueBO);\n    \n            // VERIFICATIONS\n            assertEquals(risqueBO.getIdRisque(), risqueARS.getIdRisque());\n            assertEquals(risqueBO.getIdDossierInternet(), risqueARS.getIdDossierInternet());\n            assertEquals(risqueBO.getCodeComportementRisque(), risqueARS.getCodeComportementRisque());\n            assertEquals(risqueBO.getCodeProfilEpargnant(), risqueARS.getCodeProfilEpargnant());\n        }\n    \n    }\n</code></pre>\n<p>How can I test my generated sources converter with MapStruct ?</p>\n"},{"tags":["java","regex"],"answers":[{"tags":[],"owner":{"account_id":262968,"reputation":767120,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1623940657,"creation_date":1411120214,"answer_id":25931094,"question_id":25931053,"body_markdown":"You may use this regex in Java:\r\n\r\n    ^\\d+(?:-\\d+)?(?:,\\h*\\d+(?:-\\d+)?)*$\r\n\r\n[RegEx Demo][1]\r\n\r\n\r\n  [1]: https://regex101.com/r/lS8vP9/37\r\n\r\n**RegEx Details:**\r\n\r\n- `^`: Start\r\n- `\\d+(?:-\\d+)?`: Match 1+ digits *optionally* followed by hyphen and 1+ digits\r\n- `(?:`: Start non-capture group\r\n  - `,`: Match a comma\r\n  - `\\h*`: Match 0 or more whitespaces\r\n  - `\\d+(?:-\\d+)?`: Match 1+ digits *optionally* followed by hyphen and 1+ digits\r\n- `)*`: End non-capture group. `*` repeats this group 0 or more times\r\n- `$`: End","title":"Validate page numbers/ranges for printing","body":"<p>You may use this regex in Java:</p>\n<pre><code>^\\d+(?:-\\d+)?(?:,\\h*\\d+(?:-\\d+)?)*$\n</code></pre>\n<p><a href=\"https://regex101.com/r/lS8vP9/37\" rel=\"nofollow noreferrer\">RegEx Demo</a></p>\n<p><strong>RegEx Details:</strong></p>\n<ul>\n<li><code>^</code>: Start</li>\n<li><code>\\d+(?:-\\d+)?</code>: Match 1+ digits <em>optionally</em> followed by hyphen and 1+ digits</li>\n<li><code>(?:</code>: Start non-capture group\n<ul>\n<li><code>,</code>: Match a comma</li>\n<li><code>\\h*</code>: Match 0 or more whitespaces</li>\n<li><code>\\d+(?:-\\d+)?</code>: Match 1+ digits <em>optionally</em> followed by hyphen and 1+ digits</li>\n</ul>\n</li>\n<li><code>)*</code>: End non-capture group. <code>*</code> repeats this group 0 or more times</li>\n<li><code>$</code>: End</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1494484,"reputation":56249,"user_id":1400768,"display_name":"nhahtdh"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1411121557,"creation_date":1411120781,"answer_id":25931271,"question_id":25931053,"body_markdown":"The following regex will validate that it is a comma-separated list of either positive natural number or range of number (which consist of 2 positive natural numbers separated by `-`):\r\n\r\n    ^\\d+(-\\d+)?(?:,\\d+(?:-\\d+)?)*+$\r\n\r\nIn string literal:\r\n\r\n    &quot;^\\\\d+(-\\\\d+)?(?:,\\\\d+(?:-\\\\d+)?)*+$&quot;\r\n\r\nIf you are wondering about the `*+`, it is the *possessive* version of the usual 0-or-more quantifier `*`. Basically, it reduces backtracking. This syntax is available in Java and PCRE, but for languages without support, drop the `+` in `*+`.","title":"Validate page numbers/ranges for printing","body":"<p>The following regex will validate that it is a comma-separated list of either positive natural number or range of number (which consist of 2 positive natural numbers separated by <code>-</code>):</p>\n\n<pre><code>^\\d+(-\\d+)?(?:,\\d+(?:-\\d+)?)*+$\n</code></pre>\n\n<p>In string literal:</p>\n\n<pre><code>\"^\\\\d+(-\\\\d+)?(?:,\\\\d+(?:-\\\\d+)?)*+$\"\n</code></pre>\n\n<p>If you are wondering about the <code>*+</code>, it is the <em>possessive</em> version of the usual 0-or-more quantifier <code>*</code>. Basically, it reduces backtracking. This syntax is available in Java and PCRE, but for languages without support, drop the <code>+</code> in <code>*+</code>.</p>\n"},{"tags":[],"owner":{"account_id":2542391,"reputation":71,"user_id":2207918,"display_name":"Olav Holten"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1661632717,"creation_date":1518262443,"answer_id":48720298,"question_id":25931053,"body_markdown":"Here&#39;s a class from my library that takes an argument like &quot;1,2,3-6,4-5&quot; and outputs a list of distinct integers [1,2,3,4,5,6].\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    package se.imagick.scrap;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    import java.util.stream.Collectors;\r\n    \r\n    public class RangeParser {\r\n    \r\n        public static void main(String[] args) {\r\n            String ranges = &quot;1,2,3-6,4-5&quot;;\r\n            List&lt;Integer&gt; rangeList = getDistinctNumbers(ranges);\r\n            System.out.println(rangeList);\r\n        }\r\n    \r\n        public static List&lt;Integer&gt; getDistinctNumbers(String ranges) {\r\n    \r\n            return Arrays.stream(ranges.split(&quot;,&quot;))\r\n                    .map(s -&gt; s.replace(&quot; &quot;, &quot;&quot;))\r\n                    .map(Range::new)\r\n                    .flatMap(range -&gt; range.render().stream())\r\n                    .distinct()\r\n                    .sorted()\r\n                    .collect(Collectors.toList());\r\n        }\r\n    \r\n        private static class Range {\r\n            private int start;\r\n            private int stop;\r\n    \r\n            public Range(String rangeStr) {\r\n                String[] rangeArray = rangeStr.split(&quot;-&quot;);\r\n                int length = rangeArray.length;\r\n    \r\n                if (length &lt; 1 || length &gt; 2) {\r\n                    throw new IllegalArgumentException(&quot;Wrong number of arguments in a Range: &quot; + length);\r\n                }\r\n    \r\n                start = Integer.parseInt(rangeArray[0]);\r\n                stop = (length == 1) ? start : Integer.parseInt(rangeArray[1]);\r\n    \r\n                if (stop &lt; start) {\r\n                    throw new IllegalArgumentException(&quot;Stop before start!&quot;);\r\n                }\r\n            }\r\n    \r\n            public List&lt;Integer&gt; render() {\r\n                List&lt;Integer&gt; pageList = new ArrayList&lt;&gt;(stop - start + 1);\r\n                for (Integer i = start; i &lt; stop + 1; i++) {\r\n                    pageList.add(i);\r\n                }\r\n    \r\n                return pageList;\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Validate page numbers/ranges for printing","body":"<p>Here's a class from my library that takes an argument like &quot;1,2,3-6,4-5&quot; and outputs a list of distinct integers [1,2,3,4,5,6].</p>\n<pre class=\"lang-java prettyprint-override\"><code>package se.imagick.scrap;\n\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.List;\nimport java.util.stream.Collectors;\n\npublic class RangeParser {\n\n    public static void main(String[] args) {\n        String ranges = &quot;1,2,3-6,4-5&quot;;\n        List&lt;Integer&gt; rangeList = getDistinctNumbers(ranges);\n        System.out.println(rangeList);\n    }\n\n    public static List&lt;Integer&gt; getDistinctNumbers(String ranges) {\n\n        return Arrays.stream(ranges.split(&quot;,&quot;))\n                .map(s -&gt; s.replace(&quot; &quot;, &quot;&quot;))\n                .map(Range::new)\n                .flatMap(range -&gt; range.render().stream())\n                .distinct()\n                .sorted()\n                .collect(Collectors.toList());\n    }\n\n    private static class Range {\n        private int start;\n        private int stop;\n\n        public Range(String rangeStr) {\n            String[] rangeArray = rangeStr.split(&quot;-&quot;);\n            int length = rangeArray.length;\n\n            if (length &lt; 1 || length &gt; 2) {\n                throw new IllegalArgumentException(&quot;Wrong number of arguments in a Range: &quot; + length);\n            }\n\n            start = Integer.parseInt(rangeArray[0]);\n            stop = (length == 1) ? start : Integer.parseInt(rangeArray[1]);\n\n            if (stop &lt; start) {\n                throw new IllegalArgumentException(&quot;Stop before start!&quot;);\n            }\n        }\n\n        public List&lt;Integer&gt; render() {\n            List&lt;Integer&gt; pageList = new ArrayList&lt;&gt;(stop - start + 1);\n            for (Integer i = start; i &lt; stop + 1; i++) {\n                pageList.add(i);\n            }\n\n            return pageList;\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9813972,"reputation":1,"user_id":7676700,"display_name":"Iulian Manole"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1532179135,"creation_date":1532179135,"answer_id":51456480,"question_id":25931053,"body_markdown":"to avoid ***char*** imput erros, just place before &quot;List&quot;:\r\n\r\n    ranges = ranges.replaceAll(&quot;[a-zA-Z.]&quot;, &quot;&quot;);\r\n    List&lt;Integer&gt;...\r\n","title":"Validate page numbers/ranges for printing","body":"<p>to avoid <strong><em>char</em></strong> imput erros, just place before \"List\":</p>\n\n<pre><code>ranges = ranges.replaceAll(\"[a-zA-Z.]\", \"\");\nList&lt;Integer&gt;...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":943530,"reputation":583,"user_id":971221,"accept_rate":40,"display_name":"Nicolas400"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1602875673,"creation_date":1602875673,"answer_id":64395108,"question_id":25931053,"body_markdown":"Wow!\r\nmy first Regex!\r\n\r\nI think this allow spaces before digits...\r\n\r\n^\\s?\\d+(-\\d+)?(?:,\\s?\\d+(?:-\\d+)?)*$\r\n\r\nRegards!\r\n","title":"Validate page numbers/ranges for printing","body":"<p>Wow!\nmy first Regex!</p>\n<p>I think this allow spaces before digits...</p>\n<p>^\\s?\\d+(-\\d+)?(?:,\\s?\\d+(?:-\\d+)?)*$</p>\n<p>Regards!</p>\n"},{"tags":[],"owner":{"account_id":18368766,"reputation":1,"user_id":13379262,"display_name":"Guirmahroc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634725032,"creation_date":1634722198,"answer_id":69643534,"question_id":25931053,"body_markdown":"\r\nThis solution allowed only range starting at 1 not 0.\r\n\r\nTest it here\r\n[https://regex101.com/r/3dDGLv/1][1]\r\n\r\n    ^[1-9][0-9]*(?:-\\d+)?(?:,\\h*[1-9][0-9]*(?:-\\d+)?)*$\r\n\r\n\r\nFor PHP or javascript use :\r\n\r\n    /^[1-9][0-9]*(?:-\\d+)?(?:,\\s*[1-9][0-9]*(?:-\\d+)?)*$/\r\n\r\n\r\n  [1]: https://regex101.com/r/3dDGLv/1","title":"Validate page numbers/ranges for printing","body":"<p>This solution allowed only range starting at 1 not 0.</p>\n<p>Test it here\n<a href=\"https://regex101.com/r/3dDGLv/1\" rel=\"nofollow noreferrer\">https://regex101.com/r/3dDGLv/1</a></p>\n<pre><code>^[1-9][0-9]*(?:-\\d+)?(?:,\\h*[1-9][0-9]*(?:-\\d+)?)*$\n</code></pre>\n<p>For PHP or javascript use :</p>\n<pre><code>/^[1-9][0-9]*(?:-\\d+)?(?:,\\s*[1-9][0-9]*(?:-\\d+)?)*$/\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23551,"reputation":30672,"user_id":59087,"accept_rate":99,"display_name":"Dave Jarvis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661640392,"creation_date":1661639655,"answer_id":73514830,"question_id":25931053,"body_markdown":"Here&#39;s a class that combines multiple answers into an overall solution. Use it like:\r\n\r\n``` java\r\nfinal var range = RangeValidator.normalize( &quot;-5, 7-11, 13, 15-20, 30-&quot;  );\r\nfinal var validator = new RangeValidator( range );\r\n\r\nif( validator.test( 9 ) &amp;&amp; validator.test( 42 ) ) {\r\n  System.out.println( &quot;9 and 42 are in range&quot; );\r\n}\r\n\r\nfinal var empty = new RangeValidator( &quot;&quot; );\r\n\r\nif( empty.test( 101 ) ) {\r\n  System.out.println( &quot;all numbers are valid&quot; );\r\n}\r\n```\r\n\r\nNote that the specification differs slightly from the question in that the upper-bound can be left unbounded (accepts up to max integer), which may be desirable when printing pages.\r\n\r\n\r\n``` java\r\n/**\r\n * Responsible for answering whether a given integer value falls within a\r\n * set of range specifiers. For example, if the range is &quot;1-3, 5, 7-9, 11-&quot;,\r\n * then values of 0, 4, and 10 return {@code false} while values of 2, 5,\r\n * and 37 would return {@code true}.\r\n */\r\npublic final class RangeValidator implements Predicate&lt;Integer&gt; {\r\n\r\n  /**\r\n   * Container for a pair of integer values that can answer whether a given\r\n   * value is included within the bounds provided by the pair.\r\n   */\r\n  private static class Range {\r\n    private final int mLo;\r\n    private final int mHi;\r\n\r\n    private Range( final int lo, final int hi ) {\r\n      assert lo &lt;= hi;\r\n\r\n      mLo = lo;\r\n      mHi = hi;\r\n    }\r\n\r\n    private boolean includes( final int i ) {\r\n      return mLo &lt;= i &amp;&amp; i &lt;= mHi || mLo == -1 &amp;&amp; mHi == -1;\r\n    }\r\n  }\r\n\r\n  private final List&lt;Range&gt; mRanges = new ArrayList&lt;&gt;();\r\n\r\n  /**\r\n   * Creates an instance of {@link RangeValidator} that can verify whether\r\n   * an integer value will fall within one of the numeric ranges in the\r\n   * given listing.\r\n   *\r\n   * @param range The listing of ranges to validate against.\r\n   */\r\n  public RangeValidator( final String range ) {\r\n    assert normalize( range ).equals( range );\r\n\r\n    parse( range );\r\n  }\r\n\r\n  @Override\r\n  public boolean test( final Integer integer ) {\r\n    for( final var range : mRanges ) {\r\n      if( range.includes( integer ) ) {\r\n        return true;\r\n      }\r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\n  /**\r\n   * Given a string meant to represent a comma-separated range of numbers,\r\n   * this will ensure that the range meets the formatting requirements.\r\n   *\r\n   * @param range The sequences to validate (can be {@code null}).\r\n   * @return The given range with all non-conforming characters removed, or\r\n   * the empty string if {@code null} was provided.\r\n   */\r\n  public static String normalize( final String range ) {\r\n    return range == null\r\n      ? &quot;&quot;\r\n      : range.matches( &quot;^\\\\d+(-\\\\d+)?(?:,\\\\d+(?:-\\\\d+)?)*+$&quot; )\r\n      ? range\r\n      : range.replaceAll( &quot;[^-,\\\\d\\\\s]&quot;, &quot;&quot; );\r\n  }\r\n\r\n  /**\r\n   * Populates the internal list of {@link Range} instances.\r\n   *\r\n   * @param s The string containing zero or more comma-separated integer\r\n   *          ranges, themselves separated by hyphens.\r\n   */\r\n  private void parse( final String s ) {\r\n    for( final var commaRange : normalize( s ).split( &quot;,&quot; ) ) {\r\n      final var hyphenRanges = commaRange.split( &quot;-&quot; );\r\n      final Range range;\r\n\r\n      if( hyphenRanges.length == 2 ) {\r\n        final var hrlo = hyphenRanges[ 0 ].trim();\r\n        final var hrhi = hyphenRanges[ 1 ].trim();\r\n\r\n        if( hrlo.isEmpty() ) {\r\n          range = new Range( 1, Integer.parseInt( hrhi ) );\r\n        }\r\n        else {\r\n          final var lo = Integer.parseInt( hrlo );\r\n          final var hi = Integer.parseInt( hrhi );\r\n\r\n          range = new Range( lo, hi );\r\n        }\r\n      }\r\n      else if( hyphenRanges.length == 1 ) {\r\n        final var hri = hyphenRanges[ 0 ].trim();\r\n\r\n        if( hri.isEmpty() ) {\r\n          range = new Range( -1, -1 );\r\n        }\r\n        else {\r\n          final var i = Integer.parseInt( hyphenRanges[ 0 ].trim() );\r\n          final var index = commaRange.trim().indexOf( &#39;-&#39; );\r\n\r\n          // If the hyphen is to the left of the number, the range is bounded\r\n          // from 0 to the number. Otherwise, the range is &quot;unbounded&quot; starting\r\n          // at the number.\r\n          if( index == -1 ) {\r\n            range = new Range( i, i );\r\n          }\r\n          else if( index == 0 ) {\r\n            range = new Range( 1, i );\r\n          }\r\n          else {\r\n            range = new Range( i, Integer.MAX_VALUE );\r\n          }\r\n        }\r\n      }\r\n      else {\r\n        // Ignore the range.\r\n        range = new Range( 0, 0 );\r\n      }\r\n\r\n      mRanges.add( range );\r\n    }\r\n  }\r\n}\r\n```","title":"Validate page numbers/ranges for printing","body":"<p>Here's a class that combines multiple answers into an overall solution. Use it like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final var range = RangeValidator.normalize( &quot;-5, 7-11, 13, 15-20, 30-&quot;  );\nfinal var validator = new RangeValidator( range );\n\nif( validator.test( 9 ) &amp;&amp; validator.test( 42 ) ) {\n  System.out.println( &quot;9 and 42 are in range&quot; );\n}\n\nfinal var empty = new RangeValidator( &quot;&quot; );\n\nif( empty.test( 101 ) ) {\n  System.out.println( &quot;all numbers are valid&quot; );\n}\n</code></pre>\n<p>Note that the specification differs slightly from the question in that the upper-bound can be left unbounded (accepts up to max integer), which may be desirable when printing pages.</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * Responsible for answering whether a given integer value falls within a\n * set of range specifiers. For example, if the range is &quot;1-3, 5, 7-9, 11-&quot;,\n * then values of 0, 4, and 10 return {@code false} while values of 2, 5,\n * and 37 would return {@code true}.\n */\npublic final class RangeValidator implements Predicate&lt;Integer&gt; {\n\n  /**\n   * Container for a pair of integer values that can answer whether a given\n   * value is included within the bounds provided by the pair.\n   */\n  private static class Range {\n    private final int mLo;\n    private final int mHi;\n\n    private Range( final int lo, final int hi ) {\n      assert lo &lt;= hi;\n\n      mLo = lo;\n      mHi = hi;\n    }\n\n    private boolean includes( final int i ) {\n      return mLo &lt;= i &amp;&amp; i &lt;= mHi || mLo == -1 &amp;&amp; mHi == -1;\n    }\n  }\n\n  private final List&lt;Range&gt; mRanges = new ArrayList&lt;&gt;();\n\n  /**\n   * Creates an instance of {@link RangeValidator} that can verify whether\n   * an integer value will fall within one of the numeric ranges in the\n   * given listing.\n   *\n   * @param range The listing of ranges to validate against.\n   */\n  public RangeValidator( final String range ) {\n    assert normalize( range ).equals( range );\n\n    parse( range );\n  }\n\n  @Override\n  public boolean test( final Integer integer ) {\n    for( final var range : mRanges ) {\n      if( range.includes( integer ) ) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  /**\n   * Given a string meant to represent a comma-separated range of numbers,\n   * this will ensure that the range meets the formatting requirements.\n   *\n   * @param range The sequences to validate (can be {@code null}).\n   * @return The given range with all non-conforming characters removed, or\n   * the empty string if {@code null} was provided.\n   */\n  public static String normalize( final String range ) {\n    return range == null\n      ? &quot;&quot;\n      : range.matches( &quot;^\\\\d+(-\\\\d+)?(?:,\\\\d+(?:-\\\\d+)?)*+$&quot; )\n      ? range\n      : range.replaceAll( &quot;[^-,\\\\d\\\\s]&quot;, &quot;&quot; );\n  }\n\n  /**\n   * Populates the internal list of {@link Range} instances.\n   *\n   * @param s The string containing zero or more comma-separated integer\n   *          ranges, themselves separated by hyphens.\n   */\n  private void parse( final String s ) {\n    for( final var commaRange : normalize( s ).split( &quot;,&quot; ) ) {\n      final var hyphenRanges = commaRange.split( &quot;-&quot; );\n      final Range range;\n\n      if( hyphenRanges.length == 2 ) {\n        final var hrlo = hyphenRanges[ 0 ].trim();\n        final var hrhi = hyphenRanges[ 1 ].trim();\n\n        if( hrlo.isEmpty() ) {\n          range = new Range( 1, Integer.parseInt( hrhi ) );\n        }\n        else {\n          final var lo = Integer.parseInt( hrlo );\n          final var hi = Integer.parseInt( hrhi );\n\n          range = new Range( lo, hi );\n        }\n      }\n      else if( hyphenRanges.length == 1 ) {\n        final var hri = hyphenRanges[ 0 ].trim();\n\n        if( hri.isEmpty() ) {\n          range = new Range( -1, -1 );\n        }\n        else {\n          final var i = Integer.parseInt( hyphenRanges[ 0 ].trim() );\n          final var index = commaRange.trim().indexOf( '-' );\n\n          // If the hyphen is to the left of the number, the range is bounded\n          // from 0 to the number. Otherwise, the range is &quot;unbounded&quot; starting\n          // at the number.\n          if( index == -1 ) {\n            range = new Range( i, i );\n          }\n          else if( index == 0 ) {\n            range = new Range( 1, i );\n          }\n          else {\n            range = new Range( i, Integer.MAX_VALUE );\n          }\n        }\n      }\n      else {\n        // Ignore the range.\n        range = new Range( 0, 0 );\n      }\n\n      mRanges.add( range );\n    }\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":3572426,"reputation":195,"user_id":2982430,"accept_rate":45,"display_name":"pankti"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3441,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":25931094,"answer_count":7,"score":6,"last_activity_date":1661640392,"creation_date":1411120083,"question_id":25931053,"body_markdown":"I am writing a regular expression for matching a particular pattern which is as follows. \r\n\r\nWe all are familiar with the pattern that we give while printing selective pages via a word document. i.e.\r\n\r\n - We can use comma and hyphen\r\n - no other special characters allowed\r\n - should start and end with a number\r\n - Comma and hyphen not allowed together, etc\r\n\r\n**Valid values:**\r\n\r\n    1, 3, 6-9\r\n    1-5, 5\r\n    6, 9\r\n\r\n**Invalid values:**\r\n\r\n    ,5\r\n    5-,9\r\n    9-5,\r\n    2,6-\r\n\r\nI have been using the pattern `(([0-9]+)|(\\\\d.*[-,]\\\\d.*)+)` but it does not work for all permutation combination. \r\n\r\nAny help would be greatly appreciated!\r\n\r\n\r\n\r\n","title":"Validate page numbers/ranges for printing","body":"<p>I am writing a regular expression for matching a particular pattern which is as follows. </p>\n\n<p>We all are familiar with the pattern that we give while printing selective pages via a word document. i.e.</p>\n\n<ul>\n<li>We can use comma and hyphen</li>\n<li>no other special characters allowed</li>\n<li>should start and end with a number</li>\n<li>Comma and hyphen not allowed together, etc</li>\n</ul>\n\n<p><strong>Valid values:</strong></p>\n\n<pre><code>1, 3, 6-9\n1-5, 5\n6, 9\n</code></pre>\n\n<p><strong>Invalid values:</strong></p>\n\n<pre><code>,5\n5-,9\n9-5,\n2,6-\n</code></pre>\n\n<p>I have been using the pattern <code>(([0-9]+)|(\\\\d.*[-,]\\\\d.*)+)</code> but it does not work for all permutation combination. </p>\n\n<p>Any help would be greatly appreciated!</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":9011142,"reputation":1135,"user_id":6715678,"display_name":"mufazmi"},"score":0,"creation_date":1661662300,"post_id":73514851,"comment_id":129822745,"body_markdown":"Just assign it an initial value by defining a constructor.","body":"Just assign it an initial value by defining a constructor."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":2,"creation_date":1661667441,"post_id":73514851,"comment_id":129823251,"body_markdown":"[mcve] please.. mind the __M__","body":"<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please.. mind the <b>M</b>"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":2,"creation_date":1661667621,"post_id":73514851,"comment_id":129823272,"body_markdown":"@mufazmi &quot;Just assign it an initial value by defining a constructor.&quot; -&gt; No.  If something was supposed to be defined in FXML, it should never be set to a new value in Java code.","body":"@mufazmi &quot;Just assign it an initial value by defining a constructor.&quot; -&gt; No.  If something was supposed to be defined in FXML, it should never be set to a new value in Java code."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1661667784,"post_id":73514851,"comment_id":129823296,"body_markdown":"Probably the `fx:id` values for the tab don&#39;t match your code references, so the FXML injection on them fails, but that is just speculation without the FXML source.","body":"Probably the <code>fx:id</code> values for the tab don&#39;t match your code references, so the FXML injection on them fails, but that is just speculation without the FXML source."}],"owner":{"account_id":26108391,"reputation":1,"user_id":19802744,"display_name":"rotroq"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661640374,"creation_date":1661639861,"question_id":73514851,"body_markdown":"When the scene is first opened, tabpane only sees one of the tab which is opened by default. In other words, tabpane.getTabs().size() always equals 1. And Also all of the tabs are null. \r\n\r\n    public TabPane tabpane;\r\n    public Tab sellScreenTab;\r\n    public Tab buyScreenTab;\r\n    public Tab stockControlTab;\r\n    public Tab logTab;\r\n    public Tab userTab;\r\n    public Tab statisticsTab;\r\n\r\n\r\n    public void editTabsForUsers(){\r\n        System.out.println(tabpane.getTabs().size());\r\n        if (!Session.user.sellScreenPerm){\r\n            sellScreenTab.getTabPane().getTabs().remove(sellScreenTab);\r\n        }if (!Session.user.entryScreenPerm){\r\n            buyScreenTab.getTabPane().getTabs().remove(buyScreenTab);\r\n        }if (!Session.user.historyScreenPerm){\r\n            logTab.getTabPane().getTabs().remove(logTab);\r\n        }if (!Session.user.statsScreenPerm){\r\n            statisticsTab.getTabPane().getTabs().remove(statisticsTab);\r\n        }if (!Session.user.trackStockScreenPerm){\r\n            stockControlTab.getTabPane().getTabs().remove(stockControlTab);\r\n        }if (!Session.user.usersScreenPerm){\r\n            userTab.getTabPane().getTabs().remove(userTab);\r\n        }\r\n    }\r\n\r\nIn this part code prints, 1 and also this is the exception\r\n\r\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;javafx.scene.control.TabPane.getTabs()&quot; because the return value of &quot;javafx.scene.control.Tab.getTabPane()&quot; is null\r\n\r\nAll of the tabs and tabpane defined on fxml\r\n\r\nEDT : n app if I changed selected tab it will work correctly but I need to do before chage","title":"Javafx Tabpane&#39;s size always one and the other tabs are always null","body":"<p>When the scene is first opened, tabpane only sees one of the tab which is opened by default. In other words, tabpane.getTabs().size() always equals 1. And Also all of the tabs are null.</p>\n<pre><code>public TabPane tabpane;\npublic Tab sellScreenTab;\npublic Tab buyScreenTab;\npublic Tab stockControlTab;\npublic Tab logTab;\npublic Tab userTab;\npublic Tab statisticsTab;\n\n\npublic void editTabsForUsers(){\n    System.out.println(tabpane.getTabs().size());\n    if (!Session.user.sellScreenPerm){\n        sellScreenTab.getTabPane().getTabs().remove(sellScreenTab);\n    }if (!Session.user.entryScreenPerm){\n        buyScreenTab.getTabPane().getTabs().remove(buyScreenTab);\n    }if (!Session.user.historyScreenPerm){\n        logTab.getTabPane().getTabs().remove(logTab);\n    }if (!Session.user.statsScreenPerm){\n        statisticsTab.getTabPane().getTabs().remove(statisticsTab);\n    }if (!Session.user.trackStockScreenPerm){\n        stockControlTab.getTabPane().getTabs().remove(stockControlTab);\n    }if (!Session.user.usersScreenPerm){\n        userTab.getTabPane().getTabs().remove(userTab);\n    }\n}\n</code></pre>\n<p>In this part code prints, 1 and also this is the exception</p>\n<p>Caused by: java.lang.NullPointerException: Cannot invoke &quot;javafx.scene.control.TabPane.getTabs()&quot; because the return value of &quot;javafx.scene.control.Tab.getTabPane()&quot; is null</p>\n<p>All of the tabs and tabpane defined on fxml</p>\n<p>EDT : n app if I changed selected tab it will work correctly but I need to do before chage</p>\n"},{"tags":["java","mysql","spring","spring-boot","hibernate"],"answers":[{"tags":[],"owner":{"account_id":7313625,"reputation":6030,"user_id":5572007,"display_name":"amseager"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1661638989,"creation_date":1661638989,"answer_id":73514776,"question_id":73514758,"body_markdown":"You need to use a field name for `mappedby`, not a column name. \r\n\r\nIn you case, it should be `@OneToOne(mappedBy = &quot;personalData&quot;)`.","title":"Can&#39;t create one_to_one relationship: Unknown mappedBy in","body":"<p>You need to use a field name for <code>mappedby</code>, not a column name.</p>\n<p>In you case, it should be <code>@OneToOne(mappedBy = &quot;personalData&quot;)</code>.</p>\n"}],"owner":{"account_id":13429807,"reputation":1816,"user_id":9689945,"display_name":"hhrzc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73514776,"answer_count":1,"score":1,"last_activity_date":1661638989,"creation_date":1661638793,"question_id":73514758,"body_markdown":"I try to create an OneToOne relationship between two tables but I receive errors.\r\n\r\nI used a lot of tutorials but nothing helps.\r\nFor example [baeldung][1] tutorial:\r\n\r\nProject structure:\r\n\r\n```java\r\n\r\n@Entity\r\n@Table(name=&quot;user&quot;)\r\npublic class User{\r\n\r\n    @Id\r\n    @Column\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private long id;\r\n\r\n    @OneToOne(cascade = CascadeType.ALL)\r\n    @JoinColumn(name = &quot;personal_data_id&quot;)\r\n    private PersonalData personalData;\r\n\r\n//getters, setters\r\n}\r\n\r\n@Entity\r\n@Table(name = &quot;personal_data&quot;)\r\npublic class PersonalData {\r\n\r\n    @Id\r\n    @Column(name = &quot;id&quot;)\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private long id;\r\n\r\n    @OneToOne(mappedBy = &quot;personal_data&quot;)\r\n    private User user;\r\n\r\n//getters, setters\r\n}\r\n\r\n\r\n```\r\n\r\nThe error:\r\n\r\n```\r\nCaused by: org.hibernate.AnnotationException: Unknown mappedBy in: com....dto.PersonalData.user, referenced property unknown: com...dto.User.personal_data\r\n```\r\n\r\nGradle:\r\n\r\n```groovy\r\nplugins {\r\n\tid &#39;org.springframework.boot&#39; version &#39;2.7.3&#39;\r\n\tid &#39;io.spring.dependency-management&#39; version &#39;1.0.13.RELEASE&#39;\r\n\tid &#39;java&#39;\r\n}\r\n\r\ngroup = &#39;com.hltr&#39;\r\nversion = &#39;0.0.1-SNAPSHOT&#39;\r\nsourceCompatibility = &#39;11&#39;\r\n\r\nrepositories {\r\n\tmavenCentral()\r\n}\r\n\r\ndependencies {\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-security&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-thymeleaf&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n\timplementation &#39;org.thymeleaf.extras:thymeleaf-extras-springsecurity5&#39;\r\n\timplementation group: &#39;mysql&#39;, name: &#39;mysql-connector-java&#39;, version: &#39;8.0.30&#39;\r\n\ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n\ttestImplementation &#39;org.springframework.security:spring-security-test&#39;\r\n}\r\n\r\ntasks.named(&#39;test&#39;) {\r\n\tuseJUnitPlatform()\r\n}\r\n```\r\n\r\napplication.properties:\r\n```properties\r\n#Database settings\r\nspring.datasource.url=jdbc:mysql://localhost:3306/db?useUnicode=yes&amp;characterEncoding=UTF-8\r\nspring.datasource.username=root\r\nspring.datasource.password=password\r\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\nspring.jpa.hibernate.ddl-auto=update\r\n\r\nspring.datasource.tomcat.connection-properties=useUnicode=true;characterEncoding=utf-8;\r\nspring.datasource.sql-script-encoding=UTF-8\r\nspring.jpa.open-in-view=false\r\n\r\n#Disable thymeleaf cashing\r\nspring.template.cache = false;\r\n\r\n\r\n```\r\n\r\n\r\n  [1]: https://www.baeldung.com/jpa-one-to-one","title":"Can&#39;t create one_to_one relationship: Unknown mappedBy in","body":"<p>I try to create an OneToOne relationship between two tables but I receive errors.</p>\n<p>I used a lot of tutorials but nothing helps.\nFor example <a href=\"https://www.baeldung.com/jpa-one-to-one\" rel=\"nofollow noreferrer\">baeldung</a> tutorial:</p>\n<p>Project structure:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@Entity\n@Table(name=&quot;user&quot;)\npublic class User{\n\n    @Id\n    @Column\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private long id;\n\n    @OneToOne(cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;personal_data_id&quot;)\n    private PersonalData personalData;\n\n//getters, setters\n}\n\n@Entity\n@Table(name = &quot;personal_data&quot;)\npublic class PersonalData {\n\n    @Id\n    @Column(name = &quot;id&quot;)\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private long id;\n\n    @OneToOne(mappedBy = &quot;personal_data&quot;)\n    private User user;\n\n//getters, setters\n}\n\n\n</code></pre>\n<p>The error:</p>\n<pre><code>Caused by: org.hibernate.AnnotationException: Unknown mappedBy in: com....dto.PersonalData.user, referenced property unknown: com...dto.User.personal_data\n</code></pre>\n<p>Gradle:</p>\n<pre><code>plugins {\n    id 'org.springframework.boot' version '2.7.3'\n    id 'io.spring.dependency-management' version '1.0.13.RELEASE'\n    id 'java'\n}\n\ngroup = 'com.hltr'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = '11'\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'\n    implementation 'org.springframework.boot:spring-boot-starter-security'\n    implementation 'org.springframework.boot:spring-boot-starter-thymeleaf'\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation 'org.thymeleaf.extras:thymeleaf-extras-springsecurity5'\n    implementation group: 'mysql', name: 'mysql-connector-java', version: '8.0.30'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n    testImplementation 'org.springframework.security:spring-security-test'\n}\n\ntasks.named('test') {\n    useJUnitPlatform()\n}\n</code></pre>\n<p>application.properties:</p>\n<pre><code>#Database settings\nspring.datasource.url=jdbc:mysql://localhost:3306/db?useUnicode=yes&amp;characterEncoding=UTF-8\nspring.datasource.username=root\nspring.datasource.password=password\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\nspring.jpa.hibernate.ddl-auto=update\n\nspring.datasource.tomcat.connection-properties=useUnicode=true;characterEncoding=utf-8;\nspring.datasource.sql-script-encoding=UTF-8\nspring.jpa.open-in-view=false\n\n#Disable thymeleaf cashing\nspring.template.cache = false;\n\n\n</code></pre>\n"},{"tags":["java","file","netty","file-transfer"],"answers":[{"tags":[],"owner":{"account_id":528660,"reputation":350,"user_id":1220363,"display_name":"Rogan Dawes"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1653465281,"creation_date":1653460572,"answer_id":72372905,"question_id":72372393,"body_markdown":"The problem is indeed most likely to be in your FileChunkHandler.\r\n\r\nYou only read a single buffer (likely containing 8192 bytes - 8kB), and then remove the handler. The remaining chunks either get &quot;handled&quot; by some other handler in the pipeline, or reach the end of the pipeline and get dropped. As mentioned in Discord, you need to keep track of how many bytes you are expecting, subtract the number received, and only when that number reaches 0, should you remove the handler.","title":"Netty: TCP file transfer doesn&#39;t work correctly","body":"<p>The problem is indeed most likely to be in your FileChunkHandler.</p>\n<p>You only read a single buffer (likely containing 8192 bytes - 8kB), and then remove the handler. The remaining chunks either get &quot;handled&quot; by some other handler in the pipeline, or reach the end of the pipeline and get dropped. As mentioned in Discord, you need to keep track of how many bytes you are expecting, subtract the number received, and only when that number reaches 0, should you remove the handler.</p>\n"}],"owner":{"account_id":23465257,"reputation":11,"user_id":17519576,"display_name":"martin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":245,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":72372905,"answer_count":1,"score":-1,"last_activity_date":1661636933,"creation_date":1653456710,"question_id":72372393,"body_markdown":"I am working on my online file storage and today I have encountered some issues with my Netty TCP file tranfer. So the problem is that only 8192 bytes of data is actually written in the file on the client-side.\r\nI want to know what the problem is, and how I can fix it.\r\n\r\nI have seen ALL of the other (5) stackoverflow questions.\r\n\r\nHere is my server bootstrap:\r\n\r\n```java\r\npackage com.martin.main;\r\n\r\nimport com.martin.file.*;\r\nimport com.martin.handler.*;\r\nimport com.martin.utils.*;\r\nimport io.netty.bootstrap.*;\r\nimport io.netty.channel.*;\r\nimport io.netty.channel.nio.*;\r\nimport io.netty.channel.socket.*;\r\nimport io.netty.channel.socket.nio.*;\r\nimport io.netty.handler.codec.*;\r\n\r\nimport java.io.*;\r\nimport java.net.*;\r\nimport java.util.*;\r\nimport java.util.concurrent.*;\r\n\r\npublic class Server {\r\n\r\n    public static void main(String[] args) {\r\n        new Server().setup(4783);\r\n    }\r\n\r\n    public ChannelFuture setup(int port) {\r\n        ChannelFuture future = null;\r\n        EventLoopGroup bossGroup = new NioEventLoopGroup();\r\n        EventLoopGroup workerGroup = new NioEventLoopGroup();\r\n        final ServerBootstrap bootstrap;\r\n\r\n     \r\n        try {\r\n            bootstrap = new ServerBootstrap();\r\n            bootstrap.group(bossGroup, workerGroup);\r\n            bootstrap.channel(NioServerSocketChannel.class);\r\n            bootstrap.childHandler(new ChannelInitializer&lt;SocketChannel&gt;() {\r\n\r\n                @Override\r\n                protected void initChannel(SocketChannel socketChannel) throws Exception {\r\n                    ChannelPipeline pipeline = socketChannel.pipeline();\r\n                    //pipeline.addLast(&quot;framer&quot;, new LengthFieldBasedFrameDecoder());\r\n                    pipeline.addLast(&quot;framer&quot;, new LengthFieldBasedFrameDecoder(Integer.MAX_VALUE, 0, 4, 0, 4));\r\n                    pipeline.addLast(new LengthFieldPrepender(4));\r\n                    pipeline.addLast(&quot;login&quot;, new LoginServerHandler()); //the problem is not in that handler\r\n                }\r\n            });\r\n            future = bootstrap.bind(new InetSocketAddress(port)).sync().channel().closeFuture().sync();\r\n        }catch(InterruptedException e) {\r\n            e.printStackTrace();\r\n        } finally {\r\n            bossGroup.shutdownGracefully();\r\n            workerGroup.shutdownGracefully();\r\n        }\r\n        return future;\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nMy server-handler:\r\n\r\n```java\r\npublic class ServerHandler extends ByteToMessageDecoder {\r\n\r\n    @Override\r\n    public void exceptionCaught(ChannelHandlerContext ctx, Throwable cause) throws Exception {\r\n        cause.printStackTrace();\r\n    }\r\n\r\n    @Override\r\n    protected void decode(ChannelHandlerContext ctx, ByteBuf byteBuf, List&lt;Object&gt; list) throws Exception {\r\n\r\n        byte msgType = byteBuf.readByte();\r\n\r\n        if(FILEPACKETINFO == msgType) {\r\n            //The problem is probaly here\r\n            System.out.println(&quot;inide file req.&quot;);\r\n            int id = byteBuf.readInt();\r\n\r\n            for(OnlineFile onlineFile : OnlineFile.getOnlineFiles()) {\r\n                if(onlineFile.getId() == id) {\r\n                    System.out.println(&quot;file request id: &quot; + id + &quot; actual id: &quot; + onlineFile.getId());\r\n                    ByteBuf buf = Unpooled.buffer();\r\n                    buf.writeByte(FILEPACKETINFO);\r\n                    String fileName = onlineFile.getName();\r\n                    File file = onlineFile.getActualFile();\r\n                    buf.writeLong(file.length());\r\n                    buf.writeInt(fileName.length());\r\n                    buf.writeCharSequence(fileName, CharsetUtil.US_ASCII);\r\n                    ctx.writeAndFlush(buf);\r\n\r\n                    if(!(file.length() &lt;= 0)) {\r\n\r\n                        ctx.writeAndFlush(new ChunkedFile(file)).addListener(new ChannelFutureListener() {\r\n                            @Override\r\n                            public void operationComplete(ChannelFuture channelFuture) throws Exception {\r\n                                System.out.println(&quot;written successfully!&quot;);\r\n                                if (channelFuture.cause() != null) channelFuture.cause().printStackTrace();\r\n                            }\r\n                        });\r\n                    } else {\r\n                        System.out.println(&quot;length 0: &quot; + &quot; (&quot; + file.length() +&quot;)&quot;);\r\n                    }\r\n                }\r\n            }\r\n        } else if(REQUESTVISUALFILES == msgType) {\r\n            createAndSend(ctx); //send VISUAL files, problem not there\r\n        } else if(REQUESTFOLDERFILESBYID == msgType) {\r\n            int id = byteBuf.readInt();\r\n            createAndSend(ctx, id); //send VISUAL files by id, problem not there\r\n        }\r\n    }\r\n\r\n```\r\n\r\nMy client bootstrap:\r\n```java\r\n    public static ChannelFuture setup(String host, int port) {\r\n        ChannelFuture channelFuture = null;\r\n\r\n        EventLoopGroup group = new NioEventLoopGroup();\r\n\r\n        try {\r\n            Bootstrap bootstrap = new Bootstrap();\r\n            bootstrap.group(group);\r\n            bootstrap.channel(NioSocketChannel.class);\r\n            bootstrap.handler(new ChannelInitializer&lt;SocketChannel&gt;() {\r\n                @Override\r\n                protected void initChannel(SocketChannel socketChannel) throws Exception {\r\n                    ChannelPipeline pipeline = socketChannel.pipeline();\r\n                    pipeline.addLast(&quot;framer&quot;, new LengthFieldBasedFrameDecoder(64*1024, 0, 4, 0, 4));\r\n                    pipeline.addLast(lfp);\r\n                    pipeline.addLast(&quot;login&quot;, new LoginHandler()); //the problem is not in that handler either\r\n                }\r\n            });\r\n            channelFuture = bootstrap.connect(new InetSocketAddress(host, port)).sync();\r\n            System.out.println(&quot;the setup came to an end!&quot;);\r\n            LoginForm.createAndShowGUI(&quot;Login&quot;);\r\n            mainChannel = channelFuture.channel();\r\n            channelFuture.channel().closeFuture().sync();\r\n        } catch (InterruptedException e) {\r\n            e.printStackTrace();\r\n        } finally {\r\n            group.shutdownGracefully();\r\n        }\r\n        return channelFuture;\r\n    }\r\n\r\n}\r\n```\r\n\r\nMy client handler:\r\n```java\r\npackage com.martin.handler;\r\n\r\nimport io.netty.buffer.*;\r\nimport io.netty.channel.*;\r\nimport io.netty.util.*;\r\n\r\nimport java.io.*;\r\nimport java.nio.*;\r\nimport java.nio.channels.*;\r\n\r\npublic class FileChunkHandler extends SimpleChannelInboundHandler&lt;ByteBuf&gt; {\r\n\r\n    public static String currentFileName = &quot;Test.txt&quot;;\r\n\r\n    @Override\r\n    public void exceptionCaught(ChannelHandlerContext ctx, Throwable cause) throws Exception {\r\n        cause.printStackTrace();\r\n        ctx.pipeline().remove(this);\r\n    }\r\n\r\n    @Override\r\n    protected void channelRead0(ChannelHandlerContext ctx, ByteBuf byteBuf) throws Exception {\r\n        //the problem is probably here\r\n        System.out.println(&quot;inside FileChunkHandler current file: &quot; + currentFileName);\r\n        ByteBuffer buffer = byteBuf.nioBuffer();\r\n        System.out.println(buffer.capacity() + &quot; buffer&quot; + &quot; bytebuf: &quot; + byteBuf.readableBytes());\r\n\r\n        File file = triggerFileCreation();\r\n\r\n       // FileOutputStream fos = new FileOutputStream(&quot;C:\\\\Users\\\\marti\\\\storage\\\\&quot; + currentFileName);\r\n        RandomAccessFile randomAccessFile = new RandomAccessFile(file, &quot;rw&quot;);\r\n        FileChannel channel = randomAccessFile.getChannel();\r\n\r\n        while(buffer.hasRemaining()) {\r\n            channel.position(file.length());\r\n            channel.write(buffer);\r\n            System.out.println(&quot;chunk has just been written&quot;);\r\n        }\r\n        channel.close();\r\n        randomAccessFile.close();\r\n\r\n        //!!!---&gt;IMPORTANT&lt;-----!!!\r\n        ctx.pipeline().remove(this);\r\n    }\r\n    public static File triggerFileCreation() {\r\n        File file = new File(System.getProperty(&quot;user.home&quot;) + &quot;/storage/&quot; + currentFileName);\r\n        if(!file.exists()) {\r\n            try {\r\n                file.createNewFile();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n        return file;\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n**EDIT**\r\n\r\nThe problem was that I removed the handler too quickly, then other packets got handled in other handlers/were dropped from the pipeline.","title":"Netty: TCP file transfer doesn&#39;t work correctly","body":"<p>I am working on my online file storage and today I have encountered some issues with my Netty TCP file tranfer. So the problem is that only 8192 bytes of data is actually written in the file on the client-side.\nI want to know what the problem is, and how I can fix it.</p>\n<p>I have seen ALL of the other (5) stackoverflow questions.</p>\n<p>Here is my server bootstrap:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.martin.main;\n\nimport com.martin.file.*;\nimport com.martin.handler.*;\nimport com.martin.utils.*;\nimport io.netty.bootstrap.*;\nimport io.netty.channel.*;\nimport io.netty.channel.nio.*;\nimport io.netty.channel.socket.*;\nimport io.netty.channel.socket.nio.*;\nimport io.netty.handler.codec.*;\n\nimport java.io.*;\nimport java.net.*;\nimport java.util.*;\nimport java.util.concurrent.*;\n\npublic class Server {\n\n    public static void main(String[] args) {\n        new Server().setup(4783);\n    }\n\n    public ChannelFuture setup(int port) {\n        ChannelFuture future = null;\n        EventLoopGroup bossGroup = new NioEventLoopGroup();\n        EventLoopGroup workerGroup = new NioEventLoopGroup();\n        final ServerBootstrap bootstrap;\n\n     \n        try {\n            bootstrap = new ServerBootstrap();\n            bootstrap.group(bossGroup, workerGroup);\n            bootstrap.channel(NioServerSocketChannel.class);\n            bootstrap.childHandler(new ChannelInitializer&lt;SocketChannel&gt;() {\n\n                @Override\n                protected void initChannel(SocketChannel socketChannel) throws Exception {\n                    ChannelPipeline pipeline = socketChannel.pipeline();\n                    //pipeline.addLast(&quot;framer&quot;, new LengthFieldBasedFrameDecoder());\n                    pipeline.addLast(&quot;framer&quot;, new LengthFieldBasedFrameDecoder(Integer.MAX_VALUE, 0, 4, 0, 4));\n                    pipeline.addLast(new LengthFieldPrepender(4));\n                    pipeline.addLast(&quot;login&quot;, new LoginServerHandler()); //the problem is not in that handler\n                }\n            });\n            future = bootstrap.bind(new InetSocketAddress(port)).sync().channel().closeFuture().sync();\n        }catch(InterruptedException e) {\n            e.printStackTrace();\n        } finally {\n            bossGroup.shutdownGracefully();\n            workerGroup.shutdownGracefully();\n        }\n        return future;\n    }\n\n}\n\n</code></pre>\n<p>My server-handler:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ServerHandler extends ByteToMessageDecoder {\n\n    @Override\n    public void exceptionCaught(ChannelHandlerContext ctx, Throwable cause) throws Exception {\n        cause.printStackTrace();\n    }\n\n    @Override\n    protected void decode(ChannelHandlerContext ctx, ByteBuf byteBuf, List&lt;Object&gt; list) throws Exception {\n\n        byte msgType = byteBuf.readByte();\n\n        if(FILEPACKETINFO == msgType) {\n            //The problem is probaly here\n            System.out.println(&quot;inide file req.&quot;);\n            int id = byteBuf.readInt();\n\n            for(OnlineFile onlineFile : OnlineFile.getOnlineFiles()) {\n                if(onlineFile.getId() == id) {\n                    System.out.println(&quot;file request id: &quot; + id + &quot; actual id: &quot; + onlineFile.getId());\n                    ByteBuf buf = Unpooled.buffer();\n                    buf.writeByte(FILEPACKETINFO);\n                    String fileName = onlineFile.getName();\n                    File file = onlineFile.getActualFile();\n                    buf.writeLong(file.length());\n                    buf.writeInt(fileName.length());\n                    buf.writeCharSequence(fileName, CharsetUtil.US_ASCII);\n                    ctx.writeAndFlush(buf);\n\n                    if(!(file.length() &lt;= 0)) {\n\n                        ctx.writeAndFlush(new ChunkedFile(file)).addListener(new ChannelFutureListener() {\n                            @Override\n                            public void operationComplete(ChannelFuture channelFuture) throws Exception {\n                                System.out.println(&quot;written successfully!&quot;);\n                                if (channelFuture.cause() != null) channelFuture.cause().printStackTrace();\n                            }\n                        });\n                    } else {\n                        System.out.println(&quot;length 0: &quot; + &quot; (&quot; + file.length() +&quot;)&quot;);\n                    }\n                }\n            }\n        } else if(REQUESTVISUALFILES == msgType) {\n            createAndSend(ctx); //send VISUAL files, problem not there\n        } else if(REQUESTFOLDERFILESBYID == msgType) {\n            int id = byteBuf.readInt();\n            createAndSend(ctx, id); //send VISUAL files by id, problem not there\n        }\n    }\n\n</code></pre>\n<p>My client bootstrap:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static ChannelFuture setup(String host, int port) {\n        ChannelFuture channelFuture = null;\n\n        EventLoopGroup group = new NioEventLoopGroup();\n\n        try {\n            Bootstrap bootstrap = new Bootstrap();\n            bootstrap.group(group);\n            bootstrap.channel(NioSocketChannel.class);\n            bootstrap.handler(new ChannelInitializer&lt;SocketChannel&gt;() {\n                @Override\n                protected void initChannel(SocketChannel socketChannel) throws Exception {\n                    ChannelPipeline pipeline = socketChannel.pipeline();\n                    pipeline.addLast(&quot;framer&quot;, new LengthFieldBasedFrameDecoder(64*1024, 0, 4, 0, 4));\n                    pipeline.addLast(lfp);\n                    pipeline.addLast(&quot;login&quot;, new LoginHandler()); //the problem is not in that handler either\n                }\n            });\n            channelFuture = bootstrap.connect(new InetSocketAddress(host, port)).sync();\n            System.out.println(&quot;the setup came to an end!&quot;);\n            LoginForm.createAndShowGUI(&quot;Login&quot;);\n            mainChannel = channelFuture.channel();\n            channelFuture.channel().closeFuture().sync();\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        } finally {\n            group.shutdownGracefully();\n        }\n        return channelFuture;\n    }\n\n}\n</code></pre>\n<p>My client handler:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.martin.handler;\n\nimport io.netty.buffer.*;\nimport io.netty.channel.*;\nimport io.netty.util.*;\n\nimport java.io.*;\nimport java.nio.*;\nimport java.nio.channels.*;\n\npublic class FileChunkHandler extends SimpleChannelInboundHandler&lt;ByteBuf&gt; {\n\n    public static String currentFileName = &quot;Test.txt&quot;;\n\n    @Override\n    public void exceptionCaught(ChannelHandlerContext ctx, Throwable cause) throws Exception {\n        cause.printStackTrace();\n        ctx.pipeline().remove(this);\n    }\n\n    @Override\n    protected void channelRead0(ChannelHandlerContext ctx, ByteBuf byteBuf) throws Exception {\n        //the problem is probably here\n        System.out.println(&quot;inside FileChunkHandler current file: &quot; + currentFileName);\n        ByteBuffer buffer = byteBuf.nioBuffer();\n        System.out.println(buffer.capacity() + &quot; buffer&quot; + &quot; bytebuf: &quot; + byteBuf.readableBytes());\n\n        File file = triggerFileCreation();\n\n       // FileOutputStream fos = new FileOutputStream(&quot;C:\\\\Users\\\\marti\\\\storage\\\\&quot; + currentFileName);\n        RandomAccessFile randomAccessFile = new RandomAccessFile(file, &quot;rw&quot;);\n        FileChannel channel = randomAccessFile.getChannel();\n\n        while(buffer.hasRemaining()) {\n            channel.position(file.length());\n            channel.write(buffer);\n            System.out.println(&quot;chunk has just been written&quot;);\n        }\n        channel.close();\n        randomAccessFile.close();\n\n        //!!!---&gt;IMPORTANT&lt;-----!!!\n        ctx.pipeline().remove(this);\n    }\n    public static File triggerFileCreation() {\n        File file = new File(System.getProperty(&quot;user.home&quot;) + &quot;/storage/&quot; + currentFileName);\n        if(!file.exists()) {\n            try {\n                file.createNewFile();\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }\n        return file;\n    }\n}\n\n</code></pre>\n<p><strong>EDIT</strong></p>\n<p>The problem was that I removed the handler too quickly, then other packets got handled in other handlers/were dropped from the pipeline.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":7495925,"reputation":936,"user_id":5696201,"accept_rate":100,"display_name":"Logan"},"score":0,"creation_date":1661621910,"post_id":73513157,"comment_id":129817714,"body_markdown":"Please include the errors youre receiving.","body":"Please include the errors youre receiving."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1661623092,"post_id":73513157,"comment_id":129817957,"body_markdown":"Your constructor is missing.","body":"Your constructor is missing."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1661623136,"post_id":73513157,"comment_id":129817964,"body_markdown":"What is `c` for?","body":"What is <code>c</code> for?"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1661623974,"post_id":73513157,"comment_id":129818110,"body_markdown":"You need to either define `static` methods or learn to define classes in object-oriented programming. Study some basic tutorials before posting here. Oracle provides extensive tutorials at no cost.","body":"You need to either define <code>static</code> methods or learn to define classes in object-oriented programming. Study some basic tutorials before posting here. Oracle provides extensive tutorials at no cost."},{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":0,"creation_date":1661633078,"post_id":73513157,"comment_id":129819725,"body_markdown":"Your code contains a lot of compilation errors.  Your first step would be to fix the compilation of the GeometryHelper class.","body":"Your code contains a lot of compilation errors.  Your first step would be to fix the compilation of the GeometryHelper class."}],"answers":[{"tags":[],"owner":{"account_id":19225914,"reputation":389,"user_id":14048816,"display_name":"Himanshu Kawale"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661623855,"creation_date":1661623855,"answer_id":73513349,"question_id":73513157,"body_markdown":"`new GeometryHelper(1.0, 2.0, 3.0, 4.0);`\r\n\r\nHere you are trying to call a constructor which accepts 4 `double` arguments.\r\nBut you do not have that constructor in `GeometryHelper` class.\r\n\r\n`distance(double xl, double x2, double y1, double y2)` is a method not a constructor.`\r\n\r\nTo call this method, you will need an object of `GeometryHelper`,\r\n\r\nYou can refer the below code.\r\n\r\n```\r\n public static void main(String[] args)\r\n    {\r\n        GeometryHelper solver1 = new GeometryHelper();\r\n\r\n        System.out.println(&quot;Distance between (2,5) and (6,7): &quot; + solver1.distance(1.0, 2.0, 3.0, 4.0));\r\n        System.out.println(&quot;Slope of a line with two points (2,5) and (6,7): &quot; + solver1.slope(2.0, 6.0, 5.0, 7.0));\r\n        System.out.println(&quot;Hypotenuse of a right triangle with sides 3 and 4: &quot; + solver1.pythagoras(3, 4));\r\n    }\r\n```\r\n\r\n","title":"How can I fix my code to be able to run all three methods?","body":"<p><code>new GeometryHelper(1.0, 2.0, 3.0, 4.0);</code></p>\n<p>Here you are trying to call a constructor which accepts 4 <code>double</code> arguments.\nBut you do not have that constructor in <code>GeometryHelper</code> class.</p>\n<p><code>distance(double xl, double x2, double y1, double y2)</code> is a method not a constructor.`</p>\n<p>To call this method, you will need an object of <code>GeometryHelper</code>,</p>\n<p>You can refer the below code.</p>\n<pre><code> public static void main(String[] args)\n    {\n        GeometryHelper solver1 = new GeometryHelper();\n\n        System.out.println(&quot;Distance between (2,5) and (6,7): &quot; + solver1.distance(1.0, 2.0, 3.0, 4.0));\n        System.out.println(&quot;Slope of a line with two points (2,5) and (6,7): &quot; + solver1.slope(2.0, 6.0, 5.0, 7.0));\n        System.out.println(&quot;Hypotenuse of a right triangle with sides 3 and 4: &quot; + solver1.pythagoras(3, 4));\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19652480,"reputation":456,"user_id":14385914,"display_name":"narayann"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661623863,"creation_date":1661623863,"answer_id":73513350,"question_id":73513157,"body_markdown":"- constructor is missing in `GeometryHelper` class\r\n\r\n- `;` should not there in end of methods \r\n- if you want to use the methods of the classes, it should be like\r\n\r\nthis : `solver.distance() , solver.slope() , etc`\r\nwhere `GeometryHelper solver = new GeometryHelper();`\r\n\r\nI have debugged the code, hope below code helps you\r\nif there is doubt, you are free to ask\r\n\r\n```java\r\n\r\nimport java.util.*;\r\n\r\nclass GeometryHelper\r\n{\r\n\r\n\tpublic double distance(double x1, double x2, double y1, double y2)\r\n\t{\r\n\t\tdouble x = Math.pow(x2 - x1, 2);\r\n\t\tdouble y = Math.pow(y2 - y1, 2);\r\n\t\tdouble dist = (Math.sqrt(x+y));\r\n\t\treturn dist;\r\n\t}\r\n\tpublic double slope(double x1, double x2, double y1, double y2)\r\n\t{\r\n\t\tdouble ansslope = (double)((y2-y1)/(x2-x1));\r\n\t\treturn ansslope;\r\n\t}\r\n\tpublic double pythagoras(double a, double b)\r\n\t{\r\n\t\tdouble  hypotenus = (Math.sqrt((a*a) + (b*b)));\r\n\t\treturn hypotenus;\r\n\t}\r\n}\r\n\r\npublic class Geometry\r\n{\r\n\tpublic static void main(String args[])\r\n\t{\r\n\t\tGeometryHelper solver = new GeometryHelper();\r\n\t\tSystem.out.println(&quot;Distance between (2,5) and (6,7): &quot; + solver.distance(2,5,6,7));\r\n\t\tSystem.out.println(&quot;Slope of a line with two points (2,5) and (6,7): &quot; + solver.slope(2,5,6,7));\r\n\t\tSystem.out.println(&quot;Hypotenuse of a right triangle with sides 3 and 4: &quot; + solver.pythagoras(3,4));\r\n\t}\r\n}\r\n```","title":"How can I fix my code to be able to run all three methods?","body":"<ul>\n<li><p>constructor is missing in <code>GeometryHelper</code> class</p>\n</li>\n<li><p><code>;</code> should not there in end of methods</p>\n</li>\n<li><p>if you want to use the methods of the classes, it should be like</p>\n</li>\n</ul>\n<p>this : <code>solver.distance() , solver.slope() , etc</code>\nwhere <code>GeometryHelper solver = new GeometryHelper();</code></p>\n<p>I have debugged the code, hope below code helps you\nif there is doubt, you are free to ask</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nimport java.util.*;\n\nclass GeometryHelper\n{\n\n    public double distance(double x1, double x2, double y1, double y2)\n    {\n        double x = Math.pow(x2 - x1, 2);\n        double y = Math.pow(y2 - y1, 2);\n        double dist = (Math.sqrt(x+y));\n        return dist;\n    }\n    public double slope(double x1, double x2, double y1, double y2)\n    {\n        double ansslope = (double)((y2-y1)/(x2-x1));\n        return ansslope;\n    }\n    public double pythagoras(double a, double b)\n    {\n        double  hypotenus = (Math.sqrt((a*a) + (b*b)));\n        return hypotenus;\n    }\n}\n\npublic class Geometry\n{\n    public static void main(String args[])\n    {\n        GeometryHelper solver = new GeometryHelper();\n        System.out.println(&quot;Distance between (2,5) and (6,7): &quot; + solver.distance(2,5,6,7));\n        System.out.println(&quot;Slope of a line with two points (2,5) and (6,7): &quot; + solver.slope(2,5,6,7));\n        System.out.println(&quot;Hypotenuse of a right triangle with sides 3 and 4: &quot; + solver.pythagoras(3,4));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661633335,"creation_date":1661633335,"answer_id":73514325,"question_id":73513157,"body_markdown":"GeometryHelper would be better as a class with static methods that perform various computation. This way you won&#39;t need to create an object each time you have to compute the distance of two points.\r\n\r\nBelow is the code that you are probably looking for.\r\n\r\n```\r\nclass GeometryHelper {\r\n   static double distance(double x1, double x2, double y1, double y2){\r\n      return (Math.sqrt(Math.pow(x2 - x1, 2)+Math.pow(y2 - y1, 2)));\r\n   }\r\n   static double slope(double x1, double x2, double y1, double y2){\r\n      return(double)((y2-y1)/(x2-x1));\r\n   }\r\n   static double pythagoras(double a, double b){\r\n      return (Math.sqrt((a*a) + (b*b)));\r\n   }\r\n}\r\n\r\npublic class Main{\r\n    public static void main(String[] args){\r\n        System.out.println(&quot;Distance between (2,5) and (6,7): &quot; + \r\n                           GeometryHelper.distance(1.0, 2.0, 3.0, 4.0));\r\n        System.out.println(&quot;Slope of a line with two points (2,5) and (6,7): &quot; + \r\n                          GeometryHelper.slope(1.0, 2.0, 3.0, 4.0));\r\n        System.out.println(&quot;Hypotenuse of a right triangle with sides 3 and 4: &quot; + \r\n                         GeometryHelper.pythagoras(3, 4));\r\n    }\r\n}\r\n```","title":"How can I fix my code to be able to run all three methods?","body":"<p>GeometryHelper would be better as a class with static methods that perform various computation. This way you won't need to create an object each time you have to compute the distance of two points.</p>\n<p>Below is the code that you are probably looking for.</p>\n<pre><code>class GeometryHelper {\n   static double distance(double x1, double x2, double y1, double y2){\n      return (Math.sqrt(Math.pow(x2 - x1, 2)+Math.pow(y2 - y1, 2)));\n   }\n   static double slope(double x1, double x2, double y1, double y2){\n      return(double)((y2-y1)/(x2-x1));\n   }\n   static double pythagoras(double a, double b){\n      return (Math.sqrt((a*a) + (b*b)));\n   }\n}\n\npublic class Main{\n    public static void main(String[] args){\n        System.out.println(&quot;Distance between (2,5) and (6,7): &quot; + \n                           GeometryHelper.distance(1.0, 2.0, 3.0, 4.0));\n        System.out.println(&quot;Slope of a line with two points (2,5) and (6,7): &quot; + \n                          GeometryHelper.slope(1.0, 2.0, 3.0, 4.0));\n        System.out.println(&quot;Hypotenuse of a right triangle with sides 3 and 4: &quot; + \n                         GeometryHelper.pythagoras(3, 4));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":26175191,"reputation":7,"user_id":19859475,"display_name":"Sri Abhinav Thatavarthi"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"answer_count":3,"score":-2,"last_activity_date":1661634031,"creation_date":1661621863,"question_id":73513157,"body_markdown":"I&#39;m extremely new to Java (started less than a week ago) and need some help for Computer Science A. I&#39;ve tried various things such as searching up the errors i&#39;m receiving but it has been to no avail.\r\n\r\n\r\n    public class Geometry\r\n    {\r\n        public static void main(String[] args)\r\n        {\r\n            GeometryHelper solver1 = new GeometryHelper(1.0, 2.0, 3.0, 4.0);\r\n            GeometryHelper solver2 = new GeometryHelper(3, 4);\r\n            System.out.println(&quot;Distance between (2,5) and (6,7): &quot; + distance);\r\n            System.out.println(&quot;Slope of a line with two points (2,5) and (6,7): &quot; + slope);\r\n            System.out.println(&quot;Hypotenuse of a right triangle with sides 3 and 4: &quot; + pythagoras);\r\n        }\r\n    }\r\n    \r\n    public class GeometryHelper\r\n    {\r\n        public int x1;\r\n        public int x2;\r\n        public int y1;\r\n        public int y2;\r\n        public int a;\r\n        public int b;\r\n        public int c;\r\n    public double distance(double xl, double x2, double y1, double y2);\r\n    {\r\n        double x = Math.pow(x2 - x1, 2);\r\n        double y = Math.pow(y2 - y1, 2);\r\n        double dist = (Math.sqrt(x+y));\r\n        return dist;\r\n    }\r\n    public double slope(double xl, double x2, double y1, double y2);\r\n    {\r\n        ansslope = (double)((y2-y1)/(x2-x1));\r\n        return ansslope;\r\n    }\r\n    public double pythagoras(double a, double b);\r\n    {\r\n        hypotenus = (Math.sqrt((a*a) + (b*b)));\r\n        return hypotenus;\r\n    }\r\n    }\r\n\r\nErrors:\r\n\r\n\r\n    /tmp/compilejava-fPdFIa/Geometry.java:7: error: constructor GeometryHelper in class GeometryHelper cannot be applied to given types;\r\n            GeometryHelper solver1 = new GeometryHelper(1.0, 2.0, 3.0, 4.0);\r\n                                     ^\r\n      required: no arguments\r\n      found:    double,double,double,double\r\n      reason: actual and formal argument lists differ in length\r\n    /tmp/compilejava-fPdFIa/Geometry.java:8: error: constructor GeometryHelper in class GeometryHelper cannot be applied to given types;\r\n            GeometryHelper solver2 = new GeometryHelper(3, 4);\r\n                                     ^\r\n      required: no arguments\r\n      found:    int,int\r\n      reason: actual and formal argument lists differ in length\r\n    /tmp/compilejava-fPdFIa/Geometry.java:9: error: cannot find symbol\r\n            System.out.println(&quot;Distance between (2,5) and (6,7): &quot; + distance);\r\n                                                                      ^\r\n      symbol:   variable distance\r\n      location: class Geometry\r\n    /tmp/compilejava-fPdFIa/Geometry.java:10: error: cannot find symbol\r\n            System.out.println(&quot;Slope of a line with two points (2,5) and (6,7): &quot; + slope);\r\n                                                                                     ^\r\n      symbol:   variable slope\r\n      location: class Geometry\r\n    /tmp/compilejava-fPdFIa/Geometry.java:11: error: cannot find symbol\r\n            System.out.println(&quot;Hypotenuse of a right triangle with sides 3 and 4: &quot; + pythagoras);\r\n                                                                                       ^\r\n      symbol:   variable pythagoras\r\n      location: class Geometry\r\n    /tmp/compilejava-fPdFIa/GeometryHelper.java:11: error: missing method body, or declare abstract\r\n    public double distance(double xl, double x2, double y1, double y2);\r\n                  ^\r\n    /tmp/compilejava-fPdFIa/GeometryHelper.java:16: error: return outside method\r\n        return dist;\r\n        ^\r\n    /tmp/compilejava-fPdFIa/GeometryHelper.java:18: error: missing method body, or declare abstract\r\n    public double slope(double xl, double x2, double y1, double y2);\r\n                  ^\r\n    /tmp/compilejava-fPdFIa/GeometryHelper.java:20: error: cannot find symbol\r\n        ansslope = (double)((y2-y1)/(x2-x1));\r\n        ^\r\n      symbol:   variable ansslope\r\n      location: class GeometryHelper\r\n    /tmp/compilejava-fPdFIa/GeometryHelper.java:21: error: return outside method\r\n        return ansslope;\r\n        ^\r\n    /tmp/compilejava-fPdFIa/GeometryHelper.java:23: error: missing method body, or declare abstract\r\n    public double pythagoras(double a, double b);\r\n                  ^\r\n    /tmp/compilejava-fPdFIa/GeometryHelper.java:25: error: cannot find symbol\r\n        hypotenus = (Math.sqrt((a*a) + (b*b)));\r\n        ^\r\n      symbol:   variable hypotenus\r\n      location: class GeometryHelper\r\n    /tmp/compilejava-fPdFIa/GeometryHelper.java:26: error: return outside method\r\n        return hypotenus;\r\n        ^\r\n    13 errors`\r\n","title":"How can I fix my code to be able to run all three methods?","body":"<p>I'm extremely new to Java (started less than a week ago) and need some help for Computer Science A. I've tried various things such as searching up the errors i'm receiving but it has been to no avail.</p>\n<pre><code>public class Geometry\n{\n    public static void main(String[] args)\n    {\n        GeometryHelper solver1 = new GeometryHelper(1.0, 2.0, 3.0, 4.0);\n        GeometryHelper solver2 = new GeometryHelper(3, 4);\n        System.out.println(&quot;Distance between (2,5) and (6,7): &quot; + distance);\n        System.out.println(&quot;Slope of a line with two points (2,5) and (6,7): &quot; + slope);\n        System.out.println(&quot;Hypotenuse of a right triangle with sides 3 and 4: &quot; + pythagoras);\n    }\n}\n\npublic class GeometryHelper\n{\n    public int x1;\n    public int x2;\n    public int y1;\n    public int y2;\n    public int a;\n    public int b;\n    public int c;\npublic double distance(double xl, double x2, double y1, double y2);\n{\n    double x = Math.pow(x2 - x1, 2);\n    double y = Math.pow(y2 - y1, 2);\n    double dist = (Math.sqrt(x+y));\n    return dist;\n}\npublic double slope(double xl, double x2, double y1, double y2);\n{\n    ansslope = (double)((y2-y1)/(x2-x1));\n    return ansslope;\n}\npublic double pythagoras(double a, double b);\n{\n    hypotenus = (Math.sqrt((a*a) + (b*b)));\n    return hypotenus;\n}\n}\n</code></pre>\n<p>Errors:</p>\n<pre><code>/tmp/compilejava-fPdFIa/Geometry.java:7: error: constructor GeometryHelper in class GeometryHelper cannot be applied to given types;\n        GeometryHelper solver1 = new GeometryHelper(1.0, 2.0, 3.0, 4.0);\n                                 ^\n  required: no arguments\n  found:    double,double,double,double\n  reason: actual and formal argument lists differ in length\n/tmp/compilejava-fPdFIa/Geometry.java:8: error: constructor GeometryHelper in class GeometryHelper cannot be applied to given types;\n        GeometryHelper solver2 = new GeometryHelper(3, 4);\n                                 ^\n  required: no arguments\n  found:    int,int\n  reason: actual and formal argument lists differ in length\n/tmp/compilejava-fPdFIa/Geometry.java:9: error: cannot find symbol\n        System.out.println(&quot;Distance between (2,5) and (6,7): &quot; + distance);\n                                                                  ^\n  symbol:   variable distance\n  location: class Geometry\n/tmp/compilejava-fPdFIa/Geometry.java:10: error: cannot find symbol\n        System.out.println(&quot;Slope of a line with two points (2,5) and (6,7): &quot; + slope);\n                                                                                 ^\n  symbol:   variable slope\n  location: class Geometry\n/tmp/compilejava-fPdFIa/Geometry.java:11: error: cannot find symbol\n        System.out.println(&quot;Hypotenuse of a right triangle with sides 3 and 4: &quot; + pythagoras);\n                                                                                   ^\n  symbol:   variable pythagoras\n  location: class Geometry\n/tmp/compilejava-fPdFIa/GeometryHelper.java:11: error: missing method body, or declare abstract\npublic double distance(double xl, double x2, double y1, double y2);\n              ^\n/tmp/compilejava-fPdFIa/GeometryHelper.java:16: error: return outside method\n    return dist;\n    ^\n/tmp/compilejava-fPdFIa/GeometryHelper.java:18: error: missing method body, or declare abstract\npublic double slope(double xl, double x2, double y1, double y2);\n              ^\n/tmp/compilejava-fPdFIa/GeometryHelper.java:20: error: cannot find symbol\n    ansslope = (double)((y2-y1)/(x2-x1));\n    ^\n  symbol:   variable ansslope\n  location: class GeometryHelper\n/tmp/compilejava-fPdFIa/GeometryHelper.java:21: error: return outside method\n    return ansslope;\n    ^\n/tmp/compilejava-fPdFIa/GeometryHelper.java:23: error: missing method body, or declare abstract\npublic double pythagoras(double a, double b);\n              ^\n/tmp/compilejava-fPdFIa/GeometryHelper.java:25: error: cannot find symbol\n    hypotenus = (Math.sqrt((a*a) + (b*b)));\n    ^\n  symbol:   variable hypotenus\n  location: class GeometryHelper\n/tmp/compilejava-fPdFIa/GeometryHelper.java:26: error: return outside method\n    return hypotenus;\n    ^\n13 errors`\n</code></pre>\n"},{"tags":["java","database","postgresql","migration","liquibase"],"answers":[{"tags":[],"owner":{"account_id":881640,"reputation":4624,"user_id":266254,"accept_rate":47,"display_name":"bilak"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1551855473,"creation_date":1551855473,"answer_id":55017307,"question_id":55005442,"body_markdown":"[here](https://www.liquibase.org/documentation/liquibase.properties.html) you have info about liquibase properties. However if you want to use your own properties you can put in property file `parameter.property1` and then use `${property1}` in your changelog as placeholder.","title":"Liquibase.properties read env variables","body":"<p><a href=\"https://www.liquibase.org/documentation/liquibase.properties.html\" rel=\"nofollow noreferrer\">here</a> you have info about liquibase properties. However if you want to use your own properties you can put in property file <code>parameter.property1</code> and then use <code>${property1}</code> in your changelog as placeholder.</p>\n"},{"tags":[],"owner":{"account_id":7080044,"reputation":29,"user_id":5418766,"display_name":"Christian K&#228;mper"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1573806300,"creation_date":1573806300,"answer_id":58872950,"question_id":55005442,"body_markdown":"For the time being there is no way to use environment variables in the liquibase.properties file. This have to be implemented in the source code since Java by default won&#39;t recognize them. See https://stackoverflow.com/a/2263944/5418766 for details.\r\n\r\nI had a similar problem trying to read the database credentials from a Bitwarden vault. I&#39;ve ended up using the variables in the batch file (I&#39;m using Windows) calling Liquibase and that worked for me.\r\n ","title":"Liquibase.properties read env variables","body":"<p>For the time being there is no way to use environment variables in the liquibase.properties file. This have to be implemented in the source code since Java by default won't recognize them. See <a href=\"https://stackoverflow.com/a/2263944/5418766\">https://stackoverflow.com/a/2263944/5418766</a> for details.</p>\n\n<p>I had a similar problem trying to read the database credentials from a Bitwarden vault. I've ended up using the variables in the batch file (I'm using Windows) calling Liquibase and that worked for me.</p>\n"}],"owner":{"account_id":7884182,"reputation":991,"user_id":5956940,"display_name":"Luka poljari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11982,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":2,"score":6,"last_activity_date":1661634010,"creation_date":1551797195,"question_id":55005442,"body_markdown":"I&#39;m using liquibase via command line, i am wondering how to setup liquibase.properties file to read environment variables?\r\n\r\nsomething like:\r\n \r\n\r\n    ***liquibase.properties***\r\n\r\n        driver=org.postgresql.Driver\r\n        classpath=lib/postgresql-42.2.5.jar \r\n        \r\n        url=${DATASOURCE_URL}\r\n        username=${DATASOURCE_USERNAME} \r\n        password=${DATASOURCE_PASSWORD}\r\n        \r\n        changeLogFile=changelogs/master.yaml","title":"Liquibase.properties read env variables","body":"<p>I'm using liquibase via command line, i am wondering how to setup liquibase.properties file to read environment variables?</p>\n\n<p>something like:</p>\n\n<pre><code>***liquibase.properties***\n\n    driver=org.postgresql.Driver\n    classpath=lib/postgresql-42.2.5.jar \n\n    url=${DATASOURCE_URL}\n    username=${DATASOURCE_USERNAME} \n    password=${DATASOURCE_PASSWORD}\n\n    changeLogFile=changelogs/master.yaml\n</code></pre>\n"},{"tags":["java","android","kotlin","ongloballayoutlistener"],"answers":[{"tags":[],"owner":{"account_id":11417863,"reputation":1016,"user_id":8370216,"display_name":"Abhijith mogaveera"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1661633971,"creation_date":1661618203,"answer_id":73512712,"question_id":73512130,"body_markdown":"    fun View.treeObserverCheck(closure: () -&gt; Unit) {\r\n        if (this.viewTreeObserver.isAlive) {\r\n            this.viewTreeObserver.addOnGlobalLayoutListener (\r\n                object : ViewTreeObserver.OnGlobalLayoutListener {\r\n                    override fun onGlobalLayout() {\r\n                        viewTreeObserver.removeOnGlobalLayoutListener(this)\r\n                        closure.invoke()\r\n                    }\r\n                }\r\n            )\r\n        }\r\n    }\r\n\r\nyou have used flower brackets instead of round brackets [line no 3]\r\n\r\n \r\n\r\n      \r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9Zlxg.png","title":"Why is View addOnGlobalLayoutListener not calling when I migrate to Kotlin extensions?","body":"<pre><code>fun View.treeObserverCheck(closure: () -&gt; Unit) {\n    if (this.viewTreeObserver.isAlive) {\n        this.viewTreeObserver.addOnGlobalLayoutListener (\n            object : ViewTreeObserver.OnGlobalLayoutListener {\n                override fun onGlobalLayout() {\n                    viewTreeObserver.removeOnGlobalLayoutListener(this)\n                    closure.invoke()\n                }\n            }\n        )\n    }\n}\n</code></pre>\n<p>you have used flower brackets instead of round brackets [line no 3]</p>\n<p><a href=\"https://i.stack.imgur.com/9Zlxg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9Zlxg.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":3764879,"reputation":1538,"user_id":3128638,"accept_rate":62,"display_name":"Zack"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":538,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73512712,"answer_count":1,"score":0,"last_activity_date":1661633971,"creation_date":1661612940,"question_id":73512130,"body_markdown":"I am trying to migrate my Java class function to Kotlin extension function. The function calls addOnGlobalLayoutListener which registers a callback to be invoked when the global layout state or the visibility of views within the view tree changes. This is my Java function working normally as UtilClass.viewTreeObserverCheck(target) {}\r\n```\r\npublic static final void viewTreeObserverCheck(View target, CustomVoidClosure function) {\r\n        if (target.getViewTreeObserver().isAlive()) {\r\n            // callback to be invoked when the global layout state or the visibility of views within the view tree changes\r\n            target.getViewTreeObserver().addOnGlobalLayoutListener(new ViewTreeObserver.OnGlobalLayoutListener() {\r\n                @Override\r\n                public void onGlobalLayout() {\r\n                    target.getViewTreeObserver().removeOnGlobalLayoutListener(this);\r\n                    function.invoke();\r\n                }\r\n            });\r\n        }\r\n    }\r\n```\r\nI have migrated to Kotlin View extension below. This does not call as view.treeObserverCheck {}\r\n```\r\nfun View.treeObserverCheck(closure: () -&gt; Unit) {\r\n    if (this.viewTreeObserver.isAlive) {\r\n        // callback to be invoked when the global layout state or the visibility of views within the view tree changes\r\n        this.viewTreeObserver.addOnGlobalLayoutListener {\r\n            object : ViewTreeObserver.OnGlobalLayoutListener {\r\n                override fun onGlobalLayout() {\r\n                    viewTreeObserver.removeOnGlobalLayoutListener(this)\r\n                    closure.invoke()\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n```","title":"Why is View addOnGlobalLayoutListener not calling when I migrate to Kotlin extensions?","body":"<p>I am trying to migrate my Java class function to Kotlin extension function. The function calls addOnGlobalLayoutListener which registers a callback to be invoked when the global layout state or the visibility of views within the view tree changes. This is my Java function working normally as UtilClass.viewTreeObserverCheck(target) {}</p>\n<pre><code>public static final void viewTreeObserverCheck(View target, CustomVoidClosure function) {\n        if (target.getViewTreeObserver().isAlive()) {\n            // callback to be invoked when the global layout state or the visibility of views within the view tree changes\n            target.getViewTreeObserver().addOnGlobalLayoutListener(new ViewTreeObserver.OnGlobalLayoutListener() {\n                @Override\n                public void onGlobalLayout() {\n                    target.getViewTreeObserver().removeOnGlobalLayoutListener(this);\n                    function.invoke();\n                }\n            });\n        }\n    }\n</code></pre>\n<p>I have migrated to Kotlin View extension below. This does not call as view.treeObserverCheck {}</p>\n<pre><code>fun View.treeObserverCheck(closure: () -&gt; Unit) {\n    if (this.viewTreeObserver.isAlive) {\n        // callback to be invoked when the global layout state or the visibility of views within the view tree changes\n        this.viewTreeObserver.addOnGlobalLayoutListener {\n            object : ViewTreeObserver.OnGlobalLayoutListener {\n                override fun onGlobalLayout() {\n                    viewTreeObserver.removeOnGlobalLayoutListener(this)\n                    closure.invoke()\n                }\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","docker","hadoop","pyspark","aws-lambda"],"comments":[{"owner":{"account_id":86360,"reputation":2619,"user_id":887934,"accept_rate":45,"display_name":"fuyi"},"score":0,"creation_date":1661633308,"post_id":73514304,"comment_id":129819760,"body_markdown":"also I have both hadoop-aws-3.3.2  and aws-java-sdk-bundle-1.12.289.jar added to PYSPARK_HOME so my pipeline can write parquet file to S3","body":"also I have both hadoop-aws-3.3.2  and aws-java-sdk-bundle-1.12.289.jar added to PYSPARK_HOME so my pipeline can write parquet file to S3"},{"owner":{"account_id":5907827,"reputation":1534,"user_id":4648969,"display_name":"bzu"},"score":0,"creation_date":1661688868,"post_id":73514304,"comment_id":129826735,"body_markdown":"Is there any particular reason to use lambda for this? AWS Glue jobs provide full Spark runtime so you could do your processing there.","body":"Is there any particular reason to use lambda for this? AWS Glue jobs provide full Spark runtime so you could do your processing there."}],"owner":{"account_id":86360,"reputation":2619,"user_id":887934,"accept_rate":45,"display_name":"fuyi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661633137,"creation_date":1661633137,"question_id":73514304,"body_markdown":"I have create a pyspark batch pipeline and packed into a docker container. everything works fine locally until I deploy it to run as AWS lambda function.\r\n\r\nThe error message is as follows:\r\n\r\n**java.lang.RuntimeException: java.lang.ClassNotFoundException: Class org.apache.hadoop.fs.s3a.S3AFileSystem not found**\r\n\r\n\r\nand trackback is\r\n\r\n&gt; Traceback (most recent call last):\r\nFile &quot;/var/task/pipeline.py&quot;, line 71, in &lt;module&gt;\r\ndf.write.mode(&quot;overwrite&quot;).parquet(parquet_output)\r\nFile &quot;/var/lang/lib/python3.8/site-packages/pyspark/sql/readwriter.py&quot;, line 1140, in parquet\r\nself._jwrite.parquet(path)\r\nFile &quot;/var/lang/lib/python3.8/site-packages/py4j/java_gateway.py&quot;, line 1321, in __call__\r\nreturn_value = get_return_value(\r\nFile &quot;/var/lang/lib/python3.8/site-packages/pyspark/sql/utils.py&quot;, line 190, in deco\r\nreturn f(*a, **kw)\r\nFile &quot;/var/lang/lib/python3.8/site-packages/py4j/protocol.py&quot;, line 326, in get_return_value\r\nraise Py4JJavaError(\r\npy4j.protocol.Py4JJavaError: An error occurred while calling o47.parquet.\r\n: java.lang.RuntimeException: java.lang.ClassNotFoundException: Class org.apache.hadoop.fs.s3a.S3AFileSystem not found\r\nat org.apache.hadoop.conf.Configuration.getClass(Configuration.java:2688)\r\nat org.apache.hadoop.fs.FileSystem.getFileSystemClass(FileSystem.java:3431)\r\nat org.apache.hadoop.fs.FileSystem.createFileSystem(FileSystem.java:3466)\r\nat org.apache.hadoop.fs.FileSystem.access$300(FileSystem.java:174)\r\nat org.apache.hadoop.fs.FileSystem$Cache.getInternal(FileSystem.java:3574)\r\nat org.apache.hadoop.fs.FileSystem$Cache.get(FileSystem.java:3521)\r\nat org.apache.hadoop.fs.FileSystem.get(FileSystem.java:540)\r\nat org.apache.hadoop.fs.Path.getFileSystem(Path.java:365)\r\nat org.apache.spark.sql.execution.datasources.DataSource.planForWritingFileFormat(DataSource.scala:461)\r\nat org.apache.spark.sql.execution.datasources.DataSource.planForWriting(DataSource.scala:558)\r\nat org.apache.spark.sql.DataFrameWriter.saveToV1Source(DataFrameWriter.scala:390)\r\nat org.apache.spark.sql.DataFrameWriter.saveInternal(DataFrameWriter.scala:363)\r\nat org.apache.spark.sql.DataFrameWriter.save(DataFrameWriter.scala:239)\r\nat org.apache.spark.sql.DataFrameWriter.parquet(DataFrameWriter.scala:793)\r\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\nat java.lang.reflect.Method.invoke(Method.java:498)\r\nat py4j.reflection.MethodInvoker.invoke(MethodInvoker.java:244)\r\nat py4j.reflection.ReflectionEngine.invoke(ReflectionEngine.java:357)\r\nat py4j.Gateway.invoke(Gateway.java:282)\r\nat py4j.commands.AbstractCommand.invokeMethod(AbstractCommand.java:132)\r\nat py4j.commands.CallCommand.execute(CallCommand.java:79)\r\nat py4j.ClientServerConnection.waitForCommands(ClientServerConnection.java:182)\r\nat py4j.ClientServerConnection.run(ClientServerConnection.java:106)\r\nat java.lang.Thread.run(Thread.java:750)\r\nCaused by: java.lang.ClassNotFoundException: Class org.apache.hadoop.fs.s3a.S3AFileSystem not found\r\nat org.apache.hadoop.conf.Configuration.getClassByName(Configuration.java:2592)\r\nat org.apache.hadoop.conf.Configuration.getClass(Configuration.java:2686)\r\n... 25 more\r\nEND RequestId: fde8d18e-0a38-4242-a919-8f94530a87e4\r\nREPORT RequestId: fde8d18e-0a38-4242-a919-8f94530a87e4\tDuration: 32409.88 ms\tBilled Duration: 32410 ms\tMemory Size: 5120 MB\tMax Memory Used: 472 MB\t\r\nRequestId: fde8d18e-0a38-4242-a919-8f94530a87e4 Error: Runtime exited with error: exit status 1\r\nRuntime.ExitError\r\n\r\nMy question here is:\r\n\r\nHow come the same container image works locally but not on lambda? My understanding is that if a Docker image runs locally, it should also work when it is deployed to any cloud environment since it is self-contained.\r\n\r\nAm I misunderstanding something?","title":"pyspark container work locally but not when deployed to AWS lambda","body":"<p>I have create a pyspark batch pipeline and packed into a docker container. everything works fine locally until I deploy it to run as AWS lambda function.</p>\n<p>The error message is as follows:</p>\n<p><strong>java.lang.RuntimeException: java.lang.ClassNotFoundException: Class org.apache.hadoop.fs.s3a.S3AFileSystem not found</strong></p>\n<p>and trackback is</p>\n<blockquote>\n<p>Traceback (most recent call last):\nFile &quot;/var/task/pipeline.py&quot;, line 71, in \ndf.write.mode(&quot;overwrite&quot;).parquet(parquet_output)\nFile &quot;/var/lang/lib/python3.8/site-packages/pyspark/sql/readwriter.py&quot;, line 1140, in parquet\nself._jwrite.parquet(path)\nFile &quot;/var/lang/lib/python3.8/site-packages/py4j/java_gateway.py&quot;, line 1321, in <strong>call</strong>\nreturn_value = get_return_value(\nFile &quot;/var/lang/lib/python3.8/site-packages/pyspark/sql/utils.py&quot;, line 190, in deco\nreturn f(*a, **kw)\nFile &quot;/var/lang/lib/python3.8/site-packages/py4j/protocol.py&quot;, line 326, in get_return_value\nraise Py4JJavaError(\npy4j.protocol.Py4JJavaError: An error occurred while calling o47.parquet.\n: java.lang.RuntimeException: java.lang.ClassNotFoundException: Class org.apache.hadoop.fs.s3a.S3AFileSystem not found\nat org.apache.hadoop.conf.Configuration.getClass(Configuration.java:2688)\nat org.apache.hadoop.fs.FileSystem.getFileSystemClass(FileSystem.java:3431)\nat org.apache.hadoop.fs.FileSystem.createFileSystem(FileSystem.java:3466)\nat org.apache.hadoop.fs.FileSystem.access$300(FileSystem.java:174)\nat org.apache.hadoop.fs.FileSystem$Cache.getInternal(FileSystem.java:3574)\nat org.apache.hadoop.fs.FileSystem$Cache.get(FileSystem.java:3521)\nat org.apache.hadoop.fs.FileSystem.get(FileSystem.java:540)\nat org.apache.hadoop.fs.Path.getFileSystem(Path.java:365)\nat org.apache.spark.sql.execution.datasources.DataSource.planForWritingFileFormat(DataSource.scala:461)\nat org.apache.spark.sql.execution.datasources.DataSource.planForWriting(DataSource.scala:558)\nat org.apache.spark.sql.DataFrameWriter.saveToV1Source(DataFrameWriter.scala:390)\nat org.apache.spark.sql.DataFrameWriter.saveInternal(DataFrameWriter.scala:363)\nat org.apache.spark.sql.DataFrameWriter.save(DataFrameWriter.scala:239)\nat org.apache.spark.sql.DataFrameWriter.parquet(DataFrameWriter.scala:793)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)\nat py4j.reflection.MethodInvoker.invoke(MethodInvoker.java:244)\nat py4j.reflection.ReflectionEngine.invoke(ReflectionEngine.java:357)\nat py4j.Gateway.invoke(Gateway.java:282)\nat py4j.commands.AbstractCommand.invokeMethod(AbstractCommand.java:132)\nat py4j.commands.CallCommand.execute(CallCommand.java:79)\nat py4j.ClientServerConnection.waitForCommands(ClientServerConnection.java:182)\nat py4j.ClientServerConnection.run(ClientServerConnection.java:106)\nat java.lang.Thread.run(Thread.java:750)\nCaused by: java.lang.ClassNotFoundException: Class org.apache.hadoop.fs.s3a.S3AFileSystem not found\nat org.apache.hadoop.conf.Configuration.getClassByName(Configuration.java:2592)\nat org.apache.hadoop.conf.Configuration.getClass(Configuration.java:2686)\n... 25 more\nEND RequestId: fde8d18e-0a38-4242-a919-8f94530a87e4\nREPORT RequestId: fde8d18e-0a38-4242-a919-8f94530a87e4  Duration: 32409.88 ms   Billed Duration: 32410 ms   Memory Size: 5120 MB    Max Memory Used: 472 MB\nRequestId: fde8d18e-0a38-4242-a919-8f94530a87e4 Error: Runtime exited with error: exit status 1\nRuntime.ExitError</p>\n</blockquote>\n<p>My question here is:</p>\n<p>How come the same container image works locally but not on lambda? My understanding is that if a Docker image runs locally, it should also work when it is deployed to any cloud environment since it is self-contained.</p>\n<p>Am I misunderstanding something?</p>\n"},{"tags":["java","audio"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1476971657,"post_id":40153779,"comment_id":67581534,"body_markdown":"Your `while` loops are the cause of your problem.  Their whole purpose is to prevent the method from returning until the sound finishes.","body":"Your <code>while</code> loops are the cause of your problem.  Their whole purpose is to prevent the method from returning until the sound finishes."}],"answers":[{"tags":[],"owner":{"account_id":9327363,"reputation":40,"user_id":6924162,"accept_rate":60,"display_name":"JAlmazan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1476965312,"creation_date":1476965312,"answer_id":40154007,"question_id":40153779,"body_markdown":"To play a clip you should follow this code from a java documentation:\r\n\r\n    import java.net.URL;\r\n    import javax.swing.*;\r\n    import javax.sound.sampled.*;\r\n    \r\n        public class LoopSound {\r\n    \r\n        public static void main(String[] args) throws Exception {\r\n            URL url = new URL(\r\n                &quot;http://pscode.org/media/leftright.wav&quot;);\r\n            Clip clip = AudioSystem.getClip();\r\n            // getAudioInputStream() also accepts a File or InputStream\r\n            AudioInputStream ais = AudioSystem.\r\n                getAudioInputStream( url );\r\n            clip.open(ais);\r\n            clip.loop(Clip.LOOP_CONTINUOUSLY);\r\n            SwingUtilities.invokeLater(new Runnable() {\r\n                public void run() {\r\n                    // A GUI element to prevent the Clip&#39;s daemon Thread\r\n                    // from terminating at the end of the main()\r\n                    JOptionPane.showMessageDialog(null, &quot;Close to exit!&quot;);\r\n                }\r\n            });\r\n        }}\r\n\r\nand since you want to play clips simultaneously, you can try doing this:\r\n\r\n  \r\n\r\n      import java.net.URL;\r\n        import javax.swing.*;\r\n        import javax.sound.sampled.*;\r\n    \r\n        public class LoopSounds {\r\n    \r\n        public static void main(String[] args) throws Exception {\r\n            URL url = new URL(\r\n                &quot;http://pscode.org/media/leftright.wav&quot;);\r\n            Clip clip = AudioSystem.getClip();\r\n            AudioInputStream ais = AudioSystem.\r\n                getAudioInputStream( url );\r\n            clip.open(ais);\r\n    \r\n            URL url2 = new URL(\r\n                &quot;http://pscode.org/media/100_2817-linear.wav&quot;);\r\n            Clip clip2 = AudioSystem.getClip();\r\n            AudioInputStream ais2 = AudioSystem.\r\n                getAudioInputStream( url2 );\r\n            clip2.open(ais2);\r\n    \r\n            // loop continuously\r\n            clip.loop(Clip.LOOP_CONTINUOUSLY);\r\n            clip2.loop(Clip.LOOP_CONTINUOUSLY);\r\n            SwingUtilities.invokeLater(new Runnable() {\r\n                public void run() {\r\n                    // A GUI element to prevent the Clip&#39;s daemon Thread\r\n                    // from terminating at the end of the main()\r\n                    JOptionPane.showMessageDialog(null, &quot;Close to exit!&quot;);\r\n                }\r\n            });\r\n        }\r\n        }","title":"Playing Multiple Sounds at once Java","body":"<p>To play a clip you should follow this code from a java documentation:</p>\n\n<pre><code>import java.net.URL;\nimport javax.swing.*;\nimport javax.sound.sampled.*;\n\n    public class LoopSound {\n\n    public static void main(String[] args) throws Exception {\n        URL url = new URL(\n            \"http://pscode.org/media/leftright.wav\");\n        Clip clip = AudioSystem.getClip();\n        // getAudioInputStream() also accepts a File or InputStream\n        AudioInputStream ais = AudioSystem.\n            getAudioInputStream( url );\n        clip.open(ais);\n        clip.loop(Clip.LOOP_CONTINUOUSLY);\n        SwingUtilities.invokeLater(new Runnable() {\n            public void run() {\n                // A GUI element to prevent the Clip's daemon Thread\n                // from terminating at the end of the main()\n                JOptionPane.showMessageDialog(null, \"Close to exit!\");\n            }\n        });\n    }}\n</code></pre>\n\n<p>and since you want to play clips simultaneously, you can try doing this:</p>\n\n<pre><code>  import java.net.URL;\n    import javax.swing.*;\n    import javax.sound.sampled.*;\n\n    public class LoopSounds {\n\n    public static void main(String[] args) throws Exception {\n        URL url = new URL(\n            \"http://pscode.org/media/leftright.wav\");\n        Clip clip = AudioSystem.getClip();\n        AudioInputStream ais = AudioSystem.\n            getAudioInputStream( url );\n        clip.open(ais);\n\n        URL url2 = new URL(\n            \"http://pscode.org/media/100_2817-linear.wav\");\n        Clip clip2 = AudioSystem.getClip();\n        AudioInputStream ais2 = AudioSystem.\n            getAudioInputStream( url2 );\n        clip2.open(ais2);\n\n        // loop continuously\n        clip.loop(Clip.LOOP_CONTINUOUSLY);\n        clip2.loop(Clip.LOOP_CONTINUOUSLY);\n        SwingUtilities.invokeLater(new Runnable() {\n            public void run() {\n                // A GUI element to prevent the Clip's daemon Thread\n                // from terminating at the end of the main()\n                JOptionPane.showMessageDialog(null, \"Close to exit!\");\n            }\n        });\n    }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6305110,"reputation":200,"user_id":4898405,"display_name":"Ramesh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1476965368,"creation_date":1476965368,"answer_id":40154037,"question_id":40153779,"body_markdown":"You might try to use multithreading to play multiple sounds at same time.","title":"Playing Multiple Sounds at once Java","body":"<p>You might try to use multithreading to play multiple sounds at same time.</p>\n"},{"tags":[],"owner":{"account_id":26176041,"reputation":1,"user_id":19860190,"display_name":"Arjit"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1661631909,"creation_date":1661631909,"answer_id":73514193,"question_id":40153779,"body_markdown":"you can call play(String file) method multiple times with different filename on each call.","title":"Playing Multiple Sounds at once Java","body":"<p>you can call play(String file) method multiple times with different filename on each call.</p>\n"}],"owner":{"account_id":8752803,"reputation":31,"user_id":7465816,"display_name":"Oli"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2366,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":3,"score":2,"last_activity_date":1661631909,"creation_date":1476964667,"question_id":40153779,"body_markdown":"I&#39;ve been trying to play multiple sounds at once within Java for a little bit now, I have no problem with playing 1 sound at a single time, but if I try to play like 3 at a time, it will only play 1 sound (I hope this makes sense)\r\n\r\nHere is my code:\r\n\r\n\r\n    public static void play(String file) {\r\n    \t\ttry {\r\n    \t\t\tclip = AudioSystem.getClip();\r\n    \t\t\tclip.open(AudioSystem.getAudioInputStream(new File(file)));\r\n    \t\t\tclip.start();\r\n    \t\t\r\n                while (!clip.isRunning())\r\n                    Thread.sleep(10);\r\n                while (clip.isRunning())\r\n                    Thread.sleep(10);\r\n    \t\t\t\r\n    \t\t\tclip.close();\r\n    \t\t} catch (Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n\r\n\r\nAn example of how I use this method:\r\n\r\n    AudioPlayer.play(&quot;sound1.wav&quot;);\r\n\r\n\r\nWhen I also want to be able to do this\r\n\r\n    AudioPlayer.play(&quot;sound1.wav&quot;);\r\n    AudioPlayer.play(&quot;sound2.wav&quot;);\r\n    AudioPlayer.play(&quot;sound3.wav&quot;);\r\n\r\nAlso, not important but it would also be nice to do something like this as well:\r\n\r\n    AudioPlayer.getPlayingSound(&quot;sound1.wav&quot;).setVolume(-0.85f);","title":"Playing Multiple Sounds at once Java","body":"<p>I've been trying to play multiple sounds at once within Java for a little bit now, I have no problem with playing 1 sound at a single time, but if I try to play like 3 at a time, it will only play 1 sound (I hope this makes sense)</p>\n\n<p>Here is my code:</p>\n\n<pre><code>public static void play(String file) {\n        try {\n            clip = AudioSystem.getClip();\n            clip.open(AudioSystem.getAudioInputStream(new File(file)));\n            clip.start();\n\n            while (!clip.isRunning())\n                Thread.sleep(10);\n            while (clip.isRunning())\n                Thread.sleep(10);\n\n            clip.close();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n\n<p>An example of how I use this method:</p>\n\n<pre><code>AudioPlayer.play(\"sound1.wav\");\n</code></pre>\n\n<p>When I also want to be able to do this</p>\n\n<pre><code>AudioPlayer.play(\"sound1.wav\");\nAudioPlayer.play(\"sound2.wav\");\nAudioPlayer.play(\"sound3.wav\");\n</code></pre>\n\n<p>Also, not important but it would also be nice to do something like this as well:</p>\n\n<pre><code>AudioPlayer.getPlayingSound(\"sound1.wav\").setVolume(-0.85f);\n</code></pre>\n"},{"tags":["java","android","crash"],"answers":[{"tags":[],"owner":{"account_id":25901431,"reputation":9,"user_id":19627267,"display_name":"KURONICZ STUDIO"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661631764,"creation_date":1661631764,"answer_id":73514172,"question_id":73513878,"body_markdown":"I found the solution to this, I had to turn to Design Mode and Inspected everything i \r\nfound the problem on line 18 DashboardActivity.xml\r\nI changed this\r\n*com.google.android.material.bottomappbar.BottomAppBar* to \r\n\r\n**com.google.android.material.appbar.AppBarLayout**","title":"From Splash screen to Onboarding where I have 3 slides, then to Dashboard activity which ends up crashing not going through to dashboard","body":"<p>I found the solution to this, I had to turn to Design Mode and Inspected everything i\nfound the problem on line 18 DashboardActivity.xml\nI changed this\n<em>com.google.android.material.bottomappbar.BottomAppBar</em> to</p>\n<p><strong>com.google.android.material.appbar.AppBarLayout</strong></p>\n"}],"owner":{"account_id":25901431,"reputation":9,"user_id":19627267,"display_name":"KURONICZ STUDIO"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1661631764,"creation_date":1661628765,"question_id":73513878,"body_markdown":"I initialy had Radio player i.e RadioActivity, which was working perfectly\r\n**The problem**\r\n***I later decided to have a dashboad as the main activity where you can click a button to take you to the RadioActivty. Now app keeps crashing after splashscreen***\r\n\r\nFind The Codes Below\r\n\r\n**SplashScreen** \r\n```public class SplashScreen extends AppCompatActivity {\r\n\r\n    private static int SPLASH_TIMER = 8000;\r\n\r\n    ImageView backgroundImage;\r\n    ImageView theLogo;\r\n    TextView poweredByLine;\r\n\r\n    Animation sideAnim, bottomAnim;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_splash_screen);\r\n        getWindow().setFlags(WindowManager.LayoutParams.FLAGS_CHANGED,WindowManager.LayoutParams.FLAG_ALT_FOCUSABLE_IM);\r\n        setContentView(R.layout.activity_splash_screen);\r\n\r\n\r\n        backgroundImage = findViewById(R.id.background_image);\r\n        theLogo = findViewById(R.id.the_Logo);\r\n        poweredByLine = findViewById(R.id.powered_by_line);\r\n\r\n        sideAnim = AnimationUtils.loadAnimation(this, R.anim.side_anim);\r\n        bottomAnim = AnimationUtils.loadAnimation(this, R.anim.bottom_anim);\r\n\r\n        backgroundImage.setAnimation(sideAnim);\r\n        theLogo.setAnimation(sideAnim);\r\n        poweredByLine.setAnimation(bottomAnim);\r\n\r\n\r\n        new Handler().postDelayed(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n\r\n                Intent intent = new Intent(getApplicationContext(), OnBoarding.class);\r\n                startActivity(intent);\r\n                finish();\r\n\r\n            }\r\n        },SPLASH_TIMER);\r\n\r\n\r\n\r\n\r\n    }\r\n}\r\n```\r\n\r\n\r\n**OnBoarding**\r\n```public class OnBoarding extends AppCompatActivity {\r\n\r\n    CardView nextCard;\r\n    LinearLayout dotsLayout;\r\n    ViewPager viewPager;\r\n\r\n    TextView[] dots;\r\n    int currentPosition;\r\n    SaveState saveState ;\r\n\r\n    @RequiresApi(api = Build.VERSION_CODES.M)\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n\r\n        getWindow().setFlags(WindowManager.LayoutParams.FLAG_TRANSLUCENT_STATUS,WindowManager.LayoutParams.FLAG_TRANSLUCENT_STATUS);\r\n\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_onboarding);\r\n\r\n        nextCard = findViewById(R.id.nextCard);\r\n        dotsLayout = findViewById(R.id.dotsLayout);\r\n        viewPager = findViewById(R.id.slider);\r\n        dotsFunction(0);\r\n        saveState = new SaveState(OnBoarding.this,&quot;OB&quot;);\r\n        if (saveState.getState() == 1){\r\n            Intent i = new Intent(OnBoarding.this,DashboardActivity.class);\r\n            startActivity(i);\r\n            finish();\r\n        }\r\n\r\n        OnBoardingAdapter adapter = new OnBoardingAdapter(this);\r\n        viewPager.setAdapter(adapter);\r\n        nextCard.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                viewPager.setCurrentItem(currentPosition+1,true);\r\n            }\r\n        });\r\n        viewPager.setOnPageChangeListener(onPageChangeListener);\r\n\r\n    }\r\n\r\n    @RequiresApi(api = Build.VERSION_CODES.M)\r\n    private void dotsFunction(int pos){\r\n        dots = new TextView[4];\r\n        dotsLayout.removeAllViews();\r\n\r\n        for (int i = 0; i &lt; dots.length ; i++){\r\n\r\n            dots[i] = new TextView(this);\r\n            dots[i].setText(Html.fromHtml(&quot;&quot;));\r\n            dots[i].setTextColor(getColor(R.color.white));   //this is the non selection color\r\n            dots[i].setTextSize(30);\r\n\r\n            dotsLayout.addView(dots[i]);\r\n\r\n        }\r\n\r\n        if (dots.length &gt; 0){\r\n            dots[pos].setTextColor(getColor(R.color.teal_700));  //this is the selection color\r\n            dots[pos].setTextSize(40);  //this is the selection size\r\n        }\r\n    }\r\n\r\n    ViewPager.OnPageChangeListener onPageChangeListener = new ViewPager.OnPageChangeListener() {\r\n        @Override\r\n        public void onPageScrolled(int position, float positionOffset, int positionOffsetPixels) {\r\n\r\n        }\r\n\r\n        @RequiresApi(api = Build.VERSION_CODES.M)\r\n        @Override\r\n        public void onPageSelected(int position) {\r\n            dotsFunction(position);\r\n            currentPosition = position;\r\n            if (currentPosition &lt;= 2){\r\n                nextCard.setOnClickListener(new View.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(View view) {\r\n                        viewPager.setCurrentItem(currentPosition+1);\r\n                    }\r\n                });\r\n            }else{\r\n                nextCard.setOnClickListener(new View.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(View view) {\r\n                        saveState.setState(1);\r\n                        Intent i = new Intent(OnBoarding.this, DashboardActivity.class);\r\n                        startActivity(i);\r\n                        finish();\r\n                    }\r\n                });\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public void onPageScrollStateChanged(int state) {\r\n\r\n        }\r\n    };\r\n\r\n\r\n}\r\n```\r\n\r\n**DashBoardActivity**\r\n ```\r\npublic class DashboardActivity extends AppCompatActivity implements View.OnClickListener{\r\n    private ImageView imageViewWebsite,imageViewEvents,imageViewLive,\r\n            imageViewVideos,imageViewBranches,imageViewDonate,\r\n            imageViewEkuwe,imageViewRadio,imageViewAudio;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_dashboard);\r\n\r\n        //defininf Cards\r\n        imageViewWebsite = (ImageView) findViewById(R.id.website_card);\r\n        imageViewEvents = (ImageView) findViewById(R.id.event_card);\r\n        imageViewLive = (ImageView) findViewById(R.id.live_card);\r\n        imageViewVideos = (ImageView) findViewById(R.id.videos_card);\r\n        imageViewBranches = (ImageView) findViewById(R.id.branches_card);\r\n        imageViewDonate = (ImageView) findViewById(R.id.donate_card);\r\n        imageViewEkuwe = (ImageView) findViewById(R.id.ekuwe_card);\r\n        imageViewRadio = (ImageView) findViewById(R.id.radio_card);\r\n        imageViewAudio = (ImageView) findViewById(R.id.audio_card);\r\n\r\n        //Add CLick listener to the card\r\n\r\n        imageViewWebsite.setOnClickListener(this);\r\n        imageViewEvents.setOnClickListener(this);\r\n        imageViewLive.setOnClickListener(this);\r\n        imageViewVideos.setOnClickListener(this);\r\n        imageViewBranches.setOnClickListener(this);\r\n        imageViewDonate.setOnClickListener(this);\r\n        imageViewEkuwe.setOnClickListener(this);\r\n        imageViewRadio.setOnClickListener(this);\r\n        imageViewAudio.setOnClickListener(this);\r\n    }\r\n\r\n    @Override\r\n    public void onClick(View v) {\r\n        Intent i;\r\n\r\n        switch (v.getId()){\r\n            case R.id.website_card : i = new Intent(this, WebsiteActivity.class);startActivity(i); break;\r\n            case R.id.event_card : i = new Intent(this,EventsActivity.class);startActivity(i); break;\r\n            case R.id.live_card : i = new Intent(this, LiveActivity.class);startActivity(i); break;\r\n            case R.id.videos_card : i = new Intent(this, VideoActivity.class);startActivity(i); break;\r\n            case R.id.branches_card : i = new Intent(this,BranchesActivity.class);startActivity(i); break;\r\n            case R.id.donate_card : i = new Intent(this, DonateActivity.class);startActivity(i); break;\r\n            case R.id.ekuwe_card : i = new Intent(this,EkuweActivity.class);startActivity(i); break;\r\n            case R.id.radio_card : i = new Intent(this,RadioActivity.class);startActivity(i); break;\r\n            case R.id.audio_card : i = new Intent(this,AudioActivity.class);startActivity(i); break;\r\n            default:break;\r\n\r\n        }\r\n\r\n    }\r\n}\r\n```\r\n\r\n**RadioActivity**\r\n\r\n```\r\npublic class RadioActivity extends AppCompatActivity {\r\n\r\n    private TextView nowPlaying;\r\n    private ImageView playStop;\r\n    private BroadcastReceiver broadcastReceiver;\r\n    private String nowPlayingData = &quot;&quot;;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_radio);\r\n        playStop = findViewById(R.id.playStopBtn);\r\n        nowPlaying = findViewById(R.id.radioStationNowPlaying);\r\n        setIsPlaying(false);\r\n        processPhoneListenerPermission();\r\n        broadcastReceiver = new BroadcastReceiver() {\r\n            @Override\r\n            public void onReceive(Context context, Intent intent) {\r\n                TelephonyManager tm = (TelephonyManager) context.getSystemService(Service.TELEPHONY_SERVICE);\r\n                if (tm != null) {\r\n                    if (tm.getCallState() == TelephonyManager.CALL_STATE_RINGING) {\r\n                        if (getIsPlaying()) {\r\n                            stop();\r\n                        }\r\n                        System.exit(0);\r\n                    }\r\n                }\r\n            }\r\n        };\r\n        IntentFilter filter = new IntentFilter();\r\n        filter.addAction(&quot;android.intent.action.PHONE_STATE&quot;);\r\n        registerReceiver(broadcastReceiver, filter);\r\n        loadNowPlaying();\r\n        playStop.setOnClickListener(view -&gt; {\r\n            if (isNetworkAvailable()) {\r\n                if (getIsPlaying()) {\r\n                    stop();\r\n                } else {\r\n                    play();\r\n                }\r\n            } else {\r\n                Toast.makeText(getApplicationContext(), &quot;No internet&quot;, Toast.LENGTH_LONG).show();\r\n            }\r\n        });\r\n    }\r\n\r\n    private void loadNowPlaying() {\r\n        Thread t = new Thread() {\r\n            public void run() {\r\n                try {\r\n                    while (!isInterrupted()) {\r\n                        runOnUiThread(() -&gt; reloadShoutCastInfo());\r\n                        Thread.sleep(20000);\r\n                    }\r\n                } catch (InterruptedException ignored) {\r\n                }\r\n            }\r\n        };\r\n        t.start();\r\n    }\r\n\r\n    private void reloadShoutCastInfo() {\r\n        if (isNetworkAvailable()) {\r\n            AsyncTaskRunner runner = new AsyncTaskRunner();\r\n            runner.execute();\r\n        }\r\n    }\r\n\r\n    @SuppressLint(&quot;StaticFieldLeak&quot;)\r\n    private class AsyncTaskRunner extends AsyncTask&lt;String, String, String&gt; {\r\n\r\n        @Override\r\n        protected String doInBackground(String... params) {\r\n            FFmpegMediaMetadataRetriever mmr = new FFmpegMediaMetadataRetriever();\r\n            mmr.setDataSource(STREAMING_URL);\r\n            nowPlayingData = mmr.extractMetadata(FFmpegMediaMetadataRetriever.METADATA_KEY_ICY_METADATA).replaceAll(&quot;StreamTitle&quot;, &quot;&quot;).replaceAll(&quot;[=,&#39;;]+&quot;, &quot;&quot;);\r\n            mmr.release();\r\n            return null;\r\n        }\r\n\r\n        @Override\r\n        protected void onPostExecute(String result) {\r\n            nowPlaying.setText(nowPlayingData);\r\n        }\r\n    }\r\n\r\n    private void processPhoneListenerPermission() {\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\r\n            requestPermissions(new String[]{Manifest.permission.READ_PHONE_STATE}, 121);\r\n        }\r\n    }\r\n\r\n    public boolean isNetworkAvailable() {\r\n        ConnectivityManager cm = (ConnectivityManager) getSystemService(Context.CONNECTIVITY_SERVICE);\r\n        NetworkInfo networkInfo = null;\r\n        if (cm != null) {\r\n            networkInfo = cm.getActiveNetworkInfo();\r\n        }\r\n        return networkInfo != null &amp;&amp; networkInfo.isConnectedOrConnecting();\r\n    }\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, Intent intent) {\r\n        super.onActivityResult(requestCode, resultCode, intent);\r\n    }\r\n\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n        if (requestCode == 121) {\r\n            if (!(grantResults[0] == PackageManager.PERMISSION_GRANTED)) {\r\n                Toast.makeText(getApplicationContext(), &quot;Permission not granted.\\nWe can&#39;t pause music when phone ringing.&quot;, Toast.LENGTH_LONG).show();\r\n            }\r\n        }\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n    }\r\n\r\n    @Override\r\n    public void onBackPressed() {\r\n        AlertDialog.Builder builder = new AlertDialog.Builder(this);\r\n        builder.setMessage(&quot;Are you sure you want to exit?&quot;)\r\n                .setCancelable(false)\r\n                .setPositiveButton(&quot;Yes&quot;, (dialog, id) -&gt; {\r\n                    if (getIsPlaying()) {\r\n                        stop();\r\n                    }\r\n                    System.exit(0);\r\n                })\r\n                .setNegativeButton(&quot;No&quot;, (dialog, id) -&gt; dialog.cancel());\r\n        AlertDialog alert = builder.create();\r\n        alert.show();\r\n    }\r\n\r\n    private void setIsPlaying(boolean status) {\r\n        SharedPreferences.Editor editor = getApplicationContext().getSharedPreferences(&quot;isPlaying&quot;, MODE_PRIVATE).edit();\r\n        editor.putBoolean(&quot;isPlaying&quot;, status);\r\n        editor.apply();\r\n    }\r\n\r\n    private boolean getIsPlaying() {\r\n        SharedPreferences prefs = getApplicationContext().getSharedPreferences(&quot;isPlaying&quot;, MODE_PRIVATE);\r\n        return prefs.getBoolean(&quot;isPlaying&quot;, false);\r\n    }\r\n\r\n    private void play() {\r\n        setIsPlaying(true);\r\n        Intent servicePlayIntent = new Intent(this, MyService.class);\r\n        servicePlayIntent.putExtra(&quot;playStop&quot;, &quot;play&quot;);\r\n        startService(servicePlayIntent);\r\n        playStop.setImageResource(R.drawable.ic_pause);\r\n        Toast.makeText(getApplicationContext(), &quot;Loading ...&quot;, Toast.LENGTH_LONG).show();\r\n    }\r\n\r\n    private void stop() {\r\n        setIsPlaying(false);\r\n        Intent serviceStopIntent = new Intent(this, MyService.class);\r\n        serviceStopIntent.putExtra(&quot;playStop&quot;, &quot;stop&quot;);\r\n        startService(serviceStopIntent);\r\n        playStop.setImageResource(R.drawable.ic_play);\r\n        Toast.makeText(getApplicationContext(), &quot;Stop Radio...&quot;, Toast.LENGTH_LONG).show();\r\n    }\r\n\r\n    @Override\r\n    protected void onStop() {\r\n        super.onStop();\r\n    }\r\n\r\n    @Override\r\n    protected void onDestroy() {\r\n        stopService(new Intent(getApplicationContext(), MyService.class));\r\n        unregisterReceiver(broadcastReceiver);\r\n        super.onDestroy();\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n**OnBoardingAdapter**\r\n\r\n\r\n```\r\npublic class OnBoardingAdapter extends PagerAdapter {\r\n\r\n    Context context;\r\n    LayoutInflater layoutInflater;\r\n\r\n    public OnBoardingAdapter(Context context) {\r\n        this.context = context;\r\n    }\r\n\r\n    int titles[] = {\r\n            R.string.title1,\r\n            R.string.title2,\r\n            R.string.title3,\r\n            R.string.title4\r\n    };\r\n\r\n    int subtitles[] = {\r\n            R.string.subtitle1,\r\n            R.string.subtitle2,\r\n            R.string.subtitle3,\r\n            R.string.subtitle4\r\n    };\r\n\r\n    int images[] = {\r\n            R.drawable.on_boarding_vector_1,\r\n            R.drawable.on_boarding_vector_2,\r\n            R.drawable.on_boarding_vector_3,\r\n            R.drawable.on_boarding_vector_4\r\n    };\r\n\r\n    int bg[] = {\r\n            R.drawable.bg1,\r\n            R.drawable.bg2,\r\n            R.drawable.bg3,\r\n            R.drawable.bg4\r\n    };\r\n\r\n    @Override\r\n    public int getCount() {\r\n        return titles.length;\r\n    }\r\n\r\n    @Override\r\n    public boolean isViewFromObject(@NonNull View view, @NonNull Object object) {\r\n        return view == (ConstraintLayout) object;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public Object instantiateItem(@NonNull ViewGroup container, int position) {\r\n        layoutInflater = (LayoutInflater) context.getSystemService(context.LAYOUT_INFLATER_SERVICE);\r\n        View v = layoutInflater.inflate(R.layout.slide,container,false);\r\n\r\n        ImageView image = v.findViewById(R.id.slideImg);\r\n        TextView title = v.findViewById(R.id.sliderTitle);\r\n        TextView subtitle = v.findViewById(R.id.sliderSubtitle);\r\n        ConstraintLayout layout = v.findViewById(R.id.sliderLayout);\r\n\r\n        image.setImageResource(images[position]);\r\n        title.setText(titles[position]);\r\n        subtitle.setText(subtitles[position]);\r\n        layout.setBackgroundResource(bg[position]);\r\n\r\n        container.addView(v);\r\n\r\n        return v;\r\n\r\n    }\r\n\r\n    @Override\r\n    public void destroyItem(@NonNull ViewGroup container, int position, @NonNull Object object) {\r\n        container.removeView((ConstraintLayout) object);\r\n    }\r\n}\r\n\r\n```","title":"From Splash screen to Onboarding where I have 3 slides, then to Dashboard activity which ends up crashing not going through to dashboard","body":"<p>I initialy had Radio player i.e RadioActivity, which was working perfectly\n<strong>The problem</strong>\n<em><strong>I later decided to have a dashboad as the main activity where you can click a button to take you to the RadioActivty. Now app keeps crashing after splashscreen</strong></em></p>\n<p>Find The Codes Below</p>\n<p><strong>SplashScreen</strong></p>\n<pre><code>\n    private static int SPLASH_TIMER = 8000;\n\n    ImageView backgroundImage;\n    ImageView theLogo;\n    TextView poweredByLine;\n\n    Animation sideAnim, bottomAnim;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_splash_screen);\n        getWindow().setFlags(WindowManager.LayoutParams.FLAGS_CHANGED,WindowManager.LayoutParams.FLAG_ALT_FOCUSABLE_IM);\n        setContentView(R.layout.activity_splash_screen);\n\n\n        backgroundImage = findViewById(R.id.background_image);\n        theLogo = findViewById(R.id.the_Logo);\n        poweredByLine = findViewById(R.id.powered_by_line);\n\n        sideAnim = AnimationUtils.loadAnimation(this, R.anim.side_anim);\n        bottomAnim = AnimationUtils.loadAnimation(this, R.anim.bottom_anim);\n\n        backgroundImage.setAnimation(sideAnim);\n        theLogo.setAnimation(sideAnim);\n        poweredByLine.setAnimation(bottomAnim);\n\n\n        new Handler().postDelayed(new Runnable() {\n            @Override\n            public void run() {\n\n                Intent intent = new Intent(getApplicationContext(), OnBoarding.class);\n                startActivity(intent);\n                finish();\n\n            }\n        },SPLASH_TIMER);\n\n\n\n\n    }\n}\n</code></pre>\n<p><strong>OnBoarding</strong></p>\n<pre><code>\n    CardView nextCard;\n    LinearLayout dotsLayout;\n    ViewPager viewPager;\n\n    TextView[] dots;\n    int currentPosition;\n    SaveState saveState ;\n\n    @RequiresApi(api = Build.VERSION_CODES.M)\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n\n        getWindow().setFlags(WindowManager.LayoutParams.FLAG_TRANSLUCENT_STATUS,WindowManager.LayoutParams.FLAG_TRANSLUCENT_STATUS);\n\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_onboarding);\n\n        nextCard = findViewById(R.id.nextCard);\n        dotsLayout = findViewById(R.id.dotsLayout);\n        viewPager = findViewById(R.id.slider);\n        dotsFunction(0);\n        saveState = new SaveState(OnBoarding.this,&quot;OB&quot;);\n        if (saveState.getState() == 1){\n            Intent i = new Intent(OnBoarding.this,DashboardActivity.class);\n            startActivity(i);\n            finish();\n        }\n\n        OnBoardingAdapter adapter = new OnBoardingAdapter(this);\n        viewPager.setAdapter(adapter);\n        nextCard.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                viewPager.setCurrentItem(currentPosition+1,true);\n            }\n        });\n        viewPager.setOnPageChangeListener(onPageChangeListener);\n\n    }\n\n    @RequiresApi(api = Build.VERSION_CODES.M)\n    private void dotsFunction(int pos){\n        dots = new TextView[4];\n        dotsLayout.removeAllViews();\n\n        for (int i = 0; i &lt; dots.length ; i++){\n\n            dots[i] = new TextView(this);\n            dots[i].setText(Html.fromHtml(&quot;&quot;));\n            dots[i].setTextColor(getColor(R.color.white));   //this is the non selection color\n            dots[i].setTextSize(30);\n\n            dotsLayout.addView(dots[i]);\n\n        }\n\n        if (dots.length &gt; 0){\n            dots[pos].setTextColor(getColor(R.color.teal_700));  //this is the selection color\n            dots[pos].setTextSize(40);  //this is the selection size\n        }\n    }\n\n    ViewPager.OnPageChangeListener onPageChangeListener = new ViewPager.OnPageChangeListener() {\n        @Override\n        public void onPageScrolled(int position, float positionOffset, int positionOffsetPixels) {\n\n        }\n\n        @RequiresApi(api = Build.VERSION_CODES.M)\n        @Override\n        public void onPageSelected(int position) {\n            dotsFunction(position);\n            currentPosition = position;\n            if (currentPosition &lt;= 2){\n                nextCard.setOnClickListener(new View.OnClickListener() {\n                    @Override\n                    public void onClick(View view) {\n                        viewPager.setCurrentItem(currentPosition+1);\n                    }\n                });\n            }else{\n                nextCard.setOnClickListener(new View.OnClickListener() {\n                    @Override\n                    public void onClick(View view) {\n                        saveState.setState(1);\n                        Intent i = new Intent(OnBoarding.this, DashboardActivity.class);\n                        startActivity(i);\n                        finish();\n                    }\n                });\n            }\n        }\n\n        @Override\n        public void onPageScrollStateChanged(int state) {\n\n        }\n    };\n\n\n}\n</code></pre>\n<p><strong>DashBoardActivity</strong></p>\n<pre><code>public class DashboardActivity extends AppCompatActivity implements View.OnClickListener{\n   private ImageView imageViewWebsite,imageViewEvents,imageViewLive,\n           imageViewVideos,imageViewBranches,imageViewDonate,\n           imageViewEkuwe,imageViewRadio,imageViewAudio;\n\n   @Override\n   protected void onCreate(Bundle savedInstanceState) {\n       super.onCreate(savedInstanceState);\n       setContentView(R.layout.activity_dashboard);\n\n       //defininf Cards\n       imageViewWebsite = (ImageView) findViewById(R.id.website_card);\n       imageViewEvents = (ImageView) findViewById(R.id.event_card);\n       imageViewLive = (ImageView) findViewById(R.id.live_card);\n       imageViewVideos = (ImageView) findViewById(R.id.videos_card);\n       imageViewBranches = (ImageView) findViewById(R.id.branches_card);\n       imageViewDonate = (ImageView) findViewById(R.id.donate_card);\n       imageViewEkuwe = (ImageView) findViewById(R.id.ekuwe_card);\n       imageViewRadio = (ImageView) findViewById(R.id.radio_card);\n       imageViewAudio = (ImageView) findViewById(R.id.audio_card);\n\n       //Add CLick listener to the card\n\n       imageViewWebsite.setOnClickListener(this);\n       imageViewEvents.setOnClickListener(this);\n       imageViewLive.setOnClickListener(this);\n       imageViewVideos.setOnClickListener(this);\n       imageViewBranches.setOnClickListener(this);\n       imageViewDonate.setOnClickListener(this);\n       imageViewEkuwe.setOnClickListener(this);\n       imageViewRadio.setOnClickListener(this);\n       imageViewAudio.setOnClickListener(this);\n   }\n\n   @Override\n   public void onClick(View v) {\n       Intent i;\n\n       switch (v.getId()){\n           case R.id.website_card : i = new Intent(this, WebsiteActivity.class);startActivity(i); break;\n           case R.id.event_card : i = new Intent(this,EventsActivity.class);startActivity(i); break;\n           case R.id.live_card : i = new Intent(this, LiveActivity.class);startActivity(i); break;\n           case R.id.videos_card : i = new Intent(this, VideoActivity.class);startActivity(i); break;\n           case R.id.branches_card : i = new Intent(this,BranchesActivity.class);startActivity(i); break;\n           case R.id.donate_card : i = new Intent(this, DonateActivity.class);startActivity(i); break;\n           case R.id.ekuwe_card : i = new Intent(this,EkuweActivity.class);startActivity(i); break;\n           case R.id.radio_card : i = new Intent(this,RadioActivity.class);startActivity(i); break;\n           case R.id.audio_card : i = new Intent(this,AudioActivity.class);startActivity(i); break;\n           default:break;\n\n       }\n\n   }\n}\n</code></pre>\n<p><strong>RadioActivity</strong></p>\n<pre><code>public class RadioActivity extends AppCompatActivity {\n\n    private TextView nowPlaying;\n    private ImageView playStop;\n    private BroadcastReceiver broadcastReceiver;\n    private String nowPlayingData = &quot;&quot;;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_radio);\n        playStop = findViewById(R.id.playStopBtn);\n        nowPlaying = findViewById(R.id.radioStationNowPlaying);\n        setIsPlaying(false);\n        processPhoneListenerPermission();\n        broadcastReceiver = new BroadcastReceiver() {\n            @Override\n            public void onReceive(Context context, Intent intent) {\n                TelephonyManager tm = (TelephonyManager) context.getSystemService(Service.TELEPHONY_SERVICE);\n                if (tm != null) {\n                    if (tm.getCallState() == TelephonyManager.CALL_STATE_RINGING) {\n                        if (getIsPlaying()) {\n                            stop();\n                        }\n                        System.exit(0);\n                    }\n                }\n            }\n        };\n        IntentFilter filter = new IntentFilter();\n        filter.addAction(&quot;android.intent.action.PHONE_STATE&quot;);\n        registerReceiver(broadcastReceiver, filter);\n        loadNowPlaying();\n        playStop.setOnClickListener(view -&gt; {\n            if (isNetworkAvailable()) {\n                if (getIsPlaying()) {\n                    stop();\n                } else {\n                    play();\n                }\n            } else {\n                Toast.makeText(getApplicationContext(), &quot;No internet&quot;, Toast.LENGTH_LONG).show();\n            }\n        });\n    }\n\n    private void loadNowPlaying() {\n        Thread t = new Thread() {\n            public void run() {\n                try {\n                    while (!isInterrupted()) {\n                        runOnUiThread(() -&gt; reloadShoutCastInfo());\n                        Thread.sleep(20000);\n                    }\n                } catch (InterruptedException ignored) {\n                }\n            }\n        };\n        t.start();\n    }\n\n    private void reloadShoutCastInfo() {\n        if (isNetworkAvailable()) {\n            AsyncTaskRunner runner = new AsyncTaskRunner();\n            runner.execute();\n        }\n    }\n\n    @SuppressLint(&quot;StaticFieldLeak&quot;)\n    private class AsyncTaskRunner extends AsyncTask&lt;String, String, String&gt; {\n\n        @Override\n        protected String doInBackground(String... params) {\n            FFmpegMediaMetadataRetriever mmr = new FFmpegMediaMetadataRetriever();\n            mmr.setDataSource(STREAMING_URL);\n            nowPlayingData = mmr.extractMetadata(FFmpegMediaMetadataRetriever.METADATA_KEY_ICY_METADATA).replaceAll(&quot;StreamTitle&quot;, &quot;&quot;).replaceAll(&quot;[=,';]+&quot;, &quot;&quot;);\n            mmr.release();\n            return null;\n        }\n\n        @Override\n        protected void onPostExecute(String result) {\n            nowPlaying.setText(nowPlayingData);\n        }\n    }\n\n    private void processPhoneListenerPermission() {\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n            requestPermissions(new String[]{Manifest.permission.READ_PHONE_STATE}, 121);\n        }\n    }\n\n    public boolean isNetworkAvailable() {\n        ConnectivityManager cm = (ConnectivityManager) getSystemService(Context.CONNECTIVITY_SERVICE);\n        NetworkInfo networkInfo = null;\n        if (cm != null) {\n            networkInfo = cm.getActiveNetworkInfo();\n        }\n        return networkInfo != null &amp;&amp; networkInfo.isConnectedOrConnecting();\n    }\n\n    @Override\n    protected void onActivityResult(int requestCode, int resultCode, Intent intent) {\n        super.onActivityResult(requestCode, resultCode, intent);\n    }\n\n    @Override\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n        if (requestCode == 121) {\n            if (!(grantResults[0] == PackageManager.PERMISSION_GRANTED)) {\n                Toast.makeText(getApplicationContext(), &quot;Permission not granted.\\nWe can't pause music when phone ringing.&quot;, Toast.LENGTH_LONG).show();\n            }\n        }\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n    }\n\n    @Override\n    public void onBackPressed() {\n        AlertDialog.Builder builder = new AlertDialog.Builder(this);\n        builder.setMessage(&quot;Are you sure you want to exit?&quot;)\n                .setCancelable(false)\n                .setPositiveButton(&quot;Yes&quot;, (dialog, id) -&gt; {\n                    if (getIsPlaying()) {\n                        stop();\n                    }\n                    System.exit(0);\n                })\n                .setNegativeButton(&quot;No&quot;, (dialog, id) -&gt; dialog.cancel());\n        AlertDialog alert = builder.create();\n        alert.show();\n    }\n\n    private void setIsPlaying(boolean status) {\n        SharedPreferences.Editor editor = getApplicationContext().getSharedPreferences(&quot;isPlaying&quot;, MODE_PRIVATE).edit();\n        editor.putBoolean(&quot;isPlaying&quot;, status);\n        editor.apply();\n    }\n\n    private boolean getIsPlaying() {\n        SharedPreferences prefs = getApplicationContext().getSharedPreferences(&quot;isPlaying&quot;, MODE_PRIVATE);\n        return prefs.getBoolean(&quot;isPlaying&quot;, false);\n    }\n\n    private void play() {\n        setIsPlaying(true);\n        Intent servicePlayIntent = new Intent(this, MyService.class);\n        servicePlayIntent.putExtra(&quot;playStop&quot;, &quot;play&quot;);\n        startService(servicePlayIntent);\n        playStop.setImageResource(R.drawable.ic_pause);\n        Toast.makeText(getApplicationContext(), &quot;Loading ...&quot;, Toast.LENGTH_LONG).show();\n    }\n\n    private void stop() {\n        setIsPlaying(false);\n        Intent serviceStopIntent = new Intent(this, MyService.class);\n        serviceStopIntent.putExtra(&quot;playStop&quot;, &quot;stop&quot;);\n        startService(serviceStopIntent);\n        playStop.setImageResource(R.drawable.ic_play);\n        Toast.makeText(getApplicationContext(), &quot;Stop Radio...&quot;, Toast.LENGTH_LONG).show();\n    }\n\n    @Override\n    protected void onStop() {\n        super.onStop();\n    }\n\n    @Override\n    protected void onDestroy() {\n        stopService(new Intent(getApplicationContext(), MyService.class));\n        unregisterReceiver(broadcastReceiver);\n        super.onDestroy();\n    }\n}\n\n</code></pre>\n<p><strong>OnBoardingAdapter</strong></p>\n<pre><code>public class OnBoardingAdapter extends PagerAdapter {\n\n    Context context;\n    LayoutInflater layoutInflater;\n\n    public OnBoardingAdapter(Context context) {\n        this.context = context;\n    }\n\n    int titles[] = {\n            R.string.title1,\n            R.string.title2,\n            R.string.title3,\n            R.string.title4\n    };\n\n    int subtitles[] = {\n            R.string.subtitle1,\n            R.string.subtitle2,\n            R.string.subtitle3,\n            R.string.subtitle4\n    };\n\n    int images[] = {\n            R.drawable.on_boarding_vector_1,\n            R.drawable.on_boarding_vector_2,\n            R.drawable.on_boarding_vector_3,\n            R.drawable.on_boarding_vector_4\n    };\n\n    int bg[] = {\n            R.drawable.bg1,\n            R.drawable.bg2,\n            R.drawable.bg3,\n            R.drawable.bg4\n    };\n\n    @Override\n    public int getCount() {\n        return titles.length;\n    }\n\n    @Override\n    public boolean isViewFromObject(@NonNull View view, @NonNull Object object) {\n        return view == (ConstraintLayout) object;\n    }\n\n    @NonNull\n    @Override\n    public Object instantiateItem(@NonNull ViewGroup container, int position) {\n        layoutInflater = (LayoutInflater) context.getSystemService(context.LAYOUT_INFLATER_SERVICE);\n        View v = layoutInflater.inflate(R.layout.slide,container,false);\n\n        ImageView image = v.findViewById(R.id.slideImg);\n        TextView title = v.findViewById(R.id.sliderTitle);\n        TextView subtitle = v.findViewById(R.id.sliderSubtitle);\n        ConstraintLayout layout = v.findViewById(R.id.sliderLayout);\n\n        image.setImageResource(images[position]);\n        title.setText(titles[position]);\n        subtitle.setText(subtitles[position]);\n        layout.setBackgroundResource(bg[position]);\n\n        container.addView(v);\n\n        return v;\n\n    }\n\n    @Override\n    public void destroyItem(@NonNull ViewGroup container, int position, @NonNull Object object) {\n        container.removeView((ConstraintLayout) object);\n    }\n}\n\n</code></pre>\n"},{"tags":["java","spring","rest"],"comments":[{"owner":{"account_id":10463559,"reputation":2118,"user_id":7713562,"display_name":"zawarudo"},"score":0,"creation_date":1661628989,"post_id":73513895,"comment_id":129819037,"body_markdown":"since you have this many parameters I think that DTO would be a decent approach.","body":"since you have this many parameters I think that DTO would be a decent approach."},{"owner":{"account_id":26021805,"reputation":1,"user_id":19758411,"display_name":"6ig6or6"},"score":0,"creation_date":1661629245,"post_id":73513895,"comment_id":129819080,"body_markdown":"yeah, but the endpoints must receive these params as @RequestParam according to the task.","body":"yeah, but the endpoints must receive these params as @RequestParam according to the task."},{"owner":{"account_id":25592434,"reputation":652,"user_id":19368926,"display_name":"Sakil"},"score":0,"creation_date":1661630134,"post_id":73513895,"comment_id":129819244,"body_markdown":"Did this answer your question [Map as RequestParam](https://stackoverflow.com/questions/47418489/spring-mvc-populate-requestparam-mapstring-string)","body":"Did this answer your question <a href=\"https://stackoverflow.com/questions/47418489/spring-mvc-populate-requestparam-mapstring-string\">Map as RequestParam</a>"}],"answers":[{"tags":[],"owner":{"account_id":12400134,"reputation":1,"user_id":9037798,"display_name":"Vinoth M"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661630650,"creation_date":1661630650,"answer_id":73514058,"question_id":73513895,"body_markdown":"The best apporoach is to use the POJO class to map the request params to their respective attribute in the POJO and use the same in your code.\r\n\r\n","title":"How to improve endpoint which receives many @RequestParam","body":"<p>The best apporoach is to use the POJO class to map the request params to their respective attribute in the POJO and use the same in your code.</p>\n"},{"tags":[],"owner":{"account_id":15974771,"reputation":1023,"user_id":11527968,"display_name":"Jimmy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661631452,"creation_date":1661631452,"answer_id":73514142,"question_id":73513895,"body_markdown":"You can use **Map** object as **@RequestParam** to accept all requestParams\r\n\r\n**For example:** \r\n\r\n    @GetMapping(value = &quot;/rest/players&quot;)   \r\n    public ResponseEntity&lt;List&lt;Player&gt;&gt; getPlayersAccordingToParams(@RequestParam Map&lt;String,String&gt; requestParams){\r\n\r\n       String name=requestParams.get(&quot;name&quot;);\r\n       String title=requestParams.get(&quot;title&quot;);\r\n       .\r\n       .\r\n       .\r\n       .   \r\n    \r\n      \r\n    }\r\n","title":"How to improve endpoint which receives many @RequestParam","body":"<p>You can use <strong>Map</strong> object as <strong>@RequestParam</strong> to accept all requestParams</p>\n<p><strong>For example:</strong></p>\n<pre><code>@GetMapping(value = &quot;/rest/players&quot;)   \npublic ResponseEntity&lt;List&lt;Player&gt;&gt; getPlayersAccordingToParams(@RequestParam Map&lt;String,String&gt; requestParams){\n\n   String name=requestParams.get(&quot;name&quot;);\n   String title=requestParams.get(&quot;title&quot;);\n   .\n   .\n   .\n   .   \n\n  \n}\n</code></pre>\n"}],"owner":{"account_id":26021805,"reputation":1,"user_id":19758411,"display_name":"6ig6or6"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1661631452,"creation_date":1661628930,"question_id":73513895,"body_markdown":"I have a RestController with a few endpoints and some of them receive a lot of request params.\r\nCould you give me a few tips how to improve it? It doesn&#39;t look good.\r\n\r\n    @GetMapping(&quot;/rest/players&quot;)\r\n    public ResponseEntity&lt;List&lt;Player&gt;&gt; getPlayersAccordingToParams(@RequestParam(required = false) String name,\r\n                                                                    @RequestParam(required = false) String title,\r\n                                                                    @RequestParam(required = false) Race race,\r\n                                                                    @RequestParam(required = false) Profession profession,\r\n                                                                    @RequestParam(required = false) Long after,\r\n                                                                    @RequestParam(required = false) Long before,\r\n                                                                    @RequestParam(required = false) Boolean banned,\r\n                                                                    @RequestParam(required = false) Integer minExperience,\r\n                                                                    @RequestParam(required = false) Integer maxExperience,\r\n                                                                    @RequestParam(required = false) Integer minLevel,\r\n                                                                    @RequestParam(required = false) Integer maxLevel,\r\n                                                                    @RequestParam(required = false) Integer pageSize,\r\n                                                                    @RequestParam(required = false) Integer pageNumber,\r\n                                                                    @RequestParam(required = false) PlayerOrder order) {\r\n        Pageable pageable = PageableCreator.createPageableFromParams(pageSize, pageNumber, order);\r\n        List&lt;Player&gt; players = playerService.findPlayersByRequestedParam(name, title, race,\r\n                                                                         profession,  after,\r\n                                                                         before, banned, minExperience, maxExperience,\r\n                                                                         minLevel, maxLevel, pageable);\r\n        return new ResponseEntity&lt;&gt;(players, HttpStatus.OK);\r\n    }\r\n    @GetMapping(&quot;/rest/players/count&quot;)\r\n    public ResponseEntity&lt;Integer&gt; getPlayersCount(@RequestParam(required = false) String name,\r\n                                                   @RequestParam(required = false) String title,\r\n                                                   @RequestParam(required = false) Race race,\r\n                                                   @RequestParam(required = false) Profession profession,\r\n                                                   @RequestParam(required = false) Long after,\r\n                                                   @RequestParam(required = false) Long before,\r\n                                                   @RequestParam(required = false) Boolean banned,\r\n                                                   @RequestParam(required = false) Integer minExperience,\r\n                                                   @RequestParam(required = false) Integer maxExperience,\r\n                                                   @RequestParam(required = false) Integer minLevel,\r\n                                                   @RequestParam(required = false) Integer maxLevel) {\r\n        int count = playerService.countPlayersByRequestedParam(name, title, race,\r\n                                                               profession,  after,\r\n                                                               before, banned, minExperience, maxExperience,\r\n                                                               minLevel, maxLevel);\r\n        return new ResponseEntity&lt;&gt;(count, HttpStatus.OK);","title":"How to improve endpoint which receives many @RequestParam","body":"<p>I have a RestController with a few endpoints and some of them receive a lot of request params.\nCould you give me a few tips how to improve it? It doesn't look good.</p>\n<pre><code>@GetMapping(&quot;/rest/players&quot;)\npublic ResponseEntity&lt;List&lt;Player&gt;&gt; getPlayersAccordingToParams(@RequestParam(required = false) String name,\n                                                                @RequestParam(required = false) String title,\n                                                                @RequestParam(required = false) Race race,\n                                                                @RequestParam(required = false) Profession profession,\n                                                                @RequestParam(required = false) Long after,\n                                                                @RequestParam(required = false) Long before,\n                                                                @RequestParam(required = false) Boolean banned,\n                                                                @RequestParam(required = false) Integer minExperience,\n                                                                @RequestParam(required = false) Integer maxExperience,\n                                                                @RequestParam(required = false) Integer minLevel,\n                                                                @RequestParam(required = false) Integer maxLevel,\n                                                                @RequestParam(required = false) Integer pageSize,\n                                                                @RequestParam(required = false) Integer pageNumber,\n                                                                @RequestParam(required = false) PlayerOrder order) {\n    Pageable pageable = PageableCreator.createPageableFromParams(pageSize, pageNumber, order);\n    List&lt;Player&gt; players = playerService.findPlayersByRequestedParam(name, title, race,\n                                                                     profession,  after,\n                                                                     before, banned, minExperience, maxExperience,\n                                                                     minLevel, maxLevel, pageable);\n    return new ResponseEntity&lt;&gt;(players, HttpStatus.OK);\n}\n@GetMapping(&quot;/rest/players/count&quot;)\npublic ResponseEntity&lt;Integer&gt; getPlayersCount(@RequestParam(required = false) String name,\n                                               @RequestParam(required = false) String title,\n                                               @RequestParam(required = false) Race race,\n                                               @RequestParam(required = false) Profession profession,\n                                               @RequestParam(required = false) Long after,\n                                               @RequestParam(required = false) Long before,\n                                               @RequestParam(required = false) Boolean banned,\n                                               @RequestParam(required = false) Integer minExperience,\n                                               @RequestParam(required = false) Integer maxExperience,\n                                               @RequestParam(required = false) Integer minLevel,\n                                               @RequestParam(required = false) Integer maxLevel) {\n    int count = playerService.countPlayersByRequestedParam(name, title, race,\n                                                           profession,  after,\n                                                           before, banned, minExperience, maxExperience,\n                                                           minLevel, maxLevel);\n    return new ResponseEntity&lt;&gt;(count, HttpStatus.OK);\n</code></pre>\n"},{"tags":["java","position","coupling","cohesion"],"comments":[{"owner":{"account_id":8211,"reputation":23893,"user_id":14663,"accept_rate":88,"display_name":"WW."},"score":1,"creation_date":1310795780,"post_id":3185463,"comment_id":7952204,"body_markdown":"Lots of things are going to depend on Position() so you&#39;ll have to think carefully about if it should be mutable (or you make a new one when it changes) and be careful not to add too many extra methods to it.","body":"Lots of things are going to depend on Position() so you&#39;ll have to think carefully about if it should be mutable (or you make a new one when it changes) and be careful not to add too many extra methods to it."}],"answers":[{"tags":[],"owner":{"account_id":97818,"reputation":114824,"user_id":265143,"accept_rate":72,"display_name":"P&#233;ter T&#246;r&#246;k"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1278412925,"creation_date":1278412925,"answer_id":3185493,"question_id":3185463,"body_markdown":"It is not a problem per se if a type is used by many other types. In your case, graphical objects obviously (usually) have a position so the coupling looks natural and reasonable from the perspective of the domain model.\r\n\r\nAlso, the Position class is probably going to be a fairly low-level class whose interface (and probably implementation too) is not going to change very often in the long run. So there is not much chance of such changes breaking client code.\r\n","title":"How to make a design &quot;loose coupling&quot;?","body":"<p>It is not a problem per se if a type is used by many other types. In your case, graphical objects obviously (usually) have a position so the coupling looks natural and reasonable from the perspective of the domain model.</p>\n\n<p>Also, the Position class is probably going to be a fairly low-level class whose interface (and probably implementation too) is not going to change very often in the long run. So there is not much chance of such changes breaking client code.</p>\n"},{"tags":[],"owner":{"account_id":25684565,"reputation":806,"user_id":19446851,"display_name":"habrewning"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661630475,"creation_date":1661630475,"answer_id":73514040,"question_id":3185463,"body_markdown":"First let me say after 12 years that your design is not bad. Assuming that the positioning logic of your classes shall be called from outside, all your classes need to have and offer this logic. So it is part of the interface and  you must bring the functionalities in. And this means, you must depend on it and there is a coupling. The coupling is not between your objects. So it is not as bad.\r\n\r\nBut there are always alternatives. It is known that inheritance establishes a very tight coupling. Consider for example that the positioning logic is only called internally in your class. Then you don&#39;t have any benefit in inheritance. You could as well have another class (let us call it Position). And instead of deriving from this class, you integrate an object of this class. And whenever you want to do something with the position, you call the corresponding methods of this object.\r\n\r\nThis alternative looks like a nonsense change. Why should you do this? But let us have a look at the consequences. Assume you have a class Circle. Circle has such a position object as proposed above. (By the way, see the wording &quot;has a position&quot; instead of &quot;is a position&quot;. The &quot;object-and-composition&quot; solution seems to be quite natural.) Somewhere in a file X of your code you may have created such a Circle. And now you decide you change the positioning logic. In X you don&#39;t have to worry that this has a side effect, because the interface of Circle has not changed. It is just one object inside of Circle that has changed. That is just an implementation detail. In contrast if you would have used inheritance, you cannot just change the base class without looking if this has a negative effect to X. So this &quot;object-and-composition&quot; solution has actually reduced the coupling between X and the positioning logic.\r\n\r\nYou can even reduce the coupling further. With the object-and-composition solution, whenever you change the positioning logic, you have to check all your classes if this has an effect. But what about using an interface for Position. Your classes don&#39;t see an object of a type Position, but an object  that fullfils an interface Position. And the actual positioning logic implements this interface. This way most of your classes&#39; code has no dependency to the implementation of the positioning logic.\r\n\r\nThat is not the end of the game. There is still a coupling, because your classes must somehow create the position objects. So at least the constructor must go into detail and for example pass x,y,z. But what if you use something like a factory for this purpose, so that your objects just get the position without even knowing how these have been created. Then you are absolutely flexible. You can use your classes in completely different situations. For example in a two dimensional coordinate system. There is no coupling between your positioning logic and your classes any more.\r\n\r\nI hope you see that all these options exist. I suppose in your example this is a bit over-engineered. But your question was how to reduce the coupling. And there are always ways. Combinations are of course possible. For example you can have the object-and-composition and make the position object public in your base class. But then I would ask if not inheritance would have been the better option?","title":"How to make a design &quot;loose coupling&quot;?","body":"<p>First let me say after 12 years that your design is not bad. Assuming that the positioning logic of your classes shall be called from outside, all your classes need to have and offer this logic. So it is part of the interface and  you must bring the functionalities in. And this means, you must depend on it and there is a coupling. The coupling is not between your objects. So it is not as bad.</p>\n<p>But there are always alternatives. It is known that inheritance establishes a very tight coupling. Consider for example that the positioning logic is only called internally in your class. Then you don't have any benefit in inheritance. You could as well have another class (let us call it Position). And instead of deriving from this class, you integrate an object of this class. And whenever you want to do something with the position, you call the corresponding methods of this object.</p>\n<p>This alternative looks like a nonsense change. Why should you do this? But let us have a look at the consequences. Assume you have a class Circle. Circle has such a position object as proposed above. (By the way, see the wording &quot;has a position&quot; instead of &quot;is a position&quot;. The &quot;object-and-composition&quot; solution seems to be quite natural.) Somewhere in a file X of your code you may have created such a Circle. And now you decide you change the positioning logic. In X you don't have to worry that this has a side effect, because the interface of Circle has not changed. It is just one object inside of Circle that has changed. That is just an implementation detail. In contrast if you would have used inheritance, you cannot just change the base class without looking if this has a negative effect to X. So this &quot;object-and-composition&quot; solution has actually reduced the coupling between X and the positioning logic.</p>\n<p>You can even reduce the coupling further. With the object-and-composition solution, whenever you change the positioning logic, you have to check all your classes if this has an effect. But what about using an interface for Position. Your classes don't see an object of a type Position, but an object  that fullfils an interface Position. And the actual positioning logic implements this interface. This way most of your classes' code has no dependency to the implementation of the positioning logic.</p>\n<p>That is not the end of the game. There is still a coupling, because your classes must somehow create the position objects. So at least the constructor must go into detail and for example pass x,y,z. But what if you use something like a factory for this purpose, so that your objects just get the position without even knowing how these have been created. Then you are absolutely flexible. You can use your classes in completely different situations. For example in a two dimensional coordinate system. There is no coupling between your positioning logic and your classes any more.</p>\n<p>I hope you see that all these options exist. I suppose in your example this is a bit over-engineered. But your question was how to reduce the coupling. And there are always ways. Combinations are of course possible. For example you can have the object-and-composition and make the position object public in your base class. But then I would ask if not inheritance would have been the better option?</p>\n"}],"owner":{"account_id":158814,"reputation":63,"user_id":377717,"accept_rate":12,"display_name":"SteveThai"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":331,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1661630475,"creation_date":1278412650,"question_id":3185463,"body_markdown":"I&#39;m making a simple 3D CAD software. in the class diagram, many objects need to distinguish with others by (x,y,z). I create a class so-called &quot;Position&quot;, but the problem is it looks highly-coupling because many classese work with position.\r\nAny ideas?\r\n  ","title":"How to make a design &quot;loose coupling&quot;?","body":"<p>I'm making a simple 3D CAD software. in the class diagram, many objects need to distinguish with others by (x,y,z). I create a class so-called \"Position\", but the problem is it looks highly-coupling because many classese work with position.\nAny ideas?</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":279365,"reputation":49126,"user_id":574479,"accept_rate":87,"display_name":"biziclop"},"score":0,"creation_date":1329947202,"post_id":9403570,"comment_id":11883095,"body_markdown":"If you want a correct solution then the answer is: it&#39;s practically impossible.","body":"If you want a correct solution then the answer is: it&#39;s practically impossible."},{"owner":{"account_id":323244,"reputation":11569,"user_id":643141,"display_name":"Hauke Ingmar Schmidt"},"score":2,"creation_date":1329947353,"post_id":9403570,"comment_id":11883158,"body_markdown":"Not only practical, but even theoretical. Java (the language) is not a regular language so it can&#39;t be parsed by regular expressions.","body":"Not only practical, but even theoretical. Java (the language) is not a regular language so it can&#39;t be parsed by regular expressions."},{"owner":{"account_id":124855,"reputation":19802,"user_id":320220,"accept_rate":85,"display_name":"beerbajay"},"score":1,"creation_date":1329947510,"post_id":9403570,"comment_id":11883211,"body_markdown":"Agreed; this is incredibly messy. You&#39;d have to match: bare function calls and function calls on instances but not function definitions. Also, what would you do with function calls nested in function calls, e.g. `map.get(map.get(123))`? Ugh.","body":"Agreed; this is incredibly messy. You&#39;d have to match: bare function calls and function calls on instances but not function definitions. Also, what would you do with function calls nested in function calls, e.g. <code>map.get(map.get(123))</code>? Ugh."},{"owner":{"account_id":279365,"reputation":49126,"user_id":574479,"accept_rate":87,"display_name":"biziclop"},"score":0,"creation_date":1329947971,"post_id":9403570,"comment_id":11883359,"body_markdown":"@his This is nitpicking but since there is an upper limit on the size of the source code, the language is finite and thus theoretically regular.","body":"@his This is nitpicking but since there is an upper limit on the size of the source code, the language is finite and thus theoretically regular."},{"owner":{"account_id":192292,"reputation":7779,"user_id":433348,"accept_rate":88,"display_name":"Kevin Welker"},"score":2,"creation_date":1329948464,"post_id":9403570,"comment_id":11883515,"body_markdown":"Do you have to start with source files, or can you work with class files?  There are bytecode libraries that could give you the tools to do the job on class files.","body":"Do you have to start with source files, or can you work with class files?  There are bytecode libraries that could give you the tools to do the job on class files."},{"owner":{"account_id":323244,"reputation":11569,"user_id":643141,"display_name":"Hauke Ingmar Schmidt"},"score":0,"creation_date":1329948532,"post_id":9403570,"comment_id":11883537,"body_markdown":"@biziclop The Java grammar is not a regular grammar. If you set an upper limit for size than you can write down every possible Java source and put that in alternative groups - quite impractical. But that is a *different* way to describe those possible source files. The Java grammar -that is the definitive description of the language- is not regular.","body":"@biziclop The Java grammar is not a regular grammar. If you set an upper limit for size than you can write down every possible Java source and put that in alternative groups - quite impractical. But that is a <i>different</i> way to describe those possible source files. The Java grammar -that is the definitive description of the language- is not regular."},{"owner":{"account_id":279365,"reputation":49126,"user_id":574479,"accept_rate":87,"display_name":"biziclop"},"score":0,"creation_date":1329949299,"post_id":9403570,"comment_id":11883788,"body_markdown":"@his I understand what you say but grammar != language. Either way, to write something constructive: OP shouldn&#39;t even attempt to parse the language using a CF grammar, tools like ANTLR are the way to go.","body":"@his I understand what you say but grammar != language. Either way, to write something constructive: OP shouldn&#39;t even attempt to parse the language using a CF grammar, tools like ANTLR are the way to go."},{"owner":{"account_id":215507,"reputation":1037,"user_id":470189,"accept_rate":38,"display_name":"Ali Arslan"},"score":0,"creation_date":1329988308,"post_id":9403570,"comment_id":11892344,"body_markdown":"Thanx all for replying :)\nLets make it simple and suppose that there are no nested function calls within function call.I saw a similar question here [link](http://stackoverflow.com/questions/5326752/regex-find-method-calls-with-specific-number-of-arguments) but this was about specific number of arguments. I want expression where no nested calls and with no limit on arguments. hope you understood :)","body":"Thanx all for replying :) Lets make it simple and suppose that there are no nested function calls within function call.I saw a similar question here <a href=\"http://stackoverflow.com/questions/5326752/regex-find-method-calls-with-specific-number-of-arguments\">link</a> but this was about specific number of arguments. I want expression where no nested calls and with no limit on arguments. hope you understood :)"},{"owner":{"account_id":215507,"reputation":1037,"user_id":470189,"accept_rate":38,"display_name":"Ali Arslan"},"score":0,"creation_date":1329988700,"post_id":9403570,"comment_id":11892472,"body_markdown":"For example: \nI have array of strings: tokens(&quot;int a&quot;,&quot;abc(a)&quot;,&quot;a=2&quot;)\nSo i want match of &quot;abc(a)&quot; (where number of arguments can vary).","body":"For example:  I have array of strings: tokens(&quot;int a&quot;,&quot;abc(a)&quot;,&quot;a=2&quot;) So i want match of &quot;abc(a)&quot; (where number of arguments can vary)."},{"owner":{"account_id":215507,"reputation":1037,"user_id":470189,"accept_rate":38,"display_name":"Ali Arslan"},"score":0,"creation_date":1329990588,"post_id":9403570,"comment_id":11893137,"body_markdown":"@beerbajay\nplease have a look.","body":"@beerbajay please have a look."},{"owner":{"account_id":124855,"reputation":19802,"user_id":320220,"accept_rate":85,"display_name":"beerbajay"},"score":0,"creation_date":1329992001,"post_id":9403570,"comment_id":11893598,"body_markdown":"This is still a pain. e.g. `a = b+c(d)`","body":"This is still a pain. e.g. <code>a = b+c(d)</code>"},{"owner":{"account_id":173890,"reputation":30412,"user_id":402884,"accept_rate":75,"display_name":"Chris Martin"},"score":0,"creation_date":1390153466,"post_id":9403570,"comment_id":31959972,"body_markdown":"Note also that semicolons are also valid in comments and in string literals.","body":"Note also that semicolons are also valid in comments and in string literals."},{"owner":{"account_id":173890,"reputation":30412,"user_id":402884,"accept_rate":75,"display_name":"Chris Martin"},"score":0,"creation_date":1390153555,"post_id":9403570,"comment_id":31960008,"body_markdown":"Assuming no nested function calls isn&#39;t enough. You also need to worry about nested blocks. Regexes come nowhere near this task. Why are you insisting that the parser be regular?","body":"Assuming no nested function calls isn&#39;t enough. You also need to worry about nested blocks. Regexes come nowhere near this task. Why are you insisting that the parser be regular?"}],"answers":[{"tags":[],"owner":{"account_id":406441,"reputation":32619,"user_id":775954,"accept_rate":85,"display_name":"Matthias Braun"},"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1583925144,"creation_date":1389721309,"answer_id":21120263,"question_id":9403570,"body_markdown":"I once had to figure out if a string contains a Java method call (including method names containing non-ASCII characters).\r\n\r\nThe following worked quite well for me, though it also finds constructor calls. Hope it helps.\r\n\r\n\r\n    /**\r\n     * Matches strings like {@code obj.myMethod(params)} and\r\n     * {@code if (something)} Remembers what&#39;s in front of the parentheses and\r\n     * what&#39;s inside.\r\n     * &lt;p&gt;\r\n     * {@code (?U)} lets {@code \\\\w} also match non-ASCII letters.\r\n     */\r\n    public static final Pattern PARENTHESES_REGEX = Pattern\r\n    \t\t.compile(&quot;(?U)([.\\\\w]+)\\\\s*\\\\((.*)\\\\)&quot;);\r\n    \r\n    /*\r\n     * After these Java keywords may come an opening parenthesis.\r\n     */\r\n    private static List&lt;String&gt; keyWordsBeforeParens = Arrays.asList(&quot;while&quot;, &quot;for&quot;,\r\n                &quot;if&quot;, &quot;try&quot;, &quot;catch&quot;, &quot;switch&quot;);\r\n    \r\n    private static boolean containsMethodCall(final String s) {\r\n    \tfinal Matcher matcher = PARENTHESES_REGEX.matcher(s);\r\n    \r\n    \twhile (matcher.find()) {\r\n    \t\tfinal String beforeParens = matcher.group(1);\r\n            final String insideParens = matcher.group(2);\r\n    \t\tif (keyWordsBeforeParens.contains(beforeParens)) {\r\n    \t\t\tSystem.out.println(&quot;Keyword: &quot; + beforeParens);\r\n                return containsMethodCall(insideParens);\r\n    \t\t} else {\r\n    \t\t\tSystem.out.println(&quot;Method name: &quot; + beforeParens);\r\n    \t\t\treturn true;\r\n    \t\t}\r\n    \t}\r\n    \treturn false;\r\n    }\r\n\r\n","title":"Regex to find method calls","body":"<p>I once had to figure out if a string contains a Java method call (including method names containing non-ASCII characters).</p>\n\n<p>The following worked quite well for me, though it also finds constructor calls. Hope it helps.</p>\n\n<pre><code>/**\n * Matches strings like {@code obj.myMethod(params)} and\n * {@code if (something)} Remembers what's in front of the parentheses and\n * what's inside.\n * &lt;p&gt;\n * {@code (?U)} lets {@code \\\\w} also match non-ASCII letters.\n */\npublic static final Pattern PARENTHESES_REGEX = Pattern\n        .compile(\"(?U)([.\\\\w]+)\\\\s*\\\\((.*)\\\\)\");\n\n/*\n * After these Java keywords may come an opening parenthesis.\n */\nprivate static List&lt;String&gt; keyWordsBeforeParens = Arrays.asList(\"while\", \"for\",\n            \"if\", \"try\", \"catch\", \"switch\");\n\nprivate static boolean containsMethodCall(final String s) {\n    final Matcher matcher = PARENTHESES_REGEX.matcher(s);\n\n    while (matcher.find()) {\n        final String beforeParens = matcher.group(1);\n        final String insideParens = matcher.group(2);\n        if (keyWordsBeforeParens.contains(beforeParens)) {\n            System.out.println(\"Keyword: \" + beforeParens);\n            return containsMethodCall(insideParens);\n        } else {\n            System.out.println(\"Method name: \" + beforeParens);\n            return true;\n        }\n    }\n    return false;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4935974,"reputation":51,"user_id":3974075,"display_name":"allen baker"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1408940156,"creation_date":1408940156,"answer_id":25478963,"question_id":9403570,"body_markdown":"For qualified calls {i.e., calls in this form: [objectName|className].methodName(..) }, I&#39;ve been using:\r\n\r\n    (\\.[\\s\\n\\r]*[\\w]+)[\\s\\n\\r]*(?=\\(.*\\))\r\n\r\nWhen unqualified calls are present {i.e., calls in this form: methodName(..) }, I&#39;ve been using:\r\n\r\n    (?!\\bif\\b|\\bfor\\b|\\bwhile\\b|\\bswitch\\b|\\btry\\b|\\bcatch\\b)(\\b[\\w]+\\b)[\\s\\n\\r]*(?=\\(.*\\))\r\n\r\nAlthough, this will also find constructors.\r\n\r\n","title":"Regex to find method calls","body":"<p>For qualified calls {i.e., calls in this form: [objectName|className].methodName(..) }, I've been using:</p>\n\n<pre><code>(\\.[\\s\\n\\r]*[\\w]+)[\\s\\n\\r]*(?=\\(.*\\))\n</code></pre>\n\n<p>When unqualified calls are present {i.e., calls in this form: methodName(..) }, I've been using:</p>\n\n<pre><code>(?!\\bif\\b|\\bfor\\b|\\bwhile\\b|\\bswitch\\b|\\btry\\b|\\bcatch\\b)(\\b[\\w]+\\b)[\\s\\n\\r]*(?=\\(.*\\))\n</code></pre>\n\n<p>Although, this will also find constructors.</p>\n"},{"tags":[],"owner":{"account_id":6878218,"reputation":21,"user_id":5285927,"display_name":"Ppatel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1487443204,"creation_date":1487441441,"answer_id":42318860,"question_id":9403570,"body_markdown":"    File f=new File(&quot;Sample.java&quot;); //Open a file\r\n    String s;\r\n    FileReader reader=new FileReader(f); \r\n    BufferedReader br=new BufferedReader(reader); //Read file\r\n    while((s=br.readLine())!=null){\r\n        String regex=&quot;\\\\s(\\\\w+)*\\\\(((\\\\w+)*?(,)?(\\\\w+)*?)*?\\\\)[^\\\\{]&quot;;\r\n        Pattern funcPattern = Pattern.compile(regex);\r\n        Matcher m = funcPattern.matcher(s); //Matcher is used to match pattern with string \r\n        if(m.find()){\r\n            System.out.printf(group(0));\r\n        }\r\n    }","title":"Regex to find method calls","body":"<pre><code>File f=new File(\"Sample.java\"); //Open a file\nString s;\nFileReader reader=new FileReader(f); \nBufferedReader br=new BufferedReader(reader); //Read file\nwhile((s=br.readLine())!=null){\n    String regex=\"\\\\s(\\\\w+)*\\\\(((\\\\w+)*?(,)?(\\\\w+)*?)*?\\\\)[^\\\\{]\";\n    Pattern funcPattern = Pattern.compile(regex);\n    Matcher m = funcPattern.matcher(s); //Matcher is used to match pattern with string \n    if(m.find()){\n        System.out.printf(group(0));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15812969,"reputation":1,"user_id":11409468,"display_name":"Jixuan LIU"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1583856817,"creation_date":1583855963,"answer_id":60621376,"question_id":9403570,"body_markdown":"I think this one would work but it doesn&#39;t match secondary regexes for the arguments:\r\n```java\r\nString regex = &quot;\\\\s*(\\\\w+?)\\\\s*\\\\(((\\\\w+?)\\\\s*,?\\\\s*)*\\\\)\\\\s*&quot;;\r\n```","title":"Regex to find method calls","body":"<p>I think this one would work but it doesn't match secondary regexes for the arguments:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>String regex = \"\\\\s*(\\\\w+?)\\\\s*\\\\(((\\\\w+?)\\\\s*,?\\\\s*)*\\\\)\\\\s*\";\n</code></pre>\n"}],"owner":{"account_id":215507,"reputation":1037,"user_id":470189,"accept_rate":38,"display_name":"Ali Arslan"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5814,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":21120263,"answer_count":4,"score":7,"last_activity_date":1661628450,"creation_date":1329947108,"question_id":9403570,"body_markdown":"I want to find any method call in given code. I am splitting code with semicolon as delimiter. In the end I am interested in finding names of methods which have been called in given code.\r\n\r\nI need a regular expression to match the method call pattern.\r\n","title":"Regex to find method calls","body":"<p>I want to find any method call in given code. I am splitting code with semicolon as delimiter. In the end I am interested in finding names of methods which have been called in given code.</p>\n<p>I need a regular expression to match the method call pattern.</p>\n"},{"tags":["java","android","android-intent","android-activity"],"comments":[{"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"score":0,"creation_date":1661616401,"post_id":73511777,"comment_id":129816582,"body_markdown":"If you have code you want to share between the fragments/activities then it should not live in a specific activity or fragment. Move it to some other helper class so you can call it from both places as-needed.","body":"If you have code you want to share between the fragments/activities then it should not live in a specific activity or fragment. Move it to some other helper class so you can call it from both places as-needed."},{"owner":{"account_id":4393982,"reputation":2533,"user_id":3581620,"accept_rate":81,"display_name":"lostA"},"score":0,"creation_date":1661622191,"post_id":73511777,"comment_id":129817763,"body_markdown":"@TylerV Exactly, but how to get a specific class with all the functions, and call it from the activity, it is the same problem","body":"@TylerV Exactly, but how to get a specific class with all the functions, and call it from the activity, it is the same problem"}],"answers":[{"tags":[],"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661628416,"creation_date":1661627029,"answer_id":73513692,"question_id":73511777,"body_markdown":"If you have some function you want to use in multiple Activities, you can put it in its own class and instantiate that class in whatever place you need to call its methods. The created class should **not** extend Activity or Fragment if it isn&#39;t actually an Activity or Fragment (this will cause all sorts of bugs). If it needs access to a Context or other Android component, you could pass those in at construction or to the methods that need it. \r\n\r\nIf you need your helper class to interact with its hosting activity (e.g. show or hide views, send data to views, etc) you can define interfaces on the helper or pass the views in directly.\r\n\r\nIf you define interfaces on your helper class you can use those to &quot;call back&quot; to whatever activity is hosting it (e.g. to show a progress bar). If you don&#39;t want to use an interface you could just pass the view to the helper class too, but the interface approach is sometimes more flexible.\r\n\r\nHere are examples of both approaches:\r\n\r\n**Using an Interface**\r\n\r\n```java\r\npublic class MapHelper {\r\n    public interface ProgressBarHolder {\r\n        void showBar();\r\n    }\r\n\r\n    private ProgressBarHolder progress;\r\n\r\n    MapHelper(ProgressBarHolder prog) {\r\n        progress = prog;\r\n    }\r\n\r\n    public void onDownloadButtonClicked() {\r\n        List&lt;Integer&gt; downloadList = new ArrayList&lt;&gt;(1);\r\n        downloadList.add(120214);\r\n        progress.showBar();\r\n        MapLoader.getInstance().installMapPackages(downloadList);\r\n    }\r\n}\r\n```\r\n\r\nthen you can call it from any Activity, like this\r\n\r\n```java\r\npublic class MyActivity extends AppCompatActivity \r\n       implements MapHelper.ProgressBarHolder \r\n{\r\n    private MapHelper helper = new MapHelper(this);\r\n    private ProgressBar bar;\r\n\r\n    @Override\r\n    public void showBar() {\r\n        // show a progress bar, MapHelper will call this\r\n        // when it needs the current activity to show a progress bar\r\n        bar.setProgress(0);\r\n        bar.setVisibility(View.VISIBLE);\r\n    }\r\n    \r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n     \r\n        // set up stuff\r\n\r\n        bar = findViewById(R.id.progress);\r\n        bar.setVisibility(View.GONE);\r\n\r\n        button.setOnClickListener(new OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                helper.onDownloadButtonClicked();\r\n            }\r\n        });        \r\n    }\r\n}\r\n```\r\n\r\n**Passing in Views**\r\n\r\n```java\r\npublic class MapHelper {\r\n    private ProgressBar progress;\r\n\r\n    MapHelper(ProgressBar prog) {\r\n        progress = prog;\r\n    }\r\n\r\n    public void onDownloadButtonClicked() {\r\n        List&lt;Integer&gt; downloadList = new ArrayList&lt;&gt;(1);\r\n        downloadList.add(120214);\r\n        progress.setProgress(0);\r\n        progress.setVisibility(View.VISIBLE);\r\n        MapLoader.getInstance().installMapPackages(downloadList);\r\n    }\r\n}\r\n```\r\n\r\nthen you can call it from any Activity, like this\r\n\r\n```java\r\npublic class MyActivity extends AppCompatActivity {\r\n    private MapHelper helper;\r\n    \r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n     \r\n        // set up stuff\r\n\r\n        ProgressBar bar = findViewByid(R.id.progress);\r\n        bar.setVisibility(View.GONE);\r\n\r\n        // Wait to create the helper until you have the views\r\n        helper = new MapHelper(bar);\r\n\r\n        button.setOnClickListener(new OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                helper.onDownloadButtonClicked();\r\n            }\r\n        });        \r\n    }\r\n}\r\n```","title":"Android/Java: How to execute in background, functions of activity B from activity A without showing the activity B?","body":"<p>If you have some function you want to use in multiple Activities, you can put it in its own class and instantiate that class in whatever place you need to call its methods. The created class should <strong>not</strong> extend Activity or Fragment if it isn't actually an Activity or Fragment (this will cause all sorts of bugs). If it needs access to a Context or other Android component, you could pass those in at construction or to the methods that need it.</p>\n<p>If you need your helper class to interact with its hosting activity (e.g. show or hide views, send data to views, etc) you can define interfaces on the helper or pass the views in directly.</p>\n<p>If you define interfaces on your helper class you can use those to &quot;call back&quot; to whatever activity is hosting it (e.g. to show a progress bar). If you don't want to use an interface you could just pass the view to the helper class too, but the interface approach is sometimes more flexible.</p>\n<p>Here are examples of both approaches:</p>\n<p><strong>Using an Interface</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MapHelper {\n    public interface ProgressBarHolder {\n        void showBar();\n    }\n\n    private ProgressBarHolder progress;\n\n    MapHelper(ProgressBarHolder prog) {\n        progress = prog;\n    }\n\n    public void onDownloadButtonClicked() {\n        List&lt;Integer&gt; downloadList = new ArrayList&lt;&gt;(1);\n        downloadList.add(120214);\n        progress.showBar();\n        MapLoader.getInstance().installMapPackages(downloadList);\n    }\n}\n</code></pre>\n<p>then you can call it from any Activity, like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyActivity extends AppCompatActivity \n       implements MapHelper.ProgressBarHolder \n{\n    private MapHelper helper = new MapHelper(this);\n    private ProgressBar bar;\n\n    @Override\n    public void showBar() {\n        // show a progress bar, MapHelper will call this\n        // when it needs the current activity to show a progress bar\n        bar.setProgress(0);\n        bar.setVisibility(View.VISIBLE);\n    }\n    \n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n     \n        // set up stuff\n\n        bar = findViewById(R.id.progress);\n        bar.setVisibility(View.GONE);\n\n        button.setOnClickListener(new OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                helper.onDownloadButtonClicked();\n            }\n        });        \n    }\n}\n</code></pre>\n<p><strong>Passing in Views</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MapHelper {\n    private ProgressBar progress;\n\n    MapHelper(ProgressBar prog) {\n        progress = prog;\n    }\n\n    public void onDownloadButtonClicked() {\n        List&lt;Integer&gt; downloadList = new ArrayList&lt;&gt;(1);\n        downloadList.add(120214);\n        progress.setProgress(0);\n        progress.setVisibility(View.VISIBLE);\n        MapLoader.getInstance().installMapPackages(downloadList);\n    }\n}\n</code></pre>\n<p>then you can call it from any Activity, like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyActivity extends AppCompatActivity {\n    private MapHelper helper;\n    \n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n     \n        // set up stuff\n\n        ProgressBar bar = findViewByid(R.id.progress);\n        bar.setVisibility(View.GONE);\n\n        // Wait to create the helper until you have the views\n        helper = new MapHelper(bar);\n\n        button.setOnClickListener(new OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                helper.onDownloadButtonClicked();\n            }\n        });        \n    }\n}\n</code></pre>\n"}],"owner":{"account_id":4393982,"reputation":2533,"user_id":3581620,"accept_rate":81,"display_name":"lostA"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":73513692,"answer_count":1,"score":-3,"last_activity_date":1661628416,"creation_date":1661610019,"question_id":73511777,"body_markdown":"I have two classes corresponding to two activities in my code.\r\nWhat I would like, is that the functions in the class of the activity B is launched in the activity A, but without showing the activity : I would just like the code to be executed...\r\n\r\nHow can I launch the functions of the activity B in background from the activity A?\r\nI [read to use Services][1], but I don&#39;t know at all how to use them, I don&#39;t see so many reading about it. I don&#39;t know if it is the good way.\r\nI tried this with no success: `startService(new Intent(this, HereMap.class));`\r\n\r\n**Activity A:**\r\n\r\n    public class LoginActivity extends AppCompatActivity {\r\n    @Override\r\n        protected void onResume(){\r\n    ...\r\n//Code to execute the activity B in background\r\nIntent activityB= new Intent(this, HereMap.class);\r\nactivityB.onDownloadButtonClicked(); //=&gt; here is the execution but doesn&#39;t work...\r\n\r\n    }\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n    ...\r\n    }\r\n\r\n\r\n**Activity B:**\r\n\r\n            public class HereMap extends AppCompatActivity {\r\n    ...\r\n    \r\n             private MapLoader.Listener mapLoaderHandler = new MapLoader.Listener() {\r\n         \r\n\r\n   \r\n                @Override\r\n                public void onProgress(int progress) {\r\n                    Log.i(TAG, &quot;Progress &quot; + progress + &quot;%&quot;);\r\n                    downloadProgressBar.setProgress(progress);\r\n                }\r\n        \r\n                @Override\r\n                public void onInstallationSize(long diskSize, long networkSize) {\r\n                    Log.i(TAG, &quot;Map data require &quot; + diskSize);\r\n                }\r\n        \r\n                @Override\r\n                public void onGetMapPackagesComplete(MapPackage rootMapPackage,\r\n                                                     MapLoader.ResultCode resultCode) {\r\n                    if (resultCode == MapLoader.ResultCode.OPERATION_SUCCESSFUL) {\r\n                        Log.i(TAG, &quot;Map packages received successful: &quot; + rootMapPackage.getTitle());\r\n        \r\n                        currentInstalledMaps = new ArrayList&lt;&gt;(1);\r\n                        populateInstalledMaps(rootMapPackage);\r\n                    } else {\r\n                        Log.e(TAG, &quot;Can&#39;t retrieve map packages: &quot; + resultCode.name());\r\n                        Toast.makeText(HereMap.this,\r\n                                &quot;Error: &quot; + resultCode.name(), Toast.LENGTH_SHORT).show();\r\n                        return;\r\n                    }\r\n    \r\n    ...\r\n    \r\n      @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n    \r\n            //Init map\r\n            setContentView(R.layout.activity_here_map);\r\n            mapFragment = (AndroidXMapFragment) getSupportFragmentManager().findFragmentById(R.id.mapfragment);\r\n    \r\n    ...\r\n    \r\n        public void onDownloadButtonClicked() {\r\n            Log.d(TAG, &quot;Downloading new map data...&quot;);\r\n    \r\n            List&lt;Integer&gt; downloadList = new ArrayList&lt;&gt;(1);\r\n            downloadList.add(120214);    //Id:120002 Berlin  Id:120214, Name: Andalucia, Size:231504 Cherche l&#39;id avec l&#39;application iOS map-downloader-ios-swift\r\n    \r\n            downloadProgressBar.setProgress(0);\r\n            downloadProgressBar.setVisibility(View.VISIBLE);\r\n            MapLoader.getInstance().installMapPackages(downloadList);\r\n        }\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/24139933/3581620","title":"Android/Java: How to execute in background, functions of activity B from activity A without showing the activity B?","body":"<p>I have two classes corresponding to two activities in my code.\nWhat I would like, is that the functions in the class of the activity B is launched in the activity A, but without showing the activity : I would just like the code to be executed...</p>\n<p>How can I launch the functions of the activity B in background from the activity A?\nI <a href=\"https://stackoverflow.com/a/24139933/3581620\">read to use Services</a>, but I don't know at all how to use them, I don't see so many reading about it. I don't know if it is the good way.\nI tried this with no success: <code>startService(new Intent(this, HereMap.class));</code></p>\n<p><strong>Activity A:</strong></p>\n<pre><code>public class LoginActivity extends AppCompatActivity {\n@Override\n    protected void onResume(){\n...\n</code></pre>\n<p>//Code to execute the activity B in background\nIntent activityB= new Intent(this, HereMap.class);\nactivityB.onDownloadButtonClicked(); //=&gt; here is the execution but doesn't work...</p>\n<pre><code>}\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n...\n}\n</code></pre>\n<p><strong>Activity B:</strong></p>\n<pre><code>        public class HereMap extends AppCompatActivity {\n...\n\n         private MapLoader.Listener mapLoaderHandler = new MapLoader.Listener() {\n     \n\n\n            @Override\n            public void onProgress(int progress) {\n                Log.i(TAG, &quot;Progress &quot; + progress + &quot;%&quot;);\n                downloadProgressBar.setProgress(progress);\n            }\n    \n            @Override\n            public void onInstallationSize(long diskSize, long networkSize) {\n                Log.i(TAG, &quot;Map data require &quot; + diskSize);\n            }\n    \n            @Override\n            public void onGetMapPackagesComplete(MapPackage rootMapPackage,\n                                                 MapLoader.ResultCode resultCode) {\n                if (resultCode == MapLoader.ResultCode.OPERATION_SUCCESSFUL) {\n                    Log.i(TAG, &quot;Map packages received successful: &quot; + rootMapPackage.getTitle());\n    \n                    currentInstalledMaps = new ArrayList&lt;&gt;(1);\n                    populateInstalledMaps(rootMapPackage);\n                } else {\n                    Log.e(TAG, &quot;Can't retrieve map packages: &quot; + resultCode.name());\n                    Toast.makeText(HereMap.this,\n                            &quot;Error: &quot; + resultCode.name(), Toast.LENGTH_SHORT).show();\n                    return;\n                }\n\n...\n\n  @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        //Init map\n        setContentView(R.layout.activity_here_map);\n        mapFragment = (AndroidXMapFragment) getSupportFragmentManager().findFragmentById(R.id.mapfragment);\n\n...\n\n    public void onDownloadButtonClicked() {\n        Log.d(TAG, &quot;Downloading new map data...&quot;);\n\n        List&lt;Integer&gt; downloadList = new ArrayList&lt;&gt;(1);\n        downloadList.add(120214);    //Id:120002 Berlin  Id:120214, Name: Andalucia, Size:231504 Cherche l'id avec l'application iOS map-downloader-ios-swift\n\n        downloadProgressBar.setProgress(0);\n        downloadProgressBar.setVisibility(View.VISIBLE);\n        MapLoader.getInstance().installMapPackages(downloadList);\n    }\n</code></pre>\n"},{"tags":["java","intellij-idea","resources"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1661536547,"post_id":73504664,"comment_id":129803900,"body_markdown":"&quot;Copy&quot;? That involves either a file object copy op or some kind of writing. Neither appears in your code. Also, as far as your read op goes, you should know that is not guaranteed to read the whole file. You need ```java.nio.file.Files.readAllBytes```. But there are better ways of copying files if that&#39;s your objective","body":"&quot;Copy&quot;? That involves either a file object copy op or some kind of writing. Neither appears in your code. Also, as far as your read op goes, you should know that is not guaranteed to read the whole file. You need <code>java.nio.file.Files.readAllBytes</code>. But there are better ways of copying files if that&#39;s your objective"},{"owner":{"account_id":26029994,"reputation":1,"user_id":19736374,"display_name":"wolf23"},"score":0,"creation_date":1661538392,"post_id":73504664,"comment_id":129804398,"body_markdown":"@g00se sorry my bad! I meant locate the copied over file.","body":"@g00se sorry my bad! I meant locate the copied over file."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1661538519,"post_id":73504664,"comment_id":129804445,"body_markdown":"Could be a [current directory](https://technojeeves.com/index.php/aliasjava1/91-find-the-current-directory-in-java)\nproblem","body":"Could be a <a href=\"https://technojeeves.com/index.php/aliasjava1/91-find-the-current-directory-in-java\" rel=\"nofollow noreferrer\">current directory</a> problem"},{"owner":{"account_id":26029994,"reputation":1,"user_id":19736374,"display_name":"wolf23"},"score":0,"creation_date":1661539064,"post_id":73504664,"comment_id":129804593,"body_markdown":"It is pointing at the root directory","body":"It is pointing at the root directory"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1661576359,"post_id":73504664,"comment_id":129810039,"body_markdown":"Please give the actual value of &#39;customSolutionFilename&#39;","body":"Please give the actual value of &#39;customSolutionFilename&#39;"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1661590621,"post_id":73504664,"comment_id":129811859,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":5490196,"reputation":670,"user_id":4363776,"accept_rate":100,"display_name":"David Gomes"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661590750,"creation_date":1661590750,"answer_id":73509617,"question_id":73504664,"body_markdown":"I suppose you mean you&#39;ve created the file in the `/main/resources` folder of your project?\r\n\r\nIf that&#39;s so, then you can copy it as such:\r\n\r\n```java\r\npublic static void main(String[] args) throws IOException {\r\n    var path = Main.class.getResourceAsStream(&quot;/myfile.txt&quot;);\r\n    Files.copy(path, Path.of(&quot;file.txt&quot;));\r\n}\r\n```","title":"Java doesn&#39;t find solution package in resource folder Intellij","body":"<p>I suppose you mean you've created the file in the <code>/main/resources</code> folder of your project?</p>\n<p>If that's so, then you can copy it as such:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) throws IOException {\n    var path = Main.class.getResourceAsStream(&quot;/myfile.txt&quot;);\n    Files.copy(path, Path.of(&quot;file.txt&quot;));\n}\n</code></pre>\n"}],"owner":{"account_id":26029994,"reputation":1,"user_id":19736374,"display_name":"wolf23"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661627438,"creation_date":1661535051,"question_id":73504664,"body_markdown":"This sample is supposed to locate the copied over .zip file from the build output directory but for some reason it doesn&#39;t find that file. I created a resource directory in the root directory and marked it as &quot;Resource Root&quot; and still didn&#39;t work. Any help is appreciated. Here is a snippet of the code:\r\n\r\n    if (install &amp;&amp; package == null) {\r\n        File file = new File(&quot;file.zip&quot;);\r\n        byte[] bytes = new byte[(int) file.length()];\r\n        try {\r\n        FileInputStream inputStream = new FileInputStream(file);\r\n        inputStream.read(bytes);\r\n        inputStream.close();\r\n        }\r\n        catch (FileNotFoundException ex) {\r\n            System.out.println(&quot;File Not Found.&quot;);\r\n            return;\r\n        }\r\n        catch (IOException ex) {\r\n        System.out.println(&quot;Error Reading The File.&quot;);\r\n        ex.printStackTrace();\r\n        }\r\nHere is a screenshot of the project structure:\r\n[Project Structure][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DS2p3.png","title":"Java doesn&#39;t find solution package in resource folder Intellij","body":"<p>This sample is supposed to locate the copied over .zip file from the build output directory but for some reason it doesn't find that file. I created a resource directory in the root directory and marked it as &quot;Resource Root&quot; and still didn't work. Any help is appreciated. Here is a snippet of the code:</p>\n<pre><code>if (install &amp;&amp; package == null) {\n    File file = new File(&quot;file.zip&quot;);\n    byte[] bytes = new byte[(int) file.length()];\n    try {\n    FileInputStream inputStream = new FileInputStream(file);\n    inputStream.read(bytes);\n    inputStream.close();\n    }\n    catch (FileNotFoundException ex) {\n        System.out.println(&quot;File Not Found.&quot;);\n        return;\n    }\n    catch (IOException ex) {\n    System.out.println(&quot;Error Reading The File.&quot;);\n    ex.printStackTrace();\n    }\n</code></pre>\n<p>Here is a screenshot of the project structure:\n<a href=\"https://i.stack.imgur.com/DS2p3.png\" rel=\"nofollow noreferrer\">Project Structure</a></p>\n"},{"tags":["java","spring","validation","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":11749316,"reputation":233,"user_id":8599124,"display_name":"Oyewole A. Samuel"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1506289374,"creation_date":1506288693,"answer_id":46395077,"question_id":46394852,"body_markdown":"If you want to get single RequestParams like `status`, you can force it by following the code below.\r\n\r\n    @RestController\r\n    public class ProfileController {\r\n\r\n        @RequestMapping(value = &quot;/profile/{param}&quot;, method = RequestMethod.GET)\r\n        public IVRProfile getProfile(@RequestParam(name = &quot;status&quot;, required = true) String status, @ModelAttribute(&quot;param&quot;) String param) {}\r\n\r\n    }\r\n\r\nif you want to force PathVariable, then do this.\r\n\r\n    @RestController\r\n    public class ProfileController {\r\n\r\n        @RequestMapping(value = &quot;/profile/{param}&quot;, method = RequestMethod.GET)\r\n        public IVRProfile getProfile(@PathVariable(name = &quot;param&quot;, required = true) String param, @ModelAttribute(&quot;param&quot;) String param) {}\r\n\r\n    }\r\n\r\nHope this work!!!","title":"Using Spring @Validated Annotation to Validate a Get Request Path Variable","body":"<p>If you want to get single RequestParams like <code>status</code>, you can force it by following the code below.</p>\n\n<pre><code>@RestController\npublic class ProfileController {\n\n    @RequestMapping(value = \"/profile/{param}\", method = RequestMethod.GET)\n    public IVRProfile getProfile(@RequestParam(name = \"status\", required = true) String status, @ModelAttribute(\"param\") String param) {}\n\n}\n</code></pre>\n\n<p>if you want to force PathVariable, then do this.</p>\n\n<pre><code>@RestController\npublic class ProfileController {\n\n    @RequestMapping(value = \"/profile/{param}\", method = RequestMethod.GET)\n    public IVRProfile getProfile(@PathVariable(name = \"param\", required = true) String param, @ModelAttribute(\"param\") String param) {}\n\n}\n</code></pre>\n\n<p>Hope this work!!!</p>\n"},{"tags":[],"owner":{"account_id":11026111,"reputation":2872,"user_id":8098978,"display_name":"lzagkaretos"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1506364065,"creation_date":1506364065,"answer_id":46411877,"question_id":46394852,"body_markdown":"You can implement desired validation functionality as following.\r\n\r\n    public class ParamValidator implements ConstraintValidator&lt;ParamConstraint, String&gt; {\r\n    \r\n        @Override\r\n        public void initialize(ParamConstraint paramConstraint) {\r\n        }\r\n        \r\n        @Override\r\n        public boolean isValid(String paramField, ConstraintValidatorContext cxt) {\r\n            //Perform paramField validation\r\n            return true;\r\n        }\r\n    }\r\n\r\n-\r\n\r\n    @Documented\r\n    @Constraint(validatedBy = ParamValidator.class)\r\n    @Target( { ElementType.PARAMETER })\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    public @interface ParamConstraint {\r\n    \r\n        String message() default &quot;Default validation message&quot;;\r\n    \r\n        Class&lt;?&gt;[] groups() default {};\r\n    \r\n        Class&lt;? extends Payload&gt;[] payload() default {};\r\n    }\r\n\r\n-\r\n\r\n    @RequestMapping(value = &quot;/profile/{param}&quot;, method = RequestMethod.GET)\r\n    public IVRProfile getProfile(@Valid @ParamConstraint @ModelAttribute(&quot;param&quot;) String param) {\r\n        return sampleProfile();\r\n    }\r\n\r\nAnd finally don&#39;t forget to annotate Controller with `@Validated`.\r\n\r\n    @RestController\r\n    @Validated\r\n    public class ProfileController {\r\n        //...\r\n    }\r\nMore details you can find in the example as mentioned [here](http://www.baeldung.com/spring-mvc-custom-validator).","title":"Using Spring @Validated Annotation to Validate a Get Request Path Variable","body":"<p>You can implement desired validation functionality as following.</p>\n\n<pre><code>public class ParamValidator implements ConstraintValidator&lt;ParamConstraint, String&gt; {\n\n    @Override\n    public void initialize(ParamConstraint paramConstraint) {\n    }\n\n    @Override\n    public boolean isValid(String paramField, ConstraintValidatorContext cxt) {\n        //Perform paramField validation\n        return true;\n    }\n}\n</code></pre>\n\n<p>-</p>\n\n<pre><code>@Documented\n@Constraint(validatedBy = ParamValidator.class)\n@Target( { ElementType.PARAMETER })\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface ParamConstraint {\n\n    String message() default \"Default validation message\";\n\n    Class&lt;?&gt;[] groups() default {};\n\n    Class&lt;? extends Payload&gt;[] payload() default {};\n}\n</code></pre>\n\n<p>-</p>\n\n<pre><code>@RequestMapping(value = \"/profile/{param}\", method = RequestMethod.GET)\npublic IVRProfile getProfile(@Valid @ParamConstraint @ModelAttribute(\"param\") String param) {\n    return sampleProfile();\n}\n</code></pre>\n\n<p>And finally don't forget to annotate Controller with <code>@Validated</code>.</p>\n\n<pre><code>@RestController\n@Validated\npublic class ProfileController {\n    //...\n}\n</code></pre>\n\n<p>More details you can find in the example as mentioned <a href=\"http://www.baeldung.com/spring-mvc-custom-validator\" rel=\"noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":24385934,"reputation":111,"user_id":18316717,"display_name":"agitrubard"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1661626362,"creation_date":1661626224,"answer_id":73513603,"question_id":46394852,"body_markdown":"You can create the answer you want by using the fields in the ConstraintViolationException with the following method;\r\n\r\n```\r\n    @ExceptionHandler(ConstraintViolationException.class)\r\n    protected ResponseEntity&lt;Object&gt; handlePathVariableError(final ConstraintViolationException exception) {\r\n        log.error(exception.getMessage(), exception);\r\n\r\n        final List&lt;SisSubError&gt; subErrors = new ArrayList&lt;&gt;();\r\n        exception.getConstraintViolations().forEach(constraintViolation -&gt; subErrors.add(generateSubError(constraintViolation)));\r\n\r\n        final SisError error = generateErrorWithSubErrors(VALIDATION_ERROR, HttpStatus.BAD_REQUEST, subErrors);\r\n        return new ResponseEntity&lt;&gt;(error, HttpStatus.BAD_REQUEST);\r\n    }\r\n```\r\n\r\n&gt; You need to added an @Validated annotation to Controller class and any validation annotation before path variable field","title":"Using Spring @Validated Annotation to Validate a Get Request Path Variable","body":"<p>You can create the answer you want by using the fields in the ConstraintViolationException with the following method;</p>\n<pre><code>    @ExceptionHandler(ConstraintViolationException.class)\n    protected ResponseEntity&lt;Object&gt; handlePathVariableError(final ConstraintViolationException exception) {\n        log.error(exception.getMessage(), exception);\n\n        final List&lt;SisSubError&gt; subErrors = new ArrayList&lt;&gt;();\n        exception.getConstraintViolations().forEach(constraintViolation -&gt; subErrors.add(generateSubError(constraintViolation)));\n\n        final SisError error = generateErrorWithSubErrors(VALIDATION_ERROR, HttpStatus.BAD_REQUEST, subErrors);\n        return new ResponseEntity&lt;&gt;(error, HttpStatus.BAD_REQUEST);\n    }\n</code></pre>\n<blockquote>\n<p>You need to added an @Validated annotation to Controller class and any validation annotation before path variable field</p>\n</blockquote>\n"}],"owner":{"account_id":10513542,"reputation":21,"user_id":7748403,"display_name":"BlakeM"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8943,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1661626362,"creation_date":1506287196,"question_id":46394852,"body_markdown":"I&#39;m trying to use the Spring Validator and @Validated annotation to validate a Get Request parameter but cannot get the validator to run. I&#39;m using a ModelAttribute to try and get the validator to run on the Path Variable instead of the Request Body. Is it possible to run a validator on a Get Request Path Variable?\r\n\r\nHere is my controller class and method\r\n\r\n    @RestController\r\n    public class ProfileController {\r\n\r\n\t    @RequestMapping(value = &quot;/profile/{param}&quot;, method = RequestMethod.GET)\r\n        public IVRProfile getProfile(@Validated(ParamValidator.class) @ModelAttribute(&quot;param&quot;) String param) {\r\n\t\t\t\t\r\n\t\treturn sampleProfile();\r\n        }\r\n\r\n        @ModelAttribute(&quot;param&quot;)\r\n        public String paramAsModelAttribute(@PathVariable String param) {\r\n            return param;\r\n        }\r\n\r\n    }\r\n\r\nAnd the Validator class\r\n\r\n    @Component\r\n    public class ParamValidator implements Validator\r\n    {\r\n\r\n\t    @Override\r\n\t    public boolean supports(Class&lt;?&gt; clazz)\r\n\t    {\r\n\t\t    System.out.println(&quot;Validator supports test&quot;);\r\n\t\t    return String.class.isAssignableFrom(clazz);\r\n\t    }\r\n\r\n\t    @Override\r\n\t    public void validate(Object target, Errors errors)\r\n\t    {\r\n\t\t    System.out.println(&quot;Validator Test&quot;);\r\n            // Validation code\r\n\r\n\t    }\r\n\r\n    }\r\n\r\nNeither prints statements are executed when hitting the endpoint.\r\n\r\nAny help on what I could be missing or do differently would be greatly appreciated, thanks!","title":"Using Spring @Validated Annotation to Validate a Get Request Path Variable","body":"<p>I'm trying to use the Spring Validator and @Validated annotation to validate a Get Request parameter but cannot get the validator to run. I'm using a ModelAttribute to try and get the validator to run on the Path Variable instead of the Request Body. Is it possible to run a validator on a Get Request Path Variable?</p>\n\n<p>Here is my controller class and method</p>\n\n<pre><code>@RestController\npublic class ProfileController {\n\n    @RequestMapping(value = \"/profile/{param}\", method = RequestMethod.GET)\n    public IVRProfile getProfile(@Validated(ParamValidator.class) @ModelAttribute(\"param\") String param) {\n\n    return sampleProfile();\n    }\n\n    @ModelAttribute(\"param\")\n    public String paramAsModelAttribute(@PathVariable String param) {\n        return param;\n    }\n\n}\n</code></pre>\n\n<p>And the Validator class</p>\n\n<pre><code>@Component\npublic class ParamValidator implements Validator\n{\n\n    @Override\n    public boolean supports(Class&lt;?&gt; clazz)\n    {\n        System.out.println(\"Validator supports test\");\n        return String.class.isAssignableFrom(clazz);\n    }\n\n    @Override\n    public void validate(Object target, Errors errors)\n    {\n        System.out.println(\"Validator Test\");\n        // Validation code\n\n    }\n\n}\n</code></pre>\n\n<p>Neither prints statements are executed when hitting the endpoint.</p>\n\n<p>Any help on what I could be missing or do differently would be greatly appreciated, thanks!</p>\n"},{"tags":["java","android","kotlin","android-developer-api"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1661607209,"post_id":73509603,"comment_id":129814782,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":18812812,"reputation":92,"user_id":13720647,"display_name":"Zobaer Hossain"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661601119,"creation_date":1661601119,"answer_id":73510757,"question_id":73509603,"body_markdown":"&gt; now it&#39;s just showing Waiting for all the target devices to come\r\n&gt; online\r\n\r\nTo solve this-\r\n\r\nGo to **Device Manager**&gt;&gt; **Virtual** and select launch AVD or from options select cold boot now.\r\n\r\n\r\n\r\n\r\n[![just like bellow image][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/IUph9.png","title":"Should i be online to run grade build?","body":"<blockquote>\n<p>now it's just showing Waiting for all the target devices to come\nonline</p>\n</blockquote>\n<p>To solve this-</p>\n<p>Go to <strong>Device Manager</strong>&gt;&gt; <strong>Virtual</strong> and select launch AVD or from options select cold boot now.</p>\n<p><a href=\"https://i.stack.imgur.com/IUph9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IUph9.png\" alt=\"just like bellow image\" /></a></p>\n"},{"tags":[],"owner":{"account_id":18463410,"reputation":18363,"user_id":13598222,"display_name":"cactustictacs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661624309,"creation_date":1661624309,"answer_id":73513393,"question_id":73509603,"body_markdown":"[Like Zobaer says][1], if it says *waiting for devices* that usually means the build has completed (you can check that in the *Build* panel) and it&#39;s waiting for the emulator to show up. If your emulator is already running, try closing it and running the app again. Otherwise if it&#39;s not getting started, try starting it yourself.\r\n\r\nI&#39;m just posting an answer to point out that you sometimes *do* need to be online for Gradle to run, but you can put it in *offline mode*:\r\n\r\n[![The Gradle panel with the offline-mode toggle highlighted][3]][3]\r\n\r\nThat button in the popout panel, or you can always do Ctrl+Shift+A as usual and start typing what you&#39;re looking for!\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/73510757/13598222\r\n  [3]: https://i.stack.imgur.com/c3CRU.png","title":"Should i be online to run grade build?","body":"<p><a href=\"https://stackoverflow.com/a/73510757/13598222\">Like Zobaer says</a>, if it says <em>waiting for devices</em> that usually means the build has completed (you can check that in the <em>Build</em> panel) and it's waiting for the emulator to show up. If your emulator is already running, try closing it and running the app again. Otherwise if it's not getting started, try starting it yourself.</p>\n<p>I'm just posting an answer to point out that you sometimes <em>do</em> need to be online for Gradle to run, but you can put it in <em>offline mode</em>:</p>\n<p><a href=\"https://i.stack.imgur.com/c3CRU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/c3CRU.png\" alt=\"The Gradle panel with the offline-mode toggle highlighted\" /></a></p>\n<p>That button in the popout panel, or you can always do Ctrl+Shift+A as usual and start typing what you're looking for!</p>\n"}],"owner":{"account_id":26032252,"reputation":1,"user_id":19738288,"display_name":"Kartik Bhardwaj"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":2,"score":-3,"last_activity_date":1661624309,"creation_date":1661590623,"question_id":73509603,"body_markdown":"I have just started android and I created an app that was running fine a few days ago now I am working on another app but I am not able to run that and now Im not even able to run the previous one.\r\nnow it&#39;s just showing Waiting for all the target devices to come online\r\nand then it says Gradle build finished in 830ms or like that!","title":"Should i be online to run grade build?","body":"<p>I have just started android and I created an app that was running fine a few days ago now I am working on another app but I am not able to run that and now Im not even able to run the previous one.\nnow it's just showing Waiting for all the target devices to come online\nand then it says Gradle build finished in 830ms or like that!</p>\n"},{"tags":["java","builder","effective-java"],"comments":[{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":0,"creation_date":1357903699,"post_id":14277219,"comment_id":19821516,"body_markdown":"You probably want to make the _builder_ a bean, then, and have your definitive object be the result of this builder&#39;s `.build()`.","body":"You probably want to make the <i>builder</i> a bean, then, and have your definitive object be the result of this builder&#39;s <code>.build()</code>."},{"owner":{"account_id":558774,"reputation":20013,"user_id":921193,"accept_rate":62,"display_name":"WelcomeTo"},"score":0,"creation_date":1357903911,"post_id":14277219,"comment_id":19821601,"body_markdown":"@fge yes, you are right. I want to make builder a bean (because I can transfer only beans from EJB).","body":"@fge yes, you are right. I want to make builder a bean (because I can transfer only beans from EJB)."},{"owner":{"account_id":246,"reputation":107903,"user_id":304,"accept_rate":40,"display_name":"McDowell"},"score":0,"creation_date":1357904127,"post_id":14277219,"comment_id":19821700,"body_markdown":"Passing builders around like this is a design smell to me. Builders should be short-lived artefacts used to construct the objects you want to pass around.","body":"Passing builders around like this is a design smell to me. Builders should be short-lived artefacts used to construct the objects you want to pass around."},{"owner":{"account_id":558774,"reputation":20013,"user_id":921193,"accept_rate":62,"display_name":"WelcomeTo"},"score":0,"creation_date":1357904616,"post_id":14277219,"comment_id":19821906,"body_markdown":"@McDowell I want to use builder for security reasons. i.e. when client builds object and pass it to EJB method, this object can be in inconsistent state. I want to prevent client from creating object in inconsistent state. \n\nWhy this is design smell to you? Because builder pattern increases size of transfered object (adding builder it&#39;s at least having copy of all class fields inside inner class)?","body":"@McDowell I want to use builder for security reasons. i.e. when client builds object and pass it to EJB method, this object can be in inconsistent state. I want to prevent client from creating object in inconsistent state.   Why this is design smell to you? Because builder pattern increases size of transfered object (adding builder it&#39;s at least having copy of all class fields inside inner class)?"},{"owner":{"account_id":246,"reputation":107903,"user_id":304,"accept_rate":40,"display_name":"McDowell"},"score":0,"creation_date":1357941108,"post_id":14277219,"comment_id":19840386,"body_markdown":"@MyTitle Maybe I&#39;m missing something, but the solution discussed in the comments just seems to move the problem from the bean to the builder. Beans (with no-args ctors; getters/setters) are mutable. The builder can be passed in an invalid state and I don&#39;t see an advantage over adding an `isValid` method to the bean (or some other validation mechanism.)","body":"@MyTitle Maybe I&#39;m missing something, but the solution discussed in the comments just seems to move the problem from the bean to the builder. Beans (with no-args ctors; getters/setters) are mutable. The builder can be passed in an invalid state and I don&#39;t see an advantage over adding an <code>isValid</code> method to the bean (or some other validation mechanism.)"},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1661624257,"post_id":14277219,"comment_id":129818150,"body_markdown":"You can have applied builder pattern and still have dummy no args constructor.","body":"You can have applied builder pattern and still have dummy no args constructor."}],"answers":[{"tags":[],"owner":{"account_id":2184935,"reputation":523,"user_id":1933542,"display_name":"Prateek"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1360757645,"creation_date":1357906614,"answer_id":14278033,"question_id":14277219,"body_markdown":"Not sure what is making you to use builder pattern here but here is what my experience says to your issue. \r\n\r\n1. You are using EJBs. So, i assume that you are in distributed application mode.\r\n2. Your DTO will be used for carrying data to and from EJB. So, you should consider making your this DTO serializable (Now, having a no argument constructor makes sense).\r\n\r\nAccording to me, all you need is some kind of transformer which accepts obj1 from some layer for processing and then return it.\r\n\r\nI would recommend builder to be used only in case where your object construction is a multi-step process (for example, user registration). ","title":"Effective Java. Serializable Builder pattern (how to add public no-arg constructor?)","body":"<p>Not sure what is making you to use builder pattern here but here is what my experience says to your issue. </p>\n\n<ol>\n<li>You are using EJBs. So, i assume that you are in distributed application mode.</li>\n<li>Your DTO will be used for carrying data to and from EJB. So, you should consider making your this DTO serializable (Now, having a no argument constructor makes sense).</li>\n</ol>\n\n<p>According to me, all you need is some kind of transformer which accepts obj1 from some layer for processing and then return it.</p>\n\n<p>I would recommend builder to be used only in case where your object construction is a multi-step process (for example, user registration). </p>\n"},{"tags":[],"owner":{"account_id":509205,"reputation":523,"user_id":2515808,"display_name":"Shekhar Sahu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661623837,"creation_date":1661623837,"answer_id":73513347,"question_id":14277219,"body_markdown":"If you use Lombok to create `@Builder` implementation. You can use `@Jacksonized` annotation for serialization and deserialization. \r\nread more in the [official docs][1]\r\n\r\n\r\n  [1]: https://projectlombok.org/features/experimental/Jacksonized","title":"Effective Java. Serializable Builder pattern (how to add public no-arg constructor?)","body":"<p>If you use Lombok to create <code>@Builder</code> implementation. You can use <code>@Jacksonized</code> annotation for serialization and deserialization.\nread more in the <a href=\"https://projectlombok.org/features/experimental/Jacksonized\" rel=\"nofollow noreferrer\">official docs</a></p>\n"}],"owner":{"account_id":558774,"reputation":20013,"user_id":921193,"accept_rate":62,"display_name":"WelcomeTo"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2842,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1661623837,"creation_date":1357903616,"question_id":14277219,"body_markdown":"I want to create a class in Joshua Bloch&#39;s style using Builder pattern. But I want to use this class as DTO object and transfer it from EJB. So it need to have public no-arg constructor. How I can achieve this java-bean style in builder pattern? In Effective Java object have only one constructor which accepts `Builder` object as argument. If I add there public no-arg constructor, then I lost advantage of builder over Java-bean pattern. ","title":"Effective Java. Serializable Builder pattern (how to add public no-arg constructor?)","body":"<p>I want to create a class in Joshua Bloch's style using Builder pattern. But I want to use this class as DTO object and transfer it from EJB. So it need to have public no-arg constructor. How I can achieve this java-bean style in builder pattern? In Effective Java object have only one constructor which accepts <code>Builder</code> object as argument. If I add there public no-arg constructor, then I lost advantage of builder over Java-bean pattern. </p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":2,"creation_date":1661541004,"post_id":73505510,"comment_id":129805122,"body_markdown":"Looks like a classic `Collectors.toMap()` use case.","body":"Looks like a classic <code>Collectors.toMap()</code> use case."}],"answers":[{"tags":[],"owner":{"account_id":15790129,"reputation":36,"user_id":11393596,"display_name":"Haniyeh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661606206,"creation_date":1661541674,"answer_id":73505651,"question_id":73505510,"body_markdown":"probably you can use this code:\r\n```\r\nMap&lt;String, String&gt; outPutMap = new HashMap&lt;&gt;();\r\ninputList.stream()\r\n    .map(p-&gt;outPutMap.put(p.getCharacteristic(), p.getFeature()));\r\n```\r\nor this one:\r\n```\r\nMap&lt;String,String&gt; outPutMap = inputList .stream()\r\n.collect(Collectors.toMap(p-&gt; p.getCharacteristic(), p-&gt; p.getFeature()));","title":"Loop through a List of an object and build a Map using Java 8","body":"<p>probably you can use this code:</p>\n<pre><code>Map&lt;String, String&gt; outPutMap = new HashMap&lt;&gt;();\ninputList.stream()\n    .map(p-&gt;outPutMap.put(p.getCharacteristic(), p.getFeature()));\n</code></pre>\n<p>or this one:</p>\n<pre><code>Map&lt;String,String&gt; outPutMap = inputList .stream()\n.collect(Collectors.toMap(p-&gt; p.getCharacteristic(), p-&gt; p.getFeature()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10356325,"reputation":98,"user_id":7638169,"display_name":"Houari Zegai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661623809,"creation_date":1661623809,"answer_id":73513340,"question_id":73505510,"body_markdown":"You can use `Collectors.toMap` function to achieve that:\r\n\r\n    public Map&lt;String,String&gt; getMap(List&lt;ElementCharacteristic&gt; inputList) {\r\n        return inputList.stream()\r\n                .collect(Collectors.toMap(ElementCharacteristic::getCharacteristic, ElementCharacteristic::getFeature));\r\n    }","title":"Loop through a List of an object and build a Map using Java 8","body":"<p>You can use <code>Collectors.toMap</code> function to achieve that:</p>\n<pre><code>public Map&lt;String,String&gt; getMap(List&lt;ElementCharacteristic&gt; inputList) {\n    return inputList.stream()\n            .collect(Collectors.toMap(ElementCharacteristic::getCharacteristic, ElementCharacteristic::getFeature));\n}\n</code></pre>\n"}],"owner":{"account_id":3855913,"reputation":433,"user_id":3194858,"accept_rate":100,"display_name":"Andulos"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":636,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1661623809,"creation_date":1661540714,"question_id":73505510,"body_markdown":"I have list of ElementCharacteristic. I want to loop through this list and build a Map&lt;String,String&gt;. How to do this in Java Stream API?\r\n\r\n    public Map&lt;String,String&gt; getMap(List&lt;ElementCharacteristic&gt; inputList) {\r\n        Map&lt;String,String&gt; outPutMap = new HashMap&lt;&gt;();\r\n        for(ElementCharacteristic ele : inputList) {\r\n            outPutMap.put(ele.getCharacteristic(),ele.getFeature());\r\n        }\r\n        return outPutMap;\r\n    }","title":"Loop through a List of an object and build a Map using Java 8","body":"<p>I have list of ElementCharacteristic. I want to loop through this list and build a Map&lt;String,String&gt;. How to do this in Java Stream API?</p>\n<pre><code>public Map&lt;String,String&gt; getMap(List&lt;ElementCharacteristic&gt; inputList) {\n    Map&lt;String,String&gt; outPutMap = new HashMap&lt;&gt;();\n    for(ElementCharacteristic ele : inputList) {\n        outPutMap.put(ele.getCharacteristic(),ele.getFeature());\n    }\n    return outPutMap;\n}\n</code></pre>\n"},{"tags":["java","netbeans","jtable","text-files"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1661550414,"post_id":73505698,"comment_id":129807341,"body_markdown":"Add a `TableModelListener` to the `TableModel`. Any time data is changed an event will be generated. Then you rewrite all the data from the model to the file.","body":"Add a <code>TableModelListener</code> to the <code>TableModel</code>. Any time data is changed an event will be generated. Then you rewrite all the data from the model to the file."},{"owner":{"account_id":25941272,"reputation":9,"user_id":19660754,"display_name":"Felipe"},"score":0,"creation_date":1661575625,"post_id":73505698,"comment_id":129809967,"body_markdown":"@camickr im new to java so is it possible for u to show me how  to do it?","body":"@camickr im new to java so is it possible for u to show me how  to do it?"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1661607951,"post_id":73505698,"comment_id":129814915,"body_markdown":"Do what? I&#39;m not sure what you find confusing. We are not here to write the application for you. We can give you  pointers on specific problems. You learn by trying. Search the site for examples that use a TableModelListener (if this is what your confusion is about). Write some code. If it doesn&#39;t work then you post your [mre] showing what you have tried.","body":"Do what? I&#39;m not sure what you find confusing. We are not here to write the application for you. We can give you  pointers on specific problems. You learn by trying. Search the site for examples that use a TableModelListener (if this is what your confusion is about). Write some code. If it doesn&#39;t work then you post your <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> showing what you have tried."},{"owner":{"account_id":25941272,"reputation":9,"user_id":19660754,"display_name":"Felipe"},"score":0,"creation_date":1661623580,"post_id":73505698,"comment_id":129818034,"body_markdown":"@camickr I tried adding ```TableModelListener ```  but still cant work. I know im still missing something but i dont know what is it.","body":"@camickr I tried adding <code>TableModelListener </code>  but still cant work. I know im still missing something but i dont know what is it."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1661640608,"post_id":73505698,"comment_id":129820766,"body_markdown":"Why are you implementing TableModel methods? Where do you implement any of the `TableModelListener` methods? Read the API. Search the site for working examples. I can&#39;t help if you don&#39;t post a proper [mre].","body":"Why are you implementing TableModel methods? Where do you implement any of the <code>TableModelListener</code> methods? Read the API. Search the site for working examples. I can&#39;t help if you don&#39;t post a proper <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"owner":{"account_id":25941272,"reputation":9,"user_id":19660754,"display_name":"Felipe"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661623490,"creation_date":1661541976,"question_id":73505698,"body_markdown":"I can update the status when the row is selected in JTable but I cant update the status in text file. How can I update the status of an order in the text file when the status is being update in JTable at the same time?\r\n\r\n\r\n\r\norder2.txt\r\n\r\n```\r\nOrder Id , Status,      Food,     Food Quantity,    Drinks,    Drinks Quantity\r\n1   \tPreparing   \tFried Chicken   \t2   \tSprite   \t2\r\n2   \tPreparing   \tFried Chicken   \t2   \tCoke     \t2\r\n3   \tPreparing   \tFried Chicken   \t2   \tCoke     \t2\r\n```\r\n\r\nCode\r\n```\r\n   private void jTable1MouseClicked(java.awt.event.MouseEvent evt) {                                     \r\n        int selectedRow = jTable1.getSelectedRow();\r\n        DefaultTableModel model = (DefaultTableModel)jTable1.getModel();\r\n        statusTextField.setText(model.getValueAt(selectedRow,1).toString());\r\n    }        \r\n\r\n\r\n\r\n  private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {                                         \r\n        int i = jTable1.getSelectedRow();\r\n        DefaultTableModel model = (DefaultTableModel)jTable1.getModel();\r\n        \r\n        if (i &gt;= 0){\r\n            model.setValueAt(statusTextField.getText(),i,1);\r\n            tml(i);\r\n        }\r\n    }     \r\n\r\n  private void jCheckBox2ActionPerformed(java.awt.event.ActionEvent evt) {                                           \r\n        statusTextField.setText(&quot;Ready To Serve&quot;);\r\n    }\r\n```\r\n\r\nJTable image\r\n[enter image description here][1]   \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xB1nG.png\r\n\r\n\r\nTable listener\r\n```\r\nprivate void tml(int i) {\r\n         // Generated from nbfs://nbhost/SystemFileSystem/Templates/Classes/Code/GeneratedMethodBody\r\n    }\r\n\r\n   \r\n\r\n    private abstract class tml implements TableModelListener  {\r\n\r\n    DefaultTableModel model = (DefaultTableModel)jTable1.getModel();\r\n    private Object[] columnNames;\r\n    private Object[][] rowData;\r\n    \r\n    public String getColumnName(int col) {\r\n        return columnNames[col].toString();\r\n    }\r\n    public int getRowCount() { return rowData.length; }\r\n    public int getColumnCount() { return columnNames.length; }\r\n    public Object getValueAt(int row, int col) {\r\n        return rowData[row][col];\r\n    }\r\n     public boolean isCellEditable(int row, int col)\r\n        { return true; }\r\n    public void setValueAt(Object value, int row, int col) {\r\n        rowData[row][col] = value;\r\n        fireTableCellUpdated(row, col);\r\n    }\r\n\r\n        private void fireTableCellUpdated(int row, int col) {\r\n            throw new UnsupportedOperationException(&quot;Not supported yet.&quot;); // Generated from nbfs://nbhost/SystemFileSystem/Templates/Classes/Code/GeneratedMethodBody\r\n        }\r\n    }\r\n```","title":"Change Jtable a cell value and replace old string with new cell value to text file","body":"<p>I can update the status when the row is selected in JTable but I cant update the status in text file. How can I update the status of an order in the text file when the status is being update in JTable at the same time?</p>\n<p>order2.txt</p>\n<pre><code>Order Id , Status,      Food,     Food Quantity,    Drinks,    Drinks Quantity\n1       Preparing       Fried Chicken       2       Sprite      2\n2       Preparing       Fried Chicken       2       Coke        2\n3       Preparing       Fried Chicken       2       Coke        2\n</code></pre>\n<p>Code</p>\n<pre><code>   private void jTable1MouseClicked(java.awt.event.MouseEvent evt) {                                     \n        int selectedRow = jTable1.getSelectedRow();\n        DefaultTableModel model = (DefaultTableModel)jTable1.getModel();\n        statusTextField.setText(model.getValueAt(selectedRow,1).toString());\n    }        \n\n\n\n  private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {                                         \n        int i = jTable1.getSelectedRow();\n        DefaultTableModel model = (DefaultTableModel)jTable1.getModel();\n        \n        if (i &gt;= 0){\n            model.setValueAt(statusTextField.getText(),i,1);\n            tml(i);\n        }\n    }     \n\n  private void jCheckBox2ActionPerformed(java.awt.event.ActionEvent evt) {                                           \n        statusTextField.setText(&quot;Ready To Serve&quot;);\n    }\n</code></pre>\n<p>JTable image\n<a href=\"https://i.stack.imgur.com/xB1nG.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>Table listener</p>\n<pre><code>private void tml(int i) {\n         // Generated from nbfs://nbhost/SystemFileSystem/Templates/Classes/Code/GeneratedMethodBody\n    }\n\n   \n\n    private abstract class tml implements TableModelListener  {\n\n    DefaultTableModel model = (DefaultTableModel)jTable1.getModel();\n    private Object[] columnNames;\n    private Object[][] rowData;\n    \n    public String getColumnName(int col) {\n        return columnNames[col].toString();\n    }\n    public int getRowCount() { return rowData.length; }\n    public int getColumnCount() { return columnNames.length; }\n    public Object getValueAt(int row, int col) {\n        return rowData[row][col];\n    }\n     public boolean isCellEditable(int row, int col)\n        { return true; }\n    public void setValueAt(Object value, int row, int col) {\n        rowData[row][col] = value;\n        fireTableCellUpdated(row, col);\n    }\n\n        private void fireTableCellUpdated(int row, int col) {\n            throw new UnsupportedOperationException(&quot;Not supported yet.&quot;); // Generated from nbfs://nbhost/SystemFileSystem/Templates/Classes/Code/GeneratedMethodBody\n        }\n    }\n</code></pre>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":45934,"reputation":203659,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":1,"creation_date":1661593719,"post_id":73509906,"comment_id":129812327,"body_markdown":"You also have to check your project settings (not just general IntelliJ settings), make sure your project is configured for Java 11. File / Project Structure (shortcut: ` ;`)","body":"You also have to check your project settings (not just general IntelliJ settings), make sure your project is configured for Java 11. File / Project Structure (shortcut: <code> ;</code>)"},{"owner":{"account_id":3084600,"reputation":5860,"user_id":2612030,"display_name":"ewramner"},"score":0,"creation_date":1661593920,"post_id":73509906,"comment_id":129812355,"body_markdown":"It shouldn&#39;t? See https://stackoverflow.com/q/54129834/2612030.","body":"It shouldn&#39;t? See <a href=\"https://stackoverflow.com/q/54129834/2612030\">stackoverflow.com/q/54129834/2612030</a>."},{"owner":{"account_id":6746145,"reputation":4817,"user_id":5197712,"display_name":"Anand"},"score":0,"creation_date":1661594269,"post_id":73509906,"comment_id":129812413,"body_markdown":"check your java version in command prompt :  java --version","body":"check your java version in command prompt :  java --version"},{"owner":{"account_id":17938106,"reputation":388,"user_id":13034034,"display_name":"Kim M"},"score":0,"creation_date":1661594326,"post_id":73509906,"comment_id":129812419,"body_markdown":"@AnandhKrishnan \nThe operation couldnt be completed. Unable to locate a Java Runtime.","body":"@AnandhKrishnan  The operation couldnt be completed. Unable to locate a Java Runtime."},{"owner":{"account_id":17938106,"reputation":388,"user_id":13034034,"display_name":"Kim M"},"score":0,"creation_date":1661594389,"post_id":73509906,"comment_id":129812434,"body_markdown":"mac m1 monterey","body":"mac m1 monterey"},{"owner":{"account_id":17938106,"reputation":388,"user_id":13034034,"display_name":"Kim M"},"score":0,"creation_date":1661595067,"post_id":73509906,"comment_id":129812563,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/247600/discussion-between-kim-m-and-anandh-krishnan).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/247600/discussion-between-kim-m-and-anandh-krishnan\">continue this discussion in chat</a>."},{"owner":{"account_id":13180915,"reputation":1094,"user_id":9520315,"display_name":"Sujal Kumar"},"score":0,"creation_date":1661604912,"post_id":73509906,"comment_id":129814343,"body_markdown":"Did you try using the Embedded JDK?","body":"Did you try using the Embedded JDK?"},{"owner":{"account_id":17938106,"reputation":388,"user_id":13034034,"display_name":"Kim M"},"score":0,"creation_date":1661608056,"post_id":73509906,"comment_id":129814933,"body_markdown":"Yes I did, JAVA 8 still persists","body":"Yes I did, JAVA 8 still persists"}],"answers":[{"tags":[],"owner":{"account_id":25860883,"reputation":1,"user_id":19593397,"display_name":"Ashish Patel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661593853,"creation_date":1661593853,"answer_id":73509953,"question_id":73509906,"body_markdown":"Try first to invalidate cache and watch carefully with XMLs Android studio need a proper cross checking but strangely its configuration process is not properly align.\r\n\r\nIf unable to do this restore /Reset Android Studio then Add/Enable JAVA.","title":"Android Studio doesn&#39;t recognize JAVA 11","body":"<p>Try first to invalidate cache and watch carefully with XMLs Android studio need a proper cross checking but strangely its configuration process is not properly align.</p>\n<p>If unable to do this restore /Reset Android Studio then Add/Enable JAVA.</p>\n"},{"tags":[],"owner":{"account_id":18812812,"reputation":92,"user_id":13720647,"display_name":"Zobaer Hossain"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661601891,"creation_date":1661600203,"answer_id":73510656,"question_id":73509906,"body_markdown":"Don&#39;t forget to add java version in app level build.gradle file.\r\n\r\n       compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_11\r\n        targetCompatibility JavaVersion.VERSION_11\r\n    }\r\n\r\n[![like the image bellow][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CAXS5.png","title":"Android Studio doesn&#39;t recognize JAVA 11","body":"<p>Don't forget to add java version in app level build.gradle file.</p>\n<pre><code>   compileOptions {\n    sourceCompatibility JavaVersion.VERSION_11\n    targetCompatibility JavaVersion.VERSION_11\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/CAXS5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CAXS5.png\" alt=\"like the image bellow\" /></a></p>\n"}],"owner":{"account_id":17938106,"reputation":388,"user_id":13034034,"display_name":"Kim M"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":572,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1661623346,"creation_date":1661593476,"question_id":73509906,"body_markdown":"I have added JAVA 11 to android studio to Build Tools -&gt; Gradle like below:\r\n\r\n[![enter image description here][1]][1]\r\n\r\napp/build.gradle:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nSDK:\r\n\r\n[![enter image description here][3]][3]\r\n\r\nStill when checking source it still shows JAVA 8:\r\n\r\n[![enter image description here][4]][4]\r\n\r\nand also when app runs, the features on Java 11 which don&#39;t exist on Java 8 cause the app to fail with missing exception.\r\n\r\njava -version shows:\r\n\r\n    openjdk version &quot;11.0.11&quot; 2021-04-20\r\n    OpenJDK Runtime Environment (build 11.0.11+0-b60-7772763)\r\n    OpenJDK 64-Bit Server VM (build 11.0.11+0-b60-7772763, mixed mode)\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/iie9u.png\r\n  [2]: https://i.stack.imgur.com/pOtCw.png\r\n  [3]: https://i.stack.imgur.com/vPxEG.png\r\n  [4]: https://i.stack.imgur.com/MqGXe.png","title":"Android Studio doesn&#39;t recognize JAVA 11","body":"<p>I have added JAVA 11 to android studio to Build Tools -&gt; Gradle like below:</p>\n<p><a href=\"https://i.stack.imgur.com/iie9u.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iie9u.png\" alt=\"enter image description here\" /></a></p>\n<p>app/build.gradle:</p>\n<p><a href=\"https://i.stack.imgur.com/pOtCw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pOtCw.png\" alt=\"enter image description here\" /></a></p>\n<p>SDK:</p>\n<p><a href=\"https://i.stack.imgur.com/vPxEG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vPxEG.png\" alt=\"enter image description here\" /></a></p>\n<p>Still when checking source it still shows JAVA 8:</p>\n<p><a href=\"https://i.stack.imgur.com/MqGXe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MqGXe.png\" alt=\"enter image description here\" /></a></p>\n<p>and also when app runs, the features on Java 11 which don't exist on Java 8 cause the app to fail with missing exception.</p>\n<p>java -version shows:</p>\n<pre><code>openjdk version &quot;11.0.11&quot; 2021-04-20\nOpenJDK Runtime Environment (build 11.0.11+0-b60-7772763)\nOpenJDK 64-Bit Server VM (build 11.0.11+0-b60-7772763, mixed mode)\n</code></pre>\n"},{"tags":["java","audio","fft"],"comments":[{"owner":{"account_id":14937373,"reputation":328,"user_id":10901306,"display_name":"Zukaru"},"score":0,"creation_date":1661655159,"post_id":73513289,"comment_id":129822159,"body_markdown":"I&#39;ve encountered the same problem once as yours. But I used https://github.com/JorenSix/TarsosDSP\n\nMaybe you can try re-checking the byte formats when/after retrieving the data.\nIn addition I made a facade/factory class for extracting this kind of data: https://github.com/zukarusan/JChoreco","body":"I&#39;ve encountered the same problem once as yours. But I used <a href=\"https://github.com/JorenSix/TarsosDSP\" rel=\"nofollow noreferrer\">github.com/JorenSix/TarsosDSP</a>  Maybe you can try re-checking the byte formats when/after retrieving the data. In addition I made a facade/factory class for extracting this kind of data: <a href=\"https://github.com/zukarusan/JChoreco\" rel=\"nofollow noreferrer\">github.com/zukarusan/JChoreco</a>"},{"owner":{"account_id":14937373,"reputation":328,"user_id":10901306,"display_name":"Zukaru"},"score":0,"creation_date":1661669593,"post_id":73513289,"comment_id":129823510,"body_markdown":"You also might want to try to pack your bytes data in your `calculateFft()` since it directly passes the single atomic byte to `Complex` constructor parameter which takes a single double value. You can try `ByteBuffer.wrap()`","body":"You also might want to try to pack your bytes data in your <code>calculateFft()</code> since it directly passes the single atomic byte to <code>Complex</code> constructor parameter which takes a single double value. You can try <code>ByteBuffer.wrap()</code>"},{"owner":{"account_id":7405785,"reputation":2672,"user_id":5634769,"display_name":"gpasch"},"score":0,"creation_date":1661680236,"post_id":73513289,"comment_id":129825097,"body_markdown":"sanity check means do you get the same signal by FT-inverseFT?? Then your FFT works. As for the visual analyzer I can sit here and listen to more stories from papa","body":"sanity check means do you get the same signal by FT-inverseFT?? Then your FFT works. As for the visual analyzer I can sit here and listen to more stories from papa"}],"owner":{"account_id":2590771,"reputation":8658,"user_id":2245528,"accept_rate":95,"display_name":"cf-"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":153,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1661623334,"creation_date":1661623334,"question_id":73513289,"body_markdown":"tl;dr: when I calculate and visualize an FFT for any audio sample, the visualization is full of background noise to the point of swallowing the signal. Why?\r\n\r\nFull question/details: I&#39;m (long-term) attempting to make an audio fingerprinter following the blog post [here](https://www.royvanrijn.com/blog/2010/06/creating-shazam-in-java/). The code given is incomplete and this is my first time doing this kind of audio processing, so I&#39;m filling in blanks in both the code and my knowledge as I go.\r\n\r\nThe post first explains running the audio sample through a windowed FFT. I&#39;m using the [Apache Commons FastFourierTransform class](https://commons.apache.org/proper/commons-math/javadocs/api-3.6.1/org/apache/commons/math3/transform/FastFourierTransformer.html) for this, and I&#39;ve sanity checked some very simple bit patterns against their computed FFTs with good results.\r\n\r\nThe post then detours into making a basic spectrum analyzer to confirm that the FFT is working as intended, and here&#39;s where I see my issue.\r\n\r\nThe post&#39;s spectrum analyzer is very simple code. `results` is a `Complex[][]` containing the raw results of the FFT.\r\n\r\n```\r\nfor(int i = 0; i &lt; results.length; i++) {\r\n    int freq = 1;\r\n    for(int line = 1; line &lt; size; line++) {\r\n        // To get the magnitude of the sound at a given frequency slice\r\n        // get the abs() from the complex number.\r\n        // In this case I use Math.log to get a more managable number (used for color)\r\n        double magnitude = Math.log(results[i][freq].abs()+1);\r\n\r\n        // The more blue in the color the more intensity for a given frequency point:\r\n        g2d.setColor(new Color(0,(int)magnitude*10,(int)magnitude*20));\r\n        // Fill:\r\n        g2d.fillRect(i*blockSizeX, (size-line)*blockSizeY,blockSizeX,blockSizeY);\r\n\t\t\r\n        // I used a improviced logarithmic scale and normal scale:\r\n        if (logModeEnabled &amp;&amp; (Math.log10(line) * Math.log10(line)) &gt; 1) {\r\n            freq += (int) (Math.log10(line) * Math.log10(line));\r\n        } else {\r\n            freq++;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThe post&#39;s visualization results as shown are good quality. This is a picture of a sample from Aphex Twin&#39;s song &quot;Equation&quot;, which has an image of the artist&#39;s face encoded into it:\r\n\r\n![Image of Aphex Twin&#39;s face encoded into his song &quot;Equation&quot;](https://www.royvanrijn.com/images/face-299x300.png)\r\n\r\nIndeed, when I take a short sample from the [song](https://www.youtube.com/watch?v=m8UCZfaYACo) (starting around 5:25) and run it through the online spectrum analyzer [here](https://academo.org/demos/spectrum-analyzer/) for a sanity check, I get a pretty legible rendition of the face:\r\n\r\n![Image of Aphex Twin&#39;s face encoded into his song &quot;Equation&quot;](https://i.stack.imgur.com/kAGXj.png)\r\n\r\nBut my own results on the exact same audio file are a lot noisier, to the point that I have to mess with the spectrum analyzer&#39;s colors just to get something to show at all, and I never get to see the full face:\r\n\r\n![My attempt at rendering Aphex Twin&#39;s face](https://i.stack.imgur.com/JiVtr.png)\r\n\r\nI get this kind of heavy background noise with any audio sample I try, across a variety of factors - MP3 or WAV, mono or stereo, short sample or long sample, a simple audio pattern or a complex song.\r\n\r\nI&#39;ve experimented with different FFT window sizes, conversion from raw FFT frequency output to power or dB, and different ways of visualizing the FFT output just in case the issue is with the visualization. None of that has helped.\r\n\r\nI looked up the [WebAudio implementation](https://webaudio.github.io/web-audio-api/#fft-windowing-and-smoothing-over-time) behind the Academo online spectrum analyzer, and it looks like there&#39;s a lot going on there: a [Blackman window](https://www.dsprelated.com/freebooks/mdft/Use_Blackman_Window.html) instead of my simple rectangular window to smooth the audio sampling; an interesting FFT with a built-in multiplication by 1/N, which seems to match the Unitary normalization provided by Apache Commons&#39; FFT class; a smoothing function on the frequency data; and conversion from frequency values to dB to top it all off. Just for fun, I tried mimicking the WebAudio setup, but with about the same or even worse noise in the results, which suggests the issue is in the FFT step rather than any of the pre or post processing. I&#39;m not sure how this can be the case when the FFT passes my basic calculation checks. I suppose the issue could be in the audio reading step, that I&#39;m passing garbage into the FFT and getting garbage back, but I&#39;ve experimented with reading the audio file and immediately writing a copy back to disk, and the new copy sounds just fine.\r\n\r\nHere&#39;s a simplified version of my code that demonstrates the issue:\r\n\r\n```\r\n//Application.java\r\n\r\nimport java.io.File;\r\nimport java.io.IOException;\r\n\r\nimport javax.sound.sampled.AudioFormat;\r\nimport javax.sound.sampled.AudioInputStream;\r\nimport javax.sound.sampled.AudioSystem;\r\nimport javax.sound.sampled.UnsupportedAudioFileException;\r\n\r\npublic class Application {\r\n\tpublic static void main(String[] args) {\r\n\t\tsanityCheckFft();\r\n\t\t\r\n\t\tFile inputFile = new File(&quot;C:\\\\Aphex Twin face.mp3&quot;);\r\n\t\t\r\n\t\tAudioProcessor audioProcessor = new AudioProcessor();\r\n\t\tSpectrumAnalyzer debugSpectrumAnalyzer = new SpectrumAnalyzer();\r\n\t\t\r\n\t\ttry {\r\n\t\t\tAudioInputStream audioStream = readAudioFile(inputFile);\r\n\t\t\tbyte[] bytes = audioStream.readAllBytes();\r\n\t\t\tAudioFormat audioFormat = audioStream.getFormat();\r\n\t\t\tFftChunk[] fft = audioProcessor.calculateFft(bytes, audioFormat, 4096);\r\n\t\t\tdebugSpectrumAnalyzer.debugFftSpectrum(fft);\r\n\t\t}\r\n\t\tcatch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\t\r\n\t//https://github.com/hendriks73/ffsampledsp#usage\r\n\tprivate static AudioInputStream readAudioFile(File file) throws IOException, UnsupportedAudioFileException {\r\n\t\t// compressed stream\r\n\t\tAudioInputStream mp3InputStream = AudioSystem.getAudioInputStream(file);\r\n\r\n\t\t// AudioFormat describing the compressed stream\r\n\t\tAudioFormat mp3Format = mp3InputStream.getFormat();\r\n\r\n\t\t// AudioFormat describing the desired decompressed stream\r\n\t\tint sampleSizeInBits = 16;\r\n\t\tint frameSize = 16 * mp3Format.getChannels() / 8;\r\n\r\n\t\tAudioFormat pcmFormat = new AudioFormat(AudioFormat.Encoding.PCM_SIGNED,\r\n\t\t\t\tmp3Format.getSampleRate(),\r\n\t\t\t\tsampleSizeInBits,\r\n\t\t\t\tmp3Format.getChannels(),\r\n\t\t\t\tframeSize,\r\n\t\t\t\tmp3Format.getSampleRate(),\r\n\t\t\t\tmp3Format.isBigEndian());\r\n\r\n\t\t// actually decompressed stream (signed PCM)\r\n\t\tfinal AudioInputStream pcmInputStream = AudioSystem.getAudioInputStream(pcmFormat, mp3InputStream);\r\n\r\n\t\treturn pcmInputStream;\r\n\t}\r\n\t\r\n\tprivate static void sanityCheckFft() {\r\n\t\tAudioProcessor audioProcessor = new AudioProcessor();\r\n\t\t\r\n\t\t//pattern 1: one block\r\n\t\tbyte[] bytePattern1 = new byte[] {2, 1, -1, 5, 0, 3, 0, -4};\r\n\t\tFftChunk[] fftResults1 = audioProcessor.calculateFft(bytePattern1, null, 8);\r\n\t\t//expected results: [6 + 0J, -5.778 - 3.95J, 3 + -3J, 9.778 - 5.95J, -4 + 0J, 9.778 + 5.95J, 3 + 3J, -5.778 + 3.95J]\r\n\t\t//expected results verified with https://engineering.icalculator.info/discrete-fourier-transform-calculator.html\r\n\t\t\r\n\t\t//pattern 2: two blocks\r\n\t\tbyte[] bytePattern2 = new byte[] {2, 1, -1, 5, 0, 3, 0, -4};\r\n\t\tFftChunk[] fftResults2 = audioProcessor.calculateFft(bytePattern1, null, 4);\r\n\t\t//expected results: [7 + 0J, 3 + 4J, -5 + 0J, 3 - 4J], [-1 + 0J, 0 - 7J, 1 + 0J, 0 + 7J]\r\n\t\t//expected results verified with https://engineering.icalculator.info/discrete-fourier-transform-calculator.html\r\n\t\t\r\n\t\t/* pattern 3\r\n\t\t * &quot;Try a signal of alternate ones and negative ones with zeros between each. (i.e. 1,0,-1,0, 1,0,-1,0, ...) For a real FFT of length 1024, this should give you a single peak at out[255] ( the 256th frequency bin)&quot;\r\n\t\t * - https://stackoverflow.com/questions/8887896/why-does-my-kiss-fft-plot-show-duplicate-peaks-mirrored-on-the-y-axis#comment11127476_8887896 \r\n\t\t */\r\n\t\tbyte[] bytePattern3 = new byte[1024];\r\n\t\tbyte[] pattern3Phases = new byte[] {1, 0, -1, 0};\r\n\t\t\r\n\t\tfor (int pattern3Index = 0; pattern3Index &lt; bytePattern3.length; pattern3Index++) {\r\n\t\t\tint pattern3PhaseIndex = pattern3Index % pattern3Phases.length;\r\n\t\t\tbyte pattern3Phase = pattern3Phases[pattern3PhaseIndex];\r\n\t\t\tbytePattern3[pattern3Index] = pattern3Phase;\r\n\t\t}\r\n\t\t\r\n\t\tFftChunk[] fftResults3 = audioProcessor.calculateFft(bytePattern3, null, 1024);\r\n\t\t//expected results: 0s except for fftResults[256]\r\n\t}\r\n}\r\n```\r\n\r\n```\r\n//AudioProcessor.java\r\n\r\nimport javax.sound.sampled.AudioFormat;\r\n\r\nimport org.apache.commons.math3.complex.Complex;\r\nimport org.apache.commons.math3.transform.DftNormalization;\r\nimport org.apache.commons.math3.transform.FastFourierTransformer;\r\nimport org.apache.commons.math3.transform.TransformType;\r\n\r\npublic class AudioProcessor {\r\n\tpublic FftChunk[] calculateFft(byte[] bytes, AudioFormat audioFormat, int debugActualChunkSize) {\r\n\t\t//final int BITS_PER_BYTE = 8;\r\n\t\t//final int PREFERRED_CHUNKS_PER_SECOND = 60;\r\n\t\t\r\n\t\t/* turn the audio bytes into chunks. Each chunk represents the audio played during a certain window of time, defined by the audio&#39;s play rate (frame rate * frame size = the number of bytes processed per second)\r\n\t\t * and the number of chunks we want to cut each second of audio into.\r\n\t\t * frame rate * frame size = 1 second worth of bytes\r\n\t\t * if we divide each second worth of data into chunksPerSecond chunks, that gives us:\r\n\t\t * 1 chunk in bytes = 1 second in bytes / chunksPerSecond\r\n\t\t * 1 chunk in bytes = frame rate * frame size / chunksPerSecond\r\n\t\t */\r\n\t\t\r\n\t\t//float oneSecondByteLength = audioFormat.getChannels() * audioFormat.getSampleRate() * (audioFormat.getSampleSizeInBits() / BITS_PER_BYTE);\r\n\t\t//int preferredChunkSize = (int)(oneSecondByteLength / PREFERRED_CHUNKS_PER_SECOND);\r\n\t\t//int actualChunkSize = getPreviousPowerOfTwo(preferredChunkSize);\r\n\t\tint chunkCount = bytes.length / debugActualChunkSize;\r\n\t\t\r\n\t\tFastFourierTransformer fastFourierTransformer = new FastFourierTransformer(DftNormalization.STANDARD);\r\n\t\t\r\n\t\tFftChunk[] fftResults = new FftChunk[chunkCount];\r\n\t\t\r\n\t\t//set up each chunk individually for FFT processing\r\n\t\tfor (int timeIndex = 0; timeIndex &lt; chunkCount; timeIndex++) {\r\n\t\t\t//to map the input into the frequency domain, we need complex numbers (we only use the normal half of the Complex, but we need to provide &amp; receive the entire Complex value)\r\n\t\t\tComplex[] currentChunkComplexRepresentation = new Complex[debugActualChunkSize];\r\n\t\t\t\r\n\t\t\tfor (int currentChunkIndex = 0; currentChunkIndex &lt; debugActualChunkSize; currentChunkIndex++) {\r\n\t\t\t\t//get the next byte in the current audio chunk\r\n\t\t\t\tint currentChunkCurrentByteIndex = (timeIndex * debugActualChunkSize) + currentChunkIndex;\r\n\t\t\t\tbyte currentChunkCurrentByte = bytes[currentChunkCurrentByteIndex];\r\n\t\t\t\t\r\n\t\t\t\t//put the time domain data into a complex number with imaginary part as 0\r\n\t\t\t\tcurrentChunkComplexRepresentation[currentChunkIndex] = new Complex(currentChunkCurrentByte, 0);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t//perform FFT analysis on the chunk\r\n\t\t\tComplex[] currentChunkFftResults = fastFourierTransformer.transform(currentChunkComplexRepresentation, TransformType.FORWARD);\r\n\t\t\t\r\n\t\t\tFftChunk fftResult = new FftChunk(currentChunkFftResults);\r\n\t\t\tfftResults[timeIndex] = fftResult;\r\n\t\t}\r\n\t\t\r\n\t\treturn fftResults;\r\n\t}\r\n}\r\n```\r\n\r\n```\r\n//FftChunk.java\r\n\r\nimport org.apache.commons.math3.complex.Complex;\r\n\r\nimport lombok.Data;\r\nimport lombok.RequiredArgsConstructor;\r\n\r\n@Data\r\n@RequiredArgsConstructor\r\npublic class FftChunk {\r\n\tprivate final Complex[] fftResults;\r\n}\r\n```\r\n\r\n```\r\n//SpectrumAnalyzer.java\r\n\r\nimport java.awt.Color;\r\nimport java.awt.Dimension;\r\nimport java.awt.Graphics;\r\nimport java.awt.Graphics2D;\r\nimport java.awt.image.BufferedImage;\r\n\r\nimport javax.swing.JComponent;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JScrollPane;\r\nimport javax.swing.ScrollPaneConstants;\r\nimport javax.swing.WindowConstants;\r\n\r\nimport org.apache.commons.math3.complex.Complex;\r\n\r\npublic class SpectrumAnalyzer {\r\n\tprivate JFrame frame;\r\n\tprivate SpectrumAnalyzerComponent spectrumAnalyzerComponent;\r\n\t\r\n\tpublic void debugFftSpectrum(FftChunk[] spectrum) {\r\n\t\tDimension windowSize = new Dimension(1000, 600);\r\n\t\t\r\n\t\tspectrumAnalyzerComponent = new SpectrumAnalyzerComponent();\r\n\t\t\r\n\t\tJScrollPane scrollPanel = new JScrollPane(spectrumAnalyzerComponent);\r\n\t\tscrollPanel.setHorizontalScrollBarPolicy(ScrollPaneConstants.HORIZONTAL_SCROLLBAR_ALWAYS);\r\n\t\tscrollPanel.setPreferredSize(windowSize);\r\n\t\t\r\n\t\tframe = new JFrame();\r\n\t\tframe.add(scrollPanel);\r\n\t\tframe.setSize(windowSize);\r\n\t\tframe.setVisible(true);\r\n\t\tframe.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\r\n\t\t\r\n\t\tspectrumAnalyzerComponent.analyze(spectrum);\r\n\t}\r\n}\r\n\r\n@SuppressWarnings(&quot;serial&quot;)\r\nclass SpectrumAnalyzerComponent extends JComponent {\r\n\tprivate FftChunk[] spectrum;\r\n\tprivate boolean useLogScale = true;\r\n\tprivate int blockSizeX = 1;\r\n\tprivate int blockSizeY = 1;\r\n\tprivate BufferedImage cachedImage;\r\n\t\r\n\tpublic void analyze(FftChunk[] spectrum) {\r\n\t\tthis.spectrum = spectrum;\r\n\t\t\r\n\t\tif (spectrum == null) {\r\n\t\t\tcachedImage = null;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tint newWidth = (spectrum.length * blockSizeX) + blockSizeX;\r\n\t\t\t\r\n\t\t\tint newHeight = 0;\r\n\t\t\t\r\n\t\t\tfor (FftChunk audioChunk : spectrum) {\r\n\t\t\t\tComplex[] chunkFftResults = audioChunk.getFftResults();\r\n\t\t\t\t\r\n\t\t\t\tint chunkHeight = calculatePixelHeight(chunkFftResults);\r\n\t\t\t\t\r\n\t\t\t\tif (chunkHeight &gt; newHeight) {\r\n\t\t\t\t\tnewHeight = chunkHeight;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tDimension newSize = new Dimension(newWidth, newHeight);\r\n\t\t\tthis.setPreferredSize(newSize);\r\n\t\t\tthis.setSize(newSize);\r\n\t\t\tthis.revalidate();\r\n\t\t\t\r\n\t\t\tcachedImage = new BufferedImage(newWidth, newHeight, BufferedImage.TYPE_INT_RGB);\r\n\t\t\tdrawSpectrum(cachedImage.createGraphics());\r\n\t\t}\r\n\t\t\r\n\t\tthis.repaint(); //force an immediate redraw\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic void paint(Graphics graphics) {\r\n\t\tif (cachedImage != null) {\r\n\t\t\tgraphics.drawImage(cachedImage, 0, 0, null);\r\n\t\t}\r\n\t}\r\n\t\r\n\t//based on the spectrum analyzer from https://www.royvanrijn.com/blog/2010/06/creating-shazam-in-java/\r\n\tprivate void drawSpectrum(Graphics2D graphics) {\r\n\t\tif (this.spectrum == null) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tint windowHeight = this.getSize().height;\r\n\r\n\t\tfor (int timeIndex = 0; timeIndex &lt; spectrum.length; timeIndex++) {\r\n\t\t\tSystem.out.println(String.format(&quot;Drawing time chunk %d/%d&quot;, timeIndex + 1, spectrum.length));\r\n\t\t\t\r\n\t\t\tFftChunk currentChunk = spectrum[timeIndex];\r\n\t\t\tComplex[] currentChunkFftResults = currentChunk.getFftResults();\r\n\t\t\t\r\n\t\t\tint fftIndex = 0;\r\n\t\t\tint yIndex = 1;\r\n\t\t\t\r\n\t\t\t/* each chunk contains N elements, where N is the size of the FFT window. The first N/2 elements are positive and the last N/2 elements are negative, but they&#39;re otherwise mirrors\r\n\t\t\t * of each other. We only want the positive half.\r\n\t\t\t * Additionally, because we&#39;re working with audio samples, our FFT is a &quot;real&quot; FFT (FFT on real numbers -\r\n\t\t\t * https://stackoverflow.com/questions/8887896/why-does-my-kiss-fft-plot-show-duplicate-peaks-mirrored-on-the-y-axis/10744384#10744384 ), which produces a mirror of its own inside\r\n\t\t\t * the positive elements. We need to further divide the positive elements in half. This leaves us with the first N/4 elements after all is said and done.\r\n\t\t\t */\r\n\t\t\twhile (fftIndex &lt; currentChunkFftResults.length / 4) {\r\n\t\t\t\tComplex currentChunkFftResult = currentChunkFftResults[fftIndex];\r\n\t\t\t\t\r\n\t\t\t\t// To get the magnitude of the sound at a given frequency slice\r\n\t\t\t\t// get the abs() from the complex number.\r\n\t\t\t\t// In this case I use Math.log to get a more managable number (used for color)\r\n\t\t\t\tdouble magnitude = Math.log10(currentChunkFftResult.abs() + 1);\r\n\t\t\t\t\r\n\t\t\t\t// The more blue in the color the more intensity for a given frequency point:\r\n\t\t\t\t/*int red = 0;\r\n\t\t\t\tint green = (int) magnitude * 10;\r\n\t\t\t\tint blue = (int) magnitude * 20;\r\n\t\t\t\tgraphics.setColor(new Color(red, green, blue));*/\r\n\t\t\t\t\r\n\t\t\t\tfloat hue = (float)(magnitude / 255 * 100);\r\n\t\t\t\tint colorValue = Color.HSBtoRGB(hue, 100, 50);\r\n\t\t\t\tgraphics.setColor(new Color(colorValue));\r\n\t\t\t\t\r\n\t\t\t\t// Fill:\r\n\t\t\t\tgraphics.fillRect(timeIndex * blockSizeX, (windowHeight - yIndex) * blockSizeY, blockSizeX, blockSizeY);\r\n\r\n\t\t\t\t// I used an improvised logarithmic scale and normal scale:\r\n\t\t\t\tint normalScaleFrequencyDelta = 1;\r\n\t\t\t\tint logScaleFrequencyDelta = (int)(Math.log10(yIndex) * Math.log10(yIndex));\r\n\t\t\t\t\r\n\t\t\t\tif (logScaleFrequencyDelta &lt; 1) {\r\n\t\t\t\t\tlogScaleFrequencyDelta = 1;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif (useLogScale) {\r\n\t\t\t\t\tfftIndex = fftIndex + logScaleFrequencyDelta;\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tfftIndex = fftIndex + normalScaleFrequencyDelta;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tyIndex = yIndex + 1;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tprivate int calculatePixelHeight(Complex[] fftResults) {\r\n\t\tint fftIndex = 1;\r\n\t\tint tempPixelCount = 1;\r\n\t\tint pixelCount = 1;\r\n\t\t\r\n\t\twhile (fftIndex &lt; fftResults.length / 4) {\r\n\t\t\tpixelCount = tempPixelCount;\r\n\t\t\tint normalScaleFrequencyDelta = 1;\r\n\t\t\tint logScaleFrequencyDelta = (int)(Math.log10(tempPixelCount) * Math.log10(tempPixelCount));\r\n\t\t\t\r\n\t\t\tif (logScaleFrequencyDelta &lt; 1) {\r\n\t\t\t\tlogScaleFrequencyDelta = 1;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (useLogScale) {\r\n\t\t\t\tfftIndex = fftIndex + logScaleFrequencyDelta;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tfftIndex = fftIndex + normalScaleFrequencyDelta;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\ttempPixelCount = tempPixelCount + 1;\r\n\t\t}\r\n\t\t\r\n\t\treturn pixelCount;\r\n\t}\r\n}\r\n```\r\n\r\n```\r\n//build.gradle\r\n\r\nplugins {\r\n    //Java application plugin\r\n    id &#39;application&#39;\r\n    \r\n    //Project Lombok plugin\r\n    id &#39;io.freefair.lombok&#39; version &#39;6.5.0.2&#39;\r\n}\r\n\r\nrepositories {\r\n    // Use Maven Central for resolving dependencies.\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n\timplementation &#39;com.tagtraum:ffsampledsp-complete:0.9.46&#39;\r\n\timplementation &#39;org.apache.commons:commons-math3:3.6.1&#39;\r\n}\r\n```","title":"FFT visualization of any audio file shows heavy noise","body":"<p>tl;dr: when I calculate and visualize an FFT for any audio sample, the visualization is full of background noise to the point of swallowing the signal. Why?</p>\n<p>Full question/details: I'm (long-term) attempting to make an audio fingerprinter following the blog post <a href=\"https://www.royvanrijn.com/blog/2010/06/creating-shazam-in-java/\" rel=\"nofollow noreferrer\">here</a>. The code given is incomplete and this is my first time doing this kind of audio processing, so I'm filling in blanks in both the code and my knowledge as I go.</p>\n<p>The post first explains running the audio sample through a windowed FFT. I'm using the <a href=\"https://commons.apache.org/proper/commons-math/javadocs/api-3.6.1/org/apache/commons/math3/transform/FastFourierTransformer.html\" rel=\"nofollow noreferrer\">Apache Commons FastFourierTransform class</a> for this, and I've sanity checked some very simple bit patterns against their computed FFTs with good results.</p>\n<p>The post then detours into making a basic spectrum analyzer to confirm that the FFT is working as intended, and here's where I see my issue.</p>\n<p>The post's spectrum analyzer is very simple code. <code>results</code> is a <code>Complex[][]</code> containing the raw results of the FFT.</p>\n<pre><code>for(int i = 0; i &lt; results.length; i++) {\n    int freq = 1;\n    for(int line = 1; line &lt; size; line++) {\n        // To get the magnitude of the sound at a given frequency slice\n        // get the abs() from the complex number.\n        // In this case I use Math.log to get a more managable number (used for color)\n        double magnitude = Math.log(results[i][freq].abs()+1);\n\n        // The more blue in the color the more intensity for a given frequency point:\n        g2d.setColor(new Color(0,(int)magnitude*10,(int)magnitude*20));\n        // Fill:\n        g2d.fillRect(i*blockSizeX, (size-line)*blockSizeY,blockSizeX,blockSizeY);\n        \n        // I used a improviced logarithmic scale and normal scale:\n        if (logModeEnabled &amp;&amp; (Math.log10(line) * Math.log10(line)) &gt; 1) {\n            freq += (int) (Math.log10(line) * Math.log10(line));\n        } else {\n            freq++;\n        }\n    }\n}\n</code></pre>\n<p>The post's visualization results as shown are good quality. This is a picture of a sample from Aphex Twin's song &quot;Equation&quot;, which has an image of the artist's face encoded into it:</p>\n<p><img src=\"https://www.royvanrijn.com/images/face-299x300.png\" alt=\"Image of Aphex Twin's face encoded into his song &quot;Equation&quot;\" /></p>\n<p>Indeed, when I take a short sample from the <a href=\"https://www.youtube.com/watch?v=m8UCZfaYACo\" rel=\"nofollow noreferrer\">song</a> (starting around 5:25) and run it through the online spectrum analyzer <a href=\"https://academo.org/demos/spectrum-analyzer/\" rel=\"nofollow noreferrer\">here</a> for a sanity check, I get a pretty legible rendition of the face:</p>\n<p><img src=\"https://i.stack.imgur.com/kAGXj.png\" alt=\"Image of Aphex Twin's face encoded into his song &quot;Equation&quot;\" /></p>\n<p>But my own results on the exact same audio file are a lot noisier, to the point that I have to mess with the spectrum analyzer's colors just to get something to show at all, and I never get to see the full face:</p>\n<p><img src=\"https://i.stack.imgur.com/JiVtr.png\" alt=\"My attempt at rendering Aphex Twin's face\" /></p>\n<p>I get this kind of heavy background noise with any audio sample I try, across a variety of factors - MP3 or WAV, mono or stereo, short sample or long sample, a simple audio pattern or a complex song.</p>\n<p>I've experimented with different FFT window sizes, conversion from raw FFT frequency output to power or dB, and different ways of visualizing the FFT output just in case the issue is with the visualization. None of that has helped.</p>\n<p>I looked up the <a href=\"https://webaudio.github.io/web-audio-api/#fft-windowing-and-smoothing-over-time\" rel=\"nofollow noreferrer\">WebAudio implementation</a> behind the Academo online spectrum analyzer, and it looks like there's a lot going on there: a <a href=\"https://www.dsprelated.com/freebooks/mdft/Use_Blackman_Window.html\" rel=\"nofollow noreferrer\">Blackman window</a> instead of my simple rectangular window to smooth the audio sampling; an interesting FFT with a built-in multiplication by 1/N, which seems to match the Unitary normalization provided by Apache Commons' FFT class; a smoothing function on the frequency data; and conversion from frequency values to dB to top it all off. Just for fun, I tried mimicking the WebAudio setup, but with about the same or even worse noise in the results, which suggests the issue is in the FFT step rather than any of the pre or post processing. I'm not sure how this can be the case when the FFT passes my basic calculation checks. I suppose the issue could be in the audio reading step, that I'm passing garbage into the FFT and getting garbage back, but I've experimented with reading the audio file and immediately writing a copy back to disk, and the new copy sounds just fine.</p>\n<p>Here's a simplified version of my code that demonstrates the issue:</p>\n<pre><code>//Application.java\n\nimport java.io.File;\nimport java.io.IOException;\n\nimport javax.sound.sampled.AudioFormat;\nimport javax.sound.sampled.AudioInputStream;\nimport javax.sound.sampled.AudioSystem;\nimport javax.sound.sampled.UnsupportedAudioFileException;\n\npublic class Application {\n    public static void main(String[] args) {\n        sanityCheckFft();\n        \n        File inputFile = new File(&quot;C:\\\\Aphex Twin face.mp3&quot;);\n        \n        AudioProcessor audioProcessor = new AudioProcessor();\n        SpectrumAnalyzer debugSpectrumAnalyzer = new SpectrumAnalyzer();\n        \n        try {\n            AudioInputStream audioStream = readAudioFile(inputFile);\n            byte[] bytes = audioStream.readAllBytes();\n            AudioFormat audioFormat = audioStream.getFormat();\n            FftChunk[] fft = audioProcessor.calculateFft(bytes, audioFormat, 4096);\n            debugSpectrumAnalyzer.debugFftSpectrum(fft);\n        }\n        catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n    \n    //https://github.com/hendriks73/ffsampledsp#usage\n    private static AudioInputStream readAudioFile(File file) throws IOException, UnsupportedAudioFileException {\n        // compressed stream\n        AudioInputStream mp3InputStream = AudioSystem.getAudioInputStream(file);\n\n        // AudioFormat describing the compressed stream\n        AudioFormat mp3Format = mp3InputStream.getFormat();\n\n        // AudioFormat describing the desired decompressed stream\n        int sampleSizeInBits = 16;\n        int frameSize = 16 * mp3Format.getChannels() / 8;\n\n        AudioFormat pcmFormat = new AudioFormat(AudioFormat.Encoding.PCM_SIGNED,\n                mp3Format.getSampleRate(),\n                sampleSizeInBits,\n                mp3Format.getChannels(),\n                frameSize,\n                mp3Format.getSampleRate(),\n                mp3Format.isBigEndian());\n\n        // actually decompressed stream (signed PCM)\n        final AudioInputStream pcmInputStream = AudioSystem.getAudioInputStream(pcmFormat, mp3InputStream);\n\n        return pcmInputStream;\n    }\n    \n    private static void sanityCheckFft() {\n        AudioProcessor audioProcessor = new AudioProcessor();\n        \n        //pattern 1: one block\n        byte[] bytePattern1 = new byte[] {2, 1, -1, 5, 0, 3, 0, -4};\n        FftChunk[] fftResults1 = audioProcessor.calculateFft(bytePattern1, null, 8);\n        //expected results: [6 + 0J, -5.778 - 3.95J, 3 + -3J, 9.778 - 5.95J, -4 + 0J, 9.778 + 5.95J, 3 + 3J, -5.778 + 3.95J]\n        //expected results verified with https://engineering.icalculator.info/discrete-fourier-transform-calculator.html\n        \n        //pattern 2: two blocks\n        byte[] bytePattern2 = new byte[] {2, 1, -1, 5, 0, 3, 0, -4};\n        FftChunk[] fftResults2 = audioProcessor.calculateFft(bytePattern1, null, 4);\n        //expected results: [7 + 0J, 3 + 4J, -5 + 0J, 3 - 4J], [-1 + 0J, 0 - 7J, 1 + 0J, 0 + 7J]\n        //expected results verified with https://engineering.icalculator.info/discrete-fourier-transform-calculator.html\n        \n        /* pattern 3\n         * &quot;Try a signal of alternate ones and negative ones with zeros between each. (i.e. 1,0,-1,0, 1,0,-1,0, ...) For a real FFT of length 1024, this should give you a single peak at out[255] ( the 256th frequency bin)&quot;\n         * - https://stackoverflow.com/questions/8887896/why-does-my-kiss-fft-plot-show-duplicate-peaks-mirrored-on-the-y-axis#comment11127476_8887896 \n         */\n        byte[] bytePattern3 = new byte[1024];\n        byte[] pattern3Phases = new byte[] {1, 0, -1, 0};\n        \n        for (int pattern3Index = 0; pattern3Index &lt; bytePattern3.length; pattern3Index++) {\n            int pattern3PhaseIndex = pattern3Index % pattern3Phases.length;\n            byte pattern3Phase = pattern3Phases[pattern3PhaseIndex];\n            bytePattern3[pattern3Index] = pattern3Phase;\n        }\n        \n        FftChunk[] fftResults3 = audioProcessor.calculateFft(bytePattern3, null, 1024);\n        //expected results: 0s except for fftResults[256]\n    }\n}\n</code></pre>\n<pre><code>//AudioProcessor.java\n\nimport javax.sound.sampled.AudioFormat;\n\nimport org.apache.commons.math3.complex.Complex;\nimport org.apache.commons.math3.transform.DftNormalization;\nimport org.apache.commons.math3.transform.FastFourierTransformer;\nimport org.apache.commons.math3.transform.TransformType;\n\npublic class AudioProcessor {\n    public FftChunk[] calculateFft(byte[] bytes, AudioFormat audioFormat, int debugActualChunkSize) {\n        //final int BITS_PER_BYTE = 8;\n        //final int PREFERRED_CHUNKS_PER_SECOND = 60;\n        \n        /* turn the audio bytes into chunks. Each chunk represents the audio played during a certain window of time, defined by the audio's play rate (frame rate * frame size = the number of bytes processed per second)\n         * and the number of chunks we want to cut each second of audio into.\n         * frame rate * frame size = 1 second worth of bytes\n         * if we divide each second worth of data into chunksPerSecond chunks, that gives us:\n         * 1 chunk in bytes = 1 second in bytes / chunksPerSecond\n         * 1 chunk in bytes = frame rate * frame size / chunksPerSecond\n         */\n        \n        //float oneSecondByteLength = audioFormat.getChannels() * audioFormat.getSampleRate() * (audioFormat.getSampleSizeInBits() / BITS_PER_BYTE);\n        //int preferredChunkSize = (int)(oneSecondByteLength / PREFERRED_CHUNKS_PER_SECOND);\n        //int actualChunkSize = getPreviousPowerOfTwo(preferredChunkSize);\n        int chunkCount = bytes.length / debugActualChunkSize;\n        \n        FastFourierTransformer fastFourierTransformer = new FastFourierTransformer(DftNormalization.STANDARD);\n        \n        FftChunk[] fftResults = new FftChunk[chunkCount];\n        \n        //set up each chunk individually for FFT processing\n        for (int timeIndex = 0; timeIndex &lt; chunkCount; timeIndex++) {\n            //to map the input into the frequency domain, we need complex numbers (we only use the normal half of the Complex, but we need to provide &amp; receive the entire Complex value)\n            Complex[] currentChunkComplexRepresentation = new Complex[debugActualChunkSize];\n            \n            for (int currentChunkIndex = 0; currentChunkIndex &lt; debugActualChunkSize; currentChunkIndex++) {\n                //get the next byte in the current audio chunk\n                int currentChunkCurrentByteIndex = (timeIndex * debugActualChunkSize) + currentChunkIndex;\n                byte currentChunkCurrentByte = bytes[currentChunkCurrentByteIndex];\n                \n                //put the time domain data into a complex number with imaginary part as 0\n                currentChunkComplexRepresentation[currentChunkIndex] = new Complex(currentChunkCurrentByte, 0);\n            }\n            \n            //perform FFT analysis on the chunk\n            Complex[] currentChunkFftResults = fastFourierTransformer.transform(currentChunkComplexRepresentation, TransformType.FORWARD);\n            \n            FftChunk fftResult = new FftChunk(currentChunkFftResults);\n            fftResults[timeIndex] = fftResult;\n        }\n        \n        return fftResults;\n    }\n}\n</code></pre>\n<pre><code>//FftChunk.java\n\nimport org.apache.commons.math3.complex.Complex;\n\nimport lombok.Data;\nimport lombok.RequiredArgsConstructor;\n\n@Data\n@RequiredArgsConstructor\npublic class FftChunk {\n    private final Complex[] fftResults;\n}\n</code></pre>\n<pre><code>//SpectrumAnalyzer.java\n\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.image.BufferedImage;\n\nimport javax.swing.JComponent;\nimport javax.swing.JFrame;\nimport javax.swing.JScrollPane;\nimport javax.swing.ScrollPaneConstants;\nimport javax.swing.WindowConstants;\n\nimport org.apache.commons.math3.complex.Complex;\n\npublic class SpectrumAnalyzer {\n    private JFrame frame;\n    private SpectrumAnalyzerComponent spectrumAnalyzerComponent;\n    \n    public void debugFftSpectrum(FftChunk[] spectrum) {\n        Dimension windowSize = new Dimension(1000, 600);\n        \n        spectrumAnalyzerComponent = new SpectrumAnalyzerComponent();\n        \n        JScrollPane scrollPanel = new JScrollPane(spectrumAnalyzerComponent);\n        scrollPanel.setHorizontalScrollBarPolicy(ScrollPaneConstants.HORIZONTAL_SCROLLBAR_ALWAYS);\n        scrollPanel.setPreferredSize(windowSize);\n        \n        frame = new JFrame();\n        frame.add(scrollPanel);\n        frame.setSize(windowSize);\n        frame.setVisible(true);\n        frame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\n        \n        spectrumAnalyzerComponent.analyze(spectrum);\n    }\n}\n\n@SuppressWarnings(&quot;serial&quot;)\nclass SpectrumAnalyzerComponent extends JComponent {\n    private FftChunk[] spectrum;\n    private boolean useLogScale = true;\n    private int blockSizeX = 1;\n    private int blockSizeY = 1;\n    private BufferedImage cachedImage;\n    \n    public void analyze(FftChunk[] spectrum) {\n        this.spectrum = spectrum;\n        \n        if (spectrum == null) {\n            cachedImage = null;\n        }\n        else {\n            int newWidth = (spectrum.length * blockSizeX) + blockSizeX;\n            \n            int newHeight = 0;\n            \n            for (FftChunk audioChunk : spectrum) {\n                Complex[] chunkFftResults = audioChunk.getFftResults();\n                \n                int chunkHeight = calculatePixelHeight(chunkFftResults);\n                \n                if (chunkHeight &gt; newHeight) {\n                    newHeight = chunkHeight;\n                }\n            }\n            \n            Dimension newSize = new Dimension(newWidth, newHeight);\n            this.setPreferredSize(newSize);\n            this.setSize(newSize);\n            this.revalidate();\n            \n            cachedImage = new BufferedImage(newWidth, newHeight, BufferedImage.TYPE_INT_RGB);\n            drawSpectrum(cachedImage.createGraphics());\n        }\n        \n        this.repaint(); //force an immediate redraw\n    }\n    \n    @Override\n    public void paint(Graphics graphics) {\n        if (cachedImage != null) {\n            graphics.drawImage(cachedImage, 0, 0, null);\n        }\n    }\n    \n    //based on the spectrum analyzer from https://www.royvanrijn.com/blog/2010/06/creating-shazam-in-java/\n    private void drawSpectrum(Graphics2D graphics) {\n        if (this.spectrum == null) {\n            return;\n        }\n\n        int windowHeight = this.getSize().height;\n\n        for (int timeIndex = 0; timeIndex &lt; spectrum.length; timeIndex++) {\n            System.out.println(String.format(&quot;Drawing time chunk %d/%d&quot;, timeIndex + 1, spectrum.length));\n            \n            FftChunk currentChunk = spectrum[timeIndex];\n            Complex[] currentChunkFftResults = currentChunk.getFftResults();\n            \n            int fftIndex = 0;\n            int yIndex = 1;\n            \n            /* each chunk contains N elements, where N is the size of the FFT window. The first N/2 elements are positive and the last N/2 elements are negative, but they're otherwise mirrors\n             * of each other. We only want the positive half.\n             * Additionally, because we're working with audio samples, our FFT is a &quot;real&quot; FFT (FFT on real numbers -\n             * https://stackoverflow.com/questions/8887896/why-does-my-kiss-fft-plot-show-duplicate-peaks-mirrored-on-the-y-axis/10744384#10744384 ), which produces a mirror of its own inside\n             * the positive elements. We need to further divide the positive elements in half. This leaves us with the first N/4 elements after all is said and done.\n             */\n            while (fftIndex &lt; currentChunkFftResults.length / 4) {\n                Complex currentChunkFftResult = currentChunkFftResults[fftIndex];\n                \n                // To get the magnitude of the sound at a given frequency slice\n                // get the abs() from the complex number.\n                // In this case I use Math.log to get a more managable number (used for color)\n                double magnitude = Math.log10(currentChunkFftResult.abs() + 1);\n                \n                // The more blue in the color the more intensity for a given frequency point:\n                /*int red = 0;\n                int green = (int) magnitude * 10;\n                int blue = (int) magnitude * 20;\n                graphics.setColor(new Color(red, green, blue));*/\n                \n                float hue = (float)(magnitude / 255 * 100);\n                int colorValue = Color.HSBtoRGB(hue, 100, 50);\n                graphics.setColor(new Color(colorValue));\n                \n                // Fill:\n                graphics.fillRect(timeIndex * blockSizeX, (windowHeight - yIndex) * blockSizeY, blockSizeX, blockSizeY);\n\n                // I used an improvised logarithmic scale and normal scale:\n                int normalScaleFrequencyDelta = 1;\n                int logScaleFrequencyDelta = (int)(Math.log10(yIndex) * Math.log10(yIndex));\n                \n                if (logScaleFrequencyDelta &lt; 1) {\n                    logScaleFrequencyDelta = 1;\n                }\n                \n                if (useLogScale) {\n                    fftIndex = fftIndex + logScaleFrequencyDelta;\n                }\n                else {\n                    fftIndex = fftIndex + normalScaleFrequencyDelta;\n                }\n                \n                yIndex = yIndex + 1;\n            }\n        }\n    }\n    \n    private int calculatePixelHeight(Complex[] fftResults) {\n        int fftIndex = 1;\n        int tempPixelCount = 1;\n        int pixelCount = 1;\n        \n        while (fftIndex &lt; fftResults.length / 4) {\n            pixelCount = tempPixelCount;\n            int normalScaleFrequencyDelta = 1;\n            int logScaleFrequencyDelta = (int)(Math.log10(tempPixelCount) * Math.log10(tempPixelCount));\n            \n            if (logScaleFrequencyDelta &lt; 1) {\n                logScaleFrequencyDelta = 1;\n            }\n            \n            if (useLogScale) {\n                fftIndex = fftIndex + logScaleFrequencyDelta;\n            }\n            else {\n                fftIndex = fftIndex + normalScaleFrequencyDelta;\n            }\n            \n            tempPixelCount = tempPixelCount + 1;\n        }\n        \n        return pixelCount;\n    }\n}\n</code></pre>\n<pre><code>//build.gradle\n\nplugins {\n    //Java application plugin\n    id 'application'\n    \n    //Project Lombok plugin\n    id 'io.freefair.lombok' version '6.5.0.2'\n}\n\nrepositories {\n    // Use Maven Central for resolving dependencies.\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'com.tagtraum:ffsampledsp-complete:0.9.46'\n    implementation 'org.apache.commons:commons-math3:3.6.1'\n}\n</code></pre>\n"},{"tags":["java","junit"],"comments":[{"owner":{"account_id":537054,"reputation":32561,"user_id":905762,"accept_rate":77,"display_name":"John B"},"score":0,"creation_date":1412689385,"post_id":26234742,"comment_id":41153778,"body_markdown":"Per your edit. You are correct. Seems like these are not &quot;unit&quot; test but tests of a &quot;library&quot; (given that you have no control of the code nor will the tests be updated if the code is changed). In testing a library you should only test the contract. The fact that this &quot;library&quot; maintains state in a static field suggests this is not a well designed &quot;library&quot;.","body":"Per your edit. You are correct. Seems like these are not &quot;unit&quot; test but tests of a &quot;library&quot; (given that you have no control of the code nor will the tests be updated if the code is changed). In testing a library you should only test the contract. The fact that this &quot;library&quot; maintains state in a static field suggests this is not a well designed &quot;library&quot;."}],"answers":[{"tags":[],"owner":{"account_id":2430682,"reputation":2374,"user_id":3697695,"accept_rate":100,"display_name":"Joel"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1412682683,"creation_date":1412681094,"answer_id":26234886,"question_id":26234742,"body_markdown":"You should explicitly initialize any static state within your test classes, usually this is done in methods annotated `@Before` or `@BeforeClass`\r\n\r\nThis is a reason, among others, why having a lot of static dependencies in an application is a bad idea for testing. That&#39;s why many people encourage stateless programming.","title":"Resetting static fields for JUnit tests","body":"<p>You should explicitly initialize any static state within your test classes, usually this is done in methods annotated <code>@Before</code> or <code>@BeforeClass</code></p>\n\n<p>This is a reason, among others, why having a lot of static dependencies in an application is a bad idea for testing. That's why many people encourage stateless programming.</p>\n"},{"tags":[],"owner":{"account_id":1405259,"reputation":3061,"user_id":1333157,"accept_rate":92,"display_name":"ZeroOne"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1412689253,"creation_date":1412681346,"answer_id":26234973,"question_id":26234742,"body_markdown":"In general if you find your code to be untestable, like is the question here, it&#39;s a sign of a code smell, and you should seriously consider refactoring your code to not to use those static fields.\r\n\r\nHaving said that, you might find the [BeanInject library](https://github.com/lkoskela/beaninject) helpful. You could put an `@After` annotated method into your test class and have it reset the static fields using the injection:\r\n\r\n    Inject.field(&quot;thatStaticField&quot;).of(thatObjectWithStaticFields).with(&quot;default value&quot;);\r\n\r\nThat way you only need to know the field names but you don&#39;t have to be able to actually modify the class with the fields. The library does that using reflection.\r\n\r\nAdditionally, it came to my mind that if you are testing something that contains parts that you cannot control, why don&#39;t you try to mock those parts with, say, Mockito?\r\n\r\n**EDIT/ADD:** OK, so your issue is that you don&#39;t even know the initial values of the possible static variables the classes may or may not have. I see two possible approaches: 1) You&#39;d have to either save their values when the class is loaded for the first time and reset the values between each test, or 2) you have to get an entirely new instance of the class from the class loader. \r\n\r\nOn point 1), you&#39;d need to use reflection to loop through all the fields in your @BeforeClass method, save their initial values into some `Map&lt;String,Object&gt;` structure, and then reset the values in your @Before or @After method. Here&#39;s some topic on looping through the fields of a class using reflection: https://stackoverflow.com/questions/17095628/loop-over-all-fields-in-a-java-class \r\n\r\nRegarding point 2), you have the instructions for that (involving class loaders) here: https://stackoverflow.com/questions/4631565/java-how-to-restart-a-static-class \r\n\r\nIt&#39;s pretty cool what you can do with reflection and that stuff. :)","title":"Resetting static fields for JUnit tests","body":"<p>In general if you find your code to be untestable, like is the question here, it's a sign of a code smell, and you should seriously consider refactoring your code to not to use those static fields.</p>\n\n<p>Having said that, you might find the <a href=\"https://github.com/lkoskela/beaninject\" rel=\"noreferrer\">BeanInject library</a> helpful. You could put an <code>@After</code> annotated method into your test class and have it reset the static fields using the injection:</p>\n\n<pre><code>Inject.field(\"thatStaticField\").of(thatObjectWithStaticFields).with(\"default value\");\n</code></pre>\n\n<p>That way you only need to know the field names but you don't have to be able to actually modify the class with the fields. The library does that using reflection.</p>\n\n<p>Additionally, it came to my mind that if you are testing something that contains parts that you cannot control, why don't you try to mock those parts with, say, Mockito?</p>\n\n<p><strong>EDIT/ADD:</strong> OK, so your issue is that you don't even know the initial values of the possible static variables the classes may or may not have. I see two possible approaches: 1) You'd have to either save their values when the class is loaded for the first time and reset the values between each test, or 2) you have to get an entirely new instance of the class from the class loader. </p>\n\n<p>On point 1), you'd need to use reflection to loop through all the fields in your @BeforeClass method, save their initial values into some <code>Map&lt;String,Object&gt;</code> structure, and then reset the values in your @Before or @After method. Here's some topic on looping through the fields of a class using reflection: <a href=\"https://stackoverflow.com/questions/17095628/loop-over-all-fields-in-a-java-class\">Loop over all fields in a Java class</a> </p>\n\n<p>Regarding point 2), you have the instructions for that (involving class loaders) here: <a href=\"https://stackoverflow.com/questions/4631565/java-how-to-restart-a-static-class\">Java: how to &quot;restart&quot; a static class?</a> </p>\n\n<p>It's pretty cool what you can do with reflection and that stuff. :)</p>\n"},{"tags":[],"owner":{"account_id":537054,"reputation":32561,"user_id":905762,"accept_rate":77,"display_name":"John B"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1412682529,"creation_date":1412682201,"answer_id":26235213,"question_id":26234742,"body_markdown":"Take a look at this post: [Set Private Static Field][1].\r\nUnlike BeanInject or [ReflectionTestUtils][2] (which I use a lot), this mechanism does not require a instance of the class. Since this is a static field I wasn&#39;t sure if you had an instance. If you do, use one of the two above.\r\n\r\nCopied from post:\r\n\r\n     public static void main(String[] args) throws Exception\r\n    {\r\n        Field field = MyClass.class.getDeclaredField(&quot;woot&quot;);\r\n        field.setAccessible(true);\r\n        field.set(null, &quot;New value&quot;);\r\n    }\r\n\r\nI was surprised to see that `ReflectionTestUtils` required an instance. Seems like it should be able to handle this case. Too bad.\r\n\r\nAs others have stated, do this in the `@Before` method to ensure state BEFORE your test begins. Doing so in the `@After` is error prone as it assumes that you other test might affect the state of the static field.\r\n\r\n  [1]: https://stackoverflow.com/questions/3239039/set-value-of-private-static-field\r\n  [2]: http://docs.spring.io/spring-framework/docs/2.5.6/api/org/springframework/test/util/ReflectionTestUtils.html","title":"Resetting static fields for JUnit tests","body":"<p>Take a look at this post: <a href=\"https://stackoverflow.com/questions/3239039/set-value-of-private-static-field\">Set Private Static Field</a>.\nUnlike BeanInject or <a href=\"http://docs.spring.io/spring-framework/docs/2.5.6/api/org/springframework/test/util/ReflectionTestUtils.html\" rel=\"noreferrer\">ReflectionTestUtils</a> (which I use a lot), this mechanism does not require a instance of the class. Since this is a static field I wasn't sure if you had an instance. If you do, use one of the two above.</p>\n\n<p>Copied from post:</p>\n\n<pre><code> public static void main(String[] args) throws Exception\n{\n    Field field = MyClass.class.getDeclaredField(\"woot\");\n    field.setAccessible(true);\n    field.set(null, \"New value\");\n}\n</code></pre>\n\n<p>I was surprised to see that <code>ReflectionTestUtils</code> required an instance. Seems like it should be able to handle this case. Too bad.</p>\n\n<p>As others have stated, do this in the <code>@Before</code> method to ensure state BEFORE your test begins. Doing so in the <code>@After</code> is error prone as it assumes that you other test might affect the state of the static field.</p>\n"},{"tags":[],"owner":{"account_id":26175342,"reputation":1,"user_id":19859597,"display_name":"Zidan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661622630,"creation_date":1661622630,"answer_id":73513228,"question_id":26234742,"body_markdown":"I know this is an old question, but i had a similar problem that i solved using &quot;org.mockito.Mockito.clearAllCaches&quot; in method annoted with @AfterAll\r\n\r\nnote: I am using junit 5.\r\n\r\nExample:\r\n\r\n    // here the static field are beeing mocked\r\n    @BeforeAll\r\n    static void setUp() {\r\n        mockStatic(Static variable);\r\n    }\r\n\r\n    // here all mocks are beeing excluded, including the static one\r\n    @AfterAll\r\n    static void reset() {\r\n    \tclearAllCaches();\r\n    }","title":"Resetting static fields for JUnit tests","body":"<p>I know this is an old question, but i had a similar problem that i solved using &quot;org.mockito.Mockito.clearAllCaches&quot; in method annoted with @AfterAll</p>\n<p>note: I am using junit 5.</p>\n<p>Example:</p>\n<pre><code>// here the static field are beeing mocked\n@BeforeAll\nstatic void setUp() {\n    mockStatic(Static variable);\n}\n\n// here all mocks are beeing excluded, including the static one\n@AfterAll\nstatic void reset() {\n    clearAllCaches();\n}\n</code></pre>\n"}],"owner":{"account_id":1068638,"reputation":3078,"user_id":1068470,"accept_rate":82,"display_name":"ThePerson"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44075,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":26234973,"answer_count":4,"score":18,"last_activity_date":1661622630,"creation_date":1412680566,"question_id":26234742,"body_markdown":"I have a set of JUnit tests which call the main method on a Java program, passes in args and checks the output. That&#39;s fine.\r\n\r\nHowever, if the program I am testing has static values which are altered, they will remain the same between tests. This causes a problem. I have no control over exactly what the program is that is being tested, or the names used for static fields.\r\n\r\nHow can I ensure that my Unit tests run cleanly, as if it is starting the program from scratch, without keeping those static fields. Is there a way to reset them in some way?\r\n\r\nIf not, I will have to fire up a new process which runs the program, then check the output etc, but this seems a little overkill.\r\n\r\nEdit - Please note I have no control over the code which the unit tests are testing - I can&#39;t change their field names, and unfortunately, I also won&#39;t know their field names. I am thinking that makes this not possible, without starting a new process?","title":"Resetting static fields for JUnit tests","body":"<p>I have a set of JUnit tests which call the main method on a Java program, passes in args and checks the output. That's fine.</p>\n\n<p>However, if the program I am testing has static values which are altered, they will remain the same between tests. This causes a problem. I have no control over exactly what the program is that is being tested, or the names used for static fields.</p>\n\n<p>How can I ensure that my Unit tests run cleanly, as if it is starting the program from scratch, without keeping those static fields. Is there a way to reset them in some way?</p>\n\n<p>If not, I will have to fire up a new process which runs the program, then check the output etc, but this seems a little overkill.</p>\n\n<p>Edit - Please note I have no control over the code which the unit tests are testing - I can't change their field names, and unfortunately, I also won't know their field names. I am thinking that makes this not possible, without starting a new process?</p>\n"},{"tags":["java","debugging","intellij-idea"],"comments":[{"owner":{"account_id":116580,"reputation":118703,"user_id":305644,"accept_rate":75,"display_name":"hvgotcodes"},"score":0,"creation_date":1314125206,"post_id":7165956,"comment_id":8599782,"body_markdown":"did you try a clean build?  are you sure you are running with a debug task?  is this a standalone java program or something running in a container?","body":"did you try a clean build?  are you sure you are running with a debug task?  is this a standalone java program or something running in a container?"},{"owner":{"account_id":188706,"reputation":12106,"user_id":427598,"accept_rate":65,"display_name":"Konstantin Milyutin"},"score":0,"creation_date":1314126122,"post_id":7165956,"comment_id":8600045,"body_markdown":"Hi, this is standalone java program. I described the process I do as comment to another answer.","body":"Hi, this is standalone java program. I described the process I do as comment to another answer."}],"answers":[{"tags":[],"owner":{"account_id":446547,"reputation":126635,"user_id":839646,"accept_rate":70,"display_name":"Ryan Stewart"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1314125335,"creation_date":1314125335,"answer_id":7166020,"question_id":7165956,"body_markdown":"If you&#39;re talking about debugging something running in Maven with IntelliJ, you can\r\n\r\n 1. Run the maven build through IntelliJ and debug it like anything else, or\r\n 2. Run your build using `mvnDebug` instead of just `mvn`. It will wait for a debugger to connect on port 8000. You can have IntelliJ do this by creating a Run/Debug Configuration of type &quot;Remote&quot; that connects to localhost:8000.","title":"Can&#39;t debug Java program in Intellij IDEA","body":"<p>If you're talking about debugging something running in Maven with IntelliJ, you can</p>\n\n<ol>\n<li>Run the maven build through IntelliJ and debug it like anything else, or</li>\n<li>Run your build using <code>mvnDebug</code> instead of just <code>mvn</code>. It will wait for a debugger to connect on port 8000. You can have IntelliJ do this by creating a Run/Debug Configuration of type \"Remote\" that connects to localhost:8000.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":444156,"reputation":9359,"user_id":835806,"accept_rate":94,"display_name":"thejartender"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1314128372,"creation_date":1314128372,"answer_id":7166593,"question_id":7165956,"body_markdown":"Remember that Maven and IDEA use separate build processes. Ironically I only managed today to get my own app built,deployed and run in browser today using:\r\nMaven 3.0\r\nTomcat 7.0.5 with tomcat-maven-plugin\r\nIDEA IU version 10\r\n\r\nSo ask if you need a hand.\r\n\r\nYucca ","title":"Can&#39;t debug Java program in Intellij IDEA","body":"<p>Remember that Maven and IDEA use separate build processes. Ironically I only managed today to get my own app built,deployed and run in browser today using:\nMaven 3.0\nTomcat 7.0.5 with tomcat-maven-plugin\nIDEA IU version 10</p>\n\n<p>So ask if you need a hand.</p>\n\n<p>Yucca </p>\n"},{"tags":[],"owner":{"account_id":795107,"reputation":1,"user_id":913158,"display_name":"Paul"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1314317976,"creation_date":1314317976,"answer_id":7198717,"question_id":7165956,"body_markdown":"Sounds like the same bug in the Java VM, I just ran into:\r\nhttps://bugs.java.com/bugdatabase/view_bug?bug_id=6862295\r\n\r\nThe stated workaround was to use the -XX:+UseParallelGC on the Java VM.\r\n\r\nIt&#39;s not an IDE problem.","title":"Can&#39;t debug Java program in Intellij IDEA","body":"<p>Sounds like the same bug in the Java VM, I just ran into:\n<a href=\"https://bugs.java.com/bugdatabase/view_bug?bug_id=6862295\" rel=\"nofollow noreferrer\">https://bugs.java.com/bugdatabase/view_bug?bug_id=6862295</a></p>\n<p>The stated workaround was to use the -XX:+UseParallelGC on the Java VM.</p>\n<p>It's not an IDE problem.</p>\n"},{"tags":[],"owner":{"account_id":20110336,"reputation":243,"user_id":14746852,"display_name":"pserimer"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1607543180,"creation_date":1607543180,"answer_id":65223831,"question_id":7165956,"body_markdown":"If you are facing with non-triggered breakpoints, see following:\r\nhttps://intellij-support.jetbrains.com/hc/en-us/community/posts/360003676199-Can-t-debug-any-Java-or-Kotlin-application\r\n\r\nIn my case disabling android plugins solved the problem.","title":"Can&#39;t debug Java program in Intellij IDEA","body":"<p>If you are facing with non-triggered breakpoints, see following:\n<a href=\"https://intellij-support.jetbrains.com/hc/en-us/community/posts/360003676199-Can-t-debug-any-Java-or-Kotlin-application\" rel=\"nofollow noreferrer\">https://intellij-support.jetbrains.com/hc/en-us/community/posts/360003676199-Can-t-debug-any-Java-or-Kotlin-application</a></p>\n<p>In my case disabling android plugins solved the problem.</p>\n"},{"tags":[],"owner":{"account_id":6396672,"reputation":51,"user_id":4960792,"display_name":"Antoine Dijoux"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638935825,"creation_date":1638935825,"answer_id":70269757,"question_id":7165956,"body_markdown":"My solution was the following in IntelliJ. Go to:\r\n\r\nSettings -&gt; Build, Execution, Deployment-&gt; Build Tools -&gt; Maven -&gt; Runner\r\n\r\nMake sure to uncheck the box &#39;Delegate IDE build/run actions to Maven&#39;\r\n\r\nAfter that, I could debug and the breakpoints worked properly.","title":"Can&#39;t debug Java program in Intellij IDEA","body":"<p>My solution was the following in IntelliJ. Go to:</p>\n<p>Settings -&gt; Build, Execution, Deployment-&gt; Build Tools -&gt; Maven -&gt; Runner</p>\n<p>Make sure to uncheck the box 'Delegate IDE build/run actions to Maven'</p>\n<p>After that, I could debug and the breakpoints worked properly.</p>\n"},{"tags":[],"owner":{"account_id":26175186,"reputation":11,"user_id":19859470,"display_name":"MetehanBulut"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661621393,"creation_date":1661621393,"answer_id":73513093,"question_id":7165956,"body_markdown":"That solution was worked for me;\r\n\r\n    \r\n\r\n&gt; `File--&gt;Invalidate Caches--&gt;Tick The Clear CheckBoxes --&gt; Restart`\r\n\r\nHave a nice day.\r\n","title":"Can&#39;t debug Java program in Intellij IDEA","body":"<p>That solution was worked for me;</p>\n<blockquote>\n<p><code>File--&gt;Invalidate Caches--&gt;Tick The Clear CheckBoxes --&gt; Restart</code></p>\n</blockquote>\n<p>Have a nice day.</p>\n"}],"owner":{"account_id":188706,"reputation":12106,"user_id":427598,"accept_rate":65,"display_name":"Konstantin Milyutin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25905,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":7166020,"answer_count":6,"score":6,"last_activity_date":1661621393,"creation_date":1314124924,"question_id":7165956,"body_markdown":"For the first time I encounter problem when I can&#39;t debug Java program in Intellij IDEA. Output to command line works, but breakpoint is ignored..\r\nMay be it&#39;s because I created Maven configuration to start the program.\r\nIt might be that I&#39;m disconnected from JVM, but I have no idea how to connect to.\r\nWhat can be the cause of such behaviour?","title":"Can&#39;t debug Java program in Intellij IDEA","body":"<p>For the first time I encounter problem when I can't debug Java program in Intellij IDEA. Output to command line works, but breakpoint is ignored..\nMay be it's because I created Maven configuration to start the program.\nIt might be that I'm disconnected from JVM, but I have no idea how to connect to.\nWhat can be the cause of such behaviour?</p>\n"},{"tags":["java","jdbc"],"answers":[{"tags":[],"owner":{"account_id":12331407,"reputation":284,"user_id":8997268,"display_name":"Umesh Sulakude"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1661617063,"creation_date":1661616001,"answer_id":73512482,"question_id":73512422,"body_markdown":"count wont give result of null even though  query result is null/nothing. The count will return 0. Trying adding 0 to your if condition, it might work :)\r\n\r\n    String COUNT = &quot;SELECT COUNT(MSV) as count_name FROM project.student where MSV = &#39;&quot;+MSV+&quot;&#39;;&quot;;\r\n    stmt.executeQuery(COUNT);               \r\n    ResultSet resultSet = stmt.executeQuery(COUNT);                         \r\n    if (resultSet.next()) {\r\n        int count= rs.getInt(&quot;count_name&quot;);\r\n    if (count &gt; 0)  {                    \r\n                    System.out.println(&quot;true&quot;);\r\n                 } else {                   \r\n                    System.out.println(&quot;false&quot;);\r\n                 }\r\n           }","title":"Put a MySQL query into an if Statement in Java","body":"<p>count wont give result of null even though  query result is null/nothing. The count will return 0. Trying adding 0 to your if condition, it might work :)</p>\n<pre><code>String COUNT = &quot;SELECT COUNT(MSV) as count_name FROM project.student where MSV = '&quot;+MSV+&quot;';&quot;;\nstmt.executeQuery(COUNT);               \nResultSet resultSet = stmt.executeQuery(COUNT);                         \nif (resultSet.next()) {\n    int count= rs.getInt(&quot;count_name&quot;);\nif (count &gt; 0)  {                    \n                System.out.println(&quot;true&quot;);\n             } else {                   \n                System.out.println(&quot;false&quot;);\n             }\n       }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661621370,"creation_date":1661616563,"answer_id":73512536,"question_id":73512422,"body_markdown":"&gt;```\r\n&gt; ResultSet resultSet = stmt.executeQuery(COUNT);                             \r\n&gt;            if (stmt.executeQuery(COUNT) != null)  {       \r\n&gt;```\r\n\r\nThis runs the `executeQuery` method, which returns a `resultSet`. You store this resultset in a local variable named `resultSet` __and then proceed to do nothing with it__. That first line (`ResultSet resultSet = stmt.executeQuery(COUNT);`) doesn&#39;t do anything useful - worse, it creates a resource that you don&#39;t close.\r\n\r\nYou then run the `executeQuery` method a second time, and check if it returns `null`. It never will. It always returns a resultset.\r\n\r\nThe resultset is a &#39;cursor&#39; - a tool that you can use to traverse the excelsheet. Because __all queries on a database always return a result set__ - a thing with rows and columns (or, if you prefer SQL style thinking, a query itself returns a table: A thing with rows and columns).\r\n\r\nThis is a peculiar excel sheet - it has just one column (namely: `COUNT(MSV)`) and given that you&#39;re aggregating over the entire result, it has just the one row. You may therefore think: Nono, this query doesn&#39;t return an excel sheet, it returns a single result.\r\n\r\n__No, it doesn&#39;t__ - the way the `ResultSet` API works is that you always get a result set. Perhaps with just one cell filled in (one column, one row), but always &#39;an excel sheet&#39;.\r\n\r\nTherefore, you must [A] forward this &#39;cursor&#39; to the next (first) row, given that they always start _before_ the first row, and then [B] invoke the right get method to obtain the contents of the cell, and then [C] presumably, check if that value is `0` or not.\r\n\r\nThus, instead of the above quoted snippet, you want instead:\r\n\r\n```\r\nint value;\r\ntry (var resultSet = stmt.executeQuery(COUNT)) {\r\n  if (!resultSet.next()) {\r\n    value = 0; // no row somehow\r\n  } else {\r\n    value = resultSet.getInt(1); // get first (and only) column value\r\n  }\r\n}\r\n\r\nif (value != 0) {\r\n```\r\n\r\nYeah that looks a bit unwieldy. JDBC isn&#39;t meant to be nice to use. It&#39;s a low level API. You don&#39;t program in assembler either. Consider using an abstraction built on top of JDBC that makes it nice to use, such as JDBI or JOOQ.\r\n","title":"Put a MySQL query into an if Statement in Java","body":"<blockquote>\n<pre><code>ResultSet resultSet = stmt.executeQuery(COUNT);                             \n           if (stmt.executeQuery(COUNT) != null)  {       \n</code></pre>\n</blockquote>\n<p>This runs the <code>executeQuery</code> method, which returns a <code>resultSet</code>. You store this resultset in a local variable named <code>resultSet</code> <strong>and then proceed to do nothing with it</strong>. That first line (<code>ResultSet resultSet = stmt.executeQuery(COUNT);</code>) doesn't do anything useful - worse, it creates a resource that you don't close.</p>\n<p>You then run the <code>executeQuery</code> method a second time, and check if it returns <code>null</code>. It never will. It always returns a resultset.</p>\n<p>The resultset is a 'cursor' - a tool that you can use to traverse the excelsheet. Because <strong>all queries on a database always return a result set</strong> - a thing with rows and columns (or, if you prefer SQL style thinking, a query itself returns a table: A thing with rows and columns).</p>\n<p>This is a peculiar excel sheet - it has just one column (namely: <code>COUNT(MSV)</code>) and given that you're aggregating over the entire result, it has just the one row. You may therefore think: Nono, this query doesn't return an excel sheet, it returns a single result.</p>\n<p><strong>No, it doesn't</strong> - the way the <code>ResultSet</code> API works is that you always get a result set. Perhaps with just one cell filled in (one column, one row), but always 'an excel sheet'.</p>\n<p>Therefore, you must [A] forward this 'cursor' to the next (first) row, given that they always start <em>before</em> the first row, and then [B] invoke the right get method to obtain the contents of the cell, and then [C] presumably, check if that value is <code>0</code> or not.</p>\n<p>Thus, instead of the above quoted snippet, you want instead:</p>\n<pre><code>int value;\ntry (var resultSet = stmt.executeQuery(COUNT)) {\n  if (!resultSet.next()) {\n    value = 0; // no row somehow\n  } else {\n    value = resultSet.getInt(1); // get first (and only) column value\n  }\n}\n\nif (value != 0) {\n</code></pre>\n<p>Yeah that looks a bit unwieldy. JDBC isn't meant to be nice to use. It's a low level API. You don't program in assembler either. Consider using an abstraction built on top of JDBC that makes it nice to use, such as JDBI or JOOQ.</p>\n"}],"owner":{"account_id":25583159,"reputation":3,"user_id":19361329,"display_name":"Ho Be"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":203,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73512536,"answer_count":2,"score":0,"last_activity_date":1661621370,"creation_date":1661615465,"question_id":73512422,"body_markdown":"I&#39;m having the below issue. I already have the database in MySQL and now I want to let the user choose the data, if it exists. The program runs to the &quot;true&quot; case and the &quot;false&quot; case for the rest. I put a MySQL query into an if Statement in Java, but it causes a problem when I put it in. No matter what I choose the data, it always returns to &quot;true&quot; and does not run into the &quot;false&quot; case. When I try to use .isNullOrEmpty it always returns to &quot;false&quot;. Any other solution in this situation?\r\n\r\nHere is my code\r\n\r\n```java\r\ntry {\r\n\tConnection conn = null;\r\n\tconn = DriverManager.getConnection(DB_URL, USER_NAME, PASSWORD);\r\n\tStatement stmt = null;\r\n\tstmt = conn.createStatement();\r\n    String MSV = scanner.nextLine().toUpperCase();\r\n\tString COUNT = &quot;SELECT COUNT(MSV) FROM project.student where MSV = &#39;&quot;+MSV+&quot;&#39;;&quot;;\r\n\tstmt.executeQuery(COUNT);\t\t\t\t\r\n\tResultSet resultSet = stmt.executeQuery(COUNT);\t\t\t\t\t\t\t\t\r\n\tif (stmt.executeQuery(COUNT) != null)  {\t\t\t\t\t\r\n        System.out.println(&quot;true&quot;);\r\n     } else {\t\t\t\t\t\r\n\t\tSystem.out.println(&quot;false&quot;);\r\n\t } conn.close();\t\t\t\t\r\n} catch (SQLException e) {\r\n\te.printStackTrace();\r\n}\r\n```\r\n","title":"Put a MySQL query into an if Statement in Java","body":"<p>I'm having the below issue. I already have the database in MySQL and now I want to let the user choose the data, if it exists. The program runs to the &quot;true&quot; case and the &quot;false&quot; case for the rest. I put a MySQL query into an if Statement in Java, but it causes a problem when I put it in. No matter what I choose the data, it always returns to &quot;true&quot; and does not run into the &quot;false&quot; case. When I try to use .isNullOrEmpty it always returns to &quot;false&quot;. Any other solution in this situation?</p>\n<p>Here is my code</p>\n<pre class=\"lang-java prettyprint-override\"><code>try {\n    Connection conn = null;\n    conn = DriverManager.getConnection(DB_URL, USER_NAME, PASSWORD);\n    Statement stmt = null;\n    stmt = conn.createStatement();\n    String MSV = scanner.nextLine().toUpperCase();\n    String COUNT = &quot;SELECT COUNT(MSV) FROM project.student where MSV = '&quot;+MSV+&quot;';&quot;;\n    stmt.executeQuery(COUNT);               \n    ResultSet resultSet = stmt.executeQuery(COUNT);                             \n    if (stmt.executeQuery(COUNT) != null)  {                    \n        System.out.println(&quot;true&quot;);\n     } else {                   \n        System.out.println(&quot;false&quot;);\n     } conn.close();                \n} catch (SQLException e) {\n    e.printStackTrace();\n}\n</code></pre>\n"},{"tags":["java","lwjgl"],"comments":[{"owner":{"account_id":3043323,"reputation":21366,"user_id":2579738,"display_name":"BDL"},"score":0,"creation_date":1661551586,"post_id":73506804,"comment_id":129807567,"body_markdown":"Which window flags did you set? Please show the exact code you are executing.","body":"Which window flags did you set? Please show the exact code you are executing."},{"owner":{"account_id":21720493,"reputation":738,"user_id":16030830,"display_name":"ethry"},"score":2,"creation_date":1661663434,"post_id":73506804,"comment_id":129822877,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":24861487,"reputation":39,"user_id":18737201,"display_name":"Nazar Shukhardin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1661552370,"creation_date":1661552370,"answer_id":73506959,"question_id":73506804,"body_markdown":"The problems was with one line:\r\n```GLFW.glfwWindowHint(GLFW.GLFW_OPENGL_PROFILE, GLFW.GLFW_OPENGL_PROFILE);```\r\nThanks BDL for insipiring me to test flags!","title":"GLFW_INVALID_ENUM error, while creating display in lwjgl","body":"<p>The problems was with one line:\n<code>GLFW.glfwWindowHint(GLFW.GLFW_OPENGL_PROFILE, GLFW.GLFW_OPENGL_PROFILE);</code>\nThanks BDL for insipiring me to test flags!</p>\n"}],"owner":{"account_id":24861487,"reputation":39,"user_id":18737201,"display_name":"Nazar Shukhardin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73506959,"answer_count":1,"score":1,"last_activity_date":1661621121,"creation_date":1661550699,"question_id":73506804,"body_markdown":"I am trying to make a game in java. I am following this tutorial: https://youtu.be/a4Xwp2ln-N0. When you launch app, window must appear with nothing in it, but when i try to launch it, this error shows up: \r\n```\r\n[LWJGL] GLFW_INVALID_ENUM error\r\n\tDescription : Invalid OpenGL profile 0x00022008\r\n\tStacktrace  :\r\n\t\torg.lwjgl.glfw.GLFW.nglfwCreateWindow(GLFW.java:1714)\r\n\t\torg.lwjgl.glfw.GLFW.glfwCreateWindow(GLFW.java:1897)\r\n\t\tcore.WindowManager.init(WindowManager.java:61)\r\n\t\tLaunching.Launcher.main(Launcher.java:12)\r\n```\r\nHere is line 61 in WindowManager: ```window =  GLFW.glfwCreateWindow(width,height,title, MemoryUtil.NULL,MemoryUtil.NULL);``` and line 12 in launcher: ```window.init();``` Thanks!","title":"GLFW_INVALID_ENUM error, while creating display in lwjgl","body":"<p>I am trying to make a game in java. I am following this tutorial: <a href=\"https://youtu.be/a4Xwp2ln-N0\" rel=\"nofollow noreferrer\">https://youtu.be/a4Xwp2ln-N0</a>. When you launch app, window must appear with nothing in it, but when i try to launch it, this error shows up:</p>\n<pre><code>[LWJGL] GLFW_INVALID_ENUM error\n    Description : Invalid OpenGL profile 0x00022008\n    Stacktrace  :\n        org.lwjgl.glfw.GLFW.nglfwCreateWindow(GLFW.java:1714)\n        org.lwjgl.glfw.GLFW.glfwCreateWindow(GLFW.java:1897)\n        core.WindowManager.init(WindowManager.java:61)\n        Launching.Launcher.main(Launcher.java:12)\n</code></pre>\n<p>Here is line 61 in WindowManager: <code>window =  GLFW.glfwCreateWindow(width,height,title, MemoryUtil.NULL,MemoryUtil.NULL);</code> and line 12 in launcher: <code>window.init();</code> Thanks!</p>\n"},{"tags":["java","encoding","utf-8","character-encoding","windows-1252"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1400667074,"post_id":23779497,"comment_id":36570913,"body_markdown":"Side comment: using `Files.newBufferedReader` and `Files.newBufferedWriter` would make your code a lot simpler :)","body":"Side comment: using <code>Files.newBufferedReader</code> and <code>Files.newBufferedWriter</code> would make your code a lot simpler :)"}],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1400665609,"creation_date":1400665609,"answer_id":23779588,"question_id":23779497,"body_markdown":"&gt; I have a Windows-1252 word document\r\n\r\nThat&#39;s not a text file. Word documents are basically binary data - open it up with a plain text editor and you&#39;ll see all kinds of gibberish. You may see some text in there as well, but basically it&#39;s *not* a plain text file, which is how you&#39;re trying to read it.\r\n\r\nIt&#39;s not even clear to me what a &quot;Windows-1252 word document&quot; means... Word will use whatever encoding it wants internally, and I&#39;m not sure there&#39;s any control over that. I would *expect* any decent &quot;doc to PDF&quot; converter to handle any valid Word document.\r\n\r\n&gt; When I create a new BufferedReader (with UTF-8 encoding) and I read temp, the characters are shown correctly in the console of my IDE.\r\n\r\nIf that&#39;s the case, that suggests it *is* a plain text file to start with, not a Word document. You need to be *very* clear in your own mind exactly what you&#39;ve got - a Word document, or a plain text file. They&#39;re not the same thing, and shouldn&#39;t be treated the same way.","title":"Converted word document (from Windows-1252 to UTF-8) not displaying characters correctly","body":"<blockquote>\n  <p>I have a Windows-1252 word document</p>\n</blockquote>\n\n<p>That's not a text file. Word documents are basically binary data - open it up with a plain text editor and you'll see all kinds of gibberish. You may see some text in there as well, but basically it's <em>not</em> a plain text file, which is how you're trying to read it.</p>\n\n<p>It's not even clear to me what a \"Windows-1252 word document\" means... Word will use whatever encoding it wants internally, and I'm not sure there's any control over that. I would <em>expect</em> any decent \"doc to PDF\" converter to handle any valid Word document.</p>\n\n<blockquote>\n  <p>When I create a new BufferedReader (with UTF-8 encoding) and I read temp, the characters are shown correctly in the console of my IDE.</p>\n</blockquote>\n\n<p>If that's the case, that suggests it <em>is</em> a plain text file to start with, not a Word document. You need to be <em>very</em> clear in your own mind exactly what you've got - a Word document, or a plain text file. They're not the same thing, and shouldn't be treated the same way.</p>\n"}],"owner":{"account_id":2488322,"reputation":931,"user_id":2166336,"display_name":"bortdc"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1093,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661620831,"creation_date":1400665370,"question_id":23779497,"body_markdown":"I have a Windows-1252 word document that I want to convert to UTF-8. I need to do this to correctly convert the doc file to a pdf.\r\nThis is how I currently do it:\r\n\r\n     Path source = Paths.get(&quot;source.doc&quot;);\r\n     Path temp = Paths.get(&quot;temp.doc&quot;);    \r\n     try (BufferedReader sourceReader = new BufferedReader(new InputStreamReader(new FileInputStream(source.toFile()), &quot;windows-1252&quot;));\r\n          BufferedWriter tempWriter = new BufferedWriter(new OutputStreamWriter(new FileOutputStream(temp.toFile()), &quot;UTF-8&quot;))) {\r\n            String line;\r\n            while ((line = sourceReader.readLine()) != null) {\r\n               tempWriter.write(line);\r\n            }\r\n      }\r\n\r\nHowever, when I open the converted file (`temp.doc`) in Word, it doesn&#39;t display some characters correctly. &#220; will become &#195;&#188; for example.\r\n\r\nHow can I solve this? When I create a new BufferedReader (with UTF-8 encoding) and I read `temp`, the characters are shown correctly in the console of my IDE.","title":"Converted word document (from Windows-1252 to UTF-8) not displaying characters correctly","body":"<p>I have a Windows-1252 word document that I want to convert to UTF-8. I need to do this to correctly convert the doc file to a pdf.\nThis is how I currently do it:</p>\n\n<pre><code> Path source = Paths.get(\"source.doc\");\n Path temp = Paths.get(\"temp.doc\");    \n try (BufferedReader sourceReader = new BufferedReader(new InputStreamReader(new FileInputStream(source.toFile()), \"windows-1252\"));\n      BufferedWriter tempWriter = new BufferedWriter(new OutputStreamWriter(new FileOutputStream(temp.toFile()), \"UTF-8\"))) {\n        String line;\n        while ((line = sourceReader.readLine()) != null) {\n           tempWriter.write(line);\n        }\n  }\n</code></pre>\n\n<p>However, when I open the converted file (<code>temp.doc</code>) in Word, it doesn't display some characters correctly.  will become  for example.</p>\n\n<p>How can I solve this? When I create a new BufferedReader (with UTF-8 encoding) and I read <code>temp</code>, the characters are shown correctly in the console of my IDE.</p>\n"},{"tags":["java","mysql","maven","tomcat","jdbc"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1650431871,"post_id":43291813,"comment_id":127111082,"body_markdown":"The `Class.forName(driver);` line hasn&#39;t been needed since 2006.","body":"The <code>Class.forName(driver);</code> line hasn&#39;t been needed since 2006."}],"answers":[{"tags":[],"owner":{"account_id":10419817,"reputation":1301,"user_id":7682767,"accept_rate":71,"display_name":"strash"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1491640629,"creation_date":1491640629,"answer_id":43291936,"question_id":43291813,"body_markdown":"Just reproduced your bug. Seems like the name of the driver has changed in the new version. When you are downloading maven dependencies better be taking the latest Stable version - so you can have a better and faster support from the communities. `com.mysql.cj.jdbc.Driver&#39;\r\nThat is the error msg I&#39;ve got:\r\n\r\nLoading class `com.mysql.jdbc.Driver&#39;. This is deprecated. The new driver class is `com.mysql.cj.jdbc.Driver&#39;. The driver is automatically registered via the SPI and manual loading of the driver class is generally unnecessary.\r\ncom.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure\r\n","title":"java.lang.ClassNotFoundException: com.mysql.jdbc.Driver even after using the mySql Maven Dependency on Intellij","body":"<p>Just reproduced your bug. Seems like the name of the driver has changed in the new version. When you are downloading maven dependencies better be taking the latest Stable version - so you can have a better and faster support from the communities. `com.mysql.cj.jdbc.Driver'\nThat is the error msg I've got:</p>\n\n<p>Loading class <code>com.mysql.jdbc.Driver'. This is deprecated. The new driver class is</code>com.mysql.cj.jdbc.Driver'. The driver is automatically registered via the SPI and manual loading of the driver class is generally unnecessary.\ncom.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure</p>\n"},{"tags":[],"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1491641090,"creation_date":1491641090,"answer_id":43291998,"question_id":43291813,"body_markdown":"You have to add your `jdbc_connector` to your tomcat server manually, you should to include your jar to this folder `$TOMCAT_HOME/lib`","title":"java.lang.ClassNotFoundException: com.mysql.jdbc.Driver even after using the mySql Maven Dependency on Intellij","body":"<p>You have to add your <code>jdbc_connector</code> to your tomcat server manually, you should to include your jar to this folder <code>$TOMCAT_HOME/lib</code></p>\n"},{"tags":[],"owner":{"account_id":15837945,"reputation":84,"user_id":11427296,"display_name":"Novice"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650431172,"creation_date":1650430577,"answer_id":71934292,"question_id":43291813,"body_markdown":"**Answer for IntelliJ ultimate edition**\r\n\r\nYou can add your ***JDBC connector jar file*** to run configuration:\r\n\r\n[![Tomcat server run configuration][1]][1]\r\n\r\nAdd the ***jar file*** \r\n\r\n[![Adding jar files to application server library][2]][2]\r\n\r\n\r\nOr simply you can add the jar to `$TOMCAT_HOME/lib`\r\n\r\nGenerally, the default path is `C:\\Program Files\\Apache Software Foundation\\Tomcat 9.0\\lib`\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DvxIy.png\r\n  [2]: https://i.stack.imgur.com/zFvmO.png\r\n  [3]: https://i.stack.imgur.com/nhIcR.png\r\n\r\nInvalidate caches and restart\r\n\r\nClick [here on how to invalidate caches]( &lt;https://www.jetbrains.com/help/idea/invalidate-caches.html&gt; &quot;Help by IntelliJ&quot;)\r\n","title":"java.lang.ClassNotFoundException: com.mysql.jdbc.Driver even after using the mySql Maven Dependency on Intellij","body":"<p><strong>Answer for IntelliJ ultimate edition</strong></p>\n<p>You can add your <em><strong>JDBC connector jar file</strong></em> to run configuration:</p>\n<p><a href=\"https://i.stack.imgur.com/DvxIy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DvxIy.png\" alt=\"Tomcat server run configuration\" /></a></p>\n<p>Add the <em><strong>jar file</strong></em></p>\n<p><a href=\"https://i.stack.imgur.com/zFvmO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zFvmO.png\" alt=\"Adding jar files to application server library\" /></a></p>\n<p>Or simply you can add the jar to <code>$TOMCAT_HOME/lib</code></p>\n<p>Generally, the default path is <code>C:\\Program Files\\Apache Software Foundation\\Tomcat 9.0\\lib</code></p>\n<p><a href=\"https://i.stack.imgur.com/nhIcR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nhIcR.png\" alt=\"enter image description here\" /></a></p>\n<p>Invalidate caches and restart</p>\n<p>Click <a href=\"https://www.jetbrains.com/help/idea/invalidate-caches.html\" rel=\"nofollow noreferrer\" title=\"Help by IntelliJ\">here on how to invalidate caches</a></p>\n"}],"owner":{"account_id":6239966,"reputation":171,"user_id":4853910,"accept_rate":100,"display_name":"RangerReturn"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10860,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":43291998,"answer_count":3,"score":2,"last_activity_date":1661620340,"creation_date":1491639697,"question_id":43291813,"body_markdown":"I am using Intellij for a servlet project and using maven\r\n\r\n     &lt;dependency&gt;\r\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n            &lt;version&gt;6.0.6&lt;/version&gt;\r\n     &lt;/dependency&gt;\r\n\r\nas far as i know, this should handle all the classpath related issues when deploying the war on the tomcat webserver.\r\n\r\nbut i m getting\r\n\r\n&gt; 08-Apr-2017 13:40:37.047 INFO [localhost-startStop-1]\r\n&gt; org.apache.catalina.startup.HostConfig.deployDirectory Deploying web\r\n&gt; application directory /Applications/tomcat/webapps/manager 08-Apr-2017\r\n&gt; 13:40:37.092 INFO [localhost-startStop-1]\r\n&gt; org.apache.catalina.startup.HostConfig.deployDirectory Deployment of\r\n&gt; web application directory /Applications/tomcat/webapps/manager has\r\n&gt; finished in 44 ms java.lang.ClassNotFoundException:\r\n&gt; com.mysql.jdbc.Driver \tat\r\n&gt; org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1285)\r\n&gt; \tat\r\n&gt; org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1119)\r\n&gt; \tat java.lang.Class.forName0(Native Method) \tat\r\n&gt; java.lang.Class.forName(Class.java:264) \tat\r\n&gt; com.saurabh.testdb.TestDBServlet.doGet(TestDBServlet.java:34) \tat\r\n&gt; javax.servlet.http.HttpServlet.service(HttpServlet.java:635) \tat\r\n&gt; javax.servlet.http.HttpServlet.service(HttpServlet.java:742) \tat\r\n&gt; org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:230)\r\n&gt; \tat\r\n&gt; org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)\r\n&gt; \tat\r\n&gt; org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\r\n&gt; \tat\r\n&gt; org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)\r\n&gt; \tat\r\n&gt; org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)\r\n&gt; \tat\r\n&gt; org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198)\r\n&gt; \tat\r\n&gt; org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\r\n&gt; \tat\r\n&gt; org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478)\r\n&gt; \tat\r\n&gt; org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)\r\n&gt; \tat\r\n&gt; org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80)\r\n&gt; \tat\r\n&gt; org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:624)\r\n&gt; \tat\r\n&gt; org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)\r\n&gt; \tat\r\n&gt; org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341)\r\n&gt; \tat\r\n&gt; org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:783)\r\n&gt; \tat\r\n&gt; org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\r\n&gt; \tat\r\n&gt; org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:798)\r\n&gt; \tat\r\n&gt; org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1441)\r\n&gt; \tat\r\n&gt; org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n&gt; \tat\r\n&gt; java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n&gt; \tat\r\n&gt; java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n&gt; \tat\r\n&gt; org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n&gt; \tat java.lang.Thread.run(Thread.java:745)\r\n\r\nHere is my code for loading the driver\r\n\r\n    package com.saurabh.testdb;\r\n\r\n    import javax.servlet.ServletException;\r\n    import javax.servlet.annotation.WebServlet;\r\n    import javax.servlet.http.HttpServlet;\r\n    import javax.servlet.http.HttpServletRequest;\r\n    import javax.servlet.http.HttpServletResponse;\r\n    import java.io.IOException;\r\n    import java.io.PrintWriter;\r\n    import java.sql.Connection;\r\n    import java.sql.DriverManager;\r\n\r\n    @WebServlet(&quot;/TestDBServlet&quot;)\r\n    public class TestDBServlet extends HttpServlet {\r\n\r\n\t@Override\r\n\tprotected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {\r\n\r\n\t\t//set up connection variable\r\n\t\tString jdbcUrl = &quot;jdbc:mysql://localhost:3306/web_customer_tracker?useSSL=false&quot;;\r\n\t\tString user = &quot;springstudent&quot;;\r\n\t\tString pass = &quot;sringstudent&quot;;\r\n\t\tString driver = &quot;com.mysql.jdbc.Driver&quot;;\r\n\r\n\t\ttry {\r\n\r\n\t\t\tPrintWriter out = resp.getWriter();\r\n\r\n\t\t\tout.println(&quot;Connecting to database: &quot; + jdbcUrl);\r\n\r\n\t\t\tClass.forName(driver);\r\n\r\n\t\t\tConnection myConn = DriverManager.getConnection(jdbcUrl, user, pass);\r\n\r\n\t\t\tout.println(&quot;Connection successful!!!&quot;);\r\n\r\n\t\t\tmyConn.close();\r\n\r\n\t\t} catch (Exception exc) {\r\n\t\t\texc.printStackTrace();\r\n\t\t}\r\n\t    }\r\n    }\r\n\r\n\r\n","title":"java.lang.ClassNotFoundException: com.mysql.jdbc.Driver even after using the mySql Maven Dependency on Intellij","body":"<p>I am using Intellij for a servlet project and using maven</p>\n\n<pre><code> &lt;dependency&gt;\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;version&gt;6.0.6&lt;/version&gt;\n &lt;/dependency&gt;\n</code></pre>\n\n<p>as far as i know, this should handle all the classpath related issues when deploying the war on the tomcat webserver.</p>\n\n<p>but i m getting</p>\n\n<blockquote>\n  <p>08-Apr-2017 13:40:37.047 INFO [localhost-startStop-1]\n  org.apache.catalina.startup.HostConfig.deployDirectory Deploying web\n  application directory /Applications/tomcat/webapps/manager 08-Apr-2017\n  13:40:37.092 INFO [localhost-startStop-1]\n  org.apache.catalina.startup.HostConfig.deployDirectory Deployment of\n  web application directory /Applications/tomcat/webapps/manager has\n  finished in 44 ms java.lang.ClassNotFoundException:\n  com.mysql.jdbc.Driver     at\n  org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1285)\n    at\n  org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1119)\n    at java.lang.Class.forName0(Native Method)  at\n  java.lang.Class.forName(Class.java:264)   at\n  com.saurabh.testdb.TestDBServlet.doGet(TestDBServlet.java:34)     at\n  javax.servlet.http.HttpServlet.service(HttpServlet.java:635)  at\n  javax.servlet.http.HttpServlet.service(HttpServlet.java:742)  at\n  org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:230)\n    at\n  org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)\n    at\n  org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\n    at\n  org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)\n    at\n  org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)\n    at\n  org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198)\n    at\n  org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\n    at\n  org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478)\n    at\n  org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)\n    at\n  org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80)\n    at\n  org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:624)\n    at\n  org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)\n    at\n  org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341)\n    at\n  org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:783)\n    at\n  org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\n    at\n  org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:798)\n    at\n  org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1441)\n    at\n  org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at\n  java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at\n  java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at\n  org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.lang.Thread.run(Thread.java:745)</p>\n</blockquote>\n\n<p>Here is my code for loading the driver</p>\n\n<pre><code>package com.saurabh.testdb;\n\nimport javax.servlet.ServletException;\nimport javax.servlet.annotation.WebServlet;\nimport javax.servlet.http.HttpServlet;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\nimport java.io.IOException;\nimport java.io.PrintWriter;\nimport java.sql.Connection;\nimport java.sql.DriverManager;\n\n@WebServlet(\"/TestDBServlet\")\npublic class TestDBServlet extends HttpServlet {\n\n@Override\nprotected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {\n\n    //set up connection variable\n    String jdbcUrl = \"jdbc:mysql://localhost:3306/web_customer_tracker?useSSL=false\";\n    String user = \"springstudent\";\n    String pass = \"sringstudent\";\n    String driver = \"com.mysql.jdbc.Driver\";\n\n    try {\n\n        PrintWriter out = resp.getWriter();\n\n        out.println(\"Connecting to database: \" + jdbcUrl);\n\n        Class.forName(driver);\n\n        Connection myConn = DriverManager.getConnection(jdbcUrl, user, pass);\n\n        out.println(\"Connection successful!!!\");\n\n        myConn.close();\n\n    } catch (Exception exc) {\n        exc.printStackTrace();\n    }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","microservices","feign"],"answers":[{"tags":[],"owner":{"account_id":7007911,"reputation":11784,"user_id":5371736,"accept_rate":56,"display_name":"Mathias Dpunkt"},"down_vote_count":0,"up_vote_count":26,"is_accepted":true,"score":26,"last_activity_date":1470404607,"creation_date":1470404607,"answer_id":38790799,"question_id":38786207,"body_markdown":"You could use a feign `ErrorDecoder` \r\n\r\nhttps://github.com/OpenFeign/feign/wiki/Custom-error-handling\r\n\r\nHere is an example\r\n\r\n    public class MyErrorDecoder implements ErrorDecoder {\r\n    \r\n        private final ErrorDecoder defaultErrorDecoder = new Default();\r\n    \r\n        @Override\r\n        public Exception decode(String methodKey, Response response) {\r\n            if (response.status() &gt;= 400 &amp;&amp; response.status() &lt;= 499) {\r\n                return new MyBadRequestException();\r\n            }\r\n            return defaultErrorDecoder.decode(methodKey, response);\r\n        }\r\n    \r\n    }\r\n\r\nFor spring to pick up the ErrorDecoder you have to put it on the ApplicationContext:\r\n\r\n    @Bean\r\n    public MyErrorDecoder myErrorDecoder() {\r\n      return new MyErrorDecoder();\r\n    }","title":"Netflix Feign - Propagate Status and Exception through Microservices","body":"<p>You could use a feign <code>ErrorDecoder</code> </p>\n\n<p><a href=\"https://github.com/OpenFeign/feign/wiki/Custom-error-handling\" rel=\"noreferrer\">https://github.com/OpenFeign/feign/wiki/Custom-error-handling</a></p>\n\n<p>Here is an example</p>\n\n<pre><code>public class MyErrorDecoder implements ErrorDecoder {\n\n    private final ErrorDecoder defaultErrorDecoder = new Default();\n\n    @Override\n    public Exception decode(String methodKey, Response response) {\n        if (response.status() &gt;= 400 &amp;&amp; response.status() &lt;= 499) {\n            return new MyBadRequestException();\n        }\n        return defaultErrorDecoder.decode(methodKey, response);\n    }\n\n}\n</code></pre>\n\n<p>For spring to pick up the ErrorDecoder you have to put it on the ApplicationContext:</p>\n\n<pre><code>@Bean\npublic MyErrorDecoder myErrorDecoder() {\n  return new MyErrorDecoder();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1202607,"reputation":1770,"user_id":1172945,"accept_rate":74,"display_name":"Tugrul"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1470404894,"creation_date":1470404894,"answer_id":38790888,"question_id":38786207,"body_markdown":"Write your custom exception mapper and register it. You can customize responses.\r\n\r\nComplete example is [here][1]\r\n\r\n\r\n\r\n    public class GenericExceptionMapper implements ExceptionMapper&lt;Throwable&gt; {\r\n    \r\n    \t@Override\r\n    \tpublic Response toResponse(Throwable ex) {\r\n    \t\treturn Response.status(500).entity(YOUR_RETURN_OBJ_HERE).build();\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n  [1]: http://www.codingpedia.org/ama/error-handling-in-rest-api-with-jersey/","title":"Netflix Feign - Propagate Status and Exception through Microservices","body":"<p>Write your custom exception mapper and register it. You can customize responses.</p>\n\n<p>Complete example is <a href=\"http://www.codingpedia.org/ama/error-handling-in-rest-api-with-jersey/\" rel=\"nofollow\">here</a></p>\n\n<pre><code>public class GenericExceptionMapper implements ExceptionMapper&lt;Throwable&gt; {\n\n    @Override\n    public Response toResponse(Throwable ex) {\n        return Response.status(500).entity(YOUR_RETURN_OBJ_HERE).build();\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1367462,"reputation":1563,"user_id":1303612,"display_name":"jebeaudet"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1481742727,"creation_date":1481742727,"answer_id":41150359,"question_id":38786207,"body_markdown":"Shameless plug for a little library I did that uses reflection to dynamically rethrow checked exceptions (and unchecked if they are on the Feign interface) based on an error code returned in the body of the response. \r\n\r\nMore information on the readme : \r\nhttps://github.com/coveo/feign-error-decoder","title":"Netflix Feign - Propagate Status and Exception through Microservices","body":"<p>Shameless plug for a little library I did that uses reflection to dynamically rethrow checked exceptions (and unchecked if they are on the Feign interface) based on an error code returned in the body of the response. </p>\n\n<p>More information on the readme : \n<a href=\"https://github.com/coveo/feign-error-decoder\" rel=\"nofollow noreferrer\">https://github.com/coveo/feign-error-decoder</a></p>\n"},{"tags":[],"owner":{"account_id":5889359,"reputation":169,"user_id":4870176,"display_name":"Asif Malek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1516807794,"creation_date":1516807794,"answer_id":48426100,"question_id":38786207,"body_markdown":"What we do is as follows:\r\n\r\nShare common jar which contains exceptions with both microservices.\r\n\r\n1.) In microservices A convert exception to a DTO class lets say ErrorInfo.\r\nWhich will contain all the attributes of your custom exception with a String exceptionType, which will contain exception class name.\r\n\r\n2.) When it is received at microservice B it will be handled by ErrorDecoder in microservice B and It will try to create an exception object from exceptionType as below:\r\n \r\n    @Override\r\n    public Exception decode(String methodKey, Response response) {       \r\n\t\r\n    ErrorInfo errorInfo = objectMapper.readValue(details, ErrorInfo.class);\r\n    Class exceptionClass;\r\n    \r\n\tException decodedException;\r\n     \r\n    try {\r\n    \r\n      \texceptionClass = Class.forName(errorInfo.getExceptionType());  \r\n    \r\n      \tdecodedException = (Exception) exceptionClass.newInstance();\r\n    \r\n      \treturn decodedException;\r\n    \r\n     }\r\n    \r\n     catch (ClassNotFoundException e) {\r\n  \r\n      \treturn new PlatformExecutionException(details, errorInfo);\r\n    \r\n     }\r\n      return defaultErrorDecoder.decode(methodKey, response);\r\n     }","title":"Netflix Feign - Propagate Status and Exception through Microservices","body":"<p>What we do is as follows:</p>\n\n<p>Share common jar which contains exceptions with both microservices.</p>\n\n<p>1.) In microservices A convert exception to a DTO class lets say ErrorInfo.\nWhich will contain all the attributes of your custom exception with a String exceptionType, which will contain exception class name.</p>\n\n<p>2.) When it is received at microservice B it will be handled by ErrorDecoder in microservice B and It will try to create an exception object from exceptionType as below:</p>\n\n<pre><code>@Override\npublic Exception decode(String methodKey, Response response) {       \n\nErrorInfo errorInfo = objectMapper.readValue(details, ErrorInfo.class);\nClass exceptionClass;\n\nException decodedException;\n\ntry {\n\n    exceptionClass = Class.forName(errorInfo.getExceptionType());  \n\n    decodedException = (Exception) exceptionClass.newInstance();\n\n    return decodedException;\n\n }\n\n catch (ClassNotFoundException e) {\n\n    return new PlatformExecutionException(details, errorInfo);\n\n }\n  return defaultErrorDecoder.decode(methodKey, response);\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15439007,"reputation":11,"user_id":11138218,"display_name":"saintf"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1551479527,"creation_date":1551479527,"answer_id":54953206,"question_id":38786207,"body_markdown":"Since 2017 we&#39;ve created a library that does this from annotations (making it fairly easy to, just like for requests/etc, to code this up by annotations).\r\n\r\nit basically allows you to code error handling as follows:\r\n\r\n    @ErrorHandling(codeSpecific =\r\n        {\r\n            @ErrorCodes( codes = {401}, generate = UnAuthorizedException.class),\r\n            @ErrorCodes( codes = {403}, generate = ForbiddenException.class),\r\n            @ErrorCodes( codes = {404}, generate = UnknownItemException.class),\r\n        },\r\n        defaultException = ClassLevelDefaultException.class\r\n    )\r\n    interface GitHub {\r\n    \r\n        @ErrorHandling(codeSpecific =\r\n            {\r\n                @ErrorCodes( codes = {404}, generate = NonExistentRepoException.class),\r\n                @ErrorCodes( codes = {502, 503, 504}, generate = RetryAfterCertainTimeException.class),\r\n            },\r\n            defaultException = FailedToGetContributorsException.class\r\n        )\r\n        @RequestLine(&quot;GET /repos/{owner}/{repo}/contributors&quot;)\r\n        List&lt;Contributor&gt; contributors(@Param(&quot;owner&quot;) String owner, @Param(&quot;repo&quot;) String repo);\r\n    }\r\n\r\nYou can find it in the OpenFeign organisation:\r\nhttps://github.com/OpenFeign/feign-annotation-error-decoder\r\n\r\ndisclaimer: I&#39;m a contributor to feign and the main dev for that error decoder.","title":"Netflix Feign - Propagate Status and Exception through Microservices","body":"<p>Since 2017 we've created a library that does this from annotations (making it fairly easy to, just like for requests/etc, to code this up by annotations).</p>\n\n<p>it basically allows you to code error handling as follows:</p>\n\n<pre><code>@ErrorHandling(codeSpecific =\n    {\n        @ErrorCodes( codes = {401}, generate = UnAuthorizedException.class),\n        @ErrorCodes( codes = {403}, generate = ForbiddenException.class),\n        @ErrorCodes( codes = {404}, generate = UnknownItemException.class),\n    },\n    defaultException = ClassLevelDefaultException.class\n)\ninterface GitHub {\n\n    @ErrorHandling(codeSpecific =\n        {\n            @ErrorCodes( codes = {404}, generate = NonExistentRepoException.class),\n            @ErrorCodes( codes = {502, 503, 504}, generate = RetryAfterCertainTimeException.class),\n        },\n        defaultException = FailedToGetContributorsException.class\n    )\n    @RequestLine(\"GET /repos/{owner}/{repo}/contributors\")\n    List&lt;Contributor&gt; contributors(@Param(\"owner\") String owner, @Param(\"repo\") String repo);\n}\n</code></pre>\n\n<p>You can find it in the OpenFeign organisation:\n<a href=\"https://github.com/OpenFeign/feign-annotation-error-decoder\" rel=\"nofollow noreferrer\">https://github.com/OpenFeign/feign-annotation-error-decoder</a></p>\n\n<p>disclaimer: I'm a contributor to feign and the main dev for that error decoder.</p>\n"},{"tags":[],"owner":{"account_id":3713839,"reputation":2046,"user_id":3090506,"display_name":"Moritz"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1558359563,"creation_date":1558359563,"answer_id":56222154,"question_id":38786207,"body_markdown":"OpenFeign&#39;s [FeignException][1] doesn&#39;t bind to a specific HTTP status (i.e. doesn&#39;t use Spring&#39;s `@ResponseStatus` annotation), which makes Spring default to `500` whenever faced with a `FeignException`. That&#39;s okay because a `FeignException` can have numerous causes that can&#39;t be related to a particular HTTP status.\r\n\r\nHowever you can change the way that Spring handles `FeignExceptions`. Simply define an `ExceptionHandler` that handles the `FeignException` the way you need it (see [here][2]):\r\n&lt;!-- language: java --&gt;\r\n\r\n    @RestControllerAdvice\r\n    public class GlobalExceptionHandler {\r\n\r\n        @ExceptionHandler(FeignException.class)\r\n        public String handleFeignStatusException(FeignException e, HttpServletResponse response) {\r\n            response.setStatus(e.status());\r\n            return &quot;feignError&quot;;\r\n        }\r\n\r\n    }\r\n\r\nThis example makes Spring return the same HTTP status that you received from Microservice B. You can go further and also return the original response body:\r\n&lt;!-- language: java --&gt;\r\n\r\n    response.getOutputStream().write(e.content());\r\n\r\n\r\n  [1]: https://github.com/OpenFeign/feign/blob/master/core/src/main/java/feign/FeignException.java\r\n  [2]: https://spring.io/blog/2013/11/01/exception-handling-in-spring-mvc#controller-based-exception-handling","title":"Netflix Feign - Propagate Status and Exception through Microservices","body":"<p>OpenFeign's <a href=\"https://github.com/OpenFeign/feign/blob/master/core/src/main/java/feign/FeignException.java\" rel=\"nofollow noreferrer\">FeignException</a> doesn't bind to a specific HTTP status (i.e. doesn't use Spring's <code>@ResponseStatus</code> annotation), which makes Spring default to <code>500</code> whenever faced with a <code>FeignException</code>. That's okay because a <code>FeignException</code> can have numerous causes that can't be related to a particular HTTP status.</p>\n\n<p>However you can change the way that Spring handles <code>FeignExceptions</code>. Simply define an <code>ExceptionHandler</code> that handles the <code>FeignException</code> the way you need it (see <a href=\"https://spring.io/blog/2013/11/01/exception-handling-in-spring-mvc#controller-based-exception-handling\" rel=\"nofollow noreferrer\">here</a>):\n</p>\n\n<pre><code>@RestControllerAdvice\npublic class GlobalExceptionHandler {\n\n    @ExceptionHandler(FeignException.class)\n    public String handleFeignStatusException(FeignException e, HttpServletResponse response) {\n        response.setStatus(e.status());\n        return \"feignError\";\n    }\n\n}\n</code></pre>\n\n<p>This example makes Spring return the same HTTP status that you received from Microservice B. You can go further and also return the original response body:\n</p>\n\n<pre><code>response.getOutputStream().write(e.content());\n</code></pre>\n"}],"owner":{"account_id":6087813,"reputation":15135,"user_id":4751165,"accept_rate":96,"display_name":"Pau"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53907,"favorite_count":0,"down_vote_count":0,"up_vote_count":26,"accepted_answer_id":38790799,"answer_count":6,"score":26,"last_activity_date":1661620293,"creation_date":1470390374,"question_id":38786207,"body_markdown":"I&#39;m using [Netflix Feign][1] to call to one operation of a Microservice A to other other operation of a Microservice B which validates a code using Spring Boot. \r\n\r\nThe operation of Microservice B throws an exception in case of the validation has been bad. Then I handled in the Microservices and return a `HttpStatus.UNPROCESSABLE_ENTITY` (422) like next:\r\n\r\n    @ExceptionHandler({\r\n           ValidateException.class\r\n        })\r\n        @ResponseStatus(HttpStatus.UNPROCESSABLE_ENTITY)\r\n        @ResponseBody\r\n        public Object validationException(final HttpServletRequest request, final validateException exception) {\r\n            log.error(exception.getMessage(), exception);\r\n            error.setErrorMessage(exception.getMessage());\r\n            error.setErrorCode(exception.getCode().toString());\r\n            return error;\r\n        }\r\n\r\nSo, when Microservice A calls to B in a interface as next:\r\n\r\n    @Headers(&quot;Content-Type: &quot; + MediaType.APPLICATION_JSON_UTF8_VALUE)\r\n    @RequestLine(&quot;GET /other&quot;)\r\n    void otherOperation(@Param(&quot;other&quot;)  String other );\r\n\r\n    @Headers(&quot;Content-Type: &quot; + MediaType.APPLICATION_JSON_UTF8_VALUE)\r\n    @RequestLine(&quot;GET /code/validate&quot;)\r\n    Boolean validate(@Param(&quot;prefix&quot;) String prefix);\r\n\r\n    static PromotionClient connect() {\r\n\r\n        return Feign.builder()\r\n            .encoder(new GsonEncoder())\r\n            .decoder(new GsonDecoder())\r\n            .target(PromotionClient.class, Urls.SERVICE_URL.toString());\r\n    }\r\n\r\nand the validations fails it returns a internal error 500 with next message:\r\n\r\n    {\r\n      &quot;timestamp&quot;: &quot;2016-08-05T09:17:49.939+0000&quot;,\r\n      &quot;status&quot;: 500,\r\n      &quot;error&quot;: &quot;Internal Server Error&quot;,\r\n      &quot;exception&quot;: &quot;feign.FeignException&quot;,\r\n      &quot;message&quot;: &quot;status 422 reading Client#validate(String); content:\\n{\\r\\n  \\&quot;errorCode\\&quot; : \\&quot;VALIDATION_EXISTS\\&quot;,\\r\\n  \\&quot;errorMessage\\&quot; : \\&quot;Code already exists.\\&quot;\\r\\n}&quot;,\r\n      &quot;path&quot;: &quot;/code/validate&quot;\r\n    }\r\n\r\nBut I need to return the same as the Microservice operation B.\r\n\r\nWhich would be the best ways or techniques to propagate Status and Exceptions through microservices using Netflix Feign?\r\n\r\n\r\n  [1]: https://github.com/OpenFeign/feign/blob/master/okhttp/src/main/java/feign/okhttp/OkHttpClient.java","title":"Netflix Feign - Propagate Status and Exception through Microservices","body":"<p>I'm using <a href=\"https://github.com/OpenFeign/feign/blob/master/okhttp/src/main/java/feign/okhttp/OkHttpClient.java\" rel=\"nofollow noreferrer\">Netflix Feign</a> to call to one operation of a Microservice A to other other operation of a Microservice B which validates a code using Spring Boot.</p>\n<p>The operation of Microservice B throws an exception in case of the validation has been bad. Then I handled in the Microservices and return a <code>HttpStatus.UNPROCESSABLE_ENTITY</code> (422) like next:</p>\n<pre><code>@ExceptionHandler({\n       ValidateException.class\n    })\n    @ResponseStatus(HttpStatus.UNPROCESSABLE_ENTITY)\n    @ResponseBody\n    public Object validationException(final HttpServletRequest request, final validateException exception) {\n        log.error(exception.getMessage(), exception);\n        error.setErrorMessage(exception.getMessage());\n        error.setErrorCode(exception.getCode().toString());\n        return error;\n    }\n</code></pre>\n<p>So, when Microservice A calls to B in a interface as next:</p>\n<pre><code>@Headers(&quot;Content-Type: &quot; + MediaType.APPLICATION_JSON_UTF8_VALUE)\n@RequestLine(&quot;GET /other&quot;)\nvoid otherOperation(@Param(&quot;other&quot;)  String other );\n\n@Headers(&quot;Content-Type: &quot; + MediaType.APPLICATION_JSON_UTF8_VALUE)\n@RequestLine(&quot;GET /code/validate&quot;)\nBoolean validate(@Param(&quot;prefix&quot;) String prefix);\n\nstatic PromotionClient connect() {\n\n    return Feign.builder()\n        .encoder(new GsonEncoder())\n        .decoder(new GsonDecoder())\n        .target(PromotionClient.class, Urls.SERVICE_URL.toString());\n}\n</code></pre>\n<p>and the validations fails it returns a internal error 500 with next message:</p>\n<pre><code>{\n  &quot;timestamp&quot;: &quot;2016-08-05T09:17:49.939+0000&quot;,\n  &quot;status&quot;: 500,\n  &quot;error&quot;: &quot;Internal Server Error&quot;,\n  &quot;exception&quot;: &quot;feign.FeignException&quot;,\n  &quot;message&quot;: &quot;status 422 reading Client#validate(String); content:\\n{\\r\\n  \\&quot;errorCode\\&quot; : \\&quot;VALIDATION_EXISTS\\&quot;,\\r\\n  \\&quot;errorMessage\\&quot; : \\&quot;Code already exists.\\&quot;\\r\\n}&quot;,\n  &quot;path&quot;: &quot;/code/validate&quot;\n}\n</code></pre>\n<p>But I need to return the same as the Microservice operation B.</p>\n<p>Which would be the best ways or techniques to propagate Status and Exceptions through microservices using Netflix Feign?</p>\n"},{"tags":["java","performance","encryption"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1661168807,"post_id":73441741,"comment_id":129699943,"body_markdown":"Are you encrypting the database as a file or on a per-record basis? If You do it an a per-record basis then always using the same key (e.g. from a keystore) is a bad idea. A good crypto scheme derives an own key for every database record. Use one master key and derive all the other keys from that master key.","body":"Are you encrypting the database as a file or on a per-record basis? If You do it an a per-record basis then always using the same key (e.g. from a keystore) is a bad idea. A good crypto scheme derives an own key for every database record. Use one master key and derive all the other keys from that master key."},{"owner":{"account_id":16834911,"reputation":304,"user_id":12171869,"display_name":"frankmurphy"},"score":0,"creation_date":1661241062,"post_id":73441741,"comment_id":129718122,"body_markdown":"It would indeed be the idea to encrypt on a per-record basis, but the current function is just a general String encrypt(input) function. Encrypting the database is the long-term goal. For now I am just experimenting with different setups, trying to create an efficient encryption method.","body":"It would indeed be the idea to encrypt on a per-record basis, but the current function is just a general String encrypt(input) function. Encrypting the database is the long-term goal. For now I am just experimenting with different setups, trying to create an efficient encryption method."}],"owner":{"account_id":16834911,"reputation":304,"user_id":12171869,"display_name":"frankmurphy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661619488,"creation_date":1661152772,"question_id":73441741,"body_markdown":"I am building a little program for encryption and decryption of some personal data, in order to learn more about encryption. The program uses RSA and AES encryption, depending on the content size that needs to be encrypted.\r\n\r\nIn a first, draft implementation, I stored the keys just to a text file, and read them from there. The different tests that I ran were quite fast. In general, encrypting small to large strings, took not more than 30ms, and in general 15ms. \r\n\r\nI then moved the keys to a java Keystore and read them from there. This slowed the encryption down drastically. A test function that used to take about 15ms went to 1 to 2 seconds, sometimes even nearing 3 seconds, depending on the content that needed to be tokenized. \r\n\r\nFrom here https://stackoverflow.com/questions/38457864/java-keystore-getkey-slow-while-key-store-size-increase/38459647#38459647 I learned that storing the keys in a ConcurrentHashMap should increase the speed of the encryption/decryption. I tried this and now indeed, the encryption/decryption, became faster, taking about 800 to 900ms. This is certainly an improvement compared to the 1/2 seconds I was experiencing with reading the keys each time from the keystore, but it is still not as fast as the 16ms that the original method took, in which the keys were just read from a text file. \r\n\r\nThis leaves me with two questions:\r\n- Are there other &#39;tricks&#39; I should explore, that could make the encryption process faster. Ideally, the encryption/decryption time would be marginal, so when I want to use this e.g. to encrypt my database, there would not be a drastic performance issue.\r\n- Does storing the keys in a ConcurrentHashMap come with other disadvantages (let&#39;s say security wise) that I need to be aware of? \r\n\r\nI am using the java keystore.","title":"Java keystore slows encryption / decryption down","body":"<p>I am building a little program for encryption and decryption of some personal data, in order to learn more about encryption. The program uses RSA and AES encryption, depending on the content size that needs to be encrypted.</p>\n<p>In a first, draft implementation, I stored the keys just to a text file, and read them from there. The different tests that I ran were quite fast. In general, encrypting small to large strings, took not more than 30ms, and in general 15ms.</p>\n<p>I then moved the keys to a java Keystore and read them from there. This slowed the encryption down drastically. A test function that used to take about 15ms went to 1 to 2 seconds, sometimes even nearing 3 seconds, depending on the content that needed to be tokenized.</p>\n<p>From here <a href=\"https://stackoverflow.com/questions/38457864/java-keystore-getkey-slow-while-key-store-size-increase/38459647#38459647\">Java Keystore.getKey() slow while Key store size Increase</a> I learned that storing the keys in a ConcurrentHashMap should increase the speed of the encryption/decryption. I tried this and now indeed, the encryption/decryption, became faster, taking about 800 to 900ms. This is certainly an improvement compared to the 1/2 seconds I was experiencing with reading the keys each time from the keystore, but it is still not as fast as the 16ms that the original method took, in which the keys were just read from a text file.</p>\n<p>This leaves me with two questions:</p>\n<ul>\n<li>Are there other 'tricks' I should explore, that could make the encryption process faster. Ideally, the encryption/decryption time would be marginal, so when I want to use this e.g. to encrypt my database, there would not be a drastic performance issue.</li>\n<li>Does storing the keys in a ConcurrentHashMap come with other disadvantages (let's say security wise) that I need to be aware of?</li>\n</ul>\n<p>I am using the java keystore.</p>\n"},{"tags":["java","spring-boot","curl"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1661590798,"post_id":73507834,"comment_id":129811884,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":26170312,"reputation":41,"user_id":19855400,"display_name":"Tom D"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":186,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1661619090,"creation_date":1661564710,"question_id":73507834,"body_markdown":"Given the postman and cURL samples below, how can I code this with Java WebClient or RestTemplate?  I&#39;m unable to figure out how to construct the body with the correct headers, file, content-type etc..\r\n\r\n[Postman][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6UD7r.png\r\n\r\nHere is the cURL\r\n\r\n    curl --location --request PUT &#39;[url]&#39; \\\r\n    --header &#39;authorization: Bearer [token]&#39; \\\r\n    --form &#39;fileData=&quot;[json]&quot;&#39; \\\r\n    --form &#39;file=@&quot;/C:/path/file.json&quot;&#39;\r\n\r\nHere is the Raw HTTP request\r\n\r\n    PUT [url]\r\n    authorization: Bearer [token]\r\n    User-Agent: PostmanRuntime/7.29.2\r\n    Accept: */*\r\n    Cache-Control: no-cache\r\n    Host: [host]\r\n    Accept-Encoding: gzip, deflate, br\r\n    Connection: keep-alive\r\n    Content-Type: multipart/form-data; boundary=--------------------------821418838150769919184719\r\n    Content-Length: 121986\r\n     \r\n    ----------------------------821418838150769919184719\r\n    Content-Disposition: form-data; name=&quot;fileData&quot;\r\n    [json]\r\n    ----------------------------821418838150769919184719\r\n    Content-Disposition: form-data; name=&quot;file&quot;; filename=&quot;file.json&quot;\r\n    &lt;file.json&gt;\r\n    ----------------------------821418838150769919184719--\r\n     \r\n    HTTP/1.1 200 OK\r\n    Date: Sat, 27 Aug 2022 01:33:15 GMT\r\n    Content-Type: application/json; charset=utf-8\r\n    Transfer-Encoding: chunked\r\n    Connection: keep-alive\r\n    Content-Encoding: br\r\n    Vary: Accept-Encoding\r\n    Request-Context: appId=cid-v1:55ff528b-00c0-4656-b479-7f1d61e8f50b\r\n    Strict-Transport-Security: max-age=86400; includeSubDomains; preload\r\n     \r\n    [json response]\r\n\r\n\r\n\r\n","title":"cURL to WebClient or RestTemplate with file","body":"<p>Given the postman and cURL samples below, how can I code this with Java WebClient or RestTemplate?  I'm unable to figure out how to construct the body with the correct headers, file, content-type etc..</p>\n<p><a href=\"https://i.stack.imgur.com/6UD7r.png\" rel=\"nofollow noreferrer\">Postman</a></p>\n<p>Here is the cURL</p>\n<pre><code>curl --location --request PUT '[url]' \\\n--header 'authorization: Bearer [token]' \\\n--form 'fileData=&quot;[json]&quot;' \\\n--form 'file=@&quot;/C:/path/file.json&quot;'\n</code></pre>\n<p>Here is the Raw HTTP request</p>\n<pre><code>PUT [url]\nauthorization: Bearer [token]\nUser-Agent: PostmanRuntime/7.29.2\nAccept: */*\nCache-Control: no-cache\nHost: [host]\nAccept-Encoding: gzip, deflate, br\nConnection: keep-alive\nContent-Type: multipart/form-data; boundary=--------------------------821418838150769919184719\nContent-Length: 121986\n \n----------------------------821418838150769919184719\nContent-Disposition: form-data; name=&quot;fileData&quot;\n[json]\n----------------------------821418838150769919184719\nContent-Disposition: form-data; name=&quot;file&quot;; filename=&quot;file.json&quot;\n&lt;file.json&gt;\n----------------------------821418838150769919184719--\n \nHTTP/1.1 200 OK\nDate: Sat, 27 Aug 2022 01:33:15 GMT\nContent-Type: application/json; charset=utf-8\nTransfer-Encoding: chunked\nConnection: keep-alive\nContent-Encoding: br\nVary: Accept-Encoding\nRequest-Context: appId=cid-v1:55ff528b-00c0-4656-b479-7f1d61e8f50b\nStrict-Transport-Security: max-age=86400; includeSubDomains; preload\n \n[json response]\n</code></pre>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1592312701,"post_id":62409119,"comment_id":110375699,"body_markdown":"`String[] s = bufferedReader.readLine().replaceAll(&quot;\\\\s$&quot;, &quot;&quot;).split(&quot; &quot;);` Is this what you are asking?","body":"<code>String[] s = bufferedReader.readLine().replaceAll(&quot;\\\\s$&quot;, &quot;&quot;).split(&quot; &quot;);</code> Is this what you are asking?"},{"owner":{"account_id":3334223,"reputation":1684,"user_id":2802315,"accept_rate":100,"display_name":"Pallav Raj"},"score":0,"creation_date":1592312938,"post_id":62409119,"comment_id":110375844,"body_markdown":"@Naman atually I want to understand how given statement is working.","body":"@Naman atually I want to understand how given statement is working."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1592322166,"post_id":62409119,"comment_id":110381277,"body_markdown":"Weak title. Rewrite to summarize your specific technical issue.","body":"Weak title. Rewrite to summarize your specific technical issue."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1592325684,"post_id":62409119,"comment_id":110383255,"body_markdown":"`.replaceAll(&quot;\\\\s$&quot;, &quot;&quot;)` is obsolete, the subsequent `.split(&quot; &quot;)` will skip empty strings at the end anyway.","body":"<code>.replaceAll(&quot;\\\\s$&quot;, &quot;&quot;)</code> is obsolete, the subsequent <code>.split(&quot; &quot;)</code> will skip empty strings at the end anyway."}],"answers":[{"tags":[],"owner":{"account_id":1440515,"reputation":7658,"user_id":1360803,"accept_rate":100,"display_name":"Polygnome"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1592315016,"creation_date":1592313670,"answer_id":62409524,"question_id":62409119,"body_markdown":"* `bufferedReader.readLine()` reads one line, as a `String`. The string isn&#39;t assigned to any variable.\r\n* `replaceAll(&quot;\\\\s$&quot;, &quot;&quot;)` is anchored at the end of the line and removes the last whitespace. Using `String#trim` would have been better.\r\n* `split(&quot; &quot;)` splits the string into a `String[]`, breaking it apart at whitespaces\r\n* `Stream.of(String[])` takes the `String[]` we now have and returns a `Stream&lt;String&gt;`\r\n* `Stream&lt;String&gt;.map(Function&lt;String, Integer&gt;)` converts the `Stream&lt;String&gt;` into a `Stream&lt;Integer&gt;` by applying the mapping function (`Integer::parseInt`) to each element of the stream\r\n* `Stream&lt;Integer&gt;#collect(toList())` takes a `String&lt;Integer&gt;` and collects it into a `List&lt;Integer&gt;`\r\n* `List&lt;Integer&gt; a = ...` assigns the result of the aforementioned steps to the variable `a`\r\n\r\nAnd then you are done.\r\n\r\nThe comma you are seeing when using `System.out.println(a)` are produced by calling `List#toString()` (actually, [`AbstractCollection#toString`](https://hg.openjdk.java.net/jdk/jdk12/file/06222165c35f/src/java.base/share/classes/java/util/AbstractCollection.java#l464), which is inherited by most List implementations via `Abstractlist`), which produces a comma-separated list of values, enclosed in square brackets. This is a string representation for easier readability by us humans and has nothing to do with how the list is stored internally. In an `ArrayList` for example, the internal storage would be `Integer[]`, other list implementations use other data structures.\r\nSome debugger similarly show the contents of lists and arrays as such comma-separated lists - this is again purely for easier readability.\r\n ","title":"Trying to understand the complete meaning of a below statement Stream.of(bufferedReader.readLine().replaceAll(&quot;\\\\s$&quot;, &quot;&quot;)","body":"<ul>\n<li><code>bufferedReader.readLine()</code> reads one line, as a <code>String</code>. The string isn't assigned to any variable.</li>\n<li><code>replaceAll(\"\\\\s$\", \"\")</code> is anchored at the end of the line and removes the last whitespace. Using <code>String#trim</code> would have been better.</li>\n<li><code>split(\" \")</code> splits the string into a <code>String[]</code>, breaking it apart at whitespaces</li>\n<li><code>Stream.of(String[])</code> takes the <code>String[]</code> we now have and returns a <code>Stream&lt;String&gt;</code></li>\n<li><code>Stream&lt;String&gt;.map(Function&lt;String, Integer&gt;)</code> converts the <code>Stream&lt;String&gt;</code> into a <code>Stream&lt;Integer&gt;</code> by applying the mapping function (<code>Integer::parseInt</code>) to each element of the stream</li>\n<li><code>Stream&lt;Integer&gt;#collect(toList())</code> takes a <code>String&lt;Integer&gt;</code> and collects it into a <code>List&lt;Integer&gt;</code></li>\n<li><code>List&lt;Integer&gt; a = ...</code> assigns the result of the aforementioned steps to the variable <code>a</code></li>\n</ul>\n\n<p>And then you are done.</p>\n\n<p>The comma you are seeing when using <code>System.out.println(a)</code> are produced by calling <code>List#toString()</code> (actually, <a href=\"https://hg.openjdk.java.net/jdk/jdk12/file/06222165c35f/src/java.base/share/classes/java/util/AbstractCollection.java#l464\" rel=\"noreferrer\"><code>AbstractCollection#toString</code></a>, which is inherited by most List implementations via <code>Abstractlist</code>), which produces a comma-separated list of values, enclosed in square brackets. This is a string representation for easier readability by us humans and has nothing to do with how the list is stored internally. In an <code>ArrayList</code> for example, the internal storage would be <code>Integer[]</code>, other list implementations use other data structures.\nSome debugger similarly show the contents of lists and arrays as such comma-separated lists - this is again purely for easier readability.</p>\n"},{"tags":[],"owner":{"account_id":18844991,"reputation":169,"user_id":13745527,"display_name":"Daniel Koch"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1592313726,"creation_date":1592313726,"answer_id":62409547,"question_id":62409119,"body_markdown":"You say that the\r\n\r\n`.replaceAll(&quot;\\\\s$&quot;, &quot;&quot;)`\r\n\r\nreplaces a space with a comma, but that is not what it does. It replaces all occurences of a whitespace at the end of a string with no nothing. (`\\s` is any whitespace and `$` is for end of string).\r\n\r\nAfter this the string is split into an array, separator being a space: &quot; &quot;. Then all cells are parsed into integers and collected as a list.\r\n\r\nThe replace seems a bit weird, but I cannot say if is necessary or not without knowing the context. It looks like that [trim][1] would fit better.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#trim()","title":"Trying to understand the complete meaning of a below statement Stream.of(bufferedReader.readLine().replaceAll(&quot;\\\\s$&quot;, &quot;&quot;)","body":"<p>You say that the</p>\n\n<p><code>.replaceAll(\"\\\\s$\", \"\")</code></p>\n\n<p>replaces a space with a comma, but that is not what it does. It replaces all occurences of a whitespace at the end of a string with no nothing. (<code>\\s</code> is any whitespace and <code>$</code> is for end of string).</p>\n\n<p>After this the string is split into an array, separator being a space: \" \". Then all cells are parsed into integers and collected as a list.</p>\n\n<p>The replace seems a bit weird, but I cannot say if is necessary or not without knowing the context. It looks like that <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#trim()\" rel=\"nofollow noreferrer\">trim</a> would fit better.</p>\n"}],"owner":{"account_id":3334223,"reputation":1684,"user_id":2802315,"accept_rate":100,"display_name":"Pallav Raj"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2283,"favorite_count":0,"down_vote_count":2,"up_vote_count":8,"accepted_answer_id":62409524,"answer_count":2,"score":6,"last_activity_date":1661618981,"creation_date":1592312412,"question_id":62409119,"body_markdown":"I am adding screenshot for some more information. I am new to Java8, kindly forgive me if I am asking a bad question. When I was doing research for input of space separated value I got this statement.\r\n    I understand that below statement takes value as `1 2 3` and returns value`[1, 2, 3]`as a list.\r\n\r\nKindly correct me if I am wrong,\r\n    \r\n\r\n - Stream: is used on collection for iteration.\r\n \r\n - bufferedReader.readLine(): it reads the line as string\r\n - replaceAll: is replacing space with `,` later it gets parse into Integer and being collected into List\r\n\r\nMy doubt is when I am inputting `1 2 3` which is a string. So, is this stream first splitting the value with space then iterating on splitted value? or is it 1st parsing the value later storing the value in list later splitting value with space and removing space and replacing with `,`. I am very curious, how exactly below statement is working.\r\n```\r\nList&lt;Integer&gt; a = Stream.of(bufferedReader.readLine().replaceAll(&quot;\\\\s$&quot;, &quot;&quot;).split(&quot; &quot;))\r\n                .map(Integer::parseInt)\r\n                .collect(toList());\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nlXxd.jpg","title":"Trying to understand the complete meaning of a below statement Stream.of(bufferedReader.readLine().replaceAll(&quot;\\\\s$&quot;, &quot;&quot;)","body":"<p>I am adding screenshot for some more information. I am new to Java8, kindly forgive me if I am asking a bad question. When I was doing research for input of space separated value I got this statement.\n    I understand that below statement takes value as <code>1 2 3</code> and returns value<code>[1, 2, 3]</code>as a list.</p>\n\n<p>Kindly correct me if I am wrong,</p>\n\n<ul>\n<li><p>Stream: is used on collection for iteration.</p></li>\n<li><p>bufferedReader.readLine(): it reads the line as string</p></li>\n<li>replaceAll: is replacing space with <code>,</code> later it gets parse into Integer and being collected into List</li>\n</ul>\n\n<p>My doubt is when I am inputting <code>1 2 3</code> which is a string. So, is this stream first splitting the value with space then iterating on splitted value? or is it 1st parsing the value later storing the value in list later splitting value with space and removing space and replacing with <code>,</code>. I am very curious, how exactly below statement is working.</p>\n\n<pre><code>List&lt;Integer&gt; a = Stream.of(bufferedReader.readLine().replaceAll(\"\\\\s$\", \"\").split(\" \"))\n                .map(Integer::parseInt)\n                .collect(toList());\n\n\n  [1]: https://i.stack.imgur.com/nlXxd.jpg\n</code></pre>\n"},{"tags":["java","json","jackson","gson"],"comments":[{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":1,"creation_date":1661596521,"post_id":73509803,"comment_id":129812804,"body_markdown":"In the eyes of a JSON parser this is simply invalid JSON. So you probably need to post-process the received data, write your own parser (*not recommended*) or the data source needs to conform to the specification and produce valid JSON.","body":"In the eyes of a JSON parser this is simply invalid JSON. So you probably need to post-process the received data, write your own parser (<i>not recommended</i>) or the data source needs to conform to the specification and produce valid JSON."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1661616980,"creation_date":1661593430,"answer_id":73509895,"question_id":73509803,"body_markdown":"Yes and No.\r\n\r\n- Yes: \r\n\r\n   - If there is a reliable pattern for detecting the error, you could *potentially* write some Java code to insert the missing escapes.  Then you parse the corrected JSON using a regular JSON parser.\r\n   - It might even be possible to write a custom JSON parser that treats a `&quot;{&quot;` sequence as `&quot;{\\&quot;`, and so on.  Or modify an existing parser to do that.\r\n\r\n- No: A regular JSON parser will reject this.  AFAIK, no mainstream JSON parser supports arbitrary non-standard (i.e. broken!) JSON variants.\r\n\r\nA better idea is to fix whatever is generating the broken JSON.  Or charge the customer who wants you to support this garbage a **LOT OF MONEY** because their data doesn&#39;t conform to the agreed requirements.  (Assuming that the agreed requirements said JSON.)\r\n","title":"Is there any way to deserialize a nonstandard JSON in Java","body":"<p>Yes and No.</p>\n<ul>\n<li><p>Yes:</p>\n<ul>\n<li>If there is a reliable pattern for detecting the error, you could <em>potentially</em> write some Java code to insert the missing escapes.  Then you parse the corrected JSON using a regular JSON parser.</li>\n<li>It might even be possible to write a custom JSON parser that treats a <code>&quot;{&quot;</code> sequence as <code>&quot;{\\&quot;</code>, and so on.  Or modify an existing parser to do that.</li>\n</ul>\n</li>\n<li><p>No: A regular JSON parser will reject this.  AFAIK, no mainstream JSON parser supports arbitrary non-standard (i.e. broken!) JSON variants.</p>\n</li>\n</ul>\n<p>A better idea is to fix whatever is generating the broken JSON.  Or charge the customer who wants you to support this garbage a <strong>LOT OF MONEY</strong> because their data doesn't conform to the agreed requirements.  (Assuming that the agreed requirements said JSON.)</p>\n"}],"owner":{"account_id":17358814,"reputation":363,"user_id":12575576,"display_name":"munan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1661616980,"creation_date":1661592495,"question_id":73509803,"body_markdown":"    {\r\n    &quot;id&quot;:1,\r\n    &quot;city&quot;:&quot;cityname&quot;,\r\n    &quot;address&quot;:&quot;{&quot;name&quot;:&quot;addressName&quot;}&quot;\r\n    }\r\n\r\nfor example\r\nThe value of the address field is missing an escape,Is there a way to deserialize it as a string\r\n\r\n\r\n\r\n","title":"Is there any way to deserialize a nonstandard JSON in Java","body":"<pre><code>{\n&quot;id&quot;:1,\n&quot;city&quot;:&quot;cityname&quot;,\n&quot;address&quot;:&quot;{&quot;name&quot;:&quot;addressName&quot;}&quot;\n}\n</code></pre>\n<p>for example\nThe value of the address field is missing an escape,Is there a way to deserialize it as a string</p>\n"},{"tags":["java","maven","intellij-idea"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1661607764,"post_id":73511474,"comment_id":129814880,"body_markdown":"What happens when you use intellij and someone else working on the same project (or simply wanting to build it) doesn&#39;t? Using maven solves this, for example.","body":"What happens when you use intellij and someone else working on the same project (or simply wanting to build it) doesn&#39;t? Using maven solves this, for example."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1661607796,"post_id":73511474,"comment_id":129814885,"body_markdown":"Which one is better depends on the circumstances.","body":"Which one is better depends on the circumstances."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1661607919,"post_id":73511474,"comment_id":129814904,"body_markdown":"Also, I don&#39;t know whether IntelliJ does transitive dependencies resolution. I know that Maven does.","body":"Also, I don&#39;t know whether IntelliJ does transitive dependencies resolution. I know that Maven does."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1661614057,"post_id":73511474,"comment_id":129816131,"body_markdown":"I don&#39;t think that an IDE will *resolve* dependencies at all.  The developer must do the resolution (i.e. working out what version of the dependency is needed, where to get it from, and downloading its JAR) by hand ... before adding them to the project&#39;s &quot;Libraries&quot; (or whatever).","body":"I don&#39;t think that an IDE will <i>resolve</i> dependencies at all.  The developer must do the resolution (i.e. working out what version of the dependency is needed, where to get it from, and downloading its JAR) by hand ... before adding them to the project&#39;s &quot;Libraries&quot; (or whatever)."}],"answers":[{"tags":[],"owner":{"account_id":19795702,"reputation":46,"user_id":14497698,"display_name":"Aswin Suresh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1661608082,"creation_date":1661608082,"answer_id":73511525,"question_id":73511474,"body_markdown":"Using maven is better when we collaborate with others, so we keep the version in pom file and the build will be stable.\r\n\r\nWhen we use IDE, we&#39;ll download the latest version of the dependency and it may lead to build issues.\r\n\r\nI suggest to use Maven, or use Maven plugin which updates pom file.","title":"What is the difference between adding dependencies via Maven and via IDE?","body":"<p>Using maven is better when we collaborate with others, so we keep the version in pom file and the build will be stable.</p>\n<p>When we use IDE, we'll download the latest version of the dependency and it may lead to build issues.</p>\n<p>I suggest to use Maven, or use Maven plugin which updates pom file.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1661616329,"creation_date":1661614775,"answer_id":73512338,"question_id":73511474,"body_markdown":"The main *functional* difference is that the Maven build tool takes care of:\r\n\r\n  1. finding where the particular version of the dependency you want is stored,\r\n  2. downloading the dependency JAR\r\n  3. adding the JAR to the build tool&#39;s local repo\r\n  4. telling the IDE&#39;s incremental compiler where the JAR is; i.e. via your IDE&#39;s Maven integration plugin\r\n\r\nBy contrast, if you add the dependencies using &quot;Project Structure &gt; Libraries&quot; (or the equivalent in other IDEs, you have to do the above (1. 2. and 4.) yourself, by hand.\r\n\r\nOther differences:\r\n\r\n  - Maven will take care of transitive dependencies.\r\n  - Maven can automatically deal with SNAPSHOT dependencies.\r\n  - If you do it via the IDE project structure, you are liable to either end up with dependent JARs in your source control repository ... or with other people having to repeat the manual process when they need build your software.\r\n  - If you do it via the IDE project structure, you have the problem that different IDEs do it differently.  This presents problems if different developers prefer to (or have to!) use different IDEs.\r\n\r\n--------------\r\n\r\nIn short, it is better to use Maven or Gradle, or some other build tool that understands dependency resolution ... rather than doing the work manually and then configuring the project libraries using the IDE.\r\n\r\nEspecially if other programmers need to build your Java application.","title":"What is the difference between adding dependencies via Maven and via IDE?","body":"<p>The main <em>functional</em> difference is that the Maven build tool takes care of:</p>\n<ol>\n<li>finding where the particular version of the dependency you want is stored,</li>\n<li>downloading the dependency JAR</li>\n<li>adding the JAR to the build tool's local repo</li>\n<li>telling the IDE's incremental compiler where the JAR is; i.e. via your IDE's Maven integration plugin</li>\n</ol>\n<p>By contrast, if you add the dependencies using &quot;Project Structure &gt; Libraries&quot; (or the equivalent in other IDEs, you have to do the above (1. 2. and 4.) yourself, by hand.</p>\n<p>Other differences:</p>\n<ul>\n<li>Maven will take care of transitive dependencies.</li>\n<li>Maven can automatically deal with SNAPSHOT dependencies.</li>\n<li>If you do it via the IDE project structure, you are liable to either end up with dependent JARs in your source control repository ... or with other people having to repeat the manual process when they need build your software.</li>\n<li>If you do it via the IDE project structure, you have the problem that different IDEs do it differently.  This presents problems if different developers prefer to (or have to!) use different IDEs.</li>\n</ul>\n<hr />\n<p>In short, it is better to use Maven or Gradle, or some other build tool that understands dependency resolution ... rather than doing the work manually and then configuring the project libraries using the IDE.</p>\n<p>Especially if other programmers need to build your Java application.</p>\n"}],"owner":{"account_id":26172586,"reputation":3,"user_id":19858325,"display_name":"p5vm"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73511525,"answer_count":2,"score":0,"last_activity_date":1661616329,"creation_date":1661607620,"question_id":73511474,"body_markdown":"What is the difference between adding dependencies via IntelliJ IDEA (when I download the library to my computer and add it to the project via Project Structure -&gt; Libraries) and via Maven (when I specify group id, artifact id and version in pom.xml)? And which of these ways is better?","title":"What is the difference between adding dependencies via Maven and via IDE?","body":"<p>What is the difference between adding dependencies via IntelliJ IDEA (when I download the library to my computer and add it to the project via Project Structure -&gt; Libraries) and via Maven (when I specify group id, artifact id and version in pom.xml)? And which of these ways is better?</p>\n"},{"tags":["java","pointers","reference","stack"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":3,"creation_date":1661616081,"post_id":73512315,"comment_id":129816520,"body_markdown":"That article is pretty blithering, frankly.  (It&#39;s on Quora, so I wouldn&#39;t expect much.)  I&#39;d ignore it and go with your previous understanding.  That article is definitely trying to &quot;sound smart&quot; by tossing terms around, but uses those terms inappropriately or at least misleadingly, which is a big red flag for me.  I only got about half way through before I decided it was tosh.","body":"That article is pretty blithering, frankly.  (It&#39;s on Quora, so I wouldn&#39;t expect much.)  I&#39;d ignore it and go with your previous understanding.  That article is definitely trying to &quot;sound smart&quot; by tossing terms around, but uses those terms inappropriately or at least misleadingly, which is a big red flag for me.  I only got about half way through before I decided it was tosh."},{"owner":{"account_id":17244046,"reputation":189,"user_id":14934258,"display_name":"tweekz"},"score":0,"creation_date":1661616424,"post_id":73512315,"comment_id":129816586,"body_markdown":"Thanks for your advise. I have a tendency to get lost in details, so this post kind of threw me off due to its (probable) ambiguity.","body":"Thanks for your advise. I have a tendency to get lost in details, so this post kind of threw me off due to its (probable) ambiguity."},{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":3,"creation_date":1661617063,"post_id":73512315,"comment_id":129816710,"body_markdown":"And to be clear, from everything you say, you seem to understand how java actually works. Just to reiterate the parts that you got right: Yes, variables are _either_ primitive _or_ reference; primitives are just the value, references are &#39;addresses&#39; that the JVM can use to &#39;look up&#39; an object; all objects neccessarily live in the heap and cannot ever be stuffed into a variable, only references to them can be. local vars indeed live in the stack and therefore cannot outlive a method&#39;s lifecycle. Objects can, because they live on the heap, not in a variable.","body":"And to be clear, from everything you say, you seem to understand how java actually works. Just to reiterate the parts that you got right: Yes, variables are <i>either</i> primitive <i>or</i> reference; primitives are just the value, references are &#39;addresses&#39; that the JVM can use to &#39;look up&#39; an object; all objects neccessarily live in the heap and cannot ever be stuffed into a variable, only references to them can be. local vars indeed live in the stack and therefore cannot outlive a method&#39;s lifecycle. Objects can, because they live on the heap, not in a variable."},{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":3,"creation_date":1661617140,"post_id":73512315,"comment_id":129816726,"body_markdown":"Whenever you invoke a method, __copies__ of the values are passed. Meaning, if that method then does `myParam = x`, the _caller_ does not see any of its locals change. However, as all values are primitives or references (never objects directly), something like `myParam.setFoo(y)` __is__ observable to callers; you aren&#39;t changing `myParam` the variable itself, you are following the reference and asking the object you find there to change itself.","body":"Whenever you invoke a method, <b>copies</b> of the values are passed. Meaning, if that method then does <code>myParam = x</code>, the <i>caller</i> does not see any of its locals change. However, as all values are primitives or references (never objects directly), something like <code>myParam.setFoo(y)</code> <b>is</b> observable to callers; you aren&#39;t changing <code>myParam</code> the variable itself, you are following the reference and asking the object you find there to change itself."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1661619860,"post_id":73512315,"comment_id":129817297,"body_markdown":"And all of this is from the &quot;normal&quot; view of code.  Once the optimizer gets involved all bets are off.  Any variable, local or otherwise, could be hoist into a hardware register for speed.  Small heap objects may be allocated on the stack instead (&quot;escape analysis&quot;).  Variables may not be passed to a method at all if that method is in-lined (pass-by value semantics are still required tho). The Java spec allows for local variables not allocated on the stack at all but instead on the heap (stack frame vs. activation frame).  Etc.","body":"And all of this is from the &quot;normal&quot; view of code.  Once the optimizer gets involved all bets are off.  Any variable, local or otherwise, could be hoist into a hardware register for speed.  Small heap objects may be allocated on the stack instead (&quot;escape analysis&quot;).  Variables may not be passed to a method at all if that method is in-lined (pass-by value semantics are still required tho). The Java spec allows for local variables not allocated on the stack at all but instead on the heap (stack frame vs. activation frame).  Etc."}],"owner":{"account_id":17244046,"reputation":189,"user_id":14934258,"display_name":"tweekz"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661614893,"creation_date":1661614547,"question_id":73512315,"body_markdown":"As far as I understand it, Java stores variables inside methods in the local variables array on the stack. Those variables can contain primitives or references to objects. Primitives are the value itself, while references are used to access objects on the heap. It seems like the JVM specification supports this idea. https://docs.oracle.com/javase/specs/jvms/se18/html/jvms-2.html#jvms-2.6.1\r\n\r\n&gt; A single local variable can hold a value of type boolean, byte, char,\r\n&gt; short, int, float, reference, or returnAddress. A pair of local\r\n&gt; variables can hold a value of type long or double.\r\n\r\n\r\n**However, recently I came across a very detailed post about reference variables, which I don&#39;t fully understand:**\r\nhttps://qr.ae/pvbaNH\r\n\r\n&gt; Anyway, coming back to the real question, `reference variables` makes\r\n&gt; no sense. Rather, **variables (and fields) are references**, and\r\n&gt; references are a theoretical concept.\r\n\r\nVariables are references? I thought variables contain primitives or reference values. Or does he refer to the resolution of identifiers by the constant pool?\r\n\r\nThen he goes on to explain this code:\r\n\r\n    // We are in a method block. \r\n    int a = 5; \r\n    int b = a;\r\n\r\nwith following description:\r\n\r\n&gt; The concept is, whenever the language makes you think you&#39;re setting a\r\n&gt; reference to another one, you&#39;re instead asking to solve that source\r\n&gt; reference (i.e. obtaining its value) and to set that value to the\r\n&gt; target reference.\r\n\r\nI don&#39;t understand why anyone should think that you are assigning references here. It sounds a bit like the stack stores references only (generally) and those references are being resolved to get the actual value stored somewhere else. I guess he is actually just referring to the identifiers &#39;a&#39; and &#39;b&#39; being resolved again. Am I correct?\r\n\r\nHe then goes on explaining how references to objects are stored. This sounds pretty much OK, but he again uses reference ambiguously.\r\n\r\nIt would be nice if some experienced Java engineer could enlighten my confusion. Please bear with my lack of knowledge.","title":"Java Details about Variables and References","body":"<p>As far as I understand it, Java stores variables inside methods in the local variables array on the stack. Those variables can contain primitives or references to objects. Primitives are the value itself, while references are used to access objects on the heap. It seems like the JVM specification supports this idea. <a href=\"https://docs.oracle.com/javase/specs/jvms/se18/html/jvms-2.html#jvms-2.6.1\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/specs/jvms/se18/html/jvms-2.html#jvms-2.6.1</a></p>\n<blockquote>\n<p>A single local variable can hold a value of type boolean, byte, char,\nshort, int, float, reference, or returnAddress. A pair of local\nvariables can hold a value of type long or double.</p>\n</blockquote>\n<p><strong>However, recently I came across a very detailed post about reference variables, which I don't fully understand:</strong>\n<a href=\"https://qr.ae/pvbaNH\" rel=\"nofollow noreferrer\">https://qr.ae/pvbaNH</a></p>\n<blockquote>\n<p>Anyway, coming back to the real question, <code>reference variables</code> makes\nno sense. Rather, <strong>variables (and fields) are references</strong>, and\nreferences are a theoretical concept.</p>\n</blockquote>\n<p>Variables are references? I thought variables contain primitives or reference values. Or does he refer to the resolution of identifiers by the constant pool?</p>\n<p>Then he goes on to explain this code:</p>\n<pre><code>// We are in a method block. \nint a = 5; \nint b = a;\n</code></pre>\n<p>with following description:</p>\n<blockquote>\n<p>The concept is, whenever the language makes you think you're setting a\nreference to another one, you're instead asking to solve that source\nreference (i.e. obtaining its value) and to set that value to the\ntarget reference.</p>\n</blockquote>\n<p>I don't understand why anyone should think that you are assigning references here. It sounds a bit like the stack stores references only (generally) and those references are being resolved to get the actual value stored somewhere else. I guess he is actually just referring to the identifiers 'a' and 'b' being resolved again. Am I correct?</p>\n<p>He then goes on explaining how references to objects are stored. This sounds pretty much OK, but he again uses reference ambiguously.</p>\n<p>It would be nice if some experienced Java engineer could enlighten my confusion. Please bear with my lack of knowledge.</p>\n"},{"tags":["java","processing","libraries"],"comments":[{"owner":{"account_id":32369,"reputation":51044,"user_id":89766,"accept_rate":92,"display_name":"George Profenza"},"score":0,"creation_date":1661623456,"post_id":73452331,"comment_id":129818018,"body_markdown":"which version of Processing are you using ?","body":"which version of Processing are you using ?"}],"answers":[{"tags":[],"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661614608,"creation_date":1661614608,"answer_id":73512320,"question_id":73452331,"body_markdown":"First, run a quick program\r\n\r\n    public static void main(String[] args) {\r\n      System.out.println(Sytem.getProperty(&quot;java.library.path&quot;);\r\n    }\r\n\r\nOnce you have that information, make sure that the gstreamer .dll is in that location.\r\n\r\nAlternatively, set the path argument to the location of the gstreamer .dll using the command line &quot;java a.b.myclass&quot; argument","title":"processing.video: UnsatisfiedLinkError: Could not load library: gstreamer","body":"<p>First, run a quick program</p>\n<pre><code>public static void main(String[] args) {\n  System.out.println(Sytem.getProperty(&quot;java.library.path&quot;);\n}\n</code></pre>\n<p>Once you have that information, make sure that the gstreamer .dll is in that location.</p>\n<p>Alternatively, set the path argument to the location of the gstreamer .dll using the command line &quot;java a.b.myclass&quot; argument</p>\n"}],"owner":{"account_id":21254536,"reputation":595,"user_id":15636264,"display_name":"Scollier"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":536,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1661614608,"creation_date":1661215834,"question_id":73452331,"body_markdown":"I&#39;m trying to use the `processing.video` library for my VS Code project in linux. I imported the library, and there were no errors, but when I setup basic code to just load a `.mp4` file and play it, I got an error saying:\r\n&gt;  UnsatisfiedLinkError: Could not load library: gstreamer\r\n\r\nCould someone tell me why this is happening, and what I need to do to fix this? I was unaware that I needed to install other dependencies and I didn&#39;t see others having this problem.","title":"processing.video: UnsatisfiedLinkError: Could not load library: gstreamer","body":"<p>I'm trying to use the <code>processing.video</code> library for my VS Code project in linux. I imported the library, and there were no errors, but when I setup basic code to just load a <code>.mp4</code> file and play it, I got an error saying:</p>\n<blockquote>\n<p>UnsatisfiedLinkError: Could not load library: gstreamer</p>\n</blockquote>\n<p>Could someone tell me why this is happening, and what I need to do to fix this? I was unaware that I needed to install other dependencies and I didn't see others having this problem.</p>\n"},{"tags":["java","mongodb","spring-boot-test","embedded-mongodb"],"owner":{"account_id":3963498,"reputation":1926,"user_id":3270066,"display_name":"pagurix"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":155,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1661613959,"creation_date":1661613959,"question_id":73512260,"body_markdown":"I&#39;m using in **Spring Boot**, ***Embedded MongoDB** to do build testing. \r\nI need some Collections created, some Documents loaded and a function created in the &quot;system.js&quot; Collection to manage a sequence.\r\nI couldn&#39;t figure out how to do this with properties file (like what happens with H2 db)\r\nI tried to do everything via java in the test configuration phase:\r\n\r\n- the creation of the Collections and the loading of the Documents via Java I did it using ***mongoTemplate.insert(...)*** (a Document at the time unfortunately, but I&#39;m satisfied)\r\n\r\n**-for creating the function through Java I HAVE NOT FOUND A SOLUTION**\r\n\r\nSo, i managed to execute these commands with java:\r\n\r\n```\r\ndb.createCollection (&quot;dbSequence&quot;);\r\n``` \r\n\r\n```\r\ndb.dbSequence.insert ({&quot;seq&quot;: &quot;subNumber&quot;, &quot;value&quot;: 1, &quot;_ class&quot;: &quot;com.ilsole24ore.ordiniTermed.model.DbSequence&quot;});\r\n```\r\n\r\nthis is the function that I create through the mongodb commands but I can&#39;t with java:\r\n\r\n```\r\ndb.system.js.save ({_ id: &#39;getNextSequence&#39;,\r\n    value: function getNextSequence (seqName) {\r\n       var sequenceDocument = db.dbSequence.findAndModify ({\r\n          query: {seq: seqName},\r\n          update: {$ inc: {value: 1}},\r\n          new: true\r\n       });\r\n       return sequenceDocument.value;\r\n    }\r\n});\r\n```\r\n\r\n- the next problem is how to call the function\r\n\r\nhas anyone already had this need? thanks everyone for the help.","title":"Spring Boot Embedded MongoDB - Run script from java to create function and upload massive data","body":"<p>I'm using in <strong>Spring Boot</strong>, *<strong>Embedded MongoDB</strong> to do build testing.\nI need some Collections created, some Documents loaded and a function created in the &quot;system.js&quot; Collection to manage a sequence.\nI couldn't figure out how to do this with properties file (like what happens with H2 db)\nI tried to do everything via java in the test configuration phase:</p>\n<ul>\n<li>the creation of the Collections and the loading of the Documents via Java I did it using <em><strong>mongoTemplate.insert(...)</strong></em> (a Document at the time unfortunately, but I'm satisfied)</li>\n</ul>\n<p><strong>-for creating the function through Java I HAVE NOT FOUND A SOLUTION</strong></p>\n<p>So, i managed to execute these commands with java:</p>\n<pre><code>db.createCollection (&quot;dbSequence&quot;);\n</code></pre>\n<pre><code>db.dbSequence.insert ({&quot;seq&quot;: &quot;subNumber&quot;, &quot;value&quot;: 1, &quot;_ class&quot;: &quot;com.ilsole24ore.ordiniTermed.model.DbSequence&quot;});\n</code></pre>\n<p>this is the function that I create through the mongodb commands but I can't with java:</p>\n<pre><code>db.system.js.save ({_ id: 'getNextSequence',\n    value: function getNextSequence (seqName) {\n       var sequenceDocument = db.dbSequence.findAndModify ({\n          query: {seq: seqName},\n          update: {$ inc: {value: 1}},\n          new: true\n       });\n       return sequenceDocument.value;\n    }\n});\n</code></pre>\n<ul>\n<li>the next problem is how to call the function</li>\n</ul>\n<p>has anyone already had this need? thanks everyone for the help.</p>\n"},{"tags":["java","xml","xsd"],"answers":[{"tags":[],"owner":{"account_id":7032371,"reputation":3061,"user_id":5387592,"accept_rate":29,"display_name":"guillaume girod-vitouchkina"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1488748008,"creation_date":1488748008,"answer_id":42614017,"question_id":42613338,"body_markdown":"xsd to xml :\r\n\r\n1 : you can use eclipse (right click and select Generate)\r\n\r\n2 : Sun/Oracle Multi-Schema Validator\r\n\r\n3 : xmlgen\r\n\r\nsee: \r\nhttps://stackoverflow.com/questions/17106/how-to-generate-sample-xml-documents-from-their-dtd-or-xsd\r\n\r\nfor subtle requirements, you should program it yourself","title":"Using Java to generate xml from an XSD schema","body":"<p>xsd to xml :</p>\n\n<p>1 : you can use eclipse (right click and select Generate)</p>\n\n<p>2 : Sun/Oracle Multi-Schema Validator</p>\n\n<p>3 : xmlgen</p>\n\n<p>see: \n<a href=\"https://stackoverflow.com/questions/17106/how-to-generate-sample-xml-documents-from-their-dtd-or-xsd\">How to generate sample XML documents from their DTD or XSD?</a></p>\n\n<p>for subtle requirements, you should program it yourself</p>\n"},{"tags":[],"owner":{"account_id":6070412,"reputation":41,"user_id":4739419,"display_name":"Anuj Kumar"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1584380072,"creation_date":1570886606,"answer_id":58354609,"question_id":42613338,"body_markdown":"Hope below code will serve your purpose\r\n    \r\n        package com.example.demo;\r\n        import java.io.File;\r\n        \r\n        import javax.xml.namespace.QName;\r\n        import javax.xml.parsers.DocumentBuilder;\r\n        import javax.xml.parsers.DocumentBuilderFactory;\r\n        import javax.xml.transform.TransformerConfigurationException;\r\n        import javax.xml.transform.stream.StreamResult;\r\n        \r\n        import org.w3c.dom.Document;\r\n        import org.w3c.dom.Element;\r\n        \r\n        import jlibs.xml.sax.XMLDocument;\r\n        import jlibs.xml.xsd.XSInstance;\r\n        import jlibs.xml.xsd.XSParser;\r\n        \r\n        public interface xsdtoxml {\r\n             public static void main(String[] pArgs) {\r\n                    try {\r\n                        String filename = &quot;out.xsd&quot;;\r\n                        // instance.\r\n        \r\n                        final Document doc = loadXsdDocument(filename);\r\n        \r\n                        //Find the docs root element and use it to find the targetNamespace\r\n                        final Element rootElem = doc.getDocumentElement();\r\n                        String targetNamespace = null;\r\n                        if (rootElem != null &amp;&amp; rootElem.getNodeName().equals(&quot;xs:schema&quot;)) \r\n                                   {\r\n                            targetNamespace = rootElem.getAttribute(&quot;targetNamespace&quot;);\r\n                        }\r\n        \r\n        \r\n                        //Parse the file into an XSModel object\r\n                        org.apache.xerces.xs.XSModel xsModel = new XSParser().parse(filename);\r\n        \r\n                        //Define defaults for the XML generation\r\n                        XSInstance instance = new XSInstance();\r\n                        instance.minimumElementsGenerated = 1;\r\n                        instance.maximumElementsGenerated = 1;\r\n                        instance.generateDefaultAttributes = true;\r\n                        instance.generateOptionalAttributes = true;\r\n                        instance.maximumRecursionDepth = 0;\r\n                        instance.generateAllChoices = true;\r\n                        instance.showContentModel = true;\r\n                        instance.generateOptionalElements = true;\r\n        \r\n                        //Build the sample xml doc\r\n                        //Replace first param to XMLDoc with a file input stream to write to file\r\n                        QName rootElement = new QName(targetNamespace, &quot;out&quot;);\r\n                        XMLDocument sampleXml = new XMLDocument(new StreamResult(System.out), true, 4, null);\r\n                        instance.generate(xsModel, rootElement, sampleXml);\r\n                    } catch (TransformerConfigurationException e) \r\n                            {\r\n                        // TODO Auto-generated catch block\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n        \r\n                public static Document loadXsdDocument(String inputName) {\r\n                    final String filename = inputName;\r\n        \r\n                    final DocumentBuilderFactory factory = DocumentBuilderFactory\r\n                            .newInstance();\r\n                    factory.setValidating(false);\r\n                    factory.setIgnoringElementContentWhitespace(true);\r\n                    factory.setIgnoringComments(true);\r\n                    Document doc = null;\r\n        \r\n                    try {\r\n                        final DocumentBuilder builder = factory.newDocumentBuilder();\r\n                        final File inputFile = new File(filename);\r\n                        doc = builder.parse(inputFile);\r\n                    } catch (final Exception e) {\r\n                        e.printStackTrace();\r\n                        // throw new ContentLoadException(msg);\r\n                    }\r\n        \r\n                    return doc;\r\n                }\r\n        \r\n        }","title":"Using Java to generate xml from an XSD schema","body":"<p>Hope below code will serve your purpose</p>\n\n<pre><code>    package com.example.demo;\n    import java.io.File;\n\n    import javax.xml.namespace.QName;\n    import javax.xml.parsers.DocumentBuilder;\n    import javax.xml.parsers.DocumentBuilderFactory;\n    import javax.xml.transform.TransformerConfigurationException;\n    import javax.xml.transform.stream.StreamResult;\n\n    import org.w3c.dom.Document;\n    import org.w3c.dom.Element;\n\n    import jlibs.xml.sax.XMLDocument;\n    import jlibs.xml.xsd.XSInstance;\n    import jlibs.xml.xsd.XSParser;\n\n    public interface xsdtoxml {\n         public static void main(String[] pArgs) {\n                try {\n                    String filename = \"out.xsd\";\n                    // instance.\n\n                    final Document doc = loadXsdDocument(filename);\n\n                    //Find the docs root element and use it to find the targetNamespace\n                    final Element rootElem = doc.getDocumentElement();\n                    String targetNamespace = null;\n                    if (rootElem != null &amp;&amp; rootElem.getNodeName().equals(\"xs:schema\")) \n                               {\n                        targetNamespace = rootElem.getAttribute(\"targetNamespace\");\n                    }\n\n\n                    //Parse the file into an XSModel object\n                    org.apache.xerces.xs.XSModel xsModel = new XSParser().parse(filename);\n\n                    //Define defaults for the XML generation\n                    XSInstance instance = new XSInstance();\n                    instance.minimumElementsGenerated = 1;\n                    instance.maximumElementsGenerated = 1;\n                    instance.generateDefaultAttributes = true;\n                    instance.generateOptionalAttributes = true;\n                    instance.maximumRecursionDepth = 0;\n                    instance.generateAllChoices = true;\n                    instance.showContentModel = true;\n                    instance.generateOptionalElements = true;\n\n                    //Build the sample xml doc\n                    //Replace first param to XMLDoc with a file input stream to write to file\n                    QName rootElement = new QName(targetNamespace, \"out\");\n                    XMLDocument sampleXml = new XMLDocument(new StreamResult(System.out), true, 4, null);\n                    instance.generate(xsModel, rootElement, sampleXml);\n                } catch (TransformerConfigurationException e) \n                        {\n                    // TODO Auto-generated catch block\n                    e.printStackTrace();\n                }\n            }\n\n            public static Document loadXsdDocument(String inputName) {\n                final String filename = inputName;\n\n                final DocumentBuilderFactory factory = DocumentBuilderFactory\n                        .newInstance();\n                factory.setValidating(false);\n                factory.setIgnoringElementContentWhitespace(true);\n                factory.setIgnoringComments(true);\n                Document doc = null;\n\n                try {\n                    final DocumentBuilder builder = factory.newDocumentBuilder();\n                    final File inputFile = new File(filename);\n                    doc = builder.parse(inputFile);\n                } catch (final Exception e) {\n                    e.printStackTrace();\n                    // throw new ContentLoadException(msg);\n                }\n\n                return doc;\n            }\n\n    }\n</code></pre>\n"}],"owner":{"account_id":875894,"reputation":3530,"user_id":925549,"accept_rate":73,"display_name":"yas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16839,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1661613586,"creation_date":1488744409,"question_id":42613338,"body_markdown":"I have a requirement to create a sort of &#39;skeleton&#39; xml based on an XSD schema.  \r\n\r\nThe documents defined by these schemas have no namespace. They are authored by other developers, not in an automated way.\r\n\r\nThere is no mixed content allowed.  That is, elements can contain elements only, or text only.\r\n\r\nThe rules for this sample xml are:\r\n\r\n* elements that can contain only text content should not be created in the   sample xml\r\n* all other optional and mandatory elements should be included in the sample xml\r\n* elements should be created only once even if they can occur multiple times\r\n* any other nodes such as attributes, comments, processing instruction, etc. should be ommited - the sample xml would be an &#39;element tree&#39; \r\n\r\nAre there APIs or tools in Java that can generate such sample xml?  I&#39;m looking for pointers where to get started.\r\n\r\nThis needs to be done programmatically in a reliable way, as the sample xml is used by other XSLT transformations.\r\n\r\n\r\n","title":"Using Java to generate xml from an XSD schema","body":"<p>I have a requirement to create a sort of 'skeleton' xml based on an XSD schema.  </p>\n\n<p>The documents defined by these schemas have no namespace. They are authored by other developers, not in an automated way.</p>\n\n<p>There is no mixed content allowed.  That is, elements can contain elements only, or text only.</p>\n\n<p>The rules for this sample xml are:</p>\n\n<ul>\n<li>elements that can contain only text content should not be created in the   sample xml</li>\n<li>all other optional and mandatory elements should be included in the sample xml</li>\n<li>elements should be created only once even if they can occur multiple times</li>\n<li>any other nodes such as attributes, comments, processing instruction, etc. should be ommited - the sample xml would be an 'element tree' </li>\n</ul>\n\n<p>Are there APIs or tools in Java that can generate such sample xml?  I'm looking for pointers where to get started.</p>\n\n<p>This needs to be done programmatically in a reliable way, as the sample xml is used by other XSLT transformations.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8914,"page":1078,"page_size":100}
