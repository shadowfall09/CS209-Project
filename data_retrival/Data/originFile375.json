{"items":[{"tags":["java","networking"],"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1686588396,"post_id":76457984,"comment_id":134816240,"body_markdown":"maybe your server is just not capable of serving the responses quick enough? Or you have a firewall active that blocks off too many subsequent requests, but it is not probable for localhost interface. Btw: did you try to target `127.0.0.1` instead of `localhost`, so name resolution can be ruled out as source of problems?","body":"maybe your server is just not capable of serving the responses quick enough? Or you have a firewall active that blocks off too many subsequent requests, but it is not probable for localhost interface. Btw: did you try to target <code>127.0.0.1</code> instead of <code>localhost</code>, so name resolution can be ruled out as source of problems?"},{"owner":{"account_id":177085,"reputation":13895,"user_id":408199,"display_name":"jacobm"},"score":0,"creation_date":1686628818,"post_id":76457984,"comment_id":134821442,"body_markdown":"Good thoughts, thanks. I tried 127.0.0.1; no effect. I&#39;ve got the standard macos firewall enabled and I can&#39;t disable it, but I haven&#39;t found any reference suggesting that it might rate-limit connections.","body":"Good thoughts, thanks. I tried 127.0.0.1; no effect. I&#39;ve got the standard macos firewall enabled and I can&#39;t disable it, but I haven&#39;t found any reference suggesting that it might rate-limit connections."},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1686640350,"post_id":76457984,"comment_id":134822797,"body_markdown":"Can you log the `clientSocket.getLocalPort()` to see if it&#39;s actually using different ports for the incoming connections or maybe reusing the same port over and over again?","body":"Can you log the <code>clientSocket.getLocalPort()</code> to see if it&#39;s actually using different ports for the incoming connections or maybe reusing the same port over and over again?"}],"owner":{"account_id":177085,"reputation":13895,"user_id":408199,"display_name":"jacobm"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1686582461,"creation_date":1686582461,"question_id":76457984,"body_markdown":"I&#39;m trying to set up a framework to let me experiment with the new Project Loom virtual threads. As part of that, I wrote a very very basic web server with the following code:\r\n```\r\nimport java.io.IOException;\r\nimport java.io.PrintWriter;\r\nimport java.net.ServerSocket;\r\nimport java.net.Socket;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) throws IOException {\r\n        try (ServerSocket serverSocket = new ServerSocket(9000)) {\r\n            while (true) {\r\n                Socket clientSocket = serverSocket.accept();\r\n                Thread.ofVirtual().start(() -&gt; {\r\n                    try {\r\n                        handleRequest(clientSocket);\r\n                    } catch (IOException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n    private static void handleRequest(Socket clientSocket) throws IOException {\r\n        PrintWriter out = new PrintWriter(clientSocket.getOutputStream(), true);\r\n        out.println(&quot;HTTP/1.1 200 OK&quot;);\r\n        out.println(&quot;Content-Type: text/html&quot;);\r\n        out.println(&quot;&quot;);\r\n        out.println(&quot;&lt;html&gt;&lt;body&gt;&lt;h1&gt;Hello World!&lt;/h1&gt;&lt;/body&gt;&lt;/html&gt;&quot;);\r\n        clientSocket.close();\r\n    }\r\n}\r\n```\r\nI used [Locust](https://locust.io/) to generate some load on it, using the following `locustfile.py`:\r\n```\r\nfrom locust import HttpUser, task\r\n\r\n\r\nclass HelloWorldUser(HttpUser):\r\n    @task\r\n    def hello_world(self):\r\n        self.client.get(&quot;/&quot;)\r\n``` \r\n\r\nWhen I point Locust at the running server, both running locally on my M1 MacBook Pro running macOS Moneterey (12.5.1), it generates about 1,000 RPS, but about 99% of those tests fail with, according to Locust, `ChunkedEncodingError(ProtocolError(&quot;Connection broken: ConnectionResetError(54, &#39;Connection reset by peer&#39;)&quot;, ConnectionResetError(54, &#39;Connection reset by peer&#39;)))` -- in my most recent run, 16,636 requests got generated, and 16,490 of them failed, leaving 146 successes total in about 17 seconds (so fewer than 10 successes per second). Manually going to http://localhost:9000 gives me the page I expect. \r\n\r\nA few things I&#39;ve tried:\r\n* Using the alternate `ServerSocket` constructor that takes a max queue length. I changed this from the default 50 to `new ServerSocket(9000, 2000)`; no effect.\r\n* I ran `ulimit -n 2048` on the theory that I was getting throttled by file descriptors. Changing this setting didn&#39;t seem to have any effect.\r\n* Switching from virtual threads to platform threads. I didn&#39;t really expect this to have an effect, and indeed it did not.\r\n* Asking ChatGPT :-) It had no idea, though it sounded pretty confident.\r\n\r\nAny ideas what could be going wrong? It seems very surprising that such a simple web server would top out at ~10 requests per second.","title":"Why is my load tester reporting 99% &quot;connection reset by peer&quot; errors when testing against my dummy server?","body":"<p>I'm trying to set up a framework to let me experiment with the new Project Loom virtual threads. As part of that, I wrote a very very basic web server with the following code:</p>\n<pre><code>import java.io.IOException;\nimport java.io.PrintWriter;\nimport java.net.ServerSocket;\nimport java.net.Socket;\n\npublic class Main {\n    public static void main(String[] args) throws IOException {\n        try (ServerSocket serverSocket = new ServerSocket(9000)) {\n            while (true) {\n                Socket clientSocket = serverSocket.accept();\n                Thread.ofVirtual().start(() -&gt; {\n                    try {\n                        handleRequest(clientSocket);\n                    } catch (IOException e) {\n                        e.printStackTrace();\n                    }\n                });\n            }\n        }\n    }\n\n    private static void handleRequest(Socket clientSocket) throws IOException {\n        PrintWriter out = new PrintWriter(clientSocket.getOutputStream(), true);\n        out.println(&quot;HTTP/1.1 200 OK&quot;);\n        out.println(&quot;Content-Type: text/html&quot;);\n        out.println(&quot;&quot;);\n        out.println(&quot;&lt;html&gt;&lt;body&gt;&lt;h1&gt;Hello World!&lt;/h1&gt;&lt;/body&gt;&lt;/html&gt;&quot;);\n        clientSocket.close();\n    }\n}\n</code></pre>\n<p>I used <a href=\"https://locust.io/\" rel=\"nofollow noreferrer\">Locust</a> to generate some load on it, using the following <code>locustfile.py</code>:</p>\n<pre><code>from locust import HttpUser, task\n\n\nclass HelloWorldUser(HttpUser):\n    @task\n    def hello_world(self):\n        self.client.get(&quot;/&quot;)\n</code></pre>\n<p>When I point Locust at the running server, both running locally on my M1 MacBook Pro running macOS Moneterey (12.5.1), it generates about 1,000 RPS, but about 99% of those tests fail with, according to Locust, <code>ChunkedEncodingError(ProtocolError(&quot;Connection broken: ConnectionResetError(54, 'Connection reset by peer')&quot;, ConnectionResetError(54, 'Connection reset by peer')))</code> -- in my most recent run, 16,636 requests got generated, and 16,490 of them failed, leaving 146 successes total in about 17 seconds (so fewer than 10 successes per second). Manually going to http://localhost:9000 gives me the page I expect.</p>\n<p>A few things I've tried:</p>\n<ul>\n<li>Using the alternate <code>ServerSocket</code> constructor that takes a max queue length. I changed this from the default 50 to <code>new ServerSocket(9000, 2000)</code>; no effect.</li>\n<li>I ran <code>ulimit -n 2048</code> on the theory that I was getting throttled by file descriptors. Changing this setting didn't seem to have any effect.</li>\n<li>Switching from virtual threads to platform threads. I didn't really expect this to have an effect, and indeed it did not.</li>\n<li>Asking ChatGPT :-) It had no idea, though it sounded pretty confident.</li>\n</ul>\n<p>Any ideas what could be going wrong? It seems very surprising that such a simple web server would top out at ~10 requests per second.</p>\n"},{"tags":["java","spring-boot","maven","nullpointerexception","filesystemwatcher"],"answers":[{"tags":[],"owner":{"account_id":27347189,"reputation":1,"user_id":20856905,"display_name":"Zeng Feng"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686075046,"creation_date":1686075046,"answer_id":76417349,"question_id":76417024,"body_markdown":"You inject the `CcfileService` object into the `ProcessCcFile.class`. Therefore, your `ProcessCcFile.class` must be managed by Spring. Try adding the `@Component` annotation to this class.\r\n","title":"Spring Boot application with File Change Listener cannot initiate repository service","body":"<p>You inject the <code>CcfileService</code> object into the <code>ProcessCcFile.class</code>. Therefore, your <code>ProcessCcFile.class</code> must be managed by Spring. Try adding the <code>@Component</code> annotation to this class.</p>\n"},{"tags":[],"owner":{"account_id":27885315,"reputation":1,"user_id":21292935,"display_name":"Yaz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686581623,"creation_date":1686581567,"answer_id":76457852,"question_id":76417024,"body_markdown":"I found an answer to my issue for the sake if anyone is facing this issue.\r\n\r\nThe solution I got was from coderanch at the following link [https://coderanch.com/t/773360/frameworks/File-Watcher-Spring-Boot][1]\r\n\r\n\r\n  [1]: https://coderanch.com/t/773360/frameworks/File-Watcher-Spring-Boot","title":"Spring Boot application with File Change Listener cannot initiate repository service","body":"<p>I found an answer to my issue for the sake if anyone is facing this issue.</p>\n<p>The solution I got was from coderanch at the following link <a href=\"https://coderanch.com/t/773360/frameworks/File-Watcher-Spring-Boot\" rel=\"nofollow noreferrer\">https://coderanch.com/t/773360/frameworks/File-Watcher-Spring-Boot</a></p>\n"}],"owner":{"account_id":27885315,"reputation":1,"user_id":21292935,"display_name":"Yaz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":486,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1686581623,"creation_date":1686072035,"question_id":76417024,"body_markdown":"**Introduction**\r\nIn my spring boot application, I need a feature to read files from a monitored directory with a listener on it, then parse/upload into postgresql database once it finds a file.\r\nClient will upload files into this directory daily, and the application should parse and insert into DB.\r\n\r\n**The problem**\r\nI get nullpointer exception on the service that saves into database.\r\n`java.lang.NullPointerException: Cannot invoke &quot;my.app.service.CcFileService.saveCcFile(my.app.model.CcFile)&quot; because &quot;this.ccFileService&quot; is null`\r\n\r\n**Code structure**\r\nThe application class structure is as the following,\r\n\r\n- Classes 1 and 2 are for monitoring directory for new files.\r\n- Classes 3 and 4 are for processing the read file then parsing it then inserting it into database.\r\n- Classes 5 and 6 are the service interface and its implementation that handle the model Entity class of the file object.\r\n\r\n**The Code**\r\n\r\n**1. FileWatcherConfig.java**\r\n```\r\n@Configuration\r\npublic class FileWatcherConfig \r\n{\r\n\r\n    public FileSystemWatcher fileSystemWatcher()\r\n    {\r\n\r\n    \tFileSystemWatcher fileSystemWatcher = new FileSystemWatcher( true, Duration.ofMillis( 2000L ) , Duration.ofMillis( 1000L ) ) ;\r\n    \t\r\n        fileSystemWatcher.addSourceDirectory( new File(&quot;C://TMS//inputs//&quot;) ) ;\r\n        \r\n        fileSystemWatcher.addListener( new MyFileChangeListener() ) ;\r\n        \r\n        fileSystemWatcher.start() ;\r\n        \r\n        System.out.println( &quot;started fileSystemWatcher&quot; ) ;\r\n        \r\n        return fileSystemWatcher ;\r\n    }\r\n```\r\n\r\n**2. MyFileChangeListener.java**\r\n```\r\npublic class MyFileChangeListener implements FileChangeListener\r\n{\r\n    @Override\r\n    public void onChange( Set&lt; ChangedFiles &gt; changeSet )\r\n    {\r\n    \t\r\n    \tString mainPath = changeSet.iterator().next().getSourceDirectory().toString() ;\r\n    \t\r\n    \tfor( ChangedFiles cfiles : changeSet )\r\n        {\r\n            for( ChangedFile cfile: cfiles.getFiles() )\r\n            {\r\n                if(\t\t//cfile.getType().equals(Type.MODIFY) || \r\n                \t\tcfile.getType().equals(Type.ADD) //|| \r\n                \t\t//cfile.getType().equals(Type.DELETE) ) \r\n                \t\t&amp;&amp; !isLocked( cfile.getFile().toPath() ) )\r\n                {\r\n                \t\r\n                    String filePath = cfile.getFile().getAbsolutePath() ;\r\n                    \r\n                    ProcessFile processFile = new ProcessFile() ;\r\n                    \r\n                    System.out.println( &quot;processing the file &quot; ) ;\r\n                    processFile.analyzeFile( filePath , mainPath ) ;\r\n                }\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\n\r\n**3. ProcessFile.java**\r\n```\r\npublic class ProcessFile\r\n{\r\n\tprivate String fileName = &quot;&quot; ;\r\n\t\r\n\t\r\n\tpublic void analyzeFile( String filePath , String mainPath )\r\n\t{\r\n\t\tString[] pathArray = this.splitPath( filePath ) ;\r\n\t\t\r\n\t\tfileName = filePath.substring( filePath.lastIndexOf( &quot;\\\\&quot; ) + 1 ) ;\r\n\t\t\r\n\t\tswitch ( fileName )\r\n\t\t{\r\n\t\t  case &quot;CCFile.LOG&quot; :\r\n\t\t\t  \r\n\t\t\t  ProcessCcfile procCcfile = new ProcessCcfile() ;\r\n\t\t\t  \r\n\t\t\t  procCcfile.parseFile( filePath , fileName , mainPath ) ;\r\n\t\t\t  \r\n\t\t\t  break ;\r\n```\r\n\r\n**4. ProcessCCFile.java**\r\n```\r\n//@ApplicationScope\r\n//@ApplicationScope\r\n//@ControllerAdvice\r\n//@PersistenceContext\r\n//@Component\r\n//@Configuration\r\n//@Configurable\r\n//@ApplicationScope\r\n//@Controller\r\npublic class ProcessCcFile\r\n{\r\n\t\r\n\t@Autowired\r\n\tprivate CcfileService ccfileService ;   &lt;== //this remains null( the problem )\r\n\r\n\tCcfile ccfileTxn = new Ccfile( 1 , 2 , &quot;a&quot; , &quot;a&quot; , &quot;a&quot; , &quot;a&quot; , 3 , &quot;a&quot; , &quot;a&quot; , 4 , &quot;a&quot; , &quot;a&quot; , &quot;a&quot; , &quot;a&quot; , true ) ;\r\n\r\n\r\n\tpublic void parseFile( String filePath , String fileName , String mainPath )\r\n\t{\r\n\t\tBufferedReader reader;\r\n\r\n\t\ttry\r\n\t\t{\r\n\t\t\treader = new BufferedReader( new FileReader( filePath ) ) ;\r\n\t\t\t\r\n\t\t\tString line = reader.readLine() ;\r\n\t\t\t\r\n\t\t\tint count1 = 0 ;\r\n\t\t\t\r\n\t\t\twhile( line != null )\r\n\t\t\t{\t\r\n\t\t\t\t// read next line\r\n\t\t\t\tline = reader.readLine() ;\r\n\t\t\t\t\r\n\t\t\t\t// parse logic here then send to entity repo class\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t}\r\n\r\n\t\t\treader.close() ;\r\n\t\t\t\r\n\r\n\t\t        saveFile() ;\r\n\t\t\r\n\t\t}\r\n\t\tcatch( IOException e )\r\n\t\t{\r\n\t\t\te.printStackTrace() ;\r\n\t\t}\r\n\t}\r\n\t\r\n\t\r\n\tpublic void saveFile()\r\n\t{\r\n\t\ttry\r\n\t\t{\t\t\r\n\t\t\tccfileService.saveCcfile( ccfileTxn ) ;   &lt;== //and here the application fails\r\n\t\t}\r\n\t\tcatch( Exception e )\r\n\t\t{\r\n\t\t\te.printStackTrace() ;\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\n**5. CcfileService.java**\r\n```\r\npublic interface CcfileService\r\n{\r\n\r\n\tvoid saveCcfile( @Valid Ccfile ccfile ) ;\r\n}\r\n```\r\n\r\n\r\n**6. CcfileServiceImpl.java**\r\n```\r\n@Service\r\npublic class CcFileServiceImpl implements CcFileService\r\n{\r\n\t\r\n\t@Autowired\r\n\tprivate CcfileRepository ccfileRepo ;\r\n\t\r\n\t\r\n\t@Override\r\n\tpublic void saveCcfile( @Valid Ccfile ccfile )\r\n\t{\r\n\t\r\n\t\tccfileRepo.save( ccfile ) ;\r\n\t}\r\n\t\r\n}\r\n```\r\n\r\n**Note,** if I make the call &quot;ccfileService.saveCcfile( ccfileTxn ) ;&quot; from the controller classes( which are were the web pages are handled ), then service runs fine and inserts into database.\r\nI believe as I read and tried, the issue lies with the spring boot context not having this service registered in its context.\r\n\r\nAppreciate your help, as this issue has taken me a good while and still not solved, also please note this is my first spring boot application.\r\n\r\nThank you\r\n\r\nI tried to play with annotations in different classes and methods to no avail, I fail to see the issue.","title":"Spring Boot application with File Change Listener cannot initiate repository service","body":"<p><strong>Introduction</strong>\nIn my spring boot application, I need a feature to read files from a monitored directory with a listener on it, then parse/upload into postgresql database once it finds a file.\nClient will upload files into this directory daily, and the application should parse and insert into DB.</p>\n<p><strong>The problem</strong>\nI get nullpointer exception on the service that saves into database.\n<code>java.lang.NullPointerException: Cannot invoke &quot;my.app.service.CcFileService.saveCcFile(my.app.model.CcFile)&quot; because &quot;this.ccFileService&quot; is null</code></p>\n<p><strong>Code structure</strong>\nThe application class structure is as the following,</p>\n<ul>\n<li>Classes 1 and 2 are for monitoring directory for new files.</li>\n<li>Classes 3 and 4 are for processing the read file then parsing it then inserting it into database.</li>\n<li>Classes 5 and 6 are the service interface and its implementation that handle the model Entity class of the file object.</li>\n</ul>\n<p><strong>The Code</strong></p>\n<p><strong>1. FileWatcherConfig.java</strong></p>\n<pre><code>@Configuration\npublic class FileWatcherConfig \n{\n\n    public FileSystemWatcher fileSystemWatcher()\n    {\n\n        FileSystemWatcher fileSystemWatcher = new FileSystemWatcher( true, Duration.ofMillis( 2000L ) , Duration.ofMillis( 1000L ) ) ;\n        \n        fileSystemWatcher.addSourceDirectory( new File(&quot;C://TMS//inputs//&quot;) ) ;\n        \n        fileSystemWatcher.addListener( new MyFileChangeListener() ) ;\n        \n        fileSystemWatcher.start() ;\n        \n        System.out.println( &quot;started fileSystemWatcher&quot; ) ;\n        \n        return fileSystemWatcher ;\n    }\n</code></pre>\n<p><strong>2. MyFileChangeListener.java</strong></p>\n<pre><code>public class MyFileChangeListener implements FileChangeListener\n{\n    @Override\n    public void onChange( Set&lt; ChangedFiles &gt; changeSet )\n    {\n        \n        String mainPath = changeSet.iterator().next().getSourceDirectory().toString() ;\n        \n        for( ChangedFiles cfiles : changeSet )\n        {\n            for( ChangedFile cfile: cfiles.getFiles() )\n            {\n                if(     //cfile.getType().equals(Type.MODIFY) || \n                        cfile.getType().equals(Type.ADD) //|| \n                        //cfile.getType().equals(Type.DELETE) ) \n                        &amp;&amp; !isLocked( cfile.getFile().toPath() ) )\n                {\n                    \n                    String filePath = cfile.getFile().getAbsolutePath() ;\n                    \n                    ProcessFile processFile = new ProcessFile() ;\n                    \n                    System.out.println( &quot;processing the file &quot; ) ;\n                    processFile.analyzeFile( filePath , mainPath ) ;\n                }\n            }\n        }\n    }\n</code></pre>\n<p><strong>3. ProcessFile.java</strong></p>\n<pre><code>public class ProcessFile\n{\n    private String fileName = &quot;&quot; ;\n    \n    \n    public void analyzeFile( String filePath , String mainPath )\n    {\n        String[] pathArray = this.splitPath( filePath ) ;\n        \n        fileName = filePath.substring( filePath.lastIndexOf( &quot;\\\\&quot; ) + 1 ) ;\n        \n        switch ( fileName )\n        {\n          case &quot;CCFile.LOG&quot; :\n              \n              ProcessCcfile procCcfile = new ProcessCcfile() ;\n              \n              procCcfile.parseFile( filePath , fileName , mainPath ) ;\n              \n              break ;\n</code></pre>\n<p><strong>4. ProcessCCFile.java</strong></p>\n<pre><code>//@ApplicationScope\n//@ApplicationScope\n//@ControllerAdvice\n//@PersistenceContext\n//@Component\n//@Configuration\n//@Configurable\n//@ApplicationScope\n//@Controller\npublic class ProcessCcFile\n{\n    \n    @Autowired\n    private CcfileService ccfileService ;   &lt;== //this remains null( the problem )\n\n    Ccfile ccfileTxn = new Ccfile( 1 , 2 , &quot;a&quot; , &quot;a&quot; , &quot;a&quot; , &quot;a&quot; , 3 , &quot;a&quot; , &quot;a&quot; , 4 , &quot;a&quot; , &quot;a&quot; , &quot;a&quot; , &quot;a&quot; , true ) ;\n\n\n    public void parseFile( String filePath , String fileName , String mainPath )\n    {\n        BufferedReader reader;\n\n        try\n        {\n            reader = new BufferedReader( new FileReader( filePath ) ) ;\n            \n            String line = reader.readLine() ;\n            \n            int count1 = 0 ;\n            \n            while( line != null )\n            {   \n                // read next line\n                line = reader.readLine() ;\n                \n                // parse logic here then send to entity repo class\n                \n                \n            }\n\n            reader.close() ;\n            \n\n                saveFile() ;\n        \n        }\n        catch( IOException e )\n        {\n            e.printStackTrace() ;\n        }\n    }\n    \n    \n    public void saveFile()\n    {\n        try\n        {       \n            ccfileService.saveCcfile( ccfileTxn ) ;   &lt;== //and here the application fails\n        }\n        catch( Exception e )\n        {\n            e.printStackTrace() ;\n        }\n    }\n}\n</code></pre>\n<p><strong>5. CcfileService.java</strong></p>\n<pre><code>public interface CcfileService\n{\n\n    void saveCcfile( @Valid Ccfile ccfile ) ;\n}\n</code></pre>\n<p><strong>6. CcfileServiceImpl.java</strong></p>\n<pre><code>@Service\npublic class CcFileServiceImpl implements CcFileService\n{\n    \n    @Autowired\n    private CcfileRepository ccfileRepo ;\n    \n    \n    @Override\n    public void saveCcfile( @Valid Ccfile ccfile )\n    {\n    \n        ccfileRepo.save( ccfile ) ;\n    }\n    \n}\n</code></pre>\n<p><strong>Note,</strong> if I make the call &quot;ccfileService.saveCcfile( ccfileTxn ) ;&quot; from the controller classes( which are were the web pages are handled ), then service runs fine and inserts into database.\nI believe as I read and tried, the issue lies with the spring boot context not having this service registered in its context.</p>\n<p>Appreciate your help, as this issue has taken me a good while and still not solved, also please note this is my first spring boot application.</p>\n<p>Thank you</p>\n<p>I tried to play with annotations in different classes and methods to no avail, I fail to see the issue.</p>\n"},{"tags":["java","spring","spring-security"],"answers":[{"tags":[],"owner":{"account_id":21488921,"reputation":4715,"user_id":15835039,"display_name":"Steve Riesenberg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675146017,"creation_date":1675146017,"answer_id":75293332,"question_id":75292193,"body_markdown":"Try adding an `@Controller` with a `@GetMapping` for `/login`. This is required when customizing the login page as you have done. If you don’t wish to customize the login page, you can remove that line. ","title":"Spring Security -&gt; SecurityConfig causes ERR_TOO_MANY_REDIRECTS","body":"<p>Try adding an <code>@Controller</code> with a <code>@GetMapping</code> for <code>/login</code>. This is required when customizing the login page as you have done. If you don’t wish to customize the login page, you can remove that line.</p>\n"}],"owner":{"account_id":27662328,"reputation":37,"user_id":21114881,"display_name":"TKur"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":341,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75293332,"answer_count":1,"score":0,"last_activity_date":1686581520,"creation_date":1675132669,"question_id":75292193,"body_markdown":"What is causing **&quot;ERROR_TOO_MANY_REDIRECTS&quot;** when trying to access the **login page** in my Spring SecurityConfig? I am not sure if the Problem lies within the **SecurityConfig** but that&#39;s what I assume.\r\n\r\nI am using Spring Boot 3.0.2 with the IntelliJ IDE Community Edition.\r\n\r\n\r\nI have set up my SecurityConfig for my Spring application and it allows users to register successfully. However, when I try to access the login page, I am faced with the &quot;ERROR_TOO_MANY_REDIRECTS&quot; error. I have tried to troubleshoot the issue, but have been unable to find a solution.\r\n\r\nI have provided my SecurityConfig code below. Can someone help me identify what is causing this issue and how to resolve it?\r\n\r\n```\r\npackage com.fbwgame.config;\r\n\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.core.userdetails.User;\r\nimport org.springframework.security.core.userdetails.UserDetails;\r\nimport org.springframework.security.core.userdetails.UserDetailsService;\r\nimport org.springframework.security.provisioning.InMemoryUserDetailsManager;\r\nimport org.springframework.security.web.SecurityFilterChain;\r\n\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class SecurityConfig {\r\n\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        http.authorizeHttpRequests((requests) -&gt; requests\r\n                        .requestMatchers(&quot;/&quot;, &quot;/index&quot;, &quot;/register&quot;).permitAll()\r\n                        .anyRequest().authenticated()\r\n                )\r\n                .formLogin((form) -&gt; form\r\n                        .loginPage(&quot;/login&quot;)\r\n                        .permitAll()\r\n                )\r\n                .logout((logout) -&gt; logout.permitAll());\r\n\r\n        return http.build();\r\n    }\r\n\r\n    @Bean\r\n    public UserDetailsService userDetailsService() {\r\n        UserDetails user =\r\n                User.withDefaultPasswordEncoder()\r\n                        .username(&quot;user&quot;)\r\n                        .password(&quot;password&quot;)\r\n                        .roles(&quot;USER&quot;)\r\n                        .build();\r\n\r\n        return new InMemoryUserDetailsManager(user);\r\n    }\r\n}\r\n```\r\n\r\n1. Note that if I remove `.loginPage(&quot;/login&quot;)` I can access the built-in login-form.  \r\n2. My UserController Class has no Mappings including /login","title":"Spring Security -&gt; SecurityConfig causes ERR_TOO_MANY_REDIRECTS","body":"<p>What is causing <strong>&quot;ERROR_TOO_MANY_REDIRECTS&quot;</strong> when trying to access the <strong>login page</strong> in my Spring SecurityConfig? I am not sure if the Problem lies within the <strong>SecurityConfig</strong> but that's what I assume.</p>\n<p>I am using Spring Boot 3.0.2 with the IntelliJ IDE Community Edition.</p>\n<p>I have set up my SecurityConfig for my Spring application and it allows users to register successfully. However, when I try to access the login page, I am faced with the &quot;ERROR_TOO_MANY_REDIRECTS&quot; error. I have tried to troubleshoot the issue, but have been unable to find a solution.</p>\n<p>I have provided my SecurityConfig code below. Can someone help me identify what is causing this issue and how to resolve it?</p>\n<pre><code>package com.fbwgame.config;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.core.userdetails.User;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.provisioning.InMemoryUserDetailsManager;\nimport org.springframework.security.web.SecurityFilterChain;\n\n@Configuration\n@EnableWebSecurity\npublic class SecurityConfig {\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        http.authorizeHttpRequests((requests) -&gt; requests\n                        .requestMatchers(&quot;/&quot;, &quot;/index&quot;, &quot;/register&quot;).permitAll()\n                        .anyRequest().authenticated()\n                )\n                .formLogin((form) -&gt; form\n                        .loginPage(&quot;/login&quot;)\n                        .permitAll()\n                )\n                .logout((logout) -&gt; logout.permitAll());\n\n        return http.build();\n    }\n\n    @Bean\n    public UserDetailsService userDetailsService() {\n        UserDetails user =\n                User.withDefaultPasswordEncoder()\n                        .username(&quot;user&quot;)\n                        .password(&quot;password&quot;)\n                        .roles(&quot;USER&quot;)\n                        .build();\n\n        return new InMemoryUserDetailsManager(user);\n    }\n}\n</code></pre>\n<ol>\n<li>Note that if I remove <code>.loginPage(&quot;/login&quot;)</code> I can access the built-in login-form.</li>\n<li>My UserController Class has no Mappings including /login</li>\n</ol>\n"},{"tags":["java","spring-security","graphql","integration-testing","keycloak"],"comments":[{"owner":{"account_id":2903767,"reputation":125,"user_id":2489730,"display_name":"Beast"},"score":0,"creation_date":1677875357,"post_id":75597806,"comment_id":133430440,"body_markdown":"As of the current version: `1.2.0` of Spring GraphQL (March 2023) and listed in their documentation https://docs.spring.io/spring-graphql/docs/current-SNAPSHOT/reference/html/#testing.httpgraphqltester WebGraphQLTester only supports basic and/or bearer authentication headers. Thus using `@WithMockUser` does not change the security context.\n\nCurrent solution is to wait for Spring GraphQL to implement support for this.\n\nIf I find any workarounds that work with my stack, I&#39;ll report it here.","body":"As of the current version: <code>1.2.0</code> of Spring GraphQL (March 2023) and listed in their documentation <a href=\"https://docs.spring.io/spring-graphql/docs/current-SNAPSHOT/reference/html/#testing.httpgraphqltester\" rel=\"nofollow noreferrer\">docs.spring.io/spring-graphql/docs/current-SNAPSHOT/referenc&zwnj;&#8203;e/&hellip;</a> WebGraphQLTester only supports basic and/or bearer authentication headers. Thus using <code>@WithMockUser</code> does not change the security context.  Current solution is to wait for Spring GraphQL to implement support for this.  If I find any workarounds that work with my stack, I&#39;ll report it here."}],"answers":[{"tags":[],"owner":{"account_id":17913482,"reputation":137,"user_id":13015027,"display_name":"David Kubecka"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686580167,"creation_date":1686580167,"answer_id":76457659,"question_id":75597806,"body_markdown":"For testing custom roles (or any advanced security setup) I have resorted to simply inserting a mock/test implementation of `Authentication` into `SecurityContextHolder`. E.g. I&#39;m using JWT so I build the token as follows:\r\n```\r\nprivate fun buildAuthentication(user: User): JwtAuthenticationToken {\r\n    val unusedAttributes = mapOf(&quot;some&quot; to &quot;attribute&quot;)\r\n    val unusedHeaders = mapOf(&quot;some&quot; to &quot;header&quot;)\r\n    val claims = mapOf(&quot;sub&quot; to user.subject, &quot;email&quot; to user.email)\r\n    val authorities = listOf(OAuth2UserAuthority(&quot;ROLE_CLIENT&quot;, unusedAttributes))\r\n    val jwt = Jwt(&quot;token&quot;, null, null, unusedHeaders, claims)\r\n    return JwtAuthenticationToken(jwt, authorities)\r\n}\r\n```\r\nInstead of `ROLE_CLIENT` you can put there any role(s) your test wants to assume.\r\n\r\nYou can even create your own annotation resulting in a similar usage to `@WithMockUser`:\r\n```\r\n@WithSecurityContext(factory = TestUserSecurityContextFactory::class)\r\nannotation class WithTestUserSecurityContext\r\n\r\n\r\nclass TestUserSecurityContextFactory : WithSecurityContextFactory&lt;WithTestUserSecurityContext&gt; {\r\n    override fun createSecurityContext(annotation: WithTestUserSecurityContext) =\r\n        SecurityContextHolder.createEmptyContext().apply { authentication = buildAuthentication(TEST_USER) }\r\n    }\r\n}\r\n```","title":"Java - Integration testing GraphQL mutations secured methods with @PreAuthorize roles from Keycloak","body":"<p>For testing custom roles (or any advanced security setup) I have resorted to simply inserting a mock/test implementation of <code>Authentication</code> into <code>SecurityContextHolder</code>. E.g. I'm using JWT so I build the token as follows:</p>\n<pre><code>private fun buildAuthentication(user: User): JwtAuthenticationToken {\n    val unusedAttributes = mapOf(&quot;some&quot; to &quot;attribute&quot;)\n    val unusedHeaders = mapOf(&quot;some&quot; to &quot;header&quot;)\n    val claims = mapOf(&quot;sub&quot; to user.subject, &quot;email&quot; to user.email)\n    val authorities = listOf(OAuth2UserAuthority(&quot;ROLE_CLIENT&quot;, unusedAttributes))\n    val jwt = Jwt(&quot;token&quot;, null, null, unusedHeaders, claims)\n    return JwtAuthenticationToken(jwt, authorities)\n}\n</code></pre>\n<p>Instead of <code>ROLE_CLIENT</code> you can put there any role(s) your test wants to assume.</p>\n<p>You can even create your own annotation resulting in a similar usage to <code>@WithMockUser</code>:</p>\n<pre><code>@WithSecurityContext(factory = TestUserSecurityContextFactory::class)\nannotation class WithTestUserSecurityContext\n\n\nclass TestUserSecurityContextFactory : WithSecurityContextFactory&lt;WithTestUserSecurityContext&gt; {\n    override fun createSecurityContext(annotation: WithTestUserSecurityContext) =\n        SecurityContextHolder.createEmptyContext().apply { authentication = buildAuthentication(TEST_USER) }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2903767,"reputation":125,"user_id":2489730,"display_name":"Beast"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":555,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686580167,"creation_date":1677622294,"question_id":75597806,"body_markdown":"__What I&#39;ve got so far:__\r\n- I have working unit tests that return access denied by Spring Security which verifies that my roles are set up correctly with Keycloak.\r\n- I have successfully tested a controller that does not have Spring Security implemented and gives the expected result.\r\n- I have also tried to run the GraphQl mutation via Insomnia with a service account that has no roles get a 403 forbidden\r\n- I have also tried to run the same GraphQl mutation via Insomnia with a service account that has admin role and no role, both mutations carry out successfully. (Screenshots included)\r\n\r\n__Goal:__\r\n- I am trying to write an integration test for my Java Spring project that uses `@WithMockUser` to simulate a role from Keycloak.\r\n\r\nMethod from controller:\r\n```java\r\n  @MutationMapping\r\n  @PreAuthorize(&quot;hasRole(admin)&quot;)\r\n  public Entity addEntity(@Valid @Argument EntityInput input) {\r\n    var entity =\r\n        Entity.builder()\r\n            .name(input.getName())\r\n            .description(input.getDescription() != null ? input.getDescription() : &quot;&quot;)\r\n            .customId(input.getCustomId() != null ? input.getCustomId() : &quot;&quot;)\r\n            .notBefore(input.getNotBefore().toInstant())\r\n            .expires(input.getExpires() != null ? input.getExpires().toInstant() : null)\r\n            .entityType(input.getEntityType())\r\n            .archived(false)\r\n            .build();\r\n\r\n    return entityRepository.persistAndFlush(entity);\r\n  }\r\n```\r\n\r\nmy GraphQl Schema for testing\r\n```graphql\r\nmutation AddEntity($input: EntityInput!) {\r\n  addEntityl(input: $input) {\r\n    name\r\n    description\r\n    customId\r\n    entityType\r\n    notBefore\r\n    expires\r\n    archived\r\n  }\r\n}\r\n```\r\n\r\nMy test\r\n```java\r\n@Autowired private WebGraphQlTester graphQlTester;\r\n\r\n@WithMockUser(username = &quot;Test&quot;, roles={&quot;read_only&quot;})\r\n@Test\r\nvoid addEntity_with_readonly_role_return_403_forbidden() {\r\n var entityInput =\r\n Map.of(\r\n  &quot;customId&quot;,\r\n  &quot;Testing&quot;,\r\n  &quot;name&quot;,\r\n  &quot;Test name&quot;,\r\n  &quot;description&quot;,\r\n  &quot;Test description&quot;,\r\n  &quot;entityType&quot;,\r\n  &quot;MANUAL&quot;,\r\n  &quot;notBefore&quot;,\r\n  &quot;2023-06-28T13:37:00Z&quot;,\r\n  &quot;expires&quot;,\r\n  &quot;2023-07-04T13:37:00Z&quot;);\r\n\r\n  graphQlTester\r\n   .documentName(&quot;entities&quot;)\r\n   .operationName(&quot;AddEntity&quot;)\r\n   .variable(&quot;input&quot;, entityInput)\r\n   .execute()\r\n   .errors()\r\n   .satisfy(\r\n     errors -&gt; {\r\n      assertThat(errors).hasSize(1);\r\n      assertThat(errors.get(0).getErrorType()).isEqualTo(ErrorType.FORBIDDEN);\r\n });\r\n}\r\n```\r\n\r\nResults from Insomnia:\r\n\r\n[![With roles][1]][1]\r\n[![With no role][2]][2]\r\n\r\n  [1]: https://i.stack.imgur.com/SZx1m.png\r\n  [2]: https://i.stack.imgur.com/DCGbe.png\r\n\r\nEdit:\r\n\r\nI&#39;ve also dug a little deeper and found that WebGraphQlTester does not support @WithMockUser as it does not update the security context. If anybody has a workaround or other solution, please post.","title":"Java - Integration testing GraphQL mutations secured methods with @PreAuthorize roles from Keycloak","body":"<p><strong>What I've got so far:</strong></p>\n<ul>\n<li>I have working unit tests that return access denied by Spring Security which verifies that my roles are set up correctly with Keycloak.</li>\n<li>I have successfully tested a controller that does not have Spring Security implemented and gives the expected result.</li>\n<li>I have also tried to run the GraphQl mutation via Insomnia with a service account that has no roles get a 403 forbidden</li>\n<li>I have also tried to run the same GraphQl mutation via Insomnia with a service account that has admin role and no role, both mutations carry out successfully. (Screenshots included)</li>\n</ul>\n<p><strong>Goal:</strong></p>\n<ul>\n<li>I am trying to write an integration test for my Java Spring project that uses <code>@WithMockUser</code> to simulate a role from Keycloak.</li>\n</ul>\n<p>Method from controller:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  @MutationMapping\n  @PreAuthorize(&quot;hasRole(admin)&quot;)\n  public Entity addEntity(@Valid @Argument EntityInput input) {\n    var entity =\n        Entity.builder()\n            .name(input.getName())\n            .description(input.getDescription() != null ? input.getDescription() : &quot;&quot;)\n            .customId(input.getCustomId() != null ? input.getCustomId() : &quot;&quot;)\n            .notBefore(input.getNotBefore().toInstant())\n            .expires(input.getExpires() != null ? input.getExpires().toInstant() : null)\n            .entityType(input.getEntityType())\n            .archived(false)\n            .build();\n\n    return entityRepository.persistAndFlush(entity);\n  }\n</code></pre>\n<p>my GraphQl Schema for testing</p>\n<pre><code>mutation AddEntity($input: EntityInput!) {\n  addEntityl(input: $input) {\n    name\n    description\n    customId\n    entityType\n    notBefore\n    expires\n    archived\n  }\n}\n</code></pre>\n<p>My test</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Autowired private WebGraphQlTester graphQlTester;\n\n@WithMockUser(username = &quot;Test&quot;, roles={&quot;read_only&quot;})\n@Test\nvoid addEntity_with_readonly_role_return_403_forbidden() {\n var entityInput =\n Map.of(\n  &quot;customId&quot;,\n  &quot;Testing&quot;,\n  &quot;name&quot;,\n  &quot;Test name&quot;,\n  &quot;description&quot;,\n  &quot;Test description&quot;,\n  &quot;entityType&quot;,\n  &quot;MANUAL&quot;,\n  &quot;notBefore&quot;,\n  &quot;2023-06-28T13:37:00Z&quot;,\n  &quot;expires&quot;,\n  &quot;2023-07-04T13:37:00Z&quot;);\n\n  graphQlTester\n   .documentName(&quot;entities&quot;)\n   .operationName(&quot;AddEntity&quot;)\n   .variable(&quot;input&quot;, entityInput)\n   .execute()\n   .errors()\n   .satisfy(\n     errors -&gt; {\n      assertThat(errors).hasSize(1);\n      assertThat(errors.get(0).getErrorType()).isEqualTo(ErrorType.FORBIDDEN);\n });\n}\n</code></pre>\n<p>Results from Insomnia:</p>\n<p><a href=\"https://i.stack.imgur.com/SZx1m.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SZx1m.png\" alt=\"With roles\" /></a>\n<a href=\"https://i.stack.imgur.com/DCGbe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DCGbe.png\" alt=\"With no role\" /></a></p>\n<p>Edit:</p>\n<p>I've also dug a little deeper and found that WebGraphQlTester does not support @WithMockUser as it does not update the security context. If anybody has a workaround or other solution, please post.</p>\n"},{"tags":["java","spring-boot","swagger-ui","springdoc"],"comments":[{"owner":{"account_id":9427779,"reputation":336,"user_id":7012221,"display_name":"Abhishek"},"score":0,"creation_date":1686580574,"post_id":76453682,"comment_id":134814404,"body_markdown":"Does this answer your question? [Sort API methods in Swagger-UI](https://stackoverflow.com/questions/24951268/sort-api-methods-in-swagger-ui)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/24951268/sort-api-methods-in-swagger-ui\">Sort API methods in Swagger-UI</a>"},{"owner":{"account_id":12013090,"reputation":288,"user_id":8789080,"display_name":"Mostafa Hassan"},"score":0,"creation_date":1686637080,"post_id":76453682,"comment_id":134822217,"body_markdown":"@Ahbishek, this sort operation by alphabetics, what I want is to sort, on custom arrange (Get, Post, Patch, Delete)","body":"@Ahbishek, this sort operation by alphabetics, what I want is to sort, on custom arrange (Get, Post, Patch, Delete)"}],"owner":{"account_id":12013090,"reputation":288,"user_id":8789080,"display_name":"Mostafa Hassan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686579986,"creation_date":1686544655,"question_id":76453682,"body_markdown":"I want to sort rest api based on custom sorter depending on the rest verb, so it will be (Get, Post, Patch, and delete) under any path, How I could achieve that programmatically or via yaml configuration\r\n\r\nTech:\r\norg.springframework.boot version &#39;3.0.6&#39;\r\n\r\norg.springdoc:springdoc-openapi-starter-webmvc-ui:2.1.0","title":"Sort rest api operation - Swagger spring doc","body":"<p>I want to sort rest api based on custom sorter depending on the rest verb, so it will be (Get, Post, Patch, and delete) under any path, How I could achieve that programmatically or via yaml configuration</p>\n<p>Tech:\norg.springframework.boot version '3.0.6'</p>\n<p>org.springdoc:springdoc-openapi-starter-webmvc-ui:2.1.0</p>\n"},{"tags":["java","caching","redis","micronaut"],"comments":[{"owner":{"account_id":8351307,"reputation":344,"user_id":6273371,"accept_rate":83,"display_name":"Olesia Ilchuk"},"score":1,"creation_date":1686306202,"post_id":76439158,"comment_id":134784017,"body_markdown":"Check your Redis server configuration to ensure that key expiration is enabled. Look for the notify-keyspace-events configuration directive in your Redis configuration file (redis.conf) and make sure it includes the Ex flag. For example, notify-keyspace-events Ex.","body":"Check your Redis server configuration to ensure that key expiration is enabled. Look for the notify-keyspace-events configuration directive in your Redis configuration file (redis.conf) and make sure it includes the Ex flag. For example, notify-keyspace-events Ex."},{"owner":{"account_id":14982951,"reputation":188,"user_id":10816443,"display_name":"Ole"},"score":1,"creation_date":1686567495,"post_id":76439158,"comment_id":134811357,"body_markdown":"@OlesiaIlchuk  Thanks, it worked! If you add you comment as an answer, I will mark it as the accepted answer","body":"@OlesiaIlchuk  Thanks, it worked! If you add you comment as an answer, I will mark it as the accepted answer"}],"answers":[{"tags":[],"owner":{"account_id":8351307,"reputation":344,"user_id":6273371,"accept_rate":83,"display_name":"Olesia Ilchuk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1686579951,"creation_date":1686579951,"answer_id":76457623,"question_id":76439158,"body_markdown":"Check your Redis server configuration to ensure that key expiration is enabled. Look for the `notify-keyspace-events` configuration directive in your Redis configuration file (`redis.conf`) and make sure it includes the Ex flag. For example, `notify-keyspace-events Ex`.","title":"Why don&#39;t items expire in my Micronaut/Redis cache?","body":"<p>Check your Redis server configuration to ensure that key expiration is enabled. Look for the <code>notify-keyspace-events</code> configuration directive in your Redis configuration file (<code>redis.conf</code>) and make sure it includes the Ex flag. For example, <code>notify-keyspace-events Ex</code>.</p>\n"}],"owner":{"account_id":14982951,"reputation":188,"user_id":10816443,"display_name":"Ole"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":170,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":76457623,"answer_count":1,"score":3,"last_activity_date":1686579951,"creation_date":1686304594,"question_id":76439158,"body_markdown":"I have a Micronaut cache in Redis configured like this:\r\n\r\n```yaml\r\nredis:\r\n  uri: ${REDIS_URL:`redis://localhost`}\r\n  caches:\r\n    kyc-fenergo-service-token:\r\n      expire-after-write: 14m\r\n```\r\nI have a method annotated like this: `@Cacheable(value = &quot;kyc-fenergo-service-token&quot;)`\r\n\r\nAfter the first call, the value is cached as expected, but it never expires. Any idea why this is the case?\r\n","title":"Why don&#39;t items expire in my Micronaut/Redis cache?","body":"<p>I have a Micronaut cache in Redis configured like this:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>redis:\n  uri: ${REDIS_URL:`redis://localhost`}\n  caches:\n    kyc-fenergo-service-token:\n      expire-after-write: 14m\n</code></pre>\n<p>I have a method annotated like this: <code>@Cacheable(value = &quot;kyc-fenergo-service-token&quot;)</code></p>\n<p>After the first call, the value is cached as expected, but it never expires. Any idea why this is the case?</p>\n"},{"tags":["java","hibernate","jpa"],"comments":[{"owner":{"account_id":12425782,"reputation":8911,"user_id":9050514,"display_name":"deadshot"},"score":0,"creation_date":1681403639,"post_id":76007162,"comment_id":134054443,"body_markdown":"can you post the complete error also have you tried the scenarios you have posted","body":"can you post the complete error also have you tried the scenarios you have posted"},{"owner":{"account_id":5614670,"reputation":357,"user_id":4446448,"accept_rate":75,"display_name":"Markus"},"score":0,"creation_date":1681406728,"post_id":76007162,"comment_id":134055067,"body_markdown":"Here you are...","body":"Here you are..."},{"owner":{"account_id":12425782,"reputation":8911,"user_id":9050514,"display_name":"deadshot"},"score":0,"creation_date":1681415983,"post_id":76007162,"comment_id":134057109,"body_markdown":"I&#39;m not getting any errors with your code","body":"I&#39;m not getting any errors with your code"},{"owner":{"account_id":5614670,"reputation":357,"user_id":4446448,"accept_rate":75,"display_name":"Markus"},"score":0,"creation_date":1681463539,"post_id":76007162,"comment_id":134063799,"body_markdown":"Oh fine... so how can we find out, what I do &#39;wrong&#39; and you do &#39;right&#39;?\nWhich version of JPA do you use? Which version of DB/2 driver and database engine do you use? Which Java version do you use? (I add my pom above)","body":"Oh fine... so how can we find out, what I do &#39;wrong&#39; and you do &#39;right&#39;? Which version of JPA do you use? Which version of DB/2 driver and database engine do you use? Which Java version do you use? (I add my pom above)"},{"owner":{"account_id":12425782,"reputation":8911,"user_id":9050514,"display_name":"deadshot"},"score":0,"creation_date":1681477674,"post_id":76007162,"comment_id":134067037,"body_markdown":"issue is use you can&#39;t use default value 0 for foreign key column, because there is no entry with 0 in other table, one way to fix the issue is you can update your db schema to allow null values","body":"issue is use you can&#39;t use default value 0 for foreign key column, because there is no entry with 0 in other table, one way to fix the issue is you can update your db schema to allow null values"},{"owner":{"account_id":5614670,"reputation":357,"user_id":4446448,"accept_rate":75,"display_name":"Markus"},"score":0,"creation_date":1681491723,"post_id":76007162,"comment_id":134070643,"body_markdown":"cite from above:\n&quot;The database that is used, is already existing, it is very old and other software is using it also (for one of the apps, we do not even have source code), so we cannot easily make changes to the tables and field definitions.&quot;\nSorry.","body":"cite from above: &quot;The database that is used, is already existing, it is very old and other software is using it also (for one of the apps, we do not even have source code), so we cannot easily make changes to the tables and field definitions.&quot; Sorry."},{"owner":{"account_id":5614670,"reputation":357,"user_id":4446448,"accept_rate":75,"display_name":"Markus"},"score":0,"creation_date":1681491887,"post_id":76007162,"comment_id":134070682,"body_markdown":"Could you reproduce it now?\nIf yes, which versions did you use before, when you had no errors?","body":"Could you reproduce it now? If yes, which versions did you use before, when you had no errors?"}],"answers":[{"tags":[],"owner":{"account_id":5614670,"reputation":357,"user_id":4446448,"accept_rate":75,"display_name":"Markus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1686579640,"creation_date":1681407185,"answer_id":76008319,"question_id":76007162,"body_markdown":"I found a solution... but don&#39;t like it very much... is there a better (shorter, clearer) one?\r\n\r\nI changed my ProcessDTO:\r\n```\r\n@Entity\r\n@Table(schema = &quot;Schema1&quot;, name = &quot;Processes&quot;)\r\npublic class ProcessDTO\r\n{\r\n  @Id\r\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n  @Column(name = &quot;IDX&quot;)\r\n  private Long id = null;\r\n\r\n  @ManyToOne\r\n  @NotFound(action = NotFoundAction.IGNORE)\r\n  @JoinColumn(name = &quot;CONTRACTIDX&quot;,\r\n      insertable = false,\r\n      updatable = false,\r\n      foreignKey = @ForeignKey(ConstraintMode.NO_CONSTRAINT))\r\n  private ContractDTO contract = null;\r\n\r\n  @Column(name = &quot;CONTRACTIDX&quot;)\r\n  private Long contractId = null;\r\n\r\n  @Column(name = &quot;DATA&quot;)\r\n  private String data;\r\n\r\n  // getters and setters\r\n\r\n  @PrePersist\r\n  @PreUpdate\r\n  void beforeSave()\r\n  {\r\n    if (contract != null)\r\n    {\r\n      contractId = contract.getId();\r\n    }\r\n    else\r\n    {\r\n      contractId = 0L;\r\n    }\r\n  }\r\n\r\n  @PostLoad\r\n  void afterLoad()\r\n  {\r\n    if (contractId == 0L)\r\n    {\r\n      contractId = 0L;\r\n      contract = null;\r\n    }\r\n  }\r\n}\r\n\r\n```\r\n\r\nOne more &#39;bad thing&#39; on it is, that I need hibernate-native annotations: NotFound and NotFoundAction...\r\n\r\nI would prefer something from the jpa-interface...","title":"How can I get JPA hibernate to not adding a value NULL, when field is not set (null), when inserting into a db/2 default value field","body":"<p>I found a solution... but don't like it very much... is there a better (shorter, clearer) one?</p>\n<p>I changed my ProcessDTO:</p>\n<pre><code>@Entity\n@Table(schema = &quot;Schema1&quot;, name = &quot;Processes&quot;)\npublic class ProcessDTO\n{\n  @Id\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\n  @Column(name = &quot;IDX&quot;)\n  private Long id = null;\n\n  @ManyToOne\n  @NotFound(action = NotFoundAction.IGNORE)\n  @JoinColumn(name = &quot;CONTRACTIDX&quot;,\n      insertable = false,\n      updatable = false,\n      foreignKey = @ForeignKey(ConstraintMode.NO_CONSTRAINT))\n  private ContractDTO contract = null;\n\n  @Column(name = &quot;CONTRACTIDX&quot;)\n  private Long contractId = null;\n\n  @Column(name = &quot;DATA&quot;)\n  private String data;\n\n  // getters and setters\n\n  @PrePersist\n  @PreUpdate\n  void beforeSave()\n  {\n    if (contract != null)\n    {\n      contractId = contract.getId();\n    }\n    else\n    {\n      contractId = 0L;\n    }\n  }\n\n  @PostLoad\n  void afterLoad()\n  {\n    if (contractId == 0L)\n    {\n      contractId = 0L;\n      contract = null;\n    }\n  }\n}\n\n</code></pre>\n<p>One more 'bad thing' on it is, that I need hibernate-native annotations: NotFound and NotFoundAction...</p>\n<p>I would prefer something from the jpa-interface...</p>\n"}],"owner":{"account_id":5614670,"reputation":357,"user_id":4446448,"accept_rate":75,"display_name":"Markus"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":417,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76008319,"answer_count":1,"score":0,"last_activity_date":1686579640,"creation_date":1681399130,"question_id":76007162,"body_markdown":"I am using Java and Hibernate JPA (5.6.15.Final) to write an application to store/change/delete contracts and processing data.\r\n\r\n- two database tables in a IBM DB/2 database (simplified):\r\n```\r\nCREATE TABLE &quot;Schema1&quot;.&quot;Contracts&quot; (\r\n\t\t&quot;IDX&quot; INTEGER NOT NULL GENERATED BY DEFAULT AS IDENTITY, \r\n\t\t&quot;DATA&quot; varchar(255));\r\n\r\nCREATE TABLE &quot;Schema1&quot;.&quot;Processes&quot; (\r\n\t\t&quot;IDX&quot; INTEGER NOT NULL GENERATED BY DEFAULT AS IDENTITY, \r\n\t\t&quot;CONTRACTIDX&quot; INTEGER NOT NULL DEFAULT 0, \r\n\t\t&quot;DATA&quot; varchar(255));\r\n```\r\nThe database that is used, is already existing, it is very old and other software is using it also (for one of the apps, we do not even have source code), so we cannot easily make changes to the tables and field definitions.\r\n\r\nThe reason, why CONTRACTIDX may be 0 by default is, that it should be possible to process before there is a contract here (that means: we could also be processing, when we are in long-running contract negotiations, and we could be processing, when we already have a contract)\r\nSo valid values for CONTRACTIDX should be an existing contract id or 0 for no contract.\r\n\r\n- the entities:\r\n\r\nsrc/main/java/mypackage/ProcessDTO.java\r\n```\r\n@Entity\r\n@Table(schema = &quot;Schema1&quot;, name = &quot;Processes&quot;)\r\npublic class ProcessDTO\r\n{\r\n  @Id\r\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n  @Column(name = &quot;IDX&quot;)\r\n  private Long id = null;\r\n\r\n  @ManyToOne\r\n  @JoinColumn(name = &quot;CONTRACTIDX&quot; /* , nullable=true or nullable=false: I&#39;ve already tried that... it has no effect on the problem */)\r\n  private ContractDTO contract = null;\r\n\r\n  @Column(name=&quot;DATA&quot;)\r\n  private String data;\r\n\r\n  // getters and setters\r\n}\r\n```\r\nsrc/main/java/mypackage/ContractDTO.java\r\n```\r\n@Entity\r\n@Table(schema = &quot;SCHEMA1&quot;, name = &quot;Contracts&quot;)\r\npublic class ContractDTO {\r\n  @Id\r\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n  @Column(name = &quot;IDX&quot;)\r\n  private Long id;\r\n\r\n  @Column(name=&quot;DATA&quot;)\r\n  private String data;\r\n\r\n  // getters and setters\r\n}\r\n```\r\nsrc/main/resources/META-INF/persistence.xml:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;persistence xmlns=&quot;http://java.sun.com/xml/ns/persistence&quot;\r\n  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n  xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/persistence http://java.sun.com/xml/ns/persistence/persistence_2_0.xsd&quot;\r\n  version=&quot;2.0&quot;&gt;\r\n  &lt;persistence-unit name=&quot;myPu&quot;&gt;\r\n    &lt;jta-data-source&gt;jdbc/myDb&lt;/jta-data-source&gt;\r\n    \r\n    &lt;class&gt;mypackage.ProcessDTO&lt;/class&gt;\r\n    &lt;class&gt;mypackage.ContractDTO&lt;/class&gt;\r\n   \r\n    &lt;properties&gt;\r\n      &lt;property name=&quot;hibernate.dialect&quot; value= &quot;org.hibernate.dialect.DB2Dialect&quot; /&gt;\r\n      &lt;property name=&quot;hibernate.show_sql&quot; value=&quot;true&quot; /&gt;\r\n      &lt;property name=&quot;hibernate.format_sql&quot; value=&quot;true&quot; /&gt;\r\n    &lt;/properties&gt;\r\n  &lt;/persistence-unit&gt;\r\n&lt;/persistence&gt;\r\n```\r\nNow comes my problem:\r\nWhen running this with code like this:\r\n\r\nsrc/main/java/mypackage/Main.java:\r\n```\r\npublic class Main {\r\n\r\n  public static void main(String[] args)\r\n  {\r\n    EntityManagerFactory emf = Persistence.createEntityManagerFactory(&quot;myPu&quot;);\r\n    EntityManager em = emf.createEntityManager();\r\n\r\n    em.getTransaction()\r\n        .begin();\r\n    try\r\n    {\r\n      // case 1: there is no contract\r\n      ProcessDTO process = new ProcessDTO();\r\n      process.setData(&quot;XYZ&quot;);\r\n      em.merge(process);\r\n\r\n      // case 2: there is a contract\r\n      ContractDTO contract = new ContractDTO();\r\n      contract.setData(&quot;abc&quot;);\r\n      contract = em.merge(contract);\r\n\r\n      ProcessDTO process2 = new ProcessDTO();\r\n      process2.setContract(contract);\r\n      process2.setData(&quot;def&quot;);\r\n\r\n      em.merge(process2);\r\n    }\r\n    finally\r\n    {\r\n      em.getTransaction()\r\n          .commit();\r\n    }\r\n\r\n    em.getTransaction()\r\n        .begin();\r\n    try\r\n    {\r\n      ProcessDTO process1 = new ProcessDTO();\r\n      process1.setData(&quot;abc&quot;);\r\n      em.merge(process1);\r\n\r\n      ProcessDTO process2 = new ProcessDTO();\r\n      process2.setData(&quot;def&quot;);\r\n      em.merge(process2);\r\n    }\r\n    finally\r\n    {\r\n      em.getTransaction()\r\n          .commit();\r\n    }\r\n\r\n    em.getTransaction()\r\n        .begin();\r\n    try\r\n    {\r\n      TypedQuery&lt;ProcessDTO&gt; query =\r\n          em.createQuery(&quot;from ProcessDTO where data=&#39;abc&#39;&quot;, ProcessDTO.class);\r\n\r\n      List&lt;ProcessDTO&gt; processes = query.getResultList();\r\n      if (!processes.isEmpty())\r\n      {\r\n        ProcessDTO process = processes.get(0);\r\n        process.setData(&quot;abcdef&quot;);\r\n        process = em.merge(process);\r\n      }\r\n\r\n      TypedQuery&lt;ProcessDTO&gt; queryToDelete =\r\n          em.createQuery(&quot;from ProcessDTO where data=&#39;def&#39;&quot;, ProcessDTO.class);\r\n      List&lt;ProcessDTO&gt; processesToDelete = queryToDelete.getResultList();\r\n      if (!processesToDelete.isEmpty())\r\n      {\r\n        ProcessDTO process = processesToDelete.get(0);\r\n\r\n        em.remove(process);\r\n      }\r\n    }\r\n    finally\r\n    {\r\n      em.getTransaction()\r\n          .commit();\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nDB2 SQL Error: SQLCODE=-407, SQLSTATE=23502, SQLERRMC=TBSPACEID=3, TABLEID=24, COLNO=1, DRIVER=4.19.66\r\nThe reason for this error is, that JPA tries a statement like this:\r\n```\r\nINSERT INTO Processes(CONTRACTIDX, DATA) values (NULL, &#39;XYZ&#39;);\r\n```\r\nwhich the database doesn&#39;t allow.\r\n\r\nCase 1: &#39;there is no contract&#39; should generate something like\r\n```\r\nINSERT INTO Processes(DATA) values (&#39;XYZ&#39;);\r\n```\r\nCase 2: &#39;there is a contract&#39; should generate something like\r\n```\r\nINSERT INTO Contracts(DATA) values (&#39;abc&#39;);\r\nINSERT INTO Processes(CONTRACTIDX, DATA) values (&lt;the id value of that contract&gt;, &#39;def&#39;);\r\n```\r\n\r\nA related question: I then need a solution for the problem of processes, that have CONTRACTIX==0.\r\nThey should be accepted as if they were NULL;\r\n\r\n\r\nComplete Stacktrace of Case 1:\r\n```\r\nException in thread &quot;main&quot; javax.persistence.PersistenceException: org.hibernate.exception.ConstraintViolationException: could not execute statement\r\n\tat org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:154)\r\n\tat org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:181)\r\n\tat org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:188)\r\n\tat org.hibernate.internal.SessionImpl.fireMerge(SessionImpl.java:840)\r\n\tat org.hibernate.internal.SessionImpl.merge(SessionImpl.java:816)\r\n\tat de.continentale.mvp.jpatest001.Main.main(Main.java:39)\r\nCaused by: org.hibernate.exception.ConstraintViolationException: could not execute statement\r\n\tat org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:59)\r\n\tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:37)\r\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)\r\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99)\r\n\tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:200)\r\n\tat org.hibernate.dialect.identity.GetGeneratedKeysDelegate.executeAndExtract(GetGeneratedKeysDelegate.java:58)\r\n\tat org.hibernate.id.insert.AbstractReturningDelegate.performInsert(AbstractReturningDelegate.java:43)\r\n\tat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3279)\r\n\tat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3914)\r\n\tat org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:84)\r\n\tat org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:645)\r\n\tat org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:282)\r\n\tat org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:263)\r\n\tat org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:317)\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:329)\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:286)\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:192)\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:122)\r\n\tat org.hibernate.event.internal.DefaultMergeEventListener.saveTransientEntity(DefaultMergeEventListener.java:273)\r\n\tat org.hibernate.event.internal.DefaultMergeEventListener.entityIsTransient(DefaultMergeEventListener.java:246)\r\n\tat org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:178)\r\n\tat org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:74)\r\n\tat org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)\r\n\tat org.hibernate.internal.SessionImpl.fireMerge(SessionImpl.java:829)\r\n\t... 2 more\r\nCaused by: com.ibm.db2.jcc.am.SqlIntegrityConstraintViolationException: DB2 SQL Error: SQLCODE=-407, SQLSTATE=23502, SQLERRMC=TBSPACEID=2, TABLEID=265, COLNO=1, DRIVER=4.19.66\r\n\tat com.ibm.db2.jcc.am.kd.a(kd.java:743)\r\n\tat com.ibm.db2.jcc.am.kd.a(kd.java:66)\r\n\tat com.ibm.db2.jcc.am.kd.a(kd.java:135)\r\n\tat com.ibm.db2.jcc.am.fp.c(fp.java:2788)\r\n\tat com.ibm.db2.jcc.am.fp.a(fp.java:2236)\r\n\tat com.ibm.db2.jcc.t4.bb.o(bb.java:908)\r\n\tat com.ibm.db2.jcc.t4.bb.j(bb.java:267)\r\n\tat com.ibm.db2.jcc.t4.bb.d(bb.java:55)\r\n\tat com.ibm.db2.jcc.t4.p.c(p.java:44)\r\n\tat com.ibm.db2.jcc.t4.vb.j(vb.java:157)\r\n\tat com.ibm.db2.jcc.am.fp.nb(fp.java:2231)\r\n\tat com.ibm.db2.jcc.am.gp.b(gp.java:4542)\r\n\tat com.ibm.db2.jcc.am.gp.mc(gp.java:815)\r\n\tat com.ibm.db2.jcc.am.gp.executeUpdate(gp.java:789)\r\n\tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)\r\n\t... 21 more\r\n```\r\n\r\nMaven dependencies from pom.xml:\r\n```\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;jakarta.enterprise&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jakarta.enterprise.cdi-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.0.2&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;jakarta.inject&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jakarta.inject-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;jakarta.persistence&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jakarta.persistence-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.2.3&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.6.15.Final&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;jakarta.transaction&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jakarta.transaction-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.3.3&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.jboss.narayana.jta&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;narayana-jta&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.12.7.Final&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\n\r\nJava: openjdk version &quot;1.8.0_222&quot;\r\n\r\n\r\n\r\n\r\n\r\n","title":"How can I get JPA hibernate to not adding a value NULL, when field is not set (null), when inserting into a db/2 default value field","body":"<p>I am using Java and Hibernate JPA (5.6.15.Final) to write an application to store/change/delete contracts and processing data.</p>\n<ul>\n<li>two database tables in a IBM DB/2 database (simplified):</li>\n</ul>\n<pre><code>CREATE TABLE &quot;Schema1&quot;.&quot;Contracts&quot; (\n        &quot;IDX&quot; INTEGER NOT NULL GENERATED BY DEFAULT AS IDENTITY, \n        &quot;DATA&quot; varchar(255));\n\nCREATE TABLE &quot;Schema1&quot;.&quot;Processes&quot; (\n        &quot;IDX&quot; INTEGER NOT NULL GENERATED BY DEFAULT AS IDENTITY, \n        &quot;CONTRACTIDX&quot; INTEGER NOT NULL DEFAULT 0, \n        &quot;DATA&quot; varchar(255));\n</code></pre>\n<p>The database that is used, is already existing, it is very old and other software is using it also (for one of the apps, we do not even have source code), so we cannot easily make changes to the tables and field definitions.</p>\n<p>The reason, why CONTRACTIDX may be 0 by default is, that it should be possible to process before there is a contract here (that means: we could also be processing, when we are in long-running contract negotiations, and we could be processing, when we already have a contract)\nSo valid values for CONTRACTIDX should be an existing contract id or 0 for no contract.</p>\n<ul>\n<li>the entities:</li>\n</ul>\n<p>src/main/java/mypackage/ProcessDTO.java</p>\n<pre><code>@Entity\n@Table(schema = &quot;Schema1&quot;, name = &quot;Processes&quot;)\npublic class ProcessDTO\n{\n  @Id\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\n  @Column(name = &quot;IDX&quot;)\n  private Long id = null;\n\n  @ManyToOne\n  @JoinColumn(name = &quot;CONTRACTIDX&quot; /* , nullable=true or nullable=false: I've already tried that... it has no effect on the problem */)\n  private ContractDTO contract = null;\n\n  @Column(name=&quot;DATA&quot;)\n  private String data;\n\n  // getters and setters\n}\n</code></pre>\n<p>src/main/java/mypackage/ContractDTO.java</p>\n<pre><code>@Entity\n@Table(schema = &quot;SCHEMA1&quot;, name = &quot;Contracts&quot;)\npublic class ContractDTO {\n  @Id\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\n  @Column(name = &quot;IDX&quot;)\n  private Long id;\n\n  @Column(name=&quot;DATA&quot;)\n  private String data;\n\n  // getters and setters\n}\n</code></pre>\n<p>src/main/resources/META-INF/persistence.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;persistence xmlns=&quot;http://java.sun.com/xml/ns/persistence&quot;\n  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/persistence http://java.sun.com/xml/ns/persistence/persistence_2_0.xsd&quot;\n  version=&quot;2.0&quot;&gt;\n  &lt;persistence-unit name=&quot;myPu&quot;&gt;\n    &lt;jta-data-source&gt;jdbc/myDb&lt;/jta-data-source&gt;\n    \n    &lt;class&gt;mypackage.ProcessDTO&lt;/class&gt;\n    &lt;class&gt;mypackage.ContractDTO&lt;/class&gt;\n   \n    &lt;properties&gt;\n      &lt;property name=&quot;hibernate.dialect&quot; value= &quot;org.hibernate.dialect.DB2Dialect&quot; /&gt;\n      &lt;property name=&quot;hibernate.show_sql&quot; value=&quot;true&quot; /&gt;\n      &lt;property name=&quot;hibernate.format_sql&quot; value=&quot;true&quot; /&gt;\n    &lt;/properties&gt;\n  &lt;/persistence-unit&gt;\n&lt;/persistence&gt;\n</code></pre>\n<p>Now comes my problem:\nWhen running this with code like this:</p>\n<p>src/main/java/mypackage/Main.java:</p>\n<pre><code>public class Main {\n\n  public static void main(String[] args)\n  {\n    EntityManagerFactory emf = Persistence.createEntityManagerFactory(&quot;myPu&quot;);\n    EntityManager em = emf.createEntityManager();\n\n    em.getTransaction()\n        .begin();\n    try\n    {\n      // case 1: there is no contract\n      ProcessDTO process = new ProcessDTO();\n      process.setData(&quot;XYZ&quot;);\n      em.merge(process);\n\n      // case 2: there is a contract\n      ContractDTO contract = new ContractDTO();\n      contract.setData(&quot;abc&quot;);\n      contract = em.merge(contract);\n\n      ProcessDTO process2 = new ProcessDTO();\n      process2.setContract(contract);\n      process2.setData(&quot;def&quot;);\n\n      em.merge(process2);\n    }\n    finally\n    {\n      em.getTransaction()\n          .commit();\n    }\n\n    em.getTransaction()\n        .begin();\n    try\n    {\n      ProcessDTO process1 = new ProcessDTO();\n      process1.setData(&quot;abc&quot;);\n      em.merge(process1);\n\n      ProcessDTO process2 = new ProcessDTO();\n      process2.setData(&quot;def&quot;);\n      em.merge(process2);\n    }\n    finally\n    {\n      em.getTransaction()\n          .commit();\n    }\n\n    em.getTransaction()\n        .begin();\n    try\n    {\n      TypedQuery&lt;ProcessDTO&gt; query =\n          em.createQuery(&quot;from ProcessDTO where data='abc'&quot;, ProcessDTO.class);\n\n      List&lt;ProcessDTO&gt; processes = query.getResultList();\n      if (!processes.isEmpty())\n      {\n        ProcessDTO process = processes.get(0);\n        process.setData(&quot;abcdef&quot;);\n        process = em.merge(process);\n      }\n\n      TypedQuery&lt;ProcessDTO&gt; queryToDelete =\n          em.createQuery(&quot;from ProcessDTO where data='def'&quot;, ProcessDTO.class);\n      List&lt;ProcessDTO&gt; processesToDelete = queryToDelete.getResultList();\n      if (!processesToDelete.isEmpty())\n      {\n        ProcessDTO process = processesToDelete.get(0);\n\n        em.remove(process);\n      }\n    }\n    finally\n    {\n      em.getTransaction()\n          .commit();\n    }\n  }\n}\n</code></pre>\n<p>DB2 SQL Error: SQLCODE=-407, SQLSTATE=23502, SQLERRMC=TBSPACEID=3, TABLEID=24, COLNO=1, DRIVER=4.19.66\nThe reason for this error is, that JPA tries a statement like this:</p>\n<pre><code>INSERT INTO Processes(CONTRACTIDX, DATA) values (NULL, 'XYZ');\n</code></pre>\n<p>which the database doesn't allow.</p>\n<p>Case 1: 'there is no contract' should generate something like</p>\n<pre><code>INSERT INTO Processes(DATA) values ('XYZ');\n</code></pre>\n<p>Case 2: 'there is a contract' should generate something like</p>\n<pre><code>INSERT INTO Contracts(DATA) values ('abc');\nINSERT INTO Processes(CONTRACTIDX, DATA) values (&lt;the id value of that contract&gt;, 'def');\n</code></pre>\n<p>A related question: I then need a solution for the problem of processes, that have CONTRACTIX==0.\nThey should be accepted as if they were NULL;</p>\n<p>Complete Stacktrace of Case 1:</p>\n<pre><code>Exception in thread &quot;main&quot; javax.persistence.PersistenceException: org.hibernate.exception.ConstraintViolationException: could not execute statement\n    at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:154)\n    at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:181)\n    at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:188)\n    at org.hibernate.internal.SessionImpl.fireMerge(SessionImpl.java:840)\n    at org.hibernate.internal.SessionImpl.merge(SessionImpl.java:816)\n    at de.continentale.mvp.jpatest001.Main.main(Main.java:39)\nCaused by: org.hibernate.exception.ConstraintViolationException: could not execute statement\n    at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:59)\n    at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:37)\n    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)\n    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99)\n    at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:200)\n    at org.hibernate.dialect.identity.GetGeneratedKeysDelegate.executeAndExtract(GetGeneratedKeysDelegate.java:58)\n    at org.hibernate.id.insert.AbstractReturningDelegate.performInsert(AbstractReturningDelegate.java:43)\n    at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3279)\n    at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3914)\n    at org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:84)\n    at org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:645)\n    at org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:282)\n    at org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:263)\n    at org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:317)\n    at org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:329)\n    at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:286)\n    at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:192)\n    at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:122)\n    at org.hibernate.event.internal.DefaultMergeEventListener.saveTransientEntity(DefaultMergeEventListener.java:273)\n    at org.hibernate.event.internal.DefaultMergeEventListener.entityIsTransient(DefaultMergeEventListener.java:246)\n    at org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:178)\n    at org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:74)\n    at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)\n    at org.hibernate.internal.SessionImpl.fireMerge(SessionImpl.java:829)\n    ... 2 more\nCaused by: com.ibm.db2.jcc.am.SqlIntegrityConstraintViolationException: DB2 SQL Error: SQLCODE=-407, SQLSTATE=23502, SQLERRMC=TBSPACEID=2, TABLEID=265, COLNO=1, DRIVER=4.19.66\n    at com.ibm.db2.jcc.am.kd.a(kd.java:743)\n    at com.ibm.db2.jcc.am.kd.a(kd.java:66)\n    at com.ibm.db2.jcc.am.kd.a(kd.java:135)\n    at com.ibm.db2.jcc.am.fp.c(fp.java:2788)\n    at com.ibm.db2.jcc.am.fp.a(fp.java:2236)\n    at com.ibm.db2.jcc.t4.bb.o(bb.java:908)\n    at com.ibm.db2.jcc.t4.bb.j(bb.java:267)\n    at com.ibm.db2.jcc.t4.bb.d(bb.java:55)\n    at com.ibm.db2.jcc.t4.p.c(p.java:44)\n    at com.ibm.db2.jcc.t4.vb.j(vb.java:157)\n    at com.ibm.db2.jcc.am.fp.nb(fp.java:2231)\n    at com.ibm.db2.jcc.am.gp.b(gp.java:4542)\n    at com.ibm.db2.jcc.am.gp.mc(gp.java:815)\n    at com.ibm.db2.jcc.am.gp.executeUpdate(gp.java:789)\n    at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)\n    ... 21 more\n</code></pre>\n<p>Maven dependencies from pom.xml:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.enterprise&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.enterprise.cdi-api&lt;/artifactId&gt;\n            &lt;version&gt;2.0.2&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.inject&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.inject-api&lt;/artifactId&gt;\n            &lt;version&gt;1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.persistence&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.persistence-api&lt;/artifactId&gt;\n            &lt;version&gt;2.2.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n            &lt;version&gt;5.6.15.Final&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.transaction&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.transaction-api&lt;/artifactId&gt;\n            &lt;version&gt;1.3.3&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jboss.narayana.jta&lt;/groupId&gt;\n            &lt;artifactId&gt;narayana-jta&lt;/artifactId&gt;\n            &lt;version&gt;5.12.7.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>Java: openjdk version &quot;1.8.0_222&quot;</p>\n"},{"tags":["java","jakarta-mail"],"comments":[{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1685698125,"post_id":76388049,"comment_id":134700537,"body_markdown":"FWIW: recent updates of Java 8 (and all of 11 up) _by default_ don&#39;t support TLS1.0, but you _can_ re-enable it. However, good practice nowadays calls for _servers_ not to allow you to connect using it (or SSL3), and while not all servers follow good practice quickly, some do by now and more will over time, so upgrading your client remains a good idea.","body":"FWIW: recent updates of Java 8 (and all of 11 up) <i>by default</i> don&#39;t support TLS1.0, but you <i>can</i> re-enable it. However, good practice nowadays calls for <i>servers</i> not to allow you to connect using it (or SSL3), and while not all servers follow good practice quickly, some do by now and more will over time, so upgrading your client remains a good idea."}],"answers":[{"tags":[],"owner":{"account_id":213468,"reputation":103489,"user_id":466862,"display_name":"Mark Rotteveel"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1685708598,"creation_date":1685691532,"answer_id":76388104,"question_id":76388049,"body_markdown":"You&#39;re using the wrong dependency. You have only added the JakartaMail **API**. You should use the JakartaMail 1.6.x **implementation**:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jakarta.mail&lt;/artifactId&gt;\r\n    &lt;version&gt;1.6.7&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nThis dependency does include `com.sun.mail.util.BASE64DecoderStream`.\r\n\r\nAs an aside, instead of what you&#39;re doing now (using `getContent()` and casting to an implementation-specific class), you could also use `Part.getInputStream()`:\r\n\r\n```java\r\ntry (var in = p.getInputStream()) {\r\n    in.transferTo(output);\r\n}\r\n```\r\n\r\nAlso, your use of `DataOutputStream` is suspect, as you don&#39;t seem to be using any `DataOutputStream` specific methods, so using the `BufferedOutputStream` directly should be sufficient.","title":"&quot;BASE64DecoderStream&quot; gives error for javax-mail dependency","body":"<p>You're using the wrong dependency. You have only added the JakartaMail <strong>API</strong>. You should use the JakartaMail 1.6.x <strong>implementation</strong>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\n    &lt;artifactId&gt;jakarta.mail&lt;/artifactId&gt;\n    &lt;version&gt;1.6.7&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>This dependency does include <code>com.sun.mail.util.BASE64DecoderStream</code>.</p>\n<p>As an aside, instead of what you're doing now (using <code>getContent()</code> and casting to an implementation-specific class), you could also use <code>Part.getInputStream()</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try (var in = p.getInputStream()) {\n    in.transferTo(output);\n}\n</code></pre>\n<p>Also, your use of <code>DataOutputStream</code> is suspect, as you don't seem to be using any <code>DataOutputStream</code> specific methods, so using the <code>BufferedOutputStream</code> directly should be sufficient.</p>\n"},{"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1686579591,"creation_date":1685709735,"answer_id":76390249,"question_id":76388049,"body_markdown":"    if (p.getContentType().contains(&quot;image/&quot;)) {\r\n        Path imageFile  = Path.of(&quot;image&quot; + Instant.now().toEpochMilli() + &quot;.jpg&quot;);\r\n        try(OutputStream out = Files.newOutputStream(imageFile)) {\r\n            p.getInputStream().transferTo(out);\r\n        }\r\n    }\r\nwould illustrate the comments between me and @Mark Rotteveel. Essentially what Mark has already posted, with further adjustments to the date handling and try-with-resources","title":"&quot;BASE64DecoderStream&quot; gives error for javax-mail dependency","body":"<pre><code>if (p.getContentType().contains(&quot;image/&quot;)) {\n    Path imageFile  = Path.of(&quot;image&quot; + Instant.now().toEpochMilli() + &quot;.jpg&quot;);\n    try(OutputStream out = Files.newOutputStream(imageFile)) {\n        p.getInputStream().transferTo(out);\n    }\n}\n</code></pre>\n<p>would illustrate the comments between me and @Mark Rotteveel. Essentially what Mark has already posted, with further adjustments to the date handling and try-with-resources</p>\n"}],"owner":{"account_id":26398340,"reputation":11,"user_id":20049137,"display_name":"rob"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76388104,"answer_count":2,"score":1,"last_activity_date":1686579591,"creation_date":1685691039,"question_id":76388049,"body_markdown":"I recently changed the dependency \r\n\r\n```xml\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;javax.mail&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;mail&lt;/artifactId&gt;\r\n\t&lt;version&gt;1.4&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nto \r\n\r\n```xml\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;javax.mail&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;javax.mail-api&lt;/artifactId&gt;\r\n\t&lt;version&gt;1.6.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nbecause Java 8 doesn&#39;t support 1.4 version as it uses TLS 1.0.\r\n\r\n\r\nAfter changing the dependency this code starts giving error.\r\nError code:\r\n\r\n```java\r\nif (p.getContentType().contains(&quot;image/&quot;)) {\r\n    File f = new File(&quot;image&quot; + new Date().getTime() + &quot;.jpg&quot;);\r\n    DataOutputStream output = new DataOutputStream(\r\n    \t\tnew BufferedOutputStream(new FileOutputStream(f)));\r\n    \r\n    com.sun.mail.util.BASE64DecoderStream test = (com.sun.mail.util.BASE64DecoderStream) p\r\n    \t\t.getContent();\r\n    byte[] buffer = new byte[1024];\r\n    int bytesRead;\r\n    while ((bytesRead = test.read(buffer)) != -1) {\r\n    \toutput.write(buffer, 0, bytesRead);\r\n    }\r\n```\r\n\r\nEclipse suggestion error:\r\n\r\n```none\r\nMultiple markers at this line\r\n\t- com.sun.mail.util.BASE64DecoderStream cannot be resolved to a type\r\n\t- com.sun.mail.util.BASE64DecoderStream cannot be resolved to a type\r\n```","title":"&quot;BASE64DecoderStream&quot; gives error for javax-mail dependency","body":"<p>I recently changed the dependency</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;javax.mail&lt;/groupId&gt;\n    &lt;artifactId&gt;mail&lt;/artifactId&gt;\n    &lt;version&gt;1.4&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>to</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;javax.mail&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.mail-api&lt;/artifactId&gt;\n    &lt;version&gt;1.6.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>because Java 8 doesn't support 1.4 version as it uses TLS 1.0.</p>\n<p>After changing the dependency this code starts giving error.\nError code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (p.getContentType().contains(&quot;image/&quot;)) {\n    File f = new File(&quot;image&quot; + new Date().getTime() + &quot;.jpg&quot;);\n    DataOutputStream output = new DataOutputStream(\n            new BufferedOutputStream(new FileOutputStream(f)));\n    \n    com.sun.mail.util.BASE64DecoderStream test = (com.sun.mail.util.BASE64DecoderStream) p\n            .getContent();\n    byte[] buffer = new byte[1024];\n    int bytesRead;\n    while ((bytesRead = test.read(buffer)) != -1) {\n        output.write(buffer, 0, bytesRead);\n    }\n</code></pre>\n<p>Eclipse suggestion error:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Multiple markers at this line\n    - com.sun.mail.util.BASE64DecoderStream cannot be resolved to a type\n    - com.sun.mail.util.BASE64DecoderStream cannot be resolved to a type\n</code></pre>\n"},{"tags":["java","xml","xml-parsing","jaxb"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1686551355,"post_id":76454069,"comment_id":134808145,"body_markdown":"Is this a question or an assignment?","body":"Is this a question or an assignment?"},{"owner":{"account_id":208830,"reputation":10240,"user_id":459557,"display_name":"vanje"},"score":0,"creation_date":1686578162,"post_id":76454069,"comment_id":134813776,"body_markdown":"What is attribute namespace? To declare the default namespace you should use xmlns=&quot;...&quot;.","body":"What is attribute namespace? To declare the default namespace you should use xmlns=&quot;...&quot;."}],"answers":[{"tags":[],"owner":{"account_id":208830,"reputation":10240,"user_id":459557,"display_name":"vanje"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686579504,"creation_date":1686579504,"answer_id":76457565,"question_id":76454069,"body_markdown":"You should use the document element instead of the document for `importNode()`.\r\nAlso for the target element.\r\nHere a full example with `xmlns=&quot;...&quot;` as the correct attribute to denote the default namespace.\r\n\r\n    import javax.xml.transform.stream.StreamResult;\r\n    import java.io.IOException;\r\n    import java.io.StringReader;\r\n    import java.io.StringWriter;\r\n\r\n    public class ImportNode {\r\n      private static final String XML_A = &quot;&lt;A namespace=\\&quot;http://a.example.com\\&quot;&gt;\\n&quot; +\r\n        &quot;&lt;Document&gt;\\n&quot; +\r\n        &quot;&lt;Header&gt;...&lt;/Header&gt;\\n&quot; +\r\n        &quot;&lt;Body&gt;\\n&quot; +\r\n        &quot;&lt;/Body&gt;\\n&quot; +\r\n        &quot;&lt;/Document&gt;\\n&quot; +\r\n        &quot;&lt;/A&gt;&quot;;\r\n      private static final String XML_B = &quot;&lt;B xmlns=\\&quot;http://b.example.com\\&quot;&gt;\\n&quot; +\r\n        &quot;    &lt;BusinessHeader&gt;\\n&quot; +\r\n        &quot;    ....\\n&quot; +\r\n        &quot;    &lt;/BusinessHeader&gt;\\n&quot; +\r\n        &quot;    &lt;/B&gt;&quot;;\r\n\r\n      private static Document convertStringToXml(String xmlString) throws ParserConfigurationException, IOException, SAXException {\r\n        DocumentBuilderFactory fac = DocumentBuilderFactory.newInstance();\r\n        fac.setNamespaceAware(true);\r\n        StringReader reader = new StringReader(xmlString);\r\n        InputSource source = new InputSource(reader);\r\n        return fac.newDocumentBuilder().parse(source);\r\n      }\r\n\r\n      public static void main(String[] args) throws TransformerException, IOException, SAXException, ParserConfigurationException {\r\n        Document a = convertStringToXml(XML_A);\r\n        Document b = convertStringToXml(XML_B);\r\n\r\n        Node firstDocImportedNode = (Node) a.importNode(b.getDocumentElement(), true);\r\n        a.getDocumentElement().appendChild(firstDocImportedNode );\r\n\r\n        StringWriter writer = new StringWriter();\r\n\r\n        // print results\r\n        TransformerFactory.newInstance()\r\n            .newTransformer()\r\n            .transform(new DOMSource(a), new StreamResult(writer));\r\n\r\n        System.out.println(writer.toString());\r\n      }\r\n    }\r\n\r\nOutput is:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;&lt;A namespace=&quot;http://a.example.com&quot;&gt;\r\n    &lt;Document&gt;\r\n    &lt;Header&gt;...&lt;/Header&gt;\r\n    &lt;Body&gt;\r\n    &lt;/Body&gt;\r\n    &lt;/Document&gt;\r\n    &lt;B xmlns=&quot;http://b.example.com&quot;&gt;\r\n        &lt;BusinessHeader&gt;\r\n        ....\r\n        &lt;/BusinessHeader&gt;\r\n        &lt;/B&gt;&lt;/A&gt;\r\n","title":"Merge three xml document with different name spaces into one in Java","body":"<p>You should use the document element instead of the document for <code>importNode()</code>.\nAlso for the target element.\nHere a full example with <code>xmlns=&quot;...&quot;</code> as the correct attribute to denote the default namespace.</p>\n<pre><code>import javax.xml.transform.stream.StreamResult;\nimport java.io.IOException;\nimport java.io.StringReader;\nimport java.io.StringWriter;\n\npublic class ImportNode {\n  private static final String XML_A = &quot;&lt;A namespace=\\&quot;http://a.example.com\\&quot;&gt;\\n&quot; +\n    &quot;&lt;Document&gt;\\n&quot; +\n    &quot;&lt;Header&gt;...&lt;/Header&gt;\\n&quot; +\n    &quot;&lt;Body&gt;\\n&quot; +\n    &quot;&lt;/Body&gt;\\n&quot; +\n    &quot;&lt;/Document&gt;\\n&quot; +\n    &quot;&lt;/A&gt;&quot;;\n  private static final String XML_B = &quot;&lt;B xmlns=\\&quot;http://b.example.com\\&quot;&gt;\\n&quot; +\n    &quot;    &lt;BusinessHeader&gt;\\n&quot; +\n    &quot;    ....\\n&quot; +\n    &quot;    &lt;/BusinessHeader&gt;\\n&quot; +\n    &quot;    &lt;/B&gt;&quot;;\n\n  private static Document convertStringToXml(String xmlString) throws ParserConfigurationException, IOException, SAXException {\n    DocumentBuilderFactory fac = DocumentBuilderFactory.newInstance();\n    fac.setNamespaceAware(true);\n    StringReader reader = new StringReader(xmlString);\n    InputSource source = new InputSource(reader);\n    return fac.newDocumentBuilder().parse(source);\n  }\n\n  public static void main(String[] args) throws TransformerException, IOException, SAXException, ParserConfigurationException {\n    Document a = convertStringToXml(XML_A);\n    Document b = convertStringToXml(XML_B);\n\n    Node firstDocImportedNode = (Node) a.importNode(b.getDocumentElement(), true);\n    a.getDocumentElement().appendChild(firstDocImportedNode );\n\n    StringWriter writer = new StringWriter();\n\n    // print results\n    TransformerFactory.newInstance()\n        .newTransformer()\n        .transform(new DOMSource(a), new StreamResult(writer));\n\n    System.out.println(writer.toString());\n  }\n}\n</code></pre>\n<p>Output is:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;&lt;A namespace=&quot;http://a.example.com&quot;&gt;\n&lt;Document&gt;\n&lt;Header&gt;...&lt;/Header&gt;\n&lt;Body&gt;\n&lt;/Body&gt;\n&lt;/Document&gt;\n&lt;B xmlns=&quot;http://b.example.com&quot;&gt;\n    &lt;BusinessHeader&gt;\n    ....\n    &lt;/BusinessHeader&gt;\n    &lt;/B&gt;&lt;/A&gt;\n</code></pre>\n"}],"owner":{"account_id":898648,"reputation":10303,"user_id":935374,"accept_rate":50,"display_name":"Abhishek Singh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1686579504,"creation_date":1686551290,"question_id":76454069,"body_markdown":"I have 3 different xml Strings(Not Files Strings in JVM). Sample Given below\r\n\r\n**A.xml**\r\n\r\n    &lt;A namespace=&quot;A..&quot;&gt;\r\n    &lt;Document&gt;\r\n    &lt;Header&gt;...&lt;/Header&gt;\r\n    &lt;Body&gt;\r\n    &lt;/Body&gt;\r\n    &lt;/Document&gt;\r\n    &lt;/A&gt;\r\n\r\n\r\n**B.xml**\r\n\r\n      &lt;B namespace=&quot;B...&quot;&gt;\r\n        &lt;BusinessHeader&gt;\r\n        ....\r\n        &lt;/BusinessHeader&gt;\r\n        &lt;/B&gt;\r\n\r\n**C.xml**\r\n\r\n    &lt;C namespace=&quot;C..&quot;&gt;\r\n    &lt;BusinessBody&gt;\r\n    \r\n    &lt;/BusinessBody&gt;\r\n    &lt;/C&gt;\r\n\r\n\r\nI want the content of B and C to go inside the `&lt;Body&gt;` tag of A along with the namespaces. See `Result.xml`\r\n\r\n**Result.xml**\r\n\r\n      &lt;A namespace=&quot;A..&quot;&gt;\r\n        &lt;Document&gt;\r\n        &lt;Header&gt;...&lt;/Header&gt;\r\n        &lt;Body&gt;\r\n        &lt;B namespace=&quot;B...&quot;&gt;\r\n        &lt;BusinessHeader&gt;\r\n        ....\r\n        &lt;/BusinessHeader&gt;\r\n        &lt;/B&gt;\r\n        &lt;C namespace=&quot;C..&quot;&gt;\r\n        &lt;BusinessBody&gt;\r\n    \r\n        &lt;/BusinessBody&gt;\r\n        &lt;/C&gt;\r\n        &lt;/Body&gt;\r\n        &lt;/Document&gt;\r\n        &lt;/A&gt;\r\n\r\nI tried doing this but I get the following error.\r\n\r\n    org.w3c.dom.Document a = convertStringToXml(transmissionReportPayload);\r\n    org.w3c.dom.Document b = convertStringToXml(headerPayLoad);\r\n    org.w3c.dom.Document c = convertStringToXml(documentPayload);\r\n    \r\n\r\n    Node firstDocImportedNode = (Node) a.importNode(b, true);\r\n    a.appendChild(firstDocImportedNode );\r\n\r\n\r\n    StringWriter writer = new StringWriter();\r\n\r\n    // print results\r\n    TransformerFactory.newInstance()\r\n            .newTransformer()\r\n            .transform(new DOMSource(a), new StreamResult(writer));\r\n\r\n    return  writer.toString();\r\n\r\n\r\n\r\nI get the following the error. \r\n\r\n    org.w3c.dom.DOMException: NOT_SUPPORTED_ERR: The implementation does not support the requested type of object or operation. \r\n    \r\n    \tat com.sun.org.apache.xerces.internal.dom.CoreDocumentImpl.importNode(CoreDocumentImpl.java:1767)\r\n    \tat com.sun.org.apache.xerces.internal.dom.CoreDocumentImpl.importNode(CoreDocumentImpl.java:1533)\r\n    \tat za.co.fnb.gts.iso.simulator.pacs002.Pacs002ResponseConverter.createXML(Pacs002ResponseConverter.java:89)\r\n    \tat za.co.fnb.gts.iso.simulator.pacs002.Pacs002ResponseConverter.convertPacs002ResponseToPayload(Pacs002ResponseConverter.java:73)\r\n","title":"Merge three xml document with different name spaces into one in Java","body":"<p>I have 3 different xml Strings(Not Files Strings in JVM). Sample Given below</p>\n<p><strong>A.xml</strong></p>\n<pre><code>&lt;A namespace=&quot;A..&quot;&gt;\n&lt;Document&gt;\n&lt;Header&gt;...&lt;/Header&gt;\n&lt;Body&gt;\n&lt;/Body&gt;\n&lt;/Document&gt;\n&lt;/A&gt;\n</code></pre>\n<p><strong>B.xml</strong></p>\n<pre><code>  &lt;B namespace=&quot;B...&quot;&gt;\n    &lt;BusinessHeader&gt;\n    ....\n    &lt;/BusinessHeader&gt;\n    &lt;/B&gt;\n</code></pre>\n<p><strong>C.xml</strong></p>\n<pre><code>&lt;C namespace=&quot;C..&quot;&gt;\n&lt;BusinessBody&gt;\n\n&lt;/BusinessBody&gt;\n&lt;/C&gt;\n</code></pre>\n<p>I want the content of B and C to go inside the <code>&lt;Body&gt;</code> tag of A along with the namespaces. See <code>Result.xml</code></p>\n<p><strong>Result.xml</strong></p>\n<pre><code>  &lt;A namespace=&quot;A..&quot;&gt;\n    &lt;Document&gt;\n    &lt;Header&gt;...&lt;/Header&gt;\n    &lt;Body&gt;\n    &lt;B namespace=&quot;B...&quot;&gt;\n    &lt;BusinessHeader&gt;\n    ....\n    &lt;/BusinessHeader&gt;\n    &lt;/B&gt;\n    &lt;C namespace=&quot;C..&quot;&gt;\n    &lt;BusinessBody&gt;\n\n    &lt;/BusinessBody&gt;\n    &lt;/C&gt;\n    &lt;/Body&gt;\n    &lt;/Document&gt;\n    &lt;/A&gt;\n</code></pre>\n<p>I tried doing this but I get the following error.</p>\n<pre><code>org.w3c.dom.Document a = convertStringToXml(transmissionReportPayload);\norg.w3c.dom.Document b = convertStringToXml(headerPayLoad);\norg.w3c.dom.Document c = convertStringToXml(documentPayload);\n\n\nNode firstDocImportedNode = (Node) a.importNode(b, true);\na.appendChild(firstDocImportedNode );\n\n\nStringWriter writer = new StringWriter();\n\n// print results\nTransformerFactory.newInstance()\n        .newTransformer()\n        .transform(new DOMSource(a), new StreamResult(writer));\n\nreturn  writer.toString();\n</code></pre>\n<p>I get the following the error.</p>\n<pre><code>org.w3c.dom.DOMException: NOT_SUPPORTED_ERR: The implementation does not support the requested type of object or operation. \n\n    at com.sun.org.apache.xerces.internal.dom.CoreDocumentImpl.importNode(CoreDocumentImpl.java:1767)\n    at com.sun.org.apache.xerces.internal.dom.CoreDocumentImpl.importNode(CoreDocumentImpl.java:1533)\n    at za.co.fnb.gts.iso.simulator.pacs002.Pacs002ResponseConverter.createXML(Pacs002ResponseConverter.java:89)\n    at za.co.fnb.gts.iso.simulator.pacs002.Pacs002ResponseConverter.convertPacs002ResponseToPayload(Pacs002ResponseConverter.java:73)\n</code></pre>\n"},{"tags":["java","selenium-webdriver","noclassdeffounderror"],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686578224,"creation_date":1686577841,"answer_id":76457339,"question_id":76456839,"body_markdown":"Using _Firefox_ and _GeckoDriver_\r\n---------------------------------\r\nUsing [Selenium](https://stackoverflow.com/a/54482491/7429447) _**v4.10.0**_, [GeckoDriver](https://stackoverflow.com/a/45331403/7429447) _**v0.33.0**_ and [tag:firefox] _**v114.0.1**_ you can use the minimum code block:\r\n\r\n\tWebDriver driver = new FirefoxDriver();\r\n\tdriver.get(&quot;https://www.selenium.dev/&quot;);\r\n\t\r\nConsole Output:\r\n\r\n\tJun 11, 2023 3:58:24 AM org.openqa.selenium.remote.service.DriverService$Builder getLogOutput\r\n\tINFO: Driver logs no longer sent to console by default; https://www.selenium.dev/documentation/webdriver/drivers/service/#setting-log-output\r\n\r\n\r\n----------\r\n\r\n\r\n\t\r\nUsing _Chrome_ and _ChromeDriver_\r\n---------------------------------\r\nUsing [Selenium](https://stackoverflow.com/a/54482491/7429447) _**v4.10.0**_, [ChromeDriver](https://stackoverflow.com/a/59927747/7429447) _**v114.0**_ and [tag:google-chrome] _**v114.0**_ you can use the minimum code block:\r\n\r\n\tChromeOptions options = new ChromeOptions();\r\n\toptions.addArguments(&quot;--start-maximized&quot;);\r\n\toptions.addArguments(&quot;--remote-allow-origins=*&quot;);\r\n\tWebDriver driver = new ChromeDriver(options);\r\n\tdriver.get(&quot;https://www.selenium.dev/&quot;);\r\n\t\r\nConsole Output:\r\n\r\n\tJun 11, 2023 3:58:24 AM org.openqa.selenium.remote.service.DriverService$Builder getLogOutput\r\n\tINFO: Driver logs no longer sent to console by default; https://www.selenium.dev/documentation/webdriver/drivers/service/#setting-log-output","title":"Upgrading Selenium version to 4.8.3 throws java.lang.NoClassDefFoundError: org/openqa/selenium/ElementNotVisibleException","body":"<h2>Using <em>Firefox</em> and <em>GeckoDriver</em></h2>\n<p>Using <a href=\"https://stackoverflow.com/a/54482491/7429447\">Selenium</a> <em><strong>v4.10.0</strong></em>, <a href=\"https://stackoverflow.com/a/45331403/7429447\">GeckoDriver</a> <em><strong>v0.33.0</strong></em> and <a href=\"/questions/tagged/firefox\" class=\"post-tag\" title=\"show questions tagged &#39;firefox&#39;\" aria-label=\"show questions tagged &#39;firefox&#39;\" rel=\"tag\" aria-labelledby=\"tag-firefox-tooltip-container\">firefox</a> <em><strong>v114.0.1</strong></em> you can use the minimum code block:</p>\n<pre><code>WebDriver driver = new FirefoxDriver();\ndriver.get(&quot;https://www.selenium.dev/&quot;);\n</code></pre>\n<p>Console Output:</p>\n<pre><code>Jun 11, 2023 3:58:24 AM org.openqa.selenium.remote.service.DriverService$Builder getLogOutput\nINFO: Driver logs no longer sent to console by default; https://www.selenium.dev/documentation/webdriver/drivers/service/#setting-log-output\n</code></pre>\n<hr />\n<h2>Using <em>Chrome</em> and <em>ChromeDriver</em></h2>\n<p>Using <a href=\"https://stackoverflow.com/a/54482491/7429447\">Selenium</a> <em><strong>v4.10.0</strong></em>, <a href=\"https://stackoverflow.com/a/59927747/7429447\">ChromeDriver</a> <em><strong>v114.0</strong></em> and <a href=\"/questions/tagged/google-chrome\" class=\"post-tag\" title=\"show questions tagged &#39;google-chrome&#39;\" aria-label=\"show questions tagged &#39;google-chrome&#39;\" rel=\"tag\" aria-labelledby=\"tag-google-chrome-tooltip-container\">google-chrome</a> <em><strong>v114.0</strong></em> you can use the minimum code block:</p>\n<pre><code>ChromeOptions options = new ChromeOptions();\noptions.addArguments(&quot;--start-maximized&quot;);\noptions.addArguments(&quot;--remote-allow-origins=*&quot;);\nWebDriver driver = new ChromeDriver(options);\ndriver.get(&quot;https://www.selenium.dev/&quot;);\n</code></pre>\n<p>Console Output:</p>\n<pre><code>Jun 11, 2023 3:58:24 AM org.openqa.selenium.remote.service.DriverService$Builder getLogOutput\nINFO: Driver logs no longer sent to console by default; https://www.selenium.dev/documentation/webdriver/drivers/service/#setting-log-output\n</code></pre>\n"}],"owner":{"account_id":28710894,"reputation":1,"user_id":21986412,"display_name":"lalexa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":266,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686579174,"creation_date":1686574190,"question_id":76456839,"body_markdown":"After I&#39;ve upgraded Selenium version to `4.8.3` I&#39;m no longer able to run my tests as I receive the following error: \r\n````\r\njava.lang.NoClassDefFoundError: org/openqa/selenium/ElementNotVisibleException\r\n````\r\nHas anyone encountered this issue and knows a fix? I&#39;m using Intelij.\r\n\r\nIt is definitely something related to the Selenium version. I want to upgrade so I am able to run the tests locally again as with old selenium versions I&#39;m receiving the `java.io.IOException: Invalid Status code=403 text=Forbidden`","title":"Upgrading Selenium version to 4.8.3 throws java.lang.NoClassDefFoundError: org/openqa/selenium/ElementNotVisibleException","body":"<p>After I've upgraded Selenium version to <code>4.8.3</code> I'm no longer able to run my tests as I receive the following error:</p>\n<pre><code>java.lang.NoClassDefFoundError: org/openqa/selenium/ElementNotVisibleException\n</code></pre>\n<p>Has anyone encountered this issue and knows a fix? I'm using Intelij.</p>\n<p>It is definitely something related to the Selenium version. I want to upgrade so I am able to run the tests locally again as with old selenium versions I'm receiving the <code>java.io.IOException: Invalid Status code=403 text=Forbidden</code></p>\n"},{"tags":["java","spring-test"],"answers":[{"tags":[],"owner":{"account_id":165479,"reputation":30116,"user_id":388980,"display_name":"Sam Brannen"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1340723736,"creation_date":1340723736,"answer_id":11210513,"question_id":11202535,"body_markdown":"No, there is currently no way to have `ApplicationContext` loading aborted on the first failure with existing hook-ins.\r\n\r\nFeel free to [create a JIRA issue][1] against the **SPR** project and the **Test** component with your suggestions.\r\n\r\nRegards,\r\n\r\nSam (author of the Spring TestContext Framework)\r\n\r\n\r\n  [1]: https://jira.springsource.org/secure/CreateIssue.jspa?pid=10000&amp;issuetype=4","title":"Ability to avoid repeated load of application context in spring TestContext via DependencyInjectionTestExecutionListener","body":"<p>No, there is currently no way to have <code>ApplicationContext</code> loading aborted on the first failure with existing hook-ins.</p>\n\n<p>Feel free to <a href=\"https://jira.springsource.org/secure/CreateIssue.jspa?pid=10000&amp;issuetype=4\" rel=\"nofollow\">create a JIRA issue</a> against the <strong>SPR</strong> project and the <strong>Test</strong> component with your suggestions.</p>\n\n<p>Regards,</p>\n\n<p>Sam (author of the Spring TestContext Framework)</p>\n"},{"tags":[],"owner":{"account_id":165479,"reputation":30116,"user_id":388980,"display_name":"Sam Brannen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686577970,"creation_date":1686577970,"answer_id":76457354,"question_id":11202535,"body_markdown":"*(This answer supersedes my previous, outdated answer)*\r\n\r\nI just implemented built-in support for a &quot;test context failure threshold&quot; in Spring Framework 6.1 M1.\r\n\r\n&gt; As of Spring Framework 6.1, a context *failure threshold* policy is in place which helps avoid repeated attempts to load a failing `ApplicationContext`. By default, the failure threshold is set to `1` which means that only one attempt will be made to load an `ApplicationContext` for a given context cache key. Any subsequent attempt to load the `ApplicationContext` for the same context cache key will result in an immediate `IllegalStateException` with an error message which explains that the attempt was preemptively skipped.\r\n\r\nFor further details, consult the Spring Framework [reference manual][1].\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/reference/6.1-SNAPSHOT/testing/testcontext-framework/ctx-management/failure-threshold.html","title":"Ability to avoid repeated load of application context in spring TestContext via DependencyInjectionTestExecutionListener","body":"<p><em>(This answer supersedes my previous, outdated answer)</em></p>\n<p>I just implemented built-in support for a &quot;test context failure threshold&quot; in Spring Framework 6.1 M1.</p>\n<blockquote>\n<p>As of Spring Framework 6.1, a context <em>failure threshold</em> policy is in place which helps avoid repeated attempts to load a failing <code>ApplicationContext</code>. By default, the failure threshold is set to <code>1</code> which means that only one attempt will be made to load an <code>ApplicationContext</code> for a given context cache key. Any subsequent attempt to load the <code>ApplicationContext</code> for the same context cache key will result in an immediate <code>IllegalStateException</code> with an error message which explains that the attempt was preemptively skipped.</p>\n</blockquote>\n<p>For further details, consult the Spring Framework <a href=\"https://docs.spring.io/spring-framework/reference/6.1-SNAPSHOT/testing/testcontext-framework/ctx-management/failure-threshold.html\" rel=\"nofollow noreferrer\">reference manual</a>.</p>\n"}],"owner":{"account_id":468218,"reputation":2281,"user_id":874076,"accept_rate":84,"display_name":"Kilokahn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":686,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":11210513,"answer_count":2,"score":4,"last_activity_date":1686577970,"creation_date":1340695535,"question_id":11202535,"body_markdown":"Lets say I have a test class called ServiceTest with three test methods test1, test2 and test3. All three methods use some resources which are provided by spring. In the current state of affairs, if there is a problem with the loading of the spring context, the context load is retried for each test method. Is there a way that I can have it aborted on the first failure itself with existing hook-ins? There might be good reasons behind it - but I fail to appreciate it. Any pointers would be helpful. The real problem is that the context load takes a few minutes and is useless to keep reattempting to load context if it has already failed for the first time and only seeks to prolong the time that the CI engine takes to report failures.\r\n\r\nI was thinking of proposing a patch to spring guys that can maintain an attempt map in org.springframework.test.context.TestContext which can be used to track attempts made and refrain from trying over and over again. Thoughts?\r\n\r\n    @RunWith(SpringJUnit4ClassRunner.class)\r\n    @ContextConfiguration(locations = { &quot;classpath:com/kilo/spring/test-context.xml&quot; })\r\n    public class ServiceTest {\r\n\r\n    @Resource(name = &quot;fibonacciService&quot;)\r\n    private FibonacciService fibonacciService;\r\n\r\n    @Test\r\n    public void test1() {\r\n        long fibonacci = fibonacciService.getFibonacci(5);\r\n    }\r\n\r\n    @Test\r\n    public void test2() {\r\n        long fibonacci = fibonacciService.getFibonacci(4);\r\n    }\r\n\r\n    @Test\r\n    public void test3() {\r\n        long fibonacci = fibonacciService.getFibonacci(6);\r\n    }\r\n","title":"Ability to avoid repeated load of application context in spring TestContext via DependencyInjectionTestExecutionListener","body":"<p>Lets say I have a test class called ServiceTest with three test methods test1, test2 and test3. All three methods use some resources which are provided by spring. In the current state of affairs, if there is a problem with the loading of the spring context, the context load is retried for each test method. Is there a way that I can have it aborted on the first failure itself with existing hook-ins? There might be good reasons behind it - but I fail to appreciate it. Any pointers would be helpful. The real problem is that the context load takes a few minutes and is useless to keep reattempting to load context if it has already failed for the first time and only seeks to prolong the time that the CI engine takes to report failures.</p>\n\n<p>I was thinking of proposing a patch to spring guys that can maintain an attempt map in org.springframework.test.context.TestContext which can be used to track attempts made and refrain from trying over and over again. Thoughts?</p>\n\n<pre><code>@RunWith(SpringJUnit4ClassRunner.class)\n@ContextConfiguration(locations = { \"classpath:com/kilo/spring/test-context.xml\" })\npublic class ServiceTest {\n\n@Resource(name = \"fibonacciService\")\nprivate FibonacciService fibonacciService;\n\n@Test\npublic void test1() {\n    long fibonacci = fibonacciService.getFibonacci(5);\n}\n\n@Test\npublic void test2() {\n    long fibonacci = fibonacciService.getFibonacci(4);\n}\n\n@Test\npublic void test3() {\n    long fibonacci = fibonacciService.getFibonacci(6);\n}\n</code></pre>\n"},{"tags":["java","spring-boot","spring-security","microservices"],"comments":[{"owner":{"account_id":1515381,"reputation":958,"user_id":1416490,"accept_rate":72,"display_name":"zt9788"},"score":0,"creation_date":1686557905,"post_id":76454676,"comment_id":134809315,"body_markdown":"javax package ===&gt; jakarta","body":"javax package ===&gt; jakarta"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1686558702,"post_id":76454676,"comment_id":134809482,"body_markdown":"SpringBoot 3.x supports Jakarta-EE rather than Java-EE.  You need to change the code that is using the `javax.servlet.*` classes to use `jakarta.servlet.*` instead.","body":"SpringBoot 3.x supports Jakarta-EE rather than Java-EE.  You need to change the code that is using the <code>javax.servlet.*</code> classes to use <code>jakarta.servlet.*</code> instead."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1686559070,"post_id":76454676,"comment_id":134809561,"body_markdown":"If you are using SpringBoot 3.x (Jakarta-EE) you also need to upgrade to Spring Framework 6.0.","body":"If you are using SpringBoot 3.x (Jakarta-EE) you also need to upgrade to Spring Framework 6.0."},{"owner":{"account_id":22069594,"reputation":11,"user_id":16330827,"display_name":"suresh"},"score":0,"creation_date":1686559963,"post_id":76454676,"comment_id":134809744,"body_markdown":"Thanks for the reply, I see @EnableWebSecurity internally calling WebSecurityConfiguration class, which has following package :org.springframework.security.config.annotation.web.configuration;\nimport javax.servlet.Filter;\nso how to change here javax .servlet.Filter to Jakarta?","body":"Thanks for the reply, I see @EnableWebSecurity internally calling WebSecurityConfiguration class, which has following package :org.springframework.security.config.annotation.web.configur&zwnj;&#8203;ation; import javax.servlet.Filter; so how to change here javax .servlet.Filter to Jakarta?"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1686561737,"post_id":76454676,"comment_id":134810158,"body_markdown":"Replace your SpringSecurity 5.x dependencies with 6.x","body":"Replace your SpringSecurity 5.x dependencies with 6.x"},{"owner":{"account_id":22069594,"reputation":11,"user_id":16330827,"display_name":"suresh"},"score":0,"creation_date":1686576157,"post_id":76454676,"comment_id":134813314,"body_markdown":"thanks updating springSecurity dependencies with 6.x worked but cors(), csrf(), httpBasic shows  &quot;deprecated and marked for removal&quot; for below method:\n\npublic SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http\n                .csrf().disable()\n                .authorizeRequests().anyRequest().authenticated()\n                .and().cors().disable()\n                .httpBasic();","body":"thanks updating springSecurity dependencies with 6.x worked but cors(), csrf(), httpBasic shows  &quot;deprecated and marked for removal&quot; for below method:  public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {         http                 .csrf().disable()                 .authorizeRequests().anyRequest().authenticated()                 .and().cors().disable()                 .httpBasic();"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1686584543,"post_id":76454676,"comment_id":134815394,"body_markdown":"So rewrite the code that uses the deprecated methods.  Start by reading the deprecation notices (in the javadocs) to see if they suggest alternatives.","body":"So rewrite the code that uses the deprecated methods.  Start by reading the deprecation notices (in the javadocs) to see if they suggest alternatives."},{"owner":{"account_id":434398,"reputation":473,"user_id":820345,"display_name":"Lokesh Gupta"},"score":0,"creation_date":1686660434,"post_id":76454676,"comment_id":134827086,"body_markdown":"This change will require you to rename all javax.* imports to jakarta.* imports. https://howtodoinjava.com/java/whats-new-spring-6-spring-boot-3/","body":"This change will require you to rename all javax.* imports to jakarta.* imports. <a href=\"https://howtodoinjava.com/java/whats-new-spring-6-spring-boot-3/\" rel=\"nofollow noreferrer\">howtodoinjava.com/java/whats-new-spring-6-spring-boot-3</a>"}],"owner":{"account_id":22069594,"reputation":11,"user_id":16330827,"display_name":"suresh"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":753,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1686577855,"creation_date":1686557332,"question_id":76454676,"body_markdown":"I am using java17 with spring boot 3.0.0 version in my application. I have done the following configuration for spring security in web application. I have migrated java11 to java17 and using spring boot version as 3 and after that getting those errors.\r\n\r\nI migrated java11 to java 17 and using updated spring boot version and after that upgradation I got the below errors.\r\n\r\npackage com.book.config;\r\n```\r\nimport org.springframework.beans.factory.annotation.Autowired; import org.springframework.context.annotation.Bean; import org.springframework.context.annotation.Configuration; import org.springframework.security.config.annotation.method.configuration.EnableGlobalMethodSecurity; import org.springframework.security.config.annotation.web.builders.HttpSecurity; import org.springframework.security.config.annotation.web.configuration.EnableWebSecurity; import org.springframework.security.web.SecurityFilterChain;\r\n\r\n@EnableWebSecurity @Configuration public class WebSecurityConfig { @Bean public SecurityFilterChain filterChain(HttpSecurity http) throws Exception { http .csrf().disable() .authorizeRequests().anyRequest().authenticated() .and().cors().disable() .httpBasic(); return http.build(); } }\r\n```\r\nFollowing are the gradle dependencies, we are using:\r\n```\r\nplugins { id &#39;org.springframework.boot&#39; version &#39;3.0.1&#39; id &#39;io.spring.dependency-management&#39; version &#39;1.1.0&#39; id &#39;java&#39; }\r\n\r\nsourceCompatibility = &#39;17&#39;\r\n\r\ndependencies { implementation (&#39;org.springframework.boot:spring-boot-starter-actuator&#39;) implementation (&quot;org.springframework.boot:spring-boot-starter-data-mongodb&quot;) implementation (&#39;org.springframework.boot:spring-boot-starter-web&#39;) implementation &#39;org.springframework.security:spring-security-config:5.5.7&#39; implementation &#39;org.springframework.security:spring-security-web:5.5.7&#39; implementation &#39;org.springframework.security:spring-security-crypto:5.7.0&#39; implementation &#39;org.springframework.data:spring-data-mongodb&#39; }\r\n```\r\nError description:\r\n```\r\nCaused by: java.lang.NoClassDefFoundError: javax/servlet/Filter at java.base/java.lang.Class.getDeclaredMethods0(Native Method) \\~\\[na:na\\] at java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3402) \\~\\[na:na\\] at java.base/java.lang.Class.getDeclaredMethods(Class.java:2504) \\~\\[na:na\\] at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:465) \\~\\[spring-core-6.0.4.jar:6.0.4\\] ... 21 common frames omitted Caused by: java.lang.ClassNotFoundException: javax.servlet.Filter at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) \\~\\[na:na\\] at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) \\~\\[na:na\\] at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) \\~\\[na:na\\] ... 25 common frames omitted\r\n\r\nCaused by: java.lang.NoClassDefFoundError: javax/servlet/Filter\r\n\r\nCaused by: java.lang.ClassNotFoundException: javax.servlet.Filter\r\n\r\nCaused by: java.lang.NoClassDefFoundError: javax/servlet/Filter\r\n\r\nCaused by: java.lang.ClassNotFoundException: javax.servlet.Filter&#39;\r\n```\r\nI have tried to add javax-servlet dependency, that did not work. what is the issue and what can be update to fix the error?","title":"Spring Security error java.lang.NoClassDefFoundError: javax/servlet/Filter","body":"<p>I am using java17 with spring boot 3.0.0 version in my application. I have done the following configuration for spring security in web application. I have migrated java11 to java17 and using spring boot version as 3 and after that getting those errors.</p>\n<p>I migrated java11 to java 17 and using updated spring boot version and after that upgradation I got the below errors.</p>\n<p>package com.book.config;</p>\n<pre><code>import org.springframework.beans.factory.annotation.Autowired; import org.springframework.context.annotation.Bean; import org.springframework.context.annotation.Configuration; import org.springframework.security.config.annotation.method.configuration.EnableGlobalMethodSecurity; import org.springframework.security.config.annotation.web.builders.HttpSecurity; import org.springframework.security.config.annotation.web.configuration.EnableWebSecurity; import org.springframework.security.web.SecurityFilterChain;\n\n@EnableWebSecurity @Configuration public class WebSecurityConfig { @Bean public SecurityFilterChain filterChain(HttpSecurity http) throws Exception { http .csrf().disable() .authorizeRequests().anyRequest().authenticated() .and().cors().disable() .httpBasic(); return http.build(); } }\n</code></pre>\n<p>Following are the gradle dependencies, we are using:</p>\n<pre><code>plugins { id 'org.springframework.boot' version '3.0.1' id 'io.spring.dependency-management' version '1.1.0' id 'java' }\n\nsourceCompatibility = '17'\n\ndependencies { implementation ('org.springframework.boot:spring-boot-starter-actuator') implementation (&quot;org.springframework.boot:spring-boot-starter-data-mongodb&quot;) implementation ('org.springframework.boot:spring-boot-starter-web') implementation 'org.springframework.security:spring-security-config:5.5.7' implementation 'org.springframework.security:spring-security-web:5.5.7' implementation 'org.springframework.security:spring-security-crypto:5.7.0' implementation 'org.springframework.data:spring-data-mongodb' }\n</code></pre>\n<p>Error description:</p>\n<pre><code>Caused by: java.lang.NoClassDefFoundError: javax/servlet/Filter at java.base/java.lang.Class.getDeclaredMethods0(Native Method) \\~\\[na:na\\] at java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3402) \\~\\[na:na\\] at java.base/java.lang.Class.getDeclaredMethods(Class.java:2504) \\~\\[na:na\\] at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:465) \\~\\[spring-core-6.0.4.jar:6.0.4\\] ... 21 common frames omitted Caused by: java.lang.ClassNotFoundException: javax.servlet.Filter at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) \\~\\[na:na\\] at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) \\~\\[na:na\\] at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) \\~\\[na:na\\] ... 25 common frames omitted\n\nCaused by: java.lang.NoClassDefFoundError: javax/servlet/Filter\n\nCaused by: java.lang.ClassNotFoundException: javax.servlet.Filter\n\nCaused by: java.lang.NoClassDefFoundError: javax/servlet/Filter\n\nCaused by: java.lang.ClassNotFoundException: javax.servlet.Filter'\n</code></pre>\n<p>I have tried to add javax-servlet dependency, that did not work. what is the issue and what can be update to fix the error?</p>\n"},{"tags":["java","postgresql","spring-boot","spring-data-jpa","database-partitioning"],"answers":[{"tags":[],"owner":{"account_id":23045737,"reputation":1,"user_id":17163319,"display_name":"Yago"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1686577274,"creation_date":1686577274,"answer_id":76457258,"question_id":76341826,"body_markdown":"I managed to solve it by updating Spring Boot to the latest version and adding the following dependency in pom.xml:\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n    \t&lt;version&gt;6.2.3.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"Problem involving partitioned table + Spring Boot: GenerationTarget encountered exception accepting command : Error executing DDL &quot;create table","body":"<p>I managed to solve it by updating Spring Boot to the latest version and adding the following dependency in pom.xml:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n    &lt;version&gt;6.2.3.Final&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":23045737,"reputation":1,"user_id":17163319,"display_name":"Yago"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":336,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76457258,"answer_count":1,"score":0,"last_activity_date":1686577274,"creation_date":1685111758,"question_id":76341826,"body_markdown":"I&#39;m working with partitioned tables using Postgres and Spring Boot. I managed to create the partition, and in the tests I performed, the GET and POST methods are working as intended. \r\n\r\nHowever, I need help resolving the following error that occurs when I start the application:\r\n\r\n\r\n**GenerationTarget encountered exception accepting command : Error executing DDL &quot;create table example (date_cd date not null, id int4 not null, name \r\nvarchar(255), primary key (date_cd, id))&quot; via JDBC Statement\r\norg.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;create table example (date_cd date not null, id int4 not null, name varchar(255), primary key (date_cd, id))&quot; via JDBC Statement\r\nat org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67) \r\n~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]**\r\n\r\nThe step-by-step of what I did before the error appeared:\r\n\r\nI created the main Model, which will reference the partitioned table:\r\n\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;example&quot;)\r\n@IdClass(ExampleId.class)\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class Example {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;example_id_seq&quot;)\r\n    @SequenceGenerator(name = &quot;example_id_seq&quot;, sequenceName = &quot;example_id_seq&quot;, initialValue = 1, allocationSize = 1)\r\n    private int id;\r\n\r\n    @Id\r\n    private LocalDate date_cd;\r\n\r\n    private String name;\r\n\r\n}\r\n\r\n```\r\n\r\nI created the composite ID class.\r\n\r\n\r\n```\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@EqualsAndHashCode\r\npublic class ExampleId implements Serializable {\r\n\r\n    private static final long serialVersionUID = 1L;\r\n\r\n    private int id;\r\n\r\n    private LocalDate date_cd;\r\n\r\n}\r\n```\r\n\r\n\r\nAnd then I started the application, everything ran normally.\r\n\r\nAfter that I paused the application and partitioned the &#39;example&#39; table following the Postgres documentation: https://www.postgresql.org/docs/current/ddl-partitioning.html Thread: 5.11.2.1. Example\r\n\r\nAnd my table looks like this:\r\n\r\n\r\n```\r\nCREATE TABLE IF NOT EXISTS public.example\r\n(\r\n    date_cd date NOT NULL,\r\n    id integer NOT NULL,\r\n    name character varying(255) COLLATE pg_catalog.&quot;default&quot;,\r\n    CONSTRAINT example_pkey PRIMARY KEY (date_cd, id)\r\n) PARTITION BY RANGE (date_cd);)\r\n```\r\n\r\nSo I started the application again, and the following error was printed in the Spring Boot log:\r\n\r\n\r\n```\r\nWARN 20616 --- [           main] o.h.t.s.i.ExceptionHandlerLoggedImpl: \r\nGenerationTarget encountered exception accepting command : Error executing DDL &quot;create table example \r\n(date_cd date not null, id int4 not null, name varchar(255), primary key (date_cd, id))&quot; via JDBC Statement\r\n\r\norg.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;create table example \r\n(date_cd date not null, id int4 not null, name varchar(255), primary key (date_cd , id))&quot; via JDBC Statement\r\nat org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)\r\n~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\nat org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:562)\r\n~[hibernate-core-5.4.32.Final.jar:5.4.32.Final] at\r\norg.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:507)\r\n~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n```\r\n\r\n\r\nMy application.properties looks like this:\r\n\r\n```\r\nspring.datasource.url=jdbc:postgresql://localhost:5432/example\r\nspring.datasource.username=postgres\r\nspring.datasource.password=postgres\r\nspring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect\r\nspring.jpa.hibernate.ddl-auto=update\r\nspring.jpa.defer-datasource-initialization=true\r\nspring.datasource.driver-class-name=org.postgresql.Driver\r\n```\r\n\r\n\r\n\r\n\r\n\r\nI know that changing &#39;spring.jpa.hibernate.ddl-auto&#39; to &#39;none&#39; would solve the problem, however it&#39;s not the solution I want as I don&#39;t want to manually manage all the database changes.\r\n","title":"Problem involving partitioned table + Spring Boot: GenerationTarget encountered exception accepting command : Error executing DDL &quot;create table","body":"<p>I'm working with partitioned tables using Postgres and Spring Boot. I managed to create the partition, and in the tests I performed, the GET and POST methods are working as intended.</p>\n<p>However, I need help resolving the following error that occurs when I start the application:</p>\n<p><strong>GenerationTarget encountered exception accepting command : Error executing DDL &quot;create table example (date_cd date not null, id int4 not null, name\nvarchar(255), primary key (date_cd, id))&quot; via JDBC Statement\norg.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;create table example (date_cd date not null, id int4 not null, name varchar(255), primary key (date_cd, id))&quot; via JDBC Statement\nat org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)\n~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]</strong></p>\n<p>The step-by-step of what I did before the error appeared:</p>\n<p>I created the main Model, which will reference the partitioned table:</p>\n<pre><code>@Entity\n@Table(name = &quot;example&quot;)\n@IdClass(ExampleId.class)\n@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Example {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;example_id_seq&quot;)\n    @SequenceGenerator(name = &quot;example_id_seq&quot;, sequenceName = &quot;example_id_seq&quot;, initialValue = 1, allocationSize = 1)\n    private int id;\n\n    @Id\n    private LocalDate date_cd;\n\n    private String name;\n\n}\n\n</code></pre>\n<p>I created the composite ID class.</p>\n<pre><code>@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\n@EqualsAndHashCode\npublic class ExampleId implements Serializable {\n\n    private static final long serialVersionUID = 1L;\n\n    private int id;\n\n    private LocalDate date_cd;\n\n}\n</code></pre>\n<p>And then I started the application, everything ran normally.</p>\n<p>After that I paused the application and partitioned the 'example' table following the Postgres documentation: <a href=\"https://www.postgresql.org/docs/current/ddl-partitioning.html\" rel=\"nofollow noreferrer\">https://www.postgresql.org/docs/current/ddl-partitioning.html</a> Thread: 5.11.2.1. Example</p>\n<p>And my table looks like this:</p>\n<pre><code>CREATE TABLE IF NOT EXISTS public.example\n(\n    date_cd date NOT NULL,\n    id integer NOT NULL,\n    name character varying(255) COLLATE pg_catalog.&quot;default&quot;,\n    CONSTRAINT example_pkey PRIMARY KEY (date_cd, id)\n) PARTITION BY RANGE (date_cd);)\n</code></pre>\n<p>So I started the application again, and the following error was printed in the Spring Boot log:</p>\n<pre><code>WARN 20616 --- [           main] o.h.t.s.i.ExceptionHandlerLoggedImpl: \nGenerationTarget encountered exception accepting command : Error executing DDL &quot;create table example \n(date_cd date not null, id int4 not null, name varchar(255), primary key (date_cd, id))&quot; via JDBC Statement\n\norg.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;create table example \n(date_cd date not null, id int4 not null, name varchar(255), primary key (date_cd , id))&quot; via JDBC Statement\nat org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)\n~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\nat org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:562)\n~[hibernate-core-5.4.32.Final.jar:5.4.32.Final] at\norg.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:507)\n~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n</code></pre>\n<p>My application.properties looks like this:</p>\n<pre><code>spring.datasource.url=jdbc:postgresql://localhost:5432/example\nspring.datasource.username=postgres\nspring.datasource.password=postgres\nspring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect\nspring.jpa.hibernate.ddl-auto=update\nspring.jpa.defer-datasource-initialization=true\nspring.datasource.driver-class-name=org.postgresql.Driver\n</code></pre>\n<p>I know that changing 'spring.jpa.hibernate.ddl-auto' to 'none' would solve the problem, however it's not the solution I want as I don't want to manually manage all the database changes.</p>\n"},{"tags":["java","guava","glassfish-4","minio"],"owner":{"account_id":10933290,"reputation":2086,"user_id":8035759,"display_name":"Asgar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686577207,"creation_date":1686291381,"question_id":76437672,"body_markdown":"I have a maven project with an EJB and a war. For my use case, I have to use [minIO](https://min.io/) which uses `guava-30.1.1-jre`. \r\nI am using GlassFish version 4 and inside the modules of GlassFish, an older version of Guava can be found.\r\nFor war, I can use \r\n```XML\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;!DOCTYPE glassfish-web-app PUBLIC &quot;-//GlassFish.org//DTD GlassFish Application Server 3.1 Servlet 3.0//EN&quot; &quot;http://glassfish.org/dtds/glassfish-web-app_3_0-1.dtd&quot;&gt;\r\n&lt;glassfish-web-app error-url=&quot;&quot;&gt;\r\n  &lt;class-loader delegate=&quot;false&quot;/&gt;\r\n  &lt;jsp-config&gt;\r\n    &lt;property name=&quot;keepgenerated&quot; value=&quot;true&quot;&gt;\r\n      &lt;description&gt;Keep a copy of the generated servlet class java code.&lt;/description&gt;\r\n    &lt;/property&gt;\r\n  &lt;/jsp-config&gt;\r\n&lt;/glassfish-web-app&gt;\r\n```\r\nSetting `delegate=&quot;false&quot;`, there is no conflict of guava in the war project and I can use minIO but I want this in my EJB. \r\nHow can I force my  container to use guava from the ear and not from inside Glassfish&gt; modules? \r\n ","title":"Force Glassfish4 to use Guava from ear","body":"<p>I have a maven project with an EJB and a war. For my use case, I have to use <a href=\"https://min.io/\" rel=\"nofollow noreferrer\">minIO</a> which uses <code>guava-30.1.1-jre</code>.\nI am using GlassFish version 4 and inside the modules of GlassFish, an older version of Guava can be found.\nFor war, I can use</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!DOCTYPE glassfish-web-app PUBLIC &quot;-//GlassFish.org//DTD GlassFish Application Server 3.1 Servlet 3.0//EN&quot; &quot;http://glassfish.org/dtds/glassfish-web-app_3_0-1.dtd&quot;&gt;\n&lt;glassfish-web-app error-url=&quot;&quot;&gt;\n  &lt;class-loader delegate=&quot;false&quot;/&gt;\n  &lt;jsp-config&gt;\n    &lt;property name=&quot;keepgenerated&quot; value=&quot;true&quot;&gt;\n      &lt;description&gt;Keep a copy of the generated servlet class java code.&lt;/description&gt;\n    &lt;/property&gt;\n  &lt;/jsp-config&gt;\n&lt;/glassfish-web-app&gt;\n</code></pre>\n<p>Setting <code>delegate=&quot;false&quot;</code>, there is no conflict of guava in the war project and I can use minIO but I want this in my EJB.\nHow can I force my  container to use guava from the ear and not from inside Glassfish&gt; modules?</p>\n"},{"tags":["java","gwt"],"comments":[{"owner":{"account_id":5679156,"reputation":5433,"user_id":4491066,"display_name":"Adam"},"score":0,"creation_date":1687084849,"post_id":76457232,"comment_id":134885101,"body_markdown":"If you want to cancel the event just do: `event.preventDefault(); event.stopPropagation();`.","body":"If you want to cancel the event just do: <code>event.preventDefault(); event.stopPropagation();</code>."}],"owner":{"account_id":1424629,"reputation":433,"user_id":1348487,"accept_rate":89,"display_name":"Hansj&#246;rg Hofer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686577090,"creation_date":1686577090,"question_id":76457232,"body_markdown":"is there any way to watch the paste handler and sanitize the HTML before paste occurs..\r\n\r\nSome event : \r\n```\r\n        getView().getRichEditor().addPasteHandler(new PasteEvent.PasteEventHandler() {\r\n            @Override\r\n            public void onPasteEvent(PasteEvent event) {\r\n                //howto cancel the event ? to sanitize pasted String\r\n            }\r\n        });\r\n```","title":"GWT Java MaterialRichEditor addPasteHandler","body":"<p>is there any way to watch the paste handler and sanitize the HTML before paste occurs..</p>\n<p>Some event :</p>\n<pre><code>        getView().getRichEditor().addPasteHandler(new PasteEvent.PasteEventHandler() {\n            @Override\n            public void onPasteEvent(PasteEvent event) {\n                //howto cancel the event ? to sanitize pasted String\n            }\n        });\n</code></pre>\n"},{"tags":["java","maven","build","maven-compiler-plugin"],"comments":[{"owner":{"account_id":9182237,"reputation":817,"user_id":6825678,"display_name":"DrHopfen"},"score":8,"creation_date":1488354815,"post_id":42525139,"comment_id":72188020,"body_markdown":"Do you have the dependency:\n`&lt;dependency&gt;\n    &lt;groupId&gt;com.apple&lt;/groupId&gt;\n    &lt;artifactId&gt;AppleJavaExtensions&lt;/artifactId&gt;\n    &lt;version&gt;1.4&lt;/version&gt;\n&lt;/dependency&gt;` in your pom.xml?","body":"Do you have the dependency: <code>&lt;dependency&gt;     &lt;groupId&gt;com.apple&lt;&#47;groupId&gt;     &lt;artifactId&gt;AppleJavaExtensions&lt;&#47;artifactId&gt;     &lt;version&gt;1.4&lt;&#47;version&gt; &lt;&#47;dependency&gt;</code> in your pom.xml?"},{"owner":{"account_id":1587261,"reputation":9583,"user_id":1471314,"accept_rate":43,"display_name":"roger_that"},"score":0,"creation_date":1488355143,"post_id":42525139,"comment_id":72188203,"body_markdown":"No. Let me try.","body":"No. Let me try."},{"owner":{"account_id":1587261,"reputation":9583,"user_id":1471314,"accept_rate":43,"display_name":"roger_that"},"score":1,"creation_date":1488355219,"post_id":42525139,"comment_id":72188244,"body_markdown":"Brilliant. It worked. But how? Why was that error?","body":"Brilliant. It worked. But how? Why was that error?"},{"owner":{"account_id":9182237,"reputation":817,"user_id":6825678,"display_name":"DrHopfen"},"score":0,"creation_date":1488355282,"post_id":42525139,"comment_id":72188278,"body_markdown":"Because you were obviously using that library. For maven to know to add the classes in there to the classpath you have to define the dependencies accordingly.","body":"Because you were obviously using that library. For maven to know to add the classes in there to the classpath you have to define the dependencies accordingly."},{"owner":{"account_id":7922657,"reputation":647,"user_id":5983136,"accept_rate":80,"display_name":"chamzz.dot"},"score":0,"creation_date":1512020064,"post_id":42525139,"comment_id":82090709,"body_markdown":"What is AppleJavaExtensions here?Is that your java class name","body":"What is AppleJavaExtensions here?Is that your java class name"},{"owner":{"account_id":6766059,"reputation":1299,"user_id":5211043,"accept_rate":100,"display_name":"The Bitman"},"score":0,"creation_date":1574530286,"post_id":42525139,"comment_id":104268623,"body_markdown":"@DrHopfen Chamzz.dot would like to ask you but forgot to address the question to you. Please answer to him!","body":"@DrHopfen Chamzz.dot would like to ask you but forgot to address the question to you. Please answer to him!"},{"owner":{"account_id":9182237,"reputation":817,"user_id":6825678,"display_name":"DrHopfen"},"score":0,"creation_date":1574679039,"post_id":42525139,"comment_id":104304157,"body_markdown":"@chamzz.dot In the snippet I posted above it ist the artifactId of a library provided by apple: https://developer.apple.com/library/archive/samplecode/AppleJavaExtensions/Introduction/Intro.html#//apple_ref/doc/uid/DTS10000677-Intro-DontLinkElementID_2","body":"@chamzz.dot In the snippet I posted above it ist the artifactId of a library provided by apple: <a href=\"https://developer.apple.com/library/archive/samplecode/AppleJavaExtensions/Introduction/Intro.html#//apple_ref/doc/uid/DTS10000677-Intro-DontLinkElementID_2\" rel=\"nofollow noreferrer\">developer.apple.com/library/archive/samplecode/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"down_vote_count":0,"up_vote_count":53,"is_accepted":false,"score":53,"last_activity_date":1592218802,"creation_date":1488353587,"answer_id":42525742,"question_id":42525139,"body_markdown":"I don&#39;t think that IDE is relevant here. After all you&#39;re running a Maven and Maven doesn&#39;t have a source that will allow to compile the diamond operators.\r\nSo, I think you should configure maven-compiler-plugin itself.\r\n\r\nYou can read about this [here][1]. But in general try to add the following properties:\r\n\r\n\r\n    &lt;properties&gt;\r\n     &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n     &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n\r\n\r\nand see whether it compiles now in Maven only.\r\n\r\n  [1]: https://maven.apache.org/plugins/maven-compiler-plugin/examples/set-compiler-source-and-target.html\r\n\r\n","title":"Maven build Compilation error : Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project Maven","body":"<p>I don't think that IDE is relevant here. After all you're running a Maven and Maven doesn't have a source that will allow to compile the diamond operators.\nSo, I think you should configure maven-compiler-plugin itself.</p>\n\n<p>You can read about this <a href=\"https://maven.apache.org/plugins/maven-compiler-plugin/examples/set-compiler-source-and-target.html\" rel=\"noreferrer\">here</a>. But in general try to add the following properties:</p>\n\n<pre><code>&lt;properties&gt;\n &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n&lt;/properties&gt;\n</code></pre>\n\n<p>and see whether it compiles now in Maven only.</p>\n"},{"tags":[],"owner":{"account_id":10358799,"reputation":1749,"user_id":7639880,"display_name":"user7639880"},"down_vote_count":1,"up_vote_count":175,"is_accepted":false,"score":174,"last_activity_date":1614624832,"creation_date":1488354325,"answer_id":42525941,"question_id":42525139,"body_markdown":"The error occurred because the code is not for the default compiler used there. Paste this code in effective POM before the root element ends, after declaring dependencies, to change the compiler used. Adjust version as you need.\r\n\r\n\r\n    &lt;dependencies&gt;\r\n    ...\r\n    &lt;/dependencies&gt;\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;1.8&lt;/source&gt;\r\n                    &lt;target&gt;1.8&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;","title":"Maven build Compilation error : Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project Maven","body":"<p>The error occurred because the code is not for the default compiler used there. Paste this code in effective POM before the root element ends, after declaring dependencies, to change the compiler used. Adjust version as you need.</p>\n<pre><code>&lt;dependencies&gt;\n...\n&lt;/dependencies&gt;\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;1.8&lt;/source&gt;\n                &lt;target&gt;1.8&lt;/target&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1628535,"reputation":5864,"user_id":1503538,"accept_rate":100,"display_name":"snovelli"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1509802110,"creation_date":1509802110,"answer_id":47111269,"question_id":42525139,"body_markdown":"In my case, it was caused from an incompatibility with OpenJDK 9 (which I haven&#39;t investigated).\r\n\r\nIf you don&#39;t need JDK 9, a temporary work-around would be to purge it from your machine:\r\n\r\n    sudo apt-get remove --purge openjdk-9-jdk openjdk-9-jre \r\n    sudo apt-get remove --purge openjdk-9-jdk-headless openjdk-9-jre-headless\r\n","title":"Maven build Compilation error : Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project Maven","body":"<p>In my case, it was caused from an incompatibility with OpenJDK 9 (which I haven't investigated).</p>\n\n<p>If you don't need JDK 9, a temporary work-around would be to purge it from your machine:</p>\n\n<pre><code>sudo apt-get remove --purge openjdk-9-jdk openjdk-9-jre \nsudo apt-get remove --purge openjdk-9-jdk-headless openjdk-9-jre-headless\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7922657,"reputation":647,"user_id":5983136,"accept_rate":80,"display_name":"chamzz.dot"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1512020619,"creation_date":1512020619,"answer_id":47566618,"question_id":42525139,"body_markdown":"I had the same problem and I Changed this\r\n\r\n    &lt;configuration&gt;\r\n        &lt;source&gt;1.7&lt;/source&gt;\r\n        &lt;target&gt;1.7&lt;/target&gt;\r\n     &lt;/configuration&gt;\r\n\r\n\r\nhere 1.7 is my JDK version.it was solved.","title":"Maven build Compilation error : Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project Maven","body":"<p>I had the same problem and I Changed this</p>\n\n<pre><code>&lt;configuration&gt;\n    &lt;source&gt;1.7&lt;/source&gt;\n    &lt;target&gt;1.7&lt;/target&gt;\n &lt;/configuration&gt;\n</code></pre>\n\n<p>here 1.7 is my JDK version.it was solved.</p>\n"},{"tags":[],"owner":{"account_id":7957138,"reputation":378,"user_id":6006020,"display_name":"nityanarayan"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1512125579,"creation_date":1512125579,"answer_id":47591844,"question_id":42525139,"body_markdown":"Buddy,&lt;br/&gt;\r\nIf every this is up-to-date, even then you are having this problem, then &lt;br/&gt;\r\ntry running this command from the terminal directly instead of running from eclipse.&lt;br/&gt;\r\n`$ mvn clean install` &lt;br/&gt;&lt;br/&gt;\r\nand make sure these things:\r\n&lt;ul&gt;\r\n&lt;li&gt; maven is in system path &lt;/li&gt;\r\n&lt;li&gt; all maven dependencies are avaialble at `.m2/repository` &lt;/li&gt;\r\n&lt;li&gt; java is in system path &lt;/li&gt;\r\n&lt;/ul&gt;\r\n\r\n&lt;br/&gt;\r\n","title":"Maven build Compilation error : Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project Maven","body":"<p>Buddy,<br/>\nIf every this is up-to-date, even then you are having this problem, then <br/>\ntry running this command from the terminal directly instead of running from eclipse.<br/>\n<code>$ mvn clean install</code> <br/><br/>\nand make sure these things:</p>\n\n<ul>\n<li> maven is in system path </li>\n<li> all maven dependencies are avaialble at `.m2/repository` </li>\n<li> java is in system path </li>\n</ul>\n\n<p><br/></p>\n"},{"tags":[],"owner":{"account_id":10624820,"reputation":31,"user_id":7824760,"display_name":"Rajib Naik From CGI"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1521116116,"creation_date":1521116116,"answer_id":49299241,"question_id":42525139,"body_markdown":"for it was comming because of java version mismatch ,so I have corrected it and i am able to build the war file.hope it will help someone\r\n\r\n        &lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt;\r\n\t\t&lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;","title":"Maven build Compilation error : Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project Maven","body":"<p>for it was comming because of java version mismatch ,so I have corrected it and i am able to build the war file.hope it will help someone</p>\n\n<pre><code>    &lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13250822,"reputation":43,"user_id":9568371,"display_name":"Sushovan Mallick"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1523270217,"creation_date":1523269400,"answer_id":49730711,"question_id":42525139,"body_markdown":"Doing this in pom.xml file and after updating the project, the problem is gone.\r\n\r\n\r\n    &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.4&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;1.8&lt;/source&gt;\r\n                    &lt;target&gt;1.8&lt;/target&gt;\r\n    &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\n1. Update the pom.xml under `&lt;plugin&gt;&lt;/plugin&gt;`.\r\n\r\n2. Update your project.\r\n\r\n3. Then clean maven and install maven.\r\n","title":"Maven build Compilation error : Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project Maven","body":"<p>Doing this in pom.xml file and after updating the project, the problem is gone.</p>\n\n<pre><code>&lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.4&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;1.8&lt;/source&gt;\n                &lt;target&gt;1.8&lt;/target&gt;\n&lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<ol>\n<li><p>Update the pom.xml under <code>&lt;plugin&gt;&lt;/plugin&gt;</code>.</p></li>\n<li><p>Update your project.</p></li>\n<li><p>Then clean maven and install maven.</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":13392297,"reputation":11,"user_id":9664344,"display_name":"Srinivas Avasarala"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1524056648,"creation_date":1524056648,"answer_id":49900476,"question_id":42525139,"body_markdown":"The below pom.xml configuration is making the build successful and make sure project buildpath JRE System library should point to Java8.\r\n\r\n&lt;plugin&gt;&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;&lt;version&gt;3.7.0&lt;/version&gt;&lt;configuration&gt;\t\t\t\t\t&lt;source&gt;1.8&lt;/source&gt;&lt;target&gt;1.8&lt;/target&gt;&lt;/configuration&gt;&lt;/plugin&gt;","title":"Maven build Compilation error : Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project Maven","body":"<p>The below pom.xml configuration is making the build successful and make sure project buildpath JRE System library should point to Java8.</p>\n\n<p>org.apache.maven.pluginsmaven-compiler-plugin3.7.0                    1.81.8</p>\n"},{"tags":[],"owner":{"account_id":52375,"reputation":6473,"user_id":156522,"accept_rate":83,"display_name":"vsingh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1532981919,"creation_date":1532981919,"answer_id":51601714,"question_id":42525139,"body_markdown":"Jdk 9 and 10 solution\r\n\r\n\r\n\t\r\n\r\n    &lt;plugins&gt;\r\n    \t\t&lt;plugin&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${maven-compiler.version}&lt;/version&gt;\r\n    \t\t\t&lt;configuration&gt;\r\n    \t\t\t\t&lt;source&gt;${java.version}&lt;/source&gt;\r\n    \t\t\t\t&lt;target&gt;${java.version}&lt;/target&gt;\r\n    \t\t\t\t&lt;debug&gt;true&lt;/debug&gt;\r\n    \t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;dependencies&gt;\r\n    \t\t\t\t&lt;dependency&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;org.ow2.asm&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;asm&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;6.2&lt;/version&gt;\r\n    \t\t\t\t&lt;/dependency&gt;\r\n    \t\t\t&lt;/dependencies&gt;\r\n    \t\t&lt;/plugin&gt;\r\n\r\n\r\nand make sure your maven is pointing to JDK 10 or 9.\r\nmvn -v\r\n\r\n    Apache Maven 3.5.3 (3383c37e1f9e9b3bc3df5050c29c8aff9f295297; 2018-02-24T14:49:05-05:00)\r\n    Maven home: C:\\devplay\\apache-maven-3.5.3\\bin\\..\r\n    Java version: 10.0.1, vendor: Oracle Corporation\r\n    Java home: C:\\Program Files\\Java\\jdk-10.0.1\r\n    Default locale: en_US, platform encoding: Cp1252\r\n    OS name: &quot;windows 10&quot;, version: &quot;10.0&quot;, arch: &quot;amd64&quot;, family: &quot;windows&quot;","title":"Maven build Compilation error : Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project Maven","body":"<p>Jdk 9 and 10 solution</p>\n\n<pre><code>&lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${maven-compiler.version}&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;${java.version}&lt;/source&gt;\n                &lt;target&gt;${java.version}&lt;/target&gt;\n                &lt;debug&gt;true&lt;/debug&gt;\n            &lt;/configuration&gt;\n            &lt;dependencies&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.ow2.asm&lt;/groupId&gt;\n                    &lt;artifactId&gt;asm&lt;/artifactId&gt;\n                    &lt;version&gt;6.2&lt;/version&gt;\n                &lt;/dependency&gt;\n            &lt;/dependencies&gt;\n        &lt;/plugin&gt;\n</code></pre>\n\n<p>and make sure your maven is pointing to JDK 10 or 9.\nmvn -v</p>\n\n<pre><code>Apache Maven 3.5.3 (3383c37e1f9e9b3bc3df5050c29c8aff9f295297; 2018-02-24T14:49:05-05:00)\nMaven home: C:\\devplay\\apache-maven-3.5.3\\bin\\..\nJava version: 10.0.1, vendor: Oracle Corporation\nJava home: C:\\Program Files\\Java\\jdk-10.0.1\nDefault locale: en_US, platform encoding: Cp1252\nOS name: \"windows 10\", version: \"10.0\", arch: \"amd64\", family: \"windows\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10985703,"reputation":91,"user_id":8961607,"display_name":"growdu"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1536297518,"creation_date":1536297518,"answer_id":52215743,"question_id":42525139,"body_markdown":"You should add the code into pom.xml like:\r\n\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n\t    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;","title":"Maven build Compilation error : Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project Maven","body":"<p>You should add the code into pom.xml like:</p>\n\n<pre><code>&lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n&lt;/properties&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7813124,"reputation":715,"user_id":5908729,"accept_rate":48,"display_name":"sql_dummy"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1538447040,"creation_date":1538447040,"answer_id":52601211,"question_id":42525139,"body_markdown":"In case if you are able to compile `mvn compile` the project successful from terminal but not from Eclipse check out Window &gt; Preferences &gt;Installed JREs, make sure you have selected JRE that is under JDK (check out the paths of 2 different JRE&#39;s in pic), as Maven needs JDK to compile you need to add it.\r\n\r\n\r\n\r\n[![Installed JREs][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BBRV8.gif","title":"Maven build Compilation error : Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project Maven","body":"<p>In case if you are able to compile <code>mvn compile</code> the project successful from terminal but not from Eclipse check out Window > Preferences >Installed JREs, make sure you have selected JRE that is under JDK (check out the paths of 2 different JRE's in pic), as Maven needs JDK to compile you need to add it.</p>\n\n<p><a href=\"https://i.stack.imgur.com/BBRV8.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BBRV8.gif\" alt=\"Installed JREs\"></a></p>\n"},{"tags":[],"owner":{"account_id":13981368,"reputation":31,"user_id":10097429,"display_name":"Rohit Bhatnagar"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1540449308,"creation_date":1540449308,"answer_id":52982796,"question_id":42525139,"body_markdown":"Go to the file location where the POM is stored and open cmd.\r\nThen type &quot;mvn --v&quot; to check the maven version and java runtime provided.\r\nCheck runtime attribute and if it is &quot;C:\\Program Files\\Java\\jre1.8.0_191&quot; or even close to a JRE, go to environment variables and add a new &quot;system variable&quot; called &quot;JAVA_HOME&quot; with a value &quot;C:\\Program Files\\Java\\jdk1.8.0_191&quot;.\r\n\r\nReopen the cmd and then &quot;clean install&quot; the project.","title":"Maven build Compilation error : Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project Maven","body":"<p>Go to the file location where the POM is stored and open cmd.\nThen type \"mvn --v\" to check the maven version and java runtime provided.\nCheck runtime attribute and if it is \"C:\\Program Files\\Java\\jre1.8.0_191\" or even close to a JRE, go to environment variables and add a new \"system variable\" called \"JAVA_HOME\" with a value \"C:\\Program Files\\Java\\jdk1.8.0_191\".</p>\n\n<p>Reopen the cmd and then \"clean install\" the project.</p>\n"},{"tags":[],"owner":{"account_id":6376905,"reputation":4709,"user_id":4947520,"accept_rate":0,"display_name":"Paraneetharan Saravanaperumal"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1550808997,"creation_date":1550808997,"answer_id":54819984,"question_id":42525139,"body_markdown":"make sure java home path is correct. for my case, java home path is wrong in pom file.\r\n\r\n      &lt;properties&gt;\r\n    \t\t&lt;java.home&gt;/usr/java/jdk1.8.0_45/bin/javac&lt;/java.home&gt;\r\n      &lt;/properties&gt;\r\n\r\n\r\n\r\n\t\t\r\n                  &lt;plugin&gt;\r\n     \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    \t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    \t\t&lt;version&gt;3.5.1&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t          &lt;verbose&gt;true&lt;/verbose&gt;\r\n    \t\t\t          &lt;fork&gt;true&lt;/fork&gt;\r\n    \t\t\t          &lt;executable&gt;${java.home}&lt;/executable&gt;\r\n    \t\t\t\t   &lt;compilerVersion&gt;1.8&lt;/compilerVersion&gt;\r\n    \t\t\t\t   &lt;source&gt;1.8&lt;/source&gt;\r\n    \t\t\t\t   &lt;target&gt;1.8&lt;/target&gt;\r\n    \t\t       \t &lt;/configuration&gt;\r\n    \t       \t &lt;/plugin&gt;","title":"Maven build Compilation error : Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project Maven","body":"<p>make sure java home path is correct. for my case, java home path is wrong in pom file.</p>\n\n<pre><code>  &lt;properties&gt;\n        &lt;java.home&gt;/usr/java/jdk1.8.0_45/bin/javac&lt;/java.home&gt;\n  &lt;/properties&gt;\n\n\n\n\n              &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                        &lt;version&gt;3.5.1&lt;/version&gt;\n                &lt;configuration&gt;\n                      &lt;verbose&gt;true&lt;/verbose&gt;\n                      &lt;fork&gt;true&lt;/fork&gt;\n                      &lt;executable&gt;${java.home}&lt;/executable&gt;\n                   &lt;compilerVersion&gt;1.8&lt;/compilerVersion&gt;\n                   &lt;source&gt;1.8&lt;/source&gt;\n                   &lt;target&gt;1.8&lt;/target&gt;\n                 &lt;/configuration&gt;\n             &lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13145379,"reputation":403,"user_id":9495573,"display_name":"pvma"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1562734701,"creation_date":1562734701,"answer_id":56963642,"question_id":42525139,"body_markdown":"I am not able to run my own build on the other suggestions here. I even tried different versions of maven-compiler-plugin: 3.1, 3.7.0, etc.\r\n\r\nI made it work adding this:\r\n\r\n    &lt;testSourceDirectory&gt;/src/test/java&lt;/testSourceDirectory&gt;\r\n\r\nI tried this approach because it seems like the /src/test/java directory is considered a java class that is why it is compiled the same time as /src/test/java. So my hunch were right in my case.\r\n\r\nMaybe it is to others too, so just try this one.","title":"Maven build Compilation error : Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project Maven","body":"<p>I am not able to run my own build on the other suggestions here. I even tried different versions of maven-compiler-plugin: 3.1, 3.7.0, etc.</p>\n\n<p>I made it work adding this:</p>\n\n<pre><code>&lt;testSourceDirectory&gt;/src/test/java&lt;/testSourceDirectory&gt;\n</code></pre>\n\n<p>I tried this approach because it seems like the /src/test/java directory is considered a java class that is why it is compiled the same time as /src/test/java. So my hunch were right in my case.</p>\n\n<p>Maybe it is to others too, so just try this one.</p>\n"},{"tags":[],"owner":{"account_id":3935287,"reputation":922,"user_id":3251882,"accept_rate":25,"display_name":"user3251882"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1572942475,"creation_date":1572942475,"answer_id":58707236,"question_id":42525139,"body_markdown":"**This is an irritating error that pops up once in a while , jotting down some steps which help:**\r\n\r\n*Writing answer from eclipse perspective as base logic will remain the\r\nsame whether done by Intellij or command line*\r\n\r\n 1. Rt click your project -&gt; Maven -&gt; Update project -&gt; Select Force\r\n    update -&gt; Click OK \r\n 2. Under properties tag , add : \r\n\r\n&gt;     &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt; \r\n&gt;     &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n\r\n 3. In some instances, you will start seeing error as we tried force update saying ,\r\n    ***failure to transfer X dependency from Y path , resolutions will not\r\n    be reattempted , bla bla bla*** \r\n\r\n    In such case quickly fix it by cd to .m2/repository folder and run following command :\r\n\r\n&gt;     \r\n&gt;     for /r %i in (*.lastUpdated) do del %i\r\n\r\n","title":"Maven build Compilation error : Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project Maven","body":"<p><strong>This is an irritating error that pops up once in a while , jotting down some steps which help:</strong></p>\n\n<p><em>Writing answer from eclipse perspective as base logic will remain the\nsame whether done by Intellij or command line</em></p>\n\n<ol>\n<li>Rt click your project -> Maven -> Update project -> Select Force\nupdate -> Click OK </li>\n<li>Under properties tag , add : </li>\n</ol>\n\n<blockquote>\n<pre><code>&lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt; \n&lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n</code></pre>\n</blockquote>\n\n<ol start=\"3\">\n<li><p>In some instances, you will start seeing error as we tried force update saying ,\n<strong><em>failure to transfer X dependency from Y path , resolutions will not\nbe reattempted , bla bla bla</em></strong> </p>\n\n<p>In such case quickly fix it by cd to .m2/repository folder and run following command :</p></li>\n</ol>\n\n<blockquote>\n<pre><code>for /r %i in (*.lastUpdated) do del %i\n</code></pre>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1613382,"reputation":3295,"user_id":1502439,"accept_rate":40,"display_name":"Janac Meena"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1617725778,"creation_date":1582128765,"answer_id":60304665,"question_id":42525139,"body_markdown":"My issues was that I was running ```mvn compile``` from a child project directory instead of the parent project.","title":"Maven build Compilation error : Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project Maven","body":"<p>My issues was that I was running <code>mvn compile</code> from a child project directory instead of the parent project.</p>\n"},{"tags":[],"owner":{"account_id":5159656,"reputation":4414,"user_id":4131775,"display_name":"Feiyu Zhou"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1588042938,"creation_date":1586511836,"answer_id":61137675,"question_id":42525139,"body_markdown":"If your local jdk version is 11 or 9, 10, and your project&#39;s java source/target version is 1.8, and you are using `org.projectlombok:lombok` package, then you can try to update its version to 1.16.22 or 1.18.12, like this:\r\n\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;version&gt;1.16.22&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\nIt just solved my issue.","title":"Maven build Compilation error : Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project Maven","body":"<p>If your local jdk version is 11 or 9, 10, and your project's java source/target version is 1.8, and you are using <code>org.projectlombok:lombok</code> package, then you can try to update its version to 1.16.22 or 1.18.12, like this:</p>\n\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;1.16.22&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n\n<p>It just solved my issue.</p>\n"},{"tags":[],"owner":{"account_id":1558780,"reputation":4158,"user_id":1449185,"accept_rate":42,"display_name":"Rasool Ghafari"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1598359617,"creation_date":1598359617,"answer_id":63579182,"question_id":42525139,"body_markdown":"I had the same problem, the solution was set JAVA_HOME in environment variables.","title":"Maven build Compilation error : Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project Maven","body":"<p>I had the same problem, the solution was set JAVA_HOME in environment variables.</p>\n"},{"tags":[],"owner":{"account_id":16294368,"reputation":161,"user_id":11767052,"display_name":"Mihai Vlasceanu"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1605124336,"creation_date":1605124336,"answer_id":64793241,"question_id":42525139,"body_markdown":"Worked by adding this in pom.xml:\r\n\r\n    &lt;properties&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n            &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n            &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n\r\nEven you have SDK 13 or 14.","title":"Maven build Compilation error : Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project Maven","body":"<p>Worked by adding this in pom.xml:</p>\n<pre><code>&lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n&lt;/properties&gt;\n</code></pre>\n<p>Even you have SDK 13 or 14.</p>\n"},{"tags":[],"owner":{"account_id":13352813,"reputation":91,"user_id":9637505,"display_name":"archit agarwal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1607940940,"creation_date":1607879642,"answer_id":65278419,"question_id":42525139,"body_markdown":"Add the following in your pom.xml and do CTRL+S, it will automatically build the project.\r\n```\r\n&lt;plugin&gt; \r\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt; \r\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt; \r\n    &lt;version&gt;3.5.1&lt;/version&gt; \r\n    &lt;configuration&gt;\r\n        &lt;source&gt;1.8&lt;/source&gt; \r\n        &lt;target&gt;1.8&lt;/target&gt; \r\n    &lt;/configuration&gt; \r\n&lt;/plugin&gt;\r\n```\r\nNow click on Run as &gt;Maven Test.\r\n\r\nThis error will definitely get solved.\r\n","title":"Maven build Compilation error : Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project Maven","body":"<p>Add the following in your pom.xml and do CTRL+S, it will automatically build the project.</p>\n<pre><code>&lt;plugin&gt; \n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt; \n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt; \n    &lt;version&gt;3.5.1&lt;/version&gt; \n    &lt;configuration&gt;\n        &lt;source&gt;1.8&lt;/source&gt; \n        &lt;target&gt;1.8&lt;/target&gt; \n    &lt;/configuration&gt; \n&lt;/plugin&gt;\n</code></pre>\n<p>Now click on Run as &gt;Maven Test.</p>\n<p>This error will definitely get solved.</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1609555461,"creation_date":1609555461,"answer_id":65535605,"question_id":42525139,"body_markdown":"# `&lt;maven.compiler.release&gt;` (not `source` &amp; `target`)\r\n\r\nSeveral of the other Answers show `&lt;maven.compiler.source&gt;` &amp; `&lt;maven.compiler.target&gt;`. Both of these are now supplanted by the simpler single element: `&lt;maven.compiler.release&gt;`.\r\n\r\n```xml\r\n&lt;maven.compiler.release&gt;15&lt;/maven.compiler.release&gt;\r\n```\r\n\r\nSo this:\r\n\r\n```xml\r\n  &lt;!--old-school--&gt;\r\n  &lt;properties&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;maven.compiler.source&gt;15&lt;/maven.compiler.source&gt;\r\n    &lt;maven.compiler.target&gt;15&lt;/maven.compiler.target&gt;\r\n  &lt;/properties&gt;\r\n```\r\n\r\n…becomes:\r\n\r\n```xml\r\n  &lt;!--modern--&gt;\r\n  &lt;properties&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;maven.compiler.release&gt;15&lt;/maven.compiler.release&gt;\r\n  &lt;/properties&gt;\r\n```\r\n\r\nSee Question, [*“maven.compiler.release” as an replacement for source and target?*](https://stackoverflow.com/q/59049980/642706)","title":"Maven build Compilation error : Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project Maven","body":"<h1><code>&lt;maven.compiler.release&gt;</code> (not <code>source</code> &amp; <code>target</code>)</h1>\n<p>Several of the other Answers show <code>&lt;maven.compiler.source&gt;</code> &amp; <code>&lt;maven.compiler.target&gt;</code>. Both of these are now supplanted by the simpler single element: <code>&lt;maven.compiler.release&gt;</code>.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;maven.compiler.release&gt;15&lt;/maven.compiler.release&gt;\n</code></pre>\n<p>So this:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>  &lt;!--old-school--&gt;\n  &lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;maven.compiler.source&gt;15&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;15&lt;/maven.compiler.target&gt;\n  &lt;/properties&gt;\n</code></pre>\n<p>…becomes:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>  &lt;!--modern--&gt;\n  &lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;maven.compiler.release&gt;15&lt;/maven.compiler.release&gt;\n  &lt;/properties&gt;\n</code></pre>\n<p>See Question, <a href=\"https://stackoverflow.com/q/59049980/642706\"><em>“maven.compiler.release” as an replacement for source and target?</em></a></p>\n"},{"tags":[],"owner":{"account_id":12381428,"reputation":809,"user_id":9026870,"display_name":"Oleh Tatsiun"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1623925104,"creation_date":1621255025,"answer_id":67569804,"question_id":42525139,"body_markdown":"Go to: File -&gt; Project Structure -&gt; Project -&gt; Switch Project SDK &amp; Project language level to Java version 1.8\r\n\r\nHere is example:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1892y.png","title":"Maven build Compilation error : Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project Maven","body":"<p>Go to: File -&gt; Project Structure -&gt; Project -&gt; Switch Project SDK &amp; Project language level to Java version 1.8</p>\n<p>Here is example:</p>\n<p><a href=\"https://i.stack.imgur.com/1892y.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1892y.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":927341,"reputation":1071,"user_id":957847,"accept_rate":29,"display_name":"Gerry"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1629143219,"creation_date":1629138453,"answer_id":68807632,"question_id":42525139,"body_markdown":"For me it seemed to be all the answers on this page, plus the right JDK. I added the properties:\r\n\r\n    \t&lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n\t\t&lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n\r\nand the JDK 1.8 plug-in pointing to my open JDK from Redhat:\r\n\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n            &lt;configuration&gt;\r\n                &lt;fork&gt;true&lt;/fork&gt;\r\n                &lt;executable&gt;C:\\java\\java-1.8.0-openjdk\\bin\\javac.exe&lt;/executable&gt;\r\n                &lt;source&gt;1.8&lt;/source&gt;\r\n                &lt;target&gt;1.8&lt;/target&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n\r\nand ran\r\n\r\n    mvn clean verify\r\n\r\nand got build success. Yay.\r\n\r\nEdit:\r\nI think this is actually what made the difference: https://mkyong.com/eclipse/eclipse-ide-no-compiler-is-provided-in-this-environment-perhaps-you-are-running-on-a-jre-rather-than-a-jdk/","title":"Maven build Compilation error : Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project Maven","body":"<p>For me it seemed to be all the answers on this page, plus the right JDK. I added the properties:</p>\n<pre><code>    &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n</code></pre>\n<p>and the JDK 1.8 plug-in pointing to my open JDK from Redhat:</p>\n<pre><code>    &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;configuration&gt;\n            &lt;fork&gt;true&lt;/fork&gt;\n            &lt;executable&gt;C:\\java\\java-1.8.0-openjdk\\bin\\javac.exe&lt;/executable&gt;\n            &lt;source&gt;1.8&lt;/source&gt;\n            &lt;target&gt;1.8&lt;/target&gt;\n        &lt;/configuration&gt;\n    &lt;/plugin&gt;\n</code></pre>\n<p>and ran</p>\n<pre><code>mvn clean verify\n</code></pre>\n<p>and got build success. Yay.</p>\n<p>Edit:\nI think this is actually what made the difference: <a href=\"https://mkyong.com/eclipse/eclipse-ide-no-compiler-is-provided-in-this-environment-perhaps-you-are-running-on-a-jre-rather-than-a-jdk/\" rel=\"nofollow noreferrer\">https://mkyong.com/eclipse/eclipse-ide-no-compiler-is-provided-in-this-environment-perhaps-you-are-running-on-a-jre-rather-than-a-jdk/</a></p>\n"},{"tags":[],"owner":{"account_id":6756373,"reputation":138,"user_id":5204623,"display_name":"Amin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1629238839,"creation_date":1629238839,"answer_id":68824633,"question_id":42525139,"body_markdown":"In my case, I set the JAVA_HOME correctly but still had problem for hours!\r\nFinally I found out that I had settings.xml in .m2 directory and the java home was set there and pointed to another path. I ran the following command to find out what java path the maven is using:\r\n\r\n    mvn clean install -X | grep -i &quot;executable&quot;\r\n\r\nThen I corrected the java home path in the settings.xml in .m2 directory and problem solved!","title":"Maven build Compilation error : Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project Maven","body":"<p>In my case, I set the JAVA_HOME correctly but still had problem for hours!\nFinally I found out that I had settings.xml in .m2 directory and the java home was set there and pointed to another path. I ran the following command to find out what java path the maven is using:</p>\n<pre><code>mvn clean install -X | grep -i &quot;executable&quot;\n</code></pre>\n<p>Then I corrected the java home path in the settings.xml in .m2 directory and problem solved!</p>\n"},{"tags":[],"owner":{"display_name":"user1853517"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641398498,"creation_date":1641398498,"answer_id":70595923,"question_id":42525139,"body_markdown":"Note: if you have your project under File-&gt;Project Structure setup for one specific version of Java and you have your Pom.xml setup for a different version of Java, you will get this error.   For example, running Java 8 under Project Structure and Java 11 in your pom.xml.","title":"Maven build Compilation error : Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project Maven","body":"<p>Note: if you have your project under File-&gt;Project Structure setup for one specific version of Java and you have your Pom.xml setup for a different version of Java, you will get this error.   For example, running Java 8 under Project Structure and Java 11 in your pom.xml.</p>\n"},{"tags":[],"owner":{"account_id":15286841,"reputation":863,"user_id":11029624,"display_name":"Mahbub Ul Islam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654626097,"creation_date":1654626097,"answer_id":72535918,"question_id":42525139,"body_markdown":"I have tried to solve it manually many times, but every time error occurs in maven.\r\n\r\nLast I left it to maven to solve this,\r\n\r\nFirst use Maven clean,\r\n\r\n    Right-click on project -&gt; Run as -&gt; Maven Clean\r\n\r\nSecond use Maven Install,\r\n\r\n    Right-click on project -&gt; Run as -&gt; Maven Install\r\n\r\nThird use Maven Update,\r\n\r\n    Right-click on project -&gt; Maven -&gt; Update Project\r\n\r\n","title":"Maven build Compilation error : Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project Maven","body":"<p>I have tried to solve it manually many times, but every time error occurs in maven.</p>\n<p>Last I left it to maven to solve this,</p>\n<p>First use Maven clean,</p>\n<pre><code>Right-click on project -&gt; Run as -&gt; Maven Clean\n</code></pre>\n<p>Second use Maven Install,</p>\n<pre><code>Right-click on project -&gt; Run as -&gt; Maven Install\n</code></pre>\n<p>Third use Maven Update,</p>\n<pre><code>Right-click on project -&gt; Maven -&gt; Update Project\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22068744,"reputation":464,"user_id":16330119,"display_name":"Aamer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655681426,"creation_date":1655681426,"answer_id":72680967,"question_id":42525139,"body_markdown":"For Java 11 this plugin should work.\r\n\r\n           &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;release&gt;11&lt;/release&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;","title":"Maven build Compilation error : Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project Maven","body":"<p>For Java 11 this plugin should work.</p>\n<pre><code>       &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.8.1&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;release&gt;11&lt;/release&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18117686,"reputation":198,"user_id":13174149,"display_name":"Charlo Poitras"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659380223,"creation_date":1659380223,"answer_id":73198356,"question_id":42525139,"body_markdown":"In my case, it was because I had set the `&lt;packaging&gt;` to `war` instead of `jar`\r\nin my pom.xml while using javafx.\r\n```xml\r\n&lt;packaging&gt;jar&lt;/packaging&gt;\r\n```","title":"Maven build Compilation error : Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project Maven","body":"<p>In my case, it was because I had set the <code>&lt;packaging&gt;</code> to <code>war</code> instead of <code>jar</code>\nin my pom.xml while using javafx.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;packaging&gt;jar&lt;/packaging&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9148659,"reputation":195,"user_id":6803950,"display_name":"zy_sun"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663562235,"creation_date":1663562235,"answer_id":73768559,"question_id":42525139,"body_markdown":"Try to restart you IDE and exec mvn clean.\r\nAnd setting jdk full path in maven.\r\n\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n        &lt;JAVA_HOME&gt;/home/jdk-17&lt;/JAVA_HOME&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;17&lt;/source&gt;\r\n                    &lt;target&gt;17&lt;/target&gt;\r\n                    &lt;verbose&gt;true&lt;/verbose&gt;\r\n                    &lt;fork&gt;true&lt;/fork&gt;\r\n                    &lt;executable&gt;${JAVA_HOME}/bin/javac&lt;/executable&gt;\r\n                &lt;/configuration&gt;\r\n\r\n            &lt;/plugin&gt;\r\n\r\n\r\n        &lt;/plugins&gt;\r\n\r\n    &lt;/build&gt;","title":"Maven build Compilation error : Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project Maven","body":"<p>Try to restart you IDE and exec mvn clean.\nAnd setting jdk full path in maven.</p>\n<pre><code>&lt;properties&gt;\n    &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;JAVA_HOME&gt;/home/jdk-17&lt;/JAVA_HOME&gt;\n&lt;/properties&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;17&lt;/source&gt;\n                &lt;target&gt;17&lt;/target&gt;\n                &lt;verbose&gt;true&lt;/verbose&gt;\n                &lt;fork&gt;true&lt;/fork&gt;\n                &lt;executable&gt;${JAVA_HOME}/bin/javac&lt;/executable&gt;\n            &lt;/configuration&gt;\n\n        &lt;/plugin&gt;\n\n\n    &lt;/plugins&gt;\n\n&lt;/build&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22860492,"reputation":51,"user_id":17004662,"display_name":"p-wel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671226885,"creation_date":1671226885,"answer_id":74830016,"question_id":42525139,"body_markdown":"That was really painful 2 hours...\r\n\r\nHere&#39;s what worked for me (while creating a new project):\r\n\r\n- Check what Java version you&#39;ve got installed (I&#39;ve used Java 11. Older versions may not be compatible with some Maven versions)\r\n- Environment variables - check if you&#39;ve got proper Java version applied\r\n- Use https://start.spring.io/, instead of IntelliJ&#39;s initializator\r\n- Name your project in &quot;Artifact&quot; field. Do not use any uppercase letters. Do not rename any other fields\r\n [![spring.io][1]][1]\r\n- Do not rename a directory name of unpacked .zip file\r\n- IntelliJ: Ctrl+Alt+S and check if you are using proper Java version\r\n- If any changes applied -&gt; Reload Maven -&gt; Clean -&gt; Install\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Pd08h.png","title":"Maven build Compilation error : Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project Maven","body":"<p>That was really painful 2 hours...</p>\n<p>Here's what worked for me (while creating a new project):</p>\n<ul>\n<li>Check what Java version you've got installed (I've used Java 11. Older versions may not be compatible with some Maven versions)</li>\n<li>Environment variables - check if you've got proper Java version applied</li>\n<li>Use <a href=\"https://start.spring.io/\" rel=\"nofollow noreferrer\">https://start.spring.io/</a>, instead of IntelliJ's initializator</li>\n<li>Name your project in &quot;Artifact&quot; field. Do not use any uppercase letters. Do not rename any other fields\n<a href=\"https://i.stack.imgur.com/Pd08h.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Pd08h.png\" alt=\"spring.io\" /></a></li>\n<li>Do not rename a directory name of unpacked .zip file</li>\n<li>IntelliJ: Ctrl+Alt+S and check if you are using proper Java version</li>\n<li>If any changes applied -&gt; Reload Maven -&gt; Clean -&gt; Install</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":8776074,"reputation":8345,"user_id":6561309,"accept_rate":42,"display_name":"Richard"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678260707,"creation_date":1678260707,"answer_id":75670338,"question_id":42525139,"body_markdown":"Try upgrade your version of Maven, that&#39;s what fixed this for me.  \r\n\r\n    export M2_HOME=/.../java/Maven/apache-maven-3.9.0\r\n    echo | mvn -v\r\n\r\nOlder versions of mvn don&#39;t work with later versions of java","title":"Maven build Compilation error : Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project Maven","body":"<p>Try upgrade your version of Maven, that's what fixed this for me.</p>\n<pre><code>export M2_HOME=/.../java/Maven/apache-maven-3.9.0\necho | mvn -v\n</code></pre>\n<p>Older versions of mvn don't work with later versions of java</p>\n"},{"tags":[],"owner":{"account_id":3800101,"reputation":21,"user_id":6463231,"display_name":"crix"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686576605,"creation_date":1686576605,"answer_id":76457169,"question_id":42525139,"body_markdown":"I solved with adding this to the active profile in settings.xml\r\n\r\n    &lt;properties&gt;\r\n       &lt;JAVA_1_8_HOME&gt;c:\\Program Files\\Java\\jdk-1.8\\&lt;/JAVA_1_8_HOME&gt;\r\n    &lt;/properties&gt;","title":"Maven build Compilation error : Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project Maven","body":"<p>I solved with adding this to the active profile in settings.xml</p>\n<pre><code>&lt;properties&gt;\n   &lt;JAVA_1_8_HOME&gt;c:\\Program Files\\Java\\jdk-1.8\\&lt;/JAVA_1_8_HOME&gt;\n&lt;/properties&gt;\n</code></pre>\n"}],"owner":{"account_id":1587261,"reputation":9583,"user_id":1471314,"accept_rate":43,"display_name":"roger_that"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1091772,"favorite_count":0,"down_vote_count":1,"up_vote_count":133,"answer_count":32,"score":132,"last_activity_date":1686576605,"creation_date":1488351378,"question_id":42525139,"body_markdown":"I have a maven project forked and cloned from a git repo onto my eclipse. It is build on Java 8. The first thing i do is perform a    \r\n\r\n    mvn clean install\r\n\r\nBut I get following failure message:\r\n\r\n    [INFO] Scanning for projects...\r\n    [INFO]                                                                         \r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Building Maven 0.0.1-SNAPSHOT\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] \r\n    [INFO] --- maven-clean-plugin:2.5:clean (default-clean) @ Maven ---\r\n    [INFO] Deleting /Users/vshukla/git/Prism/target\r\n    [INFO] \r\n    [INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ Maven ---\r\n    [WARNING] Using platform encoding (UTF-8 actually) to copy filtered resources, i.e. build is platform dependent!\r\n    [INFO] skip non existing resourceDirectory /Users/vshukla/git/Prism/src/main/resources\r\n    [INFO] \r\n    [INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ Maven ---\r\n    [INFO] Changes detected - recompiling the module!\r\n    [WARNING] File encoding has not been set, using platform encoding UTF-8, i.e. build is platform dependent!\r\n    [INFO] Compiling 66 source files to /Users/vshukla/git/Prism/target/classes\r\n    [INFO] -------------------------------------------------------------\r\n    [ERROR] COMPILATION ERROR : \r\n    [INFO] -------------------------------------------------------------\r\n    [ERROR] /Users/vshukla/git/Prism/src/main/java/PrenPost/scanUtility.java:[54,52] diamond operator is not supported in -source 1.5\r\n      (use -source 7 or higher to enable diamond operator)\r\n    [ERROR] /Users/vshukla/git/Prism/src/main/java/main/AppUtility.java:[87,86] diamond operator is not supported in -source 1.5\r\n      (use -source 7 or higher to enable diamond operator)\r\n    [ERROR] /Users/vshukla/git/Prism/src/main/java/PrenPost/ComparisionUtility.java:[58,52] diamond operator is not supported in -source 1.5\r\n      (use -source 7 or higher to enable diamond operator)\r\n    [INFO] 3 errors \r\n    [INFO] -------------------------------------------------------------\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time: 1.266 s\r\n    [INFO] Finished at: 2017-03-01T12:11:27+05:30\r\n    [INFO] Final Memory: 13M/309M\r\n    [INFO] ------------------------------------------------------------------------\r\n    [ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project Maven: Compilation failure: Compilation failure:\r\n    [ERROR] /Users/vshukla/git/Prism/src/main/java/PrenPost/scanUtility.java:[54,52] diamond operator is not supported in -source 1.5\r\n    [ERROR] (use -source 7 or higher to enable diamond operator)\r\n    [ERROR] /Users/vshukla/git/Prism/src/main/java/main/AppUtility.java:[87,86] diamond operator is not supported in -source 1.5\r\n    [ERROR] (use -source 7 or higher to enable diamond operator)\r\n    [ERROR] /Users/vshukla/git/Prism/src/main/java/PrenPost/ComparisionUtility.java:[58,52] diamond operator is not supported in -source 1.5\r\n    [ERROR] (use -source 7 or higher to enable diamond operator)\r\n    [ERROR] -&gt; [Help 1]\r\n    [ERROR] \r\n    [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n    [ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n    [ERROR] \r\n    [ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n    [ERROR] [Help 1]   http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\r\n\r\n\r\nHowever, below is the build path details of the project which clearly has JRE - 8 set up:\r\n[![build path][1]][1]\r\n\r\nand the compilation set up:\r\n\r\n[![Compliance level][2]][2]\r\n\r\nNo matter how many times I build the project, i get the same error. Even after cleaning the project and refreshing it from eclipse doesn&#39;t help. Please guide.\r\n\r\n\r\n\r\n**UPDATE:**\r\n\r\nAfter adding the properties to set maven compiler plugin\r\n\r\n    &lt;properties&gt;\r\n     &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n     &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n\r\n, \r\n\r\nam getting the below error:\r\n\r\n    [INFO] Scanning for projects...\r\n    [INFO]                                                                         \r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Building Maven 0.0.1-SNAPSHOT\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] \r\n    [INFO] --- maven-clean-plugin:2.5:clean (default-clean) @ Maven ---\r\n    [INFO] Deleting /Users/vshukla/git/Prism/target\r\n    [INFO] \r\n    [INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ Maven ---\r\n    [WARNING] Using platform encoding (UTF-8 actually) to copy filtered resources, i.e. build is platform dependent!\r\n    [INFO] skip non existing resourceDirectory /Users/vshukla/git/Prism/src/main/resources\r\n    [INFO] \r\n    [INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ Maven ---\r\n    [INFO] Changes detected - recompiling the module!\r\n    [WARNING] File encoding has not been set, using platform encoding UTF-8, i.e. build is platform dependent!\r\n    [INFO] Compiling 66 source files to /Users/vshukla/git/Prism/target/classes\r\n    [INFO] -------------------------------------------------------------\r\n    [WARNING] COMPILATION WARNING : \r\n    [INFO] -------------------------------------------------------------\r\n    [WARNING] /Users/vshukla/git/Prism/src/main/java/main/MainUITabbed.java: /Users/vshukla/git/Prism/src/main/java/main/MainUITabbed.java uses or overrides a deprecated API.\r\n    [WARNING] /Users/vshukla/git/Prism/src/main/java/main/MainUITabbed.java: Recompile with -Xlint:deprecation for details.\r\n    [WARNING] /Users/vshukla/git/Prism/src/main/java/main/MainUITabbed.java: Some input files use unchecked or unsafe operations.\r\n    [WARNING] /Users/vshukla/git/Prism/src/main/java/main/MainUITabbed.java: Recompile with -Xlint:unchecked for details.\r\n    [INFO] 4 warnings \r\n    [INFO] -------------------------------------------------------------\r\n    [INFO] -------------------------------------------------------------\r\n    [ERROR] COMPILATION ERROR : \r\n    [INFO] -------------------------------------------------------------\r\n    [ERROR] /Users/vshukla/git/Prism/src/main/java/main/MainUITabbed.java:[26,22] package com.apple.eawt does not exist\r\n    [ERROR] /Users/vshukla/git/Prism/src/main/java/main/MainUITabbed.java:[93,41] cannot find symbol\r\n      symbol: class Application\r\n    [ERROR] /Users/vshukla/git/Prism/src/main/java/main/MainUITabbed.java:[93,67] cannot find symbol\r\n      symbol: variable Application\r\n    [INFO] 3 errors \r\n    [INFO] -------------------------------------------------------------\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time: 2.591 s\r\n    [INFO] Finished at: 2017-03-01T13:09:47+05:30\r\n    [INFO] Final Memory: 21M/347M\r\n    [INFO] ------------------------------------------------------------------------\r\n    [ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project Maven: Compilation failure: Compilation failure:\r\n    [ERROR] /Users/vshukla/git/Prism/src/main/java/main/MainUITabbed.java:[26,22] package com.apple.eawt does not exist\r\n    [ERROR] /Users/vshukla/git/Prism/src/main/java/main/MainUITabbed.java:[93,41] cannot find symbol\r\n    [ERROR] symbol: class Application\r\n    [ERROR] /Users/vshukla/git/Prism/src/main/java/main/MainUITabbed.java:[93,67] cannot find symbol\r\n    [ERROR] symbol: variable Application\r\n    [ERROR] -&gt; [Help 1]\r\n    [ERROR] \r\n    [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n    [ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n    [ERROR] \r\n    [ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n    [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\r\n\r\n\r\nAnd here is the code snippet giving the compilation error from MainUITabbed class:\r\n\r\n    import com.apple.eawt.Application;\r\n    public static void main(String[] args) {\r\n    \tEventQueue.invokeLater(new Runnable() {\r\n    \t\tpublic void run() {\r\n    \t\t\ttry {\r\n    \t\t\t\t\r\n    \r\n    \t\t\t\tApplication application = Application.getApplication(); // line 93\r\n    \t\t\t\r\n    \t\t\t\tImageIcon imgicon = new ImageIcon(getClass().getResource(\r\n    \t\t\t\t\t\t&quot;ICON.jpg&quot;));\r\n    \t\t\t\tImage img = imgicon.getImage();\r\n    \r\n    \t\t\t\t\r\n    \t\t\t\tapplication.setDockIconImage(img);\r\n    \t\t\t\t\r\n    \t\t\t\tMainUITabbed frame = new MainUITabbed();\r\n    \t\t\t\tframe.setVisible(true);\r\n    \t\t\t} catch (Exception e) {\r\n    \t\t\t\te.printStackTrace();\r\n    \r\n    \t\t\t}\r\n    \t\t}\r\n    \t});\r\n    }\r\n     \r\n\r\n  [1]: https://i.stack.imgur.com/kz3U7.png\r\n  [2]: https://i.stack.imgur.com/kkZmb.png\r\n","title":"Maven build Compilation error : Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project Maven","body":"<p>I have a maven project forked and cloned from a git repo onto my eclipse. It is build on Java 8. The first thing i do is perform a    </p>\n\n<pre><code>mvn clean install\n</code></pre>\n\n<p>But I get following failure message:</p>\n\n<pre><code>[INFO] Scanning for projects...\n[INFO]                                                                         \n[INFO] ------------------------------------------------------------------------\n[INFO] Building Maven 0.0.1-SNAPSHOT\n[INFO] ------------------------------------------------------------------------\n[INFO] \n[INFO] --- maven-clean-plugin:2.5:clean (default-clean) @ Maven ---\n[INFO] Deleting /Users/vshukla/git/Prism/target\n[INFO] \n[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ Maven ---\n[WARNING] Using platform encoding (UTF-8 actually) to copy filtered resources, i.e. build is platform dependent!\n[INFO] skip non existing resourceDirectory /Users/vshukla/git/Prism/src/main/resources\n[INFO] \n[INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ Maven ---\n[INFO] Changes detected - recompiling the module!\n[WARNING] File encoding has not been set, using platform encoding UTF-8, i.e. build is platform dependent!\n[INFO] Compiling 66 source files to /Users/vshukla/git/Prism/target/classes\n[INFO] -------------------------------------------------------------\n[ERROR] COMPILATION ERROR : \n[INFO] -------------------------------------------------------------\n[ERROR] /Users/vshukla/git/Prism/src/main/java/PrenPost/scanUtility.java:[54,52] diamond operator is not supported in -source 1.5\n  (use -source 7 or higher to enable diamond operator)\n[ERROR] /Users/vshukla/git/Prism/src/main/java/main/AppUtility.java:[87,86] diamond operator is not supported in -source 1.5\n  (use -source 7 or higher to enable diamond operator)\n[ERROR] /Users/vshukla/git/Prism/src/main/java/PrenPost/ComparisionUtility.java:[58,52] diamond operator is not supported in -source 1.5\n  (use -source 7 or higher to enable diamond operator)\n[INFO] 3 errors \n[INFO] -------------------------------------------------------------\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 1.266 s\n[INFO] Finished at: 2017-03-01T12:11:27+05:30\n[INFO] Final Memory: 13M/309M\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project Maven: Compilation failure: Compilation failure:\n[ERROR] /Users/vshukla/git/Prism/src/main/java/PrenPost/scanUtility.java:[54,52] diamond operator is not supported in -source 1.5\n[ERROR] (use -source 7 or higher to enable diamond operator)\n[ERROR] /Users/vshukla/git/Prism/src/main/java/main/AppUtility.java:[87,86] diamond operator is not supported in -source 1.5\n[ERROR] (use -source 7 or higher to enable diamond operator)\n[ERROR] /Users/vshukla/git/Prism/src/main/java/PrenPost/ComparisionUtility.java:[58,52] diamond operator is not supported in -source 1.5\n[ERROR] (use -source 7 or higher to enable diamond operator)\n[ERROR] -&gt; [Help 1]\n[ERROR] \n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1]   http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\n</code></pre>\n\n<p>However, below is the build path details of the project which clearly has JRE - 8 set up:\n<a href=\"https://i.stack.imgur.com/kz3U7.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/kz3U7.png\" alt=\"build path\"></a></p>\n\n<p>and the compilation set up:</p>\n\n<p><a href=\"https://i.stack.imgur.com/kkZmb.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/kkZmb.png\" alt=\"Compliance level\"></a></p>\n\n<p>No matter how many times I build the project, i get the same error. Even after cleaning the project and refreshing it from eclipse doesn't help. Please guide.</p>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>After adding the properties to set maven compiler plugin</p>\n\n<pre><code>&lt;properties&gt;\n &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n&lt;/properties&gt;\n</code></pre>\n\n<p>, </p>\n\n<p>am getting the below error:</p>\n\n<pre><code>[INFO] Scanning for projects...\n[INFO]                                                                         \n[INFO] ------------------------------------------------------------------------\n[INFO] Building Maven 0.0.1-SNAPSHOT\n[INFO] ------------------------------------------------------------------------\n[INFO] \n[INFO] --- maven-clean-plugin:2.5:clean (default-clean) @ Maven ---\n[INFO] Deleting /Users/vshukla/git/Prism/target\n[INFO] \n[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ Maven ---\n[WARNING] Using platform encoding (UTF-8 actually) to copy filtered resources, i.e. build is platform dependent!\n[INFO] skip non existing resourceDirectory /Users/vshukla/git/Prism/src/main/resources\n[INFO] \n[INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ Maven ---\n[INFO] Changes detected - recompiling the module!\n[WARNING] File encoding has not been set, using platform encoding UTF-8, i.e. build is platform dependent!\n[INFO] Compiling 66 source files to /Users/vshukla/git/Prism/target/classes\n[INFO] -------------------------------------------------------------\n[WARNING] COMPILATION WARNING : \n[INFO] -------------------------------------------------------------\n[WARNING] /Users/vshukla/git/Prism/src/main/java/main/MainUITabbed.java: /Users/vshukla/git/Prism/src/main/java/main/MainUITabbed.java uses or overrides a deprecated API.\n[WARNING] /Users/vshukla/git/Prism/src/main/java/main/MainUITabbed.java: Recompile with -Xlint:deprecation for details.\n[WARNING] /Users/vshukla/git/Prism/src/main/java/main/MainUITabbed.java: Some input files use unchecked or unsafe operations.\n[WARNING] /Users/vshukla/git/Prism/src/main/java/main/MainUITabbed.java: Recompile with -Xlint:unchecked for details.\n[INFO] 4 warnings \n[INFO] -------------------------------------------------------------\n[INFO] -------------------------------------------------------------\n[ERROR] COMPILATION ERROR : \n[INFO] -------------------------------------------------------------\n[ERROR] /Users/vshukla/git/Prism/src/main/java/main/MainUITabbed.java:[26,22] package com.apple.eawt does not exist\n[ERROR] /Users/vshukla/git/Prism/src/main/java/main/MainUITabbed.java:[93,41] cannot find symbol\n  symbol: class Application\n[ERROR] /Users/vshukla/git/Prism/src/main/java/main/MainUITabbed.java:[93,67] cannot find symbol\n  symbol: variable Application\n[INFO] 3 errors \n[INFO] -------------------------------------------------------------\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 2.591 s\n[INFO] Finished at: 2017-03-01T13:09:47+05:30\n[INFO] Final Memory: 21M/347M\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project Maven: Compilation failure: Compilation failure:\n[ERROR] /Users/vshukla/git/Prism/src/main/java/main/MainUITabbed.java:[26,22] package com.apple.eawt does not exist\n[ERROR] /Users/vshukla/git/Prism/src/main/java/main/MainUITabbed.java:[93,41] cannot find symbol\n[ERROR] symbol: class Application\n[ERROR] /Users/vshukla/git/Prism/src/main/java/main/MainUITabbed.java:[93,67] cannot find symbol\n[ERROR] symbol: variable Application\n[ERROR] -&gt; [Help 1]\n[ERROR] \n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\n</code></pre>\n\n<p>And here is the code snippet giving the compilation error from MainUITabbed class:</p>\n\n<pre><code>import com.apple.eawt.Application;\npublic static void main(String[] args) {\n    EventQueue.invokeLater(new Runnable() {\n        public void run() {\n            try {\n\n\n                Application application = Application.getApplication(); // line 93\n\n                ImageIcon imgicon = new ImageIcon(getClass().getResource(\n                        \"ICON.jpg\"));\n                Image img = imgicon.getImage();\n\n\n                application.setDockIconImage(img);\n\n                MainUITabbed frame = new MainUITabbed();\n                frame.setVisible(true);\n            } catch (Exception e) {\n                e.printStackTrace();\n\n            }\n        }\n    });\n}\n</code></pre>\n"},{"tags":["java","r","excel","overwrite","r-xlsx"],"comments":[{"owner":{"account_id":1102504,"reputation":66096,"user_id":1094597,"accept_rate":94,"display_name":"kosa"},"score":0,"creation_date":1421780698,"post_id":28053185,"comment_id":44488261,"body_markdown":"Here is example, go to bottom of the article: https://danganothererror.wordpress.com/2012/02/12/write-data-frame-to-excel-file/","body":"Here is example, go to bottom of the article: <a href=\"https://danganothererror.wordpress.com/2012/02/12/write-data-frame-to-excel-file/\" rel=\"nofollow noreferrer\">danganothererror.wordpress.com/2012/02/12/&hellip;</a>"},{"owner":{"account_id":5287362,"reputation":3248,"user_id":4351030,"accept_rate":85,"display_name":"Steven"},"score":0,"creation_date":1421781270,"post_id":28053185,"comment_id":44488568,"body_markdown":"I don&#39;t think `write.xlsx()` will overwrite an existing worksheet.  Can you read the entire `.xlsx` file in and re-write all of the worksheets, including whatever the new sheet you need?","body":"I don&#39;t think <code>write.xlsx()</code> will overwrite an existing worksheet.  Can you read the entire <code>.xlsx</code> file in and re-write all of the worksheets, including whatever the new sheet you need?"},{"owner":{"account_id":474597,"reputation":20710,"user_id":884372,"accept_rate":95,"display_name":"Carl Witthoft"},"score":0,"creation_date":1421785958,"post_id":28053185,"comment_id":44491080,"body_markdown":"We don&#39;t usually support &quot;fixing&quot; things on obsolete versions of R.  Any reason you can&#39;t update to 3.1.2 and matching packages?","body":"We don&#39;t usually support &quot;fixing&quot; things on obsolete versions of R.  Any reason you can&#39;t update to 3.1.2 and matching packages?"},{"owner":{"account_id":14795440,"reputation":371,"user_id":11012216,"display_name":"David"},"score":0,"creation_date":1559559847,"post_id":28053185,"comment_id":99446659,"body_markdown":"@CarlWitthoft A few versions later, the &quot;problem&quot; still exists. It&#39;s not a bug, but a desired behaiviour that prevents you from overriding your sheets","body":"@CarlWitthoft A few versions later, the &quot;problem&quot; still exists. It&#39;s not a bug, but a desired behaiviour that prevents you from overriding your sheets"}],"answers":[{"tags":[],"owner":{"account_id":5801494,"reputation":251,"user_id":4575534,"display_name":"solmonta"},"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1424177358,"creation_date":1424177358,"answer_id":28561911,"question_id":28053185,"body_markdown":"If you want to save your new dataframe in an existing excel file, you first have to load the xlsx-file:\r\n\r\n    wb &lt;- loadWorkbook(file)\r\n\r\nwhich sheets you have you&#39;ll get like this:\r\n\r\n    sheets &lt;- getSheets(wb)\r\n\r\nyou can easily remove and add (and thus replace) sheets with:\r\n\r\n    removeSheet(wb, sheetName=&quot;Sheet1&quot;)\r\n    yourSheet &lt;- createSheet(wb, sheetName=&quot;Sheet1&quot;)\r\n\r\nthan you can fill the sheets with dataframes:\r\n\r\n    addDataFrame(yourDataFrame, yourSheet, &lt;options&gt;)\r\n    addDataFrame(anotherDataFrame, yourSheet, startRow=nrow(yourDataFrame)+2)\r\n\r\nand last step is saving the whole workbook as .xlsx:\r\n\r\n    saveWorkbook(wb, file)\r\n\r\n\r\nbtw: the documentation of the xlsx-package is really good and helpful on such questions :) \r\nhttp://cran.r-project.org/web/packages/xlsx/xlsx.pdf\r\n","title":"Using write.xlsx to replace an existing sheet with R package xlsx","body":"<p>If you want to save your new dataframe in an existing excel file, you first have to load the xlsx-file:</p>\n\n<pre><code>wb &lt;- loadWorkbook(file)\n</code></pre>\n\n<p>which sheets you have you'll get like this:</p>\n\n<pre><code>sheets &lt;- getSheets(wb)\n</code></pre>\n\n<p>you can easily remove and add (and thus replace) sheets with:</p>\n\n<pre><code>removeSheet(wb, sheetName=\"Sheet1\")\nyourSheet &lt;- createSheet(wb, sheetName=\"Sheet1\")\n</code></pre>\n\n<p>than you can fill the sheets with dataframes:</p>\n\n<pre><code>addDataFrame(yourDataFrame, yourSheet, &lt;options&gt;)\naddDataFrame(anotherDataFrame, yourSheet, startRow=nrow(yourDataFrame)+2)\n</code></pre>\n\n<p>and last step is saving the whole workbook as .xlsx:</p>\n\n<pre><code>saveWorkbook(wb, file)\n</code></pre>\n\n<p>btw: the documentation of the xlsx-package is really good and helpful on such questions :) \n<a href=\"http://cran.r-project.org/web/packages/xlsx/xlsx.pdf\">http://cran.r-project.org/web/packages/xlsx/xlsx.pdf</a></p>\n"},{"tags":[],"owner":{"account_id":8002439,"reputation":1984,"user_id":6036809,"display_name":"David C."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1472764242,"creation_date":1472764242,"answer_id":39280908,"question_id":28053185,"body_markdown":"It may be that the Java installed on your computer is incompatible with the xlsx library. The following thread discusses a similar issue with regard to the same package:\r\n[enter link description here][1]\r\n\r\n\r\nAlternatively, your issue may be solved by a different Excel-related package, such as XLConnect. See this post:\r\n[enter link description here][2]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/28325744/r-xlsx-package-error\r\n  [2]: https://stackoverflow.com/questions/27713310/r-easy-way-to-export-multiple-data-frame-to-multiple-excel-worksheets","title":"Using write.xlsx to replace an existing sheet with R package xlsx","body":"<p>It may be that the Java installed on your computer is incompatible with the xlsx library. The following thread discusses a similar issue with regard to the same package:\n<a href=\"https://stackoverflow.com/questions/28325744/r-xlsx-package-error\">enter link description here</a></p>\n\n<p>Alternatively, your issue may be solved by a different Excel-related package, such as XLConnect. See this post:\n<a href=\"https://stackoverflow.com/questions/27713310/r-easy-way-to-export-multiple-data-frame-to-multiple-excel-worksheets\">enter link description here</a></p>\n"},{"tags":[],"owner":{"account_id":8662781,"reputation":386,"user_id":11918475,"display_name":"Rolando Gonzales"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686576601,"creation_date":1686576601,"answer_id":76457166,"question_id":28053185,"body_markdown":"Not with R package xlsx but with the alternative R package **openxlsx**, which has an &quot;overwrite&quot; option:\r\n\r\n    library(openxlsx)\r\n    write.xlsx(yourdataframe, file = &quot;~/yourexcelfile.xlsx&quot;,\r\n    sheetName = &quot;yourexcelsheetname&quot;, overwrite = TRUE)","title":"Using write.xlsx to replace an existing sheet with R package xlsx","body":"<p>Not with R package xlsx but with the alternative R package <strong>openxlsx</strong>, which has an &quot;overwrite&quot; option:</p>\n<pre><code>library(openxlsx)\nwrite.xlsx(yourdataframe, file = &quot;~/yourexcelfile.xlsx&quot;,\nsheetName = &quot;yourexcelsheetname&quot;, overwrite = TRUE)\n</code></pre>\n"}],"owner":{"account_id":4174226,"reputation":329,"user_id":3570800,"display_name":"Filippo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29845,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"answer_count":3,"score":14,"last_activity_date":1686576601,"creation_date":1421780476,"question_id":28053185,"body_markdown":"I am using  package `xlsx` Version:0.5.7 Date: 2014-08-01. in R version 3.0.1 (2013-05-16) -- &quot;Good Sport&quot; Platform: i386-w64-mingw32/i386 (32-bit).\r\n\r\nI have an xlsx file with at least 2 sheets (say A and B). I need to read data from A, edit them and save them in B. This has to be done on a periodical base.\r\n\r\nI am able to read data from A with `read.xlsx`. After editing the data frame I want to save it in an existing sheet B in the same xlsx file. \r\n\r\nI try with this line \r\n\r\n    write.xlsx(down, paste0(root,&#39;/registration reports/registration complete_WK.xlsx&#39;), sheet=&quot;data_final&quot;, col.names=T, row.names=F, append=T, showNA=F)\r\n\r\nbut it give me this error:\r\n\r\n\r\n    Error in `.jcall(wb, &quot;Lorg/apache/poi/ss/usermodel/Sheet;&quot;, &quot;createSheet&quot;, ` : \r\n      java.lang.IllegalArgumentException: The workbook already contains a sheet of this name\r\n\r\nI need to replace that existing sheet multiple times. How can I do that?  \r\n\r\n","title":"Using write.xlsx to replace an existing sheet with R package xlsx","body":"<p>I am using  package <code>xlsx</code> Version:0.5.7 Date: 2014-08-01. in R version 3.0.1 (2013-05-16) -- &quot;Good Sport&quot; Platform: i386-w64-mingw32/i386 (32-bit).</p>\n<p>I have an xlsx file with at least 2 sheets (say A and B). I need to read data from A, edit them and save them in B. This has to be done on a periodical base.</p>\n<p>I am able to read data from A with <code>read.xlsx</code>. After editing the data frame I want to save it in an existing sheet B in the same xlsx file.</p>\n<p>I try with this line</p>\n<pre><code>write.xlsx(down, paste0(root,'/registration reports/registration complete_WK.xlsx'), sheet=&quot;data_final&quot;, col.names=T, row.names=F, append=T, showNA=F)\n</code></pre>\n<p>but it give me this error:</p>\n<pre><code>Error in `.jcall(wb, &quot;Lorg/apache/poi/ss/usermodel/Sheet;&quot;, &quot;createSheet&quot;, ` : \n  java.lang.IllegalArgumentException: The workbook already contains a sheet of this name\n</code></pre>\n<p>I need to replace that existing sheet multiple times. How can I do that?</p>\n"},{"tags":["java","android","debugging","android-camera"],"comments":[{"owner":{"account_id":3294086,"reputation":3607,"user_id":2771717,"display_name":"Autocrab"},"score":1,"creation_date":1422512803,"post_id":28207123,"comment_id":44781296,"body_markdown":"updated, added source code.","body":"updated, added source code."},{"owner":{"account_id":3294086,"reputation":3607,"user_id":2771717,"display_name":"Autocrab"},"score":0,"creation_date":1422515882,"post_id":28207123,"comment_id":44782635,"body_markdown":"there can be only one connection at time. that&#39;s why if session is connected, then socket will be closed. It&#39;s wifi p2p connection. but anr is showing even if i remove this code and connect via bluetooth","body":"there can be only one connection at time. that&#39;s why if session is connected, then socket will be closed. It&#39;s wifi p2p connection. but anr is showing even if i remove this code and connect via bluetooth"},{"owner":{"account_id":9910635,"reputation":762,"user_id":7337499,"accept_rate":100,"display_name":"Ebrahim Karimi"},"score":0,"creation_date":1686078888,"post_id":28207123,"comment_id":134749346,"body_markdown":"I&#39;m facing the same problem please update your pastebin link","body":"I&#39;m facing the same problem please update your pastebin link"}],"answers":[{"tags":[],"owner":{"account_id":13964622,"reputation":49,"user_id":10084790,"display_name":"Shmuel Greenberger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686576440,"creation_date":1686576440,"answer_id":76457148,"question_id":28207123,"body_markdown":"Try to use the JConsole -&gt; Threads (the tab) -&gt; Detect deadlock (button on bottom left). The thread list on the side may also be an easier way to detect the threads that may be conflicting.","title":"Debugging Android ANR. The Worst","body":"<p>Try to use the JConsole -&gt; Threads (the tab) -&gt; Detect deadlock (button on bottom left). The thread list on the side may also be an easier way to detect the threads that may be conflicting.</p>\n"}],"owner":{"account_id":3294086,"reputation":3607,"user_id":2771717,"display_name":"Autocrab"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3323,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1686576440,"creation_date":1422506427,"question_id":28207123,"body_markdown":"After some updates, my applications started to show ANR dialog. Specifically it&#39;s showing it once per 30 seconds and doesn&#39;t stop before process is killed. I&#39;ve reviewed whole code and didn&#39;t find UI file/network access. So i&#39;ve googled and found out that it could be a deadlock. i&#39;ve pulled traces.txt file from device, but this information gave me nothing. There is traces:\r\n\r\n    ----- pid 15756 at 2015-01-28 17:53:32 -----\r\n    Cmd line: com.sapphire.microphone:CameraServiceProcess\r\n    ABI: arm\r\n    Build type: optimized\r\n    Loaded classes: 3647 allocated classes\r\n    Intern table: 4694 strong; 312 weak\r\n    JNI: CheckJNI is on; globals=249 (plus 1 weak)\r\n    Libraries: /data/app/com.sapphire.microphone-1/lib/arm/libspeex.so /system/lib/libandroid.so /system/lib/libaudioeffect_jni.so /system/lib/libcompiler_rt.so /system/lib/libjavacrypto.so /system/lib/libjnigraphics.so /system/lib/libmedia_jni.so /system/lib/librs_jni.so /system/lib/libsoundpool.so /system/lib/libwebviewchromium_loader.so libjavacore.so (11)\r\n    Heap: 12% free, 18MB/21MB; 51428 objects\r\n    Dumping cumulative Gc timings\r\n    Start Dumping histograms for 1 iterations for sticky concurrent mark sweep\r\n    MarkRootsCheckpoint:\tSum: 7.194ms 99% C.I. 0.362ms-6.832ms Avg: 3.597ms Max: 6.832ms\r\n    ScanGrayImageSpaceObjects:\tSum: 2.213ms 99% C.I. 0.095ms-2.118ms Avg: 1.106ms Max: 2.118ms\r\n    FreeList:\tSum: 2.008ms 99% C.I. 112us-178us Avg: 167.333us Max: 178us\r\n    MarkConcurrentRoots:\tSum: 1.711ms 99% C.I. 6us-1705us Avg: 855.500us Max: 1705us\r\n    ScanGrayZygoteSpaceObjects:\tSum: 1.048ms 99% C.I. 137us-911us Avg: 524us Max: 911us\r\n    ScanGrayAllocSpaceObjects:\tSum: 929us 99% C.I. 2us-835us Avg: 232.250us Max: 847us\r\n    ZygoteModUnionClearCards:\tSum: 477us 99% C.I. 233us-244us Avg: 238.500us Max: 244us\r\n    MarkingPhase:\tSum: 400us 99% C.I. 400us-400us Avg: 400us Max: 400us\r\n    SweepArray:\tSum: 360us 99% C.I. 360us-360us Avg: 360us Max: 360us\r\n    ImageModUnionClearCards:\tSum: 288us 99% C.I. 119us-169us Avg: 144us Max: 169us\r\n    AllocSpaceClearCards:\tSum: 225us 99% C.I. 2us-114us Avg: 56.250us Max: 114us\r\n    (Paused)ScanGrayZygoteSpaceObjects:\tSum: 135us 99% C.I. 135us-135us Avg: 135us Max: 135us\r\n    ReMarkRoots:\tSum: 133us 99% C.I. 133us-133us Avg: 133us Max: 133us\r\n    (Paused)ScanGrayImageSpaceObjects:\tSum: 92us 99% C.I. 92us-92us Avg: 92us Max: 92us\r\n    (Paused)ScanGrayAllocSpaceObjects:\tSum: 71us 99% C.I. 2us-69us Avg: 35.500us Max: 69us\r\n    MarkNonThreadRoots:\tSum: 58us 99% C.I. 20us-38us Avg: 29us Max: 38us\r\n    FinishPhase:\tSum: 52us 99% C.I. 52us-52us Avg: 52us Max: 52us\r\n    SweepSystemWeaks:\tSum: 38us 99% C.I. 38us-38us Avg: 38us Max: 38us\r\n    (Paused)PausePhase:\tSum: 26us 99% C.I. 26us-26us Avg: 26us Max: 26us\r\n    ProcessCards:\tSum: 21us 99% C.I. 8us-13us Avg: 10.500us Max: 13us\r\n    PreCleanCards:\tSum: 15us 99% C.I. 15us-15us Avg: 15us Max: 15us\r\n    ProcessMarkStack:\tSum: 11us 99% C.I. 0.250us-8us Avg: 2.750us Max: 8us\r\n    EnqueueFinalizerReferences:\tSum: 10us 99% C.I. 10us-10us Avg: 10us Max: 10us\r\n    BindBitmaps:\tSum: 8us 99% C.I. 8us-8us Avg: 8us Max: 8us\r\n    InitializePhase:\tSum: 7us 99% C.I. 7us-7us Avg: 7us Max: 7us\r\n    MarkRoots:\tSum: 6us 99% C.I. 6us-6us Avg: 6us Max: 6us\r\n    ProcessReferences:\tSum: 5us 99% C.I. 5us-5us Avg: 5us Max: 5us\r\n    SwapStacks:\tSum: 3us 99% C.I. 3us-3us Avg: 3us Max: 3us\r\n    FindDefaultSpaceBitmap:\tSum: 2us 99% C.I. 2us-2us Avg: 2us Max: 2us\r\n    (Paused)ProcessMarkStack:\tSum: 1us 99% C.I. 1us-1us Avg: 1us Max: 1us\r\n    Done Dumping histograms \r\n    sticky concurrent mark sweep paused:\tSum: 510us 99% C.I. 510us-510us Avg: 510us Max: 510us\r\n    sticky concurrent mark sweep total time: 17.647ms mean time: 17.647ms\r\n    sticky concurrent mark sweep freed: 11846 objects with total size 5MB\r\n    sticky concurrent mark sweep throughput: 696824/s / 304MB/s\r\n    Start Dumping histograms for 1 iterations for marksweep + semispace\r\n    ProcessMarkStack:\tSum: 8.984ms 99% C.I. 0.001ms-8.911ms Avg: 4.492ms Max: 8.983ms\r\n    ClearCardTable:\tSum: 6.088ms 99% C.I. 6.088ms-6.088ms Avg: 6.088ms Max: 6.088ms\r\n    MarkRoots:\tSum: 2.112ms 99% C.I. 2.112ms-2.112ms Avg: 2.112ms Max: 2.112ms\r\n    UpdateAndMarkImageModUnionTable:\tSum: 1.172ms 99% C.I. 1.172ms-1.172ms Avg: 1.172ms Max: 1.172ms\r\n    SweepLargeObjects:\tSum: 338us 99% C.I. 338us-338us Avg: 338us Max: 338us\r\n    RevokeAllThreadLocalBuffers:\tSum: 224us 99% C.I. 106us-118us Avg: 112us Max: 118us\r\n    ZygoteModUnionClearCards:\tSum: 171us 99% C.I. 171us-171us Avg: 171us Max: 171us\r\n    MarkStackAsLive:\tSum: 134us 99% C.I. 134us-134us Avg: 134us Max: 134us\r\n    ImageModUnionClearCards:\tSum: 120us 99% C.I. 120us-120us Avg: 120us Max: 120us\r\n    FinishPhase:\tSum: 118us 99% C.I. 118us-118us Avg: 118us Max: 118us\r\n    UpdateAndMarkZygoteModUnionTable:\tSum: 117us 99% C.I. 117us-117us Avg: 117us Max: 117us\r\n    AllocSpaceClearCards:\tSum: 86us 99% C.I. 1us-77us Avg: 28.666us Max: 77us\r\n    SweepSystemWeaks:\tSum: 50us 99% C.I. 50us-50us Avg: 50us Max: 50us\r\n    SweepAllocSpace:\tSum: 17us 99% C.I. 17us-17us Avg: 17us Max: 17us\r\n    RevokeAllThreadLocalAllocationStacks:\tSum: 15us 99% C.I. 15us-15us Avg: 15us Max: 15us\r\n    MarkReachableObjects:\tSum: 10us 99% C.I. 10us-10us Avg: 10us Max: 10us\r\n    ProcessCards:\tSum: 8us 99% C.I. 8us-8us Avg: 8us Max: 8us\r\n    (Paused)EnqueueFinalizerReferences:\tSum: 7us 99% C.I. 7us-7us Avg: 7us Max: 7us\r\n    ReclaimPhase:\tSum: 6us 99% C.I. 6us-6us Avg: 6us Max: 6us\r\n    (Paused)ProcessReferences:\tSum: 5us 99% C.I. 5us-5us Avg: 5us Max: 5us\r\n    InitializePhase:\tSum: 2us 99% C.I. 2us-2us Avg: 2us Max: 2us\r\n    PostGcVerificationPaused:\tSum: 0 99% C.I. 0ns-0ns Avg: 0ns Max: 0ns\r\n    Done Dumping histograms \r\n    marksweep + semispace paused:\tSum: 20.169ms 99% C.I. 20.169ms-20.169ms Avg: 20.169ms Max: 20.169ms\r\n    marksweep + semispace total time: 19.822ms mean time: 19.822ms\r\n    marksweep + semispace freed: 3469 objects with total size 1548KB\r\n    marksweep + semispace throughput: 182579/s / 79MB/s\r\n    Total time spent in GC: 37.469ms\r\n    Mean GC size throughput: 2GB/s\r\n    Mean GC object throughput: 5.86439e+07 objects/s\r\n    Total number of allocations 2248758\r\n    Total bytes allocated 129MB\r\n    Free memory 2MB\r\n    Free memory until GC 2MB\r\n    Free memory until OOME 493MB\r\n    Total memory 21MB\r\n    Max memory 512MB\r\n    Total mutator paused time: 20.679ms\r\n    Total time waiting for GC to complete: 3.583ms\r\n    \r\n    DALVIK THREADS (16):\r\n    &quot;main&quot; prio=5 tid=1 Native\r\n      | group=&quot;main&quot; sCount=1 dsCount=0 obj=0x734f2ec0 self=0xb5007800\r\n      | sysTid=15756 nice=0 cgrp=apps sched=0/0 handle=0xb6f69ec8\r\n      | state=S schedstat=( 51635212 97304004 262 ) utm=3 stm=2 core=0 HZ=100\r\n      | stack=0xbe033000-0xbe035000 stackSize=8MB\r\n      | held mutexes=\r\n      native: #00 pc 0003a97c  /system/lib/libc.so (__epoll_pwait+20)\r\n      native: #01 pc 00014571  /system/lib/libc.so (epoll_pwait+26)\r\n      native: #02 pc 0001457f  /system/lib/libc.so (epoll_wait+6)\r\n      native: #03 pc 000123c3  /system/lib/libutils.so (android::Looper::pollInner(int)+98)\r\n      native: #04 pc 000125ed  /system/lib/libutils.so (android::Looper::pollOnce(int, int*, int*, void**)+92)\r\n      native: #05 pc 0007fb61  /system/lib/libandroid_runtime.so (android::NativeMessageQueue::pollOnce(_JNIEnv*, int)+22)\r\n      native: #06 pc 000b0da7  /data/dalvik-cache/arm/system@framework@boot.oat (Java_android_os_MessageQueue_nativePollOnce__JI+102)\r\n      at android.os.MessageQueue.nativePollOnce(Native method)\r\n      at android.os.MessageQueue.next(MessageQueue.java:143)\r\n      at android.os.Looper.loop(Looper.java:122)\r\n      at android.app.ActivityThread.main(ActivityThread.java:5221)\r\n      at java.lang.reflect.Method.invoke!(Native method)\r\n      at java.lang.reflect.Method.invoke(Method.java:372)\r\n      at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:899)\r\n      at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:694)\r\n    \r\n    &quot;Heap thread pool worker thread 0&quot; prio=5 tid=2 Native (still starting up)\r\n      | group=&quot;&quot; sCount=1 dsCount=0 obj=0x0 self=0xaff0e400\r\n      | sysTid=15762 nice=0 cgrp=apps sched=0/0 handle=0xb50e9e80\r\n      | state=S schedstat=( 906615 183647 10 ) utm=0 stm=0 core=1 HZ=100\r\n      | stack=0xb487f000-0xb4881000 stackSize=1020KB\r\n      | held mutexes=\r\n      native: #00 pc 00012e98  /system/lib/libc.so (syscall+28)\r\n      native: #01 pc 000aa023  /system/lib/libart.so (art::ConditionVariable::Wait(art::Thread*)+98)\r\n      native: #02 pc 002405c5  /system/lib/libart.so (art::ThreadPool::GetTask(art::Thread*)+64)\r\n      native: #03 pc 0024055f  /system/lib/libart.so (art::ThreadPoolWorker::Run()+62)\r\n      native: #04 pc 00240e4d  /system/lib/libart.so (art::ThreadPoolWorker::Callback(void*)+60)\r\n      native: #05 pc 000162e3  /system/lib/libc.so (__pthread_start(void*)+30)\r\n      native: #06 pc 000142d3  /system/lib/libc.so (__start_thread+6)\r\n      (no managed stack frames)\r\n    \r\n    &quot;Heap thread pool worker thread 1&quot; prio=5 tid=3 Native (still starting up)\r\n      | group=&quot;&quot; sCount=1 dsCount=0 obj=0x0 self=0xafc0e400\r\n      | sysTid=15763 nice=0 cgrp=apps sched=0/0 handle=0xb50ea100\r\n      | state=S schedstat=( 721771 777396 6 ) utm=0 stm=0 core=1 HZ=100\r\n      | stack=0xb477d000-0xb477f000 stackSize=1020KB\r\n      | held mutexes=\r\n      native: #00 pc 00012e98  /system/lib/libc.so (syscall+28)\r\n      native: #01 pc 000aa023  /system/lib/libart.so (art::ConditionVariable::Wait(art::Thread*)+98)\r\n      native: #02 pc 002405c5  /system/lib/libart.so (art::ThreadPool::GetTask(art::Thread*)+64)\r\n      native: #03 pc 0024055f  /system/lib/libart.so (art::ThreadPoolWorker::Run()+62)\r\n      native: #04 pc 00240e4d  /system/lib/libart.so (art::ThreadPoolWorker::Callback(void*)+60)\r\n      native: #05 pc 000162e3  /system/lib/libc.so (__pthread_start(void*)+30)\r\n      native: #06 pc 000142d3  /system/lib/libc.so (__start_thread+6)\r\n      (no managed stack frames)\r\n    \r\n    &quot;Heap thread pool worker thread 2&quot; prio=5 tid=4 Native (still starting up)\r\n      | group=&quot;&quot; sCount=1 dsCount=0 obj=0x0 self=0xaf90e400\r\n      | sysTid=15764 nice=0 cgrp=apps sched=0/0 handle=0xb50ea380\r\n      | state=S schedstat=( 721614 1358022 4 ) utm=0 stm=0 core=1 HZ=100\r\n      | stack=0xb467d000-0xb467f000 stackSize=1020KB\r\n      | held mutexes=\r\n      native: #00 pc 00012e98  /system/lib/libc.so (syscall+28)\r\n      native: #01 pc 000aa023  /system/lib/libart.so (art::ConditionVariable::Wait(art::Thread*)+98)\r\n      native: #02 pc 002405c5  /system/lib/libart.so (art::ThreadPool::GetTask(art::Thread*)+64)\r\n      native: #03 pc 0024055f  /system/lib/libart.so (art::ThreadPoolWorker::Run()+62)\r\n      native: #04 pc 00240e4d  /system/lib/libart.so (art::ThreadPoolWorker::Callback(void*)+60)\r\n      native: #05 pc 000162e3  /system/lib/libc.so (__pthread_start(void*)+30)\r\n      native: #06 pc 000142d3  /system/lib/libc.so (__start_thread+6)\r\n      (no managed stack frames)\r\n    \r\n    &quot;Signal Catcher&quot; daemon prio=5 tid=5 Runnable\r\n      | group=&quot;system&quot; sCount=0 dsCount=0 obj=0x12c07080 self=0xaf60e400\r\n      | sysTid=15765 nice=0 cgrp=apps sched=0/0 handle=0xb50ea600\r\n      | state=R schedstat=( 246452811 74434949 189 ) utm=13 stm=11 core=0 HZ=100\r\n      | stack=0xb456f000-0xb4571000 stackSize=1012KB\r\n      | held mutexes= &quot;thread list lock&quot; &quot;mutator lock&quot;(exclusive held)\r\n      native: #00 pc 00004c58  /system/lib/libbacktrace_libc++.so (UnwindCurrent::Unwind(unsigned int, ucontext*)+23)\r\n      native: #01 pc 000034c1  /system/lib/libbacktrace_libc++.so (Backtrace::Unwind(unsigned int, ucontext*)+8)\r\n      native: #02 pc 002526ad  /system/lib/libart.so (art::DumpNativeStack(std::__1::basic_ostream&lt;char, std::__1::char_traits&lt;char&gt; &gt;&amp;, int, char const*, art::mirror::ArtMethod*)+84)\r\n      native: #03 pc 0023618b  /system/lib/libart.so (art::Thread::Dump(std::__1::basic_ostream&lt;char, std::__1::char_traits&lt;char&gt; &gt;&amp;) const+162)\r\n      native: #04 pc 0023f585  /system/lib/libart.so (art::ThreadList::DumpForSigQuit(std::__1::basic_ostream&lt;char, std::__1::char_traits&lt;char&gt; &gt;&amp;)+160)\r\n      native: #05 pc 00224563  /system/lib/libart.so (art::Runtime::DumpForSigQuit(std::__1::basic_ostream&lt;char, std::__1::char_traits&lt;char&gt; &gt;&amp;)+74)\r\n      native: #06 pc 0022a803  /system/lib/libart.so (art::SignalCatcher::HandleSigQuit()+782)\r\n      native: #07 pc 0022aeeb  /system/lib/libart.so (art::SignalCatcher::Run(void*)+338)\r\n      native: #08 pc 000162e3  /system/lib/libc.so (__pthread_start(void*)+30)\r\n      native: #09 pc 000142d3  /system/lib/libc.so (__start_thread+6)\r\n      (no managed stack frames)\r\n    \r\n    &quot;JDWP&quot; daemon prio=5 tid=6 WaitingInMainDebuggerLoop\r\n      | group=&quot;system&quot; sCount=1 dsCount=0 obj=0x12c070e0 self=0xaf30e400\r\n      | sysTid=15766 nice=0 cgrp=apps sched=0/0 handle=0xb50ea880\r\n      | state=S schedstat=( 1983127 2565363 18 ) utm=0 stm=0 core=0 HZ=100\r\n      | stack=0xb446b000-0xb446d000 stackSize=1012KB\r\n      | held mutexes=\r\n      native: #00 pc 000395b4  /system/lib/libc.so (__pselect6+20)\r\n      native: #01 pc 00015abb  /system/lib/libc.so (select+60)\r\n      native: #02 pc 00296d8f  /system/lib/libart.so (art::JDWP::JdwpAdbState::ProcessIncoming()+202)\r\n      native: #03 pc 00195f95  /system/lib/libart.so (art::JDWP::JdwpState::Run()+356)\r\n      native: #04 pc 001974e1  /system/lib/libart.so (art::JDWP::StartJdwpThread(void*)+16)\r\n      native: #05 pc 000162e3  /system/lib/libc.so (__pthread_start(void*)+30)\r\n      native: #06 pc 000142d3  /system/lib/libc.so (__start_thread+6)\r\n      (no managed stack frames)\r\n    \r\n    &quot;ReferenceQueueDaemon&quot; daemon prio=5 tid=7 Waiting\r\n      | group=&quot;system&quot; sCount=1 dsCount=0 obj=0x12c07140 self=0xac3b1400\r\n      | sysTid=15767 nice=0 cgrp=apps sched=0/0 handle=0xb50eab00\r\n      | state=S schedstat=( 2369793 692187 57 ) utm=0 stm=0 core=1 HZ=100\r\n      | stack=0xb4361000-0xb4363000 stackSize=1036KB\r\n      | held mutexes=\r\n      at java.lang.Object.wait!(Native method)\r\n      - waiting on &lt;0x371b1e9d&gt; (a java.lang.Class&lt;java.lang.ref.ReferenceQueue&gt;)\r\n      at java.lang.Daemons$ReferenceQueueDaemon.run(Daemons.java:133)\r\n      - locked &lt;0x371b1e9d&gt; (a java.lang.Class&lt;java.lang.ref.ReferenceQueue&gt;)\r\n      at java.lang.Thread.run(Thread.java:818)\r\n    \r\n    &quot;FinalizerWatchdogDaemon&quot; daemon prio=5 tid=8 Waiting\r\n      | group=&quot;system&quot; sCount=1 dsCount=0 obj=0x12c071a0 self=0xac3b1c00\r\n      | sysTid=15769 nice=0 cgrp=apps sched=0/0 handle=0xac3b2080\r\n      | state=S schedstat=( 1485313 5042237 30 ) utm=0 stm=0 core=1 HZ=100\r\n      | stack=0xb3ffa000-0xb3ffc000 stackSize=1036KB\r\n      | held mutexes=\r\n      at java.lang.Object.wait!(Native method)\r\n      - waiting on &lt;0x044e0f12&gt; (a java.lang.Daemons$FinalizerWatchdogDaemon)\r\n      at java.lang.Daemons$FinalizerWatchdogDaemon.waitForObject(Daemons.java:239)\r\n      - locked &lt;0x044e0f12&gt; (a java.lang.Daemons$FinalizerWatchdogDaemon)\r\n      at java.lang.Daemons$FinalizerWatchdogDaemon.run(Daemons.java:211)\r\n      at java.lang.Thread.run(Thread.java:818)\r\n    \r\n    &quot;FinalizerDaemon&quot; daemon prio=5 tid=9 Waiting\r\n      | group=&quot;system&quot; sCount=1 dsCount=0 obj=0x12c07200 self=0xac3b1800\r\n      | sysTid=15768 nice=0 cgrp=apps sched=0/0 handle=0xb50ead80\r\n      | state=S schedstat=( 3546042 3716407 27 ) utm=0 stm=0 core=1 HZ=100\r\n      | stack=0xb40fe000-0xb4100000 stackSize=1036KB\r\n      | held mutexes=\r\n      at java.lang.Object.wait!(Native method)\r\n      - waiting on &lt;0x17c016e3&gt; (a java.lang.ref.ReferenceQueue)\r\n      at java.lang.Object.wait(Object.java:422)\r\n      at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:101)\r\n      - locked &lt;0x17c016e3&gt; (a java.lang.ref.ReferenceQueue)\r\n      at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:72)\r\n      at java.lang.Daemons$FinalizerDaemon.run(Daemons.java:173)\r\n      at java.lang.Thread.run(Thread.java:818)\r\n    \r\n    &quot;HeapTrimmerDaemon&quot; daemon prio=5 tid=10 Waiting\r\n      | group=&quot;system&quot; sCount=1 dsCount=0 obj=0x12c07260 self=0xac87b800\r\n      | sysTid=15770 nice=0 cgrp=apps sched=0/0 handle=0xac3b2300\r\n      | state=S schedstat=( 82113595 48777811 138 ) utm=3 stm=5 core=1 HZ=100\r\n      | stack=0xb3bfe000-0xb3c00000 stackSize=1036KB\r\n      | held mutexes=\r\n      at java.lang.Object.wait!(Native method)\r\n      - waiting on &lt;0x3a5518e0&gt; (a java.lang.Daemons$HeapTrimmerDaemon)\r\n      at java.lang.Daemons$HeapTrimmerDaemon.run(Daemons.java:310)\r\n      - locked &lt;0x3a5518e0&gt; (a java.lang.Daemons$HeapTrimmerDaemon)\r\n      at java.lang.Thread.run(Thread.java:818)\r\n    \r\n    &quot;GCDaemon&quot; daemon prio=5 tid=11 Waiting\r\n      | group=&quot;system&quot; sCount=1 dsCount=0 obj=0x12c072c0 self=0xac87bc00\r\n      | sysTid=15771 nice=0 cgrp=apps sched=0/0 handle=0xac3b2580\r\n      | state=S schedstat=( 42271611 38934533 101 ) utm=3 stm=1 core=1 HZ=100\r\n      | stack=0xb3afa000-0xb3afc000 stackSize=1036KB\r\n      | held mutexes=\r\n      at java.lang.Object.wait!(Native method)\r\n      - waiting on &lt;0x21100799&gt; (a java.lang.Daemons$GCDaemon)\r\n      at java.lang.Daemons$GCDaemon.run(Daemons.java:341)\r\n      - locked &lt;0x21100799&gt; (a java.lang.Daemons$GCDaemon)\r\n      at java.lang.Thread.run(Thread.java:818)\r\n    \r\n    &quot;Binder_1&quot; prio=5 tid=12 Native\r\n      | group=&quot;main&quot; sCount=1 dsCount=0 obj=0x12c07320 self=0xaf806400\r\n      | sysTid=15772 nice=0 cgrp=apps sched=0/0 handle=0xac3b2800\r\n      | state=S schedstat=( 14070157 51598488 38 ) utm=1 stm=0 core=0 HZ=100\r\n      | stack=0xafe04000-0xafe06000 stackSize=1012KB\r\n      | held mutexes=\r\n      native: #00 pc 0003ac04  /system/lib/libc.so (__ioctl+8)\r\n      native: #01 pc 00051775  /system/lib/libc.so (ioctl+14)\r\n      native: #02 pc 0001f39b  /system/lib/libbinder.so (android::IPCThreadState::talkWithDriver(bool)+138)\r\n      native: #03 pc 0001f88b  /system/lib/libbinder.so (android::IPCThreadState::getAndExecuteCommand()+6)\r\n      native: #04 pc 0001f8ed  /system/lib/libbinder.so (android::IPCThreadState::joinThreadPool(bool)+48)\r\n      native: #05 pc 00023a5b  /system/lib/libbinder.so (???)\r\n      native: #06 pc 000104d5  /system/lib/libutils.so (android::Thread::_threadLoop(void*)+112)\r\n      native: #07 pc 0005df4d  /system/lib/libandroid_runtime.so (android::AndroidRuntime::javaThreadShell(void*)+72)\r\n      native: #08 pc 00010045  /system/lib/libutils.so (???)\r\n      native: #09 pc 000162e3  /system/lib/libc.so (__pthread_start(void*)+30)\r\n      native: #10 pc 000142d3  /system/lib/libc.so (__start_thread+6)\r\n      (no managed stack frames)\r\n    \r\n    &quot;Binder_2&quot; prio=5 tid=13 Native\r\n      | group=&quot;main&quot; sCount=1 dsCount=0 obj=0x12c07380 self=0xa4106400\r\n      | sysTid=15774 nice=0 cgrp=apps sched=0/0 handle=0xaf826080\r\n      | state=S schedstat=( 12279324 16626666 31 ) utm=0 stm=1 core=2 HZ=100\r\n      | stack=0xaf504000-0xaf506000 stackSize=1012KB\r\n      | held mutexes=\r\n      native: #00 pc 0003ac04  /system/lib/libc.so (__ioctl+8)\r\n      native: #01 pc 00051775  /system/lib/libc.so (ioctl+14)\r\n      native: #02 pc 0001f39b  /system/lib/libbinder.so (android::IPCThreadState::talkWithDriver(bool)+138)\r\n      native: #03 pc 0001f88b  /system/lib/libbinder.so (android::IPCThreadState::getAndExecuteCommand()+6)\r\n      native: #04 pc 0001f8ed  /system/lib/libbinder.so (android::IPCThreadState::joinThreadPool(bool)+48)\r\n      native: #05 pc 00023a5b  /system/lib/libbinder.so (???)\r\n      native: #06 pc 000104d5  /system/lib/libutils.so (android::Thread::_threadLoop(void*)+112)\r\n      native: #07 pc 0005df4d  /system/lib/libandroid_runtime.so (android::AndroidRuntime::javaThreadShell(void*)+72)\r\n      native: #08 pc 00010045  /system/lib/libutils.so (???)\r\n      native: #09 pc 000162e3  /system/lib/libc.so (__pthread_start(void*)+30)\r\n      native: #10 pc 000142d3  /system/lib/libc.so (__start_thread+6)\r\n      (no managed stack frames)\r\n    \r\n    &quot;Binder_3&quot; prio=5 tid=14 Native\r\n      | group=&quot;main&quot; sCount=1 dsCount=0 obj=0x12c073e0 self=0xa3f06400\r\n      | sysTid=15775 nice=0 cgrp=apps sched=0/0 handle=0xa4126080\r\n      | state=S schedstat=( 8225574 1019739 17 ) utm=0 stm=0 core=0 HZ=100\r\n      | stack=0xa4004000-0xa4006000 stackSize=1012KB\r\n      | held mutexes=\r\n      native: #00 pc 0003ac04  /system/lib/libc.so (__ioctl+8)\r\n      native: #01 pc 00051775  /system/lib/libc.so (ioctl+14)\r\n      native: #02 pc 0001f39b  /system/lib/libbinder.so (android::IPCThreadState::talkWithDriver(bool)+138)\r\n      native: #03 pc 0001f88b  /system/lib/libbinder.so (android::IPCThreadState::getAndExecuteCommand()+6)\r\n      native: #04 pc 0001f8ed  /system/lib/libbinder.so (android::IPCThreadState::joinThreadPool(bool)+48)\r\n      native: #05 pc 00023a5b  /system/lib/libbinder.so (???)\r\n      native: #06 pc 000104d5  /system/lib/libutils.so (android::Thread::_threadLoop(void*)+112)\r\n      native: #07 pc 0005df4d  /system/lib/libandroid_runtime.so (android::AndroidRuntime::javaThreadShell(void*)+72)\r\n      native: #08 pc 00010045  /system/lib/libutils.so (???)\r\n      native: #09 pc 000162e3  /system/lib/libc.so (__pthread_start(void*)+30)\r\n      native: #10 pc 000142d3  /system/lib/libc.so (__start_thread+6)\r\n      (no managed stack frames)\r\n    \r\n    &quot;pool-1-thread-1&quot; prio=5 tid=15 Waiting\r\n      | group=&quot;main&quot; sCount=1 dsCount=0 obj=0x12c07440 self=0xac87c400\r\n      | sysTid=15785 nice=0 cgrp=apps sched=0/0 handle=0xac3b2d00\r\n      | state=S schedstat=( 846302 2156146 3 ) utm=0 stm=0 core=3 HZ=100\r\n      | stack=0xa35e1000-0xa35e3000 stackSize=1036KB\r\n      | held mutexes=\r\n      at java.lang.Object.wait!(Native method)\r\n      - waiting on &lt;0x2f7a0a5e&gt; (a java.lang.Object)\r\n      at java.lang.Thread.parkFor(Thread.java:1220)\r\n      - locked &lt;0x2f7a0a5e&gt; (a java.lang.Object)\r\n      at sun.misc.Unsafe.park(Unsafe.java:299)\r\n      at java.util.concurrent.locks.LockSupport.park(LockSupport.java:157)\r\n      at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2016)\r\n      at java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:410)\r\n      at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1035)\r\n      at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1097)\r\n      at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:587)\r\n      at java.lang.Thread.run(Thread.java:818)\r\n    \r\n    &quot;ActionsThreadPool-Thread&quot; prio=4 tid=17 Waiting\r\n      | group=&quot;main&quot; sCount=1 dsCount=0 obj=0x12c07500 self=0xac3a2800\r\n      | sysTid=15787 nice=0 cgrp=apps sched=0/0 handle=0xac3b3200\r\n      | state=S schedstat=( 295066775 148488168 375 ) utm=25 stm=4 core=1 HZ=100\r\n      | stack=0xa2ffe000-0xa3000000 stackSize=1036KB\r\n      | held mutexes=\r\n      at java.lang.Object.wait!(Native method)\r\n      - waiting on &lt;0x08d33e3f&gt; (a java.lang.Object)\r\n      at java.lang.Thread.parkFor(Thread.java:1220)\r\n      - locked &lt;0x08d33e3f&gt; (a java.lang.Object)\r\n      at sun.misc.Unsafe.park(Unsafe.java:299)\r\n      at java.util.concurrent.locks.LockSupport.park(LockSupport.java:157)\r\n      at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2016)\r\n      at java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:410)\r\n      at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1035)\r\n      at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1097)\r\n      at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:587)\r\n      at java.lang.Thread.run(Thread.java:818)\r\n    \r\n    ----- end 15756 -----\r\n\r\n\r\nThe application is capturing video from camera and audio stream from socket (TCP or Bluetooth) simultaneously. ANR is showing up when I start to capture.\r\n\r\nThe code of service, that receives audio data is there:\r\nhttp://pastebin.com/HRJDQwfe","title":"Debugging Android ANR. The Worst","body":"<p>After some updates, my applications started to show ANR dialog. Specifically it's showing it once per 30 seconds and doesn't stop before process is killed. I've reviewed whole code and didn't find UI file/network access. So i've googled and found out that it could be a deadlock. i've pulled traces.txt file from device, but this information gave me nothing. There is traces:</p>\n\n<pre><code>----- pid 15756 at 2015-01-28 17:53:32 -----\nCmd line: com.sapphire.microphone:CameraServiceProcess\nABI: arm\nBuild type: optimized\nLoaded classes: 3647 allocated classes\nIntern table: 4694 strong; 312 weak\nJNI: CheckJNI is on; globals=249 (plus 1 weak)\nLibraries: /data/app/com.sapphire.microphone-1/lib/arm/libspeex.so /system/lib/libandroid.so /system/lib/libaudioeffect_jni.so /system/lib/libcompiler_rt.so /system/lib/libjavacrypto.so /system/lib/libjnigraphics.so /system/lib/libmedia_jni.so /system/lib/librs_jni.so /system/lib/libsoundpool.so /system/lib/libwebviewchromium_loader.so libjavacore.so (11)\nHeap: 12% free, 18MB/21MB; 51428 objects\nDumping cumulative Gc timings\nStart Dumping histograms for 1 iterations for sticky concurrent mark sweep\nMarkRootsCheckpoint:    Sum: 7.194ms 99% C.I. 0.362ms-6.832ms Avg: 3.597ms Max: 6.832ms\nScanGrayImageSpaceObjects:  Sum: 2.213ms 99% C.I. 0.095ms-2.118ms Avg: 1.106ms Max: 2.118ms\nFreeList:   Sum: 2.008ms 99% C.I. 112us-178us Avg: 167.333us Max: 178us\nMarkConcurrentRoots:    Sum: 1.711ms 99% C.I. 6us-1705us Avg: 855.500us Max: 1705us\nScanGrayZygoteSpaceObjects: Sum: 1.048ms 99% C.I. 137us-911us Avg: 524us Max: 911us\nScanGrayAllocSpaceObjects:  Sum: 929us 99% C.I. 2us-835us Avg: 232.250us Max: 847us\nZygoteModUnionClearCards:   Sum: 477us 99% C.I. 233us-244us Avg: 238.500us Max: 244us\nMarkingPhase:   Sum: 400us 99% C.I. 400us-400us Avg: 400us Max: 400us\nSweepArray: Sum: 360us 99% C.I. 360us-360us Avg: 360us Max: 360us\nImageModUnionClearCards:    Sum: 288us 99% C.I. 119us-169us Avg: 144us Max: 169us\nAllocSpaceClearCards:   Sum: 225us 99% C.I. 2us-114us Avg: 56.250us Max: 114us\n(Paused)ScanGrayZygoteSpaceObjects: Sum: 135us 99% C.I. 135us-135us Avg: 135us Max: 135us\nReMarkRoots:    Sum: 133us 99% C.I. 133us-133us Avg: 133us Max: 133us\n(Paused)ScanGrayImageSpaceObjects:  Sum: 92us 99% C.I. 92us-92us Avg: 92us Max: 92us\n(Paused)ScanGrayAllocSpaceObjects:  Sum: 71us 99% C.I. 2us-69us Avg: 35.500us Max: 69us\nMarkNonThreadRoots: Sum: 58us 99% C.I. 20us-38us Avg: 29us Max: 38us\nFinishPhase:    Sum: 52us 99% C.I. 52us-52us Avg: 52us Max: 52us\nSweepSystemWeaks:   Sum: 38us 99% C.I. 38us-38us Avg: 38us Max: 38us\n(Paused)PausePhase: Sum: 26us 99% C.I. 26us-26us Avg: 26us Max: 26us\nProcessCards:   Sum: 21us 99% C.I. 8us-13us Avg: 10.500us Max: 13us\nPreCleanCards:  Sum: 15us 99% C.I. 15us-15us Avg: 15us Max: 15us\nProcessMarkStack:   Sum: 11us 99% C.I. 0.250us-8us Avg: 2.750us Max: 8us\nEnqueueFinalizerReferences: Sum: 10us 99% C.I. 10us-10us Avg: 10us Max: 10us\nBindBitmaps:    Sum: 8us 99% C.I. 8us-8us Avg: 8us Max: 8us\nInitializePhase:    Sum: 7us 99% C.I. 7us-7us Avg: 7us Max: 7us\nMarkRoots:  Sum: 6us 99% C.I. 6us-6us Avg: 6us Max: 6us\nProcessReferences:  Sum: 5us 99% C.I. 5us-5us Avg: 5us Max: 5us\nSwapStacks: Sum: 3us 99% C.I. 3us-3us Avg: 3us Max: 3us\nFindDefaultSpaceBitmap: Sum: 2us 99% C.I. 2us-2us Avg: 2us Max: 2us\n(Paused)ProcessMarkStack:   Sum: 1us 99% C.I. 1us-1us Avg: 1us Max: 1us\nDone Dumping histograms \nsticky concurrent mark sweep paused:    Sum: 510us 99% C.I. 510us-510us Avg: 510us Max: 510us\nsticky concurrent mark sweep total time: 17.647ms mean time: 17.647ms\nsticky concurrent mark sweep freed: 11846 objects with total size 5MB\nsticky concurrent mark sweep throughput: 696824/s / 304MB/s\nStart Dumping histograms for 1 iterations for marksweep + semispace\nProcessMarkStack:   Sum: 8.984ms 99% C.I. 0.001ms-8.911ms Avg: 4.492ms Max: 8.983ms\nClearCardTable: Sum: 6.088ms 99% C.I. 6.088ms-6.088ms Avg: 6.088ms Max: 6.088ms\nMarkRoots:  Sum: 2.112ms 99% C.I. 2.112ms-2.112ms Avg: 2.112ms Max: 2.112ms\nUpdateAndMarkImageModUnionTable:    Sum: 1.172ms 99% C.I. 1.172ms-1.172ms Avg: 1.172ms Max: 1.172ms\nSweepLargeObjects:  Sum: 338us 99% C.I. 338us-338us Avg: 338us Max: 338us\nRevokeAllThreadLocalBuffers:    Sum: 224us 99% C.I. 106us-118us Avg: 112us Max: 118us\nZygoteModUnionClearCards:   Sum: 171us 99% C.I. 171us-171us Avg: 171us Max: 171us\nMarkStackAsLive:    Sum: 134us 99% C.I. 134us-134us Avg: 134us Max: 134us\nImageModUnionClearCards:    Sum: 120us 99% C.I. 120us-120us Avg: 120us Max: 120us\nFinishPhase:    Sum: 118us 99% C.I. 118us-118us Avg: 118us Max: 118us\nUpdateAndMarkZygoteModUnionTable:   Sum: 117us 99% C.I. 117us-117us Avg: 117us Max: 117us\nAllocSpaceClearCards:   Sum: 86us 99% C.I. 1us-77us Avg: 28.666us Max: 77us\nSweepSystemWeaks:   Sum: 50us 99% C.I. 50us-50us Avg: 50us Max: 50us\nSweepAllocSpace:    Sum: 17us 99% C.I. 17us-17us Avg: 17us Max: 17us\nRevokeAllThreadLocalAllocationStacks:   Sum: 15us 99% C.I. 15us-15us Avg: 15us Max: 15us\nMarkReachableObjects:   Sum: 10us 99% C.I. 10us-10us Avg: 10us Max: 10us\nProcessCards:   Sum: 8us 99% C.I. 8us-8us Avg: 8us Max: 8us\n(Paused)EnqueueFinalizerReferences: Sum: 7us 99% C.I. 7us-7us Avg: 7us Max: 7us\nReclaimPhase:   Sum: 6us 99% C.I. 6us-6us Avg: 6us Max: 6us\n(Paused)ProcessReferences:  Sum: 5us 99% C.I. 5us-5us Avg: 5us Max: 5us\nInitializePhase:    Sum: 2us 99% C.I. 2us-2us Avg: 2us Max: 2us\nPostGcVerificationPaused:   Sum: 0 99% C.I. 0ns-0ns Avg: 0ns Max: 0ns\nDone Dumping histograms \nmarksweep + semispace paused:   Sum: 20.169ms 99% C.I. 20.169ms-20.169ms Avg: 20.169ms Max: 20.169ms\nmarksweep + semispace total time: 19.822ms mean time: 19.822ms\nmarksweep + semispace freed: 3469 objects with total size 1548KB\nmarksweep + semispace throughput: 182579/s / 79MB/s\nTotal time spent in GC: 37.469ms\nMean GC size throughput: 2GB/s\nMean GC object throughput: 5.86439e+07 objects/s\nTotal number of allocations 2248758\nTotal bytes allocated 129MB\nFree memory 2MB\nFree memory until GC 2MB\nFree memory until OOME 493MB\nTotal memory 21MB\nMax memory 512MB\nTotal mutator paused time: 20.679ms\nTotal time waiting for GC to complete: 3.583ms\n\nDALVIK THREADS (16):\n\"main\" prio=5 tid=1 Native\n  | group=\"main\" sCount=1 dsCount=0 obj=0x734f2ec0 self=0xb5007800\n  | sysTid=15756 nice=0 cgrp=apps sched=0/0 handle=0xb6f69ec8\n  | state=S schedstat=( 51635212 97304004 262 ) utm=3 stm=2 core=0 HZ=100\n  | stack=0xbe033000-0xbe035000 stackSize=8MB\n  | held mutexes=\n  native: #00 pc 0003a97c  /system/lib/libc.so (__epoll_pwait+20)\n  native: #01 pc 00014571  /system/lib/libc.so (epoll_pwait+26)\n  native: #02 pc 0001457f  /system/lib/libc.so (epoll_wait+6)\n  native: #03 pc 000123c3  /system/lib/libutils.so (android::Looper::pollInner(int)+98)\n  native: #04 pc 000125ed  /system/lib/libutils.so (android::Looper::pollOnce(int, int*, int*, void**)+92)\n  native: #05 pc 0007fb61  /system/lib/libandroid_runtime.so (android::NativeMessageQueue::pollOnce(_JNIEnv*, int)+22)\n  native: #06 pc 000b0da7  /data/dalvik-cache/arm/system@framework@boot.oat (Java_android_os_MessageQueue_nativePollOnce__JI+102)\n  at android.os.MessageQueue.nativePollOnce(Native method)\n  at android.os.MessageQueue.next(MessageQueue.java:143)\n  at android.os.Looper.loop(Looper.java:122)\n  at android.app.ActivityThread.main(ActivityThread.java:5221)\n  at java.lang.reflect.Method.invoke!(Native method)\n  at java.lang.reflect.Method.invoke(Method.java:372)\n  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:899)\n  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:694)\n\n\"Heap thread pool worker thread 0\" prio=5 tid=2 Native (still starting up)\n  | group=\"\" sCount=1 dsCount=0 obj=0x0 self=0xaff0e400\n  | sysTid=15762 nice=0 cgrp=apps sched=0/0 handle=0xb50e9e80\n  | state=S schedstat=( 906615 183647 10 ) utm=0 stm=0 core=1 HZ=100\n  | stack=0xb487f000-0xb4881000 stackSize=1020KB\n  | held mutexes=\n  native: #00 pc 00012e98  /system/lib/libc.so (syscall+28)\n  native: #01 pc 000aa023  /system/lib/libart.so (art::ConditionVariable::Wait(art::Thread*)+98)\n  native: #02 pc 002405c5  /system/lib/libart.so (art::ThreadPool::GetTask(art::Thread*)+64)\n  native: #03 pc 0024055f  /system/lib/libart.so (art::ThreadPoolWorker::Run()+62)\n  native: #04 pc 00240e4d  /system/lib/libart.so (art::ThreadPoolWorker::Callback(void*)+60)\n  native: #05 pc 000162e3  /system/lib/libc.so (__pthread_start(void*)+30)\n  native: #06 pc 000142d3  /system/lib/libc.so (__start_thread+6)\n  (no managed stack frames)\n\n\"Heap thread pool worker thread 1\" prio=5 tid=3 Native (still starting up)\n  | group=\"\" sCount=1 dsCount=0 obj=0x0 self=0xafc0e400\n  | sysTid=15763 nice=0 cgrp=apps sched=0/0 handle=0xb50ea100\n  | state=S schedstat=( 721771 777396 6 ) utm=0 stm=0 core=1 HZ=100\n  | stack=0xb477d000-0xb477f000 stackSize=1020KB\n  | held mutexes=\n  native: #00 pc 00012e98  /system/lib/libc.so (syscall+28)\n  native: #01 pc 000aa023  /system/lib/libart.so (art::ConditionVariable::Wait(art::Thread*)+98)\n  native: #02 pc 002405c5  /system/lib/libart.so (art::ThreadPool::GetTask(art::Thread*)+64)\n  native: #03 pc 0024055f  /system/lib/libart.so (art::ThreadPoolWorker::Run()+62)\n  native: #04 pc 00240e4d  /system/lib/libart.so (art::ThreadPoolWorker::Callback(void*)+60)\n  native: #05 pc 000162e3  /system/lib/libc.so (__pthread_start(void*)+30)\n  native: #06 pc 000142d3  /system/lib/libc.so (__start_thread+6)\n  (no managed stack frames)\n\n\"Heap thread pool worker thread 2\" prio=5 tid=4 Native (still starting up)\n  | group=\"\" sCount=1 dsCount=0 obj=0x0 self=0xaf90e400\n  | sysTid=15764 nice=0 cgrp=apps sched=0/0 handle=0xb50ea380\n  | state=S schedstat=( 721614 1358022 4 ) utm=0 stm=0 core=1 HZ=100\n  | stack=0xb467d000-0xb467f000 stackSize=1020KB\n  | held mutexes=\n  native: #00 pc 00012e98  /system/lib/libc.so (syscall+28)\n  native: #01 pc 000aa023  /system/lib/libart.so (art::ConditionVariable::Wait(art::Thread*)+98)\n  native: #02 pc 002405c5  /system/lib/libart.so (art::ThreadPool::GetTask(art::Thread*)+64)\n  native: #03 pc 0024055f  /system/lib/libart.so (art::ThreadPoolWorker::Run()+62)\n  native: #04 pc 00240e4d  /system/lib/libart.so (art::ThreadPoolWorker::Callback(void*)+60)\n  native: #05 pc 000162e3  /system/lib/libc.so (__pthread_start(void*)+30)\n  native: #06 pc 000142d3  /system/lib/libc.so (__start_thread+6)\n  (no managed stack frames)\n\n\"Signal Catcher\" daemon prio=5 tid=5 Runnable\n  | group=\"system\" sCount=0 dsCount=0 obj=0x12c07080 self=0xaf60e400\n  | sysTid=15765 nice=0 cgrp=apps sched=0/0 handle=0xb50ea600\n  | state=R schedstat=( 246452811 74434949 189 ) utm=13 stm=11 core=0 HZ=100\n  | stack=0xb456f000-0xb4571000 stackSize=1012KB\n  | held mutexes= \"thread list lock\" \"mutator lock\"(exclusive held)\n  native: #00 pc 00004c58  /system/lib/libbacktrace_libc++.so (UnwindCurrent::Unwind(unsigned int, ucontext*)+23)\n  native: #01 pc 000034c1  /system/lib/libbacktrace_libc++.so (Backtrace::Unwind(unsigned int, ucontext*)+8)\n  native: #02 pc 002526ad  /system/lib/libart.so (art::DumpNativeStack(std::__1::basic_ostream&lt;char, std::__1::char_traits&lt;char&gt; &gt;&amp;, int, char const*, art::mirror::ArtMethod*)+84)\n  native: #03 pc 0023618b  /system/lib/libart.so (art::Thread::Dump(std::__1::basic_ostream&lt;char, std::__1::char_traits&lt;char&gt; &gt;&amp;) const+162)\n  native: #04 pc 0023f585  /system/lib/libart.so (art::ThreadList::DumpForSigQuit(std::__1::basic_ostream&lt;char, std::__1::char_traits&lt;char&gt; &gt;&amp;)+160)\n  native: #05 pc 00224563  /system/lib/libart.so (art::Runtime::DumpForSigQuit(std::__1::basic_ostream&lt;char, std::__1::char_traits&lt;char&gt; &gt;&amp;)+74)\n  native: #06 pc 0022a803  /system/lib/libart.so (art::SignalCatcher::HandleSigQuit()+782)\n  native: #07 pc 0022aeeb  /system/lib/libart.so (art::SignalCatcher::Run(void*)+338)\n  native: #08 pc 000162e3  /system/lib/libc.so (__pthread_start(void*)+30)\n  native: #09 pc 000142d3  /system/lib/libc.so (__start_thread+6)\n  (no managed stack frames)\n\n\"JDWP\" daemon prio=5 tid=6 WaitingInMainDebuggerLoop\n  | group=\"system\" sCount=1 dsCount=0 obj=0x12c070e0 self=0xaf30e400\n  | sysTid=15766 nice=0 cgrp=apps sched=0/0 handle=0xb50ea880\n  | state=S schedstat=( 1983127 2565363 18 ) utm=0 stm=0 core=0 HZ=100\n  | stack=0xb446b000-0xb446d000 stackSize=1012KB\n  | held mutexes=\n  native: #00 pc 000395b4  /system/lib/libc.so (__pselect6+20)\n  native: #01 pc 00015abb  /system/lib/libc.so (select+60)\n  native: #02 pc 00296d8f  /system/lib/libart.so (art::JDWP::JdwpAdbState::ProcessIncoming()+202)\n  native: #03 pc 00195f95  /system/lib/libart.so (art::JDWP::JdwpState::Run()+356)\n  native: #04 pc 001974e1  /system/lib/libart.so (art::JDWP::StartJdwpThread(void*)+16)\n  native: #05 pc 000162e3  /system/lib/libc.so (__pthread_start(void*)+30)\n  native: #06 pc 000142d3  /system/lib/libc.so (__start_thread+6)\n  (no managed stack frames)\n\n\"ReferenceQueueDaemon\" daemon prio=5 tid=7 Waiting\n  | group=\"system\" sCount=1 dsCount=0 obj=0x12c07140 self=0xac3b1400\n  | sysTid=15767 nice=0 cgrp=apps sched=0/0 handle=0xb50eab00\n  | state=S schedstat=( 2369793 692187 57 ) utm=0 stm=0 core=1 HZ=100\n  | stack=0xb4361000-0xb4363000 stackSize=1036KB\n  | held mutexes=\n  at java.lang.Object.wait!(Native method)\n  - waiting on &lt;0x371b1e9d&gt; (a java.lang.Class&lt;java.lang.ref.ReferenceQueue&gt;)\n  at java.lang.Daemons$ReferenceQueueDaemon.run(Daemons.java:133)\n  - locked &lt;0x371b1e9d&gt; (a java.lang.Class&lt;java.lang.ref.ReferenceQueue&gt;)\n  at java.lang.Thread.run(Thread.java:818)\n\n\"FinalizerWatchdogDaemon\" daemon prio=5 tid=8 Waiting\n  | group=\"system\" sCount=1 dsCount=0 obj=0x12c071a0 self=0xac3b1c00\n  | sysTid=15769 nice=0 cgrp=apps sched=0/0 handle=0xac3b2080\n  | state=S schedstat=( 1485313 5042237 30 ) utm=0 stm=0 core=1 HZ=100\n  | stack=0xb3ffa000-0xb3ffc000 stackSize=1036KB\n  | held mutexes=\n  at java.lang.Object.wait!(Native method)\n  - waiting on &lt;0x044e0f12&gt; (a java.lang.Daemons$FinalizerWatchdogDaemon)\n  at java.lang.Daemons$FinalizerWatchdogDaemon.waitForObject(Daemons.java:239)\n  - locked &lt;0x044e0f12&gt; (a java.lang.Daemons$FinalizerWatchdogDaemon)\n  at java.lang.Daemons$FinalizerWatchdogDaemon.run(Daemons.java:211)\n  at java.lang.Thread.run(Thread.java:818)\n\n\"FinalizerDaemon\" daemon prio=5 tid=9 Waiting\n  | group=\"system\" sCount=1 dsCount=0 obj=0x12c07200 self=0xac3b1800\n  | sysTid=15768 nice=0 cgrp=apps sched=0/0 handle=0xb50ead80\n  | state=S schedstat=( 3546042 3716407 27 ) utm=0 stm=0 core=1 HZ=100\n  | stack=0xb40fe000-0xb4100000 stackSize=1036KB\n  | held mutexes=\n  at java.lang.Object.wait!(Native method)\n  - waiting on &lt;0x17c016e3&gt; (a java.lang.ref.ReferenceQueue)\n  at java.lang.Object.wait(Object.java:422)\n  at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:101)\n  - locked &lt;0x17c016e3&gt; (a java.lang.ref.ReferenceQueue)\n  at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:72)\n  at java.lang.Daemons$FinalizerDaemon.run(Daemons.java:173)\n  at java.lang.Thread.run(Thread.java:818)\n\n\"HeapTrimmerDaemon\" daemon prio=5 tid=10 Waiting\n  | group=\"system\" sCount=1 dsCount=0 obj=0x12c07260 self=0xac87b800\n  | sysTid=15770 nice=0 cgrp=apps sched=0/0 handle=0xac3b2300\n  | state=S schedstat=( 82113595 48777811 138 ) utm=3 stm=5 core=1 HZ=100\n  | stack=0xb3bfe000-0xb3c00000 stackSize=1036KB\n  | held mutexes=\n  at java.lang.Object.wait!(Native method)\n  - waiting on &lt;0x3a5518e0&gt; (a java.lang.Daemons$HeapTrimmerDaemon)\n  at java.lang.Daemons$HeapTrimmerDaemon.run(Daemons.java:310)\n  - locked &lt;0x3a5518e0&gt; (a java.lang.Daemons$HeapTrimmerDaemon)\n  at java.lang.Thread.run(Thread.java:818)\n\n\"GCDaemon\" daemon prio=5 tid=11 Waiting\n  | group=\"system\" sCount=1 dsCount=0 obj=0x12c072c0 self=0xac87bc00\n  | sysTid=15771 nice=0 cgrp=apps sched=0/0 handle=0xac3b2580\n  | state=S schedstat=( 42271611 38934533 101 ) utm=3 stm=1 core=1 HZ=100\n  | stack=0xb3afa000-0xb3afc000 stackSize=1036KB\n  | held mutexes=\n  at java.lang.Object.wait!(Native method)\n  - waiting on &lt;0x21100799&gt; (a java.lang.Daemons$GCDaemon)\n  at java.lang.Daemons$GCDaemon.run(Daemons.java:341)\n  - locked &lt;0x21100799&gt; (a java.lang.Daemons$GCDaemon)\n  at java.lang.Thread.run(Thread.java:818)\n\n\"Binder_1\" prio=5 tid=12 Native\n  | group=\"main\" sCount=1 dsCount=0 obj=0x12c07320 self=0xaf806400\n  | sysTid=15772 nice=0 cgrp=apps sched=0/0 handle=0xac3b2800\n  | state=S schedstat=( 14070157 51598488 38 ) utm=1 stm=0 core=0 HZ=100\n  | stack=0xafe04000-0xafe06000 stackSize=1012KB\n  | held mutexes=\n  native: #00 pc 0003ac04  /system/lib/libc.so (__ioctl+8)\n  native: #01 pc 00051775  /system/lib/libc.so (ioctl+14)\n  native: #02 pc 0001f39b  /system/lib/libbinder.so (android::IPCThreadState::talkWithDriver(bool)+138)\n  native: #03 pc 0001f88b  /system/lib/libbinder.so (android::IPCThreadState::getAndExecuteCommand()+6)\n  native: #04 pc 0001f8ed  /system/lib/libbinder.so (android::IPCThreadState::joinThreadPool(bool)+48)\n  native: #05 pc 00023a5b  /system/lib/libbinder.so (???)\n  native: #06 pc 000104d5  /system/lib/libutils.so (android::Thread::_threadLoop(void*)+112)\n  native: #07 pc 0005df4d  /system/lib/libandroid_runtime.so (android::AndroidRuntime::javaThreadShell(void*)+72)\n  native: #08 pc 00010045  /system/lib/libutils.so (???)\n  native: #09 pc 000162e3  /system/lib/libc.so (__pthread_start(void*)+30)\n  native: #10 pc 000142d3  /system/lib/libc.so (__start_thread+6)\n  (no managed stack frames)\n\n\"Binder_2\" prio=5 tid=13 Native\n  | group=\"main\" sCount=1 dsCount=0 obj=0x12c07380 self=0xa4106400\n  | sysTid=15774 nice=0 cgrp=apps sched=0/0 handle=0xaf826080\n  | state=S schedstat=( 12279324 16626666 31 ) utm=0 stm=1 core=2 HZ=100\n  | stack=0xaf504000-0xaf506000 stackSize=1012KB\n  | held mutexes=\n  native: #00 pc 0003ac04  /system/lib/libc.so (__ioctl+8)\n  native: #01 pc 00051775  /system/lib/libc.so (ioctl+14)\n  native: #02 pc 0001f39b  /system/lib/libbinder.so (android::IPCThreadState::talkWithDriver(bool)+138)\n  native: #03 pc 0001f88b  /system/lib/libbinder.so (android::IPCThreadState::getAndExecuteCommand()+6)\n  native: #04 pc 0001f8ed  /system/lib/libbinder.so (android::IPCThreadState::joinThreadPool(bool)+48)\n  native: #05 pc 00023a5b  /system/lib/libbinder.so (???)\n  native: #06 pc 000104d5  /system/lib/libutils.so (android::Thread::_threadLoop(void*)+112)\n  native: #07 pc 0005df4d  /system/lib/libandroid_runtime.so (android::AndroidRuntime::javaThreadShell(void*)+72)\n  native: #08 pc 00010045  /system/lib/libutils.so (???)\n  native: #09 pc 000162e3  /system/lib/libc.so (__pthread_start(void*)+30)\n  native: #10 pc 000142d3  /system/lib/libc.so (__start_thread+6)\n  (no managed stack frames)\n\n\"Binder_3\" prio=5 tid=14 Native\n  | group=\"main\" sCount=1 dsCount=0 obj=0x12c073e0 self=0xa3f06400\n  | sysTid=15775 nice=0 cgrp=apps sched=0/0 handle=0xa4126080\n  | state=S schedstat=( 8225574 1019739 17 ) utm=0 stm=0 core=0 HZ=100\n  | stack=0xa4004000-0xa4006000 stackSize=1012KB\n  | held mutexes=\n  native: #00 pc 0003ac04  /system/lib/libc.so (__ioctl+8)\n  native: #01 pc 00051775  /system/lib/libc.so (ioctl+14)\n  native: #02 pc 0001f39b  /system/lib/libbinder.so (android::IPCThreadState::talkWithDriver(bool)+138)\n  native: #03 pc 0001f88b  /system/lib/libbinder.so (android::IPCThreadState::getAndExecuteCommand()+6)\n  native: #04 pc 0001f8ed  /system/lib/libbinder.so (android::IPCThreadState::joinThreadPool(bool)+48)\n  native: #05 pc 00023a5b  /system/lib/libbinder.so (???)\n  native: #06 pc 000104d5  /system/lib/libutils.so (android::Thread::_threadLoop(void*)+112)\n  native: #07 pc 0005df4d  /system/lib/libandroid_runtime.so (android::AndroidRuntime::javaThreadShell(void*)+72)\n  native: #08 pc 00010045  /system/lib/libutils.so (???)\n  native: #09 pc 000162e3  /system/lib/libc.so (__pthread_start(void*)+30)\n  native: #10 pc 000142d3  /system/lib/libc.so (__start_thread+6)\n  (no managed stack frames)\n\n\"pool-1-thread-1\" prio=5 tid=15 Waiting\n  | group=\"main\" sCount=1 dsCount=0 obj=0x12c07440 self=0xac87c400\n  | sysTid=15785 nice=0 cgrp=apps sched=0/0 handle=0xac3b2d00\n  | state=S schedstat=( 846302 2156146 3 ) utm=0 stm=0 core=3 HZ=100\n  | stack=0xa35e1000-0xa35e3000 stackSize=1036KB\n  | held mutexes=\n  at java.lang.Object.wait!(Native method)\n  - waiting on &lt;0x2f7a0a5e&gt; (a java.lang.Object)\n  at java.lang.Thread.parkFor(Thread.java:1220)\n  - locked &lt;0x2f7a0a5e&gt; (a java.lang.Object)\n  at sun.misc.Unsafe.park(Unsafe.java:299)\n  at java.util.concurrent.locks.LockSupport.park(LockSupport.java:157)\n  at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2016)\n  at java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:410)\n  at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1035)\n  at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1097)\n  at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:587)\n  at java.lang.Thread.run(Thread.java:818)\n\n\"ActionsThreadPool-Thread\" prio=4 tid=17 Waiting\n  | group=\"main\" sCount=1 dsCount=0 obj=0x12c07500 self=0xac3a2800\n  | sysTid=15787 nice=0 cgrp=apps sched=0/0 handle=0xac3b3200\n  | state=S schedstat=( 295066775 148488168 375 ) utm=25 stm=4 core=1 HZ=100\n  | stack=0xa2ffe000-0xa3000000 stackSize=1036KB\n  | held mutexes=\n  at java.lang.Object.wait!(Native method)\n  - waiting on &lt;0x08d33e3f&gt; (a java.lang.Object)\n  at java.lang.Thread.parkFor(Thread.java:1220)\n  - locked &lt;0x08d33e3f&gt; (a java.lang.Object)\n  at sun.misc.Unsafe.park(Unsafe.java:299)\n  at java.util.concurrent.locks.LockSupport.park(LockSupport.java:157)\n  at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2016)\n  at java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:410)\n  at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1035)\n  at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1097)\n  at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:587)\n  at java.lang.Thread.run(Thread.java:818)\n\n----- end 15756 -----\n</code></pre>\n\n<p>The application is capturing video from camera and audio stream from socket (TCP or Bluetooth) simultaneously. ANR is showing up when I start to capture.</p>\n\n<p>The code of service, that receives audio data is there:\n<a href=\"http://pastebin.com/HRJDQwfe\" rel=\"nofollow\">http://pastebin.com/HRJDQwfe</a></p>\n"},{"tags":["java","javac","javaexe"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1685703369,"post_id":76389506,"comment_id":134701591,"body_markdown":"If you&#39;re going to experiment, I wouldn&#39;t mess up your project tree, so: `D:\\eclipse-workspace-ghj2\\ExecJava\\src&gt;javac -d &quot;%TEMP%&quot; pkg\\Manager_1.java;java -cp &quot;%TEMP%&quot; pkg.Manager_1`","body":"If you&#39;re going to experiment, I wouldn&#39;t mess up your project tree, so: <code>D:\\eclipse-workspace-ghj2\\ExecJava\\src&gt;javac -d &quot;%TEMP%&quot; pkg\\Manager_1.java;java -cp &quot;%TEMP%&quot; pkg.Manager_1</code>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1685704375,"post_id":76389506,"comment_id":134701765,"body_markdown":"Nothing. You can use literally what I typed","body":"Nothing. You can use literally what I typed"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1685705344,"post_id":76389506,"comment_id":134701978,"body_markdown":"You didn&#39;t change up to the directory showing at the prompt in my command (though that&#39;s a bit of a weird error message)","body":"You didn&#39;t change up to the directory showing at the prompt in my command (though that&#39;s a bit of a weird error message)"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1685706306,"post_id":76389506,"comment_id":134702157,"body_markdown":"That&#39;s very strange. Unfortunately I&#39;ve no Windows to test that on at the moment. You could do `D:\\eclipse-workspace-ghj2\\ExecJava\\src&gt;javac -d bin pkg\\Manager_1.java; java -cp bin pkg.Manager_1` and remove that bin dir under src later maybe. Note the switch is `-d` and *not* `-D`","body":"That&#39;s very strange. Unfortunately I&#39;ve no Windows to test that on at the moment. You could do <code>D:\\eclipse-workspace-ghj2\\ExecJava\\src&gt;javac -d bin pkg\\Manager_1.java; java -cp bin pkg.Manager_1</code> and remove that bin dir under src later maybe. Note the switch is <code>-d</code> and <i>not</i> <code>-D</code>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1685708217,"post_id":76389506,"comment_id":134702558,"body_markdown":"Good. Of course, it&#39;s not good to be mixing class files and source files (the reason for my first form)","body":"Good. Of course, it&#39;s not good to be mixing class files and source files (the reason for my first form)"}],"answers":[{"tags":[],"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685704409,"creation_date":1685704409,"answer_id":76389657,"question_id":76389506,"body_markdown":"You are in directory `pkg` so `java` can not find the package `pkg` there. You need to be in the top directory of your packages (`D:\\eclipse-workspace-ghj2\\ExecJava\\src\\` in your case) to execute the command so Java can find the package and then the class.","title":"How to Run a java compiled file from a package in the Windows Command Prompt?","body":"<p>You are in directory <code>pkg</code> so <code>java</code> can not find the package <code>pkg</code> there. You need to be in the top directory of your packages (<code>D:\\eclipse-workspace-ghj2\\ExecJava\\src\\</code> in your case) to execute the command so Java can find the package and then the class.</p>\n"}],"owner":{"display_name":"user7208250"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686576237,"creation_date":1685703150,"question_id":76389506,"body_markdown":"How to Run a java compiled file from a package in the Windows Command Prompt?\r\n\r\nD:\\eclipse-workspace-ghj2\\ExecJava\\src\\pkg&gt;javac Manager_1.java\r\n\r\nD:\\eclipse-workspace-ghj2\\ExecJava\\src\\pkg&gt;java pkg.Manager_1\r\n\r\nError: Could not find or load main class pkg.Manager_1\r\nCaused by: java.lang.ClassNotFoundException: pkg.Manager_1\r\n\r\nI tried to run a java compiled class from a package.  \r\nError: Could not find or load main class pkg.Manager_1\r\n\r\n\r\n\r\n","title":"How to Run a java compiled file from a package in the Windows Command Prompt?","body":"<p>How to Run a java compiled file from a package in the Windows Command Prompt?</p>\n<p>D:\\eclipse-workspace-ghj2\\ExecJava\\src\\pkg&gt;javac Manager_1.java</p>\n<p>D:\\eclipse-workspace-ghj2\\ExecJava\\src\\pkg&gt;java pkg.Manager_1</p>\n<p>Error: Could not find or load main class pkg.Manager_1\nCaused by: java.lang.ClassNotFoundException: pkg.Manager_1</p>\n<p>I tried to run a java compiled class from a package.<br />\nError: Could not find or load main class pkg.Manager_1</p>\n"},{"tags":["java","kotlin","static","mockito"],"answers":[{"tags":[],"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1686575874,"creation_date":1686575874,"answer_id":76457075,"question_id":76453879,"body_markdown":"The difference stems from the fact that Kotlin adds null-checking code.\r\nCheck the decompiled source of your test class:\r\n\r\n```lang-java\r\npublic final class TextUtilsWrapperTest {\r\n  @Test\r\n  public final void testWrapperStatic() {\r\n    Parcel parcel = (Parcel)Mockito.mock(Parcel.class);\r\n    MockedStatic textUtilsWrapperMockedStatic = Mockito.mockStatic(TextUtilsWrapper.class);\r\n    textUtilsWrapperMockedStatic.when(TextUtilsWrapperTest::testWrapperStatic$lambda$0)\r\n      .thenReturn(&quot;hello&quot;);\r\n    Intrinsics.checkNotNullExpressionValue(parcel, &quot;parcel&quot;);\r\n    Assertions.assertEquals(&quot;hello&quot;, TextUtilsWrapper.createFromParcel(parcel));\r\n  }\r\n  \r\n  private static final void testWrapperStatic$lambda$0() {\r\n    Intrinsics.checkNotNullExpressionValue(ArgumentMatchers.any(), &quot;any()&quot;);\r\n    TextUtilsWrapper.createFromParcel((Parcel)ArgumentMatchers.any());\r\n  }\r\n}\r\n```\r\n\r\nThe expected event sequence is:\r\n- argument matcher is called and registered on stack\r\n- mocked method call is intercepted and `MockMethodAdvice.handleStatic` is called\r\n- this calls `ArgumentMatcherStorageImpl.pullLocalizedMatchers` and clears the matchers stack.\r\n\r\nSee: https://stackoverflow.com/questions/22822512/how-do-mockito-matchers-work\r\n\r\nUnfortunately, `Intrinsics.checkNotNullExpressionValue` throws a NullPointerExeption, as `ArgumentMatchers.any()` returnes null.\r\n\r\nThis NPE is silently ignored, but mocked method is not called, and thus handleStatic is not called - the matchers stack is not cleared.\r\n\r\nThe matchers stack is checked upon `MockedStaticImpl.when` call, and the `InvalidUseOfMatchersException` is reported.\r\n\r\nTo solve, use `mockito-kotlin` provided argument matchers:\r\n\r\n```\r\n/** Matches any object, excluding nulls. */\r\ninline fun &lt;reified T : Any&gt; any(): T {\r\n    return ArgumentMatchers.any(T::class.java) ?: createInstance()\r\n}\r\n\r\n/** Matches anything, including nulls. */\r\ninline fun &lt;reified T : Any&gt; anyOrNull(): T {\r\n    return ArgumentMatchers.any&lt;T&gt;() ?: createInstance()\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n","title":"Mock static java and kotlin","body":"<p>The difference stems from the fact that Kotlin adds null-checking code.\nCheck the decompiled source of your test class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public final class TextUtilsWrapperTest {\n  @Test\n  public final void testWrapperStatic() {\n    Parcel parcel = (Parcel)Mockito.mock(Parcel.class);\n    MockedStatic textUtilsWrapperMockedStatic = Mockito.mockStatic(TextUtilsWrapper.class);\n    textUtilsWrapperMockedStatic.when(TextUtilsWrapperTest::testWrapperStatic$lambda$0)\n      .thenReturn(&quot;hello&quot;);\n    Intrinsics.checkNotNullExpressionValue(parcel, &quot;parcel&quot;);\n    Assertions.assertEquals(&quot;hello&quot;, TextUtilsWrapper.createFromParcel(parcel));\n  }\n  \n  private static final void testWrapperStatic$lambda$0() {\n    Intrinsics.checkNotNullExpressionValue(ArgumentMatchers.any(), &quot;any()&quot;);\n    TextUtilsWrapper.createFromParcel((Parcel)ArgumentMatchers.any());\n  }\n}\n</code></pre>\n<p>The expected event sequence is:</p>\n<ul>\n<li>argument matcher is called and registered on stack</li>\n<li>mocked method call is intercepted and <code>MockMethodAdvice.handleStatic</code> is called</li>\n<li>this calls <code>ArgumentMatcherStorageImpl.pullLocalizedMatchers</code> and clears the matchers stack.</li>\n</ul>\n<p>See: <a href=\"https://stackoverflow.com/questions/22822512/how-do-mockito-matchers-work\">How do Mockito matchers work?</a></p>\n<p>Unfortunately, <code>Intrinsics.checkNotNullExpressionValue</code> throws a NullPointerExeption, as <code>ArgumentMatchers.any()</code> returnes null.</p>\n<p>This NPE is silently ignored, but mocked method is not called, and thus handleStatic is not called - the matchers stack is not cleared.</p>\n<p>The matchers stack is checked upon <code>MockedStaticImpl.when</code> call, and the <code>InvalidUseOfMatchersException</code> is reported.</p>\n<p>To solve, use <code>mockito-kotlin</code> provided argument matchers:</p>\n<pre><code>/** Matches any object, excluding nulls. */\ninline fun &lt;reified T : Any&gt; any(): T {\n    return ArgumentMatchers.any(T::class.java) ?: createInstance()\n}\n\n/** Matches anything, including nulls. */\ninline fun &lt;reified T : Any&gt; anyOrNull(): T {\n    return ArgumentMatchers.any&lt;T&gt;() ?: createInstance()\n}\n</code></pre>\n"}],"owner":{"account_id":1282892,"reputation":965,"user_id":1236581,"accept_rate":42,"display_name":"fergdev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":169,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76457075,"answer_count":1,"score":0,"last_activity_date":1686575874,"creation_date":1686548577,"question_id":76453879,"body_markdown":"I have a static class that I want to mock, I can do this successfully in java. But when I convert to kotlin and tests now fail with the error\r\n\r\n    Misplaced or misused argument matcher detected here: -&gt; at TestTest.testWrapperStatic$lambda$0(TestTest.kt:19)\r\n\r\nAny ideas on what is different when mocking static in kotlin?\r\n\r\nClass to mock,\r\n\r\n    object TextUtilsWrapper {\r\n        @JvmStatic\r\n        fun createFromParcel(p: Parcel): CharSequence {\r\n            return TextUtils.CHAR_SEQUENCE_CREATOR.createFromParcel(p)\r\n        }\r\n    }\r\n\r\nPassing Java test case,\r\n\r\n    public class TestTest extends BaseMockingUnitTest {\r\n    \r\n        @Test\r\n        public void testWrapperStatic() {\r\n            Parcel parcel = Mockito.mock(Parcel.class);\r\n    \r\n            final MockedStatic&lt;TextUtilsWrapper&gt; textUtilsWrapperMockedStatic = mockStatic(\r\n                    TextUtilsWrapper.class);\r\n            textUtilsWrapperMockedStatic.when(\r\n                    () -&gt; TextUtilsWrapper.createFromParcel(any())).thenReturn(&quot;hello&quot;);\r\n    \r\n            assertThat(TextUtilsWrapper.createFromParcel(parcel), is(&quot;hello&quot;));\r\n        }\r\n    }\r\n\r\nFailing kotlin test case,\r\n\r\n    class TestTest : BaseMockingUnitTest() {\r\n        @Test\r\n        fun testWrapperStatic() {\r\n            val parcel = Mockito.mock(Parcel::class.java)\r\n            val textUtilsWrapperMockedStatic = Mockito.mockStatic(\r\n                TextUtilsWrapper::class.java\r\n            )\r\n            textUtilsWrapperMockedStatic.`when`&lt;Any&gt; { createFromParcel(ArgumentMatchers.any()) }\r\n                .thenReturn(&quot;hello&quot;)\r\n            MatcherAssert.assertThat(createFromParcel(parcel), Matchers.`is`(&quot;hello&quot;))\r\n        }\r\n    }\r\n\r\n","title":"Mock static java and kotlin","body":"<p>I have a static class that I want to mock, I can do this successfully in java. But when I convert to kotlin and tests now fail with the error</p>\n<pre><code>Misplaced or misused argument matcher detected here: -&gt; at TestTest.testWrapperStatic$lambda$0(TestTest.kt:19)\n</code></pre>\n<p>Any ideas on what is different when mocking static in kotlin?</p>\n<p>Class to mock,</p>\n<pre><code>object TextUtilsWrapper {\n    @JvmStatic\n    fun createFromParcel(p: Parcel): CharSequence {\n        return TextUtils.CHAR_SEQUENCE_CREATOR.createFromParcel(p)\n    }\n}\n</code></pre>\n<p>Passing Java test case,</p>\n<pre><code>public class TestTest extends BaseMockingUnitTest {\n\n    @Test\n    public void testWrapperStatic() {\n        Parcel parcel = Mockito.mock(Parcel.class);\n\n        final MockedStatic&lt;TextUtilsWrapper&gt; textUtilsWrapperMockedStatic = mockStatic(\n                TextUtilsWrapper.class);\n        textUtilsWrapperMockedStatic.when(\n                () -&gt; TextUtilsWrapper.createFromParcel(any())).thenReturn(&quot;hello&quot;);\n\n        assertThat(TextUtilsWrapper.createFromParcel(parcel), is(&quot;hello&quot;));\n    }\n}\n</code></pre>\n<p>Failing kotlin test case,</p>\n<pre><code>class TestTest : BaseMockingUnitTest() {\n    @Test\n    fun testWrapperStatic() {\n        val parcel = Mockito.mock(Parcel::class.java)\n        val textUtilsWrapperMockedStatic = Mockito.mockStatic(\n            TextUtilsWrapper::class.java\n        )\n        textUtilsWrapperMockedStatic.`when`&lt;Any&gt; { createFromParcel(ArgumentMatchers.any()) }\n            .thenReturn(&quot;hello&quot;)\n        MatcherAssert.assertThat(createFromParcel(parcel), Matchers.`is`(&quot;hello&quot;))\n    }\n}\n</code></pre>\n"},{"tags":["java","security","x509certificate","tpm"],"owner":{"account_id":25678947,"reputation":13,"user_id":19441984,"display_name":"Anusha Ali"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686575804,"creation_date":1686575804,"question_id":76457062,"body_markdown":"I am relatively new here and exploring different functionalities of TPM.\r\nThere is a use case in which I am going to receive digital root certificate from one API and I have to save that certificate in TPM. To test with java implementation of TSS, I generated X509Certificate using keyPairGenerator with RSA algorithm and defined signatureAlgorithm as SHA256WithRSAEncryption in X509V3CertificateGenerator object. After that I have converted that certificate to the TPMT_PUBLIC object and have called LoadExternal function of tpm to save it in TPM.\r\nI am receiving TPM ERROR: {HASH} from the TPM and I am unable to find the root cause of it. I will be grateful if any of you can pin point what I am doing wrong. I have attatched relevant code snippets below,\r\n\r\n\r\n```\r\nprivate static final String CERTIFICATE_ALGORITHM = &quot;RSA&quot;;\r\nprivate static final String CERTIFICATE_DN = &quot;CN=cn, O=o, L=L, ST=il, C= c&quot;;\r\nprivate static final String CERTIFICATE_NAME = &quot;keystore.test&quot;;\r\nprivate static final int CERTIFICATE_BITS = 1024;\r\npublic static void  saveCertificateInTPM(X509Certificate csr) throws IOException, CertificateEncodingException {\r\n    Tpm tpm = TpmFactory.platformTpm();\r\n    tpm.Startup(TPM_SU.CLEAR);\r\n    TPMT_PUBLIC cert = convertCertificateToTPMPublic(csr);\r\n    TPM_HANDLE certHandler = tpm.LoadExternal(null, cert, TPM_HANDLE.from(TPM_RH.NULL));\r\n    tpm.FlushContext(certHandler);\r\n    tpm.close();\r\n\r\n}\r\n  private static TPMT_PUBLIC convertCertificateToTPMPublic(X509Certificate certificate) {\r\n    // Convert the X.509 certificate to a TPMT_PUBLIC object compatible with the TPM\r\n    // Extract the necessary information from the certificate (e.g., public key, algorithm) and set it in the TPMT_PUBLIC object\r\n    // Return the TPMT_PUBLIC object\r\n    // Example:\r\n    TPMT_PUBLIC publicArea = new TPMT_PUBLIC();\r\n    Map&lt;String, TPM_ALG_ID&gt; algorithmMap = new HashMap&lt;&gt;();\r\n    algorithmMap.put(&quot;RSA&quot;, TPM_ALG_ID.RSA);\r\n    algorithmMap.put(&quot;EC&quot;, TPM_ALG_ID.ECC);\r\n    algorithmMap.put(&quot;SHA&quot;, TPM_ALG_ID.SHA256);\r\n    TPM_ALG_ID tpmAlgorithm = algorithmMap.getOrDefault(certificate.getPublicKey().getAlgorithm(), TPM_ALG_ID.NULL);\r\n    TPM2B_PUBLIC_KEY_RSA unique = new TPM2B_PUBLIC_KEY_RSA();\r\n    System.out.println(certificate.getSigAlgName());\r\n    unique.buffer=  certificate.getPublicKey().getEncoded();\r\n    TPMS_RSA_PARMS params=new TPMS_RSA_PARMS();\r\n    params.symmetric=new TPMT_SYM_DEF_OBJECT();\r\n    params.symmetric.algorithm=TPM_ALG_ID.NULL;\r\n    params.scheme=new TPMS_SIG_SCHEME_RSASSA(TPM_ALG_ID.SHA256);\r\n    return new TPMT_PUBLIC(tpmAlgorithm, TPMA_OBJECT.fixedTPM, null, params, unique);\r\n}\r\n\r\n public static X509Certificate generateSelfSignedCertificate() throws SignatureException, InvalidKeyException, \r\n    NoSuchAlgorithmException {\r\n    X509Certificate cert = null;\r\n    KeyPairGenerator keyPairGenerator = KeyPairGenerator.getInstance(CERTIFICATE_ALGORITHM);\r\n    keyPairGenerator.initialize(CERTIFICATE_BITS, new SecureRandom());\r\n    KeyPair keyPair = keyPairGenerator.generateKeyPair();\r\n\r\n    // GENERATE THE X509 CERTIFICATE\r\n    X509V3CertificateGenerator v3CertGen =  new X509V3CertificateGenerator();\r\n    v3CertGen.setSerialNumber(BigInteger.valueOf(System.currentTimeMillis()));\r\n    v3CertGen.setIssuerDN(new X509Principal(CERTIFICATE_DN));\r\n    v3CertGen.setNotBefore(new Date(System.currentTimeMillis() - 1000L * 60 * 60 * 24));\r\n    v3CertGen.setNotAfter(new Date(System.currentTimeMillis() + (1000L * 60 * 60 * 24 * 365*10)));\r\n    v3CertGen.setSubjectDN(new X509Principal(CERTIFICATE_DN));\r\n    v3CertGen.setPublicKey(keyPair.getPublic());\r\n    v3CertGen.setSignatureAlgorithm(&quot;SHA256WithRSAEncryption&quot;);\r\n    cert = v3CertGen.generateX509Certificate(keyPair.getPrivate());\r\n    return cert;\r\n}\r\n```\r\n","title":"Saving external certificate in tpm in java","body":"<p>I am relatively new here and exploring different functionalities of TPM.\nThere is a use case in which I am going to receive digital root certificate from one API and I have to save that certificate in TPM. To test with java implementation of TSS, I generated X509Certificate using keyPairGenerator with RSA algorithm and defined signatureAlgorithm as SHA256WithRSAEncryption in X509V3CertificateGenerator object. After that I have converted that certificate to the TPMT_PUBLIC object and have called LoadExternal function of tpm to save it in TPM.\nI am receiving TPM ERROR: {HASH} from the TPM and I am unable to find the root cause of it. I will be grateful if any of you can pin point what I am doing wrong. I have attatched relevant code snippets below,</p>\n<pre><code>private static final String CERTIFICATE_ALGORITHM = &quot;RSA&quot;;\nprivate static final String CERTIFICATE_DN = &quot;CN=cn, O=o, L=L, ST=il, C= c&quot;;\nprivate static final String CERTIFICATE_NAME = &quot;keystore.test&quot;;\nprivate static final int CERTIFICATE_BITS = 1024;\npublic static void  saveCertificateInTPM(X509Certificate csr) throws IOException, CertificateEncodingException {\n    Tpm tpm = TpmFactory.platformTpm();\n    tpm.Startup(TPM_SU.CLEAR);\n    TPMT_PUBLIC cert = convertCertificateToTPMPublic(csr);\n    TPM_HANDLE certHandler = tpm.LoadExternal(null, cert, TPM_HANDLE.from(TPM_RH.NULL));\n    tpm.FlushContext(certHandler);\n    tpm.close();\n\n}\n  private static TPMT_PUBLIC convertCertificateToTPMPublic(X509Certificate certificate) {\n    // Convert the X.509 certificate to a TPMT_PUBLIC object compatible with the TPM\n    // Extract the necessary information from the certificate (e.g., public key, algorithm) and set it in the TPMT_PUBLIC object\n    // Return the TPMT_PUBLIC object\n    // Example:\n    TPMT_PUBLIC publicArea = new TPMT_PUBLIC();\n    Map&lt;String, TPM_ALG_ID&gt; algorithmMap = new HashMap&lt;&gt;();\n    algorithmMap.put(&quot;RSA&quot;, TPM_ALG_ID.RSA);\n    algorithmMap.put(&quot;EC&quot;, TPM_ALG_ID.ECC);\n    algorithmMap.put(&quot;SHA&quot;, TPM_ALG_ID.SHA256);\n    TPM_ALG_ID tpmAlgorithm = algorithmMap.getOrDefault(certificate.getPublicKey().getAlgorithm(), TPM_ALG_ID.NULL);\n    TPM2B_PUBLIC_KEY_RSA unique = new TPM2B_PUBLIC_KEY_RSA();\n    System.out.println(certificate.getSigAlgName());\n    unique.buffer=  certificate.getPublicKey().getEncoded();\n    TPMS_RSA_PARMS params=new TPMS_RSA_PARMS();\n    params.symmetric=new TPMT_SYM_DEF_OBJECT();\n    params.symmetric.algorithm=TPM_ALG_ID.NULL;\n    params.scheme=new TPMS_SIG_SCHEME_RSASSA(TPM_ALG_ID.SHA256);\n    return new TPMT_PUBLIC(tpmAlgorithm, TPMA_OBJECT.fixedTPM, null, params, unique);\n}\n\n public static X509Certificate generateSelfSignedCertificate() throws SignatureException, InvalidKeyException, \n    NoSuchAlgorithmException {\n    X509Certificate cert = null;\n    KeyPairGenerator keyPairGenerator = KeyPairGenerator.getInstance(CERTIFICATE_ALGORITHM);\n    keyPairGenerator.initialize(CERTIFICATE_BITS, new SecureRandom());\n    KeyPair keyPair = keyPairGenerator.generateKeyPair();\n\n    // GENERATE THE X509 CERTIFICATE\n    X509V3CertificateGenerator v3CertGen =  new X509V3CertificateGenerator();\n    v3CertGen.setSerialNumber(BigInteger.valueOf(System.currentTimeMillis()));\n    v3CertGen.setIssuerDN(new X509Principal(CERTIFICATE_DN));\n    v3CertGen.setNotBefore(new Date(System.currentTimeMillis() - 1000L * 60 * 60 * 24));\n    v3CertGen.setNotAfter(new Date(System.currentTimeMillis() + (1000L * 60 * 60 * 24 * 365*10)));\n    v3CertGen.setSubjectDN(new X509Principal(CERTIFICATE_DN));\n    v3CertGen.setPublicKey(keyPair.getPublic());\n    v3CertGen.setSignatureAlgorithm(&quot;SHA256WithRSAEncryption&quot;);\n    cert = v3CertGen.generateX509Certificate(keyPair.getPrivate());\n    return cert;\n}\n</code></pre>\n"},{"tags":["java","ssl","ssl-certificate","keytool"],"comments":[{"owner":{"account_id":1119319,"reputation":10590,"user_id":1107999,"accept_rate":83,"display_name":"Alex"},"score":0,"creation_date":1335379159,"post_id":10321211,"comment_id":13288532,"body_markdown":"could you post the exact `keytool` command that you&#39;ve executed, and it&#39;s output? some of the obvious issues here are the typo of `-keystore` argument, and the fact that keytool was unable to find the keystore to import the key into","body":"could you post the exact <code>keytool</code> command that you&#39;ve executed, and it&#39;s output? some of the obvious issues here are the typo of <code>-keystore</code> argument, and the fact that keytool was unable to find the keystore to import the key into"},{"owner":{"account_id":1242486,"reputation":2892,"user_id":1204749,"accept_rate":62,"display_name":"cyber101"},"score":0,"creation_date":1335402167,"post_id":10321211,"comment_id":13295281,"body_markdown":"I meant to write:                                           keytool -import -alias downloadedCertAlias -keystore C:\\path\\to\\my\\keystore\\cacerts.file -file C:\\path\\of\\exportedCert.cer                                          I also mentioned the command executed without errors, so obviously this is just spelling mistake in my question!!! Thanks anyways","body":"I meant to write:                                           keytool -import -alias downloadedCertAlias -keystore C:\\path\\to\\my\\keystore\\cacerts.file -file C:\\path\\of\\exportedCert.cer                                          I also mentioned the command executed without errors, so obviously this is just spelling mistake in my question!!! Thanks anyways"}],"answers":[{"tags":[],"owner":{"account_id":96022,"reputation":861,"user_id":261210,"display_name":"Daniel N."},"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1336036026,"creation_date":1336036026,"answer_id":10428260,"question_id":10321211,"body_markdown":"I had the same problem under Windows and could solve it by *running cmd.exe as administrator* (right-click in start menu, then &quot;Run as administrator).","title":"Java Keytool error after importing certificate , &quot;keytool error: java.io.FileNotFoundException &amp; Access Denied&quot;","body":"<p>I had the same problem under Windows and could solve it by <em>running cmd.exe as administrator</em> (right-click in start menu, then \"Run as administrator).</p>\n"},{"tags":[],"owner":{"account_id":1606334,"reputation":147,"user_id":1486372,"display_name":"partha saradhi"},"down_vote_count":2,"up_vote_count":15,"is_accepted":false,"score":13,"last_activity_date":1342974618,"creation_date":1340815881,"answer_id":11231280,"question_id":10321211,"body_markdown":"Check the write permissions on the keystore.\r\n","title":"Java Keytool error after importing certificate , &quot;keytool error: java.io.FileNotFoundException &amp; Access Denied&quot;","body":"<p>Check the write permissions on the keystore.</p>\n"},{"tags":[],"owner":{"account_id":156936,"reputation":3579,"user_id":374532,"display_name":"Sharan Rajendran"},"down_vote_count":2,"up_vote_count":333,"is_accepted":false,"score":331,"last_activity_date":1525240078,"creation_date":1341511115,"answer_id":11349888,"question_id":10321211,"body_markdown":"This could happen if you are not running the command prompt in administrator mode. \r\nIf you are using windows 7, you can go to run, type cmd and hit Ctrl+Shift+enter. This will open the command prompt in administrator mode. If not, you can also go to start -&gt; all programs -&gt; accessories -&gt; right click command prompt and click &#39;run as administrator&#39;. ","title":"Java Keytool error after importing certificate , &quot;keytool error: java.io.FileNotFoundException &amp; Access Denied&quot;","body":"<p>This could happen if you are not running the command prompt in administrator mode. \nIf you are using windows 7, you can go to run, type cmd and hit Ctrl+Shift+enter. This will open the command prompt in administrator mode. If not, you can also go to start -> all programs -> accessories -> right click command prompt and click 'run as administrator'. </p>\n"},{"tags":[],"owner":{"account_id":8059249,"reputation":21,"user_id":6075277,"display_name":"arungopal"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1458196431,"creation_date":1458195362,"answer_id":36052951,"question_id":10321211,"body_markdown":"If you are using windows8:\r\n\r\n 1. Click start button\r\n 2. In the search box, type `command prompt`\r\n 3. From the result, right-click `command prompt` and click `Run as administrator`. Then execute the keytool command.","title":"Java Keytool error after importing certificate , &quot;keytool error: java.io.FileNotFoundException &amp; Access Denied&quot;","body":"<p>If you are using windows8:</p>\n\n<ol>\n<li>Click start button</li>\n<li>In the search box, type <code>command prompt</code></li>\n<li>From the result, right-click <code>command prompt</code> and click <code>Run as administrator</code>. Then execute the keytool command.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":8424768,"reputation":39,"user_id":6322431,"display_name":"goyalshub1509"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1464734077,"creation_date":1464734077,"answer_id":37556735,"question_id":10321211,"body_markdown":"You can give yourself permissions to fix this problem. \r\n\r\nRight click on cacerts &gt; choose properties &gt; select Securit tab &gt; Allow all permissions to all the Group and user names.\r\n\r\nThis worked for me.\r\n","title":"Java Keytool error after importing certificate , &quot;keytool error: java.io.FileNotFoundException &amp; Access Denied&quot;","body":"<p>You can give yourself permissions to fix this problem. </p>\n\n<p>Right click on cacerts > choose properties > select Securit tab > Allow all permissions to all the Group and user names.</p>\n\n<p>This worked for me.</p>\n"},{"tags":[],"owner":{"account_id":9430396,"reputation":1,"user_id":7014130,"display_name":"maithanhduyan"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1476436945,"creation_date":1476366494,"answer_id":40022877,"question_id":10321211,"body_markdown":"You can store orther disk or path (not C) EX : D\\\r\n\r\n    C:\\Program Files\\Java\\jre1.8.0_101\\bin&gt;keytool -genkey -alias server -keyalg RSA -keysize 2048 -keystore D:\\myserver.jks -dname &quot;CN=myserver,OU=IT-WebDev, O=TIACHOP, L=HCM, ST=0753, C=VN&quot; &amp;&amp; keytool -certreq -alias server -file D:\\myserver.csr -keystore D:\\myserver.jks\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6Hdht.png","title":"Java Keytool error after importing certificate , &quot;keytool error: java.io.FileNotFoundException &amp; Access Denied&quot;","body":"<p>You can store orther disk or path (not C) EX : D\\</p>\n\n<pre><code>C:\\Program Files\\Java\\jre1.8.0_101\\bin&gt;keytool -genkey -alias server -keyalg RSA -keysize 2048 -keystore D:\\myserver.jks -dname \"CN=myserver,OU=IT-WebDev, O=TIACHOP, L=HCM, ST=0753, C=VN\" &amp;&amp; keytool -certreq -alias server -file D:\\myserver.csr -keystore D:\\myserver.jks\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/6Hdht.png\" rel=\"nofollow\"><img src=\"https://i.stack.imgur.com/6Hdht.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":2812858,"reputation":607,"user_id":2418723,"accept_rate":56,"display_name":"sher17"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1487077158,"creation_date":1487077158,"answer_id":42226851,"question_id":10321211,"body_markdown":"I even run the command prompt as Administrator but it didn&#39;t work for me with the below error.\r\n \r\n    &#39;keytool&#39; is not recognized as an internal or external command,\r\n     operable program or batch file.\r\n\r\nIf the path to the keytool is not in your System paths then you will need to use the full path to use the keytool, which is \r\n\r\n    C:\\Program Files\\Java\\jre&lt;version&gt;\\bin\r\n\r\nSo, the command should be like\r\n\r\n    &quot;C:\\Program Files\\Java\\jre&lt;version&gt;\\bin\\keytool.exe&quot; -importcert -alias certificateFileAlias -file CertificateFileName.cer -keystore cacerts\r\n\r\nthat worked for me.","title":"Java Keytool error after importing certificate , &quot;keytool error: java.io.FileNotFoundException &amp; Access Denied&quot;","body":"<p>I even run the command prompt as Administrator but it didn't work for me with the below error.</p>\n\n<pre><code>'keytool' is not recognized as an internal or external command,\n operable program or batch file.\n</code></pre>\n\n<p>If the path to the keytool is not in your System paths then you will need to use the full path to use the keytool, which is </p>\n\n<pre><code>C:\\Program Files\\Java\\jre&lt;version&gt;\\bin\n</code></pre>\n\n<p>So, the command should be like</p>\n\n<pre><code>\"C:\\Program Files\\Java\\jre&lt;version&gt;\\bin\\keytool.exe\" -importcert -alias certificateFileAlias -file CertificateFileName.cer -keystore cacerts\n</code></pre>\n\n<p>that worked for me.</p>\n"},{"tags":[],"owner":{"account_id":5152616,"reputation":87,"user_id":4126759,"display_name":"V K"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1498072630,"creation_date":1498072630,"answer_id":44684536,"question_id":10321211,"body_markdown":"For Mac users make sure to sudo and when prompted first give your administrator password and that will be followed by keystore password which typically should be &quot;changeit&quot; unless you actually changed it. ","title":"Java Keytool error after importing certificate , &quot;keytool error: java.io.FileNotFoundException &amp; Access Denied&quot;","body":"<p>For Mac users make sure to sudo and when prompted first give your administrator password and that will be followed by keystore password which typically should be \"changeit\" unless you actually changed it. </p>\n"},{"tags":[],"owner":{"account_id":7619039,"reputation":573,"user_id":5777565,"display_name":"Ismael ozil"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1505287944,"creation_date":1505287944,"answer_id":46191488,"question_id":10321211,"body_markdown":"**SOLVED**\r\n\r\n1. Just run CMD as an administrator.\r\n2. Make sure your using the correct truststore password\r\n","title":"Java Keytool error after importing certificate , &quot;keytool error: java.io.FileNotFoundException &amp; Access Denied&quot;","body":"<p><strong>SOLVED</strong></p>\n\n<ol>\n<li>Just run CMD as an administrator.</li>\n<li>Make sure your using the correct truststore password</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1251757,"reputation":4861,"user_id":1212046,"accept_rate":38,"display_name":"Waqas Ahmed"},"down_vote_count":0,"up_vote_count":47,"is_accepted":true,"score":47,"last_activity_date":1512547653,"creation_date":1512547653,"answer_id":47669565,"question_id":10321211,"body_markdown":"I was having the same problem while importing the certificate in local keystore. Whenever i issue the keytool command i got the following error.\r\n\r\nCertificate was added to keystore\r\nkeytool error: java.io.FileNotFoundException: C:\\Program Files\\Java\\jdk1.8.0_151\\jre\\lib\\security (Access is denied)\r\n\r\nFollowing solution work for me.\r\n\r\n1) make sure you are running command prompt in Rus as Administrator mode\r\n\r\n2) Change your current directory to %JAVA_HOME%\\jre\\lib\\security\r\n\r\n3) then Issue the below command\r\n\r\nkeytool -import -alias &quot;mycertificatedemo&quot; -file &quot;C:\\Users\\name\\Downloads\\abc.crt&quot; -keystore cacerts\r\n\r\n3) give the password changeit\r\n\r\n4) enter y\r\n\r\n5) you will see the following message on successful\r\n&quot;Certificate was added to keystore&quot;\r\n\r\nMake sure you are giving the &quot;**cacerts**&quot; only in -keystore param value , as i was giving the full path like &quot;C**:\\Program Files\\Java\\jdk1.8.0_151\\jre\\lib\\security**&quot;.\r\n\r\nHope this will work","title":"Java Keytool error after importing certificate , &quot;keytool error: java.io.FileNotFoundException &amp; Access Denied&quot;","body":"<p>I was having the same problem while importing the certificate in local keystore. Whenever i issue the keytool command i got the following error.</p>\n\n<p>Certificate was added to keystore\nkeytool error: java.io.FileNotFoundException: C:\\Program Files\\Java\\jdk1.8.0_151\\jre\\lib\\security (Access is denied)</p>\n\n<p>Following solution work for me.</p>\n\n<p>1) make sure you are running command prompt in Rus as Administrator mode</p>\n\n<p>2) Change your current directory to %JAVA_HOME%\\jre\\lib\\security</p>\n\n<p>3) then Issue the below command</p>\n\n<p>keytool -import -alias \"mycertificatedemo\" -file \"C:\\Users\\name\\Downloads\\abc.crt\" -keystore cacerts</p>\n\n<p>3) give the password changeit</p>\n\n<p>4) enter y</p>\n\n<p>5) you will see the following message on successful\n\"Certificate was added to keystore\"</p>\n\n<p>Make sure you are giving the \"<strong>cacerts</strong>\" only in -keystore param value , as i was giving the full path like \"C**:\\Program Files\\Java\\jdk1.8.0_151\\jre\\lib\\security**\".</p>\n\n<p>Hope this will work</p>\n"},{"tags":[],"owner":{"account_id":3653236,"reputation":61,"user_id":3044861,"display_name":"Schroeder"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1592270661,"creation_date":1592269266,"answer_id":62399390,"question_id":10321211,"body_markdown":"I got this error too even I ran cmd as an Administrator. \r\n\r\nThe root cause is: The file is from VCS(subversion, perforce, etc.), and when I checked the properties of this file, its&#39; Attributes is ***Read-only***.\r\n\r\nSo the solution is:\r\n\r\n* (1) disable the &#39;Read-only&#39; Attribute;\r\n* (2) check out from VCS, let the file under the status of read&amp;write.","title":"Java Keytool error after importing certificate , &quot;keytool error: java.io.FileNotFoundException &amp; Access Denied&quot;","body":"<p>I got this error too even I ran cmd as an Administrator. </p>\n\n<p>The root cause is: The file is from VCS(subversion, perforce, etc.), and when I checked the properties of this file, its' Attributes is <strong><em>Read-only</em></strong>.</p>\n\n<p>So the solution is:</p>\n\n<ul>\n<li>(1) disable the 'Read-only' Attribute;</li>\n<li>(2) check out from VCS, let the file under the status of read&amp;write.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":19163037,"reputation":11,"user_id":13998414,"display_name":"Newbie10"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644586278,"creation_date":1644586278,"answer_id":71080932,"question_id":10321211,"body_markdown":"Make sure you running as Administrator.\r\nIn Mac terminal:-\r\n\r\n1. Run sudo -i\r\n2. Then execute the commands","title":"Java Keytool error after importing certificate , &quot;keytool error: java.io.FileNotFoundException &amp; Access Denied&quot;","body":"<p>Make sure you running as Administrator.\nIn Mac terminal:-</p>\n<ol>\n<li>Run sudo -i</li>\n<li>Then execute the commands</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":15922144,"reputation":97,"user_id":11488835,"display_name":"Ahmed Ahmed"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663274743,"creation_date":1663274743,"answer_id":73737249,"question_id":10321211,"body_markdown":"To solve this Problem you have to access as Admin or give full Control for user privileges. It solved that Problem with me.","title":"Java Keytool error after importing certificate , &quot;keytool error: java.io.FileNotFoundException &amp; Access Denied&quot;","body":"<p>To solve this Problem you have to access as Admin or give full Control for user privileges. It solved that Problem with me.</p>\n"},{"tags":[],"owner":{"account_id":151212,"reputation":196,"user_id":364931,"display_name":"Tuula"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686575250,"creation_date":1686575250,"answer_id":76456984,"question_id":10321211,"body_markdown":"Our keystore was stored in SCM, and for some reason downloading the file directly from the SCM service again, enabled modifying the keystore.  Probably the earlier download of the file didn&#39;t bring it in binary format. ","title":"Java Keytool error after importing certificate , &quot;keytool error: java.io.FileNotFoundException &amp; Access Denied&quot;","body":"<p>Our keystore was stored in SCM, and for some reason downloading the file directly from the SCM service again, enabled modifying the keystore.  Probably the earlier download of the file didn't bring it in binary format.</p>\n"}],"owner":{"account_id":1242486,"reputation":2892,"user_id":1204749,"accept_rate":62,"display_name":"cyber101"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":411875,"favorite_count":0,"down_vote_count":1,"up_vote_count":181,"accepted_answer_id":47669565,"answer_count":14,"score":180,"last_activity_date":1686575250,"creation_date":1335376964,"question_id":10321211,"body_markdown":"I&#39;m trying to connect a Java Web API via HTTPS; however, an exception is thrown:\r\n\r\n    javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException\r\n\r\nI followed these steps which I learned from online keytool &amp; SSL cert tutorials:\r\n\r\n1. I copied the HTTPS URL into the browser, downloaded the SSL certificates &amp; Installed them in the browser using Internet Explorer.\r\n\r\n2. Exported the certificates to a path on my computer, the certificates were saved as `.cer`\r\n\r\n3. Used the keytool&#39;s import option. The command below executed without any errors.\r\n\r\n        keytool -import -alias downloadedCertAlias -keystore C:\\path\\to\\my\\keystore\\cacerts.file -file C:\\path\\of\\exportedCert.cer\r\n\r\n\r\n4. I was prompted for a password at the command prompt, which I entered then I was authenticated. \r\n\r\n5. The `cmd` window printed some certificate data &amp; signatures and I was prompted with the question:  \r\n\r\n    &gt; Trust this certificate?\r\n\r\n I answered yes.\r\n\r\n6. The cmd prompt displayed \r\n  \r\n    &gt; Certificate was added to keystore\r\n\r\n  However after that message, another exception was displayed:\r\n\r\n        keytool error: java.io.FileNotFoundException: C:\\Program files\\...\\cacerts &lt;Access Denied&gt;\r\n\r\nFinally when I checked the keystore , the SSL certificate was not added and my application gives the same exception I was getting earlier when trying to connect:\r\n\r\n    (javax.net.ssl.SSLHandshakeException:sun.security.validator.ValidatorException)","title":"Java Keytool error after importing certificate , &quot;keytool error: java.io.FileNotFoundException &amp; Access Denied&quot;","body":"<p>I'm trying to connect a Java Web API via HTTPS; however, an exception is thrown:</p>\n\n<pre><code>javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException\n</code></pre>\n\n<p>I followed these steps which I learned from online keytool &amp; SSL cert tutorials:</p>\n\n<ol>\n<li><p>I copied the HTTPS URL into the browser, downloaded the SSL certificates &amp; Installed them in the browser using Internet Explorer.</p></li>\n<li><p>Exported the certificates to a path on my computer, the certificates were saved as <code>.cer</code></p></li>\n<li><p>Used the keytool's import option. The command below executed without any errors.</p>\n\n<pre><code>keytool -import -alias downloadedCertAlias -keystore C:\\path\\to\\my\\keystore\\cacerts.file -file C:\\path\\of\\exportedCert.cer\n</code></pre></li>\n<li><p>I was prompted for a password at the command prompt, which I entered then I was authenticated. </p></li>\n<li><p>The <code>cmd</code> window printed some certificate data &amp; signatures and I was prompted with the question:  </p>\n\n<blockquote>\n  <p>Trust this certificate?</p>\n</blockquote>\n\n<p>I answered yes.</p></li>\n<li><p>The cmd prompt displayed </p>\n\n<blockquote>\n  <p>Certificate was added to keystore</p>\n</blockquote>\n\n<p>However after that message, another exception was displayed:</p>\n\n<pre><code>keytool error: java.io.FileNotFoundException: C:\\Program files\\...\\cacerts &lt;Access Denied&gt;\n</code></pre></li>\n</ol>\n\n<p>Finally when I checked the keystore , the SSL certificate was not added and my application gives the same exception I was getting earlier when trying to connect:</p>\n\n<pre><code>(javax.net.ssl.SSLHandshakeException:sun.security.validator.ValidatorException)\n</code></pre>\n"},{"tags":["java","kotlin","javadoc","kdoc"],"answers":[{"tags":[],"owner":{"account_id":49385,"reputation":93759,"user_id":147024,"display_name":"yole"},"down_vote_count":0,"up_vote_count":34,"is_accepted":true,"score":34,"last_activity_date":1522938934,"creation_date":1522938934,"answer_id":49675020,"question_id":49674951,"body_markdown":"As described in the [documentation](http://kotlinlang.org/docs/reference/kotlin-doc.html), you can use the `@property` tag for this:\r\n\r\n    /**\r\n     * Represents a person.\r\n     * @property firstName The first name.\r\n     * @property lastName The last name.\r\n     */\r\n    data class Person(val firstName: String, val lastName: String)\r\n\r\nAlternatively, simply mention the property names in the description of the class, if you don&#39;t have much to say about them in the docs:\r\n\r\n    /**\r\n     * Represents a person, with the given [firstName] and [lastName].\r\n     */\r\n    data class Person(val firstName: String, val lastName: String)\r\n ","title":"How to document attributes in Kotlin data class?","body":"<p>As described in the <a href=\"http://kotlinlang.org/docs/reference/kotlin-doc.html\" rel=\"noreferrer\">documentation</a>, you can use the <code>@property</code> tag for this:</p>\n\n<pre><code>/**\n * Represents a person.\n * @property firstName The first name.\n * @property lastName The last name.\n */\ndata class Person(val firstName: String, val lastName: String)\n</code></pre>\n\n<p>Alternatively, simply mention the property names in the description of the class, if you don't have much to say about them in the docs:</p>\n\n<pre><code>/**\n * Represents a person, with the given [firstName] and [lastName].\n */\ndata class Person(val firstName: String, val lastName: String)\n</code></pre>\n"}],"owner":{"account_id":3446101,"reputation":11345,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6563,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"accepted_answer_id":49675020,"answer_count":1,"score":27,"last_activity_date":1686574959,"creation_date":1522938663,"question_id":49674951,"body_markdown":"Where shall I put Javadoc analogy for attributes in KDoc in Kotlin data class?\r\n\r\nIn other words, how to write in Kotlin KDoc the following Java code Javadoc:\r\n\r\n      \r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    /**\r\n     * Represents a person.\r\n     */\r\n    public class Person {\r\n        /**\r\n         * First name. -- where to place this documentation in Kotlin?\r\n         */\r\n        private final String firstName;\r\n        /**\r\n         * Last name. -- where to place this documentation in Kotlin?\r\n         */\r\n        private final String lastName;\r\n\r\n        // a lot of boilerplate Java code - getters, equals, hashCode, ...\r\n    }\r\n\r\nIn Kotlin it looks like this:\r\n\r\n&lt;!-- language: lang-kotlin --&gt;\r\n\r\n    /**\r\n     * Represents a person.\r\n     */\r\n    data class Person(val firstName: String, val lastName: String)\r\n\r\nbut where to put the attributes&#39; documentation?","title":"How to document attributes in Kotlin data class?","body":"<p>Where shall I put Javadoc analogy for attributes in KDoc in Kotlin data class?</p>\n<p>In other words, how to write in Kotlin KDoc the following Java code Javadoc:</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * Represents a person.\n */\npublic class Person {\n    /**\n     * First name. -- where to place this documentation in Kotlin?\n     */\n    private final String firstName;\n    /**\n     * Last name. -- where to place this documentation in Kotlin?\n     */\n    private final String lastName;\n\n    // a lot of boilerplate Java code - getters, equals, hashCode, ...\n}\n</code></pre>\n<p>In Kotlin it looks like this:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>/**\n * Represents a person.\n */\ndata class Person(val firstName: String, val lastName: String)\n</code></pre>\n<p>but where to put the attributes' documentation?</p>\n"},{"tags":["java","optaplanner","vehicle-routing","timefold"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":2,"creation_date":1686574384,"post_id":76456731,"comment_id":134812865,"body_markdown":"You can pretend that one vehicle is two vehicles.  You can convert time into distance by assuming an average speed for your rounds.","body":"You can pretend that one vehicle is two vehicles.  You can convert time into distance by assuming an average speed for your rounds."},{"owner":{"account_id":216698,"reputation":26495,"user_id":472109,"accept_rate":85,"display_name":"Geoffrey De Smet"},"score":0,"creation_date":1686577449,"post_id":76456731,"comment_id":134813610,"body_markdown":"This might be closer to OptaPlanner/Timefold&#39;s [order-picking quickstart](https://github.com/TimefoldAI/timefold-quickstarts/tree/stable/use-cases/order-picking) than the vehicle routing example.","body":"This might be closer to OptaPlanner/Timefold&#39;s <a href=\"https://github.com/TimefoldAI/timefold-quickstarts/tree/stable/use-cases/order-picking\" rel=\"nofollow noreferrer\">order-picking quickstart</a> than the vehicle routing example."}],"answers":[{"tags":[],"owner":{"account_id":9133364,"reputation":4450,"user_id":6794063,"display_name":"Luk&#225;š Petrovick&#253;"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686574632,"creation_date":1686574632,"answer_id":76456889,"question_id":76456731,"body_markdown":"There is a misconception here. OptaPlanner doesn&#39;t require any particular format. (Neither does [Timefold][1], for that matter.) What you are probably describing is the VRP example, which has indeed been designed as you say. That doesn&#39;t mean, however, that the tool does not support anything else.\r\n\r\nIf a &quot;mission&quot; requires 2 vehicles, that can easily be handled using a constraint. If one vehicle is missing on the mission, penalize it. If both are missing, penalize it even more.\r\n\r\nOn the question of coordinates, I am confused. How can you have a vehicle routing problem, and not know where your stops are in relation to one another? Maybe this is not a VRP model after all, but rather task assigning / job shop scheduling? I can not answer that question without understanding your domain.\r\n\r\n\r\n  [1]: https://timefold.ai/blog/2023/optaplanner-fork/","title":"How to create a Vehicle Routing Problem adapted to a stretcher-bearers rounds optimization","body":"<p>There is a misconception here. OptaPlanner doesn't require any particular format. (Neither does <a href=\"https://timefold.ai/blog/2023/optaplanner-fork/\" rel=\"nofollow noreferrer\">Timefold</a>, for that matter.) What you are probably describing is the VRP example, which has indeed been designed as you say. That doesn't mean, however, that the tool does not support anything else.</p>\n<p>If a &quot;mission&quot; requires 2 vehicles, that can easily be handled using a constraint. If one vehicle is missing on the mission, penalize it. If both are missing, penalize it even more.</p>\n<p>On the question of coordinates, I am confused. How can you have a vehicle routing problem, and not know where your stops are in relation to one another? Maybe this is not a VRP model after all, but rather task assigning / job shop scheduling? I can not answer that question without understanding your domain.</p>\n"}],"owner":{"account_id":28804601,"reputation":1,"user_id":22060752,"display_name":"Amine El Harchaoui"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686574642,"creation_date":1686573343,"question_id":76456731,"body_markdown":"We are a group of French students that work on OptaPlanner to optimize stretcher-bearers rounds for hospital utilization.\r\n\r\nBut OptaPlanner code seems to not be optimized for our problem, let&#39;s suppose the class vehicle corresponds to stretcher-bearers and customer to patients :\r\n- Some missions needs 2 vehicles, OptaPlanner does not offer this possibility\r\n- We have no coordinates for our missions (from CPLEX), only arrival and departure times, while optaplanner simulations require coordinates, and there&#39;s no function for converting time into distance or coordinates\r\n\r\nIs there a way to adapt our problem to OptaPlanner conditions ? Our goal is to have a json file or a .vrptw file including our data and run it on OptaPlanner to simulate stretcher-bearers rounds.\r\n\r\nThanks ! ","title":"How to create a Vehicle Routing Problem adapted to a stretcher-bearers rounds optimization","body":"<p>We are a group of French students that work on OptaPlanner to optimize stretcher-bearers rounds for hospital utilization.</p>\n<p>But OptaPlanner code seems to not be optimized for our problem, let's suppose the class vehicle corresponds to stretcher-bearers and customer to patients :</p>\n<ul>\n<li>Some missions needs 2 vehicles, OptaPlanner does not offer this possibility</li>\n<li>We have no coordinates for our missions (from CPLEX), only arrival and departure times, while optaplanner simulations require coordinates, and there's no function for converting time into distance or coordinates</li>\n</ul>\n<p>Is there a way to adapt our problem to OptaPlanner conditions ? Our goal is to have a json file or a .vrptw file including our data and run it on OptaPlanner to simulate stretcher-bearers rounds.</p>\n<p>Thanks !</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":370994,"reputation":35154,"user_id":719263,"accept_rate":100,"display_name":"Jean-Baptiste Yun&#232;s"},"score":3,"creation_date":1686573984,"post_id":76456782,"comment_id":134812773,"body_markdown":"You are using the Java &quot;script&quot;/&quot;interpreter&quot; mode available since Java 11.","body":"You are using the Java &quot;script&quot;/&quot;interpreter&quot; mode available since Java 11."},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1686574070,"post_id":76456782,"comment_id":134812791,"body_markdown":"`*.java` is the source file and `*.class` is the file that the JVM runs.  I don&#39;t understand the rest of your statements.  You can&#39;t execute a source file.  It always has to be compiled into a class file.  It may happen dynamically under the covers of an IDE, but it has to happen.","body":"<code>*.java</code> is the source file and <code>*.class</code> is the file that the JVM runs.  I don&#39;t understand the rest of your statements.  You can&#39;t execute a source file.  It always has to be compiled into a class file.  It may happen dynamically under the covers of an IDE, but it has to happen."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":1,"creation_date":1686574290,"post_id":76456782,"comment_id":134812844,"body_markdown":"@GilbertLeBlanc since Java 11 you can start simple java programs using the so called source mode (https://openjdk.org/jeps/330, https://docs.oracle.com/en/java/javase/11/tools/java.html#GUID-3B1CE181-CD30-4178-9602-230B800D4FAE) with `java source.java`","body":"@GilbertLeBlanc since Java 11 you can start simple java programs using the so called source mode (<a href=\"https://openjdk.org/jeps/330\" rel=\"nofollow noreferrer\">openjdk.org/jeps/330</a>, <a href=\"https://docs.oracle.com/en/java/javase/11/tools/java.html#GUID-3B1CE181-CD30-4178-9602-230B800D4FAE\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/11/tools/&hellip;</a>) with <code>java source.java</code>"},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1686574537,"post_id":76456782,"comment_id":134812923,"body_markdown":"@ThomasKl&#228;ger: The Java script/interpreter creates class code under the covers.  Okay, it doesn&#39;t create a class &quot;file&quot;.","body":"@ThomasKl&#228;ger: The Java script/interpreter creates class code under the covers.  Okay, it doesn&#39;t create a class &quot;file&quot;."}],"answers":[{"tags":[],"owner":{"account_id":28804815,"reputation":36,"user_id":22060922,"display_name":"AnswerMe"},"down_vote_count":5,"up_vote_count":3,"is_accepted":true,"score":-2,"last_activity_date":1686574088,"creation_date":1686574088,"answer_id":76456827,"question_id":76456782,"body_markdown":"When you execute the command &quot;java Main.java&quot; in the terminal, it attempts to directly run the Java source file without explicitly compiling it first. The Java Virtual Machine (JVM) responsible for executing Java programs can understand and interpret Java source code directly in certain cases.\r\n\r\nHowever, in most cases, the JVM expects the Java source code to be compiled into bytecode before execution. The bytecode is stored in a separate file with a &quot;.class&quot; extension, such as &quot;Main.class&quot;. This bytecode file is generated by the Java compiler (javac) when you compile the Java source code using the command &quot;javac Main.java&quot;.\r\n\r\nSo, when you execute &quot;java Main.java&quot; without explicitly compiling it, the JVM tries to interpret the source code directly, but it may not always be successful or produce the expected results. It&#39;s generally recommended to compile the Java source code using &quot;javac&quot; to generate the bytecode file and then use &quot;java&quot; to execute the bytecode (e.g., &quot;java Main&quot;).\r\n\r\nIn your case, since you&#39;re experiencing a delay when executing &quot;java Main.java&quot; instead of &quot;java Main&quot;, it&#39;s possible that the JVM is attempting to dynamically compile the source code at runtime, which adds some overhead and additional time for the execution process. However, this behavior may vary depending on the Java implementation and version you&#39;re using.\r\n","title":"What is the difference between java *.java and java *.class","body":"<p>When you execute the command &quot;java Main.java&quot; in the terminal, it attempts to directly run the Java source file without explicitly compiling it first. The Java Virtual Machine (JVM) responsible for executing Java programs can understand and interpret Java source code directly in certain cases.</p>\n<p>However, in most cases, the JVM expects the Java source code to be compiled into bytecode before execution. The bytecode is stored in a separate file with a &quot;.class&quot; extension, such as &quot;Main.class&quot;. This bytecode file is generated by the Java compiler (javac) when you compile the Java source code using the command &quot;javac Main.java&quot;.</p>\n<p>So, when you execute &quot;java Main.java&quot; without explicitly compiling it, the JVM tries to interpret the source code directly, but it may not always be successful or produce the expected results. It's generally recommended to compile the Java source code using &quot;javac&quot; to generate the bytecode file and then use &quot;java&quot; to execute the bytecode (e.g., &quot;java Main&quot;).</p>\n<p>In your case, since you're experiencing a delay when executing &quot;java Main.java&quot; instead of &quot;java Main&quot;, it's possible that the JVM is attempting to dynamically compile the source code at runtime, which adds some overhead and additional time for the execution process. However, this behavior may vary depending on the Java implementation and version you're using.</p>\n"},{"tags":[],"owner":{"account_id":7778530,"reputation":3138,"user_id":9860374,"display_name":"Matheus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686574264,"creation_date":1686574264,"answer_id":76456853,"question_id":76456782,"body_markdown":"The `.java` files are source files, whereas `.class` files are the bytecode generated by `javac` - the Java Compiler.\r\n\r\nBy doing\r\n\r\n    javac HelloWorld.java\r\n\r\nThe compiler generates the bytecode.\r\n\r\nIn general, you do not run the `.java` files without compiling it. If you&#39;re running the project from a IDE, the IDE is *probably* compiling your code and then executing it. It&#39;s a two-step process where the code gets compiled and then executed. You do not see the `.class` compiled files if they were generated by the IDE, because they&#39;re *typically* located in a temporary hidden directory and not in the project directory.","title":"What is the difference between java *.java and java *.class","body":"<p>The <code>.java</code> files are source files, whereas <code>.class</code> files are the bytecode generated by <code>javac</code> - the Java Compiler.</p>\n<p>By doing</p>\n<pre><code>javac HelloWorld.java\n</code></pre>\n<p>The compiler generates the bytecode.</p>\n<p>In general, you do not run the <code>.java</code> files without compiling it. If you're running the project from a IDE, the IDE is <em>probably</em> compiling your code and then executing it. It's a two-step process where the code gets compiled and then executed. You do not see the <code>.class</code> compiled files if they were generated by the IDE, because they're <em>typically</em> located in a temporary hidden directory and not in the project directory.</p>\n"}],"owner":{"account_id":23381261,"reputation":21,"user_id":17447840,"display_name":"PatrickYoo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":128,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":76456827,"answer_count":2,"score":-1,"last_activity_date":1686574264,"creation_date":1686573746,"question_id":76456782,"body_markdown":"Hello Here is very simple code and I&#39;m curious about the difference between &#39;java Main.java and Main.class\r\n```\r\nclass Main {\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;Hello, World&quot;);\r\n    }\r\n}\r\n```\r\n\r\nwhen I compile the Main.java source it creates the Main.class and then I know the proccess of the JVM Work but I just got to know That I can execute Main source without compiling\r\n\r\nand it takes a little bit more time when I execute java Main.java \r\n\r\nso why it doesn&#39;t create Main.class when I execute `java Main.java` and how it is possible to execute without creating Main.class file?\r\n\r\n\r\nI expected no Result and error occurs but not..","title":"What is the difference between java *.java and java *.class","body":"<p>Hello Here is very simple code and I'm curious about the difference between 'java Main.java and Main.class</p>\n<pre><code>class Main {\n    public static void main(String[] args) {\n        System.out.println(&quot;Hello, World&quot;);\n    }\n}\n</code></pre>\n<p>when I compile the Main.java source it creates the Main.class and then I know the proccess of the JVM Work but I just got to know That I can execute Main source without compiling</p>\n<p>and it takes a little bit more time when I execute java Main.java</p>\n<p>so why it doesn't create Main.class when I execute <code>java Main.java</code> and how it is possible to execute without creating Main.class file?</p>\n<p>I expected no Result and error occurs but not..</p>\n"},{"tags":["java","spring","spring-data-jpa"],"comments":[{"owner":{"account_id":3585451,"reputation":6335,"user_id":2992754,"display_name":"juanlumn"},"score":1,"creation_date":1686573737,"post_id":76456757,"comment_id":134812698,"body_markdown":"Does this answer your question? [Spring boot - Not a managed type](https://stackoverflow.com/questions/28664064/spring-boot-not-a-managed-type)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/28664064/spring-boot-not-a-managed-type\">Spring boot - Not a managed type</a>"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1686579443,"post_id":76456757,"comment_id":134814084,"body_markdown":"Let me guess, you are &quot;following&quot; a tutorial for some Spring Boot 2.x version and decided to go with Spring Boot 3.x. Ran into issues with classes not being found, added the `persistence-api` dependency and now things don&#39;t work? Spring Boot 3 is for JakartaEE not JavaEE. Remove said dependency (and maybe some hibernate one you added in the mix) and use the `jakarta.persistence` annotation instead of `javax.persistence`.","body":"Let me guess, you are &quot;following&quot; a tutorial for some Spring Boot 2.x version and decided to go with Spring Boot 3.x. Ran into issues with classes not being found, added the <code>persistence-api</code> dependency and now things don&#39;t work? Spring Boot 3 is for JakartaEE not JavaEE. Remove said dependency (and maybe some hibernate one you added in the mix) and use the <code>jakarta.persistence</code> annotation instead of <code>javax.persistence</code>."},{"owner":{"account_id":28803316,"reputation":11,"user_id":22059715,"display_name":"Просто Смешно"},"score":0,"creation_date":1686582792,"post_id":76456757,"comment_id":134814963,"body_markdown":"I changed jakarta.persistence to javax.persistence. But a new error has appeared: Unknown access type record","body":"I changed jakarta.persistence to javax.persistence. But a new error has appeared: Unknown access type record"}],"answers":[{"tags":[],"owner":{"account_id":11450501,"reputation":311,"user_id":8423371,"display_name":"SM. Hosseini"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686574147,"creation_date":1686574147,"answer_id":76456838,"question_id":76456757,"body_markdown":"Check if there are any exceptions or error messages in the application logs that can provide insight into the issue. Look for any database-related errors, transaction failures, or constraint violations.\r\n\r\nIf you&#39;re using an existing database schema, ensure that the table structure matches your entity class definitions. If there are any inconsistencies, you may need to update your entity class or perform database schema migrations.\r\n\r\nalso try:\r\n\r\n    spring.jpa.hibernate.ddl-auto=create-drop","title":"I can&#39;t add an object to the database. JPA","body":"<p>Check if there are any exceptions or error messages in the application logs that can provide insight into the issue. Look for any database-related errors, transaction failures, or constraint violations.</p>\n<p>If you're using an existing database schema, ensure that the table structure matches your entity class definitions. If there are any inconsistencies, you may need to update your entity class or perform database schema migrations.</p>\n<p>also try:</p>\n<pre><code>spring.jpa.hibernate.ddl-auto=create-drop\n</code></pre>\n"}],"owner":{"account_id":28803316,"reputation":11,"user_id":22059715,"display_name":"Просто Смешно"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686574147,"creation_date":1686573562,"question_id":76456757,"body_markdown":"I have a Weather object that I want to add to a postgresql database using JpaRepository.\r\nError code: Not a managed type: class com.example.weather.model.Weather\r\nAlthough there are all dependencies for entering an object into the database.\r\nThe Service class was created with the @Service annotation, through which I tried to enter the object into the database, but the problem remains the same.\r\n\r\n```\r\npackage com.example.weather;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n\r\n@SpringBootApplication\r\npublic class WeatherApplication {\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(WeatherApplication.class, args);\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\n```\r\npackage com.example.weather.model;\r\n\r\nimport com.fasterxml.jackson.annotation.JsonProperty;\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Getter;\r\nimport lombok.NoArgsConstructor;\r\nimport lombok.Setter;\r\n\r\n\r\nimport javax.persistence.*;\r\nimport java.io.Serializable;\r\n\r\n@Getter\r\n@Setter\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Entity\r\n@Table(name = &quot;weather&quot;)\r\npublic class Weather implements Serializable {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private long id;\r\n\r\n    @Column(name = &quot;city&quot;)\r\n    private String city;\r\n    @Column(name = &quot;temp&quot;)\r\n    @JsonProperty(&quot;temp&quot;)\r\n    private int temp;\r\n    @Column(name = &quot;wind_speed&quot;)\r\n    @JsonProperty(&quot;wind_speed&quot;)\r\n    private double wind_speed;\r\n    @Column(name = &quot;wind_degrees&quot;)\r\n    @JsonProperty(&quot;wind_degrees&quot;)\r\n    private double wind_degrees;\r\n    @Column(name = &quot;humidity&quot;)\r\n    @JsonProperty(&quot;humidity&quot;)\r\n    private int humidity;\r\n    @Column(name = &quot;sunset&quot;)\r\n    @JsonProperty(&quot;sunset&quot;)\r\n    private int sunset;\r\n    @Column(name = &quot;min_temp&quot;)\r\n    @JsonProperty(&quot;min_temp&quot;)\r\n    private int min_temp;\r\n    @Column(name = &quot;cloud_pct&quot;)\r\n    @JsonProperty(&quot;cloud_pct&quot;)\r\n    private int cloud_pct;\r\n    @Column(name = &quot;feels_like&quot;)\r\n    @JsonProperty(&quot;feels_like&quot;)\r\n    private int feels_like;\r\n    @Column(name = &quot;sunrise&quot;)\r\n    @JsonProperty(&quot;sunrise&quot;)\r\n    private int sunrise;\r\n    @Column(name = &quot;max_temp&quot;)\r\n    @JsonProperty(&quot;max_temp&quot;)\r\n    private int max_temp;\r\n\r\n    public void Print(){\r\n        System.out.println(String.format(&quot;id = %s\\ncity = %s\\ntemp = %s\\nwind_speed = %s\\nwind_degrees = %s\\n&quot; +\r\n                &quot;humidity = %s\\nsunset = %s\\nmin_temp = %s\\ncloud_pct = %s\\nfeels_like = %s\\nsunrise = %s\\nmax_temp = %s&quot;,\r\n                id, city, temp, wind_speed, wind_degrees, humidity, sunset, min_temp, cloud_pct, feels_like, sunrise, max_temp));\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n```\r\npackage com.example.weather.controller;\r\n\r\nimport com.example.weather.jms.WeatherListener;\r\nimport com.example.weather.jms.WeatherProducer;\r\nimport com.example.weather.model.Weather;\r\nimport com.example.weather.repository.WeatherRepository;\r\nimport com.fasterxml.jackson.databind.JsonNode;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.web.bind.annotation.*;\r\n\r\nimport java.io.InputStream;\r\nimport java.net.HttpURLConnection;\r\nimport java.net.URL;\r\n\r\n@RestController\r\n@RequestMapping(&quot;/weather&quot;)\r\npublic class WeatherController {\r\n\r\n    private final WeatherProducer weatherProducer;\r\n    private final WeatherListener weatherListener;\r\n    private final WeatherRepository weatherRepository;\r\n\r\n    @Autowired\r\n    public WeatherController(WeatherProducer weatherProducer, WeatherListener weatherListener, WeatherRepository weatherRepository) {\r\n        this.weatherProducer = weatherProducer;\r\n        this.weatherListener = weatherListener;\r\n        this.weatherRepository = weatherRepository;\r\n    }\r\n\r\n    @GetMapping(&quot;{city}&quot;)\r\n    public int getWeather(@PathVariable String city) throws Exception{\r\n        URL url = new URL(&quot;https://api.api-ninjas.com/v1/weather?city=&quot; + city);\r\n        HttpURLConnection connection = (HttpURLConnection) url.openConnection();\r\n        connection.addRequestProperty(&quot;X-Api-Key&quot;, &quot;aCQf5mYIfKNIhy2etdORbQ==4lC2SUpMjyg9CTpq&quot;);\r\n        InputStream responseStream = connection.getInputStream();\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        JsonNode root = mapper.readTree(responseStream);\r\n        Weather weather = mapper.readValue(root.toString(), Weather.class);\r\n        weather.setCity(city);\r\n\r\n        //weatherProducer.sendWeather(weather);\r\n        weatherRepository.save(weather);\r\n\r\n        int currentTemperature = weather.getTemp();\r\n\r\n        return currentTemperature;\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n```\r\npackage com.example.weather.repository;\r\n\r\nimport com.example.weather.model.Weather;\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.stereotype.Repository;\r\n\r\n@Repository\r\npublic interface WeatherRepository extends JpaRepository&lt;Weather, Long&gt; {\r\n\r\n}\r\n\r\n```\r\n\r\n\r\n```\r\nspring.datasource.url=jdbc:postgresql://localhost:5432/weather\r\nspring.datasource.username=postgres\r\nspring.datasource.password=12345\r\nspring.datasource.driver-class-name=org.postgresql.Driver\r\n\r\nspring.jpa.database=postgresql\r\nspring.jpa.database-platform=org.hibernate.dialect.PostgreSQL10Dialect\r\nspring.jpa.show-sql=true\r\nspring.jpa.hibernate.ddl-auto=update\r\n\r\n```\r\n\r\nI added annotations @EntityScan and @EnableJpaRepositories, but it didn&#39;t solve the problem.","title":"I can&#39;t add an object to the database. JPA","body":"<p>I have a Weather object that I want to add to a postgresql database using JpaRepository.\nError code: Not a managed type: class com.example.weather.model.Weather\nAlthough there are all dependencies for entering an object into the database.\nThe Service class was created with the @Service annotation, through which I tried to enter the object into the database, but the problem remains the same.</p>\n<pre><code>package com.example.weather;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n\n@SpringBootApplication\npublic class WeatherApplication {\n    public static void main(String[] args) {\n        SpringApplication.run(WeatherApplication.class, args);\n    }\n\n}\n\n</code></pre>\n<pre><code>package com.example.weather.model;\n\nimport com.fasterxml.jackson.annotation.JsonProperty;\nimport lombok.AllArgsConstructor;\nimport lombok.Getter;\nimport lombok.NoArgsConstructor;\nimport lombok.Setter;\n\n\nimport javax.persistence.*;\nimport java.io.Serializable;\n\n@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\n@Entity\n@Table(name = &quot;weather&quot;)\npublic class Weather implements Serializable {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private long id;\n\n    @Column(name = &quot;city&quot;)\n    private String city;\n    @Column(name = &quot;temp&quot;)\n    @JsonProperty(&quot;temp&quot;)\n    private int temp;\n    @Column(name = &quot;wind_speed&quot;)\n    @JsonProperty(&quot;wind_speed&quot;)\n    private double wind_speed;\n    @Column(name = &quot;wind_degrees&quot;)\n    @JsonProperty(&quot;wind_degrees&quot;)\n    private double wind_degrees;\n    @Column(name = &quot;humidity&quot;)\n    @JsonProperty(&quot;humidity&quot;)\n    private int humidity;\n    @Column(name = &quot;sunset&quot;)\n    @JsonProperty(&quot;sunset&quot;)\n    private int sunset;\n    @Column(name = &quot;min_temp&quot;)\n    @JsonProperty(&quot;min_temp&quot;)\n    private int min_temp;\n    @Column(name = &quot;cloud_pct&quot;)\n    @JsonProperty(&quot;cloud_pct&quot;)\n    private int cloud_pct;\n    @Column(name = &quot;feels_like&quot;)\n    @JsonProperty(&quot;feels_like&quot;)\n    private int feels_like;\n    @Column(name = &quot;sunrise&quot;)\n    @JsonProperty(&quot;sunrise&quot;)\n    private int sunrise;\n    @Column(name = &quot;max_temp&quot;)\n    @JsonProperty(&quot;max_temp&quot;)\n    private int max_temp;\n\n    public void Print(){\n        System.out.println(String.format(&quot;id = %s\\ncity = %s\\ntemp = %s\\nwind_speed = %s\\nwind_degrees = %s\\n&quot; +\n                &quot;humidity = %s\\nsunset = %s\\nmin_temp = %s\\ncloud_pct = %s\\nfeels_like = %s\\nsunrise = %s\\nmax_temp = %s&quot;,\n                id, city, temp, wind_speed, wind_degrees, humidity, sunset, min_temp, cloud_pct, feels_like, sunrise, max_temp));\n    }\n}\n\n</code></pre>\n<pre><code>package com.example.weather.controller;\n\nimport com.example.weather.jms.WeatherListener;\nimport com.example.weather.jms.WeatherProducer;\nimport com.example.weather.model.Weather;\nimport com.example.weather.repository.WeatherRepository;\nimport com.fasterxml.jackson.databind.JsonNode;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.*;\n\nimport java.io.InputStream;\nimport java.net.HttpURLConnection;\nimport java.net.URL;\n\n@RestController\n@RequestMapping(&quot;/weather&quot;)\npublic class WeatherController {\n\n    private final WeatherProducer weatherProducer;\n    private final WeatherListener weatherListener;\n    private final WeatherRepository weatherRepository;\n\n    @Autowired\n    public WeatherController(WeatherProducer weatherProducer, WeatherListener weatherListener, WeatherRepository weatherRepository) {\n        this.weatherProducer = weatherProducer;\n        this.weatherListener = weatherListener;\n        this.weatherRepository = weatherRepository;\n    }\n\n    @GetMapping(&quot;{city}&quot;)\n    public int getWeather(@PathVariable String city) throws Exception{\n        URL url = new URL(&quot;https://api.api-ninjas.com/v1/weather?city=&quot; + city);\n        HttpURLConnection connection = (HttpURLConnection) url.openConnection();\n        connection.addRequestProperty(&quot;X-Api-Key&quot;, &quot;aCQf5mYIfKNIhy2etdORbQ==4lC2SUpMjyg9CTpq&quot;);\n        InputStream responseStream = connection.getInputStream();\n        ObjectMapper mapper = new ObjectMapper();\n        JsonNode root = mapper.readTree(responseStream);\n        Weather weather = mapper.readValue(root.toString(), Weather.class);\n        weather.setCity(city);\n\n        //weatherProducer.sendWeather(weather);\n        weatherRepository.save(weather);\n\n        int currentTemperature = weather.getTemp();\n\n        return currentTemperature;\n    }\n}\n\n</code></pre>\n<pre><code>package com.example.weather.repository;\n\nimport com.example.weather.model.Weather;\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\n@Repository\npublic interface WeatherRepository extends JpaRepository&lt;Weather, Long&gt; {\n\n}\n\n</code></pre>\n<pre><code>spring.datasource.url=jdbc:postgresql://localhost:5432/weather\nspring.datasource.username=postgres\nspring.datasource.password=12345\nspring.datasource.driver-class-name=org.postgresql.Driver\n\nspring.jpa.database=postgresql\nspring.jpa.database-platform=org.hibernate.dialect.PostgreSQL10Dialect\nspring.jpa.show-sql=true\nspring.jpa.hibernate.ddl-auto=update\n\n</code></pre>\n<p>I added annotations @EntityScan and @EnableJpaRepositories, but it didn't solve the problem.</p>\n"},{"tags":["java","android","kotlin","bluetooth-lowenergy"],"answers":[{"tags":[],"owner":{"account_id":10114718,"reputation":2216,"user_id":7473793,"display_name":"Michael Kotzjan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686574136,"creation_date":1686574136,"answer_id":76456836,"question_id":76454867,"body_markdown":"The [documentation](https://developer.android.com/reference/android/bluetooth/BluetoothGattCallback#onCharacteristicChanged(android.bluetooth.BluetoothGatt,%20android.bluetooth.BluetoothGattCharacteristic,%20byte[])) for the `onCharacteristicChanged` callback states:\r\n\r\n&gt; Callback **triggered as a result of a remote characteristic notification**. Note that the value within the characteristic object may have changed since receiving the remote characteristic notification, so check the parameter value for the value at the time of notification.\r\n\r\nThis means that the characteristic you want this callback to work on must allow notifications and notifications need to be activated. This is a question that handles the activation of BLE notifications:\r\n\r\n[Enabling Bluetooth characteristic Notification in Android (Bluetooth Low Energy ) Not Working](https://stackoverflow.com/questions/32184536/enabling-bluetooth-characteristic-notification-in-android-bluetooth-low-energy)","title":"onCharacteristicChanged is not called","body":"<p>The <a href=\"https://developer.android.com/reference/android/bluetooth/BluetoothGattCallback#onCharacteristicChanged(android.bluetooth.BluetoothGatt,%20android.bluetooth.BluetoothGattCharacteristic,%20byte%5B%5D)\" rel=\"nofollow noreferrer\">documentation</a> for the <code>onCharacteristicChanged</code> callback states:</p>\n<blockquote>\n<p>Callback <strong>triggered as a result of a remote characteristic notification</strong>. Note that the value within the characteristic object may have changed since receiving the remote characteristic notification, so check the parameter value for the value at the time of notification.</p>\n</blockquote>\n<p>This means that the characteristic you want this callback to work on must allow notifications and notifications need to be activated. This is a question that handles the activation of BLE notifications:</p>\n<p><a href=\"https://stackoverflow.com/questions/32184536/enabling-bluetooth-characteristic-notification-in-android-bluetooth-low-energy\">Enabling Bluetooth characteristic Notification in Android (Bluetooth Low Energy ) Not Working</a></p>\n"}],"owner":{"account_id":27105255,"reputation":1,"user_id":20651184,"display_name":"Yujin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686574136,"creation_date":1686559061,"question_id":76454867,"body_markdown":"```\r\noverride fun onConnectionStateChange(gatt: BluetoothGatt?, status: Int, newState: Int) {\r\n            if (newState == BluetoothProfile.STATE_CONNECTED) {\r\n                Log.d(TAG,&quot;success&quot;)\r\n                if (ActivityCompat.checkSelfPermission(this@MainActivity, Manifest.permission.BLUETOOTH_CONNECT) != PackageManager.PERMISSION_GRANTED) {  }\r\n                mGatt?.discoverServices()\r\n            }\r\n            else if (newState == BluetoothProfile.STATE_DISCONNECTED) {\r\n                Log.d(TAG,&quot;fale&quot;)\r\n            }\r\n        }\r\n\r\noverride fun onServicesDiscovered(gatt: BluetoothGatt, status: Int) {\r\n            when(status){\r\n                BluetoothGatt.GATT_SUCCESS -&gt; {\r\n                    if (ActivityCompat.checkSelfPermission(this@MainActivity, Manifest.permission.BLUETOOTH_CONNECT) != PackageManager.PERMISSION_GRANTED) {  }\r\n\r\n                    for (service in gatt.services) {\r\n                        for (characteristic in service.getCharacteristics()) {\r\n                            if(hasProperty(characteristic.properties, BluetoothGattCharacteristic.PROPERTY_READ)) {\r\n                                Log.d(TAG + &quot;Read &quot;, characteristic.uuid.toString())\r\n                                gatt.readCharacteristic(characteristic)\r\n                            }\r\n                            if( hasProperty(characteristic.properties, BluetoothGattCharacteristic.PROPERTY_NOTIFY)) {\r\n                                Log.d(TAG + &quot;NOTIFY &quot;, characteristic.uuid.toString())\r\n                                gatt.setCharacteristicNotification(characteristic, true)\r\n\r\n                                val descriptor = characteristic.getDescriptor(UUID.fromString(&quot;00002902-0000-1000-8000-00805f9b34fb&quot;))\r\n                                descriptor.value = BluetoothGattDescriptor.ENABLE_NOTIFICATION_VALUE\r\n                                gatt.writeDescriptor(descriptor)\r\n                            }\r\n                            if( hasProperty(characteristic.properties, BluetoothGattCharacteristic.PROPERTY_WRITE)){\r\n                                Log.d(TAG + &quot;Write &quot;, characteristic.uuid.toString())\r\n                                gatt.writeCharacteristic(characteristic)\r\n                            }\r\n\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\noverride fun onCharacteristicChanged(gatt: BluetoothGatt, characteristic: BluetoothGattCharacteristic, value: ByteArray) {\r\n            super.onCharacteristicChanged(gatt, characteristic, value)\r\n            Log.d(TAG,&quot;onCharacteristicChanged&quot;)\r\n        }\r\n```\r\n\r\nIn onConnectionStateChange, success log is output normally\r\n\r\nCalled normally from onServicesDiscovered to GATT_SUCCESS.\r\n\r\nBut onCharacteristicChanged is not called.\r\n\r\nWhich part is wrong or need to be added?\r\n\r\n\r\n\r\n\r\nIn the nRF Connect app, the value is normally displayed with the same Bluetooth module.","title":"onCharacteristicChanged is not called","body":"<pre><code>override fun onConnectionStateChange(gatt: BluetoothGatt?, status: Int, newState: Int) {\n            if (newState == BluetoothProfile.STATE_CONNECTED) {\n                Log.d(TAG,&quot;success&quot;)\n                if (ActivityCompat.checkSelfPermission(this@MainActivity, Manifest.permission.BLUETOOTH_CONNECT) != PackageManager.PERMISSION_GRANTED) {  }\n                mGatt?.discoverServices()\n            }\n            else if (newState == BluetoothProfile.STATE_DISCONNECTED) {\n                Log.d(TAG,&quot;fale&quot;)\n            }\n        }\n\noverride fun onServicesDiscovered(gatt: BluetoothGatt, status: Int) {\n            when(status){\n                BluetoothGatt.GATT_SUCCESS -&gt; {\n                    if (ActivityCompat.checkSelfPermission(this@MainActivity, Manifest.permission.BLUETOOTH_CONNECT) != PackageManager.PERMISSION_GRANTED) {  }\n\n                    for (service in gatt.services) {\n                        for (characteristic in service.getCharacteristics()) {\n                            if(hasProperty(characteristic.properties, BluetoothGattCharacteristic.PROPERTY_READ)) {\n                                Log.d(TAG + &quot;Read &quot;, characteristic.uuid.toString())\n                                gatt.readCharacteristic(characteristic)\n                            }\n                            if( hasProperty(characteristic.properties, BluetoothGattCharacteristic.PROPERTY_NOTIFY)) {\n                                Log.d(TAG + &quot;NOTIFY &quot;, characteristic.uuid.toString())\n                                gatt.setCharacteristicNotification(characteristic, true)\n\n                                val descriptor = characteristic.getDescriptor(UUID.fromString(&quot;00002902-0000-1000-8000-00805f9b34fb&quot;))\n                                descriptor.value = BluetoothGattDescriptor.ENABLE_NOTIFICATION_VALUE\n                                gatt.writeDescriptor(descriptor)\n                            }\n                            if( hasProperty(characteristic.properties, BluetoothGattCharacteristic.PROPERTY_WRITE)){\n                                Log.d(TAG + &quot;Write &quot;, characteristic.uuid.toString())\n                                gatt.writeCharacteristic(characteristic)\n                            }\n\n                        }\n                    }\n                }\n            }\n        }\n\noverride fun onCharacteristicChanged(gatt: BluetoothGatt, characteristic: BluetoothGattCharacteristic, value: ByteArray) {\n            super.onCharacteristicChanged(gatt, characteristic, value)\n            Log.d(TAG,&quot;onCharacteristicChanged&quot;)\n        }\n</code></pre>\n<p>In onConnectionStateChange, success log is output normally</p>\n<p>Called normally from onServicesDiscovered to GATT_SUCCESS.</p>\n<p>But onCharacteristicChanged is not called.</p>\n<p>Which part is wrong or need to be added?</p>\n<p>In the nRF Connect app, the value is normally displayed with the same Bluetooth module.</p>\n"},{"tags":["java","guava","apache-commons-collection"],"comments":[{"owner":{"account_id":364193,"reputation":27495,"user_id":708434,"accept_rate":70,"display_name":"Grzegorz Rożniecki"},"score":1,"creation_date":1348046942,"post_id":12490955,"comment_id":16808262,"body_markdown":"If you want `subList` from your collection, you shouldn&#39;t use `Set` in first place since its iteration order is **undefined** and your implementation can yield different results depending on... phase of the moon.","body":"If you want <code>subList</code> from your collection, you shouldn&#39;t use <code>Set</code> in first place since its iteration order is <b>undefined</b> and your implementation can yield different results depending on... phase of the moon."},{"owner":{"account_id":63162,"reputation":102381,"user_id":187141,"accept_rate":82,"display_name":"yegor256"},"score":0,"creation_date":1348054823,"post_id":12490955,"comment_id":16811393,"body_markdown":"How do you know that order of elements in my `Set` is undefined?","body":"How do you know that order of elements in my <code>Set</code> is undefined?"},{"owner":{"account_id":364193,"reputation":27495,"user_id":708434,"accept_rate":70,"display_name":"Grzegorz Rożniecki"},"score":0,"creation_date":1348055293,"post_id":12490955,"comment_id":16811582,"body_markdown":"From Java Collections API - see [iterator() description in `Set`](http://docs.oracle.com/javase/6/docs/api/java/util/Set.html#iterator()). The `Set` interface itself makes adds nothing to `Collection` contract about iteration order; Set implementations on the other hand [_can_ order its elements somehow](http://docs.oracle.com/javase/tutorial/collections/interfaces/set.html) (TreeSet and LinkedHashSet does).","body":"From Java Collections API - see <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/Set.html#iterator()\" rel=\"nofollow noreferrer\">iterator() description in <code>Set</code></a>. The <code>Set</code> interface itself makes adds nothing to <code>Collection</code> contract about iteration order; Set implementations on the other hand <a href=\"http://docs.oracle.com/javase/tutorial/collections/interfaces/set.html\" rel=\"nofollow noreferrer\"><i>can</i> order its elements somehow</a> (TreeSet and LinkedHashSet does)."},{"owner":{"account_id":63162,"reputation":102381,"user_id":187141,"accept_rate":82,"display_name":"yegor256"},"score":0,"creation_date":1348071711,"post_id":12490955,"comment_id":16819396,"body_markdown":"How do you know that my `Set` implementation is not adding iteration order to it?","body":"How do you know that my <code>Set</code> implementation is not adding iteration order to it?"},{"owner":{"account_id":364193,"reputation":27495,"user_id":708434,"accept_rate":70,"display_name":"Grzegorz Rożniecki"},"score":1,"creation_date":1348072746,"post_id":12490955,"comment_id":16819874,"body_markdown":"I don&#39;t know your impl, but in method signature there&#39;s no `YourSet` but `Set` parameter and thus method can (you don&#39;t forbid it) be invoked as `sublist(new HashSet(Arrays.asList(2,3,1), 2)` which _can_ yeild different result than `sublist(new LinkedHashSet(Arrays.asList(2,3,1), 2)`.","body":"I don&#39;t know your impl, but in method signature there&#39;s no <code>YourSet</code> but <code>Set</code> parameter and thus method can (you don&#39;t forbid it) be invoked as <code>sublist(new HashSet(Arrays.asList(2,3,1), 2)</code> which <i>can</i> yeild different result than <code>sublist(new LinkedHashSet(Arrays.asList(2,3,1), 2)</code>."},{"owner":{"account_id":63162,"reputation":102381,"user_id":187141,"accept_rate":82,"display_name":"yegor256"},"score":0,"creation_date":1348074619,"post_id":12490955,"comment_id":16820624,"body_markdown":"`Set` iteration order is not undefined, as you said above. It may be defined by `Set` interface in any possible way. Keep in mind that `HashSet` and `LinkedHashSet` are just a few possible implementations.","body":"<code>Set</code> iteration order is not undefined, as you said above. It may be defined by <code>Set</code> interface in any possible way. Keep in mind that <code>HashSet</code> and <code>LinkedHashSet</code> are just a few possible implementations."}],"answers":[{"tags":[],"owner":{"account_id":1558798,"reputation":36540,"user_id":1449199,"accept_rate":95,"display_name":"Baz"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1348043338,"creation_date":1348043338,"answer_id":12490999,"question_id":12490955,"body_markdown":"This should do it:\r\n\r\n    return (new LinkedList&lt;T&gt;(set)).subList(0, count);\r\n\r\nBut ensure, that `count` isn&#39;t larger than the size of `set`.","title":"One liner for getting a sublist from a Set","body":"<p>This should do it:</p>\n\n<pre><code>return (new LinkedList&lt;T&gt;(set)).subList(0, count);\n</code></pre>\n\n<p>But ensure, that <code>count</code> isn't larger than the size of <code>set</code>.</p>\n"},{"tags":[],"owner":{"account_id":47598,"reputation":30707,"user_id":141081,"display_name":"Dirk"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1348043347,"creation_date":1348043347,"answer_id":12491002,"question_id":12490955,"body_markdown":"    (new LinkedList&lt;Object&gt;(mySet)).sublist(0, Math.min(count, mySet.size()))\r\n\r\nBut please note: the code (even your original code) is a little bit smelly, since iteration order of sets depends on the actual set implementation in question (it&#39;s totally undefined in `HashSet` and the key order for `TreeSet`s). So, it is actually an open question, which elements make it into the final sublist.","title":"One liner for getting a sublist from a Set","body":"<pre><code>(new LinkedList&lt;Object&gt;(mySet)).sublist(0, Math.min(count, mySet.size()))\n</code></pre>\n\n<p>But please note: the code (even your original code) is a little bit smelly, since iteration order of sets depends on the actual set implementation in question (it's totally undefined in <code>HashSet</code> and the key order for <code>TreeSet</code>s). So, it is actually an open question, which elements make it into the final sublist.</p>\n"},{"tags":[],"owner":{"account_id":450898,"reputation":15332,"user_id":846476,"accept_rate":86,"display_name":"RNJ"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1348126373,"creation_date":1348043357,"answer_id":12491006,"question_id":12490955,"body_markdown":"What about this\r\n\r\n    Set&lt;String&gt; s = new HashSet&lt;String&gt;();\r\n    // add at least two items to the set \r\n    Set&lt;String&gt; subSet = new HashSet(new ArrayList&lt;String&gt;(s).subList(1, 2));\r\n\r\nThis would sublist between 1 and 2","title":"One liner for getting a sublist from a Set","body":"<p>What about this</p>\n\n<pre><code>Set&lt;String&gt; s = new HashSet&lt;String&gt;();\n// add at least two items to the set \nSet&lt;String&gt; subSet = new HashSet(new ArrayList&lt;String&gt;(s).subList(1, 2));\n</code></pre>\n\n<p>This would sublist between 1 and 2</p>\n"},{"tags":[],"owner":{"account_id":1765615,"reputation":925,"user_id":1611568,"display_name":"Chris B"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1348047825,"creation_date":1348043376,"answer_id":12491012,"question_id":12490955,"body_markdown":"You could use a [TreeSet][1] and use it&#39;s [subSet][2] method:\r\n\r\n&gt; Returns a view of the portion of this set whose elements range from fromElement to toElement. If fromElement and toElement are equal, the returned set is empty unless fromExclusive and toExclusive are both true. The returned set is backed by this set, so changes in the returned set are reflected in this set, and vice-versa. The returned set supports all optional set operations that this set supports.\r\n\r\n**EXAMPLE USING INTEGER:**\r\n\r\n    TreeSet&lt;Integer&gt; t = new TreeSet&lt;Integer&gt;();\r\n    t.add(1);\r\n    t.add(2);\r\n    t.add(3);\r\n    t.add(4);\r\n    t.add(5);\r\n    \r\n    System.out.println(&quot;Before SubSet:&quot;);\r\n        \r\n    for(Integer s : t){\r\n        System.out.println(s);\r\n    }\r\n    \r\n    System.out.println(&quot;\\nAfter SubSet:&quot;);\r\n    \r\n\r\n    for(Integer s : t.subSet(2,false,5,true)){\r\n        System.out.println(s);\r\n    }\r\n\r\n**OUTPUT:**\r\n\r\n    Before SubSet:\r\n    1\r\n    2\r\n    3\r\n    4\r\n    5\r\n    \r\n    After SubSet:\r\n    3\r\n    4\r\n    5\r\n\r\nAlternatively, If you do not know the elements and want to return the elements between two points you can use an ArrayList constructed with the Set and use the [subList][3] method.\r\n    \r\n    System.out.println(&quot;\\nAfter SubSet:&quot;);\r\n    \r\n    t = new TreeSet(new ArrayList(t).subList(2, 5));\r\n\r\n    for(Integer s : t){\r\n        System.out.println(s);\r\n    }\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/util/TreeSet.html\r\n  [2]: http://docs.oracle.com/javase/6/docs/api/java/util/TreeSet.html#subSet%28E,%20boolean,%20E,%20boolean%29\r\n  [3]: http://docs.oracle.com/javase/6/docs/api/java/util/AbstractList.html#subList%28int,%20int%29","title":"One liner for getting a sublist from a Set","body":"<p>You could use a <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/TreeSet.html\" rel=\"nofollow\">TreeSet</a> and use it's <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/TreeSet.html#subSet%28E,%20boolean,%20E,%20boolean%29\" rel=\"nofollow\">subSet</a> method:</p>\n\n<blockquote>\n  <p>Returns a view of the portion of this set whose elements range from fromElement to toElement. If fromElement and toElement are equal, the returned set is empty unless fromExclusive and toExclusive are both true. The returned set is backed by this set, so changes in the returned set are reflected in this set, and vice-versa. The returned set supports all optional set operations that this set supports.</p>\n</blockquote>\n\n<p><strong>EXAMPLE USING INTEGER:</strong></p>\n\n<pre><code>TreeSet&lt;Integer&gt; t = new TreeSet&lt;Integer&gt;();\nt.add(1);\nt.add(2);\nt.add(3);\nt.add(4);\nt.add(5);\n\nSystem.out.println(\"Before SubSet:\");\n\nfor(Integer s : t){\n    System.out.println(s);\n}\n\nSystem.out.println(\"\\nAfter SubSet:\");\n\n\nfor(Integer s : t.subSet(2,false,5,true)){\n    System.out.println(s);\n}\n</code></pre>\n\n<p><strong>OUTPUT:</strong></p>\n\n<pre><code>Before SubSet:\n1\n2\n3\n4\n5\n\nAfter SubSet:\n3\n4\n5\n</code></pre>\n\n<p>Alternatively, If you do not know the elements and want to return the elements between two points you can use an ArrayList constructed with the Set and use the <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/AbstractList.html#subList%28int,%20int%29\" rel=\"nofollow\">subList</a> method.</p>\n\n<pre><code>System.out.println(\"\\nAfter SubSet:\");\n\nt = new TreeSet(new ArrayList(t).subList(2, 5));\n\nfor(Integer s : t){\n    System.out.println(s);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1427775,"reputation":11535,"user_id":1350869,"display_name":"Frank Pavageau"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1348048687,"creation_date":1348044065,"answer_id":12491184,"question_id":12490955,"body_markdown":"Without creating a copy of the `Set` beforehand, you can do (using Guava) :\r\n\r\n    Lists.newLinkedList(Iterables.getFirst(Iterables.partition(mySet, count), ImmutableList.of()))\r\n\r\nIt&#39;s a real `LinkedList` containing only (up to) the first `count` elements, not a view on a larger list.","title":"One liner for getting a sublist from a Set","body":"<p>Without creating a copy of the <code>Set</code> beforehand, you can do (using Guava) :</p>\n\n<pre><code>Lists.newLinkedList(Iterables.getFirst(Iterables.partition(mySet, count), ImmutableList.of()))\n</code></pre>\n\n<p>It's a real <code>LinkedList</code> containing only (up to) the first <code>count</code> elements, not a view on a larger list.</p>\n"},{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":1,"up_vote_count":19,"is_accepted":true,"score":18,"last_activity_date":1348092554,"creation_date":1348092554,"answer_id":12503613,"question_id":12490955,"body_markdown":"With Guava:\r\n\r\n    return FluentIterable.from(set) \r\n      .limit(count)\r\n      .toImmutableList();\r\n\r\n(Also, this won&#39;t actually iterate over the whole set, in contrast to most of these other solutions -- it&#39;ll _actually_ only iterate through the first `count` elements and then stop.)","title":"One liner for getting a sublist from a Set","body":"<p>With Guava:</p>\n\n<pre><code>return FluentIterable.from(set) \n  .limit(count)\n  .toImmutableList();\n</code></pre>\n\n<p>(Also, this won't actually iterate over the whole set, in contrast to most of these other solutions -- it'll <em>actually</em> only iterate through the first <code>count</code> elements and then stop.)</p>\n"},{"tags":[],"owner":{"account_id":362620,"reputation":216,"user_id":705908,"display_name":"Adil Kara&#246;z"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686573301,"creation_date":1686573301,"answer_id":76456724,"question_id":12490955,"body_markdown":"with java 8\r\n\r\n    set.stream().limit(limit).collect(Collectors.toList());","title":"One liner for getting a sublist from a Set","body":"<p>with java 8</p>\n<pre><code>set.stream().limit(limit).collect(Collectors.toList());\n</code></pre>\n"}],"owner":{"account_id":63162,"reputation":102381,"user_id":187141,"accept_rate":82,"display_name":"yegor256"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14102,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":12503613,"answer_count":7,"score":5,"last_activity_date":1686573301,"creation_date":1348043128,"question_id":12490955,"body_markdown":"Is there a one-liner (maybe from Guava or Apache Collections) that gets a sublist from a set. Internally it should do something like this:\r\n\r\n    public &lt;T&gt; List&lt;T&gt; sublist(Set&lt;T&gt; set, int count) {\r\n      Iterator&lt;T&gt; iterator = set.iterator();\r\n      List&lt;T&gt; sublist = new LinkedList&lt;T&gt;();\r\n      int pos = 0;\r\n      while (iterator.hasNext() &amp;&amp; pos++ &lt; count) {\r\n        sublist.add(iterator.next());\r\n      }\r\n      return sublist;\r\n    }\r\n\r\nObviously, if there are not enough elements it has to return as many as possible.","title":"One liner for getting a sublist from a Set","body":"<p>Is there a one-liner (maybe from Guava or Apache Collections) that gets a sublist from a set. Internally it should do something like this:</p>\n\n<pre><code>public &lt;T&gt; List&lt;T&gt; sublist(Set&lt;T&gt; set, int count) {\n  Iterator&lt;T&gt; iterator = set.iterator();\n  List&lt;T&gt; sublist = new LinkedList&lt;T&gt;();\n  int pos = 0;\n  while (iterator.hasNext() &amp;&amp; pos++ &lt; count) {\n    sublist.add(iterator.next());\n  }\n  return sublist;\n}\n</code></pre>\n\n<p>Obviously, if there are not enough elements it has to return as many as possible.</p>\n"},{"tags":["java","android","android-studio","mpchart"],"owner":{"account_id":13479434,"reputation":51,"user_id":9725223,"display_name":"Talha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686573197,"creation_date":1686573197,"question_id":76456711,"body_markdown":"I&#39;ve implemented a line chart from mp chart android but the thing is there are two buttons full view and a yearly view, in full view, I&#39;m setting zoom to x 0,y 0. but in yearly view, I am zooming in the graph. this is working fine \r\nbut the problem is when I scroll the graph and press the button full view while the graph is scrolling zooming out does not work. but when the graph scrolls idle both yearly and full-view functionalities are working fine.\r\n\r\n```\r\nprivate void changeSelectionOfView(int i) {\r\n        switch (i) {\r\n            case 1:\r\n                txvFullView.setTextColor(ContextCompat.getColor(requireContext(), R.color.Pennyworthgray1));\r\n                txvYearly.setTextColor(ContextCompat.getColor(requireContext(), R.color.white));\r\n                lineChart.zoom(10f, 1, hightligh.getX(), hightligh.getY(), YAxis.AxisDependency.LEFT);\r\n                llYearly.setBackground(ContextCompat.getDrawable(requireContext(), R.drawable.primary_btnn_shape_app_generic_selected));\r\n                llFullView.setBackgroundColor(ContextCompat.getColor(requireContext(), R.color.white));\r\n                if (popupWindow != null &amp;&amp; popupWindow.isShowing()) {\r\n                    popupWindow.dismiss();\r\n                }\r\n                break;\r\n            case 2:\r\n                txvFullView.setTextColor(ContextCompat.getColor(requireContext(), R.color.white));\r\n                txvYearly.setTextColor(ContextCompat.getColor(requireContext(), R.color.Pennyworthgray1));\r\n                llFullView.setBackground(ContextCompat.getDrawable(requireContext(), R.drawable.primary_btnn_shape_app_generic_selected));\r\n                llYearly.setBackgroundColor(ContextCompat.getColor(requireContext(), R.color.white));\r\n                lineChart.fitScreen();\r\n//              lineChart.zoomToCenter(0, 0);\r\n                if (popupWindow != null &amp;&amp; popupWindow.isShowing()) {\r\n                    popupWindow.dismiss();\r\n                }\r\n                break;\r\n        }\r\n        lineChart.invalidate();\r\n}\r\n```\r\n\r\nthis is the code i&#39;m using case 1 is for yearly view and case 2 is for full view. i&#39;ve tried fit screen but it does not work either.","title":"Scroll and zooming does not work simultaneously in MpChart android","body":"<p>I've implemented a line chart from mp chart android but the thing is there are two buttons full view and a yearly view, in full view, I'm setting zoom to x 0,y 0. but in yearly view, I am zooming in the graph. this is working fine\nbut the problem is when I scroll the graph and press the button full view while the graph is scrolling zooming out does not work. but when the graph scrolls idle both yearly and full-view functionalities are working fine.</p>\n<pre><code>private void changeSelectionOfView(int i) {\n        switch (i) {\n            case 1:\n                txvFullView.setTextColor(ContextCompat.getColor(requireContext(), R.color.Pennyworthgray1));\n                txvYearly.setTextColor(ContextCompat.getColor(requireContext(), R.color.white));\n                lineChart.zoom(10f, 1, hightligh.getX(), hightligh.getY(), YAxis.AxisDependency.LEFT);\n                llYearly.setBackground(ContextCompat.getDrawable(requireContext(), R.drawable.primary_btnn_shape_app_generic_selected));\n                llFullView.setBackgroundColor(ContextCompat.getColor(requireContext(), R.color.white));\n                if (popupWindow != null &amp;&amp; popupWindow.isShowing()) {\n                    popupWindow.dismiss();\n                }\n                break;\n            case 2:\n                txvFullView.setTextColor(ContextCompat.getColor(requireContext(), R.color.white));\n                txvYearly.setTextColor(ContextCompat.getColor(requireContext(), R.color.Pennyworthgray1));\n                llFullView.setBackground(ContextCompat.getDrawable(requireContext(), R.drawable.primary_btnn_shape_app_generic_selected));\n                llYearly.setBackgroundColor(ContextCompat.getColor(requireContext(), R.color.white));\n                lineChart.fitScreen();\n//              lineChart.zoomToCenter(0, 0);\n                if (popupWindow != null &amp;&amp; popupWindow.isShowing()) {\n                    popupWindow.dismiss();\n                }\n                break;\n        }\n        lineChart.invalidate();\n}\n</code></pre>\n<p>this is the code i'm using case 1 is for yearly view and case 2 is for full view. i've tried fit screen but it does not work either.</p>\n"},{"tags":["java","owasp"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1685477214,"post_id":76367726,"comment_id":134664914,"body_markdown":"OWASP is an organization. What library are you using exactly?","body":"OWASP is an organization. What library are you using exactly?"},{"owner":{"account_id":17546,"reputation":15607,"user_id":39371,"accept_rate":80,"display_name":"Stephane Grenier"},"score":0,"creation_date":1685903841,"post_id":76367726,"comment_id":134722677,"body_markdown":"https://owasp.org/www-project-java-html-sanitizer/","body":"<a href=\"https://owasp.org/www-project-java-html-sanitizer/\" rel=\"nofollow noreferrer\">owasp.org/www-project-java-html-sanitizer</a>"},{"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"score":1,"creation_date":1686087869,"post_id":76367726,"comment_id":134750742,"body_markdown":"Please, could you provide a failing test case? `HtmlPolicyBuilder builder = new HtmlPolicyBuilder()\n        .allowStyling()\n        .allowElements(&quot;div&quot;, &quot;span)\n        .toFactory();` doesn&#39;t work? Please, consider review the [tests cases](https://github.com/OWASP/java-html-sanitizer/blob/main/src/test/java/org/owasp/html/HtmlPolicyBuilderTest.java) and [this example policy](https://github.com/OWASP/java-html-sanitizer/blob/35c506cfd452dba634202f13a7cc2e2a63ad7ee0/src/main/java/org/owasp/html/examples/EbayPolicyExample.java#L124) provided for the library, I think they will be of help.","body":"Please, could you provide a failing test case? <code>HtmlPolicyBuilder builder = new HtmlPolicyBuilder()         .allowStyling()         .allowElements(&quot;div&quot;, &quot;span)         .toFactory();</code> doesn&#39;t work? Please, consider review the <a href=\"https://github.com/OWASP/java-html-sanitizer/blob/main/src/test/java/org/owasp/html/HtmlPolicyBuilderTest.java\" rel=\"nofollow noreferrer\">tests cases</a> and <a href=\"https://github.com/OWASP/java-html-sanitizer/blob/35c506cfd452dba634202f13a7cc2e2a63ad7ee0/src/main/java/org/owasp/html/examples/EbayPolicyExample.java#L124\" rel=\"nofollow noreferrer\">this example policy</a> provided for the library, I think they will be of help."}],"answers":[{"tags":[],"owner":{"account_id":8034641,"reputation":123,"user_id":6058222,"display_name":"tscz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686499415,"creation_date":1686499415,"answer_id":76451326,"question_id":76367726,"body_markdown":"If you want to allow styling overall you have to specify the allowed elements like `&lt;span&gt;`,`&lt;div&gt;` or `&lt;p&gt;` explicitly because the OWASP Sanitizer is white-list filter and not a blacklist filter based. Only then you can use `.allowStyling()` properly.\r\n\r\nThere are some convenience helpers like `.allowCommonInlineFormattingElements()` in the factory builder such that you do not have to list the element names. You should be able to allow styling for all elements with:       \r\n\r\n    var POLICY_DEFINITION = new HtmlPolicyBuilder()\r\n                    .allowCommonBlockElements()\r\n                    .allowCommonInlineFormattingElements()\r\n                    .allowStyling()\r\n                    .toFactory();","title":"How can I allow &lt;span&gt; and &lt;div&gt; with styling using OWASP?","body":"<p>If you want to allow styling overall you have to specify the allowed elements like <code>&lt;span&gt;</code>,<code>&lt;div&gt;</code> or <code>&lt;p&gt;</code> explicitly because the OWASP Sanitizer is white-list filter and not a blacklist filter based. Only then you can use <code>.allowStyling()</code> properly.</p>\n<p>There are some convenience helpers like <code>.allowCommonInlineFormattingElements()</code> in the factory builder such that you do not have to list the element names. You should be able to allow styling for all elements with:</p>\n<pre><code>var POLICY_DEFINITION = new HtmlPolicyBuilder()\n                .allowCommonBlockElements()\n                .allowCommonInlineFormattingElements()\n                .allowStyling()\n                .toFactory();\n</code></pre>\n"}],"owner":{"account_id":17546,"reputation":15607,"user_id":39371,"accept_rate":80,"display_name":"Stephane Grenier"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":253,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1686573035,"creation_date":1685472028,"question_id":76367726,"body_markdown":"In the following code:\r\n\r\n    private static final PolicyFactory POLICY_DEFINITION = new HtmlPolicyBuilder()\r\n        .allowElements(&quot;span&quot;)\r\n        .allowWithoutAttributes(&quot;span&quot;)\r\n        .allowAttributes(&quot;style&quot;).onElements(&quot;span&quot;)\r\n    //    .allowStyling()\r\n         .toFactory()\r\n\r\nThe second I add `allowStyling()` then any span element immediately fails. In other words I want to allow styling overall but the only way I could get it to work with `&lt;span&gt;` or `&lt;div&gt;` was to add them manually like the above. However when I want to add styling to other elements such as `&lt;p&gt;` then it all has to be done manually and cannot just be called through `allowStyling()`. \r\n\r\nI did find this report but it&#39;s some years old and the solution doesn&#39;t work (what inspired the above code). Even if you put `allowStyling()` before or after the above code block.\r\n\r\nThe library I&#39;m using is: https://owasp.org/www-project-java-html-sanitizer/\r\n\r\n\r\n\r\n\r\n","title":"How can I allow &lt;span&gt; and &lt;div&gt; with styling using OWASP?","body":"<p>In the following code:</p>\n<pre><code>private static final PolicyFactory POLICY_DEFINITION = new HtmlPolicyBuilder()\n    .allowElements(&quot;span&quot;)\n    .allowWithoutAttributes(&quot;span&quot;)\n    .allowAttributes(&quot;style&quot;).onElements(&quot;span&quot;)\n//    .allowStyling()\n     .toFactory()\n</code></pre>\n<p>The second I add <code>allowStyling()</code> then any span element immediately fails. In other words I want to allow styling overall but the only way I could get it to work with <code>&lt;span&gt;</code> or <code>&lt;div&gt;</code> was to add them manually like the above. However when I want to add styling to other elements such as <code>&lt;p&gt;</code> then it all has to be done manually and cannot just be called through <code>allowStyling()</code>.</p>\n<p>I did find this report but it's some years old and the solution doesn't work (what inspired the above code). Even if you put <code>allowStyling()</code> before or after the above code block.</p>\n<p>The library I'm using is: <a href=\"https://owasp.org/www-project-java-html-sanitizer/\" rel=\"nofollow noreferrer\">https://owasp.org/www-project-java-html-sanitizer/</a></p>\n"},{"tags":["java","spring-boot","api","spring-mvc","spring-restcontroller"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1686570828,"post_id":76456289,"comment_id":134812016,"body_markdown":"And what should it render? Just suggesting it to render a page doesn&#39;t automagically make a page appear. You will need a `login.html` (if you are using Thymeleaf) or whatever the equivalent is for your view technology in use.","body":"And what should it render? Just suggesting it to render a page doesn&#39;t automagically make a page appear. You will need a <code>login.html</code> (if you are using Thymeleaf) or whatever the equivalent is for your view technology in use."},{"owner":{"account_id":24881693,"reputation":155,"user_id":18754816,"display_name":"Игорь Ходыко"},"score":0,"creation_date":1686572327,"post_id":76456289,"comment_id":134812343,"body_markdown":"Share servlet configuration please.","body":"Share servlet configuration please."},{"owner":{"account_id":24881693,"reputation":155,"user_id":18754816,"display_name":"Игорь Ходыко"},"score":0,"creation_date":1686572431,"post_id":76456289,"comment_id":134812368,"body_markdown":"And if you can, give link to the git. It will show all info.","body":"And if you can, give link to the git. It will show all info."}],"answers":[{"tags":[],"owner":{"account_id":8368854,"reputation":11,"user_id":6284588,"display_name":"Ashutosh Dwivedi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686572070,"creation_date":1686572070,"answer_id":76456585,"question_id":76456289,"body_markdown":"I see slash is missing , There is two ways we can define slash in the Request Mapping URL . \r\n\r\n1) Either end class level URL with slash , so in your case @RequestMapping(&quot;/api/auth/&quot;)\r\n\r\nand in the getMapping or PostMapping start without slash so that when the code compile and run , the correct URL path can be generated . \r\n\r\n2) Leave the class level URL as it is without end with slash , so in your case @RequestMapping(&quot;/api/auth&quot;)\r\n\r\nand in the getMapping or PostMapping start with slash so that when the code compile and run , the correct URL path can be generated. \r\n\r\n\r\n\r\nIn the current code there is a issue which can be corrected by accepting either point 1 or point 2 . \r\n\r\nThanks , \r\nAshutosh ","title":"Java Springboot Multiple rest controllers dont work, why?","body":"<p>I see slash is missing , There is two ways we can define slash in the Request Mapping URL .</p>\n<ol>\n<li>Either end class level URL with slash , so in your case @RequestMapping(&quot;/api/auth/&quot;)</li>\n</ol>\n<p>and in the getMapping or PostMapping start without slash so that when the code compile and run , the correct URL path can be generated .</p>\n<ol start=\"2\">\n<li>Leave the class level URL as it is without end with slash , so in your case @RequestMapping(&quot;/api/auth&quot;)</li>\n</ol>\n<p>and in the getMapping or PostMapping start with slash so that when the code compile and run , the correct URL path can be generated.</p>\n<p>In the current code there is a issue which can be corrected by accepting either point 1 or point 2 .</p>\n<p>Thanks ,\nAshutosh</p>\n"}],"owner":{"account_id":26901976,"reputation":1,"user_id":20478976,"display_name":"el merrre"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686572070,"creation_date":1686569897,"question_id":76456289,"body_markdown":"Im trying to write 2 rest controllers in separate files.\r\n\r\nhere is one controller:\r\n\r\n\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/api/auth&quot;)\r\npublic class AuthController {\r\n@PostMapping(&quot;login&quot;)\r\n    public ResponseEntity&lt;JwtAuthResponeDto&gt; login(@RequestBody LoginDto loginDto){\r\n        Authentication authentication = authenticationManager.authenticate(\r\n                new UsernamePasswordAuthenticationToken(\r\n                loginDto.getUsername(),\r\n                loginDto.getPassword()));\r\n        SecurityContextHolder.getContext().setAuthentication(authentication);\r\n        String token = jwtTokenProvider.generateToken(authentication);\r\n        return new ResponseEntity&lt;&gt;(new JwtAuthResponeDto(token), HttpStatus.OK);\r\n    }\r\n\r\n    @PostMapping(&quot;register&quot;)\r\n    public ResponseEntity&lt;String&gt; register(@RequestBody RegisterDto registerDto) {\r\n        if (userRepository.existsByUsername(registerDto.getUsername())) {\r\n            return new ResponseEntity&lt;&gt;(&quot;Username is taken!&quot;, HttpStatus.BAD_REQUEST);\r\n        }\r\n\r\n        UserEntity user = new UserEntity();\r\n        user.setUsername(registerDto.getUsername());\r\n        user.setPassword(passwordEncoder.encode((registerDto.getPassword())));\r\n\r\n        RoleEntity role = roleRepository.findByName(&quot;role_user&quot;).get();\r\n        user.setRoles(Collections.singletonList(role));\r\n\r\n        userRepository.save(user);\r\n\r\n        return new ResponseEntity&lt;&gt;(&quot;User registered success!&quot;, HttpStatus.OK);\r\n    }}\r\n```\r\n\r\n\r\nhere is second:\r\n\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/views&quot;)\r\npublic class ViewController {\r\n \r\n    @GetMapping(&quot;login&quot;)\r\n    public ModelAndView login(){\r\n        return new ModelAndView(&quot;login&quot;);\r\n    }\r\n}\r\n```\r\n\r\n\r\nThe View Controller dont show the view, Why?  But when i put this GetMapping to first controller then it works fine, Why?\r\n\r\nApp is running and when i put /views/login  webbrowser dont hsow anything and i get on terminal:\r\n2023-06-12 13:20:59.994  INFO 10516 --- [nio-8081-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet &#39;dispatcherServlet&#39;\r\n2023-06-12 13:20:59.995  INFO 10516 --- [nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet &#39;dispatcherServlet&#39;\r\n2023-06-12 13:21:00.003  INFO 10516 --- [nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms","title":"Java Springboot Multiple rest controllers dont work, why?","body":"<p>Im trying to write 2 rest controllers in separate files.</p>\n<p>here is one controller:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/api/auth&quot;)\npublic class AuthController {\n@PostMapping(&quot;login&quot;)\n    public ResponseEntity&lt;JwtAuthResponeDto&gt; login(@RequestBody LoginDto loginDto){\n        Authentication authentication = authenticationManager.authenticate(\n                new UsernamePasswordAuthenticationToken(\n                loginDto.getUsername(),\n                loginDto.getPassword()));\n        SecurityContextHolder.getContext().setAuthentication(authentication);\n        String token = jwtTokenProvider.generateToken(authentication);\n        return new ResponseEntity&lt;&gt;(new JwtAuthResponeDto(token), HttpStatus.OK);\n    }\n\n    @PostMapping(&quot;register&quot;)\n    public ResponseEntity&lt;String&gt; register(@RequestBody RegisterDto registerDto) {\n        if (userRepository.existsByUsername(registerDto.getUsername())) {\n            return new ResponseEntity&lt;&gt;(&quot;Username is taken!&quot;, HttpStatus.BAD_REQUEST);\n        }\n\n        UserEntity user = new UserEntity();\n        user.setUsername(registerDto.getUsername());\n        user.setPassword(passwordEncoder.encode((registerDto.getPassword())));\n\n        RoleEntity role = roleRepository.findByName(&quot;role_user&quot;).get();\n        user.setRoles(Collections.singletonList(role));\n\n        userRepository.save(user);\n\n        return new ResponseEntity&lt;&gt;(&quot;User registered success!&quot;, HttpStatus.OK);\n    }}\n</code></pre>\n<p>here is second:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/views&quot;)\npublic class ViewController {\n \n    @GetMapping(&quot;login&quot;)\n    public ModelAndView login(){\n        return new ModelAndView(&quot;login&quot;);\n    }\n}\n</code></pre>\n<p>The View Controller dont show the view, Why?  But when i put this GetMapping to first controller then it works fine, Why?</p>\n<p>App is running and when i put /views/login  webbrowser dont hsow anything and i get on terminal:\n2023-06-12 13:20:59.994  INFO 10516 --- [nio-8081-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'\n2023-06-12 13:20:59.995  INFO 10516 --- [nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'\n2023-06-12 13:21:00.003  INFO 10516 --- [nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms</p>\n"},{"tags":["java","selenium","junit"],"comments":[{"owner":{"account_id":8405309,"reputation":31,"user_id":6308958,"display_name":"Tushar Likhar"},"score":0,"creation_date":1591336745,"post_id":62209034,"comment_id":110022158,"body_markdown":"Also if i have to group them in TestNG then i will face challenges as i need to update each @Test annotation","body":"Also if i have to group them in TestNG then i will face challenges as i need to update each @Test annotation"},{"owner":{"account_id":6597861,"reputation":7627,"user_id":5097027,"accept_rate":71,"display_name":"NarendraR"},"score":0,"creation_date":1591340821,"post_id":62209034,"comment_id":110023716,"body_markdown":"_Suppose I have to write @Test for 1000 methods again then it will be very tedious_ can you elaborate in detail how this will become tedious for you ?","body":"<i>Suppose I have to write @Test for 1000 methods again then it will be very tedious</i> can you elaborate in detail how this will become tedious for you ?"},{"owner":{"account_id":6597861,"reputation":7627,"user_id":5097027,"accept_rate":71,"display_name":"NarendraR"},"score":0,"creation_date":1591340963,"post_id":62209034,"comment_id":110023775,"body_markdown":"_i need to update each `@Test` annotation_ this is one time activity that you need to add suitable group name in your all test method. Ideally this should happen at the time you create test method and implement your code.","body":"<i>i need to update each <code>@Test</code> annotation</i> this is one time activity that you need to add suitable group name in your all test method. Ideally this should happen at the time you create test method and implement your code."}],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1686571832,"creation_date":1591344730,"answer_id":62210891,"question_id":62209034,"body_markdown":"JUnit&#39;s Annotation Type Test\r\n----------------------------\r\nThe `@Test` annotation tells [JUnit](https://junit.org/junit5/) that the `public void` method to which it is attached can be run as a _test case_. To run the method, [_JUnit_](http://junit.sourceforge.net/javadoc/org/junit/Test.html) first constructs a fresh instance of the class then invokes the annotated method. Any exceptions thrown by the test will be reported by _JUnit_ as a failure. If no exceptions are thrown, the test is assumed to have succeeded.\r\n\r\nExample of a basic JUnit test:\r\n\r\n\tpublic class Example {\r\n\t   @Test \r\n\t   public void method() {\r\n\t       org.junit.Assert.assertTrue( new ArrayList().isEmpty() );\r\n\t   }\r\n\t}\r\n\r\n\r\n----------\r\n\r\n\r\nConclusion\r\n----------\r\nSo if you have to write 1000 tests for 1000 methods, ideally you have to annotate each method with `@Test` annotation.\r\n\r\n\r\n----------\r\n\r\n\r\nReferences\r\n----------\r\nYou can find a couple of relevant detailed discussions in:\r\n\r\n- [Selenium test cannot be run from Eclipse IDE as console remains empty using JUnit5](https://stackoverflow.com/a/76443138/7429447)","title":"I have 100 methods to test using Java selenium Junit. How do i write the methods without using @test annotation","body":"<h2>JUnit's Annotation Type Test</h2>\n<p>The <code>@Test</code> annotation tells <a href=\"https://junit.org/junit5/\" rel=\"nofollow noreferrer\">JUnit</a> that the <code>public void</code> method to which it is attached can be run as a <em>test case</em>. To run the method, <a href=\"http://junit.sourceforge.net/javadoc/org/junit/Test.html\" rel=\"nofollow noreferrer\"><em>JUnit</em></a> first constructs a fresh instance of the class then invokes the annotated method. Any exceptions thrown by the test will be reported by <em>JUnit</em> as a failure. If no exceptions are thrown, the test is assumed to have succeeded.</p>\n<p>Example of a basic JUnit test:</p>\n<pre><code>public class Example {\n   @Test \n   public void method() {\n       org.junit.Assert.assertTrue( new ArrayList().isEmpty() );\n   }\n}\n</code></pre>\n<hr />\n<h2>Conclusion</h2>\n<p>So if you have to write 1000 tests for 1000 methods, ideally you have to annotate each method with <code>@Test</code> annotation.</p>\n<hr />\n<h2>References</h2>\n<p>You can find a couple of relevant detailed discussions in:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/a/76443138/7429447\">Selenium test cannot be run from Eclipse IDE as console remains empty using JUnit5</a></li>\n</ul>\n"}],"owner":{"account_id":8405309,"reputation":31,"user_id":6308958,"display_name":"Tushar Likhar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":62210891,"answer_count":1,"score":1,"last_activity_date":1686571832,"creation_date":1591336662,"question_id":62209034,"body_markdown":"It&#39;s not feasible for me to write `@Test` annotation for each and every method in Selenium. Suppose I have to write `@Test` for 1000 methods again then it will be very tedious. \r\nHow can I avoid this? ","title":"I have 100 methods to test using Java selenium Junit. How do i write the methods without using @test annotation","body":"<p>It's not feasible for me to write <code>@Test</code> annotation for each and every method in Selenium. Suppose I have to write <code>@Test</code> for 1000 methods again then it will be very tedious. \nHow can I avoid this? </p>\n"},{"tags":["java","gradle","groovy","dsl"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1686567548,"post_id":76455700,"comment_id":134811367,"body_markdown":"I’m not sure what you’re asking. There a few “well-known” repos. Any repo that supports Maven can be used, including your own.","body":"I’m not sure what you’re asking. There a few “well-known” repos. Any repo that supports Maven can be used, including your own."},{"owner":{"account_id":20392426,"reputation":7,"user_id":20232843,"display_name":"Rostik"},"score":0,"creation_date":1686578062,"post_id":76455700,"comment_id":134813749,"body_markdown":"&quot;Repo, that supports Maven&quot; - already this definition needs explanation :)","body":"&quot;Repo, that supports Maven&quot; - already this definition needs explanation :)"}],"answers":[{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1686571751,"creation_date":1686571751,"answer_id":76456540,"question_id":76455700,"body_markdown":"For Gradle to fetch dependencies for you it must know how to translate a dependency notation like `com.google.guava:guava:31.0.1-jre` into the actual URLs where it can find the required artefact (and additional information about that artefact).\r\n\r\nIn principle every repository vendor (Maven, Nexus, Artifactory, ...) could have invented their own scheme for doing this and Gradle would have a hard time to support all of them.\r\n\r\nFortunately the repository vendors have converged (at least in the Java landscape) on mostly two formats:\r\n\r\n* Maven: https://maven.apache.org/repository/layout.html\r\n* Ivy: https://docs.gradle.org/current/userguide/declaring_repositories.html#sec:ivy_repositories\r\n\r\nAnd these two repository formats are what Gradle supports ([Supported repository types](https://docs.gradle.org/current/userguide/declaring_repositories.html#sec:repository-types)):\r\n\r\n&gt; Gradle supports a wide range of sources for dependencies, both in terms of format and in terms of connectivity. You may resolve dependencies from:\r\n&gt;\r\n&gt; * Different formats\r\n&gt;\r\n&gt;   * a Maven compatible artifact repository (e.g: Maven Central)\r\n&gt;   * an Ivy compatible artifact repository (including custom layouts)\r\n&gt;   * local (flat) directories\r\n\r\nWhen you specify a repository in the form\r\n\r\n    repositories {\r\n        maven {\r\n            //any repos\r\n        }\r\n    }\r\n\r\nYou are actually telling Gradle that the &quot;any repos&quot; repository uses the Maven compatible format.","title":"Why an arbitrary repository, such as nexus/artifactory, defines in maven block in Gradle?","body":"<p>For Gradle to fetch dependencies for you it must know how to translate a dependency notation like <code>com.google.guava:guava:31.0.1-jre</code> into the actual URLs where it can find the required artefact (and additional information about that artefact).</p>\n<p>In principle every repository vendor (Maven, Nexus, Artifactory, ...) could have invented their own scheme for doing this and Gradle would have a hard time to support all of them.</p>\n<p>Fortunately the repository vendors have converged (at least in the Java landscape) on mostly two formats:</p>\n<ul>\n<li>Maven: <a href=\"https://maven.apache.org/repository/layout.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/repository/layout.html</a></li>\n<li>Ivy: <a href=\"https://docs.gradle.org/current/userguide/declaring_repositories.html#sec:ivy_repositories\" rel=\"nofollow noreferrer\">https://docs.gradle.org/current/userguide/declaring_repositories.html#sec:ivy_repositories</a></li>\n</ul>\n<p>And these two repository formats are what Gradle supports (<a href=\"https://docs.gradle.org/current/userguide/declaring_repositories.html#sec:repository-types\" rel=\"nofollow noreferrer\">Supported repository types</a>):</p>\n<blockquote>\n<p>Gradle supports a wide range of sources for dependencies, both in terms of format and in terms of connectivity. You may resolve dependencies from:</p>\n<ul>\n<li><p>Different formats</p>\n<ul>\n<li>a Maven compatible artifact repository (e.g: Maven Central)</li>\n<li>an Ivy compatible artifact repository (including custom layouts)</li>\n<li>local (flat) directories</li>\n</ul>\n</li>\n</ul>\n</blockquote>\n<p>When you specify a repository in the form</p>\n<pre><code>repositories {\n    maven {\n        //any repos\n    }\n}\n</code></pre>\n<p>You are actually telling Gradle that the &quot;any repos&quot; repository uses the Maven compatible format.</p>\n"}],"owner":{"account_id":20392426,"reputation":7,"user_id":20232843,"display_name":"Rostik"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76456540,"answer_count":1,"score":0,"last_activity_date":1686571751,"creation_date":1686565360,"question_id":76455700,"body_markdown":"\r\n```\r\nrepositories {\r\n    mavenCentral()\r\n    maven {\r\n        //any repos\r\n    }\r\n}\r\n```\r\n\r\nWhy an arbitrary repository, such as Nexus, Artifactory, e.t.c defines in maven {} block in **Gradle**.  \r\nIt&#39;s obviously another repositories.  \r\nOr we do similarly just because such DSL provided by build tool&#39;s authors?  \r\nCan assume, that &quot;maven-repository&quot; is just a specific binary repo structure followed by Nexus, Artifactory, e.t.c. ","title":"Why an arbitrary repository, such as nexus/artifactory, defines in maven block in Gradle?","body":"<pre><code>repositories {\n    mavenCentral()\n    maven {\n        //any repos\n    }\n}\n</code></pre>\n<p>Why an arbitrary repository, such as Nexus, Artifactory, e.t.c defines in maven {} block in <strong>Gradle</strong>.<br />\nIt's obviously another repositories.<br />\nOr we do similarly just because such DSL provided by build tool's authors?<br />\nCan assume, that &quot;maven-repository&quot; is just a specific binary repo structure followed by Nexus, Artifactory, e.t.c.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1638955675,"post_id":70272608,"comment_id":124222773,"body_markdown":"&quot;can you help me to resolve your code&quot; - who are you addressing here?","body":"&quot;can you help me to resolve your code&quot; - who are you addressing here?"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1638956409,"post_id":70272608,"comment_id":124223031,"body_markdown":"`Arrays.sort(box2);` I don&#39;t think you need to do this. Try removing that line.","body":"<code>Arrays.sort(box2);</code> I don&#39;t think you need to do this. Try removing that line."}],"answers":[{"tags":[],"owner":{"account_id":60737,"reputation":15904,"user_id":181336,"display_name":"Adriaan Koster"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686571748,"creation_date":1638963304,"answer_id":70274322,"question_id":70272608,"body_markdown":"I think it&#39;s always good to start off by formulating the requirement you want to solve. So you want to determine for two boxes with dimensions x, y, z which box will fit into the other, if any. I am assuming that boxes with equal dimensions will not fit into each other.\r\n\r\nBy sorting the dimensions in ascending order you will compare the two smallest dimensions first, then the second smallest and so on.\r\n\r\nA box for which all these sorted dimensions are smaller than those of the other, will fit into the other:\r\n\r\n    box A: 1, 4, 8\r\n    box B: 2, 5, 9\r\n    1&lt;2, 4&lt;5, 8&lt;9 -&gt; A &lt; B\r\n\r\nIf the sorted dimensions have contradictory rankings, the boxes are incompatible:\r\n\r\n    box A: 1, 3, 7\r\n    box B: 2, 8, 3\r\n    1&lt;2, 3&lt;8, !7&lt;3 -&gt; Incompatible\r\n\r\nSo I think your code could be much simpler:\r\n\r\n    if (x1 &lt; y1 &amp;&amp; x2 &lt; y2 &amp;&amp; x3 &lt; y3) {\r\n        System.out.println(&quot;Box 1 &lt; Box 2&quot;);\r\n    }\r\n    else if (x1 &gt; y1 &amp;&amp; x2 &gt; y2 &amp;&amp; x3 &gt; y3) {\r\n        System.out.println(&quot;Box 1 &gt; Box 2&quot;);\r\n    }\r\n    else {\r\n        System.out.println(&quot;Incompatible&quot;);\r\n    }\r\n","title":"Iterating over arrays Boxes","body":"<p>I think it's always good to start off by formulating the requirement you want to solve. So you want to determine for two boxes with dimensions x, y, z which box will fit into the other, if any. I am assuming that boxes with equal dimensions will not fit into each other.</p>\n<p>By sorting the dimensions in ascending order you will compare the two smallest dimensions first, then the second smallest and so on.</p>\n<p>A box for which all these sorted dimensions are smaller than those of the other, will fit into the other:</p>\n<pre><code>box A: 1, 4, 8\nbox B: 2, 5, 9\n1&lt;2, 4&lt;5, 8&lt;9 -&gt; A &lt; B\n</code></pre>\n<p>If the sorted dimensions have contradictory rankings, the boxes are incompatible:</p>\n<pre><code>box A: 1, 3, 7\nbox B: 2, 8, 3\n1&lt;2, 3&lt;8, !7&lt;3 -&gt; Incompatible\n</code></pre>\n<p>So I think your code could be much simpler:</p>\n<pre><code>if (x1 &lt; y1 &amp;&amp; x2 &lt; y2 &amp;&amp; x3 &lt; y3) {\n    System.out.println(&quot;Box 1 &lt; Box 2&quot;);\n}\nelse if (x1 &gt; y1 &amp;&amp; x2 &gt; y2 &amp;&amp; x3 &gt; y3) {\n    System.out.println(&quot;Box 1 &gt; Box 2&quot;);\n}\nelse {\n    System.out.println(&quot;Incompatible&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":23493659,"reputation":1,"user_id":17544368,"display_name":"Olivier Boudigue"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1686571748,"creation_date":1638955466,"question_id":70272608,"body_markdown":"```java\r\nimport java.util.*;\r\n\r\npublic class Main {\r\n\r\n    public static void main(String[] args) {\r\n        Scanner scanner = new Scanner(System.in);\r\n        // Box 1 dimensions\r\n        int x1 = scanner.nextInt();\r\n        int y1 = scanner.nextInt();\r\n        int z1 = scanner.nextInt();\r\n        int[] box1 = {x1, y1, z1};\r\n        Arrays.sort(box1);\r\n        x1 = box1[0];\r\n        y1 = box1[1];\r\n        z1 = box1[2];\r\n        // Box 2 dimensions\r\n        int x2 = scanner.nextInt();\r\n        int y2 = scanner.nextInt();\r\n        int z2 = scanner.nextInt();\r\n        int[] box2 = {x2, y2, z2};\r\n        Arrays.sort(box2);\r\n        x2 = box2[0];\r\n        y2 = box2[1];\r\n        z2 = box2[2];\r\n        if (x1 &lt; x2) {\r\n            if (y1 &lt;= y2) {\r\n                if (z1 &lt;= z2) {\r\n                    System.out.println(&quot;Box 1 &lt; Box 2&quot;);\r\n                }\r\n                else {\r\n                    System.out.println(&quot;Incompatible&quot;);\r\n                }\r\n            }\r\n            else {\r\n                System.out.println(&quot;Incompatible&quot;);\r\n            }\r\n        }\r\n        else if (x1 &gt; x2) {\r\n            if (y1 &gt;= y2) {\r\n                if (z1 &gt;= z2) {\r\n                    System.out.println(&quot;Box 1 &gt; Box 2&quot;);\r\n                }\r\n                else {\r\n                    System.out.println(&quot;Incompatible&quot;);\r\n                }\r\n            }\r\n            else {\r\n                System.out.println(&quot;Incompatible&quot;);\r\n            }\r\n        }\r\n        else if (x1 == x2) {\r\n            if (y1 &lt; y2) {\r\n                if (z1 &lt;= z2) {\r\n                    System.out.println(&quot;Box 1 &lt; Box 2&quot;);\r\n                }\r\n                else {\r\n                    System.out.println(&quot;Incompatible&quot;);\r\n                }\r\n            }\r\n            else if (y1 &gt; y2) {\r\n                if (z1 &gt;= z2) {\r\n                    System.out.println(&quot;Box 1 &gt; Box 2&quot;);\r\n                }\r\n                else {\r\n                    System.out.println(&quot;Incompatible&quot;);\r\n                }\r\n            }\r\n            else {\r\n                if (z1 &lt; z2) {\r\n                    System.out.println(&quot;Box 1 &lt; Box 2&quot;);\r\n                }\r\n                else if (z1 &gt; z2) {\r\n                    System.out.println(&quot;Box 1 &gt; Box 2&quot;);\r\n                }\r\n                else {\r\n                    System.out.println(&quot;Box 1 = Box 2&quot;);\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\nCan you help me to resolve your code? \r\nI think there are a little mistakes because :\r\n&gt;Failed test #3 of 7. Wrong answer\r\n\r\nThis is a sample test from the problem statement!\r\n\r\nTest input:\r\n```none\r\n1 3 7\r\n2 8 3\r\n```\r\nCorrect output:  \r\n`Incompatible`\r\n\r\nYour code output:  \r\n`Box 1 &lt; Box 2`","title":"Iterating over arrays Boxes","body":"<pre class=\"lang-java prettyprint-override\"><code>import java.util.*;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n        // Box 1 dimensions\n        int x1 = scanner.nextInt();\n        int y1 = scanner.nextInt();\n        int z1 = scanner.nextInt();\n        int[] box1 = {x1, y1, z1};\n        Arrays.sort(box1);\n        x1 = box1[0];\n        y1 = box1[1];\n        z1 = box1[2];\n        // Box 2 dimensions\n        int x2 = scanner.nextInt();\n        int y2 = scanner.nextInt();\n        int z2 = scanner.nextInt();\n        int[] box2 = {x2, y2, z2};\n        Arrays.sort(box2);\n        x2 = box2[0];\n        y2 = box2[1];\n        z2 = box2[2];\n        if (x1 &lt; x2) {\n            if (y1 &lt;= y2) {\n                if (z1 &lt;= z2) {\n                    System.out.println(&quot;Box 1 &lt; Box 2&quot;);\n                }\n                else {\n                    System.out.println(&quot;Incompatible&quot;);\n                }\n            }\n            else {\n                System.out.println(&quot;Incompatible&quot;);\n            }\n        }\n        else if (x1 &gt; x2) {\n            if (y1 &gt;= y2) {\n                if (z1 &gt;= z2) {\n                    System.out.println(&quot;Box 1 &gt; Box 2&quot;);\n                }\n                else {\n                    System.out.println(&quot;Incompatible&quot;);\n                }\n            }\n            else {\n                System.out.println(&quot;Incompatible&quot;);\n            }\n        }\n        else if (x1 == x2) {\n            if (y1 &lt; y2) {\n                if (z1 &lt;= z2) {\n                    System.out.println(&quot;Box 1 &lt; Box 2&quot;);\n                }\n                else {\n                    System.out.println(&quot;Incompatible&quot;);\n                }\n            }\n            else if (y1 &gt; y2) {\n                if (z1 &gt;= z2) {\n                    System.out.println(&quot;Box 1 &gt; Box 2&quot;);\n                }\n                else {\n                    System.out.println(&quot;Incompatible&quot;);\n                }\n            }\n            else {\n                if (z1 &lt; z2) {\n                    System.out.println(&quot;Box 1 &lt; Box 2&quot;);\n                }\n                else if (z1 &gt; z2) {\n                    System.out.println(&quot;Box 1 &gt; Box 2&quot;);\n                }\n                else {\n                    System.out.println(&quot;Box 1 = Box 2&quot;);\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>Can you help me to resolve your code?\nI think there are a little mistakes because :</p>\n<blockquote>\n<p>Failed test #3 of 7. Wrong answer</p>\n</blockquote>\n<p>This is a sample test from the problem statement!</p>\n<p>Test input:</p>\n<pre class=\"lang-none prettyprint-override\"><code>1 3 7\n2 8 3\n</code></pre>\n<p>Correct output:<br />\n<code>Incompatible</code></p>\n<p>Your code output:<br />\n<code>Box 1 &lt; Box 2</code></p>\n"},{"tags":["java","visual-studio-code"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1677081482,"post_id":75535203,"comment_id":133267926,"body_markdown":"Ctrl+Shift+O doesnt import new classes, just reformats the input statements. Alt+Enter usually suggests fixes.","body":"Ctrl+Shift+O doesnt import new classes, just reformats the input statements. Alt+Enter usually suggests fixes."},{"owner":{"account_id":5533651,"reputation":846,"user_id":4392781,"accept_rate":0,"display_name":"Tarmiac"},"score":0,"creation_date":1677081547,"post_id":75535203,"comment_id":133267955,"body_markdown":"In Eclipse Ctrl+Shift+O does indeed import new classes if you have a statement referring to an unknown type.","body":"In Eclipse Ctrl+Shift+O does indeed import new classes if you have a statement referring to an unknown type."},{"owner":{"account_id":14706862,"reputation":917,"user_id":10621296,"display_name":"Jetto Mart&#237;nez"},"score":0,"creation_date":1677083267,"post_id":75535203,"comment_id":133268523,"body_markdown":"`Alt + Shift + O` is what I use and it is the same behavior as `Ctrl + Shift + O` in STS 4.15, a flavor of Eclipse. You can look at it by using `Ctrl + K - S` (That is, hold Ctrl and then input K, then S. Doesn&#39;t need to be super quick) and filter by &#39;organize&#39;. The one you look for is `editor.action.organizeImports`. It is odd that is not working for you, assuming both of your editors are updated.","body":"<code>Alt + Shift + O</code> is what I use and it is the same behavior as <code>Ctrl + Shift + O</code> in STS 4.15, a flavor of Eclipse. You can look at it by using <code>Ctrl + K - S</code> (That is, hold Ctrl and then input K, then S. Doesn&#39;t need to be super quick) and filter by &#39;organize&#39;. The one you look for is <code>editor.action.organizeImports</code>. It is odd that is not working for you, assuming both of your editors are updated."},{"owner":{"account_id":5533651,"reputation":846,"user_id":4392781,"accept_rate":0,"display_name":"Tarmiac"},"score":0,"creation_date":1677084236,"post_id":75535203,"comment_id":133268881,"body_markdown":"@JettoMart&#237;nez I dont know. The ArrayList line is red, I press Alt+Shift+O over and over but it never imports it.","body":"@JettoMart&#237;nez I dont know. The ArrayList line is red, I press Alt+Shift+O over and over but it never imports it."},{"owner":{"account_id":14706862,"reputation":917,"user_id":10621296,"display_name":"Jetto Mart&#237;nez"},"score":0,"creation_date":1677084716,"post_id":75535203,"comment_id":133269040,"body_markdown":"Well, other than the version of VsCode, I can&#39;t really think of anything in particular. I tried with `ArrayList` in the three LTS versions (Just in case they changed something that could not be resolved to a Collection/List) and it worked fine. If anything, I had to wait a bit between JDK changes. I mention the version since some package managers have older versions of VsCode (Manjaro&#39;s pacman, for example), but I highly doubt they didn&#39;t include such a universal keybinding early.","body":"Well, other than the version of VsCode, I can&#39;t really think of anything in particular. I tried with <code>ArrayList</code> in the three LTS versions (Just in case they changed something that could not be resolved to a Collection/List) and it worked fine. If anything, I had to wait a bit between JDK changes. I mention the version since some package managers have older versions of VsCode (Manjaro&#39;s pacman, for example), but I highly doubt they didn&#39;t include such a universal keybinding early."},{"owner":{"account_id":5533651,"reputation":846,"user_id":4392781,"accept_rate":0,"display_name":"Tarmiac"},"score":0,"creation_date":1677085116,"post_id":75535203,"comment_id":133269168,"body_markdown":"@JettoMart&#237;nez To clarify, you can write like &quot;Dimension d = new Dimension();&quot; get the red line over &quot;Dimension&quot; press Alt+Shift+O and it imports java.awt.Dimension; automatically? Without any need for hovering over the actual line?","body":"@JettoMart&#237;nez To clarify, you can write like &quot;Dimension d = new Dimension();&quot; get the red line over &quot;Dimension&quot; press Alt+Shift+O and it imports java.awt.Dimension; automatically? Without any need for hovering over the actual line?"},{"owner":{"account_id":14706862,"reputation":917,"user_id":10621296,"display_name":"Jetto Mart&#237;nez"},"score":0,"creation_date":1677089937,"post_id":75535203,"comment_id":133270599,"body_markdown":"Yes. It can remove unused imports as well.","body":"Yes. It can remove unused imports as well."},{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1677812571,"post_id":75535203,"comment_id":133415701,"body_markdown":"Can you show your operation process? It would be nice to be able to make a GIF or video.","body":"Can you show your operation process? It would be nice to be able to make a GIF or video."}],"answers":[{"tags":[],"owner":{"account_id":24257326,"reputation":9,"user_id":18207483,"display_name":"X O"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1686571723,"creation_date":1677088416,"answer_id":75536443,"question_id":75535203,"body_markdown":"You can go to the line then press Ctrl+. then you can choose to add all the imports needed or just java.util.ArrayList. If you just want to add java.util.ArrayList you can press Ctrl+. and . again while you are pressing Ctrl.(If that&#39;s what you&#39;re asking.)","title":"Keyboard shortcut for missing imports in Java, VSCode?","body":"<p>You can go to the line then press Ctrl+. then you can choose to add all the imports needed or just java.util.ArrayList. If you just want to add java.util.ArrayList you can press Ctrl+. and . again while you are pressing Ctrl.(If that's what you're asking.)</p>\n"}],"owner":{"account_id":5533651,"reputation":846,"user_id":4392781,"accept_rate":0,"display_name":"Tarmiac"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":470,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1686571723,"creation_date":1677081387,"question_id":75535203,"body_markdown":"So, first off. The Shift + Alt + O does not solve my problem. \r\n\r\nIn Eclipse I can type like\r\n\r\n```\r\nArrayList&lt;Integer&gt; l = new ArrayList&lt;&gt;();\r\n```\r\nThen press Ctrl + Shift + O and the import statement is automatically added up top. \r\n\r\n\r\nI tried finding a similar command for VSCode and thought the Organize Imports would do it, but it doesn&#39;t, it just removes unused imports and removes extra lines. It&#39;s weird because the quick fix option lets you import if you hover over the redline.\r\n\r\nSo is there a way to sort of create a keyboard shortcut to import missing files?","title":"Keyboard shortcut for missing imports in Java, VSCode?","body":"<p>So, first off. The Shift + Alt + O does not solve my problem.</p>\n<p>In Eclipse I can type like</p>\n<pre><code>ArrayList&lt;Integer&gt; l = new ArrayList&lt;&gt;();\n</code></pre>\n<p>Then press Ctrl + Shift + O and the import statement is automatically added up top.</p>\n<p>I tried finding a similar command for VSCode and thought the Organize Imports would do it, but it doesn't, it just removes unused imports and removes extra lines. It's weird because the quick fix option lets you import if you hover over the redline.</p>\n<p>So is there a way to sort of create a keyboard shortcut to import missing files?</p>\n"},{"tags":["java","compression"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1686511806,"post_id":76452092,"comment_id":134805041,"body_markdown":"Have you tried them on your data and measured which does best?","body":"Have you tried them on your data and measured which does best?"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1686525241,"post_id":76452092,"comment_id":134806195,"body_markdown":"In terms of algorithms, I believe _[gzip](https://en.wikipedia.org/wiki/Gzip)_ is simply the _[GNU](https://en.wikipedia.org/wiki/GNU_Project)_ version of the _[Deflate](https://en.wikipedia.org/wiki/Deflate)_ algorithm.  I&#39;d recommend that, as it&#39;s widely used among the Linux community.","body":"In terms of algorithms, I believe <i><a href=\"https://en.wikipedia.org/wiki/Gzip\" rel=\"nofollow noreferrer\">gzip</a></i> is simply the <i><a href=\"https://en.wikipedia.org/wiki/GNU_Project\" rel=\"nofollow noreferrer\">GNU</a></i> version of the <i><a href=\"https://en.wikipedia.org/wiki/Deflate\" rel=\"nofollow noreferrer\">Deflate</a></i> algorithm.  I&#39;d recommend that, as it&#39;s widely used among the Linux community."},{"owner":{"account_id":19978684,"reputation":1,"user_id":14642363,"display_name":"user14642363"},"score":0,"creation_date":1686571706,"post_id":76452092,"comment_id":134812191,"body_markdown":"@LouisWasserman Edited the post with metrics.","body":"@LouisWasserman Edited the post with metrics."}],"answers":[{"tags":[],"owner":{"account_id":1136690,"reputation":104411,"user_id":1180620,"accept_rate":83,"display_name":"Mark Adler"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686525950,"creation_date":1686525950,"answer_id":76452889,"question_id":76452092,"body_markdown":"`DeflaterOutputStream` produces raw deflate compressed data. `Deflater` produces deflate data with a zlib wrapper, unless `nowrap` is specified, which case again a raw deflate stream is produced. (In both cases, the word &quot;deflator&quot; is sadly misspelled. The Java librarians also misspelled &quot;inflator&quot;.) `GZIPOutputStream` produces deflate data with a gzip wrapper.\r\n\r\nThey will all compress the same, with small wrappers added in two cases. The zlib wrapper is six bytes, and the gzip wrapper is 18 bytes. The wrappers provide an important check on data integrity.\r\n\r\nAs for what to choose, that&#39;s up to you.","title":"Java | Compression | Difference between using Deflater, DeflaterOutputStream and GZIPOutputStream","body":"<p><code>DeflaterOutputStream</code> produces raw deflate compressed data. <code>Deflater</code> produces deflate data with a zlib wrapper, unless <code>nowrap</code> is specified, which case again a raw deflate stream is produced. (In both cases, the word &quot;deflator&quot; is sadly misspelled. The Java librarians also misspelled &quot;inflator&quot;.) <code>GZIPOutputStream</code> produces deflate data with a gzip wrapper.</p>\n<p>They will all compress the same, with small wrappers added in two cases. The zlib wrapper is six bytes, and the gzip wrapper is 18 bytes. The wrappers provide an important check on data integrity.</p>\n<p>As for what to choose, that's up to you.</p>\n"}],"owner":{"account_id":19978684,"reputation":1,"user_id":14642363,"display_name":"user14642363"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686571618,"creation_date":1686510406,"question_id":76452092,"body_markdown":"**Use Case:** I am working with Java, Spring Boot Rest API project. I am storing each request&#39;s payload in the cosmos DB (sql). Since payload is big in size, I want to apply compression before persisting into DB.\r\n\r\n**Problem Statement:**  I explored over web, different ways of compression - using Deflater, DeflaterOutputStream and GZIPOutputStream. I tried implementing and figured out each ultimately comes to Deflater() class for compression (see below the code for constructor).\r\n\r\nDeflaterOutputStream constructor:\r\n\r\n```\r\npublic DeflaterOutputStream(OutputStream out, boolean syncFlush) {\r\n        this(out, new Deflater(), 512, syncFlush);\r\n        usesDefaultDeflater = true;\r\n    }\r\n```\r\n\r\n\r\nGZIPOutputStream constructor:\r\n\r\n```\r\npublic GZIPOutputStream(OutputStream out, int size, boolean syncFlush)\r\n        throws IOException\r\n    {\r\n        super(out, new Deflater(Deflater.DEFAULT_COMPRESSION, true),\r\n              size,\r\n              syncFlush);\r\n        usesDefaultDeflater = true;\r\n        writeHeader();\r\n        crc.reset();\r\n    }\r\n```\r\n\r\n**Question:**\r\n1. How these 3 are different when comes to about compressing the data?\r\n2. How to choose which to use for my use case.\r\n\r\n\r\nI could not find when to use each of the three class.\r\n\r\n**EDIT on 12 Jun 12:01pm GMT**\r\n\r\nI have tried all 3 with some sample data, and measured along 2 dimensions - time taken to compress, and size after compression, with following observations:\r\n\r\n- DeflaterOutputStream\r\n```\r\nTime(in ns): ~325037(avg of 50 iterations); 430140(100); 356630(1000)\r\nbefore compress size, byte.length: 15322\r\nafter compress size, byte.length: 3909\r\n```\r\n- GZIPOutputStream\r\n```\r\nTime(in ns): ~407427(avg of 50 iterations); 411844(100); 366735(1000)\r\nbefore compress size, byte.length: 15322\r\nafter compress size, byte.length: 3921\r\n```\r\n- Deflater\r\n```\r\nTime(in ns: ~395136(); 100(379532); 337576(1000)\r\nbefore compress size, byte.length: 15322\r\nafter compress size, byte.length: 3909\r\n```\r\n1. Time taken is almost similar in all 3 cases.\r\n2. DeflaterOutputStream &amp; Deflater compresses to same size, and GZIPOutputStream has 12 bytes extra - I have tried with different data, and this this 12 byte diff was consistent.","title":"Java | Compression | Difference between using Deflater, DeflaterOutputStream and GZIPOutputStream","body":"<p><strong>Use Case:</strong> I am working with Java, Spring Boot Rest API project. I am storing each request's payload in the cosmos DB (sql). Since payload is big in size, I want to apply compression before persisting into DB.</p>\n<p><strong>Problem Statement:</strong>  I explored over web, different ways of compression - using Deflater, DeflaterOutputStream and GZIPOutputStream. I tried implementing and figured out each ultimately comes to Deflater() class for compression (see below the code for constructor).</p>\n<p>DeflaterOutputStream constructor:</p>\n<pre><code>public DeflaterOutputStream(OutputStream out, boolean syncFlush) {\n        this(out, new Deflater(), 512, syncFlush);\n        usesDefaultDeflater = true;\n    }\n</code></pre>\n<p>GZIPOutputStream constructor:</p>\n<pre><code>public GZIPOutputStream(OutputStream out, int size, boolean syncFlush)\n        throws IOException\n    {\n        super(out, new Deflater(Deflater.DEFAULT_COMPRESSION, true),\n              size,\n              syncFlush);\n        usesDefaultDeflater = true;\n        writeHeader();\n        crc.reset();\n    }\n</code></pre>\n<p><strong>Question:</strong></p>\n<ol>\n<li>How these 3 are different when comes to about compressing the data?</li>\n<li>How to choose which to use for my use case.</li>\n</ol>\n<p>I could not find when to use each of the three class.</p>\n<p><strong>EDIT on 12 Jun 12:01pm GMT</strong></p>\n<p>I have tried all 3 with some sample data, and measured along 2 dimensions - time taken to compress, and size after compression, with following observations:</p>\n<ul>\n<li>DeflaterOutputStream</li>\n</ul>\n<pre><code>Time(in ns): ~325037(avg of 50 iterations); 430140(100); 356630(1000)\nbefore compress size, byte.length: 15322\nafter compress size, byte.length: 3909\n</code></pre>\n<ul>\n<li>GZIPOutputStream</li>\n</ul>\n<pre><code>Time(in ns): ~407427(avg of 50 iterations); 411844(100); 366735(1000)\nbefore compress size, byte.length: 15322\nafter compress size, byte.length: 3921\n</code></pre>\n<ul>\n<li>Deflater</li>\n</ul>\n<pre><code>Time(in ns: ~395136(); 100(379532); 337576(1000)\nbefore compress size, byte.length: 15322\nafter compress size, byte.length: 3909\n</code></pre>\n<ol>\n<li>Time taken is almost similar in all 3 cases.</li>\n<li>DeflaterOutputStream &amp; Deflater compresses to same size, and GZIPOutputStream has 12 bytes extra - I have tried with different data, and this this 12 byte diff was consistent.</li>\n</ol>\n"},{"tags":["java","apache-camel"],"owner":{"account_id":8883332,"reputation":111,"user_id":6632535,"display_name":"T.Rex"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686571534,"creation_date":1686561186,"question_id":76455146,"body_markdown":"Both codes are equivalent, but the first one works and returns the field specified in the projection (and _id), while the second one fails and returns all fields of the documents\r\n\r\n\r\n```java\r\nfrom(&quot;direct:resources&quot;)\r\n\t.setHeader(MongoDbConstants.FIELDS_PROJECTION, constant(&quot;{identity:1}&quot;))\r\n\t.setHeader(MongoDbConstants.CRITERIA, constant(&quot;{_id:{$in:[&#39;542e696a-30b4-4074-a6a1-69c1c000f711&#39;,&#39;5714a9ec-3349-41d1-819e-937068e1ef41&#39;]}}&quot;))\r\n\t.to(&quot;mongodb:mongo?database={{resources.db}}&amp;collection={{resources.collection}}&amp;operation=findAll&quot;)\r\n\t.process(exchange -&gt; {\r\n\t\tvar body = (List&lt;Document&gt;)exchange.getIn().getBody();\r\n\t\texchange.getMessage().setBody(body);\r\n\t});\r\n```\r\n\r\n\r\n```java\r\nfrom(&quot;direct:resources&quot;)\r\n\t.process(exchange -&gt; {\r\n\t\t//exchange.getIn().setHeader(MongoDbConstants.FIELDS_PROJECTION, constant(Projections.include(&quot;identity&quot;)));\r\n\t\texchange.getIn().setHeader(MongoDbConstants.FIELDS_PROJECTION, constant(&quot;{identity:1}&quot;));\r\n\t\texchange.getIn().setHeader(MongoDbConstants.CRITERIA, Filters.in(&quot;_id&quot;, List.of(&quot;542e696a-30b4-4074-a6a1-69c1c000f711&quot;,&quot;5714a9ec-3349-41d1-819e-937068e1ef41&quot;)));\r\n\t})\r\n\t.to(&quot;mongodb:mongo?database={{resources.db}}&amp;collection={{resources.collection}}&amp;operation=findAll&quot;)\r\n\t.process(exchange -&gt; {\r\n\t\tvar body = (List&lt;Document&gt;)exchange.getIn().getBody();\r\n\t\texchange.getMessage().setBody(body);\r\n\t});\r\n```\r\n\r\n```xml\r\n\r\n&lt;camel.version&gt;3.20.5&lt;/camel.version&gt;\r\n\r\n...\r\n\t\t\t\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.apache.camel.springboot&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;camel-spring-boot-dependencies&lt;/artifactId&gt;\r\n\t&lt;version&gt;${camel.version}&lt;/version&gt;\r\n\t&lt;type&gt;pom&lt;/type&gt;\r\n\t&lt;scope&gt;import&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n\r\n...\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.apache.camel.springboot&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;camel-mongodb-starter&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```","title":"Camel 3.20.5 - MongDbConstants.FIELDS_PROJECTION doesn&#39;t work when set from a processor","body":"<p>Both codes are equivalent, but the first one works and returns the field specified in the projection (and _id), while the second one fails and returns all fields of the documents</p>\n<pre class=\"lang-java prettyprint-override\"><code>from(&quot;direct:resources&quot;)\n    .setHeader(MongoDbConstants.FIELDS_PROJECTION, constant(&quot;{identity:1}&quot;))\n    .setHeader(MongoDbConstants.CRITERIA, constant(&quot;{_id:{$in:['542e696a-30b4-4074-a6a1-69c1c000f711','5714a9ec-3349-41d1-819e-937068e1ef41']}}&quot;))\n    .to(&quot;mongodb:mongo?database={{resources.db}}&amp;collection={{resources.collection}}&amp;operation=findAll&quot;)\n    .process(exchange -&gt; {\n        var body = (List&lt;Document&gt;)exchange.getIn().getBody();\n        exchange.getMessage().setBody(body);\n    });\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>from(&quot;direct:resources&quot;)\n    .process(exchange -&gt; {\n        //exchange.getIn().setHeader(MongoDbConstants.FIELDS_PROJECTION, constant(Projections.include(&quot;identity&quot;)));\n        exchange.getIn().setHeader(MongoDbConstants.FIELDS_PROJECTION, constant(&quot;{identity:1}&quot;));\n        exchange.getIn().setHeader(MongoDbConstants.CRITERIA, Filters.in(&quot;_id&quot;, List.of(&quot;542e696a-30b4-4074-a6a1-69c1c000f711&quot;,&quot;5714a9ec-3349-41d1-819e-937068e1ef41&quot;)));\n    })\n    .to(&quot;mongodb:mongo?database={{resources.db}}&amp;collection={{resources.collection}}&amp;operation=findAll&quot;)\n    .process(exchange -&gt; {\n        var body = (List&lt;Document&gt;)exchange.getIn().getBody();\n        exchange.getMessage().setBody(body);\n    });\n</code></pre>\n<pre class=\"lang-xml prettyprint-override\"><code>\n&lt;camel.version&gt;3.20.5&lt;/camel.version&gt;\n\n...\n            \n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.camel.springboot&lt;/groupId&gt;\n    &lt;artifactId&gt;camel-spring-boot-dependencies&lt;/artifactId&gt;\n    &lt;version&gt;${camel.version}&lt;/version&gt;\n    &lt;type&gt;pom&lt;/type&gt;\n    &lt;scope&gt;import&lt;/scope&gt;\n&lt;/dependency&gt;\n\n...\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.camel.springboot&lt;/groupId&gt;\n    &lt;artifactId&gt;camel-mongodb-starter&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","spring","hibernate","spring-data-jpa","jpql"],"answers":[{"tags":[],"owner":{"account_id":459292,"reputation":1736,"user_id":859673,"display_name":"ygor"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1544515242,"creation_date":1544515242,"answer_id":53719708,"question_id":53719246,"body_markdown":"Yes, don&#39;t worry. There is nothing wrong with your approach. `Pageable` / `PageRequest` are immutable and that is actually a good practice. When working with immutable classes, it&#39;s standard practice to create copies with (possibly) modified properties. \r\n\r\nAlso, don&#39;t worry about future. If the `PageRequest` entity gets expanded in future, Spring developers will almost certainly keep it immutable. There will be a new parameter in the constructor / factory method and that will lead to compilation error. Getting such error is the best, that can happen, when you are upgrading version of a library.\r\n\r\n**Edit:** You have one additional option: Do not embed `Sort` into `Pageable`. Use them as two separate parameters. First parameter would be `Pageable` without any sorting information. Second parameter can be Spring&#39;s `Sort`, but you are also free to use your own data types, e.g. some `enum`.","title":"How to edit a Spring Pageable object?","body":"<p>Yes, don't worry. There is nothing wrong with your approach. <code>Pageable</code> / <code>PageRequest</code> are immutable and that is actually a good practice. When working with immutable classes, it's standard practice to create copies with (possibly) modified properties. </p>\n\n<p>Also, don't worry about future. If the <code>PageRequest</code> entity gets expanded in future, Spring developers will almost certainly keep it immutable. There will be a new parameter in the constructor / factory method and that will lead to compilation error. Getting such error is the best, that can happen, when you are upgrading version of a library.</p>\n\n<p><strong>Edit:</strong> You have one additional option: Do not embed <code>Sort</code> into <code>Pageable</code>. Use them as two separate parameters. First parameter would be <code>Pageable</code> without any sorting information. Second parameter can be Spring's <code>Sort</code>, but you are also free to use your own data types, e.g. some <code>enum</code>.</p>\n"},{"tags":[],"owner":{"account_id":17426473,"reputation":990,"user_id":12631293,"display_name":"Tomasz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686571259,"creation_date":1686571259,"answer_id":76456458,"question_id":53719246,"body_markdown":"You can do it in &lt;b&gt;two ways&lt;/b&gt; :\r\n1. Using java stream map\r\n2. Using new PageImpl&lt;&gt;()\r\n\r\n&lt;b&gt;Described in details inside post &lt;/b&gt;\r\nhttps://stackoverflow.com/questions/56163956/how-to-update-the-content-inside-of-page-object-from-spring-data-without-changin/72197195","title":"How to edit a Spring Pageable object?","body":"<p>You can do it in <b>two ways</b> :</p>\n<ol>\n<li>Using java stream map</li>\n<li>Using new PageImpl&lt;&gt;()</li>\n</ol>\n<p><b>Described in details inside post </b>\n<a href=\"https://stackoverflow.com/questions/56163956/how-to-update-the-content-inside-of-page-object-from-spring-data-without-changin/72197195\">How to update the content inside of Page object from Spring Data without changing the other properties</a></p>\n"}],"owner":{"account_id":48638,"reputation":5943,"user_id":144578,"accept_rate":79,"display_name":"Sebastiaan van den Broek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14354,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":53719708,"answer_count":2,"score":7,"last_activity_date":1686571259,"creation_date":1544513051,"question_id":53719246,"body_markdown":"I need to be able to edit a Pageable object, more specifically one of the Sorts.\r\n\r\nI have some DTO `Member` which has a property `emailAddress`. Unknown to the client, this is information that is gathered by a query from 2 different entities, either `Account` or `Invite`. A `Member` always has either one of these.\r\nThis works well enough, I do a standard JPA query in a repo and gather the required information before transforming it into a DTO.\r\n\r\nNow we want to sort on this referenced attribute. That&#39;s fine. I can create a query containing something like `ORDER BY coalesce(i.emailAddress, a.emailAddress) ASC` which works well. If the client doesn&#39;t pass any sorting in the Pageable object, I just use this sorting, if the client does pass sorting then I call a different version of the query without this default sort.\r\n\r\nBut now the client wants to sort on this `emailAddress` property and the trouble starts. Directly passing the `Pageable` to the `Repository` doesn&#39;t work because there is no property `emailAddress`. So I thought no worries! Let&#39;s just check in my code if there is a sorting on this property and do a special version of my query depending on the parameters.\r\n\r\n    if (pageable.getSort().isSorted()) {\r\n        Sort.Order emailAddressOrder = pageable.getSort().getOrderFor(&quot;emailAddress&quot;);\r\n        if (emailAddressOrder != null) {\r\n            if (emailAddressOrder.getDirection() == Sort.Direction.ASC)\r\n                members = memberRepo.findInProjectDefaultSortAsc(projectId, skipFullName, fullName, pageable);\r\n            else\r\n                members = memberRepo.findInProjectDefaultSortDesc(projectId, skipFullName, fullName, pageable);\r\n        }\r\n        else\r\n            members = memberRepo.findInProject(projectId, skipFullName, fullName, pageable);\r\n    }\r\n    else\r\n        members = memberRepo.findInProjectDefaultSortAsc(projectId, skipFullName, fullName, pageable);\r\n\r\nDoesn&#39;t look superpretty but should work right? Wrong, because the `Pageable` STILL contains the invalid property `emailAddress`.\r\n\r\nSo how do I remove this property? I tried casting it to a `PageRequest` but even that implementation object isn&#39;t writeable. What I did now is this:\r\n            \r\n    PageRequest newPageRequest = PageRequest.of(pageable.getPageNumber(), pageable.getPageSize());\r\n\r\nAnd then I pass this new object into the query instead. But that seems a bit error-prone, what if the PageRequest entity gets expanded with additional properties later on, then my object still only copies 2 properties. Is this really the best I can do now?\r\n\r\n\r\n","title":"How to edit a Spring Pageable object?","body":"<p>I need to be able to edit a Pageable object, more specifically one of the Sorts.</p>\n\n<p>I have some DTO <code>Member</code> which has a property <code>emailAddress</code>. Unknown to the client, this is information that is gathered by a query from 2 different entities, either <code>Account</code> or <code>Invite</code>. A <code>Member</code> always has either one of these.\nThis works well enough, I do a standard JPA query in a repo and gather the required information before transforming it into a DTO.</p>\n\n<p>Now we want to sort on this referenced attribute. That's fine. I can create a query containing something like <code>ORDER BY coalesce(i.emailAddress, a.emailAddress) ASC</code> which works well. If the client doesn't pass any sorting in the Pageable object, I just use this sorting, if the client does pass sorting then I call a different version of the query without this default sort.</p>\n\n<p>But now the client wants to sort on this <code>emailAddress</code> property and the trouble starts. Directly passing the <code>Pageable</code> to the <code>Repository</code> doesn't work because there is no property <code>emailAddress</code>. So I thought no worries! Let's just check in my code if there is a sorting on this property and do a special version of my query depending on the parameters.</p>\n\n<pre><code>if (pageable.getSort().isSorted()) {\n    Sort.Order emailAddressOrder = pageable.getSort().getOrderFor(\"emailAddress\");\n    if (emailAddressOrder != null) {\n        if (emailAddressOrder.getDirection() == Sort.Direction.ASC)\n            members = memberRepo.findInProjectDefaultSortAsc(projectId, skipFullName, fullName, pageable);\n        else\n            members = memberRepo.findInProjectDefaultSortDesc(projectId, skipFullName, fullName, pageable);\n    }\n    else\n        members = memberRepo.findInProject(projectId, skipFullName, fullName, pageable);\n}\nelse\n    members = memberRepo.findInProjectDefaultSortAsc(projectId, skipFullName, fullName, pageable);\n</code></pre>\n\n<p>Doesn't look superpretty but should work right? Wrong, because the <code>Pageable</code> STILL contains the invalid property <code>emailAddress</code>.</p>\n\n<p>So how do I remove this property? I tried casting it to a <code>PageRequest</code> but even that implementation object isn't writeable. What I did now is this:</p>\n\n<pre><code>PageRequest newPageRequest = PageRequest.of(pageable.getPageNumber(), pageable.getPageSize());\n</code></pre>\n\n<p>And then I pass this new object into the query instead. But that seems a bit error-prone, what if the PageRequest entity gets expanded with additional properties later on, then my object still only copies 2 properties. Is this really the best I can do now?</p>\n"},{"tags":["java","mysql","spring","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":6778658,"reputation":1374,"user_id":5219732,"display_name":"Aleksandr Semyannikov"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1542562475,"creation_date":1542551366,"answer_id":53361956,"question_id":53361445,"body_markdown":"Spring provides two mechanisms that can be used to limit data to be fetched.\r\n\r\n[Projections][1]\r\n----------------\r\nProjections can help you to reduce data, retrieved from database, by setting what exactly attributes you want to fetch.\r\nExample:\r\n--------\r\n    @Entity\r\n    class Person {\r\n        @Id UUID id;\r\n        String firstname, lastname;\r\n        @OneToOne\r\n        Address address;\r\n    }\r\n\r\n    @Entity\r\n    static class Address {\r\n        @Id UUID id;\r\n        String zipCode, city, street;\r\n    }\r\n\r\n    interface NamesOnly {\r\n        String getFirstname();\r\n        String getLastname();\r\n    }\r\n    \r\n    @Repository\r\n    interface PersonRepository extends Repository&lt;Person, UUID&gt; {\r\n        Collection&lt;NamesOnly&gt; findByLastname(String lastname);\r\n    }\r\n\r\n[Entity graph][2]\r\n-----------------\r\nAnnotation `EntityGraph` can help you to reduce amount of queries to database, by setting what exactly related entities you need to fetch.\r\n\r\nExample:\r\n--------\r\n\r\n    @Entity\r\n    @NamedEntityGraph(name = &quot;GroupInfo.detail&quot;, attributeNodes = @NamedAttributeNode(&quot;members&quot;))\r\n    public class GroupInfo {\r\n        @Id UUID id;\r\n        @ManyToMany //default fetch mode is lazy.\r\n        List&lt;GroupMember&gt; members = new ArrayList&lt;GroupMember&gt;();\r\n    }\r\n    \r\n    @Repository\r\n    public interface GroupRepository extends CrudRepository&lt;GroupInfo, String&gt; {\r\n    \r\n        @EntityGraph(value = &quot;GroupInfo.detail&quot;, type = EntityGraphType.LOAD)\r\n        GroupInfo getByGroupName(String name); //Despite of GroupInfo.members has FetchType = LAZY, it will be fetched because of using EntityGraph\r\n    }\r\n\r\nThere are two types of `EntityGraph`:\r\n\r\n 1. `EntityGraphType.LOAD` - is used to specify an entity graph, attributes that are specified by attribute nodes of the entity graph are treated as `FetchType.EAGER` and attributes that are not specified are treated according to their specified or default `FetchType`. \r\n 2. `EntityGraphType.FETCH` - is used to specify an entity graph, attributes that are specified by attribute nodes of the entity graph are treated as `FetchType.EAGER` and attributes that are not specified are treated as `FetchType.LAZY`.\r\n\r\n**PS:** Also remember that you can set lazy fetch type: `@ManyToOne(fetch = FetchType.LAZY)` and JPA will not fetching child entities when parent is being fetched.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-data/jpa/docs/2.1.2.RELEASE/reference/html/#projections\r\n  [2]: https://docs.spring.io/spring-data/jpa/docs/2.1.2.RELEASE/reference/html/#jpa.entity-graph\r\n","title":"How to implement a &#39;light Entity&#39; version with JPA?","body":"<p>Spring provides two mechanisms that can be used to limit data to be fetched.</p>\n\n<h2><a href=\"https://docs.spring.io/spring-data/jpa/docs/2.1.2.RELEASE/reference/html/#projections\" rel=\"nofollow noreferrer\">Projections</a></h2>\n\n<p>Projections can help you to reduce data, retrieved from database, by setting what exactly attributes you want to fetch.</p>\n\n<h2>Example:</h2>\n\n<pre><code>@Entity\nclass Person {\n    @Id UUID id;\n    String firstname, lastname;\n    @OneToOne\n    Address address;\n}\n\n@Entity\nstatic class Address {\n    @Id UUID id;\n    String zipCode, city, street;\n}\n\ninterface NamesOnly {\n    String getFirstname();\n    String getLastname();\n}\n\n@Repository\ninterface PersonRepository extends Repository&lt;Person, UUID&gt; {\n    Collection&lt;NamesOnly&gt; findByLastname(String lastname);\n}\n</code></pre>\n\n<h2><a href=\"https://docs.spring.io/spring-data/jpa/docs/2.1.2.RELEASE/reference/html/#jpa.entity-graph\" rel=\"nofollow noreferrer\">Entity graph</a></h2>\n\n<p>Annotation <code>EntityGraph</code> can help you to reduce amount of queries to database, by setting what exactly related entities you need to fetch.</p>\n\n<h2>Example:</h2>\n\n<pre><code>@Entity\n@NamedEntityGraph(name = \"GroupInfo.detail\", attributeNodes = @NamedAttributeNode(\"members\"))\npublic class GroupInfo {\n    @Id UUID id;\n    @ManyToMany //default fetch mode is lazy.\n    List&lt;GroupMember&gt; members = new ArrayList&lt;GroupMember&gt;();\n}\n\n@Repository\npublic interface GroupRepository extends CrudRepository&lt;GroupInfo, String&gt; {\n\n    @EntityGraph(value = \"GroupInfo.detail\", type = EntityGraphType.LOAD)\n    GroupInfo getByGroupName(String name); //Despite of GroupInfo.members has FetchType = LAZY, it will be fetched because of using EntityGraph\n}\n</code></pre>\n\n<p>There are two types of <code>EntityGraph</code>:</p>\n\n<ol>\n<li><code>EntityGraphType.LOAD</code> - is used to specify an entity graph, attributes that are specified by attribute nodes of the entity graph are treated as <code>FetchType.EAGER</code> and attributes that are not specified are treated according to their specified or default <code>FetchType</code>. </li>\n<li><code>EntityGraphType.FETCH</code> - is used to specify an entity graph, attributes that are specified by attribute nodes of the entity graph are treated as <code>FetchType.EAGER</code> and attributes that are not specified are treated as <code>FetchType.LAZY</code>.</li>\n</ol>\n\n<p><strong>PS:</strong> Also remember that you can set lazy fetch type: <code>@ManyToOne(fetch = FetchType.LAZY)</code> and JPA will not fetching child entities when parent is being fetched.</p>\n"}],"owner":{"account_id":13429807,"reputation":1816,"user_id":9689945,"display_name":"hhrzc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1513,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":53361956,"answer_count":1,"score":6,"last_activity_date":1686570805,"creation_date":1542548098,"question_id":53361445,"body_markdown":"Have a &quot;full Entity&quot; class:\r\n\r\n    @Entity(name = &quot;vacancy_dec_to_words&quot;)\r\n    public class VacancyDescriptionToWords {\r\n    \r\n        @Id\r\n        @Column(name = &quot;id&quot;)\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private long id;\r\n    \r\n        @JoinColumn(name = &quot;vacancy_description_id&quot;)\r\n        @ManyToOne(cascade = CascadeType.ALL)\r\n        private VacancyDescription vacancyDescription;\r\n    \r\n        @JoinColumn(name = &quot;words_id&quot;)\r\n        @ManyToOne\r\n        private Words words;\r\n    \r\n        @Column(name = &quot;qty&quot;)\r\n        private int qty;\r\n    \r\n        @Column(name = &quot;create_date&quot;)\r\n        private Date date;\r\n\r\n        //...getters and setters\r\n\r\nIn some methods I need use only 2 column from this database: `word_id` and `qty`\r\n\r\nI try the follow way:\r\n\r\n**Projections**\r\nhttps://docs.spring.io/spring-data/jpa/docs/2.1.2.RELEASE/reference/html/#projections\r\n\r\n\r\n\r\n\r\n\r\n    public interface QtyWords {\r\n        Long getWords();\r\n        Integer getQty();\r\n    }\r\n\r\n**JpaReposytory:**\r\n\r\n*Query, that I use tested and it workable, I use him in `JpaRepository`:\r\n\r\n\r\n    @Repository\r\n    public interface SmallVDTWRepository extends JpaRepository&lt;VacancyDescriptionToWords, Long&gt; {\r\n    \r\n    @Query(nativeQuery = true,\r\n            value = &quot;SELECT sum(qty), words_id FROM vacancy_desc_to_words WHERE vacancy_description_id IN (&quot; +\r\n                    &quot;SELECT id FROM vacancy_description WHERE vacancy_id IN (&quot; +\r\n                    &quot;SELECT id FROM vacancy WHERE explorer_id = :exp))&quot; +\r\n                    &quot;GROUP BY words_id&quot;)\r\n    List&lt;QtyWords&gt; getDistinctWordsByExplorer(@Param(&quot;exp&quot;) long exp);\r\n    }\r\n\r\n\r\nBut I get some interesting result when I get list of entities:\r\n\r\n        List&lt;QtyWords&gt; list = vdtwService.getByExplorerId(72);\r\n\r\nI am not get any exceptions, but I have the list with are unknowns objects. This objects contains my data, which I need(`qty` and `words_id`), but I cannot get them from him.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nCan I use this method (`Projection`) to implement this task and, in general, how to correctly implement the &#39;Light Entity&#39; in this case?\r\n\r\n  [1]: https://i.stack.imgur.com/Xmya4.png","title":"How to implement a &#39;light Entity&#39; version with JPA?","body":"<p>Have a \"full Entity\" class:</p>\n\n<pre><code>@Entity(name = \"vacancy_dec_to_words\")\npublic class VacancyDescriptionToWords {\n\n    @Id\n    @Column(name = \"id\")\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private long id;\n\n    @JoinColumn(name = \"vacancy_description_id\")\n    @ManyToOne(cascade = CascadeType.ALL)\n    private VacancyDescription vacancyDescription;\n\n    @JoinColumn(name = \"words_id\")\n    @ManyToOne\n    private Words words;\n\n    @Column(name = \"qty\")\n    private int qty;\n\n    @Column(name = \"create_date\")\n    private Date date;\n\n    //...getters and setters\n</code></pre>\n\n<p>In some methods I need use only 2 column from this database: <code>word_id</code> and <code>qty</code></p>\n\n<p>I try the follow way:</p>\n\n<p><strong>Projections</strong>\n<a href=\"https://docs.spring.io/spring-data/jpa/docs/2.1.2.RELEASE/reference/html/#projections\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/jpa/docs/2.1.2.RELEASE/reference/html/#projections</a></p>\n\n<pre><code>public interface QtyWords {\n    Long getWords();\n    Integer getQty();\n}\n</code></pre>\n\n<p><strong>JpaReposytory:</strong></p>\n\n<p>*Query, that I use tested and it workable, I use him in <code>JpaRepository</code>:</p>\n\n<pre><code>@Repository\npublic interface SmallVDTWRepository extends JpaRepository&lt;VacancyDescriptionToWords, Long&gt; {\n\n@Query(nativeQuery = true,\n        value = \"SELECT sum(qty), words_id FROM vacancy_desc_to_words WHERE vacancy_description_id IN (\" +\n                \"SELECT id FROM vacancy_description WHERE vacancy_id IN (\" +\n                \"SELECT id FROM vacancy WHERE explorer_id = :exp))\" +\n                \"GROUP BY words_id\")\nList&lt;QtyWords&gt; getDistinctWordsByExplorer(@Param(\"exp\") long exp);\n}\n</code></pre>\n\n<p>But I get some interesting result when I get list of entities:</p>\n\n<pre><code>    List&lt;QtyWords&gt; list = vdtwService.getByExplorerId(72);\n</code></pre>\n\n<p>I am not get any exceptions, but I have the list with are unknowns objects. This objects contains my data, which I need(<code>qty</code> and <code>words_id</code>), but I cannot get them from him.</p>\n\n<p><a href=\"https://i.stack.imgur.com/Xmya4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Xmya4.png\" alt=\"enter image description here\"></a></p>\n\n<p>Can I use this method (<code>Projection</code>) to implement this task and, in general, how to correctly implement the 'Light Entity' in this case?</p>\n"},{"tags":["java","android-studio","kotlin"],"owner":{"account_id":3020335,"reputation":11,"user_id":21922073,"display_name":"The Rahul Jha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686570596,"creation_date":1686570596,"question_id":76456376,"body_markdown":"i have the following codes and i just want to add few links in sidebar tray. \r\nThe tray and all works good, simly add some links in the tray and all is good. \r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.drawerlayout.widget.DrawerLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:id=&quot;@+id/drawer_layout&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:fitsSystemWindows=&quot;true&quot;&gt;\r\n\r\n    &lt;!-- Main content --&gt;\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n        &lt;!-- Add this code before the home button --&gt;\r\n        &lt;Button\r\n            android:id=&quot;@+id/drawer_button&quot;\r\n            android:layout_width=&quot;0dp&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginStart=&quot;0dp&quot;\r\n            android:background=&quot;#000&quot;\r\n            android:onClick=&quot;openDrawer&quot;\r\n            android:text=&quot;MORE&quot;\r\n            android:textColor=&quot;#fff&quot;\r\n            android:verticalScrollbarPosition=&quot;left&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;@+id/view2&quot;\r\n            app:layout_constraintEnd_toStartOf=&quot;@+id/homes&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintWidth_percent=&quot;0.5&quot; /&gt;\r\n\r\n\r\n        &lt;!-- Your existing home button --&gt;\r\n        &lt;Button\r\n            android:id=&quot;@+id/homes&quot;\r\n            android:layout_width=&quot;0dp&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:background=&quot;#000&quot;\r\n            android:onClick=&quot;gohome2&quot;\r\n            android:text=&quot;HOME&quot;\r\n            android:textAlignment=&quot;center&quot;\r\n            android:textColor=&quot;#fff&quot;\r\n            android:textSize=&quot;15sp&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;@+id/view2&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintHorizontal_chainStyle=&quot;packed&quot;\r\n            app:layout_constraintWidth_percent=&quot;0.5&quot; /&gt;\r\n\r\n\r\n        &lt;WebView\r\n            android:id=&quot;@+id/view2&quot;\r\n            android:layout_width=&quot;0dp&quot;\r\n            android:layout_height=&quot;0dp&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintHorizontal_bias=&quot;0.0&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n            android:id=&quot;@+id/splashScreen&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:background=&quot;#000&quot;\r\n            android:visibility=&quot;visible&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n            tools:visibility=&quot;visible&quot;&gt;\r\n\r\n            &lt;ImageView\r\n                android:id=&quot;@+id/imageView&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:background=&quot;#000&quot;\r\n                android:padding=&quot;99dp&quot;\r\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n                app:srcCompat=&quot;@drawable/logomain_23&quot; /&gt;\r\n\r\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n    &lt;!-- Sidebar navigation drawer --&gt;\r\n    &lt;androidx.recyclerview.widget.RecyclerView\r\n        android:id=&quot;@+id/nav_list&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:layout_gravity=&quot;start&quot;\r\n        android:background=&quot;@android:color/white&quot;\r\n        android:padding=&quot;16dp&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintVertical_bias=&quot;1.0&quot;\r\n        app:layoutManager=&quot;androidx.recyclerview.widget.LinearLayoutManager&quot;\r\n        tools:listitem=&quot;@layout/nav_list_item&quot;/&gt;\r\n\r\n&lt;/androidx.drawerlayout.widget.DrawerLayout&gt;\r\n\r\n```\r\n\r\nany idea where to update the codes? i have been trying for long. \r\ni want to add few links in the tray sidebar when the more button is clicked. \r\n\r\nbasically how to change the tray xml or UI ?\r\n","title":"How to add links to android APP sidebar tray?","body":"<p>i have the following codes and i just want to add few links in sidebar tray.\nThe tray and all works good, simly add some links in the tray and all is good.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.drawerlayout.widget.DrawerLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:id=&quot;@+id/drawer_layout&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:fitsSystemWindows=&quot;true&quot;&gt;\n\n    &lt;!-- Main content --&gt;\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;&gt;\n\n        &lt;!-- Add this code before the home button --&gt;\n        &lt;Button\n            android:id=&quot;@+id/drawer_button&quot;\n            android:layout_width=&quot;0dp&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginStart=&quot;0dp&quot;\n            android:background=&quot;#000&quot;\n            android:onClick=&quot;openDrawer&quot;\n            android:text=&quot;MORE&quot;\n            android:textColor=&quot;#fff&quot;\n            android:verticalScrollbarPosition=&quot;left&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;@+id/view2&quot;\n            app:layout_constraintEnd_toStartOf=&quot;@+id/homes&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintWidth_percent=&quot;0.5&quot; /&gt;\n\n\n        &lt;!-- Your existing home button --&gt;\n        &lt;Button\n            android:id=&quot;@+id/homes&quot;\n            android:layout_width=&quot;0dp&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:background=&quot;#000&quot;\n            android:onClick=&quot;gohome2&quot;\n            android:text=&quot;HOME&quot;\n            android:textAlignment=&quot;center&quot;\n            android:textColor=&quot;#fff&quot;\n            android:textSize=&quot;15sp&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;@+id/view2&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintHorizontal_chainStyle=&quot;packed&quot;\n            app:layout_constraintWidth_percent=&quot;0.5&quot; /&gt;\n\n\n        &lt;WebView\n            android:id=&quot;@+id/view2&quot;\n            android:layout_width=&quot;0dp&quot;\n            android:layout_height=&quot;0dp&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintHorizontal_bias=&quot;0.0&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\n            android:id=&quot;@+id/splashScreen&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:background=&quot;#000&quot;\n            android:visibility=&quot;visible&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\n            tools:visibility=&quot;visible&quot;&gt;\n\n            &lt;ImageView\n                android:id=&quot;@+id/imageView&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;match_parent&quot;\n                android:background=&quot;#000&quot;\n                android:padding=&quot;99dp&quot;\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;\n                app:srcCompat=&quot;@drawable/logomain_23&quot; /&gt;\n\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n    &lt;!-- Sidebar navigation drawer --&gt;\n    &lt;androidx.recyclerview.widget.RecyclerView\n        android:id=&quot;@+id/nav_list&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:layout_gravity=&quot;start&quot;\n        android:background=&quot;@android:color/white&quot;\n        android:padding=&quot;16dp&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintVertical_bias=&quot;1.0&quot;\n        app:layoutManager=&quot;androidx.recyclerview.widget.LinearLayoutManager&quot;\n        tools:listitem=&quot;@layout/nav_list_item&quot;/&gt;\n\n&lt;/androidx.drawerlayout.widget.DrawerLayout&gt;\n\n</code></pre>\n<p>any idea where to update the codes? i have been trying for long.\ni want to add few links in the tray sidebar when the more button is clicked.</p>\n<p>basically how to change the tray xml or UI ?</p>\n"},{"tags":["java","android","android-studio"],"answers":[{"tags":[],"owner":{"account_id":26855967,"reputation":2341,"user_id":20440272,"display_name":"Sohaib Ahmed"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676280673,"creation_date":1676280673,"answer_id":75434084,"question_id":75433904,"body_markdown":"In `build.gradle (project)`, update Google Service dependency to \r\n\r\n    classpath &#39;com.google.gms:google-services:4.3.15&#39;","title":"java.io.IOException: null InputStream when changing higher SDK version in android studio","body":"<p>In <code>build.gradle (project)</code>, update Google Service dependency to</p>\n<pre><code>classpath 'com.google.gms:google-services:4.3.15'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16953769,"reputation":546,"user_id":12262686,"display_name":"theboyonfire"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1686570194,"creation_date":1686570194,"answer_id":76456324,"question_id":75433904,"body_markdown":"I fixed it by taking the latest version of emarsys and emarsys firebase\r\n\r\n```\r\nimplementation &#39;com.emarsys:emarsys-sdk:+&#39; \r\nimplementation &#39;com.emarsys:emarsys-firebase:+&#39; \r\n```","title":"java.io.IOException: null InputStream when changing higher SDK version in android studio","body":"<p>I fixed it by taking the latest version of emarsys and emarsys firebase</p>\n<pre><code>implementation 'com.emarsys:emarsys-sdk:+' \nimplementation 'com.emarsys:emarsys-firebase:+' \n</code></pre>\n"}],"owner":{"account_id":16953769,"reputation":546,"user_id":12262686,"display_name":"theboyonfire"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":708,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76456324,"answer_count":2,"score":2,"last_activity_date":1686570194,"creation_date":1676279626,"question_id":75433904,"body_markdown":"I am very new to android and java development.\r\n\r\nI am trying to devlop an app and integrate one SDK from [Emarsys][1].. This SDK requires the app to use higher sdk version.\r\n\r\nBut after changing the SDK version to the higher version (33), I have an error and the app is always being terminated immediately.. \r\n```\r\n DropBoxUtil             pid-9840  [AppErrors] null InputStream [CONTEXT service_id=254 ]\r\n                                                                                                    java.io.IOException: null InputStream\r\n                                                                                                    \tat boqn.c(:com.google.android.gms@230413037@23.04.13 (150400-505809224):23)\r\n```\r\n\r\nHere is my gradle.bundle\r\n```\r\napply plugin: &#39;com.android.application&#39;\r\n\r\nandroid {\r\n    compileSdkVersion 33\r\n    defaultConfig {\r\n        applicationId &quot;io.ionic.starter&quot;\r\n        minSdkVersion 24\r\n        targetSdkVersion 33\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n        aaptOptions {\r\n             // Files and dirs to omit from the packaged assets dir, modified to accommodate modern web apps.\r\n             // Default: https://android.googlesource.com/platform/frameworks/base/+/282e181b58cf72b6ca770dc7ca5f91f135444502/tools/aapt/AaptAssets.cpp#61\r\n            ignoreAssetsPattern &#39;!.svn:!.git:!.ds_store:!*.scc:.*:!CVS:!thumbs.db:!picasa.ini:!*~&#39;\r\n        }\r\n    }\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n}\r\n\r\nrepositories {\r\n    flatDir{\r\n        dirs &#39;../capacitor-cordova-android-plugins/src/main/libs&#39;, &#39;libs&#39;\r\n    }\r\n}\r\n\r\ndependencies {\r\n    implementation fileTree(include: [&#39;*.jar&#39;], dir: &#39;libs&#39;)\r\n    implementation &quot;androidx.appcompat:appcompat:$androidxAppCompatVersion&quot;\r\n    implementation &quot;androidx.coordinatorlayout:coordinatorlayout:$androidxCoordinatorLayoutVersion&quot;\r\n    implementation &quot;androidx.core:core-splashscreen:$coreSplashScreenVersion&quot;\r\n    implementation project(&#39;:capacitor-android&#39;)\r\n    testImplementation &quot;junit:junit:$junitVersion&quot;\r\n    androidTestImplementation &quot;androidx.test.ext:junit:$androidxJunitVersion&quot;\r\n    androidTestImplementation &quot;androidx.test.espresso:espresso-core:$androidxEspressoCoreVersion&quot;\r\n    implementation project(&#39;:capacitor-cordova-android-plugins&#39;)\r\n\r\n  //for emersys\r\n  implementation &#39;androidx.core:core-ktx:1.8.0&#39;\r\n  implementation &#39;androidx.appcompat:appcompat:1.5.0&#39;\r\n    //Emarsys\r\n  implementation &#39;com.emarsys:emarsys-sdk:3.4.0&#39;\r\n  implementation &#39;com.emarsys:emarsys-firebase:+&#39;\r\n\r\n}\r\n\r\napply from: &#39;capacitor.build.gradle&#39;\r\n\r\ntry {\r\n    def servicesJSON = file(&#39;google-services.json&#39;)\r\n    if (servicesJSON.text) {\r\n        apply plugin: &#39;com.google.gms.google-services&#39;\r\n    }\r\n} catch(Exception e) {\r\n    logger.info(&quot;google-services.json not found, google-services plugin not applied. Push Notifications won&#39;t work&quot;)\r\n}\r\n\r\n```\r\n\r\ngradle in project\r\n```\r\n// Top-level build file where you can add configuration options common to all sub-projects/modules.\r\n\r\nbuildscript {\r\n    \r\n    repositories {\r\n        google()\r\n        mavenCentral()\r\n    }\r\n    dependencies {\r\n        classpath &#39;com.android.tools.build:gradle:7.2.1&#39;\r\n        classpath &#39;com.google.gms:google-services:4.3.13&#39;\r\n\r\n        // NOTE: Do not place your application dependencies here; they belong\r\n        // in the individual module build.gradle files\r\n    }\r\n}\r\n\r\napply from: &quot;variables.gradle&quot;\r\n\r\nallprojects {\r\n    repositories {\r\n        google()\r\n        mavenCentral()\r\n    }\r\n}\r\n\r\ntask clean(type: Delete) {\r\n    delete rootProject.buildDir\r\n}\r\n\r\n```\r\n\r\nand here is the manifest\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    package=&quot;io.ionic.starter&quot;&gt;\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/AppTheme&quot;&gt;\r\n\r\n        &lt;activity\r\n            android:configChanges=&quot;orientation|keyboardHidden|keyboard|screenSize|locale|smallestScreenSize|screenLayout|uiMode&quot;\r\n            android:name=&quot;io.ionic.starter.MainActivity&quot;\r\n            android:label=&quot;@string/title_activity_main&quot;\r\n            android:theme=&quot;@style/AppTheme.NoActionBarLaunch&quot;\r\n            android:launchMode=&quot;singleTask&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n\r\n        &lt;/activity&gt;\r\n\r\n        &lt;provider\r\n            android:name=&quot;androidx.core.content.FileProvider&quot;\r\n            android:authorities=&quot;${applicationId}.fileprovider&quot;\r\n            android:exported=&quot;false&quot;\r\n            android:grantUriPermissions=&quot;true&quot;&gt;\r\n            &lt;meta-data\r\n                android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\r\n                android:resource=&quot;@xml/file_paths&quot;&gt;&lt;/meta-data&gt;\r\n        &lt;/provider&gt;\r\n\r\n\r\n&lt;!--      Emersys--&gt;\r\n      &lt;meta-data\r\n        android:name=&quot;com.emarsys.mobileengage.notification_color&quot;\r\n        android:resource=&quot;@color/colorPrimary&quot; /&gt;\r\n\r\n      &lt;meta-data\r\n        android:name=&quot;com.emarsys.mobileengage.small_notification_icon&quot;\r\n        android:resource=&quot;@drawable/default_small_notification_icon&quot; /&gt;\r\n\r\n\r\n      &lt;service\r\n        android:name=&quot;com.emarsys.service.EmarsysFirebaseMessagingService&quot;\r\n        android:exported=&quot;false&quot;&gt;\r\n        &lt;intent-filter&gt;\r\n          &lt;action android:name=&quot;com.google.firebase.MESSAGING_EVENT&quot; /&gt;\r\n        &lt;/intent-filter&gt;\r\n      &lt;/service&gt;\r\n\r\n&lt;!--      &lt;provider--&gt;\r\n&lt;!--        android:name=&quot;com.emarsys.provider.SharedHardwareIdentificationContentProvider&quot;--&gt;\r\n&lt;!--        android:authorities=&quot;${applicationId}&quot;--&gt;\r\n&lt;!--        android:enabled=&quot;true&quot;--&gt;\r\n&lt;!--        android:exported=&quot;true&quot;--&gt;\r\n&lt;!--        android:grantUriPermissions=&quot;true&quot; /&gt;--&gt;\r\n\r\n\r\n    &lt;/application&gt;\r\n\r\n    &lt;!-- Permissions --&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n&lt;/manifest&gt;\r\n\r\n```\r\n\r\nI am not sure what causing it, because I haven&#39;t even started to integrate the service from SDK.. \r\n\r\n\r\n  [1]: https://help.emarsys.com/hc/en-us/articles/360004899497-Android-integration-Mobile-Engage-Android-SDK","title":"java.io.IOException: null InputStream when changing higher SDK version in android studio","body":"<p>I am very new to android and java development.</p>\n<p>I am trying to devlop an app and integrate one SDK from <a href=\"https://help.emarsys.com/hc/en-us/articles/360004899497-Android-integration-Mobile-Engage-Android-SDK\" rel=\"nofollow noreferrer\">Emarsys</a>.. This SDK requires the app to use higher sdk version.</p>\n<p>But after changing the SDK version to the higher version (33), I have an error and the app is always being terminated immediately..</p>\n<pre><code> DropBoxUtil             pid-9840  [AppErrors] null InputStream [CONTEXT service_id=254 ]\n                                                                                                    java.io.IOException: null InputStream\n                                                                                                        at boqn.c(:com.google.android.gms@230413037@23.04.13 (150400-505809224):23)\n</code></pre>\n<p>Here is my gradle.bundle</p>\n<pre><code>apply plugin: 'com.android.application'\n\nandroid {\n    compileSdkVersion 33\n    defaultConfig {\n        applicationId &quot;io.ionic.starter&quot;\n        minSdkVersion 24\n        targetSdkVersion 33\n        versionCode 1\n        versionName &quot;1.0&quot;\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n        aaptOptions {\n             // Files and dirs to omit from the packaged assets dir, modified to accommodate modern web apps.\n             // Default: https://android.googlesource.com/platform/frameworks/base/+/282e181b58cf72b6ca770dc7ca5f91f135444502/tools/aapt/AaptAssets.cpp#61\n            ignoreAssetsPattern '!.svn:!.git:!.ds_store:!*.scc:.*:!CVS:!thumbs.db:!picasa.ini:!*~'\n        }\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n\nrepositories {\n    flatDir{\n        dirs '../capacitor-cordova-android-plugins/src/main/libs', 'libs'\n    }\n}\n\ndependencies {\n    implementation fileTree(include: ['*.jar'], dir: 'libs')\n    implementation &quot;androidx.appcompat:appcompat:$androidxAppCompatVersion&quot;\n    implementation &quot;androidx.coordinatorlayout:coordinatorlayout:$androidxCoordinatorLayoutVersion&quot;\n    implementation &quot;androidx.core:core-splashscreen:$coreSplashScreenVersion&quot;\n    implementation project(':capacitor-android')\n    testImplementation &quot;junit:junit:$junitVersion&quot;\n    androidTestImplementation &quot;androidx.test.ext:junit:$androidxJunitVersion&quot;\n    androidTestImplementation &quot;androidx.test.espresso:espresso-core:$androidxEspressoCoreVersion&quot;\n    implementation project(':capacitor-cordova-android-plugins')\n\n  //for emersys\n  implementation 'androidx.core:core-ktx:1.8.0'\n  implementation 'androidx.appcompat:appcompat:1.5.0'\n    //Emarsys\n  implementation 'com.emarsys:emarsys-sdk:3.4.0'\n  implementation 'com.emarsys:emarsys-firebase:+'\n\n}\n\napply from: 'capacitor.build.gradle'\n\ntry {\n    def servicesJSON = file('google-services.json')\n    if (servicesJSON.text) {\n        apply plugin: 'com.google.gms.google-services'\n    }\n} catch(Exception e) {\n    logger.info(&quot;google-services.json not found, google-services plugin not applied. Push Notifications won't work&quot;)\n}\n\n</code></pre>\n<p>gradle in project</p>\n<pre><code>// Top-level build file where you can add configuration options common to all sub-projects/modules.\n\nbuildscript {\n    \n    repositories {\n        google()\n        mavenCentral()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:7.2.1'\n        classpath 'com.google.gms:google-services:4.3.13'\n\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n\napply from: &quot;variables.gradle&quot;\n\nallprojects {\n    repositories {\n        google()\n        mavenCentral()\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n\n</code></pre>\n<p>and here is the manifest</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    package=&quot;io.ionic.starter&quot;&gt;\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/AppTheme&quot;&gt;\n\n        &lt;activity\n            android:configChanges=&quot;orientation|keyboardHidden|keyboard|screenSize|locale|smallestScreenSize|screenLayout|uiMode&quot;\n            android:name=&quot;io.ionic.starter.MainActivity&quot;\n            android:label=&quot;@string/title_activity_main&quot;\n            android:theme=&quot;@style/AppTheme.NoActionBarLaunch&quot;\n            android:launchMode=&quot;singleTask&quot;\n            android:exported=&quot;true&quot;&gt;\n\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n\n        &lt;/activity&gt;\n\n        &lt;provider\n            android:name=&quot;androidx.core.content.FileProvider&quot;\n            android:authorities=&quot;${applicationId}.fileprovider&quot;\n            android:exported=&quot;false&quot;\n            android:grantUriPermissions=&quot;true&quot;&gt;\n            &lt;meta-data\n                android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\n                android:resource=&quot;@xml/file_paths&quot;&gt;&lt;/meta-data&gt;\n        &lt;/provider&gt;\n\n\n&lt;!--      Emersys--&gt;\n      &lt;meta-data\n        android:name=&quot;com.emarsys.mobileengage.notification_color&quot;\n        android:resource=&quot;@color/colorPrimary&quot; /&gt;\n\n      &lt;meta-data\n        android:name=&quot;com.emarsys.mobileengage.small_notification_icon&quot;\n        android:resource=&quot;@drawable/default_small_notification_icon&quot; /&gt;\n\n\n      &lt;service\n        android:name=&quot;com.emarsys.service.EmarsysFirebaseMessagingService&quot;\n        android:exported=&quot;false&quot;&gt;\n        &lt;intent-filter&gt;\n          &lt;action android:name=&quot;com.google.firebase.MESSAGING_EVENT&quot; /&gt;\n        &lt;/intent-filter&gt;\n      &lt;/service&gt;\n\n&lt;!--      &lt;provider--&gt;\n&lt;!--        android:name=&quot;com.emarsys.provider.SharedHardwareIdentificationContentProvider&quot;--&gt;\n&lt;!--        android:authorities=&quot;${applicationId}&quot;--&gt;\n&lt;!--        android:enabled=&quot;true&quot;--&gt;\n&lt;!--        android:exported=&quot;true&quot;--&gt;\n&lt;!--        android:grantUriPermissions=&quot;true&quot; /&gt;--&gt;\n\n\n    &lt;/application&gt;\n\n    &lt;!-- Permissions --&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n&lt;/manifest&gt;\n\n</code></pre>\n<p>I am not sure what causing it, because I haven't even started to integrate the service from SDK..</p>\n"},{"tags":["java","ant","junit"],"answers":[{"tags":[],"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1686569950,"creation_date":1409676995,"answer_id":25628558,"question_id":25628253,"body_markdown":"**1.** The Ant download distribution\r\n\r\nExpurgated tree:\r\n\r\n    ➜  apache-ant-1.9.4  tree lib\r\n    lib\r\n    ├── ant-junit.jar\r\n    ├── ant-junit4.jar\r\n\r\n**2.** Your test classpath\r\n\r\nJust like any other test dependency.\r\n\r\n---\r\n\r\n*Tangential: The distro (or a Maven repo/search) is generally the first place to look. It’s a few minutes to download, decompress, look for the JUnit-related files, and do a `tar xvf` to sanity-check the missing class ref.*","title":"ant junit task -- where to download ant-junit.jar and where to put it?","body":"<p><strong>1.</strong> The Ant download distribution</p>\n<p>Expurgated tree:</p>\n<pre><code>➜  apache-ant-1.9.4  tree lib\nlib\n├── ant-junit.jar\n├── ant-junit4.jar\n</code></pre>\n<p><strong>2.</strong> Your test classpath</p>\n<p>Just like any other test dependency.</p>\n<hr />\n<p><em>Tangential: The distro (or a Maven repo/search) is generally the first place to look. It’s a few minutes to download, decompress, look for the JUnit-related files, and do a <code>tar xvf</code> to sanity-check the missing class ref.</em></p>\n"},{"tags":[],"owner":{"account_id":93866,"reputation":76253,"user_id":256618,"display_name":"Mark O&#39;Connor"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1409685465,"creation_date":1409685465,"answer_id":25630713,"question_id":25628253,"body_markdown":"You can download dependencies from [Maven Central][1] from an ANT task as follows:\r\n\r\n    &lt;available classname=&quot;org.junit.runner.Runner&quot; property=&quot;junit.installed&quot;/&gt;\r\n    \r\n    &lt;target name=&quot;install-junit&quot; description=&quot;Install junit&quot; unless=&quot;junit.installed&quot;&gt;\r\n        &lt;mkdir dir=&quot;${user.home}/.ant/lib&quot;/&gt;\r\n    \r\n        &lt;get dest=&quot;${user.home}/.ant/lib/ant-junit.jar&quot; src=&quot;http://search.maven.org/remotecontent?filepath=org/apache/ant/ant-junit/1.9.4/ant-junit-1.9.4.jar&quot;/&gt;\r\n        &lt;get dest=&quot;${user.home}/.ant/lib/junit.jar&quot; src=&quot;http://search.maven.org/remotecontent?filepath=junit/junit/4.11/junit-4.11.jar&quot;/&gt;\r\n    \r\n        &lt;fail message=&quot;Ivy has been installed. Run the build again&quot;/&gt;\r\n    &lt;/target&gt;\r\n\r\nAn even better alternative is to use Apache ivy to manage dependencies. An example build file is here:\r\n\r\n- https://stackoverflow.com/questions/10175000/sample-example-which-explain-how-to-use-filesystem-resolver/10180491#10180491\r\n\r\n\r\n  [1]: http://search.maven.org/","title":"ant junit task -- where to download ant-junit.jar and where to put it?","body":"<p>You can download dependencies from <a href=\"http://search.maven.org/\" rel=\"nofollow noreferrer\">Maven Central</a> from an ANT task as follows:</p>\n\n<pre><code>&lt;available classname=\"org.junit.runner.Runner\" property=\"junit.installed\"/&gt;\n\n&lt;target name=\"install-junit\" description=\"Install junit\" unless=\"junit.installed\"&gt;\n    &lt;mkdir dir=\"${user.home}/.ant/lib\"/&gt;\n\n    &lt;get dest=\"${user.home}/.ant/lib/ant-junit.jar\" src=\"http://search.maven.org/remotecontent?filepath=org/apache/ant/ant-junit/1.9.4/ant-junit-1.9.4.jar\"/&gt;\n    &lt;get dest=\"${user.home}/.ant/lib/junit.jar\" src=\"http://search.maven.org/remotecontent?filepath=junit/junit/4.11/junit-4.11.jar\"/&gt;\n\n    &lt;fail message=\"Ivy has been installed. Run the build again\"/&gt;\n&lt;/target&gt;\n</code></pre>\n\n<p>An even better alternative is to use Apache ivy to manage dependencies. An example build file is here:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/10175000/sample-example-which-explain-how-to-use-filesystem-resolver/10180491#10180491\">sample example which explain how to use filesystem resolver</a></li>\n</ul>\n"}],"owner":{"account_id":353373,"reputation":6899,"user_id":691032,"accept_rate":75,"display_name":"sinan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4157,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":25628558,"answer_count":2,"score":3,"last_activity_date":1686569950,"creation_date":1409675791,"question_id":25628253,"body_markdown":"I literally wasted 2 hours trying to get ant junit task working. First, I had trouble finding `ant-junit.jar` file but I managed to find it in a maven page. After that I put it several places(`~/.ant/lib`, `/usr/share/ant/lib`) but no luck.. I&#39;m still getting this error:\r\n\r\n    Cause: the class org.apache.tools.ant.taskdefs.optional.junit.JUnitTask was not found.\r\n            This looks like one of Ant&#39;s optional components.\r\n\r\nSo I&#39;m looking for:\r\n\r\n1. Official web page to download ant junit task files\r\n2. Correct place to put that file.\r\n","title":"ant junit task -- where to download ant-junit.jar and where to put it?","body":"<p>I literally wasted 2 hours trying to get ant junit task working. First, I had trouble finding <code>ant-junit.jar</code> file but I managed to find it in a maven page. After that I put it several places(<code>~/.ant/lib</code>, <code>/usr/share/ant/lib</code>) but no luck.. I'm still getting this error:</p>\n\n<pre><code>Cause: the class org.apache.tools.ant.taskdefs.optional.junit.JUnitTask was not found.\n        This looks like one of Ant's optional components.\n</code></pre>\n\n<p>So I'm looking for:</p>\n\n<ol>\n<li>Official web page to download ant junit task files</li>\n<li>Correct place to put that file.</li>\n</ol>\n"},{"tags":["java","scala","sbt","java-15"],"comments":[{"owner":{"account_id":5131293,"reputation":21831,"user_id":4111404,"accept_rate":80,"display_name":"Luis Miguel Mej&#237;a Su&#225;rez"},"score":0,"creation_date":1625142720,"post_id":68209859,"comment_id":120552526,"body_markdown":"**sbt** should just uses what is on the `JAVA_HOME` If you are sure you do not have **Java 16** installed then it shouldn&#39;t use that, **sbt** doesn&#39;t download **JDKs**.","body":"<b>sbt</b> should just uses what is on the <code>JAVA_HOME</code> If you are sure you do not have <b>Java 16</b> installed then it shouldn&#39;t use that, <b>sbt</b> doesn&#39;t download <b>JDKs</b>."},{"owner":{"account_id":1175860,"reputation":13758,"user_id":1151929,"accept_rate":90,"display_name":"sarveshseri"},"score":3,"creation_date":1625142853,"post_id":68209859,"comment_id":120552588,"body_markdown":"If it is using Java 16 then its definitely installed somewhere. Check your java installation folder which can be found by following `which java`. You can set `JAVA_HOME` or use `sbt -java-home &lt;path/to/jdk&gt;` to use specific jdk.","body":"If it is using Java 16 then its definitely installed somewhere. Check your java installation folder which can be found by following <code>which java</code>. You can set <code>JAVA_HOME</code> or use <code>sbt -java-home &lt;path&#47;to&#47;jdk&gt;</code> to use specific jdk."},{"owner":{"account_id":6085642,"reputation":568,"user_id":5122436,"display_name":"Mikhail Ionkin"},"score":0,"creation_date":1670150779,"post_id":68209859,"comment_id":131802711,"body_markdown":"SET JAVA_HOME=C:/Program Files/Java/jdk-16.0.1 &lt;next line&gt;\nsbt","body":"SET JAVA_HOME=C:/Program Files/Java/jdk-16.0.1 &lt;next line&gt; sbt"}],"answers":[{"tags":[],"owner":{"account_id":12202568,"reputation":627,"user_id":8906489,"display_name":"Vimit Dhawan"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1686569852,"creation_date":1625146006,"answer_id":68211084,"question_id":68209859,"body_markdown":"Add this to `~/.bash_profile`, `~/.bashrc` or `~/.zshrc` (depending on shell preferences/OS), or just run this before running `sbt` in a terminal:\r\n\r\n```\r\nexport JAVA_HOME=/Library/Java/JavaVirtualMachines/adoptopenjdk-11.jdk/Contents/Home\r\n```\r\n\r\n**It&#39;s better though** to do this per-sbt project via `build.sbt` as per this answer: https://stackoverflow.com/a/76456295/1586965\r\n","title":"How to set Java version for SBT","body":"<p>Add this to <code>~/.bash_profile</code>, <code>~/.bashrc</code> or <code>~/.zshrc</code> (depending on shell preferences/OS), or just run this before running <code>sbt</code> in a terminal:</p>\n<pre><code>export JAVA_HOME=/Library/Java/JavaVirtualMachines/adoptopenjdk-11.jdk/Contents/Home\n</code></pre>\n<p><strong>It's better though</strong> to do this per-sbt project via <code>build.sbt</code> as per this answer: <a href=\"https://stackoverflow.com/a/76456295/1586965\">https://stackoverflow.com/a/76456295/1586965</a></p>\n"},{"tags":[],"owner":{"account_id":9145961,"reputation":4103,"user_id":6802156,"display_name":"Emiliano Martinez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1625146227,"creation_date":1625146095,"answer_id":68211104,"question_id":68209859,"body_markdown":"To handle your installed jvms you can use [Jenv][1].\r\n\r\nTo install jenv:\r\n\r\n    git clone https://github.com/jenv/jenv.git ~/.jenv\r\n    echo &#39;export PATH=&quot;$HOME/.jenv/bin:$PATH&quot;&#39; &gt;&gt; ~/.bash_profile\r\n\r\n    echo &#39;eval &quot;$(jenv init -)&quot;&#39; &gt;&gt; ~/.bash_profile\r\n\r\nThen, you can add your intalled jvms. In Mac, if you have installed them via **brew** you can find those in: ***/Library/Java/JavaVirtualMachines***.\r\n\r\nThen add them to jenv:\r\n\r\n    jenv add /Library/Java/JavaVirtualMachines/adoptopenjdk-11.jdk/Contents/Home \r\n    jenv add /Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home \r\n\r\nYou can see the available jvms in jenv:\r\n\r\n[![jenv_versions][2]][2]\r\n\r\n\r\nyou can set the default jvm with the command:\r\n\r\n    jenv global 1.8.0.121\r\n\r\nThen, execute sbt in some of your projects and you should see that jvm as the jvm that sbt is using.\r\n\r\n\r\n  [1]: http://%20https://www.jenv.be/\r\n  [2]: https://i.stack.imgur.com/2Fi5y.png","title":"How to set Java version for SBT","body":"<p>To handle your installed jvms you can use <a href=\"http://%20https://www.jenv.be/\" rel=\"nofollow noreferrer\">Jenv</a>.</p>\n<p>To install jenv:</p>\n<pre><code>git clone https://github.com/jenv/jenv.git ~/.jenv\necho 'export PATH=&quot;$HOME/.jenv/bin:$PATH&quot;' &gt;&gt; ~/.bash_profile\n\necho 'eval &quot;$(jenv init -)&quot;' &gt;&gt; ~/.bash_profile\n</code></pre>\n<p>Then, you can add your intalled jvms. In Mac, if you have installed them via <strong>brew</strong> you can find those in: <em><strong>/Library/Java/JavaVirtualMachines</strong></em>.</p>\n<p>Then add them to jenv:</p>\n<pre><code>jenv add /Library/Java/JavaVirtualMachines/adoptopenjdk-11.jdk/Contents/Home \njenv add /Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home \n</code></pre>\n<p>You can see the available jvms in jenv:</p>\n<p><a href=\"https://i.stack.imgur.com/2Fi5y.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2Fi5y.png\" alt=\"jenv_versions\" /></a></p>\n<p>you can set the default jvm with the command:</p>\n<pre><code>jenv global 1.8.0.121\n</code></pre>\n<p>Then, execute sbt in some of your projects and you should see that jvm as the jvm that sbt is using.</p>\n"},{"tags":[],"owner":{"account_id":13699571,"reputation":11,"user_id":9885189,"display_name":"donlja"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654181700,"creation_date":1654181288,"answer_id":72478161,"question_id":68209859,"body_markdown":"Another option which worked for me is to add the version of java you want to be used to the front of your terminal PATH environment variable. Since I used homebrew to install openjdk, I used the path they suggested resulting in the following path to use openjdk version 11.\r\n\r\n    export PATH=&quot;usr/local/opt/openjdk@11/bin:$PATH&quot;\r\n\r\nNote - the openjdk path I used I think is just the homebrew symlink to the actual java installation which is in /Library/Java/JavaVirtualMachines. You could probably just use that actual path but I didn&#39;t test it.","title":"How to set Java version for SBT","body":"<p>Another option which worked for me is to add the version of java you want to be used to the front of your terminal PATH environment variable. Since I used homebrew to install openjdk, I used the path they suggested resulting in the following path to use openjdk version 11.</p>\n<pre><code>export PATH=&quot;usr/local/opt/openjdk@11/bin:$PATH&quot;\n</code></pre>\n<p>Note - the openjdk path I used I think is just the homebrew symlink to the actual java installation which is in /Library/Java/JavaVirtualMachines. You could probably just use that actual path but I didn't test it.</p>\n"},{"tags":[],"owner":{"account_id":1733989,"reputation":31003,"user_id":1586965,"accept_rate":76,"display_name":"samthebest"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1686569945,"creation_date":1686569945,"answer_id":76456295,"question_id":68209859,"body_markdown":"The best way is to do this via the `build.sbt` file so then it&#39;s specific to just that project not your entire local environment.  I.e. add the following to `build.sbt`:\r\n\r\n```\r\n  javacOptions ++= Seq(&quot;-source&quot;, &quot;11&quot;, &quot;-target&quot;, &quot;11&quot;)\r\n```","title":"How to set Java version for SBT","body":"<p>The best way is to do this via the <code>build.sbt</code> file so then it's specific to just that project not your entire local environment.  I.e. add the following to <code>build.sbt</code>:</p>\n<pre><code>  javacOptions ++= Seq(&quot;-source&quot;, &quot;11&quot;, &quot;-target&quot;, &quot;11&quot;)\n</code></pre>\n"}],"owner":{"account_id":17069451,"reputation":367,"user_id":12350634,"display_name":"LondonMassive"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7680,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":4,"score":4,"last_activity_date":1686569945,"creation_date":1625141208,"question_id":68209859,"body_markdown":"I am trying to run a scala program, in which there are errors with Java 16. My colleague is using Java 15, and all is fine. When i type `java -version` in my terminal it says i am using Java 15. However, when i run `sbt run -v`, it says it is using Java 16, and thus the program throws errors.\r\n\r\nI am seeing people talk about this `sbt-extra` thing, but not a whole lot of explanation on how to use it. I do not even have Java 16 installed on my Mac, so I am really confused as to why SBT says this.","title":"How to set Java version for SBT","body":"<p>I am trying to run a scala program, in which there are errors with Java 16. My colleague is using Java 15, and all is fine. When i type <code>java -version</code> in my terminal it says i am using Java 15. However, when i run <code>sbt run -v</code>, it says it is using Java 16, and thus the program throws errors.</p>\n<p>I am seeing people talk about this <code>sbt-extra</code> thing, but not a whole lot of explanation on how to use it. I do not even have Java 16 installed on my Mac, so I am really confused as to why SBT says this.</p>\n"},{"tags":["java","murmurhash"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1686580088,"post_id":76455309,"comment_id":134814281,"body_markdown":"You could implement your own `Access`, but an efficient implementation is only possible with ASCII input, as this API assumes random access to the resulting byte sequence (and creating a UTF-8 representation beforehand would contradict the “zero-allocation” goal).","body":"You could implement your own <code>Access</code>, but an efficient implementation is only possible with ASCII input, as this API assumes random access to the resulting byte sequence (and creating a UTF-8 representation beforehand would contradict the “zero-allocation” goal)."}],"answers":[{"tags":[],"owner":{"account_id":22394789,"reputation":1382,"user_id":16606223,"display_name":"Yahor Barkouski"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1686563001,"creation_date":1686563001,"answer_id":76455392,"question_id":76455309,"body_markdown":"The size of a char and byte **[are different][1]** in Java: \r\n- `char` size is 16 bits, using the Unicode character set\r\n- `byte` actually respond to it&#39;s name, 8 bits long\r\n\r\nThis difference becomes crucial when we consider different characters:  considering a simple character like &#39;A&#39; - in Unicode, it&#39;s represented by the hexadecimal number 0x0041, so in our example:\r\n```java\r\nString input = &quot;A&quot;;\r\nbyte[] bytes = input.getBytes(StandardCharsets.UTF_8);\r\n\r\nSystem.out.println(LongHashFunction.murmur_3().hashChars(input));\r\nSystem.out.println(LongHashFunction.murmur_3().hashBytes(bytes));\r\n```\r\n`hashChars` is working with two bytes (0x00, 0x41), while `hashBytes` is working with one byte (0x41) -- this is why you will get different results.\r\n\r\nWhich function to use really depends on your requirements: if you&#39;re hashing strings and you wanna ignore the underlying encoding, use `hashChars()`. If you care about the specific byte representation, use hashBytes().\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html","title":"Zero-Allocation-Hashing murmur3: hashChars() and hashBytes() produce different output","body":"<p>The size of a char and byte <strong><a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html\" rel=\"nofollow noreferrer\">are different</a></strong> in Java:</p>\n<ul>\n<li><code>char</code> size is 16 bits, using the Unicode character set</li>\n<li><code>byte</code> actually respond to it's name, 8 bits long</li>\n</ul>\n<p>This difference becomes crucial when we consider different characters:  considering a simple character like 'A' - in Unicode, it's represented by the hexadecimal number 0x0041, so in our example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String input = &quot;A&quot;;\nbyte[] bytes = input.getBytes(StandardCharsets.UTF_8);\n\nSystem.out.println(LongHashFunction.murmur_3().hashChars(input));\nSystem.out.println(LongHashFunction.murmur_3().hashBytes(bytes));\n</code></pre>\n<p><code>hashChars</code> is working with two bytes (0x00, 0x41), while <code>hashBytes</code> is working with one byte (0x41) -- this is why you will get different results.</p>\n<p>Which function to use really depends on your requirements: if you're hashing strings and you wanna ignore the underlying encoding, use <code>hashChars()</code>. If you care about the specific byte representation, use hashBytes().</p>\n"},{"tags":[],"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1686569623,"creation_date":1686563369,"answer_id":76455447,"question_id":76455309,"body_markdown":"Your assumption regarding `UTF-8` is not correct, it holds for `StandardCharsets.UTF_16LE`.\r\n```lang-java\r\nString input = &quot;abc123&quot;;\r\n\r\nSystem.out.println(LongHashFunction.murmur_3().hashChars(input));\r\nSystem.out.println(LongHashFunction.murmur_3().hashBytes(\r\n  input.getBytes(StandardCharsets.UTF_16LE)\r\n));\r\n```\r\ngives:\r\n```lang-text\r\n-4878457159164508227\r\n-4878457159164508227\r\n```\r\n\r\n# Additional Answer\r\n\r\nFor the desired:\r\n```lang-java\r\nHashing.murmur3_128().newHasher().putString(input, Charsets.UTF_8).hash().asLong();\r\n```\r\nthis:\r\n\r\n```lang-java\r\nLongHashFunction.murmur_3().hashBytes(input.getBytes(StandardCharsets.UTF_8));\r\n``` \r\n\r\nseems to work (please test more!)\t\r\n\r\nThe (hex) string conversion is sort of a problem, since the guava hash creates (really) 128 bits (16 bytes, 2 longs), whereas &quot;your lib&quot; gives us only 64 bits!\r\n\r\n&lt;s&gt;Half of the digits i can reproduce with:\r\n...&lt;/s&gt;\r\n\r\n thx to:\r\n- https://stackoverflow.com/q/4485128/592355\r\n- https://github.com/google/guava/blob/master/guava/src/com/google/common/hash/HashCode.java#L412\r\n\r\n\r\n----------\r\n\r\n\r\nWith your help (sorry first time encounter this lib), I could finally:\r\n```lang-java\r\nSystem.out.println(&quot;Actual:   &quot; +\r\n    toHexString(\r\n        LongTupleHashFunction.murmur_3().hashBytes(\r\n            input.getBytes(StandardCharsets.UTF_8)\r\n        )\r\n    )\r\n);\r\n```\r\nwhere:\r\n```lang-java\r\nprivate static final String toHexString(long[] hashLongs) {\r\n\tStringBuilder sb = new StringBuilder(hashLongs.length * Long.BYTES * 2);\r\n\tfor (long lng : hashLongs)\r\n\t\tfor (int i = 0; i &lt; Long.BYTES; i++) {\r\n\t\t\tbyte b = (byte) (lng &gt;&gt; (i * Long.BYTES));\r\n\t\t\tsb.append(HEX_DIGITS[(b &gt;&gt; 4) &amp; 0xf]).append(HEX_DIGITS[b &amp; 0xf]);\r\n\t\t}\r\n\treturn sb.toString();\r\n}\r\n\r\nprivate static final char[] HEX_DIGITS = &quot;0123456789abcdef&quot;.toCharArray();\r\n```","title":"Zero-Allocation-Hashing murmur3: hashChars() and hashBytes() produce different output","body":"<p>Your assumption regarding <code>UTF-8</code> is not correct, it holds for <code>StandardCharsets.UTF_16LE</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String input = &quot;abc123&quot;;\n\nSystem.out.println(LongHashFunction.murmur_3().hashChars(input));\nSystem.out.println(LongHashFunction.murmur_3().hashBytes(\n  input.getBytes(StandardCharsets.UTF_16LE)\n));\n</code></pre>\n<p>gives:</p>\n<pre class=\"lang-text prettyprint-override\"><code>-4878457159164508227\n-4878457159164508227\n</code></pre>\n<h1>Additional Answer</h1>\n<p>For the desired:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Hashing.murmur3_128().newHasher().putString(input, Charsets.UTF_8).hash().asLong();\n</code></pre>\n<p>this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>LongHashFunction.murmur_3().hashBytes(input.getBytes(StandardCharsets.UTF_8));\n</code></pre>\n<p>seems to work (please test more!)</p>\n<p>The (hex) string conversion is sort of a problem, since the guava hash creates (really) 128 bits (16 bytes, 2 longs), whereas &quot;your lib&quot; gives us only 64 bits!</p>\n<p><s>Half of the digits i can reproduce with:\n...</s></p>\n<p>thx to:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/q/4485128/592355\">How do I convert Long to byte[] and back in java</a></li>\n<li><a href=\"https://github.com/google/guava/blob/master/guava/src/com/google/common/hash/HashCode.java#L412\" rel=\"nofollow noreferrer\">https://github.com/google/guava/blob/master/guava/src/com/google/common/hash/HashCode.java#L412</a></li>\n</ul>\n<hr />\n<p>With your help (sorry first time encounter this lib), I could finally:</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(&quot;Actual:   &quot; +\n    toHexString(\n        LongTupleHashFunction.murmur_3().hashBytes(\n            input.getBytes(StandardCharsets.UTF_8)\n        )\n    )\n);\n</code></pre>\n<p>where:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static final String toHexString(long[] hashLongs) {\n    StringBuilder sb = new StringBuilder(hashLongs.length * Long.BYTES * 2);\n    for (long lng : hashLongs)\n        for (int i = 0; i &lt; Long.BYTES; i++) {\n            byte b = (byte) (lng &gt;&gt; (i * Long.BYTES));\n            sb.append(HEX_DIGITS[(b &gt;&gt; 4) &amp; 0xf]).append(HEX_DIGITS[b &amp; 0xf]);\n        }\n    return sb.toString();\n}\n\nprivate static final char[] HEX_DIGITS = &quot;0123456789abcdef&quot;.toCharArray();\n</code></pre>\n"}],"owner":{"account_id":1891460,"reputation":2159,"user_id":1709417,"accept_rate":56,"display_name":"Nishant Kumar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76455447,"answer_count":2,"score":2,"last_activity_date":1686569623,"creation_date":1686562428,"question_id":76455309,"body_markdown":"I am not sure if I am using `murmur3` (**OpenHFT**&#39;s [zero-allocation-hashing][1]) function correctly but the result seems different for `hashChars()` and `hashBytes()`\r\n\r\n    // Using zero-allocation-hashing 0.16  \r\n    String input = &quot;abc123&quot;;\r\n    System.out.println(LongHashFunction.murmur_3().hashChars(input));\r\n    System.out.println(LongHashFunction.murmur_3().hashBytes(input.getBytes(StandardCharsets.UTF_8)));\r\n\r\n**Output:**\r\n\r\n    -4878457159164508227\r\n    -7432123028918728600\r\n\r\nThe latter one produces the same output as **Guava** lib.\r\n\r\nWhich function should be used for `String` inputs?\r\n\r\nShouldn&#39;t both functions produce the same result?\r\n\r\n\r\n  [1]: https://github.com/OpenHFT/Zero-Allocation-Hashing\r\n\r\n**Update:**\r\n\r\nHow can I get same output as :\r\n```\r\nHashing.murmur3_128().newHasher().putString(input, Charsets.UTF_8).hash().asLong();\r\nHashing.murmur3_128().newHasher().putString(input, Charsets.UTF_8).hash().toString()\r\n``` \r\nusing `zero-allocation-hashing` lib which seems to be faster than `Guava`","title":"Zero-Allocation-Hashing murmur3: hashChars() and hashBytes() produce different output","body":"<p>I am not sure if I am using <code>murmur3</code> (<strong>OpenHFT</strong>'s <a href=\"https://github.com/OpenHFT/Zero-Allocation-Hashing\" rel=\"nofollow noreferrer\">zero-allocation-hashing</a>) function correctly but the result seems different for <code>hashChars()</code> and <code>hashBytes()</code></p>\n<pre><code>// Using zero-allocation-hashing 0.16  \nString input = &quot;abc123&quot;;\nSystem.out.println(LongHashFunction.murmur_3().hashChars(input));\nSystem.out.println(LongHashFunction.murmur_3().hashBytes(input.getBytes(StandardCharsets.UTF_8)));\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>-4878457159164508227\n-7432123028918728600\n</code></pre>\n<p>The latter one produces the same output as <strong>Guava</strong> lib.</p>\n<p>Which function should be used for <code>String</code> inputs?</p>\n<p>Shouldn't both functions produce the same result?</p>\n<p><strong>Update:</strong></p>\n<p>How can I get same output as :</p>\n<pre><code>Hashing.murmur3_128().newHasher().putString(input, Charsets.UTF_8).hash().asLong();\nHashing.murmur3_128().newHasher().putString(input, Charsets.UTF_8).hash().toString()\n</code></pre>\n<p>using <code>zero-allocation-hashing</code> lib which seems to be faster than <code>Guava</code></p>\n"},{"tags":["java","android","react-native","android-gradle-plugin"],"answers":[{"tags":[],"owner":{"account_id":902651,"reputation":9980,"user_id":938363,"accept_rate":78,"display_name":"user938363"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1669614668,"creation_date":1669614668,"answer_id":74596486,"question_id":74525928,"body_markdown":"After brew install JDK 17 and choose JDK 17 for app in android studio-&gt;project structure. add JAVA_HOME pointing to JDK 17 to .zshrc (MacOS Monetary). `npx react-native run-android` launched successfully. ","title":"Could not open proj generic class cache for build file &amp; Unsupported class file major version 63","body":"<p>After brew install JDK 17 and choose JDK 17 for app in android studio-&gt;project structure. add JAVA_HOME pointing to JDK 17 to .zshrc (MacOS Monetary). <code>npx react-native run-android</code> launched successfully.</p>\n"}],"owner":{"account_id":902651,"reputation":9980,"user_id":938363,"accept_rate":78,"display_name":"user938363"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5039,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74596486,"answer_count":1,"score":0,"last_activity_date":1686569594,"creation_date":1669073404,"question_id":74525928,"body_markdown":"Without any change to android React Native 0.70/gradle 7.5.1/MacOS Monetary app, there throws an error when doing `npx react-native run-android`. Here is the error:\r\n\r\n\r\n    * What went wrong:\r\n    A problem occurred configuring root project &#39;xyz_app6&#39;.\r\n    &gt; Could not open proj generic class cache for build file &#39;/Users/macair/Documents/code/js/xyz_app6/android/build.gradle&#39; (/Users/macair/.gradle/caches/7.5.1/scripts/4fbdrhtkb1gqd0m7r89rbb30y).\r\n       &gt; BUG! exception in phase &#39;semantic analysis&#39; in source unit &#39;_BuildScript_&#39; Unsupported class file major version 63\r\n\r\nHere is the ls output under /Users/macair/:\r\n\r\n     0 drwxr-xr-x   10 macair  staff    320 Aug  4 01:19 .gradle\r\n\r\nThe error seems out of nowhere. Deleting `./gradle/7.5.1` didn&#39;t help. Before today, the Android version of the app was working fine and there is no change made to it. Also the IOS version of the app is working fine.  \r\n\r\nUPDATE:\r\n`/usr/libexec/java_home` output is:\r\n       \r\n    /opt/homebrew/Cellar/openjdk/19/libexec/openjdk.jdk/Contents/Home\r\n\r\n`java --version` output is:\r\n\r\n    openjdk 19 2022-09-20\r\n    OpenJDK Runtime Environment Homebrew (build 19)\r\n    OpenJDK 64-Bit Server VM Homebrew (build 19, mixed mode, sharing)\r\n\r\n","title":"Could not open proj generic class cache for build file &amp; Unsupported class file major version 63","body":"<p>Without any change to android React Native 0.70/gradle 7.5.1/MacOS Monetary app, there throws an error when doing <code>npx react-native run-android</code>. Here is the error:</p>\n<pre><code>* What went wrong:\nA problem occurred configuring root project 'xyz_app6'.\n&gt; Could not open proj generic class cache for build file '/Users/macair/Documents/code/js/xyz_app6/android/build.gradle' (/Users/macair/.gradle/caches/7.5.1/scripts/4fbdrhtkb1gqd0m7r89rbb30y).\n   &gt; BUG! exception in phase 'semantic analysis' in source unit '_BuildScript_' Unsupported class file major version 63\n</code></pre>\n<p>Here is the ls output under /Users/macair/:</p>\n<pre><code> 0 drwxr-xr-x   10 macair  staff    320 Aug  4 01:19 .gradle\n</code></pre>\n<p>The error seems out of nowhere. Deleting <code>./gradle/7.5.1</code> didn't help. Before today, the Android version of the app was working fine and there is no change made to it. Also the IOS version of the app is working fine.</p>\n<p>UPDATE:\n<code>/usr/libexec/java_home</code> output is:</p>\n<pre><code>/opt/homebrew/Cellar/openjdk/19/libexec/openjdk.jdk/Contents/Home\n</code></pre>\n<p><code>java --version</code> output is:</p>\n<pre><code>openjdk 19 2022-09-20\nOpenJDK Runtime Environment Homebrew (build 19)\nOpenJDK 64-Bit Server VM Homebrew (build 19, mixed mode, sharing)\n</code></pre>\n"},{"tags":["java","android","windows","android-studio"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1686596430,"post_id":76456226,"comment_id":134817741,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"owner":{"account_id":28804272,"reputation":1,"user_id":22060476,"display_name":"Mina Moto"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686569293,"creation_date":1686569293,"question_id":76456226,"body_markdown":"I made an application in android studio using java, I am using windows machine, I want to generate bootchart report,  i have an external device connected to the pc, can anybody help me, In windows or in Linux, how do i generate a bootchart report \r\n\r\nI tried to find on internet but couldn&#39;t, tried on chat gpt as well but the commands it told showed errors ","title":"Generate Bootchart report for application in external hardware connected to android studio in windowspc","body":"<p>I made an application in android studio using java, I am using windows machine, I want to generate bootchart report,  i have an external device connected to the pc, can anybody help me, In windows or in Linux, how do i generate a bootchart report</p>\n<p>I tried to find on internet but couldn't, tried on chat gpt as well but the commands it told showed errors</p>\n"},{"tags":["java","log4j2","open-telemetry","zipkin","distributed-tracing"],"answers":[{"tags":[],"owner":{"account_id":3528320,"reputation":301,"user_id":2948740,"display_name":"Gregor Zeitlinger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686569247,"creation_date":1686569247,"answer_id":76456217,"question_id":76437674,"body_markdown":"You can use the java agent to instrument your application.\r\n\r\nThe java agent supports log4j, including your use case:\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;Configuration status=&quot;WARN&quot; packages=&quot;io.opentelemetry.instrumentation.log4j.appender.v2_17&quot;&gt;\r\n  &lt;Appenders&gt;\r\n    &lt;Console name=&quot;Console&quot; target=&quot;SYSTEM_OUT&quot;&gt;\r\n      &lt;PatternLayout\r\n          pattern=&quot;%d{HH:mm:ss.SSS} [%t] %-5level %logger{36} trace_id: %X{trace_id} span_id: %X{span_id} trace_flags: %X{trace_flags} - %msg%n&quot;/&gt;\r\n    &lt;/Console&gt;\r\n    &lt;OpenTelemetry name=&quot;OpenTelemetryAppender&quot;/&gt;\r\n  &lt;/Appenders&gt;\r\n  &lt;Loggers&gt;\r\n    &lt;Root&gt;\r\n      &lt;AppenderRef ref=&quot;OpenTelemetryAppender&quot; level=&quot;All&quot;/&gt;\r\n      &lt;AppenderRef ref=&quot;Console&quot; level=&quot;All&quot;/&gt;\r\n    &lt;/Root&gt;\r\n  &lt;/Loggers&gt;\r\n&lt;/Configuration&gt;\r\n```\r\n\r\n- [java agent getting started](https://github.com/open-telemetry/opentelemetry-java-instrumentation#getting-started)\r\n- [log4j instrumentation](https://github.com/open-telemetry/opentelemetry-java-instrumentation/tree/main/instrumentation/log4j/log4j-appender-2.17/library)","title":"Distributed Tracing Using brave and Brave-context-log4j","body":"<p>You can use the java agent to instrument your application.</p>\n<p>The java agent supports log4j, including your use case:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;Configuration status=&quot;WARN&quot; packages=&quot;io.opentelemetry.instrumentation.log4j.appender.v2_17&quot;&gt;\n  &lt;Appenders&gt;\n    &lt;Console name=&quot;Console&quot; target=&quot;SYSTEM_OUT&quot;&gt;\n      &lt;PatternLayout\n          pattern=&quot;%d{HH:mm:ss.SSS} [%t] %-5level %logger{36} trace_id: %X{trace_id} span_id: %X{span_id} trace_flags: %X{trace_flags} - %msg%n&quot;/&gt;\n    &lt;/Console&gt;\n    &lt;OpenTelemetry name=&quot;OpenTelemetryAppender&quot;/&gt;\n  &lt;/Appenders&gt;\n  &lt;Loggers&gt;\n    &lt;Root&gt;\n      &lt;AppenderRef ref=&quot;OpenTelemetryAppender&quot; level=&quot;All&quot;/&gt;\n      &lt;AppenderRef ref=&quot;Console&quot; level=&quot;All&quot;/&gt;\n    &lt;/Root&gt;\n  &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n<ul>\n<li><a href=\"https://github.com/open-telemetry/opentelemetry-java-instrumentation#getting-started\" rel=\"nofollow noreferrer\">java agent getting started</a></li>\n<li><a href=\"https://github.com/open-telemetry/opentelemetry-java-instrumentation/tree/main/instrumentation/log4j/log4j-appender-2.17/library\" rel=\"nofollow noreferrer\">log4j instrumentation</a></li>\n</ul>\n"}],"owner":{"account_id":24524705,"reputation":1,"user_id":18437286,"display_name":"Sys32"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":318,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686569247,"creation_date":1686291397,"question_id":76437674,"body_markdown":"I have one legacy project which is using jetty,apache http client, log4j2. I want to implement distributed tracing and want to populate trace id and span id into the logs,since this is not a spring boot project I cannot use spring slueth which do all the heavy lifting and do auto intrumentation, I came across brave and brave-context-log4j, but I am not able to configure the brave with my project.\r\n\r\nI am referring this [https://github.com/openzipkin/brave/tree/master/context/log4j2](https://github.com/openzipkin/brave/tree/master/context/log4j2) but my logs are not populating with trace id and span id, is there any way to automatically instrument with brave or any other lib where i don&#39;t have to touch much code.\r\n","title":"Distributed Tracing Using brave and Brave-context-log4j","body":"<p>I have one legacy project which is using jetty,apache http client, log4j2. I want to implement distributed tracing and want to populate trace id and span id into the logs,since this is not a spring boot project I cannot use spring slueth which do all the heavy lifting and do auto intrumentation, I came across brave and brave-context-log4j, but I am not able to configure the brave with my project.</p>\n<p>I am referring this <a href=\"https://github.com/openzipkin/brave/tree/master/context/log4j2\" rel=\"nofollow noreferrer\">https://github.com/openzipkin/brave/tree/master/context/log4j2</a> but my logs are not populating with trace id and span id, is there any way to automatically instrument with brave or any other lib where i don't have to touch much code.</p>\n"},{"tags":["java","spring-boot","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1684109502,"post_id":76249584,"comment_id":134464194,"body_markdown":"Run your service in your IDE and step through the code as it executes to find out where the problem is.","body":"Run your service in your IDE and step through the code as it executes to find out where the problem is."},{"owner":{"account_id":10851618,"reputation":552,"user_id":7979194,"display_name":"Nam Nguyễn"},"score":0,"creation_date":1684126973,"post_id":76249584,"comment_id":134465477,"body_markdown":"I don&#39;t thing the UPD2 is ok. But let say you moved to Spring 3, java 17. using JpaRepository and you override findAll assume from JpaRepository that extend Paging. I hope you can test and show us the query and input of those call (You can . If it&#39;s happen, we got new bug to report on github. but you know what, I saw you are using mapping from BerserkCard to Model. We need it also","body":"I don&#39;t thing the UPD2 is ok. But let say you moved to Spring 3, java 17. using JpaRepository and you override findAll assume from JpaRepository that extend Paging. I hope you can test and show us the query and input of those call (You can . If it&#39;s happen, we got new bug to report on github. but you know what, I saw you are using mapping from BerserkCard to Model. We need it also"},{"owner":{"account_id":28601133,"reputation":11,"user_id":21898079,"display_name":"Baneslayer55"},"score":0,"creation_date":1684135376,"post_id":76249584,"comment_id":134466697,"body_markdown":"@NamNguyễn i tested different cases and added logs(logging response and request) in UPD3 of my post. Mapper no matter in this cases because repository return wrong result.\n Today i will trying to find reason inside jpa.","body":"@NamNguyễn i tested different cases and added logs(logging response and request) in UPD3 of my post. Mapper no matter in this cases because repository return wrong result.  Today i will trying to find reason inside jpa."},{"owner":{"account_id":28601133,"reputation":11,"user_id":21898079,"display_name":"Baneslayer55"},"score":0,"creation_date":1684135547,"post_id":76249584,"comment_id":134466740,"body_markdown":"@Bohemian it looks i need to debug Hibernated libraries rather than my code, bcs flow in my code very simple. I think it may be hibernate or jpa bug and i really want  to know what is it","body":"@Bohemian it looks i need to debug Hibernated libraries rather than my code, bcs flow in my code very simple. I think it may be hibernate or jpa bug and i really want  to know what is it"},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1684138065,"post_id":76249584,"comment_id":134467245,"body_markdown":"`LEFT JOIN` is causing the issue in your case.","body":"<code>LEFT JOIN</code> is causing the issue in your case."},{"owner":{"account_id":28601133,"reputation":11,"user_id":21898079,"display_name":"Baneslayer55"},"score":0,"creation_date":1684138268,"post_id":76249584,"comment_id":134467287,"body_markdown":"@Antoniossss for page 1 and 4 also uses left join which return correct result","body":"@Antoniossss for page 1 and 4 also uses left join which return correct result"},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1684138314,"post_id":76249584,"comment_id":134467298,"body_markdown":"But that depends on the actual results - in your case presence or absence of  matchigg `elements`","body":"But that depends on the actual results - in your case presence or absence of  matchigg <code>elements</code>"},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1684138351,"post_id":76249584,"comment_id":134467304,"body_markdown":"What  you want, is to be able to limit/offset entity agregate, what you actually get is limt and offset of raw SLQ result set - this is quite common issue tbh. You can try using `@OneToMany` instead `@ElementCollection` with eager fetching instead of entity graph. Maybe in such case framework will correctly do the aggregation including proper count.","body":"What  you want, is to be able to limit/offset entity agregate, what you actually get is limt and offset of raw SLQ result set - this is quite common issue tbh. You can try using <code>@OneToMany</code> instead <code>@ElementCollection</code> with eager fetching instead of entity graph. Maybe in such case framework will correctly do the aggregation including proper count."},{"owner":{"account_id":28601133,"reputation":11,"user_id":21898079,"display_name":"Baneslayer55"},"score":0,"creation_date":1684142546,"post_id":76249584,"comment_id":134468151,"body_markdown":"@Antoniossss \nCount  does not depend on `elements` because there are no joins in count query.\nAlso i what to understand, why 2 and 3 magic numbers?) for page 1 and 4...up to end... all ok, generates correct sql-s and returns correct results. Why for other pages hibernate generate count query, bur for page 2 and 3 not","body":"@Antoniossss  Count  does not depend on <code>elements</code> because there are no joins in count query. Also i what to understand, why 2 and 3 magic numbers?) for page 1 and 4...up to end... all ok, generates correct sql-s and returns correct results. Why for other pages hibernate generate count query, bur for page 2 and 3 not"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1684161440,"post_id":76249584,"comment_id":134472553,"body_markdown":"Spring must have an issue with counting as it seems to think there are 1 less result for those pages then there should be, so is assuming this is the last page possible and so doesn&#39;t need to count to check how many are actually there. If those pages really have 12 results back, this is a Spring problem, not JPA or hibernate; the page size says there are 12 results returned, but give you a total count of 23 and 35 respectively which doesn&#39;t add up. If debugging, you should just go into spring Pageable handling, not into Hibernate itself.","body":"Spring must have an issue with counting as it seems to think there are 1 less result for those pages then there should be, so is assuming this is the last page possible and so doesn&#39;t need to count to check how many are actually there. If those pages really have 12 results back, this is a Spring problem, not JPA or hibernate; the page size says there are 12 results returned, but give you a total count of 23 and 35 respectively which doesn&#39;t add up. If debugging, you should just go into spring Pageable handling, not into Hibernate itself."}],"answers":[{"tags":[],"owner":{"account_id":28601133,"reputation":11,"user_id":21898079,"display_name":"Baneslayer55"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1684325642,"creation_date":1684248670,"answer_id":76264431,"question_id":76249584,"body_markdown":"Problem in eager collection `elements`.\r\nIf we see at sql in logs\r\n```\r\nHibernate: \r\n    select\r\n        b1_0.id,\r\n        b1_0.attack,\r\n        b1_0.cost,\r\n        e1_0.card_id,\r\n        e1_0.element,\r\n        b1_0.health,\r\n        b1_0.name,\r\n        b1_0.number,\r\n        b1_0.painter,\r\n        b1_0.rarity,\r\n        b1_0.set,\r\n        b1_0.subtype,\r\n        b1_0.text,\r\n        b1_0.type \r\n    from\r\n        berserk_cards b1_0 \r\n    left join\r\n        berserk_card_elements e1_0 \r\n            on b1_0.id=e1_0.card_id offset ? rows fetch first ? rows only\r\n```\r\n\r\nWe found that we skip ? rows and fetch ? rows. If there are two or more elements card has, we will found less unique entities in result set. \r\n\r\nFor example, in resultSet we have one card with two elements, and other with 1 elements. It means in resultSet we have 11 unique entities. \r\n\r\nWhen spring parse resultSet to entities it found, that there are 11 entities it found meanwhile page size is 12. Spring saw that founded count of entities less than page size and it thinks that it&#39;s last page and don&#39;t call count query.","title":"Wrong number of total pages in returned Page","body":"<p>Problem in eager collection <code>elements</code>.\nIf we see at sql in logs</p>\n<pre><code>Hibernate: \n    select\n        b1_0.id,\n        b1_0.attack,\n        b1_0.cost,\n        e1_0.card_id,\n        e1_0.element,\n        b1_0.health,\n        b1_0.name,\n        b1_0.number,\n        b1_0.painter,\n        b1_0.rarity,\n        b1_0.set,\n        b1_0.subtype,\n        b1_0.text,\n        b1_0.type \n    from\n        berserk_cards b1_0 \n    left join\n        berserk_card_elements e1_0 \n            on b1_0.id=e1_0.card_id offset ? rows fetch first ? rows only\n</code></pre>\n<p>We found that we skip ? rows and fetch ? rows. If there are two or more elements card has, we will found less unique entities in result set.</p>\n<p>For example, in resultSet we have one card with two elements, and other with 1 elements. It means in resultSet we have 11 unique entities.</p>\n<p>When spring parse resultSet to entities it found, that there are 11 entities it found meanwhile page size is 12. Spring saw that founded count of entities less than page size and it thinks that it's last page and don't call count query.</p>\n"}],"owner":{"account_id":28601133,"reputation":11,"user_id":21898079,"display_name":"Baneslayer55"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":442,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76264431,"answer_count":1,"score":1,"last_activity_date":1686569046,"creation_date":1684096753,"question_id":76249584,"body_markdown":"Spring boot starter parent 3.0.6\r\n\r\nI have a controller that accepts get params and pageable for searching cards for trading card game:\r\n\r\n```    \r\n@RestController\r\n@RequestMapping(&quot;/api/cards&quot;)\r\n@RequiredArgsConstructor\r\npublic class CardsController {\r\n\r\n    private final BerserkHeroesCardService cardService;\r\n\r\n    @GetMapping\r\n    @ResponseBody\r\n    public Page&lt;BerserkCardModel&gt; getCards(CardSearchRequest searchRequest, Pageable pageable) {\r\n        return cardService.getCards(searchRequest, pageable);\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\ncalling `http://.../api/cards?page=1&amp;size=12` I get correct result:\r\n\r\n```\r\n... \r\n&quot;last&quot;: false, \r\n&quot;totalPages&quot;: 228, \r\n&quot;totalElements&quot;: 2726, \r\n&quot;size&quot;: 12, \r\n...\r\n```\r\n\r\ncalling `http://.../api/cards?page=2&amp;size=12` I got not expected and incorrect result\r\n\r\n\r\n```\r\n...  \r\n&quot;last&quot;: true,  \r\n&quot;totalPages&quot;: 2,  \r\n&quot;totalElements&quot;: 23,  \r\n&quot;size&quot;: 12, \r\n...\r\n```\r\n\r\ncalling `http://.../api/cards?page=3&amp;size=12` I got also incorrect result that differ previous\r\n\r\n```\r\n...  \r\n&quot;last&quot;: true,  \r\n&quot;totalPages&quot;: 3,  \r\n&quot;totalElements&quot;: 35,  \r\n&quot;size&quot;: 12, \r\n...\r\n```\r\n\r\ncalling `http://.../api/cards?page=4&amp;size=12` again return correct result\r\n\r\n```\r\n...  \r\n&quot;last&quot;: false,  \r\n&quot;totalPages&quot;: 228,  \r\n&quot;totalElements&quot;: 2726,  \r\n&quot;size&quot;: 12, \r\n...\r\n```\r\n\r\nMy serviece method\r\n\r\n```   \r\n@Override     \r\npublic Page&lt;BerserkCardModel&gt; getCards(CardSearchRequest request, Pageable pageable) {\r\n    Specification&lt;BerserkCard&gt; spec = Specification.where(null); // mocked for debug         \r\n    Page&lt;BerserkCard&gt; all = berserkCardRepo.findAll(spec, pageable); // findAll returned page incorrect  \r\n                                                                     //result for page 2 and 3         \r\n    return all.map(mapper::toModel);     \r\n}\r\n```\r\n\r\nI&#39;im trying to find info about similar bugs but nothing found. Other same services works well.\r\n\r\n\r\nUPD\r\n\r\nI experimented with my jpa repository and commented `@EntityGraph` annotation\r\nand page request now return correct result regardless of page number.\r\n\r\n```\r\npublic interface BerserkCardRepo extends JpaRepository&lt;BerserkCard, Long&gt;, JpaSpecificationExecutor&lt;BerserkCard&gt; {\r\n   @Override\r\n    //@EntityGraph(attributePaths = {&quot;elements&quot;})\r\n    Page&lt;BerserkCard&gt; findAll(@Nullable Specification&lt;BerserkCard&gt; spec, Pageable pageable);\r\n\r\n}\r\n```\r\n\r\nUPD2\r\n\r\nalso I&#39;m noticed that for 2 and 3 pages hibernate didn&#39;t generate count query. For each other page hibernate does it.\r\n\r\nUPD3\r\n\r\nI added logging sql when entity graph enabled.\r\n\r\nservice:\r\n\r\n```\r\n    @Override\r\n    public Page&lt;BerserkCardModel&gt; getCards(CardSearchRequest request, Pageable pageable) {\r\n        log.info(String.format(&quot;Accept pageable. Page %d, size %d&quot;, pageable.getPageNumber(), pageable.getPageSize()));\r\n        Specification&lt;BerserkCard&gt; spec = Specification.where(null);\r\n        Page&lt;BerserkCard&gt; all = berserkCardRepo\r\n                .findAll(spec, pageable);\r\n        log.info(String.format(&quot;Found %d elements, total pages: %d&quot;, all.getTotalElements(), all.getTotalPages()));\r\n        return all\r\n                .map(mapper::toModel);\r\n    }\r\n```\r\n\r\nRepo:\r\n\r\n```\r\npublic interface BerserkCardRepo extends JpaRepository&lt;BerserkCard, Long&gt;, JpaSpecificationExecutor&lt;BerserkCard&gt; {\r\n    @Override\r\n    @EntityGraph(attributePaths = {&quot;elements&quot;})\r\n    Page&lt;BerserkCard&gt; findAll(@Nullable Specification&lt;BerserkCard&gt; spec, Pageable pageable);\r\n\r\n}\r\n\r\n```\r\n\r\nEntity:\r\n\r\n```\r\n@Data\r\n@Entity\r\n@Table(name = &quot;berserk_cards&quot;)\r\npublic class BerserkCard {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    private String set;\r\n    private String name;\r\n    private Integer cost;\r\n\r\n    @ElementCollection\r\n    @CollectionTable(name = &quot;berserk_card_elements&quot;, joinColumns = @JoinColumn(name = &quot;card_id&quot;))\r\n    @Column(name = &quot;element&quot;)\r\n    private Set&lt;String&gt; elements = new HashSet&lt;&gt;();\r\n\r\n    private String type;\r\n    private String subtype;\r\n    private Integer attack;\r\n    private Integer health;\r\n    private String rarity;\r\n    private String text;\r\n    private String painter;\r\n    private Integer number;\r\n}\r\n\r\n```\r\n\r\nIt&#39;s ok, that page in url start has value = 1, and in logs = 0 because i have configured one-indexed-parameters: true.\r\n\r\nCalling `http://.../api/cards?page=1&amp;size=12`\r\n\r\n```\r\n2023-05-15T10:06:51.411+03:00  INFO 21056 --- [nio-9999-exec-1] r.b.c.i.h.s.BerserkHeroesCardServiceImpl : Accept pageable. Page 0, size 12\r\nHibernate: \r\n    select\r\n        b1_0.id,\r\n        b1_0.attack,\r\n        b1_0.cost,\r\n        e1_0.card_id,\r\n        e1_0.element,\r\n        b1_0.health,\r\n        b1_0.name,\r\n        b1_0.number,\r\n        b1_0.painter,\r\n        b1_0.rarity,\r\n        b1_0.set,\r\n        b1_0.subtype,\r\n        b1_0.text,\r\n        b1_0.type \r\n    from\r\n        berserk_cards b1_0 \r\n    left join\r\n        berserk_card_elements e1_0 \r\n            on b1_0.id=e1_0.card_id offset ? rows fetch first ? rows only\r\nHibernate: \r\n    select\r\n        count(b1_0.id) \r\n    from\r\n        berserk_cards b1_0\r\n2023-05-15T10:06:51.472+03:00  INFO 21056 --- [nio-9999-exec-1] r.b.c.i.h.s.BerserkHeroesCardServiceImpl : Found 2726 elements, total pages: 228\r\n```\r\n\r\nCalling `http://.../api/cards?page=2&amp;size=12`\r\n\r\n```\r\n2023-05-15T10:06:53.277+03:00  INFO 21056 --- [nio-9999-exec-5] r.b.c.i.h.s.BerserkHeroesCardServiceImpl : Accept pageable. Page 1, size 12\r\nHibernate: \r\n    select\r\n        b1_0.id,\r\n        b1_0.attack,\r\n        b1_0.cost,\r\n        e1_0.card_id,\r\n        e1_0.element,\r\n        b1_0.health,\r\n        b1_0.name,\r\n        b1_0.number,\r\n        b1_0.painter,\r\n        b1_0.rarity,\r\n        b1_0.set,\r\n        b1_0.subtype,\r\n        b1_0.text,\r\n        b1_0.type \r\n    from\r\n        berserk_cards b1_0 \r\n    left join\r\n        berserk_card_elements e1_0 \r\n            on b1_0.id=e1_0.card_id offset ? rows fetch first ? rows only\r\n2023-05-15T10:06:53.300+03:00  INFO 21056 --- [nio-9999-exec-5] r.b.c.i.h.s.BerserkHeroesCardServiceImpl : Found 23 elements, total pages: 2\r\n```\r\n\r\nCalling `http://.../api/cards?page=3&amp;size=12`\r\n\r\n```\r\n2023-05-15T10:06:54.272+03:00  INFO 21056 --- [nio-9999-exec-2] r.b.c.i.h.s.BerserkHeroesCardServiceImpl : Accept pageable. Page 2, size 12\r\nHibernate: \r\n    select\r\n        b1_0.id,\r\n        b1_0.attack,\r\n        b1_0.cost,\r\n        e1_0.card_id,\r\n        e1_0.element,\r\n        b1_0.health,\r\n        b1_0.name,\r\n        b1_0.number,\r\n        b1_0.painter,\r\n        b1_0.rarity,\r\n        b1_0.set,\r\n        b1_0.subtype,\r\n        b1_0.text,\r\n        b1_0.type \r\n    from\r\n        berserk_cards b1_0 \r\n    left join\r\n        berserk_card_elements e1_0 \r\n            on b1_0.id=e1_0.card_id offset ? rows fetch first ? rows only\r\n2023-05-15T10:06:54.299+03:00  INFO 21056 --- [nio-9999-exec-2] r.b.c.i.h.s.BerserkHeroesCardServiceImpl : Found 35 elements, total pages: 3\r\n```\r\n\r\nCalling `http://.../api/cards?page=4&amp;size=12`\r\n\r\n```\r\n2023-05-15T10:06:55.521+03:00  INFO 21056 --- [nio-9999-exec-9] r.b.c.i.h.s.BerserkHeroesCardServiceImpl : Accept pageable. Page 3, size 12\r\nHibernate: \r\n    select\r\n        b1_0.id,\r\n        b1_0.attack,\r\n        b1_0.cost,\r\n        e1_0.card_id,\r\n        e1_0.element,\r\n        b1_0.health,\r\n        b1_0.name,\r\n        b1_0.number,\r\n        b1_0.painter,\r\n        b1_0.rarity,\r\n        b1_0.set,\r\n        b1_0.subtype,\r\n        b1_0.text,\r\n        b1_0.type \r\n    from\r\n        berserk_cards b1_0 \r\n    left join\r\n        berserk_card_elements e1_0 \r\n            on b1_0.id=e1_0.card_id offset ? rows fetch first ? rows only\r\nHibernate: \r\n    select\r\n        count(b1_0.id) \r\n    from\r\n        berserk_cards b1_0\r\n2023-05-15T10:06:55.561+03:00  INFO 21056 --- [nio-9999-exec-9] r.b.c.i.h.s.BerserkHeroesCardServiceImpl : Found 2726 elements, total pages: 228\r\n```\r\n\r\nand now i commented entity graph annotation\r\n\r\n```\r\npublic interface BerserkCardRepo extends JpaRepository&lt;BerserkCard, Long&gt;, JpaSpecificationExecutor&lt;BerserkCard&gt; {\r\n\r\n    @Override\r\n    //@EntityGraph(attributePaths = {&quot;elements&quot;})\r\n    Page&lt;BerserkCard&gt; findAll(@Nullable Specification&lt;BerserkCard&gt; spec, Pageable pageable);\r\n\r\n}\r\n```\r\n\r\nCalling `http://.../api/cards?page=1&amp;size=12`\r\n\r\n```\r\n2023-05-15T10:14:26.704+03:00  INFO 4036 --- [nio-9999-exec-4] r.b.c.i.h.s.BerserkHeroesCardServiceImpl : Accept pageable. Page 0, size 12\r\nHibernate: \r\n    select\r\n        b1_0.id,\r\n        b1_0.attack,\r\n        b1_0.cost,\r\n        b1_0.health,\r\n        b1_0.name,\r\n        b1_0.number,\r\n        b1_0.painter,\r\n        b1_0.rarity,\r\n        b1_0.set,\r\n        b1_0.subtype,\r\n        b1_0.text,\r\n        b1_0.type \r\n    from\r\n        berserk_cards b1_0 offset ? rows fetch first ? rows only\r\nHibernate: \r\n    select\r\n        count(b1_0.id) \r\n    from\r\n        berserk_cards b1_0\r\n2023-05-15T10:14:26.742+03:00  INFO 4036 --- [nio-9999-exec-4] r.b.c.i.h.s.BerserkHeroesCardServiceImpl : Found 2726 elements, total pages: 228\r\n```\r\n\r\nCalling `http://.../api/cards?page=2&amp;size=12`\r\n\r\n```\r\n2023-05-15T10:15:47.211+03:00  INFO 4036 --- [nio-9999-exec-3] r.b.c.i.h.s.BerserkHeroesCardServiceImpl : Accept pageable. Page 1, size 12\r\nHibernate: \r\n    select\r\n        b1_0.id,\r\n        b1_0.attack,\r\n        b1_0.cost,\r\n        b1_0.health,\r\n        b1_0.name,\r\n        b1_0.number,\r\n        b1_0.painter,\r\n        b1_0.rarity,\r\n        b1_0.set,\r\n        b1_0.subtype,\r\n        b1_0.text,\r\n        b1_0.type \r\n    from\r\n        berserk_cards b1_0 offset ? rows fetch first ? rows only\r\nHibernate: \r\n    select\r\n        count(b1_0.id) \r\n    from\r\n        berserk_cards b1_0\r\n2023-05-15T10:15:47.250+03:00  INFO 4036 --- [nio-9999-exec-3] r.b.c.i.h.s.BerserkHeroesCardServiceImpl : Found 2726 elements, total pages: 228\r\n```\r\n\r\nCalling `http://.../api/cards?page=3&amp;size=12`(the same for all other pages)\r\n\r\n```\r\n2023-05-15T10:17:03.992+03:00  INFO 4036 --- [io-9999-exec-10] r.b.c.i.h.s.BerserkHeroesCardServiceImpl : Accept pageable. Page 2, size 12\r\nHibernate: \r\n    select\r\n        b1_0.id,\r\n        b1_0.attack,\r\n        b1_0.cost,\r\n        b1_0.health,\r\n        b1_0.name,\r\n        b1_0.number,\r\n        b1_0.painter,\r\n        b1_0.rarity,\r\n        b1_0.set,\r\n        b1_0.subtype,\r\n        b1_0.text,\r\n        b1_0.type \r\n    from\r\n        berserk_cards b1_0 offset ? rows fetch first ? rows only\r\nHibernate: \r\n    select\r\n        count(b1_0.id) \r\n    from\r\n        berserk_cards b1_0\r\n2023-05-15T10:17:04.029+03:00  INFO 4036 --- [io-9999-exec-10] r.b.c.i.h.s.BerserkHeroesCardServiceImpl : Found 2726 elements, total pages: 228\r\n```\r\n\r\nAs You can see, the differ in logs between wrong response and correct response is count query, which is not generated in incorrect response case.\r\n\r\nAny have idea why is this happening?","title":"Wrong number of total pages in returned Page","body":"<p>Spring boot starter parent 3.0.6</p>\n<p>I have a controller that accepts get params and pageable for searching cards for trading card game:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/api/cards&quot;)\n@RequiredArgsConstructor\npublic class CardsController {\n\n    private final BerserkHeroesCardService cardService;\n\n    @GetMapping\n    @ResponseBody\n    public Page&lt;BerserkCardModel&gt; getCards(CardSearchRequest searchRequest, Pageable pageable) {\n        return cardService.getCards(searchRequest, pageable);\n    }\n}\n</code></pre>\n<p>calling <code>http://.../api/cards?page=1&amp;size=12</code> I get correct result:</p>\n<pre><code>... \n&quot;last&quot;: false, \n&quot;totalPages&quot;: 228, \n&quot;totalElements&quot;: 2726, \n&quot;size&quot;: 12, \n...\n</code></pre>\n<p>calling <code>http://.../api/cards?page=2&amp;size=12</code> I got not expected and incorrect result</p>\n<pre><code>...  \n&quot;last&quot;: true,  \n&quot;totalPages&quot;: 2,  \n&quot;totalElements&quot;: 23,  \n&quot;size&quot;: 12, \n...\n</code></pre>\n<p>calling <code>http://.../api/cards?page=3&amp;size=12</code> I got also incorrect result that differ previous</p>\n<pre><code>...  \n&quot;last&quot;: true,  \n&quot;totalPages&quot;: 3,  \n&quot;totalElements&quot;: 35,  \n&quot;size&quot;: 12, \n...\n</code></pre>\n<p>calling <code>http://.../api/cards?page=4&amp;size=12</code> again return correct result</p>\n<pre><code>...  \n&quot;last&quot;: false,  \n&quot;totalPages&quot;: 228,  \n&quot;totalElements&quot;: 2726,  \n&quot;size&quot;: 12, \n...\n</code></pre>\n<p>My serviece method</p>\n<pre><code>@Override     \npublic Page&lt;BerserkCardModel&gt; getCards(CardSearchRequest request, Pageable pageable) {\n    Specification&lt;BerserkCard&gt; spec = Specification.where(null); // mocked for debug         \n    Page&lt;BerserkCard&gt; all = berserkCardRepo.findAll(spec, pageable); // findAll returned page incorrect  \n                                                                     //result for page 2 and 3         \n    return all.map(mapper::toModel);     \n}\n</code></pre>\n<p>I'im trying to find info about similar bugs but nothing found. Other same services works well.</p>\n<p>UPD</p>\n<p>I experimented with my jpa repository and commented <code>@EntityGraph</code> annotation\nand page request now return correct result regardless of page number.</p>\n<pre><code>public interface BerserkCardRepo extends JpaRepository&lt;BerserkCard, Long&gt;, JpaSpecificationExecutor&lt;BerserkCard&gt; {\n   @Override\n    //@EntityGraph(attributePaths = {&quot;elements&quot;})\n    Page&lt;BerserkCard&gt; findAll(@Nullable Specification&lt;BerserkCard&gt; spec, Pageable pageable);\n\n}\n</code></pre>\n<p>UPD2</p>\n<p>also I'm noticed that for 2 and 3 pages hibernate didn't generate count query. For each other page hibernate does it.</p>\n<p>UPD3</p>\n<p>I added logging sql when entity graph enabled.</p>\n<p>service:</p>\n<pre><code>    @Override\n    public Page&lt;BerserkCardModel&gt; getCards(CardSearchRequest request, Pageable pageable) {\n        log.info(String.format(&quot;Accept pageable. Page %d, size %d&quot;, pageable.getPageNumber(), pageable.getPageSize()));\n        Specification&lt;BerserkCard&gt; spec = Specification.where(null);\n        Page&lt;BerserkCard&gt; all = berserkCardRepo\n                .findAll(spec, pageable);\n        log.info(String.format(&quot;Found %d elements, total pages: %d&quot;, all.getTotalElements(), all.getTotalPages()));\n        return all\n                .map(mapper::toModel);\n    }\n</code></pre>\n<p>Repo:</p>\n<pre><code>public interface BerserkCardRepo extends JpaRepository&lt;BerserkCard, Long&gt;, JpaSpecificationExecutor&lt;BerserkCard&gt; {\n    @Override\n    @EntityGraph(attributePaths = {&quot;elements&quot;})\n    Page&lt;BerserkCard&gt; findAll(@Nullable Specification&lt;BerserkCard&gt; spec, Pageable pageable);\n\n}\n\n</code></pre>\n<p>Entity:</p>\n<pre><code>@Data\n@Entity\n@Table(name = &quot;berserk_cards&quot;)\npublic class BerserkCard {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    private String set;\n    private String name;\n    private Integer cost;\n\n    @ElementCollection\n    @CollectionTable(name = &quot;berserk_card_elements&quot;, joinColumns = @JoinColumn(name = &quot;card_id&quot;))\n    @Column(name = &quot;element&quot;)\n    private Set&lt;String&gt; elements = new HashSet&lt;&gt;();\n\n    private String type;\n    private String subtype;\n    private Integer attack;\n    private Integer health;\n    private String rarity;\n    private String text;\n    private String painter;\n    private Integer number;\n}\n\n</code></pre>\n<p>It's ok, that page in url start has value = 1, and in logs = 0 because i have configured one-indexed-parameters: true.</p>\n<p>Calling <code>http://.../api/cards?page=1&amp;size=12</code></p>\n<pre><code>2023-05-15T10:06:51.411+03:00  INFO 21056 --- [nio-9999-exec-1] r.b.c.i.h.s.BerserkHeroesCardServiceImpl : Accept pageable. Page 0, size 12\nHibernate: \n    select\n        b1_0.id,\n        b1_0.attack,\n        b1_0.cost,\n        e1_0.card_id,\n        e1_0.element,\n        b1_0.health,\n        b1_0.name,\n        b1_0.number,\n        b1_0.painter,\n        b1_0.rarity,\n        b1_0.set,\n        b1_0.subtype,\n        b1_0.text,\n        b1_0.type \n    from\n        berserk_cards b1_0 \n    left join\n        berserk_card_elements e1_0 \n            on b1_0.id=e1_0.card_id offset ? rows fetch first ? rows only\nHibernate: \n    select\n        count(b1_0.id) \n    from\n        berserk_cards b1_0\n2023-05-15T10:06:51.472+03:00  INFO 21056 --- [nio-9999-exec-1] r.b.c.i.h.s.BerserkHeroesCardServiceImpl : Found 2726 elements, total pages: 228\n</code></pre>\n<p>Calling <code>http://.../api/cards?page=2&amp;size=12</code></p>\n<pre><code>2023-05-15T10:06:53.277+03:00  INFO 21056 --- [nio-9999-exec-5] r.b.c.i.h.s.BerserkHeroesCardServiceImpl : Accept pageable. Page 1, size 12\nHibernate: \n    select\n        b1_0.id,\n        b1_0.attack,\n        b1_0.cost,\n        e1_0.card_id,\n        e1_0.element,\n        b1_0.health,\n        b1_0.name,\n        b1_0.number,\n        b1_0.painter,\n        b1_0.rarity,\n        b1_0.set,\n        b1_0.subtype,\n        b1_0.text,\n        b1_0.type \n    from\n        berserk_cards b1_0 \n    left join\n        berserk_card_elements e1_0 \n            on b1_0.id=e1_0.card_id offset ? rows fetch first ? rows only\n2023-05-15T10:06:53.300+03:00  INFO 21056 --- [nio-9999-exec-5] r.b.c.i.h.s.BerserkHeroesCardServiceImpl : Found 23 elements, total pages: 2\n</code></pre>\n<p>Calling <code>http://.../api/cards?page=3&amp;size=12</code></p>\n<pre><code>2023-05-15T10:06:54.272+03:00  INFO 21056 --- [nio-9999-exec-2] r.b.c.i.h.s.BerserkHeroesCardServiceImpl : Accept pageable. Page 2, size 12\nHibernate: \n    select\n        b1_0.id,\n        b1_0.attack,\n        b1_0.cost,\n        e1_0.card_id,\n        e1_0.element,\n        b1_0.health,\n        b1_0.name,\n        b1_0.number,\n        b1_0.painter,\n        b1_0.rarity,\n        b1_0.set,\n        b1_0.subtype,\n        b1_0.text,\n        b1_0.type \n    from\n        berserk_cards b1_0 \n    left join\n        berserk_card_elements e1_0 \n            on b1_0.id=e1_0.card_id offset ? rows fetch first ? rows only\n2023-05-15T10:06:54.299+03:00  INFO 21056 --- [nio-9999-exec-2] r.b.c.i.h.s.BerserkHeroesCardServiceImpl : Found 35 elements, total pages: 3\n</code></pre>\n<p>Calling <code>http://.../api/cards?page=4&amp;size=12</code></p>\n<pre><code>2023-05-15T10:06:55.521+03:00  INFO 21056 --- [nio-9999-exec-9] r.b.c.i.h.s.BerserkHeroesCardServiceImpl : Accept pageable. Page 3, size 12\nHibernate: \n    select\n        b1_0.id,\n        b1_0.attack,\n        b1_0.cost,\n        e1_0.card_id,\n        e1_0.element,\n        b1_0.health,\n        b1_0.name,\n        b1_0.number,\n        b1_0.painter,\n        b1_0.rarity,\n        b1_0.set,\n        b1_0.subtype,\n        b1_0.text,\n        b1_0.type \n    from\n        berserk_cards b1_0 \n    left join\n        berserk_card_elements e1_0 \n            on b1_0.id=e1_0.card_id offset ? rows fetch first ? rows only\nHibernate: \n    select\n        count(b1_0.id) \n    from\n        berserk_cards b1_0\n2023-05-15T10:06:55.561+03:00  INFO 21056 --- [nio-9999-exec-9] r.b.c.i.h.s.BerserkHeroesCardServiceImpl : Found 2726 elements, total pages: 228\n</code></pre>\n<p>and now i commented entity graph annotation</p>\n<pre><code>public interface BerserkCardRepo extends JpaRepository&lt;BerserkCard, Long&gt;, JpaSpecificationExecutor&lt;BerserkCard&gt; {\n\n    @Override\n    //@EntityGraph(attributePaths = {&quot;elements&quot;})\n    Page&lt;BerserkCard&gt; findAll(@Nullable Specification&lt;BerserkCard&gt; spec, Pageable pageable);\n\n}\n</code></pre>\n<p>Calling <code>http://.../api/cards?page=1&amp;size=12</code></p>\n<pre><code>2023-05-15T10:14:26.704+03:00  INFO 4036 --- [nio-9999-exec-4] r.b.c.i.h.s.BerserkHeroesCardServiceImpl : Accept pageable. Page 0, size 12\nHibernate: \n    select\n        b1_0.id,\n        b1_0.attack,\n        b1_0.cost,\n        b1_0.health,\n        b1_0.name,\n        b1_0.number,\n        b1_0.painter,\n        b1_0.rarity,\n        b1_0.set,\n        b1_0.subtype,\n        b1_0.text,\n        b1_0.type \n    from\n        berserk_cards b1_0 offset ? rows fetch first ? rows only\nHibernate: \n    select\n        count(b1_0.id) \n    from\n        berserk_cards b1_0\n2023-05-15T10:14:26.742+03:00  INFO 4036 --- [nio-9999-exec-4] r.b.c.i.h.s.BerserkHeroesCardServiceImpl : Found 2726 elements, total pages: 228\n</code></pre>\n<p>Calling <code>http://.../api/cards?page=2&amp;size=12</code></p>\n<pre><code>2023-05-15T10:15:47.211+03:00  INFO 4036 --- [nio-9999-exec-3] r.b.c.i.h.s.BerserkHeroesCardServiceImpl : Accept pageable. Page 1, size 12\nHibernate: \n    select\n        b1_0.id,\n        b1_0.attack,\n        b1_0.cost,\n        b1_0.health,\n        b1_0.name,\n        b1_0.number,\n        b1_0.painter,\n        b1_0.rarity,\n        b1_0.set,\n        b1_0.subtype,\n        b1_0.text,\n        b1_0.type \n    from\n        berserk_cards b1_0 offset ? rows fetch first ? rows only\nHibernate: \n    select\n        count(b1_0.id) \n    from\n        berserk_cards b1_0\n2023-05-15T10:15:47.250+03:00  INFO 4036 --- [nio-9999-exec-3] r.b.c.i.h.s.BerserkHeroesCardServiceImpl : Found 2726 elements, total pages: 228\n</code></pre>\n<p>Calling <code>http://.../api/cards?page=3&amp;size=12</code>(the same for all other pages)</p>\n<pre><code>2023-05-15T10:17:03.992+03:00  INFO 4036 --- [io-9999-exec-10] r.b.c.i.h.s.BerserkHeroesCardServiceImpl : Accept pageable. Page 2, size 12\nHibernate: \n    select\n        b1_0.id,\n        b1_0.attack,\n        b1_0.cost,\n        b1_0.health,\n        b1_0.name,\n        b1_0.number,\n        b1_0.painter,\n        b1_0.rarity,\n        b1_0.set,\n        b1_0.subtype,\n        b1_0.text,\n        b1_0.type \n    from\n        berserk_cards b1_0 offset ? rows fetch first ? rows only\nHibernate: \n    select\n        count(b1_0.id) \n    from\n        berserk_cards b1_0\n2023-05-15T10:17:04.029+03:00  INFO 4036 --- [io-9999-exec-10] r.b.c.i.h.s.BerserkHeroesCardServiceImpl : Found 2726 elements, total pages: 228\n</code></pre>\n<p>As You can see, the differ in logs between wrong response and correct response is count query, which is not generated in incorrect response case.</p>\n<p>Any have idea why is this happening?</p>\n"},{"tags":["java","android","java-native-interface"],"comments":[{"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"score":0,"creation_date":1686065799,"post_id":76410955,"comment_id":134746710,"body_markdown":"You cannot. The Android runtime environment does not know about java class files.","body":"You cannot. The Android runtime environment does not know about java class files."}],"answers":[{"tags":[],"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1686567559,"creation_date":1686567559,"answer_id":76455987,"question_id":76410955,"body_markdown":"This is fundamentally impossible.\r\nThe compilation process for Android applications turns Java .class files into a format called &quot;DEX&quot;, which is baked into the APK.\r\n\r\nThere is no runtime functionality for loading additional DEX files.","title":"Android JNI DefineClass Equivelent (Loading Classes)","body":"<p>This is fundamentally impossible.\nThe compilation process for Android applications turns Java .class files into a format called &quot;DEX&quot;, which is baked into the APK.</p>\n<p>There is no runtime functionality for loading additional DEX files.</p>\n"}],"owner":{"account_id":3471187,"reputation":743,"user_id":2926815,"accept_rate":83,"display_name":"Charles Lohr"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76455987,"answer_count":1,"score":0,"last_activity_date":1686567559,"creation_date":1686016377,"question_id":76410955,"body_markdown":"I am in JNI code, and I have a `.class` file, which I want to dynamically load and use as a `jclass`.  This is normally done by calling `env-&gt;DefineClass(...)` but that appears to be removed in the Android JNI, as it prompts me with:\r\n```\r\nJNI DefineClass is not supported\r\n```\r\n\r\nWhich makes sense based on the implementation: https://android.googlesource.com/platform/art/+/master/runtime/jni/jni_internal.cc#665\r\n\r\nI don&#39;t see anything online discussing how to actually get this functionality from the JNI, though.  What mechanism can I use to dynamically load Java classes from the JNI?","title":"Android JNI DefineClass Equivelent (Loading Classes)","body":"<p>I am in JNI code, and I have a <code>.class</code> file, which I want to dynamically load and use as a <code>jclass</code>.  This is normally done by calling <code>env-&gt;DefineClass(...)</code> but that appears to be removed in the Android JNI, as it prompts me with:</p>\n<pre><code>JNI DefineClass is not supported\n</code></pre>\n<p>Which makes sense based on the implementation: <a href=\"https://android.googlesource.com/platform/art/+/master/runtime/jni/jni_internal.cc#665\" rel=\"nofollow noreferrer\">https://android.googlesource.com/platform/art/+/master/runtime/jni/jni_internal.cc#665</a></p>\n<p>I don't see anything online discussing how to actually get this functionality from the JNI, though.  What mechanism can I use to dynamically load Java classes from the JNI?</p>\n"},{"tags":["java","rrule"],"owner":{"account_id":22217791,"reputation":11,"user_id":16455959,"display_name":"despoina.k"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686567346,"creation_date":1686567346,"question_id":76455958,"body_markdown":"I want to get recurring events using Rrule that occurs let&#39;s say every Sunday from 3 July until 17 July from 8:00 until 15:00  and lasts 7 hours. So I want the following result:\r\n9 July 08:00 - 15:00\r\n16 July 08:00 - 15:00\r\n\r\nHow can I achieve this? \r\n\r\n\r\nI tried the following rule for achieving that:\r\n```\r\nnew RRule({\r\n  freq: RRule.HOURLY,\r\n  dtstart: new Date(Date.UTC(2023, 6, 3, 8, 0, 0)),\r\n  until: new Date(Date.UTC(2023, 6, 17, 15, 0, 0)),\r\n  interval: 7,\r\n  wkst: RRule.SU,\r\n  byweekday: RRule.SU\r\n})\r\n\r\nrule.toString(): \t\r\n\r\nDTSTART:20230703T080000Z\r\nRRULE:FREQ=HOURLY;UNTIL=20230717T150000Z;INTERVAL=7;WKST=SU;BYDAY=SU\r\n```\r\n\r\nand I got the following:\r\n\r\n1\tSun, \t09 \tJul \t2023 \t04:00:00 \tGMT\r\n2\tSun, \t09 \tJul \t2023 \t11:00:00 \tGMT\r\n3\tSun, \t09 \tJul \t2023 \t18:00:00 \tGMT\r\n4\tSun, \t16 \tJul \t2023 \t04:00:00 \tGMT\r\n5\tSun, \t16 \tJul \t2023 \t11:00:00 \tGMT\r\n6\tSun, \t16 \tJul \t2023 \t18:00:00 \tGMT\r\n\r\nwhich is not what I want.\r\n\r\n","title":"Rrule generates wrong timeslots when setting specific days and hours in a time range","body":"<p>I want to get recurring events using Rrule that occurs let's say every Sunday from 3 July until 17 July from 8:00 until 15:00  and lasts 7 hours. So I want the following result:\n9 July 08:00 - 15:00\n16 July 08:00 - 15:00</p>\n<p>How can I achieve this?</p>\n<p>I tried the following rule for achieving that:</p>\n<pre><code>new RRule({\n  freq: RRule.HOURLY,\n  dtstart: new Date(Date.UTC(2023, 6, 3, 8, 0, 0)),\n  until: new Date(Date.UTC(2023, 6, 17, 15, 0, 0)),\n  interval: 7,\n  wkst: RRule.SU,\n  byweekday: RRule.SU\n})\n\nrule.toString():    \n\nDTSTART:20230703T080000Z\nRRULE:FREQ=HOURLY;UNTIL=20230717T150000Z;INTERVAL=7;WKST=SU;BYDAY=SU\n</code></pre>\n<p>and I got the following:</p>\n<p>1   Sun,    09  Jul     2023    04:00:00    GMT\n2   Sun,    09  Jul     2023    11:00:00    GMT\n3   Sun,    09  Jul     2023    18:00:00    GMT\n4   Sun,    16  Jul     2023    04:00:00    GMT\n5   Sun,    16  Jul     2023    11:00:00    GMT\n6   Sun,    16  Jul     2023    18:00:00    GMT</p>\n<p>which is not what I want.</p>\n"},{"tags":["java","eclipse","tomcat","birt","birt-emitter"],"comments":[{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1686507501,"post_id":76450116,"comment_id":134804590,"body_markdown":"Was there more in the server&#39;s log? Not everything is shown to the client.","body":"Was there more in the server&#39;s log? Not everything is shown to the client."}],"owner":{"account_id":17827322,"reputation":11,"user_id":18521350,"display_name":"Shehzad Muhammad Yousuf"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686566583,"creation_date":1686480263,"question_id":76450116,"body_markdown":"Rocky Linux 8.8\r\nTomcat server 9\r\nViewer Version: 4.13.0\r\nEngine Version: 4.13.0\r\nJRE version: 11.0.19\r\n\r\nI have received data from the MIS dept provided data of birt reporting which was handled by below configuration\r\n\r\nCentos 6\r\nTomcat server 7\r\nViewer Version: 2.5.1\r\nEngine Version: 2.5.1\r\njava-1.8.0-openjdk.x86_64\r\n\r\nHome page is displaying fine but view example link shows this error.\r\n\r\n```console\r\nFatal error occurred when try to startup report engine.\r\norg.eclipse.birt.report.exception.ViewerException: Fatal error occurred when try to startup report engine.\r\nat org.eclipse.birt.report.service.ReportEngineService.setEngineContext(ReportEngineService.java:328)\r\nat org.eclipse.birt.report.service.BirtViewerReportService.setContext(BirtViewerReportService.java:1022)\r\nat org.eclipse.birt.report.servlet.ViewerServlet.__getContext(ViewerServlet.java:148)\r\nat org.eclipse.birt.report.servlet.BirtSoapMessageDispatcherServlet.doGet(BirtSoapMessageDispatcherServlet.java:151)\r\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:529)\r\nat org.apache.axis.transport.http.AxisServletBase.service(AxisServletBase.java:327)\r\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:623)\r\nat org.eclipse.birt.report.servlet.BirtSoapMessageDispatcherServlet.service(BirtSoapMessageDispatcherServlet.java:122)\r\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)\r\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\r\nat org.eclipse.birt.report.filter.ViewerFilter.doFilter(ViewerFilter.java:68)\r\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)\r\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\r\nat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\r\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)\r\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\r\nat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\r\nat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\r\nat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)\r\nat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)\r\nat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\r\nat org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:673)\r\nat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\r\nat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\r\nat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)\r\nat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\r\nat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)\r\nat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)\r\nat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\r\nat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\nat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\nat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\nat java.base/java.lang.Thread.run(Thread.java:829)\r\n```\r\ndoes this old configuration will not work with my new server\r\n\r\nThanks.\r\n\r\nthis is a server log of my system\r\n```none\r\n12-Jun-2023 09:14:09.041 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Server version name:   Apache Tomcat/9.0.76\r\n12-Jun-2023 09:14:09.065 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Server built:          Jun 5 2023 07:17:04 UTC\r\n12-Jun-2023 09:14:09.066 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Server version number: 9.0.76.0\r\n12-Jun-2023 09:14:09.066 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log OS Name:               Linux\r\n12-Jun-2023 09:14:09.067 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log OS Version:            4.18.0-477.10.1.el8_8.x86_64\r\n12-Jun-2023 09:14:09.067 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Architecture:          amd64\r\n12-Jun-2023 09:14:09.068 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Java Home:             /usr/lib/jvm/java-11-openjdk-11.0.19.0.7-4.el8.x86_64\r\n12-Jun-2023 09:14:09.084 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log JVM Version:           11.0.19+7-LTS\r\n12-Jun-2023 09:14:09.084 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log JVM Vendor:            Red Hat, Inc.\r\n12-Jun-2023 09:14:09.085 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log CATALINA_BASE:         /opt/tomcat\r\n12-Jun-2023 09:14:09.085 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log CATALINA_HOME:         /opt/tomcat\r\n12-Jun-2023 09:14:09.233 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: --add-opens=java.base/java.lang=ALL-UNNAMED\r\n12-Jun-2023 09:14:09.234 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: --add-opens=java.base/java.io=ALL-UNNAMED\r\n12-Jun-2023 09:14:09.234 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: --add-opens=java.base/java.util=ALL-UNNAMED\r\n12-Jun-2023 09:14:09.235 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: --add-opens=java.base/java.util.concurrent=ALL-UNNAMED\r\n12-Jun-2023 09:14:09.235 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: --add-opens=java.rmi/sun.rmi.transport=ALL-UNNAMED\r\n12-Jun-2023 09:14:09.236 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.util.logging.config.file=/opt/tomcat/conf/logging.properties\r\n12-Jun-2023 09:14:09.236 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager\r\n12-Jun-2023 09:14:09.236 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.security.egd=file:///dev/urandom\r\n12-Jun-2023 09:14:09.237 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djdk.tls.ephemeralDHKeySize=2048\r\n12-Jun-2023 09:14:09.237 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.protocol.handler.pkgs=org.apache.catalina.webresources\r\n12-Jun-2023 09:14:09.237 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dorg.apache.catalina.security.SecurityListener.UMASK=0027\r\n12-Jun-2023 09:14:09.238 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Xms512M\r\n12-Jun-2023 09:14:09.238 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Xmx1024M\r\n12-Jun-2023 09:14:09.238 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -XX:+UseParallelGC\r\n12-Jun-2023 09:14:09.239 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dignore.endorsed.dirs=\r\n12-Jun-2023 09:14:09.239 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcatalina.base=/opt/tomcat\r\n12-Jun-2023 09:14:09.239 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcatalina.home=/opt/tomcat\r\n12-Jun-2023 09:14:09.240 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.io.tmpdir=/opt/tomcat/temp\r\n12-Jun-2023 09:14:09.251 INFO [main] org.apache.catalina.core.AprLifecycleListener.lifecycleEvent The Apache Tomcat Native library which allows using OpenSSL was not found on the java.library.path: [/usr/java/packages/lib:/usr/lib64:/lib64:/lib:/usr/lib]\r\n12-Jun-2023 09:14:11.743 INFO [main] org.apache.coyote.AbstractProtocol.init Initializing ProtocolHandler [&quot;http-nio-8080&quot;]\r\n12-Jun-2023 09:14:11.981 INFO [main] org.apache.catalina.startup.Catalina.load Server initialization in [5005] milliseconds\r\n12-Jun-2023 09:14:12.606 INFO [main] org.apache.catalina.core.StandardService.startInternal Starting service [Catalina]\r\n12-Jun-2023 09:14:12.606 INFO [main] org.apache.catalina.core.StandardEngine.startInternal Starting Servlet engine: [Apache Tomcat/9.0.76]\r\n12-Jun-2023 09:14:12.732 INFO [main] org.apache.catalina.startup.HostConfig.deployWAR Deploying web application archive [/opt/tomcat/webapps/birt.war]\r\n12-Jun-2023 09:14:49.169 INFO [main] org.apache.jasper.servlet.TldScanner.scanJars At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\r\n12-Jun-2023 09:14:54.099 INFO [main] org.apache.catalina.startup.HostConfig.deployWAR Deployment of web application archive [/opt/tomcat/webapps/birt.war] has finished in [40,689] ms\r\n12-Jun-2023 09:14:54.101 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deploying web application directory [/opt/tomcat/webapps/docs]\r\n12-Jun-2023 09:14:54.184 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deployment of web application directory [/opt/tomcat/webapps/docs] has finished in [82] ms\r\n12-Jun-2023 09:14:54.184 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deploying web application directory [/opt/tomcat/webapps/manager]\r\n12-Jun-2023 09:14:54.322 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deployment of web application directory [/opt/tomcat/webapps/manager] has finished in [138] ms\r\n12-Jun-2023 09:14:54.323 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deploying web application directory [/opt/tomcat/webapps/ROOT]\r\n12-Jun-2023 09:14:54.371 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deployment of web application directory [/opt/tomcat/webapps/ROOT] has finished in [47] ms\r\n12-Jun-2023 09:14:54.372 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deploying web application directory [/opt/tomcat/webapps/examples]\r\n12-Jun-2023 09:14:54.912 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deployment of web application directory [/opt/tomcat/webapps/examples] has finished in [539] ms\r\n12-Jun-2023 09:14:54.913 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deploying web application directory [/opt/tomcat/webapps/host-manager]\r\n12-Jun-2023 09:14:54.990 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deployment of web application directory [/opt/tomcat/webapps/host-manager] has finished in [77] ms\r\n12-Jun-2023 09:14:54.991 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deploying web application directory [/opt/tomcat/webapps/ReportEngine]\r\n12-Jun-2023 09:14:55.046 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deployment of web application directory [/opt/tomcat/webapps/ReportEngine] has finished in [55] ms\r\n12-Jun-2023 09:14:55.046 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deploying web application directory [/opt/tomcat/webapps/WebViewerExample]\r\n12-Jun-2023 09:15:10.945 INFO [main] org.apache.jasper.servlet.TldScanner.scanJars At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\r\n12-Jun-2023 09:15:11.534 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deployment of web application directory [/opt/tomcat/webapps/WebViewerExample] has finished in [16,487] ms\r\n12-Jun-2023 09:15:11.534 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deploying web application directory [/opt/tomcat/webapps/about_files]\r\n12-Jun-2023 09:15:11.570 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deployment of web application directory [/opt/tomcat/webapps/about_files] has finished in [35] ms\r\n12-Jun-2023 09:15:11.571 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deploying web application directory [/opt/tomcat/webapps/mis]\r\n12-Jun-2023 09:15:11.611 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deployment of web application directory [/opt/tomcat/webapps/mis] has finished in [41] ms\r\n12-Jun-2023 09:15:11.612 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deploying web application directory [/opt/tomcat/webapps/bank]\r\n12-Jun-2023 09:15:13.560 INFO [main] java.util.ArrayList.forEach Name = MySqlDB Ignoring unknown property: value of &quot;Resource reference to a factory for java.sql.Connection&quot; for &quot;description&quot; property\r\n12-Jun-2023 09:15:14.165 INFO [main] org.apache.jasper.servlet.TldScanner.scanJars At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\r\n12-Jun-2023 09:15:15.756 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deployment of web application directory [/opt/tomcat/webapps/bank] has finished in [4,143] ms\r\n12-Jun-2023 09:15:15.775 INFO [main] org.apache.coyote.AbstractProtocol.start Starting ProtocolHandler [&quot;http-nio-8080&quot;]\r\n12-Jun-2023 09:15:15.855 INFO [main] org.apache.catalina.startup.Catalina.start Server startup in [63873] milliseconds\r\n12-Jun-2023 09:24:46.052 INFO [http-nio-8080-exec-9] org.apache.axis.configuration.FileProvider.check Configuration file read-only so engine configuration changes will not be saved.\r\n12-Jun-2023 09:24:46.226 WARNING [http-nio-8080-exec-9] org.apache.axis.utils.JavaUtils.isAttachmentSupported Unable to find required classes (javax.activation.DataHandler and javax.mail.internet.MimeMultipart). Attachment support is disabled.\r\n```\r\n","title":"Fatal error occurred when try to startup report engine in birt Viewer Version: 2.5.1","body":"<p>Rocky Linux 8.8\nTomcat server 9\nViewer Version: 4.13.0\nEngine Version: 4.13.0\nJRE version: 11.0.19</p>\n<p>I have received data from the MIS dept provided data of birt reporting which was handled by below configuration</p>\n<p>Centos 6\nTomcat server 7\nViewer Version: 2.5.1\nEngine Version: 2.5.1\njava-1.8.0-openjdk.x86_64</p>\n<p>Home page is displaying fine but view example link shows this error.</p>\n<pre><code>Fatal error occurred when try to startup report engine.\norg.eclipse.birt.report.exception.ViewerException: Fatal error occurred when try to startup report engine.\nat org.eclipse.birt.report.service.ReportEngineService.setEngineContext(ReportEngineService.java:328)\nat org.eclipse.birt.report.service.BirtViewerReportService.setContext(BirtViewerReportService.java:1022)\nat org.eclipse.birt.report.servlet.ViewerServlet.__getContext(ViewerServlet.java:148)\nat org.eclipse.birt.report.servlet.BirtSoapMessageDispatcherServlet.doGet(BirtSoapMessageDispatcherServlet.java:151)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:529)\nat org.apache.axis.transport.http.AxisServletBase.service(AxisServletBase.java:327)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:623)\nat org.eclipse.birt.report.servlet.BirtSoapMessageDispatcherServlet.service(BirtSoapMessageDispatcherServlet.java:122)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\nat org.eclipse.birt.report.filter.ViewerFilter.doFilter(ViewerFilter.java:68)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\nat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\nat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\nat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\nat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)\nat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)\nat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\nat org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:673)\nat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\nat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\nat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)\nat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\nat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)\nat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)\nat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\nat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\nat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\nat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\nat java.base/java.lang.Thread.run(Thread.java:829)\n</code></pre>\n<p>does this old configuration will not work with my new server</p>\n<p>Thanks.</p>\n<p>this is a server log of my system</p>\n<pre class=\"lang-none prettyprint-override\"><code>12-Jun-2023 09:14:09.041 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Server version name:   Apache Tomcat/9.0.76\n12-Jun-2023 09:14:09.065 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Server built:          Jun 5 2023 07:17:04 UTC\n12-Jun-2023 09:14:09.066 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Server version number: 9.0.76.0\n12-Jun-2023 09:14:09.066 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log OS Name:               Linux\n12-Jun-2023 09:14:09.067 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log OS Version:            4.18.0-477.10.1.el8_8.x86_64\n12-Jun-2023 09:14:09.067 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Architecture:          amd64\n12-Jun-2023 09:14:09.068 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Java Home:             /usr/lib/jvm/java-11-openjdk-11.0.19.0.7-4.el8.x86_64\n12-Jun-2023 09:14:09.084 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log JVM Version:           11.0.19+7-LTS\n12-Jun-2023 09:14:09.084 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log JVM Vendor:            Red Hat, Inc.\n12-Jun-2023 09:14:09.085 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log CATALINA_BASE:         /opt/tomcat\n12-Jun-2023 09:14:09.085 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log CATALINA_HOME:         /opt/tomcat\n12-Jun-2023 09:14:09.233 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: --add-opens=java.base/java.lang=ALL-UNNAMED\n12-Jun-2023 09:14:09.234 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: --add-opens=java.base/java.io=ALL-UNNAMED\n12-Jun-2023 09:14:09.234 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: --add-opens=java.base/java.util=ALL-UNNAMED\n12-Jun-2023 09:14:09.235 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: --add-opens=java.base/java.util.concurrent=ALL-UNNAMED\n12-Jun-2023 09:14:09.235 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: --add-opens=java.rmi/sun.rmi.transport=ALL-UNNAMED\n12-Jun-2023 09:14:09.236 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.util.logging.config.file=/opt/tomcat/conf/logging.properties\n12-Jun-2023 09:14:09.236 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager\n12-Jun-2023 09:14:09.236 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.security.egd=file:///dev/urandom\n12-Jun-2023 09:14:09.237 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djdk.tls.ephemeralDHKeySize=2048\n12-Jun-2023 09:14:09.237 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.protocol.handler.pkgs=org.apache.catalina.webresources\n12-Jun-2023 09:14:09.237 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dorg.apache.catalina.security.SecurityListener.UMASK=0027\n12-Jun-2023 09:14:09.238 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Xms512M\n12-Jun-2023 09:14:09.238 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Xmx1024M\n12-Jun-2023 09:14:09.238 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -XX:+UseParallelGC\n12-Jun-2023 09:14:09.239 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dignore.endorsed.dirs=\n12-Jun-2023 09:14:09.239 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcatalina.base=/opt/tomcat\n12-Jun-2023 09:14:09.239 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcatalina.home=/opt/tomcat\n12-Jun-2023 09:14:09.240 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.io.tmpdir=/opt/tomcat/temp\n12-Jun-2023 09:14:09.251 INFO [main] org.apache.catalina.core.AprLifecycleListener.lifecycleEvent The Apache Tomcat Native library which allows using OpenSSL was not found on the java.library.path: [/usr/java/packages/lib:/usr/lib64:/lib64:/lib:/usr/lib]\n12-Jun-2023 09:14:11.743 INFO [main] org.apache.coyote.AbstractProtocol.init Initializing ProtocolHandler [&quot;http-nio-8080&quot;]\n12-Jun-2023 09:14:11.981 INFO [main] org.apache.catalina.startup.Catalina.load Server initialization in [5005] milliseconds\n12-Jun-2023 09:14:12.606 INFO [main] org.apache.catalina.core.StandardService.startInternal Starting service [Catalina]\n12-Jun-2023 09:14:12.606 INFO [main] org.apache.catalina.core.StandardEngine.startInternal Starting Servlet engine: [Apache Tomcat/9.0.76]\n12-Jun-2023 09:14:12.732 INFO [main] org.apache.catalina.startup.HostConfig.deployWAR Deploying web application archive [/opt/tomcat/webapps/birt.war]\n12-Jun-2023 09:14:49.169 INFO [main] org.apache.jasper.servlet.TldScanner.scanJars At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\n12-Jun-2023 09:14:54.099 INFO [main] org.apache.catalina.startup.HostConfig.deployWAR Deployment of web application archive [/opt/tomcat/webapps/birt.war] has finished in [40,689] ms\n12-Jun-2023 09:14:54.101 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deploying web application directory [/opt/tomcat/webapps/docs]\n12-Jun-2023 09:14:54.184 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deployment of web application directory [/opt/tomcat/webapps/docs] has finished in [82] ms\n12-Jun-2023 09:14:54.184 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deploying web application directory [/opt/tomcat/webapps/manager]\n12-Jun-2023 09:14:54.322 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deployment of web application directory [/opt/tomcat/webapps/manager] has finished in [138] ms\n12-Jun-2023 09:14:54.323 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deploying web application directory [/opt/tomcat/webapps/ROOT]\n12-Jun-2023 09:14:54.371 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deployment of web application directory [/opt/tomcat/webapps/ROOT] has finished in [47] ms\n12-Jun-2023 09:14:54.372 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deploying web application directory [/opt/tomcat/webapps/examples]\n12-Jun-2023 09:14:54.912 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deployment of web application directory [/opt/tomcat/webapps/examples] has finished in [539] ms\n12-Jun-2023 09:14:54.913 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deploying web application directory [/opt/tomcat/webapps/host-manager]\n12-Jun-2023 09:14:54.990 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deployment of web application directory [/opt/tomcat/webapps/host-manager] has finished in [77] ms\n12-Jun-2023 09:14:54.991 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deploying web application directory [/opt/tomcat/webapps/ReportEngine]\n12-Jun-2023 09:14:55.046 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deployment of web application directory [/opt/tomcat/webapps/ReportEngine] has finished in [55] ms\n12-Jun-2023 09:14:55.046 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deploying web application directory [/opt/tomcat/webapps/WebViewerExample]\n12-Jun-2023 09:15:10.945 INFO [main] org.apache.jasper.servlet.TldScanner.scanJars At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\n12-Jun-2023 09:15:11.534 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deployment of web application directory [/opt/tomcat/webapps/WebViewerExample] has finished in [16,487] ms\n12-Jun-2023 09:15:11.534 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deploying web application directory [/opt/tomcat/webapps/about_files]\n12-Jun-2023 09:15:11.570 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deployment of web application directory [/opt/tomcat/webapps/about_files] has finished in [35] ms\n12-Jun-2023 09:15:11.571 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deploying web application directory [/opt/tomcat/webapps/mis]\n12-Jun-2023 09:15:11.611 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deployment of web application directory [/opt/tomcat/webapps/mis] has finished in [41] ms\n12-Jun-2023 09:15:11.612 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deploying web application directory [/opt/tomcat/webapps/bank]\n12-Jun-2023 09:15:13.560 INFO [main] java.util.ArrayList.forEach Name = MySqlDB Ignoring unknown property: value of &quot;Resource reference to a factory for java.sql.Connection&quot; for &quot;description&quot; property\n12-Jun-2023 09:15:14.165 INFO [main] org.apache.jasper.servlet.TldScanner.scanJars At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\n12-Jun-2023 09:15:15.756 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deployment of web application directory [/opt/tomcat/webapps/bank] has finished in [4,143] ms\n12-Jun-2023 09:15:15.775 INFO [main] org.apache.coyote.AbstractProtocol.start Starting ProtocolHandler [&quot;http-nio-8080&quot;]\n12-Jun-2023 09:15:15.855 INFO [main] org.apache.catalina.startup.Catalina.start Server startup in [63873] milliseconds\n12-Jun-2023 09:24:46.052 INFO [http-nio-8080-exec-9] org.apache.axis.configuration.FileProvider.check Configuration file read-only so engine configuration changes will not be saved.\n12-Jun-2023 09:24:46.226 WARNING [http-nio-8080-exec-9] org.apache.axis.utils.JavaUtils.isAttachmentSupported Unable to find required classes (javax.activation.DataHandler and javax.mail.internet.MimeMultipart). Attachment support is disabled.\n</code></pre>\n"},{"tags":["java","gradle","groovy","build.gradle"],"comments":[{"owner":{"account_id":4358,"reputation":168410,"user_id":6509,"display_name":"tim_yates"},"score":1,"creation_date":1686423598,"post_id":76447645,"comment_id":134797776,"body_markdown":"The outputs being up to date is only part of the calculation as to whether a task is up to date. See https://github.com/gradle/gradle/issues/2467#issuecomment-315184626","body":"The outputs being up to date is only part of the calculation as to whether a task is up to date. See <a href=\"https://github.com/gradle/gradle/issues/2467#issuecomment-315184626\" rel=\"nofollow noreferrer\">github.com/gradle/gradle/issues/2467#issuecomment-315184626</a>"},{"owner":{"account_id":17933035,"reputation":255,"user_id":13029949,"display_name":"Saimuga"},"score":0,"creation_date":1686530802,"post_id":76447645,"comment_id":134806541,"body_markdown":"Hi Tim,\nThanks for the link and explanation ....  Please make it as an answer so that I can mark it :)","body":"Hi Tim, Thanks for the link and explanation ....  Please make it as an answer so that I can mark it :)"},{"owner":{"account_id":4358,"reputation":168410,"user_id":6509,"display_name":"tim_yates"},"score":1,"creation_date":1686566229,"post_id":76447645,"comment_id":134811107,"body_markdown":"Done thanks &#128513;&#128077;","body":"Done thanks 😁👍"}],"answers":[{"tags":[],"owner":{"account_id":4358,"reputation":168410,"user_id":6509,"display_name":"tim_yates"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1686566216,"creation_date":1686566216,"answer_id":76455812,"question_id":76447645,"body_markdown":"The outputs being up to date is only part of the calculation as to whether a task is up to date. See https://github.com/gradle/gradle/issues/2467#issuecomment-315184626\r\n\r\n&gt; `outputs.upToDateWhen { true }` doesn&#39;t mean &quot;the task is up-to-date.&quot;\r\n&gt; It just means that the outputs are up-to-date for that particular\r\n&gt; spec. Gradle will still do its own up-to-date checks.\r\n&gt; \r\n&gt; The other thing that may be confusing is where the task&#39;s actions are\r\n&gt; defined. If the actions are defined in the build script, the build\r\n&gt; script itself is an input to the task. So changes to the build script\r\n&gt; will make the task out-of-date.\r\n&gt; \r\n&gt; So if I had a task like:\r\n&gt; \r\n&gt; ```\r\n&gt; task myTask {\r\n&gt;     def outputFile = file(&quot;output.txt&quot;)\r\n&gt;     outputs.file outputFile\r\n&gt;     doLast {\r\n&gt;         outputFile.text = &quot;Done&quot;\r\n&gt;     }\r\n&gt; \r\n&gt;     outputs.upToDateWhen { false }\r\n&gt; }\r\n&gt; ```\r\n&gt; Whenever I run this, myTask is out-of-date. If I switch the false to\r\n&gt; true, the first time I run it, the task is out-of-date still (because\r\n&gt; the buildscript changed). When I run it again, it would be up-to-date\r\n&gt; (all inputs are the same). You&#39;ll see this at --info level logging.\r\n&gt; \r\n&gt; ```\r\n&gt; Task &#39;:myTask&#39; has additional actions that have changed\r\n&gt; ```","title":"Gradle task runs even if upToDateWhen returns true","body":"<p>The outputs being up to date is only part of the calculation as to whether a task is up to date. See <a href=\"https://github.com/gradle/gradle/issues/2467#issuecomment-315184626\" rel=\"nofollow noreferrer\">https://github.com/gradle/gradle/issues/2467#issuecomment-315184626</a></p>\n<blockquote>\n<p><code>outputs.upToDateWhen { true }</code> doesn't mean &quot;the task is up-to-date.&quot;\nIt just means that the outputs are up-to-date for that particular\nspec. Gradle will still do its own up-to-date checks.</p>\n<p>The other thing that may be confusing is where the task's actions are\ndefined. If the actions are defined in the build script, the build\nscript itself is an input to the task. So changes to the build script\nwill make the task out-of-date.</p>\n<p>So if I had a task like:</p>\n<pre><code>task myTask {\n    def outputFile = file(&quot;output.txt&quot;)\n    outputs.file outputFile\n    doLast {\n        outputFile.text = &quot;Done&quot;\n    }\n\n    outputs.upToDateWhen { false }\n}\n</code></pre>\n<p>Whenever I run this, myTask is out-of-date. If I switch the false to\ntrue, the first time I run it, the task is out-of-date still (because\nthe buildscript changed). When I run it again, it would be up-to-date\n(all inputs are the same). You'll see this at --info level logging.</p>\n<pre><code>Task ':myTask' has additional actions that have changed\n</code></pre>\n</blockquote>\n"}],"owner":{"account_id":17933035,"reputation":255,"user_id":13029949,"display_name":"Saimuga"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":157,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76455812,"answer_count":1,"score":0,"last_activity_date":1686566216,"creation_date":1686422285,"question_id":76447645,"body_markdown":"I am learning Gradle. I have a task where I have used upToDateWhen method . It is hardcoded to always return true. I heard that if it is true the method is considered up to date and it wont run. \r\nBut when I execute the task it runs for the first time and then it stops running from the second time saying its upto date. I thought it wont run even for the first time. Am i missing something. Please shed some light .\r\n\r\n    task inputOutputCheckWithMethodCall(group:&#39;Learn-Task-Execution&#39;,description:&#39;This task is used to learn how gradle executes tasks by evaluating input and output through method call during execution time&#39;){\r\n        outputs.upToDateWhen {true}\r\n    \r\n           doFirst{\r\n    \r\n            println &#39;Executing task inputOutputCheckWithMethodCall&#39;  \r\n    \r\n        }\r\n           }","title":"Gradle task runs even if upToDateWhen returns true","body":"<p>I am learning Gradle. I have a task where I have used upToDateWhen method . It is hardcoded to always return true. I heard that if it is true the method is considered up to date and it wont run.\nBut when I execute the task it runs for the first time and then it stops running from the second time saying its upto date. I thought it wont run even for the first time. Am i missing something. Please shed some light .</p>\n<pre><code>task inputOutputCheckWithMethodCall(group:'Learn-Task-Execution',description:'This task is used to learn how gradle executes tasks by evaluating input and output through method call during execution time'){\n    outputs.upToDateWhen {true}\n\n       doFirst{\n\n        println 'Executing task inputOutputCheckWithMethodCall'  \n\n    }\n       }\n</code></pre>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":10126535,"reputation":47,"user_id":7481652,"display_name":"NoobScript"},"score":0,"creation_date":1619876390,"post_id":67346868,"comment_id":119039137,"body_markdown":"@Pshemo the open and closing brackets may be nested , so simple contains won&#39;t work. See example 3 for clarification","body":"@Pshemo the open and closing brackets may be nested , so simple contains won&#39;t work. See example 3 for clarification"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1619876571,"post_id":67346868,"comment_id":119039182,"body_markdown":"In that case you probably need to explain it farther in problem description. Also `[*][*][*]` isn&#39;t clear since `*` has very specific meaning in regex which you probably didn&#39;t meant in that example.","body":"In that case you probably need to explain it farther in problem description. Also <code>[*][*][*]</code> isn&#39;t clear since <code>*</code> has very specific meaning in regex which you probably didn&#39;t meant in that example."},{"owner":{"account_id":12583055,"reputation":447,"user_id":9732672,"display_name":"NomadMaker"},"score":0,"creation_date":1619876922,"post_id":67346868,"comment_id":119039267,"body_markdown":"Your first example is not balanced. Should it still return true?","body":"Your first example is not balanced. Should it still return true?"},{"owner":{"account_id":10126535,"reputation":47,"user_id":7481652,"display_name":"NoobScript"},"score":0,"creation_date":1619877183,"post_id":67346868,"comment_id":119039340,"body_markdown":"@NomadMaker i screwed up, it is balanced, i&#39;ll edit the question. The input is always balanced.","body":"@NomadMaker i screwed up, it is balanced, i&#39;ll edit the question. The input is always balanced."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1619877568,"post_id":67346868,"comment_id":119039443,"body_markdown":"Shouldn&#39;t second case match `[*][*][*]`? Notice that `[[]][[][]]` can be split into `[[]]` `[[]` `[]]` (each of those parts can match `[*]` - assuming that `*` represents *any string*).","body":"Shouldn&#39;t second case match <code>[*][*][*]</code>? Notice that <code>[[]][[][]]</code> can be split into <code>[[]]</code> <code>[[]</code> <code>[]]</code> (each of those parts can match <code>[*]</code> - assuming that <code>*</code> represents <i>any string</i>)."},{"owner":{"account_id":10126535,"reputation":47,"user_id":7481652,"display_name":"NoobScript"},"score":0,"creation_date":1619877726,"post_id":67346868,"comment_id":119039490,"body_markdown":"@Pshemo the * represents a balanced bracket expression. I&#39;ll edit the question to make it clear","body":"@Pshemo the * represents a balanced bracket expression. I&#39;ll edit the question to make it clear"}],"answers":[{"tags":[],"owner":{"account_id":11393277,"reputation":141,"user_id":8352525,"display_name":"Richard Nagy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1619879165,"creation_date":1619876716,"answer_id":67346977,"question_id":67346868,"body_markdown":"Regular expressions are not the way to go for this kind of problem. They don&#39;t work particularly well with nested structures because of recursion.\r\n\r\nThis is a prefect problem for using stacks (FILO) for example. I&#39;d recommend you take a look at those.\r\n\r\n\r\n```\r\nclass Node\r\n{\r\n    private final Node parent;\r\n    private final List&lt;Node&gt; subNodes = new LinkedList&lt;&gt;();\r\n\r\n    Node(Node parent)\r\n    {\r\n        this.parent = parent;\r\n    }\r\n\r\n    static Node buildFrom(String str)\r\n    {\r\n        Node start = new Node(null);\r\n        Node current = start;\r\n\r\n        for (char ch : str.toCharArray())\r\n        {\r\n            if (ch == &#39;[&#39;) //Create new subnode\r\n            {\r\n                Node newNode = new Node(current);\r\n                current.subNodes.add(newNode);\r\n                current = newNode;\r\n            }\r\n            else //Step back\r\n            {\r\n                current = current.parent;\r\n            }\r\n        }\r\n        return start;\r\n    }\r\n\r\n    boolean hasTripleNodes()\r\n    {\r\n        if (this.subNodes.size() &gt;= 3) //Found triple+ nodes\r\n        {\r\n            return true;\r\n        }\r\n        else //Continue recursion\r\n        {\r\n            for (Node subNode: this.subNodes)\r\n            {\r\n                if (subNode.hasTripleNodes())\r\n                {\r\n                    return true;\r\n                }\r\n            }\r\n            return false;\r\n        }\r\n    }\r\n\r\n    //DEMO\r\n    public static void main(String[] args) throws Exception {\r\n        Node nodes = Node.buildFrom(&quot;[[][[][][]]]&quot;);\r\n        System.out.println(nodes.hasTripleNodes()); //writes true\r\n\r\n        nodes = Node.buildFrom(&quot;[[]][[][]]&quot;);\r\n        System.out.println(nodes.hasTripleNodes()); //writes false\r\n\r\n        nodes = Node.buildFrom(&quot;[[[]][][[]]]&quot;);\r\n        System.out.println(nodes.hasTripleNodes()); //writes true\r\n    }\r\n}\r\n```","title":"Check whether a string contains a specified pattern?","body":"<p>Regular expressions are not the way to go for this kind of problem. They don't work particularly well with nested structures because of recursion.</p>\n<p>This is a prefect problem for using stacks (FILO) for example. I'd recommend you take a look at those.</p>\n<pre><code>class Node\n{\n    private final Node parent;\n    private final List&lt;Node&gt; subNodes = new LinkedList&lt;&gt;();\n\n    Node(Node parent)\n    {\n        this.parent = parent;\n    }\n\n    static Node buildFrom(String str)\n    {\n        Node start = new Node(null);\n        Node current = start;\n\n        for (char ch : str.toCharArray())\n        {\n            if (ch == '[') //Create new subnode\n            {\n                Node newNode = new Node(current);\n                current.subNodes.add(newNode);\n                current = newNode;\n            }\n            else //Step back\n            {\n                current = current.parent;\n            }\n        }\n        return start;\n    }\n\n    boolean hasTripleNodes()\n    {\n        if (this.subNodes.size() &gt;= 3) //Found triple+ nodes\n        {\n            return true;\n        }\n        else //Continue recursion\n        {\n            for (Node subNode: this.subNodes)\n            {\n                if (subNode.hasTripleNodes())\n                {\n                    return true;\n                }\n            }\n            return false;\n        }\n    }\n\n    //DEMO\n    public static void main(String[] args) throws Exception {\n        Node nodes = Node.buildFrom(&quot;[[][[][][]]]&quot;);\n        System.out.println(nodes.hasTripleNodes()); //writes true\n\n        nodes = Node.buildFrom(&quot;[[]][[][]]&quot;);\n        System.out.println(nodes.hasTripleNodes()); //writes false\n\n        nodes = Node.buildFrom(&quot;[[[]][][[]]]&quot;);\n        System.out.println(nodes.hasTripleNodes()); //writes true\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":10126535,"reputation":47,"user_id":7481652,"display_name":"NoobScript"},"comment_count":6,"delete_vote_count":2,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":127,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1620689790,"answer_count":1,"score":-1,"last_activity_date":1686566158,"creation_date":1619875956,"question_id":67346868,"body_markdown":"I&#39;ve been asked this question in a java dev interview.\r\n\r\nGiven a string entirely made of square brackets `[` and `]`, find if it has the pattern `[*][*][*]` inside. (the `*` here represents a 0 or more balanced bracket strings). meaning, check if it has 3 or more of`[]` inside at-least any one of`[]`.\r\n\r\nExamples: \r\n\r\nfor `[[][[][][]]]`  expected answer is true as it has `[][][]` inside it.\r\n\r\nfor `[[]][[][]]` expected answer is false as it has less than 3 consecutive `[]` inside any one of `[]`\r\n\r\nfor `[[[]][][[]]]` expected answer is true as it has `[..][][..]` inside it. It doesn&#39;t matter if there are 0 or more `[]` inside a `[]` .\r\n\r\n**IMPORTANT**: The input string is already balanced. It doesn&#39;t need to checked for balance.\r\n\r\nThe question is to find a specific nested pattern inside an already balanced string. The input to this problem is a &quot;**balanced**&quot; expression. The output is a boolean answer specifying whether it contains the specified pattern of brackets **yes** or **no**.","title":"Check whether a string contains a specified pattern?","body":"<p>I've been asked this question in a java dev interview.</p>\n<p>Given a string entirely made of square brackets <code>[</code> and <code>]</code>, find if it has the pattern <code>[*][*][*]</code> inside. (the <code>*</code> here represents a 0 or more balanced bracket strings). meaning, check if it has 3 or more of<code>[]</code> inside at-least any one of<code>[]</code>.</p>\n<p>Examples:</p>\n<p>for <code>[[][[][][]]]</code>  expected answer is true as it has <code>[][][]</code> inside it.</p>\n<p>for <code>[[]][[][]]</code> expected answer is false as it has less than 3 consecutive <code>[]</code> inside any one of <code>[]</code></p>\n<p>for <code>[[[]][][[]]]</code> expected answer is true as it has <code>[..][][..]</code> inside it. It doesn't matter if there are 0 or more <code>[]</code> inside a <code>[]</code> .</p>\n<p><strong>IMPORTANT</strong>: The input string is already balanced. It doesn't need to checked for balance.</p>\n<p>The question is to find a specific nested pattern inside an already balanced string. The input to this problem is a &quot;<strong>balanced</strong>&quot; expression. The output is a boolean answer specifying whether it contains the specified pattern of brackets <strong>yes</strong> or <strong>no</strong>.</p>\n"},{"tags":["java","android","firebase","crashlytics"],"answers":[{"tags":[],"owner":{"account_id":426109,"reputation":302012,"user_id":807126,"display_name":"Doug Stevenson"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1686566049,"creation_date":1579287358,"answer_id":59793342,"question_id":59793029,"body_markdown":"All uncaught exceptions will be sent to Crashlytics.  Caught exceptions will not be sent, unless you write specific code to [log them as non-fatal errors][1].\r\n\r\n\r\n  [1]: https://firebase.google.com/docs/crashlytics/customize-crash-reports?platform=android#log-excepts","title":"Firebase Crashlytics | Are catched exceptions showed or not?","body":"<p>All uncaught exceptions will be sent to Crashlytics.  Caught exceptions will not be sent, unless you write specific code to <a href=\"https://firebase.google.com/docs/crashlytics/customize-crash-reports?platform=android#log-excepts\" rel=\"nofollow noreferrer\">log them as non-fatal errors</a>.</p>\n"}],"owner":{"account_id":5054372,"reputation":183,"user_id":4058038,"display_name":"Timur Ugurlu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1290,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":59793342,"answer_count":1,"score":2,"last_activity_date":1686566049,"creation_date":1579285780,"question_id":59793029,"body_markdown":"I am using asynctasks and catching exceptions like that below.\r\n\r\nI see many errors in my Firebase Crashlytics because of many exceptions. Does this mean that the app crashed or was it because of my code?\r\nBecause if I catch them normally no crash appears only the Toast\r\nCan I hide these Exceptions in Firebase somehow?\r\n\r\n\r\n\r\n```\r\n} catch (IOException e) {\r\n                // TODO Auto-generated catch block\r\n                e.printStackTrace();\r\n                Handler handler = new Handler(context.getMainLooper());\r\n                handler.post(new Runnable() {\r\n                    public void run() {\r\n                        Toast.makeText(context, &quot;Error occured&quot;, Toast.LENGTH_LONG).show();\r\n                    }\r\n\r\n                });\r\n}\r\n```","title":"Firebase Crashlytics | Are catched exceptions showed or not?","body":"<p>I am using asynctasks and catching exceptions like that below.</p>\n\n<p>I see many errors in my Firebase Crashlytics because of many exceptions. Does this mean that the app crashed or was it because of my code?\nBecause if I catch them normally no crash appears only the Toast\nCan I hide these Exceptions in Firebase somehow?</p>\n\n<pre><code>} catch (IOException e) {\n                // TODO Auto-generated catch block\n                e.printStackTrace();\n                Handler handler = new Handler(context.getMainLooper());\n                handler.post(new Runnable() {\n                    public void run() {\n                        Toast.makeText(context, \"Error occured\", Toast.LENGTH_LONG).show();\n                    }\n\n                });\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3150686,"reputation":13778,"user_id":2664200,"accept_rate":71,"display_name":"SpringLearner"},"score":2,"creation_date":1457504782,"post_id":35884447,"comment_id":59431043,"body_markdown":"public void Constructor(){ is not a constructor,its an ordinary method","body":"public void Constructor(){ is not a constructor,its an ordinary method"},{"owner":{"account_id":6243460,"reputation":97907,"user_id":4856258,"accept_rate":100,"display_name":"Tagir Valeev"},"score":3,"creation_date":1457504868,"post_id":35884447,"comment_id":59431079,"body_markdown":"As for your question: you can, but you should not. This is extremely bad style.","body":"As for your question: you can, but you should not. This is extremely bad style."},{"owner":{"account_id":4309055,"reputation":1901,"user_id":3984006,"accept_rate":96,"display_name":"user16655"},"score":1,"creation_date":1457504909,"post_id":35884447,"comment_id":59431092,"body_markdown":"But in my opinion it doesn&#39;t make any sense to want to initialize a static variable inside a constructor? A static variable can be accessed without an object, therefore the variable shouldn&#39;t be static if you need to initialize in the constructor.","body":"But in my opinion it doesn&#39;t make any sense to want to initialize a static variable inside a constructor? A static variable can be accessed without an object, therefore the variable shouldn&#39;t be static if you need to initialize in the constructor."},{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1457507778,"post_id":35884447,"comment_id":59432340,"body_markdown":"It makes no sense to &quot;initialize&quot; a static member in a constructor. It will get reinitialized every time you create a new instance. This is at best redundant and at worst just plain wrong.","body":"It makes no sense to &quot;initialize&quot; a static member in a constructor. It will get reinitialized every time you create a new instance. This is at best redundant and at worst just plain wrong."},{"owner":{"account_id":2227066,"reputation":187,"user_id":1965547,"accept_rate":57,"display_name":"abhi1489"},"score":0,"creation_date":1457508452,"post_id":35884447,"comment_id":59432633,"body_markdown":"Thank you everyone for the comments","body":"Thank you everyone for the comments"}],"answers":[{"tags":[],"owner":{"account_id":6650510,"reputation":6244,"user_id":5132826,"accept_rate":80,"display_name":"Maljam"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1457504748,"creation_date":1457504748,"answer_id":35884480,"question_id":35884447,"body_markdown":"`public void Constructor()` is not a constructor.. it&#39;s a _void method_. If you remove the `void`, it should work as intended","title":"Can we initialise static variable inside constructor?","body":"<p><code>public void Constructor()</code> is not a constructor.. it's a <em>void method</em>. If you remove the <code>void</code>, it should work as intended</p>\n"},{"tags":[],"owner":{"account_id":3150686,"reputation":13778,"user_id":2664200,"accept_rate":71,"display_name":"SpringLearner"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1457505052,"creation_date":1457505052,"answer_id":35884550,"question_id":35884447,"body_markdown":"As I mentioned in the comments `public void Constructor(){` is not a constructor because constructors do not have return type.As your `Constructor` is of void so its not an constructor\r\n\r\n\r\nRemove the void keyword\r\n\r\n\r\n    class Constructor {\r\n    \r\n    static String str;\r\n    \r\n    public Constructor(){\r\n        System.out.println(&quot;In constructor&quot;);\r\n        str=&quot;Hello World&quot;;\r\n    }\r\n    \r\n    public static void main(String[] args) {\r\n        Constructor c=new Constructor();\r\n    \r\n        System.out.println(str);\r\n    \r\n    }\r\n    \r\n    \r\n    }\r\n\r\noutput:Hello World","title":"Can we initialise static variable inside constructor?","body":"<p>As I mentioned in the comments <code>public void Constructor(){</code> is not a constructor because constructors do not have return type.As your <code>Constructor</code> is of void so its not an constructor</p>\n\n<p>Remove the void keyword</p>\n\n<pre><code>class Constructor {\n\nstatic String str;\n\npublic Constructor(){\n    System.out.println(\"In constructor\");\n    str=\"Hello World\";\n}\n\npublic static void main(String[] args) {\n    Constructor c=new Constructor();\n\n    System.out.println(str);\n\n}\n\n\n}\n</code></pre>\n\n<p>output:Hello World</p>\n"},{"tags":[],"owner":{"account_id":4196075,"reputation":17303,"user_id":3437460,"accept_rate":49,"display_name":"user3437460"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1457505191,"creation_date":1457505191,"answer_id":35884570,"question_id":35884447,"body_markdown":"&gt;I have the following code snippet whose output is null even though the string is initialised inside the constructor\r\n\r\nA constructor ***do not*** have return type. Your current so called constructor comes with a return type of `void` hence it is no longer a constructor, but a method of your class.\r\n\r\nTry again with:\r\n\r\n    public Constructor(){  //void removed\r\n        System.out.println(&quot;In constructor&quot;);\r\n        str=&quot;Hello World&quot;;\r\n    }","title":"Can we initialise static variable inside constructor?","body":"<blockquote>\n  <p>I have the following code snippet whose output is null even though the string is initialised inside the constructor</p>\n</blockquote>\n\n<p>A constructor <strong><em>do not</em></strong> have return type. Your current so called constructor comes with a return type of <code>void</code> hence it is no longer a constructor, but a method of your class.</p>\n\n<p>Try again with:</p>\n\n<pre><code>public Constructor(){  //void removed\n    System.out.println(\"In constructor\");\n    str=\"Hello World\";\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1827802,"reputation":2916,"user_id":1660059,"display_name":"MichaelK"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1457507155,"creation_date":1457507155,"answer_id":35885096,"question_id":35884447,"body_markdown":"Also as a side-note: you may use a static-block to initialize static variables. In your case like so:\n\n    static {\n        str=&quot;Hello World&quot;;\n    }\n\nThis means you only initialize the variable once and not every time the constructor is executed. ","title":"Can we initialise static variable inside constructor?","body":"<p>Also as a side-note: you may use a static-block to initialize static variables. In your case like so:</p>\n\n<pre><code>static {\n    str=\"Hello World\";\n}\n</code></pre>\n\n<p>This means you only initialize the variable once and not every time the constructor is executed. </p>\n"},{"tags":[],"owner":{"account_id":1838270,"reputation":674,"user_id":1668225,"accept_rate":78,"display_name":"Vishal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1500920912,"creation_date":1500920912,"answer_id":45287607,"question_id":35884447,"body_markdown":"Yes you can. But you should not.\r\n\r\nLet me elaborate it in detail.\r\n\r\nWhen you are initializing its value inside constructor; you are actually assigning some value to it. This will always be assigned whenever you create object of your class (which you not what you intended to do when you thought of initializing static data member right).\r\n\r\nHere static blocks comes to rescue us.\r\n\r\n*Static blocks are executed whenever class is loaded into memory by JVM*. Hence once your class is loaded, whichever assignments you have defined inside your static block happens for the first and last time until your class is there in memory.\r\n\r\nHence its ideal to use static initializer blocks always to initialize static data members.\r\n\r\nIn your case introduce below code snippet inside your class\r\n\r\n    static {\r\n\t\tstr = &quot;Hello World&quot;;\r\n\t}","title":"Can we initialise static variable inside constructor?","body":"<p>Yes you can. But you should not.</p>\n\n<p>Let me elaborate it in detail.</p>\n\n<p>When you are initializing its value inside constructor; you are actually assigning some value to it. This will always be assigned whenever you create object of your class (which you not what you intended to do when you thought of initializing static data member right).</p>\n\n<p>Here static blocks comes to rescue us.</p>\n\n<p><em>Static blocks are executed whenever class is loaded into memory by JVM</em>. Hence once your class is loaded, whichever assignments you have defined inside your static block happens for the first and last time until your class is there in memory.</p>\n\n<p>Hence its ideal to use static initializer blocks always to initialize static data members.</p>\n\n<p>In your case introduce below code snippet inside your class</p>\n\n<pre><code>static {\n    str = \"Hello World\";\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28803971,"reputation":11,"user_id":22060249,"display_name":"Kanad "},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686566018,"creation_date":1686566018,"answer_id":76455788,"question_id":35884447,"body_markdown":"If we are using static variable then we don&#39;t have need to create an object and also a constructor which is used to initialize value of instance variable on place of default values. We can use **static block** to initialize **static variable** which always executes first before the main() method in Java.","title":"Can we initialise static variable inside constructor?","body":"<p>If we are using static variable then we don't have need to create an object and also a constructor which is used to initialize value of instance variable on place of default values. We can use <strong>static block</strong> to initialize <strong>static variable</strong> which always executes first before the main() method in Java.</p>\n"}],"owner":{"account_id":2227066,"reputation":187,"user_id":1965547,"accept_rate":57,"display_name":"abhi1489"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8274,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":35884550,"answer_count":6,"score":5,"last_activity_date":1686566018,"creation_date":1457504637,"question_id":35884447,"body_markdown":"I have the following code snippet:\r\n\r\n    class Constructor {\r\n\r\n\t  static String str;\r\n\t\r\n\t  public void Constructor() {\r\n\t  \t  System.out.println(&quot;In constructor&quot;);\r\n\t\t  str = &quot;Hello World&quot;;\r\n\t  }\r\n\r\n\t  public static void main(String[] args) {\r\n\t\t  Constructor c=new Constructor();\r\n\t\t  System.out.println(str);\r\n\t  }\r\n    }\r\n\r\nIts output is null even though the string is initialized inside the constructor.\r\n\r\nWhy is that so?","title":"Can we initialise static variable inside constructor?","body":"<p>I have the following code snippet:</p>\n\n<pre><code>class Constructor {\n\n  static String str;\n\n  public void Constructor() {\n      System.out.println(\"In constructor\");\n      str = \"Hello World\";\n  }\n\n  public static void main(String[] args) {\n      Constructor c=new Constructor();\n      System.out.println(str);\n  }\n}\n</code></pre>\n\n<p>Its output is null even though the string is initialized inside the constructor.</p>\n\n<p>Why is that so?</p>\n"},{"tags":["java","java-17"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1686566721,"post_id":76455772,"comment_id":134811205,"body_markdown":"Possibly.  But why take the risk?  Build it on JDK11.","body":"Possibly.  But why take the risk?  Build it on JDK11."},{"owner":{"account_id":45934,"reputation":203649,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":2,"creation_date":1686569332,"post_id":76455772,"comment_id":134811709,"body_markdown":"In principle it can with the right settings (you&#39;ll have to compile for Java 11) but you cannot use Java features that were added after Java 11 and you&#39;ll have to be careful to not use standard library classes that were added after Java 11. In other words, there&#39;s no benefit to using Java 17 in this case and you&#39;re making it difficult for yourself... if it has to run on Java 11, then it&#39;s best to use JDK 11 and avoid problems.","body":"In principle it can with the right settings (you&#39;ll have to compile for Java 11) but you cannot use Java features that were added after Java 11 and you&#39;ll have to be careful to not use standard library classes that were added after Java 11. In other words, there&#39;s no benefit to using Java 17 in this case and you&#39;re making it difficult for yourself... if it has to run on Java 11, then it&#39;s best to use JDK 11 and avoid problems."}],"owner":{"account_id":9122555,"reputation":46,"user_id":11225325,"display_name":"Nikhil Karande"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686565908,"creation_date":1686565908,"question_id":76455772,"body_markdown":"Can Java App Build in Intellij with jdk 17 works on tomcat running on jdk11.\r\n\r\n\r\nBuild Project using java 17 and deploy/run using java 11.\r\n\r\n","title":"Can Java App Build in Intellij with jdk 17 works on tomcat running on jdk11","body":"<p>Can Java App Build in Intellij with jdk 17 works on tomcat running on jdk11.</p>\n<p>Build Project using java 17 and deploy/run using java 11.</p>\n"},{"tags":["java","android","android-studio","google-play-services"],"answers":[{"tags":[],"owner":{"account_id":9427607,"reputation":1,"user_id":7315709,"display_name":"Andrey Shmelev"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1686565802,"creation_date":1686565802,"answer_id":76455755,"question_id":76455353,"body_markdown":"This means that there is not such file\r\nAre you sure about the filepath of file?\r\nmaybe it looks like /storage/emulated/0/Android/data/com.package.app/file.dm\r\ntry to open this file in FileManager and check the file properties about real absolute filepath\r\n\r\nregards ","title":"Unable to open &#39;/data/user_de/0/com.google.android.gms/app_chimera/m/0000021f/DynamiteLoader.dm&#39;: No such file or directory","body":"<p>This means that there is not such file\nAre you sure about the filepath of file?\nmaybe it looks like /storage/emulated/0/Android/data/com.package.app/file.dm\ntry to open this file in FileManager and check the file properties about real absolute filepath</p>\n<p>regards</p>\n"}],"owner":{"account_id":26341049,"reputation":69,"user_id":20000140,"display_name":"Akshay A"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1131,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686565802,"creation_date":1686562760,"question_id":76455353,"body_markdown":"How to fix the given below errors while using maps in my android studio java project. Any help would be appreciated.\r\n\r\n&gt;Unable to open &#39;/data/user_de/0/com.google.android.gms/app_chimera/m/00000222/GoogleCertificates.dm&#39;: No such file or directory &gt;\r\n\r\n&gt;Local module descriptor class for com.google.android.gms.googlecertificates not found.&gt;\r\n\r\n&gt;Unable to update local snapshot for com.google.android.libraries.consentverifier#com.steadyoil, may result in stale flags.\r\n                                                                                                    java.util.concurrent.ExecutionException: java.lang.SecurityException: GoogleCertificatesRslt: not allowed: pkg=com.steadyoil, sha256=[98a6a68b3f9130328da89ac260298ca698eed37c4f821fab07f77c4221db96ec], atk=false, ver=231819044.true (go/gsrlt)\r\n                                                                                                    \tat ajs.s(:com.google.android.gms.dynamite_mapsdynamite@231819044@23.18.19 (190400-0):3)\r\n                                                                                                    \tat ajs.get(:com.google.android.gms.dynamite_mapsdynamite@231819044@23.18.19 (190400-0):2)\r\n                                                                                                    \tat alc.g(:com.google.android.gms.dynamite_mapsdynamite@231819044@23.18.19 (190400-0):2)\r\n                                                                                                    \tat yz.c(:com.google.android.gms.dynamite_mapsdynamite@231819044@23.18.19 (190400-0):1)\r\n                                                                                                    \tat zb.run(:com.google.android.gms.dynamite_mapsdynamite@231819044@23.18.19 (190400-0):0)\r\n                                                                                                    \tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:463)\r\n                                                                                                    \tat java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n                                                                                                    \tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:307)\r\n                                                                                                    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1137)\r\n                                                                                                    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:637)\r\n                                                                                                    \tat java.lang.Thread.run(Thread.java:1012)\r\n                                                                                                    Caused by: java.lang.SecurityException: GoogleCertificatesRslt: not allowed: pkg=com.steadyoil, sha256=[98a6a68b3f9130328da89ac260298ca698eed37c4f821fab07f77c4221db96ec], atk=false, ver=231819044.true (go/gsrlt)\r\n                                                                                                    \tat android.os.Parcel.createExceptionOrNull(Parcel.java:3011)\r\n                                                                                                    \tat android.os.Parcel.createException(Parcel.java:2995)\r\n                                                                                                    \tat android.os.Parcel.readException(Parcel.java:2978)\r\n                                                                                                    \tat android.os.Parcel.readException(Parcel.java:2920)\r\n                                                                                                    \tat fe.c(:com.google.android.gms.dynamite_mapsdynamite@231819044@23.18.19 (190400-0):2)\r\n                                                                                                    \tat rx.a(:com.google.android.gms.dynamite_mapsdynamite@231819044@23.18.19 (190400-0):4)\r\n                                                                                                    \tat jl.e(:com.google.android.gms.dynamite_mapsdynamite@231819044@23.18.19 (190400-0):2)\r\n                                                                                                    \tat kj.t(:com.google.android.gms.dynamite_mapsdynamite@231819044@23.18.19 (190400-0):2)\r\n                                                                                                    \tat kj.u(:com.google.android.gms.dynamite_mapsdynamite@231819044@23.18.19 (190400-0):3)\r\n                                                                                                    \tat kj.e(:com.google.android.gms.dynamite_mapsdynamite@231819044@23.18.19 (190400-0):2)\r\n                                                                                                    \tat kn.handleMessage(:com.google.android.gms.dynamite_mapsdynamite@231819044@23.18.19 (190400-0):78)\r\n                                                                                                    \tat android.os.Handler.dispatchMessage(Handler.java:102)\r\n                                                                                                    \tat android.os.Looper.loopOnce(Looper.java:201)\r\n                                                                                                    \tat android.os.Looper.loop(Looper.java:288)\r\n                                                                                                    \tat android.os.HandlerThread.run(HandlerThread.java:67)&gt;","title":"Unable to open &#39;/data/user_de/0/com.google.android.gms/app_chimera/m/0000021f/DynamiteLoader.dm&#39;: No such file or directory","body":"<p>How to fix the given below errors while using maps in my android studio java project. Any help would be appreciated.</p>\n<blockquote>\n<p>Unable to open '/data/user_de/0/com.google.android.gms/app_chimera/m/00000222/GoogleCertificates.dm': No such file or directory &gt;</p>\n</blockquote>\n<blockquote>\n<p>Local module descriptor class for com.google.android.gms.googlecertificates not found.&gt;</p>\n</blockquote>\n<blockquote>\n<p>Unable to update local snapshot for com.google.android.libraries.consentverifier#com.steadyoil, may result in stale flags.\njava.util.concurrent.ExecutionException: java.lang.SecurityException: GoogleCertificatesRslt: not allowed: pkg=com.steadyoil, sha256=[98a6a68b3f9130328da89ac260298ca698eed37c4f821fab07f77c4221db96ec], atk=false, ver=231819044.true (go/gsrlt)\nat ajs.s(:com.google.android.gms.dynamite_mapsdynamite@231819044@23.18.19 (190400-0):3)\nat ajs.get(:com.google.android.gms.dynamite_mapsdynamite@231819044@23.18.19 (190400-0):2)\nat alc.g(:com.google.android.gms.dynamite_mapsdynamite@231819044@23.18.19 (190400-0):2)\nat yz.c(:com.google.android.gms.dynamite_mapsdynamite@231819044@23.18.19 (190400-0):1)\nat zb.run(:com.google.android.gms.dynamite_mapsdynamite@231819044@23.18.19 (190400-0):0)\nat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:463)\nat java.util.concurrent.FutureTask.run(FutureTask.java:264)\nat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:307)\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1137)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:637)\nat java.lang.Thread.run(Thread.java:1012)\nCaused by: java.lang.SecurityException: GoogleCertificatesRslt: not allowed: pkg=com.steadyoil, sha256=[98a6a68b3f9130328da89ac260298ca698eed37c4f821fab07f77c4221db96ec], atk=false, ver=231819044.true (go/gsrlt)\nat android.os.Parcel.createExceptionOrNull(Parcel.java:3011)\nat android.os.Parcel.createException(Parcel.java:2995)\nat android.os.Parcel.readException(Parcel.java:2978)\nat android.os.Parcel.readException(Parcel.java:2920)\nat fe.c(:com.google.android.gms.dynamite_mapsdynamite@231819044@23.18.19 (190400-0):2)\nat rx.a(:com.google.android.gms.dynamite_mapsdynamite@231819044@23.18.19 (190400-0):4)\nat jl.e(:com.google.android.gms.dynamite_mapsdynamite@231819044@23.18.19 (190400-0):2)\nat kj.t(:com.google.android.gms.dynamite_mapsdynamite@231819044@23.18.19 (190400-0):2)\nat kj.u(:com.google.android.gms.dynamite_mapsdynamite@231819044@23.18.19 (190400-0):3)\nat kj.e(:com.google.android.gms.dynamite_mapsdynamite@231819044@23.18.19 (190400-0):2)\nat kn.handleMessage(:com.google.android.gms.dynamite_mapsdynamite@231819044@23.18.19 (190400-0):78)\nat android.os.Handler.dispatchMessage(Handler.java:102)\nat android.os.Looper.loopOnce(Looper.java:201)\nat android.os.Looper.loop(Looper.java:288)\nat android.os.HandlerThread.run(HandlerThread.java:67)&gt;</p>\n</blockquote>\n"},{"tags":["java","oracle","jpa","eclipselink"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1686581826,"post_id":76455734,"comment_id":134814710,"body_markdown":"The example in the doc has an Employee-&gt;ManagedEmployees relationship defined in the entity, do you have one for your parent-&gt;Child relationship?","body":"The example in the doc has an Employee-&gt;ManagedEmployees relationship defined in the entity, do you have one for your parent-&gt;Child relationship?"},{"owner":{"account_id":28803772,"reputation":1,"user_id":22060089,"display_name":"bunnie"},"score":0,"creation_date":1686824029,"post_id":76455734,"comment_id":134853717,"body_markdown":"Yes.. The relationship was missing..I added and it worked.","body":"Yes.. The relationship was missing..I added and it worked."}],"owner":{"account_id":28803772,"reputation":1,"user_id":22060089,"display_name":"bunnie"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686565645,"creation_date":1686565645,"question_id":76455734,"body_markdown":"According to Eclipselink documentation:\r\n\r\n\r\n```\r\nExpression startWith = builder.get(&quot;id&quot;).equal(new Integer(100));\r\n//can be any expression which identifies a set of employees\r\nExpression connectBy = builder.get(&quot;managedEmployees&quot;);\r\n//indicated the relationship that the hierarchy is based on, must be self-referential\r\nVector orderBy = new Vector();\r\norderBy.addElement(builder.get(&quot;startDate&quot;));\r\nreadAllQuery.setHierarchicalQueryClause(startWith, connectBy, orderBy);\r\n```\r\nI am not able to form ConnectBy expression.\r\n\r\nI have used following expression:\r\n`Expression connectBy = expressionBuilder.get(&quot;id&quot;).equal(expressionBuilder.get(&quot;parentId&quot;));\r\n`\r\n\r\nI m getting following error:\r\nException Description: Malformed expression in query. Attempting to print an object reference into an SQL statement for query key \r\n\r\nCan anyone help me how to use setHierarchicalQueryClause in eclipselink?","title":"How to use Oracle&#39;s connect by clause in eclipselink?","body":"<p>According to Eclipselink documentation:</p>\n<pre><code>Expression startWith = builder.get(&quot;id&quot;).equal(new Integer(100));\n//can be any expression which identifies a set of employees\nExpression connectBy = builder.get(&quot;managedEmployees&quot;);\n//indicated the relationship that the hierarchy is based on, must be self-referential\nVector orderBy = new Vector();\norderBy.addElement(builder.get(&quot;startDate&quot;));\nreadAllQuery.setHierarchicalQueryClause(startWith, connectBy, orderBy);\n</code></pre>\n<p>I am not able to form ConnectBy expression.</p>\n<p>I have used following expression:\n<code>Expression connectBy = expressionBuilder.get(&quot;id&quot;).equal(expressionBuilder.get(&quot;parentId&quot;)); </code></p>\n<p>I m getting following error:\nException Description: Malformed expression in query. Attempting to print an object reference into an SQL statement for query key</p>\n<p>Can anyone help me how to use setHierarchicalQueryClause in eclipselink?</p>\n"},{"tags":["java","http"],"comments":[{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":2,"creation_date":1612387218,"post_id":66034612,"comment_id":116754811,"body_markdown":"How are you sending the request? You are not allowed to set the &quot;Content-Length&quot; header because the content-length is determined as the length of the byte array that you pass at `HttpRequest.BodyPublishers.ofByteArray(file)`","body":"How are you sending the request? You are not allowed to set the &quot;Content-Length&quot; header because the content-length is determined as the length of the byte array that you pass at <code>HttpRequest.BodyPublishers.ofByteArray(file)</code>"},{"owner":{"account_id":13127452,"reputation":166,"user_id":9482891,"display_name":"Michael S"},"score":0,"creation_date":1612977908,"post_id":66034612,"comment_id":116936495,"body_markdown":"I am using the standard `client.send`","body":"I am using the standard <code>client.send</code>"}],"answers":[{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1612992667,"creation_date":1612992667,"answer_id":66145346,"question_id":66034612,"body_markdown":"(This is not really an answer, but the code is too long for a comment)\r\n\r\nI tried this code (which is similar to your example), and the response from httpbin.org shows that the Java11 HTTPClient fills in the content-length header with the correct value:\r\n\r\n    public class HR {\r\n        public static void main(String[] args) throws IOException, InterruptedException {\r\n            byte[] file = {0, 1, 2, 3, 4, 5, 6, 7};\r\n            HttpRequest request = HttpRequest.newBuilder()\r\n                    .uri(URI.create(&quot;https://httpbin.org/anything&quot;))\r\n                    .header(&quot;Content-Type&quot;, &quot;application/pdf&quot;)\r\n                    .header(&quot;Authorization&quot;, &quot;Token token=xyz&quot;)\r\n                    .header(&quot;Transfer-Encoding&quot;, &quot;chunked&quot;)\r\n    //                .header(&quot;Content-Length&quot;, String.valueOf(file.length))\r\n                    .POST(HttpRequest.BodyPublishers.ofByteArray(file))\r\n                    .build();\r\n\r\n            HttpClient client = HttpClient.newHttpClient();\r\n            client.sendAsync(request, HttpResponse.BodyHandlers.ofString())\r\n                    .thenApply(HttpResponse::body)\r\n                    .thenAccept(System.out::println)\r\n                    .join();\r\n    \r\n            HttpResponse&lt;String&gt; response = client.send(request, HttpResponse.BodyHandlers.ofString());\r\n            System.out.println(response.body());\r\n        }\r\n    }\r\n\r\nThe response from httpbin.org is (with some sensitive fields masked)\r\n\r\n    {\r\n      &quot;args&quot;: {}, \r\n      &quot;data&quot;: &quot;\\u0000\\u0001\\u0002\\u0003\\u0004\\u0005\\u0006\\u0007&quot;, \r\n      &quot;files&quot;: {}, \r\n      &quot;form&quot;: {}, \r\n      &quot;headers&quot;: {\r\n        &quot;Authorization&quot;: &quot;Token token=xyz&quot;, \r\n        &quot;Content-Length&quot;: &quot;8&quot;, \r\n        &quot;Content-Type&quot;: &quot;application/pdf&quot;, \r\n        &quot;Host&quot;: &quot;httpbin.org&quot;, \r\n        &quot;User-Agent&quot;: &quot;Java-http-client/15.0.1&quot;\r\n      }, \r\n      &quot;json&quot;: null, \r\n      &quot;method&quot;: &quot;POST&quot;, \r\n      &quot;origin&quot;: &quot;1.2.3.4&quot;, \r\n      &quot;url&quot;: &quot;https://httpbin.org/anything&quot;\r\n    }\r\n\r\nThe response will show up twice (once from the async call, once from the synchronuous call).\r\n\r\nI&#39;m therefore not sure on why your code doesn&#39;t send the content-length header, the `HttpRequest.BodyPublishers.ofByteArray` should do that for you too.","title":"How to assign content-length header in Java 11+ HTTPClient","body":"<p>(This is not really an answer, but the code is too long for a comment)</p>\n<p>I tried this code (which is similar to your example), and the response from httpbin.org shows that the Java11 HTTPClient fills in the content-length header with the correct value:</p>\n<pre><code>public class HR {\n    public static void main(String[] args) throws IOException, InterruptedException {\n        byte[] file = {0, 1, 2, 3, 4, 5, 6, 7};\n        HttpRequest request = HttpRequest.newBuilder()\n                .uri(URI.create(&quot;https://httpbin.org/anything&quot;))\n                .header(&quot;Content-Type&quot;, &quot;application/pdf&quot;)\n                .header(&quot;Authorization&quot;, &quot;Token token=xyz&quot;)\n                .header(&quot;Transfer-Encoding&quot;, &quot;chunked&quot;)\n//                .header(&quot;Content-Length&quot;, String.valueOf(file.length))\n                .POST(HttpRequest.BodyPublishers.ofByteArray(file))\n                .build();\n\n        HttpClient client = HttpClient.newHttpClient();\n        client.sendAsync(request, HttpResponse.BodyHandlers.ofString())\n                .thenApply(HttpResponse::body)\n                .thenAccept(System.out::println)\n                .join();\n\n        HttpResponse&lt;String&gt; response = client.send(request, HttpResponse.BodyHandlers.ofString());\n        System.out.println(response.body());\n    }\n}\n</code></pre>\n<p>The response from httpbin.org is (with some sensitive fields masked)</p>\n<pre><code>{\n  &quot;args&quot;: {}, \n  &quot;data&quot;: &quot;\\u0000\\u0001\\u0002\\u0003\\u0004\\u0005\\u0006\\u0007&quot;, \n  &quot;files&quot;: {}, \n  &quot;form&quot;: {}, \n  &quot;headers&quot;: {\n    &quot;Authorization&quot;: &quot;Token token=xyz&quot;, \n    &quot;Content-Length&quot;: &quot;8&quot;, \n    &quot;Content-Type&quot;: &quot;application/pdf&quot;, \n    &quot;Host&quot;: &quot;httpbin.org&quot;, \n    &quot;User-Agent&quot;: &quot;Java-http-client/15.0.1&quot;\n  }, \n  &quot;json&quot;: null, \n  &quot;method&quot;: &quot;POST&quot;, \n  &quot;origin&quot;: &quot;1.2.3.4&quot;, \n  &quot;url&quot;: &quot;https://httpbin.org/anything&quot;\n}\n</code></pre>\n<p>The response will show up twice (once from the async call, once from the synchronuous call).</p>\n<p>I'm therefore not sure on why your code doesn't send the content-length header, the <code>HttpRequest.BodyPublishers.ofByteArray</code> should do that for you too.</p>\n"},{"tags":[],"owner":{"account_id":2971961,"reputation":502,"user_id":2523836,"accept_rate":67,"display_name":"Jan Tosovsky"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1686565173,"creation_date":1628240441,"answer_id":68678924,"question_id":66034612,"body_markdown":"HttpClient adds `Content-Length` header only for non-empty bodies. As you&#39;ve noticed, overriding this header is restricted. Hopefully this can be relaxed since JDK 12 by setting a system property `jdk.httpclient.allowRestrictedHeaders`, see [JDK-8213696][1].\r\n\r\n  [1]: https://bugs.java.com/bugdatabase/view_bug?bug_id=8213696","title":"How to assign content-length header in Java 11+ HTTPClient","body":"<p>HttpClient adds <code>Content-Length</code> header only for non-empty bodies. As you've noticed, overriding this header is restricted. Hopefully this can be relaxed since JDK 12 by setting a system property <code>jdk.httpclient.allowRestrictedHeaders</code>, see <a href=\"https://bugs.java.com/bugdatabase/view_bug?bug_id=8213696\" rel=\"nofollow noreferrer\">JDK-8213696</a>.</p>\n"}],"owner":{"account_id":13127452,"reputation":166,"user_id":9482891,"display_name":"Michael S"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3905,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1686565173,"creation_date":1612381511,"question_id":66034612,"body_markdown":"I am trying to assign the content-length header in Java but it seems impossible.\r\n\r\nHere&#39;s my code:\r\n```java\r\n        HttpRequest request = HttpRequest.newBuilder()\r\n                .uri(URI.create(&quot;URL&quot;))\r\n                .header(&quot;Content-Type&quot;,&quot;application/pdf&quot;)\r\n                .header(&quot;Authorization&quot;,String.format(&quot;Token token=%s&quot;,token))\r\n                .header(&quot;Transfer-Encoding&quot;,&quot;chunked&quot;)\r\n                .header(&quot;Content-Length&quot;,String.valueOf(contentLength))\r\n                .POST(HttpRequest.BodyPublishers.ofByteArray(file))\r\n                .build();\r\n```\r\n\r\nIf I run this, then I get the exception &quot;Restricted Header Name: &quot;Content-Length&quot;. So then I remove the line where I set the content-length. At this point I get an IOException saying my request doesn&#39;t have a content-length header. \r\n\r\nHow the hell am I supposed to set the content-length header if the HttpClient throws an exception if I, you know, set the content length header?\r\n\r\n**EDIT:**\r\n\r\nI know this doesn&#39;t solve the question, but I ended up trying non-system standard HTTP Client Libaries. OkHttp for some reason failed on me, but Apache&#39;s HttpClient worked fine. It&#39;s not as elegant as Java&#39;s built in client, but it actually worked. ","title":"How to assign content-length header in Java 11+ HTTPClient","body":"<p>I am trying to assign the content-length header in Java but it seems impossible.</p>\n<p>Here's my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        HttpRequest request = HttpRequest.newBuilder()\n                .uri(URI.create(&quot;URL&quot;))\n                .header(&quot;Content-Type&quot;,&quot;application/pdf&quot;)\n                .header(&quot;Authorization&quot;,String.format(&quot;Token token=%s&quot;,token))\n                .header(&quot;Transfer-Encoding&quot;,&quot;chunked&quot;)\n                .header(&quot;Content-Length&quot;,String.valueOf(contentLength))\n                .POST(HttpRequest.BodyPublishers.ofByteArray(file))\n                .build();\n</code></pre>\n<p>If I run this, then I get the exception &quot;Restricted Header Name: &quot;Content-Length&quot;. So then I remove the line where I set the content-length. At this point I get an IOException saying my request doesn't have a content-length header.</p>\n<p>How the hell am I supposed to set the content-length header if the HttpClient throws an exception if I, you know, set the content length header?</p>\n<p><strong>EDIT:</strong></p>\n<p>I know this doesn't solve the question, but I ended up trying non-system standard HTTP Client Libaries. OkHttp for some reason failed on me, but Apache's HttpClient worked fine. It's not as elegant as Java's built in client, but it actually worked.</p>\n"},{"tags":["java","dll","netbeans","jvm"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1686480545,"post_id":76450039,"comment_id":134801523,"body_markdown":"You [don&#39;t need](https://technojeeves.com/index.php/aliasjava1/111-making-native-installable-apps-with-java-9) 3rd party tools. Java can install an embedded vm with resources where you want them","body":"You <a href=\"https://technojeeves.com/index.php/aliasjava1/111-making-native-installable-apps-with-java-9\" rel=\"nofollow noreferrer\">don&#39;t need</a> 3rd party tools. Java can install an embedded vm with resources where you want them"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1686484705,"post_id":76450039,"comment_id":134801971,"body_markdown":"If you are really concerned with Java being heavyweight, you should probably be using a non-GC&#39;d language that compiles to native code executables; i.e. C or C++.","body":"If you are really concerned with Java being heavyweight, you should probably be using a non-GC&#39;d language that compiles to native code executables; i.e. C or C++."},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1686516941,"post_id":76450039,"comment_id":134805557,"body_markdown":"How do you _know_ this is true? =&gt; _&quot;even basic programs tend to be quite resource heavy, this because every program has its own copy of Java Virtual Machine runtimes needed for it to execute&quot;_. And specifically, what do you mean by _&quot;quite resource heavy&quot;_? To be clear, I&#39;m not agreeing or disagreeing with your claim, but when you make that claim the core of your question you really need to provide some evidence. You are seeking a solution without demonstrating that there is a problem to be solved.","body":"How do you <i>know</i> this is true? =&gt; <i>&quot;even basic programs tend to be quite resource heavy, this because every program has its own copy of Java Virtual Machine runtimes needed for it to execute&quot;</i>. And specifically, what do you mean by <i>&quot;quite resource heavy&quot;</i>? To be clear, I&#39;m not agreeing or disagreeing with your claim, but when you make that claim the core of your question you really need to provide some evidence. You are seeking a solution without demonstrating that there is a problem to be solved."},{"owner":{"account_id":28523647,"reputation":21,"user_id":22055505,"display_name":"Juancarlos Kai Shiro"},"score":0,"creation_date":1686518699,"post_id":76450039,"comment_id":134805723,"body_markdown":"@skomisa, well, I wrote a simple, blank GUI program and it still ended up taking about 200+ MBs of space. I checked and most of that was just the JVM runtimes, which is why I want them moved to a shared folder. That way, I won&#39;t be taking up 200+ MBs of space with every one of my apps because the apps will be using the same runtimes instead of each having their own copy of them.","body":"@skomisa, well, I wrote a simple, blank GUI program and it still ended up taking about 200+ MBs of space. I checked and most of that was just the JVM runtimes, which is why I want them moved to a shared folder. That way, I won&#39;t be taking up 200+ MBs of space with every one of my apps because the apps will be using the same runtimes instead of each having their own copy of them."},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1686522163,"post_id":76450039,"comment_id":134805990,"body_markdown":"You should not post comments to thank. Please read the guidelines: https://stackoverflow.com/help/someone-answers that explicitly says it.","body":"You should not post comments to thank. Please read the guidelines: <a href=\"https://stackoverflow.com/help/someone-answers\">stackoverflow.com/help/someone-answers</a> that explicitly says it."},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1686534713,"post_id":76450039,"comment_id":134806871,"body_markdown":"@JuancarlosKaiShiro OK. In that case you should add that information to your question. As implied by Basil&#39;s answer, you haven&#39;t clearly specified the specific improvement(s) you are looking for. Therefore any answers are necessarily just speculation. And without metrics, how can you know if any changes you make are actually beneficial?","body":"@JuancarlosKaiShiro OK. In that case you should add that information to your question. As implied by Basil&#39;s answer, you haven&#39;t clearly specified the specific improvement(s) you are looking for. Therefore any answers are necessarily just speculation. And without metrics, how can you know if any changes you make are actually beneficial?"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1686566596,"post_id":76450039,"comment_id":134811181,"body_markdown":"You should mention that you’re using JavaFX, as the JavaFX runtime is even bigger than the Java runtime. You can strip off unneeded things from a modular Java environment, but that doesn’t help when the actual space consumption doesn’t originate from the Java runtime. Using a shared runtime is a neat idea; it basically means you re-invented non-native aka *ordinary* Java programs.","body":"You should mention that you’re using JavaFX, as the JavaFX runtime is even bigger than the Java runtime. You can strip off unneeded things from a modular Java environment, but that doesn’t help when the actual space consumption doesn’t originate from the Java runtime. Using a shared runtime is a neat idea; it basically means you re-invented non-native aka <i>ordinary</i> Java programs."}],"answers":[{"tags":[],"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686491195,"creation_date":1686491195,"answer_id":76450773,"question_id":76450039,"body_markdown":"Use a default installer of OpenJDK for your operating system and if the installer doesn&#39;t do it just add the bin directory of the JAVA HOME directory to the PATH environment variable.","title":"Building lightweight Java native programs","body":"<p>Use a default installer of OpenJDK for your operating system and if the installer doesn't do it just add the bin directory of the JAVA HOME directory to the PATH environment variable.</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686494104,"creation_date":1686492157,"answer_id":76450837,"question_id":76450039,"body_markdown":"If your highest priority is a small size of the executable, Java is not appropriate. You should use a language designed to compile down to a simple native executable with a minimal executable. For example, Swift, Rust, and C. \r\n\r\nIf you want to continue with Java while minimizing the size of your software artifact, then:\r\n\r\n 1. [Modularize][1] your app with the Java [Platform Module System (JPMS)][2]. \r\n 2. Use the [*jlink*][3] tool to assemble and optimize a set of modules and their dependencies into a custom run-time image. Rather than bring in the entire collection of classes provided with a JVM, only the classes of the modules actually used by your particular app are included. \r\n 3. Use the [*jpackage*][4] tool to package a Java application into a platform-specific package. Supported platform-specific package formats are… Linux: deb and rpm, macOS: pkg and dmg, Windows: msi and exe. \r\n\r\nIf speed of launch time is a priority, consider using a JVM with [*OpenJ9*][5] rather than [*HotSpot*][5]. \r\n\r\nIf speed of execution is a priority, use ahead-of-time compilation of your Java application with [*GraalVM*][6] technology. \r\n\r\nYou said:\r\n\r\n&gt;I figured a good solution would be to have the JVM runtimes installed to a unified folder\r\n\r\nYou can assume a JRE or JDK has been installed on the user’s machine. Then you need not include any Java runtime with your software artifact. \r\n\r\nObviously this is only practical if either (a) your user base is using managed computers such as in a corporate or educational environment, or (b) your users are eager enough and savvy enough to obtain and install a [JRE][7]/[JDK][8] on their own. \r\n\r\nIn the early years of Java, Sun Microsystems was able to convince most of the personal computer industry to bundle a JRE with their computers. But that practice ended many years ago. \r\n\r\n\r\n  [1]: https://www.simonandschuster.com/books/The-Java-Module-System/Nicolai-Parlog/9781617294280\r\n  [2]: https://en.wikipedia.org/wiki/Java_Platform_Module_System\r\n  [3]: https://openjdk.org/jeps/282\r\n  [4]: https://openjdk.org/jeps/392\r\n  [5]: https://en.wikipedia.org/wiki/OpenJ9\r\n  [6]: https://en.wikipedia.org/wiki/GraalVM\r\n  [7]: https://en.wikipedia.org/wiki/Java_Runtime_Environment\r\n  [8]: https://en.wikipedia.org/wiki/Java_Development_Kit","title":"Building lightweight Java native programs","body":"<p>If your highest priority is a small size of the executable, Java is not appropriate. You should use a language designed to compile down to a simple native executable with a minimal executable. For example, Swift, Rust, and C.</p>\n<p>If you want to continue with Java while minimizing the size of your software artifact, then:</p>\n<ol>\n<li><a href=\"https://www.simonandschuster.com/books/The-Java-Module-System/Nicolai-Parlog/9781617294280\" rel=\"nofollow noreferrer\">Modularize</a> your app with the Java <a href=\"https://en.wikipedia.org/wiki/Java_Platform_Module_System\" rel=\"nofollow noreferrer\">Platform Module System (JPMS)</a>.</li>\n<li>Use the <a href=\"https://openjdk.org/jeps/282\" rel=\"nofollow noreferrer\"><em>jlink</em></a> tool to assemble and optimize a set of modules and their dependencies into a custom run-time image. Rather than bring in the entire collection of classes provided with a JVM, only the classes of the modules actually used by your particular app are included.</li>\n<li>Use the <a href=\"https://openjdk.org/jeps/392\" rel=\"nofollow noreferrer\"><em>jpackage</em></a> tool to package a Java application into a platform-specific package. Supported platform-specific package formats are… Linux: deb and rpm, macOS: pkg and dmg, Windows: msi and exe.</li>\n</ol>\n<p>If speed of launch time is a priority, consider using a JVM with <a href=\"https://en.wikipedia.org/wiki/OpenJ9\" rel=\"nofollow noreferrer\"><em>OpenJ9</em></a> rather than <a href=\"https://en.wikipedia.org/wiki/OpenJ9\" rel=\"nofollow noreferrer\"><em>HotSpot</em></a>.</p>\n<p>If speed of execution is a priority, use ahead-of-time compilation of your Java application with <a href=\"https://en.wikipedia.org/wiki/GraalVM\" rel=\"nofollow noreferrer\"><em>GraalVM</em></a> technology.</p>\n<p>You said:</p>\n<blockquote>\n<p>I figured a good solution would be to have the JVM runtimes installed to a unified folder</p>\n</blockquote>\n<p>You can assume a JRE or JDK has been installed on the user’s machine. Then you need not include any Java runtime with your software artifact.</p>\n<p>Obviously this is only practical if either (a) your user base is using managed computers such as in a corporate or educational environment, or (b) your users are eager enough and savvy enough to obtain and install a <a href=\"https://en.wikipedia.org/wiki/Java_Runtime_Environment\" rel=\"nofollow noreferrer\">JRE</a>/<a href=\"https://en.wikipedia.org/wiki/Java_Development_Kit\" rel=\"nofollow noreferrer\">JDK</a> on their own.</p>\n<p>In the early years of Java, Sun Microsystems was able to convince most of the personal computer industry to bundle a JRE with their computers. But that practice ended many years ago.</p>\n"},{"tags":[],"owner":{"account_id":28523647,"reputation":21,"user_id":22055505,"display_name":"Juancarlos Kai Shiro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1686565133,"creation_date":1686564608,"answer_id":76455604,"question_id":76450039,"body_markdown":"I have found a solution to the problem now.\r\n\r\nI tried out my original theory, but it didn&#39;t work because turns out native Java programs (or at least those compiled using Java FX under Netbeans) are hard-wired to search for JVM runtimes in a specific folder and this folder is defined in a simple, text-based configuration file. And so, instead of adding the custom  folder in which I install the JVM runtimes to the %PATH% environment variable, I just had to change the runtime directory in the configuration file.\r\n\r\n[That&#39;s the native Java program compiled][1]\r\n\r\n\r\n[That&#39;s the directory of the configuration file in the program&#39;s files][2]\r\n\r\n\r\n[That&#39;s the modified configuration file. I just had to change the value of app.runtime to the custom location of my shared JVM runtimes][3]\r\n\r\n\r\n[The native Java program, now customised so that the runtime folder installs to my shared directory instead; this defined in the configuration file][4]\r\n\r\n[My shared runtime folder][5]\r\n\r\n[Inside the JVM binaries of the runtime directory][6]\r\n\r\n[The native Java program, now without its own runtimes][7]\r\n\r\nWith these customisations, I can now run two seperate Java native programs on a computer without Java without having them each own their own runtimes, instead sharing the runtimes in the shared runtimes folder (defined in their respective configuration files). I&#39;ve also configured the setups for the native programs so that should the shared runtimes not be installed on the target computer, they will be when any one of the programs is installed or repaired through its setup. Also, newer, modified runtimes can easily be set to override older ones, updating the runtimes in the shared folder.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/evX29.png\r\n  [2]: https://i.stack.imgur.com/R1bHT.png\r\n  [3]: https://i.stack.imgur.com/fmgqO.png\r\n  [4]: https://i.stack.imgur.com/UEQYU.png\r\n  [5]: https://i.stack.imgur.com/IuxDI.png\r\n  [6]: https://i.stack.imgur.com/Zwjrq.png\r\n  [7]: https://i.stack.imgur.com/FbG9G.png","title":"Building lightweight Java native programs","body":"<p>I have found a solution to the problem now.</p>\n<p>I tried out my original theory, but it didn't work because turns out native Java programs (or at least those compiled using Java FX under Netbeans) are hard-wired to search for JVM runtimes in a specific folder and this folder is defined in a simple, text-based configuration file. And so, instead of adding the custom  folder in which I install the JVM runtimes to the %PATH% environment variable, I just had to change the runtime directory in the configuration file.</p>\n<p><a href=\"https://i.stack.imgur.com/evX29.png\" rel=\"nofollow noreferrer\">That's the native Java program compiled</a></p>\n<p><a href=\"https://i.stack.imgur.com/R1bHT.png\" rel=\"nofollow noreferrer\">That's the directory of the configuration file in the program's files</a></p>\n<p><a href=\"https://i.stack.imgur.com/fmgqO.png\" rel=\"nofollow noreferrer\">That's the modified configuration file. I just had to change the value of app.runtime to the custom location of my shared JVM runtimes</a></p>\n<p><a href=\"https://i.stack.imgur.com/UEQYU.png\" rel=\"nofollow noreferrer\">The native Java program, now customised so that the runtime folder installs to my shared directory instead; this defined in the configuration file</a></p>\n<p><a href=\"https://i.stack.imgur.com/IuxDI.png\" rel=\"nofollow noreferrer\">My shared runtime folder</a></p>\n<p><a href=\"https://i.stack.imgur.com/Zwjrq.png\" rel=\"nofollow noreferrer\">Inside the JVM binaries of the runtime directory</a></p>\n<p><a href=\"https://i.stack.imgur.com/FbG9G.png\" rel=\"nofollow noreferrer\">The native Java program, now without its own runtimes</a></p>\n<p>With these customisations, I can now run two seperate Java native programs on a computer without Java without having them each own their own runtimes, instead sharing the runtimes in the shared runtimes folder (defined in their respective configuration files). I've also configured the setups for the native programs so that should the shared runtimes not be installed on the target computer, they will be when any one of the programs is installed or repaired through its setup. Also, newer, modified runtimes can easily be set to override older ones, updating the runtimes in the shared folder.</p>\n"}],"owner":{"account_id":28523647,"reputation":21,"user_id":22055505,"display_name":"Juancarlos Kai Shiro"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76455604,"answer_count":3,"score":0,"last_activity_date":1686565133,"creation_date":1686479021,"question_id":76450039,"body_markdown":"So I just started developing native programs in Java with Netbeans, creating setup scripts for them with Inno Script. But then I noticed even basic programs tend to be quite resource heavy, this because every program has its own copy of Java Virtual Machine runtimes needed for it to execute. I figured a good solution would be to have the JVM runtimes installed to a unified folder (since aren&#39;t they just the same files copied into every single program?) from which each individual program can then run the shared files.\r\n\r\nThe problem is, I don&#39;t really know how to go about this. Where exactly do I install the runtimes to and how do I set up this path so that any native Java programs run on the computer will automatically detect and use them? Would adding the shared directory to the %PATH% environment be enough or not?\r\n\r\nPlease help. Any help will be highly appreciated.\r\n\r\nI haven&#39;t really tried anything yet since I felt maybe I should get some advice first.\r\n\r\n\r\n::: UPDATE :::\r\nSo, I think I&#39;ve figured out a possible solution to my problem, though I&#39;m yet to try it because I can&#39;t access my IDE and other tools until later tomorrow for reasons. But what I was thinking is that perhaps I could install the shared Java Virtual Machine runtimes to a directory then add the directory to the %PATH% environment variable so its runtimes can be executed just as system DLLs are. I&#39;ll post an update on the results of the theory as soon as I can.","title":"Building lightweight Java native programs","body":"<p>So I just started developing native programs in Java with Netbeans, creating setup scripts for them with Inno Script. But then I noticed even basic programs tend to be quite resource heavy, this because every program has its own copy of Java Virtual Machine runtimes needed for it to execute. I figured a good solution would be to have the JVM runtimes installed to a unified folder (since aren't they just the same files copied into every single program?) from which each individual program can then run the shared files.</p>\n<p>The problem is, I don't really know how to go about this. Where exactly do I install the runtimes to and how do I set up this path so that any native Java programs run on the computer will automatically detect and use them? Would adding the shared directory to the %PATH% environment be enough or not?</p>\n<p>Please help. Any help will be highly appreciated.</p>\n<p>I haven't really tried anything yet since I felt maybe I should get some advice first.</p>\n<p>::: UPDATE :::\nSo, I think I've figured out a possible solution to my problem, though I'm yet to try it because I can't access my IDE and other tools until later tomorrow for reasons. But what I was thinking is that perhaps I could install the shared Java Virtual Machine runtimes to a directory then add the directory to the %PATH% environment variable so its runtimes can be executed just as system DLLs are. I'll post an update on the results of the theory as soon as I can.</p>\n"},{"tags":["java","android","rtsp","android-ffmpeg"],"answers":[{"tags":[],"owner":{"account_id":9427607,"reputation":1,"user_id":7315709,"display_name":"Andrey Shmelev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686564753,"creation_date":1686564753,"answer_id":76455619,"question_id":75243025,"body_markdown":"Add this     \r\n\r\n    implementation &#39;com.github.am3n:rtsp-client-android:4.1.0&#39;\r\n\r\nto app build.gradle\r\n\r\nuse this\r\n\r\n[https://github.com/am3n/RTSP-Client-Android][1]\r\n\r\nyou can receive video frame and do whatever you need\r\n\r\nregards\r\n\r\n\r\n  [1]: https://github.com/am3n/RTSP-Client-Android","title":"Android get frame from an RTSP Stream of an IP Camera(PTZ)","body":"<p>Add this</p>\n<pre><code>implementation 'com.github.am3n:rtsp-client-android:4.1.0'\n</code></pre>\n<p>to app build.gradle</p>\n<p>use this</p>\n<p><a href=\"https://github.com/am3n/RTSP-Client-Android\" rel=\"nofollow noreferrer\">https://github.com/am3n/RTSP-Client-Android</a></p>\n<p>you can receive video frame and do whatever you need</p>\n<p>regards</p>\n"}],"owner":{"account_id":5183569,"reputation":1,"user_id":4148519,"display_name":"SIK"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":384,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686564753,"creation_date":1674716855,"question_id":75243025,"body_markdown":"I am developing an app that play an RTSP stream from a camera using VLC, but I have a situation where I need to get frame of the stream without playing it.Kindly suggest the proper way of doing it. kindly recommend the best Library or SDK to achieve this.\r\n\r\nI have used MediaMetadataRetriever, but so far no luck. I have also used FFmpegMediaMetadataRetriever but the app crashes.\r\n\r\n`D/apitrace: apitrace: warning: caught signal 6`\r\n\r\n`D/apitrace: call flush from exceptionCallback`\r\n\r\n`A/libc: Fatal signal 6 (SIGABRT), code -1 (SI_QUEUE) in tid 5035 (pool-3-thread-1), pid 4832`\r\n\r\nI have used below code.\r\n\r\n         ExecutorService executor = Executors.newSingleThreadExecutor();\r\n         Handler handler = new Handler(Looper.getMainLooper());\r\n              executor.execute(()-&gt;{\r\n              Bitmap bitmap;\r\n            try {\r\n\r\n                if (mmr == null){\r\n                    mmr = new FFmpegMediaMetadataRetriever();\r\n                }\r\n                mmr.setDataSource(url);\r\n           \r\n                bitmap = mmr.getFrameAtTime();\r\n                Log.d(&quot;BITMAP_IS_DONE&quot;,bitmap.toString());\r\n                mmr.release();\r\n\r\n                handler.post(()-&gt;{\r\n                    thumbnailArrays[1].setImageBitmap(bitmap);\r\n                });\r\n\r\n            } catch (IllegalArgumentException ie) {\r\n                ie.printStackTrace();\r\n            }\r\n\r\n        });","title":"Android get frame from an RTSP Stream of an IP Camera(PTZ)","body":"<p>I am developing an app that play an RTSP stream from a camera using VLC, but I have a situation where I need to get frame of the stream without playing it.Kindly suggest the proper way of doing it. kindly recommend the best Library or SDK to achieve this.</p>\n<p>I have used MediaMetadataRetriever, but so far no luck. I have also used FFmpegMediaMetadataRetriever but the app crashes.</p>\n<p><code>D/apitrace: apitrace: warning: caught signal 6</code></p>\n<p><code>D/apitrace: call flush from exceptionCallback</code></p>\n<p><code>A/libc: Fatal signal 6 (SIGABRT), code -1 (SI_QUEUE) in tid 5035 (pool-3-thread-1), pid 4832</code></p>\n<p>I have used below code.</p>\n<pre><code>     ExecutorService executor = Executors.newSingleThreadExecutor();\n     Handler handler = new Handler(Looper.getMainLooper());\n          executor.execute(()-&gt;{\n          Bitmap bitmap;\n        try {\n\n            if (mmr == null){\n                mmr = new FFmpegMediaMetadataRetriever();\n            }\n            mmr.setDataSource(url);\n       \n            bitmap = mmr.getFrameAtTime();\n            Log.d(&quot;BITMAP_IS_DONE&quot;,bitmap.toString());\n            mmr.release();\n\n            handler.post(()-&gt;{\n                thumbnailArrays[1].setImageBitmap(bitmap);\n            });\n\n        } catch (IllegalArgumentException ie) {\n            ie.printStackTrace();\n        }\n\n    });\n</code></pre>\n"},{"tags":["java","enums","java-17"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":5,"creation_date":1686563181,"post_id":76455360,"comment_id":134810454,"body_markdown":"&quot;We have a huge enumeration (&gt;7500 elements)&quot;: I suggest this is the real problem. Data on this scale should come from the database, not be hardwired into the code. You can&#39;t seriously tell me you have 7500 distinct cases of security rights.","body":"&quot;We have a huge enumeration (&gt;7500 elements)&quot;: I suggest this is the real problem. Data on this scale should come from the database, not be hardwired into the code. You can&#39;t seriously tell me you have 7500 distinct cases of security rights."},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":2,"creation_date":1686563531,"post_id":76455360,"comment_id":134810533,"body_markdown":"The way enums are compiled probably changed between the two versions, and it now produces more code. You really shouldn&#39;t have such a big enum.","body":"The way enums are compiled probably changed between the two versions, and it now produces more code. You really shouldn&#39;t have such a big enum."},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1686565048,"post_id":76455360,"comment_id":134810873,"body_markdown":"Can you give a representative example of such an enum? Does it have many fields and/or methods? Of is it simply &quot;dump&quot; `enum E { A, B, C; }`? &quot;Simplifying&quot; the enums to do fewer things during instantiation might help you push below the limit, but how that would look like is unclear without knowing what your enums do.","body":"Can you give a representative example of such an enum? Does it have many fields and/or methods? Of is it simply &quot;dump&quot; <code>enum E { A, B, C; }</code>? &quot;Simplifying&quot; the enums to do fewer things during instantiation might help you push below the limit, but how that would look like is unclear without knowing what your enums do."},{"owner":{"account_id":10408148,"reputation":1398,"user_id":7674438,"accept_rate":100,"display_name":"Lore"},"score":0,"creation_date":1686580666,"post_id":76455360,"comment_id":134814421,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."},{"owner":{"account_id":16590958,"reputation":23,"user_id":11989143,"display_name":"Laurent Caron"},"score":0,"creation_date":1686580763,"post_id":76455360,"comment_id":134814443,"body_markdown":"I know that this enumeration is really too big. Our application represents ~200 screens, with a lot of different action. I know this is insane.","body":"I know that this enumeration is really too big. Our application represents ~200 screens, with a lot of different action. I know this is insane."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1686613490,"post_id":76455360,"comment_id":134820141,"body_markdown":"Perhaps you can find a way to decompose your security rights and make them more human-comprehensible?","body":"Perhaps you can find a way to decompose your security rights and make them more human-comprehensible?"}],"answers":[{"tags":[],"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1686564347,"creation_date":1686564347,"answer_id":76455568,"question_id":76455360,"body_markdown":"Let&#39;s put aside the concerns mentioned in the comments to this question: although they are correct, they raise different issues.\r\n\r\nYou are using the enum because you want to have already the compiler warning you when using an access right that does not exist. Otherwise you could also use a string as the value for the annotation …\r\n\r\nBut because you are using an annotation, you can use a string *and* get the compiler to warn you if the given access right does not exist: write an annotation processor that checks the `@Access` annotation value (now a string) against a list of valid ones at compile time. If not matching, the annotation processor throws an exception and stops the compilation, otherwise it does nothing.\r\n\r\nOnly drawback is that the IDE won&#39;t help you when applying the value.\r\n\r\nBut with a little bit more effort you can extend the annotation processor to do some additional checks, like whether the given access right is feasible at the given location, or if the same access right is applied more than once (or never) or … think about.","title":"&quot;The code for the static initializer is exceeding the 65535 bytes limit&quot; : Message in a bottle","body":"<p>Let's put aside the concerns mentioned in the comments to this question: although they are correct, they raise different issues.</p>\n<p>You are using the enum because you want to have already the compiler warning you when using an access right that does not exist. Otherwise you could also use a string as the value for the annotation …</p>\n<p>But because you are using an annotation, you can use a string <em>and</em> get the compiler to warn you if the given access right does not exist: write an annotation processor that checks the <code>@Access</code> annotation value (now a string) against a list of valid ones at compile time. If not matching, the annotation processor throws an exception and stops the compilation, otherwise it does nothing.</p>\n<p>Only drawback is that the IDE won't help you when applying the value.</p>\n<p>But with a little bit more effort you can extend the annotation processor to do some additional checks, like whether the given access right is feasible at the given location, or if the same access right is applied more than once (or never) or … think about.</p>\n"}],"owner":{"account_id":16590958,"reputation":23,"user_id":11989143,"display_name":"Laurent Caron"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":153,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76455568,"answer_count":1,"score":1,"last_activity_date":1686564347,"creation_date":1686562796,"question_id":76455360,"body_markdown":"Let me explain my problem.\r\n\r\n**Context :**\r\n- Migration JDK 8 &gt; JDK 17 of a 2.5M LOC client/server application\r\n- We have a huge enumeration (&gt;7500 elements) that contains all security rights\r\n- This enumeration is used by an annotation which target can be a type or a method, ex : \r\n```\r\n@Access(Right.R_A30110)\r\npublic void method(...) {...}\r\n```\r\n\r\n**If I work with JDK 8**\r\nNo problem ! It compiles and runs perfectly.\r\n\r\n**With JDK 17**\r\nError message _The code for the static initializer is exceeding the 65535 bytes limit_ !\r\n\r\n\r\n\r\na) First, I don&#39;t understand why I have this error message with JDK 17. I&#39;ve read a lot of pages, I understand the error message but I should have the same with JDK 8 ??\r\n\r\nb) I need to solve the problem :) What I tried (or wanted to try) :\r\n* split the big enumeration into small parts =&gt; not possible because inheritance is not allowed for Enums\r\n* use the pre-java 5 strategy : create a class and a set of constants (something like `R_A30110=new Right(&quot;R_A30110&quot;);` =&gt; not possible because the I&#39;ll have the error _invalid type for the annotation attribute &#39;value&#39; : only primitive type, String, Class, annotation, enumeration are permitted or 1-dimensional arrays thereof_ \r\n=&gt; The risk is that solution may lead to the same problem (65535 bytes limitation...=\r\n\r\n\r\nDo you have any idea I missed ?\r\n\r\nThank you !","title":"&quot;The code for the static initializer is exceeding the 65535 bytes limit&quot; : Message in a bottle","body":"<p>Let me explain my problem.</p>\n<p><strong>Context :</strong></p>\n<ul>\n<li>Migration JDK 8 &gt; JDK 17 of a 2.5M LOC client/server application</li>\n<li>We have a huge enumeration (&gt;7500 elements) that contains all security rights</li>\n<li>This enumeration is used by an annotation which target can be a type or a method, ex :</li>\n</ul>\n<pre><code>@Access(Right.R_A30110)\npublic void method(...) {...}\n</code></pre>\n<p><strong>If I work with JDK 8</strong>\nNo problem ! It compiles and runs perfectly.</p>\n<p><strong>With JDK 17</strong>\nError message <em>The code for the static initializer is exceeding the 65535 bytes limit</em> !</p>\n<p>a) First, I don't understand why I have this error message with JDK 17. I've read a lot of pages, I understand the error message but I should have the same with JDK 8 ??</p>\n<p>b) I need to solve the problem :) What I tried (or wanted to try) :</p>\n<ul>\n<li>split the big enumeration into small parts =&gt; not possible because inheritance is not allowed for Enums</li>\n<li>use the pre-java 5 strategy : create a class and a set of constants (something like <code>R_A30110=new Right(&quot;R_A30110&quot;);</code> =&gt; not possible because the I'll have the error <em>invalid type for the annotation attribute 'value' : only primitive type, String, Class, annotation, enumeration are permitted or 1-dimensional arrays thereof</em>\n=&gt; The risk is that solution may lead to the same problem (65535 bytes limitation...=</li>\n</ul>\n<p>Do you have any idea I missed ?</p>\n<p>Thank you !</p>\n"},{"tags":["java","qulice"],"owner":{"account_id":26123912,"reputation":41,"user_id":19815705,"display_name":"Ramazan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1686563852,"creation_date":1686563852,"question_id":76455512,"body_markdown":"In one of my previous projects we had spotless for code style. And it had goal spotlessApply (which  changed all formatting issues).\r\n\r\nFor current project we use Qulice. \r\nDo you know whether it has quliceApply? Or how can I fix formatting by running a task?\r\n\r\n\r\nI checked on official website www.qulice.com but didn&#39;t find.\r\nI don&#39;t want to read dozens of formatting warnings and then apply it manually one by one.","title":"How can I apply Qulice formatting rules?","body":"<p>In one of my previous projects we had spotless for code style. And it had goal spotlessApply (which  changed all formatting issues).</p>\n<p>For current project we use Qulice.\nDo you know whether it has quliceApply? Or how can I fix formatting by running a task?</p>\n<p>I checked on official website <a href=\"http://www.qulice.com\" rel=\"nofollow noreferrer\">www.qulice.com</a> but didn't find.\nI don't want to read dozens of formatting warnings and then apply it manually one by one.</p>\n"},{"tags":["java","gradle","checkstyle","gradle-submodule"],"comments":[{"owner":{"account_id":1001793,"reputation":2131,"user_id":1016482,"accept_rate":50,"display_name":"rveach"},"score":0,"creation_date":1686502052,"post_id":76450430,"comment_id":134803988,"body_markdown":"Is `com.company.CustomChecker` the fully qualified class path (FQCP) of your module? Can you provide the class declaration and what it extends/implements? Checkstyle uses the classpath to find modules you specify using the FQCP. If it says it can&#39;t find it, besides an improperly configured Checkstyle class declaration, the other issue is it could not be found on the classpath. For example, you could have your class in an external JAR but forgot to add that JAR to the classpath.","body":"Is <code>com.company.CustomChecker</code> the fully qualified class path (FQCP) of your module? Can you provide the class declaration and what it extends/implements? Checkstyle uses the classpath to find modules you specify using the FQCP. If it says it can&#39;t find it, besides an improperly configured Checkstyle class declaration, the other issue is it could not be found on the classpath. For example, you could have your class in an external JAR but forgot to add that JAR to the classpath."},{"owner":{"account_id":18052411,"reputation":55,"user_id":13121754,"display_name":"Hero Hamada"},"score":0,"creation_date":1686505558,"post_id":76450430,"comment_id":134804346,"body_markdown":"@rveach, thanks, it&#39;s FQCP but this class is located under rootmodule/submodule/src/main/java/com/company/CustomChecker.java. And this class is included to submodule-1.0-snapshot.jar which is located under rootmodule/submodule/build/distributions/ folder and not in root project build folder","body":"@rveach, thanks, it&#39;s FQCP but this class is located under rootmodule/submodule/src/main/java/com/company/CustomChecker&zwnj;&#8203;.java. And this class is included to submodule-1.0-snapshot.jar which is located under rootmodule/submodule/build/distributions/ folder and not in root project build folder"},{"owner":{"account_id":1001793,"reputation":2131,"user_id":1016482,"accept_rate":50,"display_name":"rveach"},"score":1,"creation_date":1686510611,"post_id":76450430,"comment_id":134804918,"body_markdown":"Your class does extend `AbstractCheck`, so that is good. Your FQCP of the class you provided is `com.company.checkstyle.TransformationsLoggingChecker` while the FQCP in the config is `com.company.CustomChecker`. I will have to take your word they are the same, but I would double check for any typos. It looks like the JAR isn&#39;t in your classpath, and unfortunately I don&#39;t know gradle and cannot help any further. It seems like this is a disconnect between Gradle and CS somewhere and the classpaths that are shared. If this works with CS&#39; CLI, then it is a gradle issue.","body":"Your class does extend <code>AbstractCheck</code>, so that is good. Your FQCP of the class you provided is <code>com.company.checkstyle.TransformationsLoggingChecker</code> while the FQCP in the config is <code>com.company.CustomChecker</code>. I will have to take your word they are the same, but I would double check for any typos. It looks like the JAR isn&#39;t in your classpath, and unfortunately I don&#39;t know gradle and cannot help any further. It seems like this is a disconnect between Gradle and CS somewhere and the classpaths that are shared. If this works with CS&#39; CLI, then it is a gradle issue."},{"owner":{"account_id":1001793,"reputation":2131,"user_id":1016482,"accept_rate":50,"display_name":"rveach"},"score":1,"creation_date":1686510753,"post_id":76450430,"comment_id":134804936,"body_markdown":"You can checkout the gradle sample at https://github.com/sevntu-checkstyle/checkstyle-samples/blob/master/gradle-project/build.gradle#L45 and see if that helps you any.","body":"You can checkout the gradle sample at <a href=\"https://github.com/sevntu-checkstyle/checkstyle-samples/blob/master/gradle-project/build.gradle#L45\" rel=\"nofollow noreferrer\">github.com/sevntu-checkstyle/checkstyle-samples/blob/master/&zwnj;&#8203;&hellip;</a> and see if that helps you any."}],"owner":{"account_id":18052411,"reputation":55,"user_id":13121754,"display_name":"Hero Hamada"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686563667,"creation_date":1686485632,"question_id":76450430,"body_markdown":"I&#39;m trying to build my project with gradle, which has submodule with checkstyle configured. Submodule building ends successfully. But running whole project gives error\r\n\r\n    Unable to instantiate &#39;com.company.CustomChecker&#39; class, it is also not possible to instantiate it as null. Please recheck that class name is specified as canonical name or read how to configure short name usage http://checkstyle.sourceforge.net/config.html#Packages. Please also recheck that provided ClassLoader to Checker is configured correctly.\r\n\r\nMy `build.gradle` of submodule:\r\n\r\n    plugins {\r\n       id &#39;checkstyle&#39;\r\n    }\r\n    dependencies {\r\n           checkstyle files(&#39;build/libs/submodule-project-name-1.0-SNAPSHOT.jar&#39;)\r\n    }\r\n    checkstyle {\r\n    toolVersion = &#39;8.11&#39;\r\n      config = rootProject.resources.text.fromFile(&#39;submodule-project-name/config/checkstyle/checkstyle.xml&#39;)\r\n    }\r\n\r\nMy `submodule-project-name/config/checkstyle/checkstyle.xml` which have `CustomChecker` using:\r\n\r\n    &lt;?xml version=&quot;1.0&quot;?&gt;\r\n    &lt;!DOCTYPE module PUBLIC\r\n            &quot;-//Checkstyle//DTD Checkstyle Configuration 1.3//EN&quot;\r\n            &quot;https://checkstyle.org/dtds/configuration_1_3.dtd&quot;&gt;\r\n    &lt;module name=&quot;Checker&quot;&gt;\r\n        &lt;module name=&quot;TreeWalker&quot;&gt;\r\n            &lt;module name=&quot;com.company.CustomChecker&quot;/&gt;\r\n        &lt;/module&gt;\r\n    &lt;/module&gt;\r\n\r\nbut seems like when I build root module, it&#39;s kinda trying to find it in root module `src` which is not exists, not in submodule `src`. But when I run submodule `build.gradle` it works fine and is able to find the class.\r\n\r\nMaybe I need to somehow configure checkstyle for root and configure that my `CustomChecker` path? \r\n\r\nMy checkstyle:\r\n\r\n    package com.company;\r\n\r\n    import com.puppycrawl.tools.checkstyle.api.AbstractCheck;\r\n    import com.puppycrawl.tools.checkstyle.api.DetailAST;\r\n    import com.puppycrawl.tools.checkstyle.api.TokenTypes;\r\n    import org.jetbrains.annotations.Nullable;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.HashSet;\r\n    import java.util.List;\r\n    import java.util.Objects;\r\n    import java.util.Optional;\r\n    import java.util.Set;\r\n    \r\n    public class CustomChecker extends AbstractCheck {\r\n    \r\n    \r\n        @Override\r\n        public int[] getDefaultTokens() {\r\n            return new int[]{TokenTypes.PACKAGE_DEF};\r\n        }\r\n    \r\n        @Override\r\n        public int[] getAcceptableTokens() {\r\n            return new int[0];\r\n        }\r\n    \r\n        @Override\r\n        public int[] getRequiredTokens() {\r\n            return new int[0];\r\n        }\r\n    \r\n        @Override\r\n        public void visitToken(DetailAST packageDef) {\r\n    \t// impl of visit token\r\n        }\r\n    // logic of my class\r\n    \r\n    }\r\n\r\nThank you a lot!","title":"Checkstyle Unable to instantiate class","body":"<p>I'm trying to build my project with gradle, which has submodule with checkstyle configured. Submodule building ends successfully. But running whole project gives error</p>\n<pre><code>Unable to instantiate 'com.company.CustomChecker' class, it is also not possible to instantiate it as null. Please recheck that class name is specified as canonical name or read how to configure short name usage http://checkstyle.sourceforge.net/config.html#Packages. Please also recheck that provided ClassLoader to Checker is configured correctly.\n</code></pre>\n<p>My <code>build.gradle</code> of submodule:</p>\n<pre><code>plugins {\n   id 'checkstyle'\n}\ndependencies {\n       checkstyle files('build/libs/submodule-project-name-1.0-SNAPSHOT.jar')\n}\ncheckstyle {\ntoolVersion = '8.11'\n  config = rootProject.resources.text.fromFile('submodule-project-name/config/checkstyle/checkstyle.xml')\n}\n</code></pre>\n<p>My <code>submodule-project-name/config/checkstyle/checkstyle.xml</code> which have <code>CustomChecker</code> using:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot;?&gt;\n&lt;!DOCTYPE module PUBLIC\n        &quot;-//Checkstyle//DTD Checkstyle Configuration 1.3//EN&quot;\n        &quot;https://checkstyle.org/dtds/configuration_1_3.dtd&quot;&gt;\n&lt;module name=&quot;Checker&quot;&gt;\n    &lt;module name=&quot;TreeWalker&quot;&gt;\n        &lt;module name=&quot;com.company.CustomChecker&quot;/&gt;\n    &lt;/module&gt;\n&lt;/module&gt;\n</code></pre>\n<p>but seems like when I build root module, it's kinda trying to find it in root module <code>src</code> which is not exists, not in submodule <code>src</code>. But when I run submodule <code>build.gradle</code> it works fine and is able to find the class.</p>\n<p>Maybe I need to somehow configure checkstyle for root and configure that my <code>CustomChecker</code> path?</p>\n<p>My checkstyle:</p>\n<pre><code>package com.company;\n\nimport com.puppycrawl.tools.checkstyle.api.AbstractCheck;\nimport com.puppycrawl.tools.checkstyle.api.DetailAST;\nimport com.puppycrawl.tools.checkstyle.api.TokenTypes;\nimport org.jetbrains.annotations.Nullable;\n\nimport java.util.ArrayList;\nimport java.util.HashSet;\nimport java.util.List;\nimport java.util.Objects;\nimport java.util.Optional;\nimport java.util.Set;\n\npublic class CustomChecker extends AbstractCheck {\n\n\n    @Override\n    public int[] getDefaultTokens() {\n        return new int[]{TokenTypes.PACKAGE_DEF};\n    }\n\n    @Override\n    public int[] getAcceptableTokens() {\n        return new int[0];\n    }\n\n    @Override\n    public int[] getRequiredTokens() {\n        return new int[0];\n    }\n\n    @Override\n    public void visitToken(DetailAST packageDef) {\n    // impl of visit token\n    }\n// logic of my class\n\n}\n</code></pre>\n<p>Thank you a lot!</p>\n"},{"tags":["java","swing","miglayout"],"comments":[{"owner":{"account_id":18250,"reputation":39302,"user_id":41655,"accept_rate":76,"display_name":"millimoose"},"score":2,"creation_date":1342275636,"post_id":11484468,"comment_id":15166576,"body_markdown":"Layout managers in Swing don&#39;t handle borders, borders are applied to the controls in the layout: http://docs.oracle.com/javase/7/docs/api/javax/swing/JComponent.html#setBorder(javax.swing.border.Border)","body":"Layout managers in Swing don&#39;t handle borders, borders are applied to the controls in the layout: <a href=\"http://docs.oracle.com/javase/7/docs/api/javax/swing/JComponent.html#setBorder(javax.swing.border.Border)\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/javax/swing/&hellip;</a>"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":1,"creation_date":1342275968,"post_id":11484468,"comment_id":15166643,"body_markdown":"Do `setBackground(Color.xxx)` on the component(s) to see the edges.","body":"Do <code>setBackground(Color.xxx)</code> on the component(s) to see the edges."},{"owner":{"account_id":1531328,"reputation":3720,"user_id":1428461,"display_name":"Jacob Raihle"},"score":1,"creation_date":1342424456,"post_id":11484468,"comment_id":15192460,"body_markdown":"If you mean the gaps added by MigLayout, you can add a `debug x` constraint to the layout, where x is the number of milliseconds between each refresh.","body":"If you mean the gaps added by MigLayout, you can add a <code>debug x</code> constraint to the layout, where x is the number of milliseconds between each refresh."},{"owner":{"account_id":169685,"reputation":399,"user_id":395898,"accept_rate":47,"display_name":"Vivid"},"score":0,"creation_date":1342940860,"post_id":11484468,"comment_id":15351509,"body_markdown":"Ok, it seems that there is no real solution. Only a few workarounds. But many thanks. :-)","body":"Ok, it seems that there is no real solution. Only a few workarounds. But many thanks. :-)"}],"answers":[{"tags":[],"owner":{"account_id":1610686,"reputation":766,"user_id":1489700,"display_name":"Mitch Connor"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1342748524,"creation_date":1342748524,"answer_id":11571726,"question_id":11484468,"body_markdown":"This isn&#39;t really a MigLayout question but the answer is:\r\n`panel.setBorder(BorderFactory.createMatteBorder(1, 1, 1, 1, Color.gray));`","title":"Show all borders in MigLayout","body":"<p>This isn't really a MigLayout question but the answer is:\n<code>panel.setBorder(BorderFactory.createMatteBorder(1, 1, 1, 1, Color.gray));</code></p>\n"},{"tags":[],"owner":{"account_id":2171446,"reputation":1301,"user_id":1923328,"display_name":"Laurent Caillette"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1528100781,"creation_date":1528100781,"answer_id":50676254,"question_id":11484468,"body_markdown":"I&#39;d like to complement Mitch Connor&#39;s answer with my findings.\r\n\r\nThis is how the create the MigLayout with global constraints and 4 columns :\r\n\r\n      final JPanel jPanel = new JPanel( new MigLayout( &quot;insets 0 0 0 0, gap 0 -1, wrap 4, fill&quot;,\r\n          &quot;0 [ right, fill ] -1 [ right, fill ] 10 [ right, fill ] -1 [ right, fill ] 0 &quot; ) ) ;\r\n\r\nThis is the Border I set to the components inside :\r\n\r\n      private static Border MARKET_DEPTH_CELL_BORDER = BorderFactory.createCompoundBorder(\r\n          BorderFactory.createLineBorder( Colors.GRAY_HALF, 1 ),\r\n          BorderFactory.createEmptyBorder( 2, 10, 2, 10 )\r\n      ) ;\r\n\r\nPlease note that MigLayout&#39;s insets are hacked to superimpose adjacent borders. To get space around the component itself I add an empty Border.","title":"Show all borders in MigLayout","body":"<p>I'd like to complement Mitch Connor's answer with my findings.</p>\n\n<p>This is how the create the MigLayout with global constraints and 4 columns :</p>\n\n<pre><code>  final JPanel jPanel = new JPanel( new MigLayout( \"insets 0 0 0 0, gap 0 -1, wrap 4, fill\",\n      \"0 [ right, fill ] -1 [ right, fill ] 10 [ right, fill ] -1 [ right, fill ] 0 \" ) ) ;\n</code></pre>\n\n<p>This is the Border I set to the components inside :</p>\n\n<pre><code>  private static Border MARKET_DEPTH_CELL_BORDER = BorderFactory.createCompoundBorder(\n      BorderFactory.createLineBorder( Colors.GRAY_HALF, 1 ),\n      BorderFactory.createEmptyBorder( 2, 10, 2, 10 )\n  ) ;\n</code></pre>\n\n<p>Please note that MigLayout's insets are hacked to superimpose adjacent borders. To get space around the component itself I add an empty Border.</p>\n"},{"tags":[],"owner":{"account_id":28273837,"reputation":1,"user_id":21616624,"display_name":"Andrija Škontra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686563162,"creation_date":1686563162,"answer_id":76455411,"question_id":11484468,"body_markdown":"Use: `setLayout(new MigLayout(&quot;debug&quot;));`","title":"Show all borders in MigLayout","body":"<p>Use: <code>setLayout(new MigLayout(&quot;debug&quot;));</code></p>\n"}],"owner":{"account_id":169685,"reputation":399,"user_id":395898,"accept_rate":47,"display_name":"Vivid"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2813,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1686563162,"creation_date":1342275445,"question_id":11484468,"body_markdown":"I am currently using the MigLayout. Does anybody have an idea how to show all the borders inside the MigLayout? I want it to look like a table or a grid.","title":"Show all borders in MigLayout","body":"<p>I am currently using the MigLayout. Does anybody have an idea how to show all the borders inside the MigLayout? I want it to look like a table or a grid.</p>\n"},{"tags":["java","security","tomcat","session-cookies"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1686564015,"post_id":14989396,"comment_id":134810645,"body_markdown":"Use the AJP connector. It communicates all the SSL information to Tomcat.","body":"Use the AJP connector. It communicates all the SSL information to Tomcat."}],"answers":[{"tags":[],"owner":{"account_id":699650,"reputation":16447,"user_id":1299005,"display_name":"Mark Thomas"},"down_vote_count":2,"up_vote_count":10,"is_accepted":false,"score":8,"last_activity_date":1361394290,"creation_date":1361394290,"answer_id":14989881,"question_id":14989396,"body_markdown":"ServletContext.getSessionCookieConfig().setSecure(true)","title":"Forcing Tomcat to use secure JSESSIONID cookie over http","body":"<p>ServletContext.getSessionCookieConfig().setSecure(true)</p>\n"},{"tags":[],"owner":{"account_id":265903,"reputation":5352,"user_id":2092870,"accept_rate":80,"display_name":"Krešimir Nesek"},"down_vote_count":0,"up_vote_count":48,"is_accepted":true,"score":48,"last_activity_date":1362740148,"creation_date":1362740148,"answer_id":15292345,"question_id":14989396,"body_markdown":"In the end, contrary to my initial tests, web.xml solution worked for me on Tomcat 7.\r\n\r\nE.g. I added this snippet to web.xml and it marks session cookie as secure even when reverse proxy contacts tomcat over plain HTTP.\r\n\r\n    &lt;session-config&gt;\r\n        &lt;cookie-config&gt;\r\n            &lt;http-only&gt;true&lt;/http-only&gt;\r\n            &lt;secure&gt;true&lt;/secure&gt;\r\n        &lt;/cookie-config&gt;\r\n    &lt;/session-config&gt;\r\n\r\n","title":"Forcing Tomcat to use secure JSESSIONID cookie over http","body":"<p>In the end, contrary to my initial tests, web.xml solution worked for me on Tomcat 7.</p>\n\n<p>E.g. I added this snippet to web.xml and it marks session cookie as secure even when reverse proxy contacts tomcat over plain HTTP.</p>\n\n<pre><code>&lt;session-config&gt;\n    &lt;cookie-config&gt;\n        &lt;http-only&gt;true&lt;/http-only&gt;\n        &lt;secure&gt;true&lt;/secure&gt;\n    &lt;/cookie-config&gt;\n&lt;/session-config&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":243942,"reputation":14357,"user_id":516433,"accept_rate":69,"display_name":"Lucas"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1466173071,"creation_date":1466173071,"answer_id":37883909,"question_id":14989396,"body_markdown":"Another approach, similar to Mark&#39;s, would be to use the `SessionCookieConfig`, but set it in a context listener from JNDI configuration:\r\n\r\nThe code:\r\n\r\n    import javax.naming.Context;\r\n    import javax.naming.InitialContext;\r\n    import javax.naming.NamingException;\r\n    import javax.servlet.ServletContextEvent;\r\n    import javax.servlet.ServletContextListener;\r\n    import javax.servlet.SessionCookieConfig;\r\n    \r\n    \r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    \r\n    \r\n    public class JndiSessionCookieConfigListener implements ServletContextListener {\r\n        private static final Logger logger = LoggerFactory.getLogger( JndiSessionCookieConfigListener.class );\r\n        \r\n        private volatile Context jndiSessionCookieConfig;\r\n        private volatile SessionCookieConfig sessionCookieConfig;\r\n    \r\n        @Override\r\n        public void contextInitialized( ServletContextEvent sce ) {\r\n            String listenerName = getClass().getSimpleName();\r\n            try {\r\n                logger.info( &quot;JNDI override session cookie config found for {}&quot;, listenerName );\r\n                jndiSessionCookieConfig = (Context) new InitialContext().lookup(\r\n                        &quot;java:comp/env/&quot; + listenerName );\r\n            }\r\n            catch ( NamingException e ) {\r\n                logger.info( &quot;No JNDI override session cookie config found for {}&quot;, listenerName );\r\n            }\r\n    \r\n            sessionCookieConfig = sce.getServletContext().getSessionCookieConfig();\r\n    \r\n            String comment = getString( &quot;comment&quot; );\r\n            if ( comment != null ) {\r\n                logger.debug( &quot;\\t[comment]: [{}]&quot;, comment );\r\n                sessionCookieConfig.setComment( comment );\r\n            }\r\n    \r\n            String domain = getString( &quot;domain&quot; );\r\n            if ( domain != null ) {\r\n                logger.debug( &quot;\\t[domain]: [{}]&quot;, domain );\r\n                sessionCookieConfig.setDomain( domain );\r\n            }\r\n    \r\n            Boolean httpOnly = getBoolean( &quot;http-only&quot; );\r\n            if ( httpOnly == null ) {\r\n                sessionCookieConfig.setHttpOnly( true );\r\n            }\r\n            else {\r\n                logger.debug( &quot;\\t[http-only]: [{}]&quot;, httpOnly );\r\n                sessionCookieConfig.setHttpOnly( httpOnly );\r\n            }\r\n            \r\n            Integer maxAge = getInteger( &quot;max-age&quot; );\r\n            if ( maxAge != null ) {\r\n                sessionCookieConfig.setMaxAge( maxAge );\r\n            }\r\n    \r\n            String name = getString( &quot;name&quot; );\r\n            if ( name != null ) {\r\n                logger.debug( &quot;\\t[name]: [{}]&quot;, name );\r\n                sessionCookieConfig.setName( name );\r\n            }\r\n    \r\n            String path = getString( &quot;path&quot; );\r\n            if ( path != null ) {\r\n                logger.debug( &quot;\\t[path]: [{}]&quot;, path );\r\n                sessionCookieConfig.setPath( path );\r\n            }\r\n    \r\n            Boolean secure = getBoolean( &quot;secure&quot; );\r\n            if ( secure == null ) {\r\n                sessionCookieConfig.setSecure( true );\r\n            }\r\n            else {\r\n                logger.debug( &quot;\\t[secure]: [{}]&quot;, secure );\r\n                sessionCookieConfig.setSecure( secure );\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public void contextDestroyed( ServletContextEvent sce ) {\r\n        }\r\n        \r\n        private Boolean getBoolean( String name ) {\r\n            Object value;\r\n            try {\r\n                value = jndiSessionCookieConfig.lookup( name );\r\n                if ( value instanceof Boolean ) {\r\n                    return (Boolean)value;\r\n                }\r\n                else {\r\n                    return Boolean.valueOf( value.toString() );\r\n                }\r\n            }\r\n            catch ( NamingException e ) {\r\n                return null;\r\n            }\r\n        }\r\n        \r\n        private Integer getInteger( String name ) {\r\n            Object value;\r\n            try {\r\n                value = jndiSessionCookieConfig.lookup( name );\r\n                if ( value instanceof Integer ) {\r\n                    return (Integer)value;\r\n                }\r\n                else {\r\n                    return Integer.valueOf( value.toString() );\r\n                }\r\n            }\r\n            catch ( NamingException e ) {\r\n                return null;\r\n            }\r\n        }\r\n        \r\n        private String getString( String name ) {\r\n            Object value;\r\n            try {\r\n                value = jndiSessionCookieConfig.lookup( name );\r\n                return value.toString();\r\n            }\r\n            catch ( NamingException e ) {\r\n                return null;\r\n            }\r\n        }\r\n    }\r\n\r\nInside web.xml:\r\n\r\n    ...\r\n      &lt;listener&gt;\r\n        &lt;listener-class&gt;\r\n          org.mitre.caasd.servlet.init.JndiSessionCookieConfigListener\r\n        &lt;/listener-class&gt;\r\n      &lt;/listener&gt;\r\n    ...\r\n\r\nIn your context.xml:\r\n\r\n    ...\r\n    &lt;Environment name=&quot;JndiSessionCookieConfigListener/secure&quot;\r\n      type=&quot;java.lang.String&quot;\r\n      override=&quot;false&quot;\r\n      value=&quot;true&quot; /&gt;\r\n    ...\r\n\r\nThis allows you to set all the session cookie configurations at runtime _in the deployment environment_.  Thus, you could use the same webapp (war file) to do development locally (where you would not have https) and in production where you would _ALWAYS_ want https.\r\n\r\n_Note, this approach is mentioned in the [OWASP documentation][1]_\r\n\r\n\r\n  [1]: https://www.owasp.org/index.php/SecureFlag#Environment_consideration","title":"Forcing Tomcat to use secure JSESSIONID cookie over http","body":"<p>Another approach, similar to Mark's, would be to use the <code>SessionCookieConfig</code>, but set it in a context listener from JNDI configuration:</p>\n\n<p>The code:</p>\n\n<pre><code>import javax.naming.Context;\nimport javax.naming.InitialContext;\nimport javax.naming.NamingException;\nimport javax.servlet.ServletContextEvent;\nimport javax.servlet.ServletContextListener;\nimport javax.servlet.SessionCookieConfig;\n\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\n\npublic class JndiSessionCookieConfigListener implements ServletContextListener {\n    private static final Logger logger = LoggerFactory.getLogger( JndiSessionCookieConfigListener.class );\n\n    private volatile Context jndiSessionCookieConfig;\n    private volatile SessionCookieConfig sessionCookieConfig;\n\n    @Override\n    public void contextInitialized( ServletContextEvent sce ) {\n        String listenerName = getClass().getSimpleName();\n        try {\n            logger.info( \"JNDI override session cookie config found for {}\", listenerName );\n            jndiSessionCookieConfig = (Context) new InitialContext().lookup(\n                    \"java:comp/env/\" + listenerName );\n        }\n        catch ( NamingException e ) {\n            logger.info( \"No JNDI override session cookie config found for {}\", listenerName );\n        }\n\n        sessionCookieConfig = sce.getServletContext().getSessionCookieConfig();\n\n        String comment = getString( \"comment\" );\n        if ( comment != null ) {\n            logger.debug( \"\\t[comment]: [{}]\", comment );\n            sessionCookieConfig.setComment( comment );\n        }\n\n        String domain = getString( \"domain\" );\n        if ( domain != null ) {\n            logger.debug( \"\\t[domain]: [{}]\", domain );\n            sessionCookieConfig.setDomain( domain );\n        }\n\n        Boolean httpOnly = getBoolean( \"http-only\" );\n        if ( httpOnly == null ) {\n            sessionCookieConfig.setHttpOnly( true );\n        }\n        else {\n            logger.debug( \"\\t[http-only]: [{}]\", httpOnly );\n            sessionCookieConfig.setHttpOnly( httpOnly );\n        }\n\n        Integer maxAge = getInteger( \"max-age\" );\n        if ( maxAge != null ) {\n            sessionCookieConfig.setMaxAge( maxAge );\n        }\n\n        String name = getString( \"name\" );\n        if ( name != null ) {\n            logger.debug( \"\\t[name]: [{}]\", name );\n            sessionCookieConfig.setName( name );\n        }\n\n        String path = getString( \"path\" );\n        if ( path != null ) {\n            logger.debug( \"\\t[path]: [{}]\", path );\n            sessionCookieConfig.setPath( path );\n        }\n\n        Boolean secure = getBoolean( \"secure\" );\n        if ( secure == null ) {\n            sessionCookieConfig.setSecure( true );\n        }\n        else {\n            logger.debug( \"\\t[secure]: [{}]\", secure );\n            sessionCookieConfig.setSecure( secure );\n        }\n    }\n\n    @Override\n    public void contextDestroyed( ServletContextEvent sce ) {\n    }\n\n    private Boolean getBoolean( String name ) {\n        Object value;\n        try {\n            value = jndiSessionCookieConfig.lookup( name );\n            if ( value instanceof Boolean ) {\n                return (Boolean)value;\n            }\n            else {\n                return Boolean.valueOf( value.toString() );\n            }\n        }\n        catch ( NamingException e ) {\n            return null;\n        }\n    }\n\n    private Integer getInteger( String name ) {\n        Object value;\n        try {\n            value = jndiSessionCookieConfig.lookup( name );\n            if ( value instanceof Integer ) {\n                return (Integer)value;\n            }\n            else {\n                return Integer.valueOf( value.toString() );\n            }\n        }\n        catch ( NamingException e ) {\n            return null;\n        }\n    }\n\n    private String getString( String name ) {\n        Object value;\n        try {\n            value = jndiSessionCookieConfig.lookup( name );\n            return value.toString();\n        }\n        catch ( NamingException e ) {\n            return null;\n        }\n    }\n}\n</code></pre>\n\n<p>Inside web.xml:</p>\n\n<pre><code>...\n  &lt;listener&gt;\n    &lt;listener-class&gt;\n      org.mitre.caasd.servlet.init.JndiSessionCookieConfigListener\n    &lt;/listener-class&gt;\n  &lt;/listener&gt;\n...\n</code></pre>\n\n<p>In your context.xml:</p>\n\n<pre><code>...\n&lt;Environment name=\"JndiSessionCookieConfigListener/secure\"\n  type=\"java.lang.String\"\n  override=\"false\"\n  value=\"true\" /&gt;\n...\n</code></pre>\n\n<p>This allows you to set all the session cookie configurations at runtime <em>in the deployment environment</em>.  Thus, you could use the same webapp (war file) to do development locally (where you would not have https) and in production where you would <em>ALWAYS</em> want https.</p>\n\n<p><em>Note, this approach is mentioned in the <a href=\"https://www.owasp.org/index.php/SecureFlag#Environment_consideration\" rel=\"nofollow\">OWASP documentation</a></em></p>\n"},{"tags":[],"owner":{"account_id":3723758,"reputation":11894,"user_id":3600553,"accept_rate":71,"display_name":"Du-Lacoste"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686563080,"creation_date":1686563080,"answer_id":76455403,"question_id":14989396,"body_markdown":"You could do the following to use secure JSESSIONID cookie over http. \r\n\r\nFor Tomcat Versions:  7.x/8.x/9.x\r\n\r\nGo to `Tomcat` --&gt; `conf` folder\r\nOpen `web.xml` and add below in `session-config` section:\r\n\r\n    &lt;cookie-config&gt;\r\n    &lt;http-only&gt;true&lt;/http-only&gt;\r\n    &lt;secure&gt;true&lt;/secure&gt;\r\n    &lt;/cookie-config&gt;\r\n\r\nIn addition to that, it is recommended to enable `SameSite` attributes. \r\n\r\nIts purpose is to prevent cookies from getting included in cross-site requests in order to mitigate different client-side attacks such as CSRF, XS-Leaks and XSS.\r\n\r\nGo to --&gt; `conf` folder\r\nopen `context.xml`\r\nAdd the following line to the file, below the `&lt;Context&gt;` tag:\r\n\r\n    &lt;CookieProcessor className=&quot;org.apache.tomcat.util.http.Rfc6265CookieProcessor&quot; sameSiteCookies=&quot;strict&quot; /&gt;\r\n\r\nNow restart the tomcat server and in your browser --&gt; DevTools --&gt; Application, you can confirm the changes. ","title":"Forcing Tomcat to use secure JSESSIONID cookie over http","body":"<p>You could do the following to use secure JSESSIONID cookie over http.</p>\n<p>For Tomcat Versions:  7.x/8.x/9.x</p>\n<p>Go to <code>Tomcat</code> --&gt; <code>conf</code> folder\nOpen <code>web.xml</code> and add below in <code>session-config</code> section:</p>\n<pre><code>&lt;cookie-config&gt;\n&lt;http-only&gt;true&lt;/http-only&gt;\n&lt;secure&gt;true&lt;/secure&gt;\n&lt;/cookie-config&gt;\n</code></pre>\n<p>In addition to that, it is recommended to enable <code>SameSite</code> attributes.</p>\n<p>Its purpose is to prevent cookies from getting included in cross-site requests in order to mitigate different client-side attacks such as CSRF, XS-Leaks and XSS.</p>\n<p>Go to --&gt; <code>conf</code> folder\nopen <code>context.xml</code>\nAdd the following line to the file, below the <code>&lt;Context&gt;</code> tag:</p>\n<pre><code>&lt;CookieProcessor className=&quot;org.apache.tomcat.util.http.Rfc6265CookieProcessor&quot; sameSiteCookies=&quot;strict&quot; /&gt;\n</code></pre>\n<p>Now restart the tomcat server and in your browser --&gt; DevTools --&gt; Application, you can confirm the changes.</p>\n"}],"owner":{"account_id":265903,"reputation":5352,"user_id":2092870,"accept_rate":80,"display_name":"Krešimir Nesek"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59833,"favorite_count":0,"down_vote_count":0,"up_vote_count":30,"accepted_answer_id":15292345,"answer_count":4,"score":30,"last_activity_date":1686563080,"creation_date":1361392531,"question_id":14989396,"body_markdown":"Is there a way to configure Tomcat 7 to create JSESSIONID cookie with a secure flag in all occasions? \r\n\r\nUsual configuration results in Tomcat flagging session cookie with secure flag only if connection is made through https. However in my production scenario, Tomcat is behind a reverse proxy/load balancer which handles (and terminates) the https connection and contacts tomcat over http.\r\n\r\nCan I somehow force secure flag on session cookie with Tomcat, even though connection is made through plain http?","title":"Forcing Tomcat to use secure JSESSIONID cookie over http","body":"<p>Is there a way to configure Tomcat 7 to create JSESSIONID cookie with a secure flag in all occasions? </p>\n\n<p>Usual configuration results in Tomcat flagging session cookie with secure flag only if connection is made through https. However in my production scenario, Tomcat is behind a reverse proxy/load balancer which handles (and terminates) the https connection and contacts tomcat over http.</p>\n\n<p>Can I somehow force secure flag on session cookie with Tomcat, even though connection is made through plain http?</p>\n"},{"tags":["java","aws-lambda","amazon-kinesis-firehose"],"answers":[{"tags":[],"owner":{"account_id":14548690,"reputation":11,"user_id":10508252,"display_name":"Jelena"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1686562891,"creation_date":1686562891,"answer_id":76455371,"question_id":76432767,"body_markdown":"Fixed. Data from KinesisFirehoseEvent record is compressed, I needed to decompress it in order to read it.","title":"AWS Kinesis Firehose record data not readable","body":"<p>Fixed. Data from KinesisFirehoseEvent record is compressed, I needed to decompress it in order to read it.</p>\n"}],"owner":{"account_id":14548690,"reputation":11,"user_id":10508252,"display_name":"Jelena"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76455371,"answer_count":1,"score":0,"last_activity_date":1686562891,"creation_date":1686233613,"question_id":76432767,"body_markdown":"I&#39;m trying to read Kinesis Firehose record data in transformation Lambda, but I&#39;m getting some weird string ([screenshot](https://i.stack.imgur.com/KMIDX.png)). Data coming to Firehose is VPC flow log. Destination for Firehose is S3 bucket and I&#39;m able to change metadata of bucket object and actually read the logs, but I need to get readable data in lambda before it goes to S3. I tried various decodings, but no luck.","title":"AWS Kinesis Firehose record data not readable","body":"<p>I'm trying to read Kinesis Firehose record data in transformation Lambda, but I'm getting some weird string (<a href=\"https://i.stack.imgur.com/KMIDX.png\" rel=\"nofollow noreferrer\">screenshot</a>). Data coming to Firehose is VPC flow log. Destination for Firehose is S3 bucket and I'm able to change metadata of bucket object and actually read the logs, but I need to get readable data in lambda before it goes to S3. I tried various decodings, but no luck.</p>\n"},{"tags":["java","json"],"answers":[{"tags":[],"owner":{"account_id":24792239,"reputation":413,"user_id":18675173,"display_name":"lant"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686562788,"creation_date":1686562788,"answer_id":76455358,"question_id":76439630,"body_markdown":"    {&quot;key&quot;:&quot;1234&quot;, &quot;fields&quot;: {cityName&quot;:&quot;Delhi&quot;,&quot;updated&quot;:&quot;2023-04-31&quot;}\r\nThis record doesnt have `category` , so while executing\r\n\r\n     getValue(fieldsObj.get(&quot;category&quot;)) \r\n`fieldsObj.get(&quot;category&quot;)` will return `null` ,  and pass `null` to method `getValue(JsonElement fieldValue)` so then `fieldValue` will be null and `fieldValue.isJsonNull()` will throw Null pointer exception. You need to judge `null` before use it\r\n         \r\n    public static String getValue(JsonElement fieldValue){\r\n         if(fieldValue==null || fieldValue.isJsonNull()) {\r\n            return &quot;&quot;;\r\n        }\r\n        else{\r\n            return fieldValue.getAsString();\r\n        }\r\n    }\r\n\r\n\r\n","title":"How to handle unavailable JSON property while passing to another method","body":"<pre><code>{&quot;key&quot;:&quot;1234&quot;, &quot;fields&quot;: {cityName&quot;:&quot;Delhi&quot;,&quot;updated&quot;:&quot;2023-04-31&quot;}\n</code></pre>\n<p>This record doesnt have <code>category</code> , so while executing</p>\n<pre><code> getValue(fieldsObj.get(&quot;category&quot;)) \n</code></pre>\n<p><code>fieldsObj.get(&quot;category&quot;)</code> will return <code>null</code> ,  and pass <code>null</code> to method <code>getValue(JsonElement fieldValue)</code> so then <code>fieldValue</code> will be null and <code>fieldValue.isJsonNull()</code> will throw Null pointer exception. You need to judge <code>null</code> before use it</p>\n<pre><code>public static String getValue(JsonElement fieldValue){\n     if(fieldValue==null || fieldValue.isJsonNull()) {\n        return &quot;&quot;;\n    }\n    else{\n        return fieldValue.getAsString();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":25497874,"reputation":41,"user_id":19291667,"display_name":"Siva_K22"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686562788,"creation_date":1686308612,"question_id":76439630,"body_markdown":"Beginner in Java working on parsing JSON array with nested objects into simplified JSON array using the below code.\r\nIt is working fine if the JSON element property is having a proper value or null, but if the property is not present it is throwing Null pointer exception, please help me how to handle this inside the data parsing method.. \r\n\r\n    import com.google.gson.*;\r\n    \r\n    public class DataParser {\r\n    \r\n    \tpublic static JsonArray parseData(JsonArray data) throws JsonParseException {\r\n    \tJsonArray dataArray = new JsonArray();\r\n            for (JsonElement dataObj : data) {\r\n                \r\n                JsonObject obj = dataObj.getAsJsonObject();\r\n                JsonObject finalDataObj = new JsonObject();            \r\n                JsonObject fieldsObj = obj.getAsJsonObject(&quot;fields&quot;);\r\n    \t\t\tfinalDataObj.add(&quot;key&quot;, obj.get(&quot;key&quot;));\r\n                finalIssueObj.addProperty(&quot;cityName&quot;, getValue(fieldsObj.get(&quot;cityName&quot;)));\r\n                finalIssueObj.addProperty(&quot;category&quot;, getValue(fieldsObj.get(&quot;category&quot;)));\r\n    \r\n                dataArray.add(finalDataObj);\r\n            }\r\n    \r\n            return dataArray;\r\n        }\r\n    \t\r\n    \t public static String getValue(JsonElement fieldValue){\r\n             if(fieldValue.isJsonNull()) {\r\n                return &quot;&quot;;\r\n            }\r\n            else{\r\n                return fieldValue.getAsString();\r\n            }\r\n        }\t\r\n\r\n}\r\n\r\nInput: \r\n\r\n    [{&quot;key&quot;:&quot;1232&quot;, &quot;fields&quot;: {cityName&quot;:&quot;Hyderabad&quot;,&quot;updated&quot;:&quot;2023-05-31&quot;,&quot;category&quot;:&quot;Dining&quot;}},\r\n    {&quot;key&quot;:&quot;1233&quot;, &quot;fields&quot;: {cityName&quot;:null,&quot;updated&quot;:&quot;2023-05-31&quot;,&quot;category&quot;:null}},\r\n    {&quot;key&quot;:&quot;1234&quot;, &quot;fields&quot;: {cityName&quot;:&quot;Delhi&quot;,&quot;updated&quot;:&quot;2023-04-31&quot;}}]\r\n\r\nOutput:\r\n\r\n    [{&quot;key&quot; : &quot;1232&quot;, &quot;cityName&quot;: &quot;Hyderabad&quot;, &quot;category&quot; : &quot;Dining&quot;}, \r\n    {&quot;key&quot; : &quot;1233&quot;, &quot;cityName&quot;: &quot;&quot;, &quot;category&quot; : &quot;&quot;},\r\n    {&quot;key&quot; : &quot;1234&quot;, &quot;cityName&quot;: &quot;Delhi&quot;, &quot;category&quot; : &quot;&quot;} ]","title":"How to handle unavailable JSON property while passing to another method","body":"<p>Beginner in Java working on parsing JSON array with nested objects into simplified JSON array using the below code.\nIt is working fine if the JSON element property is having a proper value or null, but if the property is not present it is throwing Null pointer exception, please help me how to handle this inside the data parsing method..</p>\n<pre><code>import com.google.gson.*;\n\npublic class DataParser {\n\n    public static JsonArray parseData(JsonArray data) throws JsonParseException {\n    JsonArray dataArray = new JsonArray();\n        for (JsonElement dataObj : data) {\n            \n            JsonObject obj = dataObj.getAsJsonObject();\n            JsonObject finalDataObj = new JsonObject();            \n            JsonObject fieldsObj = obj.getAsJsonObject(&quot;fields&quot;);\n            finalDataObj.add(&quot;key&quot;, obj.get(&quot;key&quot;));\n            finalIssueObj.addProperty(&quot;cityName&quot;, getValue(fieldsObj.get(&quot;cityName&quot;)));\n            finalIssueObj.addProperty(&quot;category&quot;, getValue(fieldsObj.get(&quot;category&quot;)));\n\n            dataArray.add(finalDataObj);\n        }\n\n        return dataArray;\n    }\n    \n     public static String getValue(JsonElement fieldValue){\n         if(fieldValue.isJsonNull()) {\n            return &quot;&quot;;\n        }\n        else{\n            return fieldValue.getAsString();\n        }\n    }   \n</code></pre>\n<p>}</p>\n<p>Input:</p>\n<pre><code>[{&quot;key&quot;:&quot;1232&quot;, &quot;fields&quot;: {cityName&quot;:&quot;Hyderabad&quot;,&quot;updated&quot;:&quot;2023-05-31&quot;,&quot;category&quot;:&quot;Dining&quot;}},\n{&quot;key&quot;:&quot;1233&quot;, &quot;fields&quot;: {cityName&quot;:null,&quot;updated&quot;:&quot;2023-05-31&quot;,&quot;category&quot;:null}},\n{&quot;key&quot;:&quot;1234&quot;, &quot;fields&quot;: {cityName&quot;:&quot;Delhi&quot;,&quot;updated&quot;:&quot;2023-04-31&quot;}}]\n</code></pre>\n<p>Output:</p>\n<pre><code>[{&quot;key&quot; : &quot;1232&quot;, &quot;cityName&quot;: &quot;Hyderabad&quot;, &quot;category&quot; : &quot;Dining&quot;}, \n{&quot;key&quot; : &quot;1233&quot;, &quot;cityName&quot;: &quot;&quot;, &quot;category&quot; : &quot;&quot;},\n{&quot;key&quot; : &quot;1234&quot;, &quot;cityName&quot;: &quot;Delhi&quot;, &quot;category&quot; : &quot;&quot;} ]\n</code></pre>\n"},{"tags":["java","android","exoplayer"],"comments":[{"owner":{"account_id":4323963,"reputation":156,"user_id":3531274,"display_name":"inventionsbyhamid"},"score":0,"creation_date":1652798437,"post_id":72245788,"comment_id":127690551,"body_markdown":"What is the format/container of the video file that you are trying to play?","body":"What is the format/container of the video file that you are trying to play?"},{"owner":{"account_id":17410421,"reputation":25,"user_id":12617697,"display_name":"raza raza"},"score":0,"creation_date":1654235522,"post_id":72245788,"comment_id":128047061,"body_markdown":"I am trying to play .webm format files","body":"I am trying to play .webm format files"},{"owner":{"account_id":4323963,"reputation":156,"user_id":3531274,"display_name":"inventionsbyhamid"},"score":0,"creation_date":1654256982,"post_id":72245788,"comment_id":128053606,"body_markdown":"webm encoded using VP9 is supported only on android 4.4+, you can see supported formats on different versions https://developer.android.com/guide/topics/media/media-formats","body":"webm encoded using VP9 is supported only on android 4.4+, you can see supported formats on different versions <a href=\"https://developer.android.com/guide/topics/media/media-formats\" rel=\"nofollow noreferrer\">developer.android.com/guide/topics/media/media-formats</a>"}],"answers":[{"tags":[],"owner":{"account_id":26582071,"reputation":1,"user_id":20206578,"display_name":"Khushi Saxena"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686562039,"creation_date":1686562039,"answer_id":76455259,"question_id":72245788,"body_markdown":"Video codec error arrises when you dont release your player properly.\r\nCheck the flow of exoplayer in the activtiy where you have initialised and where have released .Hence release the exoplayer before again initialising it with exoplayer.build.","title":"Video codec error com.google.android.exoplayer2.mediacodec.MediaCodecRenderer$DecoderInitializationException: Decoder init failed: Android studio","body":"<p>Video codec error arrises when you dont release your player properly.\nCheck the flow of exoplayer in the activtiy where you have initialised and where have released .Hence release the exoplayer before again initialising it with exoplayer.build.</p>\n"}],"owner":{"account_id":17410421,"reputation":25,"user_id":12617697,"display_name":"raza raza"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2942,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686562039,"creation_date":1652593456,"question_id":72245788,"body_markdown":"I am working on video player with ExoPlayer library and my working fine but in some device I am getting Video codec error, even I have try to use software decoder, but still getting same problem in some device. Any can help me to resolve this issue?\r\n\r\nhere is my code\r\n\r\n    private void playVideo() {\r\n            String path = mVideoFile.get(position).getPath();\r\n            Uri uri = Uri.parse(path);\r\n            DefaultRenderersFactory rf = new DefaultRenderersFactory(this.getApplicationContext())\r\n                    .setExtensionRendererMode(DefaultRenderersFactory.EXTENSION_RENDERER_MODE_ON).setMediaCodecSelector(\r\n                            new MediaCodecSelector() {\r\n                                @Override\r\n                                public List&lt;MediaCodecInfo&gt; getDecoderInfos(String mimeType,\r\n                                                                            boolean requiresSecureDecoder, boolean requiresTunnelingDecoder)\r\n                                        throws MediaCodecUtil.DecoderQueryException {\r\n                                    List&lt;MediaCodecInfo&gt; decoderInfos = MediaCodecSelector.DEFAULT\r\n                                            .getDecoderInfos(mimeType, requiresSecureDecoder, requiresTunnelingDecoder);\r\n                                    if (MimeTypes.VIDEO_H264.equals(mimeType)) {\r\n                                        // copy the list because MediaCodecSelector.DEFAULT returns an unmodifiable list\r\n                                        decoderInfos = new ArrayList&lt;&gt;(decoderInfos);\r\n                                        Collections.reverse(decoderInfos);\r\n                                    }\r\n                                    return decoderInfos;\r\n                                }\r\n                            });\r\n    \r\n            player = new SimpleExoPlayer.Builder(this, rf).build();\r\n            DefaultDataSourceFactory defaultDataSourceFactory = new DefaultDataSourceFactory(\r\n                    this, Util.getUserAgent(this, &quot;App&quot;)\r\n            );\r\n    \r\n      \r\n            concatenatingMediaSource = new ConcatenatingMediaSource();\r\n            for (int i = 0; i&lt;mVideoFile.size(); i++){\r\n                new File(String.valueOf(mVideoFile.get(i)));\r\n                MediaSource mediaSource = new ProgressiveMediaSource.Factory(defaultDataSourceFactory)\r\n                        .createMediaSource(MediaItem.fromUri(Uri.parse(String.valueOf(uri))));\r\n                concatenatingMediaSource.addMediaSource(mediaSource);\r\n    \r\n                playerView.setPlayer(player);\r\n                playerView.setKeepScreenOn(true);\r\n                player.prepare(concatenatingMediaSource);\r\n              //  player.seekTo(position, C.TIME_UNSET);\r\n    \r\n               playError();\r\n    \r\n            }\r\n        }","title":"Video codec error com.google.android.exoplayer2.mediacodec.MediaCodecRenderer$DecoderInitializationException: Decoder init failed: Android studio","body":"<p>I am working on video player with ExoPlayer library and my working fine but in some device I am getting Video codec error, even I have try to use software decoder, but still getting same problem in some device. Any can help me to resolve this issue?</p>\n<p>here is my code</p>\n<pre><code>private void playVideo() {\n        String path = mVideoFile.get(position).getPath();\n        Uri uri = Uri.parse(path);\n        DefaultRenderersFactory rf = new DefaultRenderersFactory(this.getApplicationContext())\n                .setExtensionRendererMode(DefaultRenderersFactory.EXTENSION_RENDERER_MODE_ON).setMediaCodecSelector(\n                        new MediaCodecSelector() {\n                            @Override\n                            public List&lt;MediaCodecInfo&gt; getDecoderInfos(String mimeType,\n                                                                        boolean requiresSecureDecoder, boolean requiresTunnelingDecoder)\n                                    throws MediaCodecUtil.DecoderQueryException {\n                                List&lt;MediaCodecInfo&gt; decoderInfos = MediaCodecSelector.DEFAULT\n                                        .getDecoderInfos(mimeType, requiresSecureDecoder, requiresTunnelingDecoder);\n                                if (MimeTypes.VIDEO_H264.equals(mimeType)) {\n                                    // copy the list because MediaCodecSelector.DEFAULT returns an unmodifiable list\n                                    decoderInfos = new ArrayList&lt;&gt;(decoderInfos);\n                                    Collections.reverse(decoderInfos);\n                                }\n                                return decoderInfos;\n                            }\n                        });\n\n        player = new SimpleExoPlayer.Builder(this, rf).build();\n        DefaultDataSourceFactory defaultDataSourceFactory = new DefaultDataSourceFactory(\n                this, Util.getUserAgent(this, &quot;App&quot;)\n        );\n\n  \n        concatenatingMediaSource = new ConcatenatingMediaSource();\n        for (int i = 0; i&lt;mVideoFile.size(); i++){\n            new File(String.valueOf(mVideoFile.get(i)));\n            MediaSource mediaSource = new ProgressiveMediaSource.Factory(defaultDataSourceFactory)\n                    .createMediaSource(MediaItem.fromUri(Uri.parse(String.valueOf(uri))));\n            concatenatingMediaSource.addMediaSource(mediaSource);\n\n            playerView.setPlayer(player);\n            playerView.setKeepScreenOn(true);\n            player.prepare(concatenatingMediaSource);\n          //  player.seekTo(position, C.TIME_UNSET);\n\n           playError();\n\n        }\n    }\n</code></pre>\n"},{"tags":["java","spring-boot","jax-rs","websphere"],"comments":[{"owner":{"account_id":3358370,"reputation":86,"user_id":2820791,"display_name":"Graham"},"score":0,"creation_date":1684419231,"post_id":76278762,"comment_id":134517228,"body_markdown":"FYI, WebSphere Liberty is supported on Azure - in VMs, AKS and ARO.  If you have any challenges you can raise a support ticket or Aha Idea if there&#39;s a gap.","body":"FYI, WebSphere Liberty is supported on Azure - in VMs, AKS and ARO.  If you have any challenges you can raise a support ticket or Aha Idea if there&#39;s a gap."},{"owner":{"account_id":2829539,"reputation":33,"user_id":2431392,"display_name":"Kailash"},"score":0,"creation_date":1684477921,"post_id":76278762,"comment_id":134525953,"body_markdown":"Thank you @Graham. yeah WebSphere Liberty is supported on Azure but we face more challenges. Our other team already tried that. Converting JAX-RS project to Spring Boot makes it easy to maintain and library support is great.","body":"Thank you @Graham. yeah WebSphere Liberty is supported on Azure but we face more challenges. Our other team already tried that. Converting JAX-RS project to Spring Boot makes it easy to maintain and library support is great."}],"answers":[{"tags":[],"owner":{"account_id":2829539,"reputation":33,"user_id":2431392,"display_name":"Kailash"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1686561627,"creation_date":1686552807,"answer_id":76454211,"question_id":76278762,"body_markdown":"I could not find any direct ways or solutions to convert JAX-RS based project to Spring Boot based project but I did follow below steps and then was able to run the application locally on Tomcat first before deploying to other lower environments.\r\n\r\n - Created Skelton of Spring Boot project similar to existing project.\r\n - Created required packages similar to existing packages structure which \r\n   was there in JAX-RS based project.\r\n - Removed all folders which were not needed in new structure like EAR,\r\n   DAR, RequestProcessor, RestWeb pipeline_config, ejbrefs-repl.xml and\r\n   other not required files.\r\n - Kept only one master pom.xml and removed all `&lt;modules&gt; &lt;/modules&gt;`\r\n   from main pom.\r\n - Added spring-boot dependency in the master main pom.\r\n - Created a main class annotated with `@SpringBootApplication`\r\n   annotation.\r\n - Added application.properties file with required info.\r\n - Initial Implementation of annotation `@component` and  `@Autowired`.\r\n - Removed `@Inject` and added ` @Autowired`\r\n - Annotation `@value` added for service calls.\r\n\r\nApart from these, resolving small minor compilation errors helped me to run the application locally.\r\n\r\nThanks everyone who read my question and tried for the solution.\r\n\r\nHappy Coding !","title":"Need to convert JAX-RS based legacy project to Spring boot project","body":"<p>I could not find any direct ways or solutions to convert JAX-RS based project to Spring Boot based project but I did follow below steps and then was able to run the application locally on Tomcat first before deploying to other lower environments.</p>\n<ul>\n<li>Created Skelton of Spring Boot project similar to existing project.</li>\n<li>Created required packages similar to existing packages structure which\nwas there in JAX-RS based project.</li>\n<li>Removed all folders which were not needed in new structure like EAR,\nDAR, RequestProcessor, RestWeb pipeline_config, ejbrefs-repl.xml and\nother not required files.</li>\n<li>Kept only one master pom.xml and removed all <code>&lt;modules&gt; &lt;/modules&gt;</code>\nfrom main pom.</li>\n<li>Added spring-boot dependency in the master main pom.</li>\n<li>Created a main class annotated with <code>@SpringBootApplication</code>\nannotation.</li>\n<li>Added application.properties file with required info.</li>\n<li>Initial Implementation of annotation <code>@component</code> and  <code>@Autowired</code>.</li>\n<li>Removed <code>@Inject</code> and added <code> @Autowired</code></li>\n<li>Annotation <code>@value</code> added for service calls.</li>\n</ul>\n<p>Apart from these, resolving small minor compilation errors helped me to run the application locally.</p>\n<p>Thanks everyone who read my question and tried for the solution.</p>\n<p>Happy Coding !</p>\n"}],"owner":{"account_id":2829539,"reputation":33,"user_id":2431392,"display_name":"Kailash"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":172,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76454211,"answer_count":1,"score":-1,"last_activity_date":1686561627,"creation_date":1684396088,"question_id":76278762,"body_markdown":"We have a legacy project based on JAX-RX (REST API) which runs on a WebSphere Liberty. Now we are in a need to migrate our on-premises applications (APIs) to Microsoft Azure. \r\n\r\nAs there is less support for Liberty on Azure and we faced few challenges when we deployed on Azure, our architect has decided and asked us to move this project to Spring Boot.\r\n\r\nWhat is the proper way to integrate the legacy code with Spring Boot? The existing project does not have the main method. This is quite a big project. \r\n","title":"Need to convert JAX-RS based legacy project to Spring boot project","body":"<p>We have a legacy project based on JAX-RX (REST API) which runs on a WebSphere Liberty. Now we are in a need to migrate our on-premises applications (APIs) to Microsoft Azure.</p>\n<p>As there is less support for Liberty on Azure and we faced few challenges when we deployed on Azure, our architect has decided and asked us to move this project to Spring Boot.</p>\n<p>What is the proper way to integrate the legacy code with Spring Boot? The existing project does not have the main method. This is quite a big project.</p>\n"},{"tags":["java","spring-data-jpa"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1686561201,"post_id":76455037,"comment_id":134810048,"body_markdown":"hi &amp; welcome! &quot;I am trying to save an object of the Weather in the database&quot; - looks normal! &quot;but it is not saved and no errors are issued.&quot; this is strange! &quot;What could be the problem?&quot; ..since there are no errors, please: verify your (application + verification) database connection(s) (are identical)","body":"hi &amp; welcome! &quot;I am trying to save an object of the Weather in the database&quot; - looks normal! &quot;but it is not saved and no errors are issued.&quot; this is strange! &quot;What could be the problem?&quot; ..since there are no errors, please: verify your (application + verification) database connection(s) (are identical)"}],"answers":[{"tags":[],"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686561623,"creation_date":1686561623,"answer_id":76455203,"question_id":76455037,"body_markdown":"JPA repositories will be auto-configured during start of Spring Boot application.\r\n\r\nFirst check if the auto-configuration found your `WeatherRepository`. In the application log you should see:\r\n\r\n    Finished Spring Data repository scanning in NNN ms. Found XXX JPA repository interfaces.\r\n\r\nThe number of repositories XXX should equals the actual number of JPA repositories in your application.\r\n\r\nIf the number is 0 then check the package of the main application class. For auto-configuration to work smoothly it should be something like:\r\n\r\n    package com.example;\r\n\r\nbecause it will be the base package for scanning your application for JPA entities and repositories. The other classes should follow this convention using for example:\r\n\r\n    package com.example.jpa;\r\n    package com.example.mvc;\r\n\r\n","title":"JpaRepository does not save the object in the database","body":"<p>JPA repositories will be auto-configured during start of Spring Boot application.</p>\n<p>First check if the auto-configuration found your <code>WeatherRepository</code>. In the application log you should see:</p>\n<pre><code>Finished Spring Data repository scanning in NNN ms. Found XXX JPA repository interfaces.\n</code></pre>\n<p>The number of repositories XXX should equals the actual number of JPA repositories in your application.</p>\n<p>If the number is 0 then check the package of the main application class. For auto-configuration to work smoothly it should be something like:</p>\n<pre><code>package com.example;\n</code></pre>\n<p>because it will be the base package for scanning your application for JPA entities and repositories. The other classes should follow this convention using for example:</p>\n<pre><code>package com.example.jpa;\npackage com.example.mvc;\n</code></pre>\n"}],"owner":{"account_id":28803316,"reputation":11,"user_id":22059715,"display_name":"Просто Смешно"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686561623,"creation_date":1686560316,"question_id":76455037,"body_markdown":"I am trying to save an object of the Weather in the database, but it is not saved and no errors are issued. What could be the problem?\r\n\r\n    package com.example.Testww.rep;\r\n\r\n    import com.example.Testww.Weather;\r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n    import org.springframework.stereotype.Repository;\r\n\r\n    @Repository\r\n    public interface WeatherRepository extends JpaRepository&lt;Weather, Long&gt; {\r\n    }\r\n    \r\n   package com.example.Testww;\r\n\r\n    import com.example.Testww.rep.WeatherRepository;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/weather&quot;)\r\n    public class Controller {\r\n\r\n    WeatherService weatherService;\r\n    @Autowired\r\n    public Controller(WeatherService weatherService){\r\n        this.weatherService= weatherService;\r\n    }\r\n    @GetMapping(&quot;/save&quot;)\r\n    public void SsaveWeather(){\r\n        Weather weather = new Weather();\r\n        weather.setHumidity(5.5);\r\n        weather.setTemperature(15.5);\r\n        weatherService.saveWeather(weather);\r\n    }\r\n    }\r\n\r\n   package com.example.Testww;\r\n\r\n    import com.example.Testww.rep.WeatherRepository;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Service;\r\n\r\n    @Service\r\n    public class WeatherService {\r\n\r\n    WeatherRepository weatherRepository;\r\n    @Autowired\r\n    public WeatherService(WeatherRepository weatherRepository){\r\n        this.weatherRepository = weatherRepository;\r\n    }\r\n\r\n    public void saveWeather(Weather weather){\r\n        weatherRepository.save(weather);\r\n    }\r\n    }\r\n\r\n\r\nI changed annotations, created configs, reconnected the database, but nothing helped.","title":"JpaRepository does not save the object in the database","body":"<p>I am trying to save an object of the Weather in the database, but it is not saved and no errors are issued. What could be the problem?</p>\n<pre><code>package com.example.Testww.rep;\n\nimport com.example.Testww.Weather;\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\n@Repository\npublic interface WeatherRepository extends JpaRepository&lt;Weather, Long&gt; {\n}\n</code></pre>\n<p>package com.example.Testww;</p>\n<pre><code>import com.example.Testww.rep.WeatherRepository;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\n@RequestMapping(&quot;/weather&quot;)\npublic class Controller {\n\nWeatherService weatherService;\n@Autowired\npublic Controller(WeatherService weatherService){\n    this.weatherService= weatherService;\n}\n@GetMapping(&quot;/save&quot;)\npublic void SsaveWeather(){\n    Weather weather = new Weather();\n    weather.setHumidity(5.5);\n    weather.setTemperature(15.5);\n    weatherService.saveWeather(weather);\n}\n}\n</code></pre>\n<p>package com.example.Testww;</p>\n<pre><code>import com.example.Testww.rep.WeatherRepository;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\n\n@Service\npublic class WeatherService {\n\nWeatherRepository weatherRepository;\n@Autowired\npublic WeatherService(WeatherRepository weatherRepository){\n    this.weatherRepository = weatherRepository;\n}\n\npublic void saveWeather(Weather weather){\n    weatherRepository.save(weather);\n}\n}\n</code></pre>\n<p>I changed annotations, created configs, reconnected the database, but nothing helped.</p>\n"},{"tags":["java","bash","redis","testcontainers"],"answers":[{"tags":[],"owner":{"account_id":2470100,"reputation":205,"user_id":2152207,"display_name":"Luk&#225;š Gemela"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1635668897,"creation_date":1635665218,"answer_id":69784736,"question_id":69569247,"body_markdown":"I raised [this issue](https://github.com/testcontainers/testcontainers-java/issues/4612#issuecomment-955590270) with the testcontainers team.\r\n\r\nIt looks like you can do:\r\n\r\n    execInContainer(&quot;sh&quot;, &quot;-c&quot;, &quot;foo | bar&quot;)\r\n\r\nCan you please try this? It should work.","title":"How to pipe commands in testcontainers execInContainer metod","body":"<p>I raised <a href=\"https://github.com/testcontainers/testcontainers-java/issues/4612#issuecomment-955590270\" rel=\"nofollow noreferrer\">this issue</a> with the testcontainers team.</p>\n<p>It looks like you can do:</p>\n<pre><code>execInContainer(&quot;sh&quot;, &quot;-c&quot;, &quot;foo | bar&quot;)\n</code></pre>\n<p>Can you please try this? It should work.</p>\n"},{"tags":[],"owner":{"account_id":3075143,"reputation":91,"user_id":2604720,"display_name":"michalxo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686561245,"creation_date":1686561245,"answer_id":76455154,"question_id":69569247,"body_markdown":"Just a note (for future myself :-) ), one can use redirection, pipe and other bash features in this manner.\r\n\r\n``` java\r\nexecInContainer(&quot;sh&quot;, &quot;-c&quot;, &quot;echo &#39;foo;&#39; &gt; bar&quot;);\r\n```","title":"How to pipe commands in testcontainers execInContainer metod","body":"<p>Just a note (for future myself :-) ), one can use redirection, pipe and other bash features in this manner.</p>\n<pre class=\"lang-java prettyprint-override\"><code>execInContainer(&quot;sh&quot;, &quot;-c&quot;, &quot;echo 'foo;' &gt; bar&quot;);\n</code></pre>\n"}],"owner":{"account_id":7731182,"reputation":427,"user_id":5854270,"accept_rate":55,"display_name":"slovvic"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1357,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":2,"score":2,"last_activity_date":1686561245,"creation_date":1634207962,"question_id":69569247,"body_markdown":"I would like to run piped commands on docker through testcontainer `execInContainer` method. I&#39;m able to run a single command (e.g. `execInContainer(&quot;redis-cli&quot;,  &quot;keys&quot;, &quot;*&quot;)`, but when providing a pipe (e.g. `execInContainer(&quot;redis-cli&quot;,  &quot;keys&quot;, &quot;*&quot;, &quot;|&quot;, &quot;grep&quot;, &quot;-v&quot;, &quot;test&quot;)`) it reads it as it belongs to the previous command (`ERR wrong number of arguments for &#39;keys&#39; command`). What I want to achieve is to remove all keys from redis, beside one. The full script is as follow `redis-cli keys * | grep -v test | xargs redis-cli DEL`. Any idea how could I do this?","title":"How to pipe commands in testcontainers execInContainer metod","body":"<p>I would like to run piped commands on docker through testcontainer <code>execInContainer</code> method. I'm able to run a single command (e.g. <code>execInContainer(&quot;redis-cli&quot;,  &quot;keys&quot;, &quot;*&quot;)</code>, but when providing a pipe (e.g. <code>execInContainer(&quot;redis-cli&quot;,  &quot;keys&quot;, &quot;*&quot;, &quot;|&quot;, &quot;grep&quot;, &quot;-v&quot;, &quot;test&quot;)</code>) it reads it as it belongs to the previous command (<code>ERR wrong number of arguments for 'keys' command</code>). What I want to achieve is to remove all keys from redis, beside one. The full script is as follow <code>redis-cli keys * | grep -v test | xargs redis-cli DEL</code>. Any idea how could I do this?</p>\n"},{"tags":["java","junit","mockito"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1686561964,"post_id":76454039,"comment_id":134810217,"body_markdown":"don&#39;t &quot;mock the list&quot; (you can use a real one), but &quot;mock&quot;/setup `this.getSomeDetails(mobileNumber,user)` to return the expected `Future` (also no need to mock the &quot;future&quot; with CompletableFuture.completedFuture(...))","body":"don&#39;t &quot;mock the list&quot; (you can use a real one), but &quot;mock&quot;/setup <code>this.getSomeDetails(mobileNumber,user)</code> to return the expected <code>Future</code> (also no need to mock the &quot;future&quot; with CompletableFuture.completedFuture(...))"}],"answers":[{"tags":[],"owner":{"account_id":2772045,"reputation":962,"user_id":2386451,"accept_rate":58,"display_name":"KFleischer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686560828,"creation_date":1686560828,"answer_id":76455106,"question_id":76454039,"body_markdown":"I assume your &quot;result&quot; is created inside onComplete().\r\n\r\nIf this is the case, you can not mock it unless the &quot;production code&quot; of the result is externalized. (i.e. Into an injected factorys)\r\n\r\nBut this condition looks pretty easy to achieve. It looks like, you simply have to run your test with at least 1 value in the list (to reach that else branch).\r\n","title":"Sonar code coverage satisfy a condition using mockito","body":"<p>I assume your &quot;result&quot; is created inside onComplete().</p>\n<p>If this is the case, you can not mock it unless the &quot;production code&quot; of the result is externalized. (i.e. Into an injected factorys)</p>\n<p>But this condition looks pretty easy to achieve. It looks like, you simply have to run your test with at least 1 value in the list (to reach that else branch).</p>\n"}],"owner":{"account_id":2085695,"reputation":1023,"user_id":1856744,"accept_rate":4,"display_name":"Stunner"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":131,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686560828,"creation_date":1686550930,"question_id":76454039,"body_markdown":"I am trying to increase code coverage of my project and facing challenge in making my Unit test case to reach else block in the below code `(#def)` \r\n\r\n\r\n\r\n     Future&lt;List&lt;String&gt;&gt; myList = this.getSomeDetails(mobileNumber,user);\r\n     myList.onComplete( result -&gt; \r\n     {\r\n        if(result.succeeded())\r\n        {\r\n              List&lt;String&gt; mobileList  = result.result();\r\n              if(mobileList.isEmpty()){\r\n               //some code #abc\r\n              }\r\n              else{\r\n                //some code #def\r\n             }\r\n        }\r\n    });\r\n          \r\nThis is what I have tried in my UT but somehow it still returns true and the else block is not executed. Any idea how do i cover the else block through my UT?\r\n\r\n        List mockedList =Mockito.mock(List.class);\r\n        Mockito.when(mockedList.isEmpty()).thenReturn(false);","title":"Sonar code coverage satisfy a condition using mockito","body":"<p>I am trying to increase code coverage of my project and facing challenge in making my Unit test case to reach else block in the below code <code>(#def)</code></p>\n<pre><code> Future&lt;List&lt;String&gt;&gt; myList = this.getSomeDetails(mobileNumber,user);\n myList.onComplete( result -&gt; \n {\n    if(result.succeeded())\n    {\n          List&lt;String&gt; mobileList  = result.result();\n          if(mobileList.isEmpty()){\n           //some code #abc\n          }\n          else{\n            //some code #def\n         }\n    }\n});\n      \n</code></pre>\n<p>This is what I have tried in my UT but somehow it still returns true and the else block is not executed. Any idea how do i cover the else block through my UT?</p>\n<pre><code>    List mockedList =Mockito.mock(List.class);\n    Mockito.when(mockedList.isEmpty()).thenReturn(false);\n</code></pre>\n"},{"tags":["java","listview","javafx"],"comments":[{"owner":{"account_id":26879624,"reputation":386,"user_id":20460294,"display_name":"Anon"},"score":0,"creation_date":1686563411,"post_id":76455069,"comment_id":134810505,"body_markdown":"just put setup has the controller in the setup-view.fxml and add a getter for the label","body":"just put setup has the controller in the setup-view.fxml and add a getter for the label"},{"owner":{"account_id":20844816,"reputation":33,"user_id":15310574,"display_name":"Paweł Czekaj"},"score":0,"creation_date":1686566521,"post_id":76455069,"comment_id":134811166,"body_markdown":"Do u want me to put this: fx:controller=&quot;st.statistictraderv3.controller.setups&quot; in the setup-view.fxml? I can&#39;t do that, as FXML is invoked multiple times, and each time needs to have its own controller instance I think, or am I wrong?","body":"Do u want me to put this: fx:controller=&quot;st.statistictraderv3.controller.setups&quot; in the setup-view.fxml? I can&#39;t do that, as FXML is invoked multiple times, and each time needs to have its own controller instance I think, or am I wrong?"},{"owner":{"account_id":20844816,"reputation":33,"user_id":15310574,"display_name":"Paweł Czekaj"},"score":0,"creation_date":1686567055,"post_id":76455069,"comment_id":134811271,"body_markdown":"Ok I&#39;ve found the solution, so My setup.controller needs to Implement Initializable, and changes to Label gotta be apllied in initialized function :)","body":"Ok I&#39;ve found the solution, so My setup.controller needs to Implement Initializable, and changes to Label gotta be apllied in initialized function :)"}],"owner":{"account_id":20844816,"reputation":33,"user_id":15310574,"display_name":"Paweł Czekaj"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686560516,"creation_date":1686560516,"question_id":76455069,"body_markdown":"I&#39;ve got ListView. Tryn to modify Cells to display FXML template. For some reason when accessing @FXML Label setupName ( id of my label) inside ccontroller, I&#39;m getting error that it&#39;s null: &quot;Cannot invoke &quot;javafx.scene.control.Label.setText(String)&quot; because &quot;this.setupName&quot; is null&quot;\r\n\r\nCode:\r\n\r\n```\r\npublic class setups implements Initializable {\r\n\r\n    @FXML\r\n    private ListView&lt;Setup&gt; setupsListView;\r\n    @FXML\r\n    private ListView&lt;Tag&gt; tagListView;\r\n   private final int[] arr = {1,2,3,4};\r\n   public List&lt;Tag&gt; tags;\r\n   public List&lt;Setup&gt; setups;\r\n\r\n\r\n   public setups() throws IOException {\r\n       this.tags =  new Tags().getTags();\r\n       this.setups = new Setups().getSetups();\r\n\r\n   }\r\n\r\n    @Override\r\n    public void initialize(URL url, ResourceBundle resourceBundle) {\r\n\r\n        tagListView.getItems().addAll(tags);\r\n        tagListView.getSelectionModel().selectFirst();\r\n        System.out.print(&quot;tag.id: &quot;);\r\n        System.out.println(tagListView.getSelectionModel().getSelectedItem().ID);\r\n        setupsListView.getItems().addAll(setups);\r\n        setupsListView.getSelectionModel().selectFirst();\r\n        System.out.print(&quot;setup.id: &quot;);\r\n        System.out.println(setupsListView.getSelectionModel().getSelectedItem().getID());\r\n\r\n        setupsListView.setCellFactory(new Callback&lt;ListView&lt;Setup&gt;, ListCell&lt;Setup&gt;&gt;() {\r\n            @Override\r\n            public ListCell&lt;Setup&gt; call(ListView&lt;Setup&gt; setupListView) {\r\n                return new createSetupComponent();\r\n            }\r\n        });\r\n    }\r\n\r\n    public void clicked(){\r\n        System.out.println(tagListView.getSelectionModel().getSelectedItems());\r\n    }\r\n\r\n    static class createSetupComponent extends ListCell&lt;Setup&gt;{\r\n        @Override\r\n        public void updateItem(Setup item, boolean empty){\r\n            super.updateItem(item, empty);\r\n            if(item != null){\r\n                FXMLLoader loader = new FXMLLoader(Main.class.getResource(&quot;setup-view.fxml&quot;));\r\n                loader.setController(new setup(item.getID(), item.getName()));\r\n                try {\r\n                    Parent parent = loader.load();\r\n                    setGraphic(parent);\r\n                } catch (IOException e) {\r\n                    throw new RuntimeException(e);\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\nCode for the controller:\r\n```\r\npackage st.statistictraderv3.controller;\r\n\r\nimport javafx.fxml.FXML;\r\nimport javafx.scene.control.Label;\r\n\r\npublic class setup {\r\n    public int ID;\r\n    public String name;\r\n\r\n    @FXML\r\n    private Label setupName;\r\n\r\n    public setup(int i, String name){\r\n        this.ID = i;\r\n        this.name = name;\r\n        setupName.setText(this.name);\r\n        System.out.println(&quot;i of setup: &quot; + i);\r\n    }\r\n}\r\n\r\n```\r\n\r\nIf I comment out the &quot;setupName.setText()&quot;, program is running ( however no dynamic labels which is what I&#39;m aiming for )","title":"JavaFX updating ListCell into FXML template, getting null pointer when accessing @FXML id","body":"<p>I've got ListView. Tryn to modify Cells to display FXML template. For some reason when accessing @FXML Label setupName ( id of my label) inside ccontroller, I'm getting error that it's null: &quot;Cannot invoke &quot;javafx.scene.control.Label.setText(String)&quot; because &quot;this.setupName&quot; is null&quot;</p>\n<p>Code:</p>\n<pre><code>public class setups implements Initializable {\n\n    @FXML\n    private ListView&lt;Setup&gt; setupsListView;\n    @FXML\n    private ListView&lt;Tag&gt; tagListView;\n   private final int[] arr = {1,2,3,4};\n   public List&lt;Tag&gt; tags;\n   public List&lt;Setup&gt; setups;\n\n\n   public setups() throws IOException {\n       this.tags =  new Tags().getTags();\n       this.setups = new Setups().getSetups();\n\n   }\n\n    @Override\n    public void initialize(URL url, ResourceBundle resourceBundle) {\n\n        tagListView.getItems().addAll(tags);\n        tagListView.getSelectionModel().selectFirst();\n        System.out.print(&quot;tag.id: &quot;);\n        System.out.println(tagListView.getSelectionModel().getSelectedItem().ID);\n        setupsListView.getItems().addAll(setups);\n        setupsListView.getSelectionModel().selectFirst();\n        System.out.print(&quot;setup.id: &quot;);\n        System.out.println(setupsListView.getSelectionModel().getSelectedItem().getID());\n\n        setupsListView.setCellFactory(new Callback&lt;ListView&lt;Setup&gt;, ListCell&lt;Setup&gt;&gt;() {\n            @Override\n            public ListCell&lt;Setup&gt; call(ListView&lt;Setup&gt; setupListView) {\n                return new createSetupComponent();\n            }\n        });\n    }\n\n    public void clicked(){\n        System.out.println(tagListView.getSelectionModel().getSelectedItems());\n    }\n\n    static class createSetupComponent extends ListCell&lt;Setup&gt;{\n        @Override\n        public void updateItem(Setup item, boolean empty){\n            super.updateItem(item, empty);\n            if(item != null){\n                FXMLLoader loader = new FXMLLoader(Main.class.getResource(&quot;setup-view.fxml&quot;));\n                loader.setController(new setup(item.getID(), item.getName()));\n                try {\n                    Parent parent = loader.load();\n                    setGraphic(parent);\n                } catch (IOException e) {\n                    throw new RuntimeException(e);\n                }\n            }\n        }\n    }\n}\n\n</code></pre>\n<p>Code for the controller:</p>\n<pre><code>package st.statistictraderv3.controller;\n\nimport javafx.fxml.FXML;\nimport javafx.scene.control.Label;\n\npublic class setup {\n    public int ID;\n    public String name;\n\n    @FXML\n    private Label setupName;\n\n    public setup(int i, String name){\n        this.ID = i;\n        this.name = name;\n        setupName.setText(this.name);\n        System.out.println(&quot;i of setup: &quot; + i);\n    }\n}\n\n</code></pre>\n<p>If I comment out the &quot;setupName.setText()&quot;, program is running ( however no dynamic labels which is what I'm aiming for )</p>\n"},{"tags":["java","multithreading","thread-safety","volatile"],"comments":[{"owner":{"account_id":3023214,"reputation":20362,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":2,"creation_date":1686397054,"post_id":76445995,"comment_id":134795018,"body_markdown":"Seems like you have a use case for a [`ConcurrentMap`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ConcurrentMap.html). The `volatile` keyword only makes sure that the content of the variable is seen by all threads if it changes. But the variable content is the reference to your data structure (i.e. your map), not the map&#39;s values or keys.","body":"Seems like you have a use case for a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ConcurrentMap.html\" rel=\"nofollow noreferrer\"><code>ConcurrentMap</code></a>. The <code>volatile</code> keyword only makes sure that the content of the variable is seen by all threads if it changes. But the variable content is the reference to your data structure (i.e. your map), not the map&#39;s values or keys."},{"owner":{"account_id":22929532,"reputation":58,"user_id":17064082,"display_name":"Jack Lam"},"score":0,"creation_date":1686397537,"post_id":76445995,"comment_id":134795050,"body_markdown":"For no variable can be removed once it has been added, you can check out Immutable map provided by Guava","body":"For no variable can be removed once it has been added, you can check out Immutable map provided by Guava"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1686403804,"post_id":76445995,"comment_id":134795650,"body_markdown":"You meed to be more specific about your problem.  We can&#39;t reason about whether using `volatile` will work without 1) seeing the proposed code and 2) knowing what properties the code needs to satisfy.  (I think that there *some* cases where you could use a `volatile` for this ... but I don&#39;t know if these use-cases match your use-case.)","body":"You meed to be more specific about your problem.  We can&#39;t reason about whether using <code>volatile</code> will work without 1) seeing the proposed code and 2) knowing what properties the code needs to satisfy.  (I think that there <i>some</i> cases where you could use a <code>volatile</code> for this ... but I don&#39;t know if these use-cases match your use-case.)"}],"answers":[{"tags":[],"owner":{"account_id":22394789,"reputation":1382,"user_id":16606223,"display_name":"Yahor Barkouski"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1686397796,"creation_date":1686397796,"answer_id":76446071,"question_id":76445995,"body_markdown":"The `volatile` only ensures that changes to a variable are immediately visible to all threads (!), but it doesn&#39;t guarantee atomicity for compound operations, like adding or removing elements in a collection, so if you&#39;re trying to:\r\n\r\n- **adding elements only**: using volatile can be kinda okay, ensuring the reference to the collection is up-to-date for all threads.\r\n- **removing elements**: volatile is not enough. You need atomicity for operations like putIfAbsent or remove.\r\n\r\nIn both cases `volatile` does not protect the internal structure of the collection, so for complete thread safety you may consider using concurrent collections like `ConcurrentHashMap` or `CopyOnWriteArrayList`\r\n","title":"Is volatile enough to check on a collection/map?","body":"<p>The <code>volatile</code> only ensures that changes to a variable are immediately visible to all threads (!), but it doesn't guarantee atomicity for compound operations, like adding or removing elements in a collection, so if you're trying to:</p>\n<ul>\n<li><strong>adding elements only</strong>: using volatile can be kinda okay, ensuring the reference to the collection is up-to-date for all threads.</li>\n<li><strong>removing elements</strong>: volatile is not enough. You need atomicity for operations like putIfAbsent or remove.</li>\n</ul>\n<p>In both cases <code>volatile</code> does not protect the internal structure of the collection, so for complete thread safety you may consider using concurrent collections like <code>ConcurrentHashMap</code> or <code>CopyOnWriteArrayList</code></p>\n"},{"tags":[],"owner":{"account_id":24792239,"reputation":413,"user_id":18675173,"display_name":"lant"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686560492,"creation_date":1686560492,"answer_id":76455067,"question_id":76445995,"body_markdown":"    volatile Map&lt;Object,Object&gt; map = new HashMap&lt;&gt;();\r\n    map = new HashMap&lt;&gt;();\r\nchanging map is visble to other thread\r\n\r\n    map.put(&quot;sth&quot;,&quot;sth&quot;);\r\nchanging the contents of the map is not immediately visible.\r\n\r\nIf you want change the contents of map,`volatile` is not enough. You can use `ConcurrentHashMap`,it has handled visibility in its internal implement, or you can use map and lock to ensure visibility. ","title":"Is volatile enough to check on a collection/map?","body":"<pre><code>volatile Map&lt;Object,Object&gt; map = new HashMap&lt;&gt;();\nmap = new HashMap&lt;&gt;();\n</code></pre>\n<p>changing map is visble to other thread</p>\n<pre><code>map.put(&quot;sth&quot;,&quot;sth&quot;);\n</code></pre>\n<p>changing the contents of the map is not immediately visible.</p>\n<p>If you want change the contents of map,<code>volatile</code> is not enough. You can use <code>ConcurrentHashMap</code>,it has handled visibility in its internal implement, or you can use map and lock to ensure visibility.</p>\n"}],"owner":{"account_id":27776676,"reputation":1,"user_id":21205886,"display_name":"Dario Franzese"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1686560492,"creation_date":1686396067,"question_id":76445995,"body_markdown":"Let&#39;s suppose i have a collection or a map in a multi-threaded enviroment , and i have to execute certain operations based on if a value is in the Data Structure (the operations have nothing to do with the DS).\\\r\nIn my specific problem, **no variable can be removed once it has been added**.\\\r\nCould i check this condition safely only by adding &quot;volatile&quot; to the DS?\\\r\nWhat if removes were allowed?","title":"Is volatile enough to check on a collection/map?","body":"<p>Let's suppose i have a collection or a map in a multi-threaded enviroment , and i have to execute certain operations based on if a value is in the Data Structure (the operations have nothing to do with the DS).<br />\nIn my specific problem, <strong>no variable can be removed once it has been added</strong>.<br />\nCould i check this condition safely only by adding &quot;volatile&quot; to the DS?<br />\nWhat if removes were allowed?</p>\n"},{"tags":["java","android","kotlin","tensorflow","tensorflow-lite"],"comments":[{"owner":{"account_id":10408148,"reputation":1398,"user_id":7674438,"accept_rate":100,"display_name":"Lore"},"score":0,"creation_date":1686580140,"post_id":76455056,"comment_id":134814292,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"owner":{"account_id":28803283,"reputation":1,"user_id":22059687,"display_name":"SumRok"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686560433,"creation_date":1686560433,"question_id":76455056,"body_markdown":"I am developing an app using a camera and tensorflow lite.\r\n\r\nI&#39;ve succeeded in processing images using an image reader, but I want to have no image reader for the performance of my app.\r\n\r\nThe most effective way I want is to use the surface to create and process the tensorImage.\r\n\r\nBut I couldn&#39;t find this way, and I couldn&#39;t implement it.\r\n\r\nCan anyone know or help with this?","title":"how to tensorflow processing not use bitmap for android","body":"<p>I am developing an app using a camera and tensorflow lite.</p>\n<p>I've succeeded in processing images using an image reader, but I want to have no image reader for the performance of my app.</p>\n<p>The most effective way I want is to use the surface to create and process the tensorImage.</p>\n<p>But I couldn't find this way, and I couldn't implement it.</p>\n<p>Can anyone know or help with this?</p>\n"},{"tags":["java","jms","azureservicebus","spring-jms","azure-servicebus-topics"],"owner":{"account_id":17245293,"reputation":11,"user_id":12486723,"display_name":"peachish11235"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686560361,"creation_date":1686560361,"question_id":76455044,"body_markdown":"So I can send a first message, it get consumed just fine. Then I immediately send another message but it doesn&#39;t get picked up by listener. I wait around 4 mins then send another message which gets picked up by the listener. Although the second message gets lost and never sent. \r\n\r\nI&#39;m sending messages manually through the azure service bus explorer.\r\n\r\nHere is my config and listener\r\n\r\nConfig: \r\n\r\n\r\n```\r\n    @Bean\r\n    public JmsListenerContainerFactory&lt;DefaultMessageListenerContainer&gt; topicContainerFactory(\r\n        ConnectionFactory jmsConnectionFactory,\r\n        DefaultJmsListenerContainerFactoryConfigurer configurer) {\r\n        DefaultJmsListenerContainerFactory factory = new DefaultJmsListenerContainerFactory();\r\n        factory.setConnectionFactory(jmsConnectionFactory);\r\n        factory.setReceiveTimeout(receiveTimeout);\r\n        factory.setSubscriptionDurable(Boolean.TRUE);\r\n        factory.setSessionTransacted(Boolean.TRUE);\r\n        factory.setSessionAcknowledgeMode(Session.SESSION_TRANSACTED);\r\n\r\n        configurer.configure(factory, jmsConnectionFactory);\r\n        return factory;\r\n    }\r\n\r\n    @Bean\r\n    public ConnectionFactory jmsConnectionFactory(@Value(&quot;${spring.application.name}&quot;) final String clientId) {\r\n        String connection = String.format(AMQP_CONNECTION_STRING_TEMPLATE, namespace + connectionPostfix, idleTimeout);\r\n        JmsConnectionFactory jmsConnectionFactory = new JmsConnectionFactory(connection);\r\n        jmsConnectionFactory.setUsername(username);\r\n        jmsConnectionFactory.setPassword(password);\r\n        jmsConnectionFactory.setClientID(clientId);\r\n\r\n        return new CachingConnectionFactory(jmsConnectionFactory);\r\n    }\r\n```\r\n\r\nListener:\r\n\r\n\r\n```\r\n@JmsListener(\r\n        destination = &quot;${azure.topicName}&quot;,\r\n        subscription = &quot;${azure.subscriptionName}&quot;,\r\n        containerFactory = &quot;topicContainerFactory&quot;)\r\n    public void onMessage(Message message) throws JMSException, HmcTopicEventProcessingException {\r\n        log.info(&quot;message received&quot;);\r\n}\r\n```\r\n\r\n\r\n\r\nBasically I need all messages to be consumed by the listener so I&#39;m not sure why some are getting lost.","title":"JmsListener picks up the first message but ignores subsequent messages until a few minutes later","body":"<p>So I can send a first message, it get consumed just fine. Then I immediately send another message but it doesn't get picked up by listener. I wait around 4 mins then send another message which gets picked up by the listener. Although the second message gets lost and never sent.</p>\n<p>I'm sending messages manually through the azure service bus explorer.</p>\n<p>Here is my config and listener</p>\n<p>Config:</p>\n<pre><code>    @Bean\n    public JmsListenerContainerFactory&lt;DefaultMessageListenerContainer&gt; topicContainerFactory(\n        ConnectionFactory jmsConnectionFactory,\n        DefaultJmsListenerContainerFactoryConfigurer configurer) {\n        DefaultJmsListenerContainerFactory factory = new DefaultJmsListenerContainerFactory();\n        factory.setConnectionFactory(jmsConnectionFactory);\n        factory.setReceiveTimeout(receiveTimeout);\n        factory.setSubscriptionDurable(Boolean.TRUE);\n        factory.setSessionTransacted(Boolean.TRUE);\n        factory.setSessionAcknowledgeMode(Session.SESSION_TRANSACTED);\n\n        configurer.configure(factory, jmsConnectionFactory);\n        return factory;\n    }\n\n    @Bean\n    public ConnectionFactory jmsConnectionFactory(@Value(&quot;${spring.application.name}&quot;) final String clientId) {\n        String connection = String.format(AMQP_CONNECTION_STRING_TEMPLATE, namespace + connectionPostfix, idleTimeout);\n        JmsConnectionFactory jmsConnectionFactory = new JmsConnectionFactory(connection);\n        jmsConnectionFactory.setUsername(username);\n        jmsConnectionFactory.setPassword(password);\n        jmsConnectionFactory.setClientID(clientId);\n\n        return new CachingConnectionFactory(jmsConnectionFactory);\n    }\n</code></pre>\n<p>Listener:</p>\n<pre><code>@JmsListener(\n        destination = &quot;${azure.topicName}&quot;,\n        subscription = &quot;${azure.subscriptionName}&quot;,\n        containerFactory = &quot;topicContainerFactory&quot;)\n    public void onMessage(Message message) throws JMSException, HmcTopicEventProcessingException {\n        log.info(&quot;message received&quot;);\n}\n</code></pre>\n<p>Basically I need all messages to be consumed by the listener so I'm not sure why some are getting lost.</p>\n"},{"tags":["java","aeron"],"answers":[{"tags":[],"owner":{"account_id":1378935,"reputation":1741,"user_id":2164736,"display_name":"Martin Thompson"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1686559762,"creation_date":1686559762,"answer_id":76454960,"question_id":76453890,"body_markdown":"Each source session for a publication will have its own recording if you start recording without setting the `session-id` on the channel URI. If you wish to record a single publication session then find its session id and add this as a parameter to the recorded channel.\r\n\r\n```java\r\n    final Publication pub = aeron.addPublication(PUBLICATION_CHANNEL, STREAM_ID);\r\n    final String sessionSpecificUri = CHANNEL + &quot;|session-id=&quot; + pub.sessionId();\r\n\r\n    archive.startRecording(sessionSpecificUri, STREAM_ID, SourceLocation.REMOTE);\r\n\r\n```\r\n","title":"Why does Aeron Archive recordingId increase for same recording?","body":"<p>Each source session for a publication will have its own recording if you start recording without setting the <code>session-id</code> on the channel URI. If you wish to record a single publication session then find its session id and add this as a parameter to the recorded channel.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    final Publication pub = aeron.addPublication(PUBLICATION_CHANNEL, STREAM_ID);\n    final String sessionSpecificUri = CHANNEL + &quot;|session-id=&quot; + pub.sessionId();\n\n    archive.startRecording(sessionSpecificUri, STREAM_ID, SourceLocation.REMOTE);\n\n</code></pre>\n"}],"owner":{"account_id":28802047,"reputation":1,"user_id":22058688,"display_name":"Lauda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686559762,"creation_date":1686548765,"question_id":76453890,"body_markdown":"I have an ArchiveHost, tinkered together according to the examples on aeroncookbook.com.\r\n\r\nThe archive host has a Publication that is recorded. It also has a Subscription - all messages from the subscription are &quot;forwarded&quot; to the recorded publication. \r\n\r\n\r\n```\r\n private void createArchiveAndRecord() {\r\n\r\n        final var archiveContext = new Archive.Context()\r\n                .deleteArchiveOnStart(true)\r\n                .replicationChannel(REPLICATION_CHANNEL)\r\n                .controlChannel(ARCHIVE_CONTROL_REQUEST_CHANNEL)\r\n                .controlStreamId(ARCHIVE_CONTROL_REQUEST_STREAM_ID)\r\n                .threadingMode(ArchiveThreadingMode.DEDICATED)\r\n                .idleStrategySupplier(BackoffIdleStrategy::new)\r\n                .errorHandler(this::errorHandler);\r\n\r\n        var mediaDriverCtx = new MediaDriver.Context()\r\n                .errorHandler(this::errorHandler)\r\n                .threadingMode(ThreadingMode.DEDICATED)\r\n                .conductorIdleStrategy(new BackoffIdleStrategy())\r\n                .receiverIdleStrategy(new BackoffIdleStrategy())\r\n                .senderIdleStrategy(new BackoffIdleStrategy())\r\n                .dirDeleteOnStart(true);\r\n\r\n        archivingMediaDriver = ArchivingMediaDriver.launch(\r\n                mediaDriverCtx,\r\n                archiveContext\r\n        ); \r\n\r\n        try {\r\n\r\n             aeron = Aeron.connect(\r\n                     new Aeron.Context()\r\n                             .aeronDirectoryName(archivingMediaDriver.mediaDriver().aeronDirectoryName())\r\n                             .errorHandler(this::errorHandler)\r\n             );\r\n             archive = AeronArchive.connect(\r\n                     new AeronArchive.Context()\r\n                             .aeron(aeron)\r\n                             .controlRequestChannel(ARCHIVE_CONTROL_REQUEST_CHANNEL)\r\n                             .controlResponseChannel(ARCHIVE_CONTROL_RESPONSE_CHANNEL)\r\n                             .controlRequestStreamId(ARCHIVE_CONTROL_REQUEST_STREAM_ID)\r\n                             .recordingSignalConsumer(new ArchiveActivityListener())\r\n                             .errorHandler(this::errorHandler)\r\n             );\r\n\r\n            archive.startRecording(RECORDING_CHANNEL, STREAM_ID, SourceLocation.REMOTE);\r\n            final Publication pub = aeron.addPublication(PUBLICATION_CHANNEL, STREAM_ID);\r\n            final CountersReader counters = aeron.countersReader();\r\n            final int recordingCounterId = awaitRecordingCounterId(counters, pub.sessionId());\r\n            final long recordingId = RecordingPos.getRecordingId(counters, recordingCounterId);\r\n\r\n            this.currentState = State.RDY;\r\n            this.subscriptionFragmentHandler.setPublication(pub);\r\n        } catch (InterruptedException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n```\r\n\r\nI have 5 marketdata producer apps, that publish to the ArchiveHost&#39;s Subscription. All works fine, however at random occasions, the recordingId seems to increase:\r\n\r\n\r\n```\r\n-rw-r--r--. 1 ec2-user ec2-user 134217728 Jun 11 18:54 0-0.rec\r\n-rw-r--r--. 1 ec2-user ec2-user 134217728 Jun 11 19:20 0-1073741824.rec\r\n-rw-r--r--. 1 ec2-user ec2-user 134217728 Jun 11 19:22 0-1207959552.rec\r\n-rw-r--r--. 1 ec2-user ec2-user 134217728 Jun 11 18:58 0-134217728.rec\r\n-rw-r--r--. 1 ec2-user ec2-user 134217728 Jun 11 19:23 0-1342177280.rec\r\n-rw-r--r--. 1 ec2-user ec2-user 134217728 Jun 11 19:24 0-1476395008.rec\r\n-rw-r--r--. 1 ec2-user ec2-user 134217728 Jun 11 19:26 0-1610612736.rec\r\n-rw-r--r--. 1 ec2-user ec2-user 134217728 Jun 11 19:28 0-1744830464.rec\r\n-rw-r--r--. 1 ec2-user ec2-user 134217728 Jun 11 19:30 0-1879048192.rec\r\n-rw-r--r--. 1 ec2-user ec2-user 134217728 Jun 11 19:33 0-2013265920.rec\r\n-rw-r--r--. 1 ec2-user ec2-user 134217728 Jun 11 19:36 0-2147483648.rec\r\n-rw-r--r--. 1 ec2-user ec2-user 134217728 Jun 11 19:38 0-2281701376.rec\r\n-rw-r--r--. 1 ec2-user ec2-user 134217728 Jun 11 19:38 0-2415919104.rec\r\n-rw-r--r--. 1 ec2-user ec2-user 134217728 Jun 11 19:01 0-268435456.rec\r\n-rw-r--r--. 1 ec2-user ec2-user 134217728 Jun 11 19:04 0-402653184.rec\r\n-rw-r--r--. 1 ec2-user ec2-user 134217728 Jun 11 19:08 0-536870912.rec\r\n-rw-r--r--. 1 ec2-user ec2-user 134217728 Jun 11 19:12 0-671088640.rec\r\n-rw-r--r--. 1 ec2-user ec2-user 134217728 Jun 11 19:15 0-805306368.rec\r\n-rw-r--r--. 1 ec2-user ec2-user 134217728 Jun 11 19:18 0-939524096.rec\r\n-rw-r--r--. 1 ec2-user ec2-user 134217728 Jun 11 19:40 1-2432696320.rec\r\n-rw-r--r--. 1 ec2-user ec2-user 134217728 Jun 11 19:41 1-2566914048.rec\r\n-rw-r--r--. 1 ec2-user ec2-user 134217728 Jun 11 19:43 1-2701131776.rec\r\n-rw-r--r--. 1 ec2-user ec2-user 134217728 Jun 11 19:43 2-2785017856.rec\r\n-rw-r--r--. 1 ec2-user ec2-user 134217728 Jun 11 19:45 3-2801795072.rec\r\n-rw-r--r--. 1 ec2-user ec2-user 134217728 Jun 11 19:48 3-2936012800.rec\r\n-rw-r--r--. 1 ec2-user ec2-user 134217728 Jun 11 19:50 3-3070230528.rec\r\n-rw-r--r--. 1 ec2-user ec2-user 134217728 Jun 11 19:51 3-3204448256.rec\r\n-rw-r--r--. 1 ec2-user ec2-user 134217728 Jun 11 19:53 4-3221225472.rec\r\n-rw-r--r--. 1 ec2-user ec2-user 134217728 Jun 11 19:56 4-3355443200.rec\r\n-rw-r--r--. 1 ec2-user ec2-user 134217728 Jun 11 20:00 4-3489660928.rec\r\n-rw-r--r--. 1 ec2-user ec2-user 134217728 Jun 11 20:02 4-3623878656.rec\r\n-rw-r--r--. 1 ec2-user ec2-user 134217728 Jun 11 20:04 4-3758096384.rec\r\n-rw-r--r--. 1 ec2-user ec2-user 134217728 Jun 11 20:06 5-3858759680.rec\r\n-rw-r--r--. 1 ec2-user ec2-user 134217728 Jun 11 20:07 5-3992977408.rec\r\n-rw-r--r--. 1 ec2-user ec2-user 134217728 Jun 11 20:09 5-4127195136.rec\r\n-rw-r--r--. 1 ec2-user ec2-user 134217728 Jun 11 20:10 5-4261412864.rec\r\n-rw-r--r--. 1 ec2-user ec2-user 134217728 Jun 11 20:11 5-4395630592.rec\r\n-rw-r--r--. 1 ec2-user ec2-user 134217728 Jun 11 22:21 6-10032775168.rec\r\n-rw-r--r--. 1 ec2-user ec2-user 134217728 Jun 11 22:23 6-10166992896.rec\r\n-rw-r--r--. 1 ec2-user ec2-user 134217728 Jun 11 22:26 6-10301210624.rec\r\n-rw-r--r--. 1 ec2-user ec2-user 134217728 Jun 11 22:30 6-10435428352.rec\r\n\r\n```\r\n\r\nIs that expected? What could cause this? At no point does the ArchiveHost stop in the above example. Is there a listener/logging I can add to receive more information when a recordingId is increased? \r\n\r\nI would expect the recordingId to stay the same for the time the ArchiveHost is running.","title":"Why does Aeron Archive recordingId increase for same recording?","body":"<p>I have an ArchiveHost, tinkered together according to the examples on aeroncookbook.com.</p>\n<p>The archive host has a Publication that is recorded. It also has a Subscription - all messages from the subscription are &quot;forwarded&quot; to the recorded publication.</p>\n<pre><code> private void createArchiveAndRecord() {\n\n        final var archiveContext = new Archive.Context()\n                .deleteArchiveOnStart(true)\n                .replicationChannel(REPLICATION_CHANNEL)\n                .controlChannel(ARCHIVE_CONTROL_REQUEST_CHANNEL)\n                .controlStreamId(ARCHIVE_CONTROL_REQUEST_STREAM_ID)\n                .threadingMode(ArchiveThreadingMode.DEDICATED)\n                .idleStrategySupplier(BackoffIdleStrategy::new)\n                .errorHandler(this::errorHandler);\n\n        var mediaDriverCtx = new MediaDriver.Context()\n                .errorHandler(this::errorHandler)\n                .threadingMode(ThreadingMode.DEDICATED)\n                .conductorIdleStrategy(new BackoffIdleStrategy())\n                .receiverIdleStrategy(new BackoffIdleStrategy())\n                .senderIdleStrategy(new BackoffIdleStrategy())\n                .dirDeleteOnStart(true);\n\n        archivingMediaDriver = ArchivingMediaDriver.launch(\n                mediaDriverCtx,\n                archiveContext\n        ); \n\n        try {\n\n             aeron = Aeron.connect(\n                     new Aeron.Context()\n                             .aeronDirectoryName(archivingMediaDriver.mediaDriver().aeronDirectoryName())\n                             .errorHandler(this::errorHandler)\n             );\n             archive = AeronArchive.connect(\n                     new AeronArchive.Context()\n                             .aeron(aeron)\n                             .controlRequestChannel(ARCHIVE_CONTROL_REQUEST_CHANNEL)\n                             .controlResponseChannel(ARCHIVE_CONTROL_RESPONSE_CHANNEL)\n                             .controlRequestStreamId(ARCHIVE_CONTROL_REQUEST_STREAM_ID)\n                             .recordingSignalConsumer(new ArchiveActivityListener())\n                             .errorHandler(this::errorHandler)\n             );\n\n            archive.startRecording(RECORDING_CHANNEL, STREAM_ID, SourceLocation.REMOTE);\n            final Publication pub = aeron.addPublication(PUBLICATION_CHANNEL, STREAM_ID);\n            final CountersReader counters = aeron.countersReader();\n            final int recordingCounterId = awaitRecordingCounterId(counters, pub.sessionId());\n            final long recordingId = RecordingPos.getRecordingId(counters, recordingCounterId);\n\n            this.currentState = State.RDY;\n            this.subscriptionFragmentHandler.setPublication(pub);\n        } catch (InterruptedException e) {\n            throw new RuntimeException(e);\n        }\n    }\n</code></pre>\n<p>I have 5 marketdata producer apps, that publish to the ArchiveHost's Subscription. All works fine, however at random occasions, the recordingId seems to increase:</p>\n<pre><code>-rw-r--r--. 1 ec2-user ec2-user 134217728 Jun 11 18:54 0-0.rec\n-rw-r--r--. 1 ec2-user ec2-user 134217728 Jun 11 19:20 0-1073741824.rec\n-rw-r--r--. 1 ec2-user ec2-user 134217728 Jun 11 19:22 0-1207959552.rec\n-rw-r--r--. 1 ec2-user ec2-user 134217728 Jun 11 18:58 0-134217728.rec\n-rw-r--r--. 1 ec2-user ec2-user 134217728 Jun 11 19:23 0-1342177280.rec\n-rw-r--r--. 1 ec2-user ec2-user 134217728 Jun 11 19:24 0-1476395008.rec\n-rw-r--r--. 1 ec2-user ec2-user 134217728 Jun 11 19:26 0-1610612736.rec\n-rw-r--r--. 1 ec2-user ec2-user 134217728 Jun 11 19:28 0-1744830464.rec\n-rw-r--r--. 1 ec2-user ec2-user 134217728 Jun 11 19:30 0-1879048192.rec\n-rw-r--r--. 1 ec2-user ec2-user 134217728 Jun 11 19:33 0-2013265920.rec\n-rw-r--r--. 1 ec2-user ec2-user 134217728 Jun 11 19:36 0-2147483648.rec\n-rw-r--r--. 1 ec2-user ec2-user 134217728 Jun 11 19:38 0-2281701376.rec\n-rw-r--r--. 1 ec2-user ec2-user 134217728 Jun 11 19:38 0-2415919104.rec\n-rw-r--r--. 1 ec2-user ec2-user 134217728 Jun 11 19:01 0-268435456.rec\n-rw-r--r--. 1 ec2-user ec2-user 134217728 Jun 11 19:04 0-402653184.rec\n-rw-r--r--. 1 ec2-user ec2-user 134217728 Jun 11 19:08 0-536870912.rec\n-rw-r--r--. 1 ec2-user ec2-user 134217728 Jun 11 19:12 0-671088640.rec\n-rw-r--r--. 1 ec2-user ec2-user 134217728 Jun 11 19:15 0-805306368.rec\n-rw-r--r--. 1 ec2-user ec2-user 134217728 Jun 11 19:18 0-939524096.rec\n-rw-r--r--. 1 ec2-user ec2-user 134217728 Jun 11 19:40 1-2432696320.rec\n-rw-r--r--. 1 ec2-user ec2-user 134217728 Jun 11 19:41 1-2566914048.rec\n-rw-r--r--. 1 ec2-user ec2-user 134217728 Jun 11 19:43 1-2701131776.rec\n-rw-r--r--. 1 ec2-user ec2-user 134217728 Jun 11 19:43 2-2785017856.rec\n-rw-r--r--. 1 ec2-user ec2-user 134217728 Jun 11 19:45 3-2801795072.rec\n-rw-r--r--. 1 ec2-user ec2-user 134217728 Jun 11 19:48 3-2936012800.rec\n-rw-r--r--. 1 ec2-user ec2-user 134217728 Jun 11 19:50 3-3070230528.rec\n-rw-r--r--. 1 ec2-user ec2-user 134217728 Jun 11 19:51 3-3204448256.rec\n-rw-r--r--. 1 ec2-user ec2-user 134217728 Jun 11 19:53 4-3221225472.rec\n-rw-r--r--. 1 ec2-user ec2-user 134217728 Jun 11 19:56 4-3355443200.rec\n-rw-r--r--. 1 ec2-user ec2-user 134217728 Jun 11 20:00 4-3489660928.rec\n-rw-r--r--. 1 ec2-user ec2-user 134217728 Jun 11 20:02 4-3623878656.rec\n-rw-r--r--. 1 ec2-user ec2-user 134217728 Jun 11 20:04 4-3758096384.rec\n-rw-r--r--. 1 ec2-user ec2-user 134217728 Jun 11 20:06 5-3858759680.rec\n-rw-r--r--. 1 ec2-user ec2-user 134217728 Jun 11 20:07 5-3992977408.rec\n-rw-r--r--. 1 ec2-user ec2-user 134217728 Jun 11 20:09 5-4127195136.rec\n-rw-r--r--. 1 ec2-user ec2-user 134217728 Jun 11 20:10 5-4261412864.rec\n-rw-r--r--. 1 ec2-user ec2-user 134217728 Jun 11 20:11 5-4395630592.rec\n-rw-r--r--. 1 ec2-user ec2-user 134217728 Jun 11 22:21 6-10032775168.rec\n-rw-r--r--. 1 ec2-user ec2-user 134217728 Jun 11 22:23 6-10166992896.rec\n-rw-r--r--. 1 ec2-user ec2-user 134217728 Jun 11 22:26 6-10301210624.rec\n-rw-r--r--. 1 ec2-user ec2-user 134217728 Jun 11 22:30 6-10435428352.rec\n\n</code></pre>\n<p>Is that expected? What could cause this? At no point does the ArchiveHost stop in the above example. Is there a listener/logging I can add to receive more information when a recordingId is increased?</p>\n<p>I would expect the recordingId to stay the same for the time the ArchiveHost is running.</p>\n"},{"tags":["java","intellij-idea","enter","intellij-14","alt-key"],"comments":[{"owner":{"account_id":5558534,"reputation":1501,"user_id":4408965,"display_name":"Danny Daglas"},"score":2,"creation_date":1421809286,"post_id":28058829,"comment_id":44499319,"body_markdown":"Option+enter (without fn) works on osx installations of IntelliJ.  Maybe it will work on your version running Bootcamp?","body":"Option+enter (without fn) works on osx installations of IntelliJ.  Maybe it will work on your version running Bootcamp?"},{"owner":{"account_id":4266071,"reputation":3858,"user_id":4044139,"display_name":"Mic"},"score":0,"creation_date":1421809717,"post_id":28058829,"comment_id":44499420,"body_markdown":"Danny&#39;s suggestion worked for me, also running Idea 14 bootcamped on a MBP (Windows 8.1, however).","body":"Danny&#39;s suggestion worked for me, also running Idea 14 bootcamped on a MBP (Windows 8.1, however)."},{"owner":{"account_id":5657942,"reputation":61,"user_id":4476429,"display_name":"Ted Finch"},"score":0,"creation_date":1421863826,"post_id":28058829,"comment_id":44527226,"body_markdown":"@Danny, your solution of pressing option+enter (without fn) worked on my system. I have updated my original post to describe your solution.","body":"@Danny, your solution of pressing option+enter (without fn) worked on my system. I have updated my original post to describe your solution."},{"owner":{"account_id":295859,"reputation":13588,"user_id":600486,"accept_rate":80,"display_name":"blurfus"},"score":0,"creation_date":1421864479,"post_id":28058829,"comment_id":44527549,"body_markdown":"Yes, I run into similar issues when as I regularly switch back and forth between Windows OS, Ubuntu, and OSX.  I have gotten used to trying one or the other until it works :( - wishing it was consistent behaviour in all environments/OS but that&#39;s another topic :)","body":"Yes, I run into similar issues when as I regularly switch back and forth between Windows OS, Ubuntu, and OSX.  I have gotten used to trying one or the other until it works :( - wishing it was consistent behaviour in all environments/OS but that&#39;s another topic :)"},{"owner":{"account_id":295859,"reputation":13588,"user_id":600486,"accept_rate":80,"display_name":"blurfus"},"score":0,"creation_date":1421872140,"post_id":28058829,"comment_id":44531483,"body_markdown":"As an aid, you can refer to the key mapping for OSX https://www.jetbrains.com/idea/docs/IntelliJIDEA_ReferenceCard_Mac.pdf","body":"As an aid, you can refer to the key mapping for OSX <a href=\"https://www.jetbrains.com/idea/docs/IntelliJIDEA_ReferenceCard_Mac.pdf\" rel=\"nofollow noreferrer\">jetbrains.com/idea/docs/IntelliJIDEA_ReferenceCard_Mac.pdf</a>"},{"owner":{"account_id":8906759,"reputation":2159,"user_id":6648326,"accept_rate":71,"display_name":"MasterJoe"},"score":0,"creation_date":1476646797,"post_id":28058829,"comment_id":67422457,"body_markdown":"@DannyDaglas - I am on win 7, 64 bit with Intellij Idea 2016.2.4. Alt enter has stopped working properly. It does not offer any suggestions when I want to create a test case in junit. Can you please advise how to fix this ?","body":"@DannyDaglas - I am on win 7, 64 bit with Intellij Idea 2016.2.4. Alt enter has stopped working properly. It does not offer any suggestions when I want to create a test case in junit. Can you please advise how to fix this ?"}],"owner":{"account_id":5657942,"reputation":61,"user_id":4476429,"display_name":"Ted Finch"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3773,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":0,"score":6,"last_activity_date":1686559467,"creation_date":1421808759,"question_id":28058829,"body_markdown":"After I typed **&quot;@Test&quot;** (without the quotes) and then hit &lt;kbd&gt;**Enter**&lt;/kbd&gt;, IntelliJ suggested adding the `&quot;import org.junit.Test;&quot;` statement by pressing &lt;kbd&gt;**Alt**&lt;/kbd&gt; + &lt;kbd&gt;**Enter**&lt;/kbd&gt;.\r\n\r\nHowever, every time I tried to do this, IntelliJ presented me with a **&quot;Generate&quot;** menu instead of adding the suggested import statement.\r\n\r\nIn the past, I&#39;ve successfully used &lt;kbd&gt;**Alt**&lt;/kbd&gt; + &lt;kbd&gt;**Enter**&lt;/kbd&gt; in IntelliJ 13 on my Windows 7 Professional workstation at work.\r\n\r\nCurrently, I am having the problem with &lt;kbd&gt;**Alt**&lt;/kbd&gt; + &lt;kbd&gt;**Enter**&lt;/kbd&gt; not working on a brand-new installation of IntelliJ 14 that I have running on Windows 7 Professional via Bootcamp on my MacBook Pro. I have left the Bootcamp keyboard settings at their defaults. So &lt;kbd&gt;**fn**&lt;/kbd&gt;+option is equivalent to &lt;kbd&gt;**Alt**&lt;/kbd&gt;, and works fine in other programs.\r\n\r\nTherefore, &lt;kbd&gt;**fn**&lt;/kbd&gt; + option(&lt;kbd&gt;**Alt**&lt;/kbd&gt;) + &lt;kbd&gt;**enter**&lt;/kbd&gt; should work in IntelliJ to accept a suggestion. \r\n\r\nHowever, as described above, this is not the case on my system. Does anyone have any ideas for how to fix this?\r\n\r\n\r\nUPDATE: @Danny provided the solution: On a MacBook Pro running IntelliJ IDEA 14 on Windows 7 via Bootcamp, press &lt;kbd&gt;**option**&lt;/kbd&gt; + &lt;kbd&gt;**enter**&lt;/kbd&gt; (without the &lt;kbd&gt;**fn**&lt;/kbd&gt;) for the equivalent behavior of pressing &lt;kbd&gt;**Alt**&lt;/kbd&gt; + &lt;kbd&gt;**Enter**&lt;/kbd&gt; on traditional PCs.\r\n\r\nThis works to accept IntelliJ suggestions such as adding import statements to your code needed by dependencies.","title":"Alt+Enter not accepting IntelliJ suggestions","body":"<p>After I typed <strong>\"@Test\"</strong> (without the quotes) and then hit <kbd><strong>Enter</strong></kbd>, IntelliJ suggested adding the <code>\"import org.junit.Test;\"</code> statement by pressing <kbd><strong>Alt</strong></kbd> + <kbd><strong>Enter</strong></kbd>.</p>\n\n<p>However, every time I tried to do this, IntelliJ presented me with a <strong>\"Generate\"</strong> menu instead of adding the suggested import statement.</p>\n\n<p>In the past, I've successfully used <kbd><strong>Alt</strong></kbd> + <kbd><strong>Enter</strong></kbd> in IntelliJ 13 on my Windows 7 Professional workstation at work.</p>\n\n<p>Currently, I am having the problem with <kbd><strong>Alt</strong></kbd> + <kbd><strong>Enter</strong></kbd> not working on a brand-new installation of IntelliJ 14 that I have running on Windows 7 Professional via Bootcamp on my MacBook Pro. I have left the Bootcamp keyboard settings at their defaults. So <kbd><strong>fn</strong></kbd>+option is equivalent to <kbd><strong>Alt</strong></kbd>, and works fine in other programs.</p>\n\n<p>Therefore, <kbd><strong>fn</strong></kbd> + option(<kbd><strong>Alt</strong></kbd>) + <kbd><strong>enter</strong></kbd> should work in IntelliJ to accept a suggestion. </p>\n\n<p>However, as described above, this is not the case on my system. Does anyone have any ideas for how to fix this?</p>\n\n<p>UPDATE: @Danny provided the solution: On a MacBook Pro running IntelliJ IDEA 14 on Windows 7 via Bootcamp, press <kbd><strong>option</strong></kbd> + <kbd><strong>enter</strong></kbd> (without the <kbd><strong>fn</strong></kbd>) for the equivalent behavior of pressing <kbd><strong>Alt</strong></kbd> + <kbd><strong>Enter</strong></kbd> on traditional PCs.</p>\n\n<p>This works to accept IntelliJ suggestions such as adding import statements to your code needed by dependencies.</p>\n"},{"tags":["java","spring-boot","neo4j","spring-data-neo4j"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1686557109,"post_id":76452674,"comment_id":134809153,"body_markdown":"and maybe the most important&amp;interesting part: how did you add the edges?;)","body":"and maybe the most important&amp;interesting part: how did you add the edges?;)"},{"owner":{"account_id":3133300,"reputation":7957,"user_id":2650436,"accept_rate":80,"display_name":"meistermeier"},"score":0,"creation_date":1686578218,"post_id":76452674,"comment_id":134813790,"body_markdown":"If you are using version 7.1.0 (which comes with Spring Boot 3.1.0), you might have been hit by this https://github.com/spring-projects/spring-data-neo4j/issues/2728","body":"If you are using version 7.1.0 (which comes with Spring Boot 3.1.0), you might have been hit by this <a href=\"https://github.com/spring-projects/spring-data-neo4j/issues/2728\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-data-neo4j/issues/2728</a>"},{"owner":{"account_id":22996108,"reputation":43,"user_id":17120856,"display_name":"dpkass"},"score":0,"creation_date":1686700044,"post_id":76452674,"comment_id":134834517,"body_markdown":"Thats probably it. Thank you very much. I&#39;ll try tomorrow and let you know.","body":"Thats probably it. Thank you very much. I&#39;ll try tomorrow and let you know."}],"owner":{"account_id":22996108,"reputation":43,"user_id":17120856,"display_name":"dpkass"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686559181,"creation_date":1686520883,"question_id":76452674,"body_markdown":"I have problems with creating relationships in a NEO4J Db with SDN. \r\nThe attached nodes are created, just the relationships are missing.\r\n\r\nAggregate Root Service\r\n```\r\n@Node(&quot;Service&quot;)\r\n@Data(staticConstructor = &quot;of&quot;)\r\npublic final class ServiceEntity {\r\n\r\n  @Id\r\n  private final Long id;\r\n  private final String name;\r\n\r\n  @Relationship(type = &quot;handles&quot;, direction = INCOMING)\r\n  private final AuthorityEntity authority;\r\n\r\n  @Relationship(&quot;gives&quot;)\r\n  private final ArtifactEntity output;\r\n\r\n  @Relationship(value = &quot;needs&quot;, direction = INCOMING)\r\n  private final Collection&lt;ArtifactEntity&gt; input;\r\n}\r\n```\r\n\r\nArtifact\r\n```\r\n@Node(&quot;Artifact&quot;)\r\n@Data(staticConstructor = &quot;of&quot;)\r\npublic class ArtifactEntity {\r\n\r\n  @Id\r\n  private final Long id;\r\n  private final String name;\r\n}\r\n```\r\n\r\nAuthority\r\n```\r\n@Node(&quot;Authority&quot;)\r\n@Data(staticConstructor = &quot;of&quot;)\r\npublic class AuthorityEntity {\r\n\r\n  @Id\r\n  private final String name;\r\n}\r\n```\r\n\r\nNeo4jRepository\r\n```\r\npublic interface ServiceSpringRepository extends Neo4jRepository&lt;ServiceEntity, Long&gt; {\r\n\r\n}\r\n```\r\n\r\nWhenever I save some Services it will create all the attached Service, Artifact and Authority nodes, but without any relationships. The view looks like as follows for ```match(n) return n```\r\n\r\n[![Database state for example data][1]][1]\r\n\r\n\r\nFor ```match(n)-[r]-&gt;(m) return n,r,m``` I get no records.\r\n\r\n\r\nThe Database Overview looks like this:\r\n\r\n[![Database Overview][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OaJNf.png\r\n  [2]: https://i.stack.imgur.com/TSz6O.png","title":"Neo4j simple Relationships not created with SDN/Spring Data","body":"<p>I have problems with creating relationships in a NEO4J Db with SDN.\nThe attached nodes are created, just the relationships are missing.</p>\n<p>Aggregate Root Service</p>\n<pre><code>@Node(&quot;Service&quot;)\n@Data(staticConstructor = &quot;of&quot;)\npublic final class ServiceEntity {\n\n  @Id\n  private final Long id;\n  private final String name;\n\n  @Relationship(type = &quot;handles&quot;, direction = INCOMING)\n  private final AuthorityEntity authority;\n\n  @Relationship(&quot;gives&quot;)\n  private final ArtifactEntity output;\n\n  @Relationship(value = &quot;needs&quot;, direction = INCOMING)\n  private final Collection&lt;ArtifactEntity&gt; input;\n}\n</code></pre>\n<p>Artifact</p>\n<pre><code>@Node(&quot;Artifact&quot;)\n@Data(staticConstructor = &quot;of&quot;)\npublic class ArtifactEntity {\n\n  @Id\n  private final Long id;\n  private final String name;\n}\n</code></pre>\n<p>Authority</p>\n<pre><code>@Node(&quot;Authority&quot;)\n@Data(staticConstructor = &quot;of&quot;)\npublic class AuthorityEntity {\n\n  @Id\n  private final String name;\n}\n</code></pre>\n<p>Neo4jRepository</p>\n<pre><code>public interface ServiceSpringRepository extends Neo4jRepository&lt;ServiceEntity, Long&gt; {\n\n}\n</code></pre>\n<p>Whenever I save some Services it will create all the attached Service, Artifact and Authority nodes, but without any relationships. The view looks like as follows for <code>match(n) return n</code></p>\n<p><a href=\"https://i.stack.imgur.com/OaJNf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OaJNf.png\" alt=\"Database state for example data\" /></a></p>\n<p>For <code>match(n)-[r]-&gt;(m) return n,r,m</code> I get no records.</p>\n<p>The Database Overview looks like this:</p>\n<p><a href=\"https://i.stack.imgur.com/TSz6O.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TSz6O.png\" alt=\"Database Overview\" /></a></p>\n"},{"tags":["java","docker","javafx","docker-compose","docker-container"],"comments":[{"owner":{"account_id":13863020,"reputation":137023,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1645894948,"post_id":71278151,"comment_id":125992549,"body_markdown":"Running a GUI application in a Docker container is complex and depends on the host OS; also see [Can you run GUI applications in a Linux Docker container?](https://stackoverflow.com/questions/16296753/can-you-run-gui-applications-in-a-linux-docker-container).  You&#39;ll probably find this easier to run installing a JVM on the host and running it without Docker.","body":"Running a GUI application in a Docker container is complex and depends on the host OS; also see <a href=\"https://stackoverflow.com/questions/16296753/can-you-run-gui-applications-in-a-linux-docker-container\">Can you run GUI applications in a Linux Docker container?</a>.  You&#39;ll probably find this easier to run installing a JVM on the host and running it without Docker."},{"owner":{"account_id":18957993,"reputation":45,"user_id":13834169,"display_name":"bananaconda"},"score":0,"creation_date":1645895616,"post_id":71278151,"comment_id":125992714,"body_markdown":"hi, thanks for the input. i will have a look at this. and yes you are right, that would be much easier. lets assume the readme is right and all i need to do is to execute the startup.sh script. At what point would i need to do this?","body":"hi, thanks for the input. i will have a look at this. and yes you are right, that would be much easier. lets assume the readme is right and all i need to do is to execute the startup.sh script. At what point would i need to do this?"},{"owner":{"account_id":13863020,"reputation":137023,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1645896228,"post_id":71278151,"comment_id":125992861,"body_markdown":"What does the script do?  Is this an application you&#39;re writing or maintaining, or are you just trying to run it?","body":"What does the script do?  Is this an application you&#39;re writing or maintaining, or are you just trying to run it?"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1645896486,"post_id":71278151,"comment_id":125992925,"body_markdown":"What version of JavaFX does that give you? It seems unlikely to be a version that is compatible with Java 8, which is ancient.","body":"What version of JavaFX does that give you? It seems unlikely to be a version that is compatible with Java 8, which is ancient."},{"owner":{"account_id":18957993,"reputation":45,"user_id":13834169,"display_name":"bananaconda"},"score":0,"creation_date":1645898203,"post_id":71278151,"comment_id":125993272,"body_markdown":"I am just trying to run it. It can be found here: https://github.com/ByteHamster/PSE\nI was able to run it locally, but wanted to run it in docker. The project is 5 years old, last time updated in 2017. \nAs it&#39;s not my project I am not sure what the script does.","body":"I am just trying to run it. It can be found here: <a href=\"https://github.com/ByteHamster/PSE\" rel=\"nofollow noreferrer\">github.com/ByteHamster/PSE</a> I was able to run it locally, but wanted to run it in docker. The project is 5 years old, last time updated in 2017.  As it&#39;s not my project I am not sure what the script does."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1645922918,"post_id":71278151,"comment_id":125997477,"body_markdown":"Contact the authors of the project directly and request their assistance.","body":"Contact the authors of the project directly and request their assistance."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1645923098,"post_id":71278151,"comment_id":125997494,"body_markdown":"Similar [Getting a javaFX 11 app to work on docker](https://stackoverflow.com/questions/56994260/getting-a-javafx-11-app-to-work-on-docker).","body":"Similar <a href=\"https://stackoverflow.com/questions/56994260/getting-a-javafx-11-app-to-work-on-docker\">Getting a javaFX 11 app to work on docker</a>."}],"answers":[{"tags":[],"owner":{"account_id":27891009,"reputation":11,"user_id":21297376,"display_name":"Adam Blumenthal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686559070,"creation_date":1686559070,"answer_id":76454869,"question_id":71278151,"body_markdown":"If you don&#39;t remove xhost permissions it may work. See the following:\r\n[https://askubuntu.com/questions/1201103/docker-x11-fails-to-open-display][1]\r\n\r\n\r\n  [1]: https://askubuntu.com/questions/1201103/docker-x11-fails-to-open-display","title":"JavaFX Docker Unable to open DISPLAY","body":"<p>If you don't remove xhost permissions it may work. See the following:\n<a href=\"https://askubuntu.com/questions/1201103/docker-x11-fails-to-open-display\">https://askubuntu.com/questions/1201103/docker-x11-fails-to-open-display</a></p>\n"}],"owner":{"account_id":18957993,"reputation":45,"user_id":13834169,"display_name":"bananaconda"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":965,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686559070,"creation_date":1645891206,"question_id":71278151,"body_markdown":"I am trying to start a Java program in a docker container. After docker-compose build i try to start the program with docker-compose up but get the following error:\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.UnsupportedOperationException: Unable to open DISPLAY\r\n```\r\nThe readme of the progam says:\r\n&quot;If you get the error message that the container cannot connect to Xorg (Unable to open DISPLAY) when starting the container, the supplied script &quot;./startup.sh&quot; needs to be executed&quot;.\r\n\r\nstartup.sh:\r\n```\r\n#!/bin/sh\r\nxhost +local:\r\ndocker-compose up\r\nxhost -local:\r\n\r\n```\r\n\r\ndockerfile\r\n```\r\nFROM ubuntu:16.04\r\n\r\nRUN apt-get update &amp;&amp; apt-get install --assume-yes --no-install-recommends openjfx openjdk-8-jdk maven git\r\n\r\nCOPY . /opt/Testfolder\r\nWORKDIR /opt/Testfolder/src\r\nRUN mvn package -DskipTests -Dcheckstyle.skip\r\nCMD java -jar program.jar\r\n```\r\n\r\nAt what point would i need to execute the startup.sh script? Do i need to add another RUN startup.sh in the dockerfile? Anyone has an idea?","title":"JavaFX Docker Unable to open DISPLAY","body":"<p>I am trying to start a Java program in a docker container. After docker-compose build i try to start the program with docker-compose up but get the following error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.UnsupportedOperationException: Unable to open DISPLAY\n</code></pre>\n<p>The readme of the progam says:\n&quot;If you get the error message that the container cannot connect to Xorg (Unable to open DISPLAY) when starting the container, the supplied script &quot;./startup.sh&quot; needs to be executed&quot;.</p>\n<p>startup.sh:</p>\n<pre><code>#!/bin/sh\nxhost +local:\ndocker-compose up\nxhost -local:\n\n</code></pre>\n<p>dockerfile</p>\n<pre><code>FROM ubuntu:16.04\n\nRUN apt-get update &amp;&amp; apt-get install --assume-yes --no-install-recommends openjfx openjdk-8-jdk maven git\n\nCOPY . /opt/Testfolder\nWORKDIR /opt/Testfolder/src\nRUN mvn package -DskipTests -Dcheckstyle.skip\nCMD java -jar program.jar\n</code></pre>\n<p>At what point would i need to execute the startup.sh script? Do i need to add another RUN startup.sh in the dockerfile? Anyone has an idea?</p>\n"},{"tags":["java","apache-httpclient-4.x","apache-httpcomponents"],"comments":[{"owner":{"account_id":280770,"reputation":2276,"user_id":576660,"accept_rate":68,"display_name":"Bargitta"},"score":0,"creation_date":1538988702,"post_id":48685815,"comment_id":92323675,"body_markdown":"executePost method, also needs to close the reponse, I think","body":"executePost method, also needs to close the reponse, I think"}],"answers":[{"tags":[],"owner":{"account_id":8368309,"reputation":11,"user_id":6284185,"display_name":"Joy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1540526800,"creation_date":1540526800,"answer_id":53001258,"question_id":48685815,"body_markdown":"got same error but finally solved.\r\nthis error caused that i use the  try () {} as below:\r\n\r\n    try (PoolingHttpClientConnectionManager manager = new PoolingHttpClientConnectionManager()) {\r\n                    manager.setMaxTotal(600);\r\n                    manager.setDefaultMaxPerRoute(100);\r\n\r\nthis construction will auto close resources.\r\n\r\nclass:PoolingHttpClientConnectionManager exist a method as below:\r\n\r\n     public void close() {\r\n            this.shutdown();\r\n        }\r\n\r\nfinally will invoke close().\r\n\r\n \r\n","title":"HttpClient Connection pool shut down","body":"<p>got same error but finally solved.\nthis error caused that i use the  try () {} as below:</p>\n\n<pre><code>try (PoolingHttpClientConnectionManager manager = new PoolingHttpClientConnectionManager()) {\n                manager.setMaxTotal(600);\n                manager.setDefaultMaxPerRoute(100);\n</code></pre>\n\n<p>this construction will auto close resources.</p>\n\n<p>class:PoolingHttpClientConnectionManager exist a method as below:</p>\n\n<pre><code> public void close() {\n        this.shutdown();\n    }\n</code></pre>\n\n<p>finally will invoke close().</p>\n"}],"owner":{"account_id":426397,"reputation":2898,"user_id":807595,"accept_rate":68,"display_name":"idipous"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13740,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":1,"score":6,"last_activity_date":1686559014,"creation_date":1518093745,"question_id":48685815,"body_markdown":"I am using HttpClient v4.5.5\r\n\r\nI have an `HttpClient` as below:\r\n\r\n    PoolingHttpClientConnectionManager connManager = new PoolingHttpClientConnectionManager();\r\n\t\tconnManager.setMaxTotal(totalMaxConnections);\r\n\t\tconnManager.setDefaultMaxPerRoute(defaultMaxConnPerRoute);\r\n    CloseableHttpClient httpClient =HttpClients.custom().setConnectionManager(connManager).setConnectionManagerShared(true).build();\r\n\r\nThen I use the http client as below:\r\n\r\n    protected Response connect(final Function&lt;AbstractHttpAdapter, CloseableHttpResponse&gt; pcAction) {\r\n\t\tResponse response = null;\r\n\t\tfinal Instant begin = Instant.now();\r\n\t\ttry {\r\n\t\t\tfinal CloseableHttpResponse closableResp = pcAction.apply(this);\r\n\t\t\ttry {\r\n\t\t\t\tfinal Instant end = Instant.now();\r\n\t\t\t\tif (closableResp != null) {\r\n\t\t\t\t\tfinal HttpEntity responseEntity = closableResp.getEntity();\r\n\t\t\t\t\tif (responseEntity != null) {\r\n\t\t\t\t\t\tresponse = new Response();\r\n\t\t\t\t\t\tInputStream is = responseEntity.getContent();\r\n\t\t\t\t\t\ttry {\r\n\r\n\t\t\t\t\t\t\tfinal ContentType contentType = ContentType.getOrDefault(responseEntity);\r\n\t\t\t\t\t\t\tCharset charset = contentType.getCharset();\r\n\t\t\t\t\t\t\tif (charset == null)\r\n\t\t\t\t\t\t\t\tcharset = Charset.forName(&quot;UTF-8&quot;);\r\n\t\t\t\t\t\t\tresponse.responseText = IOUtils.toString(is, charset.toString());\r\n\t\t\t\t\t\t\tif (closableResp.getStatusLine() != null) {\r\n\t\t\t\t\t\t\t\tresponse.statusLine = closableResp.getStatusLine();\r\n\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tMap&lt;String, String&gt; responseHeaders = new HashMap&lt;&gt;();\r\n\t\t\t\t\t\t\tHeader[] headers = closableResp.getAllHeaders();\r\n\t\t\t\t\t\t\tfor (Header h : headers) {\r\n\t\t\t\t\t\t\t\tresponseHeaders.put(h.getName(), h.getValue());\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tresponse.responseHeaders = responseHeaders;\r\n\t\t\t\t\t\t\tresponse.responseDuration = Duration.between(begin, end).toMillis();\r\n\t\t\t\t\t\t} catch (UnsupportedOperationException | IOException e) {\r\n\t\t\t\t\t\t\tLOGGER.error(&quot;IO Error: [{}]&quot;, e.getMessage());\r\n\t\t\t\t\t\t\tLOGGER.debug(&quot;IO Error: {}&quot;, e);\r\n\t\t\t\t\t\t\treturn null;\r\n\t\t\t\t\t\t} finally {\r\n\t\t\t\t\t\t\tis.close();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tLOGGER.debug(&quot;NULL CloseableHttpResponse!&quot;);\r\n\t\t\t\t}\r\n\t\t\t} finally {\r\n\t\t\t\tif (closableResp != null)\r\n\t\t\t\t\tclosableResp.close();\r\n\t\t\t}\r\n\t\t} catch (IOException e) {\r\n\t\t\tLOGGER.error(&quot;IO Error: [{}]&quot;, e.getMessage());\r\n\t\t\tLOGGER.debug(&quot;IO Error: {}&quot;, e);\r\n\t\t\tresponse = null;\r\n\t\t} catch (Exception ex) {\r\n\t\t\tLOGGER.error(&quot;IO Error: [{}]&quot;, ex.getMessage());\r\n\t\t\tLOGGER.debug(&quot;IO Error: {}&quot;, ex);\r\n\t\t\tresponse = null;\r\n\t\t}\r\n\t\treturn response;\r\n\t}\r\n\r\n\tpublic CloseableHttpResponse executePost(final URL url, final String request, final int connectTimeout,\r\n\t\t\tfinal int readTimeout, Map&lt;String, String&gt; extraHeaders) {\r\n\r\n\t\tLOGGER.trace(&quot;Executing post request...&quot;);\r\n\t\tCloseableHttpResponse closeableHttpResponse = null;\r\n\t\tfinal RequestConfig.Builder requestConfigBuilder = RequestConfig.custom();\r\n\t\tfinal RequestConfig requestConfig = requestConfigBuilder.setSocketTimeout(readTimeout)\r\n\t\t\t\t.setConnectTimeout(connectTimeout).build();\r\n\r\n\t\tfinal URI uri = prepareUri(url, null);\r\n\t\tfinal HttpPost httpPost = new HttpPost(uri);\r\n\t\ttry {\r\n\t\t\thttpPost.setEntity(new StringEntity(request, StandardCharsets.UTF_8));\r\n\t\t\thttpPost.setConfig(requestConfig);\r\n\t\t\tif (MapUtils.isNotEmpty(extraHeaders)) {\r\n\t\t\t\tfor (Map.Entry&lt;String, String&gt; header : extraHeaders.entrySet()) {\r\n\t\t\t\t\thttpPost.setHeader(header.getKey(), header.getValue());\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tcloseableHttpResponse = httpClient.execute(httpPost, HttpClientContext.create());\r\n\t\t} catch (ClientProtocolException e) {\r\n\t\t\tLOGGER.error(&quot;HTTP Error for URL [{}] and RequestParams [{}]: {}&quot;, url, request, e);\r\n\t\t} catch (IOException e) {\r\n\t\t\tLOGGER.error(&quot;IO Error for URL [{}] and RequestParams [{}]: {}&quot;, url, request, e.getMessage());\r\n\t\t\tLOGGER.debug(&quot;IO Error for URL [{}] and RequestParams [{}]: {}&quot;, url, request, e);\r\n\t\t} catch (Exception e) {\r\n\t\t\tLOGGER.error(&quot;General Error for URL [{}] and RequestParams [{}]: {}&quot;, url, request, e);\r\n\t\t}\r\n\t\treturn closeableHttpResponse;\r\n\t}\r\n\r\ncalling `connect` via `threadPoolTaskScheduler` periodically (every few minutes)\r\n\r\nOnce in a while I get an error \r\n\r\n`java.lang.IllegalStateException: Connection pool shut down` and from what I have read this happens either with older HttpClient version or when you close the HttpClient. Which I do not do. So I cannot understand why I get this error. It recovers but it is a problem having exceptions like that.\r\n","title":"HttpClient Connection pool shut down","body":"<p>I am using HttpClient v4.5.5</p>\n\n<p>I have an <code>HttpClient</code> as below:</p>\n\n<pre><code>PoolingHttpClientConnectionManager connManager = new PoolingHttpClientConnectionManager();\n    connManager.setMaxTotal(totalMaxConnections);\n    connManager.setDefaultMaxPerRoute(defaultMaxConnPerRoute);\nCloseableHttpClient httpClient =HttpClients.custom().setConnectionManager(connManager).setConnectionManagerShared(true).build();\n</code></pre>\n\n<p>Then I use the http client as below:</p>\n\n<pre><code>protected Response connect(final Function&lt;AbstractHttpAdapter, CloseableHttpResponse&gt; pcAction) {\n    Response response = null;\n    final Instant begin = Instant.now();\n    try {\n        final CloseableHttpResponse closableResp = pcAction.apply(this);\n        try {\n            final Instant end = Instant.now();\n            if (closableResp != null) {\n                final HttpEntity responseEntity = closableResp.getEntity();\n                if (responseEntity != null) {\n                    response = new Response();\n                    InputStream is = responseEntity.getContent();\n                    try {\n\n                        final ContentType contentType = ContentType.getOrDefault(responseEntity);\n                        Charset charset = contentType.getCharset();\n                        if (charset == null)\n                            charset = Charset.forName(\"UTF-8\");\n                        response.responseText = IOUtils.toString(is, charset.toString());\n                        if (closableResp.getStatusLine() != null) {\n                            response.statusLine = closableResp.getStatusLine();\n\n                        }\n                        Map&lt;String, String&gt; responseHeaders = new HashMap&lt;&gt;();\n                        Header[] headers = closableResp.getAllHeaders();\n                        for (Header h : headers) {\n                            responseHeaders.put(h.getName(), h.getValue());\n                        }\n                        response.responseHeaders = responseHeaders;\n                        response.responseDuration = Duration.between(begin, end).toMillis();\n                    } catch (UnsupportedOperationException | IOException e) {\n                        LOGGER.error(\"IO Error: [{}]\", e.getMessage());\n                        LOGGER.debug(\"IO Error: {}\", e);\n                        return null;\n                    } finally {\n                        is.close();\n                    }\n                }\n            } else {\n                LOGGER.debug(\"NULL CloseableHttpResponse!\");\n            }\n        } finally {\n            if (closableResp != null)\n                closableResp.close();\n        }\n    } catch (IOException e) {\n        LOGGER.error(\"IO Error: [{}]\", e.getMessage());\n        LOGGER.debug(\"IO Error: {}\", e);\n        response = null;\n    } catch (Exception ex) {\n        LOGGER.error(\"IO Error: [{}]\", ex.getMessage());\n        LOGGER.debug(\"IO Error: {}\", ex);\n        response = null;\n    }\n    return response;\n}\n\npublic CloseableHttpResponse executePost(final URL url, final String request, final int connectTimeout,\n        final int readTimeout, Map&lt;String, String&gt; extraHeaders) {\n\n    LOGGER.trace(\"Executing post request...\");\n    CloseableHttpResponse closeableHttpResponse = null;\n    final RequestConfig.Builder requestConfigBuilder = RequestConfig.custom();\n    final RequestConfig requestConfig = requestConfigBuilder.setSocketTimeout(readTimeout)\n            .setConnectTimeout(connectTimeout).build();\n\n    final URI uri = prepareUri(url, null);\n    final HttpPost httpPost = new HttpPost(uri);\n    try {\n        httpPost.setEntity(new StringEntity(request, StandardCharsets.UTF_8));\n        httpPost.setConfig(requestConfig);\n        if (MapUtils.isNotEmpty(extraHeaders)) {\n            for (Map.Entry&lt;String, String&gt; header : extraHeaders.entrySet()) {\n                httpPost.setHeader(header.getKey(), header.getValue());\n            }\n        }\n        closeableHttpResponse = httpClient.execute(httpPost, HttpClientContext.create());\n    } catch (ClientProtocolException e) {\n        LOGGER.error(\"HTTP Error for URL [{}] and RequestParams [{}]: {}\", url, request, e);\n    } catch (IOException e) {\n        LOGGER.error(\"IO Error for URL [{}] and RequestParams [{}]: {}\", url, request, e.getMessage());\n        LOGGER.debug(\"IO Error for URL [{}] and RequestParams [{}]: {}\", url, request, e);\n    } catch (Exception e) {\n        LOGGER.error(\"General Error for URL [{}] and RequestParams [{}]: {}\", url, request, e);\n    }\n    return closeableHttpResponse;\n}\n</code></pre>\n\n<p>calling <code>connect</code> via <code>threadPoolTaskScheduler</code> periodically (every few minutes)</p>\n\n<p>Once in a while I get an error </p>\n\n<p><code>java.lang.IllegalStateException: Connection pool shut down</code> and from what I have read this happens either with older HttpClient version or when you close the HttpClient. Which I do not do. So I cannot understand why I get this error. It recovers but it is a problem having exceptions like that.</p>\n"},{"tags":["java","multithreading","scheduled-tasks","executorservice"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1686465818,"post_id":76448973,"comment_id":134800356,"body_markdown":"Without more detail, the best we can suggest that you do is read https://stackoverflow.com/questions/16789288.","body":"Without more detail, the best we can suggest that you do is read <a href=\"https://stackoverflow.com/questions/16789288\">stackoverflow.com/questions/16789288</a>."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1686467596,"post_id":76448973,"comment_id":134800460,"body_markdown":"If your code is as you described, then you should be OK.  But I suspect that either you haven&#39;t described the code accurately, or it doesn&#39;t behave according to how you described it; e.g. because it is buggy.  Having said that, if the code is as you describe, there is no need to create a new thread pool each time.  If a scheduled task doesn&#39;t get started until the previous one ends, they can share the same thread pool.","body":"If your code is as you described, then you should be OK.  But I suspect that either you haven&#39;t described the code accurately, or it doesn&#39;t behave according to how you described it; e.g. because it is buggy.  Having said that, if the code is as you describe, there is no need to create a new thread pool each time.  If a scheduled task doesn&#39;t get started until the previous one ends, they can share the same thread pool."},{"owner":{"account_id":213468,"reputation":103489,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1686470047,"post_id":76448973,"comment_id":134800642,"body_markdown":"_&quot;everytime ... it will call ExecutorService.newFixedThreadPool(3), then execute these 3 threads&quot;_ Do you shut down the thread pool after submitting the tasks? If not, you&#39;re leaking threads. Why do you create a new one each time and not reuse it instead?","body":"<i>&quot;everytime ... it will call ExecutorService.newFixedThreadPool(3), then execute these 3 threads&quot;</i> Do you shut down the thread pool after submitting the tasks? If not, you&#39;re leaking threads. Why do you create a new one each time and not reuse it instead?"}],"answers":[{"tags":[],"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686558677,"creation_date":1686485212,"answer_id":76450407,"question_id":76448973,"body_markdown":"&gt; ...everytime...it will call `ExecutorService.newFixedThreadPool(3)`... \r\n\r\nThat is not how thread pools are meant to be used!!\r\n\r\n@MarkRotteveel almost answered your question in a comment above. Here&#39;s the rest:\r\n\r\nThread pools exist because creating and destroying threads is relatively expensive as compared to the cost of some of the tasks that you might want a thread to do. The purpose of a thread pool is to allow the program to _re-use_ threads instead of continually creating new ones and then destroying them.\\* Instead of letting each &quot;worker thread&quot; die after it finishes its task, the thread pool keeps the workers alive, and waiting for you to submit more tasks.\r\n\r\nMark Rotteveel guessed—and it sounds like a good guess to me—that your program doesn&#39;t shut down the thread pools that it creates. So, every time it creates a new thread pool, it&#39;s also creating three new worker threads that will continue to live, taking up space, but doing nothing, until the program ends.\r\n\r\nIf that&#39;s true, then the fix is easy.\r\n\r\nCreate the thread pool just one time, and then periodically submit new tasks to the same pool object again and again.\r\n\r\n---------------------\r\n\r\n\\* FYI, the same is true for any other kind of _X_ pool that you might encounter in the future. Its purpose will be to let your program re-use objects of type _X_ instead of continually creating and destroying them.","title":"java.lang.OutOfMemoryError: unable to create new native thread happend when using ExecutorService.execute(Thread)","body":"<blockquote>\n<p>...everytime...it will call <code>ExecutorService.newFixedThreadPool(3)</code>...</p>\n</blockquote>\n<p>That is not how thread pools are meant to be used!!</p>\n<p>@MarkRotteveel almost answered your question in a comment above. Here's the rest:</p>\n<p>Thread pools exist because creating and destroying threads is relatively expensive as compared to the cost of some of the tasks that you might want a thread to do. The purpose of a thread pool is to allow the program to <em>re-use</em> threads instead of continually creating new ones and then destroying them.* Instead of letting each &quot;worker thread&quot; die after it finishes its task, the thread pool keeps the workers alive, and waiting for you to submit more tasks.</p>\n<p>Mark Rotteveel guessed—and it sounds like a good guess to me—that your program doesn't shut down the thread pools that it creates. So, every time it creates a new thread pool, it's also creating three new worker threads that will continue to live, taking up space, but doing nothing, until the program ends.</p>\n<p>If that's true, then the fix is easy.</p>\n<p>Create the thread pool just one time, and then periodically submit new tasks to the same pool object again and again.</p>\n<hr />\n<p>* FYI, the same is true for any other kind of <em>X</em> pool that you might encounter in the future. Its purpose will be to let your program re-use objects of type <em>X</em> instead of continually creating and destroying them.</p>\n"}],"owner":{"account_id":23195748,"reputation":31,"user_id":17291416,"display_name":"Ho&#224;ng Huy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1686558677,"creation_date":1686456459,"question_id":76448973,"body_markdown":"We are using a Scheduled in JAV that ExecutorService. Now, the problem is, we got this error: java.lang.OutOfMemoryError: unable to create new native thread\r\n\r\nCurrently, the logic that the Scheduled using is, everytime the Scheduled start (Only start when the previous Scheduled is completely finish), it will call ExecutorService.newFixedThreadPool(3), then execute these 3 threads.\r\n\r\nIs the above error cause by this logic ?\r\nIm new at Java and MultiThreading also, really nead your help and thanks for reading!","title":"java.lang.OutOfMemoryError: unable to create new native thread happend when using ExecutorService.execute(Thread)","body":"<p>We are using a Scheduled in JAV that ExecutorService. Now, the problem is, we got this error: java.lang.OutOfMemoryError: unable to create new native thread</p>\n<p>Currently, the logic that the Scheduled using is, everytime the Scheduled start (Only start when the previous Scheduled is completely finish), it will call ExecutorService.newFixedThreadPool(3), then execute these 3 threads.</p>\n<p>Is the above error cause by this logic ?\nIm new at Java and MultiThreading also, really nead your help and thanks for reading!</p>\n"},{"tags":["java","firebase","android-studio"],"owner":{"account_id":25358134,"reputation":13,"user_id":19173909,"display_name":"LostStudent"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686558325,"creation_date":1686558325,"question_id":76454790,"body_markdown":"\r\nI have tried to exclude but nothing works and I&#39;m stuck. It seems like I have dependency issues.  \r\n\r\nDuplicate class com.google.protobuf.Writer$FieldOrder found in modules protobuf-java-3.21.9 (com.google.protobuf:protobuf-java:3.21.9) and protobuf-javalite-3.21.7 (com.google.protobuf:protobuf-javalite:3.21.7)\r\n\r\n\r\nbuild gradle app  \r\n\r\n \r\n\r\n     plugins {\r\n            id &#39;com.android.application&#39;\r\n            id &#39;com.google.gms.google-services&#39;\r\n        \r\n        \r\n        \r\n        }\r\n        apply plugin: &#39;com.android.application&#39;\r\n        \r\n        android {\r\n            compileSdk 33\r\n        \r\n        \r\n        \r\n            defaultConfig {\r\n                applicationId &quot;com.example.nauka&quot;\r\n                minSdk 31\r\n                targetSdk 33\r\n                versionCode 1\r\n                versionName &quot;1.0&quot;\r\n        \r\n                testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n            }\r\n        \r\n            packagingOptions {\r\n                exclude &#39;google/protobuf/*.proto&#39;\r\n            }\r\n        \r\n        \r\n            buildTypes {\r\n                release {\r\n                    minifyEnabled false\r\n                    proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n                }\r\n            }\r\n            compileOptions {\r\n                sourceCompatibility JavaVersion.VERSION_1_8\r\n                targetCompatibility JavaVersion.VERSION_1_8\r\n            }\r\n        \r\n            packagingOptions {\r\n                pickFirst &#39;protobuf.meta&#39;\r\n            }\r\n        }\r\n        \r\n        dependencies {\r\n        \r\n        \r\n        \r\n            implementation &#39;org.xerial:sqlite-jdbc:3.34.0&#39;\r\n            implementation &#39;mysql:mysql-connector-java:8.0.32&#39;\r\n            implementation &#39;androidx.recyclerview:recyclerview:1.3.0&#39;\r\n            implementation &#39;androidx.appcompat:appcompat:1.6.1&#39;\r\n            implementation &#39;com.google.android.material:material:1.9.0&#39;\r\n            implementation &#39;androidx.constraintlayout:constraintlayout:2.1.4&#39;\r\n            implementation &#39;com.google.firebase:firebase-database:20.2.2&#39;\r\n            testImplementation &#39;junit:junit:4.13.2&#39;\r\n            androidTestImplementation &#39;androidx.test.ext:junit:1.1.5&#39;\r\n            androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.5.1&#39;\r\n            implementation &#39;org.mindrot:jbcrypt:0.4&#39;\r\n            implementation &#39;androidx.viewpager:viewpager:1.0.0&#39;\r\n            implementation &#39;androidx.viewpager2:viewpager2:1.0.0&#39;\r\n            implementation &#39;androidx.preference:preference:1.2.0&#39;\r\n        \r\n            implementation &#39;com.google.android.gms:play-services-auth:20.5.0&#39;\r\n            implementation &#39;com.google.firebase:firebase-analytics&#39;\r\n        \r\n            implementation platform(&#39;com.google.firebase:firebase-bom:28.4.1&#39;)\r\n            implementation &#39;com.google.firebase:firebase-database&#39;\r\n            implementation &#39;com.google.firebase:firebase-auth&#39;\r\n            implementation &#39;com.google.firebase:firebase-firestore:24.6.1&#39;\r\n        \r\n            implementation (&#39;com.google.protobuf:protobuf-java:3.21.9&#39;) {\r\n                exclude module: &#39;protobuf-javalite&#39;\r\n            }\r\n            implementation (&#39;com.google.protobuf:protobuf-javalite:3.21.7&#39;) {\r\n                exclude module: &#39;protobuf-java&#39;\r\n            }\r\n        \r\n        \r\n        \r\n        \r\n        \r\n        }\r\n\r\nbuild.gradle\r\n\r\n    buildscript {\r\n        dependencies {\r\n            classpath &#39;com.google.gms:google-services:4.3.15&#39;\r\n            classpath &#39;com.google.firebase:firebase-crashlytics-gradle:2.9.5&#39;\r\n    \r\n        }\r\n    }\r\n    \r\n    plugins {\r\n        id &#39;com.android.application&#39; version &#39;7.3.1&#39; apply false\r\n        id &#39;com.android.library&#39; version &#39;7.3.1&#39; apply false\r\n    }\r\n    \r\n    \r\n    \r\n    task clean(type: Delete) {\r\n        delete rootProject.buildDir\r\n    }\r\n\r\n\r\n","title":"Java Duplicate class protobuf","body":"<p>I have tried to exclude but nothing works and I'm stuck. It seems like I have dependency issues.</p>\n<p>Duplicate class com.google.protobuf.Writer$FieldOrder found in modules protobuf-java-3.21.9 (com.google.protobuf:protobuf-java:3.21.9) and protobuf-javalite-3.21.7 (com.google.protobuf:protobuf-javalite:3.21.7)</p>\n<p>build gradle app</p>\n<pre><code> plugins {\n        id 'com.android.application'\n        id 'com.google.gms.google-services'\n    \n    \n    \n    }\n    apply plugin: 'com.android.application'\n    \n    android {\n        compileSdk 33\n    \n    \n    \n        defaultConfig {\n            applicationId &quot;com.example.nauka&quot;\n            minSdk 31\n            targetSdk 33\n            versionCode 1\n            versionName &quot;1.0&quot;\n    \n            testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n        }\n    \n        packagingOptions {\n            exclude 'google/protobuf/*.proto'\n        }\n    \n    \n        buildTypes {\n            release {\n                minifyEnabled false\n                proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n            }\n        }\n        compileOptions {\n            sourceCompatibility JavaVersion.VERSION_1_8\n            targetCompatibility JavaVersion.VERSION_1_8\n        }\n    \n        packagingOptions {\n            pickFirst 'protobuf.meta'\n        }\n    }\n    \n    dependencies {\n    \n    \n    \n        implementation 'org.xerial:sqlite-jdbc:3.34.0'\n        implementation 'mysql:mysql-connector-java:8.0.32'\n        implementation 'androidx.recyclerview:recyclerview:1.3.0'\n        implementation 'androidx.appcompat:appcompat:1.6.1'\n        implementation 'com.google.android.material:material:1.9.0'\n        implementation 'androidx.constraintlayout:constraintlayout:2.1.4'\n        implementation 'com.google.firebase:firebase-database:20.2.2'\n        testImplementation 'junit:junit:4.13.2'\n        androidTestImplementation 'androidx.test.ext:junit:1.1.5'\n        androidTestImplementation 'androidx.test.espresso:espresso-core:3.5.1'\n        implementation 'org.mindrot:jbcrypt:0.4'\n        implementation 'androidx.viewpager:viewpager:1.0.0'\n        implementation 'androidx.viewpager2:viewpager2:1.0.0'\n        implementation 'androidx.preference:preference:1.2.0'\n    \n        implementation 'com.google.android.gms:play-services-auth:20.5.0'\n        implementation 'com.google.firebase:firebase-analytics'\n    \n        implementation platform('com.google.firebase:firebase-bom:28.4.1')\n        implementation 'com.google.firebase:firebase-database'\n        implementation 'com.google.firebase:firebase-auth'\n        implementation 'com.google.firebase:firebase-firestore:24.6.1'\n    \n        implementation ('com.google.protobuf:protobuf-java:3.21.9') {\n            exclude module: 'protobuf-javalite'\n        }\n        implementation ('com.google.protobuf:protobuf-javalite:3.21.7') {\n            exclude module: 'protobuf-java'\n        }\n    \n    \n    \n    \n    \n    }\n</code></pre>\n<p>build.gradle</p>\n<pre><code>buildscript {\n    dependencies {\n        classpath 'com.google.gms:google-services:4.3.15'\n        classpath 'com.google.firebase:firebase-crashlytics-gradle:2.9.5'\n\n    }\n}\n\nplugins {\n    id 'com.android.application' version '7.3.1' apply false\n    id 'com.android.library' version '7.3.1' apply false\n}\n\n\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n"},{"tags":["java","c++","arrays"],"comments":[{"owner":{"account_id":3772953,"reputation":11318,"user_id":3134621,"display_name":"deviantfan"},"score":0,"creation_date":1448670064,"post_id":33966316,"comment_id":55690313,"body_markdown":"`It could have been defined as int array1[20];` It could not, because objects with automatic storage duration don&#39;t exist at all in Java. Just by design. (And this is not `static`, static is something completely different)","body":"<code>It could have been defined as int array1[20];</code> It could not, because objects with automatic storage duration don&#39;t exist at all in Java. Just by design. (And this is not <code>static</code>, static is something completely different)"},{"owner":{"account_id":4934454,"reputation":37277,"user_id":3973077,"accept_rate":77,"display_name":"Paul Boddington"},"score":0,"creation_date":1448671966,"post_id":33966316,"comment_id":55690649,"body_markdown":"I&#39;m afraid I don&#39;t understand the question. The sentence `so why give the size of the array at all during definition` makes no sense to me. You do not need to give the size when you declare a variable of array type. You can just write `int[] array;`, for example. Are you asking about the syntax, or about what an array actually is?","body":"I&#39;m afraid I don&#39;t understand the question. The sentence <code>so why give the size of the array at all during definition</code> makes no sense to me. You do not need to give the size when you declare a variable of array type. You can just write <code>int[] array;</code>, for example. Are you asking about the syntax, or about what an array actually is?"},{"owner":{"account_id":4881680,"reputation":6434,"user_id":3935325,"accept_rate":86,"display_name":"villasv"},"score":1,"creation_date":1448679966,"post_id":33966316,"comment_id":55691989,"body_markdown":"I think that the OP&#39; reasoning is: `new` is used for allocating dynamic objects (which could grow), but arrays are static (can&#39;t grow). So one of them is unnecessary: the `new` or the size of the array.","body":"I think that the OP&#39; reasoning is: <code>new</code> is used for allocating dynamic objects (which could grow), but arrays are static (can&#39;t grow). So one of them is unnecessary: the <code>new</code> or the size of the array."},{"owner":{"account_id":6303198,"reputation":73,"user_id":4897148,"display_name":"Harsh Gupta"},"score":0,"creation_date":1449161639,"post_id":33966316,"comment_id":55896645,"body_markdown":"@PaulBoddington Thanks for finding the time to reply to my query. Yes I extactly mean what VillasV sir says, Thank you for putting it in such a clear way sir, I couldn&#39;t do it at all. Thanks all.","body":"@PaulBoddington Thanks for finding the time to reply to my query. Yes I extactly mean what VillasV sir says, Thank you for putting it in such a clear way sir, I couldn&#39;t do it at all. Thanks all."}],"answers":[{"tags":[],"owner":{"account_id":447735,"reputation":586,"user_id":5601055,"display_name":"pwilmot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1448670550,"creation_date":1448669904,"answer_id":33966340,"question_id":33966316,"body_markdown":"Since arrays are fixed-size they need to know how much memory to allocate at the time they are instantiated.\r\n\r\nArrayLists or other resizing data structures that internally use arrays to store data actually re-allocate larger arrays when their inner array data \r\nstructure fills up.","title":"Purpose of new keyword in creating array in Java","body":"<p>Since arrays are fixed-size they need to know how much memory to allocate at the time they are instantiated.</p>\n\n<p>ArrayLists or other resizing data structures that internally use arrays to store data actually re-allocate larger arrays when their inner array data \nstructure fills up.</p>\n"},{"tags":[],"owner":{"account_id":1597725,"reputation":34231,"user_id":1479414,"accept_rate":71,"display_name":"Andremoniy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1448670010,"creation_date":1448670010,"answer_id":33966351,"question_id":33966316,"body_markdown":"The main idea of the array data structure is that all its elements are located in the sequential row of memory cells. That is why you can not create array with variable size: it should be unbounbed space vector in memory for this purpose, which is impossible.\r\n\r\nIf you want change size of array, you should recreate it.","title":"Purpose of new keyword in creating array in Java","body":"<p>The main idea of the array data structure is that all its elements are located in the sequential row of memory cells. That is why you can not create array with variable size: it should be unbounbed space vector in memory for this purpose, which is impossible.</p>\n\n<p>If you want change size of array, you should recreate it.</p>\n"},{"tags":[],"owner":{"account_id":404649,"reputation":57172,"user_id":773113,"accept_rate":72,"display_name":"Mike Nakis"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1448670889,"creation_date":1448670363,"answer_id":33966378,"question_id":33966316,"body_markdown":"This may be an amateurish question, but it is one of the best amateurish questions you could make.\r\n\r\nIn order for java to allow you to declare arrays without `new`, it would have to support an additional kind of data type, which would behave like a primitive in the sense that it would not require allocation, but it would be very much unlike a primitive in the sense that it would be of variable size.  That would have immensely complicated the compiler and the JVM.  \r\n\r\nThe approach taken by java is to provide the bare minimum and sufficient primitives in order to be able to get most things done efficiently, and let everything else be done using objects.  That&#39;s why arrays are objects.\r\n\r\nAlso, you might be a bit confused about the meaning of &quot;static&quot; here.  In C, &quot;static&quot; means &quot;of file scope&quot;, that is, not visible by other object files.  In C++ and in Java, &quot;static&quot; means &quot;belongs to the class&quot; rather than &quot;belongs to instances of the class&quot;.  So, the term &quot;static&quot; is not suitable for describing array allocation.  &quot;Fixed size&quot; or &quot;fixed, predefined size&quot; would be more suitable terms.","title":"Purpose of new keyword in creating array in Java","body":"<p>This may be an amateurish question, but it is one of the best amateurish questions you could make.</p>\n\n<p>In order for java to allow you to declare arrays without <code>new</code>, it would have to support an additional kind of data type, which would behave like a primitive in the sense that it would not require allocation, but it would be very much unlike a primitive in the sense that it would be of variable size.  That would have immensely complicated the compiler and the JVM.  </p>\n\n<p>The approach taken by java is to provide the bare minimum and sufficient primitives in order to be able to get most things done efficiently, and let everything else be done using objects.  That's why arrays are objects.</p>\n\n<p>Also, you might be a bit confused about the meaning of \"static\" here.  In C, \"static\" means \"of file scope\", that is, not visible by other object files.  In C++ and in Java, \"static\" means \"belongs to the class\" rather than \"belongs to instances of the class\".  So, the term \"static\" is not suitable for describing array allocation.  \"Fixed size\" or \"fixed, predefined size\" would be more suitable terms.</p>\n"},{"tags":[],"owner":{"account_id":3568134,"reputation":1484,"user_id":2979161,"display_name":"Tom Tsagkatos"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1686558185,"creation_date":1448671233,"answer_id":33966462,"question_id":33966316,"body_markdown":"Well, in Java everything is an object, including arrays (they have `length` and other data). Thats why you cannot use \r\n\r\n    int myArray[20]; \r\n\r\nIn java that would be an `int` and the compiler would be confused. Instead by using this:\r\n\r\n    int[] myArray;\r\n\r\nYou are declaring that `myArray` is of type `int[]` (int array) so Java understands it.\r\n\r\nAlso in java the length of the array and other data are saved on the array, for this reason you don&#39;t have to declare size of array during declaration, instead when creating an array (using `new`) the data are saved.\r\n\r\nMaybe there is a better reason that oracle may have answered already, but the fact that in Java everything is an object must have something to do with it. Java is quite specific about objects and types, unlike C where you have more freedom but everything is more loose (especially using pointers).","title":"Purpose of new keyword in creating array in Java","body":"<p>Well, in Java everything is an object, including arrays (they have <code>length</code> and other data). Thats why you cannot use</p>\n<pre><code>int myArray[20]; \n</code></pre>\n<p>In java that would be an <code>int</code> and the compiler would be confused. Instead by using this:</p>\n<pre><code>int[] myArray;\n</code></pre>\n<p>You are declaring that <code>myArray</code> is of type <code>int[]</code> (int array) so Java understands it.</p>\n<p>Also in java the length of the array and other data are saved on the array, for this reason you don't have to declare size of array during declaration, instead when creating an array (using <code>new</code>) the data are saved.</p>\n<p>Maybe there is a better reason that oracle may have answered already, but the fact that in Java everything is an object must have something to do with it. Java is quite specific about objects and types, unlike C where you have more freedom but everything is more loose (especially using pointers).</p>\n"},{"tags":[],"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1448676732,"creation_date":1448675276,"answer_id":33966834,"question_id":33966316,"body_markdown":"All of Java&#39;s variables are at most a single 64bit field. Either primitives like\r\n\r\n* `integer` (32bit)\r\n* `long` (64bit)\r\n* ...\r\n\r\nor references to Objects which depending on JVM / config / OS are 64 or 32 bit fields (but unlike 64bit primitives with atomicity guaranteed).\r\n\r\nThere is no such thing as C&#39;s `int[20]` &quot;type&quot;. Neither is there C&#39;s static.\r\n\r\nWhat `int[] array = new int[20]` boils down to is roughly\r\n\r\n    int* array = malloc(20 * sizeof(java_int))\r\n\r\nEach time you see `new` in Java you can imagine a `malloc` and a call to the constructor method in case it&#39;s a real `Object` (not just an array). Each `Object` is more or less just a struct of a few primitives and more pointers.\r\n\r\nThe result is a giant network of relatively small structs pointing to other things. And the garbage collector&#39;s task is to free all the leaves that have fallen off the network.\r\n\r\nAnd this is also the reason why you can say Java is copy by value: both primitives and pointers are always copied.\r\n\r\nregarding `static` in Java: there is conceptually a struct per class that represents the static context of a class. That&#39;s the place where `static` instance variables are anchored. Non-static instance variables are anchored at with their own instance-struct\r\n\r\n    class Car {\r\n        static int[] forAllCars = new int[20];\r\n        Object perCar;\r\n    }\r\n    ...\r\n    new Car();\r\n\r\ntranslates very loosely (my C is terrible) to\r\n\r\n    struct Car-Static {\r\n        Object* forAllCars;\r\n    };\r\n    struct Car-Instance {\r\n        Object* perCar;\r\n    };\r\n    // .. class load time. Happens once and this is referenced from some root object so it can&#39;t get garbage collected\r\n    struct Car-Static *car_class = (struct Car-Static*) malloc(sizeof(Car-Static));\r\n    car_class-&gt;forAllCars = malloc(20 * 4);\r\n\r\n    // .. for every new Car();\r\n    struct Car-Instance *new_reference = (struct Car-Instance*) malloc(sizeof(Car-Instance));\r\n    new_reference.perCar = NULL; // all things get 0&#39;d\r\n    new_reference-&gt;constructor();\r\n    // &quot;new&quot; essentially returns the &quot;new_reference&quot; then","title":"Purpose of new keyword in creating array in Java","body":"<p>All of Java's variables are at most a single 64bit field. Either primitives like</p>\n\n<ul>\n<li><code>integer</code> (32bit)</li>\n<li><code>long</code> (64bit)</li>\n<li>...</li>\n</ul>\n\n<p>or references to Objects which depending on JVM / config / OS are 64 or 32 bit fields (but unlike 64bit primitives with atomicity guaranteed).</p>\n\n<p>There is no such thing as C's <code>int[20]</code> \"type\". Neither is there C's static.</p>\n\n<p>What <code>int[] array = new int[20]</code> boils down to is roughly</p>\n\n<pre><code>int* array = malloc(20 * sizeof(java_int))\n</code></pre>\n\n<p>Each time you see <code>new</code> in Java you can imagine a <code>malloc</code> and a call to the constructor method in case it's a real <code>Object</code> (not just an array). Each <code>Object</code> is more or less just a struct of a few primitives and more pointers.</p>\n\n<p>The result is a giant network of relatively small structs pointing to other things. And the garbage collector's task is to free all the leaves that have fallen off the network.</p>\n\n<p>And this is also the reason why you can say Java is copy by value: both primitives and pointers are always copied.</p>\n\n<p>regarding <code>static</code> in Java: there is conceptually a struct per class that represents the static context of a class. That's the place where <code>static</code> instance variables are anchored. Non-static instance variables are anchored at with their own instance-struct</p>\n\n<pre><code>class Car {\n    static int[] forAllCars = new int[20];\n    Object perCar;\n}\n...\nnew Car();\n</code></pre>\n\n<p>translates very loosely (my C is terrible) to</p>\n\n<pre><code>struct Car-Static {\n    Object* forAllCars;\n};\nstruct Car-Instance {\n    Object* perCar;\n};\n// .. class load time. Happens once and this is referenced from some root object so it can't get garbage collected\nstruct Car-Static *car_class = (struct Car-Static*) malloc(sizeof(Car-Static));\ncar_class-&gt;forAllCars = malloc(20 * 4);\n\n// .. for every new Car();\nstruct Car-Instance *new_reference = (struct Car-Instance*) malloc(sizeof(Car-Instance));\nnew_reference.perCar = NULL; // all things get 0'd\nnew_reference-&gt;constructor();\n// \"new\" essentially returns the \"new_reference\" then\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4881680,"reputation":6434,"user_id":3935325,"accept_rate":86,"display_name":"villasv"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1448680564,"creation_date":1448680564,"answer_id":33967278,"question_id":33966316,"body_markdown":"My understanding of OP&#39;s reasoning is:\r\n\r\n&gt; `new` is used for allocating dynamic objects (which can grow like, `ArrayList`), but arrays are static (can&#39;t grow). So one of them is unnecessary: the `new` or the size of the array.\r\n\r\nIf that is the question, then the answer is simple:\r\n\r\nWell, in Java `new` is necessary for every Object allocation, because in Java all objects are dynamically allocated.\r\n\r\nTurns out that in Java, arrays are objects, different from C/C++ where they are not.","title":"Purpose of new keyword in creating array in Java","body":"<p>My understanding of OP's reasoning is:</p>\n\n<blockquote>\n  <p><code>new</code> is used for allocating dynamic objects (which can grow like, <code>ArrayList</code>), but arrays are static (can't grow). So one of them is unnecessary: the <code>new</code> or the size of the array.</p>\n</blockquote>\n\n<p>If that is the question, then the answer is simple:</p>\n\n<p>Well, in Java <code>new</code> is necessary for every Object allocation, because in Java all objects are dynamically allocated.</p>\n\n<p>Turns out that in Java, arrays are objects, different from C/C++ where they are not.</p>\n"}],"owner":{"account_id":6303198,"reputation":73,"user_id":4897148,"display_name":"Harsh Gupta"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4438,"favorite_count":0,"down_vote_count":2,"up_vote_count":5,"accepted_answer_id":33966378,"answer_count":6,"score":3,"last_activity_date":1686558185,"creation_date":1448669675,"question_id":33966316,"body_markdown":"I want to know why an array created in Java static even when we use the `new` keyword to define it.\r\n\r\nFrom what I&#39;ve read, the new keyword allocates a memory space in the heap whenever it is encountered during run time, so why give the size of the array at all during definition.\r\n\r\ne.g. Why can&#39;t \r\n\r\n    int[] array1=new int[20]; \r\n\r\nsimply be: \r\n\r\n    int[] array1=new int[]; \r\n\r\nI know that it does not grow automatically and we have `ArrayList` for that but then what is the use of keyword `new` in this? It could have been defined as     `int array1[20];` like we used to do it in C, C++ if it has to be static.\r\n\r\nP.S. I know this is an amateurish question but I am an amateur, I tried to Google but couldn&#39;t find anything comprehensive.","title":"Purpose of new keyword in creating array in Java","body":"<p>I want to know why an array created in Java static even when we use the <code>new</code> keyword to define it.</p>\n\n<p>From what I've read, the new keyword allocates a memory space in the heap whenever it is encountered during run time, so why give the size of the array at all during definition.</p>\n\n<p>e.g. Why can't </p>\n\n<pre><code>int[] array1=new int[20]; \n</code></pre>\n\n<p>simply be: </p>\n\n<pre><code>int[] array1=new int[]; \n</code></pre>\n\n<p>I know that it does not grow automatically and we have <code>ArrayList</code> for that but then what is the use of keyword <code>new</code> in this? It could have been defined as     <code>int array1[20];</code> like we used to do it in C, C++ if it has to be static.</p>\n\n<p>P.S. I know this is an amateurish question but I am an amateur, I tried to Google but couldn't find anything comprehensive.</p>\n"},{"tags":["java","groovy"],"comments":[{"owner":{"account_id":1883209,"reputation":20919,"user_id":1702943,"accept_rate":86,"display_name":"Rao"},"score":0,"creation_date":1504170027,"post_id":45977045,"comment_id":78913368,"body_markdown":"What are you trying to achieve? Do you have any specific issue because of the compatibility? What `java &amp; groovy` version are you looking for?","body":"What are you trying to achieve? Do you have any specific issue because of the compatibility? What <code>java &amp; groovy</code> version are you looking for?"},{"owner":{"account_id":306606,"reputation":689,"user_id":617452,"accept_rate":50,"display_name":"JohanKees"},"score":0,"creation_date":1504171271,"post_id":45977045,"comment_id":78914260,"body_markdown":"The issue is with one of our builds in Jenkins. After upgrading Jenkins, the minimum required Java version is 8 (before it was 7). The build uses Groovy 1.6. Before the build was fine, now we&#39;re on Java 8 it is failing with an error indicating that an internal class was used (by Groovy).","body":"The issue is with one of our builds in Jenkins. After upgrading Jenkins, the minimum required Java version is 8 (before it was 7). The build uses Groovy 1.6. Before the build was fine, now we&#39;re on Java 8 it is failing with an error indicating that an internal class was used (by Groovy)."},{"owner":{"account_id":4358,"reputation":168410,"user_id":6509,"display_name":"tim_yates"},"score":0,"creation_date":1504171453,"post_id":45977045,"comment_id":78914418,"body_markdown":"http://groovy-lang.org/releasenotes/groovy-2.3.html#Groovy2.3releasenotes-OfficialsupportforrunningGroovyonJDK8","body":"<a href=\"http://groovy-lang.org/releasenotes/groovy-2.3.html#Groovy2.3releasenotes-OfficialsupportforrunningGroovyonJDK8\" rel=\"nofollow noreferrer\">groovy-lang.org/releasenotes/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":288740,"reputation":36420,"user_id":589329,"accept_rate":40,"display_name":"Vampire"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1686557656,"creation_date":1504171647,"answer_id":45977948,"question_id":45977045,"body_markdown":"Here you have the compatibility matrix: https://groovy.apache.org/download.html#requirements\r\n\r\nThis might also be interesting for you: https://groovy-lang.org/releasenotes/groovy-2.3.html#Groovy2.3releasenotes-OfficialsupportforrunningGroovyonJDK8","title":"Groovy and Java support matrix","body":"<p>Here you have the compatibility matrix: <a href=\"https://groovy.apache.org/download.html#requirements\" rel=\"nofollow noreferrer\">https://groovy.apache.org/download.html#requirements</a></p>\n<p>This might also be interesting for you: <a href=\"https://groovy-lang.org/releasenotes/groovy-2.3.html#Groovy2.3releasenotes-OfficialsupportforrunningGroovyonJDK8\" rel=\"nofollow noreferrer\">https://groovy-lang.org/releasenotes/groovy-2.3.html#Groovy2.3releasenotes-OfficialsupportforrunningGroovyonJDK8</a></p>\n"}],"owner":{"account_id":306606,"reputation":689,"user_id":617452,"accept_rate":50,"display_name":"JohanKees"},"comment_count":3,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10888,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"closed_date":1654861053,"answer_count":1,"score":10,"last_activity_date":1686557656,"creation_date":1504168940,"question_id":45977045,"body_markdown":"To understand which Java / Groovy combinations will work, I&#39;m looking for a matrix that will show this information. Both on http://www.groovy-lang.org/ and by Googling I wasn&#39;t able to find such a matrix. Does anyone have this information available? Thanks in advance!","title":"Groovy and Java support matrix","body":"<p>To understand which Java / Groovy combinations will work, I'm looking for a matrix that will show this information. Both on <a href=\"http://www.groovy-lang.org/\" rel=\"noreferrer\">http://www.groovy-lang.org/</a> and by Googling I wasn't able to find such a matrix. Does anyone have this information available? Thanks in advance!</p>\n"},{"tags":["java","tomcat"],"comments":[{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":1,"creation_date":1686324661,"post_id":76441136,"comment_id":134787929,"body_markdown":"Tomcat 10 does not use javax inside the server binaries or the framework .jar&#39;s e.g. the jsp or servlet spec jars. They must now all be &quot;jakarta&quot; unless they are SE Core javax classes.  Be sure your page loader servlet extends jakarta.servlet.http.HttpServlet and you have started with at least the doPost method override.","body":"Tomcat 10 does not use javax inside the server binaries or the framework .jar&#39;s e.g. the jsp or servlet spec jars. They must now all be &quot;jakarta&quot; unless they are SE Core javax classes.  Be sure your page loader servlet extends jakarta.servlet.http.HttpServlet and you have started with at least the doPost method override."},{"owner":{"account_id":5444529,"reputation":117,"user_id":4331545,"accept_rate":100,"display_name":"Luke_Skywalker007"},"score":0,"creation_date":1686343497,"post_id":76441136,"comment_id":134791136,"body_markdown":"My servlet does indeed extend jakarta.servlet.http.HttpServlet. Also. the first method override is doGet then I override the doPost. Surely that is OK as it works with my other servlets?\n\nI have other servlets that work hence the reason why Im confused the only ones not working are the ones being called from the ajax call. Ive amended my original question with the servlet details.","body":"My servlet does indeed extend jakarta.servlet.http.HttpServlet. Also. the first method override is doGet then I override the doPost. Surely that is OK as it works with my other servlets?  I have other servlets that work hence the reason why Im confused the only ones not working are the ones being called from the ajax call. Ive amended my original question with the servlet details."},{"owner":{"account_id":20338,"reputation":63801,"user_id":48503,"accept_rate":100,"display_name":"Luke Woodward"},"score":1,"creation_date":1686345074,"post_id":76441136,"comment_id":134791332,"body_markdown":"You are not showing the import for `HttpServlet` in your servlet. Is it possible that it is still using `javax.servlet.HttpServlet`?","body":"You are not showing the import for <code>HttpServlet</code> in your servlet. Is it possible that it is still using <code>javax.servlet.HttpServlet</code>?"},{"owner":{"account_id":5444529,"reputation":117,"user_id":4331545,"accept_rate":100,"display_name":"Luke_Skywalker007"},"score":0,"creation_date":1686346152,"post_id":76441136,"comment_id":134791464,"body_markdown":"You are correct, I actually don&#39;t have `javax.servlet.HttpServlet` and my other servlets do however that has confused me. Shouldnt Netbeans pick that up?  Anyway, I added in the import, cleaned and built the project however im still getting the same error. \n\nIs there a way to check what is actually being extended in this servlet? Could it be using `javax.servlet.HttpServlet` even though its not explicitly listed as an import?","body":"You are correct, I actually don&#39;t have <code>javax.servlet.HttpServlet</code> and my other servlets do however that has confused me. Shouldnt Netbeans pick that up?  Anyway, I added in the import, cleaned and built the project however im still getting the same error.   Is there a way to check what is actually being extended in this servlet? Could it be using <code>javax.servlet.HttpServlet</code> even though its not explicitly listed as an import?"},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1686367967,"post_id":76441136,"comment_id":134792937,"body_markdown":"If it were using javax, the jar in the server would have javax, Tomcat 10 does not, it has Jakarta in 10. However ??? How do you deploy, is it through Netbeans, open the tab in NBs and see which server if it is deployed through NBs.   I never deploy that way in testing because of settings, I go into the project folder and open the .war with either ark (Linux) or WinRAR (ms windows) and open whichever &quot;server apps folder&quot; then drop the folder or contents over or into the appropriate app folder. E.g. Wildfly , Glassfish ,Tomcat 9 (javax version) or &quot;webapps/theprojimade&quot; tomcat 10 (Jakarta vrs)","body":"If it were using javax, the jar in the server would have javax, Tomcat 10 does not, it has Jakarta in 10. However ??? How do you deploy, is it through Netbeans, open the tab in NBs and see which server if it is deployed through NBs.   I never deploy that way in testing because of settings, I go into the project folder and open the .war with either ark (Linux) or WinRAR (ms windows) and open whichever &quot;server apps folder&quot; then drop the folder or contents over or into the appropriate app folder. E.g. Wildfly , Glassfish ,Tomcat 9 (javax version) or &quot;webapps/theprojimade&quot; tomcat 10 (Jakarta vrs)"},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1686368220,"post_id":76441136,"comment_id":134792954,"body_markdown":"I also shutdown and restart the server after I deploy to clear anything li getting in settings or classes from last instance. Note , you can find errors and system.out.println in &quot;logs/catalina.out&quot;","body":"I also shutdown and restart the server after I deploy to clear anything li getting in settings or classes from last instance. Note , you can find errors and system.out.println in &quot;logs/catalina.out&quot;"},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1686368957,"post_id":76441136,"comment_id":134792983,"body_markdown":"Also check your web.xml declaration for the servlet. That seems odd, also the name appears like a jsp script let segment class.    [ ignore this potentially : With AJAX it is technically a call to a standard configured servlet, though at some time it may need a synchronized filter class if it outputs repeatedly verbose ]","body":"Also check your web.xml declaration for the servlet. That seems odd, also the name appears like a jsp script let segment class.    [ ignore this potentially : With AJAX it is technically a call to a standard configured servlet, though at some time it may need a synchronized filter class if it outputs repeatedly verbose ]"},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1686370085,"post_id":76441136,"comment_id":134793057,"body_markdown":"Sorry about Spell checker errors, I found this explains how bad these devices go (lyrics are in bottom right corner they are certain death to coherence)   https://youtu.be/mDR9BzUXvfk    disaster area in this phone.","body":"Sorry about Spell checker errors, I found this explains how bad these devices go (lyrics are in bottom right corner they are certain death to coherence)   <a href=\"https://youtu.be/mDR9BzUXvfk\" rel=\"nofollow noreferrer\">youtu.be/mDR9BzUXvfk</a>    disaster area in this phone."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1686371272,"post_id":76441136,"comment_id":134793106,"body_markdown":"That&#39;s a piece nutty in there, you can get parameters from inside doPost. Use the HttpServletRequest to getParameter( name ). It&#39;s inherited from ServletRequest","body":"That&#39;s a piece nutty in there, you can get parameters from inside doPost. Use the HttpServletRequest to getParameter( name ). It&#39;s inherited from ServletRequest"},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":1,"creation_date":1686372333,"post_id":76441136,"comment_id":134793157,"body_markdown":"Another problem can go wrong swapping API levels is &quot;annotation&quot; library level. Did NBs insert that @WebServlet annotation with the library or is it carry over?    And the error message is saying what should load it is a different class loader to that is trying to load it, The annotation path may the key.","body":"Another problem can go wrong swapping API levels is &quot;annotation&quot; library level. Did NBs insert that @WebServlet annotation with the library or is it carry over?    And the error message is saying what should load it is a different class loader to that is trying to load it, The annotation path may the key."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1686372877,"post_id":76441136,"comment_id":134793185,"body_markdown":"Too, if it did not originally extend http servlet, is it a &quot;helper class&quot; called by a servlet, or more particularly are you trying to bolt into the server binaries? (to compile a server). ! You don&#39;t want AJAX in Jasper e.g. ! The other maybe.","body":"Too, if it did not originally extend http servlet, is it a &quot;helper class&quot; called by a servlet, or more particularly are you trying to bolt into the server binaries? (to compile a server). ! You don&#39;t want AJAX in Jasper e.g. ! The other maybe."},{"owner":{"account_id":5444529,"reputation":117,"user_id":4331545,"accept_rate":100,"display_name":"Luke_Skywalker007"},"score":0,"creation_date":1686380726,"post_id":76441136,"comment_id":134793720,"body_markdown":"@SamuelMarchant thank you very much for the comments and feedback which is really appreciated. Im off work now until Monday however I may have a look at this over the weekend if I have time. If I make any progress with the steps you mention above I will let you know :)","body":"@SamuelMarchant thank you very much for the comments and feedback which is really appreciated. Im off work now until Monday however I may have a look at this over the weekend if I have time. If I make any progress with the steps you mention above I will let you know :)"},{"owner":{"account_id":5444529,"reputation":117,"user_id":4331545,"accept_rate":100,"display_name":"Luke_Skywalker007"},"score":0,"creation_date":1686557293,"post_id":76441136,"comment_id":134809188,"body_markdown":"@SamuelMarchant thank you very much for all your help. I went down your solutions and the one relating to the annotation path was the issue. I re-entered the code for the annotation and forced my class to use the `jakarta.servlet.annotation.WebServlet;` then it began to work. My program has obviously got into a fickle somehow during the automatic changing of imports from javax to jakarta within Netbeans.","body":"@SamuelMarchant thank you very much for all your help. I went down your solutions and the one relating to the annotation path was the issue. I re-entered the code for the annotation and forced my class to use the <code>jakarta.servlet.annotation.WebServlet;</code> then it began to work. My program has obviously got into a fickle somehow during the automatic changing of imports from javax to jakarta within Netbeans."}],"answers":[{"tags":[],"owner":{"account_id":5444529,"reputation":117,"user_id":4331545,"accept_rate":100,"display_name":"Luke_Skywalker007"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686557172,"creation_date":1686557172,"answer_id":76454659,"question_id":76441136,"body_markdown":"Re-typing the @WebServlet annotation within my class and forcing Netbeans to select the `jakarta.servlet.annotation.WebServlet;` import got this to work.\r\n\r\nThe automatic updating of the imports from javax to jakarta seemed to have caused my program to get into a fickle somehow.\r\n\r\nThe solution provided by @SamuelMarchant above helped me solve this issue. His comments where:\r\n\r\n*Another problem can go wrong swapping API levels is &quot;annotation&quot; library level. Did NBs insert that @WebServlet annotation with the library or is it carry over? And the error message is saying what should load it is a different class loader to that is trying to load it, The annotation path may the key.*\r\n\r\n   \r\n\r\n","title":"cannot be cast to class jakarta.servlet.Servlet","body":"<p>Re-typing the @WebServlet annotation within my class and forcing Netbeans to select the <code>jakarta.servlet.annotation.WebServlet;</code> import got this to work.</p>\n<p>The automatic updating of the imports from javax to jakarta seemed to have caused my program to get into a fickle somehow.</p>\n<p>The solution provided by @SamuelMarchant above helped me solve this issue. His comments where:</p>\n<p><em>Another problem can go wrong swapping API levels is &quot;annotation&quot; library level. Did NBs insert that @WebServlet annotation with the library or is it carry over? And the error message is saying what should load it is a different class loader to that is trying to load it, The annotation path may the key.</em></p>\n"}],"owner":{"account_id":5444529,"reputation":117,"user_id":4331545,"accept_rate":100,"display_name":"Luke_Skywalker007"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1185,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686557172,"creation_date":1686320355,"question_id":76441136,"body_markdown":"I recently upgraded my Java web application to use Tomcat 10 and Java 11.\r\n\r\nThe code performs an ajax call from a javascript file to a back end servlet during the loading of a particuar web page. However, now, I am getting the following error:\r\n\r\n `java.lang.ClassCastException: class GenericServlets.All.PageLoadServlet_2023_2024 cannot be cast to class jakarta.servlet.Servlet (GenericServlets.All.PageLoadServlet_2023_2024 is in unnamed module of loader org.apache.catalina.loader.ParallelWebappClassLoader @a0a0ebe; jakarta.servlet.Servlet is in unnamed module of loader java.net.URLClassLoader @1f7030a6)`\r\n\r\nAfter searching online, many solutions suggest changing the import from:\r\n\r\n `javax.servlet.*;`\r\n\r\nto\r\n\r\n `jakarta.servlet.*;`\r\n\r\nFor example, as shown here:\r\n\r\nhttps://stackoverflow.com/questions/64387472/servlet-5-0-jar-throws-compile-error-on-javax-servlet-but-servlet-4-0-jar-does\r\n\r\nHowever I have done this and it is still not working, with the same error message being presented.\r\n\r\nFor reference, here is the code for the ajax call I am using from the javascript file:\r\n\r\n```\r\nfunction pageLoad()\r\n{\r\n   $.ajax({\r\n            type: &#39;POST&#39;, \r\n            data: {pageLoadData : &quot;J&quot;},\r\n            url: &#39;../../../../All/PageLoadServlet_2023_2024&#39;,\r\n            success: function (data)\r\n            { \r\n              ...\r\n```       \r\nAnd here are the import statements from my servlet:\r\n\r\n```\r\nimport jakarta.servlet.ServletException;\r\nimport jakarta.servlet.annotation.WebServlet;\r\nimport jakarta.servlet.http.HttpServletRequest;\r\nimport jakarta.servlet.http.HttpServletResponse;\r\nimport java.io.IOException;\r\nimport java.util.Iterator;\r\nimport java.util.List;\r\n\r\n@WebServlet(&quot;/All/PageLoadServlet_2023_2024&quot;)\r\npublic class PageLoadServlet_2023_2024 extends HttpServlet \r\n{\r\n    \r\n\r\n    protected void doGet(HttpServletRequest request, HttpServletResponse response)\r\n            throws ServletException, IOException \r\n    {\r\n        doPost(request, response);\r\n    }\r\n\r\n\r\n    protected void doPost(HttpServletRequest request, HttpServletResponse response)\r\n            throws ServletException, IOException \r\n    {\r\n        \r\n        // Get parameter\r\n        String pageLoadData = request.getParameter(&quot;pageLoadData&quot;);  \r\n\r\n        ...\r\n\r\n```","title":"cannot be cast to class jakarta.servlet.Servlet","body":"<p>I recently upgraded my Java web application to use Tomcat 10 and Java 11.</p>\n<p>The code performs an ajax call from a javascript file to a back end servlet during the loading of a particuar web page. However, now, I am getting the following error:</p>\n<p><code>java.lang.ClassCastException: class GenericServlets.All.PageLoadServlet_2023_2024 cannot be cast to class jakarta.servlet.Servlet (GenericServlets.All.PageLoadServlet_2023_2024 is in unnamed module of loader org.apache.catalina.loader.ParallelWebappClassLoader @a0a0ebe; jakarta.servlet.Servlet is in unnamed module of loader java.net.URLClassLoader @1f7030a6)</code></p>\n<p>After searching online, many solutions suggest changing the import from:</p>\n<p><code>javax.servlet.*;</code></p>\n<p>to</p>\n<p><code>jakarta.servlet.*;</code></p>\n<p>For example, as shown here:</p>\n<p><a href=\"https://stackoverflow.com/questions/64387472/servlet-5-0-jar-throws-compile-error-on-javax-servlet-but-servlet-4-0-jar-does\">Servlet 5.0 JAR throws compile error on javax.servlet.* but Servlet 4.0 JAR does not</a></p>\n<p>However I have done this and it is still not working, with the same error message being presented.</p>\n<p>For reference, here is the code for the ajax call I am using from the javascript file:</p>\n<pre><code>function pageLoad()\n{\n   $.ajax({\n            type: 'POST', \n            data: {pageLoadData : &quot;J&quot;},\n            url: '../../../../All/PageLoadServlet_2023_2024',\n            success: function (data)\n            { \n              ...\n</code></pre>\n<p>And here are the import statements from my servlet:</p>\n<pre><code>import jakarta.servlet.ServletException;\nimport jakarta.servlet.annotation.WebServlet;\nimport jakarta.servlet.http.HttpServletRequest;\nimport jakarta.servlet.http.HttpServletResponse;\nimport java.io.IOException;\nimport java.util.Iterator;\nimport java.util.List;\n\n@WebServlet(&quot;/All/PageLoadServlet_2023_2024&quot;)\npublic class PageLoadServlet_2023_2024 extends HttpServlet \n{\n    \n\n    protected void doGet(HttpServletRequest request, HttpServletResponse response)\n            throws ServletException, IOException \n    {\n        doPost(request, response);\n    }\n\n\n    protected void doPost(HttpServletRequest request, HttpServletResponse response)\n            throws ServletException, IOException \n    {\n        \n        // Get parameter\n        String pageLoadData = request.getParameter(&quot;pageLoadData&quot;);  \n\n        ...\n\n</code></pre>\n"},{"tags":["python","java","android"],"comments":[{"owner":{"account_id":1219770,"reputation":3961,"user_id":1186624,"display_name":"relent95"},"score":0,"creation_date":1686621528,"post_id":76454607,"comment_id":134820898,"body_markdown":"Does this answer your question? [How to make GPS-app for android using kivy, pyjnius?](https://stackoverflow.com/questions/16917149/how-to-make-gps-app-for-android-using-kivy-pyjnius)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/16917149/how-to-make-gps-app-for-android-using-kivy-pyjnius\">How to make GPS-app for android using kivy, pyjnius?</a>"}],"owner":{"account_id":26921025,"reputation":1,"user_id":21975195,"display_name":"AmazonPython"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686556723,"creation_date":1686556723,"question_id":76454607,"body_markdown":"I&#39;m working on a personal project of mine, and one of the requirements of that project is getting my android device&#39;s GPS location. I have tried many modules, but apparently it needs to be something integrated with Java Development Kit (JDK) because to access android&#39;s GPS module, you need to communicate with the device in Java. Here&#39;s what i tried, and results it yielded:\r\n\r\nHere is my code in case it&#39;s of any relevance ...\r\n```\r\nfrom kivy import platform\r\nfrom kivy.clock import mainthread\r\nfrom geojson import Point\r\n\r\nif platform == &#39;linux&#39;:\r\n    from jnius import autoclass, cast\r\n\r\n    # Import necessary Java classes\r\n    LocationManager = autoclass(&#39;android.location.LocationManager&#39;)\r\n    PythonActivity = autoclass(&#39;org.kivy.android.PythonActivity&#39;)\r\n    Looper = autoclass(&#39;android.os.Looper&#39;)\r\n    Runnable = autoclass(&#39;java.lang.Runnable&#39;)\r\n\r\n    # Define a Runnable to get the last known location\r\n    class GetLastLocationRunnable(Runnable):\r\n        def run(self):\r\n            # Get the current activity\r\n            activity = PythonActivity.mActivity\r\n\r\n            # Get the location manager\r\n            location_manager = activity.getSystemService(activity.LOCATION_SERVICE)\r\n\r\n            # Get the last known location\r\n            last_known_location = location_manager.getLastKnownLocation(LocationManager.GPS_PROVIDER)\r\n\r\n            # Call the on_location_received function on the main thread with the location\r\n            mainthread.call_soon_threadsafe(on_location_received, last_known_location)\r\n\r\n    # Callback function to process the received location\r\n    def on_location_received(location):\r\n        if location:\r\n            latitude = location.getLatitude()\r\n            longitude = location.getLongitude()\r\n            \r\n            # Create a GeoJSON Point object with the dynamic latitude and longitude\r\n            point = Point((longitude, latitude))\r\n\r\n            # Access the coordinates\r\n            coordinates = point.coordinates\r\n\r\n            print(&quot;Latitude:&quot;, coordinates[1])\r\n            print(&quot;Longitude:&quot;, coordinates[0])\r\n        else:\r\n            print(&quot;No last known location available.&quot;)\r\n\r\n    # Run the GetLastLocationRunnable on the main thread\r\n    mainthread.call_soon(GetLastLocationRunnable().run)\r\n\r\nelse:\r\n    print(&quot;GPS location retrieval is only supported on Android.&quot;)\r\n\r\n```\r\n\r\nAt first I tried termux, but it quickly became apparent that this was not the right environment, as kivy (one of the very necessary modules) was impossible to install, and people online were saying that even if you do manage to install kivy on termux, it works all clanky and 1990&#39;s esque\r\n\r\nThen I tried Pydroid 3, and that actually got me past python&#39;s ModuleNotFoundException as I was finally able to install all the necessary modules, however it always finished with an error, most recent one being ```SystemError: NULL result without error in PyObject_Call``` as a response to ```from jnius import autoclass, cast``` , and that according to chatGPT is an error resulting from the module not being able to find JDK ...\r\n\r\nIf you know any solutions to this problem without the need for change in environment, please let me know, i&#39;m eager to try. Also if you know a python android environment that has JDK and works with jnius and kivy, let me know as well!","title":"Android python environment with JDK","body":"<p>I'm working on a personal project of mine, and one of the requirements of that project is getting my android device's GPS location. I have tried many modules, but apparently it needs to be something integrated with Java Development Kit (JDK) because to access android's GPS module, you need to communicate with the device in Java. Here's what i tried, and results it yielded:</p>\n<p>Here is my code in case it's of any relevance ...</p>\n<pre><code>from kivy import platform\nfrom kivy.clock import mainthread\nfrom geojson import Point\n\nif platform == 'linux':\n    from jnius import autoclass, cast\n\n    # Import necessary Java classes\n    LocationManager = autoclass('android.location.LocationManager')\n    PythonActivity = autoclass('org.kivy.android.PythonActivity')\n    Looper = autoclass('android.os.Looper')\n    Runnable = autoclass('java.lang.Runnable')\n\n    # Define a Runnable to get the last known location\n    class GetLastLocationRunnable(Runnable):\n        def run(self):\n            # Get the current activity\n            activity = PythonActivity.mActivity\n\n            # Get the location manager\n            location_manager = activity.getSystemService(activity.LOCATION_SERVICE)\n\n            # Get the last known location\n            last_known_location = location_manager.getLastKnownLocation(LocationManager.GPS_PROVIDER)\n\n            # Call the on_location_received function on the main thread with the location\n            mainthread.call_soon_threadsafe(on_location_received, last_known_location)\n\n    # Callback function to process the received location\n    def on_location_received(location):\n        if location:\n            latitude = location.getLatitude()\n            longitude = location.getLongitude()\n            \n            # Create a GeoJSON Point object with the dynamic latitude and longitude\n            point = Point((longitude, latitude))\n\n            # Access the coordinates\n            coordinates = point.coordinates\n\n            print(&quot;Latitude:&quot;, coordinates[1])\n            print(&quot;Longitude:&quot;, coordinates[0])\n        else:\n            print(&quot;No last known location available.&quot;)\n\n    # Run the GetLastLocationRunnable on the main thread\n    mainthread.call_soon(GetLastLocationRunnable().run)\n\nelse:\n    print(&quot;GPS location retrieval is only supported on Android.&quot;)\n\n</code></pre>\n<p>At first I tried termux, but it quickly became apparent that this was not the right environment, as kivy (one of the very necessary modules) was impossible to install, and people online were saying that even if you do manage to install kivy on termux, it works all clanky and 1990's esque</p>\n<p>Then I tried Pydroid 3, and that actually got me past python's ModuleNotFoundException as I was finally able to install all the necessary modules, however it always finished with an error, most recent one being <code>SystemError: NULL result without error in PyObject_Call</code> as a response to <code>from jnius import autoclass, cast</code> , and that according to chatGPT is an error resulting from the module not being able to find JDK ...</p>\n<p>If you know any solutions to this problem without the need for change in environment, please let me know, i'm eager to try. Also if you know a python android environment that has JDK and works with jnius and kivy, let me know as well!</p>\n"},{"tags":["java","mysql","jdbi"],"comments":[{"owner":{"account_id":10929,"reputation":545317,"user_id":20860,"accept_rate":92,"display_name":"Bill Karwin"},"score":0,"creation_date":1686581789,"post_id":76454532,"comment_id":134814699,"body_markdown":"Why do you want to use `MATCH() AGAINST()`? That is a much different type of search than `IN()` or `NOT IN()`. It would be useful only if your `request_id` column stores a paragraph of space-separated id values.","body":"Why do you want to use <code>MATCH() AGAINST()</code>? That is a much different type of search than <code>IN()</code> or <code>NOT IN()</code>. It would be useful only if your <code>request_id</code> column stores a paragraph of space-separated id values."},{"owner":{"account_id":2271235,"reputation":558,"user_id":1998575,"accept_rate":50,"display_name":"Kim Kakan Andersson"},"score":0,"creation_date":1686669930,"post_id":76454532,"comment_id":134829460,"body_markdown":"As I understand , it’s needed in order for MySQL FULLTEXT index to work. Maybe I’m underestimating MySQL, but I have 30GB of data and the column I want to search through is a TEXT type with around 150-300 letters and symbols.","body":"As I understand , it’s needed in order for MySQL FULLTEXT index to work. Maybe I’m underestimating MySQL, but I have 30GB of data and the column I want to search through is a TEXT type with around 150-300 letters and symbols."},{"owner":{"account_id":10929,"reputation":545317,"user_id":20860,"accept_rate":92,"display_name":"Bill Karwin"},"score":0,"creation_date":1686670286,"post_id":76454532,"comment_id":134829545,"body_markdown":"`request_id` is a TEXT type?","body":"<code>request_id</code> is a TEXT type?"},{"owner":{"account_id":2271235,"reputation":558,"user_id":1998575,"accept_rate":50,"display_name":"Kim Kakan Andersson"},"score":0,"creation_date":1686758635,"post_id":76454532,"comment_id":134844165,"body_markdown":"Yeah I&#39;ve accidently written the wrong column, it should be request_text which is a big string of texts, usually json formatted text.","body":"Yeah I&#39;ve accidently written the wrong column, it should be request_text which is a big string of texts, usually json formatted text."},{"owner":{"account_id":10929,"reputation":545317,"user_id":20860,"accept_rate":92,"display_name":"Bill Karwin"},"score":0,"creation_date":1686760505,"post_id":76454532,"comment_id":134844586,"body_markdown":"Usually? Why not consistently? Then you could use a `JSON` column, and then you can use a [multi-valued index](https://dev.mysql.com/doc/refman/8.0/en/create-index.html#create-index-multi-valued) to search it efficiently. Fulltext search is not the best solution for this.","body":"Usually? Why not consistently? Then you could use a <code>JSON</code> column, and then you can use a <a href=\"https://dev.mysql.com/doc/refman/8.0/en/create-index.html#create-index-multi-valued\" rel=\"nofollow noreferrer\">multi-valued index</a> to search it efficiently. Fulltext search is not the best solution for this."}],"owner":{"account_id":2271235,"reputation":558,"user_id":1998575,"accept_rate":50,"display_name":"Kim Kakan Andersson"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686555977,"creation_date":1686555977,"question_id":76454532,"body_markdown":"When running `IN()` in a MySQL query, you&#39;re able to use `@BindList()` in JDBI to run your query towards a list.\r\nHowever, I&#39;d like to do the same with `MATCH()` and `REQUEST()`, however I&#39;m not able to construct a query that seems to work for this.\r\n\r\nThis was my old query:\r\n\r\n    SELECT * FROM xxxxxxxxxxx WHERE request_id NOT IN (&lt;blacklistedRequestIds&gt;)\r\n\r\nAnd what I want to do is something like:\r\n\r\n    SELECT * FROM bcsadmin_log WHERE MATCH(request_id) AGAINST(-&lt;blacklistedRequestIds&gt; IN BOOLEAN MODE)\r\n\r\n(IN BOOLEAN MODE) is something that ChatGPT told me to use, I think it isn&#39;t important for the actual question though. \r\n\r\nCould anyone give me some support?","title":"JDBI MySQL using @BindList on MATCH() and AGAINST() fuction","body":"<p>When running <code>IN()</code> in a MySQL query, you're able to use <code>@BindList()</code> in JDBI to run your query towards a list.\nHowever, I'd like to do the same with <code>MATCH()</code> and <code>REQUEST()</code>, however I'm not able to construct a query that seems to work for this.</p>\n<p>This was my old query:</p>\n<pre><code>SELECT * FROM xxxxxxxxxxx WHERE request_id NOT IN (&lt;blacklistedRequestIds&gt;)\n</code></pre>\n<p>And what I want to do is something like:</p>\n<pre><code>SELECT * FROM bcsadmin_log WHERE MATCH(request_id) AGAINST(-&lt;blacklistedRequestIds&gt; IN BOOLEAN MODE)\n</code></pre>\n<p>(IN BOOLEAN MODE) is something that ChatGPT told me to use, I think it isn't important for the actual question though.</p>\n<p>Could anyone give me some support?</p>\n"},{"tags":["java","weblogic","jax-ws","java-11"],"owner":{"account_id":21594414,"reputation":11,"user_id":15923561,"display_name":"sdasa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686555589,"creation_date":1686555589,"question_id":76454494,"body_markdown":"Im trying to update an existing JAX-WS app creation scenario to work with Java11.\r\n\r\nExisting code:\r\n\r\n        // import javax.jws.WebService;\r\n        // import javax.jws.WebMethod;\r\n        // import javax.jws.WebParam;\r\n        // import javax.xml.ws.BindingType;\r\n        // import javax.xml.ws.soap.SOAPBinding;\r\n       \r\n        import jakarta.jws.WebMethod;\r\n        import jakarta.jws.WebParam;\r\n        import jakarta.jws.WebService;\r\n        import jakarta.xml.ws.BindingType;\r\n        import jakarta.xml.ws.soap.SOAPBinding;\r\n        \r\n       /*\r\n         security imports\r\n       */\r\n  \r\n        \r\n        @WebService(portName = &quot;TestPort&quot;)\r\n        @BindingType(SOAPBinding.SOAP12HTTP_BINDING)\r\n        public class TestServlet1 {\r\n            @WebMethod\r\n            public String echo(@WebParam(name = &quot;arg0&quot;) String str) {\r\n             // Some Code\r\n      }\r\n    }\r\n\r\nNow here is how the process goes, The above JaxwsService is first compiled, then wsdl files are generated from them using the ant wsgen task and lastly bundled for deployment.\r\n\r\nThe issue arises when i try to deploy the .was file using Weblogic deployer, The deployment fails with the following error message:\r\n\r\n    Task 83 failed: [Deployer:149026]deploy application JaxwsService on MServerB.\r\n    Target state: deploy failed on Server MServerB\r\n    javax.servlet.ServletException: Servlet class: &#39;org.example.JaxwsService&#39; does not implement javax.servlet.Servlet\r\n\r\nNow if i switch back the imports to javax.jws.* the javaCompilation and ant.wsgen generation fails because they both dont work with javax.jws.* imports.\r\n\r\nAny leads would help.\r\n","title":"Weblogic14 throws target state: deploy failed Servlet class: com.org.TestServlet1.com does not implement javax.servlet.Servlet","body":"<p>Im trying to update an existing JAX-WS app creation scenario to work with Java11.</p>\n<p>Existing code:</p>\n<pre><code>    // import javax.jws.WebService;\n    // import javax.jws.WebMethod;\n    // import javax.jws.WebParam;\n    // import javax.xml.ws.BindingType;\n    // import javax.xml.ws.soap.SOAPBinding;\n   \n    import jakarta.jws.WebMethod;\n    import jakarta.jws.WebParam;\n    import jakarta.jws.WebService;\n    import jakarta.xml.ws.BindingType;\n    import jakarta.xml.ws.soap.SOAPBinding;\n    \n   /*\n     security imports\n   */\n\n    \n    @WebService(portName = &quot;TestPort&quot;)\n    @BindingType(SOAPBinding.SOAP12HTTP_BINDING)\n    public class TestServlet1 {\n        @WebMethod\n        public String echo(@WebParam(name = &quot;arg0&quot;) String str) {\n         // Some Code\n  }\n}\n</code></pre>\n<p>Now here is how the process goes, The above JaxwsService is first compiled, then wsdl files are generated from them using the ant wsgen task and lastly bundled for deployment.</p>\n<p>The issue arises when i try to deploy the .was file using Weblogic deployer, The deployment fails with the following error message:</p>\n<pre><code>Task 83 failed: [Deployer:149026]deploy application JaxwsService on MServerB.\nTarget state: deploy failed on Server MServerB\njavax.servlet.ServletException: Servlet class: 'org.example.JaxwsService' does not implement javax.servlet.Servlet\n</code></pre>\n<p>Now if i switch back the imports to javax.jws.* the javaCompilation and ant.wsgen generation fails because they both dont work with javax.jws.* imports.</p>\n<p>Any leads would help.</p>\n"},{"tags":["java","tomcat"],"answers":[{"tags":[],"owner":{"account_id":2931887,"reputation":8248,"user_id":2511915,"accept_rate":85,"display_name":"Dark Knight"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1381924538,"creation_date":1381924538,"answer_id":19402730,"question_id":19402671,"body_markdown":"as error says, it&#39;s an issue with servlet-context.xml file location. Change the path and \r\nit shall work fine.","title":"nested exception is java.io.FileNotFoundException: Could not open ServletContext resource [/spring/servlet-context.xml]","body":"<p>as error says, it's an issue with servlet-context.xml file location. Change the path and \nit shall work fine.</p>\n"},{"tags":[],"owner":{"account_id":2573728,"reputation":979,"user_id":2231891,"display_name":"xianlinbox"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1392253741,"creation_date":1392253741,"answer_id":21743316,"question_id":19402671,"body_markdown":"There are difference between Application Context and Servlet Context in a spring web project.\r\nwe use &lt;context-param&gt; to config Application Context, the usage the same as your usage\r\n\r\n    &lt;context-param&gt;\r\n        &lt;param-name&gt;contextAppConfigLocation&lt;/param-name&gt;\r\n        &lt;param-value&gt;classpath:app-context.xml&lt;/param-value&gt;\r\n    &lt;/context-param&gt;\r\n\r\nFor Servlet Context, defaultly web container will try to find a #servlet-name#-servlet.xml in the WEB-INF directory, So for your problem, you need to move your to WEB-INF directory and change their name to corresponding names (contextServlet-servlet.xml, appServlet-servlet.xml)","title":"nested exception is java.io.FileNotFoundException: Could not open ServletContext resource [/spring/servlet-context.xml]","body":"<p>There are difference between Application Context and Servlet Context in a spring web project.\nwe use  to config Application Context, the usage the same as your usage</p>\n\n<pre><code>&lt;context-param&gt;\n    &lt;param-name&gt;contextAppConfigLocation&lt;/param-name&gt;\n    &lt;param-value&gt;classpath:app-context.xml&lt;/param-value&gt;\n&lt;/context-param&gt;\n</code></pre>\n\n<p>For Servlet Context, defaultly web container will try to find a #servlet-name#-servlet.xml in the WEB-INF directory, So for your problem, you need to move your to WEB-INF directory and change their name to corresponding names (contextServlet-servlet.xml, appServlet-servlet.xml)</p>\n"},{"tags":[],"owner":{"account_id":5048148,"reputation":341,"user_id":4053492,"display_name":"sMajeed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1419507520,"creation_date":1411558464,"answer_id":26015867,"question_id":19402671,"body_markdown":"I had resolved the same error by placing the `servlet.xml` at correct location i.e. under `WEB-INF` folder. You may try that as well.","title":"nested exception is java.io.FileNotFoundException: Could not open ServletContext resource [/spring/servlet-context.xml]","body":"<p>I had resolved the same error by placing the <code>servlet.xml</code> at correct location i.e. under <code>WEB-INF</code> folder. You may try that as well.</p>\n"},{"tags":[],"owner":{"account_id":41540,"reputation":1160,"user_id":120794,"display_name":"Alberto de Paola"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1430200811,"creation_date":1430199801,"answer_id":29911220,"question_id":19402671,"body_markdown":"If you want to change the location and naming convention for your spring configuration file, you should add a `contextConfigLocation` to your `DispatcherServlet` definition, for example: \r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;servlet&gt;\r\n      &lt;servlet-name&gt;appServlet&lt;/servlet-name&gt;\r\n      &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\r\n      &lt;init-param&gt;\r\n        &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n        &lt;param-value&gt;classpath:app-context.xml&lt;/param-value&gt;\r\n      &lt;/init-param&gt;\r\n      &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n    &lt;/servlet&gt;\r\n\r\nNote that your `app-context.xml` should be in the root of your src folder, else you have to specify the path in the classpath to it or the path in WEB-INF, without the `classpath:` prefix.\r\n\r\nFor further details refer to this answer: https://stackoverflow.com/a/14956773/120794.","title":"nested exception is java.io.FileNotFoundException: Could not open ServletContext resource [/spring/servlet-context.xml]","body":"<p>If you want to change the location and naming convention for your spring configuration file, you should add a <code>contextConfigLocation</code> to your <code>DispatcherServlet</code> definition, for example: </p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;servlet&gt;\n  &lt;servlet-name&gt;appServlet&lt;/servlet-name&gt;\n  &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\n  &lt;init-param&gt;\n    &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n    &lt;param-value&gt;classpath:app-context.xml&lt;/param-value&gt;\n  &lt;/init-param&gt;\n  &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n&lt;/servlet&gt;\n</code></pre>\n\n<p>Note that your <code>app-context.xml</code> should be in the root of your src folder, else you have to specify the path in the classpath to it or the path in WEB-INF, without the <code>classpath:</code> prefix.</p>\n\n<p>For further details refer to this answer: <a href=\"https://stackoverflow.com/a/14956773/120794\">https://stackoverflow.com/a/14956773/120794</a>.</p>\n"},{"tags":[],"owner":{"account_id":6828427,"reputation":1,"user_id":5253378,"display_name":"Juan Torres"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1440206495,"creation_date":1440206495,"answer_id":32151346,"question_id":19402671,"body_markdown":"I have the same problem a few months ago. This solve my problem using Maven instead of a downloaded version of Spring and some changes in the web.xml.\r\n\r\npom.xml\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n      &lt;groupId&gt;SpringWEB1&lt;/groupId&gt;\r\n      &lt;artifactId&gt;SpringWEB1&lt;/artifactId&gt;\r\n      &lt;version&gt;1&lt;/version&gt;\r\n      &lt;packaging&gt;war&lt;/packaging&gt;\r\n      &lt;build&gt;\r\n        &lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;2.4&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n              &lt;warSourceDirectory&gt;WebContent&lt;/warSourceDirectory&gt;\r\n              &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/plugin&gt;\r\n          &lt;plugin&gt;\r\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n              &lt;source&gt;1.7&lt;/source&gt;\r\n              &lt;target&gt;1.7&lt;/target&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n      &lt;dependencies&gt;\r\n      \t&lt;dependency&gt;\r\n      \t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n      \t\t&lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n      \t\t&lt;version&gt;4.1.7.RELEASE&lt;/version&gt;\r\n      \t&lt;/dependency&gt;\r\n      \t&lt;dependency&gt;\r\n      \t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n      \t\t&lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\r\n      \t\t&lt;version&gt;2.5&lt;/version&gt;\r\n      \t&lt;/dependency&gt;\r\n      \t&lt;dependency&gt;\r\n      \t\t&lt;groupId&gt;commons-logging&lt;/groupId&gt;\r\n      \t\t&lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\r\n      \t\t&lt;version&gt;1.2&lt;/version&gt;\r\n      \t&lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n    &lt;/project&gt;\r\n\r\nController.java\r\n\r\n    package com.jmtm.controller;\r\n    \r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.servlet.ModelAndView;\r\n    \r\n    @org.springframework.stereotype.Controller\r\n    public class Controller {\r\n    \t\r\n    \t@RequestMapping(&quot;/hi&quot;)\r\n    \tpublic ModelAndView hi(){\r\n    \t\treturn new ModelAndView(&quot;Hello&quot;, &quot;msg&quot;, &quot;Hello user.&quot;);\r\n    \t}\r\n    \r\n    }\r\n\r\nspring-servlet.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txmlns:c=&quot;http://www.springframework.org/schema/c&quot;\r\n    \txmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n    \txmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;\r\n    \txmlns:p=&quot;http://www.springframework.org/schema/p&quot;\r\n    \txmlns:util=&quot;http://www.springframework.org/schema/util&quot;\r\n    \txsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\r\n    \t\thttp://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.1.xsd\r\n    \t\thttp://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-4.1.xsd\r\n    \t\thttp://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util-4.1.xsd&quot;&gt;\r\n    \r\n    \t&lt;context:component-scan base-package=&quot;com.jmtm.controller&quot;&gt;&lt;/context:component-scan&gt;\r\n    \t\r\n    \t&lt;bean id=&quot;viewResolver&quot; class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;\r\n    \t\t&lt;property name=&quot;prefix&quot;&gt;\r\n    \t\t\t&lt;value&gt;/&lt;/value&gt;\r\n    \t\t&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;suffix&quot;&gt;\r\n    \t\t\t&lt;value&gt;.jsp&lt;/value&gt;\r\n    \t\t&lt;/property&gt;\r\n    \t&lt;/bean&gt;\r\n    \r\n    &lt;/beans&gt;\r\n\r\nAnd the most important part of the solution, include the path of the servlet dispatcher (A.K.A. spring-servlet.xml) in the web.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot; xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&quot; id=&quot;WebApp_ID&quot; version=&quot;3.0&quot;&gt;\r\n      &lt;display-name&gt;SpringWEB1&lt;/display-name&gt;\r\n      &lt;welcome-file-list&gt;\r\n        &lt;welcome-file&gt;index.jsp&lt;/welcome-file&gt;\r\n      &lt;/welcome-file-list&gt;\r\n      \r\n      &lt;servlet&gt;\r\n    \t\t&lt;servlet-name&gt;spring&lt;/servlet-name&gt;\r\n    \t\t&lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\r\n    \t\t&lt;init-param&gt;\r\n    \t\t\t&lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n    \t\t\t&lt;param-value&gt;/WEB-INF/spring-servlet.xml&lt;/param-value&gt;\r\n    \t\t&lt;/init-param&gt;\r\n    \t\t&lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n    \t&lt;/servlet&gt;\r\n    \r\n    \t&lt;servlet-mapping&gt;\r\n    \t\t&lt;servlet-name&gt;spring&lt;/servlet-name&gt;\r\n    \t\t&lt;url-pattern&gt;/&lt;/url-pattern&gt;\r\n    \t&lt;/servlet-mapping&gt;\r\n    \r\n    &lt;/web-app&gt;\r\n\r\n\r\nSomething weird happen when I try to solve this. Any downloaded version of Spring from [maven.springframework.org/release/org/springframework/spring][2] gives me a lot of problems (Tomcat couldn&#39;t find servlet, Spring stops Tomcat, Eclipse couldn&#39;t start the server {weird}) so with many problems find many partial solutions. I hope this works for you.\r\n\r\nAs an extra help, in Eclipse, download from the Eclipse Marketplace the Spring STS Tool for Eclipse, this will help you to create configuration files (servlet.xml) and write code for the servlet in the web.xml file.\r\n\r\n  [2]: http://maven.springframework.org/release/org/springframework/spring","title":"nested exception is java.io.FileNotFoundException: Could not open ServletContext resource [/spring/servlet-context.xml]","body":"<p>I have the same problem a few months ago. This solve my problem using Maven instead of a downloaded version of Spring and some changes in the web.xml.</p>\n\n<p>pom.xml</p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;SpringWEB1&lt;/groupId&gt;\n  &lt;artifactId&gt;SpringWEB1&lt;/artifactId&gt;\n  &lt;version&gt;1&lt;/version&gt;\n  &lt;packaging&gt;war&lt;/packaging&gt;\n  &lt;build&gt;\n    &lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.4&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;warSourceDirectory&gt;WebContent&lt;/warSourceDirectory&gt;\n          &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.1&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;source&gt;1.7&lt;/source&gt;\n          &lt;target&gt;1.7&lt;/target&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n        &lt;version&gt;4.1.7.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n        &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\n        &lt;version&gt;2.5&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-logging&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\n        &lt;version&gt;1.2&lt;/version&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>Controller.java</p>\n\n<pre><code>package com.jmtm.controller;\n\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.servlet.ModelAndView;\n\n@org.springframework.stereotype.Controller\npublic class Controller {\n\n    @RequestMapping(\"/hi\")\n    public ModelAndView hi(){\n        return new ModelAndView(\"Hello\", \"msg\", \"Hello user.\");\n    }\n\n}\n</code></pre>\n\n<p>spring-servlet.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xmlns:c=\"http://www.springframework.org/schema/c\"\n    xmlns:context=\"http://www.springframework.org/schema/context\"\n    xmlns:mvc=\"http://www.springframework.org/schema/mvc\"\n    xmlns:p=\"http://www.springframework.org/schema/p\"\n    xmlns:util=\"http://www.springframework.org/schema/util\"\n    xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\n        http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.1.xsd\n        http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-4.1.xsd\n        http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util-4.1.xsd\"&gt;\n\n    &lt;context:component-scan base-package=\"com.jmtm.controller\"&gt;&lt;/context:component-scan&gt;\n\n    &lt;bean id=\"viewResolver\" class=\"org.springframework.web.servlet.view.InternalResourceViewResolver\"&gt;\n        &lt;property name=\"prefix\"&gt;\n            &lt;value&gt;/&lt;/value&gt;\n        &lt;/property&gt;\n        &lt;property name=\"suffix\"&gt;\n            &lt;value&gt;.jsp&lt;/value&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt;\n\n&lt;/beans&gt;\n</code></pre>\n\n<p>And the most important part of the solution, include the path of the servlet dispatcher (A.K.A. spring-servlet.xml) in the web.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;web-app xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns=\"http://java.sun.com/xml/ns/javaee\" xsi:schemaLocation=\"http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd\" id=\"WebApp_ID\" version=\"3.0\"&gt;\n  &lt;display-name&gt;SpringWEB1&lt;/display-name&gt;\n  &lt;welcome-file-list&gt;\n    &lt;welcome-file&gt;index.jsp&lt;/welcome-file&gt;\n  &lt;/welcome-file-list&gt;\n\n  &lt;servlet&gt;\n        &lt;servlet-name&gt;spring&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n            &lt;param-value&gt;/WEB-INF/spring-servlet.xml&lt;/param-value&gt;\n        &lt;/init-param&gt;\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n    &lt;/servlet&gt;\n\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;spring&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n\n&lt;/web-app&gt;\n</code></pre>\n\n<p>Something weird happen when I try to solve this. Any downloaded version of Spring from <a href=\"http://maven.springframework.org/release/org/springframework/spring\" rel=\"nofollow\">maven.springframework.org/release/org/springframework/spring</a> gives me a lot of problems (Tomcat couldn't find servlet, Spring stops Tomcat, Eclipse couldn't start the server {weird}) so with many problems find many partial solutions. I hope this works for you.</p>\n\n<p>As an extra help, in Eclipse, download from the Eclipse Marketplace the Spring STS Tool for Eclipse, this will help you to create configuration files (servlet.xml) and write code for the servlet in the web.xml file.</p>\n"}],"owner":{"account_id":3001999,"reputation":1136,"user_id":2547324,"accept_rate":57,"display_name":"Peter The Angular Dude"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38056,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":5,"score":0,"last_activity_date":1686555407,"creation_date":1381924372,"question_id":19402671,"body_markdown":"OK, thanks for helping out the last question. Here is my new error and that code that follows. The BOLD text in the error is all that I care about fixing since that is the only error.\r\n\r\n&gt; **[Thread-36] ContextLoader ERROR Context initialization failed\r\norg.springframework.beans.factory.BeanDefinitionStoreException: IOException parsing XML document from ServletContext resource [/spring/servlet-context.xml]; nested exception is java.io.FileNotFoundException: Could not open ServletContext resource [/spring/servlet-context.xml]**\r\n        at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:341)\r\n        at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:302)\r\n        at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:143)\r\n        at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:178)\r\n        at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:149)\r\n        at org.springframework.web.context.support.XmlWebApplicationContext.loadBeanDefinitions(XmlWebApplicationContext.java:124)\r\n        at org.springframework.web.context.support.XmlWebApplicationContext.loadBeanDefinitions(XmlWebApplicationContext.java:93)\r\n        at org.springframework.context.support.AbstractRefreshableApplicationContext.refreshBeanFactory(AbstractRefreshableApplicationContext.java:130)\r\n        at org.springframework.context.support.AbstractApplicationContext.obtainFreshBeanFactory(AbstractApplicationContext.java:467)\r\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:397)\r\n        at org.springframework.web.context.ContextLoader.createWebApplicationContext(ContextLoader.java:276)\r\n        at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:197)\r\n        at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:47)\r\n        at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4701)\r\n        at org.apache.catalina.core.StandardContext$1.call(StandardContext.java:5204)\r\n        at org.apache.catalina.core.StandardContext$1.call(StandardContext.java:5199)\r\n        at java.util.concurrent.FutureTask.run(Unknown Source)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\r\n        at java.lang.Thread.run(Unknown Source)\r\nCaused by: java.io.FileNotFoundException: Could not open ServletContext resource [/spring/servlet-context.xml]\r\n        at org.springframework.web.context.support.ServletContextResource.getInputStream(ServletContextResource.java:117)\r\n        at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:328)\r\n        ... 19 more\r\nOct 16, 2013 7:44:51 AM org.apache.catalina.core.StandardContext startInternal\r\nSEVERE: Error listenerStart\r\nOct 16, 2013 7:44:51 AM org.apache.catalina.core.StandardContext startInternal\r\nSEVERE: Context [/mdimgmtsys-1.0-SNAPSHOT] startup failed due to previous errors\r\n\r\nNow the code:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot; \r\n         xmlns:web=&quot;http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot;\r\n         xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot;\r\n         version=&quot;2.5&quot;&gt;\r\n\r\n\r\n    &lt;context-param&gt;\r\n        &lt;param-name&gt;contextAppConfigLocation&lt;/param-name&gt;\r\n        &lt;param-value&gt;app-context.xml classpath*:app-context.xml&lt;/param-value&gt;\r\n    &lt;/context-param&gt;\r\n    &lt;context-param&gt;\r\n        &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n        &lt;param-value&gt;/spring/servlet-context.xml classpath*:servlet-context.xml&lt;/param-value&gt;\r\n    &lt;/context-param&gt;\r\n\r\n    &lt;listener&gt;\r\n        &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;\r\n    &lt;/listener&gt;\r\n\r\n    &lt;!-- Enables Spring Security --&gt;\r\n    &lt;filter&gt;\r\n        &lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;\r\n        &lt;filter-class&gt;org.springframework.web.filter.DelegatingFilterProxy&lt;/filter-class&gt;\r\n    &lt;/filter&gt;\r\n    &lt;filter-mapping&gt;\r\n        &lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;\r\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n    &lt;/filter-mapping&gt;\r\n    \r\n    &lt;servlet&gt;\r\n        &lt;servlet-name&gt;appServlet&lt;/servlet-name&gt;\r\n        &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\r\n        &lt;init-param&gt;\r\n            &lt;param-name&gt;contextAppConfigLocation&lt;/param-name&gt;\r\n            &lt;param-value&gt;app-context.xml&lt;/param-value&gt;            \r\n        &lt;/init-param&gt;\r\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n    &lt;/servlet&gt;\r\n    &lt;servlet&gt;\r\n        &lt;servlet-name&gt;contextServlet&lt;/servlet-name&gt;\r\n        &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\r\n        &lt;init-param&gt;\r\n            &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n            &lt;param-value&gt;/spring/servlet-context.xml&lt;/param-value&gt;\r\n            \r\n        &lt;/init-param&gt;\r\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n    &lt;/servlet&gt;          \r\n    &lt;servlet-mapping&gt;\r\n        &lt;servlet-name&gt;appServlet&lt;/servlet-name&gt;\r\n        &lt;url-pattern&gt;/&lt;/url-pattern&gt;\r\n        &lt;servlet-name&gt;contextServlet&lt;/servlet-name&gt;\r\n        &lt;url-pattern&gt;/&lt;/url-pattern&gt;        \r\n    &lt;/servlet-mapping&gt;    \r\n    &lt;session-config&gt;\r\n        &lt;session-timeout&gt;\r\n            30\r\n        &lt;/session-timeout&gt;\r\n    &lt;/session-config&gt;        \r\n    &lt;/web-app&gt;\r\n\r\nEverything I do fails to start the app in Tomcat.","title":"nested exception is java.io.FileNotFoundException: Could not open ServletContext resource [/spring/servlet-context.xml]","body":"<p>OK, thanks for helping out the last question. Here is my new error and that code that follows. The BOLD text in the error is all that I care about fixing since that is the only error.</p>\n\n<blockquote>\n  <p><strong>[Thread-36] ContextLoader ERROR Context initialization failed\n  org.springframework.beans.factory.BeanDefinitionStoreException: IOException parsing XML document from ServletContext resource [/spring/servlet-context.xml]; nested exception is java.io.FileNotFoundException: Could not open ServletContext resource [/spring/servlet-context.xml]</strong>\n          at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:341)\n          at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:302)\n          at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:143)\n          at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:178)\n          at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:149)\n          at org.springframework.web.context.support.XmlWebApplicationContext.loadBeanDefinitions(XmlWebApplicationContext.java:124)\n          at org.springframework.web.context.support.XmlWebApplicationContext.loadBeanDefinitions(XmlWebApplicationContext.java:93)\n          at org.springframework.context.support.AbstractRefreshableApplicationContext.refreshBeanFactory(AbstractRefreshableApplicationContext.java:130)\n          at org.springframework.context.support.AbstractApplicationContext.obtainFreshBeanFactory(AbstractApplicationContext.java:467)\n          at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:397)\n          at org.springframework.web.context.ContextLoader.createWebApplicationContext(ContextLoader.java:276)\n          at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:197)\n          at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:47)\n          at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4701)\n          at org.apache.catalina.core.StandardContext$1.call(StandardContext.java:5204)\n          at org.apache.catalina.core.StandardContext$1.call(StandardContext.java:5199)\n          at java.util.concurrent.FutureTask.run(Unknown Source)\n          at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\n          at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\n          at java.lang.Thread.run(Unknown Source)\n  Caused by: java.io.FileNotFoundException: Could not open ServletContext resource [/spring/servlet-context.xml]\n          at org.springframework.web.context.support.ServletContextResource.getInputStream(ServletContextResource.java:117)\n          at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:328)\n          ... 19 more\n  Oct 16, 2013 7:44:51 AM org.apache.catalina.core.StandardContext startInternal\n  SEVERE: Error listenerStart\n  Oct 16, 2013 7:44:51 AM org.apache.catalina.core.StandardContext startInternal\n  SEVERE: Context [/mdimgmtsys-1.0-SNAPSHOT] startup failed due to previous errors</p>\n</blockquote>\n\n<p>Now the code:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;web-app xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n     xmlns=\"http://java.sun.com/xml/ns/javaee\" \n     xmlns:web=\"http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd\"\n     xsi:schemaLocation=\"http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd\"\n     version=\"2.5\"&gt;\n\n\n&lt;context-param&gt;\n    &lt;param-name&gt;contextAppConfigLocation&lt;/param-name&gt;\n    &lt;param-value&gt;app-context.xml classpath*:app-context.xml&lt;/param-value&gt;\n&lt;/context-param&gt;\n&lt;context-param&gt;\n    &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n    &lt;param-value&gt;/spring/servlet-context.xml classpath*:servlet-context.xml&lt;/param-value&gt;\n&lt;/context-param&gt;\n\n&lt;listener&gt;\n    &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;\n&lt;/listener&gt;\n\n&lt;!-- Enables Spring Security --&gt;\n&lt;filter&gt;\n    &lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;\n    &lt;filter-class&gt;org.springframework.web.filter.DelegatingFilterProxy&lt;/filter-class&gt;\n&lt;/filter&gt;\n&lt;filter-mapping&gt;\n    &lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;\n    &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n&lt;/filter-mapping&gt;\n\n&lt;servlet&gt;\n    &lt;servlet-name&gt;appServlet&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\n    &lt;init-param&gt;\n        &lt;param-name&gt;contextAppConfigLocation&lt;/param-name&gt;\n        &lt;param-value&gt;app-context.xml&lt;/param-value&gt;            \n    &lt;/init-param&gt;\n    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n&lt;/servlet&gt;\n&lt;servlet&gt;\n    &lt;servlet-name&gt;contextServlet&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\n    &lt;init-param&gt;\n        &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n        &lt;param-value&gt;/spring/servlet-context.xml&lt;/param-value&gt;\n\n    &lt;/init-param&gt;\n    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n&lt;/servlet&gt;          \n&lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;appServlet&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;/&lt;/url-pattern&gt;\n    &lt;servlet-name&gt;contextServlet&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;/&lt;/url-pattern&gt;        \n&lt;/servlet-mapping&gt;    \n&lt;session-config&gt;\n    &lt;session-timeout&gt;\n        30\n    &lt;/session-timeout&gt;\n&lt;/session-config&gt;        \n&lt;/web-app&gt;\n</code></pre>\n\n<p>Everything I do fails to start the app in Tomcat.</p>\n"},{"tags":["java","android","opencv","javacameraview"],"answers":[{"tags":[],"owner":{"account_id":3730500,"reputation":1593,"user_id":3103067,"display_name":"Jannik"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1587889643,"creation_date":1587833779,"answer_id":61429299,"question_id":61362254,"body_markdown":"You need to tell the CameraView that the camera permission was granted. You can do so by calling the `setCameraPermissionGranted()` function. This function call should go into the &#39;permission granted&#39; block in your `onCreate` method as shown below:\r\n```java\r\nif (ContextCompat.checkSelfPermission(this, Manifest.permission.CAMERA)\r\n        != PackageManager.PERMISSION_GRANTED) {\r\n    // More code here ...\r\n} else {\r\n    Log.d(TAG, &quot;Permissions granted&quot;);\r\n    javaCameraView.setCameraPermissionGranted();\r\n}\r\n```\r\nIn addition you propably want call this function in `onRequestPermissionsResult()` for the case where the permission is not granted already. The `onRequestPermissionsResult()` function is located in your `Activity` class. It is called when the user granted or denied on of the permission requests the app made.\r\nThis could look as follows:\r\n```java\r\n@Override\r\npublic void onRequestPermissionsResult(\r\n        int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n\r\n    // Ensure that this result is for the camera permission request\r\n    if (requestCode == PERMISSIONS_READ_CAMERA) {\r\n        // Check if the request was granted or denied\r\n        if (grantResults.length &gt; 0\r\n                &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n            // The request was granted -&gt; tell the camera view\r\n            javaCameraView.setCameraPermissionGranted();\r\n        } else {\r\n            // The request was denied -&gt; tell the user and exit the application\r\n            Toast.makeText(this, &quot;Camera permission required.&quot;,\r\n                    Toast.LENGTH_LONG).show();\r\n            this.finish();\r\n        }\r\n    } else {\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n    }\r\n}\r\n```\r\nFor more information about the permission system on Android have a look at the following resources:\r\n\r\n - [Request App Permissions][1] This site describes the process of requesting permissions with all necessary steps.\r\n - [Permissions Overview][2] This site has information about `uses-feature` in the manifest file. You probably want to add the following line to your manifest file: `&lt;uses-feature android:name=&quot;android.hardware.camera&quot; android:required=&quot;true&quot; /&gt;` to prevent the installation on devices without camera.\r\n\r\n\r\nNow you&#39;ll see, that the `onCameraFrame` callback function is actually invoked. This will lead to a `NullPointerException` because `mRGBAT` is not initialized. To just see the camera image you can return `inputFrame.rgba()` directly in this function. This will at least show the camera image. All further steps are normal image processing to rotate / mirror the image.\r\n\r\n[1]: https://developer.android.com/training/permissions/requesting#java\r\n[2]: https://developer.android.com/guide/topics/permissions/overview","title":"Android OpenCV camera example is just showing black screen","body":"<p>You need to tell the CameraView that the camera permission was granted. You can do so by calling the <code>setCameraPermissionGranted()</code> function. This function call should go into the 'permission granted' block in your <code>onCreate</code> method as shown below:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>if (ContextCompat.checkSelfPermission(this, Manifest.permission.CAMERA)\n        != PackageManager.PERMISSION_GRANTED) {\n    // More code here ...\n} else {\n    Log.d(TAG, \"Permissions granted\");\n    javaCameraView.setCameraPermissionGranted();\n}\n</code></pre>\n\n<p>In addition you propably want call this function in <code>onRequestPermissionsResult()</code> for the case where the permission is not granted already. The <code>onRequestPermissionsResult()</code> function is located in your <code>Activity</code> class. It is called when the user granted or denied on of the permission requests the app made.\nThis could look as follows:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic void onRequestPermissionsResult(\n        int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n\n    // Ensure that this result is for the camera permission request\n    if (requestCode == PERMISSIONS_READ_CAMERA) {\n        // Check if the request was granted or denied\n        if (grantResults.length &gt; 0\n                &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n            // The request was granted -&gt; tell the camera view\n            javaCameraView.setCameraPermissionGranted();\n        } else {\n            // The request was denied -&gt; tell the user and exit the application\n            Toast.makeText(this, \"Camera permission required.\",\n                    Toast.LENGTH_LONG).show();\n            this.finish();\n        }\n    } else {\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n    }\n}\n</code></pre>\n\n<p>For more information about the permission system on Android have a look at the following resources:</p>\n\n<ul>\n<li><a href=\"https://developer.android.com/training/permissions/requesting#java\" rel=\"noreferrer\">Request App Permissions</a> This site describes the process of requesting permissions with all necessary steps.</li>\n<li><a href=\"https://developer.android.com/guide/topics/permissions/overview\" rel=\"noreferrer\">Permissions Overview</a> This site has information about <code>uses-feature</code> in the manifest file. You probably want to add the following line to your manifest file: <code>&lt;uses-feature android:name=\"android.hardware.camera\" android:required=\"true\" /&gt;</code> to prevent the installation on devices without camera.</li>\n</ul>\n\n<p>Now you'll see, that the <code>onCameraFrame</code> callback function is actually invoked. This will lead to a <code>NullPointerException</code> because <code>mRGBAT</code> is not initialized. To just see the camera image you can return <code>inputFrame.rgba()</code> directly in this function. This will at least show the camera image. All further steps are normal image processing to rotate / mirror the image.</p>\n"},{"tags":[],"owner":{"account_id":6685385,"reputation":436,"user_id":5156833,"display_name":"hosseinkhosravi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1617171678,"creation_date":1617171678,"answer_id":66882645,"question_id":61362254,"body_markdown":"I had the same problem in android 10. After a lot of trial and errors, I found that the following method must be implemented in the main activity:\r\n\r\n    @Override\r\n    protected List&lt;? extends CameraBridgeViewBase&gt; getCameraViewList() {\r\n            return Collections.singletonList(mOpenCvCameraView);\r\n        }","title":"Android OpenCV camera example is just showing black screen","body":"<p>I had the same problem in android 10. After a lot of trial and errors, I found that the following method must be implemented in the main activity:</p>\n<pre><code>@Override\nprotected List&lt;? extends CameraBridgeViewBase&gt; getCameraViewList() {\n        return Collections.singletonList(mOpenCvCameraView);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1229142,"reputation":1030,"user_id":1194088,"accept_rate":83,"display_name":"roy.d"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686554857,"creation_date":1686554857,"answer_id":76454415,"question_id":61362254,"body_markdown":"i had this problam only when i was in release mode apk\r\nthe solution was to add permission for Manifest.permission.READ_MEDIA_VIDEO in the Activity.\r\nhope it help someone after i was 2 days on it","title":"Android OpenCV camera example is just showing black screen","body":"<p>i had this problam only when i was in release mode apk\nthe solution was to add permission for Manifest.permission.READ_MEDIA_VIDEO in the Activity.\nhope it help someone after i was 2 days on it</p>\n"}],"owner":{"account_id":58469,"reputation":12310,"user_id":175051,"accept_rate":85,"display_name":"Mark Mayo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4232,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":3,"score":8,"last_activity_date":1686554857,"creation_date":1587549578,"question_id":61362254,"body_markdown":"I&#39;ve spent days (well, nights) trying to work this out. So many examples online are for different versions of Android Studio, different versions of Android, different versions of OpenCV and I can&#39;t get any of them to the final &#39;working&#39; stage. \r\n\r\nThis example (based on a [youtube tutorial](https://www.youtube.com/watch?v=rKvIKkBefJQ), I got to the point where I needed permissions.  That&#39;s fine, I added that in and a check for them, and it pops up asking the user for camera permissions. But the screen stays blank.  I&#39;ve put in logcat debug, all the right methods seem to be getting called.  Would appreciate any assistance.\r\n\r\nCode:\r\n\r\n    Manifest.xml\r\n    \r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        package=&quot;com.example.mytestopencvapp&quot; &gt;\r\n    \r\n        &lt;uses-permission android:name=&quot;android.permission.CAMERA&quot;/&gt;\r\n    \r\n    \r\n        &lt;application\r\n            android:allowBackup=&quot;true&quot;\r\n            android:icon=&quot;@mipmap/ic_launcher&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n            android:supportsRtl=&quot;true&quot;\r\n            android:theme=&quot;@style/AppTheme&quot; &gt;\r\n            &lt;activity android:name=&quot;.MainActivity&quot; &gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n    \r\n                    &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n        &lt;/application&gt;\r\n    \r\n    &lt;/manifest&gt;\r\n\r\nMainActivity.java\r\n\r\n    package com.example.mytestopencvapp;\r\n    \r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import androidx.core.app.ActivityCompat;\r\n    import androidx.core.content.ContextCompat;\r\n    \r\n    import android.Manifest;\r\n    import android.content.pm.PackageManager;\r\n    import android.os.Bundle;\r\n    import android.util.Log;\r\n    import android.view.SurfaceView;\r\n    \r\n    import org.opencv.android.BaseLoaderCallback;\r\n    import org.opencv.android.CameraBridgeViewBase;\r\n    import org.opencv.android.JavaCamera2View;\r\n    import org.opencv.android.JavaCameraView;\r\n    import org.opencv.android.OpenCVLoader;\r\n    import org.opencv.core.Core;\r\n    import org.opencv.core.CvType;\r\n    import org.opencv.core.Mat;\r\n    import org.opencv.imgproc.Imgproc;\r\n    \r\n    public class MainActivity extends AppCompatActivity implements CameraBridgeViewBase.CvCameraViewListener2 {\r\n    \r\n        private static String TAG = &quot;MainActivity&quot;;\r\n    \r\n        JavaCameraView javaCameraView;\r\n        Mat mRGBA, mRGBAT;\r\n    \r\n        private final int PERMISSIONS_READ_CAMERA=1;\r\n    \r\n        BaseLoaderCallback baseLoaderCallback = new BaseLoaderCallback(MainActivity.this) {\r\n            @Override\r\n            public void onManagerConnected(int status) {\r\n                Log.d(TAG, &quot;callbacksuccess&quot;);\r\n                switch (status)\r\n                {\r\n                    case BaseLoaderCallback.SUCCESS:\r\n                    {\r\n                        Log.d(TAG, &quot;case success&quot;);\r\n                        javaCameraView.enableView();\r\n                        break;\r\n                    }\r\n                    default:\r\n                    {\r\n                        Log.d(TAG, &quot;case default&quot;);\r\n                        super.onManagerConnected(status);\r\n                        break;\r\n                    }\r\n    \r\n                }\r\n    \r\n            }\r\n        };\r\n    \r\n        static\r\n        {\r\n            if (OpenCVLoader.initDebug())\r\n            {\r\n                Log.d(TAG, &quot;OpenCV is intialised&quot;);\r\n            }\r\n            else\r\n            {\r\n                Log.d(TAG, &quot;OpenCV is not initialised&quot;);\r\n            }\r\n        }\r\n    \r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            Log.d(TAG, &quot;onCreate&quot;);\r\n            setContentView(R.layout.activity_main);\r\n            javaCameraView = (JavaCameraView)findViewById(R.id.my_camera_view);\r\n            javaCameraView.setVisibility(SurfaceView.VISIBLE);\r\n            javaCameraView.setCvCameraViewListener(MainActivity.this);\r\n    \r\n    // Here, thisActivity is the current activity\r\n            if (ContextCompat.checkSelfPermission(this,\r\n                    Manifest.permission.CAMERA)\r\n                    != PackageManager.PERMISSION_GRANTED) {\r\n    \r\n                // Permission is not granted\r\n                // Should we show an explanation?\r\n                if (ActivityCompat.shouldShowRequestPermissionRationale(this,\r\n                        Manifest.permission.CAMERA)) {\r\n                    // Show an explanation to the user *asynchronously* -- don&#39;t block\r\n                    // this thread waiting for the user&#39;s response! After the user\r\n                    // sees the explanation, try again to request the permission.\r\n                } else {\r\n                    // No explanation needed, we can request the permission.\r\n                    ActivityCompat.requestPermissions(this,\r\n                            new String[]{Manifest.permission.CAMERA},\r\n                    PERMISSIONS_READ_CAMERA);\r\n    \r\n                    // MY_PERMISSIONS_REQUEST_READ_CONTACTS is an\r\n                    // app-defined int constant. The callback method gets the\r\n                    // result of the request.\r\n                }\r\n            } else {\r\n                Log.d(TAG, &quot;PERMISSIOns granted&quot;);\r\n                // Permission has already been granted\r\n            }\r\n    \r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void onCameraViewStarted(int width, int height) {\r\n            Log.d(TAG, &quot;onCameraViewStarted&quot;);\r\n            mRGBA = new Mat(height, width, CvType.CV_8UC4);\r\n        }\r\n    \r\n        @Override\r\n        public void onCameraViewStopped() {\r\n            Log.d(TAG, &quot;onCameraViewStopped&quot;);\r\n            mRGBA.release();\r\n        }\r\n    \r\n        @Override\r\n        public Mat onCameraFrame(CameraBridgeViewBase.CvCameraViewFrame inputFrame)\r\n        {\r\n            Log.d(TAG, &quot;onCameraFrame&quot;);\r\n    /*        mRGBA = inputFrame.rgba();\r\n            mRGBAT = mRGBA.t();\r\n            Core.flip(mRGBA.t(), mRGBAT, 1);\r\n            Imgproc.resize(mRGBAT, mRGBAT, mRGBA.size());\r\n            return mRGBAT;*/\r\n    \r\n            mRGBA = inputFrame.rgba();\r\n            Core.transpose(mRGBA, mRGBAT);\r\n            Imgproc.resize(mRGBAT, mRGBAT, mRGBAT.size(),0,0,0);\r\n            Core.flip(mRGBA.t(), mRGBA, 1);\r\n            return mRGBA;\r\n        }\r\n    \r\n    \r\n        @Override\r\n        protected void onDestroy() {\r\n            super.onDestroy();\r\n            Log.d(TAG, &quot;onDestroy&quot;);\r\n            if (javaCameraView != null)\r\n            {\r\n                javaCameraView.disableView();\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        protected void onPause() {\r\n            super.onPause();\r\n            Log.d(TAG, &quot;onPause&quot;);\r\n            if (javaCameraView != null)\r\n            {\r\n                javaCameraView.disableView();\r\n            }\r\n    \r\n        }\r\n    \r\n        @Override\r\n        protected void onResume() {\r\n            super.onResume();\r\n            Log.d(TAG, &quot;onResume&quot;);\r\n            if (OpenCVLoader.initDebug())\r\n            {\r\n                Log.d(TAG, &quot;OpenCV is intialised again&quot;);\r\n                baseLoaderCallback.onManagerConnected((BaseLoaderCallback.SUCCESS));\r\n            }\r\n            else\r\n            {\r\n                Log.d(TAG, &quot;OpenCV is not working&quot;);\r\n                OpenCVLoader.initAsync(OpenCVLoader.OPENCV_VERSION, this, baseLoaderCallback);\r\n            }\r\n        }\r\n    }\r\n\r\nAnd my res layout activity_main.xml file:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;RelativeLayout\r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        tools:context=&quot;.MainActivity&quot;&gt;\r\n    \r\n        &lt;org.opencv.android.JavaCameraView\r\n            android:id=&quot;@+id/my_camera_view&quot;\r\n            android:layout_width=&quot;fill_parent&quot;\r\n            android:layout_height=&quot;fill_parent&quot;\r\n            /&gt;\r\n    \r\n    \r\n    &lt;/RelativeLayout&gt;\r\n\r\nAs far as I can tell, I&#39;ve linked them all correctly, I can confirm OpenCV initialises, permissions are checked and granted, but then...the JavaCameraView is just black.","title":"Android OpenCV camera example is just showing black screen","body":"<p>I've spent days (well, nights) trying to work this out. So many examples online are for different versions of Android Studio, different versions of Android, different versions of OpenCV and I can't get any of them to the final 'working' stage. </p>\n\n<p>This example (based on a <a href=\"https://www.youtube.com/watch?v=rKvIKkBefJQ\" rel=\"noreferrer\">youtube tutorial</a>, I got to the point where I needed permissions.  That's fine, I added that in and a check for them, and it pops up asking the user for camera permissions. But the screen stays blank.  I've put in logcat debug, all the right methods seem to be getting called.  Would appreciate any assistance.</p>\n\n<p>Code:</p>\n\n<pre><code>Manifest.xml\n\n&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    package=\"com.example.mytestopencvapp\" &gt;\n\n    &lt;uses-permission android:name=\"android.permission.CAMERA\"/&gt;\n\n\n    &lt;application\n        android:allowBackup=\"true\"\n        android:icon=\"@mipmap/ic_launcher\"\n        android:label=\"@string/app_name\"\n        android:roundIcon=\"@mipmap/ic_launcher_round\"\n        android:supportsRtl=\"true\"\n        android:theme=\"@style/AppTheme\" &gt;\n        &lt;activity android:name=\".MainActivity\" &gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n\n                &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n\n<p>MainActivity.java</p>\n\n<pre><code>package com.example.mytestopencvapp;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.core.app.ActivityCompat;\nimport androidx.core.content.ContextCompat;\n\nimport android.Manifest;\nimport android.content.pm.PackageManager;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.SurfaceView;\n\nimport org.opencv.android.BaseLoaderCallback;\nimport org.opencv.android.CameraBridgeViewBase;\nimport org.opencv.android.JavaCamera2View;\nimport org.opencv.android.JavaCameraView;\nimport org.opencv.android.OpenCVLoader;\nimport org.opencv.core.Core;\nimport org.opencv.core.CvType;\nimport org.opencv.core.Mat;\nimport org.opencv.imgproc.Imgproc;\n\npublic class MainActivity extends AppCompatActivity implements CameraBridgeViewBase.CvCameraViewListener2 {\n\n    private static String TAG = \"MainActivity\";\n\n    JavaCameraView javaCameraView;\n    Mat mRGBA, mRGBAT;\n\n    private final int PERMISSIONS_READ_CAMERA=1;\n\n    BaseLoaderCallback baseLoaderCallback = new BaseLoaderCallback(MainActivity.this) {\n        @Override\n        public void onManagerConnected(int status) {\n            Log.d(TAG, \"callbacksuccess\");\n            switch (status)\n            {\n                case BaseLoaderCallback.SUCCESS:\n                {\n                    Log.d(TAG, \"case success\");\n                    javaCameraView.enableView();\n                    break;\n                }\n                default:\n                {\n                    Log.d(TAG, \"case default\");\n                    super.onManagerConnected(status);\n                    break;\n                }\n\n            }\n\n        }\n    };\n\n    static\n    {\n        if (OpenCVLoader.initDebug())\n        {\n            Log.d(TAG, \"OpenCV is intialised\");\n        }\n        else\n        {\n            Log.d(TAG, \"OpenCV is not initialised\");\n        }\n    }\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        Log.d(TAG, \"onCreate\");\n        setContentView(R.layout.activity_main);\n        javaCameraView = (JavaCameraView)findViewById(R.id.my_camera_view);\n        javaCameraView.setVisibility(SurfaceView.VISIBLE);\n        javaCameraView.setCvCameraViewListener(MainActivity.this);\n\n// Here, thisActivity is the current activity\n        if (ContextCompat.checkSelfPermission(this,\n                Manifest.permission.CAMERA)\n                != PackageManager.PERMISSION_GRANTED) {\n\n            // Permission is not granted\n            // Should we show an explanation?\n            if (ActivityCompat.shouldShowRequestPermissionRationale(this,\n                    Manifest.permission.CAMERA)) {\n                // Show an explanation to the user *asynchronously* -- don't block\n                // this thread waiting for the user's response! After the user\n                // sees the explanation, try again to request the permission.\n            } else {\n                // No explanation needed, we can request the permission.\n                ActivityCompat.requestPermissions(this,\n                        new String[]{Manifest.permission.CAMERA},\n                PERMISSIONS_READ_CAMERA);\n\n                // MY_PERMISSIONS_REQUEST_READ_CONTACTS is an\n                // app-defined int constant. The callback method gets the\n                // result of the request.\n            }\n        } else {\n            Log.d(TAG, \"PERMISSIOns granted\");\n            // Permission has already been granted\n        }\n\n\n    }\n\n    @Override\n    public void onCameraViewStarted(int width, int height) {\n        Log.d(TAG, \"onCameraViewStarted\");\n        mRGBA = new Mat(height, width, CvType.CV_8UC4);\n    }\n\n    @Override\n    public void onCameraViewStopped() {\n        Log.d(TAG, \"onCameraViewStopped\");\n        mRGBA.release();\n    }\n\n    @Override\n    public Mat onCameraFrame(CameraBridgeViewBase.CvCameraViewFrame inputFrame)\n    {\n        Log.d(TAG, \"onCameraFrame\");\n/*        mRGBA = inputFrame.rgba();\n        mRGBAT = mRGBA.t();\n        Core.flip(mRGBA.t(), mRGBAT, 1);\n        Imgproc.resize(mRGBAT, mRGBAT, mRGBA.size());\n        return mRGBAT;*/\n\n        mRGBA = inputFrame.rgba();\n        Core.transpose(mRGBA, mRGBAT);\n        Imgproc.resize(mRGBAT, mRGBAT, mRGBAT.size(),0,0,0);\n        Core.flip(mRGBA.t(), mRGBA, 1);\n        return mRGBA;\n    }\n\n\n    @Override\n    protected void onDestroy() {\n        super.onDestroy();\n        Log.d(TAG, \"onDestroy\");\n        if (javaCameraView != null)\n        {\n            javaCameraView.disableView();\n        }\n    }\n\n    @Override\n    protected void onPause() {\n        super.onPause();\n        Log.d(TAG, \"onPause\");\n        if (javaCameraView != null)\n        {\n            javaCameraView.disableView();\n        }\n\n    }\n\n    @Override\n    protected void onResume() {\n        super.onResume();\n        Log.d(TAG, \"onResume\");\n        if (OpenCVLoader.initDebug())\n        {\n            Log.d(TAG, \"OpenCV is intialised again\");\n            baseLoaderCallback.onManagerConnected((BaseLoaderCallback.SUCCESS));\n        }\n        else\n        {\n            Log.d(TAG, \"OpenCV is not working\");\n            OpenCVLoader.initAsync(OpenCVLoader.OPENCV_VERSION, this, baseLoaderCallback);\n        }\n    }\n}\n</code></pre>\n\n<p>And my res layout activity_main.xml file:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;RelativeLayout\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:context=\".MainActivity\"&gt;\n\n    &lt;org.opencv.android.JavaCameraView\n        android:id=\"@+id/my_camera_view\"\n        android:layout_width=\"fill_parent\"\n        android:layout_height=\"fill_parent\"\n        /&gt;\n\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n\n<p>As far as I can tell, I've linked them all correctly, I can confirm OpenCV initialises, permissions are checked and granted, but then...the JavaCameraView is just black.</p>\n"},{"tags":["java","sql-server","spring","spring-mvc","spring-boot"],"comments":[{"owner":{"account_id":2285609,"reputation":822,"user_id":2009642,"accept_rate":38,"display_name":"Prathibha Chiranthana"},"score":0,"creation_date":1517657159,"post_id":48596790,"comment_id":84190411,"body_markdown":"Check your database connection string data source = springboot_db in property file \nand user_database in your SQL file.","body":"Check your database connection string data source = springboot_db in property file  and user_database in your SQL file."},{"owner":{"account_id":3572797,"reputation":1173,"user_id":2982745,"accept_rate":88,"display_name":"Dharita Chokshi"},"score":0,"creation_date":1517657404,"post_id":48596790,"comment_id":84190479,"body_markdown":"Yes, it is supposed to be like that only because I need to maintain two different databases for two different modules.","body":"Yes, it is supposed to be like that only because I need to maintain two different databases for two different modules."},{"owner":{"account_id":2285609,"reputation":822,"user_id":2009642,"accept_rate":38,"display_name":"Prathibha Chiranthana"},"score":0,"creation_date":1517658048,"post_id":48596790,"comment_id":84190638,"body_markdown":"Doesn&#39;t you need to add hibernate.dialect\nex: \nspring.jpa.hibernate.dialect=org.hibernate.dialect.SQLServer2012Dialect\n\nAnd as per my understanding, you need to create the tbl_configuration_details in springboot_db.","body":"Doesn&#39;t you need to add hibernate.dialect ex:  spring.jpa.hibernate.dialect=org.hibernate.dialect.SQLServer&zwnj;&#8203;2012Dialect  And as per my understanding, you need to create the tbl_configuration_details in springboot_db."}],"answers":[{"tags":[],"owner":{"account_id":1189417,"reputation":30924,"user_id":1162620,"accept_rate":70,"display_name":"Ravi"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1517667048,"creation_date":1517657012,"answer_id":48596807,"question_id":48596790,"body_markdown":"&gt; com.microsoft.sqlserver.jdbc.SQLServerException: Invalid object name\r\n&gt; &#39;tbl_configuration_details&#39;.\r\n\r\nYou have defined table name as \r\n\r\n    CREATE TABLE tbl_users\r\n\r\nBut, in your code\r\n\r\n    @Table(name = &quot;tbl_configuration_details&quot;)\r\n\r\nSince, there isn&#39;t any object exists with the same name, you will get `Invalid object name` exception.","title":"How to resolve SQLServerException: Invalid object name?","body":"<blockquote>\n  <p>com.microsoft.sqlserver.jdbc.SQLServerException: Invalid object name\n  'tbl_configuration_details'.</p>\n</blockquote>\n\n<p>You have defined table name as </p>\n\n<pre><code>CREATE TABLE tbl_users\n</code></pre>\n\n<p>But, in your code</p>\n\n<pre><code>@Table(name = \"tbl_configuration_details\")\n</code></pre>\n\n<p>Since, there isn't any object exists with the same name, you will get <code>Invalid object name</code> exception.</p>\n"},{"tags":[],"owner":{"account_id":3572797,"reputation":1173,"user_id":2982745,"accept_rate":88,"display_name":"Dharita Chokshi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1517810864,"creation_date":1517810864,"answer_id":48616733,"question_id":48596790,"body_markdown":"Using the same database for both the tables resolves my issue. However, I am still confused as to why I am not allowed to use two different databases?","title":"How to resolve SQLServerException: Invalid object name?","body":"<p>Using the same database for both the tables resolves my issue. However, I am still confused as to why I am not allowed to use two different databases?</p>\n"},{"tags":[],"owner":{"account_id":5233274,"reputation":61,"user_id":4182782,"display_name":"Mohamed ROMDANE"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1563354466,"creation_date":1563311237,"answer_id":57065449,"question_id":48596790,"body_markdown":"I understood the error.\r\n\r\nThe nature of SQL Server is that it is multi-database.\r\n\r\nSo we have a DataServer that contains Databases that contains Schemas that contains Tables.\r\n\r\nSo the JDBC driver expects something as user_database.dbo.tbl_users in your case instead of tbl_users.\r\n\r\nThe Java generated by the annotation has to generate the absolute name &quot;user_database.dbo.tbl_users&quot; instead of the relative name &quot;tbl_users&quot;. \r\n\r\nHope that helps.\r\n\r\nUPDATE: if your table is in dbo you may not have a problem.","title":"How to resolve SQLServerException: Invalid object name?","body":"<p>I understood the error.</p>\n\n<p>The nature of SQL Server is that it is multi-database.</p>\n\n<p>So we have a DataServer that contains Databases that contains Schemas that contains Tables.</p>\n\n<p>So the JDBC driver expects something as user_database.dbo.tbl_users in your case instead of tbl_users.</p>\n\n<p>The Java generated by the annotation has to generate the absolute name \"user_database.dbo.tbl_users\" instead of the relative name \"tbl_users\". </p>\n\n<p>Hope that helps.</p>\n\n<p>UPDATE: if your table is in dbo you may not have a problem.</p>\n"},{"tags":[],"owner":{"account_id":12148464,"reputation":475,"user_id":9691954,"display_name":"Nick Borges"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1583841229,"creation_date":1583841229,"answer_id":60617110,"question_id":48596790,"body_markdown":"I had same problem and find out that needed put in properties the database name.\r\n\r\nExample for Spring Boot:\r\n\r\n    spring:\r\n      datasource:\r\n        url: jdbc:sqlserver://localhost:1234;databaseName=DATABASENAMEHERE \r\n        username: USER\r\n        password: ******\r\n        driver-class-name: com.microsoft.sqlserver.jdbc.SQLServerDriver","title":"How to resolve SQLServerException: Invalid object name?","body":"<p>I had same problem and find out that needed put in properties the database name.</p>\n\n<p>Example for Spring Boot:</p>\n\n<pre><code>spring:\n  datasource:\n    url: jdbc:sqlserver://localhost:1234;databaseName=DATABASENAMEHERE \n    username: USER\n    password: ******\n    driver-class-name: com.microsoft.sqlserver.jdbc.SQLServerDriver\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25486112,"reputation":51,"user_id":19281674,"display_name":"Axel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658411472,"creation_date":1658411472,"answer_id":73067468,"question_id":48596790,"body_markdown":"I had the same error. \r\nI&#39;ve found that hibernate makes table name and table columns to lowercase automatically. It&#39;s like: table Material with column fullName will be:  material and column - full_name.\r\n\r\nI added property:\r\n\r\n    spring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl\r\n\r\nin file\r\n\r\n    src/main/resources/application.properties \r\n\r\nand it solved my problem.\r\n\r\n","title":"How to resolve SQLServerException: Invalid object name?","body":"<p>I had the same error.\nI've found that hibernate makes table name and table columns to lowercase automatically. It's like: table Material with column fullName will be:  material and column - full_name.</p>\n<p>I added property:</p>\n<pre><code>spring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl\n</code></pre>\n<p>in file</p>\n<pre><code>src/main/resources/application.properties \n</code></pre>\n<p>and it solved my problem.</p>\n"},{"tags":[],"owner":{"account_id":9060378,"reputation":31,"user_id":6747088,"display_name":"ChrisGClark"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686554763,"creation_date":1686210368,"answer_id":76429654,"question_id":48596790,"body_markdown":"for me, i had to set schema in the table annotation\r\n\r\nlike this,\r\n\r\n    @Table(name=&quot;table_name&quot;, schema = &quot;schema_name&quot;).\r\n\r\nputting `schema.table` under name didn&#39;t work.","title":"How to resolve SQLServerException: Invalid object name?","body":"<p>for me, i had to set schema in the table annotation</p>\n<p>like this,</p>\n<pre><code>@Table(name=&quot;table_name&quot;, schema = &quot;schema_name&quot;).\n</code></pre>\n<p>putting <code>schema.table</code> under name didn't work.</p>\n"}],"owner":{"account_id":3572797,"reputation":1173,"user_id":2982745,"accept_rate":88,"display_name":"Dharita Chokshi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47608,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":48616733,"answer_count":6,"score":6,"last_activity_date":1686554763,"creation_date":1517656890,"question_id":48596790,"body_markdown":"I am creating a spring boot application using MS SQL server. I have a requirement where I need to initialize USERS table in user_database database using data.sql file placed in /src/main/resources/ folder and rest of the tables should be created automatically in springboot_db database with the help of @Table annotation. Below is the code snippet. \r\n\r\napplicaiton.properties file \r\n\r\n    spring.datasource.platform=mssql\r\n    spring.datasource.url=jdbc:sqlserver://localhost;databaseName=springboot_db\r\n    spring.datasource.username=sa\r\n    spring.datasource.password=einfochips@123\r\n    spring.datasource.driver-class-name=com.microsoft.sqlserver.jdbc.SQLServerDriver\r\n    spring.jpa.show-sql=true\r\n    spring.jpa.hibernate.ddl-auto=create-drop\r\n    spring.datasource.initialize=true\r\n\r\ndata.sql\r\n\r\n    USE master\r\n    IF EXISTS(select name from sys.databases where name=&#39;user_database&#39;)\r\n    DROP DATABASE user_database;\r\n    CREATE DATABASE user_database;\r\n    USE user_database;\r\n    CREATE TABLE tbl_users (\r\n      id INTEGER NOT NULL IDENTITY(1,1),\r\n      name VARCHAR(25),\r\n      email  VARCHAR(50),\r\n      username VARCHAR(25),\r\n      password VARCHAR(225),\r\n      gender VARCHAR(1),\r\n      contact_number VARCHAR(12),\r\n      address VARCHAR(150),\r\n      country VARCHAR(20),\r\n      newsletter BIT,\r\n      framework VARCHAR(500),\r\n      skill VARCHAR(500),\r\n      role_id INTEGER,\r\n      PRIMARY KEY (id)\r\n    );\r\n    INSERT INTO tbl_users \r\n    (name, email, username, password, gender, contact_number, address, country, newsletter, framework, skill, role_id) \r\n    VALUES \r\n    (&#39;Admin User1&#39;, &#39;admin@gmail.com&#39;, &#39;admin&#39;, &#39;$2a$10$WOf9uuaNfUgqpfXrfK1QiO.scUjxJMA.wENEu4c8GJMbPhFwbxMwu&#39;, &#39;f&#39;, 919979294062, &#39;Ahmedabad&#39;, &#39;India&#39;, 0, &#39;Spring MVC&#39;, &#39;Spring&#39;, 1);\r\n\r\n\r\nAppConfiguration.java (One of the entity file)\r\n\r\n    @Entity\r\n    @Table(name = &quot;tbl_configuration_details&quot;)\r\n    public class AppConfiguration implements Serializable {\r\n    \r\n    \t/**\r\n    \t * \r\n    \t */\r\n    \tprivate static final long serialVersionUID = 6657691404940352980L;\r\n    \r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.AUTO)\r\n    \t@Column(name = &quot;config_id&quot;)\r\n    \tprivate Integer id;\r\n    \r\n    \t@Column(name = &quot;schedule_time&quot;)\r\n    \tprivate Integer scheduleTimePeriod;\r\n    // other variables and respective getter setters\r\n    }\r\n\r\nIf I am running my application keeping both the approaches separately than its working fine. When I merge both into a single application, it is showing following error.\r\n\r\n    Caused by: com.microsoft.sqlserver.jdbc.SQLServerException: Invalid object name &#39;tbl_configuration_details&#39;.\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerException.makeFromDatabaseError(SQLServerException.java:232) ~[mssql-jdbc-6.1.0.jre7.jar:na]\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerStatement.getNextResult(SQLServerStatement.java:1672) ~[mssql-jdbc-6.1.0.jre7.jar:na]\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement.doExecutePreparedStatement(SQLServerPreparedStatement.java:460) ~[mssql-jdbc-6.1.0.jre7.jar:na]\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement$PrepStmtExecCmd.doExecute(SQLServerPreparedStatement.java:405) ~[mssql-jdbc-6.1.0.jre7.jar:na]\r\n    \tat com.microsoft.sqlserver.jdbc.TDSCommand.execute(IOBuffer.java:7535) ~[mssql-jdbc-6.1.0.jre7.jar:na]\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerConnection.executeCommand(SQLServerConnection.java:2438) ~[mssql-jdbc-6.1.0.jre7.jar:na]\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerStatement.executeCommand(SQLServerStatement.java:208) ~[mssql-jdbc-6.1.0.jre7.jar:na]\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerStatement.executeStatement(SQLServerStatement.java:183) ~[mssql-jdbc-6.1.0.jre7.jar:na]\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement.executeQuery(SQLServerPreparedStatement.java:317) ~[mssql-jdbc-6.1.0.jre7.jar:na]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_144]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_144]\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_144]\r\n    \tat java.lang.reflect.Method.invoke(Unknown Source) ~[na:1.8.0_144]\r\n    \tat org.apache.tomcat.jdbc.pool.StatementFacade$StatementProxy.invoke(StatementFacade.java:114) ~[tomcat-jdbc-8.5.23.jar:na]\r\n    \tat com.sun.proxy.$Proxy92.executeQuery(Unknown Source) ~[na:na]\r\n    \tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:70) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]\r\n    \t... 94 common frames omitted\r\n\r\n","title":"How to resolve SQLServerException: Invalid object name?","body":"<p>I am creating a spring boot application using MS SQL server. I have a requirement where I need to initialize USERS table in user_database database using data.sql file placed in /src/main/resources/ folder and rest of the tables should be created automatically in springboot_db database with the help of @Table annotation. Below is the code snippet. </p>\n\n<p>applicaiton.properties file </p>\n\n<pre><code>spring.datasource.platform=mssql\nspring.datasource.url=jdbc:sqlserver://localhost;databaseName=springboot_db\nspring.datasource.username=sa\nspring.datasource.password=einfochips@123\nspring.datasource.driver-class-name=com.microsoft.sqlserver.jdbc.SQLServerDriver\nspring.jpa.show-sql=true\nspring.jpa.hibernate.ddl-auto=create-drop\nspring.datasource.initialize=true\n</code></pre>\n\n<p>data.sql</p>\n\n<pre><code>USE master\nIF EXISTS(select name from sys.databases where name='user_database')\nDROP DATABASE user_database;\nCREATE DATABASE user_database;\nUSE user_database;\nCREATE TABLE tbl_users (\n  id INTEGER NOT NULL IDENTITY(1,1),\n  name VARCHAR(25),\n  email  VARCHAR(50),\n  username VARCHAR(25),\n  password VARCHAR(225),\n  gender VARCHAR(1),\n  contact_number VARCHAR(12),\n  address VARCHAR(150),\n  country VARCHAR(20),\n  newsletter BIT,\n  framework VARCHAR(500),\n  skill VARCHAR(500),\n  role_id INTEGER,\n  PRIMARY KEY (id)\n);\nINSERT INTO tbl_users \n(name, email, username, password, gender, contact_number, address, country, newsletter, framework, skill, role_id) \nVALUES \n('Admin User1', 'admin@gmail.com', 'admin', '$2a$10$WOf9uuaNfUgqpfXrfK1QiO.scUjxJMA.wENEu4c8GJMbPhFwbxMwu', 'f', 919979294062, 'Ahmedabad', 'India', 0, 'Spring MVC', 'Spring', 1);\n</code></pre>\n\n<p>AppConfiguration.java (One of the entity file)</p>\n\n<pre><code>@Entity\n@Table(name = \"tbl_configuration_details\")\npublic class AppConfiguration implements Serializable {\n\n    /**\n     * \n     */\n    private static final long serialVersionUID = 6657691404940352980L;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = \"config_id\")\n    private Integer id;\n\n    @Column(name = \"schedule_time\")\n    private Integer scheduleTimePeriod;\n// other variables and respective getter setters\n}\n</code></pre>\n\n<p>If I am running my application keeping both the approaches separately than its working fine. When I merge both into a single application, it is showing following error.</p>\n\n<pre><code>Caused by: com.microsoft.sqlserver.jdbc.SQLServerException: Invalid object name 'tbl_configuration_details'.\n    at com.microsoft.sqlserver.jdbc.SQLServerException.makeFromDatabaseError(SQLServerException.java:232) ~[mssql-jdbc-6.1.0.jre7.jar:na]\n    at com.microsoft.sqlserver.jdbc.SQLServerStatement.getNextResult(SQLServerStatement.java:1672) ~[mssql-jdbc-6.1.0.jre7.jar:na]\n    at com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement.doExecutePreparedStatement(SQLServerPreparedStatement.java:460) ~[mssql-jdbc-6.1.0.jre7.jar:na]\n    at com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement$PrepStmtExecCmd.doExecute(SQLServerPreparedStatement.java:405) ~[mssql-jdbc-6.1.0.jre7.jar:na]\n    at com.microsoft.sqlserver.jdbc.TDSCommand.execute(IOBuffer.java:7535) ~[mssql-jdbc-6.1.0.jre7.jar:na]\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection.executeCommand(SQLServerConnection.java:2438) ~[mssql-jdbc-6.1.0.jre7.jar:na]\n    at com.microsoft.sqlserver.jdbc.SQLServerStatement.executeCommand(SQLServerStatement.java:208) ~[mssql-jdbc-6.1.0.jre7.jar:na]\n    at com.microsoft.sqlserver.jdbc.SQLServerStatement.executeStatement(SQLServerStatement.java:183) ~[mssql-jdbc-6.1.0.jre7.jar:na]\n    at com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement.executeQuery(SQLServerPreparedStatement.java:317) ~[mssql-jdbc-6.1.0.jre7.jar:na]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_144]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_144]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_144]\n    at java.lang.reflect.Method.invoke(Unknown Source) ~[na:1.8.0_144]\n    at org.apache.tomcat.jdbc.pool.StatementFacade$StatementProxy.invoke(StatementFacade.java:114) ~[tomcat-jdbc-8.5.23.jar:na]\n    at com.sun.proxy.$Proxy92.executeQuery(Unknown Source) ~[na:na]\n    at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:70) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]\n    ... 94 common frames omitted\n</code></pre>\n"},{"tags":["java","hibernate","validation","integer"],"answers":[{"tags":[],"owner":{"account_id":2809599,"reputation":445,"user_id":2416100,"accept_rate":75,"display_name":"Honey Goyal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1415264487,"creation_date":1415263828,"answer_id":26775174,"question_id":26772748,"body_markdown":"You must have implemented this class ConstraintValidator and overriding this method?\r\n\r\n    @Override\r\n    public boolean isValid(XYZclass xyz, ConstraintValidatorContext context) {\r\n\r\n\r\nChange XYZclass to Integer and implement &lt;code&gt;ConstraintValidator&amp;lt;XYZContraint, Integer&amp;gt;&lt;/code&gt;\r\n","title":"javax.validation.UnexpectedTypeException: No validator could be found for type:","body":"<p>You must have implemented this class ConstraintValidator and overriding this method?</p>\n\n<pre><code>@Override\npublic boolean isValid(XYZclass xyz, ConstraintValidatorContext context) {\n</code></pre>\n\n<p>Change XYZclass to Integer and implement <code>ConstraintValidator&lt;XYZContraint, Integer&gt;</code></p>\n"},{"tags":[],"owner":{"account_id":5666106,"reputation":51,"user_id":4482238,"display_name":"David Jansen"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1421926056,"creation_date":1421926056,"answer_id":28087626,"question_id":26772748,"body_markdown":"I&#39;m just reading up on this, but could it be that type Integer cannot be applied to the Pattern constraint? It would explain why an UnexpectedTypeException is thrown, as it is only thrown if the type annoted does not match the constraints specification.\r\n\r\nI found the following for the Pattern constraint for EE7: &quot;The annotated CharSequence must match the specified regular expression. The regular expression follows the Java regular expression conventions see Pattern.\r\nAccepts CharSequence. null elements are considered valid.&quot;\r\n\r\nsrc: http://docs.oracle.com/javaee/7/api/javax/validation/constraints/Pattern.html\r\n\r\n&lt;br/&gt;\r\nIn EE6 it seems to be limited to String: &quot;The annotated String must... Accepts String. null elements are considered valid.&quot;\r\n\r\nsrc: http://docs.oracle.com/javaee/6/api/javax/validation/constraints/Pattern.html\r\n\r\n&lt;br/&gt;\r\nexample:\r\n\r\n    @Pattern(regexp = &quot;&lt;insert regex here&gt;&quot;)\r\n    Integer evaluateMe;\r\n\r\nThis should result in an UnexpectedTypeException as the Pattern constraint expects a CharSequence (EE7) or String (EE6), but finds type Integer.\r\n\r\n&lt;br/&gt;\r\n&lt;br/&gt;\r\nAfter typing this I read Sridhar DD&#39;s reference, which confirms it :)","title":"javax.validation.UnexpectedTypeException: No validator could be found for type:","body":"<p>I'm just reading up on this, but could it be that type Integer cannot be applied to the Pattern constraint? It would explain why an UnexpectedTypeException is thrown, as it is only thrown if the type annoted does not match the constraints specification.</p>\n\n<p>I found the following for the Pattern constraint for EE7: \"The annotated CharSequence must match the specified regular expression. The regular expression follows the Java regular expression conventions see Pattern.\nAccepts CharSequence. null elements are considered valid.\"</p>\n\n<p>src: <a href=\"http://docs.oracle.com/javaee/7/api/javax/validation/constraints/Pattern.html\" rel=\"noreferrer\">http://docs.oracle.com/javaee/7/api/javax/validation/constraints/Pattern.html</a></p>\n\n<p><br/>\nIn EE6 it seems to be limited to String: \"The annotated String must... Accepts String. null elements are considered valid.\"</p>\n\n<p>src: <a href=\"http://docs.oracle.com/javaee/6/api/javax/validation/constraints/Pattern.html\" rel=\"noreferrer\">http://docs.oracle.com/javaee/6/api/javax/validation/constraints/Pattern.html</a></p>\n\n<p><br/>\nexample:</p>\n\n<pre><code>@Pattern(regexp = \"&lt;insert regex here&gt;\")\nInteger evaluateMe;\n</code></pre>\n\n<p>This should result in an UnexpectedTypeException as the Pattern constraint expects a CharSequence (EE7) or String (EE6), but finds type Integer.</p>\n\n<p><br/>\n<br/>\nAfter typing this I read Sridhar DD's reference, which confirms it :)</p>\n"},{"tags":[],"owner":{"account_id":5588556,"reputation":8451,"user_id":4428471,"accept_rate":46,"display_name":"zhuguowei"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1452411321,"creation_date":1452411321,"answer_id":34703165,"question_id":26772748,"body_markdown":"Thanks @Honey Goyal \r\nbelow is my way \r\n\r\n    @Documented\r\n    @Constraint(validatedBy = { AllowedIntegerValuesValidator.class})\r\n    @Target({ METHOD, FIELD, ANNOTATION_TYPE, CONSTRUCTOR, PARAMETER })\r\n    @Retention(RUNTIME)\r\n    @ReportAsSingleViolation\r\n    public @interface AllowedValues {\r\n\t    String message() default &quot;&quot;;\r\n\t    Class&lt;?&gt;[] groups() default { };\r\n\t    Class&lt;? extends Payload&gt;[] payload() default { };\r\n\t    String[] value() default { };\r\n    }\r\n\r\n    public class AllowedIntegerValuesValidator implements ConstraintValidator&lt;AllowedValues, Integer&gt; {\r\n\t    private List&lt;Integer&gt; valueList;\r\n\r\n\t    @Override\r\n\t    public void initialize(AllowedValues constraintAnnotation) {\r\n\t\t    valueList = new ArrayList&lt;&gt;();\r\n\t\t    for (String val : constraintAnnotation.value()) {\r\n\t\t\t    valueList.add(Integer.parseInt(val));\r\n\t\t    }\r\n\t    }\r\n\r\n\t    @Override\r\n\t    public boolean isValid(Integer value, ConstraintValidatorContext context) {\r\n\t\t    if (!valueList.contains(value)) {\r\n\t\t\t    return false;\r\n\t\t    }\r\n\t\t    return true;\r\n\t    }\r\n    }\r\n\r\n    \t@AllowedValues(value={&quot;7&quot;,&quot;9&quot;}, message=&quot;only could be 7 or 9&quot;)\r\n\t    private int location; ","title":"javax.validation.UnexpectedTypeException: No validator could be found for type:","body":"<p>Thanks @Honey Goyal \nbelow is my way </p>\n\n<pre><code>@Documented\n@Constraint(validatedBy = { AllowedIntegerValuesValidator.class})\n@Target({ METHOD, FIELD, ANNOTATION_TYPE, CONSTRUCTOR, PARAMETER })\n@Retention(RUNTIME)\n@ReportAsSingleViolation\npublic @interface AllowedValues {\n    String message() default \"\";\n    Class&lt;?&gt;[] groups() default { };\n    Class&lt;? extends Payload&gt;[] payload() default { };\n    String[] value() default { };\n}\n\npublic class AllowedIntegerValuesValidator implements ConstraintValidator&lt;AllowedValues, Integer&gt; {\n    private List&lt;Integer&gt; valueList;\n\n    @Override\n    public void initialize(AllowedValues constraintAnnotation) {\n        valueList = new ArrayList&lt;&gt;();\n        for (String val : constraintAnnotation.value()) {\n            valueList.add(Integer.parseInt(val));\n        }\n    }\n\n    @Override\n    public boolean isValid(Integer value, ConstraintValidatorContext context) {\n        if (!valueList.contains(value)) {\n            return false;\n        }\n        return true;\n    }\n}\n\n    @AllowedValues(value={\"7\",\"9\"}, message=\"only could be 7 or 9\")\n    private int location; \n</code></pre>\n"},{"tags":[],"owner":{"account_id":26898528,"reputation":1,"user_id":20476062,"display_name":"Suryansh Oberoi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686554725,"creation_date":1686241031,"answer_id":76433878,"question_id":26772748,"body_markdown":"Check properly for `@NotNull` and `@NotEmpty` in your DTO class, in my case `@NotEmpty` was giving this error.","title":"javax.validation.UnexpectedTypeException: No validator could be found for type:","body":"<p>Check properly for <code>@NotNull</code> and <code>@NotEmpty</code> in your DTO class, in my case <code>@NotEmpty</code> was giving this error.</p>\n"}],"owner":{"account_id":5285651,"reputation":41,"user_id":4219764,"display_name":"Sreeram Gollu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11565,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":4,"score":4,"last_activity_date":1686554725,"creation_date":1415253918,"question_id":26772748,"body_markdown":"the below is error we are getting when we try to put validation for size and pattern for Integer type.\r\ncan you suggest, we need to set the size and pattern validation for Integer type in validator bean.xml\r\n\r\n\r\n\r\n    05:58:57,342 ERROR [ErrorLoggerEJBInterceptor] Unexpected system error: No validator could be found for type: java.lang.Integer\r\n    javax.validation.UnexpectedTypeException: No validator could be found for type: java.lang.Integer\r\n            at org.hibernate.validator.engine.ConstraintTree.verifyResolveWasUnique(ConstraintTree.java:244)","title":"javax.validation.UnexpectedTypeException: No validator could be found for type:","body":"<p>the below is error we are getting when we try to put validation for size and pattern for Integer type.\ncan you suggest, we need to set the size and pattern validation for Integer type in validator bean.xml</p>\n\n<pre><code>05:58:57,342 ERROR [ErrorLoggerEJBInterceptor] Unexpected system error: No validator could be found for type: java.lang.Integer\njavax.validation.UnexpectedTypeException: No validator could be found for type: java.lang.Integer\n        at org.hibernate.validator.engine.ConstraintTree.verifyResolveWasUnique(ConstraintTree.java:244)\n</code></pre>\n"},{"tags":["java","spring-boot","hibernate-6.x"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1686039331,"post_id":76412629,"comment_id":134740776,"body_markdown":"Well it is a new version so there is obviously something new. Depending on which Spring Boot version (your title mentions Spring which isn&#39;t the same as Spring Boot!) it might or might not be compatible. I also wonder **how** you upgraded the version of hibernate (and why upgrade to a new version then the supported 6.1 line). Additionally please edit your question to use a code block around your stacktrace instead of a quote (as that makes it unreadable and unformatted).","body":"Well it is a new version so there is obviously something new. Depending on which Spring Boot version (your title mentions Spring which isn&#39;t the same as Spring Boot!) it might or might not be compatible. I also wonder <b>how</b> you upgraded the version of hibernate (and why upgrade to a new version then the supported 6.1 line). Additionally please edit your question to use a code block around your stacktrace instead of a quote (as that makes it unreadable and unformatted)."},{"owner":{"account_id":6168599,"reputation":99,"user_id":4807616,"display_name":"Mihai Ciully"},"score":0,"creation_date":1686041954,"post_id":76412629,"comment_id":134741338,"body_markdown":"I upgraded the version of hibernate by adding it to the pom with a newer version. The reason for the upgrade being that with the older versions I have encountered application braking bugs and wanted to see if the newer versions fix that.","body":"I upgraded the version of hibernate by adding it to the pom with a newer version. The reason for the upgrade being that with the older versions I have encountered application braking bugs and wanted to see if the newer versions fix that."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1686042728,"post_id":76412629,"comment_id":134741480,"body_markdown":"If you want to upgrade hibernate add `hibernate.version` as a property to your maven pom, don&#39;t go to override individual dependencies. However depending on your database in use and which Spring (Boot) version in use this might not work (as classes got removed and replaced in Hibernate 6.2 for which the framework needed to change).","body":"If you want to upgrade hibernate add <code>hibernate.version</code> as a property to your maven pom, don&#39;t go to override individual dependencies. However depending on your database in use and which Spring (Boot) version in use this might not work (as classes got removed and replaced in Hibernate 6.2 for which the framework needed to change)."},{"owner":{"account_id":6168599,"reputation":99,"user_id":4807616,"display_name":"Mihai Ciully"},"score":0,"creation_date":1686043215,"post_id":76412629,"comment_id":134741590,"body_markdown":"The Spring boot version is use is 3.1.0 which is compatible with hibernate 6.2.+  version, as per the maven repository. Regarding the database in use, it is a HANA database.","body":"The Spring boot version is use is 3.1.0 which is compatible with hibernate 6.2.+  version, as per the maven repository. Regarding the database in use, it is a HANA database."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1686043450,"post_id":76412629,"comment_id":134741639,"body_markdown":"Spring Boot 3.1 is (partially) compatible as there are removed classes in Hibernate 6.2 which are still being referenced in the main framework. There have been a few questions on that (and has been fixed in an upcoming release of Spring). Nonetheless as stated you should override the version using the method as described instead of adding individual dependencies.","body":"Spring Boot 3.1 is (partially) compatible as there are removed classes in Hibernate 6.2 which are still being referenced in the main framework. There have been a few questions on that (and has been fixed in an upcoming release of Spring). Nonetheless as stated you should override the version using the method as described instead of adding individual dependencies."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1686043781,"post_id":76412629,"comment_id":134741720,"body_markdown":"Anyway please add your pom, some configuration etc. as currently there is too little information.","body":"Anyway please add your pom, some configuration etc. as currently there is too little information."}],"answers":[{"tags":[],"owner":{"account_id":1509404,"reputation":501,"user_id":1411901,"display_name":"Christos Manios"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1686554472,"creation_date":1686554472,"answer_id":76454363,"question_id":76412629,"body_markdown":"A few days ago we stumbled upon the same error while migrating an application from Spring Boot 2.7.0 with Spring Data JPA (Hibernate Core 5.6.9-Final) to Spring Boot 3.1.0 (Hibernate Core 6.2.2-Final) as you can see here:\r\n\r\n```\r\n2023-06-12T09:39:17.993+03:00 ERROR 23852 --- [    Test worker] j.LocalContainerEntityManagerFactoryBean : Failed to initialize JPA EntityManagerFactory: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is java.lang.NullPointerException: Cannot invoke &quot;org.hibernate.metamodel.mapping.EmbeddableValuedModelPart.getNavigableRole()&quot; because &quot;mappingModelPart&quot; is null\r\n2023-06-12T09:39:17.994+03:00  WARN 23852 --- [    Test worker] o.s.w.c.s.GenericWebApplicationContext   : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is java.lang.NullPointerException: Cannot invoke &quot;org.hibernate.metamodel.mapping.EmbeddableValuedModelPart.getNavigableRole()&quot; because &quot;mappingModelPart&quot; is null\r\n2023-06-12T09:39:17.994+03:00  INFO 23852 --- [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\r\n2023-06-12T09:39:17.996+03:00  INFO 23852 --- [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\r\n2023-06-12T09:39:18.012+03:00  INFO 23852 --- [    Test worker] .s.b.a.l.ConditionEvaluationReportLogger : \r\n\r\nError starting ApplicationContext. To display the condition evaluation report re-run your application with &#39;debug&#39; enabled.\r\n2023-06-12T09:39:18.044+03:00 ERROR 23852 --- [    Test worker] o.s.boot.SpringApplication               : Application run failed\r\n\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is java.lang.NullPointerException: Cannot invoke &quot;org.hibernate.metamodel.mapping.EmbeddableValuedModelPart.getNavigableRole()&quot; because &quot;mappingModelPart&quot; is null\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)\r\n    -- some lines were truncated\r\n\tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)\r\n\tat worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\r\n\tat worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\r\nCaused by: jakarta.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is java.lang.NullPointerException: Cannot invoke &quot;org.hibernate.metamodel.mapping.EmbeddableValuedModelPart.getNavigableRole()&quot; because &quot;mappingModelPart&quot; is null\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:421)\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1816)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766)\r\n\t... 100 common frames omitted\r\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;org.hibernate.metamodel.mapping.EmbeddableValuedModelPart.getNavigableRole()&quot; because &quot;mappingModelPart&quot; is null\r\n\tat org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.lambda$registerEmbeddableMappingType$1(MappingMetamodelImpl.java:229)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.hibernate.boot.internal.MetadataImpl.visitRegisteredComponents(MetadataImpl.java:570)\r\n\tat org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.registerEmbeddableMappingType(MappingMetamodelImpl.java:225)\r\n\tat org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.finishInitialization(MappingMetamodelImpl.java:210)\r\n\tat org.hibernate.internal.SessionFactoryImpl.initializeMappingModel(SessionFactoryImpl.java:319)\r\n\tat org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:269)\r\n\tat org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:431)\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1455)\r\n\tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)\r\n\t... 104 common frames omitted\r\n\r\n2023-06-12T09:39:18.062+03:00 ERROR 23852 --- [    Test worker] o.s.test.context.TestContextManager      : Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] to prepare test instance [com.manios.product.discount.DiscountServiceTest@531a82]\r\n\r\njava.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@5ffce9b4 testClass = com.manios.product.discount.DiscountServiceTest, locations = [], classes = [com.manios.product.discount.DiscountServiceApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = [&quot;spring.profiles.active:test&quot;, &quot;org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true&quot;], contextCustomizers = [org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@b86cb18, [ImportsContextCustomizer@6f0408a9 key = [com.manios.embedded.qpid.config.EmbeddedQpidAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@3386ed8, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4571cebe, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@99c78cde, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@62d42eb7, org.springframework.boot.test.context.SpringBootTestAnnotation@fae96cc0], resourceBasePath = &quot;src/main/webapp&quot;, contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]\r\n\tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)\r\n\tat org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)\r\n\tat org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:191)\r\n\tat org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:130)\r\n\tat org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)\r\n\tat org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)\r\n\tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\r\n\tat java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)\r\n\tat java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)\r\n\tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)\r\n\tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\r\n\tat java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)\r\n\tat java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)\r\n\tat java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)\r\n\tat java.base/java.util.Optional.orElseGet(Optional.java:364)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)\r\n\tat org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$before$2(ClassBasedTestDescriptor.java:203)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.before(ClassBasedTestDescriptor.java:202)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.before(ClassBasedTestDescriptor.java:84)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:148)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\r\n\tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:110)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:90)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:85)\r\n\tat org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n\tat org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\r\n\tat org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy5.stop(Unknown Source)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)\r\n\tat org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)\r\n\tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)\r\n\tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)\r\n\tat worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\r\n\tat worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is java.lang.NullPointerException: Cannot invoke &quot;org.hibernate.metamodel.mapping.EmbeddableValuedModelPart.getNavigableRole()&quot; because &quot;mappingModelPart&quot; is null\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1156)\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:931)\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:311)\r\n\tat org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)\r\n\tat org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)\r\n\tat org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)\r\n\tat org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)\r\n\tat org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)\r\n\tat org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)\r\n\tat org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)\r\n\tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)\r\n\tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)\r\n\t... 79 common frames omitted\r\nCaused by: jakarta.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is java.lang.NullPointerException: Cannot invoke &quot;org.hibernate.metamodel.mapping.EmbeddableValuedModelPart.getNavigableRole()&quot; because &quot;mappingModelPart&quot; is null\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:421)\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1816)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766)\r\n\t... 100 common frames omitted\r\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;org.hibernate.metamodel.mapping.EmbeddableValuedModelPart.getNavigableRole()&quot; because &quot;mappingModelPart&quot; is null\r\n\tat org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.lambda$registerEmbeddableMappingType$1(MappingMetamodelImpl.java:229)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.hibernate.boot.internal.MetadataImpl.visitRegisteredComponents(MetadataImpl.java:570)\r\n\tat org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.registerEmbeddableMappingType(MappingMetamodelImpl.java:225)\r\n\tat org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.finishInitialization(MappingMetamodelImpl.java:210)\r\n\tat org.hibernate.internal.SessionFactoryImpl.initializeMappingModel(SessionFactoryImpl.java:319)\r\n\tat org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:269)\r\n\tat org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:431)\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1455)\r\n\tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)\r\n\t... 104 common frames omitted\r\n```\r\n\r\nIt seems that in our case the error was hidden in the fact that one `DiscountEntity` class was declaring more `@Id` fields than the ones declared in its  private key `DiscountEntityPK` class. Therefore as you can see in `DiscountEntityPK.java`, although the composite private key consists of 2 columns:\r\n\r\n```java\r\npackage com.manios.product.discount;\r\n\r\nimport java.io.Serializable;\r\nimport java.util.Objects;\r\nimport jakarta.persistence.Column;\r\nimport jakarta.persistence.Id;\r\n\r\npublic class DiscountEntityPK implements Serializable {\r\n    private String companyId;\r\n    private long discountId;\r\n\r\n    @Column(name = &quot;company_id&quot;, nullable = false, length = 2)\r\n    @Id\r\n    public String getCompanyId() {\r\n        return companyId;\r\n    }\r\n\r\n    public void setCompanyId(String companyId) {\r\n        this.companyId = companyId;\r\n    }\r\n\r\n    @Column(name = &quot;discount_id&quot;, nullable = false)\r\n    @Id\r\n    public long getDiscountId() {\r\n        return discountId;\r\n    }\r\n\r\n    public void setDiscountId(long discountId) {\r\n        this.discountId = discountId;\r\n    }\r\n\r\n    @Override\r\n    public boolean equals(Object o) {\r\n        if (this == o) return true;\r\n        if (o == null || getClass() != o.getClass()) return false;\r\n        DiscountEntityPK that = (DiscountEntityPK) o;\r\n        return discountId == that.discountId &amp;&amp;\r\n                Objects.equals(companyId, that.companyId);\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n\r\n        return Objects.hash(companyId, discountId);\r\n    }\r\n}\r\n```\r\n\r\nthe actual entity class, `DiscountEntity.java`, had 2 more fields annotated with the `@Id` annotation (search in the code for `INCORRECT ANNOTATION`)\r\n```java\r\npackage com.manios.product.discount;\r\n\r\nimport java.sql.Date;\r\nimport java.util.Objects;\r\nimport jakarta.persistence.Basic;\r\nimport jakarta.persistence.Column;\r\nimport jakarta.persistence.Entity;\r\nimport jakarta.persistence.Id;\r\nimport jakarta.persistence.IdClass;\r\nimport jakarta.persistence.Table;\r\n\r\n@Entity\r\n@Table(name = &quot;discount&quot;)\r\n@IdClass(DiscountEntityPK.class)\r\npublic class DiscountEntity {\r\n  private String companyId;\r\n  private long discountId;\r\n  private String discountType;\r\n  private Date fromDate;\r\n  private Date toDate;\r\n  private String discountText;\r\n  private long priority;\r\n  private long discountLevel;\r\n\r\n  @Id\r\n  @Column(name = &quot;company_id&quot;, nullable = false, length = 2)\r\n  public String getCompanyId() {\r\n    return companyId;\r\n  }\r\n\r\n  public void setCompanyId(String companyId) {\r\n    this.companyId = companyId;\r\n  }\r\n\r\n  @Id\r\n  @Column(name = &quot;discount_id&quot;, nullable = false)\r\n  public long getDiscountId() {\r\n    return discountId;\r\n  }\r\n\r\n  public void setDiscountId(long discountId) {\r\n    this.discountId = discountId;\r\n  }\r\n\r\n  @Basic\r\n  @Column(name = &quot;discount_type&quot;, nullable = false, length = 2)\r\n  public String getDiscountType() {\r\n    return discountType;\r\n  }\r\n\r\n  public void setDiscountType(String discountType) {\r\n    this.discountType = discountType;\r\n  }\r\n\r\n  @Basic\r\n  @Column(name = &quot;from_date&quot;, nullable = false)\r\n  public Date getFromDate() {\r\n    return fromDate;\r\n  }\r\n\r\n  public void setFromDate(Date fromDate) {\r\n    this.fromDate = fromDate;\r\n  }\r\n\r\n  @Basic\r\n  @Column(name = &quot;to_date&quot;, nullable = false)\r\n  public Date getToDate() {\r\n    return toDate;\r\n  }\r\n\r\n  public void setToDate(Date toDate) {\r\n    this.toDate = toDate;\r\n  }\r\n\r\n  @Basic\r\n  @Column(name = &quot;disc_text&quot;, nullable = false, length = 240)\r\n  public String getDiscountText() {\r\n    return discountText;\r\n  }\r\n\r\n  public void setDiscountText(String discountText) {\r\n    this.discountText = discountText;\r\n  }\r\n\r\n  //     ------------------------\r\n  @Id // &lt;-- INCORRECT ANNOTATION. This should be @Basic instead\r\n  @Column(name = &quot;priority&quot;, nullable = false)\r\n  public long getPriority() {\r\n    return priority;\r\n  }\r\n\r\n  public void setPriority(long priority) {\r\n    this.priority = priority;\r\n  }\r\n\r\n  //     ------------------------\r\n  @Id // &lt;-- INCORRECT ANNOTATION. This should be @Basic instead\r\n  @Column(name = &quot;discount_level&quot;, nullable = false)\r\n  public long getDiscountLevel() {\r\n    return discountLevel;\r\n  }\r\n\r\n  public void setDiscountLevel(long discountLevel) {\r\n    this.discountLevel = discountLevel;\r\n  }\r\n\r\n  @Override\r\n  public boolean equals(Object o) {\r\n    if (this == o) {\r\n      return true;\r\n    }\r\n    if (o == null || getClass() != o.getClass()) {\r\n      return false;\r\n    }\r\n    DiscountEntity that = (DiscountEntity) o;\r\n    return discountId == that.discountId &amp;&amp;\r\n            Objects.equals(companyId, that.companyId) &amp;&amp;\r\n            Objects.equals(discountType, that.discountType) &amp;&amp;\r\n            Objects.equals(fromDate, that.fromDate) &amp;&amp;\r\n            Objects.equals(toDate, that.toDate) &amp;&amp;\r\n            Objects.equals(priority, that.priority) &amp;&amp;\r\n            Objects.equals(discountLevel, that.discountLevel);\r\n  }\r\n\r\n  @Override\r\n  public int hashCode() {\r\n\r\n    return Objects\r\n            .hash(companyId, discountId, discountType, fromDate, toDate, priority, discountLevel);\r\n  }\r\n}\r\n```\r\n\r\nIn order to find out we had to explicitly debug and add breakpoints in the `MappingMetamodelImpl` class. After replacing the `@Id` annotation with `@Basic` annotation in columns `&quot;discount_level&quot;` and `&quot;priority&quot;` the problem was fixed. I hope this helps!","title":"Spring 3 with Hibernate 6.2+ Application startup fail - mappingModelPart is null","body":"<p>A few days ago we stumbled upon the same error while migrating an application from Spring Boot 2.7.0 with Spring Data JPA (Hibernate Core 5.6.9-Final) to Spring Boot 3.1.0 (Hibernate Core 6.2.2-Final) as you can see here:</p>\n<pre><code>2023-06-12T09:39:17.993+03:00 ERROR 23852 --- [    Test worker] j.LocalContainerEntityManagerFactoryBean : Failed to initialize JPA EntityManagerFactory: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is java.lang.NullPointerException: Cannot invoke &quot;org.hibernate.metamodel.mapping.EmbeddableValuedModelPart.getNavigableRole()&quot; because &quot;mappingModelPart&quot; is null\n2023-06-12T09:39:17.994+03:00  WARN 23852 --- [    Test worker] o.s.w.c.s.GenericWebApplicationContext   : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is java.lang.NullPointerException: Cannot invoke &quot;org.hibernate.metamodel.mapping.EmbeddableValuedModelPart.getNavigableRole()&quot; because &quot;mappingModelPart&quot; is null\n2023-06-12T09:39:17.994+03:00  INFO 23852 --- [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\n2023-06-12T09:39:17.996+03:00  INFO 23852 --- [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\n2023-06-12T09:39:18.012+03:00  INFO 23852 --- [    Test worker] .s.b.a.l.ConditionEvaluationReportLogger : \n\nError starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.\n2023-06-12T09:39:18.044+03:00 ERROR 23852 --- [    Test worker] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is java.lang.NullPointerException: Cannot invoke &quot;org.hibernate.metamodel.mapping.EmbeddableValuedModelPart.getNavigableRole()&quot; because &quot;mappingModelPart&quot; is null\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)\n    -- some lines were truncated\n    at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)\n    at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\n    at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\nCaused by: jakarta.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is java.lang.NullPointerException: Cannot invoke &quot;org.hibernate.metamodel.mapping.EmbeddableValuedModelPart.getNavigableRole()&quot; because &quot;mappingModelPart&quot; is null\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:421)\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1816)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766)\n    ... 100 common frames omitted\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;org.hibernate.metamodel.mapping.EmbeddableValuedModelPart.getNavigableRole()&quot; because &quot;mappingModelPart&quot; is null\n    at org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.lambda$registerEmbeddableMappingType$1(MappingMetamodelImpl.java:229)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.hibernate.boot.internal.MetadataImpl.visitRegisteredComponents(MetadataImpl.java:570)\n    at org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.registerEmbeddableMappingType(MappingMetamodelImpl.java:225)\n    at org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.finishInitialization(MappingMetamodelImpl.java:210)\n    at org.hibernate.internal.SessionFactoryImpl.initializeMappingModel(SessionFactoryImpl.java:319)\n    at org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:269)\n    at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:431)\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1455)\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)\n    ... 104 common frames omitted\n\n2023-06-12T09:39:18.062+03:00 ERROR 23852 --- [    Test worker] o.s.test.context.TestContextManager      : Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] to prepare test instance [com.manios.product.discount.DiscountServiceTest@531a82]\n\njava.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@5ffce9b4 testClass = com.manios.product.discount.DiscountServiceTest, locations = [], classes = [com.manios.product.discount.DiscountServiceApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = [&quot;spring.profiles.active:test&quot;, &quot;org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true&quot;], contextCustomizers = [org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@b86cb18, [ImportsContextCustomizer@6f0408a9 key = [com.manios.embedded.qpid.config.EmbeddedQpidAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@3386ed8, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4571cebe, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@99c78cde, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@62d42eb7, org.springframework.boot.test.context.SpringBootTestAnnotation@fae96cc0], resourceBasePath = &quot;src/main/webapp&quot;, contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)\n    at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)\n    at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:191)\n    at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:130)\n    at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)\n    at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)\n    at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\n    at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)\n    at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\n    at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)\n    at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)\n    at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)\n    at java.base/java.util.Optional.orElseGet(Optional.java:364)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)\n    at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$before$2(ClassBasedTestDescriptor.java:203)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.before(ClassBasedTestDescriptor.java:202)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.before(ClassBasedTestDescriptor.java:84)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:148)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\n    at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:110)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:90)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:85)\n    at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\n    at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\n    at jdk.proxy2/jdk.proxy2.$Proxy5.stop(Unknown Source)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)\n    at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)\n    at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)\n    at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)\n    at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\n    at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is java.lang.NullPointerException: Cannot invoke &quot;org.hibernate.metamodel.mapping.EmbeddableValuedModelPart.getNavigableRole()&quot; because &quot;mappingModelPart&quot; is null\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1156)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:931)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)\n    at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)\n    at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)\n    at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)\n    at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)\n    at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)\n    at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)\n    at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)\n    ... 79 common frames omitted\nCaused by: jakarta.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is java.lang.NullPointerException: Cannot invoke &quot;org.hibernate.metamodel.mapping.EmbeddableValuedModelPart.getNavigableRole()&quot; because &quot;mappingModelPart&quot; is null\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:421)\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1816)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766)\n    ... 100 common frames omitted\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;org.hibernate.metamodel.mapping.EmbeddableValuedModelPart.getNavigableRole()&quot; because &quot;mappingModelPart&quot; is null\n    at org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.lambda$registerEmbeddableMappingType$1(MappingMetamodelImpl.java:229)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.hibernate.boot.internal.MetadataImpl.visitRegisteredComponents(MetadataImpl.java:570)\n    at org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.registerEmbeddableMappingType(MappingMetamodelImpl.java:225)\n    at org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.finishInitialization(MappingMetamodelImpl.java:210)\n    at org.hibernate.internal.SessionFactoryImpl.initializeMappingModel(SessionFactoryImpl.java:319)\n    at org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:269)\n    at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:431)\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1455)\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)\n    ... 104 common frames omitted\n</code></pre>\n<p>It seems that in our case the error was hidden in the fact that one <code>DiscountEntity</code> class was declaring more <code>@Id</code> fields than the ones declared in its  private key <code>DiscountEntityPK</code> class. Therefore as you can see in <code>DiscountEntityPK.java</code>, although the composite private key consists of 2 columns:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.manios.product.discount;\n\nimport java.io.Serializable;\nimport java.util.Objects;\nimport jakarta.persistence.Column;\nimport jakarta.persistence.Id;\n\npublic class DiscountEntityPK implements Serializable {\n    private String companyId;\n    private long discountId;\n\n    @Column(name = &quot;company_id&quot;, nullable = false, length = 2)\n    @Id\n    public String getCompanyId() {\n        return companyId;\n    }\n\n    public void setCompanyId(String companyId) {\n        this.companyId = companyId;\n    }\n\n    @Column(name = &quot;discount_id&quot;, nullable = false)\n    @Id\n    public long getDiscountId() {\n        return discountId;\n    }\n\n    public void setDiscountId(long discountId) {\n        this.discountId = discountId;\n    }\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n        DiscountEntityPK that = (DiscountEntityPK) o;\n        return discountId == that.discountId &amp;&amp;\n                Objects.equals(companyId, that.companyId);\n    }\n\n    @Override\n    public int hashCode() {\n\n        return Objects.hash(companyId, discountId);\n    }\n}\n</code></pre>\n<p>the actual entity class, <code>DiscountEntity.java</code>, had 2 more fields annotated with the <code>@Id</code> annotation (search in the code for <code>INCORRECT ANNOTATION</code>)</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.manios.product.discount;\n\nimport java.sql.Date;\nimport java.util.Objects;\nimport jakarta.persistence.Basic;\nimport jakarta.persistence.Column;\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.Id;\nimport jakarta.persistence.IdClass;\nimport jakarta.persistence.Table;\n\n@Entity\n@Table(name = &quot;discount&quot;)\n@IdClass(DiscountEntityPK.class)\npublic class DiscountEntity {\n  private String companyId;\n  private long discountId;\n  private String discountType;\n  private Date fromDate;\n  private Date toDate;\n  private String discountText;\n  private long priority;\n  private long discountLevel;\n\n  @Id\n  @Column(name = &quot;company_id&quot;, nullable = false, length = 2)\n  public String getCompanyId() {\n    return companyId;\n  }\n\n  public void setCompanyId(String companyId) {\n    this.companyId = companyId;\n  }\n\n  @Id\n  @Column(name = &quot;discount_id&quot;, nullable = false)\n  public long getDiscountId() {\n    return discountId;\n  }\n\n  public void setDiscountId(long discountId) {\n    this.discountId = discountId;\n  }\n\n  @Basic\n  @Column(name = &quot;discount_type&quot;, nullable = false, length = 2)\n  public String getDiscountType() {\n    return discountType;\n  }\n\n  public void setDiscountType(String discountType) {\n    this.discountType = discountType;\n  }\n\n  @Basic\n  @Column(name = &quot;from_date&quot;, nullable = false)\n  public Date getFromDate() {\n    return fromDate;\n  }\n\n  public void setFromDate(Date fromDate) {\n    this.fromDate = fromDate;\n  }\n\n  @Basic\n  @Column(name = &quot;to_date&quot;, nullable = false)\n  public Date getToDate() {\n    return toDate;\n  }\n\n  public void setToDate(Date toDate) {\n    this.toDate = toDate;\n  }\n\n  @Basic\n  @Column(name = &quot;disc_text&quot;, nullable = false, length = 240)\n  public String getDiscountText() {\n    return discountText;\n  }\n\n  public void setDiscountText(String discountText) {\n    this.discountText = discountText;\n  }\n\n  //     ------------------------\n  @Id // &lt;-- INCORRECT ANNOTATION. This should be @Basic instead\n  @Column(name = &quot;priority&quot;, nullable = false)\n  public long getPriority() {\n    return priority;\n  }\n\n  public void setPriority(long priority) {\n    this.priority = priority;\n  }\n\n  //     ------------------------\n  @Id // &lt;-- INCORRECT ANNOTATION. This should be @Basic instead\n  @Column(name = &quot;discount_level&quot;, nullable = false)\n  public long getDiscountLevel() {\n    return discountLevel;\n  }\n\n  public void setDiscountLevel(long discountLevel) {\n    this.discountLevel = discountLevel;\n  }\n\n  @Override\n  public boolean equals(Object o) {\n    if (this == o) {\n      return true;\n    }\n    if (o == null || getClass() != o.getClass()) {\n      return false;\n    }\n    DiscountEntity that = (DiscountEntity) o;\n    return discountId == that.discountId &amp;&amp;\n            Objects.equals(companyId, that.companyId) &amp;&amp;\n            Objects.equals(discountType, that.discountType) &amp;&amp;\n            Objects.equals(fromDate, that.fromDate) &amp;&amp;\n            Objects.equals(toDate, that.toDate) &amp;&amp;\n            Objects.equals(priority, that.priority) &amp;&amp;\n            Objects.equals(discountLevel, that.discountLevel);\n  }\n\n  @Override\n  public int hashCode() {\n\n    return Objects\n            .hash(companyId, discountId, discountType, fromDate, toDate, priority, discountLevel);\n  }\n}\n</code></pre>\n<p>In order to find out we had to explicitly debug and add breakpoints in the <code>MappingMetamodelImpl</code> class. After replacing the <code>@Id</code> annotation with <code>@Basic</code> annotation in columns <code>&quot;discount_level&quot;</code> and <code>&quot;priority&quot;</code> the problem was fixed. I hope this helps!</p>\n"}],"owner":{"account_id":6168599,"reputation":99,"user_id":4807616,"display_name":"Mihai Ciully"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3578,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":1,"score":7,"last_activity_date":1686554472,"creation_date":1686039122,"question_id":76412629,"body_markdown":"I have a Java Spring Boot app (Spring boot 3.1.0) for which I am trying to update hibernate for. The reason for the upgrade being that with the older versions I have encountered application braking bugs and wanted to see if the newer versions fix that.\r\nAny version starting from 6.2.0 seems to crash the app at startup with the following error:\r\n\r\n     org.springframework.beans.factory.BeanCreationException: Error\r\n     creating bean with name &#39;entityManagerFactory&#39; defined in class path\r\n     resource\r\n     [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]:\r\n     [PersistenceUnit: default] Unable to build Hibernate SessionFactory;\r\n     nested exception is java.lang.NullPointerException: Cannot invoke\r\n     &quot;org.hibernate.metamodel.mapping.EmbeddableValuedModelPart.getNavigableRole()&quot;\r\n     because &quot;mappingModelPart&quot; is null \tat\r\n     org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770)\r\n     \tat\r\n     org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)\r\n     \tat\r\n     org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)\r\n     \tat\r\n     org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\r\n     \tat\r\n     org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n     \tat\r\n     org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\r\n     \tat\r\n     org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\r\n     \tat\r\n     org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1156)\r\n     \tat\r\n     org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:931)\r\n     \tat\r\n     org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)\r\n     \tat\r\n     org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)\r\n     \tat\r\n     org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)\r\n     \tat\r\n     org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)\r\n     \tat\r\n     org.springframework.boot.SpringApplication.run(SpringApplication.java:311)\r\n     \tat\r\n     org.springframework.boot.SpringApplication.run(SpringApplication.java:1305)\r\n     \tat\r\n     org.springframework.boot.SpringApplication.run(SpringApplication.java:1294)\r\n     \tat com.frim.backend.application.Application.main(Application.java:23)\r\n     Caused by: jakarta.persistence.PersistenceException: [PersistenceUnit:\r\n     default] Unable to build Hibernate SessionFactory; nested exception is\r\n     java.lang.NullPointerException: Cannot invoke\r\n     &quot;org.hibernate.metamodel.mapping.EmbeddableValuedModelPart.getNavigableRole()&quot;\r\n     because &quot;mappingModelPart&quot; is null \tat\r\n     org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:421)\r\n     \tat\r\n     org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)\r\n     \tat\r\n     org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352)\r\n     \tat\r\n     org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1816)\r\n     \tat\r\n     org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766)\r\n     \t... 16 common frames omitted Caused by:\r\n     java.lang.NullPointerException: Cannot invoke\r\n     &quot;org.hibernate.metamodel.mapping.EmbeddableValuedModelPart.getNavigableRole()&quot;\r\n     because &quot;mappingModelPart&quot; is null \tat\r\n     org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.lambda$registerEmbeddableMappingType$1(MappingMetamodelImpl.java:229)\r\n     \tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511) \tat\r\n     org.hibernate.boot.internal.MetadataImpl.visitRegisteredComponents(MetadataImpl.java:573)\r\n     \tat\r\n     org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.registerEmbeddableMappingType(MappingMetamodelImpl.java:225)\r\n     \tat\r\n     org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.finishInitialization(MappingMetamodelImpl.java:210)\r\n     \tat\r\n     org.hibernate.internal.SessionFactoryImpl.initializeMappingModel(SessionFactoryImpl.java:320)\r\n     \tat\r\n     org.hibernate.internal.SessionFactoryImpl.&lt;init(SessionFactoryImpl.java:270)\r\n     \tat\r\n     org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:431)\r\n     \tat\r\n     org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1455)\r\n     \tat\r\n     org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)\r\n     \tat\r\n     org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)\r\n     \tat\r\n     org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)\r\n     \t... 20 common frames omitted\r\n     \r\n     Process finished with exit code 1\r\n\r\nPrior to this update there was no issue. Is there something new with these versions that could cause this, maybe a new property or extra requirements?\r\n\r\n","title":"Spring 3 with Hibernate 6.2+ Application startup fail - mappingModelPart is null","body":"<p>I have a Java Spring Boot app (Spring boot 3.1.0) for which I am trying to update hibernate for. The reason for the upgrade being that with the older versions I have encountered application braking bugs and wanted to see if the newer versions fix that.\nAny version starting from 6.2.0 seems to crash the app at startup with the following error:</p>\n<pre><code> org.springframework.beans.factory.BeanCreationException: Error\n creating bean with name 'entityManagerFactory' defined in class path\n resource\n [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]:\n [PersistenceUnit: default] Unable to build Hibernate SessionFactory;\n nested exception is java.lang.NullPointerException: Cannot invoke\n &quot;org.hibernate.metamodel.mapping.EmbeddableValuedModelPart.getNavigableRole()&quot;\n because &quot;mappingModelPart&quot; is null     at\n org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770)\n    at\n org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)\n    at\n org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)\n    at\n org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\n    at\n org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at\n org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\n    at\n org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\n    at\n org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1156)\n    at\n org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:931)\n    at\n org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)\n    at\n org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)\n    at\n org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)\n    at\n org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)\n    at\n org.springframework.boot.SpringApplication.run(SpringApplication.java:311)\n    at\n org.springframework.boot.SpringApplication.run(SpringApplication.java:1305)\n    at\n org.springframework.boot.SpringApplication.run(SpringApplication.java:1294)\n    at com.frim.backend.application.Application.main(Application.java:23)\n Caused by: jakarta.persistence.PersistenceException: [PersistenceUnit:\n default] Unable to build Hibernate SessionFactory; nested exception is\n java.lang.NullPointerException: Cannot invoke\n &quot;org.hibernate.metamodel.mapping.EmbeddableValuedModelPart.getNavigableRole()&quot;\n because &quot;mappingModelPart&quot; is null     at\n org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:421)\n    at\n org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)\n    at\n org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352)\n    at\n org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1816)\n    at\n org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766)\n    ... 16 common frames omitted Caused by:\n java.lang.NullPointerException: Cannot invoke\n &quot;org.hibernate.metamodel.mapping.EmbeddableValuedModelPart.getNavigableRole()&quot;\n because &quot;mappingModelPart&quot; is null     at\n org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.lambda$registerEmbeddableMappingType$1(MappingMetamodelImpl.java:229)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)   at\n org.hibernate.boot.internal.MetadataImpl.visitRegisteredComponents(MetadataImpl.java:573)\n    at\n org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.registerEmbeddableMappingType(MappingMetamodelImpl.java:225)\n    at\n org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.finishInitialization(MappingMetamodelImpl.java:210)\n    at\n org.hibernate.internal.SessionFactoryImpl.initializeMappingModel(SessionFactoryImpl.java:320)\n    at\n org.hibernate.internal.SessionFactoryImpl.&lt;init(SessionFactoryImpl.java:270)\n    at\n org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:431)\n    at\n org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1455)\n    at\n org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)\n    at\n org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)\n    at\n org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)\n    ... 20 common frames omitted\n \n Process finished with exit code 1\n</code></pre>\n<p>Prior to this update there was no issue. Is there something new with these versions that could cause this, maybe a new property or extra requirements?</p>\n"},{"tags":["java","recursion","maze"],"answers":[{"tags":[],"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1686554345,"creation_date":1686554345,"answer_id":76454351,"question_id":76453332,"body_markdown":"The main problem is that when one or both of the coordinates become negative (and this **will** happen), your function returns 0 as cost. This is not correct, as zero might be an interesting cost to go for. In this case a search is made outside the maze and that should be made impossible: so return an extreme high cost in that case, not 0.\r\n\r\nThe fix is simple: add an `else` block to your second `if` block:\r\n\r\n    } else return Integer.MAX_VALUE;\r\n\r\nNow it will work for small mazes. (I assume you correctly call your function with `row` and `col` referencing the bottom-right cell in the maze)\r\n\r\nFor larger mazes you will run into a timing problem, since this algorithm will revisit the same sub-paths over and over again. You can solve this by using memoization. ","title":"Min cost in maze traversal using recursion (please find the issue in below mention solution)","body":"<p>The main problem is that when one or both of the coordinates become negative (and this <strong>will</strong> happen), your function returns 0 as cost. This is not correct, as zero might be an interesting cost to go for. In this case a search is made outside the maze and that should be made impossible: so return an extreme high cost in that case, not 0.</p>\n<p>The fix is simple: add an <code>else</code> block to your second <code>if</code> block:</p>\n<pre><code>} else return Integer.MAX_VALUE;\n</code></pre>\n<p>Now it will work for small mazes. (I assume you correctly call your function with <code>row</code> and <code>col</code> referencing the bottom-right cell in the maze)</p>\n<p>For larger mazes you will run into a timing problem, since this algorithm will revisit the same sub-paths over and over again. You can solve this by using memoization.</p>\n"}],"owner":{"account_id":4294309,"reputation":15,"user_id":3509750,"display_name":"Saurabh Pathak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76454351,"answer_count":1,"score":1,"last_activity_date":1686554389,"creation_date":1686537153,"question_id":76453332,"body_markdown":"Please help me in finding that where I am doing the mistake in this solution as my output is coming wrong. thanks in advance.\r\n 1. You are given a number n, representing the number of rows.\r\n 2. You are given a number m, representing the number of columns.\r\n 3. You are given n*m numbers, representing elements of 2d array a, which represents a maze.\r\n 4. You are standing in top-left cell and are required to move to bottom-right cell.\r\n 5. You are allowed to move 1 cell right (h move) or 1 cell down (v move) in 1 motion.\r\n   6. Each cell has a value that will have to be paid to enter that cell (even for the top-left and bottom- \r\n         right cell).\r\n   7. You are required to traverse through the matrix and print the cost of path which is least costly.\r\n    \r\n    // making the recursive call to findMinCost by reducing the row and column and finding the min cost out of that  \r\n    public static int findMinCost(int[][] maze, int row, int col) {\r\n      if(row == 0 &amp;&amp; col == 0) {\r\n        return maze[row][col];\r\n      }\r\n       int cost = 0;\r\n              \t\r\n      if(row &gt;= 0 &amp;&amp; col &gt;=0) {\r\n       cost += Integer.min(findMinCost(maze, row-1, col),findMinCost(maze, row, col- \r\n        1))+maze[row][col];\r\n       }\r\n         return cost;\r\n    }","title":"Min cost in maze traversal using recursion (please find the issue in below mention solution)","body":"<p>Please help me in finding that where I am doing the mistake in this solution as my output is coming wrong. thanks in advance.</p>\n<ol>\n<li>You are given a number n, representing the number of rows.</li>\n<li>You are given a number m, representing the number of columns.</li>\n<li>You are given n*m numbers, representing elements of 2d array a, which represents a maze.</li>\n<li>You are standing in top-left cell and are required to move to bottom-right cell.</li>\n<li>You are allowed to move 1 cell right (h move) or 1 cell down (v move) in 1 motion.</li>\n<li>Each cell has a value that will have to be paid to enter that cell (even for the top-left and bottom-\nright cell).</li>\n<li>You are required to traverse through the matrix and print the cost of path which is least costly.</li>\n</ol>\n<pre><code>// making the recursive call to findMinCost by reducing the row and column and finding the min cost out of that  \npublic static int findMinCost(int[][] maze, int row, int col) {\n  if(row == 0 &amp;&amp; col == 0) {\n    return maze[row][col];\n  }\n   int cost = 0;\n            \n  if(row &gt;= 0 &amp;&amp; col &gt;=0) {\n   cost += Integer.min(findMinCost(maze, row-1, col),findMinCost(maze, row, col- \n    1))+maze[row][col];\n   }\n     return cost;\n}\n</code></pre>\n"},{"tags":["java","spring-boot","spring-security","jwt"],"comments":[{"owner":{"account_id":1448931,"reputation":498,"user_id":1366503,"display_name":"Alok Singh"},"score":0,"creation_date":1591238057,"post_id":62185767,"comment_id":109981984,"body_markdown":"You don’t need 2 different qualifier in AuthenticationManagerBean. You just need to keep same bame and implementation in both the pace as: “@Override\n\t\t@Bean\n\t\tpublic AuthenticationManager authenticationManagerBean() throws Exception {\n\t\t\treturn super.authenticationManagerBean();\n\t\t}“","body":"You don’t need 2 different qualifier in AuthenticationManagerBean. You just need to keep same bame and implementation in both the pace as: “@Override \t\t@Bean \t\tpublic AuthenticationManager authenticationManagerBean() throws Exception { \t\t\treturn super.authenticationManagerBean(); \t\t}“"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1591250223,"post_id":62185767,"comment_id":109984828,"body_markdown":"There should only be 1 authentication manager, but 2 authentication providers. Also do you really need 2 different ones? Why? The logic and everything else looks the same?","body":"There should only be 1 authentication manager, but 2 authentication providers. Also do you really need 2 different ones? Why? The logic and everything else looks the same?"},{"owner":{"account_id":1925414,"reputation":163,"user_id":1735997,"accept_rate":54,"display_name":"Шијаковски Глигор"},"score":0,"creation_date":1591271829,"post_id":62185767,"comment_id":109996033,"body_markdown":"@AlokSingh can you please give me an example? How can I make one bame for both implementations \nThanks for all the help","body":"@AlokSingh can you please give me an example? How can I make one bame for both implementations  Thanks for all the help"},{"owner":{"account_id":1925414,"reputation":163,"user_id":1735997,"accept_rate":54,"display_name":"Шијаковски Глигор"},"score":0,"creation_date":1591271833,"post_id":62185767,"comment_id":109996039,"body_markdown":"@M.Deinum This is only an example for testing purpose. In production i have different information for each user . Can you please tell me how to make 1 authentication manager  for 2 authentication providers? \nThanks for all the help","body":"@M.Deinum This is only an example for testing purpose. In production i have different information for each user . Can you please tell me how to make 1 authentication manager  for 2 authentication providers?  Thanks for all the help"},{"owner":{"account_id":1448931,"reputation":498,"user_id":1366503,"display_name":"Alok Singh"},"score":0,"creation_date":1591277314,"post_id":62185767,"comment_id":109999449,"body_markdown":"I have added my working code in answer section. Let me know if this is not meeting your requirements. In the code we have 2 authentication mechanisms - basic authentication and form login authentication.","body":"I have added my working code in answer section. Let me know if this is not meeting your requirements. In the code we have 2 authentication mechanisms - basic authentication and form login authentication."}],"answers":[{"tags":[],"owner":{"account_id":1448931,"reputation":498,"user_id":1366503,"display_name":"Alok Singh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1591278921,"creation_date":1591276969,"answer_id":62195735,"question_id":62185767,"body_markdown":"The similar requirements implemented below works for me:\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class ServerSecurityConfig {\r\n\r\n        @Configuration\r\n        @Order(1)\r\n\tpublic static class CustomAutorizeURLSecurityConfig extends WebSecurityConfigurerAdapter {\r\n\t\t\r\n\r\n\t\t@Autowired\r\n\t\t@Qualifier(&quot;sudoUserDetailsService&quot;)\r\n\t\tprivate UserDetailsService sudoUserDetailsService;\r\n\t\t\r\n\t\t@Override\r\n\t\t@Bean\r\n\t\tpublic AuthenticationManager authenticationManagerBean() throws Exception {\r\n\t\t\treturn super.authenticationManagerBean();\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tprotected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n\t\t\tauth.userDetailsService(sudoUserDetailsService);\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t        protected void configure(HttpSecurity http) throws Exception {\r\n\t             http.antMatcher(&quot;/oauth/custom_authorize&quot;)\r\n\t        \t.csrf().disable()\r\n\t        \t.authorizeRequests()\r\n\t        \t.anyRequest().authenticated()\r\n\t        \t.and()\r\n\t        \t.httpBasic()\r\n\t            ;\r\n\t        \r\n\t            http\r\n\t        \t.sessionManagement()\r\n\t        \t.sessionCreationPolicy(SessionCreationPolicy.NEVER);\r\n\t    }\r\n\t}\r\n\t\r\n\t@Configuration\r\n        @Order(2)\r\n\t@Import(Encoders.class)\r\n\tpublic static class OtherURLSecurityConfig extends WebSecurityConfigurerAdapter {\r\n\t\t\r\n\t\t@Autowired\r\n\t\t@Qualifier(&quot;customUserDetailsService&quot;)\r\n\t\tprivate UserDetailsService customUserDetailsService;\r\n\r\n\t\t@Autowired\r\n\t\tprivate PasswordEncoder userPasswordEncoder;\r\n\r\n\t\t@Override\r\n\t\t@Bean\r\n\t\tpublic AuthenticationManager authenticationManagerBean() throws Exception {\r\n\t\t\treturn super.authenticationManagerBean();\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tprotected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n\t\t\tauth.userDetailsService(customUserDetailsService).passwordEncoder(userPasswordEncoder);\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t        protected void configure(HttpSecurity http) throws Exception {\r\n\t            http\r\n\t        \t.csrf().disable()\r\n\t        \t.authorizeRequests()\r\n\t        \t\t.antMatchers(&quot;/resources/**&quot;).permitAll()\r\n\t        \t\t.antMatchers(&quot;/shutdown&quot;).permitAll()\r\n\t        \t\t.antMatchers(&quot;/health&quot;).permitAll()\r\n\t        \t\t.antMatchers(&quot;/info&quot;).permitAll()\r\n\t            \t.anyRequest().authenticated()\r\n\t            \t.and()\r\n\t            \t.formLogin()\r\n\t            \t\t.loginPage(&quot;/login&quot;)\r\n\t            \t.permitAll()\r\n\t            ;\r\n\t        \r\n\t            http\r\n\t        \t.sessionManagement()\r\n\t        \t.sessionCreationPolicy(SessionCreationPolicy.NEVER);\r\n\t    }\r\n\t}\r\n    }\r\n\r\nIt implements 2 authentication mechanisms - 1) Basic Authentication and 2) Form Login Authentication ","title":"Spring boot app with two authentication. AuthenticationManager beans problem","body":"<p>The similar requirements implemented below works for me:</p>\n\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class ServerSecurityConfig {\n\n    @Configuration\n    @Order(1)\npublic static class CustomAutorizeURLSecurityConfig extends WebSecurityConfigurerAdapter {\n\n\n    @Autowired\n    @Qualifier(\"sudoUserDetailsService\")\n    private UserDetailsService sudoUserDetailsService;\n\n    @Override\n    @Bean\n    public AuthenticationManager authenticationManagerBean() throws Exception {\n        return super.authenticationManagerBean();\n    }\n\n    @Override\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.userDetailsService(sudoUserDetailsService);\n    }\n\n    @Override\n        protected void configure(HttpSecurity http) throws Exception {\n             http.antMatcher(\"/oauth/custom_authorize\")\n            .csrf().disable()\n            .authorizeRequests()\n            .anyRequest().authenticated()\n            .and()\n            .httpBasic()\n            ;\n\n            http\n            .sessionManagement()\n            .sessionCreationPolicy(SessionCreationPolicy.NEVER);\n    }\n}\n\n@Configuration\n    @Order(2)\n@Import(Encoders.class)\npublic static class OtherURLSecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Autowired\n    @Qualifier(\"customUserDetailsService\")\n    private UserDetailsService customUserDetailsService;\n\n    @Autowired\n    private PasswordEncoder userPasswordEncoder;\n\n    @Override\n    @Bean\n    public AuthenticationManager authenticationManagerBean() throws Exception {\n        return super.authenticationManagerBean();\n    }\n\n    @Override\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.userDetailsService(customUserDetailsService).passwordEncoder(userPasswordEncoder);\n    }\n\n    @Override\n        protected void configure(HttpSecurity http) throws Exception {\n            http\n            .csrf().disable()\n            .authorizeRequests()\n                .antMatchers(\"/resources/**\").permitAll()\n                .antMatchers(\"/shutdown\").permitAll()\n                .antMatchers(\"/health\").permitAll()\n                .antMatchers(\"/info\").permitAll()\n                .anyRequest().authenticated()\n                .and()\n                .formLogin()\n                    .loginPage(\"/login\")\n                .permitAll()\n            ;\n\n            http\n            .sessionManagement()\n            .sessionCreationPolicy(SessionCreationPolicy.NEVER);\n    }\n}\n}\n</code></pre>\n\n<p>It implements 2 authentication mechanisms - 1) Basic Authentication and 2) Form Login Authentication </p>\n"},{"tags":[],"owner":{"account_id":1925414,"reputation":163,"user_id":1735997,"accept_rate":54,"display_name":"Шијаковски Глигор"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1591280287,"creation_date":1591279884,"answer_id":62196796,"question_id":62185767,"body_markdown":"my config:\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    @EnableGlobalMethodSecurity(prePostEnabled = true, securedEnabled = true)\r\n    public class SecurityConfiguration{\r\n    \r\n    \t@Configuration\r\n    \t@Order(1)\r\n    \tpublic static class SecurityConfig1 extends WebSecurityConfigurerAdapter {\r\n    \r\n    \t\t@Autowired\r\n    \t\t@Qualifier(&quot;customUserDetailsService&quot;)\r\n    \t\tCustomUserDetailsService customUserDetailsService;\r\n    \r\n    \t\t@Autowired\r\n    \t\tprivate JwtAuthenticationEntryPoint unauthorizedHandler;\r\n    \r\n    \t\t@Bean\r\n    \t\tpublic JwtAuthenticationFilter jwtAuthenticationFilter() {\r\n    \t\t\treturn new JwtAuthenticationFilter();\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic void configure(AuthenticationManagerBuilder authenticationManagerBuilder) throws Exception {\r\n    \t\t\tauthenticationManagerBuilder\r\n    \t\t\t\t\t.userDetailsService(customUserDetailsService)\r\n    \t\t\t\t\t.passwordEncoder(passwordEncoder());\r\n    \t\t}\r\n    \r\n    \t\t@Bean()\r\n    \t\t@Override\r\n    \t\tpublic AuthenticationManager authenticationManagerBean() throws Exception {\r\n    \t\t\treturn super.authenticationManagerBean();\r\n    \t\t}\r\n    \r\n    \t\t@Bean\r\n    \t\tpublic PasswordEncoder passwordEncoder() {\r\n    \t\t\treturn new BCryptPasswordEncoder();\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tprotected void configure(HttpSecurity http) throws Exception {\r\n    \t\t\thttp\r\n    \t\t\t\t\t.cors()\r\n    \t\t\t\t\t.and()\r\n    \t\t\t\t\t.csrf()\r\n    \t\t\t\t\t.disable()\r\n    \t\t\t\t\t.exceptionHandling()\r\n    \t\t\t\t\t.authenticationEntryPoint(unauthorizedHandler)\r\n    \t\t\t\t\t.and()\r\n    \t\t\t\t\t.sessionManagement()\r\n    \t\t\t\t\t.sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n    \t\t\t\t\t.and()\r\n    \t\t\t\t\t.authorizeRequests()\r\n    \t\t\t\t\t.antMatchers(&quot;/&quot;,\r\n    \t\t\t\t\t\t\t&quot;/favicon.ico&quot;,\r\n    \t\t\t\t\t\t\t&quot;/**/*.png&quot;,\r\n    \t\t\t\t\t\t\t&quot;/**/*.gif&quot;,\r\n    \t\t\t\t\t\t\t&quot;/**/*.svg&quot;,\r\n    \t\t\t\t\t\t\t&quot;/**/*.jpg&quot;,\r\n    \t\t\t\t\t\t\t&quot;/**/*.html&quot;,\r\n    \t\t\t\t\t\t\t&quot;/**/*.css&quot;,\r\n    \t\t\t\t\t\t\t&quot;/**/*.js&quot;)\r\n    \t\t\t\t\t.permitAll()\r\n    \t\t\t\t\t.antMatchers(&quot;/api/user/auth/**&quot;)\r\n    \t\t\t\t\t.permitAll()\r\n    \t\t\t\t\t.anyRequest()\r\n    \t\t\t\t\t.authenticated();\r\n    \r\n    \t\t\t// Add our custom JWT security filter\r\n    \t\t\thttp.addFilterBefore(jwtAuthenticationFilter(), UsernamePasswordAuthenticationFilter.class);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t@Configuration\r\n    \t@Order(2)\r\n    \tpublic static class SecurityConfig2 extends WebSecurityConfigurerAdapter {\r\n    \r\n    \t\t@Autowired\r\n    \t\t@Qualifier(&quot;customUser1DetailsService&quot;)\r\n    \t\tCustomUser1DetailsService customUser1DetailsService;\r\n    \r\n    \t\t@Autowired\r\n    \t\tprivate JwtAuthenticationEntryPoint1 unauthorizedHandler1;\r\n    \r\n    \t\t@Bean\r\n    \t\tpublic JwtAuthenticationFilter1 jwtAuthenticationFilter1() {\r\n    \t\t\treturn new JwtAuthenticationFilter1();\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic void configure(AuthenticationManagerBuilder authenticationManagerBuilder1) throws Exception {\r\n    \t\t\tauthenticationManagerBuilder1\r\n    \t\t\t\t\t.userDetailsService(customUser1DetailsService)\r\n    \t\t\t\t\t.passwordEncoder(passwordEncoder1());\r\n    \t\t}\r\n    \r\n    \t\t@Bean\r\n    \t\t@Override\r\n    \t\tpublic AuthenticationManager authenticationManagerBean() throws Exception {\r\n    \t\t\treturn super.authenticationManagerBean();\r\n    \t\t}\r\n    \r\n    \t\t@Bean\r\n    \t\tpublic PasswordEncoder passwordEncoder1() {\r\n    \t\t\treturn new BCryptPasswordEncoder();\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tprotected void configure(HttpSecurity http) throws Exception {\r\n    \t\t\thttp\r\n    \t\t\t\t\t.cors()\r\n    \t\t\t\t\t.and()\r\n    \t\t\t\t\t.csrf()\r\n    \t\t\t\t\t.disable()\r\n    \t\t\t\t\t.exceptionHandling()\r\n    \t\t\t\t\t.authenticationEntryPoint(unauthorizedHandler1)\r\n    \t\t\t\t\t.and()\r\n    \t\t\t\t\t.sessionManagement()\r\n    \t\t\t\t\t.sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n    \t\t\t\t\t.and()\r\n    \t\t\t\t\t.authorizeRequests()\r\n    \t\t\t\t\t.antMatchers(&quot;/&quot;,\r\n    \t\t\t\t\t\t\t&quot;/favicon.ico&quot;,\r\n    \t\t\t\t\t\t\t&quot;/**/*.png&quot;,\r\n    \t\t\t\t\t\t\t&quot;/**/*.gif&quot;,\r\n    \t\t\t\t\t\t\t&quot;/**/*.svg&quot;,\r\n    \t\t\t\t\t\t\t&quot;/**/*.jpg&quot;,\r\n    \t\t\t\t\t\t\t&quot;/**/*.html&quot;,\r\n    \t\t\t\t\t\t\t&quot;/**/*.css&quot;,\r\n    \t\t\t\t\t\t\t&quot;/**/*.js&quot;)\r\n    \t\t\t\t\t.permitAll()\r\n    \t\t\t\t\t.antMatchers(&quot;/api/node/auth/**&quot;)\r\n    \t\t\t\t\t.permitAll()\r\n    \t\t\t\t\t.anyRequest()\r\n    \t\t\t\t\t.authenticated();\r\n    \r\n    \t\t\t// Add our custom JWT security filter\r\n    \t\t\thttp.addFilterBefore(jwtAuthenticationFilter1(), UsernamePasswordAuthenticationFilter.class);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nand my user controller:\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/api/user/auth&quot;)\r\n    public class UserAuthController {\r\n    \r\n    \t@Autowired\r\n    \tprivate  UserRepository userRepository;\r\n    \r\n    \t@Autowired\r\n    \tprivate  RoleRepository roleRepository;\r\n    \r\n    \t@Autowired\r\n    \tprivate  PasswordEncoder passwordEncoder;\r\n    \r\n    \t@Autowired\r\n        private  AuthenticationManager authenticationManager; //problem is here \r\n    \r\n    \t@Autowired\r\n    \tprivate  JwtTokenProvider tokenProvider;\r\n    \r\n    \tpublic UserAuthController() {\r\n    \t}\r\n    \r\n    \t@PostMapping(path = &quot;/registerUser&quot;)\r\n    \tpublic ResponseEntity&lt;?&gt; registerUser(@Valid @RequestBody SignUpRequest signUpRequest) {\r\n    \t\tif (userRepository.existsByEmail(signUpRequest.getEmail())) {\r\n    \t\t\treturn new ResponseEntity(new ApiResponse(false, &quot;Email Address already taken&quot;), HttpStatus.BAD_REQUEST);\r\n    \t\t}\r\n    \r\n    \t\tif (userRepository.existsByUsername(signUpRequest.getUsername())) {\r\n    \t\t\treturn new ResponseEntity(new ApiResponse(false, &quot;Username already taken&quot;), HttpStatus.BAD_REQUEST);\r\n    \t\t}\r\n    \r\n    \t\t// Creating User\r\n    \t\tUser user = new User(signUpRequest.getUsername(), signUpRequest.getEmail(), passwordEncoder.encode(signUpRequest.getPassword()),\r\n    \t\t\t\tsignUpRequest.getFirstName(), signUpRequest.getMiddleName(), signUpRequest.getLastName());\r\n    \r\n    //\t\tRole userRole = roleRepo.findByName(RoleName.ROLE_USER)\r\n    //\t\t\t\t.orElseThrow(() -&gt; new AppException(&quot;User Role not set.&quot;));\r\n    //\r\n    //\t\tRole adminRole = roleRepo.findByName(RoleName.ROLE_ADMIN)\r\n    //\t\t\t\t.orElseThrow(() -&gt; new AppException(&quot;User Role not set.&quot;));\r\n    //\r\n    //\t\tSet&lt;Role&gt; rules = new HashSet&lt;&gt;();\r\n    //\t\trules.add(userRole);\r\n    //\t\trules.add(adminRole);\r\n    //\t\tuser.setRoles(rules);\r\n    \r\n    \t\tUser result = userRepository.save(user);\r\n    \r\n    \t\treturn ResponseEntity.ok(result);\r\n    \t}\r\n    \t\r\n    \t@PostMapping(&quot;/authenticateUser&quot;)\r\n        public ResponseEntity&lt;?&gt; authenticateUser(@Valid @RequestBody LoginRequest loginRequest) {\r\n    \t\ttry {\r\n            Authentication authentication = authenticationManager.authenticate(\r\n                    new UsernamePasswordAuthenticationToken(\r\n                            loginRequest.getUsernameOrEmail(),\r\n                            loginRequest.getPassword()\r\n                    )\r\n            );\r\n            SecurityContextHolder.getContext().setAuthentication(authentication);\r\n            String accessToken = tokenProvider.generateAccessToken(authentication);\r\n    \t\treturn ResponseEntity.ok(new JwtAuthenticationResponse(accessToken,tokenProvider.getIssuedDateFromAccessToken(accessToken),tokenProvider.getExpirationDateFromAccessToken(accessToken)));\r\n    \t\t} catch (BadCredentialsException exception) {\r\n    \t\t\tthrow new BadRequestException(&quot;Wrong username or password!&quot;);\r\n    \t\t}\r\n    \t}\r\n    \r\n    }\r\n\r\nnode controler:\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/api/node/auth&quot;)\r\n    public class NodeAuthController {\r\n    \r\n    \t@Autowired\r\n    \tprivate User1Repository user1Repository;\r\n    \r\n    \t@Autowired\r\n    \tprivate Role1Repository role1Repository;\r\n    \r\n    \t@Autowired\r\n    \tprivate  PasswordEncoder passwordEncoder;\r\n    \r\n    \t@Autowired\r\n        private  AuthenticationManager authenticationManager1;\r\n    \r\n    \t@Autowired\r\n    \tprivate JwtTokenProvider1 tokenProvider1;\r\n    \r\n    \t@PostMapping(path = &quot;/registerNode&quot;)\r\n    \tpublic ResponseEntity&lt;?&gt; registerUser(@Valid @RequestBody SignUpRequest signUpRequest) {\r\n    \t\tif (user1Repository.existsByEmail(signUpRequest.getEmail())) {\r\n    \t\t\treturn new ResponseEntity(new ApiResponse(false, &quot;Email Address already taken&quot;), HttpStatus.BAD_REQUEST);\r\n    \t\t}\r\n    \r\n    \t\tif (user1Repository.existsByUsername(signUpRequest.getUsername())) {\r\n    \t\t\treturn new ResponseEntity(new ApiResponse(false, &quot;Username already taken&quot;), HttpStatus.BAD_REQUEST);\r\n    \t\t}\r\n    \r\n    \t\t// Creating User\r\n    \t\tUser1 user1 = new User1(signUpRequest.getUsername(), signUpRequest.getEmail(), passwordEncoder.encode(signUpRequest.getPassword()),\r\n    \t\t\t\tsignUpRequest.getFirstName(), signUpRequest.getMiddleName(), signUpRequest.getLastName());\r\n    \r\n    //\t\tRole userRole = roleRepo.findByName(RoleName.ROLE_USER)\r\n    //\t\t\t\t.orElseThrow(() -&gt; new AppException(&quot;User Role not set.&quot;));\r\n    //\r\n    //\t\tRole adminRole = roleRepo.findByName(RoleName.ROLE_ADMIN)\r\n    //\t\t\t\t.orElseThrow(() -&gt; new AppException(&quot;User Role not set.&quot;));\r\n    //\r\n    //\t\tSet&lt;Role&gt; rules = new HashSet&lt;&gt;();\r\n    //\t\trules.add(userRole);\r\n    //\t\trules.add(adminRole);\r\n    //\t\tuser.setRoles(rules);\r\n    \r\n    \t\tUser1 result = user1Repository.save(user1);\r\n    \r\n    \t\treturn ResponseEntity.ok(result);\r\n    \t}\r\n    \t\r\n    \t@PostMapping(&quot;/authenticateNode&quot;)\r\n        public ResponseEntity&lt;?&gt; authenticateUser(@Valid @RequestBody LoginRequest loginRequest) {\r\n    \t\ttry {\r\n            Authentication authentication = authenticationManager1.authenticate(\r\n                    new UsernamePasswordAuthenticationToken(\r\n                            loginRequest.getUsernameOrEmail(),\r\n                            loginRequest.getPassword()\r\n                    )\r\n            );\r\n            SecurityContextHolder.getContext().setAuthentication(authentication);\r\n            String accessToken = tokenProvider1.generateAccessToken(authentication);\r\n    \t\treturn ResponseEntity.ok(new JwtAuthenticationResponse(accessToken,tokenProvider1.getIssuedDateFromAccessToken(accessToken),tokenProvider1.getExpirationDateFromAccessToken(accessToken)));\r\n    \t\t} catch (BadCredentialsException exception) {\r\n    \t\t\tthrow new BadRequestException(&quot;Wrong username or password!&quot;);\r\n    \t\t}\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\nIf i add @Primary on one of the beans and beans is with different name code is working but only for the primary bean another bean is not use ant vot that controller auth is wrong.\r\nif no @Primary annotation i get error:java.lang.RuntimeException: java.lang.IllegalArgumentException: Found 2 beans for type interface org.springframework.security.authentication.AuthenticationManager, but none marked as primary\r\n \r\n","title":"Spring boot app with two authentication. AuthenticationManager beans problem","body":"<p>my config:</p>\n\n<pre><code>@Configuration\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(prePostEnabled = true, securedEnabled = true)\npublic class SecurityConfiguration{\n\n    @Configuration\n    @Order(1)\n    public static class SecurityConfig1 extends WebSecurityConfigurerAdapter {\n\n        @Autowired\n        @Qualifier(\"customUserDetailsService\")\n        CustomUserDetailsService customUserDetailsService;\n\n        @Autowired\n        private JwtAuthenticationEntryPoint unauthorizedHandler;\n\n        @Bean\n        public JwtAuthenticationFilter jwtAuthenticationFilter() {\n            return new JwtAuthenticationFilter();\n        }\n\n        @Override\n        public void configure(AuthenticationManagerBuilder authenticationManagerBuilder) throws Exception {\n            authenticationManagerBuilder\n                    .userDetailsService(customUserDetailsService)\n                    .passwordEncoder(passwordEncoder());\n        }\n\n        @Bean()\n        @Override\n        public AuthenticationManager authenticationManagerBean() throws Exception {\n            return super.authenticationManagerBean();\n        }\n\n        @Bean\n        public PasswordEncoder passwordEncoder() {\n            return new BCryptPasswordEncoder();\n        }\n\n        @Override\n        protected void configure(HttpSecurity http) throws Exception {\n            http\n                    .cors()\n                    .and()\n                    .csrf()\n                    .disable()\n                    .exceptionHandling()\n                    .authenticationEntryPoint(unauthorizedHandler)\n                    .and()\n                    .sessionManagement()\n                    .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n                    .and()\n                    .authorizeRequests()\n                    .antMatchers(\"/\",\n                            \"/favicon.ico\",\n                            \"/**/*.png\",\n                            \"/**/*.gif\",\n                            \"/**/*.svg\",\n                            \"/**/*.jpg\",\n                            \"/**/*.html\",\n                            \"/**/*.css\",\n                            \"/**/*.js\")\n                    .permitAll()\n                    .antMatchers(\"/api/user/auth/**\")\n                    .permitAll()\n                    .anyRequest()\n                    .authenticated();\n\n            // Add our custom JWT security filter\n            http.addFilterBefore(jwtAuthenticationFilter(), UsernamePasswordAuthenticationFilter.class);\n        }\n    }\n\n    @Configuration\n    @Order(2)\n    public static class SecurityConfig2 extends WebSecurityConfigurerAdapter {\n\n        @Autowired\n        @Qualifier(\"customUser1DetailsService\")\n        CustomUser1DetailsService customUser1DetailsService;\n\n        @Autowired\n        private JwtAuthenticationEntryPoint1 unauthorizedHandler1;\n\n        @Bean\n        public JwtAuthenticationFilter1 jwtAuthenticationFilter1() {\n            return new JwtAuthenticationFilter1();\n        }\n\n        @Override\n        public void configure(AuthenticationManagerBuilder authenticationManagerBuilder1) throws Exception {\n            authenticationManagerBuilder1\n                    .userDetailsService(customUser1DetailsService)\n                    .passwordEncoder(passwordEncoder1());\n        }\n\n        @Bean\n        @Override\n        public AuthenticationManager authenticationManagerBean() throws Exception {\n            return super.authenticationManagerBean();\n        }\n\n        @Bean\n        public PasswordEncoder passwordEncoder1() {\n            return new BCryptPasswordEncoder();\n        }\n\n        @Override\n        protected void configure(HttpSecurity http) throws Exception {\n            http\n                    .cors()\n                    .and()\n                    .csrf()\n                    .disable()\n                    .exceptionHandling()\n                    .authenticationEntryPoint(unauthorizedHandler1)\n                    .and()\n                    .sessionManagement()\n                    .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n                    .and()\n                    .authorizeRequests()\n                    .antMatchers(\"/\",\n                            \"/favicon.ico\",\n                            \"/**/*.png\",\n                            \"/**/*.gif\",\n                            \"/**/*.svg\",\n                            \"/**/*.jpg\",\n                            \"/**/*.html\",\n                            \"/**/*.css\",\n                            \"/**/*.js\")\n                    .permitAll()\n                    .antMatchers(\"/api/node/auth/**\")\n                    .permitAll()\n                    .anyRequest()\n                    .authenticated();\n\n            // Add our custom JWT security filter\n            http.addFilterBefore(jwtAuthenticationFilter1(), UsernamePasswordAuthenticationFilter.class);\n        }\n    }\n}\n</code></pre>\n\n<p>and my user controller:</p>\n\n<pre><code>@RestController\n@RequestMapping(\"/api/user/auth\")\npublic class UserAuthController {\n\n    @Autowired\n    private  UserRepository userRepository;\n\n    @Autowired\n    private  RoleRepository roleRepository;\n\n    @Autowired\n    private  PasswordEncoder passwordEncoder;\n\n    @Autowired\n    private  AuthenticationManager authenticationManager; //problem is here \n\n    @Autowired\n    private  JwtTokenProvider tokenProvider;\n\n    public UserAuthController() {\n    }\n\n    @PostMapping(path = \"/registerUser\")\n    public ResponseEntity&lt;?&gt; registerUser(@Valid @RequestBody SignUpRequest signUpRequest) {\n        if (userRepository.existsByEmail(signUpRequest.getEmail())) {\n            return new ResponseEntity(new ApiResponse(false, \"Email Address already taken\"), HttpStatus.BAD_REQUEST);\n        }\n\n        if (userRepository.existsByUsername(signUpRequest.getUsername())) {\n            return new ResponseEntity(new ApiResponse(false, \"Username already taken\"), HttpStatus.BAD_REQUEST);\n        }\n\n        // Creating User\n        User user = new User(signUpRequest.getUsername(), signUpRequest.getEmail(), passwordEncoder.encode(signUpRequest.getPassword()),\n                signUpRequest.getFirstName(), signUpRequest.getMiddleName(), signUpRequest.getLastName());\n\n//      Role userRole = roleRepo.findByName(RoleName.ROLE_USER)\n//              .orElseThrow(() -&gt; new AppException(\"User Role not set.\"));\n//\n//      Role adminRole = roleRepo.findByName(RoleName.ROLE_ADMIN)\n//              .orElseThrow(() -&gt; new AppException(\"User Role not set.\"));\n//\n//      Set&lt;Role&gt; rules = new HashSet&lt;&gt;();\n//      rules.add(userRole);\n//      rules.add(adminRole);\n//      user.setRoles(rules);\n\n        User result = userRepository.save(user);\n\n        return ResponseEntity.ok(result);\n    }\n\n    @PostMapping(\"/authenticateUser\")\n    public ResponseEntity&lt;?&gt; authenticateUser(@Valid @RequestBody LoginRequest loginRequest) {\n        try {\n        Authentication authentication = authenticationManager.authenticate(\n                new UsernamePasswordAuthenticationToken(\n                        loginRequest.getUsernameOrEmail(),\n                        loginRequest.getPassword()\n                )\n        );\n        SecurityContextHolder.getContext().setAuthentication(authentication);\n        String accessToken = tokenProvider.generateAccessToken(authentication);\n        return ResponseEntity.ok(new JwtAuthenticationResponse(accessToken,tokenProvider.getIssuedDateFromAccessToken(accessToken),tokenProvider.getExpirationDateFromAccessToken(accessToken)));\n        } catch (BadCredentialsException exception) {\n            throw new BadRequestException(\"Wrong username or password!\");\n        }\n    }\n\n}\n</code></pre>\n\n<p>node controler:</p>\n\n<pre><code>@RestController\n@RequestMapping(\"/api/node/auth\")\npublic class NodeAuthController {\n\n    @Autowired\n    private User1Repository user1Repository;\n\n    @Autowired\n    private Role1Repository role1Repository;\n\n    @Autowired\n    private  PasswordEncoder passwordEncoder;\n\n    @Autowired\n    private  AuthenticationManager authenticationManager1;\n\n    @Autowired\n    private JwtTokenProvider1 tokenProvider1;\n\n    @PostMapping(path = \"/registerNode\")\n    public ResponseEntity&lt;?&gt; registerUser(@Valid @RequestBody SignUpRequest signUpRequest) {\n        if (user1Repository.existsByEmail(signUpRequest.getEmail())) {\n            return new ResponseEntity(new ApiResponse(false, \"Email Address already taken\"), HttpStatus.BAD_REQUEST);\n        }\n\n        if (user1Repository.existsByUsername(signUpRequest.getUsername())) {\n            return new ResponseEntity(new ApiResponse(false, \"Username already taken\"), HttpStatus.BAD_REQUEST);\n        }\n\n        // Creating User\n        User1 user1 = new User1(signUpRequest.getUsername(), signUpRequest.getEmail(), passwordEncoder.encode(signUpRequest.getPassword()),\n                signUpRequest.getFirstName(), signUpRequest.getMiddleName(), signUpRequest.getLastName());\n\n//      Role userRole = roleRepo.findByName(RoleName.ROLE_USER)\n//              .orElseThrow(() -&gt; new AppException(\"User Role not set.\"));\n//\n//      Role adminRole = roleRepo.findByName(RoleName.ROLE_ADMIN)\n//              .orElseThrow(() -&gt; new AppException(\"User Role not set.\"));\n//\n//      Set&lt;Role&gt; rules = new HashSet&lt;&gt;();\n//      rules.add(userRole);\n//      rules.add(adminRole);\n//      user.setRoles(rules);\n\n        User1 result = user1Repository.save(user1);\n\n        return ResponseEntity.ok(result);\n    }\n\n    @PostMapping(\"/authenticateNode\")\n    public ResponseEntity&lt;?&gt; authenticateUser(@Valid @RequestBody LoginRequest loginRequest) {\n        try {\n        Authentication authentication = authenticationManager1.authenticate(\n                new UsernamePasswordAuthenticationToken(\n                        loginRequest.getUsernameOrEmail(),\n                        loginRequest.getPassword()\n                )\n        );\n        SecurityContextHolder.getContext().setAuthentication(authentication);\n        String accessToken = tokenProvider1.generateAccessToken(authentication);\n        return ResponseEntity.ok(new JwtAuthenticationResponse(accessToken,tokenProvider1.getIssuedDateFromAccessToken(accessToken),tokenProvider1.getExpirationDateFromAccessToken(accessToken)));\n        } catch (BadCredentialsException exception) {\n            throw new BadRequestException(\"Wrong username or password!\");\n        }\n    }\n\n}\n</code></pre>\n\n<p>If i add @Primary on one of the beans and beans is with different name code is working but only for the primary bean another bean is not use ant vot that controller auth is wrong.\nif no @Primary annotation i get error:java.lang.RuntimeException: java.lang.IllegalArgumentException: Found 2 beans for type interface org.springframework.security.authentication.AuthenticationManager, but none marked as primary</p>\n"},{"tags":[],"owner":{"account_id":6764196,"reputation":21,"user_id":5209702,"display_name":"Krishna"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686553349,"creation_date":1686553349,"answer_id":76454261,"question_id":62185767,"body_markdown":"I started getting the same errors with my Grails application. \r\n\r\nThe desired authentication manager in my case was oauth2AuthenticationManager. Adding this line in \r\nspring/resources.groovy at the end of all bean definitions fixed the problem.\r\n\r\n```\r\nspringConfig.getBeanConfig(&quot;oauth2AuthenticationManager&quot;).getBeanDefinition().setPrimary(true)\r\n```","title":"Spring boot app with two authentication. AuthenticationManager beans problem","body":"<p>I started getting the same errors with my Grails application.</p>\n<p>The desired authentication manager in my case was oauth2AuthenticationManager. Adding this line in\nspring/resources.groovy at the end of all bean definitions fixed the problem.</p>\n<pre><code>springConfig.getBeanConfig(&quot;oauth2AuthenticationManager&quot;).getBeanDefinition().setPrimary(true)\n</code></pre>\n"}],"owner":{"account_id":1925414,"reputation":163,"user_id":1735997,"accept_rate":54,"display_name":"Шијаковски Глигор"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1748,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":62195735,"answer_count":3,"score":1,"last_activity_date":1686553349,"creation_date":1591236777,"question_id":62185767,"body_markdown":"I need spring boot app with two different login/register endpoints one is api/user/auth/registerUser and api/node/auth/registerNode.\r\n\r\nI write the code but now i have two authenticationManagerBean see config:\r\n\r\n    @EnableWebSecurity\r\n    @EnableGlobalMethodSecurity(prePostEnabled = true, securedEnabled = true)\r\n    public class SecurityConfiguration {\r\n    \r\n    \t@Configuration\r\n    \t@Order(1)\r\n    \tpublic class SecurityConfig1 extends WebSecurityConfigurerAdapter {\r\n    \r\n    \t\t@Autowired\r\n    \t\tCustomUserDetailsService customUserDetailsService;\r\n    \r\n    \t\t@Autowired\r\n    \t\tprivate JwtAuthenticationEntryPoint unauthorizedHandler;\r\n    \r\n    \t\t@Bean\r\n    \t\tpublic JwtAuthenticationFilter jwtAuthenticationFilter() {\r\n    \t\t\treturn new JwtAuthenticationFilter();\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic void configure(AuthenticationManagerBuilder authenticationManagerBuilder) throws Exception {\r\n    \t\t\tauthenticationManagerBuilder\r\n    \t\t\t\t\t.userDetailsService(customUserDetailsService)\r\n    \t\t\t\t\t.passwordEncoder(passwordEncoder());\r\n    \t\t}\r\n    \r\n    \t\t@Bean(&quot;authenticationManager&quot;)\r\n    \t\t@Qualifier(&quot;authenticationManager&quot;)\r\n    \t\t@Override\r\n    \t\tpublic AuthenticationManager authenticationManagerBean() throws Exception {\r\n    \t\t\treturn super.authenticationManagerBean();\r\n    \t\t}\r\n    \r\n    \t\t@Bean\r\n    \t\tpublic PasswordEncoder passwordEncoder() {\r\n    \t\t\treturn new BCryptPasswordEncoder();\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tprotected void configure(HttpSecurity http) throws Exception {\r\n    \t\t\thttp\r\n    \t\t\t\t\t.cors()\r\n    \t\t\t\t\t.and()\r\n    \t\t\t\t\t.csrf()\r\n    \t\t\t\t\t.disable()\r\n    \t\t\t\t\t.exceptionHandling()\r\n    \t\t\t\t\t.authenticationEntryPoint(unauthorizedHandler)\r\n    \t\t\t\t\t.and()\r\n    \t\t\t\t\t.sessionManagement()\r\n    \t\t\t\t\t.sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n    \t\t\t\t\t.and()\r\n    \t\t\t\t\t.authorizeRequests()\r\n    \t\t\t\t\t.antMatchers(&quot;/&quot;,\r\n    \t\t\t\t\t\t\t&quot;/favicon.ico&quot;,\r\n    \t\t\t\t\t\t\t&quot;/**/*.png&quot;,\r\n    \t\t\t\t\t\t\t&quot;/**/*.gif&quot;,\r\n    \t\t\t\t\t\t\t&quot;/**/*.svg&quot;,\r\n    \t\t\t\t\t\t\t&quot;/**/*.jpg&quot;,\r\n    \t\t\t\t\t\t\t&quot;/**/*.html&quot;,\r\n    \t\t\t\t\t\t\t&quot;/**/*.css&quot;,\r\n    \t\t\t\t\t\t\t&quot;/**/*.js&quot;)\r\n    \t\t\t\t\t.permitAll()\r\n    \t\t\t\t\t.antMatchers(&quot;/api/user/auth/**&quot;)\r\n    \t\t\t\t\t.permitAll()\r\n    \t\t\t\t\t.anyRequest()\r\n    \t\t\t\t\t.authenticated();\r\n    \r\n    \t\t\t// Add our custom JWT security filter\r\n    \t\t\thttp.addFilterBefore(jwtAuthenticationFilter(), UsernamePasswordAuthenticationFilter.class);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t@Configuration\r\n    \t@Order(2)\r\n    \tpublic class SecurityConfig2 extends WebSecurityConfigurerAdapter {\r\n    \r\n    \t\t@Autowired\r\n    \t\tCustomUser1DetailsService customUser1DetailsService;\r\n    \r\n    \t\t@Autowired\r\n    \t\tprivate JwtAuthenticationEntryPoint1 unauthorizedHandler1;\r\n    \r\n    \t\t@Bean\r\n    \t\tpublic JwtAuthenticationFilter1 jwtAuthenticationFilter1() {\r\n    \t\t\treturn new JwtAuthenticationFilter1();\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic void configure(AuthenticationManagerBuilder authenticationManagerBuilder1) throws Exception {\r\n    \t\t\tauthenticationManagerBuilder1\r\n    \t\t\t\t\t.userDetailsService(customUser1DetailsService)\r\n    \t\t\t\t\t.passwordEncoder(passwordEncoder1());\r\n    \t\t}\r\n    \r\n    \t\t@Bean(&quot;authenticationManager1&quot;)\r\n    \t\t@Qualifier(&quot;authenticationManager1&quot;)\r\n    \t\t@Override\r\n    \t\tpublic AuthenticationManager authenticationManagerBean() throws Exception {\r\n    \t\t\treturn super.authenticationManagerBean();\r\n    \t\t}\r\n    \r\n    \t\t@Bean\r\n    \t\tpublic PasswordEncoder passwordEncoder1() {\r\n    \t\t\treturn new BCryptPasswordEncoder();\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tprotected void configure(HttpSecurity http) throws Exception {\r\n    \t\t\thttp\r\n    \t\t\t\t\t.cors()\r\n    \t\t\t\t\t.and()\r\n    \t\t\t\t\t.csrf()\r\n    \t\t\t\t\t.disable()\r\n    \t\t\t\t\t.exceptionHandling()\r\n    \t\t\t\t\t.authenticationEntryPoint(unauthorizedHandler1)\r\n    \t\t\t\t\t.and()\r\n    \t\t\t\t\t.sessionManagement()\r\n    \t\t\t\t\t.sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n    \t\t\t\t\t.and()\r\n    \t\t\t\t\t.authorizeRequests()\r\n    \t\t\t\t\t.antMatchers(&quot;/&quot;,\r\n    \t\t\t\t\t\t\t&quot;/favicon.ico&quot;,\r\n    \t\t\t\t\t\t\t&quot;/**/*.png&quot;,\r\n    \t\t\t\t\t\t\t&quot;/**/*.gif&quot;,\r\n    \t\t\t\t\t\t\t&quot;/**/*.svg&quot;,\r\n    \t\t\t\t\t\t\t&quot;/**/*.jpg&quot;,\r\n    \t\t\t\t\t\t\t&quot;/**/*.html&quot;,\r\n    \t\t\t\t\t\t\t&quot;/**/*.css&quot;,\r\n    \t\t\t\t\t\t\t&quot;/**/*.js&quot;)\r\n    \t\t\t\t\t.permitAll()\r\n    \t\t\t\t\t.antMatchers(&quot;/api/node/auth/**&quot;)\r\n    \t\t\t\t\t.permitAll()\r\n    \t\t\t\t\t.anyRequest()\r\n    \t\t\t\t\t.authenticated();\r\n    \r\n    \t\t\t// Add our custom JWT security filter\r\n    \t\t\thttp.addFilterBefore(jwtAuthenticationFilter1(), UsernamePasswordAuthenticationFilter.class);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n\r\nand i make user controler:\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/api/user/auth&quot;)\r\n    public class UserAuthController {\r\n    \r\n    \t@Autowired\r\n    \tprivate  UserRepository userRepository;\r\n    \r\n    \t@Autowired\r\n    \tprivate  RoleRepository roleRepository;\r\n    \r\n    \t@Autowired\r\n    \tprivate  PasswordEncoder passwordEncoder;\r\n    \r\n    \t@Autowired\r\n    \t@Qualifier(&quot;authenticationManager&quot;)\r\n        private  AuthenticationManager authenticationManager;\r\n    \r\n    \t@Autowired\r\n    \tprivate  JwtTokenProvider tokenProvider;\r\n    \r\n    \tpublic UserAuthController() {\r\n    \t}\r\n    \r\n    \t@PostMapping(path = &quot;/registerUser&quot;)\r\n    \tpublic ResponseEntity&lt;?&gt; registerUser(@Valid @RequestBody SignUpRequest signUpRequest) {\r\n    \t\tif (userRepository.existsByEmail(signUpRequest.getEmail())) {\r\n    \t\t\treturn new ResponseEntity(new ApiResponse(false, &quot;Email Address already taken&quot;), HttpStatus.BAD_REQUEST);\r\n    \t\t}\r\n    \r\n    \t\tif (userRepository.existsByUsername(signUpRequest.getUsername())) {\r\n    \t\t\treturn new ResponseEntity(new ApiResponse(false, &quot;Username already taken&quot;), HttpStatus.BAD_REQUEST);\r\n    \t\t}\r\n    \r\n    \t\t// Creating User\r\n    \t\tUser user = new User(signUpRequest.getUsername(), signUpRequest.getEmail(), passwordEncoder.encode(signUpRequest.getPassword()),\r\n    \t\t\t\tsignUpRequest.getFirstName(), signUpRequest.getMiddleName(), signUpRequest.getLastName());\r\n    \r\n    //\t\tRole userRole = roleRepo.findByName(RoleName.ROLE_USER)\r\n    //\t\t\t\t.orElseThrow(() -&gt; new AppException(&quot;User Role not set.&quot;));\r\n    //\r\n    //\t\tRole adminRole = roleRepo.findByName(RoleName.ROLE_ADMIN)\r\n    //\t\t\t\t.orElseThrow(() -&gt; new AppException(&quot;User Role not set.&quot;));\r\n    //\r\n    //\t\tSet&lt;Role&gt; rules = new HashSet&lt;&gt;();\r\n    //\t\trules.add(userRole);\r\n    //\t\trules.add(adminRole);\r\n    //\t\tuser.setRoles(rules);\r\n    \r\n    \t\tUser result = userRepository.save(user);\r\n    \r\n    \t\treturn ResponseEntity.ok(result);\r\n    \t}\r\n    \t\r\n    \t@PostMapping(&quot;/authenticateUser&quot;)\r\n        public ResponseEntity&lt;?&gt; authenticateUser(@Valid @RequestBody LoginRequest loginRequest) {\r\n    \t\ttry {\r\n            Authentication authentication = authenticationManager.authenticate(\r\n                    new UsernamePasswordAuthenticationToken(\r\n                            loginRequest.getUsernameOrEmail(),\r\n                            loginRequest.getPassword()\r\n                    )\r\n            );\r\n            SecurityContextHolder.getContext().setAuthentication(authentication);\r\n            String accessToken = tokenProvider.generateAccessToken(authentication);\r\n    \t\treturn ResponseEntity.ok(new JwtAuthenticationResponse(accessToken,tokenProvider.getIssuedDateFromAccessToken(accessToken),tokenProvider.getExpirationDateFromAccessToken(accessToken)));\r\n    \t\t} catch (BadCredentialsException exception) {\r\n    \t\t\tthrow new BadRequestException(&quot;Wrong username or password!&quot;);\r\n    \t\t}\r\n    \t}\r\n    \r\n    }\r\n\r\nand node controler:\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/api/node/auth&quot;)\r\n    public class NodeAuthController {\r\n    \r\n    \t@Autowired\r\n    \tprivate User1Repository user1Repository;\r\n    \r\n    \t@Autowired\r\n    \tprivate Role1Repository role1Repository;\r\n    \r\n    \t@Autowired\r\n    \tprivate  PasswordEncoder passwordEncoder;\r\n    \r\n    \t@Autowired\r\n    \t@Qualifier(&quot;authenticationManager1&quot;)\r\n        private  AuthenticationManager authenticationManager1;\r\n    \r\n    \t@Autowired\r\n    \tprivate JwtTokenProvider1 tokenProvider1;\r\n    \r\n    \t@PostMapping(path = &quot;/registerNode&quot;)\r\n    \tpublic ResponseEntity&lt;?&gt; registerUser(@Valid @RequestBody SignUpRequest signUpRequest) {\r\n    \t\tif (user1Repository.existsByEmail(signUpRequest.getEmail())) {\r\n    \t\t\treturn new ResponseEntity(new ApiResponse(false, &quot;Email Address already taken&quot;), HttpStatus.BAD_REQUEST);\r\n    \t\t}\r\n    \r\n    \t\tif (user1Repository.existsByUsername(signUpRequest.getUsername())) {\r\n    \t\t\treturn new ResponseEntity(new ApiResponse(false, &quot;Username already taken&quot;), HttpStatus.BAD_REQUEST);\r\n    \t\t}\r\n    \r\n    \t\t// Creating User\r\n    \t\tUser1 user1 = new User1(signUpRequest.getUsername(), signUpRequest.getEmail(), passwordEncoder.encode(signUpRequest.getPassword()),\r\n    \t\t\t\tsignUpRequest.getFirstName(), signUpRequest.getMiddleName(), signUpRequest.getLastName());\r\n    \r\n    //\t\tRole userRole = roleRepo.findByName(RoleName.ROLE_USER)\r\n    //\t\t\t\t.orElseThrow(() -&gt; new AppException(&quot;User Role not set.&quot;));\r\n    //\r\n    //\t\tRole adminRole = roleRepo.findByName(RoleName.ROLE_ADMIN)\r\n    //\t\t\t\t.orElseThrow(() -&gt; new AppException(&quot;User Role not set.&quot;));\r\n    //\r\n    //\t\tSet&lt;Role&gt; rules = new HashSet&lt;&gt;();\r\n    //\t\trules.add(userRole);\r\n    //\t\trules.add(adminRole);\r\n    //\t\tuser.setRoles(rules);\r\n    \r\n    \t\tUser1 result = user1Repository.save(user1);\r\n    \r\n    \t\treturn ResponseEntity.ok(result);\r\n    \t}\r\n    \t\r\n    \t@PostMapping(&quot;/authenticateNode&quot;)\r\n        public ResponseEntity&lt;?&gt; authenticateUser(@Valid @RequestBody LoginRequest loginRequest) {\r\n    \t\ttry {\r\n            Authentication authentication = authenticationManager1.authenticate(\r\n                    new UsernamePasswordAuthenticationToken(\r\n                            loginRequest.getUsernameOrEmail(),\r\n                            loginRequest.getPassword()\r\n                    )\r\n            );\r\n            SecurityContextHolder.getContext().setAuthentication(authentication);\r\n            String accessToken = tokenProvider1.generateAccessToken(authentication);\r\n    \t\treturn ResponseEntity.ok(new JwtAuthenticationResponse(accessToken,tokenProvider1.getIssuedDateFromAccessToken(accessToken),tokenProvider1.getExpirationDateFromAccessToken(accessToken)));\r\n    \t\t} catch (BadCredentialsException exception) {\r\n    \t\t\tthrow new BadRequestException(&quot;Wrong username or password!&quot;);\r\n    \t\t}\r\n    \t}\r\n    \r\n    }\r\n\r\nError is:java.lang.RuntimeException: java.lang.IllegalArgumentException: Found 2 beans for type interface org.springframework.security.authentication.AuthenticationManager, but none marked as primary\r\n\r\nIf I make one primary code is run but for controler that is not primary response is \r\n\r\n    {\r\n        &quot;timestamp&quot;: &quot;2020-06-04T03:45:45.638+02:00&quot;,\r\n        &quot;status&quot;: 401,\r\n        &quot;error&quot;: &quot;Unauthorized&quot;,\r\n        &quot;message&quot;: &quot;&quot;,\r\n        &quot;path&quot;: &quot;/api/node/auth/registerNode&quot;\r\n    }\r\n\r\nHow to make this work?\r\nThanks for all your help\r\n","title":"Spring boot app with two authentication. AuthenticationManager beans problem","body":"<p>I need spring boot app with two different login/register endpoints one is api/user/auth/registerUser and api/node/auth/registerNode.</p>\n\n<p>I write the code but now i have two authenticationManagerBean see config:</p>\n\n<pre><code>@EnableWebSecurity\n@EnableGlobalMethodSecurity(prePostEnabled = true, securedEnabled = true)\npublic class SecurityConfiguration {\n\n    @Configuration\n    @Order(1)\n    public class SecurityConfig1 extends WebSecurityConfigurerAdapter {\n\n        @Autowired\n        CustomUserDetailsService customUserDetailsService;\n\n        @Autowired\n        private JwtAuthenticationEntryPoint unauthorizedHandler;\n\n        @Bean\n        public JwtAuthenticationFilter jwtAuthenticationFilter() {\n            return new JwtAuthenticationFilter();\n        }\n\n        @Override\n        public void configure(AuthenticationManagerBuilder authenticationManagerBuilder) throws Exception {\n            authenticationManagerBuilder\n                    .userDetailsService(customUserDetailsService)\n                    .passwordEncoder(passwordEncoder());\n        }\n\n        @Bean(\"authenticationManager\")\n        @Qualifier(\"authenticationManager\")\n        @Override\n        public AuthenticationManager authenticationManagerBean() throws Exception {\n            return super.authenticationManagerBean();\n        }\n\n        @Bean\n        public PasswordEncoder passwordEncoder() {\n            return new BCryptPasswordEncoder();\n        }\n\n        @Override\n        protected void configure(HttpSecurity http) throws Exception {\n            http\n                    .cors()\n                    .and()\n                    .csrf()\n                    .disable()\n                    .exceptionHandling()\n                    .authenticationEntryPoint(unauthorizedHandler)\n                    .and()\n                    .sessionManagement()\n                    .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n                    .and()\n                    .authorizeRequests()\n                    .antMatchers(\"/\",\n                            \"/favicon.ico\",\n                            \"/**/*.png\",\n                            \"/**/*.gif\",\n                            \"/**/*.svg\",\n                            \"/**/*.jpg\",\n                            \"/**/*.html\",\n                            \"/**/*.css\",\n                            \"/**/*.js\")\n                    .permitAll()\n                    .antMatchers(\"/api/user/auth/**\")\n                    .permitAll()\n                    .anyRequest()\n                    .authenticated();\n\n            // Add our custom JWT security filter\n            http.addFilterBefore(jwtAuthenticationFilter(), UsernamePasswordAuthenticationFilter.class);\n        }\n    }\n\n    @Configuration\n    @Order(2)\n    public class SecurityConfig2 extends WebSecurityConfigurerAdapter {\n\n        @Autowired\n        CustomUser1DetailsService customUser1DetailsService;\n\n        @Autowired\n        private JwtAuthenticationEntryPoint1 unauthorizedHandler1;\n\n        @Bean\n        public JwtAuthenticationFilter1 jwtAuthenticationFilter1() {\n            return new JwtAuthenticationFilter1();\n        }\n\n        @Override\n        public void configure(AuthenticationManagerBuilder authenticationManagerBuilder1) throws Exception {\n            authenticationManagerBuilder1\n                    .userDetailsService(customUser1DetailsService)\n                    .passwordEncoder(passwordEncoder1());\n        }\n\n        @Bean(\"authenticationManager1\")\n        @Qualifier(\"authenticationManager1\")\n        @Override\n        public AuthenticationManager authenticationManagerBean() throws Exception {\n            return super.authenticationManagerBean();\n        }\n\n        @Bean\n        public PasswordEncoder passwordEncoder1() {\n            return new BCryptPasswordEncoder();\n        }\n\n        @Override\n        protected void configure(HttpSecurity http) throws Exception {\n            http\n                    .cors()\n                    .and()\n                    .csrf()\n                    .disable()\n                    .exceptionHandling()\n                    .authenticationEntryPoint(unauthorizedHandler1)\n                    .and()\n                    .sessionManagement()\n                    .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n                    .and()\n                    .authorizeRequests()\n                    .antMatchers(\"/\",\n                            \"/favicon.ico\",\n                            \"/**/*.png\",\n                            \"/**/*.gif\",\n                            \"/**/*.svg\",\n                            \"/**/*.jpg\",\n                            \"/**/*.html\",\n                            \"/**/*.css\",\n                            \"/**/*.js\")\n                    .permitAll()\n                    .antMatchers(\"/api/node/auth/**\")\n                    .permitAll()\n                    .anyRequest()\n                    .authenticated();\n\n            // Add our custom JWT security filter\n            http.addFilterBefore(jwtAuthenticationFilter1(), UsernamePasswordAuthenticationFilter.class);\n        }\n    }\n}\n</code></pre>\n\n<p>and i make user controler:</p>\n\n<pre><code>@RestController\n@RequestMapping(\"/api/user/auth\")\npublic class UserAuthController {\n\n    @Autowired\n    private  UserRepository userRepository;\n\n    @Autowired\n    private  RoleRepository roleRepository;\n\n    @Autowired\n    private  PasswordEncoder passwordEncoder;\n\n    @Autowired\n    @Qualifier(\"authenticationManager\")\n    private  AuthenticationManager authenticationManager;\n\n    @Autowired\n    private  JwtTokenProvider tokenProvider;\n\n    public UserAuthController() {\n    }\n\n    @PostMapping(path = \"/registerUser\")\n    public ResponseEntity&lt;?&gt; registerUser(@Valid @RequestBody SignUpRequest signUpRequest) {\n        if (userRepository.existsByEmail(signUpRequest.getEmail())) {\n            return new ResponseEntity(new ApiResponse(false, \"Email Address already taken\"), HttpStatus.BAD_REQUEST);\n        }\n\n        if (userRepository.existsByUsername(signUpRequest.getUsername())) {\n            return new ResponseEntity(new ApiResponse(false, \"Username already taken\"), HttpStatus.BAD_REQUEST);\n        }\n\n        // Creating User\n        User user = new User(signUpRequest.getUsername(), signUpRequest.getEmail(), passwordEncoder.encode(signUpRequest.getPassword()),\n                signUpRequest.getFirstName(), signUpRequest.getMiddleName(), signUpRequest.getLastName());\n\n//      Role userRole = roleRepo.findByName(RoleName.ROLE_USER)\n//              .orElseThrow(() -&gt; new AppException(\"User Role not set.\"));\n//\n//      Role adminRole = roleRepo.findByName(RoleName.ROLE_ADMIN)\n//              .orElseThrow(() -&gt; new AppException(\"User Role not set.\"));\n//\n//      Set&lt;Role&gt; rules = new HashSet&lt;&gt;();\n//      rules.add(userRole);\n//      rules.add(adminRole);\n//      user.setRoles(rules);\n\n        User result = userRepository.save(user);\n\n        return ResponseEntity.ok(result);\n    }\n\n    @PostMapping(\"/authenticateUser\")\n    public ResponseEntity&lt;?&gt; authenticateUser(@Valid @RequestBody LoginRequest loginRequest) {\n        try {\n        Authentication authentication = authenticationManager.authenticate(\n                new UsernamePasswordAuthenticationToken(\n                        loginRequest.getUsernameOrEmail(),\n                        loginRequest.getPassword()\n                )\n        );\n        SecurityContextHolder.getContext().setAuthentication(authentication);\n        String accessToken = tokenProvider.generateAccessToken(authentication);\n        return ResponseEntity.ok(new JwtAuthenticationResponse(accessToken,tokenProvider.getIssuedDateFromAccessToken(accessToken),tokenProvider.getExpirationDateFromAccessToken(accessToken)));\n        } catch (BadCredentialsException exception) {\n            throw new BadRequestException(\"Wrong username or password!\");\n        }\n    }\n\n}\n</code></pre>\n\n<p>and node controler:</p>\n\n<pre><code>@RestController\n@RequestMapping(\"/api/node/auth\")\npublic class NodeAuthController {\n\n    @Autowired\n    private User1Repository user1Repository;\n\n    @Autowired\n    private Role1Repository role1Repository;\n\n    @Autowired\n    private  PasswordEncoder passwordEncoder;\n\n    @Autowired\n    @Qualifier(\"authenticationManager1\")\n    private  AuthenticationManager authenticationManager1;\n\n    @Autowired\n    private JwtTokenProvider1 tokenProvider1;\n\n    @PostMapping(path = \"/registerNode\")\n    public ResponseEntity&lt;?&gt; registerUser(@Valid @RequestBody SignUpRequest signUpRequest) {\n        if (user1Repository.existsByEmail(signUpRequest.getEmail())) {\n            return new ResponseEntity(new ApiResponse(false, \"Email Address already taken\"), HttpStatus.BAD_REQUEST);\n        }\n\n        if (user1Repository.existsByUsername(signUpRequest.getUsername())) {\n            return new ResponseEntity(new ApiResponse(false, \"Username already taken\"), HttpStatus.BAD_REQUEST);\n        }\n\n        // Creating User\n        User1 user1 = new User1(signUpRequest.getUsername(), signUpRequest.getEmail(), passwordEncoder.encode(signUpRequest.getPassword()),\n                signUpRequest.getFirstName(), signUpRequest.getMiddleName(), signUpRequest.getLastName());\n\n//      Role userRole = roleRepo.findByName(RoleName.ROLE_USER)\n//              .orElseThrow(() -&gt; new AppException(\"User Role not set.\"));\n//\n//      Role adminRole = roleRepo.findByName(RoleName.ROLE_ADMIN)\n//              .orElseThrow(() -&gt; new AppException(\"User Role not set.\"));\n//\n//      Set&lt;Role&gt; rules = new HashSet&lt;&gt;();\n//      rules.add(userRole);\n//      rules.add(adminRole);\n//      user.setRoles(rules);\n\n        User1 result = user1Repository.save(user1);\n\n        return ResponseEntity.ok(result);\n    }\n\n    @PostMapping(\"/authenticateNode\")\n    public ResponseEntity&lt;?&gt; authenticateUser(@Valid @RequestBody LoginRequest loginRequest) {\n        try {\n        Authentication authentication = authenticationManager1.authenticate(\n                new UsernamePasswordAuthenticationToken(\n                        loginRequest.getUsernameOrEmail(),\n                        loginRequest.getPassword()\n                )\n        );\n        SecurityContextHolder.getContext().setAuthentication(authentication);\n        String accessToken = tokenProvider1.generateAccessToken(authentication);\n        return ResponseEntity.ok(new JwtAuthenticationResponse(accessToken,tokenProvider1.getIssuedDateFromAccessToken(accessToken),tokenProvider1.getExpirationDateFromAccessToken(accessToken)));\n        } catch (BadCredentialsException exception) {\n            throw new BadRequestException(\"Wrong username or password!\");\n        }\n    }\n\n}\n</code></pre>\n\n<p>Error is:java.lang.RuntimeException: java.lang.IllegalArgumentException: Found 2 beans for type interface org.springframework.security.authentication.AuthenticationManager, but none marked as primary</p>\n\n<p>If I make one primary code is run but for controler that is not primary response is </p>\n\n<pre><code>{\n    \"timestamp\": \"2020-06-04T03:45:45.638+02:00\",\n    \"status\": 401,\n    \"error\": \"Unauthorized\",\n    \"message\": \"\",\n    \"path\": \"/api/node/auth/registerNode\"\n}\n</code></pre>\n\n<p>How to make this work?\nThanks for all your help</p>\n"},{"tags":["java","visual-studio-code","debugging","vscode-debugger"],"comments":[{"owner":{"account_id":21841051,"reputation":411,"user_id":16134571,"display_name":"Aaron Liu"},"score":0,"creation_date":1686420798,"post_id":76445533,"comment_id":134797528,"body_markdown":"Have you installed the [Debugger for Java](https://marketplace.visualstudio.com/items?itemName=vscjava.vscode-java-debug) extension?","body":"Have you installed the <a href=\"https://marketplace.visualstudio.com/items?itemName=vscjava.vscode-java-debug\" rel=\"nofollow noreferrer\">Debugger for Java</a> extension?"},{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1688088046,"post_id":76445533,"comment_id":135030331,"body_markdown":"May I know what&#39;s going on with the problem? If it has been solved, can you change the status of the answer to help more people with similar problems.","body":"May I know what&#39;s going on with the problem? If it has been solved, can you change the status of the answer to help more people with similar problems."}],"answers":[{"tags":[],"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686553212,"creation_date":1686553212,"answer_id":76454249,"question_id":76445533,"body_markdown":"You need to start debugging from the **Run and Debug** panel using the green button, so that the configuration in *launch.json* will be used. You can select the debug configuration in *launch.json* in the drop-down menu.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nYou can also use `Run --&gt; Start Debugging` to start debugging.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/TJAaE.png\r\n  [2]: https://i.stack.imgur.com/ddeyB.png","title":"VS Code debug not stopping on breakpoints","body":"<p>You need to start debugging from the <strong>Run and Debug</strong> panel using the green button, so that the configuration in <em>launch.json</em> will be used. You can select the debug configuration in <em>launch.json</em> in the drop-down menu.</p>\n<p><a href=\"https://i.stack.imgur.com/TJAaE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TJAaE.png\" alt=\"enter image description here\" /></a></p>\n<p>You can also use <code>Run --&gt; Start Debugging</code> to start debugging.</p>\n<p><a href=\"https://i.stack.imgur.com/ddeyB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ddeyB.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":28792621,"reputation":1,"user_id":22051551,"display_name":"Javier Rodr&#237;guez"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":249,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686553212,"creation_date":1686388158,"question_id":76445533,"body_markdown":"I&#39;m new to using VS Code as I&#39;ve always used Eclipse IDE.\r\nI&#39;m trying to debug my java file in which I&#39;ve created a breakpoint, but the debugger just runs the code as if there wasn&#39;t such a breakpoint.\r\n\r\nI&#39;ve seen some other people struggle with this, so here&#39;s my launch.json:\r\n\r\n```\r\n{\r\n    // Use IntelliSense to learn about possible attributes.\r\n    // Hover to view descriptions of existing attributes.\r\n    // For more information, visit: https://go.microsoft.com/fwlink/?linkid=830387\r\n    &quot;version&quot;: &quot;0.2.0&quot;,\r\n    &quot;configurations&quot;: [\r\n        {\r\n            &quot;name&quot;: &quot;Java&quot;,\r\n            &quot;type&quot;: &quot;java&quot;,\r\n            &quot;request&quot;: &quot;launch&quot;,\r\n            &quot;stopOnEntry&quot;: true,\r\n            &quot;jdkPath&quot;: &quot;${env:JAVA_HOME}/bin&quot;,\r\n            &quot;cwd&quot;: &quot;${fileDirname}&quot;,\r\n            &quot;startupClass&quot;: &quot;${fileBasenameNoExtension}&quot;,\r\n            &quot;classpath&quot;: [\r\n                &quot;.&quot;,\r\n                &quot;${fileDirname}&quot;\r\n            ]\r\n        },\r\n        {\r\n            &quot;name&quot;: &quot;Java Console App&quot;,\r\n            &quot;type&quot;: &quot;java&quot;,\r\n            &quot;request&quot;: &quot;launch&quot;,\r\n            &quot;stopOnEntry&quot;: true,\r\n            &quot;jdkPath&quot;: &quot;${env:JAVA_HOME}/bin&quot;,\r\n            &quot;cwd&quot;: &quot;${fileDirname}&quot;,\r\n            &quot;startupClass&quot;: &quot;${fileBasenameNoExtension}&quot;,\r\n            &quot;classpath&quot;: [\r\n                &quot;.&quot;,\r\n                &quot;${fileDirname}&quot;\r\n            ],\r\n            &quot;externalConsole&quot;: true\r\n        },\r\n        {\r\n            &quot;type&quot;: &quot;java&quot;,\r\n            &quot;name&quot;: &quot;Current File&quot;,\r\n            &quot;request&quot;: &quot;launch&quot;,\r\n            &quot;mainClass&quot;: &quot;${file}&quot;\r\n        },\r\n        {\r\n            &quot;type&quot;: &quot;java&quot;,\r\n            &quot;name&quot;: &quot;Numeros&quot;,\r\n            &quot;request&quot;: &quot;launch&quot;,\r\n            &quot;mainClass&quot;: &quot;Numeros&quot;,\r\n            &quot;projectName&quot;: &quot;progra_4bad0bd0&quot;\r\n        }\r\n    ]\r\n}\r\n```\r\n\r\nI&#39;ve tried using other jdk (right now I&#39;m using Oracle) but it doesn&#39;t work","title":"VS Code debug not stopping on breakpoints","body":"<p>I'm new to using VS Code as I've always used Eclipse IDE.\nI'm trying to debug my java file in which I've created a breakpoint, but the debugger just runs the code as if there wasn't such a breakpoint.</p>\n<p>I've seen some other people struggle with this, so here's my launch.json:</p>\n<pre><code>{\n    // Use IntelliSense to learn about possible attributes.\n    // Hover to view descriptions of existing attributes.\n    // For more information, visit: https://go.microsoft.com/fwlink/?linkid=830387\n    &quot;version&quot;: &quot;0.2.0&quot;,\n    &quot;configurations&quot;: [\n        {\n            &quot;name&quot;: &quot;Java&quot;,\n            &quot;type&quot;: &quot;java&quot;,\n            &quot;request&quot;: &quot;launch&quot;,\n            &quot;stopOnEntry&quot;: true,\n            &quot;jdkPath&quot;: &quot;${env:JAVA_HOME}/bin&quot;,\n            &quot;cwd&quot;: &quot;${fileDirname}&quot;,\n            &quot;startupClass&quot;: &quot;${fileBasenameNoExtension}&quot;,\n            &quot;classpath&quot;: [\n                &quot;.&quot;,\n                &quot;${fileDirname}&quot;\n            ]\n        },\n        {\n            &quot;name&quot;: &quot;Java Console App&quot;,\n            &quot;type&quot;: &quot;java&quot;,\n            &quot;request&quot;: &quot;launch&quot;,\n            &quot;stopOnEntry&quot;: true,\n            &quot;jdkPath&quot;: &quot;${env:JAVA_HOME}/bin&quot;,\n            &quot;cwd&quot;: &quot;${fileDirname}&quot;,\n            &quot;startupClass&quot;: &quot;${fileBasenameNoExtension}&quot;,\n            &quot;classpath&quot;: [\n                &quot;.&quot;,\n                &quot;${fileDirname}&quot;\n            ],\n            &quot;externalConsole&quot;: true\n        },\n        {\n            &quot;type&quot;: &quot;java&quot;,\n            &quot;name&quot;: &quot;Current File&quot;,\n            &quot;request&quot;: &quot;launch&quot;,\n            &quot;mainClass&quot;: &quot;${file}&quot;\n        },\n        {\n            &quot;type&quot;: &quot;java&quot;,\n            &quot;name&quot;: &quot;Numeros&quot;,\n            &quot;request&quot;: &quot;launch&quot;,\n            &quot;mainClass&quot;: &quot;Numeros&quot;,\n            &quot;projectName&quot;: &quot;progra_4bad0bd0&quot;\n        }\n    ]\n}\n</code></pre>\n<p>I've tried using other jdk (right now I'm using Oracle) but it doesn't work</p>\n"},{"tags":["java","ear","ejb-3.1","wildfly-21"],"owner":{"account_id":503016,"reputation":111,"user_id":1049141,"accept_rate":50,"display_name":"user82504"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686553164,"creation_date":1686290882,"question_id":76437626,"body_markdown":"I am new bee with wildfly and deployment. I have a small application running inside wildfly container. I have a requirement to deploy it in hash. I am using Wildfly final version 21. I have exported an EAR file from eclipse. What I have done is that placed an EAR file in standalone/deplyments folder. I have also changed my standalone-full.xml by putting deployments tag under server tag\r\n\r\n    &lt;deployments&gt;\r\n            &lt;deployment name=&quot;EjbEAR.ear&quot; runtime-name=&quot;EjbEAR.ear&quot;&gt;\r\n                &lt;content sha1=&quot;Hex Hash will be here&quot;/&gt;\r\n            &lt;/deployment&gt;\r\n    &lt;/deployments&gt;\r\n\r\n\r\nThe problem is that when I run the server, I get an error that create dodeploy file first and then server stops. Can anyone tell me that what I am doing wrong here?\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/sOCrX.png","title":"Deploy encrypted EAR file in wildfly","body":"<p>I am new bee with wildfly and deployment. I have a small application running inside wildfly container. I have a requirement to deploy it in hash. I am using Wildfly final version 21. I have exported an EAR file from eclipse. What I have done is that placed an EAR file in standalone/deplyments folder. I have also changed my standalone-full.xml by putting deployments tag under server tag</p>\n<pre><code>&lt;deployments&gt;\n        &lt;deployment name=&quot;EjbEAR.ear&quot; runtime-name=&quot;EjbEAR.ear&quot;&gt;\n            &lt;content sha1=&quot;Hex Hash will be here&quot;/&gt;\n        &lt;/deployment&gt;\n&lt;/deployments&gt;\n</code></pre>\n<p>The problem is that when I run the server, I get an error that create dodeploy file first and then server stops. Can anyone tell me that what I am doing wrong here?</p>\n<p><a href=\"https://i.stack.imgur.com/sOCrX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sOCrX.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring-batch"],"comments":[{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":0,"creation_date":1686197347,"post_id":76428501,"comment_id":134766908,"body_markdown":"I don’t believe you can use Spring batch without a db.","body":"I don’t believe you can use Spring batch without a db."},{"owner":{"account_id":384402,"reputation":1902,"user_id":740888,"display_name":"httPants"},"score":2,"creation_date":1686200750,"post_id":76428501,"comment_id":134767218,"body_markdown":"&quot;due to some reason my organization is not letting me use in memory database&quot; - that&#39;s your real problem.","body":"&quot;due to some reason my organization is not letting me use in memory database&quot; - that&#39;s your real problem."},{"owner":{"account_id":13192155,"reputation":43,"user_id":9528166,"display_name":"Rishabh"},"score":0,"creation_date":1686206930,"post_id":76428501,"comment_id":134768037,"body_markdown":"So, with Spring 6 we cant use Spring Batch without DB??","body":"So, with Spring 6 we cant use Spring Batch without DB??"},{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1686207925,"post_id":76428501,"comment_id":134768228,"body_markdown":"Its either memory or database, otherwise how would it keep track of the job statuses, metadata?  Also look at https://stackoverflow.com/questions/25077549/spring-batch-without-persisting-metadata-to-database perhaps something might help","body":"Its either memory or database, otherwise how would it keep track of the job statuses, metadata?  Also look at <a href=\"https://stackoverflow.com/questions/25077549/spring-batch-without-persisting-metadata-to-database\" title=\"spring batch without persisting metadata to database\">stackoverflow.com/questions/25077549/&hellip;</a> perhaps something might help"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1686553695,"post_id":76428501,"comment_id":134808557,"body_markdown":"you &quot;just&quot; need to implement (and configure) [`JobRepository`](https://github.com/spring-projects/spring-batch/blob/main/spring-batch-core/src/main/java/org/springframework/batch/core/repository/JobRepository.java) ..and though it&#39;s &quot;forbidden&quot;/outdated/&quot;deleted&quot;, i think we can *very good* lean on an older impl [e.g. v4.3.8](https://github.com/spring-projects/spring-batch/blob/4.3.8/spring-batch-core/src/main/java/org/springframework/batch/core/repository/support/SimpleJobRepository.java)","body":"you &quot;just&quot; need to implement (and configure) <a href=\"https://github.com/spring-projects/spring-batch/blob/main/spring-batch-core/src/main/java/org/springframework/batch/core/repository/JobRepository.java\" rel=\"nofollow noreferrer\"><code>JobRepository</code></a> ..and though it&#39;s &quot;forbidden&quot;/outdated/&quot;deleted&quot;, i think we can <i>very good</i> lean on an older impl <a href=\"https://github.com/spring-projects/spring-batch/blob/4.3.8/spring-batch-core/src/main/java/org/springframework/batch/core/repository/support/SimpleJobRepository.java\" rel=\"nofollow noreferrer\">e.g. v4.3.8</a>"}],"answers":[{"tags":[],"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686552741,"creation_date":1686552741,"answer_id":76454207,"question_id":76428501,"body_markdown":"&gt; I don&#39;t want my application to have any dependency on DB and due to some reason my organization is not letting me use in memory database\r\n\r\nIf you don&#39;t want or can&#39;t use an in-memory database, then you have to provide your own implementation of the `JobRepository` interface and use it with your jobs and steps.","title":"Spring Batch without DB in Spring 6","body":"<blockquote>\n<p>I don't want my application to have any dependency on DB and due to some reason my organization is not letting me use in memory database</p>\n</blockquote>\n<p>If you don't want or can't use an in-memory database, then you have to provide your own implementation of the <code>JobRepository</code> interface and use it with your jobs and steps.</p>\n"}],"owner":{"account_id":13192155,"reputation":43,"user_id":9528166,"display_name":"Rishabh"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":641,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1686552741,"creation_date":1686196250,"question_id":76428501,"body_markdown":"I am using Spring Batch in my application, till Spring 4 we could use Map based job repository so it didn&#39;t have DB dependency. But recently we migrated to Spring 6 in which Spring has removed Map based repository. This is from their documentation:\r\n\r\n*“Historically, Spring Batch provided a map-based job repository and job explorer implementations to work with an in-memory job repository. These implementations were deprecated in version 4 and completely removed in version 5. The recommended replacement is to use the JDBC-based implementations with an embedded database, such as H2, HSQL, and others”*\r\n\r\nI don&#39;t want my application to have any dependency on DB and due to some reason my organization is not letting me use in memory database. Is there any way we can remove this dependency on DB in Spring Batch for latest version.\r\n\r\nI have tried using H2 and MySql. Both are working fine but not able to figure out a way to work without any JDBC.","title":"Spring Batch without DB in Spring 6","body":"<p>I am using Spring Batch in my application, till Spring 4 we could use Map based job repository so it didn't have DB dependency. But recently we migrated to Spring 6 in which Spring has removed Map based repository. This is from their documentation:</p>\n<p><em>“Historically, Spring Batch provided a map-based job repository and job explorer implementations to work with an in-memory job repository. These implementations were deprecated in version 4 and completely removed in version 5. The recommended replacement is to use the JDBC-based implementations with an embedded database, such as H2, HSQL, and others”</em></p>\n<p>I don't want my application to have any dependency on DB and due to some reason my organization is not letting me use in memory database. Is there any way we can remove this dependency on DB in Spring Batch for latest version.</p>\n<p>I have tried using H2 and MySql. Both are working fine but not able to figure out a way to work without any JDBC.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9617,"page":375,"page_size":100}
