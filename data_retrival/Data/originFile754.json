{"items":[{"tags":["java","hadoop","mapreduce","hadoop-yarn","druid"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1672928770,"post_id":75016402,"comment_id":132387050,"body_markdown":"If the data is small, why do you need 4-6GB of memory per mapreduce task to process it?","body":"If the data is small, why do you need 4-6GB of memory per mapreduce task to process it?"},{"owner":{"account_id":13258181,"reputation":153,"user_id":9573581,"display_name":"Harpsichord1207"},"score":0,"creation_date":1672975860,"post_id":75016402,"comment_id":132399403,"body_markdown":"@OneCricketeer in production the data size may be larger, like 5GB data to ingest per task. Here I try to use a small file to make sure the problem is not caused by data size.","body":"@OneCricketeer in production the data size may be larger, like 5GB data to ingest per task. Here I try to use a small file to make sure the problem is not caused by data size."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1673016112,"post_id":75016402,"comment_id":132408827,"body_markdown":"Sure, but files are broken into chunks up to 128 MB by mapreduce, by default, assuming that the file is splitable, so the size of the entire file isn&#39;t relevant. That being said, what happens when you halve each of those memory settings?","body":"Sure, but files are broken into chunks up to 128 MB by mapreduce, by default, assuming that the file is splitable, so the size of the entire file isn&#39;t relevant. That being said, what happens when you halve each of those memory settings?"}],"owner":{"account_id":13258181,"reputation":153,"user_id":9573581,"display_name":"Harpsichord1207"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672911568,"creation_date":1672911568,"question_id":75016402,"body_markdown":"I&#39;m using Apache Druid to ingest data(type: index_hadoop), but the index task failed, there&#39;s no useful infomation in index log. Then I find the MR application(application name: OELandingType-determine_partitions_hashed-Optional.of([2022-12-25T00:00:00.000Z/20222-12-26T00:00:00.000Z], OELandingType is my druid datasource name)) was failed, the error in yarn log says:\r\n```\r\n2023-01-05 17:04:55,291 INFO [main] org.apache.hadoop.mapreduce.v2.app.job.impl.JobImpl: Adding job token for job_1672909107121_0001 to jobTokenSecretManager\r\n2023-01-05 17:04:55,349 INFO [main] org.apache.hadoop.mapreduce.v2.app.job.impl.JobImpl: Not uberizing job_1672909107121_0001 because: too many reduces;\r\n2023-01-05 17:04:55,397 INFO [main] org.apache.hadoop.mapreduce.v2.app.job.impl.JobImpl: Input size for job job_1672909107121_0001 = 115735. Number of splits = 1\r\n2023-01-05 17:08:51,299 FATAL [main] org.apache.hadoop.mapreduce.v2.app.MRAppMaster: Error starting MRAppMaster\r\njava.lang.OutOfMemoryError: GC overhead limit exceeded\r\n\tat java.util.concurrent.locks.ReentrantReadWriteLock.&lt;init&gt;(ReentrantReadWriteLock.java:240)\r\n\tat java.util.concurrent.locks.ReentrantReadWriteLock.&lt;init&gt;(ReentrantReadWriteLock.java:230)\r\n\tat org.apache.hadoop.mapreduce.v2.app.job.impl.TaskImpl.&lt;init&gt;(TaskImpl.java:304)\r\n\tat org.apache.hadoop.mapreduce.v2.app.job.impl.ReduceTaskImpl.&lt;init&gt;(ReduceTaskImpl.java:47)\r\n\tat org.apache.hadoop.mapreduce.v2.app.job.impl.JobImpl$InitTransition.createReduceTasks(JobImpl.java:1569)\r\n\tat org.apache.hadoop.mapreduce.v2.app.job.impl.JobImpl$InitTransition.transition(JobImpl.java:1494)\r\n\tat org.apache.hadoop.mapreduce.v2.app.job.impl.JobImpl$InitTransition.transition(JobImpl.java:1414)\r\n\tat org.apache.hadoop.yarn.state.StateMachineFactory$MultipleInternalArc.doTransition(StateMachineFactory.java:385)\r\n\tat org.apache.hadoop.yarn.state.StateMachineFactory.doTransition(StateMachineFactory.java:302)\r\n\tat org.apache.hadoop.yarn.state.StateMachineFactory.access$300(StateMachineFactory.java:46)\r\n\tat org.apache.hadoop.yarn.state.StateMachineFactory$InternalStateMachine.doTransition(StateMachineFactory.java:448)\r\n\tat org.apache.hadoop.mapreduce.v2.app.job.impl.JobImpl.handle(JobImpl.java:1008)\r\n\tat org.apache.hadoop.mapreduce.v2.app.job.impl.JobImpl.handle(JobImpl.java:139)\r\n\tat org.apache.hadoop.mapreduce.v2.app.MRAppMaster$JobEventDispatcher.handle(MRAppMaster.java:1436)\r\n\tat org.apache.hadoop.mapreduce.v2.app.MRAppMaster.serviceStart(MRAppMaster.java:1207)\r\n\tat org.apache.hadoop.service.AbstractService.start(AbstractService.java:193)\r\n\tat org.apache.hadoop.mapreduce.v2.app.MRAppMaster$5.run(MRAppMaster.java:1654)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat javax.security.auth.Subject.doAs(Subject.java:422)\r\n\tat org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1844)\r\n\tat org.apache.hadoop.mapreduce.v2.app.MRAppMaster.initAndStartAppMaster(MRAppMaster.java:1650)\r\n\tat org.apache.hadoop.mapreduce.v2.app.MRAppMaster.main(MRAppMaster.java:1583)\r\n2023-01-05 17:09:05,108 INFO [main] org.apache.hadoop.util.ExitUtil: Exiting with status 1\r\n2023-01-05 17:09:45,419 ERROR [Thread-0] org.apache.hadoop.yarn.YarnUncaughtExceptionHandler: Thread Thread[Thread-0,5,main] threw an Throwable, but we are shutting down, so ignoring this\r\njava.lang.OutOfMemoryError: GC overhead limit exceeded\r\n```\r\n\r\nYou can see from the log the data size is quite small, `Input size for job job_1672909107121_0001 = 115735. Number of splits = 1`, following are some other information    which may be relevant:\r\n\r\n 1. Hadoop 2.8.5 based on yarn, total 4 x m5a.xlarge(4 Core 16G memory, 100G SSD GP3) , 3 were used as yarn node (12G Mem and 4 vCore)\r\n 2. yarn.app.mapreduce.am.resource.mb = 6144\r\n 3. yarn.app.mapreduce.am.command-opts = -Xmx4915m\r\n 4. mapreduce.map.memory.mb = 3072\r\n 5. mapreduce.reduce.memory.mb = 6144\r\n\r\n\r\n","title":"Hadoop mapreduce application failed due to OutOfMemoryError","body":"<p>I'm using Apache Druid to ingest data(type: index_hadoop), but the index task failed, there's no useful infomation in index log. Then I find the MR application(application name: OELandingType-determine_partitions_hashed-Optional.of([2022-12-25T00:00:00.000Z/20222-12-26T00:00:00.000Z], OELandingType is my druid datasource name)) was failed, the error in yarn log says:</p>\n<pre><code>2023-01-05 17:04:55,291 INFO [main] org.apache.hadoop.mapreduce.v2.app.job.impl.JobImpl: Adding job token for job_1672909107121_0001 to jobTokenSecretManager\n2023-01-05 17:04:55,349 INFO [main] org.apache.hadoop.mapreduce.v2.app.job.impl.JobImpl: Not uberizing job_1672909107121_0001 because: too many reduces;\n2023-01-05 17:04:55,397 INFO [main] org.apache.hadoop.mapreduce.v2.app.job.impl.JobImpl: Input size for job job_1672909107121_0001 = 115735. Number of splits = 1\n2023-01-05 17:08:51,299 FATAL [main] org.apache.hadoop.mapreduce.v2.app.MRAppMaster: Error starting MRAppMaster\njava.lang.OutOfMemoryError: GC overhead limit exceeded\n    at java.util.concurrent.locks.ReentrantReadWriteLock.&lt;init&gt;(ReentrantReadWriteLock.java:240)\n    at java.util.concurrent.locks.ReentrantReadWriteLock.&lt;init&gt;(ReentrantReadWriteLock.java:230)\n    at org.apache.hadoop.mapreduce.v2.app.job.impl.TaskImpl.&lt;init&gt;(TaskImpl.java:304)\n    at org.apache.hadoop.mapreduce.v2.app.job.impl.ReduceTaskImpl.&lt;init&gt;(ReduceTaskImpl.java:47)\n    at org.apache.hadoop.mapreduce.v2.app.job.impl.JobImpl$InitTransition.createReduceTasks(JobImpl.java:1569)\n    at org.apache.hadoop.mapreduce.v2.app.job.impl.JobImpl$InitTransition.transition(JobImpl.java:1494)\n    at org.apache.hadoop.mapreduce.v2.app.job.impl.JobImpl$InitTransition.transition(JobImpl.java:1414)\n    at org.apache.hadoop.yarn.state.StateMachineFactory$MultipleInternalArc.doTransition(StateMachineFactory.java:385)\n    at org.apache.hadoop.yarn.state.StateMachineFactory.doTransition(StateMachineFactory.java:302)\n    at org.apache.hadoop.yarn.state.StateMachineFactory.access$300(StateMachineFactory.java:46)\n    at org.apache.hadoop.yarn.state.StateMachineFactory$InternalStateMachine.doTransition(StateMachineFactory.java:448)\n    at org.apache.hadoop.mapreduce.v2.app.job.impl.JobImpl.handle(JobImpl.java:1008)\n    at org.apache.hadoop.mapreduce.v2.app.job.impl.JobImpl.handle(JobImpl.java:139)\n    at org.apache.hadoop.mapreduce.v2.app.MRAppMaster$JobEventDispatcher.handle(MRAppMaster.java:1436)\n    at org.apache.hadoop.mapreduce.v2.app.MRAppMaster.serviceStart(MRAppMaster.java:1207)\n    at org.apache.hadoop.service.AbstractService.start(AbstractService.java:193)\n    at org.apache.hadoop.mapreduce.v2.app.MRAppMaster$5.run(MRAppMaster.java:1654)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at javax.security.auth.Subject.doAs(Subject.java:422)\n    at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1844)\n    at org.apache.hadoop.mapreduce.v2.app.MRAppMaster.initAndStartAppMaster(MRAppMaster.java:1650)\n    at org.apache.hadoop.mapreduce.v2.app.MRAppMaster.main(MRAppMaster.java:1583)\n2023-01-05 17:09:05,108 INFO [main] org.apache.hadoop.util.ExitUtil: Exiting with status 1\n2023-01-05 17:09:45,419 ERROR [Thread-0] org.apache.hadoop.yarn.YarnUncaughtExceptionHandler: Thread Thread[Thread-0,5,main] threw an Throwable, but we are shutting down, so ignoring this\njava.lang.OutOfMemoryError: GC overhead limit exceeded\n</code></pre>\n<p>You can see from the log the data size is quite small, <code>Input size for job job_1672909107121_0001 = 115735. Number of splits = 1</code>, following are some other information    which may be relevant:</p>\n<ol>\n<li>Hadoop 2.8.5 based on yarn, total 4 x m5a.xlarge(4 Core 16G memory, 100G SSD GP3) , 3 were used as yarn node (12G Mem and 4 vCore)</li>\n<li>yarn.app.mapreduce.am.resource.mb = 6144</li>\n<li>yarn.app.mapreduce.am.command-opts = -Xmx4915m</li>\n<li>mapreduce.map.memory.mb = 3072</li>\n<li>mapreduce.reduce.memory.mb = 6144</li>\n</ol>\n"},{"tags":["java","android","flutter"],"answers":[{"tags":[],"owner":{"account_id":13611822,"reputation":1267,"user_id":9819071,"display_name":"Rahul Variya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672820707,"creation_date":1672820707,"answer_id":75002722,"question_id":75002570,"body_markdown":"you have to put the required file in `AndroidMenifest.xml`\r\nlocation project -&gt; android-&gt;app-&gt;src-&gt;main-&gt;\r\n\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        package=&quot;com.example.tmdp_getx_mvc&quot;&gt;\r\n    \r\n        &lt;uses-permission android:name=&quot;android.permission.RECEIVE_BOOT_COMPLETED&quot;/&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot;/&gt;\r\n    &lt;!-- For apps with targetSDK=31 (Android 12) --&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.SCHEDULE_EXACT_ALARM&quot;/&gt;\r\n       &lt;application\r\n            android:label=&quot;tmdp_getx_mvc&quot;\r\n            android:name=&quot;${applicationName}&quot;\r\n            android:icon=&quot;@mipmap/ic_launcher&quot;&gt;\r\n            &lt;activity\r\n                android:name=&quot;.MainActivity&quot;\r\n                android:exported=&quot;true&quot;\r\n                android:launchMode=&quot;singleTop&quot;\r\n                android:theme=&quot;@style/LaunchTheme&quot;\r\n                android:configChanges=&quot;orientation|keyboardHidden|keyboard|screenSize|smallestScreenSize|locale|layoutDirection|fontScale|screenLayout|density|uiMode&quot;\r\n                android:hardwareAccelerated=&quot;true&quot;\r\n                android:windowSoftInputMode=&quot;adjustResize&quot;&gt;\r\n                &lt;!-- Specifies an Android theme to apply to this Activity as soon as\r\n                     the Android process has started. This theme is visible to the user\r\n                     while the Flutter UI initializes. After that, this theme continues\r\n                     to determine the Window background behind the Flutter UI. --&gt;\r\n                &lt;meta-data\r\n                  android:name=&quot;io.flutter.embedding.android.NormalTheme&quot;\r\n                  android:resource=&quot;@style/NormalTheme&quot;\r\n                  /&gt;\r\n                  \r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot;/&gt;\r\n                    &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot;/&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n            &lt;service\r\n                android:name=&quot;dev.fluttercommunity.plus.androidalarmmanager.AlarmService&quot;\r\n                android:permission=&quot;android.permission.BIND_JOB_SERVICE&quot;\r\n                android:exported=&quot;false&quot;/&gt;\r\n            &lt;receiver\r\n                android:name=&quot;dev.fluttercommunity.plus.androidalarmmanager.AlarmBroadcastReceiver&quot;\r\n                android:exported=&quot;false&quot;/&gt;\r\n            &lt;receiver\r\n                android:name=&quot;dev.fluttercommunity.plus.androidalarmmanager.RebootBroadcastReceiver&quot;\r\n                android:enabled=&quot;false&quot;\r\n                android:exported=&quot;false&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.BOOT_COMPLETED&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/receiver&gt;\r\n            &lt;!-- Don&#39;t delete the meta-data below.\r\n                 This is used by the Flutter tool to generate GeneratedPluginRegistrant.java --&gt;\r\n            &lt;meta-data\r\n                android:name=&quot;flutterEmbedding&quot;\r\n                android:value=&quot;2&quot; /&gt;\r\n        &lt;/application&gt;\r\n    &lt;/manifest&gt;\r\nFor more detail refer: https://pub.dev/packages/android_alarm_manager_plus\r\nAfter update manifest file once uninstall and install app from device","title":"flutter android alarm manager plus plugin throws error when calling initializer function?","body":"<p>you have to put the required file in <code>AndroidMenifest.xml</code>\nlocation project -&gt; android-&gt;app-&gt;src-&gt;main-&gt;</p>\n<pre><code>&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    package=&quot;com.example.tmdp_getx_mvc&quot;&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.RECEIVE_BOOT_COMPLETED&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot;/&gt;\n&lt;!-- For apps with targetSDK=31 (Android 12) --&gt;\n    &lt;uses-permission android:name=&quot;android.permission.SCHEDULE_EXACT_ALARM&quot;/&gt;\n   &lt;application\n        android:label=&quot;tmdp_getx_mvc&quot;\n        android:name=&quot;${applicationName}&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;&gt;\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot;\n            android:launchMode=&quot;singleTop&quot;\n            android:theme=&quot;@style/LaunchTheme&quot;\n            android:configChanges=&quot;orientation|keyboardHidden|keyboard|screenSize|smallestScreenSize|locale|layoutDirection|fontScale|screenLayout|density|uiMode&quot;\n            android:hardwareAccelerated=&quot;true&quot;\n            android:windowSoftInputMode=&quot;adjustResize&quot;&gt;\n            &lt;!-- Specifies an Android theme to apply to this Activity as soon as\n                 the Android process has started. This theme is visible to the user\n                 while the Flutter UI initializes. After that, this theme continues\n                 to determine the Window background behind the Flutter UI. --&gt;\n            &lt;meta-data\n              android:name=&quot;io.flutter.embedding.android.NormalTheme&quot;\n              android:resource=&quot;@style/NormalTheme&quot;\n              /&gt;\n              \n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot;/&gt;\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot;/&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n        &lt;service\n            android:name=&quot;dev.fluttercommunity.plus.androidalarmmanager.AlarmService&quot;\n            android:permission=&quot;android.permission.BIND_JOB_SERVICE&quot;\n            android:exported=&quot;false&quot;/&gt;\n        &lt;receiver\n            android:name=&quot;dev.fluttercommunity.plus.androidalarmmanager.AlarmBroadcastReceiver&quot;\n            android:exported=&quot;false&quot;/&gt;\n        &lt;receiver\n            android:name=&quot;dev.fluttercommunity.plus.androidalarmmanager.RebootBroadcastReceiver&quot;\n            android:enabled=&quot;false&quot;\n            android:exported=&quot;false&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.BOOT_COMPLETED&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/receiver&gt;\n        &lt;!-- Don't delete the meta-data below.\n             This is used by the Flutter tool to generate GeneratedPluginRegistrant.java --&gt;\n        &lt;meta-data\n            android:name=&quot;flutterEmbedding&quot;\n            android:value=&quot;2&quot; /&gt;\n    &lt;/application&gt;\n&lt;/manifest&gt;\n</code></pre>\n<p>For more detail refer: <a href=\"https://pub.dev/packages/android_alarm_manager_plus\" rel=\"nofollow noreferrer\">https://pub.dev/packages/android_alarm_manager_plus</a>\nAfter update manifest file once uninstall and install app from device</p>\n"},{"tags":[],"owner":{"account_id":19912683,"reputation":346,"user_id":14590393,"display_name":"Shehan DMG"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672911161,"creation_date":1672911161,"answer_id":75016340,"question_id":75002570,"body_markdown":"It worked without changing anything after I cold booted the emulator.","title":"flutter android alarm manager plus plugin throws error when calling initializer function?","body":"<p>It worked without changing anything after I cold booted the emulator.</p>\n"}],"owner":{"account_id":19912683,"reputation":346,"user_id":14590393,"display_name":"Shehan DMG"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1672911161,"creation_date":1672819887,"question_id":75002570,"body_markdown":"I&#39;m trying to use android alarm manager plus in my flutter app to schedule some local notifications. I started with simple AndroidAlarmManager.oneShot(..) function. And I&quot;m calling intialize function in main method.\r\n\r\n```\r\nvoid main() async{\r\n  WidgetsFlutterBinding.ensureInitialized();\r\n  await AndroidAlarmManager.initialize();\r\n  runApp(const MyApp());\r\n}\r\n\r\n```\r\n\r\nthat ```await AndroidAlarmManager.initialize();``` cause the error. Error is\r\n```\r\nE/flutter (10486): [ERROR:flutter/lib/ui/ui_dart_state.cc(198)] Unhandled Exception: MissingPluginException(No implementation found for method AlarmService.start on channel dev.fluttercommunity.plus/android_alarm_manager)\r\n```\r\n\r\nSo I&#39;m as I read some other issues, the problem is with pluginregistrar is not registering AlarmService. So I have to add a native code to Application file. But my project doesn&#39;t have Application.java file. \r\nAll I have is \r\n\r\n1.flutter_project_root\\android\\app\\src\\main\\java\\io\\flutter\\plugins\\GeneratedPluginRegistrant.java\r\n\r\n```\r\n@Keep\r\npublic final class GeneratedPluginRegistrant {\r\n  private static final String TAG = &quot;GeneratedPluginRegistrant&quot;;\r\n  public static void registerWith(@NonNull FlutterEngine flutterEngine) {\r\n    try {\r\n      flutterEngine.getPlugins().add(new dev.fluttercommunity.plus.androidalarmmanager.AndroidAlarmManagerPlugin());\r\n    } catch(Exception e) {\r\n      Log.e(TAG, &quot;Error registering plugin android_alarm_manager_plus, dev.fluttercommunity.plus.androidalarmmanager.AndroidAlarmManagerPlugin&quot;, e);\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n2.flutter_root\\android\\app\\src\\main\\kotlin\\com\\example\\snooze_test\\MainActivity.kt\r\n```\r\nimport io.flutter.embedding.android.FlutterActivity\r\n\r\nclass MainActivity: FlutterActivity() {\r\n}\r\n```\r\n\r\nI don&#39;t know native code. How should fix this?","title":"flutter android alarm manager plus plugin throws error when calling initializer function?","body":"<p>I'm trying to use android alarm manager plus in my flutter app to schedule some local notifications. I started with simple AndroidAlarmManager.oneShot(..) function. And I&quot;m calling intialize function in main method.</p>\n<pre><code>void main() async{\n  WidgetsFlutterBinding.ensureInitialized();\n  await AndroidAlarmManager.initialize();\n  runApp(const MyApp());\n}\n\n</code></pre>\n<p>that <code>await AndroidAlarmManager.initialize();</code> cause the error. Error is</p>\n<pre><code>E/flutter (10486): [ERROR:flutter/lib/ui/ui_dart_state.cc(198)] Unhandled Exception: MissingPluginException(No implementation found for method AlarmService.start on channel dev.fluttercommunity.plus/android_alarm_manager)\n</code></pre>\n<p>So I'm as I read some other issues, the problem is with pluginregistrar is not registering AlarmService. So I have to add a native code to Application file. But my project doesn't have Application.java file.\nAll I have is</p>\n<p>1.flutter_project_root\\android\\app\\src\\main\\java\\io\\flutter\\plugins\\GeneratedPluginRegistrant.java</p>\n<pre><code>@Keep\npublic final class GeneratedPluginRegistrant {\n  private static final String TAG = &quot;GeneratedPluginRegistrant&quot;;\n  public static void registerWith(@NonNull FlutterEngine flutterEngine) {\n    try {\n      flutterEngine.getPlugins().add(new dev.fluttercommunity.plus.androidalarmmanager.AndroidAlarmManagerPlugin());\n    } catch(Exception e) {\n      Log.e(TAG, &quot;Error registering plugin android_alarm_manager_plus, dev.fluttercommunity.plus.androidalarmmanager.AndroidAlarmManagerPlugin&quot;, e);\n    }\n  }\n}\n</code></pre>\n<p>2.flutter_root\\android\\app\\src\\main\\kotlin\\com\\example\\snooze_test\\MainActivity.kt</p>\n<pre><code>import io.flutter.embedding.android.FlutterActivity\n\nclass MainActivity: FlutterActivity() {\n}\n</code></pre>\n<p>I don't know native code. How should fix this?</p>\n"},{"tags":["java","apache-spark","group-by","rdd"],"answers":[{"tags":[],"owner":{"account_id":12182705,"reputation":10096,"user_id":8893686,"display_name":"Oli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1672911127,"creation_date":1672910822,"answer_id":75016259,"question_id":75015749,"body_markdown":"You could transform the `Iterable` into a `List` and then sort that list like below. I assume that your sorting field is called `x` and that it is of type String but you can obviously adapt that to your specific case.\r\n```java\r\nString sortingField = &quot;x&quot;\r\nJavaPairRDD&lt;String, List&lt;Row&gt;&gt; rdd = mydataset\r\n    .javaRDD()\r\n    .mapToPair(row -&gt; new Tuple2&lt;&gt;(row.getAs(&quot;id&quot;).toString(), row))\r\n    .groupByKey()\r\n    .mapValues(it -&gt; {\r\n        List&lt;Row&gt; rows = new ArrayList&lt;&gt;();\r\n        it.forEach(rows::add);\r\n        rows.sort(\r\n            (Row a, Row b) -&gt; a.&lt;String&gt;getAs(sortingField).compareTo(b.&lt;String&gt;getAs(sortingField))\r\n        );\r\n        return rows;\r\n    });\r\n```\r\n\r\nNote that this is much simpler to write in scala:\r\n```scala\r\nval rdd = mydataset\r\n    .rdd\r\n    .map(row =&gt; (row.getAs(&quot;id&quot;).toString, row))\r\n    .groupByKey\r\n    .mapValues( _.toSeq.sortBy(_.getAs[String](&quot;x&quot;)))\r\n```","title":"Sorting an rdd after using groupbykey using values","body":"<p>You could transform the <code>Iterable</code> into a <code>List</code> and then sort that list like below. I assume that your sorting field is called <code>x</code> and that it is of type String but you can obviously adapt that to your specific case.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String sortingField = &quot;x&quot;\nJavaPairRDD&lt;String, List&lt;Row&gt;&gt; rdd = mydataset\n    .javaRDD()\n    .mapToPair(row -&gt; new Tuple2&lt;&gt;(row.getAs(&quot;id&quot;).toString(), row))\n    .groupByKey()\n    .mapValues(it -&gt; {\n        List&lt;Row&gt; rows = new ArrayList&lt;&gt;();\n        it.forEach(rows::add);\n        rows.sort(\n            (Row a, Row b) -&gt; a.&lt;String&gt;getAs(sortingField).compareTo(b.&lt;String&gt;getAs(sortingField))\n        );\n        return rows;\n    });\n</code></pre>\n<p>Note that this is much simpler to write in scala:</p>\n<pre class=\"lang-scala prettyprint-override\"><code>val rdd = mydataset\n    .rdd\n    .map(row =&gt; (row.getAs(&quot;id&quot;).toString, row))\n    .groupByKey\n    .mapValues( _.toSeq.sortBy(_.getAs[String](&quot;x&quot;)))\n</code></pre>\n"}],"owner":{"account_id":19902607,"reputation":133,"user_id":14582309,"display_name":"Luff li"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75016259,"answer_count":1,"score":0,"last_activity_date":1672911127,"creation_date":1672908036,"question_id":75015749,"body_markdown":"I have `JavaPairRDD` as\r\n\r\n```\r\nJavaPairRDD&lt;String, Iterable&lt;Row&gt;&gt; rdd = mydataset.orderBy(&quot;orderfield1&quot;, &quot;orderfield2&quot;).javaRDD().mapToPair(row -&gt; new Tuple2&lt;&gt;(row.getAs(&quot;id&quot;).toString(), row)).groupByKey()\r\n```\r\n\r\nAs `groupbykey()` doesn&#39;t maintain order `orderby` doesn&#39;t work here.\r\nI want to order the `Iterable&lt;Row&gt;` using some of the fields from dataset.","title":"Sorting an rdd after using groupbykey using values","body":"<p>I have <code>JavaPairRDD</code> as</p>\n<pre><code>JavaPairRDD&lt;String, Iterable&lt;Row&gt;&gt; rdd = mydataset.orderBy(&quot;orderfield1&quot;, &quot;orderfield2&quot;).javaRDD().mapToPair(row -&gt; new Tuple2&lt;&gt;(row.getAs(&quot;id&quot;).toString(), row)).groupByKey()\n</code></pre>\n<p>As <code>groupbykey()</code> doesn't maintain order <code>orderby</code> doesn't work here.\nI want to order the <code>Iterable&lt;Row&gt;</code> using some of the fields from dataset.</p>\n"},{"tags":["java","timezone","containers","tomcat9","java-opts"],"answers":[{"tags":[],"owner":{"account_id":3524496,"reputation":168,"user_id":2945996,"display_name":"rimesc"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1672885188,"creation_date":1672873783,"answer_id":75012316,"question_id":75012145,"body_markdown":"# Rule change in Brazil time zone\r\n\r\nYour problem seems to be that Java is reporting the same time, but in daylight saving time (I believe BRST=Brasilia Summer Time, which is UTC-2).\r\n\r\nAccording to Wikipedia, [Brazil stopped using daylight saving time][1] in 2019. According to [this page][2] the change was included in Java 1.8.0_231, while you’re on Java 1.8.0_202.\r\n\r\nUpdating to Java 1.8.0_231 or later, if you can, ought to fix the inconsistency.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Daylight_saving_time_in_Brazil\r\n  [2]: https://www.oracle.com/java/technologies/tzdata-versions.html","title":"My container has a correct date and timezone. But my tomcat is getting one hour more than I configured. How to fix wrong time in tomcat 9 container?","body":"<h1>Rule change in Brazil time zone</h1>\n<p>Your problem seems to be that Java is reporting the same time, but in daylight saving time (I believe BRST=Brasilia Summer Time, which is UTC-2).</p>\n<p>According to Wikipedia, <a href=\"https://en.wikipedia.org/wiki/Daylight_saving_time_in_Brazil\" rel=\"nofollow noreferrer\">Brazil stopped using daylight saving time</a> in 2019. According to <a href=\"https://www.oracle.com/java/technologies/tzdata-versions.html\" rel=\"nofollow noreferrer\">this page</a> the change was included in Java 1.8.0_231, while you’re on Java 1.8.0_202.</p>\n<p>Updating to Java 1.8.0_231 or later, if you can, ought to fix the inconsistency.</p>\n"},{"tags":[],"owner":{"account_id":27435883,"reputation":1,"user_id":20931738,"display_name":"Nour Mohamed"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1672911049,"creation_date":1672911049,"answer_id":75016304,"question_id":75012145,"body_markdown":"    FROM openjdk:11-jre-slim\r\n    MAINTAINER Me\r\n    \r\n    USER root\r\n    \r\n    RUN rm -rf ${JAVA_HOME}/*src.zip\r\n    \r\n    ENV JAVA_PKG=jdk-8u202-linux-x64.tar.gz\r\n    ENV CATALINA_PKG=apache-tomcat-9.0.55.tar.gz\r\n    \r\n    ENV JAVA_HOME=/opt/jdk1.8.0_202\r\n    ENV CATALINA_HOME=/opt/apache-tomcat-9.0.55\r\n    \r\n    # Set the timezone and locale\r\n    RUN apt-get update &amp;&amp; DEBIAN_FRONTEND=noninteractive apt-get install -y locales\r\n    RUN sed -i -e &#39;s/# pt_BR.UTF-8 UTF-8/pt_BR.UTF-8 UTF-8/&#39; /etc/locale.gen &amp;&amp; \\\r\n        dpkg-reconfigure --frontend=noninteractive locales &amp;&amp; \\\r\n        update-locale LANG=pt_BR.UTF-8\r\n    ENV LANG pt_BR.UTF-8\r\n    ENV TZ=America/Sao_Paulo\r\n    RUN ln -snf /usr/share/zoneinfo/$TZ /etc/localtime &amp;&amp; echo $TZ &gt; /etc/timezone\r\n    ENV LANGUAGE pt_BR.UTF-8\r\n    ENV LC_ALL pt_BR.UTF-8\r\n    \r\n    # Install JDK and Tomcat\r\n    COPY ./java/${JAVA_PKG} /opt/\r\n    RUN tar -xzvf /opt/${JAVA_PKG} --directory=/opt/\r\n    RUN rm /opt/${JAVA_PKG}\r\n    COPY ./tomcat/${CATALINA_PKG} /opt/\r\n    RUN tar -xzvf /opt/${CATALINA_PKG} --directory=/opt/\r\n    RUN rm /opt/${CATALINA_PKG}\r\n    ENV PATH=&quot;$JAVA_HOME/bin:${PATH}&quot;\r\n    ENV PATH=&quot;$CATALINA_HOME/bin:${PATH}&quot;\r\n    \r\n    # Create a group and user\r\n    RUN groupadd tomcat_grp &amp;&amp; useradd -r -u 1002 tomcat -g tomcat_grp\r\n    \r\n    # Copy libs and set permissions\r\n    COPY ./lib/* ${CATALINA_HOME}/lib/\r\n    RUN chown -R tomcat:tomcat_grp ${CATALINA_HOME}\r\n    \r\n     - \r\n    \r\n    To set environment variables in a Docker container, you can use the ENV instruction in your Dockerfile, like you have done. You can also set environment variables when you start the container using the -e flag with docker run.\r\n    \r\n    For example: docker run -e JAVA_OPTS=&quot;-Duser.timezone=UTC&quot; my_image\r\n    \r\n    To load\r\n    \r\n    The environment use source command the docker file for example COPY setenv.sh /usr/local/tomcat/bin/setenv.sh RUN chmod +x /usr/local/tomcat/bin/setenv.sh\r\n    \r\n    CMD [&quot;catalina.sh&quot;, &quot;run&quot;] ENTRYPOINT [&quot;/bin/bash&quot;, &quot;-c&quot;, &quot;source /usr/local/tomcat/bin/setenv.sh &amp;&amp; exec /usr/local/tomcat/bin/catalina.sh run&quot;] . $CATALINA_HOME/bin/setenv.sh\r\n    \r\n    environment: JAVA_OPTS: &quot;-javaagent:/opt/jmx_exporter/jmx_prometheus_javaagent-0.12.0.jar=9404:/opt/jmx_exporter/config.yaml -Duser.timezone=America/Sao_Paulo&quot; CATALINA_OPTS: &quot;-Djava.rmi.server.hostname=$HOST_IP&quot;\r\n    \r\n    JAVA_OPTS=-javaagent:/opt/jmx_exporter/jmx_prometheus_javaagent-0.12.0.jar=9404:/opt/jmx_exporter/config.yaml -Duser.timezone=America/Sao_Paulo CATALINA_OPTS=-Djava.rmi.server.hostname=$HOST_IP\r\n    \r\n    environment: JAVA_OPTS: ${JAVA_OPTS} CATALINA_OPTS: ${CATALINA_OPTS}\r\n    \r\n    env_file:\r\n    \r\n    ./env_file.env\r\n    environment: JAVA_OPTS: &quot;-javaagent:/opt/jmx_exporter/jmx_prometheus_javaagent-0.12.0.jar=9404:/opt/jmx_exporter/config.yaml -Duser.timezone=America/Sao_Paulo&quot; CATALINA_OPTS: &quot;-Djava.rmi.server.hostname=$HOST_IP&quot; JAVA_OPTS=-javaagent:/opt/jmx_exporter/jmx_prometheus_javaagent-0.12.0.jar=9404:/opt/jmx_exporter/config.yaml -Duser.timezone=America/Sao_Paulo CATALINA_OPTS=-Djava.rmi.server.hostname=$HOST_IP\r\n    \r\n    environment: JAVA_OPTS: ${JAVA_OPTS} CATALINA_OPTS: ${CATALINA_OPTS}\r\n    \r\n    env_file:\r\n    \r\n    ./env_file.env\r\n    ----------\r\n\r\n","title":"My container has a correct date and timezone. But my tomcat is getting one hour more than I configured. How to fix wrong time in tomcat 9 container?","body":"<pre><code>FROM openjdk:11-jre-slim\nMAINTAINER Me\n\nUSER root\n\nRUN rm -rf ${JAVA_HOME}/*src.zip\n\nENV JAVA_PKG=jdk-8u202-linux-x64.tar.gz\nENV CATALINA_PKG=apache-tomcat-9.0.55.tar.gz\n\nENV JAVA_HOME=/opt/jdk1.8.0_202\nENV CATALINA_HOME=/opt/apache-tomcat-9.0.55\n\n# Set the timezone and locale\nRUN apt-get update &amp;&amp; DEBIAN_FRONTEND=noninteractive apt-get install -y locales\nRUN sed -i -e 's/# pt_BR.UTF-8 UTF-8/pt_BR.UTF-8 UTF-8/' /etc/locale.gen &amp;&amp; \\\n    dpkg-reconfigure --frontend=noninteractive locales &amp;&amp; \\\n    update-locale LANG=pt_BR.UTF-8\nENV LANG pt_BR.UTF-8\nENV TZ=America/Sao_Paulo\nRUN ln -snf /usr/share/zoneinfo/$TZ /etc/localtime &amp;&amp; echo $TZ &gt; /etc/timezone\nENV LANGUAGE pt_BR.UTF-8\nENV LC_ALL pt_BR.UTF-8\n\n# Install JDK and Tomcat\nCOPY ./java/${JAVA_PKG} /opt/\nRUN tar -xzvf /opt/${JAVA_PKG} --directory=/opt/\nRUN rm /opt/${JAVA_PKG}\nCOPY ./tomcat/${CATALINA_PKG} /opt/\nRUN tar -xzvf /opt/${CATALINA_PKG} --directory=/opt/\nRUN rm /opt/${CATALINA_PKG}\nENV PATH=&quot;$JAVA_HOME/bin:${PATH}&quot;\nENV PATH=&quot;$CATALINA_HOME/bin:${PATH}&quot;\n\n# Create a group and user\nRUN groupadd tomcat_grp &amp;&amp; useradd -r -u 1002 tomcat -g tomcat_grp\n\n# Copy libs and set permissions\nCOPY ./lib/* ${CATALINA_HOME}/lib/\nRUN chown -R tomcat:tomcat_grp ${CATALINA_HOME}\n\n - \n\nTo set environment variables in a Docker container, you can use the ENV instruction in your Dockerfile, like you have done. You can also set environment variables when you start the container using the -e flag with docker run.\n\nFor example: docker run -e JAVA_OPTS=&quot;-Duser.timezone=UTC&quot; my_image\n\nTo load\n\nThe environment use source command the docker file for example COPY setenv.sh /usr/local/tomcat/bin/setenv.sh RUN chmod +x /usr/local/tomcat/bin/setenv.sh\n\nCMD [&quot;catalina.sh&quot;, &quot;run&quot;] ENTRYPOINT [&quot;/bin/bash&quot;, &quot;-c&quot;, &quot;source /usr/local/tomcat/bin/setenv.sh &amp;&amp; exec /usr/local/tomcat/bin/catalina.sh run&quot;] . $CATALINA_HOME/bin/setenv.sh\n\nenvironment: JAVA_OPTS: &quot;-javaagent:/opt/jmx_exporter/jmx_prometheus_javaagent-0.12.0.jar=9404:/opt/jmx_exporter/config.yaml -Duser.timezone=America/Sao_Paulo&quot; CATALINA_OPTS: &quot;-Djava.rmi.server.hostname=$HOST_IP&quot;\n\nJAVA_OPTS=-javaagent:/opt/jmx_exporter/jmx_prometheus_javaagent-0.12.0.jar=9404:/opt/jmx_exporter/config.yaml -Duser.timezone=America/Sao_Paulo CATALINA_OPTS=-Djava.rmi.server.hostname=$HOST_IP\n\nenvironment: JAVA_OPTS: ${JAVA_OPTS} CATALINA_OPTS: ${CATALINA_OPTS}\n\nenv_file:\n\n./env_file.env\nenvironment: JAVA_OPTS: &quot;-javaagent:/opt/jmx_exporter/jmx_prometheus_javaagent-0.12.0.jar=9404:/opt/jmx_exporter/config.yaml -Duser.timezone=America/Sao_Paulo&quot; CATALINA_OPTS: &quot;-Djava.rmi.server.hostname=$HOST_IP&quot; JAVA_OPTS=-javaagent:/opt/jmx_exporter/jmx_prometheus_javaagent-0.12.0.jar=9404:/opt/jmx_exporter/config.yaml -Duser.timezone=America/Sao_Paulo CATALINA_OPTS=-Djava.rmi.server.hostname=$HOST_IP\n\nenvironment: JAVA_OPTS: ${JAVA_OPTS} CATALINA_OPTS: ${CATALINA_OPTS}\n\nenv_file:\n\n./env_file.env\n----------\n</code></pre>\n"}],"owner":{"account_id":14565699,"reputation":21,"user_id":16065879,"display_name":"Alan Aguinaga"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":461,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1672911049,"creation_date":1672872314,"question_id":75012145,"body_markdown":"I am trying to make it run setenv.sh to load some JAVA_OPTS but is it not loading nothing. My Tomcat start a .war files using springboot for start my application. \r\nThe problem here is that it is not loading correct timezone on java and it is not loading JMX and Prometheus exporters. \r\n\r\nHere is my docker file. \r\n\r\n```docker\r\nFROM openjdk:11-jre-slim\r\nMAINTAINER Me\r\n\r\nUSER root\r\n\r\nRUN rm -rf ${JAVA_HOME}/*src.zip\r\n\r\nENV JAVA_PKG=jdk-8u202-linux-x64.tar.gz\r\nENV CATALINA_PKG=apache-tomcat-9.0.55.tar.gz\r\n\r\nENV JAVA_HOME=/opt/jdk1.8.0_202\r\nENV CATALINA_HOME=/opt/apache-tomcat-9.0.55\r\n\r\nRUN apt-get update &amp;&amp; DEBIAN_FRONTEND=noninteractive apt-get install -y locales\r\nRUN sed -i -e &#39;s/# pt_BR.UTF-8 UTF-8/pt_BR.UTF-8 UTF-8/&#39; /etc/locale.gen &amp;&amp; \\\r\n    dpkg-reconfigure --frontend=noninteractive locales &amp;&amp; \\\r\n    update-locale LANG=pt_BR.UTF-8\r\nENV LANG pt_BR.UTF-8 \r\n#RUN echo &quot;America/Sao_Paulo&quot; &gt;  /etc/timezone\r\nENV TZ=America/Sao_Paulo\r\nRUN ln -snf /usr/share/zoneinfo/$TZ /etc/localtime &amp;&amp; echo $TZ &gt; /etc/timezone\r\n\r\n#ENV TZ America/Sao_Paulo\r\nENV LANGUAGE pt_BR.UTF-8\r\nENV LC_ALL pt_BR.UTF-8\r\n\r\n\r\nCOPY ./java/${JAVA_PKG} /opt/\r\nRUN tar -xzvf /opt/${JAVA_PKG} --directory=/opt/\r\nRUN rm /opt/${JAVA_PKG}\r\n\r\nCOPY ./tomcat/${CATALINA_PKG} /opt/\r\nRUN tar -xzvf /opt/${CATALINA_PKG} --directory=/opt/\r\nRUN rm /opt/${CATALINA_PKG}\r\n\r\nENV PATH=&quot;$JAVA_HOME/bin:${PATH}&quot;\r\nENV PATH=&quot;$CATALINA_HOME/bin:${PATH}&quot;\r\n\r\n# Create a group and user\r\n#RUN addgroup -S tomcat_grp &amp;&amp; adduser -S tomcat -G tomcat_grp - criar UID 1002 para facilitar as permiss&#245;es de escrita no host\r\nRUN groupadd tomcat_grp &amp;&amp; useradd -r -u 1002 tomcat -g tomcat_grp\r\n\r\nCOPY ./lib/* ${CATALINA_HOME}/lib/\r\n\r\nRUN chown -R tomcat:tomcat_grp ${CATALINA_HOME}\r\nRUN chmod -R 777 ${CATALINA_HOME}\r\n\r\nRUN chown -R tomcat:tomcat_grp ${JAVA_HOME}\r\nRUN chmod -R 777 ${JAVA_HOME}\r\n\r\nUSER tomcat\r\n\r\nEXPOSE 8080\r\n\r\nUSER root\r\n\r\n#prometheus jmx exporter\r\nRUN mkdir -p /opt/jmx_exporter\r\nCOPY ./tomcat/jmx_exporter/jmx_prometheus_javaagent-0.17.2.jar /opt/jmx_exporter\r\nCOPY ./tomcat/jmx_exporter/config.yaml /opt/jmx_exporter\r\n\r\n#clean image\r\n#CMD [&quot;sh&quot;, &quot;-c&quot;, &quot;apt update&quot;; &quot;apt install wget -y&quot;; &quot;apt-get clean ; apt-get autoclean ; apt-get autoremove&quot;]\r\nRUN apt update &amp;&amp; apt install wget -y; apt clean; apt autoclean; apt autoremove\r\n\r\n#start tomcat\r\nCOPY startup.sh /usr/local/\r\nCMD [&quot;sh&quot;, &quot;-c&quot;, &quot;chmod a+x /opt/apache-tomcat-9.0.55/bin/catalina.sh; chmod a+x /opt/apache-tomcat-9.0.55/bin/setenv.sh; /opt/apache-tomcat-9.0.55/bin/setenv.sh; chmod a+x /usr/local/startup.sh ; /usr/local/startup.sh&quot;]\r\n#RUN chmod a+x /usr/local/startup.sh ; /usr/local/startup.sh\r\n\r\n#CMD [&quot;sh&quot;, &quot;-c&quot;, &quot;chmod a+x ${CATALINA_HOME}/bin/*.sh; chmod a+x /usr/local/startup.sh ; ${CATALINA_HOME}/bin/startup.sh&quot;]\r\n\r\n#COPY startup.sh /usr/local/\r\n#CMD chmod a+x /usr/local/startup.sh \r\n# Launch Tomcat on startup\r\n#CMD /usr/local/startup.sh\r\n\r\n```\r\n\r\nThis is a one service of my compose stack:\r\n\r\n\r\n```yaml\r\n  tomcat2_ecops_reports_pabx:\r\n    build: *build\r\n    labels:\r\n      - reports_pabx  \r\n    logging: *default-logging\r\n    container_name: ecops_reports_pabx_${CLIENT_NAME}_${VER}_${IMAGE_TAG}\r\n    restart: unless-stopped\r\n#    command: *command    \r\n    volumes:\r\n      -  ${LOCALTIME}\r\n      -  ${PABXREPTS_PRD}:${POD_WEBAPPS}\r\n      -  ${REPORTS}:${POD_WEBAPPS}/reports\r\n      -  ${CONF_CTXT}/context_reports.xml:${CONF_CTXT}/context.xml\r\n#    environment:\r\n#      CATALINA_OPTS: &quot;-Djava.rmi.server.hostname=$HOST_IP&quot;\r\n#      JAVA_OPTS: &quot;-javaagent:/opt/jmx_exporter/jmx_prometheus_javaagent-0.12.0.jar=9404:/opt/jmx_exporter/config.yaml \\\r\n#        -Duser.timezone=America/Sao_Paulo&quot; \r\n    ports:\r\n      - 9912:8088 \r\n      - 8192:8191\r\n      - 9402:9404      \r\n    networks: *networks\r\n\r\n```\r\n\r\n\r\n\r\nI got a correct time inside my container: \r\n\r\n```none\r\nroot@b2ad0fe2338b:/# date\r\nqua 04 jan 2023 19:31:53 -03\r\nroot@b2ad0fe2338b:/# \r\n```\r\n\r\nI got correct time in my host system: \r\n\r\n```none\r\n[root@VM-L-13104 projeto_psv]# date\r\nWed Jan  4 19:31:42 -03 2023\r\n```\r\n\r\nTime in probe: \r\n&gt;Current time:&#160;Wed Jan 04 20:31:35 BRST 2023\r\n\r\nThis is the springboot process: \r\n\r\n```none\r\nVM settings:\r\n    Max. Heap Size (Estimated): 2.52G\r\n    Ergonomics Machine Class: server\r\n    Using VM: Java HotSpot(TM) 64-Bit Server VM\r\n\r\n04-Jan-2023 19:33:49.331 SEVERE [main] org.apache.tomcat.vault.util.PropertySourceVault.init Keystore password should be either masked or prefixed with one of {EXT}, {EXTC}, {CMD}, {CMDC}\r\n\torg.apache.tomcat.vault.security.vault.SecurityVaultException: Keystore password should be either masked or prefixed with one of {EXT}, {EXTC}, {CMD}, {CMDC}\r\n\t\tat org.apache.tomcat.vault.security.vault.PicketBoxSecurityVault.init(PicketBoxSecurityVault.java:168)\r\n\t\tat org.apache.tomcat.vault.util.PropertySourceVault.init(PropertySourceVault.java:105)\r\n\t\tat org.apache.tomcat.vault.util.PropertySourceVault.&lt;init&gt;(PropertySourceVault.java:82)\r\n\t\tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\t\tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n\t\tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\t\tat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\n\t\tat org.apache.tomcat.util.digester.Digester.&lt;clinit&gt;(Digester.java:104)\r\n\t\tat org.apache.catalina.startup.Catalina.createStartDigester(Catalina.java:367)\r\n\t\tat org.apache.catalina.startup.Catalina.parseServerXml(Catalina.java:608)\r\n\t\tat org.apache.catalina.startup.Catalina.load(Catalina.java:709)\r\n\t\tat org.apache.catalina.startup.Catalina.load(Catalina.java:746)\r\n\t\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\t\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\t\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\t\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\t\tat org.apache.catalina.startup.Bootstrap.load(Bootstrap.java:305)\r\n\t\tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:475)\r\n04-Jan-2023 19:33:49.679 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Server version name:   Apache Tomcat/9.0.55\r\n04-Jan-2023 19:33:49.683 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Server built:          Nov 10 2021 08:26:45 UTC\r\n04-Jan-2023 19:33:49.683 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Server version number: 9.0.55.0\r\n04-Jan-2023 19:33:49.683 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log OS Name:               Linux\r\n04-Jan-2023 19:33:49.683 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log OS Version:            3.10.0-1160.80.1.0.1.el7.x86_64\r\n04-Jan-2023 19:33:49.683 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Architecture:          amd64\r\n04-Jan-2023 19:33:49.683 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Java Home:             /opt/jdk1.8.0_202/jre\r\n04-Jan-2023 19:33:49.683 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log JVM Version:           1.8.0_202-b08\r\n04-Jan-2023 19:33:49.683 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log JVM Vendor:            Oracle Corporation\r\n04-Jan-2023 19:33:49.683 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log CATALINA_BASE:         /opt/apache-tomcat-9.0.55\r\n04-Jan-2023 19:33:49.684 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log CATALINA_HOME:         /opt/apache-tomcat-9.0.55\r\n04-Jan-2023 19:33:49.685 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.util.logging.config.file=/opt/apache-tomcat-9.0.55/conf/logging.properties\r\n04-Jan-2023 19:33:49.685 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager\r\n04-Jan-2023 19:33:49.685 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dserver=tomcat\r\n04-Jan-2023 19:33:49.685 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djvm=tomcat\r\n04-Jan-2023 19:33:49.685 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dhttp.port=\r\n04-Jan-2023 19:33:49.685 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dajp.port=8119\r\n04-Jan-2023 19:33:49.685 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dssl.port=8443\r\n04-Jan-2023 19:33:49.686 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dshutdown.port=8115\r\n04-Jan-2023 19:33:49.686 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -XX:+UnlockExperimentalVMOptions\r\n04-Jan-2023 19:33:49.686 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -XX:+UseCGroupMemoryLimitForHeap\r\n04-Jan-2023 19:33:49.686 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -XX:MaxRAMFraction=2\r\n04-Jan-2023 19:33:49.686 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.awt.headless=true\r\n04-Jan-2023 19:33:49.686 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dfile.encoding=UTF-8\r\n04-Jan-2023 19:33:49.686 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -DjavaEncoding=UTF-8\r\n04-Jan-2023 19:33:49.686 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.net.preferIPv4Stack=true\r\n04-Jan-2023 19:33:49.686 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dsun.rmi.dgc.client.gcInterval=3600000\r\n04-Jan-2023 19:33:49.686 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dsun.rmi.dgc.server.gcInterval=3600000\r\n04-Jan-2023 19:33:49.686 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dsun.lang.ClassLoader.allowArraySyntax=true\r\n04-Jan-2023 19:33:49.687 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -DUseSunHttpHandler=true\r\n04-Jan-2023 19:33:49.687 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dssl.SocketFactory.provider=sun.security.ssl.SSLSocketFactoryImpl\r\n04-Jan-2023 19:33:49.687 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dssl.ServerSocketFactory.provider=sun.security.ssl.SSLSocketFactoryImpl\r\n04-Jan-2023 19:33:49.687 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djdk.tls.ephemeralDHKeySize=2048\r\n04-Jan-2023 19:33:49.689 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.protocol.handler.pkgs=org.apache.catalina.webresources\r\n04-Jan-2023 19:33:49.689 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dorg.apache.catalina.security.SecurityListener.UMASK=0027\r\n04-Jan-2023 19:33:49.689 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcom.sun.management.jmxremote\r\n04-Jan-2023 19:33:49.689 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcom.sun.management.jmxremote.port=8191\r\n04-Jan-2023 19:33:49.689 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcom.sun.management.jmxremote.rmi.port=8191\r\n04-Jan-2023 19:33:49.689 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcom.sun.management.jmxremote.ssl=false\r\n04-Jan-2023 19:33:49.689 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcom.sun.management.jmxremote.authenticate=false\r\n04-Jan-2023 19:33:49.689 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dignore.endorsed.dirs=\r\n04-Jan-2023 19:33:49.689 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcatalina.base=/opt/apache-tomcat-9.0.55\r\n04-Jan-2023 19:33:49.689 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcatalina.home=/opt/apache-tomcat-9.0.55\r\n04-Jan-2023 19:33:49.689 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.io.tmpdir=/opt/apache-tomcat-9.0.55/temp\r\n04-Jan-2023 19:33:49.692 INFO [main] org.apache.catalina.core.AprLifecycleListener.lifecycleEvent The Apache Tomcat Native library which allows using OpenSSL was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]\r\n04-Jan-2023 19:33:50.555 INFO [main] org.apache.coyote.AbstractProtocol.init Initializing ProtocolHandler [&quot;http-nio-8088&quot;]\r\n04-Jan-2023 19:33:50.644 INFO [main] org.apache.catalina.startup.Catalina.load Server initialization in [1490] milliseconds\r\n04-Jan-2023 19:33:50.707 INFO [main] org.apache.catalina.core.StandardService.startInternal Starting service [Catalina]\r\n04-Jan-2023 19:33:50.707 INFO [main] org.apache.catalina.core.StandardEngine.startInternal Starting Servlet engine: [Apache Tomcat/9.0.55]\r\n04-Jan-2023 19:33:50.780 INFO [main] org.apache.catalina.startup.HostConfig.deployWAR Deploying web application archive [/opt/apache-tomcat-9.0.55/webapps/probe.war]\r\nSecurity framework of XStream not initialized, XStream is probably vulnerable.\r\n04-Jan-2023 19:34:03.393 INFO [main] org.apache.catalina.startup.HostConfig.deployWAR Deployment of web application archive [/opt/apache-tomcat-9.0.55/webapps/probe.war] has finished in [12,612] ms\r\n04-Jan-2023 19:34:03.450 INFO [main] org.apache.catalina.startup.HostConfig.deployWAR Deploying web application archive [/opt/apache-tomcat-9.0.55/webapps/reports.war]\r\n04-Jan-2023 19:34:04.725 INFO [main] org.apache.jasper.servlet.TldScanner.scanJars At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\r\n04-Jan-2023 19:34:04.731 INFO [main] org.apache.catalina.startup.HostConfig.deployWAR Deployment of web application archive [/opt/apache-tomcat-9.0.55/webapps/reports.war] has finished in [1,281] ms\r\n04-Jan-2023 19:34:04.743 INFO [main] org.apache.coyote.AbstractProtocol.start Starting ProtocolHandler [&quot;http-nio-8088&quot;]\r\n04-Jan-2023 19:34:04.840 INFO [main] org.apache.catalina.startup.Catalina.start Server startup in [14195] milliseconds\r\n\r\n```\r\n\r\n\r\nThis is a main part of my setenv.sh file: \r\n\r\n```bash\r\nJAVA_HOME=/opt/jdk1.8.0_202\r\nTOMCAT_HOME=/opt/apache-tomcat-9.0.55\r\nSERVER_NAME=tomcat\r\nHOST_IP=10.1.1.144\r\n\r\n# Language\r\nLANG=pt_BR\r\n\r\n#Custom Ports\r\n#HTTP_PORT=80\r\n#AJP_PORT=8119\r\nSSL_PORT=8443\r\nSHUTDOWN_PORT=8115\r\nJMX_PORT=8191\r\n\r\n\r\n# JMX Opts\r\nCATALINA_OPTS=&quot;-Dcom.sun.management.jmxremote&quot;\r\nCATALINA_OPTS=&quot;$CATALINA_OPTS -Dcom.sun.management.jmxremote.port=$JMX_PORT&quot;\r\nCATALINA_OPTS=&quot;$CATALINA_OPTS -Dcom.sun.management.jmxremote.rmi.port=$JMX_PORT&quot;\r\nCATALINA_OPTS=&quot;$CATALINA_OPTS -Dcom.sun.management.jmxremote.ssl=false&quot;\r\nCATALINA_OPTS=&quot;$CATALINA_OPTS -Dcom.sun.management.jmxremote.authenticate=false&quot;\r\nCATALINA_OPTS=&quot;$CATALINA_OPTS -Djava.rmi.server.hostname=$HOST_IP&quot;\r\n\r\n#Prometheus JMX Exporter\r\nJAVA_OPTS=&quot;$JAVA_OPTS -javaagent:/opt/jmx_exporter/jmx_prometheus_javaagent-0.12.0.jar=9404:/opt/jmx_exporter/config.yaml&quot;\r\n\r\n#SET TIMEZONE IN JVM\r\nJAVA_OPTS=&quot;$JAVA_OPTS -Duser.timezone=America/Sao_Paulo&quot;\r\n```\r\n\r\nHow can I tell it to load correctly my setenv.sh file? Is this something on spring config lacking configurations? \r\n\r\nI tried a lot of things to start it using my VARs even putting then into catalina.sh and I have no positive results. \r\n\r\nI need to load those apps and load prometheus and JMX and put it to work with correct time. All my VARS are working on a real installed tomcat. \r\n\r\nWhat I am doing wrong, please?  \r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nI would like to run my tomcat 9 servers with java loading a correct timezone. It is loading one hour more than current time. And I need to put JMX to be acessed outside my container. And I need to export this container status to Prometheus. ","title":"My container has a correct date and timezone. But my tomcat is getting one hour more than I configured. How to fix wrong time in tomcat 9 container?","body":"<p>I am trying to make it run setenv.sh to load some JAVA_OPTS but is it not loading nothing. My Tomcat start a .war files using springboot for start my application.\nThe problem here is that it is not loading correct timezone on java and it is not loading JMX and Prometheus exporters.</p>\n<p>Here is my docker file.</p>\n<pre><code>FROM openjdk:11-jre-slim\nMAINTAINER Me\n\nUSER root\n\nRUN rm -rf ${JAVA_HOME}/*src.zip\n\nENV JAVA_PKG=jdk-8u202-linux-x64.tar.gz\nENV CATALINA_PKG=apache-tomcat-9.0.55.tar.gz\n\nENV JAVA_HOME=/opt/jdk1.8.0_202\nENV CATALINA_HOME=/opt/apache-tomcat-9.0.55\n\nRUN apt-get update &amp;&amp; DEBIAN_FRONTEND=noninteractive apt-get install -y locales\nRUN sed -i -e 's/# pt_BR.UTF-8 UTF-8/pt_BR.UTF-8 UTF-8/' /etc/locale.gen &amp;&amp; \\\n    dpkg-reconfigure --frontend=noninteractive locales &amp;&amp; \\\n    update-locale LANG=pt_BR.UTF-8\nENV LANG pt_BR.UTF-8 \n#RUN echo &quot;America/Sao_Paulo&quot; &gt;  /etc/timezone\nENV TZ=America/Sao_Paulo\nRUN ln -snf /usr/share/zoneinfo/$TZ /etc/localtime &amp;&amp; echo $TZ &gt; /etc/timezone\n\n#ENV TZ America/Sao_Paulo\nENV LANGUAGE pt_BR.UTF-8\nENV LC_ALL pt_BR.UTF-8\n\n\nCOPY ./java/${JAVA_PKG} /opt/\nRUN tar -xzvf /opt/${JAVA_PKG} --directory=/opt/\nRUN rm /opt/${JAVA_PKG}\n\nCOPY ./tomcat/${CATALINA_PKG} /opt/\nRUN tar -xzvf /opt/${CATALINA_PKG} --directory=/opt/\nRUN rm /opt/${CATALINA_PKG}\n\nENV PATH=&quot;$JAVA_HOME/bin:${PATH}&quot;\nENV PATH=&quot;$CATALINA_HOME/bin:${PATH}&quot;\n\n# Create a group and user\n#RUN addgroup -S tomcat_grp &amp;&amp; adduser -S tomcat -G tomcat_grp - criar UID 1002 para facilitar as permissões de escrita no host\nRUN groupadd tomcat_grp &amp;&amp; useradd -r -u 1002 tomcat -g tomcat_grp\n\nCOPY ./lib/* ${CATALINA_HOME}/lib/\n\nRUN chown -R tomcat:tomcat_grp ${CATALINA_HOME}\nRUN chmod -R 777 ${CATALINA_HOME}\n\nRUN chown -R tomcat:tomcat_grp ${JAVA_HOME}\nRUN chmod -R 777 ${JAVA_HOME}\n\nUSER tomcat\n\nEXPOSE 8080\n\nUSER root\n\n#prometheus jmx exporter\nRUN mkdir -p /opt/jmx_exporter\nCOPY ./tomcat/jmx_exporter/jmx_prometheus_javaagent-0.17.2.jar /opt/jmx_exporter\nCOPY ./tomcat/jmx_exporter/config.yaml /opt/jmx_exporter\n\n#clean image\n#CMD [&quot;sh&quot;, &quot;-c&quot;, &quot;apt update&quot;; &quot;apt install wget -y&quot;; &quot;apt-get clean ; apt-get autoclean ; apt-get autoremove&quot;]\nRUN apt update &amp;&amp; apt install wget -y; apt clean; apt autoclean; apt autoremove\n\n#start tomcat\nCOPY startup.sh /usr/local/\nCMD [&quot;sh&quot;, &quot;-c&quot;, &quot;chmod a+x /opt/apache-tomcat-9.0.55/bin/catalina.sh; chmod a+x /opt/apache-tomcat-9.0.55/bin/setenv.sh; /opt/apache-tomcat-9.0.55/bin/setenv.sh; chmod a+x /usr/local/startup.sh ; /usr/local/startup.sh&quot;]\n#RUN chmod a+x /usr/local/startup.sh ; /usr/local/startup.sh\n\n#CMD [&quot;sh&quot;, &quot;-c&quot;, &quot;chmod a+x ${CATALINA_HOME}/bin/*.sh; chmod a+x /usr/local/startup.sh ; ${CATALINA_HOME}/bin/startup.sh&quot;]\n\n#COPY startup.sh /usr/local/\n#CMD chmod a+x /usr/local/startup.sh \n# Launch Tomcat on startup\n#CMD /usr/local/startup.sh\n\n</code></pre>\n<p>This is a one service of my compose stack:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>  tomcat2_ecops_reports_pabx:\n    build: *build\n    labels:\n      - reports_pabx  \n    logging: *default-logging\n    container_name: ecops_reports_pabx_${CLIENT_NAME}_${VER}_${IMAGE_TAG}\n    restart: unless-stopped\n#    command: *command    \n    volumes:\n      -  ${LOCALTIME}\n      -  ${PABXREPTS_PRD}:${POD_WEBAPPS}\n      -  ${REPORTS}:${POD_WEBAPPS}/reports\n      -  ${CONF_CTXT}/context_reports.xml:${CONF_CTXT}/context.xml\n#    environment:\n#      CATALINA_OPTS: &quot;-Djava.rmi.server.hostname=$HOST_IP&quot;\n#      JAVA_OPTS: &quot;-javaagent:/opt/jmx_exporter/jmx_prometheus_javaagent-0.12.0.jar=9404:/opt/jmx_exporter/config.yaml \\\n#        -Duser.timezone=America/Sao_Paulo&quot; \n    ports:\n      - 9912:8088 \n      - 8192:8191\n      - 9402:9404      \n    networks: *networks\n\n</code></pre>\n<p>I got a correct time inside my container:</p>\n<pre class=\"lang-none prettyprint-override\"><code>root@b2ad0fe2338b:/# date\nqua 04 jan 2023 19:31:53 -03\nroot@b2ad0fe2338b:/# \n</code></pre>\n<p>I got correct time in my host system:</p>\n<pre class=\"lang-none prettyprint-override\"><code>[root@VM-L-13104 projeto_psv]# date\nWed Jan  4 19:31:42 -03 2023\n</code></pre>\n<p>Time in probe:</p>\n<blockquote>\n<p>Current time: Wed Jan 04 20:31:35 BRST 2023</p>\n</blockquote>\n<p>This is the springboot process:</p>\n<pre class=\"lang-none prettyprint-override\"><code>VM settings:\n    Max. Heap Size (Estimated): 2.52G\n    Ergonomics Machine Class: server\n    Using VM: Java HotSpot(TM) 64-Bit Server VM\n\n04-Jan-2023 19:33:49.331 SEVERE [main] org.apache.tomcat.vault.util.PropertySourceVault.init Keystore password should be either masked or prefixed with one of {EXT}, {EXTC}, {CMD}, {CMDC}\n    org.apache.tomcat.vault.security.vault.SecurityVaultException: Keystore password should be either masked or prefixed with one of {EXT}, {EXTC}, {CMD}, {CMDC}\n        at org.apache.tomcat.vault.security.vault.PicketBoxSecurityVault.init(PicketBoxSecurityVault.java:168)\n        at org.apache.tomcat.vault.util.PropertySourceVault.init(PropertySourceVault.java:105)\n        at org.apache.tomcat.vault.util.PropertySourceVault.&lt;init&gt;(PropertySourceVault.java:82)\n        at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n        at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n        at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n        at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\n        at org.apache.tomcat.util.digester.Digester.&lt;clinit&gt;(Digester.java:104)\n        at org.apache.catalina.startup.Catalina.createStartDigester(Catalina.java:367)\n        at org.apache.catalina.startup.Catalina.parseServerXml(Catalina.java:608)\n        at org.apache.catalina.startup.Catalina.load(Catalina.java:709)\n        at org.apache.catalina.startup.Catalina.load(Catalina.java:746)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at org.apache.catalina.startup.Bootstrap.load(Bootstrap.java:305)\n        at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:475)\n04-Jan-2023 19:33:49.679 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Server version name:   Apache Tomcat/9.0.55\n04-Jan-2023 19:33:49.683 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Server built:          Nov 10 2021 08:26:45 UTC\n04-Jan-2023 19:33:49.683 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Server version number: 9.0.55.0\n04-Jan-2023 19:33:49.683 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log OS Name:               Linux\n04-Jan-2023 19:33:49.683 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log OS Version:            3.10.0-1160.80.1.0.1.el7.x86_64\n04-Jan-2023 19:33:49.683 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Architecture:          amd64\n04-Jan-2023 19:33:49.683 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Java Home:             /opt/jdk1.8.0_202/jre\n04-Jan-2023 19:33:49.683 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log JVM Version:           1.8.0_202-b08\n04-Jan-2023 19:33:49.683 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log JVM Vendor:            Oracle Corporation\n04-Jan-2023 19:33:49.683 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log CATALINA_BASE:         /opt/apache-tomcat-9.0.55\n04-Jan-2023 19:33:49.684 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log CATALINA_HOME:         /opt/apache-tomcat-9.0.55\n04-Jan-2023 19:33:49.685 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.util.logging.config.file=/opt/apache-tomcat-9.0.55/conf/logging.properties\n04-Jan-2023 19:33:49.685 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager\n04-Jan-2023 19:33:49.685 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dserver=tomcat\n04-Jan-2023 19:33:49.685 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djvm=tomcat\n04-Jan-2023 19:33:49.685 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dhttp.port=\n04-Jan-2023 19:33:49.685 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dajp.port=8119\n04-Jan-2023 19:33:49.685 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dssl.port=8443\n04-Jan-2023 19:33:49.686 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dshutdown.port=8115\n04-Jan-2023 19:33:49.686 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -XX:+UnlockExperimentalVMOptions\n04-Jan-2023 19:33:49.686 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -XX:+UseCGroupMemoryLimitForHeap\n04-Jan-2023 19:33:49.686 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -XX:MaxRAMFraction=2\n04-Jan-2023 19:33:49.686 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.awt.headless=true\n04-Jan-2023 19:33:49.686 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dfile.encoding=UTF-8\n04-Jan-2023 19:33:49.686 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -DjavaEncoding=UTF-8\n04-Jan-2023 19:33:49.686 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.net.preferIPv4Stack=true\n04-Jan-2023 19:33:49.686 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dsun.rmi.dgc.client.gcInterval=3600000\n04-Jan-2023 19:33:49.686 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dsun.rmi.dgc.server.gcInterval=3600000\n04-Jan-2023 19:33:49.686 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dsun.lang.ClassLoader.allowArraySyntax=true\n04-Jan-2023 19:33:49.687 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -DUseSunHttpHandler=true\n04-Jan-2023 19:33:49.687 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dssl.SocketFactory.provider=sun.security.ssl.SSLSocketFactoryImpl\n04-Jan-2023 19:33:49.687 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dssl.ServerSocketFactory.provider=sun.security.ssl.SSLSocketFactoryImpl\n04-Jan-2023 19:33:49.687 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djdk.tls.ephemeralDHKeySize=2048\n04-Jan-2023 19:33:49.689 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.protocol.handler.pkgs=org.apache.catalina.webresources\n04-Jan-2023 19:33:49.689 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dorg.apache.catalina.security.SecurityListener.UMASK=0027\n04-Jan-2023 19:33:49.689 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcom.sun.management.jmxremote\n04-Jan-2023 19:33:49.689 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcom.sun.management.jmxremote.port=8191\n04-Jan-2023 19:33:49.689 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcom.sun.management.jmxremote.rmi.port=8191\n04-Jan-2023 19:33:49.689 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcom.sun.management.jmxremote.ssl=false\n04-Jan-2023 19:33:49.689 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcom.sun.management.jmxremote.authenticate=false\n04-Jan-2023 19:33:49.689 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dignore.endorsed.dirs=\n04-Jan-2023 19:33:49.689 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcatalina.base=/opt/apache-tomcat-9.0.55\n04-Jan-2023 19:33:49.689 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcatalina.home=/opt/apache-tomcat-9.0.55\n04-Jan-2023 19:33:49.689 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.io.tmpdir=/opt/apache-tomcat-9.0.55/temp\n04-Jan-2023 19:33:49.692 INFO [main] org.apache.catalina.core.AprLifecycleListener.lifecycleEvent The Apache Tomcat Native library which allows using OpenSSL was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]\n04-Jan-2023 19:33:50.555 INFO [main] org.apache.coyote.AbstractProtocol.init Initializing ProtocolHandler [&quot;http-nio-8088&quot;]\n04-Jan-2023 19:33:50.644 INFO [main] org.apache.catalina.startup.Catalina.load Server initialization in [1490] milliseconds\n04-Jan-2023 19:33:50.707 INFO [main] org.apache.catalina.core.StandardService.startInternal Starting service [Catalina]\n04-Jan-2023 19:33:50.707 INFO [main] org.apache.catalina.core.StandardEngine.startInternal Starting Servlet engine: [Apache Tomcat/9.0.55]\n04-Jan-2023 19:33:50.780 INFO [main] org.apache.catalina.startup.HostConfig.deployWAR Deploying web application archive [/opt/apache-tomcat-9.0.55/webapps/probe.war]\nSecurity framework of XStream not initialized, XStream is probably vulnerable.\n04-Jan-2023 19:34:03.393 INFO [main] org.apache.catalina.startup.HostConfig.deployWAR Deployment of web application archive [/opt/apache-tomcat-9.0.55/webapps/probe.war] has finished in [12,612] ms\n04-Jan-2023 19:34:03.450 INFO [main] org.apache.catalina.startup.HostConfig.deployWAR Deploying web application archive [/opt/apache-tomcat-9.0.55/webapps/reports.war]\n04-Jan-2023 19:34:04.725 INFO [main] org.apache.jasper.servlet.TldScanner.scanJars At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\n04-Jan-2023 19:34:04.731 INFO [main] org.apache.catalina.startup.HostConfig.deployWAR Deployment of web application archive [/opt/apache-tomcat-9.0.55/webapps/reports.war] has finished in [1,281] ms\n04-Jan-2023 19:34:04.743 INFO [main] org.apache.coyote.AbstractProtocol.start Starting ProtocolHandler [&quot;http-nio-8088&quot;]\n04-Jan-2023 19:34:04.840 INFO [main] org.apache.catalina.startup.Catalina.start Server startup in [14195] milliseconds\n\n</code></pre>\n<p>This is a main part of my setenv.sh file:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>JAVA_HOME=/opt/jdk1.8.0_202\nTOMCAT_HOME=/opt/apache-tomcat-9.0.55\nSERVER_NAME=tomcat\nHOST_IP=10.1.1.144\n\n# Language\nLANG=pt_BR\n\n#Custom Ports\n#HTTP_PORT=80\n#AJP_PORT=8119\nSSL_PORT=8443\nSHUTDOWN_PORT=8115\nJMX_PORT=8191\n\n\n# JMX Opts\nCATALINA_OPTS=&quot;-Dcom.sun.management.jmxremote&quot;\nCATALINA_OPTS=&quot;$CATALINA_OPTS -Dcom.sun.management.jmxremote.port=$JMX_PORT&quot;\nCATALINA_OPTS=&quot;$CATALINA_OPTS -Dcom.sun.management.jmxremote.rmi.port=$JMX_PORT&quot;\nCATALINA_OPTS=&quot;$CATALINA_OPTS -Dcom.sun.management.jmxremote.ssl=false&quot;\nCATALINA_OPTS=&quot;$CATALINA_OPTS -Dcom.sun.management.jmxremote.authenticate=false&quot;\nCATALINA_OPTS=&quot;$CATALINA_OPTS -Djava.rmi.server.hostname=$HOST_IP&quot;\n\n#Prometheus JMX Exporter\nJAVA_OPTS=&quot;$JAVA_OPTS -javaagent:/opt/jmx_exporter/jmx_prometheus_javaagent-0.12.0.jar=9404:/opt/jmx_exporter/config.yaml&quot;\n\n#SET TIMEZONE IN JVM\nJAVA_OPTS=&quot;$JAVA_OPTS -Duser.timezone=America/Sao_Paulo&quot;\n</code></pre>\n<p>How can I tell it to load correctly my setenv.sh file? Is this something on spring config lacking configurations?</p>\n<p>I tried a lot of things to start it using my VARs even putting then into catalina.sh and I have no positive results.</p>\n<p>I need to load those apps and load prometheus and JMX and put it to work with correct time. All my VARS are working on a real installed tomcat.</p>\n<p>What I am doing wrong, please?</p>\n<p>I would like to run my tomcat 9 servers with java loading a correct timezone. It is loading one hour more than current time. And I need to put JMX to be acessed outside my container. And I need to export this container status to Prometheus.</p>\n"},{"tags":["java","linux","sockets","unix-socket"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1668435697,"post_id":74432458,"comment_id":131397546,"body_markdown":"That type is used in junixsocket/junixsocket-tipc/src/main/java/org/newsclub/net/unix/tipc/AFTIPCTopologyWatcher.java","body":"That type is used in junixsocket/junixsocket-tipc/src/main/java/org/newsclub/net/&zwnj;&#8203;unix/tipc/AFTIPCTopo&zwnj;&#8203;logyWatcher.java"},{"owner":{"account_id":16177428,"reputation":1,"user_id":11679726,"display_name":"user11679726"},"score":0,"creation_date":1668516065,"post_id":74432458,"comment_id":131419437,"body_markdown":"thanks. I still need to &quot;unwrap&quot; lines like: `this.channel = AFTIPCDatagramSocket.newInstance(AFSocketType.SOCK_SEQPACKET).getChannel();`","body":"thanks. I still need to &quot;unwrap&quot; lines like: <code>this.channel = AFTIPCDatagramSocket.newInstance(AFSocketType.SOCK_SEQPACKET&zwnj;&#8203;).getChannel();</code>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1668516153,"post_id":74432458,"comment_id":131419474,"body_markdown":"I&#39;m afraid I can&#39;t tell you anything about it. Maybe contact author?","body":"I&#39;m afraid I can&#39;t tell you anything about it. Maybe contact author?"}],"answers":[{"tags":[],"owner":{"account_id":16177428,"reputation":1,"user_id":11679726,"display_name":"user11679726"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1672910865,"creation_date":1672910865,"answer_id":75016266,"question_id":74432458,"body_markdown":"The problem was solved using the Java Native Interface (JNI) directly. It turns out JNI is rather straightforward to use, whereas junixsocket piles up a stack of abstractions I didn&#39;t need.\r\n\r\n","title":"How do I create (and use) a unix domain socket of type SOCK_SEQPACKET on an abstract address with the Java library junixsocket?","body":"<p>The problem was solved using the Java Native Interface (JNI) directly. It turns out JNI is rather straightforward to use, whereas junixsocket piles up a stack of abstractions I didn't need.</p>\n"}],"owner":{"account_id":16177428,"reputation":1,"user_id":11679726,"display_name":"user11679726"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":157,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672910865,"creation_date":1668432650,"question_id":74432458,"body_markdown":"I have written a client and a server in C with such a socket, works fine. Now I need to talk to the server from Java.\r\n\r\nThe library [junixsocket][1] should allow me to do that. But how?\r\n\r\nI can&#39;t find a relevant example in the sources or tests, and the API is somewhat overwhelming to my Java-newbie eyes.\r\n\r\nI get the abstract address with:\r\n```\r\nAFUnixSocketAddress.inAbstractNamespace(&quot;my-project&quot;).\r\n```\r\n How to I create the `SOCK_SEQPACKET` socket? Connect to the server? Send and receive messages?\r\n\r\n[1]: https://kohlschutter.github.io/junixsocket/index.html","title":"How do I create (and use) a unix domain socket of type SOCK_SEQPACKET on an abstract address with the Java library junixsocket?","body":"<p>I have written a client and a server in C with such a socket, works fine. Now I need to talk to the server from Java.</p>\n<p>The library <a href=\"https://kohlschutter.github.io/junixsocket/index.html\" rel=\"nofollow noreferrer\">junixsocket</a> should allow me to do that. But how?</p>\n<p>I can't find a relevant example in the sources or tests, and the API is somewhat overwhelming to my Java-newbie eyes.</p>\n<p>I get the abstract address with:</p>\n<pre><code>AFUnixSocketAddress.inAbstractNamespace(&quot;my-project&quot;).\n</code></pre>\n<p>How to I create the <code>SOCK_SEQPACKET</code> socket? Connect to the server? Send and receive messages?</p>\n"},{"tags":["java","spring","spring-mvc","spring-2.5"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1672912685,"post_id":75016063,"comment_id":132381459,"body_markdown":"I would strongly suggest to upgrade to Spring 5.3 (at least) as that is still supported. YOu don&#39;t want to use a version that is very old and has known security flaws etc. That being said I [here](https://docs.spring.io/spring-framework/docs/2.5.6/reference/mvc.html#mvc-annotation) are the annotation driven docs for Spring 2.5.","body":"I would strongly suggest to upgrade to Spring 5.3 (at least) as that is still supported. YOu don&#39;t want to use a version that is very old and has known security flaws etc. That being said I <a href=\"https://docs.spring.io/spring-framework/docs/2.5.6/reference/mvc.html#mvc-annotation\" rel=\"nofollow noreferrer\">here</a> are the annotation driven docs for Spring 2.5."}],"owner":{"account_id":4597208,"reputation":48209,"user_id":3728901,"accept_rate":58,"display_name":"Vy Do"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672910669,"creation_date":1672909765,"question_id":75016063,"body_markdown":"I study for maintain an old web-app (Spring 2.5, Java/JDK 1.6, Eclipse IDE 2022-06, Windows 10 x64).\r\n\r\nLearned from tutorial https://mkyong.com/spring-mvc/spring-mvc-jquery-autocomplete-example/\r\n\r\nFile `mvc-dispatcher-servlet.xml`\r\n\r\n```xml\r\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n\txmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;\r\n\txsi:schemaLocation=&quot;\r\n        http://www.springframework.org/schema/beans     \r\n        http://www.springframework.org/schema/beans/spring-beans-3.0.xsd\r\n        http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-3.0.xsd\r\n        http://www.springframework.org/schema/context \r\n        http://www.springframework.org/schema/context/spring-context-3.0.xsd&quot;&gt;\r\n\r\n\t&lt;context:component-scan base-package=&quot;com.mkyong&quot; /&gt;\r\n\t&lt;bean\r\n\t\tclass=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;\r\n\t\t&lt;property name=&quot;prefix&quot;&gt;\r\n\t\t\t&lt;value&gt;/WEB-INF/pages/&lt;/value&gt;\r\n\t\t&lt;/property&gt;\r\n\t\t&lt;property name=&quot;suffix&quot;&gt;\r\n\t\t\t&lt;value&gt;.jsp&lt;/value&gt;\r\n\t\t&lt;/property&gt;\r\n\t&lt;/bean&gt;\r\n\t\r\n\t&lt;mvc:resources mapping=&quot;/resources/**&quot; location=&quot;/resources/&quot; /&gt;\r\n\r\n\t&lt;mvc:annotation-driven /&gt;\r\n\r\n&lt;/beans&gt;\r\n```\r\nI need convert this web-app (Spring 3.0) to Spring 2.5, how to revise? What is the same of Spring 3.0&#39;s &lt;mvc:annotation-driven&gt; in Spring 2.5?","title":"What is the same of Spring 3.0&#39;s &lt;mvc:annotation-driven&gt; in Spring 2.5?","body":"<p>I study for maintain an old web-app (Spring 2.5, Java/JDK 1.6, Eclipse IDE 2022-06, Windows 10 x64).</p>\n<p>Learned from tutorial <a href=\"https://mkyong.com/spring-mvc/spring-mvc-jquery-autocomplete-example/\" rel=\"nofollow noreferrer\">https://mkyong.com/spring-mvc/spring-mvc-jquery-autocomplete-example/</a></p>\n<p>File <code>mvc-dispatcher-servlet.xml</code></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n    xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;\n    xsi:schemaLocation=&quot;\n        http://www.springframework.org/schema/beans     \n        http://www.springframework.org/schema/beans/spring-beans-3.0.xsd\n        http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-3.0.xsd\n        http://www.springframework.org/schema/context \n        http://www.springframework.org/schema/context/spring-context-3.0.xsd&quot;&gt;\n\n    &lt;context:component-scan base-package=&quot;com.mkyong&quot; /&gt;\n    &lt;bean\n        class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;\n        &lt;property name=&quot;prefix&quot;&gt;\n            &lt;value&gt;/WEB-INF/pages/&lt;/value&gt;\n        &lt;/property&gt;\n        &lt;property name=&quot;suffix&quot;&gt;\n            &lt;value&gt;.jsp&lt;/value&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt;\n    \n    &lt;mvc:resources mapping=&quot;/resources/**&quot; location=&quot;/resources/&quot; /&gt;\n\n    &lt;mvc:annotation-driven /&gt;\n\n&lt;/beans&gt;\n</code></pre>\n<p>I need convert this web-app (Spring 3.0) to Spring 2.5, how to revise? What is the same of Spring 3.0's mvc:annotation-driven in Spring 2.5?</p>\n"},{"tags":["java","permissions","guava","rate-limiting","resilience4j"],"answers":[{"tags":[],"owner":{"account_id":9992410,"reputation":460,"user_id":8710383,"display_name":"Oleksandr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1672910551,"creation_date":1672910551,"answer_id":75016225,"question_id":74994302,"body_markdown":"We found a solution only using **Resilience4J**.\r\nBased on the fact that the accumulation of the bucket in the rate limiter works on the basis of periodicity - we just redefined the period setting.\r\n\r\nInstead of 5 requests per 1 second, it became 1 request per 0.2s.\r\n\r\nMore precisely, it is even a smoothing of the effect of the accumulation of tokens instead of a solution, but it works pretty well.\r\n\r\n    public static RateLimiter buildRateLimiter(Duration period, int limit) {\r\n        var config = RateLimiterConfig.custom()\r\n                                      .limitRefreshPeriod(ofMillis(period.toMillis() / limit))\r\n                                      .limitForPeriod(1)\r\n                                      .build();\r\n\r\n        return RateLimiterRegistry.of(config).rateLimiter(&quot;test&quot;, config);\r\n    }\r\n\r\n","title":"RateLimiter disable permission accumulation","body":"<p>We found a solution only using <strong>Resilience4J</strong>.\nBased on the fact that the accumulation of the bucket in the rate limiter works on the basis of periodicity - we just redefined the period setting.</p>\n<p>Instead of 5 requests per 1 second, it became 1 request per 0.2s.</p>\n<p>More precisely, it is even a smoothing of the effect of the accumulation of tokens instead of a solution, but it works pretty well.</p>\n<pre><code>public static RateLimiter buildRateLimiter(Duration period, int limit) {\n    var config = RateLimiterConfig.custom()\n                                  .limitRefreshPeriod(ofMillis(period.toMillis() / limit))\n                                  .limitForPeriod(1)\n                                  .build();\n\n    return RateLimiterRegistry.of(config).rateLimiter(&quot;test&quot;, config);\n}\n</code></pre>\n"}],"owner":{"account_id":9992410,"reputation":460,"user_id":8710383,"display_name":"Oleksandr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":214,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75016225,"answer_count":1,"score":0,"last_activity_date":1672910551,"creation_date":1672753958,"question_id":74994302,"body_markdown":"We are looking at 2 different libraries that work in the same way: **Apache Guava RateLimiter** &amp; **Resilience4J**.\r\n\r\nAccording to the documentation: \r\n\r\n&gt; RateLimiter uses the token bucket algorithm and accumulates the tokens. If the token consumption frequency is low, the requests can directly get the tokens without waiting. RateLimiter accumulates tokens to allow it to cope with a sudden increase in traffic. When RateLimiter does not have sufficient number of tokens available, it uses the delayed processing method.\r\n\r\n\r\nI observe that at such a moment the number of resolutions can reach x2 of the given one per second. Here is a simplified example of the Guava RateLimiter issue:\r\n\r\n    public static void main(String[] args) throws InterruptedException {\r\n        var result = new ArrayList&lt;Integer&gt;();\r\n        var rateLimiter = RateLimiter.create(5);\r\n\r\n        // Required to accumulate permissions\r\n        Thread.sleep(30000);\r\n\r\n        for (int i = 0; i &lt; 30; i++) {\r\n            result.add(LocalTime.now().getSecond());\r\n            rateLimiter.acquire();\r\n        }\r\n\r\n        var collect = result.stream().collect(Collectors.groupingBy(e -&gt; e, Collectors.counting()));\r\n        System.out.println(collect);\r\n    }\r\n\r\nThe result will be something like this:\r\n    `{42=10, 43=5, 44=5, 45=5, 46=5}`.\r\nX2 permissions at the first second instead of target 5.\r\n\r\nSo my main question is: how to disable such logic with accumulation? Or what are the options to avoid this? I can&#39;t cross the 5 rps limit.\r\n\r\n*P.S. Resilience4J works with the same logic, but creation should be:*\r\n\r\n        public static RateLimiter buildRateLimiter() {\r\n        var config = RateLimiterConfig.custom()\r\n                                      .limitRefreshPeriod(Duration.ofSeconds(1))\r\n                                      .limitForPeriod(5)\r\n                                      .build();\r\n\r\n        return RateLimiterRegistry.of(config).rateLimiter(&quot;test&quot;, config);\r\n    }","title":"RateLimiter disable permission accumulation","body":"<p>We are looking at 2 different libraries that work in the same way: <strong>Apache Guava RateLimiter</strong> &amp; <strong>Resilience4J</strong>.</p>\n<p>According to the documentation:</p>\n<blockquote>\n<p>RateLimiter uses the token bucket algorithm and accumulates the tokens. If the token consumption frequency is low, the requests can directly get the tokens without waiting. RateLimiter accumulates tokens to allow it to cope with a sudden increase in traffic. When RateLimiter does not have sufficient number of tokens available, it uses the delayed processing method.</p>\n</blockquote>\n<p>I observe that at such a moment the number of resolutions can reach x2 of the given one per second. Here is a simplified example of the Guava RateLimiter issue:</p>\n<pre><code>public static void main(String[] args) throws InterruptedException {\n    var result = new ArrayList&lt;Integer&gt;();\n    var rateLimiter = RateLimiter.create(5);\n\n    // Required to accumulate permissions\n    Thread.sleep(30000);\n\n    for (int i = 0; i &lt; 30; i++) {\n        result.add(LocalTime.now().getSecond());\n        rateLimiter.acquire();\n    }\n\n    var collect = result.stream().collect(Collectors.groupingBy(e -&gt; e, Collectors.counting()));\n    System.out.println(collect);\n}\n</code></pre>\n<p>The result will be something like this:\n<code>{42=10, 43=5, 44=5, 45=5, 46=5}</code>.\nX2 permissions at the first second instead of target 5.</p>\n<p>So my main question is: how to disable such logic with accumulation? Or what are the options to avoid this? I can't cross the 5 rps limit.</p>\n<p><em>P.S. Resilience4J works with the same logic, but creation should be:</em></p>\n<pre><code>    public static RateLimiter buildRateLimiter() {\n    var config = RateLimiterConfig.custom()\n                                  .limitRefreshPeriod(Duration.ofSeconds(1))\n                                  .limitForPeriod(5)\n                                  .build();\n\n    return RateLimiterRegistry.of(config).rateLimiter(&quot;test&quot;, config);\n}\n</code></pre>\n"},{"tags":["java","spring-boot","apache-camel","junit5"],"owner":{"account_id":26014900,"reputation":23,"user_id":20825594,"display_name":"John"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672910443,"creation_date":1672910443,"question_id":75016203,"body_markdown":"I have this test class - currently it is checking the response at the endpoint \r\n\r\n    Endpoints.SEDA_PROCESS_ENDPOINT\r\n\r\nbut I need it to check at\r\n\r\n     &quot;mock:&quot;+Endpoints.SEDA_PROCESS_ENDPOINT\r\n\r\n\r\nIs there a way to forward the response to this mock endpoint I have just defined?\r\n\r\nbelow is my test class \r\n\r\n    package com.sams.pricing.prism.data.processor;\r\n    \r\n    import java.math.BigDecimal;\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    \r\n    import org.apache.camel.EndpointInject;\r\n    import org.apache.camel.ProducerTemplate;\r\n    import org.apache.camel.component.mock.MockEndpoint;\r\n    import org.apache.camel.test.spring.MockEndpoints;\r\n    import org.apache.camel.test.spring.junit5.CamelSpringBootTest;\r\n    import org.junit.jupiter.api.Test;\r\n    import org.mockito.Mock;\r\n    import org.mockito.Mockito;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.boot.test.context.SpringBootTest;\r\n    \r\n    import com.fasterxml.jackson.core.JsonProcessingException;\r\n    import com.sams.pricing.prism.data.processor.model.CostIQRetail;\r\n    import com.sams.pricing.prism.data.processor.routes.PrismRouter;\r\n    import com.sams.pricing.prism.data.processor.service.RulesEngineClient;\r\n    import com.sams.pricing.prism.data.processor.util.Endpoints;\r\n    \r\n    \r\n    \r\n    @SpringBootTest\r\n    @CamelSpringBootTest\r\n    @MockEndpoints( Endpoints.SEDA_PROCESS_ENDPOINT)\r\n    public class CamelRouteTests3  {\r\n    \r\n    \r\n    \t\r\n    \r\n    \t    @Autowired\r\n    \t    private ProducerTemplate template;\r\n    \r\n    \t    @EndpointInject( &quot;mock:&quot; + Endpoints.SEDA_PROCESS_ENDPOINT)\r\n    \t    private MockEndpoint mock;\r\n    \r\n    \t    @Mock\r\n    \t    private  PrismRouter p;\r\n    \t    \r\n    \t    @Mock\r\n    \t    private RulesEngineClient rulesEngineClientMock;\r\n    \r\n    \t\r\n    \t\r\n    \r\n    \tpublic CostIQRetail costIQObject() {\r\n    \r\n    \t\tCostIQRetail obj = new CostIQRetail();\r\n    \r\n    \t\tobj.setItemNbr(123);\r\n    \t\tobj.setLocationNbr(4931);\r\n    \t\tobj.setIsDcFlag(false) ;\r\n    \t\tobj.setStatus(&quot;SUCCESS&quot;);\r\n    \t\tobj.setOrderableCost(new BigDecimal((10.0)));\r\n    \t\tobj.setWarehousePackCost(new BigDecimal(100.0));\r\n    \t\tobj.setOrderablePrepaidCost(null) ;\r\n    \t\tobj.setOrderableCollectCost(null) ;\r\n    \t\tobj.setReasonCode(&quot;Markdown - category funded&quot;);\r\n    \t\tobj.setEffectiveDate(&quot;2022-12-29&quot;);\r\n    \t\tobj.setIsFutureEffectiveDate(false);\r\n    \t\tobj.setCostType(&quot;WAREHOUSE PACK COST&quot;);\r\n    \t\tobj.setSource(&quot;COST IQ&quot;);\r\n    \t\tobj.setCreatedBy(&quot;lab1 account&quot;);\r\n    \t\tobj.setCreatedByUserId(&quot;LB-cost-test&quot;);\r\n    \t\tobj.setCreatedTs(&quot;2022-12-29T02:42:25.529Z&quot;);\r\n    \t\tobj.setCurrentRetailPrice(new BigDecimal(55.0)) ;\r\n    \t\tobj.setCurrentOrderableCost(null);\r\n    \t\tobj.setCurrentWarehousePackCost(new BigDecimal((0.0)));\r\n    \t\tobj.setCurrentOrderablePrepaidCost(null) ;\r\n    \t\tobj.setCurrentOrderableCollectCost(null);\r\n    \t\tobj.setMarginChange(new BigDecimal((-100.0)));\r\n    \t\tobj.setOwedToClub(new BigDecimal((0.0))); \r\n    \t\tobj.setItemSourceId(3572924); \r\n    \t\tobj.setPriceDestId(701800);\r\n    \t\tobj.setCategory(87);\r\n    \t\tobj.setOrderableQty(null);\r\n    \t\tobj.setOldMargin(new BigDecimal((100.0)));\r\n    \t\tobj.setNewMargin(new BigDecimal(0.0));  \r\n    \r\n    \t\treturn obj;\r\n    \t}\r\n    \r\n    \tprivate String costIQPayloadString() throws JsonProcessingException\r\n    \t{\r\n    \r\n    \t\t String key =  &quot;{\\&quot;retailTypeReasonCode\\&quot;:{\\&quot;retailTypeReasonCodeId\\&quot;:{\\&quot;retailType\\&quot;:\\&quot;BP\\&quot;,\\&quot;retailReasonCode\\&quot;:\\&quot;CC\\&quot;}},\\&quot;expirationDate\\&quot;:null,\\&quot;customerRetailAmount\\&quot;:0.0,\\&quot;auditMessage\\&quot;:null,\\&quot;createdTimestamp\\&quot;:null,\\&quot;clientID\\&quot;:\\&quot;COST IQ\\&quot;,\\&quot;rowNumber\\&quot;:0,\\&quot;auditRecordTimestamp\\&quot;:null,\\&quot;clubNumber\\&quot;:4931,\\&quot;itemNumber\\&quot;:123,\\&quot;effectiveDate\\&quot;:\\&quot;2022-12-29\\&quot;,\\&quot;submissionID\\&quot;:null,\\&quot;retailAmount\\&quot;:55.0,\\&quot;createdBy\\&quot;:\\&quot;lab1 account\\&quot;}&quot;;\r\n    \t\t String key2 = &quot;{\\&quot;retailTypeReasonCode\\&quot;:{\\&quot;retailTypeReasonCodeId\\&quot;:{\\&quot;retailType\\&quot;:\\&quot;BP\\&quot;,\\&quot;retailReasonCode\\&quot;:\\&quot;CC\\&quot;}},\\&quot;expirationDate\\&quot;:null,\\&quot;customerRetailAmount\\&quot;:0.0,\\&quot;auditMessage\\&quot;:null,\\&quot;createdTimestamp\\&quot;:null,\\&quot;clientID\\&quot;:\\&quot;COST IQ\\&quot;,\\&quot;rowNumber\\&quot;:0,\\&quot;auditRecordTimestamp\\&quot;:null,\\&quot;categoryId\\&quot;:87,\\&quot;subCategoryId\\&quot;:1,\\&quot;clubNumber\\&quot;:4931,\\&quot;itemNumber\\&quot;:123,\\&quot;effectiveDate\\&quot;:\\&quot;2022-12-29\\&quot;,\\&quot;submissionID\\&quot;:null,\\&quot;retailAmount\\&quot;:10.0,\\&quot;createdBy\\&quot;:\\&quot;lab1 account\\&quot;}&quot;;\r\n    \t\t return key2;\r\n    \r\n    \t}\r\n    \r\n    \r\n    \t@Test\r\n    \t void test() throws Exception {\r\n    \t\t// Set up the mock endpoints\r\n    \t\tmock.expectedBodiesReceived(costIQPayloadString());\r\n    \r\n    //p.interceptSendToEndpoint( Endpoints.SEDA_PROCESS_ENDPOINT).to(mock.getEndpointUri());\r\n    \t\tMockito.when(rulesEngineClientMock.validateRules((costIQObject()))).thenReturn(costIQObject());  //.thenR\r\n    \r\n    \t\tMap&lt;String, Object&gt; headers = new HashMap&lt;&gt;();\r\n    \t\theaders.put(&quot;appName&quot;, &quot;costIQ&quot;);\r\n    \r\n    \r\n    \r\n    \r\n    \t\t//   Send the test message to the SEDA_SEND_ENDPOINT\r\n    \t\ttemplate.sendBodyAndHeaders(Endpoints.SEDA_SEND_ENDPOINT, costIQObject(), headers);\r\n    \t\t\r\n    \t\tmock.assertIsSatisfied();\r\n    \r\n    \r\n    \t\r\n    \t}\r\n    \r\n    \r\n    \r\n    }\r\n\r\nI have looked at advice with but that involves adding in the cameltestsupport and would need to re-write this code. Is there a way to do this with current implementations? \r\n","title":"Apache camel - I want to send to my mock endpoint","body":"<p>I have this test class - currently it is checking the response at the endpoint</p>\n<pre><code>Endpoints.SEDA_PROCESS_ENDPOINT\n</code></pre>\n<p>but I need it to check at</p>\n<pre><code> &quot;mock:&quot;+Endpoints.SEDA_PROCESS_ENDPOINT\n</code></pre>\n<p>Is there a way to forward the response to this mock endpoint I have just defined?</p>\n<p>below is my test class</p>\n<pre><code>package com.sams.pricing.prism.data.processor;\n\nimport java.math.BigDecimal;\nimport java.util.HashMap;\nimport java.util.Map;\n\nimport org.apache.camel.EndpointInject;\nimport org.apache.camel.ProducerTemplate;\nimport org.apache.camel.component.mock.MockEndpoint;\nimport org.apache.camel.test.spring.MockEndpoints;\nimport org.apache.camel.test.spring.junit5.CamelSpringBootTest;\nimport org.junit.jupiter.api.Test;\nimport org.mockito.Mock;\nimport org.mockito.Mockito;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.context.SpringBootTest;\n\nimport com.fasterxml.jackson.core.JsonProcessingException;\nimport com.sams.pricing.prism.data.processor.model.CostIQRetail;\nimport com.sams.pricing.prism.data.processor.routes.PrismRouter;\nimport com.sams.pricing.prism.data.processor.service.RulesEngineClient;\nimport com.sams.pricing.prism.data.processor.util.Endpoints;\n\n\n\n@SpringBootTest\n@CamelSpringBootTest\n@MockEndpoints( Endpoints.SEDA_PROCESS_ENDPOINT)\npublic class CamelRouteTests3  {\n\n\n    \n\n        @Autowired\n        private ProducerTemplate template;\n\n        @EndpointInject( &quot;mock:&quot; + Endpoints.SEDA_PROCESS_ENDPOINT)\n        private MockEndpoint mock;\n\n        @Mock\n        private  PrismRouter p;\n        \n        @Mock\n        private RulesEngineClient rulesEngineClientMock;\n\n    \n    \n\n    public CostIQRetail costIQObject() {\n\n        CostIQRetail obj = new CostIQRetail();\n\n        obj.setItemNbr(123);\n        obj.setLocationNbr(4931);\n        obj.setIsDcFlag(false) ;\n        obj.setStatus(&quot;SUCCESS&quot;);\n        obj.setOrderableCost(new BigDecimal((10.0)));\n        obj.setWarehousePackCost(new BigDecimal(100.0));\n        obj.setOrderablePrepaidCost(null) ;\n        obj.setOrderableCollectCost(null) ;\n        obj.setReasonCode(&quot;Markdown - category funded&quot;);\n        obj.setEffectiveDate(&quot;2022-12-29&quot;);\n        obj.setIsFutureEffectiveDate(false);\n        obj.setCostType(&quot;WAREHOUSE PACK COST&quot;);\n        obj.setSource(&quot;COST IQ&quot;);\n        obj.setCreatedBy(&quot;lab1 account&quot;);\n        obj.setCreatedByUserId(&quot;LB-cost-test&quot;);\n        obj.setCreatedTs(&quot;2022-12-29T02:42:25.529Z&quot;);\n        obj.setCurrentRetailPrice(new BigDecimal(55.0)) ;\n        obj.setCurrentOrderableCost(null);\n        obj.setCurrentWarehousePackCost(new BigDecimal((0.0)));\n        obj.setCurrentOrderablePrepaidCost(null) ;\n        obj.setCurrentOrderableCollectCost(null);\n        obj.setMarginChange(new BigDecimal((-100.0)));\n        obj.setOwedToClub(new BigDecimal((0.0))); \n        obj.setItemSourceId(3572924); \n        obj.setPriceDestId(701800);\n        obj.setCategory(87);\n        obj.setOrderableQty(null);\n        obj.setOldMargin(new BigDecimal((100.0)));\n        obj.setNewMargin(new BigDecimal(0.0));  \n\n        return obj;\n    }\n\n    private String costIQPayloadString() throws JsonProcessingException\n    {\n\n         String key =  &quot;{\\&quot;retailTypeReasonCode\\&quot;:{\\&quot;retailTypeReasonCodeId\\&quot;:{\\&quot;retailType\\&quot;:\\&quot;BP\\&quot;,\\&quot;retailReasonCode\\&quot;:\\&quot;CC\\&quot;}},\\&quot;expirationDate\\&quot;:null,\\&quot;customerRetailAmount\\&quot;:0.0,\\&quot;auditMessage\\&quot;:null,\\&quot;createdTimestamp\\&quot;:null,\\&quot;clientID\\&quot;:\\&quot;COST IQ\\&quot;,\\&quot;rowNumber\\&quot;:0,\\&quot;auditRecordTimestamp\\&quot;:null,\\&quot;clubNumber\\&quot;:4931,\\&quot;itemNumber\\&quot;:123,\\&quot;effectiveDate\\&quot;:\\&quot;2022-12-29\\&quot;,\\&quot;submissionID\\&quot;:null,\\&quot;retailAmount\\&quot;:55.0,\\&quot;createdBy\\&quot;:\\&quot;lab1 account\\&quot;}&quot;;\n         String key2 = &quot;{\\&quot;retailTypeReasonCode\\&quot;:{\\&quot;retailTypeReasonCodeId\\&quot;:{\\&quot;retailType\\&quot;:\\&quot;BP\\&quot;,\\&quot;retailReasonCode\\&quot;:\\&quot;CC\\&quot;}},\\&quot;expirationDate\\&quot;:null,\\&quot;customerRetailAmount\\&quot;:0.0,\\&quot;auditMessage\\&quot;:null,\\&quot;createdTimestamp\\&quot;:null,\\&quot;clientID\\&quot;:\\&quot;COST IQ\\&quot;,\\&quot;rowNumber\\&quot;:0,\\&quot;auditRecordTimestamp\\&quot;:null,\\&quot;categoryId\\&quot;:87,\\&quot;subCategoryId\\&quot;:1,\\&quot;clubNumber\\&quot;:4931,\\&quot;itemNumber\\&quot;:123,\\&quot;effectiveDate\\&quot;:\\&quot;2022-12-29\\&quot;,\\&quot;submissionID\\&quot;:null,\\&quot;retailAmount\\&quot;:10.0,\\&quot;createdBy\\&quot;:\\&quot;lab1 account\\&quot;}&quot;;\n         return key2;\n\n    }\n\n\n    @Test\n     void test() throws Exception {\n        // Set up the mock endpoints\n        mock.expectedBodiesReceived(costIQPayloadString());\n\n//p.interceptSendToEndpoint( Endpoints.SEDA_PROCESS_ENDPOINT).to(mock.getEndpointUri());\n        Mockito.when(rulesEngineClientMock.validateRules((costIQObject()))).thenReturn(costIQObject());  //.thenR\n\n        Map&lt;String, Object&gt; headers = new HashMap&lt;&gt;();\n        headers.put(&quot;appName&quot;, &quot;costIQ&quot;);\n\n\n\n\n        //   Send the test message to the SEDA_SEND_ENDPOINT\n        template.sendBodyAndHeaders(Endpoints.SEDA_SEND_ENDPOINT, costIQObject(), headers);\n        \n        mock.assertIsSatisfied();\n\n\n    \n    }\n\n\n\n}\n</code></pre>\n<p>I have looked at advice with but that involves adding in the cameltestsupport and would need to re-write this code. Is there a way to do this with current implementations?</p>\n"},{"tags":["java","spring-boot","logging","logback","multi-tenant"],"comments":[{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1672745389,"post_id":74992625,"comment_id":132339548,"body_markdown":"`TurboFilter`s do not exist in Log4j2, they are characteristic to Logback. Did you tag your question correctly? If you are indeed using Log4j2 Core, see [this question](https://stackoverflow.com/q/74917795/11748454) for a standard filter that can change configuration without reloading the entire logging system.","body":"<code>TurboFilter</code>s do not exist in Log4j2, they are characteristic to Logback. Did you tag your question correctly? If you are indeed using Log4j2 Core, see <a href=\"https://stackoverflow.com/q/74917795/11748454\">this question</a> for a standard filter that can change configuration without reloading the entire logging system."},{"owner":{"account_id":16369011,"reputation":9,"user_id":11822699,"display_name":"Manjunath"},"score":0,"creation_date":1672983057,"post_id":74992625,"comment_id":132400381,"body_markdown":"Thanks for the response, yes @PiotrP.Karwasz we are using TurboFilters which the characteristic of logback we have already achieved changing configuration per tenant without reloading the entire logging system. But we need to further changing logger level for package/class along with per tenant without reloading the entire logging system.\nLet us know if you have any suggestion.","body":"Thanks for the response, yes @PiotrP.Karwasz we are using TurboFilters which the characteristic of logback we have already achieved changing configuration per tenant without reloading the entire logging system. But we need to further changing logger level for package/class along with per tenant without reloading the entire logging system. Let us know if you have any suggestion."}],"owner":{"account_id":16369011,"reputation":9,"user_id":11822699,"display_name":"Manjunath"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1672910351,"creation_date":1672744634,"question_id":74992625,"body_markdown":"here we have a use cases, we are working on a web application that will host multiple companies (tenant).\r\n\r\n \r\n\r\nCurrently, we have added company-specific log separation using MDC. It will separate the log files per company.\r\n\r\n \r\n\r\nWe want the flexibility to change the logger level at runtime for a company (tenant) specific along with package/class logger level change, as we are getting a bulk number of unwanted logs in those files.\r\n \r\n\r\n \r\n\r\n \r\n\r\nCan anyone help me with this?\r\n\r\nWe have achieved it partially either for the Company or Package level.\r\n\r\n \r\n\r\n&#183; Company-specific logger level change using **Turbo Filter.**\r\n\r\n \r\n\r\n&#183; Package/Class level using **Admin Centre (using Actuator endpoints)**\r\n \r\n\r\nOur question is if there is any way to change the logger level at run-time for a company-specific along with package/class.\r\n\r\n \r\n\r\nEg: As Our application is Hosted for two companies ACOMP &amp; BCOMP.\r\n\r\n \r\n\r\nOur requirement is\r\n\r\n \r\n\r\nACOMP should log at INFO as root logger level, also user can set few packages like **com.test.samplepackage to DEBUG level**.\r\n \r\n\r\nSimilarly,\r\n\r\nBCOMP should log at DEBUG as root logger level, also user can set few packages like **com.test.samplepackage to ERROR** level.\r\n \r\n\r\n \r\n\r\nCan anyone help me with this?","title":"Logger level change for multi-tenant application as well as Package/Class logger level","body":"<p>here we have a use cases, we are working on a web application that will host multiple companies (tenant).</p>\n<p>Currently, we have added company-specific log separation using MDC. It will separate the log files per company.</p>\n<p>We want the flexibility to change the logger level at runtime for a company (tenant) specific along with package/class logger level change, as we are getting a bulk number of unwanted logs in those files.</p>\n<p>Can anyone help me with this?</p>\n<p>We have achieved it partially either for the Company or Package level.</p>\n<p>· Company-specific logger level change using <strong>Turbo Filter.</strong></p>\n<p>· Package/Class level using <strong>Admin Centre (using Actuator endpoints)</strong></p>\n<p>Our question is if there is any way to change the logger level at run-time for a company-specific along with package/class.</p>\n<p>Eg: As Our application is Hosted for two companies ACOMP &amp; BCOMP.</p>\n<p>Our requirement is</p>\n<p>ACOMP should log at INFO as root logger level, also user can set few packages like <strong>com.test.samplepackage to DEBUG level</strong>.</p>\n<p>Similarly,</p>\n<p>BCOMP should log at DEBUG as root logger level, also user can set few packages like <strong>com.test.samplepackage to ERROR</strong> level.</p>\n<p>Can anyone help me with this?</p>\n"},{"tags":["java","spring","eclipse","servlets"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1672908852,"post_id":75015663,"comment_id":132380261,"body_markdown":"Obviously not, as that is the parameter name used by the `ContextLoaderListener` to determine which xml file to load (by default it loads `/WEB-INF/applicationContext.xml`. There is a problem with this setup as you are now loading your application twice, once in the `ContextLoaderListener` and again by the `DispatcherServlet`.","body":"Obviously not, as that is the parameter name used by the <code>ContextLoaderListener</code> to determine which xml file to load (by default it loads <code>&#47;WEB-INF&#47;applicationContext.xml</code>. There is a problem with this setup as you are now loading your application twice, once in the <code>ContextLoaderListener</code> and again by the <code>DispatcherServlet</code>."}],"owner":{"account_id":4597208,"reputation":48209,"user_id":3728901,"accept_rate":58,"display_name":"Vy Do"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1672909941,"creation_date":1672907548,"question_id":75015663,"body_markdown":"I am using Java/JDK 1.6,  Spring 2.5.6, Eclipse IDE 2022-06 . I see file `web.xml`\r\n\r\n[![enter image description here][1]][1]\r\n\r\n```xml\r\n&lt;web-app xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee \r\n\t      http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot;\r\n\tversion=&quot;2.5&quot;&gt;\r\n\r\n\t&lt;display-name&gt;Archetype Created Web Application&lt;/display-name&gt;\r\n\r\n\t&lt;servlet&gt;\r\n\t\t&lt;servlet-name&gt;mvc-dispatcher&lt;/servlet-name&gt;\r\n\t\t&lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\r\n\t\t&lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n\t&lt;/servlet&gt;\r\n\r\n\t&lt;servlet-mapping&gt;\r\n\t\t&lt;servlet-name&gt;mvc-dispatcher&lt;/servlet-name&gt;\r\n\t\t&lt;url-pattern&gt;/&lt;/url-pattern&gt;\r\n\t&lt;/servlet-mapping&gt;\r\n\r\n\t&lt;context-param&gt;\r\n\t\t&lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n\t\t&lt;param-value&gt;/WEB-INF/mvc-dispatcher-servlet.xml&lt;/param-value&gt;\r\n\t&lt;/context-param&gt;\r\n\r\n\t&lt;listener&gt;\r\n\t\t&lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;\r\n\t&lt;/listener&gt;\r\n\r\n&lt;/web-app&gt;\r\n```\r\nPlease focus at this line\r\n\r\n```xml\r\n&lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n```\r\n\r\nCan we replace word `contextConfigLocation` by `foo`?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5VlrY.png","title":"Can we replace word contextConfigLocation by foo?","body":"<p>I am using Java/JDK 1.6,  Spring 2.5.6, Eclipse IDE 2022-06 . I see file <code>web.xml</code></p>\n<p><a href=\"https://i.stack.imgur.com/5VlrY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5VlrY.png\" alt=\"enter image description here\" /></a></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;web-app xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee \n          http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot;\n    version=&quot;2.5&quot;&gt;\n\n    &lt;display-name&gt;Archetype Created Web Application&lt;/display-name&gt;\n\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;mvc-dispatcher&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n    &lt;/servlet&gt;\n\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;mvc-dispatcher&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n\n    &lt;context-param&gt;\n        &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n        &lt;param-value&gt;/WEB-INF/mvc-dispatcher-servlet.xml&lt;/param-value&gt;\n    &lt;/context-param&gt;\n\n    &lt;listener&gt;\n        &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;\n    &lt;/listener&gt;\n\n&lt;/web-app&gt;\n</code></pre>\n<p>Please focus at this line</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n</code></pre>\n<p>Can we replace word <code>contextConfigLocation</code> by <code>foo</code>?</p>\n"},{"tags":["java","spring","mongodb","spring-boot","changestream"],"answers":[{"tags":[],"owner":{"account_id":13216928,"reputation":1467,"user_id":9545125,"display_name":"TheStranger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1672909623,"creation_date":1672909623,"answer_id":75016026,"question_id":74990044,"body_markdown":"I ended up making it work like this:\r\n\r\n    @Document(collection = &quot;teams&quot;)\r\n    public class Team {\r\n        @Id\r\n        @BsonProperty(&quot;_id&quot;)\r\n        private ObjectId id;\r\n        private Integer orgId;\r\n        private String name;\r\n        private List&lt;Member&gt; players;\r\n        private List&lt;Member&gt; staff;\r\n\r\n        public class Member {\r\n            @Id\r\n            private ObjectId id;\r\n            private String name;\r\n        }\r\n    }\r\n\r\nThen I added CodecRegistry to my `MongoChangeStream` class like this:\r\n\r\nSo this is what I&#39;ve tried:\r\n\r\n    @Component\r\n    public class MongoChangeStream {\r\n\r\n        private final MongoTemplate mongoTemplate;\r\n\r\n        public MongoDBChangeStream(MongoTemplate mongoTemplate) {\r\n            this.mongoTemplate = mongoTemplate;\r\n        }\r\n\r\n        @EventListener(ContextRefreshedEvent.class)\r\n        public void changeStream() {\r\n\r\n            // Select the collection to query\r\n            CodecRegistry pojoCodecRegistry = org.bson.codecs.configuration.CodecRegistries.fromRegistries(MongoClientSettings.getDefaultCodecRegistry(), org.bson.codecs.configuration.CodecRegistries.fromProviders(PojoCodecProvider.builder().conventions(List.of(ANNOTATION_CONVENTION)).automatic(true).build()));\r\n            MongoCollection&lt;Team&gt; collection = mongoTemplate.getCollection(&quot;teams&quot;).withCodecRegistry(pojoCodecRegistry).withDocumentClass(Group.class);\r\n\r\n            // Create pipeline for operationType filter\r\n            List&lt;Bson&gt; pipeline = Arrays.asList(\r\n                    Aggregates.match(\r\n                            Filters.in(&quot;operationType&quot;,\r\n                                    Arrays.asList(&quot;insert&quot;, &quot;update&quot;, &quot;delete&quot;))));\r\n\r\n            // Create the Change Stream and watch on the filters in the pipeline\r\n            ChangeStreamIterable&lt;Team&gt; changeStream = collection.watch()\r\n                .fullDocument(FullDocument.UPDATE_LOOKUP)\r\n                .fullDocumentBeforeChange(FullDocumentBeforeChange.REQUIRED);\r\n\r\n            // Iterate over the Change Stream\r\n            for (ChangeStreamDocument&lt;Team&gt; changeEvent : changeStream) {\r\n                switch (changeEvent.getOperationType().name()) {\r\n                    case &quot;UPDATE&quot;:\r\n                        if (changeEvent.getUpdateDescription().getUpdatedFields().containsKey(&quot;players&quot;)) {\r\n                            // Do something\r\n                        }\r\n                        if (changeEvent.getUpdateDescription().getUpdatedFields().containsKey(&quot;staff&quot;)) {\r\n                            // Do something\r\n                        }\r\n                        break;\r\n                    case &quot;DELETE&quot;:\r\n                            // Do something\r\n                        break;\r\n                }\r\n            }\r\n        }\r\n    }","title":"How do I get MongoDB ChangeStreamDocument out as my dto instead of Document type?","body":"<p>I ended up making it work like this:</p>\n<pre><code>@Document(collection = &quot;teams&quot;)\npublic class Team {\n    @Id\n    @BsonProperty(&quot;_id&quot;)\n    private ObjectId id;\n    private Integer orgId;\n    private String name;\n    private List&lt;Member&gt; players;\n    private List&lt;Member&gt; staff;\n\n    public class Member {\n        @Id\n        private ObjectId id;\n        private String name;\n    }\n}\n</code></pre>\n<p>Then I added CodecRegistry to my <code>MongoChangeStream</code> class like this:</p>\n<p>So this is what I've tried:</p>\n<pre><code>@Component\npublic class MongoChangeStream {\n\n    private final MongoTemplate mongoTemplate;\n\n    public MongoDBChangeStream(MongoTemplate mongoTemplate) {\n        this.mongoTemplate = mongoTemplate;\n    }\n\n    @EventListener(ContextRefreshedEvent.class)\n    public void changeStream() {\n\n        // Select the collection to query\n        CodecRegistry pojoCodecRegistry = org.bson.codecs.configuration.CodecRegistries.fromRegistries(MongoClientSettings.getDefaultCodecRegistry(), org.bson.codecs.configuration.CodecRegistries.fromProviders(PojoCodecProvider.builder().conventions(List.of(ANNOTATION_CONVENTION)).automatic(true).build()));\n        MongoCollection&lt;Team&gt; collection = mongoTemplate.getCollection(&quot;teams&quot;).withCodecRegistry(pojoCodecRegistry).withDocumentClass(Group.class);\n\n        // Create pipeline for operationType filter\n        List&lt;Bson&gt; pipeline = Arrays.asList(\n                Aggregates.match(\n                        Filters.in(&quot;operationType&quot;,\n                                Arrays.asList(&quot;insert&quot;, &quot;update&quot;, &quot;delete&quot;))));\n\n        // Create the Change Stream and watch on the filters in the pipeline\n        ChangeStreamIterable&lt;Team&gt; changeStream = collection.watch()\n            .fullDocument(FullDocument.UPDATE_LOOKUP)\n            .fullDocumentBeforeChange(FullDocumentBeforeChange.REQUIRED);\n\n        // Iterate over the Change Stream\n        for (ChangeStreamDocument&lt;Team&gt; changeEvent : changeStream) {\n            switch (changeEvent.getOperationType().name()) {\n                case &quot;UPDATE&quot;:\n                    if (changeEvent.getUpdateDescription().getUpdatedFields().containsKey(&quot;players&quot;)) {\n                        // Do something\n                    }\n                    if (changeEvent.getUpdateDescription().getUpdatedFields().containsKey(&quot;staff&quot;)) {\n                        // Do something\n                    }\n                    break;\n                case &quot;DELETE&quot;:\n                        // Do something\n                    break;\n            }\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":13216928,"reputation":1467,"user_id":9545125,"display_name":"TheStranger"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":558,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":75016026,"answer_count":1,"score":1,"last_activity_date":1672909623,"creation_date":1672729836,"question_id":74990044,"body_markdown":"I have the following class in my MongoDB project:\r\n\r\n    @Document(collection = &quot;teams&quot;)\r\n    public class Team {\r\n        private @MongoId(FieldType.OBJECT_ID)\r\n        @Schema(type = &quot;string&quot;, example = &quot;60b0c56e4192f01e8745bd75&quot;)\r\n        ObjectId id;\r\n        @Schema(example = &quot;56373&quot;)\r\n        private Integer orgId;\r\n        private String name;\r\n        private List&lt;Member&gt; players;\r\n        private List&lt;Member&gt; staff;\r\n\r\n        public class Member{\r\n            private ObjectId id;\r\n            private String name;\r\n        }\r\n    }\r\n\r\nAs you can see, this class represents the documents in my `teams` collection in MongoDB.\r\nI&#39;m trying to create a ***change stream***, because I want to monitorize players and staff players joining and leaving teams, as well as existing teams being deleted from the teams collection.\r\n\r\nSo this is what I&#39;ve tried:\r\n\r\n    @Component\r\n    public class MongoChangeStream {\r\n\r\n        private final MongoTemplate mongoTemplate;\r\n\r\n        public MongoDBChangeStream(MongoTemplate mongoTemplate) {\r\n            this.mongoTemplate = mongoTemplate;\r\n        }\r\n\r\n        @EventListener(ContextRefreshedEvent.class)\r\n        public void changeStream() {\r\n\r\n            // Select the collection to query\r\n            MongoCollection&lt;Document&gt; collection = mongoTemplate.getCollection(&quot;teams&quot;);\r\n\r\n            // Create pipeline for operationType filter\r\n            List&lt;Bson&gt; pipeline = Arrays.asList(\r\n                    Aggregates.match(\r\n                            Filters.in(&quot;operationType&quot;,\r\n                                    Arrays.asList(&quot;insert&quot;, &quot;update&quot;, &quot;delete&quot;))));\r\n\r\n            // Create the Change Stream and watch on the filters in the pipeline\r\n            ChangeStreamIterable&lt;Document&gt; changeStream = collection.watch()\r\n                .fullDocument(FullDocument.UPDATE_LOOKUP)\r\n                .fullDocumentBeforeChange(FullDocumentBeforeChange.REQUIRED);\r\n\r\n            // Iterate over the Change Stream\r\n            for (ChangeStreamDocument&lt;Document&gt; changeEvent : changeStream) {\r\n                switch (changeEvent.getOperationType().name()) {\r\n                    case &quot;UPDATE&quot;:\r\n                        if (changeEvent.getUpdateDescription().getUpdatedFields().containsKey(&quot;players&quot;)) {\r\n                            // Do something\r\n                        }\r\n                        if (changeEvent.getUpdateDescription().getUpdatedFields().containsKey(&quot;staff&quot;)) {\r\n                            // Do something\r\n                        }\r\n                        break;\r\n                    case &quot;DELETE&quot;:\r\n                            // Do something\r\n                        break;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nMy question is basically how do I get the documents out from the changeStream as Team objects instead of Document objects?\r\n\r\nI&#39;ve tried to change all the occurrences of Documents with Team, but then I get this error:\r\n\r\n`Can&#39;t find a codec for CodecCacheKey{clazz=class com.test.dto.Team, types=null}.`","title":"How do I get MongoDB ChangeStreamDocument out as my dto instead of Document type?","body":"<p>I have the following class in my MongoDB project:</p>\n<pre><code>@Document(collection = &quot;teams&quot;)\npublic class Team {\n    private @MongoId(FieldType.OBJECT_ID)\n    @Schema(type = &quot;string&quot;, example = &quot;60b0c56e4192f01e8745bd75&quot;)\n    ObjectId id;\n    @Schema(example = &quot;56373&quot;)\n    private Integer orgId;\n    private String name;\n    private List&lt;Member&gt; players;\n    private List&lt;Member&gt; staff;\n\n    public class Member{\n        private ObjectId id;\n        private String name;\n    }\n}\n</code></pre>\n<p>As you can see, this class represents the documents in my <code>teams</code> collection in MongoDB.\nI'm trying to create a <em><strong>change stream</strong></em>, because I want to monitorize players and staff players joining and leaving teams, as well as existing teams being deleted from the teams collection.</p>\n<p>So this is what I've tried:</p>\n<pre><code>@Component\npublic class MongoChangeStream {\n\n    private final MongoTemplate mongoTemplate;\n\n    public MongoDBChangeStream(MongoTemplate mongoTemplate) {\n        this.mongoTemplate = mongoTemplate;\n    }\n\n    @EventListener(ContextRefreshedEvent.class)\n    public void changeStream() {\n\n        // Select the collection to query\n        MongoCollection&lt;Document&gt; collection = mongoTemplate.getCollection(&quot;teams&quot;);\n\n        // Create pipeline for operationType filter\n        List&lt;Bson&gt; pipeline = Arrays.asList(\n                Aggregates.match(\n                        Filters.in(&quot;operationType&quot;,\n                                Arrays.asList(&quot;insert&quot;, &quot;update&quot;, &quot;delete&quot;))));\n\n        // Create the Change Stream and watch on the filters in the pipeline\n        ChangeStreamIterable&lt;Document&gt; changeStream = collection.watch()\n            .fullDocument(FullDocument.UPDATE_LOOKUP)\n            .fullDocumentBeforeChange(FullDocumentBeforeChange.REQUIRED);\n\n        // Iterate over the Change Stream\n        for (ChangeStreamDocument&lt;Document&gt; changeEvent : changeStream) {\n            switch (changeEvent.getOperationType().name()) {\n                case &quot;UPDATE&quot;:\n                    if (changeEvent.getUpdateDescription().getUpdatedFields().containsKey(&quot;players&quot;)) {\n                        // Do something\n                    }\n                    if (changeEvent.getUpdateDescription().getUpdatedFields().containsKey(&quot;staff&quot;)) {\n                        // Do something\n                    }\n                    break;\n                case &quot;DELETE&quot;:\n                        // Do something\n                    break;\n            }\n        }\n    }\n}\n</code></pre>\n<p>My question is basically how do I get the documents out from the changeStream as Team objects instead of Document objects?</p>\n<p>I've tried to change all the occurrences of Documents with Team, but then I get this error:</p>\n<p><code>Can't find a codec for CodecCacheKey{clazz=class com.test.dto.Team, types=null}.</code></p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1672923360,"post_id":75016022,"comment_id":132384966,"body_markdown":"Inside your existing for loop, you add another for loop that asks for three numbers.  After you receive the three numbers, you average them (I guess) to get the final score, where you check for passing.  You only need to declare one instance of `Scanner` in your `main` method and pass that instance to your `inputNumber` method.  Method names start with a lowercase character.  Variable names start with a lowercase character.","body":"Inside your existing for loop, you add another for loop that asks for three numbers.  After you receive the three numbers, you average them (I guess) to get the final score, where you check for passing.  You only need to declare one instance of <code>Scanner</code> in your <code>main</code> method and pass that instance to your <code>inputNumber</code> method.  Method names start with a lowercase character.  Variable names start with a lowercase character."}],"owner":{"account_id":27439283,"reputation":29,"user_id":20934507,"display_name":"draing"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":0,"score":2,"last_activity_date":1672909592,"creation_date":1672909592,"question_id":75016022,"body_markdown":" I need to modify my code . So that the user enters the number of students and their grades on three tests, and the program writes to him how many students have entered the institute (passing score = 7, maximum score = 10). I wrote the code for one test and don&#39;t know how to write for three.\r\n This problem is under the comment: &quot;//Information input and calculation&quot;\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class Attestation {\r\n\t\r\n\t\r\n\t\r\n\r\n\tstatic double InputNumber(String caption) {\r\n\t\tSystem.out.print(caption);\r\n\t\tScanner sc = new Scanner(System.in);\r\n\t\t\t\r\n\t\tboolean IsError;\r\n\t\tdo {\r\n\t\t\tIsError = !sc.hasNextDouble();\r\n\t\t\tif (IsError) {\r\n\t\t\t\tSystem.out.print(&quot;ERROR: &quot;);\r\n\t\t\t\tsc.nextLine();\r\n\t\t\t}\r\n\t\t} while (IsError);\r\n\t\t\r\n\t\treturn sc.nextDouble();\r\n\t}\r\n\t\t\t\t\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\t\r\n\t// Entering quantities of numbers\r\n\t\tint count = (int) InputNumber(&quot;enter the number of students: &quot;);\r\n\t\t\r\n\t// Header\r\n\t\tSystem.out.println(&quot;Test №1\\t │ Test №2\\t │ Test №3&quot;);\r\n\t\tSystem.out.println(&quot;---------------------------------------------&quot;);\r\n\r\n\t// Information input and calculation\r\n\t\tint passed = 0;\r\n\t\tfor (int i = 1; i &lt;= count; i = i + 1) {\r\n\t\t    double number = InputNumber(&quot;enter the grades of the &quot; + i + &quot; student: &quot;);\r\n\t\tif(number &gt;= 7) {\r\n\t\tpassed = passed + 1;\r\n\t\t\t\r\n\t\t}\r\n\t        \r\n\t}\r\n\t\t\r\n\t// Displaying information\r\n\t        System.out.println(&quot;---&quot;);\r\n\t    \tSystem.out.println(passed + &quot; students entered the institute&quot;);\r\n\t    \t\r\n\t    \t\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t\t\r\n```\r\n\r\nI tried to modify the code, but I was constantly getting an error","title":"In my code, you can set a score for 1 test, but I need for three tests","body":"<p>I need to modify my code . So that the user enters the number of students and their grades on three tests, and the program writes to him how many students have entered the institute (passing score = 7, maximum score = 10). I wrote the code for one test and don't know how to write for three.\nThis problem is under the comment: &quot;//Information input and calculation&quot;</p>\n<pre><code>import java.util.Scanner;\n\npublic class Attestation {\n    \n    \n    \n\n    static double InputNumber(String caption) {\n        System.out.print(caption);\n        Scanner sc = new Scanner(System.in);\n            \n        boolean IsError;\n        do {\n            IsError = !sc.hasNextDouble();\n            if (IsError) {\n                System.out.print(&quot;ERROR: &quot;);\n                sc.nextLine();\n            }\n        } while (IsError);\n        \n        return sc.nextDouble();\n    }\n                \n    public static void main(String[] args) {\n        \n        \n    // Entering quantities of numbers\n        int count = (int) InputNumber(&quot;enter the number of students: &quot;);\n        \n    // Header\n        System.out.println(&quot;Test №1\\t │ Test №2\\t │ Test №3&quot;);\n        System.out.println(&quot;---------------------------------------------&quot;);\n\n    // Information input and calculation\n        int passed = 0;\n        for (int i = 1; i &lt;= count; i = i + 1) {\n            double number = InputNumber(&quot;enter the grades of the &quot; + i + &quot; student: &quot;);\n        if(number &gt;= 7) {\n        passed = passed + 1;\n            \n        }\n            \n    }\n        \n    // Displaying information\n            System.out.println(&quot;---&quot;);\n            System.out.println(passed + &quot; students entered the institute&quot;);\n            \n            \n        }\n\n    }\n\n        \n</code></pre>\n<p>I tried to modify the code, but I was constantly getting an error</p>\n"},{"tags":["java","arrays","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1672909538,"creation_date":1672909538,"answer_id":75016009,"question_id":75015962,"body_markdown":"You can use stream and `Arrays::asList` which will convert `String[]` to a `List&lt;String&gt;`, like this:\r\n\r\n    List&lt;List&lt;String&gt;&gt; response = allData.stream()\r\n            .map(Arrays::asList)\r\n            .collect(Collectors.toList()); // or just .toList();","title":"How do I convert List of String array to nested list of type String?","body":"<p>You can use stream and <code>Arrays::asList</code> which will convert <code>String[]</code> to a <code>List&lt;String&gt;</code>, like this:</p>\n<pre><code>List&lt;List&lt;String&gt;&gt; response = allData.stream()\n        .map(Arrays::asList)\n        .collect(Collectors.toList()); // or just .toList();\n</code></pre>\n"}],"owner":{"account_id":17183453,"reputation":49,"user_id":12438527,"display_name":"Ayon Moitra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1672909553,"accepted_answer_id":75016009,"answer_count":1,"score":0,"last_activity_date":1672909560,"creation_date":1672909337,"question_id":75015962,"body_markdown":"How do I convert `List&lt;String[]&gt;` to `List&lt;List&lt;String&gt;&gt;`?\r\n\r\n    List&lt;String[]&gt; allData = csv.readAll();\r\n\r\nallData needs to be coverted in `List&lt;List&lt;String&gt;&gt;`.\r\n\r\n","title":"How do I convert List of String array to nested list of type String?","body":"<p>How do I convert <code>List&lt;String[]&gt;</code> to <code>List&lt;List&lt;String&gt;&gt;</code>?</p>\n<pre><code>List&lt;String[]&gt; allData = csv.readAll();\n</code></pre>\n<p>allData needs to be coverted in <code>List&lt;List&lt;String&gt;&gt;</code>.</p>\n"},{"tags":["java","spring","eclipse","jakarta-ee"],"comments":[{"owner":{"account_id":5823420,"reputation":785,"user_id":6656833,"display_name":"Pavel"},"score":2,"creation_date":1672904160,"post_id":75015074,"comment_id":132379027,"body_markdown":"have you checked this? https://stackoverflow.com/questions/6800799/replace-string-in-all-files-in-eclipse","body":"have you checked this? <a href=\"https://stackoverflow.com/questions/6800799/replace-string-in-all-files-in-eclipse\" title=\"replace string in all files in eclipse\">stackoverflow.com/questions/6800799/&hellip;</a>"},{"owner":{"account_id":1111280,"reputation":6531,"user_id":1101692,"accept_rate":89,"display_name":"Shark"},"score":0,"creation_date":1672919384,"post_id":75015074,"comment_id":132383655,"body_markdown":"If only there were a &quot;Replace all&quot; kind of functionality in the IDE....","body":"If only there were a &quot;Replace all&quot; kind of functionality in the IDE...."},{"owner":{"account_id":5701984,"reputation":5646,"user_id":4506678,"accept_rate":55,"display_name":"rzo1"},"score":0,"creation_date":1674156014,"post_id":75015074,"comment_id":132660474,"body_markdown":"You can do the SED approach. However, it also requires to carefully review and check libraries used in your app. All libs need to support jakarta namespace ;-)","body":"You can do the SED approach. However, it also requires to carefully review and check libraries used in your app. All libs need to support jakarta namespace ;-)"}],"answers":[{"tags":[],"owner":{"account_id":27439037,"reputation":1,"user_id":20934316,"display_name":"D&#224;rk &#198;k&#241;&#236;ght"},"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1672908322,"creation_date":1672904744,"answer_id":75015225,"question_id":75015074,"body_markdown":"ctr+shift+o\r\n\r\nI think this will work.\r\n","title":"Replace javax.* package import statements with jakarta.* in all java files at once","body":"<p>ctr+shift+o</p>\n<p>I think this will work.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672909509,"creation_date":1672909076,"answer_id":75015915,"question_id":75015074,"body_markdown":"You could use the Eclipse Transformer tool available from the Apache TomEE project here:\r\n\r\n  https://tomee.apache.org/latest/docs/jakartaee-9/eclipse-transformer.html\r\n\r\n&gt; *&quot;The Eclipse Transformer provides translation from `javax` to `jakarta` on various artifacts, including Java source source, compiled Java classes, along with jar, war and ear files.&quot;*\r\n\r\n\r\nThe README page contains instructions for building the transformer tool and documentation on how to use it.\r\n\r\nAnother alternative would be use Eclipse&#39;s search / replace across your entire codebase; see https://stackoverflow.com/questions/6800799.  However that is potentially risky; e.g. because of the possibility of making mistakes in the patterns that you use.\r\n\r\n","title":"Replace javax.* package import statements with jakarta.* in all java files at once","body":"<p>You could use the Eclipse Transformer tool available from the Apache TomEE project here:</p>\n<p><a href=\"https://tomee.apache.org/latest/docs/jakartaee-9/eclipse-transformer.html\" rel=\"nofollow noreferrer\">https://tomee.apache.org/latest/docs/jakartaee-9/eclipse-transformer.html</a></p>\n<blockquote>\n<p><em>&quot;The Eclipse Transformer provides translation from <code>javax</code> to <code>jakarta</code> on various artifacts, including Java source source, compiled Java classes, along with jar, war and ear files.&quot;</em></p>\n</blockquote>\n<p>The README page contains instructions for building the transformer tool and documentation on how to use it.</p>\n<p>Another alternative would be use Eclipse's search / replace across your entire codebase; see <a href=\"https://stackoverflow.com/questions/6800799\">Replace String in all files in Eclipse</a>.  However that is potentially risky; e.g. because of the possibility of making mistakes in the patterns that you use.</p>\n"}],"owner":{"account_id":13532622,"reputation":541,"user_id":9762633,"display_name":"Abhishek Singh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2110,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1685547775,"answer_count":2,"score":-1,"last_activity_date":1672909509,"creation_date":1672903613,"question_id":75015074,"body_markdown":"Since **javax.*** packages have been replaced with **Jakarta.*** packages in the latest release of spring 6 and hibernate I am facing a bit challenge to **replace all import statements** related to javax.* with Jakarta.* in all files(**1000s of java files**) at once. I am using the latest **eclipse IDE** and have **ubuntu OS**. Right now I am replacing it manually by opening one java file at a time. Is there a way to do this at once for all files?","title":"Replace javax.* package import statements with jakarta.* in all java files at once","body":"<p>Since <strong>javax.</strong>* packages have been replaced with <strong>Jakarta.</strong>* packages in the latest release of spring 6 and hibernate I am facing a bit challenge to <strong>replace all import statements</strong> related to javax.* with Jakarta.* in all files(<strong>1000s of java files</strong>) at once. I am using the latest <strong>eclipse IDE</strong> and have <strong>ubuntu OS</strong>. Right now I am replacing it manually by opening one java file at a time. Is there a way to do this at once for all files?</p>\n"},{"tags":["java","arrays","algorithm"],"comments":[{"owner":{"account_id":1015767,"reputation":2808,"user_id":1027359,"accept_rate":71,"display_name":"dotvav"},"score":6,"creation_date":1438852441,"post_id":31851548,"comment_id":51623217,"body_markdown":"This is a javascript question. This doesn&#39;t make sense in Java.","body":"This is a javascript question. This doesn&#39;t make sense in Java."},{"owner":{"account_id":4910820,"reputation":167,"user_id":3956173,"display_name":"mhGaber"},"score":0,"creation_date":1438852553,"post_id":31851548,"comment_id":51623291,"body_markdown":"I want to solve it in any language, java or javascript","body":"I want to solve it in any language, java or javascript"},{"owner":{"account_id":1726806,"reputation":13951,"user_id":4790924,"accept_rate":67,"display_name":"Sharon Ben Asher"},"score":0,"creation_date":1438852577,"post_id":31851548,"comment_id":51623310,"body_markdown":"we really want to help but I, for one, don&#39;t understand what your asking for. cn you give a Java example for input and desired output?","body":"we really want to help but I, for one, don&#39;t understand what your asking for. cn you give a Java example for input and desired output?"},{"owner":{"account_id":2544160,"reputation":3291,"user_id":2209329,"accept_rate":92,"display_name":"Michał Szydłowski"},"score":2,"creation_date":1438852613,"post_id":31851548,"comment_id":51623339,"body_markdown":"But the method of solving that will be entirely different in Java than in JavaScript...","body":"But the method of solving that will be entirely different in Java than in JavaScript..."},{"owner":{"account_id":1015767,"reputation":2808,"user_id":1027359,"accept_rate":71,"display_name":"dotvav"},"score":0,"creation_date":1438852701,"post_id":31851548,"comment_id":51623397,"body_markdown":"Java does not have mixed-type arrays (where an item could be either an `int` or an `int[]`). It has `List` objects though...","body":"Java does not have mixed-type arrays (where an item could be either an <code>int</code> or an <code>int[]</code>). It has <code>List</code> objects though..."},{"owner":{"account_id":4910820,"reputation":167,"user_id":3956173,"display_name":"mhGaber"},"score":0,"creation_date":1438853265,"post_id":31851548,"comment_id":51623802,"body_markdown":"I have edited the question to show inputs and outputs, hope it&#39;s clear now.","body":"I have edited the question to show inputs and outputs, hope it&#39;s clear now."},{"owner":{"account_id":92555,"reputation":4267,"user_id":253609,"accept_rate":87,"display_name":"conorgriffin"},"score":0,"creation_date":1455630533,"post_id":31851548,"comment_id":58566661,"body_markdown":"Java can have mixed type arrays of objects such as `Object[]` which would accept `Object[]` or `Integer` as elements for example.  One such array containing nested arrays of `Integer` objects could be `new Object[]{1, 2, new Object[]{3, 4, new Object[]{5}, 6, 7}, 8, 9, 10}`","body":"Java can have mixed type arrays of objects such as <code>Object[]</code> which would accept <code>Object[]</code> or <code>Integer</code> as elements for example.  One such array containing nested arrays of <code>Integer</code> objects could be <code>new Object[]{1, 2, new Object[]{3, 4, new Object[]{5}, 6, 7}, 8, 9, 10}</code>"},{"owner":{"account_id":6924256,"reputation":61,"user_id":5315785,"display_name":"Nathan Donaldson"},"score":0,"creation_date":1614072826,"post_id":31851548,"comment_id":117266325,"body_markdown":"I had this question in an interview........My question is.......why would anyone ever do this? This is a sincere question.","body":"I had this question in an interview........My question is.......why would anyone ever do this? This is a sincere question."}],"answers":[{"tags":[],"owner":{"account_id":6433038,"reputation":56,"user_id":4985432,"display_name":"Beniamin"},"down_vote_count":7,"up_vote_count":2,"is_accepted":false,"score":-5,"last_activity_date":1438853813,"creation_date":1438853813,"answer_id":31852134,"question_id":31851548,"body_markdown":"you can try this code:\r\n\r\n    String a = &quot;[[[1],2],[3]],4] &quot;;\r\n    a= a.replaceAll(&quot;[(\\\\[|\\\\])]&quot;, &quot;&quot;);\r\n    String[] b = a.split(&quot;,&quot;);","title":"Flatten nested arrays in java","body":"<p>you can try this code:</p>\n\n<pre><code>String a = \"[[[1],2],[3]],4] \";\na= a.replaceAll(\"[(\\\\[|\\\\])]\", \"\");\nString[] b = a.split(\",\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":92555,"reputation":4267,"user_id":253609,"accept_rate":87,"display_name":"conorgriffin"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1455629140,"creation_date":1455629140,"answer_id":35433875,"question_id":31851548,"body_markdown":"I created [a class to solve this][1] using Java, the code is also shown below.\r\n\r\nSolution:\r\n\r\n    package com.conorgriffin.flattener;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    \r\n    /**\r\n     * Flattens an array of arbitrarily nested arrays of integers into a flat array of integers.\r\n     * &lt;p/&gt;\r\n     * @author conorgriffin\r\n     */\r\n    public class IntegerArrayFlattener {\r\n    \r\n        /**\r\n         * Flatten an array of arbitrarily nested arrays of integers into a flat array of integers. e.g. [[1,2,[3]],4] -&gt; [1,2,3,4].\r\n         *\r\n         * @param inputArray an array of Integers or nested arrays of Integers\r\n         * @return flattened array of Integers or null if input is null\r\n         * @throws IllegalArgumentException\r\n         */\r\n        public static Integer[] flatten(Object[] inputArray) throws IllegalArgumentException {\r\n    \r\n            if (inputArray == null) return null;\r\n    \r\n            List&lt;Integer&gt; flatList = new ArrayList&lt;Integer&gt;();\r\n    \r\n            for (Object element : inputArray) {\r\n                if (element instanceof Integer) {\r\n                    flatList.add((Integer) element);\r\n                } else if (element instanceof Object[]) {\r\n                    flatList.addAll(Arrays.asList(flatten((Object[]) element)));\r\n                } else {\r\n                    throw new IllegalArgumentException(&quot;Input must be an array of Integers or nested arrays of Integers&quot;);\r\n                }\r\n            }\r\n            return flatList.toArray(new Integer[flatList.size()]);\r\n        }\r\n    }\r\n\r\n\r\nUnit Tests:\r\n\r\n    package com.conorgriffin.flattener;\r\n    \r\n    import org.junit.Assert;\r\n    import org.junit.Test;\r\n    \r\n    /**\r\n     * Tests IntegerArrayFlattener\r\n     */\r\n    public class IntegerArrayFlattenerTest {\r\n    \r\n        Integer[] expectedArray = new Integer[]{1, 2, 3, 4, 5, 6, 7, 8, 9, 10};\r\n    \r\n        @Test\r\n        public void testNullReturnsNull() throws IllegalArgumentException {\r\n            Assert.assertNull(\r\n                    &quot;Testing a null argument&quot;,\r\n                    IntegerArrayFlattener.flatten(null)\r\n            );\r\n        }\r\n    \r\n        @Test\r\n        public void testEmptyArray() throws IllegalArgumentException {\r\n            Assert.assertArrayEquals(\r\n                    &quot;Testing an empty array&quot;,\r\n                    new Integer[]{},\r\n                    IntegerArrayFlattener.flatten(new Object[]{})\r\n            );\r\n        }\r\n    \r\n        @Test\r\n        public void testFlatArray() throws IllegalArgumentException {\r\n            Assert.assertArrayEquals(\r\n                    &quot;Testing a flat array&quot;,\r\n                    expectedArray,\r\n                    IntegerArrayFlattener.flatten(new Object[]{1, 2, 3, 4, 5, 6, 7, 8, 9, 10})\r\n            );\r\n        }\r\n    \r\n        @Test\r\n        public void testNestedArray() throws IllegalArgumentException {\r\n            Assert.assertArrayEquals(\r\n                    &quot;Testing nested array&quot;,\r\n                    expectedArray,\r\n                    IntegerArrayFlattener.flatten(new Object[]{1, 2, 3, 4, new Object[]{5, 6, 7, 8}, 9, 10})\r\n            );\r\n        }\r\n    \r\n        @Test\r\n        public void testMultipleNestedArrays() throws IllegalArgumentException {\r\n            Assert.assertArrayEquals(\r\n                    &quot;Testing multiple nested arrays&quot;,\r\n                    expectedArray,\r\n                    IntegerArrayFlattener.flatten(new Object[]{1, 2, new Object[]{3, 4, new Object[]{5}, 6, 7}, 8, 9, 10})\r\n            );\r\n        }\r\n    \r\n        @Test(expected = IllegalArgumentException.class)\r\n        public void throwsExceptionForObjectInArray() throws IllegalArgumentException {\r\n            IntegerArrayFlattener.flatten(\r\n                    new Object[]{new Object()}\r\n            );\r\n        }\r\n    \r\n        @Test(expected = IllegalArgumentException.class)\r\n        public void throwsExceptionForObjectInNestedArray() throws IllegalArgumentException {\r\n            IntegerArrayFlattener.flatten(\r\n                    new Object[]{1, 2, new Object[]{3, new Object()}}\r\n            );\r\n        }\r\n    \r\n        @Test(expected = IllegalArgumentException.class)\r\n        public void throwsExceptionForNullInArray() throws IllegalArgumentException {\r\n            IntegerArrayFlattener.flatten(\r\n                    new Object[]{null}\r\n            );\r\n        }\r\n    \r\n        @Test(expected = IllegalArgumentException.class)\r\n        public void throwsExceptionForNullInNestedArray() throws IllegalArgumentException {\r\n            IntegerArrayFlattener.flatten(\r\n                    new Object[]{1, 2, new Object[]{3, null}}\r\n            );\r\n        }\r\n    \r\n    }\r\n\r\n\r\n  [1]: https://github.com/conorgriffin/flattener","title":"Flatten nested arrays in java","body":"<p>I created <a href=\"https://github.com/conorgriffin/flattener\" rel=\"noreferrer\">a class to solve this</a> using Java, the code is also shown below.</p>\n\n<p>Solution:</p>\n\n<pre><code>package com.conorgriffin.flattener;\n\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.List;\n\n/**\n * Flattens an array of arbitrarily nested arrays of integers into a flat array of integers.\n * &lt;p/&gt;\n * @author conorgriffin\n */\npublic class IntegerArrayFlattener {\n\n    /**\n     * Flatten an array of arbitrarily nested arrays of integers into a flat array of integers. e.g. [[1,2,[3]],4] -&gt; [1,2,3,4].\n     *\n     * @param inputArray an array of Integers or nested arrays of Integers\n     * @return flattened array of Integers or null if input is null\n     * @throws IllegalArgumentException\n     */\n    public static Integer[] flatten(Object[] inputArray) throws IllegalArgumentException {\n\n        if (inputArray == null) return null;\n\n        List&lt;Integer&gt; flatList = new ArrayList&lt;Integer&gt;();\n\n        for (Object element : inputArray) {\n            if (element instanceof Integer) {\n                flatList.add((Integer) element);\n            } else if (element instanceof Object[]) {\n                flatList.addAll(Arrays.asList(flatten((Object[]) element)));\n            } else {\n                throw new IllegalArgumentException(\"Input must be an array of Integers or nested arrays of Integers\");\n            }\n        }\n        return flatList.toArray(new Integer[flatList.size()]);\n    }\n}\n</code></pre>\n\n<p>Unit Tests:</p>\n\n<pre><code>package com.conorgriffin.flattener;\n\nimport org.junit.Assert;\nimport org.junit.Test;\n\n/**\n * Tests IntegerArrayFlattener\n */\npublic class IntegerArrayFlattenerTest {\n\n    Integer[] expectedArray = new Integer[]{1, 2, 3, 4, 5, 6, 7, 8, 9, 10};\n\n    @Test\n    public void testNullReturnsNull() throws IllegalArgumentException {\n        Assert.assertNull(\n                \"Testing a null argument\",\n                IntegerArrayFlattener.flatten(null)\n        );\n    }\n\n    @Test\n    public void testEmptyArray() throws IllegalArgumentException {\n        Assert.assertArrayEquals(\n                \"Testing an empty array\",\n                new Integer[]{},\n                IntegerArrayFlattener.flatten(new Object[]{})\n        );\n    }\n\n    @Test\n    public void testFlatArray() throws IllegalArgumentException {\n        Assert.assertArrayEquals(\n                \"Testing a flat array\",\n                expectedArray,\n                IntegerArrayFlattener.flatten(new Object[]{1, 2, 3, 4, 5, 6, 7, 8, 9, 10})\n        );\n    }\n\n    @Test\n    public void testNestedArray() throws IllegalArgumentException {\n        Assert.assertArrayEquals(\n                \"Testing nested array\",\n                expectedArray,\n                IntegerArrayFlattener.flatten(new Object[]{1, 2, 3, 4, new Object[]{5, 6, 7, 8}, 9, 10})\n        );\n    }\n\n    @Test\n    public void testMultipleNestedArrays() throws IllegalArgumentException {\n        Assert.assertArrayEquals(\n                \"Testing multiple nested arrays\",\n                expectedArray,\n                IntegerArrayFlattener.flatten(new Object[]{1, 2, new Object[]{3, 4, new Object[]{5}, 6, 7}, 8, 9, 10})\n        );\n    }\n\n    @Test(expected = IllegalArgumentException.class)\n    public void throwsExceptionForObjectInArray() throws IllegalArgumentException {\n        IntegerArrayFlattener.flatten(\n                new Object[]{new Object()}\n        );\n    }\n\n    @Test(expected = IllegalArgumentException.class)\n    public void throwsExceptionForObjectInNestedArray() throws IllegalArgumentException {\n        IntegerArrayFlattener.flatten(\n                new Object[]{1, 2, new Object[]{3, new Object()}}\n        );\n    }\n\n    @Test(expected = IllegalArgumentException.class)\n    public void throwsExceptionForNullInArray() throws IllegalArgumentException {\n        IntegerArrayFlattener.flatten(\n                new Object[]{null}\n        );\n    }\n\n    @Test(expected = IllegalArgumentException.class)\n    public void throwsExceptionForNullInNestedArray() throws IllegalArgumentException {\n        IntegerArrayFlattener.flatten(\n                new Object[]{1, 2, new Object[]{3, null}}\n        );\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8469162,"reputation":444,"user_id":6352416,"accept_rate":61,"display_name":"Alien"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1485723987,"creation_date":1485723987,"answer_id":41925959,"question_id":31851548,"body_markdown":"This is how I solved this problem in Java: \r\n\r\n    public class ArrayUtil {\r\n    \r\n    \t/**\r\n    \t * Utility to flatten an array of arbitrarily nested arrays of integers into\r\n    \t * a flat array of integers. e.g. [[1,2,[3]],4] -&gt; [1,2,3,4]\r\n    \t * @param inputList\r\n    \t */\r\n    \tpublic static Integer[] flattenArray(ArrayList&lt;Object&gt; inputList) {\r\n    \t\t\r\n    \t\tArrayList&lt;Integer&gt; flatten = new ArrayList&lt;Integer&gt;();\r\n    \t\tif (inputList.size() &lt;= 0) {\r\n    \t\t\treturn new Integer[0];\t\t\t\t\t\t\t// if the inputList is empty, return an empty Integer[] array.\r\n    \t\t}\r\n    \r\n    \t\tfor (Object obj : inputList) {\r\n    \t\t\trecursiveFlatten(flatten, obj);\t\t\t\t\t// otherwise we can recursively flatten the input list.\r\n    \t\t}\r\n    \t\t\r\n    \t\tInteger [] flatArray = new Integer[flatten.size()];\r\n    \t\treturn flatArray = flatten.toArray(flatArray);\t\t\r\n    \t}\r\n    \t\r\n    \t/**\r\n    \t * Recursively flatten a nested array.\r\n    \t * @param flatten\r\n    \t * @param o\r\n    \t */\r\n    \tprivate static void recursiveFlatten(ArrayList&lt;Integer&gt; flatten, Object o){\r\n    \t\tif(isInteger(o)){\t\t\t\t\t\t\t\t// if the object is of type Integer, just add it into the list.\r\n    \t\t\tflatten.add((Integer)o);\r\n    \t\t} else if(o instanceof ArrayList){\t\t\t\t// otherwise, we need to call to recursively flatten the array\r\n    \t\t\tfor(Object obj : (ArrayList&lt;Object&gt;) o){\t// for the case where there are deeply nested arrays.\r\n    \t\t\t\trecursiveFlatten(flatten, obj);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Return true if object belongs to Integer class,\r\n    \t * else return false.\r\n    \t * @param obj\r\n    \t * @return\r\n    \t */\r\n    \tprivate static boolean isInteger(Object obj) {\r\n    \t\treturn obj instanceof Integer;\r\n    \t}\r\n    \t\r\n    }","title":"Flatten nested arrays in java","body":"<p>This is how I solved this problem in Java: </p>\n\n<pre><code>public class ArrayUtil {\n\n    /**\n     * Utility to flatten an array of arbitrarily nested arrays of integers into\n     * a flat array of integers. e.g. [[1,2,[3]],4] -&gt; [1,2,3,4]\n     * @param inputList\n     */\n    public static Integer[] flattenArray(ArrayList&lt;Object&gt; inputList) {\n\n        ArrayList&lt;Integer&gt; flatten = new ArrayList&lt;Integer&gt;();\n        if (inputList.size() &lt;= 0) {\n            return new Integer[0];                          // if the inputList is empty, return an empty Integer[] array.\n        }\n\n        for (Object obj : inputList) {\n            recursiveFlatten(flatten, obj);                 // otherwise we can recursively flatten the input list.\n        }\n\n        Integer [] flatArray = new Integer[flatten.size()];\n        return flatArray = flatten.toArray(flatArray);      \n    }\n\n    /**\n     * Recursively flatten a nested array.\n     * @param flatten\n     * @param o\n     */\n    private static void recursiveFlatten(ArrayList&lt;Integer&gt; flatten, Object o){\n        if(isInteger(o)){                               // if the object is of type Integer, just add it into the list.\n            flatten.add((Integer)o);\n        } else if(o instanceof ArrayList){              // otherwise, we need to call to recursively flatten the array\n            for(Object obj : (ArrayList&lt;Object&gt;) o){    // for the case where there are deeply nested arrays.\n                recursiveFlatten(flatten, obj);\n            }\n        }\n    }\n\n    /**\n     * Return true if object belongs to Integer class,\n     * else return false.\n     * @param obj\n     * @return\n     */\n    private static boolean isInteger(Object obj) {\n        return obj instanceof Integer;\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1670867700,"creation_date":1499182356,"answer_id":44909768,"question_id":31851548,"body_markdown":"The Stream API offers a compact and flexible solution. Using the method\r\n\r\n```java\r\nprivate static Stream&lt;Object&gt; flatten(Object[] array) {\r\n    return Arrays.stream(array)\r\n        .flatMap(o -&gt; o instanceof Object[] a? flatten(a): Stream.of(o));\r\n}\r\n```\r\n\r\nor prior to JDK&#160;16\r\n```java\r\nprivate static Stream&lt;Object&gt; flatten(Object[] array) {\r\n    return Arrays.stream(array)\r\n        .flatMap(o -&gt; o instanceof Object[]? flatten((Object[])o): Stream.of(o));\r\n}\r\n```\r\nyou can perform the operation as\r\n\r\n    Object[] array = { 1, 2, new Object[]{ 3, 4, new Object[]{ 5 }, 6, 7 }, 8, 9, 10 };\r\n    System.out.println(&quot;original: &quot;+Arrays.deepToString(array));\r\n\r\n    Object[] flat = flatten(array).toArray();\r\n    System.out.println(&quot;flat:     &quot;+Arrays.toString(flat));\r\n\r\nor when you assume the leaf objects to be of a specific type:\r\n\r\n    int[] flatInt = flatten(array).mapToInt(Integer.class::cast).toArray();\r\n    System.out.println(&quot;flat int: &quot;+Arrays.toString(flatInt));\r\n\r\n\r\n","title":"Flatten nested arrays in java","body":"<p>The Stream API offers a compact and flexible solution. Using the method</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static Stream&lt;Object&gt; flatten(Object[] array) {\n    return Arrays.stream(array)\n        .flatMap(o -&gt; o instanceof Object[] a? flatten(a): Stream.of(o));\n}\n</code></pre>\n<p>or prior to JDK 16</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static Stream&lt;Object&gt; flatten(Object[] array) {\n    return Arrays.stream(array)\n        .flatMap(o -&gt; o instanceof Object[]? flatten((Object[])o): Stream.of(o));\n}\n</code></pre>\n<p>you can perform the operation as</p>\n<pre><code>Object[] array = { 1, 2, new Object[]{ 3, 4, new Object[]{ 5 }, 6, 7 }, 8, 9, 10 };\nSystem.out.println(&quot;original: &quot;+Arrays.deepToString(array));\n\nObject[] flat = flatten(array).toArray();\nSystem.out.println(&quot;flat:     &quot;+Arrays.toString(flat));\n</code></pre>\n<p>or when you assume the leaf objects to be of a specific type:</p>\n<pre><code>int[] flatInt = flatten(array).mapToInt(Integer.class::cast).toArray();\nSystem.out.println(&quot;flat int: &quot;+Arrays.toString(flatInt));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3878613,"reputation":21,"user_id":3211854,"display_name":"Gaurav Mazra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1524744423,"creation_date":1524744423,"answer_id":50042580,"question_id":31851548,"body_markdown":"It could be flattened by iterative approach.\r\n\r\n    static class ArrayHolder implements Iterator&lt;Object&gt; {\r\n\t\tprivate final Object[] elements;\r\n\t\tprivate int index = -1;\r\n\r\n\t\tpublic ArrayHolder(final Object[] elements) {\r\n\t\t\tthis.elements = elements;\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic boolean hasNext() {\r\n\t\t\treturn Objects.nonNull(elements) &amp;&amp; ++index &lt; elements.length;\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic Object next() {\r\n\t\t\tif (Objects.isNull(elements) || (index == -1 || index &gt; elements.length))\r\n\t\t\t\tthrow new NoSuchElementException();\r\n\r\n\t\t\treturn elements[index];\r\n\t\t}\r\n\t}\r\n\r\n\t\r\n\tprivate static boolean hasNext(ArrayHolder current) {\r\n\t\treturn Objects.nonNull(current) &amp;&amp; current.hasNext();\r\n\t}\r\n\r\n    private void flat(Object[] elements, List&lt;Object&gt; flattened) {\r\n\t\tDeque&lt;ArrayHolder&gt; stack = new LinkedList&lt;&gt;();\r\n\t\tstack.push(new ArrayHolder(elements));\r\n\r\n\t\tArrayHolder current = null;\r\n\t\twhile (hasNext(current)\r\n\t\t\t\t|| (!stack.isEmpty() &amp;&amp; hasNext(current = stack.pop()))) {\r\n\t\t\tObject element = current.next();\r\n\r\n\t\t\tif (Objects.nonNull(element) &amp;&amp; element.getClass().isArray()) {\r\n\t\t\t\tObject[] e = (Object[]) element;\r\n\t\t\t\tstack.push(current);\r\n\t\t\t\tstack.push(new ArrayHolder(e));\r\n\t\t\t\tcurrent = null;\r\n\t\t\t} else {\r\n\t\t\t\tflattened.add(element);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\nYou can find the full source [here][1]\r\nYou can use recursion to solve this problem.\r\n\r\n    private void flat(Object[] elements, List&lt;Object&gt; flattened) {\r\n\t\tfor (Object element : elements)\r\n\t\t{\r\n\t\t\tif (Objects.nonNull(element) &amp;&amp; element.getClass().isArray())\r\n\t\t\t{\r\n\t\t\t\tflat((Object[])element, flattened);\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tflattened.add(element);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\nHere is the link for [recursion][2].\r\n\r\n\r\n  [1]: https://github.com/gauravrmazra/gauravbytes/blob/master/algorithms/src/main/java/com/gauravbytes/algorithms/array/flat/IterativeArrayFlatner.java\r\n  [2]: https://github.com/gauravrmazra/gauravbytes/blob/master/algorithms/src/main/java/com/gauravbytes/algorithms/array/flat/RecursiveArrayFlatner.java","title":"Flatten nested arrays in java","body":"<p>It could be flattened by iterative approach.</p>\n\n<pre><code>static class ArrayHolder implements Iterator&lt;Object&gt; {\n    private final Object[] elements;\n    private int index = -1;\n\n    public ArrayHolder(final Object[] elements) {\n        this.elements = elements;\n    }\n\n    @Override\n    public boolean hasNext() {\n        return Objects.nonNull(elements) &amp;&amp; ++index &lt; elements.length;\n    }\n\n    @Override\n    public Object next() {\n        if (Objects.isNull(elements) || (index == -1 || index &gt; elements.length))\n            throw new NoSuchElementException();\n\n        return elements[index];\n    }\n}\n\n\nprivate static boolean hasNext(ArrayHolder current) {\n    return Objects.nonNull(current) &amp;&amp; current.hasNext();\n}\n\nprivate void flat(Object[] elements, List&lt;Object&gt; flattened) {\n    Deque&lt;ArrayHolder&gt; stack = new LinkedList&lt;&gt;();\n    stack.push(new ArrayHolder(elements));\n\n    ArrayHolder current = null;\n    while (hasNext(current)\n            || (!stack.isEmpty() &amp;&amp; hasNext(current = stack.pop()))) {\n        Object element = current.next();\n\n        if (Objects.nonNull(element) &amp;&amp; element.getClass().isArray()) {\n            Object[] e = (Object[]) element;\n            stack.push(current);\n            stack.push(new ArrayHolder(e));\n            current = null;\n        } else {\n            flattened.add(element);\n        }\n    }\n}\n</code></pre>\n\n<p>You can find the full source <a href=\"https://github.com/gauravrmazra/gauravbytes/blob/master/algorithms/src/main/java/com/gauravbytes/algorithms/array/flat/IterativeArrayFlatner.java\" rel=\"nofollow noreferrer\">here</a>\nYou can use recursion to solve this problem.</p>\n\n<pre><code>private void flat(Object[] elements, List&lt;Object&gt; flattened) {\n    for (Object element : elements)\n    {\n        if (Objects.nonNull(element) &amp;&amp; element.getClass().isArray())\n        {\n            flat((Object[])element, flattened);\n        }\n        else\n        {\n            flattened.add(element);\n        }\n    }\n}\n</code></pre>\n\n<p>Here is the link for <a href=\"https://github.com/gauravrmazra/gauravbytes/blob/master/algorithms/src/main/java/com/gauravbytes/algorithms/array/flat/RecursiveArrayFlatner.java\" rel=\"nofollow noreferrer\">recursion</a>.</p>\n"},{"tags":[],"owner":{"account_id":3064759,"reputation":872,"user_id":2596716,"accept_rate":17,"display_name":"Renan Cidale"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1537281954,"creation_date":1537281954,"answer_id":52389199,"question_id":31851548,"body_markdown":"That&#39;s the way I would solve it.\r\nDon&#39;t know which kind of efficiency you are looking for. But yeah. that does the job in JavaScript.\r\n\r\n`arr.toString().split(&#39;,&#39;).filter((item) =&gt; item).map((item) =&gt; Number(item))`\r\n\r\nA probably more efficient way to do this would be to use reduce and concat method from arr and recursion.\r\n\r\n    function flattenDeep(arr1) {\r\n       return arr1.reduce((acc, val) =&gt; Array.isArray(val) ? acc.concat(flattenDeep(val)) : acc.concat(val), []);\r\n    }","title":"Flatten nested arrays in java","body":"<p>That's the way I would solve it.\nDon't know which kind of efficiency you are looking for. But yeah. that does the job in JavaScript.</p>\n\n<p><code>arr.toString().split(',').filter((item) =&gt; item).map((item) =&gt; Number(item))</code></p>\n\n<p>A probably more efficient way to do this would be to use reduce and concat method from arr and recursion.</p>\n\n<pre><code>function flattenDeep(arr1) {\n   return arr1.reduce((acc, val) =&gt; Array.isArray(val) ? acc.concat(flattenDeep(val)) : acc.concat(val), []);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1819449,"reputation":4899,"user_id":1653808,"display_name":"Alex Joseph"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1623573200,"creation_date":1623571977,"answer_id":67956179,"question_id":31851548,"body_markdown":"\r\nIf it&#39;s a primitive array with only two levels, you could do:\r\n\r\n    Arrays.stream(array)\r\n      .flatMapToInt(o -&gt; Arrays.stream(o))\r\n      .toArray()\r\n\r\nto get the corresponding boxed array (which you can unbox if necessary)","title":"Flatten nested arrays in java","body":"<p>If it's a primitive array with only two levels, you could do:</p>\n<pre><code>Arrays.stream(array)\n  .flatMapToInt(o -&gt; Arrays.stream(o))\n  .toArray()\n</code></pre>\n<p>to get the corresponding boxed array (which you can unbox if necessary)</p>\n"},{"tags":[],"owner":{"account_id":15510178,"reputation":11,"user_id":11189122,"display_name":"vignesh Devendran"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658999569,"creation_date":1658825168,"answer_id":73120312,"question_id":31851548,"body_markdown":"The recursive call approach will work for this case:\r\n\r\n```java\r\nprivate static void recursiveCall(Object[] array) {\r\n\r\n\t\tfor (int i=0;i&lt;array.length;i++) {\r\n\t\t\tif (array[i] instanceof Object[]) {\r\n\t\t\t\trecursiveCall((Object[]) array[i]);\r\n\t\t\t}else {\r\n\t\t\t\tSystem.out.println(array[i]);\r\n\t\t\t}\r\n\t\t\t\r\n\t}\r\n\t\t\r\n}\r\n```","title":"Flatten nested arrays in java","body":"<p>The recursive call approach will work for this case:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static void recursiveCall(Object[] array) {\n\n        for (int i=0;i&lt;array.length;i++) {\n            if (array[i] instanceof Object[]) {\n                recursiveCall((Object[]) array[i]);\n            }else {\n                System.out.println(array[i]);\n            }\n            \n    }\n        \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17946118,"reputation":3,"user_id":13040360,"display_name":"Er prince kumar ojha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672855335,"creation_date":1672855335,"answer_id":75009493,"question_id":31851548,"body_markdown":"package com.app;\r\n\r\nimport java.util.Arrays;\r\n\r\npublic class Test2 {\r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tObject arr[] = { 1, 2, new Object[] { 4, new int[] { 5, 6 }, 7 }, 10 };\r\n\t\tString deepToString = Arrays.deepToString(arr);\r\n\t\tString replace = deepToString.replace(&quot;[&quot;, &quot;&quot;).replace(&quot;]&quot;, &quot;&quot;);\r\n\t\tString array[] = replace.split(&quot;,&quot;);\r\n\t\tint temp[] = new int[array.length];\r\n\t\tfor (int i = 0; i &lt; array.length; i++) {\r\n\t\t\ttemp[i] = Integer.parseInt(array[i].trim());\r\n\t\t}\r\n\t\tSystem.out.println(Arrays.toString(temp));\r\n\t}\r\n}\r\n","title":"Flatten nested arrays in java","body":"<p>package com.app;</p>\n<p>import java.util.Arrays;</p>\n<p>public class Test2 {</p>\n<pre><code>public static void main(String[] args) {\n\n    Object arr[] = { 1, 2, new Object[] { 4, new int[] { 5, 6 }, 7 }, 10 };\n    String deepToString = Arrays.deepToString(arr);\n    String replace = deepToString.replace(&quot;[&quot;, &quot;&quot;).replace(&quot;]&quot;, &quot;&quot;);\n    String array[] = replace.split(&quot;,&quot;);\n    int temp[] = new int[array.length];\n    for (int i = 0; i &lt; array.length; i++) {\n        temp[i] = Integer.parseInt(array[i].trim());\n    }\n    System.out.println(Arrays.toString(temp));\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":4910820,"reputation":167,"user_id":3956173,"display_name":"mhGaber"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36886,"favorite_count":0,"down_vote_count":2,"up_vote_count":15,"answer_count":9,"score":13,"last_activity_date":1672909414,"creation_date":1438852304,"question_id":31851548,"body_markdown":"I want to flatten nested arrays like:\r\n\r\n    [[[1],2],[3]],4] -&gt; [1,2,3,4] \r\n\r\nmanually in java I can&#39;t find a clue ! :S \r\n\r\nI have tried a manual java script guide but it doesn&#39;t get a solution\r\n```java\r\npublic static void main(String[] args) {\r\n\r\n  Object arr[] = { 1, 2, new Object[] { 4, new int[] { 5, 6 }, 7 }, 10 };\r\n  String deepToString = Arrays.deepToString(arr);\r\n  String replace = deepToString.replace(&quot;[&quot;, &quot;&quot;).replace(&quot;]&quot;, &quot;&quot;);\r\n  String array[] = replace.split(&quot;,&quot;);\r\n  int temp[] = new int[array.length];\r\n  for (int i = 0; i &lt; array.length; i++) {\r\n    temp[i] = Integer.parseInt(array[i].trim());\r\n  }\r\n  System.out.println(Arrays.toString(temp));\r\n}\r\n```   ","title":"Flatten nested arrays in java","body":"<p>I want to flatten nested arrays like:</p>\n<pre><code>[[[1],2],[3]],4] -&gt; [1,2,3,4] \n</code></pre>\n<p>manually in java I can't find a clue ! :S</p>\n<p>I have tried a manual java script guide but it doesn't get a solution</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n\n  Object arr[] = { 1, 2, new Object[] { 4, new int[] { 5, 6 }, 7 }, 10 };\n  String deepToString = Arrays.deepToString(arr);\n  String replace = deepToString.replace(&quot;[&quot;, &quot;&quot;).replace(&quot;]&quot;, &quot;&quot;);\n  String array[] = replace.split(&quot;,&quot;);\n  int temp[] = new int[array.length];\n  for (int i = 0; i &lt; array.length; i++) {\n    temp[i] = Integer.parseInt(array[i].trim());\n  }\n  System.out.println(Arrays.toString(temp));\n}\n</code></pre>\n"},{"tags":["java","spring-boot","postman","backend","request-headers"],"comments":[{"owner":{"account_id":6948780,"reputation":431,"user_id":5332102,"display_name":"G&#246;khan Polat"},"score":0,"creation_date":1672863114,"post_id":75010534,"comment_id":132371333,"body_markdown":"You&#39;re using both header and request param in same request. Fetching value method of these two are different. Are you somehow mixing up them? If you share how you fetch, we can help more","body":"You&#39;re using both header and request param in same request. Fetching value method of these two are different. Are you somehow mixing up them? If you share how you fetch, we can help more"},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1672864005,"post_id":75010534,"comment_id":132371620,"body_markdown":"did you try to use `@RequestHeader(value=&quot;email&quot;...)` instead of `@RequestHeader(name=&quot;email&quot;...)` ?","body":"did you try to use <code>@RequestHeader(value=&quot;email&quot;...)</code> instead of <code>@RequestHeader(name=&quot;email&quot;...)</code> ?"},{"owner":{"account_id":6323627,"reputation":11,"user_id":12854343,"display_name":"ktb"},"score":0,"creation_date":1672864887,"post_id":75010534,"comment_id":132371876,"body_markdown":"@cyberbrain, yes I tried doing both. It&#39;s not working","body":"@cyberbrain, yes I tried doing both. It&#39;s not working"},{"owner":{"account_id":6323627,"reputation":11,"user_id":12854343,"display_name":"ktb"},"score":0,"creation_date":1672864964,"post_id":75010534,"comment_id":132371894,"body_markdown":"@G&#246;khanPolat, I don&#39;t want to expose the email in the query param or the request param, hence using the headers","body":"@G&#246;khanPolat, I don&#39;t want to expose the email in the query param or the request param, hence using the headers"},{"owner":{"account_id":300800,"reputation":10941,"user_id":608164,"accept_rate":62,"display_name":"30thh"},"score":0,"creation_date":1672867238,"post_id":75010534,"comment_id":132372589,"body_markdown":"Did you try another names? It is possible you have some old proxy or filter in between, which doesn&#39;t like a custom header with the name &quot;email&quot;.","body":"Did you try another names? It is possible you have some old proxy or filter in between, which doesn&#39;t like a custom header with the name &quot;email&quot;."},{"owner":{"account_id":13730022,"reputation":309,"user_id":9907751,"display_name":"Firok"},"score":0,"creation_date":1672885888,"post_id":75010534,"comment_id":132376036,"body_markdown":"`@GetMapping(&quot;/test&quot;) String test(@RequestHeader(value = &quot;email&quot;, required = false) String email) { return email; }` just works well","body":"<code>@GetMapping(&quot;&#47;test&quot;) String test(@RequestHeader(value = &quot;email&quot;, required = false) String email) { return email; }</code> just works well"}],"owner":{"account_id":6323627,"reputation":11,"user_id":12854343,"display_name":"ktb"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":204,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672909411,"creation_date":1672861487,"question_id":75010534,"body_markdown":"I have an api which looks like this:\r\n\r\n```java\r\n@Get\r\n@Path(&quot;/{user_id}&quot;)\r\npublic Response getUser(@RequestHeader(name=&quot;email&quot;, required = false) String email, @PathParam(&quot;user_id&quot;) String userId, @QueryParam(&quot;pref&quot;) Boolean pref)\r\n```\r\n\r\nWhen I am sending a sample request through postman, I am not able to fetch the value of email even though i am providing it in the headers. It keeps showing `email: &quot;&quot;`\r\n\r\nWhat am I missing?\r\n\r\nI have tried changing some configs but its of no use. Maybe I am missing something. ","title":"How to send custom headers in spring boot GET Request?","body":"<p>I have an api which looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Get\n@Path(&quot;/{user_id}&quot;)\npublic Response getUser(@RequestHeader(name=&quot;email&quot;, required = false) String email, @PathParam(&quot;user_id&quot;) String userId, @QueryParam(&quot;pref&quot;) Boolean pref)\n</code></pre>\n<p>When I am sending a sample request through postman, I am not able to fetch the value of email even though i am providing it in the headers. It keeps showing <code>email: &quot;&quot;</code></p>\n<p>What am I missing?</p>\n<p>I have tried changing some configs but its of no use. Maybe I am missing something.</p>\n"},{"tags":["java","android","webrtc","webrtc-android"],"owner":{"account_id":2658237,"reputation":584,"user_id":2298490,"display_name":"grill2010"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":317,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1672909356,"creation_date":1672909356,"question_id":75015968,"body_markdown":"I&#39;m currently using a self compiled WebRtc lib for my Android project and I try to get lowest latency for game streaming/ cloud gaming. I found out that on browsers you can use playoutDelayHint and or jitterBufferDelayHint to fine tune latency and how the underlying peer connection will handle things.\r\n\r\nhttps://discourse.wicg.io/t/hint-attribute-in-webrtc-to-influence-underlying-audio-video-buffering/4038\r\n\r\nUnfortunately I have no idea of how to use these functionality within a native WebRtc project (no browser)?\r\n\r\nIs there a way to access and modify these flags in a native project and if not what actually must be adjusted in the WebRtc lib to achieve the same result? As I compile the WebRtc lib by my own I could just add this functionality by my own, I just don&#39;t have any idea what the playoutDelayHint and jitterBufferDelayHint flag is modifying in the background?\r\n\r\nI found this in the native code which could be the correct part for the playbackDelayHint but not sure\r\n\r\nhttps://github.com/maitrungduc1410/webrtc/blob/c2b1bad4c87a43d7e1af85e809d5abe04baf3104/api/video/video_timing.h#L116","title":"How to use playoutDelayHint and jitterBufferDelayHint in a Native WebRtc Java project","body":"<p>I'm currently using a self compiled WebRtc lib for my Android project and I try to get lowest latency for game streaming/ cloud gaming. I found out that on browsers you can use playoutDelayHint and or jitterBufferDelayHint to fine tune latency and how the underlying peer connection will handle things.</p>\n<p><a href=\"https://discourse.wicg.io/t/hint-attribute-in-webrtc-to-influence-underlying-audio-video-buffering/4038\" rel=\"nofollow noreferrer\">https://discourse.wicg.io/t/hint-attribute-in-webrtc-to-influence-underlying-audio-video-buffering/4038</a></p>\n<p>Unfortunately I have no idea of how to use these functionality within a native WebRtc project (no browser)?</p>\n<p>Is there a way to access and modify these flags in a native project and if not what actually must be adjusted in the WebRtc lib to achieve the same result? As I compile the WebRtc lib by my own I could just add this functionality by my own, I just don't have any idea what the playoutDelayHint and jitterBufferDelayHint flag is modifying in the background?</p>\n<p>I found this in the native code which could be the correct part for the playbackDelayHint but not sure</p>\n<p><a href=\"https://github.com/maitrungduc1410/webrtc/blob/c2b1bad4c87a43d7e1af85e809d5abe04baf3104/api/video/video_timing.h#L116\" rel=\"nofollow noreferrer\">https://github.com/maitrungduc1410/webrtc/blob/c2b1bad4c87a43d7e1af85e809d5abe04baf3104/api/video/video_timing.h#L116</a></p>\n"},{"tags":["java","exception","throws"],"owner":{"account_id":26954951,"reputation":11,"user_id":20523507,"display_name":"Brian M"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1672909335,"creation_date":1672718098,"question_id":74988907,"body_markdown":"I had a question about the `throws` keyword in the code below. In the method testLoop3() I am indicating that the `IndexOutOfBoundsException` may be thrown with the throws keyword. But the method testLoop() is identical except it does not show that exception being thrown. What is the purpose of including throws IndexOutOfBoundsException if the exception is being sent to the calling method in both cases and the output is exactly the same? I read that the throws keyword is to make the caller of method aware of the exception and force the caller to handle it in the last line of the main() method it is not handling it.\r\n\r\n\r\n```java\r\npackage exceptions;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class TestException {\r\n\r\n  public static void main(String[] args) {\r\n    \r\n    System.out.println(&quot;------------------&quot;);\r\n    try {\r\n      testLoop();\r\n    } catch (Exception e) {\r\n      System.out.println(&quot;Exception from testLoop() passed to main= &quot; + e);\r\n    }         \r\n    System.out.println(&quot;After Exception&quot;);\r\n    System.out.println(&quot;------------------&quot;);\r\n    \r\n    testLoop2();\r\n    \r\n    try {\r\n      testLoop3();\r\n    } catch (Exception e) {\r\n      System.out.println(&quot;Exception from testLoop3() passed to main= &quot; + e);\r\n    }\r\n    System.out.println(&quot;After Exception&quot;);\r\n    \r\n    System.out.println(&quot;------------------&quot;);\r\n    testLoop();\r\n    \r\n    System.out.println(&quot;------------------&quot;);\r\n    testLoop3();\r\n  }\r\n  \r\n  private static void testLoop() {\r\n    System.out.println(&quot;In testLoop()&quot;);\r\n    ArrayList&lt;Integer&gt; arrLst = new ArrayList();\r\n    arrLst.add(4);\r\n    arrLst.add(6);\r\n    arrLst.add(2);\r\n    \r\n    for(int x=0; x&lt;5; x++)  {\r\n      System.out.println(arrLst.get(x));\r\n    }          \r\n  }\r\n  \r\n  private static void testLoop2() {\r\n    System.out.println(&quot;In testLoop2()&quot;);\r\n    ArrayList&lt;Integer&gt; arrLst = new ArrayList();\r\n    arrLst.add(4);\r\n    arrLst.add(6);\r\n    arrLst.add(2);\r\n    try {\r\n      for(int x=0; x&lt;5; x++)  {\r\n        System.out.println(arrLst.get(x));\r\n      }\r\n    } catch (Exception e) {\r\n      System.out.println(&quot;Exception = &quot; + e);\r\n    }    \r\n    System.out.println(&quot;After Exception&quot;);\r\n  }\r\n  \r\n  private static void testLoop3() throws IndexOutOfBoundsException{\r\n    System.out.println(&quot;In testLoop3()&quot;);\r\n    ArrayList&lt;Integer&gt; arrLst = new ArrayList();\r\n    arrLst.add(4);\r\n    arrLst.add(6);\r\n    arrLst.add(2);\r\n    \r\n    for(int x=0; x&lt;5; x++)  {\r\n      System.out.println(arrLst.get(x));\r\n    }          \r\n  }\r\n}\r\n```\r\nOutput:\r\n\r\n\r\n```\r\n------------------\r\nIn testLoop()\r\n4\r\n6\r\n2\r\nException from testLoop() passed to main= java.lang.IndexOutOfBoundsException: Index 3 out of bounds for length 3\r\nAfter Exception\r\n------------------\r\nIn testLoop2()\r\n4\r\n6\r\n2\r\nException = java.lang.IndexOutOfBoundsException: Index 3 out of bounds for length 3\r\nAfter Exception\r\nIn testLoop3()\r\n4\r\n6\r\n2\r\nException from testLoop3() passed to main= java.lang.IndexOutOfBoundsException: Index 3 out of bounds for length 3\r\nAfter Exception\r\n------------------\r\nIn testLoop()\r\n4\r\n6\r\n2\r\nException in thread &quot;main&quot; java.lang.IndexOutOfBoundsException: Index 3 out of bounds for length 3\r\n\tat java.base/jdk.internal.util.Preconditions.outOfBounds(Preconditions.java:64)\r\n\tat java.base/jdk.internal.util.Preconditions.outOfBoundsCheckIndex(Preconditions.java:70)\r\n\tat java.base/jdk.internal.util.Preconditions.checkIndex(Preconditions.java:248)\r\n\tat java.base/java.util.Objects.checkIndex(Objects.java:372)\r\n\tat java.base/java.util.ArrayList.get(ArrayList.java:459)\r\n\tat exceptions.TestException.testLoop(TestException.java:42)\r\n\tat exceptions.TestException.main(TestException.java:28)\r\n\r\n```\r\n\r\n\r\n\r\nI expected different results when calling testLoop() and testLoop3() due to the fact that testLoop3() has the thows IndexOutOfBoundsException and testLoop() does not. I excepted testLoop() not to propagate the exception to the main() method","title":"Questions about exception handling in Java specifically the purpose of the throws keyword","body":"<p>I had a question about the <code>throws</code> keyword in the code below. In the method testLoop3() I am indicating that the <code>IndexOutOfBoundsException</code> may be thrown with the throws keyword. But the method testLoop() is identical except it does not show that exception being thrown. What is the purpose of including throws IndexOutOfBoundsException if the exception is being sent to the calling method in both cases and the output is exactly the same? I read that the throws keyword is to make the caller of method aware of the exception and force the caller to handle it in the last line of the main() method it is not handling it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package exceptions;\n\nimport java.util.ArrayList;\n\npublic class TestException {\n\n  public static void main(String[] args) {\n    \n    System.out.println(&quot;------------------&quot;);\n    try {\n      testLoop();\n    } catch (Exception e) {\n      System.out.println(&quot;Exception from testLoop() passed to main= &quot; + e);\n    }         \n    System.out.println(&quot;After Exception&quot;);\n    System.out.println(&quot;------------------&quot;);\n    \n    testLoop2();\n    \n    try {\n      testLoop3();\n    } catch (Exception e) {\n      System.out.println(&quot;Exception from testLoop3() passed to main= &quot; + e);\n    }\n    System.out.println(&quot;After Exception&quot;);\n    \n    System.out.println(&quot;------------------&quot;);\n    testLoop();\n    \n    System.out.println(&quot;------------------&quot;);\n    testLoop3();\n  }\n  \n  private static void testLoop() {\n    System.out.println(&quot;In testLoop()&quot;);\n    ArrayList&lt;Integer&gt; arrLst = new ArrayList();\n    arrLst.add(4);\n    arrLst.add(6);\n    arrLst.add(2);\n    \n    for(int x=0; x&lt;5; x++)  {\n      System.out.println(arrLst.get(x));\n    }          \n  }\n  \n  private static void testLoop2() {\n    System.out.println(&quot;In testLoop2()&quot;);\n    ArrayList&lt;Integer&gt; arrLst = new ArrayList();\n    arrLst.add(4);\n    arrLst.add(6);\n    arrLst.add(2);\n    try {\n      for(int x=0; x&lt;5; x++)  {\n        System.out.println(arrLst.get(x));\n      }\n    } catch (Exception e) {\n      System.out.println(&quot;Exception = &quot; + e);\n    }    \n    System.out.println(&quot;After Exception&quot;);\n  }\n  \n  private static void testLoop3() throws IndexOutOfBoundsException{\n    System.out.println(&quot;In testLoop3()&quot;);\n    ArrayList&lt;Integer&gt; arrLst = new ArrayList();\n    arrLst.add(4);\n    arrLst.add(6);\n    arrLst.add(2);\n    \n    for(int x=0; x&lt;5; x++)  {\n      System.out.println(arrLst.get(x));\n    }          \n  }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>------------------\nIn testLoop()\n4\n6\n2\nException from testLoop() passed to main= java.lang.IndexOutOfBoundsException: Index 3 out of bounds for length 3\nAfter Exception\n------------------\nIn testLoop2()\n4\n6\n2\nException = java.lang.IndexOutOfBoundsException: Index 3 out of bounds for length 3\nAfter Exception\nIn testLoop3()\n4\n6\n2\nException from testLoop3() passed to main= java.lang.IndexOutOfBoundsException: Index 3 out of bounds for length 3\nAfter Exception\n------------------\nIn testLoop()\n4\n6\n2\nException in thread &quot;main&quot; java.lang.IndexOutOfBoundsException: Index 3 out of bounds for length 3\n    at java.base/jdk.internal.util.Preconditions.outOfBounds(Preconditions.java:64)\n    at java.base/jdk.internal.util.Preconditions.outOfBoundsCheckIndex(Preconditions.java:70)\n    at java.base/jdk.internal.util.Preconditions.checkIndex(Preconditions.java:248)\n    at java.base/java.util.Objects.checkIndex(Objects.java:372)\n    at java.base/java.util.ArrayList.get(ArrayList.java:459)\n    at exceptions.TestException.testLoop(TestException.java:42)\n    at exceptions.TestException.main(TestException.java:28)\n\n</code></pre>\n<p>I expected different results when calling testLoop() and testLoop3() due to the fact that testLoop3() has the thows IndexOutOfBoundsException and testLoop() does not. I excepted testLoop() not to propagate the exception to the main() method</p>\n"},{"tags":["java","antlr","antlr4"],"comments":[{"owner":{"account_id":6128906,"reputation":1172,"user_id":4779853,"display_name":"kaby76"},"score":1,"creation_date":1671020365,"post_id":74797082,"comment_id":132005960,"body_markdown":"Antlr Lexer rules are not parser-state dependent. Antlr lexer tokenizes the entire input first, then the parse starts.  The lexer matches the longest string regardless of rule order. If two lexer rules match the same string, the first rule listed is picked. So, `WORD_TOKEN` cannot match because `LABEL_TOKEN` occurs first. Also, always print out your tokens when debugging the grammar.","body":"Antlr Lexer rules are not parser-state dependent. Antlr lexer tokenizes the entire input first, then the parse starts.  The lexer matches the longest string regardless of rule order. If two lexer rules match the same string, the first rule listed is picked. So, <code>WORD_TOKEN</code> cannot match because <code>LABEL_TOKEN</code> occurs first. Also, always print out your tokens when debugging the grammar."},{"owner":{"account_id":27816,"reputation":6650,"user_id":73764,"accept_rate":91,"display_name":"Mike Cargal"},"score":1,"creation_date":1671031575,"post_id":74797082,"comment_id":132010313,"body_markdown":"Since you’re (apparently ) just trying to find patterns in a document and not trying to identify the structure of the document, I’d really have to suggest that a Regex matcher is a much more appropriate tool than ANTLR for this task.","body":"Since you’re (apparently ) just trying to find patterns in a document and not trying to identify the structure of the document, I’d really have to suggest that a Regex matcher is a much more appropriate tool than ANTLR for this task."}],"answers":[{"tags":[],"owner":{"account_id":2078337,"reputation":3704,"user_id":1851041,"display_name":"BernardK"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672909318,"creation_date":1672909318,"answer_id":75015958,"question_id":74797082,"body_markdown":"Free text is more difficult to parse than programming languages. It&#39;s not the first time that I see answers discouraging to use ANTLR, like Mike&#39;s comment. Nevertheless I have tried to find a solution.\r\n\r\nWith your grammar, the lexer rule `LABEL_TOKEN` systematically consumes the first letter after a digit or digit dot, as can be seen when listing the tokens produced by the lexer :\r\n\r\n    % grun Text text -tokens input.txt \r\n    [@0,0:5=&#39;Figure&#39;,&lt;&#39;Figure&#39;&gt;,1:0]\r\n    [@1,6:6=&#39; &#39;,&lt;SPACE_TOKEN&gt;,1:6]\r\n    [@2,7:9=&#39;6.R&#39;,&lt;LABEL_TOKEN&gt;,1:7]\r\n    [@3,10:18=&#39;egulation&#39;,&lt;WORD_TOKEN&gt;,1:10]\r\n    ...\r\n    [@21,62:64=&#39;86F&#39;,&lt;LABEL_TOKEN&gt;,3:19]\r\n    [@22,65:70=&#39;ormula&#39;,&lt;WORD_TOKEN&gt;,3:22]\r\n\r\nWith this grammar in file `Question.g4` :\r\n\r\n    grammar Question;\r\n    \r\n    text\r\n    @init {System.out.println(&quot;Question last update 2046&quot;);}\r\n        :   line+ EOF ;\r\n    \r\n    line\r\n        :   ( figure\r\n        |     ID\r\n        |     NUMBER\r\n        |     PUNCTUATION\r\n        |     SPACE\r\n            )+ NL?\r\n        ;\r\n    \r\n    figure\r\n        :   &#39;Figure&#39; SPACE figure_number\r\n        ;\r\n    \r\n    figure_number\r\n        :   NUMBER    \r\n                               { System.out.println(&quot;NUMBER ID current tk txt=&quot; + getCurrentToken().getText() + &quot; line=&quot; + getCurrentToken().getLine() + &quot; pos=&quot; + getCurrentToken().getCharPositionInLine()); }\r\n            { getCurrentToken().getText().length() == 1 }? ID\r\n                               { System.out.println(&quot;   &gt;&gt; C &quot; + $start.getTokenIndex() + &quot;-&quot; + ($ID == null ? &quot;?&quot; : $ID.getTokenIndex()) + &quot; text=&quot; + ($ID == null ? $NUMBER.text : $NUMBER.text + $ID.text)); }\r\n        |   NUMBER_DOT\r\n                               { System.out.println(&quot;NUMBER_DOT ID current tk txt=&quot; + getCurrentToken().getText() + &quot; line=&quot; + getCurrentToken().getLine() + &quot; pos=&quot; + getCurrentToken().getCharPositionInLine()); }\r\n            { getCurrentToken().getText().length() == 1 }? ID\r\n                               { System.out.println(&quot;   &gt;&gt; D &quot; + $start.getTokenIndex() + &quot;-&quot; + ($ID == null ? &quot;?&quot; : $ID.getTokenIndex()) + &quot; text=&quot; + ($ID == null ? $NUMBER_DOT.text : $NUMBER_DOT.text + $ID.text)); }\r\n        |   NUMBER_DOT NUMBER\r\n                               { System.out.println(&quot;NUMBER_DOT NUMBER ID current tk txt=&quot; + getCurrentToken().getText() + &quot; line=&quot; + getCurrentToken().getLine() + &quot; pos=&quot; + getCurrentToken().getCharPositionInLine()); }\r\n            { getCurrentToken().getText().length() == 1 }? ID\r\n                               { System.out.println(&quot;   &gt;&gt; E &quot; + $start.getTokenIndex() + &quot;-&quot; + ($ID == null ? &quot;?&quot; : $ID.getTokenIndex()) + &quot; text=&quot; + ($ID == null ? $NUMBER_DOT.text : $NUMBER_DOT.text + $ID.text)); }\r\n        |   NUMBER             { System.out.println(&quot;   &gt;&gt; A &quot; + $start.getTokenIndex() + &quot; text=&quot; + $NUMBER.text); }\r\n        |   NUMBER_DOT NUMBER? { System.out.println(&quot;   &gt;&gt; B &quot; + $start.getTokenIndex() + &quot; text=&quot; + $NUMBER_DOT.text + $NUMBER.text); }\r\n        ;\r\n    \r\n    ID          : LETTER ( LETTER | DIGIT )* ;\r\n    NUMBER      : DIGIT+ ;\r\n    NUMBER_DOT  : DIGIT+ &#39;.&#39; ;\r\n    PUNCTUATION : [.,;:!?\\-()&#39;&quot;’] ;\r\n    NL          : [\\r\\n]+ ;\r\n    SPACE       : &#39; &#39;+ ;\r\n    TAB         : [\\t]+ -&gt; skip ;\r\n    \r\n    fragment DIGIT  : [0-9] ;\r\n    fragment LETTER : [a-zA-Z] ;\r\n\r\nand the following input in file `input.txt` :\r\n\r\n    Figure 6.Regulation\r\n    Figure 6 Regulation\r\n    Figure 6.1A Regulation\r\n    See in Figure 2.1, 86Formula and other text\r\n    See Figure 3A xyz.\r\n    See Figure 3.1A abc.\r\n    \r\n    Since you’re (apparently ) just trying ... - to identify the structure -, I’d really suggest : a Regex matcher, see Figure 3A.\r\n\r\nand given :\r\n\r\n    alias a4=&#39;java -jar /usr/local/lib/antlr-4.11.1-complete.jar&#39;\r\n    alias grun=&#39;java org.antlr.v4.gui.TestRig&#39;\r\n    export CLASSPATH=.:/usr/local/lib/antlr-4.11.1-complete.jar\r\nExecution :\r\n\r\n    % a4 Question.g4                                              \r\n    % javac Q*.java \r\n    % grun Question text -tokens -gui input.txt\r\n    [@0,0:5=&#39;Figure&#39;,&lt;&#39;Figure&#39;&gt;,1:0]\r\n    [@1,6:6=&#39; &#39;,&lt;SPACE&gt;,1:6]\r\n    [@2,7:8=&#39;6.&#39;,&lt;NUMBER_DOT&gt;,1:7]\r\n    [@3,9:18=&#39;Regulation&#39;,&lt;ID&gt;,1:9]\r\n    ...\r\nthe grafic is quite nice and the output is :\r\n\r\n    Question last update 2046\r\n    NUMBER_DOT ID current tk txt=Regulation line=1 pos=9\r\n    line 1:9 rule figure_number failed predicate: { getCurrentToken().getText().length() == 1 }?\r\n       &gt;&gt; A 7 text=6\r\n    NUMBER_DOT NUMBER ID current tk txt=A line=3 pos=10\r\n       &gt;&gt; E 13-15 text=6.A\r\n       &gt;&gt; B 25 text=2.1\r\n    NUMBER ID current tk txt=A line=5 pos=12\r\n       &gt;&gt; C 42-43 text=3A\r\n    NUMBER_DOT NUMBER ID current tk txt=A line=6 pos=14\r\n       &gt;&gt; E 52-54 text=3.A\r\n    NUMBER ID current tk txt=A line=8 pos=124\r\n       &gt;&gt; C 112-113 text=3A\r\nFor the input `Figure 6.Regulation`, the semantic predicate\r\n\r\n`{ getCurrentToken().getText().length() == 1 }?`\r\n\r\nguards from using the first alternative, NUMBER ID, of rule figure_number.\r\n\r\nTo give a chance to alternatives C, D and E to be used, I had to move A and B at the end of rule figure_number. Explanation in section 15.7, [book][1] page 286, PDF page 288 :\r\n\r\n&gt; ANTLR’s general decision-making strategy is to find all viable\r\n&gt; alternatives and then ignore the alternatives guarded with predicates\r\n&gt; that currently evaluate to false. (A viable alternative is one that\r\n&gt; matches the current input.) If more than one viable alternative\r\n&gt; remains, the parser chooses the alternative specified first in the\r\n&gt; decision.\r\n\r\nWith\r\n\r\n    figure_number\r\n        :   NUMBER             ...  &gt;&gt; A\r\n        |   NUMBER_DOT NUMBER? ...  &gt;&gt; B\r\n\r\nthe parsing decisions give a completely different result :\r\n\r\n    Question last update 0853\r\n       &gt;&gt; B 2 text=6.null\r\n       &gt;&gt; A 7 text=6\r\n       &gt;&gt; B 13 text=6.1\r\n       &gt;&gt; B 25 text=2.1\r\n       &gt;&gt; A 42 text=3\r\n       &gt;&gt; B 52 text=3.1\r\n       &gt;&gt; A 112 text=3\r\n\r\nJust for completeness, it can be useful to have a listener, file `MyListener.java` :\r\n\r\n    public class MyListener extends QuestionBaseListener {\r\n        QuestionParser parser;\r\n        public MyListener(QuestionParser parser) { this.parser = parser; }\r\n    \r\n    \tpublic void exitLine(QuestionParser.LineContext ctx) {\r\n            System.out.println(&quot;&gt;&gt;&gt; in MyListener for line&quot;);\r\n            System.out.println(parser.getTokenStream().getText(ctx));\r\n        }\r\n    }\r\n\r\nand an application, file `Job.java` :\r\n\r\n    import org.antlr.v4.runtime.*;\r\n    import org.antlr.v4.runtime.tree.*;\r\n    \r\n    public class Job {\r\n        public static void main(String[] args) throws Exception {\r\n    \t\tSystem.out.println(&quot;==========Java Job 4/1/2023 14:32&quot;);\r\n    \t\tString input_file_name = &quot;&quot;;\r\n    \r\n    \t\tif ( args.length &lt; 1 )\r\n                throw new Exception(&quot;Missing input file name on command line&quot;);\r\n    \r\n            input_file_name  = args[0];\r\n    \t\tCharStream input = CharStreams.fromFileName(input_file_name);\r\n    \r\n    \t\tSystem.out.println(&quot;==========Java Job start parsing ==========&quot;);\r\n    \t\tQuestionLexer     lexer    = new QuestionLexer(input);\r\n    \t\tCommonTokenStream tokens   = new CommonTokenStream(lexer);\r\n    \t\tQuestionParser    parser   = new QuestionParser(tokens);\r\n    \t\tParseTree         tree     = parser.text();\r\n    \t\tSystem.out.println(&quot;==========Java Job parsing ended&quot;);\r\n    \t\tParseTreeWalker   walker   = new ParseTreeWalker();\r\n    \t\tSystem.out.println(&quot;==========Java Job about to new MyListener&quot;);\r\n    \t\tMyListener        listener = new MyListener(parser);\r\n    \t\tSystem.out.println(&quot;==========Java Job about to walk&quot;);\r\n    \t\twalker.walk(listener, tree);\r\n            System.out.println(&quot;==========Java Job tree size=&quot; + tree.getChildCount());\r\n    \t}\r\n    }\r\n\r\nwhich outputs the lines as seen by the parser :\r\n\r\n    % java Job input.txt\r\n    ...\r\n    ==========Java Job about to walk\r\n    &gt;&gt;&gt; in MyListener for line\r\n    Figure 6.Regulation\r\n    ...\r\n    &gt;&gt;&gt; in MyListener for line\r\n    See in Figure 2.1, 86Formula and other text\r\n\r\n  [1]: https://pragprog.com/titles/tpantlr2/the-definitive-antlr-4-reference/\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"ANTLR doesn&#39;t match correct parser rule in some cases","body":"<p>Free text is more difficult to parse than programming languages. It's not the first time that I see answers discouraging to use ANTLR, like Mike's comment. Nevertheless I have tried to find a solution.</p>\n<p>With your grammar, the lexer rule <code>LABEL_TOKEN</code> systematically consumes the first letter after a digit or digit dot, as can be seen when listing the tokens produced by the lexer :</p>\n<pre><code>% grun Text text -tokens input.txt \n[@0,0:5='Figure',&lt;'Figure'&gt;,1:0]\n[@1,6:6=' ',&lt;SPACE_TOKEN&gt;,1:6]\n[@2,7:9='6.R',&lt;LABEL_TOKEN&gt;,1:7]\n[@3,10:18='egulation',&lt;WORD_TOKEN&gt;,1:10]\n...\n[@21,62:64='86F',&lt;LABEL_TOKEN&gt;,3:19]\n[@22,65:70='ormula',&lt;WORD_TOKEN&gt;,3:22]\n</code></pre>\n<p>With this grammar in file <code>Question.g4</code> :</p>\n<pre><code>grammar Question;\n\ntext\n@init {System.out.println(&quot;Question last update 2046&quot;);}\n    :   line+ EOF ;\n\nline\n    :   ( figure\n    |     ID\n    |     NUMBER\n    |     PUNCTUATION\n    |     SPACE\n        )+ NL?\n    ;\n\nfigure\n    :   'Figure' SPACE figure_number\n    ;\n\nfigure_number\n    :   NUMBER    \n                           { System.out.println(&quot;NUMBER ID current tk txt=&quot; + getCurrentToken().getText() + &quot; line=&quot; + getCurrentToken().getLine() + &quot; pos=&quot; + getCurrentToken().getCharPositionInLine()); }\n        { getCurrentToken().getText().length() == 1 }? ID\n                           { System.out.println(&quot;   &gt;&gt; C &quot; + $start.getTokenIndex() + &quot;-&quot; + ($ID == null ? &quot;?&quot; : $ID.getTokenIndex()) + &quot; text=&quot; + ($ID == null ? $NUMBER.text : $NUMBER.text + $ID.text)); }\n    |   NUMBER_DOT\n                           { System.out.println(&quot;NUMBER_DOT ID current tk txt=&quot; + getCurrentToken().getText() + &quot; line=&quot; + getCurrentToken().getLine() + &quot; pos=&quot; + getCurrentToken().getCharPositionInLine()); }\n        { getCurrentToken().getText().length() == 1 }? ID\n                           { System.out.println(&quot;   &gt;&gt; D &quot; + $start.getTokenIndex() + &quot;-&quot; + ($ID == null ? &quot;?&quot; : $ID.getTokenIndex()) + &quot; text=&quot; + ($ID == null ? $NUMBER_DOT.text : $NUMBER_DOT.text + $ID.text)); }\n    |   NUMBER_DOT NUMBER\n                           { System.out.println(&quot;NUMBER_DOT NUMBER ID current tk txt=&quot; + getCurrentToken().getText() + &quot; line=&quot; + getCurrentToken().getLine() + &quot; pos=&quot; + getCurrentToken().getCharPositionInLine()); }\n        { getCurrentToken().getText().length() == 1 }? ID\n                           { System.out.println(&quot;   &gt;&gt; E &quot; + $start.getTokenIndex() + &quot;-&quot; + ($ID == null ? &quot;?&quot; : $ID.getTokenIndex()) + &quot; text=&quot; + ($ID == null ? $NUMBER_DOT.text : $NUMBER_DOT.text + $ID.text)); }\n    |   NUMBER             { System.out.println(&quot;   &gt;&gt; A &quot; + $start.getTokenIndex() + &quot; text=&quot; + $NUMBER.text); }\n    |   NUMBER_DOT NUMBER? { System.out.println(&quot;   &gt;&gt; B &quot; + $start.getTokenIndex() + &quot; text=&quot; + $NUMBER_DOT.text + $NUMBER.text); }\n    ;\n\nID          : LETTER ( LETTER | DIGIT )* ;\nNUMBER      : DIGIT+ ;\nNUMBER_DOT  : DIGIT+ '.' ;\nPUNCTUATION : [.,;:!?\\-()'&quot;’] ;\nNL          : [\\r\\n]+ ;\nSPACE       : ' '+ ;\nTAB         : [\\t]+ -&gt; skip ;\n\nfragment DIGIT  : [0-9] ;\nfragment LETTER : [a-zA-Z] ;\n</code></pre>\n<p>and the following input in file <code>input.txt</code> :</p>\n<pre><code>Figure 6.Regulation\nFigure 6 Regulation\nFigure 6.1A Regulation\nSee in Figure 2.1, 86Formula and other text\nSee Figure 3A xyz.\nSee Figure 3.1A abc.\n\nSince you’re (apparently ) just trying ... - to identify the structure -, I’d really suggest : a Regex matcher, see Figure 3A.\n</code></pre>\n<p>and given :</p>\n<pre><code>alias a4='java -jar /usr/local/lib/antlr-4.11.1-complete.jar'\nalias grun='java org.antlr.v4.gui.TestRig'\nexport CLASSPATH=.:/usr/local/lib/antlr-4.11.1-complete.jar\n</code></pre>\n<p>Execution :</p>\n<pre><code>% a4 Question.g4                                              \n% javac Q*.java \n% grun Question text -tokens -gui input.txt\n[@0,0:5='Figure',&lt;'Figure'&gt;,1:0]\n[@1,6:6=' ',&lt;SPACE&gt;,1:6]\n[@2,7:8='6.',&lt;NUMBER_DOT&gt;,1:7]\n[@3,9:18='Regulation',&lt;ID&gt;,1:9]\n...\n</code></pre>\n<p>the grafic is quite nice and the output is :</p>\n<pre><code>Question last update 2046\nNUMBER_DOT ID current tk txt=Regulation line=1 pos=9\nline 1:9 rule figure_number failed predicate: { getCurrentToken().getText().length() == 1 }?\n   &gt;&gt; A 7 text=6\nNUMBER_DOT NUMBER ID current tk txt=A line=3 pos=10\n   &gt;&gt; E 13-15 text=6.A\n   &gt;&gt; B 25 text=2.1\nNUMBER ID current tk txt=A line=5 pos=12\n   &gt;&gt; C 42-43 text=3A\nNUMBER_DOT NUMBER ID current tk txt=A line=6 pos=14\n   &gt;&gt; E 52-54 text=3.A\nNUMBER ID current tk txt=A line=8 pos=124\n   &gt;&gt; C 112-113 text=3A\n</code></pre>\n<p>For the input <code>Figure 6.Regulation</code>, the semantic predicate</p>\n<p><code>{ getCurrentToken().getText().length() == 1 }?</code></p>\n<p>guards from using the first alternative, NUMBER ID, of rule figure_number.</p>\n<p>To give a chance to alternatives C, D and E to be used, I had to move A and B at the end of rule figure_number. Explanation in section 15.7, <a href=\"https://pragprog.com/titles/tpantlr2/the-definitive-antlr-4-reference/\" rel=\"nofollow noreferrer\">book</a> page 286, PDF page 288 :</p>\n<blockquote>\n<p>ANTLR’s general decision-making strategy is to find all viable\nalternatives and then ignore the alternatives guarded with predicates\nthat currently evaluate to false. (A viable alternative is one that\nmatches the current input.) If more than one viable alternative\nremains, the parser chooses the alternative specified first in the\ndecision.</p>\n</blockquote>\n<p>With</p>\n<pre><code>figure_number\n    :   NUMBER             ...  &gt;&gt; A\n    |   NUMBER_DOT NUMBER? ...  &gt;&gt; B\n</code></pre>\n<p>the parsing decisions give a completely different result :</p>\n<pre><code>Question last update 0853\n   &gt;&gt; B 2 text=6.null\n   &gt;&gt; A 7 text=6\n   &gt;&gt; B 13 text=6.1\n   &gt;&gt; B 25 text=2.1\n   &gt;&gt; A 42 text=3\n   &gt;&gt; B 52 text=3.1\n   &gt;&gt; A 112 text=3\n</code></pre>\n<p>Just for completeness, it can be useful to have a listener, file <code>MyListener.java</code> :</p>\n<pre><code>public class MyListener extends QuestionBaseListener {\n    QuestionParser parser;\n    public MyListener(QuestionParser parser) { this.parser = parser; }\n\n    public void exitLine(QuestionParser.LineContext ctx) {\n        System.out.println(&quot;&gt;&gt;&gt; in MyListener for line&quot;);\n        System.out.println(parser.getTokenStream().getText(ctx));\n    }\n}\n</code></pre>\n<p>and an application, file <code>Job.java</code> :</p>\n<pre><code>import org.antlr.v4.runtime.*;\nimport org.antlr.v4.runtime.tree.*;\n\npublic class Job {\n    public static void main(String[] args) throws Exception {\n        System.out.println(&quot;==========Java Job 4/1/2023 14:32&quot;);\n        String input_file_name = &quot;&quot;;\n\n        if ( args.length &lt; 1 )\n            throw new Exception(&quot;Missing input file name on command line&quot;);\n\n        input_file_name  = args[0];\n        CharStream input = CharStreams.fromFileName(input_file_name);\n\n        System.out.println(&quot;==========Java Job start parsing ==========&quot;);\n        QuestionLexer     lexer    = new QuestionLexer(input);\n        CommonTokenStream tokens   = new CommonTokenStream(lexer);\n        QuestionParser    parser   = new QuestionParser(tokens);\n        ParseTree         tree     = parser.text();\n        System.out.println(&quot;==========Java Job parsing ended&quot;);\n        ParseTreeWalker   walker   = new ParseTreeWalker();\n        System.out.println(&quot;==========Java Job about to new MyListener&quot;);\n        MyListener        listener = new MyListener(parser);\n        System.out.println(&quot;==========Java Job about to walk&quot;);\n        walker.walk(listener, tree);\n        System.out.println(&quot;==========Java Job tree size=&quot; + tree.getChildCount());\n    }\n}\n</code></pre>\n<p>which outputs the lines as seen by the parser :</p>\n<pre><code>% java Job input.txt\n...\n==========Java Job about to walk\n&gt;&gt;&gt; in MyListener for line\nFigure 6.Regulation\n...\n&gt;&gt;&gt; in MyListener for line\nSee in Figure 2.1, 86Formula and other text\n</code></pre>\n"}],"owner":{"account_id":18026994,"reputation":1,"user_id":13102672,"display_name":"Korpusova Svetlana"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":219,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672909318,"creation_date":1671015105,"question_id":74797082,"body_markdown":"I am trying to identify figure namber in documents. Strings like &quot;Figure 3. Caption&quot; or &quot;See in Figure 3&quot;. Some figure may contain subindex (&#39;1A&#39; or &#39;1.1&#39; or &#39;3.A&#39;) and sometimes there is no space beetwen Caption and dot. I have the following ANTLR file with rules:\r\n\r\n```\r\ngrammar Text;\r\n\r\ntext   : space? \r\n      ( \r\n       keywordFigure\r\n      | label\r\n      | space\r\n      | dot\r\n      | comma\r\n      | word )*;\r\n\r\n\r\nFIGURE : &#39;Figure&#39;;\r\nkeywordFigure : FIGURE;\r\n\r\nLABEL_TOKEN : [0-9]+ [a-zA-Z]?\r\n            | [0-9]+ &#39;.&#39; [0-9]+\r\n            | [0-9]+ &#39;.&#39; [a-zA-Z];\r\nlabel : LABEL_TOKEN;\r\n\r\n\r\n/* Separators */\r\n\r\nSPACE_TOKEN : [ \\t\\n\\r]+;\r\nspace : SPACE_TOKEN;\r\n\r\nDOT : &#39;.&#39;;\r\ndot : DOT;\r\n\r\nCOMMA : &#39;,&#39;;\r\ncomma : COMMA;\r\n\r\nfragment WORD_CHAR : ~[0-9 \\t\\n\\r.,];\r\nWORD_TOKEN : WORD_CHAR+;\r\nword : WORD_TOKEN;\r\n\r\n```\r\n\r\n\r\nThis grammar does not work correctly for some examples:\r\n\r\n```\r\nFigure 6.Regulation\r\n```\r\n*label* is &quot;6.R&quot; but not &quot;6.&quot; because the ANTLR priority (select the lexer rule which matches the longest input). \r\n\r\n```\r\nSee in Figure 2.1, 86Formula and other text\r\n```\r\n*labels* are &quot;2.1&quot; and &quot;86F&quot;. \r\n\r\nIs there a way how to identify a boundary for this rule?","title":"ANTLR doesn&#39;t match correct parser rule in some cases","body":"<p>I am trying to identify figure namber in documents. Strings like &quot;Figure 3. Caption&quot; or &quot;See in Figure 3&quot;. Some figure may contain subindex ('1A' or '1.1' or '3.A') and sometimes there is no space beetwen Caption and dot. I have the following ANTLR file with rules:</p>\n<pre><code>grammar Text;\n\ntext   : space? \n      ( \n       keywordFigure\n      | label\n      | space\n      | dot\n      | comma\n      | word )*;\n\n\nFIGURE : 'Figure';\nkeywordFigure : FIGURE;\n\nLABEL_TOKEN : [0-9]+ [a-zA-Z]?\n            | [0-9]+ '.' [0-9]+\n            | [0-9]+ '.' [a-zA-Z];\nlabel : LABEL_TOKEN;\n\n\n/* Separators */\n\nSPACE_TOKEN : [ \\t\\n\\r]+;\nspace : SPACE_TOKEN;\n\nDOT : '.';\ndot : DOT;\n\nCOMMA : ',';\ncomma : COMMA;\n\nfragment WORD_CHAR : ~[0-9 \\t\\n\\r.,];\nWORD_TOKEN : WORD_CHAR+;\nword : WORD_TOKEN;\n\n</code></pre>\n<p>This grammar does not work correctly for some examples:</p>\n<pre><code>Figure 6.Regulation\n</code></pre>\n<p><em>label</em> is &quot;6.R&quot; but not &quot;6.&quot; because the ANTLR priority (select the lexer rule which matches the longest input).</p>\n<pre><code>See in Figure 2.1, 86Formula and other text\n</code></pre>\n<p><em>labels</em> are &quot;2.1&quot; and &quot;86F&quot;.</p>\n<p>Is there a way how to identify a boundary for this rule?</p>\n"},{"tags":["javascript","java","android","reverse-engineering","frida"],"answers":[{"tags":[],"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672909317,"creation_date":1672909317,"answer_id":75015957,"question_id":75011636,"body_markdown":"The common way is to save the reference to the hooked method and reuse it when you want to call the original implementation:\r\n\r\n```\r\nJava.perform(()=&gt;{\r\n    const jPM=Java.use(&#39;android.app.ApplicationPackageManager&#39;);\r\n    const getPImethod = jPM.getPackageInfo.overload(&#39;java.lang.String&#39;,&#39;int&#39;);\r\n    getPImethod.implementation=(pname,f)=&gt;{\r\n        console.log(&quot;Called =&gt; getPackageInfo (Flag=&quot;+f+&quot;, Pkg=&quot;+pname+&quot;)&quot;);\r\n        return getPImethod.call(this,pname,f);\r\n    }\r\n});\r\n```","title":"TypeError: cannot read property &#39;getPackageInfo&#39; of undefined in Frida","body":"<p>The common way is to save the reference to the hooked method and reuse it when you want to call the original implementation:</p>\n<pre><code>Java.perform(()=&gt;{\n    const jPM=Java.use('android.app.ApplicationPackageManager');\n    const getPImethod = jPM.getPackageInfo.overload('java.lang.String','int');\n    getPImethod.implementation=(pname,f)=&gt;{\n        console.log(&quot;Called =&gt; getPackageInfo (Flag=&quot;+f+&quot;, Pkg=&quot;+pname+&quot;)&quot;);\n        return getPImethod.call(this,pname,f);\n    }\n});\n</code></pre>\n"}],"owner":{"account_id":25660142,"reputation":55,"user_id":19425991,"display_name":"na29"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":207,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1672909317,"creation_date":1672868453,"question_id":75011636,"body_markdown":"Hi I am trying to call a method (getPackageInfo) using Frida, but i get this error:\r\n`TypeError: cannot read property &#39;getPackageInfo&#39; of undefined`.\r\nThis is the code:\r\n```\r\nJava.perform(()=&gt;{\r\n    const jPM=Java.use(&#39;android.app.ApplicationPackageManager&#39;);\r\n    jPM.getPackageInfo.overload(&#39;java.lang.String&#39;,&#39;int&#39;).implementation=(pname,f)=&gt;{\r\n        console.log(&quot;Called =&gt; getPackageInfo (Flag=&quot;+f+&quot;, Pkg=&quot;+pname+&quot;)&quot;);\r\n        return this.getPackageInfo.overload(&#39;java.lang.String&#39;,&#39;int&#39;).call(this,pname,f);\r\n    }\r\n});\r\n```\r\nAnd the error is from this line: `return this.getPackageInfo.overload(&#39;java.lang.String&#39;,&#39;int&#39;).call(this,pname,f);`","title":"TypeError: cannot read property &#39;getPackageInfo&#39; of undefined in Frida","body":"<p>Hi I am trying to call a method (getPackageInfo) using Frida, but i get this error:\n<code>TypeError: cannot read property 'getPackageInfo' of undefined</code>.\nThis is the code:</p>\n<pre><code>Java.perform(()=&gt;{\n    const jPM=Java.use('android.app.ApplicationPackageManager');\n    jPM.getPackageInfo.overload('java.lang.String','int').implementation=(pname,f)=&gt;{\n        console.log(&quot;Called =&gt; getPackageInfo (Flag=&quot;+f+&quot;, Pkg=&quot;+pname+&quot;)&quot;);\n        return this.getPackageInfo.overload('java.lang.String','int').call(this,pname,f);\n    }\n});\n</code></pre>\n<p>And the error is from this line: <code>return this.getPackageInfo.overload('java.lang.String','int').call(this,pname,f);</code></p>\n"},{"tags":["java","oop","inheritance","polymorphism","mapstruct"],"answers":[{"tags":[],"owner":{"account_id":755765,"reputation":8000,"user_id":765965,"accept_rate":94,"display_name":"Al-Mothafar"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1569684402,"creation_date":1475483866,"answer_id":39827492,"question_id":39773923,"body_markdown":"Currently, it seems it&#39;s not available yet as a feature for mapstruct :  [Support for Type-Refinement mapping (or Downcast Mapping)][1]\r\n\r\nI asked the question in their google group: https://groups.google.com/forum/?fromgroups#!topic/mapstruct-users/PqB-g1SBTPg\r\n\r\nand found that I need to do manual mapping using `default` method inside interface (for java 8).\r\n\r\nAnd got another issue for mapping parent that was almost not applicable so I write one more empty class that child of parent class called `LocalUserDTO`: \r\n\r\nSo the code becomes like the following:\r\n\r\n    @Mapper\r\n    public interface UserMapper {\r\n        public static UserMapper INSTANCE = Mappers.getMapper(UserMapper.class);\r\n    \r\n        LocalUser map(LocalUserDTO userDTO);\r\n    \r\n        @InheritInverseConfiguration\r\n        LocalUserDTO map(LocalUser user);\r\n    \r\n    \r\n        List&lt;UserDTO&gt; map(List&lt;User&gt; users);\r\n    \r\n        FacebookUser map(FacebookUserDTO userDTO);\r\n    \r\n        @InheritInverseConfiguration\r\n        FacebookUserDTO map(FacebookUser user);\r\n    \r\n        TwitterUser map(TwitterUserDTO userDTO);\r\n    \r\n        @InheritInverseConfiguration\r\n        TwitterUserDTO map(TwitterUser user);\r\n    \r\n        default UserDTO map(User user) {\r\n    \r\n            if (user instanceof FacebookUser) {\r\n                return this.map((FacebookUser) user);\r\n            } else if (user instanceof TwitterUser) {\r\n                return this.map((TwitterUser) user);\r\n            } else {\r\n                return this.map((LocalUser) user);\r\n            }\r\n        }\r\n    \r\n        @InheritInverseConfiguration\r\n        default User map(UserDTO userDTO) {\r\n            if (userDTO instanceof FacebookUserDTO) {\r\n                return this.map((FacebookUserDTO) userDTO);\r\n            } else if (userDTO instanceof TwitterUserDTO) {\r\n                return this.map((TwitterUserDTO) userDTO);\r\n            } else {\r\n                return this.map((LocalUserDTO) userDTO);\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\n  [1]: https://github.com/mapstruct/mapstruct/issues/131","title":"MapStruct generic Map and map combined list of children objects","body":"<p>Currently, it seems it's not available yet as a feature for mapstruct :  <a href=\"https://github.com/mapstruct/mapstruct/issues/131\" rel=\"nofollow noreferrer\">Support for Type-Refinement mapping (or Downcast Mapping)</a></p>\n\n<p>I asked the question in their google group: <a href=\"https://groups.google.com/forum/?fromgroups#!topic/mapstruct-users/PqB-g1SBTPg\" rel=\"nofollow noreferrer\">https://groups.google.com/forum/?fromgroups#!topic/mapstruct-users/PqB-g1SBTPg</a></p>\n\n<p>and found that I need to do manual mapping using <code>default</code> method inside interface (for java 8).</p>\n\n<p>And got another issue for mapping parent that was almost not applicable so I write one more empty class that child of parent class called <code>LocalUserDTO</code>: </p>\n\n<p>So the code becomes like the following:</p>\n\n<pre><code>@Mapper\npublic interface UserMapper {\n    public static UserMapper INSTANCE = Mappers.getMapper(UserMapper.class);\n\n    LocalUser map(LocalUserDTO userDTO);\n\n    @InheritInverseConfiguration\n    LocalUserDTO map(LocalUser user);\n\n\n    List&lt;UserDTO&gt; map(List&lt;User&gt; users);\n\n    FacebookUser map(FacebookUserDTO userDTO);\n\n    @InheritInverseConfiguration\n    FacebookUserDTO map(FacebookUser user);\n\n    TwitterUser map(TwitterUserDTO userDTO);\n\n    @InheritInverseConfiguration\n    TwitterUserDTO map(TwitterUser user);\n\n    default UserDTO map(User user) {\n\n        if (user instanceof FacebookUser) {\n            return this.map((FacebookUser) user);\n        } else if (user instanceof TwitterUser) {\n            return this.map((TwitterUser) user);\n        } else {\n            return this.map((LocalUser) user);\n        }\n    }\n\n    @InheritInverseConfiguration\n    default User map(UserDTO userDTO) {\n        if (userDTO instanceof FacebookUserDTO) {\n            return this.map((FacebookUserDTO) userDTO);\n        } else if (userDTO instanceof TwitterUserDTO) {\n            return this.map((TwitterUserDTO) userDTO);\n        } else {\n            return this.map((LocalUserDTO) userDTO);\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22394573,"reputation":140,"user_id":16606026,"display_name":"user16606026"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672909002,"creation_date":1672191482,"answer_id":74935499,"question_id":39773923,"body_markdown":"Was googling about this exact issue yesterday, but couldn&#39;t find anything on internet, so let&#39;s leave this here.\r\n\r\nAs the issue mentioned in the former answer has been solved earlier this year, Mapstruct now officially supports downcasting by `@SubclassMapping`.\r\n\r\n```java\r\npublic interface UserMapper {\r\n    @Named(&quot;UserToDTO&quot;)\r\n    @SubclassMapping(source = FacebookUser.class, target = FacebookUserDTO.class)\r\n    @SubclassMapping(source = TwitterUser.class, target = TwitterUserDTO.class)\r\n    UserDTO toDTO(User source);\r\n}\r\n```\r\n\r\nHowever you can&#39;t put parameterized class i.e. `List&lt;User&gt;` in that annotation,  and Mapstruct isn&#39;t actually using this specification above for Lists. Hence, one more function is needed.\r\n\r\n```java\r\npublic interface UserMapper {\r\n    @Named(&quot;UserToDTOList&quot;)\r\n    @IterableMapping(qualifiedByName = &quot;UserToDTO&quot;)\r\n    List&lt;UserDTO&gt; toDTO(List&lt;User&gt; source);\r\n\r\n    @Named(&quot;UserToDTO&quot;)\r\n    @SubclassMapping(source = FacebookUser.class, target = FacebookUserDTO.class)\r\n    @SubclassMapping(source = TwitterUser.class, target = TwitterUserDTO.class)\r\n    UserDTO toDTO(User source);\r\n}\r\n```\r\n\r\nThis also applies to field in a class. For my case, we have a list field like that in a class. At first I only added `@SubclassMapping`, but after checking the code Mapstruct generated, I found that it isn&#39;t using the method for list converting. Adding `@IterableMapping` fixed that.\r\n\r\nConsider a `UsersWrapper` class with a list field in it.\r\n\r\n```java\r\npublic class UsersWrapper {\r\n  List&lt;User&gt; list;\r\n}\r\n```\r\n\r\nAnd a `UsersWrapperDTO`.\r\n\r\n```java\r\npublic class UsersWrapperDTO {\r\n  List&lt;UserDTO&gt; list;\r\n}\r\n```\r\n\r\nThen, we can use one more method in the mapper.\r\n\r\n```java\r\npublic interface UserMapper {\r\n\r\n    @Mapping(source = &quot;source.list&quot;, target = &quot;list&quot;, qualifiedByName = &quot;UserToDTOList&quot;)\r\n    UsersWrapperDTO toDTO(UsersWrapper source);\r\n\r\n    @Named(&quot;UserToDTOList&quot;)\r\n    @IterableMapping(qualifiedByName = &quot;UserToDTO&quot;)\r\n    List&lt;UserDTO&gt; toDTO(List&lt;User&gt; source);\r\n\r\n    @Named(&quot;UserToDTO&quot;)\r\n    @SubclassMapping(source = FacebookUser.class, target = FacebookUserDTO.class)\r\n    @SubclassMapping(source = TwitterUser.class, target = TwitterUserDTO.class)\r\n    UserDTO toDTO(User source);\r\n}\r\n```\r\n\r\nMapstruct actually generates very readable codes, so if you find it doesn&#39;t work like you thought, checking there first is also an option.\r\n\r\nAin&#39;t familiar with Mapstruct so took me a whole afternoon to put the pieces together! Though, it does seem simple and make sense that I need to combine these two annotations together. Hopefully this post will save people some time.","title":"MapStruct generic Map and map combined list of children objects","body":"<p>Was googling about this exact issue yesterday, but couldn't find anything on internet, so let's leave this here.</p>\n<p>As the issue mentioned in the former answer has been solved earlier this year, Mapstruct now officially supports downcasting by <code>@SubclassMapping</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface UserMapper {\n    @Named(&quot;UserToDTO&quot;)\n    @SubclassMapping(source = FacebookUser.class, target = FacebookUserDTO.class)\n    @SubclassMapping(source = TwitterUser.class, target = TwitterUserDTO.class)\n    UserDTO toDTO(User source);\n}\n</code></pre>\n<p>However you can't put parameterized class i.e. <code>List&lt;User&gt;</code> in that annotation,  and Mapstruct isn't actually using this specification above for Lists. Hence, one more function is needed.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface UserMapper {\n    @Named(&quot;UserToDTOList&quot;)\n    @IterableMapping(qualifiedByName = &quot;UserToDTO&quot;)\n    List&lt;UserDTO&gt; toDTO(List&lt;User&gt; source);\n\n    @Named(&quot;UserToDTO&quot;)\n    @SubclassMapping(source = FacebookUser.class, target = FacebookUserDTO.class)\n    @SubclassMapping(source = TwitterUser.class, target = TwitterUserDTO.class)\n    UserDTO toDTO(User source);\n}\n</code></pre>\n<p>This also applies to field in a class. For my case, we have a list field like that in a class. At first I only added <code>@SubclassMapping</code>, but after checking the code Mapstruct generated, I found that it isn't using the method for list converting. Adding <code>@IterableMapping</code> fixed that.</p>\n<p>Consider a <code>UsersWrapper</code> class with a list field in it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class UsersWrapper {\n  List&lt;User&gt; list;\n}\n</code></pre>\n<p>And a <code>UsersWrapperDTO</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class UsersWrapperDTO {\n  List&lt;UserDTO&gt; list;\n}\n</code></pre>\n<p>Then, we can use one more method in the mapper.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface UserMapper {\n\n    @Mapping(source = &quot;source.list&quot;, target = &quot;list&quot;, qualifiedByName = &quot;UserToDTOList&quot;)\n    UsersWrapperDTO toDTO(UsersWrapper source);\n\n    @Named(&quot;UserToDTOList&quot;)\n    @IterableMapping(qualifiedByName = &quot;UserToDTO&quot;)\n    List&lt;UserDTO&gt; toDTO(List&lt;User&gt; source);\n\n    @Named(&quot;UserToDTO&quot;)\n    @SubclassMapping(source = FacebookUser.class, target = FacebookUserDTO.class)\n    @SubclassMapping(source = TwitterUser.class, target = TwitterUserDTO.class)\n    UserDTO toDTO(User source);\n}\n</code></pre>\n<p>Mapstruct actually generates very readable codes, so if you find it doesn't work like you thought, checking there first is also an option.</p>\n<p>Ain't familiar with Mapstruct so took me a whole afternoon to put the pieces together! Though, it does seem simple and make sense that I need to combine these two annotations together. Hopefully this post will save people some time.</p>\n"}],"owner":{"account_id":755765,"reputation":8000,"user_id":765965,"accept_rate":94,"display_name":"Al-Mothafar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7947,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":39827492,"answer_count":2,"score":8,"last_activity_date":1672909002,"creation_date":1475161657,"question_id":39773923,"body_markdown":"I have as parent class : `User.java` , and 2 classes : `FacebookUser.java` and `TwitterUser.java` they are entities that returned depends on the type column in database using `DiscriminatorColumn`, I want to write correct mapper to map User that could be instance of FacebookUser or TwitterUser. I have the following mapper that seems not works as intended, only Mapping the `User` parent not the children:\r\n\r\n    @Mapper\r\n    public interface UserMapper {\r\n        public static UserMapper INSTANCE = Mappers.getMapper(UserMapper.class);\r\n    \r\n        User map(UserDTO userDTO);\r\n    \r\n        @InheritInverseConfiguration\r\n        UserDTO map(User user);\r\n    \r\n        List&lt;UserDTO&gt; map(List&lt;User&gt; users);\r\n    \r\n        FacebookUser map(FacebookUserDTO userDTO);\r\n    \r\n        @InheritInverseConfiguration\r\n        FacebookUserDTO map(FacebookUser user);\r\n    \r\n        TwitterUser map(TwitterUserDTO userDTO);\r\n    \r\n        @InheritInverseConfiguration\r\n        TwitterUserDTO map(TwitterUser user);\r\n        \r\n    }\r\n\r\nThen I use : \r\n\r\n    UserDTO userDto = UserMapper.INSTANCE.map(user);\r\n\r\nClasses to map:\r\n\r\n    @Entity\r\n    @Table(name = &quot;users&quot;)\r\n    @Inheritance(strategy = InheritanceType.SINGLE_TABLE)\r\n    @DiscriminatorColumn(name = &quot;type&quot;, discriminatorType = DiscriminatorType.STRING, length = 10)\r\n    @DiscriminatorValue(value = &quot;Local&quot;)\r\n    public class User {\r\n        @Column\r\n        private String firstName;\r\n        @Column\r\n        private String lastName;\r\n        ///... setters and getters\r\n    }\r\n    \r\n    @Entity\r\n    @DiscriminatorValue(value = &quot;Facebook&quot;)\r\n    public class FacebookUser extends User {\r\n        @Column\r\n        private String userId;\r\n        ///... setters and getters\r\n    }\r\n    \r\n    @Entity\r\n    @DiscriminatorValue(value = &quot;Twitter&quot;)\r\n    public class TwitterUser extends User {\r\n        @Column\r\n        private String screenName; \r\n        ///... setters and getters\r\n    }\r\n    \r\nThe DTOs: \r\n\r\n    public class UserDTO {\r\n        private String firstName;\r\n        private String lastName;\r\n        ///... setters and getters\r\n    }\r\n    \r\n    public class FacebookUserDTO extends UserDTO {\r\n        private String userId;\r\n        ///... setters and getters\r\n    }\r\n    \r\n    public class TwitterUserDTO extends UserDTO {\r\n        private String screenName; \r\n        ///... setters and getters\r\n    }\r\n\r\nAlso if I have list of users that mixed with Facebook users and Twitter users, or basic user:\r\n\r\nLets say I have the following users:\r\n\r\n    User user = new User (&quot;firstName&quot;,&quot;lastName&quot;);\r\n    User fbUser = new FacebookUser (&quot;firstName&quot;,&quot;lastName&quot;,&quot;userId&quot;);\r\n    User twUser = new TwitterUser (&quot;firstName&quot;,&quot;lastName&quot;,&quot;screenName&quot;);\r\n    \r\n    List&lt;User&gt; users = new ArrayList&lt;&gt;();\r\n    users.add(user);\r\n    users.add(fbUser);\r\n    users.add(twUser);\r\n    \r\n    //Then: \r\n    \r\n    List&lt;UserDTO&gt; dtos = UserMapper.INSTANCE.map(users);\r\n\r\nI get only `firstName` and `lastName` but not `screenName` or `userId`.\r\n\r\nAny solution for this?","title":"MapStruct generic Map and map combined list of children objects","body":"<p>I have as parent class : <code>User.java</code> , and 2 classes : <code>FacebookUser.java</code> and <code>TwitterUser.java</code> they are entities that returned depends on the type column in database using <code>DiscriminatorColumn</code>, I want to write correct mapper to map User that could be instance of FacebookUser or TwitterUser. I have the following mapper that seems not works as intended, only Mapping the <code>User</code> parent not the children:</p>\n\n<pre><code>@Mapper\npublic interface UserMapper {\n    public static UserMapper INSTANCE = Mappers.getMapper(UserMapper.class);\n\n    User map(UserDTO userDTO);\n\n    @InheritInverseConfiguration\n    UserDTO map(User user);\n\n    List&lt;UserDTO&gt; map(List&lt;User&gt; users);\n\n    FacebookUser map(FacebookUserDTO userDTO);\n\n    @InheritInverseConfiguration\n    FacebookUserDTO map(FacebookUser user);\n\n    TwitterUser map(TwitterUserDTO userDTO);\n\n    @InheritInverseConfiguration\n    TwitterUserDTO map(TwitterUser user);\n\n}\n</code></pre>\n\n<p>Then I use : </p>\n\n<pre><code>UserDTO userDto = UserMapper.INSTANCE.map(user);\n</code></pre>\n\n<p>Classes to map:</p>\n\n<pre><code>@Entity\n@Table(name = \"users\")\n@Inheritance(strategy = InheritanceType.SINGLE_TABLE)\n@DiscriminatorColumn(name = \"type\", discriminatorType = DiscriminatorType.STRING, length = 10)\n@DiscriminatorValue(value = \"Local\")\npublic class User {\n    @Column\n    private String firstName;\n    @Column\n    private String lastName;\n    ///... setters and getters\n}\n\n@Entity\n@DiscriminatorValue(value = \"Facebook\")\npublic class FacebookUser extends User {\n    @Column\n    private String userId;\n    ///... setters and getters\n}\n\n@Entity\n@DiscriminatorValue(value = \"Twitter\")\npublic class TwitterUser extends User {\n    @Column\n    private String screenName; \n    ///... setters and getters\n}\n</code></pre>\n\n<p>The DTOs: </p>\n\n<pre><code>public class UserDTO {\n    private String firstName;\n    private String lastName;\n    ///... setters and getters\n}\n\npublic class FacebookUserDTO extends UserDTO {\n    private String userId;\n    ///... setters and getters\n}\n\npublic class TwitterUserDTO extends UserDTO {\n    private String screenName; \n    ///... setters and getters\n}\n</code></pre>\n\n<p>Also if I have list of users that mixed with Facebook users and Twitter users, or basic user:</p>\n\n<p>Lets say I have the following users:</p>\n\n<pre><code>User user = new User (\"firstName\",\"lastName\");\nUser fbUser = new FacebookUser (\"firstName\",\"lastName\",\"userId\");\nUser twUser = new TwitterUser (\"firstName\",\"lastName\",\"screenName\");\n\nList&lt;User&gt; users = new ArrayList&lt;&gt;();\nusers.add(user);\nusers.add(fbUser);\nusers.add(twUser);\n\n//Then: \n\nList&lt;UserDTO&gt; dtos = UserMapper.INSTANCE.map(users);\n</code></pre>\n\n<p>I get only <code>firstName</code> and <code>lastName</code> but not <code>screenName</code> or <code>userId</code>.</p>\n\n<p>Any solution for this?</p>\n"},{"tags":["java","rabin-karp"],"answers":[{"tags":[],"owner":{"account_id":5823420,"reputation":785,"user_id":6656833,"display_name":"Pavel"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1672908909,"creation_date":1672908909,"answer_id":75015887,"question_id":75015753,"body_markdown":"the pow method from Math will give you a double, you have to cast it manually:\r\n`int p= (int) Math.pow(10,n);`\r\nsee also https://stackoverflow.com/questions/8071363/calculating-powers-of-integers","title":"lossy conversion from double to int for Rabin Karp Algorithm Code","body":"<p>the pow method from Math will give you a double, you have to cast it manually:\n<code>int p= (int) Math.pow(10,n);</code>\nsee also <a href=\"https://stackoverflow.com/questions/8071363/calculating-powers-of-integers\">Calculating powers of integers</a></p>\n"}],"owner":{"account_id":16453280,"reputation":87,"user_id":11886164,"display_name":"Coding Enthusiast"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1672908909,"creation_date":1672908084,"question_id":75015753,"body_markdown":"I was referring the code for Rabin karp algorithm. But inside the while loop it is Giving an error \r\n\r\npossible lossy conversion from double to int. \r\nCan anyone please help me to resolve this error. \r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class Main {\r\n    static boolean rabinKarp(String text, String pattern) {\r\n        int pLength= pattern.length();\r\n        int n=pLength-1;\r\n        int res=0, curr=0;\r\n        int i=0;\r\n        for(;i&lt;pLength;i++)\r\n            res+= (pattern.charAt(i)-&#39;a&#39;+1)*Math.pow(10,n--);\r\n        \r\n        n=pLength-1;  \r\n        for(i=0;i&lt;pLength;i++)\r\n            curr+= (text.charAt(i)-&#39;a&#39;+1)*Math.pow(10,n--);\r\n        if(res==curr)\r\n            return true;\r\n        n=pLength-1;\r\n        while(i&lt;text.length()){\r\n            int p= Math.pow(10,n);\r\n            int sub= (text.charAt(i-pLength)-&#39;a&#39;+1)*p;\r\n            int add= (text.charAt(i)-&#39;a&#39;+1);\r\n            curr= (curr-sub)*10+add;\r\n            if(res==curr)\r\n                return true;\r\n            i++;\r\n        }\r\n        return false;    \r\n        \r\n    }\r\n    \r\n   public static void main(String[] args) {\r\n    Scanner in = new Scanner(System.in);\r\n    String text = &quot;abcbab&quot;;\r\n    String pattern = &quot;bab&quot;;\r\n    System.out.println(rabinKarp(text,pattern));\r\n  }\r\n\r\n}\r\n```","title":"lossy conversion from double to int for Rabin Karp Algorithm Code","body":"<p>I was referring the code for Rabin karp algorithm. But inside the while loop it is Giving an error</p>\n<p>possible lossy conversion from double to int.\nCan anyone please help me to resolve this error.</p>\n<pre><code>import java.util.Scanner;\n\npublic class Main {\n    static boolean rabinKarp(String text, String pattern) {\n        int pLength= pattern.length();\n        int n=pLength-1;\n        int res=0, curr=0;\n        int i=0;\n        for(;i&lt;pLength;i++)\n            res+= (pattern.charAt(i)-'a'+1)*Math.pow(10,n--);\n        \n        n=pLength-1;  \n        for(i=0;i&lt;pLength;i++)\n            curr+= (text.charAt(i)-'a'+1)*Math.pow(10,n--);\n        if(res==curr)\n            return true;\n        n=pLength-1;\n        while(i&lt;text.length()){\n            int p= Math.pow(10,n);\n            int sub= (text.charAt(i-pLength)-'a'+1)*p;\n            int add= (text.charAt(i)-'a'+1);\n            curr= (curr-sub)*10+add;\n            if(res==curr)\n                return true;\n            i++;\n        }\n        return false;    \n        \n    }\n    \n   public static void main(String[] args) {\n    Scanner in = new Scanner(System.in);\n    String text = &quot;abcbab&quot;;\n    String pattern = &quot;bab&quot;;\n    System.out.println(rabinKarp(text,pattern));\n  }\n\n}\n</code></pre>\n"},{"tags":["java","image","image-processing","processing","kinect"],"owner":{"account_id":25562543,"reputation":39,"user_id":19344937,"display_name":"Rose"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1672908877,"creation_date":1672908877,"question_id":75015878,"body_markdown":"The output image of using EasyOpenNI with an xbox360 kinect is a small 640 x 480 image, is there anyway to maybe scale it up to fullscreen, or near fullscreen.\r\n\r\nI tried using image.resize() but it creates additional images on the top, and the expanded image does not refresh, it gives the initial frame at boot.\r\n\r\nCode:\r\n~~~\r\nimport SimpleOpenNI.*;\r\n\r\nSimpleOpenNI kinect;\r\n \r\nPImage depthCam;\r\nPImage result;\r\n\r\nvoid setup()\r\n{\r\n  size(640, 480);\r\n  surface.setResizable(true);\r\n  background(0);\r\n\r\n  kinect  = new SimpleOpenNI(this);\r\n  kinect.enableDepth();\r\n \r\n  result = createImage(width,height,RGB);\r\n}\r\n \r\nvoid draw()\r\n{\r\n\r\n  background(0);\r\n  kinect.update();\r\n\r\n  depthCam = kinect.depthImage();\r\n  int[] depthVals = kinect.depthMap();\r\n\r\n  result.loadPixels();\r\n \r\n  for (int y=0; y&lt;depthCam.height; y=y+5)\r\n  {\r\n    for (int x =0; x&lt;depthCam.width; x=x+5)\r\n    {\r\n      int loc = x+(y*depthCam.width);\r\n\r\n      if (depthVals[loc] &lt;= 1200 &amp;&amp; depthVals[loc] &gt; 50) { \r\n        result.pixels[loc] = color(250);\r\n      }\r\n      else if (depthVals[loc] &gt; 1200 &amp;&amp; depthVals[loc]&lt; 3000 )\r\n      {\r\n        result.pixels[loc] = color(102);\r\n      }\r\n      else  {\r\n      //otherwise let the pixel value in the result image be white\r\n       result.pixels[loc] = color(0);\r\n      }\r\n \r\n    }\r\n  }\r\n\r\nresult.updatePixels();\r\nresult.resize(640*2,480*2);\r\nimage(result,0,0);\r\n\r\n}\r\n~~~\r\nHere is a screenshot of what appears:\r\n[![image](https://i.stack.imgur.com/PeHZQ.png)](https://i.stack.imgur.com/PeHZQ.png)\r\nEverything is working correctly, except for the fact that there are two duplicated streams at the top (that do refresh), and the enlarged stream does not refresh.","title":"How to resize the image of kinect with Processing","body":"<p>The output image of using EasyOpenNI with an xbox360 kinect is a small 640 x 480 image, is there anyway to maybe scale it up to fullscreen, or near fullscreen.</p>\n<p>I tried using image.resize() but it creates additional images on the top, and the expanded image does not refresh, it gives the initial frame at boot.</p>\n<p>Code:</p>\n<pre><code>import SimpleOpenNI.*;\n\nSimpleOpenNI kinect;\n \nPImage depthCam;\nPImage result;\n\nvoid setup()\n{\n  size(640, 480);\n  surface.setResizable(true);\n  background(0);\n\n  kinect  = new SimpleOpenNI(this);\n  kinect.enableDepth();\n \n  result = createImage(width,height,RGB);\n}\n \nvoid draw()\n{\n\n  background(0);\n  kinect.update();\n\n  depthCam = kinect.depthImage();\n  int[] depthVals = kinect.depthMap();\n\n  result.loadPixels();\n \n  for (int y=0; y&lt;depthCam.height; y=y+5)\n  {\n    for (int x =0; x&lt;depthCam.width; x=x+5)\n    {\n      int loc = x+(y*depthCam.width);\n\n      if (depthVals[loc] &lt;= 1200 &amp;&amp; depthVals[loc] &gt; 50) { \n        result.pixels[loc] = color(250);\n      }\n      else if (depthVals[loc] &gt; 1200 &amp;&amp; depthVals[loc]&lt; 3000 )\n      {\n        result.pixels[loc] = color(102);\n      }\n      else  {\n      //otherwise let the pixel value in the result image be white\n       result.pixels[loc] = color(0);\n      }\n \n    }\n  }\n\nresult.updatePixels();\nresult.resize(640*2,480*2);\nimage(result,0,0);\n\n}\n</code></pre>\n<p>Here is a screenshot of what appears:\n<a href=\"https://i.stack.imgur.com/PeHZQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PeHZQ.png\" alt=\"image\" /></a>\nEverything is working correctly, except for the fact that there are two duplicated streams at the top (that do refresh), and the enlarged stream does not refresh.</p>\n"},{"tags":["java","for-loop","selenium-webdriver"],"comments":[{"owner":{"account_id":25966286,"reputation":3,"user_id":19682196,"display_name":"Latest"},"score":0,"creation_date":1673250913,"post_id":75007255,"comment_id":132447561,"body_markdown":"is it hard to implement or noone cares? :)","body":"is it hard to implement or noone cares? :)"}],"owner":{"account_id":25966286,"reputation":3,"user_id":19682196,"display_name":"Latest"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672908777,"creation_date":1672844236,"question_id":75007255,"body_markdown":"on my project there is dynamically loaded table so each time when we scroll down, table is updating and rowcount starts from 0 or 1 i guess. and i want to iterate through whole table and get specific cell&#39;s text from every row. how can i do that? please, help.\r\nwhat i have done so far is:\r\n\r\n\t\tList&lt;WebElement&gt; currentGridTableRowsList = driver.findElements(\r\n\t\t\t\tBy.xpath(&quot;//table[@role=&#39;grid&#39;] //tbody/tr&quot;));\r\n        \r\n        //print current rows count\r\n\t\tint currentGridTableRows = currentGridTableRowsList.size();\r\n\t\tSystem.out.println(currentGridTableRows);\r\n\r\n\r\n\t\tfor (WebElement row : currentGridTableRowsList){\r\n\t\t\tList&lt;WebElement&gt; tdCollection = row.findElements(By.tagName(&quot;td&quot;));\r\n\t\t\tfor (WebElement td : tdCollection){\r\n\t\t\t\tString cellText = td.getText();\r\n\r\n\t\t\t\tSystem.out.println(cellText);\r\n\t\t\t}\r\n\t\t}\r\n\r\ncurrentGridTableRowsList.size() returns current grid number of rows - 10 for example. But attribute aria-rowcount returns 30 rows.\r\nI know there is a snippet\r\n\r\n    WebElement element = driver.findElement(By.xpath(“//table[@id = ‘tableID’]/tbody//tr[last()]”));\r\n    JavascriptExecutor js = (JavascriptExecutor) driver;\r\n    js.executeScript(“arguments[0].scrollIntoView();”, element);\r\n\r\nbut i don&#39;t know how to apply that, how to make correct for loops in Java language, so that when it is end of table (current grid), webdriver will scroll and when it is end of table (aria-rowcount) driver will quit. can you please tell me how to write correct for loop for the table and how to get specific cell value, for example td[2] of each row? ","title":"Iterate through dynamic table in for loop in java","body":"<p>on my project there is dynamically loaded table so each time when we scroll down, table is updating and rowcount starts from 0 or 1 i guess. and i want to iterate through whole table and get specific cell's text from every row. how can i do that? please, help.\nwhat i have done so far is:</p>\n<pre><code>    List&lt;WebElement&gt; currentGridTableRowsList = driver.findElements(\n            By.xpath(&quot;//table[@role='grid'] //tbody/tr&quot;));\n    \n    //print current rows count\n    int currentGridTableRows = currentGridTableRowsList.size();\n    System.out.println(currentGridTableRows);\n\n\n    for (WebElement row : currentGridTableRowsList){\n        List&lt;WebElement&gt; tdCollection = row.findElements(By.tagName(&quot;td&quot;));\n        for (WebElement td : tdCollection){\n            String cellText = td.getText();\n\n            System.out.println(cellText);\n        }\n    }\n</code></pre>\n<p>currentGridTableRowsList.size() returns current grid number of rows - 10 for example. But attribute aria-rowcount returns 30 rows.\nI know there is a snippet</p>\n<pre><code>WebElement element = driver.findElement(By.xpath(“//table[@id = ‘tableID’]/tbody//tr[last()]”));\nJavascriptExecutor js = (JavascriptExecutor) driver;\njs.executeScript(“arguments[0].scrollIntoView();”, element);\n</code></pre>\n<p>but i don't know how to apply that, how to make correct for loops in Java language, so that when it is end of table (current grid), webdriver will scroll and when it is end of table (aria-rowcount) driver will quit. can you please tell me how to write correct for loop for the table and how to get specific cell value, for example td[2] of each row?</p>\n"},{"tags":["java","zipinputstream"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1672903760,"post_id":75014666,"comment_id":132378935,"body_markdown":"You could simplify the body of your `while` loop with [`InputStream#readAllBytes()`](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/io/InputStream.html#readAllBytes()), assuming you&#39;re using Java 9+.","body":"You could simplify the body of your <code>while</code> loop with <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/io/InputStream.html#readAllBytes()\" rel=\"nofollow noreferrer\"><code>InputStream#readAllBytes()</code></a>, assuming you&#39;re using Java 9+."},{"owner":{"account_id":16720659,"reputation":408,"user_id":12085680,"display_name":"BugsOverflow"},"score":0,"creation_date":1672906236,"post_id":75014666,"comment_id":132379506,"body_markdown":"@Slaw I am using 17, could you show in a comment/answer exactly where please?","body":"@Slaw I am using 17, could you show in a comment/answer exactly where please?"}],"answers":[{"tags":[],"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1672907721,"creation_date":1672907721,"answer_id":75015691,"question_id":75014666,"body_markdown":"If you&#39;re using Java 9+ then you should be able to simplify that code with [`readAllBytes()`][1].\r\n\r\n```lang-java\r\npublic UnzippedFile unzip(ZipFile zipFile) throws IOException {\r\n    var unzippedFile = new UnzippedFile();\r\n    try (ZipInputStream zipInputStream = ZipUtils.toZipInputStream(zipFile)) {\r\n        ZipEntry entry;\r\n        while ((entry = zipInputStream.getNextEntry()) != null) {\r\n            String name = entry.getName();\r\n            byte[] file = zipInputStream.readAllBytes();\r\n\r\n            unzippedFile.addFileToMap(name, file);\r\n        }\r\n    }\r\n    return unzippedFile;\r\n}\r\n```\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/io/InputStream.html#readAllBytes()","title":"How to get bytes from ZipEntry without using ByteArrayOutputStream","body":"<p>If you're using Java 9+ then you should be able to simplify that code with <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/io/InputStream.html#readAllBytes()\" rel=\"nofollow noreferrer\"><code>readAllBytes()</code></a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public UnzippedFile unzip(ZipFile zipFile) throws IOException {\n    var unzippedFile = new UnzippedFile();\n    try (ZipInputStream zipInputStream = ZipUtils.toZipInputStream(zipFile)) {\n        ZipEntry entry;\n        while ((entry = zipInputStream.getNextEntry()) != null) {\n            String name = entry.getName();\n            byte[] file = zipInputStream.readAllBytes();\n\n            unzippedFile.addFileToMap(name, file);\n        }\n    }\n    return unzippedFile;\n}\n</code></pre>\n"}],"owner":{"account_id":16720659,"reputation":408,"user_id":12085680,"display_name":"BugsOverflow"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75015691,"answer_count":1,"score":0,"last_activity_date":1672907721,"creation_date":1672900827,"question_id":75014666,"body_markdown":"Is there a way to make this a little simpler? Since I need the bytes of each entry is there any way to get them without using the ByteArrayOutputStream\r\n\r\n    public UnzippedFile unzip(ZipFile zipFile) throws IOException {\r\n    \tvar unzippedFile = new UnzippedFile();\r\n    \ttry (ZipInputStream zipInputStream = ZipUtils.toZipInputStream(zipFile)) {\r\n    \t\tZipEntry entry;\r\n    \t\twhile ((entry = zipInputStream.getNextEntry()) != null) {\r\n    \t\t\tbyte[] buffer = new byte[1024];\r\n    \t\t\tint len;\r\n    \t\t\ttry (var file = new ByteArrayOutputStream(buffer.length)) {\r\n    \t\t\t\twhile ((len = zipInputStream.read(buffer)) &gt; 0) {\r\n    \t\t\t\t\tfile.write(buffer, 0, len);\r\n    \t\t\t\t}\r\n    \t\t\t\tunzippedFile.addFileToMap(entry.getName(), file.toByteArray());\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \treturn unzippedFile;\r\n    }\r\n\r\nMy UnzippedFile class:\r\n\r\n    public class UnzippedFile {\r\n    \t@Getter\r\n    \tprivate final Map&lt;String, byte[]&gt; filesMap;\r\n    \r\n    \tpublic UnzippedFile() {\r\n    \t\tthis.filesMap = new HashMap&lt;&gt;();\r\n    \t}\r\n    \r\n    \tpublic void addFileToMap(String name, byte[] file) {\r\n    \t\tfilesMap.put(name, file);\r\n    \t}\r\n    \r\n    }","title":"How to get bytes from ZipEntry without using ByteArrayOutputStream","body":"<p>Is there a way to make this a little simpler? Since I need the bytes of each entry is there any way to get them without using the ByteArrayOutputStream</p>\n<pre><code>public UnzippedFile unzip(ZipFile zipFile) throws IOException {\n    var unzippedFile = new UnzippedFile();\n    try (ZipInputStream zipInputStream = ZipUtils.toZipInputStream(zipFile)) {\n        ZipEntry entry;\n        while ((entry = zipInputStream.getNextEntry()) != null) {\n            byte[] buffer = new byte[1024];\n            int len;\n            try (var file = new ByteArrayOutputStream(buffer.length)) {\n                while ((len = zipInputStream.read(buffer)) &gt; 0) {\n                    file.write(buffer, 0, len);\n                }\n                unzippedFile.addFileToMap(entry.getName(), file.toByteArray());\n            }\n        }\n    }\n    return unzippedFile;\n}\n</code></pre>\n<p>My UnzippedFile class:</p>\n<pre><code>public class UnzippedFile {\n    @Getter\n    private final Map&lt;String, byte[]&gt; filesMap;\n\n    public UnzippedFile() {\n        this.filesMap = new HashMap&lt;&gt;();\n    }\n\n    public void addFileToMap(String name, byte[] file) {\n        filesMap.put(name, file);\n    }\n\n}\n</code></pre>\n"},{"tags":["java","list","itext7"],"comments":[{"owner":{"account_id":5823420,"reputation":785,"user_id":6656833,"display_name":"Pavel"},"score":0,"creation_date":1672900019,"post_id":75014520,"comment_id":132378128,"body_markdown":"what encoding are you using?","body":"what encoding are you using?"}],"answers":[{"tags":[],"owner":{"account_id":345916,"reputation":461,"user_id":679116,"display_name":"S_G"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672907502,"creation_date":1672907502,"answer_id":75015656,"question_id":75014520,"body_markdown":"Can you try the following code to render &quot;☐&quot; as bullet point.\r\n\r\n        PdfWriter writer = new PdfWriter(&quot;src/main/resources/test/list.PDF&quot;);\r\n\t\tPdfDocument pdfDoc = new PdfDocument(writer);\r\n\t\tpdfDoc.setDefaultPageSize(PageSize.A4);\r\n\t\tDocument doc = new Document(pdfDoc);\r\n\t\t\r\n\t\tPdfFont unicodeFont = PdfFontFactory.createFont(&quot;src/main/resources/test/arial.ttf&quot;, PdfEncodings.IDENTITY_H);\r\n\t\t\r\n\t\t List list = new List();\r\n\t\t list.setFont(unicodeFont);\r\n\t\t list.setListSymbol(&quot;☐&quot;);\r\n\r\n\t\t list.add(new ListItem(&quot;list 1&quot;));\r\n\t\t list.add(new ListItem(&quot;list 2&quot;));\r\n\t\t list.add(new ListItem(&quot;list 3&quot;));\r\n\t\t \r\n\t\t doc.add(list);\r\n\t\t doc.close();","title":"List symbol not showing when inputing a special character in List.setListSymbol() in itext7","body":"<p>Can you try the following code to render &quot;☐&quot; as bullet point.</p>\n<pre><code>    PdfWriter writer = new PdfWriter(&quot;src/main/resources/test/list.PDF&quot;);\n    PdfDocument pdfDoc = new PdfDocument(writer);\n    pdfDoc.setDefaultPageSize(PageSize.A4);\n    Document doc = new Document(pdfDoc);\n    \n    PdfFont unicodeFont = PdfFontFactory.createFont(&quot;src/main/resources/test/arial.ttf&quot;, PdfEncodings.IDENTITY_H);\n    \n     List list = new List();\n     list.setFont(unicodeFont);\n     list.setListSymbol(&quot;☐&quot;);\n\n     list.add(new ListItem(&quot;list 1&quot;));\n     list.add(new ListItem(&quot;list 2&quot;));\n     list.add(new ListItem(&quot;list 3&quot;));\n     \n     doc.add(list);\n     doc.close();\n</code></pre>\n"}],"owner":{"display_name":"user20774904"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672907502,"creation_date":1672899697,"question_id":75014520,"body_markdown":"I am trying to set the list symbol for my list to ☐ but for some reason when the pdf is created, nothing shows. \r\n\r\nI tried \r\n\r\n```\r\nList list = new List().setListSymbol(&quot;\\u2610&quot;);\r\n```\r\n\r\nAnd also,\r\n```\r\nList list = new List().setListSymbol(&quot;☐&quot;);\r\n```\r\nI also tried \r\n```\r\nList list = new List().setListSymbol(&quot;&gt;&quot;);\r\n```\r\njust to make sure the code was working and it was - the list showed up with &quot;&gt;&quot; as the bullet point. \r\n\r\nHow can I get the bullet point of my list to be &quot;☐&quot;?\r\n","title":"List symbol not showing when inputing a special character in List.setListSymbol() in itext7","body":"<p>I am trying to set the list symbol for my list to ☐ but for some reason when the pdf is created, nothing shows.</p>\n<p>I tried</p>\n<pre><code>List list = new List().setListSymbol(&quot;\\u2610&quot;);\n</code></pre>\n<p>And also,</p>\n<pre><code>List list = new List().setListSymbol(&quot;☐&quot;);\n</code></pre>\n<p>I also tried</p>\n<pre><code>List list = new List().setListSymbol(&quot;&gt;&quot;);\n</code></pre>\n<p>just to make sure the code was working and it was - the list showed up with &quot;&gt;&quot; as the bullet point.</p>\n<p>How can I get the bullet point of my list to be &quot;☐&quot;?</p>\n"},{"tags":["java","cron","quartz-scheduler"],"comments":[{"owner":{"account_id":1060232,"reputation":1271,"user_id":1062022,"display_name":"Justmaker"},"score":1,"creation_date":1672827689,"post_id":75003833,"comment_id":132359119,"body_markdown":"Hi! Would you be able to share some code to see what you are working with so we can answer as precisely as possible?","body":"Hi! Would you be able to share some code to see what you are working with so we can answer as precisely as possible?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1672831832,"post_id":75003833,"comment_id":132360331,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":8571974,"reputation":1,"user_id":6422521,"display_name":"Abhi Shek"},"score":0,"creation_date":1672906229,"post_id":75003833,"comment_id":132379501,"body_markdown":"I cant share in full but updated above with some code on how I was thinking to do it.","body":"I cant share in full but updated above with some code on how I was thinking to do it."}],"answers":[{"tags":[],"owner":{"account_id":21442291,"reputation":42,"user_id":15796597,"display_name":"Sandeep Mehra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672907185,"creation_date":1672827692,"answer_id":75004016,"question_id":75003833,"body_markdown":"You can try this if you need to run these task at a specific time of day:\r\n\r\n```\r\n00 16 * * * /home/theUser/alca/test1.sh\r\n10 16 * * * /home/theUser/alca/test2.sh\r\n```\r\n\r\nThese are two jobs and the second job should be in second line.  You see that the first job will run daily at 4 PM and the second job will run at 4:10 PM.","title":"Run a job 10 minutes after another job with quartz cron","body":"<p>You can try this if you need to run these task at a specific time of day:</p>\n<pre><code>00 16 * * * /home/theUser/alca/test1.sh\n10 16 * * * /home/theUser/alca/test2.sh\n</code></pre>\n<p>These are two jobs and the second job should be in second line.  You see that the first job will run daily at 4 PM and the second job will run at 4:10 PM.</p>\n"}],"owner":{"account_id":8571974,"reputation":1,"user_id":6422521,"display_name":"Abhi Shek"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":195,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672907185,"creation_date":1672826694,"question_id":75003833,"body_markdown":"Basically I want to run a monitoring job after 10 minutes. For that I need to add 10 minutes to the actual cron I have from original job. This 10 minutes is like buffer and expecting that it will be enough for original job to complete. In other cases my monitoring job will alert me. Assuming I use quartz cron.\r\n\r\nI tried parsing the cron but it leads to too many cases and quickly becoming complex to understand.\r\n\r\nbut cron expressions have *,?, ranges, increments , comma-separated numbers etc\r\nIs it even advisable to do so?\r\n\r\nsample code:\r\n\r\n    static String addMinutes(String period) throws ParseException {\r\n        CronExpression cron = new CronExpression(period);\r\n        String[] arr = period.split(&quot; &quot;);\r\n        String minutes = arr[1];\r\n        String hours = arr[2];\r\n        if(minutes.contains(&quot;,&quot;)){\r\n            \r\n        } else if (minutes.contains(&quot;-&quot;)) {\r\n            \r\n        } else if (minutes.contains(&quot;/&quot;)) {\r\n            \r\n        } else if (isInteger(minutes)) {\r\n            int i = Integer.parseInt(minutes);\r\n            i = (i+9) % 59;\r\n            arr[1] = Integer.toString(i);\r\n            //change hour\r\n            if(i &gt; 49 &amp;&amp; isInteger(hours)){\r\n                int h = Integer.parseInt(hours);\r\n                h = (h+1) % 24;\r\n                arr[2] = Integer.toString(h);\r\n            }\r\n        }\r\n        return period;\r\n    }\r\n","title":"Run a job 10 minutes after another job with quartz cron","body":"<p>Basically I want to run a monitoring job after 10 minutes. For that I need to add 10 minutes to the actual cron I have from original job. This 10 minutes is like buffer and expecting that it will be enough for original job to complete. In other cases my monitoring job will alert me. Assuming I use quartz cron.</p>\n<p>I tried parsing the cron but it leads to too many cases and quickly becoming complex to understand.</p>\n<p>but cron expressions have *,?, ranges, increments , comma-separated numbers etc\nIs it even advisable to do so?</p>\n<p>sample code:</p>\n<pre><code>static String addMinutes(String period) throws ParseException {\n    CronExpression cron = new CronExpression(period);\n    String[] arr = period.split(&quot; &quot;);\n    String minutes = arr[1];\n    String hours = arr[2];\n    if(minutes.contains(&quot;,&quot;)){\n        \n    } else if (minutes.contains(&quot;-&quot;)) {\n        \n    } else if (minutes.contains(&quot;/&quot;)) {\n        \n    } else if (isInteger(minutes)) {\n        int i = Integer.parseInt(minutes);\n        i = (i+9) % 59;\n        arr[1] = Integer.toString(i);\n        //change hour\n        if(i &gt; 49 &amp;&amp; isInteger(hours)){\n            int h = Integer.parseInt(hours);\n            h = (h+1) % 24;\n            arr[2] = Integer.toString(h);\n        }\n    }\n    return period;\n}\n</code></pre>\n"},{"tags":["java","selenium","selenium-webdriver","selenium-java"],"comments":[{"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"score":0,"creation_date":1672659169,"post_id":74977239,"comment_id":132320856,"body_markdown":"How to make the ad to show up? It don&#39;t appear in any browser.","body":"How to make the ad to show up? It don&#39;t appear in any browser."},{"owner":{"account_id":19497668,"reputation":11,"user_id":14264467,"display_name":"Guy"},"score":0,"creation_date":1672853376,"post_id":74977239,"comment_id":132368175,"body_markdown":"Hi pburgr, I&#39;m able to see the ad only in the chromedriver browser","body":"Hi pburgr, I&#39;m able to see the ad only in the chromedriver browser"},{"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"score":0,"creation_date":1672900533,"post_id":74977239,"comment_id":132378210,"body_markdown":"in my case even in chromedriver the ad doesn&#39;t show up.","body":"in my case even in chromedriver the ad doesn&#39;t show up."},{"owner":{"account_id":19497668,"reputation":11,"user_id":14264467,"display_name":"Guy"},"score":0,"creation_date":1672902609,"post_id":74977239,"comment_id":132378648,"body_markdown":"Wierd, 90% of the times when I click on &quot;My Account&quot; via the chromedriver it&#39;s showing me the ad","body":"Wierd, 90% of the times when I click on &quot;My Account&quot; via the chromedriver it&#39;s showing me the ad"}],"answers":[{"tags":[],"owner":{"account_id":22542267,"reputation":11,"user_id":16732700,"display_name":"Fouzan Jafri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672725451,"creation_date":1672725451,"answer_id":74989520,"question_id":74977239,"body_markdown":"It is hard to handle advertisement popUp. So we can handle it in 2 ways:\r\n\r\n1. downloading ad-blocker extension to your chrome and using the chrome option code.\r\n* download ad-bocker- https://chrome.google.com/webstore/detail/adblock-%E2%80%94-best-ad-blocker/gighmmpiobklfepjocnamgkkbiglidom\r\n* use chromeoption driver code:\r\n\tChromeOptions chromeOptions = new ChromeOptions();\r\n\tchromeOptions.addArguments(&quot;disable-infobars&quot;);\r\n\r\n2. Notice that popUp gets disabled is do back. so we can is click on myaccount go back and then click back:\r\n\r\n    \t\tWebElement MyAccount = driver.findElement(By.xpath(&quot;//[@href=&#39;https://practice.automationtesting.in/my-account/&#39;]&quot;));\r\n\t\tMyAccount.click();\r\n\t\tdriver.navigate().back();\r\n\t\tMyAccount.click();\r\n\r\n\r\n","title":"How can I click a floating advertisement?","body":"<p>It is hard to handle advertisement popUp. So we can handle it in 2 ways:</p>\n<ol>\n<li>downloading ad-blocker extension to your chrome and using the chrome option code.</li>\n</ol>\n<ul>\n<li>download ad-bocker- <a href=\"https://chrome.google.com/webstore/detail/adblock-%E2%80%94-best-ad-blocker/gighmmpiobklfepjocnamgkkbiglidom\" rel=\"nofollow noreferrer\">https://chrome.google.com/webstore/detail/adblock-%E2%80%94-best-ad-blocker/gighmmpiobklfepjocnamgkkbiglidom</a></li>\n<li>use chromeoption driver code:\nChromeOptions chromeOptions = new ChromeOptions();\nchromeOptions.addArguments(&quot;disable-infobars&quot;);</li>\n</ul>\n<ol start=\"2\">\n<li><p>Notice that popUp gets disabled is do back. so we can is click on myaccount go back and then click back:</p>\n<pre><code>     WebElement MyAccount = driver.findElement(By.xpath(&quot;//[@href='https://practice.automationtesting.in/my-account/']&quot;));\n MyAccount.click();\n driver.navigate().back();\n MyAccount.click();\n</code></pre>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":19497668,"reputation":11,"user_id":14264467,"display_name":"Guy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1672906273,"creation_date":1672906256,"answer_id":75015475,"question_id":74977239,"body_markdown":"Found the issue: \r\n1. My &#39;wait&#39; not always working, so the driver tries to close the ad when not displayed - still searching for a way to correct this\r\n2. It&#39;s working without frame1: &quot;google_esf&quot;, only frame2 and frame3 needed\r\n\r\nUpdated code:\r\n\r\n            public void clickMyAccount() {\r\n            System.out.println(&quot;Click My Account&quot;);\r\n    \r\n            if(driver.findElement(myAccountBtn).isDisplayed()){\r\n                driver.findElement(myAccountBtn).click();\r\n                driver.manage().timeouts().implicitlyWait(Duration.ofSeconds(10));\r\n                driver.manage().timeouts().pageLoadTimeout(Duration.ofSeconds(10));\r\n            } else {\r\n                System.out.println(&quot;My account button not displayed&quot;);\r\n            }\r\n    \r\n        }\r\n    \r\n        public void clickCloseAd(){\r\n            System.out.println(&quot;Click Close Ad&quot;);\r\n    \r\n    \r\n                if(driver.findElement(By.id(&quot;aswift_9&quot;)).isDisplayed()){\r\n    //                driver.switchTo().frame(driver.findElement(By.id(&quot;google_esf&quot;))); //Not in use but also a frame\r\n                    driver.switchTo().frame(driver.findElement(By.id(&quot;aswift_9&quot;)));\r\n                    driver.switchTo().frame(driver.findElement(By.id(&quot;ad_iframe&quot;)));\r\n                    driver.findElement(By.id(&quot;dismiss-button&quot;)).click();\r\n    \r\n                    driver.manage().timeouts().implicitlyWait(Duration.ofSeconds(10));\r\n                    driver.manage().timeouts().pageLoadTimeout(Duration.ofSeconds(10));\r\n                    driver.switchTo().defaultContent();\r\n                } else {\r\n                    System.out.println(&quot;Ad not displayed&quot;);\r\n                }\r\n        }\r\n\r\n\r\nThanks all!","title":"How can I click a floating advertisement?","body":"<p>Found the issue:</p>\n<ol>\n<li>My 'wait' not always working, so the driver tries to close the ad when not displayed - still searching for a way to correct this</li>\n<li>It's working without frame1: &quot;google_esf&quot;, only frame2 and frame3 needed</li>\n</ol>\n<p>Updated code:</p>\n<pre><code>        public void clickMyAccount() {\n        System.out.println(&quot;Click My Account&quot;);\n\n        if(driver.findElement(myAccountBtn).isDisplayed()){\n            driver.findElement(myAccountBtn).click();\n            driver.manage().timeouts().implicitlyWait(Duration.ofSeconds(10));\n            driver.manage().timeouts().pageLoadTimeout(Duration.ofSeconds(10));\n        } else {\n            System.out.println(&quot;My account button not displayed&quot;);\n        }\n\n    }\n\n    public void clickCloseAd(){\n        System.out.println(&quot;Click Close Ad&quot;);\n\n\n            if(driver.findElement(By.id(&quot;aswift_9&quot;)).isDisplayed()){\n//                driver.switchTo().frame(driver.findElement(By.id(&quot;google_esf&quot;))); //Not in use but also a frame\n                driver.switchTo().frame(driver.findElement(By.id(&quot;aswift_9&quot;)));\n                driver.switchTo().frame(driver.findElement(By.id(&quot;ad_iframe&quot;)));\n                driver.findElement(By.id(&quot;dismiss-button&quot;)).click();\n\n                driver.manage().timeouts().implicitlyWait(Duration.ofSeconds(10));\n                driver.manage().timeouts().pageLoadTimeout(Duration.ofSeconds(10));\n                driver.switchTo().defaultContent();\n            } else {\n                System.out.println(&quot;Ad not displayed&quot;);\n            }\n    }\n</code></pre>\n<p>Thanks all!</p>\n"}],"owner":{"account_id":19497668,"reputation":11,"user_id":14264467,"display_name":"Guy"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75015475,"answer_count":2,"score":0,"last_activity_date":1672906951,"creation_date":1672605236,"question_id":74977239,"body_markdown":"I&#39;m trying to move to a different page (click &#39;my account&#39;), and a floating advertisement appears:\r\n[advertisement](https://i.stack.imgur.com/jYbk3.png)\r\n\r\nI tried to click on it, and can&#39;t find the &quot;Close&quot; element.\r\nFound that it might related to frames, but still not works.\r\n\r\nMy Code:\r\n\r\n\r\n```\r\npublic void clickMyAccount() {\r\n    driver.findElement(myAccountBtn).click();\r\n    driver.manage().timeouts().implicitlyWait(Duration.ofSeconds(10));\r\n    driver.manage().timeouts().pageLoadTimeout(Duration.ofSeconds(10));\r\n\r\n    try {\r\n        Thread.sleep(5);\r\n    } catch (InterruptedException e) {\r\n        e.printStackTrace();\r\n    }\r\n}\r\n\r\npublic void clickCloseAd(){\r\n    driver.switchTo().frame(driver.findElement(By.id(&quot;google_esf&quot;)));\r\n    driver.switchTo().frame(driver.findElement(By.id(&quot;aswift_9&quot;)));\r\n    driver.switchTo().frame(driver.findElement(By.id(&quot;ad_iframe&quot;)));\r\n    driver.findElement(By.id(&quot;dismiss-button&quot;)).click();\r\n    driver.manage().timeouts().implicitlyWait(Duration.ofSeconds(10));\r\n    driver.manage().timeouts().pageLoadTimeout(Duration.ofSeconds(10));\r\n    driver.switchTo().defaultContent();\r\n}\r\n```\r\n\r\n\r\nSite:\r\nhttps://practice.automationtesting.in/\r\n\r\n\r\n\r\nAny idea how can I click the floating advertisement?\r\n\r\n\r\nTried: move between frames until able to find the Close element\r\nActual: still can&#39;t find this element","title":"How can I click a floating advertisement?","body":"<p>I'm trying to move to a different page (click 'my account'), and a floating advertisement appears:\n<a href=\"https://i.stack.imgur.com/jYbk3.png\" rel=\"nofollow noreferrer\">advertisement</a></p>\n<p>I tried to click on it, and can't find the &quot;Close&quot; element.\nFound that it might related to frames, but still not works.</p>\n<p>My Code:</p>\n<pre><code>public void clickMyAccount() {\n    driver.findElement(myAccountBtn).click();\n    driver.manage().timeouts().implicitlyWait(Duration.ofSeconds(10));\n    driver.manage().timeouts().pageLoadTimeout(Duration.ofSeconds(10));\n\n    try {\n        Thread.sleep(5);\n    } catch (InterruptedException e) {\n        e.printStackTrace();\n    }\n}\n\npublic void clickCloseAd(){\n    driver.switchTo().frame(driver.findElement(By.id(&quot;google_esf&quot;)));\n    driver.switchTo().frame(driver.findElement(By.id(&quot;aswift_9&quot;)));\n    driver.switchTo().frame(driver.findElement(By.id(&quot;ad_iframe&quot;)));\n    driver.findElement(By.id(&quot;dismiss-button&quot;)).click();\n    driver.manage().timeouts().implicitlyWait(Duration.ofSeconds(10));\n    driver.manage().timeouts().pageLoadTimeout(Duration.ofSeconds(10));\n    driver.switchTo().defaultContent();\n}\n</code></pre>\n<p>Site:\n<a href=\"https://practice.automationtesting.in/\" rel=\"nofollow noreferrer\">https://practice.automationtesting.in/</a></p>\n<p>Any idea how can I click the floating advertisement?</p>\n<p>Tried: move between frames until able to find the Close element\nActual: still can't find this element</p>\n"},{"tags":["java","spring-boot","security","keycloak","keycloak-rest-api"],"answers":[{"tags":[],"owner":{"account_id":1449510,"reputation":48172,"user_id":1366871,"accept_rate":100,"display_name":"dreamcrash"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1672906926,"creation_date":1607531969,"answer_id":65221023,"question_id":65215817,"body_markdown":"**Update:** The `/auth` path was removed starting with [Keycloak 17 Quarkus distribution][1]. So you might need to remove the `/auth` from the endpoint calls presented on this answer.\r\n\r\n----\r\n\r\nYou can import/export realms using the [Keycloak Admin REST API][1]. To import use the endpoint:\r\n\r\n    POST &lt;KEYCLOAK_HOST&gt;/auth/admin/realms/&lt;REALM_NAME&gt;/partialImport\r\n\r\nand provide the `JSON` representation of the realm. That representation you can get via Admin Console API by click on `Realm` &gt; `Export` &gt; `Export`. Or using the endpoint:\r\n\r\n    POST &lt;KEYCLOAK_HOST&gt;/auth/admin/realms/&lt;REALM_NAME&gt;/partial-export?exportClients=true&amp;exportGroupsAndRoles=true\r\n\r\n\r\nAlternatively, for the export/import you can use:\r\n\r\n    POST &lt;KEYCLOAK_HOST&gt;/auth/admin/realms\r\n\r\nand \r\n\r\n    GET &lt;KEYCLOAK_HOST&gt;/auth/admin/realms/&lt;REALM_NAME&gt;\r\n\r\nrespectively.\r\n\r\nBut then you will need to export/import the clients separately:\r\n\r\n    GET &lt;KEYCLOAK_HOST&gt;/auth/admin/realms/&lt;REALM_NAME&gt;/clients\r\n\r\nand \r\n\r\n    POST &lt;KEYCLOAK_HOST&gt;/auth/admin/realms/&lt;REALM_NAME&gt;/clients\r\n\r\nand provide the `JSON` representation of the clients.\r\n\r\n\r\nFor a practical example on how to use the Rest API have a look at [this answer][2]. That answer is about using the API to create protocols mappers but you can easily adapt it to your use-case.\r\n\r\n\r\n  [1]: https://www.keycloak.org/docs-api/19.0.3/rest-api/index.html\r\n  [2]: https://stackoverflow.com/a/66915727/1366871","title":"default configuration with embedded keycloak and spring boot app","body":"<p><strong>Update:</strong> The <code>/auth</code> path was removed starting with <a href=\"https://www.keycloak.org/docs-api/19.0.3/rest-api/index.html\" rel=\"nofollow noreferrer\">Keycloak 17 Quarkus distribution</a>. So you might need to remove the <code>/auth</code> from the endpoint calls presented on this answer.</p>\n<hr />\n<p>You can import/export realms using the <a href=\"https://www.keycloak.org/docs-api/19.0.3/rest-api/index.html\" rel=\"nofollow noreferrer\">Keycloak Admin REST API</a>. To import use the endpoint:</p>\n<pre><code>POST &lt;KEYCLOAK_HOST&gt;/auth/admin/realms/&lt;REALM_NAME&gt;/partialImport\n</code></pre>\n<p>and provide the <code>JSON</code> representation of the realm. That representation you can get via Admin Console API by click on <code>Realm</code> &gt; <code>Export</code> &gt; <code>Export</code>. Or using the endpoint:</p>\n<pre><code>POST &lt;KEYCLOAK_HOST&gt;/auth/admin/realms/&lt;REALM_NAME&gt;/partial-export?exportClients=true&amp;exportGroupsAndRoles=true\n</code></pre>\n<p>Alternatively, for the export/import you can use:</p>\n<pre><code>POST &lt;KEYCLOAK_HOST&gt;/auth/admin/realms\n</code></pre>\n<p>and</p>\n<pre><code>GET &lt;KEYCLOAK_HOST&gt;/auth/admin/realms/&lt;REALM_NAME&gt;\n</code></pre>\n<p>respectively.</p>\n<p>But then you will need to export/import the clients separately:</p>\n<pre><code>GET &lt;KEYCLOAK_HOST&gt;/auth/admin/realms/&lt;REALM_NAME&gt;/clients\n</code></pre>\n<p>and</p>\n<pre><code>POST &lt;KEYCLOAK_HOST&gt;/auth/admin/realms/&lt;REALM_NAME&gt;/clients\n</code></pre>\n<p>and provide the <code>JSON</code> representation of the clients.</p>\n<p>For a practical example on how to use the Rest API have a look at <a href=\"https://stackoverflow.com/a/66915727/1366871\">this answer</a>. That answer is about using the API to create protocols mappers but you can easily adapt it to your use-case.</p>\n"}],"owner":{"account_id":12538952,"reputation":199,"user_id":9124641,"display_name":"c&#39;est moi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":906,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":65221023,"answer_count":1,"score":1,"last_activity_date":1672906926,"creation_date":1607512959,"question_id":65215817,"body_markdown":"I&#39;m working with embedded  keycloak and spring boot app &lt;br&gt;\r\nI created a realm then I created a client with: &lt;br&gt;\r\n`Access Type`: `confidential`&lt;br&gt;\r\n`Authorization Enabled`: `enabled` &lt;br&gt;\r\nthen I created resources with permission and policy&lt;br&gt;\r\nMy problem is :&lt;br&gt;\r\nI want to export this configuration in a config file (java config or json config)  so that not every time I have to configure keycloak at the beginning when I restart my keycloak server&lt;br&gt;\r\n\r\nHow can I do this? ","title":"default configuration with embedded keycloak and spring boot app","body":"<p>I'm working with embedded  keycloak and spring boot app <br>\nI created a realm then I created a client with: <br>\n<code>Access Type</code>: <code>confidential</code><br>\n<code>Authorization Enabled</code>: <code>enabled</code> <br>\nthen I created resources with permission and policy<br>\nMy problem is :<br>\nI want to export this configuration in a config file (java config or json config)  so that not every time I have to configure keycloak at the beginning when I restart my keycloak server<br></p>\n<p>How can I do this?</p>\n"},{"tags":["java","json","jackson"],"comments":[{"owner":{"account_id":138148,"reputation":5659,"user_id":342882,"accept_rate":34,"display_name":"Daniil Iaitskov"},"score":0,"creation_date":1571355034,"post_id":18805455,"comment_id":103223328,"body_markdown":"I am looking similar question but for final field.","body":"I am looking similar question but for final field."},{"owner":{"account_id":4693037,"reputation":492,"user_id":3798662,"display_name":"Sunil Garg"},"score":0,"creation_date":1649767704,"post_id":18805455,"comment_id":126955237,"body_markdown":"https://stackoverflow.com/a/68910849/3798662 check this and then mark it as your answer if it solves the purpose","body":"<a href=\"https://stackoverflow.com/a/68910849/3798662\">stackoverflow.com/a/68910849/3798662</a> check this and then mark it as your answer if it solves the purpose"}],"answers":[{"tags":[],"owner":{"account_id":2652951,"reputation":2597,"user_id":2294202,"accept_rate":80,"display_name":"gookman"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1379193333,"creation_date":1379193333,"answer_id":18806461,"question_id":18805455,"body_markdown":"Looks like the solution is to set the value of the properties inside the default constructor. So in this case the java class is:\r\n\r\n    class JavaObject {\r\n\r\n        public JavaObject() {\r\n \r\n            optionalMember = &quot;Value&quot;;\r\n        }\r\n\r\n        @NotNull\r\n        public String notNullMember;\r\n\r\n        public String optionalMember;\r\n    }\r\n\r\nAfter the mapping with Jackson, if the `optionalMember` is missing from the JSON its value in the Java class is `&quot;Value&quot;`.\r\n\r\nHowever, I am still interested to know if there is a solution with annotations and without the default constructor.","title":"Setting default values to null fields when mapping with Jackson","body":"<p>Looks like the solution is to set the value of the properties inside the default constructor. So in this case the java class is:</p>\n\n<pre><code>class JavaObject {\n\n    public JavaObject() {\n\n        optionalMember = \"Value\";\n    }\n\n    @NotNull\n    public String notNullMember;\n\n    public String optionalMember;\n}\n</code></pre>\n\n<p>After the mapping with Jackson, if the <code>optionalMember</code> is missing from the JSON its value in the Java class is <code>\"Value\"</code>.</p>\n\n<p>However, I am still interested to know if there is a solution with annotations and without the default constructor.</p>\n"},{"tags":[],"owner":{"account_id":1165262,"reputation":29315,"user_id":1143825,"accept_rate":94,"display_name":"Ilya"},"down_vote_count":5,"up_vote_count":116,"is_accepted":true,"score":111,"last_activity_date":1379195669,"creation_date":1379195669,"answer_id":18806773,"question_id":18805455,"body_markdown":"There is no annotation to set default value.  \r\nYou can set default value only on java class level: \r\n\r\n    public class JavaObject \r\n    {\r\n        public String notNullMember;\r\n    \r\n        public String optionalMember = &quot;Value&quot;;\r\n    }","title":"Setting default values to null fields when mapping with Jackson","body":"<p>There is no annotation to set default value.<br>\nYou can set default value only on java class level: </p>\n\n<pre><code>public class JavaObject \n{\n    public String notNullMember;\n\n    public String optionalMember = \"Value\";\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1416081,"reputation":101,"user_id":1341731,"display_name":"Michael Conrad"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1469643454,"creation_date":1469643454,"answer_id":38620412,"question_id":18805455,"body_markdown":"Make the member private and add a setter/getter pair.\r\nIn your setter, if null, then set default value instead.\r\nAdditionally, I have shown the snippet with the getter also returning a default when internal value is null.\r\n\r\n    class JavaObject {\r\n        private static final String DEFAULT=&quot;Default Value&quot;;\r\n    \r\n        public JavaObject() {\r\n        }\r\n    \r\n        @NotNull\r\n        private String notNullMember;\r\n        public void setNotNullMember(String value){\r\n                if (value==null) { notNullMember=DEFAULT; return; }\r\n                notNullMember=value;\r\n                return;\r\n        }\r\n\r\n        public String getNotNullMember(){\r\n                if (notNullMember==null) { return DEFAULT;}\r\n                return notNullMember;\r\n        }\r\n    \r\n        public String optionalMember;\r\n    }","title":"Setting default values to null fields when mapping with Jackson","body":"<p>Make the member private and add a setter/getter pair.\nIn your setter, if null, then set default value instead.\nAdditionally, I have shown the snippet with the getter also returning a default when internal value is null.</p>\n\n<pre><code>class JavaObject {\n    private static final String DEFAULT=\"Default Value\";\n\n    public JavaObject() {\n    }\n\n    @NotNull\n    private String notNullMember;\n    public void setNotNullMember(String value){\n            if (value==null) { notNullMember=DEFAULT; return; }\n            notNullMember=value;\n            return;\n    }\n\n    public String getNotNullMember(){\n            if (notNullMember==null) { return DEFAULT;}\n            return notNullMember;\n    }\n\n    public String optionalMember;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5345891,"reputation":2894,"user_id":4261472,"accept_rate":88,"display_name":"Sergei Voitovich"},"down_vote_count":1,"up_vote_count":55,"is_accepted":false,"score":54,"last_activity_date":1521978388,"creation_date":1485888233,"answer_id":41965174,"question_id":18805455,"body_markdown":"Only one proposed solution keeps the `default-value` when `some-value:null` was set explicitly (POJO readability is lost there and it&#39;s clumsy)\r\n\r\nHere&#39;s how one can keep the `default-value` and never set it to `null`\r\n\r\n    @JsonProperty(&quot;some-value&quot;)\r\n    public String someValue = &quot;default-value&quot;;\r\n\r\n    @JsonSetter(&quot;some-value&quot;)\r\n    public void setSomeValue(String s) {\r\n        if (s != null) { \r\n            someValue = s; \r\n        }\r\n    }","title":"Setting default values to null fields when mapping with Jackson","body":"<p>Only one proposed solution keeps the <code>default-value</code> when <code>some-value:null</code> was set explicitly (POJO readability is lost there and it's clumsy)</p>\n\n<p>Here's how one can keep the <code>default-value</code> and never set it to <code>null</code></p>\n\n<pre><code>@JsonProperty(\"some-value\")\npublic String someValue = \"default-value\";\n\n@JsonSetter(\"some-value\")\npublic void setSomeValue(String s) {\n    if (s != null) { \n        someValue = s; \n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11171121,"reputation":2994,"user_id":8198056,"display_name":"Adrian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1514301168,"creation_date":1514301168,"answer_id":47980441,"question_id":18805455,"body_markdown":"I had a similar problem, but in my case the default value was in database. Below is the solution for that:\r\n     \r\n     @Configuration\r\n     public class AppConfiguration {\r\n     @Autowired\r\n     private AppConfigDao appConfigDao;\r\n \r\n     @Bean\r\n     public Jackson2ObjectMapperBuilder builder() {\r\n       Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\r\n           .deserializerByType(SomeDto.class, \r\n     new SomeDtoJsonDeserializer(appConfigDao.findDefaultValue()));\r\n       return builder;\r\n     }\r\n     \r\n\r\nThen in `SomeDtoJsonDeserializer` use `ObjectMapper` to deserialize the json and set default value if your field/object is null.","title":"Setting default values to null fields when mapping with Jackson","body":"<p>I had a similar problem, but in my case the default value was in database. Below is the solution for that:</p>\n\n<pre><code> @Configuration\n public class AppConfiguration {\n @Autowired\n private AppConfigDao appConfigDao;\n\n @Bean\n public Jackson2ObjectMapperBuilder builder() {\n   Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n       .deserializerByType(SomeDto.class, \n new SomeDtoJsonDeserializer(appConfigDao.findDefaultValue()));\n   return builder;\n }\n</code></pre>\n\n<p>Then in <code>SomeDtoJsonDeserializer</code> use <code>ObjectMapper</code> to deserialize the json and set default value if your field/object is null.</p>\n"},{"tags":[],"owner":{"account_id":6087813,"reputation":15135,"user_id":4751165,"accept_rate":96,"display_name":"Pau"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1672418158,"creation_date":1560344494,"answer_id":56562890,"question_id":18805455,"body_markdown":"You can create your own JsonDeserializer and annotate that property with `@JsonDeserialize(using = DefaultZero.class)`\r\n\r\nFor example: To configure BigDecimal to default to ZERO:\r\n\r\n    public static class DefaultZero extends JsonDeserializer&lt;BigDecimal&gt; {\r\n        private final JsonDeserializer&lt;BigDecimal&gt; delegate;\r\n\r\n        public DefaultZero(JsonDeserializer&lt;BigDecimal&gt; delegate) {\r\n            this.delegate = delegate;\r\n        }\r\n\r\n        @Override\r\n        public BigDecimal deserialize(JsonParser jsonParser, DeserializationContext deserializationContext) throws IOException, JsonProcessingException {\r\n            return jsonParser.getDecimalValue();\r\n        }\r\n\r\n        @Override\r\n        public BigDecimal getNullValue(DeserializationContext ctxt) throws JsonMappingException {\r\n            return BigDecimal.ZERO;\r\n        }\r\n    }\r\n\r\nAnd usage:\r\n\r\n    class Sth {\r\n \r\n       @JsonDeserialize(using = DefaultZero.class)\r\n       BigDecimal property;\r\n     }","title":"Setting default values to null fields when mapping with Jackson","body":"<p>You can create your own JsonDeserializer and annotate that property with <code>@JsonDeserialize(using = DefaultZero.class)</code></p>\n<p>For example: To configure BigDecimal to default to ZERO:</p>\n<pre><code>public static class DefaultZero extends JsonDeserializer&lt;BigDecimal&gt; {\n    private final JsonDeserializer&lt;BigDecimal&gt; delegate;\n\n    public DefaultZero(JsonDeserializer&lt;BigDecimal&gt; delegate) {\n        this.delegate = delegate;\n    }\n\n    @Override\n    public BigDecimal deserialize(JsonParser jsonParser, DeserializationContext deserializationContext) throws IOException, JsonProcessingException {\n        return jsonParser.getDecimalValue();\n    }\n\n    @Override\n    public BigDecimal getNullValue(DeserializationContext ctxt) throws JsonMappingException {\n        return BigDecimal.ZERO;\n    }\n}\n</code></pre>\n<p>And usage:</p>\n<pre><code>class Sth {\n\n   @JsonDeserialize(using = DefaultZero.class)\n   BigDecimal property;\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1448228,"reputation":3218,"user_id":1366016,"accept_rate":60,"display_name":"Wheezil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1580936701,"creation_date":1580936701,"answer_id":60084100,"question_id":18805455,"body_markdown":"There are already a lot of good suggestions, but here&#39;s one more. You can use @JsonDeserialize to perform an arbitrary &quot;sanitizer&quot; which Jackson will invoke post-deserialization:\r\n\r\n    @JsonDeserialize(converter=Message1._Sanitizer.class)  \r\n    public class Message1 extends MessageBase\r\n    {\r\n    \tpublic String string1 = &quot;&quot;;\r\n    \tpublic int integer1;\r\n    \r\n    \tpublic static class _Sanitizer extends StdConverter&lt;Message1,Message1&gt; {\r\n    \t\t@Override\r\n    \t\tpublic Message1 convert(Message1 message) {\r\n    \t\t\tif (message.string1 == null) message.string1 = &quot;&quot;;\r\n    \t\t\treturn message;\r\n    \t\t}\r\n    \t}\r\n    }","title":"Setting default values to null fields when mapping with Jackson","body":"<p>There are already a lot of good suggestions, but here's one more. You can use @JsonDeserialize to perform an arbitrary \"sanitizer\" which Jackson will invoke post-deserialization:</p>\n\n<pre><code>@JsonDeserialize(converter=Message1._Sanitizer.class)  \npublic class Message1 extends MessageBase\n{\n    public String string1 = \"\";\n    public int integer1;\n\n    public static class _Sanitizer extends StdConverter&lt;Message1,Message1&gt; {\n        @Override\n        public Message1 convert(Message1 message) {\n            if (message.string1 == null) message.string1 = \"\";\n            return message;\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2343888,"reputation":56,"user_id":2054634,"display_name":"ptanov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1629449626,"creation_date":1585818057,"answer_id":60987798,"question_id":18805455,"body_markdown":"Another option is to use [InjectableValues](https://fasterxml.github.io/jackson-databind/javadoc/2.7/com/fasterxml/jackson/databind/InjectableValues.html) and [@JacksonInject](https://fasterxml.github.io/jackson-annotations/javadoc/2.9/com/fasterxml/jackson/annotation/JacksonInject.html). It is very useful if you need to use not always the same value but one get from DB or somewhere else for the specific case. Here is an example of using `JacksonInject`:\r\n\r\n```java\r\nprotected static class Some {\r\n\tprivate final String field1;\r\n\tprivate final String field2;\r\n\r\n\tpublic Some(@JsonProperty(&quot;field1&quot;) final String field1,\r\n\t\t\t@JsonProperty(&quot;field2&quot;) @JacksonInject(value = &quot;defaultValueForField2&quot;,\r\n\t\t\t\t\tuseInput = OptBoolean.TRUE) final String field2) {\r\n\t\tthis.field1 = requireNonNull(field1);\r\n\t\tthis.field2 = requireNonNull(field2);\r\n\t}\r\n\r\n\tpublic String getField1() {\r\n\t\treturn field1;\r\n\t}\r\n\r\n\tpublic String getField2() {\r\n\t\treturn field2;\r\n\t}\r\n}\r\n\r\n@Test\r\npublic void testReadValueInjectables() throws JsonParseException, JsonMappingException, IOException {\r\n\tfinal ObjectMapper mapper = new ObjectMapper();\r\n\tfinal InjectableValues injectableValues =\r\n\t\t\tnew InjectableValues.Std().addValue(&quot;defaultValueForField2&quot;, &quot;somedefaultValue&quot;);\r\n\tmapper.setInjectableValues(injectableValues);\r\n\r\n\tfinal Some actualValueMissing = mapper.readValue(&quot;{\\&quot;field1\\&quot;: \\&quot;field1value\\&quot;}&quot;, Some.class);\r\n\tassertEquals(actualValueMissing.getField1(), &quot;field1value&quot;);\r\n\tassertEquals(actualValueMissing.getField2(), &quot;somedefaultValue&quot;);\r\n\r\n\tfinal Some actualValuePresent =\r\n\t\t\tmapper.readValue(&quot;{\\&quot;field1\\&quot;: \\&quot;field1value\\&quot;, \\&quot;field2\\&quot;: \\&quot;field2value\\&quot;}&quot;, Some.class);\r\n\tassertEquals(actualValuePresent.getField1(), &quot;field1value&quot;);\r\n\tassertEquals(actualValuePresent.getField2(), &quot;field2value&quot;);\r\n}\r\n```\r\n\r\nKeep in mind that if you are using constructor to create the entity (this usually happens when you use [@Value](https://projectlombok.org/features/Value) or [@AllArgsConstructor](https://projectlombok.org/features/constructor) in [lombok](https://projectlombok.org/) ) and you put `@JacksonInject` not to the constructor but to the property it will not work as expected - value of the injected field will always override value in json, no matter whether you put `useInput = OptBoolean.TRUE` in `@JacksonInject`. This is because jackson injects those properties after constructor is called (even if the property is `final`) - field is set to the correct value in constructor but then it is overrided (check: https://github.com/FasterXML/jackson-databind/issues/2678 and https://github.com/rzwitserloot/lombok/issues/1528#issuecomment-607725333 for more information), this test is unfortunately *passing*:\r\n\r\n```java\r\nprotected static class Some {\r\n\tprivate final String field1;\r\n\r\n\t@JacksonInject(value = &quot;defaultValueForField2&quot;, useInput = OptBoolean.TRUE)\r\n\tprivate final String field2;\r\n\r\n\tpublic Some(@JsonProperty(&quot;field1&quot;) final String field1,\r\n\t\t\t@JsonProperty(&quot;field2&quot;) @JacksonInject(value = &quot;defaultValueForField2&quot;,\r\n\t\t\t\t\tuseInput = OptBoolean.TRUE) final String field2) {\r\n\t\tthis.field1 = requireNonNull(field1);\r\n\t\tthis.field2 = requireNonNull(field2);\r\n\t}\r\n\r\n\tpublic String getField1() {\r\n\t\treturn field1;\r\n\t}\r\n\r\n\tpublic String getField2() {\r\n\t\treturn field2;\r\n\t}\r\n}\r\n\r\n@Test\r\npublic void testReadValueInjectablesIncorrectBehavior() throws JsonParseException, JsonMappingException, IOException {\r\n\tfinal ObjectMapper mapper = new ObjectMapper();\r\n\tfinal InjectableValues injectableValues =\r\n\t\t\tnew InjectableValues.Std().addValue(&quot;defaultValueForField2&quot;, &quot;somedefaultValue&quot;);\r\n\tmapper.setInjectableValues(injectableValues);\r\n\r\n\tfinal Some actualValueMissing = mapper.readValue(&quot;{\\&quot;field1\\&quot;: \\&quot;field1value\\&quot;}&quot;, Some.class);\r\n\tassertEquals(actualValueMissing.getField1(), &quot;field1value&quot;);\r\n\tassertEquals(actualValueMissing.getField2(), &quot;somedefaultValue&quot;);\r\n\r\n\tfinal Some actualValuePresent =\r\n\t\t\tmapper.readValue(&quot;{\\&quot;field1\\&quot;: \\&quot;field1value\\&quot;, \\&quot;field2\\&quot;: \\&quot;field2value\\&quot;}&quot;, Some.class);\r\n\tassertEquals(actualValuePresent.getField1(), &quot;field1value&quot;);\r\n\t// unfortunately &quot;field2value&quot; is overrided because of putting &quot;@JacksonInject&quot; to the field\r\n\tassertEquals(actualValuePresent.getField2(), &quot;somedefaultValue&quot;);\r\n}\r\n\r\n``` \r\n\r\nAnother approach is to use `JsonDeserializer`, e.g.:\r\n```java\r\n\tpublic class DefaultValueDeserializer extends JsonDeserializer&lt;String&gt; {\r\n\r\n\t\t@Override\r\n\t\tpublic String deserialize(JsonParser jsonParser, DeserializationContext deserializationContext)\r\n\t\t\t\tthrows IOException {\r\n\t\t\treturn jsonParser.getText();\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic String getNullValue(DeserializationContext ctxt) {\r\n\t\t\treturn &quot;some random value that can be different each time: &quot; + UUID.randomUUID().toString();\r\n\t\t}\r\n\t}\r\n\r\n```\r\nand then annotate a field like that:\r\n```java\r\n\tpublic class Content {\r\n\t\t@JsonDeserialize(using = DefaultValueDeserializer.class)\r\n\t\tprivate String someField;\r\n...\r\n\t}\r\n```\r\n\r\nkeep in mind that you can use attributes in `getNullValue(DeserializationContext ctxt)` passed using\r\n\r\n```java\r\nmapper.reader().forType(SomeType.class).withAttributes(singletonMap(&quot;dbConnection&quot;, dbConnection)).readValue(jsonString);\r\n```\r\n\r\nlike that:\r\n\r\n```java\r\n\t\t@Override\r\n\t\tpublic String getNullValue(DeserializationContext ctxt) {\r\n\t\t\treturn ((DbConnection)ctxt.getAttribute(&quot;dbConnection&quot;)).getDefaultValue(...);\r\n\t\t}\r\n```\r\n\r\nHope this helps to someone with a similar problem.\r\n\r\nP.S. I&#39;m using jackson v. 2.9.6","title":"Setting default values to null fields when mapping with Jackson","body":"<p>Another option is to use <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.7/com/fasterxml/jackson/databind/InjectableValues.html\" rel=\"nofollow noreferrer\">InjectableValues</a> and <a href=\"https://fasterxml.github.io/jackson-annotations/javadoc/2.9/com/fasterxml/jackson/annotation/JacksonInject.html\" rel=\"nofollow noreferrer\">@JacksonInject</a>. It is very useful if you need to use not always the same value but one get from DB or somewhere else for the specific case. Here is an example of using <code>JacksonInject</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>protected static class Some {\n    private final String field1;\n    private final String field2;\n\n    public Some(@JsonProperty(&quot;field1&quot;) final String field1,\n            @JsonProperty(&quot;field2&quot;) @JacksonInject(value = &quot;defaultValueForField2&quot;,\n                    useInput = OptBoolean.TRUE) final String field2) {\n        this.field1 = requireNonNull(field1);\n        this.field2 = requireNonNull(field2);\n    }\n\n    public String getField1() {\n        return field1;\n    }\n\n    public String getField2() {\n        return field2;\n    }\n}\n\n@Test\npublic void testReadValueInjectables() throws JsonParseException, JsonMappingException, IOException {\n    final ObjectMapper mapper = new ObjectMapper();\n    final InjectableValues injectableValues =\n            new InjectableValues.Std().addValue(&quot;defaultValueForField2&quot;, &quot;somedefaultValue&quot;);\n    mapper.setInjectableValues(injectableValues);\n\n    final Some actualValueMissing = mapper.readValue(&quot;{\\&quot;field1\\&quot;: \\&quot;field1value\\&quot;}&quot;, Some.class);\n    assertEquals(actualValueMissing.getField1(), &quot;field1value&quot;);\n    assertEquals(actualValueMissing.getField2(), &quot;somedefaultValue&quot;);\n\n    final Some actualValuePresent =\n            mapper.readValue(&quot;{\\&quot;field1\\&quot;: \\&quot;field1value\\&quot;, \\&quot;field2\\&quot;: \\&quot;field2value\\&quot;}&quot;, Some.class);\n    assertEquals(actualValuePresent.getField1(), &quot;field1value&quot;);\n    assertEquals(actualValuePresent.getField2(), &quot;field2value&quot;);\n}\n</code></pre>\n<p>Keep in mind that if you are using constructor to create the entity (this usually happens when you use <a href=\"https://projectlombok.org/features/Value\" rel=\"nofollow noreferrer\">@Value</a> or <a href=\"https://projectlombok.org/features/constructor\" rel=\"nofollow noreferrer\">@AllArgsConstructor</a> in <a href=\"https://projectlombok.org/\" rel=\"nofollow noreferrer\">lombok</a> ) and you put <code>@JacksonInject</code> not to the constructor but to the property it will not work as expected - value of the injected field will always override value in json, no matter whether you put <code>useInput = OptBoolean.TRUE</code> in <code>@JacksonInject</code>. This is because jackson injects those properties after constructor is called (even if the property is <code>final</code>) - field is set to the correct value in constructor but then it is overrided (check: <a href=\"https://github.com/FasterXML/jackson-databind/issues/2678\" rel=\"nofollow noreferrer\">https://github.com/FasterXML/jackson-databind/issues/2678</a> and <a href=\"https://github.com/rzwitserloot/lombok/issues/1528#issuecomment-607725333\" rel=\"nofollow noreferrer\">https://github.com/rzwitserloot/lombok/issues/1528#issuecomment-607725333</a> for more information), this test is unfortunately <em>passing</em>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>protected static class Some {\n    private final String field1;\n\n    @JacksonInject(value = &quot;defaultValueForField2&quot;, useInput = OptBoolean.TRUE)\n    private final String field2;\n\n    public Some(@JsonProperty(&quot;field1&quot;) final String field1,\n            @JsonProperty(&quot;field2&quot;) @JacksonInject(value = &quot;defaultValueForField2&quot;,\n                    useInput = OptBoolean.TRUE) final String field2) {\n        this.field1 = requireNonNull(field1);\n        this.field2 = requireNonNull(field2);\n    }\n\n    public String getField1() {\n        return field1;\n    }\n\n    public String getField2() {\n        return field2;\n    }\n}\n\n@Test\npublic void testReadValueInjectablesIncorrectBehavior() throws JsonParseException, JsonMappingException, IOException {\n    final ObjectMapper mapper = new ObjectMapper();\n    final InjectableValues injectableValues =\n            new InjectableValues.Std().addValue(&quot;defaultValueForField2&quot;, &quot;somedefaultValue&quot;);\n    mapper.setInjectableValues(injectableValues);\n\n    final Some actualValueMissing = mapper.readValue(&quot;{\\&quot;field1\\&quot;: \\&quot;field1value\\&quot;}&quot;, Some.class);\n    assertEquals(actualValueMissing.getField1(), &quot;field1value&quot;);\n    assertEquals(actualValueMissing.getField2(), &quot;somedefaultValue&quot;);\n\n    final Some actualValuePresent =\n            mapper.readValue(&quot;{\\&quot;field1\\&quot;: \\&quot;field1value\\&quot;, \\&quot;field2\\&quot;: \\&quot;field2value\\&quot;}&quot;, Some.class);\n    assertEquals(actualValuePresent.getField1(), &quot;field1value&quot;);\n    // unfortunately &quot;field2value&quot; is overrided because of putting &quot;@JacksonInject&quot; to the field\n    assertEquals(actualValuePresent.getField2(), &quot;somedefaultValue&quot;);\n}\n\n</code></pre>\n<p>Another approach is to use <code>JsonDeserializer</code>, e.g.:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public class DefaultValueDeserializer extends JsonDeserializer&lt;String&gt; {\n\n        @Override\n        public String deserialize(JsonParser jsonParser, DeserializationContext deserializationContext)\n                throws IOException {\n            return jsonParser.getText();\n        }\n\n        @Override\n        public String getNullValue(DeserializationContext ctxt) {\n            return &quot;some random value that can be different each time: &quot; + UUID.randomUUID().toString();\n        }\n    }\n\n</code></pre>\n<p>and then annotate a field like that:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public class Content {\n        @JsonDeserialize(using = DefaultValueDeserializer.class)\n        private String someField;\n...\n    }\n</code></pre>\n<p>keep in mind that you can use attributes in <code>getNullValue(DeserializationContext ctxt)</code> passed using</p>\n<pre class=\"lang-java prettyprint-override\"><code>mapper.reader().forType(SomeType.class).withAttributes(singletonMap(&quot;dbConnection&quot;, dbConnection)).readValue(jsonString);\n</code></pre>\n<p>like that:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        @Override\n        public String getNullValue(DeserializationContext ctxt) {\n            return ((DbConnection)ctxt.getAttribute(&quot;dbConnection&quot;)).getDefaultValue(...);\n        }\n</code></pre>\n<p>Hope this helps to someone with a similar problem.</p>\n<p>P.S. I'm using jackson v. 2.9.6</p>\n"},{"tags":[],"owner":{"account_id":4693037,"reputation":492,"user_id":3798662,"display_name":"Sunil Garg"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1650117571,"creation_date":1629822170,"answer_id":68910849,"question_id":18805455,"body_markdown":"Use the [`JsonSetter`][1] annotation with the value [`Nulls.SKIP`][2]\r\n\r\nIf you want to assign a default value to any param which is not set in json request then you can simply assign that in the POJO itself.\r\n\r\nIf you don&#39;t use `@JsonSetter(nulls = Nulls.SKIP)` then the default value will be initialised only if there is no value coming in JSON, but if someone explicitly put a null then it can lead to a problem. Using `@JsonSetter(nulls = Nulls.SKIP)` will tell the Json de-searilizer to avoid `null` initialisation.\r\n\r\n\r\n&gt; Value that indicates that an input null value should be skipped and the default assignment is to be made; **this usually means that the property will have its default value**.\r\n\r\nas follow:\r\n\r\n    public class User {\r\n        @JsonSetter(nulls = Nulls.SKIP)\r\n        private Integer Score = 1000;\r\n        ...\r\n    }\r\n\r\n  [1]: https://fasterxml.github.io/jackson-annotations/javadoc/2.0.0/com/fasterxml/jackson/annotation/JsonSetter.html&lt;br/&gt;\r\n  [2]: https://fasterxml.github.io/jackson-annotations/javadoc/2.9/com/fasterxml/jackson/annotation/Nulls.html#SKIP","title":"Setting default values to null fields when mapping with Jackson","body":"<p>Use the <a href=\"https://fasterxml.github.io/jackson-annotations/javadoc/2.0.0/com/fasterxml/jackson/annotation/JsonSetter.html%3Cbr/%3E\" rel=\"noreferrer\"><code>JsonSetter</code></a> annotation with the value <a href=\"https://fasterxml.github.io/jackson-annotations/javadoc/2.9/com/fasterxml/jackson/annotation/Nulls.html#SKIP\" rel=\"noreferrer\"><code>Nulls.SKIP</code></a></p>\n<p>If you want to assign a default value to any param which is not set in json request then you can simply assign that in the POJO itself.</p>\n<p>If you don't use <code>@JsonSetter(nulls = Nulls.SKIP)</code> then the default value will be initialised only if there is no value coming in JSON, but if someone explicitly put a null then it can lead to a problem. Using <code>@JsonSetter(nulls = Nulls.SKIP)</code> will tell the Json de-searilizer to avoid <code>null</code> initialisation.</p>\n<blockquote>\n<p>Value that indicates that an input null value should be skipped and the default assignment is to be made; <strong>this usually means that the property will have its default value</strong>.</p>\n</blockquote>\n<p>as follow:</p>\n<pre><code>public class User {\n    @JsonSetter(nulls = Nulls.SKIP)\n    private Integer Score = 1000;\n    ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14507292,"reputation":111,"user_id":10478747,"display_name":"Jagadish"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1657712375,"creation_date":1639090102,"answer_id":70297702,"question_id":18805455,"body_markdown":"There is a solution, if you use Lombok&#39;s Builder annotation, you can combine Lombok with Jackson via the [@Jacksonized][1] annotation.\r\n\r\nWithout this, the combination of Lombok and Jackson is not working for this.\r\n\r\nVia adding the ```@Builder.Default``` on the property you are then able to set default values.\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    @Value\r\n    @Builder\r\n    @Jacksonized\r\n    public class SomeClass {\r\n\r\n         String field1;\r\n         \r\n         @Builder.Default\r\n         String field2 = &quot;default-value&quot;;\r\n\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nSo, in the incoming json request, if the field2 is not specified, then the Builder.default annotation will allow the Builder interface to set the specified default-value into the property, if not, the original value from the request is set into that.\r\n\r\n\r\n  [1]: https://projectlombok.org/features/experimental/Jacksonized","title":"Setting default values to null fields when mapping with Jackson","body":"<p>There is a solution, if you use Lombok's Builder annotation, you can combine Lombok with Jackson via the <a href=\"https://projectlombok.org/features/experimental/Jacksonized\" rel=\"noreferrer\">@Jacksonized</a> annotation.</p>\n<p>Without this, the combination of Lombok and Jackson is not working for this.</p>\n<p>Via adding the <code>@Builder.Default</code> on the property you are then able to set default values.</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>@Value\n@Builder\n@Jacksonized\npublic class SomeClass {\n\n     String field1;\n     \n     @Builder.Default\n     String field2 = \"default-value\";\n\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>So, in the incoming json request, if the field2 is not specified, then the Builder.default annotation will allow the Builder interface to set the specified default-value into the property, if not, the original value from the request is set into that.</p>\n"},{"tags":[],"owner":{"account_id":7661804,"reputation":63,"user_id":5806870,"display_name":"H. Sellik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672906699,"creation_date":1672906699,"answer_id":75015546,"question_id":18805455,"body_markdown":"You can also apply `@JsonInclude(Include.NON_NULL)` to the entire class using Jackson &gt; 2. This will ignore null fields.\r\n\r\n&gt; Value that indicates that only properties with non-null values are to be included.\r\n\r\n```\r\n@JsonInclude(Include.NON_NULL)\r\nclass Foo\r\n{\r\n  String bar;\r\n}\r\n```\r\n\r\nhttps://stackoverflow.com/a/11761975/5806870","title":"Setting default values to null fields when mapping with Jackson","body":"<p>You can also apply <code>@JsonInclude(Include.NON_NULL)</code> to the entire class using Jackson &gt; 2. This will ignore null fields.</p>\n<blockquote>\n<p>Value that indicates that only properties with non-null values are to be included.</p>\n</blockquote>\n<pre><code>@JsonInclude(Include.NON_NULL)\nclass Foo\n{\n  String bar;\n}\n</code></pre>\n<p><a href=\"https://stackoverflow.com/a/11761975/5806870\">https://stackoverflow.com/a/11761975/5806870</a></p>\n"}],"owner":{"account_id":2652951,"reputation":2597,"user_id":2294202,"accept_rate":80,"display_name":"gookman"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":278522,"favorite_count":0,"down_vote_count":0,"up_vote_count":118,"accepted_answer_id":18806773,"answer_count":11,"score":118,"last_activity_date":1672906699,"creation_date":1379186111,"question_id":18805455,"body_markdown":"I am trying to map some JSON objects to Java objects with Jackson. Some of the fields in the JSON object are mandatory(which I can mark with `@NotNull`) and some are optional.\r\n\r\nAfter the mapping with Jackson, all the fields that are not set in the JSON object will have a null value in Java. Is there a similar annotation to `@NotNull` that can tell Jackson to set a default value to a Java class member, in case it is null?\r\n\r\nEdit:\r\nTo make the question more clear here is some code example.\r\n\r\nThe Java object:\r\n\r\n    class JavaObject {\r\n        @NotNull\r\n        public String notNullMember;\r\n\r\n        @DefaultValue(&quot;Value&quot;)\r\n        public String optionalMember;\r\n    }\r\n\r\nThe JSON object can be either:\r\n\r\n    {\r\n        &quot;notNullMember&quot; : &quot;notNull&quot;\r\n    }\r\nor:\r\n    \r\n    {\r\n        &quot;notNullMember&quot; : &quot;notNull&quot;,\r\n        &quot;optionalMember&quot; : &quot;optional&quot;\r\n    }\r\n\r\nThe `@DefaultValue` annotations is just to show what I am asking. It&#39;s not a real annotation. If the JSON object is like in the first example I want the value of the `optionalMember` to be `&quot;Value&quot;` and not `null`. Is there an annotation that does such a thing?\r\n\r\n","title":"Setting default values to null fields when mapping with Jackson","body":"<p>I am trying to map some JSON objects to Java objects with Jackson. Some of the fields in the JSON object are mandatory(which I can mark with <code>@NotNull</code>) and some are optional.</p>\n\n<p>After the mapping with Jackson, all the fields that are not set in the JSON object will have a null value in Java. Is there a similar annotation to <code>@NotNull</code> that can tell Jackson to set a default value to a Java class member, in case it is null?</p>\n\n<p>Edit:\nTo make the question more clear here is some code example.</p>\n\n<p>The Java object:</p>\n\n<pre><code>class JavaObject {\n    @NotNull\n    public String notNullMember;\n\n    @DefaultValue(\"Value\")\n    public String optionalMember;\n}\n</code></pre>\n\n<p>The JSON object can be either:</p>\n\n<pre><code>{\n    \"notNullMember\" : \"notNull\"\n}\n</code></pre>\n\n<p>or:</p>\n\n<pre><code>{\n    \"notNullMember\" : \"notNull\",\n    \"optionalMember\" : \"optional\"\n}\n</code></pre>\n\n<p>The <code>@DefaultValue</code> annotations is just to show what I am asking. It's not a real annotation. If the JSON object is like in the first example I want the value of the <code>optionalMember</code> to be <code>\"Value\"</code> and not <code>null</code>. Is there an annotation that does such a thing?</p>\n"},{"tags":["java","internationalization","resourcebundle"],"comments":[{"owner":{"account_id":5774013,"reputation":1046,"user_id":5369132,"accept_rate":25,"display_name":"JesseBoyd"},"score":3,"creation_date":1506203404,"post_id":12072454,"comment_id":79727310,"body_markdown":"this is a great question and a great opportunity for Java to provide a utility method to return application specific available resources.  My research has turned up no useful solution other than iterating or searching files which seems a waste of resources.","body":"this is a great question and a great opportunity for Java to provide a utility method to return application specific available resources.  My research has turned up no useful solution other than iterating or searching files which seems a waste of resources."}],"answers":[{"tags":[],"owner":{"account_id":481401,"reputation":15020,"user_id":895215,"accept_rate":64,"display_name":"dcernahoschi"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1430892959,"creation_date":1345637656,"answer_id":12072910,"question_id":12072454,"body_markdown":"I don&#39;t think there is an API for this because new valid locale objects can be created on the fly: \r\n\r\n    Locale locale = new Locale(&quot;abcd&quot;);\r\n\r\nwithout the need to register it somewhere. And then you can use a resource bundle \r\n`widget_abcd.properties` without restrictions: \r\n\r\n    ResourceBundle resource= ResourceBundle.getBundle(&quot;widget&quot;, new Locale(&quot;abcd&quot;));\r\n\r\nFrom the `java.util.Locale` API docs:\r\n\r\n&gt; Because a Locale object is just an identifier for a region, no\r\n&gt; validity check is performed when you construct a Locale. If you want\r\n&gt; to see whether particular resources are available for the Locale you\r\n&gt; construct, you must query those resources.\r\n\r\nTo solve the problem you can still iterate over all files called &quot;widget_&quot; in the resource directory and discover the new added resource bundles.\r\n\r\nNote that `Locale.getAvailableLocales()` **is not 100% sure** for the above reason: you might some day define a non standard locale. But if you&#39;ll add only a few standard locales you can use this static method to iterate over the system locales and get the corresponding bundles.","title":"In Java how do I find out what languages I have available my Resource Bundle","body":"<p>I don't think there is an API for this because new valid locale objects can be created on the fly: </p>\n\n<pre><code>Locale locale = new Locale(\"abcd\");\n</code></pre>\n\n<p>without the need to register it somewhere. And then you can use a resource bundle \n<code>widget_abcd.properties</code> without restrictions: </p>\n\n<pre><code>ResourceBundle resource= ResourceBundle.getBundle(\"widget\", new Locale(\"abcd\"));\n</code></pre>\n\n<p>From the <code>java.util.Locale</code> API docs:</p>\n\n<blockquote>\n  <p>Because a Locale object is just an identifier for a region, no\n  validity check is performed when you construct a Locale. If you want\n  to see whether particular resources are available for the Locale you\n  construct, you must query those resources.</p>\n</blockquote>\n\n<p>To solve the problem you can still iterate over all files called \"widget_\" in the resource directory and discover the new added resource bundles.</p>\n\n<p>Note that <code>Locale.getAvailableLocales()</code> <strong>is not 100% sure</strong> for the above reason: you might some day define a non standard locale. But if you'll add only a few standard locales you can use this static method to iterate over the system locales and get the corresponding bundles.</p>\n"},{"tags":[],"owner":{"account_id":1322191,"reputation":11583,"user_id":1267768,"accept_rate":83,"display_name":"Matt"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1345639736,"creation_date":1345639736,"answer_id":12073530,"question_id":12072454,"body_markdown":"If you can make two basic assumptions:\r\n\r\n1)  You have a default resource bundle with no locale, or at least one locale that you know is there. \r\n\r\n2)  All your resources are in the same location (ie. the same path within a single jar file)\r\n\r\nThen you can get the URL for a single resource:\r\n\r\n    URL url = SomeClass.class.getClassLoader().getResource(&quot;widget.properties&quot;);\r\n\r\nonce you have that, you should be able to parse the URL.\r\n\r\nIf you use commons-vfs, you should be able to convert the URL into  a FileObject:\r\n\r\n    FileSystemManager manager = VFS.getManager();\r\n    FileObject resource = manager.resolveFile(url.toExternalForm());\r\n    FileObject parent = resource.getParent();\r\n    FileObject children[] = parent.getChildren();\r\n    // figure out which ones are bundles, and parse the names into a list of locales.\r\n\r\nThis will save you the trouble of dealing with the complexities of jar: style url&#39;s and such,\r\nsince vfs will handle that for you.\r\n","title":"In Java how do I find out what languages I have available my Resource Bundle","body":"<p>If you can make two basic assumptions:</p>\n\n<p>1)  You have a default resource bundle with no locale, or at least one locale that you know is there. </p>\n\n<p>2)  All your resources are in the same location (ie. the same path within a single jar file)</p>\n\n<p>Then you can get the URL for a single resource:</p>\n\n<pre><code>URL url = SomeClass.class.getClassLoader().getResource(\"widget.properties\");\n</code></pre>\n\n<p>once you have that, you should be able to parse the URL.</p>\n\n<p>If you use commons-vfs, you should be able to convert the URL into  a FileObject:</p>\n\n<pre><code>FileSystemManager manager = VFS.getManager();\nFileObject resource = manager.resolveFile(url.toExternalForm());\nFileObject parent = resource.getParent();\nFileObject children[] = parent.getChildren();\n// figure out which ones are bundles, and parse the names into a list of locales.\n</code></pre>\n\n<p>This will save you the trouble of dealing with the complexities of jar: style url's and such,\nsince vfs will handle that for you.</p>\n"},{"tags":[],"owner":{"account_id":192606,"reputation":9871,"user_id":433835,"accept_rate":95,"display_name":"Koh&#225;nyi R&#243;bert"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1345640696,"creation_date":1345640696,"answer_id":12073815,"question_id":12072454,"body_markdown":"If you really package the resource files *inside* your JAR, then I would do it like this:\r\n\r\n    public static void main(String[] args) {\r\n      Set&lt;ResourceBundle&gt; resourceBundles = getResourceBundles(A.class.getName());\r\n      if (resourceBundles.isEmpty())\r\n        // ...\r\n    }\r\n    \r\n    public static Set&lt;ResourceBundle&gt; getResourceBundles(String baseName) {\r\n      Set&lt;ResourceBundle&gt; resourceBundles = new HashSet&lt;&gt;();\r\n\r\n      for (Locale locale : Locale.getAvailableLocales()) {\r\n        try {\r\n          resourceBundles.add(ResourceBundle.getBundle(baseName, locale));\r\n        } catch (MissingResourceException ex) {\r\n          // ...\r\n        }\r\n      }\r\n\r\n      return Collections.unmodifiableSet(resourceBundles);\r\n    }\r\n\r\nIf you care about your JARs then you would at least get a set containing the default resource for a given `baseName`.\r\n\r\nIf you have only resources with names like `baseName_&lt;country&gt;` this method works perfectly, because only those `ResourceBundles` will be added to the set which are present in your JAR. It&#39;ll work even if you decide you need separate `baseName_en_US` and `baseName_en_UK` resources, which is not unheard of.\r\n\r\n&lt;sub&gt;Shameless self-plug: I wrote a [`ResourceBundle.Control`][1] which takes a [`Charset`][2] as its argument, you might be interested in it if you want to load UTF-8 encoded resources files. [It&#39;s available at GitHub.][3]&lt;/sub&gt;\r\n\r\n[1]: http://docs.oracle.com/javase/7/docs/api/java/util/ResourceBundle.Control.html\r\n[2]: http://docs.oracle.com/javase/7/docs/api/java/nio/charset/Charset.html\r\n[3]: https://github.com/kohanyirobert/java-util-resource-bundle-charset-control","title":"In Java how do I find out what languages I have available my Resource Bundle","body":"<p>If you really package the resource files <em>inside</em> your JAR, then I would do it like this:</p>\n\n<pre><code>public static void main(String[] args) {\n  Set&lt;ResourceBundle&gt; resourceBundles = getResourceBundles(A.class.getName());\n  if (resourceBundles.isEmpty())\n    // ...\n}\n\npublic static Set&lt;ResourceBundle&gt; getResourceBundles(String baseName) {\n  Set&lt;ResourceBundle&gt; resourceBundles = new HashSet&lt;&gt;();\n\n  for (Locale locale : Locale.getAvailableLocales()) {\n    try {\n      resourceBundles.add(ResourceBundle.getBundle(baseName, locale));\n    } catch (MissingResourceException ex) {\n      // ...\n    }\n  }\n\n  return Collections.unmodifiableSet(resourceBundles);\n}\n</code></pre>\n\n<p>If you care about your JARs then you would at least get a set containing the default resource for a given <code>baseName</code>.</p>\n\n<p>If you have only resources with names like <code>baseName_&lt;country&gt;</code> this method works perfectly, because only those <code>ResourceBundles</code> will be added to the set which are present in your JAR. It'll work even if you decide you need separate <code>baseName_en_US</code> and <code>baseName_en_UK</code> resources, which is not unheard of.</p>\n\n<p><sub>Shameless self-plug: I wrote a <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/ResourceBundle.Control.html\" rel=\"noreferrer\"><code>ResourceBundle.Control</code></a> which takes a <a href=\"http://docs.oracle.com/javase/7/docs/api/java/nio/charset/Charset.html\" rel=\"noreferrer\"><code>Charset</code></a> as its argument, you might be interested in it if you want to load UTF-8 encoded resources files. <a href=\"https://github.com/kohanyirobert/java-util-resource-bundle-charset-control\" rel=\"noreferrer\">It's available at GitHub.</a></sub></p>\n"},{"tags":[],"owner":{"account_id":954960,"reputation":13272,"user_id":980442,"accept_rate":25,"display_name":"Daniel De Le&#243;n"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1495661187,"creation_date":1451593269,"answer_id":34551293,"question_id":12072454,"body_markdown":"A solve it by listing files.\r\n\r\n\r\n    public class JavaApplication1 {\r\n\r\n        public static final ArrayList&lt;String&gt; LOCALES = new ArrayList&lt;&gt;();\r\n\r\n        static {\r\n            try {\r\n                File f = new File(JavaApplication1.class.getResource(&quot;/l10n&quot;).toURI());\r\n                final String bundle = &quot;widget_&quot;;// Bundle name prefix.\r\n                for (String s : f.list(new FilenameFilter() {\r\n                    @Override\r\n                    public boolean accept(File dir, String name) {\r\n                        return name.startsWith(bundle);\r\n                    }\r\n                })) {\r\n                    LOCALES.add(s.substring(bundle.length(), s.indexOf(&#39;.&#39;)));\r\n                }\r\n            } catch (URISyntaxException x) {\r\n                throw new RuntimeException(x);\r\n            }\r\n            LOCALES.trimToSize();\r\n        }\r\n\r\n        ...\r\n\r\n    }","title":"In Java how do I find out what languages I have available my Resource Bundle","body":"<p>A solve it by listing files.</p>\n\n<pre><code>public class JavaApplication1 {\n\n    public static final ArrayList&lt;String&gt; LOCALES = new ArrayList&lt;&gt;();\n\n    static {\n        try {\n            File f = new File(JavaApplication1.class.getResource(\"/l10n\").toURI());\n            final String bundle = \"widget_\";// Bundle name prefix.\n            for (String s : f.list(new FilenameFilter() {\n                @Override\n                public boolean accept(File dir, String name) {\n                    return name.startsWith(bundle);\n                }\n            })) {\n                LOCALES.add(s.substring(bundle.length(), s.indexOf('.')));\n            }\n        } catch (URISyntaxException x) {\n            throw new RuntimeException(x);\n        }\n        LOCALES.trimToSize();\n    }\n\n    ...\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15782199,"reputation":69,"user_id":11388213,"display_name":"Universe Whole-Xuan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672906655,"creation_date":1672906655,"answer_id":75015535,"question_id":12072454,"body_markdown":"This is my solution,hope can help people.\r\n\r\n    import org.apache.commons.io.FileUtils;\r\n    import org.apache.commons.io.filefilter.AndFileFilter;\r\n    import org.apache.commons.io.filefilter.PrefixFileFilter;\r\n    import org.apache.commons.io.filefilter.SuffixFileFilter;\r\n    import org.apache.commons.lang3.StringUtils; \r\n    private static Locale[] getAvailableLocales(String name) { \r\n        String path = thisClass.class.getClassLoader().getResource(&quot;&quot;).getPath();\r\n        if (path.contains(&quot;%20&quot;)) {\r\n            path = path.replaceFirst(&quot;%20&quot;, &quot; &quot;);\r\n        }\r\n        File file = new File(path);\r\n        Locale[] array = FileUtils.listFiles(file, new AndFileFilter(new PrefixFileFilter(name), new SuffixFileFilter(&quot;.properties&quot;)),null)\r\n                .stream()\r\n                .map(File::getName)\r\n                .map(v -&gt; StringUtils.substringBetween(v, name + &#39;_&#39;, &quot;.properties&quot;))\r\n                .map(v-&gt;v.replaceFirst(&quot;_&quot;,&quot;-&quot;))\r\n                .map(Locale::forLanguageTag)\r\n                .toArray(Locale[]::new);\r\n        return array;\r\n    }","title":"In Java how do I find out what languages I have available my Resource Bundle","body":"<p>This is my solution,hope can help people.</p>\n<pre><code>import org.apache.commons.io.FileUtils;\nimport org.apache.commons.io.filefilter.AndFileFilter;\nimport org.apache.commons.io.filefilter.PrefixFileFilter;\nimport org.apache.commons.io.filefilter.SuffixFileFilter;\nimport org.apache.commons.lang3.StringUtils; \nprivate static Locale[] getAvailableLocales(String name) { \n    String path = thisClass.class.getClassLoader().getResource(&quot;&quot;).getPath();\n    if (path.contains(&quot;%20&quot;)) {\n        path = path.replaceFirst(&quot;%20&quot;, &quot; &quot;);\n    }\n    File file = new File(path);\n    Locale[] array = FileUtils.listFiles(file, new AndFileFilter(new PrefixFileFilter(name), new SuffixFileFilter(&quot;.properties&quot;)),null)\n            .stream()\n            .map(File::getName)\n            .map(v -&gt; StringUtils.substringBetween(v, name + '_', &quot;.properties&quot;))\n            .map(v-&gt;v.replaceFirst(&quot;_&quot;,&quot;-&quot;))\n            .map(Locale::forLanguageTag)\n            .toArray(Locale[]::new);\n    return array;\n}\n</code></pre>\n"}],"owner":{"account_id":111681,"reputation":13319,"user_id":1480018,"accept_rate":87,"display_name":"Paul Taylor"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10309,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"accepted_answer_id":12072910,"answer_count":5,"score":27,"last_activity_date":1672906655,"creation_date":1345636202,"question_id":12072454,"body_markdown":"I have some resource bundles packaged in my main jar \r\n\r\n    widget_en.properties\r\n    widget_de.properties\r\n\r\nI retrieve a resource bundle based on my default locale as folows\r\n\r\n    ResourceBundle.getBundle(&quot;widget&quot;, Locale.getDefault());\r\n\r\nBut I want to present the user with a list of available languages supported so that can select a language that may be different to their computers default\r\n\r\nBut I can&#39;t find a method in ResourceBundle that would list available locales, I don&#39;t want to hardcode a list as I may forget to update it when another resource bundle is added.\r\n\r\n**EDIT**\r\n\r\nAs I only resource bundles for different language (I dont have country refinements) so I have got generated a list by iterating through all the known language codes and check for each one as a resource.\r\n\r\n    String[]langs = Locale.getISOLanguages();\r\n    for(String lang:langs)\r\n    {\r\n          URL rb = ClassLoader.getSystemResource(&quot;widget_&quot;+lang+&quot;.properties&quot;);\r\n          if(rb!=null)\r\n          {\r\n                System.out.println(&quot;Found:&quot;+rb.toString());\r\n          }\r\n    }","title":"In Java how do I find out what languages I have available my Resource Bundle","body":"<p>I have some resource bundles packaged in my main jar </p>\n\n<pre><code>widget_en.properties\nwidget_de.properties\n</code></pre>\n\n<p>I retrieve a resource bundle based on my default locale as folows</p>\n\n<pre><code>ResourceBundle.getBundle(\"widget\", Locale.getDefault());\n</code></pre>\n\n<p>But I want to present the user with a list of available languages supported so that can select a language that may be different to their computers default</p>\n\n<p>But I can't find a method in ResourceBundle that would list available locales, I don't want to hardcode a list as I may forget to update it when another resource bundle is added.</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>As I only resource bundles for different language (I dont have country refinements) so I have got generated a list by iterating through all the known language codes and check for each one as a resource.</p>\n\n<pre><code>String[]langs = Locale.getISOLanguages();\nfor(String lang:langs)\n{\n      URL rb = ClassLoader.getSystemResource(\"widget_\"+lang+\".properties\");\n      if(rb!=null)\n      {\n            System.out.println(\"Found:\"+rb.toString());\n      }\n}\n</code></pre>\n"},{"tags":["java","hibernate","orm","filter","mapping"],"answers":[{"tags":[],"owner":{"account_id":1012936,"reputation":145168,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1409866652,"creation_date":1409866652,"answer_id":25675357,"question_id":25674339,"body_markdown":"While you can use Filters, you need to manually enable those for every Session.\r\n\r\nA much simpler approach is to use @Where:\r\n\r\n    User{\r\n       int id;\r\n\r\n       @Where(clause=&quot;deleted &lt;&gt; true&quot;)\r\n       private Set groups;\r\n\r\n       @Where(clause=&quot;deleted &lt;&gt; true&quot;)\r\n       private Set companies;\r\n    }\r\n\r\nThis way you can filter out the deleted children.","title":"How to filter data in Hibernate many to many mapping","body":"<p>While you can use Filters, you need to manually enable those for every Session.</p>\n\n<p>A much simpler approach is to use @Where:</p>\n\n<pre><code>User{\n   int id;\n\n   @Where(clause=\"deleted &lt;&gt; true\")\n   private Set groups;\n\n   @Where(clause=\"deleted &lt;&gt; true\")\n   private Set companies;\n}\n</code></pre>\n\n<p>This way you can filter out the deleted children.</p>\n"},{"tags":[],"owner":{"account_id":2357612,"reputation":15503,"user_id":2065083,"accept_rate":67,"display_name":"Chaitanya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1409889988,"creation_date":1409889988,"answer_id":25678462,"question_id":25674339,"body_markdown":"One more way of doing this is using [`Criteria`][1] queries\r\n\r\n\r\n  [1]: https://docs.jboss.org/hibernate/orm/3.3/reference/en/html/querycriteria.html","title":"How to filter data in Hibernate many to many mapping","body":"<p>One more way of doing this is using <a href=\"https://docs.jboss.org/hibernate/orm/3.3/reference/en/html/querycriteria.html\" rel=\"nofollow\"><code>Criteria</code></a> queries</p>\n"},{"tags":[],"owner":{"account_id":4308961,"reputation":70,"user_id":10911886,"display_name":"user3520616"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672906087,"creation_date":1672906087,"answer_id":75015445,"question_id":25674339,"body_markdown":"In XML it would look like this:\r\n\r\n\r\n    &lt;set name=&quot;xyz&quot; cascade=&quot;save-update&quot; table=&quot;xyz&quot;&gt;\r\n      &lt;key&gt;\r\n        &lt;column name=&quot;xyz&quot; not-null=&quot;true&quot; /&gt;\r\n      &lt;/key&gt;\r\n      &lt;many-to-many entity-name=&quot;xyz&quot;&gt;\r\n        &lt;column name=&quot;xyz&quot; not-null=&quot;true&quot; /&gt;\r\n        \r\n        &lt;filter name=&quot;tenantFilter&quot; condition=&quot;xyz&quot;&gt;&lt;/filter&gt;\r\n      &lt;/many-to-many&gt;\r\n    &lt;/set&gt;","title":"How to filter data in Hibernate many to many mapping","body":"<p>In XML it would look like this:</p>\n<pre><code>&lt;set name=&quot;xyz&quot; cascade=&quot;save-update&quot; table=&quot;xyz&quot;&gt;\n  &lt;key&gt;\n    &lt;column name=&quot;xyz&quot; not-null=&quot;true&quot; /&gt;\n  &lt;/key&gt;\n  &lt;many-to-many entity-name=&quot;xyz&quot;&gt;\n    &lt;column name=&quot;xyz&quot; not-null=&quot;true&quot; /&gt;\n    \n    &lt;filter name=&quot;tenantFilter&quot; condition=&quot;xyz&quot;&gt;&lt;/filter&gt;\n  &lt;/many-to-many&gt;\n&lt;/set&gt;\n</code></pre>\n"}],"owner":{"account_id":4985782,"reputation":11,"user_id":4009461,"display_name":"AbhiShek SinGh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":211,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1672906087,"creation_date":1409862072,"question_id":25674339,"body_markdown":"I have one table user which has mapping for Groups and companies.\r\n\r\n    User{\r\n    int id;\r\n    private Set groups;\r\n    private Set companies;\r\n    }\r\n\r\n\r\ngroup and companies both have one filed named &quot;deleted&quot; which is used to know the status of entity. I have done mapping with XML, now i want when i retrieve user record only those groups and companies will retrieve which is not deleted. (deleted=false)\r\nI am just stuck in this, so help me out.\r\n\r\nThank you.","title":"How to filter data in Hibernate many to many mapping","body":"<p>I have one table user which has mapping for Groups and companies.</p>\n\n<pre><code>User{\nint id;\nprivate Set groups;\nprivate Set companies;\n}\n</code></pre>\n\n<p>group and companies both have one filed named \"deleted\" which is used to know the status of entity. I have done mapping with XML, now i want when i retrieve user record only those groups and companies will retrieve which is not deleted. (deleted=false)\nI am just stuck in this, so help me out.</p>\n\n<p>Thank you.</p>\n"},{"tags":["java","spring","jpa","spring-data-jpa","spring-data"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1435134832,"post_id":31021519,"comment_id":50068258,"body_markdown":"There is nothing in your query that you can group by no calculations etc. are done... So not sure if you understand group by...","body":"There is nothing in your query that you can group by no calculations etc. are done... So not sure if you understand group by..."},{"owner":{"account_id":5946438,"reputation":91,"user_id":4675796,"display_name":"neocles"},"score":0,"creation_date":1435136069,"post_id":31021519,"comment_id":50068989,"body_markdown":"@M.Deinum. sorry, my query was wrong, I had changed it.","body":"@M.Deinum. sorry, my query was wrong, I had changed it."},{"owner":{"account_id":5946438,"reputation":91,"user_id":4675796,"display_name":"neocles"},"score":0,"creation_date":1435136657,"post_id":31021519,"comment_id":50069372,"body_markdown":"@M.Deinum I&#39;d like to grop entities by campaignId filed and make map where key is campaignId value and value is list of entities.","body":"@M.Deinum I&#39;d like to grop entities by campaignId filed and make map where key is campaignId value and value is list of entities."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1435137433,"post_id":31021519,"comment_id":50069886,"body_markdown":"That isn&#39;t how grouping works... You can group based on a count or sum for instance. In your case, just return a List and proces it to map later. That is the easiest I suspect.","body":"That isn&#39;t how grouping works... You can group based on a count or sum for instance. In your case, just return a List and proces it to map later. That is the easiest I suspect."},{"owner":{"account_id":255080,"reputation":15519,"user_id":534877,"accept_rate":65,"display_name":"Robert Niestroj"},"score":0,"creation_date":1435146193,"post_id":31021519,"comment_id":50075816,"body_markdown":"http://stackoverflow.com/questions/12076238/return-a-subset-of-a-jpa-entity-as-a-array-of-maps-from-a-jpql-query","body":"<a href=\"http://stackoverflow.com/questions/12076238/return-a-subset-of-a-jpa-entity-as-a-array-of-maps-from-a-jpql-query\" title=\"return a subset of a jpa entity as a array of maps from a jpql query\">stackoverflow.com/questions/12076238/&hellip;</a>"},{"owner":{"account_id":6241436,"reputation":2512,"user_id":4854931,"accept_rate":33,"display_name":"Alex78191"},"score":0,"creation_date":1496325069,"post_id":31021519,"comment_id":75624131,"body_markdown":"You should convert using Java Stream API.","body":"You should convert using Java Stream API."}],"answers":[{"tags":[],"owner":{"account_id":1139113,"reputation":18996,"user_id":1123501,"accept_rate":89,"display_name":"Georgios Syngouroglou"},"down_vote_count":5,"up_vote_count":2,"is_accepted":false,"score":-3,"last_activity_date":1670251170,"creation_date":1561130703,"answer_id":56706311,"question_id":31021519,"body_markdown":"**Solution for small datasets only!!**  \r\n\r\nYou may get a list from your JPQL query and then convert it to map using the Java 8 Stream API.  \r\n  \r\n    // This method in your Repository interface\r\n    @Query(&quot;SELECT e FROM CampaignCrTargetingProfile e WHERE e.campaignId IN :ids&quot;)\r\n    public List&lt;CampaignCrTargetingProfile findByCampaignIdIn(@Param(&quot;ids&quot;) Iterable&lt;Integer&gt; ids);\r\n  \r\n    // This source from your Service class\r\n    List&lt;CampaignCrTargetingProfile&gt; list = repo.findByCampaignIdIn(iterableArg);\r\n    Map&lt;Integer, List&lt;CampaignCrTargetingProfile&gt;&gt; mapResult = list.stream()\r\n        .collect(Collectors.groupingBy(CampaignCrTargetingProfile::getCampaignId));\r\n  \r\nIt is better to let the DBMS prepare the GROUP BY operation but in order to get a Map as a result then the aforementioned code can prepare it with just one line of code, using Java 8 Stream API.  \r\nAs far as I have read, spring data does not support a result type of Map.  \r\nIt is inefficient, but I suggest it for small data sets.\r\n  \r\n## Important\r\n  \r\nI suggest to use this solution **only** when your data set consists of a small amount of entries and you are absolutely sure that this amount will not grow in the future, ex. when you use paging in order to limit your result set or a table of enumerated values because, as @adamwilliams comment, it is inefficient the grouping to be done in memory by the application.\r\n\r\n","title":"Spring data jpa. Return Map as result of group by operation","body":"<p><strong>Solution for small datasets only!!</strong></p>\n<p>You may get a list from your JPQL query and then convert it to map using the Java 8 Stream API.</p>\n<pre><code>// This method in your Repository interface\n@Query(&quot;SELECT e FROM CampaignCrTargetingProfile e WHERE e.campaignId IN :ids&quot;)\npublic List&lt;CampaignCrTargetingProfile findByCampaignIdIn(@Param(&quot;ids&quot;) Iterable&lt;Integer&gt; ids);\n\n// This source from your Service class\nList&lt;CampaignCrTargetingProfile&gt; list = repo.findByCampaignIdIn(iterableArg);\nMap&lt;Integer, List&lt;CampaignCrTargetingProfile&gt;&gt; mapResult = list.stream()\n    .collect(Collectors.groupingBy(CampaignCrTargetingProfile::getCampaignId));\n</code></pre>\n<p>It is better to let the DBMS prepare the GROUP BY operation but in order to get a Map as a result then the aforementioned code can prepare it with just one line of code, using Java 8 Stream API.<br />\nAs far as I have read, spring data does not support a result type of Map.<br />\nIt is inefficient, but I suggest it for small data sets.</p>\n<h2>Important</h2>\n<p>I suggest to use this solution <strong>only</strong> when your data set consists of a small amount of entries and you are absolutely sure that this amount will not grow in the future, ex. when you use paging in order to limit your result set or a table of enumerated values because, as @adamwilliams comment, it is inefficient the grouping to be done in memory by the application.</p>\n"}],"owner":{"account_id":5946438,"reputation":91,"user_id":4675796,"display_name":"neocles"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11456,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":1,"score":8,"last_activity_date":1672905910,"creation_date":1435134570,"question_id":31021519,"body_markdown":"I have a query in my jpa repository interface.\r\n\r\n    @Query(&quot;select e.campaignId, e from CampaignCrTargetingProfile e where e.campaignId in :ids group by e.campaignId&quot;)\r\n    public Map&lt;Integer, List&lt;CampaignCrTargetingProfile&gt;&gt; findByCampaignIdIn(@Param(&quot;ids&quot;) Iterable&lt;Integer&gt; ids);\r\n\r\ncampaignId is Integer.\r\n\r\nBut when I try to execute this query, I caught an exception.\r\n\r\n    Caused by: org.springframework.core.convert.ConverterNotFoundException: No converter found capable of converting from type java.lang.Integer to type java.util.Map&lt;?, ?&gt;\r\n\tat org.springframework.core.convert.support.GenericConversionService.handleConverterNotFound(GenericConversionService.java:311) ~[spring-core-4.1.5.RELEASE.jar:4.1.5.RELEASE]\r\n\tat org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:192) ~[spring-core-4.1.5.RELEASE.jar:4.1.5.RELEASE]\r\n\tat org.springframework.core.convert.support.ArrayToObjectConverter.convert(ArrayToObjectConverter.java:66) ~[spring-core-4.1.5.RELEASE.jar:4.1.5.RELEASE]\r\n\tat org.springframework.core.convert.support.ConversionUtils.invokeConverter(ConversionUtils.java:35) ~[spring-core-4.1.5.RELEASE.jar:4.1.5.RELEASE]\r\n\t... 192 common frames omitted\r\n\r\nIs it possible to groping entites by its field and return result as Map&lt;Type of filed, Entity&gt;?  if it is impossible, is there another way to make something similar?","title":"Spring data jpa. Return Map as result of group by operation","body":"<p>I have a query in my jpa repository interface.</p>\n\n<pre><code>@Query(\"select e.campaignId, e from CampaignCrTargetingProfile e where e.campaignId in :ids group by e.campaignId\")\npublic Map&lt;Integer, List&lt;CampaignCrTargetingProfile&gt;&gt; findByCampaignIdIn(@Param(\"ids\") Iterable&lt;Integer&gt; ids);\n</code></pre>\n\n<p>campaignId is Integer.</p>\n\n<p>But when I try to execute this query, I caught an exception.</p>\n\n<pre><code>Caused by: org.springframework.core.convert.ConverterNotFoundException: No converter found capable of converting from type java.lang.Integer to type java.util.Map&lt;?, ?&gt;\nat org.springframework.core.convert.support.GenericConversionService.handleConverterNotFound(GenericConversionService.java:311) ~[spring-core-4.1.5.RELEASE.jar:4.1.5.RELEASE]\nat org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:192) ~[spring-core-4.1.5.RELEASE.jar:4.1.5.RELEASE]\nat org.springframework.core.convert.support.ArrayToObjectConverter.convert(ArrayToObjectConverter.java:66) ~[spring-core-4.1.5.RELEASE.jar:4.1.5.RELEASE]\nat org.springframework.core.convert.support.ConversionUtils.invokeConverter(ConversionUtils.java:35) ~[spring-core-4.1.5.RELEASE.jar:4.1.5.RELEASE]\n... 192 common frames omitted\n</code></pre>\n\n<p>Is it possible to groping entites by its field and return result as Map?  if it is impossible, is there another way to make something similar?</p>\n"},{"tags":["java","sql","database","replace"],"comments":[{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":2,"creation_date":1672905345,"post_id":75015040,"comment_id":132379320,"body_markdown":"you need to pay attention at least to `order by` and `group by` clauses, because replacing projection by `count(*)` makes SQL statement invalid if statement contains `order by` or `group by`. Another case is set operations: `UNION (ALL)`, `INTERSECT`, `MINUS` - that is obvious you can&#39;t perform desired transformation. Why do not just enclose original query into `select count(*) from (...)`?","body":"you need to pay attention at least to <code>order by</code> and <code>group by</code> clauses, because replacing projection by <code>count(*)</code> makes SQL statement invalid if statement contains <code>order by</code> or <code>group by</code>. Another case is set operations: <code>UNION (ALL)</code>, <code>INTERSECT</code>, <code>MINUS</code> - that is obvious you can&#39;t perform desired transformation. Why do not just enclose original query into <code>select count(*) from (...)</code>?"},{"owner":{"account_id":22807677,"reputation":414,"user_id":16959486,"display_name":"Teddy Tsai"},"score":0,"creation_date":1672906344,"post_id":75015040,"comment_id":132379537,"body_markdown":"@AndreyB.Panfilov because the database sharding parsing engine will not allow nested queries that do not contain the sharding column, it won&#39;t know how to route the query and throw a parsing exception.","body":"@AndreyB.Panfilov because the database sharding parsing engine will not allow nested queries that do not contain the sharding column, it won&#39;t know how to route the query and throw a parsing exception."},{"owner":{"account_id":4564696,"reputation":43122,"user_id":3706016,"display_name":"jarlh"},"score":0,"creation_date":1672906709,"post_id":75015040,"comment_id":132379643,"body_markdown":"To do this properly you need a full SQL grammar (for the dbms you&#39;re using.)","body":"To do this properly you need a full SQL grammar (for the dbms you&#39;re using.)"}],"answers":[{"tags":[],"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1672903869,"creation_date":1672903869,"answer_id":75015109,"question_id":75015040,"body_markdown":"We can try a regex replacement here, targeting the `SELECT` clause.  Assuming that each part of the query be on a separate line, we can try:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    String sql = &quot;select xxx,xxx,xxx \\nfrom xxx\\nwhere xxxxx&quot;;\r\n    String output = sql.replaceAll(&quot;\\\\bselect.*&quot;, &quot;select count(*) as total&quot;);\r\n    System.out.println(output);\r\n\r\nThis prints:\r\n\r\n    select count(*) as total\r\n    from xxx\r\n    where xxxxx\r\n\r\nThe regex pattern `\\bselect.*` will match the `select` keyword until the end of that line (`.*` will not match across newlines by default).  We then replace with the desired select count.","title":"Replace an arbitraty select SQL with a count SQL","body":"<p>We can try a regex replacement here, targeting the <code>SELECT</code> clause.  Assuming that each part of the query be on a separate line, we can try:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String sql = &quot;select xxx,xxx,xxx \\nfrom xxx\\nwhere xxxxx&quot;;\nString output = sql.replaceAll(&quot;\\\\bselect.*&quot;, &quot;select count(*) as total&quot;);\nSystem.out.println(output);\n</code></pre>\n<p>This prints:</p>\n<pre><code>select count(*) as total\nfrom xxx\nwhere xxxxx\n</code></pre>\n<p>The regex pattern <code>\\bselect.*</code> will match the <code>select</code> keyword until the end of that line (<code>.*</code> will not match across newlines by default).  We then replace with the desired select count.</p>\n"}],"owner":{"account_id":22807677,"reputation":414,"user_id":16959486,"display_name":"Teddy Tsai"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":1,"score":2,"last_activity_date":1672905541,"creation_date":1672903447,"question_id":75015040,"body_markdown":"I need like to write a method (java) to transform an arbirtraty SQL string\r\n```\r\nselect xxx,xxx,xxx \r\nfrom xxx\r\nwhere xxxxx\r\n\r\n-- or\r\n\r\nselect *\r\nfrom xxx\r\nwhere xxxxx\r\n```\r\nto a count sql string like:\r\n```\r\nselect count(*) as total\r\nfrom xxx\r\nwhere xxxxx\r\n```\r\n\r\nI was thinking of replacing anything between ```select``` and ```from``` with ```count(*) as total```, are there some potential problems with this approach? I don&#39;t need to handle EVERY case but I&#39;d like to know which cases could be problematic with this approach and if I can afford to ignore them, or if you would do it some other way.\r\n\r\nI cannot use this nested solution \r\n```\r\nselect count(*)\r\nfrom ( original query )\r\n```\r\n because of database sharding limitations.","title":"Replace an arbitraty select SQL with a count SQL","body":"<p>I need like to write a method (java) to transform an arbirtraty SQL string</p>\n<pre><code>select xxx,xxx,xxx \nfrom xxx\nwhere xxxxx\n\n-- or\n\nselect *\nfrom xxx\nwhere xxxxx\n</code></pre>\n<p>to a count sql string like:</p>\n<pre><code>select count(*) as total\nfrom xxx\nwhere xxxxx\n</code></pre>\n<p>I was thinking of replacing anything between <code>select</code> and <code>from</code> with <code>count(*) as total</code>, are there some potential problems with this approach? I don't need to handle EVERY case but I'd like to know which cases could be problematic with this approach and if I can afford to ignore them, or if you would do it some other way.</p>\n<p>I cannot use this nested solution</p>\n<pre><code>select count(*)\nfrom ( original query )\n</code></pre>\n<p>because of database sharding limitations.</p>\n"},{"tags":["java","spring","spring-boot","intellij-idea"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":4,"creation_date":1672904537,"post_id":75015172,"comment_id":132379119,"body_markdown":"Spring Boot 3 requires JDK17. You only have JDK11 so that won&#39;t work. You need JDK17.","body":"Spring Boot 3 requires JDK17. You only have JDK11 so that won&#39;t work. You need JDK17."}],"answers":[{"tags":[],"owner":{"account_id":4814720,"reputation":1477,"user_id":3887145,"display_name":"Ralf Wagner"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1672905337,"creation_date":1672905337,"answer_id":75015321,"question_id":75015172,"body_markdown":"Spring Boot 3 requires Java 17 as a minimum Java version, so you need to install this on your machine. (If you need to use several Java versions in parallel on your machine, this can be done quite nicely with SDKMan (https://sdkman.io/).\r\n\r\nIn IntelliJ, you need to add the new Java runtime to the known Java runtimes (File &gt; Project Settings &gt; SDKs) and the use it for your project (File &gt; Project Settings &gt; Project &gt; SDK).","title":"Having java versioning issue with gradle in Spring project in IntelliJ","body":"<p>Spring Boot 3 requires Java 17 as a minimum Java version, so you need to install this on your machine. (If you need to use several Java versions in parallel on your machine, this can be done quite nicely with SDKMan (<a href=\"https://sdkman.io/\" rel=\"nofollow noreferrer\">https://sdkman.io/</a>).</p>\n<p>In IntelliJ, you need to add the new Java runtime to the known Java runtimes (File &gt; Project Settings &gt; SDKs) and the use it for your project (File &gt; Project Settings &gt; Project &gt; SDK).</p>\n"},{"tags":[],"owner":{"account_id":1545258,"reputation":1177,"user_id":1438934,"accept_rate":18,"display_name":"Anish Mittal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1672905513,"creation_date":1672905513,"answer_id":75015348,"question_id":75015172,"body_markdown":"Spring Boot 3 requires Java 17 as minimum version. So just install Java 17 and update java runtime path in IntelliJ.","title":"Having java versioning issue with gradle in Spring project in IntelliJ","body":"<p>Spring Boot 3 requires Java 17 as minimum version. So just install Java 17 and update java runtime path in IntelliJ.</p>\n"}],"owner":{"account_id":1545258,"reputation":1177,"user_id":1438934,"accept_rate":18,"display_name":"Anish Mittal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75015348,"answer_count":2,"score":2,"last_activity_date":1672905513,"creation_date":1672904334,"question_id":75015172,"body_markdown":"I created a project from start.spring.io. No matter whether I choose Java 11 or Java 17 there, I get this error when I open this spring project in IntelliJ.\r\n\r\n**Error**:\r\n\r\n    Could not resolve org.springframework.boot:spring-boot-gradle-plugin:3.0.1.\r\n         Required by:\r\n             project : &gt; org.springframework.boot:org.springframework.boot.gradle.plugin:3.0.1\r\n          &gt; No matching variant of org.springframework.boot:spring-boot-gradle-plugin:3.0.1 was found.\r\n    Incompatible because this component declares an API of a component compatible with Java 17 and the consumer needed a runtime of a component compatible with Java 11.\r\n\r\n**Note**: I have installed Java 11 on my local machine.\r\n\r\nWhy importing Java/Gradle project is so much errorneous in IntelliJ?\r\n\r\n\r\n","title":"Having java versioning issue with gradle in Spring project in IntelliJ","body":"<p>I created a project from start.spring.io. No matter whether I choose Java 11 or Java 17 there, I get this error when I open this spring project in IntelliJ.</p>\n<p><strong>Error</strong>:</p>\n<pre><code>Could not resolve org.springframework.boot:spring-boot-gradle-plugin:3.0.1.\n     Required by:\n         project : &gt; org.springframework.boot:org.springframework.boot.gradle.plugin:3.0.1\n      &gt; No matching variant of org.springframework.boot:spring-boot-gradle-plugin:3.0.1 was found.\nIncompatible because this component declares an API of a component compatible with Java 17 and the consumer needed a runtime of a component compatible with Java 11.\n</code></pre>\n<p><strong>Note</strong>: I have installed Java 11 on my local machine.</p>\n<p>Why importing Java/Gradle project is so much errorneous in IntelliJ?</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":74886,"reputation":26643,"user_id":214977,"accept_rate":69,"display_name":"granadaCoder"},"score":0,"creation_date":1550996999,"post_id":5113579,"comment_id":96472385,"body_markdown":"Future readers, in case you have a &quot;I think what I wrote should work&quot; issue, also see this bug, with a &quot;status=declined&quot;.  https://github.com/spring-projects/spring-framework/issues/16017   Just in case the URL ever eventually fails, the title of the bug post is &quot; Import of an XML file from the root of a JAR file with wildcard classpath and wildcard path does not work [SPR-11390] &quot;","body":"Future readers, in case you have a &quot;I think what I wrote should work&quot; issue, also see this bug, with a &quot;status=declined&quot;.  <a href=\"https://github.com/spring-projects/spring-framework/issues/16017\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-framework/issues/16017</a>   Just in case the URL ever eventually fails, the title of the bug post is &quot; Import of an XML file from the root of a JAR file with wildcard classpath and wildcard path does not work [SPR-11390] &quot;"}],"answers":[{"tags":[],"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"down_vote_count":0,"up_vote_count":121,"is_accepted":true,"score":121,"last_activity_date":1298624707,"creation_date":1298624707,"answer_id":5115384,"question_id":5113579,"body_markdown":"    &lt;import resource=&quot;classpath:spring-config.xml&quot; /&gt;\r\n\r\n**Reference:**\r\n\r\n - [Composing XML-based configuration\r\n   metadata][1]\r\n - [Resources][2] (here the `classpath:`\r\n   part is explained)\r\n\r\n  [1]: http://static.springsource.org/spring/docs/3.0.x/spring-framework-reference/html/beans.html#beans-factory-xml-import\r\n  [2]: http://static.springsource.org/spring/docs/3.0.x/spring-framework-reference/html/resources.html","title":"How to import spring-config.xml of one project into spring-config.xml of another project?","body":"<pre><code>&lt;import resource=\"classpath:spring-config.xml\" /&gt;\n</code></pre>\n\n<p><strong>Reference:</strong></p>\n\n<ul>\n<li><a href=\"http://static.springsource.org/spring/docs/3.0.x/spring-framework-reference/html/beans.html#beans-factory-xml-import\" rel=\"noreferrer\">Composing XML-based configuration\nmetadata</a></li>\n<li><a href=\"http://static.springsource.org/spring/docs/3.0.x/spring-framework-reference/html/resources.html\" rel=\"noreferrer\">Resources</a> (here the <code>classpath:</code>\npart is explained)</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":950742,"reputation":2108,"user_id":976948,"accept_rate":75,"display_name":"RicardoS"},"down_vote_count":0,"up_vote_count":63,"is_accepted":false,"score":63,"last_activity_date":1318943264,"creation_date":1318943264,"answer_id":7807684,"question_id":5113579,"body_markdown":"A small variation of Sean&#39;s answer:\r\n\r\n    &lt;import resource=&quot;classpath*:spring-config.xml&quot; /&gt;\r\n\r\nWith the asterisk in order to spring search files &#39;spring-config.xml&#39; anywhere in the classpath.\r\n\r\nAnother reference:\r\nhttps://stackoverflow.com/questions/5092133/divide-spring-configuration-across-multiple-projects\r\n\r\nhttps://stackoverflow.com/questions/3294423/spring-classpath-prefix-difference","title":"How to import spring-config.xml of one project into spring-config.xml of another project?","body":"<p>A small variation of Sean's answer:</p>\n\n<pre><code>&lt;import resource=\"classpath*:spring-config.xml\" /&gt;\n</code></pre>\n\n<p>With the asterisk in order to spring search files 'spring-config.xml' anywhere in the classpath.</p>\n\n<p>Another reference:\n<a href=\"https://stackoverflow.com/questions/5092133/divide-spring-configuration-across-multiple-projects\">Divide Spring configuration across multiple projects</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/3294423/spring-classpath-prefix-difference\">Spring classpath prefix difference</a></p>\n"},{"tags":[],"owner":{"account_id":2230437,"reputation":101,"user_id":1968168,"display_name":"yogesh"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1366086405,"creation_date":1366086405,"answer_id":16028800,"question_id":5113579,"body_markdown":"For some reason, import as suggested by Ricardo didnt work for me. I got it working with following statement:\r\n\r\n`&lt;import resource=&quot;classpath*:/spring-config.xml&quot; /&gt;`\r\n\r\n","title":"How to import spring-config.xml of one project into spring-config.xml of another project?","body":"<p>For some reason, import as suggested by Ricardo didnt work for me. I got it working with following statement:</p>\n\n<p><code>&lt;import resource=\"classpath*:/spring-config.xml\" /&gt;</code></p>\n"},{"tags":[],"owner":{"account_id":3388946,"reputation":91,"user_id":2844287,"display_name":"ajeetkg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1384278022,"creation_date":1384278022,"answer_id":19936168,"question_id":5113579,"body_markdown":"You have to add the jar/war of the module B in the module A and add the classpath in your new spring-module file. Just add this line \r\n\r\nspring-moduleA.xml  - is a file in module A under the resource folder. By adding this line, it imports all the bean definition from module A to module B. \r\n\r\nMODULE B/ spring-moduleB.xml\r\n___________\r\n\r\n    import resource=&quot;classpath:spring-moduleA.xml&quot;/&gt;\r\n\t\r\n    &lt;bean id=&quot;helloBeanB&quot; class=&quot;basic.HelloWorldB&quot;&gt;\r\n      &lt;property name=&quot;name&quot; value=&quot;BMVNPrj&quot; /&gt;\r\n    &lt;/bean&gt;","title":"How to import spring-config.xml of one project into spring-config.xml of another project?","body":"<p>You have to add the jar/war of the module B in the module A and add the classpath in your new spring-module file. Just add this line </p>\n\n<p>spring-moduleA.xml  - is a file in module A under the resource folder. By adding this line, it imports all the bean definition from module A to module B. </p>\n\n<p>MODULE B/ spring-moduleB.xml</p>\n\n<hr>\n\n<pre><code>import resource=\"classpath:spring-moduleA.xml\"/&gt;\n\n&lt;bean id=\"helloBeanB\" class=\"basic.HelloWorldB\"&gt;\n  &lt;property name=\"name\" value=\"BMVNPrj\" /&gt;\n&lt;/bean&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1573333,"reputation":15365,"user_id":1460509,"accept_rate":92,"display_name":"Devrim"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1505292428,"creation_date":1505292428,"answer_id":46192938,"question_id":5113579,"body_markdown":"Here is the annotation based example:\r\n\r\n    @SpringBootApplication\r\n    @ImportResource({&quot;classpath*:spring-config.xml&quot;})\r\n    public class MainApplication {\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(MainApplication.class, args);\r\n        }\r\n    }","title":"How to import spring-config.xml of one project into spring-config.xml of another project?","body":"<p>Here is the annotation based example:</p>\n\n<pre><code>@SpringBootApplication\n@ImportResource({\"classpath*:spring-config.xml\"})\npublic class MainApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(MainApplication.class, args);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13211871,"reputation":41,"user_id":9541813,"display_name":"JitenS"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1521949270,"creation_date":1521943188,"answer_id":49471810,"question_id":5113579,"body_markdown":"    &lt;import resource=&quot;classpath*:spring-config.xml&quot; /&gt; \r\nThis is the most suitable one for class path configuration.\r\nParticularly when you are searching for the .xml files in a different project which is in your class path.","title":"How to import spring-config.xml of one project into spring-config.xml of another project?","body":"<pre><code>&lt;import resource=\"classpath*:spring-config.xml\" /&gt; \n</code></pre>\n\n<p>This is the most suitable one for class path configuration.\nParticularly when you are searching for the .xml files in a different project which is in your class path.</p>\n"}],"owner":{"account_id":249783,"reputation":3042,"user_id":526073,"accept_rate":82,"display_name":"Chitresh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":196957,"favorite_count":0,"down_vote_count":0,"up_vote_count":78,"accepted_answer_id":5115384,"answer_count":6,"score":78,"last_activity_date":1672905417,"creation_date":1298607769,"question_id":5113579,"body_markdown":"I have two projects with the name `simple-core-impl` and `simple-core-web`. Both projects are `spring based` and both have a parent project name `simple-core`. I have `simple-impl-config.xml` in `simple-core-impl` project and `simple-web-config.xml` in `simple-impl-config.xml`. \r\n\r\nI have a bean which has class: `simple service` which have one method which returns me a message &quot;hello World&quot;. I want to import the `simple-impl-config.xml` in the `simple-web-config.xml` so the bean is available into my controller which is in `simple-core-web` project. \r\n\r\n`simple-core-web` project has a jar of `simple-core-impl` project. \r\n\r\n\r\nSo please tell me how I can I import `spring-config.xml` of one project into `spring-config.xml` of another project so all the beans of first is available into other project by just importing? I do not want to rewrite all the beans.","title":"How to import spring-config.xml of one project into spring-config.xml of another project?","body":"<p>I have two projects with the name <code>simple-core-impl</code> and <code>simple-core-web</code>. Both projects are <code>spring based</code> and both have a parent project name <code>simple-core</code>. I have <code>simple-impl-config.xml</code> in <code>simple-core-impl</code> project and <code>simple-web-config.xml</code> in <code>simple-impl-config.xml</code>.</p>\n<p>I have a bean which has class: <code>simple service</code> which have one method which returns me a message &quot;hello World&quot;. I want to import the <code>simple-impl-config.xml</code> in the <code>simple-web-config.xml</code> so the bean is available into my controller which is in <code>simple-core-web</code> project.</p>\n<p><code>simple-core-web</code> project has a jar of <code>simple-core-impl</code> project.</p>\n<p>So please tell me how I can I import <code>spring-config.xml</code> of one project into <code>spring-config.xml</code> of another project so all the beans of first is available into other project by just importing? I do not want to rewrite all the beans.</p>\n"},{"tags":["java","spring","spring-mvc","spring2.x","spring-2.5"],"owner":{"account_id":4597208,"reputation":48209,"user_id":3728901,"accept_rate":58,"display_name":"Vy Do"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672905195,"creation_date":1672905195,"question_id":75015297,"body_markdown":"I need maintain old system with JDK/Java 1.6 , Apache Tomcat 6.0.x, Spring 2.5.6 . I am reading tutorial https://mkyong.com/spring-mvc/spring-mvc-jquery-autocomplete-example/ \r\n\r\n```xml\r\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n\txmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;\r\n\txsi:schemaLocation=&quot;\r\n        http://www.springframework.org/schema/beans     \r\n        http://www.springframework.org/schema/beans/spring-beans-3.0.xsd\r\n        http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-3.0.xsd\r\n        http://www.springframework.org/schema/context \r\n        http://www.springframework.org/schema/context/spring-context-3.0.xsd&quot;&gt;\r\n\r\n\t&lt;context:component-scan base-package=&quot;com.mkyong&quot; /&gt;\r\n\t&lt;bean\r\n\t\tclass=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;\r\n\t\t&lt;property name=&quot;prefix&quot;&gt;\r\n\t\t\t&lt;value&gt;/WEB-INF/pages/&lt;/value&gt;\r\n\t\t&lt;/property&gt;\r\n\t\t&lt;property name=&quot;suffix&quot;&gt;\r\n\t\t\t&lt;value&gt;.jsp&lt;/value&gt;\r\n\t\t&lt;/property&gt;\r\n\t&lt;/bean&gt;\t\r\n\t&lt;mvc:resources mapping=&quot;/resources/**&quot; location=&quot;/resources/&quot; /&gt;\r\n\t&lt;mvc:annotation-driven /&gt;\r\n&lt;/beans&gt;\r\n```\r\nI focus at (this line of code for Spring 3.0, full source code https://1drv.ms/u/s!AhMAe-fS33VbhYw_5QZm9dwpwUTQnQ?e=sYcvYG )\r\n\r\n```xml\r\n&lt;mvc:resources mapping=&quot;/resources/**&quot; location=&quot;/resources/&quot; /&gt;\r\n```\r\nand looking configuration for same purpose for Spring 2.5.6 .\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI see at here http://www.springframework.org/schema/mvc/ , but not see what for Spring 2.5 . \r\nIn Spring 2.5, how to config like tag `&lt;mvc:resources&gt;` in Spring MVC 3.0?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dBSWe.png","title":"In Spring 2.5, how to config like tag &lt;mvc:resources&gt; in Spring MVC 3.0?","body":"<p>I need maintain old system with JDK/Java 1.6 , Apache Tomcat 6.0.x, Spring 2.5.6 . I am reading tutorial <a href=\"https://mkyong.com/spring-mvc/spring-mvc-jquery-autocomplete-example/\" rel=\"nofollow noreferrer\">https://mkyong.com/spring-mvc/spring-mvc-jquery-autocomplete-example/</a></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n    xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;\n    xsi:schemaLocation=&quot;\n        http://www.springframework.org/schema/beans     \n        http://www.springframework.org/schema/beans/spring-beans-3.0.xsd\n        http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-3.0.xsd\n        http://www.springframework.org/schema/context \n        http://www.springframework.org/schema/context/spring-context-3.0.xsd&quot;&gt;\n\n    &lt;context:component-scan base-package=&quot;com.mkyong&quot; /&gt;\n    &lt;bean\n        class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;\n        &lt;property name=&quot;prefix&quot;&gt;\n            &lt;value&gt;/WEB-INF/pages/&lt;/value&gt;\n        &lt;/property&gt;\n        &lt;property name=&quot;suffix&quot;&gt;\n            &lt;value&gt;.jsp&lt;/value&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt; \n    &lt;mvc:resources mapping=&quot;/resources/**&quot; location=&quot;/resources/&quot; /&gt;\n    &lt;mvc:annotation-driven /&gt;\n&lt;/beans&gt;\n</code></pre>\n<p>I focus at (this line of code for Spring 3.0, full source code <a href=\"https://1drv.ms/u/s!AhMAe-fS33VbhYw_5QZm9dwpwUTQnQ?e=sYcvYG\" rel=\"nofollow noreferrer\">https://1drv.ms/u/s!AhMAe-fS33VbhYw_5QZm9dwpwUTQnQ?e=sYcvYG</a> )</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;mvc:resources mapping=&quot;/resources/**&quot; location=&quot;/resources/&quot; /&gt;\n</code></pre>\n<p>and looking configuration for same purpose for Spring 2.5.6 .</p>\n<p><a href=\"https://i.stack.imgur.com/dBSWe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dBSWe.png\" alt=\"enter image description here\" /></a></p>\n<p>I see at here <a href=\"http://www.springframework.org/schema/mvc/\" rel=\"nofollow noreferrer\">http://www.springframework.org/schema/mvc/</a> , but not see what for Spring 2.5 .\nIn Spring 2.5, how to config like tag <code>&lt;mvc:resources&gt;</code> in Spring MVC 3.0?</p>\n"},{"tags":["java","ssl"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":0,"creation_date":1672838914,"post_id":75006116,"comment_id":132362617,"body_markdown":"You basically need to use the correct keystore based on the `Host` header. If someone requests site1.com you need to use site1.keystore and site2.keystore for site2.com. How are you currently communicating with your server? What domains are the SSL certificates for?","body":"You basically need to use the correct keystore based on the <code>Host</code> header. If someone requests site1.com you need to use site1.keystore and site2.keystore for site2.com. How are you currently communicating with your server? What domains are the SSL certificates for?"},{"owner":{"account_id":4509101,"reputation":101,"user_id":3665736,"display_name":"user3665736"},"score":0,"creation_date":1672839237,"post_id":75006116,"comment_id":132362749,"body_markdown":"I can only read the host header AFTER connection has occurred.","body":"I can only read the host header AFTER connection has occurred."},{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":1,"creation_date":1672839369,"post_id":75006116,"comment_id":132362806,"body_markdown":"Ah, absolutely correct, my bad. Then https://en.wikipedia.org/wiki/Server_Name_Indication is what you need. (or different ports or different IPs)","body":"Ah, absolutely correct, my bad. Then <a href=\"https://en.wikipedia.org/wiki/Server_Name_Indication\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Server_Name_Indication</a> is what you need. (or different ports or different IPs)"}],"answers":[{"tags":[],"owner":{"account_id":4509101,"reputation":101,"user_id":3665736,"display_name":"user3665736"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672905026,"creation_date":1672905026,"answer_id":75015273,"question_id":75006116,"body_markdown":"After digging the &quot;Server Name Indication&quot; (thanks luk2302) I have found 2 possible solutions to my problem.\r\nThe easiest one is to have a single certificate for my 2 sites; this can be achieved with:\r\n\r\n    sudo certbot certonly --force-renewal --standalone -d site1.com -d site2.com ...\r\n\r\nAnd then build my keystore as usual.\r\n\r\nIf I still want to have a single certificate per site, the solution is more complex: accept any socket connection, read and analyse the TLS header , grab the server name destination and then we know which is the needed certificate.\r\n\r\nThere is a good technote on the subject: \r\nhttps://docs.oracle.com/javase/8/docs/technotes/guides/security/jsse/JSSERefGuide.html#SNIExamples","title":"How can I have a single server accepting secure traffic for 2 differents web sites","body":"<p>After digging the &quot;Server Name Indication&quot; (thanks luk2302) I have found 2 possible solutions to my problem.\nThe easiest one is to have a single certificate for my 2 sites; this can be achieved with:</p>\n<pre><code>sudo certbot certonly --force-renewal --standalone -d site1.com -d site2.com ...\n</code></pre>\n<p>And then build my keystore as usual.</p>\n<p>If I still want to have a single certificate per site, the solution is more complex: accept any socket connection, read and analyse the TLS header , grab the server name destination and then we know which is the needed certificate.</p>\n<p>There is a good technote on the subject:\n<a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/security/jsse/JSSERefGuide.html#SNIExamples\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/technotes/guides/security/jsse/JSSERefGuide.html#SNIExamples</a></p>\n"}],"owner":{"account_id":4509101,"reputation":101,"user_id":3665736,"display_name":"user3665736"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1672905026,"creation_date":1672838612,"question_id":75006116,"body_markdown":"Using &quot;let&#39;s encrypt&quot;, I have created certificates for my 2 web sites.\r\nI have used certbot / openssl / keytool to finally end up with: site1.keystore and site2.keystore\r\n\r\nHere is my simplified java code:\r\n\r\n\r\n    public class TestServer\r\n    {\r\n      public static void main(String[] args) throws Exception\r\n      {\r\n        int port = 1443;\r\n        char[] passphrase = &quot;changeit&quot;.toCharArray();\r\n        \r\n        KeyStore ks = KeyStore.getInstance(KeyStore.getDefaultType());\r\n        ks.load(new FileInputStream (&quot;/path/to/site1.keystore&quot;), passphrase);\r\n    \r\n        KeyManagerFactory kmf = KeyManagerFactory.getInstance(&quot;SunX509&quot;);\r\n        kmf.init(ks, passphrase);\r\n    \r\n        SSLContext ctx = SSLContext.getInstance(&quot;TLS&quot;);\r\n        ctx.init(kmf.getKeyManagers(), null, null);\r\n    \r\n        SSLServerSocketFactory ssf = null;\r\n        ssf = ctx.getServerSocketFactory();\r\n    \r\n        ServerSocket ss = ssf.createServerSocket(port);\r\n        while (true)\r\n        {\r\n          Socket socket = ss.accept();\r\n          OutputStream out = socket.getOutputStream();\r\n          String response = &quot;Hello from secure server&quot;;\r\n          out.write((&quot;HTTP/1.1 200 OK\\r\\nContent-Type: text/html\\r\\nContent-Length: &quot; + response.length() + &quot;\\r\\n\\r\\n&quot; + response).getBytes());\r\n          out.flush();\r\n          socket.close();\r\n        }\r\n      }\r\n    }\r\n\r\nIf I use site1.keystore , I can connect to site1\r\nIf I use site2.keystore , I can connect to site2\r\nSo far so good...\r\n\r\nTo be able to connect to both sites, I have merged both keystore in a single all.keystore\r\n\r\nUnfortunately it does not work as expected ... maybe somebody has an idea of what is missing?\r\n","title":"How can I have a single server accepting secure traffic for 2 differents web sites","body":"<p>Using &quot;let's encrypt&quot;, I have created certificates for my 2 web sites.\nI have used certbot / openssl / keytool to finally end up with: site1.keystore and site2.keystore</p>\n<p>Here is my simplified java code:</p>\n<pre><code>public class TestServer\n{\n  public static void main(String[] args) throws Exception\n  {\n    int port = 1443;\n    char[] passphrase = &quot;changeit&quot;.toCharArray();\n    \n    KeyStore ks = KeyStore.getInstance(KeyStore.getDefaultType());\n    ks.load(new FileInputStream (&quot;/path/to/site1.keystore&quot;), passphrase);\n\n    KeyManagerFactory kmf = KeyManagerFactory.getInstance(&quot;SunX509&quot;);\n    kmf.init(ks, passphrase);\n\n    SSLContext ctx = SSLContext.getInstance(&quot;TLS&quot;);\n    ctx.init(kmf.getKeyManagers(), null, null);\n\n    SSLServerSocketFactory ssf = null;\n    ssf = ctx.getServerSocketFactory();\n\n    ServerSocket ss = ssf.createServerSocket(port);\n    while (true)\n    {\n      Socket socket = ss.accept();\n      OutputStream out = socket.getOutputStream();\n      String response = &quot;Hello from secure server&quot;;\n      out.write((&quot;HTTP/1.1 200 OK\\r\\nContent-Type: text/html\\r\\nContent-Length: &quot; + response.length() + &quot;\\r\\n\\r\\n&quot; + response).getBytes());\n      out.flush();\n      socket.close();\n    }\n  }\n}\n</code></pre>\n<p>If I use site1.keystore , I can connect to site1\nIf I use site2.keystore , I can connect to site2\nSo far so good...</p>\n<p>To be able to connect to both sites, I have merged both keystore in a single all.keystore</p>\n<p>Unfortunately it does not work as expected ... maybe somebody has an idea of what is missing?</p>\n"},{"tags":["java","android","gradle"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1648821398,"post_id":71694705,"comment_id":126728480,"body_markdown":"You&#39;re editing the wrong Gradle file","body":"You&#39;re editing the wrong Gradle file"}],"answers":[{"tags":[],"owner":{"account_id":7974949,"reputation":127,"user_id":6018433,"display_name":"Sikandar Khan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672904347,"creation_date":1672904347,"answer_id":75015175,"question_id":71694705,"body_markdown":"You should move the `plugins{}` block to top of your file and outside of your `buildscript{}` block \r\n\r\n\r\n    buildscript {\r\n        repositories {\r\n            google()\r\n        }\r\n    }\r\n    plugins {\r\n            id &#39;com.android.application&#39; version &#39;7.1.2&#39; apply false\r\n            id &#39;com.android.library&#39; version &#39;7.1.2&#39; apply false\r\n    }","title":"While adding Firebase SDK to Android Studio error : Could not find method plugins() for arguments","body":"<p>You should move the <code>plugins{}</code> block to top of your file and outside of your <code>buildscript{}</code> block</p>\n<pre><code>buildscript {\n    repositories {\n        google()\n    }\n}\nplugins {\n        id 'com.android.application' version '7.1.2' apply false\n        id 'com.android.library' version '7.1.2' apply false\n}\n</code></pre>\n"}],"owner":{"account_id":24760205,"reputation":1,"user_id":18644701,"display_name":"Ravi Sachdeva"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1880,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672904347,"creation_date":1648738288,"question_id":71694705,"body_markdown":"I am trying to add Firebase SDK to Android project. \r\n\r\n```groovy\r\nbuildscript {\r\n    repositories {\r\n        google()\r\n    }\r\n\r\n    plugins {\r\n        id &#39;com.android.application&#39; version &#39;7.1.2&#39; apply false\r\n        id &#39;com.android.library&#39; version &#39;7.1.2&#39; apply false\r\n    }\r\n\r\n    dependencies {\r\n        classpath &#39;com.google.gms:google-services:4.3.10&#39;\r\n    }\r\n}\r\n\r\nallprojects {\r\n    repositories {\r\n        google()  // Google&#39;s Maven repository\r\n    }\r\n}\r\n\r\ntask clean(type: Delete) {\r\n    delete rootProject.buildDir\r\n}\r\n```\r\n\r\nerror message: \r\n```\r\n&gt; Build file &#39;C:\\\\Users\\\\Admin1\\\\AndroidStudioProjects\\\\MyApplication\\\\build.gradle&#39; line: 7\r\n&gt; A problem occurred evaluating root project &#39;My Application&#39;.\r\n&gt; Could not find method plugins() for arguments \\[build_arjjpsftc7rcjw6ntcnbana8l$\\_run_closure1$\\_closure3@22dd2f7f\\] on object of type org.gradle.api.internal.initialization.DefaultScriptHandler.\r\n```","title":"While adding Firebase SDK to Android Studio error : Could not find method plugins() for arguments","body":"<p>I am trying to add Firebase SDK to Android project.</p>\n<pre><code>buildscript {\n    repositories {\n        google()\n    }\n\n    plugins {\n        id 'com.android.application' version '7.1.2' apply false\n        id 'com.android.library' version '7.1.2' apply false\n    }\n\n    dependencies {\n        classpath 'com.google.gms:google-services:4.3.10'\n    }\n}\n\nallprojects {\n    repositories {\n        google()  // Google's Maven repository\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n<p>error message:</p>\n<pre><code>&gt; Build file 'C:\\\\Users\\\\Admin1\\\\AndroidStudioProjects\\\\MyApplication\\\\build.gradle' line: 7\n&gt; A problem occurred evaluating root project 'My Application'.\n&gt; Could not find method plugins() for arguments \\[build_arjjpsftc7rcjw6ntcnbana8l$\\_run_closure1$\\_closure3@22dd2f7f\\] on object of type org.gradle.api.internal.initialization.DefaultScriptHandler.\n</code></pre>\n"},{"tags":["java","maven","java-11","java-17"],"answers":[{"tags":[],"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672904296,"creation_date":1672903936,"answer_id":75015119,"question_id":75015089,"body_markdown":"The version is only the major version. So you have to specify only 17 as version\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;  \r\n        &lt;java.version&gt;17&lt;java.version&gt;                                            \r\n    &lt;/properties&gt;    \r\n\r\n","title":"Building maven project fails on invalid target version 17.0.5","body":"<p>The version is only the major version. So you have to specify only 17 as version</p>\n<pre><code>&lt;properties&gt;\n    &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;  \n    &lt;java.version&gt;17&lt;java.version&gt;                                            \n&lt;/properties&gt;    \n</code></pre>\n"}],"owner":{"account_id":25464687,"reputation":1,"user_id":19263923,"display_name":"Ankeet"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":206,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672904296,"creation_date":1672903732,"question_id":75015089,"body_markdown":"I am upgrading application from Java 11 to Java 17.0.5\r\n\r\nIn my java project, I have set below properties\r\n\r\n    &lt;properties&gt;\r\n            &lt;maven.compiler.source&gt;17.0.5&lt;/maven.compiler.source&gt;\r\n            &lt;maven.compiler.target&gt;17.0.5&lt;/maven.compiler.target&gt;  \r\n          &lt;java.version&gt;17.0.5&lt;java.version&gt;                                            \r\n    &lt;/properties&gt;   \r\n    \r\n                                                                                                             \r\nOn building the project, it failed saying \r\n\r\n&gt; invalid target release 17.0.5\r\n\r\n`java -version` prints \r\n\r\n&gt; &quot;Java version 17.0.5&quot;\r\n\r\nand `mvn -version` prints \r\n\r\n&gt; Java 17.0.5\r\n\r\nPlease advise\r\n\r\n                                                                                  ","title":"Building maven project fails on invalid target version 17.0.5","body":"<p>I am upgrading application from Java 11 to Java 17.0.5</p>\n<p>In my java project, I have set below properties</p>\n<pre><code>&lt;properties&gt;\n        &lt;maven.compiler.source&gt;17.0.5&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17.0.5&lt;/maven.compiler.target&gt;  \n      &lt;java.version&gt;17.0.5&lt;java.version&gt;                                            \n&lt;/properties&gt;   \n\n                                                                                                         \n</code></pre>\n<p>On building the project, it failed saying</p>\n<blockquote>\n<p>invalid target release 17.0.5</p>\n</blockquote>\n<p><code>java -version</code> prints</p>\n<blockquote>\n<p>&quot;Java version 17.0.5&quot;</p>\n</blockquote>\n<p>and <code>mvn -version</code> prints</p>\n<blockquote>\n<p>Java 17.0.5</p>\n</blockquote>\n<p>Please advise</p>\n"},{"tags":["java","spring","spring-boot","spring-aop"],"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1672902326,"post_id":75013506,"comment_id":132378591,"body_markdown":"Please learn [how to ask a question on SO](https://stackoverflow.com/help/how-to-ask) and provide a [minimal, complete, and verifiable example](https://stackoverflow.com/help/mcve). Thank you.","body":"Please learn <a href=\"https://stackoverflow.com/help/how-to-ask\">how to ask a question on SO</a> and provide a <a href=\"https://stackoverflow.com/help/mcve\">minimal, complete, and verifiable example</a>. Thank you."}],"answers":[{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1672903443,"creation_date":1672903443,"answer_id":75015039,"question_id":75013506,"body_markdown":"Your question is interesting, but hardly a good fit for Stack Overflow. This is a place to ask about your own programming problems, not one to inquire and speculate about the motives of third-party developers&#39; design decisions.\r\n\r\nHaving said that, I am still in the holiday season spirit for now, trying to throw in a few thoughts:\r\n  * A weak hash map is useful when creating a cache in which, if no (strong) reference to the key exists anymore, the map entry (key and value) can be removed. I.e., a garbage collection can reclaim the memory for both the key and and the (often big and expensive) value. See [this tutorial](https://www.baeldung.com/java-weakhashmap) for a comprehensive explanation with examples.\r\n  * You want to synchronise on objects or data structures which are not inherently thread-safe. In this case, it looks as if the developer wants to avoid the same class from being validated concurrently, before adding it to the cache.\r\n\r\nPlease avoid asking lots of follow-up questions, because SO is not a discussion forum. Maybe you better approach the Spring AOP team with such questions.\r\n\r\nBTW, here is a [perma-link to the section of code in question][1], and here is one to the [Git blame/annotate version][2], in which you can see that the `synchronized` section is 14 years old. The same is true for the weak hash map usage, if you follow  the merely structural changes in the code back to the original implementation.\r\n\r\n  [1]: https://github.com/spring-projects/spring-framework/blob/b71db12c43a1a09fa2fb49bf88ce8f00e017511b/spring-aop/src/main/java/org/springframework/aop/framework/CglibAopProxy.java#L251-L261\r\n  [2]: https://github.com/spring-projects/spring-framework/blame/b71db12c43a1a09fa2fb49bf88ce8f00e017511b/spring-aop/src/main/java/org/springframework/aop/framework/CglibAopProxy.java#L251","title":"Why CglibAopProxy use WeakHashMap as a synchronized lock?","body":"<p>Your question is interesting, but hardly a good fit for Stack Overflow. This is a place to ask about your own programming problems, not one to inquire and speculate about the motives of third-party developers' design decisions.</p>\n<p>Having said that, I am still in the holiday season spirit for now, trying to throw in a few thoughts:</p>\n<ul>\n<li>A weak hash map is useful when creating a cache in which, if no (strong) reference to the key exists anymore, the map entry (key and value) can be removed. I.e., a garbage collection can reclaim the memory for both the key and and the (often big and expensive) value. See <a href=\"https://www.baeldung.com/java-weakhashmap\" rel=\"nofollow noreferrer\">this tutorial</a> for a comprehensive explanation with examples.</li>\n<li>You want to synchronise on objects or data structures which are not inherently thread-safe. In this case, it looks as if the developer wants to avoid the same class from being validated concurrently, before adding it to the cache.</li>\n</ul>\n<p>Please avoid asking lots of follow-up questions, because SO is not a discussion forum. Maybe you better approach the Spring AOP team with such questions.</p>\n<p>BTW, here is a <a href=\"https://github.com/spring-projects/spring-framework/blob/b71db12c43a1a09fa2fb49bf88ce8f00e017511b/spring-aop/src/main/java/org/springframework/aop/framework/CglibAopProxy.java#L251-L261\" rel=\"nofollow noreferrer\">perma-link to the section of code in question</a>, and here is one to the <a href=\"https://github.com/spring-projects/spring-framework/blame/b71db12c43a1a09fa2fb49bf88ce8f00e017511b/spring-aop/src/main/java/org/springframework/aop/framework/CglibAopProxy.java#L251\" rel=\"nofollow noreferrer\">Git blame/annotate version</a>, in which you can see that the <code>synchronized</code> section is 14 years old. The same is true for the weak hash map usage, if you follow  the merely structural changes in the code back to the original implementation.</p>\n"}],"owner":{"account_id":20937647,"reputation":1,"user_id":15382495,"display_name":"Kusch"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1672903831,"creation_date":1672888533,"question_id":75013506,"body_markdown":"`spring-aop 6.0.2`\r\n\r\nI&#39;m confused by the following CglibAopProxy class code:\r\n\r\n```java\r\nprivate static final Map&lt;Class&lt;?&gt;, Boolean&gt; validatedClasses = new WeakHashMap&lt;&gt;();\r\n\r\n// ...\r\n\r\nprivate void validateClassIfNecessary(Class&lt;?&gt; proxySuperClass, @Nullable ClassLoader proxyClassLoader) {\r\n    if (!this.advised.isOptimize() &amp;&amp; logger.isInfoEnabled()) {\r\n\r\n        // Why is &#39;validatedClasses&#39; a WeakHashMap?\r\n\r\n        synchronized (validatedClasses) {\r\n            if (!validatedClasses.containsKey(proxySuperClass)) {\r\n                doValidateClass(proxySuperClass, proxyClassLoader,\r\n                        ClassUtils.getAllInterfacesForClassAsSet(proxySuperClass));\r\n                validatedClasses.put(proxySuperClass, Boolean.TRUE);\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n// ...\r\n```\r\n\r\nI tried searching the Internet for related articles, but nothing solved my confusion.","title":"Why CglibAopProxy use WeakHashMap as a synchronized lock?","body":"<p><code>spring-aop 6.0.2</code></p>\n<p>I'm confused by the following CglibAopProxy class code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static final Map&lt;Class&lt;?&gt;, Boolean&gt; validatedClasses = new WeakHashMap&lt;&gt;();\n\n// ...\n\nprivate void validateClassIfNecessary(Class&lt;?&gt; proxySuperClass, @Nullable ClassLoader proxyClassLoader) {\n    if (!this.advised.isOptimize() &amp;&amp; logger.isInfoEnabled()) {\n\n        // Why is 'validatedClasses' a WeakHashMap?\n\n        synchronized (validatedClasses) {\n            if (!validatedClasses.containsKey(proxySuperClass)) {\n                doValidateClass(proxySuperClass, proxyClassLoader,\n                        ClassUtils.getAllInterfacesForClassAsSet(proxySuperClass));\n                validatedClasses.put(proxySuperClass, Boolean.TRUE);\n            }\n        }\n    }\n}\n\n// ...\n</code></pre>\n<p>I tried searching the Internet for related articles, but nothing solved my confusion.</p>\n"},{"tags":["java","excel","quote"],"answers":[{"tags":[],"owner":{"account_id":9573972,"reputation":1131,"user_id":7110786,"display_name":"Saif Ahmad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1672903801,"creation_date":1672903801,"answer_id":75015100,"question_id":75014979,"body_markdown":"The better way is to use a prepared statement so that you don&#39;t have to worry about handling special characters.\r\n\r\n        String message = &quot;Let&#39;s hangout somewhere.&quot;;\r\n        String query = &quot;Select * from Messages Where message=?&quot;;\r\n        Fillo fillo = new Fillo();\r\n        Connection connection = fillo.getConnection(&quot;&lt;excel_file_path&gt;&quot;);\r\n        PreparedStatement preparedStatement = connection.prepareStatement(query);\r\n        preparedStatement.setString(1, message);\r\n        ResultSet resultSet = preparedStatement.executeQuery();\r\n\r\nIf for some reason you can&#39;t use `PreparedStatement` then you use double single quotes for escaping it.\r\n\r\n        String message = &quot;Let&#39;&#39;s hangout somewhere.&quot;;\r\n        String query = &quot;Select * from Messages Where message=&#39;&quot; + message + &quot;&#39;&quot;;\r\n        Fillo fillo = new Fillo();\r\n        Connection connection = fillo.getConnection(&quot;&lt;excel_file_path&gt;&quot;);\r\n        ResultSet resultSet = connection.executeQuery(query);\r\n\r\n","title":"Fillo library shows Invalid query, if the query has &#39; single quote in where condition value or while updating any cell","body":"<p>The better way is to use a prepared statement so that you don't have to worry about handling special characters.</p>\n<pre><code>    String message = &quot;Let's hangout somewhere.&quot;;\n    String query = &quot;Select * from Messages Where message=?&quot;;\n    Fillo fillo = new Fillo();\n    Connection connection = fillo.getConnection(&quot;&lt;excel_file_path&gt;&quot;);\n    PreparedStatement preparedStatement = connection.prepareStatement(query);\n    preparedStatement.setString(1, message);\n    ResultSet resultSet = preparedStatement.executeQuery();\n</code></pre>\n<p>If for some reason you can't use <code>PreparedStatement</code> then you use double single quotes for escaping it.</p>\n<pre><code>    String message = &quot;Let''s hangout somewhere.&quot;;\n    String query = &quot;Select * from Messages Where message='&quot; + message + &quot;'&quot;;\n    Fillo fillo = new Fillo();\n    Connection connection = fillo.getConnection(&quot;&lt;excel_file_path&gt;&quot;);\n    ResultSet resultSet = connection.executeQuery(query);\n</code></pre>\n"}],"owner":{"account_id":9882624,"reputation":3,"user_id":8659514,"display_name":"Akshay_Nayak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75015100,"answer_count":1,"score":0,"last_activity_date":1672903801,"creation_date":1672903102,"question_id":75014979,"body_markdown":"**Running below query:**\r\n\r\n    String query = &quot;Select * from Messages Where message=&#39;Let&#39;s hangout somewhere.&#39;&quot;;\r\n\r\nAbove query gives error saying, Invalid query.\r\n\r\nPlease let me know if any of you guys have came around this and share some fix or any work arounds.\r\n\r\n\r\nMaven dependency :\r\n       \r\n    &lt;!-- https://mvnrepository.com/artifact/com.codoid.products/fillo --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.codoid.products&lt;/groupId&gt;\r\n        &lt;artifactId&gt;fillo&lt;/artifactId&gt;\r\n        &lt;version&gt;1.22&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nhttps://codoid.com/products/fillo/\r\n\r\nThanks in advance.\r\n\r\nOn removing the single quote &#39; from &quot;Let&#39;s hangout somewhere.&quot; which makes it: &quot;Lets hangout somewhere.&quot; and this is working completely fine.\r\n\r\nTried escaping the &#39; single quote, but still getting same error.\r\n\r\n","title":"Fillo library shows Invalid query, if the query has &#39; single quote in where condition value or while updating any cell","body":"<p><strong>Running below query:</strong></p>\n<pre><code>String query = &quot;Select * from Messages Where message='Let's hangout somewhere.'&quot;;\n</code></pre>\n<p>Above query gives error saying, Invalid query.</p>\n<p>Please let me know if any of you guys have came around this and share some fix or any work arounds.</p>\n<p>Maven dependency :</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/com.codoid.products/fillo --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.codoid.products&lt;/groupId&gt;\n    &lt;artifactId&gt;fillo&lt;/artifactId&gt;\n    &lt;version&gt;1.22&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><a href=\"https://codoid.com/products/fillo/\" rel=\"nofollow noreferrer\">https://codoid.com/products/fillo/</a></p>\n<p>Thanks in advance.</p>\n<p>On removing the single quote ' from &quot;Let's hangout somewhere.&quot; which makes it: &quot;Lets hangout somewhere.&quot; and this is working completely fine.</p>\n<p>Tried escaping the ' single quote, but still getting same error.</p>\n"},{"tags":["java","spring-boot","java-17"],"answers":[{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1672903773,"creation_date":1672903773,"answer_id":75015097,"question_id":75014865,"body_markdown":"The option `--XX:DumpLoadedClassList=cds.jsa` does **not** create a CDS archive - it is one step in creating a static CDS Archive File.\r\n\r\nTo create a Dynamic CDS Archive file you must use\r\n\r\n    java -Xlog:cds -XX:ArchiveClassesAtExit=cds.jsa -jar app-0.0.1-SNAPSHOT.jar\r\n\r\nSource: https://docs.oracle.com/en/java/javase/17/docs/specs/man/java.html#creating-cds-archives","title":"Dynamic Class Data Sharing not using the archive file","body":"<p>The option <code>--XX:DumpLoadedClassList=cds.jsa</code> does <strong>not</strong> create a CDS archive - it is one step in creating a static CDS Archive File.</p>\n<p>To create a Dynamic CDS Archive file you must use</p>\n<pre><code>java -Xlog:cds -XX:ArchiveClassesAtExit=cds.jsa -jar app-0.0.1-SNAPSHOT.jar\n</code></pre>\n<p>Source: <a href=\"https://docs.oracle.com/en/java/javase/17/docs/specs/man/java.html#creating-cds-archives\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/17/docs/specs/man/java.html#creating-cds-archives</a></p>\n"}],"owner":{"account_id":1202593,"reputation":9569,"user_id":1173495,"accept_rate":46,"display_name":"SANN3"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75015097,"answer_count":1,"score":0,"last_activity_date":1672903773,"creation_date":1672902279,"question_id":75014865,"body_markdown":"We are trying to use Dynamic Class Data Sharing (Dynamic CDS) with our spring boot application.\r\n\r\nCreated the CDS archive using the following command\r\n\r\n    java -Xlog:cds -XX:DumpLoadedClassList=cds.jsa -jar app-0.0.1-SNAPSHOT.jar\r\n\r\nAnd trying to use the archive using the following command\r\n\r\n    java -Xlog:cds -XX:SharedArchiveFile=cds.jsa -jar app-0.0.1-SNAPSHOT.jar\r\n\r\nBut getting the following error in the beginning of the application startup\r\n\r\n    [0.009s][info][cds] trying to map cds.jsa\r\n    [0.009s][info][cds] Opened archive cds.jsa.\r\n    [0.009s][info][cds] _magic expected: 0xf00baba2\r\n    [0.009s][info][cds]          actual: 0x4f4e2023\r\n    [0.009s][info][cds] UseSharedSpaces: The shared archive file has a bad magic number.\r\n    [0.009s][info][cds] UseSharedSpaces: Unable to map shared spaces\r\n\r\n\r\nopenjdk version &quot;17&quot; 2021-09-14 (build 17+35-2724)\r\nSpringboot 2.6.3","title":"Dynamic Class Data Sharing not using the archive file","body":"<p>We are trying to use Dynamic Class Data Sharing (Dynamic CDS) with our spring boot application.</p>\n<p>Created the CDS archive using the following command</p>\n<pre><code>java -Xlog:cds -XX:DumpLoadedClassList=cds.jsa -jar app-0.0.1-SNAPSHOT.jar\n</code></pre>\n<p>And trying to use the archive using the following command</p>\n<pre><code>java -Xlog:cds -XX:SharedArchiveFile=cds.jsa -jar app-0.0.1-SNAPSHOT.jar\n</code></pre>\n<p>But getting the following error in the beginning of the application startup</p>\n<pre><code>[0.009s][info][cds] trying to map cds.jsa\n[0.009s][info][cds] Opened archive cds.jsa.\n[0.009s][info][cds] _magic expected: 0xf00baba2\n[0.009s][info][cds]          actual: 0x4f4e2023\n[0.009s][info][cds] UseSharedSpaces: The shared archive file has a bad magic number.\n[0.009s][info][cds] UseSharedSpaces: Unable to map shared spaces\n</code></pre>\n<p>openjdk version &quot;17&quot; 2021-09-14 (build 17+35-2724)\nSpringboot 2.6.3</p>\n"},{"tags":["java","google-api","google-drive-api"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1672884236,"post_id":75012605,"comment_id":132375776,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":26135606,"reputation":11,"user_id":19825651,"display_name":"JRC"},"score":0,"creation_date":1672901074,"post_id":75012605,"comment_id":132378303,"body_markdown":"Also google api only allows you to read the file meta-data but does not allow you to access the file content.","body":"Also google api only allows you to read the file meta-data but does not allow you to access the file content."}],"answers":[{"tags":[],"owner":{"account_id":2066403,"reputation":109410,"user_id":1841839,"accept_rate":71,"display_name":"Linda Lawton - DaImTo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672903224,"creation_date":1672903224,"answer_id":75015001,"question_id":75012605,"body_markdown":"The Google drive api is a file storage api for the most part.   If you want to edit the contents of a file for example google docs or google sheets you need to use their respective apis.\r\n\r\nHowever if this is for example a raw text file minetype `text/plain`.  Then it is possible to download the file into `memory` (not save to disk) then modify the text data within it and reupload it.   \r\n\r\nThat is the only thing you can do as the api doesn&#39;t have a patch method for the file data there is only upload and download options.  To modify you would probably need to be able to edit only sections of it.\r\n\r\n\r\n\r\n\r\n\r\n","title":"Directly update file content through Google Drive API (V3)","body":"<p>The Google drive api is a file storage api for the most part.   If you want to edit the contents of a file for example google docs or google sheets you need to use their respective apis.</p>\n<p>However if this is for example a raw text file minetype <code>text/plain</code>.  Then it is possible to download the file into <code>memory</code> (not save to disk) then modify the text data within it and reupload it.</p>\n<p>That is the only thing you can do as the api doesn't have a patch method for the file data there is only upload and download options.  To modify you would probably need to be able to edit only sections of it.</p>\n"}],"owner":{"account_id":26135606,"reputation":11,"user_id":19825651,"display_name":"JRC"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":185,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1672903283,"creation_date":1672877256,"question_id":75012605,"body_markdown":"this is more like a confirmation of my personal finding rather than asking for solution.\r\nSo I would like to confirm that there is no way you can directly read, write/update the content of your files stored in google drive through the google drive API. \r\n\r\n(Note: I am aware that google docs api exists, but the file types I would like to modify is just simple text file (.txt), config file (.json) and excel (.xlsx, .xlsm))\r\n\r\nIf you would like to do so, the only way is to download the file and save it locally, read/modify the file locally. And to update the file in drive, you then have to, after modifying the file locally, upload the modified file back to google drive and delete the original one.\r\n\r\nCan anyone provide a &quot;yes&quot; or &quot;no&quot; to the above statement. And if &quot;no&quot;, please provide any information (a link or a code snippet) about an example that successfully updates the file in Google drive through provided Google drive API.","title":"Directly update file content through Google Drive API (V3)","body":"<p>this is more like a confirmation of my personal finding rather than asking for solution.\nSo I would like to confirm that there is no way you can directly read, write/update the content of your files stored in google drive through the google drive API.</p>\n<p>(Note: I am aware that google docs api exists, but the file types I would like to modify is just simple text file (.txt), config file (.json) and excel (.xlsx, .xlsm))</p>\n<p>If you would like to do so, the only way is to download the file and save it locally, read/modify the file locally. And to update the file in drive, you then have to, after modifying the file locally, upload the modified file back to google drive and delete the original one.</p>\n<p>Can anyone provide a &quot;yes&quot; or &quot;no&quot; to the above statement. And if &quot;no&quot;, please provide any information (a link or a code snippet) about an example that successfully updates the file in Google drive through provided Google drive API.</p>\n"},{"tags":["java","spring","performance"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1672902306,"post_id":75014264,"comment_id":132378582,"body_markdown":"post construct is called before AOP processing has begun, so trying to intercept this in the startup cycle of the bean won&#39;t work. Use JFR events instead to investigate.","body":"post construct is called before AOP processing has begun, so trying to intercept this in the startup cycle of the bean won&#39;t work. Use JFR events instead to investigate."}],"answers":[{"tags":[],"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672903184,"creation_date":1672903184,"answer_id":75014993,"question_id":75014264,"body_markdown":"Don&#39;t do this yourself either use a proper profiler to get the results or start with using the [Java Flight Recorder] for which Spring has support out-of-the-box. \r\n\r\nSpring will record startup metrics as JFR events (see [the documentation][2]) and you can record these to a file and investigate that file with [Java Mission Control][3].\r\n\r\nSpring will record all sorts of events for different parts of the container and bean lifecycle, see [the documentation][4] for a list. \r\n\r\nTo enable you need to register the [`ApplicationStartup`][5] and pass that to the `ApplicationContext` you are using. To record to the flight recorder you will need to create the `FlightRecorderApplicationStartup`. \r\n\r\nAssuming you are using Spring Boot this is trivial to do, you pass it to the `SpringApplication` before running it. \r\n\r\n```java\r\n@SpringBootApplication\r\npublic class MyApplication {\r\n\r\n  public static void main(String[] args) throws Exception {\r\n    var app = new SpringApplication(MyApplication.class);\r\n    app.setApplicationStartup(new FlightRecorderApplicationStartup());\r\n    app.run(args);\r\n  }\r\n}\r\n```\r\n\r\nNow when starting you need to enable the flight recorder and the recordings. \r\n\r\n```shell\r\njava -XX:+FlightRecorder -XX:StartFlightRecording=duration=30s,filename=myrecording.jfr -jar your-app.jar\r\n```\r\n\r\nThis will record events for 30s and after that write a file called `myrecording.jfr`, which you can then open in Java Mission Control and see how long certain parts took for a bean or all beans etc. If you app takes more then 30s to startup increase the `duration` parameter to what you need. \r\n\r\nIf this isn&#39;t enough I would strongly suggest to use a proper profiler instead of trying to work around this with AOP as when adding AOP it will influence the time to start your application and beans (due to additional proxies being created, or you must use load- or compile time weaving). \r\n\r\n[1]: https://docs.oracle.com/javacomponents/jmc-5-4/jfr-runtime-guide/about.htm#JFRUH170\r\n[2]: https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#context-functionality-startup\r\n[3]: https://www.oracle.com/java/technologies/jdk-mission-control.html\r\n[4]: https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#core.appendix.application-startup-steps\r\n[5]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/metrics/ApplicationStartup.html\r\n[6]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/metrics/jfr/FlightRecorderApplicationStartup.html","title":"How to Estimate all post contruct time in spring Application","body":"<p>Don't do this yourself either use a proper profiler to get the results or start with using the [Java Flight Recorder] for which Spring has support out-of-the-box.</p>\n<p>Spring will record startup metrics as JFR events (see <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#context-functionality-startup\" rel=\"nofollow noreferrer\">the documentation</a>) and you can record these to a file and investigate that file with <a href=\"https://www.oracle.com/java/technologies/jdk-mission-control.html\" rel=\"nofollow noreferrer\">Java Mission Control</a>.</p>\n<p>Spring will record all sorts of events for different parts of the container and bean lifecycle, see <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#core.appendix.application-startup-steps\" rel=\"nofollow noreferrer\">the documentation</a> for a list.</p>\n<p>To enable you need to register the <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/metrics/ApplicationStartup.html\" rel=\"nofollow noreferrer\"><code>ApplicationStartup</code></a> and pass that to the <code>ApplicationContext</code> you are using. To record to the flight recorder you will need to create the <code>FlightRecorderApplicationStartup</code>.</p>\n<p>Assuming you are using Spring Boot this is trivial to do, you pass it to the <code>SpringApplication</code> before running it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\npublic class MyApplication {\n\n  public static void main(String[] args) throws Exception {\n    var app = new SpringApplication(MyApplication.class);\n    app.setApplicationStartup(new FlightRecorderApplicationStartup());\n    app.run(args);\n  }\n}\n</code></pre>\n<p>Now when starting you need to enable the flight recorder and the recordings.</p>\n<pre class=\"lang-bash prettyprint-override\"><code>java -XX:+FlightRecorder -XX:StartFlightRecording=duration=30s,filename=myrecording.jfr -jar your-app.jar\n</code></pre>\n<p>This will record events for 30s and after that write a file called <code>myrecording.jfr</code>, which you can then open in Java Mission Control and see how long certain parts took for a bean or all beans etc. If you app takes more then 30s to startup increase the <code>duration</code> parameter to what you need.</p>\n<p>If this isn't enough I would strongly suggest to use a proper profiler instead of trying to work around this with AOP as when adding AOP it will influence the time to start your application and beans (due to additional proxies being created, or you must use load- or compile time weaving).</p>\n"}],"owner":{"account_id":1551684,"reputation":1024,"user_id":1443928,"accept_rate":93,"display_name":"Hard Worker"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672903269,"creation_date":1672897161,"question_id":75014264,"body_markdown":"I have a Spring application, and Im trying to understand how long all the PostConruct takes.\r\n\r\nbut this method isn&#39;t getting called, what am I missing ?\r\n\r\n\r\n    @Component\r\n    @Aspect\r\n    @Order(1)\r\n    public class InspectorTime {\r\n    \r\n    \r\n    \t@Around(&quot;@within(javax.annotation.PostConstruct)&quot;)\r\n    \tpublic void beforePostConstruct(ProceedingJoinPoint joinPoint) throws Throwable {\r\n    \t\tLOG.info(&quot;Before PostContract:{}&quot;, joinPoint.getSignature().getDeclaringType().toString());\r\n    \t\tStopWatch stopWatch = new StopWatch();\r\n    \t\tstopWatch.start();\r\n    \t\tjoinPoint.proceed(joinPoint.getArgs());\r\n    \t\tstopWatch.stop();\r\n    \t\tLOG.info(&quot;After PostContract:{}&quot;, joinPoint.getSignature().getDeclaringType().toString() + &quot;, total time&quot; + stopWatch.toString());\r\n    \t}\r\n    \r\n    }\r\n\r\nI have followed, these solutions\r\nhttps://stackoverflow.com/questions/42270469/before-postconstruct-spring-aop-ineterception\r\nbut they also estimate the &quot;Autowire&quot; timing.\r\nI need to estimate the postContruct only.\r\n\r\n\r\n\r\nI also tried this Code\r\n\r\n\t\r\n\r\n    @Around(&quot;@annotation(javax.annotation.PostConstruct)&quot;)\r\n    \tpublic Object logExecutionTime(ProceedingJoinPoint joinPoint) throws Throwable {\r\n    \t\tlong start = System.currentTimeMillis();\r\n    \t\tObject proceed = joinPoint.proceed();\r\n    \t\tlong executionTime = System.currentTimeMillis() - start;\r\n    \t\tlogger.info(&quot;{}.{} executed in {} ms&quot;, joinPoint.getSignature().getDeclaringTypeName(),\r\n    \t\t\t\tjoinPoint.getSignature().getName(), executionTime);\r\n    \t\treturn proceed;\r\n    \t}\r\n\r\nBut its making my other beans to failed to instantiate: \r\n\r\n    Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.redis.core.RedisTemplate]: Factory method &#39;redisTemplate&#39; threw exception; nested exception is java.lang.NullPointerException\r\n\r\n","title":"How to Estimate all post contruct time in spring Application","body":"<p>I have a Spring application, and Im trying to understand how long all the PostConruct takes.</p>\n<p>but this method isn't getting called, what am I missing ?</p>\n<pre><code>@Component\n@Aspect\n@Order(1)\npublic class InspectorTime {\n\n\n    @Around(&quot;@within(javax.annotation.PostConstruct)&quot;)\n    public void beforePostConstruct(ProceedingJoinPoint joinPoint) throws Throwable {\n        LOG.info(&quot;Before PostContract:{}&quot;, joinPoint.getSignature().getDeclaringType().toString());\n        StopWatch stopWatch = new StopWatch();\n        stopWatch.start();\n        joinPoint.proceed(joinPoint.getArgs());\n        stopWatch.stop();\n        LOG.info(&quot;After PostContract:{}&quot;, joinPoint.getSignature().getDeclaringType().toString() + &quot;, total time&quot; + stopWatch.toString());\n    }\n\n}\n</code></pre>\n<p>I have followed, these solutions\n<a href=\"https://stackoverflow.com/questions/42270469/before-postconstruct-spring-aop-ineterception\">@Before @PostConstruct Spring AOP ineterception</a>\nbut they also estimate the &quot;Autowire&quot; timing.\nI need to estimate the postContruct only.</p>\n<p>I also tried this Code</p>\n<pre><code>@Around(&quot;@annotation(javax.annotation.PostConstruct)&quot;)\n    public Object logExecutionTime(ProceedingJoinPoint joinPoint) throws Throwable {\n        long start = System.currentTimeMillis();\n        Object proceed = joinPoint.proceed();\n        long executionTime = System.currentTimeMillis() - start;\n        logger.info(&quot;{}.{} executed in {} ms&quot;, joinPoint.getSignature().getDeclaringTypeName(),\n                joinPoint.getSignature().getName(), executionTime);\n        return proceed;\n    }\n</code></pre>\n<p>But its making my other beans to failed to instantiate:</p>\n<pre><code>Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.redis.core.RedisTemplate]: Factory method 'redisTemplate' threw exception; nested exception is java.lang.NullPointerException\n</code></pre>\n"},{"tags":["java","xml","xpath","xsd"],"answers":[{"tags":[],"owner":{"account_id":2012584,"reputation":4731,"user_id":1800695,"accept_rate":93,"display_name":"Mark Veenstra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1380009235,"creation_date":1380009235,"answer_id":18975910,"question_id":18973452,"body_markdown":"If you trying to get a XPath working on a XSD schema, make sure you declare the namespace from the XSD `xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;`.\r\n\r\nIf you don&#39;t want to use namespaces you can use XPath as follows:\r\n\r\n    //*[local-name()=&#39;element&#39;]\r\n    /*[local-name()=&#39;schema&#39;]/*[local-name()=&#39;element&#39;]","title":"Xpath expression to search nodes not relative to root node works for XML file but fails for XSD file","body":"<p>If you trying to get a XPath working on a XSD schema, make sure you declare the namespace from the XSD <code>xmlns:xs=\"http://www.w3.org/2001/XMLSchema\"</code>.</p>\n\n<p>If you don't want to use namespaces you can use XPath as follows:</p>\n\n<pre><code>//*[local-name()='element']\n/*[local-name()='schema']/*[local-name()='element']\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18443,"reputation":1196,"user_id":42230,"accept_rate":56,"display_name":"Martin Bring"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672902831,"creation_date":1672902831,"answer_id":75014939,"question_id":18973452,"body_markdown":"Nine years later :)\r\n\r\nCould it be that you need to set `setNamespaceAware(true);`on the DocumentBuilderFactory instance?\r\n\r\nI&#39;ve read that the parser allowed an element to be named with o colon and not treat it as a namespace prefix in the early days, and default is false.\r\n\r\nBut if so, then I don&#39;t understand how &quot;/schema/element&quot; can work... :)","title":"Xpath expression to search nodes not relative to root node works for XML file but fails for XSD file","body":"<p>Nine years later :)</p>\n<p>Could it be that you need to set <code>setNamespaceAware(true);</code>on the DocumentBuilderFactory instance?</p>\n<p>I've read that the parser allowed an element to be named with o colon and not treat it as a namespace prefix in the early days, and default is false.</p>\n<p>But if so, then I don't understand how &quot;/schema/element&quot; can work... :)</p>\n"}],"owner":{"account_id":3344014,"reputation":91,"user_id":2809542,"display_name":"prat8789"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":996,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1672902831,"creation_date":1379999847,"question_id":18973452,"body_markdown":"This is my XML (wls.xml)\r\n\r\n    &lt;?xml version=&quot;1.0&quot;?&gt;\r\n        &lt;note&gt;\r\n        &lt;to&gt;Tove&lt;/to&gt;\r\n        &lt;from&gt;Jani&lt;/from&gt;\r\n        &lt;heading&gt;Reminder&lt;/heading&gt;\r\n        &lt;body&gt;Don&#39;t forget me this weekend!&lt;/body&gt;\r\n    &lt;/note&gt;\r\n    \r\n\r\nThis the XSD (wls.xsd)\r\n\r\n    &lt;?xml version=&quot;1.0&quot;?&gt;\r\n    &lt;xs:schema xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;&gt;\r\n\r\n    &lt;xs:element name=&quot;note&quot;&gt;\r\n         &lt;xs:complexType&gt;\r\n           &lt;xs:sequence&gt;\r\n             &lt;xs:element name=&quot;to&quot; type=&quot;xs:string&quot;/&gt;\r\n             &lt;xs:element name=&quot;from&quot; type=&quot;xs:string&quot;/&gt;\r\n             &lt;xs:element name=&quot;heading&quot; type=&quot;xs:string&quot;/&gt;\r\n             &lt;xs:element name=&quot;body&quot; type=&quot;xs:string&quot;/&gt;\r\n           &lt;/xs:sequence&gt;\r\n        &lt;/xs:complexType&gt;\r\n   &lt;/xs:element&gt;\r\n\r\n&lt;/xs:schema&gt;\r\n    \r\n\r\n\r\nand this the java class i used to parse the above files using Xpath\r\n\r\n\r\n    public static void test1()\r\n\t{\r\n\t\tString ipFile=&quot;w3s.xml&quot;;//wls.xsd\r\n                \r\n\t\tNode fetchNode=null;\r\n\r\n\t\tFileInputStream fileip;\r\n\t\ttry {\r\n\t\t\tfileip = new FileInputStream(new File(ipFile));\r\n\t\t\t\r\n\t\t\tDocumentBuilder builder =   DocumentBuilderFactory.newInstance().newDocumentBuilder();\t\t\r\n\t\t\tDocument xmlDocument = builder.parse(fileip);\r\n\t\t\t\r\n\t\t\tSystem.out.println(xmlDocument.getDocumentElement().getNodeName());\r\n\t\t\tSystem.out.println(xmlDocument.getDocumentElement().getLocalName());\r\n\t\t\tevalXpath(xmlDocument,&quot;//xs:element&quot;);//FAILS\r\n\t\t\tevalXpath(xmlDocument,&quot;//element&quot;);//FAILS\r\n\t\t\tevalXpath(xmlDocument,&quot;/schema/element&quot;);//WORKS\r\n\t\t\tevalXpath(xmlDocument,&quot;/xs:schema/xs:element&quot;);//FAILS\r\n\t\t\tevalXpath(xmlDocument,&quot;//heading&quot;);//FAILS\r\n\t\t\t\r\n\t\t\r\n\t\t\t\r\n\t\t} catch (FileNotFoundException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t} catch (SAXException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t} catch (IOException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t} catch (ParserConfigurationException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}       \r\n\t}\r\n\t\r\n\t\r\n\tpublic static void evalXpath(Document xmlDocument,String expression)\r\n\t{\r\n\t\tNode fetchNode=null;\r\n\t\tNodeList fetchNodeList=null;\r\n\t\t//String expression=null;\r\n\t\ttry\r\n\t\t{\r\n\t\t\tXPath xPath =  XPathFactory.newInstance().newXPath(); \r\n\t\t\t\r\n\t\t\tfetchNode = (Node) xPath.compile(expression).evaluate(xmlDocument, XPathConstants.NODE);\r\n\t\t\tSystem.out.println(fetchNode);\r\n\t\t\t\r\n\t\t\tfetchNodeList = (NodeList) xPath.compile(expression).evaluate(xmlDocument, XPathConstants.NODESET);\r\n\t\t\tSystem.out.println(fetchNodeList.getLength());\r\n\t\t}\r\n\t\tcatch (XPathExpressionException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}    \r\n\t}\r\n\t\r\n    }\r\n\r\n\r\nThe issue when I parse the XML file and run the expression of the type &#39;\\\\ElemName&#39; it works fine and fetches the node. Not then I do the same for XSD file it returns NULL. \r\nFor XSD I need to sue    &#39;\\RootNode\\IntermediateNode\\....\\ReqdNode&#39;\r\nI have tried this with name different XML and XSD, just attaching these short files for illustration purpose. \r\n\r\nIssue2\r\nAlso there is one more issue:\r\nsay if I have an element &#39;xs:schema&#39; and I need to get only the local name part (without namespace prefix) like &#39;schema&#39;, how can I do it? I have tried the getLocalName() but it doesn&#39;t work. \r\n\r\n(I am using jdk6 if you need to know)\r\n\r\nPlease provide a resolution for atleast my first issue.\r\n\r\nThanks in advance.\r\n","title":"Xpath expression to search nodes not relative to root node works for XML file but fails for XSD file","body":"<p>This is my XML (wls.xml)</p>\n\n<pre><code>&lt;?xml version=\"1.0\"?&gt;\n    &lt;note&gt;\n    &lt;to&gt;Tove&lt;/to&gt;\n    &lt;from&gt;Jani&lt;/from&gt;\n    &lt;heading&gt;Reminder&lt;/heading&gt;\n    &lt;body&gt;Don't forget me this weekend!&lt;/body&gt;\n&lt;/note&gt;\n</code></pre>\n\n<p>This the XSD (wls.xsd)</p>\n\n<pre><code>&lt;?xml version=\"1.0\"?&gt;\n&lt;xs:schema xmlns:xs=\"http://www.w3.org/2001/XMLSchema\"&gt;\n\n&lt;xs:element name=\"note\"&gt;\n     &lt;xs:complexType&gt;\n       &lt;xs:sequence&gt;\n         &lt;xs:element name=\"to\" type=\"xs:string\"/&gt;\n         &lt;xs:element name=\"from\" type=\"xs:string\"/&gt;\n         &lt;xs:element name=\"heading\" type=\"xs:string\"/&gt;\n         &lt;xs:element name=\"body\" type=\"xs:string\"/&gt;\n       &lt;/xs:sequence&gt;\n    &lt;/xs:complexType&gt;\n</code></pre>\n\n<p></p>\n\n<p></p>\n\n<p>and this the java class i used to parse the above files using Xpath</p>\n\n<pre><code>public static void test1()\n{\n    String ipFile=\"w3s.xml\";//wls.xsd\n\n    Node fetchNode=null;\n\n    FileInputStream fileip;\n    try {\n        fileip = new FileInputStream(new File(ipFile));\n\n        DocumentBuilder builder =   DocumentBuilderFactory.newInstance().newDocumentBuilder();      \n        Document xmlDocument = builder.parse(fileip);\n\n        System.out.println(xmlDocument.getDocumentElement().getNodeName());\n        System.out.println(xmlDocument.getDocumentElement().getLocalName());\n        evalXpath(xmlDocument,\"//xs:element\");//FAILS\n        evalXpath(xmlDocument,\"//element\");//FAILS\n        evalXpath(xmlDocument,\"/schema/element\");//WORKS\n        evalXpath(xmlDocument,\"/xs:schema/xs:element\");//FAILS\n        evalXpath(xmlDocument,\"//heading\");//FAILS\n\n\n\n    } catch (FileNotFoundException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    } catch (SAXException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    } catch (IOException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    } catch (ParserConfigurationException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }       \n}\n\n\npublic static void evalXpath(Document xmlDocument,String expression)\n{\n    Node fetchNode=null;\n    NodeList fetchNodeList=null;\n    //String expression=null;\n    try\n    {\n        XPath xPath =  XPathFactory.newInstance().newXPath(); \n\n        fetchNode = (Node) xPath.compile(expression).evaluate(xmlDocument, XPathConstants.NODE);\n        System.out.println(fetchNode);\n\n        fetchNodeList = (NodeList) xPath.compile(expression).evaluate(xmlDocument, XPathConstants.NODESET);\n        System.out.println(fetchNodeList.getLength());\n    }\n    catch (XPathExpressionException e) {\n        e.printStackTrace();\n    }    \n}\n\n}\n</code></pre>\n\n<p>The issue when I parse the XML file and run the expression of the type '\\ElemName' it works fine and fetches the node. Not then I do the same for XSD file it returns NULL. \nFor XSD I need to sue    '\\RootNode\\IntermediateNode....\\ReqdNode'\nI have tried this with name different XML and XSD, just attaching these short files for illustration purpose. </p>\n\n<p>Issue2\nAlso there is one more issue:\nsay if I have an element 'xs:schema' and I need to get only the local name part (without namespace prefix) like 'schema', how can I do it? I have tried the getLocalName() but it doesn't work. </p>\n\n<p>(I am using jdk6 if you need to know)</p>\n\n<p>Please provide a resolution for atleast my first issue.</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java","spring-boot","jpa","querydsl"],"owner":{"account_id":22614717,"reputation":1,"user_id":16794380,"display_name":"Anant"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":208,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672902775,"creation_date":1672902491,"question_id":75014902,"body_markdown":"How can I write a queryDSL query for the following MySQL query:\r\n\r\n``` \r\nSELECT\r\n    u.id as user_id,\r\n\tcount(*) as total_completed\r\n    date(o.created_at) date\r\nFROM\r\n    users u\r\nLEFT JOIN orders o ON o.user_id = u.id\r\nWHERE o.status=&#39;COMPLETED&#39;\r\nGROUP BY date(o.created), u.id\r\n```\r\nI am mainly interested in implementing the `date(timestamp_field)` so that I can use it for aggregating over entire dates.\r\n\r\nThis is my `OrderEntity`:\r\n\r\n```\r\n...\r\n@Table(name = &quot;orders&quot;)\r\npublic class OrderEntity extends BaseEntity {\r\n\r\n    @Id\r\n    @Column(nullable = false)\r\n    private String id;\r\n    private Instant createdAt;\r\n\t...\r\n}\r\n```\r\n\r\nThis is in `QOrderEntity`\r\n``` \r\n    public final DateTimePath&lt;java.time.Instant&gt; createdAt = createDateTime(&quot;createdAt&quot;, java.time.Instant.class);\r\n```\r\n\r\nBasically, how can I truncate/type cast the SQL `Timestamp` field to `DATE` in the SELECT query. It needs to be done on the `WHERE` clause, `GROUP BY` clause, and `SELECT` clause\r\n\r\nI tried this link here: https://stackoverflow.com/questions/15610576/querydsl-select-rows-with-date-from-timestamp-column\r\n&gt; You can either use between or a custom expression if you use Querydsl SQL\r\nSomething like this\r\n\r\n&gt;`DateExpression&lt;Date&gt; converted = DateTemplate.create(Date.class, &quot;convert(date, {0})&quot;,`\r\n\r\nThe API doesn&#39;t have `create()` method, maybe it was removed.\r\n","title":"How can I group by a date(timestamp_field ) in QueryDSL 5.0.0","body":"<p>How can I write a queryDSL query for the following MySQL query:</p>\n<pre><code>SELECT\n    u.id as user_id,\n    count(*) as total_completed\n    date(o.created_at) date\nFROM\n    users u\nLEFT JOIN orders o ON o.user_id = u.id\nWHERE o.status='COMPLETED'\nGROUP BY date(o.created), u.id\n</code></pre>\n<p>I am mainly interested in implementing the <code>date(timestamp_field)</code> so that I can use it for aggregating over entire dates.</p>\n<p>This is my <code>OrderEntity</code>:</p>\n<pre><code>...\n@Table(name = &quot;orders&quot;)\npublic class OrderEntity extends BaseEntity {\n\n    @Id\n    @Column(nullable = false)\n    private String id;\n    private Instant createdAt;\n    ...\n}\n</code></pre>\n<p>This is in <code>QOrderEntity</code></p>\n<pre><code>    public final DateTimePath&lt;java.time.Instant&gt; createdAt = createDateTime(&quot;createdAt&quot;, java.time.Instant.class);\n</code></pre>\n<p>Basically, how can I truncate/type cast the SQL <code>Timestamp</code> field to <code>DATE</code> in the SELECT query. It needs to be done on the <code>WHERE</code> clause, <code>GROUP BY</code> clause, and <code>SELECT</code> clause</p>\n<p>I tried this link here: <a href=\"https://stackoverflow.com/questions/15610576/querydsl-select-rows-with-date-from-timestamp-column\">QueryDSL - select rows with date from timestamp column</a></p>\n<blockquote>\n<p>You can either use between or a custom expression if you use Querydsl SQL\nSomething like this</p>\n</blockquote>\n<blockquote>\n<p><code>DateExpression&lt;Date&gt; converted = DateTemplate.create(Date.class, &quot;convert(date, {0})&quot;,</code></p>\n</blockquote>\n<p>The API doesn't have <code>create()</code> method, maybe it was removed.</p>\n"},{"tags":["java","intellij-idea","interface-implementation"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1672899857,"post_id":75014297,"comment_id":132378093,"body_markdown":"Sounds like you&#39;re asking about [Variable used in lambda expression should be final or effectively final](https://stackoverflow.com/q/34865383/6395627) (also see [Why are only final variables accessible in anonymous class?](https://stackoverflow.com/q/4732544/6395627)).","body":"Sounds like you&#39;re asking about <a href=\"https://stackoverflow.com/q/34865383/6395627\">Variable used in lambda expression should be final or effectively final</a> (also see <a href=\"https://stackoverflow.com/q/4732544/6395627\">Why are only final variables accessible in anonymous class?</a>)."},{"owner":{"account_id":5823420,"reputation":785,"user_id":6656833,"display_name":"Pavel"},"score":0,"creation_date":1672899937,"post_id":75014297,"comment_id":132378112,"body_markdown":"what is `UserInputRetriever`? where it comes from? it should hold the result value. you should not modify any variable outside of the lambda, that is a very bad practice.","body":"what is <code>UserInputRetriever</code>? where it comes from? it should hold the result value. you should not modify any variable outside of the lambda, that is a very bad practice."},{"owner":{"account_id":21570505,"reputation":1,"user_id":15903441,"display_name":"Tobi Cinquante"},"score":0,"creation_date":1672989178,"post_id":75014297,"comment_id":132401373,"body_markdown":"Thanks @Slaw Reading the thread you provided shed some light as to the why. I was just wondering why that didnt apply to array values, but only variables","body":"Thanks @Slaw Reading the thread you provided shed some light as to the why. I was just wondering why that didnt apply to array values, but only variables"},{"owner":{"account_id":21570505,"reputation":1,"user_id":15903441,"display_name":"Tobi Cinquante"},"score":0,"creation_date":1672989289,"post_id":75014297,"comment_id":132401395,"body_markdown":"@Pavel I am not modifying the value at all. As stated UserInputRetriever is an interface. I simply use the result from that interface implementation to compute another value","body":"@Pavel I am not modifying the value at all. As stated UserInputRetriever is an interface. I simply use the result from that interface implementation to compute another value"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1672989290,"post_id":75014297,"comment_id":132401396,"body_markdown":"Ultimately, because `array[0] = newValue` does not modify the local variable. More specifically, it doesn&#39;t reassign the local variable, therefore it is still final or effectively final. The local variable in this case being `array`, which references a specific array instance. Writing to a position in that array is updating that array&#39;s _instance_ state (which is not a local variable). You could see the same thing with any mutable object (e.g., `User user = ...; () -&gt; user.setName(&quot;foo&quot;);`).","body":"Ultimately, because <code>array[0] = newValue</code> does not modify the local variable. More specifically, it doesn&#39;t reassign the local variable, therefore it is still final or effectively final. The local variable in this case being <code>array</code>, which references a specific array instance. Writing to a position in that array is updating that array&#39;s <i>instance</i> state (which is not a local variable). You could see the same thing with any mutable object (e.g., <code>User user = ...; () -&gt; user.setName(&quot;foo&quot;);</code>)."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1672989821,"post_id":75014297,"comment_id":132401501,"body_markdown":"It helps to understand the why if you understand how programs are stored in memory, and how the stack and the heap work. A local variable is stored on the stack (the variable itself, not necessarily the object it references). It only exists until the method returns. After that, the memory it was stored at can become anything, even meaningless garbage. But a lambda/anonymous class instance can live beyond the scope of the method. The &quot;workaround&quot; then was to &quot;capture&quot; the value of the local variable and store it in an implicit field of the lambda/anonymous class. [cont.]","body":"It helps to understand the why if you understand how programs are stored in memory, and how the stack and the heap work. A local variable is stored on the stack (the variable itself, not necessarily the object it references). It only exists until the method returns. After that, the memory it was stored at can become anything, even meaningless garbage. But a lambda/anonymous class instance can live beyond the scope of the method. The &quot;workaround&quot; then was to &quot;capture&quot; the value of the local variable and store it in an implicit field of the lambda/anonymous class. [cont.]"},{"owner":{"account_id":21570505,"reputation":1,"user_id":15903441,"display_name":"Tobi Cinquante"},"score":0,"creation_date":1672989855,"post_id":75014297,"comment_id":132401506,"body_markdown":"@Slaw That is quite interesting. I definitely need to read more on lambdas. T Thanks. That actually makes sense because the elements of the array is what is being modified and not the variable or the reference to the array itself(which is on the stack). I feel really stupid now because the answer is actually very simple and logical. Thanks again!","body":"@Slaw That is quite interesting. I definitely need to read more on lambdas. T Thanks. That actually makes sense because the elements of the array is what is being modified and not the variable or the reference to the array itself(which is on the stack). I feel really stupid now because the answer is actually very simple and logical. Thanks again!"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1672989965,"post_id":75014297,"comment_id":132401529,"body_markdown":"[cont.] But if the local variable could be modified, then that could lead to subtle bugs. Especially if multiple threads are involved. So, they require the local variable to be (effectively) final to prevent such bugs from ever occurring. But fields are stored in the heap. The references to elements of an array are on the heap. These references live beyond any method invocation. This heap state is also covered by the Java Memory Model (JMM), giving well-defined behavior in multi-threaded contexts.","body":"[cont.] But if the local variable could be modified, then that could lead to subtle bugs. Especially if multiple threads are involved. So, they require the local variable to be (effectively) final to prevent such bugs from ever occurring. But fields are stored in the heap. The references to elements of an array are on the heap. These references live beyond any method invocation. This heap state is also covered by the Java Memory Model (JMM), giving well-defined behavior in multi-threaded contexts."}],"answers":[{"tags":[],"owner":{"account_id":8354342,"reputation":76,"user_id":6275236,"display_name":"Roland J."},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1672901664,"creation_date":1672901664,"answer_id":75014780,"question_id":75014297,"body_markdown":"The [Java Lang. Spec.][1] states that the &quot;restriction to effectively final variables prohibits access to dynamically-changing local variables, whose capture would likely introduce concurrency problems&quot;. \r\n\r\nIn order to address this problem you can use atomic references or atomic types, e.g., AtomicBoolean. \r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se10/html/jls-15.html#jls-15.27.2\r\n\r\nBTW: It would have been helpful for others to provide an executable example of the problem and the solution. Something like this makes it easier to help:\r\n\r\n    import org.junit.jupiter.api.Test;\r\n    \r\n    import java.util.concurrent.atomic.AtomicBoolean;\r\n    \r\n    import static org.junit.jupiter.api.Assertions.*;\r\n    \r\n    public class FunctionalInterfaceProblem {\r\n        public static String EXCEPTION_MESSAGE = &quot;Value not 0 or 1&quot;;\r\n    \r\n        @java.lang.FunctionalInterface\r\n        interface SomeInterfaceWithBoolean&lt;T&gt; {\r\n            boolean calculate(T i) throws IllegalArgumentException;\r\n        }\r\n    \r\n        @Test\r\n        public void testWihArray() {\r\n            boolean[] outcome = new boolean[1];\r\n    \r\n            SomeInterfaceWithBoolean&lt;Integer&gt; result = i -&gt; {\r\n                if(i == 1){\r\n                    outcome[0] = true;\r\n                } else if (i == 0){\r\n                    outcome[0] = false;\r\n                } else {\r\n                    throw new IllegalArgumentException(EXCEPTION_MESSAGE);\r\n                }\r\n                return outcome[0];\r\n            };\r\n    \r\n            assertFalse(result.calculate(0));\r\n            assertTrue(result.calculate(1));\r\n            Throwable exception = assertThrows(IllegalArgumentException.class, ()-&gt;{result.calculate(2);} );\r\n            assertEquals(EXCEPTION_MESSAGE, exception.getMessage());\r\n        }\r\n    \r\n        @java.lang.FunctionalInterface\r\n        interface SomeInterfaceWithAtomicBoolean&lt;T&gt; {\r\n            AtomicBoolean calculate(T i) throws IllegalArgumentException;\r\n        }\r\n    \r\n        @Test\r\n        public void testWihAtomicBoolean() {\r\n            AtomicBoolean outcome = new AtomicBoolean(false);\r\n    \r\n            SomeInterfaceWithAtomicBoolean&lt;Integer&gt; result = i -&gt; {\r\n                if(i == 1){\r\n                    outcome.set(true);\r\n                } else if (i == 0){\r\n                    outcome.set(false);\r\n                } else {\r\n                    throw new IllegalArgumentException(EXCEPTION_MESSAGE);\r\n                }\r\n                return outcome;\r\n            };\r\n    \r\n            assertFalse(result.calculate(0).get());\r\n            assertTrue(result.calculate(1).get());\r\n            Throwable exception = assertThrows(IllegalArgumentException.class, ()-&gt;{result.calculate(2);} );\r\n            assertEquals(EXCEPTION_MESSAGE, exception.getMessage());\r\n        }\r\n    \r\n    }\r\n\r\n\r\n","title":"Implementing interfaces in a method using lambda (JAVA)","body":"<p>The <a href=\"https://docs.oracle.com/javase/specs/jls/se10/html/jls-15.html#jls-15.27.2\" rel=\"nofollow noreferrer\">Java Lang. Spec.</a> states that the &quot;restriction to effectively final variables prohibits access to dynamically-changing local variables, whose capture would likely introduce concurrency problems&quot;.</p>\n<p>In order to address this problem you can use atomic references or atomic types, e.g., AtomicBoolean.</p>\n<p>BTW: It would have been helpful for others to provide an executable example of the problem and the solution. Something like this makes it easier to help:</p>\n<pre><code>import org.junit.jupiter.api.Test;\n\nimport java.util.concurrent.atomic.AtomicBoolean;\n\nimport static org.junit.jupiter.api.Assertions.*;\n\npublic class FunctionalInterfaceProblem {\n    public static String EXCEPTION_MESSAGE = &quot;Value not 0 or 1&quot;;\n\n    @java.lang.FunctionalInterface\n    interface SomeInterfaceWithBoolean&lt;T&gt; {\n        boolean calculate(T i) throws IllegalArgumentException;\n    }\n\n    @Test\n    public void testWihArray() {\n        boolean[] outcome = new boolean[1];\n\n        SomeInterfaceWithBoolean&lt;Integer&gt; result = i -&gt; {\n            if(i == 1){\n                outcome[0] = true;\n            } else if (i == 0){\n                outcome[0] = false;\n            } else {\n                throw new IllegalArgumentException(EXCEPTION_MESSAGE);\n            }\n            return outcome[0];\n        };\n\n        assertFalse(result.calculate(0));\n        assertTrue(result.calculate(1));\n        Throwable exception = assertThrows(IllegalArgumentException.class, ()-&gt;{result.calculate(2);} );\n        assertEquals(EXCEPTION_MESSAGE, exception.getMessage());\n    }\n\n    @java.lang.FunctionalInterface\n    interface SomeInterfaceWithAtomicBoolean&lt;T&gt; {\n        AtomicBoolean calculate(T i) throws IllegalArgumentException;\n    }\n\n    @Test\n    public void testWihAtomicBoolean() {\n        AtomicBoolean outcome = new AtomicBoolean(false);\n\n        SomeInterfaceWithAtomicBoolean&lt;Integer&gt; result = i -&gt; {\n            if(i == 1){\n                outcome.set(true);\n            } else if (i == 0){\n                outcome.set(false);\n            } else {\n                throw new IllegalArgumentException(EXCEPTION_MESSAGE);\n            }\n            return outcome;\n        };\n\n        assertFalse(result.calculate(0).get());\n        assertTrue(result.calculate(1).get());\n        Throwable exception = assertThrows(IllegalArgumentException.class, ()-&gt;{result.calculate(2);} );\n        assertEquals(EXCEPTION_MESSAGE, exception.getMessage());\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":21570505,"reputation":1,"user_id":15903441,"display_name":"Tobi Cinquante"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672901664,"creation_date":1672897518,"question_id":75014297,"body_markdown":"I am working on a program that is supposed to describe a takeout system. I have a specific method that is supposed to simulate whether a customer has enough money to buy something using an interface. The problem I encountered was that while I was trying to implement an interface, UserInputRetriever, using lambda..I could only use final variables within the lambda expression. When it got to making a return statement for the method itself, shouldSimulate(), I realized I couldnt because what I returned is only visible in the lambda. Now IntelliJ, suggested using a final array which worked, because I was able to use it within the lambda expression and outside of it. I just need understanding as to why using array worked as compared to using a variable. Can you please explain?\r\n\r\nThe method is as follows:\r\n\r\n    public boolean shouldSimulate() {\r\n        boolean[] hasMoney = new boolean[1];\r\n\r\n        String userPrompt = &quot;&quot;&quot;\r\n                Please choose an option from the following:\r\n                0. To end simulation process\r\n                1. To proceed with simulation process&quot;&quot;&quot;;\r\n\r\n        UserInputRetriever&lt;?&gt; intUserInputRetriever = selection -&gt; {\r\n\r\n            if(selection == 1 &amp;&amp; customer.money &gt;= menu.getLowestFoodCost()){\r\n                System.out.println(&quot;You have enough money.\\nProceeding with &quot; +\r\n                        &quot;simulation&quot;);\r\n                hasMoney[0] = true; \r\n            }\r\n\r\n            else if (selection == 1 &amp;&amp; customer.money &lt; menu.getLowestFoodCost()){\r\n                System.out.println(&quot;You do not have enough money.\\nEnding the&quot; +\r\n                        &quot; simulation&quot;);\r\n                hasMoney[0] = false;\r\n            }\r\n\r\n            else if(selection == 0){\r\n                System.out.println(&quot;Terminating simulation&quot;);\r\n                hasMoney[0] = false;\r\n            }\r\n\r\n            else\r\n                throw new IllegalArgumentException(&quot;Please choose a valid &quot; +\r\n                        &quot;option&quot;);\r\n\r\n            return hasMoney[0];// if hasMoney was a variable, this would not throw a compile time error\r\n        };\r\n        getOutputOnInput(userPrompt, intUserInputRetriever);// you can ignore this line\r\n\r\n        return hasMoney[0];// if hasMoney was a variable, this would throw a compile time error\r\n    }\r\n\r\nI tried using a variable first locally and tried to also use that in my interface implementation (which used lambda), but it threw errors. But upon using suggestion from IntelliJ which suggested using an array, it worked. I would like to know why","title":"Implementing interfaces in a method using lambda (JAVA)","body":"<p>I am working on a program that is supposed to describe a takeout system. I have a specific method that is supposed to simulate whether a customer has enough money to buy something using an interface. The problem I encountered was that while I was trying to implement an interface, UserInputRetriever, using lambda..I could only use final variables within the lambda expression. When it got to making a return statement for the method itself, shouldSimulate(), I realized I couldnt because what I returned is only visible in the lambda. Now IntelliJ, suggested using a final array which worked, because I was able to use it within the lambda expression and outside of it. I just need understanding as to why using array worked as compared to using a variable. Can you please explain?</p>\n<p>The method is as follows:</p>\n<pre><code>public boolean shouldSimulate() {\n    boolean[] hasMoney = new boolean[1];\n\n    String userPrompt = &quot;&quot;&quot;\n            Please choose an option from the following:\n            0. To end simulation process\n            1. To proceed with simulation process&quot;&quot;&quot;;\n\n    UserInputRetriever&lt;?&gt; intUserInputRetriever = selection -&gt; {\n\n        if(selection == 1 &amp;&amp; customer.money &gt;= menu.getLowestFoodCost()){\n            System.out.println(&quot;You have enough money.\\nProceeding with &quot; +\n                    &quot;simulation&quot;);\n            hasMoney[0] = true; \n        }\n\n        else if (selection == 1 &amp;&amp; customer.money &lt; menu.getLowestFoodCost()){\n            System.out.println(&quot;You do not have enough money.\\nEnding the&quot; +\n                    &quot; simulation&quot;);\n            hasMoney[0] = false;\n        }\n\n        else if(selection == 0){\n            System.out.println(&quot;Terminating simulation&quot;);\n            hasMoney[0] = false;\n        }\n\n        else\n            throw new IllegalArgumentException(&quot;Please choose a valid &quot; +\n                    &quot;option&quot;);\n\n        return hasMoney[0];// if hasMoney was a variable, this would not throw a compile time error\n    };\n    getOutputOnInput(userPrompt, intUserInputRetriever);// you can ignore this line\n\n    return hasMoney[0];// if hasMoney was a variable, this would throw a compile time error\n}\n</code></pre>\n<p>I tried using a variable first locally and tried to also use that in my interface implementation (which used lambda), but it threw errors. But upon using suggestion from IntelliJ which suggested using an array, it worked. I would like to know why</p>\n"},{"tags":["java","arrays","for-loop","integer","switch-statement"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1669187174,"post_id":74542802,"comment_id":131584750,"body_markdown":"do you understand what the &quot;return&quot; keyword does?","body":"do you understand what the &quot;return&quot; keyword does?"},{"owner":{"account_id":23617023,"reputation":3,"user_id":17650958,"display_name":"kelkrekeksa"},"score":0,"creation_date":1669188030,"post_id":74542802,"comment_id":131584964,"body_markdown":"oh okay after learning about it more I understood that I have to delete that line for the loop to work. Thanks for the help.","body":"oh okay after learning about it more I understood that I have to delete that line for the loop to work. Thanks for the help."}],"answers":[{"tags":[],"owner":{"account_id":22878710,"reputation":73,"user_id":17020613,"display_name":"ZYinNJU"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669186707,"creation_date":1669186707,"answer_id":74542848,"question_id":74542802,"body_markdown":"Please do some progress to debug your program. `return intArray[i]` will return the value of the first letter when the for loop execute the first time.","title":"For loop is not returning a different value for every array index","body":"<p>Please do some progress to debug your program. <code>return intArray[i]</code> will return the value of the first letter when the for loop execute the first time.</p>\n"},{"tags":[],"owner":{"account_id":26973585,"reputation":117,"user_id":20539215,"display_name":"VicenteJankowski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672901561,"creation_date":1669188397,"answer_id":74543099,"question_id":74542802,"body_markdown":"You shouldn&#39;t put `return intArray[i]` inside the for loop, as it breaks the loop at the first iteration and finishes `getNumber` method.\r\n\r\nAlso you have doubled the for/while loop. As a result, if you fix the problem with `getNumber` method, you will get encrypted word as many times as `word.length()`. \r\n\r\nYou should either:\r\n\r\n - iterate the word in main function and return single integer in `getNumber` method \r\n\r\nor\r\n\r\n - change return type for getNumber to `int[]` (or even better String) and use for loop inside the `getNumber` - that would be preferred solution\r\n","title":"For loop is not returning a different value for every array index","body":"<p>You shouldn't put <code>return intArray[i]</code> inside the for loop, as it breaks the loop at the first iteration and finishes <code>getNumber</code> method.</p>\n<p>Also you have doubled the for/while loop. As a result, if you fix the problem with <code>getNumber</code> method, you will get encrypted word as many times as <code>word.length()</code>.</p>\n<p>You should either:</p>\n<ul>\n<li>iterate the word in main function and return single integer in <code>getNumber</code> method</li>\n</ul>\n<p>or</p>\n<ul>\n<li>change return type for getNumber to <code>int[]</code> (or even better String) and use for loop inside the <code>getNumber</code> - that would be preferred solution</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":22794114,"reputation":1,"user_id":16947932,"display_name":"Abdullah All Abir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669189212,"creation_date":1669189212,"answer_id":74543230,"question_id":74542802,"body_markdown":"you are returning inside the for loop. So the loop won&#39;t continue, and will return the value after the 1st iteration. ","title":"For loop is not returning a different value for every array index","body":"<p>you are returning inside the for loop. So the loop won't continue, and will return the value after the 1st iteration.</p>\n"}],"owner":{"account_id":23617023,"reputation":3,"user_id":17650958,"display_name":"kelkrekeksa"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74542848,"answer_count":3,"score":0,"last_activity_date":1672901561,"creation_date":1669186382,"question_id":74542802,"body_markdown":"I&#39;ve written a code about a program where a word gets encrypted as a number dependent on a fixed parameter such as &quot;Software&quot; turning into 76389273. However the for loop is not returning different values for every letter, and returns the same value (value of the first letter) for all letters. \r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class StringtoNumber {\r\n    public static int getNumber(String word) {\r\n        int value = 0;\r\n        int intArray[] = new int[word.length()];\r\n        for (int i = 0; i &lt; word.length(); i++) {\r\n            switch (word.charAt(i)) {\r\n                case &#39;A&#39;:\r\n                case &#39;B&#39;:\r\n                case &#39;C&#39;:\r\n                case &#39;a&#39;:\r\n                case &#39;b&#39;:\r\n                case &#39;c&#39;:\r\n                    value = 2;\r\n                    break;\r\n                case &#39;D&#39;:\r\n                case &#39;E&#39;:\r\n                case &#39;F&#39;:\r\n                case &#39;d&#39;:\r\n                case &#39;e&#39;:\r\n                case &#39;f&#39;:\r\n                    value = 3;\r\n                    break;\r\n                case &#39;G&#39;:\r\n                case &#39;H&#39;:\r\n                case &#39;I&#39;:\r\n                case &#39;g&#39;:\r\n                case &#39;h&#39;:\r\n                case &#39;i&#39;:\r\n                    value = 4;\r\n                    break;\r\n                case &#39;J&#39;:\r\n                case &#39;K&#39;:\r\n                case &#39;L&#39;:\r\n                case &#39;j&#39;:\r\n                case &#39;k&#39;:\r\n                case &#39;l&#39;:\r\n                    value = 5;\r\n                    break;\r\n                case &#39;M&#39;:\r\n                case &#39;N&#39;:\r\n                case &#39;O&#39;:\r\n                case &#39;m&#39;:\r\n                case &#39;n&#39;:\r\n                case &#39;o&#39;:\r\n                    value = 6;\r\n                    break;\r\n                case &#39;P&#39;:\r\n                case &#39;Q&#39;:\r\n                case &#39;R&#39;:\r\n                case &#39;S&#39;:\r\n                case &#39;p&#39;:\r\n                case &#39;q&#39;:\r\n                case &#39;r&#39;:\r\n                case &#39;s&#39;:\r\n                    value = 7;\r\n                    break;\r\n                case &#39;T&#39;:\r\n                case &#39;U&#39;:\r\n                case &#39;V&#39;:\r\n                case &#39;t&#39;:\r\n                case &#39;u&#39;:\r\n                case &#39;v&#39;:\r\n                    value = 8;\r\n                    break;\r\n                case &#39;W&#39;:\r\n                case &#39;X&#39;:\r\n                case &#39;Y&#39;:\r\n                case &#39;Z&#39;:\r\n                case &#39;w&#39;:\r\n                case &#39;x&#39;:\r\n                case &#39;y&#39;:\r\n                case &#39;z&#39;:\r\n                    value = 9;\r\n                    break;\r\n            }\r\n            intArray[i] = value;\r\n            return intArray[i];\r\n        }\r\n\r\n        int result = 0;\r\n        for (int i = 0; i &lt; intArray.length; i++) {\r\n            result += Math.pow(10, i) * intArray[intArray.length - i - 1];\r\n        }\r\n        return result;\r\n    }\r\n\r\n        public static void main (String[]arg){\r\n\r\n            Scanner input = new Scanner(System.in);\r\n            System.out.println(&quot;what word do you want to encrypt&quot;);\r\n            String word = input.nextLine();\r\n            int counter = 0;\r\n            while (counter &lt; word.length()) {\r\n                System.out.print(getNumber(word));\r\n                counter++;\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\nI&#39;ve tried finding mistake but I haven&#39;t seen anything, is there something I am not taking into account?","title":"For loop is not returning a different value for every array index","body":"<p>I've written a code about a program where a word gets encrypted as a number dependent on a fixed parameter such as &quot;Software&quot; turning into 76389273. However the for loop is not returning different values for every letter, and returns the same value (value of the first letter) for all letters.</p>\n<pre><code>import java.util.Scanner;\n\npublic class StringtoNumber {\n    public static int getNumber(String word) {\n        int value = 0;\n        int intArray[] = new int[word.length()];\n        for (int i = 0; i &lt; word.length(); i++) {\n            switch (word.charAt(i)) {\n                case 'A':\n                case 'B':\n                case 'C':\n                case 'a':\n                case 'b':\n                case 'c':\n                    value = 2;\n                    break;\n                case 'D':\n                case 'E':\n                case 'F':\n                case 'd':\n                case 'e':\n                case 'f':\n                    value = 3;\n                    break;\n                case 'G':\n                case 'H':\n                case 'I':\n                case 'g':\n                case 'h':\n                case 'i':\n                    value = 4;\n                    break;\n                case 'J':\n                case 'K':\n                case 'L':\n                case 'j':\n                case 'k':\n                case 'l':\n                    value = 5;\n                    break;\n                case 'M':\n                case 'N':\n                case 'O':\n                case 'm':\n                case 'n':\n                case 'o':\n                    value = 6;\n                    break;\n                case 'P':\n                case 'Q':\n                case 'R':\n                case 'S':\n                case 'p':\n                case 'q':\n                case 'r':\n                case 's':\n                    value = 7;\n                    break;\n                case 'T':\n                case 'U':\n                case 'V':\n                case 't':\n                case 'u':\n                case 'v':\n                    value = 8;\n                    break;\n                case 'W':\n                case 'X':\n                case 'Y':\n                case 'Z':\n                case 'w':\n                case 'x':\n                case 'y':\n                case 'z':\n                    value = 9;\n                    break;\n            }\n            intArray[i] = value;\n            return intArray[i];\n        }\n\n        int result = 0;\n        for (int i = 0; i &lt; intArray.length; i++) {\n            result += Math.pow(10, i) * intArray[intArray.length - i - 1];\n        }\n        return result;\n    }\n\n        public static void main (String[]arg){\n\n            Scanner input = new Scanner(System.in);\n            System.out.println(&quot;what word do you want to encrypt&quot;);\n            String word = input.nextLine();\n            int counter = 0;\n            while (counter &lt; word.length()) {\n                System.out.print(getNumber(word));\n                counter++;\n            }\n        }\n    }\n</code></pre>\n<p>I've tried finding mistake but I haven't seen anything, is there something I am not taking into account?</p>\n"},{"tags":["java","maven","junit","log4j","junit5"],"answers":[{"tags":[],"owner":{"account_id":5255222,"reputation":573,"user_id":4198317,"display_name":"St&#233;phane Jeandeaux"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1672901353,"creation_date":1672900685,"answer_id":75014638,"question_id":75013039,"body_markdown":"The methods BeforeAll and BeforeEach are not executed due to surefire plugin.\r\nYou should use at least maven-surefire-plugin#3.0.0-M1.\r\n\r\n```\r\n&lt;plugin&gt;\r\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n  &lt;artifactId&gt;maven-surefire-report-plugin&lt;/artifactId&gt;\r\n  &lt;version&gt;3.0.0-M1&lt;/version&gt;\r\n&lt;/plugin&gt;\r\n```\r\n","title":"mvn test + JUnit5 + log4j: Why logs printed in @BeforeAll and @BeforeEach are not output to console?","body":"<p>The methods BeforeAll and BeforeEach are not executed due to surefire plugin.\nYou should use at least maven-surefire-plugin#3.0.0-M1.</p>\n<pre><code>&lt;plugin&gt;\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n  &lt;artifactId&gt;maven-surefire-report-plugin&lt;/artifactId&gt;\n  &lt;version&gt;3.0.0-M1&lt;/version&gt;\n&lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":2975171,"reputation":1319,"user_id":2526362,"accept_rate":83,"display_name":"Reed_Xia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":340,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75014638,"answer_count":1,"score":2,"last_activity_date":1672901353,"creation_date":1672882589,"question_id":75013039,"body_markdown":"I create a simple maven project to describe my problem\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n  &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n  &lt;artifactId&gt;NoLog&lt;/artifactId&gt;\r\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n  &lt;properties&gt;\r\n    &lt;maven.compiler.source&gt;8&lt;/maven.compiler.source&gt;\r\n    &lt;maven.compiler.target&gt;8&lt;/maven.compiler.target&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n  &lt;/properties&gt;\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n      &lt;version&gt;5.9.0&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;commons-logging&lt;/groupId&gt;\r\n      &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\r\n      &lt;version&gt;1.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n      &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n      &lt;version&gt;2.19.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n      &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n      &lt;version&gt;2.19.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n      &lt;artifactId&gt;log4j-jcl&lt;/artifactId&gt;\r\n      &lt;version&gt;2.19.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nmy test class code\r\n```\r\nimport org.apache.logging.log4j.LogManager;\r\nimport org.apache.logging.log4j.Logger;\r\nimport org.junit.jupiter.api.BeforeAll;\r\nimport org.junit.jupiter.api.BeforeEach;\r\nimport org.junit.jupiter.api.Test;\r\n\r\npublic class TestDemo {\r\n\r\n  static Logger log = LogManager.getLogger(TestDemo.class);\r\n  @BeforeAll\r\n  public static void setupClass() {\r\n    log.info(&quot;BeforeAll 111 from log.info&quot;);\r\n    System.out.println(&quot;BeforeAll 111 from print&quot;);\r\n    log.info(&quot;BeforeAll 222 from log.info&quot;);\r\n    System.out.println(&quot;BeforeAll 222 from print&quot;);\r\n  }\r\n\r\n  @BeforeEach\r\n  public void setup() {\r\n    log.info(&quot;BeforeEach 111 from log.info&quot;);\r\n    System.out.println(&quot;BeforeEach 111 from print&quot;);\r\n    log.info(&quot;BeforeEach 222 from log.info&quot;);\r\n    System.out.println(&quot;BeforeEach 222 from print&quot;);\r\n  }\r\n\r\n  @Test\r\n  public void test1() {\r\n    log.info(&quot;test1 111 from log.info&quot;);\r\n    System.out.println(&quot;test 111 from print&quot;);\r\n    log.info(&quot;test1 222 from log.info&quot;);\r\n    System.out.println(&quot;test 222 from print&quot;);\r\n  }\r\n}\r\n```\r\nand the log4j2.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;Configuration status=&quot;WARN&quot;&gt;\r\n  &lt;Appenders&gt;\r\n    &lt;Console name=&quot;LogToConsole&quot; target=&quot;SYSTEM_OUT&quot;&gt;\r\n      &lt;PatternLayout pattern=&quot;%d{YYYY-MM-dd HH:mm:ss} [%t] %-5p %c{1}:%L - %msg%n&quot;/&gt;\r\n    &lt;/Console&gt;\r\n  &lt;/Appenders&gt;\r\n  &lt;Loggers&gt;\r\n    &lt;Root level=&quot;info&quot;&gt;\r\n      &lt;AppenderRef ref=&quot;LogToConsole&quot;/&gt;\r\n    &lt;/Root&gt;\r\n    &lt;Logger name=&quot;com.hexagon&quot; level=&quot;debug&quot; additivity=&quot;false&quot;&gt;\r\n      &lt;AppenderRef ref=&quot;LogToConsole&quot;/&gt;\r\n    &lt;/Logger&gt;\r\n  &lt;/Loggers&gt;\r\n&lt;/Configuration&gt;\r\n```\r\n\r\nMy question is, when I run it using `mvn test`, I can only see the logs from @Test function, while I don&#39;t see the logs from @BeforeAll and @BeforeEach, why and how to enable it?\r\n\r\n```\r\n-------------------------------------------------------\r\n T E S T S\r\n-------------------------------------------------------\r\nRunning TestDemo\r\n2023-01-05 09:28:03 [main] INFO  TestDemo:29 - test1 111 from log.info\r\ntest 111 from print\r\n2023-01-05 09:28:03 [main] INFO  TestDemo:31 - test1 222 from log.info\r\ntest 222 from print\r\nTests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.004 sec\r\n\r\nResults :\r\n\r\nTests run: 1, Failures: 0, Errors: 0, Skipped: 0\r\n\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD SUCCESS\r\n```","title":"mvn test + JUnit5 + log4j: Why logs printed in @BeforeAll and @BeforeEach are not output to console?","body":"<p>I create a simple maven project to describe my problem</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;org.example&lt;/groupId&gt;\n  &lt;artifactId&gt;NoLog&lt;/artifactId&gt;\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n  &lt;properties&gt;\n    &lt;maven.compiler.source&gt;8&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;8&lt;/maven.compiler.target&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n  &lt;/properties&gt;\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n      &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n      &lt;version&gt;5.9.0&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;commons-logging&lt;/groupId&gt;\n      &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\n      &lt;version&gt;1.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n      &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n      &lt;version&gt;2.19.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n      &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n      &lt;version&gt;2.19.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n      &lt;artifactId&gt;log4j-jcl&lt;/artifactId&gt;\n      &lt;version&gt;2.19.0&lt;/version&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p>my test class code</p>\n<pre><code>import org.apache.logging.log4j.LogManager;\nimport org.apache.logging.log4j.Logger;\nimport org.junit.jupiter.api.BeforeAll;\nimport org.junit.jupiter.api.BeforeEach;\nimport org.junit.jupiter.api.Test;\n\npublic class TestDemo {\n\n  static Logger log = LogManager.getLogger(TestDemo.class);\n  @BeforeAll\n  public static void setupClass() {\n    log.info(&quot;BeforeAll 111 from log.info&quot;);\n    System.out.println(&quot;BeforeAll 111 from print&quot;);\n    log.info(&quot;BeforeAll 222 from log.info&quot;);\n    System.out.println(&quot;BeforeAll 222 from print&quot;);\n  }\n\n  @BeforeEach\n  public void setup() {\n    log.info(&quot;BeforeEach 111 from log.info&quot;);\n    System.out.println(&quot;BeforeEach 111 from print&quot;);\n    log.info(&quot;BeforeEach 222 from log.info&quot;);\n    System.out.println(&quot;BeforeEach 222 from print&quot;);\n  }\n\n  @Test\n  public void test1() {\n    log.info(&quot;test1 111 from log.info&quot;);\n    System.out.println(&quot;test 111 from print&quot;);\n    log.info(&quot;test1 222 from log.info&quot;);\n    System.out.println(&quot;test 222 from print&quot;);\n  }\n}\n</code></pre>\n<p>and the log4j2.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;Configuration status=&quot;WARN&quot;&gt;\n  &lt;Appenders&gt;\n    &lt;Console name=&quot;LogToConsole&quot; target=&quot;SYSTEM_OUT&quot;&gt;\n      &lt;PatternLayout pattern=&quot;%d{YYYY-MM-dd HH:mm:ss} [%t] %-5p %c{1}:%L - %msg%n&quot;/&gt;\n    &lt;/Console&gt;\n  &lt;/Appenders&gt;\n  &lt;Loggers&gt;\n    &lt;Root level=&quot;info&quot;&gt;\n      &lt;AppenderRef ref=&quot;LogToConsole&quot;/&gt;\n    &lt;/Root&gt;\n    &lt;Logger name=&quot;com.hexagon&quot; level=&quot;debug&quot; additivity=&quot;false&quot;&gt;\n      &lt;AppenderRef ref=&quot;LogToConsole&quot;/&gt;\n    &lt;/Logger&gt;\n  &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n<p>My question is, when I run it using <code>mvn test</code>, I can only see the logs from @Test function, while I don't see the logs from @BeforeAll and @BeforeEach, why and how to enable it?</p>\n<pre><code>-------------------------------------------------------\n T E S T S\n-------------------------------------------------------\nRunning TestDemo\n2023-01-05 09:28:03 [main] INFO  TestDemo:29 - test1 111 from log.info\ntest 111 from print\n2023-01-05 09:28:03 [main] INFO  TestDemo:31 - test1 222 from log.info\ntest 222 from print\nTests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.004 sec\n\nResults :\n\nTests run: 1, Failures: 0, Errors: 0, Skipped: 0\n\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n</code></pre>\n"},{"tags":["java","junit","mockito","junit5","mockito-inline"],"comments":[{"owner":{"account_id":12480263,"reputation":10843,"user_id":9085273,"display_name":"rieckpil"},"score":0,"creation_date":1629868605,"post_id":68908833,"comment_id":121796935,"body_markdown":"In the stack trace of the exception, it says there&#39;s an NPE at line 27 in your refactored test. What code is at this line?","body":"In the stack trace of the exception, it says there&#39;s an NPE at line 27 in your refactored test. What code is at this line?"}],"answers":[{"tags":[],"owner":{"account_id":15795527,"reputation":100,"user_id":11397457,"display_name":"boholder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672901099,"creation_date":1672901099,"answer_id":75014714,"question_id":68908833,"body_markdown":"Found the solution:\r\n\r\nWe can&#39;t set any() parameter in the stub of the lambda function in try-with-resource \r\n(in your case, `when(mock.read(any(), any(), any()))` in `FileViewerMockitoTest`), which will cause `mock.read(any(), any(), any())` to throw an NPE: &quot;could not unbox null&quot; (don&#39;t know what it means).\r\n\r\nJust simply replace (all of) these arguments to something like `any(ArgClass.class)`, will solve the NPE problem, so do with the `Could not initialize mocked construction` `MockitoException` problem.\r\n\r\n(How did I find the problem? By extracting the lambda function as a method, we can get the real description of the NPE in the debug environment.)\r\n\r\n(I was surprised that there was no information on the internet other than this question.)","title":"Using mockito-inline MockedConstruction to mock FileInputStream throws Could not initialize mocked construction","body":"<p>Found the solution:</p>\n<p>We can't set any() parameter in the stub of the lambda function in try-with-resource\n(in your case, <code>when(mock.read(any(), any(), any()))</code> in <code>FileViewerMockitoTest</code>), which will cause <code>mock.read(any(), any(), any())</code> to throw an NPE: &quot;could not unbox null&quot; (don't know what it means).</p>\n<p>Just simply replace (all of) these arguments to something like <code>any(ArgClass.class)</code>, will solve the NPE problem, so do with the <code>Could not initialize mocked construction</code> <code>MockitoException</code> problem.</p>\n<p>(How did I find the problem? By extracting the lambda function as a method, we can get the real description of the NPE in the debug environment.)</p>\n<p>(I was surprised that there was no information on the internet other than this question.)</p>\n"}],"owner":{"account_id":4933689,"reputation":577,"user_id":3972599,"display_name":"Amgad Hanafy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5920,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1672901099,"creation_date":1629813786,"question_id":68908833,"body_markdown":"I&#39;m trying to get rid of `PowerMock` and replace it with `mockito-inline` new feature [Mocking object construction ][1],\r\nas I can&#39;t refactor the old source code.\r\n\r\nOne of the test classes I have is mocking `FileInputStream`, \r\nthe class under test `FileViewer`\r\n\r\n```\r\nimport java.awt.Button;\r\nimport java.awt.Event;\r\nimport java.awt.Font;\r\nimport java.awt.TextArea;\r\nimport java.io.File;\r\nimport java.io.FileInputStream;\r\nimport java.io.IOException;\r\n\r\npublic class FileViewer extends java.awt.Frame {\r\n\tprivate static final long serialVersionUID = 1L;\r\n\tButton close;\r\n\tGUIListener fGuiListener;\r\n\r\n\tpublic FileViewer() {\r\n\t\tsuper();\r\n\t\tfGuiListener = new GUIListener();\r\n\t\taddWindowListener(fGuiListener);\r\n\t}\r\n\r\n\tpublic FileViewer(String filename) throws IOException {\r\n\t\tsuper(&quot;FileViewer: &quot; + filename);\r\n\t\tfGuiListener = new GUIListener();\r\n\t\taddWindowListener(fGuiListener);\r\n\t\tFile f = new File(filename);\r\n\t\tint size = (int) f.length();\r\n\t\tint bytes_read = 0;\r\n\t\tbyte[] data = new byte[size];\r\n\t\ttry (FileInputStream in = new FileInputStream(f)) {\r\n\t\t\twhile (bytes_read &lt; size)\r\n\t\t\t\tbytes_read += in.read(data, bytes_read, size - bytes_read);\r\n\t\t}\r\n\t\tTextArea ta = new TextArea(new String(data, 0), 24, 80);\r\n\t\tta.setFont(new Font(&quot;Helvetica&quot;, Font.PLAIN, 12));\r\n\t\tta.setEditable(false);\r\n\t\tthis.add(&quot;Center&quot;, ta);\r\n\t\tclose = new Button(&quot;Close&quot;);\r\n\t\tthis.add(&quot;South&quot;, close);\r\n\t\tthis.pack();\r\n\t\tthis.show();\r\n\t}\r\n\r\n\tpublic boolean action(Event e, Object what) {\r\n\t\tif (e.target == close) {\r\n\t\t\tthis.hide();\r\n\t\t\tthis.dispose();\r\n\t\t\treturn true;\r\n\t\t} else\r\n\t\t\treturn false;\r\n\t}\r\n}\r\n```\r\n\r\nand the original unit test using powermock was \r\n```   \r\nimport static org.mockito.ArgumentMatchers.any;\r\nimport static org.mockito.ArgumentMatchers.anyInt;\r\nimport static org.mockito.Mockito.times;\r\nimport static org.mockito.Mockito.verify;\r\nimport static org.mockito.Mockito.when;\r\n\r\nimport java.io.FileInputStream;\r\n\r\nimport org.junit.Before;\r\nimport org.junit.Test;\r\nimport org.junit.runner.RunWith;\r\nimport org.mockito.Mockito;\r\nimport org.powermock.api.mockito.PowerMockito;\r\nimport org.powermock.core.classloader.annotations.PowerMockIgnore;\r\nimport org.powermock.core.classloader.annotations.PrepareForTest;\r\nimport org.powermock.modules.junit4.PowerMockRunner;\r\n\r\n@PowerMockIgnore({ &quot;javax.management.*&quot;, &quot;javax.security.*&quot; })\r\n@RunWith(PowerMockRunner.class)\r\n@PrepareForTest({ FileViewer.class, FileInputStream.class, java.awt.Frame.class })\r\n\r\npublic class FileViewerTest {\r\n\tString dir = System.getProperty(&quot;user.dir&quot;);\r\n\tString fileName = &quot;/testFiles/testRead.txt&quot;;\r\n\r\n\tFileInputStream mockStream = null;\r\n\r\n\t@Before\r\n\tpublic void setup() throws Exception {\r\n\t\tmockStream = Mockito.mock(FileInputStream.class);\r\n\t\twhen(mockStream.read(any(byte[].class), anyInt(), anyInt())).thenReturn(2000);\r\n\t\tPowerMockito.whenNew(FileInputStream.class).withAnyArguments().thenReturn(mockStream);\r\n\t}\r\n\r\n\t@Test\r\n\tpublic void testFileViewer_wFilename() throws Exception {\r\n\t\tFileViewer spy = Mockito.spy(new FileViewer(dir + fileName));\r\n\t\tverify(mockStream, times(1)).close();\r\n\t\tspy.dispose();\r\n\t}\r\n\r\n}\r\n```\r\nI tried to follow the example [Mock Java Constructors With Mockito | Configuration and Examples\r\n][2] and creat a new unit test using MockedConstruction as the following \r\n\r\n```\r\nimport static org.mockito.ArgumentMatchers.any;\r\nimport static org.mockito.Mockito.times;\r\nimport static org.mockito.Mockito.verify;\r\nimport static org.mockito.Mockito.when;\r\n\r\nimport java.io.File;\r\nimport java.io.FileInputStream;\r\n\r\nimport org.junit.Test;\r\nimport org.mockito.MockedConstruction;\r\nimport org.mockito.Mockito;\r\n\r\npublic class FileViewerMockitoTest {\r\n\tString dir = System.getProperty(&quot;user.dir&quot;);\r\n\tString fileName = &quot;/testFiles/testRead.txt&quot;;\r\n\r\n\t@Test\r\n\tpublic void testFileViewerWithFilename() throws Exception {\r\n\t\ttry (MockedConstruction&lt;FileInputStream&gt; mocked = Mockito.mockConstruction(FileInputStream.class,\r\n\t\t\t\t(mock, context) -&gt; {\r\n\t\t\t\t\t// further stubbings ...\r\n\t\t\t\t\twhen(mock.read(any(), any(), any())).thenReturn((int) new File(dir + fileName).length() + 1);\r\n\t\t\t\t})) {\r\n\r\n\t\t\tFileViewer cut = new FileViewer(dir + fileName);\r\n\t\t\tverify(mocked, times(1)).close();\r\n\t\t\tcut.dispose();\r\n\t\t}\r\n\t}\r\n\r\n}\r\n```\r\nBut I got the following Exception \r\n\r\n```\r\norg.mockito.exceptions.base.MockitoException: Could not initialize mocked construction\r\n\tat java.io.FileInputStream.&lt;init&gt;(FileInputStream.java)\r\n\tat sun.misc.URLClassPath$FileLoader$1.getInputStream(URLClassPath.java:1385)\r\n\tat sun.misc.Resource.cachedInputStream(Resource.java:77)\r\n\tat sun.misc.Resource.getByteBuffer(Resource.java:160)\r\n\tat java.net.URLClassLoader.defineClass(URLClassLoader.java:455)\r\n\tat java.net.URLClassLoader.access$100(URLClassLoader.java:74)\r\n\tat java.net.URLClassLoader$1.run(URLClassLoader.java:369)\r\n\tat java.net.URLClassLoader$1.run(URLClassLoader.java:363)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.net.URLClassLoader.findClass(URLClassLoader.java:362)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:418)\r\n\tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:355)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:351)\r\n\tat com.cds.nrd.xss.util.FileViewerMockitoTest.testFileViewerWithFilename(FileViewerMockitoTest.java:30)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\r\n\tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n\tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\r\n\tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\r\n\tat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)\r\n\tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\r\n\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\r\n\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\r\n\tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\r\n\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\r\n\tat org.junit.runners.ParentRunner.run(ParentRunner.java:363)\r\n\tat org.junit.runner.JUnitCore.run(JUnitCore.java:137)\r\n\tat org.junit.runner.JUnitCore.run(JUnitCore.java:115)\r\n\tat org.junit.vintage.engine.execution.RunnerExecutor.execute(RunnerExecutor.java:43)\r\n\tat java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)\r\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\r\n\tat java.util.Iterator.forEachRemaining(Iterator.java:116)\r\n\tat java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1801)\r\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\r\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\r\n\tat java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)\r\n\tat java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)\r\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n\tat java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:418)\r\n\tat org.junit.vintage.engine.VintageTestEngine.executeAllChildren(VintageTestEngine.java:82)\r\n\tat org.junit.vintage.engine.VintageTestEngine.execute(VintageTestEngine.java:73)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:229)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:197)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:211)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:191)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:137)\r\n\tat org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:98)\r\n\tat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:529)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:756)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:452)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210)\r\nCaused by: java.lang.NullPointerException\r\n\tat com.cds.nrd.xss.util.FileViewerMockitoTest.lambda$0(FileViewerMockitoTest.java:27)\r\n\tat org.mockito.internal.creation.bytebuddy.InlineByteBuddyMockMaker$InlineConstructionMockControl.lambda$enable$0(InlineByteBuddyMockMaker.java:710)\r\n\tat org.mockito.internal.creation.bytebuddy.InlineByteBuddyMockMaker.lambda$new$3(InlineByteBuddyMockMaker.java:272)\r\n\tat org.mockito.internal.creation.bytebuddy.MockMethodAdvice.handleConstruction(MockMethodAdvice.java:176)\r\n\tat org.mockito.internal.creation.bytebuddy.inject.MockMethodDispatcher.handleConstruction(MockMethodDispatcher.java:53)\r\n\t... 57 more\r\n```\r\nAny idea about the reason of the exception or how to make it work, or any alternate approach?\r\n\r\n\r\n  [1]: https://javadoc.io/static/org.mockito/mockito-core/3.5.13/org/mockito/Mockito.html#mocked_construction\r\n  [2]: https://rieckpil.de/mock-java-constructors-and-their-object-creation-with-mockito/","title":"Using mockito-inline MockedConstruction to mock FileInputStream throws Could not initialize mocked construction","body":"<p>I'm trying to get rid of <code>PowerMock</code> and replace it with <code>mockito-inline</code> new feature <a href=\"https://javadoc.io/static/org.mockito/mockito-core/3.5.13/org/mockito/Mockito.html#mocked_construction\" rel=\"nofollow noreferrer\">Mocking object construction </a>,\nas I can't refactor the old source code.</p>\n<p>One of the test classes I have is mocking <code>FileInputStream</code>,\nthe class under test <code>FileViewer</code></p>\n<pre><code>import java.awt.Button;\nimport java.awt.Event;\nimport java.awt.Font;\nimport java.awt.TextArea;\nimport java.io.File;\nimport java.io.FileInputStream;\nimport java.io.IOException;\n\npublic class FileViewer extends java.awt.Frame {\n    private static final long serialVersionUID = 1L;\n    Button close;\n    GUIListener fGuiListener;\n\n    public FileViewer() {\n        super();\n        fGuiListener = new GUIListener();\n        addWindowListener(fGuiListener);\n    }\n\n    public FileViewer(String filename) throws IOException {\n        super(&quot;FileViewer: &quot; + filename);\n        fGuiListener = new GUIListener();\n        addWindowListener(fGuiListener);\n        File f = new File(filename);\n        int size = (int) f.length();\n        int bytes_read = 0;\n        byte[] data = new byte[size];\n        try (FileInputStream in = new FileInputStream(f)) {\n            while (bytes_read &lt; size)\n                bytes_read += in.read(data, bytes_read, size - bytes_read);\n        }\n        TextArea ta = new TextArea(new String(data, 0), 24, 80);\n        ta.setFont(new Font(&quot;Helvetica&quot;, Font.PLAIN, 12));\n        ta.setEditable(false);\n        this.add(&quot;Center&quot;, ta);\n        close = new Button(&quot;Close&quot;);\n        this.add(&quot;South&quot;, close);\n        this.pack();\n        this.show();\n    }\n\n    public boolean action(Event e, Object what) {\n        if (e.target == close) {\n            this.hide();\n            this.dispose();\n            return true;\n        } else\n            return false;\n    }\n}\n</code></pre>\n<p>and the original unit test using powermock was</p>\n<pre><code>import static org.mockito.ArgumentMatchers.any;\nimport static org.mockito.ArgumentMatchers.anyInt;\nimport static org.mockito.Mockito.times;\nimport static org.mockito.Mockito.verify;\nimport static org.mockito.Mockito.when;\n\nimport java.io.FileInputStream;\n\nimport org.junit.Before;\nimport org.junit.Test;\nimport org.junit.runner.RunWith;\nimport org.mockito.Mockito;\nimport org.powermock.api.mockito.PowerMockito;\nimport org.powermock.core.classloader.annotations.PowerMockIgnore;\nimport org.powermock.core.classloader.annotations.PrepareForTest;\nimport org.powermock.modules.junit4.PowerMockRunner;\n\n@PowerMockIgnore({ &quot;javax.management.*&quot;, &quot;javax.security.*&quot; })\n@RunWith(PowerMockRunner.class)\n@PrepareForTest({ FileViewer.class, FileInputStream.class, java.awt.Frame.class })\n\npublic class FileViewerTest {\n    String dir = System.getProperty(&quot;user.dir&quot;);\n    String fileName = &quot;/testFiles/testRead.txt&quot;;\n\n    FileInputStream mockStream = null;\n\n    @Before\n    public void setup() throws Exception {\n        mockStream = Mockito.mock(FileInputStream.class);\n        when(mockStream.read(any(byte[].class), anyInt(), anyInt())).thenReturn(2000);\n        PowerMockito.whenNew(FileInputStream.class).withAnyArguments().thenReturn(mockStream);\n    }\n\n    @Test\n    public void testFileViewer_wFilename() throws Exception {\n        FileViewer spy = Mockito.spy(new FileViewer(dir + fileName));\n        verify(mockStream, times(1)).close();\n        spy.dispose();\n    }\n\n}\n</code></pre>\n<p>I tried to follow the example <a href=\"https://rieckpil.de/mock-java-constructors-and-their-object-creation-with-mockito/\" rel=\"nofollow noreferrer\">Mock Java Constructors With Mockito | Configuration and Examples\n</a> and creat a new unit test using MockedConstruction as the following</p>\n<pre><code>import static org.mockito.ArgumentMatchers.any;\nimport static org.mockito.Mockito.times;\nimport static org.mockito.Mockito.verify;\nimport static org.mockito.Mockito.when;\n\nimport java.io.File;\nimport java.io.FileInputStream;\n\nimport org.junit.Test;\nimport org.mockito.MockedConstruction;\nimport org.mockito.Mockito;\n\npublic class FileViewerMockitoTest {\n    String dir = System.getProperty(&quot;user.dir&quot;);\n    String fileName = &quot;/testFiles/testRead.txt&quot;;\n\n    @Test\n    public void testFileViewerWithFilename() throws Exception {\n        try (MockedConstruction&lt;FileInputStream&gt; mocked = Mockito.mockConstruction(FileInputStream.class,\n                (mock, context) -&gt; {\n                    // further stubbings ...\n                    when(mock.read(any(), any(), any())).thenReturn((int) new File(dir + fileName).length() + 1);\n                })) {\n\n            FileViewer cut = new FileViewer(dir + fileName);\n            verify(mocked, times(1)).close();\n            cut.dispose();\n        }\n    }\n\n}\n</code></pre>\n<p>But I got the following Exception</p>\n<pre><code>org.mockito.exceptions.base.MockitoException: Could not initialize mocked construction\n    at java.io.FileInputStream.&lt;init&gt;(FileInputStream.java)\n    at sun.misc.URLClassPath$FileLoader$1.getInputStream(URLClassPath.java:1385)\n    at sun.misc.Resource.cachedInputStream(Resource.java:77)\n    at sun.misc.Resource.getByteBuffer(Resource.java:160)\n    at java.net.URLClassLoader.defineClass(URLClassLoader.java:455)\n    at java.net.URLClassLoader.access$100(URLClassLoader.java:74)\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:369)\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:363)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:362)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:418)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:355)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:351)\n    at com.cds.nrd.xss.util.FileViewerMockitoTest.testFileViewerWithFilename(FileViewerMockitoTest.java:30)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\n    at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\n    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:363)\n    at org.junit.runner.JUnitCore.run(JUnitCore.java:137)\n    at org.junit.runner.JUnitCore.run(JUnitCore.java:115)\n    at org.junit.vintage.engine.execution.RunnerExecutor.execute(RunnerExecutor.java:43)\n    at java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)\n    at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n    at java.util.Iterator.forEachRemaining(Iterator.java:116)\n    at java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1801)\n    at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n    at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n    at java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)\n    at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)\n    at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n    at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:418)\n    at org.junit.vintage.engine.VintageTestEngine.executeAllChildren(VintageTestEngine.java:82)\n    at org.junit.vintage.engine.VintageTestEngine.execute(VintageTestEngine.java:73)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:229)\n    at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:197)\n    at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:211)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:191)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:137)\n    at org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:98)\n    at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:529)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:756)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:452)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210)\nCaused by: java.lang.NullPointerException\n    at com.cds.nrd.xss.util.FileViewerMockitoTest.lambda$0(FileViewerMockitoTest.java:27)\n    at org.mockito.internal.creation.bytebuddy.InlineByteBuddyMockMaker$InlineConstructionMockControl.lambda$enable$0(InlineByteBuddyMockMaker.java:710)\n    at org.mockito.internal.creation.bytebuddy.InlineByteBuddyMockMaker.lambda$new$3(InlineByteBuddyMockMaker.java:272)\n    at org.mockito.internal.creation.bytebuddy.MockMethodAdvice.handleConstruction(MockMethodAdvice.java:176)\n    at org.mockito.internal.creation.bytebuddy.inject.MockMethodDispatcher.handleConstruction(MockMethodDispatcher.java:53)\n    ... 57 more\n</code></pre>\n<p>Any idea about the reason of the exception or how to make it work, or any alternate approach?</p>\n"},{"tags":["java","spring-boot","amazon-s3","aws-sdk-java-2.0"],"answers":[{"tags":[],"owner":{"account_id":1329738,"reputation":5799,"user_id":1273882,"accept_rate":39,"display_name":"Ankush Jain"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1672901049,"creation_date":1672901049,"answer_id":75014705,"question_id":75014617,"body_markdown":"Below are the replacements for the methods that you are looking for in 2.x SDK:\r\n\r\n| 1.11.x Operation | 2.0 Operation|\r\n| ----------- | ----------- |\r\n| `getUrl` | [S3Utilities#getUrl](https://github.com/aws/aws-sdk-java-v2/blob/7428f629753c603f96dd700ca686a7b169fc4cd4/services/s3/src/main/java/software/amazon/awssdk/services/s3/S3Utilities.java#L140)|\r\n| `doesObjectExist` | `headObject`|\r\n\r\n\r\nHere is a complete mapping of [S3 1.x and 2.0 Operations](https://github.com/aws/aws-sdk-java-v2/blob/master/docs/LaunchChangelog.md#411-s3-operation-migration).","title":"How to get S3 URL for the object from S3 bucket using aws-sdk-2.x","body":"<p>Below are the replacements for the methods that you are looking for in 2.x SDK:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>1.11.x Operation</th>\n<th>2.0 Operation</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>getUrl</code></td>\n<td><a href=\"https://github.com/aws/aws-sdk-java-v2/blob/7428f629753c603f96dd700ca686a7b169fc4cd4/services/s3/src/main/java/software/amazon/awssdk/services/s3/S3Utilities.java#L140\" rel=\"nofollow noreferrer\">S3Utilities#getUrl</a></td>\n</tr>\n<tr>\n<td><code>doesObjectExist</code></td>\n<td><code>headObject</code></td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>Here is a complete mapping of <a href=\"https://github.com/aws/aws-sdk-java-v2/blob/master/docs/LaunchChangelog.md#411-s3-operation-migration\" rel=\"nofollow noreferrer\">S3 1.x and 2.0 Operations</a>.</p>\n"}],"owner":{"account_id":4487116,"reputation":429,"user_id":3649352,"accept_rate":67,"display_name":"Kunal Varpe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":684,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75014705,"answer_count":1,"score":0,"last_activity_date":1672901049,"creation_date":1672900527,"question_id":75014617,"body_markdown":"We were using the AWS Java SDK-1.x version in our application till now. We decided to migrate to the 2.x. As per my analysis I have found out the equivalent function which we are using for 1.x client operation in 2.x in our application. But for some operation I could not able to find matching functions. Below are the details.\r\n\r\n\r\n| 1.x (AmazonS3) | 2.x (S3AsyncClient) |\r\n| -------- | -------- |\r\n| getObject(String bucket, String key)   | getObject(GetObjectRequest req, Path destination)   |\r\n| putObject(String bucket, String key, File file)| putObject(PutObjectRequest req, Path source)|\r\n| generatePresignedUrl(GeneratePresignedUrlRequest req) | S3PreSigner.presignGetObject(GetObjectPresignRequest req) |\r\n| deleteObject(String bucket, String key) | deleteObject(DeleteObjectRequest req) |\r\n| getUrl(String bucket, String key) | ? |\r\n| doesObjectExist(String bucket, String key) | ? |\r\n\r\nAny help or pointer is really appreciated.","title":"How to get S3 URL for the object from S3 bucket using aws-sdk-2.x","body":"<p>We were using the AWS Java SDK-1.x version in our application till now. We decided to migrate to the 2.x. As per my analysis I have found out the equivalent function which we are using for 1.x client operation in 2.x in our application. But for some operation I could not able to find matching functions. Below are the details.</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>1.x (AmazonS3)</th>\n<th>2.x (S3AsyncClient)</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>getObject(String bucket, String key)</td>\n<td>getObject(GetObjectRequest req, Path destination)</td>\n</tr>\n<tr>\n<td>putObject(String bucket, String key, File file)</td>\n<td>putObject(PutObjectRequest req, Path source)</td>\n</tr>\n<tr>\n<td>generatePresignedUrl(GeneratePresignedUrlRequest req)</td>\n<td>S3PreSigner.presignGetObject(GetObjectPresignRequest req)</td>\n</tr>\n<tr>\n<td>deleteObject(String bucket, String key)</td>\n<td>deleteObject(DeleteObjectRequest req)</td>\n</tr>\n<tr>\n<td>getUrl(String bucket, String key)</td>\n<td>?</td>\n</tr>\n<tr>\n<td>doesObjectExist(String bucket, String key)</td>\n<td>?</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>Any help or pointer is really appreciated.</p>\n"},{"tags":["java","netbeans","ant","wsimport","netbeans-14"],"owner":{"account_id":3239634,"reputation":20214,"user_id":2732991,"accept_rate":80,"display_name":"Halvor Holsten Strand"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":394,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1672900971,"creation_date":1659682881,"question_id":73245861,"body_markdown":"I&#39;ve got a NetBeans 14 free-form project using Ant. It utilizes `wsimport` in its `build.xml`, and a lot of the targets depend on `wsimport`. After ending up with several JDKs (at least 1.8 and 17) I&#39;m having trouble building, from `wsimport` chosing the wrong JDK.\r\n\r\nIn the `build.xml` (extracts):\r\n\r\n```\r\n&lt;taskdef name=&quot;wsimport&quot; classname=&quot;com.sun.tools.ws.ant.WsImport&quot;&gt;\r\n    &lt;classpath&gt;\r\n            &lt;pathelement location=&quot;${lib}/jaxws22/jaxws-tools.jar&quot;/&gt;\r\n        &lt;/classpath&gt;\r\n    &lt;/taskdef&gt;\r\n\r\n&lt;target name=&quot;wsimport&quot;&gt;\r\n    &lt;wsimport\r\n        wsdl=&quot;http://address/to/wsdl.xml&quot;\r\n        catalog=&quot;${metainf}/jax-ws-catalog.xml&quot;\r\n        destdir=&quot;${release}&quot;\r\n        sourcedestdir=&quot;${src-gen}&quot;\r\n        keep=&quot;true&quot;\r\n        extension=&quot;true&quot;\r\n        verbose=&quot;true&quot;&gt;\r\n        &lt;depends file=&quot;${metainf}/jax-ws-catalog.xml&quot;/&gt;\r\n        &lt;depends file=&quot;${wsdl}/wsdl.xml&quot;/&gt;\r\n        &lt;produces dir=&quot;${src-gen}&quot;/&gt;\r\n    &lt;/wsimport&gt;\r\n&lt;/target&gt;\r\n\r\n&lt;target name=&quot;compile&quot; depends=&quot;init,wsimport&quot; description=&quot;compile the source&quot;&gt;\r\n    &lt;javac ... /&gt;\r\n&lt;/target&gt;\r\n```\r\n\r\nThe problem is that when running `wsimport` seems to select JDK17, while I want it to select JDK1.8. The output is this:\r\n\r\n```\r\ncommand line: wsimportC:\\path\\to\\jdk-17.0.2\\bin\\java.exe ... http://address/to/wsdl.xml\r\n```\r\n\r\nWhich gives:\r\n\r\n```\r\njava.lang.NoClassDefFoundError: com/sun/org/apache/xml/internal/resolver/CatalogManager\r\n\tat com.sun.tools.ws.wscompile.WsimportOptions.parseArguments(WsimportOptions.java:317)\r\n    ...\r\n```\r\n\r\nWhich I&#39;ve got down to not working with JDK 17. How can I make `wsimport` use the correct JDK in this scenario?","title":"Specify/fix JDK used by wsimport in Ant build","body":"<p>I've got a NetBeans 14 free-form project using Ant. It utilizes <code>wsimport</code> in its <code>build.xml</code>, and a lot of the targets depend on <code>wsimport</code>. After ending up with several JDKs (at least 1.8 and 17) I'm having trouble building, from <code>wsimport</code> chosing the wrong JDK.</p>\n<p>In the <code>build.xml</code> (extracts):</p>\n<pre><code>&lt;taskdef name=&quot;wsimport&quot; classname=&quot;com.sun.tools.ws.ant.WsImport&quot;&gt;\n    &lt;classpath&gt;\n            &lt;pathelement location=&quot;${lib}/jaxws22/jaxws-tools.jar&quot;/&gt;\n        &lt;/classpath&gt;\n    &lt;/taskdef&gt;\n\n&lt;target name=&quot;wsimport&quot;&gt;\n    &lt;wsimport\n        wsdl=&quot;http://address/to/wsdl.xml&quot;\n        catalog=&quot;${metainf}/jax-ws-catalog.xml&quot;\n        destdir=&quot;${release}&quot;\n        sourcedestdir=&quot;${src-gen}&quot;\n        keep=&quot;true&quot;\n        extension=&quot;true&quot;\n        verbose=&quot;true&quot;&gt;\n        &lt;depends file=&quot;${metainf}/jax-ws-catalog.xml&quot;/&gt;\n        &lt;depends file=&quot;${wsdl}/wsdl.xml&quot;/&gt;\n        &lt;produces dir=&quot;${src-gen}&quot;/&gt;\n    &lt;/wsimport&gt;\n&lt;/target&gt;\n\n&lt;target name=&quot;compile&quot; depends=&quot;init,wsimport&quot; description=&quot;compile the source&quot;&gt;\n    &lt;javac ... /&gt;\n&lt;/target&gt;\n</code></pre>\n<p>The problem is that when running <code>wsimport</code> seems to select JDK17, while I want it to select JDK1.8. The output is this:</p>\n<pre><code>command line: wsimportC:\\path\\to\\jdk-17.0.2\\bin\\java.exe ... http://address/to/wsdl.xml\n</code></pre>\n<p>Which gives:</p>\n<pre><code>java.lang.NoClassDefFoundError: com/sun/org/apache/xml/internal/resolver/CatalogManager\n    at com.sun.tools.ws.wscompile.WsimportOptions.parseArguments(WsimportOptions.java:317)\n    ...\n</code></pre>\n<p>Which I've got down to not working with JDK 17. How can I make <code>wsimport</code> use the correct JDK in this scenario?</p>\n"},{"tags":["java","spring","security","jwt"],"comments":[{"owner":{"account_id":10283144,"reputation":2440,"user_id":7587451,"display_name":"Giovanni Contreras"},"score":0,"creation_date":1672880246,"post_id":75010875,"comment_id":132375124,"body_markdown":"what error ? print stacktrace , please","body":"what error ? print stacktrace , please"}],"answers":[{"tags":[],"owner":{"account_id":27408950,"reputation":1,"user_id":20909144,"display_name":"Shubham Pansare"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1672900346,"creation_date":1672899391,"answer_id":75014486,"question_id":75010875,"body_markdown":"After to many reaserch i found my answer this error happens because i am not providing the user roll from front end and defining it harrcoded in my backend\r\nif we wanted to do that we have to specify that property in model with @JsonIgnore like bellow one\r\n\r\n@OneToMany(cascade = CascadeType.ALL ,fetch = FetchType.EAGER,mappedBy =&quot;user&quot;)\r\n\t\r\n@JsonIgnore\r\n\r\nprivate List&lt;UserRoll&gt; userRolls=new ArrayList&lt;&gt;();\r\n\r\nit informs the serverlet request to egnore the null json of that specific property......\r\n\r\nFor this kind of databind errors use @JsonIgnore it works for me. this is jaxb databind error thats why spring security throwing Access denied error After Commiting data to Db...\r\n","title":"Getting org.springframework.security.access.AccessDeniedException: Access Denied Even After data saved to database in jwtAuthentication","body":"<p>After to many reaserch i found my answer this error happens because i am not providing the user roll from front end and defining it harrcoded in my backend\nif we wanted to do that we have to specify that property in model with @JsonIgnore like bellow one</p>\n<p>@OneToMany(cascade = CascadeType.ALL ,fetch = FetchType.EAGER,mappedBy =&quot;user&quot;)</p>\n<p>@JsonIgnore</p>\n<p>private List userRolls=new ArrayList&lt;&gt;();</p>\n<p>it informs the serverlet request to egnore the null json of that specific property......</p>\n<p>For this kind of databind errors use @JsonIgnore it works for me. this is jaxb databind error thats why spring security throwing Access denied error After Commiting data to Db...</p>\n"}],"owner":{"account_id":27408950,"reputation":1,"user_id":20909144,"display_name":"Shubham Pansare"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":339,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75014486,"answer_count":1,"score":-1,"last_activity_date":1672900346,"creation_date":1672863697,"question_id":75010875,"body_markdown":"This is my controller class code which I am using for getting user and save that particular user in database but after hitting data/or sending the data it was committed to my database but after that I am getting this error message.\r\n\r\n```java\r\npackage com.app.Exam.USerController;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.security.crypto.password.PasswordEncoder;\r\nimport org.springframework.web.bind.annotation.CrossOrigin;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.PathVariable;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport com.app.Exam.Models.Roles;\r\nimport com.app.Exam.Models.User;\r\nimport com.app.Exam.Models.UserRoll;\r\nimport com.app.Exam.Service.UserService;\r\n\r\n@CrossOrigin(origins = &quot;http://localhost:4200&quot;)\r\n@RestController\r\n@RequestMapping(&quot;/user&quot;)\r\npublic class UserController {\r\n\t@Autowired\r\n\tprivate UserService userService;\r\n\t\r\n\t@Autowired\r\n private PasswordEncoder bCryptPasswordEncoder;\r\n\t\r\n\t@PostMapping(&quot;/&quot;)\r\n\tpublic User createUser(@RequestBody User user) throws Exception {\r\n\t\t\r\n\t\tUser user2=new User();\r\n\t\tuser2.setPassword(this.bCryptPasswordEncoder.encode(user.getPassword()));\r\n\t\tuser2.setEmail(user.getEmail());\r\n\t\tuser2.setFirstName(user.getFirstName());\r\n\t\tuser2.setLastName(user.getLastName());\r\n\t\tuser2.setPhone(user.getPhone());\r\n\t\tuser2.setUserName(user.getUserName());\r\n\t\t\r\n\t\tRoles roll=new Roles();\r\n\t\t//roll.setRollId(46L);\r\n\t\troll.setRollName(&quot;NORMAL&quot;);\r\n\t\t\r\n\t\t\r\n\t\t//user.setUserRolls(list);\r\n\t\t\r\n\t\tList&lt;UserRoll&gt; list=new ArrayList&lt;&gt;();\r\n\t\tUserRoll userRoll=new UserRoll();\r\n\t\tuserRoll.setRoles(roll);\r\n\t\tuserRoll.setUser(user2); \r\n\t\tlist.add(userRoll);\r\n\t\troll.setUserRolls(list);\r\n\t\t\r\n\t\t\r\n\t\t\r\n User local=this.userService.CreateUser(user2,list);\r\n\t \r\n\t return local;\r\n\t}\r\n\t\r\n\t@GetMapping(&quot;/{username}&quot;)\r\n\tprivate User getUserByName(@PathVariable(&quot;username&quot;) String username) {\r\n\tUser user=this.userService.getUserByName(username);\r\n\treturn user;\r\n\t}\r\n\t\r\n//\t@GetMapping(&quot;/{id}&quot;)\r\n//\tprivate User deleteUser(@PathVariable(&quot;id&quot;) Long id) throws Exception {\r\n//\tUser user=this.userService.deleteUserbyid(id);\r\n//\treturn user;\r\n//\t}\r\n\r\n}\r\n```\r\n\r\n\r\nMy spring security config class was as below:\r\n```java\r\npackage com.app.Exam.Security;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.http.HttpMethod;\r\nimport org.springframework.security.authentication.AuthenticationManager;\r\nimport org.springframework.security.authentication.dao.DaoAuthenticationProvider;\r\nimport org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.config.http.SessionCreationPolicy;\r\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\nimport org.springframework.security.crypto.password.NoOpPasswordEncoder;\r\nimport org.springframework.security.crypto.password.PasswordEncoder;\r\nimport org.springframework.security.web.SecurityFilterChain;\r\nimport org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;\r\n\r\nimport com.app.Exam.JwtConfig.JwtAuthenticationEntryPoint;\r\nimport com.app.Exam.JwtConfig.JwtRequestFilter;\r\n\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class SecurityConfig {\r\n\t@Autowired\r\n\tprivate UserDetailsService userDetailsService;\r\n\t\r\n\t@Autowired\r\n\tJwtAuthenticationEntryPoint jwtAuthenticationEntryPoint;\r\n\r\n\t@Autowired\r\n\tJwtRequestFilter jwtAuthenticationFilter;\r\n\t\r\n\t@Bean\r\n\tpublic SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception{\r\n\t\t \r\n\t\r\n\t\thttp\r\n\t\t.csrf().disable().cors().disable()\r\n\t\t.authorizeHttpRequests() \r\n\t\t.requestMatchers(&quot;/Authenticate&quot;,&quot;/user/&quot;).permitAll()\r\n\t\t.requestMatchers(HttpMethod.OPTIONS).permitAll()\r\n\t\t.anyRequest().authenticated()  \r\n\t\t.and()\r\n\t\t.exceptionHandling()\r\n\t\t.authenticationEntryPoint(jwtAuthenticationEntryPoint)\r\n\t\t.and()\r\n\t\t.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n\t\thttp.authenticationProvider(this.daoAuthenticationProvider());\r\n\t\thttp.addFilterBefore(jwtAuthenticationFilter, UsernamePasswordAuthenticationFilter.class);\r\n\t\t\r\n\treturn  http.build();\r\n\t\t\r\n\t}\r\n//\t@Override\r\n//\tprotected void configure(HttpSecurity http) throws Exception {\r\n//\t\thttp\r\n//\t\t.csrf().disable().cors()\r\n//\t\t.disable().authorizeHttpRequests().antMatchers(&quot;/Authenticate&quot;,&quot;/user/&quot;).permitAll()\r\n//\t\t.antMatchers(HttpMethod.OPTIONS).permitAll()\r\n//\t\t.anyRequest().authenticated() \r\n//\t\t.and()\r\n//\t\t.exceptionHandling()\r\n//\t\t.authenticationEntryPoint(jwtAuthenticationEntryPoint)\r\n//\t\t.and()\r\n//\t\t.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n//\t\t\r\n//\t\thttp.addFilterBefore(jwtAuthenticationFilter, UsernamePasswordAuthenticationFilter.class);\r\n//\t\t}\r\n//\t\r\n\t@Bean  \r\n\tPasswordEncoder pass() {\r\n\t\treturn new BCryptPasswordEncoder(); \r\n\t} \r\n\t\r\n//\t@Bean\r\n//\tAuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration) throws Exception {\r\n//\t\treturn authenticationConfiguration.getAuthenticationManager();\r\n//\t}\r\n\t \r\n\t@Bean\r\n    AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration) throws Exception { \r\n        return authenticationConfiguration.getAuthenticationManager();\r\n    }\r\n\t\r\n\t@Bean\r\n\tDaoAuthenticationProvider daoAuthenticationProvider() {\r\n\t\tDaoAuthenticationProvider daoAuthenticationProvider=new DaoAuthenticationProvider();\r\n\t\tdaoAuthenticationProvider.setUserDetailsService(this.userDetailsService);\r\n\t\tdaoAuthenticationProvider.setPasswordEncoder(this.pass());\r\n\t\treturn daoAuthenticationProvider;\r\n\t}\r\n\r\n}\r\n```\r\nMy errors Stackstrace is as belows..\r\n[enter image description here][1]\r\n[enter image description here][2]`enter code here`\r\n[enter image description here][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/u9Da7.png\r\n  [2]: https://i.stack.imgur.com/OQIyf.png\r\n  [3]: https://i.stack.imgur.com/t2k5q.png","title":"Getting org.springframework.security.access.AccessDeniedException: Access Denied Even After data saved to database in jwtAuthentication","body":"<p>This is my controller class code which I am using for getting user and save that particular user in database but after hitting data/or sending the data it was committed to my database but after that I am getting this error message.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.app.Exam.USerController;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.web.bind.annotation.CrossOrigin;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport com.app.Exam.Models.Roles;\nimport com.app.Exam.Models.User;\nimport com.app.Exam.Models.UserRoll;\nimport com.app.Exam.Service.UserService;\n\n@CrossOrigin(origins = &quot;http://localhost:4200&quot;)\n@RestController\n@RequestMapping(&quot;/user&quot;)\npublic class UserController {\n    @Autowired\n    private UserService userService;\n    \n    @Autowired\n private PasswordEncoder bCryptPasswordEncoder;\n    \n    @PostMapping(&quot;/&quot;)\n    public User createUser(@RequestBody User user) throws Exception {\n        \n        User user2=new User();\n        user2.setPassword(this.bCryptPasswordEncoder.encode(user.getPassword()));\n        user2.setEmail(user.getEmail());\n        user2.setFirstName(user.getFirstName());\n        user2.setLastName(user.getLastName());\n        user2.setPhone(user.getPhone());\n        user2.setUserName(user.getUserName());\n        \n        Roles roll=new Roles();\n        //roll.setRollId(46L);\n        roll.setRollName(&quot;NORMAL&quot;);\n        \n        \n        //user.setUserRolls(list);\n        \n        List&lt;UserRoll&gt; list=new ArrayList&lt;&gt;();\n        UserRoll userRoll=new UserRoll();\n        userRoll.setRoles(roll);\n        userRoll.setUser(user2); \n        list.add(userRoll);\n        roll.setUserRolls(list);\n        \n        \n        \n User local=this.userService.CreateUser(user2,list);\n     \n     return local;\n    }\n    \n    @GetMapping(&quot;/{username}&quot;)\n    private User getUserByName(@PathVariable(&quot;username&quot;) String username) {\n    User user=this.userService.getUserByName(username);\n    return user;\n    }\n    \n//  @GetMapping(&quot;/{id}&quot;)\n//  private User deleteUser(@PathVariable(&quot;id&quot;) Long id) throws Exception {\n//  User user=this.userService.deleteUserbyid(id);\n//  return user;\n//  }\n\n}\n</code></pre>\n<p>My spring security config class was as below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.app.Exam.Security;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.http.HttpMethod;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.authentication.dao.DaoAuthenticationProvider;\nimport org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.http.SessionCreationPolicy;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.crypto.password.NoOpPasswordEncoder;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.security.web.SecurityFilterChain;\nimport org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;\n\nimport com.app.Exam.JwtConfig.JwtAuthenticationEntryPoint;\nimport com.app.Exam.JwtConfig.JwtRequestFilter;\n\n@Configuration\n@EnableWebSecurity\npublic class SecurityConfig {\n    @Autowired\n    private UserDetailsService userDetailsService;\n    \n    @Autowired\n    JwtAuthenticationEntryPoint jwtAuthenticationEntryPoint;\n\n    @Autowired\n    JwtRequestFilter jwtAuthenticationFilter;\n    \n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception{\n         \n    \n        http\n        .csrf().disable().cors().disable()\n        .authorizeHttpRequests() \n        .requestMatchers(&quot;/Authenticate&quot;,&quot;/user/&quot;).permitAll()\n        .requestMatchers(HttpMethod.OPTIONS).permitAll()\n        .anyRequest().authenticated()  \n        .and()\n        .exceptionHandling()\n        .authenticationEntryPoint(jwtAuthenticationEntryPoint)\n        .and()\n        .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n        http.authenticationProvider(this.daoAuthenticationProvider());\n        http.addFilterBefore(jwtAuthenticationFilter, UsernamePasswordAuthenticationFilter.class);\n        \n    return  http.build();\n        \n    }\n//  @Override\n//  protected void configure(HttpSecurity http) throws Exception {\n//      http\n//      .csrf().disable().cors()\n//      .disable().authorizeHttpRequests().antMatchers(&quot;/Authenticate&quot;,&quot;/user/&quot;).permitAll()\n//      .antMatchers(HttpMethod.OPTIONS).permitAll()\n//      .anyRequest().authenticated() \n//      .and()\n//      .exceptionHandling()\n//      .authenticationEntryPoint(jwtAuthenticationEntryPoint)\n//      .and()\n//      .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n//      \n//      http.addFilterBefore(jwtAuthenticationFilter, UsernamePasswordAuthenticationFilter.class);\n//      }\n//  \n    @Bean  \n    PasswordEncoder pass() {\n        return new BCryptPasswordEncoder(); \n    } \n    \n//  @Bean\n//  AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration) throws Exception {\n//      return authenticationConfiguration.getAuthenticationManager();\n//  }\n     \n    @Bean\n    AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration) throws Exception { \n        return authenticationConfiguration.getAuthenticationManager();\n    }\n    \n    @Bean\n    DaoAuthenticationProvider daoAuthenticationProvider() {\n        DaoAuthenticationProvider daoAuthenticationProvider=new DaoAuthenticationProvider();\n        daoAuthenticationProvider.setUserDetailsService(this.userDetailsService);\n        daoAuthenticationProvider.setPasswordEncoder(this.pass());\n        return daoAuthenticationProvider;\n    }\n\n}\n</code></pre>\n<p>My errors Stackstrace is as belows..\n<a href=\"https://i.stack.imgur.com/u9Da7.png\" rel=\"nofollow noreferrer\">enter image description here</a>\n<a href=\"https://i.stack.imgur.com/OQIyf.png\" rel=\"nofollow noreferrer\">enter image description here</a><code>enter code here</code>\n<a href=\"https://i.stack.imgur.com/t2k5q.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","function","select","plpgsql"],"comments":[{"owner":{"account_id":176171,"reputation":43029,"user_id":406691,"display_name":"Pavel Stehule"},"score":1,"creation_date":1672893781,"post_id":75012591,"comment_id":132377143,"body_markdown":"use query `SELECT * FROM getCarsList()`","body":"use query <code>SELECT * FROM getCarsList()</code>"}],"owner":{"account_id":20509592,"reputation":1,"user_id":15051668,"display_name":"Artem.Ba"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1672899941,"answer_count":0,"score":0,"last_activity_date":1672900252,"creation_date":1672877081,"question_id":75012591,"body_markdown":"I have a postgres `plpgsql` function that returns a table of cars:\r\n\r\n```sql\r\nCREATE OR REPLACE FUNCTION getCarsList()\r\nRETURNS TABLE (\r\n    model varchar, \r\n    engine varchar, \r\n    manufacturer varchar\r\n) AS $$\r\n    BEGIN\r\n        RETURN QUERY SELECT * FROM cars;\r\n    END;\r\n$$ LANGUAGE plpgsql;\r\n```\r\n\r\nNow, I want to retrieve all table columns from the function and print them using Java. I&#39;ve tried to write the following code:\r\n\r\n```java\r\nresult = statement.executeQuery(&quot;SELECT getCarsList()&quot;);\r\nwhile (result.next()) {\r\n    System.out.println(result.getString((&quot;model&quot;)));\r\n    System.out.println(result.getString((&quot;engine&quot;)));\r\n    System.out.println(result.getString((&quot;manufacturer&quot;)));\r\n}\r\n```\r\n\r\nBut got the following `SQLSyntaxErrorException`:\r\n\r\n```\r\nMessage: The column name model was not found in this ResultSet.\r\nSQLState: 42703\r\nErrorCode: 0\r\n```\r\n\r\nSo, since I don&#39;t really understand what is causing the message, is there a way to do what I want?","title":"How can I read a table that is returned from a plpgsql function using Java?","body":"<p>I have a postgres <code>plpgsql</code> function that returns a table of cars:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE OR REPLACE FUNCTION getCarsList()\nRETURNS TABLE (\n    model varchar, \n    engine varchar, \n    manufacturer varchar\n) AS $$\n    BEGIN\n        RETURN QUERY SELECT * FROM cars;\n    END;\n$$ LANGUAGE plpgsql;\n</code></pre>\n<p>Now, I want to retrieve all table columns from the function and print them using Java. I've tried to write the following code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>result = statement.executeQuery(&quot;SELECT getCarsList()&quot;);\nwhile (result.next()) {\n    System.out.println(result.getString((&quot;model&quot;)));\n    System.out.println(result.getString((&quot;engine&quot;)));\n    System.out.println(result.getString((&quot;manufacturer&quot;)));\n}\n</code></pre>\n<p>But got the following <code>SQLSyntaxErrorException</code>:</p>\n<pre><code>Message: The column name model was not found in this ResultSet.\nSQLState: 42703\nErrorCode: 0\n</code></pre>\n<p>So, since I don't really understand what is causing the message, is there a way to do what I want?</p>\n"},{"tags":["java","spring","oracle","hibernate"],"comments":[{"owner":{"account_id":6871757,"reputation":470,"user_id":5547899,"display_name":"Jigar Shah"},"score":0,"creation_date":1511349684,"post_id":47433200,"comment_id":81820972,"body_markdown":"Please add the screenshot for error and also post your code snippet for the same.","body":"Please add the screenshot for error and also post your code snippet for the same."},{"owner":{"account_id":12069649,"reputation":1,"user_id":8825467,"display_name":"malli"},"score":0,"creation_date":1511414489,"post_id":47433200,"comment_id":81851189,"body_markdown":"hi bayya please check it once","body":"hi bayya please check it once"},{"owner":{"account_id":9074842,"reputation":988,"user_id":6756805,"accept_rate":78,"display_name":"Hema"},"score":0,"creation_date":1511414624,"post_id":47433200,"comment_id":81851233,"body_markdown":"Is data inserted...? have u checked in DB","body":"Is data inserted...? have u checked in DB"},{"owner":{"account_id":12069649,"reputation":1,"user_id":8825467,"display_name":"malli"},"score":0,"creation_date":1511414979,"post_id":47433200,"comment_id":81851345,"body_markdown":"yes data successfully inserted but success page shows error","body":"yes data successfully inserted but success page shows error"},{"owner":{"account_id":6871757,"reputation":470,"user_id":5547899,"display_name":"Jigar Shah"},"score":0,"creation_date":1511415088,"post_id":47433200,"comment_id":81851395,"body_markdown":"SQL state [99999]; error code [17004] occurs when there is column mismatch. Have a look at the input and data types specified for the same.","body":"SQL state [99999]; error code [17004] occurs when there is column mismatch. Have a look at the input and data types specified for the same."},{"owner":{"account_id":12069649,"reputation":1,"user_id":8825467,"display_name":"malli"},"score":0,"creation_date":1511415480,"post_id":47433200,"comment_id":81851519,"body_markdown":"i confused to find out","body":"i confused to find out"}],"answers":[{"tags":[],"owner":{"account_id":27438499,"reputation":9,"user_id":20933875,"display_name":"sagar rokade"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1672900150,"creation_date":1672900150,"answer_id":75014579,"question_id":47433200,"body_markdown":"Hibernate: insert into student_inforamtion (city, fname, lname, mobile_number) values (?, ?, ?, ?)\r\n\r\nthis type of error is their do not sue Lombok use manually getter setters","title":"I am inserting student data into table through hibernate data inserting but success page not open it shows error","body":"<p>Hibernate: insert into student_inforamtion (city, fname, lname, mobile_number) values (?, ?, ?, ?)</p>\n<p>this type of error is their do not sue Lombok use manually getter setters</p>\n"}],"owner":{"account_id":12069649,"reputation":1,"user_id":8825467,"display_name":"malli"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":480,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672900150,"creation_date":1511348962,"question_id":47433200,"body_markdown":"I am inserting `Student` data using **Spring,Hibernate,Oracle** , I am facing issue as addressed below,Please do check and help me  resolve \r\n\r\n**Mycontroller.java**\r\n   \r\n          @RequestMapping(value =&quot;/registerSuccess&quot; ,method=RequestMethod.POST)\r\n    \t   public ModelAndView registerSuccess(@Valid @ModelAttribute(&quot;student&quot;) \r\n             Student student,BindingResult bindingResult){\r\n    \t\tif(bindingResult.hasErrors()){\r\n    \t\t\treturn new ModelAndView(&quot;register&quot;);\r\n    \t\t}\r\n    \t\t\r\n    \t\tgetStudentService().registerStudent(student);\r\n    \t\tModelAndView modelAndView = new ModelAndView(&quot;welcome&quot;);\r\n    \t\tmodelAndView.addObject(&quot;student&quot;, student);\r\n    \t\treturn modelAndView;\r\n    \t\t\r\n    \t  }\r\n \r\n\r\n    \r\n\r\n       \r\n **Student.java**\r\n\r\n        package com.infotech.model;\r\n    \r\n        import javax.persistence.Column;\r\n        import javax.persistence.Entity;\r\n        import javax.persistence.GeneratedValue;\r\n        import javax.persistence.GenerationType;\r\n        import javax.persistence.Id;\r\n        import javax.persistence.Table;\r\n        import javax.validation.constraints.Min;\r\n        import javax.validation.constraints.NotNull;\r\n        import javax.validation.constraints.Pattern;\r\n        import javax.validation.constraints.Size;\r\n    \r\n         import org.hibernate.validator.constraints.Email;\r\n         import org.hibernate.validator.constraints.NotEmpty;\r\n    \r\n        @Entity\r\n        @Table(name = &quot;student_table&quot;)\r\n        public class Student {\r\n    \r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.AUTO)\r\n    \t@Column(name = &quot;id&quot; ,columnDefinition=&quot;NUMBER&quot;)\r\n    \tprivate int id;\r\n    \t\r\n    \t@NotEmpty\r\n    \t@Pattern(regexp=&quot;[^0-9]+&quot;)\r\n    \t@Size(min=6,max=20)\r\n    \t@Column(name = &quot;student_name&quot;)\r\n    \tprivate String studentName;\r\n    \t\r\n    \t@NotEmpty\r\n    \t@Column(name = &quot;gender&quot;)\r\n    \tprivate String gender;\r\n    \t\r\n    \t@Size(min=1)\r\n    \t@NotNull\r\n    \t@Column(name = &quot;technology&quot;)\r\n    \tprivate String technology;\r\n    \t\r\n    \t@NotEmpty\r\n    \t@Column(name = &quot;city&quot;)\r\n    \tprivate String city;\r\n    \t\r\n    \t@NotEmpty\r\n    \t@Email\r\n    \t@Column(name = &quot;email&quot;)\r\n    \tprivate String email;\r\n    \t\r\n    \t@NotEmpty\r\n    \t@Column(name = &quot;password&quot;)\r\n    \tprivate String password;\r\n    \t\r\n    \t@NotNull\r\n    \t@Min(value = 1000000000)\r\n    \t@Column(name = &quot;phone&quot;)\r\n    \tprivate Long phone;\r\n    \t//getters and setters\r\n    \t\r\n        }\r\n\r\n         \r\n       \r\n **StudentService.java**\r\n\r\n\r\n       package com.infotech.service;\r\n    \r\n       import com.infotech.model.Student;\r\n    \r\n        public interface StudentService {\r\n    \tpublic abstract Student validateStudentCredential(String email,\tString \r\n         password);\r\n    \t  public abstract boolean registerStudent(Student student);\r\n    \r\n         }\r\n\r\n  \r\n    \r\n **StuentDAo.java**\r\n\r\n    package com.infotech.dao;\r\n\r\n       import com.infotech.model.Student;\r\n    \r\n         public interface StudentDAO {\r\n    \tpublic abstract boolean saveStudent(Student student);\r\n    \tpublic Student getStudentDetailsByEmailAndPassword(String email,String \r\n      password);\r\n        }\r\n\r\n   \r\n **StudentCredential.java**\r\n\r\n\r\n      package com.infotech.model;\r\n    \r\n      import org.hibernate.validator.constraints.Email;\r\n      import org.hibernate.validator.constraints.NotEmpty;\r\n    \r\n      public class StudentCredential {\r\n    \r\n    \t@NotEmpty\r\n    \t@Email\r\n    \tprivate String email;\r\n    \t\r\n    \t@NotEmpty\r\n    \tprivate String password;\r\n    \r\n    \tpublic String getEmail() {\r\n    \t\treturn email;\r\n    \t}\r\n    \r\n    \tpublic void setEmail(String email) {\r\n    \t\tthis.email = email;\r\n    \t}\r\n    \r\n    \tpublic String getPassword() {\r\n    \t\treturn password;\r\n    \t}\r\n    \r\n    \tpublic void setPassword(String password) {\r\n    \t\tthis.password = password;\r\n    \t}\r\n        }\r\n\r\n   \r\n\r\n    \r\n **StudentServiceImpl.java**\r\n\r\n        package com.infotech.service.impl;\r\n    \r\n       import org.springframework.beans.factory.annotation.Autowired;\r\n       import org.springframework.stereotype.Service;\r\n    \r\n       import com.infotech.dao.StudentDAO;\r\n        import com.infotech.model.Student;\r\n        import com.infotech.service.StudentService;\r\n    \r\n        @Service(&quot;studentService&quot;)\r\n        public class StudentServiceImpl implements StudentService {\r\n    \t\r\n    \t@Autowired\r\n    \tprivate StudentDAO studentDAO;\r\n    \t\r\n    \tpublic void setStudentDAO(StudentDAO studentDAO) {\r\n    \t\tthis.studentDAO = studentDAO;\r\n    \t}\r\n    \t\r\n    \tpublic StudentDAO getStudentDAO() {\r\n    \t\treturn studentDAO;\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic boolean registerStudent(Student student) {\r\n    \t\tboolean isRegister=false;\r\n    \t\tboolean saveStudent = getStudentDAO().saveStudent(student);\r\n    \t\tif(saveStudent)\r\n    \t\t\tisRegister=true;\r\n    \t\treturn isRegister;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic Student validateStudentCredential(String email, String password) \r\n        {\r\n    \t\tStudent student = \r\n          getStudentDAO().getStudentDetailsByEmailAndPassword(email, password);\r\n    \t\treturn student;\r\n    \t}\r\n        }\r\n    enter code here\r\n\r\n      I am using database oracle 11g xe edition in that table \r\n\r\n   \r\n\r\n      CREATE TABLE  &quot;STUDENT_TABLE&quot; \r\n       (\t&quot;ID&quot; NUMBER(11,0), \r\n    \t&quot;STUDENT_NAME&quot; VARCHAR2(65), \r\n    \t&quot;GENDER&quot; VARCHAR2(10), \r\n    \t&quot;TECHNOLOGY&quot; VARCHAR2(20), \r\n    \t&quot;CITY&quot; VARCHAR2(20), \r\n    \t&quot;EMAIL&quot; VARCHAR2(65), \r\n    \t&quot;PASSWORD&quot; VARCHAR2(65), \r\n    \t&quot;PHONE&quot; NUMBER(20,0), \r\n    \t CONSTRAINT &quot;STUDENT_TABLE_PK&quot; PRIMARY KEY (&quot;ID&quot;) ENABLE\r\n       ) ;\r\n    \r\n    CREATE OR REPLACE TRIGGER  &quot;BI_STUDENT_TABLE&quot; \r\n      before insert on &quot;STUDENT_TABLE&quot;               \r\n      for each row  \r\n    begin   \r\n      if :NEW.&quot;ID&quot; is null then \r\n        select &quot;STUDENT_TABLE_SEQ&quot;.nextval into :NEW.&quot;ID&quot; from dual; \r\n      end if; \r\n    end; \r\n\r\n\r\n&gt;Request processing failed; nested exception is org.springframework.orm.hibernate4.HibernateJdbcException: JDBC exception on Hibernate data access: SQLException for SQL [insert into student_table (city, email, gender, password, phone, student_name, technology) values (?, ?, ?, ?, ?, ?, ?)]; SQL state [99999]; error code [17004]; could not insert: [com.infotech.model.Student]; nested exception is org.hibernate.exception.GenericJDBCException: could not insert: [com.infotech.model.Student]","title":"I am inserting student data into table through hibernate data inserting but success page not open it shows error","body":"<p>I am inserting <code>Student</code> data using <strong>Spring,Hibernate,Oracle</strong> , I am facing issue as addressed below,Please do check and help me  resolve </p>\n\n<p><strong>Mycontroller.java</strong></p>\n\n<pre><code>      @RequestMapping(value =\"/registerSuccess\" ,method=RequestMethod.POST)\n       public ModelAndView registerSuccess(@Valid @ModelAttribute(\"student\") \n         Student student,BindingResult bindingResult){\n        if(bindingResult.hasErrors()){\n            return new ModelAndView(\"register\");\n        }\n\n        getStudentService().registerStudent(student);\n        ModelAndView modelAndView = new ModelAndView(\"welcome\");\n        modelAndView.addObject(\"student\", student);\n        return modelAndView;\n\n      }\n</code></pre>\n\n<p><strong>Student.java</strong></p>\n\n<pre><code>    package com.infotech.model;\n\n    import javax.persistence.Column;\n    import javax.persistence.Entity;\n    import javax.persistence.GeneratedValue;\n    import javax.persistence.GenerationType;\n    import javax.persistence.Id;\n    import javax.persistence.Table;\n    import javax.validation.constraints.Min;\n    import javax.validation.constraints.NotNull;\n    import javax.validation.constraints.Pattern;\n    import javax.validation.constraints.Size;\n\n     import org.hibernate.validator.constraints.Email;\n     import org.hibernate.validator.constraints.NotEmpty;\n\n    @Entity\n    @Table(name = \"student_table\")\n    public class Student {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = \"id\" ,columnDefinition=\"NUMBER\")\n    private int id;\n\n    @NotEmpty\n    @Pattern(regexp=\"[^0-9]+\")\n    @Size(min=6,max=20)\n    @Column(name = \"student_name\")\n    private String studentName;\n\n    @NotEmpty\n    @Column(name = \"gender\")\n    private String gender;\n\n    @Size(min=1)\n    @NotNull\n    @Column(name = \"technology\")\n    private String technology;\n\n    @NotEmpty\n    @Column(name = \"city\")\n    private String city;\n\n    @NotEmpty\n    @Email\n    @Column(name = \"email\")\n    private String email;\n\n    @NotEmpty\n    @Column(name = \"password\")\n    private String password;\n\n    @NotNull\n    @Min(value = 1000000000)\n    @Column(name = \"phone\")\n    private Long phone;\n    //getters and setters\n\n    }\n</code></pre>\n\n<p><strong>StudentService.java</strong></p>\n\n<pre><code>   package com.infotech.service;\n\n   import com.infotech.model.Student;\n\n    public interface StudentService {\n    public abstract Student validateStudentCredential(String email, String \n     password);\n      public abstract boolean registerStudent(Student student);\n\n     }\n</code></pre>\n\n<p><strong>StuentDAo.java</strong></p>\n\n<pre><code>package com.infotech.dao;\n\n   import com.infotech.model.Student;\n\n     public interface StudentDAO {\n    public abstract boolean saveStudent(Student student);\n    public Student getStudentDetailsByEmailAndPassword(String email,String \n  password);\n    }\n</code></pre>\n\n<p><strong>StudentCredential.java</strong></p>\n\n<pre><code>  package com.infotech.model;\n\n  import org.hibernate.validator.constraints.Email;\n  import org.hibernate.validator.constraints.NotEmpty;\n\n  public class StudentCredential {\n\n    @NotEmpty\n    @Email\n    private String email;\n\n    @NotEmpty\n    private String password;\n\n    public String getEmail() {\n        return email;\n    }\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n\n    public String getPassword() {\n        return password;\n    }\n\n    public void setPassword(String password) {\n        this.password = password;\n    }\n    }\n</code></pre>\n\n<p><strong>StudentServiceImpl.java</strong></p>\n\n<pre><code>    package com.infotech.service.impl;\n\n   import org.springframework.beans.factory.annotation.Autowired;\n   import org.springframework.stereotype.Service;\n\n   import com.infotech.dao.StudentDAO;\n    import com.infotech.model.Student;\n    import com.infotech.service.StudentService;\n\n    @Service(\"studentService\")\n    public class StudentServiceImpl implements StudentService {\n\n    @Autowired\n    private StudentDAO studentDAO;\n\n    public void setStudentDAO(StudentDAO studentDAO) {\n        this.studentDAO = studentDAO;\n    }\n\n    public StudentDAO getStudentDAO() {\n        return studentDAO;\n    }\n\n    @Override\n    public boolean registerStudent(Student student) {\n        boolean isRegister=false;\n        boolean saveStudent = getStudentDAO().saveStudent(student);\n        if(saveStudent)\n            isRegister=true;\n        return isRegister;\n    }\n\n    @Override\n    public Student validateStudentCredential(String email, String password) \n    {\n        Student student = \n      getStudentDAO().getStudentDetailsByEmailAndPassword(email, password);\n        return student;\n    }\n    }\nenter code here\n\n  I am using database oracle 11g xe edition in that table \n\n\n\n  CREATE TABLE  \"STUDENT_TABLE\" \n   (    \"ID\" NUMBER(11,0), \n    \"STUDENT_NAME\" VARCHAR2(65), \n    \"GENDER\" VARCHAR2(10), \n    \"TECHNOLOGY\" VARCHAR2(20), \n    \"CITY\" VARCHAR2(20), \n    \"EMAIL\" VARCHAR2(65), \n    \"PASSWORD\" VARCHAR2(65), \n    \"PHONE\" NUMBER(20,0), \n     CONSTRAINT \"STUDENT_TABLE_PK\" PRIMARY KEY (\"ID\") ENABLE\n   ) ;\n\nCREATE OR REPLACE TRIGGER  \"BI_STUDENT_TABLE\" \n  before insert on \"STUDENT_TABLE\"               \n  for each row  \nbegin   \n  if :NEW.\"ID\" is null then \n    select \"STUDENT_TABLE_SEQ\".nextval into :NEW.\"ID\" from dual; \n  end if; \nend; \n</code></pre>\n\n<blockquote>\n  <p>Request processing failed; nested exception is org.springframework.orm.hibernate4.HibernateJdbcException: JDBC exception on Hibernate data access: SQLException for SQL [insert into student_table (city, email, gender, password, phone, student_name, technology) values (?, ?, ?, ?, ?, ?, ?)]; SQL state [99999]; error code [17004]; could not insert: [com.infotech.model.Student]; nested exception is org.hibernate.exception.GenericJDBCException: could not insert: [com.infotech.model.Student]</p>\n</blockquote>\n"},{"tags":["java","spring","deployment","wildfly"],"answers":[{"tags":[],"owner":{"account_id":1491171,"reputation":3291,"user_id":1398228,"display_name":"ehsavoie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672855017,"creation_date":1672855017,"answer_id":75009422,"question_id":75009249,"body_markdown":"Spring 5 is JakartaEE 9 or 10 , so you either need to use WildFly 27 or 26-preview.","title":"Error while trying to deploy a spring 5 app in wildlfy26.1.2","body":"<p>Spring 5 is JakartaEE 9 or 10 , so you either need to use WildFly 27 or 26-preview.</p>\n"},{"tags":[],"owner":{"account_id":27433563,"reputation":11,"user_id":20929833,"display_name":"Mahesh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672899901,"creation_date":1672899861,"answer_id":75014541,"question_id":75009249,"body_markdown":"If we need to use spring 5, then we need to use Jakarta EE 8 Full &amp; Web Distribution of wildlfy 26.1.2 not WildFly Preview EE 9.1 Distribution. I was using preview, hence above error.","title":"Error while trying to deploy a spring 5 app in wildlfy26.1.2","body":"<p>If we need to use spring 5, then we need to use Jakarta EE 8 Full &amp; Web Distribution of wildlfy 26.1.2 not WildFly Preview EE 9.1 Distribution. I was using preview, hence above error.</p>\n"}],"owner":{"account_id":27433563,"reputation":11,"user_id":20929833,"display_name":"Mahesh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1672899901,"creation_date":1672854035,"question_id":75009249,"body_markdown":"I&#39;m trying to deploy spring 5 application in wildlfy 26.1.2. JDK version is 1.8\r\n\r\n19:46:45,930 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-4) MSC000001: Failed to start service jboss.deployment.unit.&quot;ECP2P.war&quot;.undertow-deployment.UndertowDeploymentInfoService: org.jboss.msc.service.StartException in service jboss.deployment.unit.&quot;ECP2P.war&quot;.undertow-deployment.UndertowDeploymentInfoService: Failed to start service\r\n        at org.jboss.msc.service.ServiceControllerImpl$StartTask.execute(ServiceControllerImpl.java:1731)\r\n        at org.jboss.msc.service.ServiceControllerImpl$ControllerTask.run(ServiceControllerImpl.java:1559)\r\n        at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\r\n        at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)\r\n        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\r\n        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1363)\r\n        at java.lang.Thread.run(Thread.java:750)\r\n**Caused by: java.lang.IllegalArgumentException: UT010009: Servlet spring of type class org.springframework.web.servlet.DispatcherServlet does not implement jakarta.servlet.Servlet**\r\n        at io.undertow.servlet.api.ServletInfo.&lt;init&gt;(ServletInfo.java:98)\r\n        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService.createServletConfig(UndertowDeploymentInfoService.java:749)\r\n        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService.start(UndertowDeploymentInfoService.java:312)\r\n        at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1739)\r\n        at org.jboss.msc.service.ServiceControllerImpl$StartTask.execute(ServiceControllerImpl.java:1701)\r\n\r\n\r\n\r\n\r\n","title":"Error while trying to deploy a spring 5 app in wildlfy26.1.2","body":"<p>I'm trying to deploy spring 5 application in wildlfy 26.1.2. JDK version is 1.8</p>\n<p>19:46:45,930 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-4) MSC000001: Failed to start service jboss.deployment.unit.&quot;ECP2P.war&quot;.undertow-deployment.UndertowDeploymentInfoService: org.jboss.msc.service.StartException in service jboss.deployment.unit.&quot;ECP2P.war&quot;.undertow-deployment.UndertowDeploymentInfoService: Failed to start service\nat org.jboss.msc.service.ServiceControllerImpl$StartTask.execute(ServiceControllerImpl.java:1731)\nat org.jboss.msc.service.ServiceControllerImpl$ControllerTask.run(ServiceControllerImpl.java:1559)\nat org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\nat org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)\nat org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\nat org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1363)\nat java.lang.Thread.run(Thread.java:750)\n<strong>Caused by: java.lang.IllegalArgumentException: UT010009: Servlet spring of type class org.springframework.web.servlet.DispatcherServlet does not implement jakarta.servlet.Servlet</strong>\nat io.undertow.servlet.api.ServletInfo.(ServletInfo.java:98)\nat org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService.createServletConfig(UndertowDeploymentInfoService.java:749)\nat org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService.start(UndertowDeploymentInfoService.java:312)\nat org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1739)\nat org.jboss.msc.service.ServiceControllerImpl$StartTask.execute(ServiceControllerImpl.java:1701)</p>\n"},{"tags":["java","spring-boot","maven","zip"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1672900633,"post_id":75014171,"comment_id":132378225,"body_markdown":"When is this ZIP file created? If during development, then just include it with your other resources and access it like any other class-path resource. If it&#39;s at run-time, then this ZIP file is not a resource, and should not be stored as such. Resources should be, and typically are, read-only anyway. Perhaps you should create the ZIP file in a temporary directory instead.","body":"When is this ZIP file created? If during development, then just include it with your other resources and access it like any other class-path resource. If it&#39;s at run-time, then this ZIP file is not a resource, and should not be stored as such. Resources should be, and typically are, read-only anyway. Perhaps you should create the ZIP file in a temporary directory instead."},{"owner":{"account_id":26301124,"reputation":11,"user_id":19966480,"display_name":"Ajith"},"score":0,"creation_date":1672903030,"post_id":75014171,"comment_id":132378754,"body_markdown":"If i create it in temp folder then how can i fetch and pass to resttemplate as multipart file","body":"If i create it in temp folder then how can i fetch and pass to resttemplate as multipart file"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1672903166,"post_id":75014171,"comment_id":132378787,"body_markdown":"I&#39;m not very familiar with Spring, but I assume you would pass a `java.io.File` or `java.nio.file.Path` to whatever API of Spring you&#39;re using (assuming Spring doesn&#39;t have its own API for files and temporary directories/files).","body":"I&#39;m not very familiar with Spring, but I assume you would pass a <code>java.io.File</code> or <code>java.nio.file.Path</code> to whatever API of Spring you&#39;re using (assuming Spring doesn&#39;t have its own API for files and temporary directories/files)."},{"owner":{"account_id":26301124,"reputation":11,"user_id":19966480,"display_name":"Ajith"},"score":0,"creation_date":1672904266,"post_id":75014171,"comment_id":132379052,"body_markdown":"Hi @Slaw , thanks for your suggestion. I fixed that issue and able to access the file using FileSystemResource() .","body":"Hi @Slaw , thanks for your suggestion. I fixed that issue and able to access the file using FileSystemResource() ."}],"answers":[{"tags":[],"owner":{"account_id":13692434,"reputation":478,"user_id":9879898,"display_name":"sge"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672899516,"creation_date":1672899516,"answer_id":75014501,"question_id":75014171,"body_markdown":"the resource folder is normaly part of a jar.  i would create a temp folder (java.nio.file.Files.createTempDirectory()) and store the zip there.","title":"Create and access zip file from resource folder during runtime in java spring boot application","body":"<p>the resource folder is normaly part of a jar.  i would create a temp folder (java.nio.file.Files.createTempDirectory()) and store the zip there.</p>\n"}],"owner":{"account_id":26301124,"reputation":11,"user_id":19966480,"display_name":"Ajith"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":334,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672899516,"creation_date":1672896337,"question_id":75014171,"body_markdown":"My requirement is, I have to create one zip file and store in resource folder and once it&#39;s created, i have to pass this zip file to another api(which one will accept only .zip file as a input)through rest template. \r\n\r\nNow my problem is after creating zip file im not able to access it. I think this is because the file is not available in target folder.\r\n\r\nHow to solve this problem? \r\n\r\n\r\nNote: all these activities should happen in a single call.\r\n\r\nTechnology: java 11, spring boot, maven Latest","title":"Create and access zip file from resource folder during runtime in java spring boot application","body":"<p>My requirement is, I have to create one zip file and store in resource folder and once it's created, i have to pass this zip file to another api(which one will accept only .zip file as a input)through rest template.</p>\n<p>Now my problem is after creating zip file im not able to access it. I think this is because the file is not available in target folder.</p>\n<p>How to solve this problem?</p>\n<p>Note: all these activities should happen in a single call.</p>\n<p>Technology: java 11, spring boot, maven Latest</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","postman"],"comments":[{"owner":{"account_id":6948780,"reputation":431,"user_id":5332102,"display_name":"G&#246;khan Polat"},"score":0,"creation_date":1672861693,"post_id":75010125,"comment_id":132370840,"body_markdown":"How do you send request via Postman? Do you use form-data option in body?","body":"How do you send request via Postman? Do you use form-data option in body?"}],"owner":{"account_id":25016951,"reputation":1,"user_id":18875981,"display_name":"S_R"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":165,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672899251,"creation_date":1672859241,"question_id":75010125,"body_markdown":"I need to upload an image along with &quot;empId&quot; field as json data to a table. Below is my  Entity class\r\n\r\n```java\r\n@Entity\r\n@Table(name = &quot;FILES&quot;)\r\n\r\npublic class FileEntity {\r\n\r\n    @Id\r\n    @GeneratedValue(generator = &quot;uuid&quot;)\r\n    @GenericGenerator(name = &quot;uuid&quot;, strategy = &quot;uuid2&quot;)\r\n    private String id;\r\n    private String empId;\r\n\r\n    public String getEmpId() {\r\n\t\treturn empId;\r\n\t}\r\n\r\n\tpublic void setEmpId(String ggid) {\r\n\t\tthis.empId = ggid;\r\n\t}\r\n\r\n\tprivate String name;\r\n\r\n    private String contentType;\r\n\r\n    private Long size;\r\n\r\n    @Lob\r\n    private byte[] data;\r\n\r\n    public String getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(String id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public String getContentType() {\r\n        return contentType;\r\n    }\r\n\r\n    public void setContentType(String contentType) {\r\n        this.contentType = contentType;\r\n    }\r\n\r\n    public Long getSize() {\r\n        return size;\r\n    }\r\n\r\n    public void setSize(Long size) {\r\n        this.size = size;\r\n    }\r\n\r\n    public byte[] getData() {\r\n        return data;\r\n    }\r\n\r\n    public void setData(byte[] data) {\r\n        this.data = data;\r\n   }\r\n}\r\n```\r\n\r\nbelow is my FileResponse class\r\n \r\n```java\r\npublic class FileResponse {\r\n\r\n    private String id;\r\n    private String name;\r\n    private Long size;\r\n    private String url;\r\n    private String contentType;\r\n    private String empId;\r\n    public String getEmpId() {\r\n\t\treturn empId;\r\n\t}\r\n\r\n\tpublic void setEmpId(String ggid) {\r\n\t\tthis.empId = ggid;\r\n\t}\r\n\r\n\tpublic String getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(String id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public Long getSize() {\r\n        return size;\r\n    }\r\n\r\n    public void setSize(Long size) {\r\n        this.size = size;\r\n    }\r\n\r\n    public String getUrl() {\r\n        return url;\r\n    }\r\n\r\n    public void setUrl(String url) {\r\n        this.url = url;\r\n    }\r\n\r\n    public String getContentType() {\r\n        return contentType;\r\n    }\r\n\r\n    public void setContentType(String contentType) {\r\n        this.contentType = contentType;\r\n    }\r\n}\r\n```\r\nBelow is the controller class\r\n\r\n```java\r\n@RestController\r\n@RequestMapping(&quot;files&quot;)\r\npublic class FilesController {\r\n\r\n\t @Autowired\r\n    private FileService fileService;\r\n    \r\n\r\n\t@PostMapping\r\n    public ResponseEntity&lt;String&gt; upload(@RequestParam(&quot;file&quot;) MultipartFile file ) {\r\n        try {\r\n       \r\n          \r\n        \tfileService.save(file);\r\n        \t\r\n            return ResponseEntity.status(HttpStatus.OK)\r\n                                 .body(String.format(&quot;File uploaded successfully: %s&quot;, file.getOriginalFilename()));\r\n        } catch (Exception e) {\r\n            return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR)\r\n                                 .body(String.format(&quot;Could not upload the file: %s!&quot;, file.getOriginalFilename()));\r\n        }\r\n    }\r\n\r\n    @GetMapping\r\n    public List&lt;FileResponse&gt; list() {\r\n        return fileService.getAllFiles()\r\n                          .stream()\r\n                          .map(this::mapToFileResponse)\r\n                          .collect(Collectors.toList());\r\n    }\r\n\r\n    private FileResponse mapToFileResponse(FileEntity fileEntity) {\r\n        String downloadURL = ServletUriComponentsBuilder.fromCurrentContextPath()\r\n                                                        .path(&quot;/files/&quot;)\r\n                                                        .path(fileEntity.getId())\r\n                                                        .toUriString();\r\n        FileResponse fileResponse = new FileResponse();\r\n        fileResponse.setId(fileEntity.getId());\r\n        fileResponse.setName(fileEntity.getName());\r\n        fileResponse.setContentType(fileEntity.getContentType());\r\n        fileResponse.setSize(fileEntity.getSize());\r\n        fileResponse.setUrl(downloadURL);\r\n\r\n        return fileResponse;\r\n    }\r\n\r\n    @GetMapping(&quot;{id}&quot;)\r\n    public ResponseEntity&lt;byte[]&gt; getFile(@PathVariable String id) {\r\n        Optional&lt;FileEntity&gt; fileEntityOptional = fileService.getFile(id);\r\n\r\n        if (!fileEntityOptional.isPresent()) {\r\n            return ResponseEntity.notFound()\r\n                                 .build();\r\n        }\r\n\r\n        FileEntity fileEntity = fileEntityOptional.get();\r\n        return ResponseEntity.ok()\r\n                             .header(HttpHeaders.CONTENT_DISPOSITION, &quot;attachment; filename=\\&quot;&quot; + fileEntity.getName() + &quot;\\&quot;&quot;)\r\n                             .contentType(MediaType.valueOf(fileEntity.getContentType()))\r\n                             .body(fileEntity.getData());\r\n    }\r\n}\r\n```\r\n\r\nBelow is the service class\r\n\r\n```java\r\n@Service\r\npublic class FileService {\r\n\r\n\t@Autowired\r\n    private  FileRepository fileRepository;\r\n\r\n \r\n\r\n    public void save(MultipartFile file) throws IOException {\r\n        FileEntity fileEntity = new FileEntity();\r\n        fileEntity.setName(StringUtils.cleanPath(file.getOriginalFilename()));\r\n        fileEntity.setContentType(file.getContentType());\r\n        fileEntity.setData(file.getBytes());\r\n        fileEntity.setSize(file.getSize());\r\n\r\n        fileRepository.save(fileEntity);\r\n    }\r\n\r\n    public Optional&lt;FileEntity&gt; getFile(String id) {\r\n        return fileRepository.findById(id);\r\n    }\r\n\r\n    public List&lt;FileEntity&gt; getAllFiles() {\r\n        return fileRepository.findAll();\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n```java\r\n@Repository\r\npublic interface FileRepository extends JpaRepository&lt;FileEntity, String&gt; {\r\n}\r\n```\r\n\r\nI tried sending json data in postman along with image by modifying the arguments in post method in controller as below\r\n\r\n```java\r\n@PostMapping\r\n    public ResponseEntity&lt;String&gt; upload(@RequestParam(&quot;file&quot;) MultipartFile file , @Valid @RequestBody FileEntity data) {\r\n        try {\r\n       \r\n          \r\n        \tfileService.save(file);\r\n        \t\r\n            return ResponseEntity.status(HttpStatus.OK)\r\n                                 .body(String.format(&quot;File uploaded successfully: %s&quot;, file.getOriginalFilename()));\r\n        } catch (Exception e) {\r\n            return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR)\r\n                                 .body(String.format(&quot;Could not upload the file: %s!&quot;, file.getOriginalFilename()));\r\n        }\r\n```\r\nbut it is not working as expected and I sent request via postman using form data option in body .So please help me with this.","title":"How to upload image along with json data to an API in springboot?","body":"<p>I need to upload an image along with &quot;empId&quot; field as json data to a table. Below is my  Entity class</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;FILES&quot;)\n\npublic class FileEntity {\n\n    @Id\n    @GeneratedValue(generator = &quot;uuid&quot;)\n    @GenericGenerator(name = &quot;uuid&quot;, strategy = &quot;uuid2&quot;)\n    private String id;\n    private String empId;\n\n    public String getEmpId() {\n        return empId;\n    }\n\n    public void setEmpId(String ggid) {\n        this.empId = ggid;\n    }\n\n    private String name;\n\n    private String contentType;\n\n    private Long size;\n\n    @Lob\n    private byte[] data;\n\n    public String getId() {\n        return id;\n    }\n\n    public void setId(String id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getContentType() {\n        return contentType;\n    }\n\n    public void setContentType(String contentType) {\n        this.contentType = contentType;\n    }\n\n    public Long getSize() {\n        return size;\n    }\n\n    public void setSize(Long size) {\n        this.size = size;\n    }\n\n    public byte[] getData() {\n        return data;\n    }\n\n    public void setData(byte[] data) {\n        this.data = data;\n   }\n}\n</code></pre>\n<p>below is my FileResponse class</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class FileResponse {\n\n    private String id;\n    private String name;\n    private Long size;\n    private String url;\n    private String contentType;\n    private String empId;\n    public String getEmpId() {\n        return empId;\n    }\n\n    public void setEmpId(String ggid) {\n        this.empId = ggid;\n    }\n\n    public String getId() {\n        return id;\n    }\n\n    public void setId(String id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public Long getSize() {\n        return size;\n    }\n\n    public void setSize(Long size) {\n        this.size = size;\n    }\n\n    public String getUrl() {\n        return url;\n    }\n\n    public void setUrl(String url) {\n        this.url = url;\n    }\n\n    public String getContentType() {\n        return contentType;\n    }\n\n    public void setContentType(String contentType) {\n        this.contentType = contentType;\n    }\n}\n</code></pre>\n<p>Below is the controller class</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@RequestMapping(&quot;files&quot;)\npublic class FilesController {\n\n     @Autowired\n    private FileService fileService;\n    \n\n    @PostMapping\n    public ResponseEntity&lt;String&gt; upload(@RequestParam(&quot;file&quot;) MultipartFile file ) {\n        try {\n       \n          \n            fileService.save(file);\n            \n            return ResponseEntity.status(HttpStatus.OK)\n                                 .body(String.format(&quot;File uploaded successfully: %s&quot;, file.getOriginalFilename()));\n        } catch (Exception e) {\n            return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR)\n                                 .body(String.format(&quot;Could not upload the file: %s!&quot;, file.getOriginalFilename()));\n        }\n    }\n\n    @GetMapping\n    public List&lt;FileResponse&gt; list() {\n        return fileService.getAllFiles()\n                          .stream()\n                          .map(this::mapToFileResponse)\n                          .collect(Collectors.toList());\n    }\n\n    private FileResponse mapToFileResponse(FileEntity fileEntity) {\n        String downloadURL = ServletUriComponentsBuilder.fromCurrentContextPath()\n                                                        .path(&quot;/files/&quot;)\n                                                        .path(fileEntity.getId())\n                                                        .toUriString();\n        FileResponse fileResponse = new FileResponse();\n        fileResponse.setId(fileEntity.getId());\n        fileResponse.setName(fileEntity.getName());\n        fileResponse.setContentType(fileEntity.getContentType());\n        fileResponse.setSize(fileEntity.getSize());\n        fileResponse.setUrl(downloadURL);\n\n        return fileResponse;\n    }\n\n    @GetMapping(&quot;{id}&quot;)\n    public ResponseEntity&lt;byte[]&gt; getFile(@PathVariable String id) {\n        Optional&lt;FileEntity&gt; fileEntityOptional = fileService.getFile(id);\n\n        if (!fileEntityOptional.isPresent()) {\n            return ResponseEntity.notFound()\n                                 .build();\n        }\n\n        FileEntity fileEntity = fileEntityOptional.get();\n        return ResponseEntity.ok()\n                             .header(HttpHeaders.CONTENT_DISPOSITION, &quot;attachment; filename=\\&quot;&quot; + fileEntity.getName() + &quot;\\&quot;&quot;)\n                             .contentType(MediaType.valueOf(fileEntity.getContentType()))\n                             .body(fileEntity.getData());\n    }\n}\n</code></pre>\n<p>Below is the service class</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class FileService {\n\n    @Autowired\n    private  FileRepository fileRepository;\n\n \n\n    public void save(MultipartFile file) throws IOException {\n        FileEntity fileEntity = new FileEntity();\n        fileEntity.setName(StringUtils.cleanPath(file.getOriginalFilename()));\n        fileEntity.setContentType(file.getContentType());\n        fileEntity.setData(file.getBytes());\n        fileEntity.setSize(file.getSize());\n\n        fileRepository.save(fileEntity);\n    }\n\n    public Optional&lt;FileEntity&gt; getFile(String id) {\n        return fileRepository.findById(id);\n    }\n\n    public List&lt;FileEntity&gt; getAllFiles() {\n        return fileRepository.findAll();\n    }\n}\n\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Repository\npublic interface FileRepository extends JpaRepository&lt;FileEntity, String&gt; {\n}\n</code></pre>\n<p>I tried sending json data in postman along with image by modifying the arguments in post method in controller as below</p>\n<pre class=\"lang-java prettyprint-override\"><code>@PostMapping\n    public ResponseEntity&lt;String&gt; upload(@RequestParam(&quot;file&quot;) MultipartFile file , @Valid @RequestBody FileEntity data) {\n        try {\n       \n          \n            fileService.save(file);\n            \n            return ResponseEntity.status(HttpStatus.OK)\n                                 .body(String.format(&quot;File uploaded successfully: %s&quot;, file.getOriginalFilename()));\n        } catch (Exception e) {\n            return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR)\n                                 .body(String.format(&quot;Could not upload the file: %s!&quot;, file.getOriginalFilename()));\n        }\n</code></pre>\n<p>but it is not working as expected and I sent request via postman using form data option in body .So please help me with this.</p>\n"},{"tags":["java","lua","precompiled","luaj"],"comments":[{"owner":{"account_id":60318,"reputation":11439,"user_id":180239,"accept_rate":93,"display_name":"Bobby"},"score":0,"creation_date":1467844065,"post_id":37904422,"comment_id":63891248,"body_markdown":"Did you see the `invokemethod` methods which do accept a function name?","body":"Did you see the <code>invokemethod</code> methods which do accept a function name?"}],"answers":[{"tags":[],"owner":{"account_id":9205993,"reputation":9,"user_id":11110585,"display_name":"Jay WrightWay"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1551042742,"creation_date":1551042742,"answer_id":54856608,"question_id":37904422,"body_markdown":"The chunk must be obtained with `globals.load`. Then you can `call` the chunk and get the lua function you want from the globals, assuming your function is defined as a global. If it is `local`, you cannot use it.\r\n```\r\nLuaValue chunk = globals.load(script, &quot;script&quot;);\r\nchunk.call();\r\nLuaValue func = globals.get(functionName);\r\nfunc.call(args);\r\n```","title":"How to excute a Lua compiled file and call functions with custom global environment in LuaJ?","body":"<p>The chunk must be obtained with <code>globals.load</code>. Then you can <code>call</code> the chunk and get the lua function you want from the globals, assuming your function is defined as a global. If it is <code>local</code>, you cannot use it.</p>\n\n<pre><code>LuaValue chunk = globals.load(script, \"script\");\nchunk.call();\nLuaValue func = globals.get(functionName);\nfunc.call(args);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12108874,"reputation":173,"user_id":10799096,"display_name":"ioi-xd"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672899115,"creation_date":1672899115,"answer_id":75014447,"question_id":37904422,"body_markdown":"The class `LuajContext` has an exposed, public `globals` value ([source code reference][1]). By getting the context from the engine and casting it to LuajContext, you can work with the table (you should not need to create your own globals, by the way; the defaults are constructed in the context&#39;s constructor)\r\n\r\n```\r\nLuajContext context = (LuajContext) e.getContext();\r\nSystem.out.println(context.globals);\r\n```\r\n\r\n\r\n  [1]: https://github.com/luaj/luaj/blob/daf3da94e3cdba0ac6a289148d7e38bd53d3fe64/src/jse/org/luaj/vm2/script/LuajContext.java#L45","title":"How to excute a Lua compiled file and call functions with custom global environment in LuaJ?","body":"<p>The class <code>LuajContext</code> has an exposed, public <code>globals</code> value (<a href=\"https://github.com/luaj/luaj/blob/daf3da94e3cdba0ac6a289148d7e38bd53d3fe64/src/jse/org/luaj/vm2/script/LuajContext.java#L45\" rel=\"nofollow noreferrer\">source code reference</a>). By getting the context from the engine and casting it to LuajContext, you can work with the table (you should not need to create your own globals, by the way; the defaults are constructed in the context's constructor)</p>\n<pre><code>LuajContext context = (LuajContext) e.getContext();\nSystem.out.println(context.globals);\n</code></pre>\n"}],"owner":{"account_id":8663015,"reputation":31,"user_id":6484613,"display_name":"RayEden"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":924,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1672899115,"creation_date":1466316144,"question_id":37904422,"body_markdown":"I have precompiled Lua script with ScriptEngine.\r\n\r\n    private void preCompile(){\r\n        ScriptEngineManager manager = new ScriptEngineManager();\r\n        engine = manager.getEngineByName(&quot;luaj&quot;);\r\n        if(engine instanceof Compilable){\r\n            try {\r\n                compScript = ((Compilable)engine).compile(scriptContent);\r\n            }catch (ScriptException se){\r\n                System.err.println(se.getMessage());\r\n            }\r\n        }else{\r\n            System.err.println(&quot;Engine can&#39;t compile code!&quot;);\r\n        }\r\n\r\nAnd I can also execute it with eval() function and call the functions in the Script with LuaFunction.invoke(LuaValue).\r\n\r\n    public Object callFunction(String funcName, Object[] args){\r\n        preCompile();\r\n        Bindings script_bindings = new SimpleBindings();\r\n        try{\r\n            compScript.eval(script_bindings);\r\n            LuaFunction luafunc = (LuaFunction)script_bindings.get(funcName);\r\n            LuaValue[] luaValues = new LuaValue[args.length];\r\n            for(int i = 0; i &lt; args.length; ++i){\r\n                luaValues[i] = CoerceJavaToLua.coerce(args[i]);\r\n            }\r\n            result = luafunc.invoke(luaValues);\r\n        }catch (ScriptException se){\r\n            System.out.println(se.getMessage());\r\n        }\r\n        return result;\r\n    }\r\n\r\n**Here Is The Problem:**\r\n\r\nI can executed script with Java API, but what I want to do is making a custom environment by using Global.\r\n\r\nso I create Global object and load needed libs like this:\r\n \r\n    private void LoadScript(){\r\n        globals = new Globals();\r\n        globals.load(new JseBaseLib());\r\n        globals.load(new PackageLib());\r\n        globals.load(new StringLib());\r\n        globals.load(new Bit32Lib());\r\n        globals.load(new TableLib());\r\n        LoadState.install(globals);\r\n        LuaC.install(globals);\r\n\r\nNow I just don&#39;t know how to link &#39;globals&#39; to the compiled file(compScript). I have tried the global compiled function\r\n\r\n    Prototype chunk = globals.compilePrototype(new StringReader(script), &quot;script&quot;);\r\n\r\n`chunk.call()` can be used to execute script, but I still don&#39;t know how to call the functions(with or without arguments) in script by &#39;chunk&#39; or &#39;compScript&#39; in my custom &#39;globals&#39; environment.\r\n\r\n**In addition, is `globals.load()` function compile script file? I just want to compile script once and reuse it.**","title":"How to excute a Lua compiled file and call functions with custom global environment in LuaJ?","body":"<p>I have precompiled Lua script with ScriptEngine.</p>\n\n<pre><code>private void preCompile(){\n    ScriptEngineManager manager = new ScriptEngineManager();\n    engine = manager.getEngineByName(\"luaj\");\n    if(engine instanceof Compilable){\n        try {\n            compScript = ((Compilable)engine).compile(scriptContent);\n        }catch (ScriptException se){\n            System.err.println(se.getMessage());\n        }\n    }else{\n        System.err.println(\"Engine can't compile code!\");\n    }\n</code></pre>\n\n<p>And I can also execute it with eval() function and call the functions in the Script with LuaFunction.invoke(LuaValue).</p>\n\n<pre><code>public Object callFunction(String funcName, Object[] args){\n    preCompile();\n    Bindings script_bindings = new SimpleBindings();\n    try{\n        compScript.eval(script_bindings);\n        LuaFunction luafunc = (LuaFunction)script_bindings.get(funcName);\n        LuaValue[] luaValues = new LuaValue[args.length];\n        for(int i = 0; i &lt; args.length; ++i){\n            luaValues[i] = CoerceJavaToLua.coerce(args[i]);\n        }\n        result = luafunc.invoke(luaValues);\n    }catch (ScriptException se){\n        System.out.println(se.getMessage());\n    }\n    return result;\n}\n</code></pre>\n\n<p><strong>Here Is The Problem:</strong></p>\n\n<p>I can executed script with Java API, but what I want to do is making a custom environment by using Global.</p>\n\n<p>so I create Global object and load needed libs like this:</p>\n\n<pre><code>private void LoadScript(){\n    globals = new Globals();\n    globals.load(new JseBaseLib());\n    globals.load(new PackageLib());\n    globals.load(new StringLib());\n    globals.load(new Bit32Lib());\n    globals.load(new TableLib());\n    LoadState.install(globals);\n    LuaC.install(globals);\n</code></pre>\n\n<p>Now I just don't know how to link 'globals' to the compiled file(compScript). I have tried the global compiled function</p>\n\n<pre><code>Prototype chunk = globals.compilePrototype(new StringReader(script), \"script\");\n</code></pre>\n\n<p><code>chunk.call()</code> can be used to execute script, but I still don't know how to call the functions(with or without arguments) in script by 'chunk' or 'compScript' in my custom 'globals' environment.</p>\n\n<p><strong>In addition, is <code>globals.load()</code> function compile script file? I just want to compile script once and reuse it.</strong></p>\n"},{"tags":["java","amazon-dynamodb","crud-repository"],"comments":[{"owner":{"account_id":14320275,"reputation":1315,"user_id":10343888,"display_name":"fatih"},"score":0,"creation_date":1672898002,"post_id":75014150,"comment_id":132377805,"body_markdown":"Could you please share your `Lend` object with us?","body":"Could you please share your <code>Lend</code> object with us?"}],"answers":[{"tags":[],"owner":{"account_id":19824771,"reputation":49,"user_id":14520525,"display_name":"Ashutosh"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1672897088,"creation_date":1672897088,"answer_id":75014256,"question_id":75014150,"body_markdown":"Annotate *&#39;LibraryService&#39;* class with **@Service**.","title":"Unsatisfied dependency expressed through constructor parameter","body":"<p>Annotate <em>'LibraryService'</em> class with <strong>@Service</strong>.</p>\n"},{"tags":[],"owner":{"account_id":14320275,"reputation":1315,"user_id":10343888,"display_name":"fatih"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672898708,"creation_date":1672898708,"answer_id":75014406,"question_id":75014150,"body_markdown":"The error message and solution suggestion is pretty obvious.\r\n\r\n&gt; Could not create query for public abstract java.util.Optional com.restapi.respository.LendRepository.findByBookAndStatus(com.restapi.model.Book,com.restapi.model.LendStatus); Reason: No property &#39;book&#39; found for type &#39;Lend&#39; Did you mean &#39;&#39;bookId&#39;&#39;\r\n\r\nYour `findByBookAndStatus()` method that you created in `LendRepository` appears incorrect. You don&#39;t have a `book` property for your `Lend` object. Perhaps you are keeping the `id` value of the `Book` as a property in your `Lend` object.\r\n\r\nIf you have an attribute named `bookId` in your `Lend` object, your method should be: \r\n\r\n    Optional&lt;Lend&gt; findByBookIdAndStatus(ID id, LendStatus status);\r\n\r\nYour first argument in the method should be the same as the data type of the `id` attribute of your `Book` object.","title":"Unsatisfied dependency expressed through constructor parameter","body":"<p>The error message and solution suggestion is pretty obvious.</p>\n<blockquote>\n<p>Could not create query for public abstract java.util.Optional com.restapi.respository.LendRepository.findByBookAndStatus(com.restapi.model.Book,com.restapi.model.LendStatus); Reason: No property 'book' found for type 'Lend' Did you mean ''bookId''</p>\n</blockquote>\n<p>Your <code>findByBookAndStatus()</code> method that you created in <code>LendRepository</code> appears incorrect. You don't have a <code>book</code> property for your <code>Lend</code> object. Perhaps you are keeping the <code>id</code> value of the <code>Book</code> as a property in your <code>Lend</code> object.</p>\n<p>If you have an attribute named <code>bookId</code> in your <code>Lend</code> object, your method should be:</p>\n<pre><code>Optional&lt;Lend&gt; findByBookIdAndStatus(ID id, LendStatus status);\n</code></pre>\n<p>Your first argument in the method should be the same as the data type of the <code>id</code> attribute of your <code>Book</code> object.</p>\n"}],"owner":{"account_id":17852571,"reputation":3,"user_id":12968002,"display_name":"ptratyou"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":491,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1672898708,"creation_date":1672896159,"question_id":75014150,"body_markdown":"Error Message I am getting \r\n\r\n&gt; Error creating bean with name &#39;libraryController&#39; defined in file :\r\n&gt; Unsatisfied dependency expressed through constructor parameter 0:\r\n&gt; Error creating bean with name &#39;libraryService&#39; defined in file.\r\n&gt; Unsatisfied dependency expressed through constructor parameter 2:\r\n&gt; Error creating bean with name &#39;lendRepository&#39; defined in\r\n&gt; com.restapi.respository.LendRepository defined in\r\n&gt; @EnableDynamoDBRepositories declared on DynamoDBConfig: Could not\r\n&gt; create query for public abstract java.util.Optional\r\n&gt; com.restapi.respository.LendRepository.findByBookAndStatus(com.restapi.model.Book,com.restapi.model.LendStatus);\r\n&gt; Reason: No property &#39;book&#39; found for type &#39;Lend&#39; Did you mean\r\n&gt; &#39;&#39;bookId&#39;&#39;\r\n\r\nLendRepository.Java:\r\n\r\n    import org.socialsignin.spring.data.dynamodb.repository.EnableScan;\r\n    import com.restapi.model.Book;\r\n    import com.restapi.model.Lend;\r\n    import com.restapi.model.LendStatus;\r\n    \r\n    import org.springframework.data.repository.CrudRepository;\r\n    \r\n    import java.util.Optional;\r\n    \r\n    @EnableScan\r\n    public interface LendRepository extends CrudRepository&lt;Lend, String&gt; {\r\n        Optional&lt;Lend&gt; findByBookAndStatus(Book book, LendStatus status);\r\n    }\r\n\r\n\r\nBook.java:\r\n    package com.restapi.model;\r\n    \r\n    import com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBAttribute;\r\n    import com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBAutoGeneratedKey;\r\n    import com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBHashKey;\r\n    import com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBTable;\r\n    \r\n    import lombok.Getter;\r\n    import lombok.Setter;\r\n    \r\n    @Getter\r\n    @Setter\r\n    @DynamoDBTable(tableName = &quot;book&quot;)\r\n    public class Book {\r\n    \r\n        @DynamoDBHashKey\r\n        @DynamoDBAutoGeneratedKey\r\n        private String id;\r\n    \r\n        @DynamoDBAttribute\r\n        private String name;\r\n        @DynamoDBAttribute\r\n        private String isbn;\r\n        @DynamoDBAttribute\r\n        private String authorId;\r\n    \r\n    }\r\n\r\nLibraryService.java:\r\n\r\n    public List&lt;String&gt; lendABook (BookLendRequest request) throws Exception {\r\n            Optional&lt;Member&gt; memberForId = memberRepository.findById(request.getMemberId());\r\n            if (!memberForId.isPresent()) {\r\n                throw new Exception(&quot;Exception message&quot;);\r\n            }\r\n            Member member = memberForId.get();\r\n            if (member.getStatus() != MemberStatus.ACTIVE) {\r\n                throw new RuntimeException(&quot;User is not active to proceed a lending.&quot;);\r\n            }\r\n            List&lt;String&gt; booksApprovedToBurrow = new ArrayList&lt;&gt;();\r\n            request.getBookIds().forEach(bookId -&gt; {\r\n                Optional&lt;Book&gt; bookForId = bookRepository.findById(bookId);\r\n                if (!bookForId.isPresent()) {\r\n                    try {\r\n                        throw new Exception(&quot;Exception message&quot;);\r\n                    } catch (Exception e) {\r\n                        throw new RuntimeException(e);\r\n                    }\r\n                }\r\n                Optional&lt;Lend&gt; burrowedBook = lendRepository.findByBookAndStatus(bookForId.get(), LendStatus.BURROWED);\r\n                if (!burrowedBook.isPresent()) {\r\n                    booksApprovedToBurrow.add(bookForId.get().getName());\r\n                    Lend lend = new Lend();\r\n                    lend.setMemberId(memberForId.get().getId());\r\n                    lend.setBookId(bookForId.get().getId());\r\n                    lend.setStatus(LendStatus.BURROWED);\r\n                    lend.setStartOn(Instant.now().toString());\r\n                    lend.setDueOn(Instant.now().plus(30, ChronoUnit.DAYS).toString());\r\n                    lendRepository.save(lend);\r\n                }\r\n            });\r\n\r\n","title":"Unsatisfied dependency expressed through constructor parameter","body":"<p>Error Message I am getting</p>\n<blockquote>\n<p>Error creating bean with name 'libraryController' defined in file :\nUnsatisfied dependency expressed through constructor parameter 0:\nError creating bean with name 'libraryService' defined in file.\nUnsatisfied dependency expressed through constructor parameter 2:\nError creating bean with name 'lendRepository' defined in\ncom.restapi.respository.LendRepository defined in\n@EnableDynamoDBRepositories declared on DynamoDBConfig: Could not\ncreate query for public abstract java.util.Optional\ncom.restapi.respository.LendRepository.findByBookAndStatus(com.restapi.model.Book,com.restapi.model.LendStatus);\nReason: No property 'book' found for type 'Lend' Did you mean\n''bookId''</p>\n</blockquote>\n<p>LendRepository.Java:</p>\n<pre><code>import org.socialsignin.spring.data.dynamodb.repository.EnableScan;\nimport com.restapi.model.Book;\nimport com.restapi.model.Lend;\nimport com.restapi.model.LendStatus;\n\nimport org.springframework.data.repository.CrudRepository;\n\nimport java.util.Optional;\n\n@EnableScan\npublic interface LendRepository extends CrudRepository&lt;Lend, String&gt; {\n    Optional&lt;Lend&gt; findByBookAndStatus(Book book, LendStatus status);\n}\n</code></pre>\n<p>Book.java:\npackage com.restapi.model;</p>\n<pre><code>import com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBAttribute;\nimport com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBAutoGeneratedKey;\nimport com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBHashKey;\nimport com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBTable;\n\nimport lombok.Getter;\nimport lombok.Setter;\n\n@Getter\n@Setter\n@DynamoDBTable(tableName = &quot;book&quot;)\npublic class Book {\n\n    @DynamoDBHashKey\n    @DynamoDBAutoGeneratedKey\n    private String id;\n\n    @DynamoDBAttribute\n    private String name;\n    @DynamoDBAttribute\n    private String isbn;\n    @DynamoDBAttribute\n    private String authorId;\n\n}\n</code></pre>\n<p>LibraryService.java:</p>\n<pre><code>public List&lt;String&gt; lendABook (BookLendRequest request) throws Exception {\n        Optional&lt;Member&gt; memberForId = memberRepository.findById(request.getMemberId());\n        if (!memberForId.isPresent()) {\n            throw new Exception(&quot;Exception message&quot;);\n        }\n        Member member = memberForId.get();\n        if (member.getStatus() != MemberStatus.ACTIVE) {\n            throw new RuntimeException(&quot;User is not active to proceed a lending.&quot;);\n        }\n        List&lt;String&gt; booksApprovedToBurrow = new ArrayList&lt;&gt;();\n        request.getBookIds().forEach(bookId -&gt; {\n            Optional&lt;Book&gt; bookForId = bookRepository.findById(bookId);\n            if (!bookForId.isPresent()) {\n                try {\n                    throw new Exception(&quot;Exception message&quot;);\n                } catch (Exception e) {\n                    throw new RuntimeException(e);\n                }\n            }\n            Optional&lt;Lend&gt; burrowedBook = lendRepository.findByBookAndStatus(bookForId.get(), LendStatus.BURROWED);\n            if (!burrowedBook.isPresent()) {\n                booksApprovedToBurrow.add(bookForId.get().getName());\n                Lend lend = new Lend();\n                lend.setMemberId(memberForId.get().getId());\n                lend.setBookId(bookForId.get().getId());\n                lend.setStatus(LendStatus.BURROWED);\n                lend.setStartOn(Instant.now().toString());\n                lend.setDueOn(Instant.now().plus(30, ChronoUnit.DAYS).toString());\n                lendRepository.save(lend);\n            }\n        });\n</code></pre>\n"},{"tags":["java","sql","spring-boot"],"comments":[{"owner":{"account_id":17208990,"reputation":618,"user_id":12458846,"display_name":"learning"},"score":0,"creation_date":1672899031,"post_id":75014376,"comment_id":132377947,"body_markdown":"As per question guidelines, pls do not post images","body":"As per question guidelines, pls do not post images"},{"owner":{"account_id":13437152,"reputation":12119,"user_id":9695286,"display_name":"Karan"},"score":0,"creation_date":1672900478,"post_id":75014376,"comment_id":132378200,"body_markdown":"Please share what have you tried so far and what issue or error you are getting with your query. Then only others can help you.","body":"Please share what have you tried so far and what issue or error you are getting with your query. Then only others can help you."},{"owner":{"account_id":27438109,"reputation":1,"user_id":20933554,"display_name":"Sankhasubhra Datta"},"score":0,"creation_date":1672901672,"post_id":75014376,"comment_id":132378447,"body_markdown":"Sir, I have not tried any efficient thing that can lead me. I have written a query select milestoneno  from table_1 where milestonestartedfrom = 1(suppose) so that I am getting 2 and 3 . now for that 2 and 3 I wanted same query until the data are related to each other ,I don&#39;t know it&#39;s sound inapproprite or not that is something I am looking","body":"Sir, I have not tried any efficient thing that can lead me. I have written a query select milestoneno  from table_1 where milestonestartedfrom = 1(suppose) so that I am getting 2 and 3 . now for that 2 and 3 I wanted same query until the data are related to each other ,I don&#39;t know it&#39;s sound inapproprite or not that is something I am looking"}],"owner":{"account_id":27438109,"reputation":1,"user_id":20933554,"display_name":"Sankhasubhra Datta"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672898453,"creation_date":1672898453,"question_id":75014376,"body_markdown":"I need a query to find all the milestones if I make any change for milestonetotalmonth using java spring features where milestoneno is 1 and that is related to milestonestartedfrom [table iamge:](https://i.stack.imgur.com/359Jg.png)  Is it possible ?\r\n\r\nI tried in java to fetch the milestoneno and store in a List of Object array","title":"Finding Milestones that are changing in term of specific milestone","body":"<p>I need a query to find all the milestones if I make any change for milestonetotalmonth using java spring features where milestoneno is 1 and that is related to milestonestartedfrom <a href=\"https://i.stack.imgur.com/359Jg.png\" rel=\"nofollow noreferrer\">table iamge:</a>  Is it possible ?</p>\n<p>I tried in java to fetch the milestoneno and store in a List of Object array</p>\n"},{"tags":["java","json","spring","deserialization"],"answers":[{"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1672866236,"creation_date":1672866236,"answer_id":75011294,"question_id":75011188,"body_markdown":"Your `message` is not a map, but a simple `String`. \r\n\r\nThe content of `messageAttributes.scope` itself is a map again, and not an `Object`.\r\n\r\nTry this:\r\n``` lang-java\r\npublic class ContentRequestMessage {\r\n  private String type;\r\n  private String messageId;\r\n  private String topicArn;\r\n  private String message;\r\n  private Date timestamp;\r\n  private String signatureVersion;\r\n  private String signature;\r\n  private String signingCertURL;\r\n  private String unsubscribeURL;\r\n  private Map&lt;String, Map&lt;String, String&gt;&gt; messageAttributes;\r\n\r\n  // rest of implementation\r\n}\r\n```","title":"Spring JSON to Map Deserialization Failing","body":"<p>Your <code>message</code> is not a map, but a simple <code>String</code>.</p>\n<p>The content of <code>messageAttributes.scope</code> itself is a map again, and not an <code>Object</code>.</p>\n<p>Try this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ContentRequestMessage {\n  private String type;\n  private String messageId;\n  private String topicArn;\n  private String message;\n  private Date timestamp;\n  private String signatureVersion;\n  private String signature;\n  private String signingCertURL;\n  private String unsubscribeURL;\n  private Map&lt;String, Map&lt;String, String&gt;&gt; messageAttributes;\n\n  // rest of implementation\n}\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user16143919"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672897899,"creation_date":1672897899,"answer_id":75014332,"question_id":75011188,"body_markdown":"&gt; im a newcomer to StackOverflow\r\n\r\nFrom your question, it seems to have a problem of serialize.\r\n\r\nI guess you want to convert to this type:\r\n\r\n    message.get(location); //  &quot;/interacments/d275d0-893ceb7c3a&quot;\r\n    message.get(status);  //   &quot;draft_created&quot;\r\n\r\nBut on your `JSON request`:\r\n\r\n    {\r\n    &quot;type&quot; : &quot;Notification&quot;,\r\n    &quot;messageId&quot; : &quot;b2b769284&quot;,\r\n    &quot;topicArn&quot; : &quot;arn:aws:sn&quot;,\r\n    &quot;message&quot; : &quot;\r\n                {\\&quot;location\\&quot;: \\&quot;/interacments/d275d0-893ceb7c3a\\&quot;, \r\n                   \\&quot;status\\&quot;: \\&quot;draft_created\\&quot;\r\n                }&quot;,\r\n    &quot;timestamp&quot; : &quot;2023-01-03T11:17:29.537Z&quot;,\r\n    &quot;signatureVersion&quot; : &quot;1&quot;,\r\n    &quot;signature&quot; : &quot;1Jag1w==&quot;,\r\n    &quot;signingCertURL&quot; : &quot;https://2625d385.pem&quot;,\r\n    &quot;unsubscribeURL&quot; : &quot;httbscri2b1f502953&quot;,\r\n    &quot;messageAttributes&quot; : { \r\n          &quot;scope&quot; : {&quot;Type&quot;:&quot;String&quot;,&quot;Value&quot;:&quot;nas_consumer&quot;}\r\n        }\r\n    }\r\n\r\nThe field name `messageAttributes` is same of `message`, so why the `messageAttributes` not throw exception?\r\n\r\nFrom the JSON perspective , the field `message` provides the String, `messageAttributes` provides the Map.\r\n\r\nSo this real problem is spring cannot deserialize String to Map.\r\n\r\n    {\r\n     &quot;message&quot; : {\r\n               &quot;location&quot;: &quot;interacments/d275d0-893ceb7c3a&quot;, \r\n               &quot;status&quot;: &quot;draft_created&quot;\r\n              }\r\n     }\r\n\r\n ","title":"Spring JSON to Map Deserialization Failing","body":"<blockquote>\n<p>im a newcomer to StackOverflow</p>\n</blockquote>\n<p>From your question, it seems to have a problem of serialize.</p>\n<p>I guess you want to convert to this type:</p>\n<pre><code>message.get(location); //  &quot;/interacments/d275d0-893ceb7c3a&quot;\nmessage.get(status);  //   &quot;draft_created&quot;\n</code></pre>\n<p>But on your <code>JSON request</code>:</p>\n<pre><code>{\n&quot;type&quot; : &quot;Notification&quot;,\n&quot;messageId&quot; : &quot;b2b769284&quot;,\n&quot;topicArn&quot; : &quot;arn:aws:sn&quot;,\n&quot;message&quot; : &quot;\n            {\\&quot;location\\&quot;: \\&quot;/interacments/d275d0-893ceb7c3a\\&quot;, \n               \\&quot;status\\&quot;: \\&quot;draft_created\\&quot;\n            }&quot;,\n&quot;timestamp&quot; : &quot;2023-01-03T11:17:29.537Z&quot;,\n&quot;signatureVersion&quot; : &quot;1&quot;,\n&quot;signature&quot; : &quot;1Jag1w==&quot;,\n&quot;signingCertURL&quot; : &quot;https://2625d385.pem&quot;,\n&quot;unsubscribeURL&quot; : &quot;httbscri2b1f502953&quot;,\n&quot;messageAttributes&quot; : { \n      &quot;scope&quot; : {&quot;Type&quot;:&quot;String&quot;,&quot;Value&quot;:&quot;nas_consumer&quot;}\n    }\n}\n</code></pre>\n<p>The field name <code>messageAttributes</code> is same of <code>message</code>, so why the <code>messageAttributes</code> not throw exception?</p>\n<p>From the JSON perspective , the field <code>message</code> provides the String, <code>messageAttributes</code> provides the Map.</p>\n<p>So this real problem is spring cannot deserialize String to Map.</p>\n<pre><code>{\n &quot;message&quot; : {\n           &quot;location&quot;: &quot;interacments/d275d0-893ceb7c3a&quot;, \n           &quot;status&quot;: &quot;draft_created&quot;\n          }\n }\n</code></pre>\n"}],"owner":{"account_id":11249887,"reputation":827,"user_id":8251318,"accept_rate":100,"display_name":"Matthew"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75011294,"answer_count":2,"score":0,"last_activity_date":1672897899,"creation_date":1672865675,"question_id":75011188,"body_markdown":"I am trying to use Spring to deserialize incoming JSON objects. I have the following class:\r\n\r\n    public class ContentRequestMessage {\r\n    \t\r\n    \tprivate String type;\r\n    \r\n    \tprivate String messageId;\r\n    \r\n    \tprivate String topicArn;\r\n    \t\r\n    \t/**\r\n    \t * Message contents:\r\n    \t * \r\n    \t * &quot;Message&quot; : &quot;{&quot;location&quot;: &quot;/interactments/d2734-9304cceb7c3a&quot;, &quot;status&quot;: &quot;draft_created&quot;}&quot;\r\n    \t */\r\n    \tprivate Map&lt;String, Object&gt; message;\r\n    \r\n    \tprivate Date timestamp;\r\n    \r\n    \tprivate String signatureVersion;\r\n    \r\n    \tprivate String signature;\r\n    \r\n    \tprivate String signingCertURL;\r\n    \r\n    \tprivate String unsubscribeURL;\r\n    \t\r\n    \tprivate Map&lt;String, Object&gt; messageAttributes;\r\n        \r\n        //constructors, getters &amp; setters\r\n    }\r\n\r\nI am trying to feed the following JSON request:\r\n\r\n    {\r\n      &quot;type&quot; : &quot;Notification&quot;,\r\n      &quot;messageId&quot; : &quot;b2b769284&quot;,\r\n      &quot;topicArn&quot; : &quot;arn:aws:sn&quot;,\r\n      &quot;message&quot; : &quot;{\\&quot;location\\&quot;: \\&quot;/interacments/d275d0-893ceb7c3a\\&quot;, \\&quot;status\\&quot;: \\&quot;draft_created\\&quot;}&quot;,\r\n      &quot;timestamp&quot; : &quot;2023-01-03T11:17:29.537Z&quot;,\r\n      &quot;signatureVersion&quot; : &quot;1&quot;,\r\n      &quot;signature&quot; : &quot;1Jag1w==&quot;,\r\n      &quot;signingCertURL&quot; : &quot;https://2625d385.pem&quot;,\r\n      &quot;unsubscribeURL&quot; : &quot;httbscri2b1f502953&quot;,\r\n      &quot;messageAttributes&quot; : {\r\n        &quot;scope&quot; : {&quot;Type&quot;:&quot;String&quot;,&quot;Value&quot;:&quot;nas_consumer&quot;}\r\n      }\r\n    }\r\n\r\nInto my controller:\r\n\r\n    @RestController\r\n    public class TestController {\r\n    \t\r\n    \t@PostMapping\r\n    \tpublic void postRequest(@RequestBody ContentRequestMessage contentRequestMessage) {\r\n    \t\t\r\n    \t\tSystem.out.println(contentRequestMessage);\r\n    \t\t\r\n    \t}\r\n    }\r\n\r\nBut I am encountering the following error:\r\n\r\n    Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot construct instance of `java.util.LinkedHashMap` (although at least one Creator exists): no String-argument constructor/factory method to deserialize from String value (&#39;{&quot;location&quot;: &quot;/interactments/d2734-9304cceb7c3a&quot;, &quot;status&quot;: &quot;draft_created&quot;}&#39;)\r\n\r\nOther threads discuss using an ObjectMapper and Jackson, *but I want to rely on Spring to deserialize this object for me*. What is going wrong here?","title":"Spring JSON to Map Deserialization Failing","body":"<p>I am trying to use Spring to deserialize incoming JSON objects. I have the following class:</p>\n<pre><code>public class ContentRequestMessage {\n    \n    private String type;\n\n    private String messageId;\n\n    private String topicArn;\n    \n    /**\n     * Message contents:\n     * \n     * &quot;Message&quot; : &quot;{&quot;location&quot;: &quot;/interactments/d2734-9304cceb7c3a&quot;, &quot;status&quot;: &quot;draft_created&quot;}&quot;\n     */\n    private Map&lt;String, Object&gt; message;\n\n    private Date timestamp;\n\n    private String signatureVersion;\n\n    private String signature;\n\n    private String signingCertURL;\n\n    private String unsubscribeURL;\n    \n    private Map&lt;String, Object&gt; messageAttributes;\n    \n    //constructors, getters &amp; setters\n}\n</code></pre>\n<p>I am trying to feed the following JSON request:</p>\n<pre><code>{\n  &quot;type&quot; : &quot;Notification&quot;,\n  &quot;messageId&quot; : &quot;b2b769284&quot;,\n  &quot;topicArn&quot; : &quot;arn:aws:sn&quot;,\n  &quot;message&quot; : &quot;{\\&quot;location\\&quot;: \\&quot;/interacments/d275d0-893ceb7c3a\\&quot;, \\&quot;status\\&quot;: \\&quot;draft_created\\&quot;}&quot;,\n  &quot;timestamp&quot; : &quot;2023-01-03T11:17:29.537Z&quot;,\n  &quot;signatureVersion&quot; : &quot;1&quot;,\n  &quot;signature&quot; : &quot;1Jag1w==&quot;,\n  &quot;signingCertURL&quot; : &quot;https://2625d385.pem&quot;,\n  &quot;unsubscribeURL&quot; : &quot;httbscri2b1f502953&quot;,\n  &quot;messageAttributes&quot; : {\n    &quot;scope&quot; : {&quot;Type&quot;:&quot;String&quot;,&quot;Value&quot;:&quot;nas_consumer&quot;}\n  }\n}\n</code></pre>\n<p>Into my controller:</p>\n<pre><code>@RestController\npublic class TestController {\n    \n    @PostMapping\n    public void postRequest(@RequestBody ContentRequestMessage contentRequestMessage) {\n        \n        System.out.println(contentRequestMessage);\n        \n    }\n}\n</code></pre>\n<p>But I am encountering the following error:</p>\n<pre><code>Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot construct instance of `java.util.LinkedHashMap` (although at least one Creator exists): no String-argument constructor/factory method to deserialize from String value ('{&quot;location&quot;: &quot;/interactments/d2734-9304cceb7c3a&quot;, &quot;status&quot;: &quot;draft_created&quot;}')\n</code></pre>\n<p>Other threads discuss using an ObjectMapper and Jackson, <em>but I want to rely on Spring to deserialize this object for me</em>. What is going wrong here?</p>\n"},{"tags":["java","spring","database","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1672879728,"post_id":75012555,"comment_id":132375055,"body_markdown":"&quot;*My main questions ...*&quot; - Please read: [Can I ask only one question per post?](https://meta.stackexchange.com/questions/222735/can-i-ask-only-one-question-per-post)","body":"&quot;<i>My main questions ...</i>&quot; - Please read: <a href=\"https://meta.stackexchange.com/questions/222735/can-i-ask-only-one-question-per-post\">Can I ask only one question per post?</a>"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1672880094,"post_id":75012555,"comment_id":132375105,"body_markdown":"The diagram is incomplete, it is missing the cardinality of relations. --- Do not use a foreign key of one table as primary key of another table (excl. join tables). --- I would always suggest to use a technical primary key, i.e. some kind of sequence. --- What is described sound more like `@ManyToOne` relations (as seen from `EncodingResult`, a result has one encoding, one encoding can be used in multipel results). --- the `float result`s seem like a candidate for a `@OneToMany`-relationship (as seen from `EncodingResult`).","body":"The diagram is incomplete, it is missing the cardinality of relations. --- Do not use a foreign key of one table as primary key of another table (excl. join tables). --- I would always suggest to use a technical primary key, i.e. some kind of sequence. --- What is described sound more like <code>@ManyToOne</code> relations (as seen from <code>EncodingResult</code>, a result has one encoding, one encoding can be used in multipel results). --- the <code>float result</code>s seem like a candidate for a <code>@OneToMany</code>-relationship (as seen from <code>EncodingResult</code>)."}],"answers":[{"tags":[],"owner":{"account_id":11084453,"reputation":211,"user_id":8138689,"display_name":"Satyajit Bhatt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1672897687,"creation_date":1672897687,"answer_id":75014313,"question_id":75012555,"body_markdown":"&gt; Person and Mobile number is the best example for one-to-many relationship.\r\n&gt; Because one person can have multiple mobile numbers, and for the mobile number\r\n&gt; perspective multiple mobile numbers refers to one person.\r\n\r\nFor the person entity there will be field like below :\r\nid, name, city, mobile_number_id [foreign key] which will holds id from mobile entity\r\n\r\nFor the mobile entity there will be field like below :\r\nid, mobile_number","title":"Java Spring JPA - How to correctly map multiple tables with OneToMany and such","body":"<blockquote>\n<p>Person and Mobile number is the best example for one-to-many relationship.\nBecause one person can have multiple mobile numbers, and for the mobile number\nperspective multiple mobile numbers refers to one person.</p>\n</blockquote>\n<p>For the person entity there will be field like below :\nid, name, city, mobile_number_id [foreign key] which will holds id from mobile entity</p>\n<p>For the mobile entity there will be field like below :\nid, mobile_number</p>\n"}],"owner":{"account_id":25594803,"reputation":49,"user_id":19370822,"display_name":"arthurIsVibing"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":346,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75014313,"answer_count":1,"score":0,"last_activity_date":1672897687,"creation_date":1672876552,"question_id":75012555,"body_markdown":"I am making a database project using Spring Boot and I have a model in mind that utilizes multiple tables. In this model of mine I thought about having a main table and using some of the attributes of this table as a primary key for the others, but I don&#39;t want to store, say, lists of others tables inside as seems to be the case for people when they use the @OneToMany tag and others. As you may guess, I&#39;m new to database design.\r\n\r\nBelow, there is a simplified scheme of what I want to do. \r\n[![enter image description here][1]][1]\r\n\r\nMy main questions here are:\r\n\r\n1. Is this good practice / good database design?\r\n2. Is this doable in Java Spring? If so, how? What annotations would I need to use and where?\r\n\r\nThank you in advance.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kWncE.png","title":"Java Spring JPA - How to correctly map multiple tables with OneToMany and such","body":"<p>I am making a database project using Spring Boot and I have a model in mind that utilizes multiple tables. In this model of mine I thought about having a main table and using some of the attributes of this table as a primary key for the others, but I don't want to store, say, lists of others tables inside as seems to be the case for people when they use the @OneToMany tag and others. As you may guess, I'm new to database design.</p>\n<p>Below, there is a simplified scheme of what I want to do.\n<a href=\"https://i.stack.imgur.com/kWncE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kWncE.png\" alt=\"enter image description here\" /></a></p>\n<p>My main questions here are:</p>\n<ol>\n<li>Is this good practice / good database design?</li>\n<li>Is this doable in Java Spring? If so, how? What annotations would I need to use and where?</li>\n</ol>\n<p>Thank you in advance.</p>\n"},{"tags":["java","android","flutter","kotlin","dart"],"answers":[{"tags":[],"owner":{"account_id":17975311,"reputation":232,"user_id":13063054,"display_name":"Aniket kumar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672897626,"creation_date":1672897626,"answer_id":75014306,"question_id":75014058,"body_markdown":"Just goto your AndroidManifest.xml class and under the MainActivity added, change the theme to NoTitleBar\r\n\r\n    android:theme=&quot;@android:style/Theme.NoTitleBar&quot;","title":"Flutter - Android app localized app name showing inside of app in dark bar","body":"<p>Just goto your AndroidManifest.xml class and under the MainActivity added, change the theme to NoTitleBar</p>\n<pre><code>android:theme=&quot;@android:style/Theme.NoTitleBar&quot;\n</code></pre>\n"}],"owner":{"account_id":13016568,"reputation":11,"user_id":9407562,"display_name":"Rezuanul Islam Fahim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":147,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672897626,"creation_date":1672895308,"question_id":75014058,"body_markdown":"I am working on an app where I have to set localized app name in English and Arabic. So, I have followed all the requirements and it worked fine. So, now when I set language to Arabic, app label automatically sets to Arabic and in English it sets to English.\r\n\r\n**Here are my files:**\r\n\r\nFolder &amp; file structure -&gt;\r\n[![enter image description here](https://i.stack.imgur.com/U6o5i.png)](https://i.stack.imgur.com/U6o5i.png)\r\n\r\n*values/strings.xml -&gt;*\r\n\r\n`&lt;resources&gt;\r\n    &lt;string name=&quot;appName&quot;&gt;OneWordAddress&lt;/string&gt;\r\n&lt;/resources&gt;`\r\n\r\n*values-ar/strings.xml -&gt;*\r\n\r\n`&lt;resources&gt;\r\n    &lt;string name=&quot;appName&quot;&gt;عنوانك بكلمة&lt;/string&gt;\r\n&lt;/resources&gt;`\r\n\r\n*src/main/AndroidManifest.xml -&gt;*\r\n\r\n[AndroidManifest.xml](https://pastebin.ubuntu.com/p/yCJ2k9t7wq/)\r\n\r\nBut the problem is, the app name is showing inside of app in dark bar at the top of app. The app starts after the dark bar. So, if device locale in English it shows English app label in dark bar and if locale is Arabic then in dark bar it shows Arabic app name.\r\n\r\n[![enter image description here](https://i.stack.imgur.com/p5MNr.jpg)](https://i.stack.imgur.com/p5MNr.jpg)\r\n\r\nI didn&#39;t add anything in top of appbar. So, there is no chance of showing this dark bar from Flutter code.","title":"Flutter - Android app localized app name showing inside of app in dark bar","body":"<p>I am working on an app where I have to set localized app name in English and Arabic. So, I have followed all the requirements and it worked fine. So, now when I set language to Arabic, app label automatically sets to Arabic and in English it sets to English.</p>\n<p><strong>Here are my files:</strong></p>\n<p>Folder &amp; file structure -&gt;\n<a href=\"https://i.stack.imgur.com/U6o5i.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/U6o5i.png\" alt=\"enter image description here\" /></a></p>\n<p><em>values/strings.xml -&gt;</em></p>\n<p><code>&lt;resources&gt; &lt;string name=&quot;appName&quot;&gt;OneWordAddress&lt;/string&gt; &lt;/resources&gt;</code></p>\n<p><em>values-ar/strings.xml -&gt;</em></p>\n<p><code>&lt;resources&gt; &lt;string name=&quot;appName&quot;&gt;عنوانك بكلمة&lt;/string&gt; &lt;/resources&gt;</code></p>\n<p><em>src/main/AndroidManifest.xml -&gt;</em></p>\n<p><a href=\"https://pastebin.ubuntu.com/p/yCJ2k9t7wq/\" rel=\"nofollow noreferrer\">AndroidManifest.xml</a></p>\n<p>But the problem is, the app name is showing inside of app in dark bar at the top of app. The app starts after the dark bar. So, if device locale in English it shows English app label in dark bar and if locale is Arabic then in dark bar it shows Arabic app name.</p>\n<p><a href=\"https://i.stack.imgur.com/p5MNr.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/p5MNr.jpg\" alt=\"enter image description here\" /></a></p>\n<p>I didn't add anything in top of appbar. So, there is no chance of showing this dark bar from Flutter code.</p>\n"},{"tags":["java","hashmap"],"comments":[{"owner":{"account_id":5823420,"reputation":785,"user_id":6656833,"display_name":"Pavel"},"score":1,"creation_date":1672895256,"post_id":75014020,"comment_id":132377347,"body_markdown":"It is not quite clear to me what exactly you are trying to achieve, but the problem is that you are using the hashmap with 4 keys: Direction.NORTH, Direction.EAST, Direction.SOUTH, Direction.WEST. So every time you load a new location you overwrite all of those keys","body":"It is not quite clear to me what exactly you are trying to achieve, but the problem is that you are using the hashmap with 4 keys: Direction.NORTH, Direction.EAST, Direction.SOUTH, Direction.WEST. So every time you load a new location you overwrite all of those keys"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":2,"creation_date":1672895260,"post_id":75014020,"comment_id":132377348,"body_markdown":"You have one `HashMap` (which really should be an `EnumMap`) with four entries (one for each key, i.e. `Direction`-value `NORTH`, `EAST`, `SOUTH`, `WEST`). This map is filled with data in the constrctor. When you call the constructor a second time, what do you think happens with the the data that is already in the map?","body":"You have one <code>HashMap</code> (which really should be an <code>EnumMap</code>) with four entries (one for each key, i.e. <code>Direction</code>-value <code>NORTH</code>, <code>EAST</code>, <code>SOUTH</code>, <code>WEST</code>). This map is filled with data in the constrctor. When you call the constructor a second time, what do you think happens with the the data that is already in the map?"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1672895286,"post_id":75014020,"comment_id":132377351,"body_markdown":"*the second location I create completely overwrites the previous locations exit data* because it&#39;s static.","body":"<i>the second location I create completely overwrites the previous locations exit data</i> because it&#39;s static."},{"owner":{"account_id":22730133,"reputation":35,"user_id":16893190,"display_name":"Justice Brinston"},"score":0,"creation_date":1672937493,"post_id":75014020,"comment_id":132390555,"body_markdown":"Thank you all for your insight, I can&#39;t believe I didn&#39;t realize that. Rookie mistake I suppose.\nSide not im going to look into EnumMap. Thanks again.","body":"Thank you all for your insight, I can&#39;t believe I didn&#39;t realize that. Rookie mistake I suppose. Side not im going to look into EnumMap. Thanks again."}],"answers":[{"tags":[],"owner":{"display_name":"user19443549"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1672897385,"creation_date":1672897385,"answer_id":75014284,"question_id":75014020,"body_markdown":"You have declared your exits MAP as static so it will class level and will be common for all objects.\r\n\r\nYou might know that in case of MAP if tries to put different data in same map with already existing key then it will update the value.\r\n\r\nSo in your case values related to latest object only will be present in MAP and for every location object it will same.\r\n\r\nSo either declare exits MAP object as instance variable or change your approach in case you need object level values.","title":"Creating a HashMap for custom object","body":"<p>You have declared your exits MAP as static so it will class level and will be common for all objects.</p>\n<p>You might know that in case of MAP if tries to put different data in same map with already existing key then it will update the value.</p>\n<p>So in your case values related to latest object only will be present in MAP and for every location object it will same.</p>\n<p>So either declare exits MAP object as instance variable or change your approach in case you need object level values.</p>\n"}],"owner":{"account_id":22730133,"reputation":35,"user_id":16893190,"display_name":"Justice Brinston"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1672898528,"accepted_answer_id":75014284,"answer_count":1,"score":0,"last_activity_date":1672897385,"creation_date":1672894973,"question_id":75014020,"body_markdown":"Not to sure if this has been asked or answered but I seem to be having trouble with it.\r\n\r\nI have a class (Location) with a constructor that reads a file, based on the name parameter, that has all the information for a location. My thought was that each time a location is travelled too the constructor will read the file and create it on the fly. My problem is that I have a class wide HashMap that seems to be getting overridden once I create a second location.\r\n\r\nStart of the Location class\r\n\r\n    public class Location extends Assets{\r\n\r\n\tprivate String name;\r\n\tprivate String desc;\r\n\tpublic static HashMap&lt;String, Location&gt; map;\r\n\tprivate static HashMap&lt;Direction, String&gt; exits = new HashMap&lt;&gt;();\r\n  \r\nStart of the constructor\r\n\r\n    public Location(String name) {\r\n\t\tsuper(name);\r\n\t\t\t\t\r\n\t\t//loads each location file as they are travelled too\r\n\t\tString filename = &quot;res/&quot; + name + &quot;.txt&quot;;\r\n\t\tArrayList&lt;String&gt; arr = new ArrayList&lt;&gt;();\r\n\t\t\r\n\t\ttry \r\n\t\t{\r\n\t\t\tBufferedReader br = new BufferedReader(new FileReader(filename));\r\n\t\t\tString line;\r\n\t\t\twhile((line = br.readLine())!= null)\r\n\t\t\t{\r\n\t\t\t\t\r\n\t\t\t\tString[] entry = line.replace(&quot;,&quot;, &quot;&quot;).split(&quot;-&quot;,2);\r\n\t\t\t\tarr.add(entry[1]);\t\t\t\t\t\t\r\n\t\t\t}\r\n\r\n\t\t\tsetName(arr.get(0));\r\n\t\t\tsetDesc(arr.get(1));\r\n\t\t\t\r\n\t\t\texits.put(Direction.NORTH, arr.get(2));\t\t\r\n\t\t\texits.put(Direction.EAST, arr.get(3));\r\n\t\t\texits.put(Direction.SOUTH, arr.get(4));\r\n\t\t\texits.put(Direction.WEST, arr.get(5));\t\t\t\t\t\t\t\t\t\r\n\r\n\r\nBut as I mentioned above the second location I create completely overwrites the previous locations exit data when called from my very simple map class. The name and description methods still work fine but for whatever reason both locations show the same exit data which I know to be incorrect.\t\r\n\r\nMap class\r\n\r\n    public class Map {\r\n\r\n\tpublic static HashMap&lt;String, Location&gt; map = new HashMap&lt;&gt;();\r\n\t\t\r\n\tpublic static void readMap(String name) \r\n\t{\r\n\t\tSystem.out.println(map.get(name).getName());\r\n\t\tmap.get(name).getDesc();\r\n\t\tmap.get(name).getExits();\t\r\n\t\tSystem.out.println(&quot;&quot;);\r\n\t}\r\n\r\n\tpublic static String lowerString(String name)\r\n\t{\r\n\t\tString str = name.toLowerCase().replace(&quot; &quot;, &quot;&quot;);\r\n\t\treturn str;\r\n\t}\r\n\tpublic static void main(String[] args) {\r\n\t\tLocation riverbank = new Location(&quot;riverbank&quot;);\r\n\t\tLocation rabbithole = new Location(&quot;rabbithole&quot;);\r\n\t\t\r\n\t\tmap.put(&quot;riverbank&quot;, riverbank);\r\n\t\tmap.put(&quot;rabbithole&quot;, rabbithole);\t\r\n\t\t\r\n\t\treadMap(lowerString(&quot;River Bank&quot;));\r\n\t\treadMap(lowerString(&quot;Rabbit Hole&quot;));\t\t\r\n\t}\r\n}","title":"Creating a HashMap for custom object","body":"<p>Not to sure if this has been asked or answered but I seem to be having trouble with it.</p>\n<p>I have a class (Location) with a constructor that reads a file, based on the name parameter, that has all the information for a location. My thought was that each time a location is travelled too the constructor will read the file and create it on the fly. My problem is that I have a class wide HashMap that seems to be getting overridden once I create a second location.</p>\n<p>Start of the Location class</p>\n<pre><code>public class Location extends Assets{\n\nprivate String name;\nprivate String desc;\npublic static HashMap&lt;String, Location&gt; map;\nprivate static HashMap&lt;Direction, String&gt; exits = new HashMap&lt;&gt;();\n</code></pre>\n<p>Start of the constructor</p>\n<pre><code>public Location(String name) {\n    super(name);\n            \n    //loads each location file as they are travelled too\n    String filename = &quot;res/&quot; + name + &quot;.txt&quot;;\n    ArrayList&lt;String&gt; arr = new ArrayList&lt;&gt;();\n    \n    try \n    {\n        BufferedReader br = new BufferedReader(new FileReader(filename));\n        String line;\n        while((line = br.readLine())!= null)\n        {\n            \n            String[] entry = line.replace(&quot;,&quot;, &quot;&quot;).split(&quot;-&quot;,2);\n            arr.add(entry[1]);                      \n        }\n\n        setName(arr.get(0));\n        setDesc(arr.get(1));\n        \n        exits.put(Direction.NORTH, arr.get(2));     \n        exits.put(Direction.EAST, arr.get(3));\n        exits.put(Direction.SOUTH, arr.get(4));\n        exits.put(Direction.WEST, arr.get(5));                                  \n</code></pre>\n<p>But as I mentioned above the second location I create completely overwrites the previous locations exit data when called from my very simple map class. The name and description methods still work fine but for whatever reason both locations show the same exit data which I know to be incorrect.</p>\n<p>Map class</p>\n<pre><code>public class Map {\n\npublic static HashMap&lt;String, Location&gt; map = new HashMap&lt;&gt;();\n    \npublic static void readMap(String name) \n{\n    System.out.println(map.get(name).getName());\n    map.get(name).getDesc();\n    map.get(name).getExits();   \n    System.out.println(&quot;&quot;);\n}\n\npublic static String lowerString(String name)\n{\n    String str = name.toLowerCase().replace(&quot; &quot;, &quot;&quot;);\n    return str;\n}\npublic static void main(String[] args) {\n    Location riverbank = new Location(&quot;riverbank&quot;);\n    Location rabbithole = new Location(&quot;rabbithole&quot;);\n    \n    map.put(&quot;riverbank&quot;, riverbank);\n    map.put(&quot;rabbithole&quot;, rabbithole);  \n    \n    readMap(lowerString(&quot;River Bank&quot;));\n    readMap(lowerString(&quot;Rabbit Hole&quot;));        \n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","osgi","bnd"],"comments":[{"owner":{"account_id":201851,"reputation":9354,"user_id":448551,"display_name":"BJ Hargrave"},"score":0,"creation_date":1522199711,"post_id":49523031,"comment_id":86055107,"body_markdown":"Did you try -includeresource?","body":"Did you try -includeresource?"},{"owner":{"account_id":892776,"reputation":19519,"user_id":930728,"accept_rate":60,"display_name":"Christian Schneider"},"score":0,"creation_date":1522215166,"post_id":49523031,"comment_id":86059034,"body_markdown":"Apart from embedding the config the question is if java util logging would find the config at runtime if it is inside the jar.","body":"Apart from embedding the config the question is if java util logging would find the config at runtime if it is inside the jar."},{"owner":{"account_id":4180322,"reputation":350,"user_id":4755673,"display_name":"Michael Lipp"},"score":0,"creation_date":1522230647,"post_id":49523031,"comment_id":86068529,"body_markdown":"@bj-hargrave: tried that, but `-includeresource` doesn&#39;t have any effect in `launch.bndrun`. And it&#39;s no good to have the file in one of the bundles. Of course, Christian is right. Maybe I should restate the question: is it possible to include a file (such as `jul-debug.properties`) in the generated export jar that is copied into the working directory set for the application on startup (configured with `-runstorage`, right?).","body":"@bj-hargrave: tried that, but <code>-includeresource</code> doesn&#39;t have any effect in <code>launch.bndrun</code>. And it&#39;s no good to have the file in one of the bundles. Of course, Christian is right. Maybe I should restate the question: is it possible to include a file (such as <code>jul-debug.properties</code>) in the generated export jar that is copied into the working directory set for the application on startup (configured with <code>-runstorage</code>, right?)."},{"owner":{"account_id":124062,"reputation":23813,"user_id":318921,"accept_rate":67,"display_name":"Neil Bartlett"},"score":0,"creation_date":1522238871,"post_id":49523031,"comment_id":86074444,"body_markdown":"`-runstorage` is NOT a working directory for your application to use. It is a working directory exclusively for the OSGi Framework. You should not store arbitrary files there, though you can ask OSGi to store files safely there by calling `BundleContext.getDataFile`.","body":"<code>-runstorage</code> is NOT a working directory for your application to use. It is a working directory exclusively for the OSGi Framework. You should not store arbitrary files there, though you can ask OSGi to store files safely there by calling <code>BundleContext.getDataFile</code>."},{"owner":{"account_id":124062,"reputation":23813,"user_id":318921,"accept_rate":67,"display_name":"Neil Bartlett"},"score":0,"creation_date":1522238979,"post_id":49523031,"comment_id":86074531,"body_markdown":"To (hopefully) answer the actual question... no, the JAR exporter does not include anything in the exported JAR except bundles and the launcher code. Without writing an exporter plugin, I don&#39;t know of a way to get additional files in there.","body":"To (hopefully) answer the actual question... no, the JAR exporter does not include anything in the exported JAR except bundles and the launcher code. Without writing an exporter plugin, I don&#39;t know of a way to get additional files in there."},{"owner":{"account_id":201851,"reputation":9354,"user_id":448551,"display_name":"BJ Hargrave"},"score":0,"creation_date":1522325172,"post_id":49523031,"comment_id":86118512,"body_markdown":"`-includeresource: jul-debug.properties` in the bndrun file works when creating an executable jar: https://github.com/bndtools/bnd/blob/ddf9ff1ff6d0513e818d212d0ea3f4c7435b2f9a/biz.aQute.launcher/src/aQute/launcher/plugin/ProjectLauncherImpl.java#L227-L243. But launch does not package a jar, it launches in situ.","body":"<code>-includeresource: jul-debug.properties</code> in the bndrun file works when creating an executable jar: <a href=\"https://github.com/bndtools/bnd/blob/ddf9ff1ff6d0513e818d212d0ea3f4c7435b2f9a/biz.aQute.launcher/src/aQute/launcher/plugin/ProjectLauncherImpl.java#L227-L243\" rel=\"nofollow noreferrer\">github.com/bndtools/bnd/blob/&hellip;</a>. But launch does not package a jar, it launches in situ."}],"owner":{"account_id":4180322,"reputation":350,"user_id":4755673,"display_name":"Michael Lipp"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":187,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672897238,"creation_date":1522187655,"question_id":49523031,"body_markdown":"When I launch an application from bndtools (using a file `launch.bndrun`), I can specify `-runproperties: java.util.logging.config.file=jul-debug.properties`, with `jul-debug.properties` being a file in the working directory. Everything is fine and works as expected, i.e. the java.util.logging properties are read from my configuration file.\r\n\r\nWhen I create an export (`launch.jar`) using this `lauch.bndrun`, the configuration file `jul-debug.properties` is not included in the `launch.jar`. Can I add some instruction to `launch.bndrun` that causes the `jul-debug.properties` to be included in `laucn.jar` in such a way that `jar -jar launch.jar` will cause the configuration file to be evaluated?\r\n\r\nI looked through all the `-run...` instructions for bnd, but couldn&#39;t find anything.","title":"Does bnd launcher support configuration files that are made known with system properties?","body":"<p>When I launch an application from bndtools (using a file <code>launch.bndrun</code>), I can specify <code>-runproperties: java.util.logging.config.file=jul-debug.properties</code>, with <code>jul-debug.properties</code> being a file in the working directory. Everything is fine and works as expected, i.e. the java.util.logging properties are read from my configuration file.</p>\n\n<p>When I create an export (<code>launch.jar</code>) using this <code>lauch.bndrun</code>, the configuration file <code>jul-debug.properties</code> is not included in the <code>launch.jar</code>. Can I add some instruction to <code>launch.bndrun</code> that causes the <code>jul-debug.properties</code> to be included in <code>laucn.jar</code> in such a way that <code>jar -jar launch.jar</code> will cause the configuration file to be evaluated?</p>\n\n<p>I looked through all the <code>-run...</code> instructions for bnd, but couldn't find anything.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4728704,"reputation":17022,"user_id":3824919,"display_name":"Tom"},"score":1,"creation_date":1672894259,"post_id":75013931,"comment_id":132377214,"body_markdown":"Did you copy parts of this code from different sources?","body":"Did you copy parts of this code from different sources?"},{"owner":{"account_id":4937658,"reputation":37,"user_id":3975345,"display_name":"avanish rai"},"score":0,"creation_date":1672895711,"post_id":75013931,"comment_id":132377428,"body_markdown":"@Tom This is my own code that i use in my development where i am showing user record on graph chart week basis","body":"@Tom This is my own code that i use in my development where i am showing user record on graph chart week basis"},{"owner":{"account_id":8860912,"reputation":4843,"user_id":6617152,"display_name":"Ramachandran.A.G"},"score":1,"creation_date":1672895824,"post_id":75013931,"comment_id":132377445,"body_markdown":"@avanishrai , what is the expected result for the input provided! Would it be 2nd Jan and 9th Jan 2022 ?","body":"@avanishrai , what is the expected result for the input provided! Would it be 2nd Jan and 9th Jan 2022 ?"},{"owner":{"account_id":4728704,"reputation":17022,"user_id":3824919,"display_name":"Tom"},"score":2,"creation_date":1672896123,"post_id":75013931,"comment_id":132377492,"body_markdown":"If this is your own code, why do Mix old Java Date/Calenders with the newer java.time? What was the advantage for you to do that?","body":"If this is your own code, why do Mix old Java Date/Calenders with the newer java.time? What was the advantage for you to do that?"},{"owner":{"account_id":4937658,"reputation":37,"user_id":3975345,"display_name":"avanish rai"},"score":0,"creation_date":1672896138,"post_id":75013931,"comment_id":132377498,"body_markdown":"@Ramachandran.A.G  expected result is 28-12-2021 TO 01-01-2022 &amp;&amp; 02-01-2022 to 06-01-2022","body":"@Ramachandran.A.G  expected result is 28-12-2021 TO 01-01-2022 &amp;&amp; 02-01-2022 to 06-01-2022"},{"owner":{"account_id":4937658,"reputation":37,"user_id":3975345,"display_name":"avanish rai"},"score":0,"creation_date":1672896311,"post_id":75013931,"comment_id":132377532,"body_markdown":"@Tom i am not getting exactly could you plz explain more, startdate and endDate comes from another API in forms of LocalDate and alrmDate in Date format","body":"@Tom i am not getting exactly could you plz explain more, startdate and endDate comes from another API in forms of LocalDate and alrmDate in Date format"},{"owner":{"account_id":22506547,"reputation":965,"user_id":16702058,"display_name":"Hi computer"},"score":1,"creation_date":1672901785,"post_id":75013931,"comment_id":132378465,"body_markdown":"trying to understand the problem, but it is too much effort. Can you provide some  code to reproduce the problem? For example code that you would write in main method.","body":"trying to understand the problem, but it is too much effort. Can you provide some  code to reproduce the problem? For example code that you would write in main method."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1672903351,"post_id":75013931,"comment_id":132378831,"body_markdown":"What did you mean by “ISO compliant”? A standard ISO 8601 week always starts on a Monday, ends on a Sunday. So your first day of week parameter makes no sense. Your entire Question is confusing and unfocused. A rewrite is in order. And study existing Questions and Answers *before* posting.  Week dates topic has been addressed many many times.","body":"What did you mean by “ISO compliant”? A standard ISO 8601 week always starts on a Monday, ends on a Sunday. So your first day of week parameter makes no sense. Your entire Question is confusing and unfocused. A rewrite is in order. And study existing Questions and Answers <i>before</i> posting.  Week dates topic has been addressed many many times."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1672904654,"post_id":75013931,"comment_id":132379152,"body_markdown":"I strongly recommend that you don’t use `SimpleDateFormat` and `Calnedar`. Those classes are troublesome and long outdated. In addition to `LocalDate` use `WeekFields` also from java.time, the modern Java date and time API.","body":"I strongly recommend that you don’t use <code>SimpleDateFormat</code> and <code>Calnedar</code>. Those classes are troublesome and long outdated. In addition to <code>LocalDate</code> use <code>WeekFields</code> also from java.time, the modern Java date and time API."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1672905193,"post_id":75013931,"comment_id":132379294,"body_markdown":"Get `weekStart` as `LocalDate.ofYearDay(yearNo, 20) .with(WeekFields.ISO.weekOfWeekBasedYear(), weekNumber) .with(DayOfWeek.MONDAY);`. For 2020 and week 1 this will be 2019-12-30. The last day of the week is always just 6 days later.","body":"Get <code>weekStart</code> as <code>LocalDate.ofYearDay(yearNo, 20) .with(WeekFields.ISO.weekOfWeekBasedYear(), weekNumber) .with(DayOfWeek.MONDAY);</code>. For 2020 and week 1 this will be 2019-12-30. The last day of the week is always just 6 days later."}],"answers":[{"tags":[],"owner":{"account_id":8860912,"reputation":4843,"user_id":6617152,"display_name":"Ramachandran.A.G"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1672897202,"creation_date":1672897202,"answer_id":75014268,"question_id":75013931,"body_markdown":"Avinash, not the full answer but in-line with what Tom mentioned. A lot of convinient date time API&#39;s can be used since Java-8. Please feel free to customize this approach for the exact logic you may need\r\n\r\n```\r\n\r\n    import java.time.DayOfWeek;\r\n    import java.time.temporal.ChronoField;\r\n    import java.time.temporal.IsoFields;\r\n    import static java.time.temporal.IsoFields.WEEK_OF_WEEK_BASED_YEAR;\r\n    import java.time.LocalDate;\r\n    import java.time.YearMonth;\r\n    import java.time.temporal.TemporalAdjusters;\r\n    \r\n    public class SO75013931 {\r\n        public static void main(String[] args) {\r\n            System.out.println(getWeekStart(LocalDate.parse(&quot;2021-12-28&quot;),DayOfWeek.SUNDAY));\r\n            System.out.println(getWeekEnd(LocalDate.parse(&quot;2021-12-28&quot;),DayOfWeek.SUNDAY));\r\n        }\r\n    \r\n        //28-12-2021 TO 01-01-2022 &amp;&amp; 02-01-2022 to 06-01-2022\r\n        private static String getWeekStart(LocalDate localDate, DayOfWeek weekStartDay) {\r\n            LocalDate weekStart = localDate.with(TemporalAdjusters.previous(weekStartDay));\r\n            return weekStart.isBefore(localDate) ? localDate.toString(): weekStart.toString();\r\n        }\r\n        private static String getWeekEnd(LocalDate localDate, DayOfWeek weekStartDay) {\r\n            LocalDate weekEnd = localDate.with(TemporalAdjusters.next(weekStartDay.minus(1)));\r\n            return weekEnd.isBefore(localDate) ? localDate.toString(): weekEnd.toString();\r\n        }\r\n    }\r\n\r\nThis would give\r\n\r\n    2021-12-28\r\n    2022-01-01\r\n\r\nAgain, the idea was to recommend usage of these API&#39;s as opposed to older util API&#39;s \r\n","title":"Get correct week Start date and end date when monday , tuesday falls in last year last week","body":"<p>Avinash, not the full answer but in-line with what Tom mentioned. A lot of convinient date time API's can be used since Java-8. Please feel free to customize this approach for the exact logic you may need</p>\n<pre><code>\n    import java.time.DayOfWeek;\n    import java.time.temporal.ChronoField;\n    import java.time.temporal.IsoFields;\n    import static java.time.temporal.IsoFields.WEEK_OF_WEEK_BASED_YEAR;\n    import java.time.LocalDate;\n    import java.time.YearMonth;\n    import java.time.temporal.TemporalAdjusters;\n    \n    public class SO75013931 {\n        public static void main(String[] args) {\n            System.out.println(getWeekStart(LocalDate.parse(&quot;2021-12-28&quot;),DayOfWeek.SUNDAY));\n            System.out.println(getWeekEnd(LocalDate.parse(&quot;2021-12-28&quot;),DayOfWeek.SUNDAY));\n        }\n    \n        //28-12-2021 TO 01-01-2022 &amp;&amp; 02-01-2022 to 06-01-2022\n        private static String getWeekStart(LocalDate localDate, DayOfWeek weekStartDay) {\n            LocalDate weekStart = localDate.with(TemporalAdjusters.previous(weekStartDay));\n            return weekStart.isBefore(localDate) ? localDate.toString(): weekStart.toString();\n        }\n        private static String getWeekEnd(LocalDate localDate, DayOfWeek weekStartDay) {\n            LocalDate weekEnd = localDate.with(TemporalAdjusters.next(weekStartDay.minus(1)));\n            return weekEnd.isBefore(localDate) ? localDate.toString(): weekEnd.toString();\n        }\n    }\n\nThis would give\n\n    2021-12-28\n    2022-01-01\n\nAgain, the idea was to recommend usage of these API's as opposed to older util API's \n</code></pre>\n"}],"owner":{"account_id":4937658,"reputation":37,"user_id":3975345,"display_name":"avanish rai"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75014268,"answer_count":1,"score":-1,"last_activity_date":1672897202,"creation_date":1672893919,"question_id":75013931,"body_markdown":"I am getting week number and year from DB(using function DATE_PART(&#39;week&#39;,alarm_date - (interval &#39;1 days&#39;) * 0) AS week, DATE_PART(&#39;year&#39;,alarm_date) AS yearNo , ISO compliant) and on the basis of week number and year i want to calculate weekStartDate and weekEndDate between user provided startdate and end date with week start date for example {&quot;startDate&quot;:&quot;2021-12-28&quot;,&quot;endDate&quot;:&quot;2022-01-06&quot;,&quot;weekStartDay&quot;:&quot;Sunday&quot;}\r\n\r\n    private String getWeek(LocalDate startTime, LocalDate endTime, int yearNo, int weekNumber, int weekStartDay){\r\n    \t\tSimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n    \r\n    \t\tCalendar cal = Calendar.getInstance();\r\n    \t\t// make it ISO compliant since postgres is using ISO time to calculate week number\r\n    \t\tcal.setMinimalDaysInFirstWeek(4);\r\n    \t\tcal.set(Calendar.YEAR, yearNo);\r\n    \t\tcal.set(Calendar.WEEK_OF_YEAR, weekNumber);\r\n    \r\n    \t\t//ISO week starts on Monday and ends on Sunday\r\n    \t\tcal.set(Calendar.DAY_OF_WEEK, weekStartDay);//  weekStartDay configurabale, as per \r\n     //user input Calendar.SUNDAY or Calendar.MONDAY or Calendar.TUEDAY; etc\r\n    \t\tString weekStartDate = sdf.format(cal.getTime());\r\n    \r\n    \t\tcal.add(Calendar.DATE, 6);\r\n    \t\tString weekEndDate = sdf.format(cal.getTime());\r\n    \r\n    \t\tLocalDate weekStart = LocalDate.of(Integer.valueOf(weekStartDate.substring(0, 4)),\r\n    \t\t\t\tInteger.valueOf(weekStartDate.substring(5, 7)), Integer.valueOf(weekStartDate.substring(8)));\r\n    \r\n    \t\tif(weekStart.isBefore(startTime)) {\r\n    \t\t\tweekStart = startTime;\r\n    \t\t}\r\n    \r\n    \t\tLocalDate weekEnd = LocalDate.of(Integer.valueOf(weekEndDate.substring(0, 4)),\r\n    \t\t\t\tInteger.valueOf(weekEndDate.substring(5, 7)), Integer.valueOf(weekEndDate.substring(8)));\r\n    \t\tif(weekEnd.isAfter(endTime)) {\r\n    \t\t\tweekEnd = endTime;\r\n    \t\t}\r\n    \r\n    \t\tString weekStr = weekStart.toString()+&quot;_&quot;+weekEnd.toString();\r\n    \t\treturn weekStr;\r\n    \t}\r\n\r\nBut when weekStartDay falls in lastweek of previous year then it gives the wrong vale of weekStartDate and weekStartEnd so please suggest me how to set yearnumber in java \r\n\r\n","title":"Get correct week Start date and end date when monday , tuesday falls in last year last week","body":"<p>I am getting week number and year from DB(using function DATE_PART('week',alarm_date - (interval '1 days') * 0) AS week, DATE_PART('year',alarm_date) AS yearNo , ISO compliant) and on the basis of week number and year i want to calculate weekStartDate and weekEndDate between user provided startdate and end date with week start date for example {&quot;startDate&quot;:&quot;2021-12-28&quot;,&quot;endDate&quot;:&quot;2022-01-06&quot;,&quot;weekStartDay&quot;:&quot;Sunday&quot;}</p>\n<pre><code>private String getWeek(LocalDate startTime, LocalDate endTime, int yearNo, int weekNumber, int weekStartDay){\n        SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\n\n        Calendar cal = Calendar.getInstance();\n        // make it ISO compliant since postgres is using ISO time to calculate week number\n        cal.setMinimalDaysInFirstWeek(4);\n        cal.set(Calendar.YEAR, yearNo);\n        cal.set(Calendar.WEEK_OF_YEAR, weekNumber);\n\n        //ISO week starts on Monday and ends on Sunday\n        cal.set(Calendar.DAY_OF_WEEK, weekStartDay);//  weekStartDay configurabale, as per \n //user input Calendar.SUNDAY or Calendar.MONDAY or Calendar.TUEDAY; etc\n        String weekStartDate = sdf.format(cal.getTime());\n\n        cal.add(Calendar.DATE, 6);\n        String weekEndDate = sdf.format(cal.getTime());\n\n        LocalDate weekStart = LocalDate.of(Integer.valueOf(weekStartDate.substring(0, 4)),\n                Integer.valueOf(weekStartDate.substring(5, 7)), Integer.valueOf(weekStartDate.substring(8)));\n\n        if(weekStart.isBefore(startTime)) {\n            weekStart = startTime;\n        }\n\n        LocalDate weekEnd = LocalDate.of(Integer.valueOf(weekEndDate.substring(0, 4)),\n                Integer.valueOf(weekEndDate.substring(5, 7)), Integer.valueOf(weekEndDate.substring(8)));\n        if(weekEnd.isAfter(endTime)) {\n            weekEnd = endTime;\n        }\n\n        String weekStr = weekStart.toString()+&quot;_&quot;+weekEnd.toString();\n        return weekStr;\n    }\n</code></pre>\n<p>But when weekStartDay falls in lastweek of previous year then it gives the wrong vale of weekStartDate and weekStartEnd so please suggest me how to set yearnumber in java</p>\n"},{"tags":["java","android","kotlin"],"answers":[{"tags":[],"owner":{"account_id":26855967,"reputation":2341,"user_id":20440272,"display_name":"Sohaib Ahmed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672896752,"creation_date":1672896752,"answer_id":75014206,"question_id":75014002,"body_markdown":"You need to get permission of `MANAGE_EXTERNAL_STORAGE` in order to write image in `DIRECTORY_DOWNLOADS` or use MediaStore to create file.","title":"video compression using silicompressor in android not saving files in android 11","body":"<p>You need to get permission of <code>MANAGE_EXTERNAL_STORAGE</code> in order to write image in <code>DIRECTORY_DOWNLOADS</code> or use MediaStore to create file.</p>\n"}],"owner":{"account_id":25493377,"reputation":1,"user_id":19287771,"display_name":"net west"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672896752,"creation_date":1672894789,"question_id":75014002,"body_markdown":"I am trying to compress videos in project therefore using silicompressor. but when I pass it the destination path it create folder correctly but doesn&#39;t save file.\r\n\r\n    CoroutineScope(Dispatchers.IO).launch {\r\n                    var videoPath = &quot;&quot;\r\n                    try {\r\n                        val file = compressVideosFolderPath\r\n                        if (!file.exists()) {\r\n                            file.mkdirs()\r\n                        }\r\n                        videoPath = SiliCompressor.with(applicationContext)\r\n                            .compressVideo(strType, file.path)\r\n                    } catch (e: URISyntaxException) {\r\n                        Log.e(&quot;TAG&quot;, &quot;onCreate: ${e.message}&quot;,)\r\n                        e.printStackTrace()\r\n                    }\r\n                }\r\n\r\nHere is folder path:\r\n\r\n    var compressVideosFolderPath = File(\r\n        Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS)\r\n            .toString() +&quot;/Compress Videos&quot;\r\n    )","title":"video compression using silicompressor in android not saving files in android 11","body":"<p>I am trying to compress videos in project therefore using silicompressor. but when I pass it the destination path it create folder correctly but doesn't save file.</p>\n<pre><code>CoroutineScope(Dispatchers.IO).launch {\n                var videoPath = &quot;&quot;\n                try {\n                    val file = compressVideosFolderPath\n                    if (!file.exists()) {\n                        file.mkdirs()\n                    }\n                    videoPath = SiliCompressor.with(applicationContext)\n                        .compressVideo(strType, file.path)\n                } catch (e: URISyntaxException) {\n                    Log.e(&quot;TAG&quot;, &quot;onCreate: ${e.message}&quot;,)\n                    e.printStackTrace()\n                }\n            }\n</code></pre>\n<p>Here is folder path:</p>\n<pre><code>var compressVideosFolderPath = File(\n    Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS)\n        .toString() +&quot;/Compress Videos&quot;\n)\n</code></pre>\n"},{"tags":["java","arrays","random","integer"],"owner":{"account_id":27419360,"reputation":1,"user_id":20918057,"display_name":"Alex"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1672748613,"answer_count":1,"score":-2,"last_activity_date":1672896738,"creation_date":1672740051,"question_id":74991739,"body_markdown":"## Heading ##happy 2023 with all the best.We have a semester exercise in java and i would like a help, we want a program that stores a table of 20 random integer values from 1 to 20 and then asks the user to give a value from 0 to 20 and then to show if that value is among them how many times has occurred and in which positions do I need a condition... what is so confusing? I tried to explain it as simple as i could \r\n\r\n    import java.io.*;\r\n    \r\n    import java.util.Random;\r\n    \r\n    class anazitisi // research\r\n    \r\n    {\r\n    \r\n    \tpublic static void main(String[]args) throws IOException\r\n    \r\n    \t{\r\n    \r\n    \t\tInputStreamReader reader = new InputStreamReader(System.in);\r\n    \r\n    \t\tBufferedReader Input = new BufferedReader(reader);\r\n    \r\n    \t\t\r\n    \r\n    \t\tint[] x = new int[20];\r\n    \r\n    \t\tRandom rndm = new Random();\r\n    \r\n    \t\tint i= rndm.nextInt();\r\n    \r\n    \t\tfor( i=0; i&lt;20; i++)\r\n    \r\n    \t\t\tx[i] = rndm.nextInt(20);\r\n    \r\n    \t\r\n    \r\n    \t\tfor( i=0; i&lt;20; i++)\r\n    \r\n    \t\tSystem.out.println(&quot;x[&quot;+i+&quot;]=&quot;+x[i]);\r\n    \r\n    \t\t\r\n    \r\n    \tSystem.out.println(&quot;Give a number from 1 to 20&quot;); \r\n    \r\n    \tString AR1 = Input.readLine();\r\n    \r\n    \t  int b = Integer.parseInt(AR1);\r\n    \r\n    \t\t\r\n    \r\n    \t now we need a condition to say that f.e number 3 has been found 3 times in rows 3,10,15","title":"Finding a certain random value inside a fixed 20 integer table how many times and in which position","body":"<h2>Heading ##happy 2023 with all the best.We have a semester exercise in java and i would like a help, we want a program that stores a table of 20 random integer values from 1 to 20 and then asks the user to give a value from 0 to 20 and then to show if that value is among them how many times has occurred and in which positions do I need a condition... what is so confusing? I tried to explain it as simple as i could</h2>\n<pre><code>import java.io.*;\n\nimport java.util.Random;\n\nclass anazitisi // research\n\n{\n\n    public static void main(String[]args) throws IOException\n\n    {\n\n        InputStreamReader reader = new InputStreamReader(System.in);\n\n        BufferedReader Input = new BufferedReader(reader);\n\n        \n\n        int[] x = new int[20];\n\n        Random rndm = new Random();\n\n        int i= rndm.nextInt();\n\n        for( i=0; i&lt;20; i++)\n\n            x[i] = rndm.nextInt(20);\n\n    \n\n        for( i=0; i&lt;20; i++)\n\n        System.out.println(&quot;x[&quot;+i+&quot;]=&quot;+x[i]);\n\n        \n\n    System.out.println(&quot;Give a number from 1 to 20&quot;); \n\n    String AR1 = Input.readLine();\n\n      int b = Integer.parseInt(AR1);\n\n        \n\n     now we need a condition to say that f.e number 3 has been found 3 times in rows 3,10,15\n</code></pre>\n"},{"tags":["java","spring-boot","servlets","embedded-tomcat-8"],"owner":{"account_id":27437875,"reputation":1,"user_id":20933357,"display_name":"SummerBoot"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672896164,"creation_date":1672896095,"question_id":75014146,"body_markdown":"I&#39;m inquiring about the need to proceed with the development of Spring boot 1.X version, but one part is blocked.\r\nI use Embedded Tomcat, so I have to register with @Bean for ErrorReportValue.\r\nI&#39;m working on moving 400 Bad Request to Custom Error page, but I found a way.\r\nHowever, they are classes that can be applied from Spring 2.X or higher, so they are not applied to Spring 1.4 version.\r\nThe replaceable code was similar but failed. What are some ways to get that function to 1.4 as well?\r\n\r\n\r\n\r\nIf you look at the code below, there are codes available from Spring 2.X and above. &quot;TomcatWebSocketServletWebServerCustomizer&quot; and &quot;TomcatServletWebServerFactory&quot; .\r\nBecause of these two codes, it is not possible to proceed in version 1.X. It would be nice to upgrade the version, but it will be difficult due to the circumstances.\r\nAmong the replaceable codes, &quot;TomcatWebSocketContainerCustomizer&quot; and &quot;Tomcat EmbeddedServletContainerFactory&quot; were available, but were not compatible with &quot;StandardHost&quot;.\r\nHelp me.\r\nThank you.\r\n\r\n\r\n\r\n\t@Bean\r\n\tpublic TomcatWebSocketServletWebServerCustomizer errorValveCustomizer() {\r\n\t\treturn new TomcatWebSocketServletWebServerCustomizer() {\r\n\t\t\t@Override\r\n\t\t\tpublic void customize(TomcatServletWebServerFactory factory) {\r\n\t\t\t\tfactory.addContextCustomizers((context) -&gt; {\r\n\t\t\t\t\tContainer parent = context.getParent();\r\n\t\t\t\t\tif (parent instanceof StandardHost) {\r\n\t\t\t\t\t\t((StandardHost) parent).setErrorReportValveClass(&quot;com.java.lmh.errors.CustomError&quot;);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic int getOrder() {\r\n\t\t\t\treturn 100; // needs to be AFTER the one configured with TomcatWebServerFactoryCustomizer\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n}\r\n","title":"Is there a way to replace TomcatWebSocketServletWebServerCustomizer? Spring 1.x","body":"<p>I'm inquiring about the need to proceed with the development of Spring boot 1.X version, but one part is blocked.\nI use Embedded Tomcat, so I have to register with @Bean for ErrorReportValue.\nI'm working on moving 400 Bad Request to Custom Error page, but I found a way.\nHowever, they are classes that can be applied from Spring 2.X or higher, so they are not applied to Spring 1.4 version.\nThe replaceable code was similar but failed. What are some ways to get that function to 1.4 as well?</p>\n<p>If you look at the code below, there are codes available from Spring 2.X and above. &quot;TomcatWebSocketServletWebServerCustomizer&quot; and &quot;TomcatServletWebServerFactory&quot; .\nBecause of these two codes, it is not possible to proceed in version 1.X. It would be nice to upgrade the version, but it will be difficult due to the circumstances.\nAmong the replaceable codes, &quot;TomcatWebSocketContainerCustomizer&quot; and &quot;Tomcat EmbeddedServletContainerFactory&quot; were available, but were not compatible with &quot;StandardHost&quot;.\nHelp me.\nThank you.</p>\n<pre><code>@Bean\npublic TomcatWebSocketServletWebServerCustomizer errorValveCustomizer() {\n    return new TomcatWebSocketServletWebServerCustomizer() {\n        @Override\n        public void customize(TomcatServletWebServerFactory factory) {\n            factory.addContextCustomizers((context) -&gt; {\n                Container parent = context.getParent();\n                if (parent instanceof StandardHost) {\n                    ((StandardHost) parent).setErrorReportValveClass(&quot;com.java.lmh.errors.CustomError&quot;);\n                }\n            });\n        }\n\n        @Override\n        public int getOrder() {\n            return 100; // needs to be AFTER the one configured with TomcatWebServerFactoryCustomizer\n        }\n    };\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","jpa"],"comments":[{"owner":{"account_id":250544,"reputation":7921,"user_id":527333,"accept_rate":60,"display_name":"btiernay"},"score":10,"creation_date":1291641250,"post_id":4362876,"comment_id":4753501,"body_markdown":"What is the JPA provider? I believe this setting is provider specific.","body":"What is the JPA provider? I believe this setting is provider specific."},{"owner":{"account_id":329906,"reputation":12891,"user_id":653708,"accept_rate":90,"display_name":"8bitjunkie"},"score":0,"creation_date":1519996179,"post_id":4362876,"comment_id":85144556,"body_markdown":"@Sajee please could you mark axtavt&#39;s answer as accepted so that it directs visitors to your question straight to this answer?","body":"@Sajee please could you mark axtavt&#39;s answer as accepted so that it directs visitors to your question straight to this answer?"}],"answers":[{"tags":[],"owner":{"account_id":239936,"reputation":3048,"user_id":509865,"accept_rate":70,"display_name":"Gondim"},"down_vote_count":9,"up_vote_count":6,"is_accepted":false,"score":-3,"last_activity_date":1291605615,"creation_date":1291605615,"answer_id":4362899,"question_id":4362876,"body_markdown":"There&#39;s a file called persistence.xml\r\nPress Ctrl+Shift+R and find it, then, there&#39;s a place written something like showSQL.\r\n\r\n**Just put it as true**\r\n\r\nI&#39;m not sure if the server must be started as Debug mode.\r\nCheck the SQLs created on console.","title":"How to view the SQL queries issued by JPA?","body":"<p>There's a file called persistence.xml\nPress Ctrl+Shift+R and find it, then, there's a place written something like showSQL.</p>\n\n<p><strong>Just put it as true</strong></p>\n\n<p>I'm not sure if the server must be started as Debug mode.\nCheck the SQLs created on console.</p>\n"},{"tags":[],"owner":{"account_id":250544,"reputation":7921,"user_id":527333,"accept_rate":60,"display_name":"btiernay"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1291605746,"creation_date":1291605746,"answer_id":4362912,"question_id":4362876,"body_markdown":"See https://stackoverflow.com/questions/679518/cant-make-hibernate-stop-showing-sql-using-spring-jpa-vendor-adapter","title":"How to view the SQL queries issued by JPA?","body":"<p>See <a href=\"https://stackoverflow.com/questions/679518/cant-make-hibernate-stop-showing-sql-using-spring-jpa-vendor-adapter\">Can&#39;t make hibernate stop showing SQL using Spring JPA Vendor Adapter</a></p>\n"},{"tags":[],"owner":{"account_id":36208,"reputation":240316,"user_id":103154,"display_name":"axtavt"},"down_vote_count":0,"up_vote_count":364,"is_accepted":true,"score":364,"last_activity_date":1573044221,"creation_date":1291645007,"answer_id":4367283,"question_id":4362876,"body_markdown":"Logging options are provider-specific. You need to know which JPA implementation do you use.\r\n\r\n * Hibernate ([see here][1]):\r\n                 \r\n        &lt;property name = &quot;hibernate.show_sql&quot; value = &quot;true&quot; /&gt;\r\n\r\n * EclipseLink ([see here][2]):\r\n\r\n        &lt;property name=&quot;eclipselink.logging.level&quot; value=&quot;FINE&quot;/&gt;\r\n\r\n * OpenJPA ([see here][3]):\r\n\r\n        &lt;property name=&quot;openjpa.Log&quot; value=&quot;DefaultLevel=WARN,Runtime=INFO,Tool=INFO,SQL=TRACE&quot;/&gt;\r\n * DataNucleus ([see here][4]):\r\n\r\n     Set the log category `DataNucleus.Datastore.Native` to a level, like `DEBUG`.\r\n        \r\n\r\n  [1]: http://docs.jboss.org/hibernate/core/3.3/reference/en/html/session-configuration.html#configuration-programmatic\r\n  [2]: http://wiki.eclipse.org/EclipseLink/Examples/JPA/Logging#Log_Level_Configuration\r\n  [3]: http://openjpa.apache.org/builds/2.0.0/apache-openjpa-2.0.0/docs/manual/ref_guide_logging_openjpa.html\r\n  [4]: http://www.datanucleus.org/products/accessplatform_4_1/logging.html","title":"How to view the SQL queries issued by JPA?","body":"<p>Logging options are provider-specific. You need to know which JPA implementation do you use.</p>\n\n<ul>\n<li><p>Hibernate (<a href=\"http://docs.jboss.org/hibernate/core/3.3/reference/en/html/session-configuration.html#configuration-programmatic\" rel=\"noreferrer\">see here</a>):</p>\n\n<pre><code>&lt;property name = \"hibernate.show_sql\" value = \"true\" /&gt;\n</code></pre></li>\n<li><p>EclipseLink (<a href=\"http://wiki.eclipse.org/EclipseLink/Examples/JPA/Logging#Log_Level_Configuration\" rel=\"noreferrer\">see here</a>):</p>\n\n<pre><code>&lt;property name=\"eclipselink.logging.level\" value=\"FINE\"/&gt;\n</code></pre></li>\n<li><p>OpenJPA (<a href=\"http://openjpa.apache.org/builds/2.0.0/apache-openjpa-2.0.0/docs/manual/ref_guide_logging_openjpa.html\" rel=\"noreferrer\">see here</a>):</p>\n\n<pre><code>&lt;property name=\"openjpa.Log\" value=\"DefaultLevel=WARN,Runtime=INFO,Tool=INFO,SQL=TRACE\"/&gt;\n</code></pre></li>\n<li><p>DataNucleus (<a href=\"http://www.datanucleus.org/products/accessplatform_4_1/logging.html\" rel=\"noreferrer\">see here</a>):</p>\n\n<p>Set the log category <code>DataNucleus.Datastore.Native</code> to a level, like <code>DEBUG</code>.</p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":377469,"reputation":1106,"user_id":729613,"accept_rate":50,"display_name":"ThePizzle"},"down_vote_count":1,"up_vote_count":37,"is_accepted":false,"score":36,"last_activity_date":1313144948,"creation_date":1313144948,"answer_id":7038828,"question_id":4362876,"body_markdown":"Also, if you&#39;re using EclipseLink and want to output the SQL parameter values, you can add this property to your persistence.xml file:\r\n\r\n    &lt;property name=&quot;eclipselink.logging.parameters&quot; value=&quot;true&quot;/&gt;","title":"How to view the SQL queries issued by JPA?","body":"<p>Also, if you're using EclipseLink and want to output the SQL parameter values, you can add this property to your persistence.xml file:</p>\n\n<pre><code>&lt;property name=\"eclipselink.logging.parameters\" value=\"true\"/&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6292,"reputation":5329,"user_id":10523,"accept_rate":100,"display_name":"Tomasz"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1353705622,"creation_date":1345789368,"answer_id":12104141,"question_id":4362876,"body_markdown":"In EclipseLink to get the SQL for a specific Query at runtime you can use the DatabaseQuery API:\r\n\r\n    Query query = em.createNamedQuery(&quot;findMe&quot;); \r\n    Session session = em.unwrap(JpaEntityManager.class).getActiveSession(); \r\n    DatabaseQuery databaseQuery = ((EJBQueryImpl)query).getDatabaseQuery(); \r\n    databaseQuery.prepareCall(session, new DatabaseRecord());\r\n \r\n    String sqlString = databaseQuery.getSQLString();\r\n\r\nThis SQL will contain ? for parameters. To get the SQL translated with the arguments you need a DatabaseRecord with the parameter values.\r\n\r\n    DatabaseRecord recordWithValues= new DatabaseRecord();\r\n    recordWithValues.add(new DatabaseField(&quot;param1&quot;), &quot;someValue&quot;);\r\n\r\n    String sqlStringWithArgs = \r\n             databaseQuery.getTranslatedSQLString(session, recordWithValues);\r\n\r\nSource: [How to get the SQL for a Query][1]\r\n\r\n  [1]: http://wiki.eclipse.org/EclipseLink/FAQ/JPA#How_to_get_the_SQL_for_a_Query.3F","title":"How to view the SQL queries issued by JPA?","body":"<p>In EclipseLink to get the SQL for a specific Query at runtime you can use the DatabaseQuery API:</p>\n\n<pre><code>Query query = em.createNamedQuery(\"findMe\"); \nSession session = em.unwrap(JpaEntityManager.class).getActiveSession(); \nDatabaseQuery databaseQuery = ((EJBQueryImpl)query).getDatabaseQuery(); \ndatabaseQuery.prepareCall(session, new DatabaseRecord());\n\nString sqlString = databaseQuery.getSQLString();\n</code></pre>\n\n<p>This SQL will contain ? for parameters. To get the SQL translated with the arguments you need a DatabaseRecord with the parameter values.</p>\n\n<pre><code>DatabaseRecord recordWithValues= new DatabaseRecord();\nrecordWithValues.add(new DatabaseField(\"param1\"), \"someValue\");\n\nString sqlStringWithArgs = \n         databaseQuery.getTranslatedSQLString(session, recordWithValues);\n</code></pre>\n\n<p>Source: <a href=\"http://wiki.eclipse.org/EclipseLink/FAQ/JPA#How_to_get_the_SQL_for_a_Query.3F\" rel=\"noreferrer\">How to get the SQL for a Query</a></p>\n"},{"tags":[],"owner":{"account_id":1211884,"reputation":606,"user_id":1180279,"display_name":"Kuhpid"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1350919328,"creation_date":1350918500,"answer_id":13014299,"question_id":4362876,"body_markdown":"If you use hibernate and logback as your logger you could use the following (shows only the bindings and not the results):\r\n\r\n    &lt;appender\r\n\t\tname=&quot;STDOUT&quot;\r\n\t\tclass=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n\t\t&lt;encoder&gt;\r\n\t\t\t&lt;pattern&gt;%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{36} -\r\n\t\t\t\t%msg%n&lt;/pattern&gt;\r\n\t\t&lt;/encoder&gt;\r\n\t\t&lt;filter class=&quot;ch.qos.logback.core.filter.EvaluatorFilter&quot;&gt;\r\n\t\t\t&lt;evaluator&gt;\r\n\t\t\t\t&lt;expression&gt;return message.toLowerCase().contains(&quot;org.hibernate.type&quot;) &amp;amp;&amp;amp;\r\n\t\t\t\t\tlogger.startsWith(&quot;returning&quot;);&lt;/expression&gt;\r\n\t\t\t&lt;/evaluator&gt;\r\n\t\t\t&lt;OnMismatch&gt;NEUTRAL&lt;/OnMismatch&gt;\r\n\t\t\t&lt;OnMatch&gt;DENY&lt;/OnMatch&gt;\r\n\t\t&lt;/filter&gt;\r\n\t&lt;/appender&gt;\r\n\r\n**org.hibernate.SQL=DEBUG** prints the Query\r\n\r\n    &lt;logger name=&quot;org.hibernate.SQL&quot;&gt;\r\n\t\t&lt;level value=&quot;DEBUG&quot; /&gt;\r\n\t&lt;/logger&gt;\r\n\r\n**org.hibernate.type=TRACE** prints the bindings and normally the results, which will be suppressed thru the custom filter\r\n\r\n\t&lt;logger name=&quot;org.hibernate.type&quot;&gt;\r\n\t\t&lt;level value=&quot;TRACE&quot; /&gt;\r\n\t&lt;/logger&gt;\r\n\r\nYou need the janino dependency (http://logback.qos.ch/manual/filters.html#JaninoEventEvaluator):\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.codehaus.janino&lt;/groupId&gt;\r\n        &lt;artifactId&gt;janino&lt;/artifactId&gt;\r\n        &lt;version&gt;2.6.1&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"How to view the SQL queries issued by JPA?","body":"<p>If you use hibernate and logback as your logger you could use the following (shows only the bindings and not the results):</p>\n\n<pre><code>&lt;appender\n    name=\"STDOUT\"\n    class=\"ch.qos.logback.core.ConsoleAppender\"&gt;\n    &lt;encoder&gt;\n        &lt;pattern&gt;%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{36} -\n            %msg%n&lt;/pattern&gt;\n    &lt;/encoder&gt;\n    &lt;filter class=\"ch.qos.logback.core.filter.EvaluatorFilter\"&gt;\n        &lt;evaluator&gt;\n            &lt;expression&gt;return message.toLowerCase().contains(\"org.hibernate.type\") &amp;amp;&amp;amp;\n                logger.startsWith(\"returning\");&lt;/expression&gt;\n        &lt;/evaluator&gt;\n        &lt;OnMismatch&gt;NEUTRAL&lt;/OnMismatch&gt;\n        &lt;OnMatch&gt;DENY&lt;/OnMatch&gt;\n    &lt;/filter&gt;\n&lt;/appender&gt;\n</code></pre>\n\n<p><strong>org.hibernate.SQL=DEBUG</strong> prints the Query</p>\n\n<pre><code>&lt;logger name=\"org.hibernate.SQL\"&gt;\n    &lt;level value=\"DEBUG\" /&gt;\n&lt;/logger&gt;\n</code></pre>\n\n<p><strong>org.hibernate.type=TRACE</strong> prints the bindings and normally the results, which will be suppressed thru the custom filter</p>\n\n<pre><code>&lt;logger name=\"org.hibernate.type\"&gt;\n    &lt;level value=\"TRACE\" /&gt;\n&lt;/logger&gt;\n</code></pre>\n\n<p>You need the janino dependency (http://logback.qos.ch/manual/filters.html#JaninoEventEvaluator):</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.codehaus.janino&lt;/groupId&gt;\n    &lt;artifactId&gt;janino&lt;/artifactId&gt;\n    &lt;version&gt;2.6.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":138637,"reputation":3042,"user_id":343699,"accept_rate":100,"display_name":"mateusz.fiolka"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1362244070,"creation_date":1362244070,"answer_id":15177131,"question_id":4362876,"body_markdown":"If you want to see the exact queries altogether with parameter values and return values you can use a jdbc proxy driver. It will intercept all jdbc calls and log their values. Some proxies:\r\n\r\n - log4jdbc\r\n - jdbcspy\r\n\r\nThey may also provide some additional features, like measuring execution time for queries and gathering statistics.","title":"How to view the SQL queries issued by JPA?","body":"<p>If you want to see the exact queries altogether with parameter values and return values you can use a jdbc proxy driver. It will intercept all jdbc calls and log their values. Some proxies:</p>\n\n<ul>\n<li>log4jdbc</li>\n<li>jdbcspy</li>\n</ul>\n\n<p>They may also provide some additional features, like measuring execution time for queries and gathering statistics.</p>\n"},{"tags":[],"owner":{"account_id":390209,"reputation":9903,"user_id":750117,"accept_rate":58,"display_name":"jfcorugedo"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1373814377,"creation_date":1373814377,"answer_id":17640597,"question_id":4362876,"body_markdown":"In order to view all the SQL and parameters in OpenJPA, put these two parameters in the persistence.xml:\r\n\r\n    &lt;property name=&quot;openjpa.Log&quot; value=&quot;DefaultLevel=WARN, Runtime=INFO, Tool=INFO, SQL=TRACE&quot;/&gt;\r\n    &lt;property name=&quot;openjpa.ConnectionFactoryProperties&quot; value=&quot;PrintParameters=true&quot; /&gt;","title":"How to view the SQL queries issued by JPA?","body":"<p>In order to view all the SQL and parameters in OpenJPA, put these two parameters in the persistence.xml:</p>\n\n<pre><code>&lt;property name=\"openjpa.Log\" value=\"DefaultLevel=WARN, Runtime=INFO, Tool=INFO, SQL=TRACE\"/&gt;\n&lt;property name=\"openjpa.ConnectionFactoryProperties\" value=\"PrintParameters=true\" /&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2052314,"reputation":352,"user_id":1831027,"accept_rate":83,"display_name":"Marcus Becker"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1386865300,"creation_date":1386865300,"answer_id":20548689,"question_id":4362876,"body_markdown":"Example using log4j (*src\\log4j.xml*):\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\r\n&lt;!DOCTYPE log4j:configuration PUBLIC &quot;-//APACHE//DTD LOG4J 1.2//EN&quot; &quot;http://logging.apache.org/log4j/1.2/apidocs/org/apache/log4j/xml/doc-files/log4j.dtd&quot;&gt;\r\n&lt;log4j:configuration xmlns:log4j=&quot;http://jakarta.apache.org/log4j/&quot;&gt;\r\n\r\n    &lt;appender name=&quot;CA&quot; class=&quot;org.apache.log4j.AsyncAppender&quot;&gt;\r\n        &lt;param name=&quot;BufferSize&quot; value=&quot;512&quot;/&gt;\r\n        &lt;appender-ref ref=&quot;CA_OUTPUT&quot;/&gt;\r\n    &lt;/appender&gt;\r\n    &lt;appender name=&quot;CA_OUTPUT&quot; class=&quot;org.apache.log4j.ConsoleAppender&quot;&gt;\r\n        &lt;layout class=&quot;org.apache.log4j.PatternLayout&quot;&gt;\r\n            &lt;param name=&quot;ConversionPattern&quot; value=&quot;[%p] %d %c %M - %m%n&quot;/&gt;\r\n        &lt;/layout&gt;\r\n    &lt;/appender&gt;\r\n\r\n    &lt;logger name=&quot;org.hibernate.SQL&quot; additivity=&quot;false&quot;&gt;\r\n        &lt;level value=&quot;DEBUG&quot;/&gt;\r\n        &lt;appender-ref ref=&quot;CA&quot;/&gt;\r\n    &lt;/logger&gt;\r\n\r\n    &lt;root&gt;\r\n        &lt;level value=&quot;WARN&quot;/&gt;\r\n        &lt;appender-ref ref=&quot;CA&quot;/&gt;\r\n    &lt;/root&gt;\r\n\r\n&lt;/log4j:configuration&gt;","title":"How to view the SQL queries issued by JPA?","body":"<p>Example using log4j (<em>src\\log4j.xml</em>):</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\" ?&gt;\n</code></pre>\n\n<p>\n</p>\n\n<pre><code>&lt;appender name=\"CA\" class=\"org.apache.log4j.AsyncAppender\"&gt;\n    &lt;param name=\"BufferSize\" value=\"512\"/&gt;\n    &lt;appender-ref ref=\"CA_OUTPUT\"/&gt;\n&lt;/appender&gt;\n&lt;appender name=\"CA_OUTPUT\" class=\"org.apache.log4j.ConsoleAppender\"&gt;\n    &lt;layout class=\"org.apache.log4j.PatternLayout\"&gt;\n        &lt;param name=\"ConversionPattern\" value=\"[%p] %d %c %M - %m%n\"/&gt;\n    &lt;/layout&gt;\n&lt;/appender&gt;\n\n&lt;logger name=\"org.hibernate.SQL\" additivity=\"false\"&gt;\n    &lt;level value=\"DEBUG\"/&gt;\n    &lt;appender-ref ref=\"CA\"/&gt;\n&lt;/logger&gt;\n\n&lt;root&gt;\n    &lt;level value=\"WARN\"/&gt;\n    &lt;appender-ref ref=\"CA\"/&gt;\n&lt;/root&gt;\n</code></pre>\n\n<p></p>\n"},{"tags":[],"owner":{"account_id":1904786,"reputation":4277,"user_id":1719877,"display_name":"agelbess"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1467363402,"creation_date":1467363402,"answer_id":38141178,"question_id":4362876,"body_markdown":"Additionally, if using WildFly/JBoss, set the logging level of org.hibernate to DEBUG\r\n\r\n[![Hibernate Logging in WildFly][1]][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/cV0mR.png","title":"How to view the SQL queries issued by JPA?","body":"<p>Additionally, if using WildFly/JBoss, set the logging level of org.hibernate to DEBUG</p>\n\n<p><a href=\"https://i.stack.imgur.com/cV0mR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cV0mR.png\" alt=\"Hibernate Logging in WildFly\"></a></p>\n"},{"tags":[],"owner":{"account_id":1192733,"reputation":1507,"user_id":1165160,"accept_rate":92,"display_name":"King Midas"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1602037076,"creation_date":1518181160,"answer_id":48706453,"question_id":4362876,"body_markdown":"Another [good option][1] if you have too much log and you want to only put as a temporal `System.out.println()`, you can, depending on your provider do:\r\n\r\n\tCriteriaBuilder criteriaBuilder = getEntityManager().getCriteriaBuilder();\r\n\tCriteriaQuery&lt;ExaminationType&gt; criteriaQuery = criteriaBuilder.createQuery(getEntityClass()); \r\n\r\n    /* For Hibernate */\r\n    System.out.println(getEntityManager().createQuery(criteriaQuery).unwrap(org.hibernate.query.Query.class).getQueryString());\r\n\r\n    /* For OpenJPA */ \r\n    System.out.println(getEntityManager().createQuery(criteriaQuery).unwrap(org.apache.openjpa.persistence.QueryImpl.class).getQueryString());\r\n\r\n    /* For EclipseLink */\r\n    System.out.println(getEntityManager().createQuery(criteriaQuery).unwrap(JpaQuery.class).getSQLString());\r\n\r\n\r\n  [1]: https://antoniogoncalves.org/2012/05/24/how-to-get-the-jpqlsql-string-from-a-criteriaquery-in-jpa/","title":"How to view the SQL queries issued by JPA?","body":"<p>Another <a href=\"https://antoniogoncalves.org/2012/05/24/how-to-get-the-jpqlsql-string-from-a-criteriaquery-in-jpa/\" rel=\"nofollow noreferrer\">good option</a> if you have too much log and you want to only put as a temporal <code>System.out.println()</code>, you can, depending on your provider do:</p>\n<pre><code>CriteriaBuilder criteriaBuilder = getEntityManager().getCriteriaBuilder();\nCriteriaQuery&lt;ExaminationType&gt; criteriaQuery = criteriaBuilder.createQuery(getEntityClass()); \n\n/* For Hibernate */\nSystem.out.println(getEntityManager().createQuery(criteriaQuery).unwrap(org.hibernate.query.Query.class).getQueryString());\n\n/* For OpenJPA */ \nSystem.out.println(getEntityManager().createQuery(criteriaQuery).unwrap(org.apache.openjpa.persistence.QueryImpl.class).getQueryString());\n\n/* For EclipseLink */\nSystem.out.println(getEntityManager().createQuery(criteriaQuery).unwrap(JpaQuery.class).getSQLString());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3569748,"reputation":2756,"user_id":2980375,"display_name":"Elhanan Mishraky"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1546184373,"creation_date":1546184373,"answer_id":53978973,"question_id":4362876,"body_markdown":"With Spring Boot simply add: spring.jpa.show-sql=true to application.properties.\r\nThis will show the query but without the actual parameters (you will see ? instead of each parameter).","title":"How to view the SQL queries issued by JPA?","body":"<p>With Spring Boot simply add: spring.jpa.show-sql=true to application.properties.\nThis will show the query but without the actual parameters (you will see ? instead of each parameter).</p>\n"},{"tags":[],"owner":{"account_id":2666878,"reputation":693,"user_id":2305119,"display_name":"thyzz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1553310956,"creation_date":1553310956,"answer_id":55310272,"question_id":4362876,"body_markdown":"If you are using Spring framework. Modify your ***application.properties*** file as below\r\n\r\n\r\n    #Logging JPA Queries, 1st line Log Query. 2nd line Log parameters of prepared statements \r\n    logging.level.org.hibernate.SQL=DEBUG  \r\n    logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE  \r\n\r\n    #Logging JdbcTemplate Queries, 1st line Log Query. 2nd line Log parameters of prepared statements \r\n    logging.level.org.springframework.jdbc.core.JdbcTemplate=DEBUG  \r\n    logging.level.org.springframework.jdbc.core.StatementCreatorUtils=TRACE  ","title":"How to view the SQL queries issued by JPA?","body":"<p>If you are using Spring framework. Modify your <strong><em>application.properties</em></strong> file as below</p>\n\n<pre><code>#Logging JPA Queries, 1st line Log Query. 2nd line Log parameters of prepared statements \nlogging.level.org.hibernate.SQL=DEBUG  \nlogging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE  \n\n#Logging JdbcTemplate Queries, 1st line Log Query. 2nd line Log parameters of prepared statements \nlogging.level.org.springframework.jdbc.core.JdbcTemplate=DEBUG  \nlogging.level.org.springframework.jdbc.core.StatementCreatorUtils=TRACE  \n</code></pre>\n"},{"tags":[],"owner":{"account_id":873159,"reputation":26684,"user_id":923560,"accept_rate":47,"display_name":"Abdull"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1567757508,"creation_date":1567757508,"answer_id":57818138,"question_id":4362876,"body_markdown":"During explorative development, and to focus the SQL debugging logging on the specific method I want to check, I decorate that method with the following logger statements:\r\n\r\n```\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport ch.qos.logback.classic.Level;\r\n\r\n((ch.qos.logback.classic.Logger) LoggerFactory.getLogger(&quot;org.hibernate.SQL&quot;)).setLevel(Level.DEBUG);\r\nentityManager.find(Customer.class, customerID);\r\n((ch.qos.logback.classic.Logger) LoggerFactory.getLogger(&quot;org.hibernate.SQL&quot;)).setLevel(Level.INFO);\r\n\r\n```","title":"How to view the SQL queries issued by JPA?","body":"<p>During explorative development, and to focus the SQL debugging logging on the specific method I want to check, I decorate that method with the following logger statements:</p>\n\n<pre><code>import org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport ch.qos.logback.classic.Level;\n\n((ch.qos.logback.classic.Logger) LoggerFactory.getLogger(\"org.hibernate.SQL\")).setLevel(Level.DEBUG);\nentityManager.find(Customer.class, customerID);\n((ch.qos.logback.classic.Logger) LoggerFactory.getLogger(\"org.hibernate.SQL\")).setLevel(Level.INFO);\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2838318,"reputation":6068,"user_id":2438446,"accept_rate":100,"display_name":"Kent Munthe Caspersen"},"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1577700906,"creation_date":1577700906,"answer_id":59529129,"question_id":4362876,"body_markdown":"I have made a cheat-sheet I think can be useful to others. In all examples, you can remove the `format_sql` property if you want to keep the logged queries on a single line (no pretty printing).\r\n\r\n**Pretty print SQL queries to standard out *without* parameters of prepared statements and without optimizations of a logging framework**:\r\n\r\n**`application.properties` file:**\r\n\r\n```\r\nspring.jpa.show-sql=true\r\nspring.jpa.properties.hibernate.format_sql=true\r\n```\r\n\r\n**`application.yml` file:**\r\n\r\n```\r\nspring:\r\n  jpa:\r\n    show-sql: true\r\n    properties:\r\n      hibernate:\r\n        format_sql: true\r\n```\r\n\r\n**Pretty print SQL queries *with* parameters of prepared statements using a logging framework**:\r\n\r\n**`application.properties` file:**\r\n\r\n```\r\nspring.jpa.properties.hibernate.format_sql=true\r\nlogging.level.org.hibernate.SQL=DEBUG\r\nlogging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE\r\n```\r\n\r\n**`application.yml` file:**\r\n\r\n```\r\nspring:\r\n  jpa:\r\n    properties:\r\n      hibernate:\r\n        format_sql: true\r\nlogging:\r\n  level:\r\n    org:\r\n      hibernate:\r\n        SQL: DEBUG\r\n        type:\r\n          descriptor:\r\n            sql:\r\n              BasicBinder: TRACE\r\n```\r\n\r\n**Pretty print SQL queries *without* parameters of prepared statements using a logging framework**:\r\n\r\n**`application.properties` file:**\r\n\r\n```\r\nspring.jpa.properties.hibernate.format_sql=true\r\nlogging.level.org.hibernate.SQL=DEBUG\r\n```\r\n\r\n**`application.yml` file:**\r\n\r\n```\r\nspring:\r\n  jpa:\r\n    properties:\r\n      hibernate:\r\n        format_sql: true\r\nlogging:\r\n  level:\r\n    org:\r\n      hibernate:\r\n        SQL: DEBUG\r\n```\r\n\r\nSource (and more details): https://www.baeldung.com/sql-logging-spring-boot","title":"How to view the SQL queries issued by JPA?","body":"<p>I have made a cheat-sheet I think can be useful to others. In all examples, you can remove the <code>format_sql</code> property if you want to keep the logged queries on a single line (no pretty printing).</p>\n\n<p><strong>Pretty print SQL queries to standard out <em>without</em> parameters of prepared statements and without optimizations of a logging framework</strong>:</p>\n\n<p><strong><code>application.properties</code> file:</strong></p>\n\n<pre><code>spring.jpa.show-sql=true\nspring.jpa.properties.hibernate.format_sql=true\n</code></pre>\n\n<p><strong><code>application.yml</code> file:</strong></p>\n\n<pre><code>spring:\n  jpa:\n    show-sql: true\n    properties:\n      hibernate:\n        format_sql: true\n</code></pre>\n\n<p><strong>Pretty print SQL queries <em>with</em> parameters of prepared statements using a logging framework</strong>:</p>\n\n<p><strong><code>application.properties</code> file:</strong></p>\n\n<pre><code>spring.jpa.properties.hibernate.format_sql=true\nlogging.level.org.hibernate.SQL=DEBUG\nlogging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE\n</code></pre>\n\n<p><strong><code>application.yml</code> file:</strong></p>\n\n<pre><code>spring:\n  jpa:\n    properties:\n      hibernate:\n        format_sql: true\nlogging:\n  level:\n    org:\n      hibernate:\n        SQL: DEBUG\n        type:\n          descriptor:\n            sql:\n              BasicBinder: TRACE\n</code></pre>\n\n<p><strong>Pretty print SQL queries <em>without</em> parameters of prepared statements using a logging framework</strong>:</p>\n\n<p><strong><code>application.properties</code> file:</strong></p>\n\n<pre><code>spring.jpa.properties.hibernate.format_sql=true\nlogging.level.org.hibernate.SQL=DEBUG\n</code></pre>\n\n<p><strong><code>application.yml</code> file:</strong></p>\n\n<pre><code>spring:\n  jpa:\n    properties:\n      hibernate:\n        format_sql: true\nlogging:\n  level:\n    org:\n      hibernate:\n        SQL: DEBUG\n</code></pre>\n\n<p>Source (and more details): <a href=\"https://www.baeldung.com/sql-logging-spring-boot\" rel=\"noreferrer\">https://www.baeldung.com/sql-logging-spring-boot</a></p>\n"},{"tags":[],"owner":{"account_id":2204985,"reputation":1225,"user_id":1948438,"display_name":"CamelTM"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1591433912,"creation_date":1591433912,"answer_id":62229517,"question_id":4362876,"body_markdown":"EclipseLink to output the SQL(persistence.xml config):\r\n\r\n    &lt;property name=&quot;eclipselink.logging.level.sql&quot; value=&quot;FINE&quot; /&gt;","title":"How to view the SQL queries issued by JPA?","body":"<p>EclipseLink to output the SQL(persistence.xml config):</p>\n\n<pre><code>&lt;property name=\"eclipselink.logging.level.sql\" value=\"FINE\" /&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18479864,"reputation":349,"user_id":13462325,"display_name":"Prashant S"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1607989596,"creation_date":1607989596,"answer_id":65298115,"question_id":4362876,"body_markdown":"JPA provider can set it for you - incase if someone doesn&#39;t want to control through JPA properties\r\n```\r\npublic static JpaProperties properties() {\r\n\t\tfinal JpaProperties jpaProperties = new JpaProperties();\r\n\t\tjpaProperties.setShowSql(true);\r\n```","title":"How to view the SQL queries issued by JPA?","body":"<p>JPA provider can set it for you - incase if someone doesn't want to control through JPA properties</p>\n<pre><code>public static JpaProperties properties() {\n        final JpaProperties jpaProperties = new JpaProperties();\n        jpaProperties.setShowSql(true);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11176477,"reputation":79,"user_id":8201905,"display_name":"pete"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651155989,"creation_date":1651155989,"answer_id":72045453,"question_id":4362876,"body_markdown":"For anyone who needs to validate SQL from a javax.persistence.Query\r\n\r\n```java\r\n    import org.hibernate.query.Query;\r\n\r\n    import org.junit.jupiter.api.Test;\r\n    import org.junit.jupiter.api.Assertions;\r\n\r\n    import javax.enterprise.context.RequestScoped;\r\n    import javax.inject.Inject;\r\n    import javax.persistence.EntityManager;\r\n    import javax.persistence.Query;\r\n\r\n    @RequestScoped\r\n    public class QueryServices {\r\n\r\n       @Inject\r\n       protected EntityManager entityManager;\r\n\r\n       public Query buildQuery(String searchCriteria) {\r\n          return entityManager.createNativeQuery(&quot;select * from table t where t.animal = ?1&quot;))\r\n          .setParameter(1, searchCriteria);\r\n       }\r\n       \r\n\r\n    class QueryServicesTest {\r\n       @Test\r\n       void buildQuerySqlGenerationTest() {\r\n          final String searchFor = &quot;cat&quot;; \r\n\r\n          // Build a query object to check\r\n          org.hibernate.query.Query query = workflowServices.buildQuery(searchFor)\r\n                .unwrap(org.hibernate.query.Query.class).getQueryString();\r\n\r\n          // Validate the generated sql contains the search value\r\n          Assertions.assertTrue(query.contains(searchFor);\r\n       }\r\n    }\r\n```\r\n","title":"How to view the SQL queries issued by JPA?","body":"<p>For anyone who needs to validate SQL from a javax.persistence.Query</p>\n<pre class=\"lang-java prettyprint-override\"><code>    import org.hibernate.query.Query;\n\n    import org.junit.jupiter.api.Test;\n    import org.junit.jupiter.api.Assertions;\n\n    import javax.enterprise.context.RequestScoped;\n    import javax.inject.Inject;\n    import javax.persistence.EntityManager;\n    import javax.persistence.Query;\n\n    @RequestScoped\n    public class QueryServices {\n\n       @Inject\n       protected EntityManager entityManager;\n\n       public Query buildQuery(String searchCriteria) {\n          return entityManager.createNativeQuery(&quot;select * from table t where t.animal = ?1&quot;))\n          .setParameter(1, searchCriteria);\n       }\n       \n\n    class QueryServicesTest {\n       @Test\n       void buildQuerySqlGenerationTest() {\n          final String searchFor = &quot;cat&quot;; \n\n          // Build a query object to check\n          org.hibernate.query.Query query = workflowServices.buildQuery(searchFor)\n                .unwrap(org.hibernate.query.Query.class).getQueryString();\n\n          // Validate the generated sql contains the search value\n          Assertions.assertTrue(query.contains(searchFor);\n       }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27163815,"reputation":9,"user_id":20701613,"display_name":"kesav"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670797959,"creation_date":1670384986,"answer_id":74711557,"question_id":4362876,"body_markdown":"We can also view the sql in a structured manner by adding these properties in the **application.properties** file like so:\r\n\r\n    spring.h2.console.enabled=true\r\n    spring.jpa.properties.hibernate.show_sql=true\r\n    spring.jpa.properties.hibernate.use_sql_comments=true\r\n    spring.jpa.properties.hibernate.format_sql=true\r\n    logging.level.org.hibernate.type=trace","title":"How to view the SQL queries issued by JPA?","body":"<p>We can also view the sql in a structured manner by adding these properties in the <strong>application.properties</strong> file like so:</p>\n<pre><code>spring.h2.console.enabled=true\nspring.jpa.properties.hibernate.show_sql=true\nspring.jpa.properties.hibernate.use_sql_comments=true\nspring.jpa.properties.hibernate.format_sql=true\nlogging.level.org.hibernate.type=trace\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12797874,"reputation":140,"user_id":9260154,"display_name":"shashank joshi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672895988,"creation_date":1672829154,"answer_id":75004281,"question_id":4362876,"body_markdown":"I created the following class to print the exact generated Oracle SQL/HQL, and working fine- \r\n\r\n    import java.lang.annotation.Annotation;\r\n    import java.lang.reflect.Method;\r\n    import java.sql.Timestamp;\r\n    import java.text.SimpleDateFormat;\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    \r\n    import org.aspectj.lang.ProceedingJoinPoint;\r\n    import org.aspectj.lang.annotation.Around;\r\n    import org.aspectj.lang.annotation.Aspect;\r\n    import org.aspectj.lang.reflect.MethodSignature;\r\n    import org.springframework.data.jpa.repository.Query;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    @Aspect\r\n    @Component\r\n    public class ICMSPointcut {\r\n      @Around(&quot;execution(public * *(..)) &amp;&amp; @annotation(org.springframework.data.jpa.repository.Query)&quot;)\r\n      public Object findAllReceivedMessagesByRoleAndLocNewerSQLSearch(ProceedingJoinPoint joinPoint) throws Throwable {\r\n        //System.out.println(&quot;joinPoint- &quot; + joinPoint.toLongString());\r\n        MethodSignature signature = (MethodSignature) joinPoint.getSignature();\r\n        Method method = signature.getMethod();\r\n        Query query = method.getAnnotation(Query.class);\r\n        final StringBuilder sql = new StringBuilder(query.value());\r\n        if(query.nativeQuery()) {\r\n          Object[] params = joinPoint.getArgs();\r\n          for(int i = 0; i &lt; params.length; i++) {\r\n            Object param = params[i];\r\n            for(int j = 1; j &lt; sql.length(); j++) {\r\n              char c = sql.charAt(j);\r\n              if(c == &#39;?&#39;) {\r\n                if(sql.charAt(j-1) == &#39;\\\\&#39;) {\r\n                  continue;\r\n                }\r\n                sql.deleteCharAt(j);\r\n                if(param instanceof Number) {\r\n                  sql.insert(j, param != null ? param.toString() : &quot;null&quot;);\r\n                }\r\n                else if(param instanceof java.util.Date) {\r\n                  Timestamp ts = (Timestamp)param;\r\n                  sql.insert(j, param != null ? &quot;to_date(&#39;DD-MM-YYYY HH24:MI:SS&#39;,&#39;&quot;+new SimpleDateFormat(&quot;dd-MMM-yyyy HH:mm:ss&quot;).format(ts)+&quot;&#39;)&quot; : &quot;null&quot;);\r\n                }\r\n                else {\r\n                  sql.insert(j, param != null ? &quot;&#39;&quot; + param.toString() + &quot;&#39;&quot; : &quot;null&quot;);\r\n                }\r\n                break;\r\n              }\r\n            }\r\n          }\r\n        }\r\n        else {\r\n          Map&lt;Integer, String&gt; paramNameIndexMap = new HashMap&lt;&gt;();\r\n          Object[] params = joinPoint.getArgs();\r\n          Annotation[][] anotss = method.getParameterAnnotations();\r\n          for(int i = 0; i &lt; anotss.length; i++) {\r\n            Annotation[] anots = anotss[i];\r\n            org.springframework.data.repository.query.Param paramAnnot = null;\r\n            for(int j = 0; j &lt; anots.length; j++) {\r\n              if(anots[j].annotationType().getName().equals(&quot;org.springframework.data.repository.query.Param&quot;)) {\r\n                paramAnnot = (org.springframework.data.repository.query.Param)anots[j];\r\n                break;\r\n              }\r\n            }\r\n            if(paramAnnot == null) {\r\n              continue;\r\n            }\r\n            paramNameIndexMap.put(i, paramAnnot.value());\r\n          }\r\n          for(int i = 0; i &lt; params.length; i++) {\r\n            String paramName = paramNameIndexMap.get(i);\r\n            Object param = params[i];\r\n            String paramNameWithColon = &quot;:&quot; + paramName;\r\n            int indx = sql.indexOf(paramNameWithColon);\r\n            if(indx != -1) {\r\n              final String paramConstantVal;\r\n              if(param instanceof Number) {\r\n                paramConstantVal = param != null ? param.toString() : &quot;null&quot;;\r\n              }\r\n              else if(param instanceof java.util.Date) {\r\n                Timestamp ts = (Timestamp)param;\r\n                paramConstantVal = param != null ? &quot;to_date(&#39;DD-MM-YYYY HH24:MI:SS&#39;,&#39;&quot;+new SimpleDateFormat(&quot;dd-MMM-yyyy HH:mm:ss&quot;).format(ts)+&quot;&#39;)&quot; : &quot;null&quot;;\r\n              }\r\n              else {\r\n                paramConstantVal = param != null ? &quot;&#39;&quot; + param.toString() + &quot;&#39;&quot; : &quot;null&quot;;\r\n              }\r\n              sql.replace(indx, indx+paramNameWithColon.length(), paramConstantVal);\r\n            }\r\n          }\r\n        }\r\n        System.out.println(method.getName()+ &quot; Exact &quot;+(query.nativeQuery()?&quot;SQL&quot;:&quot;HQL&quot;)+&quot; from Pointcut:\\n&quot; + sql + &quot;\\n-------------------------------------------------------------------&quot;);\r\n        return joinPoint.proceed();\r\n      }\r\n    }\r\n\r\n","title":"How to view the SQL queries issued by JPA?","body":"<p>I created the following class to print the exact generated Oracle SQL/HQL, and working fine-</p>\n<pre><code>import java.lang.annotation.Annotation;\nimport java.lang.reflect.Method;\nimport java.sql.Timestamp;\nimport java.text.SimpleDateFormat;\nimport java.util.HashMap;\nimport java.util.Map;\n\nimport org.aspectj.lang.ProceedingJoinPoint;\nimport org.aspectj.lang.annotation.Around;\nimport org.aspectj.lang.annotation.Aspect;\nimport org.aspectj.lang.reflect.MethodSignature;\nimport org.springframework.data.jpa.repository.Query;\nimport org.springframework.stereotype.Component;\n\n@Aspect\n@Component\npublic class ICMSPointcut {\n  @Around(&quot;execution(public * *(..)) &amp;&amp; @annotation(org.springframework.data.jpa.repository.Query)&quot;)\n  public Object findAllReceivedMessagesByRoleAndLocNewerSQLSearch(ProceedingJoinPoint joinPoint) throws Throwable {\n    //System.out.println(&quot;joinPoint- &quot; + joinPoint.toLongString());\n    MethodSignature signature = (MethodSignature) joinPoint.getSignature();\n    Method method = signature.getMethod();\n    Query query = method.getAnnotation(Query.class);\n    final StringBuilder sql = new StringBuilder(query.value());\n    if(query.nativeQuery()) {\n      Object[] params = joinPoint.getArgs();\n      for(int i = 0; i &lt; params.length; i++) {\n        Object param = params[i];\n        for(int j = 1; j &lt; sql.length(); j++) {\n          char c = sql.charAt(j);\n          if(c == '?') {\n            if(sql.charAt(j-1) == '\\\\') {\n              continue;\n            }\n            sql.deleteCharAt(j);\n            if(param instanceof Number) {\n              sql.insert(j, param != null ? param.toString() : &quot;null&quot;);\n            }\n            else if(param instanceof java.util.Date) {\n              Timestamp ts = (Timestamp)param;\n              sql.insert(j, param != null ? &quot;to_date('DD-MM-YYYY HH24:MI:SS','&quot;+new SimpleDateFormat(&quot;dd-MMM-yyyy HH:mm:ss&quot;).format(ts)+&quot;')&quot; : &quot;null&quot;);\n            }\n            else {\n              sql.insert(j, param != null ? &quot;'&quot; + param.toString() + &quot;'&quot; : &quot;null&quot;);\n            }\n            break;\n          }\n        }\n      }\n    }\n    else {\n      Map&lt;Integer, String&gt; paramNameIndexMap = new HashMap&lt;&gt;();\n      Object[] params = joinPoint.getArgs();\n      Annotation[][] anotss = method.getParameterAnnotations();\n      for(int i = 0; i &lt; anotss.length; i++) {\n        Annotation[] anots = anotss[i];\n        org.springframework.data.repository.query.Param paramAnnot = null;\n        for(int j = 0; j &lt; anots.length; j++) {\n          if(anots[j].annotationType().getName().equals(&quot;org.springframework.data.repository.query.Param&quot;)) {\n            paramAnnot = (org.springframework.data.repository.query.Param)anots[j];\n            break;\n          }\n        }\n        if(paramAnnot == null) {\n          continue;\n        }\n        paramNameIndexMap.put(i, paramAnnot.value());\n      }\n      for(int i = 0; i &lt; params.length; i++) {\n        String paramName = paramNameIndexMap.get(i);\n        Object param = params[i];\n        String paramNameWithColon = &quot;:&quot; + paramName;\n        int indx = sql.indexOf(paramNameWithColon);\n        if(indx != -1) {\n          final String paramConstantVal;\n          if(param instanceof Number) {\n            paramConstantVal = param != null ? param.toString() : &quot;null&quot;;\n          }\n          else if(param instanceof java.util.Date) {\n            Timestamp ts = (Timestamp)param;\n            paramConstantVal = param != null ? &quot;to_date('DD-MM-YYYY HH24:MI:SS','&quot;+new SimpleDateFormat(&quot;dd-MMM-yyyy HH:mm:ss&quot;).format(ts)+&quot;')&quot; : &quot;null&quot;;\n          }\n          else {\n            paramConstantVal = param != null ? &quot;'&quot; + param.toString() + &quot;'&quot; : &quot;null&quot;;\n          }\n          sql.replace(indx, indx+paramNameWithColon.length(), paramConstantVal);\n        }\n      }\n    }\n    System.out.println(method.getName()+ &quot; Exact &quot;+(query.nativeQuery()?&quot;SQL&quot;:&quot;HQL&quot;)+&quot; from Pointcut:\\n&quot; + sql + &quot;\\n-------------------------------------------------------------------&quot;);\n    return joinPoint.proceed();\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":2440,"reputation":4317,"user_id":3401,"accept_rate":66,"display_name":"Sajee"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":336918,"favorite_count":0,"down_vote_count":1,"up_vote_count":185,"accepted_answer_id":4367283,"answer_count":20,"score":184,"last_activity_date":1672895988,"creation_date":1291605300,"question_id":4362876,"body_markdown":"When my code issues a call like this:\r\n\r\n    entityManager.find(Customer.class, customerID);\r\n\r\nHow can I see the SQL query for this call?  Assuming I don&#39;t have access to database server to profile/monitor the calls, is  there way to log or view within my IDE the corresponding SQL queries issued by JPA calls?  I&#39;m going against SQL Server 2008 R2 using the jTDS driver.","title":"How to view the SQL queries issued by JPA?","body":"<p>When my code issues a call like this:</p>\n\n<pre><code>entityManager.find(Customer.class, customerID);\n</code></pre>\n\n<p>How can I see the SQL query for this call?  Assuming I don't have access to database server to profile/monitor the calls, is  there way to log or view within my IDE the corresponding SQL queries issued by JPA calls?  I'm going against SQL Server 2008 R2 using the jTDS driver.</p>\n"},{"tags":["java","spring","spring-boot","many-to-many"],"owner":{"account_id":24983750,"reputation":13,"user_id":18845760,"display_name":"Sucheta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672895376,"creation_date":1672895376,"question_id":75014065,"body_markdown":"I am implementing a functionality where a user can win the reward once in a day.He will spin the wheel in app and will earn a reward.The table structure to store all the reward details and all the rewards won is shown below.\r\n\r\nRewards Table Model\r\n\r\n    @Table(name=&quot;spin_win_rewards_details&quot;)\r\n    @EntityListeners(AuditingEntityListener.class)\r\n    public class SpinWinRewardsDetails {\r\n\t\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\t@Column(name = &quot;id&quot;)\r\n\tprivate Long id;\r\n\t\r\n\tprivate String label;\r\n\t\r\n\tprivate String description;\r\n\t\r\n\tprivate String voucherCode;\r\n\t\r\n\tprivate String status;\t\r\n     \r\n\r\n\r\n}\r\n\r\nRewardsWonByUser Entity class\r\n```\r\n@Table(name=&quot;spin_win_rewards_won&quot;)\r\n@EntityListeners(AuditingEntityListener.class)\r\npublic class SpinWinRewardsWon {\r\n\t\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\t@Column(name = &quot;id&quot;)\r\n\t@JsonIgnore\r\n\tprivate Long id;\r\n\t\r\n\tprivate String shortId;\r\n\t\r\n\t@Transient\r\n\tprivate String rewardLabel;\r\n\t\r\n    @ManyToOne(fetch = FetchType.LAZY, optional = false, targetEntity = SpinWinRewardsDetails.class)\r\n    @JoinColumn(name = &quot;reward_id&quot;, nullable = false)\r\n    @OnDelete(action = OnDeleteAction.CASCADE)\r\n    @JsonIgnore\r\n\tprivate SpinWinRewardsDetails spinWinRewardDetails;\r\n\t\r\n    @JsonIgnore\r\n    @Temporal(TemporalType.TIMESTAMP)\r\n    @Column(name = &quot;created_at&quot;, nullable = false, updatable = false)\r\n    @CreatedDate\r\n\tprivate Date createdAt;\r\n\r\n}\r\n```\r\nOne Reward can be won by many users and one user can win many rewards but he can win only one reward in a day,so my question is ,is this the right mapping or do I need to go for ManytoMany mapping. But many to many mapping I am thinking is not required because when we create a reward won  then user can only win one reward at a time and not many rewards at a time.\r\n\r\nSpinWinController\r\n\r\n```\r\n    @PostMapping(value = &quot;/createReward&quot;)\r\n    public ResponseEntity&lt;?&gt; createReward(@RequestBody SpinWinRewardsDetails spinWinRewardsDetails) {\r\n    \tlog.info(&quot;Inside spin win createReward..!!&quot;);\r\n    \tif (spinWinRewardsDetails != null) {\r\n    \t\tSpinWinRewardsDetails spinWinRewards = spinAndWinService.saveRewardsDetails(spinWinRewardsDetails);\r\n    \t\t\tif (spinWinRewards != null) {\r\n    \t\t\t\tlog.info(&quot;SpinWinRewardsDetails is created&quot;);\r\n    \t\t\t\treturn new ResponseEntity&lt;SpinWinRewardsDetails&gt;(spinWinRewards, HttpStatus.CREATED);\r\n    \t\t\t} else {\r\n    \t\t\t\tString message = &quot;SpinWinRewardsDetails is not created properly&quot;;\r\n    \t\t\t\tlog.info(message);\r\n    \t\t\t\treturn getErrorMessage(new Exception(), message);\r\n    \t\t\t}\r\n    \t\t\r\n    \t}\r\n    \treturn getErrorMessage(new Exception(), &quot;invalid request body&quot;);\r\n    }\r\n    \r\n@PostMapping(value = &quot;/rewardWon&quot;)\r\npublic ResponseEntity&lt;?&gt; createWinningReward(@RequestBody SpinWinRewardsWon spinWinRewardsWon) {\r\n\tlog.info(&quot;Inside createWinningReward..!!&quot;);\r\n\tif (spinWinRewardsWon != null) {\r\n\t\t\r\n\t\tString userShortId = spinWinRewardsWon.getShortId();\r\n\t\tString rewardWon = spinWinRewardsWon.getRewardLabel();\r\n\t\t\r\n\t\tlog.info(&quot;User&quot; +userShortId + &quot;won the reward&quot;+ rewardWon);\r\n\t\tOptional&lt;SpinWinRewardsDetails&gt; spinWinRewardsDetails = spinAndWinService.findByLabel(rewardWon);\r\n\t    if(spinWinRewardsDetails.isPresent()){\r\n\t    \tspinWinRewardsWon.setSpinWinRewardDetails(spinWinRewardsDetails.get());\r\n\t    \tlog.info(&quot;Saving WinningReward in DB!!&quot;);\r\n\t    \tSpinWinRewardsWon spinWinRewardsWonResp = spinAndWinService.saveRewardsWon(spinWinRewardsWon);\r\n\t    \tif (spinWinRewardsWonResp != null) {\t\t\t\t\t\r\n\t    \t\tlog.info(&quot;Saved successfully WinningReward in DB!!&quot;);\t\t    \t   \r\n\t\t\t\treturn new ResponseEntity&lt;SpinWinRewardsWon&gt;(spinWinRewardsWonResp, HttpStatus.CREATED);\r\n\t\t\t} else {\r\n\t\t\t\tString message = &quot;Winning Reward is not created properly&quot;;\r\n\t\t\t\tlog.info(message);\r\n\t\t\t\treturn getErrorMessage(new Exception(), message);\r\n\t\t\t}\r\n\t    }\r\n\t\t\r\n\t}\r\n\treturn getErrorMessage(new Exception(), &quot;invalid request body&quot;);\r\n}\r\n```","title":"Many to Many Mapping Spring JPA when saving one record at a time","body":"<p>I am implementing a functionality where a user can win the reward once in a day.He will spin the wheel in app and will earn a reward.The table structure to store all the reward details and all the rewards won is shown below.</p>\n<p>Rewards Table Model</p>\n<pre><code>@Table(name=&quot;spin_win_rewards_details&quot;)\n@EntityListeners(AuditingEntityListener.class)\npublic class SpinWinRewardsDetails {\n\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\n@Column(name = &quot;id&quot;)\nprivate Long id;\n\nprivate String label;\n\nprivate String description;\n\nprivate String voucherCode;\n\nprivate String status;  \n \n</code></pre>\n<p>}</p>\n<p>RewardsWonByUser Entity class</p>\n<pre><code>@Table(name=&quot;spin_win_rewards_won&quot;)\n@EntityListeners(AuditingEntityListener.class)\npublic class SpinWinRewardsWon {\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;)\n    @JsonIgnore\n    private Long id;\n    \n    private String shortId;\n    \n    @Transient\n    private String rewardLabel;\n    \n    @ManyToOne(fetch = FetchType.LAZY, optional = false, targetEntity = SpinWinRewardsDetails.class)\n    @JoinColumn(name = &quot;reward_id&quot;, nullable = false)\n    @OnDelete(action = OnDeleteAction.CASCADE)\n    @JsonIgnore\n    private SpinWinRewardsDetails spinWinRewardDetails;\n    \n    @JsonIgnore\n    @Temporal(TemporalType.TIMESTAMP)\n    @Column(name = &quot;created_at&quot;, nullable = false, updatable = false)\n    @CreatedDate\n    private Date createdAt;\n\n}\n</code></pre>\n<p>One Reward can be won by many users and one user can win many rewards but he can win only one reward in a day,so my question is ,is this the right mapping or do I need to go for ManytoMany mapping. But many to many mapping I am thinking is not required because when we create a reward won  then user can only win one reward at a time and not many rewards at a time.</p>\n<p>SpinWinController</p>\n<pre><code>    @PostMapping(value = &quot;/createReward&quot;)\n    public ResponseEntity&lt;?&gt; createReward(@RequestBody SpinWinRewardsDetails spinWinRewardsDetails) {\n        log.info(&quot;Inside spin win createReward..!!&quot;);\n        if (spinWinRewardsDetails != null) {\n            SpinWinRewardsDetails spinWinRewards = spinAndWinService.saveRewardsDetails(spinWinRewardsDetails);\n                if (spinWinRewards != null) {\n                    log.info(&quot;SpinWinRewardsDetails is created&quot;);\n                    return new ResponseEntity&lt;SpinWinRewardsDetails&gt;(spinWinRewards, HttpStatus.CREATED);\n                } else {\n                    String message = &quot;SpinWinRewardsDetails is not created properly&quot;;\n                    log.info(message);\n                    return getErrorMessage(new Exception(), message);\n                }\n            \n        }\n        return getErrorMessage(new Exception(), &quot;invalid request body&quot;);\n    }\n    \n@PostMapping(value = &quot;/rewardWon&quot;)\npublic ResponseEntity&lt;?&gt; createWinningReward(@RequestBody SpinWinRewardsWon spinWinRewardsWon) {\n    log.info(&quot;Inside createWinningReward..!!&quot;);\n    if (spinWinRewardsWon != null) {\n        \n        String userShortId = spinWinRewardsWon.getShortId();\n        String rewardWon = spinWinRewardsWon.getRewardLabel();\n        \n        log.info(&quot;User&quot; +userShortId + &quot;won the reward&quot;+ rewardWon);\n        Optional&lt;SpinWinRewardsDetails&gt; spinWinRewardsDetails = spinAndWinService.findByLabel(rewardWon);\n        if(spinWinRewardsDetails.isPresent()){\n            spinWinRewardsWon.setSpinWinRewardDetails(spinWinRewardsDetails.get());\n            log.info(&quot;Saving WinningReward in DB!!&quot;);\n            SpinWinRewardsWon spinWinRewardsWonResp = spinAndWinService.saveRewardsWon(spinWinRewardsWon);\n            if (spinWinRewardsWonResp != null) {                    \n                log.info(&quot;Saved successfully WinningReward in DB!!&quot;);                  \n                return new ResponseEntity&lt;SpinWinRewardsWon&gt;(spinWinRewardsWonResp, HttpStatus.CREATED);\n            } else {\n                String message = &quot;Winning Reward is not created properly&quot;;\n                log.info(message);\n                return getErrorMessage(new Exception(), message);\n            }\n        }\n        \n    }\n    return getErrorMessage(new Exception(), &quot;invalid request body&quot;);\n}\n</code></pre>\n"},{"tags":["java","apache-kafka","junit"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1672679448,"post_id":74982085,"comment_id":132326325,"body_markdown":"`kafka-clients-0.0.1` doesn&#39;t exist. Please clarify what exactly your error is. MockProducer or TopologyTestDriver are exactly what you want","body":"<code>kafka-clients-0.0.1</code> doesn&#39;t exist. Please clarify what exactly your error is. MockProducer or TopologyTestDriver are exactly what you want"},{"owner":{"account_id":2566912,"reputation":307,"user_id":2226710,"display_name":"Raushan"},"score":0,"creation_date":1672684409,"post_id":74982085,"comment_id":132327587,"body_markdown":"Sorry it&#39;s `kafka-clients-1.0.0`. I don&#39;t have error yet. I&#39;m still figuring  out how to write junit test case for org.apache.kafka.clients.producer.KafkaProducer","body":"Sorry it&#39;s <code>kafka-clients-1.0.0</code>. I don&#39;t have error yet. I&#39;m still figuring  out how to write junit test case for org.apache.kafka.clients.producer.KafkaProducer"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1672755989,"post_id":74982085,"comment_id":132342952,"body_markdown":"The Kafka source code has unit tests of its own. Perhaps you should start there?","body":"The Kafka source code has unit tests of its own. Perhaps you should start there?"},{"owner":{"account_id":2566912,"reputation":307,"user_id":2226710,"display_name":"Raushan"},"score":0,"creation_date":1672895492,"post_id":74982085,"comment_id":132377384,"body_markdown":"@OneCricketeer Could you please share some docs of initializing KafkaProducer with mock broker and send messages. I couldn;t find. Just FYI We are not using Spring.","body":"@OneCricketeer Could you please share some docs of initializing KafkaProducer with mock broker and send messages. I couldn;t find. Just FYI We are not using Spring."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1672929835,"post_id":74982085,"comment_id":132387469,"body_markdown":"https://github.com/apache/kafka/blob/trunk/clients/src/test/java/org/apache/kafka/clients/producer/MockProducerTest.java","body":"<a href=\"https://github.com/apache/kafka/blob/trunk/clients/src/test/java/org/apache/kafka/clients/producer/MockProducerTest.java\" rel=\"nofollow noreferrer\">github.com/apache/kafka/blob/trunk/clients/src/test/java/org&zwnj;&#8203;/&hellip;</a>"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1672930811,"post_id":74982085,"comment_id":132387835,"body_markdown":"You don&#39;t need to use Spring to simply use an embedded or mock broker. For example https://github.com/salesforce/kafka-junit/tree/master/kafka-junit5#kafkatestutils","body":"You don&#39;t need to use Spring to simply use an embedded or mock broker. For example <a href=\"https://github.com/salesforce/kafka-junit/tree/master/kafka-junit5#kafkatestutils\" rel=\"nofollow noreferrer\">github.com/salesforce/kafka-junit/tree/master/&hellip;</a>"}],"owner":{"account_id":2566912,"reputation":307,"user_id":2226710,"display_name":"Raushan"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672895352,"creation_date":1672660258,"question_id":74982085,"body_markdown":"We are using org.apache.kafka.clients.producer.KafkaProducer from `kafka-clients-1.0.0` for producing messages to broker.\r\n\r\nNow, we need to write junit test case for this producer to send messages to mock kafka cluster\r\n\r\norg.apache.kafka.clients.producer.MockProducer is there, but unable to use since both (KafkaProducer and MockProducer are impl of Producer) \r\n\r\n**Note**: We need to spin up mock Kafka broker to execute junit test case. \r\n\r\n**Note2**: We need to initialize KakfaProducer with mock brokers and send messages to queue\r\n\r\n","title":"Junit for KafkaProducer from kafka-clients in Java","body":"<p>We are using org.apache.kafka.clients.producer.KafkaProducer from <code>kafka-clients-1.0.0</code> for producing messages to broker.</p>\n<p>Now, we need to write junit test case for this producer to send messages to mock kafka cluster</p>\n<p>org.apache.kafka.clients.producer.MockProducer is there, but unable to use since both (KafkaProducer and MockProducer are impl of Producer)</p>\n<p><strong>Note</strong>: We need to spin up mock Kafka broker to execute junit test case.</p>\n<p><strong>Note2</strong>: We need to initialize KakfaProducer with mock brokers and send messages to queue</p>\n"},{"tags":["java","android","deep-linking","firebase-dynamic-links","android-deep-link"],"answers":[{"tags":[],"owner":{"account_id":14685418,"reputation":1,"user_id":11717481,"display_name":"user11717481"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1672894843,"creation_date":1672894843,"answer_id":75014009,"question_id":74994090,"body_markdown":"first you need to make sure you `URI` is formulated like\r\n\r\n`https://your_subdomain.page.link/?link=your_deep_link&amp;apn=package_name[&amp;amv=minimum_version][&amp;afl=fallback_link]\r\n`\r\n\r\nmethod `getDynamicLink` returns null if a dynamic link is not previously captured or is in the Uri, the above link format is not necessarily to be like that but it should match to the intent filters you have previously defined.\r\n\r\nAndroidManifest.xml\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/AppTheme&quot; &gt;\r\n\r\n        &lt;activity android:name=&quot;.EntryChoiceActivity&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n\r\n        &lt;activity android:name=&quot;.java.MainActivity&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;!-- [START link_intent_filter] --&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.VIEW&quot;/&gt;\r\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot;/&gt;\r\n                &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot;/&gt;\r\n                &lt;data\r\n                    android:host=&quot;link&quot;\r\n                    android:scheme=&quot;your_subdomain.page.link&quot;/&gt;\r\n            &lt;/intent-filter&gt; \r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n```\r\nalso you should add query parameters to the link field in the firebase console, `https://your_subdomain.page.link/?link=your_deep_link&amp;apn=package_name[&amp;amv=minimum_version][&amp;afl=fallback_link]` and deep link remain short `https://your_subdomain.page.link/example` now to reproduce an adb test for a intent filters like:\r\n\r\n```\r\n&lt;activity\r\n    android:name=&quot;.ui.activities.MyActivity&quot;\r\n    android:label=&quot;@string/title_activity&quot;\r\n    android:screenOrientation=&quot;portrait&quot;&gt;\r\n    &lt;!-- ATTENTION: This intent was auto-generated. Follow instructions at\r\n    https://g.co/AppIndexing/AndroidStudio to publish your Android app deep links. --&gt;\r\n    &lt;intent-filter&gt;\r\n        &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\r\n\r\n        &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n        &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot; /&gt;\r\n        &lt;!-- ATTENTION: This data URL was auto-generated. We recommend that you use the HTTP scheme.\r\n        TODO: Change the host or pathPrefix as necessary. --&gt;\r\n        &lt;data\r\n            android:host=&quot;link&quot;\r\n            android:scheme=&quot;your_subdomain.page.link&quot; /&gt;\r\n    &lt;/intent-filter&gt;\r\n&lt;/activity&gt;\r\n```\r\nuse:\r\n\r\n`adb shell am start -W -a android.intent.action.VIEW -d &quot;your_subdomain.page.link://link?key=category_parent_id\\&amp;value=92\\&amp;title=test&quot; com.app_name.android`\r\n\r\nHope this help thanks.\r\n\r\n","title":"How to get Dynamic Url from firebase","body":"<p>first you need to make sure you <code>URI</code> is formulated like</p>\n<p><code>https://your_subdomain.page.link/?link=your_deep_link&amp;apn=package_name[&amp;amv=minimum_version][&amp;afl=fallback_link] </code></p>\n<p>method <code>getDynamicLink</code> returns null if a dynamic link is not previously captured or is in the Uri, the above link format is not necessarily to be like that but it should match to the intent filters you have previously defined.</p>\n<p>AndroidManifest.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/AppTheme&quot; &gt;\n\n        &lt;activity android:name=&quot;.EntryChoiceActivity&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n\n        &lt;activity android:name=&quot;.java.MainActivity&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;!-- [START link_intent_filter] --&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.VIEW&quot;/&gt;\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot;/&gt;\n                &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot;/&gt;\n                &lt;data\n                    android:host=&quot;link&quot;\n                    android:scheme=&quot;your_subdomain.page.link&quot;/&gt;\n            &lt;/intent-filter&gt; \n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n<p>also you should add query parameters to the link field in the firebase console, <code>https://your_subdomain.page.link/?link=your_deep_link&amp;apn=package_name[&amp;amv=minimum_version][&amp;afl=fallback_link]</code> and deep link remain short <code>https://your_subdomain.page.link/example</code> now to reproduce an adb test for a intent filters like:</p>\n<pre><code>&lt;activity\n    android:name=&quot;.ui.activities.MyActivity&quot;\n    android:label=&quot;@string/title_activity&quot;\n    android:screenOrientation=&quot;portrait&quot;&gt;\n    &lt;!-- ATTENTION: This intent was auto-generated. Follow instructions at\n    https://g.co/AppIndexing/AndroidStudio to publish your Android app deep links. --&gt;\n    &lt;intent-filter&gt;\n        &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\n\n        &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n        &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot; /&gt;\n        &lt;!-- ATTENTION: This data URL was auto-generated. We recommend that you use the HTTP scheme.\n        TODO: Change the host or pathPrefix as necessary. --&gt;\n        &lt;data\n            android:host=&quot;link&quot;\n            android:scheme=&quot;your_subdomain.page.link&quot; /&gt;\n    &lt;/intent-filter&gt;\n&lt;/activity&gt;\n</code></pre>\n<p>use:</p>\n<p><code>adb shell am start -W -a android.intent.action.VIEW -d &quot;your_subdomain.page.link://link?key=category_parent_id\\&amp;value=92\\&amp;title=test&quot; com.app_name.android</code></p>\n<p>Hope this help thanks.</p>\n"}],"owner":{"account_id":7538326,"reputation":173,"user_id":5723903,"display_name":"Devesh Kumawat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":350,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75014009,"answer_count":1,"score":2,"last_activity_date":1672894843,"creation_date":1672752896,"question_id":74994090,"body_markdown":"[![enter image description here][1]][1]We are not access share url from firebase using &quot;https://firebase.google.com/docs/dynamic-links/android/receive&quot; \r\n\r\n```\r\nFirebaseDynamicLinks.getInstance()\r\n        .getDynamicLink(getIntent())\r\n        .addOnSuccessListener(this, new OnSuccessListener&lt;PendingDynamicLinkData&gt;() {\r\n            @Override\r\n            public void onSuccess(PendingDynamicLinkData pendingDynamicLinkData) {\r\n                // Get deep link from result (may be null if no link is found)\r\n                Uri deepLink = null;\r\n                if (pendingDynamicLinkData != null) {\r\n                    deepLink = pendingDynamicLinkData.getLink();\r\n\r\n                    Log.e(&quot;deepLink&quot;,&quot;&quot;+deepLink.toString());\r\n                }\r\n\r\n\r\n                // Handle the deep link. For example, open the linked\r\n                // content, or apply promotional credit to the user&#39;s\r\n                // account.\r\n                // ...\r\n\r\n                // ...\r\n            }\r\n        })\r\n        .addOnFailureListener(this, new OnFailureListener() {\r\n            @Override\r\n            public void onFailure(@NonNull Exception e) {\r\n                Log.w(TAG, &quot;getDynamicLink:onFailure&quot;, e);\r\n            }\r\n        });\r\n```\r\nthis method of firebase is allways return null in &quot;onSuccess&quot;.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qi7lN.png","title":"How to get Dynamic Url from firebase","body":"<p><a href=\"https://i.stack.imgur.com/qi7lN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qi7lN.png\" alt=\"enter image description here\" /></a>We are not access share url from firebase using &quot;https://firebase.google.com/docs/dynamic-links/android/receive&quot;</p>\n<pre><code>FirebaseDynamicLinks.getInstance()\n        .getDynamicLink(getIntent())\n        .addOnSuccessListener(this, new OnSuccessListener&lt;PendingDynamicLinkData&gt;() {\n            @Override\n            public void onSuccess(PendingDynamicLinkData pendingDynamicLinkData) {\n                // Get deep link from result (may be null if no link is found)\n                Uri deepLink = null;\n                if (pendingDynamicLinkData != null) {\n                    deepLink = pendingDynamicLinkData.getLink();\n\n                    Log.e(&quot;deepLink&quot;,&quot;&quot;+deepLink.toString());\n                }\n\n\n                // Handle the deep link. For example, open the linked\n                // content, or apply promotional credit to the user's\n                // account.\n                // ...\n\n                // ...\n            }\n        })\n        .addOnFailureListener(this, new OnFailureListener() {\n            @Override\n            public void onFailure(@NonNull Exception e) {\n                Log.w(TAG, &quot;getDynamicLink:onFailure&quot;, e);\n            }\n        });\n</code></pre>\n<p>this method of firebase is allways return null in &quot;onSuccess&quot;.</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"display_name":"user19443549"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1672894163,"creation_date":1672893352,"answer_id":75013876,"question_id":75013759,"body_markdown":"The error message you are getting is not very informative but the actual reason is that annotation defaults must be constant, which is not the case here.\r\n\r\nThe below example would work because LIT is constant so you can&#39;t change its value:\r\n\r\n    public class Lit {\r\n        public static final int LIT = 1;\r\n    }\r\n\r\n    @interface Buggy {\r\n        int vals() default Lit.LIT;\r\n    }\r\n\r\nSo for primitive types above approach would work, but not for arrays because arrays are mutable, i.e., for your case I can modify LIT&#39;s values anywhere in the code, like `LIT[1] = 5`, and then it won&#39;t have the original value. \r\n\r\nBut if you declare it as\r\n\r\n    int[] vals() default {1, 2};\r\n\r\nit will work because there&#39;s no mutable array variable.\r\n\r\n","title":"Annotation definition throwing error: incompatible types: int[] cannot be converted to int","body":"<p>The error message you are getting is not very informative but the actual reason is that annotation defaults must be constant, which is not the case here.</p>\n<p>The below example would work because LIT is constant so you can't change its value:</p>\n<pre><code>public class Lit {\n    public static final int LIT = 1;\n}\n\n@interface Buggy {\n    int vals() default Lit.LIT;\n}\n</code></pre>\n<p>So for primitive types above approach would work, but not for arrays because arrays are mutable, i.e., for your case I can modify LIT's values anywhere in the code, like <code>LIT[1] = 5</code>, and then it won't have the original value.</p>\n<p>But if you declare it as</p>\n<pre><code>int[] vals() default {1, 2};\n</code></pre>\n<p>it will work because there's no mutable array variable.</p>\n"}],"owner":{"account_id":1363919,"reputation":912,"user_id":1300757,"accept_rate":55,"display_name":"anupamD"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":75013876,"answer_count":1,"score":1,"last_activity_date":1672894163,"creation_date":1672891712,"question_id":75013759,"body_markdown":"I have an annotation defined in this way.\r\n```java\r\n    class Lit {\r\n      public static final int[] LIT = {1, 2};\r\n    }\r\n\r\n    @interface Buggy {\r\n      int[] vals() default Lit.LIT;\r\n    } \r\n```\r\n\r\n\r\nI am getting this error on compilation ```error: incompatible types: int[] cannot be converted to int```. \r\n\r\nwhile this compiles fine:\r\n\r\n```java\r\n   @interface Buggy {\r\n    int[] vals() default {1, 2};\r\n   } \r\n\r\n```\r\nWhat could be the possible reason?\r\n","title":"Annotation definition throwing error: incompatible types: int[] cannot be converted to int","body":"<p>I have an annotation defined in this way.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    class Lit {\n      public static final int[] LIT = {1, 2};\n    }\n\n    @interface Buggy {\n      int[] vals() default Lit.LIT;\n    } \n</code></pre>\n<p>I am getting this error on compilation <code>error: incompatible types: int[] cannot be converted to int</code>.</p>\n<p>while this compiles fine:</p>\n<pre class=\"lang-java prettyprint-override\"><code>   @interface Buggy {\n    int[] vals() default {1, 2};\n   } \n\n</code></pre>\n<p>What could be the possible reason?</p>\n"},{"tags":["java","serialization","jackson","deserialization"],"comments":[{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1672893998,"post_id":74990421,"comment_id":132377179,"body_markdown":"Sorry, I&#39;ve misunderstood your question. It doesn&#39;t seem to be possible with Jackson.","body":"Sorry, I&#39;ve misunderstood your question. It doesn&#39;t seem to be possible with Jackson."}],"answers":[{"tags":[],"owner":{"account_id":21287,"reputation":37465,"user_id":51591,"accept_rate":82,"display_name":"Michał Ziober"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1672866036,"creation_date":1672866036,"answer_id":75011259,"question_id":74990421,"body_markdown":"Since `Map` in `JSON` is represented as `JSON Object` which always has keys as `string` you can not expect there anything else then `String`. \r\n\r\nYou need to encode type manually. For example, you can use underscores: `type_value1_value2_value3` and decode it in `KeyDeserializer`.","title":"Jackson: getting the object on the deserializer class on the keys from a map","body":"<p>Since <code>Map</code> in <code>JSON</code> is represented as <code>JSON Object</code> which always has keys as <code>string</code> you can not expect there anything else then <code>String</code>.</p>\n<p>You need to encode type manually. For example, you can use underscores: <code>type_value1_value2_value3</code> and decode it in <code>KeyDeserializer</code>.</p>\n"}],"owner":{"account_id":4836073,"reputation":47,"user_id":3902737,"accept_rate":20,"display_name":"Andrei Mihuț"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75011259,"answer_count":1,"score":0,"last_activity_date":1672894013,"creation_date":1672732429,"question_id":74990421,"body_markdown":"We have the following code:\r\n\r\n    @JsonDeserialize(keyUsing = DomainInstanceDeserializer.class, contentUsing = FactDeserializer.class)\r\n    private final Map&lt;DomainInstance, Fact&gt; facts;\r\nThe ```DomainInstanceDeserializer``` has the following code in place:\r\n\r\n    public class DomainInstanceDeserializer extends KeyDeserializer {\r\n        .\r\n        .\r\n        .\r\n        @Override\r\n\tpublic Object deserializeKey(String domainInstanceAsString, DeserializationContext deserializationContext) {\r\nThe ```FactDeserialzer``` has the following code in place:\r\n\r\n    public class FactDeserializer extends JsonDeserializer&lt;Fact&gt; {\r\n        .\r\n        .\r\n        .\r\n        @Override\r\n    \tpublic Fact deserialize(JsonParser jsonParser, DeserializationContext deserializationContext) throws IOException {\r\n    \t\tObjectCodec oc = jsonParser.getCodec();\r\n    \t\tJsonNode node = oc.readTree(jsonParser);\r\n    \t\tJsonNodeType nodeType = node.getNodeType();\r\n    \t\tswitch (nodeType) {\r\nAs it can be seen for the ```Fact``` we can use the object type from the node to see of which type it is. \r\n\r\nCan this be done on the key, for the ```DomainInstance```? \r\n\r\nWe use the annotation ```keyUsing``` which implies using the ```KeyDeserializer``` class. Is there another class that can be used on the key for the map?\r\n","title":"Jackson: getting the object on the deserializer class on the keys from a map","body":"<p>We have the following code:</p>\n<pre><code>@JsonDeserialize(keyUsing = DomainInstanceDeserializer.class, contentUsing = FactDeserializer.class)\nprivate final Map&lt;DomainInstance, Fact&gt; facts;\n</code></pre>\n<p>The <code>DomainInstanceDeserializer</code> has the following code in place:</p>\n<pre><code>public class DomainInstanceDeserializer extends KeyDeserializer {\n    .\n    .\n    .\n    @Override\npublic Object deserializeKey(String domainInstanceAsString, DeserializationContext deserializationContext) {\n</code></pre>\n<p>The <code>FactDeserialzer</code> has the following code in place:</p>\n<pre><code>public class FactDeserializer extends JsonDeserializer&lt;Fact&gt; {\n    .\n    .\n    .\n    @Override\n    public Fact deserialize(JsonParser jsonParser, DeserializationContext deserializationContext) throws IOException {\n        ObjectCodec oc = jsonParser.getCodec();\n        JsonNode node = oc.readTree(jsonParser);\n        JsonNodeType nodeType = node.getNodeType();\n        switch (nodeType) {\n</code></pre>\n<p>As it can be seen for the <code>Fact</code> we can use the object type from the node to see of which type it is.</p>\n<p>Can this be done on the key, for the <code>DomainInstance</code>?</p>\n<p>We use the annotation <code>keyUsing</code> which implies using the <code>KeyDeserializer</code> class. Is there another class that can be used on the key for the map?</p>\n"},{"tags":["java","spring-boot","jpa","view","vaadin"],"comments":[{"owner":{"account_id":295383,"reputation":4686,"user_id":599765,"accept_rate":22,"display_name":"Andr&#233; Schild"},"score":1,"creation_date":1671174945,"post_id":74819223,"comment_id":132046417,"body_markdown":"Please enable logging on serverside. Probably there is some exception on the serverside","body":"Please enable logging on serverside. Probably there is some exception on the serverside"},{"owner":{"account_id":26783736,"reputation":71,"user_id":20378222,"display_name":"F&#225;bio Pires"},"score":0,"creation_date":1671182820,"post_id":74819223,"comment_id":132048409,"body_markdown":"@Andr&#233;Schild how do I do that?","body":"@Andr&#233;Schild how do I do that?"},{"owner":{"account_id":295383,"reputation":4686,"user_id":599765,"accept_rate":22,"display_name":"Andr&#233; Schild"},"score":0,"creation_date":1671184036,"post_id":74819223,"comment_id":132048778,"body_markdown":"What servlet engine do you use on what platform?","body":"What servlet engine do you use on what platform?"},{"owner":{"account_id":3837378,"reputation":35463,"user_id":3181392,"display_name":"cfrick"},"score":1,"creation_date":1671186805,"post_id":74819223,"comment_id":132049623,"body_markdown":"Given, that you tagged the question with springboot, there should be logging\nalready, when you run it, to stdout. If you don&#39;t see any logging, search for it\n(have you disabled it, do you log into files, ...) - this is essential for\ndeveloping any kind of software. If there is _no error at all_ (scroll back\ntoo), then check also your browsers dev-console and the network tab there.","body":"Given, that you tagged the question with springboot, there should be logging already, when you run it, to stdout. If you don&#39;t see any logging, search for it (have you disabled it, do you log into files, ...) - this is essential for developing any kind of software. If there is <i>no error at all</i> (scroll back too), then check also your browsers dev-console and the network tab there."},{"owner":{"account_id":7372513,"reputation":951,"user_id":5612275,"display_name":"Marco C"},"score":0,"creation_date":1671189477,"post_id":74819223,"comment_id":132050422,"body_markdown":"My guess is that you are experiencing a LazyInitializationException in `categoriesToString` because you are accessing the collection without an active Hibernate session.","body":"My guess is that you are experiencing a LazyInitializationException in <code>categoriesToString</code> because you are accessing the collection without an active Hibernate session."},{"owner":{"account_id":26783736,"reputation":71,"user_id":20378222,"display_name":"F&#225;bio Pires"},"score":0,"creation_date":1671190437,"post_id":74819223,"comment_id":132050741,"body_markdown":"@MarcoC how can I access the collection then?","body":"@MarcoC how can I access the collection then?"},{"owner":{"account_id":7372513,"reputation":951,"user_id":5612275,"display_name":"Marco C"},"score":0,"creation_date":1671191455,"post_id":74819223,"comment_id":132051073,"body_markdown":"I can&#39;t find in the above code how you are loading Supplier entities, but a way may be to use a JPA JOIN FETCH to load categories together with Supplier\nTake a look at this article to get some idea\nhttps://thorben-janssen.com/lazyinitializationexception/","body":"I can&#39;t find in the above code how you are loading Supplier entities, but a way may be to use a JPA JOIN FETCH to load categories together with Supplier Take a look at this article to get some idea <a href=\"https://thorben-janssen.com/lazyinitializationexception/\" rel=\"nofollow noreferrer\">thorben-janssen.com/lazyinitializationexception</a>"}],"answers":[{"tags":[],"owner":{"account_id":11254783,"reputation":51,"user_id":8254923,"display_name":"rodolforfq"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672892048,"creation_date":1672892048,"answer_id":75013790,"question_id":74819223,"body_markdown":"You have not specified the fetch mode for your Entity, so it is defaulting to Lazy mode. Your current logic will only work with Eager mode (that would fetch the &quot;categories&quot; one-to-many relationship), but this is bound to create performance issues down the road as your data grows.\r\n\r\nI wouldn&#39;t use logic inside my entities either (your categoriesToString method), but that is a different topic altogether.\r\n\r\nYou can either specify Eager loading on your entity as: \r\n\r\n    @OneToMany(fetch = FetchType.EAGER, mappedBy = &quot;supplier&quot;)\r\n    private Set&lt;Category&gt; categories = new LinkedHashSet&lt;&gt;();\r\n\r\nOr perform an additional query to fetch the related categories. Or even better, create a POJO or Spring Data Projection to fetch/map the appropriate data to. You can check [this link][1] for more info on that matter.\r\n\r\n\r\n  [1]: https://www.baeldung.com/jpa-queries-custom-result-with-aggregation-functions","title":"Vaadin - Internal error Please notify the administrator. Take note of any unsaved data, and click here or press ESC to continue","body":"<p>You have not specified the fetch mode for your Entity, so it is defaulting to Lazy mode. Your current logic will only work with Eager mode (that would fetch the &quot;categories&quot; one-to-many relationship), but this is bound to create performance issues down the road as your data grows.</p>\n<p>I wouldn't use logic inside my entities either (your categoriesToString method), but that is a different topic altogether.</p>\n<p>You can either specify Eager loading on your entity as:</p>\n<pre><code>@OneToMany(fetch = FetchType.EAGER, mappedBy = &quot;supplier&quot;)\nprivate Set&lt;Category&gt; categories = new LinkedHashSet&lt;&gt;();\n</code></pre>\n<p>Or perform an additional query to fetch the related categories. Or even better, create a POJO or Spring Data Projection to fetch/map the appropriate data to. You can check <a href=\"https://www.baeldung.com/jpa-queries-custom-result-with-aggregation-functions\" rel=\"nofollow noreferrer\">this link</a> for more info on that matter.</p>\n"}],"owner":{"account_id":26783736,"reputation":71,"user_id":20378222,"display_name":"F&#225;bio Pires"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":376,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672892048,"creation_date":1671152876,"question_id":74819223,"body_markdown":"I am developing an application in Vaadin where I have a view for Suppliers.\r\n\r\nI am getting the error  ```Internal error Please notify the administrator. Take note of any unsaved data, and click here or press ESC to continue.``` due to the calling of the method ```categoriesToString``` in my View.\r\n\r\n## View ##\r\n```\r\n    public SupplierView(CrmService service) {\r\n        this.service = service;\r\n        addClassName(&quot;supplier-view&quot;);\r\n        setSizeFull();\r\n        configureGrid();\r\n\r\n        form = new SupplierForm(service.findAllCategories(null));\r\n        form.setWidth(&quot;25em&quot;);\r\n        form.addListener(SupplierForm.SaveEvent.class, this::saveSupplier);\r\n        form.addListener(SupplierForm.DeleteEvent.class, this::deleteSupplier);\r\n        form.addListener(SupplierForm.CloseEvent.class, e -&gt; closeEditor());\r\n\r\n        FlexLayout content = new FlexLayout(grid, form);\r\n        content.setFlexGrow(2, grid);\r\n        content.setFlexGrow(1, form);\r\n        content.setFlexShrink(0, form);\r\n        content.addClassNames(&quot;content&quot;, &quot;gap-m&quot;);\r\n        content.setSizeFull();\r\n\r\n        add(getToolbar(), content);\r\n        updateList();\r\n        closeEditor();\r\n        grid.asSingleSelect()\r\n                .addValueChangeListener(event -&gt; editSupplier(event.getValue()));\r\n    }\r\n\r\n    private void configureGrid() {\r\n        grid.addClassNames(&quot;supplier-grid&quot;);\r\n        grid.setSizeFull();\r\n        grid.setColumns(&quot;name&quot;, &quot;address&quot;);\r\n        grid.addColumn(supplier -&gt; supplier.categoriesToString())\r\n                .setHeader(&quot;Categories&quot;);\r\n        grid.getColumns().forEach(col -&gt; col.setAutoWidth(true));\r\n    }\r\n}\r\n```\r\nThe said method belongs to the class Supplier that can be seen below. This class has a Set of Category that I am trying to go trough in order to return all categories present in it. \r\n\r\n## Supplier ##\r\n```\r\n@Entity\r\npublic class Supplier extends AbstractEntity {\r\n    @NotEmpty\r\n    private String name;\r\n    @NotEmpty\r\n    private String address;\r\n\r\n    @OneToMany(mappedBy = &quot;supplier&quot;)\r\n    private Set&lt;Category&gt; categories = new LinkedHashSet&lt;&gt;();\r\n\r\n\r\n    public String getName() {\r\n        return this.name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public String getAddress() {\r\n        return this.address;\r\n    }\r\n\r\n    public void setAddress(String address) {\r\n        this.address = address;\r\n    }\r\n\r\n\r\n   public Set&lt;Category&gt; getCategories() {\r\n        return categories;\r\n    }\r\n\r\n    public void setCategories(Set&lt;Category&gt; categories) {\r\n        this.categories = categories;\r\n    }\r\n\r\n    public String categoriesToString(){\r\n        String allCategories = &quot;&quot;;\r\n        for (Category c : this.categories) \r\n        {\r\n            allCategories += c.getDescription();\r\n        }\r\n        \r\n        return allCategories;\r\n    }\r\n} \r\n```\r\nIn order to do some testing I tried to make the method just return &quot;test&quot; and in that scenario the word was indeed added to &quot;Categories&quot; column and no error was shown.\r\n\r\n## Category class ##\r\n\r\n```\r\n@Entity\r\npublic class Category extends AbstractEntity{\r\n    @NotBlank\r\n    private String description;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;supplier_id&quot;)\r\n    @JsonIgnoreProperties({&quot;categories&quot;})\r\n    private Supplier supplier;\r\n\r\n    public String getDescription() {\r\n        return this.description;\r\n    }\r\n\r\n    public void setDescription(String description) {\r\n        this.description = description;\r\n    }\r\n```\r\n\r\nWhy is this happening? Am I iterating through the set in a incorrect way?\r\n","title":"Vaadin - Internal error Please notify the administrator. Take note of any unsaved data, and click here or press ESC to continue","body":"<p>I am developing an application in Vaadin where I have a view for Suppliers.</p>\n<p>I am getting the error  <code>Internal error Please notify the administrator. Take note of any unsaved data, and click here or press ESC to continue.</code> due to the calling of the method <code>categoriesToString</code> in my View.</p>\n<h2>View</h2>\n<pre><code>    public SupplierView(CrmService service) {\n        this.service = service;\n        addClassName(&quot;supplier-view&quot;);\n        setSizeFull();\n        configureGrid();\n\n        form = new SupplierForm(service.findAllCategories(null));\n        form.setWidth(&quot;25em&quot;);\n        form.addListener(SupplierForm.SaveEvent.class, this::saveSupplier);\n        form.addListener(SupplierForm.DeleteEvent.class, this::deleteSupplier);\n        form.addListener(SupplierForm.CloseEvent.class, e -&gt; closeEditor());\n\n        FlexLayout content = new FlexLayout(grid, form);\n        content.setFlexGrow(2, grid);\n        content.setFlexGrow(1, form);\n        content.setFlexShrink(0, form);\n        content.addClassNames(&quot;content&quot;, &quot;gap-m&quot;);\n        content.setSizeFull();\n\n        add(getToolbar(), content);\n        updateList();\n        closeEditor();\n        grid.asSingleSelect()\n                .addValueChangeListener(event -&gt; editSupplier(event.getValue()));\n    }\n\n    private void configureGrid() {\n        grid.addClassNames(&quot;supplier-grid&quot;);\n        grid.setSizeFull();\n        grid.setColumns(&quot;name&quot;, &quot;address&quot;);\n        grid.addColumn(supplier -&gt; supplier.categoriesToString())\n                .setHeader(&quot;Categories&quot;);\n        grid.getColumns().forEach(col -&gt; col.setAutoWidth(true));\n    }\n}\n</code></pre>\n<p>The said method belongs to the class Supplier that can be seen below. This class has a Set of Category that I am trying to go trough in order to return all categories present in it.</p>\n<h2>Supplier</h2>\n<pre><code>@Entity\npublic class Supplier extends AbstractEntity {\n    @NotEmpty\n    private String name;\n    @NotEmpty\n    private String address;\n\n    @OneToMany(mappedBy = &quot;supplier&quot;)\n    private Set&lt;Category&gt; categories = new LinkedHashSet&lt;&gt;();\n\n\n    public String getName() {\n        return this.name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getAddress() {\n        return this.address;\n    }\n\n    public void setAddress(String address) {\n        this.address = address;\n    }\n\n\n   public Set&lt;Category&gt; getCategories() {\n        return categories;\n    }\n\n    public void setCategories(Set&lt;Category&gt; categories) {\n        this.categories = categories;\n    }\n\n    public String categoriesToString(){\n        String allCategories = &quot;&quot;;\n        for (Category c : this.categories) \n        {\n            allCategories += c.getDescription();\n        }\n        \n        return allCategories;\n    }\n} \n</code></pre>\n<p>In order to do some testing I tried to make the method just return &quot;test&quot; and in that scenario the word was indeed added to &quot;Categories&quot; column and no error was shown.</p>\n<h2>Category class</h2>\n<pre><code>@Entity\npublic class Category extends AbstractEntity{\n    @NotBlank\n    private String description;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;supplier_id&quot;)\n    @JsonIgnoreProperties({&quot;categories&quot;})\n    private Supplier supplier;\n\n    public String getDescription() {\n        return this.description;\n    }\n\n    public void setDescription(String description) {\n        this.description = description;\n    }\n</code></pre>\n<p>Why is this happening? Am I iterating through the set in a incorrect way?</p>\n"},{"tags":["java","build","quarkus"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1672889520,"post_id":75013577,"comment_id":132376557,"body_markdown":"... What? Sorry, I do not understand the question. Please [edit] the post and clarify the actual problem.","body":"... What? Sorry, I do not understand the question. Please <a href=\"https://stackoverflow.com/posts/75013577/edit\">edit</a> the post and clarify the actual problem."},{"owner":{"account_id":25972559,"reputation":1,"user_id":19687482,"display_name":"Thor"},"score":0,"creation_date":1672890797,"post_id":75013577,"comment_id":132376699,"body_markdown":"When I change connection database information in application.properties. I want my application does not build again","body":"When I change connection database information in application.properties. I want my application does not build again"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1672890960,"post_id":75013577,"comment_id":132376719,"body_markdown":"What do you mean by this? Is your IDE building the applicatoin automatically? Or do you mean you do not want the devmode to restart when you change the property? Do you want maven to not build everything again when you call `mvn package`?  Again: please [edit] the post and clarify.","body":"What do you mean by this? Is your IDE building the applicatoin automatically? Or do you mean you do not want the devmode to restart when you change the property? Do you want maven to not build everything again when you call <code>mvn package</code>?  Again: please <a href=\"https://stackoverflow.com/posts/75013577/edit\">edit</a> the post and clarify."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1672892446,"post_id":75013577,"comment_id":132376918,"body_markdown":"Do you want the changes to take place without the need of recompilation?","body":"Do you want the changes to take place without the need of recompilation?"},{"owner":{"account_id":25972559,"reputation":1,"user_id":19687482,"display_name":"Thor"},"score":0,"creation_date":1672893547,"post_id":75013577,"comment_id":132377107,"body_markdown":"Yep! I don&#39;t want it recompile again when i change those information","body":"Yep! I don&#39;t want it recompile again when i change those information"},{"owner":{"account_id":25972559,"reputation":1,"user_id":19687482,"display_name":"Thor"},"score":0,"creation_date":1672893624,"post_id":75013577,"comment_id":132377121,"body_markdown":"I thought config those information as variable to I can put from outside","body":"I thought config those information as variable to I can put from outside"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1672893773,"post_id":75013577,"comment_id":132377140,"body_markdown":"I recommend reading [Quarkus&#39; Configuratoin Reference Guide](https://quarkus.io/guides/config-reference). There are multiple options to achieve what you want.","body":"I recommend reading <a href=\"https://quarkus.io/guides/config-reference\" rel=\"nofollow noreferrer\">Quarkus&#39; Configuratoin Reference Guide</a>. There are multiple options to achieve what you want."}],"owner":{"account_id":25972559,"reputation":1,"user_id":19687482,"display_name":"Thor"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672892044,"creation_date":1672889363,"question_id":75013577,"body_markdown":"Enviroment :k8s\r\n\r\nIssue : I change ip,port,username,password database in application.properties file, I must build my application again to update new information.\r\n\r\nExpect : \r\nWhen I change database information(Example: ip,port) in application.properties, I want my quarkus application will not build again.","title":"How to config quarkus application not build again?","body":"<p>Enviroment :k8s</p>\n<p>Issue : I change ip,port,username,password database in application.properties file, I must build my application again to update new information.</p>\n<p>Expect :\nWhen I change database information(Example: ip,port) in application.properties, I want my quarkus application will not build again.</p>\n"},{"tags":["java","spring-boot","junit","mockito","powermock"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1672892487,"post_id":75013776,"comment_id":132376933,"body_markdown":"How does that private method get called normally?","body":"How does that private method get called normally?"},{"owner":{"account_id":24627106,"reputation":11,"user_id":18526719,"display_name":"music bot"},"score":0,"creation_date":1672892695,"post_id":75013776,"comment_id":132376958,"body_markdown":"It is activated by user interaction. Originally, it is annotated with @FXML, which is a javafx annotation. Every time the user clicks on a specific UI component, this routine is automatically activated. For the sake of ease of reproducibility, I adapted the code by removing the original argument (which is MouseEvent) and FXML annotation.","body":"It is activated by user interaction. Originally, it is annotated with @FXML, which is a javafx annotation. Every time the user clicks on a specific UI component, this routine is automatically activated. For the sake of ease of reproducibility, I adapted the code by removing the original argument (which is MouseEvent) and FXML annotation."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1672893612,"post_id":75013776,"comment_id":132377118,"body_markdown":"I&#39;d consider making it protected for ease of testing.","body":"I&#39;d consider making it protected for ease of testing."},{"owner":{"account_id":24627106,"reputation":11,"user_id":18526719,"display_name":"music bot"},"score":0,"creation_date":1672893898,"post_id":75013776,"comment_id":132377162,"body_markdown":"Makes sense in a test perspective, but this is more like a workaround than a fix as nothing extends my controllers, actually that&#39;s precisely what I&#39;m trying to avoid (even though it seems to be the most viable alternative)","body":"Makes sense in a test perspective, but this is more like a workaround than a fix as nothing extends my controllers, actually that&#39;s precisely what I&#39;m trying to avoid (even though it seems to be the most viable alternative)"},{"owner":{"account_id":4728704,"reputation":17022,"user_id":3824919,"display_name":"Tom"},"score":0,"creation_date":1672894483,"post_id":75013776,"comment_id":132377249,"body_markdown":"Having all methods private and rely on reflection shenanigans from FXML is a pretty bad code design and nothing you should work around to keep that.","body":"Having all methods private and rely on reflection shenanigans from FXML is a pretty bad code design and nothing you should work around to keep that."},{"owner":{"account_id":24627106,"reputation":11,"user_id":18526719,"display_name":"music bot"},"score":0,"creation_date":1672898491,"post_id":75013776,"comment_id":132377874,"body_markdown":"good point, but I prefer not to keep unnecessary public accessors because it&#39;s easier to deal with. Also, the project has a considerable amount of classes (over 200), and for that it&#39;s almost a requisite to block the usage of controllers, which I find a better code architecture. In addition, yes, PowerMockito is basically reflection, but its power doesn&#39;t come only from it. That&#39;s why spying objects exists in test frameworks I guess, it&#39;s such a convenient tool that makes reflection much easier to deal with","body":"good point, but I prefer not to keep unnecessary public accessors because it&#39;s easier to deal with. Also, the project has a considerable amount of classes (over 200), and for that it&#39;s almost a requisite to block the usage of controllers, which I find a better code architecture. In addition, yes, PowerMockito is basically reflection, but its power doesn&#39;t come only from it. That&#39;s why spying objects exists in test frameworks I guess, it&#39;s such a convenient tool that makes reflection much easier to deal with"},{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1672951992,"post_id":75013776,"comment_id":132395096,"body_markdown":"may be I read it too fast, but why not provide a Mock for `ProjectServiceImpl` and mock _it_, instead of trying to mock the private method?","body":"may be I read it too fast, but why not provide a Mock for <code>ProjectServiceImpl</code> and mock <i>it</i>, instead of trying to mock the private method?"},{"owner":{"account_id":24627106,"reputation":11,"user_id":18526719,"display_name":"music bot"},"score":0,"creation_date":1673006898,"post_id":75013776,"comment_id":132405987,"body_markdown":"@Eugene good catch, it&#39;s for test coverage measurements (SonarCloud), I just have to verify that the service was actually called (since it is the only thing controllers do)","body":"@Eugene good catch, it&#39;s for test coverage measurements (SonarCloud), I just have to verify that the service was actually called (since it is the only thing controllers do)"}],"owner":{"account_id":24627106,"reputation":11,"user_id":18526719,"display_name":"music bot"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672891909,"creation_date":1672891909,"question_id":75013776,"body_markdown":"I&#39;m looking for a unit test for Controllers using Mockito and PowerMock. Every controller has only private void methods with a single argument and a @Autowired service dependency:\r\n\r\n        public class ProjectController {\r\n    \r\n        private ProjectServiceImpl service;\r\n        @Autowired\r\n        public void setInjectedBean(ProjectServiceImpl service) {\r\n            this.service = service;\r\n        }\r\n    \r\n        private void createProject(String someString) {\r\n            // do stuff by calling service.doSomething(someString)\r\n        }\r\n    }\r\n\r\nProjectServiceImpl is annotated with @Service and has only a public void method with a String as argument. As it is too simple, I didn&#39;t bother providing the code.\r\nMy last attempt to accomplish that test looks like this:\r\n\r\n \r\n\r\n    @RunWith(PowerMockRunner.class)\r\n    @ExtendWith(MockitoExtension.class)\r\n    @PrepareForTest({ProjectController.class, ProjectServiceImpl.class})\r\n    class ProjectControllerTest {\r\n    \r\n    \t@InjectMocks\r\n    \tprivate ProjectController controller;\r\n    \t@Mock\r\n    \tprivate ProjectServiceImplservice;\r\n        \r\n    \t@Test\r\n    \tvoid createProject() throws Exception {\r\n    \t\tcontroller = PowerMockito.spy(new ProjectController());\r\n    \r\n    \t\tPowerMockito.doNothing().when(controller, &quot;createProject&quot;, new String(&quot;&quot;));\r\n    \t}\r\n    }\r\n\r\nQuestion 1: is it possible to make PowerMock work aside of Mockito?\r\n\r\nQuestion 2: using PowerMock, what&#39;s the most appropriate way of calling for a private void method with argument?\r\n\r\nIMPORTANT: Before marking this post as a duplicate, I personally challenge you finding any content how to do so. It seems like there is just no content showing not only how to make both work together, but make PowerMockito calls for a private void method with one or more arguments.\r\n\r\ndependencies used for PowerMock:\r\n\r\n    &lt;dependency&gt;\r\n            &lt;groupId&gt;org.powermock&lt;/groupId&gt;\r\n            &lt;artifactId&gt;powermock-module-junit4&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.9&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.powermock&lt;/groupId&gt;\r\n            &lt;artifactId&gt;powermock-core&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.9&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.powermock&lt;/groupId&gt;\r\n            &lt;artifactId&gt;powermock-module-junit4&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.9&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.powermock&lt;/groupId&gt;\r\n            &lt;artifactId&gt;powermock-api-mockito2&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.9&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;cglib&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cglib&lt;/artifactId&gt;\r\n            &lt;version&gt;3.3.0&lt;/version&gt;\r\n        &lt;/dependency&gt;","title":"PowerMock private void method with arguments","body":"<p>I'm looking for a unit test for Controllers using Mockito and PowerMock. Every controller has only private void methods with a single argument and a @Autowired service dependency:</p>\n<pre><code>    public class ProjectController {\n\n    private ProjectServiceImpl service;\n    @Autowired\n    public void setInjectedBean(ProjectServiceImpl service) {\n        this.service = service;\n    }\n\n    private void createProject(String someString) {\n        // do stuff by calling service.doSomething(someString)\n    }\n}\n</code></pre>\n<p>ProjectServiceImpl is annotated with @Service and has only a public void method with a String as argument. As it is too simple, I didn't bother providing the code.\nMy last attempt to accomplish that test looks like this:</p>\n<pre><code>@RunWith(PowerMockRunner.class)\n@ExtendWith(MockitoExtension.class)\n@PrepareForTest({ProjectController.class, ProjectServiceImpl.class})\nclass ProjectControllerTest {\n\n    @InjectMocks\n    private ProjectController controller;\n    @Mock\n    private ProjectServiceImplservice;\n    \n    @Test\n    void createProject() throws Exception {\n        controller = PowerMockito.spy(new ProjectController());\n\n        PowerMockito.doNothing().when(controller, &quot;createProject&quot;, new String(&quot;&quot;));\n    }\n}\n</code></pre>\n<p>Question 1: is it possible to make PowerMock work aside of Mockito?</p>\n<p>Question 2: using PowerMock, what's the most appropriate way of calling for a private void method with argument?</p>\n<p>IMPORTANT: Before marking this post as a duplicate, I personally challenge you finding any content how to do so. It seems like there is just no content showing not only how to make both work together, but make PowerMockito calls for a private void method with one or more arguments.</p>\n<p>dependencies used for PowerMock:</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;org.powermock&lt;/groupId&gt;\n        &lt;artifactId&gt;powermock-module-junit4&lt;/artifactId&gt;\n        &lt;version&gt;2.0.9&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.powermock&lt;/groupId&gt;\n        &lt;artifactId&gt;powermock-core&lt;/artifactId&gt;\n        &lt;version&gt;2.0.9&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.powermock&lt;/groupId&gt;\n        &lt;artifactId&gt;powermock-module-junit4&lt;/artifactId&gt;\n        &lt;version&gt;2.0.9&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.powermock&lt;/groupId&gt;\n        &lt;artifactId&gt;powermock-api-mockito2&lt;/artifactId&gt;\n        &lt;version&gt;2.0.9&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;cglib&lt;/groupId&gt;\n        &lt;artifactId&gt;cglib&lt;/artifactId&gt;\n        &lt;version&gt;3.3.0&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","lombok"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1672888128,"post_id":75013470,"comment_id":132376366,"body_markdown":"Doesn&#39;t look like the sets are initialized.","body":"Doesn&#39;t look like the sets are initialized."},{"owner":{"account_id":26291632,"reputation":67,"user_id":19958572,"display_name":"pralxx"},"score":0,"creation_date":1672888343,"post_id":75013470,"comment_id":132376393,"body_markdown":"I am using Lombok for the inner class https://projectlombok.org/features/Data for what I understand it automatically initialize","body":"I am using Lombok for the inner class <a href=\"https://projectlombok.org/features/Data\" rel=\"nofollow noreferrer\">projectlombok.org/features/Data</a> for what I understand it automatically initialize"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1672888726,"post_id":75013470,"comment_id":132376437,"body_markdown":"I doubt it. How would it know which implementation to use? [See also](https://github.com/projectlombok/lombok/issues/2390)","body":"I doubt it. How would it know which implementation to use? <a href=\"https://github.com/projectlombok/lombok/issues/2390\" rel=\"nofollow noreferrer\">See also</a>"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1672889358,"post_id":75013470,"comment_id":132376533,"body_markdown":"@pralxx please read the documentation you linked. It contains sample code &quot;with lombok&quot; and &quot;without lombok&quot;. The &quot;without lombok&quot;-version shows that no initialization takes place. --- The post is missing a question and the code is not properly formatted. Please [edit] the post, format the code properly and add a focused question.","body":"@pralxx please read the documentation you linked. It contains sample code &quot;with lombok&quot; and &quot;without lombok&quot;. The &quot;without lombok&quot;-version shows that no initialization takes place. --- The post is missing a question and the code is not properly formatted. Please <a href=\"https://stackoverflow.com/posts/75013470/edit\">edit</a> the post, format the code properly and add a focused question."},{"owner":{"account_id":26291632,"reputation":67,"user_id":19958572,"display_name":"pralxx"},"score":0,"creation_date":1672889712,"post_id":75013470,"comment_id":132376576,"body_markdown":"@shmosel you are right. I initialized the hashset in my method and then just use a setter because Lombok gives that. Thank you","body":"@shmosel you are right. I initialized the hashset in my method and then just use a setter because Lombok gives that. Thank you"}],"owner":{"account_id":26291632,"reputation":67,"user_id":19958572,"display_name":"pralxx"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672888741,"creation_date":1672888046,"question_id":75013470,"body_markdown":"I am trying to get the values of an inner class.\r\nI believe I am doing this wrong because I am getting a null value.\r\nBasically I wanted to get values of two hashsets. So I created a class to store those values and I have method to feed those values which returns the inner class.\r\n\r\n```\r\noutter class {\r\n//some code\r\n\r\npublic myFunction(...){\r\n\r\n//This method getAllResults should returns the class that have the sets stored\r\nMyInnerClass allResult = getAllResults(resultSets);\r\nSet&lt;People&gt; visiblePeople = allResult.visibleInfo;\r\n Set&lt;People&gt; allPeopleFromTable = allResult.allPeople;\r\n}\r\n\r\n//Using Lombok here\r\n  @Data\r\n    private class MyInnerClass {\r\n        private Set&lt;People&gt; allPeople;\r\n        private Set&lt;People&gt; visibleInfo;\r\n    }\r\n\r\nprivate MyInnerClass getAllResults(Foo resultSets) {\r\n\r\nMyInnerClass inner = new MyInnerClass();\r\n  \r\n        for (Foo rs : resultSets) {\r\n            while (rs.next()) {\r\n                final Table people = new Table(rs);\r\n\r\n                inner.allPeople.add(people);\r\n                if (isVisible(people)) {\r\n                    inner.visibleInfo.add(people);\r\n                }\r\n            }\r\n        }\r\nreturn inner;\r\n}\r\n\r\n}\r\n\r\n```\r\n\r\n\r\n```","title":"Getting values from inner class in a method","body":"<p>I am trying to get the values of an inner class.\nI believe I am doing this wrong because I am getting a null value.\nBasically I wanted to get values of two hashsets. So I created a class to store those values and I have method to feed those values which returns the inner class.</p>\n<pre><code>outter class {\n//some code\n\npublic myFunction(...){\n\n//This method getAllResults should returns the class that have the sets stored\nMyInnerClass allResult = getAllResults(resultSets);\nSet&lt;People&gt; visiblePeople = allResult.visibleInfo;\n Set&lt;People&gt; allPeopleFromTable = allResult.allPeople;\n}\n\n//Using Lombok here\n  @Data\n    private class MyInnerClass {\n        private Set&lt;People&gt; allPeople;\n        private Set&lt;People&gt; visibleInfo;\n    }\n\nprivate MyInnerClass getAllResults(Foo resultSets) {\n\nMyInnerClass inner = new MyInnerClass();\n  \n        for (Foo rs : resultSets) {\n            while (rs.next()) {\n                final Table people = new Table(rs);\n\n                inner.allPeople.add(people);\n                if (isVisible(people)) {\n                    inner.visibleInfo.add(people);\n                }\n            }\n        }\nreturn inner;\n}\n\n}\n\n</code></pre>\n<pre><code></code></pre>\n"},{"tags":["java","maven","ant"],"comments":[{"owner":{"account_id":7788702,"reputation":836,"user_id":5892518,"display_name":"Harsh"},"score":0,"creation_date":1672832475,"post_id":74993271,"comment_id":132360497,"body_markdown":"Does this answer your question? [Spring STS - Maven build error - No compiler is provided in this environment. Perhaps you are running on a JRE rather than a JDK? Spring](https://stackoverflow.com/questions/50662239/spring-sts-maven-build-error-no-compiler-is-provided-in-this-environment-pe)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/50662239/spring-sts-maven-build-error-no-compiler-is-provided-in-this-environment-pe\">Spring STS - Maven build error - No compiler is provided in this environment. Perhaps you are running on a JRE rather than a JDK? Spring</a>"}],"answers":[{"tags":[],"owner":{"account_id":23763690,"reputation":3,"user_id":17778713,"display_name":"Pawan Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1672888132,"creation_date":1672888132,"answer_id":75013473,"question_id":74993271,"body_markdown":"Make sure all the dependence are getting downloaded.\r\nMake sure cloning of project is done completely.\r\nThis error comes when something is missing in the project either be it dependency,any source file even a import can led to this error ","title":"failed to execute goal org.apache.maven.plugins:maven-antrun-","body":"<p>Make sure all the dependence are getting downloaded.\nMake sure cloning of project is done completely.\nThis error comes when something is missing in the project either be it dependency,any source file even a import can led to this error</p>\n"}],"owner":{"account_id":23763690,"reputation":3,"user_id":17778713,"display_name":"Pawan Kumar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":298,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75013473,"answer_count":1,"score":-1,"last_activity_date":1672888132,"creation_date":1672748349,"question_id":74993271,"body_markdown":"I have tools.jar in JDK but in pom.xml `java.home` is getting evaluated wrongly pls see the pic for that. How to point it at `c:/user/username/java/openjdk`?\r\n\r\n[![Error Info][1]][1]\r\n\r\nIn eclipse windows -preferences-java-installed JRE I have provided the JDK path\r\n\r\nIn environment variables also I have provided the right path\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/MG7uk.jpg","title":"failed to execute goal org.apache.maven.plugins:maven-antrun-","body":"<p>I have tools.jar in JDK but in pom.xml <code>java.home</code> is getting evaluated wrongly pls see the pic for that. How to point it at <code>c:/user/username/java/openjdk</code>?</p>\n<p><a href=\"https://i.stack.imgur.com/MG7uk.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MG7uk.jpg\" alt=\"Error Info\" /></a></p>\n<p>In eclipse windows -preferences-java-installed JRE I have provided the JDK path</p>\n<p>In environment variables also I have provided the right path</p>\n"},{"tags":["java","java-stream","parallelstream"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1672880270,"post_id":75012814,"comment_id":132375132,"body_markdown":"Order of operations is important. Move the `skip(2)` down a line, and it will work.","body":"Order of operations is important. Move the <code>skip(2)</code> down a line, and it will work."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1672880675,"post_id":75012814,"comment_id":132375204,"body_markdown":"If you do not want to use `.range(...)` (because maybe the number you want are irregular), you can `limit` already on the `iterate`: `....iterate(0, i -&gt; i &lt; 10_000_002, i -&gt; i + 1)...`","body":"If you do not want to use <code>.range(...)</code> (because maybe the number you want are irregular), you can <code>limit</code> already on the <code>iterate</code>: <code>....iterate(0, i -&gt; i &lt; 10_000_002, i -&gt; i + 1)...</code>"},{"owner":{"account_id":2303833,"reputation":843,"user_id":2023533,"accept_rate":57,"display_name":"mmirwaldt"},"score":0,"creation_date":1672880703,"post_id":75012814,"comment_id":132375208,"body_markdown":"I know the order is important. And yes, it works if skip() comes AFTER limit() even if it changes the result a bit here. However, I don&#39;t understand why skip() before limit() leads to a OOM. I would only have expected it hanging up.","body":"I know the order is important. And yes, it works if skip() comes AFTER limit() even if it changes the result a bit here. However, I don&#39;t understand why skip() before limit() leads to a OOM. I would only have expected it hanging up."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1672881413,"post_id":75012814,"comment_id":132375327,"body_markdown":"Hmm... the behaviour seems only partially related to `skip(...)`. It is also influenced by `parallel()` (removing `....paralllel()...` also prevents the `Exception`)....","body":"Hmm... the behaviour seems only partially related to <code>skip(...)</code>. It is also influenced by <code>parallel()</code> (removing <code>....paralllel()...</code> also prevents the <code>Exception</code>)...."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1672881755,"post_id":75012814,"comment_id":132375381,"body_markdown":"this seems pretty closely related: [Java 8, using .parallel in a stream causes OOM error](https://stackoverflow.com/questions/30825708/java-8-using-parallel-in-a-stream-causes-oom-error)","body":"this seems pretty closely related: <a href=\"https://stackoverflow.com/questions/30825708/java-8-using-parallel-in-a-stream-causes-oom-error\">Java 8, using .parallel in a stream causes OOM error</a>"}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1672887976,"creation_date":1672886290,"answer_id":75013355,"question_id":75012814,"body_markdown":"`skip()` - is a ***stateful*** operation which guarantees that `n` **first** elements of the stream (*with respect of the encounter order, if the stream is ordered*) would be omitted.\r\n\r\nIt would be cheap in a sequential pipeline, but might be costful while running in parallel if the stream is ordered. [Documentation][skip] warns about that and suggests loosening the constraint ordering if possible.\r\n\r\n&gt; **API Note:**\r\n&gt; \r\n&gt; While `skip()` is generally a cheap operation on sequential stream pipelines, it **can be quite expensive on ordered parallel pipelines**,\r\n&gt; especially for large values of `n`, since `skip(n)` is constrained to skip\r\n&gt; not just any n elements, but the first n elements in the encounter\r\n&gt; order. Using an unordered stream source (such as `generate(Supplier)`)\r\n&gt; or removing the ordering constraint with `BaseStream.unordered()` may\r\n&gt; result in significant speedups of `skip()` in parallel pipelines, if the\r\n&gt; semantics of your situation permit. If consistency with encounter\r\n&gt; order is required, and you are experiencing poor performance or memory\r\n&gt; utilization with `skip()` in parallel pipelines, switching to sequential\r\n&gt; execution with `BaseStream.sequential()` may improve performance.\r\n\r\n&lt;sup&gt;Emphasis added&lt;/sup&gt;\r\n\r\nThe following unordered Stream would run without issues (*result of the stream execution might not be consistent because in unordered stream threads a free to discard any `n` elements, not `n` first*):\r\n\r\n```\r\nIntStream\r\n    .iterate(0, i -&gt; i + 1)\r\n    .unordered()\r\n    .skip(2)\r\n    .limit(10_000_000)\r\n    .filter(i -&gt; checkSum(i) &lt;= 20)\r\n    .parallel()\r\n    .count();\r\n```\r\n\r\n\r\n\r\n   [skip]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#skip(long)","title":"Why does skip() in this parallel stream expression in Java 19 cause an OOM even with 8GB?","body":"<p><code>skip()</code> - is a <em><strong>stateful</strong></em> operation which guarantees that <code>n</code> <strong>first</strong> elements of the stream (<em>with respect of the encounter order, if the stream is ordered</em>) would be omitted.</p>\n<p>It would be cheap in a sequential pipeline, but might be costful while running in parallel if the stream is ordered. <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#skip(long)\" rel=\"nofollow noreferrer\">Documentation</a> warns about that and suggests loosening the constraint ordering if possible.</p>\n<blockquote>\n<p><strong>API Note:</strong></p>\n<p>While <code>skip()</code> is generally a cheap operation on sequential stream pipelines, it <strong>can be quite expensive on ordered parallel pipelines</strong>,\nespecially for large values of <code>n</code>, since <code>skip(n)</code> is constrained to skip\nnot just any n elements, but the first n elements in the encounter\norder. Using an unordered stream source (such as <code>generate(Supplier)</code>)\nor removing the ordering constraint with <code>BaseStream.unordered()</code> may\nresult in significant speedups of <code>skip()</code> in parallel pipelines, if the\nsemantics of your situation permit. If consistency with encounter\norder is required, and you are experiencing poor performance or memory\nutilization with <code>skip()</code> in parallel pipelines, switching to sequential\nexecution with <code>BaseStream.sequential()</code> may improve performance.</p>\n</blockquote>\n<p><sup>Emphasis added</sup></p>\n<p>The following unordered Stream would run without issues (<em>result of the stream execution might not be consistent because in unordered stream threads a free to discard any <code>n</code> elements, not <code>n</code> first</em>):</p>\n<pre><code>IntStream\n    .iterate(0, i -&gt; i + 1)\n    .unordered()\n    .skip(2)\n    .limit(10_000_000)\n    .filter(i -&gt; checkSum(i) &lt;= 20)\n    .parallel()\n    .count();\n</code></pre>\n"}],"owner":{"account_id":2303833,"reputation":843,"user_id":2023533,"accept_rate":57,"display_name":"mmirwaldt"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75013355,"answer_count":1,"score":0,"last_activity_date":1672887976,"creation_date":1672879703,"question_id":75012814,"body_markdown":"I get an OOM in Java 19 even with 8GB if I do this:\r\n\r\n    IntStream\r\n    .iterate(0, i -&gt; i + 1)\r\n    .skip(2)\r\n    .limit(10_000_000)\r\n    .filter(i -&gt; checkSum(i) &lt;= 20)\r\n    .parallel()\r\n    .count();\r\n\r\nHowever, I don&#39;t get any OOM if I omit skip(2):\r\n\r\n    IntStream\r\n    .iterate(0, i -&gt; i + 1)\r\n    //.skip(2)\r\n    .limit(10_000_000)\r\n    .filter(i -&gt; checkSum(i) &lt;= 20)\r\n    .parallel()\r\n    .count();\r\n\r\nwhere checksum(...) is\r\n\r\n    public static long checkSum(long n) {\r\n        long result = 0;\r\n        long remaining = n;\r\n        while (0 &lt; remaining) {\r\n            long remainder = remaining % 10;\r\n            result += remainder;\r\n            remaining = (remaining - remainder) / 10;\r\n        }\r\n        return result;\r\n    }\r\n\r\nWhy does skip() in this parallel stream expression in Java 19 cause an OOM even with 8GB?\r\n\r\nI know I should use range(...) instead of iterate()+limit() with or without skip().\r\nHowever, that doesn&#39;t answer me this question. I would like to understand what&#39;s the issue here.","title":"Why does skip() in this parallel stream expression in Java 19 cause an OOM even with 8GB?","body":"<p>I get an OOM in Java 19 even with 8GB if I do this:</p>\n<pre><code>IntStream\n.iterate(0, i -&gt; i + 1)\n.skip(2)\n.limit(10_000_000)\n.filter(i -&gt; checkSum(i) &lt;= 20)\n.parallel()\n.count();\n</code></pre>\n<p>However, I don't get any OOM if I omit skip(2):</p>\n<pre><code>IntStream\n.iterate(0, i -&gt; i + 1)\n//.skip(2)\n.limit(10_000_000)\n.filter(i -&gt; checkSum(i) &lt;= 20)\n.parallel()\n.count();\n</code></pre>\n<p>where checksum(...) is</p>\n<pre><code>public static long checkSum(long n) {\n    long result = 0;\n    long remaining = n;\n    while (0 &lt; remaining) {\n        long remainder = remaining % 10;\n        result += remainder;\n        remaining = (remaining - remainder) / 10;\n    }\n    return result;\n}\n</code></pre>\n<p>Why does skip() in this parallel stream expression in Java 19 cause an OOM even with 8GB?</p>\n<p>I know I should use range(...) instead of iterate()+limit() with or without skip().\nHowever, that doesn't answer me this question. I would like to understand what's the issue here.</p>\n"},{"tags":["java","spring","eclipse","tomcat","servlets"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1672884423,"post_id":75013171,"comment_id":132375813,"body_markdown":"Given the fact that tomcat 7 was released back in 2010, I would say none of them. Given the fact that it is a legacy system, and that you have to maintain it, [this post](https://stackoverflow.com/questions/3985916/dynamic-web-module-option-in-eclipse) says 2.5.","body":"Given the fact that tomcat 7 was released back in 2010, I would say none of them. Given the fact that it is a legacy system, and that you have to maintain it, <a href=\"https://stackoverflow.com/questions/3985916/dynamic-web-module-option-in-eclipse\">this post</a> says 2.5."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1672884492,"post_id":75013171,"comment_id":132375828,"body_markdown":"&quot;*Please give me official/reference links about these if you know.*&quot; - [Questions asking us to recommend or find a book, tool, software library, tutorial or other **off-site resource** are **off-topic** for Stack Overflow as they tend to attract opinionated answers and spam. Instead, describe the problem and what has been done so far to solve it.](https://stackoverflow.com/help/on-topic)","body":"&quot;<i>Please give me official/reference links about these if you know.</i>&quot; - <a href=\"https://stackoverflow.com/help/on-topic\">Questions asking us to recommend or find a book, tool, software library, tutorial or other <b>off-site resource</b> are <b>off-topic</b> for Stack Overflow as they tend to attract opinionated answers and spam. Instead, describe the problem and what has been done so far to solve it.</a>"},{"owner":{"account_id":4597208,"reputation":48209,"user_id":3728901,"accept_rate":58,"display_name":"Vy Do"},"score":0,"creation_date":1672884496,"post_id":75013171,"comment_id":132375829,"body_markdown":"I already read it before you given me. My question is very specific, no vauge. As you know, you given link with answer what not include reference document link(s).","body":"I already read it before you given me. My question is very specific, no vauge. As you know, you given link with answer what not include reference document link(s)."}],"answers":[{"tags":[],"owner":{"account_id":4597208,"reputation":48209,"user_id":3728901,"accept_rate":58,"display_name":"Vy Do"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672886310,"creation_date":1672884746,"answer_id":75013224,"question_id":75013171,"body_markdown":"Dyamic web version = Servlet specification version.\r\n\r\n&gt; Full Java 6 and Java EE 5 support (JDBC 4.0, JTA 1.1, JavaMail 1.4,\r\n&gt; JAX-WS 2.0)\r\n\r\nand\r\n\r\n&gt; Spring 2.5 is still compatible with JDK 1.4.2+ and J2EE 1.3+. Java 1.4\r\n&gt; users\r\n\r\nhttps://spring.io/blog/2007/11/19/spring-framework-2-5-released\r\nhttps://docs.oracle.com/javaee/5/tutorial/doc/bnafd.html\r\nhttps://www.ibm.com/docs/en/radfws/9.6.1?topic=project-dynamic-web-projects-applications\r\nhttps://www.oracle.com/java/technologies/javaee/javaeetechnologies.html#javaee5\r\n\r\n[![enter image description here][1]][1]\r\n\r\n==&gt; Choose 2.5\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/I7OTe.png","title":"What is suitable version(s) for Dymamic web module with JavaSE 1.6 SDK, Tomcat 6 x64?","body":"<p>Dyamic web version = Servlet specification version.</p>\n<blockquote>\n<p>Full Java 6 and Java EE 5 support (JDBC 4.0, JTA 1.1, JavaMail 1.4,\nJAX-WS 2.0)</p>\n</blockquote>\n<p>and</p>\n<blockquote>\n<p>Spring 2.5 is still compatible with JDK 1.4.2+ and J2EE 1.3+. Java 1.4\nusers</p>\n</blockquote>\n<p><a href=\"https://spring.io/blog/2007/11/19/spring-framework-2-5-released\" rel=\"nofollow noreferrer\">https://spring.io/blog/2007/11/19/spring-framework-2-5-released</a>\n<a href=\"https://docs.oracle.com/javaee/5/tutorial/doc/bnafd.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javaee/5/tutorial/doc/bnafd.html</a>\n<a href=\"https://www.ibm.com/docs/en/radfws/9.6.1?topic=project-dynamic-web-projects-applications\" rel=\"nofollow noreferrer\">https://www.ibm.com/docs/en/radfws/9.6.1?topic=project-dynamic-web-projects-applications</a>\n<a href=\"https://www.oracle.com/java/technologies/javaee/javaeetechnologies.html#javaee5\" rel=\"nofollow noreferrer\">https://www.oracle.com/java/technologies/javaee/javaeetechnologies.html#javaee5</a></p>\n<p><a href=\"https://i.stack.imgur.com/I7OTe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/I7OTe.png\" alt=\"enter image description here\" /></a></p>\n<p>==&gt; Choose 2.5</p>\n"}],"owner":{"account_id":4597208,"reputation":48209,"user_id":3728901,"accept_rate":58,"display_name":"Vy Do"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672886310,"creation_date":1672884141,"question_id":75013171,"body_markdown":"We need maintain old system and research arround. I am using Windows 10 x64, Eclipse IDE 2022-12, JDK 1.6, Tomcat 6 and Spring 2.5.6 (include `spring-jms-2.5.6.jar` , `spring-orm-2.5.6.java` , `spring-context-support-2.5.6.jar` , `spring-tx-2.5.6.jar` , `spring-aop-2.5.6.jar` , `spring-web-2.5.6.jar` , `spring-jdbc-2.5.6.jar` , `spring-beans-2.5.6.jar` , `spring-core-2.5.6.jar` , `spring-context-2.5.6.jar` ), Ant build inside Eclipse IDE 2022-12.\r\n\r\n. **What is suitable version(s) for Dymamic web module with JavaSE 1.6 SDK, Tomcat 6 x64?** Please give me official/reference links about these if you know.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/izndq.png\r\n  [2]: https://i.stack.imgur.com/7cimp.png","title":"What is suitable version(s) for Dymamic web module with JavaSE 1.6 SDK, Tomcat 6 x64?","body":"<p>We need maintain old system and research arround. I am using Windows 10 x64, Eclipse IDE 2022-12, JDK 1.6, Tomcat 6 and Spring 2.5.6 (include <code>spring-jms-2.5.6.jar</code> , <code>spring-orm-2.5.6.java</code> , <code>spring-context-support-2.5.6.jar</code> , <code>spring-tx-2.5.6.jar</code> , <code>spring-aop-2.5.6.jar</code> , <code>spring-web-2.5.6.jar</code> , <code>spring-jdbc-2.5.6.jar</code> , <code>spring-beans-2.5.6.jar</code> , <code>spring-core-2.5.6.jar</code> , <code>spring-context-2.5.6.jar</code> ), Ant build inside Eclipse IDE 2022-12.</p>\n<p>. <strong>What is suitable version(s) for Dymamic web module with JavaSE 1.6 SDK, Tomcat 6 x64?</strong> Please give me official/reference links about these if you know.</p>\n<p><a href=\"https://i.stack.imgur.com/izndq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/izndq.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/7cimp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7cimp.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","sockets","timeout","inputstream","cts"],"answers":[{"tags":[],"owner":{"account_id":37136,"reputation":57812,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1672886025,"creation_date":1672886025,"answer_id":75013333,"question_id":75013267,"body_markdown":"You are right. This loop waits for the server to close the connection, but the server has been told to please not close the connection if possible. It is clearly a bug, or maybe the timeout is intended and it&#39;s very lazy coding.\r\n\r\nHowever, this looks like test code for a particular web server, so it might be intended that something on the server prevents the connection from being kept alive. The connection will be closed after the first request and response if *either* the client or the server demands it. I don&#39;t see anything in [TrailerTestServlet](https://github.com/jakartaee/platform-tck/blob/484ce8691c41dde5ab2648f1c9e056487c36775c/src/com/sun/ts/tests/servlet/api/jakarta_servlet_http/httpservletrequest40/TrailerTestServlet.java) that would force the server to close the connection.","title":"What is intended for &quot;while(inputStream.read()) &gt;=0)&quot; in Compatibility Test Suite?","body":"<p>You are right. This loop waits for the server to close the connection, but the server has been told to please not close the connection if possible. It is clearly a bug, or maybe the timeout is intended and it's very lazy coding.</p>\n<p>However, this looks like test code for a particular web server, so it might be intended that something on the server prevents the connection from being kept alive. The connection will be closed after the first request and response if <em>either</em> the client or the server demands it. I don't see anything in <a href=\"https://github.com/jakartaee/platform-tck/blob/484ce8691c41dde5ab2648f1c9e056487c36775c/src/com/sun/ts/tests/servlet/api/jakarta_servlet_http/httpservletrequest40/TrailerTestServlet.java\" rel=\"nofollow noreferrer\">TrailerTestServlet</a> that would force the server to close the connection.</p>\n"}],"owner":{"account_id":20607383,"reputation":3,"user_id":15127300,"display_name":"Hawaii"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75013333,"answer_count":1,"score":0,"last_activity_date":1672886025,"creation_date":1672885205,"question_id":75013267,"body_markdown":"I found my project unexpectedly stuck for 30 seconds in the middle of a test using CTS(Compatibility Test Suite). This is the code from **com.sun.ts.tests.servlet.api.jakarta_servlet_http.httpservletrequest40** in CTS ([original source link](https://github.com/jakartaee/platform-tck/blame/484ce8691c41dde5ab2648f1c9e056487c36775c/src/com/sun/ts/tests/servlet/api/jakarta_servlet_http/httpservletrequest40/Client.java#L269))\r\n\r\n\r\n```\r\n    try {\r\n      url = new URL(&quot;http://&quot; + hostname + &quot;:&quot; + portnum + CONTEXT_ROOT\r\n          + &quot;/TrailerTestServlet&quot;);\r\n      socket = new Socket(url.getHost(), url.getPort());\r\n      socket.setKeepAlive(true);\r\n      output = socket.getOutputStream();\r\n\r\n      String path = url.getPath();\r\n      StringBuffer outputBuffer = new StringBuffer();\r\n      outputBuffer.append(&quot;POST &quot; + path + &quot; HTTP/1.1&quot; + DELIMITER);\r\n      outputBuffer.append(&quot;Host: &quot; + url.getHost() + DELIMITER);\r\n      outputBuffer.append(&quot;Connection: keep-alive&quot; + DELIMITER);\r\n      outputBuffer.append(&quot;Content-Type: text/plain&quot; + DELIMITER);\r\n      ...\r\n\r\n      byte[] outputBytes = outputBuffer.toString().getBytes(ENCODING);\r\n      output.write(outputBytes);\r\n      output.flush();\r\n\r\n      input = socket.getInputStream();\r\n      ByteArrayOutputStream bytes = new ByteArrayOutputStream();\r\n      int read = 0;\r\n      **while ((read = input.read()) &gt;= 0)** {\r\n        bytes.write(read);\r\n      }\r\n      String response = new String(bytes.toByteArray());\r\n```\r\n\r\nAs mentioned in the title, a thread is blocked at &quot;while((read = input.read()) &gt;= 0)&quot; after a server(my code) finished responding to this request. In my understand, the request includes &quot;Connection: keep-alive&quot;, the server dose not close this connection after the response, and the connection is finally closed in (server-side) SocketTimeout.\r\n\r\nI think this flow seems reasonable because a request says &quot;keep this connection alive&quot; and it does not let input.read() reach the end of stream before SocketTimeout or any exceptions.\r\n\r\nGoing back to my question..\r\nWhat is intended for &quot;while(inputStream.read()) &gt;=0)&quot; with &quot;keep-alive&quot;?\r\n\r\nThanks.\r\n\r\nI checked the original code from a github (https://github.com/jakartaee/platform-tck/blame/484ce8691c41dde5ab2648f1c9e056487c36775c/src/com/sun/ts/tests/servlet/api/jakarta_servlet_http/httpservletrequest40/Client.java#L269) but cannot find a reasonable reason.","title":"What is intended for &quot;while(inputStream.read()) &gt;=0)&quot; in Compatibility Test Suite?","body":"<p>I found my project unexpectedly stuck for 30 seconds in the middle of a test using CTS(Compatibility Test Suite). This is the code from <strong>com.sun.ts.tests.servlet.api.jakarta_servlet_http.httpservletrequest40</strong> in CTS (<a href=\"https://github.com/jakartaee/platform-tck/blame/484ce8691c41dde5ab2648f1c9e056487c36775c/src/com/sun/ts/tests/servlet/api/jakarta_servlet_http/httpservletrequest40/Client.java#L269\" rel=\"nofollow noreferrer\">original source link</a>)</p>\n<pre><code>    try {\n      url = new URL(&quot;http://&quot; + hostname + &quot;:&quot; + portnum + CONTEXT_ROOT\n          + &quot;/TrailerTestServlet&quot;);\n      socket = new Socket(url.getHost(), url.getPort());\n      socket.setKeepAlive(true);\n      output = socket.getOutputStream();\n\n      String path = url.getPath();\n      StringBuffer outputBuffer = new StringBuffer();\n      outputBuffer.append(&quot;POST &quot; + path + &quot; HTTP/1.1&quot; + DELIMITER);\n      outputBuffer.append(&quot;Host: &quot; + url.getHost() + DELIMITER);\n      outputBuffer.append(&quot;Connection: keep-alive&quot; + DELIMITER);\n      outputBuffer.append(&quot;Content-Type: text/plain&quot; + DELIMITER);\n      ...\n\n      byte[] outputBytes = outputBuffer.toString().getBytes(ENCODING);\n      output.write(outputBytes);\n      output.flush();\n\n      input = socket.getInputStream();\n      ByteArrayOutputStream bytes = new ByteArrayOutputStream();\n      int read = 0;\n      **while ((read = input.read()) &gt;= 0)** {\n        bytes.write(read);\n      }\n      String response = new String(bytes.toByteArray());\n</code></pre>\n<p>As mentioned in the title, a thread is blocked at &quot;while((read = input.read()) &gt;= 0)&quot; after a server(my code) finished responding to this request. In my understand, the request includes &quot;Connection: keep-alive&quot;, the server dose not close this connection after the response, and the connection is finally closed in (server-side) SocketTimeout.</p>\n<p>I think this flow seems reasonable because a request says &quot;keep this connection alive&quot; and it does not let input.read() reach the end of stream before SocketTimeout or any exceptions.</p>\n<p>Going back to my question..\nWhat is intended for &quot;while(inputStream.read()) &gt;=0)&quot; with &quot;keep-alive&quot;?</p>\n<p>Thanks.</p>\n<p>I checked the original code from a github (<a href=\"https://github.com/jakartaee/platform-tck/blame/484ce8691c41dde5ab2648f1c9e056487c36775c/src/com/sun/ts/tests/servlet/api/jakarta_servlet_http/httpservletrequest40/Client.java#L269\" rel=\"nofollow noreferrer\">https://github.com/jakartaee/platform-tck/blame/484ce8691c41dde5ab2648f1c9e056487c36775c/src/com/sun/ts/tests/servlet/api/jakarta_servlet_http/httpservletrequest40/Client.java#L269</a>) but cannot find a reasonable reason.</p>\n"},{"tags":["java","arrays","user-interface","awt","box"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1499119259,"post_id":44894312,"comment_id":76766740,"body_markdown":"Assuming we are talking about https://docs.oracle.com/javase/8/docs/api/java/awt/Choice.html based from example shown there you can use `choice.add(nameOfPlanet)`. So if your Planet class lets you get its name you should be able to do something like `for (Planet p : planetList){ choice.add(p.getName()); }`.","body":"Assuming we are talking about <a href=\"https://docs.oracle.com/javase/8/docs/api/java/awt/Choice.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/awt/Choice.html</a> based from example shown there you can use <code>choice.add(nameOfPlanet)</code>. So if your Planet class lets you get its name you should be able to do something like <code>for (Planet p : planetList){ choice.add(p.getName()); }</code>."}],"answers":[{"tags":[],"owner":{"account_id":8953437,"reputation":2379,"user_id":6743203,"accept_rate":30,"display_name":"Jay Smith"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672885708,"creation_date":1499119351,"answer_id":44894369,"question_id":44894312,"body_markdown":"To create `java.awt.Choice`:\r\n\r\n    Choice fruitChoice = new Choice();\r\n\r\nTo fill in the choices:\r\n\r\n      fruitChoice.add(&quot;Apple&quot;);\r\n      fruitChoice.add(&quot;Grapes&quot;);\r\n      fruitChoice.add(&quot;Mango&quot;);\r\n      fruitChoice.add(&quot;Peer&quot;);\r\n\r\nTo get the selected item:\r\n\r\n    String fruit = fruitChoice.getItem(fruitChoice.getSelectedIndex());\r\n\r\n","title":"How can I populate a choice box with an array of objects in Java?","body":"<p>To create <code>java.awt.Choice</code>:</p>\n<pre><code>Choice fruitChoice = new Choice();\n</code></pre>\n<p>To fill in the choices:</p>\n<pre><code>  fruitChoice.add(&quot;Apple&quot;);\n  fruitChoice.add(&quot;Grapes&quot;);\n  fruitChoice.add(&quot;Mango&quot;);\n  fruitChoice.add(&quot;Peer&quot;);\n</code></pre>\n<p>To get the selected item:</p>\n<pre><code>String fruit = fruitChoice.getItem(fruitChoice.getSelectedIndex());\n</code></pre>\n"}],"owner":{"account_id":11089868,"reputation":39,"user_id":8142148,"accept_rate":0,"display_name":"Davide Melis"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1011,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672885708,"creation_date":1499118936,"question_id":44894312,"body_markdown":"I have a choice box in my GUI\r\n\r\n    Choice choice = new Choice();\r\n    choice.setBounds(75, 11, 93, 20);\r\n    panel.add(choice);\r\n\r\nI also have this array of objects:\r\n\r\n    public Planet[] planetList;\r\n\r\nevery\r\n\r\n&gt; Planet\r\n\r\nhas a name field. I&#39;d like to populate the choice box with my planetList and display the name field, so when the users choice the planet by name, it selects the Object Planet that has that name.\r\n\r\nIf it&#39;s easier, I could use a combobox or whatever I could use as a dropdown list of my array.\r\n\r\n\r\n\r\n","title":"How can I populate a choice box with an array of objects in Java?","body":"<p>I have a choice box in my GUI</p>\n<pre><code>Choice choice = new Choice();\nchoice.setBounds(75, 11, 93, 20);\npanel.add(choice);\n</code></pre>\n<p>I also have this array of objects:</p>\n<pre><code>public Planet[] planetList;\n</code></pre>\n<p>every</p>\n<blockquote>\n<p>Planet</p>\n</blockquote>\n<p>has a name field. I'd like to populate the choice box with my planetList and display the name field, so when the users choice the planet by name, it selects the Object Planet that has that name.</p>\n<p>If it's easier, I could use a combobox or whatever I could use as a dropdown list of my array.</p>\n"},{"tags":["java","eclipse","tomcat7","livereload","hotswap"],"owner":{"account_id":3870891,"reputation":35,"user_id":3206193,"display_name":"nicari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672885681,"creation_date":1672885060,"question_id":75013254,"body_markdown":"I&#39;m trying to replicate the behavior of Eclipse live-reloading of the web resources of the web app deployed on Tomcat, when changes are made locally to the project files, but I&#39;m not able to understand how it works.\r\n\r\nI have a Java project that I deploy on Tomcat using Ecplise, simply running the Server in Eclipse.\r\n\r\nIf I make any changes to the Handlebars templates under `[antProjectName]/WebContent/view` as soon as Ecplise &quot;notices&quot; that the file have changed (eg. navigating in the Project explorer), it replicates the changes to the deployed web app under `/eclipse-workspace/.metadata/.plugins/org.eclipse.wst.server.core/tmp0/wtpwebapps/[antProjectName]/view`, where Tomcat is running.\r\n\r\nRefreshing the page in the browsers shows immediately the change.\r\n\r\nI was thinking it might be triggered by the built, but not, since disabling the &quot;Build project automatically&quot; option does not inhibit this behavior.\r\n\r\nThe only thing particular I notices is that in the `server.xml` in `/eclipse-workspace/Servers/Tomcat v7.0 Server at localhost-config/server.xml` this line is present\r\n\r\n    &lt;Context docBase=&quot;[antProjectName]&quot; path=&quot;/&quot; reloadable=&quot;true&quot; source=&quot;org.eclipse.jst.jee.server:[antProjectName]&quot;/&gt;&lt;/Host&gt;\r\nFor what I found online:\r\n&gt; Eclipse WTP adds a custom attribute source to the project related\r\n&gt; &lt;Context&gt; element in the server.xml of Tomcat which identifies the\r\n&gt; source of the context (the actual project in the workspace which is\r\n&gt; deployed to the particular server). This way Eclipse can correlate the\r\n&gt; deployed webapplication with an project in the workspace.\r\n\r\nI don&#39;t know if this is related.\r\n\r\n\r\nReplicating the behavior by copying &quot;manually&quot; the files at every change is not an option for my set-up.\r\n\r\n","title":"How can I replicate Ecplise&#39;s live-reloading of Java web apps resources on Tomcat","body":"<p>I'm trying to replicate the behavior of Eclipse live-reloading of the web resources of the web app deployed on Tomcat, when changes are made locally to the project files, but I'm not able to understand how it works.</p>\n<p>I have a Java project that I deploy on Tomcat using Ecplise, simply running the Server in Eclipse.</p>\n<p>If I make any changes to the Handlebars templates under <code>[antProjectName]/WebContent/view</code> as soon as Ecplise &quot;notices&quot; that the file have changed (eg. navigating in the Project explorer), it replicates the changes to the deployed web app under <code>/eclipse-workspace/.metadata/.plugins/org.eclipse.wst.server.core/tmp0/wtpwebapps/[antProjectName]/view</code>, where Tomcat is running.</p>\n<p>Refreshing the page in the browsers shows immediately the change.</p>\n<p>I was thinking it might be triggered by the built, but not, since disabling the &quot;Build project automatically&quot; option does not inhibit this behavior.</p>\n<p>The only thing particular I notices is that in the <code>server.xml</code> in <code>/eclipse-workspace/Servers/Tomcat v7.0 Server at localhost-config/server.xml</code> this line is present</p>\n<pre><code>&lt;Context docBase=&quot;[antProjectName]&quot; path=&quot;/&quot; reloadable=&quot;true&quot; source=&quot;org.eclipse.jst.jee.server:[antProjectName]&quot;/&gt;&lt;/Host&gt;\n</code></pre>\n<p>For what I found online:</p>\n<blockquote>\n<p>Eclipse WTP adds a custom attribute source to the project related\n element in the server.xml of Tomcat which identifies the\nsource of the context (the actual project in the workspace which is\ndeployed to the particular server). This way Eclipse can correlate the\ndeployed webapplication with an project in the workspace.</p>\n</blockquote>\n<p>I don't know if this is related.</p>\n<p>Replicating the behavior by copying &quot;manually&quot; the files at every change is not an option for my set-up.</p>\n"},{"tags":["java","ssl","ssl-certificate"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1616718914,"post_id":66809355,"comment_id":118098164,"body_markdown":"This happens because either (1) it isn&#39;t signed with a signature algorithm specified in the `CertificateRequest`, or (2) it isn&#39;t signed by one of the signers mentioned in the `CertificateRequest`. In this case it is (1).","body":"This happens because either (1) it isn&#39;t signed with a signature algorithm specified in the <code>CertificateRequest</code>, or (2) it isn&#39;t signed by one of the signers mentioned in the <code>CertificateRequest</code>. In this case it is (1)."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1616719731,"post_id":66809355,"comment_id":118098351,"body_markdown":"To whoever voted to close this question, sufficient debugging details are already provided such that the problem can be identified by anyone competent in the field. Please don&#39;t VTC indiscriminately.","body":"To whoever voted to close this question, sufficient debugging details are already provided such that the problem can be identified by anyone competent in the field. Please don&#39;t VTC indiscriminately."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1616721821,"post_id":66809355,"comment_id":118098732,"body_markdown":"You will have to get your CSR re-signed by your CA using one of the signature algorithms specified in the `CertificateRequest`.","body":"You will have to get your CSR re-signed by your CA using one of the signature algorithms specified in the <code>CertificateRequest</code>."},{"owner":{"account_id":21065123,"reputation":27,"user_id":15482594,"display_name":"Paweł Kopania"},"score":0,"creation_date":1616741783,"post_id":66809355,"comment_id":118102759,"body_markdown":"Thanks @user207421. The most confusing thing is that it doesn&#39;t work for the java client, but when I use curl -X POST --cert &lt;CA_signed_pem_file&gt; --key &lt;private_key_file&gt; everything seems to be ok and I&#39;m able to send requests.","body":"Thanks @user207421. The most confusing thing is that it doesn&#39;t work for the java client, but when I use curl -X POST --cert &lt;CA_signed_pem_file&gt; --key &lt;private_key_file&gt; everything seems to be ok and I&#39;m able to send requests."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1616799608,"post_id":66809355,"comment_id":118125615,"body_markdown":"But does `curl` send a client certificate? and if so, what? If it did send that certificate in response to that request it would be a violation of RFC 2246 and successors.","body":"But does <code>curl</code> send a client certificate? and if so, what? If it did send that certificate in response to that request it would be a violation of RFC 2246 and successors."},{"owner":{"account_id":16875349,"reputation":393,"user_id":12202904,"display_name":"doct0re"},"score":0,"creation_date":1623176852,"post_id":66809355,"comment_id":120002740,"body_markdown":"I am facing the same issue. Any findings yet?","body":"I am facing the same issue. Any findings yet?"},{"owner":{"account_id":21065123,"reputation":27,"user_id":15482594,"display_name":"Paweł Kopania"},"score":0,"creation_date":1623677337,"post_id":66809355,"comment_id":120139124,"body_markdown":"@doct0re - in my case - it turned out that WebClient wasn&#39;t picking up keystore and trust store configs from the application.yml - I had to configure it explicitly in the WebClient configuration class","body":"@doct0re - in my case - it turned out that WebClient wasn&#39;t picking up keystore and trust store configs from the application.yml - I had to configure it explicitly in the WebClient configuration class"}],"answers":[{"tags":[],"owner":{"account_id":21065123,"reputation":27,"user_id":15482594,"display_name":"Paweł Kopania"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1623677872,"creation_date":1623677872,"answer_id":67971286,"question_id":66809355,"body_markdown":"    @Slf4j\r\n    @Configuration\r\n    public class WebClientConfiguration {\r\n    \r\n        @Value(&quot;${server.ssl.key-store}&quot;)\r\n        String keystorePath;\r\n    \r\n        @Value(&quot;${server.ssl.key-store-password}&quot;)\r\n        String keystorePass;\r\n    \r\n        @Value(&quot;${server.ssl.trust-store}&quot;)\r\n        String truststorePath;\r\n    \r\n        @Value(&quot;${server.ssl.trust-store-password}&quot;)\r\n        String truststorePass;\r\n    \r\n        public SslContext getTwoWaySslContext() {\r\n    \r\n            log.debug(&quot;WebClient Key-Store path/pass: {}/{}&quot;, keystorePath, keystorePass);\r\n            log.debug(&quot;WebClient Trust-Store path/pass: {}/{}&quot;, truststorePath, truststorePass);\r\n    \r\n            try (\r\n                    FileInputStream keyStoreFileInputStream = new FileInputStream(ResourceUtils.getFile(keystorePath));\r\n                    FileInputStream trustStoreFileInputStream = new FileInputStream(ResourceUtils.getFile(truststorePath));\r\n            ) {\r\n                KeyStore keyStore = KeyStore.getInstance(&quot;jks&quot;);\r\n                keyStore.load(keyStoreFileInputStream, keystorePass.toCharArray());\r\n                KeyManagerFactory keyManagerFactory = KeyManagerFactory.getInstance(&quot;SunX509&quot;);\r\n                keyManagerFactory.init(keyStore, keystorePass.toCharArray());\r\n    \r\n                KeyStore trustStore = KeyStore.getInstance(&quot;jks&quot;);\r\n                trustStore.load(trustStoreFileInputStream, truststorePass.toCharArray());\r\n                TrustManagerFactory trustManagerFactory = TrustManagerFactory.getInstance(&quot;SunX509&quot;);\r\n                trustManagerFactory.init(trustStore);\r\n    \r\n                return SslContextBuilder.forClient()\r\n                        .keyManager(keyManagerFactory)\r\n                        .trustManager(trustManagerFactory)\r\n                        .build();\r\n    \r\n            } catch (Exception e) {\r\n                log.error(&quot;An error has occurred: &quot;, e);\r\n            }\r\n    \r\n            return null;\r\n        }\r\n    \r\n        @Bean\r\n        WebClient getWebClient() {\r\n    \r\n            HttpClient httpClient = HttpClient.create().secure(sslSpec -&gt; sslSpec.sslContext(getTwoWaySslContext()));\r\n            ClientHttpConnector clientHttpConnector = new ReactorClientHttpConnector(httpClient);\r\n    \r\n    \r\n            return WebClient.builder()\r\n                    .clientConnector(clientHttpConnector)\r\n                    .build();\r\n        }\r\n    }","title":"Client service doesn&#39;t respond to SSL CertificateRequest","body":"<pre><code>@Slf4j\n@Configuration\npublic class WebClientConfiguration {\n\n    @Value(&quot;${server.ssl.key-store}&quot;)\n    String keystorePath;\n\n    @Value(&quot;${server.ssl.key-store-password}&quot;)\n    String keystorePass;\n\n    @Value(&quot;${server.ssl.trust-store}&quot;)\n    String truststorePath;\n\n    @Value(&quot;${server.ssl.trust-store-password}&quot;)\n    String truststorePass;\n\n    public SslContext getTwoWaySslContext() {\n\n        log.debug(&quot;WebClient Key-Store path/pass: {}/{}&quot;, keystorePath, keystorePass);\n        log.debug(&quot;WebClient Trust-Store path/pass: {}/{}&quot;, truststorePath, truststorePass);\n\n        try (\n                FileInputStream keyStoreFileInputStream = new FileInputStream(ResourceUtils.getFile(keystorePath));\n                FileInputStream trustStoreFileInputStream = new FileInputStream(ResourceUtils.getFile(truststorePath));\n        ) {\n            KeyStore keyStore = KeyStore.getInstance(&quot;jks&quot;);\n            keyStore.load(keyStoreFileInputStream, keystorePass.toCharArray());\n            KeyManagerFactory keyManagerFactory = KeyManagerFactory.getInstance(&quot;SunX509&quot;);\n            keyManagerFactory.init(keyStore, keystorePass.toCharArray());\n\n            KeyStore trustStore = KeyStore.getInstance(&quot;jks&quot;);\n            trustStore.load(trustStoreFileInputStream, truststorePass.toCharArray());\n            TrustManagerFactory trustManagerFactory = TrustManagerFactory.getInstance(&quot;SunX509&quot;);\n            trustManagerFactory.init(trustStore);\n\n            return SslContextBuilder.forClient()\n                    .keyManager(keyManagerFactory)\n                    .trustManager(trustManagerFactory)\n                    .build();\n\n        } catch (Exception e) {\n            log.error(&quot;An error has occurred: &quot;, e);\n        }\n\n        return null;\n    }\n\n    @Bean\n    WebClient getWebClient() {\n\n        HttpClient httpClient = HttpClient.create().secure(sslSpec -&gt; sslSpec.sslContext(getTwoWaySslContext()));\n        ClientHttpConnector clientHttpConnector = new ReactorClientHttpConnector(httpClient);\n\n\n        return WebClient.builder()\n                .clientConnector(clientHttpConnector)\n                .build();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":21065123,"reputation":27,"user_id":15482594,"display_name":"Paweł Kopania"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3389,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1672883966,"creation_date":1616718002,"question_id":66809355,"body_markdown":"I&#39;m working on a client service which is supposed to connect over SSL,\r\nI have signed client certificate added into my keystore - but still client service doesn&#39;t respond to certificate request:\r\n\r\n```\r\njavax.net.ssl|DEBUG|36|reactor-http-epoll-4|2021-03-26 01:07:41.641 CET|CertificateRequest.java:672|Consuming CertificateRequest handshake message (\r\n&quot;CertificateRequest&quot;: {\r\n  &quot;certificate types&quot;: [rsa_sign, dss_sign, ecdsa_sign]\r\n  &quot;supported signature algorithms&quot;: [rsa_pkcs1_sha512, dsa_sha512, ecdsa_secp521r1_sha512, rsa_pkcs1_sha384, dsa_sha384, ecdsa_secp384r1_sha384, rsa_pkcs1_sha256, dsa_sha256, ecdsa_secp256r1_sha256, rsa_sha224, dsa_sha224, ecdsa_sha224, rsa_pkcs1_sha1, dsa_sha1, ecdsa_sha1]\r\n  &quot;certificate authorities&quot;: [EMAILADDRESS=sentgeo@itl.waw.pl, CN=SENT GEO ITL ZSL Test Level 1 CA, OU=Zakład Zaawansowanych Technik Informacyjnych (Z-6), O=Instytut Łączności - Państwowy Instytut Badawczy, ST=mazowieckie, C=PL]\r\n}\r\n)\r\njavax.net.ssl|ALL|36|reactor-http-epoll-4|2021-03-26 01:07:41.641 CET|X509Authentication.java:244|No X.509 cert selected for RSA\r\njavax.net.ssl|WARNING|36|reactor-http-epoll-4|2021-03-26 01:07:41.641 CET|CertificateRequest.java:765|Unavailable authentication scheme: rsa_pkcs1_sha512\r\njavax.net.ssl|ALL|36|reactor-http-epoll-4|2021-03-26 01:07:41.641 CET|X509Authentication.java:244|No X.509 cert selected for EC\r\njavax.net.ssl|WARNING|36|reactor-http-epoll-4|2021-03-26 01:07:41.641 CET|CertificateRequest.java:765|Unavailable authentication scheme: ecdsa_secp521r1_sha512\r\njavax.net.ssl|ALL|36|reactor-http-epoll-4|2021-03-26 01:07:41.641 CET|X509Authentication.java:244|No X.509 cert selected for RSA\r\njavax.net.ssl|WARNING|36|reactor-http-epoll-4|2021-03-26 01:07:41.641 CET|CertificateRequest.java:765|Unavailable authentication scheme: rsa_pkcs1_sha384\r\njavax.net.ssl|ALL|36|reactor-http-epoll-4|2021-03-26 01:07:41.641 CET|X509Authentication.java:244|No X.509 cert selected for EC\r\njavax.net.ssl|WARNING|36|reactor-http-epoll-4|2021-03-26 01:07:41.641 CET|CertificateRequest.java:765|Unavailable authentication scheme: ecdsa_secp384r1_sha384\r\njavax.net.ssl|ALL|36|reactor-http-epoll-4|2021-03-26 01:07:41.641 CET|X509Authentication.java:244|No X.509 cert selected for RSA\r\njavax.net.ssl|WARNING|36|reactor-http-epoll-4|2021-03-26 01:07:41.642 CET|CertificateRequest.java:765|Unavailable authentication scheme: rsa_pkcs1_sha256\r\njavax.net.ssl|ALL|36|reactor-http-epoll-4|2021-03-26 01:07:41.642 CET|X509Authentication.java:244|No X.509 cert selected for DSA\r\njavax.net.ssl|WARNING|36|reactor-http-epoll-4|2021-03-26 01:07:41.642 CET|CertificateRequest.java:765|Unavailable authentication scheme: dsa_sha256\r\njavax.net.ssl|ALL|36|reactor-http-epoll-4|2021-03-26 01:07:41.642 CET|X509Authentication.java:244|No X.509 cert selected for EC\r\njavax.net.ssl|WARNING|36|reactor-http-epoll-4|2021-03-26 01:07:41.642 CET|CertificateRequest.java:765|Unavailable authentication scheme: ecdsa_secp256r1_sha256\r\njavax.net.ssl|ALL|36|reactor-http-epoll-4|2021-03-26 01:07:41.642 CET|X509Authentication.java:244|No X.509 cert selected for RSA\r\njavax.net.ssl|WARNING|36|reactor-http-epoll-4|2021-03-26 01:07:41.642 CET|CertificateRequest.java:765|Unavailable authentication scheme: rsa_sha224\r\njavax.net.ssl|ALL|36|reactor-http-epoll-4|2021-03-26 01:07:41.642 CET|X509Authentication.java:244|No X.509 cert selected for DSA\r\njavax.net.ssl|WARNING|36|reactor-http-epoll-4|2021-03-26 01:07:41.642 CET|CertificateRequest.java:765|Unavailable authentication scheme: dsa_sha224\r\njavax.net.ssl|ALL|36|reactor-http-epoll-4|2021-03-26 01:07:41.642 CET|X509Authentication.java:244|No X.509 cert selected for EC\r\njavax.net.ssl|WARNING|36|reactor-http-epoll-4|2021-03-26 01:07:41.642 CET|CertificateRequest.java:765|Unavailable authentication scheme: ecdsa_sha224\r\njavax.net.ssl|ALL|36|reactor-http-epoll-4|2021-03-26 01:07:41.642 CET|X509Authentication.java:244|No X.509 cert selected for RSA\r\njavax.net.ssl|WARNING|36|reactor-http-epoll-4|2021-03-26 01:07:41.642 CET|CertificateRequest.java:765|Unavailable authentication scheme: rsa_pkcs1_sha1\r\njavax.net.ssl|ALL|36|reactor-http-epoll-4|2021-03-26 01:07:41.642 CET|X509Authentication.java:244|No X.509 cert selected for DSA\r\njavax.net.ssl|WARNING|36|reactor-http-epoll-4|2021-03-26 01:07:41.643 CET|CertificateRequest.java:765|Unavailable authentication scheme: dsa_sha1\r\njavax.net.ssl|ALL|36|reactor-http-epoll-4|2021-03-26 01:07:41.643 CET|X509Authentication.java:244|No X.509 cert selected for EC\r\njavax.net.ssl|WARNING|36|reactor-http-epoll-4|2021-03-26 01:07:41.643 CET|CertificateRequest.java:765|Unavailable authentication scheme: ecdsa_sha1\r\njavax.net.ssl|WARNING|36|reactor-http-epoll-4|2021-03-26 01:07:41.643 CET|CertificateRequest.java:775|No available authentication scheme\r\njavax.net.ssl|DEBUG|36|reactor-http-epoll-4|2021-03-26 01:07:41.643 CET|ServerHelloDone.java:151|Consuming ServerHelloDone handshake message (\r\n&lt;empty&gt;\r\n)\r\njavax.net.ssl|DEBUG|36|reactor-http-epoll-4|2021-03-26 01:07:41.643 CET|CertificateMessage.java:299|No X.509 certificate for client authentication, use empty Certificate message instead\r\njavax.net.ssl|DEBUG|36|reactor-http-epoll-4|2021-03-26 01:07:41.643 CET|CertificateMessage.java:330|Produced client Certificate handshake message (\r\n&quot;Certificates&quot;: &lt;empty list&gt;\r\n) \r\n```\r\nI have this certificate in the keystore:\r\n\r\n```\r\n2021-03-26 01:14:20.874  INFO 27499 --- [  restartedMain] o.e.jetty.util.ssl.SslContextFactory     : x509=X509@65f5014e(1,h=[],w=[]) for Server@4a177306[provider=null,keyStore=file:///home/pkopania/IdeaProjects/kasgateway/target/classes/petrovision-keystore.jks,trustStore=null]\r\njavax.net.ssl|DEBUG|11|restartedMain|2021-03-26 01:14:20.986 CET|SunX509KeyManagerImpl.java:164|found key for : 1 (\r\n  &quot;certificate&quot; : {\r\n    &quot;version&quot;            : &quot;v3&quot;,\r\n    &quot;serial number&quot;      : &quot;00 DC&quot;,\r\n    &quot;signature algorithm&quot;: &quot;SHA256withRSA&quot;,\r\n    &quot;issuer&quot;             : &quot;EMAILADDRESS=sentgeo@itl.waw.pl, CN=SENT GEO ITL ZSL Test Level 1 CA, OU=Zakład Zaawansowanych Technik Informacyjnych (Z-6), O=Instytut Łączności - Państwowy Instytut Badawczy, ST=mazowieckie, C=PL&quot;,\r\n    &quot;not before&quot;         : &quot;2021-03-25 22:48:40.000 CET&quot;,\r\n    &quot;not  after&quot;         : &quot;2022-03-25 22:48:40.000 CET&quot;,\r\n    &quot;subject&quot;            : &quot;EMAILADDRESS=biuro@petrovision.pl, CN=petrovision, OU=IT, O=Petrovision, L=Warsaw, ST=mazovian, C=PL&quot;,\r\n    &quot;subject public key&quot; : &quot;RSA&quot;,\r\n    &quot;extensions&quot;         : [\r\n      {\r\n```\r\n\r\nI guess that this may be due to signature algorithms mismatch - but I appreciate any help with resolving this.  ","title":"Client service doesn&#39;t respond to SSL CertificateRequest","body":"<p>I'm working on a client service which is supposed to connect over SSL,\nI have signed client certificate added into my keystore - but still client service doesn't respond to certificate request:</p>\n<pre><code>javax.net.ssl|DEBUG|36|reactor-http-epoll-4|2021-03-26 01:07:41.641 CET|CertificateRequest.java:672|Consuming CertificateRequest handshake message (\n&quot;CertificateRequest&quot;: {\n  &quot;certificate types&quot;: [rsa_sign, dss_sign, ecdsa_sign]\n  &quot;supported signature algorithms&quot;: [rsa_pkcs1_sha512, dsa_sha512, ecdsa_secp521r1_sha512, rsa_pkcs1_sha384, dsa_sha384, ecdsa_secp384r1_sha384, rsa_pkcs1_sha256, dsa_sha256, ecdsa_secp256r1_sha256, rsa_sha224, dsa_sha224, ecdsa_sha224, rsa_pkcs1_sha1, dsa_sha1, ecdsa_sha1]\n  &quot;certificate authorities&quot;: [EMAILADDRESS=sentgeo@itl.waw.pl, CN=SENT GEO ITL ZSL Test Level 1 CA, OU=Zakład Zaawansowanych Technik Informacyjnych (Z-6), O=Instytut Łączności - Państwowy Instytut Badawczy, ST=mazowieckie, C=PL]\n}\n)\njavax.net.ssl|ALL|36|reactor-http-epoll-4|2021-03-26 01:07:41.641 CET|X509Authentication.java:244|No X.509 cert selected for RSA\njavax.net.ssl|WARNING|36|reactor-http-epoll-4|2021-03-26 01:07:41.641 CET|CertificateRequest.java:765|Unavailable authentication scheme: rsa_pkcs1_sha512\njavax.net.ssl|ALL|36|reactor-http-epoll-4|2021-03-26 01:07:41.641 CET|X509Authentication.java:244|No X.509 cert selected for EC\njavax.net.ssl|WARNING|36|reactor-http-epoll-4|2021-03-26 01:07:41.641 CET|CertificateRequest.java:765|Unavailable authentication scheme: ecdsa_secp521r1_sha512\njavax.net.ssl|ALL|36|reactor-http-epoll-4|2021-03-26 01:07:41.641 CET|X509Authentication.java:244|No X.509 cert selected for RSA\njavax.net.ssl|WARNING|36|reactor-http-epoll-4|2021-03-26 01:07:41.641 CET|CertificateRequest.java:765|Unavailable authentication scheme: rsa_pkcs1_sha384\njavax.net.ssl|ALL|36|reactor-http-epoll-4|2021-03-26 01:07:41.641 CET|X509Authentication.java:244|No X.509 cert selected for EC\njavax.net.ssl|WARNING|36|reactor-http-epoll-4|2021-03-26 01:07:41.641 CET|CertificateRequest.java:765|Unavailable authentication scheme: ecdsa_secp384r1_sha384\njavax.net.ssl|ALL|36|reactor-http-epoll-4|2021-03-26 01:07:41.641 CET|X509Authentication.java:244|No X.509 cert selected for RSA\njavax.net.ssl|WARNING|36|reactor-http-epoll-4|2021-03-26 01:07:41.642 CET|CertificateRequest.java:765|Unavailable authentication scheme: rsa_pkcs1_sha256\njavax.net.ssl|ALL|36|reactor-http-epoll-4|2021-03-26 01:07:41.642 CET|X509Authentication.java:244|No X.509 cert selected for DSA\njavax.net.ssl|WARNING|36|reactor-http-epoll-4|2021-03-26 01:07:41.642 CET|CertificateRequest.java:765|Unavailable authentication scheme: dsa_sha256\njavax.net.ssl|ALL|36|reactor-http-epoll-4|2021-03-26 01:07:41.642 CET|X509Authentication.java:244|No X.509 cert selected for EC\njavax.net.ssl|WARNING|36|reactor-http-epoll-4|2021-03-26 01:07:41.642 CET|CertificateRequest.java:765|Unavailable authentication scheme: ecdsa_secp256r1_sha256\njavax.net.ssl|ALL|36|reactor-http-epoll-4|2021-03-26 01:07:41.642 CET|X509Authentication.java:244|No X.509 cert selected for RSA\njavax.net.ssl|WARNING|36|reactor-http-epoll-4|2021-03-26 01:07:41.642 CET|CertificateRequest.java:765|Unavailable authentication scheme: rsa_sha224\njavax.net.ssl|ALL|36|reactor-http-epoll-4|2021-03-26 01:07:41.642 CET|X509Authentication.java:244|No X.509 cert selected for DSA\njavax.net.ssl|WARNING|36|reactor-http-epoll-4|2021-03-26 01:07:41.642 CET|CertificateRequest.java:765|Unavailable authentication scheme: dsa_sha224\njavax.net.ssl|ALL|36|reactor-http-epoll-4|2021-03-26 01:07:41.642 CET|X509Authentication.java:244|No X.509 cert selected for EC\njavax.net.ssl|WARNING|36|reactor-http-epoll-4|2021-03-26 01:07:41.642 CET|CertificateRequest.java:765|Unavailable authentication scheme: ecdsa_sha224\njavax.net.ssl|ALL|36|reactor-http-epoll-4|2021-03-26 01:07:41.642 CET|X509Authentication.java:244|No X.509 cert selected for RSA\njavax.net.ssl|WARNING|36|reactor-http-epoll-4|2021-03-26 01:07:41.642 CET|CertificateRequest.java:765|Unavailable authentication scheme: rsa_pkcs1_sha1\njavax.net.ssl|ALL|36|reactor-http-epoll-4|2021-03-26 01:07:41.642 CET|X509Authentication.java:244|No X.509 cert selected for DSA\njavax.net.ssl|WARNING|36|reactor-http-epoll-4|2021-03-26 01:07:41.643 CET|CertificateRequest.java:765|Unavailable authentication scheme: dsa_sha1\njavax.net.ssl|ALL|36|reactor-http-epoll-4|2021-03-26 01:07:41.643 CET|X509Authentication.java:244|No X.509 cert selected for EC\njavax.net.ssl|WARNING|36|reactor-http-epoll-4|2021-03-26 01:07:41.643 CET|CertificateRequest.java:765|Unavailable authentication scheme: ecdsa_sha1\njavax.net.ssl|WARNING|36|reactor-http-epoll-4|2021-03-26 01:07:41.643 CET|CertificateRequest.java:775|No available authentication scheme\njavax.net.ssl|DEBUG|36|reactor-http-epoll-4|2021-03-26 01:07:41.643 CET|ServerHelloDone.java:151|Consuming ServerHelloDone handshake message (\n&lt;empty&gt;\n)\njavax.net.ssl|DEBUG|36|reactor-http-epoll-4|2021-03-26 01:07:41.643 CET|CertificateMessage.java:299|No X.509 certificate for client authentication, use empty Certificate message instead\njavax.net.ssl|DEBUG|36|reactor-http-epoll-4|2021-03-26 01:07:41.643 CET|CertificateMessage.java:330|Produced client Certificate handshake message (\n&quot;Certificates&quot;: &lt;empty list&gt;\n) \n</code></pre>\n<p>I have this certificate in the keystore:</p>\n<pre><code>2021-03-26 01:14:20.874  INFO 27499 --- [  restartedMain] o.e.jetty.util.ssl.SslContextFactory     : x509=X509@65f5014e(1,h=[],w=[]) for Server@4a177306[provider=null,keyStore=file:///home/pkopania/IdeaProjects/kasgateway/target/classes/petrovision-keystore.jks,trustStore=null]\njavax.net.ssl|DEBUG|11|restartedMain|2021-03-26 01:14:20.986 CET|SunX509KeyManagerImpl.java:164|found key for : 1 (\n  &quot;certificate&quot; : {\n    &quot;version&quot;            : &quot;v3&quot;,\n    &quot;serial number&quot;      : &quot;00 DC&quot;,\n    &quot;signature algorithm&quot;: &quot;SHA256withRSA&quot;,\n    &quot;issuer&quot;             : &quot;EMAILADDRESS=sentgeo@itl.waw.pl, CN=SENT GEO ITL ZSL Test Level 1 CA, OU=Zakład Zaawansowanych Technik Informacyjnych (Z-6), O=Instytut Łączności - Państwowy Instytut Badawczy, ST=mazowieckie, C=PL&quot;,\n    &quot;not before&quot;         : &quot;2021-03-25 22:48:40.000 CET&quot;,\n    &quot;not  after&quot;         : &quot;2022-03-25 22:48:40.000 CET&quot;,\n    &quot;subject&quot;            : &quot;EMAILADDRESS=biuro@petrovision.pl, CN=petrovision, OU=IT, O=Petrovision, L=Warsaw, ST=mazovian, C=PL&quot;,\n    &quot;subject public key&quot; : &quot;RSA&quot;,\n    &quot;extensions&quot;         : [\n      {\n</code></pre>\n<p>I guess that this may be due to signature algorithms mismatch - but I appreciate any help with resolving this.</p>\n"},{"tags":["java","list","jpa","entities"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1672883095,"post_id":75013063,"comment_id":132375612,"body_markdown":"&quot;*But it is not working. It always say it needs a int.*&quot; - Please [edit] the post and add the compiler error / stack trace.","body":"&quot;<i>But it is not working. It always say it needs a int.</i>&quot; - Please <a href=\"https://stackoverflow.com/posts/75013063/edit\">edit</a> the post and add the compiler error / stack trace."},{"owner":{"account_id":4354234,"reputation":845,"user_id":3553434,"display_name":"alalalala"},"score":0,"creation_date":1672883441,"post_id":75013063,"comment_id":132375665,"body_markdown":"Chatgpt&#39;s answer can only be used as a reference, most of the code related is wrong","body":"Chatgpt&#39;s answer can only be used as a reference, most of the code related is wrong"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1672883610,"post_id":75013063,"comment_id":132375684,"body_markdown":"@时间只会一直走 This answer is spring-specific since it uses `SimpleJdbcTemplate`. OP uses &quot;pure&quot; JPA.","body":"@时间只会一直走 This answer is spring-specific since it uses <code>SimpleJdbcTemplate</code>. OP uses &quot;pure&quot; JPA."},{"owner":{"account_id":26662973,"reputation":17,"user_id":20275517,"display_name":"eliasRagel"},"score":0,"creation_date":1672883784,"post_id":75013063,"comment_id":132375708,"body_markdown":"Thanks. The solution is to replace this: (:list) with :list. Now it is functioning.","body":"Thanks. The solution is to replace this: (:list) with :list. Now it is functioning."}],"owner":{"account_id":26662973,"reputation":17,"user_id":20275517,"display_name":"eliasRagel"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1672884008,"answer_count":0,"score":0,"last_activity_date":1672883950,"creation_date":1672882960,"question_id":75013063,"body_markdown":"\r\nI got this code with a little help from chattgpt. But it is not working. It always say it needs a int:\r\n\r\nException in thread &quot;main&quot; java.lang.IllegalArgumentException: You have attempted to set a value of type class java.util.Arrays$ArrayList for parameter list with expected type of int from query string SELECT s.studygroupid FROM SubjectStudyGroup s WHERE s.subjectid IN (:list).\r\n\tat org.eclipse.persistence.internal.jpa.QueryImpl.setParameterInternal(QueryImpl.java:946)\r\n\tat org.eclipse.persistence.internal.jpa.EJBQueryImpl.setParameter(EJBQueryImpl.java:609)\r\n\tat org.eclipse.persistence.internal.jpa.EJBQueryImpl.setParameter(EJBQueryImpl.java:69)\r\n\tat Testen.Testen.main(Testen.java:27)\r\n\r\nCan you explain why it does not take the list-paramter or how he will accept the parameter.  \r\n\r\n      private static EntityManager em = null;\r\n      private static EntityManagerFactory emf = null;\r\n\r\n    public static void main(String[] args) throws SQLException, ClassNotFoundException {\r\n        open();\r\n        List&lt;Integer&gt; subjectIds = Arrays.asList(1, 2, 3);\r\n        Query query = em.createQuery(&quot;SELECT s.studygroupid FROM SubjectStudyGroup s WHERE s.subjectid IN (:list)&quot;);\r\n        query.setParameter(&quot;list&quot;, subjectIds);\r\n        List&lt;Integer&gt; studyGroupIds = query.getResultList();\r\n        close();\r\n\r\n    }\r\n\r\n    private static void open()\r\n    {\r\n        emf = Persistence.createEntityManagerFactory(&quot;PU&quot;);\r\n        em = emf.createEntityManager();\r\n    }\r\n\r\n    private static void close()\r\n    {\r\n        if(em != null)\r\n        {\r\n            em.close();\r\n            em = null;\r\n        }\r\n\r\n        if(emf != null)\r\n        {\r\n            emf.close();\r\n            em = null;\r\n        }\r\n    }","title":"How can you set a list as a query paramter?","body":"<p>I got this code with a little help from chattgpt. But it is not working. It always say it needs a int:</p>\n<p>Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: You have attempted to set a value of type class java.util.Arrays$ArrayList for parameter list with expected type of int from query string SELECT s.studygroupid FROM SubjectStudyGroup s WHERE s.subjectid IN (:list).\nat org.eclipse.persistence.internal.jpa.QueryImpl.setParameterInternal(QueryImpl.java:946)\nat org.eclipse.persistence.internal.jpa.EJBQueryImpl.setParameter(EJBQueryImpl.java:609)\nat org.eclipse.persistence.internal.jpa.EJBQueryImpl.setParameter(EJBQueryImpl.java:69)\nat Testen.Testen.main(Testen.java:27)</p>\n<p>Can you explain why it does not take the list-paramter or how he will accept the parameter.</p>\n<pre><code>  private static EntityManager em = null;\n  private static EntityManagerFactory emf = null;\n\npublic static void main(String[] args) throws SQLException, ClassNotFoundException {\n    open();\n    List&lt;Integer&gt; subjectIds = Arrays.asList(1, 2, 3);\n    Query query = em.createQuery(&quot;SELECT s.studygroupid FROM SubjectStudyGroup s WHERE s.subjectid IN (:list)&quot;);\n    query.setParameter(&quot;list&quot;, subjectIds);\n    List&lt;Integer&gt; studyGroupIds = query.getResultList();\n    close();\n\n}\n\nprivate static void open()\n{\n    emf = Persistence.createEntityManagerFactory(&quot;PU&quot;);\n    em = emf.createEntityManager();\n}\n\nprivate static void close()\n{\n    if(em != null)\n    {\n        em.close();\n        em = null;\n    }\n\n    if(emf != null)\n    {\n        emf.close();\n        em = null;\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-security","jwt"],"owner":{"account_id":27436594,"reputation":1,"user_id":20932314,"display_name":"abner santos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672883565,"creation_date":1672883565,"question_id":75013119,"body_markdown":"I&#39;m new to java, I have a project to practice/train and when trying to make an authentication method with SpringBoot and JWT I&#39;m not succeeding, currently it doesn&#39;t even let the project go up, it gives the error below: \r\n\r\n\r\n```\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nField authenticationManager in com.luan.config.SecurityConfig required a bean of type &#39;org.springframework.security.authentication.AuthenticationManager&#39; that could not be found.\r\n\r\nThe injection point has the following annotations:\r\n\t- @org.springframework.beans.factory.annotation.Autowired(required=true)\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;org.springframework.security.authentication.AuthenticationManager&#39; in your configuration.\r\n```\r\n\r\n\r\nI&#39;m using version 6.0.1 of Spring Security and version 0.9.1 of JWT according to the pom.xml below:\r\n\r\n \t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jjwt&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.9.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nThe class that I suspect to be in error is the one below: \r\n\r\n\r\n```\r\n@EnableWebSecurity\r\n@Configuration\r\npublic class SecurityConfig {\t\t\r\n\t\r\n\t@Autowired\r\n\tprivate JWTUtil jwtUtil;\r\n\t\r\n\t@Autowired\r\n\tprivate AuthenticationManager authenticationManager;\r\n\t\r\n\t@Autowired\r\n\tprivate UserDetailsService userDetailsService;\r\n\r\n\t@Bean\r\n\tpublic SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\t\t\r\n\t\t\r\n\t\thttp.addFilter(new JWTAuthenticationFilter(authenticationManager, jwtUtil));\r\n\t\t\r\n\t\t\r\n\t\thttp.httpBasic().and().authorizeHttpRequests()\r\n\t\t\r\n\t\t.requestMatchers(HttpMethod.POST, &quot;/postsblog/**&quot;).permitAll()\t\t\r\n\t\t.requestMatchers(HttpMethod.GET).permitAll()\t\t\r\n\t\t.requestMatchers(HttpMethod.DELETE).hasRole(&quot;ADMIN&quot;)\r\n\t\t.requestMatchers(HttpMethod.PUT).permitAll()\t\t\t\t\r\n\t\t.anyRequest().authenticated()\r\n\t\t.and().csrf().disable()\r\n\t\t.cors().disable();\r\n\t\treturn http.build();\r\n\t}\t\r\n\r\n\tpublic void addCorsMappings(CorsRegistry registry) {\r\n\t\tregistry.addMapping(&quot;/**&quot;).allowedOrigins(&quot;*&quot;).allowedHeaders(&quot;*&quot;).allowedMethods(&quot;*&quot;).exposedHeaders(&quot;*&quot;);\r\n\t}\t\r\n\r\n\t@Bean\r\n\tpublic PasswordEncoder passwordEncoder() {\r\n\t\treturn new BCryptPasswordEncoder();\r\n\t\t}\r\n\t\r\n\t@Bean(name = &quot;authenticationManager&quot;)\r\n\tprotected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n\t\tauth.userDetailsService(userDetailsService).passwordEncoder(passwordEncoder());\r\n\t}\r\n\t\t\r\n}\r\n```\r\nMore specifically, I believe it&#39;s a problem with the last method, the AuthenticationManagerBuilder, I&#39;ve tried to solve it in some ways and I couldn&#39;t, searching the internet I only found content with old Spring Security extending the WebSecurityConfigAdapter.\r\n\r\n\r\n\r\n\r\nIf anyone can help, thanks in advance.","title":"Authentication with Spring Security and JWT token","body":"<p>I'm new to java, I have a project to practice/train and when trying to make an authentication method with SpringBoot and JWT I'm not succeeding, currently it doesn't even let the project go up, it gives the error below:</p>\n<pre><code>APPLICATION FAILED TO START\n***************************\n\nDescription:\n\nField authenticationManager in com.luan.config.SecurityConfig required a bean of type 'org.springframework.security.authentication.AuthenticationManager' that could not be found.\n\nThe injection point has the following annotations:\n    - @org.springframework.beans.factory.annotation.Autowired(required=true)\n\n\nAction:\n\nConsider defining a bean of type 'org.springframework.security.authentication.AuthenticationManager' in your configuration.\n</code></pre>\n<p>I'm using version 6.0.1 of Spring Security and version 0.9.1 of JWT according to the pom.xml below:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n        &lt;artifactId&gt;jjwt&lt;/artifactId&gt;\n        &lt;version&gt;0.9.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>The class that I suspect to be in error is the one below:</p>\n<pre><code>@EnableWebSecurity\n@Configuration\npublic class SecurityConfig {       \n    \n    @Autowired\n    private JWTUtil jwtUtil;\n    \n    @Autowired\n    private AuthenticationManager authenticationManager;\n    \n    @Autowired\n    private UserDetailsService userDetailsService;\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {        \n        \n        http.addFilter(new JWTAuthenticationFilter(authenticationManager, jwtUtil));\n        \n        \n        http.httpBasic().and().authorizeHttpRequests()\n        \n        .requestMatchers(HttpMethod.POST, &quot;/postsblog/**&quot;).permitAll()      \n        .requestMatchers(HttpMethod.GET).permitAll()        \n        .requestMatchers(HttpMethod.DELETE).hasRole(&quot;ADMIN&quot;)\n        .requestMatchers(HttpMethod.PUT).permitAll()                \n        .anyRequest().authenticated()\n        .and().csrf().disable()\n        .cors().disable();\n        return http.build();\n    }   \n\n    public void addCorsMappings(CorsRegistry registry) {\n        registry.addMapping(&quot;/**&quot;).allowedOrigins(&quot;*&quot;).allowedHeaders(&quot;*&quot;).allowedMethods(&quot;*&quot;).exposedHeaders(&quot;*&quot;);\n    }   \n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n        }\n    \n    @Bean(name = &quot;authenticationManager&quot;)\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.userDetailsService(userDetailsService).passwordEncoder(passwordEncoder());\n    }\n        \n}\n</code></pre>\n<p>More specifically, I believe it's a problem with the last method, the AuthenticationManagerBuilder, I've tried to solve it in some ways and I couldn't, searching the internet I only found content with old Spring Security extending the WebSecurityConfigAdapter.</p>\n<p>If anyone can help, thanks in advance.</p>\n"},{"tags":["java","android","facebook","authentication","androidx"],"owner":{"account_id":19784273,"reputation":21,"user_id":14488619,"display_name":"Mac Fly"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672883435,"creation_date":1672867781,"question_id":75011540,"body_markdown":"The Facebook guide still shows Overridden `onActivityResult` method, which is deprecated now. This method is not working for me as after the login this method is not overridden and the app just goes back to the login page.\r\n\r\nFacebook mentions that if I&#39;m using AndroidX, then there&#39;s no need to override this method but I couldn&#39;t find any useful articles/documentation on how to do go about implementing this. Yes, I know there are many questions about this, but none of them have a working answer.\r\n\r\nI tried the method with `LogicButton` class and `LoginManager` class but it seems like these are old methods of doing this as these are not even present in latest SDK release.","title":"What is the actual proper new way of implementing the Facebook login in an Android app in Java?","body":"<p>The Facebook guide still shows Overridden <code>onActivityResult</code> method, which is deprecated now. This method is not working for me as after the login this method is not overridden and the app just goes back to the login page.</p>\n<p>Facebook mentions that if I'm using AndroidX, then there's no need to override this method but I couldn't find any useful articles/documentation on how to do go about implementing this. Yes, I know there are many questions about this, but none of them have a working answer.</p>\n<p>I tried the method with <code>LogicButton</code> class and <code>LoginManager</code> class but it seems like these are old methods of doing this as these are not even present in latest SDK release.</p>\n"},{"tags":["java","javafx","controller","nullpointerexception"],"comments":[{"owner":{"account_id":27436498,"reputation":1,"user_id":20932240,"display_name":"Naeem Ahmad"},"score":0,"creation_date":1672890626,"post_id":75012971,"comment_id":132376677,"body_markdown":"@kloeopatra i am unsure of what you mean, do u mean in code?","body":"@kloeopatra i am unsure of what you mean, do u mean in code?"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1672896940,"post_id":75012971,"comment_id":132377631,"body_markdown":"For example: Method names use `camelCase` (e.g., `hobby_display` should be `hobbyDisplay`). Using camel case for methods is part of the _standard_ Java naming conventions. They don&#39;t affect the behavior of your code (at least not in this case) but using widely accepted standards when posting on a public forum aids readability.","body":"For example: Method names use <code>camelCase</code> (e.g., <code>hobby_display</code> should be <code>hobbyDisplay</code>). Using camel case for methods is part of the <i>standard</i> Java naming conventions. They don&#39;t affect the behavior of your code (at least not in this case) but using widely accepted standards when posting on a public forum aids readability."},{"owner":{"account_id":27436498,"reputation":1,"user_id":20932240,"display_name":"Naeem Ahmad"},"score":0,"creation_date":1672900850,"post_id":75012971,"comment_id":132378258,"body_markdown":"@Slaw Oh, i am sorry. I didn&#39;t know of that. I will be mindful to follow a standard convention from next time.","body":"@Slaw Oh, i am sorry. I didn&#39;t know of that. I will be mindful to follow a standard convention from next time."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1672901398,"post_id":75012971,"comment_id":132378382,"body_markdown":"Check out https://www.javatpoint.com/java-naming-conventions","body":"Check out <a href=\"https://www.javatpoint.com/java-naming-conventions\" rel=\"nofollow noreferrer\">javatpoint.com/java-naming-conventions</a>"}],"answers":[{"tags":[],"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1672882879,"creation_date":1672882520,"answer_id":75013036,"question_id":75012971,"body_markdown":"The problem is here:\r\n\r\n&gt;```lang-java\r\n&gt;@FXML ToggleButton[] toggles={mon,tue,wed,thu,fri,sat,sun}\r\n&gt;```\r\n\r\nThis is executed when the controller is being _instantiated_, which occurs before the FXML fields are injected. In other words, at the time this line of code is executed, `mon`, `tue`, `wed`, `thu`, `fri`, `sat`, and `sun` are all `null`.\r\n\r\nOne solution is to create the array in the `initialize` method:\r\n\r\n```lang-java\r\n\r\n// ...\r\n\r\nprivate ToggleButton[] toggles; // no @FXML necessary, as it&#39;s not being injected\r\n\r\n// ...\r\n\r\n@Override\r\npublic void initialize(URL url, ResourceBundle resourceBundle) {\r\n    // the FXML-injected fields are injected by the time this method is called\r\n    toggles = new ToggleButton[]{mon, tue, wed, thu, fri, sat, sun};\r\n}\r\n\r\n// ...\r\n```\r\n\r\nIf you want to try defining the array in FXML and injecting it, look into `fx:define` and `fx:reference` (see [Introduction to FXML][2]). Though you may have to change to a list implementation rather than an array; I&#39;m not sure if FXML is capable of creating arrays.\r\n\r\n---\r\n\r\nNote on design: Your `Hobby` class looks to be a model class. The model should not know about the view. Having `Hobby` responsible for setting the content and properties of various UI nodes is not ideal. That is the controller&#39;s job. Also, given you&#39;re dealing with days of the week, you might want to look into using the `java.time` API (e.g., [DayOfWeek][1]).\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/time/DayOfWeek.html\r\n  [2]: https://openjfx.io/javadoc/19/javafx.fxml/javafx/fxml/doc-files/introduction_to_fxml.html","title":"FXMLLoader.getController() doesn&#39;t return null, but the components inside it remain null","body":"<p>The problem is here:</p>\n<blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>@FXML ToggleButton[] toggles={mon,tue,wed,thu,fri,sat,sun}\n</code></pre>\n</blockquote>\n<p>This is executed when the controller is being <em>instantiated</em>, which occurs before the FXML fields are injected. In other words, at the time this line of code is executed, <code>mon</code>, <code>tue</code>, <code>wed</code>, <code>thu</code>, <code>fri</code>, <code>sat</code>, and <code>sun</code> are all <code>null</code>.</p>\n<p>One solution is to create the array in the <code>initialize</code> method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n// ...\n\nprivate ToggleButton[] toggles; // no @FXML necessary, as it's not being injected\n\n// ...\n\n@Override\npublic void initialize(URL url, ResourceBundle resourceBundle) {\n    // the FXML-injected fields are injected by the time this method is called\n    toggles = new ToggleButton[]{mon, tue, wed, thu, fri, sat, sun};\n}\n\n// ...\n</code></pre>\n<p>If you want to try defining the array in FXML and injecting it, look into <code>fx:define</code> and <code>fx:reference</code> (see <a href=\"https://openjfx.io/javadoc/19/javafx.fxml/javafx/fxml/doc-files/introduction_to_fxml.html\" rel=\"nofollow noreferrer\">Introduction to FXML</a>). Though you may have to change to a list implementation rather than an array; I'm not sure if FXML is capable of creating arrays.</p>\n<hr />\n<p>Note on design: Your <code>Hobby</code> class looks to be a model class. The model should not know about the view. Having <code>Hobby</code> responsible for setting the content and properties of various UI nodes is not ideal. That is the controller's job. Also, given you're dealing with days of the week, you might want to look into using the <code>java.time</code> API (e.g., <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/time/DayOfWeek.html\" rel=\"nofollow noreferrer\">DayOfWeek</a>).</p>\n"}],"owner":{"account_id":27436498,"reputation":1,"user_id":20932240,"display_name":"Naeem Ahmad"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1672884410,"accepted_answer_id":75013036,"answer_count":1,"score":-1,"last_activity_date":1672882879,"creation_date":1672881552,"question_id":75012971,"body_markdown":"So I have a school project, I am creating a small personal tracker. I am dynamically adding tasks and hobbies to a FlowPane inside of a GridPane in an FXML file, which is being loaded as the center element of a BorderPane in an another FXML file. \r\n\r\n\r\n```\r\n   private void hobbies() throws IOException {\r\n        Node[] taskview= new Node[GodHands.hobby.size()];\r\n        for(int i=0;i&lt;GodHands.hobby.size();i++){\r\n\r\n            FXMLLoader loader=new FXMLLoader(getClass().getResource(&quot;/hobbies.fxml&quot;));\r\n            taskview[i]=loader.load();\r\n            System.out.println(loader.getController()==null);\r\n            GodHands.hobbycontroller.add(loader.getController());\r\n            GodHands.hobbycontroller.get(i).update(GodHands.hobby.get(i));\r\n            hobbysection.getChildren().add(taskview[i]);\r\n        }\r\n    }\r\n```\r\n\r\n\r\nThis is the code for adding the hobbies to the Flowpane. I am then trying to apply the data to the nodes inside of the FXML file through the loop. The controller even though is not null, the radio buttons are always null and I think I am missing something to the controller&#39;s working.\r\n\r\nThis is the code for the Controller Class of Hobbies: \r\n\r\n\r\n```\r\n`public class HobbyController implements Initializable {\r\n\r\n    @FXML private Label name; @FXML private Label often; @FXML private ProgressIndicator progress;\r\n    @FXML private ToggleButton mon; @FXML private ToggleButton tue;  \r\n    @FXML private ToggleButton wed; @FXML private ToggleButton thu;\r\n    @FXML private ToggleButton fri; @FXML private ToggleButton sat; @FXML private ToggleButton sun;\r\n\r\n    @FXML ToggleButton[] toggles={mon,tue,wed,thu,fri,sat,sun};\r\n\r\n\r\n    public void update(Hobby hobby) {\r\n        System.out.println(toggles[0]=null);\r\n        hobby.hobby_display(name, often, toggles, progress);\r\n\r\n    }\r\n\r\n\r\n    @Override\r\n    public void initialize(URL url, ResourceBundle resourceBundle) {}\r\n\r\n}\r\n\r\n```\r\n\r\nThis is the hobby class which the controller refers to:\r\n\r\n\r\n```\r\npublic class Hobby{\r\n\r\n    public String name; public String often; public int[] days; public int[] progress = new int[2];\r\n\r\n    public Hobby(){}\r\n\r\n    public Hobby(String name, String often, int[] days){\r\n        this.name=name;\r\n        this.often = often;\r\n        this.days = days;\r\n    }\r\n\r\n    public void add_new_hobby(String name, String oftenbox, int[] days) {\r\n        this.name= name; this.often =oftenbox; this.days=days;\r\n        GodHands.hobby.add(this);\r\n    }\r\n\r\n    public void hobby_display(Label name, Label often, ToggleButton[] toggles, ProgressIndicator progress){\r\n        name.setText(this.name);\r\n        often.setText(this.often);\r\n        often.setAlignment(Pos.CENTER);\r\n        this.progress[1]=7;\r\n        int i=0;\r\n        for(ToggleButton TB: toggles){\r\n            button_state(TB, this.days[i]);\r\n            i+=1;\r\n        }\r\n        progress.setProgress((double) this.progress[0]/this.progress[1]);\r\n        action_setter(toggles, progress);\r\n    }\r\n\r\n\r\n    private void button_state(ToggleButton a, int i){\r\n        if(i==0){\r\n            a.setDisable(true);\r\n            a.setOpacity(0.5);\r\n            this.progress[1] -=1;}\r\n        if(i==2){\r\n            a.setSelected(true);\r\n            a.setDisable(true);\r\n            a.setOpacity(1);\r\n        }\r\n    }\r\n\r\n    public void action_setter(ToggleButton[] toggles, ProgressIndicator progress){\r\n        int i=0;\r\n        for(ToggleButton TB: toggles){\r\n            int index = i;\r\n            TB.setOnAction(actionEvent -&gt; { button_pressed(TB, progress, index);});\r\n            i+=1;\r\n        }\r\n    }\r\n\r\n    private void button_pressed(ToggleButton a, ProgressIndicator progress, int index){\r\n        a.setDisable(true);\r\n        a.setOpacity(1);\r\n        this.progress[0]+=1;\r\n        this.days[index]=2;\r\n        progress.setProgress((double) this.progress[0]/this.progress[1]);\r\n    }\r\n}\r\n```\r\n\r\nFXML File:\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;?import javafx.geometry.Insets?&gt;\r\n&lt;?import javafx.scene.control.Label?&gt;\r\n&lt;?import javafx.scene.control.ProgressIndicator?&gt;\r\n&lt;?import javafx.scene.control.ToggleButton?&gt;\r\n&lt;?import javafx.scene.image.Image?&gt;\r\n&lt;?import javafx.scene.image.ImageView?&gt;\r\n&lt;?import javafx.scene.layout.HBox?&gt;\r\n&lt;?import javafx.scene.layout.Pane?&gt;\r\n&lt;?import javafx.scene.layout.VBox?&gt;\r\n&lt;?import javafx.scene.paint.Color?&gt;\r\n&lt;?import javafx.scene.paint.LinearGradient?&gt;\r\n&lt;?import javafx.scene.paint.Stop?&gt;\r\n&lt;?import javafx.scene.shape.Line?&gt;\r\n&lt;?import javafx.scene.shape.Rectangle?&gt;\r\n&lt;?import javafx.scene.text.Font?&gt;\r\n\r\n&lt;VBox maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;66.0&quot; prefWidth=&quot;515.0&quot; spacing=&quot;20.0&quot; style=&quot;-fx-background-color: #19B89B; -fx-background-radius: 20; -fx-border-color: white; -fx-border-radius: 20;&quot; xmlns=&quot;http://javafx.com/javafx/19&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;Project.HobbyController&quot;&gt;\r\n   &lt;children&gt;\r\n      &lt;Pane prefHeight=&quot;65.0&quot; prefWidth=&quot;531.0&quot;&gt;\r\n         &lt;children&gt;\r\n            &lt;Rectangle arcHeight=&quot;5.0&quot; arcWidth=&quot;5.0&quot; height=&quot;65.0&quot; layoutX=&quot;-1.0&quot; layoutY=&quot;-1.0&quot; stroke=&quot;WHITE&quot; strokeType=&quot;INSIDE&quot; style=&quot;-fx-arc-height: 40; -fx-arc-width: 40;&quot; width=&quot;515.0&quot;&gt;\r\n               &lt;fill&gt;\r\n                  &lt;LinearGradient endX=&quot;1.0&quot; endY=&quot;1.0&quot; startX=&quot;0.03546099290780142&quot; startY=&quot;0.08983451536643026&quot;&gt;\r\n                     &lt;stops&gt;\r\n                        &lt;Stop&gt;\r\n                           &lt;color&gt;\r\n                              &lt;Color red=&quot;0.4470588266849518&quot; green=&quot;0.2705882489681244&quot; blue=&quot;0.929411768913269&quot; /&gt;\r\n                           &lt;/color&gt;\r\n                        &lt;/Stop&gt;\r\n                        &lt;Stop offset=&quot;1.0&quot;&gt;\r\n                           &lt;color&gt;\r\n                              &lt;Color red=&quot;0.7904239892959595&quot; green=&quot;0.28344297409057617&quot; blue=&quot;0.8684210777282715&quot; /&gt;\r\n                           &lt;/color&gt;\r\n                        &lt;/Stop&gt;\r\n                     &lt;/stops&gt;\r\n                  &lt;/LinearGradient&gt;\r\n               &lt;/fill&gt;\r\n            &lt;/Rectangle&gt;\r\n            &lt;ImageView fitHeight=&quot;24.0&quot; fitWidth=&quot;26.0&quot; layoutX=&quot;14.0&quot; layoutY=&quot;3.0&quot; pickOnBounds=&quot;true&quot; preserveRatio=&quot;true&quot;&gt;\r\n               &lt;image&gt;\r\n                  &lt;Image url=&quot;@icons/about.png&quot; /&gt;\r\n               &lt;/image&gt;\r\n            &lt;/ImageView&gt;\r\n            &lt;Label fx:id=&quot;name&quot; layoutX=&quot;49.0&quot; layoutY=&quot;7.0&quot; prefHeight=&quot;16.0&quot; prefWidth=&quot;157.0&quot; text=&quot;Studying&quot; textFill=&quot;WHITE&quot;&gt;\r\n               &lt;font&gt;\r\n                  &lt;Font name=&quot;Arial&quot; size=&quot;14.0&quot; /&gt;\r\n               &lt;/font&gt;\r\n            &lt;/Label&gt;\r\n            &lt;Line endX=&quot;100.0&quot; endY=&quot;13.0&quot; layoutX=&quot;-57.0&quot; layoutY=&quot;25.0&quot; startX=&quot;100.0&quot; startY=&quot;-20.0&quot; stroke=&quot;WHITE&quot; /&gt;\r\n            &lt;Label fx:id=&quot;often&quot; layoutX=&quot;49.0&quot; layoutY=&quot;28.0&quot; prefHeight=&quot;14.0&quot; prefWidth=&quot;58.0&quot; style=&quot;-fx-border-color: white; -fx-border-radius: 15; -fx-background-color: #3A545A;&quot; text=&quot; Everyday&quot; textFill=&quot;WHITE&quot;&gt;\r\n               &lt;font&gt;\r\n                  &lt;Font name=&quot;Arial&quot; size=&quot;7.0&quot; /&gt;\r\n               &lt;/font&gt;\r\n            &lt;/Label&gt;\r\n            &lt;ProgressIndicator fx:id=&quot;progress&quot; layoutX=&quot;477.0&quot; layoutY=&quot;15.0&quot; mouseTransparent=&quot;true&quot; prefHeight=&quot;57.0&quot; prefWidth=&quot;27.0&quot; progress=&quot;0.0&quot; style=&quot;-fx-background-color: transparent;&quot; stylesheets=&quot;@pi.css&quot; /&gt;\r\n         &lt;/children&gt;\r\n      &lt;/Pane&gt;\r\n      &lt;HBox prefHeight=&quot;100.0&quot; prefWidth=&quot;386.0&quot; spacing=&quot;5.0&quot;&gt;\r\n         &lt;children&gt;\r\n            &lt;ToggleButton fx:id=&quot;mon&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;33.0&quot; stylesheets=&quot;@button%20-%20Copy%20-%20Copy.css&quot; text=&quot;M&quot;&gt;\r\n               &lt;font&gt;\r\n                  &lt;Font name=&quot;Arial Bold&quot; size=&quot;10.0&quot; /&gt;\r\n               &lt;/font&gt;\r\n               &lt;HBox.margin&gt;\r\n                  &lt;Insets left=&quot;130.0&quot; top=&quot;10.0&quot; /&gt;\r\n               &lt;/HBox.margin&gt;\r\n            &lt;/ToggleButton&gt;\r\n            &lt;ToggleButton fx:id=&quot;tue&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;33.0&quot; stylesheets=&quot;@button%20-%20Copy%20-%20Copy.css&quot; text=&quot;Tu&quot;&gt;\r\n               &lt;font&gt;\r\n                  &lt;Font name=&quot;Arial Bold&quot; size=&quot;10.0&quot; /&gt;\r\n               &lt;/font&gt;\r\n               &lt;HBox.margin&gt;\r\n                  &lt;Insets top=&quot;10.0&quot; /&gt;\r\n               &lt;/HBox.margin&gt;\r\n            &lt;/ToggleButton&gt;\r\n            &lt;ToggleButton fx:id=&quot;wed&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;36.0&quot; stylesheets=&quot;@button%20-%20Copy%20-%20Copy.css&quot; text=&quot;We&quot;&gt;\r\n               &lt;font&gt;\r\n                  &lt;Font name=&quot;Arial Bold&quot; size=&quot;10.0&quot; /&gt;\r\n               &lt;/font&gt;\r\n               &lt;HBox.margin&gt;\r\n                  &lt;Insets top=&quot;10.0&quot; /&gt;\r\n               &lt;/HBox.margin&gt;\r\n            &lt;/ToggleButton&gt;\r\n            &lt;ToggleButton fx:id=&quot;thu&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;33.0&quot; stylesheets=&quot;@button%20-%20Copy%20-%20Copy.css&quot; text=&quot;Th&quot;&gt;\r\n               &lt;font&gt;\r\n                  &lt;Font name=&quot;Arial Bold&quot; size=&quot;10.0&quot; /&gt;\r\n               &lt;/font&gt;\r\n               &lt;HBox.margin&gt;\r\n                  &lt;Insets top=&quot;10.0&quot; /&gt;\r\n               &lt;/HBox.margin&gt;\r\n            &lt;/ToggleButton&gt;\r\n            &lt;ToggleButton fx:id=&quot;fri&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;33.0&quot; stylesheets=&quot;@button%20-%20Copy%20-%20Copy.css&quot; text=&quot;Fr&quot;&gt;\r\n               &lt;font&gt;\r\n                  &lt;Font name=&quot;Arial Bold&quot; size=&quot;10.0&quot; /&gt;\r\n               &lt;/font&gt;\r\n               &lt;HBox.margin&gt;\r\n                  &lt;Insets top=&quot;10.0&quot; /&gt;\r\n               &lt;/HBox.margin&gt;\r\n            &lt;/ToggleButton&gt;\r\n            &lt;ToggleButton fx:id=&quot;sat&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;33.0&quot; stylesheets=&quot;@button%20-%20Copy%20-%20Copy.css&quot; text=&quot;Sa&quot;&gt;\r\n               &lt;font&gt;\r\n                  &lt;Font name=&quot;Arial Bold&quot; size=&quot;10.0&quot; /&gt;\r\n               &lt;/font&gt;\r\n               &lt;HBox.margin&gt;\r\n                  &lt;Insets top=&quot;10.0&quot; /&gt;\r\n               &lt;/HBox.margin&gt;\r\n            &lt;/ToggleButton&gt;\r\n            &lt;ToggleButton fx:id=&quot;sun&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;33.0&quot; stylesheets=&quot;@button%20-%20Copy%20-%20Copy.css&quot; text=&quot;Su&quot;&gt;\r\n               &lt;font&gt;\r\n                  &lt;Font name=&quot;Arial Bold&quot; size=&quot;10.0&quot; /&gt;\r\n               &lt;/font&gt;\r\n               &lt;HBox.margin&gt;\r\n                  &lt;Insets top=&quot;10.0&quot; /&gt;\r\n               &lt;/HBox.margin&gt;\r\n            &lt;/ToggleButton&gt;\r\n         &lt;/children&gt;\r\n         &lt;VBox.margin&gt;\r\n            &lt;Insets left=&quot;65.0&quot; /&gt;\r\n         &lt;/VBox.margin&gt;\r\n      &lt;/HBox&gt;\r\n   &lt;/children&gt;\r\n&lt;/VBox&gt;\r\n\r\n```\r\n\r\n\r\nThis is the error:\r\n\r\n\r\n```\r\nfalse\r\nnull\r\nException in thread &quot;JavaFX Application Thread&quot; java.lang.RuntimeException: com.example.personalmanagementsystem/Project.Internal.switchers.dashboard(switchers.java:52)\r\n\tat com.example.personalmanagementsystem/Project.DashboardController.dashboard(DashboardController.java:29)\r\n\t... 57 more\r\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;javafx.scene.control.ToggleButton.setDisable(boolean)&quot; because &quot;a&quot; is null\r\n\tat com.example.personalmanagementsystem/Project.Internal.Hobby.button_state(Hobby.java:44)\r\n\tat com.example.personalmanagementsystem/Project.Internal.Hobby.hobby_display(Hobby.java:34)\r\n\tat com.example.personalmanagementsystem/Project.HobbyController.update(HobbyController.java:23)\r\n\tat com.example.personalmanagementsystem/Project.DashboardContentController.hobbies(DashboardContentController.java:86)\r\n\tat com.example.personalmanagementsystem/Project.DashboardContentController.initialize(DashboardContentController.java:31)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2655)\r\n\t... 61 more\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\nI haven&#39;t yet found any solutions. Please provide some insight as to why this is happening. I am still new to FX and programming as a whole. Thank you.","title":"FXMLLoader.getController() doesn&#39;t return null, but the components inside it remain null","body":"<p>So I have a school project, I am creating a small personal tracker. I am dynamically adding tasks and hobbies to a FlowPane inside of a GridPane in an FXML file, which is being loaded as the center element of a BorderPane in an another FXML file.</p>\n<pre><code>   private void hobbies() throws IOException {\n        Node[] taskview= new Node[GodHands.hobby.size()];\n        for(int i=0;i&lt;GodHands.hobby.size();i++){\n\n            FXMLLoader loader=new FXMLLoader(getClass().getResource(&quot;/hobbies.fxml&quot;));\n            taskview[i]=loader.load();\n            System.out.println(loader.getController()==null);\n            GodHands.hobbycontroller.add(loader.getController());\n            GodHands.hobbycontroller.get(i).update(GodHands.hobby.get(i));\n            hobbysection.getChildren().add(taskview[i]);\n        }\n    }\n</code></pre>\n<p>This is the code for adding the hobbies to the Flowpane. I am then trying to apply the data to the nodes inside of the FXML file through the loop. The controller even though is not null, the radio buttons are always null and I think I am missing something to the controller's working.</p>\n<p>This is the code for the Controller Class of Hobbies:</p>\n<pre><code>`public class HobbyController implements Initializable {\n\n    @FXML private Label name; @FXML private Label often; @FXML private ProgressIndicator progress;\n    @FXML private ToggleButton mon; @FXML private ToggleButton tue;  \n    @FXML private ToggleButton wed; @FXML private ToggleButton thu;\n    @FXML private ToggleButton fri; @FXML private ToggleButton sat; @FXML private ToggleButton sun;\n\n    @FXML ToggleButton[] toggles={mon,tue,wed,thu,fri,sat,sun};\n\n\n    public void update(Hobby hobby) {\n        System.out.println(toggles[0]=null);\n        hobby.hobby_display(name, often, toggles, progress);\n\n    }\n\n\n    @Override\n    public void initialize(URL url, ResourceBundle resourceBundle) {}\n\n}\n\n</code></pre>\n<p>This is the hobby class which the controller refers to:</p>\n<pre><code>public class Hobby{\n\n    public String name; public String often; public int[] days; public int[] progress = new int[2];\n\n    public Hobby(){}\n\n    public Hobby(String name, String often, int[] days){\n        this.name=name;\n        this.often = often;\n        this.days = days;\n    }\n\n    public void add_new_hobby(String name, String oftenbox, int[] days) {\n        this.name= name; this.often =oftenbox; this.days=days;\n        GodHands.hobby.add(this);\n    }\n\n    public void hobby_display(Label name, Label often, ToggleButton[] toggles, ProgressIndicator progress){\n        name.setText(this.name);\n        often.setText(this.often);\n        often.setAlignment(Pos.CENTER);\n        this.progress[1]=7;\n        int i=0;\n        for(ToggleButton TB: toggles){\n            button_state(TB, this.days[i]);\n            i+=1;\n        }\n        progress.setProgress((double) this.progress[0]/this.progress[1]);\n        action_setter(toggles, progress);\n    }\n\n\n    private void button_state(ToggleButton a, int i){\n        if(i==0){\n            a.setDisable(true);\n            a.setOpacity(0.5);\n            this.progress[1] -=1;}\n        if(i==2){\n            a.setSelected(true);\n            a.setDisable(true);\n            a.setOpacity(1);\n        }\n    }\n\n    public void action_setter(ToggleButton[] toggles, ProgressIndicator progress){\n        int i=0;\n        for(ToggleButton TB: toggles){\n            int index = i;\n            TB.setOnAction(actionEvent -&gt; { button_pressed(TB, progress, index);});\n            i+=1;\n        }\n    }\n\n    private void button_pressed(ToggleButton a, ProgressIndicator progress, int index){\n        a.setDisable(true);\n        a.setOpacity(1);\n        this.progress[0]+=1;\n        this.days[index]=2;\n        progress.setProgress((double) this.progress[0]/this.progress[1]);\n    }\n}\n</code></pre>\n<p>FXML File:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.geometry.Insets?&gt;\n&lt;?import javafx.scene.control.Label?&gt;\n&lt;?import javafx.scene.control.ProgressIndicator?&gt;\n&lt;?import javafx.scene.control.ToggleButton?&gt;\n&lt;?import javafx.scene.image.Image?&gt;\n&lt;?import javafx.scene.image.ImageView?&gt;\n&lt;?import javafx.scene.layout.HBox?&gt;\n&lt;?import javafx.scene.layout.Pane?&gt;\n&lt;?import javafx.scene.layout.VBox?&gt;\n&lt;?import javafx.scene.paint.Color?&gt;\n&lt;?import javafx.scene.paint.LinearGradient?&gt;\n&lt;?import javafx.scene.paint.Stop?&gt;\n&lt;?import javafx.scene.shape.Line?&gt;\n&lt;?import javafx.scene.shape.Rectangle?&gt;\n&lt;?import javafx.scene.text.Font?&gt;\n\n&lt;VBox maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;66.0&quot; prefWidth=&quot;515.0&quot; spacing=&quot;20.0&quot; style=&quot;-fx-background-color: #19B89B; -fx-background-radius: 20; -fx-border-color: white; -fx-border-radius: 20;&quot; xmlns=&quot;http://javafx.com/javafx/19&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;Project.HobbyController&quot;&gt;\n   &lt;children&gt;\n      &lt;Pane prefHeight=&quot;65.0&quot; prefWidth=&quot;531.0&quot;&gt;\n         &lt;children&gt;\n            &lt;Rectangle arcHeight=&quot;5.0&quot; arcWidth=&quot;5.0&quot; height=&quot;65.0&quot; layoutX=&quot;-1.0&quot; layoutY=&quot;-1.0&quot; stroke=&quot;WHITE&quot; strokeType=&quot;INSIDE&quot; style=&quot;-fx-arc-height: 40; -fx-arc-width: 40;&quot; width=&quot;515.0&quot;&gt;\n               &lt;fill&gt;\n                  &lt;LinearGradient endX=&quot;1.0&quot; endY=&quot;1.0&quot; startX=&quot;0.03546099290780142&quot; startY=&quot;0.08983451536643026&quot;&gt;\n                     &lt;stops&gt;\n                        &lt;Stop&gt;\n                           &lt;color&gt;\n                              &lt;Color red=&quot;0.4470588266849518&quot; green=&quot;0.2705882489681244&quot; blue=&quot;0.929411768913269&quot; /&gt;\n                           &lt;/color&gt;\n                        &lt;/Stop&gt;\n                        &lt;Stop offset=&quot;1.0&quot;&gt;\n                           &lt;color&gt;\n                              &lt;Color red=&quot;0.7904239892959595&quot; green=&quot;0.28344297409057617&quot; blue=&quot;0.8684210777282715&quot; /&gt;\n                           &lt;/color&gt;\n                        &lt;/Stop&gt;\n                     &lt;/stops&gt;\n                  &lt;/LinearGradient&gt;\n               &lt;/fill&gt;\n            &lt;/Rectangle&gt;\n            &lt;ImageView fitHeight=&quot;24.0&quot; fitWidth=&quot;26.0&quot; layoutX=&quot;14.0&quot; layoutY=&quot;3.0&quot; pickOnBounds=&quot;true&quot; preserveRatio=&quot;true&quot;&gt;\n               &lt;image&gt;\n                  &lt;Image url=&quot;@icons/about.png&quot; /&gt;\n               &lt;/image&gt;\n            &lt;/ImageView&gt;\n            &lt;Label fx:id=&quot;name&quot; layoutX=&quot;49.0&quot; layoutY=&quot;7.0&quot; prefHeight=&quot;16.0&quot; prefWidth=&quot;157.0&quot; text=&quot;Studying&quot; textFill=&quot;WHITE&quot;&gt;\n               &lt;font&gt;\n                  &lt;Font name=&quot;Arial&quot; size=&quot;14.0&quot; /&gt;\n               &lt;/font&gt;\n            &lt;/Label&gt;\n            &lt;Line endX=&quot;100.0&quot; endY=&quot;13.0&quot; layoutX=&quot;-57.0&quot; layoutY=&quot;25.0&quot; startX=&quot;100.0&quot; startY=&quot;-20.0&quot; stroke=&quot;WHITE&quot; /&gt;\n            &lt;Label fx:id=&quot;often&quot; layoutX=&quot;49.0&quot; layoutY=&quot;28.0&quot; prefHeight=&quot;14.0&quot; prefWidth=&quot;58.0&quot; style=&quot;-fx-border-color: white; -fx-border-radius: 15; -fx-background-color: #3A545A;&quot; text=&quot; Everyday&quot; textFill=&quot;WHITE&quot;&gt;\n               &lt;font&gt;\n                  &lt;Font name=&quot;Arial&quot; size=&quot;7.0&quot; /&gt;\n               &lt;/font&gt;\n            &lt;/Label&gt;\n            &lt;ProgressIndicator fx:id=&quot;progress&quot; layoutX=&quot;477.0&quot; layoutY=&quot;15.0&quot; mouseTransparent=&quot;true&quot; prefHeight=&quot;57.0&quot; prefWidth=&quot;27.0&quot; progress=&quot;0.0&quot; style=&quot;-fx-background-color: transparent;&quot; stylesheets=&quot;@pi.css&quot; /&gt;\n         &lt;/children&gt;\n      &lt;/Pane&gt;\n      &lt;HBox prefHeight=&quot;100.0&quot; prefWidth=&quot;386.0&quot; spacing=&quot;5.0&quot;&gt;\n         &lt;children&gt;\n            &lt;ToggleButton fx:id=&quot;mon&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;33.0&quot; stylesheets=&quot;@button%20-%20Copy%20-%20Copy.css&quot; text=&quot;M&quot;&gt;\n               &lt;font&gt;\n                  &lt;Font name=&quot;Arial Bold&quot; size=&quot;10.0&quot; /&gt;\n               &lt;/font&gt;\n               &lt;HBox.margin&gt;\n                  &lt;Insets left=&quot;130.0&quot; top=&quot;10.0&quot; /&gt;\n               &lt;/HBox.margin&gt;\n            &lt;/ToggleButton&gt;\n            &lt;ToggleButton fx:id=&quot;tue&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;33.0&quot; stylesheets=&quot;@button%20-%20Copy%20-%20Copy.css&quot; text=&quot;Tu&quot;&gt;\n               &lt;font&gt;\n                  &lt;Font name=&quot;Arial Bold&quot; size=&quot;10.0&quot; /&gt;\n               &lt;/font&gt;\n               &lt;HBox.margin&gt;\n                  &lt;Insets top=&quot;10.0&quot; /&gt;\n               &lt;/HBox.margin&gt;\n            &lt;/ToggleButton&gt;\n            &lt;ToggleButton fx:id=&quot;wed&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;36.0&quot; stylesheets=&quot;@button%20-%20Copy%20-%20Copy.css&quot; text=&quot;We&quot;&gt;\n               &lt;font&gt;\n                  &lt;Font name=&quot;Arial Bold&quot; size=&quot;10.0&quot; /&gt;\n               &lt;/font&gt;\n               &lt;HBox.margin&gt;\n                  &lt;Insets top=&quot;10.0&quot; /&gt;\n               &lt;/HBox.margin&gt;\n            &lt;/ToggleButton&gt;\n            &lt;ToggleButton fx:id=&quot;thu&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;33.0&quot; stylesheets=&quot;@button%20-%20Copy%20-%20Copy.css&quot; text=&quot;Th&quot;&gt;\n               &lt;font&gt;\n                  &lt;Font name=&quot;Arial Bold&quot; size=&quot;10.0&quot; /&gt;\n               &lt;/font&gt;\n               &lt;HBox.margin&gt;\n                  &lt;Insets top=&quot;10.0&quot; /&gt;\n               &lt;/HBox.margin&gt;\n            &lt;/ToggleButton&gt;\n            &lt;ToggleButton fx:id=&quot;fri&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;33.0&quot; stylesheets=&quot;@button%20-%20Copy%20-%20Copy.css&quot; text=&quot;Fr&quot;&gt;\n               &lt;font&gt;\n                  &lt;Font name=&quot;Arial Bold&quot; size=&quot;10.0&quot; /&gt;\n               &lt;/font&gt;\n               &lt;HBox.margin&gt;\n                  &lt;Insets top=&quot;10.0&quot; /&gt;\n               &lt;/HBox.margin&gt;\n            &lt;/ToggleButton&gt;\n            &lt;ToggleButton fx:id=&quot;sat&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;33.0&quot; stylesheets=&quot;@button%20-%20Copy%20-%20Copy.css&quot; text=&quot;Sa&quot;&gt;\n               &lt;font&gt;\n                  &lt;Font name=&quot;Arial Bold&quot; size=&quot;10.0&quot; /&gt;\n               &lt;/font&gt;\n               &lt;HBox.margin&gt;\n                  &lt;Insets top=&quot;10.0&quot; /&gt;\n               &lt;/HBox.margin&gt;\n            &lt;/ToggleButton&gt;\n            &lt;ToggleButton fx:id=&quot;sun&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;33.0&quot; stylesheets=&quot;@button%20-%20Copy%20-%20Copy.css&quot; text=&quot;Su&quot;&gt;\n               &lt;font&gt;\n                  &lt;Font name=&quot;Arial Bold&quot; size=&quot;10.0&quot; /&gt;\n               &lt;/font&gt;\n               &lt;HBox.margin&gt;\n                  &lt;Insets top=&quot;10.0&quot; /&gt;\n               &lt;/HBox.margin&gt;\n            &lt;/ToggleButton&gt;\n         &lt;/children&gt;\n         &lt;VBox.margin&gt;\n            &lt;Insets left=&quot;65.0&quot; /&gt;\n         &lt;/VBox.margin&gt;\n      &lt;/HBox&gt;\n   &lt;/children&gt;\n&lt;/VBox&gt;\n\n</code></pre>\n<p>This is the error:</p>\n<pre><code>false\nnull\nException in thread &quot;JavaFX Application Thread&quot; java.lang.RuntimeException: com.example.personalmanagementsystem/Project.Internal.switchers.dashboard(switchers.java:52)\n    at com.example.personalmanagementsystem/Project.DashboardController.dashboard(DashboardController.java:29)\n    ... 57 more\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;javafx.scene.control.ToggleButton.setDisable(boolean)&quot; because &quot;a&quot; is null\n    at com.example.personalmanagementsystem/Project.Internal.Hobby.button_state(Hobby.java:44)\n    at com.example.personalmanagementsystem/Project.Internal.Hobby.hobby_display(Hobby.java:34)\n    at com.example.personalmanagementsystem/Project.HobbyController.update(HobbyController.java:23)\n    at com.example.personalmanagementsystem/Project.DashboardContentController.hobbies(DashboardContentController.java:86)\n    at com.example.personalmanagementsystem/Project.DashboardContentController.initialize(DashboardContentController.java:31)\n    at javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2655)\n    ... 61 more\n</code></pre>\n<p>I haven't yet found any solutions. Please provide some insight as to why this is happening. I am still new to FX and programming as a whole. Thank you.</p>\n"},{"tags":["java","android","kotlin"],"answers":[{"tags":[],"owner":{"account_id":25305038,"reputation":76,"user_id":19128712,"display_name":"Semyon Moroshek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672882421,"creation_date":1672882421,"answer_id":75013033,"question_id":74828643,"body_markdown":"Just put the RadioGroup in RelativeLayout:\r\n\r\n    &lt;RelativeLayout\r\n        android:id=&quot;@+id/spinner_parent&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:background=&quot;@drawable/border&quot;\r\n        android:layout_marginTop=&quot;10dp&quot;\r\n        android:layout_marginHorizontal=&quot;10dp&quot;&gt;\r\n\r\n    &lt;RadioGroup\r\n        android:id=&quot;@+id/radioGroupComplete&quot;\r\n        android:checkedButton=&quot;@id/radioButtonCompleteNo&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginHorizontal=&quot;16dp&quot;\r\n        android:layout_marginVertical=&quot;8dp&quot;\r\n        android:padding=&quot;8dp&quot;\r\n        android:orientation=&quot;horizontal&quot;&gt;\r\n        \r\n    &lt;RadioButton\r\n        android:id=&quot;@+id/radioButtonCompleteYes&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:layout_weight=&quot;1&quot;\r\n        android:text=&quot;@string/todo_form_yes&quot;/&gt;\r\n\r\n    &lt;RadioButton\r\n        android:id=&quot;@+id/radioButtonCompleteNo&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:layout_weight=&quot;1&quot;\r\n        android:text=&quot;@string/todo_form_no&quot;/&gt;\r\n    &lt;/RadioGroup&gt;\r\n\r\n    &lt;/RelativeLayout&gt;\r\n\r\n\r\nAnd add border.xml in &quot;drawable&quot; folder:\r\n\r\n    &lt;shape xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n    &lt;solid android:color=&quot;@color/white&quot;/&gt;\r\n    &lt;stroke android:width=&quot;1dp&quot; android:color=&quot;@color/black&quot; /&gt;\r\n    &lt;padding android:left=&quot;0dp&quot; android:top=&quot;0dp&quot; android:right=&quot;0dp&quot; \r\n          android:bottom=&quot;0dp&quot; /&gt;\r\n    &lt;/shape&gt;\r\n\r\n\r\n\r\n","title":"How to implements border with text in RadioGroup on android (Kotlin/Java)?","body":"<p>Just put the RadioGroup in RelativeLayout:</p>\n<pre><code>&lt;RelativeLayout\n    android:id=&quot;@+id/spinner_parent&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:background=&quot;@drawable/border&quot;\n    android:layout_marginTop=&quot;10dp&quot;\n    android:layout_marginHorizontal=&quot;10dp&quot;&gt;\n\n&lt;RadioGroup\n    android:id=&quot;@+id/radioGroupComplete&quot;\n    android:checkedButton=&quot;@id/radioButtonCompleteNo&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_marginHorizontal=&quot;16dp&quot;\n    android:layout_marginVertical=&quot;8dp&quot;\n    android:padding=&quot;8dp&quot;\n    android:orientation=&quot;horizontal&quot;&gt;\n    \n&lt;RadioButton\n    android:id=&quot;@+id/radioButtonCompleteYes&quot;\n    android:layout_width=&quot;0dp&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:layout_weight=&quot;1&quot;\n    android:text=&quot;@string/todo_form_yes&quot;/&gt;\n\n&lt;RadioButton\n    android:id=&quot;@+id/radioButtonCompleteNo&quot;\n    android:layout_width=&quot;0dp&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:layout_weight=&quot;1&quot;\n    android:text=&quot;@string/todo_form_no&quot;/&gt;\n&lt;/RadioGroup&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n<p>And add border.xml in &quot;drawable&quot; folder:</p>\n<pre><code>&lt;shape xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n&lt;solid android:color=&quot;@color/white&quot;/&gt;\n&lt;stroke android:width=&quot;1dp&quot; android:color=&quot;@color/black&quot; /&gt;\n&lt;padding android:left=&quot;0dp&quot; android:top=&quot;0dp&quot; android:right=&quot;0dp&quot; \n      android:bottom=&quot;0dp&quot; /&gt;\n&lt;/shape&gt;\n</code></pre>\n"}],"owner":{"account_id":15036475,"reputation":1,"user_id":10852691,"display_name":"Matheus Evangelista Morais"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672882421,"creation_date":1671216547,"question_id":74828643,"body_markdown":"I need to create a `RadioGroup` with border and text description, similar a `OutlinedBox` the Material Design.\r\n\r\nThe image representing actual design: \r\n\r\n&lt;img src=&quot;https://i.stack.imgur.com/m62kg.png&quot; width=&quot;350&quot;/&gt;\r\n\r\nI create this ```drawableBackground```: \r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;shape xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; android:shape=&quot;rectangle&quot;&gt;\r\n    &lt;corners android:radius=&quot;4dp&quot; /&gt;\r\n    &lt;stroke android:width=&quot;2dp&quot; android:color=&quot;@color/gainsboro&quot; /&gt;\r\n&lt;/shape&gt;\r\n```\r\n\r\nAnd my code is:\r\n\r\n```\r\n&lt;RadioGroup\r\n    android:id=&quot;@+id/radioGroupComplete&quot;\r\n    android:checkedButton=&quot;@id/radioButtonCompleteNo&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:layout_marginHorizontal=&quot;16dp&quot;\r\n    android:layout_marginVertical=&quot;8dp&quot;\r\n    android:padding=&quot;8dp&quot;\r\n    android:orientation=&quot;horizontal&quot;\r\n    android:background=&quot;@drawable/input_border&quot;&gt;\r\n\r\n    &lt;RadioButton\r\n        android:id=&quot;@+id/radioButtonCompleteYes&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:layout_weight=&quot;1&quot;\r\n        android:text=&quot;@string/todo_form_yes&quot;/&gt;\r\n\r\n    &lt;RadioButton\r\n        android:id=&quot;@+id/radioButtonCompleteNo&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:layout_weight=&quot;1&quot;\r\n        android:text=&quot;@string/todo_form_no&quot;/&gt;\r\n&lt;/RadioGroup&gt;\r\n```\r\n","title":"How to implements border with text in RadioGroup on android (Kotlin/Java)?","body":"<p>I need to create a <code>RadioGroup</code> with border and text description, similar a <code>OutlinedBox</code> the Material Design.</p>\n<p>The image representing actual design:</p>\n<img src=\"https://i.stack.imgur.com/m62kg.png\" width=\"350\"/>\n<p>I create this <code>drawableBackground</code>:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;shape xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; android:shape=&quot;rectangle&quot;&gt;\n    &lt;corners android:radius=&quot;4dp&quot; /&gt;\n    &lt;stroke android:width=&quot;2dp&quot; android:color=&quot;@color/gainsboro&quot; /&gt;\n&lt;/shape&gt;\n</code></pre>\n<p>And my code is:</p>\n<pre><code>&lt;RadioGroup\n    android:id=&quot;@+id/radioGroupComplete&quot;\n    android:checkedButton=&quot;@id/radioButtonCompleteNo&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_marginHorizontal=&quot;16dp&quot;\n    android:layout_marginVertical=&quot;8dp&quot;\n    android:padding=&quot;8dp&quot;\n    android:orientation=&quot;horizontal&quot;\n    android:background=&quot;@drawable/input_border&quot;&gt;\n\n    &lt;RadioButton\n        android:id=&quot;@+id/radioButtonCompleteYes&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:layout_weight=&quot;1&quot;\n        android:text=&quot;@string/todo_form_yes&quot;/&gt;\n\n    &lt;RadioButton\n        android:id=&quot;@+id/radioButtonCompleteNo&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:layout_weight=&quot;1&quot;\n        android:text=&quot;@string/todo_form_no&quot;/&gt;\n&lt;/RadioGroup&gt;\n</code></pre>\n"},{"tags":["java","string","selenium","file","upload"],"comments":[{"owner":{"account_id":12646737,"reputation":1077,"user_id":9192223,"display_name":"hiren"},"score":1,"creation_date":1672819780,"post_id":75001137,"comment_id":132356807,"body_markdown":"Before `.toList()` in parseFilenamesForMultipleUpload, try to put `.peek(System.out::println)` and check if the mapping is substituting `%5c` in the returned string.","body":"Before <code>.toList()</code> in parseFilenamesForMultipleUpload, try to put <code>.peek(System.out::println)</code> and check if the mapping is substituting <code>%5c</code> in the returned string."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1672827118,"post_id":75001137,"comment_id":132358920,"body_markdown":"*The only thing that worked so far was basically changing code to use &quot;normal&quot; backslashes:*. Those are *not* backslashes. They are *forward* slashes. Perhaps your software is expecting a URL not a file path? That would account for why your Windows file separators are getting escaped","body":"<i>The only thing that worked so far was basically changing code to use &quot;normal&quot; backslashes:</i>. Those are <i>not</i> backslashes. They are <i>forward</i> slashes. Perhaps your software is expecting a URL not a file path? That would account for why your Windows file separators are getting escaped"},{"owner":{"account_id":24977904,"reputation":109,"user_id":18951958,"display_name":"hetacz"},"score":0,"creation_date":1672861129,"post_id":75001137,"comment_id":132370672,"body_markdown":"@hiren yes, parseFilenamesForMultipleUpload seems to be percenting the string...","body":"@hiren yes, parseFilenamesForMultipleUpload seems to be percenting the string..."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1672866752,"post_id":75001137,"comment_id":132372453,"body_markdown":"Irrespective of whether it&#39;s a URL or a file path just use forward slashes for now","body":"Irrespective of whether it&#39;s a URL or a file path just use forward slashes for now"}],"answers":[{"tags":[],"owner":{"account_id":24977904,"reputation":109,"user_id":18951958,"display_name":"hetacz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1672880540,"creation_date":1672880540,"answer_id":75012882,"question_id":75001137,"body_markdown":"Thanks to [@hiren][1] I pinpointed that the place where parsing to `%5c` occured was `parseFilenamesForMultipleUpload`. So I added `URLDecoder` to get rid of percentages and created my own method `removePath` to remove path part of file regardless of type of file separator.\r\n\r\nHere is the the code:\r\n\r\n`parseFilenamesForMultipleUpload` is very similiar I just added more mappings to make it cleaner and added mapping through `decodeQuery` method, which simply translates percentages.\r\n\r\n```java\r\n    public String parseFilenamesForMultipleUpload(@NotNull Collection&lt;String&gt; filenames) {\r\n        return filenames\r\n                .stream()\r\n                .map(Utils::getFile)\r\n                .map(File::getPath)\r\n                .map(Utils::decodeQuery)\r\n                .collect(Collectors.joining(&quot;\\n&quot;));\r\n    }\r\n```\r\n\r\n`Utils#getFile` is simply some code from previous version of `parseFilenamesForMultipleUpload` method extracted fo clarity:\r\n\r\n```java\r\n    @Contract(&quot;_ -&gt; new&quot;)\r\n    private @NotNull File getFile(String filename) {\r\n        return new File(Objects.requireNonNull(Utils.class.getClassLoader().getResource(filename)).getFile());\r\n    }\r\n```\r\n\r\nI then map it again with `File#getPath` instead of `File#AbsolutePath` like before, and finally `decodeQuery` translates percentage style. \r\n\r\n`Utils#decodeQuery`:\r\n```java\r\n    public String decodeQuery(String query) {\r\n        return URLDecoder.decode(query, StandardCharsets.UTF_8);\r\n    }\r\n```\r\n\r\nAnd finally I join them with a newline character.\r\n\r\nThen, to be able to extract filename from filepath I created such method:\r\n\r\n```java\r\n    public String removePath(@NotNull String filepath) {\r\n        for (char c : new char[]{&#39;/&#39;, &#39;\\\\&#39;, File.separatorChar, File.pathSeparatorChar}) {\r\n            filepath = cutFilePath(filepath, c);\r\n        }\r\n        return filepath;\r\n    }\r\n```\r\nwhere `cutFilePath` is:\r\n\r\n```java\r\n    private @NotNull String cutFilePath(@NotNull String filepath, char delimiter) {\r\n        int charIndex = filepath.lastIndexOf(delimiter);\r\n        return charIndex &gt; -1 ? filepath.substring(charIndex + 1) : filepath;\r\n    }\r\n```\r\n\r\nEverything is working :)\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/9192223/hiren","title":"Java parses File.separator as %5c which isn&#39;t recognized as legit file path","body":"<p>Thanks to <a href=\"https://stackoverflow.com/users/9192223/hiren\">@hiren</a> I pinpointed that the place where parsing to <code>%5c</code> occured was <code>parseFilenamesForMultipleUpload</code>. So I added <code>URLDecoder</code> to get rid of percentages and created my own method <code>removePath</code> to remove path part of file regardless of type of file separator.</p>\n<p>Here is the the code:</p>\n<p><code>parseFilenamesForMultipleUpload</code> is very similiar I just added more mappings to make it cleaner and added mapping through <code>decodeQuery</code> method, which simply translates percentages.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public String parseFilenamesForMultipleUpload(@NotNull Collection&lt;String&gt; filenames) {\n        return filenames\n                .stream()\n                .map(Utils::getFile)\n                .map(File::getPath)\n                .map(Utils::decodeQuery)\n                .collect(Collectors.joining(&quot;\\n&quot;));\n    }\n</code></pre>\n<p><code>Utils#getFile</code> is simply some code from previous version of <code>parseFilenamesForMultipleUpload</code> method extracted fo clarity:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Contract(&quot;_ -&gt; new&quot;)\n    private @NotNull File getFile(String filename) {\n        return new File(Objects.requireNonNull(Utils.class.getClassLoader().getResource(filename)).getFile());\n    }\n</code></pre>\n<p>I then map it again with <code>File#getPath</code> instead of <code>File#AbsolutePath</code> like before, and finally <code>decodeQuery</code> translates percentage style.</p>\n<p><code>Utils#decodeQuery</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public String decodeQuery(String query) {\n        return URLDecoder.decode(query, StandardCharsets.UTF_8);\n    }\n</code></pre>\n<p>And finally I join them with a newline character.</p>\n<p>Then, to be able to extract filename from filepath I created such method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public String removePath(@NotNull String filepath) {\n        for (char c : new char[]{'/', '\\\\', File.separatorChar, File.pathSeparatorChar}) {\n            filepath = cutFilePath(filepath, c);\n        }\n        return filepath;\n    }\n</code></pre>\n<p>where <code>cutFilePath</code> is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    private @NotNull String cutFilePath(@NotNull String filepath, char delimiter) {\n        int charIndex = filepath.lastIndexOf(delimiter);\n        return charIndex &gt; -1 ? filepath.substring(charIndex + 1) : filepath;\n    }\n</code></pre>\n<p>Everything is working :)</p>\n"}],"owner":{"account_id":24977904,"reputation":109,"user_id":18951958,"display_name":"hetacz"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":252,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75012882,"answer_count":1,"score":0,"last_activity_date":1672880540,"creation_date":1672808414,"question_id":75001137,"body_markdown":"I&#39;m not really sure when it started, but my Selenium framework stopped accepting path names with `File.separator`, I must use backslashes or I can&#39;t upload files.\r\n\r\nIf I type path like this: \r\n```java\r\nString DOCX = &quot;uploads&quot; + File.separator + &quot;mock&quot; + File.separator + &quot;document_donotparse.docx&quot;;\r\n```\r\n\r\nI get such an error:\r\n\r\n```\r\ninvalid argument: File not found : C:\\XXX\\Arbeit\\tests\\build\\resources\\test\\uploads%5cmock%5cdocument_donotparse.docx\r\n```\r\n\r\nSo basically `File.separator` gets translated to `%5c`\r\n\r\nNow this is the code I am using:\r\n\r\n```java\r\n    public void uploadFiles(@NotNull List&lt;String&gt; filenames, By input, By progressBar, FileType fileType) {\r\n        log.trace(&quot;Uploading files: {}&quot;, filenames);\r\n        getExistingElement(input).sendKeys(Utils.parseFilenamesForMultipleUpload(filenames));\r\n        throwIfParsingFailed(fileType);\r\n        waitForAllElementsToDisappear(progressBar);\r\n    }\r\n```\r\n\r\nand since I also need to upload multiple files at once, I need the util function:\r\n\r\n```java\r\n    public String parseFilenamesForMultipleUpload(@NotNull Collection&lt;String&gt; filenames) {\r\n        return String.join(&quot; \\n &quot;, filenames\r\n                .stream()\r\n                .map(filename -&gt; new File(Objects.requireNonNull(\r\n                        Utils.class.getClassLoader().getResource(filename)).getFile()).getAbsolutePath())\r\n                .toList());\r\n    }\r\n```\r\n\r\nThe only thing that worked so far was basically changing code to use &quot;normal&quot; backslashes:\r\n\r\n```java\r\nString DOCX = &quot;uploads/mock/document_donotparse.docx&quot;;\r\n```\r\n\r\nI would, however, like to use `File.separator` back again.\r\n\r\nAlso I am having no problems at all when reading `json` or `properties` files, for which paths are also separated with `File.separator`, so the problem must lie somewhere with the upload code.","title":"Java parses File.separator as %5c which isn&#39;t recognized as legit file path","body":"<p>I'm not really sure when it started, but my Selenium framework stopped accepting path names with <code>File.separator</code>, I must use backslashes or I can't upload files.</p>\n<p>If I type path like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String DOCX = &quot;uploads&quot; + File.separator + &quot;mock&quot; + File.separator + &quot;document_donotparse.docx&quot;;\n</code></pre>\n<p>I get such an error:</p>\n<pre><code>invalid argument: File not found : C:\\XXX\\Arbeit\\tests\\build\\resources\\test\\uploads%5cmock%5cdocument_donotparse.docx\n</code></pre>\n<p>So basically <code>File.separator</code> gets translated to <code>%5c</code></p>\n<p>Now this is the code I am using:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public void uploadFiles(@NotNull List&lt;String&gt; filenames, By input, By progressBar, FileType fileType) {\n        log.trace(&quot;Uploading files: {}&quot;, filenames);\n        getExistingElement(input).sendKeys(Utils.parseFilenamesForMultipleUpload(filenames));\n        throwIfParsingFailed(fileType);\n        waitForAllElementsToDisappear(progressBar);\n    }\n</code></pre>\n<p>and since I also need to upload multiple files at once, I need the util function:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public String parseFilenamesForMultipleUpload(@NotNull Collection&lt;String&gt; filenames) {\n        return String.join(&quot; \\n &quot;, filenames\n                .stream()\n                .map(filename -&gt; new File(Objects.requireNonNull(\n                        Utils.class.getClassLoader().getResource(filename)).getFile()).getAbsolutePath())\n                .toList());\n    }\n</code></pre>\n<p>The only thing that worked so far was basically changing code to use &quot;normal&quot; backslashes:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String DOCX = &quot;uploads/mock/document_donotparse.docx&quot;;\n</code></pre>\n<p>I would, however, like to use <code>File.separator</code> back again.</p>\n<p>Also I am having no problems at all when reading <code>json</code> or <code>properties</code> files, for which paths are also separated with <code>File.separator</code>, so the problem must lie somewhere with the upload code.</p>\n"},{"tags":["java","swing","graphstream","hidpi"],"comments":[{"owner":{"account_id":278315,"reputation":11579,"user_id":572834,"display_name":"Alexey Ivanov"},"score":1,"creation_date":1672689090,"post_id":74860061,"comment_id":132328722,"body_markdown":"It looks like a bug in coordinates calculation. If I move the window to a monitor which has 100% scale, the example starts to work. Yet on a monitor with 200% scale, I can&#39;t grab the node; at the same time, it draws lines at the coordinates of the mouse cursor.","body":"It looks like a bug in coordinates calculation. If I move the window to a monitor which has 100% scale, the example starts to work. Yet on a monitor with 200% scale, I can&#39;t grab the node; at the same time, it draws lines at the coordinates of the mouse cursor."},{"owner":{"account_id":2757427,"reputation":2709,"user_id":2375105,"accept_rate":62,"display_name":"traveh"},"score":0,"creation_date":1672751143,"post_id":74860061,"comment_id":132341350,"body_markdown":"Interesting. When I change the scaling in Windows to 100% this problem indeed stops.","body":"Interesting. When I change the scaling in Windows to 100% this problem indeed stops."},{"owner":{"account_id":278315,"reputation":11579,"user_id":572834,"display_name":"Alexey Ivanov"},"score":0,"creation_date":1672765138,"post_id":74860061,"comment_id":132346044,"body_markdown":"Swing operates in so-called *user coordinates* which are scale-independent. `MouseEvent` contains the coordinates which are scaled down from the native resolution. Apparently, the view that displays the graph does something with the coordinates (multiplies by the scale?). You&#39;ll have to go down into the code which handles grabbing the nodes with mouse.","body":"Swing operates in so-called <i>user coordinates</i> which are scale-independent. <code>MouseEvent</code> contains the coordinates which are scaled down from the native resolution. Apparently, the view that displays the graph does something with the coordinates (multiplies by the scale?). You&#39;ll have to go down into the code which handles grabbing the nodes with mouse."},{"owner":{"account_id":2757427,"reputation":2709,"user_id":2375105,"accept_rate":62,"display_name":"traveh"},"score":0,"creation_date":1672844144,"post_id":74860061,"comment_id":132364633,"body_markdown":"@AlexeyIvanov you might as well phrase this as an answer (otherwise they&#39;ll go to waste). I doubt someone will bother to pinpoint the exact lines in the code that cause this issue...","body":"@AlexeyIvanov you might as well phrase this as an answer (otherwise they&#39;ll go to waste). I doubt someone will bother to pinpoint the exact lines in the code that cause this issue..."},{"owner":{"account_id":278315,"reputation":11579,"user_id":572834,"display_name":"Alexey Ivanov"},"score":0,"creation_date":1672857584,"post_id":74860061,"comment_id":132369549,"body_markdown":"But my comments don&#39;t answer the question, I just gave a hint of where the issue lies.","body":"But my comments don&#39;t answer the question, I just gave a hint of where the issue lies."}],"answers":[{"tags":[],"owner":{"account_id":227992,"reputation":17441,"user_id":490018,"accept_rate":67,"display_name":"Sergey Vyacheslavovich Brunov"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1672879912,"creation_date":1672853839,"answer_id":75009209,"question_id":74860061,"body_markdown":"# Introduction\r\nLet&#39;s consider the following versions as the current versions:\r\n\r\n```xml\r\n&lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.graphstream&lt;/groupId&gt;\r\n        &lt;artifactId&gt;gs-core&lt;/artifactId&gt;\r\n        &lt;version&gt;2.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.graphstream&lt;/groupId&gt;\r\n        &lt;artifactId&gt;gs-ui-swing&lt;/artifactId&gt;\r\n        &lt;version&gt;2.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n```\r\n\r\n# Intermediate root cause analysis\r\nThe GraphStream library does not handle UI scaling correctly.\r\n\r\nIt seems to be a known unresolved issue.\r\n\r\nThe related GitHub issues:\r\n\r\n* [Java10 - DefaultCamera.java has incorrect Tx Matrix &#183; Issue #301 &#183; graphstream/gs-core](https://github.com/graphstream/gs-core/issues/301).\r\n* [mouse clicks not working &#183; Issue #321 &#183; graphstream/gs-core](https://github.com/graphstream/gs-core/issues/321).\r\n* [can not retrieving mouse-clicks in Graphstream &#183; Issue #360 &#183; graphstream/gs-core](https://github.com/graphstream/gs-core/issues/360).\r\n* [GraphStream 2.0 mouse pointer offset when dragging nodes (not solved) &#183; Issue #15 &#183; graphstream/gs-ui-swing](https://github.com/graphstream/gs-ui-swing/issues/15).\r\n\r\n## Precondition to reproduce issue\r\nForce UI scaling by setting the `sun.java2d.uiScale` system property value to `200%`.  \r\nFor example, programmatically:\r\n\r\n```\r\nSystem.setProperty(&quot;sun.java2d.uiScale&quot;, &quot;200%&quot;);\r\n```\r\n\r\n# Possible solutions\r\n## Straightforward solution: Wait for next release with resolved issue\r\n(Self-descriptive.)\r\n\r\n## Check and review fork of library: If acceptable, use it\r\nMentioned in the related GitHub issues.\r\n\r\n[GitHub issue comment](https://github.com/graphstream/gs-core/issues/321#issuecomment-753598640):\r\n\r\n&gt; [LukasMolzberger](https://github.com/LukasMolzberger) commented [on 2021-01-03T10:48:27Z](https://github.com/graphstream/gs-core/issues/321#issuecomment-753598640)\r\n&gt;\r\n&gt; I think I&#39;ve encountered the same problem here. It seems that the coordinates given by Point3 dst = bck.transform(elt.getX(), elt.getY(), 0); in the nodeContains(GraphicElement elt, double x, double y) method are twice as large as the coordinates given by the mouse pointer. g2.getTransform() seems to already contain this factor. I don&#39;t know to much about this stuff, but is there may be a difference between virtual and real pixels that needs to be converted somehow? (I&#39;m using an UHD Display)\r\n\r\n[GitHub issue comment](https://github.com/graphstream/gs-core/issues/301#issuecomment-787399419):\r\n\r\n&gt; [aika-algorithm](https://github.com/aika-algorithm) commented [on 2021-02-28T05:33:50Z](https://github.com/graphstream/gs-core/issues/301#issuecomment-787399419)\r\n&gt;\r\n&gt; I&#39;ve got it working on the branches [https://github.com/aika-algorithm/gs-ui-swing](https://github.com/aika-algorithm/gs-ui-swing) and [https://github.com/aika-algorithm/gs-core](https://github.com/aika-algorithm/gs-core)  \r\n&gt; The solution, however, is not very clean. The problem seems to be, that swing is using two different coordinate spaces on high-resolution displays.\r\n&gt;\r\n&gt; \\-Lukas\r\n\r\nPlease, note the mentioned GitHub repositories:\r\n\r\n* [aika-algorithm/gs-core: Graphstream core](https://github.com/aika-algorithm/gs-core).\r\n* [aika-algorithm/gs-ui-swing: GraphStream Swing user interface](https://github.com/aika-algorithm/gs-ui-swing).\r\n\r\nCurrently, the following latest versions of the Maven artifacts are available in the Maven central repository:\r\n\r\n```xml\r\n&lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;network.aika&lt;/groupId&gt;\r\n        &lt;artifactId&gt;gs-core&lt;/artifactId&gt;\r\n        &lt;version&gt;2.0.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;network.aika&lt;/groupId&gt;\r\n        &lt;artifactId&gt;gs-ui-swing&lt;/artifactId&gt;\r\n        &lt;version&gt;2.0.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n```\r\n\r\n## Create your own fork of library and resolve issue by yourself\r\n(Self-descriptive.)\r\n\r\n## Workaround: If acceptable, disable UI scaling\r\nMentioned in the related GitHub issues.\r\n\r\n[GitHub issue comment](https://github.com/graphstream/gs-core/issues/301#issuecomment-440780607):\r\n\r\n&gt; **[ghost](https://github.com/ghost)** commented [on 2018-11-21T19:18:03Z](https://github.com/graphstream/gs-core/issues/301#issuecomment-440780607)\r\n&gt;\r\n&gt; I found the problem, Its a scaling issue on Java 9 and 10. You need the VM parameter  \r\n&gt; -Dsun.java2d.uiScale=100% /// For Swing  \r\n&gt; -Dglass.win.uiScale=100% /// for JavaFx  \r\n&gt;\r\n&gt; Also, add a Runtime check in the code  \r\n&gt; String scaleSwing=System.getProperty(&quot;sun.java2d.uiScale&quot;);  \r\n&gt; if(scaleSwing.equals(&quot;100%&quot;)==false) {throw new RuntimeException(&quot;invalid scaleSwing &quot;+scaleSwing);}  \r\n&gt;\r\n&gt; then the DefaultCamera.Tx is correct . and you can select points on the graph.  \r\n&gt; The current Camera implementation doesn&#39;t work with the default JVM scaling for Java 9,10, which is usually 150% (on large displays)\r\n","title":"GraphStream 2.0 mouse pointer offset when dragging nodes (not solved)","body":"<h1>Introduction</h1>\n<p>Let's consider the following versions as the current versions:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.graphstream&lt;/groupId&gt;\n        &lt;artifactId&gt;gs-core&lt;/artifactId&gt;\n        &lt;version&gt;2.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.graphstream&lt;/groupId&gt;\n        &lt;artifactId&gt;gs-ui-swing&lt;/artifactId&gt;\n        &lt;version&gt;2.0&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<h1>Intermediate root cause analysis</h1>\n<p>The GraphStream library does not handle UI scaling correctly.</p>\n<p>It seems to be a known unresolved issue.</p>\n<p>The related GitHub issues:</p>\n<ul>\n<li><a href=\"https://github.com/graphstream/gs-core/issues/301\" rel=\"nofollow noreferrer\">Java10 - DefaultCamera.java has incorrect Tx Matrix · Issue #301 · graphstream/gs-core</a>.</li>\n<li><a href=\"https://github.com/graphstream/gs-core/issues/321\" rel=\"nofollow noreferrer\">mouse clicks not working · Issue #321 · graphstream/gs-core</a>.</li>\n<li><a href=\"https://github.com/graphstream/gs-core/issues/360\" rel=\"nofollow noreferrer\">can not retrieving mouse-clicks in Graphstream · Issue #360 · graphstream/gs-core</a>.</li>\n<li><a href=\"https://github.com/graphstream/gs-ui-swing/issues/15\" rel=\"nofollow noreferrer\">GraphStream 2.0 mouse pointer offset when dragging nodes (not solved) · Issue #15 · graphstream/gs-ui-swing</a>.</li>\n</ul>\n<h2>Precondition to reproduce issue</h2>\n<p>Force UI scaling by setting the <code>sun.java2d.uiScale</code> system property value to <code>200%</code>.<br />\nFor example, programmatically:</p>\n<pre><code>System.setProperty(&quot;sun.java2d.uiScale&quot;, &quot;200%&quot;);\n</code></pre>\n<h1>Possible solutions</h1>\n<h2>Straightforward solution: Wait for next release with resolved issue</h2>\n<p>(Self-descriptive.)</p>\n<h2>Check and review fork of library: If acceptable, use it</h2>\n<p>Mentioned in the related GitHub issues.</p>\n<p><a href=\"https://github.com/graphstream/gs-core/issues/321#issuecomment-753598640\" rel=\"nofollow noreferrer\">GitHub issue comment</a>:</p>\n<blockquote>\n<p><a href=\"https://github.com/LukasMolzberger\" rel=\"nofollow noreferrer\">LukasMolzberger</a> commented <a href=\"https://github.com/graphstream/gs-core/issues/321#issuecomment-753598640\" rel=\"nofollow noreferrer\">on 2021-01-03T10:48:27Z</a></p>\n<p>I think I've encountered the same problem here. It seems that the coordinates given by Point3 dst = bck.transform(elt.getX(), elt.getY(), 0); in the nodeContains(GraphicElement elt, double x, double y) method are twice as large as the coordinates given by the mouse pointer. g2.getTransform() seems to already contain this factor. I don't know to much about this stuff, but is there may be a difference between virtual and real pixels that needs to be converted somehow? (I'm using an UHD Display)</p>\n</blockquote>\n<p><a href=\"https://github.com/graphstream/gs-core/issues/301#issuecomment-787399419\" rel=\"nofollow noreferrer\">GitHub issue comment</a>:</p>\n<blockquote>\n<p><a href=\"https://github.com/aika-algorithm\" rel=\"nofollow noreferrer\">aika-algorithm</a> commented <a href=\"https://github.com/graphstream/gs-core/issues/301#issuecomment-787399419\" rel=\"nofollow noreferrer\">on 2021-02-28T05:33:50Z</a></p>\n<p>I've got it working on the branches <a href=\"https://github.com/aika-algorithm/gs-ui-swing\" rel=\"nofollow noreferrer\">https://github.com/aika-algorithm/gs-ui-swing</a> and <a href=\"https://github.com/aika-algorithm/gs-core\" rel=\"nofollow noreferrer\">https://github.com/aika-algorithm/gs-core</a><br />\nThe solution, however, is not very clean. The problem seems to be, that swing is using two different coordinate spaces on high-resolution displays.</p>\n<p>-Lukas</p>\n</blockquote>\n<p>Please, note the mentioned GitHub repositories:</p>\n<ul>\n<li><a href=\"https://github.com/aika-algorithm/gs-core\" rel=\"nofollow noreferrer\">aika-algorithm/gs-core: Graphstream core</a>.</li>\n<li><a href=\"https://github.com/aika-algorithm/gs-ui-swing\" rel=\"nofollow noreferrer\">aika-algorithm/gs-ui-swing: GraphStream Swing user interface</a>.</li>\n</ul>\n<p>Currently, the following latest versions of the Maven artifacts are available in the Maven central repository:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;network.aika&lt;/groupId&gt;\n        &lt;artifactId&gt;gs-core&lt;/artifactId&gt;\n        &lt;version&gt;2.0.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;network.aika&lt;/groupId&gt;\n        &lt;artifactId&gt;gs-ui-swing&lt;/artifactId&gt;\n        &lt;version&gt;2.0.2&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<h2>Create your own fork of library and resolve issue by yourself</h2>\n<p>(Self-descriptive.)</p>\n<h2>Workaround: If acceptable, disable UI scaling</h2>\n<p>Mentioned in the related GitHub issues.</p>\n<p><a href=\"https://github.com/graphstream/gs-core/issues/301#issuecomment-440780607\" rel=\"nofollow noreferrer\">GitHub issue comment</a>:</p>\n<blockquote>\n<p><strong><a href=\"https://github.com/ghost\" rel=\"nofollow noreferrer\">ghost</a></strong> commented <a href=\"https://github.com/graphstream/gs-core/issues/301#issuecomment-440780607\" rel=\"nofollow noreferrer\">on 2018-11-21T19:18:03Z</a></p>\n<p>I found the problem, Its a scaling issue on Java 9 and 10. You need the VM parameter<br />\n-Dsun.java2d.uiScale=100% /// For Swing<br />\n-Dglass.win.uiScale=100% /// for JavaFx</p>\n<p>Also, add a Runtime check in the code<br />\nString scaleSwing=System.getProperty(&quot;sun.java2d.uiScale&quot;);<br />\nif(scaleSwing.equals(&quot;100%&quot;)==false) {throw new RuntimeException(&quot;invalid scaleSwing &quot;+scaleSwing);}</p>\n<p>then the DefaultCamera.Tx is correct . and you can select points on the graph.<br />\nThe current Camera implementation doesn't work with the default JVM scaling for Java 9,10, which is usually 150% (on large displays)</p>\n</blockquote>\n"}],"owner":{"account_id":2757427,"reputation":2709,"user_id":2375105,"accept_rate":62,"display_name":"traveh"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":185,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1672879912,"creation_date":1671523533,"question_id":74860061,"body_markdown":"I&#39;m working with GraphStream and I can&#39;t get the mouse pointer to drag nodes correctly.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n(Note how the mouse offset gets worse towards the bottom right corner).\r\n\r\nThis looks like exactly the same problem as [here][2] (similar to [this][3], only for Swing instead of JavaFX).\r\n\r\nI tried everything I could think of, read the GraphStream docs, FAQ, checked the tests, etc.\r\n\r\nI also tried the suggested solution [here][4], but it doesn&#39;t work - the behavior is exactly the same.\r\n\r\nHere&#39;s my code (after applying the suggestion):\r\n\r\n    DefaultView view = (DefaultView) viewer.addView(&quot;Graph&quot;, new SwingGraphRenderer(), false);\r\n    view.setLayout(new BorderLayout());\r\n    view.setPreferredSize(frame.getSize());\r\n    view.setMouseManager(new DefaultMouseManager());\r\n    JPanel panel = new JPanel();\r\n    panel.add(view);\r\n    frame.add(panel);\r\n    view.setVisible(true);\r\n    panel.setVisible(true);\r\n\r\nHere is the code for the full (minimalistic) example:\r\n\r\n    package main.java;\r\n    \r\n    import org.graphstream.graph.Graph;\r\n    import org.graphstream.graph.Node;\r\n    import org.graphstream.graph.implementations.DefaultGraph;\r\n    import org.graphstream.ui.swing.SwingGraphRenderer;\r\n    import org.graphstream.ui.swing_viewer.DefaultView;\r\n    import org.graphstream.ui.swing_viewer.SwingViewer;\r\n    import org.graphstream.ui.swing_viewer.util.DefaultMouseManager;\r\n    import org.graphstream.ui.view.Viewer;\r\n    \r\n    import javax.swing.*;\r\n    import java.awt.*;\r\n    \r\n    public class Example {\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            System.setProperty(&quot;org.graphstream.ui&quot;, &quot;swing&quot;);\r\n            Graph g = new DefaultGraph(&quot;Graph&quot;);\r\n    \r\n            Node n1 = g.addNode(&quot;V1&quot;);\r\n            Node n2 = g.addNode(&quot;V2&quot;);\r\n            g.addEdge(&quot;E1&quot;, &quot;V1&quot;, &quot;V2&quot;);\r\n            String style = &quot;size: 30px; stroke-mode: plain; fill-color: rgba(223, 187, 254, 255);&quot;;\r\n            n1.setAttribute(&quot;ui.style&quot;, style);\r\n            n2.setAttribute(&quot;ui.style&quot;, style);\r\n    \r\n            // g.display(); &lt;- same behavior as dropping everything below this line.\r\n    \r\n            JFrame frame = new JFrame();\r\n            frame.setBounds(0, 0, 600, 600);\r\n            frame.setLayout(new BorderLayout());\r\n    \r\n            SwingViewer viewer = new SwingViewer(g, Viewer.ThreadingModel.GRAPH_IN_ANOTHER_THREAD);\r\n            viewer.enableAutoLayout();\r\n            DefaultView view = (DefaultView) viewer.addView(g.getId(), new SwingGraphRenderer(), false);\r\n            view.setLayout(new BorderLayout());\r\n            view.setPreferredSize(frame.getSize());\r\n            JPanel panel = new JPanel();\r\n            panel.add(view);\r\n            frame.add(panel);\r\n            view.setMouseManager(new DefaultMouseManager());\r\n    \r\n            view.setVisible(true);\r\n            panel.setVisible(true);\r\n            frame.setVisible(true);\r\n        }\r\n    }\r\n\r\nAnd the pom.xml dependencies:\r\n\r\n```xml\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.graphstream&lt;/groupId&gt;\r\n            &lt;artifactId&gt;gs-core&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.graphstream/gs-ui-swing --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.graphstream&lt;/groupId&gt;\r\n            &lt;artifactId&gt;gs-ui-swing&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/8QDEQ.gif\r\n  [2]: https://stackoverflow.com/questions/64621745/graphstream-2-0-mouse-pointer-offset-when-dragging-nodes\r\n  [3]: https://graphstream-project.org/doc/FAQ/The-graph-viewer/why-mouse-does-not-work-javafx/\r\n  [4]: https://stackoverflow.com/a/64689529/2375105","title":"GraphStream 2.0 mouse pointer offset when dragging nodes (not solved)","body":"<p>I'm working with GraphStream and I can't get the mouse pointer to drag nodes correctly.</p>\n<p><a href=\"https://i.stack.imgur.com/8QDEQ.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8QDEQ.gif\" alt=\"enter image description here\" /></a></p>\n<p>(Note how the mouse offset gets worse towards the bottom right corner).</p>\n<p>This looks like exactly the same problem as <a href=\"https://stackoverflow.com/questions/64621745/graphstream-2-0-mouse-pointer-offset-when-dragging-nodes\">here</a> (similar to <a href=\"https://graphstream-project.org/doc/FAQ/The-graph-viewer/why-mouse-does-not-work-javafx/\" rel=\"nofollow noreferrer\">this</a>, only for Swing instead of JavaFX).</p>\n<p>I tried everything I could think of, read the GraphStream docs, FAQ, checked the tests, etc.</p>\n<p>I also tried the suggested solution <a href=\"https://stackoverflow.com/a/64689529/2375105\">here</a>, but it doesn't work - the behavior is exactly the same.</p>\n<p>Here's my code (after applying the suggestion):</p>\n<pre><code>DefaultView view = (DefaultView) viewer.addView(&quot;Graph&quot;, new SwingGraphRenderer(), false);\nview.setLayout(new BorderLayout());\nview.setPreferredSize(frame.getSize());\nview.setMouseManager(new DefaultMouseManager());\nJPanel panel = new JPanel();\npanel.add(view);\nframe.add(panel);\nview.setVisible(true);\npanel.setVisible(true);\n</code></pre>\n<p>Here is the code for the full (minimalistic) example:</p>\n<pre><code>package main.java;\n\nimport org.graphstream.graph.Graph;\nimport org.graphstream.graph.Node;\nimport org.graphstream.graph.implementations.DefaultGraph;\nimport org.graphstream.ui.swing.SwingGraphRenderer;\nimport org.graphstream.ui.swing_viewer.DefaultView;\nimport org.graphstream.ui.swing_viewer.SwingViewer;\nimport org.graphstream.ui.swing_viewer.util.DefaultMouseManager;\nimport org.graphstream.ui.view.Viewer;\n\nimport javax.swing.*;\nimport java.awt.*;\n\npublic class Example {\n\n    public static void main(String[] args) {\n\n        System.setProperty(&quot;org.graphstream.ui&quot;, &quot;swing&quot;);\n        Graph g = new DefaultGraph(&quot;Graph&quot;);\n\n        Node n1 = g.addNode(&quot;V1&quot;);\n        Node n2 = g.addNode(&quot;V2&quot;);\n        g.addEdge(&quot;E1&quot;, &quot;V1&quot;, &quot;V2&quot;);\n        String style = &quot;size: 30px; stroke-mode: plain; fill-color: rgba(223, 187, 254, 255);&quot;;\n        n1.setAttribute(&quot;ui.style&quot;, style);\n        n2.setAttribute(&quot;ui.style&quot;, style);\n\n        // g.display(); &lt;- same behavior as dropping everything below this line.\n\n        JFrame frame = new JFrame();\n        frame.setBounds(0, 0, 600, 600);\n        frame.setLayout(new BorderLayout());\n\n        SwingViewer viewer = new SwingViewer(g, Viewer.ThreadingModel.GRAPH_IN_ANOTHER_THREAD);\n        viewer.enableAutoLayout();\n        DefaultView view = (DefaultView) viewer.addView(g.getId(), new SwingGraphRenderer(), false);\n        view.setLayout(new BorderLayout());\n        view.setPreferredSize(frame.getSize());\n        JPanel panel = new JPanel();\n        panel.add(view);\n        frame.add(panel);\n        view.setMouseManager(new DefaultMouseManager());\n\n        view.setVisible(true);\n        panel.setVisible(true);\n        frame.setVisible(true);\n    }\n}\n</code></pre>\n<p>And the pom.xml dependencies:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.graphstream&lt;/groupId&gt;\n            &lt;artifactId&gt;gs-core&lt;/artifactId&gt;\n            &lt;version&gt;2.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.graphstream/gs-ui-swing --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.graphstream&lt;/groupId&gt;\n            &lt;artifactId&gt;gs-ui-swing&lt;/artifactId&gt;\n            &lt;version&gt;2.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":5282904,"reputation":18287,"user_id":4217682,"accept_rate":50,"display_name":"snachmsm"},"score":0,"creation_date":1672695629,"post_id":74987236,"comment_id":132330139,"body_markdown":"and which part you don&#39;t understand? code seems valid, should work, isn&#39;t it?","body":"and which part you don&#39;t understand? code seems valid, should work, isn&#39;t it?"},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1672696724,"post_id":74987236,"comment_id":132330346,"body_markdown":"its like calling async function that will return its result somewhere in the future without blocking the caller.","body":"its like calling async function that will return its result somewhere in the future without blocking the caller."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1672697307,"post_id":74987236,"comment_id":132330460,"body_markdown":"`a problem which won&#39;t let me upload pictures` ? Where do you have that problem? The only thing i see is that you do nothing with the obtained uri. If you do nothing nothing happens.","body":"<code>a problem which won&#39;t let me upload pictures</code> ? Where do you have that problem? The only thing i see is that you do nothing with the obtained uri. If you do nothing nothing happens."}],"answers":[{"tags":[],"owner":{"account_id":19615181,"reputation":732,"user_id":15394019,"display_name":"mindoverflow"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672877460,"creation_date":1672877460,"answer_id":75012632,"question_id":74987236,"body_markdown":"Some things to be aware of:\r\n* This way of intercommunication is deprecated as of API 30.\r\n* Sotrage access infrastructure has changes and specific steps have to be take to gain regular internal storage access privileges. Hence, Unless we use MediaStore, ROOM, or SAF, we&#39;ll get ```NullPointerException``` in most cases; or requested sotrage locations will just create a directory of that name in our com.appd.app&#39;s files directory and all interaction will be done from that source.\r\n\r\n\r\nAnyway, the current method of getting input from called Activity:\r\n\r\n###### Imports\r\n```\r\nimport androidx.activity.result.ActivityResult;\r\nimport androidx.activity.result.ActivityResultCallback;\r\nimport androidx.activity.result.ActivityResultLauncher;\r\nimport androidx.activity.result.contract.ActivityResultContracts;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport android.content.Intent;\r\n```\r\n\r\n###### Liaison object\r\n```\r\nActivityResultLauncher&lt;Intent&gt; activityForResultLauncher;\r\nactivityForResultLauncher = registerForActivityResult(new ActivityResultContracts.StartActivityForResult(), new ActivityResultCallback&lt;ActivityResult&gt;()\r\n{\r\n\t@Override\r\n\tpublic void onActivityResult(ActivityResult result)\r\n\t{\r\n\t\tif(result.getResultCode() == RESULT_OK)\r\n\t\t{\r\n\t\t\tIntent data = result.getData();\r\n\r\n\t\t\t// handle business...\r\n\t\t}\r\n\t}\r\n});\r\n```\r\n\r\n* The LAMBDA variation of the above code\r\n\t```\r\n\tActivityResultLauncher&lt;Intent&gt; activityForResultLauncher;\r\n\tactivityForResultLauncher = registerForActivityResult(new ActivityResultContracts.StartActivityForResult(), result-&gt;\r\n\t{\r\n\tif(result.getResultCode() == RESULT_OK)\r\n\t{\r\n\tintentData = result.getData();\r\n\r\n\t// handle business...\r\n\t}\r\n\t});\r\n\t```\r\n###### Launch phase\r\n* Then it is only a matter of using that object for handling comms\r\n  ```\r\n  activityForResultLauncher.launch(someIntent);\r\n  ```\r\n* Usually I&#39;d return ```RESULT_OK``` from _called_ Activity when I am done with my work there and invoke ```finish()``` on it. Then I&#39;m back to the _caller_ Activity and we&#39;re able to proceed resuming at our overriden ```onActivityResult``` method section.\r\n* The older methods aren&#39;t necessary anymore.","title":"I don&#39;t understand startActivityForResult","body":"<p>Some things to be aware of:</p>\n<ul>\n<li>This way of intercommunication is deprecated as of API 30.</li>\n<li>Sotrage access infrastructure has changes and specific steps have to be take to gain regular internal storage access privileges. Hence, Unless we use MediaStore, ROOM, or SAF, we'll get <code>NullPointerException</code> in most cases; or requested sotrage locations will just create a directory of that name in our com.appd.app's files directory and all interaction will be done from that source.</li>\n</ul>\n<p>Anyway, the current method of getting input from called Activity:</p>\n<h6>Imports</h6>\n<pre><code>import androidx.activity.result.ActivityResult;\nimport androidx.activity.result.ActivityResultCallback;\nimport androidx.activity.result.ActivityResultLauncher;\nimport androidx.activity.result.contract.ActivityResultContracts;\nimport androidx.appcompat.app.AppCompatActivity;\nimport android.content.Intent;\n</code></pre>\n<h6>Liaison object</h6>\n<pre><code>ActivityResultLauncher&lt;Intent&gt; activityForResultLauncher;\nactivityForResultLauncher = registerForActivityResult(new ActivityResultContracts.StartActivityForResult(), new ActivityResultCallback&lt;ActivityResult&gt;()\n{\n    @Override\n    public void onActivityResult(ActivityResult result)\n    {\n        if(result.getResultCode() == RESULT_OK)\n        {\n            Intent data = result.getData();\n\n            // handle business...\n        }\n    }\n});\n</code></pre>\n<ul>\n<li>The LAMBDA variation of the above code\n<pre><code>ActivityResultLauncher&lt;Intent&gt; activityForResultLauncher;\nactivityForResultLauncher = registerForActivityResult(new ActivityResultContracts.StartActivityForResult(), result-&gt;\n{\nif(result.getResultCode() == RESULT_OK)\n{\nintentData = result.getData();\n\n// handle business...\n}\n});\n</code></pre>\n</li>\n</ul>\n<h6>Launch phase</h6>\n<ul>\n<li>Then it is only a matter of using that object for handling comms\n<pre><code>activityForResultLauncher.launch(someIntent);\n</code></pre>\n</li>\n<li>Usually I'd return <code>RESULT_OK</code> from <em>called</em> Activity when I am done with my work there and invoke <code>finish()</code> on it. Then I'm back to the <em>caller</em> Activity and we're able to proceed resuming at our overriden <code>onActivityResult</code> method section.</li>\n<li>The older methods aren't necessary anymore.</li>\n</ul>\n"}],"owner":{"account_id":27415361,"reputation":11,"user_id":20914658,"display_name":"Samed"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1672877460,"creation_date":1672695200,"question_id":74987236,"body_markdown":"I am new to programming and I need to follow a course from school but i came up on a problem which won&#39;t let me upload pictures in android studio&#39;s and its this\r\n```\r\nstartActivityForResult\r\n```\r\n\r\nHere is the code\r\n\r\n\r\n```\r\nimgProfile.setOnClickListener(new View.OnClickListener() {\r\n        @Override\r\n    public void onClick(View view) {\r\n          Intent photoIntent = new Intent(Intent.ACTION_PICK);\r\n            photoIntent.setType(&quot;Image/*&quot;);\r\n            //noinspection deprecation\r\n            startActivityForResult(photoIntent, 1);\r\n        }\r\n    });\r\n\r\n\r\n\r\n\r\n\r\n}\r\n\r\n@Override\r\nprotected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n    super.onActivityResult(requestCode, resultCode, data);\r\n\r\n    if (requestCode == 1 &amp;&amp; resultCode == RESULT_OK &amp;&amp; data!=null ){\r\n\r\n        imagePath = data.getData();\r\n        getImageInImageView();\r\n    }\r\n}\r\n```\r\n\r\n\r\nI tried to look on the internet but couldn&#39;t find any solutions can anybody help me","title":"I don&#39;t understand startActivityForResult","body":"<p>I am new to programming and I need to follow a course from school but i came up on a problem which won't let me upload pictures in android studio's and its this</p>\n<pre><code>startActivityForResult\n</code></pre>\n<p>Here is the code</p>\n<pre><code>imgProfile.setOnClickListener(new View.OnClickListener() {\n        @Override\n    public void onClick(View view) {\n          Intent photoIntent = new Intent(Intent.ACTION_PICK);\n            photoIntent.setType(&quot;Image/*&quot;);\n            //noinspection deprecation\n            startActivityForResult(photoIntent, 1);\n        }\n    });\n\n\n\n\n\n}\n\n@Override\nprotected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n    super.onActivityResult(requestCode, resultCode, data);\n\n    if (requestCode == 1 &amp;&amp; resultCode == RESULT_OK &amp;&amp; data!=null ){\n\n        imagePath = data.getData();\n        getImageInImageView();\n    }\n}\n</code></pre>\n<p>I tried to look on the internet but couldn't find any solutions can anybody help me</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1161345,"reputation":1837,"user_id":1140783,"accept_rate":67,"display_name":"Syed Ali"},"score":0,"creation_date":1672941069,"post_id":75004506,"comment_id":132391782,"body_markdown":"Please provide detailed error message that you are getting.","body":"Please provide detailed error message that you are getting."}],"answers":[{"tags":[],"owner":{"account_id":6403618,"reputation":76,"user_id":4965547,"display_name":"Alexis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672877379,"creation_date":1672877379,"answer_id":75012623,"question_id":75004506,"body_markdown":"You may get this exception because the value returned by `findCustomerByID()` is an [`Optional`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Optional.html) of `Customer` (`Optional&lt;Customer&gt;`) and not `null`.\r\n\r\nInstead of `customerService.findCustomerByID(transaction.getCustID()) == null` you should have `customerService.findCustomerByID(transaction.getCustID()).isEmpty()`.","title":"I am getting NoSuchElementException: No value present","body":"<p>You may get this exception because the value returned by <code>findCustomerByID()</code> is an <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Optional.html\" rel=\"nofollow noreferrer\"><code>Optional</code></a> of <code>Customer</code> (<code>Optional&lt;Customer&gt;</code>) and not <code>null</code>.</p>\n<p>Instead of <code>customerService.findCustomerByID(transaction.getCustID()) == null</code> you should have <code>customerService.findCustomerByID(transaction.getCustID()).isEmpty()</code>.</p>\n"}],"owner":{"account_id":27386617,"reputation":11,"user_id":20890302,"display_name":"Bibek Bhattarai"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":382,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1672877379,"creation_date":1672830405,"question_id":75004506,"body_markdown":"I have two classes one for Customers and one for Transaction. In the transaction, I have a field custID(int) which is also present in Customer. I have all the getter and setter, repos, services, and controller as well. But in one of my methods in the service layer, I am getting NoSuchElementException.\r\n\r\nI understand that while the code runs and checks for a record in the database with passed custID, it cannot find the record. But I have mentioned what to do in such case. But my code doesn&#39;t move to the code block at all.\r\n\r\nCustomer Class\r\n```\r\n@Entity\r\n@Table(name = &quot;customers&quot;)\r\npublic class Customer {\r\n\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tprivate int custID;\r\n\tprivate String custName;\r\n\tprivate String email;\r\n\tprivate String phone;\r\n\t@JsonFormat(shape = JsonFormat.Shape.STRING, pattern = &quot;dd-MM-yyyy&quot;)\r\n\tprivate LocalDate registrationDate;\r\n\r\n```\r\n\r\nTransaction Class\r\n```\r\n@Entity\r\n@Table(name = &quot;transactions&quot;)\r\npublic class Transaction {\r\n\t\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tprivate int transID;\r\n\tprivate int custID;\r\n\tprivate int transAmount;\r\n\t@JsonFormat(shape = JsonFormat.Shape.STRING, pattern = &quot;dd-MM-yyyy&quot;)\r\n\tprivate LocalDate transDate;\r\n\r\n```\r\n\r\nService layer from where the issue arises:\r\nTransactionServiceImpl\r\n```\r\n\t@Override\r\n\tpublic Transaction addTransaction(CustomerTransaction customerTransaction) {\r\n\t\tCustomer customer = customerTransaction.getCustomer();\r\n\t\tTransaction transaction = customerTransaction.getTransaction();\r\n\t\t\r\n\t\tif(customerService.findCustomerByID(transaction.getCustID()) == null) {\r\n\t\t\tcustomerService.addCustomer(customer);\r\n\t\t\treturn transactionRepository.save(transaction);\r\n\t\t} else{\r\n\t\t\treturn transactionRepository.save(transaction);\r\n\t\t}\r\n\t}\r\n```\r\n\r\nWhat I am doing is, pass a wrapper object CustomerTransaction that has the info for the customer and transaction. And check if the customer is already registered with custID. If its there, it only records the transaction(which works fine as in &#39;else&#39; block). But if it is not there I want to record the customer and the transaction both as in &#39;if&#39; block. But it throws the NoSuchElementException: No value present.\r\n\r\nBut if I am to pass only the customer details via customer&#39;s service layer it adds the customer.\r\n\r\nCustomerServiceImpl\r\n```\r\n@Override\r\n\tpublic Customer addCustomer(Customer customer) {\r\n\t\t\r\n\t\treturn customerRepository.save(customer);\r\n\t}\r\n```\r\n\r\nPostman Requests:\r\nFor customer only:\r\n```{\r\n        &quot;custName&quot;: &quot;Bibek Bhattarai&quot;,\r\n        &quot;email&quot;: &quot;spongebob@gmail.com&quot;,\r\n        &quot;phone&quot;: 9803064423,\r\n        &quot;registrationDate&quot;: &quot;03-01-2023&quot;\r\n    }\r\n```\r\n\r\nFor customerTransaction:\r\n```\r\n{\r\n    &quot;customer&quot;:{\r\n        &quot;custName&quot;: &quot;Sponge Bob&quot;,\r\n        &quot;email&quot;: &quot;spongebob@gmail.com&quot;,\r\n        &quot;phone&quot;: 9803064423,\r\n        &quot;registrationDate&quot;: &quot;03-01-2023&quot;\r\n    },\r\n    &quot;transaction&quot;:{\r\n        &quot;custID&quot;:9,\r\n        &quot;transAmount&quot;: 5000,\r\n        &quot;transDate&quot;: &quot;04-01-2023&quot;\r\n    }\r\n}\r\n```","title":"I am getting NoSuchElementException: No value present","body":"<p>I have two classes one for Customers and one for Transaction. In the transaction, I have a field custID(int) which is also present in Customer. I have all the getter and setter, repos, services, and controller as well. But in one of my methods in the service layer, I am getting NoSuchElementException.</p>\n<p>I understand that while the code runs and checks for a record in the database with passed custID, it cannot find the record. But I have mentioned what to do in such case. But my code doesn't move to the code block at all.</p>\n<p>Customer Class</p>\n<pre><code>@Entity\n@Table(name = &quot;customers&quot;)\npublic class Customer {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int custID;\n    private String custName;\n    private String email;\n    private String phone;\n    @JsonFormat(shape = JsonFormat.Shape.STRING, pattern = &quot;dd-MM-yyyy&quot;)\n    private LocalDate registrationDate;\n\n</code></pre>\n<p>Transaction Class</p>\n<pre><code>@Entity\n@Table(name = &quot;transactions&quot;)\npublic class Transaction {\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int transID;\n    private int custID;\n    private int transAmount;\n    @JsonFormat(shape = JsonFormat.Shape.STRING, pattern = &quot;dd-MM-yyyy&quot;)\n    private LocalDate transDate;\n\n</code></pre>\n<p>Service layer from where the issue arises:\nTransactionServiceImpl</p>\n<pre><code>    @Override\n    public Transaction addTransaction(CustomerTransaction customerTransaction) {\n        Customer customer = customerTransaction.getCustomer();\n        Transaction transaction = customerTransaction.getTransaction();\n        \n        if(customerService.findCustomerByID(transaction.getCustID()) == null) {\n            customerService.addCustomer(customer);\n            return transactionRepository.save(transaction);\n        } else{\n            return transactionRepository.save(transaction);\n        }\n    }\n</code></pre>\n<p>What I am doing is, pass a wrapper object CustomerTransaction that has the info for the customer and transaction. And check if the customer is already registered with custID. If its there, it only records the transaction(which works fine as in 'else' block). But if it is not there I want to record the customer and the transaction both as in 'if' block. But it throws the NoSuchElementException: No value present.</p>\n<p>But if I am to pass only the customer details via customer's service layer it adds the customer.</p>\n<p>CustomerServiceImpl</p>\n<pre><code>@Override\n    public Customer addCustomer(Customer customer) {\n        \n        return customerRepository.save(customer);\n    }\n</code></pre>\n<p>Postman Requests:\nFor customer only:</p>\n<pre><code>        &quot;custName&quot;: &quot;Bibek Bhattarai&quot;,\n        &quot;email&quot;: &quot;spongebob@gmail.com&quot;,\n        &quot;phone&quot;: 9803064423,\n        &quot;registrationDate&quot;: &quot;03-01-2023&quot;\n    }\n</code></pre>\n<p>For customerTransaction:</p>\n<pre><code>{\n    &quot;customer&quot;:{\n        &quot;custName&quot;: &quot;Sponge Bob&quot;,\n        &quot;email&quot;: &quot;spongebob@gmail.com&quot;,\n        &quot;phone&quot;: 9803064423,\n        &quot;registrationDate&quot;: &quot;03-01-2023&quot;\n    },\n    &quot;transaction&quot;:{\n        &quot;custID&quot;:9,\n        &quot;transAmount&quot;: 5000,\n        &quot;transDate&quot;: &quot;04-01-2023&quot;\n    }\n}\n</code></pre>\n"},{"tags":["java","image"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":3,"creation_date":1672798074,"post_id":75000297,"comment_id":132353388,"body_markdown":"Get the image as a resource, not as a file.","body":"Get the image as a resource, not as a file."},{"owner":{"account_id":209503,"reputation":22790,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":2,"creation_date":1672798184,"post_id":75000297,"comment_id":132353402,"body_markdown":"The `File` class will look for the file in the OS, therefore if you are in the `MyGame` folder and your image is inside the `resource` folder running it from there you need to add the `src` folder to your path. This is the first part of the problem. @HovercraftFullOfEels beat me to it for the second part, since you are adding the file as a resource, you access it as a resource. Though I have to ask to Hover, will it work if he is not creating a Jar file for it?","body":"The <code>File</code> class will look for the file in the OS, therefore if you are in the <code>MyGame</code> folder and your image is inside the <code>resource</code> folder running it from there you need to add the <code>src</code> folder to your path. This is the first part of the problem. @HovercraftFullOfEels beat me to it for the second part, since you are adding the file as a resource, you access it as a resource. Though I have to ask to Hover, will it work if he is not creating a Jar file for it?"},{"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"score":1,"creation_date":1672798284,"post_id":75000297,"comment_id":132353415,"body_markdown":"I thought linux was case sensitive - file names don&#39;t match.  `spritesheet.png` vs `spriteSheet.png`","body":"I thought linux was case sensitive - file names don&#39;t match.  <code>spritesheet.png</code> vs <code>spriteSheet.png</code>"},{"owner":{"account_id":209503,"reputation":22790,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":0,"creation_date":1672798351,"post_id":75000297,"comment_id":132353424,"body_markdown":"@67af7af3-67f3-48bf-98c5-d9155c Good point! That&#39;s also a problem","body":"@67af7af3-67f3-48bf-98c5-d9155c Good point! That&#39;s also a problem"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1672799773,"post_id":75000297,"comment_id":132353575,"body_markdown":"https://docs.oracle.com/javase/tutorial/uiswing/components/icon.html","body":"<a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/icon.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/uiswing/components/icon.html</a>"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1672800374,"post_id":75000297,"comment_id":132353631,"body_markdown":"The `new File(&quot;resources\\\\spritesheet.png&quot;)` is *relative* path. It is relative to *current directory*. To know what is *location* of current director see result of `new File(&quot;.&quot;).getAbsolutePath()` (it may not be what you think it is). You can also know location from which your application tries to read your file via printing result of `new File(&quot;resources\\\\spritesheet.png&quot;).getAbsolutePath()`. Try to compare that result with actual path of your file, but since you got error they can&#39;t match.","body":"The <code>new File(&quot;resources\\\\spritesheet.png&quot;)</code> is <i>relative</i> path. It is relative to <i>current directory</i>. To know what is <i>location</i> of current director see result of <code>new File(&quot;.&quot;).getAbsolutePath()</code> (it may not be what you think it is). You can also know location from which your application tries to read your file via printing result of <code>new File(&quot;resources\\\\spritesheet.png&quot;).getAbsolutePath()</code>. Try to compare that result with actual path of your file, but since you got error they can&#39;t match."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1672800462,"post_id":75000297,"comment_id":132353644,"body_markdown":"If you want to read from locations relative to location of project (or JAR from which it is run) you should *load them as resources*. Here is example of question on that subject [Loading resources like images while running project distributed as JAR archive](https://stackoverflow.com/q/9864267)","body":"If you want to read from locations relative to location of project (or JAR from which it is run) you should <i>load them as resources</i>. Here is example of question on that subject <a href=\"https://stackoverflow.com/q/9864267\">Loading resources like images while running project distributed as JAR archive</a>"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1672870674,"post_id":75000297,"comment_id":132373433,"body_markdown":"Since your question isn&#39;t closed, maybe your edit should be an answer? Also, your 3 points, can you include the code that produces those results? eg, how did you &quot;I loaded in the image as a resource instead of an image &quot; ?","body":"Since your question isn&#39;t closed, maybe your edit should be an answer? Also, your 3 points, can you include the code that produces those results? eg, how did you &quot;I loaded in the image as a resource instead of an image &quot; ?"}],"answers":[{"tags":[],"owner":{"account_id":27426071,"reputation":29,"user_id":20923541,"display_name":"Priff13"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1672876804,"creation_date":1672876804,"answer_id":75012571,"question_id":75000297,"body_markdown":"Thanks everyone for all the help! If anyone sees this in the future, here is what I changed to make it work. \r\n \r\nFirst, I moved the resource folder out of the src folder and into the root folder so it could be accessed (thanks to [Jorge Campos][2] for that).  \r\n \r\nThen, I loaded in the image as a resource instead of a file, and I fixed the capitalization error. (thanks to [Hovercraft Full Of Eels][1] and [ \r\n67af7af3-67f3-48bf-98c5-d9155c][3] for that, respectively). \r\n\r\nIn the URL, I changed the `\\\\`&#39;s into `/`&#39;s, and added one in front of it.\r\n \r\nIn total, I changed this:\r\n```\r\nthis.spriteSheet = ImageIO.read(new File(&quot;resources\\\\spritesheet.png&quot;));\r\n```\r\nInto this:\r\n```\r\nthis.spriteSheet = ImageIO.read(getClass().getResourceAsStream(&quot;/resources/spriteSheet.png&quot;));\r\n```\r\nand I moved the resources folder into the root folder.\r\n\r\nOnce again, thank you all for your help!\r\n\r\nnote: the &#39;`this.`&#39; in the above code examples in unnecessary, but it works either way.\r\n\r\n  [1]: https://stackoverflow.com/posts/75000297/edit#:~:text=Hovercraft%20Full%20Of%20Eels\r\n  [2]: https://stackoverflow.com/users/460557/jorge-campos\r\n  [3]: https://stackoverflow.com/users/17856705/67af7af3-67f3-48bf-98c5-d9155c","title":"Why is there an error when I try to load an image?","body":"<p>Thanks everyone for all the help! If anyone sees this in the future, here is what I changed to make it work.</p>\n<p>First, I moved the resource folder out of the src folder and into the root folder so it could be accessed (thanks to <a href=\"https://stackoverflow.com/users/460557/jorge-campos\">Jorge Campos</a> for that).</p>\n<p>Then, I loaded in the image as a resource instead of a file, and I fixed the capitalization error. (thanks to <a href=\"https://stackoverflow.com/posts/75000297/edit#:%7E:text=Hovercraft%20Full%20Of%20Eels\">Hovercraft Full Of Eels</a> and <a href=\"https://stackoverflow.com/users/17856705/67af7af3-67f3-48bf-98c5-d9155c\">\n67af7af3-67f3-48bf-98c5-d9155c</a> for that, respectively).</p>\n<p>In the URL, I changed the <code>\\\\</code>'s into <code>/</code>'s, and added one in front of it.</p>\n<p>In total, I changed this:</p>\n<pre><code>this.spriteSheet = ImageIO.read(new File(&quot;resources\\\\spritesheet.png&quot;));\n</code></pre>\n<p>Into this:</p>\n<pre><code>this.spriteSheet = ImageIO.read(getClass().getResourceAsStream(&quot;/resources/spriteSheet.png&quot;));\n</code></pre>\n<p>and I moved the resources folder into the root folder.</p>\n<p>Once again, thank you all for your help!</p>\n<p>note: the '<code>this.</code>' in the above code examples in unnecessary, but it works either way.</p>\n"}],"owner":{"account_id":27426071,"reputation":29,"user_id":20923541,"display_name":"Priff13"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75012571,"answer_count":1,"score":1,"last_activity_date":1672876804,"creation_date":1672797758,"question_id":75000297,"body_markdown":"So, I have made a class called TileDrawer.java, which is supposed to load in a BufferedImage with the following code:\r\n```\r\nBufferedImage spriteSheet = null;    \r\n\r\npublic void initSpriteSheet() {\r\n        try {\r\n                this.spriteSheet = ImageIO.read(new File(&quot;resources\\\\spritesheet.png&quot;));\r\n        } catch (IOException e) {\r\n                e.printStackTrace();\r\n        }\r\n}   \r\n``` \r\nbut when I try to run the method after initializing the object, it gives me this error:\r\n```\r\njavax.imageio.IIOException: Can&#39;t read input file!\r\n```\r\n\r\n---\r\n\r\n\r\nThis is my current full code for the TileDrawer class:\r\n\r\n```\r\npackage mainGame;\r\n        \r\n//imports\r\n                \r\npublic class TileDrawer {\r\n        BufferedImage spriteSheet = null;    \r\n                \r\n         \r\n        public void initSpriteSheet() {\r\n                try {\r\n                        this.spriteSheet = ImageIO.read(new File(&quot;resources\\\\spritesheet.png&quot;));\r\n                } catch (IOException e) {\r\n                        e.printStackTrace();\r\n                }\r\n        }        \r\n        \r\n        //irrelevant methods were here\r\n}\r\n```\r\n\r\nand I also have this class, called GamePanel with the following code:\r\n\r\n```\r\npackage mainGame;\r\n\r\n//imports\r\n\r\npublic class GamePanel extends JPanel implements Runnable {\r\n        \r\n        Thread gameThread;\r\n        \r\n        TileDrawer tileDrawer = new TileDrawer();\r\n\r\n        //vars\r\n        \r\n        public GamePanel() {} //game panel\r\n        \r\n        public void startGameThread() {\r\n                tileDrawer.initSpriteSheet(); //  &lt;---  here                                                     \r\n                gameThread = new Thread(this);\r\n                gameThread.start();\r\n        }\r\n                 \r\n        @Override\r\n        public void run() {\r\n                //stuff to make a functioning loop\r\n\r\n                while (gameThread != null) {\r\n                        \r\n                        //more loop stuff\r\n\r\n                        if (delta &gt;= 1) { //delta is only used to cap the framerate\r\n\r\n                                update();\r\n                                repaint();\r\n                                \r\n                                //even more loop stuff\r\n                        }\r\n                }\r\n        }\r\n\r\n        public void update() {\r\n                //update stuff here\r\n        }\r\n\r\n        protected void paintComponent(Graphics g) {\r\n\r\n                super.paintComponent(g);\r\n\r\n                Graphics2D g2 = (Graphics2D)g;\r\n\r\n                //drawing stuff goes here\r\n\r\n                g2.dispose();\r\n\r\n        }\r\n}\r\n```\r\n--- \r\n\r\nSome background info:\r\n- I am using Debian Linux\r\n- The directory looks like this:\r\n```\r\nMyGame\r\n|------build\r\n|      |------(Compiled java files)\r\n|------src\r\n|      |------Main.java (irrelevant)\r\n|      |------GamePanel.java\r\n|      |------TileDrawer.java\r\n|      |------resources\r\n|      |      |------spriteSheet.png\r\n```\r\n- I am not using an IDE to compile my code, I am simply using these commands:\r\n```\r\ncd /home/{my username}/MyGame/\r\njavac -d ./build src/Main.java src/GamePanel.java src/TileDrawer.java\r\ncd build\r\njava mainGame.Main\r\n```\r\n\r\n--- \r\n\r\nAll of these things I tried, but none of them worked when I tried to implement them:\r\n\r\n- changing the file path into singular normal slashes\r\n- changing the file path into singular normal slashes and putting one at the front\r\n- using a normal Image file instead of a BufferedImage\r\n- putting the image file into the same directory as the java file\r\n\r\n---\r\nAny help on how to fix my problem would be greatly appreciated.  ","title":"Why is there an error when I try to load an image?","body":"<p>So, I have made a class called TileDrawer.java, which is supposed to load in a BufferedImage with the following code:</p>\n<pre><code>BufferedImage spriteSheet = null;    \n\npublic void initSpriteSheet() {\n        try {\n                this.spriteSheet = ImageIO.read(new File(&quot;resources\\\\spritesheet.png&quot;));\n        } catch (IOException e) {\n                e.printStackTrace();\n        }\n}   \n</code></pre>\n<p>but when I try to run the method after initializing the object, it gives me this error:</p>\n<pre><code>javax.imageio.IIOException: Can't read input file!\n</code></pre>\n<hr />\n<p>This is my current full code for the TileDrawer class:</p>\n<pre><code>package mainGame;\n        \n//imports\n                \npublic class TileDrawer {\n        BufferedImage spriteSheet = null;    \n                \n         \n        public void initSpriteSheet() {\n                try {\n                        this.spriteSheet = ImageIO.read(new File(&quot;resources\\\\spritesheet.png&quot;));\n                } catch (IOException e) {\n                        e.printStackTrace();\n                }\n        }        \n        \n        //irrelevant methods were here\n}\n</code></pre>\n<p>and I also have this class, called GamePanel with the following code:</p>\n<pre><code>package mainGame;\n\n//imports\n\npublic class GamePanel extends JPanel implements Runnable {\n        \n        Thread gameThread;\n        \n        TileDrawer tileDrawer = new TileDrawer();\n\n        //vars\n        \n        public GamePanel() {} //game panel\n        \n        public void startGameThread() {\n                tileDrawer.initSpriteSheet(); //  &lt;---  here                                                     \n                gameThread = new Thread(this);\n                gameThread.start();\n        }\n                 \n        @Override\n        public void run() {\n                //stuff to make a functioning loop\n\n                while (gameThread != null) {\n                        \n                        //more loop stuff\n\n                        if (delta &gt;= 1) { //delta is only used to cap the framerate\n\n                                update();\n                                repaint();\n                                \n                                //even more loop stuff\n                        }\n                }\n        }\n\n        public void update() {\n                //update stuff here\n        }\n\n        protected void paintComponent(Graphics g) {\n\n                super.paintComponent(g);\n\n                Graphics2D g2 = (Graphics2D)g;\n\n                //drawing stuff goes here\n\n                g2.dispose();\n\n        }\n}\n</code></pre>\n<hr />\n<p>Some background info:</p>\n<ul>\n<li>I am using Debian Linux</li>\n<li>The directory looks like this:</li>\n</ul>\n<pre><code>MyGame\n|------build\n|      |------(Compiled java files)\n|------src\n|      |------Main.java (irrelevant)\n|      |------GamePanel.java\n|      |------TileDrawer.java\n|      |------resources\n|      |      |------spriteSheet.png\n</code></pre>\n<ul>\n<li>I am not using an IDE to compile my code, I am simply using these commands:</li>\n</ul>\n<pre><code>cd /home/{my username}/MyGame/\njavac -d ./build src/Main.java src/GamePanel.java src/TileDrawer.java\ncd build\njava mainGame.Main\n</code></pre>\n<hr />\n<p>All of these things I tried, but none of them worked when I tried to implement them:</p>\n<ul>\n<li>changing the file path into singular normal slashes</li>\n<li>changing the file path into singular normal slashes and putting one at the front</li>\n<li>using a normal Image file instead of a BufferedImage</li>\n<li>putting the image file into the same directory as the java file</li>\n</ul>\n<hr />\n<p>Any help on how to fix my problem would be greatly appreciated.</p>\n"},{"tags":["java","c#"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":3,"creation_date":1672876803,"post_id":75012561,"comment_id":132374644,"body_markdown":"`a = 235.335` doesn&#39;t actually set `a` to `235.335`.  It sets it to the nearest number that has a precise `double` representation.","body":"<code>a = 235.335</code> doesn&#39;t actually set <code>a</code> to <code>235.335</code>.  It sets it to the nearest number that has a precise <code>double</code> representation."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":1,"creation_date":1672879360,"post_id":75012561,"comment_id":132375008,"body_markdown":"... which according to [this online calculator](https://www.exploringbinary.com/floating-point-converter/) happens to be `265.33499999999997953636921010911464691162109375`, which is why it got rounded down.","body":"... which according to <a href=\"https://www.exploringbinary.com/floating-point-converter/\" rel=\"nofollow noreferrer\">this online calculator</a> happens to be <code>265.33499999999997953636921010911464691162109375</code>, which is why it got rounded down."},{"owner":{"account_id":16821012,"reputation":369,"user_id":12161481,"display_name":"Mike93041"},"score":1,"creation_date":1672879683,"post_id":75012561,"comment_id":132375049,"body_markdown":"In C# just use [decimal type](https://learn.microsoft.com/es-es/dotnet/api/system.decimal?view=net-7.0#remarks) and It would get rounded to 235.34","body":"In C# just use <a href=\"https://learn.microsoft.com/es-es/dotnet/api/system.decimal?view=net-7.0#remarks\" rel=\"nofollow noreferrer\">decimal type</a> and It would get rounded to 235.34"},{"owner":{"account_id":4753102,"reputation":3151,"user_id":4886722,"display_name":"Dmitry Khamitov"},"score":0,"creation_date":1672922841,"post_id":75012561,"comment_id":132384797,"body_markdown":"You can also do `new BigDecimal(265.335)` in Java to see the real floating-point representation of `265.335`. That will match to the one from the above online calculator. You can also use `var bd = BigDecimal.valueOf(265.335); df.format(bd)`, which will achieve you goal. For details, you can refer to javadoc of `BigDecimal` methods I&#39;ve outlined here.","body":"You can also do <code>new BigDecimal(265.335)</code> in Java to see the real floating-point representation of <code>265.335</code>. That will match to the one from the above online calculator. You can also use <code>var bd = BigDecimal.valueOf(265.335); df.format(bd)</code>, which will achieve you goal. For details, you can refer to javadoc of <code>BigDecimal</code> methods I&#39;ve outlined here."}],"owner":{"account_id":11512926,"reputation":33,"user_id":10560184,"display_name":"Andorrax"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"closed_date":1672879387,"answer_count":0,"score":2,"last_activity_date":1672876617,"creation_date":1672876617,"question_id":75012561,"body_markdown":"I&#39;m working on a bit of code where I&#39;m implementing half-even rounding. I&#39;ve been using this post (https://stackoverflow.com/questions/153724/how-to-round-a-number-to-n-decimal-places-in-java) as a guide and am running tests using the code below on an online Java compiler: \r\n\r\n```\r\n// Java code\r\npublic static void main(String []args){\r\n        String precisionString = &quot;#.##&quot;;\r\n        double localValue = 265.335;\r\n        DecimalFormat df = new DecimalFormat(precisionString);\r\n        df.setRoundingMode(RoundingMode.HALF_EVEN);\r\n        System.out.println(Double.parseDouble(df.format(localValue)));    \r\n     }\r\n```\r\n\r\nIt works fine for most test values, but for the value 265.335, rounding to 2 decimal places returns 265.33 when it should be 265.34. \r\n\r\nI tested this out on an online C# compiler and got similar results (C# equivalent below), so I&#39;m thinking this isn&#39;t a language bug but rather something to do with how the numbers are being read in binary. I&#39;m not able to figure out exactly what/where the problem is though.. \r\n\r\n```\r\n// C# code\r\npublic static void Main()\r\n\t{\r\n\t\tdouble a = 265.335;\r\n\t\tvar rounded = Math.Round(a, 2, MidpointRounding.ToEven);\r\n\t\tConsole.WriteLine(rounded);\r\n\t}\r\n```\r\nThoughts ? \r\n ","title":"Half-Even Rounding - 265.335 rounding to 2 digits gives 265.33 but should be 265.34?","body":"<p>I'm working on a bit of code where I'm implementing half-even rounding. I've been using this post (<a href=\"https://stackoverflow.com/questions/153724/how-to-round-a-number-to-n-decimal-places-in-java\">How to round a number to n decimal places in Java</a>) as a guide and am running tests using the code below on an online Java compiler:</p>\n<pre><code>// Java code\npublic static void main(String []args){\n        String precisionString = &quot;#.##&quot;;\n        double localValue = 265.335;\n        DecimalFormat df = new DecimalFormat(precisionString);\n        df.setRoundingMode(RoundingMode.HALF_EVEN);\n        System.out.println(Double.parseDouble(df.format(localValue)));    \n     }\n</code></pre>\n<p>It works fine for most test values, but for the value 265.335, rounding to 2 decimal places returns 265.33 when it should be 265.34.</p>\n<p>I tested this out on an online C# compiler and got similar results (C# equivalent below), so I'm thinking this isn't a language bug but rather something to do with how the numbers are being read in binary. I'm not able to figure out exactly what/where the problem is though..</p>\n<pre><code>// C# code\npublic static void Main()\n    {\n        double a = 265.335;\n        var rounded = Math.Round(a, 2, MidpointRounding.ToEven);\n        Console.WriteLine(rounded);\n    }\n</code></pre>\n<p>Thoughts ?</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa","spring-data"],"comments":[{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1574446466,"post_id":58999473,"comment_id":104249666,"body_markdown":"There&#39;s more to that exception stack. Please post the full thing.","body":"There&#39;s more to that exception stack. Please post the full thing."},{"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"score":0,"creation_date":1574448555,"post_id":58999473,"comment_id":104250503,"body_markdown":"Now I get this error stack:  pastebin.com/031gkhaz","body":"Now I get this error stack:  pastebin.com/031gkhaz"},{"owner":{"account_id":9847991,"reputation":56906,"user_id":7294900,"accept_rate":94,"display_name":"Ori Marko"},"score":0,"creation_date":1574662462,"post_id":58999473,"comment_id":104296826,"body_markdown":"You don&#39;t have url in datasource configuration","body":"You don&#39;t have url in datasource configuration"},{"owner":{"account_id":11035993,"reputation":53,"user_id":8105771,"display_name":"Suphi &#199;EVİKER "},"score":0,"creation_date":1651322811,"post_id":58999473,"comment_id":127340106,"body_markdown":"Your url is not shown here, what I think the problem is at your url. Was it a mysql url instead of mariadb url?","body":"Your url is not shown here, what I think the problem is at your url. Was it a mysql url instead of mariadb url?"}],"answers":[{"tags":[],"owner":{"account_id":4668137,"reputation":6228,"user_id":9681755,"display_name":"Dirk Deyne"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1574629398,"creation_date":1574446808,"answer_id":58999763,"question_id":58999473,"body_markdown":"correct the name of both entityManager beans: productionEntityManager and warehouseEntityManager\r\n\r\n`entityManagerFactoryRef` in `@EnableJpaRepositories` is the beanName reference, \r\n\r\nso use\r\n```\r\n@Configuration\r\n@EnableJpaRepositories(\r\n        basePackages = &quot;org.datalis.plugin.production.entity&quot;, \r\n        entityManagerFactoryRef = &quot;productionEntityManager&quot;,  \r\n        transactionManagerRef = &quot;productionTransactionManager&quot; \r\n    )\r\n@EnableTransactionManagement\r\npublic class ContextProductionDatasource {\r\n\r\n  ...\r\n\r\n @Primary\r\n    @Bean   \r\n    public EntityManager productionEntityManager(EntityManagerFactory emf) {\r\n        return emf.createEntityManager();\r\n    }\r\n```\r\n\r\nand \r\n\r\n```\r\n@Configuration\r\n@EnableJpaRepositories(\r\n        basePackages = &quot;org.datalis.plugin.warehouse.entity&quot;, \r\n        entityManagerFactoryRef = &quot;warehouseEntityManager&quot;, \r\n        transactionManagerRef = &quot;warehouseTransactionManager&quot;\r\n    )\r\n@EnableTransactionManagement\r\npublic class ContextWarehouseDatasource {\r\n\r\n   ...\r\n\r\n    @Bean   \r\n    public EntityManager warehouseEntityManager(EntityManagerFactory emf) {\r\n        return emf.createEntityManager();\r\n    }\r\n```\r\n\r\nyou need to match the property-name in `@ConfigurationProperties` to the value of properties &#39;**-**&#39; versus &#39;**.**&#39; \r\n\r\nuse  `@ConfigurationProperties(prefix=&quot;spring.production-datasource&quot;)` and\r\n`@ConfigurationProperties(prefix=&quot;spring.warehouse-datasource&quot;)`\r\n\r\nand make sure you have have driver in your classpath\r\n\r\nlike\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.mariadb.jdbc&lt;/groupId&gt;\r\n    &lt;artifactId&gt;mariadb-java-client&lt;/artifactId&gt;\r\n    &lt;version&gt;2.5.2&lt;/version&gt;\r\n    &lt;scope&gt;runtime&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```","title":"Failed to load driver class org.mariadb.jdbc.Driver","body":"<p>correct the name of both entityManager beans: productionEntityManager and warehouseEntityManager</p>\n\n<p><code>entityManagerFactoryRef</code> in <code>@EnableJpaRepositories</code> is the beanName reference, </p>\n\n<p>so use</p>\n\n<pre><code>@Configuration\n@EnableJpaRepositories(\n        basePackages = \"org.datalis.plugin.production.entity\", \n        entityManagerFactoryRef = \"productionEntityManager\",  \n        transactionManagerRef = \"productionTransactionManager\" \n    )\n@EnableTransactionManagement\npublic class ContextProductionDatasource {\n\n  ...\n\n @Primary\n    @Bean   \n    public EntityManager productionEntityManager(EntityManagerFactory emf) {\n        return emf.createEntityManager();\n    }\n</code></pre>\n\n<p>and </p>\n\n<pre><code>@Configuration\n@EnableJpaRepositories(\n        basePackages = \"org.datalis.plugin.warehouse.entity\", \n        entityManagerFactoryRef = \"warehouseEntityManager\", \n        transactionManagerRef = \"warehouseTransactionManager\"\n    )\n@EnableTransactionManagement\npublic class ContextWarehouseDatasource {\n\n   ...\n\n    @Bean   \n    public EntityManager warehouseEntityManager(EntityManagerFactory emf) {\n        return emf.createEntityManager();\n    }\n</code></pre>\n\n<p>you need to match the property-name in <code>@ConfigurationProperties</code> to the value of properties '<strong>-</strong>' versus '<strong>.</strong>' </p>\n\n<p>use  <code>@ConfigurationProperties(prefix=\"spring.production-datasource\")</code> and\n<code>@ConfigurationProperties(prefix=\"spring.warehouse-datasource\")</code></p>\n\n<p>and make sure you have have driver in your classpath</p>\n\n<p>like</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.mariadb.jdbc&lt;/groupId&gt;\n    &lt;artifactId&gt;mariadb-java-client&lt;/artifactId&gt;\n    &lt;version&gt;2.5.2&lt;/version&gt;\n    &lt;scope&gt;runtime&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1754145,"reputation":43960,"user_id":1602555,"display_name":"Karol Dowbecki"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1574630237,"creation_date":1574626632,"answer_id":59021957,"question_id":58999473,"body_markdown":"In your properties you are using `spring.production-datasource` however in the Spring `@Configuration` you are attempting to map it with `@ConfigurationProperties(prefix = &quot;spring.production.datasource&quot;)`. Starting from Spring Boot 2 the relaxed property binding rules [are now more strict][1] so there is a mismatch between a dash and a dot here.\r\n\r\nYou either need to change properties to `spring.production.datasource` or use  `@ConfigurationProperties(prefix = &quot;spring.production-datasource&quot;)`.\r\n\r\nWhen configuring Spring Boot `DataSource` you can either use `jndi-name` or provide the connection details, not both. As per [Common Application properties][2]:\r\n\r\n&gt; spring.datasource.jndi-name\r\n&gt;\t\t\r\n&gt; JNDI location of the datasource. Class, url, username &amp; password are ignored \r\n\r\nYou most likely have to remove `spring.production-datasource.driver-class-name` property as it collides with `jndi-name`.\r\n\r\n  [1]: https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.0-Migration-Guide#relaxed-binding\r\n  [2]: https://docs.spring.io/spring-boot/docs/current/reference/html/appendix-application-properties.html","title":"Failed to load driver class org.mariadb.jdbc.Driver","body":"<p>In your properties you are using <code>spring.production-datasource</code> however in the Spring <code>@Configuration</code> you are attempting to map it with <code>@ConfigurationProperties(prefix = \"spring.production.datasource\")</code>. Starting from Spring Boot 2 the relaxed property binding rules <a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.0-Migration-Guide#relaxed-binding\" rel=\"nofollow noreferrer\">are now more strict</a> so there is a mismatch between a dash and a dot here.</p>\n\n<p>You either need to change properties to <code>spring.production.datasource</code> or use  <code>@ConfigurationProperties(prefix = \"spring.production-datasource\")</code>.</p>\n\n<p>When configuring Spring Boot <code>DataSource</code> you can either use <code>jndi-name</code> or provide the connection details, not both. As per <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/appendix-application-properties.html\" rel=\"nofollow noreferrer\">Common Application properties</a>:</p>\n\n<blockquote>\n  <p>spring.datasource.jndi-name</p>\n  \n  <p>JNDI location of the datasource. Class, url, username &amp; password are ignored </p>\n</blockquote>\n\n<p>You most likely have to remove <code>spring.production-datasource.driver-class-name</code> property as it collides with <code>jndi-name</code>.</p>\n"},{"tags":[],"owner":{"account_id":2030838,"reputation":1174,"user_id":1814589,"display_name":"huoneusto"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672875280,"creation_date":1672875280,"answer_id":75012463,"question_id":58999473,"body_markdown":"(Disclaimer: I&#39;m complete newbie to Spring Boot, H2, Maven, etc.)\r\n\r\nJust my 2c in case some other newbie lands on this question page after having gotten this particular error:\r\n\r\nI got this error immediately after having added the dependency to `pom.xml` and needed properties into the `application.properties` file. \r\n\r\nTrying to run the application from Eclipse IDE would just fail with this `Failed to load driver class org.mariadb.jdbc.Driver` error. My first thought was that maybe Maven didn&#39;t pick up the dependency for some reason, but the `mariadb-java-client.jar` file was in `~/.m2/repository/org/mariadb/jdbc`, thus I assumed everything was correct there.\r\n\r\nQuick googling showed there should not be much else to do, it just should work(tm). I was out of ideas and semi-randomly invoked `mvnw clean install` from shell, and everything worked just fine there - the application started as it should.\r\n\r\nEmpowered by this massive random success, I closed &amp; reopened the project in Eclipse. Lo and behold; magically everything started working there as well.\r\n","title":"Failed to load driver class org.mariadb.jdbc.Driver","body":"<p>(Disclaimer: I'm complete newbie to Spring Boot, H2, Maven, etc.)</p>\n<p>Just my 2c in case some other newbie lands on this question page after having gotten this particular error:</p>\n<p>I got this error immediately after having added the dependency to <code>pom.xml</code> and needed properties into the <code>application.properties</code> file.</p>\n<p>Trying to run the application from Eclipse IDE would just fail with this <code>Failed to load driver class org.mariadb.jdbc.Driver</code> error. My first thought was that maybe Maven didn't pick up the dependency for some reason, but the <code>mariadb-java-client.jar</code> file was in <code>~/.m2/repository/org/mariadb/jdbc</code>, thus I assumed everything was correct there.</p>\n<p>Quick googling showed there should not be much else to do, it just should work(tm). I was out of ideas and semi-randomly invoked <code>mvnw clean install</code> from shell, and everything worked just fine there - the application started as it should.</p>\n<p>Empowered by this massive random success, I closed &amp; reopened the project in Eclipse. Lo and behold; magically everything started working there as well.</p>\n"}],"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16440,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":58999763,"answer_count":3,"score":6,"last_activity_date":1672875280,"creation_date":1574445538,"question_id":58999473,"body_markdown":"I want to configure 2 JNDI datasources in Spring Boot. I tried this configuration:\r\n\r\n***application.properties***\r\n\r\n    spring.production-datasource.jndi-name=java:/global/production_gateway\r\n    spring.production-datasource.driver-class-name=org.mariadb.jdbc.Driver\r\n    spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MariaDBDialect\r\n    spring.jpa.show-sql = true\r\n    spring.jpa.hibernate.ddl-auto = update\r\n    \r\n    spring.warehouse-datasource.jndi-name=java:/global/production_warehouse\r\n    spring.warehouse-datasource.driver-class-name=org.mariadb.jdbc.Driver\r\n    spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MariaDBDialect\r\n    spring.jpa.show-sql = true\r\n    spring.jpa.hibernate.ddl-auto = update\r\n\r\nPrimary datasource configuration:\r\n\r\n        @Configuration\r\n    @EnableJpaRepositories(\r\n    \t    basePackages = &quot;org.datalis.plugin.production.entity&quot;, \r\n    \t    entityManagerFactoryRef = &quot;productionEntityManager&quot;, \r\n    \t    transactionManagerRef = &quot;productionTransactionManager&quot;\r\n    \t)\r\n    @EnableTransactionManagement\r\n    public class ContextProductionDatasource {\r\n    \t\r\n    \t@Autowired\r\n        private Environment env;\r\n    \t\r\n    \t@Primary\r\n    \t@Bean(name = &quot;productionDataSourceProperties&quot;)\r\n    \t@ConfigurationProperties(prefix=&quot;spring.production.datasource&quot;)\r\n    \tpublic DataSourceProperties productionDataSourceProperties() {\r\n            return new DataSourceProperties();\r\n        }\t\r\n    \r\n    \t@Primary\r\n        @Bean(name = &quot;productionDataSource&quot;)\r\n        @ConfigurationProperties(prefix=&quot;spring.production.datasource&quot;)\r\n        public DataSource productionDataSource() {\r\n            return DataSourceBuilder.create().build();\r\n        }\r\n    \t\r\n    \t@Primary\r\n    \t@Bean(name = &quot;productionEntityManager&quot;)\t\r\n    \tpublic EntityManager productionEntityManager(EntityManagerFactory emf) {\r\n    \t\treturn emf.createEntityManager();\r\n    \t}\r\n    \t\r\n    \t@Primary\r\n    \t@Bean(name = &quot;productionTransactionManager&quot;)\t\r\n        public PlatformTransactionManager productionTransactionManager(final EntityManagerFactory emf) {\r\n            final JpaTransactionManager transactionManager = new JpaTransactionManager();\r\n            transactionManager.setEntityManagerFactory(emf);\r\n            return transactionManager;\r\n        }\r\n    \t\r\n    \t@Primary\r\n    \t@Bean(name = &quot;productionExceptionTranslation&quot;)\r\n        public PersistenceExceptionTranslationPostProcessor productionExceptionTranslation() {\r\n            return new PersistenceExceptionTranslationPostProcessor();\r\n        }\r\n    }\r\n\r\nSecond datasource configuration:\r\n\r\n        @Configuration\r\n    @EnableJpaRepositories(\r\n    \t    basePackages = &quot;org.datalis.plugin.warehouse.entity&quot;, \r\n    \t    entityManagerFactoryRef = &quot;warehouseEntityManager&quot;, \r\n    \t    transactionManagerRef = &quot;warehouseTransactionManager&quot;\r\n    \t)\r\n    @EnableTransactionManagement\r\n    public class ContextWarehouseDatasource {\r\n    \t\r\n    \t@Autowired\r\n        private Environment env;\r\n    \t\r\n    \t@Bean(name = &quot;warehouseDataSourceProperties&quot;)\r\n    \t@ConfigurationProperties(prefix=&quot;spring.warehouse.datasource&quot;)\r\n    \tpublic DataSourceProperties warehouseDataSourceProperties() {\r\n            return new DataSourceProperties();\r\n        }\r\n    \r\n        @Bean(name = &quot;warehouseDataSource&quot;)\r\n        @ConfigurationProperties(prefix=&quot;spring.warehouse.datasource&quot;)\r\n        public DataSource warehouseDataSource() {\r\n            return DataSourceBuilder.create().build();\r\n        }\r\n    \t\r\n    \t@Bean(name = &quot;warehouseEntityManager&quot;)\t\r\n    \tpublic EntityManager warehouseEntityManager(EntityManagerFactory emf) {\r\n    \t\treturn emf.createEntityManager();\r\n    \t}\r\n    \t\r\n    \t@Bean(name = &quot;warehouseTransactionManager&quot;)\r\n        public PlatformTransactionManager warehouseTransactionManager(final EntityManagerFactory emf) {\r\n            final JpaTransactionManager transactionManager = new JpaTransactionManager();\r\n            transactionManager.setEntityManagerFactory(emf);\r\n            return transactionManager;\r\n        }\r\n    \t\r\n    \t@Bean(name = &quot;warehouseExceptionTranslation&quot;)\r\n        public PersistenceExceptionTranslationPostProcessor warehouseExceptionTranslation() {\r\n            return new PersistenceExceptionTranslationPostProcessor();\r\n        }\r\n    }\r\n\r\nBut I get error during deployment:\r\n\r\n        Caused by: java.lang.IllegalStateException: Unable to set value for property driver-class-name\r\n            at deployment.datalis_rest_api.war//org.springframework.boot.context.properties.bind.JavaBeanBinder$BeanProperty.setValue(JavaBeanBinder.java:349)\r\n            at deployment.datalis_rest_api.war//org.springframework.boot.context.properties.bind.JavaBeanBinder.bind(JavaBeanBinder.java:96)\r\n            at deployment.datalis_rest_api.war//org.springframework.boot.context.properties.bind.JavaBeanBinder.bind(JavaBeanBinder.java:79)\r\n            at deployment.datalis_rest_api.war//org.springframework.boot.context.properties.bind.JavaBeanBinder.bind(JavaBeanBinder.java:56)\r\n            at deployment.datalis_rest_api.war//org.springframework.boot.context.properties.bind.Binder.lambda$bindDataObject$5(Binder.java:452)\r\n            at deployment.datalis_rest_api.war//org.springframework.boot.context.properties.bind.Binder$Context.withIncreasedDepth(Binder.java:570)\r\n            at deployment.datalis_rest_api.war//org.springframework.boot.context.properties.bind.Binder$Context.withDataObject(Binder.java:556)\r\n            at deployment.datalis_rest_api.war//org.springframework.boot.context.properties.bind.Binder$Context.access$400(Binder.java:513)\r\n            at deployment.datalis_rest_api.war//org.springframework.boot.context.properties.bind.Binder.bindDataObject(Binder.java:450)\r\n            at deployment.datalis_rest_api.war//org.springframework.boot.context.properties.bind.Binder.bindObject(Binder.java:391)\r\n            at deployment.datalis_rest_api.war//org.springframework.boot.context.properties.bind.Binder.bind(Binder.java:320)\r\n            ... 132 more\r\n    Caused by: java.lang.reflect.InvocationTargetException\r\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n            at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n            at java.base/java.lang.reflect.Method.invoke(Method.java:567)\r\n            at deployment.datalis_rest_api.war//org.springframework.boot.context.properties.bind.JavaBeanBinder$BeanProperty.setValue(JavaBeanBinder.java:346)\r\n            ... 142 more\r\n    Caused by: java.lang.RuntimeException: Failed to load driver class org.mariadb.jdbc.Driver in either of HikariConfig class loader or Thread context classloader\r\n            at deployment.datalis_rest_api.war//com.zaxxer.hikari.HikariConfig.setDriverClassName(HikariConfig.java:485)\r\n\r\nI&#39;m using Spring boot war deployed into Wildfly server with deployed mariadb-java-client-2.4.2.jar. It&#39;s working fine when I use single datasource configuration. But with second datasource I get exception. \r\n\r\nDo you know how I can fix this issue?\r\n\r\n***Second attempt***:\r\n\r\n***application.properties:***\r\n\r\n    spring.production.datasource.jndi-name=java:/global/production_gateway\r\n    spring.production.datasource.driver-class-name=org.mariadb.jdbc.Driver\r\n    spring.production.jpa.properties.hibernate.dialect=org.hibernate.dialect.MariaDBDialect\r\n    spring.production.jpa.show-sql = true\r\n    spring.production.jpa.hibernate.ddl-auto = update\r\n    \r\n    spring.warehouse.datasource.jndi-name=java:/global/production_warehouse\r\n    spring.warehouse.datasource.driver-class-name=org.mariadb.jdbc.Driver\r\n    spring.warehouse.jpa.properties.hibernate.dialect=org.hibernate.dialect.MariaDBDialect\r\n    spring.warehouse.jpa.show-sql = true\r\n    spring.warehouse.jpa.hibernate.ddl-auto = update\r\n\r\nFirst datasource:\r\n\r\n    @Configuration\r\n    @EnableJpaRepositories(\r\n    \t    basePackages = &quot;org.datalis.plugin.production.entity&quot;, \r\n    \t    entityManagerFactoryRef = &quot;productionEntityManager&quot;, \r\n    \t    transactionManagerRef = &quot;productionTransactionManager&quot;\r\n    \t)\r\n    @EnableTransactionManagement\r\n    public class ContextProductionDatasource {\r\n    \t\r\n    \t@Primary\r\n    \t@Bean(name = &quot;productionDataSourceProperties&quot;)\r\n    \t@ConfigurationProperties(prefix=&quot;spring.production&quot;)\r\n    \tpublic DataSourceProperties productionDataSourceProperties() {\r\n            return new DataSourceProperties();\r\n        }\t\r\n    \r\n    \t@Primary\r\n        @Bean(name = &quot;productionDataSource&quot;)\r\n        @ConfigurationProperties(prefix=&quot;spring.production&quot;)\r\n        public DataSource productionDataSource() {\r\n            return DataSourceBuilder.create().build();\r\n        }\r\n    \t\r\n    \t@Primary\r\n    \t@Bean(name = &quot;productionEntityManager&quot;)\t\r\n    \tpublic EntityManager productionEntityManager(EntityManagerFactory emf) {\r\n    \t\treturn emf.createEntityManager();\r\n    \t}\r\n    \t\r\n    \t@Primary\r\n    \t@Bean(name = &quot;productionTransactionManager&quot;)\t\r\n        public PlatformTransactionManager productionTransactionManager(final EntityManagerFactory emf) {\r\n            final JpaTransactionManager transactionManager = new JpaTransactionManager();\r\n            transactionManager.setEntityManagerFactory(emf);\r\n            return transactionManager;\r\n        }\r\n    \t\r\n    \t@Primary\r\n    \t@Bean(name = &quot;productionExceptionTranslation&quot;)\r\n        public PersistenceExceptionTranslationPostProcessor productionExceptionTranslation() {\r\n            return new PersistenceExceptionTranslationPostProcessor();\r\n        }\r\n    }\r\n\r\n\r\nSecond datasource:\r\n\r\n    @Configuration\r\n    @EnableJpaRepositories(\r\n    \t    basePackages = &quot;org.datalis.plugin.warehouse.entity&quot;, \r\n    \t    entityManagerFactoryRef = &quot;warehouseEntityManager&quot;, \r\n    \t    transactionManagerRef = &quot;warehouseTransactionManager&quot;\r\n    \t)\r\n    @EnableTransactionManagement\r\n    public class ContextWarehouseDatasource {\r\n    \t\r\n    \t@Bean(name = &quot;warehouseDataSourceProperties&quot;)\r\n    \t@ConfigurationProperties(prefix=&quot;spring.warehouse&quot;)\r\n    \tpublic DataSourceProperties warehouseDataSourceProperties() {\r\n            return new DataSourceProperties();\r\n        }\r\n    \r\n        @Bean(name = &quot;warehouseDataSource&quot;)\r\n        @ConfigurationProperties(prefix=&quot;spring.warehouse&quot;)\r\n        public DataSource warehouseDataSource() {\r\n            return DataSourceBuilder.create().build();\r\n        }\r\n     \r\n    \t@Bean(name = &quot;warehouseEntityManager&quot;)\t\r\n    \tpublic EntityManager warehouseEntityManager(EntityManagerFactory emf) {\r\n    \t\treturn emf.createEntityManager();\r\n    \t}\r\n    \t\r\n    \t@Bean(name = &quot;warehouseTransactionManager&quot;)\r\n        public PlatformTransactionManager warehouseTransactionManager(final EntityManagerFactory emf) {\r\n            final JpaTransactionManager transactionManager = new JpaTransactionManager();\r\n            transactionManager.setEntityManagerFactory(emf);\r\n            return transactionManager;\r\n        }\r\n    \t\r\n    \t@Bean(name = &quot;warehouseExceptionTranslation&quot;)\r\n        public PersistenceExceptionTranslationPostProcessor warehouseExceptionTranslation() {\r\n            return new PersistenceExceptionTranslationPostProcessor();\r\n        }\r\n    }\r\n\r\nNow I get:\r\n\r\n    Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean]: Factory method &#39;entityManagerFactory&#39; threw exception; nested exception is java.lang.IllegalArgumentException: dataSource or dataSourceClassName or jdbcUrl is required.\r\n            at deployment.datalis_rest_api.war//org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185)\r\n            at deployment.datalis_rest_api.war//org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:640)\r\n            ... 41 more\r\n    Caused by: java.lang.IllegalArgumentException: dataSource or dataSourceClassName or jdbcUrl is required.\r\n\r\n","title":"Failed to load driver class org.mariadb.jdbc.Driver","body":"<p>I want to configure 2 JNDI datasources in Spring Boot. I tried this configuration:</p>\n\n<p><strong><em>application.properties</em></strong></p>\n\n<pre><code>spring.production-datasource.jndi-name=java:/global/production_gateway\nspring.production-datasource.driver-class-name=org.mariadb.jdbc.Driver\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MariaDBDialect\nspring.jpa.show-sql = true\nspring.jpa.hibernate.ddl-auto = update\n\nspring.warehouse-datasource.jndi-name=java:/global/production_warehouse\nspring.warehouse-datasource.driver-class-name=org.mariadb.jdbc.Driver\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MariaDBDialect\nspring.jpa.show-sql = true\nspring.jpa.hibernate.ddl-auto = update\n</code></pre>\n\n<p>Primary datasource configuration:</p>\n\n<pre><code>    @Configuration\n@EnableJpaRepositories(\n        basePackages = \"org.datalis.plugin.production.entity\", \n        entityManagerFactoryRef = \"productionEntityManager\", \n        transactionManagerRef = \"productionTransactionManager\"\n    )\n@EnableTransactionManagement\npublic class ContextProductionDatasource {\n\n    @Autowired\n    private Environment env;\n\n    @Primary\n    @Bean(name = \"productionDataSourceProperties\")\n    @ConfigurationProperties(prefix=\"spring.production.datasource\")\n    public DataSourceProperties productionDataSourceProperties() {\n        return new DataSourceProperties();\n    }   \n\n    @Primary\n    @Bean(name = \"productionDataSource\")\n    @ConfigurationProperties(prefix=\"spring.production.datasource\")\n    public DataSource productionDataSource() {\n        return DataSourceBuilder.create().build();\n    }\n\n    @Primary\n    @Bean(name = \"productionEntityManager\") \n    public EntityManager productionEntityManager(EntityManagerFactory emf) {\n        return emf.createEntityManager();\n    }\n\n    @Primary\n    @Bean(name = \"productionTransactionManager\")    \n    public PlatformTransactionManager productionTransactionManager(final EntityManagerFactory emf) {\n        final JpaTransactionManager transactionManager = new JpaTransactionManager();\n        transactionManager.setEntityManagerFactory(emf);\n        return transactionManager;\n    }\n\n    @Primary\n    @Bean(name = \"productionExceptionTranslation\")\n    public PersistenceExceptionTranslationPostProcessor productionExceptionTranslation() {\n        return new PersistenceExceptionTranslationPostProcessor();\n    }\n}\n</code></pre>\n\n<p>Second datasource configuration:</p>\n\n<pre><code>    @Configuration\n@EnableJpaRepositories(\n        basePackages = \"org.datalis.plugin.warehouse.entity\", \n        entityManagerFactoryRef = \"warehouseEntityManager\", \n        transactionManagerRef = \"warehouseTransactionManager\"\n    )\n@EnableTransactionManagement\npublic class ContextWarehouseDatasource {\n\n    @Autowired\n    private Environment env;\n\n    @Bean(name = \"warehouseDataSourceProperties\")\n    @ConfigurationProperties(prefix=\"spring.warehouse.datasource\")\n    public DataSourceProperties warehouseDataSourceProperties() {\n        return new DataSourceProperties();\n    }\n\n    @Bean(name = \"warehouseDataSource\")\n    @ConfigurationProperties(prefix=\"spring.warehouse.datasource\")\n    public DataSource warehouseDataSource() {\n        return DataSourceBuilder.create().build();\n    }\n\n    @Bean(name = \"warehouseEntityManager\")  \n    public EntityManager warehouseEntityManager(EntityManagerFactory emf) {\n        return emf.createEntityManager();\n    }\n\n    @Bean(name = \"warehouseTransactionManager\")\n    public PlatformTransactionManager warehouseTransactionManager(final EntityManagerFactory emf) {\n        final JpaTransactionManager transactionManager = new JpaTransactionManager();\n        transactionManager.setEntityManagerFactory(emf);\n        return transactionManager;\n    }\n\n    @Bean(name = \"warehouseExceptionTranslation\")\n    public PersistenceExceptionTranslationPostProcessor warehouseExceptionTranslation() {\n        return new PersistenceExceptionTranslationPostProcessor();\n    }\n}\n</code></pre>\n\n<p>But I get error during deployment:</p>\n\n<pre><code>    Caused by: java.lang.IllegalStateException: Unable to set value for property driver-class-name\n        at deployment.datalis_rest_api.war//org.springframework.boot.context.properties.bind.JavaBeanBinder$BeanProperty.setValue(JavaBeanBinder.java:349)\n        at deployment.datalis_rest_api.war//org.springframework.boot.context.properties.bind.JavaBeanBinder.bind(JavaBeanBinder.java:96)\n        at deployment.datalis_rest_api.war//org.springframework.boot.context.properties.bind.JavaBeanBinder.bind(JavaBeanBinder.java:79)\n        at deployment.datalis_rest_api.war//org.springframework.boot.context.properties.bind.JavaBeanBinder.bind(JavaBeanBinder.java:56)\n        at deployment.datalis_rest_api.war//org.springframework.boot.context.properties.bind.Binder.lambda$bindDataObject$5(Binder.java:452)\n        at deployment.datalis_rest_api.war//org.springframework.boot.context.properties.bind.Binder$Context.withIncreasedDepth(Binder.java:570)\n        at deployment.datalis_rest_api.war//org.springframework.boot.context.properties.bind.Binder$Context.withDataObject(Binder.java:556)\n        at deployment.datalis_rest_api.war//org.springframework.boot.context.properties.bind.Binder$Context.access$400(Binder.java:513)\n        at deployment.datalis_rest_api.war//org.springframework.boot.context.properties.bind.Binder.bindDataObject(Binder.java:450)\n        at deployment.datalis_rest_api.war//org.springframework.boot.context.properties.bind.Binder.bindObject(Binder.java:391)\n        at deployment.datalis_rest_api.war//org.springframework.boot.context.properties.bind.Binder.bind(Binder.java:320)\n        ... 132 more\nCaused by: java.lang.reflect.InvocationTargetException\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:567)\n        at deployment.datalis_rest_api.war//org.springframework.boot.context.properties.bind.JavaBeanBinder$BeanProperty.setValue(JavaBeanBinder.java:346)\n        ... 142 more\nCaused by: java.lang.RuntimeException: Failed to load driver class org.mariadb.jdbc.Driver in either of HikariConfig class loader or Thread context classloader\n        at deployment.datalis_rest_api.war//com.zaxxer.hikari.HikariConfig.setDriverClassName(HikariConfig.java:485)\n</code></pre>\n\n<p>I'm using Spring boot war deployed into Wildfly server with deployed mariadb-java-client-2.4.2.jar. It's working fine when I use single datasource configuration. But with second datasource I get exception. </p>\n\n<p>Do you know how I can fix this issue?</p>\n\n<p><strong><em>Second attempt</em></strong>:</p>\n\n<p><strong><em>application.properties:</em></strong></p>\n\n<pre><code>spring.production.datasource.jndi-name=java:/global/production_gateway\nspring.production.datasource.driver-class-name=org.mariadb.jdbc.Driver\nspring.production.jpa.properties.hibernate.dialect=org.hibernate.dialect.MariaDBDialect\nspring.production.jpa.show-sql = true\nspring.production.jpa.hibernate.ddl-auto = update\n\nspring.warehouse.datasource.jndi-name=java:/global/production_warehouse\nspring.warehouse.datasource.driver-class-name=org.mariadb.jdbc.Driver\nspring.warehouse.jpa.properties.hibernate.dialect=org.hibernate.dialect.MariaDBDialect\nspring.warehouse.jpa.show-sql = true\nspring.warehouse.jpa.hibernate.ddl-auto = update\n</code></pre>\n\n<p>First datasource:</p>\n\n<pre><code>@Configuration\n@EnableJpaRepositories(\n        basePackages = \"org.datalis.plugin.production.entity\", \n        entityManagerFactoryRef = \"productionEntityManager\", \n        transactionManagerRef = \"productionTransactionManager\"\n    )\n@EnableTransactionManagement\npublic class ContextProductionDatasource {\n\n    @Primary\n    @Bean(name = \"productionDataSourceProperties\")\n    @ConfigurationProperties(prefix=\"spring.production\")\n    public DataSourceProperties productionDataSourceProperties() {\n        return new DataSourceProperties();\n    }   \n\n    @Primary\n    @Bean(name = \"productionDataSource\")\n    @ConfigurationProperties(prefix=\"spring.production\")\n    public DataSource productionDataSource() {\n        return DataSourceBuilder.create().build();\n    }\n\n    @Primary\n    @Bean(name = \"productionEntityManager\") \n    public EntityManager productionEntityManager(EntityManagerFactory emf) {\n        return emf.createEntityManager();\n    }\n\n    @Primary\n    @Bean(name = \"productionTransactionManager\")    \n    public PlatformTransactionManager productionTransactionManager(final EntityManagerFactory emf) {\n        final JpaTransactionManager transactionManager = new JpaTransactionManager();\n        transactionManager.setEntityManagerFactory(emf);\n        return transactionManager;\n    }\n\n    @Primary\n    @Bean(name = \"productionExceptionTranslation\")\n    public PersistenceExceptionTranslationPostProcessor productionExceptionTranslation() {\n        return new PersistenceExceptionTranslationPostProcessor();\n    }\n}\n</code></pre>\n\n<p>Second datasource:</p>\n\n<pre><code>@Configuration\n@EnableJpaRepositories(\n        basePackages = \"org.datalis.plugin.warehouse.entity\", \n        entityManagerFactoryRef = \"warehouseEntityManager\", \n        transactionManagerRef = \"warehouseTransactionManager\"\n    )\n@EnableTransactionManagement\npublic class ContextWarehouseDatasource {\n\n    @Bean(name = \"warehouseDataSourceProperties\")\n    @ConfigurationProperties(prefix=\"spring.warehouse\")\n    public DataSourceProperties warehouseDataSourceProperties() {\n        return new DataSourceProperties();\n    }\n\n    @Bean(name = \"warehouseDataSource\")\n    @ConfigurationProperties(prefix=\"spring.warehouse\")\n    public DataSource warehouseDataSource() {\n        return DataSourceBuilder.create().build();\n    }\n\n    @Bean(name = \"warehouseEntityManager\")  \n    public EntityManager warehouseEntityManager(EntityManagerFactory emf) {\n        return emf.createEntityManager();\n    }\n\n    @Bean(name = \"warehouseTransactionManager\")\n    public PlatformTransactionManager warehouseTransactionManager(final EntityManagerFactory emf) {\n        final JpaTransactionManager transactionManager = new JpaTransactionManager();\n        transactionManager.setEntityManagerFactory(emf);\n        return transactionManager;\n    }\n\n    @Bean(name = \"warehouseExceptionTranslation\")\n    public PersistenceExceptionTranslationPostProcessor warehouseExceptionTranslation() {\n        return new PersistenceExceptionTranslationPostProcessor();\n    }\n}\n</code></pre>\n\n<p>Now I get:</p>\n\n<pre><code>Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean]: Factory method 'entityManagerFactory' threw exception; nested exception is java.lang.IllegalArgumentException: dataSource or dataSourceClassName or jdbcUrl is required.\n        at deployment.datalis_rest_api.war//org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185)\n        at deployment.datalis_rest_api.war//org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:640)\n        ... 41 more\nCaused by: java.lang.IllegalArgumentException: dataSource or dataSourceClassName or jdbcUrl is required.\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9238,"page":754,"page_size":100}
