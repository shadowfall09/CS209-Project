{"items":[{"tags":["java","jmx"],"comments":[{"owner":{"account_id":216950,"reputation":20103,"user_id":472495,"accept_rate":92,"display_name":"halfer"},"score":0,"creation_date":1608030110,"post_id":65292764,"comment_id":115451164,"body_markdown":"(As per our last discussion, please use a spell-checker prior to posting).","body":"(As per our last discussion, please use a spell-checker prior to posting)."},{"owner":{"account_id":5457896,"reputation":3732,"user_id":4340793,"accept_rate":61,"display_name":"JeyJ"},"score":0,"creation_date":1608034358,"post_id":65292764,"comment_id":115453019,"body_markdown":"To be honest, I&#39;m using one :) Did u find something that I missed ?","body":"To be honest, I&#39;m using one :) Did u find something that I missed ?"}],"answers":[{"tags":[],"owner":{"account_id":229004,"reputation":10399,"user_id":491682,"accept_rate":79,"display_name":"ethrbunny"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671409351,"creation_date":1671409351,"answer_id":74845310,"question_id":65292764,"body_markdown":"(For my system I set it up to use port 7770 for jmx on a box running cassandra)\r\n\r\nTo get a list of all available data:\r\n\r\n    echo &quot;beans&quot; | java -jar jmxterm-1.0.2-uber.jar -l localhost:7199 -n 2&gt;&amp;1 | less\r\n\r\nTo see a specific value:\r\n\r\n    curl http://localhost:7770/jolokia/read/java.lang:type=ClassLoading\r\n\r\n\r\nFor cassandra - connected clients:\r\n\r\n     curl http://localhost:7770/jolokia/read/org.apache.cassandra.metrics:name=connectedNativeClients,type=Client/*","title":"Using curl to access JMX port","body":"<p>(For my system I set it up to use port 7770 for jmx on a box running cassandra)</p>\n<p>To get a list of all available data:</p>\n<pre><code>echo &quot;beans&quot; | java -jar jmxterm-1.0.2-uber.jar -l localhost:7199 -n 2&gt;&amp;1 | less\n</code></pre>\n<p>To see a specific value:</p>\n<pre><code>curl http://localhost:7770/jolokia/read/java.lang:type=ClassLoading\n</code></pre>\n<p>For cassandra - connected clients:</p>\n<pre><code> curl http://localhost:7770/jolokia/read/org.apache.cassandra.metrics:name=connectedNativeClients,type=Client/*\n</code></pre>\n"}],"owner":{"account_id":5457896,"reputation":3732,"user_id":4340793,"accept_rate":61,"display_name":"JeyJ"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1915,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1671409351,"creation_date":1607963620,"question_id":65292764,"body_markdown":"I have a jar that I got from one of my teams and I&#39;m trying to connect to the JMX of the app and collect some metrics.\r\n\r\nI configured JAVA_OPTS to be the following : \r\n\r\n    export JAVA_OPTS=&quot;-Dcom.sun.management.jmxremote -Dcom.sun.management.jmxremote.rmi.port=8099 -Dcom.sun.management.jmxremote.port=8098 -Dcom.sun.management.jmxremote.authenticate=false -Djava.rmi.server.hostname=127.0.0.1 &quot;\r\n\r\n\r\nThe Java app started successfully with the the new settings. I checked if the app listens on 9098/ and I saw it is : \r\n\r\n    [root@machine]# netstat -noap | grep -e &quot;8098\\|8099&quot;\r\n    tcp6       0      0 :::8098                 :::*                    LISTEN      16365/java           off (0.00/0/0)\r\n    tcp6       0      0 :::8099                 :::*                    LISTEN      16365/java           off (0.00/0/0)\r\n\r\n\r\n\r\nI tried to run the following curl commands but nothing is returned : \r\n\r\n    [root]# curl -i 127.0.0.1:9098/jolokia/read/java.lang:type=Memory/HeapMemoryUsage\r\n    curl: (52) Empty reply from server\r\n    [root]# curl -i 127.0.0.1:9097/jolokia/read/java.lang:type=Memory/HeapMemoryUsage\r\n    \r\n    curl: (56) Recv failure: Connection reset by peer\r\n\r\n\r\nIs it possible to reach out to the jmx port with an api call ?\r\n","title":"Using curl to access JMX port","body":"<p>I have a jar that I got from one of my teams and I'm trying to connect to the JMX of the app and collect some metrics.</p>\n<p>I configured JAVA_OPTS to be the following :</p>\n<pre><code>export JAVA_OPTS=&quot;-Dcom.sun.management.jmxremote -Dcom.sun.management.jmxremote.rmi.port=8099 -Dcom.sun.management.jmxremote.port=8098 -Dcom.sun.management.jmxremote.authenticate=false -Djava.rmi.server.hostname=127.0.0.1 &quot;\n</code></pre>\n<p>The Java app started successfully with the the new settings. I checked if the app listens on 9098/ and I saw it is :</p>\n<pre><code>[root@machine]# netstat -noap | grep -e &quot;8098\\|8099&quot;\ntcp6       0      0 :::8098                 :::*                    LISTEN      16365/java           off (0.00/0/0)\ntcp6       0      0 :::8099                 :::*                    LISTEN      16365/java           off (0.00/0/0)\n</code></pre>\n<p>I tried to run the following curl commands but nothing is returned :</p>\n<pre><code>[root]# curl -i 127.0.0.1:9098/jolokia/read/java.lang:type=Memory/HeapMemoryUsage\ncurl: (52) Empty reply from server\n[root]# curl -i 127.0.0.1:9097/jolokia/read/java.lang:type=Memory/HeapMemoryUsage\n\ncurl: (56) Recv failure: Connection reset by peer\n</code></pre>\n<p>Is it possible to reach out to the jmx port with an api call ?</p>\n"},{"tags":["java","command","discord-jda","slash"],"comments":[{"owner":{"account_id":2848514,"reputation":10932,"user_id":2446208,"accept_rate":69,"display_name":"blacktide"},"score":0,"creation_date":1671399972,"post_id":74844568,"comment_id":132085983,"body_markdown":"You have a NullPointerException on line 14 in BanCommand.java. Make sure you&#39;re not calling a method on a potentially null object (like a missing/optional parameter).","body":"You have a NullPointerException on line 14 in BanCommand.java. Make sure you&#39;re not calling a method on a potentially null object (like a missing/optional parameter)."},{"owner":{"display_name":"user20810537"},"score":0,"creation_date":1671401963,"post_id":74844568,"comment_id":132086285,"body_markdown":"Yes, I know that myself, but there is nothing in line 14.","body":"Yes, I know that myself, but there is nothing in line 14."}],"answers":[{"tags":[],"owner":{"account_id":14719989,"reputation":5877,"user_id":10630900,"display_name":"Minn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671408802,"creation_date":1671408802,"answer_id":74845267,"question_id":74844568,"body_markdown":"The `getOption(name)` method will return `null` when the option is not supplied. You need to properly check that instead of simply calling `getAsString()` or similar on it, since that is not possible on `null`.\r\n\r\nYou can also use `getOption(&quot;reason&quot;, OptionMapping::getAsString)` to avoid the null check, but then it will simply return null for the string.\r\n\r\nLastly, you can provide a fallback value to be used in the case that the option is not supplied:\r\n\r\n```java\r\nString reason = event.getOption(&quot;reason&quot;, &quot;No reason specified&quot;, OptionMapping::getAsString);\r\n```\r\n\r\nSee the documentation for details:\r\n\r\n- [getOption(String, Function)](https://ci.dv8tion.net/job/JDA5/javadoc/net/dv8tion/jda/api/interactions/commands/CommandInteractionPayload.html#getOption(java.lang.String,java.util.function.Function))\r\n- [getOption(String, String, Function)](https://ci.dv8tion.net/job/JDA5/javadoc/net/dv8tion/jda/api/interactions/commands/CommandInteractionPayload.html#getOption(java.lang.String,T,java.util.function.Function))","title":"Bancommand discord api (JDA5) gives an error","body":"<p>The <code>getOption(name)</code> method will return <code>null</code> when the option is not supplied. You need to properly check that instead of simply calling <code>getAsString()</code> or similar on it, since that is not possible on <code>null</code>.</p>\n<p>You can also use <code>getOption(&quot;reason&quot;, OptionMapping::getAsString)</code> to avoid the null check, but then it will simply return null for the string.</p>\n<p>Lastly, you can provide a fallback value to be used in the case that the option is not supplied:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String reason = event.getOption(&quot;reason&quot;, &quot;No reason specified&quot;, OptionMapping::getAsString);\n</code></pre>\n<p>See the documentation for details:</p>\n<ul>\n<li><a href=\"https://ci.dv8tion.net/job/JDA5/javadoc/net/dv8tion/jda/api/interactions/commands/CommandInteractionPayload.html#getOption(java.lang.String,java.util.function.Function)\" rel=\"nofollow noreferrer\">getOption(String, Function)</a></li>\n<li><a href=\"https://ci.dv8tion.net/job/JDA5/javadoc/net/dv8tion/jda/api/interactions/commands/CommandInteractionPayload.html#getOption(java.lang.String,T,java.util.function.Function)\" rel=\"nofollow noreferrer\">getOption(String, String, Function)</a></li>\n</ul>\n"}],"owner":{"display_name":"user20810537"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671408802,"creation_date":1671399219,"question_id":74844568,"body_markdown":"I&#39;m in the process of programming a Discord bot with JDA. At the moment I&#39;m in the process of programming a ban command. If I enter on the Discord server: /ban @user (reason) (deletedays) it works quite well but if I only enter: /ban @user (reason) or /ban @user I get an error. I&#39;m not sure where this error can come from. I hope someone can help me with this. Many Thanks.\r\n\r\n\r\n\r\n\r\n**Main.java**\r\n\r\n```\r\n\r\npublic class main {\r\n    public static void main(String[] args) throws LoginException, InterruptedException {\r\n        String token = &quot;MYTOKEN&quot;;\r\n\r\n        JDA jda = JDABuilder.createDefault(\r\n                        token,\r\n                        GatewayIntent.MESSAGE_CONTENT,\r\n                        GatewayIntent.DIRECT_MESSAGES,\r\n                        GatewayIntent.GUILD_MEMBERS,\r\n                        GatewayIntent.GUILD_MESSAGES,\r\n                        GatewayIntent.GUILD_MESSAGE_REACTIONS,\r\n                        GatewayIntent.GUILD_VOICE_STATES,\r\n                        GatewayIntent.GUILD_BANS\r\n                )\r\n\r\n                .setActivity(Activity.playing(&quot;mit Sally!&quot;))\r\n                .setStatus(OnlineStatus.ONLINE)\r\n                //EventListeners\r\n                .addEventListeners(new BanCommand())\r\n                .build().awaitReady();\r\n\r\n        System.out.println(&quot;======START======&quot;);\r\n\r\n        Guild server = jda.getGuildById(&quot;GuildID&quot;);\r\n        server.updateCommands().addCommands(\r\n                Commands.slash(&quot;ban&quot;, &quot;Ban a user.&quot;)\r\n                        .addOption(OptionType.USER, &quot;user&quot;, &quot;User who should be banned.&quot;, true)\r\n                        .addOption(OptionType.STRING, &quot;reason&quot;, &quot;Reason why the user get banned.&quot;)\r\n                        .addOption(OptionType.INTEGER, &quot;deldays&quot;, &quot;Delete the messages from the user.&quot;, false)\r\n        ).queue();\r\n\r\n\r\n    }\r\n}\r\n```\r\n\r\n**BanCommand.java**\r\n\r\n```\r\npublic class BanCommand extends ListenerAdapter {\r\n\r\n    public void onSlashCommandInteraction(SlashCommandInteractionEvent event) {\r\n        if (event.getName().equals(&quot;ban&quot;)) {\r\n            Member member = event.getOption(&quot;user&quot;).getAsMember();\r\n            String reason = event.getOption(&quot;reason&quot;).getAsString();\r\n            int deldays = event.getOption(&quot;deldays&quot;).getAsInt();\r\n\r\n            if (!member.hasPermission(Permission.ADMINISTRATOR)) {\r\n                member.ban(deldays, TimeUnit.DAYS).reason(&quot;reason&quot;).queue();\r\n                event.reply(&quot;You banned &quot; + member.getEffectiveName() + &quot;! &quot;  + &quot;Reason: &quot; + reason).queue();\r\n            } else {\r\n                event.reply(&quot;You can&#39;t ban an Admin!&quot;).queue();\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI&#39;ve been trying to solve this problem for a few hours but just can&#39;t figure it out.\r\n\r\n**ERROR**\r\n\r\n```\r\n[JDA MainWS-ReadThread] ERROR JDA - One of the EventListeners had an uncaught exception\r\njava.lang.NullPointerException\r\n\tat de.ogbot.Commands.Admin.BanCommand.onSlashCommandInteraction(BanCommand.java:14)\r\n\tat net.dv8tion.jda.api.hooks.ListenerAdapter.onEvent(ListenerAdapter.java:424)\r\n\tat net.dv8tion.jda.api.hooks.InterfacedEventManager.handle(InterfacedEventManager.java:96)\r\n\tat net.dv8tion.jda.internal.hooks.EventManagerProxy.handleInternally(EventManagerProxy.java:88)\r\n\tat net.dv8tion.jda.internal.hooks.EventManagerProxy.handle(EventManagerProxy.java:70)\r\n\tat net.dv8tion.jda.internal.JDAImpl.handleEvent(JDAImpl.java:171)\r\n\tat net.dv8tion.jda.internal.handle.InteractionCreateHandler.handleCommand(InteractionCreateHandler.java:112)\r\n\tat net.dv8tion.jda.internal.handle.InteractionCreateHandler.handleInternally(InteractionCreateHandler.java:83)\r\n\tat net.dv8tion.jda.internal.handle.SocketHandler.handle(SocketHandler.java:39)\r\n\tat net.dv8tion.jda.internal.requests.WebSocketClient.onDispatch(WebSocketClient.java:984)\r\n\tat net.dv8tion.jda.internal.requests.WebSocketClient.onEvent(WebSocketClient.java:870)\r\n\tat net.dv8tion.jda.internal.requests.WebSocketClient.handleEvent(WebSocketClient.java:848)\r\n\tat net.dv8tion.jda.internal.requests.WebSocketClient.onBinaryMessage(WebSocketClient.java:1023)\r\n\tat com.neovisionaries.ws.client.ListenerManager.callOnBinaryMessage(ListenerManager.java:385)\r\n\tat com.neovisionaries.ws.client.ReadingThread.callOnBinaryMessage(ReadingThread.java:276)\r\n\tat com.neovisionaries.ws.client.ReadingThread.handleBinaryFrame(ReadingThread.java:996)\r\n\tat com.neovisionaries.ws.client.ReadingThread.handleFrame(ReadingThread.java:755)\r\n\tat com.neovisionaries.ws.client.ReadingThread.main(ReadingThread.java:108)\r\n\tat com.neovisionaries.ws.client.ReadingThread.runMain(ReadingThread.java:64)\r\n\tat com.neovisionaries.ws.client.WebSocketThread.run(WebSocketThread.java:45)\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\nI tried to give &quot;user&quot;, &quot;reason&quot;, &quot;deldays&quot; other names, I tried to output the text in an embed instead of reply and I created a new bot and copied the stuff in there, but that didn&#39;t work either. That was actually all.","title":"Bancommand discord api (JDA5) gives an error","body":"<p>I'm in the process of programming a Discord bot with JDA. At the moment I'm in the process of programming a ban command. If I enter on the Discord server: /ban @user (reason) (deletedays) it works quite well but if I only enter: /ban @user (reason) or /ban @user I get an error. I'm not sure where this error can come from. I hope someone can help me with this. Many Thanks.</p>\n<p><strong>Main.java</strong></p>\n<pre><code>\npublic class main {\n    public static void main(String[] args) throws LoginException, InterruptedException {\n        String token = &quot;MYTOKEN&quot;;\n\n        JDA jda = JDABuilder.createDefault(\n                        token,\n                        GatewayIntent.MESSAGE_CONTENT,\n                        GatewayIntent.DIRECT_MESSAGES,\n                        GatewayIntent.GUILD_MEMBERS,\n                        GatewayIntent.GUILD_MESSAGES,\n                        GatewayIntent.GUILD_MESSAGE_REACTIONS,\n                        GatewayIntent.GUILD_VOICE_STATES,\n                        GatewayIntent.GUILD_BANS\n                )\n\n                .setActivity(Activity.playing(&quot;mit Sally!&quot;))\n                .setStatus(OnlineStatus.ONLINE)\n                //EventListeners\n                .addEventListeners(new BanCommand())\n                .build().awaitReady();\n\n        System.out.println(&quot;======START======&quot;);\n\n        Guild server = jda.getGuildById(&quot;GuildID&quot;);\n        server.updateCommands().addCommands(\n                Commands.slash(&quot;ban&quot;, &quot;Ban a user.&quot;)\n                        .addOption(OptionType.USER, &quot;user&quot;, &quot;User who should be banned.&quot;, true)\n                        .addOption(OptionType.STRING, &quot;reason&quot;, &quot;Reason why the user get banned.&quot;)\n                        .addOption(OptionType.INTEGER, &quot;deldays&quot;, &quot;Delete the messages from the user.&quot;, false)\n        ).queue();\n\n\n    }\n}\n</code></pre>\n<p><strong>BanCommand.java</strong></p>\n<pre><code>public class BanCommand extends ListenerAdapter {\n\n    public void onSlashCommandInteraction(SlashCommandInteractionEvent event) {\n        if (event.getName().equals(&quot;ban&quot;)) {\n            Member member = event.getOption(&quot;user&quot;).getAsMember();\n            String reason = event.getOption(&quot;reason&quot;).getAsString();\n            int deldays = event.getOption(&quot;deldays&quot;).getAsInt();\n\n            if (!member.hasPermission(Permission.ADMINISTRATOR)) {\n                member.ban(deldays, TimeUnit.DAYS).reason(&quot;reason&quot;).queue();\n                event.reply(&quot;You banned &quot; + member.getEffectiveName() + &quot;! &quot;  + &quot;Reason: &quot; + reason).queue();\n            } else {\n                event.reply(&quot;You can't ban an Admin!&quot;).queue();\n            }\n        }\n    }\n}\n</code></pre>\n<p>I've been trying to solve this problem for a few hours but just can't figure it out.</p>\n<p><strong>ERROR</strong></p>\n<pre><code>[JDA MainWS-ReadThread] ERROR JDA - One of the EventListeners had an uncaught exception\njava.lang.NullPointerException\n    at de.ogbot.Commands.Admin.BanCommand.onSlashCommandInteraction(BanCommand.java:14)\n    at net.dv8tion.jda.api.hooks.ListenerAdapter.onEvent(ListenerAdapter.java:424)\n    at net.dv8tion.jda.api.hooks.InterfacedEventManager.handle(InterfacedEventManager.java:96)\n    at net.dv8tion.jda.internal.hooks.EventManagerProxy.handleInternally(EventManagerProxy.java:88)\n    at net.dv8tion.jda.internal.hooks.EventManagerProxy.handle(EventManagerProxy.java:70)\n    at net.dv8tion.jda.internal.JDAImpl.handleEvent(JDAImpl.java:171)\n    at net.dv8tion.jda.internal.handle.InteractionCreateHandler.handleCommand(InteractionCreateHandler.java:112)\n    at net.dv8tion.jda.internal.handle.InteractionCreateHandler.handleInternally(InteractionCreateHandler.java:83)\n    at net.dv8tion.jda.internal.handle.SocketHandler.handle(SocketHandler.java:39)\n    at net.dv8tion.jda.internal.requests.WebSocketClient.onDispatch(WebSocketClient.java:984)\n    at net.dv8tion.jda.internal.requests.WebSocketClient.onEvent(WebSocketClient.java:870)\n    at net.dv8tion.jda.internal.requests.WebSocketClient.handleEvent(WebSocketClient.java:848)\n    at net.dv8tion.jda.internal.requests.WebSocketClient.onBinaryMessage(WebSocketClient.java:1023)\n    at com.neovisionaries.ws.client.ListenerManager.callOnBinaryMessage(ListenerManager.java:385)\n    at com.neovisionaries.ws.client.ReadingThread.callOnBinaryMessage(ReadingThread.java:276)\n    at com.neovisionaries.ws.client.ReadingThread.handleBinaryFrame(ReadingThread.java:996)\n    at com.neovisionaries.ws.client.ReadingThread.handleFrame(ReadingThread.java:755)\n    at com.neovisionaries.ws.client.ReadingThread.main(ReadingThread.java:108)\n    at com.neovisionaries.ws.client.ReadingThread.runMain(ReadingThread.java:64)\n    at com.neovisionaries.ws.client.WebSocketThread.run(WebSocketThread.java:45)\n</code></pre>\n<p>I tried to give &quot;user&quot;, &quot;reason&quot;, &quot;deldays&quot; other names, I tried to output the text in an embed instead of reply and I created a new bot and copied the stuff in there, but that didn't work either. That was actually all.</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":14272435,"reputation":2163,"user_id":10309564,"display_name":"grolschie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1607647921,"creation_date":1607647921,"answer_id":65244345,"question_id":65072385,"body_markdown":"I&#39;m also seeing this now, in addition to another [similar bug](https://stackoverflow.com/questions/64706041/fatal-exception-firebase-messaging-intent-handle-java-lang-noclassdeffounder/64839467) affecting a lot of users. It appears to be yet another bug in the Pre-launch reports and not related to our code. My app doesn&#39;t use sound, let alone Android Music.\r\n\r\nThose affected, please consider reporting it on this [bug report](https://issuetracker.google.com/issues/160907013).\r\n","title":"android pre-launch-report - java.lang.RuntimeException with com.google.android.finsky.services.IMarketCatalogService","body":"<p>I'm also seeing this now, in addition to another <a href=\"https://stackoverflow.com/questions/64706041/fatal-exception-firebase-messaging-intent-handle-java-lang-noclassdeffounder/64839467\">similar bug</a> affecting a lot of users. It appears to be yet another bug in the Pre-launch reports and not related to our code. My app doesn't use sound, let alone Android Music.</p>\n<p>Those affected, please consider reporting it on this <a href=\"https://issuetracker.google.com/issues/160907013\" rel=\"nofollow noreferrer\">bug report</a>.</p>\n"}],"owner":{"account_id":19700409,"reputation":33,"user_id":14423310,"display_name":"Dmitriy Kryuchkov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":569,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1671408692,"creation_date":1606734437,"question_id":65072385,"body_markdown":"I have received a pre-launch report on my play.google.com/console:\r\n```\r\nAndroid 8.1 (SDK 27)\r\nFATAL EXCEPTION: UIAsyncWorker\r\nProcess: com.google.android.music:main, PID: 11466\r\njava.lang.RuntimeException: Attempt to invoke interface method &#39;boolean com.google.android.finsky.services.IMarketCatalogService.isBackendEnabled(java.lang.String, int)&#39; on a null object reference\r\n\tat com.google.android.music.utils.async.CallerTracker.reThrowExceptionWithCallerStackTrack(CallerTracker.java:32)\r\n\tat com.google.android.music.utils.async.TraceableRunnable.runLogged(TraceableRunnable.java:23)\r\n\tat com.google.android.music.utils.async.LoggedRunnable.run(LoggedRunnable.java:30)\r\n\tat android.os.Handler.handleCallback(Handler.java:790)\r\n\tat android.os.Handler.dispatchMessage(Handler.java:99)\r\n\tat com.google.android.music.utils.LoggableHandler.dispatchMessage(LoggableHandler.java:74)\r\n\tat android.os.Looper.loop(Looper.java:164)\r\n\tat android.os.HandlerThread.run(HandlerThread.java:65)\r\nCaused by: java.lang.NullPointerException: Attempt to invoke interface method &#39;boolean com.google.android.finsky.services.IMarketCatalogService.isBackendEnabled(java.lang.String, int)&#39; on a null object reference\r\n\tat com.google.android.music.tutorial.SignupStatus.checkStoreAvailable(SignupStatus.java:216)\r\n\tat com.google.android.music.tutorial.SignupStatus.doCheck(SignupStatus.java:154)\r\n\tat com.google.android.music.tutorial.SignupStatus.launchVerificationCheck(SignupStatus.java:129)\r\n\tat com.google.android.music.tutorial.SignupStatus.launchVerificationCheckWithFallbackTask(SignupStatus.java:113)\r\n\tat com.google.android.music.AccountsBroadcastReceiver$1.run(AccountsBroadcastReceiver.java:30)\r\n\tat com.google.android.music.utils.async.TraceableRunnable.runLogged(TraceableRunnable.java:21)\r\n\t... 6 more\r\n```\r\n\r\ncom.google.android.music - is not my application.\r\n\r\nCan I fix the issue or it is a problem in the android device and not in my code?","title":"android pre-launch-report - java.lang.RuntimeException with com.google.android.finsky.services.IMarketCatalogService","body":"<p>I have received a pre-launch report on my play.google.com/console:</p>\n<pre><code>Android 8.1 (SDK 27)\nFATAL EXCEPTION: UIAsyncWorker\nProcess: com.google.android.music:main, PID: 11466\njava.lang.RuntimeException: Attempt to invoke interface method 'boolean com.google.android.finsky.services.IMarketCatalogService.isBackendEnabled(java.lang.String, int)' on a null object reference\n    at com.google.android.music.utils.async.CallerTracker.reThrowExceptionWithCallerStackTrack(CallerTracker.java:32)\n    at com.google.android.music.utils.async.TraceableRunnable.runLogged(TraceableRunnable.java:23)\n    at com.google.android.music.utils.async.LoggedRunnable.run(LoggedRunnable.java:30)\n    at android.os.Handler.handleCallback(Handler.java:790)\n    at android.os.Handler.dispatchMessage(Handler.java:99)\n    at com.google.android.music.utils.LoggableHandler.dispatchMessage(LoggableHandler.java:74)\n    at android.os.Looper.loop(Looper.java:164)\n    at android.os.HandlerThread.run(HandlerThread.java:65)\nCaused by: java.lang.NullPointerException: Attempt to invoke interface method 'boolean com.google.android.finsky.services.IMarketCatalogService.isBackendEnabled(java.lang.String, int)' on a null object reference\n    at com.google.android.music.tutorial.SignupStatus.checkStoreAvailable(SignupStatus.java:216)\n    at com.google.android.music.tutorial.SignupStatus.doCheck(SignupStatus.java:154)\n    at com.google.android.music.tutorial.SignupStatus.launchVerificationCheck(SignupStatus.java:129)\n    at com.google.android.music.tutorial.SignupStatus.launchVerificationCheckWithFallbackTask(SignupStatus.java:113)\n    at com.google.android.music.AccountsBroadcastReceiver$1.run(AccountsBroadcastReceiver.java:30)\n    at com.google.android.music.utils.async.TraceableRunnable.runLogged(TraceableRunnable.java:21)\n    ... 6 more\n</code></pre>\n<p>com.google.android.music - is not my application.</p>\n<p>Can I fix the issue or it is a problem in the android device and not in my code?</p>\n"},{"tags":["java","swagger","swagger-ui","quarkus"],"comments":[{"owner":{"account_id":14429973,"reputation":2483,"user_id":10423604,"display_name":"Volodya Lombrozo"},"score":0,"creation_date":1616935307,"post_id":66840686,"comment_id":118152634,"body_markdown":"Could you clarify how you are using swagger? Versions of libraries, for example. How and who parse your java objects to swagger documentation. Any other environment description also can be helpful.","body":"Could you clarify how you are using swagger? Versions of libraries, for example. How and who parse your java objects to swagger documentation. Any other environment description also can be helpful."},{"owner":{"account_id":20958314,"reputation":21,"user_id":15398285,"display_name":"Yuna Morgenstern"},"score":0,"creation_date":1617033130,"post_id":66840686,"comment_id":118181931,"body_markdown":"@VolodyaLombrozo I am using `io.quarkus:quarkus-smallrye-openapi` as described on https://quarkus.io/guides/openapi-swaggerui. @Schema is working only for fields. @Tag for method and classes. Now I am looking for something like @Responses to describe the return value and also something to describe the security...","body":"@VolodyaLombrozo I am using <code>io.quarkus:quarkus-smallrye-openapi</code> as described on <a href=\"https://quarkus.io/guides/openapi-swaggerui\" rel=\"nofollow noreferrer\">quarkus.io/guides/openapi-swaggerui</a>. @Schema is working only for fields. @Tag for method and classes. Now I am looking for something like @Responses to describe the return value and also something to describe the security..."},{"owner":{"account_id":20958314,"reputation":21,"user_id":15398285,"display_name":"Yuna Morgenstern"},"score":0,"creation_date":1617036562,"post_id":66840686,"comment_id":118183431,"body_markdown":"I actually found finally some documentation like this: https://ftp.fau.de/eclipse/microprofile/microprofile-open-api-1.0.1/microprofile-openapi-spec.pdf but most of the Annotations are not working as I expect. are there some examples around in the internet?","body":"I actually found finally some documentation like this: <a href=\"https://ftp.fau.de/eclipse/microprofile/microprofile-open-api-1.0.1/microprofile-openapi-spec.pdf\" rel=\"nofollow noreferrer\">ftp.fau.de/eclipse/microprofile/microprofile-open-api-1.0.1/&zwnj;&#8203;&hellip;</a> but most of the Annotations are not working as I expect. are there some examples around in the internet?"},{"owner":{"account_id":1823079,"reputation":1261,"user_id":1656663,"accept_rate":50,"display_name":"jesantana"},"score":1,"creation_date":1670259327,"post_id":66840686,"comment_id":131829770,"body_markdown":"I found this very good example https://developers.redhat.com/blog/2021/05/11/building-an-api-using-quarkus-from-the-ground-up","body":"I found this very good example <a href=\"https://developers.redhat.com/blog/2021/05/11/building-an-api-using-quarkus-from-the-ground-up\" rel=\"nofollow noreferrer\">developers.redhat.com/blog/2021/05/11/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":76507,"reputation":3223,"user_id":218971,"display_name":"Michał Zalewski"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671406848,"creation_date":1671406848,"answer_id":74845133,"question_id":66840686,"body_markdown":"You can use `io.quarkus:quarkus-smallrye-openapi` extension to add necessary annotations to your project. You can do it by adding dependency in Maven or Gradle.\r\n\r\nFor Gradle:\r\n```Gradle\r\nimplementation(&quot;io.quarkus:quarkus-smallrye-openapi&quot;)\r\n```\r\nFor Maven:\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n    &lt;artifactId&gt;quarkus-smallrye-openapi&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nBy default SmallRye OpenAPI extension will check what type method return and it will use it in generated documentation. In your example it will be probably `Response` which will be converted just to empty JSON object.\r\n\r\n## Single response\r\n\r\nYou can change your code to just return MyResponseObject object from method like this:\r\n```java\r\n  @GET\r\n  @Path(&quot;/&quot;)\r\n  public MyResponseObject someMethod() {\r\n    return new MyResponseObject();\r\n  }\r\n```\r\nIn this case MyResponseObject will be automatically mapped to OpenAPI schema (all properties will be mapped to JSON object properties).\r\n\r\n## Multiple responses\r\n\r\nIf you have more than one response e.g. response with object and response with error you can use annotations. SmallRye OpenAPI extension provides two annotations for this:\r\n- `APIResponse` - for describing single response\r\n- `APIResponses` - for describing multiple responses from single method\r\n\r\nBoth from `org.eclipse.microprofile.openapi.annotations.responses` package.\r\n\r\nHere is example with two different response codes:\r\n```java\r\n@APIResponses({\r\n  @APIResponse(responseCode = &quot;204&quot;, description = &quot;Reservation confirmed&quot;),\r\n  @APIResponse(\r\n    responseCode = &quot;422&quot;,\r\n    description = &quot;Reservation can not be confirmed&quot;,\r\n    content = @Content(mediaType = APPLICATION_JSON,\r\n    schema = @Schema(implementation = GlobalError.class))\r\n  )\r\n})\r\npublic Response confirm(@PathParam(&quot;reservationId&quot;) long reservationId) {\r\n\r\n    final var result = reservationService.confirm(reservationId);\r\n\r\n    if (result.isOK()) {\r\n        return Response.status(Response.Status.NO_CONTENT).build();\r\n    } else {\r\n        return Response.status(422).entity(new GlobalError(result.getError())).build();\r\n    }\r\n}\r\n```\r\n\r\nI added two `APIResponse` annotations, one for each response code.\r\n\r\nFirst APIResponse is for 204 (reservation confirmed) and nothing is returned that&#39;s why `content` and `schema` is not set for it.\r\n\r\nSecond APIResponse is for 422 (reservation can not be confirmed). In this annotation I set custom schema with my class, which is returned when user got 422 from API. You can also add description, which will added to your API documentation and displayed in Swagger.","title":"Quarkus swagger define responses","body":"<p>You can use <code>io.quarkus:quarkus-smallrye-openapi</code> extension to add necessary annotations to your project. You can do it by adding dependency in Maven or Gradle.</p>\n<p>For Gradle:</p>\n<pre><code>implementation(&quot;io.quarkus:quarkus-smallrye-openapi&quot;)\n</code></pre>\n<p>For Maven:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n    &lt;artifactId&gt;quarkus-smallrye-openapi&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>By default SmallRye OpenAPI extension will check what type method return and it will use it in generated documentation. In your example it will be probably <code>Response</code> which will be converted just to empty JSON object.</p>\n<h2>Single response</h2>\n<p>You can change your code to just return MyResponseObject object from method like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  @GET\n  @Path(&quot;/&quot;)\n  public MyResponseObject someMethod() {\n    return new MyResponseObject();\n  }\n</code></pre>\n<p>In this case MyResponseObject will be automatically mapped to OpenAPI schema (all properties will be mapped to JSON object properties).</p>\n<h2>Multiple responses</h2>\n<p>If you have more than one response e.g. response with object and response with error you can use annotations. SmallRye OpenAPI extension provides two annotations for this:</p>\n<ul>\n<li><code>APIResponse</code> - for describing single response</li>\n<li><code>APIResponses</code> - for describing multiple responses from single method</li>\n</ul>\n<p>Both from <code>org.eclipse.microprofile.openapi.annotations.responses</code> package.</p>\n<p>Here is example with two different response codes:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@APIResponses({\n  @APIResponse(responseCode = &quot;204&quot;, description = &quot;Reservation confirmed&quot;),\n  @APIResponse(\n    responseCode = &quot;422&quot;,\n    description = &quot;Reservation can not be confirmed&quot;,\n    content = @Content(mediaType = APPLICATION_JSON,\n    schema = @Schema(implementation = GlobalError.class))\n  )\n})\npublic Response confirm(@PathParam(&quot;reservationId&quot;) long reservationId) {\n\n    final var result = reservationService.confirm(reservationId);\n\n    if (result.isOK()) {\n        return Response.status(Response.Status.NO_CONTENT).build();\n    } else {\n        return Response.status(422).entity(new GlobalError(result.getError())).build();\n    }\n}\n</code></pre>\n<p>I added two <code>APIResponse</code> annotations, one for each response code.</p>\n<p>First APIResponse is for 204 (reservation confirmed) and nothing is returned that's why <code>content</code> and <code>schema</code> is not set for it.</p>\n<p>Second APIResponse is for 422 (reservation can not be confirmed). In this annotation I set custom schema with my class, which is returned when user got 422 from API. You can also add description, which will added to your API documentation and displayed in Swagger.</p>\n"}],"owner":{"account_id":20958314,"reputation":21,"user_id":15398285,"display_name":"Yuna Morgenstern"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1099,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1671406848,"creation_date":1616929094,"question_id":66840686,"body_markdown":"Hi I would like to define own responses like possible error responses and also defining the default response incase I build my responses by my self like `return Response.status(OK).entity(new MyResponseObject())`\r\nSomething like this: https://swagger.io/docs/specification/describing-responses/\r\nHow can I do it?","title":"Quarkus swagger define responses","body":"<p>Hi I would like to define own responses like possible error responses and also defining the default response incase I build my responses by my self like <code>return Response.status(OK).entity(new MyResponseObject())</code>\nSomething like this: <a href=\"https://swagger.io/docs/specification/describing-responses/\" rel=\"nofollow noreferrer\">https://swagger.io/docs/specification/describing-responses/</a>\nHow can I do it?</p>\n"},{"tags":["java","eclipse","junit","user-input"],"comments":[{"owner":{"account_id":134692,"reputation":809,"user_id":336986,"accept_rate":56,"display_name":"Markus"},"score":7,"creation_date":1308594794,"post_id":6415728,"comment_id":7525229,"body_markdown":"What are you testing, exactly? Scanner? A test method should typically assert something to be useful.","body":"What are you testing, exactly? Scanner? A test method should typically assert something to be useful."},{"owner":{"account_id":308413,"reputation":3940,"user_id":620273,"accept_rate":93,"display_name":"blong824"},"score":2,"creation_date":1308594972,"post_id":6415728,"comment_id":7525279,"body_markdown":"You shouldn&#39;t have to test Java&#39;s Scanner class.  You could manually set your input and simply test your own logic.\n\n    int input = -1 or 5 or 11\n\nwill cover your logic","body":"You shouldn&#39;t have to test Java&#39;s Scanner class.  You could manually set your input and simply test your own logic.      int input = -1 or 5 or 11  will cover your logic"},{"owner":{"account_id":703628,"reputation":14438,"user_id":595305,"accept_rate":83,"display_name":"mike rodent"},"score":3,"creation_date":1496597642,"post_id":6415728,"comment_id":75715830,"body_markdown":"Six years later... and it&#39;s still a good question.  Not least because when starting to develop an app you may typically not want to have all the bells and whistles of JavaFX, but instead just start using the humble command line for a bit of very basic interaction.  Shame that JUnit doesn&#39;t make this quite a bit easier.  For me Omar Elshal&#39;s answer is very nice, with minimal &quot;contrived&quot; or &quot;distorted&quot; app coding involved...","body":"Six years later... and it&#39;s still a good question.  Not least because when starting to develop an app you may typically not want to have all the bells and whistles of JavaFX, but instead just start using the humble command line for a bit of very basic interaction.  Shame that JUnit doesn&#39;t make this quite a bit easier.  For me Omar Elshal&#39;s answer is very nice, with minimal &quot;contrived&quot; or &quot;distorted&quot; app coding involved..."}],"answers":[{"tags":[],"owner":{"account_id":62983,"reputation":1365,"user_id":186742,"accept_rate":79,"display_name":"Sarah Haskins"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1308595383,"creation_date":1308595383,"answer_id":6415866,"question_id":6415728,"body_markdown":"You might start by extracting out the logic that retrieves the number from the keyboard into its own method.  Then you can test the validation logic without worrying about the keyboard.  In order to test the keyboard.nextInt() call you may want to consider using a mock object.","title":"JUnit testing with simulated user input","body":"<p>You might start by extracting out the logic that retrieves the number from the keyboard into its own method.  Then you can test the validation logic without worrying about the keyboard.  In order to test the keyboard.nextInt() call you may want to consider using a mock object.</p>\n"},{"tags":[],"owner":{"account_id":242871,"reputation":4296,"user_id":514687,"accept_rate":62,"display_name":"KrzyH"},"down_vote_count":1,"up_vote_count":124,"is_accepted":true,"score":123,"last_activity_date":1572121948,"creation_date":1308597071,"answer_id":6416179,"question_id":6415728,"body_markdown":"You can replace [System.in with you own stream by calling System.setIn(InputStream in)][1].\r\nInputStream can be a byte array:\r\n\r\n    InputStream sysInBackup = System.in; // backup System.in to restore it later\r\n    ByteArrayInputStream in = new ByteArrayInputStream(&quot;My string&quot;.getBytes());\r\n    System.setIn(in);\r\n\r\n    // do your thing\r\n\r\n    // optionally, reset System.in to its original\r\n    System.setIn(sysInBackup);\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/lang/System.html#setIn%28java.io.InputStream%29\r\n\r\n\r\n\r\nDifferent approach can be make this method more testable by passing IN and OUT as parameters:\r\n\r\n    public static int testUserInput(InputStream in,PrintStream out) {\r\n        Scanner keyboard = new Scanner(in);\r\n        out.println(&quot;Give a number between 1 and 10&quot;);\r\n        int input = keyboard.nextInt();\r\n\r\n        while (input &lt; 1 || input &gt; 10) {\r\n            out.println(&quot;Wrong number, try again.&quot;);\r\n            input = keyboard.nextInt();\r\n        }\r\n\r\n        return input;\r\n    }\r\n","title":"JUnit testing with simulated user input","body":"<p>You can replace <a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/System.html#setIn%28java.io.InputStream%29\" rel=\"noreferrer\">System.in with you own stream by calling System.setIn(InputStream in)</a>.\nInputStream can be a byte array:</p>\n\n<pre><code>InputStream sysInBackup = System.in; // backup System.in to restore it later\nByteArrayInputStream in = new ByteArrayInputStream(\"My string\".getBytes());\nSystem.setIn(in);\n\n// do your thing\n\n// optionally, reset System.in to its original\nSystem.setIn(sysInBackup);\n</code></pre>\n\n<p>Different approach can be make this method more testable by passing IN and OUT as parameters:</p>\n\n<pre><code>public static int testUserInput(InputStream in,PrintStream out) {\n    Scanner keyboard = new Scanner(in);\n    out.println(\"Give a number between 1 and 10\");\n    int input = keyboard.nextInt();\n\n    while (input &lt; 1 || input &gt; 10) {\n        out.println(\"Wrong number, try again.\");\n        input = keyboard.nextInt();\n    }\n\n    return input;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":412643,"reputation":699,"user_id":785809,"display_name":"massfords"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1308598176,"creation_date":1308598176,"answer_id":6416376,"question_id":6415728,"body_markdown":"I&#39;ve found it helpful to create an interface that defines methods similar to java.io.Console and then use that for reading or writing to the System.out. The real implementation will delegate to System.console() while your JUnit version can be a mock object with canned input and expected responses.\r\n\r\nFor example, you&#39;d construct a MockConsole that contained the canned input from the user. The mock implementation would pop an input string off the list each time readLine was called. It would also gather all of the output written to a list of responses. At the end of the test, if all went well, then all of your input would have been read and you can assert on the output.\r\n\r\n","title":"JUnit testing with simulated user input","body":"<p>I've found it helpful to create an interface that defines methods similar to java.io.Console and then use that for reading or writing to the System.out. The real implementation will delegate to System.console() while your JUnit version can be a mock object with canned input and expected responses.</p>\n\n<p>For example, you'd construct a MockConsole that contained the canned input from the user. The mock implementation would pop an input string off the list each time readLine was called. It would also gather all of the output written to a list of responses. At the end of the test, if all went well, then all of your input would have been read and you can assert on the output.</p>\n"},{"tags":[],"owner":{"account_id":267053,"reputation":29694,"user_id":554988,"accept_rate":86,"display_name":"Garrett Hall"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1308651222,"creation_date":1308599199,"answer_id":6416591,"question_id":6415728,"body_markdown":"To test drive your code, you should create a wrapper for system input/output functions.  You can do this using dependency injection, giving us a class that can ask for new integers:\r\n\r\n    public static class IntegerAsker {\r\n    \tprivate final Scanner scanner;\r\n    \tprivate final PrintStream out;\r\n    \r\n    \tpublic IntegerAsker(InputStream in, PrintStream out) {\r\n    \t\tscanner = new Scanner(in);\r\n    \t\tthis.out = out;\r\n    \t}\r\n    \r\n    \tpublic int ask(String message) {\r\n    \t\tout.println(message);\r\n    \t\treturn scanner.nextInt();\r\n    \t}\r\n    }\r\n\r\nThen you can create tests for your function, using a mock framework (I use Mockito):\r\n\r\n    @Test\r\n    public void getsIntegerWhenWithinBoundsOfOneToTen() throws Exception {\r\n    \tIntegerAsker asker = mock(IntegerAsker.class);\r\n    \twhen(asker.ask(anyString())).thenReturn(3);\r\n    \r\n    \tassertEquals(getBoundIntegerFromUser(asker), 3);\r\n    }\r\n    \r\n    @Test\r\n    public void asksForNewIntegerWhenOutsideBoundsOfOneToTen() throws Exception {\r\n    \tIntegerAsker asker = mock(IntegerAsker.class);\r\n    \twhen(asker.ask(&quot;Give a number between 1 and 10&quot;)).thenReturn(99);\r\n    \twhen(asker.ask(&quot;Wrong number, try again.&quot;)).thenReturn(3);\r\n    \r\n    \tgetBoundIntegerFromUser(asker);\r\n    \r\n    \tverify(asker).ask(&quot;Wrong number, try again.&quot;);\r\n    }\r\n\r\nThen write your function that passes the tests.  The function is much cleaner since you can remove the asking/getting integer duplication and the actual system calls are encapsulated.\r\n    \t\r\n    public static void main(String[] args) {\r\n    \tgetBoundIntegerFromUser(new IntegerAsker(System.in, System.out));\r\n    }\r\n    \r\n    public static int getBoundIntegerFromUser(IntegerAsker asker) {\r\n    \tint input = asker.ask(&quot;Give a number between 1 and 10&quot;);\r\n    \twhile (input &lt; 1 || input &gt; 10)\r\n    \t\tinput = asker.ask(&quot;Wrong number, try again.&quot;);\r\n    \treturn input;\r\n    }\r\n\r\nThis may seem like overkill for your small example, but if you are building a larger application developing like this can payoff rather quickly.","title":"JUnit testing with simulated user input","body":"<p>To test drive your code, you should create a wrapper for system input/output functions.  You can do this using dependency injection, giving us a class that can ask for new integers:</p>\n\n<pre><code>public static class IntegerAsker {\n    private final Scanner scanner;\n    private final PrintStream out;\n\n    public IntegerAsker(InputStream in, PrintStream out) {\n        scanner = new Scanner(in);\n        this.out = out;\n    }\n\n    public int ask(String message) {\n        out.println(message);\n        return scanner.nextInt();\n    }\n}\n</code></pre>\n\n<p>Then you can create tests for your function, using a mock framework (I use Mockito):</p>\n\n<pre><code>@Test\npublic void getsIntegerWhenWithinBoundsOfOneToTen() throws Exception {\n    IntegerAsker asker = mock(IntegerAsker.class);\n    when(asker.ask(anyString())).thenReturn(3);\n\n    assertEquals(getBoundIntegerFromUser(asker), 3);\n}\n\n@Test\npublic void asksForNewIntegerWhenOutsideBoundsOfOneToTen() throws Exception {\n    IntegerAsker asker = mock(IntegerAsker.class);\n    when(asker.ask(\"Give a number between 1 and 10\")).thenReturn(99);\n    when(asker.ask(\"Wrong number, try again.\")).thenReturn(3);\n\n    getBoundIntegerFromUser(asker);\n\n    verify(asker).ask(\"Wrong number, try again.\");\n}\n</code></pre>\n\n<p>Then write your function that passes the tests.  The function is much cleaner since you can remove the asking/getting integer duplication and the actual system calls are encapsulated.</p>\n\n<pre><code>public static void main(String[] args) {\n    getBoundIntegerFromUser(new IntegerAsker(System.in, System.out));\n}\n\npublic static int getBoundIntegerFromUser(IntegerAsker asker) {\n    int input = asker.ask(\"Give a number between 1 and 10\");\n    while (input &lt; 1 || input &gt; 10)\n        input = asker.ask(\"Wrong number, try again.\");\n    return input;\n}\n</code></pre>\n\n<p>This may seem like overkill for your small example, but if you are building a larger application developing like this can payoff rather quickly.</p>\n"},{"tags":[],"owner":{"account_id":1529248,"reputation":92157,"user_id":1426891,"display_name":"Jeff Bowman"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1482319642,"creation_date":1398741081,"answer_id":23354771,"question_id":6415728,"body_markdown":"One common way to test similar code would be to extract a method that takes in a Scanner and a PrintWriter, similar to [this StackOverflow answer][test-parameters], and test that:\r\n\r\n    public void processUserInput() {\r\n      processUserInput(new Scanner(System.in), System.out);\r\n    }\r\n\r\n    /** For testing. Package-private if possible. */\r\n    public void processUserInput(Scanner scanner, PrintWriter output) {\r\n      output.println(&quot;Give a number between 1 and 10&quot;);\r\n      int input = scanner.nextInt();\r\n\r\n      while (input &lt; 1 || input &gt; 10) {\r\n        output.println(&quot;Wrong number, try again.&quot;);\r\n        input = scanner.nextInt();\r\n      }\r\n\r\n      return input;\r\n    }\r\n\r\nDo note that you won&#39;t be able to read your output until the end, and you&#39;ll have to specify all of your input up front:\r\n\r\n    @Test\r\n    public void shouldProcessUserInput() {\r\n      StringWriter output = new StringWriter();\r\n      String input = &quot;11\\n&quot;       // &quot;Wrong number, try again.&quot;\r\n                   + &quot;10\\n&quot;;\r\n\r\n      assertEquals(10, systemUnderTest.processUserInput(\r\n          new Scanner(input), new PrintWriter(output)));\r\n\r\n      assertThat(output.toString(), contains(&quot;Wrong number, try again.&quot;)););\r\n    }\r\n\r\nOf course, rather than creating an overload method, you could also keep the &quot;scanner&quot; and &quot;output&quot; as mutable fields in your system under test. I tend to like keeping classes as stateless as possible, but that&#39;s not a very big concession if it matters to you or your coworkers/instructor.\n\nYou might also choose to put your test code in the same Java package as the code under test (even if it&#39;s in a different source folder), which allows you to relax the visibility of the two parameter overload to be package-private.\r\n\r\n[test-parameters]: https://stackoverflow.com/q/13329282/1426891\r\n","title":"JUnit testing with simulated user input","body":"<p>One common way to test similar code would be to extract a method that takes in a Scanner and a PrintWriter, similar to <a href=\"https://stackoverflow.com/q/13329282/1426891\">this StackOverflow answer</a>, and test that:</p>\n\n<pre><code>public void processUserInput() {\n  processUserInput(new Scanner(System.in), System.out);\n}\n\n/** For testing. Package-private if possible. */\npublic void processUserInput(Scanner scanner, PrintWriter output) {\n  output.println(\"Give a number between 1 and 10\");\n  int input = scanner.nextInt();\n\n  while (input &lt; 1 || input &gt; 10) {\n    output.println(\"Wrong number, try again.\");\n    input = scanner.nextInt();\n  }\n\n  return input;\n}\n</code></pre>\n\n<p>Do note that you won't be able to read your output until the end, and you'll have to specify all of your input up front:</p>\n\n<pre><code>@Test\npublic void shouldProcessUserInput() {\n  StringWriter output = new StringWriter();\n  String input = \"11\\n\"       // \"Wrong number, try again.\"\n               + \"10\\n\";\n\n  assertEquals(10, systemUnderTest.processUserInput(\n      new Scanner(input), new PrintWriter(output)));\n\n  assertThat(output.toString(), contains(\"Wrong number, try again.\")););\n}\n</code></pre>\n\n<p>Of course, rather than creating an overload method, you could also keep the \"scanner\" and \"output\" as mutable fields in your system under test. I tend to like keeping classes as stateless as possible, but that's not a very big concession if it matters to you or your coworkers/instructor.</p>\n\n<p>You might also choose to put your test code in the same Java package as the code under test (even if it's in a different source folder), which allows you to relax the visibility of the two parameter overload to be package-private.</p>\n"},{"tags":[],"owner":{"account_id":3541860,"reputation":43,"user_id":2958716,"display_name":"Omar Elshal"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1572122121,"creation_date":1479240966,"answer_id":40618901,"question_id":6415728,"body_markdown":"I managed to find a simpler way. However, you have to use external library [System.rules][1] by @Stefan Birkner\r\n\r\nI just took the example provided there, I think it couldn&#39;t have gotten more simpler:\r\n\r\n\r\n    import java.util.Scanner;\r\n\r\n    public class Summarize {\r\n      public static int sumOfNumbersFromSystemIn() {\r\n        Scanner scanner = new Scanner(System.in);\r\n        int firstSummand = scanner.nextInt();\r\n        int secondSummand = scanner.nextInt();\r\n        return firstSummand + secondSummand;\r\n      }\r\n    }\r\n\r\nTest\r\n    \r\n    import static org.junit.Assert.*;\r\n    import static org.junit.contrib.java.lang.system.TextFromStandardInputStream.*;\r\n    \r\n    import org.junit.Rule;\r\n    import org.junit.Test;\r\n    import org.junit.contrib.java.lang.system.TextFromStandardInputStream;\r\n    \r\n    public class SummarizeTest {\r\n      @Rule\r\n      public final TextFromStandardInputStream systemInMock\r\n        = emptyStandardInputStream();\r\n    \r\n      @Test\r\n      public void summarizesTwoNumbers() {\r\n        systemInMock.provideLines(&quot;1&quot;, &quot;2&quot;);\r\n        assertEquals(3, Summarize.sumOfNumbersFromSystemIn());\r\n      }\r\n    }\r\n\r\nThe problem however in my case my second input has spaces and this makes the whole input stream null!\r\n\r\n  [1]: http://stefanbirkner.github.io/system-rules/","title":"JUnit testing with simulated user input","body":"<p>I managed to find a simpler way. However, you have to use external library <a href=\"http://stefanbirkner.github.io/system-rules/\" rel=\"nofollow noreferrer\">System.rules</a> by @Stefan Birkner</p>\n\n<p>I just took the example provided there, I think it couldn't have gotten more simpler:</p>\n\n<pre><code>import java.util.Scanner;\n\npublic class Summarize {\n  public static int sumOfNumbersFromSystemIn() {\n    Scanner scanner = new Scanner(System.in);\n    int firstSummand = scanner.nextInt();\n    int secondSummand = scanner.nextInt();\n    return firstSummand + secondSummand;\n  }\n}\n</code></pre>\n\n<p>Test</p>\n\n<pre><code>import static org.junit.Assert.*;\nimport static org.junit.contrib.java.lang.system.TextFromStandardInputStream.*;\n\nimport org.junit.Rule;\nimport org.junit.Test;\nimport org.junit.contrib.java.lang.system.TextFromStandardInputStream;\n\npublic class SummarizeTest {\n  @Rule\n  public final TextFromStandardInputStream systemInMock\n    = emptyStandardInputStream();\n\n  @Test\n  public void summarizesTwoNumbers() {\n    systemInMock.provideLines(\"1\", \"2\");\n    assertEquals(3, Summarize.sumOfNumbersFromSystemIn());\n  }\n}\n</code></pre>\n\n<p>The problem however in my case my second input has spaces and this makes the whole input stream null!</p>\n"},{"tags":[],"owner":{"account_id":8218231,"reputation":383,"user_id":6183754,"display_name":"Javier Guti&#233;rrez-Maturana S&#225;nc"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1490630964,"creation_date":1490554068,"answer_id":43033062,"question_id":6415728,"body_markdown":"I have fixed the problem about read from stdin to simulate a console...\r\n\r\nMy problems was I&#39;d like try write in JUnit test the console to create a certain object...\r\n\r\nThe problem is like all you say : How Can I write in the Stdin from JUnit test?\r\n\r\nThen at college I learn about redirections like you say System.setIn(InputStream) change the stdin filedescriptor and you can write in then...\r\n\r\nBut there is one more proble to fix... the JUnit test block waiting read from your new InputStream, so you need create a thread to read from the InputStream and from JUnit test Thread write in the new Stdin... First you have to write in the Stdin because if you write later of create the Thread to read from stdin you likely will have race Conditions... you can write in the InputStream before to read or you can read from InputStream before write...\r\n\r\nThis is my code, my english skill is bad I hope all you can understand the problem and the solution to simulate write in stdin from JUnit test.\r\n\t\r\n    private void readFromConsole(String data) throws InterruptedException {\r\n\t\tSystem.setIn(new ByteArrayInputStream(data.getBytes()));\r\n\r\n\t\tThread rC = new Thread() {\r\n\t\t\t@Override\r\n\t\t\tpublic void run() {\r\n\t\t\t\tstudy = new Study();\r\n\t\t\t\tstudy.read(System.in);\r\n\t\t\t}\r\n\t\t};\r\n\t\trC.start();\r\n\t\trC.join();\t\t\r\n\t}","title":"JUnit testing with simulated user input","body":"<p>I have fixed the problem about read from stdin to simulate a console...</p>\n\n<p>My problems was I'd like try write in JUnit test the console to create a certain object...</p>\n\n<p>The problem is like all you say : How Can I write in the Stdin from JUnit test?</p>\n\n<p>Then at college I learn about redirections like you say System.setIn(InputStream) change the stdin filedescriptor and you can write in then...</p>\n\n<p>But there is one more proble to fix... the JUnit test block waiting read from your new InputStream, so you need create a thread to read from the InputStream and from JUnit test Thread write in the new Stdin... First you have to write in the Stdin because if you write later of create the Thread to read from stdin you likely will have race Conditions... you can write in the InputStream before to read or you can read from InputStream before write...</p>\n\n<p>This is my code, my english skill is bad I hope all you can understand the problem and the solution to simulate write in stdin from JUnit test.</p>\n\n<pre><code>private void readFromConsole(String data) throws InterruptedException {\n    System.setIn(new ByteArrayInputStream(data.getBytes()));\n\n    Thread rC = new Thread() {\n        @Override\n        public void run() {\n            study = new Study();\n            study.read(System.in);\n        }\n    };\n    rC.start();\n    rC.join();      \n}\n</code></pre>\n"}],"owner":{"account_id":399119,"reputation":1081,"user_id":764243,"display_name":"Wimpey"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":142028,"favorite_count":0,"down_vote_count":0,"up_vote_count":97,"accepted_answer_id":6416179,"answer_count":7,"score":97,"last_activity_date":1671405069,"creation_date":1308594500,"question_id":6415728,"body_markdown":"I am trying to create some JUnit tests for a method that requires user input. The method under test looks somewhat like the following method:\r\n\r\n\r\n    public static int testUserInput() {\r\n\t\tScanner keyboard = new Scanner(System.in);\r\n\t\tSystem.out.println(&quot;Give a number between 1 and 10&quot;);\r\n\t\tint input = keyboard.nextInt();\r\n\r\n\t\twhile (input &lt; 1 || input &gt; 10) {\r\n\t\t\tSystem.out.println(&quot;Wrong number, try again.&quot;);\r\n\t\t\tinput = keyboard.nextInt();\r\n\t\t}\r\n\r\n\t\treturn input;\r\n\t}\r\n\r\nIs there a possible way to automatically pass the program an int instead of me or someone else doing this manually in the JUnit test method? Like simulating the user input?","title":"JUnit testing with simulated user input","body":"<p>I am trying to create some JUnit tests for a method that requires user input. The method under test looks somewhat like the following method:</p>\n<pre><code>public static int testUserInput() {\n    Scanner keyboard = new Scanner(System.in);\n    System.out.println(&quot;Give a number between 1 and 10&quot;);\n    int input = keyboard.nextInt();\n\n    while (input &lt; 1 || input &gt; 10) {\n        System.out.println(&quot;Wrong number, try again.&quot;);\n        input = keyboard.nextInt();\n    }\n\n    return input;\n}\n</code></pre>\n<p>Is there a possible way to automatically pass the program an int instead of me or someone else doing this manually in the JUnit test method? Like simulating the user input?</p>\n"},{"tags":["java","android","maven","android-studio"],"comments":[{"owner":{"account_id":4587178,"reputation":5937,"user_id":5096562,"accept_rate":57,"display_name":"MetaSnarf"},"score":1,"creation_date":1462430337,"post_id":37020413,"comment_id":61636642,"body_markdown":"I&#39;m currently facing this error right now. Any luck for solutions?","body":"I&#39;m currently facing this error right now. Any luck for solutions?"},{"owner":{"account_id":5665843,"reputation":2024,"user_id":4482052,"accept_rate":19,"display_name":"Suresh Kumar"},"score":0,"creation_date":1462449296,"post_id":37020413,"comment_id":61647314,"body_markdown":"Me too updated Android Studio to 2.1. Since then I am facing this problem. Did you got any solution?","body":"Me too updated Android Studio to 2.1. Since then I am facing this problem. Did you got any solution?"},{"owner":{"account_id":960660,"reputation":4565,"user_id":985088,"accept_rate":90,"display_name":"Hephaestus"},"score":0,"creation_date":1462466344,"post_id":37020413,"comment_id":61658619,"body_markdown":"An earlier error message (that has since gone away) suggests that the pubnub jar file was part of the problem.  So we commented out every reference to pubnub and it now compiles and runs.   I believe the error message went away when we added the compiler directives (shown above) to force the code to &quot;1.7&quot;, however it seems that some of the 1.8 code was still leaking through.","body":"An earlier error message (that has since gone away) suggests that the pubnub jar file was part of the problem.  So we commented out every reference to pubnub and it now compiles and runs.   I believe the error message went away when we added the compiler directives (shown above) to force the code to &quot;1.7&quot;, however it seems that some of the 1.8 code was still leaking through."},{"owner":{"account_id":960660,"reputation":4565,"user_id":985088,"accept_rate":90,"display_name":"Hephaestus"},"score":0,"creation_date":1462466496,"post_id":37020413,"comment_id":61658694,"body_markdown":"Here is another SO discussion which relates: http://stackoverflow.com/questions/36968728/android-studio-testing-library-dependencies-that-have-been-compiled-using-java.  But which does not answer the question, other than to say &quot;start with a simpler test project&quot;.","body":"Here is another SO discussion which relates: <a href=\"http://stackoverflow.com/questions/36968728/android-studio-testing-library-dependencies-that-have-been-compiled-using-java\" title=\"android studio testing library dependencies that have been compiled using java\">stackoverflow.com/questions/36968728/&hellip;</a>.  But which does not answer the question, other than to say &quot;start with a simpler test project&quot;."},{"owner":{"account_id":960660,"reputation":4565,"user_id":985088,"accept_rate":90,"display_name":"Hephaestus"},"score":1,"creation_date":1463988135,"post_id":37020413,"comment_id":62279867,"body_markdown":"The only thing we did was to pull out the PubNub library and replace with an older verison.  That seemed to fix it.  But in this case, we tested by commenting out the library import and its method calls and determining that it was at fault.  But the PubNub library was loosely integrated and we could comment it out pretty easily.  If we had many libraries with tight integration, it would be painful.","body":"The only thing we did was to pull out the PubNub library and replace with an older verison.  That seemed to fix it.  But in this case, we tested by commenting out the library import and its method calls and determining that it was at fault.  But the PubNub library was loosely integrated and we could comment it out pretty easily.  If we had many libraries with tight integration, it would be painful."}],"answers":[{"tags":[],"owner":{"account_id":5847064,"reputation":420,"user_id":4606884,"accept_rate":80,"display_name":"fobo66"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1462919684,"creation_date":1462919684,"answer_id":37150037,"question_id":37020413,"body_markdown":"Possibly, some of your dependencies was compiled with Java 8, not for Android especially. Try to switch that dependencies to older version. I don&#39;t exactly know which library you should downgrade, because you haven&#39;t attached a list of dependencies of your main module.\r\n\r\nFor example: I had the same problem. After hours of searching, I&#39;ve found that library `org.codehaus.httpcache4j.uribuilder:2.0.0` requires Java 8, as of [github][1]. So, when i&#39;ve switched to `1.1.0`, project has been successfully builded and deployed.\r\n\r\n\r\n  [1]: https://github.com/httpcache4j/uribuilder","title":"Android: Dex cannot parse version 52 byte code","body":"<p>Possibly, some of your dependencies was compiled with Java 8, not for Android especially. Try to switch that dependencies to older version. I don't exactly know which library you should downgrade, because you haven't attached a list of dependencies of your main module.</p>\n\n<p>For example: I had the same problem. After hours of searching, I've found that library <code>org.codehaus.httpcache4j.uribuilder:2.0.0</code> requires Java 8, as of <a href=\"https://github.com/httpcache4j/uribuilder\" rel=\"noreferrer\">github</a>. So, when i've switched to <code>1.1.0</code>, project has been successfully builded and deployed.</p>\n"},{"tags":[],"owner":{"account_id":8465685,"reputation":1084,"user_id":6349915,"display_name":"foolcage"},"down_vote_count":1,"up_vote_count":90,"is_accepted":true,"score":89,"last_activity_date":1506317343,"creation_date":1463561829,"answer_id":37294741,"question_id":37020413,"body_markdown":"just use java 1.8 with Android Studio 3.0+ and set following works for me:\r\nit seems need the latest build tools \r\n\r\n    classpath &#39;com.android.tools.build:gradle:3.0.0&#39;\r\n\r\n\r\nand\r\n\r\n    android {\r\n        compileSdkVersion 26\r\n        buildToolsVersion &quot;26.0.1&quot;\r\n    \r\n        defaultConfig {\r\n            ...        \r\n            //jackOptions { // DEPRECATED\r\n                //enabled true\r\n            //}\r\n        }\r\n        dexOptions {\r\n            incremental true\r\n        }\r\n    \r\n        compileOptions {\r\n            sourceCompatibility JavaVersion.VERSION_1_8\r\n            targetCompatibility JavaVersion.VERSION_1_8\r\n        }\r\n    }\r\n\r\n","title":"Android: Dex cannot parse version 52 byte code","body":"<p>just use java 1.8 with Android Studio 3.0+ and set following works for me:\nit seems need the latest build tools </p>\n\n<pre><code>classpath 'com.android.tools.build:gradle:3.0.0'\n</code></pre>\n\n<p>and</p>\n\n<pre><code>android {\n    compileSdkVersion 26\n    buildToolsVersion \"26.0.1\"\n\n    defaultConfig {\n        ...        \n        //jackOptions { // DEPRECATED\n            //enabled true\n        //}\n    }\n    dexOptions {\n        incremental true\n    }\n\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1648279,"reputation":916,"user_id":1519361,"accept_rate":60,"display_name":"Hesham Fas"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1507136243,"creation_date":1464139440,"answer_id":37426385,"question_id":37020413,"body_markdown":"If you have a module with a java library that is **not Android-specific**, this should work: `apply plugin:&#39;java&#39;`\r\n\r\nPut it at the top of the build.gradle file, then rebuild.   \r\n\r\n        apply plugin: &#39;java&#39;\r\n        apply plugin: &#39;jacoco&#39;\r\n        \r\n        dependencies {\r\n            compile fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n            testCompile &#39;junit:junit:4.11&#39;\r\n        \r\n            sourceCompatibility = 1.7\r\n            targetCompatibility = 1.7\r\n        }","title":"Android: Dex cannot parse version 52 byte code","body":"<p>If you have a module with a java library that is <strong>not Android-specific</strong>, this should work: <code>apply plugin:'java'</code></p>\n\n<p>Put it at the top of the build.gradle file, then rebuild.   </p>\n\n<pre><code>    apply plugin: 'java'\n    apply plugin: 'jacoco'\n\n    dependencies {\n        compile fileTree(dir: 'libs', include: ['*.jar'])\n        testCompile 'junit:junit:4.11'\n\n        sourceCompatibility = 1.7\n        targetCompatibility = 1.7\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3583083,"reputation":846,"user_id":2990802,"display_name":"0wl"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1478043205,"creation_date":1469571282,"answer_id":38600749,"question_id":37020413,"body_markdown":"If you use `org.jetbrains:annotation:15` and retrolambda plugin then remove line `compile org.jetbrains:annotations:15.0` from your `build.gradle` and the error will disappear. It works for me.","title":"Android: Dex cannot parse version 52 byte code","body":"<p>If you use <code>org.jetbrains:annotation:15</code> and retrolambda plugin then remove line <code>compile org.jetbrains:annotations:15.0</code> from your <code>build.gradle</code> and the error will disappear. It works for me.</p>\n"},{"tags":[],"owner":{"account_id":3282112,"reputation":467,"user_id":2762461,"display_name":"Riccardo Leschiutta"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1473362826,"creation_date":1473362826,"answer_id":39398761,"question_id":37020413,"body_markdown":"I had the same problem with the greendao-generator dependency. I mistakenly added that dependency into my build.gradle (`compile &#39;org.greenrobot:greendao-generator:3.1.0&#39;`) and AndroidStudio showed me the same error message.\r\n\r\nProbably it&#39;s because that module has been compiled with Java 8.\r\n\r\nSo I removed that dependency from my build.gradle and all compiled happily :)\r\n","title":"Android: Dex cannot parse version 52 byte code","body":"<p>I had the same problem with the greendao-generator dependency. I mistakenly added that dependency into my build.gradle (<code>compile 'org.greenrobot:greendao-generator:3.1.0'</code>) and AndroidStudio showed me the same error message.</p>\n\n<p>Probably it's because that module has been compiled with Java 8.</p>\n\n<p>So I removed that dependency from my build.gradle and all compiled happily :)</p>\n"},{"tags":[],"owner":{"account_id":8346632,"reputation":21,"user_id":6270136,"display_name":"李歆扬"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1474450870,"creation_date":1474450870,"answer_id":39612894,"question_id":37020413,"body_markdown":"I solved this problem as belowed :\r\n\r\n    apply plugin: &#39;java&#39;\r\n    \r\n    sourceCompatibility = 1.7\r\n    targetCompatibility = 1.7\r\n\r\n    dependencies {\r\n        compile fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n    }","title":"Android: Dex cannot parse version 52 byte code","body":"<p>I solved this problem as belowed :</p>\n\n<pre><code>apply plugin: 'java'\n\nsourceCompatibility = 1.7\ntargetCompatibility = 1.7\n\ndependencies {\n    compile fileTree(dir: 'libs', include: ['*.jar'])\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1659927,"reputation":166,"user_id":1528408,"display_name":"Stephan Bezoen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1479372910,"creation_date":1479372910,"answer_id":40650398,"question_id":37020413,"body_markdown":"Switching off Instant Run in Android Studio 2.2 with Gradle plugin 2.2.2 fixed it for me. Switching back to an older version of the Gradle plugin (such as 2.2.0) also fixed it, but that&#39;s less desirable imho.","title":"Android: Dex cannot parse version 52 byte code","body":"<p>Switching off Instant Run in Android Studio 2.2 with Gradle plugin 2.2.2 fixed it for me. Switching back to an older version of the Gradle plugin (such as 2.2.0) also fixed it, but that's less desirable imho.</p>\n"},{"tags":[],"owner":{"account_id":2801511,"reputation":443,"user_id":2409677,"display_name":"vitalinvent"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1489484775,"creation_date":1489484775,"answer_id":42782513,"question_id":37020413,"body_markdown":"Try to add to main build.gradle in section **allprojects**\r\n\r\n    tasks.withType(JavaCompile) {\r\n        sourceCompatibility = &quot;1.7&quot;\r\n        targetCompatibility = &quot;1.7&quot;\r\n    }\r\n\r\nor add this in *dependencies*\r\n\r\n        sourceCompatibility = 1.7\r\n        targetCompatibility = 1.7\r\n\r\nin ***all modules*** manually","title":"Android: Dex cannot parse version 52 byte code","body":"<p>Try to add to main build.gradle in section <strong>allprojects</strong></p>\n\n<pre><code>tasks.withType(JavaCompile) {\n    sourceCompatibility = \"1.7\"\n    targetCompatibility = \"1.7\"\n}\n</code></pre>\n\n<p>or add this in <em>dependencies</em></p>\n\n<pre><code>    sourceCompatibility = 1.7\n    targetCompatibility = 1.7\n</code></pre>\n\n<p>in <strong><em>all modules</em></strong> manually</p>\n"},{"tags":[],"owner":{"account_id":2385230,"reputation":71,"user_id":2086341,"display_name":"Faisal Ali"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1501672709,"creation_date":1501672299,"answer_id":45459254,"question_id":37020413,"body_markdown":"I was able to solve this issue by adding the following lines:\r\n\r\n    jackOptions {\r\n        enabled true\r\n    }\r\n\r\nto `defaultConfig` in `build.gradle` file.\r\n\r\nYou can follow the guidelines for Java 8 on the link - \r\nhttps://developer.android.com/guide/platform/j8-jack.html","title":"Android: Dex cannot parse version 52 byte code","body":"<p>I was able to solve this issue by adding the following lines:</p>\n\n<pre><code>jackOptions {\n    enabled true\n}\n</code></pre>\n\n<p>to <code>defaultConfig</code> in <code>build.gradle</code> file.</p>\n\n<p>You can follow the guidelines for Java 8 on the link - \n<a href=\"https://developer.android.com/guide/platform/j8-jack.html\" rel=\"noreferrer\">https://developer.android.com/guide/platform/j8-jack.html</a></p>\n"},{"tags":[],"owner":{"account_id":1496202,"reputation":666,"user_id":1402087,"display_name":"mp501"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1505157445,"creation_date":1505157445,"answer_id":46162939,"question_id":37020413,"body_markdown":"This happened to me with Android Studio 2.3.3. The solution I found was to delete the build folder and then **Rebuild Project**. It was as simple as that.","title":"Android: Dex cannot parse version 52 byte code","body":"<p>This happened to me with Android Studio 2.3.3. The solution I found was to delete the build folder and then <strong>Rebuild Project</strong>. It was as simple as that.</p>\n"},{"tags":[],"owner":{"account_id":2324699,"reputation":570,"user_id":2039497,"display_name":"Aleksander Niedziolko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1506350364,"creation_date":1506350364,"answer_id":46407919,"question_id":37020413,"body_markdown":"I have come across this issue when trying to upgrade to auto-value v 1.5 in Android Studio v 2.3.3. Auto-value 1.5 will presumably be compatible with AS 3 (It requires an updated java compiler)\r\n\r\nFor now auto-value 1.4.1 works.","title":"Android: Dex cannot parse version 52 byte code","body":"<p>I have come across this issue when trying to upgrade to auto-value v 1.5 in Android Studio v 2.3.3. Auto-value 1.5 will presumably be compatible with AS 3 (It requires an updated java compiler)</p>\n\n<p>For now auto-value 1.4.1 works.</p>\n"},{"tags":[],"owner":{"account_id":293195,"reputation":12980,"user_id":596370,"accept_rate":75,"display_name":"rashok"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1507530707,"creation_date":1507530707,"answer_id":46640079,"question_id":37020413,"body_markdown":"I also faced same error in `Android 2.3.3`, after adding few JAR depencies. Problem was due to the depenecy `io.netty:netty-all:4.1.16.Final`. This 4.1.16 version JAR was compiled with Java 1.8 and all others was generated with Java 1.7.\r\n\r\nThis get resolved, after including older version of `netty`(which was generated with Java 1.7) in my `build.gradle` file. \r\n\r\n`compile &#39;io.netty:netty-all:4.1.5.Final&#39;`","title":"Android: Dex cannot parse version 52 byte code","body":"<p>I also faced same error in <code>Android 2.3.3</code>, after adding few JAR depencies. Problem was due to the depenecy <code>io.netty:netty-all:4.1.16.Final</code>. This 4.1.16 version JAR was compiled with Java 1.8 and all others was generated with Java 1.7.</p>\n\n<p>This get resolved, after including older version of <code>netty</code>(which was generated with Java 1.7) in my <code>build.gradle</code> file. </p>\n\n<p><code>compile 'io.netty:netty-all:4.1.5.Final'</code></p>\n"},{"tags":[],"owner":{"account_id":8263343,"reputation":66,"user_id":6213882,"display_name":"Divyam Khandelwal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1513768799,"creation_date":1513768799,"answer_id":47904834,"question_id":37020413,"body_markdown":"I face the same issue with [Reactive Location APIs Library for Android and RxJava 2][1].Just update build.gradle to 3.0.1 and reduce the  [Reactive Location APIs Library for Android and RxJava 2][1] library version from 1.0.4 to 1.0.3\r\nIt works fine in my case.\r\n\r\n  [1]: https://github.com/patloew/RxLocation","title":"Android: Dex cannot parse version 52 byte code","body":"<p>I face the same issue with <a href=\"https://github.com/patloew/RxLocation\" rel=\"nofollow noreferrer\">Reactive Location APIs Library for Android and RxJava 2</a>.Just update build.gradle to 3.0.1 and reduce the  <a href=\"https://github.com/patloew/RxLocation\" rel=\"nofollow noreferrer\">Reactive Location APIs Library for Android and RxJava 2</a> library version from 1.0.4 to 1.0.3\nIt works fine in my case.</p>\n"},{"tags":[],"owner":{"account_id":2669715,"reputation":11,"user_id":2307372,"display_name":"uncle long"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1517295349,"creation_date":1517295349,"answer_id":48515593,"question_id":37020413,"body_markdown":"I have come across this issue when trying to import a jar compiled by jdk 1.8 in Android Studio 3.0. I tried all above solution, but none work. so, I asked the developer of that jar to re-compile it with jdk 1.7, and then it work well, not come across this issue again.","title":"Android: Dex cannot parse version 52 byte code","body":"<p>I have come across this issue when trying to import a jar compiled by jdk 1.8 in Android Studio 3.0. I tried all above solution, but none work. so, I asked the developer of that jar to re-compile it with jdk 1.7, and then it work well, not come across this issue again.</p>\n"},{"tags":[],"owner":{"account_id":6584344,"reputation":714,"user_id":5087570,"accept_rate":35,"display_name":"Kanika"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1534871595,"creation_date":1534871595,"answer_id":51953698,"question_id":37020413,"body_markdown":"If possible for you:\r\n\r\n 1. Upgrade android tools to: classpath &#39;com.android.tools.build:gradle:3.0.0&#39;\r\n 2. buildToolsVersion &quot;26.0.2&quot;\r\n\r\nThis should take care of the issue.\r\n\r\nReference: https://developer.android.com/studio/write/java8-support","title":"Android: Dex cannot parse version 52 byte code","body":"<p>If possible for you:</p>\n\n<ol>\n<li>Upgrade android tools to: classpath 'com.android.tools.build:gradle:3.0.0'</li>\n<li>buildToolsVersion \"26.0.2\"</li>\n</ol>\n\n<p>This should take care of the issue.</p>\n\n<p>Reference: <a href=\"https://developer.android.com/studio/write/java8-support\" rel=\"nofollow noreferrer\">https://developer.android.com/studio/write/java8-support</a></p>\n"}],"owner":{"account_id":960660,"reputation":4565,"user_id":985088,"accept_rate":90,"display_name":"Hephaestus"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88617,"favorite_count":0,"down_vote_count":0,"up_vote_count":95,"accepted_answer_id":37294741,"answer_count":15,"score":95,"last_activity_date":1671404959,"creation_date":1462344483,"question_id":37020413,"body_markdown":"I just switched to Android Studio 2.1 and this error showed up when trying to compile an app the was previously working:\r\n\r\n&gt;     Error:Error converting bytecode to dex:\r\n&gt;     Cause: Dex cannot parse version 52 byte code.\r\n&gt;     This is caused by library dependencies that have been compiled using Java 8 or above.\r\n&gt;     If you are using the &#39;java&#39; gradle plugin in a library submodule add \r\n&gt;     targetCompatibility = &#39;1.7&#39;\r\n&gt;     sourceCompatibility = &#39;1.7&#39;\r\n&gt;     to that submodule&#39;s build.gradle file.\r\n\r\nI had already updated the main project&#39;s gradle.build file to force Java 1.7 code generation:\r\n\r\n    buildscript {\r\n        repositories {\r\n            jcenter()\r\n        }\r\n        dependencies {\r\n            classpath &#39;com.android.tools.build:gradle:2.1.0&#39;\r\n            apply plugin: &#39;java&#39;\r\n            sourceCompatibility = 1.7\r\n            targetCompatibility = 1.7\r\n        }\r\n    }\r\nI had also updated the module gradle.build as follows to set the java version:\r\n\r\n    android {\r\n    compileSdkVersion 19\r\n    buildToolsVersion &quot;23.0.2&quot;\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.abc.def&quot;\r\n        minSdkVersion 19\r\n        targetSdkVersion 19\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.txt&#39;\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_7\r\n        targetCompatibility JavaVersion.VERSION_1_7\r\n    }\r\n    }\r\n\r\n\r\nThe submodule being built with Maven.  In the pom.xml file I have also tried to force 1.7 code generation.  \r\nI understand that I am using an assembly artifact, which incorporates subordinate modules, but i have not changed any of the subordinate modules and the resulting .jar file for the module ran fine last time I compiled.\r\n\r\n    \t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt; &lt;!-- maven-compiler-plugin --&gt;\r\n\t\t\t\t&lt;version&gt;2.6&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;source&gt;1.7&lt;/source&gt;\r\n\t\t\t\t\t&lt;target&gt;1.7&lt;/target&gt; \r\n\t\t\t\t\t&lt;descriptorRefs&gt;\r\n\t\t\t\t\t\t&lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n\t\t\t\t\t&lt;/descriptorRefs&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;make-assembly&lt;/id&gt; &lt;!-- this is used for inheritance merges --&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;package&lt;/phase&gt; &lt;!-- bind to the packaging phase --&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;single&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\nMy question: \r\n1) Is this an Android Studio 2.1 problem?  Have others seen it?\r\n2) Assuming this is my error and since the error message gives no help in finding the bad module, are there any recommendations on finding the V52 code?  I can&#39;t just omit the libraries without breaking large amount of code.  Can one inspect a .jar file to find the code revision?","title":"Android: Dex cannot parse version 52 byte code","body":"<p>I just switched to Android Studio 2.1 and this error showed up when trying to compile an app the was previously working:</p>\n<blockquote>\n<pre><code>Error:Error converting bytecode to dex:\nCause: Dex cannot parse version 52 byte code.\nThis is caused by library dependencies that have been compiled using Java 8 or above.\nIf you are using the 'java' gradle plugin in a library submodule add \ntargetCompatibility = '1.7'\nsourceCompatibility = '1.7'\nto that submodule's build.gradle file.\n</code></pre>\n</blockquote>\n<p>I had already updated the main project's gradle.build file to force Java 1.7 code generation:</p>\n<pre><code>buildscript {\n    repositories {\n        jcenter()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:2.1.0'\n        apply plugin: 'java'\n        sourceCompatibility = 1.7\n        targetCompatibility = 1.7\n    }\n}\n</code></pre>\n<p>I had also updated the module gradle.build as follows to set the java version:</p>\n<pre><code>android {\ncompileSdkVersion 19\nbuildToolsVersion &quot;23.0.2&quot;\n\ndefaultConfig {\n    applicationId &quot;com.abc.def&quot;\n    minSdkVersion 19\n    targetSdkVersion 19\n}\n\nbuildTypes {\n    release {\n        minifyEnabled false\n        proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.txt'\n    }\n}\ncompileOptions {\n    sourceCompatibility JavaVersion.VERSION_1_7\n    targetCompatibility JavaVersion.VERSION_1_7\n}\n}\n</code></pre>\n<p>The submodule being built with Maven.  In the pom.xml file I have also tried to force 1.7 code generation.<br />\nI understand that I am using an assembly artifact, which incorporates subordinate modules, but i have not changed any of the subordinate modules and the resulting .jar file for the module ran fine last time I compiled.</p>\n<pre><code>    &lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt; &lt;!-- maven-compiler-plugin --&gt;\n            &lt;version&gt;2.6&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;1.7&lt;/source&gt;\n                &lt;target&gt;1.7&lt;/target&gt; \n                &lt;descriptorRefs&gt;\n                    &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n                &lt;/descriptorRefs&gt;\n            &lt;/configuration&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;make-assembly&lt;/id&gt; &lt;!-- this is used for inheritance merges --&gt;\n                    &lt;phase&gt;package&lt;/phase&gt; &lt;!-- bind to the packaging phase --&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;single&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p>My question:</p>\n<ol>\n<li>Is this an Android Studio 2.1 problem?  Have others seen it?</li>\n<li>Assuming this is my error and since the error message gives no help in finding the bad module, are there any recommendations on finding the V52 code?  I can't just omit the libraries without breaking large amount of code.  Can one inspect a .jar file to find the code revision?</li>\n</ol>\n"},{"tags":["java","java-time","java-17","zoneddatetime","datetimeformatter"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1670947713,"post_id":74787596,"comment_id":131988429,"body_markdown":"What Locale are you running this in? Have you tried explicitly specifying `Locale.ROOT`?","body":"What Locale are you running this in? Have you tried explicitly specifying <code>Locale.ROOT</code>?"},{"owner":{"account_id":4801146,"reputation":85,"user_id":3877753,"display_name":"Leil Jan C"},"score":0,"creation_date":1670948547,"post_id":74787596,"comment_id":131988775,"body_markdown":"I am using the default Locale. I tried explicitly specifying Locale.ROOT but the issue persists.","body":"I am using the default Locale. I tried explicitly specifying Locale.ROOT but the issue persists."},{"owner":{"account_id":2497295,"reputation":3931,"user_id":2173392,"display_name":"pdem"},"score":0,"creation_date":1670949317,"post_id":74787596,"comment_id":131989056,"body_markdown":"It works for me, no errors. JDK 17.0.3 oracle. Try another JDK, or post full Junit test, there may be something you don&#39;&#39;t see.","body":"It works for me, no errors. JDK 17.0.3 oracle. Try another JDK, or post full Junit test, there may be something you don&#39;&#39;t see."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1671405071,"post_id":74787596,"comment_id":132086760,"body_markdown":"@pdem I do not see how you did that. Can you copy and run the code [from Ideone.com](https://ideone.com/VZrFmi)? I cannot get it to run on Java 12 nor Java 19. Or paste your code somewhere?","body":"@pdem I do not see how you did that. Can you copy and run the code <a href=\"https://ideone.com/VZrFmi\" rel=\"nofollow noreferrer\">from Ideone.com</a>? I cannot get it to run on Java 12 nor Java 19. Or paste your code somewhere?"}],"answers":[{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1670948304,"creation_date":1670947737,"answer_id":74787739,"question_id":74787596,"body_markdown":"&gt; What should be the correct pattern so that the parser accepts both GMT\r\n&gt; and UTC inputs?\r\n\r\nUse `V` instead of `O` i.e. use the pattern, `yyyy-MM-dd HH:mm:ss VV`.\r\n\r\n**Demo**:\r\n\r\n    public class Main {\r\n        public static void main(String args[]) {\r\n            DateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss VV&quot;, Locale.ENGLISH);\r\n            Stream.of(\r\n                    &quot;2022-12-29 01:16:03 GMT+08:00&quot;,\r\n                    &quot;2022-12-29 01:16:03 UTC-08:00&quot;\r\n                )\r\n                .map(s -&gt; ZonedDateTime.parse(s, dtf))\r\n                .forEach(System.out::println);\r\n            ;\r\n        }\r\n    }\r\n\r\n**Output**:\r\n\r\n    2022-12-29T01:16:03+08:00[GMT+08:00]\r\n    2022-12-29T01:16:03-08:00[UTC-08:00]\r\n\r\n&lt;kbd&gt;[Online Demo](https://ideone.com/xD8L9b)&lt;/kbd&gt;\r\n\r\nLearn more about the modern Date-Time API from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**. ","title":"ZonedDateTime correctly parses &quot;GMT&quot; zone from pattern &#39;O&#39; but not &quot;UTC&quot;","body":"<blockquote>\n<p>What should be the correct pattern so that the parser accepts both GMT\nand UTC inputs?</p>\n</blockquote>\n<p>Use <code>V</code> instead of <code>O</code> i.e. use the pattern, <code>yyyy-MM-dd HH:mm:ss VV</code>.</p>\n<p><strong>Demo</strong>:</p>\n<pre><code>public class Main {\n    public static void main(String args[]) {\n        DateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss VV&quot;, Locale.ENGLISH);\n        Stream.of(\n                &quot;2022-12-29 01:16:03 GMT+08:00&quot;,\n                &quot;2022-12-29 01:16:03 UTC-08:00&quot;\n            )\n            .map(s -&gt; ZonedDateTime.parse(s, dtf))\n            .forEach(System.out::println);\n        ;\n    }\n}\n</code></pre>\n<p><strong>Output</strong>:</p>\n<pre><code>2022-12-29T01:16:03+08:00[GMT+08:00]\n2022-12-29T01:16:03-08:00[UTC-08:00]\n</code></pre>\n<p><kbd><a href=\"https://ideone.com/xD8L9b\" rel=\"noreferrer\">Online Demo</a></kbd></p>\n<p>Learn more about the modern Date-Time API from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"noreferrer\">Trail: Date Time</a></strong>.</p>\n"}],"owner":{"account_id":4801146,"reputation":85,"user_id":3877753,"display_name":"Leil Jan C"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":171,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":74787739,"answer_count":1,"score":4,"last_activity_date":1671404808,"creation_date":1670946969,"question_id":74787596,"body_markdown":"The following correctly parses the text input &quot;2022-12-29 01:16:03 GMT+08:00&quot;.\r\n```\r\npublic ZonedDateTime parseZonedDateTime(String timeStr) {\r\n  DateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss O&quot;);\r\n\r\n  ZonedDateTime zonedDateTime = ZonedDateTime.parse(timeStr, dtf);\r\n\r\n  return zonedDateTime;\r\n}\r\n```\r\nHowever, if the input string is &quot;2022-12-29 01:16:03 UTC-08:00&quot;, ZonedDateTime.parse() method throws\r\n```\r\njava.time.format.DateTimeParseException: Text &#39;2022-12-29 01:16:03 UTC-08:00&#39; could not be parsed at index 20\r\n```\r\n\r\nSee this [code run on Java 12 at Ideone.com][1].\r\n\r\nAccording to the DateTimeFormatter doc, https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html\r\n\r\n\r\nboth &quot;GMT+08:00&quot; and &quot;UTC-08:00&quot; are considered localized zone-offset &#39;O&#39;.\r\n\r\nWhat should be the correct pattern so that the parser accepts both GMT and UTC inputs?\r\n\r\n\r\n\r\n\r\nI have tried using the format &quot;yyyy-MM-dd HH:mm:ss OOOO&quot; but the behavior is the same.\r\n\r\nThere is a similar question https://stackoverflow.com/questions/37287103/why-does-gmt8-fail-to-parse-with-pattern-o-despite-being-copied-straight-ou and according to this, the bug was fixed in Java 9 build b116.\r\n\r\nHowever I&#39;m using java 17.0.4.1-librca\r\n\r\n\r\n  [1]: https://ideone.com/VZrFmi","title":"ZonedDateTime correctly parses &quot;GMT&quot; zone from pattern &#39;O&#39; but not &quot;UTC&quot;","body":"<p>The following correctly parses the text input &quot;2022-12-29 01:16:03 GMT+08:00&quot;.</p>\n<pre><code>public ZonedDateTime parseZonedDateTime(String timeStr) {\n  DateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss O&quot;);\n\n  ZonedDateTime zonedDateTime = ZonedDateTime.parse(timeStr, dtf);\n\n  return zonedDateTime;\n}\n</code></pre>\n<p>However, if the input string is &quot;2022-12-29 01:16:03 UTC-08:00&quot;, ZonedDateTime.parse() method throws</p>\n<pre><code>java.time.format.DateTimeParseException: Text '2022-12-29 01:16:03 UTC-08:00' could not be parsed at index 20\n</code></pre>\n<p>See this <a href=\"https://ideone.com/VZrFmi\" rel=\"nofollow noreferrer\">code run on Java 12 at Ideone.com</a>.</p>\n<p>According to the DateTimeFormatter doc, <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html</a></p>\n<p>both &quot;GMT+08:00&quot; and &quot;UTC-08:00&quot; are considered localized zone-offset 'O'.</p>\n<p>What should be the correct pattern so that the parser accepts both GMT and UTC inputs?</p>\n<p>I have tried using the format &quot;yyyy-MM-dd HH:mm:ss OOOO&quot; but the behavior is the same.</p>\n<p>There is a similar question <a href=\"https://stackoverflow.com/questions/37287103/why-does-gmt8-fail-to-parse-with-pattern-o-despite-being-copied-straight-ou\">Why does `GMT+8` fail to parse with pattern `O` despite being copied straight out of doc?</a> and according to this, the bug was fixed in Java 9 build b116.</p>\n<p>However I'm using java 17.0.4.1-librca</p>\n"},{"tags":["java","image","swing","jlabel","imageicon"],"comments":[{"owner":{"account_id":893276,"reputation":339,"user_id":931145,"accept_rate":67,"display_name":"brickBreaker"},"score":0,"creation_date":1385943636,"post_id":20318945,"comment_id":30322510,"body_markdown":"Looks good to me, is the banner.png image in the right directory?","body":"Looks good to me, is the banner.png image in the right directory?"},{"owner":{"account_id":2074371,"reputation":1198,"user_id":1848150,"accept_rate":76,"display_name":"lecardo"},"score":0,"creation_date":1385944477,"post_id":20318945,"comment_id":30322696,"body_markdown":"same directory as main.java","body":"same directory as main.java"}],"answers":[{"tags":[],"owner":{"account_id":230596,"reputation":1592,"user_id":494307,"display_name":"disrvptor"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1385943641,"creation_date":1385943641,"answer_id":20318990,"question_id":20318945,"body_markdown":"There&#39;s a lot of things that could be going on here and it&#39;s hard to tell without more code.  Based on the short snippet above (and assuming everything else is correct) you should check the image load status of the ImageIcon using the [getImageLoadStatus()][1] method.  If it returns [MediaTracker.COMPLETE][2] then you&#39;re good to go and the error is somewhere outside this code.  If it&#39;s anything but COMPLETE then you are having some sort of issue in loading the image.  Maybe it&#39;s not in the path or classpath?\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/javax/swing/ImageIcon.html#getImageLoadStatus%28%29\r\n  [2]: http://docs.oracle.com/javase/6/docs/api/java/awt/MediaTracker.html#COMPLETE","title":"Java image not showing?","body":"<p>There's a lot of things that could be going on here and it's hard to tell without more code.  Based on the short snippet above (and assuming everything else is correct) you should check the image load status of the ImageIcon using the <a href=\"http://docs.oracle.com/javase/6/docs/api/javax/swing/ImageIcon.html#getImageLoadStatus%28%29\" rel=\"nofollow\">getImageLoadStatus()</a> method.  If it returns <a href=\"http://docs.oracle.com/javase/6/docs/api/java/awt/MediaTracker.html#COMPLETE\" rel=\"nofollow\">MediaTracker.COMPLETE</a> then you're good to go and the error is somewhere outside this code.  If it's anything but COMPLETE then you are having some sort of issue in loading the image.  Maybe it's not in the path or classpath?</p>\n"},{"tags":[],"owner":{"account_id":3498959,"reputation":135,"user_id":2926198,"display_name":"iWumbo"},"down_vote_count":1,"up_vote_count":5,"is_accepted":true,"score":4,"last_activity_date":1385943647,"creation_date":1385943647,"answer_id":20318993,"question_id":20318945,"body_markdown":"Try `ImageIcon im = new ImageIcon(new File(&quot;banner.png&quot;));` If you&#39;re using eclipse, put it in the root folder, not the src folder. The root folder has the src folder and the bin folder.","title":"Java image not showing?","body":"<p>Try <code>ImageIcon im = new ImageIcon(new File(\"banner.png\"));</code> If you're using eclipse, put it in the root folder, not the src folder. The root folder has the src folder and the bin folder.</p>\n"},{"tags":[],"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1671404793,"creation_date":1385943756,"answer_id":20319007,"question_id":20318945,"body_markdown":"There are any number of possible issues, but the likely one is, the location of the image is not within the same context as where the application is being executed from.\r\n\r\nLet&#39;s say, `main.java` lives in some directory (lets just say &quot;path/to/class&quot; for argument sake), then when you execute you `main.java`, the path to the images would become something like `/path/to/class`, meaning you should be using using something like...\r\n\r\n    ImageIcon im = new ImageIcon(&quot;path/to/class/banner.png&quot;); \r\n\r\nThis also assumes that the image hasn&#39;t being Jar&#39;ed yet, as `ImageIcon(String)` expects a path to a file on the file system.\r\n\r\nIf the program has being Jar&#39;ed then you won&#39;t be able use `ImageIcon(String)`, as the `banner.png` is no longer a file, but a resource, then you would need to use something like...\r\n\r\n    ImageIcon im = new ImageIcon(getClass().getResource(&quot;/path/to/class/banner.png&quot;));\r\n\r\nWhere `/path/to/class` is the package where `main.java` lives.\r\n\r\nIn either case, I would recommend that you use `ImageIO.read` instead, as this will actually throw an `IOException` when something goes wrong, where `ImageIcon` tends to fail silently...\r\n\r\nTake a look at [Reading/Loading an Image](http://docs.oracle.com/javase/tutorial/2d/images/loadimage.html) for more details","title":"Java image not showing?","body":"<p>There are any number of possible issues, but the likely one is, the location of the image is not within the same context as where the application is being executed from.</p>\n<p>Let's say, <code>main.java</code> lives in some directory (lets just say &quot;path/to/class&quot; for argument sake), then when you execute you <code>main.java</code>, the path to the images would become something like <code>/path/to/class</code>, meaning you should be using using something like...</p>\n<pre><code>ImageIcon im = new ImageIcon(&quot;path/to/class/banner.png&quot;); \n</code></pre>\n<p>This also assumes that the image hasn't being Jar'ed yet, as <code>ImageIcon(String)</code> expects a path to a file on the file system.</p>\n<p>If the program has being Jar'ed then you won't be able use <code>ImageIcon(String)</code>, as the <code>banner.png</code> is no longer a file, but a resource, then you would need to use something like...</p>\n<pre><code>ImageIcon im = new ImageIcon(getClass().getResource(&quot;/path/to/class/banner.png&quot;));\n</code></pre>\n<p>Where <code>/path/to/class</code> is the package where <code>main.java</code> lives.</p>\n<p>In either case, I would recommend that you use <code>ImageIO.read</code> instead, as this will actually throw an <code>IOException</code> when something goes wrong, where <code>ImageIcon</code> tends to fail silently...</p>\n<p>Take a look at <a href=\"http://docs.oracle.com/javase/tutorial/2d/images/loadimage.html\" rel=\"nofollow noreferrer\">Reading/Loading an Image</a> for more details</p>\n"},{"tags":[],"owner":{"account_id":137288,"reputation":4528,"user_id":341369,"accept_rate":91,"display_name":"tjg184"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1385943818,"creation_date":1385943818,"answer_id":20319014,"question_id":20318945,"body_markdown":"If you create a folder called images (or whatever name you prefer) in your source directory, and then place the banner.png file in that folder you can then use the following code.  \r\n\r\n    ImageIcon im = new ImageIcon(this.getClass().getResource(&quot;/images/banner.png&quot;)); ","title":"Java image not showing?","body":"<p>If you create a folder called images (or whatever name you prefer) in your source directory, and then place the banner.png file in that folder you can then use the following code.  </p>\n\n<pre><code>ImageIcon im = new ImageIcon(this.getClass().getResource(\"/images/banner.png\")); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":4250858,"reputation":880,"user_id":3477984,"accept_rate":43,"display_name":"Lorenzo Battilocchi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1519109902,"creation_date":1519077570,"answer_id":48874822,"question_id":20318945,"body_markdown":"I know this is an old post, but I had the same issue on my project and fixed it by giving the full path in the `ImageIcon` definition, instead of just the path from the project. I.e. \r\n\r\n    ImageIcon im = new ImageIcon(&quot;C:/your/image/file/path/banner.png);\r\n\r\nIt solved the issue for me, **but I do recognise that this is not a valid long-term solution**, since it will only work on the developer&#39;s machine and I&#39;m not sure if portability would be an issue.\r\n\r\nHope I have helped somebody.","title":"Java image not showing?","body":"<p>I know this is an old post, but I had the same issue on my project and fixed it by giving the full path in the <code>ImageIcon</code> definition, instead of just the path from the project. I.e. </p>\n\n<pre><code>ImageIcon im = new ImageIcon(\"C:/your/image/file/path/banner.png);\n</code></pre>\n\n<p>It solved the issue for me, <strong>but I do recognise that this is not a valid long-term solution</strong>, since it will only work on the developer's machine and I'm not sure if portability would be an issue.</p>\n\n<p>Hope I have helped somebody.</p>\n"}],"owner":{"account_id":2074371,"reputation":1198,"user_id":1848150,"accept_rate":76,"display_name":"lecardo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14534,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":20318993,"answer_count":5,"score":4,"last_activity_date":1671404793,"creation_date":1385943328,"question_id":20318945,"body_markdown":"Having a issue trying to display my logo. The picture is saved in the same folder as main.java\r\n\r\n    \tImageIcon im = new ImageIcon(&quot;banner.png&quot;); \r\n    \tJLabel bam = new JLabel(im); \r\n    \r\n        grid.add(bam);\r\n\r\nIs there a problem in my syntax?","title":"Java image not showing?","body":"<p>Having a issue trying to display my logo. The picture is saved in the same folder as main.java</p>\n\n<pre><code>    ImageIcon im = new ImageIcon(\"banner.png\"); \n    JLabel bam = new JLabel(im); \n\n    grid.add(bam);\n</code></pre>\n\n<p>Is there a problem in my syntax?</p>\n"},{"tags":["java","json","rest","http","resteasy"],"comments":[{"owner":{"display_name":"user647772"},"score":1,"creation_date":1328019710,"post_id":9081079,"comment_id":11401172,"body_markdown":"What kind of REST resource is this? How do two parts relate on the resource level?","body":"What kind of REST resource is this? How do two parts relate on the resource level?"},{"owner":{"account_id":923448,"reputation":2396,"user_id":954680,"accept_rate":71,"display_name":"thermz"},"score":0,"creation_date":1328019910,"post_id":9081079,"comment_id":11401254,"body_markdown":"Actually the way we handled this resource is not totally RESTful because the image is a &quot;component&quot; of the resource instead of another resource.","body":"Actually the way we handled this resource is not totally RESTful because the image is a &quot;component&quot; of the resource instead of another resource."}],"answers":[{"tags":[],"owner":{"account_id":68766,"reputation":11950,"user_id":200445,"accept_rate":95,"display_name":"Vasiliy Faronov"},"down_vote_count":0,"up_vote_count":161,"is_accepted":true,"score":161,"last_activity_date":1328024081,"creation_date":1328024081,"answer_id":9082243,"question_id":9081079,"body_markdown":"If I understand you correctly, you want to compose a multipart request manually from an HTTP/REST console. The multipart format is simple; a brief introduction can be found [in the HTML 4.01 spec][1]. You need to come up with a boundary, which is a string not found in the content, let’s say `HereGoes`. You set request header `Content-Type: multipart/form-data; boundary=HereGoes`. Then this should be a valid request body:\r\n\r\n    --HereGoes\r\n    Content-Disposition: form-data; name=&quot;myJsonString&quot;\r\n    Content-Type: application/json\r\n\r\n    {&quot;foo&quot;: &quot;bar&quot;}\r\n    --HereGoes\r\n    Content-Disposition: form-data; name=&quot;photo&quot;\r\n    Content-Type: image/jpeg\r\n    Content-Transfer-Encoding: base64\r\n\r\n    &lt;...JPEG content in base64...&gt;\r\n    --HereGoes--\r\n\r\n[1]: http://www.w3.org/TR/html401/interact/forms.html#h-17.13.4.2","title":"REST - HTTP Post Multipart with JSON","body":"<p>If I understand you correctly, you want to compose a multipart request manually from an HTTP/REST console. The multipart format is simple; a brief introduction can be found <a href=\"http://www.w3.org/TR/html401/interact/forms.html#h-17.13.4.2\">in the HTML 4.01 spec</a>. You need to come up with a boundary, which is a string not found in the content, let’s say <code>HereGoes</code>. You set request header <code>Content-Type: multipart/form-data; boundary=HereGoes</code>. Then this should be a valid request body:</p>\n\n<pre><code>--HereGoes\nContent-Disposition: form-data; name=\"myJsonString\"\nContent-Type: application/json\n\n{\"foo\": \"bar\"}\n--HereGoes\nContent-Disposition: form-data; name=\"photo\"\nContent-Type: image/jpeg\nContent-Transfer-Encoding: base64\n\n&lt;...JPEG content in base64...&gt;\n--HereGoes--\n</code></pre>\n"}],"owner":{"account_id":923448,"reputation":2396,"user_id":954680,"accept_rate":71,"display_name":"thermz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":220318,"favorite_count":0,"down_vote_count":0,"up_vote_count":101,"accepted_answer_id":9082243,"answer_count":1,"score":101,"last_activity_date":1671404346,"creation_date":1328019604,"question_id":9081079,"body_markdown":"I need to receive an HTTP Post Multipart which contains only 2 parameters:\r\n\r\n- A JSON string\r\n- A binary file\r\n\r\nWhich is the correct way to set the body? \r\nI&#39;m going to test the HTTP call using Chrome REST console, so I&#39;m wondering if the correct solution is to set a &quot;label&quot; key for the JSON parameter and the binary file.\r\n\r\nOn the server side I&#39;m using Resteasy 2.x, and I&#39;m going to read the Multipart body like this:\r\n\r\n    @POST\r\n    @Consumes(&quot;multipart/form-data&quot;)\r\n    public String postWithPhoto(MultipartFormDataInput  multiPart) {\r\n      Map &lt;String, List&lt;InputPart&gt;&gt; params = multiPart.getFormDataMap();\r\n      String myJson = params.get(&quot;myJsonName&quot;).get(0).getBodyAsString();\r\n      InputPart imagePart = params.get(&quot;photo&quot;).get(0);\r\n      //do whatever I need to do with my json and my photo\r\n    }\r\n\r\nIs this the way to go? \r\nIs it correct to retrieve my JSON string using the key &quot;myJsonName&quot; that identify that particular content-disposition? \r\nAre there any other way to receive these 2 content in one HTTP multipart request?","title":"REST - HTTP Post Multipart with JSON","body":"<p>I need to receive an HTTP Post Multipart which contains only 2 parameters:</p>\n<ul>\n<li>A JSON string</li>\n<li>A binary file</li>\n</ul>\n<p>Which is the correct way to set the body?\nI'm going to test the HTTP call using Chrome REST console, so I'm wondering if the correct solution is to set a &quot;label&quot; key for the JSON parameter and the binary file.</p>\n<p>On the server side I'm using Resteasy 2.x, and I'm going to read the Multipart body like this:</p>\n<pre><code>@POST\n@Consumes(&quot;multipart/form-data&quot;)\npublic String postWithPhoto(MultipartFormDataInput  multiPart) {\n  Map &lt;String, List&lt;InputPart&gt;&gt; params = multiPart.getFormDataMap();\n  String myJson = params.get(&quot;myJsonName&quot;).get(0).getBodyAsString();\n  InputPart imagePart = params.get(&quot;photo&quot;).get(0);\n  //do whatever I need to do with my json and my photo\n}\n</code></pre>\n<p>Is this the way to go?\nIs it correct to retrieve my JSON string using the key &quot;myJsonName&quot; that identify that particular content-disposition?\nAre there any other way to receive these 2 content in one HTTP multipart request?</p>\n"},{"tags":["java","h2","quarkus","in-memory-database","embedded-database"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1671403292,"post_id":74844874,"comment_id":132086500,"body_markdown":"Possibly related: [*How to access in-memory h2 database from Intellij IDEA*](https://stackoverflow.com/q/52388984/642706)","body":"Possibly related: <a href=\"https://stackoverflow.com/q/52388984/642706\"><i>How to access in-memory h2 database from Intellij IDEA</i></a>"},{"owner":{"account_id":5973669,"reputation":6765,"user_id":4695271,"accept_rate":69,"display_name":"x80486"},"score":0,"creation_date":1671404358,"post_id":74844874,"comment_id":132086671,"body_markdown":"I think I may have going through several of those, but I don&#39;t see anywhere how `Quarkus` is able to start `H2` in &quot;server mode&quot;.","body":"I think I may have going through several of those, but I don&#39;t see anywhere how <code>Quarkus</code> is able to start <code>H2</code> in &quot;server mode&quot;."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1671406602,"post_id":74844874,"comment_id":132086979,"body_markdown":"See also [_In-Memory Databases_](https://www.h2database.com/html/features.html#in_memory_databases).","body":"See also <a href=\"https://www.h2database.com/html/features.html#in_memory_databases\" rel=\"nofollow noreferrer\"><i>In-Memory Databases</i></a>."}],"owner":{"account_id":5973669,"reputation":6765,"user_id":4695271,"accept_rate":69,"display_name":"x80486"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":472,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1671403319,"creation_date":1671403141,"question_id":74844874,"body_markdown":"I have a simple `Quarkus` application that uses an in-memory `H2` database. The JDBC connection string has some custom settings: `jdbc:h2:mem:quarkus_db;DATABASE_TO_LOWER=TRUE;DB_CLOSE_DELAY=-1;MODE=MariaDB`.\r\n\r\nI&#39;m trying to connect to the **exact same database from a database manager** — say `DataGrip`. After following the [documentation][1], [several][2] [answers][3] from `StackOverflow`, and [some blog posts][4], I&#39;m still unable to connect to the same instance and query for any existing data using SQL.\r\n\r\nThere is something I don&#39;t fully understand from the examples. I&#39;ve seen that initially using a connection like this in the application: `jdbc:h2:mem:quarkus_db`, and while the same it&#39;s up and running, then on the other application/process (`DataGrip` in my case) using `jdbc:h2:tcp://localhost/mem:quarkus_db` should work, but I fail to see how the first scheme will create a TCP server.\r\n\r\nMy goal is to verify some data while the application is running. I understand that when using something like `jdbc:h2:mem:*`, everything will be lost after the application stops.\r\n\r\n  [1]: http://www.h2database.com/html/features.html#in_memory_databases\r\n  [2]: https://stackoverflow.com/questions/2768450/h2-in-memory-tables-remote-connection\r\n  [3]: https://stackoverflow.com/questions/43256295/how-to-access-in-memory-h2-database-of-one-spring-boot-application-from-another\r\n  [4]: https://jsoftbiz.wordpress.com/2011/04/30/share-an-h2-in-memory-database-among-several-jvms/","title":"Connecting to existing in-memory H2 from different application/process","body":"<p>I have a simple <code>Quarkus</code> application that uses an in-memory <code>H2</code> database. The JDBC connection string has some custom settings: <code>jdbc:h2:mem:quarkus_db;DATABASE_TO_LOWER=TRUE;DB_CLOSE_DELAY=-1;MODE=MariaDB</code>.</p>\n<p>I'm trying to connect to the <strong>exact same database from a database manager</strong> — say <code>DataGrip</code>. After following the <a href=\"http://www.h2database.com/html/features.html#in_memory_databases\" rel=\"nofollow noreferrer\">documentation</a>, <a href=\"https://stackoverflow.com/questions/2768450/h2-in-memory-tables-remote-connection\">several</a> <a href=\"https://stackoverflow.com/questions/43256295/how-to-access-in-memory-h2-database-of-one-spring-boot-application-from-another\">answers</a> from <code>StackOverflow</code>, and <a href=\"https://jsoftbiz.wordpress.com/2011/04/30/share-an-h2-in-memory-database-among-several-jvms/\" rel=\"nofollow noreferrer\">some blog posts</a>, I'm still unable to connect to the same instance and query for any existing data using SQL.</p>\n<p>There is something I don't fully understand from the examples. I've seen that initially using a connection like this in the application: <code>jdbc:h2:mem:quarkus_db</code>, and while the same it's up and running, then on the other application/process (<code>DataGrip</code> in my case) using <code>jdbc:h2:tcp://localhost/mem:quarkus_db</code> should work, but I fail to see how the first scheme will create a TCP server.</p>\n<p>My goal is to verify some data while the application is running. I understand that when using something like <code>jdbc:h2:mem:*</code>, everything will be lost after the application stops.</p>\n"},{"tags":["java","generics","extends"],"comments":[{"owner":{"account_id":341129,"reputation":39091,"user_id":671543,"accept_rate":55,"display_name":"njzk2"},"score":1,"creation_date":1671400618,"post_id":74844667,"comment_id":132086092,"body_markdown":"you can declare `Class&lt;? extends T&gt; clazz` as, T is inferred as compile time, but the actual class will be known at runtime (basically `instance` can be `Number instance = new Integer(5);`","body":"you can declare <code>Class&lt;? extends T&gt; clazz</code> as, T is inferred as compile time, but the actual class will be known at runtime (basically <code>instance</code> can be <code>Number instance = new Integer(5);</code>"},{"owner":{"account_id":3427015,"reputation":302,"user_id":2872536,"accept_rate":79,"display_name":"M&#225;ra Toner"},"score":0,"creation_date":1671400899,"post_id":74844667,"comment_id":132086145,"body_markdown":"@njzk2 I&#39;m afraid I cannot modify `thirdPartyMethod()` signature as it comes from library I&#39;m using.","body":"@njzk2 I&#39;m afraid I cannot modify <code>thirdPartyMethod()</code> signature as it comes from library I&#39;m using."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1671400949,"post_id":74844667,"comment_id":132086153,"body_markdown":"I would just cast `(Class&lt;T&gt;)instance.getClass()`.","body":"I would just cast <code>(Class&lt;T&gt;)instance.getClass()</code>."},{"owner":{"account_id":3427015,"reputation":302,"user_id":2872536,"accept_rate":79,"display_name":"M&#225;ra Toner"},"score":0,"creation_date":1671401050,"post_id":74844667,"comment_id":132086164,"body_markdown":"@tgdavies That indeed works! It just produces pesky warning about unchecked cast, but I can suppress that I guess.","body":"@tgdavies That indeed works! It just produces pesky warning about unchecked cast, but I can suppress that I guess."}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1671403183,"creation_date":1671402067,"answer_id":74844788,"question_id":74844667,"body_markdown":"According to the return type of [`Object.getClass()`][getClass]\r\n\r\n&gt; The actual result type is `Class&lt;? extends |X|&gt;` where `|X|` is the\r\n&gt; erasure of the static type of the expression on which getClass is\r\n&gt; called.\r\n\r\nSince `T` extends `Number`, the resulting type would be `Class&lt;? extends Number&gt;`, i.e. means an *unknown type* extending `Number`. Which doesn&#39;t match `T extends Number` (i.e. a *particular* type extending `Number` which would be provided at runtime).\r\n\r\n&gt; How can I modify the Parent class so it conforms to expected arguments of thirdPartyMethod()?\r\n\r\n**1.** Introduce a second parameter of type `Class&lt;T&gt;` in your constructor.\r\n\r\n    abstract class Parent&lt;T extends Number&gt; {\r\n        public Parent(T instance, Class&lt;T&gt; tClass) {\r\n            ThirdPartyClass.thirdPartyMethod(tClass, instance);\r\n        }\r\n    }\r\n\r\n**2.** Perform casting (as have been mentioned in the comments):\r\n\r\n```\r\nThirdPartyClass.thirdPartyMethod((Class&lt;T&gt;) instance.getClass(), instance);\r\n```\r\n\r\nBy the way, instead of calling methods from a constructor (especially ones that are not developed and tested by you/your colleagues) you might consider introducing a factory method that would produce your domain object based on the result of a method call.\r\n\r\n\r\n\r\n   [getClass]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#getClass()","title":"Inference variable T has incompatible bounds with specific Class&lt;T&gt; and instance &lt;T&gt; in one method","body":"<p>According to the return type of <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#getClass()\" rel=\"nofollow noreferrer\"><code>Object.getClass()</code></a></p>\n<blockquote>\n<p>The actual result type is <code>Class&lt;? extends |X|&gt;</code> where <code>|X|</code> is the\nerasure of the static type of the expression on which getClass is\ncalled.</p>\n</blockquote>\n<p>Since <code>T</code> extends <code>Number</code>, the resulting type would be <code>Class&lt;? extends Number&gt;</code>, i.e. means an <em>unknown type</em> extending <code>Number</code>. Which doesn't match <code>T extends Number</code> (i.e. a <em>particular</em> type extending <code>Number</code> which would be provided at runtime).</p>\n<blockquote>\n<p>How can I modify the Parent class so it conforms to expected arguments of thirdPartyMethod()?</p>\n</blockquote>\n<p><strong>1.</strong> Introduce a second parameter of type <code>Class&lt;T&gt;</code> in your constructor.</p>\n<pre><code>abstract class Parent&lt;T extends Number&gt; {\n    public Parent(T instance, Class&lt;T&gt; tClass) {\n        ThirdPartyClass.thirdPartyMethod(tClass, instance);\n    }\n}\n</code></pre>\n<p><strong>2.</strong> Perform casting (as have been mentioned in the comments):</p>\n<pre><code>ThirdPartyClass.thirdPartyMethod((Class&lt;T&gt;) instance.getClass(), instance);\n</code></pre>\n<p>By the way, instead of calling methods from a constructor (especially ones that are not developed and tested by you/your colleagues) you might consider introducing a factory method that would produce your domain object based on the result of a method call.</p>\n"}],"owner":{"account_id":3427015,"reputation":302,"user_id":2872536,"accept_rate":79,"display_name":"M&#225;ra Toner"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":741,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74844788,"answer_count":1,"score":1,"last_activity_date":1671403183,"creation_date":1671400405,"question_id":74844667,"body_markdown":"I&#39;m using library which contains method I want to use. Simplified signature would look like this:\r\n\r\n```\r\nfinal class ThirdPartyClass\r\n{\r\n    public static &lt;T&gt; void thirdPartyMethod(Class&lt;T&gt; clazz, T instance)\r\n    {\r\n        // does something\r\n    }\r\n}\r\n```\r\n\r\nInside `thirdPartyMethod()` it expects **class** of `T` as first argument and an **instance** of that specific class `T` as second argument.\r\n\r\nNow I have this simple abstract class, which is calling that method:\r\n\r\n```\r\nabstract class Parent&lt;T extends Number&gt;\r\n{\r\n    public Parent(T instance)\r\n    {\r\n        ThirdPartyClass.thirdPartyMethod(instance.getClass(), instance);\r\n    }\r\n}\r\n```\r\n\r\nI&#39;m getting an error:\r\n\r\n&gt; method thirdPartyMethod in class ThirdPartyClass cannot be applied to given types;  \r\n  required: java.lang.Class&lt;T&gt;, T  \r\n  found:    java.lang.Class&lt;capture#1 of ? extends java.lang.Number&gt;, T  \r\n  reason: inference variable T has incompatible bounds  \r\n    equality constraints: capture#2 of ? extends java.lang.Number  \r\n    lower bounds: T\r\n\r\n\r\nHow can I modify the `Parent` class so it conforms to expected arguments of `thirdPartyMethod()`?\r\nIf possible with explanation.","title":"Inference variable T has incompatible bounds with specific Class&lt;T&gt; and instance &lt;T&gt; in one method","body":"<p>I'm using library which contains method I want to use. Simplified signature would look like this:</p>\n<pre><code>final class ThirdPartyClass\n{\n    public static &lt;T&gt; void thirdPartyMethod(Class&lt;T&gt; clazz, T instance)\n    {\n        // does something\n    }\n}\n</code></pre>\n<p>Inside <code>thirdPartyMethod()</code> it expects <strong>class</strong> of <code>T</code> as first argument and an <strong>instance</strong> of that specific class <code>T</code> as second argument.</p>\n<p>Now I have this simple abstract class, which is calling that method:</p>\n<pre><code>abstract class Parent&lt;T extends Number&gt;\n{\n    public Parent(T instance)\n    {\n        ThirdPartyClass.thirdPartyMethod(instance.getClass(), instance);\n    }\n}\n</code></pre>\n<p>I'm getting an error:</p>\n<blockquote>\n<p>method thirdPartyMethod in class ThirdPartyClass cannot be applied to given types;<br />\nrequired: java.lang.Class, T<br />\nfound:    java.lang.Class&lt;capture#1 of ? extends java.lang.Number&gt;, T<br />\nreason: inference variable T has incompatible bounds<br />\nequality constraints: capture#2 of ? extends java.lang.Number<br />\nlower bounds: T</p>\n</blockquote>\n<p>How can I modify the <code>Parent</code> class so it conforms to expected arguments of <code>thirdPartyMethod()</code>?\nIf possible with explanation.</p>\n"},{"tags":["java","spring","spring-profiles"],"comments":[{"owner":{"account_id":15396644,"reputation":25755,"user_id":11107541,"display_name":"starball"},"score":1,"creation_date":1671403233,"post_id":38520638,"comment_id":132086488,"body_markdown":"Not to future readers: requests for learning resources other than ones from &quot;official sources&quot; (official documentation, etc) are not allowed because they tend to attract opinionated answers and spam (see the [help/on-topic]).","body":"Not to future readers: requests for learning resources other than ones from &quot;official sources&quot; (official documentation, etc) are not allowed because they tend to attract opinionated answers and spam (see the <a href=\"https://stackoverflow.com/help/on-topic\">help center</a>)."}],"answers":[{"tags":[],"owner":{"account_id":2926675,"reputation":2175,"user_id":2507819,"accept_rate":50,"display_name":"JanTheGun"},"down_vote_count":1,"up_vote_count":92,"is_accepted":false,"score":91,"last_activity_date":1469173311,"creation_date":1469173311,"answer_id":38520863,"question_id":38520638,"body_markdown":"If you provide your JVM the Spring profile there should be no problems:\r\n\r\n    java -Dspring.profiles.active=development -jar yourApplication.jar \r\n\r\nAlso see Spring-Documentation:\r\n\r\nhttp://docs.spring.io/spring-boot/docs/current/reference/html/howto-properties-and-configuration.html\r\n\r\n\r\n&gt; **69.5 Set the active Spring profiles**\r\n&gt; \r\n&gt; The Spring Environment has an API for this, but normally you would set\r\n&gt; a System property (spring.profiles.active) or an OS environment\r\n&gt; variable (SPRING_PROFILES_ACTIVE). E.g. launch your application with a\r\n&gt; -D argument (remember to put it before the main class or jar archive):\r\n&gt; \r\n&gt; $ java -jar -Dspring.profiles.active=production\r\n&gt; demo-0.0.1-SNAPSHOT.jar\r\n&gt; \r\n&gt; In Spring Boot you can also set the active profile in\r\n&gt; application.properties, e.g.\r\n&gt; \r\n&gt; spring.profiles.active=production\r\n&gt; \r\n&gt; A value set this way is replaced by the System property or environment\r\n&gt; variable setting, but not by the SpringApplicationBuilder.profiles()\r\n&gt; method. Thus the latter Java API can be used to augment the profiles\r\n&gt; without changing the defaults.\r\n&gt; \r\n&gt; See Chapter 25, Profiles in the ‘Spring Boot features’ section for\r\n&gt; more information.","title":"How to set Spring profile from system variable?","body":"<p>If you provide your JVM the Spring profile there should be no problems:</p>\n\n<pre><code>java -Dspring.profiles.active=development -jar yourApplication.jar \n</code></pre>\n\n<p>Also see Spring-Documentation:</p>\n\n<p><a href=\"http://docs.spring.io/spring-boot/docs/current/reference/html/howto-properties-and-configuration.html\">http://docs.spring.io/spring-boot/docs/current/reference/html/howto-properties-and-configuration.html</a></p>\n\n<blockquote>\n  <p><strong>69.5 Set the active Spring profiles</strong></p>\n  \n  <p>The Spring Environment has an API for this, but normally you would set\n  a System property (spring.profiles.active) or an OS environment\n  variable (SPRING_PROFILES_ACTIVE). E.g. launch your application with a\n  -D argument (remember to put it before the main class or jar archive):</p>\n  \n  <p>$ java -jar -Dspring.profiles.active=production\n  demo-0.0.1-SNAPSHOT.jar</p>\n  \n  <p>In Spring Boot you can also set the active profile in\n  application.properties, e.g.</p>\n  \n  <p>spring.profiles.active=production</p>\n  \n  <p>A value set this way is replaced by the System property or environment\n  variable setting, but not by the SpringApplicationBuilder.profiles()\n  method. Thus the latter Java API can be used to augment the profiles\n  without changing the defaults.</p>\n  \n  <p>See Chapter 25, Profiles in the ‘Spring Boot features’ section for\n  more information.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":92715,"reputation":6014,"user_id":253986,"accept_rate":44,"display_name":"Achaius"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1469174964,"creation_date":1469174964,"answer_id":38521374,"question_id":38520638,"body_markdown":"My solution is to set the environment variable as `spring.profiles.active=development`. So that all applications running in that machine will refer the variable and start the application. The order in which spring loads a properties as follows\r\n\r\n    application.properties\r\n    system properties\r\n    environment variable","title":"How to set Spring profile from system variable?","body":"<p>My solution is to set the environment variable as <code>spring.profiles.active=development</code>. So that all applications running in that machine will refer the variable and start the application. The order in which spring loads a properties as follows</p>\n\n<pre><code>application.properties\nsystem properties\nenvironment variable\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2033016,"reputation":4216,"user_id":1816151,"accept_rate":85,"display_name":"AchillesVan"},"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1469265390,"creation_date":1469265390,"answer_id":38540128,"question_id":38520638,"body_markdown":"If i run the command line : `java -Dspring.profiles.active=development -jar yourApplication.jar`  from my webapplication directory it states that the path is incorrect. So i just defined the profile in manualy in the application.properties file like this : \r\n\r\n    spring.profiles.active=mysql \r\nor \r\n\r\n    spring.profiles.active=postgres\r\n\r\nor \r\n\r\n    spring.profiles.active=mongodb\r\n\r\n","title":"How to set Spring profile from system variable?","body":"<p>If i run the command line : <code>java -Dspring.profiles.active=development -jar yourApplication.jar</code>  from my webapplication directory it states that the path is incorrect. So i just defined the profile in manualy in the application.properties file like this : </p>\n\n<pre><code>spring.profiles.active=mysql \n</code></pre>\n\n<p>or </p>\n\n<pre><code>spring.profiles.active=postgres\n</code></pre>\n\n<p>or </p>\n\n<pre><code>spring.profiles.active=mongodb\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1931144,"reputation":2211,"user_id":1740505,"display_name":"Lalit Jha"},"down_vote_count":0,"up_vote_count":205,"is_accepted":false,"score":205,"last_activity_date":1504600524,"creation_date":1504600524,"answer_id":46050490,"question_id":38520638,"body_markdown":"SPRING_PROFILES_ACTIVE is the environment variable to override/pick Spring profile","title":"How to set Spring profile from system variable?","body":"<p>SPRING_PROFILES_ACTIVE is the environment variable to override/pick Spring profile</p>\n"},{"tags":[],"owner":{"account_id":160094,"reputation":4247,"user_id":379906,"accept_rate":80,"display_name":"db80"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1524558695,"creation_date":1524558695,"answer_id":49996902,"question_id":38520638,"body_markdown":"If you are using docker to deploy the spring boot app, you can set the *profile* using the flag **e**:\r\n\r\n&gt; docker run -e &quot;SPRING_PROFILES_ACTIVE=prod&quot; -p 8080:8080 -t\r\n&gt; r.test.co/myapp:latest","title":"How to set Spring profile from system variable?","body":"<p>If you are using docker to deploy the spring boot app, you can set the <em>profile</em> using the flag <strong>e</strong>:</p>\n\n<blockquote>\n  <p>docker run -e \"SPRING_PROFILES_ACTIVE=prod\" -p 8080:8080 -t\n  r.test.co/myapp:latest</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":8998563,"reputation":1629,"user_id":6707951,"display_name":"Ajmal V Aliyar"},"down_vote_count":2,"up_vote_count":58,"is_accepted":false,"score":56,"last_activity_date":1584459422,"creation_date":1531657011,"answer_id":51348303,"question_id":38520638,"body_markdown":"I normally configure the applicationContext using **Annotation based configuration** rather than **XML based configuration**. Anyway, I believe both of them have the **same priority**.\r\n\r\n*Answering your question, system variable has higher priority *\r\n\r\n----------\r\n\r\n\r\n## Getting profile based beans from applicationContext##\r\n \r\n- ## Use @Profile on a Bean ##\r\n\r\n```java\r\n@Component\r\n@Profile(&quot;dev&quot;)\r\npublic class DatasourceConfigForDev\r\n```\r\n\r\n  Now, the profile is `dev`\r\n  \r\n  Note : if the Profile is given as\r\n        `@Profile(&quot;!dev&quot;)` then the profile will exclude dev and be for all others.\r\n    \r\n- ## Use profiles attribute in XML ##\r\n```xml\r\n&lt;beans profile=&quot;dev&quot;&gt;\r\n    &lt;bean id=&quot;DatasourceConfigForDev&quot; class=&quot;org.skoolguy.profiles.DatasourceConfigForDev&quot;/&gt;\r\n&lt;/beans&gt;\r\n```\r\n\r\n----------\r\n##Set the value for profile:##\r\n\r\n - ##Programmatically via WebApplicationInitializer interface##\r\n   In web applications, WebApplicationInitializer can be used to configure the ServletContext programmatically\r\n\r\n```java\r\n@Configuration\r\npublic class MyWebApplicationInitializer implements WebApplicationInitializer {\r\n \r\n    @Override\r\n    public void onStartup(ServletContext servletContext) throws ServletException {\r\n            servletContext.setInitParameter(&quot;spring.profiles.active&quot;, &quot;dev&quot;);\r\n    }\r\n}\r\n```\r\n\r\n - ##Programmatically via ConfigurableEnvironment##\r\n   You can also set profiles directly on the environment:\r\n        \r\n```java\r\n    @Autowired\r\n    private ConfigurableEnvironment env;\r\n        \r\n    // ...\r\n\r\n    env.setActiveProfiles(&quot;dev&quot;);\r\n```\r\n\r\n - ##Context Parameter in web.xml##\r\nprofiles can be activated in the web.xml of the web application as well, using a context parameter:\r\n        \r\n```xml\r\n    &lt;context-param&gt;\r\n        &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n        &lt;param-value&gt;/WEB-INF/app-config.xml&lt;/param-value&gt;\r\n    &lt;/context-param&gt;\r\n    &lt;context-param&gt;\r\n        &lt;param-name&gt;spring.profiles.active&lt;/param-name&gt;\r\n        &lt;param-value&gt;dev&lt;/param-value&gt;\r\n    &lt;/context-param&gt;\r\n```\r\n\r\n - ##JVM System Parameter##\r\nThe profile names passed as the parameter will be activated during application start-up:\r\n        \r\n        -Dspring.profiles.active=dev\r\n    \r\n   In IDEs, you can set the environment variables and values to use when an application runs. The following is the Run Configuration in Eclipse:\r\n\r\n[![Eclipse Run Configuration - screenshot is unavailable][1]][1]\r\n\r\n - ##Environment Variable##\r\n\r\n   to set via command line : `export spring_profiles_active=dev`\r\n\r\n&gt; Any bean that does not specify a profile belongs to “default” profile.\r\n\r\n\r\n----------\r\n\r\n##The priority order is :##\r\n 1. Context parameter in web.xml \r\n 2. WebApplicationInitializer \r\n 3. JVM System parameter \r\n 4. Environment variable\r\n\r\n \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xaMKV.png","title":"How to set Spring profile from system variable?","body":"<p>I normally configure the applicationContext using <strong>Annotation based configuration</strong> rather than <strong>XML based configuration</strong>. Anyway, I believe both of them have the <strong>same priority</strong>.</p>\n\n<p>*Answering your question, system variable has higher priority *</p>\n\n<hr>\n\n<h2>Getting profile based beans from applicationContext</h2>\n\n<ul>\n<li><h2>Use @Profile on a Bean</h2></li>\n</ul>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Component\n@Profile(\"dev\")\npublic class DatasourceConfigForDev\n</code></pre>\n\n<p>Now, the profile is <code>dev</code></p>\n\n<p>Note : if the Profile is given as\n        <code>@Profile(\"!dev\")</code> then the profile will exclude dev and be for all others.</p>\n\n<ul>\n<li><h2>Use profiles attribute in XML</h2></li>\n</ul>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;beans profile=\"dev\"&gt;\n    &lt;bean id=\"DatasourceConfigForDev\" class=\"org.skoolguy.profiles.DatasourceConfigForDev\"/&gt;\n&lt;/beans&gt;\n</code></pre>\n\n<hr>\n\n<h2>Set the value for profile:</h2>\n\n<ul>\n<li><h2>Programmatically via WebApplicationInitializer interface</h2>\n\nIn web applications, WebApplicationInitializer can be used to configure the ServletContext programmatically</li>\n</ul>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class MyWebApplicationInitializer implements WebApplicationInitializer {\n\n    @Override\n    public void onStartup(ServletContext servletContext) throws ServletException {\n            servletContext.setInitParameter(\"spring.profiles.active\", \"dev\");\n    }\n}\n</code></pre>\n\n<ul>\n<li><h2>Programmatically via ConfigurableEnvironment</h2>\n\nYou can also set profiles directly on the environment:</li>\n</ul>\n\n<pre class=\"lang-java prettyprint-override\"><code>    @Autowired\n    private ConfigurableEnvironment env;\n\n    // ...\n\n    env.setActiveProfiles(\"dev\");\n</code></pre>\n\n<ul>\n<li><h2>Context Parameter in web.xml</h2>\n\nprofiles can be activated in the web.xml of the web application as well, using a context parameter:</li>\n</ul>\n\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;context-param&gt;\n        &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n        &lt;param-value&gt;/WEB-INF/app-config.xml&lt;/param-value&gt;\n    &lt;/context-param&gt;\n    &lt;context-param&gt;\n        &lt;param-name&gt;spring.profiles.active&lt;/param-name&gt;\n        &lt;param-value&gt;dev&lt;/param-value&gt;\n    &lt;/context-param&gt;\n</code></pre>\n\n<ul>\n<li><h2>JVM System Parameter</h2>\n\n<p>The profile names passed as the parameter will be activated during application start-up:</p>\n\n<pre><code>-Dspring.profiles.active=dev\n</code></pre>\n\n<p>In IDEs, you can set the environment variables and values to use when an application runs. The following is the Run Configuration in Eclipse:</p></li>\n</ul>\n\n<p><a href=\"https://i.stack.imgur.com/xaMKV.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/xaMKV.png\" alt=\"Eclipse Run Configuration - screenshot is unavailable\"></a></p>\n\n<ul>\n<li><h2>Environment Variable</h2>\n\n<p>to set via command line : <code>export spring_profiles_active=dev</code></p></li>\n</ul>\n\n<blockquote>\n  <p>Any bean that does not specify a profile belongs to “default” profile.</p>\n</blockquote>\n\n<hr>\n\n<h2>The priority order is :</h2>\n\n<ol>\n<li>Context parameter in web.xml </li>\n<li>WebApplicationInitializer </li>\n<li>JVM System parameter </li>\n<li>Environment variable</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":16257617,"reputation":690,"user_id":11739905,"display_name":"Lavish"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1591099349,"creation_date":1591099349,"answer_id":62151565,"question_id":38520638,"body_markdown":"You can set the spring profile by supplying `-Dspring.profiles.active=&lt;env&gt;`\r\n\r\n\r\nFor java files in **source(src) directory**, you can use by \r\n`System.getProperty(&quot;spring.profiles.active&quot;)` \r\n\r\nFor java files in **test directory** you can supply \r\n\r\n- `SPRING_PROFILES_ACTIVE` to `&lt;env&gt;`\r\n\r\nOR \r\n\r\nSince, &quot;environment&quot;, &quot;jvmArgs&quot; and &quot;systemProperties&quot; are ignored for the &quot;test&quot; task. In root `build.gradle` add a task to set jvm property and environment variable.  \r\n\r\n```\r\ntest {\r\n    def profile = System.properties[&quot;spring.profiles.active&quot;]\r\n    systemProperty &quot;spring.profiles.active&quot;,profile\r\n    environment &quot;SPRING.PROFILES_ACTIVE&quot;, profile\r\n    println &quot;Running ${project} tests with profile: ${profile}&quot;\r\n}\r\n```","title":"How to set Spring profile from system variable?","body":"<p>You can set the spring profile by supplying <code>-Dspring.profiles.active=&lt;env&gt;</code></p>\n\n<p>For java files in <strong>source(src) directory</strong>, you can use by \n<code>System.getProperty(\"spring.profiles.active\")</code> </p>\n\n<p>For java files in <strong>test directory</strong> you can supply </p>\n\n<ul>\n<li><code>SPRING_PROFILES_ACTIVE</code> to <code>&lt;env&gt;</code></li>\n</ul>\n\n<p>OR </p>\n\n<p>Since, \"environment\", \"jvmArgs\" and \"systemProperties\" are ignored for the \"test\" task. In root <code>build.gradle</code> add a task to set jvm property and environment variable.  </p>\n\n<pre><code>test {\n    def profile = System.properties[\"spring.profiles.active\"]\n    systemProperty \"spring.profiles.active\",profile\n    environment \"SPRING.PROFILES_ACTIVE\", profile\n    println \"Running ${project} tests with profile: ${profile}\"\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4784217,"reputation":594,"user_id":3865191,"display_name":"gshock"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1628524923,"creation_date":1628524923,"answer_id":68715179,"question_id":38520638,"body_markdown":"Too late to the party but here are the new trends for this topic: https://howtodoinjava.com/spring-boot2/logging/profile-specific-logging/\r\n\r\nHere is a excellent example:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;configuration&gt;\r\n  &lt;include resource=&quot;org/springframework/boot/logging/logback/defaults.xml&quot; /&gt;\r\n  &lt;property name=&quot;LOG_FILE&quot; value=&quot;c:/temp/spring.log}&quot;/&gt;\r\n  &lt;include resource=&quot;org/springframework/boot/logging/logback/console-appender.xml&quot; /&gt;\r\n  \r\n  &lt;appender name=&quot;FILE&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\r\n    &lt;encoder&gt;\r\n      &lt;pattern&gt;${FILE_LOG_PATTERN}&lt;/pattern&gt;\r\n    &lt;/encoder&gt;\r\n    &lt;file&gt;${LOG_FILE}&lt;/file&gt;\r\n    &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;&gt;\r\n      &lt;fileNamePattern&gt;${LOG_FILE}.%d&lt;/fileNamePattern&gt;\r\n    &lt;/rollingPolicy&gt;\r\n  &lt;/appender&gt;\r\n  \r\n  &lt;springProfile name=&quot;local | dev&quot;&gt;\r\n    &lt;logger name=&quot;org.springframework&quot; level=&quot;DEBUG&quot; additivity=&quot;false&quot;&gt;\r\n        &lt;appender-ref ref=&quot;CONSOLE&quot; /&gt;\r\n    &lt;/logger&gt;\r\n    &lt;root level=&quot;DEBUG&quot;&gt;\r\n      &lt;appender-ref ref=&quot;CONSOLE&quot; /&gt;\r\n      &lt;appender-ref ref=&quot;FILE&quot; /&gt;\r\n    &lt;/root&gt;\r\n  &lt;/springProfile&gt;\r\n \r\n  &lt;springProfile name=&quot;prod&quot;&gt;\r\n    &lt;root level=&quot;INFO&quot;&gt;\r\n      &lt;appender-ref ref=&quot;FILE&quot; /&gt;\r\n    &lt;/root&gt;\r\n  &lt;/springProfile&gt;\r\n \r\n  &lt;springProfile name=&quot;!local &amp; !dev &amp; !prod&quot;&gt;\r\n    &lt;root level=&quot;INFO&quot;&gt;\r\n      &lt;appender-ref ref=&quot;FILE&quot; /&gt;\r\n    &lt;/root&gt;\r\n  &lt;/springProfile&gt;\r\n  \r\n&lt;/configuration&gt;\r\n```\r\n\r\n!NB! If you have problems using `&amp;` replace it with `&amp;amp;`\r\n","title":"How to set Spring profile from system variable?","body":"<p>Too late to the party but here are the new trends for this topic: <a href=\"https://howtodoinjava.com/spring-boot2/logging/profile-specific-logging/\" rel=\"nofollow noreferrer\">https://howtodoinjava.com/spring-boot2/logging/profile-specific-logging/</a></p>\n<p>Here is a excellent example:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;configuration&gt;\n  &lt;include resource=&quot;org/springframework/boot/logging/logback/defaults.xml&quot; /&gt;\n  &lt;property name=&quot;LOG_FILE&quot; value=&quot;c:/temp/spring.log}&quot;/&gt;\n  &lt;include resource=&quot;org/springframework/boot/logging/logback/console-appender.xml&quot; /&gt;\n  \n  &lt;appender name=&quot;FILE&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\n    &lt;encoder&gt;\n      &lt;pattern&gt;${FILE_LOG_PATTERN}&lt;/pattern&gt;\n    &lt;/encoder&gt;\n    &lt;file&gt;${LOG_FILE}&lt;/file&gt;\n    &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;&gt;\n      &lt;fileNamePattern&gt;${LOG_FILE}.%d&lt;/fileNamePattern&gt;\n    &lt;/rollingPolicy&gt;\n  &lt;/appender&gt;\n  \n  &lt;springProfile name=&quot;local | dev&quot;&gt;\n    &lt;logger name=&quot;org.springframework&quot; level=&quot;DEBUG&quot; additivity=&quot;false&quot;&gt;\n        &lt;appender-ref ref=&quot;CONSOLE&quot; /&gt;\n    &lt;/logger&gt;\n    &lt;root level=&quot;DEBUG&quot;&gt;\n      &lt;appender-ref ref=&quot;CONSOLE&quot; /&gt;\n      &lt;appender-ref ref=&quot;FILE&quot; /&gt;\n    &lt;/root&gt;\n  &lt;/springProfile&gt;\n \n  &lt;springProfile name=&quot;prod&quot;&gt;\n    &lt;root level=&quot;INFO&quot;&gt;\n      &lt;appender-ref ref=&quot;FILE&quot; /&gt;\n    &lt;/root&gt;\n  &lt;/springProfile&gt;\n \n  &lt;springProfile name=&quot;!local &amp; !dev &amp; !prod&quot;&gt;\n    &lt;root level=&quot;INFO&quot;&gt;\n      &lt;appender-ref ref=&quot;FILE&quot; /&gt;\n    &lt;/root&gt;\n  &lt;/springProfile&gt;\n  \n&lt;/configuration&gt;\n</code></pre>\n<p>!NB! If you have problems using <code>&amp;</code> replace it with <code>&amp;amp;</code></p>\n"}],"owner":{"account_id":3141462,"reputation":1653,"user_id":2656851,"accept_rate":0,"display_name":"user2656851"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":304831,"favorite_count":0,"down_vote_count":1,"up_vote_count":132,"answer_count":8,"score":131,"last_activity_date":1671403153,"creation_date":1469172595,"question_id":38520638,"body_markdown":"I have a Spring project which uses another project. Each project has its own spring profile initialize from java code using `applicationContext.xml` and `*.properties` for each profile. I inject the profile from `args[]`. **The problem is that second project uses the default configuration for the env from the** `applicationContext.xml`\r\nI can not inject the env from `args[]` to the second project and I tried looking for an article which will explain how Spring profile works.\r\n\r\n 1. Is there a hierarchy on which it will look the profile when default is not configured at `applicationContext.xml` ?\r\n 2. Is System var stronger than `applicationContext.xml` configuration?\r\n 3. What you think is the best solution to my challenge?\r\n\r\nArticles on that subject or even examples would be most appreciated.","title":"How to set Spring profile from system variable?","body":"<p>I have a Spring project which uses another project. Each project has its own spring profile initialize from java code using <code>applicationContext.xml</code> and <code>*.properties</code> for each profile. I inject the profile from <code>args[]</code>. <strong>The problem is that second project uses the default configuration for the env from the</strong> <code>applicationContext.xml</code>\nI can not inject the env from <code>args[]</code> to the second project and I tried looking for an article which will explain how Spring profile works.</p>\n<ol>\n<li>Is there a hierarchy on which it will look the profile when default is not configured at <code>applicationContext.xml</code> ?</li>\n<li>Is System var stronger than <code>applicationContext.xml</code> configuration?</li>\n<li>What you think is the best solution to my challenge?</li>\n</ol>\n<p>Articles on that subject or even examples would be most appreciated.</p>\n"},{"tags":["java","algorithm","generics","data-structures","binary-tree"],"comments":[{"owner":{"account_id":25668216,"reputation":13,"user_id":19432838,"display_name":"shubham berlia"},"score":0,"creation_date":1671388073,"post_id":74843504,"comment_id":132083956,"body_markdown":"Actually the value attribute/property of the TreeNode class is generic","body":"Actually the value attribute/property of the TreeNode class is generic"},{"owner":{"account_id":13039762,"reputation":294,"user_id":9423518,"display_name":"Black Bear"},"score":0,"creation_date":1671390120,"post_id":74843504,"comment_id":132084287,"body_markdown":"Could you please add here the rest of your codes?","body":"Could you please add here the rest of your codes?"}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1671403108,"creation_date":1671391077,"answer_id":74843771,"question_id":74843504,"body_markdown":"Arithmetic operators can not be used with an arbitrary type, they are only applicable for numeric primitives and their wrapper types. So if you need to generify your logic, it not the way to go.\r\n\r\nInstead, you can define a field of type [`BiFunction`][biFunction], which is a *Function* expecting two arguments, on the level of your `Tree` class (or whatever its name). And use this `BinaryOperator` to accumulate the values of the nodes while traversing the tree.\r\n\r\nBased on this quote:\r\n\r\n&gt; if `Character` is a generic parameter of the Tree, then its ASCII code sum will be returned from the `sum()` method\r\n\r\nI assume that you need to keep the return type of the `sum()` method as `double`. Since according to the requirements of your assignment only three generic types: `Character`, `Integer` or `Double` need to be supported, that&#39;s doable.\r\n\r\nFor that the `BiFunction` mentioned above, can be defined as `BiFunction&lt;T,Double,Double&gt;`, where the first two generic parameters `T` and `Double` denote the types of incoming parameters of the *function* and the last type `Double` specifies the return type. Here are examples of implementation of such function:\r\n\r\n```\r\nBiFunction&lt;Double, Double, Double&gt; intMerger = Double::sum;\r\nBiFunction&lt;Integer, Double, Double&gt; intMerger = (i, d) -&gt; i + d;\r\nBiFunction&lt;Character, Double, Double&gt; intMerger = (c, d) -&gt; c + d;\r\n```\r\n\r\nAlso, since you need to perform operations like binary search in your generic tree you need either define a generic parameter `T` as extending `Comparable` interface, or provide a `Comparator` (*otherwise you&#39;ll not be able to determine which value is greater/smaller while implementing a binary search, or finding min/max value*). Since all the types that should be supported are comparable, you can use the first option and define the Generic parameter as `T extends Comparable&lt;T&gt;`, which means in plain English: something that knows how to compare itself.\r\n\r\nSo as a result, you might have something like this:\r\n\r\n    public class MyTree&lt;T extends Comparable&lt;T&gt;&gt; {\r\n        private final BiFunction&lt;T, Double, Double&gt; merger;\r\n    \r\n        public MyTree(BiFunction&lt;T, Double, Double&gt; merger) {\r\n            this.merger = merger;\r\n        }\r\n    \r\n        public double sum(TreeNode&lt;T&gt; root) {\r\n            double total = 0;\r\n            if (root == null) return total;\r\n            \r\n            Queue&lt;TreeNode&lt;T&gt;&gt; queue = new ArrayDeque&lt;&gt;();\r\n            queue.add(root);\r\n            \r\n            while (!queue.isEmpty()) {\r\n                int size = queue.size();\r\n                TreeNode&lt;T&gt; current = queue.remove();\r\n    \r\n                total = merger.apply(current.value, total);\r\n                \r\n                if (current.leftChild != null) queue.add(current.leftChild);\r\n                if (current.rightChild != null) queue.add(current.rightChild);\r\n            }\r\n            return total;\r\n        }\r\n        \r\n        private static class TreeNode&lt;T extends Comparable&lt;T&gt;&gt; {\r\n            private T value;\r\n            private TreeNode&lt;T&gt; leftChild;\r\n            private TreeNode&lt;T&gt; rightChild;\r\n            \r\n            // constructor, etc.\r\n        }\r\n    }\r\n\r\n*Usage example:*\r\n\r\n```\r\nMyTree&lt;Double&gt; myTree1 = new MyTree&lt;&gt;(Double::sum);\r\nMyTree&lt;Integer&gt; myTree2 = new MyTree&lt;&gt;((i, d) -&gt; i + d);\r\nMyTree&lt;Character&gt; myTree3 = new MyTree&lt;&gt;((c, d) -&gt; c + d);\r\n```\r\n\r\n***Note:** if what I was telling about introducing a Function looks alien to you have a look at this [tutorial provided by Oracle][lambda].*\r\n\r\n\r\n   [biFunction]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/BiFunction.html\r\n\r\n   [lambda]: https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html","title":"Making a Binary search Tree Generic","body":"<p>Arithmetic operators can not be used with an arbitrary type, they are only applicable for numeric primitives and their wrapper types. So if you need to generify your logic, it not the way to go.</p>\n<p>Instead, you can define a field of type <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/BiFunction.html\" rel=\"nofollow noreferrer\"><code>BiFunction</code></a>, which is a <em>Function</em> expecting two arguments, on the level of your <code>Tree</code> class (or whatever its name). And use this <code>BinaryOperator</code> to accumulate the values of the nodes while traversing the tree.</p>\n<p>Based on this quote:</p>\n<blockquote>\n<p>if <code>Character</code> is a generic parameter of the Tree, then its ASCII code sum will be returned from the <code>sum()</code> method</p>\n</blockquote>\n<p>I assume that you need to keep the return type of the <code>sum()</code> method as <code>double</code>. Since according to the requirements of your assignment only three generic types: <code>Character</code>, <code>Integer</code> or <code>Double</code> need to be supported, that's doable.</p>\n<p>For that the <code>BiFunction</code> mentioned above, can be defined as <code>BiFunction&lt;T,Double,Double&gt;</code>, where the first two generic parameters <code>T</code> and <code>Double</code> denote the types of incoming parameters of the <em>function</em> and the last type <code>Double</code> specifies the return type. Here are examples of implementation of such function:</p>\n<pre><code>BiFunction&lt;Double, Double, Double&gt; intMerger = Double::sum;\nBiFunction&lt;Integer, Double, Double&gt; intMerger = (i, d) -&gt; i + d;\nBiFunction&lt;Character, Double, Double&gt; intMerger = (c, d) -&gt; c + d;\n</code></pre>\n<p>Also, since you need to perform operations like binary search in your generic tree you need either define a generic parameter <code>T</code> as extending <code>Comparable</code> interface, or provide a <code>Comparator</code> (<em>otherwise you'll not be able to determine which value is greater/smaller while implementing a binary search, or finding min/max value</em>). Since all the types that should be supported are comparable, you can use the first option and define the Generic parameter as <code>T extends Comparable&lt;T&gt;</code>, which means in plain English: something that knows how to compare itself.</p>\n<p>So as a result, you might have something like this:</p>\n<pre><code>public class MyTree&lt;T extends Comparable&lt;T&gt;&gt; {\n    private final BiFunction&lt;T, Double, Double&gt; merger;\n\n    public MyTree(BiFunction&lt;T, Double, Double&gt; merger) {\n        this.merger = merger;\n    }\n\n    public double sum(TreeNode&lt;T&gt; root) {\n        double total = 0;\n        if (root == null) return total;\n        \n        Queue&lt;TreeNode&lt;T&gt;&gt; queue = new ArrayDeque&lt;&gt;();\n        queue.add(root);\n        \n        while (!queue.isEmpty()) {\n            int size = queue.size();\n            TreeNode&lt;T&gt; current = queue.remove();\n\n            total = merger.apply(current.value, total);\n            \n            if (current.leftChild != null) queue.add(current.leftChild);\n            if (current.rightChild != null) queue.add(current.rightChild);\n        }\n        return total;\n    }\n    \n    private static class TreeNode&lt;T extends Comparable&lt;T&gt;&gt; {\n        private T value;\n        private TreeNode&lt;T&gt; leftChild;\n        private TreeNode&lt;T&gt; rightChild;\n        \n        // constructor, etc.\n    }\n}\n</code></pre>\n<p><em>Usage example:</em></p>\n<pre><code>MyTree&lt;Double&gt; myTree1 = new MyTree&lt;&gt;(Double::sum);\nMyTree&lt;Integer&gt; myTree2 = new MyTree&lt;&gt;((i, d) -&gt; i + d);\nMyTree&lt;Character&gt; myTree3 = new MyTree&lt;&gt;((c, d) -&gt; c + d);\n</code></pre>\n<p><em><strong>Note:</strong> if what I was telling about introducing a Function looks alien to you have a look at this <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html\" rel=\"nofollow noreferrer\">tutorial provided by Oracle</a>.</em></p>\n"}],"owner":{"account_id":25668216,"reputation":13,"user_id":19432838,"display_name":"shubham berlia"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":228,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74843771,"answer_count":1,"score":1,"last_activity_date":1671403108,"creation_date":1671388014,"question_id":74843504,"body_markdown":"```\r\npublic double sum(TreeNode root){\r\n    Queue&lt;TreeNode&gt; queue = new ArrayDeque&lt;&gt;();\r\n    double sum = 0;\r\n    if(root!=null){\r\n        queue.add(root);\r\n    }\r\n    while(!queue.isEmpty()){\r\n        int size = queue.size();\r\n        for (int i = 0; i &lt; size; i++) {\r\n            TreeNode current = queue.remove();\r\n            sum += current.value;\r\n            if(current.leftChild!=null)\r\n                queue.add(current.leftChild);\r\n            if(current.rightChild!=null)\r\n                queue.add(current.rightChild);\r\n        }\r\n    }\r\n    return sum;\r\n}\r\n```\r\n\r\nNow I need to implement a generic binary search Tree which can store in the `value` field of a node either a `Character`, an `Integer` or `Double` (if `Character` is a generic parameter of the Tree, then its ASCII code sum will be returned from the `sum()` method).\r\n\r\nAnd I need to perform various operations, like `sum()` of all the node&#39;s values (also insert, delete, search, maximum, minimum, etc.).\r\n\r\nBut I&#39;m stuck on making my implementation generic. In the `sum()` method issues an error in the line\r\n\r\n```\r\nsum += current.value;\r\n```\r\n\r\n&gt; Operator + cannot be applied to T.\r\n\r\nHow can I resolve it?","title":"Making a Binary search Tree Generic","body":"<pre><code>public double sum(TreeNode root){\n    Queue&lt;TreeNode&gt; queue = new ArrayDeque&lt;&gt;();\n    double sum = 0;\n    if(root!=null){\n        queue.add(root);\n    }\n    while(!queue.isEmpty()){\n        int size = queue.size();\n        for (int i = 0; i &lt; size; i++) {\n            TreeNode current = queue.remove();\n            sum += current.value;\n            if(current.leftChild!=null)\n                queue.add(current.leftChild);\n            if(current.rightChild!=null)\n                queue.add(current.rightChild);\n        }\n    }\n    return sum;\n}\n</code></pre>\n<p>Now I need to implement a generic binary search Tree which can store in the <code>value</code> field of a node either a <code>Character</code>, an <code>Integer</code> or <code>Double</code> (if <code>Character</code> is a generic parameter of the Tree, then its ASCII code sum will be returned from the <code>sum()</code> method).</p>\n<p>And I need to perform various operations, like <code>sum()</code> of all the node's values (also insert, delete, search, maximum, minimum, etc.).</p>\n<p>But I'm stuck on making my implementation generic. In the <code>sum()</code> method issues an error in the line</p>\n<pre><code>sum += current.value;\n</code></pre>\n<blockquote>\n<p>Operator + cannot be applied to T.</p>\n</blockquote>\n<p>How can I resolve it?</p>\n"},{"tags":["java","arrays","algorithm","for-loop","math"],"comments":[{"owner":{"account_id":27265335,"reputation":95,"user_id":20787472,"display_name":"Justin Adams"},"score":2,"creation_date":1671317542,"post_id":74837939,"comment_id":132074742,"body_markdown":"So the issue is you are trying to delete all of the islands except for the largest one? Is that a constant or will it be randomized each time?","body":"So the issue is you are trying to delete all of the islands except for the largest one? Is that a constant or will it be randomized each time?"},{"owner":{"account_id":26559292,"reputation":141,"user_id":20187389,"display_name":"MazaPan616"},"score":0,"creation_date":1671318386,"post_id":74837939,"comment_id":132074842,"body_markdown":"Yes, that&#39;s exactly what I am trying to do. And if you are referring to the numbers on the board as a constant, no. The board will be randomized but that is not gonna be an issue, because if the code does not work with the example provided, it will not work in any board.","body":"Yes, that&#39;s exactly what I am trying to do. And if you are referring to the numbers on the board as a constant, no. The board will be randomized but that is not gonna be an issue, because if the code does not work with the example provided, it will not work in any board."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":2,"creation_date":1671320598,"post_id":74837939,"comment_id":132075079,"body_markdown":"Diagonally adjacent non-zero cells are considered to be connected, or only cells that are adjacent horizontally or vertically can form an island?","body":"Diagonally adjacent non-zero cells are considered to be connected, or only cells that are adjacent horizontally or vertically can form an island?"},{"owner":{"account_id":18911549,"reputation":600,"user_id":13797513,"display_name":"chptr-one"},"score":1,"creation_date":1671324569,"post_id":74837939,"comment_id":132075505,"body_markdown":"I&#39;m not sure yet, but your task looks like a good candidate for application of https://en.wikipedia.org/wiki/Disjoint-set_data_structure The idea is that you iterate over all the points in your array, and spread them to the sets. This way you distribute all the points in the array over multiple sets. Then it remains only to find the largest set and remove all the rest.","body":"I&#39;m not sure yet, but your task looks like a good candidate for application of <a href=\"https://en.wikipedia.org/wiki/Disjoint-set_data_structure\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Disjoint-set_data_structure</a> The idea is that you iterate over all the points in your array, and spread them to the sets. This way you distribute all the points in the array over multiple sets. Then it remains only to find the largest set and remove all the rest."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1671326546,"post_id":74837939,"comment_id":132075691,"body_markdown":"Suppose you have an array with 11 rows. The middle row is all `0`, and that is the only row which zeros appear. Which &quot;island&quot; should be removed?","body":"Suppose you have an array with 11 rows. The middle row is all <code>0</code>, and that is the only row which zeros appear. Which &quot;island&quot; should be removed?"},{"owner":{"account_id":26559292,"reputation":141,"user_id":20187389,"display_name":"MazaPan616"},"score":0,"creation_date":1671338318,"post_id":74837939,"comment_id":132076586,"body_markdown":"Only cells that are adjacent horizontally or vertically can form an island. Do not count diagonals. in my program the middle row will never be completely empty.","body":"Only cells that are adjacent horizontally or vertically can form an island. Do not count diagonals. in my program the middle row will never be completely empty."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1671378039,"post_id":74837939,"comment_id":132082186,"body_markdown":"What if the largest island doesn&#39;t touch a border? That is, what if the largest island is entirely surrounded by zeros? Should it remain, with all smaller islands being removed?","body":"What if the largest island doesn&#39;t touch a border? That is, what if the largest island is entirely surrounded by zeros? Should it remain, with all smaller islands being removed?"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1671378088,"post_id":74837939,"comment_id":132082194,"body_markdown":"What if the two or three largest islands are equal in size? Is it arbitrary which should remain?","body":"What if the two or three largest islands are equal in size? Is it arbitrary which should remain?"}],"answers":[{"tags":[],"owner":{"account_id":27265335,"reputation":95,"user_id":20787472,"display_name":"Justin Adams"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671323205,"creation_date":1671323205,"answer_id":74838381,"question_id":74837939,"body_markdown":"This looks like a flood-fill problem which you&#39;ve already implemented, so the issue now is how do you determine which chunk to keep and which ones to remove.\r\n\r\nMy first thought towards implementation would be to create a hashmap containing a starting point (I&#39;d imagine the upper-leftmost coordinate) for each island, along with its size (determine this by modifying your flood-fill algorithm to have a running count while traversing an island). You could then sort the hashmap by the island size and call deleteIsland on every island that isn&#39;t the largest.","title":"How to delete an &quot;Island&quot; of numbers in a 2D array in Java","body":"<p>This looks like a flood-fill problem which you've already implemented, so the issue now is how do you determine which chunk to keep and which ones to remove.</p>\n<p>My first thought towards implementation would be to create a hashmap containing a starting point (I'd imagine the upper-leftmost coordinate) for each island, along with its size (determine this by modifying your flood-fill algorithm to have a running count while traversing an island). You could then sort the hashmap by the island size and call deleteIsland on every island that isn't the largest.</p>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1671402620,"creation_date":1671340163,"answer_id":74839246,"question_id":74837939,"body_markdown":"This problem can be solved in linear time **O(n)** by treating the cells of the given Matrix as the Vertexes of an *undirected disjointed* [*Graph*][graph].\r\n\r\nThe task boils down to exploring all [*Connected components*][components] (*islands*) in a Graph, and comparing them with each other.\r\n\r\nAnd for that we would need to implement of the Graph-traversal algorithms. I&#39;ve chosen the [*Depth first search*][dfs] algorithm for that purpose.\r\n\r\nTo keep things simple, a Vertex of a graph would be represented as an array `int[]` of two elements containing coordinates of a cell (*feel free to reimplement it by defining a separate class for a Vertex to make each vertex aware of it neighbors by holding a reference to a collection of Vertices*)\r\n\r\nFor convenience, I&#39;ve made several changes to your `DestroyIslands` class:\r\n* Introduced an inner class `Island`, which wraps a list of cells that constitute an Island (*Connected component of the Graph*). This class implements `Comparable` in based on size of the cells to make it easier to find the largest Island. And defines the method `destroy()` to nullify the rest Islands.\r\n* Introduced a `static` array `NEIGHBOURS` of type `int[][]` representing all possible adjacent cells, which should be considered while iterating through the matrix from left to right and from top to bottom.\r\n* Reference to the Matrix is stored in the instance field `grid`, and all methods of `DestroyIslands` are defined as instance methods (*if you want to keep them `static`, fill free to change them as you see fit, it would be easy if you grasp the algorithm itself*).\r\n\r\nThat&#39;s how implementation might look like:\r\n\r\n    public class DestroyIslands {\r\n        public static final int[][] NEIGHBOURS = // adjacent cells\r\n            {{0, 1},   // horizontal -\r\n             {1, 0},   // vertical   |\r\n             {1, 1},   // diagonal   \\\r\n             {1, -1}}; // diagonal   /\r\n    \r\n        private List&lt;Island&gt; islands = new ArrayList&lt;&gt;(); // collection of Islands\r\n        private int[][] grid; // matrix\r\n        \r\n        public DestroyIslands(int[][] grid) {\r\n            this.grid = grid;\r\n        }\r\n        \r\n        public class Island implements Comparable&lt;Island&gt; {\r\n            private List&lt;int[]&gt; cells = new ArrayList&lt;&gt;();\r\n            \r\n            public void addCell(int[] cell) {\r\n                cells.add(cell);\r\n            }\r\n            \r\n            public void destroy() {\r\n                cells.forEach(cell -&gt; grid[cell[0]][cell[1]] = 0);\r\n            }\r\n            \r\n            @Override\r\n            public int compareTo(Island other) {\r\n                return Integer.compare(cells.size(), other.cells.size());\r\n            }\r\n        }\r\n        \r\n        public void deleteIslandBoard() {\r\n            exploreIslands();\r\n            deleteSmallerIslands();\r\n        }\r\n        \r\n        public void exploreIslands() {\r\n            boolean[][] visited = new boolean[grid.length][grid[0].length];\r\n            \r\n            for (int i = 0; i &lt; grid.length; i++) {\r\n                for (int j = 0; j &lt; grid[0].length; j++) {\r\n                    \r\n                    if (!visited[i][j] &amp;&amp; grid[i][j] != 0) { // if a New Island was found\r\n                        exploreIsland(new int[]{i, j}, visited); // explore the Island, i.e. index all its cell and mark them as visited\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        \r\n        /**\r\n         * Depth first search implementation\r\n         */\r\n        public void exploreIsland(int[] cell, boolean[][] visited) {\r\n            Island island = new Island();\r\n            islands.add(island); // updating the list of Islands\r\n            \r\n            Deque&lt;int[]&gt; stack = new ArrayDeque&lt;&gt;();\r\n            stack.push(cell);\r\n            \r\n            while (!stack.isEmpty()) {\r\n                int[] next = stack.poll();\r\n                island.addCell(next);\r\n                \r\n                for (int[] shift : NEIGHBOURS) {\r\n                    int row = next[0] + shift[0];\r\n                    int col = next[1] + shift[1];\r\n                    \r\n                    if (isValid(row, col) &amp;&amp; !visited[row][col]) { // if cell exist, non-zero and not visited yet\r\n                        stack.push(new int[]{row, col});\r\n                        visited[row][col] = true;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        \r\n        public boolean isValid(int row, int col) {\r\n            return row &gt;= 0 &amp;&amp; row &lt; grid.length\r\n                &amp;&amp; col &gt;= 0 &amp;&amp; col &lt; grid[0].length\r\n                &amp;&amp; grid[row][col] != 0;\r\n        }\r\n        \r\n        public void deleteSmallerIslands() {\r\n            if (islands.isEmpty()) return; // otherwise Collections.max() would throw NoSuchElementException\r\n\r\n            Island largest = Collections.max(islands);\r\n            for (Island next : islands) {\r\n                if (next != largest) next.destroy();\r\n            }\r\n        }\r\n        \r\n        public void printGrid() {\r\n            for (int i = 0; i &lt; grid.length; i++) {\r\n                for (int j = 0; j &lt; grid[i].length; j++) {\r\n                    System.out.print(grid[i][j] + &quot; &quot;);\r\n                }\r\n                System.out.println();\r\n            }\r\n        }\r\n    }\r\n\r\n`main()`\r\n\r\n    public static void main(String[] args) {\r\n            int[][] example = {\r\n                {1, 2, 3, 1, 2},\r\n                {2, 3, 2, 1, 2},\r\n                {3, 2, 1, 2, 2},\r\n                {0, 2, 0, 0, 0},\r\n                {0, 0, 0, 2, 1}};\r\n            \r\n            DestroyIslands destroyIslands = new DestroyIslands(example);\r\n            destroyIslands.deleteIslandBoard();\r\n            destroyIslands.printGrid();\r\n        }\r\n\r\n*Output:*\r\n\r\n```\r\n1 2 3 1 2 \r\n2 3 2 1 2 \r\n3 2 1 2 2 \r\n0 2 0 0 0 \r\n0 0 0 0 0\r\n```\r\n\r\n[*A link to Online Demo*](https://www.jdoodle.com/ia/BoG)\r\n\r\n\r\n\r\n   [graph]: https://en.wikipedia.org/wiki/Graph_(discrete_mathematics)\r\n\r\n   [components]: https://en.wikipedia.org/wiki/Component_(graph_theory)\r\n\r\n   [dfs]: https://en.wikipedia.org/wiki/Depth-first_search","title":"How to delete an &quot;Island&quot; of numbers in a 2D array in Java","body":"<p>This problem can be solved in linear time <strong>O(n)</strong> by treating the cells of the given Matrix as the Vertexes of an <em>undirected disjointed</em> <a href=\"https://en.wikipedia.org/wiki/Graph_(discrete_mathematics)\" rel=\"nofollow noreferrer\"><em>Graph</em></a>.</p>\n<p>The task boils down to exploring all <a href=\"https://en.wikipedia.org/wiki/Component_(graph_theory)\" rel=\"nofollow noreferrer\"><em>Connected components</em></a> (<em>islands</em>) in a Graph, and comparing them with each other.</p>\n<p>And for that we would need to implement of the Graph-traversal algorithms. I've chosen the <a href=\"https://en.wikipedia.org/wiki/Depth-first_search\" rel=\"nofollow noreferrer\"><em>Depth first search</em></a> algorithm for that purpose.</p>\n<p>To keep things simple, a Vertex of a graph would be represented as an array <code>int[]</code> of two elements containing coordinates of a cell (<em>feel free to reimplement it by defining a separate class for a Vertex to make each vertex aware of it neighbors by holding a reference to a collection of Vertices</em>)</p>\n<p>For convenience, I've made several changes to your <code>DestroyIslands</code> class:</p>\n<ul>\n<li>Introduced an inner class <code>Island</code>, which wraps a list of cells that constitute an Island (<em>Connected component of the Graph</em>). This class implements <code>Comparable</code> in based on size of the cells to make it easier to find the largest Island. And defines the method <code>destroy()</code> to nullify the rest Islands.</li>\n<li>Introduced a <code>static</code> array <code>NEIGHBOURS</code> of type <code>int[][]</code> representing all possible adjacent cells, which should be considered while iterating through the matrix from left to right and from top to bottom.</li>\n<li>Reference to the Matrix is stored in the instance field <code>grid</code>, and all methods of <code>DestroyIslands</code> are defined as instance methods (<em>if you want to keep them <code>static</code>, fill free to change them as you see fit, it would be easy if you grasp the algorithm itself</em>).</li>\n</ul>\n<p>That's how implementation might look like:</p>\n<pre><code>public class DestroyIslands {\n    public static final int[][] NEIGHBOURS = // adjacent cells\n        {{0, 1},   // horizontal -\n         {1, 0},   // vertical   |\n         {1, 1},   // diagonal   \\\n         {1, -1}}; // diagonal   /\n\n    private List&lt;Island&gt; islands = new ArrayList&lt;&gt;(); // collection of Islands\n    private int[][] grid; // matrix\n    \n    public DestroyIslands(int[][] grid) {\n        this.grid = grid;\n    }\n    \n    public class Island implements Comparable&lt;Island&gt; {\n        private List&lt;int[]&gt; cells = new ArrayList&lt;&gt;();\n        \n        public void addCell(int[] cell) {\n            cells.add(cell);\n        }\n        \n        public void destroy() {\n            cells.forEach(cell -&gt; grid[cell[0]][cell[1]] = 0);\n        }\n        \n        @Override\n        public int compareTo(Island other) {\n            return Integer.compare(cells.size(), other.cells.size());\n        }\n    }\n    \n    public void deleteIslandBoard() {\n        exploreIslands();\n        deleteSmallerIslands();\n    }\n    \n    public void exploreIslands() {\n        boolean[][] visited = new boolean[grid.length][grid[0].length];\n        \n        for (int i = 0; i &lt; grid.length; i++) {\n            for (int j = 0; j &lt; grid[0].length; j++) {\n                \n                if (!visited[i][j] &amp;&amp; grid[i][j] != 0) { // if a New Island was found\n                    exploreIsland(new int[]{i, j}, visited); // explore the Island, i.e. index all its cell and mark them as visited\n                }\n            }\n        }\n    }\n    \n    /**\n     * Depth first search implementation\n     */\n    public void exploreIsland(int[] cell, boolean[][] visited) {\n        Island island = new Island();\n        islands.add(island); // updating the list of Islands\n        \n        Deque&lt;int[]&gt; stack = new ArrayDeque&lt;&gt;();\n        stack.push(cell);\n        \n        while (!stack.isEmpty()) {\n            int[] next = stack.poll();\n            island.addCell(next);\n            \n            for (int[] shift : NEIGHBOURS) {\n                int row = next[0] + shift[0];\n                int col = next[1] + shift[1];\n                \n                if (isValid(row, col) &amp;&amp; !visited[row][col]) { // if cell exist, non-zero and not visited yet\n                    stack.push(new int[]{row, col});\n                    visited[row][col] = true;\n                }\n            }\n        }\n    }\n    \n    public boolean isValid(int row, int col) {\n        return row &gt;= 0 &amp;&amp; row &lt; grid.length\n            &amp;&amp; col &gt;= 0 &amp;&amp; col &lt; grid[0].length\n            &amp;&amp; grid[row][col] != 0;\n    }\n    \n    public void deleteSmallerIslands() {\n        if (islands.isEmpty()) return; // otherwise Collections.max() would throw NoSuchElementException\n\n        Island largest = Collections.max(islands);\n        for (Island next : islands) {\n            if (next != largest) next.destroy();\n        }\n    }\n    \n    public void printGrid() {\n        for (int i = 0; i &lt; grid.length; i++) {\n            for (int j = 0; j &lt; grid[i].length; j++) {\n                System.out.print(grid[i][j] + &quot; &quot;);\n            }\n            System.out.println();\n        }\n    }\n}\n</code></pre>\n<p><code>main()</code></p>\n<pre><code>public static void main(String[] args) {\n        int[][] example = {\n            {1, 2, 3, 1, 2},\n            {2, 3, 2, 1, 2},\n            {3, 2, 1, 2, 2},\n            {0, 2, 0, 0, 0},\n            {0, 0, 0, 2, 1}};\n        \n        DestroyIslands destroyIslands = new DestroyIslands(example);\n        destroyIslands.deleteIslandBoard();\n        destroyIslands.printGrid();\n    }\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>1 2 3 1 2 \n2 3 2 1 2 \n3 2 1 2 2 \n0 2 0 0 0 \n0 0 0 0 0\n</code></pre>\n<p><a href=\"https://www.jdoodle.com/ia/BoG\" rel=\"nofollow noreferrer\"><em>A link to Online Demo</em></a></p>\n"}],"owner":{"account_id":26559292,"reputation":141,"user_id":20187389,"display_name":"MazaPan616"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":180,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":74839246,"answer_count":2,"score":8,"last_activity_date":1671402620,"creation_date":1671316594,"question_id":74837939,"body_markdown":"I&#39;m creating a method that takes a 2D array and scans throughout the array to find &quot;Chunks&quot; of numbers that are completely surrounded by zeros and convert those Chunks (I call them the islands) into zeros. \r\n\r\nI&#39;m trying to delete all of the &quot;islands&quot; except for the largest one.\r\n\r\nFor example, for this 2D array\r\n```\r\n1 2 3 2 2 1 \r\n3 2 2 1 2 3\r\n3 2 2 1 3 2\r\n2 3 2 3 2 2\r\n2 2 3 1 1 2\r\n3 2 1 2 3 2\r\n2 3 1 2 3 2\r\n2 2 0 0 0 0\r\n0 0 0 1 2 0\r\n0 0 0 0 0 0 \r\n```\r\n\r\nAfter the method the 2D array should now be: \r\n```\r\n1 2 3 2 2 1 \r\n3 2 2 1 2 3\r\n3 2 2 1 3 2\r\n2 3 2 3 2 2\r\n2 2 3 1 1 2\r\n3 2 1 2 3 2\r\n2 3 1 2 3 2\r\n2 2 0 0 0 0\r\n0 0 0 0 0 0\r\n0 0 0 0 0 0 \r\n```\r\n\r\nthe small chunk of ```1 2 ``` is &quot;deleted&quot;\r\n\r\nHere is a second example, as the method should also take chunks of numbers that are not part of the &quot;main&quot; chunk as Islands and that are on the edges as well. \r\n\r\nThe original array would be:\r\n```\r\n1 2 3 2 2 1 \r\n3 2 2 1 2 3\r\n3 2 2 1 3 2\r\n2 3 2 3 2 2\r\n2 2 3 1 1 2\r\n3 2 1 2 3 2\r\n2 3 1 2 3 2\r\n2 2 0 0 0 0\r\n0 0 0 1 2 3\r\n0 0 0 0 3 2 \r\n```\r\n\r\nAfter the method execution, it should be:\r\n```\r\n1 2 3 2 2 1 \r\n3 2 2 1 2 3\r\n3 2 2 1 3 2\r\n2 3 2 3 2 2\r\n2 2 3 1 1 2\r\n3 2 1 2 3 2\r\n2 3 1 2 3 2\r\n2 2 0 0 0 0\r\n0 0 0 0 0 0\r\n0 0 0 0 0 0 \r\n```\r\n\r\nIn this case, the island\r\n```\r\n1 2 3 \r\n  3 2\r\n```\r\n\r\nis deleted because it is separate from the big chunk and is surrounded by zeros. \r\n\r\nThe following code is the one I have so far, and it does not work as intended. It&#39;s wrong because I believe that it&#39;s taking the main chunk as an Island, and what happens is that it converts the entire array into zeros instead of deleting only the small Islands. It includes an example, and you should see what It does when you run it.\r\n\r\n```\r\npublic class destroyIslands {\r\n    public static void main(String[] args) {\r\n        int[][] example = { {1, 2, 3, 1, 2},\r\n                            {2, 3, 2, 1, 2},\r\n                            {3, 2, 1, 2, 2},\r\n                            {0, 2, 0, 0, 0},\r\n                            {0, 0, 0, 2, 1} };\r\n        \r\n        example = deleteIslandBoard(example);\r\n        printGrid(example);\r\n    }\r\n    \r\n    public static int[][] deleteIslandBoard(int[][] array) {\r\n      // Create a boolean array to track which cells have been visited\r\n      boolean[][] visited = new boolean[array.length][array[0].length];\r\n    \r\n      // Iterate \r\n      for (int i = 0; i &lt; array.length; i++) {\r\n        for (int j = 0; j &lt; array[0].length; j++) {\r\n            // If the cell is not visited and is part of an island\r\n            if (!visited[i][j] &amp;&amp; array[i][j] != 0) {\r\n                // Delete the island by setting all cells to 0\r\n                deleteIsland(array, i, j, visited);\r\n            }\r\n        }\r\n      }\r\n      // Return the modified array\r\n      return array;\r\n    }\r\n\r\n    public static void deleteIsland(int[][] array, int i, int j, boolean[][] visited) {\r\n      // Check if the current cell is out of board or if it has already been visited\r\n      if (i &lt; 0 || i &gt;= array.length || j &lt; 0 || j &gt;= array[0].length || visited[i][j]) {\r\n        return;\r\n      }\r\n      // Mark the current cell as visited\r\n      visited[i][j] = true; // If the current cell is part of the island, set it to 0\r\n      if (array[i][j] != 0) {\r\n        array[i][j] = 0;\r\n        // Recursively delete the neighboring cells that are part of the island\r\n        deleteIsland(array, i - 1, j, visited);\r\n        deleteIsland(array, i + 1, j, visited);\r\n        deleteIsland(array, i, j - 1, visited);\r\n        deleteIsland(array, i, j + 1, visited);\r\n      }\r\n    }\r\n    \r\n    public static void printGrid(int[][] grid) {\r\n        for(int i = 0; i &lt; grid.length; i++) {\r\n            for(int j = 0; j &lt; grid[i].length; j++) {\r\n                System.out.print(grid[i][j] + &quot; &quot;);\r\n            }\r\n            System.out.println();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nAny idea of what should I change?","title":"How to delete an &quot;Island&quot; of numbers in a 2D array in Java","body":"<p>I'm creating a method that takes a 2D array and scans throughout the array to find &quot;Chunks&quot; of numbers that are completely surrounded by zeros and convert those Chunks (I call them the islands) into zeros.</p>\n<p>I'm trying to delete all of the &quot;islands&quot; except for the largest one.</p>\n<p>For example, for this 2D array</p>\n<pre><code>1 2 3 2 2 1 \n3 2 2 1 2 3\n3 2 2 1 3 2\n2 3 2 3 2 2\n2 2 3 1 1 2\n3 2 1 2 3 2\n2 3 1 2 3 2\n2 2 0 0 0 0\n0 0 0 1 2 0\n0 0 0 0 0 0 \n</code></pre>\n<p>After the method the 2D array should now be:</p>\n<pre><code>1 2 3 2 2 1 \n3 2 2 1 2 3\n3 2 2 1 3 2\n2 3 2 3 2 2\n2 2 3 1 1 2\n3 2 1 2 3 2\n2 3 1 2 3 2\n2 2 0 0 0 0\n0 0 0 0 0 0\n0 0 0 0 0 0 \n</code></pre>\n<p>the small chunk of <code>1 2 </code> is &quot;deleted&quot;</p>\n<p>Here is a second example, as the method should also take chunks of numbers that are not part of the &quot;main&quot; chunk as Islands and that are on the edges as well.</p>\n<p>The original array would be:</p>\n<pre><code>1 2 3 2 2 1 \n3 2 2 1 2 3\n3 2 2 1 3 2\n2 3 2 3 2 2\n2 2 3 1 1 2\n3 2 1 2 3 2\n2 3 1 2 3 2\n2 2 0 0 0 0\n0 0 0 1 2 3\n0 0 0 0 3 2 \n</code></pre>\n<p>After the method execution, it should be:</p>\n<pre><code>1 2 3 2 2 1 \n3 2 2 1 2 3\n3 2 2 1 3 2\n2 3 2 3 2 2\n2 2 3 1 1 2\n3 2 1 2 3 2\n2 3 1 2 3 2\n2 2 0 0 0 0\n0 0 0 0 0 0\n0 0 0 0 0 0 \n</code></pre>\n<p>In this case, the island</p>\n<pre><code>1 2 3 \n  3 2\n</code></pre>\n<p>is deleted because it is separate from the big chunk and is surrounded by zeros.</p>\n<p>The following code is the one I have so far, and it does not work as intended. It's wrong because I believe that it's taking the main chunk as an Island, and what happens is that it converts the entire array into zeros instead of deleting only the small Islands. It includes an example, and you should see what It does when you run it.</p>\n<pre><code>public class destroyIslands {\n    public static void main(String[] args) {\n        int[][] example = { {1, 2, 3, 1, 2},\n                            {2, 3, 2, 1, 2},\n                            {3, 2, 1, 2, 2},\n                            {0, 2, 0, 0, 0},\n                            {0, 0, 0, 2, 1} };\n        \n        example = deleteIslandBoard(example);\n        printGrid(example);\n    }\n    \n    public static int[][] deleteIslandBoard(int[][] array) {\n      // Create a boolean array to track which cells have been visited\n      boolean[][] visited = new boolean[array.length][array[0].length];\n    \n      // Iterate \n      for (int i = 0; i &lt; array.length; i++) {\n        for (int j = 0; j &lt; array[0].length; j++) {\n            // If the cell is not visited and is part of an island\n            if (!visited[i][j] &amp;&amp; array[i][j] != 0) {\n                // Delete the island by setting all cells to 0\n                deleteIsland(array, i, j, visited);\n            }\n        }\n      }\n      // Return the modified array\n      return array;\n    }\n\n    public static void deleteIsland(int[][] array, int i, int j, boolean[][] visited) {\n      // Check if the current cell is out of board or if it has already been visited\n      if (i &lt; 0 || i &gt;= array.length || j &lt; 0 || j &gt;= array[0].length || visited[i][j]) {\n        return;\n      }\n      // Mark the current cell as visited\n      visited[i][j] = true; // If the current cell is part of the island, set it to 0\n      if (array[i][j] != 0) {\n        array[i][j] = 0;\n        // Recursively delete the neighboring cells that are part of the island\n        deleteIsland(array, i - 1, j, visited);\n        deleteIsland(array, i + 1, j, visited);\n        deleteIsland(array, i, j - 1, visited);\n        deleteIsland(array, i, j + 1, visited);\n      }\n    }\n    \n    public static void printGrid(int[][] grid) {\n        for(int i = 0; i &lt; grid.length; i++) {\n            for(int j = 0; j &lt; grid[i].length; j++) {\n                System.out.print(grid[i][j] + &quot; &quot;);\n            }\n            System.out.println();\n        }\n    }\n}\n</code></pre>\n<p>Any idea of what should I change?</p>\n"},{"tags":["java","spring","spring-boot","prometheus","prometheus-java"],"owner":{"account_id":5283587,"reputation":811,"user_id":4218216,"display_name":"Arnav Bose"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":556,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1671401947,"creation_date":1671039514,"question_id":74802246,"body_markdown":"I am exposing two counter metrics from my spring boot application. The metrics are getting generated and the counters increase by 1 when the requests succeed. I am facing 2 issues - 1) The name of the counter is getting appended by &quot;_total&quot; even though I did not add that and I don&#39;t want it to be added, 2) The last label ends with an open &#39;,&#39;. I want to remove this last &#39;,&#39;. \r\nHere is my code:\r\n\r\n```\r\npublic class PrometheusUtility {\r\n\r\n\tprivate PrometheusUtility(){\r\n\t\r\n\t}\r\n\t\r\n\tstatic CollectorRegistry registry = CollectorRegistry.defaultRegistry;\t\r\n\t\r\n\tstatic final Counter counter = Counter.build().name(&quot;http_request&quot;).help(&quot;help&quot;).labelNames(&quot;method&quot;,&quot;status&quot;,&quot;api&quot;, &quot;component&quot;).register(registry);\r\n\tstatic final Counter dsCounter = Counter.build().name(&quot;http_downstream_request&quot;).help(&quot;Records the downstream request count&quot;).labelNames(&quot;method&quot;,&quot;status&quot;,&quot;api&quot;, &quot;component&quot;, &quot;downstream&quot;).register(registry);\t\r\n\t\r\n\tpublic static void incrementCounter(String method, String status, String apiName, String component){\r\n\t\tcounter.labels(method,status,apiName,component).inc();\t    \r\n\t}\r\n\t\r\n\tpublic static void incrementDownstreamCounter(String method, String status, String apiName, String component, String downstream){\r\n\t\tdsCounter.labels(method,status,apiName,component, downstream).inc();\t    \r\n\t}\t\r\n\t\r\n}\r\n```\r\nI am calling these functions from the business class:\r\n\r\n```\r\nPrometheusUtility.incrementCounter(&quot;Post&quot;, String.valueOf(HttpStatus.SC_OK), &quot;newMail&quot;, &quot;mx&quot;);\r\nPrometheusUtility.incrementDownstreamCounter(&quot;Post&quot;, String.valueOf(HttpStatus.SC_OK), &quot;newMail&quot;, &quot;mx&quot;, &quot;mwi&quot;);\r\n```\r\n\r\nThe pom.xml has this dependency added\r\n```\r\n       &lt;dependency&gt;\r\n\t\t  &lt;groupId&gt;io.prometheus&lt;/groupId&gt;\r\n\t\t  &lt;artifactId&gt;simpleclient_spring_boot&lt;/artifactId&gt;\r\n\t\t  &lt;version&gt;0.16.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\n\r\nThe output I am checking in the browser where my application is up and running (not in Prometheus):\r\n```\r\nhttp_request_total{method=&quot;Post&quot;,status=&quot;200&quot;,api=&quot;newMail&quot;,component=&quot;mx&quot;,} 1.0\r\nhttp_downstream_request_total{method=&quot;Post&quot;,status=&quot;200&quot;,api=&quot;newMail&quot;,component=&quot;mx&quot;,downstream=&quot;mwi&quot;,} 1.0\r\n```\r\n\r\nIssue:\r\n1) Both metric names are getting an additional &quot;_total&quot; appended to it. I don&#39;t want this to be added by default. It should be same as the name I have put in the Utility class. \r\n\r\n2) Both metrics have an open &#39;,&#39; or comma at the end. Ideally this should not be there. A metric does not have an open comma at the end. Not sure why it&#39;s adding this comma. I have specified the correct number of labels at the creation time of the counter and populating the labels correctly for incrementing. Not sure where this comma is coming from. \r\n\r\nPlease let me know how I could fix these issues. ","title":"Generating metrics for Prometheus from Spring Boot application","body":"<p>I am exposing two counter metrics from my spring boot application. The metrics are getting generated and the counters increase by 1 when the requests succeed. I am facing 2 issues - 1) The name of the counter is getting appended by &quot;_total&quot; even though I did not add that and I don't want it to be added, 2) The last label ends with an open ','. I want to remove this last ','.\nHere is my code:</p>\n<pre><code>public class PrometheusUtility {\n\n    private PrometheusUtility(){\n    \n    }\n    \n    static CollectorRegistry registry = CollectorRegistry.defaultRegistry;  \n    \n    static final Counter counter = Counter.build().name(&quot;http_request&quot;).help(&quot;help&quot;).labelNames(&quot;method&quot;,&quot;status&quot;,&quot;api&quot;, &quot;component&quot;).register(registry);\n    static final Counter dsCounter = Counter.build().name(&quot;http_downstream_request&quot;).help(&quot;Records the downstream request count&quot;).labelNames(&quot;method&quot;,&quot;status&quot;,&quot;api&quot;, &quot;component&quot;, &quot;downstream&quot;).register(registry);    \n    \n    public static void incrementCounter(String method, String status, String apiName, String component){\n        counter.labels(method,status,apiName,component).inc();      \n    }\n    \n    public static void incrementDownstreamCounter(String method, String status, String apiName, String component, String downstream){\n        dsCounter.labels(method,status,apiName,component, downstream).inc();        \n    }   \n    \n}\n</code></pre>\n<p>I am calling these functions from the business class:</p>\n<pre><code>PrometheusUtility.incrementCounter(&quot;Post&quot;, String.valueOf(HttpStatus.SC_OK), &quot;newMail&quot;, &quot;mx&quot;);\nPrometheusUtility.incrementDownstreamCounter(&quot;Post&quot;, String.valueOf(HttpStatus.SC_OK), &quot;newMail&quot;, &quot;mx&quot;, &quot;mwi&quot;);\n</code></pre>\n<p>The pom.xml has this dependency added</p>\n<pre><code>       &lt;dependency&gt;\n          &lt;groupId&gt;io.prometheus&lt;/groupId&gt;\n          &lt;artifactId&gt;simpleclient_spring_boot&lt;/artifactId&gt;\n          &lt;version&gt;0.16.0&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>The output I am checking in the browser where my application is up and running (not in Prometheus):</p>\n<pre><code>http_request_total{method=&quot;Post&quot;,status=&quot;200&quot;,api=&quot;newMail&quot;,component=&quot;mx&quot;,} 1.0\nhttp_downstream_request_total{method=&quot;Post&quot;,status=&quot;200&quot;,api=&quot;newMail&quot;,component=&quot;mx&quot;,downstream=&quot;mwi&quot;,} 1.0\n</code></pre>\n<p>Issue:</p>\n<ol>\n<li><p>Both metric names are getting an additional &quot;_total&quot; appended to it. I don't want this to be added by default. It should be same as the name I have put in the Utility class.</p>\n</li>\n<li><p>Both metrics have an open ',' or comma at the end. Ideally this should not be there. A metric does not have an open comma at the end. Not sure why it's adding this comma. I have specified the correct number of labels at the creation time of the counter and populating the labels correctly for incrementing. Not sure where this comma is coming from.</p>\n</li>\n</ol>\n<p>Please let me know how I could fix these issues.</p>\n"},{"tags":["java","maven","jax-rs","quarkus","openapi-generator"],"comments":[{"owner":{"account_id":58650,"reputation":3399,"user_id":175554,"accept_rate":40,"display_name":"ozkanpakdil"},"score":0,"creation_date":1671305222,"post_id":74755162,"comment_id":132072651,"body_markdown":"can you put a small reproducer to github ?","body":"can you put a small reproducer to github ?"}],"answers":[{"tags":[],"owner":{"account_id":25661568,"reputation":43,"user_id":19427242,"display_name":"BigMouse"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671401537,"creation_date":1671401537,"answer_id":74844743,"question_id":74755162,"body_markdown":"Problem was generated files : they were not compiled. This explain errors messages. \r\n\r\nSolution was adding a maven helper plugin : \r\n```\r\n &lt;plugin&gt;\r\n        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n        &lt;artifactId&gt;build-helper-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.2.0&lt;/version&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;id&gt;add-source&lt;/id&gt;\r\n            &lt;phase&gt;generate-sources&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;add-source&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n              &lt;sources&gt;\r\n                &lt;source&gt;src/main/newsrc/&lt;/source&gt;\r\n              &lt;/sources&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n```","title":"COMPILATION ERROR : package XXX does not exist","body":"<p>Problem was generated files : they were not compiled. This explain errors messages.</p>\n<p>Solution was adding a maven helper plugin :</p>\n<pre><code> &lt;plugin&gt;\n        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n        &lt;artifactId&gt;build-helper-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.2.0&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;id&gt;add-source&lt;/id&gt;\n            &lt;phase&gt;generate-sources&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;add-source&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n              &lt;sources&gt;\n                &lt;source&gt;src/main/newsrc/&lt;/source&gt;\n              &lt;/sources&gt;\n            &lt;/configuration&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":25661568,"reputation":43,"user_id":19427242,"display_name":"BigMouse"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":659,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74844743,"answer_count":1,"score":0,"last_activity_date":1671401537,"creation_date":1670693577,"question_id":74755162,"body_markdown":"I am using the `open-api generator plugin` in my java project.\r\n\r\nFor more information about the plugin, see [homepage](https://openapi-generator.tech/) and the [generator jaxrs-spec](https://openapi-generator.tech/docs/generators/jaxrs-spec/) i use.\r\n\r\nFiles are generated under the source folder i specified, but, when i&#39;m implementing thoses files in my project (like a generated interface), maven compiler plugin fail during the `compile` goal.\r\n\r\nHere is the complete error stack trace when i&#39;m using `mvn clean compile` command :\r\n\r\n```\r\n[ERROR] COMPILATION ERROR :\r\n[INFO] -------------------------------------------------------------\r\n[ERROR] /C:/Users/****/nba-pistache/src/main/java/com/example/controller/BasicAuth.java:[3,23] package com.example.api does not exist\r\n[ERROR] /C:/Users/****/nba-pistache/src/main/java/com/example/controller/BasicAuth.java:[13,26] cannot find symbol\r\n  symbol:   class RestResourceRoot\r\n  location: package com.example\r\n[ERROR] /C:/Users/****/nba-pistache/src/main/java/com/example/controller/BasicAuth.java:[13,1] static import only from classes and interfaces\r\n[ERROR] /C:/Users/****/nba-pistache/src/main/java/com/example/controller/BasicAuth.java:[16,35] cannot find symbol\r\n  symbol: class UsersApi\r\n[ERROR] /C:/Users/****/nba-pistache/src/main/java/com/example/controller/BasicAuth.java:[15,7] cannot find symbol\r\n  symbol: variable APPLICATION_PATH\r\n```\r\n\r\nthese files are generated in my `/target` folder. As you can see on the following screen : [![enter image description here](https://i.stack.imgur.com/PjR66.png)](https://i.stack.imgur.com/PjR66.png)\r\n\r\nHere is a part of my `pom.xml` where i registered the `openapi-generator-maven-plugin` in the `&lt;build&gt;` section :\r\n\r\n```\r\n  &lt;plugin&gt;\r\n    &lt;groupId&gt;org.openapitools&lt;/groupId&gt;\r\n    &lt;artifactId&gt;openapi-generator-maven-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;6.2.1&lt;/version&gt;\r\n    &lt;executions&gt;\r\n      &lt;execution&gt;\r\n        &lt;goals&gt;\r\n          &lt;goal&gt;generate&lt;/goal&gt;\r\n        &lt;/goals&gt;\r\n        &lt;configuration&gt;\r\n          &lt;inputSpec&gt;${project.basedir}/src/main/resources/pistache-api.yaml&lt;/inputSpec&gt;\r\n          &lt;generatorName&gt;jaxrs-spec&lt;/generatorName&gt;\r\n          &lt;apiPackage&gt;com.example.api&lt;/apiPackage&gt;\r\n          &lt;modelPackage&gt;\r\n            com.example.api.model\r\n          &lt;/modelPackage&gt;\r\n          &lt;configOptions&gt;\r\n            &lt;useSwaggerAnnotations&gt;false&lt;/useSwaggerAnnotations&gt;\r\n            &lt;library&gt;quarkus&lt;/library&gt;\r\n            &lt;interfaceOnly&gt;true&lt;/interfaceOnly&gt;\r\n            &lt;dateLibrary&gt;java8&lt;/dateLibrary&gt;\r\n            &lt;useTags&gt;true&lt;/useTags&gt;\r\n            &lt;useBeanValidation&gt;false&lt;/useBeanValidation&gt;\r\n            &lt;returnResponse&gt;true&lt;/returnResponse&gt;\r\n          &lt;/configOptions&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/execution&gt;\r\n    &lt;/executions&gt;\r\n  &lt;/plugin&gt;\r\n```\r\n\r\nHere is my controller  `src/main/java/com/example/controller/BasicAuth.java` in which I implement the generated interface and in which the errors are located:\r\n\r\n```\r\npackage com.example.controller;\r\n\r\nimport com.example.api.UsersApi;\r\nimport com.example.client.RestClientBasicAuth;\r\nimport com.example.config.BasicUserConfig;\r\nimport org.eclipse.microprofile.rest.client.inject.RestClient;\r\n\r\n\r\nimport javax.inject.Inject;\r\nimport javax.ws.rs.Path;\r\nimport javax.ws.rs.core.Response;\r\n\r\nimport static com.example.RestResourceRoot.APPLICATION_PATH;\r\n\r\n@Path(APPLICATION_PATH)\r\npublic class BasicAuth implements UsersApi {\r\n\r\n    @Override\r\n    public Response retrievePwdGet() {\r\n       // my custom implementation \r\n    }\r\n}\r\n```\r\n\r\nHere is the interface `target/generated-sources/openapi/src/gen/java/com/example/api/UsersApi.java` :\r\n\r\n```\r\npackage com.example.api;\r\n\r\n\r\nimport javax.ws.rs.*;\r\nimport javax.ws.rs.core.Response;\r\n\r\n\r\nimport java.io.InputStream;\r\nimport java.util.Map;\r\nimport java.util.List;\r\n\r\n\r\n@Path(&quot;/retrieve-pwd&quot;)\r\n@javax.annotation.Generated(value = &quot;org.openapitools.codegen.languages.JavaJAXRSSpecServerCodegen&quot;, date = &quot;2022-12-10T18:01:45.461936200+01:00[Europe/Paris]&quot;)\r\npublic interface UsersApi {\r\n\r\n    @GET\r\n    @Produces({ &quot;application/json&quot; })\r\n    Response retrievePwdGet();\r\n}\r\n```\r\n\r\nI don&#39;t know what&#39;s going wrong here. My IDE does not report any errors, although I know that the IDE cannot be fully trusted.\r\n\r\nFinally, my application can be started correctly via the IDE, but the controller endpoint for my `GET` method is not the one defined in the `UsersApi` interface. The path is not `api/v1/retrieve-pwd`, but `api/v1`.\r\n\r\nThis behavior is also strange. Maybe by overloading the method in my controller the path can be modified, but, the path is not defined on the method but on the interface.\r\n\r\nI await your comments or feedback and thank you in advance","title":"COMPILATION ERROR : package XXX does not exist","body":"<p>I am using the <code>open-api generator plugin</code> in my java project.</p>\n<p>For more information about the plugin, see <a href=\"https://openapi-generator.tech/\" rel=\"nofollow noreferrer\">homepage</a> and the <a href=\"https://openapi-generator.tech/docs/generators/jaxrs-spec/\" rel=\"nofollow noreferrer\">generator jaxrs-spec</a> i use.</p>\n<p>Files are generated under the source folder i specified, but, when i'm implementing thoses files in my project (like a generated interface), maven compiler plugin fail during the <code>compile</code> goal.</p>\n<p>Here is the complete error stack trace when i'm using <code>mvn clean compile</code> command :</p>\n<pre><code>[ERROR] COMPILATION ERROR :\n[INFO] -------------------------------------------------------------\n[ERROR] /C:/Users/****/nba-pistache/src/main/java/com/example/controller/BasicAuth.java:[3,23] package com.example.api does not exist\n[ERROR] /C:/Users/****/nba-pistache/src/main/java/com/example/controller/BasicAuth.java:[13,26] cannot find symbol\n  symbol:   class RestResourceRoot\n  location: package com.example\n[ERROR] /C:/Users/****/nba-pistache/src/main/java/com/example/controller/BasicAuth.java:[13,1] static import only from classes and interfaces\n[ERROR] /C:/Users/****/nba-pistache/src/main/java/com/example/controller/BasicAuth.java:[16,35] cannot find symbol\n  symbol: class UsersApi\n[ERROR] /C:/Users/****/nba-pistache/src/main/java/com/example/controller/BasicAuth.java:[15,7] cannot find symbol\n  symbol: variable APPLICATION_PATH\n</code></pre>\n<p>these files are generated in my <code>/target</code> folder. As you can see on the following screen : <a href=\"https://i.stack.imgur.com/PjR66.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PjR66.png\" alt=\"enter image description here\" /></a></p>\n<p>Here is a part of my <code>pom.xml</code> where i registered the <code>openapi-generator-maven-plugin</code> in the <code>&lt;build&gt;</code> section :</p>\n<pre><code>  &lt;plugin&gt;\n    &lt;groupId&gt;org.openapitools&lt;/groupId&gt;\n    &lt;artifactId&gt;openapi-generator-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;6.2.1&lt;/version&gt;\n    &lt;executions&gt;\n      &lt;execution&gt;\n        &lt;goals&gt;\n          &lt;goal&gt;generate&lt;/goal&gt;\n        &lt;/goals&gt;\n        &lt;configuration&gt;\n          &lt;inputSpec&gt;${project.basedir}/src/main/resources/pistache-api.yaml&lt;/inputSpec&gt;\n          &lt;generatorName&gt;jaxrs-spec&lt;/generatorName&gt;\n          &lt;apiPackage&gt;com.example.api&lt;/apiPackage&gt;\n          &lt;modelPackage&gt;\n            com.example.api.model\n          &lt;/modelPackage&gt;\n          &lt;configOptions&gt;\n            &lt;useSwaggerAnnotations&gt;false&lt;/useSwaggerAnnotations&gt;\n            &lt;library&gt;quarkus&lt;/library&gt;\n            &lt;interfaceOnly&gt;true&lt;/interfaceOnly&gt;\n            &lt;dateLibrary&gt;java8&lt;/dateLibrary&gt;\n            &lt;useTags&gt;true&lt;/useTags&gt;\n            &lt;useBeanValidation&gt;false&lt;/useBeanValidation&gt;\n            &lt;returnResponse&gt;true&lt;/returnResponse&gt;\n          &lt;/configOptions&gt;\n        &lt;/configuration&gt;\n      &lt;/execution&gt;\n    &lt;/executions&gt;\n  &lt;/plugin&gt;\n</code></pre>\n<p>Here is my controller  <code>src/main/java/com/example/controller/BasicAuth.java</code> in which I implement the generated interface and in which the errors are located:</p>\n<pre><code>package com.example.controller;\n\nimport com.example.api.UsersApi;\nimport com.example.client.RestClientBasicAuth;\nimport com.example.config.BasicUserConfig;\nimport org.eclipse.microprofile.rest.client.inject.RestClient;\n\n\nimport javax.inject.Inject;\nimport javax.ws.rs.Path;\nimport javax.ws.rs.core.Response;\n\nimport static com.example.RestResourceRoot.APPLICATION_PATH;\n\n@Path(APPLICATION_PATH)\npublic class BasicAuth implements UsersApi {\n\n    @Override\n    public Response retrievePwdGet() {\n       // my custom implementation \n    }\n}\n</code></pre>\n<p>Here is the interface <code>target/generated-sources/openapi/src/gen/java/com/example/api/UsersApi.java</code> :</p>\n<pre><code>package com.example.api;\n\n\nimport javax.ws.rs.*;\nimport javax.ws.rs.core.Response;\n\n\nimport java.io.InputStream;\nimport java.util.Map;\nimport java.util.List;\n\n\n@Path(&quot;/retrieve-pwd&quot;)\n@javax.annotation.Generated(value = &quot;org.openapitools.codegen.languages.JavaJAXRSSpecServerCodegen&quot;, date = &quot;2022-12-10T18:01:45.461936200+01:00[Europe/Paris]&quot;)\npublic interface UsersApi {\n\n    @GET\n    @Produces({ &quot;application/json&quot; })\n    Response retrievePwdGet();\n}\n</code></pre>\n<p>I don't know what's going wrong here. My IDE does not report any errors, although I know that the IDE cannot be fully trusted.</p>\n<p>Finally, my application can be started correctly via the IDE, but the controller endpoint for my <code>GET</code> method is not the one defined in the <code>UsersApi</code> interface. The path is not <code>api/v1/retrieve-pwd</code>, but <code>api/v1</code>.</p>\n<p>This behavior is also strange. Maybe by overloading the method in my controller the path can be modified, but, the path is not defined on the method but on the interface.</p>\n<p>I await your comments or feedback and thank you in advance</p>\n"},{"tags":["java","command","javac"],"owner":{"account_id":20057391,"reputation":23,"user_id":14704780,"display_name":"Guruunoob"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1671402199,"answer_count":0,"score":0,"last_activity_date":1671401402,"creation_date":1671401402,"question_id":74844735,"body_markdown":"I&#39;m trying to create my workspace without IDE and I want to put files and packages in the source folder but I don&#39;t know how to compile all java files.\r\n\r\nI searched and found it, but this command only get java files of source folder:\r\n```\r\njavac -d bin/ src/*.java\r\n```\r\nI need to get java files of all folder into source folder.","title":"How to get java files of all folder into source folder","body":"<p>I'm trying to create my workspace without IDE and I want to put files and packages in the source folder but I don't know how to compile all java files.</p>\n<p>I searched and found it, but this command only get java files of source folder:</p>\n<pre><code>javac -d bin/ src/*.java\n</code></pre>\n<p>I need to get java files of all folder into source folder.</p>\n"},{"tags":["java","android","dagger-2"],"answers":[{"tags":[],"owner":{"account_id":18858542,"reputation":1,"user_id":13755939,"display_name":"Роман Оболонский"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671387918,"creation_date":1671387918,"answer_id":74843497,"question_id":74657561,"body_markdown":"First of all, it is not recommended to provide context to the dagger graph via module constructor. You should use the ```@BindsInstance``` annotation in your dagger component builder.\r\n\r\nAlso, you can not create a module with the constructor param of activity. You probably want to inject some object into your ```MainActivity```. In this case, you need to create a method in your dagger component with a similar declaration and call it in your activity before calling\r\n\r\n```ApplicationComponent```\r\n\r\n    public interface ApplicationComponent {\r\n        // your previous code\r\n\r\n        void inject(MainActivity target);\r\n    }\r\n\r\n```MainActivity```\r\n\r\n    \r\n    @Inject SomeClass someClass; // &lt;- some class you want to inject from graph\r\n \r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        ((MvpApp) getApplicationContext()).mApplicationComponent.inject(this);\r\n        super.onCreate(savedInstanceState);\r\n        // your code\r\n    }","title":"Dagger2 - Module must be set","body":"<p>First of all, it is not recommended to provide context to the dagger graph via module constructor. You should use the <code>@BindsInstance</code> annotation in your dagger component builder.</p>\n<p>Also, you can not create a module with the constructor param of activity. You probably want to inject some object into your <code>MainActivity</code>. In this case, you need to create a method in your dagger component with a similar declaration and call it in your activity before calling</p>\n<p><code>ApplicationComponent</code></p>\n<pre><code>public interface ApplicationComponent {\n    // your previous code\n\n    void inject(MainActivity target);\n}\n</code></pre>\n<p><code>MainActivity</code></p>\n<pre><code>@Inject SomeClass someClass; // &lt;- some class you want to inject from graph\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    ((MvpApp) getApplicationContext()).mApplicationComponent.inject(this);\n    super.onCreate(savedInstanceState);\n    // your code\n}\n</code></pre>\n"}],"owner":{"account_id":20088979,"reputation":339,"user_id":14729932,"display_name":"Sunbey13"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671401392,"creation_date":1669992518,"question_id":74657561,"body_markdown":"I have Application component with two modules - applicationModule and activityModule.\r\nIn my `MvpApp.java` class i create component with modules:\r\n```\r\npublic class MvpApp extends Application {\r\n\r\n    @Override\r\n    public void onCreate() {\r\n        super.onCreate();\r\n        mApplicationComponent = DaggerApplicationComponent.builder()\r\n                .activityModule(new ActivityModule())\r\n                .applicationModule(new ApplicationModule(this))\r\n                .build();\r\n    }\r\n}\r\n```\r\nMy `ApplicationModule` has constructor with `Application` and i send it. But my `Activity module has constructor:\r\n```\r\n    public ActivityModule(AppCompatActivity activity) {\r\n        this.mActivity = activity;\r\n    }\r\n```\r\nAnd how can i send my `MainActivity` instance into this constructor?\r\nWhen i try \r\n```\r\n        mApplicationComponent = DaggerApplicationComponent.builder()\r\n                .activityModule(new ActivityModule(new MainActivity()))\r\n                .applicationModule(new ApplicationModule(this))\r\n                .build();\r\n```\r\nI get an error.","title":"Dagger2 - Module must be set","body":"<p>I have Application component with two modules - applicationModule and activityModule.\nIn my <code>MvpApp.java</code> class i create component with modules:</p>\n<pre><code>public class MvpApp extends Application {\n\n    @Override\n    public void onCreate() {\n        super.onCreate();\n        mApplicationComponent = DaggerApplicationComponent.builder()\n                .activityModule(new ActivityModule())\n                .applicationModule(new ApplicationModule(this))\n                .build();\n    }\n}\n</code></pre>\n<p>My <code>ApplicationModule</code> has constructor with <code>Application</code> and i send it. But my `Activity module has constructor:</p>\n<pre><code>    public ActivityModule(AppCompatActivity activity) {\n        this.mActivity = activity;\n    }\n</code></pre>\n<p>And how can i send my <code>MainActivity</code> instance into this constructor?\nWhen i try</p>\n<pre><code>        mApplicationComponent = DaggerApplicationComponent.builder()\n                .activityModule(new ActivityModule(new MainActivity()))\n                .applicationModule(new ApplicationModule(this))\n                .build();\n</code></pre>\n<p>I get an error.</p>\n"},{"tags":["java","android","fragment","android-linearlayout","fragmentmanager"],"comments":[{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":1,"creation_date":1671394996,"post_id":74843610,"comment_id":132085115,"body_markdown":"Whatever logic you&#39;re using to decide to add fragments-  reverse that, so you add them in the opposite order.  Or don&#39;t use Fragments-  they&#39;re not a requirement to use, and many companies that write Android apps have style guides that ban them-  they can be problematic for reasons like this over just using views.","body":"Whatever logic you&#39;re using to decide to add fragments-  reverse that, so you add them in the opposite order.  Or don&#39;t use Fragments-  they&#39;re not a requirement to use, and many companies that write Android apps have style guides that ban them-  they can be problematic for reasons like this over just using views."},{"owner":{"account_id":27291540,"reputation":1,"user_id":20809851,"display_name":"Toasted_Donut"},"score":0,"creation_date":1671398862,"post_id":74843610,"comment_id":132085827,"body_markdown":"@GabeSechan I&#39;m using fragments, cause i have logic on them, i&#39;ll update question with code.","body":"@GabeSechan I&#39;m using fragments, cause i have logic on them, i&#39;ll update question with code."},{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1671421583,"post_id":74843610,"comment_id":132088671,"body_markdown":"Having logic still doesn&#39;t require Fragments.  I would say most companies I&#39;ve worked for avoid them, they just cause more problems than needed.  They frequently use something very similar to fragments, but home rolled without a lot of the issues of the official class.","body":"Having logic still doesn&#39;t require Fragments.  I would say most companies I&#39;ve worked for avoid them, they just cause more problems than needed.  They frequently use something very similar to fragments, but home rolled without a lot of the issues of the official class."},{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1671421641,"post_id":74843610,"comment_id":132088675,"body_markdown":"Also, that level of logic is  completely acceptable within a view.  It&#39;s business logic you want to keep away from it, not the functionality of the view itself.","body":"Also, that level of logic is  completely acceptable within a view.  It&#39;s business logic you want to keep away from it, not the functionality of the view itself."}],"owner":{"account_id":27291540,"reputation":1,"user_id":20809851,"display_name":"Toasted_Donut"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671399085,"creation_date":1671389486,"question_id":74843610,"body_markdown":"I have a fragment containing LinearLayout, where programmaticaly added fragments using:\r\n\r\n```\r\ngetFragmentManager().beginTransaction().add(R.id.linear_layout, CheckTemplateFragment.newInstance(*params*).commit();\r\n```\r\nAnd it filling linear layout from Top to Bottom, but I need it in reverse, Bottom to Top, aka adding new Fragment to first position, on top if linear layout.\r\n\r\n\r\nI know about .addView(View, index), and with index=0 it will work, BUT it works with Views only, not Fragment.newInstance()\r\nI also tried to change in layout xml:\r\n\r\n```\r\nandroid:gravity=&quot;bottom&quot;\r\n```\r\ndoesn&#39;t do trick\r\nI also heared that &#39;wraping&#39; fragment with View can do trick using .addView instead of .add.\r\nBut is there more clean way to do this?\r\n\r\nHere xml of fragments that are being added:\r\n```\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:id=&quot;@+id/check_template&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:animateLayoutChanges=&quot;true&quot;\r\n    tools:context=&quot;.CheckTemplateFragment&quot;&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/btn_expand&quot;\r\n        android:layout_width=&quot;40dp&quot;\r\n\r\n        android:layout_height=&quot;40dp&quot;\r\n        android:layout_alignParentEnd=&quot;true&quot;\r\n        android:foreground=&quot;@drawable/button_expand&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/check_date&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;40dp&quot;\r\n        android:layout_alignParentStart=&quot;true&quot;\r\n        android:layout_toStartOf=&quot;@+id/btn_expand&quot; /&gt;\r\n\r\n    &lt;WebView\r\n        android:id=&quot;@+id/check_extra&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_below=&quot;@+id/btn_expand&quot;\r\n        android:background=&quot;@color/teal_200&quot;/&gt;\r\n&lt;/RelativeLayout&gt;\r\n```\r\nI&#39;m using fragment cause i need handle button onClick:\r\n```\r\nbtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                isExpanded = !isExpanded;\r\n                if(isExpanded){\r\n                    extra.setVisibility(View.VISIBLE);\r\n                    btn.startAnimation(anim_rot_cw);\r\n                }\r\n                else {\r\n                    extra.setVisibility(View.GONE);\r\n                    btn.startAnimation(anim_rot_ccw);\r\n                }\r\n            }\r\n        });\r\n```","title":"Android. Is there way to invert order of adding Fragments to LinearLayout?","body":"<p>I have a fragment containing LinearLayout, where programmaticaly added fragments using:</p>\n<pre><code>getFragmentManager().beginTransaction().add(R.id.linear_layout, CheckTemplateFragment.newInstance(*params*).commit();\n</code></pre>\n<p>And it filling linear layout from Top to Bottom, but I need it in reverse, Bottom to Top, aka adding new Fragment to first position, on top if linear layout.</p>\n<p>I know about .addView(View, index), and with index=0 it will work, BUT it works with Views only, not Fragment.newInstance()\nI also tried to change in layout xml:</p>\n<pre><code>android:gravity=&quot;bottom&quot;\n</code></pre>\n<p>doesn't do trick\nI also heared that 'wraping' fragment with View can do trick using .addView instead of .add.\nBut is there more clean way to do this?</p>\n<p>Here xml of fragments that are being added:</p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:id=&quot;@+id/check_template&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:animateLayoutChanges=&quot;true&quot;\n    tools:context=&quot;.CheckTemplateFragment&quot;&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/btn_expand&quot;\n        android:layout_width=&quot;40dp&quot;\n\n        android:layout_height=&quot;40dp&quot;\n        android:layout_alignParentEnd=&quot;true&quot;\n        android:foreground=&quot;@drawable/button_expand&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/check_date&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;40dp&quot;\n        android:layout_alignParentStart=&quot;true&quot;\n        android:layout_toStartOf=&quot;@+id/btn_expand&quot; /&gt;\n\n    &lt;WebView\n        android:id=&quot;@+id/check_extra&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_below=&quot;@+id/btn_expand&quot;\n        android:background=&quot;@color/teal_200&quot;/&gt;\n&lt;/RelativeLayout&gt;\n</code></pre>\n<p>I'm using fragment cause i need handle button onClick:</p>\n<pre><code>btn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                isExpanded = !isExpanded;\n                if(isExpanded){\n                    extra.setVisibility(View.VISIBLE);\n                    btn.startAnimation(anim_rot_cw);\n                }\n                else {\n                    extra.setVisibility(View.GONE);\n                    btn.startAnimation(anim_rot_ccw);\n                }\n            }\n        });\n</code></pre>\n"},{"tags":["java","lwjgl"],"answers":[{"tags":[],"owner":{"account_id":6630353,"reputation":5504,"user_id":8623159,"display_name":"httpdigest"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671379525,"creation_date":1671379525,"answer_id":74842752,"question_id":74842718,"body_markdown":"Your `for (int i = 0; i &lt; 400; i++) {` is not properly closed where you wanted it to be closed.\r\nIt currently looks like this (when being properly formatted):\r\n\r\n```java\r\n    for (int i = 0; i &lt; 400; i++) {\r\n      if (i % 20 == 0) {\r\n        float x = random.nextFloat() * 800 - 400;\r\n        float z = random.nextFloat() * -600;\r\n        float y = terrain.getHeightOfTerrain(x, z);\r\n        entities.add(new Entity(fern, new Vector3f(x, y, z), 0, random.nextFloat() * 360,\r\n                0, 0.9f));\r\n      }\r\n      if (i % 5 == 0) {\r\n        float x = random.nextFloat() * 800 - 400;\r\n        float z = random.nextFloat() * -600;\r\n        float y = terrain.getHeightOfTerrain(x, z);\r\n        entities.add(new Entity(bobble, new Vector3f(x, y, z), 0, random.nextFloat() * 360,\r\n                0, random.nextFloat() * 0.1f + 0.6f));\r\n        x = random.nextFloat() * 800 - 400;\r\n        z = random.nextFloat() * -600;\r\n        y = terrain.getHeightOfTerrain(x, z);\r\n        entities.add(new Entity(staticModel, new Vector3f(x, y, z), 0, 0, 0, random.nextFloat() * 1 + 4));\r\n      }\r\n\r\n      // !!! everything below here is STILL inside the for loop. !!!\r\n\r\n      MasterRenderer renderer = new MasterRenderer();\r\n\r\n      RawModel bunnyModel = OBJLoader.loadObjModel(&quot;person&quot;, loader);\r\n\r\n```\r\n\r\nYou likely wanted to close the for-loop before:\r\n```java\r\n      MasterRenderer renderer = new MasterRenderer();\r\n```","title":"How to fix the Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problem:Syntax error, insert &quot;}&quot; to complete ClassBody error?","body":"<p>Your <code>for (int i = 0; i &lt; 400; i++) {</code> is not properly closed where you wanted it to be closed.\nIt currently looks like this (when being properly formatted):</p>\n<pre class=\"lang-java prettyprint-override\"><code>    for (int i = 0; i &lt; 400; i++) {\n      if (i % 20 == 0) {\n        float x = random.nextFloat() * 800 - 400;\n        float z = random.nextFloat() * -600;\n        float y = terrain.getHeightOfTerrain(x, z);\n        entities.add(new Entity(fern, new Vector3f(x, y, z), 0, random.nextFloat() * 360,\n                0, 0.9f));\n      }\n      if (i % 5 == 0) {\n        float x = random.nextFloat() * 800 - 400;\n        float z = random.nextFloat() * -600;\n        float y = terrain.getHeightOfTerrain(x, z);\n        entities.add(new Entity(bobble, new Vector3f(x, y, z), 0, random.nextFloat() * 360,\n                0, random.nextFloat() * 0.1f + 0.6f));\n        x = random.nextFloat() * 800 - 400;\n        z = random.nextFloat() * -600;\n        y = terrain.getHeightOfTerrain(x, z);\n        entities.add(new Entity(staticModel, new Vector3f(x, y, z), 0, 0, 0, random.nextFloat() * 1 + 4));\n      }\n\n      // !!! everything below here is STILL inside the for loop. !!!\n\n      MasterRenderer renderer = new MasterRenderer();\n\n      RawModel bunnyModel = OBJLoader.loadObjModel(&quot;person&quot;, loader);\n\n</code></pre>\n<p>You likely wanted to close the for-loop before:</p>\n<pre class=\"lang-java prettyprint-override\"><code>      MasterRenderer renderer = new MasterRenderer();\n</code></pre>\n"}],"owner":{"account_id":26080243,"reputation":1,"user_id":19778529,"display_name":"idpop48"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":734,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74842752,"answer_count":1,"score":-1,"last_activity_date":1671399069,"creation_date":1671379142,"question_id":74842718,"body_markdown":"I am a new java developer and I was writing some code and for some reason this error popped up: \r\n\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.Error: Unresolved compilation problem: \r\n\tSyntax error, insert &quot;}&quot; to complete ClassBody\r\n\r\n\tat engineTester.MainGameLoop.main(MainGameLoop.java:109)\r\n```\r\n\r\n I don&#39;t understand what this error means and i have tried to look on reddit and stack overflow to see if anything could help me but i couldnt find anything to help me. If you could answer my question and say what i need to add it would be very helpful.\r\n\r\nHere is my code:\r\n\r\n```\r\npackage engineTester;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.Random;\r\n\r\nimport org.lwjgl.opengl.Display;\r\nimport org.lwjgl.util.vector.Vector3f;\r\n\r\nimport entities.Camera;\r\nimport entities.Entity;\r\nimport entities.Light;\r\nimport entities.Player;\r\nimport models.RawModel;\r\nimport models.TexturedModel;\r\nimport renderEngine.DisplayManager;\r\nimport renderEngine.Loader;\r\nimport renderEngine.MasterRenderer;\r\nimport renderEngine.OBJLoader;\r\nimport terrains.Terrain;\r\nimport textures.ModelTexture;\r\nimport textures.TerrainTexture;\r\nimport textures.TerrainTexturePack;\r\n\r\npublic class MainGameLoop {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tDisplayManager.createDisplay();\r\n\t\tLoader loader = new Loader();\r\n\t\t\r\n\t\tTerrainTexture backgroundTexture = new TerrainTexture(loader.loadTexture(&quot;grassy&quot;));\r\n\t\tTerrainTexture rTexture = new TerrainTexture(loader.loadTexture(&quot;dirt&quot;));\r\n\t\tTerrainTexture gTexture = new TerrainTexture(loader.loadTexture(&quot;pinkFlowers&quot;));\r\n\t\tTerrainTexture bTexture = new TerrainTexture(loader.loadTexture(&quot;path&quot;));\r\n\t\t\r\n\t\tTerrainTexturePack texturePack = new TerrainTexturePack(backgroundTexture, rTexture, \r\n\t\t\t\tgTexture, bTexture);\r\n\t\tTerrainTexture blendMap = new TerrainTexture(loader.loadTexture(&quot;blendMap&quot;));\r\n\t\t\r\n\t\tRawModel model = OBJLoader.loadObjModel(&quot;tree&quot;, loader);\r\n\t\t\r\n\t\tTexturedModel staticModel = new TexturedModel(model, new ModelTexture(\r\n\t\t\t\tloader.loadTexture(&quot;tree&quot;)));\r\n\t\tTexturedModel grass = new TexturedModel(OBJLoader.loadObjModel(&quot;grassModel&quot;, loader),\r\n\t\t\t\tnew ModelTexture(loader.loadTexture(&quot;grassTexture&quot;)));\r\n\t\tTexturedModel fern = new TexturedModel(OBJLoader.loadObjModel(&quot;fern&quot;, loader),\r\n\t\t\t\tnew ModelTexture(loader.loadTexture(&quot;fern&quot;)));\r\n\t\tTexturedModel bobble = new TexturedModel(OBJLoader.loadObjModel(&quot;lowPolyTree&quot;, loader),\r\n\t\t\t\tnew ModelTexture(loader.loadTexture(&quot;lowPolyTree&quot;)));\r\n\t\t\r\n\t\tgrass.getTexture().setHasTransparency(true);\r\n\t\tgrass.getTexture().setUseFakeLighting(true);\r\n\t\tfern.getTexture().setHasTransparency(true);\r\n\t\t\r\n\t\tLight light = new Light(new Vector3f(20000, 20000, 20000), new Vector3f(1, 1, 1));\r\n\t\t\r\n\t\tTerrain terrain = new Terrain(0, -1, loader, texturePack, blendMap, &quot;heightMap&quot;);\r\n\t\t\r\n\t\tList&lt;Entity&gt; entities = new ArrayList&lt;Entity&gt;();\r\n\t\tRandom random = new Random(676452);\r\n\t\tfor (int i = 0; i &lt; 400; i++) {\r\n\t\t\tif (i % 20 == 0) {\r\n\t\t\tfloat x = random.nextFloat() * 800 - 400;\r\n\t\t\tfloat z = random.nextFloat() * -600;\r\n\t\t\tfloat y = terrain.getHeightOfTerrain(x, z);\r\n\t\t\tentities.add(new Entity(fern, new Vector3f(x, y, z), 0, random.nextFloat() * 360,\r\n\t\t\t\t\t0, 0.9f));\r\n\t\t}\r\n\t\tif (i % 5 == 0) {\r\n\t\t\tfloat x = random.nextFloat() * 800 - 400;\r\n\t\t\tfloat z = random.nextFloat() * -600;\r\n\t\t\tfloat y = terrain.getHeightOfTerrain(x, z);\r\n\t\t\tentities.add(new Entity(bobble, new Vector3f(x, y, z), 0, random.nextFloat() * 360,\r\n\t\t\t\t\t0, random.nextFloat() * 0.1f + 0.6f));\r\n\t\t\tx = random.nextFloat() * 800 - 400;\r\n\t\t\tz = random.nextFloat() * - 600;\r\n\t\t\ty = terrain.getHeightOfTerrain(x, z);\r\n\t\t\tentities.add(new Entity(staticModel, new Vector3f(x, y, z), 0, 0, 0, random.nextFloat() * 1 + 4));\r\n\t\t}\r\n\t\t\r\n\t\tMasterRenderer renderer = new MasterRenderer();\r\n\t\t\r\n\t\tRawModel bunnyModel = OBJLoader.loadObjModel(&quot;person&quot;, loader);\r\n\t\tTexturedModel stanfordBunny = new TexturedModel(bunnyModel, new ModelTexture(\r\n\t\t\t\tloader.loadTexture(&quot;playerTexture&quot;)));\r\n\t\t\r\n\t\tPlayer player = new Player(stanfordBunny, new Vector3f(100, 0, -50), 0, 180, 0, 0.6f);\r\n\t\tCamera camera = new Camera(player);\r\n\t\t\r\n\t\twhile(!Display.isCloseRequested()) {\r\n\t\t\tcamera.move();\r\n\t\t\tplayer.move(terrain);\r\n\t\t\trenderer.processEntity(player);\r\n\t\t\trenderer.processTerrain(terrain);\r\n\t\t\tfor(Entity entity:entities){\r\n\t\t\t\trenderer.processEntity(entity);\r\n\t\t\t}\r\n\t\t\trenderer.render(light, camera);\r\n\t\t\tDisplayManager.updateDisplay();\t\r\n\t\t}\r\n\t\t\r\n\t\trenderer.cleanUp();\r\n\t\tloader.cleanUp();\r\n\t\tDisplayManager.closeDisplay();\r\n\r\n\t}\r\n\r\n}\r\n```\r\n\r\nI have tried to do what the code error literally said but that did not work and I have tried looking around in my code but cant find anything else. If you could help your help would be greatly appreciated! ","title":"How to fix the Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problem:Syntax error, insert &quot;}&quot; to complete ClassBody error?","body":"<p>I am a new java developer and I was writing some code and for some reason this error popped up:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problem: \n    Syntax error, insert &quot;}&quot; to complete ClassBody\n\n    at engineTester.MainGameLoop.main(MainGameLoop.java:109)\n</code></pre>\n<p>I don't understand what this error means and i have tried to look on reddit and stack overflow to see if anything could help me but i couldnt find anything to help me. If you could answer my question and say what i need to add it would be very helpful.</p>\n<p>Here is my code:</p>\n<pre><code>package engineTester;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Random;\n\nimport org.lwjgl.opengl.Display;\nimport org.lwjgl.util.vector.Vector3f;\n\nimport entities.Camera;\nimport entities.Entity;\nimport entities.Light;\nimport entities.Player;\nimport models.RawModel;\nimport models.TexturedModel;\nimport renderEngine.DisplayManager;\nimport renderEngine.Loader;\nimport renderEngine.MasterRenderer;\nimport renderEngine.OBJLoader;\nimport terrains.Terrain;\nimport textures.ModelTexture;\nimport textures.TerrainTexture;\nimport textures.TerrainTexturePack;\n\npublic class MainGameLoop {\n\n    public static void main(String[] args) {\n        \n        DisplayManager.createDisplay();\n        Loader loader = new Loader();\n        \n        TerrainTexture backgroundTexture = new TerrainTexture(loader.loadTexture(&quot;grassy&quot;));\n        TerrainTexture rTexture = new TerrainTexture(loader.loadTexture(&quot;dirt&quot;));\n        TerrainTexture gTexture = new TerrainTexture(loader.loadTexture(&quot;pinkFlowers&quot;));\n        TerrainTexture bTexture = new TerrainTexture(loader.loadTexture(&quot;path&quot;));\n        \n        TerrainTexturePack texturePack = new TerrainTexturePack(backgroundTexture, rTexture, \n                gTexture, bTexture);\n        TerrainTexture blendMap = new TerrainTexture(loader.loadTexture(&quot;blendMap&quot;));\n        \n        RawModel model = OBJLoader.loadObjModel(&quot;tree&quot;, loader);\n        \n        TexturedModel staticModel = new TexturedModel(model, new ModelTexture(\n                loader.loadTexture(&quot;tree&quot;)));\n        TexturedModel grass = new TexturedModel(OBJLoader.loadObjModel(&quot;grassModel&quot;, loader),\n                new ModelTexture(loader.loadTexture(&quot;grassTexture&quot;)));\n        TexturedModel fern = new TexturedModel(OBJLoader.loadObjModel(&quot;fern&quot;, loader),\n                new ModelTexture(loader.loadTexture(&quot;fern&quot;)));\n        TexturedModel bobble = new TexturedModel(OBJLoader.loadObjModel(&quot;lowPolyTree&quot;, loader),\n                new ModelTexture(loader.loadTexture(&quot;lowPolyTree&quot;)));\n        \n        grass.getTexture().setHasTransparency(true);\n        grass.getTexture().setUseFakeLighting(true);\n        fern.getTexture().setHasTransparency(true);\n        \n        Light light = new Light(new Vector3f(20000, 20000, 20000), new Vector3f(1, 1, 1));\n        \n        Terrain terrain = new Terrain(0, -1, loader, texturePack, blendMap, &quot;heightMap&quot;);\n        \n        List&lt;Entity&gt; entities = new ArrayList&lt;Entity&gt;();\n        Random random = new Random(676452);\n        for (int i = 0; i &lt; 400; i++) {\n            if (i % 20 == 0) {\n            float x = random.nextFloat() * 800 - 400;\n            float z = random.nextFloat() * -600;\n            float y = terrain.getHeightOfTerrain(x, z);\n            entities.add(new Entity(fern, new Vector3f(x, y, z), 0, random.nextFloat() * 360,\n                    0, 0.9f));\n        }\n        if (i % 5 == 0) {\n            float x = random.nextFloat() * 800 - 400;\n            float z = random.nextFloat() * -600;\n            float y = terrain.getHeightOfTerrain(x, z);\n            entities.add(new Entity(bobble, new Vector3f(x, y, z), 0, random.nextFloat() * 360,\n                    0, random.nextFloat() * 0.1f + 0.6f));\n            x = random.nextFloat() * 800 - 400;\n            z = random.nextFloat() * - 600;\n            y = terrain.getHeightOfTerrain(x, z);\n            entities.add(new Entity(staticModel, new Vector3f(x, y, z), 0, 0, 0, random.nextFloat() * 1 + 4));\n        }\n        \n        MasterRenderer renderer = new MasterRenderer();\n        \n        RawModel bunnyModel = OBJLoader.loadObjModel(&quot;person&quot;, loader);\n        TexturedModel stanfordBunny = new TexturedModel(bunnyModel, new ModelTexture(\n                loader.loadTexture(&quot;playerTexture&quot;)));\n        \n        Player player = new Player(stanfordBunny, new Vector3f(100, 0, -50), 0, 180, 0, 0.6f);\n        Camera camera = new Camera(player);\n        \n        while(!Display.isCloseRequested()) {\n            camera.move();\n            player.move(terrain);\n            renderer.processEntity(player);\n            renderer.processTerrain(terrain);\n            for(Entity entity:entities){\n                renderer.processEntity(entity);\n            }\n            renderer.render(light, camera);\n            DisplayManager.updateDisplay(); \n        }\n        \n        renderer.cleanUp();\n        loader.cleanUp();\n        DisplayManager.closeDisplay();\n\n    }\n\n}\n</code></pre>\n<p>I have tried to do what the code error literally said but that did not work and I have tried looking around in my code but cant find anything else. If you could help your help would be greatly appreciated!</p>\n"},{"tags":["java","swing","jtextpane"],"comments":[{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":1,"creation_date":1671397587,"post_id":74844347,"comment_id":132085595,"body_markdown":"In the `editor` JPanel, is the JTextPane within a JScrollPane?","body":"In the <code>editor</code> JPanel, is the JTextPane within a JScrollPane?"},{"owner":{"account_id":2762232,"reputation":65,"user_id":2378888,"display_name":"Alex Popov"},"score":0,"creation_date":1671398059,"post_id":74844347,"comment_id":132085678,"body_markdown":"`editor` is the lower block with the textarea, I think it has nothing to do with the issue","body":"<code>editor</code> is the lower block with the textarea, I think it has nothing to do with the issue"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1671405556,"post_id":74844347,"comment_id":132086835,"body_markdown":"I think the `JTextPane` should be wrapped in a `JScrollPane`.  The &quot;problem&quot; is, setting the text of the `JTextPane` won&#39;t cause a layout of the html to occur immediately, and you generally won&#39;t know when it&#39;s actually complete up-to-date","body":"I think the <code>JTextPane</code> should be wrapped in a <code>JScrollPane</code>.  The &quot;problem&quot; is, setting the text of the <code>JTextPane</code> won&#39;t cause a layout of the html to occur immediately, and you generally won&#39;t know when it&#39;s actually complete up-to-date"}],"answers":[{"tags":[],"owner":{"account_id":2762232,"reputation":65,"user_id":2378888,"display_name":"Alex Popov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671398331,"creation_date":1671398331,"answer_id":74844486,"question_id":74844347,"body_markdown":"It seems  I found a working solution (though I&#39;m not sure it is the best one).\r\n\r\nI added the following code after setting HTML content:\r\n\r\n    msgContent.setMinimumSize(new Dimension(msgContent.getWidth(), msgContent.getPreferredSize().height + 20));\r\n\r\n    setPreferredSize(new Dimension(getWidth(), msgContent.getPreferredSize().height + 160));\r\n    SwingUtilities.invokeLater(new Runnable() {\r\n        @Override\r\n        public void run() {\r\n            System.out.println(msgContent.getHeight() + &quot;, &quot; + getHeight());\r\n        }\r\n    });\r\n\r\nIt is looking good now, I have the proper message height and working vertical scrolling in `msgsList` container.","title":"JTextPane is not increasing its height and cutting HTML content","body":"<p>It seems  I found a working solution (though I'm not sure it is the best one).</p>\n<p>I added the following code after setting HTML content:</p>\n<pre><code>msgContent.setMinimumSize(new Dimension(msgContent.getWidth(), msgContent.getPreferredSize().height + 20));\n\nsetPreferredSize(new Dimension(getWidth(), msgContent.getPreferredSize().height + 160));\nSwingUtilities.invokeLater(new Runnable() {\n    @Override\n    public void run() {\n        System.out.println(msgContent.getHeight() + &quot;, &quot; + getHeight());\n    }\n});\n</code></pre>\n<p>It is looking good now, I have the proper message height and working vertical scrolling in <code>msgsList</code> container.</p>\n"}],"owner":{"account_id":2762232,"reputation":65,"user_id":2378888,"display_name":"Alex Popov"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74844486,"answer_count":1,"score":-1,"last_activity_date":1671398331,"creation_date":1671396906,"question_id":74844347,"body_markdown":"I&#39;m building a Swing GUi application and need to display simple HTML in text fragments (text messages with formatting and lists, maybe tables, and images). So I chose to use JTextPane which can render HTML.\r\n\r\nI have the following element structure in my GUI:\r\n\r\njSplitPane -&gt; jScrollPane -&gt; jPanel -&gt;\r\njPanel with GroupLayout (Message element) -&gt;\r\njPanel wrapper for message content (HTML content jTextPane plus audio player custom jPanels)-&gt;\r\njTextPane with HTML message content\r\n\r\nThe problem is that jTextPane is cutting its content, even though none of its parents is limiting its maximum height.\r\n\r\nI don&#39;t know, why it is happening.\r\n\r\nHere is the MessageView structure:\r\n\r\n[![MessageView jPanel structure][1]][1]\r\n\r\nGeneral GUI structure:\r\n\r\n[![General GUI structure][2]][2]\r\n\r\n\r\nHere is the result when the program is running:\r\n\r\n[![Result][3]][3]\r\n\r\nHere is the HTML of the text message:\r\n\r\n    &lt;div style=&quot;padding: 0px 3px; font-size: 14px; font-family: Tahoma&quot;&gt;\r\n        Some &lt;i&gt;text&lt;/i&gt;&lt;br&gt;And more,&lt;br&gt;And more...&lt;br&gt;And more...&lt;br&gt;And more...&lt;br&gt;\r\n        And more...&lt;br&gt;And more...&lt;br&gt;\r\n        &lt;img src=&quot;http://popov654.pp.ru/copybox/photo.jpg&quot; width=&quot;390&quot; height=\\&quot;260\\&quot;&gt;&quot;;\r\n    &lt;/div&gt;\r\n\r\nAlso after setting jTextPane HTML content I use this code (found it on the net):\r\n\r\n    try {\r\n        Dimension d = msgContent.getPreferredSize();\r\n        Rectangle r = msgContent.modelToView(msgContent.getDocument().getLength());\r\n        d.height = r.y + r.height;\r\n        msgContent.setPreferredSize(d);\r\n        JFrame topFrame = (JFrame) SwingUtilities.getWindowAncestor(this);\r\n        topFrame.getContentPane().validate();\r\n    } catch (Exception ex) {}\r\n\r\nWithout this code the jTextPane was just 30-40 pixels in height. But what is the most interesting, when I change the line 4 where d.height is set, and add 100 or 200 more to it, nothing is changed at all on the display.\r\n\r\nUPDATE: commented out this block of code, and it did not change anything too at this moment.\r\n\r\nWhat am I missing? Any ideas?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3RyK0.png\r\n  [2]: https://i.stack.imgur.com/rKrcN.png\r\n  [3]: https://i.stack.imgur.com/NXeGk.png","title":"JTextPane is not increasing its height and cutting HTML content","body":"<p>I'm building a Swing GUi application and need to display simple HTML in text fragments (text messages with formatting and lists, maybe tables, and images). So I chose to use JTextPane which can render HTML.</p>\n<p>I have the following element structure in my GUI:</p>\n<p>jSplitPane -&gt; jScrollPane -&gt; jPanel -&gt;\njPanel with GroupLayout (Message element) -&gt;\njPanel wrapper for message content (HTML content jTextPane plus audio player custom jPanels)-&gt;\njTextPane with HTML message content</p>\n<p>The problem is that jTextPane is cutting its content, even though none of its parents is limiting its maximum height.</p>\n<p>I don't know, why it is happening.</p>\n<p>Here is the MessageView structure:</p>\n<p><a href=\"https://i.stack.imgur.com/3RyK0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3RyK0.png\" alt=\"MessageView jPanel structure\" /></a></p>\n<p>General GUI structure:</p>\n<p><a href=\"https://i.stack.imgur.com/rKrcN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rKrcN.png\" alt=\"General GUI structure\" /></a></p>\n<p>Here is the result when the program is running:</p>\n<p><a href=\"https://i.stack.imgur.com/NXeGk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NXeGk.png\" alt=\"Result\" /></a></p>\n<p>Here is the HTML of the text message:</p>\n<pre><code>&lt;div style=&quot;padding: 0px 3px; font-size: 14px; font-family: Tahoma&quot;&gt;\n    Some &lt;i&gt;text&lt;/i&gt;&lt;br&gt;And more,&lt;br&gt;And more...&lt;br&gt;And more...&lt;br&gt;And more...&lt;br&gt;\n    And more...&lt;br&gt;And more...&lt;br&gt;\n    &lt;img src=&quot;http://popov654.pp.ru/copybox/photo.jpg&quot; width=&quot;390&quot; height=\\&quot;260\\&quot;&gt;&quot;;\n&lt;/div&gt;\n</code></pre>\n<p>Also after setting jTextPane HTML content I use this code (found it on the net):</p>\n<pre><code>try {\n    Dimension d = msgContent.getPreferredSize();\n    Rectangle r = msgContent.modelToView(msgContent.getDocument().getLength());\n    d.height = r.y + r.height;\n    msgContent.setPreferredSize(d);\n    JFrame topFrame = (JFrame) SwingUtilities.getWindowAncestor(this);\n    topFrame.getContentPane().validate();\n} catch (Exception ex) {}\n</code></pre>\n<p>Without this code the jTextPane was just 30-40 pixels in height. But what is the most interesting, when I change the line 4 where d.height is set, and add 100 or 200 more to it, nothing is changed at all on the display.</p>\n<p>UPDATE: commented out this block of code, and it did not change anything too at this moment.</p>\n<p>What am I missing? Any ideas?</p>\n"},{"tags":["java","spring","web-services","rest","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":3211804,"reputation":705,"user_id":2711649,"accept_rate":33,"display_name":"VGaur"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1488915408,"creation_date":1412965333,"answer_id":26305705,"question_id":26305363,"body_markdown":"AFAIK Spring REST support is based on Spring MVC and its not JAX-RS implementation while Jersey has implemented JAX-RS specification. \r\nThose having Spring (Core, AOP or MVC) in their project chooses Spring ReST support over JAX-RS implementor.\r\n\r\nI recommend Jersey as its mature, implements JAX-RS and is easy to use.","title":"Spring 4 vs Jersey for REST web services","body":"<p>AFAIK Spring REST support is based on Spring MVC and its not JAX-RS implementation while Jersey has implemented JAX-RS specification. \nThose having Spring (Core, AOP or MVC) in their project chooses Spring ReST support over JAX-RS implementor.</p>\n\n<p>I recommend Jersey as its mature, implements JAX-RS and is easy to use.</p>\n"},{"tags":[],"owner":{"account_id":11818,"reputation":57413,"user_id":22982,"accept_rate":100,"display_name":"Brian Clozel"},"down_vote_count":1,"up_vote_count":122,"is_accepted":true,"score":121,"last_activity_date":1492622274,"creation_date":1413049990,"answer_id":26317525,"question_id":26305363,"body_markdown":"I&#39;d say both Jersey and Spring MVC are great - each project has its own style and strengths. Anyway, Stack Overflow is not the right place for asking subjective comparisons (your question would be closed quite quickly). If you&#39;re already using Spring for everything else and are not *required* to use JAX-RS, then Spring MVC makes total sense.\r\n\r\nRegarding features like (un)marshalling, JAX-RS is just a spec after all - other libraries can offer similar features without implementing the same API.\r\n\r\n1. Instead of [MessageBodyReaders][1]/Writers, Spring MVC is using [HttpMessageConverters][2] to handle (un)marshalling REST resources. Spring MVC handles content negotiation and chooses the best available converter for the job (you can annotate methods to hint at what media type they produce/consume).\r\n\r\n2. No, it&#39;s not necessary to use JAX-RS to (un)marshall resources. In fact, JAX-RS implementations and Spring MVC use third party serialization libraries to do the job; so it&#39;s not tied to a particular standard.\r\n\r\n3. In its 4.0.6 version, Spring supports many [HttpMessageConverters][3], with Jackson for JSON, JAXB for XML and many others. Spring 4.1.0 added more [HttpMessageConverters][4]:\r\n\r\n* Jackson is now available for both JSON and XML\r\n* [Google Protobuf][5]\r\n* [Gson for JSON][6], as an alternative to Jackson\r\n\r\nTo answer your last point, `@XmlRootElement` is a JAXB annotation and is not part of JAX-RS. [Spring supports JAXB][7].\r\n\r\nFor a more complete example with REST in Spring, check out [this getting started guide][8] (you&#39;ll get a complete example running in 10-15 minutes).\r\n\r\nAgain the last part of your question is quite subjective - there are many popular solutions for building REST services in the JVM, not just Jersey and Spring (Dropwizard, Play! Framework, etc).\r\n\r\n\r\n  [1]: https://jax-rs-spec.java.net/nonav/2.0/apidocs/javax/ws/rs/ext/MessageBodyReader.html\r\n  [2]: http://docs.spring.io/spring-framework/docs/4.0.6.RELEASE/javadoc-api/org/springframework/http/converter/HttpMessageConverter.html\r\n  [3]: http://docs.spring.io/spring-framework/docs/4.0.6.RELEASE/javadoc-api/org/springframework/http/converter/HttpMessageConverter.html\r\n  [4]: http://docs.spring.io/spring-framework/docs/4.1.0.RELEASE/javadoc-api/org/springframework/http/converter/HttpMessageConverter.html\r\n  [5]: https://developers.google.com/protocol-buffers/\r\n  [6]: https://code.google.com/p/google-gson/\r\n  [7]: http://docs.spring.io/spring-framework/docs/4.1.0.RELEASE/spring-framework-reference/html/oxm.html#oxm-jaxb\r\n  [8]: https://spring.io/guides/gs/rest-service/","title":"Spring 4 vs Jersey for REST web services","body":"<p>I'd say both Jersey and Spring MVC are great - each project has its own style and strengths. Anyway, Stack Overflow is not the right place for asking subjective comparisons (your question would be closed quite quickly). If you're already using Spring for everything else and are not <em>required</em> to use JAX-RS, then Spring MVC makes total sense.</p>\n\n<p>Regarding features like (un)marshalling, JAX-RS is just a spec after all - other libraries can offer similar features without implementing the same API.</p>\n\n<ol>\n<li><p>Instead of <a href=\"https://jax-rs-spec.java.net/nonav/2.0/apidocs/javax/ws/rs/ext/MessageBodyReader.html\" rel=\"noreferrer\">MessageBodyReaders</a>/Writers, Spring MVC is using <a href=\"http://docs.spring.io/spring-framework/docs/4.0.6.RELEASE/javadoc-api/org/springframework/http/converter/HttpMessageConverter.html\" rel=\"noreferrer\">HttpMessageConverters</a> to handle (un)marshalling REST resources. Spring MVC handles content negotiation and chooses the best available converter for the job (you can annotate methods to hint at what media type they produce/consume).</p></li>\n<li><p>No, it's not necessary to use JAX-RS to (un)marshall resources. In fact, JAX-RS implementations and Spring MVC use third party serialization libraries to do the job; so it's not tied to a particular standard.</p></li>\n<li><p>In its 4.0.6 version, Spring supports many <a href=\"http://docs.spring.io/spring-framework/docs/4.0.6.RELEASE/javadoc-api/org/springframework/http/converter/HttpMessageConverter.html\" rel=\"noreferrer\">HttpMessageConverters</a>, with Jackson for JSON, JAXB for XML and many others. Spring 4.1.0 added more <a href=\"http://docs.spring.io/spring-framework/docs/4.1.0.RELEASE/javadoc-api/org/springframework/http/converter/HttpMessageConverter.html\" rel=\"noreferrer\">HttpMessageConverters</a>:</p>\n\n<ul>\n<li>Jackson is now available for both JSON and XML</li>\n<li><a href=\"https://developers.google.com/protocol-buffers/\" rel=\"noreferrer\">Google Protobuf</a></li>\n<li><a href=\"https://code.google.com/p/google-gson/\" rel=\"noreferrer\">Gson for JSON</a>, as an alternative to Jackson</li>\n</ul></li>\n</ol>\n\n<p>To answer your last point, <code>@XmlRootElement</code> is a JAXB annotation and is not part of JAX-RS. <a href=\"http://docs.spring.io/spring-framework/docs/4.1.0.RELEASE/spring-framework-reference/html/oxm.html#oxm-jaxb\" rel=\"noreferrer\">Spring supports JAXB</a>.</p>\n\n<p>For a more complete example with REST in Spring, check out <a href=\"https://spring.io/guides/gs/rest-service/\" rel=\"noreferrer\">this getting started guide</a> (you'll get a complete example running in 10-15 minutes).</p>\n\n<p>Again the last part of your question is quite subjective - there are many popular solutions for building REST services in the JVM, not just Jersey and Spring (Dropwizard, Play! Framework, etc).</p>\n"}],"owner":{"account_id":1046862,"reputation":1573,"user_id":1051671,"accept_rate":50,"display_name":"RSCode"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88874,"favorite_count":0,"down_vote_count":0,"up_vote_count":120,"accepted_answer_id":26317525,"answer_count":2,"score":120,"last_activity_date":1671398251,"creation_date":1412963956,"question_id":26305363,"body_markdown":"We are planning to make a new application with spring 4.0.6 version. We use controller that can return &quot;XML&quot; or &quot;JSON&quot;. \r\nIn the previous project we have successfully implemented Jersey with Spring for REST support using JAX-RS API, but after reading a few articles and suggestions from seniors they said spring is providing pretty good REST support. \r\n\r\nSome of the points that really confused me if I use Spring REST support without using JAX-RS and Jersey are:\r\n\r\n1. How marshaling and unmarshaling done in Spring MVC ?\r\n\r\n2. Is it necessary for marshaling or unmarshaling need to use jax-rs. \r\n\r\n3. If marshaling and unmarshaling are automatically handled by spring then how does it know about xmlRootElements.\r\n\r\nI am still confused if Spring proving very good support of REST then why do people still go with Jersey for REST?\r\nReally looking to know more in details.\r\n\r\nIf I said anything wrong please ignore it.\r\nExplanation with example is really helpful.","title":"Spring 4 vs Jersey for REST web services","body":"<p>We are planning to make a new application with spring 4.0.6 version. We use controller that can return &quot;XML&quot; or &quot;JSON&quot;.\nIn the previous project we have successfully implemented Jersey with Spring for REST support using JAX-RS API, but after reading a few articles and suggestions from seniors they said spring is providing pretty good REST support.</p>\n<p>Some of the points that really confused me if I use Spring REST support without using JAX-RS and Jersey are:</p>\n<ol>\n<li><p>How marshaling and unmarshaling done in Spring MVC ?</p>\n</li>\n<li><p>Is it necessary for marshaling or unmarshaling need to use jax-rs.</p>\n</li>\n<li><p>If marshaling and unmarshaling are automatically handled by spring then how does it know about xmlRootElements.</p>\n</li>\n</ol>\n<p>I am still confused if Spring proving very good support of REST then why do people still go with Jersey for REST?\nReally looking to know more in details.</p>\n<p>If I said anything wrong please ignore it.\nExplanation with example is really helpful.</p>\n"},{"tags":["java","hashmap"],"comments":[{"owner":{"account_id":1409397,"reputation":12315,"user_id":1336310,"accept_rate":90,"display_name":"Menno"},"score":19,"creation_date":1366638117,"post_id":16148575,"comment_id":23072481,"body_markdown":"`HashMap` doesn&#39;t handle primitives, just objects.","body":"<code>HashMap</code> doesn&#39;t handle primitives, just objects."},{"owner":{"account_id":1478378,"reputation":3809,"user_id":1388240,"accept_rate":71,"display_name":"cyroxx"},"score":1,"creation_date":1366638278,"post_id":16148575,"comment_id":23072594,"body_markdown":"[Related SO question](http://stackoverflow.com/questions/1780385/java-hashmapstring-int-not-working), but with `int` being the value, not the key.","body":"<a href=\"http://stackoverflow.com/questions/1780385/java-hashmapstring-int-not-working\">Related SO question</a>, but with <code>int</code> being the value, not the key."},{"owner":{"account_id":284109,"reputation":47153,"user_id":581994,"accept_rate":57,"display_name":"Hot Licks"},"score":5,"creation_date":1366649825,"post_id":16148575,"comment_id":23079758,"body_markdown":"Use `Integer` instead.","body":"Use <code>Integer</code> instead."},{"owner":{"account_id":7657333,"reputation":282,"user_id":11229377,"display_name":"FoxDonut"},"score":0,"creation_date":1625759513,"post_id":16148575,"comment_id":120718796,"body_markdown":"Long story short, you must use an Integer - but you can add keys as if you it would allow you to use an int. Primitives aren&#39;t allowed, but the Integer class will handle primitive values assigned to the map.","body":"Long story short, you must use an Integer - but you can add keys as if you it would allow you to use an int. Primitives aren&#39;t allowed, but the Integer class will handle primitive values assigned to the map."}],"answers":[{"tags":[],"owner":{"account_id":2130230,"reputation":15498,"user_id":1891219,"display_name":"gaborsch"},"down_vote_count":1,"up_vote_count":155,"is_accepted":false,"score":154,"last_activity_date":1366648083,"creation_date":1366638071,"answer_id":16148593,"question_id":16148575,"body_markdown":"Use `Integer` instead.\r\n\r\n    HashMap&lt;Integer, MyObject&gt; myMap = new HashMap&lt;Integer, MyObject&gt;();\r\n\r\nJava will automatically autobox your `int` primitive values to `Integer` objects.\r\n\r\nRead more about [autoboxing][1] from Oracle Java documentations.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/technotes/guides/language/autoboxing.html","title":"HashMap and int as key","body":"<p>Use <code>Integer</code> instead.</p>\n\n<pre><code>HashMap&lt;Integer, MyObject&gt; myMap = new HashMap&lt;Integer, MyObject&gt;();\n</code></pre>\n\n<p>Java will automatically autobox your <code>int</code> primitive values to <code>Integer</code> objects.</p>\n\n<p>Read more about <a href=\"http://docs.oracle.com/javase/7/docs/technotes/guides/language/autoboxing.html\">autoboxing</a> from Oracle Java documentations.</p>\n"},{"tags":[],"owner":{"account_id":2578747,"reputation":330,"user_id":2235879,"display_name":"franki3xe"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1366638521,"creation_date":1366638121,"answer_id":16148619,"question_id":16148575,"body_markdown":"use int as Object not as primitive type\r\n\r\n    HashMap&lt;Integer, myObject&gt; myMap = new HashMap&lt;Integer, myObject&gt;();","title":"HashMap and int as key","body":"<p>use int as Object not as primitive type</p>\n\n<pre><code>HashMap&lt;Integer, myObject&gt; myMap = new HashMap&lt;Integer, myObject&gt;();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1411243,"reputation":10101,"user_id":1337771,"accept_rate":88,"display_name":"Michael"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1366638159,"creation_date":1366638159,"answer_id":16148647,"question_id":16148575,"body_markdown":"Please use \r\n`HashMap&lt;Integer, myObject&gt; myMap = new HashMap&lt;Integer, myObject&gt;();`","title":"HashMap and int as key","body":"<p>Please use \n<code>HashMap&lt;Integer, myObject&gt; myMap = new HashMap&lt;Integer, myObject&gt;();</code></p>\n"},{"tags":[],"owner":{"account_id":2119667,"reputation":7639,"user_id":1883212,"accept_rate":14,"display_name":"user1883212"},"down_vote_count":0,"up_vote_count":31,"is_accepted":true,"score":31,"last_activity_date":1366639366,"creation_date":1366639366,"answer_id":16149127,"question_id":16148575,"body_markdown":"You can&#39;t use a primitive because HashMap use object internally for the key. So you can only use an object that inherits from Object (that is any object).\r\n\r\nThat is the function put() in HashMap and as you can see it uses Object for K:\r\n\r\n    public V put(K key, V value) {\r\n        if (key == null)\r\n            return putForNullKey(value);\r\n        int hash = hash(key);\r\n        int i = indexFor(hash, table.length);\r\n        for (Entry&lt;K,V&gt; e = table[i]; e != null; e = e.next) {\r\n            Object k;\r\n            if (e.hash == hash &amp;&amp; ((k = e.key) == key || key.equals(k))) {\r\n                V oldValue = e.value;\r\n                e.value = value;\r\n                e.recordAccess(this);\r\n                return oldValue;\r\n            }\r\n        }\r\n\r\n        modCount++;\r\n        addEntry(hash, key, value, i);\r\n        return null;\r\n    }\r\n\r\nThe expression &quot;k = e.key&quot; should make it clear.\r\n\r\nI suggest to use a wrapper like Integer and autoboxing.","title":"HashMap and int as key","body":"<p>You can't use a primitive because HashMap use object internally for the key. So you can only use an object that inherits from Object (that is any object).</p>\n\n<p>That is the function put() in HashMap and as you can see it uses Object for K:</p>\n\n<pre><code>public V put(K key, V value) {\n    if (key == null)\n        return putForNullKey(value);\n    int hash = hash(key);\n    int i = indexFor(hash, table.length);\n    for (Entry&lt;K,V&gt; e = table[i]; e != null; e = e.next) {\n        Object k;\n        if (e.hash == hash &amp;&amp; ((k = e.key) == key || key.equals(k))) {\n            V oldValue = e.value;\n            e.value = value;\n            e.recordAccess(this);\n            return oldValue;\n        }\n    }\n\n    modCount++;\n    addEntry(hash, key, value, i);\n    return null;\n}\n</code></pre>\n\n<p>The expression \"k = e.key\" should make it clear.</p>\n\n<p>I suggest to use a wrapper like Integer and autoboxing.</p>\n"},{"tags":[],"owner":{"account_id":2281958,"reputation":2224,"user_id":2006839,"accept_rate":67,"display_name":"Lakshmi"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1366639477,"creation_date":1366639477,"answer_id":16149160,"question_id":16148575,"body_markdown":"HashMap does not allow primitive data types as arguments. It can only accept objects so \r\n\r\n    HashMap&lt;int, myObject&gt; myMap = new HashMap&lt;int, myObject&gt;();\r\nwill not work.\r\n\r\nYou have to change the declaration to \r\n\r\n    HashMap&lt;Integer, myObject&gt; myMap = new HashMap&lt;Integer, myObject&gt;();\r\n\r\nso even when you do the following\r\n\r\n    myMap.put(2,myObject);\r\n\r\nThe primitive data type is autoboxed to an Integer object. \r\n\r\n    8 (int) === boxing ===&gt; 8 (Integer)\r\n\r\nYou can read more on autoboxing here http://docs.oracle.com/javase/tutorial/java/data/autoboxing.html","title":"HashMap and int as key","body":"<p>HashMap does not allow primitive data types as arguments. It can only accept objects so </p>\n\n<pre><code>HashMap&lt;int, myObject&gt; myMap = new HashMap&lt;int, myObject&gt;();\n</code></pre>\n\n<p>will not work.</p>\n\n<p>You have to change the declaration to </p>\n\n<pre><code>HashMap&lt;Integer, myObject&gt; myMap = new HashMap&lt;Integer, myObject&gt;();\n</code></pre>\n\n<p>so even when you do the following</p>\n\n<pre><code>myMap.put(2,myObject);\n</code></pre>\n\n<p>The primitive data type is autoboxed to an Integer object. </p>\n\n<pre><code>8 (int) === boxing ===&gt; 8 (Integer)\n</code></pre>\n\n<p>You can read more on autoboxing here <a href=\"http://docs.oracle.com/javase/tutorial/java/data/autoboxing.html\" rel=\"noreferrer\">http://docs.oracle.com/javase/tutorial/java/data/autoboxing.html</a></p>\n"},{"tags":[],"owner":{"account_id":44342,"reputation":875,"user_id":130099,"display_name":"alvinsj"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1377673583,"creation_date":1377673583,"answer_id":18481387,"question_id":16148575,"body_markdown":"If you code in Android, there is [SparseArray][1], mapping integer to object.\r\n\r\n\r\n  [1]: http://developer.android.com/reference/android/util/SparseArray.html","title":"HashMap and int as key","body":"<p>If you code in Android, there is <a href=\"http://developer.android.com/reference/android/util/SparseArray.html\" rel=\"nofollow\">SparseArray</a>, mapping integer to object.</p>\n"},{"tags":[],"owner":{"account_id":2581018,"reputation":521,"user_id":2237718,"display_name":"Stepoid"},"down_vote_count":1,"up_vote_count":49,"is_accepted":false,"score":48,"last_activity_date":1581888309,"creation_date":1386515161,"answer_id":20454885,"question_id":16148575,"body_markdown":"For everybody who codes Java for Android devices and ends up here: use `SparseArray` for better performance;\r\n\r\n    private final SparseArray&lt;myObject&gt; myMap = new SparseArray&lt;myObject&gt;();\r\n\r\nwith this you can use int instead of Integer like;\r\n\r\n    int newPos = 3;\r\n    \r\n    myMap.put(newPos, newObject);\r\n    myMap.get(newPos);\r\n\r\n","title":"HashMap and int as key","body":"<p>For everybody who codes Java for Android devices and ends up here: use <code>SparseArray</code> for better performance;</p>\n\n<pre><code>private final SparseArray&lt;myObject&gt; myMap = new SparseArray&lt;myObject&gt;();\n</code></pre>\n\n<p>with this you can use int instead of Integer like;</p>\n\n<pre><code>int newPos = 3;\n\nmyMap.put(newPos, newObject);\nmyMap.get(newPos);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":273654,"reputation":489,"user_id":565385,"display_name":"Arek"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1387360536,"creation_date":1387360536,"answer_id":20654816,"question_id":16148575,"body_markdown":"You may try to use Trove http://trove.starlight-systems.com/  \r\nTIntObjectHashMap is probably what you are looking for.","title":"HashMap and int as key","body":"<p>You may try to use Trove <a href=\"http://trove.starlight-systems.com/\" rel=\"noreferrer\">http://trove.starlight-systems.com/</a><br>\nTIntObjectHashMap is probably what you are looking for.</p>\n"},{"tags":[],"owner":{"account_id":5288263,"reputation":970,"user_id":4221520,"display_name":"FatherMathew"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1443616361,"creation_date":1443616361,"answer_id":32866218,"question_id":16148575,"body_markdown":"The main reason with ***HashMap*** not allowing primitive as keys is that HashMap is designed in such a way that for comparing the keys, it makes use of ***equals()*** method, and a method can be called only on an object not on a primitive.\r\n\r\nThus when int is autoboxed to Integer, Hashmap can call ***equals()*** method on Integer object.\r\n\r\nThat is why, you should use Integer instead of int. I mean hashmap throws an error while putting int as a key (Don&#39;t know the meaning of the error that is thrown)\r\n\r\nAnd if you think that, you can make Map performance faster by making a primitive as a key, there is a library called ***FastUtil*** which contains a Map implementation with int type as a key.\r\n\r\nBecause of this, it is much faster than ***Hashmap***\r\n\r\n","title":"HashMap and int as key","body":"<p>The main reason with <strong><em>HashMap</em></strong> not allowing primitive as keys is that HashMap is designed in such a way that for comparing the keys, it makes use of <strong><em>equals()</em></strong> method, and a method can be called only on an object not on a primitive.</p>\n\n<p>Thus when int is autoboxed to Integer, Hashmap can call <strong><em>equals()</em></strong> method on Integer object.</p>\n\n<p>That is why, you should use Integer instead of int. I mean hashmap throws an error while putting int as a key (Don't know the meaning of the error that is thrown)</p>\n\n<p>And if you think that, you can make Map performance faster by making a primitive as a key, there is a library called <strong><em>FastUtil</em></strong> which contains a Map implementation with int type as a key.</p>\n\n<p>Because of this, it is much faster than <strong><em>Hashmap</em></strong></p>\n"},{"tags":[],"owner":{"account_id":12145950,"reputation":5001,"user_id":8868289,"display_name":"Yoory N."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1512455971,"creation_date":1512455971,"answer_id":47647524,"question_id":16148575,"body_markdown":"&gt; I don&#39;t understand why I should add a dimension (ie: making the int into an array) since I only need to store a digit as key.\r\n\r\nAn array is also an Object, so `HashMap&lt;int[], MyObject&gt;` is a valid construct that uses int arrays as keys.\r\n\r\nCompiler doesn&#39;t know what you want or what you need, it just sees a language construct that is almost correct, and warns what&#39;s missing for it to be fully correct.","title":"HashMap and int as key","body":"<blockquote>\n  <p>I don't understand why I should add a dimension (ie: making the int into an array) since I only need to store a digit as key.</p>\n</blockquote>\n\n<p>An array is also an Object, so <code>HashMap&lt;int[], MyObject&gt;</code> is a valid construct that uses int arrays as keys.</p>\n\n<p>Compiler doesn't know what you want or what you need, it just sees a language construct that is almost correct, and warns what's missing for it to be fully correct.</p>\n"},{"tags":[],"owner":{"account_id":7938112,"reputation":3993,"user_id":5993278,"accept_rate":39,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1645036563,"creation_date":1591274100,"answer_id":62194735,"question_id":16148575,"body_markdown":"For somebody who is interested in a such map because you want to reduce **footprint of autoboxing** in Java of wrappers over primitives types, I would recommend to use\r\n[Eclipse collections][1]. **Trove isn&#39;t supported anymore**, and I believe it is quite unreliable library in this sense (though it is quite popular anyway) and couldn&#39;t be compared with [Eclipse collections][1].\r\n\r\n    import org.eclipse.collections.impl.map.mutable.primitive.IntObjectHashMap;\r\n    \r\n    public class Check {\r\n        public static void main(String[] args) {\r\n            IntObjectHashMap map = new IntObjectHashMap();\r\n    \r\n            map.put(5,&quot;It works&quot;);\r\n            map.put(6,&quot;without&quot;);\r\n            map.put(7,&quot;boxing!&quot;);\r\n    \r\n            System.out.println(map.get(5));\r\n            System.out.println(map.get(6));\r\n            System.out.println(map.get(7));\r\n        }\r\n    }\r\nIn this example above [IntObjectHashMap][2].\r\n\r\nAs you need *int-&gt;object* mapping, also consider usage of `YourObjectType[]` array or `List&lt;YourObjectType&gt;` and access values by index (as map is, by nature, an associative array).\r\n\r\n\r\n  [1]: https://www.eclipse.org/collections/\r\n  [2]: http://www.eclipse.org/collections/javadoc/10.2.0/org/eclipse/collections/impl/map/mutable/primitive/IntObjectHashMap.html#containsAllArguments-java.lang.Object...-","title":"HashMap and int as key","body":"<p>For somebody who is interested in a such map because you want to reduce <strong>footprint of autoboxing</strong> in Java of wrappers over primitives types, I would recommend to use\n<a href=\"https://www.eclipse.org/collections/\" rel=\"nofollow noreferrer\">Eclipse collections</a>. <strong>Trove isn't supported anymore</strong>, and I believe it is quite unreliable library in this sense (though it is quite popular anyway) and couldn't be compared with <a href=\"https://www.eclipse.org/collections/\" rel=\"nofollow noreferrer\">Eclipse collections</a>.</p>\n<pre><code>import org.eclipse.collections.impl.map.mutable.primitive.IntObjectHashMap;\n\npublic class Check {\n    public static void main(String[] args) {\n        IntObjectHashMap map = new IntObjectHashMap();\n\n        map.put(5,&quot;It works&quot;);\n        map.put(6,&quot;without&quot;);\n        map.put(7,&quot;boxing!&quot;);\n\n        System.out.println(map.get(5));\n        System.out.println(map.get(6));\n        System.out.println(map.get(7));\n    }\n}\n</code></pre>\n<p>In this example above <a href=\"http://www.eclipse.org/collections/javadoc/10.2.0/org/eclipse/collections/impl/map/mutable/primitive/IntObjectHashMap.html#containsAllArguments-java.lang.Object...-\" rel=\"nofollow noreferrer\">IntObjectHashMap</a>.</p>\n<p>As you need <em>int-&gt;object</em> mapping, also consider usage of <code>YourObjectType[]</code> array or <code>List&lt;YourObjectType&gt;</code> and access values by index (as map is, by nature, an associative array).</p>\n"},{"tags":[],"owner":{"account_id":364905,"reputation":18691,"user_id":709537,"accept_rate":72,"display_name":"Evgeniy Berezovsky"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1607646435,"creation_date":1607641248,"answer_id":65243513,"question_id":16148575,"body_markdown":"If you are using Netty and want to use a map with primitive int type keys, you can use its [`IntObjectHashMap`](https://netty.io/4.1/api/io/netty/util/collection/IntObjectHashMap.html)\r\n\r\nSome of the reasons to use primitive type collections:\r\n- improve performance by having specialized code\r\n- reduce garbage that can put pressure on the GC\r\n\r\nThe question of specialized vs generalized collections can make or break programs with high throughput requirements.","title":"HashMap and int as key","body":"<p>If you are using Netty and want to use a map with primitive int type keys, you can use its <a href=\"https://netty.io/4.1/api/io/netty/util/collection/IntObjectHashMap.html\" rel=\"nofollow noreferrer\"><code>IntObjectHashMap</code></a></p>\n<p>Some of the reasons to use primitive type collections:</p>\n<ul>\n<li>improve performance by having specialized code</li>\n<li>reduce garbage that can put pressure on the GC</li>\n</ul>\n<p>The question of specialized vs generalized collections can make or break programs with high throughput requirements.</p>\n"},{"tags":[],"owner":{"account_id":24955253,"reputation":11,"user_id":18819685,"display_name":"Suman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650155065,"creation_date":1650155065,"answer_id":71898437,"question_id":16148575,"body_markdown":"Just like the list doesn&#39;t take the primitive data, map doesn&#39;t take the primitive data types as key or value. if we try to put primitive data types as the key value pair it will do the autoboxing ","title":"HashMap and int as key","body":"<p>Just like the list doesn't take the primitive data, map doesn't take the primitive data types as key or value. if we try to put primitive data types as the key value pair it will do the autoboxing</p>\n"}],"owner":{"account_id":550163,"reputation":5016,"user_id":1876047,"accept_rate":51,"display_name":"MrD"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":247298,"favorite_count":0,"down_vote_count":2,"up_vote_count":126,"accepted_answer_id":16149127,"answer_count":13,"score":124,"last_activity_date":1671398245,"creation_date":1366637992,"question_id":16148575,"body_markdown":"I am trying to build a HashMap which will have integer as keys and objects as values.\r\n\r\nMy syntax is:\r\n\r\n    HashMap&lt;int, myObject&gt; myMap = new HashMap&lt;int, myObject&gt;();\r\n\r\nHowever, the error returned is - Syntax error on token &quot;int&quot;, Dimensions expected after this token - I don&#39;t understand why I should add a dimension (ie: making the int into an array) since I only need to store a digit as key.\r\n\r\nWhat could I do?","title":"HashMap and int as key","body":"<p>I am trying to build a HashMap which will have integer as keys and objects as values.</p>\n<p>My syntax is:</p>\n<pre><code>HashMap&lt;int, myObject&gt; myMap = new HashMap&lt;int, myObject&gt;();\n</code></pre>\n<p>However, the error returned is - Syntax error on token &quot;int&quot;, Dimensions expected after this token - I don't understand why I should add a dimension (ie: making the int into an array) since I only need to store a digit as key.</p>\n<p>What could I do?</p>\n"},{"tags":["java","html","xml","xpath","xhtml"],"comments":[{"owner":{"account_id":1266527,"reputation":2643,"user_id":1223719,"accept_rate":95,"display_name":"aglassman"},"score":0,"creation_date":1539358507,"post_id":52781780,"comment_id":92486985,"body_markdown":"What in particular is it failing on when uncleaned?","body":"What in particular is it failing on when uncleaned?"},{"owner":{"account_id":9331535,"reputation":383,"user_id":6927126,"accept_rate":50,"display_name":"L. Don"},"score":0,"creation_date":1539426431,"post_id":52781780,"comment_id":92504456,"body_markdown":"I edited the question! @aglassman By the way i was failing on some unclosed tags, &lt;!DOCTYPE&gt; not allowed and things like those. I managed to get it work cleaning the html but some weird things happens: many of the &lt;a&gt; tags lost their href attribute!","body":"I edited the question! @aglassman By the way i was failing on some unclosed tags, &lt;!DOCTYPE&gt; not allowed and things like those. I managed to get it work cleaning the html but some weird things happens: many of the &lt;a&gt; tags lost their href attribute!"}],"answers":[{"tags":[],"owner":{"account_id":9331535,"reputation":383,"user_id":6927126,"accept_rate":50,"display_name":"L. Don"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1539428451,"creation_date":1539428451,"answer_id":52792218,"question_id":52781780,"body_markdown":"**SOLVED**:\r\n\r\nI managed to get all things to work this way:\r\n\r\n    String html = getTheHTMLSomeWay();\r\n\r\n    Document doc = Jsoup.parse(Jsoup.clean(html, &quot;http://base.uri&quot;, Whitelist.relaxed().preserveRelativeLinks(true)));\r\n    doc.outputSettings().escapeMode(EscapeMode.xhtml).syntax(Syntax.xml).charset(StandardCharsets.UTF_8);\r\n\r\n    org.w3c.dom.Document document = $(doc.html()).document();\r\n    \r\n    System.out.println($(document).find(&quot;a[href=&#39;/your/relative/url&#39;]&quot;));\r\nWith **Jsoup** i can clean the HTML against all that boring unclosed tags, not allowed tags etc. Then i can escape all the unescaped characters (according to **xhtml**) and set the syntax to **xml**.\r\n\r\nThat can give you a clean html code, usable with **jOOX** library.","title":"How to get the XPath of an element in HTML in java?","body":"<p><strong>SOLVED</strong>:</p>\n\n<p>I managed to get all things to work this way:</p>\n\n<pre><code>String html = getTheHTMLSomeWay();\n\nDocument doc = Jsoup.parse(Jsoup.clean(html, \"http://base.uri\", Whitelist.relaxed().preserveRelativeLinks(true)));\ndoc.outputSettings().escapeMode(EscapeMode.xhtml).syntax(Syntax.xml).charset(StandardCharsets.UTF_8);\n\norg.w3c.dom.Document document = $(doc.html()).document();\n\nSystem.out.println($(document).find(\"a[href='/your/relative/url']\"));\n</code></pre>\n\n<p>With <strong>Jsoup</strong> i can clean the HTML against all that boring unclosed tags, not allowed tags etc. Then i can escape all the unescaped characters (according to <strong>xhtml</strong>) and set the syntax to <strong>xml</strong>.</p>\n\n<p>That can give you a clean html code, usable with <strong>jOOX</strong> library.</p>\n"}],"owner":{"account_id":9331535,"reputation":383,"user_id":6927126,"accept_rate":50,"display_name":"L. Don"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2710,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":52792218,"answer_count":1,"score":0,"last_activity_date":1671398119,"creation_date":1539354803,"question_id":52781780,"body_markdown":"I want to achieve a simple task, but I&#39;m struggling to find an easy solution for that: I have the HTML of a webpage in a String (or File) and I&#39;d like to generate the XPath of a given element.\r\n(For example I&#39;d like to retrieve the XPath for an `&lt;a&gt;` element) \r\n\r\nI tried different solutions but I&#39;m constantly encountering problems in parsing the html correctly. Is there a functioning html cleaner for java like this one?\r\nhttps://www.htmlwasher.com/\r\nThis is the ONLY functioning cleaner I&#39;ve find out for now, but it is an online tool. With this I can easily parse the HTML and get to the XPath.\r\n\r\nI&#39;m currently using jOOX (https://github.com/jOOQ/jOOX) this way to generate the XPath:\r\n\r\n    Document document = $(html).document();\r\n    System.out.println($(document).find(&quot;a&quot;).xpath());\r\n\r\nIf the HTML is cleaned with the online tool I provided, I can generate the right XPath.\r\nI like the way I could interact with jOOX if only I could correctly and programmatically parse the html. Do you know a good way to parse the HTML?\r\nI already tried:\r\n\r\n - JSoup \r\n - Tagsoup\r\n - HtmlCleaner\r\n\r\nThe testing website page is http://www.ansa.it.\r\n\r\n**EDIT**:\r\nThe parsing was failing on some common HTML parsing problems like unclosed tags ( `&lt;/img&gt;` for example), escaping, etc.\r\n\r\nI managed to parse &quot;correctly&quot; the html this way:\r\n\r\n```\r\n    Document doc = Jsoup.parse(Jsoup.clean(html, Whitelist.relaxed()));\r\ndoc.outputSettings().escapeMode(EscapeMode.xhtml)\r\n\t\t\t\t\t\t.syntax(Syntax.xml)\r\n\t\t\t\t\t\t.charset(StandardCharsets.UTF_8);\r\n```\r\n\r\nFact is that tags like `&lt;a href=&quot;cinema.shtml&quot;&gt;Cinema&lt;/a&gt;` became `&lt;a&gt;Cinema&lt;/a&gt;` so I&#39;m not able to select them using their attributes, like href. How can I solve this new problem?\r\n\r\nI noticed that some links still have their href and they are the ones which point to other websites like Facebook or Twitter. Could this be related?","title":"How to get the XPath of an element in HTML in java?","body":"<p>I want to achieve a simple task, but I'm struggling to find an easy solution for that: I have the HTML of a webpage in a String (or File) and I'd like to generate the XPath of a given element.\n(For example I'd like to retrieve the XPath for an <code>&lt;a&gt;</code> element)</p>\n<p>I tried different solutions but I'm constantly encountering problems in parsing the html correctly. Is there a functioning html cleaner for java like this one?\n<a href=\"https://www.htmlwasher.com/\" rel=\"nofollow noreferrer\">https://www.htmlwasher.com/</a>\nThis is the ONLY functioning cleaner I've find out for now, but it is an online tool. With this I can easily parse the HTML and get to the XPath.</p>\n<p>I'm currently using jOOX (<a href=\"https://github.com/jOOQ/jOOX\" rel=\"nofollow noreferrer\">https://github.com/jOOQ/jOOX</a>) this way to generate the XPath:</p>\n<pre><code>Document document = $(html).document();\nSystem.out.println($(document).find(&quot;a&quot;).xpath());\n</code></pre>\n<p>If the HTML is cleaned with the online tool I provided, I can generate the right XPath.\nI like the way I could interact with jOOX if only I could correctly and programmatically parse the html. Do you know a good way to parse the HTML?\nI already tried:</p>\n<ul>\n<li>JSoup</li>\n<li>Tagsoup</li>\n<li>HtmlCleaner</li>\n</ul>\n<p>The testing website page is <a href=\"http://www.ansa.it\" rel=\"nofollow noreferrer\">http://www.ansa.it</a>.</p>\n<p><strong>EDIT</strong>:\nThe parsing was failing on some common HTML parsing problems like unclosed tags ( <code>&lt;/img&gt;</code> for example), escaping, etc.</p>\n<p>I managed to parse &quot;correctly&quot; the html this way:</p>\n<pre><code>    Document doc = Jsoup.parse(Jsoup.clean(html, Whitelist.relaxed()));\ndoc.outputSettings().escapeMode(EscapeMode.xhtml)\n                        .syntax(Syntax.xml)\n                        .charset(StandardCharsets.UTF_8);\n</code></pre>\n<p>Fact is that tags like <code>&lt;a href=&quot;cinema.shtml&quot;&gt;Cinema&lt;/a&gt;</code> became <code>&lt;a&gt;Cinema&lt;/a&gt;</code> so I'm not able to select them using their attributes, like href. How can I solve this new problem?</p>\n<p>I noticed that some links still have their href and they are the ones which point to other websites like Facebook or Twitter. Could this be related?</p>\n"},{"tags":["java","parameter-passing","counter"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1671393259,"post_id":74843930,"comment_id":132084826,"body_markdown":"We need to see more code. Please consider editing the question so there is a [Minimal Reproducible Example](https://stackoverflow.com/help/minimal-reproducible-example)","body":"We need to see more code. Please consider editing the question so there is a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">Minimal Reproducible Example</a>"},{"owner":{"account_id":4554718,"reputation":2128,"user_id":3698762,"accept_rate":38,"display_name":"Stefan"},"score":0,"creation_date":1671393282,"post_id":74843930,"comment_id":132084830,"body_markdown":"Hello, what is the point of the ifs? Looks to me like the feedCounter isn&#39;t always 0 like you say.","body":"Hello, what is the point of the ifs? Looks to me like the feedCounter isn&#39;t always 0 like you say."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1671393422,"post_id":74843930,"comment_id":132084857,"body_markdown":"However, there is a good chance the problem is with the `DayOne` method and the way it is called. Each of the `int` parameters are variables local to the `DayOne` method. They begin with values that are copies of the corresponding arguments in the method call. So, changing the values within `DayOne` does not result in changing the corresponding values in the method(s) that call `DayOne`.","body":"However, there is a good chance the problem is with the <code>DayOne</code> method and the way it is called. Each of the <code>int</code> parameters are variables local to the <code>DayOne</code> method. They begin with values that are copies of the corresponding arguments in the method call. So, changing the values within <code>DayOne</code> does not result in changing the corresponding values in the method(s) that call <code>DayOne</code>."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":1,"creation_date":1671393510,"post_id":74843930,"comment_id":132084874,"body_markdown":"We&#39;re not going to be able to find your problem, if you only show us a small sample of your program.  Most likely, your problem is in a part that you haven&#39;t shown here.","body":"We&#39;re not going to be able to find your problem, if you only show us a small sample of your program.  Most likely, your problem is in a part that you haven&#39;t shown here."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1671394083,"post_id":74843930,"comment_id":132084972,"body_markdown":"Off Topic: Please consider having only one `Scanner` Object for `System.in`. You may make `in` a `static` variable for your class. Or, you can pass it via argument lists to methods that need to use it.","body":"Off Topic: Please consider having only one <code>Scanner</code> Object for <code>System.in</code>. You may make <code>in</code> a <code>static</code> variable for your class. Or, you can pass it via argument lists to methods that need to use it."},{"owner":{"account_id":27291254,"reputation":1,"user_id":20809619,"display_name":"Sabrina"},"score":0,"creation_date":1671395252,"post_id":74843930,"comment_id":132085154,"body_markdown":"@OldDogProgrammer I just added my entire code since I&#39;m not 100% sure what exactly I need to show","body":"@OldDogProgrammer I just added my entire code since I&#39;m not 100% sure what exactly I need to show"},{"owner":{"account_id":27291254,"reputation":1,"user_id":20809619,"display_name":"Sabrina"},"score":0,"creation_date":1671395286,"post_id":74843930,"comment_id":132085162,"body_markdown":"@DawoodibnKareem I added my entire code. I&#39;m not sure what exactly I need to show","body":"@DawoodibnKareem I added my entire code. I&#39;m not sure what exactly I need to show"}],"answers":[{"tags":[],"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1671397792,"creation_date":1671396842,"answer_id":74844341,"question_id":74843930,"body_markdown":"Consider these lines:\r\n\r\n    public class BunnyProgram \r\n    {\r\n       static int playCounter;\r\n       static int feedCounter;\r\n       static int cleanLitterCounter;\r\n       static int treatCounter;\r\n       static int petCounter;\r\n       static int loveCounter;\r\n    \r\n       public static void main(String [] args)\r\n       {\r\n           Scanner in = new Scanner(System.in);\r\n           welcomeStatement();\r\n           String bunnyName = nameYourBun();\r\n           DayOne(bunnyName, feedCounter, cleanLitterCounter, treatCounter\r\n                 , petCounter, playCounter);\r\n\r\nAnd the beginning of this method:\r\n\r\n      public static void DayOne\r\n        (String bunnyName, int feedCounter, int cleanLitterCounter\r\n        , int treatCounter, int petCounter, int playCounter)\r\n    {\r\n\r\nYour mistake is passing the `int` counters as arguments. Within method `DayOne`, the variable `feedCounter` is a *different* variable than the `static int feedCounter` declared above `static void main`.  Both variables have the same name, but the local variable hides the static variable. The same applies to the other `int` variables passed. So, when a value of one of them is changed within the method, it is not changed within `main`.\r\n\r\nTo fix the problem, don&#39;t pass them:\r\n\r\n     public static void DayOne (String bunnyName) { \r\n\r\nand, in `main`\r\n\r\n     DayOne (bunnyName); \r\n\r\nThat way, the only `feedCounter`, `playCounter`, etc. the program sees are the `static` ones.\r\n\r\nThis happens because Java is pass by value: When calling a method, the values of the arguments are copied to the local variables in the parameter list of the called method. \r\n\r\nThis appears to not happen with `bunnyName`. That is because `bunnyName` is a `String`, which is a reference type.  The counters are primitives. \r\n\r\nWith reference types, what gets passed to a called method is a copy of the reference. The local variable in the called method becomes an alias for the corresponding variable doing the calling. Within the called method, as long as the local reference variable isn&#39;t changed to point to something else, what happens to it in the called method also happens to it in the calling method. \r\n\r\nOff-topic:  While you are at it, add `static Scanner in;` to the list of `static` variables. At the beginning of `main`, have `in = new Scanner (System.in);`. That way, you don&#39;t have to open a `new Scanner (System.in)` in other methods. \r\n\r\n\r\n\r\nTo learn more, search for &quot;Java variable shadowing&quot; and &quot;Java call by value&quot;  \r\n","title":"How Do I Prevent My Counter From Resetting Back To 0?","body":"<p>Consider these lines:</p>\n<pre><code>public class BunnyProgram \n{\n   static int playCounter;\n   static int feedCounter;\n   static int cleanLitterCounter;\n   static int treatCounter;\n   static int petCounter;\n   static int loveCounter;\n\n   public static void main(String [] args)\n   {\n       Scanner in = new Scanner(System.in);\n       welcomeStatement();\n       String bunnyName = nameYourBun();\n       DayOne(bunnyName, feedCounter, cleanLitterCounter, treatCounter\n             , petCounter, playCounter);\n</code></pre>\n<p>And the beginning of this method:</p>\n<pre><code>  public static void DayOne\n    (String bunnyName, int feedCounter, int cleanLitterCounter\n    , int treatCounter, int petCounter, int playCounter)\n{\n</code></pre>\n<p>Your mistake is passing the <code>int</code> counters as arguments. Within method <code>DayOne</code>, the variable <code>feedCounter</code> is a <em>different</em> variable than the <code>static int feedCounter</code> declared above <code>static void main</code>.  Both variables have the same name, but the local variable hides the static variable. The same applies to the other <code>int</code> variables passed. So, when a value of one of them is changed within the method, it is not changed within <code>main</code>.</p>\n<p>To fix the problem, don't pass them:</p>\n<pre><code> public static void DayOne (String bunnyName) { \n</code></pre>\n<p>and, in <code>main</code></p>\n<pre><code> DayOne (bunnyName); \n</code></pre>\n<p>That way, the only <code>feedCounter</code>, <code>playCounter</code>, etc. the program sees are the <code>static</code> ones.</p>\n<p>This happens because Java is pass by value: When calling a method, the values of the arguments are copied to the local variables in the parameter list of the called method.</p>\n<p>This appears to not happen with <code>bunnyName</code>. That is because <code>bunnyName</code> is a <code>String</code>, which is a reference type.  The counters are primitives.</p>\n<p>With reference types, what gets passed to a called method is a copy of the reference. The local variable in the called method becomes an alias for the corresponding variable doing the calling. Within the called method, as long as the local reference variable isn't changed to point to something else, what happens to it in the called method also happens to it in the calling method.</p>\n<p>Off-topic:  While you are at it, add <code>static Scanner in;</code> to the list of <code>static</code> variables. At the beginning of <code>main</code>, have <code>in = new Scanner (System.in);</code>. That way, you don't have to open a <code>new Scanner (System.in)</code> in other methods.</p>\n<p>To learn more, search for &quot;Java variable shadowing&quot; and &quot;Java call by value&quot;</p>\n"}],"owner":{"account_id":27291254,"reputation":1,"user_id":20809619,"display_name":"Sabrina"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1671397792,"creation_date":1671392685,"question_id":74843930,"body_markdown":"I&#39;m creating a program that is like a pet bunny simulator. In the program, you are faced with four days (a method for each of these days) and in these days you are asked to make decisions. For example, my program will ask if you want to feed, pet, or play with the bunny. If the user types &quot;feed&quot;, a method will be called that adds to a counter keeping track of how many times the user feeds the bunny. What I think is happening is somewhere in my code, the counters keep resetting back to 0. I&#39;m not sure where, though, or how to fix it.\r\n\r\n```\r\n    import java.io.*;\r\nimport java.util.*;\r\npublic class BunnyProgram \r\n{\r\n\tstatic int playCounter;\r\n\tstatic int feedCounter;\r\n\tstatic int cleanLitterCounter;\r\n\tstatic int treatCounter;\r\n\tstatic int petCounter;\r\n\tstatic int loveCounter;\r\n\t\r\n\tpublic static void main(String [] args)\r\n\t{\r\n\t\tScanner in = new Scanner(System.in);\r\n\t\twelcomeStatement();\r\n\t\tString bunnyName = nameYourBun();\r\n\t\tDayOne(bunnyName, feedCounter, cleanLitterCounter, treatCounter, petCounter, playCounter);\r\n\t\tDayOneChoice(bunnyName, loveCounter);\r\n\t\tresults(bunnyName, playCounter, feedCounter, cleanLitterCounter, treatCounter, petCounter, loveCounter);\r\n\t\tDayTwo(bunnyName, feedCounter, cleanLitterCounter, treatCounter, petCounter, playCounter);\r\n\t\tDayTwoChoice(bunnyName, loveCounter);\r\n\t\tDayThree(bunnyName, feedCounter, cleanLitterCounter, treatCounter, petCounter, playCounter);\r\n\t\tDayThreeChoice(bunnyName, loveCounter);\r\n\t\tDayFour(bunnyName, feedCounter, cleanLitterCounter, treatCounter, petCounter, playCounter);\r\n\t\tDayFourChoice(bunnyName, loveCounter);\r\n\t\tresults(bunnyName, playCounter, feedCounter, cleanLitterCounter, treatCounter, petCounter, loveCounter);\r\n\t}\r\n\r\n\tpublic static void welcomeStatement()\r\n\t{\r\n\t\tSystem.out.println(&quot;Hiya!! Welcome to the bunny program. In this program, you&#39;ll receive a pet bunny!&quot;);\r\n\t\tSystem.out.println(&quot;It&#39;s your job to make correct choices over the span of four days and prevent your bunny from running away!&quot;);\r\n\t\tSystem.out.println(&quot;It is highly recommended to complete every possible action for every day.&quot;);\r\n\t}\r\n\t\r\n\tpublic static String nameYourBun()\r\n\t{\r\n\t\tScanner in;\r\n\t\tin = new Scanner(System.in);\r\n\t\tString bunnyName;\r\n\t\tSystem.out.println(&quot;\\nPlease enter a name for your bunny!&quot;);\r\n\t\tbunnyName = in.nextLine(); \r\n\t\tSystem.out.println(&quot;Aww, so cute! Welcome to the (digital) world, &quot; + bunnyName + &quot;!!&quot;);\r\n\t\tSystem.out.println(&quot;Let&#39;s get started! :)&quot;);\r\n\t\treturn bunnyName;\r\n\t}\r\n\t\r\n\tpublic static void DayOne(String bunnyName, int feedCounter, int cleanLitterCounter, int treatCounter, int petCounter, int playCounter)\r\n\t{\r\n\t\tScanner in;\r\n\t\tin = new Scanner(System.in);\r\n\t\tString answer = null;\r\n\t\tSystem.out.println(&quot;\\nDay One&quot;);\r\n\t\tSystem.out.println(&quot;_________\\n&quot;);\r\n\t\t\r\n\t\tboolean runIt = true;\r\n\t\twhile (runIt)\r\n\t\t{\r\n\t\tchooseYourAction(bunnyName, feedCounter, cleanLitterCounter, treatCounter, petCounter, playCounter);\r\n\t\tSystem.out.println(&quot;Would you like to complete another action? Yes or no&quot;);\r\n\t\tanswer = in.nextLine();\r\n\t\t\tif(answer.charAt(0) == &#39;N&#39; || answer.charAt(0) == &#39;n&#39;)\r\n\t\t\t{\r\n\t\t\t\trunIt = false;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic static void DayOneChoice(String bunnyName, int loveCounter)\r\n\t{\r\n\t\tScanner in;\r\n\t\tin = new Scanner(System.in);\r\n\t\tString userAnswer;\r\n\t\tint Situation;\r\n\t\tSituation = (int) (Math.random() * 3) + 1;\r\n\t\tif (Situation == 1)\r\n\t\t{\r\n\t\t\tSystem.out.println(&quot;You watch &quot; + bunnyName + &quot; look longily outside.&quot;);\r\n\t\t\tSystem.out.println(&quot;Do you let &quot; + bunnyName + &quot; outside? Yes or no&quot;);\r\n\t\t\tuserAnswer = in.nextLine();\r\n\t\t\tif(userAnswer.charAt(0) == &#39;Y&#39; || userAnswer.charAt(0) == &#39;y&#39;)\r\n\t\t\t{\r\n\t\t\t\tloveCounter = +1;\r\n\t\t\t}\r\n\t\t\tif(userAnswer.charAt(0) == &#39;N&#39; || userAnswer.charAt(0) == &#39;n&#39;)\r\n\t\t\t{\r\n\t\t\t\tloveCounter = -1;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (Situation == 2)\r\n\t\t{\r\n\t\t\tSystem.out.println(bunnyName + &quot; looks outside with no particular interest or disinterest.&quot;);\r\n\t\t\tSystem.out.println(&quot;Do you let &quot; + bunnyName + &quot; outside? Yes or no&quot;);\r\n\t\t\tuserAnswer = in.nextLine();\r\n\t\t\tif(userAnswer.charAt(0) == &#39;Y&#39; || userAnswer.charAt(0) == &#39;y&#39;)\r\n\t\t\t{\r\n\t\t\t\tloveCounter += 0;\r\n\t\t\t}\r\n\t\t\tif(userAnswer.charAt(0) == &#39;N&#39; || userAnswer.charAt(0) == &#39;n&#39;)\r\n\t\t\t{\r\n\t\t\t\tloveCounter += 0;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (Situation == 3)\r\n\t\t{\r\n\t\t\tSystem.out.println(&quot;You see &quot; + bunnyName + &quot; look outside with immense fear.&quot;);\r\n\t\t\tSystem.out.println(&quot;Do you let &quot; + bunnyName + &quot; outside? Yes or no&quot;);\r\n\t\t\tuserAnswer = in.nextLine();\r\n\t\t\tif(userAnswer.charAt(0) == &#39;Y&#39; || userAnswer.charAt(0) == &#39;y&#39;)\r\n\t\t\t{\r\n\t\t\t\tloveCounter += -1;\r\n\t\t\t}\r\n\t\t\tif(userAnswer.charAt(0) == &#39;N&#39; || userAnswer.charAt(0) == &#39;n&#39;)\r\n\t\t\t{\r\n\t\t\t\tloveCounter += 1;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tSystem.out.println(&quot;Okay! Let&#39;s go to the next day!&quot;);\r\n\t\t\r\n\t}\r\n\r\n\tpublic static void DayTwo(String bunnyName, int feedCounter, int cleanLitterCounter, int treatCounter, int petCounter, int playCounter)\r\n\t{\r\n\t\tScanner in;\r\n\t\tin = new Scanner(System.in);\r\n\t\tString answer = null;\r\n\t\tSystem.out.println(&quot;\\nDay Two&quot;);\r\n\t\tSystem.out.println(&quot;_________\\n&quot;);\r\n\t\t\r\n\t\tboolean runIt = true;\r\n\t\twhile (runIt)\r\n\t\t{\r\n\t\tchooseYourAction(bunnyName, feedCounter, cleanLitterCounter, treatCounter, petCounter, playCounter);\r\n\t\tSystem.out.println(&quot;Would you like to complete another action? Yes or no&quot;);\r\n\t\tanswer = in.nextLine();\r\n\t\t\tif(answer.charAt(0) == &#39;N&#39; || answer.charAt(0) == &#39;n&#39;)\r\n\t\t\t{\r\n\t\t\t\trunIt = false;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic static void DayTwoChoice(String bunnyName, int loveCounter)\r\n\t{\r\n\t\tScanner in;\r\n\t\tin = new Scanner(System.in);\r\n\t\tString userAnswer;\r\n\t\t\tSystem.out.println(bunnyName + &quot; has continuously been staring over your shoulder at an ad for a new toy.&quot;);\r\n\t\t\tSystem.out.println(&quot;Do you buy &quot; + bunnyName + &quot; the toy? Choose option 1, 2, or 3.\\n&quot;);\r\n\t\t\tSystem.out.println(&quot;1. Buy &quot; + bunnyName + &quot; the toy&quot;);\r\n\t\t\tSystem.out.println(&quot;2. Buy &quot; + bunnyName + &quot; a cheaper toy&quot;);\r\n\t\t\tSystem.out.println(&quot;3. Don&#39;t buy &quot; + bunnyName + &quot; any toys&quot;);\r\n\t\t\tint num;\r\n\t\t\tnum = in.nextInt();\r\n\t\t\tswitch(num)\r\n\t\t\t{\r\n\t\t\tcase 1:\r\n\t\t\t\tloveCounter += 1;\r\n\t\t\t\r\n\t\t\tcase 2:\r\n\t\t\t\tloveCounter += 0;\r\n\t\t\t\t\r\n\t\t\tcase 3:\r\n\t\t\t\tloveCounter += -1;\r\n\t\t}\r\n\r\n\t\tSystem.out.println(&quot;Okay! Let&#39;s go to the next day!&quot;);\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic static void DayThree(String bunnyName, int feedCounter, int cleanLitterCounter, int treatCounter, int petCounter, int playCounter)\r\n\t{\r\n\t\tScanner in;\r\n\t\tin = new Scanner(System.in);\r\n\t\tString answer = null;\r\n\t\tSystem.out.println(&quot;\\nDay Three&quot;);\r\n\t\tSystem.out.println(&quot;_________\\n&quot;);\r\n\t\t\r\n\t\tboolean runIt = true;\r\n\t\twhile (runIt)\r\n\t\t{\r\n\t\tchooseYourAction(bunnyName, feedCounter, cleanLitterCounter, treatCounter, petCounter, playCounter);\r\n\t\tSystem.out.println(&quot;Would you like to complete another action? Yes or no&quot;);\r\n\t\tanswer = in.nextLine();\r\n\t\t\tif(answer.charAt(0) == &#39;N&#39; || answer.charAt(0) == &#39;n&#39;)\r\n\t\t\t{\r\n\t\t\t\trunIt = false;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic static void DayThreeChoice(String bunnyName, int loveCounter)\r\n\t{\r\n\t\tScanner in;\r\n\t\tin = new Scanner(System.in);\r\n\t\tString userAnswer;\r\n\t\tint Situation;\r\n\t\tSituation = (int) (Math.random() * 3) + 1;\r\n\t\tif (Situation == 1)\r\n\t\t{\r\n\t\t\tSystem.out.println(bunnyName + &quot; has been jumping onto your bed a lot recently.&quot;);\r\n\t\t\tSystem.out.println(&quot;Do you set &quot; + bunnyName + &quot; down on your bed to sleep next to you at night? Yes or no&quot;);\r\n\t\t\tuserAnswer = in.nextLine();\r\n\t\t\tif(userAnswer.charAt(0) == &#39;Y&#39; || userAnswer.charAt(0) == &#39;y&#39;)\r\n\t\t\t{\r\n\t\t\t\tloveCounter = +1;\r\n\t\t\t}\r\n\t\t\tif(userAnswer.charAt(0) == &#39;N&#39; || userAnswer.charAt(0) == &#39;n&#39;)\r\n\t\t\t{\r\n\t\t\t\tloveCounter = -1;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (Situation == 2)\r\n\t\t{\r\n\t\t\tSystem.out.println(&quot;You catch &quot; + bunnyName + &quot; sleeping on your bed sometimes, and in their own bed other times.&quot;);\r\n\t\t\tSystem.out.println(&quot;Do you set &quot; + bunnyName + &quot; down on your bed to sleep next to you at night? Yes or no&quot;);\r\n\t\t\tuserAnswer = in.nextLine();\r\n\t\t\tif(userAnswer.charAt(0) == &#39;Y&#39; || userAnswer.charAt(0) == &#39;y&#39;)\r\n\t\t\t{\r\n\t\t\t\tloveCounter += 0;\r\n\t\t\t}\r\n\t\t\tif(userAnswer.charAt(0) == &#39;N&#39; || userAnswer.charAt(0) == &#39;n&#39;)\r\n\t\t\t{\r\n\t\t\t\tloveCounter += 0;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (Situation == 3)\r\n\t\t{\r\n\t\t\tSystem.out.println(bunnyName + &quot; absolutely loves their bed and seems the most comfortable there.&quot;);\r\n\t\t\tSystem.out.println(&quot;Do you set &quot; + bunnyName + &quot; down on your bed to sleep next to you at night? Yes or no&quot;);\r\n\t\t\tuserAnswer = in.nextLine();\r\n\t\t\tif(userAnswer.charAt(0) == &#39;Y&#39; || userAnswer.charAt(0) == &#39;y&#39;)\r\n\t\t\t{\r\n\t\t\t\tloveCounter += -1;\r\n\t\t\t}\r\n\t\t\tif(userAnswer.charAt(0) == &#39;N&#39; || userAnswer.charAt(0) == &#39;n&#39;)\r\n\t\t\t{\r\n\t\t\t\tloveCounter += 1;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tSystem.out.println(&quot;Okay! Let&#39;s go to the final day!&quot;);\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic static void DayFour(String bunnyName, int feedCounter, int cleanLitterCounter, int treatCounter, int petCounter, int playCounter)\r\n\t{\r\n\t\tScanner in;\r\n\t\tin = new Scanner(System.in);\r\n\t\tString answer = null;\r\n\t\tSystem.out.println(&quot;\\nDay Four&quot;);\r\n\t\tSystem.out.println(&quot;_________\\n&quot;);\r\n\t\t\r\n\t\tboolean runIt = true;\r\n\t\twhile (runIt)\r\n\t\t{\r\n\t\tchooseYourAction(bunnyName, feedCounter, cleanLitterCounter, treatCounter, petCounter, playCounter);\r\n\t\tSystem.out.println(&quot;Would you like to complete another action? Yes or no&quot;);\r\n\t\tanswer = in.nextLine();\r\n\t\t\tif(answer.charAt(0) == &#39;N&#39; || answer.charAt(0) == &#39;n&#39;)\r\n\t\t\t{\r\n\t\t\t\trunIt = false;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic static void DayFourChoice(String bunnyName, int loveCounter)\r\n\t{\r\n\t\tScanner in;\r\n\t\tin = new Scanner(System.in);\r\n\t\tString userAnswer;\r\n\t\t\tSystem.out.println(&quot;You notice &quot; + bunnyName + &quot; has been limping.&quot;);\r\n\t\t\tSystem.out.println(&quot;How do you treat &quot; + bunnyName + &quot;? Choose option 1, 2, or 3.\\n&quot;);\r\n\t\t\tSystem.out.println(&quot;1. Take &quot; + bunnyName + &quot; to the vet&quot;);\r\n\t\t\tSystem.out.println(&quot;2. Try and take care of &quot; + bunnyName + &quot;&#39;s paw by yourself.&quot;);\r\n\t\t\tSystem.out.println(&quot;3. Ignore &quot; + bunnyName + &quot;&#39;s paw&quot;);\r\n\t\t\tint num;\r\n\t\t\tnum = in.nextInt();\r\n\t\t\tswitch(num)\r\n\t\t\t{\r\n\t\t\tcase 1:\r\n\t\t\t\tloveCounter += 1;\r\n\t\t\t\r\n\t\t\tcase 2:\r\n\t\t\t\tloveCounter += 0;\r\n\t\t\t\t\r\n\t\t\tcase 3:\r\n\t\t\t\tloveCounter += 1;\r\n\t\t}\r\n\r\n\t\tSystem.out.println(&quot;Okay! Let&#39;s see how you did!&quot;);\r\n\t}\r\n\t\r\n\tpublic static void chooseYourAction(String bunnyName, int feedCounter, int cleanLitterCounter, int treatCounter, int petCounter, int playCounter)\r\n\t{\r\n\t\tScanner in;\r\n\t\tin = new Scanner(System.in);\r\n\t\tString choice;\r\n\t\t\r\n\t\t\r\n\t\tSystem.out.println(&quot;Would you like to feed &quot; + bunnyName + &quot;, pet &quot; + bunnyName + &quot;, play with &quot;);\r\n\t\tSystem.out.println(bunnyName + &quot;, clean &quot;  + bunnyName + &quot;&#39;s litter, or give &quot;  + bunnyName + &quot; a treat?&quot;);\r\n\t\tchoice = in.nextLine();\r\n\t\tYourChoice(choice, bunnyName, feedCounter, cleanLitterCounter, treatCounter, petCounter, playCounter);\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic static void YourChoice (String choice, String bunnyName, int feedCounter, int cleanLitterCounter, int treatCounter, int petCounter, int playCounter)\r\n\t{\r\n\t\tswitch (choice.charAt(0))\r\n\t\t{\r\n\t\t\r\n\t\tcase &#39;F&#39;:\r\n\t\tcase &#39;f&#39;:\r\n\t\t\t{\r\n\t\t\tfeedCounter = feedBunny(bunnyName, feedCounter);\r\n\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tswitch (choice.charAt(0))\r\n\t\t{\r\n\t\tcase &#39;C&#39;:\r\n\t\tcase &#39;c&#39;:\r\n\t\tcase &#39;L&#39;:\r\n\t\tcase &#39;l&#39;:\r\n\t\t\t{\r\n\t\t\tcleanLitterCounter = cleanLitter(bunnyName, cleanLitterCounter);\r\n\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tswitch (choice.charAt(0))\r\n\t\t{\r\n\t\tcase &#39;G&#39;:\r\n\t\tcase &#39;g&#39;:\r\n\t\tcase &#39;T&#39;:\r\n\t\tcase &#39;t&#39;:\r\n\t\t\t{\r\n\t\t\ttreatCounter = giveTreat(bunnyName, treatCounter);\r\n\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tswitch (choice.charAt(0))\r\n\t\t{\r\n\t\tcase &#39;P&#39;:\r\n\t\tcase &#39;p&#39;:\r\n\t\t\t{\r\n\t\t\t\tswitch (choice.charAt(1))\r\n\t\t\t\t{\r\n\t\t\t\tcase &#39;E&#39;:\r\n\t\t\t\tcase &#39;e&#39;:\r\n\t\t\t\t{\r\n\t\t\t\t\tpetCounter = petBunny(bunnyName, petCounter);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tcase &#39;L&#39;:\r\n\t\t\t\tcase &#39;l&#39;:\r\n\t\t\t\t{\r\n\t\t\t\t\tplayCounter = playWithBunny(bunnyName, playCounter);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic static int feedBunny(String bunnyName, int feedCounter)\r\n\t{\r\n\t\tScanner in;\r\n\t\tin = new Scanner(System.in);\r\n\t\tSystem.out.println(&quot;How many times will you feed &quot; + bunnyName + &quot; today?&quot;);\r\n\t\tfeedCounter += in.nextInt();\r\n\t\tif (feedCounter == 1)\r\n\t\t{\r\n\t\t\tfeedCounter += 0;\r\n\t\t}\r\n\t\tif(feedCounter == 2)\r\n\t\t{\r\n\t\t\tfeedCounter += 1;\r\n\t\t}\r\n\t\tif(feedCounter == 0)\r\n\t\t{\r\n\t\t\tfeedCounter += -1;\r\n\t\t}\r\n\t\tif(feedCounter &gt; 2)\r\n\t\t{\r\n\t\t\tfeedCounter += -2;\r\n\t\t}\r\n\t\treturn feedCounter;\r\n\t}\r\n\t\r\n\tpublic static int cleanLitter(String bunnyName, int cleanLitterCounter)\r\n\t{\r\n\t\tScanner in;\r\n\t\tin = new Scanner(System.in);\r\n\t\tSystem.out.println(&quot;How many times will you clean &quot; + bunnyName + &quot;&#39;s litter today?&quot;);\r\n\t\tcleanLitterCounter += in.nextInt();\r\n\t\tif (cleanLitterCounter == 1)\r\n\t\t{\r\n\t\t\tcleanLitterCounter += 1;\r\n\t\t}\r\n\t\tif(cleanLitterCounter == 2 || cleanLitterCounter == 0)\r\n\t\t{\r\n\t\t\tcleanLitterCounter += -1;\r\n\t\t}\r\n\t\treturn cleanLitterCounter;\r\n\t}\r\n\t\r\n\tpublic static int giveTreat(String bunnyName, int treatCounter)\r\n\t{\r\n\t\tScanner in;\r\n\t\tin = new Scanner(System.in);\r\n\t\tSystem.out.println(&quot;How many times will you give &quot; + bunnyName + &quot; a treat today?&quot;);\r\n\t\ttreatCounter += in.nextInt();\r\n\t\tif (treatCounter == 1)\r\n\t\t{\r\n\t\t\ttreatCounter += 1;\r\n\t\t}\r\n\t\tif(treatCounter == 2)\r\n\t\t{\r\n\t\t\ttreatCounter += -1;\r\n\t\t}\r\n\t\tif(treatCounter == 0)\r\n\t\t{\r\n\t\t\ttreatCounter += 0;\r\n\t\t}\r\n\t\tif(treatCounter &gt; 2)\r\n\t\t{\r\n\t\t\ttreatCounter += -2;\r\n\t\t}\r\n\t\treturn treatCounter;\r\n\t}\r\n\t\r\n\tpublic static int petBunny(String bunnyName, int petCounter)\r\n\t{\r\n\t\tScanner in;\r\n\t\tin = new Scanner(System.in);\r\n\t\tSystem.out.println(&quot;How many times will you pet &quot; + bunnyName + &quot; today?&quot;);\r\n\t\tpetCounter += in.nextInt();\r\n\t\tif (petCounter == 1)\r\n\t\t{\r\n\t\t\tpetCounter += 0;\r\n\t\t}\r\n\t\tif(petCounter == 2)\r\n\t\t{\r\n\t\t\tpetCounter += 1;\r\n\t\t}\r\n\t\tif(petCounter == 0 || petCounter &gt; 2)\r\n\t\t{\r\n\t\t\tpetCounter += -1;\r\n\t\t}\r\n\t\treturn petCounter;\r\n\t}\r\n\t\r\n\tpublic static int playWithBunny(String bunnyName, int playCounter)\r\n\t{\r\n\t\tScanner in;\r\n\t\tin = new Scanner(System.in);\r\n\t\tSystem.out.println(&quot;How many times will you play with &quot; + bunnyName + &quot; today?&quot;);\r\n\t\tplayCounter += in.nextInt();\r\n\t\tif (playCounter == 1)\r\n\t\t{\r\n\t\t\tplayCounter += 1;\r\n\t\t}\r\n\t\tif(playCounter == 2)\r\n\t\t{\r\n\t\t\tplayCounter += 2;\r\n\t\t}\r\n\t\tif(playCounter == 0)\r\n\t\t{\r\n\t\t\tplayCounter += -1;\r\n\t\t}\r\n\t\treturn playCounter;\r\n\t}\r\n\t\r\n\tpublic static int loveTotal (int playCounter, int feedCounter, int cleanLitterCounter, int treatCounter, int petCounter, int loveCounter)\r\n\t{\r\n\t\tloveCounter = playCounter + feedCounter + cleanLitterCounter + treatCounter + petCounter;\r\n\t\treturn loveCounter;\r\n\t}\r\n\r\n\tpublic static void results (String bunnyName, int playCounter, int feedCounter, int cleanLitterCounter, int treatCounter, int petCounter, int loveCounter)\r\n\t{\r\n\t\tint lC = loveTotal(playCounter, feedCounter, cleanLitterCounter, treatCounter, petCounter, loveCounter);\r\n\t\t\r\n\t\tSystem.out.println(lC);\r\n\t\tif(lC &gt;= 18)\r\n\t\t{\r\n\t\t\tSystem.out.println(bunnyName + &quot; comes up to you to give you a million kisses!&quot;);\r\n\t\t\tSystem.out.println(&quot;You&#39;re an amazing bunny parent! &lt;3&quot;);\r\n\t\t}\r\n\t\t\r\n\t\tif(lC &lt;= 17 &amp;&amp; lC &gt;= 0)\r\n\t\t{\r\n\t\t\tSystem.out.println(bunnyName + &quot; looks at you with a blank expression and hops the other way.&quot;);\r\n\t\t\tSystem.out.println(&quot;You&#39;re an alright bunny parent.. but more effort would be appreciated.&quot;);\r\n\t\t}\r\n\t\tif(lC &lt; 0)\r\n\t\t{\r\n\t\t\tSystem.out.println(&quot;You wake up one morning to find &quot; + bunnyName + &quot;&#39;s area vacant.&quot;);\r\n\t\t\tSystem.out.println(&quot;Maybe if you would have been a better bunny parent things would have turned out differently..&quot;);\r\n\t\t}\r\n\t}\r\n}\r\n\r\n```\r\n\r\nAt the end, I have my results printed and it won&#39;t stop printing 0. I don&#39;t know what to do and I feel like everything I&#39;ve tried hasn&#39;t been working. I initialized my variable in the public class but that didn&#39;t help anything. I also have each variable set to &quot;+=&quot; so I have no idea why it isn&#39;t adding the values each time the method is called.","title":"How Do I Prevent My Counter From Resetting Back To 0?","body":"<p>I'm creating a program that is like a pet bunny simulator. In the program, you are faced with four days (a method for each of these days) and in these days you are asked to make decisions. For example, my program will ask if you want to feed, pet, or play with the bunny. If the user types &quot;feed&quot;, a method will be called that adds to a counter keeping track of how many times the user feeds the bunny. What I think is happening is somewhere in my code, the counters keep resetting back to 0. I'm not sure where, though, or how to fix it.</p>\n<pre><code>    import java.io.*;\nimport java.util.*;\npublic class BunnyProgram \n{\n    static int playCounter;\n    static int feedCounter;\n    static int cleanLitterCounter;\n    static int treatCounter;\n    static int petCounter;\n    static int loveCounter;\n    \n    public static void main(String [] args)\n    {\n        Scanner in = new Scanner(System.in);\n        welcomeStatement();\n        String bunnyName = nameYourBun();\n        DayOne(bunnyName, feedCounter, cleanLitterCounter, treatCounter, petCounter, playCounter);\n        DayOneChoice(bunnyName, loveCounter);\n        results(bunnyName, playCounter, feedCounter, cleanLitterCounter, treatCounter, petCounter, loveCounter);\n        DayTwo(bunnyName, feedCounter, cleanLitterCounter, treatCounter, petCounter, playCounter);\n        DayTwoChoice(bunnyName, loveCounter);\n        DayThree(bunnyName, feedCounter, cleanLitterCounter, treatCounter, petCounter, playCounter);\n        DayThreeChoice(bunnyName, loveCounter);\n        DayFour(bunnyName, feedCounter, cleanLitterCounter, treatCounter, petCounter, playCounter);\n        DayFourChoice(bunnyName, loveCounter);\n        results(bunnyName, playCounter, feedCounter, cleanLitterCounter, treatCounter, petCounter, loveCounter);\n    }\n\n    public static void welcomeStatement()\n    {\n        System.out.println(&quot;Hiya!! Welcome to the bunny program. In this program, you'll receive a pet bunny!&quot;);\n        System.out.println(&quot;It's your job to make correct choices over the span of four days and prevent your bunny from running away!&quot;);\n        System.out.println(&quot;It is highly recommended to complete every possible action for every day.&quot;);\n    }\n    \n    public static String nameYourBun()\n    {\n        Scanner in;\n        in = new Scanner(System.in);\n        String bunnyName;\n        System.out.println(&quot;\\nPlease enter a name for your bunny!&quot;);\n        bunnyName = in.nextLine(); \n        System.out.println(&quot;Aww, so cute! Welcome to the (digital) world, &quot; + bunnyName + &quot;!!&quot;);\n        System.out.println(&quot;Let's get started! :)&quot;);\n        return bunnyName;\n    }\n    \n    public static void DayOne(String bunnyName, int feedCounter, int cleanLitterCounter, int treatCounter, int petCounter, int playCounter)\n    {\n        Scanner in;\n        in = new Scanner(System.in);\n        String answer = null;\n        System.out.println(&quot;\\nDay One&quot;);\n        System.out.println(&quot;_________\\n&quot;);\n        \n        boolean runIt = true;\n        while (runIt)\n        {\n        chooseYourAction(bunnyName, feedCounter, cleanLitterCounter, treatCounter, petCounter, playCounter);\n        System.out.println(&quot;Would you like to complete another action? Yes or no&quot;);\n        answer = in.nextLine();\n            if(answer.charAt(0) == 'N' || answer.charAt(0) == 'n')\n            {\n                runIt = false;\n            }\n        }\n    }\n    \n    public static void DayOneChoice(String bunnyName, int loveCounter)\n    {\n        Scanner in;\n        in = new Scanner(System.in);\n        String userAnswer;\n        int Situation;\n        Situation = (int) (Math.random() * 3) + 1;\n        if (Situation == 1)\n        {\n            System.out.println(&quot;You watch &quot; + bunnyName + &quot; look longily outside.&quot;);\n            System.out.println(&quot;Do you let &quot; + bunnyName + &quot; outside? Yes or no&quot;);\n            userAnswer = in.nextLine();\n            if(userAnswer.charAt(0) == 'Y' || userAnswer.charAt(0) == 'y')\n            {\n                loveCounter = +1;\n            }\n            if(userAnswer.charAt(0) == 'N' || userAnswer.charAt(0) == 'n')\n            {\n                loveCounter = -1;\n            }\n        }\n        if (Situation == 2)\n        {\n            System.out.println(bunnyName + &quot; looks outside with no particular interest or disinterest.&quot;);\n            System.out.println(&quot;Do you let &quot; + bunnyName + &quot; outside? Yes or no&quot;);\n            userAnswer = in.nextLine();\n            if(userAnswer.charAt(0) == 'Y' || userAnswer.charAt(0) == 'y')\n            {\n                loveCounter += 0;\n            }\n            if(userAnswer.charAt(0) == 'N' || userAnswer.charAt(0) == 'n')\n            {\n                loveCounter += 0;\n            }\n        }\n        if (Situation == 3)\n        {\n            System.out.println(&quot;You see &quot; + bunnyName + &quot; look outside with immense fear.&quot;);\n            System.out.println(&quot;Do you let &quot; + bunnyName + &quot; outside? Yes or no&quot;);\n            userAnswer = in.nextLine();\n            if(userAnswer.charAt(0) == 'Y' || userAnswer.charAt(0) == 'y')\n            {\n                loveCounter += -1;\n            }\n            if(userAnswer.charAt(0) == 'N' || userAnswer.charAt(0) == 'n')\n            {\n                loveCounter += 1;\n            }\n        }\n\n        System.out.println(&quot;Okay! Let's go to the next day!&quot;);\n        \n    }\n\n    public static void DayTwo(String bunnyName, int feedCounter, int cleanLitterCounter, int treatCounter, int petCounter, int playCounter)\n    {\n        Scanner in;\n        in = new Scanner(System.in);\n        String answer = null;\n        System.out.println(&quot;\\nDay Two&quot;);\n        System.out.println(&quot;_________\\n&quot;);\n        \n        boolean runIt = true;\n        while (runIt)\n        {\n        chooseYourAction(bunnyName, feedCounter, cleanLitterCounter, treatCounter, petCounter, playCounter);\n        System.out.println(&quot;Would you like to complete another action? Yes or no&quot;);\n        answer = in.nextLine();\n            if(answer.charAt(0) == 'N' || answer.charAt(0) == 'n')\n            {\n                runIt = false;\n            }\n        }\n    }\n    \n    public static void DayTwoChoice(String bunnyName, int loveCounter)\n    {\n        Scanner in;\n        in = new Scanner(System.in);\n        String userAnswer;\n            System.out.println(bunnyName + &quot; has continuously been staring over your shoulder at an ad for a new toy.&quot;);\n            System.out.println(&quot;Do you buy &quot; + bunnyName + &quot; the toy? Choose option 1, 2, or 3.\\n&quot;);\n            System.out.println(&quot;1. Buy &quot; + bunnyName + &quot; the toy&quot;);\n            System.out.println(&quot;2. Buy &quot; + bunnyName + &quot; a cheaper toy&quot;);\n            System.out.println(&quot;3. Don't buy &quot; + bunnyName + &quot; any toys&quot;);\n            int num;\n            num = in.nextInt();\n            switch(num)\n            {\n            case 1:\n                loveCounter += 1;\n            \n            case 2:\n                loveCounter += 0;\n                \n            case 3:\n                loveCounter += -1;\n        }\n\n        System.out.println(&quot;Okay! Let's go to the next day!&quot;);\n        \n    }\n    \n    public static void DayThree(String bunnyName, int feedCounter, int cleanLitterCounter, int treatCounter, int petCounter, int playCounter)\n    {\n        Scanner in;\n        in = new Scanner(System.in);\n        String answer = null;\n        System.out.println(&quot;\\nDay Three&quot;);\n        System.out.println(&quot;_________\\n&quot;);\n        \n        boolean runIt = true;\n        while (runIt)\n        {\n        chooseYourAction(bunnyName, feedCounter, cleanLitterCounter, treatCounter, petCounter, playCounter);\n        System.out.println(&quot;Would you like to complete another action? Yes or no&quot;);\n        answer = in.nextLine();\n            if(answer.charAt(0) == 'N' || answer.charAt(0) == 'n')\n            {\n                runIt = false;\n            }\n        }\n    }\n    \n    public static void DayThreeChoice(String bunnyName, int loveCounter)\n    {\n        Scanner in;\n        in = new Scanner(System.in);\n        String userAnswer;\n        int Situation;\n        Situation = (int) (Math.random() * 3) + 1;\n        if (Situation == 1)\n        {\n            System.out.println(bunnyName + &quot; has been jumping onto your bed a lot recently.&quot;);\n            System.out.println(&quot;Do you set &quot; + bunnyName + &quot; down on your bed to sleep next to you at night? Yes or no&quot;);\n            userAnswer = in.nextLine();\n            if(userAnswer.charAt(0) == 'Y' || userAnswer.charAt(0) == 'y')\n            {\n                loveCounter = +1;\n            }\n            if(userAnswer.charAt(0) == 'N' || userAnswer.charAt(0) == 'n')\n            {\n                loveCounter = -1;\n            }\n        }\n        if (Situation == 2)\n        {\n            System.out.println(&quot;You catch &quot; + bunnyName + &quot; sleeping on your bed sometimes, and in their own bed other times.&quot;);\n            System.out.println(&quot;Do you set &quot; + bunnyName + &quot; down on your bed to sleep next to you at night? Yes or no&quot;);\n            userAnswer = in.nextLine();\n            if(userAnswer.charAt(0) == 'Y' || userAnswer.charAt(0) == 'y')\n            {\n                loveCounter += 0;\n            }\n            if(userAnswer.charAt(0) == 'N' || userAnswer.charAt(0) == 'n')\n            {\n                loveCounter += 0;\n            }\n        }\n        if (Situation == 3)\n        {\n            System.out.println(bunnyName + &quot; absolutely loves their bed and seems the most comfortable there.&quot;);\n            System.out.println(&quot;Do you set &quot; + bunnyName + &quot; down on your bed to sleep next to you at night? Yes or no&quot;);\n            userAnswer = in.nextLine();\n            if(userAnswer.charAt(0) == 'Y' || userAnswer.charAt(0) == 'y')\n            {\n                loveCounter += -1;\n            }\n            if(userAnswer.charAt(0) == 'N' || userAnswer.charAt(0) == 'n')\n            {\n                loveCounter += 1;\n            }\n        }\n\n        System.out.println(&quot;Okay! Let's go to the final day!&quot;);\n        \n    }\n    \n    public static void DayFour(String bunnyName, int feedCounter, int cleanLitterCounter, int treatCounter, int petCounter, int playCounter)\n    {\n        Scanner in;\n        in = new Scanner(System.in);\n        String answer = null;\n        System.out.println(&quot;\\nDay Four&quot;);\n        System.out.println(&quot;_________\\n&quot;);\n        \n        boolean runIt = true;\n        while (runIt)\n        {\n        chooseYourAction(bunnyName, feedCounter, cleanLitterCounter, treatCounter, petCounter, playCounter);\n        System.out.println(&quot;Would you like to complete another action? Yes or no&quot;);\n        answer = in.nextLine();\n            if(answer.charAt(0) == 'N' || answer.charAt(0) == 'n')\n            {\n                runIt = false;\n            }\n        }\n    }\n    \n    public static void DayFourChoice(String bunnyName, int loveCounter)\n    {\n        Scanner in;\n        in = new Scanner(System.in);\n        String userAnswer;\n            System.out.println(&quot;You notice &quot; + bunnyName + &quot; has been limping.&quot;);\n            System.out.println(&quot;How do you treat &quot; + bunnyName + &quot;? Choose option 1, 2, or 3.\\n&quot;);\n            System.out.println(&quot;1. Take &quot; + bunnyName + &quot; to the vet&quot;);\n            System.out.println(&quot;2. Try and take care of &quot; + bunnyName + &quot;'s paw by yourself.&quot;);\n            System.out.println(&quot;3. Ignore &quot; + bunnyName + &quot;'s paw&quot;);\n            int num;\n            num = in.nextInt();\n            switch(num)\n            {\n            case 1:\n                loveCounter += 1;\n            \n            case 2:\n                loveCounter += 0;\n                \n            case 3:\n                loveCounter += 1;\n        }\n\n        System.out.println(&quot;Okay! Let's see how you did!&quot;);\n    }\n    \n    public static void chooseYourAction(String bunnyName, int feedCounter, int cleanLitterCounter, int treatCounter, int petCounter, int playCounter)\n    {\n        Scanner in;\n        in = new Scanner(System.in);\n        String choice;\n        \n        \n        System.out.println(&quot;Would you like to feed &quot; + bunnyName + &quot;, pet &quot; + bunnyName + &quot;, play with &quot;);\n        System.out.println(bunnyName + &quot;, clean &quot;  + bunnyName + &quot;'s litter, or give &quot;  + bunnyName + &quot; a treat?&quot;);\n        choice = in.nextLine();\n        YourChoice(choice, bunnyName, feedCounter, cleanLitterCounter, treatCounter, petCounter, playCounter);\n        \n    }\n    \n    public static void YourChoice (String choice, String bunnyName, int feedCounter, int cleanLitterCounter, int treatCounter, int petCounter, int playCounter)\n    {\n        switch (choice.charAt(0))\n        {\n        \n        case 'F':\n        case 'f':\n            {\n            feedCounter = feedBunny(bunnyName, feedCounter);\n            break;\n            }\n        }\n        \n        switch (choice.charAt(0))\n        {\n        case 'C':\n        case 'c':\n        case 'L':\n        case 'l':\n            {\n            cleanLitterCounter = cleanLitter(bunnyName, cleanLitterCounter);\n            break;\n            }\n        }\n        \n        switch (choice.charAt(0))\n        {\n        case 'G':\n        case 'g':\n        case 'T':\n        case 't':\n            {\n            treatCounter = giveTreat(bunnyName, treatCounter);\n            break;\n            }\n        }\n        \n        switch (choice.charAt(0))\n        {\n        case 'P':\n        case 'p':\n            {\n                switch (choice.charAt(1))\n                {\n                case 'E':\n                case 'e':\n                {\n                    petCounter = petBunny(bunnyName, petCounter);\n                    break;\n                }\n                \n                case 'L':\n                case 'l':\n                {\n                    playCounter = playWithBunny(bunnyName, playCounter);\n                    break;\n                }\n                    \n                }\n            }\n        }\n    }\n    \n    public static int feedBunny(String bunnyName, int feedCounter)\n    {\n        Scanner in;\n        in = new Scanner(System.in);\n        System.out.println(&quot;How many times will you feed &quot; + bunnyName + &quot; today?&quot;);\n        feedCounter += in.nextInt();\n        if (feedCounter == 1)\n        {\n            feedCounter += 0;\n        }\n        if(feedCounter == 2)\n        {\n            feedCounter += 1;\n        }\n        if(feedCounter == 0)\n        {\n            feedCounter += -1;\n        }\n        if(feedCounter &gt; 2)\n        {\n            feedCounter += -2;\n        }\n        return feedCounter;\n    }\n    \n    public static int cleanLitter(String bunnyName, int cleanLitterCounter)\n    {\n        Scanner in;\n        in = new Scanner(System.in);\n        System.out.println(&quot;How many times will you clean &quot; + bunnyName + &quot;'s litter today?&quot;);\n        cleanLitterCounter += in.nextInt();\n        if (cleanLitterCounter == 1)\n        {\n            cleanLitterCounter += 1;\n        }\n        if(cleanLitterCounter == 2 || cleanLitterCounter == 0)\n        {\n            cleanLitterCounter += -1;\n        }\n        return cleanLitterCounter;\n    }\n    \n    public static int giveTreat(String bunnyName, int treatCounter)\n    {\n        Scanner in;\n        in = new Scanner(System.in);\n        System.out.println(&quot;How many times will you give &quot; + bunnyName + &quot; a treat today?&quot;);\n        treatCounter += in.nextInt();\n        if (treatCounter == 1)\n        {\n            treatCounter += 1;\n        }\n        if(treatCounter == 2)\n        {\n            treatCounter += -1;\n        }\n        if(treatCounter == 0)\n        {\n            treatCounter += 0;\n        }\n        if(treatCounter &gt; 2)\n        {\n            treatCounter += -2;\n        }\n        return treatCounter;\n    }\n    \n    public static int petBunny(String bunnyName, int petCounter)\n    {\n        Scanner in;\n        in = new Scanner(System.in);\n        System.out.println(&quot;How many times will you pet &quot; + bunnyName + &quot; today?&quot;);\n        petCounter += in.nextInt();\n        if (petCounter == 1)\n        {\n            petCounter += 0;\n        }\n        if(petCounter == 2)\n        {\n            petCounter += 1;\n        }\n        if(petCounter == 0 || petCounter &gt; 2)\n        {\n            petCounter += -1;\n        }\n        return petCounter;\n    }\n    \n    public static int playWithBunny(String bunnyName, int playCounter)\n    {\n        Scanner in;\n        in = new Scanner(System.in);\n        System.out.println(&quot;How many times will you play with &quot; + bunnyName + &quot; today?&quot;);\n        playCounter += in.nextInt();\n        if (playCounter == 1)\n        {\n            playCounter += 1;\n        }\n        if(playCounter == 2)\n        {\n            playCounter += 2;\n        }\n        if(playCounter == 0)\n        {\n            playCounter += -1;\n        }\n        return playCounter;\n    }\n    \n    public static int loveTotal (int playCounter, int feedCounter, int cleanLitterCounter, int treatCounter, int petCounter, int loveCounter)\n    {\n        loveCounter = playCounter + feedCounter + cleanLitterCounter + treatCounter + petCounter;\n        return loveCounter;\n    }\n\n    public static void results (String bunnyName, int playCounter, int feedCounter, int cleanLitterCounter, int treatCounter, int petCounter, int loveCounter)\n    {\n        int lC = loveTotal(playCounter, feedCounter, cleanLitterCounter, treatCounter, petCounter, loveCounter);\n        \n        System.out.println(lC);\n        if(lC &gt;= 18)\n        {\n            System.out.println(bunnyName + &quot; comes up to you to give you a million kisses!&quot;);\n            System.out.println(&quot;You're an amazing bunny parent! &lt;3&quot;);\n        }\n        \n        if(lC &lt;= 17 &amp;&amp; lC &gt;= 0)\n        {\n            System.out.println(bunnyName + &quot; looks at you with a blank expression and hops the other way.&quot;);\n            System.out.println(&quot;You're an alright bunny parent.. but more effort would be appreciated.&quot;);\n        }\n        if(lC &lt; 0)\n        {\n            System.out.println(&quot;You wake up one morning to find &quot; + bunnyName + &quot;'s area vacant.&quot;);\n            System.out.println(&quot;Maybe if you would have been a better bunny parent things would have turned out differently..&quot;);\n        }\n    }\n}\n\n</code></pre>\n<p>At the end, I have my results printed and it won't stop printing 0. I don't know what to do and I feel like everything I've tried hasn't been working. I initialized my variable in the public class but that didn't help anything. I also have each variable set to &quot;+=&quot; so I have no idea why it isn't adding the values each time the method is called.</p>\n"},{"tags":["java","types"],"comments":[{"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":2,"creation_date":1671398112,"post_id":74844438,"comment_id":132085683,"body_markdown":"The `java.util` Date-Time API and their formatting API, `SimpleDateFormat` are outdated and error-prone. It is recommended to stop using them completely and switch to the [modern Date-Time API](https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html). Learn more about the modern Date-Time API from [Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html).","body":"The <code>java.util</code> Date-Time API and their formatting API, <code>SimpleDateFormat</code> are outdated and error-prone. It is recommended to stop using them completely and switch to the <a href=\"https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html\" rel=\"nofollow noreferrer\">modern Date-Time API</a>. Learn more about the modern Date-Time API from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Trail: Date Time</a>."}],"owner":{"account_id":14107418,"reputation":482,"user_id":10191125,"display_name":"91StarSky"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1671400354,"answer_count":0,"score":0,"last_activity_date":1671397784,"creation_date":1671397784,"question_id":74844438,"body_markdown":"I was writing a purging logic from a `HashSet` to keep last 2 days&#39; data :-\r\n\r\n\t\twhile(mscDatesIterator.hasNext()) {\r\n\t\t\tString entry = (String) mscDatesIterator.next();\r\n\t\t\tDate currentDate = SystemTime.getCurrentTime();\r\n\t\t\tString currentDateString = subscriberProfile.getSubscriberID() + sdf.format(currentDate);\r\n\t\t\tInteger currentStringMonth = Integer.parseInt(currentDateString.substring(currentDateString.length() - 4, currentDateString.length() - 2));\r\n\t\t\tInteger entryStringMonth = Integer.parseInt(entry.substring(entry.length() - 4, entry.length() - 2));\r\n\t\t\tInteger currentStringDay = Integer.parseInt(currentDateString.substring(currentDateString.length() - 2, currentDateString.length()));\r\n\t\t\tInteger entryStringDay = Integer.parseInt(entry.substring(entry.length() - 2, entry.length()));\r\n\t\t\tInteger currentStringYear = Integer.parseInt(currentDateString.substring(currentDateString.length() - 8, currentDateString.length() - 4));\r\n\t\t\tInteger entryStringYear = Integer.parseInt(entry.substring(entry.length() - 8, entry.length() - 4));\r\n\t\t\tif((!currentStringYear.equals(entryStringYear)) || (!currentStringMonth.equals(entryStringMonth)) || (currentStringDay - entryStringDay &gt; 2)) \r\n\t\t\t\tmscDatesIterator.remove();\r\n\t\t}\r\n\r\nThis works just fine, but when I use `currentStringYear != entryStringYear`, it returns `true` even though both values are 2022.\r\nAlso, if I change the dataType from class `Integer` to primitive `int`, `currentStringYear != entryStringYear` returns false correctly.\r\n\r\nI don&#39;t understand this behavior, any light shed on this will be appreciated.","title":"Why Does Integer and int behave differently when parsed from a String","body":"<p>I was writing a purging logic from a <code>HashSet</code> to keep last 2 days' data :-</p>\n<pre><code>    while(mscDatesIterator.hasNext()) {\n        String entry = (String) mscDatesIterator.next();\n        Date currentDate = SystemTime.getCurrentTime();\n        String currentDateString = subscriberProfile.getSubscriberID() + sdf.format(currentDate);\n        Integer currentStringMonth = Integer.parseInt(currentDateString.substring(currentDateString.length() - 4, currentDateString.length() - 2));\n        Integer entryStringMonth = Integer.parseInt(entry.substring(entry.length() - 4, entry.length() - 2));\n        Integer currentStringDay = Integer.parseInt(currentDateString.substring(currentDateString.length() - 2, currentDateString.length()));\n        Integer entryStringDay = Integer.parseInt(entry.substring(entry.length() - 2, entry.length()));\n        Integer currentStringYear = Integer.parseInt(currentDateString.substring(currentDateString.length() - 8, currentDateString.length() - 4));\n        Integer entryStringYear = Integer.parseInt(entry.substring(entry.length() - 8, entry.length() - 4));\n        if((!currentStringYear.equals(entryStringYear)) || (!currentStringMonth.equals(entryStringMonth)) || (currentStringDay - entryStringDay &gt; 2)) \n            mscDatesIterator.remove();\n    }\n</code></pre>\n<p>This works just fine, but when I use <code>currentStringYear != entryStringYear</code>, it returns <code>true</code> even though both values are 2022.\nAlso, if I change the dataType from class <code>Integer</code> to primitive <code>int</code>, <code>currentStringYear != entryStringYear</code> returns false correctly.</p>\n<p>I don't understand this behavior, any light shed on this will be appreciated.</p>\n"},{"tags":["java","date-format"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1570171822,"post_id":2138085,"comment_id":102836512,"body_markdown":"For anyone reading this in 2019 or later, the `SimpleDateFormat` class used in a couple of the answers is notoriously troublesome and long outdated. Avoid it. Instead use [the short answer by Mark Jeronimus](https://stackoverflow.com/a/49667638/5772882) demonstrating the use of [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/).","body":"For anyone reading this in 2019 or later, the <code>SimpleDateFormat</code> class used in a couple of the answers is notoriously troublesome and long outdated. Avoid it. Instead use <a href=\"https://stackoverflow.com/a/49667638/5772882\">the short answer by Mark Jeronimus</a> demonstrating the use of <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>."}],"answers":[{"tags":[],"owner":{"account_id":14472,"reputation":75219,"user_id":29809,"accept_rate":90,"display_name":"R Samuel Klatchko"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1498683472,"creation_date":1264492581,"answer_id":2138106,"question_id":2138085,"body_markdown":"You can use String.format as documented in [java.util.Formatter][1]:\r\n\r\n    Calendar c = ...;\r\n    String s = String.format(&quot;%tY year&quot;, c);\r\n    // -&gt; s == &quot;2010 year&quot; or whatever the year actually is\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Formatter.html","title":"Java date format - including additional characters","body":"<p>You can use String.format as documented in <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Formatter.html\" rel=\"nofollow noreferrer\">java.util.Formatter</a>:</p>\n\n<pre><code>Calendar c = ...;\nString s = String.format(\"%tY year\", c);\n// -&gt; s == \"2010 year\" or whatever the year actually is\n</code></pre>\n"},{"tags":[],"owner":{"account_id":90778,"reputation":19457,"user_id":249699,"accept_rate":88,"display_name":"Javi"},"down_vote_count":5,"up_vote_count":1,"is_accepted":false,"score":-4,"last_activity_date":1264492952,"creation_date":1264492952,"answer_id":2138123,"question_id":2138085,"body_markdown":"java.text.SimpleDateFormat\r\n\r\n    SimpleDateFormat formatter = new SimpleDateFormat(&quot;yyyy/MM/dd&quot;); \r\n    String formattedDate = formatter.format(date);\r\n\r\nYou&#39;ll get more info here [link text][1]\r\n\r\n\r\n  [1]: http://java.sun.com/j2se/1.4.2/docs/api/java/text/SimpleDateFormat.html","title":"Java date format - including additional characters","body":"<p>java.text.SimpleDateFormat</p>\n\n<pre><code>SimpleDateFormat formatter = new SimpleDateFormat(\"yyyy/MM/dd\"); \nString formattedDate = formatter.format(date);\n</code></pre>\n\n<p>You'll get more info here <a href=\"http://java.sun.com/j2se/1.4.2/docs/api/java/text/SimpleDateFormat.html\" rel=\"nofollow noreferrer\">link text</a></p>\n"},{"tags":[],"owner":{"account_id":8326,"reputation":258545,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"down_vote_count":0,"up_vote_count":195,"is_accepted":true,"score":195,"last_activity_date":1497370827,"creation_date":1264493119,"answer_id":2138135,"question_id":2138085,"body_markdown":"Sure, with the [SimpleDateFormat][1] you can include literal strings:\r\n\r\n&gt; Within date and time pattern strings, unquoted letters from &#39;A&#39; to &#39;Z&#39; and from &#39;a&#39; to &#39;z&#39; are interpreted as pattern letters representing the components of a date or time string. Text can be quoted using single quotes (&#39;) to avoid interpretation. &quot;&#39;&#39;&quot; represents a single quote. All other characters are not interpreted; they&#39;re simply copied into the output string during formatting or matched against the input string during parsing. \r\n\r\n     &quot;hh &#39;o&#39;&#39;clock&#39; a, zzzz&quot;  \t12 o&#39;clock PM, Pacific Daylight Time\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/text/SimpleDateFormat.html","title":"Java date format - including additional characters","body":"<p>Sure, with the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/text/SimpleDateFormat.html\" rel=\"noreferrer\">SimpleDateFormat</a> you can include literal strings:</p>\n\n<blockquote>\n  <p>Within date and time pattern strings, unquoted letters from 'A' to 'Z' and from 'a' to 'z' are interpreted as pattern letters representing the components of a date or time string. Text can be quoted using single quotes (') to avoid interpretation. \"''\" represents a single quote. All other characters are not interpreted; they're simply copied into the output string during formatting or matched against the input string during parsing. </p>\n</blockquote>\n\n<pre><code> \"hh 'o''clock' a, zzzz\"    12 o'clock PM, Pacific Daylight Time\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1047596,"reputation":9325,"user_id":1052284,"accept_rate":44,"display_name":"Mark Jeronimus"},"down_vote_count":0,"up_vote_count":39,"is_accepted":false,"score":39,"last_activity_date":1522916943,"creation_date":1522916943,"answer_id":49667638,"question_id":2138085,"body_markdown":"Just for completeness, Java 8&#39;s `DateTimeFormatter` also supports this:\r\n\r\n    DateTimeFormatter.ofPattern(&quot;yyyy &#39;year&#39;&quot;);","title":"Java date format - including additional characters","body":"<p>Just for completeness, Java 8's <code>DateTimeFormatter</code> also supports this:</p>\n\n<pre><code>DateTimeFormatter.ofPattern(\"yyyy 'year'\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1570221561,"creation_date":1570181775,"answer_id":58233707,"question_id":2138085,"body_markdown":"## java.time\r\n\r\n[Mark Jeronimus said it][1] already. I am fleshing it out a bit more. Just put the text to be printed literally inside single quotes.\r\n\r\n\t\tDateTimeFormatter yearFormatter = DateTimeFormatter.ofPattern(&quot;yyyy &#39;year&#39;&quot;);\r\n\t\tSystem.out.println(LocalDate.of(2010, Month.FEBRUARY, 3).format(yearFormatter));\r\n\t\tSystem.out.println(Year.of(2010).format(yearFormatter));\r\n\t\tSystem.out.println(ZonedDateTime.now(ZoneId.of(&quot;Europe/Vilnius&quot;)).format(yearFormatter));\r\n\r\nOutput when running just now:\r\n\r\n&gt;     2010 year\r\n&gt;     2010 year\r\n&gt;     2019 year\r\n\r\nIf you are using a `DateTimeFormatterBuilder` and its `appendPattern` method, use single quotes in the same way. Or use its `appendLiteral` method instead and no single quotes.\r\n\r\nHow do we put a single quote in the format, then? Two single quotes produce one. It doesn’t matter if the double single quote is inside single quotes or not:\r\n\r\n\t\tDateTimeFormatter formatterWithSingleQuote = DateTimeFormatter.ofPattern(&quot;H mm&#39;&#39; ss\\&quot;&quot;);\r\n\t\tSystem.out.println(LocalTime.now(ZoneId.of(&quot;Europe/London&quot;)).format(formatterWithSingleQuote));\r\n\r\n&gt; 10 28&#39; 34&quot;\r\n\r\n\t\tDateTimeFormatter formatterWithSingleQuoteInsideSingleQuotes\r\n\t\t\t\t= DateTimeFormatter.ofPattern(&quot;hh &#39;o&#39;&#39;clock&#39; a, zzzz&quot;, Locale.ENGLISH);\r\n\t\tSystem.out.println(ZonedDateTime.now(ZoneId.of(&quot;America/Los_Angeles&quot;))\r\n\t\t\t\t.format(formatterWithSingleQuoteInsideSingleQuotes));\r\n\r\n&gt; 02 o&#39;clock AM, Pacific Daylight Time\r\n\r\nAll of the formatters above can be used for parsing too. For example:\r\n\r\n\t\tLocalTime time = LocalTime.parse(&quot;16 43&#39; 56\\&quot;&quot;, formatterWithSingleQuote);\r\n\t\tSystem.out.println(time);\r\n\r\n&gt; 16:43:56\r\n\r\nThe `SimpleDateFormat` class used when this question was asked nearly 10 years ago is notoriously troublesome and long outdated. I recommend that instead you use java.time, the modern Java date and time API. Which is why I demonstrate just that.\r\n\r\n## Links\r\n\r\n - [Oracle tutorial: Date Time](https://docs.oracle.com/javase/tutorial/datetime/) explaining how to use java.time.\r\n - [Documentation of `DateTimeFormatter`](https://docs.oracle.com/javase/10/docs/api/java/time/format/DateTimeFormatter.html)\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/49667638/642706","title":"Java date format - including additional characters","body":"<h2>java.time</h2>\n\n<p><a href=\"https://stackoverflow.com/a/49667638/642706\">Mark Jeronimus said it</a> already. I am fleshing it out a bit more. Just put the text to be printed literally inside single quotes.</p>\n\n<pre><code>    DateTimeFormatter yearFormatter = DateTimeFormatter.ofPattern(\"yyyy 'year'\");\n    System.out.println(LocalDate.of(2010, Month.FEBRUARY, 3).format(yearFormatter));\n    System.out.println(Year.of(2010).format(yearFormatter));\n    System.out.println(ZonedDateTime.now(ZoneId.of(\"Europe/Vilnius\")).format(yearFormatter));\n</code></pre>\n\n<p>Output when running just now:</p>\n\n<blockquote>\n<pre><code>2010 year\n2010 year\n2019 year\n</code></pre>\n</blockquote>\n\n<p>If you are using a <code>DateTimeFormatterBuilder</code> and its <code>appendPattern</code> method, use single quotes in the same way. Or use its <code>appendLiteral</code> method instead and no single quotes.</p>\n\n<p>How do we put a single quote in the format, then? Two single quotes produce one. It doesn’t matter if the double single quote is inside single quotes or not:</p>\n\n<pre><code>    DateTimeFormatter formatterWithSingleQuote = DateTimeFormatter.ofPattern(\"H mm'' ss\\\"\");\n    System.out.println(LocalTime.now(ZoneId.of(\"Europe/London\")).format(formatterWithSingleQuote));\n</code></pre>\n\n<blockquote>\n  <p>10 28' 34\"</p>\n</blockquote>\n\n<pre><code>    DateTimeFormatter formatterWithSingleQuoteInsideSingleQuotes\n            = DateTimeFormatter.ofPattern(\"hh 'o''clock' a, zzzz\", Locale.ENGLISH);\n    System.out.println(ZonedDateTime.now(ZoneId.of(\"America/Los_Angeles\"))\n            .format(formatterWithSingleQuoteInsideSingleQuotes));\n</code></pre>\n\n<blockquote>\n  <p>02 o'clock AM, Pacific Daylight Time</p>\n</blockquote>\n\n<p>All of the formatters above can be used for parsing too. For example:</p>\n\n<pre><code>    LocalTime time = LocalTime.parse(\"16 43' 56\\\"\", formatterWithSingleQuote);\n    System.out.println(time);\n</code></pre>\n\n<blockquote>\n  <p>16:43:56</p>\n</blockquote>\n\n<p>The <code>SimpleDateFormat</code> class used when this question was asked nearly 10 years ago is notoriously troublesome and long outdated. I recommend that instead you use java.time, the modern Java date and time API. Which is why I demonstrate just that.</p>\n\n<h2>Links</h2>\n\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"noreferrer\">Oracle tutorial: Date Time</a> explaining how to use java.time.</li>\n<li><a href=\"https://docs.oracle.com/javase/10/docs/api/java/time/format/DateTimeFormatter.html\" rel=\"noreferrer\">Documentation of <code>DateTimeFormatter</code></a></li>\n</ul>\n"}],"owner":{"account_id":12807,"reputation":3263,"user_id":25413,"accept_rate":91,"display_name":"Sejanus"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65357,"favorite_count":0,"down_vote_count":0,"up_vote_count":116,"accepted_answer_id":2138135,"answer_count":5,"score":116,"last_activity_date":1671396945,"creation_date":1264492237,"question_id":2138085,"body_markdown":"Is there an equivalent to php date() style formatting in Java? I mean, in php I can backslash-escape characters to have them treated literally. I.e. **yyyy \\y\\e\\a\\r** would become **2010 year**. I did not find anything similar in Java, all examples deal only with built-in date formats. \r\n\r\nIn particular, I deal with [JCalendar][1] date pickers and their **dateFormatString** property.\r\n\r\nI need it because in my locale it is required to write all sorts of additional stuff in date format, like d. (for day) after days part, m. (for years) after years part and so on.\r\n\r\nAt the worst case I could use string replace or regexp but maybe there&#39;s a simpler way?\r\n\r\n\r\n  [1]: http://www.toedter.com/en/jcalendar/index.html","title":"Java date format - including additional characters","body":"<p>Is there an equivalent to php date() style formatting in Java? I mean, in php I can backslash-escape characters to have them treated literally. I.e. <strong>yyyy \\y\\e\\a\\r</strong> would become <strong>2010 year</strong>. I did not find anything similar in Java, all examples deal only with built-in date formats.</p>\n<p>In particular, I deal with <a href=\"http://www.toedter.com/en/jcalendar/index.html\" rel=\"noreferrer\">JCalendar</a> date pickers and their <strong>dateFormatString</strong> property.</p>\n<p>I need it because in my locale it is required to write all sorts of additional stuff in date format, like d. (for day) after days part, m. (for years) after years part and so on.</p>\n<p>At the worst case I could use string replace or regexp but maybe there's a simpler way?</p>\n"},{"tags":["java","android","kotlin"],"answers":[{"tags":[],"owner":{"account_id":5282904,"reputation":18287,"user_id":4217682,"accept_rate":50,"display_name":"snachmsm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671396656,"creation_date":1671396656,"answer_id":74844324,"question_id":74844292,"body_markdown":"if you are talking about position of cursor then use\r\n\r\n    int cursorPosition = et.getSelectionStart();\r\n\r\nafter taking position of cursor you should take whole text and apply desired effect. for example split text by white characters (spaces, enters), calculate on which word cursor is pointing and add/remove bold spannable\r\n\r\nnote that [`et.getText()` returns `Editable`](https://developer.android.com/reference/android/widget/EditText#getText()), not just usual `String`. So you can do some work on this class, e.g. check if word with cursor inside is already bold or other spannable applied","title":"Android get focused word from edittext","body":"<p>if you are talking about position of cursor then use</p>\n<pre><code>int cursorPosition = et.getSelectionStart();\n</code></pre>\n<p>after taking position of cursor you should take whole text and apply desired effect. for example split text by white characters (spaces, enters), calculate on which word cursor is pointing and add/remove bold spannable</p>\n<p>note that <a href=\"https://developer.android.com/reference/android/widget/EditText#getText()\" rel=\"nofollow noreferrer\"><code>et.getText()</code> returns <code>Editable</code></a>, not just usual <code>String</code>. So you can do some work on this class, e.g. check if word with cursor inside is already bold or other spannable applied</p>\n"}],"owner":{"display_name":"user19516326"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74844324,"answer_count":1,"score":0,"last_activity_date":1671396656,"creation_date":1671396447,"question_id":74844292,"body_markdown":"Lets say I have an Android edittext with sentence: &quot;I like Stackoverflow very much&quot;. Then I use my keyboard to be focused on the word Stackoverflow and now I click the button in my app that adds / removes for example bold effect for this specific word.\r\n\r\nIs it possible to do that?\r\n\r\nThank you in advance. ","title":"Android get focused word from edittext","body":"<p>Lets say I have an Android edittext with sentence: &quot;I like Stackoverflow very much&quot;. Then I use my keyboard to be focused on the word Stackoverflow and now I click the button in my app that adds / removes for example bold effect for this specific word.</p>\n<p>Is it possible to do that?</p>\n<p>Thank you in advance.</p>\n"},{"tags":["java","file","stream","java-stream"],"comments":[{"owner":{"account_id":25534785,"reputation":532,"user_id":19322069,"display_name":"access violation"},"score":0,"creation_date":1671394686,"post_id":74844082,"comment_id":132085068,"body_markdown":"Why the insistence on using streams?  There are simpler approaches.","body":"Why the insistence on using streams?  There are simpler approaches."}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1671395578,"creation_date":1671395273,"answer_id":74844172,"question_id":74844082,"body_markdown":"&gt; handle all the data before the Line &quot;---&quot;\r\n\r\nTo implement this condition you can use Java 9 [`Stream.takeWhile()`][takeWhile]. It expects a `Predicate` as an argument. The stream processing would terminate after the first element for which the given predicate would be evaluated to `false`.\r\n\r\n```\r\nreturn Files.lines(Path.of(path))\r\n    .takeWhile(line -&gt; !&quot;---&quot;.equals(line))\r\n    // other logic\r\n    // terminal operation producing the result, like .toList(), collect(Collectors.joining()), etc.\r\n```\r\n\r\nI suggest you to get familiar with these basic tutorials on [*Lambda expressions*](https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html) and [*Streams*](https://docs.oracle.com/javase/tutorial/collections/streams/index.html).\r\n\r\n***Sidenote:** `UTF_8` is the default character set, and there&#39;s no need to provide the second argument in `Files.lines()` if it&#39;s used in the target file.*\r\n\r\n\r\n\r\n   [takeWhile]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#takeWhile(java.util.function.Predicate)","title":"How to intercept a Java Stream by a particular data?","body":"<blockquote>\n<p>handle all the data before the Line &quot;---&quot;</p>\n</blockquote>\n<p>To implement this condition you can use Java 9 <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#takeWhile(java.util.function.Predicate)\" rel=\"nofollow noreferrer\"><code>Stream.takeWhile()</code></a>. It expects a <code>Predicate</code> as an argument. The stream processing would terminate after the first element for which the given predicate would be evaluated to <code>false</code>.</p>\n<pre><code>return Files.lines(Path.of(path))\n    .takeWhile(line -&gt; !&quot;---&quot;.equals(line))\n    // other logic\n    // terminal operation producing the result, like .toList(), collect(Collectors.joining()), etc.\n</code></pre>\n<p>I suggest you to get familiar with these basic tutorials on <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html\" rel=\"nofollow noreferrer\"><em>Lambda expressions</em></a> and <a href=\"https://docs.oracle.com/javase/tutorial/collections/streams/index.html\" rel=\"nofollow noreferrer\"><em>Streams</em></a>.</p>\n<p><em><strong>Sidenote:</strong> <code>UTF_8</code> is the default character set, and there's no need to provide the second argument in <code>Files.lines()</code> if it's used in the target file.</em></p>\n"}],"owner":{"account_id":27244843,"reputation":23,"user_id":20770322,"display_name":"BSLK11"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74844172,"answer_count":1,"score":2,"last_activity_date":1671395578,"creation_date":1671394217,"question_id":74844082,"body_markdown":"I want to use Java to read a .txt file and use Java Stream to handle all the data before the Line &quot;---&quot;.\r\n\r\nI have used :\r\n\r\n```\r\nreturn Files.lines(Path.of(path), StandardCharsets.UTF_8)\r\n        .filter(n -&gt; ...)\r\n```\r\nbut I have no clue how to manage the lines or get access to other lines besides n(lambda parameter).","title":"How to intercept a Java Stream by a particular data?","body":"<p>I want to use Java to read a .txt file and use Java Stream to handle all the data before the Line &quot;---&quot;.</p>\n<p>I have used :</p>\n<pre><code>return Files.lines(Path.of(path), StandardCharsets.UTF_8)\n        .filter(n -&gt; ...)\n</code></pre>\n<p>but I have no clue how to manage the lines or get access to other lines besides n(lambda parameter).</p>\n"},{"tags":["java","javafx","graph","jfreechart","jfreechart-fx"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1671187156,"post_id":74823112,"comment_id":132049729,"body_markdown":"aside: why the awt import? remove or at least replace the star import with a specific one (if you really need it)","body":"aside: why the awt import? remove or at least replace the star import with a specific one (if you really need it)"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1671218322,"post_id":74823112,"comment_id":132059641,"body_markdown":"As suggested [here](https://stackoverflow.com/a/74241708/230513), invoking `createChart()` twice modifies one then displays the other.","body":"As suggested <a href=\"https://stackoverflow.com/a/74241708/230513\">here</a>, invoking <code>createChart()</code> twice modifies one then displays the other."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1671243700,"post_id":74823112,"comment_id":132064031,"body_markdown":"Note also that `rangeCrosshairLockedOnData` is `true` by default.","body":"Note also that <code>rangeCrosshairLockedOnData</code> is <code>true</code> by default."},{"owner":{"account_id":22023992,"reputation":33,"user_id":16292314,"display_name":"armitageshanks99"},"score":0,"creation_date":1671282286,"post_id":74823112,"comment_id":132068403,"body_markdown":"where would i invoke the createChart() method? please","body":"where would i invoke the createChart() method? please"}],"answers":[{"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1671393521,"creation_date":1671393521,"answer_id":74844015,"question_id":74823112,"body_markdown":"The crosshairs do not appear because you invoke `createChart()` twice, updating one instance while displaying the other. Instead, create and update a single instance:\r\n\r\n```\r\npublic void start(Stage stage) {\r\n    //XYPlot plot = createChart().getXYPlot();\r\n    var chart = createChart();\r\n    XYPlot plot = chart.getXYPlot();\r\n    plot.setDomainCrosshairVisible(true);\r\n    plot.setRangeCrosshairVisible(true);\r\n    …\r\n    //JFreeChart chart = createChart();\r\n    …\r\n}\r\n```\r\nIncidentally, adding the `SeriesChangeListener` _before_ creating the chart, as you did [here][1], risks causing `Regression` to\r\n\r\n    throw new IllegalArgumentException(&quot;Not enough data.&quot;);\r\n\r\nConsider limiting the effect to two or more items:\r\n\r\n```\r\nseries.addChangeListener((event) -&gt; {\r\n    if (series.getItemCount() &gt; 1) {\r\n        …\r\n    }\r\n});\r\n```\r\n\r\n[![crosshairs][2]][2]\r\n\r\n\r\n  [1]: https://stackoverflow.com/q/74237309/230513\r\n  [2]: https://i.stack.imgur.com/qSPDU.png\r\n","title":"Adding a x and y axis line in jfreechart/crosshairs","body":"<p>The crosshairs do not appear because you invoke <code>createChart()</code> twice, updating one instance while displaying the other. Instead, create and update a single instance:</p>\n<pre><code>public void start(Stage stage) {\n    //XYPlot plot = createChart().getXYPlot();\n    var chart = createChart();\n    XYPlot plot = chart.getXYPlot();\n    plot.setDomainCrosshairVisible(true);\n    plot.setRangeCrosshairVisible(true);\n    …\n    //JFreeChart chart = createChart();\n    …\n}\n</code></pre>\n<p>Incidentally, adding the <code>SeriesChangeListener</code> <em>before</em> creating the chart, as you did <a href=\"https://stackoverflow.com/q/74237309/230513\">here</a>, risks causing <code>Regression</code> to</p>\n<pre><code>throw new IllegalArgumentException(&quot;Not enough data.&quot;);\n</code></pre>\n<p>Consider limiting the effect to two or more items:</p>\n<pre><code>series.addChangeListener((event) -&gt; {\n    if (series.getItemCount() &gt; 1) {\n        …\n    }\n});\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/qSPDU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qSPDU.png\" alt=\"crosshairs\" /></a></p>\n"}],"owner":{"account_id":22023992,"reputation":33,"user_id":16292314,"display_name":"armitageshanks99"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74844015,"answer_count":1,"score":0,"last_activity_date":1671393521,"creation_date":1671186312,"question_id":74823112,"body_markdown":"I would like to add y and x axis lines to my graph. I have tried by setting domain cross hairs by true, but it doesn&#39;t appear. Please could i have some help? when I run the program the graph comes up the x and y lines don&#39;t appear at x = 0 and y = 0:\r\n\r\n```\r\nplot.setDomainCrosshairVisible(true);\r\nplot.setRangeCrosshairVisible(true);\r\n```\r\n\r\n```\r\npackage Grava;\r\n\r\nimport javafx.application.Application;\r\nimport javafx.event.ActionEvent;\r\nimport javafx.event.EventHandler;\r\nimport javafx.geometry.Pos;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.control.TextField;\r\nimport javafx.scene.paint.Color;\r\nimport org.jfree.chart.axis.NumberAxis;\r\nimport javafx.scene.control.*;\r\nimport javafx.scene.image.Image;\r\nimport javafx.scene.layout.BorderPane;\r\nimport javafx.scene.layout.HBox;\r\nimport javafx.stage.Stage;\r\nimport org.jfree.chart.ChartFactory;\r\nimport org.jfree.chart.JFreeChart;\r\nimport org.jfree.chart.fx.ChartViewer;\r\nimport org.jfree.chart.panel.CrosshairOverlay;\r\nimport org.jfree.chart.plot.XYPlot;\r\nimport org.jfree.chart.axis.NumberTickUnit;\r\nimport org.jfree.chart.axis.NumberAxis;\r\nimport org.jfree.chart.axis.NumberTickUnit;\r\nimport org.jfree.chart.plot.PlotOrientation;\r\nimport org.jfree.chart.plot.Crosshair;\r\nimport org.jfree.chart.renderer.xy.XYLineAndShapeRenderer;\r\nimport org.jfree.data.statistics.Regression;\r\nimport org.jfree.data.xy.XYSeries;\r\nimport org.jfree.data.xy.XYSeriesCollection;\r\n\r\nimport java.awt.*;\r\n\r\npublic class ScatterAdd extends Application {\r\n\r\n\r\n    private final XYSeries series = new XYSeries(&quot;Voltage&quot;);\r\n    private final XYSeries trend = new XYSeries(&quot;Trend&quot;);\r\n    private final XYSeriesCollection dataset = new XYSeriesCollection(series);\r\n\r\n    ChoiceBox&lt;String&gt; domainLabels = new ChoiceBox&lt;&gt;();\r\n    ChoiceBox&lt;String&gt; rangeLabels = new ChoiceBox&lt;&gt;();\r\n\r\n    private JFreeChart createChart() {\r\n        XYSeriesCollection dataset = new XYSeriesCollection();\r\n        dataset.addSeries(series);\r\n        return ChartFactory.createScatterPlot(&quot;VI Characteristics&quot;, &quot;Current&quot;, &quot;Voltage&quot;, dataset);\r\n    }\r\n\r\n    @Override\r\n    public void start(Stage stage) {\r\n\r\n        Image image = new Image(&quot;Grava.logo.png&quot;);\r\n        stage.getIcons().add(image);\r\n\r\n\r\n        XYPlot plot = createChart().getXYPlot();\r\n        plot.setDomainCrosshairVisible(true);\r\n        plot.setRangeCrosshairVisible(true);\r\n\r\n        XYLineAndShapeRenderer r = (XYLineAndShapeRenderer) plot.getRenderer();\r\n        r.setSeriesLinesVisible(1, Boolean.TRUE);\r\n        r.setSeriesShapesVisible(1, Boolean.FALSE);\r\n\r\n        var equation = new TextField();\r\n\r\n        series.addChangeListener((event) -&gt; {\r\n            double[] coefficients = Regression.getOLSRegression(dataset, 0);\r\n            double b = coefficients[0]; // intercept\r\n            double m = coefficients[1]; // slope\r\n            equation.setText(&quot;y = &quot; + m + &quot; x + &quot; + b);\r\n\r\n        });\r\n\r\n        JFreeChart chart = createChart();\r\n        domainLabels.getSelectionModel().selectedItemProperty().addListener((ov, s0, s1) -&gt; {\r\n            chart.getXYPlot().getDomainAxis().setLabel(s1);\r\n        });\r\n        rangeLabels.getSelectionModel().selectedItemProperty().addListener((ov, s0, s1) -&gt; {\r\n            chart.getXYPlot().getRangeAxis().setLabel(s1);\r\n        });\r\n\r\n        domainLabels.getItems().addAll(&quot;Current&quot;, &quot;Seconds&quot;);\r\n        domainLabels.setValue(&quot;Current&quot;);\r\n\r\n        rangeLabels.getItems().addAll(&quot;Voltage&quot;, &quot;Metres&quot;);\r\n        rangeLabels.setValue(&quot;Voltage&quot;);\r\n\r\n        var xSpin = new Spinner&lt;Double&gt;(-10000000.000, 10000000.000, 0, 0.1);\r\n        xSpin.setEditable(true);\r\n        xSpin.setPromptText(&quot;Xvalue&quot;);\r\n\r\n        var ySpin = new Spinner&lt;Double&gt;(-10000000.000, 10000000.000, 0, 0.1);\r\n        ySpin.setEditable(true);\r\n        ySpin.setPromptText(&quot;Yvalue&quot;);\r\n\r\n        var button = new Button(&quot;Add&quot;);\r\n        button.setOnAction(ae -&gt; series.add(xSpin.getValue(), ySpin.getValue()));\r\n\r\n\r\n        HBox xBox = new HBox();\r\n        xBox.getChildren().addAll(domainLabels);\r\n\r\n        HBox yBox = new HBox();\r\n        yBox.getChildren().addAll(rangeLabels);\r\n\r\n        var enter = new ToolBar(xBox, xSpin, yBox, ySpin, button, equation);\r\n        BorderPane.setAlignment(enter, Pos.CENTER);\r\n\r\n        BorderPane root = new BorderPane();\r\n        root.setCenter(new ChartViewer(chart));\r\n        root.setBottom(enter);\r\n\r\n        stage.setTitle(&quot;ScatterAdd&quot;);\r\n        stage.setScene(new Scene(root, 720, 480));\r\n        stage.show();\r\n\r\n    }\r\n    /*\r\n    private void adjustAxis(NumberAxis axis, boolean vertical) {\r\n        axis.setRange(-3.0, 3.0);\r\n        axis.setTickUnit(new NumberTickUnit(0.5));\r\n        axis.setVerticalTickLabels(vertical);\r\n    }\r\n*/\r\n\r\n    public static void main(String[] args) {\r\n        launch(args);\r\n    }\r\n}\r\n```","title":"Adding a x and y axis line in jfreechart/crosshairs","body":"<p>I would like to add y and x axis lines to my graph. I have tried by setting domain cross hairs by true, but it doesn't appear. Please could i have some help? when I run the program the graph comes up the x and y lines don't appear at x = 0 and y = 0:</p>\n<pre><code>plot.setDomainCrosshairVisible(true);\nplot.setRangeCrosshairVisible(true);\n</code></pre>\n<pre><code>package Grava;\n\nimport javafx.application.Application;\nimport javafx.event.ActionEvent;\nimport javafx.event.EventHandler;\nimport javafx.geometry.Pos;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.TextField;\nimport javafx.scene.paint.Color;\nimport org.jfree.chart.axis.NumberAxis;\nimport javafx.scene.control.*;\nimport javafx.scene.image.Image;\nimport javafx.scene.layout.BorderPane;\nimport javafx.scene.layout.HBox;\nimport javafx.stage.Stage;\nimport org.jfree.chart.ChartFactory;\nimport org.jfree.chart.JFreeChart;\nimport org.jfree.chart.fx.ChartViewer;\nimport org.jfree.chart.panel.CrosshairOverlay;\nimport org.jfree.chart.plot.XYPlot;\nimport org.jfree.chart.axis.NumberTickUnit;\nimport org.jfree.chart.axis.NumberAxis;\nimport org.jfree.chart.axis.NumberTickUnit;\nimport org.jfree.chart.plot.PlotOrientation;\nimport org.jfree.chart.plot.Crosshair;\nimport org.jfree.chart.renderer.xy.XYLineAndShapeRenderer;\nimport org.jfree.data.statistics.Regression;\nimport org.jfree.data.xy.XYSeries;\nimport org.jfree.data.xy.XYSeriesCollection;\n\nimport java.awt.*;\n\npublic class ScatterAdd extends Application {\n\n\n    private final XYSeries series = new XYSeries(&quot;Voltage&quot;);\n    private final XYSeries trend = new XYSeries(&quot;Trend&quot;);\n    private final XYSeriesCollection dataset = new XYSeriesCollection(series);\n\n    ChoiceBox&lt;String&gt; domainLabels = new ChoiceBox&lt;&gt;();\n    ChoiceBox&lt;String&gt; rangeLabels = new ChoiceBox&lt;&gt;();\n\n    private JFreeChart createChart() {\n        XYSeriesCollection dataset = new XYSeriesCollection();\n        dataset.addSeries(series);\n        return ChartFactory.createScatterPlot(&quot;VI Characteristics&quot;, &quot;Current&quot;, &quot;Voltage&quot;, dataset);\n    }\n\n    @Override\n    public void start(Stage stage) {\n\n        Image image = new Image(&quot;Grava.logo.png&quot;);\n        stage.getIcons().add(image);\n\n\n        XYPlot plot = createChart().getXYPlot();\n        plot.setDomainCrosshairVisible(true);\n        plot.setRangeCrosshairVisible(true);\n\n        XYLineAndShapeRenderer r = (XYLineAndShapeRenderer) plot.getRenderer();\n        r.setSeriesLinesVisible(1, Boolean.TRUE);\n        r.setSeriesShapesVisible(1, Boolean.FALSE);\n\n        var equation = new TextField();\n\n        series.addChangeListener((event) -&gt; {\n            double[] coefficients = Regression.getOLSRegression(dataset, 0);\n            double b = coefficients[0]; // intercept\n            double m = coefficients[1]; // slope\n            equation.setText(&quot;y = &quot; + m + &quot; x + &quot; + b);\n\n        });\n\n        JFreeChart chart = createChart();\n        domainLabels.getSelectionModel().selectedItemProperty().addListener((ov, s0, s1) -&gt; {\n            chart.getXYPlot().getDomainAxis().setLabel(s1);\n        });\n        rangeLabels.getSelectionModel().selectedItemProperty().addListener((ov, s0, s1) -&gt; {\n            chart.getXYPlot().getRangeAxis().setLabel(s1);\n        });\n\n        domainLabels.getItems().addAll(&quot;Current&quot;, &quot;Seconds&quot;);\n        domainLabels.setValue(&quot;Current&quot;);\n\n        rangeLabels.getItems().addAll(&quot;Voltage&quot;, &quot;Metres&quot;);\n        rangeLabels.setValue(&quot;Voltage&quot;);\n\n        var xSpin = new Spinner&lt;Double&gt;(-10000000.000, 10000000.000, 0, 0.1);\n        xSpin.setEditable(true);\n        xSpin.setPromptText(&quot;Xvalue&quot;);\n\n        var ySpin = new Spinner&lt;Double&gt;(-10000000.000, 10000000.000, 0, 0.1);\n        ySpin.setEditable(true);\n        ySpin.setPromptText(&quot;Yvalue&quot;);\n\n        var button = new Button(&quot;Add&quot;);\n        button.setOnAction(ae -&gt; series.add(xSpin.getValue(), ySpin.getValue()));\n\n\n        HBox xBox = new HBox();\n        xBox.getChildren().addAll(domainLabels);\n\n        HBox yBox = new HBox();\n        yBox.getChildren().addAll(rangeLabels);\n\n        var enter = new ToolBar(xBox, xSpin, yBox, ySpin, button, equation);\n        BorderPane.setAlignment(enter, Pos.CENTER);\n\n        BorderPane root = new BorderPane();\n        root.setCenter(new ChartViewer(chart));\n        root.setBottom(enter);\n\n        stage.setTitle(&quot;ScatterAdd&quot;);\n        stage.setScene(new Scene(root, 720, 480));\n        stage.show();\n\n    }\n    /*\n    private void adjustAxis(NumberAxis axis, boolean vertical) {\n        axis.setRange(-3.0, 3.0);\n        axis.setTickUnit(new NumberTickUnit(0.5));\n        axis.setVerticalTickLabels(vertical);\n    }\n*/\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","rabbitmq","queue"],"answers":[{"tags":[],"owner":{"account_id":5147236,"reputation":65,"user_id":4122863,"display_name":"Julie"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671392760,"creation_date":1671392760,"answer_id":74843939,"question_id":74838500,"body_markdown":"Solved.  So when I installed my docker instance of rabbit, there was a local version already installed, and they were both listening on the same port.  Somehow the installation overrode it so it was going to the docker version, but when I rebooted the next day the windows service turned on my local version so it was trying to send my user configured in the docker version to the local version instead.","title":"RabbitMQ ACCESS_REFUSED","body":"<p>Solved.  So when I installed my docker instance of rabbit, there was a local version already installed, and they were both listening on the same port.  Somehow the installation overrode it so it was going to the docker version, but when I rebooted the next day the windows service turned on my local version so it was trying to send my user configured in the docker version to the local version instead.</p>\n"}],"owner":{"account_id":5147236,"reputation":65,"user_id":4122863,"display_name":"Julie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":349,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671392760,"creation_date":1671325386,"question_id":74838500,"body_markdown":"I am trying to connect to RabbitMQ, it was working perfectly yesterday and works for my coworkers, but on my machine I am getting:\r\n\r\n    Caused by: com.rabbitmq.client.AuthenticationFailureException: ACCESS_REFUSED - Login was refused using authentication mechanism PLAIN. For details see the broker logfile.\r\n\tat com.rabbitmq.client.impl.AMQConnection.start(AMQConnection.java:385) ~[amqp-client-5.16.0.jar:5.16.0]\r\n\tat com.rabbitmq.client.ConnectionFactory.newConnection(ConnectionFactory.java:1225) ~[amqp-client-5.16.0.jar:5.16.0]\r\n\tat com.rabbitmq.client.ConnectionFactory.newConnection(ConnectionFactory.java:1173) ~[amqp-client-5.16.0.jar:5.16.0]\r\n\tat com.rabbitmq.client.ConnectionFactory.newConnection(ConnectionFactory.java:1342) ~[amqp-client-5.16.0.jar:5.16.0]\r\n\tat org.springframework.amqp.rabbit.connection.AbstractConnectionFactory.connectHostPort(AbstractConnectionFactory.java:638) ~[spring-rabbit-3.0.0.jar:3.0.0]\r\n\tat org.springframework.amqp.rabbit.connection.AbstractConnectionFactory.connect(AbstractConnectionFactory.java:603) ~[spring-rabbit-3.0.0.jar:3.0.0]\r\n\tat org.springframework.amqp.rabbit.connection.AbstractConnectionFactory.createBareConnection(AbstractConnectionFactory.java:550) ~[spring-rabbit-3.0.0.jar:3.0.0]\r\n\tat org.springframework.amqp.rabbit.connection.CachingConnectionFactory.createConnection(CachingConnectionFactory.java:686) ~[spring-rabbit-3.0.0.jar:3.0.0]\r\n\tat org.springframework.amqp.rabbit.connection.ConnectionFactoryUtils.createConnection(ConnectionFactoryUtils.java:257) ~[spring-rabbit-3.0.0.jar:3.0.0]\r\n\tat org.springframework.amqp.rabbit.connection.ConnectionFactoryUtils$RabbitResourceFactory.createConnection(ConnectionFactoryUtils.java:345) ~[spring-rabbit-3.0.0.jar:3.0.0]\r\n\tat org.springframework.amqp.rabbit.connection.ConnectionFactoryUtils.doGetTransactionalResourceHolder(ConnectionFactoryUtils.java:140) ~[spring-rabbit-3.0.0.jar:3.0.0]\r\n\tat org.springframework.amqp.rabbit.connection.ConnectionFactoryUtils.getTransactionalResourceHolder(ConnectionFactoryUtils.java:102) ~[spring-rabbit-3.0.0.jar:3.0.0]\r\n\tat org.springframework.amqp.rabbit.connection.ConnectionFactoryUtils.getTransactionalResourceHolder(ConnectionFactoryUtils.java:85) ~[spring-rabbit-3.0.0.jar:3.0.0]\r\n\tat org.springframework.amqp.rabbit.listener.BlockingQueueConsumer.start(BlockingQueueConsumer.java:613) ~[spring-rabbit-3.0.0.jar:3.0.0]\r\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.initialize(SimpleMessageListenerContainer.java:1378) ~[spring-rabbit-3.0.0.jar:3.0.0]\r\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1223) ~[spring-rabbit-3.0.0.jar:3.0.0]\r\n\tat java.lang.Thread.run(Thread.java:833) ~[?:?]\r\n\r\nThe only difference from yesterday is I am having a lot of issues with STS 4.17.0, it has not been responding, something is making it spin out of control, so I created a new workspace and downloaded STS again in case it was corrupted (not sure if fixed).  \r\n\r\nI have tried wiresharking it, and can see the credentials are getting passed in.  The user has permissions and as specified was working fine yesterday and connects to rabbit for others.\r\n\r\nRabbit is running in a kubernetes stack on docker on my machine, I checked the logs and do not see anything there despite it saying check the broker logfile.\r\n\r\nAny ideas?  I am completely out of ideas and has lost a whole day trying to get it to connect.\r\n\r\nThe code is written in Java for Spring Boot.\r\n\r\n    @Configuration\r\n    public class ConnectionFactories {\r\n\r\n\tprivate static Logger logger = LoggerFactory.getLogger(ConnectionFactories.class);\r\n\r\n\t@Autowired\r\n\tprivate AmqpSettings settings;\r\n\r\n\t@Autowired\r\n\tprivate QueueSettings queueSettings;\r\n\r\n\tprivate CachingConnectionFactory makeConnectionFactory(String host, int port, String username, String password,\r\n\t\t\tString virtualHost) throws KeyManagementException, NoSuchAlgorithmException, KeyStoreException, CertificateException,\r\n\t\t\tFileNotFoundException, IOException {\r\n\t\tRabbitConnectionFactoryBean rabbitCF = new RabbitConnectionFactoryBean();\r\n\t\trabbitCF.setHost(host);\r\n\t\trabbitCF.setPort(port);\r\n\t\trabbitCF.setUsername(username);\r\n\t\trabbitCF.setPassword(password);\r\n\t\trabbitCF.setVirtualHost(virtualHost);\r\n\t\treturn new CachingConnectionFactory(rabbitCF.getRabbitConnectionFactory());\r\n\t}\r\n\r\n\t@Primary\r\n\t@Bean(name = { &quot;mule4RabbitCachingConnectionFactory&quot; })\r\n\t@DependsOn(value = {&quot;amqpSettings&quot;})\r\n\tCachingConnectionFactory mule4RabbitCachingConnectionFactory() throws KeyManagementException,\r\n\t\t\tNoSuchAlgorithmException, KeyStoreException, CertificateException, FileNotFoundException, IOException {\r\n\t\tlogger.info(&quot;Configuring mule4 Rabbit caching connection factory&quot;);\r\n\t\treturn makeConnectionFactory(settings.getHost(), settings.getPort(), settings.getUsername(),\r\n\t\t\t\tsettings.getPassword(), queueSettings.getMule4VirtualHost());\r\n\t}\r\n\r\n\t@Bean\r\n\t@Qualifier(&quot;mule4RabbitCachingConnectionFactory&quot;)\r\n\tSimpleRabbitListenerContainerFactory mule4RabbitListenerContainerFactory(\r\n\t\t\tSimpleRabbitListenerContainerFactoryConfigurer configurer,\r\n\t\t\t@Qualifier(&quot;mule4RabbitCachingConnectionFactory&quot;) ConnectionFactory connectionFactory)\r\n\t\t\tthrows KeyManagementException, NoSuchAlgorithmException, KeyStoreException, CertificateException,\r\n\t\t\tFileNotFoundException, IOException {\r\n\t\tlogger.info(&quot;Configuring mule4 Rabbit listener factory&quot;);\r\n\t\tSimpleRabbitListenerContainerFactory factory = new SimpleRabbitListenerContainerFactory();\r\n\t\tconfigurer.configure(factory, connectionFactory);\r\n\t\tfactory.setMaxConcurrentConsumers(20);\r\n\t\tfactory.setConcurrentConsumers(20);\r\n\t\tfactory.setMessageConverter(new QueueMessageConverter());\r\n\t\tfactory.setDefaultRequeueRejected(Boolean.FALSE);\r\n\t\treturn factory;\r\n\t}\r\n\r\n    }\r\n\r\nThe properties class.\r\n\r\n    @ConfigurationProperties(&quot;queue.rabbitmq&quot;)\r\n    @Component\r\n    public class AmqpSettings {\r\n\tprivate String host;\r\n\tprivate Integer port;\r\n\tprivate String username;\r\n\tprivate String password;\r\n\t\r\n\tpublic String getHost() {\r\n\t\treturn host;\r\n\t}\r\n\tpublic void setHost(String host) {\r\n\t\tthis.host = host;\r\n\t}\r\n\tpublic Integer getPort() {\r\n\t\treturn port;\r\n\t}\r\n\tpublic void setPort(Integer port) {\r\n\t\tthis.port = port;\r\n\t}\r\n\tpublic String getUsername() {\r\n\t\treturn username;\r\n\t}\r\n\tpublic void setUsername(String username) {\r\n\t\tthis.username = username;\r\n\t}\r\n\tpublic String getPassword() {\r\n\t\treturn password;\r\n\t}\r\n\tpublic void setPassword(String password) {\r\n\t\tthis.password = password;\r\n\t}\r\n\r\n    \t\r\n    }\r\n\r\nI also think there is a race condition loading the properties this way, it happens sometimes where I think the properties are not read before the connection is established.\r\n\r\nSorry, I know it&#39;s a lot, but really stuck!\r\n\r\n\r\n\r\n","title":"RabbitMQ ACCESS_REFUSED","body":"<p>I am trying to connect to RabbitMQ, it was working perfectly yesterday and works for my coworkers, but on my machine I am getting:</p>\n<pre><code>Caused by: com.rabbitmq.client.AuthenticationFailureException: ACCESS_REFUSED - Login was refused using authentication mechanism PLAIN. For details see the broker logfile.\nat com.rabbitmq.client.impl.AMQConnection.start(AMQConnection.java:385) ~[amqp-client-5.16.0.jar:5.16.0]\nat com.rabbitmq.client.ConnectionFactory.newConnection(ConnectionFactory.java:1225) ~[amqp-client-5.16.0.jar:5.16.0]\nat com.rabbitmq.client.ConnectionFactory.newConnection(ConnectionFactory.java:1173) ~[amqp-client-5.16.0.jar:5.16.0]\nat com.rabbitmq.client.ConnectionFactory.newConnection(ConnectionFactory.java:1342) ~[amqp-client-5.16.0.jar:5.16.0]\nat org.springframework.amqp.rabbit.connection.AbstractConnectionFactory.connectHostPort(AbstractConnectionFactory.java:638) ~[spring-rabbit-3.0.0.jar:3.0.0]\nat org.springframework.amqp.rabbit.connection.AbstractConnectionFactory.connect(AbstractConnectionFactory.java:603) ~[spring-rabbit-3.0.0.jar:3.0.0]\nat org.springframework.amqp.rabbit.connection.AbstractConnectionFactory.createBareConnection(AbstractConnectionFactory.java:550) ~[spring-rabbit-3.0.0.jar:3.0.0]\nat org.springframework.amqp.rabbit.connection.CachingConnectionFactory.createConnection(CachingConnectionFactory.java:686) ~[spring-rabbit-3.0.0.jar:3.0.0]\nat org.springframework.amqp.rabbit.connection.ConnectionFactoryUtils.createConnection(ConnectionFactoryUtils.java:257) ~[spring-rabbit-3.0.0.jar:3.0.0]\nat org.springframework.amqp.rabbit.connection.ConnectionFactoryUtils$RabbitResourceFactory.createConnection(ConnectionFactoryUtils.java:345) ~[spring-rabbit-3.0.0.jar:3.0.0]\nat org.springframework.amqp.rabbit.connection.ConnectionFactoryUtils.doGetTransactionalResourceHolder(ConnectionFactoryUtils.java:140) ~[spring-rabbit-3.0.0.jar:3.0.0]\nat org.springframework.amqp.rabbit.connection.ConnectionFactoryUtils.getTransactionalResourceHolder(ConnectionFactoryUtils.java:102) ~[spring-rabbit-3.0.0.jar:3.0.0]\nat org.springframework.amqp.rabbit.connection.ConnectionFactoryUtils.getTransactionalResourceHolder(ConnectionFactoryUtils.java:85) ~[spring-rabbit-3.0.0.jar:3.0.0]\nat org.springframework.amqp.rabbit.listener.BlockingQueueConsumer.start(BlockingQueueConsumer.java:613) ~[spring-rabbit-3.0.0.jar:3.0.0]\nat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.initialize(SimpleMessageListenerContainer.java:1378) ~[spring-rabbit-3.0.0.jar:3.0.0]\nat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1223) ~[spring-rabbit-3.0.0.jar:3.0.0]\nat java.lang.Thread.run(Thread.java:833) ~[?:?]\n</code></pre>\n<p>The only difference from yesterday is I am having a lot of issues with STS 4.17.0, it has not been responding, something is making it spin out of control, so I created a new workspace and downloaded STS again in case it was corrupted (not sure if fixed).</p>\n<p>I have tried wiresharking it, and can see the credentials are getting passed in.  The user has permissions and as specified was working fine yesterday and connects to rabbit for others.</p>\n<p>Rabbit is running in a kubernetes stack on docker on my machine, I checked the logs and do not see anything there despite it saying check the broker logfile.</p>\n<p>Any ideas?  I am completely out of ideas and has lost a whole day trying to get it to connect.</p>\n<p>The code is written in Java for Spring Boot.</p>\n<pre><code>@Configuration\npublic class ConnectionFactories {\n\nprivate static Logger logger = LoggerFactory.getLogger(ConnectionFactories.class);\n\n@Autowired\nprivate AmqpSettings settings;\n\n@Autowired\nprivate QueueSettings queueSettings;\n\nprivate CachingConnectionFactory makeConnectionFactory(String host, int port, String username, String password,\n        String virtualHost) throws KeyManagementException, NoSuchAlgorithmException, KeyStoreException, CertificateException,\n        FileNotFoundException, IOException {\n    RabbitConnectionFactoryBean rabbitCF = new RabbitConnectionFactoryBean();\n    rabbitCF.setHost(host);\n    rabbitCF.setPort(port);\n    rabbitCF.setUsername(username);\n    rabbitCF.setPassword(password);\n    rabbitCF.setVirtualHost(virtualHost);\n    return new CachingConnectionFactory(rabbitCF.getRabbitConnectionFactory());\n}\n\n@Primary\n@Bean(name = { &quot;mule4RabbitCachingConnectionFactory&quot; })\n@DependsOn(value = {&quot;amqpSettings&quot;})\nCachingConnectionFactory mule4RabbitCachingConnectionFactory() throws KeyManagementException,\n        NoSuchAlgorithmException, KeyStoreException, CertificateException, FileNotFoundException, IOException {\n    logger.info(&quot;Configuring mule4 Rabbit caching connection factory&quot;);\n    return makeConnectionFactory(settings.getHost(), settings.getPort(), settings.getUsername(),\n            settings.getPassword(), queueSettings.getMule4VirtualHost());\n}\n\n@Bean\n@Qualifier(&quot;mule4RabbitCachingConnectionFactory&quot;)\nSimpleRabbitListenerContainerFactory mule4RabbitListenerContainerFactory(\n        SimpleRabbitListenerContainerFactoryConfigurer configurer,\n        @Qualifier(&quot;mule4RabbitCachingConnectionFactory&quot;) ConnectionFactory connectionFactory)\n        throws KeyManagementException, NoSuchAlgorithmException, KeyStoreException, CertificateException,\n        FileNotFoundException, IOException {\n    logger.info(&quot;Configuring mule4 Rabbit listener factory&quot;);\n    SimpleRabbitListenerContainerFactory factory = new SimpleRabbitListenerContainerFactory();\n    configurer.configure(factory, connectionFactory);\n    factory.setMaxConcurrentConsumers(20);\n    factory.setConcurrentConsumers(20);\n    factory.setMessageConverter(new QueueMessageConverter());\n    factory.setDefaultRequeueRejected(Boolean.FALSE);\n    return factory;\n}\n\n}\n</code></pre>\n<p>The properties class.</p>\n<pre><code>@ConfigurationProperties(&quot;queue.rabbitmq&quot;)\n@Component\npublic class AmqpSettings {\nprivate String host;\nprivate Integer port;\nprivate String username;\nprivate String password;\n\npublic String getHost() {\n    return host;\n}\npublic void setHost(String host) {\n    this.host = host;\n}\npublic Integer getPort() {\n    return port;\n}\npublic void setPort(Integer port) {\n    this.port = port;\n}\npublic String getUsername() {\n    return username;\n}\npublic void setUsername(String username) {\n    this.username = username;\n}\npublic String getPassword() {\n    return password;\n}\npublic void setPassword(String password) {\n    this.password = password;\n}\n\n    \n}\n</code></pre>\n<p>I also think there is a race condition loading the properties this way, it happens sometimes where I think the properties are not read before the connection is established.</p>\n<p>Sorry, I know it's a lot, but really stuck!</p>\n"},{"tags":["java","class","constructor","field"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":2,"creation_date":1671392683,"post_id":74843922,"comment_id":132084734,"body_markdown":"Maybe you could always store the temperature in Celsius, and have logic in the constructor that converts the given temperature into Celsius if the unit is something different.","body":"Maybe you could always store the temperature in Celsius, and have logic in the constructor that converts the given temperature into Celsius if the unit is something different."},{"owner":{"account_id":27291802,"reputation":11,"user_id":20810067,"display_name":"BlakieSl"},"score":0,"creation_date":1671394081,"post_id":74843922,"comment_id":132084971,"body_markdown":"Can you please tell me how to apply this?","body":"Can you please tell me how to apply this?"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1671394525,"post_id":74843922,"comment_id":132085046,"body_markdown":"If you&#39;re familiar with `switch` expressions, you could put one in the constructor.  Otherwise, you could use some `if` and `else if` statements to achieve the same result.","body":"If you&#39;re familiar with <code>switch</code> expressions, you could put one in the constructor.  Otherwise, you could use some <code>if</code> and <code>else if</code> statements to achieve the same result."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1671474624,"post_id":74843922,"comment_id":132102682,"body_markdown":"Under the linked original question read the last paragraph of [the answer](https://stackoverflow.com/a/74717724/5772882), **Alternative solution**.","body":"Under the linked original question read the last paragraph of <a href=\"https://stackoverflow.com/a/74717724/5772882\">the answer</a>, <b>Alternative solution</b>."}],"owner":{"account_id":27291802,"reputation":11,"user_id":20810067,"display_name":"BlakieSl"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1671397070,"answer_count":0,"score":0,"last_activity_date":1671392545,"creation_date":1671392545,"question_id":74843922,"body_markdown":"How can I convert to different measurement systems if I can&#39;t create another UNIT field to understand which system I need to convert to? \r\n\r\n\r\n```\r\nclass Temperature{\r\n    private final double tm;\r\n    Temperature(double tm, char unit) {\r\n        this.tm = tm;\r\n\r\n    }\r\n    public double getInC(){\r\n\r\n    }\r\n    public double getInF(){\r\n\r\n    }\r\n    public double getInK(){\r\n\r\n    }\r\n}\r\npublic class Temperatures {\r\n    public static void main(String[] args) {\r\n        Temperature t1 = new Temperature(25, &#39;C&#39;);\r\n        System.out.printf(&quot;C: %6.2f%n&quot;, t1.getInC());\r\n        System.out.printf(&quot;F: %6.2f%n&quot;, t1.getInF());\r\n        System.out.printf(&quot;K: %6.2f%n&quot;, t1.getInK());\r\n        Temperature t2 = new Temperature(77, &#39;F&#39;);\r\n        System.out.printf(&quot;C: %6.2f%n&quot;, t2.getInC());\r\n        System.out.printf(&quot;F: %6.2f%n&quot;, t2.getInF());\r\n        System.out.printf(&quot;K: %6.2f%n&quot;, t2.getInK());\r\n        Temperature t3 = new Temperature(298.15, &#39;K&#39;);\r\n        System.out.printf(&quot;C: %6.2f%n&quot;, t3.getInC());\r\n        System.out.printf(&quot;F: %6.2f%n&quot;, t3.getInF());\r\n        System.out.printf(&quot;K: %6.2f%n&quot;, t3.getInK());\r\n    }\r\n}\r\n```\r\n\r\n\r\nIdk what to do about the fact that I can&#39;t create another field","title":"temperature conversion with ONLY ONE field","body":"<p>How can I convert to different measurement systems if I can't create another UNIT field to understand which system I need to convert to?</p>\n<pre><code>class Temperature{\n    private final double tm;\n    Temperature(double tm, char unit) {\n        this.tm = tm;\n\n    }\n    public double getInC(){\n\n    }\n    public double getInF(){\n\n    }\n    public double getInK(){\n\n    }\n}\npublic class Temperatures {\n    public static void main(String[] args) {\n        Temperature t1 = new Temperature(25, 'C');\n        System.out.printf(&quot;C: %6.2f%n&quot;, t1.getInC());\n        System.out.printf(&quot;F: %6.2f%n&quot;, t1.getInF());\n        System.out.printf(&quot;K: %6.2f%n&quot;, t1.getInK());\n        Temperature t2 = new Temperature(77, 'F');\n        System.out.printf(&quot;C: %6.2f%n&quot;, t2.getInC());\n        System.out.printf(&quot;F: %6.2f%n&quot;, t2.getInF());\n        System.out.printf(&quot;K: %6.2f%n&quot;, t2.getInK());\n        Temperature t3 = new Temperature(298.15, 'K');\n        System.out.printf(&quot;C: %6.2f%n&quot;, t3.getInC());\n        System.out.printf(&quot;F: %6.2f%n&quot;, t3.getInF());\n        System.out.printf(&quot;K: %6.2f%n&quot;, t3.getInK());\n    }\n}\n</code></pre>\n<p>Idk what to do about the fact that I can't create another field</p>\n"},{"tags":["java","android","google-play","apk"],"comments":[{"owner":{"account_id":10814854,"reputation":4137,"user_id":7954210,"accept_rate":73,"display_name":"Mouaad Abdelghafour AITALI"},"score":0,"creation_date":1671398711,"post_id":74843452,"comment_id":132085804,"body_markdown":"Could you please share your Gradle file, also have you tried it with another device, I&#39;ve faced the same issue with an app (not mine) and after clearing the Google Play cache, the app installed successfully","body":"Could you please share your Gradle file, also have you tried it with another device, I&#39;ve faced the same issue with an app (not mine) and after clearing the Google Play cache, the app installed successfully"},{"owner":{"account_id":5350952,"reputation":16310,"user_id":4265103,"display_name":"Pierre"},"score":0,"creation_date":1671487491,"post_id":74843452,"comment_id":132106230,"body_markdown":"Have you done any key upgrade or key rotation on the Play Console? And have you installed the app locally on your device (e.g. through Android Studio or ADB)?","body":"Have you done any key upgrade or key rotation on the Play Console? And have you installed the app locally on your device (e.g. through Android Studio or ADB)?"}],"owner":{"account_id":11847305,"reputation":536,"user_id":8669531,"display_name":"sheko"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1671392468,"creation_date":1671387401,"question_id":74843452,"body_markdown":"I have an  android app that i always upload to google play as an apk with a keystore from 2018 and I use google signing which is recommended as they say, recently I signed the app and exported it as an aab with the same  old keystore but now old users can&#39;t update the app and new users can&#39;t install the app\r\n\r\n[![enter image description here][1]][1]\r\n\r\n**Can anyone help me please ,is  What i did is wrong and if so  How to fix it** \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fMw72.png","title":"Sign existing app from apk to aab problem","body":"<p>I have an  android app that i always upload to google play as an apk with a keystore from 2018 and I use google signing which is recommended as they say, recently I signed the app and exported it as an aab with the same  old keystore but now old users can't update the app and new users can't install the app</p>\n<p><a href=\"https://i.stack.imgur.com/fMw72.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fMw72.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Can anyone help me please ,is  What i did is wrong and if so  How to fix it</strong></p>\n"},{"tags":["java","data-structures","tree","binary-search-tree","treeset"],"comments":[{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":1,"creation_date":1671390019,"post_id":74843577,"comment_id":132084267,"body_markdown":"Creating a `subSet` should be O(1), since it does not copy any elements, but simply returns a view of the backing set. I don&#39;t know how your linked answer came to the conclusion that it would be O(log n)","body":"Creating a <code>subSet</code> should be O(1), since it does not copy any elements, but simply returns a view of the backing set. I don&#39;t know how your linked answer came to the conclusion that it would be O(log n)"},{"owner":{"account_id":3663240,"reputation":2013,"user_id":3052463,"accept_rate":76,"display_name":"Abundance"},"score":0,"creation_date":1671390767,"post_id":74843577,"comment_id":132084401,"body_markdown":"@OldDogProgrammer, yes I&#39;ve realized that and updated the example to reflect such concerns. My question still remains in the general case when the Treeset / subset both have O(n) elements. Also aware of the autoboxing, but more interested in the Treeset internals.","body":"@OldDogProgrammer, yes I&#39;ve realized that and updated the example to reflect such concerns. My question still remains in the general case when the Treeset / subset both have O(n) elements. Also aware of the autoboxing, but more interested in the Treeset internals."}],"answers":[{"tags":[],"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1671392105,"creation_date":1671391594,"answer_id":74843819,"question_id":74843577,"body_markdown":"Calling `TreSet#subSet` returns a _view_ of the original collection. Creating this view is O(1). No elements are copied when creating the subset view. Most operations on the view are delegated to the underlying, original collection.\r\n\r\n`clear()` however is an exception. Calling `clear` on a `TreeSet` (or `TreeMap`, really) is O(1), since it only sets the size to 0 and clears the root node.\r\n\r\nThis is not possible for a subset view of the `TreeSet`, which needs to remove all elements in the view one-by-one, delegating to the `AbstractCollection#clear` method, which is [implemented as follows](https://github.com/AdoptOpenJDK/openjdk-jdk11/blob/master/src/java.base/share/classes/java/util/AbstractCollection.java#L443):\r\n\r\n    public void clear() {\r\n        Iterator&lt;E&gt; it = iterator();\r\n        while (it.hasNext()) {\r\n            it.next();\r\n            it.remove();\r\n        }\r\n    }\r\n\r\nRmeoving a single item from the red-black-tree implementation of `TreeMap` (of which `TreeSet` is only a wrapper) is O(log(n)). **Removing N items, which needs to be done for a subset view, is therefore O(n * log(n))**.","title":"What is the runtime of removing a range of values in Java Treeset?","body":"<p>Calling <code>TreSet#subSet</code> returns a <em>view</em> of the original collection. Creating this view is O(1). No elements are copied when creating the subset view. Most operations on the view are delegated to the underlying, original collection.</p>\n<p><code>clear()</code> however is an exception. Calling <code>clear</code> on a <code>TreeSet</code> (or <code>TreeMap</code>, really) is O(1), since it only sets the size to 0 and clears the root node.</p>\n<p>This is not possible for a subset view of the <code>TreeSet</code>, which needs to remove all elements in the view one-by-one, delegating to the <code>AbstractCollection#clear</code> method, which is <a href=\"https://github.com/AdoptOpenJDK/openjdk-jdk11/blob/master/src/java.base/share/classes/java/util/AbstractCollection.java#L443\" rel=\"nofollow noreferrer\">implemented as follows</a>:</p>\n<pre><code>public void clear() {\n    Iterator&lt;E&gt; it = iterator();\n    while (it.hasNext()) {\n        it.next();\n        it.remove();\n    }\n}\n</code></pre>\n<p>Rmeoving a single item from the red-black-tree implementation of <code>TreeMap</code> (of which <code>TreeSet</code> is only a wrapper) is O(log(n)). <strong>Removing N items, which needs to be done for a subset view, is therefore O(n * log(n))</strong>.</p>\n"}],"owner":{"account_id":3663240,"reputation":2013,"user_id":3052463,"accept_rate":76,"display_name":"Abundance"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74843819,"answer_count":1,"score":0,"last_activity_date":1671392105,"creation_date":1671389043,"question_id":74843577,"body_markdown":"I want to remove values between a certain range in a TreeSet as follows:\r\n\r\n```java\r\nTreeSet&lt;Integer&gt; ts = new TreeSet&lt;Integer&gt;();\r\n\r\nfor(int i = 0; i &lt; (int)1e7; i++){\r\n\tts.add((int)(Math.random() * 1e9));\r\n}\r\n\r\nSystem.out.println(&quot;ts: &quot; + ts.size());\r\nSortedSet&lt;Integer&gt; s = ts.subSet(500, (int)8e8);\r\ns.clear();\r\nSystem.out.println(&quot;ts: &quot; + ts.size());\r\n```\r\n\r\nWhat is the runtime of this operation?\r\n\r\nIs it `O(log(n))` or `O(n)`? I found some [references](https://stackoverflow.com/questions/14379515/computational-complexity-of-treeset-methods-in-java) stating that the `subSet()` operation takes `log(n)`. I&#39;ve also read that the `clear()` operation is `O(1)`, but wouldn&#39;t the individual nodes to be cleared, making it potentially `O(n)`?\r\n\r\n","title":"What is the runtime of removing a range of values in Java Treeset?","body":"<p>I want to remove values between a certain range in a TreeSet as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>TreeSet&lt;Integer&gt; ts = new TreeSet&lt;Integer&gt;();\n\nfor(int i = 0; i &lt; (int)1e7; i++){\n    ts.add((int)(Math.random() * 1e9));\n}\n\nSystem.out.println(&quot;ts: &quot; + ts.size());\nSortedSet&lt;Integer&gt; s = ts.subSet(500, (int)8e8);\ns.clear();\nSystem.out.println(&quot;ts: &quot; + ts.size());\n</code></pre>\n<p>What is the runtime of this operation?</p>\n<p>Is it <code>O(log(n))</code> or <code>O(n)</code>? I found some <a href=\"https://stackoverflow.com/questions/14379515/computational-complexity-of-treeset-methods-in-java\">references</a> stating that the <code>subSet()</code> operation takes <code>log(n)</code>. I've also read that the <code>clear()</code> operation is <code>O(1)</code>, but wouldn't the individual nodes to be cleared, making it potentially <code>O(n)</code>?</p>\n"},{"tags":["java","spring-boot","docker","docker-compose","spring-cloud"],"comments":[{"owner":{"account_id":13863020,"reputation":137023,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1671292878,"post_id":74835400,"comment_id":132070341,"body_markdown":"Your error messages look like you&#39;re misusing `localhost`; in a Docker context this almost always refers to the current container, not another container or the non-Docker host system.  It might help on the one hand to reduce the question to the minimum required to demonstrate the problem – can you show the same issue with just two containers, and a minimal set of Compose options? – and on the other to include the configuration options showing what&#39;s trying to make these HTTP GET calls.  Can you [edit] the question to contain a [mcve]?","body":"Your error messages look like you&#39;re misusing <code>localhost</code>; in a Docker context this almost always refers to the current container, not another container or the non-Docker host system.  It might help on the one hand to reduce the question to the minimum required to demonstrate the problem – can you show the same issue with just two containers, and a minimal set of Compose options? – and on the other to include the configuration options showing what&#39;s trying to make these HTTP GET calls.  Can you <a href=\"https://stackoverflow.com/posts/74835400/edit\">edit</a> the question to contain a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>?"},{"owner":{"account_id":13863020,"reputation":137023,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1671293319,"post_id":74835400,"comment_id":132070420,"body_markdown":"The `localhost` URLs from the error messages aren&#39;t included there, so it&#39;s hard to tell.  This will also be easier to debug for only one service at a time and not four all at once.","body":"The <code>localhost</code> URLs from the error messages aren&#39;t included there, so it&#39;s hard to tell.  This will also be easier to debug for only one service at a time and not four all at once."},{"owner":{"account_id":14707994,"reputation":162,"user_id":10622099,"display_name":"DaniyalVaghar"},"score":0,"creation_date":1671302021,"post_id":74835400,"comment_id":132071965,"body_markdown":"as i saw you defined network for authservice and some of your services but didnt define that network for apigatewayservice, put all of your microservices in the same network and try","body":"as i saw you defined network for authservice and some of your services but didnt define that network for apigatewayservice, put all of your microservices in the same network and try"},{"owner":{"account_id":14707994,"reputation":162,"user_id":10622099,"display_name":"DaniyalVaghar"},"score":0,"creation_date":1671302944,"post_id":74835400,"comment_id":132072150,"body_markdown":"how did you used CONFIG_SERVER_URL=configserver in your code?? it seems you used @value or smth like this,chrck that code","body":"how did you used CONFIG_SERVER_URL=configserver in your code?? it seems you used @value or smth like this,chrck that code"},{"owner":{"account_id":19205353,"reputation":5498,"user_id":14032355,"display_name":"ikhvjs"},"score":0,"creation_date":1671303431,"post_id":74835400,"comment_id":132072238,"body_markdown":"If you use ports attribute in docker compose file, containers access them by http://localhost:8081 like so. If you want to access them as the service id like configservice:8181, that configservice need to add expose attribute in the docker compose file","body":"If you use ports attribute in docker compose file, containers access them by <a href=\"http://localhost:8081\" rel=\"nofollow noreferrer\">localhost:8081</a> like so. If you want to access them as the service id like configservice:8181, that configservice need to add expose attribute in the docker compose file"},{"owner":{"account_id":19205353,"reputation":5498,"user_id":14032355,"display_name":"ikhvjs"},"score":0,"creation_date":1671305201,"post_id":74835400,"comment_id":132072644,"body_markdown":"add `expose` attribute for configserver instead of ports attribute. Search the difference between expose and ports in docker compose.","body":"add <code>expose</code> attribute for configserver instead of ports attribute. Search the difference between expose and ports in docker compose."},{"owner":{"account_id":13863020,"reputation":137023,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1671316079,"post_id":74835400,"comment_id":132074530,"body_markdown":"@ikhvjs &quot;Expose&quot; as a Docker verb means almost nothing.  Adding an `expose:` line to your Compose file will do nothing, and it&#39;s always safe to delete an `expose:` block if one is present.","body":"@ikhvjs &quot;Expose&quot; as a Docker verb means almost nothing.  Adding an <code>expose:</code> line to your Compose file will do nothing, and it&#39;s always safe to delete an <code>expose:</code> block if one is present."},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1671369379,"post_id":74835400,"comment_id":132080549,"body_markdown":"@DavidMaze I revised some codes in docker-compose.yml I still couldn&#39;t fix the issue. I get configserver issue in api gateway. I fixed the other issues.","body":"@DavidMaze I revised some codes in docker-compose.yml I still couldn&#39;t fix the issue. I get configserver issue in api gateway. I fixed the other issues."},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1671374238,"post_id":74835400,"comment_id":132081560,"body_markdown":"@ikhvjs I couldn&#39;t still the configserver issue regarding api gateway.","body":"@ikhvjs I couldn&#39;t still the configserver issue regarding api gateway."},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1671374252,"post_id":74835400,"comment_id":132081562,"body_markdown":"@DaniyalVaghar I couldn&#39;t still the configserver issue regarding api gateway.","body":"@DaniyalVaghar I couldn&#39;t still the configserver issue regarding api gateway."},{"owner":{"account_id":19205353,"reputation":5498,"user_id":14032355,"display_name":"ikhvjs"},"score":0,"creation_date":1671440298,"post_id":74835400,"comment_id":132091732,"body_markdown":"What is your docker compose file version?","body":"What is your docker compose file version?"}],"answers":[{"tags":[],"owner":{"account_id":10153177,"reputation":5292,"user_id":7499069,"display_name":"tuhin47"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671308090,"creation_date":1671308090,"answer_id":74837205,"question_id":74835400,"body_markdown":"You have to update your `application.yml` and `docker-compose.yml` files.\r\n\r\nThese lines should be present to override the `EUREKA_SERVER_ADDRESS`\r\n\r\n```yml\r\neureka:\r\n  instance:\r\n    prefer-ip-address: true\r\n  client:\r\n    fetch-registry: true\r\n    register-with-eureka: true\r\n    service-url:\r\n      defaultZone: ${EUREKA_SERVER_ADDRESS:http://localhost:8761/eureka}\r\n\r\n```\r\n\r\nand to communicate within the container you need to use a common network.\r\nSo it should look like this. \r\n\r\n```yml\r\n\r\n  serviceregistry:\r\n    image: &#39;microservicedailybuffer/serviceregistry:0.0.1&#39;\r\n    container_name: serviceregistry\r\n    ports:\r\n      - &#39;8761:8761&#39;\r\n    networks:\r\n      - backend\r\n\r\n  configserver:\r\n    image: &#39;microservicedailybuffer/configserver:0.0.1&#39;\r\n    container_name: configserver\r\n    ports:\r\n      - &#39;9296:9296&#39;\r\n    environment:\r\n      - EUREKA_SERVER_ADDRESS=http://serviceregistry:8761/eureka\r\n    healthcheck:\r\n      test: [ &quot;CMD&quot;, &quot;curl&quot;, &quot;-f&quot;, &quot;http://configserver:9296/actuator/health&quot; ]\r\n      interval: 10s\r\n      timeout: 5s\r\n      retries: 5\r\n    depends_on:\r\n      - serviceregistry\r\n    networks:\r\n      - backend\r\n\r\n```","title":"Docker Connection Issue in Spring Boot Microservice - nested exception is java.net.ConnectException: Connection refused : configserver","body":"<p>You have to update your <code>application.yml</code> and <code>docker-compose.yml</code> files.</p>\n<p>These lines should be present to override the <code>EUREKA_SERVER_ADDRESS</code></p>\n<pre class=\"lang-yaml prettyprint-override\"><code>eureka:\n  instance:\n    prefer-ip-address: true\n  client:\n    fetch-registry: true\n    register-with-eureka: true\n    service-url:\n      defaultZone: ${EUREKA_SERVER_ADDRESS:http://localhost:8761/eureka}\n\n</code></pre>\n<p>and to communicate within the container you need to use a common network.\nSo it should look like this.</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>\n  serviceregistry:\n    image: 'microservicedailybuffer/serviceregistry:0.0.1'\n    container_name: serviceregistry\n    ports:\n      - '8761:8761'\n    networks:\n      - backend\n\n  configserver:\n    image: 'microservicedailybuffer/configserver:0.0.1'\n    container_name: configserver\n    ports:\n      - '9296:9296'\n    environment:\n      - EUREKA_SERVER_ADDRESS=http://serviceregistry:8761/eureka\n    healthcheck:\n      test: [ &quot;CMD&quot;, &quot;curl&quot;, &quot;-f&quot;, &quot;http://configserver:9296/actuator/health&quot; ]\n      interval: 10s\n      timeout: 5s\n      retries: 5\n    depends_on:\n      - serviceregistry\n    networks:\n      - backend\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671391053,"creation_date":1671391053,"answer_id":74843768,"question_id":74835400,"body_markdown":"After revising the api gateway shown below, the issue disappeared.\r\n\r\n      apigateway:\r\n        image: &#39;microservicedailybuffer/apigateway:0.0.1&#39;\r\n        container_name: apigateway\r\n        ports:\r\n          - &#39;9090:9090&#39;\r\n        environment:\r\n          - EUREKA_SERVER_ADDRESS=http://serviceregistry:8761/eureka\r\n          - CONFIG_SERVER_URL=configserver\r\n          - ZIPKIN_URL=http://zipkin:9411\r\n          - REDIS_URL=redis://redis:6379\r\n        depends_on:\r\n          configserver:\r\n            condition: service_healthy\r\n          zipkin:\r\n            condition: service_healthy\r\n          redis:\r\n            condition: service_started\r\n        networks:\r\n          - backend","title":"Docker Connection Issue in Spring Boot Microservice - nested exception is java.net.ConnectException: Connection refused : configserver","body":"<p>After revising the api gateway shown below, the issue disappeared.</p>\n<pre><code>  apigateway:\n    image: 'microservicedailybuffer/apigateway:0.0.1'\n    container_name: apigateway\n    ports:\n      - '9090:9090'\n    environment:\n      - EUREKA_SERVER_ADDRESS=http://serviceregistry:8761/eureka\n      - CONFIG_SERVER_URL=configserver\n      - ZIPKIN_URL=http://zipkin:9411\n      - REDIS_URL=redis://redis:6379\n    depends_on:\n      configserver:\n        condition: service_healthy\n      zipkin:\n        condition: service_healthy\n      redis:\n        condition: service_started\n    networks:\n      - backend\n</code></pre>\n"}],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":553,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74843768,"answer_count":2,"score":1,"last_activity_date":1671391053,"creation_date":1671292176,"question_id":74835400,"body_markdown":"I revised an example of Spring Boot Microservices and I have a problem about running all services on docker.\r\n\r\nAfter creating the image file of each services, I devised a docker-compose.yml to run all services on Docker. I noticed some of services throw ConnectException regarding configserver but I have no idea how to fix it. Here are the code snippets to create Docker image for each service.\r\n\r\n    1 ) service-registry\r\n       - mvn clean install\r\n       - docker build -t microservicedailybuffer/serviceregistry:0.0.1 .\r\n\r\n    2 ) configserver\r\n       - mvn clean install\r\n       - docker build -t microservicedailybuffer/configserver:0.0.1 .\r\n\r\n    3 ) apigateway\r\n       - mvn clean install -D skipTests\r\n       - docker build -t microservicedailybuffer/apigateway:0.0.1 .\r\n\r\n    4 ) auth-service\r\n       - mvn clean install -D skipTests\r\n       - docker build -t microservicedailybuffer/authservice:0.0.1 .\r\n\r\n    5 ) orderservice\r\n       - mvn clean install -D skipTests\r\n       - docker build -t microservicedailybuffer/orderservice:0.0.1 .\r\n\r\n    6 ) productservice\r\n       - mvn clean install -D skipTests\r\n       - docker build -t microservicedailybuffer/productservice:0.0.1 .\r\n\r\n    7 ) paymentservice\r\n       - mvn clean install -D skipTests\r\n       - docker build -t microservicedailybuffer/paymentservice:0.0.1 .\r\n\r\nHere is my `docker-compose.yml` shown below\r\n\r\n    services:\r\n    \r\n      serviceregistry:\r\n        image: &#39;microservicedailybuffer/serviceregistry:0.0.1&#39;\r\n        container_name: serviceregistry\r\n        ports:\r\n          - &#39;8761:8761&#39;\r\n        networks:\r\n          - backend\r\n    \r\n      configserver:\r\n        image: &#39;microservicedailybuffer/configserver:0.0.1&#39;\r\n        container_name: configserver\r\n        ports:\r\n          - &#39;9296:9296&#39;\r\n        environment:\r\n          - EUREKA_SERVER_ADDRESS=http://serviceregistry:8761/eureka\r\n        healthcheck:\r\n          test: [ &quot;CMD&quot;, &quot;curl&quot;, &quot;-f&quot;, &quot;http://configserver:9296/actuator/health&quot; ]\r\n          interval: 10s\r\n          timeout: 5s\r\n          retries: 5\r\n        depends_on:\r\n          - serviceregistry\r\n        networks:\r\n          - backend\r\n    \r\n      apigateway:\r\n        image: &#39;microservicedailybuffer/apigateway:0.0.1&#39;\r\n        container_name: apigateway\r\n        ports:\r\n          - &#39;9090:9090&#39;\r\n        environment:\r\n          - EUREKA_SERVER_ADDRESS=http://serviceregistry:8761/eureka\r\n          - CONFIG_SERVER_URL=configserver\r\n          - ZIPKIN_URL=http://zipkin:9411\r\n          - REDIS_URL=redis://redis:6379\r\n        depends_on:\r\n          - configserver\r\n          - zipkin\r\n          - redis\r\n          - serviceregistry\r\n        networks:\r\n          - backend\r\n    \r\n    \r\n      zipkin:\r\n        image: openzipkin/zipkin\r\n        ports:\r\n          - &quot;9411:9411&quot;\r\n        networks:\r\n          - backend\r\n    \r\n      redis:\r\n        image: redis\r\n        ports:\r\n          - &quot;6379:6379&quot;\r\n        networks:\r\n          - backend\r\n    \r\n    \r\n      authservice:\r\n        image: &#39;microservicedailybuffer/authservice:0.0.1&#39;\r\n        container_name: authservice\r\n        ports:\r\n          - &#39;7777:7777&#39;\r\n        environment:\r\n          - EUREKA_SERVER_ADDRESS=http://serviceregistry:8761/eureka\r\n          - CONFIG_SERVER_URL=configserver\r\n          - spring.datasource.url=jdbc:mysql://database:3306/userdb?createDatabaseIfNotExist=true&amp;useSSL=false&amp;allowPublicKeyRetrieval=true&amp;serverTimezone=Turkey\r\n          - spring.datasource.username=root\r\n          - spring.datasource.password=ippavlova_1990\r\n        depends_on:\r\n          database:\r\n            condition: service_healthy\r\n          configserver:\r\n            condition: service_started\r\n        networks:\r\n          - backend\r\n    \r\n    \r\n      productservice:\r\n        image: &#39;microservicedailybuffer/productservice:0.0.1&#39;\r\n        container_name: productservice\r\n        ports:\r\n          - &#39;8081:8081&#39;\r\n        environment:\r\n          - EUREKA_SERVER_ADDRESS=http://serviceregistry:8761/eureka\r\n          - CONFIG_SERVER_URL=configserver\r\n          - spring.datasource.url=jdbc:mysql://database:3306/productdb?createDatabaseIfNotExist=true&amp;useSSL=false&amp;allowPublicKeyRetrieval=true&amp;serverTimezone=Turkey\r\n          - spring.datasource.username=root\r\n          - spring.datasource.password=ippavlova_1990\r\n          - ZIPKIN_URL=http://zipkin:9411\r\n        depends_on:\r\n          database:\r\n            condition: service_healthy\r\n          configserver:\r\n            condition: service_started\r\n          zipkin:\r\n            condition: service_healthy\r\n        networks:\r\n          - backend\r\n    \r\n      orderservice:\r\n        image: &#39;microservicedailybuffer/orderservice:0.0.1&#39;\r\n        container_name: orderservice\r\n        ports:\r\n          - &#39;8082:8082&#39;\r\n        environment:\r\n          - EUREKA_SERVER_ADDRESS=http://serviceregistry:8761/eureka\r\n          - CONFIG_SERVER_URL=configserver\r\n          - spring.datasource.url=jdbc:mysql://database:3306/orderdb?createDatabaseIfNotExist=true&amp;useSSL=false&amp;allowPublicKeyRetrieval=true&amp;serverTimezone=Turkey\r\n          - spring.datasource.username=root\r\n          - spring.datasource.password=ippavlova_1990\r\n          - ZIPKIN_URL=http://zipkin:9411\r\n        depends_on:\r\n          database:\r\n            condition: service_healthy\r\n          configserver:\r\n            condition: service_started\r\n          zipkin:\r\n            condition: service_healthy\r\n        networks:\r\n          - backend\r\n    \r\n    \r\n      paymentservice:\r\n        image: &#39;microservicedailybuffer/paymentservice:0.0.1&#39;\r\n        container_name: paymentservice\r\n        ports:\r\n          - &#39;8083:8083&#39;\r\n        environment:\r\n          - EUREKA_SERVER_ADDRESS=http://serviceregistry:8761/eureka\r\n          - CONFIG_SERVER_URL=configserver\r\n          - spring.datasource.url=jdbc:mysql://database:3306/paymentdb?createDatabaseIfNotExist=true&amp;useSSL=false&amp;allowPublicKeyRetrieval=true&amp;serverTimezone=Turkey\r\n          - spring.datasource.username=root\r\n          - spring.datasource.password=ippavlova_1990\r\n          - ZIPKIN_URL=http://zipkin:9411\r\n        depends_on:\r\n          database:\r\n            condition: service_healthy\r\n          configserver:\r\n            condition: service_started\r\n          zipkin:\r\n            condition: service_healthy\r\n        networks:\r\n          - backend\r\n    \r\n    \r\n      database:\r\n        container_name: mysql-database\r\n        image: &#39;mysql:latest&#39;\r\n        ports:\r\n          - &quot;3306:3306&quot;\r\n        restart: always\r\n        environment:\r\n          #MYSQL_USER: root\r\n          MYSQL_PASSWORD: ippavlova_1990\r\n          MYSQL_ROOT_PASSWORD: ippavlova_1990\r\n        volumes:\r\n          - db-data:/var/lib/mysql\r\n        networks:\r\n          - backend\r\n        healthcheck:\r\n          test: [&quot;CMD&quot;, &quot;mysqladmin&quot; ,&quot;ping&quot;, &quot;-h&quot;, &quot;localhost&quot;]\r\n          timeout: 20s\r\n          retries: 10\r\n    \r\n    \r\n    networks:\r\n      backend:\r\n        driver: bridge\r\n    \r\n    volumes:\r\n      db-data:\r\n\r\n\r\n\r\nWhen I run the docker-compose file through docker-compose up, I get some problems in api gateway.\r\n\r\n**Api Gateway Issue**\r\n\r\n    Caused by: org.springframework.web.client.ResourceAccessException: I/O error on GET request for &quot;http://configserver:9296/API-GATEWAY/default&quot;: Connection refused (Connection refused); nested exception is java.net.ConnectException: Connection refused (Connection refused)\r\n\r\nHow can I fix all these issue?\r\n\r\nHere is the repo : [Link][1]\r\n\r\nHere is the git based system file :  [Link][2]\r\n\r\n\r\n  [1]: https://github.com/Rapter1990/springbootmicroservicedailybuffer\r\n  [2]: https://github.com/Rapter1990/springappconfig","title":"Docker Connection Issue in Spring Boot Microservice - nested exception is java.net.ConnectException: Connection refused : configserver","body":"<p>I revised an example of Spring Boot Microservices and I have a problem about running all services on docker.</p>\n<p>After creating the image file of each services, I devised a docker-compose.yml to run all services on Docker. I noticed some of services throw ConnectException regarding configserver but I have no idea how to fix it. Here are the code snippets to create Docker image for each service.</p>\n<pre><code>1 ) service-registry\n   - mvn clean install\n   - docker build -t microservicedailybuffer/serviceregistry:0.0.1 .\n\n2 ) configserver\n   - mvn clean install\n   - docker build -t microservicedailybuffer/configserver:0.0.1 .\n\n3 ) apigateway\n   - mvn clean install -D skipTests\n   - docker build -t microservicedailybuffer/apigateway:0.0.1 .\n\n4 ) auth-service\n   - mvn clean install -D skipTests\n   - docker build -t microservicedailybuffer/authservice:0.0.1 .\n\n5 ) orderservice\n   - mvn clean install -D skipTests\n   - docker build -t microservicedailybuffer/orderservice:0.0.1 .\n\n6 ) productservice\n   - mvn clean install -D skipTests\n   - docker build -t microservicedailybuffer/productservice:0.0.1 .\n\n7 ) paymentservice\n   - mvn clean install -D skipTests\n   - docker build -t microservicedailybuffer/paymentservice:0.0.1 .\n</code></pre>\n<p>Here is my <code>docker-compose.yml</code> shown below</p>\n<pre><code>services:\n\n  serviceregistry:\n    image: 'microservicedailybuffer/serviceregistry:0.0.1'\n    container_name: serviceregistry\n    ports:\n      - '8761:8761'\n    networks:\n      - backend\n\n  configserver:\n    image: 'microservicedailybuffer/configserver:0.0.1'\n    container_name: configserver\n    ports:\n      - '9296:9296'\n    environment:\n      - EUREKA_SERVER_ADDRESS=http://serviceregistry:8761/eureka\n    healthcheck:\n      test: [ &quot;CMD&quot;, &quot;curl&quot;, &quot;-f&quot;, &quot;http://configserver:9296/actuator/health&quot; ]\n      interval: 10s\n      timeout: 5s\n      retries: 5\n    depends_on:\n      - serviceregistry\n    networks:\n      - backend\n\n  apigateway:\n    image: 'microservicedailybuffer/apigateway:0.0.1'\n    container_name: apigateway\n    ports:\n      - '9090:9090'\n    environment:\n      - EUREKA_SERVER_ADDRESS=http://serviceregistry:8761/eureka\n      - CONFIG_SERVER_URL=configserver\n      - ZIPKIN_URL=http://zipkin:9411\n      - REDIS_URL=redis://redis:6379\n    depends_on:\n      - configserver\n      - zipkin\n      - redis\n      - serviceregistry\n    networks:\n      - backend\n\n\n  zipkin:\n    image: openzipkin/zipkin\n    ports:\n      - &quot;9411:9411&quot;\n    networks:\n      - backend\n\n  redis:\n    image: redis\n    ports:\n      - &quot;6379:6379&quot;\n    networks:\n      - backend\n\n\n  authservice:\n    image: 'microservicedailybuffer/authservice:0.0.1'\n    container_name: authservice\n    ports:\n      - '7777:7777'\n    environment:\n      - EUREKA_SERVER_ADDRESS=http://serviceregistry:8761/eureka\n      - CONFIG_SERVER_URL=configserver\n      - spring.datasource.url=jdbc:mysql://database:3306/userdb?createDatabaseIfNotExist=true&amp;useSSL=false&amp;allowPublicKeyRetrieval=true&amp;serverTimezone=Turkey\n      - spring.datasource.username=root\n      - spring.datasource.password=ippavlova_1990\n    depends_on:\n      database:\n        condition: service_healthy\n      configserver:\n        condition: service_started\n    networks:\n      - backend\n\n\n  productservice:\n    image: 'microservicedailybuffer/productservice:0.0.1'\n    container_name: productservice\n    ports:\n      - '8081:8081'\n    environment:\n      - EUREKA_SERVER_ADDRESS=http://serviceregistry:8761/eureka\n      - CONFIG_SERVER_URL=configserver\n      - spring.datasource.url=jdbc:mysql://database:3306/productdb?createDatabaseIfNotExist=true&amp;useSSL=false&amp;allowPublicKeyRetrieval=true&amp;serverTimezone=Turkey\n      - spring.datasource.username=root\n      - spring.datasource.password=ippavlova_1990\n      - ZIPKIN_URL=http://zipkin:9411\n    depends_on:\n      database:\n        condition: service_healthy\n      configserver:\n        condition: service_started\n      zipkin:\n        condition: service_healthy\n    networks:\n      - backend\n\n  orderservice:\n    image: 'microservicedailybuffer/orderservice:0.0.1'\n    container_name: orderservice\n    ports:\n      - '8082:8082'\n    environment:\n      - EUREKA_SERVER_ADDRESS=http://serviceregistry:8761/eureka\n      - CONFIG_SERVER_URL=configserver\n      - spring.datasource.url=jdbc:mysql://database:3306/orderdb?createDatabaseIfNotExist=true&amp;useSSL=false&amp;allowPublicKeyRetrieval=true&amp;serverTimezone=Turkey\n      - spring.datasource.username=root\n      - spring.datasource.password=ippavlova_1990\n      - ZIPKIN_URL=http://zipkin:9411\n    depends_on:\n      database:\n        condition: service_healthy\n      configserver:\n        condition: service_started\n      zipkin:\n        condition: service_healthy\n    networks:\n      - backend\n\n\n  paymentservice:\n    image: 'microservicedailybuffer/paymentservice:0.0.1'\n    container_name: paymentservice\n    ports:\n      - '8083:8083'\n    environment:\n      - EUREKA_SERVER_ADDRESS=http://serviceregistry:8761/eureka\n      - CONFIG_SERVER_URL=configserver\n      - spring.datasource.url=jdbc:mysql://database:3306/paymentdb?createDatabaseIfNotExist=true&amp;useSSL=false&amp;allowPublicKeyRetrieval=true&amp;serverTimezone=Turkey\n      - spring.datasource.username=root\n      - spring.datasource.password=ippavlova_1990\n      - ZIPKIN_URL=http://zipkin:9411\n    depends_on:\n      database:\n        condition: service_healthy\n      configserver:\n        condition: service_started\n      zipkin:\n        condition: service_healthy\n    networks:\n      - backend\n\n\n  database:\n    container_name: mysql-database\n    image: 'mysql:latest'\n    ports:\n      - &quot;3306:3306&quot;\n    restart: always\n    environment:\n      #MYSQL_USER: root\n      MYSQL_PASSWORD: ippavlova_1990\n      MYSQL_ROOT_PASSWORD: ippavlova_1990\n    volumes:\n      - db-data:/var/lib/mysql\n    networks:\n      - backend\n    healthcheck:\n      test: [&quot;CMD&quot;, &quot;mysqladmin&quot; ,&quot;ping&quot;, &quot;-h&quot;, &quot;localhost&quot;]\n      timeout: 20s\n      retries: 10\n\n\nnetworks:\n  backend:\n    driver: bridge\n\nvolumes:\n  db-data:\n</code></pre>\n<p>When I run the docker-compose file through docker-compose up, I get some problems in api gateway.</p>\n<p><strong>Api Gateway Issue</strong></p>\n<pre><code>Caused by: org.springframework.web.client.ResourceAccessException: I/O error on GET request for &quot;http://configserver:9296/API-GATEWAY/default&quot;: Connection refused (Connection refused); nested exception is java.net.ConnectException: Connection refused (Connection refused)\n</code></pre>\n<p>How can I fix all these issue?</p>\n<p>Here is the repo : <a href=\"https://github.com/Rapter1990/springbootmicroservicedailybuffer\" rel=\"nofollow noreferrer\">Link</a></p>\n<p>Here is the git based system file :  <a href=\"https://github.com/Rapter1990/springappconfig\" rel=\"nofollow noreferrer\">Link</a></p>\n"},{"tags":["java","spring","spring-boot","spring-security"],"answers":[{"tags":[],"owner":{"account_id":47282,"reputation":2151,"user_id":139984,"display_name":"Mateusz Mrozewski"},"down_vote_count":0,"up_vote_count":29,"is_accepted":true,"score":29,"last_activity_date":1671390663,"creation_date":1520272266,"answer_id":49116567,"question_id":49116485,"body_markdown":"The article you mentioned describes it a little bit further:\r\n\r\n&gt; There is no default instance of BCryptPasswordEncoder that can be injected in the UserController class\r\n\r\nAnd later in code\r\n\r\n    \r\n    @Bean\r\n    public BCryptPasswordEncoder bCryptPasswordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\nDid you follow these steps and do you define a `BCryptPasswordEncoder` class?","title":"Spring Security 5 : No Beans of type BCryptPasswordEncoder found","body":"<p>The article you mentioned describes it a little bit further:</p>\n<blockquote>\n<p>There is no default instance of BCryptPasswordEncoder that can be injected in the UserController class</p>\n</blockquote>\n<p>And later in code</p>\n<pre><code>@Bean\npublic BCryptPasswordEncoder bCryptPasswordEncoder() {\n    return new BCryptPasswordEncoder();\n}\n</code></pre>\n<p>Did you follow these steps and do you define a <code>BCryptPasswordEncoder</code> class?</p>\n"},{"tags":[],"owner":{"account_id":13291674,"reputation":865,"user_id":11423910,"display_name":"soufiane ELAMMARI"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1556475325,"creation_date":1556475325,"answer_id":55893215,"question_id":49116485,"body_markdown":"        @Bean\r\n    public BCryptPasswordEncoder bCryptPasswordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\nadd this injection in the same class ,cause spring could not inject automaticaly this dependency by using only autowired ","title":"Spring Security 5 : No Beans of type BCryptPasswordEncoder found","body":"<pre><code>    @Bean\npublic BCryptPasswordEncoder bCryptPasswordEncoder() {\n    return new BCryptPasswordEncoder();\n}\n</code></pre>\n\n<p>add this injection in the same class ,cause spring could not inject automaticaly this dependency by using only autowired </p>\n"},{"tags":[],"owner":{"account_id":12217954,"reputation":192,"user_id":8917796,"display_name":"Aqib Nabi"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1569842647,"creation_date":1569842647,"answer_id":58166935,"question_id":49116485,"body_markdown":"add it like this in your main application class\r\n\r\n        @SpringBootApplication\r\n        public class YourApplicationName{\r\n        \r\n        \tpublic static void main(String[] args) {\r\n        \t\tSpringApplication.run(MobileAppWsApplication.class, args);\r\n        \t}\r\n        \t@Bean\r\n        \tpublic BCryptPasswordEncoder bCryptPasswordEncoder() {\r\n        \t\treturn new BCryptPasswordEncoder();\r\n        \t}\r\n    }","title":"Spring Security 5 : No Beans of type BCryptPasswordEncoder found","body":"<p>add it like this in your main application class</p>\n\n<pre><code>    @SpringBootApplication\n    public class YourApplicationName{\n\n        public static void main(String[] args) {\n            SpringApplication.run(MobileAppWsApplication.class, args);\n        }\n        @Bean\n        public BCryptPasswordEncoder bCryptPasswordEncoder() {\n            return new BCryptPasswordEncoder();\n        }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17619217,"reputation":1510,"user_id":12785586,"display_name":"User"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1609420542,"creation_date":1609420542,"answer_id":65521380,"question_id":49116485,"body_markdown":"    @Bean\r\n    public BCryptPasswordEncoder bCryptPasswordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\nThis code works for me","title":"Spring Security 5 : No Beans of type BCryptPasswordEncoder found","body":"<pre><code>@Bean\npublic BCryptPasswordEncoder bCryptPasswordEncoder() {\n    return new BCryptPasswordEncoder();\n}\n</code></pre>\n<p>This code works for me</p>\n"},{"tags":[],"owner":{"account_id":14307665,"reputation":11,"user_id":10335053,"display_name":"JhonEx"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642166689,"creation_date":1642166689,"answer_id":70711255,"question_id":49116485,"body_markdown":"    @Bean\r\n    public BCryptPasswordEncoder bCryptPasswordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\nThis code worked for me by placing it main class of spring (Spring5MvcRestApplication)","title":"Spring Security 5 : No Beans of type BCryptPasswordEncoder found","body":"<pre><code>@Bean\npublic BCryptPasswordEncoder bCryptPasswordEncoder() {\n    return new BCryptPasswordEncoder();\n}\n</code></pre>\n<p>This code worked for me by placing it main class of spring (Spring5MvcRestApplication)</p>\n"},{"tags":[],"owner":{"account_id":23208927,"reputation":1159,"user_id":17302718,"display_name":"Mounir bkr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671138001,"creation_date":1671138001,"answer_id":74817505,"question_id":49116485,"body_markdown":"you have just add BCryptPasswordEncoder in your code or in a main class:\r\n\r\n\r\n\r\n\r\n\r\n    @Bean\r\n    public BCryptPasswordEncoder bCryptPasswordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\n\r\n","title":"Spring Security 5 : No Beans of type BCryptPasswordEncoder found","body":"<p>you have just add BCryptPasswordEncoder in your code or in a main class:</p>\n<pre><code>@Bean\npublic BCryptPasswordEncoder bCryptPasswordEncoder() {\n    return new BCryptPasswordEncoder();\n}\n</code></pre>\n"}],"owner":{"account_id":6094045,"reputation":3231,"user_id":4755440,"accept_rate":59,"display_name":"Paras"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14039,"favorite_count":0,"down_vote_count":1,"up_vote_count":10,"accepted_answer_id":49116567,"answer_count":6,"score":9,"last_activity_date":1671390663,"creation_date":1520271955,"question_id":49116485,"body_markdown":"I&#39;m trying to secure a REST API using JWT tokens. For saving encoded user password I&#39;m trying to use bcrypt for encoding. However when I&#39;m trying to autowire BCryptPasswordEncoder, I&#39;m getting following error :\r\n\r\n    Could not autowire. No beans of BCryptPasswordEncoder type found. Check autowiring problems in bean class.\r\n\r\nThis is how my controller looks like :\r\n\r\n    package com.starter.springsecurity.demo.controller;\r\n    \r\n    import com.starter.springsecurity.demo.domain.User;\r\n    import com.starter.springsecurity.demo.repository.UserRepository;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\n    import org.springframework.web.bind.annotation.RequestBody;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    @RestController\r\n    @RequestMapping(&quot;/users&quot;)\r\n    public class UserController {\r\n    \r\n        @Autowired\r\n        private UserRepository userRepository;\r\n    \r\n        private BCryptPasswordEncoder bCryptPasswordEncoder;\r\n    \r\n        public UserController(BCryptPasswordEncoder bCryptPasswordEncoder){\r\n            this.bCryptPasswordEncoder = bCryptPasswordEncoder;\r\n        }\r\n    \r\n        @RequestMapping(&quot;/register&quot;)\r\n        public void register(@RequestBody User user){\r\n    \r\n        }\r\n    }\r\n\r\nThis is the blog which I&#39;m following :\r\nhttps://dzone.com/articles/implementing-jwt-authentication-on-spring-boot-api\r\n\r\n    Pom.xml\r\n    \r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n    \t&lt;groupId&gt;com.starter.springsecurity&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \r\n    \t&lt;name&gt;Spring Security demo&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.0.0.RELEASE&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t\t&lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    \r\n    &lt;/project&gt;\r\n\r\n\r\nHas something change in Spring Security 5 regarding Bcrypt?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Jlhmd.png","title":"Spring Security 5 : No Beans of type BCryptPasswordEncoder found","body":"<p>I'm trying to secure a REST API using JWT tokens. For saving encoded user password I'm trying to use bcrypt for encoding. However when I'm trying to autowire BCryptPasswordEncoder, I'm getting following error :</p>\n\n<pre><code>Could not autowire. No beans of BCryptPasswordEncoder type found. Check autowiring problems in bean class.\n</code></pre>\n\n<p>This is how my controller looks like :</p>\n\n<pre><code>package com.starter.springsecurity.demo.controller;\n\nimport com.starter.springsecurity.demo.domain.User;\nimport com.starter.springsecurity.demo.repository.UserRepository;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\n@RequestMapping(\"/users\")\npublic class UserController {\n\n    @Autowired\n    private UserRepository userRepository;\n\n    private BCryptPasswordEncoder bCryptPasswordEncoder;\n\n    public UserController(BCryptPasswordEncoder bCryptPasswordEncoder){\n        this.bCryptPasswordEncoder = bCryptPasswordEncoder;\n    }\n\n    @RequestMapping(\"/register\")\n    public void register(@RequestBody User user){\n\n    }\n}\n</code></pre>\n\n<p>This is the blog which I'm following :\n<a href=\"https://dzone.com/articles/implementing-jwt-authentication-on-spring-boot-api\" rel=\"noreferrer\">https://dzone.com/articles/implementing-jwt-authentication-on-spring-boot-api</a></p>\n\n<pre><code>Pom.xml\n\n&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.starter.springsecurity&lt;/groupId&gt;\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;name&gt;Spring Security demo&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.0.0.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n\n&lt;/project&gt;\n</code></pre>\n\n<p>Has something change in Spring Security 5 regarding Bcrypt?</p>\n\n<p><a href=\"https://i.stack.imgur.com/Jlhmd.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Jlhmd.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","regex","passwords"],"comments":[{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1671378802,"post_id":74842637,"comment_id":132082299,"body_markdown":"What you describe is a __weak__ password. A &#39;strong&#39; password is one that an automated cracker tool cannot crack. &quot;Must have a number&quot; is lovely, as a cracking tool, that makes things easier, not harder. &quot;A number must be in there&quot; reduces the search space: 95%+ of users stick either a &#39;1&#39; on the end, the year of their birth on the end, the year of signup on the end, or, rarely, replace an &#39;i&#39; with a &#39;1&#39; or an &#39;a&#39; with a 4 or an &#39;e&#39; with a 3. See NIST recommendations. This is horrible, horrible security.","body":"What you describe is a <b>weak</b> password. A &#39;strong&#39; password is one that an automated cracker tool cannot crack. &quot;Must have a number&quot; is lovely, as a cracking tool, that makes things easier, not harder. &quot;A number must be in there&quot; reduces the search space: 95%+ of users stick either a &#39;1&#39; on the end, the year of their birth on the end, the year of signup on the end, or, rarely, replace an &#39;i&#39; with a &#39;1&#39; or an &#39;a&#39; with a 4 or an &#39;e&#39; with a 3. See NIST recommendations. This is horrible, horrible security."},{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1671378861,"post_id":74842637,"comment_id":132082310,"body_markdown":"You must have a second factor such as TOTP for proper security. For pw rules: at least 8, that&#39;s good enough. If you want more, install jack-the-cracker or similar software and have it run spare CPU cycles against your pw db. If it cracks one, next time that user logs in, tell them they have to change their pass.","body":"You must have a second factor such as TOTP for proper security. For pw rules: at least 8, that&#39;s good enough. If you want more, install jack-the-cracker or similar software and have it run spare CPU cycles against your pw db. If it cracks one, next time that user logs in, tell them they have to change their pass."},{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1671378932,"post_id":74842637,"comment_id":132082325,"body_markdown":"Example extremely powerful password: &quot;walk vase bind red&quot;. This has _vastly_ more entropy than anything 8 characters. And your silly argument would consider that &#39;weak&#39;, proving the point. See [here](https://xkcd.com/936/).","body":"Example extremely powerful password: &quot;walk vase bind red&quot;. This has <i>vastly</i> more entropy than anything 8 characters. And your silly argument would consider that &#39;weak&#39;, proving the point. See <a href=\"https://xkcd.com/936/\" rel=\"nofollow noreferrer\">here</a>."},{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1671379023,"post_id":74842637,"comment_id":132082343,"body_markdown":"Other truths few know about: &quot;Must have a special character&quot; -&gt; That means there it&#39;ll be an exclamation point over 90% of the time, and it&#39;ll appear at the end, or just before the mandatory digit. &quot;Must have a capital&quot; -&gt; The first letter will be capitalized. All of this reduces entropy, i.e. is stupid as a password restriction. There&#39;s value in enforcing a &#39;good password&#39;, sure. But &#39;must have a capital letter&#39; does not accomplish the goal of finding a good password!","body":"Other truths few know about: &quot;Must have a special character&quot; -&gt; That means there it&#39;ll be an exclamation point over 90% of the time, and it&#39;ll appear at the end, or just before the mandatory digit. &quot;Must have a capital&quot; -&gt; The first letter will be capitalized. All of this reduces entropy, i.e. is stupid as a password restriction. There&#39;s value in enforcing a &#39;good password&#39;, sure. But &#39;must have a capital letter&#39; does not accomplish the goal of finding a good password!"}],"answers":[{"tags":[],"owner":{"account_id":20713864,"reputation":56,"user_id":15209834,"display_name":"Vuzz"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1671378965,"creation_date":1671378965,"answer_id":74842703,"question_id":74842637,"body_markdown":"You forgot a full point after the lookahead of special characters. So it would be:\r\n\r\n    &quot;^(?=(.*[A-Z])+)(?=(.*[a-z])+)(?=(.*[0-9])+)(?=(.*[!@#$%^&amp;*()_+=.])+).{10,}$&quot;","title":"I&#39;m trying to create a regex for a strong password","body":"<p>You forgot a full point after the lookahead of special characters. So it would be:</p>\n<pre><code>&quot;^(?=(.*[A-Z])+)(?=(.*[a-z])+)(?=(.*[0-9])+)(?=(.*[!@#$%^&amp;*()_+=.])+).{10,}$&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24864423,"reputation":34,"user_id":18739729,"display_name":"Ali Reza Shirmohammadi Yazdi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671382155,"creation_date":1671382155,"answer_id":74842996,"question_id":74842637,"body_markdown":"I recommend to you that use https://www.passay.org/. This dependency able you to validate wide range of password policy.","title":"I&#39;m trying to create a regex for a strong password","body":"<p>I recommend to you that use <a href=\"https://www.passay.org/\" rel=\"nofollow noreferrer\">https://www.passay.org/</a>. This dependency able you to validate wide range of password policy.</p>\n"},{"tags":[],"owner":{"account_id":10275035,"reputation":100058,"user_id":7582247,"display_name":"Ted Lyngmo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671390439,"creation_date":1671390439,"answer_id":74843704,"question_id":74842637,"body_markdown":"I&#39;d remove the `+` in the groups inside the lookaheads since those aren&#39;t needed and also make those groups non-capturing. I&#39;d also not explicitly specify the characters in the &quot;special&quot; group. Just make it match any of the characters _not_ in the first three groups, `[^A-Za-z0-9]`. That&#39;ll allow `~` as a special character too etc.\r\n\r\nAlso, the actual matching should be `.{10,}`, not `{10,}`.\r\n```regex\r\n&quot;^(?=(?:.*[A-Z]))(?=(?:.*[a-z]))(?=(?:.*[0-9]))(?=(?:.*[^A-Za-z0-9])).{10,}$&quot;\r\n```","title":"I&#39;m trying to create a regex for a strong password","body":"<p>I'd remove the <code>+</code> in the groups inside the lookaheads since those aren't needed and also make those groups non-capturing. I'd also not explicitly specify the characters in the &quot;special&quot; group. Just make it match any of the characters <em>not</em> in the first three groups, <code>[^A-Za-z0-9]</code>. That'll allow <code>~</code> as a special character too etc.</p>\n<p>Also, the actual matching should be <code>.{10,}</code>, not <code>{10,}</code>.</p>\n<pre><code>&quot;^(?=(?:.*[A-Z]))(?=(?:.*[a-z]))(?=(?:.*[0-9]))(?=(?:.*[^A-Za-z0-9])).{10,}$&quot;\n</code></pre>\n"}],"owner":{"account_id":27290547,"reputation":9,"user_id":20809039,"display_name":"jhindianajones"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":170,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1671390439,"creation_date":1671378225,"question_id":74842637,"body_markdown":"I&#39;m having some trouble creating a regex for a password. It has the following requirements :\r\n- at least 10 characters\r\n- at least 1 uppercase letter\r\n- at least 1 lowercase letter\r\n- at least 1 special character\r\n\r\n\r\nI currently created this line :\r\n`\r\n```\r\n&quot;^(?=(.*[A-Z])+)(?=(.*[a-z])+)(?=(.*[0-9])+)(?=(.*[!@#$%^&amp;*()_+=.])+){10,}$&quot;\r\n```\r\n`\r\nFor a password like : Lollypop56@\r\nit still gives me false.\r\n","title":"I&#39;m trying to create a regex for a strong password","body":"<p>I'm having some trouble creating a regex for a password. It has the following requirements :</p>\n<ul>\n<li>at least 10 characters</li>\n<li>at least 1 uppercase letter</li>\n<li>at least 1 lowercase letter</li>\n<li>at least 1 special character</li>\n</ul>\n<p>I currently created this line :\n`</p>\n<pre><code>&quot;^(?=(.*[A-Z])+)(?=(.*[a-z])+)(?=(.*[0-9])+)(?=(.*[!@#$%^&amp;*()_+=.])+){10,}$&quot;\n</code></pre>\n<p>`\nFor a password like : Lollypop56@\nit still gives me false.</p>\n"},{"tags":["java","spring-boot","spring-security","oauth-2.0","keycloak"],"comments":[{"owner":{"account_id":14162458,"reputation":3900,"user_id":10231374,"display_name":"Toni"},"score":0,"creation_date":1671361217,"post_id":74840421,"comment_id":132079218,"body_markdown":"Have you added `http://localhost:3000` to Web Origins in the settings of your Keycloak client through the admin console?","body":"Have you added <code>http:&#47;&#47;localhost:3000</code> to Web Origins in the settings of your Keycloak client through the admin console?"},{"owner":{"account_id":25157331,"reputation":9,"user_id":19001996,"display_name":"TPL"},"score":0,"creation_date":1671368508,"post_id":74840421,"comment_id":132080405,"body_markdown":"Yes I tried putting localhost:3000 and * in Web Origins, and it still doesn&#39;t work. The onlyway seem to work is to redirect from react app with localtion.href assignment, that I don&#39;t want because of the consitency of authen service","body":"Yes I tried putting localhost:3000 and * in Web Origins, and it still doesn&#39;t work. The onlyway seem to work is to redirect from react app with localtion.href assignment, that I don&#39;t want because of the consitency of authen service"}],"answers":[{"tags":[],"owner":{"account_id":21257942,"reputation":143,"user_id":15639126,"display_name":"rsnlpn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671358116,"creation_date":1671358116,"answer_id":74840504,"question_id":74840421,"body_markdown":"Probably you should try @CrossOrigin annotation.\r\n\r\n[More information about a CORS support in Spring Framework you can find on spring.io website][1]\r\n\r\n\r\n  [1]: https://spring.io/blog/2015/06/08/cors-support-in-spring-framework","title":"Java Spring: No &#39;Access-Control-Allow-Origin&#39; header is present on the requested resource to Keycloak with 2 localhost","body":"<p>Probably you should try @CrossOrigin annotation.</p>\n<p><a href=\"https://spring.io/blog/2015/06/08/cors-support-in-spring-framework\" rel=\"nofollow noreferrer\">More information about a CORS support in Spring Framework you can find on spring.io website</a></p>\n"}],"owner":{"account_id":25157331,"reputation":9,"user_id":19001996,"display_name":"TPL"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":935,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1671390279,"creation_date":1671357212,"question_id":74840421,"body_markdown":"I am trying to connect keycloak for a react-python app via a spring security authentication app service.\r\n\r\nlocalhost:3000 react-python application that use the authentication service (spring-java application) in localhost:80. Then localhost:80 will config with keycloak server in localhost:4000\r\n\r\n**What I have tested:** \r\n\r\n***---------Trying access :80 directly to :4000 (keycloak) -  **successful**:***\r\n\r\n**Response Header**\r\n\r\nCache-Control: no-cache, no-store, max-age=0, must-revalidate\r\n\r\nConnection: keep-alive\r\n\r\nContent-Length: 0\r\n\r\nDate: Sat, 17 Dec 2022 22:59:21 GMT\r\n\r\nExpires: 0\r\n\r\nKeep-Alive: timeout=60\r\n\r\nLocation: http://localhost:4000/auth/realms/aip-realm/protocol/openid-\r\nconnect/auth?response_type=code&amp;client_id...\r\n\r\nPragma: no-cache\r\n\r\nX-Content-Type-Options: nosniff\r\n\r\nX-Frame-Options: SAMEORIGIN\r\n\r\nX-XSS-Protection: 1; mode=block\r\n\r\n\r\n**Request Header**\r\n\r\nCache-Control: no-cache, no-store, max-age=0, must-revalidate\r\n\r\nConnection: keep-alive\r\n\r\nContent-Length: 0\r\n\r\nDate: Sat, 17 Dec 2022 22:59:21 GMT\r\n\r\nExpires: 0\r\n\r\nKeep-Alive: timeout=60\r\n\r\nLocation: http://localhost:4000/auth/realms/aip-realm/protocol/openid-connect/auth?response_type=code&amp;client_id...\r\n\r\nPragma: no-cache\r\n\r\nX-Content-Type-Options: nosniff\r\n\r\nX-Frame-Options: SAMEORIGIN\r\n\r\nX-XSS-Protection: 1; mode=block\r\n\r\n\r\n\r\n\r\n\r\n***-------Trying access :3000 via :80 to connect keycloak :4000 - **CORS ERROR**:***\r\n\r\nGET http://localhost:4000/oauth2/authorization/keycloak net::ERR_FAILED 302\r\nI have the error message.\r\n\r\nAccess to XMLHttpRequest at &#39;http://localhost:80/oauth2/authorization/keycloak&#39; (redirected from &#39;http://localhost:3000/login&#39;) from origin &#39;http://localhost:3000&#39; has been blocked by CORS policy: No &#39;Access-Control-Allow-Origin&#39; header is present on the requested resource.\r\n\r\n **1.The first one is still good until second redirect.**\r\n\r\n**Type: XHR/Redirect**\r\n\r\n**Response Header**\r\n\r\nAccess-Control-Allow-Credentials: true\r\n\r\nAccess-Control-Allow-Headers: *\r\n\r\nAccess-Control-Allow-Methods: POST, GET, OPTIONS, DELETE\r\n\r\nAccess-Control-Allow-Origin: *\r\n\r\nAccess-Control-Max-Age: 180\r\n\r\nCache-Control: no-cache, no-store, max-age=0, must-revalidate\r\n\r\nConnection: keep-alive\r\n\r\nContent-Length: 0\r\n\r\nDate: Sun, 18 Dec 2022 09:15:55 GMT\r\nExpires: 0\r\n\r\nLocation: http://localhost:80/oauth2/authorization/keycloak\r\n\r\nPragma: no-cache\r\n\r\n**Sec-Fetch-Mode: navigate**\r\nStrict-Transport-Security: max-age=31536000; includeSubDomains\r\n\r\nX-Content-Type-Options: nosniff\r\n\r\nX-Frame-Options: SAMEORIGIN\r\n\r\nX-XSS-Protection: 1; mode=block\r\n\r\n**Request Headers\r\nAccept: application/json, text/plain, */*\r\n\r\nAccept-Encoding: gzip, deflate, br\r\n\r\nAccept-Language: fr-FR,fr;q=0.9\r\n\r\nConnection: keep-alive\r\n\r\nCookie: JSESSIONID=1B5EE995A0031DC34E6860027398CD68\r\n\r\nHost: localhost:3000\r\n\r\nReferer: http://localhost:3000/\r\n\r\nsec-ch-ua: &quot;Not?A_Brand&quot;;v=&quot;8&quot;, &quot;Chromium&quot;;v=&quot;108&quot;, &quot;Google Chrome&quot;;v=&quot;108&quot;\r\n\r\nsec-ch-ua-mobile: ?0\r\n\r\nsec-ch-ua-platform: &quot;Windows&quot;\r\n\r\nSec-Fetch-Dest: empty\r\n\r\n**Sec-Fetch-Mode: cors**\r\nSec-Fetch-Site: same-origin\r\n\r\nUser-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36\r\n\r\n **2. Then the keycloak error request (CORS Errors):**\r\n\r\n**Type: XHR**\r\n\r\n**Response Headers**\r\n\r\nCache-Control: no-cache, no-store, max-age=0, must-revalidate\r\n\r\nConnection: keep-alive\r\n\r\nContent-Length: 0\r\n\r\nDate: Sun, 18 Dec 2022 09:15:55 GMT\r\n\r\nExpires: 0\r\n\r\nKeep-Alive: timeout=60\r\n\r\nLocation: http://localhost:4000/auth/realms/aip-realm/protocol/openid-connect/auth?response_type=code&amp;client_id...\r\n\r\nPragma: no-cache\r\n\r\nSet-Cookie: JSESSIONID=185783DD1403AC2D6CC222350D842CD8; Path=/; HttpOnly\r\n\r\nX-Content-Type-Options: nosniff\r\n\r\nX-Frame-Options: SAMEORIGIN\r\n\r\nX-XSS-Protection: 1; mode=block\r\n\r\n**Request Headers**\r\n\r\nAccept: application/json, text/plain, */*\r\n\r\nAccept-Encoding: gzip, deflate, br\r\n\r\nAccept-Language: fr-FR,fr;q=0.9\r\n\r\nConnection: keep-alive\r\n\r\n**Host: localhost:80**\r\n\r\n**Origin: http://localhost:3000**\r\n\r\n**Referer: http://localhost:3000/**\r\n\r\nsec-ch-ua: &quot;Not?A_Brand&quot;;v=&quot;8&quot;, &quot;Chromium&quot;;v=&quot;108&quot;, &quot;Google Chrome&quot;;v=&quot;108&quot;\r\n\r\nsec-ch-ua-mobile: ?0\r\n\r\nsec-ch-ua-platform: &quot;Windows&quot;\r\n\r\nSec-Fetch-Dest: empty\r\n\r\n**Sec-Fetch-Mode: cors**\r\n\r\nSec-Fetch-Site: same-site\r\n\r\nUser-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36\r\n\r\nHere is the config Oauth2:\r\n```\r\nhttp.oauth2Login()\r\n        .and()\r\n        .exceptionHandling()\r\n        // Specific entry point for failed authentication\r\n        .authenticationEntryPoint(getEntryPoint())\r\n        .and()\r\n        .oauth2ResourceServer().jwt().jwtAuthenticationConverter(jwtAuthenticationConverter());\r\n\r\nhttp.addFilterAfter(corsFilter(), SessionManagementFilter.class);\r\n...\r\n```\r\n```\r\npublic class CorsFilter implements Filter {\r\n    @Override\r\n    public void init(FilterConfig filterConfig) {\r\n    }\r\n\r\n    @Override\r\n    public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain) throws IOException, ServletException {\r\n        HttpServletResponse response = (HttpServletResponse) servletResponse;\r\n        HttpServletRequest request= (HttpServletRequest) servletRequest;\r\n\r\n        response.setHeader(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);\r\n        response.setHeader(&quot;Access-Control-Allow-Methods&quot;, &quot;POST, GET, OPTIONS, DELETE&quot;);\r\n        response.setHeader(&quot;Access-Control-Allow-Headers&quot;, &quot;*&quot;);\r\n        response.setHeader(&quot;Access-Control-Allow-Credentials&quot;, &quot;true&quot;);\r\n        response.setHeader(&quot;Access-Control-Max-Age&quot;, &quot;180&quot;);\r\n        filterChain.doFilter(servletRequest, servletResponse);\r\n    }\r\n\r\n    @Override\r\n    public void destroy() {\r\n    }\r\n}\r\n```\r\n```\r\nprivate AuthenticationEntryPoint getEntryPoint() {\r\n    return (request, response, authException) -&gt; {\r\n        if (authException != null) {\r\n            response.sendRedirect(&quot;/oauth2/authorization/keycloak&quot;);\r\n        } else {\r\n            response.setStatus(HttpStatus.UNAUTHORIZED.value());\r\n        }\r\n    };\r\n}\r\n```\r\nAnyone have some experience with this issue ? :)\r\n\r\nI would like when trying access :3000 it&#39;s still redirect to keycloak :4000 via authen service :80.","title":"Java Spring: No &#39;Access-Control-Allow-Origin&#39; header is present on the requested resource to Keycloak with 2 localhost","body":"<p>I am trying to connect keycloak for a react-python app via a spring security authentication app service.</p>\n<p>localhost:3000 react-python application that use the authentication service (spring-java application) in localhost:80. Then localhost:80 will config with keycloak server in localhost:4000</p>\n<p><strong>What I have tested:</strong></p>\n<p><em><strong>---------Trying access :80 directly to :4000 (keycloak) -  <strong>successful</strong>:</strong></em></p>\n<p><strong>Response Header</strong></p>\n<p>Cache-Control: no-cache, no-store, max-age=0, must-revalidate</p>\n<p>Connection: keep-alive</p>\n<p>Content-Length: 0</p>\n<p>Date: Sat, 17 Dec 2022 22:59:21 GMT</p>\n<p>Expires: 0</p>\n<p>Keep-Alive: timeout=60</p>\n<p>Location: http://localhost:4000/auth/realms/aip-realm/protocol/openid-\nconnect/auth?response_type=code&amp;client_id...</p>\n<p>Pragma: no-cache</p>\n<p>X-Content-Type-Options: nosniff</p>\n<p>X-Frame-Options: SAMEORIGIN</p>\n<p>X-XSS-Protection: 1; mode=block</p>\n<p><strong>Request Header</strong></p>\n<p>Cache-Control: no-cache, no-store, max-age=0, must-revalidate</p>\n<p>Connection: keep-alive</p>\n<p>Content-Length: 0</p>\n<p>Date: Sat, 17 Dec 2022 22:59:21 GMT</p>\n<p>Expires: 0</p>\n<p>Keep-Alive: timeout=60</p>\n<p>Location: http://localhost:4000/auth/realms/aip-realm/protocol/openid-connect/auth?response_type=code&amp;client_id...</p>\n<p>Pragma: no-cache</p>\n<p>X-Content-Type-Options: nosniff</p>\n<p>X-Frame-Options: SAMEORIGIN</p>\n<p>X-XSS-Protection: 1; mode=block</p>\n<p><em><strong>-------Trying access :3000 via :80 to connect keycloak :4000 - <strong>CORS ERROR</strong>:</strong></em></p>\n<p>GET http://localhost:4000/oauth2/authorization/keycloak net::ERR_FAILED 302\nI have the error message.</p>\n<p>Access to XMLHttpRequest at 'http://localhost:80/oauth2/authorization/keycloak' (redirected from 'http://localhost:3000/login') from origin 'http://localhost:3000' has been blocked by CORS policy: No 'Access-Control-Allow-Origin' header is present on the requested resource.</p>\n<p><strong>1.The first one is still good until second redirect.</strong></p>\n<p><strong>Type: XHR/Redirect</strong></p>\n<p><strong>Response Header</strong></p>\n<p>Access-Control-Allow-Credentials: true</p>\n<p>Access-Control-Allow-Headers: *</p>\n<p>Access-Control-Allow-Methods: POST, GET, OPTIONS, DELETE</p>\n<p>Access-Control-Allow-Origin: *</p>\n<p>Access-Control-Max-Age: 180</p>\n<p>Cache-Control: no-cache, no-store, max-age=0, must-revalidate</p>\n<p>Connection: keep-alive</p>\n<p>Content-Length: 0</p>\n<p>Date: Sun, 18 Dec 2022 09:15:55 GMT\nExpires: 0</p>\n<p>Location: http://localhost:80/oauth2/authorization/keycloak</p>\n<p>Pragma: no-cache</p>\n<p><strong>Sec-Fetch-Mode: navigate</strong>\nStrict-Transport-Security: max-age=31536000; includeSubDomains</p>\n<p>X-Content-Type-Options: nosniff</p>\n<p>X-Frame-Options: SAMEORIGIN</p>\n<p>X-XSS-Protection: 1; mode=block</p>\n<p>**Request Headers\nAccept: application/json, text/plain, <em>/</em></p>\n<p>Accept-Encoding: gzip, deflate, br</p>\n<p>Accept-Language: fr-FR,fr;q=0.9</p>\n<p>Connection: keep-alive</p>\n<p>Cookie: JSESSIONID=1B5EE995A0031DC34E6860027398CD68</p>\n<p>Host: localhost:3000</p>\n<p>Referer: http://localhost:3000/</p>\n<p>sec-ch-ua: &quot;Not?A_Brand&quot;;v=&quot;8&quot;, &quot;Chromium&quot;;v=&quot;108&quot;, &quot;Google Chrome&quot;;v=&quot;108&quot;</p>\n<p>sec-ch-ua-mobile: ?0</p>\n<p>sec-ch-ua-platform: &quot;Windows&quot;</p>\n<p>Sec-Fetch-Dest: empty</p>\n<p><strong>Sec-Fetch-Mode: cors</strong>\nSec-Fetch-Site: same-origin</p>\n<p>User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36</p>\n<p><strong>2. Then the keycloak error request (CORS Errors):</strong></p>\n<p><strong>Type: XHR</strong></p>\n<p><strong>Response Headers</strong></p>\n<p>Cache-Control: no-cache, no-store, max-age=0, must-revalidate</p>\n<p>Connection: keep-alive</p>\n<p>Content-Length: 0</p>\n<p>Date: Sun, 18 Dec 2022 09:15:55 GMT</p>\n<p>Expires: 0</p>\n<p>Keep-Alive: timeout=60</p>\n<p>Location: http://localhost:4000/auth/realms/aip-realm/protocol/openid-connect/auth?response_type=code&amp;client_id...</p>\n<p>Pragma: no-cache</p>\n<p>Set-Cookie: JSESSIONID=185783DD1403AC2D6CC222350D842CD8; Path=/; HttpOnly</p>\n<p>X-Content-Type-Options: nosniff</p>\n<p>X-Frame-Options: SAMEORIGIN</p>\n<p>X-XSS-Protection: 1; mode=block</p>\n<p><strong>Request Headers</strong></p>\n<p>Accept: application/json, text/plain, <em>/</em></p>\n<p>Accept-Encoding: gzip, deflate, br</p>\n<p>Accept-Language: fr-FR,fr;q=0.9</p>\n<p>Connection: keep-alive</p>\n<p><strong>Host: localhost:80</strong></p>\n<p><strong>Origin: http://localhost:3000</strong></p>\n<p><strong>Referer: http://localhost:3000/</strong></p>\n<p>sec-ch-ua: &quot;Not?A_Brand&quot;;v=&quot;8&quot;, &quot;Chromium&quot;;v=&quot;108&quot;, &quot;Google Chrome&quot;;v=&quot;108&quot;</p>\n<p>sec-ch-ua-mobile: ?0</p>\n<p>sec-ch-ua-platform: &quot;Windows&quot;</p>\n<p>Sec-Fetch-Dest: empty</p>\n<p><strong>Sec-Fetch-Mode: cors</strong></p>\n<p>Sec-Fetch-Site: same-site</p>\n<p>User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36</p>\n<p>Here is the config Oauth2:</p>\n<pre><code>http.oauth2Login()\n        .and()\n        .exceptionHandling()\n        // Specific entry point for failed authentication\n        .authenticationEntryPoint(getEntryPoint())\n        .and()\n        .oauth2ResourceServer().jwt().jwtAuthenticationConverter(jwtAuthenticationConverter());\n\nhttp.addFilterAfter(corsFilter(), SessionManagementFilter.class);\n...\n</code></pre>\n<pre><code>public class CorsFilter implements Filter {\n    @Override\n    public void init(FilterConfig filterConfig) {\n    }\n\n    @Override\n    public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain) throws IOException, ServletException {\n        HttpServletResponse response = (HttpServletResponse) servletResponse;\n        HttpServletRequest request= (HttpServletRequest) servletRequest;\n\n        response.setHeader(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);\n        response.setHeader(&quot;Access-Control-Allow-Methods&quot;, &quot;POST, GET, OPTIONS, DELETE&quot;);\n        response.setHeader(&quot;Access-Control-Allow-Headers&quot;, &quot;*&quot;);\n        response.setHeader(&quot;Access-Control-Allow-Credentials&quot;, &quot;true&quot;);\n        response.setHeader(&quot;Access-Control-Max-Age&quot;, &quot;180&quot;);\n        filterChain.doFilter(servletRequest, servletResponse);\n    }\n\n    @Override\n    public void destroy() {\n    }\n}\n</code></pre>\n<pre><code>private AuthenticationEntryPoint getEntryPoint() {\n    return (request, response, authException) -&gt; {\n        if (authException != null) {\n            response.sendRedirect(&quot;/oauth2/authorization/keycloak&quot;);\n        } else {\n            response.setStatus(HttpStatus.UNAUTHORIZED.value());\n        }\n    };\n}\n</code></pre>\n<p>Anyone have some experience with this issue ? :)</p>\n<p>I would like when trying access :3000 it's still redirect to keycloak :4000 via authen service :80.</p>\n"},{"tags":["java","sql","pgadmin"],"answers":[{"tags":[],"owner":{"account_id":26650929,"reputation":27,"user_id":20265248,"display_name":"andre Sousa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671389645,"creation_date":1671389645,"answer_id":74843624,"question_id":74843414,"body_markdown":"I solved the problem by putting on line 18 (which had the command- Connection c = DriverManager.getConnection(url); ) the following command- Connection c = DriverManager.getConnection(url, dbuser, password);","title":"org.postgresql.util.PSQLException: The server requested SCRAM-based authentication, but no password was provided","body":"<p>I solved the problem by putting on line 18 (which had the command- Connection c = DriverManager.getConnection(url); ) the following command- Connection c = DriverManager.getConnection(url, dbuser, password);</p>\n"}],"owner":{"account_id":26650929,"reputation":27,"user_id":20265248,"display_name":"andre Sousa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":377,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671389645,"creation_date":1671387058,"question_id":74843414,"body_markdown":"    import java.sql.*;\r\n    import java.io.*;\r\n    \r\n    public class prog1 {\r\n        public static void main(String args[]) {\r\n            String dbname = &quot;BD22&quot;;\r\n            String dbuser = &quot;postgres&quot;;\r\n            String password = &quot;12345&quot;;\r\n            String url = &quot;jdbc:postgresql://localhost:5432/&quot; + dbname;\r\n    \r\n            try {\r\n                BufferedReader in;\r\n                in = new BufferedReader( new InputStreamReader( System.in ));\r\n                System.out.println(&quot;Insira um novo passageiro&quot;);\r\n                System.out.print(&quot;&gt;&gt; Nome: &quot;); String nomePassageiro = in.readLine();\r\n                System.out.print(&quot;&gt;&gt; Morada: &quot;); String destinopretendido = in.readLine();\r\n                System.out.println(&quot;Nome: &quot; + nomePassageiro + &quot;    Morada: &quot; + destinopretendido);\r\n                Connection c = DriverManager.getConnection(url);\r\n                c.setAutoCommit(false);\r\n                Statement stmt = c.createStatement();\r\n                String sql = &quot;INSERT INTO passageiros(nomeP,destinopretendido) VALUES (&#39;&quot; +\r\n                        nomePassageiro + &quot;&#39;,&#39;&quot; + destinopretendido + &quot;&#39;);&quot;;\r\n                stmt.executeUpdate(sql);\r\n                stmt.close();\r\n                c.commit();\r\n                c.close();\r\n                System.out.println(&quot;Estudio &quot; + nomePassageiro + &quot; inserido.&quot;);\r\n            }\r\n            catch (Exception e) {\r\n                System.err.println( e.getClass().getName()+&quot;: &quot;+ e.getMessage() );\r\n                System.exit(0);\r\n            }\r\n        }\r\n    }\r\n\r\nWhen I start the code I can write everything, but when the program starts the &quot;phase&quot; in which it should add to the database what was written, the title error appears and when I debug it, it appears: Disconnected from the target VM, address: &#39;127.0.0.1:54160&#39;, transport: &#39;socket&#39;\r\nSomeone can help me?","title":"org.postgresql.util.PSQLException: The server requested SCRAM-based authentication, but no password was provided","body":"<pre><code>import java.sql.*;\nimport java.io.*;\n\npublic class prog1 {\n    public static void main(String args[]) {\n        String dbname = &quot;BD22&quot;;\n        String dbuser = &quot;postgres&quot;;\n        String password = &quot;12345&quot;;\n        String url = &quot;jdbc:postgresql://localhost:5432/&quot; + dbname;\n\n        try {\n            BufferedReader in;\n            in = new BufferedReader( new InputStreamReader( System.in ));\n            System.out.println(&quot;Insira um novo passageiro&quot;);\n            System.out.print(&quot;&gt;&gt; Nome: &quot;); String nomePassageiro = in.readLine();\n            System.out.print(&quot;&gt;&gt; Morada: &quot;); String destinopretendido = in.readLine();\n            System.out.println(&quot;Nome: &quot; + nomePassageiro + &quot;    Morada: &quot; + destinopretendido);\n            Connection c = DriverManager.getConnection(url);\n            c.setAutoCommit(false);\n            Statement stmt = c.createStatement();\n            String sql = &quot;INSERT INTO passageiros(nomeP,destinopretendido) VALUES ('&quot; +\n                    nomePassageiro + &quot;','&quot; + destinopretendido + &quot;');&quot;;\n            stmt.executeUpdate(sql);\n            stmt.close();\n            c.commit();\n            c.close();\n            System.out.println(&quot;Estudio &quot; + nomePassageiro + &quot; inserido.&quot;);\n        }\n        catch (Exception e) {\n            System.err.println( e.getClass().getName()+&quot;: &quot;+ e.getMessage() );\n            System.exit(0);\n        }\n    }\n}\n</code></pre>\n<p>When I start the code I can write everything, but when the program starts the &quot;phase&quot; in which it should add to the database what was written, the title error appears and when I debug it, it appears: Disconnected from the target VM, address: '127.0.0.1:54160', transport: 'socket'\nSomeone can help me?</p>\n"},{"tags":["java","design-patterns","reflection","command-pattern"],"comments":[{"owner":{"account_id":2871026,"reputation":31449,"user_id":2464386,"accept_rate":84,"display_name":"ajb"},"score":0,"creation_date":1416553656,"post_id":27055752,"comment_id":42627782,"body_markdown":"What happens if the user enters `execute`?  Will that cause `executeCommand` to try to call itself recursively?  Using reflection in this way, where you use a string entered by the user to determine what method name to execute, looks **very** dangerous.  Might as well put a sign on your program saying &quot;Hey, cybercriminals!  THIS WAY!!!&quot;","body":"What happens if the user enters <code>execute</code>?  Will that cause <code>executeCommand</code> to try to call itself recursively?  Using reflection in this way, where you use a string entered by the user to determine what method name to execute, looks <b>very</b> dangerous.  Might as well put a sign on your program saying &quot;Hey, cybercriminals!  THIS WAY!!!&quot;"},{"owner":{"display_name":"user2022068"},"score":1,"creation_date":1416553888,"post_id":27055752,"comment_id":42627862,"body_markdown":"@ajb Thank you for your comment. I know that, that&#39;s why we use url mapper via xml (url -&gt;component,command). I wrote &quot;taken from url&quot; to pass the idea.","body":"@ajb Thank you for your comment. I know that, that&#39;s why we use url mapper via xml (url -&gt;component,command). I wrote &quot;taken from url&quot; to pass the idea."}],"answers":[{"tags":[],"owner":{"account_id":1530386,"reputation":458,"user_id":1427708,"display_name":"Kamil.H"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1416553216,"creation_date":1416553216,"answer_id":27055823,"question_id":27055752,"body_markdown":" 1. first way is better, use reflections only when don&#39;t have other options. \r\n 2. in one application there should be one approach to solve one kind of problem.\r\n 3. I think the first approach is fine. (much better then if/else blocks)\r\n\r\n ","title":"Command pattern vs reflection","body":"<ol>\n<li>first way is better, use reflections only when don't have other options. </li>\n<li>in one application there should be one approach to solve one kind of problem.</li>\n<li>I think the first approach is fine. (much better then if/else blocks)</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2271733,"reputation":2072,"user_id":1998944,"accept_rate":40,"display_name":"Kenyakorn Ketsombut"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1416558716,"creation_date":1416558716,"answer_id":27057073,"question_id":27055752,"body_markdown":"I think there are 2 different ways for your first approach. Each command could be a subclass of the abstract class Command. Or each command could be an instance of the class command. That depends on how flexible that is all supposed to be, and are the are parameters and return values for commands? With subclasses it would look like this (just to get the idea):\r\n\r\n\tabstract public class Command {\r\n\t\tabstract public void execute();\r\n\t}\r\n\t\r\n\tpublic class LsCommand extends Command\r\n\t{\r\n\t\t@Override\r\n\t\tpublic void execute() {\r\n\t\t\ttry {\r\n\t\t\t\tRuntime.getRuntime().exec(&quot;ls&quot;);\r\n\t\t\t} catch (IOException e) {}\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic class ChdirCommand extends Command\r\n\t{\r\n\t\t@Override\r\n\t\tpublic void execute() {\r\n\t\t\ttry {\r\n\t\t\t\tRuntime.getRuntime().exec(&quot;chdir&quot;);\r\n\t\t\t} catch (IOException e) {}\r\n\t\t}\r\n\t}\r\n\r\nHere my answers:\r\n\r\n 1. Your first way is better. Always prefer design patterns over\r\n    reflection.\r\n 2. Sorry I don&#39;t understand question 2. But it doesn&#39;t have a question mark anyway, so I just skip it :)\r\n 3. You might want to look into the [Strategy design pattern][1], where each command could even be made of different parts of sub commands.\r\n    Another idea would be the [Factory design pattern][2]. In that case you\r\n    would put each command into a class and then use the ClassLoader to\r\n    load the class by name.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Strategy_pattern\r\n  [2]: http://en.wikipedia.org/wiki/Factory_method_pattern","title":"Command pattern vs reflection","body":"<p>I think there are 2 different ways for your first approach. Each command could be a subclass of the abstract class Command. Or each command could be an instance of the class command. That depends on how flexible that is all supposed to be, and are the are parameters and return values for commands? With subclasses it would look like this (just to get the idea):</p>\n\n<pre><code>abstract public class Command {\n    abstract public void execute();\n}\n\npublic class LsCommand extends Command\n{\n    @Override\n    public void execute() {\n        try {\n            Runtime.getRuntime().exec(\"ls\");\n        } catch (IOException e) {}\n    }\n}\n\npublic class ChdirCommand extends Command\n{\n    @Override\n    public void execute() {\n        try {\n            Runtime.getRuntime().exec(\"chdir\");\n        } catch (IOException e) {}\n    }\n}\n</code></pre>\n\n<p>Here my answers:</p>\n\n<ol>\n<li>Your first way is better. Always prefer design patterns over\nreflection.</li>\n<li>Sorry I don't understand question 2. But it doesn't have a question mark anyway, so I just skip it :)</li>\n<li>You might want to look into the <a href=\"http://en.wikipedia.org/wiki/Strategy_pattern\" rel=\"nofollow\">Strategy design pattern</a>, where each command could even be made of different parts of sub commands.\nAnother idea would be the <a href=\"http://en.wikipedia.org/wiki/Factory_method_pattern\" rel=\"nofollow\">Factory design pattern</a>. In that case you\nwould put each command into a class and then use the ClassLoader to\nload the class by name.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":6453072,"reputation":37996,"user_id":4999394,"accept_rate":98,"display_name":"Ravindra babu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1506154099,"creation_date":1455204640,"answer_id":35343452,"question_id":27055752,"body_markdown":"&gt; Which one is better?\r\n\r\nObviously first one is better. Even though you have quoted that you are using Command pattern, it&#39;s not complete &quot;Command&quot; pattern. *Command pattern will have Command (abstract), Concrete Command, Receiver, Invoker and Client*. \r\n\r\nHave a look at this question:\r\n\r\nhttps://stackoverflow.com/questions/2015549/using-command-design-pattern/34789979#34789979\r\n\r\nApart from Command Patten, I would like to highlight pros and cons of reflection.\r\n\r\n***Pros:***\r\n\r\n1. Handling dependency injection\r\n2. Developing plug and play frameworks\r\n\r\n***Cons:***\r\n\r\n1. Reflection calls are slower\r\n2. You can violate security and explode application with bad intent ( e.g. setting private variables of a class, which is invisible to other class)\r\n\r\nHave a look at related SE question regarding Reflection :\r\n\r\nhttps://stackoverflow.com/questions/37628/what-is-reflection-and-why-is-it-useful?rq=1\r\n\r\n&gt; Is it normal in one application to let developers use one of the methods they want.\r\n\r\nIt is normal for developers to chose best method to solve a particular problem.\r\n\r\n&gt; Are there other ways?\r\n\r\nIt depends on type of problem you are going to address. Design patterns provides solutions to recurring problems. \r\n\r\nAll solution can&#39;t be fit in existing design patterns. You may have developed new patterns to solve your problem. ","title":"Command pattern vs reflection","body":"<blockquote>\n  <p>Which one is better?</p>\n</blockquote>\n\n<p>Obviously first one is better. Even though you have quoted that you are using Command pattern, it's not complete \"Command\" pattern. <em>Command pattern will have Command (abstract), Concrete Command, Receiver, Invoker and Client</em>. </p>\n\n<p>Have a look at this question:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/2015549/using-command-design-pattern/34789979#34789979\">Using Command Design pattern</a></p>\n\n<p>Apart from Command Patten, I would like to highlight pros and cons of reflection.</p>\n\n<p><strong><em>Pros:</em></strong></p>\n\n<ol>\n<li>Handling dependency injection</li>\n<li>Developing plug and play frameworks</li>\n</ol>\n\n<p><strong><em>Cons:</em></strong></p>\n\n<ol>\n<li>Reflection calls are slower</li>\n<li>You can violate security and explode application with bad intent ( e.g. setting private variables of a class, which is invisible to other class)</li>\n</ol>\n\n<p>Have a look at related SE question regarding Reflection :</p>\n\n<p><a href=\"https://stackoverflow.com/questions/37628/what-is-reflection-and-why-is-it-useful?rq=1\">What is reflection and why is it useful?</a></p>\n\n<blockquote>\n  <p>Is it normal in one application to let developers use one of the methods they want.</p>\n</blockquote>\n\n<p>It is normal for developers to chose best method to solve a particular problem.</p>\n\n<blockquote>\n  <p>Are there other ways?</p>\n</blockquote>\n\n<p>It depends on type of problem you are going to address. Design patterns provides solutions to recurring problems. </p>\n\n<p>All solution can't be fit in existing design patterns. You may have developed new patterns to solve your problem. </p>\n"},{"tags":[],"owner":{"account_id":2985164,"reputation":5188,"user_id":2534191,"accept_rate":25,"display_name":"Yuriy N."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671388983,"creation_date":1671381363,"answer_id":74842936,"question_id":27055752,"body_markdown":"It is not obviously one vs another. You can have both: \r\n\r\n    public class Controller {\r\n         public void executeCommand(String commandName){\r\n              CommandFactory.getCommand(commandName).execute();\r\n          }         \r\n    } \r\n    public class CommandFactory {\r\n    \r\n    private static final String COMMAND_PACKAGE = &quot;come.example.command.&quot;;\r\n    \r\n    private static Map&lt;String, Command&gt; commandMap = new HashMap&lt;&gt;();\r\n    \r\n    public static Command getCommand (String commandName){\r\n        if (commandMap.containsKey(commandName)){\r\n            return commandMap.get(commandName);\r\n        }\r\n        String commandNameCapitalized = commandName.substring(0, 1).toUpperCase() + commandName.substring(1);\r\n        String commandClassString = COMMAND_PACKAGE + commandNameCapitalized;\r\n        try {\r\n            Class commandClass = Class.forName(commandClassString);\r\n            Command command = (Command) commandClass.newInstance();\r\n            commandMap.put(commandName, command);\r\n            return command;\r\n        } catch (Exception ex) {\r\n            ex.printStackTrace();\r\n        }\r\n        return null;\r\n       }\r\n    \r\n    }\r\n\r\n\r\n \r\n\r\n\r\n    ","title":"Command pattern vs reflection","body":"<p>It is not obviously one vs another. You can have both:</p>\n<pre><code>public class Controller {\n     public void executeCommand(String commandName){\n          CommandFactory.getCommand(commandName).execute();\n      }         \n} \npublic class CommandFactory {\n\nprivate static final String COMMAND_PACKAGE = &quot;come.example.command.&quot;;\n\nprivate static Map&lt;String, Command&gt; commandMap = new HashMap&lt;&gt;();\n\npublic static Command getCommand (String commandName){\n    if (commandMap.containsKey(commandName)){\n        return commandMap.get(commandName);\n    }\n    String commandNameCapitalized = commandName.substring(0, 1).toUpperCase() + commandName.substring(1);\n    String commandClassString = COMMAND_PACKAGE + commandNameCapitalized;\n    try {\n        Class commandClass = Class.forName(commandClassString);\n        Command command = (Command) commandClass.newInstance();\n        commandMap.put(commandName, command);\n        return command;\n    } catch (Exception ex) {\n        ex.printStackTrace();\n    }\n    return null;\n   }\n\n}\n</code></pre>\n"}],"owner":{"display_name":"user2022068"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1671,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":27055823,"answer_count":4,"score":7,"last_activity_date":1671388983,"creation_date":1416552902,"question_id":27055752,"body_markdown":"I have controller that executes some commands according to command name, taken from url. The main point is in not to use if and switch clauses. As I know there are ONLY two ways how to do it - 1) command pattern 2) reflection.\r\n\r\n    //Command pattern\r\n    class Controller{\r\n      private HashMap&lt;String,Command&gt; commands;\r\n      public void executeCommand(String commandName){\r\n        commands.get(commandName).execute();\r\n      }\r\n      ...\r\n    }\r\n\r\n    //reflection\r\n    class Controller{\r\n      public void readCommand(){\r\n        ....\r\n      }\r\n      public void executeCommand(String commandName){\r\n        this.getClass().getMethod(commandName+&quot;Command&quot;).invoke(this);\r\n      }\r\n      ...\r\n    }\r\n\r\nSo the questios:\r\n\r\n 1. Which one is better? \r\n 2. Is it normal in one application to let developers use one of the methods they want.\r\n 3. Are there other ways?","title":"Command pattern vs reflection","body":"<p>I have controller that executes some commands according to command name, taken from url. The main point is in not to use if and switch clauses. As I know there are ONLY two ways how to do it - 1) command pattern 2) reflection.</p>\n\n<pre><code>//Command pattern\nclass Controller{\n  private HashMap&lt;String,Command&gt; commands;\n  public void executeCommand(String commandName){\n    commands.get(commandName).execute();\n  }\n  ...\n}\n\n//reflection\nclass Controller{\n  public void readCommand(){\n    ....\n  }\n  public void executeCommand(String commandName){\n    this.getClass().getMethod(commandName+\"Command\").invoke(this);\n  }\n  ...\n}\n</code></pre>\n\n<p>So the questios:</p>\n\n<ol>\n<li>Which one is better? </li>\n<li>Is it normal in one application to let developers use one of the methods they want.</li>\n<li>Are there other ways?</li>\n</ol>\n"},{"tags":["java","selenium","cucumber-java"],"answers":[{"tags":[],"owner":{"account_id":23355737,"reputation":1,"user_id":17428727,"display_name":"Kailasam Sai kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671388395,"creation_date":1671107447,"answer_id":74811564,"question_id":74644873,"body_markdown":"    public void changeCheckBoxdualDepository(WebElement checkBoxElement, boolean dualDepository) {\r\n        if (!checkBoxElement.isSelected() &amp;&amp; dualDepository) {\r\n            checkBoxElement.click();\r\n        } else if (checkBoxElement.isSelected() &amp;&amp; !dualDepository) {\r\n            checkBoxElement.click();\r\n        }\r\n    }","title":"unchecking the check box","body":"<pre><code>public void changeCheckBoxdualDepository(WebElement checkBoxElement, boolean dualDepository) {\n    if (!checkBoxElement.isSelected() &amp;&amp; dualDepository) {\n        checkBoxElement.click();\n    } else if (checkBoxElement.isSelected() &amp;&amp; !dualDepository) {\n        checkBoxElement.click();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23355737,"reputation":1,"user_id":17428727,"display_name":"Kailasam Sai kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74811564,"answer_count":1,"score":0,"last_activity_date":1671388395,"creation_date":1669910886,"question_id":74644873,"body_markdown":"i want to uncheck the check box iam sending value through  the json in my feature file \r\n\r\nto uncheck the value when i send false from my json\r\n\r\n\r\n```\r\n  public boolean updateSectionFields( DataObject dataObject ) {\r\n        boolean flag = false;\r\n        FundAcceptance fundAcceptance = (FundAcceptance) dataObject;\r\n\r\n        try {\r\n            scrollDownVerticalUntilVisibleElement(dualDepositoryCheckBox);\r\n                         changeCheckBoxState( dualDepositoryCheckBox, fundAcceptance.isDualDepository() );\r\n\r\n            changeCheckBoxState( overriddenChkBox, fundAcceptance.isOverrideReason() );\r\n        }\r\n        catch(Exception e)\r\n        {\r\n            log.info(&quot;An&quot;);\r\n            log.error(String.valueOf(e));\r\n        }\r\n\r\n        return flag;\r\n    }\r\n\r\n```\r\n\r\n\r\n```\r\nprotected void changeCheckBoxState(WebElement checkBoxElement, boolean desiredState){\r\n        checkBoxElement.click();\r\n    }\r\n```\r\n\r\n","title":"unchecking the check box","body":"<p>i want to uncheck the check box iam sending value through  the json in my feature file</p>\n<p>to uncheck the value when i send false from my json</p>\n<pre><code>  public boolean updateSectionFields( DataObject dataObject ) {\n        boolean flag = false;\n        FundAcceptance fundAcceptance = (FundAcceptance) dataObject;\n\n        try {\n            scrollDownVerticalUntilVisibleElement(dualDepositoryCheckBox);\n                         changeCheckBoxState( dualDepositoryCheckBox, fundAcceptance.isDualDepository() );\n\n            changeCheckBoxState( overriddenChkBox, fundAcceptance.isOverrideReason() );\n        }\n        catch(Exception e)\n        {\n            log.info(&quot;An&quot;);\n            log.error(String.valueOf(e));\n        }\n\n        return flag;\n    }\n\n</code></pre>\n<pre><code>protected void changeCheckBoxState(WebElement checkBoxElement, boolean desiredState){\n        checkBoxElement.click();\n    }\n</code></pre>\n"},{"tags":["java","eclipse","wsdl"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1495189529,"post_id":44067548,"comment_id":75159078,"body_markdown":"Erm .... why do you need to do that?","body":"Erm .... why do you need to do that?"},{"owner":{"account_id":9241640,"reputation":11,"user_id":6864773,"display_name":"Vijay Yadav"},"score":0,"creation_date":1495189665,"post_id":44067548,"comment_id":75159165,"body_markdown":"its one kind of security issue for one of the client thats why","body":"its one kind of security issue for one of the client thats why"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1495190138,"post_id":44067548,"comment_id":75159479,"body_markdown":"Really?  How can this possibly be a security issue?","body":"Really?  How can this possibly be a security issue?"},{"owner":{"account_id":9241640,"reputation":11,"user_id":6864773,"display_name":"Vijay Yadav"},"score":0,"creation_date":1495190316,"post_id":44067548,"comment_id":75159586,"body_markdown":"cant say how this can be a security issue , but is there a way to hide it..please advise.","body":"cant say how this can be a security issue , but is there a way to hide it..please advise."},{"owner":{"account_id":2625978,"reputation":857,"user_id":2272958,"accept_rate":50,"display_name":"Kapil"},"score":0,"creation_date":1645767679,"post_id":44067548,"comment_id":125963228,"body_markdown":"The possible security risk with having version is Attacker will get to know the vulnerable version of library application is using.","body":"The possible security risk with having version is Attacker will get to know the vulnerable version of library application is using."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1495191962,"creation_date":1495190403,"answer_id":44067934,"question_id":44067548,"body_markdown":"I don&#39;t see any good reason to do this.  (And frankly the &quot;security&quot; reason is daft, IMO)\r\n\r\nHowever, here are a couple of ideas.\r\n\r\n  1.  Find / use a generic XML tool that strips comments.  \r\n  2.  Use an XSL transform to remove the comments; e.g. https://stackoverflow.com/questions/4446962/xsl-to-completely-remove-comments-including-the-space\r\n  3.  This Q&amp;A: https://askubuntu.com/questions/525974/how-to-remove-comments-from-an-xml-file explains how to do it using `sed`.\r\n  4.  Download, modify and build your own copy of Apache Axis with the comment generation suppressed.\r\n\r\n**UPDATE**\r\n\r\nAfter rereading your question, I suspect you might be talking about the XML document that is returned in response to an `?wsdl` query.  If so, I think that option 4 might be your best bet.","title":"how to hide / remove &quot;&lt;!--WSDL created by Apache Axis version: 1.4 Built on Apr 22, 2006 (06:55:48 PDT)--&gt;&quot; while calling the wsdl link","body":"<p>I don't see any good reason to do this.  (And frankly the \"security\" reason is daft, IMO)</p>\n\n<p>However, here are a couple of ideas.</p>\n\n<ol>\n<li>Find / use a generic XML tool that strips comments.  </li>\n<li>Use an XSL transform to remove the comments; e.g. <a href=\"https://stackoverflow.com/questions/4446962/xsl-to-completely-remove-comments-including-the-space\">XSL to completely remove comments (Including the space)</a></li>\n<li>This Q&amp;A: <a href=\"https://askubuntu.com/questions/525974/how-to-remove-comments-from-an-xml-file\">https://askubuntu.com/questions/525974/how-to-remove-comments-from-an-xml-file</a> explains how to do it using <code>sed</code>.</li>\n<li>Download, modify and build your own copy of Apache Axis with the comment generation suppressed.</li>\n</ol>\n\n<p><strong>UPDATE</strong></p>\n\n<p>After rereading your question, I suspect you might be talking about the XML document that is returned in response to an <code>?wsdl</code> query.  If so, I think that option 4 might be your best bet.</p>\n"},{"tags":[],"owner":{"account_id":14734239,"reputation":1,"user_id":10640707,"display_name":"maksim cekar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671388372,"creation_date":1671108399,"answer_id":74811769,"question_id":44067548,"body_markdown":"You can modify axis.jar:\r\n\r\n 1. Open axis.jar with archive tool (e.g. 7zip)\r\n 2. Navigate to \\org\\apache\\axis\\i18n\\\r\n 3. Open resource.properties file in any text redactor (e.g. notepad++)\r\n 4. Change values to:\r\n\r\n&gt;       wsdlCreated00={0}\r\n&gt;     \r\n&gt;       axisVersion=\r\n&gt;     \r\n&gt;       axisVersionRaw=\r\n&gt;      \r\n&gt;       axisBuiltOnRaw=\r\n&gt;       \r\n&gt;       axisUserAgent=\r\n&gt;      \r\n&gt;       builtOn=\r\n\r\n 5. Add updated file to axis.jar\\org\\apache\\axis\\i18n\\\r\n\r\nWorks on axis 1.4\r\nResult:\r\n\r\nState before:\r\n\r\n![State before][1]\r\n\r\nState after:\r\n\r\n![State after][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pc4Kw.png\r\n  [2]: https://i.stack.imgur.com/XPVdl.png","title":"how to hide / remove &quot;&lt;!--WSDL created by Apache Axis version: 1.4 Built on Apr 22, 2006 (06:55:48 PDT)--&gt;&quot; while calling the wsdl link","body":"<p>You can modify axis.jar:</p>\n<ol>\n<li>Open axis.jar with archive tool (e.g. 7zip)</li>\n<li>Navigate to \\org\\apache\\axis\\i18n\\</li>\n<li>Open resource.properties file in any text redactor (e.g. notepad++)</li>\n<li>Change values to:</li>\n</ol>\n<blockquote>\n<pre><code>  wsdlCreated00={0}\n\n  axisVersion=\n\n  axisVersionRaw=\n \n  axisBuiltOnRaw=\n  \n  axisUserAgent=\n \n  builtOn=\n</code></pre>\n</blockquote>\n<ol start=\"5\">\n<li>Add updated file to axis.jar\\org\\apache\\axis\\i18n\\</li>\n</ol>\n<p>Works on axis 1.4\nResult:</p>\n<p>State before:</p>\n<p><img src=\"https://i.stack.imgur.com/pc4Kw.png\" alt=\"State before\" /></p>\n<p>State after:</p>\n<p><img src=\"https://i.stack.imgur.com/XPVdl.png\" alt=\"State after\" /></p>\n"}],"owner":{"account_id":9241640,"reputation":11,"user_id":6864773,"display_name":"Vijay Yadav"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1330,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1671388372,"creation_date":1495189370,"question_id":44067548,"body_markdown":"I have a wsdl file , where in there is a commented part i.e. `&lt;!--WSDL created by Apache Axis version: 1.4 Built on Apr 22, 2006 (06:55:48 PDT)--&gt;` , which gets displayed whenever i make a call to wsdl link through browser. This is regarding web services in java with eclipse as an IDE.\r\n\r\nI tried removing that part and validating but still it is showing. I just want that commented part not to be shown when a make call to wsdl link..need help\r\n\r\n    \r\n    \r\n    \r\n        wsdl file example:\r\n        \r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n        &lt;wsdl:definitions targetNamespace=&quot;http://webservice.test.com&quot; xmlns:apachesoap=&quot;http://xml.apache.org/xml-soap&quot; xmlns:impl=&quot;http://webservice.test.com&quot; xmlns:intf=&quot;http://webservice.test.com&quot; xmlns:wsdl=&quot;http://schemas.xmlsoap.org/wsdl/&quot; xmlns:wsdlsoap=&quot;http://schemas.xmlsoap.org/wsdl/soap/&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot;&gt;\r\n        **&lt;!--WSDL created by Apache Axis version: 1.4\r\n        Built on Apr 22, 2006 (06:55:48 PDT)--&gt;**\r\n         &lt;wsdl:types&gt;\r\n          &lt;schema elementFormDefault=&quot;qualified&quot; targetNamespace=&quot;http://webservice.test.com&quot; xmlns=&quot;http://www.w3.org/2001/XMLSchema&quot;&gt;\r\n           &lt;element name=&quot;checkDBConnection&quot;&gt;\r\n            &lt;complexType/&gt;\r\n           &lt;/element&gt;\r\n           &lt;element name=&quot;checkDBConnectionResponse&quot;&gt;\r\n            &lt;complexType&gt;\r\n             &lt;sequence&gt;\r\n              &lt;element name=&quot;checkDBConnectionReturn&quot; type=&quot;xsd:boolean&quot;/&gt;\r\n             &lt;/sequence&gt;\r\n            &lt;/complexType&gt;\r\n           &lt;/element&gt;\r\n          &lt;/schema&gt;\r\n         &lt;/wsdl:types&gt;\r\n        .\r\n        .\r\n        .\r\n        .\r\n        .\r\n        .\r\n    \r\n    \r\n  \r\n","title":"how to hide / remove &quot;&lt;!--WSDL created by Apache Axis version: 1.4 Built on Apr 22, 2006 (06:55:48 PDT)--&gt;&quot; while calling the wsdl link","body":"<p>I have a wsdl file , where in there is a commented part i.e. <code>&lt;!--WSDL created by Apache Axis version: 1.4 Built on Apr 22, 2006 (06:55:48 PDT)--&gt;</code> , which gets displayed whenever i make a call to wsdl link through browser. This is regarding web services in java with eclipse as an IDE.</p>\n\n<p>I tried removing that part and validating but still it is showing. I just want that commented part not to be shown when a make call to wsdl link..need help</p>\n\n<pre><code>    wsdl file example:\n\n    &lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n    &lt;wsdl:definitions targetNamespace=\"http://webservice.test.com\" xmlns:apachesoap=\"http://xml.apache.org/xml-soap\" xmlns:impl=\"http://webservice.test.com\" xmlns:intf=\"http://webservice.test.com\" xmlns:wsdl=\"http://schemas.xmlsoap.org/wsdl/\" xmlns:wsdlsoap=\"http://schemas.xmlsoap.org/wsdl/soap/\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\"&gt;\n    **&lt;!--WSDL created by Apache Axis version: 1.4\n    Built on Apr 22, 2006 (06:55:48 PDT)--&gt;**\n     &lt;wsdl:types&gt;\n      &lt;schema elementFormDefault=\"qualified\" targetNamespace=\"http://webservice.test.com\" xmlns=\"http://www.w3.org/2001/XMLSchema\"&gt;\n       &lt;element name=\"checkDBConnection\"&gt;\n        &lt;complexType/&gt;\n       &lt;/element&gt;\n       &lt;element name=\"checkDBConnectionResponse\"&gt;\n        &lt;complexType&gt;\n         &lt;sequence&gt;\n          &lt;element name=\"checkDBConnectionReturn\" type=\"xsd:boolean\"/&gt;\n         &lt;/sequence&gt;\n        &lt;/complexType&gt;\n       &lt;/element&gt;\n      &lt;/schema&gt;\n     &lt;/wsdl:types&gt;\n    .\n    .\n    .\n    .\n    .\n    .\n</code></pre>\n"},{"tags":["java","spring","spring-boot","redirect","spring-security"],"comments":[{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":0,"creation_date":1669675156,"post_id":74603198,"comment_id":131692230,"body_markdown":"Shpw your requests and responses with headers. The server doesn&#39;t resolve redirects, you client does it.","body":"Shpw your requests and responses with headers. The server doesn&#39;t resolve redirects, you client does it."},{"owner":{"account_id":11253290,"reputation":1289,"user_id":9167731,"display_name":"Semyon Kirekov"},"score":0,"creation_date":1669750231,"post_id":74603198,"comment_id":131712611,"body_markdown":"@dur I updated the answer. Shortly, the client probably does no redirects","body":"@dur I updated the answer. Shortly, the client probably does no redirects"}],"answers":[{"tags":[],"owner":{"account_id":27080647,"reputation":1,"user_id":20629839,"display_name":"Кирилл Тропин"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669699786,"creation_date":1669699786,"answer_id":74609506,"question_id":74603198,"body_markdown":"You need to throw your exception in the route processing and handle it your own Handler by issuing the code http_code=302 and http_text=redirect_bla_bla_bla at first. Second you need OnlyIn exchange pattern on your redirect.","title":"Spring Boot 3: skip internal redirect behavior","body":"<p>You need to throw your exception in the route processing and handle it your own Handler by issuing the code http_code=302 and http_text=redirect_bla_bla_bla at first. Second you need OnlyIn exchange pattern on your redirect.</p>\n"}],"owner":{"account_id":11253290,"reputation":1289,"user_id":9167731,"display_name":"Semyon Kirekov"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":705,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671388026,"creation_date":1669650817,"question_id":74603198,"body_markdown":"After upgrading to Spring Boot 3 I faced a strange behaviour. I have an endpoint that is called by the outside service and which returns `302` status code. Take a look at the code snippet below.\r\n\r\n```java\r\n@GetMapping(&quot;/callback&quot;)\r\n@Hidden\r\n@SneakyThrows\r\npublic void callback(@NotNull @RequestParam(name = &quot;code&quot;) String authorizationCode,\r\n        @NotNull @RequestParam(name = &quot;state&quot;) String state,\r\n        HttpServletResponse httpResponse) {\r\n\r\n    try {\r\n        ...\r\n        httpResponse.addCookie(jwtTokenCookie););\r\n        httpResponse.sendRedirect(state.targetUri());\r\n    } catch (IntegrationException e) {\r\n        throw new ControllerException(BAD_REQUEST, e);\r\n    }\r\n}\r\n```\r\n\r\nThe thing is that I don&#39;t receive the `302` status code anymore. Instead, Spring does the actual redirect inside and returns the result of `targetUri()` endpoint invocation. But I don&#39;t want that. I need to receive the `302` status code with the actual redirect value.\r\n\r\nI tried to refactor code a bit:\r\n\r\n```java\r\nfinal var jwtTokenCookie = cookieService.createJwtCookie(userContext);httpResponse.addCookie(jwtTokenCookie);\r\nHttpHeaders httpHeaders = new HttpHeaders();\r\nhttpHeaders.setLocation(new URI(ssoState.targetUri()));\r\nreturn new ResponseEntity&lt;&gt;(httpHeaders, FOUND);\r\n```\r\n\r\nBut it didn&#39;t work. Seems like Spring Security has registered some filter that checks all `3xx` responses. Can I turn it off somehow?\r\n\r\n## EDIT 1\r\n\r\nI also tried to tune the `TestRestTemplate` instance to manually disable possible redirects. Look at the code snippet below.\r\n\r\n```java\r\ntestRestTemplate = new TestRestTemplate(\r\n            restTemplateBuilder, null, null, TestRestTemplate.HttpClientOption.ENABLE_COOKIES\r\n        );\r\n```\r\n\r\nAs you can see, I don&#39;t pass the `HttpClientOption.ENABLE_REDIRECTS` option. Therefore, the `TestRestTemplate` should return the result as-is. Anyway, I still get the redirected URL response value.\r\n\r\nSo, I bet that the service does redirects but not the client.\r\n\r\nHere are the **response** headers:\r\n\r\n```\r\nCache-Control:&quot;no-cache, no-store, max-age=0, must-revalidate&quot;,\r\nConnection:&quot;keep-alive&quot;,\r\nContent-Type:&quot;application/json;charset=UTF-8&quot;,\r\nDate:&quot;Tue, 29 Nov 2022 19:25:54 GMT&quot;,\r\nExpires:&quot;0&quot;,\r\nKeep-Alive:&quot;timeout=60&quot;,\r\nPragma:&quot;no-cache&quot;,\r\nTransfer-Encoding:&quot;chunked&quot;,\r\nVary:&quot;Origin&quot;,\r\n&quot;Access-Control-Request-Method&quot;,\r\n&quot;Access-Control-Request-Headers&quot;,\r\nX-Content-Type-Options:&quot;nosniff&quot;,\r\nX-Frame-Options:&quot;DENY&quot;,\r\nX-XSS-Protection:&quot;0&quot;\r\n```\r\n\r\nThe request headers are empty.\r\n\r\n## EDIT 2\r\n\r\nI&#39;ve also tried to upgrade the springdoc library to the `2.x.x`.\r\n\r\nThe previous version is\r\n\r\n```groovy\r\nimplementation &quot;org.springdoc:springdoc-openapi-ui:1.6.13&quot;\r\n```\r\n\r\nThe new version is\r\n\r\n```groovy\r\nimplementation &quot;org.springdoc:springdoc-openapi-starter-webmvc-ui:2.0.2&quot;\r\n```\r\n\r\nThat didn&#39;t help anyhow. I also turned on the TRACE logging for more information. Take a look at the code below to see what I got.\r\n\r\n```\r\n21:10:42.223 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler ...SsoController#handleRedirectException(RedirectException)\r\n21:10:42.223 TRACE o.s.w.m.HandlerMethod - Arguments: [...RedirectException: Redirect to /api/accounts]\r\n21:10:42.224 DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using &#39;text/plain&#39;, given [text/plain, application/json, application/*+json, */*] and supported [*/*]\r\n21:10:42.224 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [...RedirectException: Redirect to /api/accounts]\r\n21:10:42.224 TRACE o.s.w.s.DispatcherServlet - No view rendering, null ModelAndView returned.\r\n21:10:42.225 DEBUG o.s.w.s.DispatcherServlet - Completed 302 FOUND, headers={masked}\r\n21:10:42.225 TRACE o.s.s.w.h.w.HstsHeaderWriter - Not injecting HSTS header since it did not match request to [Is Secure]\r\n21:10:42.228 TRACE o.s.s.w.FilterChainProxy - Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@45d1efc3, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@193e95a8, org.springframework.security.web.context.SecurityContextHolderFilter@2b359a0f, org.springframework.security.web.header.HeaderWriterFilter@5df041, org.springframework.web.filter.CharacterEncodingFilter@7b0eeb99, org.springframework.security.web.authentication.logout.LogoutFilter@31324b57, ...JwtAuthenticationFilter@504b132d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@387ee53c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5cf6aa48, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1a2e5110, org.springframework.security.web.session.SessionManagementFilter@419ae2fd, org.springframework.security.web.access.ExceptionTranslationFilter@3fed07ba, org.springframework.security.web.access.intercept.AuthorizationFilter@6ce03f94]] (1/1)\r\n21:10:42.228 DEBUG o.s.s.w.FilterChainProxy - Securing GET /api/accounts\r\n21:10:42.228 TRACE o.s.s.w.FilterChainProxy - Invoking DisableEncodeUrlFilter (1/13)\r\n21:10:42.229 TRACE o.s.s.w.FilterChainProxy - Invoking WebAsyncManagerIntegrationFilter (2/13)\r\n21:10:42.229 TRACE o.s.s.w.FilterChainProxy - Invoking SecurityContextHolderFilter (3/13)\r\n21:10:42.229 TRACE o.s.s.w.FilterChainProxy - Invoking HeaderWriterFilter (4/13)\r\n21:10:42.229 TRACE o.s.s.w.FilterChainProxy - Invoking CharacterEncodingFilter (5/13)\r\n21:10:42.229 TRACE o.s.s.w.FilterChainProxy - Invoking LogoutFilter (6/13)\r\n...\r\n```\r\n\r\nAs you can see, there is some filter that catches the `302` and trying to proceed the redirect to `/api/accounts` internally instead of simply returning the status code to the client.\r\n\r\nAccording to logs, the `FilterChainProxy` starts the unwanted redirect behavior. However, it&#39;s not a conrcrete bean but a container that is used widely across Spring components. Any ideas how to disable the internal redirect?","title":"Spring Boot 3: skip internal redirect behavior","body":"<p>After upgrading to Spring Boot 3 I faced a strange behaviour. I have an endpoint that is called by the outside service and which returns <code>302</code> status code. Take a look at the code snippet below.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping(&quot;/callback&quot;)\n@Hidden\n@SneakyThrows\npublic void callback(@NotNull @RequestParam(name = &quot;code&quot;) String authorizationCode,\n        @NotNull @RequestParam(name = &quot;state&quot;) String state,\n        HttpServletResponse httpResponse) {\n\n    try {\n        ...\n        httpResponse.addCookie(jwtTokenCookie););\n        httpResponse.sendRedirect(state.targetUri());\n    } catch (IntegrationException e) {\n        throw new ControllerException(BAD_REQUEST, e);\n    }\n}\n</code></pre>\n<p>The thing is that I don't receive the <code>302</code> status code anymore. Instead, Spring does the actual redirect inside and returns the result of <code>targetUri()</code> endpoint invocation. But I don't want that. I need to receive the <code>302</code> status code with the actual redirect value.</p>\n<p>I tried to refactor code a bit:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final var jwtTokenCookie = cookieService.createJwtCookie(userContext);httpResponse.addCookie(jwtTokenCookie);\nHttpHeaders httpHeaders = new HttpHeaders();\nhttpHeaders.setLocation(new URI(ssoState.targetUri()));\nreturn new ResponseEntity&lt;&gt;(httpHeaders, FOUND);\n</code></pre>\n<p>But it didn't work. Seems like Spring Security has registered some filter that checks all <code>3xx</code> responses. Can I turn it off somehow?</p>\n<h2>EDIT 1</h2>\n<p>I also tried to tune the <code>TestRestTemplate</code> instance to manually disable possible redirects. Look at the code snippet below.</p>\n<pre class=\"lang-java prettyprint-override\"><code>testRestTemplate = new TestRestTemplate(\n            restTemplateBuilder, null, null, TestRestTemplate.HttpClientOption.ENABLE_COOKIES\n        );\n</code></pre>\n<p>As you can see, I don't pass the <code>HttpClientOption.ENABLE_REDIRECTS</code> option. Therefore, the <code>TestRestTemplate</code> should return the result as-is. Anyway, I still get the redirected URL response value.</p>\n<p>So, I bet that the service does redirects but not the client.</p>\n<p>Here are the <strong>response</strong> headers:</p>\n<pre><code>Cache-Control:&quot;no-cache, no-store, max-age=0, must-revalidate&quot;,\nConnection:&quot;keep-alive&quot;,\nContent-Type:&quot;application/json;charset=UTF-8&quot;,\nDate:&quot;Tue, 29 Nov 2022 19:25:54 GMT&quot;,\nExpires:&quot;0&quot;,\nKeep-Alive:&quot;timeout=60&quot;,\nPragma:&quot;no-cache&quot;,\nTransfer-Encoding:&quot;chunked&quot;,\nVary:&quot;Origin&quot;,\n&quot;Access-Control-Request-Method&quot;,\n&quot;Access-Control-Request-Headers&quot;,\nX-Content-Type-Options:&quot;nosniff&quot;,\nX-Frame-Options:&quot;DENY&quot;,\nX-XSS-Protection:&quot;0&quot;\n</code></pre>\n<p>The request headers are empty.</p>\n<h2>EDIT 2</h2>\n<p>I've also tried to upgrade the springdoc library to the <code>2.x.x</code>.</p>\n<p>The previous version is</p>\n<pre><code>implementation &quot;org.springdoc:springdoc-openapi-ui:1.6.13&quot;\n</code></pre>\n<p>The new version is</p>\n<pre><code>implementation &quot;org.springdoc:springdoc-openapi-starter-webmvc-ui:2.0.2&quot;\n</code></pre>\n<p>That didn't help anyhow. I also turned on the TRACE logging for more information. Take a look at the code below to see what I got.</p>\n<pre><code>21:10:42.223 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler ...SsoController#handleRedirectException(RedirectException)\n21:10:42.223 TRACE o.s.w.m.HandlerMethod - Arguments: [...RedirectException: Redirect to /api/accounts]\n21:10:42.224 DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'text/plain', given [text/plain, application/json, application/*+json, */*] and supported [*/*]\n21:10:42.224 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [...RedirectException: Redirect to /api/accounts]\n21:10:42.224 TRACE o.s.w.s.DispatcherServlet - No view rendering, null ModelAndView returned.\n21:10:42.225 DEBUG o.s.w.s.DispatcherServlet - Completed 302 FOUND, headers={masked}\n21:10:42.225 TRACE o.s.s.w.h.w.HstsHeaderWriter - Not injecting HSTS header since it did not match request to [Is Secure]\n21:10:42.228 TRACE o.s.s.w.FilterChainProxy - Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@45d1efc3, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@193e95a8, org.springframework.security.web.context.SecurityContextHolderFilter@2b359a0f, org.springframework.security.web.header.HeaderWriterFilter@5df041, org.springframework.web.filter.CharacterEncodingFilter@7b0eeb99, org.springframework.security.web.authentication.logout.LogoutFilter@31324b57, ...JwtAuthenticationFilter@504b132d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@387ee53c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5cf6aa48, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1a2e5110, org.springframework.security.web.session.SessionManagementFilter@419ae2fd, org.springframework.security.web.access.ExceptionTranslationFilter@3fed07ba, org.springframework.security.web.access.intercept.AuthorizationFilter@6ce03f94]] (1/1)\n21:10:42.228 DEBUG o.s.s.w.FilterChainProxy - Securing GET /api/accounts\n21:10:42.228 TRACE o.s.s.w.FilterChainProxy - Invoking DisableEncodeUrlFilter (1/13)\n21:10:42.229 TRACE o.s.s.w.FilterChainProxy - Invoking WebAsyncManagerIntegrationFilter (2/13)\n21:10:42.229 TRACE o.s.s.w.FilterChainProxy - Invoking SecurityContextHolderFilter (3/13)\n21:10:42.229 TRACE o.s.s.w.FilterChainProxy - Invoking HeaderWriterFilter (4/13)\n21:10:42.229 TRACE o.s.s.w.FilterChainProxy - Invoking CharacterEncodingFilter (5/13)\n21:10:42.229 TRACE o.s.s.w.FilterChainProxy - Invoking LogoutFilter (6/13)\n...\n</code></pre>\n<p>As you can see, there is some filter that catches the <code>302</code> and trying to proceed the redirect to <code>/api/accounts</code> internally instead of simply returning the status code to the client.</p>\n<p>According to logs, the <code>FilterChainProxy</code> starts the unwanted redirect behavior. However, it's not a conrcrete bean but a container that is used widely across Spring components. Any ideas how to disable the internal redirect?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":526476,"reputation":27861,"user_id":1790644,"accept_rate":80,"display_name":"Matt Clark"},"score":0,"creation_date":1671384675,"post_id":74843217,"comment_id":132083424,"body_markdown":"Maybe you want `String result=&quot;&quot;;` then `result += lines...`","body":"Maybe you want <code>String result=&quot;&quot;;</code> then <code>result += lines...</code>"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1671385976,"post_id":74843217,"comment_id":132083586,"body_markdown":"`String[] result` …Are you sure that is supposed to be a one-dimensional array and not a two-dimensional array (meaning, `String[][]`)?","body":"<code>String[] result</code> …Are you sure that is supposed to be a one-dimensional array and not a two-dimensional array (meaning, <code>String[][]</code>)?"}],"answers":[{"tags":[],"owner":{"account_id":21204035,"reputation":26,"user_id":15594052,"display_name":"Firas Farjallah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671385135,"creation_date":1671385135,"answer_id":74843264,"question_id":74843217,"body_markdown":"To read each line from a text file and save each line to an array of strings, with a line separator after each line, you can use the following code:\r\n\r\n    Path path = Paths.get(&quot;src/main/resources&quot;, &quot;crochet.txt&quot;);\r\n    List&lt;String&gt; result = new ArrayList&lt;&gt;();\r\n\r\n    if (Files.exists(path)) {\r\n    var lines = Files.readAllLines(path);\r\n    for (String line : lines) {\r\n        result.add(line);\r\n        result.add(&quot;\\n&quot;); // ajoute un s&#233;parateur de ligne\r\n    }\r\n    } else {\r\n    System.err.println(&quot;Error: File not found: &quot; + path.toAbsolutePath());\r\n    }\r\n\r\n    // convertit la liste en tableau de cha&#238;nes de caract&#232;res\r\n    String[] input = result.toArray(new String[0]);\r\n    return input;\r\n\r\nYou can use this code in your main class as follows:\r\n\r\n    FileHandler fileHandler = new FileHandler();\r\n    String[] input = fileHandler.readFile();\r\n\r\n\r\n\r\n","title":"How to read all lines from a java file and split the elements that are divided by a specific symbol","body":"<p>To read each line from a text file and save each line to an array of strings, with a line separator after each line, you can use the following code:</p>\n<pre><code>Path path = Paths.get(&quot;src/main/resources&quot;, &quot;crochet.txt&quot;);\nList&lt;String&gt; result = new ArrayList&lt;&gt;();\n\nif (Files.exists(path)) {\nvar lines = Files.readAllLines(path);\nfor (String line : lines) {\n    result.add(line);\n    result.add(&quot;\\n&quot;); // ajoute un séparateur de ligne\n}\n} else {\nSystem.err.println(&quot;Error: File not found: &quot; + path.toAbsolutePath());\n}\n\n// convertit la liste en tableau de chaînes de caractères\nString[] input = result.toArray(new String[0]);\nreturn input;\n</code></pre>\n<p>You can use this code in your main class as follows:</p>\n<pre><code>FileHandler fileHandler = new FileHandler();\nString[] input = fileHandler.readFile();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17347431,"reputation":89,"user_id":12566715,"display_name":"Janardhan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671387847,"creation_date":1671385775,"answer_id":74843310,"question_id":74843217,"body_markdown":"You can try using `Files.lines(Path path)` method that returns `Stream&lt;String&gt;`,  then using map method, split and collect the result.\r\n\r\nhere is the code snippet. ( of course, you need to handle file exists conditions etc.)\r\n\r\n  \r\n\r\n    List&lt;String[]&gt; linesSplit = Files.lines(Path.of(&quot;/path/to/file&quot;))\r\n                    .map(line -&gt; line.split(&quot;;&quot;))\r\n                    .collect(Collectors.toList());\r\n\r\n","title":"How to read all lines from a java file and split the elements that are divided by a specific symbol","body":"<p>You can try using <code>Files.lines(Path path)</code> method that returns <code>Stream&lt;String&gt;</code>,  then using map method, split and collect the result.</p>\n<p>here is the code snippet. ( of course, you need to handle file exists conditions etc.)</p>\n<pre><code>List&lt;String[]&gt; linesSplit = Files.lines(Path.of(&quot;/path/to/file&quot;))\n                .map(line -&gt; line.split(&quot;;&quot;))\n                .collect(Collectors.toList());\n</code></pre>\n"}],"owner":{"account_id":27291166,"reputation":3,"user_id":20809551,"display_name":"allaroundnoob"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":274,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":74843264,"answer_count":2,"score":-3,"last_activity_date":1671387847,"creation_date":1671384555,"question_id":74843217,"body_markdown":"For my project I need to read every line in a text file. The elements in this file are divided with a &quot;;&quot;. I need to save the result of this FileReader into a String array. What&#39;s also important is that after every line I need some sort of linebreaker/divider.\r\n\r\nI currently have this:\r\n\r\n    Path path = Paths.get(&quot;src/main/resources&quot;, &quot;crochet.txt&quot;);\r\n    String[] result = new String[0];\r\n\r\n    if (Files.exists(path)) {\r\n        var lines = Files.readAllLines(path);\r\n        for (String line : lines) {\r\n            result = lines.get(0).split(&quot;;&quot;);\r\n        }\r\n    } else {\r\n        System.err.println(&quot;Error: File not found: &quot; + path.toAbsolutePath());\r\n    }\r\n    return result;\r\n\r\n\r\nAnd in the main class:\r\n\r\n```\r\nFileHandler fileHandler = new FileHandler();\r\nfileHandler.readFile();\r\n\r\nString[] input = fileHandler.readFile();\r\n```\r\n\r\n\r\nThis only reads the first line in the file and also doesn&#39;t add a linebreak to the array.","title":"How to read all lines from a java file and split the elements that are divided by a specific symbol","body":"<p>For my project I need to read every line in a text file. The elements in this file are divided with a &quot;;&quot;. I need to save the result of this FileReader into a String array. What's also important is that after every line I need some sort of linebreaker/divider.</p>\n<p>I currently have this:</p>\n<pre><code>Path path = Paths.get(&quot;src/main/resources&quot;, &quot;crochet.txt&quot;);\nString[] result = new String[0];\n\nif (Files.exists(path)) {\n    var lines = Files.readAllLines(path);\n    for (String line : lines) {\n        result = lines.get(0).split(&quot;;&quot;);\n    }\n} else {\n    System.err.println(&quot;Error: File not found: &quot; + path.toAbsolutePath());\n}\nreturn result;\n</code></pre>\n<p>And in the main class:</p>\n<pre><code>FileHandler fileHandler = new FileHandler();\nfileHandler.readFile();\n\nString[] input = fileHandler.readFile();\n</code></pre>\n<p>This only reads the first line in the file and also doesn't add a linebreak to the array.</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":7946170,"reputation":174,"user_id":5998634,"display_name":"User9211"},"score":1,"creation_date":1599282983,"post_id":63750128,"comment_id":112732844,"body_markdown":"make sure you have installed all required SDK components.","body":"make sure you have installed all required SDK components."}],"answers":[{"tags":[],"owner":{"account_id":15115676,"reputation":182,"user_id":10908158,"display_name":"Ntobeko Dindi"},"down_vote_count":2,"up_vote_count":10,"is_accepted":true,"score":8,"last_activity_date":1599842006,"creation_date":1599841693,"answer_id":63850936,"question_id":63750128,"body_markdown":"I don&#39;t know for sure what causes this error but you can solve it by first closing the project and deleting the project.xml file in the .idea\\codeStyles\\ directory of your project, as soon as you reopen your project you will get a popup prompting you to reconfigure this file, after that everything should be okay,","title":"Android Studio: Failed to initialize editor","body":"<p>I don't know for sure what causes this error but you can solve it by first closing the project and deleting the project.xml file in the .idea\\codeStyles\\ directory of your project, as soon as you reopen your project you will get a popup prompting you to reconfigure this file, after that everything should be okay,</p>\n"},{"tags":[],"owner":{"account_id":10289563,"reputation":320,"user_id":7591699,"display_name":"MagicUnderHood"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1602078895,"creation_date":1602078895,"answer_id":64245592,"question_id":63750128,"body_markdown":"I don&#39;t know why it happened, it happened for me on a project that was working earlier. Helped me File -&gt; Invalidate Cashes / Restart in Android Studio","title":"Android Studio: Failed to initialize editor","body":"<p>I don't know why it happened, it happened for me on a project that was working earlier. Helped me File -&gt; Invalidate Cashes / Restart in Android Studio</p>\n"},{"tags":[],"owner":{"account_id":8554136,"reputation":137,"user_id":6410233,"display_name":"Idan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1605353756,"creation_date":1605353756,"answer_id":64833453,"question_id":63750128,"body_markdown":"In my case, I simply had to exit Android Studio and relaunch it. :)","title":"Android Studio: Failed to initialize editor","body":"<p>In my case, I simply had to exit Android Studio and relaunch it. :)</p>\n"},{"tags":[],"owner":{"account_id":19556711,"reputation":41,"user_id":14310889,"display_name":"Suraj Bhagat"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1620292728,"creation_date":1620292728,"answer_id":67415262,"question_id":63750128,"body_markdown":"This will Helps me all the time :\r\n\r\nOpen the project then\r\n\r\nFile &gt; Invalidate Caches and Restart &gt; Invalidate Restart \r\nThis step will fix your project.\r\n[step 1][1]\r\n\r\n\r\n[step 2][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/EVjAn.png\r\n  [2]: https://i.stack.imgur.com/vayug.png","title":"Android Studio: Failed to initialize editor","body":"<p>This will Helps me all the time :</p>\n<p>Open the project then</p>\n<p>File &gt; Invalidate Caches and Restart &gt; Invalidate Restart\nThis step will fix your project.\n<a href=\"https://i.stack.imgur.com/EVjAn.png\" rel=\"nofollow noreferrer\">step 1</a></p>\n<p><a href=\"https://i.stack.imgur.com/vayug.png\" rel=\"nofollow noreferrer\">step 2</a></p>\n"},{"tags":[],"owner":{"account_id":931519,"reputation":2174,"user_id":961331,"accept_rate":88,"display_name":"DontPanic"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1622737375,"creation_date":1622737375,"answer_id":67825210,"question_id":63750128,"body_markdown":"None of the solutions here worked for me. I tried invalidating caches, restarting AS, rebooting my PC, deleting .gradle .idea, build and app/build  \r\nThe only way I was able to make it work as before was to roll back to a saved copy I (luckily) had (v3.6.3).  \r\nThe problem happened immediately after I naively clicked on the offered updates (AS+gradle).","title":"Android Studio: Failed to initialize editor","body":"<p>None of the solutions here worked for me. I tried invalidating caches, restarting AS, rebooting my PC, deleting .gradle .idea, build and app/build<br />\nThe only way I was able to make it work as before was to roll back to a saved copy I (luckily) had (v3.6.3).<br />\nThe problem happened immediately after I naively clicked on the offered updates (AS+gradle).</p>\n"},{"tags":[],"owner":{"account_id":12406286,"reputation":90,"user_id":9041064,"display_name":"Houssem Nasri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1625234937,"creation_date":1625234218,"answer_id":68226444,"question_id":63750128,"body_markdown":"I had to clean install android studio but it didn&#39;t fix it until I deleted this folder `%APPDATA%\\Google\\AndroidStudio*`.\r\n\r\nThis might be because of Toolbox since that&#39;s what I was using to update android studio when this happend.","title":"Android Studio: Failed to initialize editor","body":"<p>I had to clean install android studio but it didn't fix it until I deleted this folder <code>%APPDATA%\\Google\\AndroidStudio*</code>.</p>\n<p>This might be because of Toolbox since that's what I was using to update android studio when this happend.</p>\n"},{"tags":[],"owner":{"account_id":19356602,"reputation":41,"user_id":14152811,"display_name":"Bipul Devashish"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1664176856,"creation_date":1664176856,"answer_id":73850730,"question_id":63750128,"body_markdown":"It is because of the incompatible AGP version.\r\nAGP = Android Gradle Plugin\r\n\r\nYou can resolve it by two methods.\r\n\r\n1&gt; upgrading the agp of your project.\r\n\r\n2&gt; downgrading the android studio version.\r\n\r\nYou can find all the versions over here.\r\n\r\nhttps://developer.android.com/studio/archive?authuser=1\r\n\r\nRecommended:- upgrade the agp of your project.\r\n","title":"Android Studio: Failed to initialize editor","body":"<p>It is because of the incompatible AGP version.\nAGP = Android Gradle Plugin</p>\n<p>You can resolve it by two methods.</p>\n<p>1&gt; upgrading the agp of your project.</p>\n<p>2&gt; downgrading the android studio version.</p>\n<p>You can find all the versions over here.</p>\n<p><a href=\"https://developer.android.com/studio/archive?authuser=1\" rel=\"nofollow noreferrer\">https://developer.android.com/studio/archive?authuser=1</a></p>\n<p>Recommended:- upgrade the agp of your project.</p>\n"},{"tags":[],"owner":{"account_id":3439031,"reputation":11,"user_id":2881385,"display_name":"smithit"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665401543,"creation_date":1665401449,"answer_id":74014249,"question_id":63750128,"body_markdown":"I solved this problem by deleting the inspectionProfiles folder under the project&#39;s.idea folder and upgrading the gradle version. \r\n\r\nVersion: Android Studio Dolphin | 2021.3.1","title":"Android Studio: Failed to initialize editor","body":"<p>I solved this problem by deleting the inspectionProfiles folder under the project's.idea folder and upgrading the gradle version.</p>\n<p>Version: Android Studio Dolphin | 2021.3.1</p>\n"},{"tags":[],"owner":{"account_id":25260882,"reputation":76,"user_id":19091801,"display_name":"Ahmad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665427435,"creation_date":1665427435,"answer_id":74019449,"question_id":63750128,"body_markdown":"Update Gradle and plugins in project to latest, then invalidate cache and restart","title":"Android Studio: Failed to initialize editor","body":"<p>Update Gradle and plugins in project to latest, then invalidate cache and restart</p>\n"},{"tags":[],"owner":{"account_id":26662336,"reputation":1,"user_id":20274969,"display_name":"Gabriel Maia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666111392,"creation_date":1666111367,"answer_id":74114552,"question_id":63750128,"body_markdown":"To Solve failed to initialize editor in android studio You need to update Android Gradle Plugin. First of all Open your File -&gt; Project Structure ( Ctrl + Alt + Shift + S ) -&gt; Project Then You need to update Android Gradle Plugin Version to 7.3.0 and Gradle Version to 7.4. And then You need to invalidate cache and restart your IDE will resolve your error.\r\n\r\nreference: https://exerror.com/failed-to-initialize-editor-in-android-studio/","title":"Android Studio: Failed to initialize editor","body":"<p>To Solve failed to initialize editor in android studio You need to update Android Gradle Plugin. First of all Open your File -&gt; Project Structure ( Ctrl + Alt + Shift + S ) -&gt; Project Then You need to update Android Gradle Plugin Version to 7.3.0 and Gradle Version to 7.4. And then You need to invalidate cache and restart your IDE will resolve your error.</p>\n<p>reference: <a href=\"https://exerror.com/failed-to-initialize-editor-in-android-studio/\" rel=\"nofollow noreferrer\">https://exerror.com/failed-to-initialize-editor-in-android-studio/</a></p>\n"},{"tags":[],"owner":{"account_id":18343563,"reputation":81,"user_id":13359215,"display_name":"WannaBe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666172373,"creation_date":1666172373,"answer_id":74123140,"question_id":63750128,"body_markdown":"I have updated the Dolphin version today (Android Studio Dolphin | 2021.3.1 Patch 1). Now everything works.\r\n\r\nAttention: After update you must invalidate your Android Studio Cache","title":"Android Studio: Failed to initialize editor","body":"<p>I have updated the Dolphin version today (Android Studio Dolphin | 2021.3.1 Patch 1). Now everything works.</p>\n<p>Attention: After update you must invalidate your Android Studio Cache</p>\n"},{"tags":[],"owner":{"account_id":18084188,"reputation":1,"user_id":13145530,"display_name":"Hamid Kamizi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671387148,"creation_date":1671387148,"answer_id":74843425,"question_id":63750128,"body_markdown":"HI i update gradle plugin to 7.3.0 and wrapper to gradle-7.4-bin","title":"Android Studio: Failed to initialize editor","body":"<p>HI i update gradle plugin to 7.3.0 and wrapper to gradle-7.4-bin</p>\n"}],"owner":{"account_id":10322539,"reputation":919,"user_id":7614941,"accept_rate":53,"display_name":"andrzej541"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31005,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":63850936,"answer_count":12,"score":18,"last_activity_date":1671387148,"creation_date":1599276234,"question_id":63750128,"body_markdown":"I&#39;m new with Android Studio technology. I&#39;ve just launched a new empty project from scratch on Windows 10 machine. At first in my activity_main.xml file I could see an error &quot;editor is unavaible until next gradle synch&quot;. After clicking on &quot;Synch Project with Gradle Files&quot; the error message turns into &quot;Failed to initialize editor&quot; as you can see on the pic below:   \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/18A0t.jpg\r\n\r\nAs you can see build console shows no errors. Also green arrow on the top bar is muted. How can I fix this issue?\r\n\r\nAndroid Studio version: 4.02\r\nJDK version: 1.8.0_261\r\n\r\n**Note** I&#39;ve got Avast Antivirus installed on my computer. I&#39;m not sure if it changes anything but in few similar topics people repored this program as an issue interfering with Android Studio. However my avast quarantine remains empty.\r\n\r\n**Update/Solution** In my case it turned out that downgrading my Android Studio from 4.0.2 to 3.5.3 version solved this problem. Now everything works fine. ","title":"Android Studio: Failed to initialize editor","body":"<p>I'm new with Android Studio technology. I've just launched a new empty project from scratch on Windows 10 machine. At first in my activity_main.xml file I could see an error &quot;editor is unavaible until next gradle synch&quot;. After clicking on &quot;Synch Project with Gradle Files&quot; the error message turns into &quot;Failed to initialize editor&quot; as you can see on the pic below:</p>\n<p><a href=\"https://i.stack.imgur.com/18A0t.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/18A0t.jpg\" alt=\"enter image description here\" /></a></p>\n<p>As you can see build console shows no errors. Also green arrow on the top bar is muted. How can I fix this issue?</p>\n<p>Android Studio version: 4.02\nJDK version: 1.8.0_261</p>\n<p><strong>Note</strong> I've got Avast Antivirus installed on my computer. I'm not sure if it changes anything but in few similar topics people repored this program as an issue interfering with Android Studio. However my avast quarantine remains empty.</p>\n<p><strong>Update/Solution</strong> In my case it turned out that downgrading my Android Studio from 4.0.2 to 3.5.3 version solved this problem. Now everything works fine.</p>\n"},{"tags":["java","curl","okhttp"],"owner":{"account_id":26412950,"reputation":1,"user_id":20061789,"display_name":"Adiel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671386332,"creation_date":1671382582,"question_id":74843039,"body_markdown":"I want to convert the following command to okhttp commands, but I fail. I will mention that I work in IntelliJ in java in a Linux environment.\r\n\r\n\r\n\r\nThis command that I try to convert:\r\n```\r\n$ curl --silent -XPOST --unix-socket /run/docker.sock -d &#39;{&quot;Image&quot;:&quot;redis:latest&quot;}&#39; -H &#39;Content-Type: application/json&#39; http://localhost/containers/create?name=redis\r\n```\r\nThis command picks up an docker image called redis.\r\n\r\nAnd this is the code I&#39;m trying to do it with:\r\n\r\n```\r\npublic boolean createContainer(String dockerImage) {\r\n\r\n        String data = &quot;{\\&quot;Image\\&quot;:\\&quot;redis:latest\\&quot;}&quot;;\r\n        RequestBody body = RequestBody.create(\r\n                MediaType.parse(&quot;application/json&quot;),data);\r\n        Request request = new Request.Builder().url(&quot;http://localhost:2375/containers/create/&quot; +dockerImage)\r\n                .post(body).build();\r\n\r\n        Response response = null;\r\n        try {\r\n            response = client.newCall(request).execute();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n            return false;\r\n        }\r\n\r\n        response.close();\r\n        return true;\r\n    }\r\n```\r\n\r\nBut when I run this code and then check in the terminal with the same command, I expect to get an error that this image already exists, but I get an Id. What this means is that the command is not working.\r\n\r\n\r\nBelow is a command that I was able to convert to okhttp with some kind of ID:\r\n```\r\n curl --silent -XPOST --unix-socket /run/docker.sock -H &#39;Content-Type: application/json&#39; http://localhost/containers/1c022ba8c88382b1bad03c5d32146f66b698b5211ea37057cb56f76537228b0e/start\r\n```\r\n\r\nthe conversion:\r\n\r\n```\r\npublic boolean doContainer(String containerId, String action) {\r\n        MediaType textPlainMT = MediaType.parse(&quot;application/json&quot;);\r\n        String helloMsg = &quot;Hello OkHttp&quot;;\r\n\r\n        Request request = new Request.Builder().url(&quot;http://localhost:2375/containers/&quot; + containerId +&quot;/&quot; + action)\r\n                .post(RequestBody.create(textPlainMT, &quot;{}&quot;)).build();\r\n\r\n        Response response = null;\r\n        try {\r\n            response = client.newCall(request).execute();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n            return false;\r\n        }\r\n\r\n        response.close();\r\n        return true;\r\n    }\r\n```\r\n\r\nIt works fine, but the first command doesn&#39;t work well.\r\nI hope I explained myself well, and I would be happy to answer.\r\n\r\n","title":"How convert this command to okhttp in java?","body":"<p>I want to convert the following command to okhttp commands, but I fail. I will mention that I work in IntelliJ in java in a Linux environment.</p>\n<p>This command that I try to convert:</p>\n<pre><code>$ curl --silent -XPOST --unix-socket /run/docker.sock -d '{&quot;Image&quot;:&quot;redis:latest&quot;}' -H 'Content-Type: application/json' http://localhost/containers/create?name=redis\n</code></pre>\n<p>This command picks up an docker image called redis.</p>\n<p>And this is the code I'm trying to do it with:</p>\n<pre><code>public boolean createContainer(String dockerImage) {\n\n        String data = &quot;{\\&quot;Image\\&quot;:\\&quot;redis:latest\\&quot;}&quot;;\n        RequestBody body = RequestBody.create(\n                MediaType.parse(&quot;application/json&quot;),data);\n        Request request = new Request.Builder().url(&quot;http://localhost:2375/containers/create/&quot; +dockerImage)\n                .post(body).build();\n\n        Response response = null;\n        try {\n            response = client.newCall(request).execute();\n        } catch (IOException e) {\n            e.printStackTrace();\n            return false;\n        }\n\n        response.close();\n        return true;\n    }\n</code></pre>\n<p>But when I run this code and then check in the terminal with the same command, I expect to get an error that this image already exists, but I get an Id. What this means is that the command is not working.</p>\n<p>Below is a command that I was able to convert to okhttp with some kind of ID:</p>\n<pre><code> curl --silent -XPOST --unix-socket /run/docker.sock -H 'Content-Type: application/json' http://localhost/containers/1c022ba8c88382b1bad03c5d32146f66b698b5211ea37057cb56f76537228b0e/start\n</code></pre>\n<p>the conversion:</p>\n<pre><code>public boolean doContainer(String containerId, String action) {\n        MediaType textPlainMT = MediaType.parse(&quot;application/json&quot;);\n        String helloMsg = &quot;Hello OkHttp&quot;;\n\n        Request request = new Request.Builder().url(&quot;http://localhost:2375/containers/&quot; + containerId +&quot;/&quot; + action)\n                .post(RequestBody.create(textPlainMT, &quot;{}&quot;)).build();\n\n        Response response = null;\n        try {\n            response = client.newCall(request).execute();\n        } catch (IOException e) {\n            e.printStackTrace();\n            return false;\n        }\n\n        response.close();\n        return true;\n    }\n</code></pre>\n<p>It works fine, but the first command doesn't work well.\nI hope I explained myself well, and I would be happy to answer.</p>\n"},{"tags":["java","mysql","jdbc"],"comments":[{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1468817617,"post_id":38428706,"comment_id":64263868,"body_markdown":"Capture [`System.nanoTime()`](https://docs.oracle.com/javase/8/docs/api/java/lang/System.html#nanoTime--) before and after execution of the SQL statement, then subtract them from each other.","body":"Capture <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/System.html#nanoTime--\" rel=\"nofollow noreferrer\"><code>System.nanoTime()</code></a> before and after execution of the SQL statement, then subtract them from each other."},{"owner":{"account_id":3788256,"reputation":1723,"user_id":3145500,"display_name":"Prashant Srivastav"},"score":0,"creation_date":1468817647,"post_id":38428706,"comment_id":64263872,"body_markdown":"Every resultset have duration you can use that resultset.getDouble(&#39;Duration&#39;);","body":"Every resultset have duration you can use that resultset.getDouble(&#39;Duration&#39;);"},{"owner":{"account_id":2386721,"reputation":1346,"user_id":2087556,"accept_rate":69,"display_name":"Vanguard"},"score":0,"creation_date":1468817809,"post_id":38428706,"comment_id":64263913,"body_markdown":"@Andreas System.nanotime returns spent time by java. I need to get to get mysql spent time.","body":"@Andreas System.nanotime returns spent time by java. I need to get to get mysql spent time."},{"owner":{"account_id":2386721,"reputation":1346,"user_id":2087556,"accept_rate":69,"display_name":"Vanguard"},"score":0,"creation_date":1468817847,"post_id":38428706,"comment_id":64263923,"body_markdown":"@PrashantSrivastav resultset.getDouble(&#39;Duration&#39;); -&gt; Column &#39;Duration&#39; not found.","body":"@PrashantSrivastav resultset.getDouble(&#39;Duration&#39;); -&gt; Column &#39;Duration&#39; not found."},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1468817983,"post_id":38428706,"comment_id":64263960,"body_markdown":"@AsadGaniev It would measure the time spent sending the SQL to the server, plus time spent on the server running the SQL, plus time spent sending the result back to the client (your Java program). Do you have any reason to believe that the time shown in the `mysql` prompt is any different?","body":"@AsadGaniev It would measure the time spent sending the SQL to the server, plus time spent on the server running the SQL, plus time spent sending the result back to the client (your Java program). Do you have any reason to believe that the time shown in the <code>mysql</code> prompt is any different?"},{"owner":{"account_id":2386721,"reputation":1346,"user_id":2087556,"accept_rate":69,"display_name":"Vanguard"},"score":0,"creation_date":1468819179,"post_id":38428706,"comment_id":64264351,"body_markdown":"@Andreas This is what I want to know.","body":"@Andreas This is what I want to know."},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1468823277,"post_id":38428706,"comment_id":64265904,"body_markdown":"What *exactly* is it you want? A way to measure the exact time spent by the RDBMS server executing the SQL statement, excluding transmissions times, SQL statement parsing, and Query Plan analysis? A way to measure the time including parsing and analysis? A way to measure the time also including transmission times? A way to measure the time spent from the perspective of Java? The exact same value that the prompt would give? If so, why do you want that particular number vs. any of the others? What *precision* do you want? Why isn&#39;t the suggestions already provided good enough?","body":"What <i>exactly</i> is it you want? A way to measure the exact time spent by the RDBMS server executing the SQL statement, excluding transmissions times, SQL statement parsing, and Query Plan analysis? A way to measure the time including parsing and analysis? A way to measure the time also including transmission times? A way to measure the time spent from the perspective of Java? The exact same value that the prompt would give? If so, why do you want that particular number vs. any of the others? What <i>precision</i> do you want? Why isn&#39;t the suggestions already provided good enough?"},{"owner":{"account_id":2386721,"reputation":1346,"user_id":2087556,"accept_rate":69,"display_name":"Vanguard"},"score":0,"creation_date":1468849635,"post_id":38428706,"comment_id":64282411,"body_markdown":"@Andreas sorry your answer was good enough. the other answers made me sure that it was really good. I just wanted to know mysql query execution time without java transmission time, and get the actual time that the mysql console gives when a query is executed","body":"@Andreas sorry your answer was good enough. the other answers made me sure that it was really good. I just wanted to know mysql query execution time without java transmission time, and get the actual time that the mysql console gives when a query is executed"},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1468851268,"post_id":38428706,"comment_id":64283576,"body_markdown":"I don&#39;t have the answer for this, but how do you know that the time given by mysql console does not include transmission time? Is that documented, or is that just your guess/assumption?","body":"I don&#39;t have the answer for this, but how do you know that the time given by mysql console does not include transmission time? Is that documented, or is that just your guess/assumption?"},{"owner":{"account_id":2386721,"reputation":1346,"user_id":2087556,"accept_rate":69,"display_name":"Vanguard"},"score":0,"creation_date":1468852149,"post_id":38428706,"comment_id":64284249,"body_markdown":"@Andreas I don&#39;t know if it is documented or not. So is there any way to clarify it? The question is becoming wider. :-)","body":"@Andreas I don&#39;t know if it is documented or not. So is there any way to clarify it? The question is becoming wider. :-)"}],"owner":{"account_id":2386721,"reputation":1346,"user_id":2087556,"accept_rate":69,"display_name":"Vanguard"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":386,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671386257,"creation_date":1468817034,"question_id":38428706,"body_markdown":"While making query in MySQL by shell it shows time spent after result.\r\n&lt;pre&gt;\r\n\r\nmysql&gt; SELECT * FROM `SOME_TABLE`;\r\n+----+---------+\r\n| ID |   NAME  |\r\n+----+---------+\r\n|  1 |  `JOHN` |\r\n+----+---------+\r\n&lt;b&gt;1 row in set (0.01 sec)&lt;/b&gt;\r\n\r\n&lt;/pre&gt;\r\n\r\nIf you see spent time for this query is 0.01 sec.\r\nI want to know how to get this spent time by Java\r\ncode using JDBC.","title":"How to get MySQL query spent time in Java","body":"<p>While making query in MySQL by shell it shows time spent after result.</p>\n<pre>\n\nmysql> SELECT * FROM `SOME_TABLE`;\n+----+---------+\n| ID |   NAME  |\n+----+---------+\n|  1 |  `JOHN` |\n+----+---------+\n<b>1 row in set (0.01 sec)</b>\n\n</pre>\n<p>If you see spent time for this query is 0.01 sec.\nI want to know how to get this spent time by Java\ncode using JDBC.</p>\n"},{"tags":["java","rest-assured"],"answers":[{"tags":[],"owner":{"account_id":8986202,"reputation":194,"user_id":6699701,"display_name":"Amol Gharpure"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1554447643,"creation_date":1554445011,"answer_id":55529281,"question_id":55529239,"body_markdown":"It is better if you have tags for you element lists if they are of one type:-\r\n\r\n    {  \r\n       &quot;Strings&quot;:[  \r\n          &quot;String1&quot;,\r\n          &quot;String2&quot;,\r\n          &quot;String3&quot;,\r\n          &quot;String4&quot;,\r\n          &quot;String5&quot;\r\n       ]\r\n    }\r\n\r\n    JsonArray arrObj = empObj.getJsonArray(&quot;Strings&quot;);\r\n\r\n \r\n\r\n\r\nThis will return you a JsonArray that you can convert to any type based on your requirement\r\n\r\nIf you cannot change the input json , maybe this could help :-\r\n\r\n     String [] json = new  String[10];\r\n     obj = parser.parse(response);\r\n     String jsoString = obj.toString();\r\n     List&lt;String&gt; items = Arrays.asList(jsoString.split(&quot;\\\\s*,\\\\s*&quot;));\r\n\t\t\t\t","title":"Is there any way to handle &quot;Array response&quot; return from API call","body":"<p>It is better if you have tags for you element lists if they are of one type:-</p>\n\n<pre><code>{  \n   \"Strings\":[  \n      \"String1\",\n      \"String2\",\n      \"String3\",\n      \"String4\",\n      \"String5\"\n   ]\n}\n\nJsonArray arrObj = empObj.getJsonArray(\"Strings\");\n</code></pre>\n\n<p>This will return you a JsonArray that you can convert to any type based on your requirement</p>\n\n<p>If you cannot change the input json , maybe this could help :-</p>\n\n<pre><code> String [] json = new  String[10];\n obj = parser.parse(response);\n String jsoString = obj.toString();\n List&lt;String&gt; items = Arrays.asList(jsoString.split(\"\\\\s*,\\\\s*\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6872174,"reputation":1350,"user_id":6168167,"display_name":"bhusak"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1554461625,"creation_date":1554461625,"answer_id":55533840,"question_id":55529239,"body_markdown":"You can try following to get list of strings:\r\n\r\n    List&lt;String&gt; = jsonPathEvaluator.get();\r\n\r\nor\r\n\r\n    List&lt;String&gt; = jsonPathEvaluator.getList(&quot;&quot;);\r\n\r\n","title":"Is there any way to handle &quot;Array response&quot; return from API call","body":"<p>You can try following to get list of strings:</p>\n\n<pre><code>List&lt;String&gt; = jsonPathEvaluator.get();\n</code></pre>\n\n<p>or</p>\n\n<pre><code>List&lt;String&gt; = jsonPathEvaluator.getList(\"\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5336162,"reputation":845,"user_id":4255071,"display_name":"Olu Adeyemo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671385407,"creation_date":1671385407,"answer_id":74843283,"question_id":55529239,"body_markdown":"You could use JSONArrayRequest() method which works similar to JSONObjectRequest(). \r\n\r\nIf it&#39;s for a GET request method, here is how the sample code will look like: \r\n\r\n    JsonArrayRequest requestData = JSONArrayRequest(Request.Method.GET, &#39;https://your-api/endpoint&#39;, null, new Response.Listener&lt;JSONArray&gt;(){\r\n       \r\n      @Override\r\n      public void onResponse(JSONArray response){\r\n\r\n         //do whatever you want with the response data from here\r\n\r\n      }      \r\n\r\n\r\n     }, new Response.ErrorListener(){\r\n        \r\n        @Override\r\n        public void onErrorResponse(VolleyError error){\r\n          //whenever there is an error in response...\r\n         // ...the code works, data is usually retrieved, just that it&#39;s not the \r\n         //... intended type\r\n        }\r\n\r\n      });\r\n\r\n    // add the request to the queue\r\n    RequestQueue requestQueue = Volley.newRequestQueue(getApplicationContext());\r\n    requestQueue.add(requestData);\r\n\r\n\r\n\r\nDon&#39;t forget to import the required classes.","title":"Is there any way to handle &quot;Array response&quot; return from API call","body":"<p>You could use JSONArrayRequest() method which works similar to JSONObjectRequest().</p>\n<p>If it's for a GET request method, here is how the sample code will look like:</p>\n<pre><code>JsonArrayRequest requestData = JSONArrayRequest(Request.Method.GET, 'https://your-api/endpoint', null, new Response.Listener&lt;JSONArray&gt;(){\n   \n  @Override\n  public void onResponse(JSONArray response){\n\n     //do whatever you want with the response data from here\n\n  }      \n\n\n }, new Response.ErrorListener(){\n    \n    @Override\n    public void onErrorResponse(VolleyError error){\n      //whenever there is an error in response...\n     // ...the code works, data is usually retrieved, just that it's not the \n     //... intended type\n    }\n\n  });\n\n// add the request to the queue\nRequestQueue requestQueue = Volley.newRequestQueue(getApplicationContext());\nrequestQueue.add(requestData);\n</code></pre>\n<p>Don't forget to import the required classes.</p>\n"}],"owner":{"account_id":8638868,"reputation":21,"user_id":6468105,"display_name":"gss"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1233,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1671385407,"creation_date":1554444805,"question_id":55529239,"body_markdown":"I&#39;m testing a API where it return response as a Array,I am finding it difficult in storing in list or Array?\r\n\r\nI am using JsonPath to fetch the records\r\n\r\nAPI response looks  like this\r\n```\r\n[\r\n    &quot;String1&quot;,\r\n    &quot;String2&quot;,\r\n    &quot;String3&quot;,\r\n    &quot;String4&quot;,\r\n    &quot;String5&quot;\r\n]\r\n```\r\n\r\nI am Using below code\r\n```\r\nResponse response;\r\nJsonPath jsonPathEvaluator = response.jsonPath();\r\njsonPathEvaluator.getString(&quot;[0]&quot;);\r\n```","title":"Is there any way to handle &quot;Array response&quot; return from API call","body":"<p>I'm testing a API where it return response as a Array,I am finding it difficult in storing in list or Array?</p>\n\n<p>I am using JsonPath to fetch the records</p>\n\n<p>API response looks  like this</p>\n\n<pre><code>[\n    \"String1\",\n    \"String2\",\n    \"String3\",\n    \"String4\",\n    \"String5\"\n]\n</code></pre>\n\n<p>I am Using below code</p>\n\n<pre><code>Response response;\nJsonPath jsonPathEvaluator = response.jsonPath();\njsonPathEvaluator.getString(\"[0]\");\n</code></pre>\n"},{"tags":["java","groovy","jmeter","beanshell"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1671441983,"post_id":74841169,"comment_id":132092198,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"answers":[{"tags":[],"owner":{"account_id":3460456,"reputation":162728,"user_id":2897748,"display_name":"Dmitri T"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671384074,"creation_date":1671384074,"answer_id":74843180,"question_id":74841169,"body_markdown":"[Since JMeter 3.1 you&#39;re supposed to be using JSR223 Test Elements and Groovy language for scripting][1] so I will provide solution in [Groovy][2]:\r\n\r\n    import java.util.stream.IntStream\r\n    \r\n    def Names = [&#39;Mike&#39;, &#39;Harry&#39;, &#39;Jones&#39;, &#39;Jack&#39;, &#39;Jimmy&#39;]\r\n    def Rank = [4, 2, 1, 3, 5]\r\n    def Rollno = [&#39;S12&#39;, &#39;S76&#39;, &#39;S89&#39;, &#39;S87&#39;, &#39;S99&#39;]\r\n    \r\n    def lowestRankIndex = IntStream\r\n            .range(0, Rank.size())\r\n            .reduce((i, j) -&gt; Rank.get(i) &gt; Rank.get(j) ? j : i)\r\n            .getAsInt()\r\n    \r\n    def lowestRankName = Names.get(lowestRankIndex)\r\n    \r\n    def lowestRankRollno = Rollno.get(lowestRankIndex)\r\n    \r\n    log.info(&#39;Lowest rank name: &#39; + lowestRankName + &#39; rollno: &#39; + lowestRankRollno)\r\n\r\nDemo:\r\n\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://jmeter.apache.org/usermanual/best-practices.html#bsh_scripting\r\n  [2]: https://www.blazemeter.com/blog/apache-groovy\r\n  [3]: https://i.stack.imgur.com/Dm1Rp.png","title":"How to relate one array values with other in Beanshell","body":"<p><a href=\"https://jmeter.apache.org/usermanual/best-practices.html#bsh_scripting\" rel=\"nofollow noreferrer\">Since JMeter 3.1 you're supposed to be using JSR223 Test Elements and Groovy language for scripting</a> so I will provide solution in <a href=\"https://www.blazemeter.com/blog/apache-groovy\" rel=\"nofollow noreferrer\">Groovy</a>:</p>\n<pre><code>import java.util.stream.IntStream\n\ndef Names = ['Mike', 'Harry', 'Jones', 'Jack', 'Jimmy']\ndef Rank = [4, 2, 1, 3, 5]\ndef Rollno = ['S12', 'S76', 'S89', 'S87', 'S99']\n\ndef lowestRankIndex = IntStream\n        .range(0, Rank.size())\n        .reduce((i, j) -&gt; Rank.get(i) &gt; Rank.get(j) ? j : i)\n        .getAsInt()\n\ndef lowestRankName = Names.get(lowestRankIndex)\n\ndef lowestRankRollno = Rollno.get(lowestRankIndex)\n\nlog.info('Lowest rank name: ' + lowestRankName + ' rollno: ' + lowestRankRollno)\n</code></pre>\n<p>Demo:</p>\n<p><a href=\"https://i.stack.imgur.com/Dm1Rp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Dm1Rp.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":27289036,"reputation":7,"user_id":20807752,"display_name":"Mikey8997"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1671384074,"creation_date":1671365122,"question_id":74841169,"body_markdown":"I have a scenario where I have arrays like Names(Mike, Harry, Jones, Jack, Jimmy) Rank(4,2,1,3,5) and Rollno(S12,S76,S89,S87,S99). I need to capture lowest rank and associated name and roll no in beanshell.\r\n\r\nI&#39;m expecting to capture lowest rank and to get their names and roll no.","title":"How to relate one array values with other in Beanshell","body":"<p>I have a scenario where I have arrays like Names(Mike, Harry, Jones, Jack, Jimmy) Rank(4,2,1,3,5) and Rollno(S12,S76,S89,S87,S99). I need to capture lowest rank and associated name and roll no in beanshell.</p>\n<p>I'm expecting to capture lowest rank and to get their names and roll no.</p>\n"},{"tags":["java","docker","docker-compose","encoding"],"comments":[{"owner":{"account_id":4198672,"reputation":28840,"user_id":3439404,"display_name":"JosefZ"},"score":0,"creation_date":1671400879,"post_id":74843106,"comment_id":132086137,"body_markdown":"You face a [mojibake](https://en.wikipedia.org/wiki/Mojibake) case (*example in Python for its universal intelligibility*): `&#39;СОСТАВ&#39;.encode( &#39;utf-8&#39;).decode( &#39;cp1252&#39;, errors=&#39;replace&#39;)` returns `&#208;&#161;&#208;ž&#208;&#161;&#208;&#162;&#208;�&#208;’`.  Please [edit] your question to follow [mcve] rules. In particular, [*do not* use images of code/data/errors](https://meta.stackoverflow.com/a/285557/3439404) in your MRE.\nCopy the actual text, paste it into the question, then format it as code.","body":"You face a <a href=\"https://en.wikipedia.org/wiki/Mojibake\" rel=\"nofollow noreferrer\">mojibake</a> case (<i>example in Python for its universal intelligibility</i>): <code>&#39;СОСТАВ&#39;.encode( &#39;utf-8&#39;).decode( &#39;cp1252&#39;, errors=&#39;replace&#39;)</code> returns <code>&#208;&#161;&#208;ž&#208;&#161;&#208;&#162;&#208;�&#208;’</code>.  Please <a href=\"https://stackoverflow.com/posts/74843106/edit\">edit</a> your question to follow <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> rules. In particular, <a href=\"https://meta.stackoverflow.com/a/285557/3439404\"><i>do not</i> use images of code/data/errors</a> in your MRE. Copy the actual text, paste it into the question, then format it as code."}],"owner":{"account_id":17908948,"reputation":339,"user_id":13011474,"display_name":"Gongelini"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671383628,"creation_date":1671383121,"question_id":74843106,"body_markdown":"I&#39;ve faced next problem - after start of my Docker container all Cyrillic symbols have incorrect encoding.\r\n\r\n1) Content of my DockerFile\r\n\r\n```\r\nFROM openjdk:8-jdk-alpine\r\n\r\nENV MUSL_LOCALE_DEPS cmake make musl-dev gcc gettext-dev libintl\r\nENV MUSL_LOCPATH /usr/share/i18n/locales/musl\r\n\r\nRUN apk add tzdata\r\nRUN apk add --no-cache \\\r\n    $MUSL_LOCALE_DEPS \\\r\n    &amp;&amp; wget https://gitlab.com/rilian-la-te/musl-locales/-/archive/master/musl-locales-master.zip \\\r\n    &amp;&amp; unzip musl-locales-master.zip \\\r\n      &amp;&amp; cd musl-locales-master \\\r\n      &amp;&amp; cmake -DLOCALE_PROFILE=OFF -D CMAKE_INSTALL_PREFIX:PATH=/usr . &amp;&amp; make &amp;&amp; make install \\\r\n      &amp;&amp; cd .. &amp;&amp; rm -r musl-locales-master\r\n\r\nENV LANG ru_RU.UTF-8\r\nENV LANGUAGE ru_RU.UTF-8\r\nENV LC_ALL ru_RU.UTF-8\r\nENV TZ Europe/Moscow\r\n\r\nADD target/FootballBot-1.0-SNAPSHOT.jar application.jar\r\nENTRYPOINT [&quot;java&quot;,&quot;-Xmx330m&quot;, &quot;-Dfile.encoding=UTF-8&quot;, &quot;-Dconsole.encoding=UTF-8&quot; ,&quot;-Xss512k&quot;, &quot;-Xdebug&quot;, &quot;-Xrunjdwp:transport=dt_socket,address=8787,server=y,suspend=n&quot;, &quot;-jar&quot;, &quot;application.jar&quot;]\r\n```\r\n\r\n2) Content of my Docker-compose file:\r\n\r\n```\r\nversion: &#39;3.3&#39;\r\n\r\nservices:\r\n  app:\r\n    image: &#39;football_bot&#39;\r\n    ports:\r\n      - &quot;8787:8787&quot;\r\n    depends_on:\r\n      - db\r\n    environment:\r\n      - SPRING_DATASOURCE_URL=jdbc:postgresql://db:5432/football_bot_db\r\n      - SPRING_DATASOURCE_USERNAME=postgres\r\n      - SPRING_DATASOURCE_PASSWORD=postgres\r\n      - SPRING_JPA_HIBERNATE_DDL_AUTO=validate\r\n      #  PUT YOUR SETTINGS DOWN BELLOW\r\n      - DOMAIN_BOT_NAME=GongeliniBot\r\n      - DOMAIN_BOT_TOKEN=5095369262:AAH3X0MmvI0kMly9W83JqPeW28aqCdPiGGk\r\n      - DOMAIN_CHAT_NAME=&#39;testgroup bot&#39;\r\n\r\n  db:\r\n    image: &#39;postgres&#39;\r\n    ports:\r\n      - &quot;5432:5432&quot;\r\n    environment:\r\n      - POSTGRES_DB=football_bot_db\r\n      - POSTGRES_USER=postgres\r\n      - POSTGRES_PASSWORD=postgres\r\n    healthcheck:\r\n      test: &quot;PGPASSWORD=postgres pg_isready -h 127.0.0.1 -U postgres -d football_bot_db&quot;\r\n      interval: 5s\r\n      timeout: 5s\r\n      retries: 5\r\n```\r\n\r\n3) When i execute date command inside of my container, i got cyrrilic result:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n4) Also, my container&#39;s system env properties contains ru_RU language setup:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nAll goes nice and well, but when i trigger my telegram-bot, it replies with non-cyrrilic symbols:\r\n\r\n[![enter image description here][3]][3]\r\n\r\nAlso, when I debug my java application in container, i got same result(of course it&#39;s totaly fine, when i run app localy)\r\n\r\n[![enter image description here][4]][4]\r\n\r\nPlease, give me any idea if you can. Is it problem with java or is it some kind of docker issue?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/AzHZP.png\r\n  [2]: https://i.stack.imgur.com/Kvhkl.png\r\n  [3]: https://i.stack.imgur.com/qa2MQ.png\r\n  [4]: https://i.stack.imgur.com/vKh5N.png","title":"Cyrrilic text bad encoding in Java application in Docker-container","body":"<p>I've faced next problem - after start of my Docker container all Cyrillic symbols have incorrect encoding.</p>\n<ol>\n<li>Content of my DockerFile</li>\n</ol>\n<pre><code>FROM openjdk:8-jdk-alpine\n\nENV MUSL_LOCALE_DEPS cmake make musl-dev gcc gettext-dev libintl\nENV MUSL_LOCPATH /usr/share/i18n/locales/musl\n\nRUN apk add tzdata\nRUN apk add --no-cache \\\n    $MUSL_LOCALE_DEPS \\\n    &amp;&amp; wget https://gitlab.com/rilian-la-te/musl-locales/-/archive/master/musl-locales-master.zip \\\n    &amp;&amp; unzip musl-locales-master.zip \\\n      &amp;&amp; cd musl-locales-master \\\n      &amp;&amp; cmake -DLOCALE_PROFILE=OFF -D CMAKE_INSTALL_PREFIX:PATH=/usr . &amp;&amp; make &amp;&amp; make install \\\n      &amp;&amp; cd .. &amp;&amp; rm -r musl-locales-master\n\nENV LANG ru_RU.UTF-8\nENV LANGUAGE ru_RU.UTF-8\nENV LC_ALL ru_RU.UTF-8\nENV TZ Europe/Moscow\n\nADD target/FootballBot-1.0-SNAPSHOT.jar application.jar\nENTRYPOINT [&quot;java&quot;,&quot;-Xmx330m&quot;, &quot;-Dfile.encoding=UTF-8&quot;, &quot;-Dconsole.encoding=UTF-8&quot; ,&quot;-Xss512k&quot;, &quot;-Xdebug&quot;, &quot;-Xrunjdwp:transport=dt_socket,address=8787,server=y,suspend=n&quot;, &quot;-jar&quot;, &quot;application.jar&quot;]\n</code></pre>\n<ol start=\"2\">\n<li>Content of my Docker-compose file:</li>\n</ol>\n<pre><code>version: '3.3'\n\nservices:\n  app:\n    image: 'football_bot'\n    ports:\n      - &quot;8787:8787&quot;\n    depends_on:\n      - db\n    environment:\n      - SPRING_DATASOURCE_URL=jdbc:postgresql://db:5432/football_bot_db\n      - SPRING_DATASOURCE_USERNAME=postgres\n      - SPRING_DATASOURCE_PASSWORD=postgres\n      - SPRING_JPA_HIBERNATE_DDL_AUTO=validate\n      #  PUT YOUR SETTINGS DOWN BELLOW\n      - DOMAIN_BOT_NAME=GongeliniBot\n      - DOMAIN_BOT_TOKEN=5095369262:AAH3X0MmvI0kMly9W83JqPeW28aqCdPiGGk\n      - DOMAIN_CHAT_NAME='testgroup bot'\n\n  db:\n    image: 'postgres'\n    ports:\n      - &quot;5432:5432&quot;\n    environment:\n      - POSTGRES_DB=football_bot_db\n      - POSTGRES_USER=postgres\n      - POSTGRES_PASSWORD=postgres\n    healthcheck:\n      test: &quot;PGPASSWORD=postgres pg_isready -h 127.0.0.1 -U postgres -d football_bot_db&quot;\n      interval: 5s\n      timeout: 5s\n      retries: 5\n</code></pre>\n<ol start=\"3\">\n<li>When i execute date command inside of my container, i got cyrrilic result:</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/AzHZP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AzHZP.png\" alt=\"enter image description here\" /></a></p>\n<ol start=\"4\">\n<li>Also, my container's system env properties contains ru_RU language setup:</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/Kvhkl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Kvhkl.png\" alt=\"enter image description here\" /></a></p>\n<p>All goes nice and well, but when i trigger my telegram-bot, it replies with non-cyrrilic symbols:</p>\n<p><a href=\"https://i.stack.imgur.com/qa2MQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qa2MQ.png\" alt=\"enter image description here\" /></a></p>\n<p>Also, when I debug my java application in container, i got same result(of course it's totaly fine, when i run app localy)</p>\n<p><a href=\"https://i.stack.imgur.com/vKh5N.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vKh5N.png\" alt=\"enter image description here\" /></a></p>\n<p>Please, give me any idea if you can. Is it problem with java or is it some kind of docker issue?</p>\n"},{"tags":["java","android","firebase"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1539506281,"post_id":52794314,"comment_id":92520697,"body_markdown":"Please add your database structure.","body":"Please add your database structure."},{"owner":{"account_id":12444668,"reputation":108,"user_id":9061237,"display_name":"Fetex"},"score":0,"creation_date":1539507750,"post_id":52794314,"comment_id":92521032,"body_markdown":"Hello thank you for answer me.","body":"Hello thank you for answer me."},{"owner":{"account_id":12444668,"reputation":108,"user_id":9061237,"display_name":"Fetex"},"score":0,"creation_date":1539508085,"post_id":52794314,"comment_id":92521113,"body_markdown":"https://ufile.io/vqq4e","body":"<a href=\"https://ufile.io/vqq4e\" rel=\"nofollow noreferrer\">ufile.io/vqq4e</a>"},{"owner":{"account_id":12444668,"reputation":108,"user_id":9061237,"display_name":"Fetex"},"score":0,"creation_date":1539508435,"post_id":52794314,"comment_id":92521174,"body_markdown":"These two number: 9hiJ0YxyZXZnlrKFxv3jyhQlKUG2 LOca2YbV6Qb5q1RG1ws.                                           First is ID of the user second is the push key generated by firebase database","body":"These two number: 9hiJ0YxyZXZnlrKFxv3jyhQlKUG2 LOca2YbV6Qb5q1RG1ws.                                           First is ID of the user second is the push key generated by firebase database"},{"owner":{"account_id":12444668,"reputation":108,"user_id":9061237,"display_name":"Fetex"},"score":0,"creation_date":1539508727,"post_id":52794314,"comment_id":92521239,"body_markdown":"@Alex Mamo I have uploaded the picture","body":"@Alex Mamo I have uploaded the picture"}],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1539512724,"creation_date":1539512724,"answer_id":52801703,"question_id":52794314,"body_markdown":"To solve this, please use the following code:\r\n\r\n\tString uid = FirebaseAuth.getInstance().getCurrentUser().getUid();\r\n\tDatabaseReference rootRef = FirebaseDatabase.getInstance().getReference();\r\n\tDatabaseReference uidRef = rootRef.child(&quot;Annunci&quot;).child(uid);\r\n\tValueEventListener valueEventListener = new ValueEventListener() {\r\n\t\t@Override\r\n\t\tpublic void onDataChange(DataSnapshot dataSnapshot) {\r\n\t\t\tfor(DataSnapshot ds : dataSnapshot.getChildren()) {\r\n\t\t\t\tString categoria = ds.child(&quot;categoria&quot;).getValue(String.class);\r\n\t\t\t\tLog.d(TAG, categoria);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic void onCancelled(@NonNull DatabaseError databaseError) {\r\n\t\t\tLog.d(TAG, databaseError.getMessage());\r\n\t\t}\r\n\t};\r\n\tuidRef.addListenerForSingleValueEvent(valueEventListener);\r\n\r\nThe output in your logcat will be:\r\n\r\n    Electtronic\r\n    //other items\r\n\r\nIf you are using a model class for that object, then you should use the following line of code to get the desired object:\r\n\r\n    YourModelClass yourModelClass = ds.getValue(YourModelClass.class);","title":"Download data saved into firebase database (with push key)","body":"<p>To solve this, please use the following code:</p>\n\n<pre><code>String uid = FirebaseAuth.getInstance().getCurrentUser().getUid();\nDatabaseReference rootRef = FirebaseDatabase.getInstance().getReference();\nDatabaseReference uidRef = rootRef.child(\"Annunci\").child(uid);\nValueEventListener valueEventListener = new ValueEventListener() {\n    @Override\n    public void onDataChange(DataSnapshot dataSnapshot) {\n        for(DataSnapshot ds : dataSnapshot.getChildren()) {\n            String categoria = ds.child(\"categoria\").getValue(String.class);\n            Log.d(TAG, categoria);\n        }\n    }\n\n    @Override\n    public void onCancelled(@NonNull DatabaseError databaseError) {\n        Log.d(TAG, databaseError.getMessage());\n    }\n};\nuidRef.addListenerForSingleValueEvent(valueEventListener);\n</code></pre>\n\n<p>The output in your logcat will be:</p>\n\n<pre><code>Electtronic\n//other items\n</code></pre>\n\n<p>If you are using a model class for that object, then you should use the following line of code to get the desired object:</p>\n\n<pre><code>YourModelClass yourModelClass = ds.getValue(YourModelClass.class);\n</code></pre>\n"}],"owner":{"account_id":12444668,"reputation":108,"user_id":9061237,"display_name":"Fetex"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":52801703,"answer_count":1,"score":0,"last_activity_date":1671381692,"creation_date":1539443117,"question_id":52794314,"body_markdown":"I want to know a method for download data saved into my Firebase database. \r\nFor adding data into my firebase database, I use a push node so I can add multiple post for the same uid (user id). \r\nI saved successfully data into my database but I&#39;m not able to download them. I&#39;ve learned the firebase documentation and \r\nI know that I can use datasnapshoot but I don&#39;t know how to implement it on my code. \r\nHope you can help me. Thank you. \r\n\r\nUpload data into firebase database. I use this method which saves data in this format: \r\n\r\n    Data \r\n\t  - example-data \r\n\t       - uid \r\n\t\t      - key (push key generated by firebase)\r\n\t\t\t        - dataOne : dataOne \r\n\t\t\t\t\t- dataTwo : dataTwo \r\n\t\t\t\t\t\r\n    ..........code of the method .........................\r\n\r\n    private void addData(String dataOne, String dataTwo) {\r\n        final String key;\r\n        final String uid;\r\n\r\n        FirebaseUser user = FirebaseAuth.getInstance().getCurrentUser();\r\n        uid = user.getUid();\r\n\r\n        key = mDatabase.child(&quot;Data&quot;).push().getKey();\r\n        data data = new data(dataOne, dataTwo);\r\n        Map&lt;String, Object&gt; postValues = data.toMap();\r\n\r\n        Map&lt;String, Object&gt; childUpdates = new HashMap&lt;&gt;();\r\n        childUpdates.put(&quot;Data&quot; + &quot;/example-data/&quot; + uid + &quot;/&quot; + key, postValues);\r\n\r\n        mDatabase.updateChildren(childUpdates)\r\n                .addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\r\n                    @Override\r\n                    public void onSuccess(Void aVoid) {\r\n\r\n                        Intent intent = new Intent(Prova.this, Test.class);\r\n\r\n                        startActivity(intent);\r\n                    }\r\n                })\r\n                .addOnFailureListener(new OnFailureListener() {\r\n                    @Override\r\n                    public void onFailure(@NonNull Exception e) {\r\n\r\n                    }\r\n                });\r\n    }\r\n\t\r\nCalling method addData for uploading by button: \r\n\r\n    public void buttonAddData(View view) {\r\n        \r\n        String dataOne = mDataOne.getText().toString();\r\n        String urlSecondaImmagine = mDataTwo.getText().toString();\r\n\r\n\r\n        addData(dataOne, dataTwo);\r\n\r\n    }\r\n\t\r\nThis is the data class: \r\n\r\n    public class data {\r\n\r\n    public String dataOne;\r\n    public String dataTwo;\r\n\r\n    public data(){}\r\n\r\n    public data (String dataOne, String dataTwo){\r\n        this.dataOne = dataOne;\r\n        this.dataTwo = dataTwo;\r\n    }\r\n\r\n    public String getDataOne() {\r\n        return dataOne;\r\n    }\r\n    public String getDataTwo() {\r\n        return dataTwo;\r\n    }\r\n\r\n    @Exclude\r\n    public Map&lt;String, Object&gt; toMap() {\r\n        HashMap&lt;String, Object&gt; result = new HashMap&lt;&gt;();\r\n        result.put(&quot;dataOne&quot;, dataOne);\r\n        result.put(&quot;dataTwo&quot;, dataTwo);\r\n\r\n        return result;\r\n    }\r\n\r\n    } \r\n\t\r\nMy main task is to download these two data saved into my database. I need that these two data was displayed into other \r\nactivity and displayed into a textview. \r\n\r\nThese two number: 9hiJ0YxyZXZnlrKFxv3jyhQlKUG2 LOca2YbV6Qb5q1RG1ws. First is ID of the user second is the push key generated by firebase database:  \t\r\n![](https://i.stack.imgur.com/NCBIa.jpg)","title":"Download data saved into firebase database (with push key)","body":"<p>I want to know a method for download data saved into my Firebase database.\nFor adding data into my firebase database, I use a push node so I can add multiple post for the same uid (user id).\nI saved successfully data into my database but I'm not able to download them. I've learned the firebase documentation and\nI know that I can use datasnapshoot but I don't know how to implement it on my code.\nHope you can help me. Thank you.</p>\n<p>Upload data into firebase database. I use this method which saves data in this format:</p>\n<pre><code>Data \n  - example-data \n       - uid \n          - key (push key generated by firebase)\n                - dataOne : dataOne \n                - dataTwo : dataTwo \n                \n..........code of the method .........................\n\nprivate void addData(String dataOne, String dataTwo) {\n    final String key;\n    final String uid;\n\n    FirebaseUser user = FirebaseAuth.getInstance().getCurrentUser();\n    uid = user.getUid();\n\n    key = mDatabase.child(&quot;Data&quot;).push().getKey();\n    data data = new data(dataOne, dataTwo);\n    Map&lt;String, Object&gt; postValues = data.toMap();\n\n    Map&lt;String, Object&gt; childUpdates = new HashMap&lt;&gt;();\n    childUpdates.put(&quot;Data&quot; + &quot;/example-data/&quot; + uid + &quot;/&quot; + key, postValues);\n\n    mDatabase.updateChildren(childUpdates)\n            .addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\n                @Override\n                public void onSuccess(Void aVoid) {\n\n                    Intent intent = new Intent(Prova.this, Test.class);\n\n                    startActivity(intent);\n                }\n            })\n            .addOnFailureListener(new OnFailureListener() {\n                @Override\n                public void onFailure(@NonNull Exception e) {\n\n                }\n            });\n}\n</code></pre>\n<p>Calling method addData for uploading by button:</p>\n<pre><code>public void buttonAddData(View view) {\n    \n    String dataOne = mDataOne.getText().toString();\n    String urlSecondaImmagine = mDataTwo.getText().toString();\n\n\n    addData(dataOne, dataTwo);\n\n}\n</code></pre>\n<p>This is the data class:</p>\n<pre><code>public class data {\n\npublic String dataOne;\npublic String dataTwo;\n\npublic data(){}\n\npublic data (String dataOne, String dataTwo){\n    this.dataOne = dataOne;\n    this.dataTwo = dataTwo;\n}\n\npublic String getDataOne() {\n    return dataOne;\n}\npublic String getDataTwo() {\n    return dataTwo;\n}\n\n@Exclude\npublic Map&lt;String, Object&gt; toMap() {\n    HashMap&lt;String, Object&gt; result = new HashMap&lt;&gt;();\n    result.put(&quot;dataOne&quot;, dataOne);\n    result.put(&quot;dataTwo&quot;, dataTwo);\n\n    return result;\n}\n\n} \n</code></pre>\n<p>My main task is to download these two data saved into my database. I need that these two data was displayed into other\nactivity and displayed into a textview.</p>\n<p>These two number: 9hiJ0YxyZXZnlrKFxv3jyhQlKUG2 LOca2YbV6Qb5q1RG1ws. First is ID of the user second is the push key generated by firebase database:<br />\n<img src=\"https://i.stack.imgur.com/NCBIa.jpg\" alt=\"\" /></p>\n"},{"tags":["java","parsing"],"comments":[{"owner":{"account_id":2103622,"reputation":26956,"user_id":1870555,"accept_rate":75,"display_name":"christopher"},"score":0,"creation_date":1427673810,"post_id":29336391,"comment_id":46861041,"body_markdown":"[This IDEOne](http://ideone.com/yjT5j3) should give you an idea of the performance difference. `StringTokenizer` appears to be much faster, but speed isn&#39;t everything. No one wants you to write code for them that needs to be updated in a year because it doesn&#39;t work with the new JDK release.","body":"<a href=\"http://ideone.com/yjT5j3\" rel=\"nofollow noreferrer\">This IDEOne</a> should give you an idea of the performance difference. <code>StringTokenizer</code> appears to be much faster, but speed isn&#39;t everything. No one wants you to write code for them that needs to be updated in a year because it doesn&#39;t work with the new JDK release."},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1427674178,"post_id":29336391,"comment_id":46861118,"body_markdown":"`Scanner` is effective, easy to use and usually performant enough for the needs of programming competitions.","body":"<code>Scanner</code> is effective, easy to use and usually performant enough for the needs of programming competitions."}],"answers":[{"tags":[],"owner":{"account_id":7424998,"reputation":137,"user_id":5647831,"display_name":"richperson"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1557755231,"creation_date":1557755231,"answer_id":56113748,"question_id":29336391,"body_markdown":"In programming competitions, the logic and algorithmic part of your code is more important than the method you use to get input data. \r\n\r\nThere are only a few milliseconds of difference between `Scanner` and `StringTokenizer` which does not impact your solution in any major way. \r\n\r\nIn general, however, Scanner is easier to use and performs consistently well whereas (you stated) StringTokenizer is a legacy class and its use is discouraged.","title":"Is StringTokenizer still recommended for USACO?","body":"<p>In programming competitions, the logic and algorithmic part of your code is more important than the method you use to get input data. </p>\n\n<p>There are only a few milliseconds of difference between <code>Scanner</code> and <code>StringTokenizer</code> which does not impact your solution in any major way. </p>\n\n<p>In general, however, Scanner is easier to use and performs consistently well whereas (you stated) StringTokenizer is a legacy class and its use is discouraged.</p>\n"},{"tags":[],"owner":{"account_id":20924919,"reputation":39,"user_id":15372558,"display_name":"Nicholas Wang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671379064,"creation_date":1671379064,"answer_id":74842713,"question_id":29336391,"body_markdown":"The most efficient way for Java USACO is `BufferedReader` and `StringTokenizer`. `Scanner` and `.split()` are less efficient.\r\n\r\nLet&#39;s say we want to input `3 5`, two numbers, `N M`.\r\n\r\n```java\r\nBufferedReader br = new BufferedReader(new InputStreamReader(System.in));\r\nStringTokenizer st = new StringTokenizer(br.readLine());\r\nint N = Integer.parseInt(st.nextInt())\r\nint M = Integer.parseInt(st.nextInt())\r\n```\r\n\r\nInefficient Way Would Be:\r\n\r\n```java\r\nScanner scanner = new Scanner(System.i));\r\nString[] s = scanner.next().split(&quot; &quot;);\r\nint N = Integer.parseInt(s[0]);\r\nint M = Integer.parseInt(s[1]);\r\n```\r\n\r\nUSACO Solutions for Java on their official website prefer `BufferedReader` and `StringTokenizer` instead of `String.split()` or `Scanner`.","title":"Is StringTokenizer still recommended for USACO?","body":"<p>The most efficient way for Java USACO is <code>BufferedReader</code> and <code>StringTokenizer</code>. <code>Scanner</code> and <code>.split()</code> are less efficient.</p>\n<p>Let's say we want to input <code>3 5</code>, two numbers, <code>N M</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\nStringTokenizer st = new StringTokenizer(br.readLine());\nint N = Integer.parseInt(st.nextInt())\nint M = Integer.parseInt(st.nextInt())\n</code></pre>\n<p>Inefficient Way Would Be:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Scanner scanner = new Scanner(System.i));\nString[] s = scanner.next().split(&quot; &quot;);\nint N = Integer.parseInt(s[0]);\nint M = Integer.parseInt(s[1]);\n</code></pre>\n<p>USACO Solutions for Java on their official website prefer <code>BufferedReader</code> and <code>StringTokenizer</code> instead of <code>String.split()</code> or <code>Scanner</code>.</p>\n"}],"owner":{"account_id":4786504,"reputation":123,"user_id":3866833,"display_name":"John Qian"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":481,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"answer_count":2,"score":4,"last_activity_date":1671379064,"creation_date":1427673181,"question_id":29336391,"body_markdown":"I am just beginning to tackle some USACO practice problems using Java. However, I&#39;ve immediately encountered some confusion regarding parsing file input...\r\n\r\nThe USACO training pages say: \r\n\r\n&gt; Important: BufferedReader and StringTokenizer are far more efficient\r\n&gt; than many other schemes for reading input. They can make a huge\r\n&gt; difference in the efficiency of your program! Use them!\r\n\r\nHowever, the Oracle docs say: \r\n\r\n&gt; StringTokenizer is a legacy class that is retained for compatibility\r\n&gt; reasons although its use is discouraged in new code. It is recommended\r\n&gt; that anyone seeking this functionality use the split method of String\r\n&gt; or the java.util.regex package instead.\r\n\r\nI am finding very mixed opinions on the internet. Some, including the training pages, say that `StringTokenizer` should be used because it&#39;s faster than `String.split()` which is faster than `Scanner` (though [this][1] answer disagrees). Others say `Scanner` or `String.split()` should be used because they&#39;re simpler to use and because the performance cost from parsing files is negligible.\r\n\r\nWhich method is the most practical as of now?\r\n\r\n  [1]: https://stackoverflow.com/a/16573673/4727735","title":"Is StringTokenizer still recommended for USACO?","body":"<p>I am just beginning to tackle some USACO practice problems using Java. However, I've immediately encountered some confusion regarding parsing file input...</p>\n\n<p>The USACO training pages say: </p>\n\n<blockquote>\n  <p>Important: BufferedReader and StringTokenizer are far more efficient\n  than many other schemes for reading input. They can make a huge\n  difference in the efficiency of your program! Use them!</p>\n</blockquote>\n\n<p>However, the Oracle docs say: </p>\n\n<blockquote>\n  <p>StringTokenizer is a legacy class that is retained for compatibility\n  reasons although its use is discouraged in new code. It is recommended\n  that anyone seeking this functionality use the split method of String\n  or the java.util.regex package instead.</p>\n</blockquote>\n\n<p>I am finding very mixed opinions on the internet. Some, including the training pages, say that <code>StringTokenizer</code> should be used because it's faster than <code>String.split()</code> which is faster than <code>Scanner</code> (though <a href=\"https://stackoverflow.com/a/16573673/4727735\">this</a> answer disagrees). Others say <code>Scanner</code> or <code>String.split()</code> should be used because they're simpler to use and because the performance cost from parsing files is negligible.</p>\n\n<p>Which method is the most practical as of now?</p>\n"},{"tags":["java","docker","properties"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":6,"creation_date":1641073088,"post_id":70552008,"comment_id":124716384,"body_markdown":"We can - of course - read them from the `args`-array of our `main`-method. Antoher common way would be to pass the parameter as system parameters, e.g. `java ... -Ddb.password=pwd -Ddb.username=user ...` and evaluate them through [`System::getProperty`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/System.html#getProperty(java.lang.String)). A third possibility would be to use environment variables and evaluate them through [`System::getenv`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/System.html#getenv(java.lang.String))","body":"We can - of course - read them from the <code>args</code>-array of our <code>main</code>-method. Antoher common way would be to pass the parameter as system parameters, e.g. <code>java ... -Ddb.password=pwd -Ddb.username=user ...</code> and evaluate them through <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/System.html#getProperty(java.lang.String)\" rel=\"nofollow noreferrer\"><code>System::getProperty</code></a>. A third possibility would be to use environment variables and evaluate them through <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/System.html#getenv(java.lang.String)\" rel=\"nofollow noreferrer\"><code>System::getenv</code></a>"},{"owner":{"account_id":23685228,"reputation":1103,"user_id":17710270,"display_name":"passer-by"},"score":4,"creation_date":1641073677,"post_id":70552008,"comment_id":124716505,"body_markdown":"There&#39;s always the simple possibility of not putting those lines in the properties file on github.   Maybe have two properties files, one of which contains &#39;sensitive&#39; info and which you don&#39;t post.","body":"There&#39;s always the simple possibility of not putting those lines in the properties file on github.   Maybe have two properties files, one of which contains &#39;sensitive&#39; info and which you don&#39;t post."},{"owner":{"account_id":20683611,"reputation":1177,"user_id":15186569,"display_name":"ThrowsError"},"score":2,"creation_date":1641073722,"post_id":70552008,"comment_id":124716513,"body_markdown":"@Turing85 Thank you for your answer, and with this solution, we can execute `docker run -Dbb.password=pwd -Ddb.username=user` rigth ?","body":"@Turing85 Thank you for your answer, and with this solution, we can execute <code>docker run -Dbb.password=pwd -Ddb.username=user</code> rigth ?"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":3,"creation_date":1641074035,"post_id":70552008,"comment_id":124716564,"body_markdown":"I do not know the base image, hence I do not know its entrypoint definition. In essence, we would have to pass the environment arguments to the VM. This is done through `java -Dname=value`. However, I would highly advice to use the 2nd approach (environment varialbes) as this is the [3rd factor of a 12 factor app](https://12factor.net/config). In this case, we would use the [`-e` parameter of `docker run`](https://docs.docker.com/engine/reference/commandline/run/#set-environment-variables--e---env---env-file) to set the environment variable for the container.","body":"I do not know the base image, hence I do not know its entrypoint definition. In essence, we would have to pass the environment arguments to the VM. This is done through <code>java -Dname=value</code>. However, I would highly advice to use the 2nd approach (environment varialbes) as this is the <a href=\"https://12factor.net/config\" rel=\"nofollow noreferrer\">3rd factor of a 12 factor app</a>. In this case, we would use the <a href=\"https://docs.docker.com/engine/reference/commandline/run/#set-environment-variables--e---env---env-file\" rel=\"nofollow noreferrer\"><code>-e</code> parameter of <code>docker run</code></a> to set the environment variable for the container."},{"owner":{"account_id":20683611,"reputation":1177,"user_id":15186569,"display_name":"ThrowsError"},"score":2,"creation_date":1641074982,"post_id":70552008,"comment_id":124716758,"body_markdown":"@Turing85 The base image is [*azul/zulu-openjdk:17-jre*](https://hub.docker.com/layers/azul/zulu-openjdk/17-jre/images/sha256-dcde329b10e55ed2ae5bdc21ddc04c7908cf960c839c572a4eb4e26f540228fd?context=explore) and I am using the [*JIB*](https://github.com/GoogleContainerTools/jib) build pack to create a docker image.\nIf we use the `-e` parameter in Docker so in Java we have to use `System::getenv`?","body":"@Turing85 The base image is <a href=\"https://hub.docker.com/layers/azul/zulu-openjdk/17-jre/images/sha256-dcde329b10e55ed2ae5bdc21ddc04c7908cf960c839c572a4eb4e26f540228fd?context=explore\" rel=\"nofollow noreferrer\"><i>azul/zulu-openjdk:17-jre</i></a> and I am using the <a href=\"https://github.com/GoogleContainerTools/jib\" rel=\"nofollow noreferrer\"><i>JIB</i></a> build pack to create a docker image. If we use the <code>-e</code> parameter in Docker so in Java we have to use <code>System::getenv</code>?"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":3,"creation_date":1641076391,"post_id":70552008,"comment_id":124717028,"body_markdown":"Yes, that is correct.","body":"Yes, that is correct."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":3,"creation_date":1641077028,"post_id":70552008,"comment_id":124717120,"body_markdown":"1. for environment variables (discouraged, even in docker): `System.getenv(...)`, 2. for &quot;-D&quot; properties (good!): `System.getProperty(...)` 3. `main (String... args)`","body":"1. for environment variables (discouraged, even in docker): <code>System.getenv(...)</code>, 2. for &quot;-D&quot; properties (good!): <code>System.getProperty(...)</code> 3. <code>main (String... args)</code>"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":3,"creation_date":1641077435,"post_id":70552008,"comment_id":124717176,"body_markdown":"[here](https://github.com/carsdotcom/docker-secrets-java) is a nice (oss, 2 classes only (depend or copy&amp;paste), jdk libs only) &quot;docker secret reader&quot;.","body":"<a href=\"https://github.com/carsdotcom/docker-secrets-java\" rel=\"nofollow noreferrer\">here</a> is a nice (oss, 2 classes only (depend or copy&amp;paste), jdk libs only) &quot;docker secret reader&quot;."},{"owner":{"account_id":20683611,"reputation":1177,"user_id":15186569,"display_name":"ThrowsError"},"score":3,"creation_date":1641078956,"post_id":70552008,"comment_id":124717400,"body_markdown":"@xerx593 Thanks for your sharing, secret docker is a good solution, but I like `-e` because it is easier to run a container than it is to create a secret docker, connect that file to the docker container and run it.","body":"@xerx593 Thanks for your sharing, secret docker is a good solution, but I like <code>-e</code> because it is easier to run a container than it is to create a secret docker, connect that file to the docker container and run it."}],"answers":[{"tags":[],"owner":{"account_id":20683611,"reputation":1177,"user_id":15186569,"display_name":"ThrowsError"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1641146582,"creation_date":1641133360,"answer_id":70556743,"question_id":70552008,"body_markdown":"We have multiple solutions for this:\r\n\r\n## Secret Docker\r\n\r\nCreate a file with the properties syntax:\r\n\r\n```properties\r\n//secret-file.txt\r\ndb.password=psw\r\ndb.username=user\r\n```\r\nWith this file create a *docker secret* in your docker :\r\n\r\n```bash\r\n$ docker secret create test-secret secret-file.txt\r\n```\r\n\r\nAnd use this with the java library [*docker-secrets*][1] in your java program :\r\n\r\n```java\r\nMap&lt;String, String&gt; secrets = DockerSecrets.loadFromFile(&quot;test-secret&quot;);\r\nSystem.out.println(secrets.get(&quot;db.password&quot;)) // readonly\r\n```\r\n\r\nFor more example, look [here][1].\r\n\r\n____\r\n\r\n## Environment variables\r\n\r\nSet the environment variables in the docker with `-e` argument :\r\n\r\n```bash\r\n$ docker run -e DB_PASSWORD=pwd -e DB_USERNAME=user registry/image:tag\r\n```\r\n\r\nAnd use these variables with [`System::getenv`][2] in your java program :\r\n\r\n```java\r\nSystem.out.println(System.getenv(&quot;DB_PASSWORD&quot;))\r\n```\r\n\r\n____\r\n\r\n## VM Arguments\r\n\r\n*This solution depends on your base image that was used to create your Docker container.*\r\n\r\nGive *VM Arguments* to the *docker run* command : \r\n```bash\r\n$ docker run -e JAVA_OPTS=&quot;-Ddb.password=pwd -Ddb.username=user&quot; registry/image:tag\r\n```\r\n\r\nAnd use these variables with [`System::getProperty`][3] in your java program :\r\n```java\r\nSystem.out.println(System.getProperty(&quot;db.password&quot;))\r\n```\r\n____\r\n\r\n## Program arguments\r\n\r\nGive arguments to docker run command :\r\n\r\n*It is important to give the arguments after declaring the image.*\r\n\r\n```bash\r\n$ docker run registry/image:tag pwd user\r\n```\r\nAnd use these arguments with *main* method in your java program :\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n    System.out.println(&quot;The password: &quot; + args[0]);\r\n    System.out.println(&quot;The username: &quot; + args[1]);\r\n}\r\n```\r\n\r\nFor better handling of arguments, you can use the Apache&#39;s [*commons-cli*][4] java library or use [a another library][5].\r\n\r\n\r\n  [1]: https://github.com/carsdotcom/docker-secrets-java\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/System.html#getenv(java.lang.String)\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/System.html#getProperty(java.lang.String)\r\n  [4]: http://commons.apache.org/cli/\r\n  [5]: http://jewelcli.lexicalscope.com/related.html","title":"Java hidden properties without Spring","body":"<p>We have multiple solutions for this:</p>\n<h2>Secret Docker</h2>\n<p>Create a file with the properties syntax:</p>\n<pre><code>//secret-file.txt\ndb.password=psw\ndb.username=user\n</code></pre>\n<p>With this file create a <em>docker secret</em> in your docker :</p>\n<pre class=\"lang-sh prettyprint-override\"><code>$ docker secret create test-secret secret-file.txt\n</code></pre>\n<p>And use this with the java library <a href=\"https://github.com/carsdotcom/docker-secrets-java\" rel=\"noreferrer\"><em>docker-secrets</em></a> in your java program :</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, String&gt; secrets = DockerSecrets.loadFromFile(&quot;test-secret&quot;);\nSystem.out.println(secrets.get(&quot;db.password&quot;)) // readonly\n</code></pre>\n<p>For more example, look <a href=\"https://github.com/carsdotcom/docker-secrets-java\" rel=\"noreferrer\">here</a>.</p>\n<hr />\n<h2>Environment variables</h2>\n<p>Set the environment variables in the docker with <code>-e</code> argument :</p>\n<pre class=\"lang-sh prettyprint-override\"><code>$ docker run -e DB_PASSWORD=pwd -e DB_USERNAME=user registry/image:tag\n</code></pre>\n<p>And use these variables with <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/System.html#getenv(java.lang.String)\" rel=\"noreferrer\"><code>System::getenv</code></a> in your java program :</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(System.getenv(&quot;DB_PASSWORD&quot;))\n</code></pre>\n<hr />\n<h2>VM Arguments</h2>\n<p><em>This solution depends on your base image that was used to create your Docker container.</em></p>\n<p>Give <em>VM Arguments</em> to the <em>docker run</em> command :</p>\n<pre class=\"lang-sh prettyprint-override\"><code>$ docker run -e JAVA_OPTS=&quot;-Ddb.password=pwd -Ddb.username=user&quot; registry/image:tag\n</code></pre>\n<p>And use these variables with <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/System.html#getProperty(java.lang.String)\" rel=\"noreferrer\"><code>System::getProperty</code></a> in your java program :</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(System.getProperty(&quot;db.password&quot;))\n</code></pre>\n<hr />\n<h2>Program arguments</h2>\n<p>Give arguments to docker run command :</p>\n<p><em>It is important to give the arguments after declaring the image.</em></p>\n<pre class=\"lang-sh prettyprint-override\"><code>$ docker run registry/image:tag pwd user\n</code></pre>\n<p>And use these arguments with <em>main</em> method in your java program :</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    System.out.println(&quot;The password: &quot; + args[0]);\n    System.out.println(&quot;The username: &quot; + args[1]);\n}\n</code></pre>\n<p>For better handling of arguments, you can use the Apache's <a href=\"http://commons.apache.org/cli/\" rel=\"noreferrer\"><em>commons-cli</em></a> java library or use <a href=\"http://jewelcli.lexicalscope.com/related.html\" rel=\"noreferrer\">a another library</a>.</p>\n"},{"tags":[],"owner":{"account_id":8282587,"reputation":382,"user_id":6226761,"display_name":"Edwin M. Cruz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641675598,"creation_date":1641621808,"answer_id":70629990,"question_id":70552008,"body_markdown":"if you are hosting this application on AWS an option is using Secrets Manager which has an integration start project for Spring - https://stackoverflow.com/questions/56194579/how-to-integrate-aws-secret-manager-with-spring-boot-application\r\n\r\n","title":"Java hidden properties without Spring","body":"<p>if you are hosting this application on AWS an option is using Secrets Manager which has an integration start project for Spring - <a href=\"https://stackoverflow.com/questions/56194579/how-to-integrate-aws-secret-manager-with-spring-boot-application\">How to integrate AWS Secret Manager with Spring Boot Application</a></p>\n"},{"tags":[],"owner":{"account_id":5031827,"reputation":420,"user_id":5599966,"accept_rate":71,"display_name":"Mor Blau"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671378572,"creation_date":1671378572,"answer_id":74842666,"question_id":70552008,"body_markdown":"You can:\r\n\r\n* Use a .properties file for your properties\r\n* Add it to .gitignore so that you don&#39;t push it to GitHub\r\n* Add a .properties_example file that contains placeholders for others to override in their local repo, e.g:\r\n    \r\n      db.password=&lt;password&gt;\r\n      db.username=&lt;username&gt;","title":"Java hidden properties without Spring","body":"<p>You can:</p>\n<ul>\n<li><p>Use a .properties file for your properties</p>\n</li>\n<li><p>Add it to .gitignore so that you don't push it to GitHub</p>\n</li>\n<li><p>Add a .properties_example file that contains placeholders for others to override in their local repo, e.g:</p>\n<pre><code>db.password=&lt;password&gt;\ndb.username=&lt;username&gt;\n</code></pre>\n</li>\n</ul>\n"}],"owner":{"account_id":20683611,"reputation":1177,"user_id":15186569,"display_name":"ThrowsError"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1056,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":70556743,"answer_count":3,"score":6,"last_activity_date":1671378572,"creation_date":1641072813,"question_id":70552008,"body_markdown":"I am currently creating a Java program that uses a MongoDB database and I am storing the connection information in a properties file.\r\n\r\nBut my project is opensource on GitHub and I cannot store the connection information in the properties file.\r\n\r\nAnd so I wanted to ask you if it is possible to give the login information from docker run.\r\n\r\nexample : `docker run registry/image -args db.password=psw db.username=user`\r\n\r\nI have seen solutions in stackoverflow but all solutions use Spring features, but my project does not use Spring framework. ","title":"Java hidden properties without Spring","body":"<p>I am currently creating a Java program that uses a MongoDB database and I am storing the connection information in a properties file.</p>\n<p>But my project is opensource on GitHub and I cannot store the connection information in the properties file.</p>\n<p>And so I wanted to ask you if it is possible to give the login information from docker run.</p>\n<p>example : <code>docker run registry/image -args db.password=psw db.username=user</code></p>\n<p>I have seen solutions in stackoverflow but all solutions use Spring features, but my project does not use Spring framework.</p>\n"},{"tags":["java","string","java-native-interface"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1671354264,"post_id":74840115,"comment_id":132078219,"body_markdown":"It seems like you have successfully found the correct signature from `IZ[I[[Z`, so what is the problem? By the way, asking for external libraries/tools is off topic for Stack Overflow.","body":"It seems like you have successfully found the correct signature from <code>IZ[I[[Z</code>, so what is the problem? By the way, asking for external libraries/tools is off topic for Stack Overflow."},{"owner":{"account_id":1654563,"reputation":57569,"user_id":1524450,"display_name":"Michael"},"score":1,"creation_date":1671358262,"post_id":74840115,"comment_id":132078791,"body_markdown":"_&quot;it is not easy to split because of the primitive types, which are not separated by ;&quot;_ The primitive types are all denoted by a single capital letter. Object types are denoted by `Lfully-qualified-class;`. And array types by `[type`. So the rules are pretty simple.","body":"<i>&quot;it is not easy to split because of the primitive types, which are not separated by ;&quot;</i> The primitive types are all denoted by a single capital letter. Object types are denoted by <code>Lfully-qualified-class;</code>. And array types by <code>[type</code>. So the rules are pretty simple."},{"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1671373054,"post_id":74840115,"comment_id":132081314,"body_markdown":"That&#39;s not a *JNI* signature.  JNI is a C and C++ programming interface for extending or embedding Java, and that gobbledygook is nowhere close to C or C++.  Rather, it is the Java VM&#39;s internal representation.  JNI does have some exposure to that form, but it&#39;s not the owner or originator.","body":"That&#39;s not a <i>JNI</i> signature.  JNI is a C and C++ programming interface for extending or embedding Java, and that gobbledygook is nowhere close to C or C++.  Rather, it is the Java VM&#39;s internal representation.  JNI does have some exposure to that form, but it&#39;s not the owner or originator."},{"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1671373189,"post_id":74840115,"comment_id":132081345,"body_markdown":"Note also that the `;` is not a *separator* in this context, but rather a *terminator*.  It does not come between type codes, but rather is *part of* the code for a reference type such as `java.lang.String`.","body":"Note also that the <code>;</code> is not a <i>separator</i> in this context, but rather a <i>terminator</i>.  It does not come between type codes, but rather is <i>part of</i> the code for a reference type such as <code>java.lang.String</code>."}],"answers":[{"tags":[],"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671372672,"creation_date":1671372672,"answer_id":74842015,"question_id":74840115,"body_markdown":"You could parse the descriptor into a `MethodTypeDesc`. For example using `jshell`:\r\n\r\n    &gt; jshell\r\n    |  Welcome to JShell -- Version 18.0.1\r\n    |  For an introduction type: /help intro\r\n    \r\n    jshell&gt; import java.lang.constant.*                                                                                     \r\n    jshell&gt; MethodTypeDesc.ofDescriptor(&quot;(Ljava/lang/String;IZ[I[[Z)V&quot;)\r\n    $2 ==&gt; MethodTypeDesc[(String,int,boolean,int[],boolean[][])void]\r\n    \r\n    jshell&gt;","title":"How to parse a JNI signature？","body":"<p>You could parse the descriptor into a <code>MethodTypeDesc</code>. For example using <code>jshell</code>:</p>\n<pre><code>&gt; jshell\n|  Welcome to JShell -- Version 18.0.1\n|  For an introduction type: /help intro\n\njshell&gt; import java.lang.constant.*                                                                                     \njshell&gt; MethodTypeDesc.ofDescriptor(&quot;(Ljava/lang/String;IZ[I[[Z)V&quot;)\n$2 ==&gt; MethodTypeDesc[(String,int,boolean,int[],boolean[][])void]\n\njshell&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1671378501,"creation_date":1671376208,"answer_id":74842462,"question_id":74840115,"body_markdown":"As I observed in comments, what you&#39;re looking at is (mostly) the Java VM&#39;s representation of type signatures.  Although JNI uses it some, it does not belong to JNI.  Its primary documentation is in [section 4.3 of the Java VM specification][1].  That provides a formal grammar and a brief prose description.\r\n\r\n&gt; For me, the difficult part is to parse type of method parameters, since it is not easy to split because of the primitive types, which are not separated by `;`. \r\n\r\n*None* of the parameter types are separated from each other by semicolons.  The one `;` you see is part of the signature of a parameter of type `java.lang.String`, which overall is `Ljava/jang/String;`.  You do need to read type signatures such as these from left to right, but as long as you do so, they are unambiguous.  It&#39;s always clear from context where each individual descriptor in a list ends, and the next follows immediately after.\r\n\r\nIn particular, primitive types have single-letter signatures.  They are listed in the linked section of the spec.  Array signatures have the form of a `[` followed immediately by the signature for the component type.  Class (including interface) type signatures have the form of an `L`, followed by the &quot;binary name&quot; of the type, terminated by a semicolon (`;`).\r\n\r\nMethod signatures have the form of a `()`-enclosed list of zero or more type descriptors for the parameter types (as above), followed immediately by a descriptor for the return type.\r\n\r\n&gt; A method&#39;s JNI signature is `Lme/jni/Clazz;-&gt;demo(Ljava/lang/String;IZ[I[[Z)V`，\r\n\r\nWell no, it&#39;s not.  The kind of signature we&#39;re talking describes just the type, not the name or host class.  In that example, it is `(Ljava/lang/String;IZ[I[[Z)V`.  To the best of my knowledge, neither the Java VM nor JNI use the full form you present, though its construction seems relatively clear.  I could imagine that form being emitted by various tools.\r\n\r\n`Lme/jni/Clazz;` is a signature for reference type `me.jni.Class`.  Presumably, the `-&gt;demo` indicates a member of that class named &quot;demo&quot;, whose type is given by the remainder of the string.\r\n\r\n`(` ... `)V` is the form of a descriptor for a method returning `void` (`V`).  The parameter types in this case are\r\n\r\n - **`Ljava/lang/String;` -** `java.lang.String`.  We recognize from the `L` that it is a class type.  The (binary) name of the type follows, and we recognize the end of the descriptor via the `;`.  Binary names are the ordinary Java class names except for using `/` instead of `.` as a name separator, encoded in the Java VM&#39;s modified UTF-8 encoding.\r\n - **`I` -** `int`.  This is a single-letter code, so we don&#39;t need to look around for the end.\r\n - **`Z` -** `boolean`.  This is another single-letter code.\r\n - **`[I` -** array (`[`) of `int` (`I`), a.k.a. `int[]`.  We recognize from the `[` that it&#39;s an array type, and a descriptor for its element type immediately follows.\r\n - **`[[Z` -** array (`[`) of (array (`[`) of `boolean` (`Z`)), a.k.a. `boolean[][]`.  This follows the same rule as the previous, recursively.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jvms/se19/html/jvms-4.html#jvms-4.3","title":"How to parse a JNI signature？","body":"<p>As I observed in comments, what you're looking at is (mostly) the Java VM's representation of type signatures.  Although JNI uses it some, it does not belong to JNI.  Its primary documentation is in <a href=\"https://docs.oracle.com/javase/specs/jvms/se19/html/jvms-4.html#jvms-4.3\" rel=\"nofollow noreferrer\">section 4.3 of the Java VM specification</a>.  That provides a formal grammar and a brief prose description.</p>\n<blockquote>\n<p>For me, the difficult part is to parse type of method parameters, since it is not easy to split because of the primitive types, which are not separated by <code>;</code>.</p>\n</blockquote>\n<p><em>None</em> of the parameter types are separated from each other by semicolons.  The one <code>;</code> you see is part of the signature of a parameter of type <code>java.lang.String</code>, which overall is <code>Ljava/jang/String;</code>.  You do need to read type signatures such as these from left to right, but as long as you do so, they are unambiguous.  It's always clear from context where each individual descriptor in a list ends, and the next follows immediately after.</p>\n<p>In particular, primitive types have single-letter signatures.  They are listed in the linked section of the spec.  Array signatures have the form of a <code>[</code> followed immediately by the signature for the component type.  Class (including interface) type signatures have the form of an <code>L</code>, followed by the &quot;binary name&quot; of the type, terminated by a semicolon (<code>;</code>).</p>\n<p>Method signatures have the form of a <code>()</code>-enclosed list of zero or more type descriptors for the parameter types (as above), followed immediately by a descriptor for the return type.</p>\n<blockquote>\n<p>A method's JNI signature is <code>Lme/jni/Clazz;-&gt;demo(Ljava/lang/String;IZ[I[[Z)V</code>，</p>\n</blockquote>\n<p>Well no, it's not.  The kind of signature we're talking describes just the type, not the name or host class.  In that example, it is <code>(Ljava/lang/String;IZ[I[[Z)V</code>.  To the best of my knowledge, neither the Java VM nor JNI use the full form you present, though its construction seems relatively clear.  I could imagine that form being emitted by various tools.</p>\n<p><code>Lme/jni/Clazz;</code> is a signature for reference type <code>me.jni.Class</code>.  Presumably, the <code>-&gt;demo</code> indicates a member of that class named &quot;demo&quot;, whose type is given by the remainder of the string.</p>\n<p><code>(</code> ... <code>)V</code> is the form of a descriptor for a method returning <code>void</code> (<code>V</code>).  The parameter types in this case are</p>\n<ul>\n<li><strong><code>Ljava/lang/String;</code> -</strong> <code>java.lang.String</code>.  We recognize from the <code>L</code> that it is a class type.  The (binary) name of the type follows, and we recognize the end of the descriptor via the <code>;</code>.  Binary names are the ordinary Java class names except for using <code>/</code> instead of <code>.</code> as a name separator, encoded in the Java VM's modified UTF-8 encoding.</li>\n<li><strong><code>I</code> -</strong> <code>int</code>.  This is a single-letter code, so we don't need to look around for the end.</li>\n<li><strong><code>Z</code> -</strong> <code>boolean</code>.  This is another single-letter code.</li>\n<li><strong><code>[I</code> -</strong> array (<code>[</code>) of <code>int</code> (<code>I</code>), a.k.a. <code>int[]</code>.  We recognize from the <code>[</code> that it's an array type, and a descriptor for its element type immediately follows.</li>\n<li><strong><code>[[Z</code> -</strong> array (<code>[</code>) of (array (<code>[</code>) of <code>boolean</code> (<code>Z</code>)), a.k.a. <code>boolean[][]</code>.  This follows the same rule as the previous, recursively.</li>\n</ul>\n"}],"owner":{"account_id":19925271,"reputation":77,"user_id":16305949,"display_name":"233"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":390,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1671378501,"creation_date":1671353445,"question_id":74840115,"body_markdown":"How can I get the general information of a JNI signature (of methods)？\r\n\r\nFor example,\r\n\r\nA method&#39;s JNI signature is `Lme/jni/Clazz;-&gt;demo(Ljava/lang/String;IZ[I[[Z)V`，I want to know what the real signature of this method is, which is `me.jni.Clazz: void demo(java.lang.String,int,boolean,int[],boolean[][])` in this example. For me, the difficult part is to parse type of method parameters, since it is not easy to split because of the primitive types, which are not separated by `;`. In this example, it is `IZ[I[[Z`.\r\n\r\nI wonder if there is any library to solve this problem, or you can offer me some suggestion to solve the problem above.","title":"How to parse a JNI signature？","body":"<p>How can I get the general information of a JNI signature (of methods)？</p>\n<p>For example,</p>\n<p>A method's JNI signature is <code>Lme/jni/Clazz;-&gt;demo(Ljava/lang/String;IZ[I[[Z)V</code>，I want to know what the real signature of this method is, which is <code>me.jni.Clazz: void demo(java.lang.String,int,boolean,int[],boolean[][])</code> in this example. For me, the difficult part is to parse type of method parameters, since it is not easy to split because of the primitive types, which are not separated by <code>;</code>. In this example, it is <code>IZ[I[[Z</code>.</p>\n<p>I wonder if there is any library to solve this problem, or you can offer me some suggestion to solve the problem above.</p>\n"},{"tags":["java","maven","dependencies","multi-module","maven-module"],"comments":[{"owner":{"account_id":1982651,"reputation":659,"user_id":1778855,"accept_rate":40,"display_name":"user1778855"},"score":0,"creation_date":1671264811,"post_id":74832230,"comment_id":132065989,"body_markdown":"Running the test itself is fine. Try running `mvnw package` at the project root. And yes, I ran on command line and it is throwing the said error","body":"Running the test itself is fine. Try running <code>mvnw package</code> at the project root. And yes, I ran on command line and it is throwing the said error"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1671273640,"post_id":74832230,"comment_id":132067079,"body_markdown":"Which of the modules should be deployable spring boot application?","body":"Which of the modules should be deployable spring boot application?"},{"owner":{"account_id":1982651,"reputation":659,"user_id":1778855,"accept_rate":40,"display_name":"user1778855"},"score":0,"creation_date":1671338045,"post_id":74832230,"comment_id":132076562,"body_markdown":"Would it matter? This is a sample project, but if it matters, then can assume that `depends-on-migration` is the deployable one","body":"Would it matter? This is a sample project, but if it matters, then can assume that <code>depends-on-migration</code> is the deployable one"}],"answers":[{"tags":[],"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1671378229,"creation_date":1671350247,"answer_id":74839873,"question_id":74832230,"body_markdown":"The problem stems from the fact that you use `spring-boot-maven-plugin` in both `migration` and `depends-on-migration` modules.\r\n\r\nSpring Boot Maven Plugin produces an Uber-Jar, with a layout expected by Spring apps. The original jar (without dependencies) is renamed to `migration-0.0.1-SNAPSHOT.jar.original`\r\n\r\nThe structure of uber-jar\r\n```lang-none\r\n.\r\n├── BOOT-INF\r\n│   ├── classes\r\n│   ├── classpath.idx\r\n│   ├── layers.idx\r\n│   └── lib\r\n├── META-INF\r\n├── migration-0.0.1-SNAPSHOT.zip\r\n└── org\r\n    └── springframework\r\n```\r\nYour code is placed in `BOOT-INF/classes` - this is not a typical library layout, hence `ClassNotFoundException`.\r\n\r\nSee [The Executable Jar Format](https://docs.spring.io/spring-boot/docs/current/reference/html/executable-jar.html) for reference.\r\n\r\nIf you remove `spring-boot-maven-plugin` in migration project, `mvn package` passes.","title":"Unable to use submodule dependency class in test, throws NoClassDefFoundError","body":"<p>The problem stems from the fact that you use <code>spring-boot-maven-plugin</code> in both <code>migration</code> and <code>depends-on-migration</code> modules.</p>\n<p>Spring Boot Maven Plugin produces an Uber-Jar, with a layout expected by Spring apps. The original jar (without dependencies) is renamed to <code>migration-0.0.1-SNAPSHOT.jar.original</code></p>\n<p>The structure of uber-jar</p>\n<pre class=\"lang-none prettyprint-override\"><code>.\n├── BOOT-INF\n│   ├── classes\n│   ├── classpath.idx\n│   ├── layers.idx\n│   └── lib\n├── META-INF\n├── migration-0.0.1-SNAPSHOT.zip\n└── org\n    └── springframework\n</code></pre>\n<p>Your code is placed in <code>BOOT-INF/classes</code> - this is not a typical library layout, hence <code>ClassNotFoundException</code>.</p>\n<p>See <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/executable-jar.html\" rel=\"nofollow noreferrer\">The Executable Jar Format</a> for reference.</p>\n<p>If you remove <code>spring-boot-maven-plugin</code> in migration project, <code>mvn package</code> passes.</p>\n"}],"owner":{"account_id":1982651,"reputation":659,"user_id":1778855,"accept_rate":40,"display_name":"user1778855"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":372,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74839873,"answer_count":1,"score":0,"last_activity_date":1671378229,"creation_date":1671258708,"question_id":74832230,"body_markdown":"I am working on a maven multi-module project with the following structure\r\n\r\n```\r\nproject/\r\n├── migration/\r\n│   ├── src/\r\n│   │   ├── main/\r\n│   │   │   └── Migration.java\r\n│   │   └── test\r\n│   └── pom.xml\r\n├── depends-on-migration/\r\n│   ├── src/\r\n│   │   ├── main (uses Migration.java - ok)\r\n│   │   └── test (uses Migration.java - throws NoClassDefFoundError)\r\n│   └── pom.xml (depends on migration)\r\n└── pom.xml\r\n```\r\n\r\nThe class can be used (see image), but cannot compile when I run `mvnw package` (see logs)\r\n\r\n[![enter image description here][1]][1]\r\n\r\n```\r\n2022-12-17T14:22:56.025+08:00  INFO 13468 --- [           main] c.b.d.DependsOnMigrationApplicationTests : Starting DependsOnMigrationApplicationTests using Java 17.0.2 with PID 13468 (started by Joseph in Z:\\bwgjoseph\\maven-nested-multi-module-project\\depends-on-migration)\r\n2022-12-17T14:22:56.031+08:00  INFO 13468 --- [           main] c.b.d.DependsOnMigrationApplicationTests : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n2022-12-17T14:22:57.289+08:00  INFO 13468 --- [           main] c.b.d.DependsOnMigrationApplicationTests : Started DependsOnMigrationApplicationTests in 1.534 seconds (process running for 2.498)\r\n[ERROR] Tests run: 2, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 2.493 s &lt;&lt;&lt; FAILURE! - in com.bwgjoseph.dependsonmigration.DependsOnMigrationApplicationTests\r\n[ERROR] test1  Time elapsed: 0.454 s  &lt;&lt;&lt; ERROR!\r\njava.lang.NoClassDefFoundError: com/bwgjoseph/migration/Migration\r\n        at com.bwgjoseph.dependsonmigration.DependsOnMigrationApplicationTests.test1(DependsOnMigrationApplicationTests.java:17)\r\nCaused by: java.lang.ClassNotFoundException: com.bwgjoseph.migration.Migration\r\n        at com.bwgjoseph.dependsonmigration.DependsOnMigrationApplicationTests.test1(DependsOnMigrationApplicationTests.java:17)\r\n\r\n[INFO] \r\n[INFO] Results:\r\n[INFO]\r\n[ERROR] Errors: \r\n[ERROR]   DependsOnMigrationApplicationTests.test1:17 NoClassDefFound com/bwgjoseph/migr...\r\n[INFO]\r\n[ERROR] Tests run: 2, Failures: 0, Errors: 1, Skipped: 0\r\n```\r\n\r\nThis is a simplified example, can refer to [repo][2] (migration and depends-on-migration module)\r\n\r\nI couldn&#39;t find anything similar, the closest I could find are cases where they are looking to use classes that are defined in `migration/src/test` but I am using `migration/src/main`\r\n\r\nGlad to provide more information if required.\r\n\r\nThanks!\r\n\r\n  [1]: https://i.stack.imgur.com/rmjMM.png\r\n  [2]: https://github.com/bwgjoseph/maven-nested-multi-module-project","title":"Unable to use submodule dependency class in test, throws NoClassDefFoundError","body":"<p>I am working on a maven multi-module project with the following structure</p>\n<pre><code>project/\n├── migration/\n│   ├── src/\n│   │   ├── main/\n│   │   │   └── Migration.java\n│   │   └── test\n│   └── pom.xml\n├── depends-on-migration/\n│   ├── src/\n│   │   ├── main (uses Migration.java - ok)\n│   │   └── test (uses Migration.java - throws NoClassDefFoundError)\n│   └── pom.xml (depends on migration)\n└── pom.xml\n</code></pre>\n<p>The class can be used (see image), but cannot compile when I run <code>mvnw package</code> (see logs)</p>\n<p><a href=\"https://i.stack.imgur.com/rmjMM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rmjMM.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>2022-12-17T14:22:56.025+08:00  INFO 13468 --- [           main] c.b.d.DependsOnMigrationApplicationTests : Starting DependsOnMigrationApplicationTests using Java 17.0.2 with PID 13468 (started by Joseph in Z:\\bwgjoseph\\maven-nested-multi-module-project\\depends-on-migration)\n2022-12-17T14:22:56.031+08:00  INFO 13468 --- [           main] c.b.d.DependsOnMigrationApplicationTests : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2022-12-17T14:22:57.289+08:00  INFO 13468 --- [           main] c.b.d.DependsOnMigrationApplicationTests : Started DependsOnMigrationApplicationTests in 1.534 seconds (process running for 2.498)\n[ERROR] Tests run: 2, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 2.493 s &lt;&lt;&lt; FAILURE! - in com.bwgjoseph.dependsonmigration.DependsOnMigrationApplicationTests\n[ERROR] test1  Time elapsed: 0.454 s  &lt;&lt;&lt; ERROR!\njava.lang.NoClassDefFoundError: com/bwgjoseph/migration/Migration\n        at com.bwgjoseph.dependsonmigration.DependsOnMigrationApplicationTests.test1(DependsOnMigrationApplicationTests.java:17)\nCaused by: java.lang.ClassNotFoundException: com.bwgjoseph.migration.Migration\n        at com.bwgjoseph.dependsonmigration.DependsOnMigrationApplicationTests.test1(DependsOnMigrationApplicationTests.java:17)\n\n[INFO] \n[INFO] Results:\n[INFO]\n[ERROR] Errors: \n[ERROR]   DependsOnMigrationApplicationTests.test1:17 NoClassDefFound com/bwgjoseph/migr...\n[INFO]\n[ERROR] Tests run: 2, Failures: 0, Errors: 1, Skipped: 0\n</code></pre>\n<p>This is a simplified example, can refer to <a href=\"https://github.com/bwgjoseph/maven-nested-multi-module-project\" rel=\"nofollow noreferrer\">repo</a> (migration and depends-on-migration module)</p>\n<p>I couldn't find anything similar, the closest I could find are cases where they are looking to use classes that are defined in <code>migration/src/test</code> but I am using <code>migration/src/main</code></p>\n<p>Glad to provide more information if required.</p>\n<p>Thanks!</p>\n"},{"tags":["java","spring-boot","filereader"],"comments":[{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":3,"creation_date":1671368584,"post_id":74841502,"comment_id":132080418,"body_markdown":"The important thing to realise is that resources are not files on the file system, they are files in a JAR. As such, you cannot use `FileReader`, which can only read from the file system. You need to use `Class.getResourceAsStream` or another method for loading resources (Spring has several).","body":"The important thing to realise is that resources are not files on the file system, they are files in a JAR. As such, you cannot use <code>FileReader</code>, which can only read from the file system. You need to use <code>Class.getResourceAsStream</code> or another method for loading resources (Spring has several)."},{"owner":{"account_id":12024361,"reputation":2102,"user_id":8796806,"accept_rate":75,"display_name":"Timothy Clotworthy"},"score":0,"creation_date":1671374477,"post_id":74841502,"comment_id":132081600,"body_markdown":"@MarkRotteveel I see. So I am reading now using: ClassLoader classLoader = getClass().getClassLoader(); classLoader.getResourceAsStream(vocabLookupFile) . Unfortunately that just introduces a new problem which is that I have to find a different way to parse the csv since CSVReader requires FileReader. In fact most reading options require FileReader. So I don&#39;t know how to address the FileReader requirement.","body":"@MarkRotteveel I see. So I am reading now using: ClassLoader classLoader = getClass().getClassLoader(); classLoader.getResourceAsStream(vocabLookupFile) . Unfortunately that just introduces a new problem which is that I have to find a different way to parse the csv since CSVReader requires FileReader. In fact most reading options require FileReader. So I don&#39;t know how to address the FileReader requirement."},{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1671374596,"post_id":74841502,"comment_id":132081627,"body_markdown":"Are you sure `CSVReader` requires a `FileReader`, and not just a `Reader`? If the latter, you can wrap the `InputStream` in an `InputStreamReader`.","body":"Are you sure <code>CSVReader</code> requires a <code>FileReader</code>, and not just a <code>Reader</code>? If the latter, you can wrap the <code>InputStream</code> in an <code>InputStreamReader</code>."},{"owner":{"account_id":12024361,"reputation":2102,"user_id":8796806,"accept_rate":75,"display_name":"Timothy Clotworthy"},"score":0,"creation_date":1671375569,"post_id":74841502,"comment_id":132081830,"body_markdown":"do you mean like this?: new FileReader(new InputStreamReader(classLoader.getResourceAsStream(vocabLookupFile))); If so, this does not compile (cannot resolve constructor FileReader(java.io.InputStreamReader)","body":"do you mean like this?: new FileReader(new InputStreamReader(classLoader.getResourceAsStream(vocabLooku&zwnj;&#8203;pFile))); If so, this does not compile (cannot resolve constructor FileReader(java.io.InputStreamReader)"},{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1671376736,"post_id":74841502,"comment_id":132082002,"body_markdown":"No, `new InputStreamReader(classLoader.getResourceAsStream(vocabLookupFile))` (or a variant that explicitly specifies the character set)","body":"No, <code>new InputStreamReader(classLoader.getResourceAsStream(vocabLooku&zwnj;&#8203;pFile))</code> (or a variant that explicitly specifies the character set)"},{"owner":{"account_id":12024361,"reputation":2102,"user_id":8796806,"accept_rate":75,"display_name":"Timothy Clotworthy"},"score":0,"creation_date":1671377057,"post_id":74841502,"comment_id":132082046,"body_markdown":"ugh, right (my bad). Good now. Thank you!","body":"ugh, right (my bad). Good now. Thank you!"}],"answers":[{"tags":[],"owner":{"account_id":12024361,"reputation":2102,"user_id":8796806,"accept_rate":75,"display_name":"Timothy Clotworthy"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1671377489,"creation_date":1671377489,"answer_id":74842584,"question_id":74841502,"body_markdown":"as per Mark Rotteveel, suggestion, with my file in the resource directory, in general, I need a solution that could retrieve the file from the context of the jar (and those things in the jar are considered &quot;resources&quot;). I used Classloader to get the resource as a stream. So the below works for me. Thanks to Mark.\r\n\r\n    @Component\r\n    public class LookupMapper {\r\n\r\n        public HashMap&lt;String, LookUp&gt; entry = new HashMap&lt;&gt;();\r\n\r\n        @Autowired\r\n        public LookupMapper(@Value(&quot;${vocab.lookup.mapper}&quot;) String vocabLookupFile) throws IOException {\r\n            ClassLoader classLoader = getClass().getClassLoader();\r\n\r\n            try (CSVReader csvReader = new CSVReader(new InputStreamReader(classLoader.getResourceAsStream(vocabLookupFile)))) {\r\n                String[] values = null;\r\n                while ((values = csvReader.readNext()) != null) {\r\n                    LookUp lookUp = new LookUp(values[1], Boolean.parseBoolean(values[2]));\r\n                    this.entry.put(values[0].toUpperCase(), lookUp);\r\n                }\r\n            }\r\n        }\r\n    }","title":"How to get SpringBoot to find my file in the src/main/resources directory","body":"<p>as per Mark Rotteveel, suggestion, with my file in the resource directory, in general, I need a solution that could retrieve the file from the context of the jar (and those things in the jar are considered &quot;resources&quot;). I used Classloader to get the resource as a stream. So the below works for me. Thanks to Mark.</p>\n<pre><code>@Component\npublic class LookupMapper {\n\n    public HashMap&lt;String, LookUp&gt; entry = new HashMap&lt;&gt;();\n\n    @Autowired\n    public LookupMapper(@Value(&quot;${vocab.lookup.mapper}&quot;) String vocabLookupFile) throws IOException {\n        ClassLoader classLoader = getClass().getClassLoader();\n\n        try (CSVReader csvReader = new CSVReader(new InputStreamReader(classLoader.getResourceAsStream(vocabLookupFile)))) {\n            String[] values = null;\n            while ((values = csvReader.readNext()) != null) {\n                LookUp lookUp = new LookUp(values[1], Boolean.parseBoolean(values[2]));\n                this.entry.put(values[0].toUpperCase(), lookUp);\n            }\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":12024361,"reputation":2102,"user_id":8796806,"accept_rate":75,"display_name":"Timothy Clotworthy"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":316,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74842584,"answer_count":1,"score":0,"last_activity_date":1671377489,"creation_date":1671368107,"question_id":74841502,"body_markdown":"I have the following class (below). The file corresponding to vocabLookupFile is found when in the root directory of my SpringBoot project. However, I really want it in the src/main/resources directory of the project. With the below setup, it is not found there. By the way, the LookupMapper component is autowired in a @Service class, and other than not finding the file in src/main/resources, it works fine.\r\n\r\nI am hoping someone can tell me how to modify the below so it can be found there. Thanks for any ideas.\r\n    \r\n    @Component\r\n    public class LookupMapper {\r\n\r\n        public HashMap&lt;String, LookUp&gt; entry = new HashMap&lt;&gt;();\r\n\r\n        @Autowired\r\n        public LookupMapper(@Value(&quot;${vocab.lookup.mapper}&quot;) String vocabLookupFile) throws IOException {\r\n\r\n            try (CSVReader csvReader = new CSVReader(new FileReader(vocabLookupFile))) {\r\n                String[] values = null;\r\n                while ((values = csvReader.readNext()) != null) {\r\n                    LookUp lookUp = new LookUp(values[1], Boolean.parseBoolean(values[2]));\r\n                    this.entry.put(values[0].toUpperCase(), lookUp);\r\n                }\r\n            }\r\n        }\r\n    }","title":"How to get SpringBoot to find my file in the src/main/resources directory","body":"<p>I have the following class (below). The file corresponding to vocabLookupFile is found when in the root directory of my SpringBoot project. However, I really want it in the src/main/resources directory of the project. With the below setup, it is not found there. By the way, the LookupMapper component is autowired in a @Service class, and other than not finding the file in src/main/resources, it works fine.</p>\n<p>I am hoping someone can tell me how to modify the below so it can be found there. Thanks for any ideas.</p>\n<pre><code>@Component\npublic class LookupMapper {\n\n    public HashMap&lt;String, LookUp&gt; entry = new HashMap&lt;&gt;();\n\n    @Autowired\n    public LookupMapper(@Value(&quot;${vocab.lookup.mapper}&quot;) String vocabLookupFile) throws IOException {\n\n        try (CSVReader csvReader = new CSVReader(new FileReader(vocabLookupFile))) {\n            String[] values = null;\n            while ((values = csvReader.readNext()) != null) {\n                LookUp lookUp = new LookUp(values[1], Boolean.parseBoolean(values[2]));\n                this.entry.put(values[0].toUpperCase(), lookUp);\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","file-io","resources","classpath"],"answers":[{"tags":[],"owner":{"account_id":57077,"reputation":39235,"user_id":170974,"accept_rate":70,"display_name":"tangens"},"down_vote_count":1,"up_vote_count":28,"is_accepted":false,"score":27,"last_activity_date":1253688287,"creation_date":1253688287,"answer_id":1464310,"question_id":1464291,"body_markdown":"Please try\r\n\r\n   \r\n\r\n    InputStream in = this.getClass().getResourceAsStream(&quot;/SomeTextFile.txt&quot;);\r\n\r\nYour tries didn&#39;t work because only the class loader for *your* classes is able to load from the classpath. You used the class loader for the java system itself.","title":"How to read text file from classpath in Java?","body":"<p>Please try</p>\n\n<pre><code>InputStream in = this.getClass().getResourceAsStream(\"/SomeTextFile.txt\");\n</code></pre>\n\n<p>Your tries didn't work because only the class loader for <em>your</em> classes is able to load from the classpath. You used the class loader for the java system itself.</p>\n"},{"tags":[],"owner":{"account_id":38696,"reputation":6419,"user_id":111245,"accept_rate":50,"display_name":"Salandur"},"down_vote_count":7,"up_vote_count":1,"is_accepted":false,"score":-6,"last_activity_date":1253689100,"creation_date":1253689100,"answer_id":1464352,"question_id":1464291,"body_markdown":"you have to put your &#39;system variable&#39; on the java classpath. ","title":"How to read text file from classpath in Java?","body":"<p>you have to put your 'system variable' on the java classpath. </p>\n"},{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":2,"up_vote_count":673,"is_accepted":true,"score":671,"last_activity_date":1461253048,"creation_date":1253689392,"answer_id":1464366,"question_id":1464291,"body_markdown":"With the directory on the classpath, from a class loaded by the same classloader, you should be able to use either of:\r\n\r\n    // From ClassLoader, all paths are &quot;absolute&quot; already - there&#39;s no context\r\n    // from which they could be relative. Therefore you don&#39;t need a leading slash.\r\n    InputStream in = this.getClass().getClassLoader()\r\n                                    .getResourceAsStream(&quot;SomeTextFile.txt&quot;);\r\n    // From Class, the path is relative to the package of the class unless\r\n    // you include a leading slash, so if you don&#39;t want to use the current\r\n    // package, include a slash like this:\r\n    InputStream in = this.getClass().getResourceAsStream(&quot;/SomeTextFile.txt&quot;);\r\n\r\nIf those aren&#39;t working, that suggests something else is wrong.\r\n\r\nSo for example, take this code:\r\n\r\n    package dummy;\r\n    \r\n    import java.io.*;\r\n    \r\n    public class Test\r\n    {\r\n        public static void main(String[] args)\r\n        {\r\n            InputStream stream = Test.class.getResourceAsStream(&quot;/SomeTextFile.txt&quot;);\r\n            System.out.println(stream != null);\r\n            stream = Test.class.getClassLoader().getResourceAsStream(&quot;SomeTextFile.txt&quot;);\r\n            System.out.println(stream != null);\r\n        }\r\n    }\r\n\r\nAnd this directory structure:\r\n\r\n    code\r\n        dummy\r\n              Test.class\r\n    txt\r\n        SomeTextFile.txt\r\n\r\nAnd then (using the Unix path separator as I&#39;m on a Linux box):\r\n\r\n    java -classpath code:txt dummy.Test\r\n\r\nResults:\r\n\r\n    true\r\n    true","title":"How to read text file from classpath in Java?","body":"<p>With the directory on the classpath, from a class loaded by the same classloader, you should be able to use either of:</p>\n\n<pre><code>// From ClassLoader, all paths are \"absolute\" already - there's no context\n// from which they could be relative. Therefore you don't need a leading slash.\nInputStream in = this.getClass().getClassLoader()\n                                .getResourceAsStream(\"SomeTextFile.txt\");\n// From Class, the path is relative to the package of the class unless\n// you include a leading slash, so if you don't want to use the current\n// package, include a slash like this:\nInputStream in = this.getClass().getResourceAsStream(\"/SomeTextFile.txt\");\n</code></pre>\n\n<p>If those aren't working, that suggests something else is wrong.</p>\n\n<p>So for example, take this code:</p>\n\n<pre><code>package dummy;\n\nimport java.io.*;\n\npublic class Test\n{\n    public static void main(String[] args)\n    {\n        InputStream stream = Test.class.getResourceAsStream(\"/SomeTextFile.txt\");\n        System.out.println(stream != null);\n        stream = Test.class.getClassLoader().getResourceAsStream(\"SomeTextFile.txt\");\n        System.out.println(stream != null);\n    }\n}\n</code></pre>\n\n<p>And this directory structure:</p>\n\n<pre><code>code\n    dummy\n          Test.class\ntxt\n    SomeTextFile.txt\n</code></pre>\n\n<p>And then (using the Unix path separator as I'm on a Linux box):</p>\n\n<pre><code>java -classpath code:txt dummy.Test\n</code></pre>\n\n<p>Results:</p>\n\n<pre><code>true\ntrue\n</code></pre>\n"},{"tags":[],"owner":{"account_id":51856,"reputation":8054,"user_id":154949,"accept_rate":76,"display_name":"yawn"},"down_vote_count":2,"up_vote_count":135,"is_accepted":false,"score":133,"last_activity_date":1253692231,"creation_date":1253692231,"answer_id":1464540,"question_id":1464291,"body_markdown":"When using the [Spring][1] Framework (either as a collection of utilities **or** container - you do not need to use the latter functionality) you can easily use the *Resource* abstraction.\r\n\r\n    Resource resource = new ClassPathResource(&quot;com/example/Foo.class&quot;);\r\n\r\nThrough the *Resource* interface you can access the resource as *InputStream*, *URL*, *URI* or *File*. Changing the resource type to e.g. a file system resource is a simple matter of changing the instance.\r\n\r\n  [1]: http://www.springsource.org/","title":"How to read text file from classpath in Java?","body":"<p>When using the <a href=\"http://www.springsource.org/\" rel=\"noreferrer\">Spring</a> Framework (either as a collection of utilities <strong>or</strong> container - you do not need to use the latter functionality) you can easily use the <em>Resource</em> abstraction.</p>\n\n<pre><code>Resource resource = new ClassPathResource(\"com/example/Foo.class\");\n</code></pre>\n\n<p>Through the <em>Resource</em> interface you can access the resource as <em>InputStream</em>, <em>URL</em>, <em>URI</em> or <em>File</em>. Changing the resource type to e.g. a file system resource is a simple matter of changing the instance.</p>\n"},{"tags":[],"owner":{"account_id":15903,"reputation":323433,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1253692251,"creation_date":1253692251,"answer_id":1464541,"question_id":1464291,"body_markdown":"You say &quot;I am trying to read a text file which is set in CLASSPATH system variable.&quot; My guess this is on Windows and you are using this ugly dialog to edit the &quot;System Variables&quot;.\r\n\r\nNow you run your Java program in the console. And that doesn&#39;t work: The console gets a copy of the values of the system variables *once* when it is *started*. This means any change in the dialog *afterwards* doesn&#39;t have any effect.\r\n\r\nThere are these solutions:\r\n\r\n1. Start a new console after every change\r\n\r\n2. Use `set CLASSPATH=...` in the console to set the copy of the variable in the console and when your code works, paste the last value into the variable dialog.\r\n\r\n3. Put the call to Java into `.BAT` file and double click it. This will create a new console every time (thus copying the current value of the system variable).\r\n\r\nBEWARE: If you also have a User variable `CLASSPATH` then it will shadow your system variable. That is why it is usually better to put the call to your Java program into a `.BAT` file and set the classpath in there (using `set CLASSPATH=`) rather than relying on a global system or user variable.\r\n\r\nThis also makes sure that you can have more than one Java program working on your computer because they are bound to have different classpaths.","title":"How to read text file from classpath in Java?","body":"<p>You say \"I am trying to read a text file which is set in CLASSPATH system variable.\" My guess this is on Windows and you are using this ugly dialog to edit the \"System Variables\".</p>\n\n<p>Now you run your Java program in the console. And that doesn't work: The console gets a copy of the values of the system variables <em>once</em> when it is <em>started</em>. This means any change in the dialog <em>afterwards</em> doesn't have any effect.</p>\n\n<p>There are these solutions:</p>\n\n<ol>\n<li><p>Start a new console after every change</p></li>\n<li><p>Use <code>set CLASSPATH=...</code> in the console to set the copy of the variable in the console and when your code works, paste the last value into the variable dialog.</p></li>\n<li><p>Put the call to Java into <code>.BAT</code> file and double click it. This will create a new console every time (thus copying the current value of the system variable).</p></li>\n</ol>\n\n<p>BEWARE: If you also have a User variable <code>CLASSPATH</code> then it will shadow your system variable. That is why it is usually better to put the call to your Java program into a <code>.BAT</code> file and set the classpath in there (using <code>set CLASSPATH=</code>) rather than relying on a global system or user variable.</p>\n\n<p>This also makes sure that you can have more than one Java program working on your computer because they are bound to have different classpaths.</p>\n"},{"tags":[],"owner":{"account_id":2721787,"reputation":169,"user_id":2347931,"display_name":"webcom"},"down_vote_count":1,"up_vote_count":17,"is_accepted":false,"score":16,"last_activity_date":1367605575,"creation_date":1367604309,"answer_id":16365055,"question_id":1464291,"body_markdown":"To get the class absolute path try this:\r\n\r\n    String url = this.getClass().getResource(&quot;&quot;).getPath();","title":"How to read text file from classpath in Java?","body":"<p>To get the class absolute path try this:</p>\n\n<pre><code>String url = this.getClass().getResource(\"\").getPath();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20288,"reputation":3490,"user_id":48340,"display_name":"Pavel"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1498565260,"creation_date":1403815327,"answer_id":24439855,"question_id":1464291,"body_markdown":"To actually read the contents of the file, I like using Commons IO + Spring Core. Assuming Java 8:\r\n\r\n    try (InputStream stream = new ClassPathResource(&quot;package/resource&quot;).getInputStream()) {\r\n        IOUtils.toString(stream);\r\n    }\r\n\r\nAlternatively:\r\n\r\n    InputStream stream = null;\r\n    try {\r\n        stream = new ClassPathResource(&quot;/log4j.xml&quot;).getInputStream();\r\n        IOUtils.toString(stream);\r\n    } finally {\r\n        IOUtils.closeQuietly(stream);\r\n    }\r\n","title":"How to read text file from classpath in Java?","body":"<p>To actually read the contents of the file, I like using Commons IO + Spring Core. Assuming Java 8:</p>\n\n<pre><code>try (InputStream stream = new ClassPathResource(\"package/resource\").getInputStream()) {\n    IOUtils.toString(stream);\n}\n</code></pre>\n\n<p>Alternatively:</p>\n\n<pre><code>InputStream stream = null;\ntry {\n    stream = new ClassPathResource(\"/log4j.xml\").getInputStream();\n    IOUtils.toString(stream);\n} finally {\n    IOUtils.closeQuietly(stream);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":30014,"reputation":20532,"user_id":81520,"accept_rate":84,"display_name":"Peter Perh&#225;č"},"down_vote_count":0,"up_vote_count":72,"is_accepted":false,"score":72,"last_activity_date":1429049729,"creation_date":1406815036,"answer_id":25060776,"question_id":1464291,"body_markdown":"This is how I read all lines of a text file on my classpath, using Java 7 NIO:\r\n\r\n    ...\r\n    import java.nio.charset.Charset;\r\n    import java.nio.file.Files;\r\n    import java.nio.file.Paths;\r\n\r\n    ...\r\n\r\n    Files.readAllLines(\r\n        Paths.get(this.getClass().getResource(&quot;res.txt&quot;).toURI()), Charset.defaultCharset());\r\n\r\nNB this is an example of how it can be done. You&#39;ll have to make improvements as necessary. This example will only work if the file is actually present on your classpath, otherwise a NullPointerException will be thrown when getResource() returns null and .toURI() is invoked on it.\r\n\r\nAlso, since Java 7, one convenient way of specifying character sets is to use the constants defined in `java.nio.charset.StandardCharsets`\r\n(these are, according to their [javadocs][1], &quot;guaranteed to be available on every implementation of the Java platform.&quot;).\r\n\r\nHence, if you know the encoding of the file to be UTF-8, then specify explicitly the charset `StandardCharsets.UTF_8`\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/nio/charset/StandardCharsets.html","title":"How to read text file from classpath in Java?","body":"<p>This is how I read all lines of a text file on my classpath, using Java 7 NIO:</p>\n\n<pre><code>...\nimport java.nio.charset.Charset;\nimport java.nio.file.Files;\nimport java.nio.file.Paths;\n\n...\n\nFiles.readAllLines(\n    Paths.get(this.getClass().getResource(\"res.txt\").toURI()), Charset.defaultCharset());\n</code></pre>\n\n<p>NB this is an example of how it can be done. You'll have to make improvements as necessary. This example will only work if the file is actually present on your classpath, otherwise a NullPointerException will be thrown when getResource() returns null and .toURI() is invoked on it.</p>\n\n<p>Also, since Java 7, one convenient way of specifying character sets is to use the constants defined in <code>java.nio.charset.StandardCharsets</code>\n(these are, according to their <a href=\"https://docs.oracle.com/javase/7/docs/api/java/nio/charset/StandardCharsets.html\">javadocs</a>, \"guaranteed to be available on every implementation of the Java platform.\").</p>\n\n<p>Hence, if you know the encoding of the file to be UTF-8, then specify explicitly the charset <code>StandardCharsets.UTF_8</code></p>\n"},{"tags":[],"owner":{"account_id":1873417,"reputation":621,"user_id":1695166,"accept_rate":40,"display_name":"user1695166"},"down_vote_count":2,"up_vote_count":19,"is_accepted":false,"score":17,"last_activity_date":1417621812,"creation_date":1417621812,"answer_id":27275959,"question_id":1464291,"body_markdown":"Somehow the best answer doesn&#39;t work for me. I need to use a slightly different code instead.\r\n \r\n    ClassLoader loader = Thread.currentThread().getContextClassLoader();\r\n    InputStream is = loader.getResourceAsStream(&quot;SomeTextFile.txt&quot;);\r\n\r\nI hope this help those who encounters the same issue. ","title":"How to read text file from classpath in Java?","body":"<p>Somehow the best answer doesn't work for me. I need to use a slightly different code instead.</p>\n\n<pre><code>ClassLoader loader = Thread.currentThread().getContextClassLoader();\nInputStream is = loader.getResourceAsStream(\"SomeTextFile.txt\");\n</code></pre>\n\n<p>I hope this help those who encounters the same issue. </p>\n"},{"tags":[],"owner":{"account_id":2471743,"reputation":39,"user_id":2153424,"display_name":"sachinthana87"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1435831387,"creation_date":1435831387,"answer_id":31181562,"question_id":1464291,"body_markdown":"Don&#39;t use getClassLoader() method and use the &quot;/&quot; before the file name. &quot;/&quot; is very important\r\n\r\n    this.getClass().getResourceAsStream(&quot;/SomeTextFile.txt&quot;);","title":"How to read text file from classpath in Java?","body":"<p>Don't use getClassLoader() method and use the \"/\" before the file name. \"/\" is very important</p>\n\n<pre><code>this.getClass().getResourceAsStream(\"/SomeTextFile.txt\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6631629,"reputation":1,"user_id":5120178,"display_name":"Helper"},"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1436976782,"creation_date":1436975129,"answer_id":31435082,"question_id":1464291,"body_markdown":"    import java.io.BufferedReader;\r\n    import java.io.File;\r\n    import java.io.FileNotFoundException;\r\n    import java.io.FileReader;\r\n    import java.io.IOException;\r\n    \r\n    public class ReadFile\r\n    \r\n    {\r\n    \t/**\r\n    \t * * feel free to make any modification I have have been here so I feel you\r\n    \t * * * @param args * @throws InterruptedException\r\n    \t */\r\n    \r\n    \tpublic static void main(String[] args) throws InterruptedException {\r\n    \t\t// thread pool of 10\r\n    \t\tFile dir = new File(&quot;.&quot;);\r\n    \t\t// read file from same directory as source //\r\n    \t\tif (dir.isDirectory()) {\r\n    \t\t\tFile[] files = dir.listFiles();\r\n    \t\t\tfor (File file : files) {\r\n    \t\t\t\t// if you wanna read file name with txt files\r\n    \t\t\t\tif (file.getName().contains(&quot;txt&quot;)) {\r\n    \t\t\t\t\tSystem.out.println(file.getName());\r\n    \t\t\t\t}\r\n    \r\n    \t\t\t\t// if you want to open text file and read each line then\r\n    \t\t\t\tif (file.getName().contains(&quot;txt&quot;)) {\r\n    \t\t\t\t\ttry {\r\n    \t\t\t\t\t\t// FileReader reads text files in the default encoding.\r\n    \t\t\t\t\t\tFileReader fileReader = new FileReader(\r\n    \t\t\t\t\t\t\t\tfile.getAbsolutePath());\r\n    \t\t\t\t\t\t// Always wrap FileReader in BufferedReader.\r\n    \t\t\t\t\t\tBufferedReader bufferedReader = new BufferedReader(\r\n    \t\t\t\t\t\t\t\tfileReader);\r\n    \t\t\t\t\t\tString line;\r\n    \t\t\t\t\t\t// get file details and get info you need.\r\n    \t\t\t\t\t\twhile ((line = bufferedReader.readLine()) != null) {\r\n    \t\t\t\t\t\t\tSystem.out.println(line);\r\n    \t\t\t\t\t\t\t// here you can say...\r\n    \t\t\t\t\t\t\t// System.out.println(line.substring(0, 10)); this\r\n    \t\t\t\t\t\t\t// prints from 0 to 10 indext\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t} catch (FileNotFoundException ex) {\r\n    \t\t\t\t\t\tSystem.out.println(&quot;Unable to open file &#39;&quot;\r\n    \t\t\t\t\t\t\t\t+ file.getName() + &quot;&#39;&quot;);\r\n    \t\t\t\t\t} catch (IOException ex) {\r\n    \t\t\t\t\t\tSystem.out.println(&quot;Error reading file &#39;&quot;\r\n    \t\t\t\t\t\t\t\t+ file.getName() + &quot;&#39;&quot;);\r\n    \t\t\t\t\t\t// Or we could just do this:\r\n    \t\t\t\t\t\tex.printStackTrace();\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    }","title":"How to read text file from classpath in Java?","body":"<pre><code>import java.io.BufferedReader;\nimport java.io.File;\nimport java.io.FileNotFoundException;\nimport java.io.FileReader;\nimport java.io.IOException;\n\npublic class ReadFile\n\n{\n    /**\n     * * feel free to make any modification I have have been here so I feel you\n     * * * @param args * @throws InterruptedException\n     */\n\n    public static void main(String[] args) throws InterruptedException {\n        // thread pool of 10\n        File dir = new File(\".\");\n        // read file from same directory as source //\n        if (dir.isDirectory()) {\n            File[] files = dir.listFiles();\n            for (File file : files) {\n                // if you wanna read file name with txt files\n                if (file.getName().contains(\"txt\")) {\n                    System.out.println(file.getName());\n                }\n\n                // if you want to open text file and read each line then\n                if (file.getName().contains(\"txt\")) {\n                    try {\n                        // FileReader reads text files in the default encoding.\n                        FileReader fileReader = new FileReader(\n                                file.getAbsolutePath());\n                        // Always wrap FileReader in BufferedReader.\n                        BufferedReader bufferedReader = new BufferedReader(\n                                fileReader);\n                        String line;\n                        // get file details and get info you need.\n                        while ((line = bufferedReader.readLine()) != null) {\n                            System.out.println(line);\n                            // here you can say...\n                            // System.out.println(line.substring(0, 10)); this\n                            // prints from 0 to 10 indext\n                        }\n                    } catch (FileNotFoundException ex) {\n                        System.out.println(\"Unable to open file '\"\n                                + file.getName() + \"'\");\n                    } catch (IOException ex) {\n                        System.out.println(\"Error reading file '\"\n                                + file.getName() + \"'\");\n                        // Or we could just do this:\n                        ex.printStackTrace();\n                    }\n                }\n            }\n        }\n\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6766411,"reputation":1,"user_id":5211292,"display_name":"Sardar Saikh"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1439215945,"creation_date":1439212968,"answer_id":31920752,"question_id":1464291,"body_markdown":"I am  using webshpere application server and my Web Module is build on Spring MVC. The `Test.properties` were located in the resources folder, i tried to load this files using the following:\r\n\r\n1. `this.getClass().getClassLoader().getResourceAsStream(&quot;Test.properties&quot;);`  \r\n2. `this.getClass().getResourceAsStream(&quot;/Test.properties&quot;);`\r\n\r\nNone of the above code loaded the file.\r\n\r\nBut with the help of below code the property file was loaded successfully:\r\n\r\n`Thread.currentThread().getContextClassLoader().getResourceAsStream(&quot;Test.properties&quot;);`\r\n\r\nThanks to the user *&quot;user1695166&quot;*.","title":"How to read text file from classpath in Java?","body":"<p>I am  using webshpere application server and my Web Module is build on Spring MVC. The <code>Test.properties</code> were located in the resources folder, i tried to load this files using the following:</p>\n\n<ol>\n<li><code>this.getClass().getClassLoader().getResourceAsStream(\"Test.properties\");</code>  </li>\n<li><code>this.getClass().getResourceAsStream(\"/Test.properties\");</code></li>\n</ol>\n\n<p>None of the above code loaded the file.</p>\n\n<p>But with the help of below code the property file was loaded successfully:</p>\n\n<p><code>Thread.currentThread().getContextClassLoader().getResourceAsStream(\"Test.properties\");</code></p>\n\n<p>Thanks to the user <em>\"user1695166\"</em>.</p>\n"},{"tags":[],"owner":{"account_id":4646767,"reputation":17781,"user_id":3764804,"accept_rate":59,"display_name":"BullyWiiPlaza"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1461340669,"creation_date":1455367464,"answer_id":35380000,"question_id":1464291,"body_markdown":"To read the contents of a file into a String from the `classpath`, you can use this:\r\n\r\n    private String resourceToString(String filePath) throws IOException, URISyntaxException\r\n    {\r\n    \ttry (InputStream inputStream = this.getClass().getClassLoader().getResourceAsStream(filePath))\r\n    \t{\r\n    \t\treturn IOUtils.toString(inputStream);\r\n    \t}\r\n    }\r\n\r\nNote:  \r\n[`IOUtils`][1] is part of [`Commons IO`][2].\r\n\r\nCall it like this:\r\n\r\n    String fileContents = resourceToString(&quot;ImOnTheClasspath.txt&quot;);\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-io/apidocs/org/apache/commons/io/IOUtils.html\r\n  [2]: http://mvnrepository.com/artifact/commons-io/commons-io","title":"How to read text file from classpath in Java?","body":"<p>To read the contents of a file into a String from the <code>classpath</code>, you can use this:</p>\n\n<pre><code>private String resourceToString(String filePath) throws IOException, URISyntaxException\n{\n    try (InputStream inputStream = this.getClass().getClassLoader().getResourceAsStream(filePath))\n    {\n        return IOUtils.toString(inputStream);\n    }\n}\n</code></pre>\n\n<p>Note:<br>\n<a href=\"https://commons.apache.org/proper/commons-io/apidocs/org/apache/commons/io/IOUtils.html\" rel=\"nofollow\"><code>IOUtils</code></a> is part of <a href=\"http://mvnrepository.com/artifact/commons-io/commons-io\" rel=\"nofollow\"><code>Commons IO</code></a>.</p>\n\n<p>Call it like this:</p>\n\n<pre><code>String fileContents = resourceToString(\"ImOnTheClasspath.txt\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9829227,"reputation":424,"user_id":7281453,"display_name":"Alexey Simonov"},"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1609222391,"creation_date":1502085371,"answer_id":45540221,"question_id":1464291,"body_markdown":"If you use Guava:\r\n\r\n    import com.google.common.io.Resources;\r\n\r\n we can get URL from CLASSPATH:\r\n\r\n    URL resource = Resources.getResource(&quot;test.txt&quot;);\r\n    String file = resource.getFile();   // get file path \r\n\r\nor InputStream:\r\n\r\n    InputStream is = Resources.getResource(&quot;test.txt&quot;).openStream();\r\n\r\n[Ways to convert an InputStream to a String][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/35446009/7281453","title":"How to read text file from classpath in Java?","body":"<p>If you use Guava:</p>\n<pre><code>import com.google.common.io.Resources;\n</code></pre>\n<p>we can get URL from CLASSPATH:</p>\n<pre><code>URL resource = Resources.getResource(&quot;test.txt&quot;);\nString file = resource.getFile();   // get file path \n</code></pre>\n<p>or InputStream:</p>\n<pre><code>InputStream is = Resources.getResource(&quot;test.txt&quot;).openStream();\n</code></pre>\n<p><a href=\"https://stackoverflow.com/a/35446009/7281453\">Ways to convert an InputStream to a String</a></p>\n"},{"tags":[],"owner":{"account_id":2111435,"reputation":4511,"user_id":1876644,"accept_rate":71,"display_name":"Charu Khurana"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1507738858,"creation_date":1507738858,"answer_id":46693130,"question_id":1464291,"body_markdown":"Use `org.apache.commons.io.FileUtils.readFileToString(new File(&quot;src/test/resources/sample-data/fileName.txt&quot;));`","title":"How to read text file from classpath in Java?","body":"<p>Use <code>org.apache.commons.io.FileUtils.readFileToString(new File(\"src/test/resources/sample-data/fileName.txt\"));</code></p>\n"},{"tags":[],"owner":{"account_id":11468218,"reputation":5521,"user_id":8405835,"display_name":"Abhijit Pritam Dutta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1566909299,"creation_date":1566909299,"answer_id":57674835,"question_id":1464291,"body_markdown":"My answer is not exactly what is asked in the question. Rather I am giving a solution exactly how easily we can read a file into out java application from our project class path.\r\n\r\nFor example suppose a config file name **example.xml** is located in a path like below:-\r\n\r\n**com.myproject.config.dev**\r\n\r\nand our java executable class file is in the below path:-\r\n\r\n**com.myproject.server.main**\r\n\r\nnow just check in both the above path which is the nearest common directory/folder from where you can access both **dev** and **main** directory/folder (com.myproject.server.main - where our application’s java executable class is existed) –  We can see that it is **myproject** folder/directory which is the nearest common directory/folder from where we can access our example.xml file. Therefore from a java executable class resides in  folder/directory **main** we have to go back two steps like **../../** to access **myproject**. Now following this, see how we can read the file:-\r\n\r\n    package com.myproject.server.main;\r\n\r\n    class Example {\r\n\r\n      File xmlFile;\r\n    \r\n      public Example(){\r\n           String filePath = this.getClass().getResource(&quot;../../config/dev/example.xml&quot;).getPath();\r\n\t\t   this.xmlFile = new File(filePath);\r\n        }\r\n  \r\n      public File getXMLFile() {\r\n\t\t  return this.xmlFile;\r\n\t  }\r\n       public static void main(String args[]){\r\n          Example ex = new Example();\r\n          File xmlFile = ex.getXMLFile();\r\n       }\r\n    }","title":"How to read text file from classpath in Java?","body":"<p>My answer is not exactly what is asked in the question. Rather I am giving a solution exactly how easily we can read a file into out java application from our project class path.</p>\n\n<p>For example suppose a config file name <strong>example.xml</strong> is located in a path like below:-</p>\n\n<p><strong>com.myproject.config.dev</strong></p>\n\n<p>and our java executable class file is in the below path:-</p>\n\n<p><strong>com.myproject.server.main</strong></p>\n\n<p>now just check in both the above path which is the nearest common directory/folder from where you can access both <strong>dev</strong> and <strong>main</strong> directory/folder (com.myproject.server.main - where our application’s java executable class is existed) –  We can see that it is <strong>myproject</strong> folder/directory which is the nearest common directory/folder from where we can access our example.xml file. Therefore from a java executable class resides in  folder/directory <strong>main</strong> we have to go back two steps like <strong>../../</strong> to access <strong>myproject</strong>. Now following this, see how we can read the file:-</p>\n\n<pre><code>package com.myproject.server.main;\n\nclass Example {\n\n  File xmlFile;\n\n  public Example(){\n       String filePath = this.getClass().getResource(\"../../config/dev/example.xml\").getPath();\n       this.xmlFile = new File(filePath);\n    }\n\n  public File getXMLFile() {\n      return this.xmlFile;\n  }\n   public static void main(String args[]){\n      Example ex = new Example();\n      File xmlFile = ex.getXMLFile();\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14597027,"reputation":41,"user_id":10542408,"display_name":"Ahmed ALI"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1580392758,"creation_date":1580387107,"answer_id":59986007,"question_id":1464291,"body_markdown":"If you compile your project in jar file: \r\nyou can put your file in resources/files/your_file.text or pdf;\r\n\r\nand use this code: \r\n   \r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    import java.io.*;\r\n            \r\n    public class readFileService(){\r\n        private static final Logger LOGGER = LoggerFactory.getLogger(readFileService.class);\r\n    \r\n\r\n        public byte[] getFile(){\r\n            String filePath=&quot;/files/your_file&quot;;\r\n            InputStream inputStreamFile;\r\n            byte[] bytes;\r\n            try{\r\n                inputStreamFile = this.getClass().getResourceAsStream(filePath);\r\n                bytes = new byte[inputStreamFile.available()];\r\n                inputStreamFile.read(bytes);    \r\n            } catch(NullPointerException | IOException e) {\r\n                LOGGER.error(&quot;Erreur read file &quot;+filePath+&quot; error message :&quot; +e.getMessage());\r\n                return null;\r\n            }\r\n            return bytes;\r\n        } \r\n    }\r\n\r\n\r\n\r\n\r\n\r\n","title":"How to read text file from classpath in Java?","body":"<p>If you compile your project in jar file: \nyou can put your file in resources/files/your_file.text or pdf;</p>\n\n<p>and use this code: </p>\n\n<pre><code>import org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport java.io.*;\n\npublic class readFileService(){\n    private static final Logger LOGGER = LoggerFactory.getLogger(readFileService.class);\n\n\n    public byte[] getFile(){\n        String filePath=\"/files/your_file\";\n        InputStream inputStreamFile;\n        byte[] bytes;\n        try{\n            inputStreamFile = this.getClass().getResourceAsStream(filePath);\n            bytes = new byte[inputStreamFile.available()];\n            inputStreamFile.read(bytes);    \n        } catch(NullPointerException | IOException e) {\n            LOGGER.error(\"Erreur read file \"+filePath+\" error message :\" +e.getMessage());\n            return null;\n        }\n        return bytes;\n    } \n}\n</code></pre>\n"}],"owner":{"account_id":202884,"reputation":6736,"user_id":450206,"accept_rate":97,"display_name":"Chaitanya MSV"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":805416,"favorite_count":0,"down_vote_count":0,"up_vote_count":414,"accepted_answer_id":1464366,"answer_count":17,"score":414,"last_activity_date":1671376877,"creation_date":1253687899,"question_id":1464291,"body_markdown":"I am trying to read a text file which is set in CLASSPATH system variable. Not a user variable.\r\n\r\nI am trying to get input stream to the file as below:\r\n\r\nPlace the directory of file (`D:\\myDir`) in CLASSPATH and try below:\r\n\r\n```java\r\nInputStream in = this.getClass().getClassLoader().getResourceAsStream(&quot;SomeTextFile.txt&quot;);\r\nInputStream in = this.getClass().getClassLoader().getResourceAsStream(&quot;/SomeTextFile.txt&quot;);\r\nInputStream in = this.getClass().getClassLoader().getResourceAsStream(&quot;//SomeTextFile.txt&quot;);\r\n```\r\n\r\nPlace full path of file (`D:\\myDir\\SomeTextFile.txt`) in CLASSPATH and try the same above 3 lines of code.\r\n\r\nBut unfortunately NONE of them are working and I am always getting `null` into my InputStream `in`.\r\n\r\n","title":"How to read text file from classpath in Java?","body":"<p>I am trying to read a text file which is set in CLASSPATH system variable. Not a user variable.</p>\n<p>I am trying to get input stream to the file as below:</p>\n<p>Place the directory of file (<code>D:\\myDir</code>) in CLASSPATH and try below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>InputStream in = this.getClass().getClassLoader().getResourceAsStream(&quot;SomeTextFile.txt&quot;);\nInputStream in = this.getClass().getClassLoader().getResourceAsStream(&quot;/SomeTextFile.txt&quot;);\nInputStream in = this.getClass().getClassLoader().getResourceAsStream(&quot;//SomeTextFile.txt&quot;);\n</code></pre>\n<p>Place full path of file (<code>D:\\myDir\\SomeTextFile.txt</code>) in CLASSPATH and try the same above 3 lines of code.</p>\n<p>But unfortunately NONE of them are working and I am always getting <code>null</code> into my InputStream <code>in</code>.</p>\n"},{"tags":["java","android","if-statement"],"answers":[{"tags":[],"owner":{"account_id":1016877,"reputation":4098,"user_id":1028256,"accept_rate":43,"display_name":"Mixaz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671287001,"creation_date":1671287001,"answer_id":74834842,"question_id":74834767,"body_markdown":"You can use bitmasks for conditions, and group them for a `switch` statement:\r\n```\r\nint cond1 = 0x1;\r\nint cond2 = 0x2;\r\n\r\nswitch(cond) {\r\n  case cond1|cond2:\r\n    // both  are true\r\n    break;\r\n  case cond1|0x0:\r\n    // only cond1 true\r\n    break;\r\n  case 0x0|cond2:\r\n    // only cond2 true\r\n    break;\r\n  case 0x0|0x0:\r\n    // both are false\r\n    break;\r\n}","title":"Is there a way to simplify this nested if-else statements?","body":"<p>You can use bitmasks for conditions, and group them for a <code>switch</code> statement:</p>\n<pre><code>int cond1 = 0x1;\nint cond2 = 0x2;\n\nswitch(cond) {\n  case cond1|cond2:\n    // both  are true\n    break;\n  case cond1|0x0:\n    // only cond1 true\n    break;\n  case 0x0|cond2:\n    // only cond2 true\n    break;\n  case 0x0|0x0:\n    // both are false\n    break;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26982886,"reputation":25,"user_id":20546967,"display_name":"motty_here"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671376379,"creation_date":1671376379,"answer_id":74842480,"question_id":74834767,"body_markdown":"I ended up separating them into different methods like so:\r\n\r\n```\r\nG_btn.onTouch{\r\n  Case Motion Down:\r\n    if(up){\r\n      horizontal_method(G5, G#5, gStream)\r\n    } else if (down) {\r\n      horizontal_method(G4, G#4, gStream)\r\n    }\r\n  Case Motion Up:\r\n    stop_audio_method(gStream)\r\n}\r\n\r\npublic void horizontal_method(note, sharp, stream){\r\n  if(horizontal){ //if phone is moving\r\n    loop_num = -1 //looping\r\n  } else { //phone not moving\r\n    loop_num = 0 //play once\r\n  }\r\n  rotate_method(note, sharp, stream, loop_num)\r\n}\r\n\r\npublic void rotate_method(note, sharp, stream, loop_num){\r\n  if(rotate){ //if sharp\r\n    stream = soundpool.play (sharp, loop_num) //can be looping or not, depends on the loop_num\r\n  } else { //not sharp\r\n    stream = soundpool.play (note, loop_num)\r\n  }\r\n}\r\n\r\npublic void stop_audio_method(stream){\r\n  stream = soundpool.stop() //stops that specific stream\r\n}\r\n```","title":"Is there a way to simplify this nested if-else statements?","body":"<p>I ended up separating them into different methods like so:</p>\n<pre><code>G_btn.onTouch{\n  Case Motion Down:\n    if(up){\n      horizontal_method(G5, G#5, gStream)\n    } else if (down) {\n      horizontal_method(G4, G#4, gStream)\n    }\n  Case Motion Up:\n    stop_audio_method(gStream)\n}\n\npublic void horizontal_method(note, sharp, stream){\n  if(horizontal){ //if phone is moving\n    loop_num = -1 //looping\n  } else { //phone not moving\n    loop_num = 0 //play once\n  }\n  rotate_method(note, sharp, stream, loop_num)\n}\n\npublic void rotate_method(note, sharp, stream, loop_num){\n  if(rotate){ //if sharp\n    stream = soundpool.play (sharp, loop_num) //can be looping or not, depends on the loop_num\n  } else { //not sharp\n    stream = soundpool.play (note, loop_num)\n  }\n}\n\npublic void stop_audio_method(stream){\n  stream = soundpool.stop() //stops that specific stream\n}\n</code></pre>\n"}],"owner":{"account_id":26982886,"reputation":25,"user_id":20546967,"display_name":"motty_here"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74842480,"answer_count":2,"score":1,"last_activity_date":1671376379,"creation_date":1671286252,"question_id":74834767,"body_markdown":"I have this pseudocode which all plays different audio files. I read that a nested if has a time complexity of O(m+n) which I think is okay-ish, but if there&#39;s a way to simplify it or reduce the time complexity, that would be great.\r\n\r\n```\r\nbtn_G.onTouchListener(){\r\n  Case Motion.Action_Down:\r\n    if(high_octave){ \r\n\r\n      if(move){ //if the phone is moving\r\n      \r\n        if(sharp){ //if it&#39;s a sharp note\r\n        \r\n          if(vibrato){ //if it&#39;s vibrato\r\n            Gstream = G.play(loop) //loop a vibrato, sharp, high octave G note\r\n\r\n          } else { //if there is no vibrato\r\n            Gstream = G.play(loop) //loop a normal, sharp, high octave G note\r\n          }\r\n          \r\n        } else { //if all are normal notes, no sharps\r\n        \r\n          if(vibrato){ //if there is vibrato\r\n            Gstream = G.play(loop) //loop a vibrato, normal, high octave G note\r\n\r\n          } else { //if there is no vibrato\r\n            Gstream = G.play(loop) //loop a normal, high octave G note\r\n          }\r\n          \r\n        }\r\n      } else { //if the phone is not moving\r\n      //if the phone doesn&#39;t move, doesn&#39;t matter if there is vibrato or not\r\n      \r\n        if(sharp){ //if it&#39;s a sharp note\r\n          Gstream = G.play(once) //play a sharp, high octave G note only once\r\n\r\n        } else { //if all are normal notes, no sharps\r\n          Gstream = G.play(once) //play a normal, high octave G note only once\r\n        }\r\n        \r\n      }\r\n    } else if(mid_oct){ #middle octave\r\n        //repeat all of that but with middle octave G note\r\n\r\n    } else { #low octave\r\n        //repeat all of that but with low octave G note\r\n    }\r\n  Case Motion.Action_Up:\r\n    Gstream = G.stop() // stop the audio\r\n}\r\n```\r\n\r\nThat&#39;s just for one button. And I have like 8 buttons I need to do this for. I thought of using hash list but to create the list I&#39;ll to check conditions like this too so it&#39;s gonna be the same, isn&#39;t it?\r\n\r\nI also found [this][1], but isn&#39;t me separating the conditions like that the same as me doing nested if? As in, it would also be really long and repetitive because I have 8 buttons?\r\n\r\nIs there a way to shorten it, even with all the conditions?\r\n\r\nSorry, I&#39;m kinda new at this.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/8447658/alternatives-to-embedded-if-statements","title":"Is there a way to simplify this nested if-else statements?","body":"<p>I have this pseudocode which all plays different audio files. I read that a nested if has a time complexity of O(m+n) which I think is okay-ish, but if there's a way to simplify it or reduce the time complexity, that would be great.</p>\n<pre><code>btn_G.onTouchListener(){\n  Case Motion.Action_Down:\n    if(high_octave){ \n\n      if(move){ //if the phone is moving\n      \n        if(sharp){ //if it's a sharp note\n        \n          if(vibrato){ //if it's vibrato\n            Gstream = G.play(loop) //loop a vibrato, sharp, high octave G note\n\n          } else { //if there is no vibrato\n            Gstream = G.play(loop) //loop a normal, sharp, high octave G note\n          }\n          \n        } else { //if all are normal notes, no sharps\n        \n          if(vibrato){ //if there is vibrato\n            Gstream = G.play(loop) //loop a vibrato, normal, high octave G note\n\n          } else { //if there is no vibrato\n            Gstream = G.play(loop) //loop a normal, high octave G note\n          }\n          \n        }\n      } else { //if the phone is not moving\n      //if the phone doesn't move, doesn't matter if there is vibrato or not\n      \n        if(sharp){ //if it's a sharp note\n          Gstream = G.play(once) //play a sharp, high octave G note only once\n\n        } else { //if all are normal notes, no sharps\n          Gstream = G.play(once) //play a normal, high octave G note only once\n        }\n        \n      }\n    } else if(mid_oct){ #middle octave\n        //repeat all of that but with middle octave G note\n\n    } else { #low octave\n        //repeat all of that but with low octave G note\n    }\n  Case Motion.Action_Up:\n    Gstream = G.stop() // stop the audio\n}\n</code></pre>\n<p>That's just for one button. And I have like 8 buttons I need to do this for. I thought of using hash list but to create the list I'll to check conditions like this too so it's gonna be the same, isn't it?</p>\n<p>I also found <a href=\"https://stackoverflow.com/questions/8447658/alternatives-to-embedded-if-statements\">this</a>, but isn't me separating the conditions like that the same as me doing nested if? As in, it would also be really long and repetitive because I have 8 buttons?</p>\n<p>Is there a way to shorten it, even with all the conditions?</p>\n<p>Sorry, I'm kinda new at this.</p>\n"},{"tags":["java","android-studio","textswitcher"],"answers":[{"tags":[],"owner":{"account_id":14357823,"reputation":43,"user_id":10371145,"display_name":"freeday same"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671375835,"creation_date":1670856613,"answer_id":74772923,"question_id":74769879,"body_markdown":"&gt; I found a solution. if it can help someone \r\nI have Implemented the TextSwitcher Dynamically and it works \r\n  https://abhiandroid.com/ui/textswitcher\r\n\r\n&gt; the TextSwitcher gave this error message because it asks to be initialized not by findViewById but \r\nTextSwitcher switcher = new TextSwitcher();\r\nI found the code in the link above ","title":"Getting Null Error message TextSwitcher in RecycleView adapter","body":"<blockquote>\n<p>I found a solution. if it can help someone\nI have Implemented the TextSwitcher Dynamically and it works\n<a href=\"https://abhiandroid.com/ui/textswitcher\" rel=\"nofollow noreferrer\">https://abhiandroid.com/ui/textswitcher</a></p>\n</blockquote>\n<blockquote>\n<p>the TextSwitcher gave this error message because it asks to be initialized not by findViewById but\nTextSwitcher switcher = new TextSwitcher();\nI found the code in the link above</p>\n</blockquote>\n"}],"owner":{"account_id":14357823,"reputation":43,"user_id":10371145,"display_name":"freeday same"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1671375835,"creation_date":1670841704,"question_id":74769879,"body_markdown":"**I&#39;m trying to implement a TextSwitcher in a recyclerView but every time I debug it return an error message :` java.lang.NullPointerException: Attempt to invoke virtual method &#39;android.view.ViewGroup$LayoutParams android.view.View.getLayoutParams()&#39; on a null object reference`\r\n**Here is my Code XML**\r\n\r\n      &lt;TextSwitcher\r\n            android:id=&quot;@+id/textSwitcher_card&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n           &gt;\r\n            &lt;TextView\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginTop=&quot;10dp&quot;\r\n                android:textAlignment=&quot;textStart&quot;\r\n                android:lineSpacingExtra=&quot;5dp&quot;\r\n                android:textColor=&quot;@color/white&quot;\r\n                android:textSize=&quot;@dimen/appbar_padding&quot;\r\n                android:layout_gravity=&quot;start&quot;\r\n                android:text=&quot;&quot;/&gt;\r\n\r\n            &lt;TextView\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginTop=&quot;10dp&quot;\r\n                android:textAlignment=&quot;textStart&quot;\r\n                android:lineSpacingExtra=&quot;5dp&quot;\r\n                android:textColor=&quot;@color/white&quot;\r\n                android:textSize=&quot;@dimen/appbar_padding&quot;\r\n                android:layout_gravity=&quot;start&quot;\r\n               /&gt;\r\n        &lt;/TextSwitcher&gt;\r\n\r\n&gt; Here is my Java Code :onBindViewHolder from RecyclerView Adapter\r\n\r\n      @Override\r\n            protected void onBindViewHolder(@NonNull ViewHolderCard holder, int position, @NonNull ModelBet model) {\r\n       TextSwitcher textSwitcher=holder.getTextSwitcher();\r\n\r\n        //textSwitcher.setText(TEXT[mPosition]);\r\n        textSwitcher.setFactory(new ViewSwitcher.ViewFactory() {\r\n            @Override\r\n            public View makeView() {\r\n                TextView textView=new TextView(context);\r\n                textView.setTextColor(context.getResources().getColor(R.color.white));\r\n                textView.setTextSize(16);\r\n                return null;\r\n            }\r\n        });\r\n            }\r\n    \r\n\r\n&gt; Here my ViewHolder\r\n\r\n    public class ViewHolderCard  extends RecyclerView.ViewHolder {\r\n\r\n    ...\r\n    public TextSwitcher textSwitcher;\r\n\r\n    public ViewHolderCard(@NonNull View itemView) {\r\n        super(itemView);\r\n        view=itemView;\r\n      ...\r\n        textSwitcher=(TextSwitcher)view.findViewById(R.id.textSwitcher_card);\r\n    }\r\n\r\n\r\n    @NonNull\r\n    public TextSwitcher getTextSwitcher() {\r\n        return textSwitcher;\r\n    }\r\n\r\n&gt; While i have initialized my TextSwitcher. I don&#39;t really know where the problem comes from","title":"Getting Null Error message TextSwitcher in RecycleView adapter","body":"<p>**I'm trying to implement a TextSwitcher in a recyclerView but every time I debug it return an error message :<code> java.lang.NullPointerException: Attempt to invoke virtual method 'android.view.ViewGroup$LayoutParams android.view.View.getLayoutParams()' on a null object reference</code>\n<strong>Here is my Code XML</strong></p>\n<pre><code>  &lt;TextSwitcher\n        android:id=&quot;@+id/textSwitcher_card&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n       &gt;\n        &lt;TextView\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginTop=&quot;10dp&quot;\n            android:textAlignment=&quot;textStart&quot;\n            android:lineSpacingExtra=&quot;5dp&quot;\n            android:textColor=&quot;@color/white&quot;\n            android:textSize=&quot;@dimen/appbar_padding&quot;\n            android:layout_gravity=&quot;start&quot;\n            android:text=&quot;&quot;/&gt;\n\n        &lt;TextView\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginTop=&quot;10dp&quot;\n            android:textAlignment=&quot;textStart&quot;\n            android:lineSpacingExtra=&quot;5dp&quot;\n            android:textColor=&quot;@color/white&quot;\n            android:textSize=&quot;@dimen/appbar_padding&quot;\n            android:layout_gravity=&quot;start&quot;\n           /&gt;\n    &lt;/TextSwitcher&gt;\n</code></pre>\n<blockquote>\n<p>Here is my Java Code :onBindViewHolder from RecyclerView Adapter</p>\n</blockquote>\n<pre><code>  @Override\n        protected void onBindViewHolder(@NonNull ViewHolderCard holder, int position, @NonNull ModelBet model) {\n   TextSwitcher textSwitcher=holder.getTextSwitcher();\n\n    //textSwitcher.setText(TEXT[mPosition]);\n    textSwitcher.setFactory(new ViewSwitcher.ViewFactory() {\n        @Override\n        public View makeView() {\n            TextView textView=new TextView(context);\n            textView.setTextColor(context.getResources().getColor(R.color.white));\n            textView.setTextSize(16);\n            return null;\n        }\n    });\n        }\n</code></pre>\n<blockquote>\n<p>Here my ViewHolder</p>\n</blockquote>\n<pre><code>public class ViewHolderCard  extends RecyclerView.ViewHolder {\n\n...\npublic TextSwitcher textSwitcher;\n\npublic ViewHolderCard(@NonNull View itemView) {\n    super(itemView);\n    view=itemView;\n  ...\n    textSwitcher=(TextSwitcher)view.findViewById(R.id.textSwitcher_card);\n}\n\n\n@NonNull\npublic TextSwitcher getTextSwitcher() {\n    return textSwitcher;\n}\n</code></pre>\n<blockquote>\n<p>While i have initialized my TextSwitcher. I don't really know where the problem comes from</p>\n</blockquote>\n"},{"tags":["java","animation","jframe"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1671213949,"post_id":74827716,"comment_id":132058498,"body_markdown":"Animation in Swing is done with a [Swing Timer](https://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html).  [Key Bindings](https://docs.oracle.com/javase/tutorial/uiswing/misc/keybinding.html) are more resilient than key listeners.","body":"Animation in Swing is done with a <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html\" rel=\"nofollow noreferrer\">Swing Timer</a>.  <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/keybinding.html\" rel=\"nofollow noreferrer\">Key Bindings</a> are more resilient than key listeners."}],"answers":[{"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671375585,"creation_date":1671375585,"answer_id":74842384,"question_id":74827716,"body_markdown":"As mentioned in comments, you will need a [Swing Timer](https://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html) to carry out the task. Right now, the `for` loop within the `move()` method is holding up the EDT and you won&#39;t see the panel move. You will only see the final panel position once the EDT is free and can update the GUI.\r\n\r\nIn order to get your code working I would suggest the following:\r\n\r\nGet rid of the `move()` method and its `for` loop. Instead, utilize a counter within a Swing Timer&#39;s **ActionPerformed** event to carry out the similar thing. Below is your code quickly modified to work with a Swing Timer. Read the comments in code:\r\n\r\n```\r\nimport java.awt.Color;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\nimport java.awt.event.KeyEvent;\r\nimport java.awt.event.KeyListener;\r\nimport java.io.IOException;\r\nimport javax.swing.*;\r\n\r\npublic class show{\r\n    static JFrame frame = new JFrame();\r\n    static JPanel panel = new JPanel();\r\n    static Timer animationTimer;       // Swing Timer.\r\n    static int animationSpeed = 100;\r\n    static int counter; \r\n    \r\n    \r\n    public static void main(String[] args) throws IOException, InterruptedException {\r\n        frame.setVisible(true);\r\n        frame.setSize(1500, 500);\r\n        frame.setLayout(null);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.setExtendedState(JFrame.MAXIMIZED_BOTH);\r\n        frame.getContentPane().setBackground(new Color(0, 120, 240));\r\n        \r\n        frame.addKeyListener(new KeyListener() {\r\n            @Override\r\n            public void keyPressed(KeyEvent evt) {\r\n                if(evt.getKeyCode() == KeyEvent.VK_SPACE) {\r\n                    /* Set the panel for location for another restart.\r\n                       Every time the space-Bar is hit the Panel will\r\n                       reset and move down again.                 */\r\n                    panel.setLocation(150,150); \r\n                    \r\n                    // Counter instead of `for` loop:\r\n                    counter = 0;\r\n                    \r\n                    /* Start the Swing Timer. The real work is done within\r\n                       the actionPerformed event of the timer\r\n                    */\r\n                    animationTimer.start();\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void keyTyped(KeyEvent e) {\r\n                // TODO Auto-generated method stub\r\n            }\r\n\r\n            @Override\r\n            public void keyReleased(KeyEvent e) {\r\n                // TODO Auto-generated method stub\r\n            }\r\n            \r\n        });\r\n        \r\n        //setup Panel\r\n        panel.setVisible(true);\r\n        panel.setLocation(150,150);\r\n        panel.setSize(150, 50);\r\n        panel.setBackground(new Color(0,0,0));\r\n        frame.add(panel);\r\n        \r\n        \r\n        // The ActionListern for the Swing Timer ... Used for Animation of Panel.\r\n        ActionListener performTask = new ActionListener() {\r\n            @Override\r\n            public void actionPerformed(ActionEvent evt) {\r\n                panel.setLocation(panel.getLocation().x + 20, panel.getLocation().y + 20);\r\n                \r\n                // If the counter reaches 20 then stop the Swing Timer.\r\n                if (counter == 20) {\r\n                    animationTimer.stop();\r\n                }\r\n                /* Incremant the counter by 1 upon each timer cycle. \r\n                   The Timer Delay is set with the animationSpeed \r\n                   member variable which is currently set to 100 \r\n                   milliseconds. So, every100 milliseconds the \r\n                   counter is incremented and the panel is moved\r\n                   upon the next cycle.                */\r\n                counter++;\r\n            }\r\n        };\r\n        \r\n        /* The swing timer delay time (100 milliseconds) and the ActionListener\r\n           (performTask) which contains the ActionPerformed event that will be \r\n           fired on each timer cycle. The Timer will continuously cycle every \r\n           100 milliseconds until told to Stop.        */\r\n        animationTimer = new Timer(animationSpeed, performTask);\r\n    }\r\n}\r\n```\r\n\r\n----------\r\n\r\nHere is another version of your code which allows you to move the panel in different directions within the Window. The panel is always in continuous motion unless you select the Keyboard Number Pad &lt;kbd&gt;5&lt;/kbd&gt; button which pauses the animation or the &lt;kbd&gt;ESCAPE&lt;/kbd&gt; key which stops the animation altogether. The &lt;kbd&gt;Space Bar&lt;/kbd&gt; restarts the animation after it has been stopped. Other Number Pad keys and cursor keys move the panel in specific directions. If you just let the panel float around, when it hits a window edge, it will randomly change to any one of three opposing directions. The Number Pad &lt;kbd&gt;+&lt;/kbd&gt; and &lt;kbd&gt;-&lt;/kbd&gt; keys increases and decreases the movement increments of the Panel and the Keyboard &lt;kbd&gt;=&lt;/kbd&gt; and &lt;kbd&gt;-&lt;/kbd&gt; keys will increase and decrease the Swing Timer Delay Rate (in essance, the Animation Speed).\r\n\r\nHere is the example code:\r\n\r\n```\r\nimport java.awt.Color;\r\nimport java.awt.FlowLayout;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\nimport java.awt.event.KeyEvent;\r\nimport java.awt.event.KeyListener;\r\nimport java.util.Arrays;\r\nimport java.util.concurrent.ThreadLocalRandom;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JLabel;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.Timer;\r\n\r\n\r\npublic class Show {\r\n\r\n    JFrame frame = new JFrame();\r\n    JPanel panel = new JPanel();\r\n    JLabel animationSpeedLbl;\r\n    JLabel label;\r\n    Timer animationTimer;\r\n    \r\n    int animationSpeed = 5, increment = 1;\r\n    int curX = 0, curY = 0, key = 0;\r\n    java.util.List&lt;Integer&gt; allowablekeys = Arrays.asList(\r\n            KeyEvent.VK_SPACE, KeyEvent.VK_ESCAPE, KeyEvent.VK_UP, KeyEvent.VK_DOWN,\r\n            KeyEvent.VK_LEFT, KeyEvent.VK_RIGHT, KeyEvent.VK_NUMPAD7, KeyEvent.VK_NUMPAD8,\r\n            KeyEvent.VK_NUMPAD9, KeyEvent.VK_NUMPAD4, KeyEvent.VK_NUMPAD5, KeyEvent.VK_NUMPAD6,\r\n            KeyEvent.VK_NUMPAD1, KeyEvent.VK_NUMPAD2, KeyEvent.VK_NUMPAD3, KeyEvent.VK_ADD,\r\n            KeyEvent.VK_SUBTRACT, KeyEvent.VK_EQUALS, KeyEvent.VK_MINUS);\r\n\r\n    public static void main(String[] args) {\r\n        new Show().startApp(args);\r\n    }\r\n\r\n    private void startApp(String[] args) {\r\n        //setup Frame\r\n        frame.setLayout(new FlowLayout());\r\n        frame.setPreferredSize(new java.awt.Dimension(800, 700));\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        //frame.setExtendedState(JFrame.MAXIMIZED_BOTH);\r\n        frame.getContentPane().setBackground(new Color(0, 120, 240));\r\n        frame.addKeyListener(new KeyListener() {\r\n            @Override\r\n            public void keyPressed(KeyEvent e) {\r\n                int curKey = -1;\r\n                if (animationTimer.isRunning()) {\r\n                    curKey = key;\r\n                }\r\n                int keyNum = e.getKeyCode();\r\n\r\n                if (!allowablekeys.contains(keyNum)) {\r\n                    return;\r\n                }\r\n                key = keyNum;\r\n                System.out.println(key);\r\n\r\n                switch (key) {\r\n                    case KeyEvent.VK_SPACE:\r\n                        if (!animationTimer.isRunning()) {\r\n                            key = KeyEvent.VK_DOWN;\r\n                            label.setText(&quot;&lt;html&gt;&lt;center&gt;&lt;font size=&#39;2&#39; color=#DCDCDC&gt;&quot;\r\n                                    + &quot;Press Numpad Keys To&lt;br&gt;Change Direction&lt;/html&gt;&quot;);\r\n                            animationTimer.start();\r\n                        } break;\r\n                    case KeyEvent.VK_ESCAPE:\r\n                        if (animationTimer.isRunning()) {\r\n                            animationTimer.stop();\r\n                        } break;\r\n                        \r\n                    case KeyEvent.VK_ADD:\r\n                        if (animationTimer.isRunning()) {\r\n                            increment++;\r\n                            if (increment &gt; 50) {\r\n                                // Max allowable is an increment of 50. You can change this.\r\n                                increment = 50;\r\n                            }\r\n                            key = curKey;\r\n                        } break;\r\n                        \r\n                    case KeyEvent.VK_SUBTRACT:\r\n                        if (animationTimer.isRunning()) {\r\n                            increment--;\r\n                            if (increment &lt; 0) {\r\n                                // Min allowable is an increment of 0. You can change this.\r\n                                increment = 0;\r\n                            }\r\n                            key = curKey;\r\n                            key = curKey;\r\n                        } break;\r\n                        \r\n                    case KeyEvent.VK_EQUALS:\r\n                        if (animationTimer.isRunning()) {\r\n                            animationSpeed++;\r\n                            animationTimer.setDelay(animationSpeed);\r\n                            if (animationSpeed &gt; 1000) {\r\n                                // Max allowable is an increment of 50. You can change this.\r\n                                animationSpeed = 1000;\r\n                            }\r\n                            key = curKey;\r\n                        } break;\r\n                    \r\n                    case KeyEvent.VK_MINUS:\r\n                        if (animationTimer.isRunning()) {\r\n                            animationSpeed--;\r\n                            if (animationSpeed &lt; 0) {\r\n                                /* Min allowable is an Animation Speed of 0. You can not \r\n                                   go less than 0. Since the value is a delay time ( in \r\n                                   milliseconds), the lower the number, the faster the\r\n                                   animation.                               */\r\n                                animationSpeed = 0;\r\n                            }\r\n                            animationTimer.setDelay(animationSpeed);\r\n                            key = curKey;\r\n                        } break;\r\n                    default:\r\n                        break;\r\n                }\r\n                frame.setTitle(&quot;Animation Speed: &quot; + animationSpeed  + &quot;  (Keyboard =/- to change)&quot;\r\n                             + &quot;  |  Increment Level: &quot; + increment + &quot;  (Number Pad +/- to change)&quot;);\r\n            }\r\n\r\n            @Override\r\n            public void keyTyped(KeyEvent e) {\r\n                // Do nothing\r\n\r\n            }\r\n\r\n            @Override\r\n            public void keyReleased(KeyEvent e) {\r\n                // Do Nothing\r\n            }\r\n        });\r\n        \r\n        //setup Panel\r\n        panel.setPreferredSize(new java.awt.Dimension(150, 50));\r\n        panel.setBackground(new Color(0, 0, 0));\r\n        \r\n        label = new JLabel(&quot;&lt;html&gt;&lt;center&gt;&lt;font size=&#39;2&#39; color=#DCDCDC&gt;&quot;\r\n                         + &quot;Press Space-Bar To&lt;br&gt;Start Animation&lt;/html&gt;&quot;);\r\n        label.setForeground(Color.white);\r\n        panel.add(label);\r\n        frame.add(panel);\r\n        frame.pack();\r\n\r\n        // Using a Swing Timer...for animation\r\n        ActionListener performTask = new ActionListener() {\r\n            @Override\r\n            public void actionPerformed(ActionEvent evt) {\r\n                // Random directional Options:\r\n                int[] upOptions = {KeyEvent.VK_NUMPAD7, KeyEvent.VK_NUMPAD8, KeyEvent.VK_NUMPAD9};\r\n                int[] downOptions = {KeyEvent.VK_NUMPAD1, KeyEvent.VK_NUMPAD2, KeyEvent.VK_NUMPAD3};\r\n                int[] leftOptions = {KeyEvent.VK_NUMPAD7, KeyEvent.VK_NUMPAD4, KeyEvent.VK_NUMPAD1};\r\n                int[] rightOptions = {KeyEvent.VK_NUMPAD9, KeyEvent.VK_NUMPAD6, KeyEvent.VK_NUMPAD3};\r\n                switch (key) {\r\n                    case KeyEvent.VK_NUMPAD7:\r\n                        curX = panel.getLocation().x - increment;\r\n                        curY = panel.getLocation().y - increment;\r\n                        break;\r\n                    case KeyEvent.VK_NUMPAD8:\r\n                    case KeyEvent.VK_UP:\r\n                        curX = panel.getLocation().x;\r\n                        curY = panel.getLocation().y - increment;\r\n                        break;\r\n                    case KeyEvent.VK_NUMPAD9:\r\n                        curX = panel.getLocation().x + increment;\r\n                        curY = panel.getLocation().y - increment;\r\n                        break;\r\n                    case KeyEvent.VK_NUMPAD2:\r\n                    case KeyEvent.VK_DOWN:\r\n                        curX = panel.getLocation().x;\r\n                        curY = panel.getLocation().y + increment;\r\n                        break;\r\n                    case KeyEvent.VK_NUMPAD1:\r\n                        curX = panel.getLocation().x - increment;\r\n                        curY = panel.getLocation().y + increment;\r\n                        break;\r\n                    case KeyEvent.VK_NUMPAD4:\r\n                    case KeyEvent.VK_LEFT:\r\n                        curX = panel.getLocation().x - increment;\r\n                        curY = panel.getLocation().y;\r\n                        break;\r\n                    case KeyEvent.VK_NUMPAD6:\r\n                    case KeyEvent.VK_RIGHT:\r\n                        curX = panel.getLocation().x + increment;\r\n                        curY = panel.getLocation().y;\r\n                        break;\r\n                    case KeyEvent.VK_NUMPAD3:\r\n                        curX = panel.getLocation().x + increment;\r\n                        curY = panel.getLocation().y + increment;\r\n                        break;\r\n                    default:\r\n                        return;\r\n                }\r\n\r\n                if (panel.getLocation().x &lt;= 0 + increment) {\r\n                    key = rightOptions[ThreadLocalRandom.current().nextInt(0, rightOptions.length)];\r\n                    switch (key) {\r\n                        case KeyEvent.VK_NUMPAD6:\r\n                            curX = panel.getLocation().x + increment;\r\n                            curY = panel.getLocation().y;\r\n                            break;\r\n                        case KeyEvent.VK_NUMPAD9:\r\n                            curX = panel.getLocation().x + increment;\r\n                            curY = panel.getLocation().y + increment;\r\n                            break;\r\n                        case KeyEvent.VK_NUMPAD3:\r\n                            curX = panel.getLocation().x + increment;\r\n                            curY = panel.getLocation().y - increment;\r\n                            break;\r\n                        default:\r\n                            key = KeyEvent.VK_NUMPAD6;\r\n                            curX = panel.getLocation().x + increment;\r\n                            curY = panel.getLocation().y;\r\n                            break;\r\n                    }\r\n                }\r\n\r\n                else if (panel.getLocation().x &gt;= (frame.getContentPane().getWidth() - panel.getWidth() - increment)) {\r\n                    key = leftOptions[ThreadLocalRandom.current().nextInt(0, leftOptions.length)];\r\n                    switch (key) {\r\n                        case KeyEvent.VK_NUMPAD4:\r\n                            curX = panel.getLocation().x - increment;\r\n                            curY = panel.getLocation().y;\r\n                            break;\r\n                        case KeyEvent.VK_NUMPAD7:\r\n                            curX = panel.getLocation().x - increment;\r\n                            curY = panel.getLocation().y - increment;\r\n                            break;\r\n                        case KeyEvent.VK_NUMPAD1:\r\n                            curX = panel.getLocation().x - increment;\r\n                            curY = panel.getLocation().y + increment;\r\n                            break;\r\n                        default:\r\n                            key = KeyEvent.VK_NUMPAD4;\r\n                            curX = panel.getLocation().x - increment;\r\n                            curY = panel.getLocation().y;\r\n                            break;\r\n                    }\r\n                }\r\n                else if (panel.getLocation().y &lt;= 0) {\r\n                    key = downOptions[ThreadLocalRandom.current().nextInt(0, downOptions.length)];\r\n                    switch (key) {\r\n                        case KeyEvent.VK_NUMPAD2:\r\n                            curX = panel.getLocation().x;\r\n                            curY = panel.getLocation().y + increment;\r\n                            break;\r\n                        case KeyEvent.VK_NUMPAD1:\r\n                            curX = panel.getLocation().x - increment;\r\n                            curY = panel.getLocation().y + increment;\r\n                            break;\r\n                        case KeyEvent.VK_NUMPAD3:\r\n                            curX = panel.getLocation().x + increment;\r\n                            curY = panel.getLocation().y + increment;\r\n                            break;\r\n                        default:\r\n                            key = KeyEvent.VK_NUMPAD2;\r\n                            curX = panel.getLocation().x;\r\n                            curY = panel.getLocation().y + increment;\r\n                            break;\r\n                    }\r\n                }\r\n                else if (panel.getLocation().y &gt;= (frame.getContentPane().getHeight() - panel.getHeight() - increment)) {\r\n                    key = upOptions[ThreadLocalRandom.current().nextInt(0, upOptions.length)];\r\n                    switch (key) {\r\n                        case KeyEvent.VK_NUMPAD8:\r\n                            curX = panel.getLocation().x;\r\n                            curY = panel.getLocation().y - increment;\r\n                            break;\r\n                        case KeyEvent.VK_NUMPAD7:\r\n                            curX = panel.getLocation().x - increment;\r\n                            curY = panel.getLocation().y - increment;\r\n                            break;\r\n                        case KeyEvent.VK_NUMPAD9:\r\n                            curX = panel.getLocation().x + increment;\r\n                            curY = panel.getLocation().y - increment;\r\n                            break;\r\n                        default:\r\n                            key = KeyEvent.VK_NUMPAD8;\r\n                            curX = panel.getLocation().x;\r\n                            curY = panel.getLocation().y - increment;\r\n                            break;\r\n                    }\r\n                }\r\n                panel.setLocation(curX, curY);\r\n            }\r\n        };\r\n        animationTimer = new Timer(animationSpeed, performTask);\r\n        \r\n        java.awt.EventQueue.invokeLater(() -&gt; {\r\n            frame.setVisible(true);\r\n            frame.setLocationRelativeTo(null);\r\n        });\r\n    }\r\n}\r\n```","title":"Update JLabel on JFrame using action-started for-loop not working (repainting)","body":"<p>As mentioned in comments, you will need a <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html\" rel=\"nofollow noreferrer\">Swing Timer</a> to carry out the task. Right now, the <code>for</code> loop within the <code>move()</code> method is holding up the EDT and you won't see the panel move. You will only see the final panel position once the EDT is free and can update the GUI.</p>\n<p>In order to get your code working I would suggest the following:</p>\n<p>Get rid of the <code>move()</code> method and its <code>for</code> loop. Instead, utilize a counter within a Swing Timer's <strong>ActionPerformed</strong> event to carry out the similar thing. Below is your code quickly modified to work with a Swing Timer. Read the comments in code:</p>\n<pre><code>import java.awt.Color;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.event.KeyEvent;\nimport java.awt.event.KeyListener;\nimport java.io.IOException;\nimport javax.swing.*;\n\npublic class show{\n    static JFrame frame = new JFrame();\n    static JPanel panel = new JPanel();\n    static Timer animationTimer;       // Swing Timer.\n    static int animationSpeed = 100;\n    static int counter; \n    \n    \n    public static void main(String[] args) throws IOException, InterruptedException {\n        frame.setVisible(true);\n        frame.setSize(1500, 500);\n        frame.setLayout(null);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setExtendedState(JFrame.MAXIMIZED_BOTH);\n        frame.getContentPane().setBackground(new Color(0, 120, 240));\n        \n        frame.addKeyListener(new KeyListener() {\n            @Override\n            public void keyPressed(KeyEvent evt) {\n                if(evt.getKeyCode() == KeyEvent.VK_SPACE) {\n                    /* Set the panel for location for another restart.\n                       Every time the space-Bar is hit the Panel will\n                       reset and move down again.                 */\n                    panel.setLocation(150,150); \n                    \n                    // Counter instead of `for` loop:\n                    counter = 0;\n                    \n                    /* Start the Swing Timer. The real work is done within\n                       the actionPerformed event of the timer\n                    */\n                    animationTimer.start();\n                }\n            }\n\n            @Override\n            public void keyTyped(KeyEvent e) {\n                // TODO Auto-generated method stub\n            }\n\n            @Override\n            public void keyReleased(KeyEvent e) {\n                // TODO Auto-generated method stub\n            }\n            \n        });\n        \n        //setup Panel\n        panel.setVisible(true);\n        panel.setLocation(150,150);\n        panel.setSize(150, 50);\n        panel.setBackground(new Color(0,0,0));\n        frame.add(panel);\n        \n        \n        // The ActionListern for the Swing Timer ... Used for Animation of Panel.\n        ActionListener performTask = new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent evt) {\n                panel.setLocation(panel.getLocation().x + 20, panel.getLocation().y + 20);\n                \n                // If the counter reaches 20 then stop the Swing Timer.\n                if (counter == 20) {\n                    animationTimer.stop();\n                }\n                /* Incremant the counter by 1 upon each timer cycle. \n                   The Timer Delay is set with the animationSpeed \n                   member variable which is currently set to 100 \n                   milliseconds. So, every100 milliseconds the \n                   counter is incremented and the panel is moved\n                   upon the next cycle.                */\n                counter++;\n            }\n        };\n        \n        /* The swing timer delay time (100 milliseconds) and the ActionListener\n           (performTask) which contains the ActionPerformed event that will be \n           fired on each timer cycle. The Timer will continuously cycle every \n           100 milliseconds until told to Stop.        */\n        animationTimer = new Timer(animationSpeed, performTask);\n    }\n}\n</code></pre>\n<hr />\n<p>Here is another version of your code which allows you to move the panel in different directions within the Window. The panel is always in continuous motion unless you select the Keyboard Number Pad <kbd>5</kbd> button which pauses the animation or the <kbd>ESCAPE</kbd> key which stops the animation altogether. The <kbd>Space Bar</kbd> restarts the animation after it has been stopped. Other Number Pad keys and cursor keys move the panel in specific directions. If you just let the panel float around, when it hits a window edge, it will randomly change to any one of three opposing directions. The Number Pad <kbd>+</kbd> and <kbd>-</kbd> keys increases and decreases the movement increments of the Panel and the Keyboard <kbd>=</kbd> and <kbd>-</kbd> keys will increase and decrease the Swing Timer Delay Rate (in essance, the Animation Speed).</p>\n<p>Here is the example code:</p>\n<pre><code>import java.awt.Color;\nimport java.awt.FlowLayout;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.event.KeyEvent;\nimport java.awt.event.KeyListener;\nimport java.util.Arrays;\nimport java.util.concurrent.ThreadLocalRandom;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.Timer;\n\n\npublic class Show {\n\n    JFrame frame = new JFrame();\n    JPanel panel = new JPanel();\n    JLabel animationSpeedLbl;\n    JLabel label;\n    Timer animationTimer;\n    \n    int animationSpeed = 5, increment = 1;\n    int curX = 0, curY = 0, key = 0;\n    java.util.List&lt;Integer&gt; allowablekeys = Arrays.asList(\n            KeyEvent.VK_SPACE, KeyEvent.VK_ESCAPE, KeyEvent.VK_UP, KeyEvent.VK_DOWN,\n            KeyEvent.VK_LEFT, KeyEvent.VK_RIGHT, KeyEvent.VK_NUMPAD7, KeyEvent.VK_NUMPAD8,\n            KeyEvent.VK_NUMPAD9, KeyEvent.VK_NUMPAD4, KeyEvent.VK_NUMPAD5, KeyEvent.VK_NUMPAD6,\n            KeyEvent.VK_NUMPAD1, KeyEvent.VK_NUMPAD2, KeyEvent.VK_NUMPAD3, KeyEvent.VK_ADD,\n            KeyEvent.VK_SUBTRACT, KeyEvent.VK_EQUALS, KeyEvent.VK_MINUS);\n\n    public static void main(String[] args) {\n        new Show().startApp(args);\n    }\n\n    private void startApp(String[] args) {\n        //setup Frame\n        frame.setLayout(new FlowLayout());\n        frame.setPreferredSize(new java.awt.Dimension(800, 700));\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        //frame.setExtendedState(JFrame.MAXIMIZED_BOTH);\n        frame.getContentPane().setBackground(new Color(0, 120, 240));\n        frame.addKeyListener(new KeyListener() {\n            @Override\n            public void keyPressed(KeyEvent e) {\n                int curKey = -1;\n                if (animationTimer.isRunning()) {\n                    curKey = key;\n                }\n                int keyNum = e.getKeyCode();\n\n                if (!allowablekeys.contains(keyNum)) {\n                    return;\n                }\n                key = keyNum;\n                System.out.println(key);\n\n                switch (key) {\n                    case KeyEvent.VK_SPACE:\n                        if (!animationTimer.isRunning()) {\n                            key = KeyEvent.VK_DOWN;\n                            label.setText(&quot;&lt;html&gt;&lt;center&gt;&lt;font size='2' color=#DCDCDC&gt;&quot;\n                                    + &quot;Press Numpad Keys To&lt;br&gt;Change Direction&lt;/html&gt;&quot;);\n                            animationTimer.start();\n                        } break;\n                    case KeyEvent.VK_ESCAPE:\n                        if (animationTimer.isRunning()) {\n                            animationTimer.stop();\n                        } break;\n                        \n                    case KeyEvent.VK_ADD:\n                        if (animationTimer.isRunning()) {\n                            increment++;\n                            if (increment &gt; 50) {\n                                // Max allowable is an increment of 50. You can change this.\n                                increment = 50;\n                            }\n                            key = curKey;\n                        } break;\n                        \n                    case KeyEvent.VK_SUBTRACT:\n                        if (animationTimer.isRunning()) {\n                            increment--;\n                            if (increment &lt; 0) {\n                                // Min allowable is an increment of 0. You can change this.\n                                increment = 0;\n                            }\n                            key = curKey;\n                            key = curKey;\n                        } break;\n                        \n                    case KeyEvent.VK_EQUALS:\n                        if (animationTimer.isRunning()) {\n                            animationSpeed++;\n                            animationTimer.setDelay(animationSpeed);\n                            if (animationSpeed &gt; 1000) {\n                                // Max allowable is an increment of 50. You can change this.\n                                animationSpeed = 1000;\n                            }\n                            key = curKey;\n                        } break;\n                    \n                    case KeyEvent.VK_MINUS:\n                        if (animationTimer.isRunning()) {\n                            animationSpeed--;\n                            if (animationSpeed &lt; 0) {\n                                /* Min allowable is an Animation Speed of 0. You can not \n                                   go less than 0. Since the value is a delay time ( in \n                                   milliseconds), the lower the number, the faster the\n                                   animation.                               */\n                                animationSpeed = 0;\n                            }\n                            animationTimer.setDelay(animationSpeed);\n                            key = curKey;\n                        } break;\n                    default:\n                        break;\n                }\n                frame.setTitle(&quot;Animation Speed: &quot; + animationSpeed  + &quot;  (Keyboard =/- to change)&quot;\n                             + &quot;  |  Increment Level: &quot; + increment + &quot;  (Number Pad +/- to change)&quot;);\n            }\n\n            @Override\n            public void keyTyped(KeyEvent e) {\n                // Do nothing\n\n            }\n\n            @Override\n            public void keyReleased(KeyEvent e) {\n                // Do Nothing\n            }\n        });\n        \n        //setup Panel\n        panel.setPreferredSize(new java.awt.Dimension(150, 50));\n        panel.setBackground(new Color(0, 0, 0));\n        \n        label = new JLabel(&quot;&lt;html&gt;&lt;center&gt;&lt;font size='2' color=#DCDCDC&gt;&quot;\n                         + &quot;Press Space-Bar To&lt;br&gt;Start Animation&lt;/html&gt;&quot;);\n        label.setForeground(Color.white);\n        panel.add(label);\n        frame.add(panel);\n        frame.pack();\n\n        // Using a Swing Timer...for animation\n        ActionListener performTask = new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent evt) {\n                // Random directional Options:\n                int[] upOptions = {KeyEvent.VK_NUMPAD7, KeyEvent.VK_NUMPAD8, KeyEvent.VK_NUMPAD9};\n                int[] downOptions = {KeyEvent.VK_NUMPAD1, KeyEvent.VK_NUMPAD2, KeyEvent.VK_NUMPAD3};\n                int[] leftOptions = {KeyEvent.VK_NUMPAD7, KeyEvent.VK_NUMPAD4, KeyEvent.VK_NUMPAD1};\n                int[] rightOptions = {KeyEvent.VK_NUMPAD9, KeyEvent.VK_NUMPAD6, KeyEvent.VK_NUMPAD3};\n                switch (key) {\n                    case KeyEvent.VK_NUMPAD7:\n                        curX = panel.getLocation().x - increment;\n                        curY = panel.getLocation().y - increment;\n                        break;\n                    case KeyEvent.VK_NUMPAD8:\n                    case KeyEvent.VK_UP:\n                        curX = panel.getLocation().x;\n                        curY = panel.getLocation().y - increment;\n                        break;\n                    case KeyEvent.VK_NUMPAD9:\n                        curX = panel.getLocation().x + increment;\n                        curY = panel.getLocation().y - increment;\n                        break;\n                    case KeyEvent.VK_NUMPAD2:\n                    case KeyEvent.VK_DOWN:\n                        curX = panel.getLocation().x;\n                        curY = panel.getLocation().y + increment;\n                        break;\n                    case KeyEvent.VK_NUMPAD1:\n                        curX = panel.getLocation().x - increment;\n                        curY = panel.getLocation().y + increment;\n                        break;\n                    case KeyEvent.VK_NUMPAD4:\n                    case KeyEvent.VK_LEFT:\n                        curX = panel.getLocation().x - increment;\n                        curY = panel.getLocation().y;\n                        break;\n                    case KeyEvent.VK_NUMPAD6:\n                    case KeyEvent.VK_RIGHT:\n                        curX = panel.getLocation().x + increment;\n                        curY = panel.getLocation().y;\n                        break;\n                    case KeyEvent.VK_NUMPAD3:\n                        curX = panel.getLocation().x + increment;\n                        curY = panel.getLocation().y + increment;\n                        break;\n                    default:\n                        return;\n                }\n\n                if (panel.getLocation().x &lt;= 0 + increment) {\n                    key = rightOptions[ThreadLocalRandom.current().nextInt(0, rightOptions.length)];\n                    switch (key) {\n                        case KeyEvent.VK_NUMPAD6:\n                            curX = panel.getLocation().x + increment;\n                            curY = panel.getLocation().y;\n                            break;\n                        case KeyEvent.VK_NUMPAD9:\n                            curX = panel.getLocation().x + increment;\n                            curY = panel.getLocation().y + increment;\n                            break;\n                        case KeyEvent.VK_NUMPAD3:\n                            curX = panel.getLocation().x + increment;\n                            curY = panel.getLocation().y - increment;\n                            break;\n                        default:\n                            key = KeyEvent.VK_NUMPAD6;\n                            curX = panel.getLocation().x + increment;\n                            curY = panel.getLocation().y;\n                            break;\n                    }\n                }\n\n                else if (panel.getLocation().x &gt;= (frame.getContentPane().getWidth() - panel.getWidth() - increment)) {\n                    key = leftOptions[ThreadLocalRandom.current().nextInt(0, leftOptions.length)];\n                    switch (key) {\n                        case KeyEvent.VK_NUMPAD4:\n                            curX = panel.getLocation().x - increment;\n                            curY = panel.getLocation().y;\n                            break;\n                        case KeyEvent.VK_NUMPAD7:\n                            curX = panel.getLocation().x - increment;\n                            curY = panel.getLocation().y - increment;\n                            break;\n                        case KeyEvent.VK_NUMPAD1:\n                            curX = panel.getLocation().x - increment;\n                            curY = panel.getLocation().y + increment;\n                            break;\n                        default:\n                            key = KeyEvent.VK_NUMPAD4;\n                            curX = panel.getLocation().x - increment;\n                            curY = panel.getLocation().y;\n                            break;\n                    }\n                }\n                else if (panel.getLocation().y &lt;= 0) {\n                    key = downOptions[ThreadLocalRandom.current().nextInt(0, downOptions.length)];\n                    switch (key) {\n                        case KeyEvent.VK_NUMPAD2:\n                            curX = panel.getLocation().x;\n                            curY = panel.getLocation().y + increment;\n                            break;\n                        case KeyEvent.VK_NUMPAD1:\n                            curX = panel.getLocation().x - increment;\n                            curY = panel.getLocation().y + increment;\n                            break;\n                        case KeyEvent.VK_NUMPAD3:\n                            curX = panel.getLocation().x + increment;\n                            curY = panel.getLocation().y + increment;\n                            break;\n                        default:\n                            key = KeyEvent.VK_NUMPAD2;\n                            curX = panel.getLocation().x;\n                            curY = panel.getLocation().y + increment;\n                            break;\n                    }\n                }\n                else if (panel.getLocation().y &gt;= (frame.getContentPane().getHeight() - panel.getHeight() - increment)) {\n                    key = upOptions[ThreadLocalRandom.current().nextInt(0, upOptions.length)];\n                    switch (key) {\n                        case KeyEvent.VK_NUMPAD8:\n                            curX = panel.getLocation().x;\n                            curY = panel.getLocation().y - increment;\n                            break;\n                        case KeyEvent.VK_NUMPAD7:\n                            curX = panel.getLocation().x - increment;\n                            curY = panel.getLocation().y - increment;\n                            break;\n                        case KeyEvent.VK_NUMPAD9:\n                            curX = panel.getLocation().x + increment;\n                            curY = panel.getLocation().y - increment;\n                            break;\n                        default:\n                            key = KeyEvent.VK_NUMPAD8;\n                            curX = panel.getLocation().x;\n                            curY = panel.getLocation().y - increment;\n                            break;\n                    }\n                }\n                panel.setLocation(curX, curY);\n            }\n        };\n        animationTimer = new Timer(animationSpeed, performTask);\n        \n        java.awt.EventQueue.invokeLater(() -&gt; {\n            frame.setVisible(true);\n            frame.setLocationRelativeTo(null);\n        });\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":25864862,"reputation":1,"user_id":19596731,"display_name":"soxs"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671375585,"creation_date":1671210946,"question_id":74827716,"body_markdown":"```\r\nimport java.awt.Color;\r\nimport java.awt.event.KeyEvent;\r\nimport java.awt.event.KeyListener;\r\nimport java.io.IOException;\r\nimport javax.swing.*;\r\n\r\npublic class show{\r\n\t\r\n\tstatic JFrame frame = new JFrame();\r\n\tstatic JPanel panel = new JPanel();\r\n\t\r\n\tpublic static void main(String[] args) throws IOException, InterruptedException {\r\n\t\t\r\n                //setup Frame\r\n\t\tframe.setVisible(true);\r\n\t\tframe.setSize(1500, 500);\r\n\t\tframe.setLayout(null);\r\n\t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\tframe.setExtendedState(JFrame.MAXIMIZED_BOTH);\r\n\t\tframe.getContentPane().setBackground(new Color(0,120,240));\r\n\t\tframe.addKeyListener(new KeyListener() {\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void keyPressed(KeyEvent e) {\r\n\t\t\t\t\r\n\t\t\t\tif(e.getKeyCode() == KeyEvent.VK_SPACE) {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tmove();\r\n\t\t\t\t\t} catch (InterruptedException e1) {\r\n\t\t\t\t\t\te1.printStackTrace();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void keyTyped(KeyEvent e) {\r\n\t\t\t\t// TODO Auto-generated method stub\r\n\t\t\t\t\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void keyReleased(KeyEvent e) {\r\n\t\t\t\t// TODO Auto-generated method stub\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t});\r\n\t\t\r\n\t\t//setup Panel\r\n\t\tpanel.setVisible(true);\r\n\t\tpanel.setLocation(150,150);\r\n\t\tpanel.setSize(150, 50);\r\n\t\tpanel.setBackground(new Color(0,0,0));\r\n\t\tframe.add(panel);\r\n\t\t\r\n\t\tframe.repaint();\r\n\t}\r\n\t\r\n\tpublic static void move() throws InterruptedException {\r\n\t\tfor(int i=0;i&lt;20;i++) {\r\n\t\t\tpanel.setLocation(panel.getLocation().x+20,panel.getLocation().y+20);\r\n\t\t\tThread.sleep(100);\r\n\t\t\tframe.repaint();\r\n\t\t}\r\n\t}\r\n\t\r\n}\r\n```\r\n\r\nHi guys,\r\n\r\nwhen I try to update a JLabel/JButton/JPanel using a action-started (ex. key-press) for-loop, it first updates the frame after the for loop is over, even though I update the frame in the for-loop with frame.repaint()...\r\n\r\nI couldn&#39;t find any posts to this problem...\r\n\r\nWhat can I do?\r\n\r\npls help!","title":"Update JLabel on JFrame using action-started for-loop not working (repainting)","body":"<pre><code>import java.awt.Color;\nimport java.awt.event.KeyEvent;\nimport java.awt.event.KeyListener;\nimport java.io.IOException;\nimport javax.swing.*;\n\npublic class show{\n    \n    static JFrame frame = new JFrame();\n    static JPanel panel = new JPanel();\n    \n    public static void main(String[] args) throws IOException, InterruptedException {\n        \n                //setup Frame\n        frame.setVisible(true);\n        frame.setSize(1500, 500);\n        frame.setLayout(null);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setExtendedState(JFrame.MAXIMIZED_BOTH);\n        frame.getContentPane().setBackground(new Color(0,120,240));\n        frame.addKeyListener(new KeyListener() {\n\n            @Override\n            public void keyPressed(KeyEvent e) {\n                \n                if(e.getKeyCode() == KeyEvent.VK_SPACE) {\n                    try {\n                        move();\n                    } catch (InterruptedException e1) {\n                        e1.printStackTrace();\n                    }\n                }\n                \n            }\n\n            @Override\n            public void keyTyped(KeyEvent e) {\n                // TODO Auto-generated method stub\n                \n            }\n\n            @Override\n            public void keyReleased(KeyEvent e) {\n                // TODO Auto-generated method stub\n                \n            }\n            \n        });\n        \n        //setup Panel\n        panel.setVisible(true);\n        panel.setLocation(150,150);\n        panel.setSize(150, 50);\n        panel.setBackground(new Color(0,0,0));\n        frame.add(panel);\n        \n        frame.repaint();\n    }\n    \n    public static void move() throws InterruptedException {\n        for(int i=0;i&lt;20;i++) {\n            panel.setLocation(panel.getLocation().x+20,panel.getLocation().y+20);\n            Thread.sleep(100);\n            frame.repaint();\n        }\n    }\n    \n}\n</code></pre>\n<p>Hi guys,</p>\n<p>when I try to update a JLabel/JButton/JPanel using a action-started (ex. key-press) for-loop, it first updates the frame after the for loop is over, even though I update the frame in the for-loop with frame.repaint()...</p>\n<p>I couldn't find any posts to this problem...</p>\n<p>What can I do?</p>\n<p>pls help!</p>\n"},{"tags":["java","selenium","selenium-webdriver","web-scraping"],"comments":[{"owner":{"account_id":25304395,"reputation":25,"user_id":19128164,"display_name":"David"},"score":0,"creation_date":1671371616,"post_id":74841393,"comment_id":132080990,"body_markdown":"https://golden.com/query/list-of-software-as-a-service-companies-BMY","body":"<a href=\"https://golden.com/query/list-of-software-as-a-service-companies-BMY\" rel=\"nofollow noreferrer\">golden.com/query/list-of-software-as-a-service-companies-BMY</a>"}],"answers":[{"tags":[],"owner":{"account_id":13920126,"reputation":1489,"user_id":10050775,"display_name":"Jaky Ruby"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671375398,"creation_date":1671374710,"answer_id":74842277,"question_id":74841393,"body_markdown":"Try with: \r\n\r\n    customWebDriver.getWebDriver().findElement(By.xpath(&quot;//button[@class=&#39;css-19a323y&#39;]//following-sibling::button[1]&quot;)).click();\r\n\r\n**Explanation of Xpath:** A button with class css-19a323y (Which is the current selected page) and then selecting the following button (Which is the next available page)\r\n\r\nAlso use more time for `Thread.sleep(3000);` because sometimes when you make pagination it takes more time, so better add more time, or using WebdriverWait and Expected conditions, here an example: \r\n\r\n    WebDriverWait wait = new WebDriverWait(webDriver, timeoutInSeconds);\r\n    wait.until(ExpectedConditions.elementToBeClickable(By.id&lt;locator&gt;));","title":"Java Selenium - navigating with the website&#39;s page-navigator gets stuck","body":"<p>Try with:</p>\n<pre><code>customWebDriver.getWebDriver().findElement(By.xpath(&quot;//button[@class='css-19a323y']//following-sibling::button[1]&quot;)).click();\n</code></pre>\n<p><strong>Explanation of Xpath:</strong> A button with class css-19a323y (Which is the current selected page) and then selecting the following button (Which is the next available page)</p>\n<p>Also use more time for <code>Thread.sleep(3000);</code> because sometimes when you make pagination it takes more time, so better add more time, or using WebdriverWait and Expected conditions, here an example:</p>\n<pre><code>WebDriverWait wait = new WebDriverWait(webDriver, timeoutInSeconds);\nwait.until(ExpectedConditions.elementToBeClickable(By.id&lt;locator&gt;));\n</code></pre>\n"}],"owner":{"account_id":25304395,"reputation":25,"user_id":19128164,"display_name":"David"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74842277,"answer_count":1,"score":0,"last_activity_date":1671375398,"creation_date":1671367220,"question_id":74841393,"body_markdown":"I am trying to move through website pages using the website&#39;s page navigator, but it always stops clicking at page 13.\r\n\r\nThis is the page navigator:\r\n[![enter image description here](https://i.stack.imgur.com/W9KWz.png)](https://i.stack.imgur.com/W9KWz.png)\r\n\r\nThis is my code:\r\n\r\n```\r\nfor (int i = 1; i &lt;= numOfPages; i++) {\r\n    customWebDriver.getWebDriver().findElement(By.className(&quot;css-3a6490&quot;)).click();\r\n    Thread.sleep(3000);\r\n}\r\n```\r\nThis is the HTML structure:\r\n[![enter image description here](https://i.stack.imgur.com/M9NOQ.png)](https://i.stack.imgur.com/M9NOQ.png)\r\n\r\nI have also tried using the element under css-3a6490, **css-15a7b5o**:\r\n\r\n```\r\nfor (int i = 1; i &lt;= numOfPages; i++) {\r\n    customWebDriver.getWebDriver().findElement(By.className(&quot;css-15a7b5o&quot;)).click();\r\n    Thread.sleep(3000);\r\n}\r\n```\r\nbut it also didn&#39;t work.\r\n\r\nDoes someone knows what is the problem?\r\nThanks\r\n","title":"Java Selenium - navigating with the website&#39;s page-navigator gets stuck","body":"<p>I am trying to move through website pages using the website's page navigator, but it always stops clicking at page 13.</p>\n<p>This is the page navigator:\n<a href=\"https://i.stack.imgur.com/W9KWz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/W9KWz.png\" alt=\"enter image description here\" /></a></p>\n<p>This is my code:</p>\n<pre><code>for (int i = 1; i &lt;= numOfPages; i++) {\n    customWebDriver.getWebDriver().findElement(By.className(&quot;css-3a6490&quot;)).click();\n    Thread.sleep(3000);\n}\n</code></pre>\n<p>This is the HTML structure:\n<a href=\"https://i.stack.imgur.com/M9NOQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/M9NOQ.png\" alt=\"enter image description here\" /></a></p>\n<p>I have also tried using the element under css-3a6490, <strong>css-15a7b5o</strong>:</p>\n<pre><code>for (int i = 1; i &lt;= numOfPages; i++) {\n    customWebDriver.getWebDriver().findElement(By.className(&quot;css-15a7b5o&quot;)).click();\n    Thread.sleep(3000);\n}\n</code></pre>\n<p>but it also didn't work.</p>\n<p>Does someone knows what is the problem?\nThanks</p>\n"},{"tags":["java","solr"],"owner":{"account_id":2827721,"reputation":8326,"user_id":2429989,"accept_rate":57,"display_name":"alias51"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671375382,"creation_date":1671366247,"question_id":74841281,"body_markdown":"I&#39;m running Solr on Windows 11, using the following command:\r\n\r\n    java -Dc=core_1 -Drecursive -Dauto -jar example\\exampledocs\\post.jar D:\\* \r\n         -Xms8g -Xmx16g -XX:NewRatio=1 -XX:-UseAdaptiveSizePolicy -Xss16m\r\n\r\nThe machine I am using has 256GB ECC RAM, running `java 19.0.1`\r\n\r\nI&#39;m trying to index about 10TB of files, but after running for a certain amount of time, I get the following error:\r\n\r\n    SimplePostTool: WARNING: Response: {\r\n      &quot;responseHeader&quot;:{\r\n        &quot;status&quot;:500,\r\n        &quot;QTime&quot;:22},\r\n      &quot;error&quot;:{\r\n        &quot;metadata&quot;:[\r\n          &quot;error-class&quot;,&quot;org.apache.solr.common.SolrException&quot;,\r\n          &quot;root-error-class&quot;,&quot;java.lang.OutOfMemoryError&quot;],\r\n        &quot;msg&quot;:&quot;Server error writing document id D:\\myfile.pdf to the index&quot;,\r\n        &quot;trace&quot;:&quot;org.apache.solr.common.SolrException: Server error writing document id D:\\\r\n\r\nI have tried playing with the initial memory settings, such as adding `-Xmx1024m` recommended [here][1], but to no avail.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/5260643/solr-java-heap-space-out-of-memory","title":"Solr java.lang.OutOfMemoryError","body":"<p>I'm running Solr on Windows 11, using the following command:</p>\n<pre><code>java -Dc=core_1 -Drecursive -Dauto -jar example\\exampledocs\\post.jar D:\\* \n     -Xms8g -Xmx16g -XX:NewRatio=1 -XX:-UseAdaptiveSizePolicy -Xss16m\n</code></pre>\n<p>The machine I am using has 256GB ECC RAM, running <code>java 19.0.1</code></p>\n<p>I'm trying to index about 10TB of files, but after running for a certain amount of time, I get the following error:</p>\n<pre><code>SimplePostTool: WARNING: Response: {\n  &quot;responseHeader&quot;:{\n    &quot;status&quot;:500,\n    &quot;QTime&quot;:22},\n  &quot;error&quot;:{\n    &quot;metadata&quot;:[\n      &quot;error-class&quot;,&quot;org.apache.solr.common.SolrException&quot;,\n      &quot;root-error-class&quot;,&quot;java.lang.OutOfMemoryError&quot;],\n    &quot;msg&quot;:&quot;Server error writing document id D:\\myfile.pdf to the index&quot;,\n    &quot;trace&quot;:&quot;org.apache.solr.common.SolrException: Server error writing document id D:\\\n</code></pre>\n<p>I have tried playing with the initial memory settings, such as adding <code>-Xmx1024m</code> recommended <a href=\"https://stackoverflow.com/questions/5260643/solr-java-heap-space-out-of-memory\">here</a>, but to no avail.</p>\n"},{"tags":["java","optaplanner"],"answers":[{"tags":[],"owner":{"account_id":9133364,"reputation":4450,"user_id":6794063,"display_name":"Luk&#225;š Petrovick&#253;"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671374905,"creation_date":1671310200,"answer_id":74837389,"question_id":74837344,"body_markdown":"[EDIT] The question was rewritten, and therefore so is this answer. \r\n\r\nThe exception in question is:\r\n\r\n    Exception in thread &quot;main&quot; Exception executing consequence for rule &quot;maximum&quot; in domain: java.lang.NullPointerException\r\n\r\nTypically, these exceptions have a cause attached to them, which will point to the code that actually triggered it. (The question does not include full stack trace, and therefore I have no way of knowing.) The only thing that we can infer from this is that there is a constraint called &quot;maximum&quot; and something inside the `.penalize(...)` call threw an exception.\r\n\r\nMost likely, it was your match weighter function:\r\n\r\n    .penalize(&quot;maximum&quot;, ..., (...) -&gt; {\r\n        // something here threw NPE\r\n    })\r\n\r\nIf that is the case, then it is your own domain code that throws the exception, and I can not help you. If the root cause of the exception were not in your code, then it is very likely that this would be a bug in OptaPlanner. But so far, nothing I have seen suggests that.","title":"Optaplanner : Working with shadow varaibles (custom variable listener)","body":"<p>[EDIT] The question was rewritten, and therefore so is this answer.</p>\n<p>The exception in question is:</p>\n<pre><code>Exception in thread &quot;main&quot; Exception executing consequence for rule &quot;maximum&quot; in domain: java.lang.NullPointerException\n</code></pre>\n<p>Typically, these exceptions have a cause attached to them, which will point to the code that actually triggered it. (The question does not include full stack trace, and therefore I have no way of knowing.) The only thing that we can infer from this is that there is a constraint called &quot;maximum&quot; and something inside the <code>.penalize(...)</code> call threw an exception.</p>\n<p>Most likely, it was your match weighter function:</p>\n<pre><code>.penalize(&quot;maximum&quot;, ..., (...) -&gt; {\n    // something here threw NPE\n})\n</code></pre>\n<p>If that is the case, then it is your own domain code that throws the exception, and I can not help you. If the root cause of the exception were not in your code, then it is very likely that this would be a bug in OptaPlanner. But so far, nothing I have seen suggests that.</p>\n"}],"owner":{"account_id":26162032,"reputation":31,"user_id":19848397,"display_name":"yassine"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":193,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1671374905,"creation_date":1671309627,"question_id":74837344,"body_markdown":"I am working with a problem that requires to have shadow variables in classes (I used PlanningEntity annotation in these classes) different from the class containing the genuine planning variable. I use VaraibleListener to update those shadow variables (for example : I use one of the shadow variable to just &quot;copy&quot; the content of the genuine planning variable into another class). \r\nAnd when I run the solver I get &quot;NullPointerException&quot;.\r\n\r\nEdit : I included a simple example that produced the same problem : \r\n\r\nGenuine Variable class : \r\n\r\n   \r\n\r\n     @PlanningEntity\r\n        public class variable {\r\n        \r\n        \t@PlanningId\r\n        \tprivate Integer id;\r\n        \tprivate Integer x;\r\n        \t\r\n        \tpublic variable() {\r\n        \r\n        \t}\t\r\n        \r\n        \tpublic variable(Integer id) {\r\n        \t\tthis.id = id;\r\n        \t}\r\n        \r\n        \t@PlanningVariable(valueRangeProviderRefs = &quot;xRange&quot;)\r\n        \tpublic Integer getX() {\r\n        \t\treturn x;\r\n        \t}\r\n        \r\n       //getters and setters\r\n    ....\r\n        }\r\n\r\nShadow variable class : \r\n\r\n        @PlanningEntity\r\n        public class yvariable {\r\n        \t\r\n        \tprivate int idy;\t\r\n        \r\n        \tprivate Integer y;\r\n        \t\r\n        \tpublic yvariable() {\r\n        \t}\r\n        \t\t\r\n        \r\n        \t@CustomShadowVariable(variableListenerClass = yVariableListener.class,\r\n        \t\t\tsources = {@PlanningVariableReference(entityClass = variable.class ,variableName = &quot;x&quot;)})\r\n        \tpublic Integer getY() {\r\n        \t\treturn y;\r\n        \t}\r\n        \r\n        \t//getters and setters\r\n    ....\r\n        }\r\n\r\nProblem fact class : \r\n\r\npublic class parameter {\r\n\r\n\tprivate int max;\r\n\tprivate int min;\r\n\r\n\tpublic parameter() {\r\n\r\n\t}\r\n\t\r\n\tpublic parameter(int max, int min) {\r\n\t\tthis.max = max;\r\n\t\tthis.min = min;\r\n\t}\r\n//getters and setters\r\n....\t\r\n}\r\n\r\nPlanning solution class : \r\n\r\n@PlanningSolution\r\npublic class Planningsolution {\r\n\r\n\t@PlanningEntityProperty\r\n\tprivate variable variable;\r\n\t\r\n\t@ProblemFactProperty\r\n\tprivate parameter parameter;\r\n\t\r\n\t@ProblemFactProperty\r\n\tprivate yvariable yvar;\r\n\r\n\t@ValueRangeProvider(id=&quot;xRange&quot;)\r\n\tpublic CountableValueRange&lt;Integer&gt; getxRange(){\r\n\t\treturn ValueRangeFactory.createIntValueRange(1, 300);\r\n\r\n\t}\r\n\t\r\n    @PlanningScore\r\n    private HardSoftScore score;\r\n    \r\n    public Planningsolution() {\r\n\r\n\t}\r\n\r\n\tpublic Planningsolution(domain.variable variable, domain.parameter parameter, yvariable yvar) {\r\n\t\tthis.variable = variable;\r\n\t\tthis.parameter = parameter;\r\n\t\tthis.yvar=yvar;\r\n\t}\r\n//getters and setters\r\n....\r\n\r\nVariable listener class : \r\n\r\n    public class yVariableListener implements VariableListener&lt;Planningsolution, yvariable&gt; {\r\n    \r\n    \t@Override\r\n        public void beforeEntityAdded(ScoreDirector&lt;Planningsolution&gt; scoreDirector, yvariable variable) {\r\n            // Do nothing\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void afterEntityAdded(ScoreDirector&lt;Planningsolution&gt; scoreDirector, yvariable variable) {\r\n        \t//VentesParJour(scoreDirector, variable);\r\n        }\r\n    \r\n        @Override\r\n        public void beforeVariableChanged(ScoreDirector&lt;Planningsolution&gt; scoreDirector, yvariable variable) {\r\n            // Do nothing\r\n        \t\r\n        }\r\n    \r\n        @Override\r\n        public void afterVariableChanged(ScoreDirector&lt;Planningsolution&gt; scoreDirector, yvariable variable) {\r\n        \t\r\n        \tVentesParJour(scoreDirector, variable);\r\n        }\r\n    \r\n        @Override\r\n        public void beforeEntityRemoved(ScoreDirector&lt;Planningsolution&gt; scoreDirector, yvariable variable) {\r\n            // Do nothing\r\n        }\r\n    \r\n        @Override\r\n        public void afterEntityRemoved(ScoreDirector&lt;Planningsolution&gt; scoreDirector, yvariable variable) {\r\n            // Do nothing\r\n        }    \r\n        \r\n        protected void VentesParJour(ScoreDirector&lt;Planningsolution&gt; scoreDirector, yvariable yy) {\r\n        \tPlanningsolution solution = scoreDirector.getWorkingSolution();\r\n    \r\n        \tvariable xvar= solution.getVariable();\r\n        \t\r\n        \tInteger wtf;\r\n        \t\t\r\n        \tif(xvar.getX()!=null) {\r\n        \t\twtf=xvar.getX();\r\n        \tscoreDirector.beforeVariableChanged(yy, &quot;y&quot;);\r\n        \tyy.setY(wtf);\r\n        \tscoreDirector.afterVariableChanged(yy, &quot;y&quot;);\r\n    \r\n        \t}\r\n        }   \t\r\n    }\r\n\r\n \r\nConstraint : \r\n\r\nmaximizing &quot;y&quot; while &quot;x&quot; is less than &quot;max&quot;\r\n\r\nI get the following error : \r\n\r\n&gt; Exception in thread &quot;main&quot; Exception executing consequence for rule\r\n&gt; &quot;maximum&quot; in domain: java.lang.NullPointerException \tat\r\n&gt; org.drools.core.runtime.rule.impl.DefaultConsequenceExceptionHandler.handleException(DefaultConsequenceExceptionHandler.java:39)\r\n&gt; \tat\r\n&gt; org.drools.kiesession.agenda.DefaultAgenda.handleException(DefaultAgenda.java:935)\r\n&gt; \tat\r\n&gt; org.drools.core.phreak.RuleExecutor.innerFireActivation(RuleExecutor.java:460)\r\n&gt; \tat\r\n&gt; org.drools.core.phreak.RuleExecutor.evaluateNetworkAndFire(RuleExecutor.java:101)\r\n&gt; \tat\r\n&gt; org.drools.core.concurrent.AbstractRuleEvaluator.internalEvaluateAndFire(AbstractRuleEvaluator.java:33)\r\n&gt; \tat\r\n&gt; org.drools.core.concurrent.SequentialRuleEvaluator.evaluateAndFire(SequentialRuleEvaluator.java:43)\r\n&gt; \tat\r\n&gt; org.drools.kiesession.agenda.DefaultAgenda.fireLoop(DefaultAgenda.java:748)\r\n&gt; \tat\r\n&gt; org.drools.kiesession.agenda.DefaultAgenda.internalFireAllRules(DefaultAgenda.java:695)\r\n&gt; \tat\r\n&gt; org.drools.kiesession.agenda.DefaultAgenda.fireAllRules(DefaultAgenda.java:687)\r\n&gt; \tat\r\n&gt; org.drools.kiesession.session.StatefulKnowledgeSessionImpl.internalFireAllRules(StatefulKnowledgeSessionImpl.java:1090)\r\n&gt; \tat\r\n&gt; org.drools.kiesession.session.StatefulKnowledgeSessionImpl.fireAllRules(StatefulKnowledgeSessionImpl.java:1081)\r\n&gt; \tat\r\n&gt; org.drools.kiesession.session.StatefulKnowledgeSessionImpl.fireAllRules(StatefulKnowledgeSessionImpl.java:1073)\r\n&gt; \tat\r\n&gt; org.optaplanner.constraint.streams.drools.DroolsConstraintStreamScoreDirector.calculateScore(DroolsConstraintStreamScoreDirector.java:70)\r\n&gt; \tat\r\n&gt; org.optaplanner.core.impl.solver.recaller.BestSolutionRecaller.solvingStarted(BestSolutionRecaller.java:50)\r\n&gt; \tat\r\n&gt; org.optaplanner.core.impl.solver.AbstractSolver.solvingStarted(AbstractSolver.java:65)\r\n&gt; \tat\r\n&gt; org.optaplanner.core.impl.solver.DefaultSolver.solvingStarted(DefaultSolver.java:225)\r\n&gt; \tat\r\n&gt; org.optaplanner.core.impl.solver.DefaultSolver.solve(DefaultSolver.java:192)\r\n&gt; \tat SimpleApp.main(SimpleApp.java:45) Caused by:\r\n&gt; java.lang.NullPointerException \tat\r\n&gt; org.optaplanner.constraint.streams.drools.common.UniRuleContext.lambda$newRuleBuilder$c987a6e2$1(UniRuleContext.java:28)\r\n&gt; \tat org.drools.model.functions.Block3$Impl.execute(Block3.java:40) \tat\r\n&gt; org.drools.modelcompiler.consequence.LambdaConsequence.evaluate(LambdaConsequence.java:74)\r\n&gt; \tat\r\n&gt; org.drools.core.phreak.RuleExecutor.innerFireActivation(RuleExecutor.java:454)\r\n&gt; \t... 15 more\r\n\r\n","title":"Optaplanner : Working with shadow varaibles (custom variable listener)","body":"<p>I am working with a problem that requires to have shadow variables in classes (I used PlanningEntity annotation in these classes) different from the class containing the genuine planning variable. I use VaraibleListener to update those shadow variables (for example : I use one of the shadow variable to just &quot;copy&quot; the content of the genuine planning variable into another class).\nAnd when I run the solver I get &quot;NullPointerException&quot;.</p>\n<p>Edit : I included a simple example that produced the same problem :</p>\n<p>Genuine Variable class :</p>\n<pre><code> @PlanningEntity\n    public class variable {\n    \n        @PlanningId\n        private Integer id;\n        private Integer x;\n        \n        public variable() {\n    \n        }   \n    \n        public variable(Integer id) {\n            this.id = id;\n        }\n    \n        @PlanningVariable(valueRangeProviderRefs = &quot;xRange&quot;)\n        public Integer getX() {\n            return x;\n        }\n    \n   //getters and setters\n....\n    }\n</code></pre>\n<p>Shadow variable class :</p>\n<pre><code>    @PlanningEntity\n    public class yvariable {\n        \n        private int idy;    \n    \n        private Integer y;\n        \n        public yvariable() {\n        }\n            \n    \n        @CustomShadowVariable(variableListenerClass = yVariableListener.class,\n                sources = {@PlanningVariableReference(entityClass = variable.class ,variableName = &quot;x&quot;)})\n        public Integer getY() {\n            return y;\n        }\n    \n        //getters and setters\n....\n    }\n</code></pre>\n<p>Problem fact class :</p>\n<p>public class parameter {</p>\n<pre><code>private int max;\nprivate int min;\n\npublic parameter() {\n\n}\n\npublic parameter(int max, int min) {\n    this.max = max;\n    this.min = min;\n}\n</code></pre>\n<p>//getters and setters\n....<br />\n}</p>\n<p>Planning solution class :</p>\n<p>@PlanningSolution\npublic class Planningsolution {</p>\n<pre><code>@PlanningEntityProperty\nprivate variable variable;\n\n@ProblemFactProperty\nprivate parameter parameter;\n\n@ProblemFactProperty\nprivate yvariable yvar;\n\n@ValueRangeProvider(id=&quot;xRange&quot;)\npublic CountableValueRange&lt;Integer&gt; getxRange(){\n    return ValueRangeFactory.createIntValueRange(1, 300);\n\n}\n\n@PlanningScore\nprivate HardSoftScore score;\n\npublic Planningsolution() {\n\n}\n\npublic Planningsolution(domain.variable variable, domain.parameter parameter, yvariable yvar) {\n    this.variable = variable;\n    this.parameter = parameter;\n    this.yvar=yvar;\n}\n</code></pre>\n<p>//getters and setters\n....</p>\n<p>Variable listener class :</p>\n<pre><code>public class yVariableListener implements VariableListener&lt;Planningsolution, yvariable&gt; {\n\n    @Override\n    public void beforeEntityAdded(ScoreDirector&lt;Planningsolution&gt; scoreDirector, yvariable variable) {\n        // Do nothing\n\n    }\n\n    @Override\n    public void afterEntityAdded(ScoreDirector&lt;Planningsolution&gt; scoreDirector, yvariable variable) {\n        //VentesParJour(scoreDirector, variable);\n    }\n\n    @Override\n    public void beforeVariableChanged(ScoreDirector&lt;Planningsolution&gt; scoreDirector, yvariable variable) {\n        // Do nothing\n        \n    }\n\n    @Override\n    public void afterVariableChanged(ScoreDirector&lt;Planningsolution&gt; scoreDirector, yvariable variable) {\n        \n        VentesParJour(scoreDirector, variable);\n    }\n\n    @Override\n    public void beforeEntityRemoved(ScoreDirector&lt;Planningsolution&gt; scoreDirector, yvariable variable) {\n        // Do nothing\n    }\n\n    @Override\n    public void afterEntityRemoved(ScoreDirector&lt;Planningsolution&gt; scoreDirector, yvariable variable) {\n        // Do nothing\n    }    \n    \n    protected void VentesParJour(ScoreDirector&lt;Planningsolution&gt; scoreDirector, yvariable yy) {\n        Planningsolution solution = scoreDirector.getWorkingSolution();\n\n        variable xvar= solution.getVariable();\n        \n        Integer wtf;\n            \n        if(xvar.getX()!=null) {\n            wtf=xvar.getX();\n        scoreDirector.beforeVariableChanged(yy, &quot;y&quot;);\n        yy.setY(wtf);\n        scoreDirector.afterVariableChanged(yy, &quot;y&quot;);\n\n        }\n    }       \n}\n</code></pre>\n<p>Constraint :</p>\n<p>maximizing &quot;y&quot; while &quot;x&quot; is less than &quot;max&quot;</p>\n<p>I get the following error :</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; Exception executing consequence for rule\n&quot;maximum&quot; in domain: java.lang.NullPointerException   at\norg.drools.core.runtime.rule.impl.DefaultConsequenceExceptionHandler.handleException(DefaultConsequenceExceptionHandler.java:39)\nat\norg.drools.kiesession.agenda.DefaultAgenda.handleException(DefaultAgenda.java:935)\nat\norg.drools.core.phreak.RuleExecutor.innerFireActivation(RuleExecutor.java:460)\nat\norg.drools.core.phreak.RuleExecutor.evaluateNetworkAndFire(RuleExecutor.java:101)\nat\norg.drools.core.concurrent.AbstractRuleEvaluator.internalEvaluateAndFire(AbstractRuleEvaluator.java:33)\nat\norg.drools.core.concurrent.SequentialRuleEvaluator.evaluateAndFire(SequentialRuleEvaluator.java:43)\nat\norg.drools.kiesession.agenda.DefaultAgenda.fireLoop(DefaultAgenda.java:748)\nat\norg.drools.kiesession.agenda.DefaultAgenda.internalFireAllRules(DefaultAgenda.java:695)\nat\norg.drools.kiesession.agenda.DefaultAgenda.fireAllRules(DefaultAgenda.java:687)\nat\norg.drools.kiesession.session.StatefulKnowledgeSessionImpl.internalFireAllRules(StatefulKnowledgeSessionImpl.java:1090)\nat\norg.drools.kiesession.session.StatefulKnowledgeSessionImpl.fireAllRules(StatefulKnowledgeSessionImpl.java:1081)\nat\norg.drools.kiesession.session.StatefulKnowledgeSessionImpl.fireAllRules(StatefulKnowledgeSessionImpl.java:1073)\nat\norg.optaplanner.constraint.streams.drools.DroolsConstraintStreamScoreDirector.calculateScore(DroolsConstraintStreamScoreDirector.java:70)\nat\norg.optaplanner.core.impl.solver.recaller.BestSolutionRecaller.solvingStarted(BestSolutionRecaller.java:50)\nat\norg.optaplanner.core.impl.solver.AbstractSolver.solvingStarted(AbstractSolver.java:65)\nat\norg.optaplanner.core.impl.solver.DefaultSolver.solvingStarted(DefaultSolver.java:225)\nat\norg.optaplanner.core.impl.solver.DefaultSolver.solve(DefaultSolver.java:192)\nat SimpleApp.main(SimpleApp.java:45) Caused by:\njava.lang.NullPointerException    at\norg.optaplanner.constraint.streams.drools.common.UniRuleContext.lambda$newRuleBuilder$c987a6e2$1(UniRuleContext.java:28)\nat org.drools.model.functions.Block3$Impl.execute(Block3.java:40)   at\norg.drools.modelcompiler.consequence.LambdaConsequence.evaluate(LambdaConsequence.java:74)\nat\norg.drools.core.phreak.RuleExecutor.innerFireActivation(RuleExecutor.java:454)\n... 15 more</p>\n</blockquote>\n"},{"tags":["java","spring-boot","apache-spark","hadoop","spring-properties"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671374390,"creation_date":1671374390,"answer_id":74842221,"question_id":74813963,"body_markdown":"At runtime, you can get or create a custom Configuration instance.\r\n\r\nFor Spark, hadoopConfiguration is part of the SparkContext","title":"Spring boot - replacing properties in Hadoop core-site.xml config file","body":"<p>At runtime, you can get or create a custom Configuration instance.</p>\n<p>For Spark, hadoopConfiguration is part of the SparkContext</p>\n"}],"owner":{"account_id":7860912,"reputation":400,"user_id":5941365,"display_name":"adesai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":224,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671374656,"creation_date":1671118371,"question_id":74813963,"body_markdown":"I have Spring boot Spark based application with following Hadoop `core-site.xml` config file where I would like to replace the properties `${my.access.point.name}` and `${my.access.point.arn}` at runtime.\r\n\r\n    &lt;configuration&gt;\r\n        &lt;property&gt;\r\n            &lt;name&gt;fs.s3a.bucket.${my.access.point.name}.accesspoint.arn&lt;/name&gt;\r\n            &lt;value&gt;${my.access.point.arn}&lt;/value&gt;\r\n        &lt;/property&gt;\r\n    &lt;/configuration&gt;\r\n\r\nHere I have specified both of this properties in `application.properties` file and also, tried to pass it as environment variables from the `docker run` command.\r\n\r\nIt isn&#39;t doing the replacement and end up getting `Access Points usage is required but not configured for the bucket`.\r\n\r\nIs there any other way to replace this properties at runtime?\r\n\r\nAt the moment, this file `core-site.xml` sits under `src/main/resources/`.\r\nIs there anyway I specify this file from external location as an alternative solution?","title":"Spring boot - replacing properties in Hadoop core-site.xml config file","body":"<p>I have Spring boot Spark based application with following Hadoop <code>core-site.xml</code> config file where I would like to replace the properties <code>${my.access.point.name}</code> and <code>${my.access.point.arn}</code> at runtime.</p>\n<pre><code>&lt;configuration&gt;\n    &lt;property&gt;\n        &lt;name&gt;fs.s3a.bucket.${my.access.point.name}.accesspoint.arn&lt;/name&gt;\n        &lt;value&gt;${my.access.point.arn}&lt;/value&gt;\n    &lt;/property&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>Here I have specified both of this properties in <code>application.properties</code> file and also, tried to pass it as environment variables from the <code>docker run</code> command.</p>\n<p>It isn't doing the replacement and end up getting <code>Access Points usage is required but not configured for the bucket</code>.</p>\n<p>Is there any other way to replace this properties at runtime?</p>\n<p>At the moment, this file <code>core-site.xml</code> sits under <code>src/main/resources/</code>.\nIs there anyway I specify this file from external location as an alternative solution?</p>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671374601,"creation_date":1671374601,"answer_id":74842257,"question_id":74814841,"body_markdown":"Either\r\n1. Edit the classpath when you run the JAR\r\n2. Distribute the file with the JAR and read as if it were any other file on the filesystem, perhaps using CLI arguments to provide a reference ","title":"Add external file to Spring boot class path resource","body":"<p>Either</p>\n<ol>\n<li>Edit the classpath when you run the JAR</li>\n<li>Distribute the file with the JAR and read as if it were any other file on the filesystem, perhaps using CLI arguments to provide a reference</li>\n</ol>\n"}],"owner":{"account_id":7860912,"reputation":400,"user_id":5941365,"display_name":"adesai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":167,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671374601,"creation_date":1671122475,"question_id":74814841,"body_markdown":"I have a file (not a part of packaged jar) that needs to be in classpath so that Spring boot can find and load the file as a part of other resources.\r\n\r\nPS: this file is not a Spring Boot application properties file.","title":"Add external file to Spring boot class path resource","body":"<p>I have a file (not a part of packaged jar) that needs to be in classpath so that Spring boot can find and load the file as a part of other resources.</p>\n<p>PS: this file is not a Spring Boot application properties file.</p>\n"},{"tags":["java","constraints","optaplanner"],"comments":[{"owner":{"account_id":9133364,"reputation":4450,"user_id":6794063,"display_name":"Luk&#225;š Petrovick&#253;"},"score":0,"creation_date":1671371539,"post_id":74841660,"comment_id":132080971,"body_markdown":"I have a suspicion that you have not actually tried to run this constraint. This constraint does not even compile. (See the `penalty` variable in the `ofSoft(...)` call. That variable does not exist in this scope.) Please include the code that you actually attempted to run. (Well, in theory, the `penalty` variable may be statically imported from somewhere, but if that is the case, that is a major part of your issues and we need to know.)","body":"I have a suspicion that you have not actually tried to run this constraint. This constraint does not even compile. (See the <code>penalty</code> variable in the <code>ofSoft(...)</code> call. That variable does not exist in this scope.) Please include the code that you actually attempted to run. (Well, in theory, the <code>penalty</code> variable may be statically imported from somewhere, but if that is the case, that is a major part of your issues and we need to know.)"},{"owner":{"account_id":27283740,"reputation":3,"user_id":20803243,"display_name":"BjarnVW"},"score":0,"creation_date":1671372918,"post_id":74841660,"comment_id":132081279,"body_markdown":"@Luk&#225;šPetrovick&#253; I added the full code files do you have enough information with this?","body":"@Luk&#225;šPetrovick&#253; I added the full code files do you have enough information with this?"},{"owner":{"account_id":27283740,"reputation":3,"user_id":20803243,"display_name":"BjarnVW"},"score":0,"creation_date":1671373585,"post_id":74841660,"comment_id":132081418,"body_markdown":"@Luk&#225;šPetrovick&#253; exactly the 24645 soft penalty is when I set .ONE_SOFT in place of my custom penalty. Then I get 0 soft penalty but the solution isn’t correct either","body":"@Luk&#225;šPetrovick&#253; exactly the 24645 soft penalty is when I set .ONE_SOFT in place of my custom penalty. Then I get 0 soft penalty but the solution isn’t correct either"}],"answers":[{"tags":[],"owner":{"account_id":9133364,"reputation":4450,"user_id":6794063,"display_name":"Luk&#225;š Petrovick&#253;"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671374582,"creation_date":1671373755,"answer_id":74842145,"question_id":74841660,"body_markdown":"The code you provided shows one major misunderstanding of how Constraint Streams work, which in turn makes it fundamentally broken.\r\n\r\nAny instance of `ConstraintProvider` *must be stateless*. Even though you technically can have fields in that class, there is no use for it, as the constraints - when run - need to be without side effects. This way, you have introduced [score corruptions][1] and probably have not even noticed. \r\n\r\nAlso, the constraint weight `HardScore.ofSoft(...)` is only computed once during constraint creation, not at solver runtime, therefore defining it like you did would have been pointless anyway. (Its value will be whatever `penalty` was at instantiation, therefore `0`.) What you need to use instead is a match weight, which is computed at runtime. Making just that modification, the constraint in question would look like this:\r\n\r\n    Constraint spaceBetweenExams(ConstraintFactory constraintFactory) {\r\n        return constraintFactory.forEach(Student.class)\r\n                .join(Exam.class)\r\n                .join(Exam.class)\r\n                .filter((student, exam1, exam2) -&gt; {\r\n                    if(student.getExamIds().contains(exam1.getID()) &amp;&amp; student.getExamIds().contains(exam2.getID())){\r\n                        if(exam1.getID() &lt; exam2.getID()){\r\n                            return true;\r\n                        }\r\n                    }\r\n                    return false;\r\n                })\r\n                .penalize(&quot;Max time between exams&quot;, HardSoftScore.ONE_SOFT,\r\n                    (student, exam1, exam2) -&gt;{\r\n                            int timeDifference = Math.abs(exam1.getTimeslot().getID() - exam2.getTimeslot().getID());\r\n                            if (timeDifference == 1) {\r\n                                return 16;\r\n                            } else if (timeDifference == 2) {\r\n                                return 8;\r\n                            } else if (timeDifference == 3) {\r\n                                return 4;\r\n                            } else if (timeDifference == 4) {\r\n                                return 2;\r\n                            } else {\r\n                                return 1;\r\n                            }\r\n                    }\r\n                });\r\n    }\r\n\r\nThe above code will at least make this code run properly, but it will likely be slow. See [my other recent answer][2] for inspiration on how to change your domain model to improve performance of your constraints. It may not fit exactly, but the idea seems valid to your use case as well.\r\n\r\n\r\n  [1]: https://www.optaplanner.org/docs/optaplanner/latest/planner-configuration/planner-configuration.html#environmentMode\r\n  [2]: https://stackoverflow.com/questions/74833213/optaplanner-see-if-the-same-item-appears-in-two-lists","title":"How is it possible to spread exams of students in optaplanner?","body":"<p>The code you provided shows one major misunderstanding of how Constraint Streams work, which in turn makes it fundamentally broken.</p>\n<p>Any instance of <code>ConstraintProvider</code> <em>must be stateless</em>. Even though you technically can have fields in that class, there is no use for it, as the constraints - when run - need to be without side effects. This way, you have introduced <a href=\"https://www.optaplanner.org/docs/optaplanner/latest/planner-configuration/planner-configuration.html#environmentMode\" rel=\"nofollow noreferrer\">score corruptions</a> and probably have not even noticed.</p>\n<p>Also, the constraint weight <code>HardScore.ofSoft(...)</code> is only computed once during constraint creation, not at solver runtime, therefore defining it like you did would have been pointless anyway. (Its value will be whatever <code>penalty</code> was at instantiation, therefore <code>0</code>.) What you need to use instead is a match weight, which is computed at runtime. Making just that modification, the constraint in question would look like this:</p>\n<pre><code>Constraint spaceBetweenExams(ConstraintFactory constraintFactory) {\n    return constraintFactory.forEach(Student.class)\n            .join(Exam.class)\n            .join(Exam.class)\n            .filter((student, exam1, exam2) -&gt; {\n                if(student.getExamIds().contains(exam1.getID()) &amp;&amp; student.getExamIds().contains(exam2.getID())){\n                    if(exam1.getID() &lt; exam2.getID()){\n                        return true;\n                    }\n                }\n                return false;\n            })\n            .penalize(&quot;Max time between exams&quot;, HardSoftScore.ONE_SOFT,\n                (student, exam1, exam2) -&gt;{\n                        int timeDifference = Math.abs(exam1.getTimeslot().getID() - exam2.getTimeslot().getID());\n                        if (timeDifference == 1) {\n                            return 16;\n                        } else if (timeDifference == 2) {\n                            return 8;\n                        } else if (timeDifference == 3) {\n                            return 4;\n                        } else if (timeDifference == 4) {\n                            return 2;\n                        } else {\n                            return 1;\n                        }\n                }\n            });\n}\n</code></pre>\n<p>The above code will at least make this code run properly, but it will likely be slow. See <a href=\"https://stackoverflow.com/questions/74833213/optaplanner-see-if-the-same-item-appears-in-two-lists\">my other recent answer</a> for inspiration on how to change your domain model to improve performance of your constraints. It may not fit exactly, but the idea seems valid to your use case as well.</p>\n"}],"owner":{"account_id":27283740,"reputation":3,"user_id":20803243,"display_name":"BjarnVW"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74842145,"answer_count":1,"score":0,"last_activity_date":1671374582,"creation_date":1671369566,"question_id":74841660,"body_markdown":"I am learning to work with optaplanner. I need to spread exams of one student. The less time between two exams of one student, the more penalty I give.\r\n\r\nI need the Integer List ExamIds of my Student class because there are all the exams for that one student.\r\n\r\nThen I need to check all these Exams planned Timeslots with eachother to give them more time between.\r\n\r\nWhat i tried is following code:\r\n\r\n`\r\n```\r\nConstraint spaceBetweenExams(ConstraintFactory constraintFactory) {\r\n    return constraintFactory.forEach(Student.class)\r\n            .join(Exam.class)\r\n            .join(Exam.class)\r\n            .filter((student, exam1, exam2) -&gt;{\r\n                if(student.getExamIds().contains(exam1.getID()) &amp;&amp; student.getExamIds().contains(exam2.getID())){\r\n                    if(exam1.getID() &lt; exam2.getID()){\r\n                        int timeDifference = Math.abs(exam1.getTimeslot().getID() - exam2.getTimeslot().getID());\r\n                        if (timeDifference == 1) {\r\n                            penalty = 16;\r\n                        } else if (timeDifference == 2) {\r\n                            penalty = 8;\r\n                        } else if (timeDifference == 3) {\r\n                            penalty = 4;\r\n                        } else if (timeDifference == 4) {\r\n                            penalty = 2;\r\n                        } else if (timeDifference == 5) {\r\n                            penalty = 1;\r\n                        }\r\n                        return true;\r\n                    }\r\n                }\r\n                return false;\r\n            })\r\n            .penalize(&quot;Max time between exams&quot;, HardSoftScore.ofSoft(penalty));\r\n```\r\n`\r\n\r\nThe result I get is 24645 soft penalties but optaplanner doesn&#39;t even try to fix them. \r\nI think that the way I check the exams in the code above is not fully correct.\r\n\r\nThis is my constraint class :\r\n\r\n    public class ExamTableConstraintProvider implements ConstraintProvider {\r\n    \r\n        int penalty = 0;\r\n        List&lt;Integer&gt; studentExamIds;\r\n    \r\n        @Override\r\n        public Constraint[] defineConstraints(ConstraintFactory constraintFactory) {\r\n            return new Constraint[]{\r\n                    // Hard constraints\r\n                    twoExamForStudentConflict(constraintFactory),\r\n                    // Soft constraints\r\n                    spaceBetweenExams(constraintFactory)\r\n                };\r\n        }\r\n    \r\n        private Constraint twoExamForStudentConflict(ConstraintFactory constraintFactory) {\r\n            return constraintFactory.forEach(Exam.class)\r\n                    .join(Exam.class,\r\n                            Joiners.equal(Exam::getTimeslot),\r\n                            Joiners.lessThan(Exam::getID))\r\n                    .filter((exam1, exam2) -&gt; {\r\n                        List&lt;Integer&gt; result = new ArrayList&lt;&gt;(exam1.getSID());\r\n                        result.retainAll(exam2.getSID());\r\n                        return result.size() &gt; 0;\r\n                    })\r\n                    .penalize(&quot;Student conflict&quot;, HardSoftScore.ONE_HARD);\r\n        }\r\n    \r\n        Constraint spaceBetweenExams(ConstraintFactory constraintFactory) {\r\n            return constraintFactory.forEach(Student.class)\r\n                    .join(Exam.class)\r\n                    .join(Exam.class)\r\n                    .filter((student, exam1, exam2) -&gt;{\r\n                        if(student.getExamIds().contains(exam1.getID()) &amp;&amp; student.getExamIds().contains(exam2.getID())){\r\n                            if(exam1.getID() &lt; exam2.getID()){\r\n                                int timeDifference = Math.abs(exam1.getTimeslot().getID() - exam2.getTimeslot().getID());\r\n                                if (timeDifference == 1) {\r\n                                    penalty = 16;\r\n                                } else if (timeDifference == 2) {\r\n                                    penalty = 8;\r\n                                } else if (timeDifference == 3) {\r\n                                    penalty = 4;\r\n                                } else if (timeDifference == 4) {\r\n                                    penalty = 2;\r\n                                } else if (timeDifference == 5) {\r\n                                    penalty = 1;\r\n                                }\r\n                                return true;\r\n                            }\r\n                        }\r\n                        return false;\r\n                    })\r\n                    .penalize(&quot;Max time between exams&quot;, HardSoftScore.ofSoft(penalty));\r\n    \r\n        }\r\n    \r\n        /*Constraint spaceBetweenExams(ConstraintFactory constraintFactory) {\r\n            penalty = 0;\r\n            return constraintFactory.forEach(Student.class)\r\n                    .join(Exam.class,\r\n                            equal(Student::getExamIds, Exam::getID),\r\n                            filtering((student, exam1) -&gt; exam1.getTimeslot() != null))\r\n                    .join(Exam.class,\r\n                            equal((student, exam1) -&gt; student.getExamIds(), Exam::getID),\r\n                            equal((student, exam1) -&gt; exam1.getTimeslot(), Exam::getTimeslot),\r\n                            filtering((student, exam1, exam2) -&gt; {\r\n                            int timeDifference = getPeriodBetweenExams(exam1, exam2);\r\n                            if (timeDifference == 1) {\r\n                                penalty += 16;\r\n                            } else if (timeDifference == 2) {\r\n                                penalty += 8;\r\n                            } else if (timeDifference == 3) {\r\n                                penalty += 4;\r\n                            } else if (timeDifference == 4) {\r\n                                penalty += 2;\r\n                            } else if (timeDifference == 5) {\r\n                                penalty += 1;\r\n                            }\r\n                        if(penalty == 0){\r\n                            return false;\r\n                        }\r\n                        return true;\r\n                    }))\r\n                    .penalize(&quot;Max time between exams&quot;, HardSoftScore.ONE_SOFT);\r\n    \r\n        }*/\r\n    \r\n    \r\n    }\r\n\r\n\r\nAnd this is the class where I start the program:\r\n\r\n   \r\n\r\n     public class ExamTableApp {\r\n    \r\n        private static final Logger LOGGER = LoggerFactory.getLogger(ExamTableApp.class);\r\n    \r\n        public static void main(String[] args) {\r\n            SolverFactory&lt;ExamTable&gt; solverFactory = SolverFactory.create(new SolverConfig()\r\n                    .withSolutionClass(ExamTable.class)\r\n                    .withEntityClasses(Exam.class)\r\n                    .withConstraintProviderClass(ExamTableConstraintProvider.class)\r\n                    // The solver runs only for 5 seconds on this small dataset.\r\n                    // It&#39;s recommended to run for at least 5 minutes (&quot;5m&quot;) otherwise.\r\n                    .withTerminationSpentLimit(Duration.ofSeconds(30)));\r\n    \r\n            // Load the problem\r\n            ExamTable problem = getData();\r\n    \r\n            // Solve the problem\r\n            Solver&lt;ExamTable&gt; solver = solverFactory.buildSolver();\r\n            ExamTable solution = solver.solve(problem);\r\n    \r\n            // Visualize the solution\r\n            printTimetable(solution);\r\n        }\r\n    \r\n        public static ExamTable getData(){\r\n            DataReader parser = new DataReader(&quot;benchmarks/sta-f-83.crs&quot;, &quot;benchmarks/sta-f-83.stu&quot;);\r\n    \r\n            List&lt;Room&gt; roomList = new ArrayList&lt;&gt;(1);\r\n            roomList.add(new Room(1,&quot;Room A&quot;));\r\n    //        roomList.add(new Room(2,&quot;Room B&quot;));\r\n    //        roomList.add(new Room(3,&quot;Room C&quot;));\r\n    \r\n            List&lt;Exam&gt; examList = new ArrayList&lt;&gt;();\r\n            HashMap&lt;Integer, Exam&gt; exams = parser.getExams();\r\n            Set&lt;Integer&gt; keys = exams.keySet();\r\n            for (Integer i : keys) {\r\n                Exam exam = exams.get(i);\r\n                examList.add(new Exam(exam.getID(),  exam.getSID()));\r\n            }\r\n    \r\n            List&lt;Student&gt; studentList = new ArrayList&lt;&gt;();\r\n            HashMap&lt;Integer, Student&gt; students = parser.getStudents();\r\n            Set&lt;Integer&gt; keys2 = students.keySet();\r\n            for (Integer i : keys2) {\r\n                Student student = students.get(i);\r\n                studentList.add(new Student(student.getID(), student.getExamIds()));\r\n            }\r\n    \r\n            return new ExamTable(parser.getTimeslots(), roomList, examList, studentList);\r\n        }\r\n    \r\n        private static void printTimetable(ExamTable examTable) {\r\n            LOGGER.info(&quot;&quot;);\r\n            List&lt;Room&gt; roomList = examTable.getRoomList();\r\n            List&lt;Exam&gt; examList = examTable.getExamList();\r\n            Map&lt;TimeSlot, Map&lt;Room, List&lt;Exam&gt;&gt;&gt; examMap = examList.stream()\r\n                    .filter(exam -&gt; exam.getTimeslot() != null &amp;&amp; exam.getRoom() != null)\r\n                    .collect(Collectors.groupingBy(Exam::getTimeslot, Collectors.groupingBy(Exam::getRoom)));\r\n            LOGGER.info(&quot;|            | &quot; + roomList.stream()\r\n                    .map(room -&gt; String.format(&quot;%-10s&quot;, room.getName())).collect(Collectors.joining(&quot; | &quot;)) + &quot; |&quot;);\r\n            LOGGER.info(&quot;|&quot; + &quot;------------|&quot;.repeat(roomList.size() + 1));\r\n            for (TimeSlot timeslot : examTable.getTimeslotList()) {\r\n                List&lt;List&lt;Exam&gt;&gt; cellList = roomList.stream()\r\n                        .map(room -&gt; {\r\n                            Map&lt;Room, List&lt;Exam&gt;&gt; byRoomMap = examMap.get(timeslot);\r\n                            if (byRoomMap == null) {\r\n                                return Collections.&lt;Exam&gt;emptyList();\r\n                            }\r\n                            List&lt;Exam&gt; cellLessonList = byRoomMap.get(room);\r\n                            if (cellLessonList == null) {\r\n                                return Collections.&lt;Exam&gt;emptyList();\r\n                            }\r\n                            return cellLessonList;\r\n                        })\r\n                        .collect(Collectors.toList());\r\n    \r\n                LOGGER.info(&quot;| &quot; + String.format(&quot;%-10s&quot;,\r\n                        timeslot.getID() + &quot; &quot; + &quot; | &quot;\r\n                        + cellList.stream().map(cellLessonList -&gt; String.format(&quot;%-10s&quot;,\r\n                        cellLessonList.stream().map(Exam::getName).collect(Collectors.joining(&quot;, &quot;))))\r\n                        .collect(Collectors.joining(&quot; | &quot;))\r\n                        + &quot; |&quot;));\r\n    \r\n                LOGGER.info(&quot;|&quot; + &quot;------------|&quot;.repeat(roomList.size() + 1));\r\n            }\r\n            List&lt;Exam&gt; unassignedExams = examList.stream()\r\n                    .filter(exam -&gt; exam.getTimeslot() == null || exam.getRoom() == null)\r\n                    .collect(Collectors.toList());\r\n            if (!unassignedExams.isEmpty()) {\r\n                LOGGER.info(&quot;&quot;);\r\n                LOGGER.info(&quot;Unassigned lessons&quot;);\r\n                for (Exam exam : unassignedExams) {\r\n                    LOGGER.info(&quot;  &quot; + exam.getName() + &quot; - &quot; + exam.getNumberOfStudents() + &quot; - &quot; + exam.getSID());\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nCould someone help me out with this?\r\n\r\nThanks in advance.","title":"How is it possible to spread exams of students in optaplanner?","body":"<p>I am learning to work with optaplanner. I need to spread exams of one student. The less time between two exams of one student, the more penalty I give.</p>\n<p>I need the Integer List ExamIds of my Student class because there are all the exams for that one student.</p>\n<p>Then I need to check all these Exams planned Timeslots with eachother to give them more time between.</p>\n<p>What i tried is following code:</p>\n<p>`</p>\n<pre><code>Constraint spaceBetweenExams(ConstraintFactory constraintFactory) {\n    return constraintFactory.forEach(Student.class)\n            .join(Exam.class)\n            .join(Exam.class)\n            .filter((student, exam1, exam2) -&gt;{\n                if(student.getExamIds().contains(exam1.getID()) &amp;&amp; student.getExamIds().contains(exam2.getID())){\n                    if(exam1.getID() &lt; exam2.getID()){\n                        int timeDifference = Math.abs(exam1.getTimeslot().getID() - exam2.getTimeslot().getID());\n                        if (timeDifference == 1) {\n                            penalty = 16;\n                        } else if (timeDifference == 2) {\n                            penalty = 8;\n                        } else if (timeDifference == 3) {\n                            penalty = 4;\n                        } else if (timeDifference == 4) {\n                            penalty = 2;\n                        } else if (timeDifference == 5) {\n                            penalty = 1;\n                        }\n                        return true;\n                    }\n                }\n                return false;\n            })\n            .penalize(&quot;Max time between exams&quot;, HardSoftScore.ofSoft(penalty));\n</code></pre>\n<p>`</p>\n<p>The result I get is 24645 soft penalties but optaplanner doesn't even try to fix them.\nI think that the way I check the exams in the code above is not fully correct.</p>\n<p>This is my constraint class :</p>\n<pre><code>public class ExamTableConstraintProvider implements ConstraintProvider {\n\n    int penalty = 0;\n    List&lt;Integer&gt; studentExamIds;\n\n    @Override\n    public Constraint[] defineConstraints(ConstraintFactory constraintFactory) {\n        return new Constraint[]{\n                // Hard constraints\n                twoExamForStudentConflict(constraintFactory),\n                // Soft constraints\n                spaceBetweenExams(constraintFactory)\n            };\n    }\n\n    private Constraint twoExamForStudentConflict(ConstraintFactory constraintFactory) {\n        return constraintFactory.forEach(Exam.class)\n                .join(Exam.class,\n                        Joiners.equal(Exam::getTimeslot),\n                        Joiners.lessThan(Exam::getID))\n                .filter((exam1, exam2) -&gt; {\n                    List&lt;Integer&gt; result = new ArrayList&lt;&gt;(exam1.getSID());\n                    result.retainAll(exam2.getSID());\n                    return result.size() &gt; 0;\n                })\n                .penalize(&quot;Student conflict&quot;, HardSoftScore.ONE_HARD);\n    }\n\n    Constraint spaceBetweenExams(ConstraintFactory constraintFactory) {\n        return constraintFactory.forEach(Student.class)\n                .join(Exam.class)\n                .join(Exam.class)\n                .filter((student, exam1, exam2) -&gt;{\n                    if(student.getExamIds().contains(exam1.getID()) &amp;&amp; student.getExamIds().contains(exam2.getID())){\n                        if(exam1.getID() &lt; exam2.getID()){\n                            int timeDifference = Math.abs(exam1.getTimeslot().getID() - exam2.getTimeslot().getID());\n                            if (timeDifference == 1) {\n                                penalty = 16;\n                            } else if (timeDifference == 2) {\n                                penalty = 8;\n                            } else if (timeDifference == 3) {\n                                penalty = 4;\n                            } else if (timeDifference == 4) {\n                                penalty = 2;\n                            } else if (timeDifference == 5) {\n                                penalty = 1;\n                            }\n                            return true;\n                        }\n                    }\n                    return false;\n                })\n                .penalize(&quot;Max time between exams&quot;, HardSoftScore.ofSoft(penalty));\n\n    }\n\n    /*Constraint spaceBetweenExams(ConstraintFactory constraintFactory) {\n        penalty = 0;\n        return constraintFactory.forEach(Student.class)\n                .join(Exam.class,\n                        equal(Student::getExamIds, Exam::getID),\n                        filtering((student, exam1) -&gt; exam1.getTimeslot() != null))\n                .join(Exam.class,\n                        equal((student, exam1) -&gt; student.getExamIds(), Exam::getID),\n                        equal((student, exam1) -&gt; exam1.getTimeslot(), Exam::getTimeslot),\n                        filtering((student, exam1, exam2) -&gt; {\n                        int timeDifference = getPeriodBetweenExams(exam1, exam2);\n                        if (timeDifference == 1) {\n                            penalty += 16;\n                        } else if (timeDifference == 2) {\n                            penalty += 8;\n                        } else if (timeDifference == 3) {\n                            penalty += 4;\n                        } else if (timeDifference == 4) {\n                            penalty += 2;\n                        } else if (timeDifference == 5) {\n                            penalty += 1;\n                        }\n                    if(penalty == 0){\n                        return false;\n                    }\n                    return true;\n                }))\n                .penalize(&quot;Max time between exams&quot;, HardSoftScore.ONE_SOFT);\n\n    }*/\n\n\n}\n</code></pre>\n<p>And this is the class where I start the program:</p>\n<pre><code> public class ExamTableApp {\n\n    private static final Logger LOGGER = LoggerFactory.getLogger(ExamTableApp.class);\n\n    public static void main(String[] args) {\n        SolverFactory&lt;ExamTable&gt; solverFactory = SolverFactory.create(new SolverConfig()\n                .withSolutionClass(ExamTable.class)\n                .withEntityClasses(Exam.class)\n                .withConstraintProviderClass(ExamTableConstraintProvider.class)\n                // The solver runs only for 5 seconds on this small dataset.\n                // It's recommended to run for at least 5 minutes (&quot;5m&quot;) otherwise.\n                .withTerminationSpentLimit(Duration.ofSeconds(30)));\n\n        // Load the problem\n        ExamTable problem = getData();\n\n        // Solve the problem\n        Solver&lt;ExamTable&gt; solver = solverFactory.buildSolver();\n        ExamTable solution = solver.solve(problem);\n\n        // Visualize the solution\n        printTimetable(solution);\n    }\n\n    public static ExamTable getData(){\n        DataReader parser = new DataReader(&quot;benchmarks/sta-f-83.crs&quot;, &quot;benchmarks/sta-f-83.stu&quot;);\n\n        List&lt;Room&gt; roomList = new ArrayList&lt;&gt;(1);\n        roomList.add(new Room(1,&quot;Room A&quot;));\n//        roomList.add(new Room(2,&quot;Room B&quot;));\n//        roomList.add(new Room(3,&quot;Room C&quot;));\n\n        List&lt;Exam&gt; examList = new ArrayList&lt;&gt;();\n        HashMap&lt;Integer, Exam&gt; exams = parser.getExams();\n        Set&lt;Integer&gt; keys = exams.keySet();\n        for (Integer i : keys) {\n            Exam exam = exams.get(i);\n            examList.add(new Exam(exam.getID(),  exam.getSID()));\n        }\n\n        List&lt;Student&gt; studentList = new ArrayList&lt;&gt;();\n        HashMap&lt;Integer, Student&gt; students = parser.getStudents();\n        Set&lt;Integer&gt; keys2 = students.keySet();\n        for (Integer i : keys2) {\n            Student student = students.get(i);\n            studentList.add(new Student(student.getID(), student.getExamIds()));\n        }\n\n        return new ExamTable(parser.getTimeslots(), roomList, examList, studentList);\n    }\n\n    private static void printTimetable(ExamTable examTable) {\n        LOGGER.info(&quot;&quot;);\n        List&lt;Room&gt; roomList = examTable.getRoomList();\n        List&lt;Exam&gt; examList = examTable.getExamList();\n        Map&lt;TimeSlot, Map&lt;Room, List&lt;Exam&gt;&gt;&gt; examMap = examList.stream()\n                .filter(exam -&gt; exam.getTimeslot() != null &amp;&amp; exam.getRoom() != null)\n                .collect(Collectors.groupingBy(Exam::getTimeslot, Collectors.groupingBy(Exam::getRoom)));\n        LOGGER.info(&quot;|            | &quot; + roomList.stream()\n                .map(room -&gt; String.format(&quot;%-10s&quot;, room.getName())).collect(Collectors.joining(&quot; | &quot;)) + &quot; |&quot;);\n        LOGGER.info(&quot;|&quot; + &quot;------------|&quot;.repeat(roomList.size() + 1));\n        for (TimeSlot timeslot : examTable.getTimeslotList()) {\n            List&lt;List&lt;Exam&gt;&gt; cellList = roomList.stream()\n                    .map(room -&gt; {\n                        Map&lt;Room, List&lt;Exam&gt;&gt; byRoomMap = examMap.get(timeslot);\n                        if (byRoomMap == null) {\n                            return Collections.&lt;Exam&gt;emptyList();\n                        }\n                        List&lt;Exam&gt; cellLessonList = byRoomMap.get(room);\n                        if (cellLessonList == null) {\n                            return Collections.&lt;Exam&gt;emptyList();\n                        }\n                        return cellLessonList;\n                    })\n                    .collect(Collectors.toList());\n\n            LOGGER.info(&quot;| &quot; + String.format(&quot;%-10s&quot;,\n                    timeslot.getID() + &quot; &quot; + &quot; | &quot;\n                    + cellList.stream().map(cellLessonList -&gt; String.format(&quot;%-10s&quot;,\n                    cellLessonList.stream().map(Exam::getName).collect(Collectors.joining(&quot;, &quot;))))\n                    .collect(Collectors.joining(&quot; | &quot;))\n                    + &quot; |&quot;));\n\n            LOGGER.info(&quot;|&quot; + &quot;------------|&quot;.repeat(roomList.size() + 1));\n        }\n        List&lt;Exam&gt; unassignedExams = examList.stream()\n                .filter(exam -&gt; exam.getTimeslot() == null || exam.getRoom() == null)\n                .collect(Collectors.toList());\n        if (!unassignedExams.isEmpty()) {\n            LOGGER.info(&quot;&quot;);\n            LOGGER.info(&quot;Unassigned lessons&quot;);\n            for (Exam exam : unassignedExams) {\n                LOGGER.info(&quot;  &quot; + exam.getName() + &quot; - &quot; + exam.getNumberOfStudents() + &quot; - &quot; + exam.getSID());\n            }\n        }\n    }\n}\n</code></pre>\n<p>Could someone help me out with this?</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","spring-boot","junit","integration-testing","hamcrest"],"comments":[{"owner":{"account_id":550722,"reputation":4460,"user_id":906265,"display_name":"Ivar"},"score":0,"creation_date":1580289971,"post_id":59963733,"comment_id":106045058,"body_markdown":"There are similar questions with accepted answers already: https://stackoverflow.com/a/2877355/906265 https://stackoverflow.com/a/8878106/906265","body":"There are similar questions with accepted answers already: <a href=\"https://stackoverflow.com/a/2877355/906265\">stackoverflow.com/a/2877355/906265</a> <a href=\"https://stackoverflow.com/a/8878106/906265\">stackoverflow.com/a/8878106/906265</a>"},{"owner":{"account_id":5804771,"reputation":384,"user_id":4577788,"display_name":"Tymur Kubai aka SirDiR"},"score":0,"creation_date":1580291209,"post_id":59963733,"comment_id":106045752,"body_markdown":"is @Before annotation from aspectj or from junit4?","body":"is @Before annotation from aspectj or from junit4?"},{"owner":{"account_id":10842310,"reputation":381,"user_id":11801958,"display_name":"seamaster"},"score":0,"creation_date":1580291277,"post_id":59963733,"comment_id":106045794,"body_markdown":"@SirDiRakaTymurKubai it is from junit","body":"@SirDiRakaTymurKubai it is from junit"},{"owner":{"account_id":10842310,"reputation":381,"user_id":11801958,"display_name":"seamaster"},"score":0,"creation_date":1580295611,"post_id":59963733,"comment_id":106048161,"body_markdown":"@Aivaras i&#39;ve seen the article but dont know what to do when i have both Junit (which includes hamcrest) on the class path and spring boot test in maven (which also includes it). Both need to stay but they both include hamcrest.","body":"@Aivaras i&#39;ve seen the article but dont know what to do when i have both Junit (which includes hamcrest) on the class path and spring boot test in maven (which also includes it). Both need to stay but they both include hamcrest."},{"owner":{"account_id":5804771,"reputation":384,"user_id":4577788,"display_name":"Tymur Kubai aka SirDiR"},"score":1,"creation_date":1580301976,"post_id":59963733,"comment_id":106051567,"body_markdown":"@StoyanLupov according to your pom.xml you are using junit-jupiter(**junit5**) butt in your code you have @Before(**junit4**) annotation instead of @BeforeEach(**junit5**).\nI have no idea how you run your tests(what framework used for this junit4 or junit5)\nand also what are **imports** in your code example","body":"@StoyanLupov according to your pom.xml you are using junit-jupiter(<b>junit5</b>) butt in your code you have @Before(<b>junit4</b>) annotation instead of @BeforeEach(<b>junit5</b>). I have no idea how you run your tests(what framework used for this junit4 or junit5) and also what are <b>imports</b> in your code example"},{"owner":{"account_id":550722,"reputation":4460,"user_id":906265,"display_name":"Ivar"},"score":0,"creation_date":1580302222,"post_id":59963733,"comment_id":106051711,"body_markdown":"@StoyanLupov use `exclusions` in your `pom` next to dependency definition to exclude any transient ones. More in docs https://maven.apache.org/guides/introduction/introduction-to-optional-and-excludes-dependencies.html","body":"@StoyanLupov use <code>exclusions</code> in your <code>pom</code> next to dependency definition to exclude any transient ones. More in docs <a href=\"https://maven.apache.org/guides/introduction/introduction-to-optional-and-excludes-dependencies.html\" rel=\"nofollow noreferrer\">maven.apache.org/guides/introduction/&hellip;</a>"},{"owner":{"account_id":5458513,"reputation":69,"user_id":4341271,"display_name":"Gabriele Morgante"},"score":0,"creation_date":1603191821,"post_id":59963733,"comment_id":113952307,"body_markdown":"Did you find any solution? It would be really useful to me... Thanks!","body":"Did you find any solution? It would be really useful to me... Thanks!"}],"answers":[{"tags":[],"owner":{"account_id":16099128,"reputation":81,"user_id":11620422,"display_name":"Rahul Sharma"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1614331971,"creation_date":1614331742,"answer_id":66383210,"question_id":59963733,"body_markdown":"I deleted the org.hamcrest.core_1.3.0.v201303031735.jar from my .p2 plugins folder and it worked for me.\r\n\r\n1. I searched for &quot;hamcrest&quot; in &quot;C:\\Users\\Dell\\.p2\\pool\\plugins&quot; folder and found &quot;org.hamcrest.core_1.3.0.v201303031735.jar&quot; there.\r\n2. I deleted it for this path.\r\n3. Tried to run the test cases and it got passed with no failure in `statusCode()` method line.\r\n\r\nPlease suggest if anyone has a better solution.","title":"Hamcrest Matcher signer information does not match signer information of other classes in the same package","body":"<p>I deleted the org.hamcrest.core_1.3.0.v201303031735.jar from my .p2 plugins folder and it worked for me.</p>\n<ol>\n<li>I searched for &quot;hamcrest&quot; in &quot;C:\\Users\\Dell.p2\\pool\\plugins&quot; folder and found &quot;org.hamcrest.core_1.3.0.v201303031735.jar&quot; there.</li>\n<li>I deleted it for this path.</li>\n<li>Tried to run the test cases and it got passed with no failure in <code>statusCode()</code> method line.</li>\n</ol>\n<p>Please suggest if anyone has a better solution.</p>\n"},{"tags":[],"owner":{"account_id":6085540,"reputation":22133,"user_id":4751173,"display_name":"Glorfindel"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1626291945,"creation_date":1626291945,"answer_id":68384217,"question_id":59963733,"body_markdown":"In my case, the problem was solved by adding an explicit dependency to Hamcrest at the top of the dependency list in my `pom.xml`:\r\n\r\n\t&lt;dependency&gt;\r\n\t    &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\r\n\t    &lt;artifactId&gt;hamcrest&lt;/artifactId&gt;\r\n\t    &lt;scope&gt;test&lt;/scope&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n","title":"Hamcrest Matcher signer information does not match signer information of other classes in the same package","body":"<p>In my case, the problem was solved by adding an explicit dependency to Hamcrest at the top of the dependency list in my <code>pom.xml</code>:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\n    &lt;artifactId&gt;hamcrest&lt;/artifactId&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":483323,"reputation":36115,"user_id":898289,"accept_rate":92,"display_name":"Adam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649616835,"creation_date":1649616835,"answer_id":71819641,"question_id":59963733,"body_markdown":"This issue can also occur within Eclipse plugin development if you define your own dependency on a later version of hamcrest.\r\n\r\nI worked around this by removing the hamcrest plugin from the platform definition:\r\n\r\n* Select Windows -&gt; Preferences -&gt; Plugin Development -&gt; Running Platform -&gt; Edit -&gt; Content\r\n* Filter for &quot;hamcrest&quot;\r\n* Untick org.hamcrest.core","title":"Hamcrest Matcher signer information does not match signer information of other classes in the same package","body":"<p>This issue can also occur within Eclipse plugin development if you define your own dependency on a later version of hamcrest.</p>\n<p>I worked around this by removing the hamcrest plugin from the platform definition:</p>\n<ul>\n<li>Select Windows -&gt; Preferences -&gt; Plugin Development -&gt; Running Platform -&gt; Edit -&gt; Content</li>\n<li>Filter for &quot;hamcrest&quot;</li>\n<li>Untick org.hamcrest.core</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":6851131,"reputation":494,"user_id":5268273,"display_name":"dimplex"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1669297841,"creation_date":1669297841,"answer_id":74561832,"question_id":59963733,"body_markdown":"In my case I just removed the Eclipse&#39;s JUnit5 library from classpath. ","title":"Hamcrest Matcher signer information does not match signer information of other classes in the same package","body":"<p>In my case I just removed the Eclipse's JUnit5 library from classpath.</p>\n"},{"tags":[],"owner":{"account_id":8186103,"reputation":500,"user_id":6161878,"display_name":"Radu Sebastian LAZIN"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671374499,"creation_date":1671374499,"answer_id":74842238,"question_id":59963733,"body_markdown":"If you get this error in eclipse the problem is that eclipse already has a hamcrest-core library in its plugins folder which has priority over your maven hamcrest library.\r\n\r\nWhat you can do is overwrite the eclipse one (careful to have the same version with the one you have in your maven repositories folder). I am using hamcrest-core 1.3.\r\n\r\nI&#39;ll show the steps for MacOS but should be similar on Windows you just need to find the eclipse plugins folder and maven repositories folder on your own machine.\r\n\r\n1. Close Eclipse.\r\n2. Go to Eclipse plugins folder (on MacOS: `~/.p2/pool/plugins`)\r\n3. Find your hamcrest-core library (for me: `org.hamcrest.core_1.3.0.v20180420-1519.jar`)\r\n4. Make a backup so that you can revert it - rename the file with a different extension (ex: `org.hamcrest.core_1.3.0.v20180420-1519.bck`)\r\n5. Copy from the maven repositories (on MacOS: `~/.m2/repository`) the hamcrest-core library into the plugins folder with the same name (on MacOS: `cp ~/.m2/repository/org/hamcrest/hamcrest-core/1.3/hamcrest-core-1.3.jar org.hamcrest.core_1.3.0.v20180420-1519.jar`)\r\n6. Open Eclipse and run the test, the test should now run correctly.","title":"Hamcrest Matcher signer information does not match signer information of other classes in the same package","body":"<p>If you get this error in eclipse the problem is that eclipse already has a hamcrest-core library in its plugins folder which has priority over your maven hamcrest library.</p>\n<p>What you can do is overwrite the eclipse one (careful to have the same version with the one you have in your maven repositories folder). I am using hamcrest-core 1.3.</p>\n<p>I'll show the steps for MacOS but should be similar on Windows you just need to find the eclipse plugins folder and maven repositories folder on your own machine.</p>\n<ol>\n<li>Close Eclipse.</li>\n<li>Go to Eclipse plugins folder (on MacOS: <code>~/.p2/pool/plugins</code>)</li>\n<li>Find your hamcrest-core library (for me: <code>org.hamcrest.core_1.3.0.v20180420-1519.jar</code>)</li>\n<li>Make a backup so that you can revert it - rename the file with a different extension (ex: <code>org.hamcrest.core_1.3.0.v20180420-1519.bck</code>)</li>\n<li>Copy from the maven repositories (on MacOS: <code>~/.m2/repository</code>) the hamcrest-core library into the plugins folder with the same name (on MacOS: <code>cp ~/.m2/repository/org/hamcrest/hamcrest-core/1.3/hamcrest-core-1.3.jar org.hamcrest.core_1.3.0.v20180420-1519.jar</code>)</li>\n<li>Open Eclipse and run the test, the test should now run correctly.</li>\n</ol>\n"}],"owner":{"account_id":10842310,"reputation":381,"user_id":11801958,"display_name":"seamaster"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6600,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":5,"score":6,"last_activity_date":1671374499,"creation_date":1580288987,"question_id":59963733,"body_markdown":"I&#39;m trying to write some integration tests in my Spring Boot application using REST-Assured and JUnit5 but when I run the following:\r\n\r\n    @SpringBootTest(classes = ProductsApplication.class)\r\n    class ProductsApiTest {\r\n    \r\n      @Before\r\n      public void setup() {\r\n        RestAssured.baseURI = &quot;http://localhost:8080/test/api/products&quot;;\r\n      }\r\n    \r\n      @Test\r\n      public void test1() {\r\n        ValidatableResponse statusCode = given().when().get().then().statusCode(200);\r\n      }\r\n    }\r\n\r\nA nasty error comes up:\r\n\r\n&gt; java.lang.SecurityException: class &quot;org.hamcrest.Matchers&quot;&#39;s signer\r\n&gt; information does not match signer information of other classes in the\r\n&gt; same package\r\n\r\nPlease take a look at my pom.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.1.4.RELEASE&lt;/version&gt;\r\n    \t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t\r\n    \t...\r\n    \t&lt;dependencies&gt;\r\n    \t\t...\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t...\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\t\r\n    \t\t&lt;dependency&gt;\r\n                        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n                        &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                        &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;junit-platform-runner&lt;/artifactId&gt;\r\n                        &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            \r\n           \t\t...\r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/io.rest-assured/rest-assured --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t...\r\n    \t&lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\nHere are the Order and Export + the Libraries the Eclipse project uses:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/UWnoH.png\r\n  [2]: https://i.stack.imgur.com/yhqjc.png\r\n\r\nHow do I set up the Eclipse environment to work with REST-Assured and Hamcrest? Why would this exception be thrown?","title":"Hamcrest Matcher signer information does not match signer information of other classes in the same package","body":"<p>I'm trying to write some integration tests in my Spring Boot application using REST-Assured and JUnit5 but when I run the following:</p>\n\n<pre><code>@SpringBootTest(classes = ProductsApplication.class)\nclass ProductsApiTest {\n\n  @Before\n  public void setup() {\n    RestAssured.baseURI = \"http://localhost:8080/test/api/products\";\n  }\n\n  @Test\n  public void test1() {\n    ValidatableResponse statusCode = given().when().get().then().statusCode(200);\n  }\n}\n</code></pre>\n\n<p>A nasty error comes up:</p>\n\n<blockquote>\n  <p>java.lang.SecurityException: class \"org.hamcrest.Matchers\"'s signer\n  information does not match signer information of other classes in the\n  same package</p>\n</blockquote>\n\n<p>Please take a look at my pom.xml:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.1.4.RELEASE&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    ...\n    &lt;dependencies&gt;\n        ...\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        ...\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;   \n        &lt;dependency&gt;\n                    &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n                    &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n                    &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit-platform-runner&lt;/artifactId&gt;\n                    &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n            ...\n        &lt;!-- https://mvnrepository.com/artifact/io.rest-assured/rest-assured --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\n            &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        ...\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>Here are the Order and Export + the Libraries the Eclipse project uses:\n<a href=\"https://i.stack.imgur.com/UWnoH.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/UWnoH.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/yhqjc.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/yhqjc.png\" alt=\"enter image description here\"></a></p>\n\n<p>How do I set up the Eclipse environment to work with REST-Assured and Hamcrest? Why would this exception be thrown?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":336649,"reputation":5489,"user_id":664421,"accept_rate":100,"display_name":"kensen john"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1305207052,"creation_date":1305207052,"answer_id":5978727,"question_id":5977711,"body_markdown":"Instead you could try doing the following to get the same result.\r\n\r\n - Create a label\r\n - Assign an image to the label using a shell\r\n - Then use &quot;setText()&quot; to write something on the label.\r\n\r\n\r\nThe Text will appear above the image. You will be able to see the image.\r\n\r\n( Showing only relavent code )\r\nExample of Label with text/image.\r\n\r\n     Image image = new Image(display, &quot;c:\\\\picture.jpeg&quot;); \r\n     Shell shell = new Shell(SWT.NO_TRIM);\r\n     shell.setBounds(10,10,200,200);\r\n     shell.setBackgroundImage(image);\r\n     shell.setBackgroundMode(SWT.INHERIT_DEFAULT);\r\n     Label label = new Label(shell, SWT.NONE);\r\n     label.setText(&quot;LAbel text here. &quot;);\r\n\r\n\t\r\nSince you want to make buttons.\r\nYou can use the same logic, using the &quot;Button&quot; api as well.\r\nYou can create a button with an image and then set any text above it.\r\n\r\n( Showing only relavent code )\r\nExample of Button\r\n\r\n\tButton button = new Button(shell, SWT.PUSH);\r\n\tbutton.setImage(image);\r\n\tbutton.setText(&quot;Click Me&quot;);\r\n\t\r\nI hope this is what you are trying to do.\r\n","title":"Transparent Background in Java SWT Label","body":"<p>Instead you could try doing the following to get the same result.</p>\n\n<ul>\n<li>Create a label</li>\n<li>Assign an image to the label using a shell</li>\n<li>Then use \"setText()\" to write something on the label.</li>\n</ul>\n\n<p>The Text will appear above the image. You will be able to see the image.</p>\n\n<p>( Showing only relavent code )\nExample of Label with text/image.</p>\n\n<pre><code> Image image = new Image(display, \"c:\\\\picture.jpeg\"); \n Shell shell = new Shell(SWT.NO_TRIM);\n shell.setBounds(10,10,200,200);\n shell.setBackgroundImage(image);\n shell.setBackgroundMode(SWT.INHERIT_DEFAULT);\n Label label = new Label(shell, SWT.NONE);\n label.setText(\"LAbel text here. \");\n</code></pre>\n\n<p>Since you want to make buttons.\nYou can use the same logic, using the \"Button\" api as well.\nYou can create a button with an image and then set any text above it.</p>\n\n<p>( Showing only relavent code )\nExample of Button</p>\n\n<pre><code>Button button = new Button(shell, SWT.PUSH);\nbutton.setImage(image);\nbutton.setText(\"Click Me\");\n</code></pre>\n\n<p>I hope this is what you are trying to do.</p>\n"},{"tags":[],"owner":{"account_id":1547645,"reputation":11,"user_id":1440805,"display_name":"Will"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1339016325,"creation_date":1339016325,"answer_id":10922193,"question_id":5977711,"body_markdown":"instead of doing\r\n\r\n    drawString(&quot;text&quot;, x, y)\r\n\r\ndo\r\n\r\n    drawString(&quot;text&quot;, x, y, true)\r\n\r\nit will make the background transparent, as per [the documentation][1]\r\n\r\n\r\n  [1]: http://help.eclipse.org/indigo/index.jsp?topic=/org.eclipse.platform.doc.isv/reference/api/org/eclipse/swt/graphics/GC.html","title":"Transparent Background in Java SWT Label","body":"<p>instead of doing</p>\n\n<pre><code>drawString(\"text\", x, y)\n</code></pre>\n\n<p>do</p>\n\n<pre><code>drawString(\"text\", x, y, true)\n</code></pre>\n\n<p>it will make the background transparent, as per <a href=\"http://help.eclipse.org/indigo/index.jsp?topic=/org.eclipse.platform.doc.isv/reference/api/org/eclipse/swt/graphics/GC.html\" rel=\"nofollow\">the documentation</a></p>\n"},{"tags":[],"owner":{"account_id":9098886,"reputation":499,"user_id":6771814,"display_name":"Hartmut Schorrig"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671374437,"creation_date":1671374437,"answer_id":74842229,"question_id":5977711,"body_markdown":"Writing a text (as label) without background seems to be simple possible only in a Canvas using the GC class for the paint routine. I have written an inheritance of Canvas for that:\r\n\r\n    public class SwtTransparentLabel extends Canvas {\r\n      \r\n      String text = &quot;&quot;;\r\n      \r\n      Font font = null;\r\n      \r\n      public SwtTransparentLabel(Composite parent, int style) {\r\n        super(parent, style | SWT.TRANSPARENT);\r\n        addPaintListener(paintListener);\r\n      }\r\n      \r\n      \r\n      public void setText (String string) {\r\n        text = string;\r\n      }\r\n      \r\n      public void setFont (Font font) {\r\n        this.font = font; \r\n      }\r\n\r\n      /**The listener for paint events. It is called whenever the window is shown newly. It does the work for graphic output. */\r\n      protected PaintListener paintListener = new PaintListener() {\r\n        @Override public void paintControl(PaintEvent e) {\r\n          GC gc = e.gc;\r\n          if(font !=null){ gc.setFont(font); }\r\n          //no: gc.setAlpha(100); //... experience, not necessary\r\n          gc.drawString(text, 0, 0, true);\r\n        }\r\n      };\r\n    }\r\n\r\nThat works similar as org.eclipse.swt.widgets.Label. \r\n\r\nI am yet trying to improve the solution (setAlignment is missing). You may visit results on [www.vishia.org/Java][1]\r\n\r\n\r\n  [1]: https://www.vishia.org/Java","title":"Transparent Background in Java SWT Label","body":"<p>Writing a text (as label) without background seems to be simple possible only in a Canvas using the GC class for the paint routine. I have written an inheritance of Canvas for that:</p>\n<pre><code>public class SwtTransparentLabel extends Canvas {\n  \n  String text = &quot;&quot;;\n  \n  Font font = null;\n  \n  public SwtTransparentLabel(Composite parent, int style) {\n    super(parent, style | SWT.TRANSPARENT);\n    addPaintListener(paintListener);\n  }\n  \n  \n  public void setText (String string) {\n    text = string;\n  }\n  \n  public void setFont (Font font) {\n    this.font = font; \n  }\n\n  /**The listener for paint events. It is called whenever the window is shown newly. It does the work for graphic output. */\n  protected PaintListener paintListener = new PaintListener() {\n    @Override public void paintControl(PaintEvent e) {\n      GC gc = e.gc;\n      if(font !=null){ gc.setFont(font); }\n      //no: gc.setAlpha(100); //... experience, not necessary\n      gc.drawString(text, 0, 0, true);\n    }\n  };\n}\n</code></pre>\n<p>That works similar as org.eclipse.swt.widgets.Label.</p>\n<p>I am yet trying to improve the solution (setAlignment is missing). You may visit results on <a href=\"https://www.vishia.org/Java\" rel=\"nofollow noreferrer\">www.vishia.org/Java</a></p>\n"}],"owner":{"account_id":390442,"reputation":15118,"user_id":750511,"accept_rate":81,"display_name":"Carven"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9804,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":5978727,"answer_count":3,"score":5,"last_activity_date":1671374437,"creation_date":1305202028,"question_id":5977711,"body_markdown":"Is there anyway in Java SWT that I can place a label on top of another label and then have the label on top to have a transparent background?\r\n\r\nI am doing this in a class that extends Composite as I want to create a custom SWT &quot;fancy button&quot; out of 2 labels. So the label below will be the lable that consist of only an image while the one on top will be the label with the text of the &quot;fancy button&quot;. But the label on top has to have a transparent background so as to not cover the image below it.\r\n\r\nCurrently, the label on top is covering the label below.\r\n\r\nAny idea how I could do this?\r\n\r\nThanks!","title":"Transparent Background in Java SWT Label","body":"<p>Is there anyway in Java SWT that I can place a label on top of another label and then have the label on top to have a transparent background?</p>\n\n<p>I am doing this in a class that extends Composite as I want to create a custom SWT \"fancy button\" out of 2 labels. So the label below will be the lable that consist of only an image while the one on top will be the label with the text of the \"fancy button\". But the label on top has to have a transparent background so as to not cover the image below it.</p>\n\n<p>Currently, the label on top is covering the label below.</p>\n\n<p>Any idea how I could do this?</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","uml","reverse-engineering","visual-paradigm","package-diagram"],"comments":[{"owner":{"account_id":4118713,"reputation":35681,"user_id":3379653,"accept_rate":82,"display_name":"qwerty_so"},"score":2,"creation_date":1558289904,"post_id":56206258,"comment_id":99042640,"body_markdown":"I don&#39;t know VP but package dependencies aren&#39; created in any tool I know. You will likely have to do that by hand.","body":"I don&#39;t know VP but package dependencies aren&#39; created in any tool I know. You will likely have to do that by hand."}],"answers":[{"tags":[],"owner":{"account_id":9224086,"reputation":638,"user_id":6852429,"display_name":"Rain Wong"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1558331682,"creation_date":1558331682,"answer_id":56215019,"question_id":56206258,"body_markdown":"The Instant Reverse feature (the link you showing) do support reverse Java source to Package Diagram. You can specify the target at the bottom of the dialog.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5bWcT.png","title":"Reverse engineering a Java package diagram in Visual Paradigm","body":"<p>The Instant Reverse feature (the link you showing) do support reverse Java source to Package Diagram. You can specify the target at the bottom of the dialog.\n<a href=\"https://i.stack.imgur.com/5bWcT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5bWcT.png\" alt=\"enter image description here\"></a></p>\n"}],"owner":{"account_id":5552739,"reputation":551,"user_id":4405260,"accept_rate":71,"display_name":"EagleOne"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":792,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":56215019,"answer_count":1,"score":0,"last_activity_date":1671374227,"creation_date":1558256446,"question_id":56206258,"body_markdown":"I am using Visual Paradigm to create UML diagrams from an existing Java project.\r\n\r\nI am following the steps described in [How to reversee engineer UML from Java in Visual Paradigm][1].\r\n\r\nI am trying to create a package diagram from existing packages, but Visual Paradigm isn&#39;t able to show me relationships between packages, so every package is drawn as separated from the others, whereas I need to know relationships too.\r\n\r\nAny tips to make Visual Paradigm show me them?\r\n\r\n\r\n  [1]: https://www.visual-paradigm.com/support/documents/vpuserguide/276/277/28011_reverseengin.html","title":"Reverse engineering a Java package diagram in Visual Paradigm","body":"<p>I am using Visual Paradigm to create UML diagrams from an existing Java project.</p>\n\n<p>I am following the steps described in <a href=\"https://www.visual-paradigm.com/support/documents/vpuserguide/276/277/28011_reverseengin.html\" rel=\"nofollow noreferrer\">How to reversee engineer UML from Java in Visual Paradigm</a>.</p>\n\n<p>I am trying to create a package diagram from existing packages, but Visual Paradigm isn't able to show me relationships between packages, so every package is drawn as separated from the others, whereas I need to know relationships too.</p>\n\n<p>Any tips to make Visual Paradigm show me them?</p>\n"},{"tags":["java","jvm","reverse-engineering","bytecode"],"comments":[{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":2,"creation_date":1611931905,"post_id":65956545,"comment_id":116616062,"body_markdown":"Couldn&#39;t this have a snowball effect requiring you to modify even other classes that depend on ones you&#39;ve modified?   What are you going to do about native methods that might access that value that would not be decompiled from the compiled classes?","body":"Couldn&#39;t this have a snowball effect requiring you to modify even other classes that depend on ones you&#39;ve modified?   What are you going to do about native methods that might access that value that would not be decompiled from the compiled classes?"},{"owner":{"account_id":20580553,"reputation":21,"user_id":15106768,"display_name":"meepledemeep"},"score":0,"creation_date":1611937334,"post_id":65956545,"comment_id":116618966,"body_markdown":"Yeah I know that this could happen, but the variable is a filesizelimit for an upload operation to an on-premise server and they want it to be larger. So basically from customer view we were told &quot;we know what we are doing&quot; whatever this means...","body":"Yeah I know that this could happen, but the variable is a filesizelimit for an upload operation to an on-premise server and they want it to be larger. So basically from customer view we were told &quot;we know what we are doing&quot; whatever this means..."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1612174627,"post_id":65956545,"comment_id":116674774,"body_markdown":"That seems to be a bit naive. Changing the variables’s type doesn’t change the program logic. The limit is imposed by the *value* stored in the variable. So you have to change all the code responsible for determining that value and assigning it to the variable. Then, there is the code *using* that variable. If the original authors created the variable with a smaller datatype, it’s rather unlikely that the code using it can handle larger datatypes. This may imply that the code doing the actual upload can not handle it.","body":"That seems to be a bit naive. Changing the variables’s type doesn’t change the program logic. The limit is imposed by the <i>value</i> stored in the variable. So you have to change all the code responsible for determining that value and assigning it to the variable. Then, there is the code <i>using</i> that variable. If the original authors created the variable with a smaller datatype, it’s rather unlikely that the code using it can handle larger datatypes. This may imply that the code doing the actual upload can not handle it."}],"answers":[{"tags":[],"owner":{"account_id":997513,"reputation":12945,"user_id":3893496,"accept_rate":54,"display_name":"arcy"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1611931983,"creation_date":1611931983,"answer_id":65956731,"question_id":65956545,"body_markdown":"Well, if you decompile it to make changes and recompile, then you&#39;re not going to need to change the byte code directly.\r\n\r\nIf you change the type, you&#39;ll have to change the type of any methods (like getters and setters) that use the variable. Then you&#39;ll need to change the calls of any methods in all classes that CALL those methods, and the types of their variables that hold these values, etc. The good news is that, if you manage to decompile it successfully, your IDE will tell you where all those places are, assuming the new type is incompatible with the old type.\r\n\r\nI would evaluate this as &quot;theoretically possible&quot;, but problematic. With the little information you&#39;ve given us, there&#39;s no way to know the size of the job AFTER you successfully decompile the entire application.","title":"Reverse Engineer Java *.class file to change data type of variable","body":"<p>Well, if you decompile it to make changes and recompile, then you're not going to need to change the byte code directly.</p>\n<p>If you change the type, you'll have to change the type of any methods (like getters and setters) that use the variable. Then you'll need to change the calls of any methods in all classes that CALL those methods, and the types of their variables that hold these values, etc. The good news is that, if you manage to decompile it successfully, your IDE will tell you where all those places are, assuming the new type is incompatible with the old type.</p>\n<p>I would evaluate this as &quot;theoretically possible&quot;, but problematic. With the little information you've given us, there's no way to know the size of the job AFTER you successfully decompile the entire application.</p>\n"},{"tags":[],"owner":{"account_id":997513,"reputation":12945,"user_id":3893496,"accept_rate":54,"display_name":"arcy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1611960746,"creation_date":1611960746,"answer_id":65962790,"question_id":65956545,"body_markdown":"I have a wild and crazy idea; I haven&#39;t done this, but as long as we&#39;re talking about things that are theoretically possible...\r\n\r\nIF you manage to decompile all the code and get a system that you can recompile and run (and I strongly recommend you do that before you make any changes), if you are able to identify where the int is that you want to replace with a long, and then all the direct and indirect references to it, hopefully (because it&#39;s just this file size limit that you mention elsewhere) you end up with only a handful of classes.\r\n\r\nThe decompile should tell you their names. Create new classes with the exact same names, containing (of course) all their decompiled code. Change the methods that you need to change.\r\n\r\nNow put those classes in a jar that is searched before the jar containing the application. You&#39;re limiting the number of classes for which you&#39;re providing new .class files to just those. This makes it easier to see exactly what has been changed, for future programmers, if it doesn&#39;t do anything else. It&#39;s possible because of the way Java handles its runtime; the step that&#39;s equivalent to &#39;linking&#39; in a traditional compiled non-virtual-machine language happens when the class is loaded, instead of at compile time.","title":"Reverse Engineer Java *.class file to change data type of variable","body":"<p>I have a wild and crazy idea; I haven't done this, but as long as we're talking about things that are theoretically possible...</p>\n<p>IF you manage to decompile all the code and get a system that you can recompile and run (and I strongly recommend you do that before you make any changes), if you are able to identify where the int is that you want to replace with a long, and then all the direct and indirect references to it, hopefully (because it's just this file size limit that you mention elsewhere) you end up with only a handful of classes.</p>\n<p>The decompile should tell you their names. Create new classes with the exact same names, containing (of course) all their decompiled code. Change the methods that you need to change.</p>\n<p>Now put those classes in a jar that is searched before the jar containing the application. You're limiting the number of classes for which you're providing new .class files to just those. This makes it easier to see exactly what has been changed, for future programmers, if it doesn't do anything else. It's possible because of the way Java handles its runtime; the step that's equivalent to 'linking' in a traditional compiled non-virtual-machine language happens when the class is loaded, instead of at compile time.</p>\n"},{"tags":[],"owner":{"account_id":981291,"reputation":3640,"user_id":1000939,"display_name":"Erdogan Kurtur"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645772744,"creation_date":1645772744,"answer_id":71262210,"question_id":65956545,"body_markdown":"I did that. Not exactly that, but something very similar. Instead of decompiling and recompiling, which is very long, and tedious, I directly edited the byte-code of the class file.\r\n\r\n\r\n**pros**\r\n* You do not need to compile anything at all, you just edit a file\r\n* no SDK, no IDE, etc is necessary, just a java-byte code editor\r\n* for small changes you can get away with single method modification\r\n\r\n**cons**\r\n* very-very error-prone even if you know what you are doing\r\n* no way to track changes as you do with git\r\n* will probably require modifying all dependent classes\r\n* you should have some knowledge about how compiled code looks like, and behaves before even attempting such a thing.\r\n* you will most likely break a law or two since this will not be for &quot;educational&quot; purposes\r\n* you will be marked as &quot;the hacker&quot; and every odd job will be forwarded to you\r\n\r\nPS: I had to edit licensing class of a product to allow more users. The company writing it ceased to exist, so buying was not an option. We switched to a new product anyway, it was just temporarily. ","title":"Reverse Engineer Java *.class file to change data type of variable","body":"<p>I did that. Not exactly that, but something very similar. Instead of decompiling and recompiling, which is very long, and tedious, I directly edited the byte-code of the class file.</p>\n<p><strong>pros</strong></p>\n<ul>\n<li>You do not need to compile anything at all, you just edit a file</li>\n<li>no SDK, no IDE, etc is necessary, just a java-byte code editor</li>\n<li>for small changes you can get away with single method modification</li>\n</ul>\n<p><strong>cons</strong></p>\n<ul>\n<li>very-very error-prone even if you know what you are doing</li>\n<li>no way to track changes as you do with git</li>\n<li>will probably require modifying all dependent classes</li>\n<li>you should have some knowledge about how compiled code looks like, and behaves before even attempting such a thing.</li>\n<li>you will most likely break a law or two since this will not be for &quot;educational&quot; purposes</li>\n<li>you will be marked as &quot;the hacker&quot; and every odd job will be forwarded to you</li>\n</ul>\n<p>PS: I had to edit licensing class of a product to allow more users. The company writing it ceased to exist, so buying was not an option. We switched to a new product anyway, it was just temporarily.</p>\n"}],"owner":{"account_id":20580553,"reputation":21,"user_id":15106768,"display_name":"meepledemeep"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":739,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1671374142,"creation_date":1611931342,"question_id":65956545,"body_markdown":"I have a problem with an old application which runs on a Java Tomcat server and the source code for the application is not fully available, but the .class files are obviously all running on the tomcat server.\r\n\r\nCan I somehow manipulate the bytecode of a .class file (used by JVM) so that I can change a variables datatype (because this is what has to be done)? Or even reverse engineer it to its old .java source code?\r\n\r\nI have used decompilers and javap command up to now. Can I somehow copy the whole Tomcat application and:\r\n1) decompile it\r\n2) do my changes\r\n3) recompile it?\r\n\r\n","title":"Reverse Engineer Java *.class file to change data type of variable","body":"<p>I have a problem with an old application which runs on a Java Tomcat server and the source code for the application is not fully available, but the .class files are obviously all running on the tomcat server.</p>\n<p>Can I somehow manipulate the bytecode of a .class file (used by JVM) so that I can change a variables datatype (because this is what has to be done)? Or even reverse engineer it to its old .java source code?</p>\n<p>I have used decompilers and javap command up to now. Can I somehow copy the whole Tomcat application and:</p>\n<ol>\n<li>decompile it</li>\n<li>do my changes</li>\n<li>recompile it?</li>\n</ol>\n"},{"tags":["java","reverse-engineering"],"comments":[{"owner":{"account_id":50535,"reputation":35297,"user_id":150771,"accept_rate":83,"display_name":"Chris Thompson"},"score":0,"creation_date":1296488012,"post_id":4852649,"comment_id":5390023,"body_markdown":"Do you have the source code or are you only working with `.class` files/jars?","body":"Do you have the source code or are you only working with <code>.class</code> files/jars?"},{"owner":{"account_id":216384,"reputation":23447,"user_id":471607,"accept_rate":73,"display_name":"Umesh Awasthi"},"score":0,"creation_date":1296488175,"post_id":4852649,"comment_id":5390064,"body_markdown":"@Chris: i have told to access to source code","body":"@Chris: i have told to access to source code"},{"owner":{"account_id":282965,"reputation":3495,"user_id":580197,"display_name":"Eric Giguere"},"score":0,"creation_date":1296488231,"post_id":4852649,"comment_id":5390078,"body_markdown":"Yeah, good question. I was assuming there was no source code, but if there is then it&#39;s an easier solution for sure...","body":"Yeah, good question. I was assuming there was no source code, but if there is then it&#39;s an easier solution for sure..."},{"owner":{"account_id":10258,"reputation":26460,"user_id":19276,"accept_rate":81,"display_name":"DJClayworth"},"score":2,"creation_date":1296489157,"post_id":4852649,"comment_id":5390309,"body_markdown":"Reverse engineering is the recreation of a device that performs the same as an existing device, without knowledge of the internals. If you have the source code for something you are not reverse engineering it. You are refactoring it, or documenting it.","body":"Reverse engineering is the recreation of a device that performs the same as an existing device, without knowledge of the internals. If you have the source code for something you are not reverse engineering it. You are refactoring it, or documenting it."}],"answers":[{"tags":[],"owner":{"account_id":282965,"reputation":3495,"user_id":580197,"display_name":"Eric Giguere"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1434048045,"creation_date":1296488037,"answer_id":4852667,"question_id":4852649,"body_markdown":"There are several Java decompilers that will help you, such as [JD-Core][1], and there&#39;s an Eclipse version of it.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Java_Decompiler","title":"Reverse Engineering in Java","body":"<p>There are several Java decompilers that will help you, such as <a href=\"http://en.wikipedia.org/wiki/Java_Decompiler\" rel=\"nofollow\">JD-Core</a>, and there's an Eclipse version of it.</p>\n"},{"tags":[],"owner":{"account_id":50535,"reputation":35297,"user_id":150771,"accept_rate":83,"display_name":"Chris Thompson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1296488087,"creation_date":1296488087,"answer_id":4852678,"question_id":4852649,"body_markdown":"The answer to question (2) will depend on your answer to my comment, but for question (1), check out [this page][1] that gives a tutorial on how to use eclipse to generate a UML class diagram from source.\r\n\r\n\r\n  [1]: http://agile.csc.ncsu.edu/SEMaterials/tutorials/class_diagrams/","title":"Reverse Engineering in Java","body":"<p>The answer to question (2) will depend on your answer to my comment, but for question (1), check out <a href=\"http://agile.csc.ncsu.edu/SEMaterials/tutorials/class_diagrams/\" rel=\"nofollow\">this page</a> that gives a tutorial on how to use eclipse to generate a UML class diagram from source.</p>\n"},{"tags":[],"owner":{"account_id":279365,"reputation":49126,"user_id":574479,"accept_rate":87,"display_name":"biziclop"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1395521821,"creation_date":1296488179,"answer_id":4852689,"question_id":4852649,"body_markdown":"&lt;strike&gt;I&#39;d start with decompiling the module and making sure that the decompiled code can be reassembled into a working library. You can use [JD][1] for example.&lt;/strike&gt; I can see now that you&#39;ve got the source code already.\r\n\r\nGetting a compilable source code first is important, because you will have to add comments and javadoc as you explore it. You don&#39;t have to work with the original binary anymore, just treat the decompiled source code as a very badly documented normal code. It is also a good idea to rename local variables and method parameters to make the code easier to read.\r\n\r\nGenerating class diagrams from `.java` files should be easy then.\r\n\r\nUnderstanding the flow can be done in two ways, manually or using a profiler. For both methods you need to find the entry points first, but if you&#39;re already using the library, these should be fairly obvious. Then you just invoke the API method and step through the code. Always make notes of anything interesting you encounter. (In many ways, exploring unknown code is similar to exploring a dungeon in a good old adventure game.) Convert these notes into javadoc comments so you can generate more informative javadocs as you go along.\r\n\r\nThe profiler method is more about discovering the general patterns of calls, but every profiler should have a call stack view you can use.\r\n\r\n\r\n  [1]: http://java.decompiler.free.fr/","title":"Reverse Engineering in Java","body":"<p><strike>I'd start with decompiling the module and making sure that the decompiled code can be reassembled into a working library. You can use <a href=\"http://java.decompiler.free.fr/\" rel=\"nofollow\">JD</a> for example.</strike> I can see now that you've got the source code already.</p>\n\n<p>Getting a compilable source code first is important, because you will have to add comments and javadoc as you explore it. You don't have to work with the original binary anymore, just treat the decompiled source code as a very badly documented normal code. It is also a good idea to rename local variables and method parameters to make the code easier to read.</p>\n\n<p>Generating class diagrams from <code>.java</code> files should be easy then.</p>\n\n<p>Understanding the flow can be done in two ways, manually or using a profiler. For both methods you need to find the entry points first, but if you're already using the library, these should be fairly obvious. Then you just invoke the API method and step through the code. Always make notes of anything interesting you encounter. (In many ways, exploring unknown code is similar to exploring a dungeon in a good old adventure game.) Convert these notes into javadoc comments so you can generate more informative javadocs as you go along.</p>\n\n<p>The profiler method is more about discovering the general patterns of calls, but every profiler should have a call stack view you can use.</p>\n"}],"owner":{"account_id":216384,"reputation":23447,"user_id":471607,"accept_rate":73,"display_name":"Umesh Awasthi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20236,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":4852667,"answer_count":3,"score":4,"last_activity_date":1671374122,"creation_date":1296487901,"question_id":4852649,"body_markdown":"I know that the same question has been asked many times on SO and I have gone through most of the threads. However, I still dot not have a satisfactory answer, so I thought of asking from community.\r\n\r\nI am being assigned the work to do reverse engineering to a module and have the following issues:\r\n\r\n 1. The team has no idea what exactly is in the underlying component\r\n    (Module is a third party solution)\r\n 2. Team was only working on testing part so they can only provide me\r\n    information about the flow, but what is the starting point and which\r\n    is where they have no idea.\r\n\r\nNow they want me to dig through the code base and come up with class diagrams as well as sequence flow etc.\r\n\r\nI have never worked in my professional life in this kind of situation where there is no idea where to start and how to do this work. The only thing I have is source code. \r\n\r\nI have two questions where I want the help:\r\n\r\n 1. Is there any plugin for Eclipse which can generate class diagrams\r\n    automatically from the source code?\r\n 2. What should the approach be when one is in this kind of situation?\r\n\r\n**Update:\r\nI will have access to the source code. So I am more inclined towards the best approach to accomplish the task**","title":"Reverse Engineering in Java","body":"<p>I know that the same question has been asked many times on SO and I have gone through most of the threads. However, I still dot not have a satisfactory answer, so I thought of asking from community.</p>\n\n<p>I am being assigned the work to do reverse engineering to a module and have the following issues:</p>\n\n<ol>\n<li>The team has no idea what exactly is in the underlying component\n(Module is a third party solution)</li>\n<li>Team was only working on testing part so they can only provide me\ninformation about the flow, but what is the starting point and which\nis where they have no idea.</li>\n</ol>\n\n<p>Now they want me to dig through the code base and come up with class diagrams as well as sequence flow etc.</p>\n\n<p>I have never worked in my professional life in this kind of situation where there is no idea where to start and how to do this work. The only thing I have is source code. </p>\n\n<p>I have two questions where I want the help:</p>\n\n<ol>\n<li>Is there any plugin for Eclipse which can generate class diagrams\nautomatically from the source code?</li>\n<li>What should the approach be when one is in this kind of situation?</li>\n</ol>\n\n<p><strong>Update:\nI will have access to the source code. So I am more inclined towards the best approach to accomplish the task</strong></p>\n"},{"tags":["java","hadoop","mahout","mahout-recommender"],"comments":[{"owner":{"account_id":7908129,"reputation":98,"user_id":5972950,"display_name":"Java Samurai"},"score":1,"creation_date":1671165680,"post_id":74820001,"comment_id":132044983,"body_markdown":"It seems the mahout-core is not present in the classpath of the cluster, assuming the class in the error belongs to mentioned library. Is there a way you can check this?","body":"It seems the mahout-core is not present in the classpath of the cluster, assuming the class in the error belongs to mentioned library. Is there a way you can check this?"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1671374027,"post_id":74820001,"comment_id":132081517,"body_markdown":"You need to use hadoop-core 3.3.1 (or whatever version your cluster is ; all hadoop versions need to be the same)","body":"You need to use hadoop-core 3.3.1 (or whatever version your cluster is ; all hadoop versions need to be the same)"}],"owner":{"account_id":8867469,"reputation":100,"user_id":6622186,"display_name":"Ankur Chauhan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671374045,"creation_date":1671162665,"question_id":74820001,"body_markdown":"I am trying to run the mahout code in the Hadoop cluster, it is throwing the below error.\r\n\r\n&gt; Error: java.lang.ClassNotFoundException:\r\n&gt; org.apache.mahout.cf.taste.model.DataModel \tat\r\n&gt; java.net.URLClassLoader.findClass(URLClassLoader.java:387) \tat\r\n&gt; java.lang.ClassLoader.loadClass(ClassLoader.java:418) \tat\r\n&gt; sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:355) \tat\r\n&gt; java.lang.ClassLoader.loadClass(ClassLoader.java:351) \tat\r\n&gt; java.lang.Class.forName0(Native Method) \tat\r\n&gt; java.lang.Class.forName(Class.java:348) \tat\r\n&gt; org.apache.hadoop.conf.Configuration.getClassByNameOrNull(Configuration.java:2625)\r\n&gt; \tat\r\n&gt; org.apache.hadoop.conf.Configuration.getClassByName(Configuration.java:2590)\r\n&gt; \tat\r\n&gt; org.apache.hadoop.conf.Configuration.getClass(Configuration.java:2686)\r\n&gt; \tat\r\n&gt; org.apache.hadoop.mapreduce.task.JobContextImpl.getReducerClass(JobContextImpl.java:211)\r\n&gt; \tat\r\n&gt; org.apache.hadoop.mapred.ReduceTask.runNewReducer(ReduceTask.java:614)\r\n&gt; \tat org.apache.hadoop.mapred.ReduceTask.run(ReduceTask.java:390) \tat\r\n&gt; org.apache.hadoop.mapred.YarnChild$2.run(YarnChild.java:178) \tat\r\n&gt; java.security.AccessController.doPrivileged(Native Method) \tat\r\n&gt; javax.security.auth.Subject.doAs(Subject.java:422) \tat\r\n&gt; org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1878)\r\n&gt; \tat org.apache.hadoop.mapred.YarnChild.main(YarnChild.java:172)\r\n\r\nAlthough it&#39;s working fine in local. Here&#39;s my pom.xml\r\n\r\n        &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hadoop-client&lt;/artifactId&gt;\r\n            &lt;version&gt;3.3.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hadoop-core&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;version&gt;1.18.24&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.mahout&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mahout-core&lt;/artifactId&gt;\r\n            &lt;version&gt;0.9&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-math3&lt;/artifactId&gt;\r\n            &lt;version&gt;3.6.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n    &lt;/dependencies&gt;","title":"Running Mahout in Hadoop Cluster - java.lang.ClassNotFoundException","body":"<p>I am trying to run the mahout code in the Hadoop cluster, it is throwing the below error.</p>\n<blockquote>\n<p>Error: java.lang.ClassNotFoundException:\norg.apache.mahout.cf.taste.model.DataModel    at\njava.net.URLClassLoader.findClass(URLClassLoader.java:387)    at\njava.lang.ClassLoader.loadClass(ClassLoader.java:418)     at\nsun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:355)     at\njava.lang.ClassLoader.loadClass(ClassLoader.java:351)     at\njava.lang.Class.forName0(Native Method)   at\njava.lang.Class.forName(Class.java:348)   at\norg.apache.hadoop.conf.Configuration.getClassByNameOrNull(Configuration.java:2625)\nat\norg.apache.hadoop.conf.Configuration.getClassByName(Configuration.java:2590)\nat\norg.apache.hadoop.conf.Configuration.getClass(Configuration.java:2686)\nat\norg.apache.hadoop.mapreduce.task.JobContextImpl.getReducerClass(JobContextImpl.java:211)\nat\norg.apache.hadoop.mapred.ReduceTask.runNewReducer(ReduceTask.java:614)\nat org.apache.hadoop.mapred.ReduceTask.run(ReduceTask.java:390)     at\norg.apache.hadoop.mapred.YarnChild$2.run(YarnChild.java:178)  at\njava.security.AccessController.doPrivileged(Native Method)    at\njavax.security.auth.Subject.doAs(Subject.java:422)    at\norg.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1878)\nat org.apache.hadoop.mapred.YarnChild.main(YarnChild.java:172)</p>\n</blockquote>\n<p>Although it's working fine in local. Here's my pom.xml</p>\n<pre><code>    &lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\n        &lt;artifactId&gt;hadoop-client&lt;/artifactId&gt;\n        &lt;version&gt;3.3.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\n        &lt;artifactId&gt;hadoop-core&lt;/artifactId&gt;\n        &lt;version&gt;1.2.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;version&gt;1.18.24&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.mahout&lt;/groupId&gt;\n        &lt;artifactId&gt;mahout-core&lt;/artifactId&gt;\n        &lt;version&gt;0.9&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-math3&lt;/artifactId&gt;\n        &lt;version&gt;3.6.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n&lt;/dependencies&gt;\n</code></pre>\n"},{"tags":["java","apache-spark","pyspark"],"comments":[{"owner":{"account_id":9604189,"reputation":618,"user_id":7130689,"display_name":"devesh"},"score":1,"creation_date":1671204596,"post_id":74826038,"comment_id":132055565,"body_markdown":"check environment variable values and for warning https://stackoverflow.com/a/24927214/7130689","body":"check environment variable values and for warning <a href=\"https://stackoverflow.com/a/24927214/7130689\">stackoverflow.com/a/24927214/7130689</a>"}],"owner":{"account_id":27273474,"reputation":11,"user_id":20794462,"display_name":"احمد عبده"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":545,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1671373643,"creation_date":1671202148,"question_id":74826038,"body_markdown":"the command line is always showing me this problem when I am trying to start spark. I tried to run it from Jupiter notebook and from command line. it gives the same problem. \r\n\r\n```\r\nUnable to get Charset &#39;cp720&#39; for property &#39;sun.stdout.encoding&#39;, using default windows-1256 and continuing. \r\nWARN NativeCodeLoader: Unable to load native-hadoop library for your platform.\r\nERROR SparkContext: Error initializing SparkContext.\r\n```\r\n[this is the error](https://i.stack.imgur.com/gSBkb.png)","title":"how to fix unable to get Charset &#39;cp720&#39; for property &#39;sun.stdout.encoding&#39;, using default windows-1256 and continuing.?","body":"<p>the command line is always showing me this problem when I am trying to start spark. I tried to run it from Jupiter notebook and from command line. it gives the same problem.</p>\n<pre><code>Unable to get Charset 'cp720' for property 'sun.stdout.encoding', using default windows-1256 and continuing. \nWARN NativeCodeLoader: Unable to load native-hadoop library for your platform.\nERROR SparkContext: Error initializing SparkContext.\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/gSBkb.png\" rel=\"nofollow noreferrer\">this is the error</a></p>\n"},{"tags":["java","security","trustmanager","x509trustmanager","hostname-verifier"],"answers":[{"tags":[],"owner":{"account_id":6130626,"reputation":140,"user_id":4780940,"accept_rate":80,"display_name":"Vedant Dixit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671372837,"creation_date":1671372837,"answer_id":74842035,"question_id":74840376,"body_markdown":"ChatGPT came to rescue and solved the issue. I used default JSSE implementation for both. For sslcontext https://stackoverflow.com/questions/15269419/how-do-i-provide-a-specific-truststore-while-using-the-default-keystore-in-java ,this answer served as guiding light while for hostname verifier HttpsURLConnection.getDefaultHostnameVerifier() method can be used. My final code looks like this:\r\n```\r\n public String nsdlResponseLine(String data, String signature){\r\n\r\n        String line = null;\r\n        try {\r\n            String urlOfNsdl = nsdlKycVerificationUrl;\r\n            final String version = nsdlKycVerificationVersion;\r\n            SSLContext  sslcontext = SSLContext.getInstance(&quot;TLSv1.2&quot;);\r\n            String  keyStore = System.getProperty(&quot;javax.net.ssl.keyStore&quot;);\r\n            String  keyStoreType = System.getProperty(&quot;javax.net.ssl.keyStoreType&quot;, KeyStore.getDefaultType());\r\n            String  keyStorePassword = System.getProperty(&quot;javax.net.ssl.keyStorePassword&quot;,&quot;&quot;);\r\n            KeyManager[]    kms = null;\r\n            if (keyStore != null) {\r\n                KeyManagerFactory kmf = KeyManagerFactory.getInstance(KeyManagerFactory.getDefaultAlgorithm());\r\n                KeyStore ks = KeyStore.getInstance(keyStoreType);\r\n                if (keyStore != null &amp;&amp; !keyStore.equals(&quot;NONE&quot;)) {\r\n                    FileInputStream fs = new FileInputStream(keyStore);\r\n                    ks.load(fs, keyStorePassword.toCharArray());\r\n                    if (fs != null)\r\n                        fs.close();\r\n                    char[] password = null;\r\n                    if (keyStorePassword.length() &gt; 0)\r\n                        password = keyStorePassword.toCharArray();\r\n                    kmf.init(ks, password);\r\n                    kms = kmf.getKeyManagers();\r\n                }\r\n                sslcontext.init(kms, null, null);\r\n            }\r\n\r\n            SSLSocketFactory factory = sslcontext.getSocketFactory();\r\n            String urlParameters = getUrlParameters(data, signature, version);\r\n            URL url = new URL(urlOfNsdl);\r\n\r\n            HttpsURLConnection connection = (HttpsURLConnection) url.openConnection();\r\n            connection.setRequestMethod(&quot;POST&quot;);\r\n            connection.setRequestProperty(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;);\r\n            connection.setRequestProperty(&quot;Content-Length&quot;, &quot;&quot; + Integer.toString(urlParameters.getBytes().length));\r\n            connection.setRequestProperty(&quot;Content-Language&quot;, &quot;en-US&quot;);\r\n            connection.setUseCaches(false);\r\n            connection.setDoInput(true);\r\n            connection.setDoOutput(true);\r\n            connection.setSSLSocketFactory(factory);\r\n            connection.setHostnameVerifier(HttpsURLConnection.getDefaultHostnameVerifier());\r\n            OutputStream os = connection.getOutputStream();\r\n            OutputStreamWriter osw = new OutputStreamWriter(os);\r\n            osw.write(urlParameters);\r\n            osw.flush();\r\n            osw.close();\r\n\r\n            InputStream is = connection.getInputStream();\r\n            BufferedReader in = new BufferedReader(new InputStreamReader(is));\r\n            line = in.readLine();\r\n            is.close();\r\n            in.close();\r\n        } catch (Exception e) {\r\n            log.debug(&quot;::Exception: {}&quot;,e.getMessage());\r\n        }\r\n        log.debug(&quot;line;{}&quot;,line);\r\n        return line;\r\n    }\r\n\r\n    private String getUrlParameters(String data, String signature, String version) throws UnsupportedEncodingException {\r\n        return &quot;data=&quot; + URLEncoder.encode(data, &quot;UTF-8&quot;) + &quot;&amp;signature=&quot; + URLEncoder.encode(signature, &quot;UTF-8&quot;) + &quot;&amp;version=&quot; + URLEncoder.encode(version, &quot;UTF-8&quot;);\r\n    }\r\n```","title":"Custom Implementation of Trust Manager and Hostname Verifier","body":"<p>ChatGPT came to rescue and solved the issue. I used default JSSE implementation for both. For sslcontext <a href=\"https://stackoverflow.com/questions/15269419/how-do-i-provide-a-specific-truststore-while-using-the-default-keystore-in-java\">How do I provide a specific TrustStore while using the default KeyStore in Java (JSSE)</a> ,this answer served as guiding light while for hostname verifier HttpsURLConnection.getDefaultHostnameVerifier() method can be used. My final code looks like this:</p>\n<pre><code> public String nsdlResponseLine(String data, String signature){\n\n        String line = null;\n        try {\n            String urlOfNsdl = nsdlKycVerificationUrl;\n            final String version = nsdlKycVerificationVersion;\n            SSLContext  sslcontext = SSLContext.getInstance(&quot;TLSv1.2&quot;);\n            String  keyStore = System.getProperty(&quot;javax.net.ssl.keyStore&quot;);\n            String  keyStoreType = System.getProperty(&quot;javax.net.ssl.keyStoreType&quot;, KeyStore.getDefaultType());\n            String  keyStorePassword = System.getProperty(&quot;javax.net.ssl.keyStorePassword&quot;,&quot;&quot;);\n            KeyManager[]    kms = null;\n            if (keyStore != null) {\n                KeyManagerFactory kmf = KeyManagerFactory.getInstance(KeyManagerFactory.getDefaultAlgorithm());\n                KeyStore ks = KeyStore.getInstance(keyStoreType);\n                if (keyStore != null &amp;&amp; !keyStore.equals(&quot;NONE&quot;)) {\n                    FileInputStream fs = new FileInputStream(keyStore);\n                    ks.load(fs, keyStorePassword.toCharArray());\n                    if (fs != null)\n                        fs.close();\n                    char[] password = null;\n                    if (keyStorePassword.length() &gt; 0)\n                        password = keyStorePassword.toCharArray();\n                    kmf.init(ks, password);\n                    kms = kmf.getKeyManagers();\n                }\n                sslcontext.init(kms, null, null);\n            }\n\n            SSLSocketFactory factory = sslcontext.getSocketFactory();\n            String urlParameters = getUrlParameters(data, signature, version);\n            URL url = new URL(urlOfNsdl);\n\n            HttpsURLConnection connection = (HttpsURLConnection) url.openConnection();\n            connection.setRequestMethod(&quot;POST&quot;);\n            connection.setRequestProperty(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;);\n            connection.setRequestProperty(&quot;Content-Length&quot;, &quot;&quot; + Integer.toString(urlParameters.getBytes().length));\n            connection.setRequestProperty(&quot;Content-Language&quot;, &quot;en-US&quot;);\n            connection.setUseCaches(false);\n            connection.setDoInput(true);\n            connection.setDoOutput(true);\n            connection.setSSLSocketFactory(factory);\n            connection.setHostnameVerifier(HttpsURLConnection.getDefaultHostnameVerifier());\n            OutputStream os = connection.getOutputStream();\n            OutputStreamWriter osw = new OutputStreamWriter(os);\n            osw.write(urlParameters);\n            osw.flush();\n            osw.close();\n\n            InputStream is = connection.getInputStream();\n            BufferedReader in = new BufferedReader(new InputStreamReader(is));\n            line = in.readLine();\n            is.close();\n            in.close();\n        } catch (Exception e) {\n            log.debug(&quot;::Exception: {}&quot;,e.getMessage());\n        }\n        log.debug(&quot;line;{}&quot;,line);\n        return line;\n    }\n\n    private String getUrlParameters(String data, String signature, String version) throws UnsupportedEncodingException {\n        return &quot;data=&quot; + URLEncoder.encode(data, &quot;UTF-8&quot;) + &quot;&amp;signature=&quot; + URLEncoder.encode(signature, &quot;UTF-8&quot;) + &quot;&amp;version=&quot; + URLEncoder.encode(version, &quot;UTF-8&quot;);\n    }\n</code></pre>\n"}],"owner":{"account_id":6130626,"reputation":140,"user_id":4780940,"accept_rate":80,"display_name":"Vedant Dixit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":312,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671372837,"creation_date":1671356715,"question_id":74840376,"body_markdown":"I am making post request to a third party service setting the hostname verifier and trust manager. The default pass all implementation however doesn&#39;t pass sonarcloud checks and gives errors which are attached in screenshots below. Have browsed for hours searching for custom implementation but haven&#39;t found anything. Please suggest of any resources or implementation you may have with yourself. Here is the code for the same:\r\n```\r\npublic static class DummyTrustManager implements X509TrustManager {\r\n\r\n        public DummyTrustManager() {\r\n        }\r\n\r\n        public boolean isClientTrusted(X509Certificate cert[]) {\r\n            return true;\r\n        }\r\n\r\n        public boolean isServerTrusted(X509Certificate cert[]) {\r\n            return true;\r\n        }\r\n\r\n        public X509Certificate[] getAcceptedIssuers() {\r\n            return new X509Certificate[0];\r\n        }\r\n\r\n        public void checkClientTrusted(X509Certificate[] arg0, String arg1) throws CertificateException {\r\n\r\n        }\r\n\r\n        public void checkServerTrusted(X509Certificate[] arg0, String arg1) throws CertificateException {\r\n\r\n        }\r\n    }\r\n\r\n    public static class DummyHostnameVerifier implements HostnameVerifier {\r\n\r\n        public boolean verify(String urlHostname, String certHostname) {\r\n            return true;\r\n        }\r\n\r\n        public boolean verify(String arg0, SSLSession arg1) {\r\n            return true;\r\n        }\r\n    }\r\n\r\n    public String nsdlResponseLine(String data, String signature){\r\n\r\n        String line = null;\r\n        try {\r\n            String urlOfNsdl = nsdlKycVerificationUrl;\r\n            final String version = nsdlKycVerificationVersion;\r\n            SSLContext sslcontext = SSLContext.getInstance(&quot;TLSv1.2&quot;);\r\n            sslcontext.init(new KeyManager[0],\r\n                    new TrustManager[]{new DummyTrustManager()},\r\n                    new SecureRandom());\r\n            SSLSocketFactory factory = sslcontext.getSocketFactory();\r\n            String urlParameters = getUrlParameters(data, signature, version);\r\n            URL url = new URL(urlOfNsdl);\r\n\r\n            connection = (HttpsURLConnection) url.openConnection();\r\n            connection.setRequestMethod(&quot;POST&quot;);\r\n            connection.setRequestProperty(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;);\r\n            connection.setRequestProperty(&quot;Content-Length&quot;, &quot;&quot; + Integer.toString(urlParameters.getBytes().length));\r\n            connection.setRequestProperty(&quot;Content-Language&quot;, &quot;en-US&quot;);\r\n            connection.setUseCaches(false);\r\n            connection.setDoInput(true);\r\n            connection.setDoOutput(true);\r\n            connection.setSSLSocketFactory(factory);\r\n            connection.setHostnameVerifier(new DummyHostnameVerifier());\r\n            OutputStream os = connection.getOutputStream();\r\n            OutputStreamWriter osw = new OutputStreamWriter(os);\r\n            osw.write(urlParameters);\r\n            osw.flush();\r\n            osw.close();\r\n\r\n            InputStream is = connection.getInputStream();\r\n            BufferedReader in = new BufferedReader(new InputStreamReader(is));\r\n            line = in.readLine();\r\n            is.close();\r\n            in.close();\r\n        } catch (Exception e) {\r\n            log.debug(&quot;::Exception: {}&quot;,e.getMessage());\r\n        }\r\n        return line;\r\n    }\r\n\r\n    private String getUrlParameters(String data, String signature, String version) throws UnsupportedEncodingException {\r\n        return &quot;data=&quot; + URLEncoder.encode(data, &quot;UTF-8&quot;) + &quot;&amp;signature=&quot; + URLEncoder.encode(signature, &quot;UTF-8&quot;) + &quot;&amp;version=&quot; + URLEncoder.encode(version, &quot;UTF-8&quot;);\r\n    }\r\n```\r\nErrors which come in Sonarcloud:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: [![enter image description here][1]][1]https://i.stack.imgur.com/y5qWJ.png\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1JXyz.png","title":"Custom Implementation of Trust Manager and Hostname Verifier","body":"<p>I am making post request to a third party service setting the hostname verifier and trust manager. The default pass all implementation however doesn't pass sonarcloud checks and gives errors which are attached in screenshots below. Have browsed for hours searching for custom implementation but haven't found anything. Please suggest of any resources or implementation you may have with yourself. Here is the code for the same:</p>\n<pre><code>public static class DummyTrustManager implements X509TrustManager {\n\n        public DummyTrustManager() {\n        }\n\n        public boolean isClientTrusted(X509Certificate cert[]) {\n            return true;\n        }\n\n        public boolean isServerTrusted(X509Certificate cert[]) {\n            return true;\n        }\n\n        public X509Certificate[] getAcceptedIssuers() {\n            return new X509Certificate[0];\n        }\n\n        public void checkClientTrusted(X509Certificate[] arg0, String arg1) throws CertificateException {\n\n        }\n\n        public void checkServerTrusted(X509Certificate[] arg0, String arg1) throws CertificateException {\n\n        }\n    }\n\n    public static class DummyHostnameVerifier implements HostnameVerifier {\n\n        public boolean verify(String urlHostname, String certHostname) {\n            return true;\n        }\n\n        public boolean verify(String arg0, SSLSession arg1) {\n            return true;\n        }\n    }\n\n    public String nsdlResponseLine(String data, String signature){\n\n        String line = null;\n        try {\n            String urlOfNsdl = nsdlKycVerificationUrl;\n            final String version = nsdlKycVerificationVersion;\n            SSLContext sslcontext = SSLContext.getInstance(&quot;TLSv1.2&quot;);\n            sslcontext.init(new KeyManager[0],\n                    new TrustManager[]{new DummyTrustManager()},\n                    new SecureRandom());\n            SSLSocketFactory factory = sslcontext.getSocketFactory();\n            String urlParameters = getUrlParameters(data, signature, version);\n            URL url = new URL(urlOfNsdl);\n\n            connection = (HttpsURLConnection) url.openConnection();\n            connection.setRequestMethod(&quot;POST&quot;);\n            connection.setRequestProperty(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;);\n            connection.setRequestProperty(&quot;Content-Length&quot;, &quot;&quot; + Integer.toString(urlParameters.getBytes().length));\n            connection.setRequestProperty(&quot;Content-Language&quot;, &quot;en-US&quot;);\n            connection.setUseCaches(false);\n            connection.setDoInput(true);\n            connection.setDoOutput(true);\n            connection.setSSLSocketFactory(factory);\n            connection.setHostnameVerifier(new DummyHostnameVerifier());\n            OutputStream os = connection.getOutputStream();\n            OutputStreamWriter osw = new OutputStreamWriter(os);\n            osw.write(urlParameters);\n            osw.flush();\n            osw.close();\n\n            InputStream is = connection.getInputStream();\n            BufferedReader in = new BufferedReader(new InputStreamReader(is));\n            line = in.readLine();\n            is.close();\n            in.close();\n        } catch (Exception e) {\n            log.debug(&quot;::Exception: {}&quot;,e.getMessage());\n        }\n        return line;\n    }\n\n    private String getUrlParameters(String data, String signature, String version) throws UnsupportedEncodingException {\n        return &quot;data=&quot; + URLEncoder.encode(data, &quot;UTF-8&quot;) + &quot;&amp;signature=&quot; + URLEncoder.encode(signature, &quot;UTF-8&quot;) + &quot;&amp;version=&quot; + URLEncoder.encode(version, &quot;UTF-8&quot;);\n    }\n</code></pre>\n<p>Errors which come in Sonarcloud:\n<a href=\"https://i.stack.imgur.com/1JXyz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1JXyz.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/1JXyz.png\" rel=\"nofollow noreferrer\">1</a>: <a href=\"https://i.stack.imgur.com/1JXyz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1JXyz.png\" alt=\"enter image description here\" /></a><a href=\"https://i.stack.imgur.com/y5qWJ.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/y5qWJ.png</a></p>\n"},{"tags":["java","javaparser"],"owner":{"account_id":4835964,"reputation":1710,"user_id":3902663,"accept_rate":78,"display_name":"SATO Yusuke"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671372525,"creation_date":1671372525,"question_id":74841993,"body_markdown":"## What I want to do\r\n\r\nI am trying to add a comment on the generated field declaration by Lombok like this:\r\n\r\n```java\r\n@lombok.Generated\r\nprivate static final org.slf4j.Logger log = org.slf4j.LoggerFactory.getLogger(SomeController.class);\r\n```\r\n\r\nTo tell Parasoft Jtest to suppress the reporting of findings, I added a comment like this with JavaParser:\r\n```java\r\n/* parasoft suppress item * class ClassName line 21 */\r\n@lombok.Generated\r\nprivate static final org.slf4j.Logger log = org.slf4j.LoggerFactory.getLogger(SomeController.class);\r\n```\r\n\r\n## What I tried\r\n\r\nTo add this comment, I wrote a Java program with JavaParser like this:\r\n\r\n```java\r\npublic static void main(String[] args) throws IOException {\r\n    Log.setAdapter(new Log.StandardOutStandardErrorAdapter());\r\n\r\n    Path inPath = Paths.get(&quot;/path/to/input/source&quot;);\r\n    SourceRoot sourceRoot = new SourceRoot(inPath);\r\n    List&lt;ParseResult&lt;CompilationUnit&gt;&gt; p = sourceRoot.tryToParseParallelized();\r\n\r\n    Iterator&lt;ParseResult&lt;CompilationUnit&gt;&gt; it = p.iterator();\r\n    while (it.hasNext()) {\r\n        ParseResult&lt;CompilationUnit&gt; pr = it.next();\r\n        pr.getResult().ifPresent(cu -&gt; {\r\n            cu.accept(new ModifierVisitor&lt;Void&gt;() {\r\n                @Override\r\n                public Visitable visit(FieldDeclaration n, Void arg) {\r\n                    List&lt;MarkerAnnotationExpr&gt; list = n.findAll(MarkerAnnotationExpr.class);\r\n                    Iterator&lt;MarkerAnnotationExpr&gt; it = list.iterator();\r\n                    while (it.hasNext()) {\r\n                        MarkerAnnotationExpr ann = it.next();\r\n                        if (ann.getNameAsString().equals(&quot;lombok.Generated&quot;) || ann.getNameAsString().equals(&quot;Generated&quot;)) {\r\n                            // Suppress all findings at the line of field declaration\r\n                            n.setBlockComment(String.format(&quot; parasoft suppress item * class %s line %d &quot;, &quot;ClassName&quot;, n.getEnd().get().line));\r\n                        }\r\n                    }\r\n                    return super.visit(n, arg);\r\n                }\r\n            }, null);\r\n        });\r\n    }\r\n    Path outPath = Paths.get(&quot;/path/to/output/source&quot;);\r\n    sourceRoot.saveAll(outPath);\r\n}\r\n```\r\n\r\n## Problem\r\n\r\nI have successfully added the comment to the target fields.\r\nBut on the same file, all line comments on field declarations move to the middle of the field declaration like this:\r\n\r\n#### Input\r\n\r\n```java\r\n@Autowired\r\nHttpSession session; // line comment\r\n```\r\n\r\n#### Output\r\n\r\n```java\r\n@Autowired\r\nHttpSession // line comment\r\nsession;\r\n```\r\n\r\nBecause of this, the line number from `Node#getEnd().get().line` changes after the addition of the `parasoft suppress` comment.\r\nIt makes the `parasoft suppress` comment doesn&#39;t work properly.\r\n\r\n## Question\r\n\r\nHow can I prepend to move a line comment to the middle of the field declaration with JavaParser `ModifierVisitor`?","title":"How to prepend to move a line comment to the middle of field declaration with JavaParser","body":"<h2>What I want to do</h2>\n<p>I am trying to add a comment on the generated field declaration by Lombok like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@lombok.Generated\nprivate static final org.slf4j.Logger log = org.slf4j.LoggerFactory.getLogger(SomeController.class);\n</code></pre>\n<p>To tell Parasoft Jtest to suppress the reporting of findings, I added a comment like this with JavaParser:</p>\n<pre class=\"lang-java prettyprint-override\"><code>/* parasoft suppress item * class ClassName line 21 */\n@lombok.Generated\nprivate static final org.slf4j.Logger log = org.slf4j.LoggerFactory.getLogger(SomeController.class);\n</code></pre>\n<h2>What I tried</h2>\n<p>To add this comment, I wrote a Java program with JavaParser like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) throws IOException {\n    Log.setAdapter(new Log.StandardOutStandardErrorAdapter());\n\n    Path inPath = Paths.get(&quot;/path/to/input/source&quot;);\n    SourceRoot sourceRoot = new SourceRoot(inPath);\n    List&lt;ParseResult&lt;CompilationUnit&gt;&gt; p = sourceRoot.tryToParseParallelized();\n\n    Iterator&lt;ParseResult&lt;CompilationUnit&gt;&gt; it = p.iterator();\n    while (it.hasNext()) {\n        ParseResult&lt;CompilationUnit&gt; pr = it.next();\n        pr.getResult().ifPresent(cu -&gt; {\n            cu.accept(new ModifierVisitor&lt;Void&gt;() {\n                @Override\n                public Visitable visit(FieldDeclaration n, Void arg) {\n                    List&lt;MarkerAnnotationExpr&gt; list = n.findAll(MarkerAnnotationExpr.class);\n                    Iterator&lt;MarkerAnnotationExpr&gt; it = list.iterator();\n                    while (it.hasNext()) {\n                        MarkerAnnotationExpr ann = it.next();\n                        if (ann.getNameAsString().equals(&quot;lombok.Generated&quot;) || ann.getNameAsString().equals(&quot;Generated&quot;)) {\n                            // Suppress all findings at the line of field declaration\n                            n.setBlockComment(String.format(&quot; parasoft suppress item * class %s line %d &quot;, &quot;ClassName&quot;, n.getEnd().get().line));\n                        }\n                    }\n                    return super.visit(n, arg);\n                }\n            }, null);\n        });\n    }\n    Path outPath = Paths.get(&quot;/path/to/output/source&quot;);\n    sourceRoot.saveAll(outPath);\n}\n</code></pre>\n<h2>Problem</h2>\n<p>I have successfully added the comment to the target fields.\nBut on the same file, all line comments on field declarations move to the middle of the field declaration like this:</p>\n<h4>Input</h4>\n<pre class=\"lang-java prettyprint-override\"><code>@Autowired\nHttpSession session; // line comment\n</code></pre>\n<h4>Output</h4>\n<pre class=\"lang-java prettyprint-override\"><code>@Autowired\nHttpSession // line comment\nsession;\n</code></pre>\n<p>Because of this, the line number from <code>Node#getEnd().get().line</code> changes after the addition of the <code>parasoft suppress</code> comment.\nIt makes the <code>parasoft suppress</code> comment doesn't work properly.</p>\n<h2>Question</h2>\n<p>How can I prepend to move a line comment to the middle of the field declaration with JavaParser <code>ModifierVisitor</code>?</p>\n"},{"tags":["java","logging","micronaut","graalvm","graalvm-native-image"],"comments":[{"owner":{"account_id":1268556,"reputation":48088,"user_id":1225328,"accept_rate":93,"display_name":"sp00m"},"score":0,"creation_date":1666622756,"post_id":74070173,"comment_id":130974955,"body_markdown":"I&#39;m facing that exact same issue with a Spring Boot 3 codebase FYI, I believe it&#39;s still WIP on Log4j2&#39;s side, see https://issues.apache.org/jira/browse/LOG4J2-2649.","body":"I&#39;m facing that exact same issue with a Spring Boot 3 codebase FYI, I believe it&#39;s still WIP on Log4j2&#39;s side, see <a href=\"https://issues.apache.org/jira/browse/LOG4J2-2649\" rel=\"nofollow noreferrer\">issues.apache.org/jira/browse/LOG4J2-2649</a>."},{"owner":{"account_id":15767229,"reputation":73,"user_id":11377201,"display_name":"Spica"},"score":0,"creation_date":1666720423,"post_id":74070173,"comment_id":131001960,"body_markdown":"@sp00m it seems like the same problem occurs with Logback too, not only Log4j","body":"@sp00m it seems like the same problem occurs with Logback too, not only Log4j"}],"answers":[{"tags":[],"owner":{"account_id":976091,"reputation":1205,"user_id":997247,"accept_rate":60,"display_name":"Hamady C."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671372102,"creation_date":1671326135,"answer_id":74838532,"question_id":74070173,"body_markdown":"I had a similar issue:\r\n\r\nFirst I had this error:\r\n```\r\nUnresolvedElementException: Discovered unresolved method during parsing: io.netty.util.internal.logging.Log4J2Logger\r\n```\r\n\r\nThen after adding the following dependency: `implementation(&quot;org.jboss.logmanager:log4j2-jboss-logmanager&quot;)` as documented [here][1] on Quarkus website I had this one:\r\n\r\n```\r\nDiscovered unresolved type during parsing: org.apache.log4j.Logger\r\n```\r\n\r\nI finally added these two dependencies and I was passed that Logging related errors and on to other but its ok, its progress!!!\r\n```\r\nimplementation(&quot;org.jboss.logging:commons-logging-jboss-logging&quot;)\r\nimplementation(&quot;org.jboss.logmanager:log4j-jboss-logmanager&quot;)\r\nimplementation(&quot;org.jboss.slf4j:slf4j-jboss-logmanager&quot;)\r\n```\r\n\r\n\r\n  [1]: https://quarkus.io/guides/logging#logging-adapters","title":"GraalVM native image not working with logs","body":"<p>I had a similar issue:</p>\n<p>First I had this error:</p>\n<pre><code>UnresolvedElementException: Discovered unresolved method during parsing: io.netty.util.internal.logging.Log4J2Logger\n</code></pre>\n<p>Then after adding the following dependency: <code>implementation(&quot;org.jboss.logmanager:log4j2-jboss-logmanager&quot;)</code> as documented <a href=\"https://quarkus.io/guides/logging#logging-adapters\" rel=\"nofollow noreferrer\">here</a> on Quarkus website I had this one:</p>\n<pre><code>Discovered unresolved type during parsing: org.apache.log4j.Logger\n</code></pre>\n<p>I finally added these two dependencies and I was passed that Logging related errors and on to other but its ok, its progress!!!</p>\n<pre><code>implementation(&quot;org.jboss.logging:commons-logging-jboss-logging&quot;)\nimplementation(&quot;org.jboss.logmanager:log4j-jboss-logmanager&quot;)\nimplementation(&quot;org.jboss.slf4j:slf4j-jboss-logmanager&quot;)\n</code></pre>\n"}],"owner":{"account_id":15767229,"reputation":73,"user_id":11377201,"display_name":"Spica"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2183,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1671372102,"creation_date":1665754915,"question_id":74070173,"body_markdown":"What I try to do:\r\n1. `mvn package -Dpackaging=docker-native -Dmicronaut.runtime=lambda -Pgraalvm`\r\n\r\n2. what I get: \r\n```\r\nCaused by: com.oracle.graal.pointsto.constraints.UnsupportedFeatureException: \r\nNo instances of org.apache.logging.slf4j.SLF4JLogger \r\nare allowed in the image heap as this class should be initialized at image runtime.\r\n```\r\n3. ok! Let me just trace the instantiation and find the issue:\r\n```\r\n[INFO] Caused by: com.oracle.graal.pointsto.constraints.UnsupportedFeatureException: No instances of org.apache.logging.slf4j.SLF4JLogger are allowed in the image heap as this class should be initialized at image runtime. Object has been initialized by the org.hibernate.internal.util.SerializationHelper class initializer with a trace: \r\n \tat org.apache.logging.slf4j.SLF4JLogger.&lt;init&gt;(SLF4JLogger.java:41)\r\n\tat org.apache.logging.slf4j.SLF4JLoggerContext.getLogger(SLF4JLoggerContext.java:36)\r\n\tat org.apache.logging.log4j.LogManager.getLogger(LogManager.java:666)\r\n\tat org.jboss.logging.Log4j2Logger.&lt;init&gt;(Log4j2Logger.java:36)\r\n\tat org.jboss.logging.Log4j2LoggerProvider.getLogger(Log4j2LoggerProvider.java:30)\r\n\tat org.jboss.logging.Log4j2LoggerProvider.getLogger(Log4j2LoggerProvider.java:26)\r\n\tat org.jboss.logging.Logger.getLogger(Logger.java:2465)\r\n\tat org.jboss.logging.Logger.doGetMessageLogger(Logger.java:2573)\r\n\tat org.jboss.logging.Logger.getMessageLogger(Logger.java:2530)\r\n\tat org.jboss.logging.Logger.getMessageLogger(Logger.java:2516)\r\n\tat org.hibernate.internal.CoreLogging.messageLogger(CoreLogging.java:28)\r\n\tat org.hibernate.internal.CoreLogging.messageLogger(CoreLogging.java:24)\r\n\tat org.hibernate.internal.util.SerializationHelper.&lt;clinit&gt;(SerializationHelper.java:47)\r\n.  To fix the issue mark org.apache.logging.slf4j.SLF4JLogger for build-time initialization with --initialize-at-build-time=org.apache.logging.slf4j.SLF4JLogger or use the the information from the trace to find the culprit and --initialize-at-run-time=&lt;culprit&gt; to prevent its instantiation.\r\n```\r\nSounds promising! \r\n\r\n4. Trying with `--initialize-at-build-time=org.apache.logging.slf4j.SLF4JLogger`:\r\n\r\n```\r\n[INFO] Error: Classes that should be initialized at run time got initialized during image building:\r\n org.apache.logging.log4j.util.ProviderUtil was unintentionally initialized at build time. To see why org.apache.logging.log4j.util.ProviderUtil got initialized use --trace-class-initialization=org.apache.logging.log4j.util.ProviderUtil\r\norg.apache.logging.log4j.util.PropertySource$Util was unintentionally initialized at build time. To see why org.apache.logging.log4j.util.PropertySource$Util got initialized use --trace-class-initialization=org.apache.logging.log4j.util.PropertySource$Util\r\norg.apache.logging.log4j.LogManager was unintentionally initialized at build time. To see why org.apache.logging.log4j.LogManager got initialized use --trace-class-initialization=org.apache.logging.log4j.LogManager\r\norg.apache.logging.log4j.spi.Provider was unintentionally initialized at build time. To see why org.apache.logging.log4j.spi.Provider got initialized use --trace-class-initialization=org.apache.logging.log4j.spi.Provider\r\norg.apache.logging.log4j.Level was unintentionally initialized at build time. To see why org.apache.logging.log4j.Level got initialized use --trace-class-initialization=org.apache.logging.log4j.Level\r\norg.apache.logging.slf4j.SLF4JLogger$1 was unintentionally initialized at build time. To see why org.apache.logging.slf4j.SLF4JLogger$1 got initialized use --trace-class-initialization=org.apache.logging.slf4j.SLF4JLogger$1\r\norg.apache.logging.log4j.util.Constants was unintentionally initialized at build time. To see why org.apache.logging.log4j.util.Constants got initialized use --trace-class-initialization=org.apache.logging.log4j.util.Constants\r\norg.apache.logging.log4j.util.LoaderUtil was unintentionally initialized at build time. To see why org.apache.logging.log4j.util.LoaderUtil got initialized use --trace-class-initialization=org.apache.logging.log4j.util.LoaderUtil\r\norg.apache.logging.log4j.spi.StandardLevel was unintentionally initialized at build time. To see why org.apache.logging.log4j.spi.StandardLevel got initialized use --trace-class-initialization=org.apache.logging.log4j.spi.StandardLevel\r\norg.apache.logging.log4j.util.Strings was unintentionally initialized at build time. To see why org.apache.logging.log4j.util.Strings got initialized use --trace-class-initialization=org.apache.logging.log4j.util.Strings\r\norg.apache.logging.log4j.util.PropertiesUtil was unintentionally initialized at build time. To see why org.apache.logging.log4j.util.PropertiesUtil got initialized use --trace-class-initialization=org.apache.logging.log4j.util.PropertiesUtil\r\norg.apache.logging.log4j.status.StatusLogger was unintentionally initialized at build time. To see why org.apache.logging.log4j.status.StatusLogger got initialized use --trace-class-initialization=org.apache.logging.log4j.status.StatusLogger\r\norg.apache.logging.log4j.spi.LoggerRegistry was unintentionally initialized at build time. To see why org.apache.logging.log4j.spi.LoggerRegistry got initialized use --trace-class-initialization=org.apache.logging.log4j.spi.LoggerRegistry\r\n\r\n\r\n```\r\n\r\nokay.... but I can try the other option! \r\n\r\n5. try with: ` --initialize-at-run-time=&lt;culprit&gt;`. According to logs the culprit was `org.hibernate.internal.util.SerializationHelper`:\r\n\r\n```\r\n[INFO] Caused by: com.oracle.graal.pointsto.constraints.UnsupportedFeatureException: No instances of org.apache.logging.slf4j.SLF4JLogger are allowed in the image heap as this class should be initialized at image runtime. Object has been initialized by the org.hibernate.internal.log.DeprecationLogger class initializer with a trace: \r\n \tat org.apache.logging.slf4j.SLF4JLogger.&lt;init&gt;(SLF4JLogger.java:41)\r\n\tat org.apache.logging.slf4j.SLF4JLoggerContext.getLogger(SLF4JLoggerContext.java:36)\r\n\tat org.apache.logging.log4j.LogManager.getLogger(LogManager.java:666)\r\n\tat org.jboss.logging.Log4j2Logger.&lt;init&gt;(Log4j2Logger.java:36)\r\n\tat org.jboss.logging.Log4j2LoggerProvider.getLogger(Log4j2LoggerProvider.java:30)\r\n\tat org.jboss.logging.Log4j2LoggerProvider.getLogger(Log4j2LoggerProvider.java:26)\r\n\tat org.jboss.logging.Logger.getLogger(Logger.java:2465)\r\n\tat org.jboss.logging.Logger.doGetMessageLogger(Logger.java:2573)\r\n\tat org.jboss.logging.Logger.getMessageLogger(Logger.java:2530)\r\n\tat org.jboss.logging.Logger.getMessageLogger(Logger.java:2516)\r\n\tat org.hibernate.internal.log.DeprecationLogger.&lt;clinit&gt;(DeprecationLogger.java:29)\r\n.  To fix the issue mark org.apache.logging.slf4j.SLF4JLogger for build-time initialization with --initialize-at-build-time=org.apache.logging.slf4j.SLF4JLogger or use the the information from the trace to find the culprit and --initialize-at-run-time=&lt;culprit&gt; to prevent its instantiation.\r\n```\r\n\r\nLooks like there wasn&#39;t only one culprit? okay this time for sure it will work!\r\n\r\n6. including second cuplrit:\r\n```\r\n[INFO] Caused by: com.oracle.graal.pointsto.constraints.UnsupportedFeatureException: \r\nNo instances of org.apache.logging.slf4j.SLF4JLogger are allowed in the image heap as this class should be initialized at image runtime. \r\nObject has been initialized by the org.hibernate.internal.SessionFactoryRegistry class initializer with a trace: \r\n```\r\n\r\nThere is no end to this!\r\n\r\n7. Going for the whole package: `--initialize-at-run-time=org.hibernate`:\r\n```\r\n[INFO] Caused by: com.oracle.graal.pointsto.constraints.UnsupportedFeatureException: No instances of org.apache.logging.slf4j.SLF4JLogger are allowed in the image heap as this class should be initialized at image runtime. Object has been initialized by the org.hibernate.internal.util.SerializationHelper class initializer with a trace:\r\n```\r\n\r\n8. Let&#39;s try to go back to `--initialize-at-build-time=org.apache.logging.slf4j.SLF4JLogger` but instead specify the whole package: `--initialize-at-build-time=org.apache.logging`\r\n\r\n```\r\n[INFO] BUILD SUCCESS\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  02:08 min\r\n[INFO] Finished at: 2022-10-14T16:33:04+03:00\r\n[INFO] ------------------------------------------------------------------------\r\n```\r\n\r\nIt&#39;s built! Now let&#39;s see if it runs!\r\n```\r\n...\r\nCaused by: com.amazonaws.serverless.exceptions.ContainerInitializationException: Error starting Micronaut container: Bean definition [io.micronaut.configuration.hibernate.jpa.conf.SessionFactoryPerDataSourceFactory] could not be loaded: Error instantiating bean of type  [io.micronaut.configuration.hibernate.jpa.conf.SessionFactoryPerDataSourceFactory]\r\n...\r\nCaused by: java.lang.NoSuchMethodException: org.apache.logging.log4j.message.ParameterizedMessageFactory.&lt;init&gt;()\r\n...\r\n```\r\n\r\nAt this point I&#39;m out of options. \r\n\r\n- GRAALVM_VERSION: 22.2.0\r\n- GRAALVM_JVM_VERSION: java17\r\n- GRAALVM_ARCH: amd64\r\n- CLASS_NAME: io.micronaut.function.aws.runtime.MicronautLambdaRuntime\r\n- pom.xml: \r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n  &lt;groupId&gt;moe.sigeemu&lt;/groupId&gt;\r\n  &lt;artifactId&gt;si-gameless&lt;/artifactId&gt;\r\n  &lt;version&gt;0.1&lt;/version&gt;\r\n  &lt;packaging&gt;${packaging}&lt;/packaging&gt;\r\n\r\n  &lt;parent&gt;\r\n    &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\r\n    &lt;artifactId&gt;micronaut-parent&lt;/artifactId&gt;\r\n    &lt;version&gt;3.7.1&lt;/version&gt;\r\n  &lt;/parent&gt;\r\n\r\n  &lt;properties&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n    &lt;jdk.version&gt;17&lt;/jdk.version&gt;\r\n    &lt;release.version&gt;17&lt;/release.version&gt;\r\n    &lt;micronaut.version&gt;3.7.1&lt;/micronaut.version&gt;\r\n    &lt;exec.mainClass&gt;io.micronaut.function.aws.runtime.MicronautLambdaRuntime&lt;/exec.mainClass&gt;\r\n    &lt;micronaut.test.resources.enabled&gt;true&lt;/micronaut.test.resources.enabled&gt;\r\n    &lt;micronaut.runtime&gt;lambda&lt;/micronaut.runtime&gt;\r\n    &lt;micronaut.data.version&gt;3.8.0&lt;/micronaut.data.version&gt;\r\n    &lt;vavr.version&gt;0.10.3&lt;/vavr.version&gt;\r\n  &lt;/properties&gt;\r\n\r\n  &lt;repositories&gt;\r\n    &lt;repository&gt;\r\n      &lt;id&gt;central&lt;/id&gt;\r\n      &lt;url&gt;https://repo.maven.apache.org/maven2&lt;/url&gt;\r\n    &lt;/repository&gt;\r\n  &lt;/repositories&gt;\r\n\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\r\n      &lt;artifactId&gt;micronaut-inject&lt;/artifactId&gt;\r\n      &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\r\n      &lt;artifactId&gt;micronaut-validation&lt;/artifactId&gt;\r\n      &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.micronaut.aws&lt;/groupId&gt;\r\n      &lt;artifactId&gt;micronaut-function-aws-api-proxy&lt;/artifactId&gt;\r\n      &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.micronaut.aws&lt;/groupId&gt;\r\n      &lt;artifactId&gt;micronaut-function-aws-api-proxy-test&lt;/artifactId&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.micronaut.aws&lt;/groupId&gt;\r\n      &lt;artifactId&gt;micronaut-function-aws-custom-runtime&lt;/artifactId&gt;\r\n      &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\r\n      &lt;artifactId&gt;micronaut-http-client&lt;/artifactId&gt;\r\n      &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\r\n      &lt;artifactId&gt;micronaut-jackson-databind&lt;/artifactId&gt;\r\n      &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\r\n      &lt;version&gt;2.11.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.vavr&lt;/groupId&gt;\r\n      &lt;artifactId&gt;vavr&lt;/artifactId&gt;\r\n      &lt;version&gt;${vavr.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.micronaut.aws&lt;/groupId&gt;\r\n      &lt;artifactId&gt;micronaut-aws-sdk-v2&lt;/artifactId&gt;\r\n      &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n      &lt;artifactId&gt;s3&lt;/artifactId&gt;\r\n      &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.micronaut.data&lt;/groupId&gt;\r\n      &lt;artifactId&gt;micronaut-data-hibernate-jpa&lt;/artifactId&gt;\r\n      &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.micronaut.flyway&lt;/groupId&gt;\r\n      &lt;artifactId&gt;micronaut-flyway&lt;/artifactId&gt;\r\n      &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.micronaut.graphql&lt;/groupId&gt;\r\n      &lt;artifactId&gt;micronaut-graphql&lt;/artifactId&gt;\r\n      &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.micronaut.sql&lt;/groupId&gt;\r\n      &lt;artifactId&gt;micronaut-jdbc-hikari&lt;/artifactId&gt;\r\n      &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;jakarta.annotation&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jakarta.annotation-api&lt;/artifactId&gt;\r\n      &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n      &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n      &lt;scope&gt;runtime&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n      &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n      &lt;scope&gt;runtime&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\r\n      &lt;artifactId&gt;flyway-mysql&lt;/artifactId&gt;\r\n      &lt;scope&gt;runtime&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n      &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n      &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.micronaut.test&lt;/groupId&gt;\r\n      &lt;artifactId&gt;micronaut-test-junit5&lt;/artifactId&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.assertj&lt;/groupId&gt;\r\n      &lt;artifactId&gt;assertj-core&lt;/artifactId&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n      &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.graphql-java-generator&lt;/groupId&gt;\r\n      &lt;artifactId&gt;graphql-java-runtime&lt;/artifactId&gt;\r\n      &lt;version&gt;1.18&lt;/version&gt;\r\n      &lt;exclusions&gt;\r\n        &lt;exclusion&gt;\r\n          &lt;groupId&gt;com.graphql-java&lt;/groupId&gt;\r\n          &lt;artifactId&gt;graphql-java-spring-boot-starter-webmvc&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n        &lt;exclusion&gt;\r\n          &lt;groupId&gt;com.graphql-java-generator&lt;/groupId&gt;\r\n          &lt;artifactId&gt;graphql-java-spring-mvc&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n        &lt;exclusion&gt;\r\n          &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n          &lt;artifactId&gt;*&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n      &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n\r\n  &lt;build&gt;\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;io.micronaut.build&lt;/groupId&gt;\r\n        &lt;artifactId&gt;micronaut-maven-plugin&lt;/artifactId&gt;\r\n        &lt;configuration&gt;\r\n          &lt;nativeImageBuildArgs combine.children=&quot;append&quot;&gt;\r\n            &lt;nativeImageBuildArg&gt;--trace-object-instantiation=org.apache.logging.slf4j.SLF4JLogger&lt;/nativeImageBuildArg&gt;\r\n&lt;!--            &lt;nativeImageBuildArg&gt;&amp;#45;&amp;#45;initialize-at-run-time=org.hibernate.internal.log.DeprecationLogger&lt;/nativeImageBuildArg&gt;--&gt;\r\n            &lt;nativeImageBuildArg&gt;--initialize-at-build-time=org.apache.logging&lt;/nativeImageBuildArg&gt;\r\n          &lt;/nativeImageBuildArgs&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n      \r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;configuration&gt;\r\n          &lt;!-- Uncomment to enable incremental compilation --&gt;\r\n          &lt;!-- &lt;useIncrementalCompilation&gt;false&lt;/useIncrementalCompilation&gt; --&gt;\r\n\r\n          &lt;annotationProcessorPaths combine.self=&quot;override&quot;&gt;\r\n            &lt;path&gt;\r\n              &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n              &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n              &lt;version&gt;${lombok.version}&lt;/version&gt;\r\n            &lt;/path&gt;\r\n            &lt;path&gt;\r\n              &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\r\n              &lt;artifactId&gt;micronaut-inject-java&lt;/artifactId&gt;\r\n              &lt;version&gt;${micronaut.version}&lt;/version&gt;\r\n            &lt;/path&gt;\r\n            &lt;path&gt;\r\n              &lt;groupId&gt;io.micronaut.data&lt;/groupId&gt;\r\n              &lt;artifactId&gt;micronaut-data-processor&lt;/artifactId&gt;\r\n              &lt;version&gt;${micronaut.data.version}&lt;/version&gt;\r\n            &lt;/path&gt;\r\n            &lt;path&gt;\r\n              &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\r\n              &lt;artifactId&gt;micronaut-graal&lt;/artifactId&gt;\r\n              &lt;version&gt;${micronaut.version}&lt;/version&gt;\r\n            &lt;/path&gt;\r\n            &lt;path&gt;\r\n              &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\r\n              &lt;artifactId&gt;micronaut-http-validation&lt;/artifactId&gt;\r\n              &lt;version&gt;${micronaut.version}&lt;/version&gt;\r\n            &lt;/path&gt;\r\n            &lt;path&gt;\r\n              &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\r\n              &lt;artifactId&gt;micronaut-validation&lt;/artifactId&gt;\r\n              &lt;version&gt;${micronaut.version}&lt;/version&gt;\r\n            &lt;/path&gt;\r\n          &lt;/annotationProcessorPaths&gt;\r\n          &lt;compilerArgs&gt;\r\n            &lt;arg&gt;-Amicronaut.processing.group=moe.sigeemu&lt;/arg&gt;\r\n            &lt;arg&gt;-Amicronaut.processing.module=si-gameless&lt;/arg&gt;\r\n          &lt;/compilerArgs&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;com.graphql-java-generator&lt;/groupId&gt;\r\n        &lt;artifactId&gt;graphql-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;1.18&lt;/version&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;generateClientCode&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n        &lt;configuration&gt;\r\n          &lt;packageName&gt;moe.sigeemu.domain.model.graphql.generated&lt;/packageName&gt;\r\n          &lt;copyRuntimeSources&gt;false&lt;/copyRuntimeSources&gt;\r\n          &lt;generateDeprecatedRequestResponse&gt;false&lt;/generateDeprecatedRequestResponse&gt;\r\n          &lt;separateUtilityClasses&gt;true&lt;/separateUtilityClasses&gt;\r\n\r\n          &lt;customScalars&gt;\r\n            &lt;customScalar&gt;\r\n              &lt;graphQLTypeName&gt;CountryCode&lt;/graphQLTypeName&gt;\r\n              &lt;javaType&gt;com.nimbusds.openid.connect.sdk.assurance.claims.ISO3166_1Alpha2CountryCode&lt;/javaType&gt;\r\n              &lt;graphQLScalarTypeStaticField&gt;moe.sigeemu.domain.model.scalars.GraphQLScalarTypeCountryCode.CountryCode&lt;/graphQLScalarTypeStaticField&gt;\r\n            &lt;/customScalar&gt;\r\n            &lt;customScalar&gt;\r\n              &lt;graphQLTypeName&gt;FuzzyDateInt&lt;/graphQLTypeName&gt;\r\n              &lt;javaType&gt;java.time.LocalDate&lt;/javaType&gt;\r\n              &lt;graphQLScalarTypeStaticField&gt;moe.sigeemu.domain.model.scalars.GraphQLScalarTypeFuzzyDateInt.FuzzyDateInt&lt;/graphQLScalarTypeStaticField&gt;\r\n            &lt;/customScalar&gt;\r\n            &lt;customScalar&gt;\r\n              &lt;graphQLTypeName&gt;Json&lt;/graphQLTypeName&gt;\r\n              &lt;javaType&gt;com.fasterxml.jackson.databind.JsonNode&lt;/javaType&gt;\r\n              &lt;graphQLScalarTypeStaticField&gt;moe.sigeemu.domain.model.scalars.GraphQLScalarTypeJson.Json&lt;/graphQLScalarTypeStaticField&gt;\r\n            &lt;/customScalar&gt;\r\n          &lt;/customScalars&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n\r\nA cry for help to anyone who was able to read through this post and knows a little bit more about Micronaut and GraalVM: what am doing wrong? I&#39;m desperate and want to go back to Spring since there is little to no info on the internet about native images T_T","title":"GraalVM native image not working with logs","body":"<p>What I try to do:</p>\n<ol>\n<li><p><code>mvn package -Dpackaging=docker-native -Dmicronaut.runtime=lambda -Pgraalvm</code></p>\n</li>\n<li><p>what I get:</p>\n</li>\n</ol>\n<pre><code>Caused by: com.oracle.graal.pointsto.constraints.UnsupportedFeatureException: \nNo instances of org.apache.logging.slf4j.SLF4JLogger \nare allowed in the image heap as this class should be initialized at image runtime.\n</code></pre>\n<ol start=\"3\">\n<li>ok! Let me just trace the instantiation and find the issue:</li>\n</ol>\n<pre><code>[INFO] Caused by: com.oracle.graal.pointsto.constraints.UnsupportedFeatureException: No instances of org.apache.logging.slf4j.SLF4JLogger are allowed in the image heap as this class should be initialized at image runtime. Object has been initialized by the org.hibernate.internal.util.SerializationHelper class initializer with a trace: \n    at org.apache.logging.slf4j.SLF4JLogger.&lt;init&gt;(SLF4JLogger.java:41)\n    at org.apache.logging.slf4j.SLF4JLoggerContext.getLogger(SLF4JLoggerContext.java:36)\n    at org.apache.logging.log4j.LogManager.getLogger(LogManager.java:666)\n    at org.jboss.logging.Log4j2Logger.&lt;init&gt;(Log4j2Logger.java:36)\n    at org.jboss.logging.Log4j2LoggerProvider.getLogger(Log4j2LoggerProvider.java:30)\n    at org.jboss.logging.Log4j2LoggerProvider.getLogger(Log4j2LoggerProvider.java:26)\n    at org.jboss.logging.Logger.getLogger(Logger.java:2465)\n    at org.jboss.logging.Logger.doGetMessageLogger(Logger.java:2573)\n    at org.jboss.logging.Logger.getMessageLogger(Logger.java:2530)\n    at org.jboss.logging.Logger.getMessageLogger(Logger.java:2516)\n    at org.hibernate.internal.CoreLogging.messageLogger(CoreLogging.java:28)\n    at org.hibernate.internal.CoreLogging.messageLogger(CoreLogging.java:24)\n    at org.hibernate.internal.util.SerializationHelper.&lt;clinit&gt;(SerializationHelper.java:47)\n.  To fix the issue mark org.apache.logging.slf4j.SLF4JLogger for build-time initialization with --initialize-at-build-time=org.apache.logging.slf4j.SLF4JLogger or use the the information from the trace to find the culprit and --initialize-at-run-time=&lt;culprit&gt; to prevent its instantiation.\n</code></pre>\n<p>Sounds promising!</p>\n<ol start=\"4\">\n<li>Trying with <code>--initialize-at-build-time=org.apache.logging.slf4j.SLF4JLogger</code>:</li>\n</ol>\n<pre><code>[INFO] Error: Classes that should be initialized at run time got initialized during image building:\n org.apache.logging.log4j.util.ProviderUtil was unintentionally initialized at build time. To see why org.apache.logging.log4j.util.ProviderUtil got initialized use --trace-class-initialization=org.apache.logging.log4j.util.ProviderUtil\norg.apache.logging.log4j.util.PropertySource$Util was unintentionally initialized at build time. To see why org.apache.logging.log4j.util.PropertySource$Util got initialized use --trace-class-initialization=org.apache.logging.log4j.util.PropertySource$Util\norg.apache.logging.log4j.LogManager was unintentionally initialized at build time. To see why org.apache.logging.log4j.LogManager got initialized use --trace-class-initialization=org.apache.logging.log4j.LogManager\norg.apache.logging.log4j.spi.Provider was unintentionally initialized at build time. To see why org.apache.logging.log4j.spi.Provider got initialized use --trace-class-initialization=org.apache.logging.log4j.spi.Provider\norg.apache.logging.log4j.Level was unintentionally initialized at build time. To see why org.apache.logging.log4j.Level got initialized use --trace-class-initialization=org.apache.logging.log4j.Level\norg.apache.logging.slf4j.SLF4JLogger$1 was unintentionally initialized at build time. To see why org.apache.logging.slf4j.SLF4JLogger$1 got initialized use --trace-class-initialization=org.apache.logging.slf4j.SLF4JLogger$1\norg.apache.logging.log4j.util.Constants was unintentionally initialized at build time. To see why org.apache.logging.log4j.util.Constants got initialized use --trace-class-initialization=org.apache.logging.log4j.util.Constants\norg.apache.logging.log4j.util.LoaderUtil was unintentionally initialized at build time. To see why org.apache.logging.log4j.util.LoaderUtil got initialized use --trace-class-initialization=org.apache.logging.log4j.util.LoaderUtil\norg.apache.logging.log4j.spi.StandardLevel was unintentionally initialized at build time. To see why org.apache.logging.log4j.spi.StandardLevel got initialized use --trace-class-initialization=org.apache.logging.log4j.spi.StandardLevel\norg.apache.logging.log4j.util.Strings was unintentionally initialized at build time. To see why org.apache.logging.log4j.util.Strings got initialized use --trace-class-initialization=org.apache.logging.log4j.util.Strings\norg.apache.logging.log4j.util.PropertiesUtil was unintentionally initialized at build time. To see why org.apache.logging.log4j.util.PropertiesUtil got initialized use --trace-class-initialization=org.apache.logging.log4j.util.PropertiesUtil\norg.apache.logging.log4j.status.StatusLogger was unintentionally initialized at build time. To see why org.apache.logging.log4j.status.StatusLogger got initialized use --trace-class-initialization=org.apache.logging.log4j.status.StatusLogger\norg.apache.logging.log4j.spi.LoggerRegistry was unintentionally initialized at build time. To see why org.apache.logging.log4j.spi.LoggerRegistry got initialized use --trace-class-initialization=org.apache.logging.log4j.spi.LoggerRegistry\n\n\n</code></pre>\n<p>okay.... but I can try the other option!</p>\n<ol start=\"5\">\n<li>try with: <code> --initialize-at-run-time=&lt;culprit&gt;</code>. According to logs the culprit was <code>org.hibernate.internal.util.SerializationHelper</code>:</li>\n</ol>\n<pre><code>[INFO] Caused by: com.oracle.graal.pointsto.constraints.UnsupportedFeatureException: No instances of org.apache.logging.slf4j.SLF4JLogger are allowed in the image heap as this class should be initialized at image runtime. Object has been initialized by the org.hibernate.internal.log.DeprecationLogger class initializer with a trace: \n    at org.apache.logging.slf4j.SLF4JLogger.&lt;init&gt;(SLF4JLogger.java:41)\n    at org.apache.logging.slf4j.SLF4JLoggerContext.getLogger(SLF4JLoggerContext.java:36)\n    at org.apache.logging.log4j.LogManager.getLogger(LogManager.java:666)\n    at org.jboss.logging.Log4j2Logger.&lt;init&gt;(Log4j2Logger.java:36)\n    at org.jboss.logging.Log4j2LoggerProvider.getLogger(Log4j2LoggerProvider.java:30)\n    at org.jboss.logging.Log4j2LoggerProvider.getLogger(Log4j2LoggerProvider.java:26)\n    at org.jboss.logging.Logger.getLogger(Logger.java:2465)\n    at org.jboss.logging.Logger.doGetMessageLogger(Logger.java:2573)\n    at org.jboss.logging.Logger.getMessageLogger(Logger.java:2530)\n    at org.jboss.logging.Logger.getMessageLogger(Logger.java:2516)\n    at org.hibernate.internal.log.DeprecationLogger.&lt;clinit&gt;(DeprecationLogger.java:29)\n.  To fix the issue mark org.apache.logging.slf4j.SLF4JLogger for build-time initialization with --initialize-at-build-time=org.apache.logging.slf4j.SLF4JLogger or use the the information from the trace to find the culprit and --initialize-at-run-time=&lt;culprit&gt; to prevent its instantiation.\n</code></pre>\n<p>Looks like there wasn't only one culprit? okay this time for sure it will work!</p>\n<ol start=\"6\">\n<li>including second cuplrit:</li>\n</ol>\n<pre><code>[INFO] Caused by: com.oracle.graal.pointsto.constraints.UnsupportedFeatureException: \nNo instances of org.apache.logging.slf4j.SLF4JLogger are allowed in the image heap as this class should be initialized at image runtime. \nObject has been initialized by the org.hibernate.internal.SessionFactoryRegistry class initializer with a trace: \n</code></pre>\n<p>There is no end to this!</p>\n<ol start=\"7\">\n<li>Going for the whole package: <code>--initialize-at-run-time=org.hibernate</code>:</li>\n</ol>\n<pre><code>[INFO] Caused by: com.oracle.graal.pointsto.constraints.UnsupportedFeatureException: No instances of org.apache.logging.slf4j.SLF4JLogger are allowed in the image heap as this class should be initialized at image runtime. Object has been initialized by the org.hibernate.internal.util.SerializationHelper class initializer with a trace:\n</code></pre>\n<ol start=\"8\">\n<li>Let's try to go back to <code>--initialize-at-build-time=org.apache.logging.slf4j.SLF4JLogger</code> but instead specify the whole package: <code>--initialize-at-build-time=org.apache.logging</code></li>\n</ol>\n<pre><code>[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  02:08 min\n[INFO] Finished at: 2022-10-14T16:33:04+03:00\n[INFO] ------------------------------------------------------------------------\n</code></pre>\n<p>It's built! Now let's see if it runs!</p>\n<pre><code>...\nCaused by: com.amazonaws.serverless.exceptions.ContainerInitializationException: Error starting Micronaut container: Bean definition [io.micronaut.configuration.hibernate.jpa.conf.SessionFactoryPerDataSourceFactory] could not be loaded: Error instantiating bean of type  [io.micronaut.configuration.hibernate.jpa.conf.SessionFactoryPerDataSourceFactory]\n...\nCaused by: java.lang.NoSuchMethodException: org.apache.logging.log4j.message.ParameterizedMessageFactory.&lt;init&gt;()\n...\n</code></pre>\n<p>At this point I'm out of options.</p>\n<ul>\n<li>GRAALVM_VERSION: 22.2.0</li>\n<li>GRAALVM_JVM_VERSION: java17</li>\n<li>GRAALVM_ARCH: amd64</li>\n<li>CLASS_NAME: io.micronaut.function.aws.runtime.MicronautLambdaRuntime</li>\n<li>pom.xml:</li>\n</ul>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;moe.sigeemu&lt;/groupId&gt;\n  &lt;artifactId&gt;si-gameless&lt;/artifactId&gt;\n  &lt;version&gt;0.1&lt;/version&gt;\n  &lt;packaging&gt;${packaging}&lt;/packaging&gt;\n\n  &lt;parent&gt;\n    &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\n    &lt;artifactId&gt;micronaut-parent&lt;/artifactId&gt;\n    &lt;version&gt;3.7.1&lt;/version&gt;\n  &lt;/parent&gt;\n\n  &lt;properties&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    &lt;jdk.version&gt;17&lt;/jdk.version&gt;\n    &lt;release.version&gt;17&lt;/release.version&gt;\n    &lt;micronaut.version&gt;3.7.1&lt;/micronaut.version&gt;\n    &lt;exec.mainClass&gt;io.micronaut.function.aws.runtime.MicronautLambdaRuntime&lt;/exec.mainClass&gt;\n    &lt;micronaut.test.resources.enabled&gt;true&lt;/micronaut.test.resources.enabled&gt;\n    &lt;micronaut.runtime&gt;lambda&lt;/micronaut.runtime&gt;\n    &lt;micronaut.data.version&gt;3.8.0&lt;/micronaut.data.version&gt;\n    &lt;vavr.version&gt;0.10.3&lt;/vavr.version&gt;\n  &lt;/properties&gt;\n\n  &lt;repositories&gt;\n    &lt;repository&gt;\n      &lt;id&gt;central&lt;/id&gt;\n      &lt;url&gt;https://repo.maven.apache.org/maven2&lt;/url&gt;\n    &lt;/repository&gt;\n  &lt;/repositories&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\n      &lt;artifactId&gt;micronaut-inject&lt;/artifactId&gt;\n      &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\n      &lt;artifactId&gt;micronaut-validation&lt;/artifactId&gt;\n      &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.micronaut.aws&lt;/groupId&gt;\n      &lt;artifactId&gt;micronaut-function-aws-api-proxy&lt;/artifactId&gt;\n      &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.micronaut.aws&lt;/groupId&gt;\n      &lt;artifactId&gt;micronaut-function-aws-api-proxy-test&lt;/artifactId&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.micronaut.aws&lt;/groupId&gt;\n      &lt;artifactId&gt;micronaut-function-aws-custom-runtime&lt;/artifactId&gt;\n      &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\n      &lt;artifactId&gt;micronaut-http-client&lt;/artifactId&gt;\n      &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\n      &lt;artifactId&gt;micronaut-jackson-databind&lt;/artifactId&gt;\n      &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\n      &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\n      &lt;version&gt;2.11.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.vavr&lt;/groupId&gt;\n      &lt;artifactId&gt;vavr&lt;/artifactId&gt;\n      &lt;version&gt;${vavr.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.micronaut.aws&lt;/groupId&gt;\n      &lt;artifactId&gt;micronaut-aws-sdk-v2&lt;/artifactId&gt;\n      &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n      &lt;artifactId&gt;s3&lt;/artifactId&gt;\n      &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.micronaut.data&lt;/groupId&gt;\n      &lt;artifactId&gt;micronaut-data-hibernate-jpa&lt;/artifactId&gt;\n      &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.micronaut.flyway&lt;/groupId&gt;\n      &lt;artifactId&gt;micronaut-flyway&lt;/artifactId&gt;\n      &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.micronaut.graphql&lt;/groupId&gt;\n      &lt;artifactId&gt;micronaut-graphql&lt;/artifactId&gt;\n      &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.micronaut.sql&lt;/groupId&gt;\n      &lt;artifactId&gt;micronaut-jdbc-hikari&lt;/artifactId&gt;\n      &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;jakarta.annotation&lt;/groupId&gt;\n      &lt;artifactId&gt;jakarta.annotation-api&lt;/artifactId&gt;\n      &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n      &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n      &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;mysql&lt;/groupId&gt;\n      &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n      &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\n      &lt;artifactId&gt;flyway-mysql&lt;/artifactId&gt;\n      &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n      &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n      &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.micronaut.test&lt;/groupId&gt;\n      &lt;artifactId&gt;micronaut-test-junit5&lt;/artifactId&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.assertj&lt;/groupId&gt;\n      &lt;artifactId&gt;assertj-core&lt;/artifactId&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n      &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n      &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n      &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.graphql-java-generator&lt;/groupId&gt;\n      &lt;artifactId&gt;graphql-java-runtime&lt;/artifactId&gt;\n      &lt;version&gt;1.18&lt;/version&gt;\n      &lt;exclusions&gt;\n        &lt;exclusion&gt;\n          &lt;groupId&gt;com.graphql-java&lt;/groupId&gt;\n          &lt;artifactId&gt;graphql-java-spring-boot-starter-webmvc&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n        &lt;exclusion&gt;\n          &lt;groupId&gt;com.graphql-java-generator&lt;/groupId&gt;\n          &lt;artifactId&gt;graphql-java-spring-mvc&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n        &lt;exclusion&gt;\n          &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n          &lt;artifactId&gt;*&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n      &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;io.micronaut.build&lt;/groupId&gt;\n        &lt;artifactId&gt;micronaut-maven-plugin&lt;/artifactId&gt;\n        &lt;configuration&gt;\n          &lt;nativeImageBuildArgs combine.children=&quot;append&quot;&gt;\n            &lt;nativeImageBuildArg&gt;--trace-object-instantiation=org.apache.logging.slf4j.SLF4JLogger&lt;/nativeImageBuildArg&gt;\n&lt;!--            &lt;nativeImageBuildArg&gt;&amp;#45;&amp;#45;initialize-at-run-time=org.hibernate.internal.log.DeprecationLogger&lt;/nativeImageBuildArg&gt;--&gt;\n            &lt;nativeImageBuildArg&gt;--initialize-at-build-time=org.apache.logging&lt;/nativeImageBuildArg&gt;\n          &lt;/nativeImageBuildArgs&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n      \n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;configuration&gt;\n          &lt;!-- Uncomment to enable incremental compilation --&gt;\n          &lt;!-- &lt;useIncrementalCompilation&gt;false&lt;/useIncrementalCompilation&gt; --&gt;\n\n          &lt;annotationProcessorPaths combine.self=&quot;override&quot;&gt;\n            &lt;path&gt;\n              &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n              &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n              &lt;version&gt;${lombok.version}&lt;/version&gt;\n            &lt;/path&gt;\n            &lt;path&gt;\n              &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\n              &lt;artifactId&gt;micronaut-inject-java&lt;/artifactId&gt;\n              &lt;version&gt;${micronaut.version}&lt;/version&gt;\n            &lt;/path&gt;\n            &lt;path&gt;\n              &lt;groupId&gt;io.micronaut.data&lt;/groupId&gt;\n              &lt;artifactId&gt;micronaut-data-processor&lt;/artifactId&gt;\n              &lt;version&gt;${micronaut.data.version}&lt;/version&gt;\n            &lt;/path&gt;\n            &lt;path&gt;\n              &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\n              &lt;artifactId&gt;micronaut-graal&lt;/artifactId&gt;\n              &lt;version&gt;${micronaut.version}&lt;/version&gt;\n            &lt;/path&gt;\n            &lt;path&gt;\n              &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\n              &lt;artifactId&gt;micronaut-http-validation&lt;/artifactId&gt;\n              &lt;version&gt;${micronaut.version}&lt;/version&gt;\n            &lt;/path&gt;\n            &lt;path&gt;\n              &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\n              &lt;artifactId&gt;micronaut-validation&lt;/artifactId&gt;\n              &lt;version&gt;${micronaut.version}&lt;/version&gt;\n            &lt;/path&gt;\n          &lt;/annotationProcessorPaths&gt;\n          &lt;compilerArgs&gt;\n            &lt;arg&gt;-Amicronaut.processing.group=moe.sigeemu&lt;/arg&gt;\n            &lt;arg&gt;-Amicronaut.processing.module=si-gameless&lt;/arg&gt;\n          &lt;/compilerArgs&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;com.graphql-java-generator&lt;/groupId&gt;\n        &lt;artifactId&gt;graphql-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;1.18&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;generateClientCode&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n        &lt;configuration&gt;\n          &lt;packageName&gt;moe.sigeemu.domain.model.graphql.generated&lt;/packageName&gt;\n          &lt;copyRuntimeSources&gt;false&lt;/copyRuntimeSources&gt;\n          &lt;generateDeprecatedRequestResponse&gt;false&lt;/generateDeprecatedRequestResponse&gt;\n          &lt;separateUtilityClasses&gt;true&lt;/separateUtilityClasses&gt;\n\n          &lt;customScalars&gt;\n            &lt;customScalar&gt;\n              &lt;graphQLTypeName&gt;CountryCode&lt;/graphQLTypeName&gt;\n              &lt;javaType&gt;com.nimbusds.openid.connect.sdk.assurance.claims.ISO3166_1Alpha2CountryCode&lt;/javaType&gt;\n              &lt;graphQLScalarTypeStaticField&gt;moe.sigeemu.domain.model.scalars.GraphQLScalarTypeCountryCode.CountryCode&lt;/graphQLScalarTypeStaticField&gt;\n            &lt;/customScalar&gt;\n            &lt;customScalar&gt;\n              &lt;graphQLTypeName&gt;FuzzyDateInt&lt;/graphQLTypeName&gt;\n              &lt;javaType&gt;java.time.LocalDate&lt;/javaType&gt;\n              &lt;graphQLScalarTypeStaticField&gt;moe.sigeemu.domain.model.scalars.GraphQLScalarTypeFuzzyDateInt.FuzzyDateInt&lt;/graphQLScalarTypeStaticField&gt;\n            &lt;/customScalar&gt;\n            &lt;customScalar&gt;\n              &lt;graphQLTypeName&gt;Json&lt;/graphQLTypeName&gt;\n              &lt;javaType&gt;com.fasterxml.jackson.databind.JsonNode&lt;/javaType&gt;\n              &lt;graphQLScalarTypeStaticField&gt;moe.sigeemu.domain.model.scalars.GraphQLScalarTypeJson.Json&lt;/graphQLScalarTypeStaticField&gt;\n            &lt;/customScalar&gt;\n          &lt;/customScalars&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>A cry for help to anyone who was able to read through this post and knows a little bit more about Micronaut and GraalVM: what am doing wrong? I'm desperate and want to go back to Spring since there is little to no info on the internet about native images T_T</p>\n"},{"tags":["java","android","flutter","dart","flutter-dependencies"],"answers":[{"tags":[],"owner":{"account_id":432392,"reputation":351,"user_id":817122,"display_name":"Amit Acharya"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1657468395,"creation_date":1657468395,"answer_id":72929836,"question_id":72502699,"body_markdown":"The builder optimizes the images in your app, in this case the png images. This is to reduce the size of the apk. It is unable to do so in your case. To run without optimization you can put the following in your build.gradle\r\n\r\n    android {\r\n    buildTypes {\r\n        release {\r\n            crunchPngs false // or true\r\n        }\r\n      }\r\n    }\r\n\r\n","title":"Flutter Execution failed for task &#39;:app:mergeReleaseResources&#39;","body":"<p>The builder optimizes the images in your app, in this case the png images. This is to reduce the size of the apk. It is unable to do so in your case. To run without optimization you can put the following in your build.gradle</p>\n<pre><code>android {\nbuildTypes {\n    release {\n        crunchPngs false // or true\n    }\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26364387,"reputation":21,"user_id":20020106,"display_name":"IBTESAAM AHMED"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1671372037,"creation_date":1671372037,"answer_id":74841949,"question_id":72502699,"body_markdown":"I changed the .png file to .jpg in res/drawable and it worked for me","title":"Flutter Execution failed for task &#39;:app:mergeReleaseResources&#39;","body":"<p>I changed the .png file to .jpg in res/drawable and it worked for me</p>\n"}],"owner":{"account_id":22697796,"reputation":55,"user_id":16865661,"display_name":"abdallah mostafa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6350,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72929836,"answer_count":2,"score":2,"last_activity_date":1671372037,"creation_date":1654371997,"question_id":72502699,"body_markdown":"&gt; Multiple task action failures occurred:\r\n &gt; A failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\n          &gt; Android resource compilation failed\r\n            AAPT: D:\\Flutter Projects\\Areading-master\\android\\app\\src\\main\\res\\mipmap-hdpi\\ic_launcher.png: error: failed to read PNG signature: file does not start with PNG signature.\r\n            D:\\Flutter Projects\\Areading-master\\android\\app\\src\\main\\res\\mipmap-hdpi\\ic_launcher.png: error: file failed to compile.\r\n    \r\n    \r\n       &gt; A failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\n          &gt; Android resource compilation failed\r\n            AAPT: D:\\Flutter Projects\\Areading-master\\android\\app\\src\\main\\res\\mipmap-xhdpi\\ic_launcher.png: error: failed to read PNG signature: file does not start with PNG signature.\r\n            D:\\Flutter Projects\\Areading-master\\android\\app\\src\\main\\res\\mipmap-xhdpi\\ic_launcher.png: error: file failed to compile.\r\n    \r\n    \r\n       &gt; A failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\n          &gt; Android resource compilation failed\r\n            AAPT: D:\\Flutter Projects\\Areading-master\\android\\app\\src\\main\\res\\mipmap-xxhdpi\\ic_launcher.png: error: failed to read PNG signature: file does not start with PNG signature.\r\n            D:\\Flutter Projects\\Areading-master\\android\\app\\src\\main\\res\\mipmap-xxhdpi\\ic_launcher.png: error: file failed to compile.\r\n    \r\n    \r\n       &gt; A failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\n          &gt; Android resource compilation failed\r\n            AAPT: D:\\Flutter Projects\\Areading-master\\android\\app\\src\\main\\res\\mipmap-xxxhdpi\\ic_launcher.png: error: failed to read PNG signature: file does not start with PNG signature.\r\n            D:\\Flutter Projects\\Areading-master\\android\\app\\src\\main\\res\\mipmap-xxxhdpi\\ic_launcher.png: error: file failed to compile.\r\n    \r\n    \r\n       &gt; A failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\n          &gt; Android resource compilation failed\r\n            AAPT: D:\\Flutter Projects\\Areading-master\\android\\app\\src\\main\\res\\mipmap-mdpi\\ic_launcher.png: error: failed to read PNG signature: file does not start with PNG signature.\r\n            D:\\Flutter Projects\\Areading-master\\android\\app\\src\\main\\res\\mipmap-mdpi\\ic_launcher.png: error: file failed to compile.\r\n\r\nThis Error Happened when I try to build the project by this command &lt;code&gt;&lt;b&gt;flutter build apk --split-per-abi&lt;/b&gt;&lt;/code&gt; I don&#39;t know what is that about? &lt;b&gt;please Help&lt;/b&gt;.","title":"Flutter Execution failed for task &#39;:app:mergeReleaseResources&#39;","body":"<blockquote>\n<p>Multiple task action failures occurred:\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\n&gt; Android resource compilation failed\nAAPT: D:\\Flutter Projects\\Areading-master\\android\\app\\src\\main\\res\\mipmap-hdpi\\ic_launcher.png: error: failed to read PNG signature: file does not start with PNG signature.\nD:\\Flutter Projects\\Areading-master\\android\\app\\src\\main\\res\\mipmap-hdpi\\ic_launcher.png: error: file failed to compile.</p>\n</blockquote>\n<pre><code>   &gt; A failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\n      &gt; Android resource compilation failed\n        AAPT: D:\\Flutter Projects\\Areading-master\\android\\app\\src\\main\\res\\mipmap-xhdpi\\ic_launcher.png: error: failed to read PNG signature: file does not start with PNG signature.\n        D:\\Flutter Projects\\Areading-master\\android\\app\\src\\main\\res\\mipmap-xhdpi\\ic_launcher.png: error: file failed to compile.\n\n\n   &gt; A failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\n      &gt; Android resource compilation failed\n        AAPT: D:\\Flutter Projects\\Areading-master\\android\\app\\src\\main\\res\\mipmap-xxhdpi\\ic_launcher.png: error: failed to read PNG signature: file does not start with PNG signature.\n        D:\\Flutter Projects\\Areading-master\\android\\app\\src\\main\\res\\mipmap-xxhdpi\\ic_launcher.png: error: file failed to compile.\n\n\n   &gt; A failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\n      &gt; Android resource compilation failed\n        AAPT: D:\\Flutter Projects\\Areading-master\\android\\app\\src\\main\\res\\mipmap-xxxhdpi\\ic_launcher.png: error: failed to read PNG signature: file does not start with PNG signature.\n        D:\\Flutter Projects\\Areading-master\\android\\app\\src\\main\\res\\mipmap-xxxhdpi\\ic_launcher.png: error: file failed to compile.\n\n\n   &gt; A failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\n      &gt; Android resource compilation failed\n        AAPT: D:\\Flutter Projects\\Areading-master\\android\\app\\src\\main\\res\\mipmap-mdpi\\ic_launcher.png: error: failed to read PNG signature: file does not start with PNG signature.\n        D:\\Flutter Projects\\Areading-master\\android\\app\\src\\main\\res\\mipmap-mdpi\\ic_launcher.png: error: file failed to compile.\n</code></pre>\n<p>This Error Happened when I try to build the project by this command <code><b>flutter build apk --split-per-abi</b></code> I don't know what is that about? <b>please Help</b>.</p>\n"},{"tags":["java","android","kotlin","android-jetpack-compose"],"comments":[{"owner":{"account_id":1198166,"reputation":1484,"user_id":1169441,"display_name":"Varsha Kulkarni"},"score":0,"creation_date":1671386081,"post_id":74841908,"comment_id":132083609,"body_markdown":"Please elaborate bit more here, what exactly you want to achieve. Have you written any query, anything going wrong?","body":"Please elaborate bit more here, what exactly you want to achieve. Have you written any query, anything going wrong?"}],"owner":{"account_id":26109440,"reputation":31,"user_id":19803620,"display_name":"Anurenj Sudheer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671371656,"creation_date":1671371656,"question_id":74841908,"body_markdown":"I want to store an Integer val in room database and update That Int val Then Fetch That integer val from roomdatabase in jetpack compose \r\n\r\n```\r\n@Entity(tableName = &quot;users_table&quot;)\r\n\r\ndata class User(\r\n    @PrimaryKey val id: Int = 1,\r\n    var Day: Int = 0\r\n)\r\n```\r\n\r\n\r\n\r\n","title":"How to store an Integer val in room database and fetch The updated integer val from room","body":"<p>I want to store an Integer val in room database and update That Int val Then Fetch That integer val from roomdatabase in jetpack compose</p>\n<pre><code>@Entity(tableName = &quot;users_table&quot;)\n\ndata class User(\n    @PrimaryKey val id: Int = 1,\n    var Day: Int = 0\n)\n</code></pre>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":3,"creation_date":1671369813,"post_id":74841648,"comment_id":132080639,"body_markdown":"`applicationContext.getBeanNamesForAnnotation(RestController.class)`","body":"<code>applicationContext.getBeanNamesForAnnotation(RestController.&zwnj;&#8203;class)</code>"}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1671371501,"creation_date":1671371501,"answer_id":74841886,"question_id":74841648,"body_markdown":"As *@Andrey B. Panfilov* has pointed out in the [comment][comment], you can inject `ApplicationContext` in any of your Beans and make use of the method [`getBeansWithAnnotation()`][getBeansWithAnnotation] to retrieve beans with a particular annotation registered in the context.\r\n\r\n*Example:*\r\n\r\n```\r\n@Component          // or any other steriotype annotaion\r\n@AllArgsConstructor // to make use of the constractor injection\r\npublic class MyBean {\r\n    \r\n    private ApplicationContext context;\r\n\r\n    public Collection&lt;Object&gt; getRestControllers() {\r\n    \r\n        Collection&lt;Object&gt; controllers = context\r\n            .getBeansWithAnnotation(RestController.class)\r\n            .values();\r\n        \r\n        return controllers\r\n    }\r\n}\r\n```\r\n\r\n\r\n   [comment]: https://stackoverflow.com/questions/74841648/springboot-get-the-list-of-restcontroller-i-e-listrestcontroller-of-the-appl/74841886#comment132080639_74841648\r\n\r\n   [getBeansWithAnnotation]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/ApplicationContext.html#getAutowireCapableBeanFactory()","title":"SpringBoot get the list of @RestController i.e List&lt;@RestController&gt; of the application","body":"<p>As <em>@Andrey B. Panfilov</em> has pointed out in the <a href=\"https://stackoverflow.com/questions/74841648/springboot-get-the-list-of-restcontroller-i-e-listrestcontroller-of-the-appl/74841886#comment132080639_74841648\">comment</a>, you can inject <code>ApplicationContext</code> in any of your Beans and make use of the method <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/ApplicationContext.html#getAutowireCapableBeanFactory()\" rel=\"nofollow noreferrer\"><code>getBeansWithAnnotation()</code></a> to retrieve beans with a particular annotation registered in the context.</p>\n<p><em>Example:</em></p>\n<pre><code>@Component          // or any other steriotype annotaion\n@AllArgsConstructor // to make use of the constractor injection\npublic class MyBean {\n    \n    private ApplicationContext context;\n\n    public Collection&lt;Object&gt; getRestControllers() {\n    \n        Collection&lt;Object&gt; controllers = context\n            .getBeansWithAnnotation(RestController.class)\n            .values();\n        \n        return controllers\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":14482834,"reputation":3894,"user_id":10461625,"display_name":"PatPanda"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":74841886,"answer_count":1,"score":3,"last_activity_date":1671371501,"creation_date":1671369506,"question_id":74841648,"body_markdown":"Small question regarding SpringBoot application, and how to get the list of classes annotated with ```@RestController``` please.\r\n\r\nI have a simple SpringBoot application, where I have couple of my own ```@RestController```, such as:\r\n\r\n```\r\n@RestController\r\npublic class PersonController {\r\n\r\n@RestController\r\npublic class OrderController {\r\n\r\n@RestController\r\npublic class PriceController {\r\n```\r\n\r\nBut I am also having in my dependencies, in third party libraries I cannot control, some ```@RestController``` as well.\r\n\r\nIn my application, I would like to get the list of all the ```@RestController```, i.e. all the classes annotated with the annotation ```@RestController```. Something like ```List&lt;@RestController&gt;```, please note the at sign @, it is not ```List&lt;RestController&gt;```\r\n\r\nWhat I have tried so far is to extend all my ```@RestController``` with a common interface, and get the ```List&lt;MyAtRestController&gt;```, but this solution will only limit to the ```@RestController``` I have control over. Many are in the third party dependencies.\r\n\r\nQuestion, how to get the List of ```@RestController``` ```List&lt;@RestController&gt;``` from SpringBoot please?\r\n\r\nThank you","title":"SpringBoot get the list of @RestController i.e List&lt;@RestController&gt; of the application","body":"<p>Small question regarding SpringBoot application, and how to get the list of classes annotated with <code>@RestController</code> please.</p>\n<p>I have a simple SpringBoot application, where I have couple of my own <code>@RestController</code>, such as:</p>\n<pre><code>@RestController\npublic class PersonController {\n\n@RestController\npublic class OrderController {\n\n@RestController\npublic class PriceController {\n</code></pre>\n<p>But I am also having in my dependencies, in third party libraries I cannot control, some <code>@RestController</code> as well.</p>\n<p>In my application, I would like to get the list of all the <code>@RestController</code>, i.e. all the classes annotated with the annotation <code>@RestController</code>. Something like <code>List&lt;@RestController&gt;</code>, please note the at sign @, it is not <code>List&lt;RestController&gt;</code></p>\n<p>What I have tried so far is to extend all my <code>@RestController</code> with a common interface, and get the <code>List&lt;MyAtRestController&gt;</code>, but this solution will only limit to the <code>@RestController</code> I have control over. Many are in the third party dependencies.</p>\n<p>Question, how to get the List of <code>@RestController</code> <code>List&lt;@RestController&gt;</code> from SpringBoot please?</p>\n<p>Thank you</p>\n"},{"tags":["java","unit-testing","mocking","mockito","spy"],"answers":[{"tags":[],"owner":{"account_id":3578773,"reputation":1200,"user_id":2987450,"display_name":"Jaimie Whiteside"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1422957996,"creation_date":1422957996,"answer_id":28296187,"question_id":28295625,"body_markdown":"The best place to start is probably [the docs for mockito][1].\r\n\r\nOn a general note the mockito mock allows you to create stubs.  \r\n\r\nYou would create a stub method if, for example, that method does an expensive operation.  Say, it gets a database connection, retrieves a value from the database and returns it to the caller.  Getting the db connection might take 30 seconds, slowing your test execution to the point where you&#39;ll likely context switch (or stop running the test).  \r\n\r\nIf the logic you are testing doesn&#39;t care about the database connection then you could replace that method with a stub which returns a hard coded value.\r\n\r\nThe mockito spy lets you check whether a method calls other methods.  This can be very useful when trying to get legacy code under test.\r\n\r\nIt is usful if you are testing a method that works through side effects, then you would use a mockito spy.  This delegates calls to the real object and allows you to verify method invocation, number of times invoked etc.\r\n\r\n\r\n  [1]: http://site.mockito.org/mockito/docs/current/org/mockito/Mockito.html","title":"Mockito - @Spy vs @Mock","body":"<p>The best place to start is probably <a href=\"http://site.mockito.org/mockito/docs/current/org/mockito/Mockito.html\" rel=\"noreferrer\">the docs for mockito</a>.</p>\n\n<p>On a general note the mockito mock allows you to create stubs.  </p>\n\n<p>You would create a stub method if, for example, that method does an expensive operation.  Say, it gets a database connection, retrieves a value from the database and returns it to the caller.  Getting the db connection might take 30 seconds, slowing your test execution to the point where you'll likely context switch (or stop running the test).  </p>\n\n<p>If the logic you are testing doesn't care about the database connection then you could replace that method with a stub which returns a hard coded value.</p>\n\n<p>The mockito spy lets you check whether a method calls other methods.  This can be very useful when trying to get legacy code under test.</p>\n\n<p>It is usful if you are testing a method that works through side effects, then you would use a mockito spy.  This delegates calls to the real object and allows you to verify method invocation, number of times invoked etc.</p>\n"},{"tags":[],"owner":{"account_id":1338540,"reputation":9401,"user_id":1280723,"accept_rate":76,"display_name":"Crazyjavahacking"},"down_vote_count":0,"up_vote_count":158,"is_accepted":false,"score":158,"last_activity_date":1505318669,"creation_date":1422980421,"answer_id":28303755,"question_id":28295625,"body_markdown":"Technically speaking both &quot;mocks&quot; and &quot;spies&quot; are a special kind of &quot;test doubles&quot;.\r\n\r\nMockito is unfortunately making the distinction weird.\r\n\r\n**A mock in mockito is a normal mock** in other mocking frameworks (allows you to stub invocations; that is, return specific values out of method calls).\r\n\r\n**A spy in mockito is a partial mock** in other mocking frameworks (part of the object will be mocked and part will use real method invocations).","title":"Mockito - @Spy vs @Mock","body":"<p>Technically speaking both \"mocks\" and \"spies\" are a special kind of \"test doubles\".</p>\n\n<p>Mockito is unfortunately making the distinction weird.</p>\n\n<p><strong>A mock in mockito is a normal mock</strong> in other mocking frameworks (allows you to stub invocations; that is, return specific values out of method calls).</p>\n\n<p><strong>A spy in mockito is a partial mock</strong> in other mocking frameworks (part of the object will be mocked and part will use real method invocations).</p>\n"},{"tags":[],"owner":{"account_id":1052025,"reputation":5610,"user_id":1055715,"accept_rate":83,"display_name":"Surasin Tancharoen"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1532191031,"creation_date":1491159969,"answer_id":43172374,"question_id":28295625,"body_markdown":"I have created a runable example here https://www.surasint.com/mockito-with-spy/\r\n\r\nI copy some of it here. \r\n\r\nIf you have something like this code:\r\n\r\n    public void transfer( DepositMoneyService depositMoneyService, \r\n                          WithdrawMoneyService withdrawMoneyService, \r\n                          double amount, String fromAccount, String toAccount) {\r\n        withdrawMoneyService.withdraw(fromAccount,amount);\r\n        depositMoneyService.deposit(toAccount,amount);\r\n    }\r\n\r\nYou may don&#39;t need spy because you can just mock DepositMoneyService and WithdrawMoneyService.\r\n\r\nBut with some legacy code, dependency is in the code like this:\r\n\r\n        public void transfer(String fromAccount, String toAccount, double amount) {\r\n            this.depositeMoneyService = new DepositMoneyService();\r\n            this.withdrawMoneyService = new WithdrawMoneyService();\r\n            withdrawMoneyService.withdraw(fromAccount,amount);\r\n            depositeMoneyService.deposit(toAccount,amount);\r\n        }\r\n\r\nYes, you can change to the first code but then API is changed. If this method is being used by many places, you have to change all of them.\r\n    \r\nAlternative is that you can extract the dependency out like this:\r\n\r\n        public void transfer(String fromAccount, String toAccount, double amount){\r\n            this.depositeMoneyService = proxyDepositMoneyServiceCreator();\r\n            this.withdrawMoneyService = proxyWithdrawMoneyServiceCreator();\r\n            withdrawMoneyService.withdraw(fromAccount,amount);\r\n            depositeMoneyService.deposit(toAccount,amount);\r\n        }\r\n\r\n        DepositMoneyService proxyDepositMoneyServiceCreator() {\r\n            return new DepositMoneyService();\r\n        }\r\n    \r\n        WithdrawMoneyService proxyWithdrawMoneyServiceCreator() {\r\n            return new WithdrawMoneyService();\r\n        }\r\n\r\nThen you can use the spy the inject the dependency like this:\r\n\r\n    DepositMoneyService mockDepositMoneyService = mock(DepositMoneyService.class);\r\n            WithdrawMoneyService mockWithdrawMoneyService = mock(WithdrawMoneyService.class);\r\n\r\n        TransferMoneyService target = spy(new TransferMoneyService());\r\n\r\n        doReturn(mockDepositMoneyService)\r\n                .when(target)\r\n                .proxyDepositMoneyServiceCreator();\r\n\r\n        doReturn(mockWithdrawMoneyService)\r\n                .when(target)\r\n                .proxyWithdrawMoneyServiceCreator();\r\n\r\nMore detail in the link above.","title":"Mockito - @Spy vs @Mock","body":"<p>I have created a runable example here <a href=\"https://www.surasint.com/mockito-with-spy/\" rel=\"noreferrer\">https://www.surasint.com/mockito-with-spy/</a></p>\n\n<p>I copy some of it here. </p>\n\n<p>If you have something like this code:</p>\n\n<pre><code>public void transfer( DepositMoneyService depositMoneyService, \n                      WithdrawMoneyService withdrawMoneyService, \n                      double amount, String fromAccount, String toAccount) {\n    withdrawMoneyService.withdraw(fromAccount,amount);\n    depositMoneyService.deposit(toAccount,amount);\n}\n</code></pre>\n\n<p>You may don't need spy because you can just mock DepositMoneyService and WithdrawMoneyService.</p>\n\n<p>But with some legacy code, dependency is in the code like this:</p>\n\n<pre><code>    public void transfer(String fromAccount, String toAccount, double amount) {\n        this.depositeMoneyService = new DepositMoneyService();\n        this.withdrawMoneyService = new WithdrawMoneyService();\n        withdrawMoneyService.withdraw(fromAccount,amount);\n        depositeMoneyService.deposit(toAccount,amount);\n    }\n</code></pre>\n\n<p>Yes, you can change to the first code but then API is changed. If this method is being used by many places, you have to change all of them.</p>\n\n<p>Alternative is that you can extract the dependency out like this:</p>\n\n<pre><code>    public void transfer(String fromAccount, String toAccount, double amount){\n        this.depositeMoneyService = proxyDepositMoneyServiceCreator();\n        this.withdrawMoneyService = proxyWithdrawMoneyServiceCreator();\n        withdrawMoneyService.withdraw(fromAccount,amount);\n        depositeMoneyService.deposit(toAccount,amount);\n    }\n\n    DepositMoneyService proxyDepositMoneyServiceCreator() {\n        return new DepositMoneyService();\n    }\n\n    WithdrawMoneyService proxyWithdrawMoneyServiceCreator() {\n        return new WithdrawMoneyService();\n    }\n</code></pre>\n\n<p>Then you can use the spy the inject the dependency like this:</p>\n\n<pre><code>DepositMoneyService mockDepositMoneyService = mock(DepositMoneyService.class);\n        WithdrawMoneyService mockWithdrawMoneyService = mock(WithdrawMoneyService.class);\n\n    TransferMoneyService target = spy(new TransferMoneyService());\n\n    doReturn(mockDepositMoneyService)\n            .when(target)\n            .proxyDepositMoneyServiceCreator();\n\n    doReturn(mockWithdrawMoneyService)\n            .when(target)\n            .proxyWithdrawMoneyServiceCreator();\n</code></pre>\n\n<p>More detail in the link above.</p>\n"},{"tags":[],"owner":{"account_id":4212995,"reputation":1104,"user_id":3450122,"accept_rate":40,"display_name":"del bao"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1503949314,"creation_date":1503949314,"answer_id":45926269,"question_id":28295625,"body_markdown":"TL;DR version,\r\n\r\nWith **mock**, it creates a bare-bone shell instance for you.\r\n\r\n    List&lt;String&gt; mockList = Mockito.mock(ArrayList.class);\r\n\r\nWith **spy** you can partially mock on an **existing** instance\r\n\r\n    List&lt;String&gt; spyList = Mockito.spy(new ArrayList&lt;String&gt;());\r\n\r\nTypical use case for Spy: the class has a parameterized constructor, you want to create the object first.\r\n\r\n","title":"Mockito - @Spy vs @Mock","body":"<p>TL;DR version,</p>\n\n<p>With <strong>mock</strong>, it creates a bare-bone shell instance for you.</p>\n\n<pre><code>List&lt;String&gt; mockList = Mockito.mock(ArrayList.class);\n</code></pre>\n\n<p>With <strong>spy</strong> you can partially mock on an <strong>existing</strong> instance</p>\n\n<pre><code>List&lt;String&gt; spyList = Mockito.spy(new ArrayList&lt;String&gt;());\n</code></pre>\n\n<p>Typical use case for Spy: the class has a parameterized constructor, you want to create the object first.</p>\n"},{"tags":[],"owner":{"account_id":1059488,"reputation":1695,"user_id":1061409,"display_name":"Vu Truong"},"down_vote_count":1,"up_vote_count":128,"is_accepted":false,"score":127,"last_activity_date":1513696972,"creation_date":1513696972,"answer_id":47890101,"question_id":28295625,"body_markdown":"Both can be used to mock methods or fields. The difference is that in mock, you are creating a complete mock or fake object while in spy, there is the real object and you just spying or stubbing specific methods of it.\r\n\r\nWhile in spy objects, of course, since it is a real method, when you are not stubbing the method, then it will call the real method behavior. If you want to change and mock the method, then you need to stub it.\r\n\r\nConsider the example below as a comparison.\r\n\r\n    import org.junit.Test;\r\n    import org.junit.runner.RunWith;\r\n    import org.mockito.Mock;\r\n    import org.mockito.Spy;\r\n    import org.mockito.runners.MockitoJUnitRunner;\r\n    &#160;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    &#160;\r\n    import static org.junit.Assert.assertEquals;\r\n    import static org.junit.Assert.assertNull;\r\n    import static org.mockito.Mockito.doReturn;\r\n    import static org.mockito.Mockito.when;\r\n    &#160;\r\n    @RunWith(MockitoJUnitRunner.class)\r\n    public class MockSpy {\r\n    &#160;\r\n    &#160;&#160;&#160;&#160;@Mock\r\n    &#160;&#160;&#160;&#160;private List&lt;String&gt; mockList;\r\n    &#160;\r\n    &#160;&#160;&#160;&#160;@Spy\r\n    &#160;&#160;&#160;&#160;private List&lt;String&gt; spyList = new ArrayList();\r\n    &#160;\r\n    &#160;&#160;&#160;&#160;@Test\r\n    &#160;&#160;&#160;&#160;public void testMockList() {\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;//by default, calling the methods of mock object will do nothing\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;mockList.add(&quot;test&quot;);\r\n\r\n            Mockito.verify(mockList).add(&quot;test&quot;);\r\n            assertEquals(0, mockList.size());\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;assertNull(mockList.get(0));\r\n    &#160;&#160;&#160;&#160;}\r\n    &#160;\r\n    &#160;&#160;&#160;&#160;@Test\r\n    &#160;&#160;&#160;&#160;public void testSpyList() {\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;//spy object will call the real method when not stub\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;spyList.add(&quot;test&quot;);\r\n\r\n            Mockito.verify(spyList).add(&quot;test&quot;);\r\n            assertEquals(1, spyList.size());\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;assertEquals(&quot;test&quot;, spyList.get(0));\r\n    &#160;&#160;&#160;&#160;}\r\n    &#160;\r\n    &#160;&#160;&#160;&#160;@Test\r\n    &#160;&#160;&#160;&#160;public void testMockWithStub() {\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;//try stubbing a method\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;String expected = &quot;Mock 100&quot;;\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;when(mockList.get(100)).thenReturn(expected);\r\n    &#160;\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;assertEquals(expected, mockList.get(100));\r\n    &#160;&#160;&#160;&#160;}\r\n    &#160;\r\n    &#160;&#160;&#160;&#160;@Test\r\n    &#160;&#160;&#160;&#160;public void testSpyWithStub() {\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;//stubbing a spy method will result the same as the mock object\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;String expected = &quot;Spy 100&quot;;\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;//take note of using doReturn instead of when\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;doReturn(expected).when(spyList).get(100);\r\n    &#160;\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;assertEquals(expected, spyList.get(100));\r\n    &#160;&#160;&#160;&#160;}\r\n    }\r\n\r\nWhen shoud you use mock or spy? If you want to be safe and avoid calling external services and just want to test the logic inside of the unit, then use mock. If you want to call external service and perform calling of real dependency, or simply say, you want to run the program as it is and just stub specific methods, then use spy. So that’s the difference between spy and mock in mockito.","title":"Mockito - @Spy vs @Mock","body":"<p>Both can be used to mock methods or fields. The difference is that in mock, you are creating a complete mock or fake object while in spy, there is the real object and you just spying or stubbing specific methods of it.</p>\n\n<p>While in spy objects, of course, since it is a real method, when you are not stubbing the method, then it will call the real method behavior. If you want to change and mock the method, then you need to stub it.</p>\n\n<p>Consider the example below as a comparison.</p>\n\n<pre><code>import org.junit.Test;\nimport org.junit.runner.RunWith;\nimport org.mockito.Mock;\nimport org.mockito.Spy;\nimport org.mockito.runners.MockitoJUnitRunner;\n \nimport java.util.ArrayList;\nimport java.util.List;\n \nimport static org.junit.Assert.assertEquals;\nimport static org.junit.Assert.assertNull;\nimport static org.mockito.Mockito.doReturn;\nimport static org.mockito.Mockito.when;\n \n@RunWith(MockitoJUnitRunner.class)\npublic class MockSpy {\n \n    @Mock\n    private List&lt;String&gt; mockList;\n \n    @Spy\n    private List&lt;String&gt; spyList = new ArrayList();\n \n    @Test\n    public void testMockList() {\n        //by default, calling the methods of mock object will do nothing\n        mockList.add(\"test\");\n\n        Mockito.verify(mockList).add(\"test\");\n        assertEquals(0, mockList.size());\n        assertNull(mockList.get(0));\n    }\n \n    @Test\n    public void testSpyList() {\n        //spy object will call the real method when not stub\n        spyList.add(\"test\");\n\n        Mockito.verify(spyList).add(\"test\");\n        assertEquals(1, spyList.size());\n        assertEquals(\"test\", spyList.get(0));\n    }\n \n    @Test\n    public void testMockWithStub() {\n        //try stubbing a method\n        String expected = \"Mock 100\";\n        when(mockList.get(100)).thenReturn(expected);\n \n        assertEquals(expected, mockList.get(100));\n    }\n \n    @Test\n    public void testSpyWithStub() {\n        //stubbing a spy method will result the same as the mock object\n        String expected = \"Spy 100\";\n        //take note of using doReturn instead of when\n        doReturn(expected).when(spyList).get(100);\n \n        assertEquals(expected, spyList.get(100));\n    }\n}\n</code></pre>\n\n<p>When shoud you use mock or spy? If you want to be safe and avoid calling external services and just want to test the logic inside of the unit, then use mock. If you want to call external service and perform calling of real dependency, or simply say, you want to run the program as it is and just stub specific methods, then use spy. So that’s the difference between spy and mock in mockito.</p>\n"},{"tags":[],"owner":{"account_id":2894895,"reputation":2037,"user_id":2482894,"display_name":"leo9r"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1553292120,"creation_date":1543968658,"answer_id":53623296,"question_id":28295625,"body_markdown":"I like the simplicity of this recommendation:\r\n\r\n&gt; - If you want to be safe and avoid calling external services and just want to test the logic inside of the unit, then use **mock**.\r\n&gt; - If you want to call external service and perform calling of real dependencies, or simply say, you want to run the program as it is and just stub specific methods, then use **spy**.\r\n\r\nSource: https://javapointers.com/tutorial/difference-between-spy-and-mock-in-mockito/\r\n\r\nA common difference is:\r\n&gt; -  If you want to directly stub the method(s) of a dependency, then **Mock** that dependency.\r\n&gt; - If you want to stub the data in a dependency so that all its methods return testing values that you need, then **Spy** that dependency.","title":"Mockito - @Spy vs @Mock","body":"<p>I like the simplicity of this recommendation:</p>\n\n<blockquote>\n  <ul>\n  <li>If you want to be safe and avoid calling external services and just want to test the logic inside of the unit, then use <strong>mock</strong>.</li>\n  <li>If you want to call external service and perform calling of real dependencies, or simply say, you want to run the program as it is and just stub specific methods, then use <strong>spy</strong>.</li>\n  </ul>\n</blockquote>\n\n<p>Source: <a href=\"https://javapointers.com/tutorial/difference-between-spy-and-mock-in-mockito/\" rel=\"noreferrer\">https://javapointers.com/tutorial/difference-between-spy-and-mock-in-mockito/</a></p>\n\n<p>A common difference is:</p>\n\n<blockquote>\n  <ul>\n  <li>If you want to directly stub the method(s) of a dependency, then <strong>Mock</strong> that dependency.</li>\n  <li>If you want to stub the data in a dependency so that all its methods return testing values that you need, then <strong>Spy</strong> that dependency.</li>\n  </ul>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":6401714,"reputation":5744,"user_id":4964136,"accept_rate":100,"display_name":"Vishwa Ratna"},"down_vote_count":4,"up_vote_count":42,"is_accepted":false,"score":38,"last_activity_date":1580126754,"creation_date":1580126754,"answer_id":59930840,"question_id":28295625,"body_markdown":"In short:\r\n\r\n`@Spy` and `@Mock` are used heavily in testing of code, but developers do confuse in cases when to use one of them and thus developers end up in using `@Mock` to be safe.\r\n\r\n - Use `@Mock` when you want to just test the functionality **externally**\r\n   without actually calling that method.\r\n - Use `@Spy` when you want to test the functionality **externally +\r\n   internally** with the very method being called.\r\n\r\nBelow is the example where i have taken the scenario of **Election20xx** in America.\r\n\r\nVoters can be divided according to `VotersOfBelow21` and `VotersOfABove21`.\r\n\r\nThe ideal Exit poll says that Trump will win the election because `VotersOfBelow21` and `VotersOfABove21` both will vote for trump  saying &quot;**We elected President Trump** &quot;\r\n\r\n**But this is not the real scenario:**\r\n\r\n&gt; Voters of both age group voted for Trump because they had No other\r\n&gt; effective choice other than Mr Trump.\r\n\r\n**So how do you Test it??**\r\n\r\n    public class VotersOfAbove21 {\r\n    public void weElected(String myVote){\r\n      System.out.println(&quot;Voters of above 21 has no Choice Than Thrump in 20XX &quot;);\r\n    }\r\n    }\r\n____________________________________________________\r\n\r\n    public class VotersOfBelow21 {\r\n      public void weElected(String myVote){\r\n        System.out.println(&quot;Voters of below 21 has no Choice Than Thrump in 20XX&quot;);\r\n      }\r\n    }\r\n_____________________________________________________\r\n\r\n    public class ElectionOfYear20XX {\r\n      VotersOfAbove21 votersOfAbove21;\r\n      VotersOfBelow21 votersOfBelow21;\r\n      public boolean weElected(String WeElectedTrump){\r\n        votersOfAbove21.weElected(WeElectedTrump);\r\n        System.out.println(&quot;We elected President Trump &quot;);\r\n    \r\n        votersOfBelow21.weElected(WeElectedTrump);\r\n        System.out.println(&quot;We elected President Trump &quot;);\r\n        return true;\r\n      }\r\n    \r\n    }\r\n___________________________________________\r\n\r\nNow Note in above first two classes, both the age group people says that they do not have a better choice than trump. Which explicitly means that they voted for Trump just because they had no choice.\r\n\r\nNow the `ElectionOfYear20XX`  says that Trump Won because both age group voted for him overwhelmingly.\r\n\r\nIf we were to Test the `ElectionOfYear20XX` with @Mock, then we might not be able to get the real reason why Trump won, we will be just testing the external reason.\r\n\r\nIf we test the `ElectionOfYear20XX` with @Spy, then we get the real reason why Trump won with the external exit poll results, i.e internally + externally.\r\n\r\n______________________________________\r\nOur `ELectionOfYear20XX_Test` class:\r\n\r\n    @RunWith(MockitoJUnitRunner.class)\r\n    public class ELectionOfYear20XX_Test {\r\n    \r\n      @Mock\r\n      VotersOfBelow21 votersOfBelow21;\r\n      @Mock\r\n      VotersOfAbove21 votersOfAbove21;\r\n      @InjectMocks\r\n      ElectionOfYear20XX electionOfYear20XX;\r\n      @Test\r\n      public void testElectionResults(){\r\n        Assert.assertEquals(true,electionOfYear20XX.weElected(&quot;No Choice&quot;));\r\n      }\r\n    \r\n    }\r\n\r\nThis should **output** just the logic test results i.e. external check:\r\n\r\n    We elected President Trump \r\n    We elected President Trump \r\n_____________________________________________________\r\nTesting with `@Spy` externally as well as internally with actual method invocation.\r\n\r\n    @RunWith(MockitoJUnitRunner.class)\r\n    public class ELectionOfYear20XX_Test {\r\n    \r\n      @Spy\r\n      VotersOfBelow21 votersOfBelow21;\r\n      @Spy\r\n      VotersOfAbove21 votersOfAbove21;\r\n      @InjectMocks\r\n      ElectionOfYear20XX electionOfYear20XX;\r\n      @Test\r\n      public void testElectionResults(){\r\n        Assert.assertEquals(true,electionOfYear20XX.weElected(&quot;No Choice&quot;));\r\n      }\r\n    \r\n    }\r\n\r\n**Output:**\r\n\r\n    Voters of above 21 has no Choice Than Thrump in 20XX \r\n    We elected President Trump \r\n    Voters of below 21 has no Choice Than Thrump in 20XX\r\n    We elected President Trump \r\n\r\n\r\n\r\n\r\n\r\n","title":"Mockito - @Spy vs @Mock","body":"<p>In short:</p>\n\n<p><code>@Spy</code> and <code>@Mock</code> are used heavily in testing of code, but developers do confuse in cases when to use one of them and thus developers end up in using <code>@Mock</code> to be safe.</p>\n\n<ul>\n<li>Use <code>@Mock</code> when you want to just test the functionality <strong>externally</strong>\nwithout actually calling that method.</li>\n<li>Use <code>@Spy</code> when you want to test the functionality <strong>externally +\ninternally</strong> with the very method being called.</li>\n</ul>\n\n<p>Below is the example where i have taken the scenario of <strong>Election20xx</strong> in America.</p>\n\n<p>Voters can be divided according to <code>VotersOfBelow21</code> and <code>VotersOfABove21</code>.</p>\n\n<p>The ideal Exit poll says that Trump will win the election because <code>VotersOfBelow21</code> and <code>VotersOfABove21</code> both will vote for trump  saying \"<strong>We elected President Trump</strong> \"</p>\n\n<p><strong>But this is not the real scenario:</strong></p>\n\n<blockquote>\n  <p>Voters of both age group voted for Trump because they had No other\n  effective choice other than Mr Trump.</p>\n</blockquote>\n\n<p><strong>So how do you Test it??</strong></p>\n\n<pre><code>public class VotersOfAbove21 {\npublic void weElected(String myVote){\n  System.out.println(\"Voters of above 21 has no Choice Than Thrump in 20XX \");\n}\n}\n</code></pre>\n\n<hr>\n\n<pre><code>public class VotersOfBelow21 {\n  public void weElected(String myVote){\n    System.out.println(\"Voters of below 21 has no Choice Than Thrump in 20XX\");\n  }\n}\n</code></pre>\n\n<hr>\n\n<pre><code>public class ElectionOfYear20XX {\n  VotersOfAbove21 votersOfAbove21;\n  VotersOfBelow21 votersOfBelow21;\n  public boolean weElected(String WeElectedTrump){\n    votersOfAbove21.weElected(WeElectedTrump);\n    System.out.println(\"We elected President Trump \");\n\n    votersOfBelow21.weElected(WeElectedTrump);\n    System.out.println(\"We elected President Trump \");\n    return true;\n  }\n\n}\n</code></pre>\n\n<hr>\n\n<p>Now Note in above first two classes, both the age group people says that they do not have a better choice than trump. Which explicitly means that they voted for Trump just because they had no choice.</p>\n\n<p>Now the <code>ElectionOfYear20XX</code>  says that Trump Won because both age group voted for him overwhelmingly.</p>\n\n<p>If we were to Test the <code>ElectionOfYear20XX</code> with @Mock, then we might not be able to get the real reason why Trump won, we will be just testing the external reason.</p>\n\n<p>If we test the <code>ElectionOfYear20XX</code> with @Spy, then we get the real reason why Trump won with the external exit poll results, i.e internally + externally.</p>\n\n<hr>\n\n<p>Our <code>ELectionOfYear20XX_Test</code> class:</p>\n\n<pre><code>@RunWith(MockitoJUnitRunner.class)\npublic class ELectionOfYear20XX_Test {\n\n  @Mock\n  VotersOfBelow21 votersOfBelow21;\n  @Mock\n  VotersOfAbove21 votersOfAbove21;\n  @InjectMocks\n  ElectionOfYear20XX electionOfYear20XX;\n  @Test\n  public void testElectionResults(){\n    Assert.assertEquals(true,electionOfYear20XX.weElected(\"No Choice\"));\n  }\n\n}\n</code></pre>\n\n<p>This should <strong>output</strong> just the logic test results i.e. external check:</p>\n\n<pre><code>We elected President Trump \nWe elected President Trump \n</code></pre>\n\n<hr>\n\n<p>Testing with <code>@Spy</code> externally as well as internally with actual method invocation.</p>\n\n<pre><code>@RunWith(MockitoJUnitRunner.class)\npublic class ELectionOfYear20XX_Test {\n\n  @Spy\n  VotersOfBelow21 votersOfBelow21;\n  @Spy\n  VotersOfAbove21 votersOfAbove21;\n  @InjectMocks\n  ElectionOfYear20XX electionOfYear20XX;\n  @Test\n  public void testElectionResults(){\n    Assert.assertEquals(true,electionOfYear20XX.weElected(\"No Choice\"));\n  }\n\n}\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>Voters of above 21 has no Choice Than Thrump in 20XX \nWe elected President Trump \nVoters of below 21 has no Choice Than Thrump in 20XX\nWe elected President Trump \n</code></pre>\n"},{"tags":[],"owner":{"account_id":6443880,"reputation":438,"user_id":4992961,"display_name":"Hamdhan Azeez T"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1638265585,"creation_date":1638254892,"answer_id":70165346,"question_id":28295625,"body_markdown":"**mock** is used if we want to mock *all* the methods of a class.\r\n\r\n**spy** is used if we want to mock *some* methods and for remaining methods actual call has to be made.","title":"Mockito - @Spy vs @Mock","body":"<p><strong>mock</strong> is used if we want to mock <em>all</em> the methods of a class.</p>\n<p><strong>spy</strong> is used if we want to mock <em>some</em> methods and for remaining methods actual call has to be made.</p>\n"},{"tags":[],"owner":{"account_id":14148561,"reputation":150,"user_id":13052285,"display_name":"James Wagstaff"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1664789234,"creation_date":1657735404,"answer_id":72970733,"question_id":28295625,"body_markdown":"A bit late to the show, but I feel the other responses don&#39;t do a very good job at illustrating the differences between Spies and Mocks. So here is a small demo\r\n\r\nGiven a service to test\r\n```\r\npublic class EmailService {\r\n\r\npublic String sendMail(String email) {\r\n    return String.format(&quot;Email successfully sent to %s&quot;, email);\r\n   }\r\n}\r\n```\r\nWe can now do some testing with four different scenarios.\r\n\r\n 1. Calling and stubbing a mock\r\n 2. Calling a mock without stubbing\r\n 3. Calling a spy without stubbing\r\n 4. Calling and stubbing a spy\r\n\r\nSetup:\r\n```\r\nprivate final String testEmail = &quot;randomuser@domain.com&quot;;\r\nprivate final String success = &quot;SUCCESS&quot;;\r\n@Mock EmailService emailService;\r\n@Spy EmailService emailServiceSpy;\r\n```\r\nTests:\r\n```\r\n@Test\r\n@Description(&quot;When mock is called, we can return any response we like&quot;)\r\npublic void simpleTest1() {\r\n\r\n    when(emailService.sendMail(testEmail)).thenReturn(success);\r\n    assertEquals(success, emailService.sendMail(testEmail));\r\n}\r\n\r\n@Test\r\n@Description(&quot;When mock is called but not stubbed, we receive a null value&quot;)\r\npublic void simpleTest2() {\r\n    assertNull(emailService.sendMail(testEmail));\r\n}\r\n\r\n@Test\r\n@Description(&quot;When a spy is called but not stubbed, the concrete impl is called&quot;)\r\npublic void simpleTest3() {\r\n    assertTrue(emailServiceSpy.sendMail(testEmail).contains(testEmail));\r\n}\r\n\r\n@Test\r\n@Description(&quot;When a spy is called and stubbed, stubbed value is returned&quot;)\r\npublic void simpleTest4() {\r\n    when(emailServiceSpy.sendMail(testEmail)).thenReturn(success);\r\n    assertEquals(success, emailServiceSpy.sendMail(testEmail));\r\n}\r\n```\r\nA Mock if not stubbed will return a null value, whereas a Spy if not stubbed will call the implemented method inside of the concrete class.","title":"Mockito - @Spy vs @Mock","body":"<p>A bit late to the show, but I feel the other responses don't do a very good job at illustrating the differences between Spies and Mocks. So here is a small demo</p>\n<p>Given a service to test</p>\n<pre><code>public class EmailService {\n\npublic String sendMail(String email) {\n    return String.format(&quot;Email successfully sent to %s&quot;, email);\n   }\n}\n</code></pre>\n<p>We can now do some testing with four different scenarios.</p>\n<ol>\n<li>Calling and stubbing a mock</li>\n<li>Calling a mock without stubbing</li>\n<li>Calling a spy without stubbing</li>\n<li>Calling and stubbing a spy</li>\n</ol>\n<p>Setup:</p>\n<pre><code>private final String testEmail = &quot;randomuser@domain.com&quot;;\nprivate final String success = &quot;SUCCESS&quot;;\n@Mock EmailService emailService;\n@Spy EmailService emailServiceSpy;\n</code></pre>\n<p>Tests:</p>\n<pre><code>@Test\n@Description(&quot;When mock is called, we can return any response we like&quot;)\npublic void simpleTest1() {\n\n    when(emailService.sendMail(testEmail)).thenReturn(success);\n    assertEquals(success, emailService.sendMail(testEmail));\n}\n\n@Test\n@Description(&quot;When mock is called but not stubbed, we receive a null value&quot;)\npublic void simpleTest2() {\n    assertNull(emailService.sendMail(testEmail));\n}\n\n@Test\n@Description(&quot;When a spy is called but not stubbed, the concrete impl is called&quot;)\npublic void simpleTest3() {\n    assertTrue(emailServiceSpy.sendMail(testEmail).contains(testEmail));\n}\n\n@Test\n@Description(&quot;When a spy is called and stubbed, stubbed value is returned&quot;)\npublic void simpleTest4() {\n    when(emailServiceSpy.sendMail(testEmail)).thenReturn(success);\n    assertEquals(success, emailServiceSpy.sendMail(testEmail));\n}\n</code></pre>\n<p>A Mock if not stubbed will return a null value, whereas a Spy if not stubbed will call the implemented method inside of the concrete class.</p>\n"}],"owner":{"account_id":5722372,"reputation":1931,"user_id":4520450,"display_name":"Abhinav"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":192156,"favorite_count":0,"down_vote_count":0,"up_vote_count":185,"closed_date":1698928842,"answer_count":9,"score":185,"last_activity_date":1671370961,"creation_date":1422956294,"question_id":28295625,"body_markdown":"I understand a spy calls the real methods on an object, while a mock calls methods on the double object. Also spies are to be avoided unless there is a code smell.\r\n\r\nHowever, how do spies work and when should I actually use them?\r\nHow are they different from mocks?","title":"Mockito - @Spy vs @Mock","body":"<p>I understand a spy calls the real methods on an object, while a mock calls methods on the double object. Also spies are to be avoided unless there is a code smell.</p>\n<p>However, how do spies work and when should I actually use them?\nHow are they different from mocks?</p>\n"},{"tags":["java","android","android-layout"],"answers":[{"tags":[],"owner":{"account_id":20420629,"reputation":658,"user_id":14981685,"display_name":"hossein"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671364656,"creation_date":1671364656,"answer_id":74841125,"question_id":74840777,"body_markdown":"change the root layout height from match_parent to wrap_content\r\n\r\n    android:layout_height=&quot;wrap_content&quot;","title":"Setting constraint programatically","body":"<p>change the root layout height from match_parent to wrap_content</p>\n<pre><code>android:layout_height=&quot;wrap_content&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14549133,"reputation":525,"user_id":10508565,"display_name":"Mieczkoni"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671370708,"creation_date":1671370708,"answer_id":74841781,"question_id":74840777,"body_markdown":"In order to change the View constraints you should do the following:\r\n\r\n    ConstraintLayout constraintLayout = findViewById(R.id.layout);\r\n    ConstraintSet constraintSet = new ConstraintSet();\r\n    constraintSet.clone(constraintLayout);\r\n    constraintSet.connect(R.id.imageButton, ConstraintSet.TOP, R.id.linearLayout10, ConstraintSet.BOTTOM);\r\n    constraintSet.applyTo(constraintLayout);\r\n\r\nDepends on what you actually want to do, you just change the data in the `connect` method. There&#39;s also the `clear` one to remove some specific constraint, for example:\r\n\r\n    constraintSet.clear(R.id.imageButton, ConstraintSet.TOP);","title":"Setting constraint programatically","body":"<p>In order to change the View constraints you should do the following:</p>\n<pre><code>ConstraintLayout constraintLayout = findViewById(R.id.layout);\nConstraintSet constraintSet = new ConstraintSet();\nconstraintSet.clone(constraintLayout);\nconstraintSet.connect(R.id.imageButton, ConstraintSet.TOP, R.id.linearLayout10, ConstraintSet.BOTTOM);\nconstraintSet.applyTo(constraintLayout);\n</code></pre>\n<p>Depends on what you actually want to do, you just change the data in the <code>connect</code> method. There's also the <code>clear</code> one to remove some specific constraint, for example:</p>\n<pre><code>constraintSet.clear(R.id.imageButton, ConstraintSet.TOP);\n</code></pre>\n"}],"owner":{"account_id":16274699,"reputation":131,"user_id":11752173,"display_name":"NuiDev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74841781,"answer_count":2,"score":0,"last_activity_date":1671370708,"creation_date":1671361000,"question_id":74840777,"body_markdown":"I am currently working on a collapsable cardview, I am almost finished, but after I open the cardview, the indicator imageview I&#39;ve made to show arrow down or up is on top of the content, so I want to constraint the top of my Imageview to the bottom of my content.\r\n\r\n\r\nhere is the xml file I made\r\n\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n                        android:id=&quot;@+id/layout&quot;\r\n                        android:layout_width=&quot;match_parent&quot;\r\n                        android:layout_height=&quot;match_parent&quot;\r\n                        android:orientation=&quot;vertical&quot;\r\n                        app:cardCornerRadius=&quot;8dp&quot;\r\n                        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\r\n    \r\n                        &lt;!-- inside here resides the content --&gt;\r\n                        &lt;LinearLayout\r\n                            android:id=&quot;@+id/linearLayout10&quot;\r\n                            android:layout_width=&quot;match_parent&quot;\r\n                            android:layout_height=&quot;wrap_content&quot;\r\n                            android:orientation=&quot;vertical&quot;\r\n                            android:padding=&quot;10dp&quot;\r\n                            android:paddingHorizontal=&quot;10dp&quot;\r\n                            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                            app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\r\n    \r\n    \r\n                            &lt;TextView\r\n                                android:id=&quot;@+id/txt_title&quot;\r\n                                android:layout_width=&quot;match_parent&quot;\r\n                                android:layout_height=&quot;wrap_content&quot;\r\n                                android:fontFamily=&quot;@font/futurah&quot;\r\n                                android:text=&quot;@string/synposis&quot;\r\n                                android:textColor=&quot;?attr/TextAndIcon&quot;\r\n                                android:textSize=&quot;18dp&quot; /&gt;\r\n    \r\n                            &lt;TextView\r\n                                android:id=&quot;@+id/txt_description&quot;\r\n                                android:layout_width=&quot;match_parent&quot;\r\n                                android:layout_height=&quot;wrap_content&quot;\r\n                                android:fontFamily=&quot;@font/futurah_light&quot;\r\n                                android:text=&quot;&#214;zet Yok.&quot;\r\n                                android:textColor=&quot;?attr/TextAndIcon&quot;\r\n                                android:textSize=&quot;13dp&quot; /&gt;\r\n    \r\n    \r\n                        &lt;/LinearLayout&gt;\r\n    \r\n                        &lt;LinearLayout\r\n                            android:id=&quot;@+id/gradient&quot;\r\n                            android:layout_width=&quot;match_parent&quot;\r\n                            android:layout_height=&quot;match_parent&quot;\r\n                            android:background=&quot;@drawable/gradient_second_color&quot;\r\n                            android:orientation=&quot;vertical&quot;\r\n                            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                            app:layout_constraintTop_toTopOf=&quot;parent&quot;/&gt;\r\n    \r\n                        &lt;!-- the &quot;Image&quot; to indicate arrow down. --&gt;\r\n                        &lt;ImageButton\r\n                            android:id=&quot;@+id/imageButton&quot;\r\n                            android:layout_width=&quot;wrap_content&quot;\r\n                            android:layout_height=&quot;wrap_content&quot;\r\n                            android:paddingTop=&quot;10dp&quot;\r\n                            android:background=&quot;@android:color/transparent&quot;\r\n                            android:src=&quot;@drawable/ic_arrowdown&quot;\r\n                            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                            app:tint=&quot;?attr/TextAndIcon&quot; /&gt;\r\n                    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;","title":"Setting constraint programatically","body":"<p>I am currently working on a collapsable cardview, I am almost finished, but after I open the cardview, the indicator imageview I've made to show arrow down or up is on top of the content, so I want to constraint the top of my Imageview to the bottom of my content.</p>\n<p>here is the xml file I made</p>\n<pre><code>&lt;androidx.constraintlayout.widget.ConstraintLayout\n                    android:id=&quot;@+id/layout&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;match_parent&quot;\n                    android:orientation=&quot;vertical&quot;\n                    app:cardCornerRadius=&quot;8dp&quot;\n                    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n                    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                    app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\n\n                    &lt;!-- inside here resides the content --&gt;\n                    &lt;LinearLayout\n                        android:id=&quot;@+id/linearLayout10&quot;\n                        android:layout_width=&quot;match_parent&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:orientation=&quot;vertical&quot;\n                        android:padding=&quot;10dp&quot;\n                        android:paddingHorizontal=&quot;10dp&quot;\n                        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\n\n\n                        &lt;TextView\n                            android:id=&quot;@+id/txt_title&quot;\n                            android:layout_width=&quot;match_parent&quot;\n                            android:layout_height=&quot;wrap_content&quot;\n                            android:fontFamily=&quot;@font/futurah&quot;\n                            android:text=&quot;@string/synposis&quot;\n                            android:textColor=&quot;?attr/TextAndIcon&quot;\n                            android:textSize=&quot;18dp&quot; /&gt;\n\n                        &lt;TextView\n                            android:id=&quot;@+id/txt_description&quot;\n                            android:layout_width=&quot;match_parent&quot;\n                            android:layout_height=&quot;wrap_content&quot;\n                            android:fontFamily=&quot;@font/futurah_light&quot;\n                            android:text=&quot;Özet Yok.&quot;\n                            android:textColor=&quot;?attr/TextAndIcon&quot;\n                            android:textSize=&quot;13dp&quot; /&gt;\n\n\n                    &lt;/LinearLayout&gt;\n\n                    &lt;LinearLayout\n                        android:id=&quot;@+id/gradient&quot;\n                        android:layout_width=&quot;match_parent&quot;\n                        android:layout_height=&quot;match_parent&quot;\n                        android:background=&quot;@drawable/gradient_second_color&quot;\n                        android:orientation=&quot;vertical&quot;\n                        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n                        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                        app:layout_constraintTop_toTopOf=&quot;parent&quot;/&gt;\n\n                    &lt;!-- the &quot;Image&quot; to indicate arrow down. --&gt;\n                    &lt;ImageButton\n                        android:id=&quot;@+id/imageButton&quot;\n                        android:layout_width=&quot;wrap_content&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:paddingTop=&quot;10dp&quot;\n                        android:background=&quot;@android:color/transparent&quot;\n                        android:src=&quot;@drawable/ic_arrowdown&quot;\n                        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n                        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                        app:tint=&quot;?attr/TextAndIcon&quot; /&gt;\n                &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n"},{"tags":["java","android-studio"],"owner":{"account_id":22130705,"reputation":3,"user_id":16382289,"display_name":"akun percobaan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671370339,"creation_date":1671370339,"question_id":74841738,"body_markdown":"i got an error in this code i.e. on gallery and take foto. the error code is startActivityForResult Deprecated\r\n```        camera.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                if (checkSelfPermission(Manifest.permission.CAMERA) == PackageManager.PERMISSION_GRANTED) {\r\n                    Intent cameraIntent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\r\n                    startActivityForResult(cameraIntent, 3);\r\n                } else {\r\n                    requestPermissions(new String[]{Manifest.permission.CAMERA}, 100);\r\n                }\r\n            }\r\n        });\r\n        gallery.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Intent cameraIntent = new Intent(Intent.ACTION_PICK, MediaStore.Images.Media.EXTERNAL_CONTENT_URI);\r\n                startActivityForResult(cameraIntent, 1);\r\n            }\r\n        });\r\n    }\r\n\r\n    \r\n```","title":"startActivityForResult Deprecated in java","body":"<p>i got an error in this code i.e. on gallery and take foto. the error code is startActivityForResult Deprecated</p>\n<pre><code>            @Override\n            public void onClick(View view) {\n                if (checkSelfPermission(Manifest.permission.CAMERA) == PackageManager.PERMISSION_GRANTED) {\n                    Intent cameraIntent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\n                    startActivityForResult(cameraIntent, 3);\n                } else {\n                    requestPermissions(new String[]{Manifest.permission.CAMERA}, 100);\n                }\n            }\n        });\n        gallery.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Intent cameraIntent = new Intent(Intent.ACTION_PICK, MediaStore.Images.Media.EXTERNAL_CONTENT_URI);\n                startActivityForResult(cameraIntent, 1);\n            }\n        });\n    }\n\n    \n</code></pre>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"display_name":"user20808151"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671369406,"creation_date":1671368792,"answer_id":74841578,"question_id":74841546,"body_markdown":"To modify the code to only set the value of Suhoor to fajr - 2 on the 10th day of Muharram, you can modify the if condition as follows:\r\n\r\n\r\n    if (hijriTime.ismuharram() &amp;&amp; hijriTime.getDayOfMonth() == 10) {\r\n        this.Suhoor = fajr - 2;\r\n    }\r\n\r\n\r\nThis will check if the current day is in Muharram and if it is the 10th day of the month, and only set the value of Suhoor to fajr - 2 in that case. If the current day is not the 10th day of Muharram, the value of Suhoor will not be modified.\r\n\r\nNote that this code assumes that the HijriTime class has a method called getDayOfMonth that returns the current day of the month in the Hijri calendar. It also assumes that the ismuharram method returns a boolean value indicating whether the current day is in Muharram or not. You may need to modify the code further if these assumptions are not correct.","title":"Specific day of month such as 10th of muharram","body":"<p>To modify the code to only set the value of Suhoor to fajr - 2 on the 10th day of Muharram, you can modify the if condition as follows:</p>\n<pre><code>if (hijriTime.ismuharram() &amp;&amp; hijriTime.getDayOfMonth() == 10) {\n    this.Suhoor = fajr - 2;\n}\n</code></pre>\n<p>This will check if the current day is in Muharram and if it is the 10th day of the month, and only set the value of Suhoor to fajr - 2 in that case. If the current day is not the 10th day of Muharram, the value of Suhoor will not be modified.</p>\n<p>Note that this code assumes that the HijriTime class has a method called getDayOfMonth that returns the current day of the month in the Hijri calendar. It also assumes that the ismuharram method returns a boolean value indicating whether the current day is in Muharram or not. You may need to modify the code further if these assumptions are not correct.</p>\n"}],"owner":{"account_id":27270169,"reputation":11,"user_id":20791603,"display_name":"Ahmed Mansour"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671369406,"creation_date":1671368456,"question_id":74841546,"body_markdown":"    double Suhoor;\r\n    this.Suhoor = fajr - 2;\r\n    if (this.calculationMethod.equalsIgnoreCase(&quot;UmmAlQuraUniv&quot;)) {\r\n        try {\r\n            HijriTime hijriTime = new HijriTime(Calendar.getInstance());\r\n            if (hijriTime.ismuharram()) {\r\n                this.Suhoor = fajr - 2;\r\n            }\r\n        } catch (IOException e) {\r\n            this.Suhoor = fajr - 2;\r\n        }    \r\n    }\r\n\r\n \r\nWhat is the correction in second if condition in this code to work in a specific day of month such as 10th of muharram.\r\n \r\nIn another way , what is required to modify the code to achieve the explanation in the above.        ","title":"Specific day of month such as 10th of muharram","body":"<pre><code>double Suhoor;\nthis.Suhoor = fajr - 2;\nif (this.calculationMethod.equalsIgnoreCase(&quot;UmmAlQuraUniv&quot;)) {\n    try {\n        HijriTime hijriTime = new HijriTime(Calendar.getInstance());\n        if (hijriTime.ismuharram()) {\n            this.Suhoor = fajr - 2;\n        }\n    } catch (IOException e) {\n        this.Suhoor = fajr - 2;\n    }    \n}\n</code></pre>\n<p>What is the correction in second if condition in this code to work in a specific day of month such as 10th of muharram.</p>\n<p>In another way , what is required to modify the code to achieve the explanation in the above.</p>\n"},{"tags":["java","jwt","keycloak","openid-connect"],"owner":{"account_id":27283633,"reputation":1,"user_id":20803154,"display_name":"tom655250"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671369323,"creation_date":1671369323,"question_id":74841629,"body_markdown":"A Keycloak realm has a single active keypair at a time, which is used to sign and verify tokens of any realm client. How can I make sure that each client uses their own set of active/passive keypairs? More particularly:\r\n\r\n- When issuing a JWT, only a private key that is specific to the requesting client should be used to compute the signature.\r\n- When authenticating a JWT, the public key used to verify the signature should be retrieved based on the key id *and* the client id.\r\n\r\nI&#39;m guessing that this cannot be achieved without implementing a custom provider. If that is the case, could you briefly outline what the implementation would look like?","title":"Keycloak per-client keys","body":"<p>A Keycloak realm has a single active keypair at a time, which is used to sign and verify tokens of any realm client. How can I make sure that each client uses their own set of active/passive keypairs? More particularly:</p>\n<ul>\n<li>When issuing a JWT, only a private key that is specific to the requesting client should be used to compute the signature.</li>\n<li>When authenticating a JWT, the public key used to verify the signature should be retrieved based on the key id <em>and</em> the client id.</li>\n</ul>\n<p>I'm guessing that this cannot be achieved without implementing a custom provider. If that is the case, could you briefly outline what the implementation would look like?</p>\n"},{"tags":["java","xml","jaxb","text-files","stax"],"answers":[{"tags":[],"owner":{"account_id":2182770,"reputation":77,"user_id":3170024,"display_name":"skreutzer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671368852,"creation_date":1671368255,"answer_id":74841518,"question_id":74834671,"body_markdown":"First question: please notice that in your input, you have &quot;empty lines&quot;/linebreaks in your Lorem Ipsum. `Scanner.nextLine()` reports/provides these lines too. In order to avoid adding `Chapter`s for these which then result in an empty `&lt;Sentences/&gt;` in the output, what about adding\r\n\r\n``` lang-java\r\nif (line.isEmpty() == true) {\r\n    continue;\r\n}\r\n```\r\nto your loop after the `inputfile.nextLine()`?\r\n\r\nSecond question: what about something like\r\n\r\n``` lang-java\r\nprivate static void convertToXml(Scanner inputfile, FileOutputStream outXML) throws XMLStreamException {\r\n    List&lt;Chapter&gt; chapters = new ArrayList&lt;Chapter&gt;();\r\n\r\n    {\r\n        Chapter chapter = null;\r\n\r\n        while (inputfile.hasNext()) {\r\n            String line = inputfile.nextLine();\r\n\r\n            if (line.isEmpty() == true) {\r\n                continue;\r\n            }\r\n\r\n            String[] sentences = line.split(&quot;(?&lt;=(?&lt;![A-Z])\\\\.)&quot;);\r\n\r\n            if (chapter == null) {\r\n                chapter = new Chapter();\r\n            }\r\n\r\n            chapter.getParagraph().add(line);\r\n            chapter.getSentence().addAll(List.of(sentences));\r\n\r\n            if (chapter.getParagraph().size() &gt;= 3) {\r\n                chapters.add(chapter);\r\n                chapter = null;\r\n            }\r\n        }\r\n\r\n        if (chapter != null) {\r\n            chapters.add(chapter);\r\n        }\r\n    }\r\n\r\n    XMLOutputFactory output = XMLOutputFactory.newInstance();\r\n    XMLStreamWriter writer = output.createXMLStreamWriter(outXML);\r\n    writer.writeStartDocument(&quot;utf-8&quot;, &quot;1.0&quot;);\r\n    writer.writeCharacters(&quot;\\n&quot;);\r\n    writer.writeStartElement(&quot;book&quot;);\r\n    writer.writeCharacters(&quot;\\n&quot;);\r\n\r\n    for (Chapter chapter : chapters) {\r\n        writer.writeCharacters(&quot;\\t&quot;);\r\n        writer.writeStartElement(&quot;Chapter&quot;);\r\n        writer.writeCharacters(&quot;\\n&quot;);\r\n\r\n        for (String paragraph : chapter.getParagraph()) {\r\n            writer.writeCharacters(&quot;\\t\\t&quot;);\r\n            writer.writeStartElement(&quot;Paragraph&quot;);\r\n            writer.writeCharacters(paragraph);\r\n            writer.writeEndElement();\r\n            writer.writeCharacters(&quot;\\n&quot;);\r\n        }\r\n\r\n        writer.writeCharacters(&quot;\\t\\t&quot;);\r\n        writer.writeStartElement(&quot;Sentence&quot;);\r\n        writer.writeCharacters(chapter.getSentence()+&quot;&quot;);\r\n        writer.writeEndElement();\r\n        writer.writeCharacters(&quot;\\n\\t&quot;);\r\n        writer.writeEndElement();\r\n        writer.writeCharacters(&quot;\\n&quot;);\r\n    }\r\n\r\n    writer.writeCharacters(&quot;\\n&quot;);\r\n    writer.writeEndElement();\r\n    writer.writeEndDocument();\r\n}\r\n```\r\nwith a Chapter.java like\r\n``` lang-java\r\npublic class Chapter {\r\n\r\n    private List&lt;String&gt; paragraph = new ArrayList&lt;String&gt;();\r\n    private List&lt;String&gt; sentence = new ArrayList&lt;String&gt;();\r\n\r\n    public List&lt;String&gt; getParagraph() {\r\n        return paragraph;\r\n    }\r\n\r\n    public List&lt;String&gt; getSentence() {\r\n        return sentence;\r\n    }\r\n}\r\n```\r\nand the `getChapter()` not needed (or you may put the plaintext file reading and XML output generation into separate methods, etc.)?\r\n\r\nPlease be aware, with my proposal, you keep all the `Chapter` objects and paragraph strings in memory. If you want to avoid this, you can mingle input file processing and output generation back together. I just separated the two for better illustration of how to arrange the collection of paragraphs. You could easily write out a `Chapter` once it has collected 3 paragraphs + at the end of the loop (in case there&#39;s a remaining `Chapter` object not written out yet), and not grow a `List&lt;Chapter&gt;`.","title":"Test file to XML file (Problem with the structure)","body":"<p>First question: please notice that in your input, you have &quot;empty lines&quot;/linebreaks in your Lorem Ipsum. <code>Scanner.nextLine()</code> reports/provides these lines too. In order to avoid adding <code>Chapter</code>s for these which then result in an empty <code>&lt;Sentences/&gt;</code> in the output, what about adding</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (line.isEmpty() == true) {\n    continue;\n}\n</code></pre>\n<p>to your loop after the <code>inputfile.nextLine()</code>?</p>\n<p>Second question: what about something like</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static void convertToXml(Scanner inputfile, FileOutputStream outXML) throws XMLStreamException {\n    List&lt;Chapter&gt; chapters = new ArrayList&lt;Chapter&gt;();\n\n    {\n        Chapter chapter = null;\n\n        while (inputfile.hasNext()) {\n            String line = inputfile.nextLine();\n\n            if (line.isEmpty() == true) {\n                continue;\n            }\n\n            String[] sentences = line.split(&quot;(?&lt;=(?&lt;![A-Z])\\\\.)&quot;);\n\n            if (chapter == null) {\n                chapter = new Chapter();\n            }\n\n            chapter.getParagraph().add(line);\n            chapter.getSentence().addAll(List.of(sentences));\n\n            if (chapter.getParagraph().size() &gt;= 3) {\n                chapters.add(chapter);\n                chapter = null;\n            }\n        }\n\n        if (chapter != null) {\n            chapters.add(chapter);\n        }\n    }\n\n    XMLOutputFactory output = XMLOutputFactory.newInstance();\n    XMLStreamWriter writer = output.createXMLStreamWriter(outXML);\n    writer.writeStartDocument(&quot;utf-8&quot;, &quot;1.0&quot;);\n    writer.writeCharacters(&quot;\\n&quot;);\n    writer.writeStartElement(&quot;book&quot;);\n    writer.writeCharacters(&quot;\\n&quot;);\n\n    for (Chapter chapter : chapters) {\n        writer.writeCharacters(&quot;\\t&quot;);\n        writer.writeStartElement(&quot;Chapter&quot;);\n        writer.writeCharacters(&quot;\\n&quot;);\n\n        for (String paragraph : chapter.getParagraph()) {\n            writer.writeCharacters(&quot;\\t\\t&quot;);\n            writer.writeStartElement(&quot;Paragraph&quot;);\n            writer.writeCharacters(paragraph);\n            writer.writeEndElement();\n            writer.writeCharacters(&quot;\\n&quot;);\n        }\n\n        writer.writeCharacters(&quot;\\t\\t&quot;);\n        writer.writeStartElement(&quot;Sentence&quot;);\n        writer.writeCharacters(chapter.getSentence()+&quot;&quot;);\n        writer.writeEndElement();\n        writer.writeCharacters(&quot;\\n\\t&quot;);\n        writer.writeEndElement();\n        writer.writeCharacters(&quot;\\n&quot;);\n    }\n\n    writer.writeCharacters(&quot;\\n&quot;);\n    writer.writeEndElement();\n    writer.writeEndDocument();\n}\n</code></pre>\n<p>with a Chapter.java like</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Chapter {\n\n    private List&lt;String&gt; paragraph = new ArrayList&lt;String&gt;();\n    private List&lt;String&gt; sentence = new ArrayList&lt;String&gt;();\n\n    public List&lt;String&gt; getParagraph() {\n        return paragraph;\n    }\n\n    public List&lt;String&gt; getSentence() {\n        return sentence;\n    }\n}\n</code></pre>\n<p>and the <code>getChapter()</code> not needed (or you may put the plaintext file reading and XML output generation into separate methods, etc.)?</p>\n<p>Please be aware, with my proposal, you keep all the <code>Chapter</code> objects and paragraph strings in memory. If you want to avoid this, you can mingle input file processing and output generation back together. I just separated the two for better illustration of how to arrange the collection of paragraphs. You could easily write out a <code>Chapter</code> once it has collected 3 paragraphs + at the end of the loop (in case there's a remaining <code>Chapter</code> object not written out yet), and not grow a <code>List&lt;Chapter&gt;</code>.</p>\n"}],"owner":{"account_id":14665475,"reputation":111,"user_id":10591439,"display_name":"vapan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74841518,"answer_count":1,"score":0,"last_activity_date":1671368852,"creation_date":1671285363,"question_id":74834671,"body_markdown":"I want to convert a text file to XML file with a specific structure. I want to separate the text into paragraphs and these paragraphs will get into a chapter. For example, every chapter should have 3 paragraphs. The root element of XML is called &quot;Book&quot;.\r\n\r\nTo give you one more example, I have this text file:\r\n\r\n&gt; Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. \r\n&gt;\r\n&gt; Velit scelerisque in dictum non consectetur a erat. Sit amet justo donec enim diam vulputate. Id aliquet lectus proin nibh nisl condimentum id venenatis a. \r\n&gt;\r\n&gt;Eget gravida cum sociis natoque penatibus et magnis dis. Habitant morbi tristique senectus et netus et. Interdum consectetur libero id faucibus nisl tincidunt eget nullam.\r\n\r\nI want an XML which includes a chapter with these 3 paragraphs.\r\n\r\nHere is my code:\r\n\r\n**Chapter class:**\r\n\r\n```java\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class Chapter {\r\n\r\n    private String paragraph;\r\n    private List&lt;String&gt; sentence;\r\n    private List&lt;String&gt; words;\r\n```\r\n\r\nMy main code:\r\n\r\n```\r\npublic static void main(String[] args) {\r\n    String textInputFile = &quot;xml_files/sample.txt&quot;;\r\n    String xmlFileOutput = &quot;xml_files/sample.xml&quot;;\r\n\r\n    try (FileOutputStream outXML = new FileOutputStream(xmlFileOutput))  {\r\n        Scanner inputfile = new Scanner(new File(textInputFile));\r\n        convertToXml(inputfile, outXML);\r\n    }\r\n    catch(Exception e){\r\n    }\r\n}\r\n\r\nprivate static void  convertToXml(Scanner inputfile, FileOutputStream outXML) throws XMLStreamException {\r\n    XMLOutputFactory output = XMLOutputFactory.newInstance();\r\n    XMLStreamWriter writer = output.createXMLStreamWriter(outXML);\r\n    writer.writeStartDocument(&quot;utf-8&quot;, &quot;1.0&quot;);\r\n    writer.writeCharacters(&quot;\\n&quot;);\r\n    // &lt;books&gt;\r\n    writer.writeStartElement(&quot;book&quot;);\r\n    // &lt;book&gt;\r\n    while (inputfile.hasNext()){\r\n        String line = inputfile.nextLine();\r\n        Chapter chapter = getChapter(line);\r\n        writer.writeCharacters(&quot;\\n\\t&quot;);\r\n        writer.writeStartElement(&quot;Chapter&quot;);\r\n        writer.writeCharacters(&quot;\\n\\t\\t&quot;);\r\n        writer.writeStartElement(&quot;Paragraph&quot;);\r\n        writer.writeCharacters(chapter.getParagraph()+&quot;&quot;);\r\n        writer.writeEndElement();\r\n        writer.writeCharacters(&quot;\\n\\t\\t&quot;);\r\n        writer.writeStartElement(&quot;Sentence&quot;);\r\n        writer.writeCharacters(chapter.getSentence()+&quot;&quot;);\r\n        writer.writeEndElement();\r\n        writer.writeCharacters(&quot;\\n\\t&quot;);\r\n        writer.writeEndElement();\r\n    }\r\n    writer.writeCharacters(&quot;\\n&quot;);\r\n    writer.writeEndElement();\r\n    writer.writeEndDocument();\r\n}\r\n\r\nprivate static Chapter getChapter(String line){\r\n    String[] paragraphs = line.split(&quot;\\\\r?\\\\n&quot;);\r\n    String[] sentences = line.split(&quot;(?&lt;=(?&lt;![A-Z])\\\\.)&quot;);\r\n    Chapter chapter = new Chapter();\r\n    chapter.setParagraph(List.of(paragraphs));\r\n    chapter.setSentence(List.of(sentences));\r\n    return chapter;\r\n}\r\n```\r\n\r\nI&#39;m counting the sentences of each paragraph in the above code, but I don&#39;t have any problem there.\r\n\r\nMy output:\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\r\n\r\n&lt;book&gt;\r\n\r\n&lt;Chapter Paragraph=&quot;Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.&quot;&gt;\r\n&lt;Paragraph&gt; Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.&lt;/Paragraph&gt;\r\n&lt;Sentence&gt;[Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.]\r\n&lt;/Chapter&gt;\r\n\r\n   &lt;Chapter Paragraph=&quot;&quot; Sentences=&quot;[]&quot;&gt;\r\n        &lt;Paragraph/&gt;\r\n        &lt;Sentences&gt;[]&lt;/Sentences&gt;\r\n    &lt;/Chapter&gt;\r\n\r\n&lt;Chapter Paragraph=&quot;Velit scelerisque in dictum non consectetur a erat. Sit amet justo donec enim diam vulputate. Id aliquet lectus proin nibh nisl condimentum id venenatis a.&quot;&gt;\r\n&lt;Paragraph&gt; Velit scelerisque in dictum non consectetur a erat. Sit amet justo donec enim diam vulputate. Id aliquet lectus proin nibh nisl condimentum id venenatis a.&lt;/Paragraph&gt;\r\n&lt;Sentence&gt;[Velit scelerisque in dictum non consectetur a erat , Sit amet justo donec enim diam vulputate, Id aliquet lectus proin nibh nisl condimentum id venenatis a.]\r\n&lt;/Chapter&gt;\r\n\r\n  (...)        \r\n\r\n&lt;/book&gt;\r\n```\r\n\r\nIn the second chapter you can see I have null values inside paragraph and sentence. How can I prevent to print these nulls (I have a chapter with values and the next chapter is always null)? My second question is how can I have many paragraphs in one chapter? For example, I want every chapter to includes 3 paragraphs. Imagine that I have a text file with 10000 lines and I want to structure it into an XML.","title":"Test file to XML file (Problem with the structure)","body":"<p>I want to convert a text file to XML file with a specific structure. I want to separate the text into paragraphs and these paragraphs will get into a chapter. For example, every chapter should have 3 paragraphs. The root element of XML is called &quot;Book&quot;.</p>\n<p>To give you one more example, I have this text file:</p>\n<blockquote>\n<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>\n<p>Velit scelerisque in dictum non consectetur a erat. Sit amet justo donec enim diam vulputate. Id aliquet lectus proin nibh nisl condimentum id venenatis a.</p>\n<p>Eget gravida cum sociis natoque penatibus et magnis dis. Habitant morbi tristique senectus et netus et. Interdum consectetur libero id faucibus nisl tincidunt eget nullam.</p>\n</blockquote>\n<p>I want an XML which includes a chapter with these 3 paragraphs.</p>\n<p>Here is my code:</p>\n<p><strong>Chapter class:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class Chapter {\n\n    private String paragraph;\n    private List&lt;String&gt; sentence;\n    private List&lt;String&gt; words;\n</code></pre>\n<p>My main code:</p>\n<pre><code>public static void main(String[] args) {\n    String textInputFile = &quot;xml_files/sample.txt&quot;;\n    String xmlFileOutput = &quot;xml_files/sample.xml&quot;;\n\n    try (FileOutputStream outXML = new FileOutputStream(xmlFileOutput))  {\n        Scanner inputfile = new Scanner(new File(textInputFile));\n        convertToXml(inputfile, outXML);\n    }\n    catch(Exception e){\n    }\n}\n\nprivate static void  convertToXml(Scanner inputfile, FileOutputStream outXML) throws XMLStreamException {\n    XMLOutputFactory output = XMLOutputFactory.newInstance();\n    XMLStreamWriter writer = output.createXMLStreamWriter(outXML);\n    writer.writeStartDocument(&quot;utf-8&quot;, &quot;1.0&quot;);\n    writer.writeCharacters(&quot;\\n&quot;);\n    // &lt;books&gt;\n    writer.writeStartElement(&quot;book&quot;);\n    // &lt;book&gt;\n    while (inputfile.hasNext()){\n        String line = inputfile.nextLine();\n        Chapter chapter = getChapter(line);\n        writer.writeCharacters(&quot;\\n\\t&quot;);\n        writer.writeStartElement(&quot;Chapter&quot;);\n        writer.writeCharacters(&quot;\\n\\t\\t&quot;);\n        writer.writeStartElement(&quot;Paragraph&quot;);\n        writer.writeCharacters(chapter.getParagraph()+&quot;&quot;);\n        writer.writeEndElement();\n        writer.writeCharacters(&quot;\\n\\t\\t&quot;);\n        writer.writeStartElement(&quot;Sentence&quot;);\n        writer.writeCharacters(chapter.getSentence()+&quot;&quot;);\n        writer.writeEndElement();\n        writer.writeCharacters(&quot;\\n\\t&quot;);\n        writer.writeEndElement();\n    }\n    writer.writeCharacters(&quot;\\n&quot;);\n    writer.writeEndElement();\n    writer.writeEndDocument();\n}\n\nprivate static Chapter getChapter(String line){\n    String[] paragraphs = line.split(&quot;\\\\r?\\\\n&quot;);\n    String[] sentences = line.split(&quot;(?&lt;=(?&lt;![A-Z])\\\\.)&quot;);\n    Chapter chapter = new Chapter();\n    chapter.setParagraph(List.of(paragraphs));\n    chapter.setSentence(List.of(sentences));\n    return chapter;\n}\n</code></pre>\n<p>I'm counting the sentences of each paragraph in the above code, but I don't have any problem there.</p>\n<p>My output:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\n\n&lt;book&gt;\n\n&lt;Chapter Paragraph=&quot;Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.&quot;&gt;\n&lt;Paragraph&gt; Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.&lt;/Paragraph&gt;\n&lt;Sentence&gt;[Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.]\n&lt;/Chapter&gt;\n\n   &lt;Chapter Paragraph=&quot;&quot; Sentences=&quot;[]&quot;&gt;\n        &lt;Paragraph/&gt;\n        &lt;Sentences&gt;[]&lt;/Sentences&gt;\n    &lt;/Chapter&gt;\n\n&lt;Chapter Paragraph=&quot;Velit scelerisque in dictum non consectetur a erat. Sit amet justo donec enim diam vulputate. Id aliquet lectus proin nibh nisl condimentum id venenatis a.&quot;&gt;\n&lt;Paragraph&gt; Velit scelerisque in dictum non consectetur a erat. Sit amet justo donec enim diam vulputate. Id aliquet lectus proin nibh nisl condimentum id venenatis a.&lt;/Paragraph&gt;\n&lt;Sentence&gt;[Velit scelerisque in dictum non consectetur a erat , Sit amet justo donec enim diam vulputate, Id aliquet lectus proin nibh nisl condimentum id venenatis a.]\n&lt;/Chapter&gt;\n\n  (...)        \n\n&lt;/book&gt;\n</code></pre>\n<p>In the second chapter you can see I have null values inside paragraph and sentence. How can I prevent to print these nulls (I have a chapter with values and the next chapter is always null)? My second question is how can I have many paragraphs in one chapter? For example, I want every chapter to includes 3 paragraphs. Imagine that I have a text file with 10000 lines and I want to structure it into an XML.</p>\n"},{"tags":["java","selenium","automated-tests"],"comments":[{"owner":{"account_id":10404380,"reputation":2588,"user_id":7671727,"display_name":"AbiSaran"},"score":0,"creation_date":1671286433,"post_id":74834186,"comment_id":132069196,"body_markdown":"Post the URL, post the correct code (we cannot debug this code, because you copied this code from a framework, create a standalone file, execute the code then post that code), and explain your issue clearly.","body":"Post the URL, post the correct code (we cannot debug this code, because you copied this code from a framework, create a standalone file, execute the code then post that code), and explain your issue clearly."},{"owner":{"account_id":18124739,"reputation":51,"user_id":13180353,"display_name":"Avdhut Joshi"},"score":0,"creation_date":1671347021,"post_id":74834186,"comment_id":132077370,"body_markdown":"@AbiSaran I have updated the file. I want to paginate through the table untill the the last page . In updated code I have accheived it partially. But it gives me an exception &quot;thread &quot;main&quot; org.openqa.selenium.StaleElementReferenceException: stale element reference: element is not attached to the page document&quot;. Please help me. Apologies for late reply as I was sleeping","body":"@AbiSaran I have updated the file. I want to paginate through the table untill the the last page . In updated code I have accheived it partially. But it gives me an exception &quot;thread &quot;main&quot; org.openqa.selenium.StaleElementReferenceException: stale element reference: element is not attached to the page document&quot;. Please help me. Apologies for late reply as I was sleeping"}],"answers":[{"tags":[],"owner":{"account_id":10404380,"reputation":2588,"user_id":7671727,"display_name":"AbiSaran"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671368469,"creation_date":1671368469,"answer_id":74841549,"question_id":74834186,"body_markdown":"After logging in, once you reach the table which contains the list of reports, add the below code and try:\r\n\r\n\r\n    Thread.sleep(2000);\r\n    \t        \r\n    // to close the toast message, if the toast message does not appear, comment the below line\t        \r\n    driver.findElement(By.xpath(&quot;.//button[@class=&#39;toast-close-button&#39;]&quot;)).click();\r\n    \t        \r\n    boolean flag = true;\r\n    // below while loop will click the &#39;NEXT&#39; button until it is disabled\r\n    while (flag) {\r\n        WebElement nextBtn = driver.findElement(By.id(&quot;query-table_next&quot;));\r\n    \tif (!nextBtn.getAttribute(&quot;class&quot;).contains(&quot;disabled&quot;)) {\r\n    \t    nextBtn.click();\r\n    \t    Thread.sleep(1000);\r\n    \t} else {\r\n    \t    flag = false;\r\n    \t    System.out.println(&quot;In the last page&quot;);\r\n    \t}\r\n    }\r\n\r\n","title":"I want to paginate through a table using selenium in java","body":"<p>After logging in, once you reach the table which contains the list of reports, add the below code and try:</p>\n<pre><code>Thread.sleep(2000);\n            \n// to close the toast message, if the toast message does not appear, comment the below line         \ndriver.findElement(By.xpath(&quot;.//button[@class='toast-close-button']&quot;)).click();\n            \nboolean flag = true;\n// below while loop will click the 'NEXT' button until it is disabled\nwhile (flag) {\n    WebElement nextBtn = driver.findElement(By.id(&quot;query-table_next&quot;));\n    if (!nextBtn.getAttribute(&quot;class&quot;).contains(&quot;disabled&quot;)) {\n        nextBtn.click();\n        Thread.sleep(1000);\n    } else {\n        flag = false;\n        System.out.println(&quot;In the last page&quot;);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":18124739,"reputation":51,"user_id":13180353,"display_name":"Avdhut Joshi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":152,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74841549,"answer_count":1,"score":1,"last_activity_date":1671368469,"creation_date":1671281389,"question_id":74834186,"body_markdown":"I need your help I want to paginate through a table an store the values of it untill &quot;Next Button&quot; disables. \r\nAlthough storing values is not ossible its ok. But help me in pagination I want to click on the button it the next button untill it is  not disabled .Please help me. I am on a internship\r\n    \r\nJava Code:\r\n    \r\n   \r\n\r\n    package Onsight.Framework;\r\n    \r\n    import java.util.List;\r\n    \r\n    import org.openqa.selenium.By;\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.WebElement;\r\n    import org.openqa.selenium.chrome.ChromeDriver;\r\n    import org.openqa.selenium.chrome.ChromeOptions;\r\n    \r\n    import com.github.javafaker.Faker;\r\n    \r\n    import avdhut.onsight.commonutils.BaseComponenets;\r\n    import avdhut.onsight.pageobject.HomePage;\r\n    import avdhut.onsight.pageobject.LoginPage;\r\n    import io.github.bonigarcia.wdm.WebDriverManager;\r\n    \r\n    public class Webtable extends BaseComponenets {\r\n    \t\r\n    \tpublic static void main(String[] args) throws InterruptedException {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\t\r\n    \t\tString urlString = &quot;https://oinsightsvm1.westindia.cloudapp.azure.com:444/ctsOInsightsBMS/res/createReport.html&quot;;\r\n    \t\tString userEmailString = &quot;User66&quot;;\r\n    \t\tString userPassword = &quot;Avdhut@5201&quot;;\r\n    \t\tString titleString;\r\n    \t\tString textString=&quot;Clarita&quot;;\r\n    \t\tFaker faker = new Faker();\r\n    \t\tWebDriverManager.chromedriver().setup();\r\n    \t\tChromeOptions options = new ChromeOptions();\r\n    \t\t// options.addArguments(&quot;--ignore-ssl- errors=yes&quot;);\r\n    \t\toptions.addArguments(&quot;--ignore-certificate-errors&quot;);\r\n    \t\tWebDriver driver = new ChromeDriver(options);\r\n    \t\tdriver.get(urlString);\r\n    \t\tLoginPage loginPage = new LoginPage(driver);\r\n    \t\tloginPage.login_username(userEmailString);\r\n    \t\tloginPage.click0nsubmit();\r\n    \t\tloginPage.EnterPassword(userPassword);\r\n    \t\tloginPage.click0nsubmit();\r\n    \t\tHomePage homePage = new HomePage(driver);\r\n    //\t\thomePage.view_report_values(textString);\r\n    \t\tIsVisible(baseTableBy);\r\n    \t\tWebElement baseTable=driver.findElement(baseTableBy);\r\n    \t\tList&lt;WebElement&gt; table_roWebElement=baseTable.findElements(report_name_rowsBy);\r\n    \t\tfor (WebElement webElement : table_roWebElement) {\r\n    \t\t\tif (webElement.getText().contains(report_title)) {\r\n    \t\t\t\tSystem.out.println(true);\r\n    \t\t\t\tIsClickable(viewBy);\r\n    \t\t\t\tSystem.out.println(webElement.getText());\r\n    \t\t\t\twebElement.findElement(viewBy).click();\r\n    \t\t\t\tIsClickable(view_dataBy);\r\n    \t\t\t\tdriver.findElement(view_dataBy).click();\r\n    \t\t\t\twhile (IsVisible(paginateBy)) {\r\n    \t\t\t\t\tIsClickable(paginateBy);\r\n    \t\t\t\t\tdriver.findElement(paginateBy).click();\r\n    \t\t\t\t}\r\n    \t\t\t\t\r\n    \t\t\t\t\r\n    \t\t\t} else {\r\n    \t\t\t\t\r\n    \t\t\t}\r\n    \t\r\n    \t}\r\n    }\r\n    //tr[class=&#39;odd&#39;] em[class=&#39;fa fa-table&#39;]\r\n\r\nHtml:\r\n\r\n  [![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bBW3N.png\r\n","title":"I want to paginate through a table using selenium in java","body":"<p>I need your help I want to paginate through a table an store the values of it untill &quot;Next Button&quot; disables.\nAlthough storing values is not ossible its ok. But help me in pagination I want to click on the button it the next button untill it is  not disabled .Please help me. I am on a internship</p>\n<p>Java Code:</p>\n<pre><code>package Onsight.Framework;\n\nimport java.util.List;\n\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport org.openqa.selenium.chrome.ChromeOptions;\n\nimport com.github.javafaker.Faker;\n\nimport avdhut.onsight.commonutils.BaseComponenets;\nimport avdhut.onsight.pageobject.HomePage;\nimport avdhut.onsight.pageobject.LoginPage;\nimport io.github.bonigarcia.wdm.WebDriverManager;\n\npublic class Webtable extends BaseComponenets {\n    \n    public static void main(String[] args) throws InterruptedException {\n        // TODO Auto-generated method stub\n        \n        String urlString = &quot;https://oinsightsvm1.westindia.cloudapp.azure.com:444/ctsOInsightsBMS/res/createReport.html&quot;;\n        String userEmailString = &quot;User66&quot;;\n        String userPassword = &quot;Avdhut@5201&quot;;\n        String titleString;\n        String textString=&quot;Clarita&quot;;\n        Faker faker = new Faker();\n        WebDriverManager.chromedriver().setup();\n        ChromeOptions options = new ChromeOptions();\n        // options.addArguments(&quot;--ignore-ssl- errors=yes&quot;);\n        options.addArguments(&quot;--ignore-certificate-errors&quot;);\n        WebDriver driver = new ChromeDriver(options);\n        driver.get(urlString);\n        LoginPage loginPage = new LoginPage(driver);\n        loginPage.login_username(userEmailString);\n        loginPage.click0nsubmit();\n        loginPage.EnterPassword(userPassword);\n        loginPage.click0nsubmit();\n        HomePage homePage = new HomePage(driver);\n//      homePage.view_report_values(textString);\n        IsVisible(baseTableBy);\n        WebElement baseTable=driver.findElement(baseTableBy);\n        List&lt;WebElement&gt; table_roWebElement=baseTable.findElements(report_name_rowsBy);\n        for (WebElement webElement : table_roWebElement) {\n            if (webElement.getText().contains(report_title)) {\n                System.out.println(true);\n                IsClickable(viewBy);\n                System.out.println(webElement.getText());\n                webElement.findElement(viewBy).click();\n                IsClickable(view_dataBy);\n                driver.findElement(view_dataBy).click();\n                while (IsVisible(paginateBy)) {\n                    IsClickable(paginateBy);\n                    driver.findElement(paginateBy).click();\n                }\n                \n                \n            } else {\n                \n            }\n    \n    }\n}\n//tr[class='odd'] em[class='fa fa-table']\n</code></pre>\n<p>Html:</p>\n<p><a href=\"https://i.stack.imgur.com/bBW3N.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bBW3N.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","mysql","scala","playframework","amazon-rds"],"comments":[{"owner":{"account_id":2147,"reputation":38490,"user_id":2961,"accept_rate":79,"display_name":"Stu Thompson"},"score":3,"creation_date":1422562588,"post_id":27536380,"comment_id":44810527,"body_markdown":"Note: this is not specific to Play Framework, more of a general Java / MySQL thing","body":"Note: this is not specific to Play Framework, more of a general Java / MySQL thing"}],"answers":[{"tags":[],"owner":{"account_id":2651179,"reputation":55299,"user_id":2292812,"accept_rate":100,"display_name":"Michael Zajac"},"down_vote_count":0,"up_vote_count":49,"is_accepted":true,"score":49,"last_activity_date":1418857021,"creation_date":1418857021,"answer_id":27536391,"question_id":27536380,"body_markdown":"Assuming you already have the CA certificate setup for the MySQL server (which is the case when using Amazon RDS), there are a few steps to make this work.\r\n\r\nFirst, the CA certificate should be imported into a Java KeyStore file using [keytool][1], which comes with the JDK. The KeyStore in this case will contain all of the CA certificates we want to trust. For Amazon RDS, the CA cert can be found [here][2]. With `mysql-ssl-ca-cert.pem` in your working directory, you can run the following command:\r\n\r\n    keytool -import -alias mysqlServerCACert -file mysql-ssl-ca-cert.pem -keystore truststore.jks\r\n\r\nWhich will create a new Java KeyStore file called `truststore.jks` after prompting you to enter a KeyStore password and asking if you want to trust the certificate (yes, you do). If you already have a truststore file, you can run the same command, replacing `truststore.jks` with the path to your existing KeyStore (you&#39;ll then be prompted for the password of the existing KeyStore, instead). I usually place `truststore.jks` in my `conf` directory.\r\n\r\nSecond, in `application.conf` you need to add a few JDBC URL parameters to the database URL:\r\n\r\n`verifyServerCertificate=true` - Refuse to connect if the host certificate cannot be verified.\r\n\r\n`useSSL=true` - Connect using SSL.\r\n\r\n`requireSSL=true` - Refuse to connect if the MySQL server does not support SSL.\r\n\r\nFor example, if your current database URL is:\r\n\r\n    db.default.url=&quot;jdbc:mysql://url.to.database/test_db&quot;\r\n\r\nThen it should now be:\r\n\r\n    db.default.url=&quot;jdbc:mysql://url.to.database/test_db?verifyServerCertificate=true&amp;useSSL=true&amp;requireSSL=true&quot;\r\n\r\nLastly, there are a few command-line options that need to be passed when starting the Play server to configure the truststore MySQL-Connector/J will use. Assuming my `truststore.jks` file is located in the `conf` directory, and the password is `password`, I would start my server (in dev mode) like this:\r\n\r\n    activator run -Djavax.net.ssl.trustStore=&quot;conf/truststore.jks&quot; -Djavax.net.ssl.trustStorePassword=&quot;password&quot;\r\n\r\n----------\r\n\r\nIn addition to this, I also like to make sure that it&#39;s impossible to connect to the database without using SSL, just in case the options somehow get messed up at the application level. For example if `db.default.user=root`, then when logged in as `root` in the MySQL server, run the following queries:\r\n\r\n    GRANT USAGE ON *.* TO &#39;root&#39;@&#39;%&#39; REQUIRE SSL;\r\n    FLUSH PRIVILEGES;\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/technotes/tools/solaris/keytool.html\r\n  [2]: https://rds.amazonaws.com/doc/mysql-ssl-ca-cert.pem","title":"How to connect to a remote MySQL database via SSL using Play Framework?","body":"<p>Assuming you already have the CA certificate setup for the MySQL server (which is the case when using Amazon RDS), there are a few steps to make this work.</p>\n\n<p>First, the CA certificate should be imported into a Java KeyStore file using <a href=\"http://docs.oracle.com/javase/7/docs/technotes/tools/solaris/keytool.html\" rel=\"noreferrer\">keytool</a>, which comes with the JDK. The KeyStore in this case will contain all of the CA certificates we want to trust. For Amazon RDS, the CA cert can be found <a href=\"https://rds.amazonaws.com/doc/mysql-ssl-ca-cert.pem\" rel=\"noreferrer\">here</a>. With <code>mysql-ssl-ca-cert.pem</code> in your working directory, you can run the following command:</p>\n\n<pre><code>keytool -import -alias mysqlServerCACert -file mysql-ssl-ca-cert.pem -keystore truststore.jks\n</code></pre>\n\n<p>Which will create a new Java KeyStore file called <code>truststore.jks</code> after prompting you to enter a KeyStore password and asking if you want to trust the certificate (yes, you do). If you already have a truststore file, you can run the same command, replacing <code>truststore.jks</code> with the path to your existing KeyStore (you'll then be prompted for the password of the existing KeyStore, instead). I usually place <code>truststore.jks</code> in my <code>conf</code> directory.</p>\n\n<p>Second, in <code>application.conf</code> you need to add a few JDBC URL parameters to the database URL:</p>\n\n<p><code>verifyServerCertificate=true</code> - Refuse to connect if the host certificate cannot be verified.</p>\n\n<p><code>useSSL=true</code> - Connect using SSL.</p>\n\n<p><code>requireSSL=true</code> - Refuse to connect if the MySQL server does not support SSL.</p>\n\n<p>For example, if your current database URL is:</p>\n\n<pre><code>db.default.url=\"jdbc:mysql://url.to.database/test_db\"\n</code></pre>\n\n<p>Then it should now be:</p>\n\n<pre><code>db.default.url=\"jdbc:mysql://url.to.database/test_db?verifyServerCertificate=true&amp;useSSL=true&amp;requireSSL=true\"\n</code></pre>\n\n<p>Lastly, there are a few command-line options that need to be passed when starting the Play server to configure the truststore MySQL-Connector/J will use. Assuming my <code>truststore.jks</code> file is located in the <code>conf</code> directory, and the password is <code>password</code>, I would start my server (in dev mode) like this:</p>\n\n<pre><code>activator run -Djavax.net.ssl.trustStore=\"conf/truststore.jks\" -Djavax.net.ssl.trustStorePassword=\"password\"\n</code></pre>\n\n<hr>\n\n<p>In addition to this, I also like to make sure that it's impossible to connect to the database without using SSL, just in case the options somehow get messed up at the application level. For example if <code>db.default.user=root</code>, then when logged in as <code>root</code> in the MySQL server, run the following queries:</p>\n\n<pre><code>GRANT USAGE ON *.* TO 'root'@'%' REQUIRE SSL;\nFLUSH PRIVILEGES;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1802401,"reputation":703,"user_id":1640389,"display_name":"privatejava"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1585047872,"creation_date":1540407094,"answer_id":52976082,"question_id":27536380,"body_markdown":"Just to update on All.\r\n\r\n1. You can download the bundle certificate which contains many certificates of Amazon from here https://s3.amazonaws.com/rds-downloads/rds-combined-ca-bundle.pem.\r\n2. If you see the content of that pem it contains many certificates. Split it to multiple PEM files where each file will contain like this\r\n\r\n        -----BEGIN CERTIFICATE-----\r\n            [main content]\r\n        -----END CERTIFICATE-----\r\n\r\n3. Then run this command for every cert file that you created\r\n\r\n        keytool -import \\\r\n        -keystore  $JAVA_HOME/jre/lib/security/cacerts \\\r\n        -storepass changeit -noprompt \\\r\n        -alias $ALIAS -file $YOUR_INDIVIDUAL_PEM_FILE\r\n\r\nJust for making your life easy somebody has just created bash script for this : https://gist.github.com/shareefhiasat/dabe5e96dbd7123c7b101aac1c0eca8a \r\n","title":"How to connect to a remote MySQL database via SSL using Play Framework?","body":"<p>Just to update on All.</p>\n\n<ol>\n<li>You can download the bundle certificate which contains many certificates of Amazon from here <a href=\"https://s3.amazonaws.com/rds-downloads/rds-combined-ca-bundle.pem\" rel=\"nofollow noreferrer\">https://s3.amazonaws.com/rds-downloads/rds-combined-ca-bundle.pem</a>.</li>\n<li><p>If you see the content of that pem it contains many certificates. Split it to multiple PEM files where each file will contain like this</p>\n\n<pre><code>-----BEGIN CERTIFICATE-----\n    [main content]\n-----END CERTIFICATE-----\n</code></pre></li>\n<li><p>Then run this command for every cert file that you created</p>\n\n<pre><code>keytool -import \\\n-keystore  $JAVA_HOME/jre/lib/security/cacerts \\\n-storepass changeit -noprompt \\\n-alias $ALIAS -file $YOUR_INDIVIDUAL_PEM_FILE\n</code></pre></li>\n</ol>\n\n<p>Just for making your life easy somebody has just created bash script for this : <a href=\"https://gist.github.com/shareefhiasat/dabe5e96dbd7123c7b101aac1c0eca8a\" rel=\"nofollow noreferrer\">https://gist.github.com/shareefhiasat/dabe5e96dbd7123c7b101aac1c0eca8a</a> </p>\n"},{"tags":[],"owner":{"account_id":5312409,"reputation":321,"user_id":4238238,"display_name":"Kishorekumar Yakkala"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671368450,"creation_date":1671368450,"answer_id":74841545,"question_id":27536380,"body_markdown":"Steps to connect to mysql with ssl: Assuming you have \\&lt;ca-cert&gt;.pem, \\&lt;cert-x509-filepath&gt;.pem, \\&lt;key-filepath.pem&gt; files handly\r\n\r\n 1. Create java keystore and truststore files\r\n - To generate trust store file:\r\n   &gt; keytool -importcert -alias datahighway-ts -file \\&lt;ca-cert&gt;.pem -keystore \\&lt;truststore-filepath&gt;.jks -storepass mypassword\r\n - To generate the key store file:\r\n   &gt; openssl pkcs12 -export -in \\&lt;cert-x509-filepath&gt;.pem -inkey &lt;key-filepath.pem&gt; -out \\&lt;cert-filepath&gt;.p12 -name &quot;datahighway-cert&quot;&lt;br/&gt;&lt;br/&gt;\r\n   &gt; keytool -importkeystore -srckeystore \\&lt;cert-filepath&gt;.p12 -srcstoretype pkcs12 -destkeystore \\&lt;keystore-cert-filepath&gt;.jks\r\n  2. Use the generated keystore and truststore files in jdbc url:\r\n   &gt; jdbc:mysql://\\&lt;host&gt;:\\&lt;port&gt;/\\&lt;dbname&gt;?useSSL=true&amp;requireSSL=true&amp;sslMode=VERIFY_CA&amp;clientCertificateKeyStoreUrl=file:\\&lt;keystore-cert-filepath&gt;.jks&amp;clientCertificateKeyStorePassword=mypassword&amp;verifyServerCertificate=true&amp;trustCertificateKeyStoreUrl=file:\\&lt;truststore-filepath&gt;.jks&amp;trustCertificateKeyStorePassword=mypassword","title":"How to connect to a remote MySQL database via SSL using Play Framework?","body":"<p>Steps to connect to mysql with ssl: Assuming you have &lt;ca-cert&gt;.pem, &lt;cert-x509-filepath&gt;.pem, &lt;key-filepath.pem&gt; files handly</p>\n<ol>\n<li>Create java keystore and truststore files</li>\n</ol>\n<ul>\n<li>To generate trust store file:\n<blockquote>\n<p>keytool -importcert -alias datahighway-ts -file &lt;ca-cert&gt;.pem -keystore &lt;truststore-filepath&gt;.jks -storepass mypassword</p>\n</blockquote>\n</li>\n<li>To generate the key store file:\n<blockquote>\n<p>openssl pkcs12 -export -in &lt;cert-x509-filepath&gt;.pem -inkey &lt;key-filepath.pem&gt; -out &lt;cert-filepath&gt;.p12 -name &quot;datahighway-cert&quot;<br/><br/>\nkeytool -importkeystore -srckeystore &lt;cert-filepath&gt;.p12 -srcstoretype pkcs12 -destkeystore &lt;keystore-cert-filepath&gt;.jks</p>\n</blockquote>\n</li>\n</ul>\n<ol start=\"2\">\n<li>Use the generated keystore and truststore files in jdbc url:</li>\n</ol>\n<blockquote>\n<p>jdbc:mysql://&lt;host&gt;:&lt;port&gt;/&lt;dbname&gt;?useSSL=true&amp;requireSSL=true&amp;sslMode=VERIFY_CA&amp;clientCertificateKeyStoreUrl=file:&lt;keystore-cert-filepath&gt;.jks&amp;clientCertificateKeyStorePassword=mypassword&amp;verifyServerCertificate=true&amp;trustCertificateKeyStoreUrl=file:&lt;truststore-filepath&gt;.jks&amp;trustCertificateKeyStorePassword=mypassword</p>\n</blockquote>\n"}],"owner":{"account_id":2651179,"reputation":55299,"user_id":2292812,"accept_rate":100,"display_name":"Michael Zajac"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45991,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"accepted_answer_id":27536391,"answer_count":3,"score":21,"last_activity_date":1671368450,"creation_date":1418856972,"question_id":27536380,"body_markdown":"I deploy Play applications in distributed environments,  backed by a remote MySQL database. Specifically, the applications are hosted on heroku, and the database is on Amazon RDS (though this really applies to any remote database connection). Since the database isn&#39;t just on localhost, I&#39;d prefer that the remote MySQL connection is made through SSL for security. \r\n\r\nGiven a CA certificate to trust, how can I configure a Play application to connect to the MySQL server through SSL, only if the host certificate can be verified? \r\n\r\nAssume this as the current database configuration:\r\n\r\n    db.default.driver=com.mysql.jdbc.Driver\r\n    db.default.url=&quot;jdbc:mysql://url.to.database/test_db&quot;\r\n    db.default.user=root \r\n    db.default.password=&quot;....&quot;\r\n","title":"How to connect to a remote MySQL database via SSL using Play Framework?","body":"<p>I deploy Play applications in distributed environments,  backed by a remote MySQL database. Specifically, the applications are hosted on heroku, and the database is on Amazon RDS (though this really applies to any remote database connection). Since the database isn't just on localhost, I'd prefer that the remote MySQL connection is made through SSL for security. </p>\n\n<p>Given a CA certificate to trust, how can I configure a Play application to connect to the MySQL server through SSL, only if the host certificate can be verified? </p>\n\n<p>Assume this as the current database configuration:</p>\n\n<pre><code>db.default.driver=com.mysql.jdbc.Driver\ndb.default.url=\"jdbc:mysql://url.to.database/test_db\"\ndb.default.user=root \ndb.default.password=\"....\"\n</code></pre>\n"},{"tags":["java","arraylist","java-stream"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1671353660,"post_id":74840103,"comment_id":132078144,"body_markdown":"You don&#39;t need a stream to call `forEach()`.","body":"You don&#39;t need a stream to call <code>forEach()</code>."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1671353800,"post_id":74840103,"comment_id":132078158,"body_markdown":"It&#39;s hard to understand what you&#39;re trying to do and what&#39;s going wrong from this small snippet. Please provide a [mcve].","body":"It&#39;s hard to understand what you&#39;re trying to do and what&#39;s going wrong from this small snippet. Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"answers":[{"tags":[],"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671353955,"creation_date":1671353955,"answer_id":74840153,"question_id":74840103,"body_markdown":"You cannot (safely) use `.forEach` to remove elements from a collection and you certainly cannot use it to remove elements from a stream. (not entirely true: streams are more or less read-only).\r\n\r\nInstead, you want to `filter` your stream:\r\n\r\n```\r\nvar filteredNameList = nameList.stream()\r\n      .filter(name -&gt; !name.getNameType().getEntry().equals(&quot;set4&quot;))\r\n      .collect(Collectors.toList();\r\n\r\nfilteredNameList\r\n      .forEach(name -&gt; {\r\n         if(name.getNameType().getEntry().equals(&quot;set3&quot;)) {\r\n            name.setDate(date);\r\n         }\r\n      );\r\n```\r\n\r\nThe second statement could again be replaced with a filtered stream to mutate the underlying collection, making it conciser:\r\n\r\n```\r\nfilteredNameList.stream()\r\n      .filter(name -&gt; name.getNameType().getEntry().equals(&quot;set3&quot;))\r\n      .forEach(name -&gt; name.setDate(date));\r\n```\r\n","title":"Iterate and Modify each element and return output List","body":"<p>You cannot (safely) use <code>.forEach</code> to remove elements from a collection and you certainly cannot use it to remove elements from a stream. (not entirely true: streams are more or less read-only).</p>\n<p>Instead, you want to <code>filter</code> your stream:</p>\n<pre><code>var filteredNameList = nameList.stream()\n      .filter(name -&gt; !name.getNameType().getEntry().equals(&quot;set4&quot;))\n      .collect(Collectors.toList();\n\nfilteredNameList\n      .forEach(name -&gt; {\n         if(name.getNameType().getEntry().equals(&quot;set3&quot;)) {\n            name.setDate(date);\n         }\n      );\n</code></pre>\n<p>The second statement could again be replaced with a filtered stream to mutate the underlying collection, making it conciser:</p>\n<pre><code>filteredNameList.stream()\n      .filter(name -&gt; name.getNameType().getEntry().equals(&quot;set3&quot;))\n      .forEach(name -&gt; name.setDate(date));\n</code></pre>\n"}],"owner":{"account_id":1491397,"reputation":1940,"user_id":1398409,"accept_rate":51,"display_name":"Futuregeek"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1671367002,"accepted_answer_id":74840153,"answer_count":1,"score":-1,"last_activity_date":1671368180,"creation_date":1671353300,"question_id":74840103,"body_markdown":"I need to iterate through each tags in the below XML and after checking some condition, I need to generate an output XML\r\n\r\nInput XML :\r\n\r\n    &lt;NameList&gt;\r\n       &lt;Name&gt;\r\n           &lt;Name&gt;test1&lt;/Name&gt;\r\n           &lt;nameType&gt;\r\n              &lt;set&gt;nameType&lt;/set&gt;\r\n              &lt;entry&gt;set3&lt;/entry&gt;\r\n           &lt;/nameType&gt;\r\n       &lt;/Name&gt;\r\n       &lt;Name&gt;\r\n           &lt;Name&gt;test2&lt;/Name&gt;\r\n           &lt;nameType&gt;\r\n             &lt;set&gt;nameType&lt;/set&gt;\r\n             &lt;entry&gt;set4&lt;/entry&gt;\r\n           &lt;/nameType&gt;\r\n       &lt;/Name&gt;\r\n    &lt;NameList&gt;\r\n\r\nConditions needs to be applied in the Input XML:\r\n\r\n- if entry == set3, then add a tag\r\n- if entry == set4, then set the whole tag as empty\r\n\r\nOutput XML will look like :\r\n\r\n \r\n\r\n    &lt;NameList&gt;\r\n               &lt;Name&gt;\r\n                   &lt;Name&gt;test1&lt;/Name&gt;\r\n                   &lt;nameType&gt;\r\n                      &lt;set&gt;nameType&lt;/set&gt;\r\n                      &lt;entry&gt;set3&lt;/entry&gt;\r\n                      &lt;date&gt;2022-03-03&lt;/date&gt;\r\n                   &lt;/nameType&gt;\r\n               &lt;/Name&gt;\r\n            &lt;NameList&gt;\r\n\r\nImplementation code :\r\n\r\n    nameList.stream()\r\n          .forEach(name -&gt; {\r\n             if(name.getNameType().getEntry().equals(&quot;set3&quot;)) {\r\n                name.setDate(date);\r\n             } \r\n             if (name.getNameType().getEntry().equals(&quot;set4&quot;)) {\r\n               name.setName(null);\r\n               name.setDate(null);\r\n               ........\r\n            }   \r\n          }\r\n\r\nUsing the above code, it is setting null to name object and I&#39;m getting output as\r\n\r\n    &lt;NameList/&gt;\r\n\r\n","title":"Iterate and Modify each element and return output List","body":"<p>I need to iterate through each tags in the below XML and after checking some condition, I need to generate an output XML</p>\n<p>Input XML :</p>\n<pre><code>&lt;NameList&gt;\n   &lt;Name&gt;\n       &lt;Name&gt;test1&lt;/Name&gt;\n       &lt;nameType&gt;\n          &lt;set&gt;nameType&lt;/set&gt;\n          &lt;entry&gt;set3&lt;/entry&gt;\n       &lt;/nameType&gt;\n   &lt;/Name&gt;\n   &lt;Name&gt;\n       &lt;Name&gt;test2&lt;/Name&gt;\n       &lt;nameType&gt;\n         &lt;set&gt;nameType&lt;/set&gt;\n         &lt;entry&gt;set4&lt;/entry&gt;\n       &lt;/nameType&gt;\n   &lt;/Name&gt;\n&lt;NameList&gt;\n</code></pre>\n<p>Conditions needs to be applied in the Input XML:</p>\n<ul>\n<li>if entry == set3, then add a tag</li>\n<li>if entry == set4, then set the whole tag as empty</li>\n</ul>\n<p>Output XML will look like :</p>\n<pre><code>&lt;NameList&gt;\n           &lt;Name&gt;\n               &lt;Name&gt;test1&lt;/Name&gt;\n               &lt;nameType&gt;\n                  &lt;set&gt;nameType&lt;/set&gt;\n                  &lt;entry&gt;set3&lt;/entry&gt;\n                  &lt;date&gt;2022-03-03&lt;/date&gt;\n               &lt;/nameType&gt;\n           &lt;/Name&gt;\n        &lt;NameList&gt;\n</code></pre>\n<p>Implementation code :</p>\n<pre><code>nameList.stream()\n      .forEach(name -&gt; {\n         if(name.getNameType().getEntry().equals(&quot;set3&quot;)) {\n            name.setDate(date);\n         } \n         if (name.getNameType().getEntry().equals(&quot;set4&quot;)) {\n           name.setName(null);\n           name.setDate(null);\n           ........\n        }   \n      }\n</code></pre>\n<p>Using the above code, it is setting null to name object and I'm getting output as</p>\n<pre><code>&lt;NameList/&gt;\n</code></pre>\n"},{"tags":["java","rest","glassfish","jax-rs"],"answers":[{"tags":[],"owner":{"account_id":365121,"reputation":3116,"user_id":709881,"display_name":"Samuel EUSTACHI"},"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1362147744,"creation_date":1362135079,"answer_id":15155945,"question_id":15155851,"body_markdown":"I use Jersey. Don&#39;t know if this applies for you but ... : \r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    import javax.servlet.http.HttpServletRequest;    \r\n\r\n    @Context final HttpServletRequest request\r\n\r\nThe `Request` class has the method `getMethod()`. It returns the used HTTP method.","title":"How to get the HTTP method of a REST request","body":"<p>I use Jersey. Don't know if this applies for you but ... : </p>\n\n<pre class=\"lang-java prettyprint-override\"><code>import javax.servlet.http.HttpServletRequest;    \n\n@Context final HttpServletRequest request\n</code></pre>\n\n<p>The <code>Request</code> class has the method <code>getMethod()</code>. It returns the used HTTP method.</p>\n"},{"tags":[],"owner":{"account_id":1614995,"reputation":5757,"user_id":1492947,"accept_rate":10,"display_name":"Lukas Eichler"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1362135118,"creation_date":1362135118,"answer_id":15155963,"question_id":15155851,"body_markdown":"You are usually limiting the rest methods to one http method\r\n\r\n     @GET\r\n     @Produces(&quot;text/plain&quot;)\r\n      public String getClichedMessage() {\r\n        // Return some cliched textual content\r\n        return &quot;Hello World&quot;;\r\n     }","title":"How to get the HTTP method of a REST request","body":"<p>You are usually limiting the rest methods to one http method</p>\n\n<pre><code> @GET\n @Produces(\"text/plain\")\n  public String getClichedMessage() {\n    // Return some cliched textual content\n    return \"Hello World\";\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2985164,"reputation":5188,"user_id":2534191,"accept_rate":25,"display_name":"Yuriy N."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671367957,"creation_date":1671367957,"answer_id":74841486,"question_id":15155851,"body_markdown":"Jersey is irrelevant (following the most upvoted answer.)\r\n\r\nHttpServletRequest class of Java Servlet API has `getMethod()` method that returns the name of the HTTP method (`GET, POST, PUT`, etc). \r\n\r\nBut you do not always need it. For example, if you are in servlet, you have doGet, doPost methods. \r\n\r\n \r\n\r\n    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n       //method is POST\r\n    }\r\n\r\n   protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n       //method is GET\r\n   }\r\n\r\nBut you do need it, for example, in the filter: \r\n\r\n    public void doFilter(ServletRequest request, ServletResponse response, \r\n              FilterChain chain) throws ServletException, IOException {\r\n\r\n         String method = ((HttpServletRequest) request).getMethod();\r\n\r\n    } \r\n\r\nSpeaking of the REST, different REST frameworks may provides various ways to obtain the HttpServletRequest object.  \r\n\r\n       ","title":"How to get the HTTP method of a REST request","body":"<p>Jersey is irrelevant (following the most upvoted answer.)</p>\n<p>HttpServletRequest class of Java Servlet API has <code>getMethod()</code> method that returns the name of the HTTP method (<code>GET, POST, PUT</code>, etc).</p>\n<p>But you do not always need it. For example, if you are in servlet, you have doGet, doPost methods.</p>\n<pre><code>protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n   //method is POST\n}\n</code></pre>\n<p>protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n//method is GET\n}</p>\n<p>But you do need it, for example, in the filter:</p>\n<pre><code>public void doFilter(ServletRequest request, ServletResponse response, \n          FilterChain chain) throws ServletException, IOException {\n\n     String method = ((HttpServletRequest) request).getMethod();\n\n} \n</code></pre>\n<p>Speaking of the REST, different REST frameworks may provides various ways to obtain the HttpServletRequest object.</p>\n"}],"owner":{"account_id":449410,"reputation":3835,"user_id":844177,"accept_rate":71,"display_name":"Oliver"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14013,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":15155945,"answer_count":3,"score":7,"last_activity_date":1671367957,"creation_date":1362134754,"question_id":15155851,"body_markdown":"In case of an exception in my Java REST application I would like to log various information on causing HTTP request.\r\n\r\nI can obtain the URI of the request and the HTTP headers via context injection\r\n\r\n    @Context\r\n    private UriInfo uriInfo;\r\n\r\n    @Context\r\n    private HttpHeaders headers;\r\n\r\nBut how can I obtain the HTTP method (GET, PUT, ...)? ","title":"How to get the HTTP method of a REST request","body":"<p>In case of an exception in my Java REST application I would like to log various information on causing HTTP request.</p>\n\n<p>I can obtain the URI of the request and the HTTP headers via context injection</p>\n\n<pre><code>@Context\nprivate UriInfo uriInfo;\n\n@Context\nprivate HttpHeaders headers;\n</code></pre>\n\n<p>But how can I obtain the HTTP method (GET, PUT, ...)? </p>\n"},{"tags":["java","sql","spring-boot","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":873767,"reputation":973,"user_id":924036,"display_name":"Kaj Hejer"},"score":0,"creation_date":1671388087,"post_id":74841451,"comment_id":132083959,"body_markdown":"You might find some ideas on https://www.baeldung.com/spring-rest-json-patch","body":"You might find some ideas on <a href=\"https://www.baeldung.com/spring-rest-json-patch\" rel=\"nofollow noreferrer\">baeldung.com/spring-rest-json-patch</a>"}],"owner":{"account_id":24960547,"reputation":83,"user_id":18824568,"display_name":"Andrzej Jankowski"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1671367704,"creation_date":1671367704,"question_id":74841451,"body_markdown":"How i can update only fields with non-null value?\r\n\r\nI have a class:\r\n```\r\n@Entity\r\n@Table(name = &quot;persons&quot;,\r\n    schema = &quot;persons_info&quot;)\r\npublic class Person {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n    @Column(name = &quot;first_name&quot;,\r\n        nullable = false)\r\n    @JsonProperty(&quot;first_name&quot;)\r\n    private String firstName;\r\n\r\n    @Column(name = &quot;last_name&quot;,\r\n        nullable = false)\r\n    @JsonProperty(&quot;last_name&quot;)\r\n    private String lastName;\r\n\r\n    @Column(nullable = false)\r\n    private Integer age;\r\n\r\n    @OneToOne(cascade = CascadeType.ALL)\r\n    @JoinColumn(name = &quot;address_id&quot;,\r\n        referencedColumnName = &quot;id&quot;)\r\n    private Address address;\r\n\r\n    // setters and getters\r\n}\r\n```\r\n\r\nMy buisness logic: i want update some fields of class in table, and need ignore null values of mapped from JSON (example: i need update ONLY columns first_name, last_name, and city (in Address)):\r\n```\r\n{\r\n  &quot;id&quot;: 4,\r\n  &quot;first_name&quot; : &quot;John&quot;,\r\n  &quot;last_name&quot; : &quot;Smith&quot;,\r\n  &quot;address&quot; : {\r\n    &quot;city&quot; : &quot;New-York&quot;\r\n  }\r\n}\r\n```\r\nBut when i tried send JSON i took exception:\r\n```\r\norg.hibernate.PropertyValueException: not-null property references a null or transient value : ru.jankbyte.autopolice.entity.Address.flat\r\n```\r\nI tried to remove ```nulable = false``` from columns and setting ```@DynamicUpdate``` annotation under classes but thats didnt work\r\n\r\nMy rest controller and service methods:\r\n```\r\n//controller\r\n@PostMapping(value = {&quot;/{id}&quot;},\r\n    consumes = {MediaType.APPLICATION_JSON_VALUE},\r\n    produces = {MediaType.APPLICATION_JSON_VALUE})\r\npublic Person update(@PathVariable(&quot;id&quot;) Long id,\r\n@RequestBody Person person) {\r\n    return service.update(id, person);\r\n}\r\n\r\n// service\r\npublic Person update(Long id, Person person) {\r\n  person.setId(id);\r\n  return save(person);\r\n}\r\n```","title":"Update columns ONLY with properties from JSON","body":"<p>How i can update only fields with non-null value?</p>\n<p>I have a class:</p>\n<pre><code>@Entity\n@Table(name = &quot;persons&quot;,\n    schema = &quot;persons_info&quot;)\npublic class Person {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    @Column(name = &quot;first_name&quot;,\n        nullable = false)\n    @JsonProperty(&quot;first_name&quot;)\n    private String firstName;\n\n    @Column(name = &quot;last_name&quot;,\n        nullable = false)\n    @JsonProperty(&quot;last_name&quot;)\n    private String lastName;\n\n    @Column(nullable = false)\n    private Integer age;\n\n    @OneToOne(cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;address_id&quot;,\n        referencedColumnName = &quot;id&quot;)\n    private Address address;\n\n    // setters and getters\n}\n</code></pre>\n<p>My buisness logic: i want update some fields of class in table, and need ignore null values of mapped from JSON (example: i need update ONLY columns first_name, last_name, and city (in Address)):</p>\n<pre><code>{\n  &quot;id&quot;: 4,\n  &quot;first_name&quot; : &quot;John&quot;,\n  &quot;last_name&quot; : &quot;Smith&quot;,\n  &quot;address&quot; : {\n    &quot;city&quot; : &quot;New-York&quot;\n  }\n}\n</code></pre>\n<p>But when i tried send JSON i took exception:</p>\n<pre><code>org.hibernate.PropertyValueException: not-null property references a null or transient value : ru.jankbyte.autopolice.entity.Address.flat\n</code></pre>\n<p>I tried to remove <code>nulable = false</code> from columns and setting <code>@DynamicUpdate</code> annotation under classes but thats didnt work</p>\n<p>My rest controller and service methods:</p>\n<pre><code>//controller\n@PostMapping(value = {&quot;/{id}&quot;},\n    consumes = {MediaType.APPLICATION_JSON_VALUE},\n    produces = {MediaType.APPLICATION_JSON_VALUE})\npublic Person update(@PathVariable(&quot;id&quot;) Long id,\n@RequestBody Person person) {\n    return service.update(id, person);\n}\n\n// service\npublic Person update(Long id, Person person) {\n  person.setId(id);\n  return save(person);\n}\n</code></pre>\n"},{"tags":["java","arrays"],"answers":[{"tags":[],"owner":{"account_id":20422248,"reputation":35,"user_id":14983013,"display_name":"Bimi124"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671364644,"creation_date":1671364644,"answer_id":74841124,"question_id":71714467,"body_markdown":"`Index 0 out of bounds for length 0` means Java was told to get the element with the index 0 (so the 0+1=1st element) out of an array that had a length of 0, aka. was empty - which can&#39;t work.\r\n\r\nSince the error occurred in line 18 which is `if (a[i][j] != &#39;1&#39;){` it means that either `a` has a length of 0 (which should not happen since you&#39;re parsing a text file) or `j` is the array with a length of 0. This may happen if you&#39;re parsing a line that is empty.\r\n\r\nTo tell you how to fix the issue i&#39;d need to know what you were trying to do (which I don&#39;t). But know you hopefully know what caused the error and are able to fix it yourself.\r\n\r\nHappy coding!","title":"java.lang.ArrayIndexOutOfBoundsException: Index 0 out of bounds for length 0; why a[0][0] has ArrayIndexOutOfBoundsException problem?","body":"<p><code>Index 0 out of bounds for length 0</code> means Java was told to get the element with the index 0 (so the 0+1=1st element) out of an array that had a length of 0, aka. was empty - which can't work.</p>\n<p>Since the error occurred in line 18 which is <code>if (a[i][j] != '1'){</code> it means that either <code>a</code> has a length of 0 (which should not happen since you're parsing a text file) or <code>j</code> is the array with a length of 0. This may happen if you're parsing a line that is empty.</p>\n<p>To tell you how to fix the issue i'd need to know what you were trying to do (which I don't). But know you hopefully know what caused the error and are able to fix it yourself.</p>\n<p>Happy coding!</p>\n"}],"owner":{"account_id":24315766,"reputation":1,"user_id":18256968,"display_name":"lucky-Lutheran"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":116,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1671367417,"creation_date":1648867414,"question_id":71714467,"body_markdown":"```\r\nimport java.util.*;\r\nimport java.io.*;\r\npublic class Main{\r\n    private static char[][] a = new char[5][5];\r\n    public static void main(String [] args) throws IOException{\r\n        int res = 0;\r\n        BufferedReader in = new BufferedReader(new InputStreamReader(System.in));\r\n        int n = Integer.parseInt(in.readLine());\r\n        while (n -- != 0){\r\n            for (int i = 0; i &lt; 5; i ++){\r\n                // for (int j = 0; j &lt;5; j ++){\r\n                    a[i] = in.readLine().toCharArray();\r\n                // } \r\n            }\r\n            \r\n            for (int i = 0; i &lt; 4; i ++){\r\n                for (int j = 0; j &lt; 4 ; j ++){\r\n                    if (a[i][j] != &#39;1&#39;){\r\n                        a[i][j] = &#39;1&#39;;\r\n                        if(a[i][j + 1] == &#39;1&#39;) {\r\n                            a[i+1][j + 1]=&#39;0&#39;;\r\n                        }else {\r\n                            a[i+1][j + 1]=&#39;1&#39;;\r\n                        }\r\n                        res ++;\r\n                    }\r\n                }\r\n            }\r\n            System.out.println(res);\r\n        }\r\n        \r\n    }\r\n}\r\n```\r\n\r\nCan anyone help me?QAQ\r\nException in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: Index 0 out of bounds for length 0\r\nat Main.main(Main.java:18)","title":"java.lang.ArrayIndexOutOfBoundsException: Index 0 out of bounds for length 0; why a[0][0] has ArrayIndexOutOfBoundsException problem?","body":"<pre><code>import java.util.*;\nimport java.io.*;\npublic class Main{\n    private static char[][] a = new char[5][5];\n    public static void main(String [] args) throws IOException{\n        int res = 0;\n        BufferedReader in = new BufferedReader(new InputStreamReader(System.in));\n        int n = Integer.parseInt(in.readLine());\n        while (n -- != 0){\n            for (int i = 0; i &lt; 5; i ++){\n                // for (int j = 0; j &lt;5; j ++){\n                    a[i] = in.readLine().toCharArray();\n                // } \n            }\n            \n            for (int i = 0; i &lt; 4; i ++){\n                for (int j = 0; j &lt; 4 ; j ++){\n                    if (a[i][j] != '1'){\n                        a[i][j] = '1';\n                        if(a[i][j + 1] == '1') {\n                            a[i+1][j + 1]='0';\n                        }else {\n                            a[i+1][j + 1]='1';\n                        }\n                        res ++;\n                    }\n                }\n            }\n            System.out.println(res);\n        }\n        \n    }\n}\n</code></pre>\n<p>Can anyone help me?QAQ\nException in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: Index 0 out of bounds for length 0\nat Main.main(Main.java:18)</p>\n"},{"tags":["java","swing","user-interface","jframe","textfield"],"comments":[{"owner":{"account_id":434040,"reputation":17358,"user_id":819742,"accept_rate":69,"display_name":"randominstanceOfLivingThing"},"score":0,"creation_date":1470978498,"post_id":38910290,"comment_id":65178377,"body_markdown":"It is most likely a problem in your code. Can you provide the detailed code that your have.","body":"It is most likely a problem in your code. Can you provide the detailed code that your have."},{"owner":{"account_id":2774190,"reputation":13369,"user_id":3195526,"accept_rate":71,"display_name":"Paul Hicks"},"score":0,"creation_date":1470978508,"post_id":38910290,"comment_id":65178382,"body_markdown":"Are you reloading the page?","body":"Are you reloading the page?"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1470978547,"post_id":38910290,"comment_id":65178389,"body_markdown":"Please do provide a [mcve] of the problem","body":"Please do provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> of the problem"},{"owner":{"account_id":7878891,"reputation":21,"user_id":5953710,"display_name":"Shiloh"},"score":0,"creation_date":1470978884,"post_id":38910290,"comment_id":65178496,"body_markdown":"Thank you for telling me...I forgot. I just provided my GUI code excluding some of the server side stuff.","body":"Thank you for telling me...I forgot. I just provided my GUI code excluding some of the server side stuff."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":1,"creation_date":1470981492,"post_id":38910290,"comment_id":65179435,"body_markdown":"1) Java GUIs have to work on different OS&#39;, screen size, screen resolution etc.  using different PLAFs in different locales.  As such, they are not conducive to pixel perfect layout.  Instead use layout managers, or [combinations of them](http://stackoverflow.com/a/5630271/418556) along with layout padding and borders for [white space](http://stackoverflow.com/a/17874718/418556). 2) **Don&#39;t block the EDT** (Event Dispatch Thread).  The GUI will &#39;freeze&#39; when that happens.  See [Concurrency in Swing](https://docs.oracle.com/javase/tutorial/uiswing/concurrency/) for details and the fix.","body":"1) Java GUIs have to work on different OS&#39;, screen size, screen resolution etc.  using different PLAFs in different locales.  As such, they are not conducive to pixel perfect layout.  Instead use layout managers, or <a href=\"http://stackoverflow.com/a/5630271/418556\">combinations of them</a> along with layout padding and borders for <a href=\"http://stackoverflow.com/a/17874718/418556\">white space</a>. 2) <b>Don&#39;t block the EDT</b> (Event Dispatch Thread).  The GUI will &#39;freeze&#39; when that happens.  See <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/\" rel=\"nofollow noreferrer\">Concurrency in Swing</a> for details and the fix."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1470981582,"post_id":38910290,"comment_id":65179474,"body_markdown":"3) Please learn common Java nomenclature (naming conventions - e.g. `EachWordUpperCaseClass`, `firstWordLowerCaseMethod()`, `firstWordLowerCaseAttribute` unless it is an `UPPER_CASE_CONSTANT`) **all lower case** for package names, and use it consistently.","body":"3) Please learn common Java nomenclature (naming conventions - e.g. <code>EachWordUpperCaseClass</code>, <code>firstWordLowerCaseMethod()</code>, <code>firstWordLowerCaseAttribute</code> unless it is an <code>UPPER_CASE_CONSTANT</code>) <b>all lower case</b> for package names, and use it consistently."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1470982514,"post_id":38910290,"comment_id":65179857,"body_markdown":"More comments about the (lack of) layout. The look of the current GUI can be easily reproduced using layouts, but the two text fields should apparently be text areas (`JTextArea`). Ask on a separate question &amp; likely someone will show you how to lay it out properly. BTW - when the GUI is expanded, I would guess that extra height should be assigned to the text input/output areas, while the extra width should be divided evenly between them? Another thing you might consider is to replace the labels (`Input to Server` &amp; `Output From Server`) with a `TitledBorder` for each text control.","body":"More comments about the (lack of) layout. The look of the current GUI can be easily reproduced using layouts, but the two text fields should apparently be text areas (<code>JTextArea</code>). Ask on a separate question &amp; likely someone will show you how to lay it out properly. BTW - when the GUI is expanded, I would guess that extra height should be assigned to the text input/output areas, while the extra width should be divided evenly between them? Another thing you might consider is to replace the labels (<code>Input to Server</code> &amp; <code>Output From Server</code>) with a <code>TitledBorder</code> for each text control."},{"owner":{"account_id":8355472,"reputation":1776,"user_id":6275934,"display_name":"DarkV1"},"score":0,"creation_date":1471015307,"post_id":38910290,"comment_id":65199541,"body_markdown":"Try `JComponent.validate();` &lt;-- Updates the Component.","body":"Try <code>JComponent.validate();</code> &lt;-- Updates the Component."}],"answers":[{"tags":[],"owner":{"account_id":8739797,"reputation":1,"user_id":6537197,"display_name":"Kaushik Mondal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1471665205,"creation_date":1470978712,"answer_id":38910358,"question_id":38910290,"body_markdown":"You can set the text as many times as you want. you just put a logic in your code that whenever your server string is getting modified then you just call `setTest()` method, i.e: `textField2.setText(ServerString);`","title":"Java .setText method only works once","body":"<p>You can set the text as many times as you want. you just put a logic in your code that whenever your server string is getting modified then you just call <code>setTest()</code> method, i.e: <code>textField2.setText(ServerString);</code></p>\n"},{"tags":[],"owner":{"account_id":27289315,"reputation":1,"user_id":20807997,"display_name":"Yunus Furkan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671367275,"creation_date":1671367242,"answer_id":74841400,"question_id":38910290,"body_markdown":"what was wrong with my code was constant label assignment.\r\nwhen i pressed a button, i was running this code:\r\n\r\n`notInStr = new JLabel (&quot;Not in string : &quot; + currentWord.getNotInWord());`\r\n\r\nbut when i only use setText(), my problem is solved.\r\nlike this:\r\n\r\n            notInStr.setText(&quot;Not in string : &quot; + currentWord.getNotInWord());\r\n\r\nyou should assign once JLabel (and textfield).\r\nI hope can help you.\r\n","title":"Java .setText method only works once","body":"<p>what was wrong with my code was constant label assignment.\nwhen i pressed a button, i was running this code:</p>\n<p><code>notInStr = new JLabel (&quot;Not in string : &quot; + currentWord.getNotInWord());</code></p>\n<p>but when i only use setText(), my problem is solved.\nlike this:</p>\n<pre><code>        notInStr.setText(&quot;Not in string : &quot; + currentWord.getNotInWord());\n</code></pre>\n<p>you should assign once JLabel (and textfield).\nI hope can help you.</p>\n"}],"owner":{"account_id":7878891,"reputation":21,"user_id":5953710,"display_name":"Shiloh"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":839,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1671367275,"creation_date":1470978242,"question_id":38910290,"body_markdown":"In my GUI method I have two textFields using the Java JFrame classes. One textField sends text to the server (this function work as needed) and one textField that receives data from the server and prints it to the GUI.\r\n\r\nI am using the `textField.setText(ServerString)` method to set my text to the textField, but the `.setText` method only will get the text from the string once when the GUI is started up by a command on the server and then never set the text on the textField again. \r\n\r\nI have verified that the variable `ServerString` is being live updated by the server every time something is typed but it still will not set the text to the textField. Once when it is launched, I have verified the method is being called and that `.setText()` is not working after first launch. I have tried everything from `try-catch` statements to setting the text to blank (which didn&#39;t work).\r\n\r\nIs there something I am missing or some function that I am not calling or a different one I should be using?\r\n\r\nJust an example of code so you know what libraries and stuff I am using\r\n\r\nHere is my GUI Code that can be used to re-create the problem\r\n\r\n    package Encrypter.src;\r\n    import java.awt.BorderLayout;\r\n    import java.awt.EventQueue;\r\n    \r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.border.EmptyBorder;\r\n    \r\n    import net.dv8tion.jda.events.message.MessageReceivedEvent;\r\n    \r\n    import javax.swing.JLabel;\r\n    import java.awt.Font;\r\n    import javax.swing.JTextField;\r\n    import java.awt.event.KeyAdapter;\r\n    import java.awt.event.KeyEvent;\r\n    import java.io.IOException;\r\n    import javax.swing.JTextPane;\r\n    import javax.swing.event.AncestorListener;\r\n    import javax.swing.event.AncestorEvent;\r\n    \r\n    public class TalkGUI extends JFrame {\r\n    \tJTextPane textPane = new JTextPane();\r\n    \tprivate JPanel contentPane;\r\n    \tprivate JTextField textField;\r\n    \tprivate JTextField textField2;\r\n    \t//JTextPane textPane = new JTextPane();\r\n    \t/**\r\n    \t * Launch the application.\r\n    \t */\r\n    \tpublic static void GUI() {\r\n    \t\tEventQueue.invokeLater(new Runnable() {\r\n    \t\t\tpublic void run() {\r\n    \t\t\t\ttry {\r\n    \t\t\t\t\tTalkGUI frame = new TalkGUI();\r\n    \t\t\t\t\tframe.setVisible(true);\r\n    \t\t\t\t} catch (Exception e) {\r\n    \t\t\t\t\te.printStackTrace();\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t});\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Create the frame.\r\n    \t */\r\n    \tpublic TalkGUI() {\r\n    \t\tsetDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t\tsetBounds(100, 100, 647, 448);\r\n    \t\tcontentPane = new JPanel();\r\n    \t\tcontentPane.setBorder(new EmptyBorder(5, 5, 5, 5));\r\n    \t\tsetContentPane(contentPane);\r\n    \t\tcontentPane.setLayout(null);\r\n    \t\t\r\n    \t\ttextField = new JTextField();\r\n    \t\ttextField.addKeyListener(new KeyAdapter() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic void keyPressed(KeyEvent e) {\r\n    \t\t\t\tint key = e.getKeyCode();\r\n    \t\t\t\t if (key == KeyEvent.VK_ENTER) {\r\n    \t\t\t\t\t System.out.println(&quot;ENTER pressed&quot;);\r\n    \t\t\t\t\t \r\n    \t\t\t\t\t \r\n    \t\t\t\t\t if(textField.getText().length() &gt; 0)\r\n    \t\t\t\t\t {\r\n    \t\t\t\t\t }\r\n    \t\t\t\t\t \r\n    \t\t\t\t\t //textField.setText(&quot;test&quot;);\r\n    \t\t\t\t\t //System.out.println(textField.getText());\r\n    \t\t\t\t\t \r\n    \r\n    \t\t\t\t }\r\n    \t\t\t}\r\n    \t\t});\r\n    \t\t\r\n    \t\ttextField.setBounds(10, 77, 292, 321);\r\n    \t\tcontentPane.add(textField);\r\n    \t\ttextField.setColumns(10);\r\n    \t\t\r\n    \t\tJLabel lblHd = new JLabel(&quot;Input to Server&quot;);\r\n    \t\tlblHd.setBounds(86, 34, 108, 32);\r\n    \t\tcontentPane.add(lblHd);\r\n    \t\t\r\n    \t\tJLabel lblOutputFromServer = new JLabel(&quot;Output From Server&quot;);\r\n    \t\tlblOutputFromServer.setBounds(388, 43, 174, 14);\r\n    \t\tcontentPane.add(lblOutputFromServer);\r\n    \t\t\r\n    \t\ttextField2 = new JTextField();\r\n    \t\ttextField2.setBounds(328, 77, 293, 321);\r\n    \t\tcontentPane.add(textField2);\r\n    \t\ttextField2.setColumns(10);\r\n    \t\t\r\n    \t/*\r\n    \t\ttextPane.setBounds(312, 77, 309, 321);\r\n    \t\ttextPane.setEditable(false);\r\n    \t\ttextPane.setText(&quot;you cant edit this paneen&quot;);\r\n    \t\tcontentPane.add(textPane);\r\n    \t\t*/\r\n    \t}\r\n    \t\r\n    \tpublic void set(String string)\r\n    \t{\r\n    \t\tSystem.out.println(string + &quot; ok&quot;);\r\n    \t\ttextField2.setText(string);\r\n    \t}\r\n    \t\r\n    \r\n    }\r\n\r\n","title":"Java .setText method only works once","body":"<p>In my GUI method I have two textFields using the Java JFrame classes. One textField sends text to the server (this function work as needed) and one textField that receives data from the server and prints it to the GUI.</p>\n\n<p>I am using the <code>textField.setText(ServerString)</code> method to set my text to the textField, but the <code>.setText</code> method only will get the text from the string once when the GUI is started up by a command on the server and then never set the text on the textField again. </p>\n\n<p>I have verified that the variable <code>ServerString</code> is being live updated by the server every time something is typed but it still will not set the text to the textField. Once when it is launched, I have verified the method is being called and that <code>.setText()</code> is not working after first launch. I have tried everything from <code>try-catch</code> statements to setting the text to blank (which didn't work).</p>\n\n<p>Is there something I am missing or some function that I am not calling or a different one I should be using?</p>\n\n<p>Just an example of code so you know what libraries and stuff I am using</p>\n\n<p>Here is my GUI Code that can be used to re-create the problem</p>\n\n<pre><code>package Encrypter.src;\nimport java.awt.BorderLayout;\nimport java.awt.EventQueue;\n\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.border.EmptyBorder;\n\nimport net.dv8tion.jda.events.message.MessageReceivedEvent;\n\nimport javax.swing.JLabel;\nimport java.awt.Font;\nimport javax.swing.JTextField;\nimport java.awt.event.KeyAdapter;\nimport java.awt.event.KeyEvent;\nimport java.io.IOException;\nimport javax.swing.JTextPane;\nimport javax.swing.event.AncestorListener;\nimport javax.swing.event.AncestorEvent;\n\npublic class TalkGUI extends JFrame {\n    JTextPane textPane = new JTextPane();\n    private JPanel contentPane;\n    private JTextField textField;\n    private JTextField textField2;\n    //JTextPane textPane = new JTextPane();\n    /**\n     * Launch the application.\n     */\n    public static void GUI() {\n        EventQueue.invokeLater(new Runnable() {\n            public void run() {\n                try {\n                    TalkGUI frame = new TalkGUI();\n                    frame.setVisible(true);\n                } catch (Exception e) {\n                    e.printStackTrace();\n                }\n            }\n        });\n    }\n\n    /**\n     * Create the frame.\n     */\n    public TalkGUI() {\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        setBounds(100, 100, 647, 448);\n        contentPane = new JPanel();\n        contentPane.setBorder(new EmptyBorder(5, 5, 5, 5));\n        setContentPane(contentPane);\n        contentPane.setLayout(null);\n\n        textField = new JTextField();\n        textField.addKeyListener(new KeyAdapter() {\n            @Override\n            public void keyPressed(KeyEvent e) {\n                int key = e.getKeyCode();\n                 if (key == KeyEvent.VK_ENTER) {\n                     System.out.println(\"ENTER pressed\");\n\n\n                     if(textField.getText().length() &gt; 0)\n                     {\n                     }\n\n                     //textField.setText(\"test\");\n                     //System.out.println(textField.getText());\n\n\n                 }\n            }\n        });\n\n        textField.setBounds(10, 77, 292, 321);\n        contentPane.add(textField);\n        textField.setColumns(10);\n\n        JLabel lblHd = new JLabel(\"Input to Server\");\n        lblHd.setBounds(86, 34, 108, 32);\n        contentPane.add(lblHd);\n\n        JLabel lblOutputFromServer = new JLabel(\"Output From Server\");\n        lblOutputFromServer.setBounds(388, 43, 174, 14);\n        contentPane.add(lblOutputFromServer);\n\n        textField2 = new JTextField();\n        textField2.setBounds(328, 77, 293, 321);\n        contentPane.add(textField2);\n        textField2.setColumns(10);\n\n    /*\n        textPane.setBounds(312, 77, 309, 321);\n        textPane.setEditable(false);\n        textPane.setText(\"you cant edit this paneen\");\n        contentPane.add(textPane);\n        */\n    }\n\n    public void set(String string)\n    {\n        System.out.println(string + \" ok\");\n        textField2.setText(string);\n    }\n\n\n}\n</code></pre>\n"},{"tags":["java","list","sum"],"comments":[{"owner":{"account_id":12139977,"reputation":5614,"user_id":8864226,"display_name":"James Risner"},"score":0,"creation_date":1671628745,"post_id":74840958,"comment_id":132139271,"body_markdown":"Great first question!","body":"Great first question!"}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671366910,"creation_date":1671364076,"answer_id":74841050,"question_id":74840958,"body_markdown":"A more versatile approach would be to read the user&#39;s input and process the List separately, by splitting these responsibilities as [*the first principle of SOLID*][solid] suggests. That would allow to reuse the logic regardless of where the list is coming from.\r\n\r\n# Create a new List\r\n\r\nOne of the ways to address this problem would be to generate a new List and populate it with elements and their sums from the original list while iterating over the original list.\r\n\r\nThat&#39;s how it might look like:\r\n\r\n    public static List&lt;Integer&gt; addSumBetweenElements(List&lt;Integer&gt; list) {\r\n        if (list.isEmpty()) return Collections.emptyList();\r\n        \r\n        List&lt;Integer&gt; result = new ArrayList&lt;&gt;();\r\n        int prev = list.get(0);\r\n        result.add(prev);\r\n        \r\n        for (int i = 1; i &lt; list.size(); i++) {\r\n            int next = list.get(i);\r\n            result.add(prev + next);\r\n            result.add(next);\r\n            prev = next;\r\n        }\r\n        return result;\r\n    }\r\n\r\n`main()`\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(addSumBetweenElements(List.of(1, 2, 3)));\r\n    }\r\n\r\n*Output:*\r\n\r\n```\r\n[1, 3, 2, 5, 3]\r\n```\r\n\r\n# [`ListIterator`][listIterator] - Modify the Original List\r\n\r\nIf your goal is to modify the original list, then you can make use of the functionality offered by the `ListIterator`.\r\n\r\nThe key thing to remember about Iterators is that they always occupy position ***in between the elements*** (*or before the very first, or right after the last element*). And the method [`ListIterator.add()`][listIterator.add] is being invoked, a new element gets inserted right after the *previous* (*which can be retrieved by `previous()` call*) and *next* element (*which can be obtained by invoking `next()`*).\r\n\r\n    public static List&lt;Integer&gt; addSumBetweenElements(List&lt;Integer&gt; list) {\r\n        \r\n        ListIterator&lt;Integer&gt; iterator = list.listIterator();\r\n        int prev = iterator.next();\r\n        \r\n        while (iterator.hasNext()) {\r\n            int next = iterator.next(); // advance one position forward to retrieve next element\r\n            iterator.previous();        // move one step back (in between the previous and next elements)\r\n            iterator.add(prev + next);  // insert a new element\r\n            iterator.next();            // move one step forward (past the next element which has been processed)\r\n            prev = next;\r\n        }\r\n        return list;\r\n    }\r\n\r\n`main()`\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(addSumBetweenElements(new LinkedList&lt;&gt;(List.of(1, 2, 3))));\r\n    }\r\n\r\n*Output:*\r\n\r\n```\r\n[1, 3, 2, 5, 3]\r\n```\r\n\r\n\r\n   [solid]: https://en.wikipedia.org/wiki/Single-responsibility_principle\r\n\r\n   [listIterator]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/ListIterator.html\r\n\r\n   [listIterator.add]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/ListIterator.html#add(E)","title":"How can I sum the numbers that are next to each other in the list and add that sum to the same list between the numbers that I sum?","body":"<p>A more versatile approach would be to read the user's input and process the List separately, by splitting these responsibilities as <a href=\"https://en.wikipedia.org/wiki/Single-responsibility_principle\" rel=\"nofollow noreferrer\"><em>the first principle of SOLID</em></a> suggests. That would allow to reuse the logic regardless of where the list is coming from.</p>\n<h1>Create a new List</h1>\n<p>One of the ways to address this problem would be to generate a new List and populate it with elements and their sums from the original list while iterating over the original list.</p>\n<p>That's how it might look like:</p>\n<pre><code>public static List&lt;Integer&gt; addSumBetweenElements(List&lt;Integer&gt; list) {\n    if (list.isEmpty()) return Collections.emptyList();\n    \n    List&lt;Integer&gt; result = new ArrayList&lt;&gt;();\n    int prev = list.get(0);\n    result.add(prev);\n    \n    for (int i = 1; i &lt; list.size(); i++) {\n        int next = list.get(i);\n        result.add(prev + next);\n        result.add(next);\n        prev = next;\n    }\n    return result;\n}\n</code></pre>\n<p><code>main()</code></p>\n<pre><code>public static void main(String[] args) {\n    System.out.println(addSumBetweenElements(List.of(1, 2, 3)));\n}\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>[1, 3, 2, 5, 3]\n</code></pre>\n<h1><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/ListIterator.html\" rel=\"nofollow noreferrer\"><code>ListIterator</code></a> - Modify the Original List</h1>\n<p>If your goal is to modify the original list, then you can make use of the functionality offered by the <code>ListIterator</code>.</p>\n<p>The key thing to remember about Iterators is that they always occupy position <em><strong>in between the elements</strong></em> (<em>or before the very first, or right after the last element</em>). And the method <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/ListIterator.html#add(E)\" rel=\"nofollow noreferrer\"><code>ListIterator.add()</code></a> is being invoked, a new element gets inserted right after the <em>previous</em> (<em>which can be retrieved by <code>previous()</code> call</em>) and <em>next</em> element (<em>which can be obtained by invoking <code>next()</code></em>).</p>\n<pre><code>public static List&lt;Integer&gt; addSumBetweenElements(List&lt;Integer&gt; list) {\n    \n    ListIterator&lt;Integer&gt; iterator = list.listIterator();\n    int prev = iterator.next();\n    \n    while (iterator.hasNext()) {\n        int next = iterator.next(); // advance one position forward to retrieve next element\n        iterator.previous();        // move one step back (in between the previous and next elements)\n        iterator.add(prev + next);  // insert a new element\n        iterator.next();            // move one step forward (past the next element which has been processed)\n        prev = next;\n    }\n    return list;\n}\n</code></pre>\n<p><code>main()</code></p>\n<pre><code>public static void main(String[] args) {\n    System.out.println(addSumBetweenElements(new LinkedList&lt;&gt;(List.of(1, 2, 3))));\n}\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>[1, 3, 2, 5, 3]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1671364491,"creation_date":1671364120,"answer_id":74841056,"question_id":74840958,"body_markdown":"I don&#39;t know what&#39;s that `i` you are using (I don&#39;t see it declared anywhere), but you don&#39;t need it.\r\n\r\nYour loop can behave as follows:\r\n\r\n    int number;\r\n    while (true) {\r\n      number = sc.nextInt();\r\n      if(number==0)\r\n          break;\r\n      if(list.size() == 0) {\r\n        list.add(number);\r\n      } else{\r\n        list.add(list.get(list.size()-1) + number);\r\n        list.add(number);\r\n      }\r\n    }\r\n\r\nEDITED: I see that you want the sum of each pair of consecutive input numbers.\r\n\r\n* If the list is empty, you just add the first number to the list.\r\n* Otherwise, you add the sum of the last element added to the list and the new input number, and then you add the new input number.","title":"How can I sum the numbers that are next to each other in the list and add that sum to the same list between the numbers that I sum?","body":"<p>I don't know what's that <code>i</code> you are using (I don't see it declared anywhere), but you don't need it.</p>\n<p>Your loop can behave as follows:</p>\n<pre><code>int number;\nwhile (true) {\n  number = sc.nextInt();\n  if(number==0)\n      break;\n  if(list.size() == 0) {\n    list.add(number);\n  } else{\n    list.add(list.get(list.size()-1) + number);\n    list.add(number);\n  }\n}\n</code></pre>\n<p>EDITED: I see that you want the sum of each pair of consecutive input numbers.</p>\n<ul>\n<li>If the list is empty, you just add the first number to the list.</li>\n<li>Otherwise, you add the sum of the last element added to the list and the new input number, and then you add the new input number.</li>\n</ul>\n"}],"owner":{"account_id":27288744,"reputation":43,"user_id":20807506,"display_name":"blueplanet"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":259,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":74841056,"answer_count":2,"score":4,"last_activity_date":1671366910,"creation_date":1671363241,"question_id":74840958,"body_markdown":"the list basically needs to go from (e.g.)\r\n3 2 4\r\ninto a\r\n3 5 2 6 4 , where 5 is a sum of 3 and 2 and 6 is a sum of 2 and 4.\r\nnumbers in a list are typed manually and a list can have an infinite size.\r\n\r\n\r\n\r\ni think i have the base(if you can call it that), but I&#39;m not sure how exactly I can sum the specific numbers in a list.\r\nHere&#39;s what I got so far  \r\n\r\n```\r\nimport java.util.LinkedList;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.Scanner;\r\n\r\nclass Main {\r\n  public static void main(String[] args) {\r\n    Scanner sc = new Scanner(System.in);\r\n    List&lt;Integer&gt; list = new LinkedList&lt;Integer&gt;();\r\n    \r\n    int number;\r\n    while (true){\r\n      number = sc.nextInt();\r\n      if(number==0)break;\r\n\r\n      if(list.size()==0)\r\n        list.add(number);\r\n      else{\r\n\r\n        // here&#39;s where I think the sum of numbers should be\r\n        \r\n        }\r\n        list.add(i,number);\r\n      }\r\n    }\r\n    System.out.println(&quot;result:&quot;);\r\n    \r\n\t\tfor (int n : list) {\r\n\t\t\tSystem.out.print(n + &quot; &quot;);\r\n    }\r\n\r\n    sc.close();\r\n  }\r\n}\r\n```\r\n\r\n","title":"How can I sum the numbers that are next to each other in the list and add that sum to the same list between the numbers that I sum?","body":"<p>the list basically needs to go from (e.g.)\n3 2 4\ninto a\n3 5 2 6 4 , where 5 is a sum of 3 and 2 and 6 is a sum of 2 and 4.\nnumbers in a list are typed manually and a list can have an infinite size.</p>\n<p>i think i have the base(if you can call it that), but I'm not sure how exactly I can sum the specific numbers in a list.\nHere's what I got so far</p>\n<pre><code>import java.util.LinkedList;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Scanner;\n\nclass Main {\n  public static void main(String[] args) {\n    Scanner sc = new Scanner(System.in);\n    List&lt;Integer&gt; list = new LinkedList&lt;Integer&gt;();\n    \n    int number;\n    while (true){\n      number = sc.nextInt();\n      if(number==0)break;\n\n      if(list.size()==0)\n        list.add(number);\n      else{\n\n        // here's where I think the sum of numbers should be\n        \n        }\n        list.add(i,number);\n      }\n    }\n    System.out.println(&quot;result:&quot;);\n    \n        for (int n : list) {\n            System.out.print(n + &quot; &quot;);\n    }\n\n    sc.close();\n  }\n}\n</code></pre>\n"},{"tags":["java","android","sockets","serversocket"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1671318729,"post_id":74837087,"comment_id":132074881,"body_markdown":"Do not bind the server socked to an ip. Just open the port. Then the client should connect to the server ip so it should be this.client=new Socket(192.168.232.2).","body":"Do not bind the server socked to an ip. Just open the port. Then the client should connect to the server ip so it should be this.client=new Socket(192.168.232.2)."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1671318811,"post_id":74837087,"comment_id":132074893,"body_markdown":"It is strange that you speak about emulators and devices. Now tell what you use. And you should use two devices on the same wifi network. You cannot use two emulators. Not even one.","body":"It is strange that you speak about emulators and devices. Now tell what you use. And you should use two devices on the same wifi network. You cannot use two emulators. Not even one."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1671319079,"post_id":74837087,"comment_id":132074924,"body_markdown":"Sorry, this.client=new Socket(192.168.232.2, 55556).","body":"Sorry, this.client=new Socket(192.168.232.2, 55556)."},{"owner":{"account_id":21161789,"reputation":1,"user_id":15559893,"display_name":"PatBlr"},"score":0,"creation_date":1671364813,"post_id":74837087,"comment_id":132079794,"body_markdown":"@blackapps Thanks, for the reply. I am using two Emulator instances provided by Android Studio. The entire problem is based on connecting these two together, like it&#39;s described on the provided link, which did not work out for me. I will try to change the ServerSocket Implementation, as you stated and will report back.","body":"@blackapps Thanks, for the reply. I am using two Emulator instances provided by Android Studio. The entire problem is based on connecting these two together, like it&#39;s described on the provided link, which did not work out for me. I will try to change the ServerSocket Implementation, as you stated and will report back."}],"owner":{"account_id":21161789,"reputation":1,"user_id":15559893,"display_name":"PatBlr"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":154,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671366278,"creation_date":1671307009,"question_id":74837087,"body_markdown":"I&#39;m trying to develope an android application (with min-API-Level 28) with Java that communicates with an other device over a socket connection. One device is creating a Server instance and the other device should connect to this server.\r\n\r\nFor this purpose, I&#39;m using Android-Emulator instances provided by Android Studio.\r\n\r\nI followed the instructions at https://developer.android.com/studio/run/emulator-networking#connecting , but encountered that the provided IP-Adress ranges are not the same for every API-Level.\r\nOne Emulator-Instance running API 28 is using 192.168.232.0/24 address range, the other one running API-30 is using the provided 10.0.2.0/24 range.\r\n\r\nSo given the following scenario:\r\nthe Server (running on an API-28 Emulator-Instance) is creating the ServerSocket:\r\n```\r\nthis.serverSocket = new ServerSocket();\r\n// 192.168.232.2 is the device&#39;s IP-Address IF(!) the Emulator-Instance uses API Level 28\r\n// 55555 the specific ServerPort\r\nthis.serverSocket.bind(new InetSocketAddress(&quot;192.168.232.2&quot;, 55555));\r\n```\r\n\r\nand after that accept incoming connections:\r\n```\r\nclient = this.serverSocket.accept();\r\n```\r\n\r\nthe Client (running on an API-30 Emulator-Instance) is trying to connect to this Server:\r\n```\r\nthis.server = new Socket(&quot;10.0.2.2&quot;, 55556);\r\n```\r\nas described in the provided docs, 10.0.2.2 is the developement Device aka my Computer and 55556 a chosen local-port.\r\n\r\nOn the Server-Instance I added a redirect via the android emulator console\r\n```\r\nredir add tcp:55556:55555\r\n```\r\n\r\nBut the Client can&#39;t connect to the Server. So far I&#39;m clueless.\r\nAny ideas what went wrong here?\r\n\r\n@Edit - Tried to clarify that I&#39;m using Android Emulators instead of real Devices","title":"Android Emulator - Connecting two emulator Instances via networking with different API-Level","body":"<p>I'm trying to develope an android application (with min-API-Level 28) with Java that communicates with an other device over a socket connection. One device is creating a Server instance and the other device should connect to this server.</p>\n<p>For this purpose, I'm using Android-Emulator instances provided by Android Studio.</p>\n<p>I followed the instructions at <a href=\"https://developer.android.com/studio/run/emulator-networking#connecting\" rel=\"nofollow noreferrer\">https://developer.android.com/studio/run/emulator-networking#connecting</a> , but encountered that the provided IP-Adress ranges are not the same for every API-Level.\nOne Emulator-Instance running API 28 is using 192.168.232.0/24 address range, the other one running API-30 is using the provided 10.0.2.0/24 range.</p>\n<p>So given the following scenario:\nthe Server (running on an API-28 Emulator-Instance) is creating the ServerSocket:</p>\n<pre><code>this.serverSocket = new ServerSocket();\n// 192.168.232.2 is the device's IP-Address IF(!) the Emulator-Instance uses API Level 28\n// 55555 the specific ServerPort\nthis.serverSocket.bind(new InetSocketAddress(&quot;192.168.232.2&quot;, 55555));\n</code></pre>\n<p>and after that accept incoming connections:</p>\n<pre><code>client = this.serverSocket.accept();\n</code></pre>\n<p>the Client (running on an API-30 Emulator-Instance) is trying to connect to this Server:</p>\n<pre><code>this.server = new Socket(&quot;10.0.2.2&quot;, 55556);\n</code></pre>\n<p>as described in the provided docs, 10.0.2.2 is the developement Device aka my Computer and 55556 a chosen local-port.</p>\n<p>On the Server-Instance I added a redirect via the android emulator console</p>\n<pre><code>redir add tcp:55556:55555\n</code></pre>\n<p>But the Client can't connect to the Server. So far I'm clueless.\nAny ideas what went wrong here?</p>\n<p>@Edit - Tried to clarify that I'm using Android Emulators instead of real Devices</p>\n"},{"tags":["java","spring-boot","eclipse","jpa"],"answers":[{"tags":[],"owner":{"account_id":10693447,"reputation":878,"user_id":7871511,"display_name":"Rohit Agarwal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671209961,"creation_date":1671209961,"answer_id":74827572,"question_id":74827256,"body_markdown":"The issue is related to parent child relationship. The data is present in child table - user_developers and you are trying to delete data from parent table - user and that is not possible. \r\n\r\nSo to fix this issue first delete data from child table - user_developers and then delete data from parent table - user","title":"Create a Set of ClassA in ClassA Springboot","body":"<p>The issue is related to parent child relationship. The data is present in child table - user_developers and you are trying to delete data from parent table - user and that is not possible.</p>\n<p>So to fix this issue first delete data from child table - user_developers and then delete data from parent table - user</p>\n"},{"tags":[],"owner":{"account_id":114811,"reputation":1718,"user_id":301757,"accept_rate":83,"display_name":"mh377"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671210331,"creation_date":1671210331,"answer_id":74827623,"question_id":74827256,"body_markdown":"I think that the reason you cant delete a user is because you need to delete the relationships first before you can delete the users object.\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    @ManyToOne // Each User have one Type but one Type can have many User\r\n    private UserType type;\r\n        \r\n    @ManyToMany(fetch = FetchType.EAGER,cascade = { CascadeType.REMOVE })\r\n    private Set&lt;User&gt; developers;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nThese posts may provide further information on how to delete many to many/ many to one relationships\r\n\r\nhttps://stackoverflow.com/questions/1082095/how-to-remove-entity-with-manytomany-relationship-in-jpa-and-corresponding-join\r\n\r\n\r\nhttps://stackoverflow.com/questions/21727573/how-to-resolve-could-not-execute-statement-sql-n-a-constraint-numbering\r\n\r\n\r\n","title":"Create a Set of ClassA in ClassA Springboot","body":"<p>I think that the reason you cant delete a user is because you need to delete the relationships first before you can delete the users object.</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>@ManyToOne // Each User have one Type but one Type can have many User\nprivate UserType type;\n    \n@ManyToMany(fetch = FetchType.EAGER,cascade = { CascadeType.REMOVE })\nprivate Set&lt;User&gt; developers;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>These posts may provide further information on how to delete many to many/ many to one relationships</p>\n<p><a href=\"https://stackoverflow.com/questions/1082095/how-to-remove-entity-with-manytomany-relationship-in-jpa-and-corresponding-join\">How to remove entity with ManyToMany relationship in JPA (and corresponding join table rows)?</a></p>\n<p><a href=\"https://stackoverflow.com/questions/21727573/how-to-resolve-could-not-execute-statement-sql-n-a-constraint-numbering\">How to resolve &quot;could not execute statement; SQL [n/a]; constraint [numbering];&quot;?</a></p>\n"},{"tags":[],"owner":{"account_id":17974796,"reputation":1,"user_id":13062660,"display_name":"Bruh-Land"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671366273,"creation_date":1671366273,"answer_id":74841284,"question_id":74827256,"body_markdown":"Thank you for the help I resolved my problem by following your advices and this is how I did it:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    \t@Override\r\n    \t@Transactional\r\n    \tpublic void deleteUser(User user) {\r\n    \t\tthis._userRepository.findAll().forEach(userTemp -&gt;{\r\n    \t\t\tthis._userRepository.save(userTemp);\r\n    \t\t\tuserTemp.getDevelopers().forEach(underUser -&gt;{\r\n    \t\t\t\tif(underUser.getId()==user.getId()) {\r\n    \t\t\t\t\tuserTemp.getDevelopers().remove(user);\r\n    \t\t\t\t}\r\n    \t\t\t});\r\n    \t\t});\r\n    \t\tthis._userRepository.delete(this._userRepository.findById(user.getId()).orElse(null));\r\n    \t\t\r\n    \t}\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Create a Set of ClassA in ClassA Springboot","body":"<p>Thank you for the help I resolved my problem by following your advices and this is how I did it:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>    @Override\n    @Transactional\n    public void deleteUser(User user) {\n        this._userRepository.findAll().forEach(userTemp -&gt;{\n            this._userRepository.save(userTemp);\n            userTemp.getDevelopers().forEach(underUser -&gt;{\n                if(underUser.getId()==user.getId()) {\n                    userTemp.getDevelopers().remove(user);\n                }\n            });\n        });\n        this._userRepository.delete(this._userRepository.findById(user.getId()).orElse(null));\n        \n    }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":17974796,"reputation":1,"user_id":13062660,"display_name":"Bruh-Land"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74841284,"answer_count":3,"score":0,"last_activity_date":1671366273,"creation_date":1671208225,"question_id":74827256,"body_markdown":"Hello I have my class ClassA and I wanna implement a Set or a list of Objects of this class in itself in SpringBoot. \r\n\r\nI tryed it like it follows:\r\nIn my class User I have a Set&lt;User&gt; and its&#39; name is developers, I want to be able to add, delete, modify that Set when I need it.\r\n`\r\n```\r\nimport javax.persistence.OneToMany;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\n\r\nimport fr.tse.startuppoc.project.repository.UserTypeRepository;\r\nimport fr.tse.startuppoc.project.utils.Constants;\r\nimport lombok.Data;\r\n\r\n@Entity\r\n@Data\r\npublic class User {\r\n\t\r\n\t@Id\r\n\t@GeneratedValue(strategy=GenerationType.IDENTITY)\r\n\tprivate Long id;\r\n\t\r\n\tprivate String firstname;\r\n\t\r\n\tprivate String lastname;\r\n\t\r\n\tprivate String login;\r\n\t\r\n\tprivate String password;\r\n\t\r\n\t@ManyToOne // Each User have one Type but one Type can have many User\r\n\tprivate UserType type;\r\n\t\r\n\t@ManyToMany(fetch = FetchType.EAGER,cascade = { CascadeType.REMOVE })\r\n\tprivate Set&lt;User&gt; developers;\r\n\t\r\n\tpublic Long getId() {\r\n\t\treturn id;\r\n\t}\r\n\r\n\tpublic void setId(Long id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\r\n\tpublic String getFirstname() {\r\n\t\treturn firstname;\r\n\t}\r\n\r\n\tpublic void setFirstname(String firstname) {\r\n\t\tthis.firstname = firstname;\r\n\t}\r\n\r\n\tpublic String getLastname() {\r\n\t\treturn lastname;\r\n\t}\r\n\r\n\tpublic void setLastname(String lastname) {\r\n\t\tthis.lastname = lastname;\r\n\t}\r\n\r\n\tpublic String getLogin() {\r\n\t\treturn login;\r\n\t}\r\n\r\n\tpublic void setLogin(String login) {\r\n\t\tthis.login = login;\r\n\t}\r\n\r\n\tpublic String getPassword() {\r\n\t\treturn password;\r\n\t}\r\n\r\n\tpublic void setPassword(String password) {\r\n\t\tthis.password = password;\r\n\t}\r\n\t\r\n\tpublic UserType getType() {\r\n\t\treturn type;\r\n\t}\r\n\r\n\tpublic void setType(UserType type) {\r\n\t\tthis.type = type;\r\n\t}\r\n\r\n\tpublic Set&lt;User&gt; getDevelopers() {\r\n\t\treturn developers;\r\n\t}\r\n\r\n\tpublic void setDevelopers(Set&lt;User&gt; developers) {\r\n\t\tthis.developers = developers;\r\n\t}\r\n\r\n\tpublic User() {\t\t\r\n\t\tthis.developers= new HashSet&lt;User&gt;();\r\n\t}\r\n\r\n\t@Override\r\n\tpublic int hashCode() {\r\n\t\treturn super.hashCode();\r\n\t}\r\n\r\n\tpublic User(Long id, String firstname, String lastname, String login, String password) {\r\n\t\tsuper();\r\n\t\tthis.id = id;\r\n\t\tthis.firstname = firstname;\r\n\t\tthis.lastname = lastname;\r\n\t\tthis.login = login;\r\n\t\tthis.password = password;\r\n\t\t\r\n\t\t\r\n\t}\r\n\t\r\n\r\n}\r\n\r\n```\r\n\r\nHere is my test :\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    @Test\r\n    \tpublic void testAddDeveloper() {\r\n    \t\tUser user=new User();\r\n    \t\tuser.setType(_userTypeService.findById(Constants.ID_USER_TYPE_DEV));\r\n    \t\tuser=_userService.addUser(user);\r\n    \t\t\r\n    \t\tUser manager=new User();\r\n    \t\tmanager.setType(_userTypeService.findById(Constants.ID_USER_TYPE_MANAGER));\r\n    \t\tmanager=_userService.addUser(manager);\r\n    \t\t\r\n    \t\tUser falseManager=new User();\r\n    \t\tfalseManager.setType(_userTypeService.findById(Constants.ID_USER_TYPE_DEV));\r\n    \t\tfalseManager=_userService.addUser(falseManager);\r\n    \t\t\r\n    \t\tUser admin=new User();\r\n    \t\tadmin.setType(_userTypeService.findById(Constants.ID_USER_TYPE_ADMIN));\r\n    \t\tadmin=_userService.addUser(admin);\r\n    \t\t\r\n    \t\ttry {\r\n    \t\t\t_userService.addDeveloper(manager, user);\r\n    \t\t} catch (Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t\t\r\n    \t\ttry {\r\n    \t\t\t_userService.addDeveloper(falseManager, user);\r\n    \t\t} catch (Exception e) {\r\n\r\n    \t\t}\r\n    \t\ttry {\r\n    \t\t\t_userService.addDeveloper(admin, user);\r\n    \t\t} catch (Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t\r\n    \t\tassertEquals(_userService.findById(manager.getId()).getDevelopers().size(), 1);\r\n    \t\tassertEquals(_userService.findById(admin.getId()).getDevelopers().size(), 1);\r\n    \t\tassertEquals(_userService.findById(falseManager.getId()).getDevelopers().size(), 0);\r\n    \t\t\r\n    \t\t\r\n    \t\t_userService.deleteUser(admin);\r\n    \t\t_userService.deleteUser(falseManager);\r\n    \t\t_userService.deleteUser(manager);\r\n    \t\t_userService.deleteUser(user);\r\n    \t}\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nMy problem is that when I try to delete in my JUnit tests then I get this error :\r\n```\r\norg.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [null]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement\r\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:276)\r\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233)\r\n\tat org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:566)\r\n\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:743)\r\n\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:711)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:654)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:407)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy139.delete(Unknown Source)\r\n\tat fr.tse.startuppoc.project.service.implement.UserServiceImplement.deleteUser(UserServiceImplement.java:54)\r\n\tat fr.tse.startuppoc.project.service.implement.UserServiceImplement$$FastClassBySpringCGLIB$$4aa0e50f.invoke(&lt;generated&gt;)\r\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\r\n\tat org.springframework.aop.framework.CglibAopProxy.invokeMethod(CglibAopProxy.java:386)\r\n\tat org.springframework.aop.framework.CglibAopProxy.access$000(CglibAopProxy.java:85)\r\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:704)\r\n\tat fr.tse.startuppoc.project.service.implement.UserServiceImplement$$EnhancerBySpringCGLIB$$20fdef48.deleteUser(&lt;generated&gt;)\r\n\tat fr.tse.startuppoc.project.service.TestUserService.testAddDeveloper(TestUserService.java:128)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)\r\n\tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n\tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)\r\n\tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\r\n\tat org.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:74)\r\n\tat org.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:84)\r\n\tat org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)\r\n\tat org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)\r\n\tat org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)\r\n\tat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)\r\n\tat org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)\r\n\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)\r\n\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)\r\n\tat org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)\r\n\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)\r\n\tat org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\r\n\tat org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)\r\n\tat org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\r\n\tat org.junit.runners.ParentRunner.run(ParentRunner.java:413)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)\r\n\tat org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:93)\r\n\tat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:529)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:756)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:452)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210)\r\nCaused by: org.hibernate.exception.ConstraintViolationException: could not execute statement\r\n\tat org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:59)\r\n\tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:37)\r\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)\r\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99)\r\n\tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:200)\r\n\tat org.hibernate.engine.jdbc.batch.internal.NonBatchingBatch.addToBatch(NonBatchingBatch.java:46)\r\n\tat org.hibernate.persister.entity.AbstractEntityPersister.delete(AbstractEntityPersister.java:3698)\r\n\tat org.hibernate.persister.entity.AbstractEntityPersister.delete(AbstractEntityPersister.java:3958)\r\n\tat org.hibernate.action.internal.EntityDeleteAction.execute(EntityDeleteAction.java:123)\r\n\tat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:604)\r\n\tat org.hibernate.engine.spi.ActionQueue.lambda$executeActions$1(ActionQueue.java:478)\r\n\tat java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:721)\r\n\tat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:475)\r\n\tat org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:344)\r\n\tat org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:40)\r\n\tat org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)\r\n\tat org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1407)\r\n\tat org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:489)\r\n\tat org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3303)\r\n\tat org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2438)\r\n\tat org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:449)\r\n\tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183)\r\n\tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$300(JdbcResourceLocalTransactionCoordinatorImpl.java:40)\r\n\tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281)\r\n\tat org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)\r\n\tat org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:562)\r\n\t... 54 more\r\nCaused by: java.sql.SQLIntegrityConstraintViolationException: Cannot delete or update a parent row: a foreign key constraint fails (`test_startup_poc_db`.`user_developers`, CONSTRAINT `FK7kqw0nlcsn1k6hd6lbwe33qy9` FOREIGN KEY (`developers_id`) REFERENCES `user` (`id`))\r\n\tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)\r\n\tat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)\r\n\tat com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)\r\n\tat com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1061)\r\n\tat com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1009)\r\n\tat com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1320)\r\n\tat com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:994)\r\n\tat com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)\r\n\tat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)\r\n\tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)\r\n\t... 75 more\r\n\r\n```\r\nI don&#39;t really know how to get arround that problem if you could lend me a hand on that. ","title":"Create a Set of ClassA in ClassA Springboot","body":"<p>Hello I have my class ClassA and I wanna implement a Set or a list of Objects of this class in itself in SpringBoot.</p>\n<p>I tryed it like it follows:\nIn my class User I have a Set and its' name is developers, I want to be able to add, delete, modify that Set when I need it.\n`</p>\n<pre><code>import javax.persistence.OneToMany;\n\nimport org.springframework.beans.factory.annotation.Autowired;\n\nimport fr.tse.startuppoc.project.repository.UserTypeRepository;\nimport fr.tse.startuppoc.project.utils.Constants;\nimport lombok.Data;\n\n@Entity\n@Data\npublic class User {\n    \n    @Id\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\n    private Long id;\n    \n    private String firstname;\n    \n    private String lastname;\n    \n    private String login;\n    \n    private String password;\n    \n    @ManyToOne // Each User have one Type but one Type can have many User\n    private UserType type;\n    \n    @ManyToMany(fetch = FetchType.EAGER,cascade = { CascadeType.REMOVE })\n    private Set&lt;User&gt; developers;\n    \n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public String getFirstname() {\n        return firstname;\n    }\n\n    public void setFirstname(String firstname) {\n        this.firstname = firstname;\n    }\n\n    public String getLastname() {\n        return lastname;\n    }\n\n    public void setLastname(String lastname) {\n        this.lastname = lastname;\n    }\n\n    public String getLogin() {\n        return login;\n    }\n\n    public void setLogin(String login) {\n        this.login = login;\n    }\n\n    public String getPassword() {\n        return password;\n    }\n\n    public void setPassword(String password) {\n        this.password = password;\n    }\n    \n    public UserType getType() {\n        return type;\n    }\n\n    public void setType(UserType type) {\n        this.type = type;\n    }\n\n    public Set&lt;User&gt; getDevelopers() {\n        return developers;\n    }\n\n    public void setDevelopers(Set&lt;User&gt; developers) {\n        this.developers = developers;\n    }\n\n    public User() {     \n        this.developers= new HashSet&lt;User&gt;();\n    }\n\n    @Override\n    public int hashCode() {\n        return super.hashCode();\n    }\n\n    public User(Long id, String firstname, String lastname, String login, String password) {\n        super();\n        this.id = id;\n        this.firstname = firstname;\n        this.lastname = lastname;\n        this.login = login;\n        this.password = password;\n        \n        \n    }\n    \n\n}\n\n</code></pre>\n<p>Here is my test :</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>@Test\n    public void testAddDeveloper() {\n        User user=new User();\n        user.setType(_userTypeService.findById(Constants.ID_USER_TYPE_DEV));\n        user=_userService.addUser(user);\n        \n        User manager=new User();\n        manager.setType(_userTypeService.findById(Constants.ID_USER_TYPE_MANAGER));\n        manager=_userService.addUser(manager);\n        \n        User falseManager=new User();\n        falseManager.setType(_userTypeService.findById(Constants.ID_USER_TYPE_DEV));\n        falseManager=_userService.addUser(falseManager);\n        \n        User admin=new User();\n        admin.setType(_userTypeService.findById(Constants.ID_USER_TYPE_ADMIN));\n        admin=_userService.addUser(admin);\n        \n        try {\n            _userService.addDeveloper(manager, user);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        \n        try {\n            _userService.addDeveloper(falseManager, user);\n        } catch (Exception e) {\n\n        }\n        try {\n            _userService.addDeveloper(admin, user);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    \n        assertEquals(_userService.findById(manager.getId()).getDevelopers().size(), 1);\n        assertEquals(_userService.findById(admin.getId()).getDevelopers().size(), 1);\n        assertEquals(_userService.findById(falseManager.getId()).getDevelopers().size(), 0);\n        \n        \n        _userService.deleteUser(admin);\n        _userService.deleteUser(falseManager);\n        _userService.deleteUser(manager);\n        _userService.deleteUser(user);\n    }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>My problem is that when I try to delete in my JUnit tests then I get this error :</p>\n<pre><code>org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [null]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement\n    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:276)\n    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233)\n    at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:566)\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:743)\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:711)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:654)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:407)\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)\n    at jdk.proxy2/jdk.proxy2.$Proxy139.delete(Unknown Source)\n    at fr.tse.startuppoc.project.service.implement.UserServiceImplement.deleteUser(UserServiceImplement.java:54)\n    at fr.tse.startuppoc.project.service.implement.UserServiceImplement$$FastClassBySpringCGLIB$$4aa0e50f.invoke(&lt;generated&gt;)\n    at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n    at org.springframework.aop.framework.CglibAopProxy.invokeMethod(CglibAopProxy.java:386)\n    at org.springframework.aop.framework.CglibAopProxy.access$000(CglibAopProxy.java:85)\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:704)\n    at fr.tse.startuppoc.project.service.implement.UserServiceImplement$$EnhancerBySpringCGLIB$$20fdef48.deleteUser(&lt;generated&gt;)\n    at fr.tse.startuppoc.project.service.TestUserService.testAddDeveloper(TestUserService.java:128)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)\n    at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\n    at org.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:74)\n    at org.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:84)\n    at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)\n    at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)\n    at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)\n    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)\n    at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)\n    at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)\n    at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\n    at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)\n    at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:413)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)\n    at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:93)\n    at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:529)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:756)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:452)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210)\nCaused by: org.hibernate.exception.ConstraintViolationException: could not execute statement\n    at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:59)\n    at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:37)\n    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)\n    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99)\n    at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:200)\n    at org.hibernate.engine.jdbc.batch.internal.NonBatchingBatch.addToBatch(NonBatchingBatch.java:46)\n    at org.hibernate.persister.entity.AbstractEntityPersister.delete(AbstractEntityPersister.java:3698)\n    at org.hibernate.persister.entity.AbstractEntityPersister.delete(AbstractEntityPersister.java:3958)\n    at org.hibernate.action.internal.EntityDeleteAction.execute(EntityDeleteAction.java:123)\n    at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:604)\n    at org.hibernate.engine.spi.ActionQueue.lambda$executeActions$1(ActionQueue.java:478)\n    at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:721)\n    at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:475)\n    at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:344)\n    at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:40)\n    at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)\n    at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1407)\n    at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:489)\n    at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3303)\n    at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2438)\n    at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:449)\n    at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183)\n    at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$300(JdbcResourceLocalTransactionCoordinatorImpl.java:40)\n    at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281)\n    at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)\n    at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:562)\n    ... 54 more\nCaused by: java.sql.SQLIntegrityConstraintViolationException: Cannot delete or update a parent row: a foreign key constraint fails (`test_startup_poc_db`.`user_developers`, CONSTRAINT `FK7kqw0nlcsn1k6hd6lbwe33qy9` FOREIGN KEY (`developers_id`) REFERENCES `user` (`id`))\n    at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)\n    at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1061)\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1009)\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1320)\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:994)\n    at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)\n    at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)\n    at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)\n    ... 75 more\n\n</code></pre>\n<p>I don't really know how to get arround that problem if you could lend me a hand on that.</p>\n"},{"tags":["java","android","android-intent","android-camera","android-camera-intent"],"comments":[{"owner":{"account_id":10814854,"reputation":4137,"user_id":7954210,"accept_rate":73,"display_name":"Mouaad Abdelghafour AITALI"},"score":0,"creation_date":1671358968,"post_id":74839962,"comment_id":132078867,"body_markdown":"Can you be more specific, which code do you think return null?","body":"Can you be more specific, which code do you think return null?"},{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1671366229,"post_id":74839962,"comment_id":132080022,"body_markdown":"You are supplying `EXTRA_OUTPUT`. Your image is in that location. It is not supposed to be in the `data` extra, because you supplied `EXTRA_OUTPUT`.","body":"You are supplying <code>EXTRA_OUTPUT</code>. Your image is in that location. It is not supposed to be in the <code>data</code> extra, because you supplied <code>EXTRA_OUTPUT</code>."}],"answers":[{"tags":[],"owner":{"account_id":26359116,"reputation":585,"user_id":20015640,"display_name":"Urvish Shiroya"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1671359787,"creation_date":1671359787,"answer_id":74840678,"question_id":74839962,"body_markdown":"I have an code that working on SDK 32 successfully.\r\n\r\n1) first of you need to setup `manifest.xml`\r\n\r\n```xml\r\n\r\n&lt;manifest\r\n    ....&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt;\r\n\r\n    &lt;queries&gt;\r\n        &lt;intent&gt;\r\n            &lt;action android:name=&quot;android.media.action.IMAGE_CAPTURE&quot; /&gt;\r\n        &lt;/intent&gt;\r\n    &lt;/queries&gt;\r\n    &lt;uses-feature android:name=&quot;android.hardware.camera.autofocus&quot; /&gt;\r\n    &lt;uses-feature android:name=&quot;android.hardware.camera&quot;\r\n        android:required=&quot;true&quot; /&gt;\r\n\r\n    &lt;application\r\n        android:requestLegacyExternalStorage=&quot;true&quot;\r\n        ....&gt;\r\n\r\n    &lt;provider\r\n            android:name=&quot;androidx.core.content.FileProvider&quot;\r\n            android:authorities=&quot;${applicationId}.provider&quot;\r\n            android:exported=&quot;false&quot;\r\n            android:grantUriPermissions=&quot;true&quot;&gt;\r\n            &lt;meta-data\r\n                android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\r\n                android:resource=&quot;@xml/provider_paths&quot; /&gt;\r\n    &lt;/provider&gt;\r\n\r\n    &lt;/application&gt;\r\n&lt;/manifest&gt;\r\n```\r\n\r\n2) need to create `provider_paths.xml`\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n  &lt;paths&gt;\r\n    &lt;external-path\r\n        name=&quot;external&quot;\r\n        path=&quot;.&quot; /&gt;\r\n    &lt;external-files-path\r\n        name=&quot;external_files&quot;\r\n        path=&quot;.&quot; /&gt;\r\n&lt;/paths&gt;\r\n```\r\n\r\n3) setup java code.\r\n```java\r\n// create global variable\r\nprivate File photoFile = null;\r\n\r\n//create methods...\r\n  private void chooseFromCamera(int requestCode) {\r\n      Intent takePictureIntent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\r\n      try {\r\n          photoFile = createImageFile();\r\n          if (photoFile != null) {\r\n              Uri photoURI = FileProvider.getUriForFile(this, BuildConfig.APPLICATION_ID + &quot;.provider&quot;, photoFile);\r\n              takePictureIntent.putExtra(MediaStore.EXTRA_OUTPUT, photoURI);\r\n              startActivityForResult(takePictureIntent, requestCode);\r\n          }\r\n      } catch (Exception e) {\r\n          e.printStackTrace();\r\n      }\r\n  }\r\n  \r\n  private File createImageFile() throws IOException {\r\n      long timeStamp = Calendar.getInstance().getTimeInMillis();\r\n      String imageFileName = &quot;JPEG_&quot; + timeStamp + &quot;_&quot;;\r\n      File storageDir = getExternalFilesDir(Environment.DIRECTORY_PICTURES);\r\n      File image = File.createTempFile(\r\n              imageFileName,  /* prefix */\r\n              &quot;.jpg&quot;,   /* suffix */\r\n              storageDir      /* directory */\r\n      );\r\n      return image;\r\n  }\r\n\r\n```\r\n\r\n4) start intent for capture image.\r\n\r\n```java\r\nchooseFromCamera(REQUEST_IMAGE_CAPTURE);\r\n```\r\n\r\n\r\n5) get bitmap...\r\n\r\n```java\r\n@Override\r\npublic void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n    super.onActivityResult(requestCode, resultCode, data);\r\n\r\n    if(requestCode == REQUEST_IMAGE_CAPTURE &amp;&amp; resultCode == RESULT_OK &amp;&amp; data != null){\r\n        if (photoFile != null) {\r\n            bitmap = BitmapFactory.decodeFile(photoFile.getAbsolutePath());\r\n        }\r\n    }\r\n}\r\n```","title":"Camera intent Android return null","body":"<p>I have an code that working on SDK 32 successfully.</p>\n<ol>\n<li>first of you need to setup <code>manifest.xml</code></li>\n</ol>\n<pre class=\"lang-xml prettyprint-override\"><code>\n&lt;manifest\n    ....&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt;\n\n    &lt;queries&gt;\n        &lt;intent&gt;\n            &lt;action android:name=&quot;android.media.action.IMAGE_CAPTURE&quot; /&gt;\n        &lt;/intent&gt;\n    &lt;/queries&gt;\n    &lt;uses-feature android:name=&quot;android.hardware.camera.autofocus&quot; /&gt;\n    &lt;uses-feature android:name=&quot;android.hardware.camera&quot;\n        android:required=&quot;true&quot; /&gt;\n\n    &lt;application\n        android:requestLegacyExternalStorage=&quot;true&quot;\n        ....&gt;\n\n    &lt;provider\n            android:name=&quot;androidx.core.content.FileProvider&quot;\n            android:authorities=&quot;${applicationId}.provider&quot;\n            android:exported=&quot;false&quot;\n            android:grantUriPermissions=&quot;true&quot;&gt;\n            &lt;meta-data\n                android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\n                android:resource=&quot;@xml/provider_paths&quot; /&gt;\n    &lt;/provider&gt;\n\n    &lt;/application&gt;\n&lt;/manifest&gt;\n</code></pre>\n<ol start=\"2\">\n<li>need to create <code>provider_paths.xml</code></li>\n</ol>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n  &lt;paths&gt;\n    &lt;external-path\n        name=&quot;external&quot;\n        path=&quot;.&quot; /&gt;\n    &lt;external-files-path\n        name=&quot;external_files&quot;\n        path=&quot;.&quot; /&gt;\n&lt;/paths&gt;\n</code></pre>\n<ol start=\"3\">\n<li>setup java code.</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>// create global variable\nprivate File photoFile = null;\n\n//create methods...\n  private void chooseFromCamera(int requestCode) {\n      Intent takePictureIntent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\n      try {\n          photoFile = createImageFile();\n          if (photoFile != null) {\n              Uri photoURI = FileProvider.getUriForFile(this, BuildConfig.APPLICATION_ID + &quot;.provider&quot;, photoFile);\n              takePictureIntent.putExtra(MediaStore.EXTRA_OUTPUT, photoURI);\n              startActivityForResult(takePictureIntent, requestCode);\n          }\n      } catch (Exception e) {\n          e.printStackTrace();\n      }\n  }\n  \n  private File createImageFile() throws IOException {\n      long timeStamp = Calendar.getInstance().getTimeInMillis();\n      String imageFileName = &quot;JPEG_&quot; + timeStamp + &quot;_&quot;;\n      File storageDir = getExternalFilesDir(Environment.DIRECTORY_PICTURES);\n      File image = File.createTempFile(\n              imageFileName,  /* prefix */\n              &quot;.jpg&quot;,   /* suffix */\n              storageDir      /* directory */\n      );\n      return image;\n  }\n\n</code></pre>\n<ol start=\"4\">\n<li>start intent for capture image.</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>chooseFromCamera(REQUEST_IMAGE_CAPTURE);\n</code></pre>\n<ol start=\"5\">\n<li>get bitmap...</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n    super.onActivityResult(requestCode, resultCode, data);\n\n    if(requestCode == REQUEST_IMAGE_CAPTURE &amp;&amp; resultCode == RESULT_OK &amp;&amp; data != null){\n        if (photoFile != null) {\n            bitmap = BitmapFactory.decodeFile(photoFile.getAbsolutePath());\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":24474044,"reputation":17,"user_id":18393344,"display_name":"Anthony Rafael"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":570,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1671366147,"accepted_answer_id":74840678,"answer_count":1,"score":1,"last_activity_date":1671366194,"creation_date":1671351434,"question_id":74839962,"body_markdown":"Start Intent Code :\r\n\r\n    Intent takePictureIntent = new Intent();\r\n    takePictureIntent.putExtra(android.provider.MediaStore.EXTRA_OUTPUT, imageUri);\r\n    takePictureIntent.setAction(MediaStore.ACTION_IMAGE_CAPTURE);\r\n    startActivityForResult(takePictureIntent, REQUEST_IMAGE_CAPTURE);\r\n\r\nOnActivityResult Code :\r\n\r\n\r\n    @Override\r\n    public void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n\r\n        if(requestCode == REQUEST_IMAGE_CAPTURE &amp;&amp; resultCode == UserVisitDetailActivity.RESULT_OK &amp;&amp; data != null){\r\n            System.out.println(&quot;Masuk Camera&quot;);\r\n\r\n            Bitmap photo = (Bitmap) data.getExtras().get(&quot;data&quot;);\r\n            System.out.println(photo);\r\n            imageUri = getImageUri(getApplicationContext(), photo);\r\n            checkInHolder.setImageURI(imageUri);\r\n        }\r\n    }\r\n\r\nGet Image URI Code :\r\n\r\n    public Uri getImageUri(Context inContext, Bitmap inImage) {\r\n        ByteArrayOutputStream bytes = new ByteArrayOutputStream();\r\n        inImage.compress(Bitmap.CompressFormat.JPEG, 100, bytes);\r\n        String path = MediaStore.Images.Media.insertImage(inContext.getContentResolver(), inImage, &quot;Title&quot;, null);\r\n        return Uri.parse(path);\r\n    }\r\n\r\nThe code run smoothly but after several modification, it suddenly return null data.\r\nThank you for your help","title":"Camera intent Android return null","body":"<p>Start Intent Code :</p>\n<pre><code>Intent takePictureIntent = new Intent();\ntakePictureIntent.putExtra(android.provider.MediaStore.EXTRA_OUTPUT, imageUri);\ntakePictureIntent.setAction(MediaStore.ACTION_IMAGE_CAPTURE);\nstartActivityForResult(takePictureIntent, REQUEST_IMAGE_CAPTURE);\n</code></pre>\n<p>OnActivityResult Code :</p>\n<pre><code>@Override\npublic void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n    super.onActivityResult(requestCode, resultCode, data);\n\n    if(requestCode == REQUEST_IMAGE_CAPTURE &amp;&amp; resultCode == UserVisitDetailActivity.RESULT_OK &amp;&amp; data != null){\n        System.out.println(&quot;Masuk Camera&quot;);\n\n        Bitmap photo = (Bitmap) data.getExtras().get(&quot;data&quot;);\n        System.out.println(photo);\n        imageUri = getImageUri(getApplicationContext(), photo);\n        checkInHolder.setImageURI(imageUri);\n    }\n}\n</code></pre>\n<p>Get Image URI Code :</p>\n<pre><code>public Uri getImageUri(Context inContext, Bitmap inImage) {\n    ByteArrayOutputStream bytes = new ByteArrayOutputStream();\n    inImage.compress(Bitmap.CompressFormat.JPEG, 100, bytes);\n    String path = MediaStore.Images.Media.insertImage(inContext.getContentResolver(), inImage, &quot;Title&quot;, null);\n    return Uri.parse(path);\n}\n</code></pre>\n<p>The code run smoothly but after several modification, it suddenly return null data.\nThank you for your help</p>\n"},{"tags":["java","excel","apache-poi"],"comments":[{"owner":{"account_id":27286716,"reputation":1,"user_id":20805767,"display_name":"asura"},"score":0,"creation_date":1671366104,"post_id":74841250,"comment_id":132080005,"body_markdown":"when i run this coe,it throws the exception:Could not resolve external workbook name &#39;XXXXX&#39;,but i don&#39;t know where  the workbook is,can i ignore the exception to calculate the result of formula?","body":"when i run this coe,it throws the exception:Could not resolve external workbook name &#39;XXXXX&#39;,but i don&#39;t know where  the workbook is,can i ignore the exception to calculate the result of formula?"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":1,"creation_date":1671371526,"post_id":74841250,"comment_id":132080968,"body_markdown":"Rather than commenting, please [edit] your question to add new details. Why not loop through the cells manually to see what formulas _can_ be evaluated?","body":"Rather than commenting, please <a href=\"https://stackoverflow.com/posts/74841250/edit\">edit</a> your question to add new details. Why not loop through the cells manually to see what formulas <i>can</i> be evaluated?"}],"owner":{"account_id":27286716,"reputation":1,"user_id":20805767,"display_name":"asura"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671365889,"creation_date":1671365889,"question_id":74841250,"body_markdown":"\r\n```\r\nFile f = new File(&quot;/data/test.xlsx&quot;);\r\nInputStream is = new FileInputStream(&quot;/data/test.xlsx&quot;);\r\nXSSFWorkbook wb = new XSSFWorkbook(is);\r\nXSSFFormulaEvaluator.evaluateAllFormulaCells(wb);\r\nOutputStream os = new FileOutputStream(f);\r\nwb.write(os);\r\nos.close();\r\n```\r\n\r\n\r\nbut it doesn&#39;t work,when i open my excel,it still notice that do I need to save the excel file,it means that the formula doesn&#39;t update ,how to fix this issue?","title":"how to update the excel formula calculate result ，I use apache poi 5.2.2","body":"<pre><code>File f = new File(&quot;/data/test.xlsx&quot;);\nInputStream is = new FileInputStream(&quot;/data/test.xlsx&quot;);\nXSSFWorkbook wb = new XSSFWorkbook(is);\nXSSFFormulaEvaluator.evaluateAllFormulaCells(wb);\nOutputStream os = new FileOutputStream(f);\nwb.write(os);\nos.close();\n</code></pre>\n<p>but it doesn't work,when i open my excel,it still notice that do I need to save the excel file,it means that the formula doesn't update ,how to fix this issue?</p>\n"},{"tags":["java","spring","spring-boot","intellij-idea"],"comments":[{"owner":{"account_id":24276410,"reputation":1,"user_id":18223656,"display_name":"Dama"},"score":0,"creation_date":1671365579,"post_id":74841166,"comment_id":132079917,"body_markdown":"You might be able to disable it. Try this: https://stackoverflow.com/questions/29155350/jpa-cannot-resolve-column-intellij","body":"You might be able to disable it. Try this: <a href=\"https://stackoverflow.com/questions/29155350/jpa-cannot-resolve-column-intellij\" title=\"jpa cannot resolve column intellij\">stackoverflow.com/questions/29155350/&hellip;</a>"}],"owner":{"account_id":12870550,"reputation":11,"user_id":9309168,"display_name":"Anindra"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671365105,"creation_date":1671365105,"question_id":74841166,"body_markdown":"Getting error to &#39;tbl_employees&#39;,&#39;id&#39;,&#39;name&#39;,&#39;age&#39;,&#39;location&#39;,&#39;email&#39;,department&#39; (Cannot resolve column &#39;location&#39; ). I don&#39;t understanding why I am getting this error.\r\n[![Screenshot of Intellij database mapping error][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9HKNo.png","title":"Getting error when trying to map entity class to database","body":"<p>Getting error to 'tbl_employees','id','name','age','location','email',department' (Cannot resolve column 'location' ). I don't understanding why I am getting this error.\n<a href=\"https://i.stack.imgur.com/9HKNo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9HKNo.png\" alt=\"Screenshot of Intellij database mapping error\" /></a></p>\n"},{"tags":["java","networking","selector","nio"],"comments":[{"owner":{"account_id":27288227,"reputation":1,"user_id":20807060,"display_name":"MARINE"},"score":0,"creation_date":1671364381,"post_id":74840490,"comment_id":132079721,"body_markdown":"Thank you.. ㅠ.ㅠ The server is supposed to output the data sent by the client through System.out.print().\n\nThe problem is\nQuarter.java\n\nint targetIndex = connectionCount % readSelectors.size();\nSelector tarSel = readSelectors.get(targetIndex);\nchannel.register(tarSel, SelectionKey.OP_READ);\n\nWhen the server accepts the client, the client sends the data immediately. However, tarSel is still blocked at select(). ㅠ.ㅠ","body":"Thank you.. ㅠ.ㅠ The server is supposed to output the data sent by the client through System.out.print().  The problem is Quarter.java  int targetIndex = connectionCount % readSelectors.size(); Selector tarSel = readSelectors.get(targetIndex); channel.register(tarSel, SelectionKey.OP_READ);  When the server accepts the client, the client sends the data immediately. However, tarSel is still blocked at select(). ㅠ.ㅠ"},{"owner":{"account_id":27288227,"reputation":1,"user_id":20807060,"display_name":"MARINE"},"score":0,"creation_date":1671371047,"post_id":74840490,"comment_id":132080870,"body_markdown":"ah... wakeup() and return -&gt; continue ... modifyed Thank you bro.!","body":"ah... wakeup() and return -&gt; continue ... modifyed Thank you bro.!"}],"owner":{"account_id":27288227,"reputation":1,"user_id":20807060,"display_name":"MARINE"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671364901,"creation_date":1671357967,"question_id":74840490,"body_markdown":"Please help .\r\n\r\nWhen you first start the server, create a thread pool in advance (5 threads) and create 5 selectors to read, pass one selector to each Runnable, and immediately send the submit function to the thread pool.\r\n\r\nThen, create a selector that accepts the user and run it on the main thread.\r\n\r\nThe problem here is that the Selector in the main thread detects the user&#39;s request and registers the returned SocketChannel in one of the 5 Read Selectors.\r\n\r\nAnd when the connection is successful, the user sends text data every second, but there is no response from the Read Selector.\r\n\r\nI don&#39;t know why this problem occurs.. ㅜㅜ\r\n\r\n\r\n\r\n\r\n\r\nMain.java\r\n\r\n```\r\npublic class Main {\r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tServer server = new Quarter();\r\n\r\n\t}\r\n\r\n}\r\n```\r\n\r\nServer.java\r\n\r\n```\r\nimport java.io.IOException;\r\nimport java.net.InetSocketAddress;\r\nimport java.nio.channels.AlreadyBoundException;\r\nimport java.nio.channels.SelectionKey;\r\nimport java.nio.channels.Selector;\r\nimport java.nio.channels.ServerSocketChannel;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.concurrent.ExecutorService;\r\nimport java.util.concurrent.Executors;\r\n\r\n\r\npublic abstract class Server {\r\n\r\n\tprotected volatile boolean isStart = true;\r\n\r\n\t// 192.168.0.11\tcompany\r\n\t// 192.168.75.35 house\r\n\t// 192.168.75.97 my notebook\r\n\tprivate static final String ADDRESS = &quot;192.168.75.35&quot;;\r\n\tprivate static final int \tPORT \t= 1111;\r\n\tprivate static final int\tBACKLOG = 1024;\r\n\r\n\tprotected Selector acceptSelector = null;\r\n\r\n\t/** 하나의 스레드에서만 접근 할것이기 때문에 동기화 처리는 필요 없음. */\r\n\tprotected List&lt;Selector&gt; readSelectors = new ArrayList&lt;Selector&gt;();\r\n\r\n\tprotected ServerSocketChannel serverSocketChannel = null;\r\n\tprotected InetSocketAddress inetSocketAddress = null;\r\n\r\n\tprivate final int nThreads = 5;\r\n\tprotected ExecutorService threadpool = null;\r\n\t\r\n\t/** 현재 연결된 클라이언트 수 */\r\n\tprotected static int connectionCount = 0;\r\n\t// volatile 캐시 메모리 문제는 아닌가?\r\n\t// 뭐가 문제지?\r\n\r\n\tprotected void init() {\r\n\t\ttry {\r\n\r\n\t\t\tthis.threadpool = Executors.newFixedThreadPool(this.nThreads);\r\n\r\n\t\t\tfor (int i = 1; i &lt;= this.nThreads; i++) {\r\n\t\t\t\tSelector sel = Selector.open();\r\n\t\t\t\tthis.readSelectors.add(sel);\r\n\t\t\t\tthreadpool.submit(new SubSelector(sel));\r\n\t\t\t}\r\n\r\n\t\t\tthis.acceptSelector = Selector.open();\r\n\t\t\tthis.inetSocketAddress = new InetSocketAddress(ADDRESS, PORT);\r\n\t\t\t\r\n\t\t\tthis.serverSocketChannel = ServerSocketChannel.open();\r\n\t\t\t\r\n\t\t\t// non - blocking 으로 설정.\r\n\t\t\tthis.serverSocketChannel.configureBlocking(false);\r\n\t\t\tSystem.out.println(&quot;serverSocketChannel is non-blocking.&quot;);\r\n\r\n\t\t\tthis.serverSocketChannel.bind(this.inetSocketAddress, BACKLOG);\r\n\t\t\tSystem.out.println(&quot;binding is success.&quot;);\r\n\r\n\t\t\tthis.serverSocketChannel.register(this.acceptSelector, SelectionKey.OP_ACCEPT);\r\n\r\n\t\t\tSystem.out.println(&quot;initing is success.&quot;);\r\n\r\n\t\t} catch (AlreadyBoundException abe) {\r\n\t\t\t// 이미 사용중인 포트에 바인딩하려면 에러\r\n\t\t\tSystem.err.println(abe.getMessage());\r\n\t\t\tthis.exit();\r\n\t\t} catch (IOException e) {\r\n\t\t\tSystem.err.println(e.getMessage());\r\n\t\t\tthis.exit();\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tprotected synchronized void exit() {\r\n\r\n\t\ttry {\r\n\t\t\tthis.isStart = false;\r\n\t\t\tthis.serverSocketChannel.close();\r\n\t\t\tthis.acceptSelector.close();\r\n\t\t\tthis.threadpool.shutdown();\r\n\t\t\tfor (int i = 0; i &lt; this.readSelectors.size(); i++) {\r\n\t\t\t\tthis.readSelectors.get(i).close();\r\n\t\t\t}\r\n\t\t} catch (IOException e) {\r\n\t\t\tSystem.err.print(e.getMessage());\r\n\t\t}\r\n\r\n\t}\r\n\t\r\n\tprotected synchronized void connectCountAdd() {\r\n\t\tconnectionCount++;\r\n\t}\r\n\t\r\n\tprotected synchronized void connectCountMinus() {\r\n\t\tconnectionCount--;\r\n\t}\r\n}\r\n```\r\n\r\n\r\nQuarter.java\r\n\r\n\r\n```\r\nimport java.io.IOException;\r\nimport java.nio.channels.ClosedChannelException;\r\nimport java.nio.channels.ClosedSelectorException;\r\nimport java.nio.channels.SelectionKey;\r\nimport java.nio.channels.Selector;\r\nimport java.nio.channels.ServerSocketChannel;\r\nimport java.nio.channels.SocketChannel;\r\nimport java.util.Iterator;\r\nimport java.util.Set;\r\n\r\npublic class Quarter extends Server {\r\n\r\n\tpublic Quarter() {\r\n\t\tinit();\r\n\t\tthis.initQuarter();\r\n\t}\r\n\r\n\tprivate void initQuarter() {\r\n\r\n\t\twhile (isStart) {\r\n\t\t\ttry {\r\n\r\n\t\t\t\tint ready = acceptSelector.select();\r\n\t\t\t\tif (ready &lt;= 0) continue;\r\n\r\n\t\t\t\tSet&lt;SelectionKey&gt; set = acceptSelector.selectedKeys();\r\n\t\t\t\tIterator&lt;SelectionKey&gt; selected = set.iterator();\r\n\t\t\t\t\r\n\t\t\t\twhile (selected.hasNext()) {\r\n\t\t\t\t\tSelectionKey key = selected.next();\r\n\t\t\t\t\tselected.remove();\r\n\r\n\t\t\t\t\tif (!key.isValid()) continue;\r\n\r\n\t\t\t\t\tif (key.isAcceptable()) this.accept(key);\r\n\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tcatch (ClosedSelectorException cse) {\r\n\r\n\t\t\t\tSystem.err.println(cse.getMessage());\r\n\t\t\t}\r\n\t\t\tcatch (IOException e) {\r\n\t\t\t\tSystem.err.println(e.getMessage());\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tprivate void accept(SelectionKey key) {\r\n\r\n\t\ttry {\r\n\t\t\tServerSocketChannel serverChannel = (ServerSocketChannel) key.channel();\r\n\r\n\t\t\tSocketChannel channel = serverChannel.accept();\r\n\t\t\tif (channel == null) return;\r\n\r\n\t\t\tchannel.configureBlocking(false);\r\n\r\n\t\t\tint targetIndex = connectionCount % readSelectors.size();\r\n\t\t\tSelector tarSel = readSelectors.get(targetIndex);\r\n\r\n\t\t\tchannel.register(tarSel, SelectionKey.OP_READ);\r\n\r\n\t\t\tconnectCountAdd();\r\n\r\n\t\t\tSystem.out.println(&quot;Connected to: &quot; + channel.getRemoteAddress());\r\n\t\t\tSystem.out.println(&quot;Current Connection Count: &quot; + connectionCount);\r\n\r\n\t\t}\r\n\t\tcatch (ClosedChannelException cce) {\r\n\t\t\t// 채널이 닫힌 경우\r\n\t\t\tSystem.err.println(cce.getMessage());\r\n\t\t\tkey.cancel();\r\n\t\t}\r\n\t\tcatch (ClosedSelectorException cse) {\r\n\t\t\t// 셀렉터가 닫힌 경우\r\n\t\t\tSystem.err.println(cse.getMessage());\r\n\t\t\tkey.cancel();\r\n\t\t\texit();\r\n\t\t}\r\n\t\tcatch (IOException e) {\r\n\t\t\tSystem.err.println(e.getMessage());\r\n\t\t\tkey.cancel();\r\n\t\t\texit();\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nSubSelector.java\r\n\r\n```\r\nimport java.io.IOException;\r\nimport java.net.SocketException;\r\nimport java.nio.ByteBuffer;\r\nimport java.nio.channels.ClosedSelectorException;\r\nimport java.nio.channels.NotYetConnectedException;\r\nimport java.nio.channels.SelectionKey;\r\nimport java.nio.channels.Selector;\r\nimport java.nio.channels.SocketChannel;\r\nimport java.nio.charset.Charset;\r\nimport java.util.Iterator;\r\nimport java.util.Set;\r\n\r\npublic class SubSelector extends Server implements Runnable {\r\n\r\n   private Selector selector = null;\r\n   Charset charset = Charset.forName(&quot;UTF-8&quot;);\r\n   \r\n   public SubSelector(Selector selector) {\r\n      this.selector = selector;\r\n   }\r\n   \r\n   @Override\r\n   public void run() {\r\n      \r\n      while (isStart) {\r\n         \r\n         try {\r\n            \r\n            int ready = selector.select();\r\n            if (ready &lt;= 0) return;\r\n            \r\n            Set&lt;SelectionKey&gt; set = this.selector.selectedKeys();\r\n            Iterator&lt;SelectionKey&gt; selected = set.iterator();\r\n            \r\n            while (selected.hasNext()) {\r\n               \r\n               SelectionKey key = selected.next();\r\n               selected.remove();\r\n               \r\n               if (!key.isValid()) continue;\r\n               \r\n               if (key.isReadable()) this.read(key);\r\n            }\r\n            \r\n         }\r\n         catch (ClosedSelectorException cse) {\r\n            System.err.println(cse.getMessage());\r\n         }\r\n         catch (IOException e) {\r\n            System.err.println(e.getMessage());\r\n         }\r\n      }\r\n   }\r\n\r\n   private void read(SelectionKey key) {\r\n      \r\n      try {\r\n         \r\n         SocketChannel channel = (SocketChannel) key.channel();\r\n         ByteBuffer buffer = ByteBuffer.allocate(100);\r\n         int readCount = channel.read(buffer);\r\n         \r\n         if (readCount &lt;= 0) return;\r\n         \r\n         buffer.flip();\r\n         String result = charset.decode(buffer).toString();\r\n         \r\n         System.out.println(&quot;client ip address: &quot; + channel.getRemoteAddress());\r\n         System.out.println(&quot;client send message: &quot; + result);\r\n      }\r\n      catch (NotYetConnectedException nyce) {\r\n         // 채널이 아직 연결되지 않은 경우\r\n         System.err.println(nyce.getMessage());\r\n      }\r\n      catch (SocketException se) {\r\n    \t  System.err.println(se.getMessage());\r\n    \t  this.disConnect(key);\r\n      }\r\n      catch (IOException e) {\r\n         // 기타 에러\r\n         System.err.println(e.getMessage());\r\n      }\r\n   }\r\n   \r\n   private void disConnect(SelectionKey key) {\r\n\t   key.cancel();\r\n\t   selector.wakeup();\r\n\t   connectCountMinus();\r\n\t   System.out.println(&quot;Current Connection Count: &quot; + connectionCount);\r\n   }\r\n}\r\n```\r\nClient.java\r\n```\r\nimport java.io.OutputStream;\r\nimport java.net.InetSocketAddress;\r\nimport java.net.Socket;\r\nimport java.util.Scanner;\r\n\r\nimport java.io.IOException;\r\nimport java.io.OutputStream;\r\nimport java.net.InetSocketAddress;\r\nimport java.net.Socket;\r\nimport java.util.Scanner;\r\n\r\npublic class Client {\r\n\r\n\tpublic static void main(String[] args) throws Exception {\r\n\t\ttry {\r\n\t\t\tSocket socket = new Socket();\r\n\t\t\tsocket.connect(new InetSocketAddress(&quot;192.168.75.35&quot;, 1111));\r\n\t\t\tSystem.out.println(&quot;is Connected: &quot; + socket.isConnected());\r\n\r\n\t\t\twhile (true) {\r\n\r\n\t\t\t\tOutputStream os = socket.getOutputStream();\r\n\t\t\t\tos.write(Thread.currentThread().getName().getBytes());\r\n\t\t\t\tos.flush();\r\n\r\n\t\t\t\ttry {\r\n\t\t\t\t\tThread.sleep(1000);\r\n\t\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n}\r\n```","title":"I have a question on Nio&#39;s selector and threads part","body":"<p>Please help .</p>\n<p>When you first start the server, create a thread pool in advance (5 threads) and create 5 selectors to read, pass one selector to each Runnable, and immediately send the submit function to the thread pool.</p>\n<p>Then, create a selector that accepts the user and run it on the main thread.</p>\n<p>The problem here is that the Selector in the main thread detects the user's request and registers the returned SocketChannel in one of the 5 Read Selectors.</p>\n<p>And when the connection is successful, the user sends text data every second, but there is no response from the Read Selector.</p>\n<p>I don't know why this problem occurs.. ㅜㅜ</p>\n<p>Main.java</p>\n<pre><code>public class Main {\n\n    public static void main(String[] args) {\n\n        Server server = new Quarter();\n\n    }\n\n}\n</code></pre>\n<p>Server.java</p>\n<pre><code>import java.io.IOException;\nimport java.net.InetSocketAddress;\nimport java.nio.channels.AlreadyBoundException;\nimport java.nio.channels.SelectionKey;\nimport java.nio.channels.Selector;\nimport java.nio.channels.ServerSocketChannel;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\n\n\npublic abstract class Server {\n\n    protected volatile boolean isStart = true;\n\n    // 192.168.0.11 company\n    // 192.168.75.35 house\n    // 192.168.75.97 my notebook\n    private static final String ADDRESS = &quot;192.168.75.35&quot;;\n    private static final int    PORT    = 1111;\n    private static final int    BACKLOG = 1024;\n\n    protected Selector acceptSelector = null;\n\n    /** 하나의 스레드에서만 접근 할것이기 때문에 동기화 처리는 필요 없음. */\n    protected List&lt;Selector&gt; readSelectors = new ArrayList&lt;Selector&gt;();\n\n    protected ServerSocketChannel serverSocketChannel = null;\n    protected InetSocketAddress inetSocketAddress = null;\n\n    private final int nThreads = 5;\n    protected ExecutorService threadpool = null;\n    \n    /** 현재 연결된 클라이언트 수 */\n    protected static int connectionCount = 0;\n    // volatile 캐시 메모리 문제는 아닌가?\n    // 뭐가 문제지?\n\n    protected void init() {\n        try {\n\n            this.threadpool = Executors.newFixedThreadPool(this.nThreads);\n\n            for (int i = 1; i &lt;= this.nThreads; i++) {\n                Selector sel = Selector.open();\n                this.readSelectors.add(sel);\n                threadpool.submit(new SubSelector(sel));\n            }\n\n            this.acceptSelector = Selector.open();\n            this.inetSocketAddress = new InetSocketAddress(ADDRESS, PORT);\n            \n            this.serverSocketChannel = ServerSocketChannel.open();\n            \n            // non - blocking 으로 설정.\n            this.serverSocketChannel.configureBlocking(false);\n            System.out.println(&quot;serverSocketChannel is non-blocking.&quot;);\n\n            this.serverSocketChannel.bind(this.inetSocketAddress, BACKLOG);\n            System.out.println(&quot;binding is success.&quot;);\n\n            this.serverSocketChannel.register(this.acceptSelector, SelectionKey.OP_ACCEPT);\n\n            System.out.println(&quot;initing is success.&quot;);\n\n        } catch (AlreadyBoundException abe) {\n            // 이미 사용중인 포트에 바인딩하려면 에러\n            System.err.println(abe.getMessage());\n            this.exit();\n        } catch (IOException e) {\n            System.err.println(e.getMessage());\n            this.exit();\n        }\n\n    }\n\n    protected synchronized void exit() {\n\n        try {\n            this.isStart = false;\n            this.serverSocketChannel.close();\n            this.acceptSelector.close();\n            this.threadpool.shutdown();\n            for (int i = 0; i &lt; this.readSelectors.size(); i++) {\n                this.readSelectors.get(i).close();\n            }\n        } catch (IOException e) {\n            System.err.print(e.getMessage());\n        }\n\n    }\n    \n    protected synchronized void connectCountAdd() {\n        connectionCount++;\n    }\n    \n    protected synchronized void connectCountMinus() {\n        connectionCount--;\n    }\n}\n</code></pre>\n<p>Quarter.java</p>\n<pre><code>import java.io.IOException;\nimport java.nio.channels.ClosedChannelException;\nimport java.nio.channels.ClosedSelectorException;\nimport java.nio.channels.SelectionKey;\nimport java.nio.channels.Selector;\nimport java.nio.channels.ServerSocketChannel;\nimport java.nio.channels.SocketChannel;\nimport java.util.Iterator;\nimport java.util.Set;\n\npublic class Quarter extends Server {\n\n    public Quarter() {\n        init();\n        this.initQuarter();\n    }\n\n    private void initQuarter() {\n\n        while (isStart) {\n            try {\n\n                int ready = acceptSelector.select();\n                if (ready &lt;= 0) continue;\n\n                Set&lt;SelectionKey&gt; set = acceptSelector.selectedKeys();\n                Iterator&lt;SelectionKey&gt; selected = set.iterator();\n                \n                while (selected.hasNext()) {\n                    SelectionKey key = selected.next();\n                    selected.remove();\n\n                    if (!key.isValid()) continue;\n\n                    if (key.isAcceptable()) this.accept(key);\n\n                }\n            }\n            catch (ClosedSelectorException cse) {\n\n                System.err.println(cse.getMessage());\n            }\n            catch (IOException e) {\n                System.err.println(e.getMessage());\n            }\n        }\n\n    }\n\n    private void accept(SelectionKey key) {\n\n        try {\n            ServerSocketChannel serverChannel = (ServerSocketChannel) key.channel();\n\n            SocketChannel channel = serverChannel.accept();\n            if (channel == null) return;\n\n            channel.configureBlocking(false);\n\n            int targetIndex = connectionCount % readSelectors.size();\n            Selector tarSel = readSelectors.get(targetIndex);\n\n            channel.register(tarSel, SelectionKey.OP_READ);\n\n            connectCountAdd();\n\n            System.out.println(&quot;Connected to: &quot; + channel.getRemoteAddress());\n            System.out.println(&quot;Current Connection Count: &quot; + connectionCount);\n\n        }\n        catch (ClosedChannelException cce) {\n            // 채널이 닫힌 경우\n            System.err.println(cce.getMessage());\n            key.cancel();\n        }\n        catch (ClosedSelectorException cse) {\n            // 셀렉터가 닫힌 경우\n            System.err.println(cse.getMessage());\n            key.cancel();\n            exit();\n        }\n        catch (IOException e) {\n            System.err.println(e.getMessage());\n            key.cancel();\n            exit();\n        }\n    }\n}\n</code></pre>\n<p>SubSelector.java</p>\n<pre><code>import java.io.IOException;\nimport java.net.SocketException;\nimport java.nio.ByteBuffer;\nimport java.nio.channels.ClosedSelectorException;\nimport java.nio.channels.NotYetConnectedException;\nimport java.nio.channels.SelectionKey;\nimport java.nio.channels.Selector;\nimport java.nio.channels.SocketChannel;\nimport java.nio.charset.Charset;\nimport java.util.Iterator;\nimport java.util.Set;\n\npublic class SubSelector extends Server implements Runnable {\n\n   private Selector selector = null;\n   Charset charset = Charset.forName(&quot;UTF-8&quot;);\n   \n   public SubSelector(Selector selector) {\n      this.selector = selector;\n   }\n   \n   @Override\n   public void run() {\n      \n      while (isStart) {\n         \n         try {\n            \n            int ready = selector.select();\n            if (ready &lt;= 0) return;\n            \n            Set&lt;SelectionKey&gt; set = this.selector.selectedKeys();\n            Iterator&lt;SelectionKey&gt; selected = set.iterator();\n            \n            while (selected.hasNext()) {\n               \n               SelectionKey key = selected.next();\n               selected.remove();\n               \n               if (!key.isValid()) continue;\n               \n               if (key.isReadable()) this.read(key);\n            }\n            \n         }\n         catch (ClosedSelectorException cse) {\n            System.err.println(cse.getMessage());\n         }\n         catch (IOException e) {\n            System.err.println(e.getMessage());\n         }\n      }\n   }\n\n   private void read(SelectionKey key) {\n      \n      try {\n         \n         SocketChannel channel = (SocketChannel) key.channel();\n         ByteBuffer buffer = ByteBuffer.allocate(100);\n         int readCount = channel.read(buffer);\n         \n         if (readCount &lt;= 0) return;\n         \n         buffer.flip();\n         String result = charset.decode(buffer).toString();\n         \n         System.out.println(&quot;client ip address: &quot; + channel.getRemoteAddress());\n         System.out.println(&quot;client send message: &quot; + result);\n      }\n      catch (NotYetConnectedException nyce) {\n         // 채널이 아직 연결되지 않은 경우\n         System.err.println(nyce.getMessage());\n      }\n      catch (SocketException se) {\n          System.err.println(se.getMessage());\n          this.disConnect(key);\n      }\n      catch (IOException e) {\n         // 기타 에러\n         System.err.println(e.getMessage());\n      }\n   }\n   \n   private void disConnect(SelectionKey key) {\n       key.cancel();\n       selector.wakeup();\n       connectCountMinus();\n       System.out.println(&quot;Current Connection Count: &quot; + connectionCount);\n   }\n}\n</code></pre>\n<p>Client.java</p>\n<pre><code>import java.io.OutputStream;\nimport java.net.InetSocketAddress;\nimport java.net.Socket;\nimport java.util.Scanner;\n\nimport java.io.IOException;\nimport java.io.OutputStream;\nimport java.net.InetSocketAddress;\nimport java.net.Socket;\nimport java.util.Scanner;\n\npublic class Client {\n\n    public static void main(String[] args) throws Exception {\n        try {\n            Socket socket = new Socket();\n            socket.connect(new InetSocketAddress(&quot;192.168.75.35&quot;, 1111));\n            System.out.println(&quot;is Connected: &quot; + socket.isConnected());\n\n            while (true) {\n\n                OutputStream os = socket.getOutputStream();\n                os.write(Thread.currentThread().getName().getBytes());\n                os.flush();\n\n                try {\n                    Thread.sleep(1000);\n                } catch (InterruptedException e) {\n                }\n\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":4216900,"reputation":3048,"user_id":3452803,"accept_rate":50,"display_name":"yitzih"},"score":3,"creation_date":1430724851,"post_id":30024821,"comment_id":48166810,"body_markdown":"When using threads it is impossible to know in what order they will actually be run. So technically no matter what they print out the order can&#39;t be predicted.","body":"When using threads it is impossible to know in what order they will actually be run. So technically no matter what they print out the order can&#39;t be predicted."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":1,"creation_date":1430724935,"post_id":30024821,"comment_id":48166870,"body_markdown":"If it&#39;s throwing some exception, fix your code so the exception isn&#39;t thrown.","body":"If it&#39;s throwing some exception, fix your code so the exception isn&#39;t thrown."},{"owner":{"account_id":5247914,"reputation":723,"user_id":4192998,"accept_rate":65,"display_name":"Zion"},"score":0,"creation_date":1430724985,"post_id":30024821,"comment_id":48166895,"body_markdown":"maybe post the exception so we can see where the problem is","body":"maybe post the exception so we can see where the problem is"},{"owner":{"account_id":6211503,"reputation":321,"user_id":4861260,"display_name":"Vivek"},"score":1,"creation_date":1430725118,"post_id":30024821,"comment_id":48166949,"body_markdown":"@yitzih : The questioner clearly mentioned we need to print it in the order. I have tried many ways but couldn&#39;t solve it.","body":"@yitzih : The questioner clearly mentioned we need to print it in the order. I have tried many ways but couldn&#39;t solve it."},{"owner":{"account_id":6211503,"reputation":321,"user_id":4861260,"display_name":"Vivek"},"score":0,"creation_date":1430725226,"post_id":30024821,"comment_id":48166995,"body_markdown":"@CodeCat : throwing IllegalMonitorStateException for all the 10 threads. please find below snippet \n\nException in thread &quot;6&quot; java.lang.IllegalMonitorStateException\n\tat java.lang.Object.wait(Native Method)\n\tat java.lang.Object.wait(Object.java:485)\n\tat thread.run(MyThread.java:58)\n\tat java.lang.Thread.run(Unknown Source)","body":"@CodeCat : throwing IllegalMonitorStateException for all the 10 threads. please find below snippet   Exception in thread &quot;6&quot; java.lang.IllegalMonitorStateException \tat java.lang.Object.wait(Native Method) \tat java.lang.Object.wait(Object.java:485) \tat thread.run(MyThread.java:58) \tat java.lang.Thread.run(Unknown Source)"},{"owner":{"account_id":1257650,"reputation":23479,"user_id":1216775,"accept_rate":54,"display_name":"akhil_mittal"},"score":0,"creation_date":1430738766,"post_id":30024821,"comment_id":48174197,"body_markdown":"Though this is not what threads are meant for still I have provided a generic solution that will work for n threads.","body":"Though this is not what threads are meant for still I have provided a generic solution that will work for n threads."},{"owner":{"account_id":372293,"reputation":180467,"user_id":721269,"accept_rate":100,"display_name":"David Schwartz"},"score":0,"creation_date":1438332383,"post_id":30024821,"comment_id":51417623,"body_markdown":"Why is it that the first thing everyone tries to do with threads is to totally defeat the entire point of using threads in the first place?","body":"Why is it that the first thing everyone tries to do with threads is to totally defeat the entire point of using threads in the first place?"},{"owner":{"account_id":6671833,"reputation":225,"user_id":5147750,"accept_rate":75,"display_name":"Sameer Jadhav"},"score":0,"creation_date":1585750881,"post_id":30024821,"comment_id":107872704,"body_markdown":"@Vivek You are getting that exception because you are using mutex as &quot;lock&quot; and calling wait() and notifyAll() using &quot;this&quot;","body":"@Vivek You are getting that exception because you are using mutex as &quot;lock&quot; and calling wait() and notifyAll() using &quot;this&quot;"}],"answers":[{"tags":[],"owner":{"account_id":4507607,"reputation":1549,"user_id":3664574,"accept_rate":80,"display_name":"Aviad"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1430725043,"creation_date":1430725043,"answer_id":30024915,"question_id":30024821,"body_markdown":"The simple thing to do is to hold common resource for all of them.\r\nHold a List&lt;Integer&gt; and every thread will insert into the list, in the end you can sort and print.. \r\nIf you want them to do it on your order it won&#39;t be very effective because you won&#39;t need 10 threads to do it..\r\n\r\nThis way it will be faster and will use 10 threads to do some work, but when everyone finish you still need to do some work","title":"Print 1 to 100 using 10 threads in java","body":"<p>The simple thing to do is to hold common resource for all of them.\nHold a List and every thread will insert into the list, in the end you can sort and print.. \nIf you want them to do it on your order it won't be very effective because you won't need 10 threads to do it..</p>\n\n<p>This way it will be faster and will use 10 threads to do some work, but when everyone finish you still need to do some work</p>\n"},{"tags":[],"owner":{"account_id":5255091,"reputation":1122,"user_id":4198211,"accept_rate":90,"display_name":"Mohan Raj"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1430727239,"creation_date":1430726823,"answer_id":30025412,"question_id":30024821,"body_markdown":"    public class PrintNumbersbyThreads implements Runnable {\r\n        private int i;\r\n    \r\n        public PrintNumbersbyThreads(int i) {\r\n            this.i = i;\r\n        }\r\n\r\n        public static void main(String[] args) {\r\n            PrintNumbersbyThreads p = new PrintNumbersbyThreads(1);\r\n            PrintNumbersbyThreads p2 = new PrintNumbersbyThreads(2);\r\n            PrintNumbersbyThreads p3 = new PrintNumbersbyThreads(3);\r\n            Thread t1 = new Thread(p, &quot;t1&quot;);\r\n            Thread t2 = new Thread(p2, &quot;t2&quot;);\r\n            Thread t3 = new Thread(p3, &quot;t3&quot;);\r\n            t1.start();\r\n    \r\n            try {\r\n                t1.join();\r\n                t2.start();\r\n                t2.join();\r\n                t3.start();\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public void run() {\r\n            System.out.println(&quot;\\n&quot; + Thread.currentThread().getName() + &quot; prints  &quot;);\r\n            for (int j = 0; j &lt; 10; j++) {\r\n                System.out.print(i + &quot; &quot;);\r\n                i = i + 10;\r\n            }\r\n        }\r\n    }\r\n\r\nWritten sample code 3 Threads and the output is \r\n\r\n`t1` prints:  \r\n\r\n&gt; 1 11 21 31 41 51 61 71 81 91\r\n\r\n`t2` prints:\r\n\r\n&gt; 2 12 22 32 42 52 62 72 82 92\r\n\r\n`t3` prints: \r\n\r\n&gt; 3 13 23 33 43 53 63 73 83 93\r\n\r\nHope this is what you are Looking for?","title":"Print 1 to 100 using 10 threads in java","body":"<pre><code>public class PrintNumbersbyThreads implements Runnable {\n    private int i;\n\n    public PrintNumbersbyThreads(int i) {\n        this.i = i;\n    }\n\n    public static void main(String[] args) {\n        PrintNumbersbyThreads p = new PrintNumbersbyThreads(1);\n        PrintNumbersbyThreads p2 = new PrintNumbersbyThreads(2);\n        PrintNumbersbyThreads p3 = new PrintNumbersbyThreads(3);\n        Thread t1 = new Thread(p, \"t1\");\n        Thread t2 = new Thread(p2, \"t2\");\n        Thread t3 = new Thread(p3, \"t3\");\n        t1.start();\n\n        try {\n            t1.join();\n            t2.start();\n            t2.join();\n            t3.start();\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n    }\n\n    @Override\n    public void run() {\n        System.out.println(\"\\n\" + Thread.currentThread().getName() + \" prints  \");\n        for (int j = 0; j &lt; 10; j++) {\n            System.out.print(i + \" \");\n            i = i + 10;\n        }\n    }\n}\n</code></pre>\n\n<p>Written sample code 3 Threads and the output is </p>\n\n<p><code>t1</code> prints:  </p>\n\n<blockquote>\n  <p>1 11 21 31 41 51 61 71 81 91</p>\n</blockquote>\n\n<p><code>t2</code> prints:</p>\n\n<blockquote>\n  <p>2 12 22 32 42 52 62 72 82 92</p>\n</blockquote>\n\n<p><code>t3</code> prints: </p>\n\n<blockquote>\n  <p>3 13 23 33 43 53 63 73 83 93</p>\n</blockquote>\n\n<p>Hope this is what you are Looking for?</p>\n"},{"tags":[],"owner":{"account_id":1734091,"reputation":92376,"user_id":1587046,"accept_rate":62,"display_name":"Alexis C."},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1430729656,"creation_date":1430727796,"answer_id":30025657,"question_id":30024821,"body_markdown":"The simplest way would be to have a volatile variable from which each thread reads in and update according to its turn, otherwise it just waits until his turn. When `counter` is equals to `100` you stop all threads to run by breaking the outer loop.\r\n\r\n    class MyRunnable implements Runnable {\r\n\r\n        private static final int LIMIT = 20;\r\n        private static volatile int counter = 0;\r\n        private int id;\r\n    \r\n        public MyRunnable(int id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        @Override\r\n        public void run() {\r\n            outer:\r\n            while(counter &lt; LIMIT) {\r\n                while (counter % NB_THREADS != id) {\r\n                    if(counter == LIMIT) break outer;\r\n                }\r\n                System.out.println(&quot;Thread &quot;+Thread.currentThread().getName()+ &quot; printed &quot; + counter);\r\n                counter += 1;\r\n            }\r\n        }\r\n    }\r\n\r\nGiven a LIMIT of 20 and 10 threads, it outputs:\r\n\r\n    Thread 0 printed 0\r\n    Thread 1 printed 1\r\n    Thread 2 printed 2\r\n    Thread 3 printed 3\r\n    Thread 4 printed 4\r\n    Thread 5 printed 5\r\n    Thread 6 printed 6\r\n    Thread 7 printed 7\r\n    Thread 8 printed 8\r\n    Thread 9 printed 9\r\n    Thread 0 printed 10\r\n    Thread 1 printed 11\r\n    Thread 2 printed 12\r\n    Thread 3 printed 13\r\n    Thread 4 printed 14\r\n    Thread 5 printed 15\r\n    Thread 6 printed 16\r\n    Thread 7 printed 17\r\n    Thread 8 printed 18\r\n    Thread 9 printed 19\r\n\r\nOf course, this is a very bad usage of multithreading because each thread waits its turn to print and increment the counter. \r\n\r\nMultithreading works well when threads can work independently of another for relatively long time&#39;s window, and then may occasionally meet up to compare or combine their results if needed. \r\n\r\nFor example in the fork-join model, each thread does its task independently then their results are merged to produce the final outcome, such as in a merge sort for example. But this assume that the task can be easily parallelizable into independant subtasks, which is not the case here because your final output should be consecutive numbers.\r\n\r\nSo here a simple loop would be largely more efficient, but I can understand it&#39;s for learning purposes.","title":"Print 1 to 100 using 10 threads in java","body":"<p>The simplest way would be to have a volatile variable from which each thread reads in and update according to its turn, otherwise it just waits until his turn. When <code>counter</code> is equals to <code>100</code> you stop all threads to run by breaking the outer loop.</p>\n\n<pre><code>class MyRunnable implements Runnable {\n\n    private static final int LIMIT = 20;\n    private static volatile int counter = 0;\n    private int id;\n\n    public MyRunnable(int id) {\n        this.id = id;\n    }\n\n    @Override\n    public void run() {\n        outer:\n        while(counter &lt; LIMIT) {\n            while (counter % NB_THREADS != id) {\n                if(counter == LIMIT) break outer;\n            }\n            System.out.println(\"Thread \"+Thread.currentThread().getName()+ \" printed \" + counter);\n            counter += 1;\n        }\n    }\n}\n</code></pre>\n\n<p>Given a LIMIT of 20 and 10 threads, it outputs:</p>\n\n<pre><code>Thread 0 printed 0\nThread 1 printed 1\nThread 2 printed 2\nThread 3 printed 3\nThread 4 printed 4\nThread 5 printed 5\nThread 6 printed 6\nThread 7 printed 7\nThread 8 printed 8\nThread 9 printed 9\nThread 0 printed 10\nThread 1 printed 11\nThread 2 printed 12\nThread 3 printed 13\nThread 4 printed 14\nThread 5 printed 15\nThread 6 printed 16\nThread 7 printed 17\nThread 8 printed 18\nThread 9 printed 19\n</code></pre>\n\n<p>Of course, this is a very bad usage of multithreading because each thread waits its turn to print and increment the counter. </p>\n\n<p>Multithreading works well when threads can work independently of another for relatively long time's window, and then may occasionally meet up to compare or combine their results if needed. </p>\n\n<p>For example in the fork-join model, each thread does its task independently then their results are merged to produce the final outcome, such as in a merge sort for example. But this assume that the task can be easily parallelizable into independant subtasks, which is not the case here because your final output should be consecutive numbers.</p>\n\n<p>So here a simple loop would be largely more efficient, but I can understand it's for learning purposes.</p>\n"},{"tags":[],"owner":{"account_id":82865,"reputation":6321,"user_id":232695,"accept_rate":85,"display_name":"artaxerxe"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1430728332,"creation_date":1430728332,"answer_id":30025783,"question_id":30024821,"body_markdown":"Error is thrown due to calling of `wait` not on proper object. `wait()` should be called on object on which lock is acquired, the one implied by `synchronized` keyword.","title":"Print 1 to 100 using 10 threads in java","body":"<p>Error is thrown due to calling of <code>wait</code> not on proper object. <code>wait()</code> should be called on object on which lock is acquired, the one implied by <code>synchronized</code> keyword.</p>\n"},{"tags":[],"owner":{"account_id":887267,"reputation":2417,"user_id":2679432,"accept_rate":25,"display_name":"user4127"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1430730472,"creation_date":1430729743,"answer_id":30026166,"question_id":30024821,"body_markdown":"Hope this helps =) Took me an hour to do it. \r\n\r\n    package com.xxxx.simpleapp;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    public class TenThreads {\r\n    \r\n    \tpublic int currentTaskValue = 1;\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tTenThreads monitor = new TenThreads();\r\n    \t\tList&lt;ModThread&gt; list = new ArrayList();\r\n    \t\tfor (int i = 0; i &lt; 10; i++) {\r\n    \t\t\tModThread modThread = new ModThread(i, monitor);\r\n    \t\t\tlist.add(modThread);\r\n    \t\t}\r\n    \t\tfor (ModThread a : list) {\r\n    \t\t\ta.start();\r\n    \t\t}\r\n    \t}\r\n    \r\n    }\r\n    \r\n    class ModThread extends Thread {\r\n    \tprivate int modValue;\r\n    \tprivate TenThreads monitor;\r\n    \r\n    \tpublic ModThread(int modValue, TenThreads monitor) {\r\n    \t\tthis.modValue = modValue;\r\n    \t\tthis.monitor = monitor;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void run() {\r\n    \t\tsynchronized (monitor) {\r\n    \t\t\ttry {\r\n    \t\t\t\twhile (true) {\r\n    \t\t\t\t\twhile (monitor.currentTaskValue % 10 != modValue) {\r\n    \t\t\t\t\t\tmonitor.wait();\r\n    \t\t\t\t\t}\r\n    \r\n    \t\t\t\t\tif (monitor.currentTaskValue == 101) {\r\n    \t\t\t\t\t\tbreak;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\tSystem.out.println(Thread.currentThread().getName() + &quot; : &quot;\r\n    \t\t\t\t\t\t\t+ monitor.currentTaskValue + &quot; ,&quot;);\r\n    \t\t\t\t\tmonitor.currentTaskValue = monitor.currentTaskValue + 1;\r\n    \t\t\t\t\tmonitor.notifyAll();\r\n    \t\t\t\t}\r\n    \t\t\t} catch (InterruptedException e) {\r\n    \t\t\t\t// TODO Auto-generated catch block\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\noutput\r\n\r\n    Thread-1 : 1 ,\r\n    Thread-2 : 2 ,\r\n    Thread-3 : 3 ,\r\n    Thread-4 : 4 ,\r\n    Thread-5 : 5 ,\r\n    Thread-6 : 6 ,\r\n    Thread-7 : 7 ,\r\n    Thread-8 : 8 ,\r\n    Thread-9 : 9 ,\r\n    ......\r\n    .....\r\n    ...\r\n    Thread-4 : 94 ,\r\n    Thread-5 : 95 ,\r\n    Thread-6 : 96 ,\r\n    Thread-7 : 97 ,\r\n    Thread-8 : 98 ,\r\n    Thread-9 : 99 ,\r\n    Thread-0 : 100 ,\r\n\r\nDocumentation are intentionally left out for you to figure it out, there are minor bugs too! \r\n","title":"Print 1 to 100 using 10 threads in java","body":"<p>Hope this helps =) Took me an hour to do it. </p>\n\n<pre><code>package com.xxxx.simpleapp;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class TenThreads {\n\n    public int currentTaskValue = 1;\n\n    public static void main(String[] args) {\n        TenThreads monitor = new TenThreads();\n        List&lt;ModThread&gt; list = new ArrayList();\n        for (int i = 0; i &lt; 10; i++) {\n            ModThread modThread = new ModThread(i, monitor);\n            list.add(modThread);\n        }\n        for (ModThread a : list) {\n            a.start();\n        }\n    }\n\n}\n\nclass ModThread extends Thread {\n    private int modValue;\n    private TenThreads monitor;\n\n    public ModThread(int modValue, TenThreads monitor) {\n        this.modValue = modValue;\n        this.monitor = monitor;\n    }\n\n    @Override\n    public void run() {\n        synchronized (monitor) {\n            try {\n                while (true) {\n                    while (monitor.currentTaskValue % 10 != modValue) {\n                        monitor.wait();\n                    }\n\n                    if (monitor.currentTaskValue == 101) {\n                        break;\n                    }\n                    System.out.println(Thread.currentThread().getName() + \" : \"\n                            + monitor.currentTaskValue + \" ,\");\n                    monitor.currentTaskValue = monitor.currentTaskValue + 1;\n                    monitor.notifyAll();\n                }\n            } catch (InterruptedException e) {\n                // TODO Auto-generated catch block\n                e.printStackTrace();\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>output</p>\n\n<pre><code>Thread-1 : 1 ,\nThread-2 : 2 ,\nThread-3 : 3 ,\nThread-4 : 4 ,\nThread-5 : 5 ,\nThread-6 : 6 ,\nThread-7 : 7 ,\nThread-8 : 8 ,\nThread-9 : 9 ,\n......\n.....\n...\nThread-4 : 94 ,\nThread-5 : 95 ,\nThread-6 : 96 ,\nThread-7 : 97 ,\nThread-8 : 98 ,\nThread-9 : 99 ,\nThread-0 : 100 ,\n</code></pre>\n\n<p>Documentation are intentionally left out for you to figure it out, there are minor bugs too! </p>\n"},{"tags":[],"owner":{"account_id":1257650,"reputation":23479,"user_id":1216775,"accept_rate":54,"display_name":"akhil_mittal"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1430738711,"creation_date":1430738711,"answer_id":30028951,"question_id":30024821,"body_markdown":"I have written one generic code which will take the number till where you want to print and the number of threads to be used.\r\n\r\n\r\n    public class ThreadedPrinting {\r\n        private Object locks[];\r\n    \r\n        private static class Printer extends Thread {\r\n            int curVal;\r\n            int endVal;\r\n            Object myLock;\r\n            Object nextLock;\r\n            int step;\r\n    \r\n            public Printer(int startFrom, int endVal, int step, Object myLock, Object nextLock){\r\n                this.curVal = startFrom;\r\n                this.endVal = endVal;\r\n                this.step = step;\r\n                this.myLock = myLock;\r\n                this.nextLock = nextLock;\r\n                this.step = step;\r\n            }\r\n    \r\n            @Override\r\n            public void run(){\r\n                synchronized(myLock) {\r\n                    while (curVal &lt;= endVal) {\r\n                        try {\r\n                            myLock.wait();\r\n                            System.out.println(curVal);\r\n                            curVal += step;\r\n                        }\r\n                        catch(InterruptedException e) {}\r\n                        synchronized(nextLock) {\r\n                            nextLock.notify();\r\n                        }\r\n                    }\r\n                }\r\n                synchronized(nextLock) {\r\n                    nextLock.notify(); /// this ensures all worker threads exiting at the end\r\n                }\r\n            }\r\n        } // Printer\r\n    \r\n        public ThreadedPrinting(int maxNum, int threads) {\r\n            locks = new Object[threads];\r\n            int i;\r\n            for(i = 0; i &lt; threads; ++i) locks[i] = new Object();\r\n            for(i = 0; i &lt; threads -1 ; ++i) {\r\n                Printer curPrinter = new Printer(i, maxNum, threads, locks[i], locks[i+1]);\r\n                curPrinter.start();\r\n            }\r\n            Printer lastPrinter = new Printer(i, maxNum, threads, locks[threads - 1], locks[0]);\r\n            lastPrinter.start();\r\n        }\r\n    \r\n        public void start() {\r\n            synchronized (locks[0]) {\r\n                locks[0].notify();\r\n            }\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            ThreadedPrinting printer = new ThreadedPrinting(1000,7);\r\n            printer.start();\r\n        }\r\n    }\r\n\r\nThe same problem can be solved by usign Phaser as well but the order is not restrictive but will be in round-robin fashion. I have provided the solution for similar problem [here][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/18314852/running-threads-in-round-robin-fashion-in-java/29934870#29934870","title":"Print 1 to 100 using 10 threads in java","body":"<p>I have written one generic code which will take the number till where you want to print and the number of threads to be used.</p>\n\n<pre><code>public class ThreadedPrinting {\n    private Object locks[];\n\n    private static class Printer extends Thread {\n        int curVal;\n        int endVal;\n        Object myLock;\n        Object nextLock;\n        int step;\n\n        public Printer(int startFrom, int endVal, int step, Object myLock, Object nextLock){\n            this.curVal = startFrom;\n            this.endVal = endVal;\n            this.step = step;\n            this.myLock = myLock;\n            this.nextLock = nextLock;\n            this.step = step;\n        }\n\n        @Override\n        public void run(){\n            synchronized(myLock) {\n                while (curVal &lt;= endVal) {\n                    try {\n                        myLock.wait();\n                        System.out.println(curVal);\n                        curVal += step;\n                    }\n                    catch(InterruptedException e) {}\n                    synchronized(nextLock) {\n                        nextLock.notify();\n                    }\n                }\n            }\n            synchronized(nextLock) {\n                nextLock.notify(); /// this ensures all worker threads exiting at the end\n            }\n        }\n    } // Printer\n\n    public ThreadedPrinting(int maxNum, int threads) {\n        locks = new Object[threads];\n        int i;\n        for(i = 0; i &lt; threads; ++i) locks[i] = new Object();\n        for(i = 0; i &lt; threads -1 ; ++i) {\n            Printer curPrinter = new Printer(i, maxNum, threads, locks[i], locks[i+1]);\n            curPrinter.start();\n        }\n        Printer lastPrinter = new Printer(i, maxNum, threads, locks[threads - 1], locks[0]);\n        lastPrinter.start();\n    }\n\n    public void start() {\n        synchronized (locks[0]) {\n            locks[0].notify();\n        }\n    }\n\n    public static void main(String[] args) {\n        ThreadedPrinting printer = new ThreadedPrinting(1000,7);\n        printer.start();\n    }\n}\n</code></pre>\n\n<p>The same problem can be solved by usign Phaser as well but the order is not restrictive but will be in round-robin fashion. I have provided the solution for similar problem <a href=\"https://stackoverflow.com/questions/18314852/running-threads-in-round-robin-fashion-in-java/29934870#29934870\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":5319774,"reputation":343,"user_id":4243562,"display_name":"acearch"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1430747780,"creation_date":1430747780,"answer_id":30031996,"question_id":30024821,"body_markdown":"Well I do not have the code...but the perspective seems to be\r\nthat there are 100 tasks to be executed each of incrementing\r\na count by 1.\r\nSo there could be a ThreadPool of say 10 threads and these\r\nthreads are incrementing the shared count value...\r\nOnly point to consider is that the Thread pools worker threads\r\nhave to sequentially execute their tasks one after the other\r\nand the thread sequence for the 10 have to be maintained...\r\n","title":"Print 1 to 100 using 10 threads in java","body":"<p>Well I do not have the code...but the perspective seems to be\nthat there are 100 tasks to be executed each of incrementing\na count by 1.\nSo there could be a ThreadPool of say 10 threads and these\nthreads are incrementing the shared count value...\nOnly point to consider is that the Thread pools worker threads\nhave to sequentially execute their tasks one after the other\nand the thread sequence for the 10 have to be maintained...</p>\n"},{"tags":[],"owner":{"account_id":6107867,"reputation":1493,"user_id":4765105,"accept_rate":50,"display_name":"Ashutosh Jha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1438332394,"creation_date":1438331898,"answer_id":31741716,"question_id":30024821,"body_markdown":"    public class BigSequence {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tBigPrintNum p = new BigPrintNum();\r\n    \t\tint max = 20;\r\n    \t\tint no_threads = 11;\r\n    \t\tfor(int i=0;i&lt;no_threads;i++){\r\n    \t\t\tboolean b[] = new boolean[no_threads];\r\n    \t\t\tb[i] = true;\r\n    \t\t\tThread t = new Thread(new BigPrint(p, max, b,no_threads));\r\n    \t\t\tt.start();\r\n    \t\t}\r\n    \t}\r\n    }\r\n    class BigPrint implements Runnable {\r\n    \r\n    \tint num=0;\r\n    \tBigPrintNum p;\r\n    \tint max;\r\n    \tint no_threads;\r\n    \tboolean b[];\r\n    \tpublic BigPrint(BigPrintNum p,int max,boolean b[],int no_threads){\r\n    \t\tthis.p = p;\r\n    \t\tthis.max = max;\r\n    \t\tthis.b = b;\r\n    \t\tthis.no_threads = no_threads;\r\n    \t}\r\n    \t@Override\r\n    \tpublic void run() {\r\n    \t\tint n = 0;\r\n    \t\tfor(int i=0;i&lt;no_threads;i++){\r\n    \t\t\tif(b[i] == true){\r\n    \t\t\t\tn = i;\r\n    \t\t\t\tnum = i;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\twhile(num&lt;=max){\r\n    \t\t\tp.print(num, n, no_threads);\r\n    \t\t\tnum += no_threads;\r\n    \t\t}\r\n    \t}\t\r\n    }\r\n    class BigPrintNum {\r\n    \tint turn = 0;\r\n    \tpublic synchronized void print(int n,int i,int no_threads){\r\n    \t\twhile(this.turn != i){\r\n    \t\t\ttry{\r\n    \t\t\t\twait();\r\n    \t\t\t}catch(InterruptedException e){\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tSystem.out.println(i + &quot;th seq = &quot; + n);\r\n    \t\tthis.turn = (i+1)%no_threads;\r\n    \t\tnotifyAll();\r\n    \t}\r\n    }\r\n\r\nIts a generic one, where we can use any number of threads and use any max value.\r\n\r\n","title":"Print 1 to 100 using 10 threads in java","body":"<pre><code>public class BigSequence {\n    public static void main(String[] args) {\n        BigPrintNum p = new BigPrintNum();\n        int max = 20;\n        int no_threads = 11;\n        for(int i=0;i&lt;no_threads;i++){\n            boolean b[] = new boolean[no_threads];\n            b[i] = true;\n            Thread t = new Thread(new BigPrint(p, max, b,no_threads));\n            t.start();\n        }\n    }\n}\nclass BigPrint implements Runnable {\n\n    int num=0;\n    BigPrintNum p;\n    int max;\n    int no_threads;\n    boolean b[];\n    public BigPrint(BigPrintNum p,int max,boolean b[],int no_threads){\n        this.p = p;\n        this.max = max;\n        this.b = b;\n        this.no_threads = no_threads;\n    }\n    @Override\n    public void run() {\n        int n = 0;\n        for(int i=0;i&lt;no_threads;i++){\n            if(b[i] == true){\n                n = i;\n                num = i;\n            }\n        }\n        while(num&lt;=max){\n            p.print(num, n, no_threads);\n            num += no_threads;\n        }\n    }   \n}\nclass BigPrintNum {\n    int turn = 0;\n    public synchronized void print(int n,int i,int no_threads){\n        while(this.turn != i){\n            try{\n                wait();\n            }catch(InterruptedException e){\n                e.printStackTrace();\n            }\n        }\n        System.out.println(i + \"th seq = \" + n);\n        this.turn = (i+1)%no_threads;\n        notifyAll();\n    }\n}\n</code></pre>\n\n<p>Its a generic one, where we can use any number of threads and use any max value.</p>\n"},{"tags":[],"owner":{"account_id":6150542,"reputation":1,"user_id":4795051,"display_name":"Arjun Gole"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1553869065,"creation_date":1481102106,"answer_id":41013452,"question_id":30024821,"body_markdown":"    public class ThreadSequence \r\n    {\r\n    \r\n    \tpublic static int totalThread;\r\n    \tpublic static void main(String[] args) \r\n    \t{\r\n    \r\n    \t\tMyLock myLock = new MyLock();\r\n    \t\ttotalThread = 10;\r\n    \r\n    \t\tfor(int i=1;i&lt;=totalThread;i++)\r\n    \t\t{\r\n    \t\t\tMyThread myThread = new MyThread(i,myLock);\r\n    \t\t\tmyThread.start();\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n    \r\n    }\r\n&lt;br&gt;\r\n\r\n    class MyLock\r\n    {\r\n    \r\n    \tpublic int counter = 0;\r\n    \r\n    }\r\n\r\nMyThread Class\r\n\r\n\r\n    class MyThread extends Thread{\r\n    \r\n    \tpublic MyLock lock;\r\n    \tpublic int no;\r\n    \tpublic MyThread(int no,MyLock lock)\r\n    \t{\r\n    \t\tsuper(&quot;My Thread No &quot;+no);\r\n    \t\tthis.no = no;\r\n    \t\tthis.lock = lock;\r\n    \t}\r\n    \r\n    \tpublic void run()\r\n    \t{\r\n    \r\n    \t\tsynchronized (lock) \r\n    \t\t{\r\n    \r\n    \t\t\twhile(true)\r\n    \t\t\t{\r\n    \r\n    \t\t\t\twhile(lock.counter%ThreadSequence.totalThread !=(this.no-1))\r\n    \t\t\t\t{\r\n    \r\n    \t\t\t\t\ttry \r\n    \t\t\t\t\t{\r\n    \r\n    \t\t\t\t\t\tif(lock.counter &gt; 99)\r\n    \t\t\t\t\t\t{\r\n    \t\t\t\t\t\t\tbreak;\r\n    \t\t\t\t\t\t}\r\n    \r\n    \t\t\t\t\t\tlock.wait();\r\n    \r\n    \t\t\t\t\t} catch (InterruptedException e) \r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\te.printStackTrace();\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t\tif(lock.counter &gt; 99)\r\n    \t\t\t\t{\r\n    \t\t\t\t\tbreak;\r\n    \t\t\t\t}\r\n    \t\t\t\t\r\n    \t\t\t\tSystem.out.println(&quot;Current Thread &quot;+Thread.currentThread().currentThread()+&quot; --- Current Count &quot;+(lock.counter+1));\r\n    \t\t\t\tlock.counter = lock.counter +1 ;\r\n    \t\t\t\tlock.notifyAll();\t\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n    }","title":"Print 1 to 100 using 10 threads in java","body":"<pre><code>public class ThreadSequence \n{\n\n    public static int totalThread;\n    public static void main(String[] args) \n    {\n\n        MyLock myLock = new MyLock();\n        totalThread = 10;\n\n        for(int i=1;i&lt;=totalThread;i++)\n        {\n            MyThread myThread = new MyThread(i,myLock);\n            myThread.start();\n        }\n\n    }\n\n}\n</code></pre>\n\n<p><br></p>\n\n<pre><code>class MyLock\n{\n\n    public int counter = 0;\n\n}\n</code></pre>\n\n<p>MyThread Class</p>\n\n<pre><code>class MyThread extends Thread{\n\n    public MyLock lock;\n    public int no;\n    public MyThread(int no,MyLock lock)\n    {\n        super(\"My Thread No \"+no);\n        this.no = no;\n        this.lock = lock;\n    }\n\n    public void run()\n    {\n\n        synchronized (lock) \n        {\n\n            while(true)\n            {\n\n                while(lock.counter%ThreadSequence.totalThread !=(this.no-1))\n                {\n\n                    try \n                    {\n\n                        if(lock.counter &gt; 99)\n                        {\n                            break;\n                        }\n\n                        lock.wait();\n\n                    } catch (InterruptedException e) \n                    {\n                        e.printStackTrace();\n                    }\n                }\n                if(lock.counter &gt; 99)\n                {\n                    break;\n                }\n\n                System.out.println(\"Current Thread \"+Thread.currentThread().currentThread()+\" --- Current Count \"+(lock.counter+1));\n                lock.counter = lock.counter +1 ;\n                lock.notifyAll();   \n            }\n        }\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7445101,"reputation":153,"user_id":5661560,"display_name":"subin"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1487614069,"creation_date":1487317636,"answer_id":42292246,"question_id":30024821,"body_markdown":"Here is a solution for the problem.The current thread acquire the lock and we decide if the thread is eligible to execute (printing the number here). If so perform the operation and notify all threads that they can try now. Else wait till its notified by other threads.\r\n\r\n\r\n    public class MyThread extends Thread{\r\n\r\n\t//define the Total No.Of Threads needed\r\n\tpublic static final int TOTAL_THREADS = 10;\r\n\t\r\n\tpublic final static Object obj = new Object();\r\n\r\n\tint threadNo;\t\r\n\tstatic volatile int counter = 1;\r\n\t\r\n\tpublic MyThread(int threadNo){\r\n\t\tthis.threadNo= threadNo;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void run(){\r\n\t\t\r\n\t\t//in a synchronized block to acquire lock\r\n\t\tsynchronized (obj) {\r\n\t\t\t\r\n\t\t\twhile(counter&lt;=100){\r\n\t\t\t\t\r\n\t\t\t\t/*\r\n\t\t\t\t * counter==threadNo =&gt; To print the initial numbers till TOTAL_THREADS\r\n\t\t\t\t * counter%TOTAL_THREADS == threadNo =&gt; e.g 11%10 = 1 -&gt; 1 will print this, 12%10 = 2 ..\r\n\t\t\t\t * (counter%TOTAL_THREADS == 0) &amp;&amp; (TOTAL_THREADS == threadNo) =&gt; 10%10 will be 0, \r\n\t\t\t\t * \t\t\t\tand this must be printed by 10 th thread only, ie the highest thread.\r\n\t\t\t\t */\r\n\t\t\t\tif(counter == threadNo || (counter%TOTAL_THREADS == threadNo) ||\r\n\t\t\t\t\t\t((counter%TOTAL_THREADS == 0) &amp;&amp; (TOTAL_THREADS == threadNo))){\r\n\t\t\t\t\t\r\n\t\t\t\t\t//Display the output as desired\r\n\t\t\t\t\tSystem.out.println(this.threadNo+&quot; printing&quot;+&quot; &quot;+counter++);\r\n\t\t\t\t\t\r\n\t\t\t\t\t//notify\r\n\t\t\t\t\tobj.notifyAll();\r\n\t\t\t\t}else{\r\n\t\t\t\t\t\r\n\t\t\t\t\t//current thread not eligible for printing the current counter value, so wait till its notified\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tobj.wait();\r\n\t\t\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic static void main (String args[]) {\r\n\r\n\t\t/*\r\n\t\t * Creating as many threads as needed.\r\n\t\t */\r\n\t\tfor(int i = 1; i&lt;=TOTAL_THREADS;i++){\r\n\t\t\tMyThread th = new MyThread(i);\r\n\t\t\tth.start();\r\n\t\t}\r\n\t}\r\n}\r\n\r\n\r\nThe output will be&lt;br/&gt; \r\n1 printing 1,&lt;br/&gt;\r\n2 printing 2,&lt;br/&gt;\r\n3 printing 3,&lt;br/&gt;\r\n4 printing 4,&lt;br/&gt;\r\n5 printing 5,&lt;br/&gt;\r\n6 printing 6,&lt;br/&gt;\r\n7 printing 7,&lt;br/&gt;\r\n8 printing 8,&lt;br/&gt;\r\n9 printing 9,&lt;br/&gt;\r\n10 printing 10,&lt;br/&gt;\r\n1 printing 11,&lt;br/&gt;\r\n2 printing 12,&lt;br/&gt;\r\n3 printing 13,&lt;br/&gt;\r\n4 printing 14,&lt;br/&gt;\r\n...&lt;br/&gt;\r\n7 printing 97,&lt;br/&gt;\r\n8 printing 98,&lt;br/&gt;\r\n9 printing 99,&lt;br/&gt;\r\n10 printing 100&lt;br/&gt;","title":"Print 1 to 100 using 10 threads in java","body":"<p>Here is a solution for the problem.The current thread acquire the lock and we decide if the thread is eligible to execute (printing the number here). If so perform the operation and notify all threads that they can try now. Else wait till its notified by other threads.</p>\n\n<pre><code>public class MyThread extends Thread{\n\n//define the Total No.Of Threads needed\npublic static final int TOTAL_THREADS = 10;\n\npublic final static Object obj = new Object();\n\nint threadNo;   \nstatic volatile int counter = 1;\n\npublic MyThread(int threadNo){\n    this.threadNo= threadNo;\n}\n\n@Override\npublic void run(){\n\n    //in a synchronized block to acquire lock\n    synchronized (obj) {\n\n        while(counter&lt;=100){\n\n            /*\n             * counter==threadNo =&gt; To print the initial numbers till TOTAL_THREADS\n             * counter%TOTAL_THREADS == threadNo =&gt; e.g 11%10 = 1 -&gt; 1 will print this, 12%10 = 2 ..\n             * (counter%TOTAL_THREADS == 0) &amp;&amp; (TOTAL_THREADS == threadNo) =&gt; 10%10 will be 0, \n             *              and this must be printed by 10 th thread only, ie the highest thread.\n             */\n            if(counter == threadNo || (counter%TOTAL_THREADS == threadNo) ||\n                    ((counter%TOTAL_THREADS == 0) &amp;&amp; (TOTAL_THREADS == threadNo))){\n\n                //Display the output as desired\n                System.out.println(this.threadNo+\" printing\"+\" \"+counter++);\n\n                //notify\n                obj.notifyAll();\n            }else{\n\n                //current thread not eligible for printing the current counter value, so wait till its notified\n                try {\n                    obj.wait();\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n            }\n        }\n    }\n\n}\n\npublic static void main (String args[]) {\n\n    /*\n     * Creating as many threads as needed.\n     */\n    for(int i = 1; i&lt;=TOTAL_THREADS;i++){\n        MyThread th = new MyThread(i);\n        th.start();\n    }\n}\n</code></pre>\n\n<p>}</p>\n\n<p>The output will be<br/> \n1 printing 1,<br/>\n2 printing 2,<br/>\n3 printing 3,<br/>\n4 printing 4,<br/>\n5 printing 5,<br/>\n6 printing 6,<br/>\n7 printing 7,<br/>\n8 printing 8,<br/>\n9 printing 9,<br/>\n10 printing 10,<br/>\n1 printing 11,<br/>\n2 printing 12,<br/>\n3 printing 13,<br/>\n4 printing 14,<br/>\n...<br/>\n7 printing 97,<br/>\n8 printing 98,<br/>\n9 printing 99,<br/>\n10 printing 100<br/></p>\n"},{"tags":[],"owner":{"account_id":7181993,"reputation":66,"user_id":5485554,"display_name":"Srinivas karre"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1611541668,"creation_date":1611541668,"answer_id":65878222,"question_id":30024821,"body_markdown":"One simple way to solve this is use below state in runnable class\r\n\r\n```\r\n private final int index;\r\n private final AtomicInteger atomicInteger;\r\n private final CyclicBarrier cyclicBarrier;\r\n\r\n```\r\n\r\nindex - is responsible for conditional verification i.e., which number this thread should print.\r\natomicInteger - shared across all threads for current number.\r\nCyclic barrier - makes all threads to wait unit a every thread completes a cycle/iteration.\r\n\r\n\r\nCode sample:\r\n\r\n\r\n```\r\npublic class PrintSequence {\r\n\r\n\r\n    public static void main(String[] args) {\r\n        ExecutorService executorService = Executors.newFixedThreadPool(10);\r\n        final AtomicInteger atomicInteger = new AtomicInteger(1);\r\n        final CyclicBarrier cyclicBarrier = new CyclicBarrier(10, ()-&gt; {\r\n            System.out.println(&quot;a cycle done&quot;);\r\n        });\r\n\r\n        IntStream.rangeClosed(0, 9)\r\n                .boxed()\r\n                .map(i -&gt; new PrintSequenceTask(i, atomicInteger, cyclicBarrier))\r\n                .map(p -&gt; executorService.submit(p))\r\n                .collect(Collectors.toList());\r\n\r\n        executorService.shutdown();\r\n\r\n    }\r\n}\r\n\r\n\r\nclass PrintSequenceTask implements Runnable {\r\n    private final int index;\r\n    private final AtomicInteger atomicInteger;\r\n    private final CyclicBarrier cyclicBarrier;\r\n\r\n    PrintSequenceTask(int index, AtomicInteger atomicInteger, CyclicBarrier cyclicBarrier) {\r\n        this.index = index;\r\n        this.atomicInteger = atomicInteger;\r\n        this.cyclicBarrier = cyclicBarrier;\r\n    }\r\n\r\n    @Override\r\n    public void run(){\r\n        for(int i=1; i&lt;10;i++){\r\n            while (((atomicInteger.get()-index-1)%10 != 0)){}\r\n            System.out.println(Thread.currentThread().getName()+&quot; &quot;+(atomicInteger.get()));\r\n            atomicInteger.getAndIncrement();\r\n            await();\r\n        }\r\n    }\r\n\r\n    public void await(){\r\n        try {\r\n            cyclicBarrier.await();\r\n        } catch (InterruptedException e) {\r\n            e.printStackTrace();\r\n        } catch (BrokenBarrierException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n","title":"Print 1 to 100 using 10 threads in java","body":"<p>One simple way to solve this is use below state in runnable class</p>\n<pre><code> private final int index;\n private final AtomicInteger atomicInteger;\n private final CyclicBarrier cyclicBarrier;\n\n</code></pre>\n<p>index - is responsible for conditional verification i.e., which number this thread should print.\natomicInteger - shared across all threads for current number.\nCyclic barrier - makes all threads to wait unit a every thread completes a cycle/iteration.</p>\n<p>Code sample:</p>\n<pre><code>public class PrintSequence {\n\n\n    public static void main(String[] args) {\n        ExecutorService executorService = Executors.newFixedThreadPool(10);\n        final AtomicInteger atomicInteger = new AtomicInteger(1);\n        final CyclicBarrier cyclicBarrier = new CyclicBarrier(10, ()-&gt; {\n            System.out.println(&quot;a cycle done&quot;);\n        });\n\n        IntStream.rangeClosed(0, 9)\n                .boxed()\n                .map(i -&gt; new PrintSequenceTask(i, atomicInteger, cyclicBarrier))\n                .map(p -&gt; executorService.submit(p))\n                .collect(Collectors.toList());\n\n        executorService.shutdown();\n\n    }\n}\n\n\nclass PrintSequenceTask implements Runnable {\n    private final int index;\n    private final AtomicInteger atomicInteger;\n    private final CyclicBarrier cyclicBarrier;\n\n    PrintSequenceTask(int index, AtomicInteger atomicInteger, CyclicBarrier cyclicBarrier) {\n        this.index = index;\n        this.atomicInteger = atomicInteger;\n        this.cyclicBarrier = cyclicBarrier;\n    }\n\n    @Override\n    public void run(){\n        for(int i=1; i&lt;10;i++){\n            while (((atomicInteger.get()-index-1)%10 != 0)){}\n            System.out.println(Thread.currentThread().getName()+&quot; &quot;+(atomicInteger.get()));\n            atomicInteger.getAndIncrement();\n            await();\n        }\n    }\n\n    public void await(){\n        try {\n            cyclicBarrier.await();\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        } catch (BrokenBarrierException e) {\n            e.printStackTrace();\n        }\n    }\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11570218,"reputation":831,"user_id":8477216,"display_name":"Sushilkumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671364638,"creation_date":1671364074,"answer_id":74841049,"question_id":30024821,"body_markdown":"print 1 to 100 number alternatively by each thread similar way you can print for 10 threads- m1 and m2 like \r\nm1-1\r\nm2-2\r\nm3-3\r\nm4-4\r\n\r\n\r\n    public class MultiThread extends Thread {\r\n        static volatile int  num=0;\r\n        public static void main(String[] args) {\r\n            MultiThread m1= new MultiThread();\r\n            MultiThread m2= new MultiThread();\r\n            m1.setName(&quot;m1&quot;);\r\n            m1.setPriority(5);\r\n            m2.setName(&quot;m2&quot;);\r\n            m2.setPriority(5);\r\n            m1.start();\r\n            m2.start();\r\n        }\r\n    \r\n        @Override\r\n        public void run() {\r\n            while(num&lt;100) {\r\n                num +=1;\r\n                print();\r\n            }\r\n    \r\n        }\r\n    \r\n        private void print(){\r\n            synchronized(this) {\r\n                System.out.println(currentThread().getName()+&quot; &quot;+ num);\r\n                try {\r\n                    currentThread().wait(500);\r\n                } catch (InterruptedException e) {\r\n                    throw new RuntimeException(e);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Print 1 to 100 using 10 threads in java","body":"<p>print 1 to 100 number alternatively by each thread similar way you can print for 10 threads- m1 and m2 like\nm1-1\nm2-2\nm3-3\nm4-4</p>\n<pre><code>public class MultiThread extends Thread {\n    static volatile int  num=0;\n    public static void main(String[] args) {\n        MultiThread m1= new MultiThread();\n        MultiThread m2= new MultiThread();\n        m1.setName(&quot;m1&quot;);\n        m1.setPriority(5);\n        m2.setName(&quot;m2&quot;);\n        m2.setPriority(5);\n        m1.start();\n        m2.start();\n    }\n\n    @Override\n    public void run() {\n        while(num&lt;100) {\n            num +=1;\n            print();\n        }\n\n    }\n\n    private void print(){\n        synchronized(this) {\n            System.out.println(currentThread().getName()+&quot; &quot;+ num);\n            try {\n                currentThread().wait(500);\n            } catch (InterruptedException e) {\n                throw new RuntimeException(e);\n            }\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":6211503,"reputation":321,"user_id":4861260,"display_name":"Vivek"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37609,"favorite_count":0,"down_vote_count":1,"up_vote_count":10,"answer_count":12,"score":9,"last_activity_date":1671364638,"creation_date":1430724621,"question_id":30024821,"body_markdown":"I&#39;m new to muti-threading and I got a question to print 1 to 100 using 10 threads in Java with below constrain.\r\n\r\n1. Thread `t1` should print:\r\n &gt; 1, 11, 21, 31, ... 91\r\n\r\n   `t2` should print:\r\n &gt; 2, 12, 22, 32, ... 92\r\n\r\n   likewise\r\n\r\n   `t10` should print:\r\n &gt; 10, 20, 30, ... 100\r\n\r\n2. The final output should be\r\n &gt; 1 2 3 .. 100\r\n\r\n\r\nI have tried it, but it is throwing the following exception in all 10 threads:\r\n\r\n    java.lang.IllegalMonitorStateException\r\n        at java.lang.Object.wait(Native Method)\r\n        at java.lang.Object.wait(Object.java:485)\r\n        at thread.run(MyThread.java:58)\r\n        at java.lang.Thread.run(Unknown Source) \r\n\r\nPlease let me know how I can solve this problem.\r\n    \r\n    public class MyThread {\r\n        /**\r\n\t     * @param args\r\n\t     */\r\n\t    public static void main(String[] args) {\r\n\t    \tthread.setSequence();\r\n\t    \tfor(int i = 1; i &lt;= 10; i++) {\r\n\t\t    \tThread t = new Thread(new thread(i));\r\n\t    \t\tt.setName(i + &quot;&quot;);\r\n\t\t    \tt.start();\r\n\t\t    }\r\n\t    }\r\n    }\r\n    \r\n    class thread implements Runnable {\r\n\t    private static HashMap&lt; String, String&gt; sequence = new HashMap&lt;String, String&gt;();\r\n\r\n\t    public static final Object lock = new Object();\r\n\t    public static String turn = &quot;1&quot;; \r\n\t    private int startValue = 0;\r\n\t    private AtomicInteger counter = new AtomicInteger(1);\r\n\t\r\n\t    public thread(int startValue){\r\n\t\t    this.startValue = startValue;\r\n\t    }\r\n\r\n\t    @Override\r\n\t    public void run() {\r\n\t\t\twhile (!counter.equals(10)){\r\n\t\t\t\tsynchronized (lock) {\r\n\t\t\t\t\tif(Thread.currentThread().getName().equals(turn)){\t\r\n\t\t\t\t\t\tSystem.out.print(startValue + &quot; &quot;);\r\n\t\t\t\t\t\tstartValue += 10;\r\n\t\t\t\t\t\tcounter.incrementAndGet();\r\n\t\t\t\t\t\tturn = getNextTurn(turn);\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tthis.wait();\r\n\t\t\t\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse{\t\t\t\t\t\t\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tthis.wait();\r\n\t\t\t\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.notifyAll();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t    }\r\n\t\r\n\t    public static void setSequence(){\r\n\t\t    for (int i = 1; i &lt;= 10; i++)\r\n\t\t\t    if (i == 10)\r\n\t\t\t\t    sequence.put(i + &quot;&quot;, 1 + &quot;&quot;);\r\n\t\t\t    else\r\n\t\t\t\t    sequence.put(i + &quot;&quot;, (i + 1) + &quot;&quot;);\r\n\t    }\r\n\r\n\t    public static String getNextTurn(String currentTurn){\r\n\t\t    return sequence.get(currentTurn);\r\n\t    }\r\n    }","title":"Print 1 to 100 using 10 threads in java","body":"<p>I'm new to muti-threading and I got a question to print 1 to 100 using 10 threads in Java with below constrain.</p>\n\n<ol>\n<li><p>Thread <code>t1</code> should print:</p>\n\n<blockquote>\n  <p>1, 11, 21, 31, ... 91</p>\n</blockquote>\n\n<p><code>t2</code> should print:</p>\n\n<blockquote>\n  <p>2, 12, 22, 32, ... 92</p>\n</blockquote>\n\n<p>likewise</p>\n\n<p><code>t10</code> should print:</p>\n\n<blockquote>\n  <p>10, 20, 30, ... 100</p>\n</blockquote></li>\n<li><p>The final output should be</p>\n\n<blockquote>\n  <p>1 2 3 .. 100</p>\n</blockquote></li>\n</ol>\n\n<p>I have tried it, but it is throwing the following exception in all 10 threads:</p>\n\n<pre><code>java.lang.IllegalMonitorStateException\n    at java.lang.Object.wait(Native Method)\n    at java.lang.Object.wait(Object.java:485)\n    at thread.run(MyThread.java:58)\n    at java.lang.Thread.run(Unknown Source) \n</code></pre>\n\n<p>Please let me know how I can solve this problem.</p>\n\n<pre><code>public class MyThread {\n    /**\n     * @param args\n     */\n    public static void main(String[] args) {\n        thread.setSequence();\n        for(int i = 1; i &lt;= 10; i++) {\n            Thread t = new Thread(new thread(i));\n            t.setName(i + \"\");\n            t.start();\n        }\n    }\n}\n\nclass thread implements Runnable {\n    private static HashMap&lt; String, String&gt; sequence = new HashMap&lt;String, String&gt;();\n\n    public static final Object lock = new Object();\n    public static String turn = \"1\"; \n    private int startValue = 0;\n    private AtomicInteger counter = new AtomicInteger(1);\n\n    public thread(int startValue){\n        this.startValue = startValue;\n    }\n\n    @Override\n    public void run() {\n        while (!counter.equals(10)){\n            synchronized (lock) {\n                if(Thread.currentThread().getName().equals(turn)){  \n                    System.out.print(startValue + \" \");\n                    startValue += 10;\n                    counter.incrementAndGet();\n                    turn = getNextTurn(turn);\n                    try {\n                        this.wait();\n                    } catch (InterruptedException e) {\n                        e.printStackTrace();\n                    }\n                }\n                else{                       \n                    try {\n                        this.wait();\n                    } catch (InterruptedException e) {\n                        e.printStackTrace();\n                    }\n                }\n                this.notifyAll();\n            }\n        }\n    }\n\n    public static void setSequence(){\n        for (int i = 1; i &lt;= 10; i++)\n            if (i == 10)\n                sequence.put(i + \"\", 1 + \"\");\n            else\n                sequence.put(i + \"\", (i + 1) + \"\");\n    }\n\n    public static String getNextTurn(String currentTurn){\n        return sequence.get(currentTurn);\n    }\n}\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9194,"page":798,"page_size":100}
