{"items":[{"tags":["java","security","jdbc","prepared-statement","in-clause"],"comments":[{"owner":{"account_id":8709,"reputation":5827,"user_id":15816,"display_name":"Chris Mazzola"},"score":2,"creation_date":1247089900,"post_id":178479,"comment_id":915504,"body_markdown":"Oscar, I think the dynamic generation of (?,?,....) is the simplest workaround if you need an IN clause, but I left it to individual calls since performance was sufficient in my specific case.","body":"Oscar, I think the dynamic generation of (?,?,....) is the simplest workaround if you need an IN clause, but I left it to individual calls since performance was sufficient in my specific case."},{"owner":{"display_name":"user246585"},"score":7,"creation_date":1262971789,"post_id":178479,"comment_id":14177316,"body_markdown":"One of advantages of prepared statements is that sohuld can be compiled once for efficiency.\nBy making the in clause dynamic this effectively negates the prepared statement.","body":"One of advantages of prepared statements is that sohuld can be compiled once for efficiency. By making the in clause dynamic this effectively negates the prepared statement."},{"owner":{"account_id":47487,"reputation":3720,"user_id":140707,"display_name":"Frans"},"score":2,"creation_date":1342532428,"post_id":178479,"comment_id":15231131,"body_markdown":"Actually, this works for MySQL (using setObject to set an array of String as the parameter value). What DB are you using?","body":"Actually, this works for MySQL (using setObject to set an array of String as the parameter value). What DB are you using?"},{"owner":{"account_id":3012,"reputation":4955,"user_id":4265,"accept_rate":90,"display_name":"Peter Hart"},"score":0,"creation_date":1362774737,"post_id":178479,"comment_id":21598520,"body_markdown":"Here&#39;s an [Oracle specific answer](http://stackoverflow.com/a/15302767/4265)","body":"Here&#39;s an <a href=\"http://stackoverflow.com/a/15302767/4265\">Oracle specific answer</a>"},{"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1384184223,"post_id":178479,"comment_id":29623314,"body_markdown":"Here&#39;s a related question: http://stackoverflow.com/q/6956025/521799","body":"Here&#39;s a related question: <a href=\"http://stackoverflow.com/q/6956025/521799\">stackoverflow.com/q/6956025/521799</a>"},{"owner":{"account_id":65542,"reputation":5762,"user_id":192798,"accept_rate":48,"display_name":"Jayen"},"score":0,"creation_date":1474527328,"post_id":178479,"comment_id":66568992,"body_markdown":"@Frans it&#39;s not working for me.  It executes the query, but always has no results.","body":"@Frans it&#39;s not working for me.  It executes the query, but always has no results."},{"owner":{"account_id":297814,"reputation":25314,"user_id":603516,"accept_rate":100,"display_name":"Vadzim"},"score":0,"creation_date":1556576959,"post_id":178479,"comment_id":98478111,"body_markdown":"MSSQL specific question by SO founders: https://stackoverflow.com/questions/337704/parameterize-an-sql-in-clause","body":"MSSQL specific question by SO founders: <a href=\"https://stackoverflow.com/questions/337704/parameterize-an-sql-in-clause\" title=\"parameterize an sql in clause\">stackoverflow.com/questions/337704/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":2397,"reputation":179869,"user_id":3333,"accept_rate":80,"display_name":"Paul Tomblin"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1223574341,"creation_date":1223387129,"answer_id":178505,"question_id":178479,"body_markdown":"I&#39;ve never tried it, but would .setArray() do what you&#39;re looking for?\r\n\r\n**Update**: Evidently not.  setArray only seems to work with a java.sql.Array that comes from an ARRAY column that you&#39;ve retrieved from a previous query, or a subquery with an ARRAY column.","title":"PreparedStatement IN clause alternatives?","body":"<p>I've never tried it, but would .setArray() do what you're looking for?</p>\n\n<p><strong>Update</strong>: Evidently not.  setArray only seems to work with a java.sql.Array that comes from an ARRAY column that you've retrieved from a previous query, or a subquery with an ARRAY column.</p>\n"},{"tags":[],"owner":{"account_id":11258,"reputation":108509,"user_id":21632,"accept_rate":100,"display_name":"Adam Bellaire"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1223387256,"creation_date":1223387256,"answer_id":178517,"question_id":178479,"body_markdown":"I suppose you could (using basic string manipulation) generate the query string in the `PreparedStatement` to have a number of `?`&#39;s matching the number of items in your list.  \r\n\r\nOf course if you&#39;re doing that you&#39;re just a step away from generating a giant chained `OR` in your query, but without having the right number of `?` in the query string, I don&#39;t see how else you can work around this.","title":"PreparedStatement IN clause alternatives?","body":"<p>I suppose you could (using basic string manipulation) generate the query string in the <code>PreparedStatement</code> to have a number of <code>?</code>'s matching the number of items in your list.  </p>\n\n<p>Of course if you're doing that you're just a step away from generating a giant chained <code>OR</code> in your query, but without having the right number of <code>?</code> in the query string, I don't see how else you can work around this.</p>\n"},{"tags":[],"owner":{"account_id":2169,"reputation":3168,"user_id":2985,"accept_rate":56,"display_name":"stjohnroe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1223388789,"creation_date":1223388789,"answer_id":178635,"question_id":178479,"body_markdown":"try using the instr function?\r\n\r\n    select my_column from my_table where  instr(?, &#39;,&#39;||search_column||&#39;,&#39;) &gt; 0\r\n\r\nthen\r\n\r\n    ps.setString(1, &quot;,A,B,C,&quot;); \r\n\r\nAdmittedly this is a bit of a dirty hack, but it does reduce the opportunities for sql injection. Works in oracle anyway.","title":"PreparedStatement IN clause alternatives?","body":"<p>try using the instr function?</p>\n\n<pre><code>select my_column from my_table where  instr(?, ','||search_column||',') &gt; 0\n</code></pre>\n\n<p>then</p>\n\n<pre><code>ps.setString(1, \",A,B,C,\"); \n</code></pre>\n\n<p>Admittedly this is a bit of a dirty hack, but it does reduce the opportunities for sql injection. Works in oracle anyway.</p>\n"},{"tags":[],"owner":{"account_id":57484,"reputation":66727,"user_id":172211,"accept_rate":89,"display_name":"Carl Smotricz"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1223388946,"creation_date":1223388946,"answer_id":178650,"question_id":178479,"body_markdown":"Just for completeness: So long as the set of values is not too large, you *could* also simply string-construct a statement like\r\n\r\n    ... WHERE tab.col = ? OR tab.col = ? OR tab.col = ?\r\n\r\nwhich you could then pass to prepare(), and then use setXXX() in a loop to set all the values. This looks yucky, but many &quot;big&quot; commercial systems routinely do this kind of thing until they hit DB-specific limits, such as 32 KB (I think it is) for statements in Oracle.\r\n\r\nOf course you need to ensure that the set will never be unreasonably large, or do error trapping in the event that it is.","title":"PreparedStatement IN clause alternatives?","body":"<p>Just for completeness: So long as the set of values is not too large, you <em>could</em> also simply string-construct a statement like</p>\n\n<pre><code>... WHERE tab.col = ? OR tab.col = ? OR tab.col = ?\n</code></pre>\n\n<p>which you could then pass to prepare(), and then use setXXX() in a loop to set all the values. This looks yucky, but many \"big\" commercial systems routinely do this kind of thing until they hit DB-specific limits, such as 32 KB (I think it is) for statements in Oracle.</p>\n\n<p>Of course you need to ensure that the set will never be unreasonably large, or do error trapping in the event that it is.</p>\n"},{"tags":[],"owner":{"display_name":"Yorch"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1223394574,"creation_date":1223394574,"answer_id":179144,"question_id":178479,"body_markdown":"Following Adam&#39;s idea. Make your prepared statement sort of select my_column from my_table where search_column in (#)\r\nCreate a String x and fill it with a number of &quot;?,?,?&quot; depending on your list of values\r\nThen just change the # in the query for your new String x an populate","title":"PreparedStatement IN clause alternatives?","body":"<p>Following Adam's idea. Make your prepared statement sort of select my_column from my_table where search_column in (#)\nCreate a String x and fill it with a number of \"?,?,?\" depending on your list of values\nThen just change the # in the query for your new String x an populate</p>\n"},{"tags":[],"owner":{"account_id":9626,"reputation":17894,"user_id":17871,"accept_rate":86,"display_name":"James Schek"},"down_vote_count":2,"up_vote_count":12,"is_accepted":false,"score":10,"last_activity_date":1223588373,"creation_date":1223423371,"answer_id":180872,"question_id":178479,"body_markdown":"An unpleasant work-around, but certainly feasible is to use a nested query. Create a temporary table MYVALUES with a column in it. Insert your list of values into the MYVALUES table. Then execute \r\n\r\n    select my_column from my_table where search_column in ( SELECT value FROM MYVALUES )\r\n\r\nUgly, but a viable alternative if your list of values is very large.\r\n\r\nThis technique has the added advantage of potentially better query plans from the optimizer (check a page for multiple values, tablescan only once instead once per value, etc) may save on overhead if your database doesn&#39;t cache prepared statements. Your &quot;INSERTS&quot; would need to be done in batch and the MYVALUES table may need to be tweaked to have minimal locking or other high-overhead protections.","title":"PreparedStatement IN clause alternatives?","body":"<p>An unpleasant work-around, but certainly feasible is to use a nested query. Create a temporary table MYVALUES with a column in it. Insert your list of values into the MYVALUES table. Then execute </p>\n\n<pre><code>select my_column from my_table where search_column in ( SELECT value FROM MYVALUES )\n</code></pre>\n\n<p>Ugly, but a viable alternative if your list of values is very large.</p>\n\n<p>This technique has the added advantage of potentially better query plans from the optimizer (check a page for multiple values, tablescan only once instead once per value, etc) may save on overhead if your database doesn't cache prepared statements. Your \"INSERTS\" would need to be done in batch and the MYVALUES table may need to be tweaked to have minimal locking or other high-overhead protections.</p>\n"},{"tags":[],"owner":{"account_id":11055,"reputation":18190,"user_id":1163802,"accept_rate":83,"display_name":"Vladimir Dyuzhev"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1223589169,"creation_date":1223589169,"answer_id":189347,"question_id":178479,"body_markdown":"No simple way AFAIK.\r\nIf the target is to keep statement cache ratio high (i.e to not create a statement per every parameter count), you may do the following:\r\n\r\n1. create a statement with a few (e.g. 10) parameters:\r\n\r\n    ... WHERE A IN (?,?,?,?,?,?,?,?,?,?) ...\r\n\r\n2. Bind all actuall parameters\r\n\r\n  setString(1,&quot;foo&quot;);\r\n  setString(2,&quot;bar&quot;);\r\n\r\n3. Bind the rest as NULL\r\n\r\n  setNull(3,Types.VARCHAR)\r\n  ...\r\n  setNull(10,Types.VARCHAR)\r\n\r\nNULL never matches anything, so it gets optimized out by the SQL plan builder.\r\n\r\nThe logic is easy to automate when you pass a List into a DAO function:\r\n\r\n    while( i &lt; param.size() ) {\r\n      ps.setString(i+1,param.get(i));\r\n      i++;\r\n    }\r\n    \r\n    while( i &lt; MAX_PARAMS ) {\r\n      ps.setNull(i+1,Types.VARCHAR);\r\n      i++;\r\n    }\r\n\r\n","title":"PreparedStatement IN clause alternatives?","body":"<p>No simple way AFAIK.\nIf the target is to keep statement cache ratio high (i.e to not create a statement per every parameter count), you may do the following:</p>\n\n<ol>\n<li><p>create a statement with a few (e.g. 10) parameters:</p>\n\n<p>... WHERE A IN (?,?,?,?,?,?,?,?,?,?) ...</p></li>\n<li><p>Bind all actuall parameters</p>\n\n<p>setString(1,\"foo\");\nsetString(2,\"bar\");</p></li>\n<li><p>Bind the rest as NULL</p>\n\n<p>setNull(3,Types.VARCHAR)\n...\nsetNull(10,Types.VARCHAR)</p></li>\n</ol>\n\n<p>NULL never matches anything, so it gets optimized out by the SQL plan builder.</p>\n\n<p>The logic is easy to automate when you pass a List into a DAO function:</p>\n\n<pre><code>while( i &lt; param.size() ) {\n  ps.setString(i+1,param.get(i));\n  i++;\n}\n\nwhile( i &lt; MAX_PARAMS ) {\n  ps.setNull(i+1,Types.VARCHAR);\n  i++;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1921,"reputation":185672,"user_id":2648,"accept_rate":52,"display_name":"D&#243;nal"},"down_vote_count":5,"up_vote_count":228,"is_accepted":true,"score":223,"last_activity_date":1650405470,"creation_date":1223590394,"answer_id":189399,"question_id":178479,"body_markdown":"An analysis of the various options available, and the pros and cons of each is available in Jeanne Boyarsky&#39;s _[Batching Select Statements in JDBC][1]_ entry on JavaRanch Journal.\r\n\r\n\r\nThe suggested options are:\r\n\r\n* Prepare `SELECT my_column FROM my_table WHERE search_column = ?`, execute it for each value and UNION the results client-side. Requires only one prepared statement. Slow and painful.\r\n* Prepare `SELECT my_column FROM my_table WHERE search_column IN (?,?,?)` and execute it. Requires one prepared statement per size-of-IN-list. Fast and obvious.\r\n* Prepare `SELECT my_column FROM my_table WHERE search_column = ? ; SELECT my_column FROM my_table WHERE search_column = ? ; ...` and execute it. [Or use `UNION ALL` in place of those semicolons. --ed] Requires one prepared statement per size-of-IN-list. Stupidly slow, strictly worse than `WHERE search_column IN (?,?,?)`, so I don&#39;t know why the blogger even suggested it.\r\n* Use a stored procedure to construct the result set.\r\n* Prepare N different size-of-IN-list queries; say, with 2, 10, and 50 values. To search for an IN-list with 6 different values, populate the size-10 query so that it looks like `SELECT my_column FROM my_table WHERE search_column IN (1,2,3,4,5,6,6,6,6,6)`. Any decent server will optimize out the duplicate values before running the query.\r\n\r\nNone of these options are ideal.\r\n\r\nThe best option if you are using JDBC4 and a server that supports `x = ANY(y)`, is to use `PreparedStatement.setArray` as described in [Boris&#39;s anwser][2].\r\n\r\nThere doesn&#39;t seem to be any way to make `setArray` work with IN-lists, though.\r\n\r\n---\r\n\r\nSometimes SQL statements are loaded at runtime (e.g., from a properties file) but require a variable number of parameters. In such cases, first define the query:\r\n\r\n&lt;!-- language: none --&gt;\r\n\r\n    query=SELECT * FROM table t WHERE t.column IN (?)\r\n\r\nNext, load the query. Then determine the number of parameters prior to running it. Once the parameter count is known, run:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    sql = any( sql, count );\r\n\r\nFor example:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    /**\r\n     * Converts a SQL statement containing exactly one IN clause to an IN clause\r\n     * using multiple comma-delimited parameters.\r\n     *\r\n     * @param sql The SQL statement string with one IN clause.\r\n     * @param params The number of parameters the SQL statement requires.\r\n     * @return The SQL statement with (?) replaced with multiple parameter\r\n     * placeholders.\r\n     */\r\n    public static String any(String sql, final int params) {\r\n        // Create a comma-delimited list based on the number of parameters.\r\n        final StringBuilder sb = new StringBuilder(\r\n            String.join(&quot;, &quot;, Collections.nCopies(possibleValue.size(), &quot;?&quot;)));\r\n\r\n        // For more than 1 parameter, replace the single parameter with\r\n        // multiple parameter placeholders.\r\n        if (sb.length() &gt; 1) {\r\n            sql = sql.replace(&quot;(?)&quot;, &quot;(&quot; + sb + &quot;)&quot;);\r\n        }\r\n\r\n        // Return the modified comma-delimited list of parameters.\r\n        return sql;\r\n    }\r\n\r\nFor certain databases where passing an array via the JDBC 4 specification is unsupported, this method can facilitate transforming the slow `= ?` into the faster `IN (?)` clause condition, which can then be expanded by calling the `any` method.\r\n\r\n\r\n  [1]: http://www.javaranch.com/journal/200510/Journal200510.jsp#a2\r\n  [2]: https://stackoverflow.com/questions/178479/preparedstatement-in-clause-alternatives/10240302#10240302","title":"PreparedStatement IN clause alternatives?","body":"<p>An analysis of the various options available, and the pros and cons of each is available in Jeanne Boyarsky's <em><a href=\"http://www.javaranch.com/journal/200510/Journal200510.jsp#a2\" rel=\"noreferrer\">Batching Select Statements in JDBC</a></em> entry on JavaRanch Journal.</p>\n<p>The suggested options are:</p>\n<ul>\n<li>Prepare <code>SELECT my_column FROM my_table WHERE search_column = ?</code>, execute it for each value and UNION the results client-side. Requires only one prepared statement. Slow and painful.</li>\n<li>Prepare <code>SELECT my_column FROM my_table WHERE search_column IN (?,?,?)</code> and execute it. Requires one prepared statement per size-of-IN-list. Fast and obvious.</li>\n<li>Prepare <code>SELECT my_column FROM my_table WHERE search_column = ? ; SELECT my_column FROM my_table WHERE search_column = ? ; ...</code> and execute it. [Or use <code>UNION ALL</code> in place of those semicolons. --ed] Requires one prepared statement per size-of-IN-list. Stupidly slow, strictly worse than <code>WHERE search_column IN (?,?,?)</code>, so I don't know why the blogger even suggested it.</li>\n<li>Use a stored procedure to construct the result set.</li>\n<li>Prepare N different size-of-IN-list queries; say, with 2, 10, and 50 values. To search for an IN-list with 6 different values, populate the size-10 query so that it looks like <code>SELECT my_column FROM my_table WHERE search_column IN (1,2,3,4,5,6,6,6,6,6)</code>. Any decent server will optimize out the duplicate values before running the query.</li>\n</ul>\n<p>None of these options are ideal.</p>\n<p>The best option if you are using JDBC4 and a server that supports <code>x = ANY(y)</code>, is to use <code>PreparedStatement.setArray</code> as described in <a href=\"https://stackoverflow.com/questions/178479/preparedstatement-in-clause-alternatives/10240302#10240302\">Boris's anwser</a>.</p>\n<p>There doesn't seem to be any way to make <code>setArray</code> work with IN-lists, though.</p>\n<hr />\n<p>Sometimes SQL statements are loaded at runtime (e.g., from a properties file) but require a variable number of parameters. In such cases, first define the query:</p>\n<pre class=\"lang-none prettyprint-override\"><code>query=SELECT * FROM table t WHERE t.column IN (?)\n</code></pre>\n<p>Next, load the query. Then determine the number of parameters prior to running it. Once the parameter count is known, run:</p>\n<pre class=\"lang-java prettyprint-override\"><code>sql = any( sql, count );\n</code></pre>\n<p>For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * Converts a SQL statement containing exactly one IN clause to an IN clause\n * using multiple comma-delimited parameters.\n *\n * @param sql The SQL statement string with one IN clause.\n * @param params The number of parameters the SQL statement requires.\n * @return The SQL statement with (?) replaced with multiple parameter\n * placeholders.\n */\npublic static String any(String sql, final int params) {\n    // Create a comma-delimited list based on the number of parameters.\n    final StringBuilder sb = new StringBuilder(\n        String.join(&quot;, &quot;, Collections.nCopies(possibleValue.size(), &quot;?&quot;)));\n\n    // For more than 1 parameter, replace the single parameter with\n    // multiple parameter placeholders.\n    if (sb.length() &gt; 1) {\n        sql = sql.replace(&quot;(?)&quot;, &quot;(&quot; + sb + &quot;)&quot;);\n    }\n\n    // Return the modified comma-delimited list of parameters.\n    return sql;\n}\n</code></pre>\n<p>For certain databases where passing an array via the JDBC 4 specification is unsupported, this method can facilitate transforming the slow <code>= ?</code> into the faster <code>IN (?)</code> clause condition, which can then be expanded by calling the <code>any</code> method.</p>\n"},{"tags":[],"owner":{"account_id":7660,"reputation":15986,"user_id":13365,"accept_rate":70,"display_name":"neu242"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1339059302,"creation_date":1260967368,"answer_id":1914440,"question_id":178479,"body_markdown":"Generate the query string in the PreparedStatement to have a number of ?&#39;s matching the number of items in your list.  Here&#39;s an example:\r\n\r\n    public void myQuery(List&lt;String&gt; items, int other) {\r\n      ...\r\n      String q4in = generateQsForIn(items.size());\r\n      String sql = &quot;select * from stuff where foo in ( &quot; + q4in + &quot; ) and bar = ?&quot;;\r\n      PreparedStatement ps = connection.prepareStatement(sql);\r\n      int i = 1;\r\n      for (String item : items) {\r\n        ps.setString(i++, item);\r\n      }\r\n      ps.setInt(i++, other);\r\n      ResultSet rs = ps.executeQuery();\r\n      ...\r\n    }\r\n\r\n    private String generateQsForIn(int numQs) {\r\n        String items = &quot;&quot;;\r\n        for (int i = 0; i &lt; numQs; i++) {\r\n            if (i != 0) items += &quot;, &quot;;\r\n            items += &quot;?&quot;;\r\n        }\r\n        return items;\r\n    }\r\n\r\n","title":"PreparedStatement IN clause alternatives?","body":"<p>Generate the query string in the PreparedStatement to have a number of ?'s matching the number of items in your list.  Here's an example:</p>\n\n<pre><code>public void myQuery(List&lt;String&gt; items, int other) {\n  ...\n  String q4in = generateQsForIn(items.size());\n  String sql = \"select * from stuff where foo in ( \" + q4in + \" ) and bar = ?\";\n  PreparedStatement ps = connection.prepareStatement(sql);\n  int i = 1;\n  for (String item : items) {\n    ps.setString(i++, item);\n  }\n  ps.setInt(i++, other);\n  ResultSet rs = ps.executeQuery();\n  ...\n}\n\nprivate String generateQsForIn(int numQs) {\n    String items = \"\";\n    for (int i = 0; i &lt; numQs; i++) {\n        if (i != 0) items += \", \";\n        items += \"?\";\n    }\n    return items;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":715986,"reputation":51,"user_id":632332,"display_name":"Javier Ibanez"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1298551487,"creation_date":1298551487,"answer_id":5104833,"question_id":178479,"body_markdown":"My workaround is:\r\n\r\n    create or replace type split_tbl as table of varchar(32767);\r\n    /\r\n    \r\n    create or replace function split\r\n    (\r\n      p_list varchar2,\r\n      p_del varchar2 := &#39;,&#39;\r\n    ) return split_tbl pipelined\r\n    is\r\n      l_idx    pls_integer;\r\n      l_list    varchar2(32767) := p_list;\r\n      l_value    varchar2(32767);\r\n    begin\r\n      loop\r\n        l_idx := instr(l_list,p_del);\r\n        if l_idx &gt; 0 then\r\n          pipe row(substr(l_list,1,l_idx-1));\r\n          l_list := substr(l_list,l_idx+length(p_del));\r\n        else\r\n          pipe row(l_list);\r\n          exit;\r\n        end if;\r\n      end loop;\r\n      return;\r\n    end split;\r\n    /\r\n\r\nNow you can use one variable to obtain some values in a table:\r\n\r\n    select * from table(split(&#39;one,two,three&#39;))\r\n      one\r\n      two\r\n      three\r\n\r\n    select * from TABLE1 where COL1 in (select * from table(split(&#39;value1,value2&#39;)))\r\n      value1 AAA\r\n      value2 BBB\r\n\r\nSo, the prepared statement could be:\r\n\r\n      &quot;select * from TABLE where COL in (select * from table(split(?)))&quot;\r\n\r\nRegards,\r\n\r\nJavier Ibanez\r\n","title":"PreparedStatement IN clause alternatives?","body":"<p>My workaround is:</p>\n\n<pre><code>create or replace type split_tbl as table of varchar(32767);\n/\n\ncreate or replace function split\n(\n  p_list varchar2,\n  p_del varchar2 := ','\n) return split_tbl pipelined\nis\n  l_idx    pls_integer;\n  l_list    varchar2(32767) := p_list;\n  l_value    varchar2(32767);\nbegin\n  loop\n    l_idx := instr(l_list,p_del);\n    if l_idx &gt; 0 then\n      pipe row(substr(l_list,1,l_idx-1));\n      l_list := substr(l_list,l_idx+length(p_del));\n    else\n      pipe row(l_list);\n      exit;\n    end if;\n  end loop;\n  return;\nend split;\n/\n</code></pre>\n\n<p>Now you can use one variable to obtain some values in a table:</p>\n\n<pre><code>select * from table(split('one,two,three'))\n  one\n  two\n  three\n\nselect * from TABLE1 where COL1 in (select * from table(split('value1,value2')))\n  value1 AAA\n  value2 BBB\n</code></pre>\n\n<p>So, the prepared statement could be:</p>\n\n<pre><code>  \"select * from TABLE where COL in (select * from table(split(?)))\"\n</code></pre>\n\n<p>Regards,</p>\n\n<p>Javier Ibanez</p>\n"},{"tags":[],"owner":{"account_id":543620,"reputation":1424,"user_id":912813,"display_name":"Jeff Miller"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1321903854,"creation_date":1321903854,"answer_id":8217423,"question_id":178479,"body_markdown":"[Sormula][1] supports SQL IN operator by allowing you to supply a java.util.Collection object as a parameter. It creates a prepared statement with a ? for each of the elements the collection. See [Example 4][2] (SQL in example is a comment to clarify what is created but is not used by Sormula).\r\n\r\n\r\n  [1]: http://www.sormula.org/\r\n  [2]: http://www.sormula.org/example4/","title":"PreparedStatement IN clause alternatives?","body":"<p><a href=\"http://www.sormula.org/\" rel=\"nofollow\">Sormula</a> supports SQL IN operator by allowing you to supply a java.util.Collection object as a parameter. It creates a prepared statement with a ? for each of the elements the collection. See <a href=\"http://www.sormula.org/example4/\" rel=\"nofollow\">Example 4</a> (SQL in example is a comment to clarify what is created but is not used by Sormula).</p>\n"},{"tags":[],"owner":{"account_id":1421020,"reputation":1411,"user_id":1345608,"display_name":"Boris"},"down_vote_count":0,"up_vote_count":141,"is_accepted":false,"score":141,"last_activity_date":1604478948,"creation_date":1334896359,"answer_id":10240302,"question_id":178479,"body_markdown":"Solution for PostgreSQL:\r\n\r\n    final PreparedStatement statement = connection.prepareStatement(\r\n            &quot;SELECT my_column FROM my_table where search_column = ANY (?)&quot;\r\n    );\r\n    final String[] values = getValues();\r\n    statement.setArray(1, connection.createArrayOf(&quot;text&quot;, values));\r\n\r\n    try (ResultSet rs = statement.executeQuery()) {\r\n        while(rs.next()) {\r\n            // do some...\r\n        }\r\n    }\r\n\r\nor\r\n\r\n\r\n    final PreparedStatement statement = connection.prepareStatement(\r\n            &quot;SELECT my_column FROM my_table &quot; + \r\n            &quot;where search_column IN (SELECT * FROM unnest(?))&quot;\r\n    );\r\n    final String[] values = getValues();\r\n    statement.setArray(1, connection.createArrayOf(&quot;text&quot;, values));\r\n\r\n    try (ResultSet rs = statement.executeQuery()) {\r\n        while(rs.next()) {\r\n            // do some...\r\n        }\r\n    }\r\n","title":"PreparedStatement IN clause alternatives?","body":"<p>Solution for PostgreSQL:</p>\n<pre><code>final PreparedStatement statement = connection.prepareStatement(\n        &quot;SELECT my_column FROM my_table where search_column = ANY (?)&quot;\n);\nfinal String[] values = getValues();\nstatement.setArray(1, connection.createArrayOf(&quot;text&quot;, values));\n\ntry (ResultSet rs = statement.executeQuery()) {\n    while(rs.next()) {\n        // do some...\n    }\n}\n</code></pre>\n<p>or</p>\n<pre><code>final PreparedStatement statement = connection.prepareStatement(\n        &quot;SELECT my_column FROM my_table &quot; + \n        &quot;where search_column IN (SELECT * FROM unnest(?))&quot;\n);\nfinal String[] values = getValues();\nstatement.setArray(1, connection.createArrayOf(&quot;text&quot;, values));\n\ntry (ResultSet rs = statement.executeQuery()) {\n    while(rs.next()) {\n        // do some...\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":301494,"reputation":2081,"user_id":2041542,"accept_rate":60,"display_name":"kapil das"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1377372586,"creation_date":1377372586,"answer_id":18422316,"question_id":178479,"body_markdown":"instead of using\r\n\r\n    SELECT my_column FROM my_table where search_column IN (?)\r\nuse the Sql Statement as \r\n\r\n    select id, name from users where id in (?, ?, ?)\r\nand\r\n\r\n    preparedStatement.setString( 1, &#39;A&#39;);\r\n    preparedStatement.setString( 2,&#39;B&#39;);\r\n    preparedStatement.setString( 3, &#39;C&#39;);\r\n\r\nor use a stored procedure this would be the best solution, since the sql statements will be compiled and stored in DataBase server\r\n\r\n","title":"PreparedStatement IN clause alternatives?","body":"<p>instead of using</p>\n\n<pre><code>SELECT my_column FROM my_table where search_column IN (?)\n</code></pre>\n\n<p>use the Sql Statement as </p>\n\n<pre><code>select id, name from users where id in (?, ?, ?)\n</code></pre>\n\n<p>and</p>\n\n<pre><code>preparedStatement.setString( 1, 'A');\npreparedStatement.setString( 2,'B');\npreparedStatement.setString( 3, 'C');\n</code></pre>\n\n<p>or use a stored procedure this would be the best solution, since the sql statements will be compiled and stored in DataBase server</p>\n"},{"tags":[],"owner":{"account_id":1947565,"reputation":847,"user_id":1752358,"accept_rate":75,"display_name":"Alexander"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1378970479,"creation_date":1378970479,"answer_id":18757911,"question_id":178479,"body_markdown":"I came across a number of limitations related to prepared statement:\r\n\r\n1. The prepared statements are cached only inside the same session (Postgres), so it will really work only with connection pooling\r\n2.  A lot of different prepared statements as proposed by @BalusC may cause the cache to overfill and previously cached statements will be dropped\r\n3.  The query has to be optimized and use indices. Sounds obvious, however e.g. the ANY(ARRAY...) statement proposed by @Boris in one of the top answers cannot use indices and query will be slow despite caching\r\n4.  The prepared statement caches the query plan as well and the actual values of any parameters specified in the statement are unavailable.\r\n\r\nAmong the proposed solutions I would choose the one that doesn&#39;t decrease the query performance and makes the less number of queries. This will be the #4 (batching few queries) from the @Don link or specifying NULL values for unneeded &#39;?&#39; marks as proposed by @Vladimir Dyuzhev \r\n","title":"PreparedStatement IN clause alternatives?","body":"<p>I came across a number of limitations related to prepared statement:</p>\n\n<ol>\n<li>The prepared statements are cached only inside the same session (Postgres), so it will really work only with connection pooling</li>\n<li>A lot of different prepared statements as proposed by @BalusC may cause the cache to overfill and previously cached statements will be dropped</li>\n<li>The query has to be optimized and use indices. Sounds obvious, however e.g. the ANY(ARRAY...) statement proposed by @Boris in one of the top answers cannot use indices and query will be slow despite caching</li>\n<li>The prepared statement caches the query plan as well and the actual values of any parameters specified in the statement are unavailable.</li>\n</ol>\n\n<p>Among the proposed solutions I would choose the one that doesn't decrease the query performance and makes the less number of queries. This will be the #4 (batching few queries) from the @Don link or specifying NULL values for unneeded '?' marks as proposed by @Vladimir Dyuzhev </p>\n"},{"tags":[],"owner":{"account_id":887421,"reputation":5160,"user_id":926520,"accept_rate":75,"display_name":"Pankaj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1390728723,"creation_date":1390728723,"answer_id":21361828,"question_id":178479,"body_markdown":"There are different alternative approaches that we can use for IN clause in PreparedStatement.\r\n\r\n 1. Using Single Queries - slowest performance and resource intensive\r\n 2. Using StoredProcedure - Fastest but database specific\r\n 3. Creating dynamic query for PreparedStatement - Good Performance but doesn&#39;t get benefit of caching and PreparedStatement is recompiled every time.\r\n 4. Use NULL in PreparedStatement queries - Optimal performance, works great when you know the limit of IN clause arguments. If there is no limit, then you can execute queries in batch. \r\nSample code snippet is;\r\n\r\n            int i = 1;\r\n            for(; i &lt;=ids.length; i++){\r\n                ps.setInt(i, ids[i-1]);\r\n            }\r\n             \r\n            //set null for remaining ones\r\n            for(; i&lt;=PARAM_SIZE;i++){\r\n                ps.setNull(i, java.sql.Types.INTEGER);\r\n            }\r\n\r\nYou can check more details about these alternative approaches [here][1].\r\n\r\n\r\n  [1]: http://www.journaldev.com/2521/jdbc-preparedstatement-in-clause-alternative-approaches","title":"PreparedStatement IN clause alternatives?","body":"<p>There are different alternative approaches that we can use for IN clause in PreparedStatement.</p>\n\n<ol>\n<li>Using Single Queries - slowest performance and resource intensive</li>\n<li>Using StoredProcedure - Fastest but database specific</li>\n<li>Creating dynamic query for PreparedStatement - Good Performance but doesn't get benefit of caching and PreparedStatement is recompiled every time.</li>\n<li><p>Use NULL in PreparedStatement queries - Optimal performance, works great when you know the limit of IN clause arguments. If there is no limit, then you can execute queries in batch. \nSample code snippet is;</p>\n\n<pre><code>    int i = 1;\n    for(; i &lt;=ids.length; i++){\n        ps.setInt(i, ids[i-1]);\n    }\n\n    //set null for remaining ones\n    for(; i&lt;=PARAM_SIZE;i++){\n        ps.setNull(i, java.sql.Types.INTEGER);\n    }\n</code></pre></li>\n</ol>\n\n<p>You can check more details about these alternative approaches <a href=\"http://www.journaldev.com/2521/jdbc-preparedstatement-in-clause-alternative-approaches\" rel=\"nofollow\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":200315,"reputation":181,"user_id":446098,"display_name":"Vasili"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1420179822,"creation_date":1420179822,"answer_id":27738214,"question_id":178479,"body_markdown":"For some situations regexp might help. \r\nHere is an example I&#39;ve checked on Oracle, and it works. \r\n\r\n    select * from my_table where REGEXP_LIKE (search_column, &#39;value1|value2&#39;)\r\n\r\n\r\nBut there is a number of drawbacks with it:\r\n\r\n 1. Any column it applied should be converted to varchar/char, at least implicitly.\r\n 2. Need to be careful with special characters.\r\n 3. It can slow down performance - in my case IN version uses index and range scan, and REGEXP version do full scan.\r\n","title":"PreparedStatement IN clause alternatives?","body":"<p>For some situations regexp might help. \nHere is an example I've checked on Oracle, and it works. </p>\n\n<pre><code>select * from my_table where REGEXP_LIKE (search_column, 'value1|value2')\n</code></pre>\n\n<p>But there is a number of drawbacks with it:</p>\n\n<ol>\n<li>Any column it applied should be converted to varchar/char, at least implicitly.</li>\n<li>Need to be careful with special characters.</li>\n<li>It can slow down performance - in my case IN version uses index and range scan, and REGEXP version do full scan.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1836065,"reputation":131,"user_id":1666429,"display_name":"bnsk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1426431710,"creation_date":1426431404,"answer_id":29062027,"question_id":178479,"body_markdown":"After examining various solutions in different forums and not finding a good solution, I feel the below hack I came up with, is the easiest to follow and code:\r\n\r\n\r\nExample: Suppose you have multiple parameters to pass in the &#39;IN&#39; clause. Just put a dummy String inside the &#39;IN&#39; clause, say, &quot;PARAM&quot; do denote the list of parameters that will be coming in the place of this dummy String.\r\n\r\n        select * from TABLE_A where ATTR IN (PARAM);\r\n\r\nYou can collect all the parameters into a single String variable in your Java code. This can be done as follows:\r\n\r\n        String param1 = &quot;X&quot;;\r\n        String param2 = &quot;Y&quot;;\r\n        String param1 = param1.append(&quot;,&quot;).append(param2);\r\n\r\nYou can append all your parameters separated by commas into a single String variable, &#39;param1&#39;, in our case.\r\n\r\nAfter collecting all the parameters into a single String you can just replace the dummy text in your query, i.e., &quot;PARAM&quot; in this case, with the parameter String, i.e., param1. Here is what you need to do:\r\n\r\n        String query = query.replaceFirst(&quot;PARAM&quot;,param1); where we have the value of query as \r\n\r\n        query = &quot;select * from TABLE_A where ATTR IN (PARAM)&quot;;\r\n\r\nYou can now execute your query using the executeQuery() method. Just make sure that you don&#39;t have the word &quot;PARAM&quot; in your query anywhere. You can use a combination of special characters and alphabets instead of the word &quot;PARAM&quot; in order to make sure that there is no possibility of such a word coming in the query. Hope you got the solution.\r\n\r\nNote: Though this is not a prepared query, it does the work that I wanted my code to do.","title":"PreparedStatement IN clause alternatives?","body":"<p>After examining various solutions in different forums and not finding a good solution, I feel the below hack I came up with, is the easiest to follow and code:</p>\n\n<p>Example: Suppose you have multiple parameters to pass in the 'IN' clause. Just put a dummy String inside the 'IN' clause, say, \"PARAM\" do denote the list of parameters that will be coming in the place of this dummy String.</p>\n\n<pre><code>    select * from TABLE_A where ATTR IN (PARAM);\n</code></pre>\n\n<p>You can collect all the parameters into a single String variable in your Java code. This can be done as follows:</p>\n\n<pre><code>    String param1 = \"X\";\n    String param2 = \"Y\";\n    String param1 = param1.append(\",\").append(param2);\n</code></pre>\n\n<p>You can append all your parameters separated by commas into a single String variable, 'param1', in our case.</p>\n\n<p>After collecting all the parameters into a single String you can just replace the dummy text in your query, i.e., \"PARAM\" in this case, with the parameter String, i.e., param1. Here is what you need to do:</p>\n\n<pre><code>    String query = query.replaceFirst(\"PARAM\",param1); where we have the value of query as \n\n    query = \"select * from TABLE_A where ATTR IN (PARAM)\";\n</code></pre>\n\n<p>You can now execute your query using the executeQuery() method. Just make sure that you don't have the word \"PARAM\" in your query anywhere. You can use a combination of special characters and alphabets instead of the word \"PARAM\" in order to make sure that there is no possibility of such a word coming in the query. Hope you got the solution.</p>\n\n<p>Note: Though this is not a prepared query, it does the work that I wanted my code to do.</p>\n"},{"tags":[],"owner":{"account_id":12806,"reputation":10475,"user_id":25412,"accept_rate":67,"display_name":"epeleg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1427911957,"creation_date":1427911957,"answer_id":29397855,"question_id":178479,"body_markdown":"Just for completeness and because I did not see anyone else suggest it:\r\n\r\nBefore implementing any of the complicated suggestions above consider if SQL injection is indeed a problem in your scenario.  \r\n\r\nIn many cases the value provided to IN (...) is a list of ids that have been generated in a way that you can be sure that no injection is possible... (e.g. the results of a previous select some_id from some_table where some_condition.)\r\n\r\nIf that is the case you might just concatenate this value and not use the services or the prepared statement for it or use them for other parameters of this query. \r\n\r\n    query=&quot;select f1,f2 from t1 where f3=? and f2 in (&quot; + sListOfIds + &quot;);&quot;;\r\n\r\n\r\n\r\n","title":"PreparedStatement IN clause alternatives?","body":"<p>Just for completeness and because I did not see anyone else suggest it:</p>\n\n<p>Before implementing any of the complicated suggestions above consider if SQL injection is indeed a problem in your scenario.  </p>\n\n<p>In many cases the value provided to IN (...) is a list of ids that have been generated in a way that you can be sure that no injection is possible... (e.g. the results of a previous select some_id from some_table where some_condition.)</p>\n\n<p>If that is the case you might just concatenate this value and not use the services or the prepared statement for it or use them for other parameters of this query. </p>\n\n<pre><code>query=\"select f1,f2 from t1 where f3=? and f2 in (\" + sListOfIds + \");\";\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1068606,"reputation":11581,"user_id":1068446,"accept_rate":63,"display_name":"dwjohnston"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1429522435,"creation_date":1429505198,"answer_id":29739504,"question_id":178479,"body_markdown":"Here&#39;s a complete solution in Java to create the prepared statement for you:\r\n\r\n\r\n    /*usage:\r\n\r\n    Util u = new Util(500); //500 items per bracket. \r\n    String sqlBefore  = &quot;select * from myTable where (&quot;;\r\n    List&lt;Integer&gt; values = new ArrayList&lt;Integer&gt;(Arrays.asList(1,2,4,5)); \r\n    string sqlAfter = &quot;) and foo = &#39;bar&#39;&quot;; \r\n    \r\n    PreparedStatement ps = u.prepareStatements(sqlBefore, values, sqlAfter, connection, &quot;someId&quot;);\r\n    */\r\n\r\n\r\n    \r\n    import java.sql.Connection;\r\n    import java.sql.PreparedStatement;\r\n    import java.sql.SQLException;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    public class Util {\r\n    \r\n    \tprivate int numValuesInClause;\r\n    \r\n    \tpublic Util(int numValuesInClause) {\r\n    \t\tsuper();\r\n    \t\tthis.numValuesInClause = numValuesInClause;\r\n    \t}\r\n    \r\n    \tpublic int getNumValuesInClause() {\r\n    \t\treturn numValuesInClause;\r\n    \t}\r\n    \r\n    \tpublic void setNumValuesInClause(int numValuesInClause) {\r\n    \t\tthis.numValuesInClause = numValuesInClause;\r\n    \t}\r\n    \r\n    \t/** Split a given list into a list of lists for the given size of numValuesInClause*/\r\n    \tpublic List&lt;List&lt;Integer&gt;&gt; splitList(\r\n    \t\t\tList&lt;Integer&gt; values) {\r\n    \t\t\r\n    \t\t\r\n    \t\tList&lt;List&lt;Integer&gt;&gt; newList = new ArrayList&lt;List&lt;Integer&gt;&gt;(); \r\n    \t\twhile (values.size() &gt; numValuesInClause) {\r\n    \t\t\tList&lt;Integer&gt; sublist = values.subList(0,numValuesInClause);\r\n    \t\t\tList&lt;Integer&gt; values2 = values.subList(numValuesInClause, values.size());\t\r\n    \t\t\tvalues = values2; \r\n    \t\t\t\r\n    \t\t\tnewList.add( sublist);\r\n    \t\t}\r\n    \t\tnewList.add(values);\r\n    \t\t\r\n    \t\treturn newList;\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Generates a series of split out in clause statements. \r\n    \t * @param sqlBefore &quot;&quot;select * from dual where (&quot;\r\n    \t * @param values [1,2,3,4,5,6,7,8,9,10]\r\n    \t * @param &quot;sqlAfter ) and id = 5&quot;\r\n    \t * @return &quot;select * from dual where (id in (1,2,3) or id in (4,5,6) or id in (7,8,9) or id in (10)&quot;\r\n    \t */\r\n    \tpublic String genInClauseSql(String sqlBefore, List&lt;Integer&gt; values,\r\n    \t\t\tString sqlAfter, String identifier) \r\n    \t{\r\n    \t\tList&lt;List&lt;Integer&gt;&gt; newLists = splitList(values);\r\n    \t\tString stmt = sqlBefore;\r\n    \r\n    \t\t/* now generate the in clause for each list */\r\n    \t\tint j = 0; /* keep track of list:newLists index */\r\n    \t\tfor (List&lt;Integer&gt; list : newLists) {\r\n    \t\t\tstmt = stmt + identifier +&quot; in (&quot;;\r\n    \t\t\tStringBuilder innerBuilder = new StringBuilder();\r\n    \r\n    \t\t\tfor (int i = 0; i &lt; list.size(); i++) {\r\n    \t\t\t\tinnerBuilder.append(&quot;?,&quot;);\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\t\r\n    \r\n    \t\t\tString inClause = innerBuilder.deleteCharAt(\r\n    \t\t\t\t\tinnerBuilder.length() - 1).toString();\r\n    \r\n    \t\t\tstmt = stmt + inClause;\r\n    \t\t\tstmt = stmt + &quot;)&quot;;\r\n    \t\t\t\r\n    \t\t\t\r\n    \t\t\tif (++j &lt; newLists.size()) {\r\n    \t\t\t\tstmt = stmt + &quot; OR &quot;;\r\n    \t\t\t}\r\n    \t\t\r\n    \t\t}\r\n    \r\n    \t\tstmt = stmt + sqlAfter;\r\n    \t\treturn stmt;\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Method to convert your SQL and a list of ID into a safe prepared\r\n    \t * statements\r\n    \t * \r\n    \t * @throws SQLException\r\n    \t */\r\n    \tpublic PreparedStatement prepareStatements(String sqlBefore,\r\n    \t\t\tArrayList&lt;Integer&gt; values, String sqlAfter, Connection c, String identifier)\r\n    \t\t\tthrows SQLException {\r\n    \r\n    \t\t/* First split our potentially big list into lots of lists */\r\n    \t\tString stmt = genInClauseSql(sqlBefore, values, sqlAfter, identifier);\r\n    \t\tPreparedStatement ps = c.prepareStatement(stmt);\r\n    \t\t\r\n    \t\tint i = 1;\r\n    \t\tfor (int val : values)\r\n    \t\t{\r\n    \t\t\t\r\n    \t\t\tps.setInt(i++, val);\r\n    \t\t\t\r\n    \t\t}\r\n    \t\treturn ps;\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"PreparedStatement IN clause alternatives?","body":"<p>Here's a complete solution in Java to create the prepared statement for you:</p>\n\n<pre><code>/*usage:\n\nUtil u = new Util(500); //500 items per bracket. \nString sqlBefore  = \"select * from myTable where (\";\nList&lt;Integer&gt; values = new ArrayList&lt;Integer&gt;(Arrays.asList(1,2,4,5)); \nstring sqlAfter = \") and foo = 'bar'\"; \n\nPreparedStatement ps = u.prepareStatements(sqlBefore, values, sqlAfter, connection, \"someId\");\n*/\n\n\n\nimport java.sql.Connection;\nimport java.sql.PreparedStatement;\nimport java.sql.SQLException;\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class Util {\n\n    private int numValuesInClause;\n\n    public Util(int numValuesInClause) {\n        super();\n        this.numValuesInClause = numValuesInClause;\n    }\n\n    public int getNumValuesInClause() {\n        return numValuesInClause;\n    }\n\n    public void setNumValuesInClause(int numValuesInClause) {\n        this.numValuesInClause = numValuesInClause;\n    }\n\n    /** Split a given list into a list of lists for the given size of numValuesInClause*/\n    public List&lt;List&lt;Integer&gt;&gt; splitList(\n            List&lt;Integer&gt; values) {\n\n\n        List&lt;List&lt;Integer&gt;&gt; newList = new ArrayList&lt;List&lt;Integer&gt;&gt;(); \n        while (values.size() &gt; numValuesInClause) {\n            List&lt;Integer&gt; sublist = values.subList(0,numValuesInClause);\n            List&lt;Integer&gt; values2 = values.subList(numValuesInClause, values.size());   \n            values = values2; \n\n            newList.add( sublist);\n        }\n        newList.add(values);\n\n        return newList;\n    }\n\n    /**\n     * Generates a series of split out in clause statements. \n     * @param sqlBefore \"\"select * from dual where (\"\n     * @param values [1,2,3,4,5,6,7,8,9,10]\n     * @param \"sqlAfter ) and id = 5\"\n     * @return \"select * from dual where (id in (1,2,3) or id in (4,5,6) or id in (7,8,9) or id in (10)\"\n     */\n    public String genInClauseSql(String sqlBefore, List&lt;Integer&gt; values,\n            String sqlAfter, String identifier) \n    {\n        List&lt;List&lt;Integer&gt;&gt; newLists = splitList(values);\n        String stmt = sqlBefore;\n\n        /* now generate the in clause for each list */\n        int j = 0; /* keep track of list:newLists index */\n        for (List&lt;Integer&gt; list : newLists) {\n            stmt = stmt + identifier +\" in (\";\n            StringBuilder innerBuilder = new StringBuilder();\n\n            for (int i = 0; i &lt; list.size(); i++) {\n                innerBuilder.append(\"?,\");\n            }\n\n\n\n            String inClause = innerBuilder.deleteCharAt(\n                    innerBuilder.length() - 1).toString();\n\n            stmt = stmt + inClause;\n            stmt = stmt + \")\";\n\n\n            if (++j &lt; newLists.size()) {\n                stmt = stmt + \" OR \";\n            }\n\n        }\n\n        stmt = stmt + sqlAfter;\n        return stmt;\n    }\n\n    /**\n     * Method to convert your SQL and a list of ID into a safe prepared\n     * statements\n     * \n     * @throws SQLException\n     */\n    public PreparedStatement prepareStatements(String sqlBefore,\n            ArrayList&lt;Integer&gt; values, String sqlAfter, Connection c, String identifier)\n            throws SQLException {\n\n        /* First split our potentially big list into lots of lists */\n        String stmt = genInClauseSql(sqlBefore, values, sqlAfter, identifier);\n        PreparedStatement ps = c.prepareStatement(stmt);\n\n        int i = 1;\n        for (int val : values)\n        {\n\n            ps.setInt(i++, val);\n\n        }\n        return ps;\n\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11209,"reputation":25528,"user_id":21499,"accept_rate":56,"display_name":"Dr. Hans-Peter St&#246;rr"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1433161082,"creation_date":1433161082,"answer_id":30573323,"question_id":178479,"body_markdown":"Spring allows [passing java.util.Lists to NamedParameterJdbcTemplate][1] , which automates the generation of (?, ?, ?, ..., ?), as appropriate for the number of arguments.\r\n\r\nFor Oracle, [this blog posting][2] discusses the use of oracle.sql.ARRAY (Connection.createArrayOf doesn&#39;t work with Oracle). For this you have to modify your SQL statement:\r\n\r\n    SELECT my_column FROM my_table where search_column IN (select COLUMN_VALUE from table(?))\r\n\r\nThe [oracle table function][3] transforms the passed array into a table like value usable in the `IN` statement.\r\n\r\n\r\n\r\n\r\n  [1]: http://docs.spring.io/spring/docs/4.2.x/spring-framework-reference/html/jdbc.html#jdbc-in-clause\r\n  [2]: https://blogs.itemis.de/kloss/2009/03/05/arrays-preparedstatements-jdbc-and-oracle/\r\n  [3]: http://stevenfeuersteinonplsql.blogspot.de/2015/04/table-functions-introduction-and.html\r\n","title":"PreparedStatement IN clause alternatives?","body":"<p>Spring allows <a href=\"http://docs.spring.io/spring/docs/4.2.x/spring-framework-reference/html/jdbc.html#jdbc-in-clause\" rel=\"nofollow\">passing java.util.Lists to NamedParameterJdbcTemplate</a> , which automates the generation of (?, ?, ?, ..., ?), as appropriate for the number of arguments.</p>\n\n<p>For Oracle, <a href=\"https://blogs.itemis.de/kloss/2009/03/05/arrays-preparedstatements-jdbc-and-oracle/\" rel=\"nofollow\">this blog posting</a> discusses the use of oracle.sql.ARRAY (Connection.createArrayOf doesn't work with Oracle). For this you have to modify your SQL statement:</p>\n\n<pre><code>SELECT my_column FROM my_table where search_column IN (select COLUMN_VALUE from table(?))\n</code></pre>\n\n<p>The <a href=\"http://stevenfeuersteinonplsql.blogspot.de/2015/04/table-functions-introduction-and.html\" rel=\"nofollow\">oracle table function</a> transforms the passed array into a table like value usable in the <code>IN</code> statement.</p>\n"},{"tags":[],"owner":{"account_id":7805313,"reputation":1804,"user_id":5903395,"display_name":"Gee Bee"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1455720258,"creation_date":1455720258,"answer_id":35459827,"question_id":178479,"body_markdown":"## Limitations of the in() operator is the root of all evil. \n\nIt works for trivial cases, and you can extend it with &quot;automatic generation of the prepared statement&quot; however it is always having its limits.\n\n * if you&#39;re creating a statement with variable number of parameters, that will make an sql parse overhead at each call\n * on many platforms, the number of parameters of in() operator are limited \n * on all platforms, total SQL text size is limited, making impossible for sending down 2000 placeholders for the in params\n * sending down bind variables of 1000-10k is not possible, as the JDBC driver is having its limitations\n\nThe in() approach can be good enough for some cases, but not rocket proof :)\n\nThe rocket-proof solution is to pass the arbitrary number of parameters in a separate call (by passing a clob of params, for example), and then have a view (or any other way) to represent them in SQL and use in your where criteria.\n\nA brute-force variant is here http://tkyte.blogspot.hu/2006/06/varying-in-lists.html \n\nHowever if you can use PL/SQL, this mess can become pretty neat.\n\n    function getCustomers(in_customerIdList clob) return sys_refcursor is \n    begin\n        aux_in_list.parse(in_customerIdList);\n        open res for\n            select * \n            from   customer c,\n                   in_list v\n            where  c.customer_id=v.token;\n        return res;\n    end;\n\nThen you can pass arbitrary number of comma separated customer ids in the parameter, and:\n\n * will get no parse delay, as the SQL for select is stable\n * no pipelined functions complexity - it is just one query\n * the SQL is using a simple join, instead of an IN operator, which is quite fast\n * after all, it is a good rule of thumb of *not* hitting the database with any plain select or DML, since it is Oracle, which offers lightyears of more than MySQL or similar simple database engines. PL/SQL allows you to hide the storage model from your application domain model in an effective way.\n\nThe trick here is:\n\n * we need a call which accepts the long string, and store somewhere where the db session can access to it (e.g. simple package variable, or dbms_session.set_context)\n * then we need a view which can parse this to rows\n * and then you have a view which contains the ids you&#39;re querying, so all you need is a simple join to the table queried.\n\nThe view looks like:\n\n    create or replace view in_list\n    as\n    select\n        trim( substr (txt,\n              instr (txt, &#39;,&#39;, 1, level  ) + 1,\n              instr (txt, &#39;,&#39;, 1, level+1)\n                 - instr (txt, &#39;,&#39;, 1, level) -1 ) ) as token\n        from (select &#39;,&#39;||aux_in_list.getpayload||&#39;,&#39; txt from dual)\n    connect by level &lt;= length(aux_in_list.getpayload)-length(replace(aux_in_list.getpayload,&#39;,&#39;,&#39;&#39;))+1\n\nwhere aux_in_list.getpayload refers to the original input string.\n\n---\n\nA possible approach would be to pass pl/sql arrays (supported by Oracle only), however you can&#39;t use those in pure SQL, therefore a conversion step is always needed. The conversion can not be done in SQL, so after all, passing a clob with all parameters in string and converting it witin a view is the most efficient solution.\n","title":"PreparedStatement IN clause alternatives?","body":"<h2>Limitations of the in() operator is the root of all evil.</h2>\n<p>It works for trivial cases, and you can extend it with &quot;automatic generation of the prepared statement&quot; however it is always having its limits.</p>\n<ul>\n<li>if you're creating a statement with variable number of parameters, that will make an sql parse overhead at each call</li>\n<li>on many platforms, the number of parameters of in() operator are limited</li>\n<li>on all platforms, total SQL text size is limited, making impossible for sending down 2000 placeholders for the in params</li>\n<li>sending down bind variables of 1000-10k is not possible, as the JDBC driver is having its limitations</li>\n</ul>\n<p>The in() approach can be good enough for some cases, but not rocket proof :)</p>\n<p>The rocket-proof solution is to pass the arbitrary number of parameters in a separate call (by passing a clob of params, for example), and then have a view (or any other way) to represent them in SQL and use in your where criteria.</p>\n<p>A brute-force variant is here <a href=\"http://tkyte.blogspot.hu/2006/06/varying-in-lists.html\" rel=\"noreferrer\">http://tkyte.blogspot.hu/2006/06/varying-in-lists.html</a></p>\n<p>However if you can use PL/SQL, this mess can become pretty neat.</p>\n<pre><code>function getCustomers(in_customerIdList clob) return sys_refcursor is \nbegin\n    aux_in_list.parse(in_customerIdList);\n    open res for\n        select * \n        from   customer c,\n               in_list v\n        where  c.customer_id=v.token;\n    return res;\nend;\n</code></pre>\n<p>Then you can pass arbitrary number of comma separated customer ids in the parameter, and:</p>\n<ul>\n<li>will get no parse delay, as the SQL for select is stable</li>\n<li>no pipelined functions complexity - it is just one query</li>\n<li>the SQL is using a simple join, instead of an IN operator, which is quite fast</li>\n<li>after all, it is a good rule of thumb of <em>not</em> hitting the database with any plain select or DML, since it is Oracle, which offers lightyears of more than MySQL or similar simple database engines. PL/SQL allows you to hide the storage model from your application domain model in an effective way.</li>\n</ul>\n<p>The trick here is:</p>\n<ul>\n<li>we need a call which accepts the long string, and store somewhere where the db session can access to it (e.g. simple package variable, or dbms_session.set_context)</li>\n<li>then we need a view which can parse this to rows</li>\n<li>and then you have a view which contains the ids you're querying, so all you need is a simple join to the table queried.</li>\n</ul>\n<p>The view looks like:</p>\n<pre><code>create or replace view in_list\nas\nselect\n    trim( substr (txt,\n          instr (txt, ',', 1, level  ) + 1,\n          instr (txt, ',', 1, level+1)\n             - instr (txt, ',', 1, level) -1 ) ) as token\n    from (select ','||aux_in_list.getpayload||',' txt from dual)\nconnect by level &lt;= length(aux_in_list.getpayload)-length(replace(aux_in_list.getpayload,',',''))+1\n</code></pre>\n<p>where aux_in_list.getpayload refers to the original input string.</p>\n<hr />\n<p>A possible approach would be to pass pl/sql arrays (supported by Oracle only), however you can't use those in pure SQL, therefore a conversion step is always needed. The conversion can not be done in SQL, so after all, passing a clob with all parameters in string and converting it witin a view is the most efficient solution.</p>\n"},{"tags":[],"owner":{"account_id":4083428,"reputation":91,"user_id":3353334,"display_name":"m.sabouri"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1460092017,"creation_date":1460092017,"answer_id":36491947,"question_id":178479,"body_markdown":"Here&#39;s how I solved it in my own application. Ideally, you should use a StringBuilder instead of using + for Strings.\r\n\r\n        String inParenthesis = &quot;(?&quot;;\r\n        for(int i = 1;i &lt; myList.size();i++) {\r\n          inParenthesis += &quot;, ?&quot;;\r\n        }\r\n        inParenthesis += &quot;)&quot;;\r\n\r\n        try(PreparedStatement statement = SQLite.connection.prepareStatement(\r\n            String.format(&quot;UPDATE table SET value=&#39;WINNER&#39; WHERE startTime=? AND name=? AND traderIdx=? AND someValue IN %s&quot;, inParenthesis))) {\r\n          int x = 1;\r\n          statement.setLong(x++, race.startTime);\r\n          statement.setString(x++, race.name);\r\n          statement.setInt(x++, traderIdx);\r\n\r\n          for(String str : race.betFair.winners) {\r\n            statement.setString(x++, str);\r\n          }\r\n          \r\n          int effected = statement.executeUpdate();\r\n        }\r\n\r\nUsing a variable like x above instead of concrete numbers helps a lot if you decide to change the query at a later time.","title":"PreparedStatement IN clause alternatives?","body":"<p>Here's how I solved it in my own application. Ideally, you should use a StringBuilder instead of using + for Strings.</p>\n\n<pre><code>    String inParenthesis = \"(?\";\n    for(int i = 1;i &lt; myList.size();i++) {\n      inParenthesis += \", ?\";\n    }\n    inParenthesis += \")\";\n\n    try(PreparedStatement statement = SQLite.connection.prepareStatement(\n        String.format(\"UPDATE table SET value='WINNER' WHERE startTime=? AND name=? AND traderIdx=? AND someValue IN %s\", inParenthesis))) {\n      int x = 1;\n      statement.setLong(x++, race.startTime);\n      statement.setString(x++, race.name);\n      statement.setInt(x++, traderIdx);\n\n      for(String str : race.betFair.winners) {\n        statement.setString(x++, str);\n      }\n\n      int effected = statement.executeUpdate();\n    }\n</code></pre>\n\n<p>Using a variable like x above instead of concrete numbers helps a lot if you decide to change the query at a later time.</p>\n"},{"tags":[],"owner":{"account_id":7774376,"reputation":425,"user_id":5882929,"display_name":"Panky031"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1465503164,"creation_date":1465500881,"answer_id":37734734,"question_id":178479,"body_markdown":"You could use setArray method as mentioned in [this javadoc][1]:\r\n    \r\n    \r\n    PreparedStatement statement = connection.prepareStatement(&quot;Select * from emp where field in (?)&quot;);\r\n    Array array = statement.getConnection().createArrayOf(&quot;VARCHAR&quot;, new Object[]{&quot;E1&quot;, &quot;E2&quot;,&quot;E3&quot;});\r\n    statement.setArray(1, array);\r\n    ResultSet rs = statement.executeQuery();\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/sql/PreparedStatement.html#setArray(int,%20java.sql.Array)","title":"PreparedStatement IN clause alternatives?","body":"<p>You could use setArray method as mentioned in <a href=\"http://docs.oracle.com/javase/6/docs/api/java/sql/PreparedStatement.html#setArray(int,%20java.sql.Array)\" rel=\"nofollow\">this javadoc</a>:</p>\n\n<pre><code>PreparedStatement statement = connection.prepareStatement(\"Select * from emp where field in (?)\");\nArray array = statement.getConnection().createArrayOf(\"VARCHAR\", new Object[]{\"E1\", \"E2\",\"E3\"});\nstatement.setArray(1, array);\nResultSet rs = statement.executeQuery();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":156278,"reputation":1339,"user_id":373466,"accept_rate":59,"display_name":"smooth_smoothie"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1485977305,"creation_date":1485977305,"answer_id":41988063,"question_id":178479,"body_markdown":"My workaround (JavaScript)\r\n\r\n        var s1 = &quot; SELECT &quot;\r\n        \t\t\t\t\r\n     + &quot;FROM   table t &quot;\r\n        \t\t\t\t\r\n     + &quot;  where t.field in &quot;;\r\n        \t\t\t\t\t\r\n      var s3 = &#39;(&#39;;\r\n        \t\t\t\t\t\r\n      for(var i =0;i&lt;searchTerms.length;i++)\r\n      {\r\n      \tif(i+1 == searchTerms.length)\r\n      \t{\r\n      \t s3  = s3+&#39;?)&#39;;\r\n        }\r\n        else\r\n        {\r\n        \ts3  = s3+&#39;?, &#39; ;\r\n        }\r\n       }\r\n       \tvar query = s1+s3;\r\n    \r\n        var pstmt = connection.prepareStatement(query);\r\n    \r\n         for(var i =0;i&lt;searchTerms.length;i++)\r\n        {\r\n        \tpstmt.setString(i+1, searchTerms[i]);\r\n        }\r\n    \t\t\t\t\t\t\t \r\n    \t\t\t\r\n\r\n\t\r\n`SearchTerms` is the array which contains your input/keys/fields etc","title":"PreparedStatement IN clause alternatives?","body":"<p>My workaround (JavaScript)</p>\n\n<pre><code>    var s1 = \" SELECT \"\n\n + \"FROM   table t \"\n\n + \"  where t.field in \";\n\n  var s3 = '(';\n\n  for(var i =0;i&lt;searchTerms.length;i++)\n  {\n    if(i+1 == searchTerms.length)\n    {\n     s3  = s3+'?)';\n    }\n    else\n    {\n        s3  = s3+'?, ' ;\n    }\n   }\n    var query = s1+s3;\n\n    var pstmt = connection.prepareStatement(query);\n\n     for(var i =0;i&lt;searchTerms.length;i++)\n    {\n        pstmt.setString(i+1, searchTerms[i]);\n    }\n</code></pre>\n\n<p><code>SearchTerms</code> is the array which contains your input/keys/fields etc</p>\n"},{"tags":[],"owner":{"account_id":3190994,"reputation":1286,"user_id":2695227,"display_name":"pedram bashiri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1497295598,"creation_date":1496869511,"answer_id":44422748,"question_id":178479,"body_markdown":"PreparedStatement doesn&#39;t provide any good way to deal with SQL IN clause. Per http://www.javaranch.com/journal/200510/Journal200510.jsp#a2 &quot;You can&#39;t substitute things that are meant to become part of the SQL statement. This is necessary because if the SQL itself can change, the driver can&#39;t precompile the statement. It also has the nice side effect of preventing SQL injection attacks.&quot; I ended up using following approach:\r\n\r\n    String query = &quot;SELECT my_column FROM my_table where search_column IN ($searchColumns)&quot;;\r\n    query = query.replace(&quot;$searchColumns&quot;, &quot;&#39;A&#39;, &#39;B&#39;, &#39;C&#39;&quot;);\r\n    Statement stmt = connection.createStatement();\r\n    boolean hasResults = stmt.execute(query);\r\n    do {\r\n        if (hasResults)\r\n            return stmt.getResultSet();\r\n    \r\n        hasResults = stmt.getMoreResults();\r\n    \r\n    } while (hasResults || stmt.getUpdateCount() != -1);","title":"PreparedStatement IN clause alternatives?","body":"<p>PreparedStatement doesn't provide any good way to deal with SQL IN clause. Per <a href=\"http://www.javaranch.com/journal/200510/Journal200510.jsp#a2\" rel=\"nofollow noreferrer\">http://www.javaranch.com/journal/200510/Journal200510.jsp#a2</a> \"You can't substitute things that are meant to become part of the SQL statement. This is necessary because if the SQL itself can change, the driver can't precompile the statement. It also has the nice side effect of preventing SQL injection attacks.\" I ended up using following approach:</p>\n\n<pre><code>String query = \"SELECT my_column FROM my_table where search_column IN ($searchColumns)\";\nquery = query.replace(\"$searchColumns\", \"'A', 'B', 'C'\");\nStatement stmt = connection.createStatement();\nboolean hasResults = stmt.execute(query);\ndo {\n    if (hasResults)\n        return stmt.getResultSet();\n\n    hasResults = stmt.getMoreResults();\n\n} while (hasResults || stmt.getUpdateCount() != -1);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1023515,"reputation":4993,"user_id":1033305,"accept_rate":100,"display_name":"Raheel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1519892959,"creation_date":1519840544,"answer_id":49035778,"question_id":178479,"body_markdown":"SetArray is the best solution but its not available for many older drivers. The following workaround can be used in java8\r\n\r\n    String baseQuery =&quot;SELECT my_column FROM my_table where search_column IN (%s)&quot;\r\n    \r\n    String markersString = inputArray.stream().map(e -&gt; &quot;?&quot;).collect(joining(&quot;,&quot;));\r\n    String sqlQuery = String.format(baseSQL, markersString);\r\n    \r\n    //Now create Prepared Statement and use loop to Set entries\r\n    int index=1;\r\n\r\n    for (String input : inputArray) {\r\n         preparedStatement.setString(index++, input);\r\n    }\r\n\r\n\r\nThis solution is better than other ugly while loop solutions where the query string is built by manual iterations \r\n","title":"PreparedStatement IN clause alternatives?","body":"<p>SetArray is the best solution but its not available for many older drivers. The following workaround can be used in java8</p>\n\n<pre><code>String baseQuery =\"SELECT my_column FROM my_table where search_column IN (%s)\"\n\nString markersString = inputArray.stream().map(e -&gt; \"?\").collect(joining(\",\"));\nString sqlQuery = String.format(baseSQL, markersString);\n\n//Now create Prepared Statement and use loop to Set entries\nint index=1;\n\nfor (String input : inputArray) {\n     preparedStatement.setString(index++, input);\n}\n</code></pre>\n\n<p>This solution is better than other ugly while loop solutions where the query string is built by manual iterations </p>\n"},{"tags":[],"owner":{"account_id":8463731,"reputation":38757,"user_id":6348498,"accept_rate":92,"display_name":"Gurwinder Singh"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1524994420,"creation_date":1524994420,"answer_id":50085176,"question_id":178479,"body_markdown":"You can use `Collections.nCopies` to generate a collection of placeholders and join them using `String.join`:\r\n\r\n\tList&lt;String&gt; params = getParams();\r\n\tString placeHolders = String.join(&quot;,&quot;, Collections.nCopies(params.size(), &quot;?&quot;));\r\n\tString sql = &quot;select * from your_table where some_column in (&quot; + placeHolders + &quot;)&quot;;\r\n\ttry (\tConnection connection = getConnection();\r\n\t\t\tPreparedStatement ps = connection.prepareStatement(sql)) {\r\n\t\tint i = 1;\r\n\t\tfor (String param : params) {\r\n\t\t\tps.setString(i++, param);\r\n\t\t}\r\n\t\t/*\r\n\t\t * Execute query/do stuff\r\n\t\t */\r\n\t}","title":"PreparedStatement IN clause alternatives?","body":"<p>You can use <code>Collections.nCopies</code> to generate a collection of placeholders and join them using <code>String.join</code>:</p>\n\n<pre><code>List&lt;String&gt; params = getParams();\nString placeHolders = String.join(\",\", Collections.nCopies(params.size(), \"?\"));\nString sql = \"select * from your_table where some_column in (\" + placeHolders + \")\";\ntry (   Connection connection = getConnection();\n        PreparedStatement ps = connection.prepareStatement(sql)) {\n    int i = 1;\n    for (String param : params) {\n        ps.setString(i++, param);\n    }\n    /*\n     * Execute query/do stuff\n     */\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2140228,"reputation":400,"user_id":1899071,"display_name":"Joel Fouse"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1547178298,"creation_date":1547178298,"answer_id":54140112,"question_id":178479,"body_markdown":"I just worked out a PostgreSQL-specific option for this.  It&#39;s a bit of a hack, and comes with its own pros and cons and limitations, but it seems to work and isn&#39;t limited to a specific development language, platform, or PG driver.\r\n\r\nThe trick of course is to find a way to pass an arbitrary length collection of values as a single parameter, and have the db recognize it as multiple values.  The solution I have working is to construct a delimited string from the values in the collection, pass that string as a single parameter, and use string_to_array() with the requisite casting for PostgreSQL to properly make use of it.\r\n\r\nSo if you want to search for &quot;foo&quot;, &quot;blah&quot;, and &quot;abc&quot;, you might concatenate them together into a single string as: &#39;foo,blah,abc&#39;.  Here&#39;s the straight SQL:\r\n\r\n    select column from table\r\n    where search_column = any (string_to_array(&#39;foo,blah,abc&#39;, &#39;,&#39;)::text[]);\r\n\r\nYou would obviously change the explicit cast to whatever you wanted your resulting value array to be -- int, text, uuid, etc. And because the function is taking a single string value (or two I suppose, if you want to customize the delimiter as well), you can pass it as a parameter in a prepared statement:\r\n\r\n    select column from table\r\n    where search_column = any (string_to_array($1, &#39;,&#39;)::text[]);\r\n\r\nThis is even flexible enough to support things like LIKE comparisons:\r\n\r\n    select column from table\r\n    where search_column like any (string_to_array(&#39;foo%,blah%,abc%&#39;, &#39;,&#39;)::text[]);\r\n\r\nAgain, no question it&#39;s a hack, but it works and allows you to still use pre-compiled prepared statements that take *\\*ahem\\** discrete parameters, with the accompanying security and (maybe) performance benefits.  Is it advisable and actually performant?  Naturally, it depends, as you&#39;ve got string parsing and possibly casting going on before your query even runs.  If you&#39;re expecting to send three, five, a few dozen values, sure, it&#39;s probably fine.  A few thousand?  Yeah, maybe not so much.  YMMV, limitations and exclusions apply, no warranty express or implied.\r\n\r\nBut it works.","title":"PreparedStatement IN clause alternatives?","body":"<p>I just worked out a PostgreSQL-specific option for this.  It's a bit of a hack, and comes with its own pros and cons and limitations, but it seems to work and isn't limited to a specific development language, platform, or PG driver.</p>\n\n<p>The trick of course is to find a way to pass an arbitrary length collection of values as a single parameter, and have the db recognize it as multiple values.  The solution I have working is to construct a delimited string from the values in the collection, pass that string as a single parameter, and use string_to_array() with the requisite casting for PostgreSQL to properly make use of it.</p>\n\n<p>So if you want to search for \"foo\", \"blah\", and \"abc\", you might concatenate them together into a single string as: 'foo,blah,abc'.  Here's the straight SQL:</p>\n\n<pre><code>select column from table\nwhere search_column = any (string_to_array('foo,blah,abc', ',')::text[]);\n</code></pre>\n\n<p>You would obviously change the explicit cast to whatever you wanted your resulting value array to be -- int, text, uuid, etc. And because the function is taking a single string value (or two I suppose, if you want to customize the delimiter as well), you can pass it as a parameter in a prepared statement:</p>\n\n<pre><code>select column from table\nwhere search_column = any (string_to_array($1, ',')::text[]);\n</code></pre>\n\n<p>This is even flexible enough to support things like LIKE comparisons:</p>\n\n<pre><code>select column from table\nwhere search_column like any (string_to_array('foo%,blah%,abc%', ',')::text[]);\n</code></pre>\n\n<p>Again, no question it's a hack, but it works and allows you to still use pre-compiled prepared statements that take <em>*ahem*</em> discrete parameters, with the accompanying security and (maybe) performance benefits.  Is it advisable and actually performant?  Naturally, it depends, as you've got string parsing and possibly casting going on before your query even runs.  If you're expecting to send three, five, a few dozen values, sure, it's probably fine.  A few thousand?  Yeah, maybe not so much.  YMMV, limitations and exclusions apply, no warranty express or implied.</p>\n\n<p>But it works.</p>\n"},{"tags":[],"owner":{"account_id":1031067,"reputation":301,"user_id":1039367,"accept_rate":100,"display_name":"Nikita Shah"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1579072753,"creation_date":1579072753,"answer_id":59746690,"question_id":178479,"body_markdown":"This worked for me (psuedocode):\r\n\r\n    public class SqlHelper\r\n    {\r\n        public static final ArrayList&lt;String&gt;platformList = new ArrayList&lt;&gt;(Arrays.asList(&quot;iOS&quot;,&quot;Android&quot;,&quot;Windows&quot;,&quot;Mac&quot;));\r\n\r\n        public static final String testQuery = &quot;select * from devices where platform_nm in (:PLATFORM_NAME)&quot;;\r\n    }\r\n\r\nspecicify binding :\r\n\r\n    public class Test extends NamedParameterJdbcDaoSupport\r\n    public List&lt;SampleModelClass&gt; runQuery()\r\n    {\r\n        //define rowMapper to insert in object of SampleClass\r\n        final Map&lt;String,Object&gt; map = new HashMap&lt;&gt;();\r\n\t    map.put(&quot;PLATFORM_LIST&quot;,DeviceDataSyncQueryConstants.platformList);\r\n        return getNamedParameterJdbcTemplate().query(SqlHelper.testQuery, map, rowMapper)\r\n    }\r\n\r\n\r\n \r\n\r\n\r\n\r\n\r\n ","title":"PreparedStatement IN clause alternatives?","body":"<p>This worked for me (psuedocode):</p>\n\n<pre><code>public class SqlHelper\n{\n    public static final ArrayList&lt;String&gt;platformList = new ArrayList&lt;&gt;(Arrays.asList(\"iOS\",\"Android\",\"Windows\",\"Mac\"));\n\n    public static final String testQuery = \"select * from devices where platform_nm in (:PLATFORM_NAME)\";\n}\n</code></pre>\n\n<p>specicify binding :</p>\n\n<pre><code>public class Test extends NamedParameterJdbcDaoSupport\npublic List&lt;SampleModelClass&gt; runQuery()\n{\n    //define rowMapper to insert in object of SampleClass\n    final Map&lt;String,Object&gt; map = new HashMap&lt;&gt;();\n    map.put(\"PLATFORM_LIST\",DeviceDataSyncQueryConstants.platformList);\n    return getNamedParameterJdbcTemplate().query(SqlHelper.testQuery, map, rowMapper)\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1619080151,"creation_date":1619080151,"answer_id":67209550,"question_id":178479,"body_markdown":"No one else seems to have suggested using an off-the-shelf query builder yet, like [jOOQ][1] or [QueryDSL][2] or even [Criteria Query][3] that manage [dynamic `IN` lists][4] out of the box, possibly including the management of all edge cases that may arise, such as:\r\n\r\n- Running into Oracle&#39;s maximum of 1000 elements per `IN` list (irrespective of the number of bind values)\r\n- Running into any driver&#39;s maximum number of bind values, [which I&#39;ve documented in this answer][5]\r\n- Running into cursor cache contention problems because too many distinct SQL strings are &quot;hard parsed&quot; and execution plans cannot be cached anymore (jOOQ and since recently also Hibernate work around this by offering [`IN` list padding][6])\r\n\r\n(Disclaimer: I work for the company behind jOOQ)\r\n\r\n  [1]: https://www.jooq.org\r\n  [2]: http://www.querydsl.com\r\n  [3]: https://www.baeldung.com/hibernate-criteria-queries\r\n  [4]: https://www.jooq.org/doc/latest/manual/sql-building/conditional-expressions/in-predicate/\r\n  [5]: https://stackoverflow.com/a/54149292/521799\r\n  [6]: https://www.jooq.org/doc/latest/manual/sql-building/dsl-context/custom-settings/settings-in-list-padding/\r\n  [7]: https://hibernate.atlassian.net/browse/HHH-13108\r\n  [8]: https://blog.jooq.org/2017/03/30/sql-in-predicate-with-in-list-or-with-array-which-is-faster/","title":"PreparedStatement IN clause alternatives?","body":"<p>No one else seems to have suggested using an off-the-shelf query builder yet, like <a href=\"https://www.jooq.org\" rel=\"nofollow noreferrer\">jOOQ</a> or <a href=\"http://www.querydsl.com\" rel=\"nofollow noreferrer\">QueryDSL</a> or even <a href=\"https://www.baeldung.com/hibernate-criteria-queries\" rel=\"nofollow noreferrer\">Criteria Query</a> that manage <a href=\"https://www.jooq.org/doc/latest/manual/sql-building/conditional-expressions/in-predicate/\" rel=\"nofollow noreferrer\">dynamic <code>IN</code> lists</a> out of the box, possibly including the management of all edge cases that may arise, such as:</p>\n<ul>\n<li>Running into Oracle's maximum of 1000 elements per <code>IN</code> list (irrespective of the number of bind values)</li>\n<li>Running into any driver's maximum number of bind values, <a href=\"https://stackoverflow.com/a/54149292/521799\">which I've documented in this answer</a></li>\n<li>Running into cursor cache contention problems because too many distinct SQL strings are &quot;hard parsed&quot; and execution plans cannot be cached anymore (jOOQ and since recently also Hibernate work around this by offering <a href=\"https://www.jooq.org/doc/latest/manual/sql-building/dsl-context/custom-settings/settings-in-list-padding/\" rel=\"nofollow noreferrer\"><code>IN</code> list padding</a>)</li>\n</ul>\n<p>(Disclaimer: I work for the company behind jOOQ)</p>\n"},{"tags":[],"owner":{"account_id":537627,"reputation":568,"user_id":906036,"display_name":"Rod Meyer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1629400611,"creation_date":1629400611,"answer_id":68853470,"question_id":178479,"body_markdown":"OK, so I couldn&#39;t remember exactly how (or where) I did this before so I came to stack overflow to quickly find the answer.  I was surprised I couldn&#39;t.\r\n\r\nSo, how I got around the IN problem a long time ago was with a statement like this:\r\n\r\n**where myColumn in  ( select regexp_substr(:myList,&#39;[^,]+&#39;, 1, level) from dual  connect by regexp_substr(:myList, &#39;[^,]+&#39;, 1, level) is not null)**\r\n\r\nset the myList parameter as a comma delimited string:  A,B,C,D...\r\n\r\nNote:  You have to set the parameter twice!\r\n\r\n\r\n","title":"PreparedStatement IN clause alternatives?","body":"<p>OK, so I couldn't remember exactly how (or where) I did this before so I came to stack overflow to quickly find the answer.  I was surprised I couldn't.</p>\n<p>So, how I got around the IN problem a long time ago was with a statement like this:</p>\n<p><strong>where myColumn in  ( select regexp_substr(:myList,'[^,]+', 1, level) from dual  connect by regexp_substr(:myList, '[^,]+', 1, level) is not null)</strong></p>\n<p>set the myList parameter as a comma delimited string:  A,B,C,D...</p>\n<p>Note:  You have to set the parameter twice!</p>\n"},{"tags":[],"owner":{"account_id":1652342,"reputation":1547,"user_id":1522660,"display_name":"Kris Khairallah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670919222,"creation_date":1670919222,"answer_id":74781763,"question_id":178479,"body_markdown":"This is not the ideal practice, yet it&#39;s simple and works well for me most of the time.\r\n\r\n    where ? like concat( &quot;%|&quot;, TABLE_ID , &quot;|%&quot; ) \r\n\r\nThen you pass through ? the IDs in this way: |1|,|2|,|3|,...|\r\n","title":"PreparedStatement IN clause alternatives?","body":"<p>This is not the ideal practice, yet it's simple and works well for me most of the time.</p>\n<pre><code>where ? like concat( &quot;%|&quot;, TABLE_ID , &quot;|%&quot; ) \n</code></pre>\n<p>Then you pass through ? the IDs in this way: |1|,|2|,|3|,...|</p>\n"},{"tags":[],"owner":{"account_id":26647805,"reputation":11,"user_id":20262528,"display_name":"Akash"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673869125,"creation_date":1671021669,"answer_id":74798477,"question_id":178479,"body_markdown":"You can just use setArray() method of PreparedStatement\r\n```\r\nPreparedStatement statement = connection.prepareStatement(&quot;Select * from emp where field in (?)&quot;);\r\nstatement.setArray(1, Arrays.asList(1,2,3,4,5));\r\nResultSet rs = statement.executeQuery();\r\n```","title":"PreparedStatement IN clause alternatives?","body":"<p>You can just use setArray() method of PreparedStatement</p>\n<pre><code>PreparedStatement statement = connection.prepareStatement(&quot;Select * from emp where field in (?)&quot;);\nstatement.setArray(1, Arrays.asList(1,2,3,4,5));\nResultSet rs = statement.executeQuery();\n</code></pre>\n"}],"owner":{"account_id":8709,"reputation":5827,"user_id":15816,"display_name":"Chris Mazzola"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":379437,"favorite_count":0,"down_vote_count":1,"up_vote_count":392,"accepted_answer_id":189399,"answer_count":33,"score":391,"last_activity_date":1673869125,"creation_date":1223386896,"question_id":178479,"body_markdown":"What are the best workarounds for using a SQL `IN` clause with instances of `java.sql.PreparedStatement`, which is not supported for multiple values due to SQL injection attack security issues: One `?` placeholder represents one value, rather than a list of values.\r\n\r\nConsider the following SQL statement:\r\n\r\n    SELECT my_column FROM my_table where search_column IN (?)\r\n\r\nUsing `preparedStatement.setString( 1, &quot;&#39;A&#39;, &#39;B&#39;, &#39;C&#39;&quot; );` is essentially a non-working attempt at a workaround of the reasons for using `?` in the first place.  \r\n\r\nWhat workarounds are available?\r\n","title":"PreparedStatement IN clause alternatives?","body":"<p>What are the best workarounds for using a SQL <code>IN</code> clause with instances of <code>java.sql.PreparedStatement</code>, which is not supported for multiple values due to SQL injection attack security issues: One <code>?</code> placeholder represents one value, rather than a list of values.</p>\n\n<p>Consider the following SQL statement:</p>\n\n<pre><code>SELECT my_column FROM my_table where search_column IN (?)\n</code></pre>\n\n<p>Using <code>preparedStatement.setString( 1, \"'A', 'B', 'C'\" );</code> is essentially a non-working attempt at a workaround of the reasons for using <code>?</code> in the first place.  </p>\n\n<p>What workarounds are available?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":2,"creation_date":1338833930,"post_id":10886068,"comment_id":14188552,"body_markdown":"Side note: the `char[] list = new char[raw.length()];` allocates a new array and assigns it to the list variable, but the next line assigns another array to the same variable. The first line is thus unnecessary, and allocates memory for nothing. You should just use `char[] list = raw.toCharArray();`","body":"Side note: the <code>char[] list = new char[raw.length()];</code> allocates a new array and assigns it to the list variable, but the next line assigns another array to the same variable. The first line is thus unnecessary, and allocates memory for nothing. You should just use <code>char[] list = raw.toCharArray();</code>"},{"owner":{"account_id":134022,"reputation":717183,"user_id":335858,"accept_rate":81,"display_name":"Sergey Kalinichenko"},"score":0,"creation_date":1338834079,"post_id":10886068,"comment_id":14188612,"body_markdown":"`System.out.println(num);` will not print anything of much interest :)","body":"<code>System.out.println(num);</code> will not print anything of much interest :)"},{"owner":{"account_id":1418971,"reputation":15473,"user_id":1344008,"display_name":"npe"},"score":2,"creation_date":1338834093,"post_id":10886068,"comment_id":14188623,"body_markdown":"Just a quick question: after executing this, should `num[i]` be `1` or be `49`? Because just casting `char` to `int` the way you are trying to do it, will result in `49` which is a ascii-code of `1`.","body":"Just a quick question: after executing this, should <code>num[i]</code> be <code>1</code> or be <code>49</code>? Because just casting <code>char</code> to <code>int</code> the way you are trying to do it, will result in <code>49</code> which is a ascii-code of <code>1</code>."},{"owner":{"account_id":1541055,"reputation":173,"user_id":1435708,"display_name":"daedalus"},"score":0,"creation_date":1338834693,"post_id":10886068,"comment_id":14188860,"body_markdown":"@JBNizet thank you, corrected\n\ndasblinkenlight, actually, it doesn&#39;t, but it prints out &quot;[@41ed8741&quot; no matter what string of numbers i use\n\nnpe, you are right, I tested with num[5] (the number 8) and that printed 56 (the ascii for 8). so how would i go about converting it from ascii?","body":"@JBNizet thank you, corrected  dasblinkenlight, actually, it doesn&#39;t, but it prints out &quot;[@41ed8741&quot; no matter what string of numbers i use  npe, you are right, I tested with num[5] (the number 8) and that printed 56 (the ascii for 8). so how would i go about converting it from ascii?"},{"owner":{"account_id":134022,"reputation":717183,"user_id":335858,"accept_rate":81,"display_name":"Sergey Kalinichenko"},"score":0,"creation_date":1338835249,"post_id":10886068,"comment_id":14189086,"body_markdown":"@daedalus That string the `println(num)` prints simply tells you that you printed an array at a certain address, regardless of the array&#39;s content. Use `println(Arrays.toString(num))` instead.","body":"@daedalus That string the <code>println(num)</code> prints simply tells you that you printed an array at a certain address, regardless of the array&#39;s content. Use <code>println(Arrays.toString(num))</code> instead."},{"owner":{"account_id":251439,"reputation":245,"user_id":528825,"display_name":"Charles"},"score":0,"creation_date":1338835492,"post_id":10886068,"comment_id":14189202,"body_markdown":"@daedalus take a look at `Integer.parseInt(String s);`","body":"@daedalus take a look at <code>Integer.parseInt(String s);</code>"}],"answers":[{"tags":[],"owner":{"account_id":468537,"reputation":2527,"user_id":874596,"display_name":"Bela Vizer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1338833755,"creation_date":1338833755,"answer_id":10886099,"question_id":10886068,"body_markdown":"this line:\r\n\r\n    num[i] = (int[])list[i];\r\n\r\nshould be:\r\n\r\n    num[i] = (int)list[i];\r\n\r\n","title":"char array to int array","body":"<p>this line:</p>\n\n<pre><code>num[i] = (int[])list[i];\n</code></pre>\n\n<p>should be:</p>\n\n<pre><code>num[i] = (int)list[i];\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1448843,"reputation":2790,"user_id":1366439,"accept_rate":87,"display_name":"CBredlow"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1338834082,"creation_date":1338833776,"answer_id":10886105,"question_id":10886068,"body_markdown":"This class here: http://docs.oracle.com/javase/7/docs/api/java/lang/Integer.html should hep you out. It can parse the integers from a string. It would be a bit easier than using arrays.","title":"char array to int array","body":"<p>This class here: <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Integer.html\" rel=\"nofollow\">http://docs.oracle.com/javase/7/docs/api/java/lang/Integer.html</a> should hep you out. It can parse the integers from a string. It would be a bit easier than using arrays.</p>\n"},{"tags":[],"owner":{"account_id":360576,"reputation":60355,"user_id":702638,"accept_rate":98,"display_name":"Hunter McMillen"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1338833817,"creation_date":1338833817,"answer_id":10886116,"question_id":10886068,"body_markdown":"You shouldn&#39;t be casting each element to an integer array `int[]` but to an integer `int`:\r\n\r\n    for (int i = 0; i &gt; raw.length(); i++)\r\n    {\r\n       num[i] = (int)list[i];\r\n    }\r\n    \r\n    System.out.println(num);\r\n\r\n","title":"char array to int array","body":"<p>You shouldn't be casting each element to an integer array <code>int[]</code> but to an integer <code>int</code>:</p>\n\n<pre><code>for (int i = 0; i &gt; raw.length(); i++)\n{\n   num[i] = (int)list[i];\n}\n\nSystem.out.println(num);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":76573,"reputation":30860,"user_id":219118,"display_name":"sachleen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1338833851,"creation_date":1338833851,"answer_id":10886127,"question_id":10886068,"body_markdown":"You can&#39;t cast `list[i]` to `int[]`, but to `int`. Each index of the array is just an int, not an array of ints.\r\n\r\nSo it should be just \r\n\r\n    num[i] = (int)list[i];\r\n","title":"char array to int array","body":"<p>You can't cast <code>list[i]</code> to <code>int[]</code>, but to <code>int</code>. Each index of the array is just an int, not an array of ints.</p>\n\n<p>So it should be just </p>\n\n<pre><code>num[i] = (int)list[i];\n</code></pre>\n"},{"tags":[],"owner":{"account_id":134022,"reputation":717183,"user_id":335858,"accept_rate":81,"display_name":"Sergey Kalinichenko"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1472296006,"creation_date":1338833916,"answer_id":10886139,"question_id":10886068,"body_markdown":"Everyone have correctly identified the invalid cast in your code. You do not need that cast at all: Java will convert `char` to `int` implicitly:\r\n\r\n    String raw = &quot;1233983543587325318&quot;;\r\n\r\n    char[] list = raw.toCharArray();\r\n    int[] num = new int[raw.length()];\r\n\r\n    for (int i = 0; i &lt; raw.length(); i++) {\r\n        num[i] = Character.digit(list[i], 10);\r\n    }\r\n\r\n    System.out.println(Arrays.toString(num));","title":"char array to int array","body":"<p>Everyone have correctly identified the invalid cast in your code. You do not need that cast at all: Java will convert <code>char</code> to <code>int</code> implicitly:</p>\n\n<pre><code>String raw = \"1233983543587325318\";\n\nchar[] list = raw.toCharArray();\nint[] num = new int[raw.length()];\n\nfor (int i = 0; i &lt; raw.length(); i++) {\n    num[i] = Character.digit(list[i], 10);\n}\n\nSystem.out.println(Arrays.toString(num));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":345641,"reputation":2024,"user_id":678687,"accept_rate":72,"display_name":"SirPentor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1338834196,"creation_date":1338834196,"answer_id":10886197,"question_id":10886068,"body_markdown":"Everyone is right about the conversion problem. It looks like you actually tried a correct version but the output was garbeled. This is because `system.out.println(num)` doesn&#39;t do what you want it to in this case:) Use `system.out.println(java.util.Arrays.toString(num))` instead, and see [this thread][1] for more details.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/409784/simplest-way-to-print-an-array-in-java","title":"char array to int array","body":"<p>Everyone is right about the conversion problem. It looks like you actually tried a correct version but the output was garbeled. This is because <code>system.out.println(num)</code> doesn't do what you want it to in this case:) Use <code>system.out.println(java.util.Arrays.toString(num))</code> instead, and see <a href=\"https://stackoverflow.com/questions/409784/simplest-way-to-print-an-array-in-java\">this thread</a> for more details.</p>\n"},{"tags":[],"owner":{"account_id":1299431,"reputation":6587,"user_id":1249664,"accept_rate":85,"display_name":"auser"},"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1338834837,"creation_date":1338834268,"answer_id":10886217,"question_id":10886068,"body_markdown":"There are a number of issues with your solution. The first is the loop condition `i &gt; raw.length()` is wrong - your loops is never executed - thecondition should be `i &lt; raw.length()`\r\n\r\nThe second is the cast. You&#39;re attempting to cast to an integer array. In fact since the result is a char you don&#39;t have to cast to an int - a conversion will be done automatically. But the converted number isn&#39;t what you think it is. It&#39;s not the integer value you expect it to be but is in fact the ASCII value of the char. So you need to subtract the ASCII value of zero to get the integer value you&#39;re expecting.\r\n\r\nThe third is how you&#39;re trying to print the resultant integer array. You need to loop through each element of the array and print it out.\r\n\r\n\r\n\t    String raw = &quot;1233983543587325318&quot;;\r\n\r\n\t    int[] num = new int[raw.length()];\r\n\r\n\t    for (int i = 0; i &lt; raw.length(); i++){\r\n\t        num[i] = raw.charAt(i) - &#39;0&#39;;\r\n\t    }\r\n\r\n\t    for (int i : num) {\r\n\t    \tSystem.out.println(i);\r\n        }\r\n","title":"char array to int array","body":"<p>There are a number of issues with your solution. The first is the loop condition <code>i &gt; raw.length()</code> is wrong - your loops is never executed - thecondition should be <code>i &lt; raw.length()</code></p>\n\n<p>The second is the cast. You're attempting to cast to an integer array. In fact since the result is a char you don't have to cast to an int - a conversion will be done automatically. But the converted number isn't what you think it is. It's not the integer value you expect it to be but is in fact the ASCII value of the char. So you need to subtract the ASCII value of zero to get the integer value you're expecting.</p>\n\n<p>The third is how you're trying to print the resultant integer array. You need to loop through each element of the array and print it out.</p>\n\n<pre><code>    String raw = \"1233983543587325318\";\n\n    int[] num = new int[raw.length()];\n\n    for (int i = 0; i &lt; raw.length(); i++){\n        num[i] = raw.charAt(i) - '0';\n    }\n\n    for (int i : num) {\n        System.out.println(i);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1362092,"reputation":465,"user_id":1299260,"display_name":"Alvaro"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1363724988,"creation_date":1363724988,"answer_id":15509803,"question_id":10886068,"body_markdown":"For future references. char to int conversion is not implicitly, even with cast. You have to do something like that:\r\n\r\n\t\tString raw = &quot;1233983543587325318&quot;;\r\n\t\t\r\n\t\tchar[] list = raw.toCharArray();\r\n\t\tint[] num = new int[list.length];\r\n\t\t\r\n\t\tfor (int i = 0; i &lt; list.length; i++){\r\n\t\t\tnum[i] = list[i] - &#39;0&#39;;\r\n\t\t}\r\n\t\tSystem.out.println(Arrays.toString(num));","title":"char array to int array","body":"<p>For future references. char to int conversion is not implicitly, even with cast. You have to do something like that:</p>\n\n<pre><code>    String raw = \"1233983543587325318\";\n\n    char[] list = raw.toCharArray();\n    int[] num = new int[list.length];\n\n    for (int i = 0; i &lt; list.length; i++){\n        num[i] = list[i] - '0';\n    }\n    System.out.println(Arrays.toString(num));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1437036,"reputation":2669,"user_id":1358179,"display_name":"Martin"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1450908487,"creation_date":1433532725,"answer_id":30674405,"question_id":10886068,"body_markdown":"Two ways in Java 8:\r\n\r\n\tString raw = &quot;1233983543587325318&quot;;\r\n\r\n\tfinal int[] ints1 = raw.chars()\r\n\t\t.map(x -&gt; x - &#39;0&#39;)\r\n\t\t.toArray();\r\n\r\n    System.out.println(Arrays.toString(ints1));\r\n\r\n\tfinal int[] ints2 = Stream.of(raw.split(&quot;&quot;))\r\n\t\t.mapToInt(Integer::parseInt)\r\n\t\t.toArray();\r\n\r\n    System.out.println(Arrays.toString(ints2));\r\n\r\nThe second solution is probably quite inefficient as it uses a regular expression and creates string instances for every digit.","title":"char array to int array","body":"<p>Two ways in Java 8:</p>\n\n<pre><code>String raw = \"1233983543587325318\";\n\nfinal int[] ints1 = raw.chars()\n    .map(x -&gt; x - '0')\n    .toArray();\n\nSystem.out.println(Arrays.toString(ints1));\n\nfinal int[] ints2 = Stream.of(raw.split(\"\"))\n    .mapToInt(Integer::parseInt)\n    .toArray();\n\nSystem.out.println(Arrays.toString(ints2));\n</code></pre>\n\n<p>The second solution is probably quite inefficient as it uses a regular expression and creates string instances for every digit.</p>\n"},{"tags":[],"owner":{"account_id":5162166,"reputation":1,"user_id":5712619,"display_name":"Mehta Harsh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1450905586,"creation_date":1450905186,"answer_id":34443811,"question_id":10886068,"body_markdown":"    String raw = &quot;1233983543587325318&quot;;\r\n    char[] c = raw.toCharArray();\r\n    int[] a = new int[raw.length()];\r\n\r\n    for (int i = 0; i &lt; raw.length(); i++) {\r\n       a[i] = (int)c[i] - 48;\r\n    } ","title":"char array to int array","body":"<pre><code>String raw = \"1233983543587325318\";\nchar[] c = raw.toCharArray();\nint[] a = new int[raw.length()];\n\nfor (int i = 0; i &lt; raw.length(); i++) {\n   a[i] = (int)c[i] - 48;\n} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":14322597,"reputation":1,"user_id":10345515,"display_name":"Gopinath Sgn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1536645137,"creation_date":1536644725,"answer_id":52269378,"question_id":10886068,"body_markdown":"You can try like this,\r\n\r\n    String raw = &quot;1233983543587325318&quot;;\r\n    \r\n    char[] list = new char[raw.length()];\r\n    list = raw.toCharArray();\r\n    int[] num = new int[raw.length()];\r\n    \r\n    for (int i = 0; i &lt; raw.length(); i++) {\r\n        num[i] = Integer.parseInt(String.valueOf(list[i]));\r\n    }\r\n    \r\n    for (int i: num) {\r\n        System.out.print(i);\r\n    }","title":"char array to int array","body":"<p>You can try like this,</p>\n\n<pre><code>String raw = \"1233983543587325318\";\n\nchar[] list = new char[raw.length()];\nlist = raw.toCharArray();\nint[] num = new int[raw.length()];\n\nfor (int i = 0; i &lt; raw.length(); i++) {\n    num[i] = Integer.parseInt(String.valueOf(list[i]));\n}\n\nfor (int i: num) {\n    System.out.print(i);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5726378,"reputation":344,"user_id":4523235,"accept_rate":20,"display_name":"Joe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1624965939,"creation_date":1624965447,"answer_id":68177662,"question_id":10886068,"body_markdown":"Simple and modern solution\r\n   \r\n    int[] result = new int[raw.length()]; \r\n    Arrays.setAll(result, i -&gt; Character.getNumericValue(raw.charAt(i))); ","title":"char array to int array","body":"<p>Simple and modern solution</p>\n<pre><code>int[] result = new int[raw.length()]; \nArrays.setAll(result, i -&gt; Character.getNumericValue(raw.charAt(i))); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":2173558,"reputation":81,"user_id":1924846,"accept_rate":83,"display_name":"Shauny"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650829198,"creation_date":1650829198,"answer_id":71991767,"question_id":10886068,"body_markdown":"Line `num[i] = (int[])list[i];`\r\n\r\nIt should be `num[i] = (int) list[i];` \r\nYou are looping through the array so you are casting each individual item in the array.\r\n\r\nThe reason you got &quot;garbage&quot; is you were printing the int values in the num[] array.\r\nchar values are not a direct match for int values. \r\nchar values in java use UTF-16 Unicode. \r\nFor example the &quot;3&quot; char translates to 51 int \r\n\r\nTo print out the final int[] back to char use this loop\r\n\t\r\n\r\n    for(int i:num)\r\n    \t\tSystem.out.print((char) i);","title":"char array to int array","body":"<p>Line <code>num[i] = (int[])list[i];</code></p>\n<p>It should be <code>num[i] = (int) list[i];</code>\nYou are looping through the array so you are casting each individual item in the array.</p>\n<p>The reason you got &quot;garbage&quot; is you were printing the int values in the num[] array.\nchar values are not a direct match for int values.\nchar values in java use UTF-16 Unicode.\nFor example the &quot;3&quot; char translates to 51 int</p>\n<p>To print out the final int[] back to char use this loop</p>\n<pre><code>for(int i:num)\n        System.out.print((char) i);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1651641,"reputation":8505,"user_id":1522117,"display_name":"nickl-"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673868394,"creation_date":1673868394,"answer_id":75133564,"question_id":10886068,"body_markdown":"I don&#39;t see anyone else mentioning the obvious:\r\n\r\nWe can skip the char array and go directly from String to int array.\r\nSince java 8 we have [CharSequence.chars](https://docs.oracle.com/javase/8/docs/api/java/lang/CharSequence.html#chars--) which will return an [IntStream](https://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html) so to get an int array, of the char to int values, from a string.\r\n\r\n```java\r\nString raw = &quot;1233983543587325318&quot;;\r\nint[] num = raw.chars().toArray();\r\n// num ==&gt; int[19] { 49, 50, 51, 51, 57, 56, 51, 53, 52, 51, 53, 56, 55, 51, 50, 53, 51, 49, 56 }\r\n```\r\n\r\nThere are also some math reduce functions on `Intstream` like `sum`, `average`, etc. if this is your end goal then we can skip the int array too.\r\n\r\n```java\r\nString raw = &quot;1233983543587325318&quot;;\r\nint sum = raw.chars().sum();\r\n// sum ==&gt; 995\r\n```\r\n\r\nnJoy!\r\n","title":"char array to int array","body":"<p>I don't see anyone else mentioning the obvious:</p>\n<p>We can skip the char array and go directly from String to int array.\nSince java 8 we have <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/CharSequence.html#chars--\" rel=\"nofollow noreferrer\">CharSequence.chars</a> which will return an <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html\" rel=\"nofollow noreferrer\">IntStream</a> so to get an int array, of the char to int values, from a string.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String raw = &quot;1233983543587325318&quot;;\nint[] num = raw.chars().toArray();\n// num ==&gt; int[19] { 49, 50, 51, 51, 57, 56, 51, 53, 52, 51, 53, 56, 55, 51, 50, 53, 51, 49, 56 }\n</code></pre>\n<p>There are also some math reduce functions on <code>Intstream</code> like <code>sum</code>, <code>average</code>, etc. if this is your end goal then we can skip the int array too.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String raw = &quot;1233983543587325318&quot;;\nint sum = raw.chars().sum();\n// sum ==&gt; 995\n</code></pre>\n<p>nJoy!</p>\n"}],"owner":{"account_id":1541055,"reputation":173,"user_id":1435708,"display_name":"daedalus"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89565,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":10886217,"answer_count":14,"score":17,"last_activity_date":1673868394,"creation_date":1338833643,"question_id":10886068,"body_markdown":"I&#39;m trying to convert a string to an array of integers so I could then perform math operations on them. I&#39;m having trouble with the following bit of code:\r\n\r\n    String raw = &quot;1233983543587325318&quot;;\r\n    \r\n    char[] list = new char[raw.length()];\r\n    list = raw.toCharArray();\r\n    int[] num = new int[raw.length()];\r\n    \r\n    for (int i = 0; i &lt; raw.length(); i++){\r\n        num[i] = (int[])list[i];\r\n    }\r\n    \r\n    System.out.println(num);\r\n\r\nThis is giving me an &quot;inconvertible types&quot; error, required: int[] found: char\r\nI have also tried some other ways like Character.getNumericValue and just assigning it directly, without any modification. In those situations, it always outputs the same garbage &quot;[I@41ed8741&quot;, no matter what method of conversion I use or (!) what the value of the string actually is. Does it have something to do with unicode conversion?","title":"char array to int array","body":"<p>I'm trying to convert a string to an array of integers so I could then perform math operations on them. I'm having trouble with the following bit of code:</p>\n\n<pre><code>String raw = \"1233983543587325318\";\n\nchar[] list = new char[raw.length()];\nlist = raw.toCharArray();\nint[] num = new int[raw.length()];\n\nfor (int i = 0; i &lt; raw.length(); i++){\n    num[i] = (int[])list[i];\n}\n\nSystem.out.println(num);\n</code></pre>\n\n<p>This is giving me an \"inconvertible types\" error, required: int[] found: char\nI have also tried some other ways like Character.getNumericValue and just assigning it directly, without any modification. In those situations, it always outputs the same garbage \"[I@41ed8741\", no matter what method of conversion I use or (!) what the value of the string actually is. Does it have something to do with unicode conversion?</p>\n"},{"tags":["java","json","freemarker"],"answers":[{"tags":[],"owner":{"account_id":299854,"reputation":29886,"user_id":606679,"accept_rate":25,"display_name":"ddekany"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673868304,"creation_date":1670356503,"answer_id":74708333,"question_id":74705274,"body_markdown":"**Update:** Starting from FreeMarker 2.3.32, it&#39;s just `&quot;firstname&quot;: ${fname?cn}`. It&#39;s important that there are no quotes around the `${...}`! This works because if the left-side of `?c`/`?cn` is a string, now instead of failing, it quotes, and escapes it. (Thus you don&#39;t even have to know if the left-side is a number/boolean, which must not be quoted, or a string, which must be quoted, as it&#39;s automatic.) `?cn` is for &quot;`?c` nullable&quot;, means, if the left-side is `null`/missing value, it prints a `null` literal (which of course won&#39;t be quoted), instead of failing like `?c` would. (Also check out the `c_format` setting for best results, but by default string formatting is JSON compatible, so using `?c`/`?cn` is an improvement without that too.)\r\n\r\n**Old answer for 2.3.31**\r\n\r\nYou could use `#if` or `?then`, and then `??` operator to check if the value is `null`, but that&#39;s verbose. So instead, move the logic into a `#function` (or into a Java utility method that you expose):\r\n\r\n    &lt;#macro nullMarker&gt;&lt;/#macro&gt;\r\n    &lt;#function jsonString s=nullMarker&gt;&lt;#return s?is_macro?then(&#39;null&#39;, &#39;&quot;${s}&quot;&#39;)&gt;&lt;/#function&gt;\r\n    \r\nI had to do some ugly hack above, as for a function argument that&#39;s `null` there must be default value. So I can&#39;t simply use `s??` inside the function, as `s` inside the function will never be `null`. So instead, I specified a default value that you surely normally don&#39;t want to print as JSON. So now you can do this:\r\n\r\n    ${jsonString(fname)}\r\n","title":"Apache Freemarker - How to omit quotes in case of null values for a field in a json?","body":"<p><strong>Update:</strong> Starting from FreeMarker 2.3.32, it's just <code>&quot;firstname&quot;: ${fname?cn}</code>. It's important that there are no quotes around the <code>${...}</code>! This works because if the left-side of <code>?c</code>/<code>?cn</code> is a string, now instead of failing, it quotes, and escapes it. (Thus you don't even have to know if the left-side is a number/boolean, which must not be quoted, or a string, which must be quoted, as it's automatic.) <code>?cn</code> is for &quot;<code>?c</code> nullable&quot;, means, if the left-side is <code>null</code>/missing value, it prints a <code>null</code> literal (which of course won't be quoted), instead of failing like <code>?c</code> would. (Also check out the <code>c_format</code> setting for best results, but by default string formatting is JSON compatible, so using <code>?c</code>/<code>?cn</code> is an improvement without that too.)</p>\n<p><strong>Old answer for 2.3.31</strong></p>\n<p>You could use <code>#if</code> or <code>?then</code>, and then <code>??</code> operator to check if the value is <code>null</code>, but that's verbose. So instead, move the logic into a <code>#function</code> (or into a Java utility method that you expose):</p>\n<pre><code>&lt;#macro nullMarker&gt;&lt;/#macro&gt;\n&lt;#function jsonString s=nullMarker&gt;&lt;#return s?is_macro?then('null', '&quot;${s}&quot;')&gt;&lt;/#function&gt;\n</code></pre>\n<p>I had to do some ugly hack above, as for a function argument that's <code>null</code> there must be default value. So I can't simply use <code>s??</code> inside the function, as <code>s</code> inside the function will never be <code>null</code>. So instead, I specified a default value that you surely normally don't want to print as JSON. So now you can do this:</p>\n<pre><code>${jsonString(fname)}\n</code></pre>\n"}],"owner":{"account_id":3989726,"reputation":45,"user_id":3289086,"display_name":"Bhanu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74708333,"answer_count":1,"score":0,"last_activity_date":1673868304,"creation_date":1670341316,"question_id":74705274,"body_markdown":"I have a json template as below:\r\n\r\n    {\r\n        &quot;firstname&quot;: &quot;${fname}&quot;\r\n    }\r\n\r\nWhen fname is null, I want to have the value as null instead of a string null (&quot;null&quot;). \r\nHence, I&#39;m expecting the final json to be like:\r\n\r\n    {\r\n        &quot;firstname&quot;: null\r\n    }\r\n\r\nBut, I&#39;m getting:\r\n\r\n    {\r\n        &quot;firstname&quot;: &quot;null&quot;\r\n    }\r\n\r\nIs there any way we can achieve this using Apache Freemarker? I&#39;m pretty new to Freemarker and couldn&#39;t get a precise solution.","title":"Apache Freemarker - How to omit quotes in case of null values for a field in a json?","body":"<p>I have a json template as below:</p>\n<pre><code>{\n    &quot;firstname&quot;: &quot;${fname}&quot;\n}\n</code></pre>\n<p>When fname is null, I want to have the value as null instead of a string null (&quot;null&quot;).\nHence, I'm expecting the final json to be like:</p>\n<pre><code>{\n    &quot;firstname&quot;: null\n}\n</code></pre>\n<p>But, I'm getting:</p>\n<pre><code>{\n    &quot;firstname&quot;: &quot;null&quot;\n}\n</code></pre>\n<p>Is there any way we can achieve this using Apache Freemarker? I'm pretty new to Freemarker and couldn't get a precise solution.</p>\n"},{"tags":["java","exception","java-7","checked-exceptions"],"comments":[{"owner":{"account_id":6767185,"reputation":17841,"user_id":5211833,"accept_rate":83,"display_name":"Adriaan"},"score":0,"creation_date":1673867767,"post_id":20037622,"comment_id":132585739,"body_markdown":"Please do not add answers to the question body itself. Instead, you should add it as an answer. [Answering your own question is allowed and even encouraged](https://stackoverflow.com/help/self-answer).","body":"Please do not add answers to the question body itself. Instead, you should add it as an answer. <a href=\"https://stackoverflow.com/help/self-answer\">Answering your own question is allowed and even encouraged</a>."}],"answers":[{"tags":[],"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1384732297,"creation_date":1384732297,"answer_id":20037798,"question_id":20037622,"body_markdown":"What you don&#39;t understand is that the compiler only checks checked exceptions, i.e. those that derive from `Exception` excluding those that derive from `RuntimeException`. Exceptions coming from elsewhere in the hierarchy starting at `Throwable` aren&#39;t subject to compilation rules.","title":"How does that exceprt from the JDK get compiled?","body":"<p>What you don't understand is that the compiler only checks checked exceptions, i.e. those that derive from <code>Exception</code> excluding those that derive from <code>RuntimeException</code>. Exceptions coming from elsewhere in the hierarchy starting at <code>Throwable</code> aren't subject to compilation rules.</p>\n"}],"owner":{"account_id":3112777,"reputation":347,"user_id":2634207,"accept_rate":83,"display_name":"danissimo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1673867769,"creation_date":1384731057,"question_id":20037622,"body_markdown":"The file is `java.nio.channels.SocketChannel.java`. JDK 7u45. The excerpt is:\r\n\r\n    public static SocketChannel open(SocketAddress remote)\r\n        throws IOException\r\n    {\r\n        SocketChannel sc = open();\r\n        try {\r\n            sc.connect(remote);\r\n        } catch (Throwable x) {\r\n            try {\r\n                sc.close();\r\n            } catch (Throwable suppressed) {\r\n                x.addSuppressed(suppressed);\r\n            }\r\n            throw x;\r\n        }\r\n        assert sc.isConnected();\r\n        return sc;\r\n    }\r\n\r\nHow does the compiler let passed that code? The signature declares **`IOException`**, but the method&#39;s body catches **`Throwable`** and retrows it. What don&#39;t I understand?","title":"How does that exceprt from the JDK get compiled?","body":"<p>The file is <code>java.nio.channels.SocketChannel.java</code>. JDK 7u45. The excerpt is:</p>\n<pre><code>public static SocketChannel open(SocketAddress remote)\n    throws IOException\n{\n    SocketChannel sc = open();\n    try {\n        sc.connect(remote);\n    } catch (Throwable x) {\n        try {\n            sc.close();\n        } catch (Throwable suppressed) {\n            x.addSuppressed(suppressed);\n        }\n        throw x;\n    }\n    assert sc.isConnected();\n    return sc;\n}\n</code></pre>\n<p>How does the compiler let passed that code? The signature declares <strong><code>IOException</code></strong>, but the method's body catches <strong><code>Throwable</code></strong> and retrows it. What don't I understand?</p>\n"},{"tags":["java","maven","compiler-errors"],"comments":[{"owner":{"account_id":14365136,"reputation":890,"user_id":10376405,"display_name":"Paul"},"score":0,"creation_date":1594977495,"post_id":62950776,"comment_id":111321632,"body_markdown":"did you upgrade from a lower version to java 11 or higher? Then you&#39;ll need to take a look at your cxf plugins","body":"did you upgrade from a lower version to java 11 or higher? Then you&#39;ll need to take a look at your cxf plugins"},{"owner":{"account_id":7018296,"reputation":7298,"user_id":5378766,"accept_rate":84,"display_name":"hotzst"},"score":0,"creation_date":1594977936,"post_id":62950776,"comment_id":111321871,"body_markdown":"@Paul: No, I did the upgrade to Java 14 earlier and it was working. The only change that I am aware is that I now use Maven 3.6.3 and before it was 3.5.3 (I think)","body":"@Paul: No, I did the upgrade to Java 14 earlier and it was working. The only change that I am aware is that I now use Maven 3.6.3 and before it was 3.5.3 (I think)"},{"owner":{"account_id":14365136,"reputation":890,"user_id":10376405,"display_name":"Paul"},"score":0,"creation_date":1594978238,"post_id":62950776,"comment_id":111322060,"body_markdown":"I&#39;m not sure anymore about the Maven-version, but I had sort of the same problem when upgrading. Eventually, I had to configure this plugin in order for Maven and Java-version to be compatible for generating resources: &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                &lt;artifactId&gt;jaxb2-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.5.0&lt;/version&gt;","body":"I&#39;m not sure anymore about the Maven-version, but I had sort of the same problem when upgrading. Eventually, I had to configure this plugin in order for Maven and Java-version to be compatible for generating resources: &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;                 &lt;artifactId&gt;jaxb2-maven-plugin&lt;/artifactId&gt;                 &lt;version&gt;2.5.0&lt;/version&gt;"}],"owner":{"account_id":7018296,"reputation":7298,"user_id":5378766,"accept_rate":84,"display_name":"hotzst"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1229,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1673867451,"creation_date":1594976886,"question_id":62950776,"body_markdown":"I moved to a new setup and now the `mvn clean compile` command fails with this:\r\n\r\n    [ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.0:compile (default-compile) on project OpenPatricianModel: Compilation failure: Compilation failure: \r\n    [ERROR] /home/andi/development/intellij/OpenPatrician/OpenPatricianModel/src/main/java/ch/sahits/game/openpatrician/model/ship/impl/ShipWeaponsLocationFactory.java:[80,71] cannot find symbol\r\n    [ERROR]   symbol:   class WeaponLocation\r\n    [ERROR]   location: class ch.sahits.game.openpatrician.data.xmlmodel.weapon.WeaponLocations\r\n    [ERROR] /home/andi/development/intellij/OpenPatrician/OpenPatricianModel/src/main/java/ch/sahits/game/openpatrician/model/ship/impl/ShipWeaponsLocationFactory.java:[92,58] cannot find symbol\r\n    [ERROR]   symbol:   class WeaponLocation\r\n    [ERROR]   location: class ch.sahits.game.openpatrician.data.xmlmodel.weapon.WeaponLocations\r\n    [ERROR] /home/andi/development/intellij/OpenPatrician/OpenPatricianModel/src/main/java/ch/sahits/game/openpatrician/model/ModelConfiguration.java:[105,30] cannot find symbol\r\n    [ERROR]   symbol:   class Cities\r\n    [ERROR]   location: class ch.sahits.game.openpatrician.data.xmlmodel.map.Map\r\n    [ERROR] /home/andi/development/intellij/OpenPatrician/OpenPatricianModel/src/main/java/ch/sahits/game/openpatrician/model/city/impl/City.java:[151,71] cannot find symbol\r\n    [ERROR]   symbol:   class Cities\r\n    [ERROR]   location: class ch.sahits.game.openpatrician.data.xmlmodel.map.Map\r\n\r\nFrom the error it is clear that classes cannot be found. These classes were generated during the `generate-sources` phase and then added to the resources with `build-helper-maven-plugin`. Therefore this seems different than https://stackoverflow.com/questions/19633505/why-are-maven-generated-sources-not-getting-compiled\r\n\r\nRunning the maven comand with `-X` shows that the output folder of the generated java sources is  actually on the classpath and the files are even detected to be stale (because they are newly created):\r\n\r\n    [DEBUG] Using compiler &#39;javac&#39;.\r\n    [DEBUG] Adding /home/andi/development/intellij/OpenPatrician/OpenPatricianModel/target/generated-sources/annotations to compile source roots:\r\n      /home/andi/development/intellij/OpenPatrician/OpenPatricianModel/src/main/java\r\n      /home/andi/development/intellij/OpenPatrician/OpenPatricianModel/target/generated/main/java\r\n      /home/andi/development/intellij/OpenPatrician/OpenPatricianModel/target/generated/src/main/java\r\n    [DEBUG] New compile source roots:\r\n      /home/andi/development/intellij/OpenPatrician/OpenPatricianModel/src/main/java\r\n      /home/andi/development/intellij/OpenPatrician/OpenPatricianModel/target/generated/main/java\r\n      /home/andi/development/intellij/OpenPatrician/OpenPatricianModel/target/generated/src/main/java\r\n      /home/andi/development/intellij/OpenPatrician/OpenPatricianModel/target/generated-sources/annotations\r\n \r\nIt seems however that those sources are not compiled.\r\n\r\nHere are parts of the effictve pom file:\r\n\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\r\n        &lt;artifactId&gt;cxf-xjc-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.7.0&lt;/version&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;id&gt;generate-sources&lt;/id&gt;\r\n            &lt;phase&gt;generate-sources&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;xsdtojava&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n              &lt;xsdOptions&gt;\r\n                &lt;xsdOption&gt;\r\n                  &lt;xsd&gt;src/main/resources/map.xsd&lt;/xsd&gt;\r\n                  &lt;bindingFile&gt;src/main/resources/jaxb-binding.xjb&lt;/bindingFile&gt;\r\n                  &lt;packagename&gt;ch.sahits.game.openpatrician.data.xmlmodel.map&lt;/packagename&gt;\r\n                &lt;/xsdOption&gt;\r\n                &lt;xsdOption&gt;\r\n                  &lt;xsd&gt;src/main/resources/weaponLocation.xsd&lt;/xsd&gt;\r\n                  &lt;bindingFile&gt;src/main/resources/jaxb-binding.xjb&lt;/bindingFile&gt;\r\n                  &lt;packagename&gt;ch.sahits.game.openpatrician.data.xmlmodel.weapon&lt;/packagename&gt;\r\n                &lt;/xsdOption&gt;\r\n              &lt;/xsdOptions&gt;\r\n              &lt;extensions&gt;\r\n                &lt;extension&gt;org.apache.cxf.xjcplugins:cxf-xjc-dv:2.7.0&lt;/extension&gt;\r\n              &lt;/extensions&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n        &lt;configuration&gt;\r\n          &lt;extensions&gt;\r\n            &lt;extension&gt;org.apache.cxf.xjcplugins:cxf-xjc-dv:2.7.0&lt;/extension&gt;\r\n          &lt;/extensions&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n    \r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n        &lt;artifactId&gt;build-helper-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.0&lt;/version&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;id&gt;test&lt;/id&gt;\r\n            &lt;phase&gt;generate-sources&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;add-source&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n              &lt;sources&gt;\r\n                &lt;source&gt;/home/andi/development/intellij/OpenPatrician/OpenPatricianModel/target/generated/main/java&lt;/source&gt;\r\n              &lt;/sources&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/execution&gt;\r\n          &lt;execution&gt;\r\n            &lt;id&gt;add-test-source&lt;/id&gt;\r\n            &lt;phase&gt;process-resources&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;add-test-source&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n              &lt;sources&gt;\r\n                &lt;source&gt;src/it/java&lt;/source&gt;\r\n              &lt;/sources&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/execution&gt;\r\n          &lt;execution&gt;\r\n            &lt;id&gt;add-test-resource&lt;/id&gt;\r\n            &lt;phase&gt;process-resources&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;add-test-resource&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n              &lt;resources&gt;\r\n                &lt;resource&gt;\r\n                  &lt;directory&gt;src/it/resources&lt;/directory&gt;\r\n                &lt;/resource&gt;\r\n              &lt;/resources&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n    \r\n      &lt;plugin&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.8.0&lt;/version&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;id&gt;default-compile&lt;/id&gt;\r\n            &lt;phase&gt;compile&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;compile&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n              &lt;release&gt;14&lt;/release&gt;\r\n              &lt;source&gt;13&lt;/source&gt;\r\n              &lt;target&gt;13&lt;/target&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/execution&gt;\r\n          &lt;execution&gt;\r\n            &lt;id&gt;default-testCompile&lt;/id&gt;\r\n            &lt;phase&gt;test-compile&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;testCompile&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n              &lt;release&gt;14&lt;/release&gt;\r\n              &lt;source&gt;13&lt;/source&gt;\r\n              &lt;target&gt;13&lt;/target&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n        &lt;configuration&gt;\r\n          &lt;release&gt;14&lt;/release&gt;\r\n          &lt;source&gt;13&lt;/source&gt;\r\n          &lt;target&gt;13&lt;/target&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n\r\nThe project can be compiled from within the IDE (IntelliJ) and the application runs.","title":"Maven compilation error due to missing generated classes","body":"<p>I moved to a new setup and now the <code>mvn clean compile</code> command fails with this:</p>\n<pre><code>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.0:compile (default-compile) on project OpenPatricianModel: Compilation failure: Compilation failure: \n[ERROR] /home/andi/development/intellij/OpenPatrician/OpenPatricianModel/src/main/java/ch/sahits/game/openpatrician/model/ship/impl/ShipWeaponsLocationFactory.java:[80,71] cannot find symbol\n[ERROR]   symbol:   class WeaponLocation\n[ERROR]   location: class ch.sahits.game.openpatrician.data.xmlmodel.weapon.WeaponLocations\n[ERROR] /home/andi/development/intellij/OpenPatrician/OpenPatricianModel/src/main/java/ch/sahits/game/openpatrician/model/ship/impl/ShipWeaponsLocationFactory.java:[92,58] cannot find symbol\n[ERROR]   symbol:   class WeaponLocation\n[ERROR]   location: class ch.sahits.game.openpatrician.data.xmlmodel.weapon.WeaponLocations\n[ERROR] /home/andi/development/intellij/OpenPatrician/OpenPatricianModel/src/main/java/ch/sahits/game/openpatrician/model/ModelConfiguration.java:[105,30] cannot find symbol\n[ERROR]   symbol:   class Cities\n[ERROR]   location: class ch.sahits.game.openpatrician.data.xmlmodel.map.Map\n[ERROR] /home/andi/development/intellij/OpenPatrician/OpenPatricianModel/src/main/java/ch/sahits/game/openpatrician/model/city/impl/City.java:[151,71] cannot find symbol\n[ERROR]   symbol:   class Cities\n[ERROR]   location: class ch.sahits.game.openpatrician.data.xmlmodel.map.Map\n</code></pre>\n<p>From the error it is clear that classes cannot be found. These classes were generated during the <code>generate-sources</code> phase and then added to the resources with <code>build-helper-maven-plugin</code>. Therefore this seems different than <a href=\"https://stackoverflow.com/questions/19633505/why-are-maven-generated-sources-not-getting-compiled\">Why are Maven generated-sources not getting compiled?</a></p>\n<p>Running the maven comand with <code>-X</code> shows that the output folder of the generated java sources is  actually on the classpath and the files are even detected to be stale (because they are newly created):</p>\n<pre><code>[DEBUG] Using compiler 'javac'.\n[DEBUG] Adding /home/andi/development/intellij/OpenPatrician/OpenPatricianModel/target/generated-sources/annotations to compile source roots:\n  /home/andi/development/intellij/OpenPatrician/OpenPatricianModel/src/main/java\n  /home/andi/development/intellij/OpenPatrician/OpenPatricianModel/target/generated/main/java\n  /home/andi/development/intellij/OpenPatrician/OpenPatricianModel/target/generated/src/main/java\n[DEBUG] New compile source roots:\n  /home/andi/development/intellij/OpenPatrician/OpenPatricianModel/src/main/java\n  /home/andi/development/intellij/OpenPatrician/OpenPatricianModel/target/generated/main/java\n  /home/andi/development/intellij/OpenPatrician/OpenPatricianModel/target/generated/src/main/java\n  /home/andi/development/intellij/OpenPatrician/OpenPatricianModel/target/generated-sources/annotations\n</code></pre>\n<p>It seems however that those sources are not compiled.</p>\n<p>Here are parts of the effictve pom file:</p>\n<pre><code>  &lt;plugin&gt;\n    &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\n    &lt;artifactId&gt;cxf-xjc-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.7.0&lt;/version&gt;\n    &lt;executions&gt;\n      &lt;execution&gt;\n        &lt;id&gt;generate-sources&lt;/id&gt;\n        &lt;phase&gt;generate-sources&lt;/phase&gt;\n        &lt;goals&gt;\n          &lt;goal&gt;xsdtojava&lt;/goal&gt;\n        &lt;/goals&gt;\n        &lt;configuration&gt;\n          &lt;xsdOptions&gt;\n            &lt;xsdOption&gt;\n              &lt;xsd&gt;src/main/resources/map.xsd&lt;/xsd&gt;\n              &lt;bindingFile&gt;src/main/resources/jaxb-binding.xjb&lt;/bindingFile&gt;\n              &lt;packagename&gt;ch.sahits.game.openpatrician.data.xmlmodel.map&lt;/packagename&gt;\n            &lt;/xsdOption&gt;\n            &lt;xsdOption&gt;\n              &lt;xsd&gt;src/main/resources/weaponLocation.xsd&lt;/xsd&gt;\n              &lt;bindingFile&gt;src/main/resources/jaxb-binding.xjb&lt;/bindingFile&gt;\n              &lt;packagename&gt;ch.sahits.game.openpatrician.data.xmlmodel.weapon&lt;/packagename&gt;\n            &lt;/xsdOption&gt;\n          &lt;/xsdOptions&gt;\n          &lt;extensions&gt;\n            &lt;extension&gt;org.apache.cxf.xjcplugins:cxf-xjc-dv:2.7.0&lt;/extension&gt;\n          &lt;/extensions&gt;\n        &lt;/configuration&gt;\n      &lt;/execution&gt;\n    &lt;/executions&gt;\n    &lt;configuration&gt;\n      &lt;extensions&gt;\n        &lt;extension&gt;org.apache.cxf.xjcplugins:cxf-xjc-dv:2.7.0&lt;/extension&gt;\n      &lt;/extensions&gt;\n    &lt;/configuration&gt;\n  &lt;/plugin&gt;\n\n  &lt;plugin&gt;\n    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n    &lt;artifactId&gt;build-helper-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.0.0&lt;/version&gt;\n    &lt;executions&gt;\n      &lt;execution&gt;\n        &lt;id&gt;test&lt;/id&gt;\n        &lt;phase&gt;generate-sources&lt;/phase&gt;\n        &lt;goals&gt;\n          &lt;goal&gt;add-source&lt;/goal&gt;\n        &lt;/goals&gt;\n        &lt;configuration&gt;\n          &lt;sources&gt;\n            &lt;source&gt;/home/andi/development/intellij/OpenPatrician/OpenPatricianModel/target/generated/main/java&lt;/source&gt;\n          &lt;/sources&gt;\n        &lt;/configuration&gt;\n      &lt;/execution&gt;\n      &lt;execution&gt;\n        &lt;id&gt;add-test-source&lt;/id&gt;\n        &lt;phase&gt;process-resources&lt;/phase&gt;\n        &lt;goals&gt;\n          &lt;goal&gt;add-test-source&lt;/goal&gt;\n        &lt;/goals&gt;\n        &lt;configuration&gt;\n          &lt;sources&gt;\n            &lt;source&gt;src/it/java&lt;/source&gt;\n          &lt;/sources&gt;\n        &lt;/configuration&gt;\n      &lt;/execution&gt;\n      &lt;execution&gt;\n        &lt;id&gt;add-test-resource&lt;/id&gt;\n        &lt;phase&gt;process-resources&lt;/phase&gt;\n        &lt;goals&gt;\n          &lt;goal&gt;add-test-resource&lt;/goal&gt;\n        &lt;/goals&gt;\n        &lt;configuration&gt;\n          &lt;resources&gt;\n            &lt;resource&gt;\n              &lt;directory&gt;src/it/resources&lt;/directory&gt;\n            &lt;/resource&gt;\n          &lt;/resources&gt;\n        &lt;/configuration&gt;\n      &lt;/execution&gt;\n    &lt;/executions&gt;\n  &lt;/plugin&gt;\n\n  &lt;plugin&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.8.0&lt;/version&gt;\n    &lt;executions&gt;\n      &lt;execution&gt;\n        &lt;id&gt;default-compile&lt;/id&gt;\n        &lt;phase&gt;compile&lt;/phase&gt;\n        &lt;goals&gt;\n          &lt;goal&gt;compile&lt;/goal&gt;\n        &lt;/goals&gt;\n        &lt;configuration&gt;\n          &lt;release&gt;14&lt;/release&gt;\n          &lt;source&gt;13&lt;/source&gt;\n          &lt;target&gt;13&lt;/target&gt;\n        &lt;/configuration&gt;\n      &lt;/execution&gt;\n      &lt;execution&gt;\n        &lt;id&gt;default-testCompile&lt;/id&gt;\n        &lt;phase&gt;test-compile&lt;/phase&gt;\n        &lt;goals&gt;\n          &lt;goal&gt;testCompile&lt;/goal&gt;\n        &lt;/goals&gt;\n        &lt;configuration&gt;\n          &lt;release&gt;14&lt;/release&gt;\n          &lt;source&gt;13&lt;/source&gt;\n          &lt;target&gt;13&lt;/target&gt;\n        &lt;/configuration&gt;\n      &lt;/execution&gt;\n    &lt;/executions&gt;\n    &lt;configuration&gt;\n      &lt;release&gt;14&lt;/release&gt;\n      &lt;source&gt;13&lt;/source&gt;\n      &lt;target&gt;13&lt;/target&gt;\n    &lt;/configuration&gt;\n  &lt;/plugin&gt;\n</code></pre>\n<p>The project can be compiled from within the IDE (IntelliJ) and the application runs.</p>\n"},{"tags":["java","hibernate","jpa"],"comments":[{"owner":{"account_id":2108163,"reputation":1488,"user_id":1873995,"accept_rate":71,"display_name":"Kamil"},"score":1,"creation_date":1658269107,"post_id":72140973,"comment_id":129008854,"body_markdown":"you should post your edit as an answer; function should be registered if used in `select`, and also don&#39;t forget to add the metadata_builder_contributor property also in test scope config - I did the mistake of forgetting about it ;)","body":"you should post your edit as an answer; function should be registered if used in <code>select</code>, and also don&#39;t forget to add the metadata_builder_contributor property also in test scope config - I did the mistake of forgetting about it ;)"},{"owner":{"account_id":97204,"reputation":4979,"user_id":263801,"accept_rate":74,"display_name":"Archie"},"score":0,"creation_date":1678833229,"post_id":72140973,"comment_id":133609693,"body_markdown":"I ran into a similar problem and filed a bug here: https://hibernate.atlassian.net/browse/HHH-16308","body":"I ran into a similar problem and filed a bug here: <a href=\"https://hibernate.atlassian.net/browse/HHH-16308\" rel=\"nofollow noreferrer\">hibernate.atlassian.net/browse/HHH-16308</a>"}],"answers":[{"tags":[],"owner":{"account_id":3178559,"reputation":825,"user_id":2685839,"accept_rate":76,"display_name":"Syngularity"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673867040,"creation_date":1673867040,"answer_id":75133325,"question_id":72140973,"body_markdown":"You should create a `MetadataBuilderContributor` implementation, that you set `hibernate.metadata_builder_contributor` in your properties\r\n\r\nFor more detail: [How to register non-standarized SQL functions manually in Spring Boot application?][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/57385780/how-to-register-non-standarized-sql-functions-manually-in-spring-boot-applicatio","title":"Using custom function call in CriteriaQuery multiselect cause a null pointer exception","body":"<p>You should create a <code>MetadataBuilderContributor</code> implementation, that you set <code>hibernate.metadata_builder_contributor</code> in your properties</p>\n<p>For more detail: <a href=\"https://stackoverflow.com/questions/57385780/how-to-register-non-standarized-sql-functions-manually-in-spring-boot-applicatio\">How to register non-standarized SQL functions manually in Spring Boot application?</a></p>\n"}],"owner":{"account_id":3178559,"reputation":825,"user_id":2685839,"accept_rate":76,"display_name":"Syngularity"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2725,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":75133325,"answer_count":1,"score":5,"last_activity_date":1673867040,"creation_date":1651837592,"question_id":72140973,"body_markdown":"I have a spring boot based application with `hibernate-types` included to properly map Postgres array to JPA entities. It works fine, but I run into an issue when I would like to create a CriteriaQuery.\r\n\r\nThe sql schema is the following:\r\n\r\n    create table if not exists my_values\r\n        (\r\n            id          bigserial,\r\n            external_id varchar(255),\r\n            ts_values   double precision[]\r\n        );\r\n\r\nAlso, I already have a perfectly working JPA Entity for this table, and I would like to create the following type-safe criteria query with JPA:\r\n\r\n    select external_id, cardinality(ts_values)\r\n    from my_values\r\n    where external_id = &#39;my_extermal_id&#39;\r\n\r\nWriting the query with JPA criteria API was pretty easy, but whenever I try to run the query it produces a null pointer exception.\r\n\r\nThe java code so far:\r\n\r\n    CriteriaBuilder cb = em.getCriteriaBuilder();\r\n    CriteriaQuery&lt;MyData&gt; query = cb.createQuery(MyData.class);\r\n    Root&lt;MyDataEntity&gt; root = query.from(MyDataEntity.class);\r\n\r\n    query.multiselect(\r\n        root.get(MyDataEntity_.externalId),\r\n        cb.function(&quot;cardinality&quot;, Integer.class, root.get(MyDataEntity_.values))\r\n    );\r\n\r\n    query.where(cb.equal(root.get(MyDataEntity_.externalId), id));\r\n    \r\n    return em.createQuery(query).getSingleResult();\r\n\r\n\r\nAs I mentioned the entity implementation works fine, I could save and read data perfectly, `MyData` class has the appropriate constructor as well. When I replace the cb.function call by simply selecting the whole array instead it works fine too, I suspect having a function in a multi-select causes a problem.\r\n\r\n&gt; java.lang.NullPointerException: Cannot invoke\r\n&gt; &quot;org.hibernate.type.Type.getColumnSpan(org.hibernate.engine.spi.Mapping)&quot;\r\n&gt; because &quot;types[i]&quot; is null \tat\r\n&gt; org.hibernate.hql.internal.NameGenerator.generateColumnNames(NameGenerator.java:27)\r\n&gt; \tat\r\n&gt; org.hibernate.hql.internal.ast.util.SessionFactoryHelper.generateColumnNames(SessionFactoryHelper.java:434)\r\n\r\n\r\nI tried to add alias and explicit type declaration to the function expression `.as(Integer.class).alias(&quot;value&quot;)` but that does not solve the problem, I got the same exception. I have no idea what I&#39;m doing wrong, is it even possible to do? \r\n\r\nSolution:\r\n\r\nYou should create a `MetadataBuilderContributor` implementation, that you set `hibernate.metadata_builder_contributor` in your properties\r\n\r\nFor more detail:\r\nhttps://stackoverflow.com/questions/57385780/how-to-register-non-standarized-sql-functions-manually-in-spring-boot-applicatio\r\n\r\n\r\n\r\n","title":"Using custom function call in CriteriaQuery multiselect cause a null pointer exception","body":"<p>I have a spring boot based application with <code>hibernate-types</code> included to properly map Postgres array to JPA entities. It works fine, but I run into an issue when I would like to create a CriteriaQuery.</p>\n<p>The sql schema is the following:</p>\n<pre><code>create table if not exists my_values\n    (\n        id          bigserial,\n        external_id varchar(255),\n        ts_values   double precision[]\n    );\n</code></pre>\n<p>Also, I already have a perfectly working JPA Entity for this table, and I would like to create the following type-safe criteria query with JPA:</p>\n<pre><code>select external_id, cardinality(ts_values)\nfrom my_values\nwhere external_id = 'my_extermal_id'\n</code></pre>\n<p>Writing the query with JPA criteria API was pretty easy, but whenever I try to run the query it produces a null pointer exception.</p>\n<p>The java code so far:</p>\n<pre><code>CriteriaBuilder cb = em.getCriteriaBuilder();\nCriteriaQuery&lt;MyData&gt; query = cb.createQuery(MyData.class);\nRoot&lt;MyDataEntity&gt; root = query.from(MyDataEntity.class);\n\nquery.multiselect(\n    root.get(MyDataEntity_.externalId),\n    cb.function(&quot;cardinality&quot;, Integer.class, root.get(MyDataEntity_.values))\n);\n\nquery.where(cb.equal(root.get(MyDataEntity_.externalId), id));\n\nreturn em.createQuery(query).getSingleResult();\n</code></pre>\n<p>As I mentioned the entity implementation works fine, I could save and read data perfectly, <code>MyData</code> class has the appropriate constructor as well. When I replace the cb.function call by simply selecting the whole array instead it works fine too, I suspect having a function in a multi-select causes a problem.</p>\n<blockquote>\n<p>java.lang.NullPointerException: Cannot invoke\n&quot;org.hibernate.type.Type.getColumnSpan(org.hibernate.engine.spi.Mapping)&quot;\nbecause &quot;types[i]&quot; is null    at\norg.hibernate.hql.internal.NameGenerator.generateColumnNames(NameGenerator.java:27)\nat\norg.hibernate.hql.internal.ast.util.SessionFactoryHelper.generateColumnNames(SessionFactoryHelper.java:434)</p>\n</blockquote>\n<p>I tried to add alias and explicit type declaration to the function expression <code>.as(Integer.class).alias(&quot;value&quot;)</code> but that does not solve the problem, I got the same exception. I have no idea what I'm doing wrong, is it even possible to do?</p>\n<p>Solution:</p>\n<p>You should create a <code>MetadataBuilderContributor</code> implementation, that you set <code>hibernate.metadata_builder_contributor</code> in your properties</p>\n<p>For more detail:\n<a href=\"https://stackoverflow.com/questions/57385780/how-to-register-non-standarized-sql-functions-manually-in-spring-boot-applicatio\">How to register non-standarized SQL functions manually in Spring Boot application?</a></p>\n"},{"tags":["java","amazon-web-services","sdk","single-sign-on"],"answers":[{"tags":[],"owner":{"account_id":3213014,"reputation":2577,"user_id":2712553,"display_name":"Milan Gaty&#225;s"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1601031963,"creation_date":1601031963,"answer_id":64062922,"question_id":64062720,"body_markdown":"I might be wrong, however IMO there is no way to use AWS SSO within AWS SDK yet based on https://docs.aws.amazon.com/sdk-for-java/v2/developer-guide/credentials.html. \r\n\r\nAFAIK AWS SSO is at the moment integrated only into AWS CLI - https://docs.aws.amazon.com/singlesignon/latest/userguide/integrating-aws-cli.html","title":"AWS Java SDK not finding profile when using AWS SSO","body":"<p>I might be wrong, however IMO there is no way to use AWS SSO within AWS SDK yet based on <a href=\"https://docs.aws.amazon.com/sdk-for-java/v2/developer-guide/credentials.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/sdk-for-java/v2/developer-guide/credentials.html</a>.</p>\n<p>AFAIK AWS SSO is at the moment integrated only into AWS CLI - <a href=\"https://docs.aws.amazon.com/singlesignon/latest/userguide/integrating-aws-cli.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/singlesignon/latest/userguide/integrating-aws-cli.html</a></p>\n"},{"tags":[],"owner":{"account_id":1018761,"reputation":1446,"user_id":1029722,"display_name":"tdebroc"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1601976086,"creation_date":1601976086,"answer_id":64222882,"question_id":64062720,"body_markdown":"Waiting for SDK 2 to integrate SSO, `aws-sso-cred-restore` is a workaround:\r\n\r\nIntall it (with Python 3):\r\n\r\n    pip3 install aws-sso-cred-restore\r\n\r\n\r\nThen you can run this (it get a Token available for around 1h, so you should run it every hour to refresh):\r\n\r\n    aws-sso-cred-restore --profile $YOUR_PROFILE\r\n\r\n\r\nAnd you can use again your $YOUR_PROFILE in your Java app.\r\n\r\n","title":"AWS Java SDK not finding profile when using AWS SSO","body":"<p>Waiting for SDK 2 to integrate SSO, <code>aws-sso-cred-restore</code> is a workaround:</p>\n<p>Intall it (with Python 3):</p>\n<pre><code>pip3 install aws-sso-cred-restore\n</code></pre>\n<p>Then you can run this (it get a Token available for around 1h, so you should run it every hour to refresh):</p>\n<pre><code>aws-sso-cred-restore --profile $YOUR_PROFILE\n</code></pre>\n<p>And you can use again your $YOUR_PROFILE in your Java app.</p>\n"},{"tags":[],"owner":{"account_id":8104679,"reputation":1650,"user_id":6106641,"accept_rate":80,"display_name":"Archmede"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1651004507,"creation_date":1622733442,"answer_id":67824174,"question_id":64062720,"body_markdown":"For a Java application you&#39;ll need the [SSO Dependency][1].\r\n\r\nAs of writing the latest is version `2.16.76`\r\n\r\n    // Gradle example\r\n    dependencies {\r\n        \r\n        implementation(platform(&quot;software.amazon.awssdk:bom:2.16.70&quot;))\r\n        implementation(&quot;software.amazon.awssdk:sso:2.16.76&quot;)\r\n    }\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/software.amazon.awssdk/sso\r\n\r\nYou&#39;ll also need to set a `default` profile in either `~/.aws/configuration` or `~/.aws/credentials`\r\n\r\nMore info below:\r\n\r\nhttps://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/credentials.html\r\nhttps://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/setup.html#setup-credentials\r\nhttps://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/setup-additional.html#setup-additional-credentials\r\n\r\nBut, you should also be able to just set the `AWS_PROFILE` environment variable to your profile and it should just magically work without the SSO dependency.\r\n\r\nIn your example, specifically:\r\n\r\n    AWS_PROFILE=staging\r\n","title":"AWS Java SDK not finding profile when using AWS SSO","body":"<p>For a Java application you'll need the <a href=\"https://mvnrepository.com/artifact/software.amazon.awssdk/sso\" rel=\"noreferrer\">SSO Dependency</a>.</p>\n<p>As of writing the latest is version <code>2.16.76</code></p>\n<pre><code>// Gradle example\ndependencies {\n    \n    implementation(platform(&quot;software.amazon.awssdk:bom:2.16.70&quot;))\n    implementation(&quot;software.amazon.awssdk:sso:2.16.76&quot;)\n}\n</code></pre>\n<p>You'll also need to set a <code>default</code> profile in either <code>~/.aws/configuration</code> or <code>~/.aws/credentials</code></p>\n<p>More info below:</p>\n<p><a href=\"https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/credentials.html\" rel=\"noreferrer\">https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/credentials.html</a>\n<a href=\"https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/setup.html#setup-credentials\" rel=\"noreferrer\">https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/setup.html#setup-credentials</a>\n<a href=\"https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/setup-additional.html#setup-additional-credentials\" rel=\"noreferrer\">https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/setup-additional.html#setup-additional-credentials</a></p>\n<p>But, you should also be able to just set the <code>AWS_PROFILE</code> environment variable to your profile and it should just magically work without the SSO dependency.</p>\n<p>In your example, specifically:</p>\n<pre><code>AWS_PROFILE=staging\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2271010,"reputation":12268,"user_id":1998422,"accept_rate":60,"display_name":"Ahmad Abdelghany"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1627651449,"creation_date":1627650990,"answer_id":68591591,"question_id":64062720,"body_markdown":"Support for SSO Credentials Provider was added to AWS SDK for Java V2 in version `2.15.33` (**November 2020**). Older versions of the SDK don&#39;t work with SSO. (See the [Feature Request][1] &amp; the [PR][2])\r\n\r\nIf you are using maven, make sure the versions of all SDK modules are compatible by specifying the version in the `dependencyManagement` section as described in the [documentation][3]. e.g.\r\n\r\n\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n                &lt;artifactId&gt;bom&lt;/artifactId&gt;\r\n                &lt;version&gt;2.17.8&lt;/version&gt;  &lt;!--Must be 2.15.33 or higher--&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n           &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n            &lt;artifactId&gt;dynamodb&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n           &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n           &lt;artifactId&gt;sso&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    \r\n\r\n\r\n  [1]: https://github.com/aws/aws-sdk-java-v2/issues/1970\r\n  [2]: https://github.com/aws/aws-sdk-java-v2/pull/2118\r\n  [3]: https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/setup-project-maven.html","title":"AWS Java SDK not finding profile when using AWS SSO","body":"<p>Support for SSO Credentials Provider was added to AWS SDK for Java V2 in version <code>2.15.33</code> (<strong>November 2020</strong>). Older versions of the SDK don't work with SSO. (See the <a href=\"https://github.com/aws/aws-sdk-java-v2/issues/1970\" rel=\"nofollow noreferrer\">Feature Request</a> &amp; the <a href=\"https://github.com/aws/aws-sdk-java-v2/pull/2118\" rel=\"nofollow noreferrer\">PR</a>)</p>\n<p>If you are using maven, make sure the versions of all SDK modules are compatible by specifying the version in the <code>dependencyManagement</code> section as described in the <a href=\"https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/setup-project-maven.html\" rel=\"nofollow noreferrer\">documentation</a>. e.g.</p>\n<pre><code>&lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n            &lt;artifactId&gt;bom&lt;/artifactId&gt;\n            &lt;version&gt;2.17.8&lt;/version&gt;  &lt;!--Must be 2.15.33 or higher--&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n            &lt;scope&gt;import&lt;/scope&gt;\n       &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n        &lt;artifactId&gt;dynamodb&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n       &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n       &lt;artifactId&gt;sso&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12033000,"reputation":684,"user_id":8802609,"display_name":"nluk"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1639730759,"creation_date":1638447641,"answer_id":70199353,"question_id":64062720,"body_markdown":"In my case, just adding the aws-sso dependency:\r\n```\r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n       &lt;artifactId&gt;sso&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n```\r\n allows the default credentials providers chain to pick up sso under `ProfileCredentialsProvider`:\r\n[![Profile credentials provider with sso profile][1]][1]\r\n\r\n To work out of the box, it requires from you to have the `[default]` profile specified. Otherwise, simply using `.credentialsProvider(ProfileCredentialsProvider.create(&quot;xyz&quot;))` also works with `[profile xyz]`.\r\n\r\nIf all fails, add the credentials provider manually:\r\n\r\n 1. Setup your profile file `.aws/config`\r\n 2. Login with cli `aws sso login --profile &lt;your_profile&gt;`\r\n 3. A json file is generated in `.aws/sso/cache` with contents as described [here][2]\r\n``` json\r\n{\r\n &quot;startUrl&quot;: &quot;https://my-sso-portal.awsapps.com/start&quot;,\r\n &quot;region&quot;: &quot;us-east-1&quot;,\r\n &quot;accessToken&quot;: &quot;eyJlbmMiOiJBM.&quot;,\r\n &quot;expiresAt&quot;: &quot;2020-06-17T10:02:08UTC&quot;\r\n}\r\n```\r\n4. Include in your project a dependency to `software.amazon.awssdk:sso`\r\n5. Create `SsoCredentialsProvider` with the data from json file:\r\n``` java\r\nCredentialsProvider ssoCredentialsProvider = ((SsoCredentialsProvider.Builder) SsoCredentialsProvider.builder())\r\n.ssoClient(SsoClient.builder().region(&lt;REGION_FROM_JSON&gt;).build())\r\n.refreshRequest( () -&gt;\r\n    GetRoleCredentialsRequest.builder()\r\n      .roleName(&quot;&lt;ROLE_FROM_PROFILE&gt;&quot;)\r\n      .accountId(&quot;&lt;ACCOUNT_ID_FROM_PROFILE&gt;&quot;)\r\n      .accessToken(&quot;&lt;ACCESS_TOKEN_FROM_JSON&gt;&quot;)\r\n      .build()\r\n).build();\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mB60y.png\r\n  [2]: https://aws.amazon.com/premiumsupport/knowledge-center/sso-temporary-credentials/","title":"AWS Java SDK not finding profile when using AWS SSO","body":"<p>In my case, just adding the aws-sso dependency:</p>\n<pre><code>    &lt;dependency&gt;\n       &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n       &lt;artifactId&gt;sso&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>allows the default credentials providers chain to pick up sso under <code>ProfileCredentialsProvider</code>:\n<a href=\"https://i.stack.imgur.com/mB60y.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/mB60y.png\" alt=\"Profile credentials provider with sso profile\" /></a></p>\n<p>To work out of the box, it requires from you to have the <code>[default]</code> profile specified. Otherwise, simply using <code>.credentialsProvider(ProfileCredentialsProvider.create(&quot;xyz&quot;))</code> also works with <code>[profile xyz]</code>.</p>\n<p>If all fails, add the credentials provider manually:</p>\n<ol>\n<li>Setup your profile file <code>.aws/config</code></li>\n<li>Login with cli <code>aws sso login --profile &lt;your_profile&gt;</code></li>\n<li>A json file is generated in <code>.aws/sso/cache</code> with contents as described <a href=\"https://aws.amazon.com/premiumsupport/knowledge-center/sso-temporary-credentials/\" rel=\"noreferrer\">here</a></li>\n</ol>\n<pre class=\"lang-json prettyprint-override\"><code>{\n &quot;startUrl&quot;: &quot;https://my-sso-portal.awsapps.com/start&quot;,\n &quot;region&quot;: &quot;us-east-1&quot;,\n &quot;accessToken&quot;: &quot;eyJlbmMiOiJBM.&quot;,\n &quot;expiresAt&quot;: &quot;2020-06-17T10:02:08UTC&quot;\n}\n</code></pre>\n<ol start=\"4\">\n<li>Include in your project a dependency to <code>software.amazon.awssdk:sso</code></li>\n<li>Create <code>SsoCredentialsProvider</code> with the data from json file:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>CredentialsProvider ssoCredentialsProvider = ((SsoCredentialsProvider.Builder) SsoCredentialsProvider.builder())\n.ssoClient(SsoClient.builder().region(&lt;REGION_FROM_JSON&gt;).build())\n.refreshRequest( () -&gt;\n    GetRoleCredentialsRequest.builder()\n      .roleName(&quot;&lt;ROLE_FROM_PROFILE&gt;&quot;)\n      .accountId(&quot;&lt;ACCOUNT_ID_FROM_PROFILE&gt;&quot;)\n      .accessToken(&quot;&lt;ACCESS_TOKEN_FROM_JSON&gt;&quot;)\n      .build()\n).build();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9145391,"reputation":866,"user_id":6801819,"display_name":"Gapmeister66"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662023370,"creation_date":1662021086,"answer_id":73566366,"question_id":64062720,"body_markdown":"When using AWS SDK for Java, you could try giving some environment variables to your Java applicatation using values from the cached temporary credentials.\r\n\r\nLogin using:\r\n\r\n    aws sso login\r\n\r\nRead the cached file:\r\n\r\n    cat ~/.aws/cli/cache/&lt;generated&gt;.json\r\n\r\nSet your environment variables using fields from the cached file:\r\n\r\n    AWS_ACCESS_KEY_ID=&lt;AccessKeyId&gt;\r\n    AWS_SECRET_ACCESS_KEY=&lt;SecretAccessKey&gt;\r\n    AWS_SESSION_TOKEN=&lt;SessionToken&gt;\r\n\r\nRun your Java application using these environment variables.\r\n\r\nUnder the hood, the EnvironmentVariableCredentialsProvider class reads these environment variables.\r\n\r\nYou will need to reset these environment variables every time the session token expires.\r\n","title":"AWS Java SDK not finding profile when using AWS SSO","body":"<p>When using AWS SDK for Java, you could try giving some environment variables to your Java applicatation using values from the cached temporary credentials.</p>\n<p>Login using:</p>\n<pre><code>aws sso login\n</code></pre>\n<p>Read the cached file:</p>\n<pre><code>cat ~/.aws/cli/cache/&lt;generated&gt;.json\n</code></pre>\n<p>Set your environment variables using fields from the cached file:</p>\n<pre><code>AWS_ACCESS_KEY_ID=&lt;AccessKeyId&gt;\nAWS_SECRET_ACCESS_KEY=&lt;SecretAccessKey&gt;\nAWS_SESSION_TOKEN=&lt;SessionToken&gt;\n</code></pre>\n<p>Run your Java application using these environment variables.</p>\n<p>Under the hood, the EnvironmentVariableCredentialsProvider class reads these environment variables.</p>\n<p>You will need to reset these environment variables every time the session token expires.</p>\n"},{"tags":[],"owner":{"account_id":4784084,"reputation":940,"user_id":3865083,"display_name":"parisni"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673866250,"creation_date":1673866250,"answer_id":75133176,"question_id":64062720,"body_markdown":"This is an enhanced answers&#39;s @nluk provided. You just need the iam profile name to get the sso profile from the `.aws` folder and `config` file.   \r\n\r\nAdd this in the pom:\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n            &lt;artifactId&gt;sso&lt;/artifactId&gt;\r\n            &lt;version&gt;2.19.16&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\nthen: you can use sdk2 sso tooling:\r\n```java\r\nimport software.amazon.awssdk.auth.credentials.AwsSessionCredentials;\r\nimport software.amazon.awssdk.auth.credentials.ProfileProviderCredentialsContext;\r\nimport software.amazon.awssdk.profiles.ProfileFile;\r\nimport software.amazon.awssdk.services.sso.auth.SsoProfileCredentialsProviderFactory;\r\n\r\n//....\r\n String awsProfile = &quot;my-profile-name&quot;\r\n ProfileFile profileFile = ProfileFile.defaultProfileFile();\r\n    profileFile\r\n        .getSection(&quot;profiles&quot;, awsProfile)\r\n        .ifPresent(\r\n            profile -&gt; {\r\n              ProfileProviderCredentialsContext profileProvider =\r\n                  ProfileProviderCredentialsContext.builder()\r\n                      .profile(profile)\r\n                      .profileFile(profileFile)\r\n                      .build();\r\n//            cast to get the token\r\n              AwsSessionCredentials awsCredentials =\r\n                  (AwsSessionCredentials)\r\n                      new SsoProfileCredentialsProviderFactory()\r\n                          .create(profileProvider)\r\n                          .resolveCredentials();\r\n// then get the temporary credentials\r\n//            awsCredentials.accessKeyId();\r\n//            awsCredentials.secretAccessKey();\r\n//            awsCredentials.sessionToken();\r\n            });\r\n```","title":"AWS Java SDK not finding profile when using AWS SSO","body":"<p>This is an enhanced answers's @nluk provided. You just need the iam profile name to get the sso profile from the <code>.aws</code> folder and <code>config</code> file.</p>\n<p>Add this in the pom:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n            &lt;artifactId&gt;sso&lt;/artifactId&gt;\n            &lt;version&gt;2.19.16&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>then: you can use sdk2 sso tooling:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import software.amazon.awssdk.auth.credentials.AwsSessionCredentials;\nimport software.amazon.awssdk.auth.credentials.ProfileProviderCredentialsContext;\nimport software.amazon.awssdk.profiles.ProfileFile;\nimport software.amazon.awssdk.services.sso.auth.SsoProfileCredentialsProviderFactory;\n\n//....\n String awsProfile = &quot;my-profile-name&quot;\n ProfileFile profileFile = ProfileFile.defaultProfileFile();\n    profileFile\n        .getSection(&quot;profiles&quot;, awsProfile)\n        .ifPresent(\n            profile -&gt; {\n              ProfileProviderCredentialsContext profileProvider =\n                  ProfileProviderCredentialsContext.builder()\n                      .profile(profile)\n                      .profileFile(profileFile)\n                      .build();\n//            cast to get the token\n              AwsSessionCredentials awsCredentials =\n                  (AwsSessionCredentials)\n                      new SsoProfileCredentialsProviderFactory()\n                          .create(profileProvider)\n                          .resolveCredentials();\n// then get the temporary credentials\n//            awsCredentials.accessKeyId();\n//            awsCredentials.secretAccessKey();\n//            awsCredentials.sessionToken();\n            });\n</code></pre>\n"}],"owner":{"account_id":7629617,"reputation":270,"user_id":5785112,"display_name":"gorogoro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20421,"favorite_count":0,"down_vote_count":0,"up_vote_count":23,"answer_count":7,"score":23,"last_activity_date":1673866250,"creation_date":1601031244,"question_id":64062720,"body_markdown":"I can&#39;t reach aws when my login is made using AWS SSO.\r\nI login from my computer using:\r\n\r\n    aws sso login --profile staging\r\n\r\nThe profile is configured like this:\r\n\r\n    [profile staging]\r\n    sso_start_url = https://som-nice-working-url\r\n    sso_region = us-east-1\r\n    sso_account_id = 1234\r\n    sso_role_name = the-role-name\r\n    region = eu-west-1\r\n    output = yaml\r\n\r\nAfter doing the login I can access aws through aws cli.\r\n\r\nThen I set the varible: `AWS_PROFILE=staging`\r\nBut on java I&#39;m getting the following exception:\r\n\r\n    com.amazonaws.SdkClientException: Unable to load AWS credentials from any provider in the chain: [EnvironmentVariableCredentialsProvider: Unable to load AWS credentials from environment variables (AWS_ACCESS_KEY_ID (or AWS_ACCESS_KEY) and AWS_SECRET_KEY (or AWS_SECRET_ACCESS_KEY)), SystemPropertiesCredentialsProvider: Unable to load AWS credentials from Java system properties (aws.accessKeyId and aws.secretKey), WebIdentityTokenCredentialsProvider: You must specify a value for roleArn and roleSessionName, com.amazonaws.auth.profile.ProfileCredentialsProvider@369a95a5: No AWS profile named &#39;staging&#39;, com.amazonaws.auth.EC2ContainerCredentialsProviderWrapper@6d6f6ca9: Failed to connect to service endpoint: ]\r\n\r\nI have tryed using the ProfileCredentialsProvider with &quot;staging&quot; but the result is the same. \r\n\r\nWhat `CredentialsProvider` should I use?\r\n\r\nMy code is using the DefaultProviderChain:\r\n\r\n    AWSGlueClient.builder()\r\n                .withRegion(&quot;eu-west-1&quot;)\r\n                .build()\r\n\r\nThank you.","title":"AWS Java SDK not finding profile when using AWS SSO","body":"<p>I can't reach aws when my login is made using AWS SSO.\nI login from my computer using:</p>\n<pre><code>aws sso login --profile staging\n</code></pre>\n<p>The profile is configured like this:</p>\n<pre><code>[profile staging]\nsso_start_url = https://som-nice-working-url\nsso_region = us-east-1\nsso_account_id = 1234\nsso_role_name = the-role-name\nregion = eu-west-1\noutput = yaml\n</code></pre>\n<p>After doing the login I can access aws through aws cli.</p>\n<p>Then I set the varible: <code>AWS_PROFILE=staging</code>\nBut on java I'm getting the following exception:</p>\n<pre><code>com.amazonaws.SdkClientException: Unable to load AWS credentials from any provider in the chain: [EnvironmentVariableCredentialsProvider: Unable to load AWS credentials from environment variables (AWS_ACCESS_KEY_ID (or AWS_ACCESS_KEY) and AWS_SECRET_KEY (or AWS_SECRET_ACCESS_KEY)), SystemPropertiesCredentialsProvider: Unable to load AWS credentials from Java system properties (aws.accessKeyId and aws.secretKey), WebIdentityTokenCredentialsProvider: You must specify a value for roleArn and roleSessionName, com.amazonaws.auth.profile.ProfileCredentialsProvider@369a95a5: No AWS profile named 'staging', com.amazonaws.auth.EC2ContainerCredentialsProviderWrapper@6d6f6ca9: Failed to connect to service endpoint: ]\n</code></pre>\n<p>I have tryed using the ProfileCredentialsProvider with &quot;staging&quot; but the result is the same.</p>\n<p>What <code>CredentialsProvider</code> should I use?</p>\n<p>My code is using the DefaultProviderChain:</p>\n<pre><code>AWSGlueClient.builder()\n            .withRegion(&quot;eu-west-1&quot;)\n            .build()\n</code></pre>\n<p>Thank you.</p>\n"},{"tags":["java","selenium","internet-explorer","selenium-webdriver","selenium-grid"],"comments":[{"owner":{"account_id":10432685,"reputation":76,"user_id":7692025,"display_name":"Ivan Tsyng"},"score":0,"creation_date":1490076557,"post_id":41679405,"comment_id":72996545,"body_markdown":"I have the same issue. Selenium guys close iedriver issues with the reason &quot;it is an issue of ie browser not ie driver&quot;.\nSo we can only driver.close() after some tests and reopen it back to do some more tests.","body":"I have the same issue. Selenium guys close iedriver issues with the reason &quot;it is an issue of ie browser not ie driver&quot;. So we can only driver.close() after some tests and reopen it back to do some more tests."},{"owner":{"account_id":6838363,"reputation":1184,"user_id":5295219,"display_name":"SaiPawan"},"score":0,"creation_date":1490102025,"post_id":41679405,"comment_id":72953641,"body_markdown":"Every time is it opening in new tab or new window without closing the previous one.","body":"Every time is it opening in new tab or new window without closing the previous one."},{"owner":{"account_id":9962584,"reputation":935,"user_id":7371353,"display_name":"acikojevic"},"score":0,"creation_date":1490102966,"post_id":41679405,"comment_id":72954434,"body_markdown":"I&#39;m using a same window, if I open new window/driver instance it will work fine, that is exactly the problem, I want to avoid reopening driver instance.","body":"I&#39;m using a same window, if I open new window/driver instance it will work fine, that is exactly the problem, I want to avoid reopening driver instance."},{"owner":{"account_id":6838363,"reputation":1184,"user_id":5295219,"display_name":"SaiPawan"},"score":1,"creation_date":1490103381,"post_id":41679405,"comment_id":72954780,"body_markdown":"Can u chec k this link if it is helpful. https://answers.microsoft.com/en-us/ie/forum/ie11-iewindows8_1/ie-11-high-memory-ram-usage/19a4d22b-2b92-461b-a8a1-ae01798a9a32","body":"Can u chec k this link if it is helpful. <a href=\"https://answers.microsoft.com/en-us/ie/forum/ie11-iewindows8_1/ie-11-high-memory-ram-usage/19a4d22b-2b92-461b-a8a1-ae01798a9a32\" rel=\"nofollow noreferrer\">answers.microsoft.com/en-us/ie/forum/ie11-iewindows8_1/&hellip;</a>"},{"owner":{"account_id":9962584,"reputation":935,"user_id":7371353,"display_name":"acikojevic"},"score":0,"creation_date":1490103730,"post_id":41679405,"comment_id":72955079,"body_markdown":"It&#39;s general IE issue so I&#39;m not optimistic about it, but will give it a try in next few days. :)","body":"It&#39;s general IE issue so I&#39;m not optimistic about it, but will give it a try in next few days. :)"}],"answers":[{"tags":[],"owner":{"account_id":26859844,"reputation":935,"user_id":20443541,"display_name":"kaliiiiiiiii"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673866215,"creation_date":1673866215,"answer_id":75133175,"question_id":41679405,"body_markdown":"I guess it&#39;s using a lot of cache. Maybe you&#39;re requestinga quite extensive website?\r\n\r\nProbably solutions I see:\r\n- Restart the driver using `driver.quit()` (might need to much time)\r\n- Try clearing the cache. (maybe using https://stackoverflow.com/a/54944115/20443541)\r\n- Block Ads (for example using a extension)\r\n- Porting to Chrome (I think it uses less RAM and is more optimised for Selenium","title":"Multiple tests on the same IEdriver instance - memory issues","body":"<p>I guess it's using a lot of cache. Maybe you're requestinga quite extensive website?</p>\n<p>Probably solutions I see:</p>\n<ul>\n<li>Restart the driver using <code>driver.quit()</code> (might need to much time)</li>\n<li>Try clearing the cache. (maybe using <a href=\"https://stackoverflow.com/a/54944115/20443541\">https://stackoverflow.com/a/54944115/20443541</a>)</li>\n<li>Block Ads (for example using a extension)</li>\n<li>Porting to Chrome (I think it uses less RAM and is more optimised for Selenium</li>\n</ul>\n"}],"owner":{"account_id":9962584,"reputation":935,"user_id":7371353,"display_name":"acikojevic"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":472,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1673866215,"creation_date":1484579348,"question_id":41679405,"body_markdown":"I&#39;m running lots of selenium tests on my node which is windows machine. In order to speed up test execution by avoiding starting/closing IEDriver instance after every test I decided to reuse the same driver instance for every test. Everything works fine with firefox and chrome, but IE11 is having serious issues. After about 30 minutes IE freezes without any exception and execution stops, it completely loses connection with my node. I can see that IE11 process (iexplore.exe) uses massive memory resources (1.5 GB or more) and I need to kill it using task manager to shut it down.\r\n\r\nDid anyone face this kind of issues and how to avoid it (except to create new driver instance for every test), is it even possible to run many test on the same IEdriver instance?\r\n\r\nI&#39;m using IEDriver 3.0.0, Internet Explorer 11. Same thing on windows server 2012 and windows 8.1 machines.\r\n\r\n","title":"Multiple tests on the same IEdriver instance - memory issues","body":"<p>I'm running lots of selenium tests on my node which is windows machine. In order to speed up test execution by avoiding starting/closing IEDriver instance after every test I decided to reuse the same driver instance for every test. Everything works fine with firefox and chrome, but IE11 is having serious issues. After about 30 minutes IE freezes without any exception and execution stops, it completely loses connection with my node. I can see that IE11 process (iexplore.exe) uses massive memory resources (1.5 GB or more) and I need to kill it using task manager to shut it down.</p>\n\n<p>Did anyone face this kind of issues and how to avoid it (except to create new driver instance for every test), is it even possible to run many test on the same IEdriver instance?</p>\n\n<p>I'm using IEDriver 3.0.0, Internet Explorer 11. Same thing on windows server 2012 and windows 8.1 machines.</p>\n"},{"tags":["java","java-bytecode-asm","jvm-bytecode"],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1673866212,"creation_date":1673866212,"answer_id":75133172,"question_id":75132671,"body_markdown":"This is a sign that you have unreachable code in your generated bytecode. With stackmaps, every instruction not reachable by its preceding instruction must have a stack frame, even if not being the target of a branch. This is necessary to verify the code in a single linear pass.\r\n\r\nBut for unreachable code, there is no known initial state and it would be very challenging to invent a valid initial state for an arbitrary sequence of instructions. ASMs solution is to replace the entire unreachable code with nop instructions, followed by a single `athrow` statement. For this sequence, its possible to specify a valid initial stack frame; its a frame having a single throwable on the stack. This sequence also has no impact on the subsequent, potentially reachable code.\r\n\r\nSince the code is unreachable, this replacement has no impact on the execution, as you already noticed in your test. And youre right, the JIT compiler wont generate any native code for it.\r\n\r\nBut to git rid of this disconcerting code, youd have to revise your compiler code, to find out at which part it generates unreachable code.\r\n","title":"Why does COMPUTE_FRAMES generate a lot of redundant instructions?","body":"<p>This is a sign that you have unreachable code in your generated bytecode. With stackmaps, every instruction not reachable by its preceding instruction must have a stack frame, even if not being the target of a branch. This is necessary to verify the code in a single linear pass.</p>\n<p>But for unreachable code, there is no known initial state and it would be very challenging to invent a valid initial state for an arbitrary sequence of instructions. ASMs solution is to replace the entire unreachable code with nop instructions, followed by a single <code>athrow</code> statement. For this sequence, its possible to specify a valid initial stack frame; its a frame having a single throwable on the stack. This sequence also has no impact on the subsequent, potentially reachable code.</p>\n<p>Since the code is unreachable, this replacement has no impact on the execution, as you already noticed in your test. And youre right, the JIT compiler wont generate any native code for it.</p>\n<p>But to git rid of this disconcerting code, youd have to revise your compiler code, to find out at which part it generates unreachable code.</p>\n"}],"owner":{"account_id":19529,"reputation":31885,"user_id":45843,"accept_rate":91,"display_name":"rwallace"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"accepted_answer_id":75133172,"answer_count":1,"score":4,"last_activity_date":1673866212,"creation_date":1673863542,"question_id":75132671,"body_markdown":"I&#39;m writing a compiler that outputs JVM byte code, and using ASM 9.4 for the backend. This works fine, but I am puzzled about one particular quirk.\r\n\r\nI&#39;m specifying `COMPUTE_FRAMES` to automatically compute the stack frames. It is said that the tradeoff is that this (understandably) makes code generation take more time, but it seems to be fast enough.\r\n\r\nWhat is *not* documented anywhere that I have been able to find, is that specifying `COMPUTE_FRAMES` causes a lot of redundant instructions to be generated. Specifically, an `athrow` at the end of each method, and in some cases, a bunch of long runs of `nop`s scattered through the method.\r\n\r\nThis does not seem to be doing any harm; my initial test cases are passing okay, and I suppose the JIT compiler won&#39;t actually generate any machine code for the redundant instructions. But it is a little disconcerting. Why is it doing this? Am I doing anything wrong?","title":"Why does COMPUTE_FRAMES generate a lot of redundant instructions?","body":"<p>I'm writing a compiler that outputs JVM byte code, and using ASM 9.4 for the backend. This works fine, but I am puzzled about one particular quirk.</p>\n<p>I'm specifying <code>COMPUTE_FRAMES</code> to automatically compute the stack frames. It is said that the tradeoff is that this (understandably) makes code generation take more time, but it seems to be fast enough.</p>\n<p>What is <em>not</em> documented anywhere that I have been able to find, is that specifying <code>COMPUTE_FRAMES</code> causes a lot of redundant instructions to be generated. Specifically, an <code>athrow</code> at the end of each method, and in some cases, a bunch of long runs of <code>nop</code>s scattered through the method.</p>\n<p>This does not seem to be doing any harm; my initial test cases are passing okay, and I suppose the JIT compiler won't actually generate any machine code for the redundant instructions. But it is a little disconcerting. Why is it doing this? Am I doing anything wrong?</p>\n"},{"tags":["java","json","string"],"comments":[{"owner":{"account_id":5083464,"reputation":4521,"user_id":4185106,"accept_rate":89,"display_name":"moffeltje"},"score":0,"creation_date":1673866317,"post_id":75132447,"comment_id":132585303,"body_markdown":"First of all, have you tried mapping the JSON to a POJO with for example Jackson? It has methods to convert string to POJO and back after you&#39;ve modified the date.\nAlso, you can use `ZonedDateTime` for times with timezone offset.","body":"First of all, have you tried mapping the JSON to a POJO with for example Jackson? It has methods to convert string to POJO and back after you&#39;ve modified the date. Also, you can use <code>ZonedDateTime</code> for times with timezone offset."}],"answers":[{"tags":[],"owner":{"account_id":16792843,"reputation":81,"user_id":12140018,"display_name":"Takhsin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673866002,"creation_date":1673866002,"answer_id":75133131,"question_id":75132447,"body_markdown":"Try to use ```ZonedDateTime``` where you can pass your own zone offset.\r\nExample: ```ZonedDateTime.now(ZoneOffset.UTC).toString()```","title":"want to add variables and hardcoded values to json before comparing","body":"<p>Try to use <code>ZonedDateTime</code> where you can pass your own zone offset.\nExample: <code>ZonedDateTime.now(ZoneOffset.UTC).toString()</code></p>\n"}],"owner":{"account_id":4507375,"reputation":555,"user_id":3664382,"accept_rate":60,"display_name":"thisisdude"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75133131,"answer_count":1,"score":-1,"last_activity_date":1673866002,"creation_date":1673862309,"question_id":75132447,"body_markdown":"in my case, I am getting a json in which I need to modify the timestamp of today and then need to add some specific time (hardcoded), I&#39;m trying it but everytime my json gets messed up. \r\n\r\nHere is the json I&#39;m getting -\r\n\r\n    {&quot;offerId&quot;:&quot;00000002&quot;,&quot;offerStatus&quot;:&quot;A&quot;,&quot;startDate&quot;:&quot;2023-01-13T00:00:00-05:00&quot;}\r\n\r\nI want to change the time of the start date is like this 2023-01-16T00:00:00-05:00 -- I used java.time.LocalDate.now().toString() function, but it only gives me the date, I want to add timezone hardcoded, \r\n\r\nI tried this but it didn&#39;t work -\r\n\r\n    String expected = &quot;{\\&quot;offerId\\&quot;:\\&quot;00000002\\&quot;,\\&quot;offerStatus\\&quot;:\\&quot;A\\&quot;,\\&quot;startDate\\&quot;:&quot;\\&quot;&quot;+java.time.LocalDate.now().toString()+&quot;T00:00:00-05:00\\&quot;};\r\n\r\nhow can I achieve that? thanks!","title":"want to add variables and hardcoded values to json before comparing","body":"<p>in my case, I am getting a json in which I need to modify the timestamp of today and then need to add some specific time (hardcoded), I'm trying it but everytime my json gets messed up.</p>\n<p>Here is the json I'm getting -</p>\n<pre><code>{&quot;offerId&quot;:&quot;00000002&quot;,&quot;offerStatus&quot;:&quot;A&quot;,&quot;startDate&quot;:&quot;2023-01-13T00:00:00-05:00&quot;}\n</code></pre>\n<p>I want to change the time of the start date is like this 2023-01-16T00:00:00-05:00 -- I used java.time.LocalDate.now().toString() function, but it only gives me the date, I want to add timezone hardcoded,</p>\n<p>I tried this but it didn't work -</p>\n<pre><code>String expected = &quot;{\\&quot;offerId\\&quot;:\\&quot;00000002\\&quot;,\\&quot;offerStatus\\&quot;:\\&quot;A\\&quot;,\\&quot;startDate\\&quot;:&quot;\\&quot;&quot;+java.time.LocalDate.now().toString()+&quot;T00:00:00-05:00\\&quot;};\n</code></pre>\n<p>how can I achieve that? thanks!</p>\n"},{"tags":["java","docker","apache-kafka","docker-compose","github-api"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1673874146,"post_id":75132581,"comment_id":132587719,"body_markdown":"I don&#39;t understand the question. Kafka isn&#39;t an HTTP service. It doesn&#39;t accept webhooks. You do not need 12G to accept an HTTP request","body":"I don&#39;t understand the question. Kafka isn&#39;t an HTTP service. It doesn&#39;t accept webhooks. You do not need 12G to accept an HTTP request"}],"owner":{"account_id":20492611,"reputation":31,"user_id":15038361,"display_name":"Fendri"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":285,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1673864924,"creation_date":1673863123,"question_id":75132581,"body_markdown":"We have in our production\r\n\r\n# kafka --version\r\n7.2.1-ccs (Commit:80334008361592c187b36a27536f10f33fe93aa3)\r\nrunning in a docker Container\r\n# java -version\r\n\r\n - openjdk version &quot;11.0.15&quot; 2022-04-19 LTS\r\n - OpenJDK Runtime Environment Zulu11.56+19-CA (build 11.0.15+10-LTS)\r\n - OpenJDK 64-Bit Server VM Zulu11.56+19-CA (build 11.0.15+10-LTS, mixed\r\n   mode)\r\n\r\nthis is the .yml for kafka docker container:\r\n\r\n```\r\nversion: &#39;3.8&#39;\r\nservices:\r\n  zookeeper:\r\n    image: confluentinc/cp-zookeeper:7.2.1\r\n    environment:\r\n      ZOOKEEPER_CLIENT_PORT: 2181\r\n      ZOOKEEPER_TICK_TIME: 2000\r\n  kafka:\r\n    image: confluentinc/cp-kafka:7.2.1\r\n    ports:\r\n      - &lt;some ip @&gt;:9092\r\n    environment:\r\n      KAFKA_BROKER_ID: 1\r\n      KAFKA_ZOOKEEPER_CONNECT: zookeeper:2181\r\n      KAFKA_ADVERTISED_LISTENERS: PLAINTEXT://kafka:29092,PLAINTEXT_HOST://localhost:9092\r\n      KAFKA_LISTENER_SECURITY_PROTOCOL_MAP: PLAINTEXT:PLAINTEXT,PLAINTEXT_HOST:PLAINTEXT\r\n      KAFKA_INTER_BROKER_LISTENER_NAME: PLAINTEXT\r\n      KAFKA_OFFSETS_TOPIC_REPLICATION_FACTOR: 1\r\n      KAFKA_SOCKET_REQUEST_MAX_BYTES: 2147483647\r\n      KAFKA_Max_Direct_MemorySize\r\n      KAFKA_HEAP_OPTS: -Xmx2G -Xms2G\r\n```\r\n\r\nI&#39;m trying to send **github events** directly to a kafka topic via a gihub app **Webhook**.\r\n\r\nto expose the kafka topic in dev mode I&#39;m using ngrok.\r\n\r\nngrock receive a POST request from github, but the docker logs shows this:\r\n\r\n\r\n```\r\nERROR Processor got uncaught exception. (kafka.network.Processor)\r\njava.lang.OutOfMemoryError: Direct buffer memory\r\n        at java.base/java.nio.Bits.reserveMemory(Bits.java:175)\r\n        at java.base/java.nio.DirectByteBuffer.&lt;init&gt;(DirectByteBuffer.java:118)\r\n        at java.base/java.nio.ByteBuffer.allocateDirect(ByteBuffer.java:317)\r\n        at java.base/sun.nio.ch.Util.getTemporaryDirectBuffer(Util.java:242)\r\n        at java.base/sun.nio.ch.IOUtil.read(IOUtil.java:242)\r\n        at java.base/sun.nio.ch.IOUtil.read(IOUtil.java:223)\r\n        at java.base/sun.nio.ch.SocketChannelImpl.read(SocketChannelImpl.java:356)\r\n        at org.apache.kafka.common.network.PlaintextTransportLayer.read(PlaintextTransportLayer.java:103)\r\n        at org.apache.kafka.common.network.NetworkReceive.readFrom(NetworkReceive.java:118)\r\n        at org.apache.kafka.common.network.KafkaChannel.receive(KafkaChannel.java:452)\r\n        at org.apache.kafka.common.network.KafkaChannel.read(KafkaChannel.java:402)\r\n        at org.apache.kafka.common.network.Selector.attemptRead(Selector.java:674)\r\n        at org.apache.kafka.common.network.Selector.pollSelectionKeys(Selector.java:576)\r\n        at org.apache.kafka.common.network.Selector.poll(Selector.java:481)\r\n        at kafka.network.Processor.poll(SocketServer.scala:1144)\r\n        at kafka.network.Processor.run(SocketServer.scala:1047)\r\n        at java.base/java.lang.Thread.run(Thread.java:829)\r\n```\r\n\r\n\r\n\r\nwhen I tested it by sending a msg with postman it worked. I want to make it work with the github events payload.\r\n\r\nfor debugging purposes I removed all consumer of that topic.\r\n\r\n**things I&#39;ve tried:**\r\n- increase docker resources and KAFKA_HEAP_OPTS to 12G\r\n- setting the security protocol as [this](https://issues.apache.org/jira/browse/KAFKA-4090?jql=project%20%3D%20KAFKA%20AND%20text%20~%20java.lang.OutOfMemoryError) post suggests by adding these to the .yml file:\r\n\r\n```\r\n      KAFKA_SECURITY_PROTOCOL: SSL\r\n      KAFKA_SSL_CLIENT_AUTH: &#39;required&#39;\r\n      KAFKA_SSL_TRUSTSTORE_CREDENTIALS: ssl.creds\r\n      KAFKA_SSL_TRUSTSTORE_FILENAME: kafka.truststore.jks\r\n      KAFKA_SSL_KEY_CREDENTIALS: ssl.creds\r\n      KAFKA_SSL_KEYSTORE_CREDENTIALS: ssl.creds\r\n      KAFKA_KEYSTORE_FILENAME: kafka.keystore.jks\r\n```\r\n","title":"kafka running in Docker logs: &quot;java.lang.OutOfMemoryError: Direct buffer memory&quot; when receiving payload from Github","body":"<p>We have in our production</p>\n<h1>kafka --version</h1>\n<p>7.2.1-ccs (Commit:80334008361592c187b36a27536f10f33fe93aa3)\nrunning in a docker Container</p>\n<h1>java -version</h1>\n<ul>\n<li>openjdk version &quot;11.0.15&quot; 2022-04-19 LTS</li>\n<li>OpenJDK Runtime Environment Zulu11.56+19-CA (build 11.0.15+10-LTS)</li>\n<li>OpenJDK 64-Bit Server VM Zulu11.56+19-CA (build 11.0.15+10-LTS, mixed\nmode)</li>\n</ul>\n<p>this is the .yml for kafka docker container:</p>\n<pre><code>version: '3.8'\nservices:\n  zookeeper:\n    image: confluentinc/cp-zookeeper:7.2.1\n    environment:\n      ZOOKEEPER_CLIENT_PORT: 2181\n      ZOOKEEPER_TICK_TIME: 2000\n  kafka:\n    image: confluentinc/cp-kafka:7.2.1\n    ports:\n      - &lt;some ip @&gt;:9092\n    environment:\n      KAFKA_BROKER_ID: 1\n      KAFKA_ZOOKEEPER_CONNECT: zookeeper:2181\n      KAFKA_ADVERTISED_LISTENERS: PLAINTEXT://kafka:29092,PLAINTEXT_HOST://localhost:9092\n      KAFKA_LISTENER_SECURITY_PROTOCOL_MAP: PLAINTEXT:PLAINTEXT,PLAINTEXT_HOST:PLAINTEXT\n      KAFKA_INTER_BROKER_LISTENER_NAME: PLAINTEXT\n      KAFKA_OFFSETS_TOPIC_REPLICATION_FACTOR: 1\n      KAFKA_SOCKET_REQUEST_MAX_BYTES: 2147483647\n      KAFKA_Max_Direct_MemorySize\n      KAFKA_HEAP_OPTS: -Xmx2G -Xms2G\n</code></pre>\n<p>I'm trying to send <strong>github events</strong> directly to a kafka topic via a gihub app <strong>Webhook</strong>.</p>\n<p>to expose the kafka topic in dev mode I'm using ngrok.</p>\n<p>ngrock receive a POST request from github, but the docker logs shows this:</p>\n<pre><code>ERROR Processor got uncaught exception. (kafka.network.Processor)\njava.lang.OutOfMemoryError: Direct buffer memory\n        at java.base/java.nio.Bits.reserveMemory(Bits.java:175)\n        at java.base/java.nio.DirectByteBuffer.&lt;init&gt;(DirectByteBuffer.java:118)\n        at java.base/java.nio.ByteBuffer.allocateDirect(ByteBuffer.java:317)\n        at java.base/sun.nio.ch.Util.getTemporaryDirectBuffer(Util.java:242)\n        at java.base/sun.nio.ch.IOUtil.read(IOUtil.java:242)\n        at java.base/sun.nio.ch.IOUtil.read(IOUtil.java:223)\n        at java.base/sun.nio.ch.SocketChannelImpl.read(SocketChannelImpl.java:356)\n        at org.apache.kafka.common.network.PlaintextTransportLayer.read(PlaintextTransportLayer.java:103)\n        at org.apache.kafka.common.network.NetworkReceive.readFrom(NetworkReceive.java:118)\n        at org.apache.kafka.common.network.KafkaChannel.receive(KafkaChannel.java:452)\n        at org.apache.kafka.common.network.KafkaChannel.read(KafkaChannel.java:402)\n        at org.apache.kafka.common.network.Selector.attemptRead(Selector.java:674)\n        at org.apache.kafka.common.network.Selector.pollSelectionKeys(Selector.java:576)\n        at org.apache.kafka.common.network.Selector.poll(Selector.java:481)\n        at kafka.network.Processor.poll(SocketServer.scala:1144)\n        at kafka.network.Processor.run(SocketServer.scala:1047)\n        at java.base/java.lang.Thread.run(Thread.java:829)\n</code></pre>\n<p>when I tested it by sending a msg with postman it worked. I want to make it work with the github events payload.</p>\n<p>for debugging purposes I removed all consumer of that topic.</p>\n<p><strong>things I've tried:</strong></p>\n<ul>\n<li>increase docker resources and KAFKA_HEAP_OPTS to 12G</li>\n<li>setting the security protocol as <a href=\"https://issues.apache.org/jira/browse/KAFKA-4090?jql=project%20%3D%20KAFKA%20AND%20text%20%7E%20java.lang.OutOfMemoryError\" rel=\"nofollow noreferrer\">this</a> post suggests by adding these to the .yml file:</li>\n</ul>\n<pre><code>      KAFKA_SECURITY_PROTOCOL: SSL\n      KAFKA_SSL_CLIENT_AUTH: 'required'\n      KAFKA_SSL_TRUSTSTORE_CREDENTIALS: ssl.creds\n      KAFKA_SSL_TRUSTSTORE_FILENAME: kafka.truststore.jks\n      KAFKA_SSL_KEY_CREDENTIALS: ssl.creds\n      KAFKA_SSL_KEYSTORE_CREDENTIALS: ssl.creds\n      KAFKA_KEYSTORE_FILENAME: kafka.keystore.jks\n</code></pre>\n"},{"tags":["java","jdbc","h2"],"comments":[{"owner":{"account_id":8591840,"reputation":46475,"user_id":6436191,"display_name":"The Impaler"},"score":0,"creation_date":1673736722,"post_id":75120562,"comment_id":132565784,"body_markdown":"H2 can operate in different modes. It seems you want the second one in the answer [here](https://stackoverflow.com/questions/74977517/can-h2-database-exist-outside-of-the-ide-or-does-the-data-have-to-be-manually/74977996#74977996): single-user, persistent. How are you packaging your app? If it&#39;s a Maven/Spring app then it the URL can be relative to the location of the deployed JAR file. As simple as that. You&#39;ll need to detect if a new installation has an empty database, and if so, then run the &#39;CREATE` script to populate it the first time.","body":"H2 can operate in different modes. It seems you want the second one in the answer <a href=\"https://stackoverflow.com/questions/74977517/can-h2-database-exist-outside-of-the-ide-or-does-the-data-have-to-be-manually/74977996#74977996\">here</a>: single-user, persistent. How are you packaging your app? If it&#39;s a Maven/Spring app then it the URL can be relative to the location of the deployed JAR file. As simple as that. You&#39;ll need to detect if a new installation has an empty database, and if so, then run the &#39;CREATE` script to populate it the first time."},{"owner":{"account_id":24719708,"reputation":1,"user_id":18608977,"display_name":"Ale Sto"},"score":0,"creation_date":1673881960,"post_id":75120562,"comment_id":132590508,"body_markdown":"Thank you for answer. I dont use Spring/Maven, just pure Intellij Community Version. I put h2-(version).jar into project structure and it connects fine but database appears empty. I filled the database outside Intellij before putting into project structure.","body":"Thank you for answer. I dont use Spring/Maven, just pure Intellij Community Version. I put h2-(version).jar into project structure and it connects fine but database appears empty. I filled the database outside Intellij before putting into project structure."},{"owner":{"account_id":8591840,"reputation":46475,"user_id":6436191,"display_name":"The Impaler"},"score":0,"creation_date":1673889844,"post_id":75120562,"comment_id":132593210,"body_markdown":"The key aspect of my question is how are you packaging and distributing your app. As a single jar? Something else?","body":"The key aspect of my question is how are you packaging and distributing your app. As a single jar? Something else?"},{"owner":{"account_id":24719708,"reputation":1,"user_id":18608977,"display_name":"Ale Sto"},"score":0,"creation_date":1674242746,"post_id":75120562,"comment_id":132680752,"body_markdown":"Generally I want to make the project portable. Im creating .exe file: so I make a single jar (artifact -&gt; jar from modules with dependencies) Hope thats what you mean, if not give me please more details, I&#39;m a simple beginner","body":"Generally I want to make the project portable. Im creating .exe file: so I make a single jar (artifact -&gt; jar from modules with dependencies) Hope thats what you mean, if not give me please more details, I&#39;m a simple beginner"}],"owner":{"account_id":24719708,"reputation":1,"user_id":18608977,"display_name":"Ale Sto"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673864903,"creation_date":1673723186,"question_id":75120562,"body_markdown":"I completed H2 database with few tables and I want to embed it to my application written in Intellij Community Edition. I tried to do this in two different ways but none of that works the way I want to.\r\nFirst way with URL jdbc:h2:~/database but user home is different on every computer... The database works only on my pc. \r\nSecond way with URL jdbc:h2:./src/database and the database is inside the project indeed, connection works, but the tables appears to be empty even though while running H2 database engine (entering h2/bin/h2-version.jar) the tables contain data.\r\nWhy the database seems to be empty?\r\n\r\n    public static void main(String[] args) {\r\n        final String URL = &quot;jdbc:h2:./src/database&quot;;\r\n        final String USER = &quot;sa&quot;;\r\n        final String PASSWORD = &quot;&quot;;\r\n        try {\r\n            Connection conn = DriverManager.getConnection(URL, USER, PASSWORD);\r\n            System.out.println(&quot;Connected to H2!&quot;);  \r\n            Statement statement = conn.createStatement();\r\n            ResultSet resultset = statement.executeQuery(&quot;select * from table1&quot;);\r\n            while (resultset.next())\r\n                System.out.println(resultset.getString(1));\r\n        } catch (SQLException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\n\r\nand Ive got an exception:\r\nConnected to H2!\r\nException in thread &quot;main&quot; java.lang.RuntimeException: org.h2.jdbc.JdbcSQLSyntaxErrorException: Table &quot;TABLE1&quot; not found (this database is empty); SQL statement:\r\nselect * from table1 [42104-212]\r\n\tat mainH2.main(mainH2.java:22)\r\nCaused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Table &quot;TABLE1&quot; not found (this database is empty); SQL statement:\r\nselect * from table1 [42104-212]  ","title":"How to embed H2 database to my own application to make it run on another computers","body":"<p>I completed H2 database with few tables and I want to embed it to my application written in Intellij Community Edition. I tried to do this in two different ways but none of that works the way I want to.\nFirst way with URL jdbc:h2:~/database but user home is different on every computer... The database works only on my pc.\nSecond way with URL jdbc:h2:./src/database and the database is inside the project indeed, connection works, but the tables appears to be empty even though while running H2 database engine (entering h2/bin/h2-version.jar) the tables contain data.\nWhy the database seems to be empty?</p>\n<pre><code>public static void main(String[] args) {\n    final String URL = &quot;jdbc:h2:./src/database&quot;;\n    final String USER = &quot;sa&quot;;\n    final String PASSWORD = &quot;&quot;;\n    try {\n        Connection conn = DriverManager.getConnection(URL, USER, PASSWORD);\n        System.out.println(&quot;Connected to H2!&quot;);  \n        Statement statement = conn.createStatement();\n        ResultSet resultset = statement.executeQuery(&quot;select * from table1&quot;);\n        while (resultset.next())\n            System.out.println(resultset.getString(1));\n    } catch (SQLException e) {\n        throw new RuntimeException(e);\n    }\n}\n</code></pre>\n<p>and Ive got an exception:\nConnected to H2!\nException in thread &quot;main&quot; java.lang.RuntimeException: org.h2.jdbc.JdbcSQLSyntaxErrorException: Table &quot;TABLE1&quot; not found (this database is empty); SQL statement:\nselect * from table1 [42104-212]\nat mainH2.main(mainH2.java:22)\nCaused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Table &quot;TABLE1&quot; not found (this database is empty); SQL statement:\nselect * from table1 [42104-212]</p>\n"},{"tags":["java","json","spring","escaping","freemarker"],"answers":[{"tags":[],"owner":{"account_id":242330,"reputation":10725,"user_id":513769,"accept_rate":75,"display_name":"stevevls"},"down_vote_count":1,"up_vote_count":34,"is_accepted":true,"score":33,"last_activity_date":1355859802,"creation_date":1308301308,"answer_id":6383552,"question_id":6383525,"body_markdown":"You&#39;re looking for the `?js_string` operator.\r\n\r\n    {\r\n    &quot;field1&quot; : &quot;${response.value1?js_string}&quot;,\r\n    &quot;field2&quot; : &quot;${response.value2?js_string}&quot;\r\n    }\r\n\r\nThat will take care of escaping quotes, backslashes, et. al in order to make your JS happy.\r\n\r\n**Edit**: I just saw that they introduced a `?json_string` operator in Freemarker 2.3.19.  See [here][1] for exactly how it works.  And there was much rejoicing...\r\n\r\n\r\n  [1]: http://freemarker.sourceforge.net/docs/ref_builtins_string.html#ref_builtin_json_string","title":"How to escape json strings in freemarker","body":"<p>You're looking for the <code>?js_string</code> operator.</p>\n\n<pre><code>{\n\"field1\" : \"${response.value1?js_string}\",\n\"field2\" : \"${response.value2?js_string}\"\n}\n</code></pre>\n\n<p>That will take care of escaping quotes, backslashes, et. al in order to make your JS happy.</p>\n\n<p><strong>Edit</strong>: I just saw that they introduced a <code>?json_string</code> operator in Freemarker 2.3.19.  See <a href=\"http://freemarker.sourceforge.net/docs/ref_builtins_string.html#ref_builtin_json_string\" rel=\"noreferrer\">here</a> for exactly how it works.  And there was much rejoicing...</p>\n"},{"tags":[],"owner":{"account_id":42949,"reputation":1658,"user_id":125344,"display_name":"Kevin Condon"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1329160112,"creation_date":1329160112,"answer_id":9266405,"question_id":6383525,"body_markdown":"Use a [FreeMarker macro][1] to combine all of the answers above, while making the template more readable and maintainable:\r\n\r\n    &lt;#macro json_string string&gt;${string?js_string?replace(&quot;\\\\&#39;&quot;, &quot;\\&#39;&quot;)?replace(&quot;\\\\&gt;&quot;, &quot;&gt;&quot;)}&lt;/#macro&gt;\r\n    {\r\n    &quot;field1&quot; : &quot;&lt;@json_string &quot;${response.value1}&quot;/&gt;&quot;,\r\n    &quot;field2&quot; : &quot;&lt;@json_string &quot;${response.value2}&quot;/&gt;&quot;\r\n    }\r\n\r\nIf you want to reuse the macro in multiple templates, put it in its own file and [include the file][2] instead of duplicating the macro:\r\n\r\n    &lt;#include &quot;/path/to/macro.ftl&quot;&gt;\r\n\r\n\r\n  [1]: http://freemarker.sourceforge.net/docs/ref_directive_macro.html\r\n  [2]: http://freemarker.sourceforge.net/docs/ref_directive_include.html","title":"How to escape json strings in freemarker","body":"<p>Use a <a href=\"http://freemarker.sourceforge.net/docs/ref_directive_macro.html\" rel=\"nofollow\">FreeMarker macro</a> to combine all of the answers above, while making the template more readable and maintainable:</p>\n\n<pre><code>&lt;#macro json_string string&gt;${string?js_string?replace(\"\\\\'\", \"\\'\")?replace(\"\\\\&gt;\", \"&gt;\")}&lt;/#macro&gt;\n{\n\"field1\" : \"&lt;@json_string \"${response.value1}\"/&gt;\",\n\"field2\" : \"&lt;@json_string \"${response.value2}\"/&gt;\"\n}\n</code></pre>\n\n<p>If you want to reuse the macro in multiple templates, put it in its own file and <a href=\"http://freemarker.sourceforge.net/docs/ref_directive_include.html\" rel=\"nofollow\">include the file</a> instead of duplicating the macro:</p>\n\n<pre><code>&lt;#include \"/path/to/macro.ftl\"&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":299854,"reputation":29886,"user_id":606679,"accept_rate":25,"display_name":"ddekany"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673864719,"creation_date":1673864719,"answer_id":75132916,"question_id":6383525,"body_markdown":"Starting from FreeMarker 2.3.32, it&#39;s much easier, as `?c` now quotes strings:\r\n\r\n    {\r\n    &quot;field1&quot; : ${response.value1?c},\r\n    &quot;field2&quot; : ${response.value2?c}\r\n    }\r\n\r\nNote that there are no quotes around the `${...}`! That&#39;s the point; the `?c` puts them there if the value is a string (as opposed to a number or a boolean, which are formatted without adding quotation marks).\r\n\r\nBefore 2.3.32 the above terminates with error, as string input wasn&#39;t allowed by `?c`, only numbers and booleans.\r\n\r\nStarting from 2.3.32, instead of `?c`, you can also use `?cn`, which stands for &quot;?c nullable&quot;. Then if the value is missing/`null`, it will output `null`, without the quotes. So you don&#39;t have to complicate the template with printing quotes conditionally either.\r\n\r\nAlso, It&#39;s a good idea to set the `c_format` setting to `&quot;JSON&quot;`, or `&quot;JavaScript or JSON&quot;`. (Or, if you set the `incompatible_improvements` configuration setting to 2.3.32 or higher anyway, the last will be the default.)","title":"How to escape json strings in freemarker","body":"<p>Starting from FreeMarker 2.3.32, it's much easier, as <code>?c</code> now quotes strings:</p>\n<pre><code>{\n&quot;field1&quot; : ${response.value1?c},\n&quot;field2&quot; : ${response.value2?c}\n}\n</code></pre>\n<p>Note that there are no quotes around the <code>${...}</code>! That's the point; the <code>?c</code> puts them there if the value is a string (as opposed to a number or a boolean, which are formatted without adding quotation marks).</p>\n<p>Before 2.3.32 the above terminates with error, as string input wasn't allowed by <code>?c</code>, only numbers and booleans.</p>\n<p>Starting from 2.3.32, instead of <code>?c</code>, you can also use <code>?cn</code>, which stands for &quot;?c nullable&quot;. Then if the value is missing/<code>null</code>, it will output <code>null</code>, without the quotes. So you don't have to complicate the template with printing quotes conditionally either.</p>\n<p>Also, It's a good idea to set the <code>c_format</code> setting to <code>&quot;JSON&quot;</code>, or <code>&quot;JavaScript or JSON&quot;</code>. (Or, if you set the <code>incompatible_improvements</code> configuration setting to 2.3.32 or higher anyway, the last will be the default.)</p>\n"}],"owner":{"account_id":361413,"reputation":1010,"user_id":704004,"accept_rate":71,"display_name":"Skurpi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28828,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"accepted_answer_id":6383552,"answer_count":3,"score":22,"last_activity_date":1673864719,"creation_date":1308301170,"question_id":6383525,"body_markdown":"We are building a restful api using Spring MVC and freemarker as the templating language. We have chosen to build json responses in the freemarker\r\n\r\nExample freemarker.ftl:\r\n\r\n    {\r\n    &quot;field1&quot; : &quot;${response.value1}&quot;,\r\n    &quot;field2&quot; : &quot;${response.value2}&quot;\r\n    }\r\n\r\n\r\nWe get a problem when the strings in the values contain quotation marks (or any of the other characters in the JSON syntax).\r\n\r\nThe question: **How can I escape these strings using freemarker?**\r\n\r\nWe have looked at `?xml` or `?html` but they do not cover all relevant characters (such as `\\`). \r\n\r\n\r\n**EDIT:** `?js_string` will escape the string to comform with JavaScript. And since JSON is based on JavaScript (JavaScript Object Notation), it will work.\r\n\r\n**EDIT2:** In case a single-quote pops up, `?js_string` will escape it which again leads to invalid JSON. The hotfix for it is:\r\n\r\n    ${variable?js_string?replace(&quot;\\\\&#39;&quot;, &quot;\\&#39;&quot;)} \r\n\r\nand if you really want to be picky:\r\n\r\n    ${variable?js_string?replace(&quot;\\\\&#39;&quot;, &quot;\\&#39;&quot;)?replace(&quot;\\\\&gt;&quot;,&quot;&gt;&quot;)}\r\n\r\nAlternatively if you use Spring: http://www.springsurf.org/sites/1.0.0.M3/spring-webscripts/spring-webscripts-documentation/reference/html-single/index.html#js-api-index-org.springframework.extensions.webscripts.json.jsonutils","title":"How to escape json strings in freemarker","body":"<p>We are building a restful api using Spring MVC and freemarker as the templating language. We have chosen to build json responses in the freemarker</p>\n\n<p>Example freemarker.ftl:</p>\n\n<pre><code>{\n\"field1\" : \"${response.value1}\",\n\"field2\" : \"${response.value2}\"\n}\n</code></pre>\n\n<p>We get a problem when the strings in the values contain quotation marks (or any of the other characters in the JSON syntax).</p>\n\n<p>The question: <strong>How can I escape these strings using freemarker?</strong></p>\n\n<p>We have looked at <code>?xml</code> or <code>?html</code> but they do not cover all relevant characters (such as <code>\\</code>). </p>\n\n<p><strong>EDIT:</strong> <code>?js_string</code> will escape the string to comform with JavaScript. And since JSON is based on JavaScript (JavaScript Object Notation), it will work.</p>\n\n<p><strong>EDIT2:</strong> In case a single-quote pops up, <code>?js_string</code> will escape it which again leads to invalid JSON. The hotfix for it is:</p>\n\n<pre><code>${variable?js_string?replace(\"\\\\'\", \"\\'\")} \n</code></pre>\n\n<p>and if you really want to be picky:</p>\n\n<pre><code>${variable?js_string?replace(\"\\\\'\", \"\\'\")?replace(\"\\\\&gt;\",\"&gt;\")}\n</code></pre>\n\n<p>Alternatively if you use Spring: <a href=\"http://www.springsurf.org/sites/1.0.0.M3/spring-webscripts/spring-webscripts-documentation/reference/html-single/index.html#js-api-index-org.springframework.extensions.webscripts.json.jsonutils\" rel=\"nofollow noreferrer\">http://www.springsurf.org/sites/1.0.0.M3/spring-webscripts/spring-webscripts-documentation/reference/html-single/index.html#js-api-index-org.springframework.extensions.webscripts.json.jsonutils</a></p>\n"},{"tags":["java","gwt"],"owner":{"account_id":17713435,"reputation":1,"user_id":12860433,"display_name":"strugglewow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673864547,"creation_date":1673864547,"question_id":75132889,"body_markdown":"GWT is appending the \\&lt;script\\&gt; straight to .html file, which doesn&#39;t comply with CSP &#39;unsafe-inline&#39;\r\n\r\n```\r\n&lt;iframe id=&quot;some_gwt_Id&quot;&gt;\r\n&lt;html&gt;\r\n&lt;head&gt;&lt;/head&gt;\r\n&lt;body&gt;\r\n\r\n//appended script\r\n&lt;script src=&quot;http://localhost:8888/AABWTB1283BBCASDTC4D1YF2EB3AE4916.cache.js&quot;&gt;&lt;/script&gt;\r\n&lt;script&gt;...&lt;/script&gt;\r\n//appended script\r\n\r\n&lt;/body&gt;&lt;/html&gt;\r\n\r\n&lt;/iframe&gt;\r\n```\r\n\r\nHow do I add nonce property to the appended script?\r\n","title":"&#39;nonce&#39; to GWT added inline script","body":"<p>GWT is appending the &lt;script&gt; straight to .html file, which doesn't comply with CSP 'unsafe-inline'</p>\n<pre><code>&lt;iframe id=&quot;some_gwt_Id&quot;&gt;\n&lt;html&gt;\n&lt;head&gt;&lt;/head&gt;\n&lt;body&gt;\n\n//appended script\n&lt;script src=&quot;http://localhost:8888/AABWTB1283BBCASDTC4D1YF2EB3AE4916.cache.js&quot;&gt;&lt;/script&gt;\n&lt;script&gt;...&lt;/script&gt;\n//appended script\n\n&lt;/body&gt;&lt;/html&gt;\n\n&lt;/iframe&gt;\n</code></pre>\n<p>How do I add nonce property to the appended script?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":26487448,"reputation":206,"user_id":20125791,"display_name":"Android Newbie A"},"score":0,"creation_date":1673831862,"post_id":75129419,"comment_id":132579097,"body_markdown":"It crashes because `double temp = Double.parseDouble(enterTemp.getText().toString());` fail to parse the value. My recommendation is that 1st, check the input existence at the beginning of the method. 2nd, exit the run (i.e., `return`) when any of the fail condition met. 3rd, check string equality properly (i.e., use `$String.equals($String)` method instead of `==`. REF: https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java). 4th, surround the `Double.parseDouble()` with `try catch` for the exception thrown.","body":"It crashes because <code>double temp = Double.parseDouble(enterTemp.getText().toString());</code> fail to parse the value. My recommendation is that 1st, check the input existence at the beginning of the method. 2nd, exit the run (i.e., <code>return</code>) when any of the fail condition met. 3rd, check string equality properly (i.e., use <code>$String.equals($String)</code> method instead of <code>==</code>. REF: <a href=\"https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java\" title=\"how do i compare strings in java\">stackoverflow.com/questions/513832/&hellip;</a>). 4th, surround the <code>Double.parseDouble()</code> with <code>try catch</code> for the exception thrown."}],"answers":[{"tags":[],"owner":{"account_id":27314329,"reputation":459,"user_id":20829009,"display_name":"Daksh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673830909,"creation_date":1673830909,"answer_id":75129448,"question_id":75129419,"body_markdown":"You should use `TextUtils` to achieve your desired result. Something like:\r\n\r\n```java\r\nimport android.text.TextUtils;\r\n\r\nif ( TextUtils.isEmpty(enterTemp.getText()) ) {\r\n   // Display the toast\r\n}\r\n```","title":"how to toast a message if editText is empty?","body":"<p>You should use <code>TextUtils</code> to achieve your desired result. Something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import android.text.TextUtils;\n\nif ( TextUtils.isEmpty(enterTemp.getText()) ) {\n   // Display the toast\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27495420,"reputation":46,"user_id":20980009,"display_name":"Dipak Luhar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673846792,"creation_date":1673846768,"answer_id":75130489,"question_id":75129419,"body_markdown":" **Your code will be:**\r\n\r\n    if(enterTemp.getText().toString().trim().length() == 0 ){\r\n            Toast.makeText(MainActivity.this, &quot;It&#39;s empty&quot;, Toast.LENGTH_SHORT).show();\r\n         }","title":"how to toast a message if editText is empty?","body":"<p><strong>Your code will be:</strong></p>\n<pre><code>if(enterTemp.getText().toString().trim().length() == 0 ){\n        Toast.makeText(MainActivity.this, &quot;It's empty&quot;, Toast.LENGTH_SHORT).show();\n     }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27495537,"reputation":11,"user_id":20980098,"display_name":"Priyanka Rajpoot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673860899,"creation_date":1673860899,"answer_id":75132231,"question_id":75129419,"body_markdown":"Try this-&gt;\r\n\r\n    \r\n    if (enterTemp.getText().toString().equals(&quot;&quot;)) {\r\n                Toast.makeText(MainActivity.this, &quot;It&#39;s empty&quot;, Toast.LENGTH_SHORT).show();\r\n            }","title":"how to toast a message if editText is empty?","body":"<p>Try this-&gt;</p>\n<pre><code>if (enterTemp.getText().toString().equals(&quot;&quot;)) {\n            Toast.makeText(MainActivity.this, &quot;It's empty&quot;, Toast.LENGTH_SHORT).show();\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26947577,"reputation":11,"user_id":20517322,"display_name":"Dalpatsinh Chauhan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673864515,"creation_date":1673864515,"answer_id":75132879,"question_id":75129419,"body_markdown":"First of all you should check EditText is empty or not and in else part do your conversion:\r\n\r\n    if (enterTemp.getText().toString().isEmpty())\r\n       {\r\n         Toast.makeText(MainActivity.this, &quot;It&#39;s empty&quot;, Toast.LENGTH_SHORT).show();\r\n    } else {\r\n             if(ConvertFromUnitTypeSpinner.getSelectedItem()==&quot;Fahrenheit&quot;&amp;&amp;\r\n                       \r\n             ConvertToUnitTypeSpinner.getSelectedItem().toString()==&quot;Celsius&quot;)\r\n                {\r\n                     result0 = (temp - 32 )*5/9;\r\n                     result.setText(String.valueOf(result0));\r\n                }\r\n                if(ConvertFromUnitTypeSpinner.getSelectedItem()==&quot;Celsius&quot;\r\n                      \r\n              &amp;&amp;ConvertToUnitTypeSpinner.getSelectedItem().toString()==&quot;Fahrenheit&quot;)\r\n                 {\r\n                      result0 = (temp * 9/5) + 32;\r\n                      result.setText(String.valueOf(result0));\r\n                 }\r\n                  if (ConvertToUnitTypeSpinner.getSelectedItem()\r\n                            ==ConvertToUnitTypeSpinner.getSelectedItem())\r\n                   {\r\n                        result.setText(&quot;Units are the same!&quot;);\r\n                    }\r\n         }","title":"how to toast a message if editText is empty?","body":"<p>First of all you should check EditText is empty or not and in else part do your conversion:</p>\n<pre><code>if (enterTemp.getText().toString().isEmpty())\n   {\n     Toast.makeText(MainActivity.this, &quot;It's empty&quot;, Toast.LENGTH_SHORT).show();\n} else {\n         if(ConvertFromUnitTypeSpinner.getSelectedItem()==&quot;Fahrenheit&quot;&amp;&amp;\n                   \n         ConvertToUnitTypeSpinner.getSelectedItem().toString()==&quot;Celsius&quot;)\n            {\n                 result0 = (temp - 32 )*5/9;\n                 result.setText(String.valueOf(result0));\n            }\n            if(ConvertFromUnitTypeSpinner.getSelectedItem()==&quot;Celsius&quot;\n                  \n          &amp;&amp;ConvertToUnitTypeSpinner.getSelectedItem().toString()==&quot;Fahrenheit&quot;)\n             {\n                  result0 = (temp * 9/5) + 32;\n                  result.setText(String.valueOf(result0));\n             }\n              if (ConvertToUnitTypeSpinner.getSelectedItem()\n                        ==ConvertToUnitTypeSpinner.getSelectedItem())\n               {\n                    result.setText(&quot;Units are the same!&quot;);\n                }\n     }\n</code></pre>\n"}],"owner":{"account_id":27538533,"reputation":11,"user_id":21015704,"display_name":"user21015704"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1673864515,"creation_date":1673830501,"question_id":75129419,"body_markdown":"I am trying to get a message to appear when a button is clicked to tell the user to fill in the blank field. Currently, if the field is blank, it crashes/force closes the app. the criteria that i need are to have spinners for the Celsius/Fahrenheit options and toast messages if the spinners are both on the same option or if the value is blank\r\n\r\nHere is the code\r\n\r\n   \r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n        private TextView result;\r\n        private EditText enterTemp;\r\n        double result0;\r\n\r\n        Spinner ConvertFromUnitTypeSpinner;\r\n        Spinner ConvertToUnitTypeSpinner;\r\n\r\n\r\n        @Override\r\n\r\n    protected void onCreate (Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        //set spinner variables\r\n\r\n        ConvertFromUnitTypeSpinner = (Spinner) findViewById(R.id.ConvertFromUnitTypeSpinner);\r\n        ConvertToUnitTypeSpinner =  (Spinner) findViewById(R.id.ConvertToUnitTypeSpinner);\r\n\r\n        //String for spinner items\r\n        String [] unitTypes =  {&quot;Fahrenheit&quot;, &quot;Celsius&quot;};\r\n\r\n        //set up adapter for the layout of the spinner\r\n        ArrayAdapter&lt;String&gt; spinnerAdapter = new ArrayAdapter&lt;&gt;(this,      \r\n         android.R.layout.simple_list_item_1, unitTypes);\r\n\r\n        //set up adapter to spinner\r\n        ConvertFromUnitTypeSpinner.setAdapter(spinnerAdapter);\r\n        ConvertToUnitTypeSpinner.setAdapter(spinnerAdapter);\r\n\r\n        //set up convert button\r\n        Button convert = findViewById(R.id.convert);\r\n        result = findViewById(R.id.result);\r\n        enterTemp = findViewById(R.id.enterTemp);\r\n\r\n\r\n        convert.setOnClickListener(new View.OnClickListener(){\r\n            @SuppressLint(&quot;SetTextI18n&quot;)\r\n            @Override\r\n            public void onClick (View v) {\r\n                double temp = Double.parseDouble(enterTemp.getText().toString());\r\n\r\n            if(ConvertFromUnitTypeSpinner.getSelectedItem()==&quot;Fahrenheit&quot;&amp;&amp;\r\n             ConvertToUnitTypeSpinner.getSelectedItem().toString()==&quot;Celsius&quot;)\r\n                {\r\n                    result0 = (temp - 32 )*5/9;\r\n                    result.setText(String.valueOf(result0));\r\n                }\r\n           if(ConvertFromUnitTypeSpinner.getSelectedItem()==&quot;Celsius&quot;\r\n              &amp;&amp;ConvertToUnitTypeSpinner.getSelectedItem().toString()==&quot;Fahrenheit&quot;)\r\n                {\r\n                    result0 = (temp * 9/5) + 32;\r\n                    result.setText(String.valueOf(result0));\r\n                }\r\n            if (ConvertToUnitTypeSpinner.getSelectedItem()\r\n                ==ConvertToUnitTypeSpinner.getSelectedItem()){\r\n                    result.setText(&quot;Units are the same!&quot;);\r\n                }\r\n                if (enterTemp.getText().toString().length() == 0)\r\n                {\r\n                    Toast.makeText(MainActivity.this, &quot;It&#39;s empty&quot;, Toast.LENGTH_SHORT).show();\r\n                  }\r\n\r\n                }\r\n              });\r\n             }\r\n           }\r\n```\r\n \r\n\r\nI tried replacing the code \r\n```\r\nif (enterTemp.getText().toString().length() == 0) {\r\n            Toast.makeText(MainActivity.this, &quot;It&#39;s empty&quot;, Toast.LENGTH_SHORT).show();\r\n          }\r\n```\r\nto this\r\n       \r\n```\r\nif(isEmpty(enterTemp.getText().toString())){\r\n            Toast.makeText(MainActivity.this, &quot;It&#39;s empty&quot;, Toast.LENGTH_SHORT).show();\r\n         }\r\n```\r\n \r\n\r\nalso no luck","title":"how to toast a message if editText is empty?","body":"<p>I am trying to get a message to appear when a button is clicked to tell the user to fill in the blank field. Currently, if the field is blank, it crashes/force closes the app. the criteria that i need are to have spinners for the Celsius/Fahrenheit options and toast messages if the spinners are both on the same option or if the value is blank</p>\n<p>Here is the code</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n        private TextView result;\n        private EditText enterTemp;\n        double result0;\n\n        Spinner ConvertFromUnitTypeSpinner;\n        Spinner ConvertToUnitTypeSpinner;\n\n\n        @Override\n\n    protected void onCreate (Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        //set spinner variables\n\n        ConvertFromUnitTypeSpinner = (Spinner) findViewById(R.id.ConvertFromUnitTypeSpinner);\n        ConvertToUnitTypeSpinner =  (Spinner) findViewById(R.id.ConvertToUnitTypeSpinner);\n\n        //String for spinner items\n        String [] unitTypes =  {&quot;Fahrenheit&quot;, &quot;Celsius&quot;};\n\n        //set up adapter for the layout of the spinner\n        ArrayAdapter&lt;String&gt; spinnerAdapter = new ArrayAdapter&lt;&gt;(this,      \n         android.R.layout.simple_list_item_1, unitTypes);\n\n        //set up adapter to spinner\n        ConvertFromUnitTypeSpinner.setAdapter(spinnerAdapter);\n        ConvertToUnitTypeSpinner.setAdapter(spinnerAdapter);\n\n        //set up convert button\n        Button convert = findViewById(R.id.convert);\n        result = findViewById(R.id.result);\n        enterTemp = findViewById(R.id.enterTemp);\n\n\n        convert.setOnClickListener(new View.OnClickListener(){\n            @SuppressLint(&quot;SetTextI18n&quot;)\n            @Override\n            public void onClick (View v) {\n                double temp = Double.parseDouble(enterTemp.getText().toString());\n\n            if(ConvertFromUnitTypeSpinner.getSelectedItem()==&quot;Fahrenheit&quot;&amp;&amp;\n             ConvertToUnitTypeSpinner.getSelectedItem().toString()==&quot;Celsius&quot;)\n                {\n                    result0 = (temp - 32 )*5/9;\n                    result.setText(String.valueOf(result0));\n                }\n           if(ConvertFromUnitTypeSpinner.getSelectedItem()==&quot;Celsius&quot;\n              &amp;&amp;ConvertToUnitTypeSpinner.getSelectedItem().toString()==&quot;Fahrenheit&quot;)\n                {\n                    result0 = (temp * 9/5) + 32;\n                    result.setText(String.valueOf(result0));\n                }\n            if (ConvertToUnitTypeSpinner.getSelectedItem()\n                ==ConvertToUnitTypeSpinner.getSelectedItem()){\n                    result.setText(&quot;Units are the same!&quot;);\n                }\n                if (enterTemp.getText().toString().length() == 0)\n                {\n                    Toast.makeText(MainActivity.this, &quot;It's empty&quot;, Toast.LENGTH_SHORT).show();\n                  }\n\n                }\n              });\n             }\n           }\n</code></pre>\n<p>I tried replacing the code</p>\n<pre><code>if (enterTemp.getText().toString().length() == 0) {\n            Toast.makeText(MainActivity.this, &quot;It's empty&quot;, Toast.LENGTH_SHORT).show();\n          }\n</code></pre>\n<p>to this</p>\n<pre><code>if(isEmpty(enterTemp.getText().toString())){\n            Toast.makeText(MainActivity.this, &quot;It's empty&quot;, Toast.LENGTH_SHORT).show();\n         }\n</code></pre>\n<p>also no luck</p>\n"},{"tags":["java","objectbox","objectbox-java"],"comments":[{"owner":{"account_id":264767,"reputation":6950,"user_id":551269,"accept_rate":71,"display_name":"Markus Junginger"},"score":0,"creation_date":1673865187,"post_id":75132798,"comment_id":132584977,"body_markdown":"You need ObjectBox Sync for this. You can apply for it here: https://objectbox.io/sync/","body":"You need ObjectBox Sync for this. You can apply for it here: <a href=\"https://objectbox.io/sync/\" rel=\"nofollow noreferrer\">objectbox.io/sync</a>"},{"owner":{"account_id":27541719,"reputation":15,"user_id":21018357,"display_name":"Saranya Karuppasamy"},"score":0,"creation_date":1673953689,"post_id":75132798,"comment_id":132606750,"body_markdown":"@MarkusJunginger - If u could see the code which is attached above I have used Sync clinet to connect but getting an exception &quot;This library does not include ObjectBox Sync Server. &quot;Please visit https://objectbox.io/sync/ for options.&quot; from syncServerBuilder. I am using Java Spring Boot, not an android project. Can you help with this.","body":"@MarkusJunginger - If u could see the code which is attached above I have used Sync clinet to connect but getting an exception &quot;This library does not include ObjectBox Sync Server. &quot;Please visit <a href=\"https://objectbox.io/sync/\" rel=\"nofollow noreferrer\">objectbox.io/sync</a> for options.&quot; from syncServerBuilder. I am using Java Spring Boot, not an android project. Can you help with this."},{"owner":{"account_id":264767,"reputation":6950,"user_id":551269,"accept_rate":71,"display_name":"Markus Junginger"},"score":0,"creation_date":1673958499,"post_id":75132798,"comment_id":132608236,"body_markdown":"The shared code uses a client, not a server. Thus, it is expected that it will tell you that it does not include a server.","body":"The shared code uses a client, not a server. Thus, it is expected that it will tell you that it does not include a server."},{"owner":{"account_id":27541719,"reputation":15,"user_id":21018357,"display_name":"Saranya Karuppasamy"},"score":0,"creation_date":1674045338,"post_id":75132798,"comment_id":132630088,"body_markdown":"Hi @MarkusJunginger - Please find the below code which uses the sync server from Java Application , \n\n  BoxStore boxStore = MyObjectBox.builder().name(&quot;TestEntity-db&quot;).build();\n  Box&lt;TestEntity&gt; box = boxStore.boxFor(TestEntity.class);\t\t\nboolean syncAvailable = Sync.isServerAvailable();\nSystem.out.println(&quot;ObjectBox Sync is &quot; + syncAvailable);\t\t  \n SyncServer syncServer = Sync.server(boxStore, &quot;ws://12.456.672.89:9999&quot;,\n SyncCredentials.none()).buildAndStart();\n\nGetting error , &quot;This library does not include ObjectBox Sync Server. Please visit https://objectbox.io/sync/ for options.&quot;","body":"Hi @MarkusJunginger - Please find the below code which uses the sync server from Java Application ,     BoxStore boxStore = MyObjectBox.builder().name(&quot;TestEntity-db&quot;).build();   Box&lt;TestEntity&gt; box = boxStore.boxFor(TestEntity.class);\t\t boolean syncAvailable = Sync.isServerAvailable(); System.out.println(&quot;ObjectBox Sync is &quot; + syncAvailable);\t\t    SyncServer syncServer = Sync.server(boxStore, &quot;ws://12.456.672.89:9999&quot;,  SyncCredentials.none()).buildAndStart();  Getting error , &quot;This library does not include ObjectBox Sync Server. Please visit <a href=\"https://objectbox.io/sync/\" rel=\"nofollow noreferrer\">objectbox.io/sync</a> for options.&quot;"},{"owner":{"account_id":264767,"reputation":6950,"user_id":551269,"accept_rate":71,"display_name":"Markus Junginger"},"score":0,"creation_date":1674135322,"post_id":75132798,"comment_id":132653094,"body_markdown":"I&#39;m a bit confused about the intended setup. Do you actually want an embedded ObjectBox Sync server running in your process? Maybe a Sync client connecting to an existing Sync Server could be an option too? I realized we are in touch outside of stackoverflow already; let&#39;s continue there?","body":"I&#39;m a bit confused about the intended setup. Do you actually want an embedded ObjectBox Sync server running in your process? Maybe a Sync client connecting to an existing Sync Server could be an option too? I realized we are in touch outside of stackoverflow already; let&#39;s continue there?"},{"owner":{"account_id":27541719,"reputation":15,"user_id":21018357,"display_name":"Saranya Karuppasamy"},"score":0,"creation_date":1674467636,"post_id":75132798,"comment_id":132712433,"body_markdown":"Yes Sure @MarkusJunginger will continue there","body":"Yes Sure @MarkusJunginger will continue there"}],"owner":{"account_id":27541719,"reputation":15,"user_id":21018357,"display_name":"Saranya Karuppasamy"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1673864471,"creation_date":1673864104,"question_id":75132798,"body_markdown":"I have a use-case wherein I have to connect objectbox from Java to server instance. \r\n\r\nI tried with Sync but getting error stating &quot;sync not supported&quot;. Below is my code, \r\n\r\n```\r\nBoxStore boxStore = MyObjectBox.builder().name(&quot;TestEntity-db&quot;).build();\r\nBox&lt;TestEntity&gt; box = boxStore.boxFor(TestEntity.class);\r\nboolean syncAvailable = Sync.isAvailable();\r\nSystem.out.println(&quot;ObjectBox Sync is &quot; + syncAvailable);\t\t  \r\nSyncClient syncClient = Sync.client( boxStore, &quot;ws://12.456.672.89:9999&quot;, SyncCredentials.none() ).buildAndStart();\r\n```\r\nCan someone help in this? ","title":"How to connect ObjectBox to server instance?","body":"<p>I have a use-case wherein I have to connect objectbox from Java to server instance.</p>\n<p>I tried with Sync but getting error stating &quot;sync not supported&quot;. Below is my code,</p>\n<pre><code>BoxStore boxStore = MyObjectBox.builder().name(&quot;TestEntity-db&quot;).build();\nBox&lt;TestEntity&gt; box = boxStore.boxFor(TestEntity.class);\nboolean syncAvailable = Sync.isAvailable();\nSystem.out.println(&quot;ObjectBox Sync is &quot; + syncAvailable);         \nSyncClient syncClient = Sync.client( boxStore, &quot;ws://12.456.672.89:9999&quot;, SyncCredentials.none() ).buildAndStart();\n</code></pre>\n<p>Can someone help in this?</p>\n"},{"tags":["java","currency"],"comments":[{"owner":{"display_name":"user20716279"},"score":0,"creation_date":1673870038,"post_id":75132838,"comment_id":132586468,"body_markdown":"what you ask for is already exist but for jdk 9 the closet i get is that\n`System.out.println(format.format(new BigDecimal(amount))+format.getCurrency().getSymbol()); `\n\nit print \n`100,00 USD$` \nhope someone else get better way for jdk 8","body":"what you ask for is already exist but for jdk 9 the closet i get is that <code>System.out.println(format.format(new BigDecimal(amount))+format.getCurrency().getSymbol()); </code>  it print  <code>100,00 USD$</code>  hope someone else get better way for jdk 8"},{"owner":{"account_id":13960903,"reputation":454,"user_id":10082168,"display_name":"Jason0011"},"score":0,"creation_date":1673870723,"post_id":75132838,"comment_id":132586643,"body_markdown":"look at this something similar for your question https://www.educative.io/answers/how-to-format-a-number-as-currency-depending-on-locale-in-java","body":"look at this something similar for your question <a href=\"https://www.educative.io/answers/how-to-format-a-number-as-currency-depending-on-locale-in-java\" rel=\"nofollow noreferrer\">educative.io/answers/&hellip;</a>"},{"owner":{"account_id":18470358,"reputation":57,"user_id":13455451,"display_name":"Prajeeth Anand"},"score":0,"creation_date":1673885944,"post_id":75132838,"comment_id":132591874,"body_markdown":"Thank you, Jason0011, but it&#39;s the same code which I have tried,\n\nThanks @justsomeone, but I can&#39;t do concatenation because when Currency code changes, for ex: CAD, output should be something like CA$162.31.\nCould you please kindly help on how to achieve this in Java 9.","body":"Thank you, Jason0011, but it&#39;s the same code which I have tried,  Thanks @justsomeone, but I can&#39;t do concatenation because when Currency code changes, for ex: CAD, output should be something like CA$162.31. Could you please kindly help on how to achieve this in Java 9."},{"owner":{"display_name":"user20716279"},"score":1,"creation_date":1673886608,"post_id":75132838,"comment_id":132592125,"body_markdown":"using your first code example you simply run it with jdk 9 or above i just used jdk 17 and the output is `100,00&#160;$&#160;US` run your code here https://www.jdoodle.com/online-java-compiler-ide/ and see the difference when you choose different jdk","body":"using your first code example you simply run it with jdk 9 or above i just used jdk 17 and the output is <code>100,00$US</code> run your code here <a href=\"https://www.jdoodle.com/online-java-compiler-ide/\" rel=\"nofollow noreferrer\">jdoodle.com/online-java-compiler-ide</a> and see the difference when you choose different jdk"}],"owner":{"account_id":18470358,"reputation":57,"user_id":13455451,"display_name":"Prajeeth Anand"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673864278,"creation_date":1673864278,"question_id":75132838,"body_markdown":"How to covert number 100.00 to currency format (100,00 $ US) for Locale.CANADA_FRENCH?\r\n\r\nI have a scenario where I have to convert number 100.00 to currency format in Locale.CANADA_FRENCH.\r\nAt the same time I need the currency to be in USD. i.e the currency symbol should be like &quot;$US&quot;.\r\n\r\n\r\nI can&#39;t do any hardcoding like appending country code,\r\nPlease let me know if there is a way to get the this by passing locale or Currency code any method.\r\nAnd we are using Java 8\r\n\r\nTill now I have tried below things,\r\n\r\n```\r\nString amount = &quot;100.00&quot;;\r\nNumberFormat format = NumberFormat.getCurrencyInstance(Locale.CANADA_FRENCH);\r\nformat.setCurrency(Currency.getInstance(&quot;USD&quot;));\r\nSystem.out.println(format.format(new BigDecimal(amount)));\r\n```\r\n\r\nOutput we get is 100,00 USD\r\n\r\n\r\n```\r\nString amount = &quot;100.00&quot;;\r\nNumberFormat format = NumberFormat.getCurrencyInstance(Locale.CANADA_FRENCH);\r\nDecimalFormat df = (DecimalFormat) format;\r\ndf.getDecimalFormatSymbols().setCurrency(Currency.getInstance(&quot;USD&quot;));\r\n\r\nSystem.out.println(format.format(new BigDecimal(amount)));\r\n```\r\n\r\nOutput we get is 100,00 $\r\n","title":"How to covert number 100.00 to currency format (100,00 $US) for Locale.CANADA_FRENCH?","body":"<p>How to covert number 100.00 to currency format (100,00 $ US) for Locale.CANADA_FRENCH?</p>\n<p>I have a scenario where I have to convert number 100.00 to currency format in Locale.CANADA_FRENCH.\nAt the same time I need the currency to be in USD. i.e the currency symbol should be like &quot;$US&quot;.</p>\n<p>I can't do any hardcoding like appending country code,\nPlease let me know if there is a way to get the this by passing locale or Currency code any method.\nAnd we are using Java 8</p>\n<p>Till now I have tried below things,</p>\n<pre><code>String amount = &quot;100.00&quot;;\nNumberFormat format = NumberFormat.getCurrencyInstance(Locale.CANADA_FRENCH);\nformat.setCurrency(Currency.getInstance(&quot;USD&quot;));\nSystem.out.println(format.format(new BigDecimal(amount)));\n</code></pre>\n<p>Output we get is 100,00 USD</p>\n<pre><code>String amount = &quot;100.00&quot;;\nNumberFormat format = NumberFormat.getCurrencyInstance(Locale.CANADA_FRENCH);\nDecimalFormat df = (DecimalFormat) format;\ndf.getDecimalFormatSymbols().setCurrency(Currency.getInstance(&quot;USD&quot;));\n\nSystem.out.println(format.format(new BigDecimal(amount)));\n</code></pre>\n<p>Output we get is 100,00 $</p>\n"},{"tags":["java","intellij-idea","directory","desktop-application","shared-drive"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1673649472,"post_id":75115017,"comment_id":132554690,"body_markdown":"Put a breakpoint in `createDirectories`, step through it and see what the problem is.","body":"Put a breakpoint in <code>createDirectories</code>, step through it and see what the problem is."},{"owner":{"account_id":27520163,"reputation":1,"user_id":21000480,"display_name":"danilasar"},"score":0,"creation_date":1673729362,"post_id":75115017,"comment_id":132564619,"body_markdown":"I tried to debug but when i run the jar file in IDK the program runs without errors. This gave me the idea that the cause of the error is not in the code, but in how I run the application. I ran the app via command line with admin rights (win 10) and got this error. But when I ran it in the same way as a local user (without administrator rights), the program worked as it should. I don&#39;t know why I can&#39;t run as administrator and what is the reason, but now the application is working, so I&#39;m satisfied. but your answer made me look with what parameters the application is launched in the idea)","body":"I tried to debug but when i run the jar file in IDK the program runs without errors. This gave me the idea that the cause of the error is not in the code, but in how I run the application. I ran the app via command line with admin rights (win 10) and got this error. But when I ran it in the same way as a local user (without administrator rights), the program worked as it should. I don&#39;t know why I can&#39;t run as administrator and what is the reason, but now the application is working, so I&#39;m satisfied. but your answer made me look with what parameters the application is launched in the idea)"}],"answers":[{"tags":[],"owner":{"account_id":27494768,"reputation":218,"user_id":20979453,"display_name":"Jacky Liu - JetBrains"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673864237,"creation_date":1673864237,"answer_id":75132831,"question_id":75115017,"body_markdown":"Maybe you can try with the command line:\r\n`C:\\jdk1.9\\bin\\java -jar c:\\myproject\\myapp.jar`\r\nand show us the log?\r\n\r\nIn fact, if it runs outside of IDEA, so usually nothing will be related to IDEA. And Java programs in fact didn&#39;t work well when they launched in a Unicode folder such as in a folder with East Asian or with spaces in the folders&#39; path.","title":"Unable to Determine if Root Directory Exists (shared drive)","body":"<p>Maybe you can try with the command line:\n<code>C:\\jdk1.9\\bin\\java -jar c:\\myproject\\myapp.jar</code>\nand show us the log?</p>\n<p>In fact, if it runs outside of IDEA, so usually nothing will be related to IDEA. And Java programs in fact didn't work well when they launched in a Unicode folder such as in a folder with East Asian or with spaces in the folders' path.</p>\n"}],"owner":{"account_id":27520163,"reputation":1,"user_id":21000480,"display_name":"danilasar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":297,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673864237,"creation_date":1673648953,"question_id":75115017,"body_markdown":"I made a desktop application with swing gui using jdk 19. It parses the metadata of the files and then moves the files from a specific folder to a shared drive (Checks if the necessary directories exist and if not, then creates them and copies files into them). When I run the code in IDEA, everything works as it should. But when I create an executable jar, I run the application, set the same parameters as in IDEA and get the following error:\r\n\r\n```\r\nException in thread &quot;AWT-EventQueue-0&quot; java.lang.RuntimeException: java.nio.file.FileSystemException: V:\\!\\ \\Test\\2023\\14.01: Unable to determine if root directory exists\r\n        at gui.GUITest$1.actionPerformed(GUITest.java:52)\r\n        at java.desktop/javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:1972)\r\n        at java.desktop/javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2313)\r\n        at java.desktop/javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:405)\r\n        at java.desktop/javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:262)\r\n        at java.desktop/javax.swing.plaf.basic.BasicButtonListener.mouseReleased(BasicButtonListener.java:279)\r\n        at java.desktop/java.awt.Component.processMouseEvent(Component.java:6620)\r\n        at java.desktop/javax.swing.JComponent.processMouseEvent(JComponent.java:3398)\r\n        at java.desktop/java.awt.Component.processEvent(Component.java:6385)\r\n        at java.desktop/java.awt.Container.processEvent(Container.java:2266)\r\n        at java.desktop/java.awt.Component.dispatchEventImpl(Component.java:4995)\r\n        at java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2324)\r\n        at java.desktop/java.awt.Component.dispatchEvent(Component.java:4827)\r\n        at java.desktop/java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4948)\r\n        at java.desktop/java.awt.LightweightDispatcher.processMouseEvent(Container.java:4575)\r\n        at java.desktop/java.awt.LightweightDispatcher.dispatchEvent(Container.java:4516)\r\n        at java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2310)\r\n        at java.desktop/java.awt.Window.dispatchEventImpl(Window.java:2780)\r\n        at java.desktop/java.awt.Component.dispatchEvent(Component.java:4827)\r\n        at java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:775)\r\n        at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:720)\r\n        at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:714)\r\n        at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n        at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\r\n        at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:97)\r\n        at java.desktop/java.awt.EventQueue$5.run(EventQueue.java:747)\r\n        at java.desktop/java.awt.EventQueue$5.run(EventQueue.java:745)\r\n        at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n        at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\r\n        at java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:744)\r\n        at java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\r\n        at java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\r\n        at java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\r\n        at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\r\n        at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\r\n        at java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\r\nCaused by: java.nio.file.FileSystemException: V:\\!\\ \\Test\\2023\\14.01: Unable to determine if root directory exists\r\n        at java.base/java.nio.file.Files.createDirectories(Files.java:782)\r\n        at core.Autosort.moveVideoToServer(Autosort.java:66)\r\n        at core.Autosort.VLCjAutosort(Autosort.java:53)\r\n        at core.Autosort.sortFiles(Autosort.java:31)\r\n        at gui.GUITest$1.actionPerformed(GUITest.java:48)\r\n```\r\n\r\n\r\nI have no idea whats wrong with my app. What should I do to get the same result from executable jar as in IDEA? I googled that the reason might be in Windows SMB, but then why does the application work correctly if you run it from IDEA?","title":"Unable to Determine if Root Directory Exists (shared drive)","body":"<p>I made a desktop application with swing gui using jdk 19. It parses the metadata of the files and then moves the files from a specific folder to a shared drive (Checks if the necessary directories exist and if not, then creates them and copies files into them). When I run the code in IDEA, everything works as it should. But when I create an executable jar, I run the application, set the same parameters as in IDEA and get the following error:</p>\n<pre><code>Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.RuntimeException: java.nio.file.FileSystemException: V:\\!\\ \\Test\\2023\\14.01: Unable to determine if root directory exists\n        at gui.GUITest$1.actionPerformed(GUITest.java:52)\n        at java.desktop/javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:1972)\n        at java.desktop/javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2313)\n        at java.desktop/javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:405)\n        at java.desktop/javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:262)\n        at java.desktop/javax.swing.plaf.basic.BasicButtonListener.mouseReleased(BasicButtonListener.java:279)\n        at java.desktop/java.awt.Component.processMouseEvent(Component.java:6620)\n        at java.desktop/javax.swing.JComponent.processMouseEvent(JComponent.java:3398)\n        at java.desktop/java.awt.Component.processEvent(Component.java:6385)\n        at java.desktop/java.awt.Container.processEvent(Container.java:2266)\n        at java.desktop/java.awt.Component.dispatchEventImpl(Component.java:4995)\n        at java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2324)\n        at java.desktop/java.awt.Component.dispatchEvent(Component.java:4827)\n        at java.desktop/java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4948)\n        at java.desktop/java.awt.LightweightDispatcher.processMouseEvent(Container.java:4575)\n        at java.desktop/java.awt.LightweightDispatcher.dispatchEvent(Container.java:4516)\n        at java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2310)\n        at java.desktop/java.awt.Window.dispatchEventImpl(Window.java:2780)\n        at java.desktop/java.awt.Component.dispatchEvent(Component.java:4827)\n        at java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:775)\n        at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:720)\n        at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:714)\n        at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n        at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\n        at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:97)\n        at java.desktop/java.awt.EventQueue$5.run(EventQueue.java:747)\n        at java.desktop/java.awt.EventQueue$5.run(EventQueue.java:745)\n        at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n        at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\n        at java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:744)\n        at java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\n        at java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\n        at java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\n        at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\n        at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\n        at java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\nCaused by: java.nio.file.FileSystemException: V:\\!\\ \\Test\\2023\\14.01: Unable to determine if root directory exists\n        at java.base/java.nio.file.Files.createDirectories(Files.java:782)\n        at core.Autosort.moveVideoToServer(Autosort.java:66)\n        at core.Autosort.VLCjAutosort(Autosort.java:53)\n        at core.Autosort.sortFiles(Autosort.java:31)\n        at gui.GUITest$1.actionPerformed(GUITest.java:48)\n</code></pre>\n<p>I have no idea whats wrong with my app. What should I do to get the same result from executable jar as in IDEA? I googled that the reason might be in Windows SMB, but then why does the application work correctly if you run it from IDEA?</p>\n"},{"tags":["java","ioexception"],"comments":[{"owner":{"account_id":1417953,"reputation":45783,"user_id":1343161,"accept_rate":100,"display_name":"Keppil"},"score":0,"creation_date":1396821269,"post_id":22900477,"comment_id":34949171,"body_markdown":"The first line of your stack trace says it all: `java.io.IOException: Stream closed`. You can&#39;t close it and then write to it again.","body":"The first line of your stack trace says it all: <code>java.io.IOException: Stream closed</code>. You can&#39;t close it and then write to it again."},{"owner":{"account_id":7117652,"reputation":1968,"user_id":5443319,"accept_rate":0,"display_name":"Ziaullhaq Savanur"},"score":0,"creation_date":1633671005,"post_id":22900477,"comment_id":122826415,"body_markdown":"Please check whether you are writing the flush or write to file code out side of try-with-resources code. Because in this case it becomes hard to find out where we have written close() code.\n\nIt looks as if we have not called any close() function, but it is present and we spend lot of time to actually find it out.","body":"Please check whether you are writing the flush or write to file code out side of try-with-resources code. Because in this case it becomes hard to find out where we have written close() code.  It looks as if we have not called any close() function, but it is present and we spend lot of time to actually find it out."}],"answers":[{"tags":[],"owner":{"account_id":947871,"reputation":64267,"user_id":974731,"display_name":"cybersam"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1396821365,"creation_date":1396821365,"answer_id":22900519,"question_id":22900477,"body_markdown":"Don&#39;t call `write.close()` in `writeToFile()`.","title":"java IO Exception: Stream Closed","body":"<p>Don't call <code>write.close()</code> in <code>writeToFile()</code>.</p>\n"},{"tags":[],"owner":{"account_id":2103622,"reputation":26956,"user_id":1870555,"accept_rate":75,"display_name":"christopher"},"down_vote_count":0,"up_vote_count":37,"is_accepted":true,"score":37,"last_activity_date":1396821972,"creation_date":1396821380,"answer_id":22900521,"question_id":22900477,"body_markdown":"You&#39;re calling `writer.close();` after you&#39;ve done writing to it. Once a stream is closed, it can not be written to again. Usually, the way I go about implementing this is by moving the close out of the write to method.\r\n\r\n    public void writeToFile(){\r\n        String file_text= pedStatusText + &quot;     &quot; + gatesStatus + &quot;     &quot; + DrawBridgeStatusText;\r\n        try {\r\n            writer.write(file_text);\r\n            writer.flush();\r\n        } catch (IOException e) {\r\n            // TODO Auto-generated catch block\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\nAnd add a method `cleanUp` to close the stream.\r\n\r\n    public void cleanUp() {\r\n         writer.close();\r\n    }\r\n\r\nThis means that you have the responsibility to make sure that you&#39;re calling `cleanUp` when you&#39;re done writing to the file. Failure to do this will result in memory leaks and resource locking.\r\n\r\n***EDIT***: You can create a new stream each time you want to write to the file, by moving `writer` into the `writeToFile()` method..\r\n\r\n     public void writeToFile() {\r\n        FileWriter writer = new FileWriter(&quot;status.txt&quot;, true);\r\n        // ... Write to the file.\r\n\r\n        writer.close();\r\n     }","title":"java IO Exception: Stream Closed","body":"<p>You're calling <code>writer.close();</code> after you've done writing to it. Once a stream is closed, it can not be written to again. Usually, the way I go about implementing this is by moving the close out of the write to method.</p>\n\n<pre><code>public void writeToFile(){\n    String file_text= pedStatusText + \"     \" + gatesStatus + \"     \" + DrawBridgeStatusText;\n    try {\n        writer.write(file_text);\n        writer.flush();\n    } catch (IOException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n}\n</code></pre>\n\n<p>And add a method <code>cleanUp</code> to close the stream.</p>\n\n<pre><code>public void cleanUp() {\n     writer.close();\n}\n</code></pre>\n\n<p>This means that you have the responsibility to make sure that you're calling <code>cleanUp</code> when you're done writing to the file. Failure to do this will result in memory leaks and resource locking.</p>\n\n<p><em><strong>EDIT</em></strong>: You can create a new stream each time you want to write to the file, by moving <code>writer</code> into the <code>writeToFile()</code> method..</p>\n\n<pre><code> public void writeToFile() {\n    FileWriter writer = new FileWriter(\"status.txt\", true);\n    // ... Write to the file.\n\n    writer.close();\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1158186,"reputation":2509,"user_id":1138245,"accept_rate":73,"display_name":"NSF"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1396821450,"creation_date":1396821450,"answer_id":22900535,"question_id":22900477,"body_markdown":"You call `writer.close();` in `writeToFile` so the writer has been closed the second time you call `writeToFile`.\r\n\r\nWhy don&#39;t you merge `FileStatus` into `writeToFile`?","title":"java IO Exception: Stream Closed","body":"<p>You call <code>writer.close();</code> in <code>writeToFile</code> so the writer has been closed the second time you call <code>writeToFile</code>.</p>\n\n<p>Why don't you merge <code>FileStatus</code> into <code>writeToFile</code>?</p>\n"},{"tags":[],"owner":{"account_id":7117652,"reputation":1968,"user_id":5443319,"accept_rate":0,"display_name":"Ziaullhaq Savanur"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633676106,"creation_date":1633670933,"answer_id":69490890,"question_id":22900477,"body_markdown":"Please check whether you are writing the flush or write to file code out side of **try-with-resources** code.\r\nBecause in this case it becomes hard to find out where we have written **close()** code.\r\n\r\nIt looks as if we have not called any **close()** function, but it is present and we spend lot of time to actually find it out.","title":"java IO Exception: Stream Closed","body":"<p>Please check whether you are writing the flush or write to file code out side of <strong>try-with-resources</strong> code.\nBecause in this case it becomes hard to find out where we have written <strong>close()</strong> code.</p>\n<p>It looks as if we have not called any <strong>close()</strong> function, but it is present and we spend lot of time to actually find it out.</p>\n"},{"tags":[],"owner":{"account_id":27541838,"reputation":1,"user_id":21018449,"display_name":"user21018449"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673864135,"creation_date":1673864135,"answer_id":75132808,"question_id":22900477,"body_markdown":"Don&#39;t call the close before closing the braces and check for the open function if any exist.\r\n\r\nAnd call the close() after the try block. This may work\r\n","title":"java IO Exception: Stream Closed","body":"<p>Don't call the close before closing the braces and check for the open function if any exist.</p>\n<p>And call the close() after the try block. This may work</p>\n"}],"owner":{"account_id":1611107,"reputation":9777,"user_id":1489990,"accept_rate":46,"display_name":"ez4nick"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":291264,"favorite_count":0,"down_vote_count":0,"up_vote_count":39,"accepted_answer_id":22900521,"answer_count":5,"score":39,"last_activity_date":1673864135,"creation_date":1396821148,"question_id":22900477,"body_markdown":"This is the code I currently have:\r\n\r\n    public class FileStatus extends Status{\r\n\tFileWriter writer;\r\n\tpublic FileStatus(){\r\n\t\ttry {\r\n\t\t\twriter = new FileWriter(&quot;status.txt&quot;,true);\r\n\t\t} catch (IOException e) {\r\n\t\t\t\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic void writeToFile(){\r\n\t\tString file_text= pedStatusText + &quot;     &quot; + gatesStatus + &quot;     &quot; + DrawBridgeStatusText;\r\n\t    try {\r\n\t\t\twriter.write(file_text);\r\n\t\t\twriter.flush();\r\n\t\t\twriter.close();\r\n\t\t} catch (IOException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n    }\r\n\r\n\r\nEverything works as expected (The file is written to when the writeToFile method is called). However when the writeToFile method is called a second time I get the following error:\r\n\r\n        java.io.IOException: Stream closed\r\n    \tat sun.nio.cs.StreamEncoder.ensureOpen(StreamEncoder.java:45)\r\n    \tat sun.nio.cs.StreamEncoder.write(StreamEncoder.java:118)\r\n    \tat sun.nio.cs.StreamEncoder.write(StreamEncoder.java:135)\r\n    \tat java.io.OutputStreamWriter.write(OutputStreamWriter.java:220)\r\n    \tat java.io.Writer.write(Writer.java:157)\r\n    \tat FileStatus.writeToFile(FileStatus.java:19)\r\n    \tat MenuBar$9.actionPerformed(MenuBar.java:115)\r\n    \tat javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:2018)\r\n    \tat javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2341)\r\n    \tat javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:402)\r\n    \tat javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:259)\r\n    \tat javax.swing.AbstractButton.doClick(AbstractButton.java:376)\r\n    \tat javax.swing.plaf.basic.BasicMenuItemUI.doClick(BasicMenuItemUI.java:833)\r\n    \tat javax.swing.plaf.basic.BasicMenuItemUI$Handler.mouseReleased(BasicMenuItemUI.java:877)\r\n    \tat java.awt.AWTEventMulticaster.mouseReleased(AWTEventMulticaster.java:289)\r\n    \tat java.awt.Component.processMouseEvent(Component.java:6505)\r\n    \tat javax.swing.JComponent.processMouseEvent(JComponent.java:3321)\r\n    \tat java.awt.Component.processEvent(Component.java:6270)\r\n    \tat java.awt.Container.processEvent(Container.java:2229)\r\n    \tat java.awt.Component.dispatchEventImpl(Component.java:4861)\r\n    \tat java.awt.Container.dispatchEventImpl(Container.java:2287)\r\n    \tat java.awt.Component.dispatchEvent(Component.java:4687)\r\n    \tat java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4832)\r\n    \tat java.awt.LightweightDispatcher.processMouseEvent(Container.java:4492)\r\n    \tat java.awt.LightweightDispatcher.dispatchEvent(Container.java:4422)\r\n    \tat java.awt.Container.dispatchEventImpl(Container.java:2273)\r\n    \tat java.awt.Window.dispatchEventImpl(Window.java:2719)\r\n    \tat java.awt.Component.dispatchEvent(Component.java:4687)\r\n    \tat java.awt.EventQueue.dispatchEventImpl(EventQueue.java:703)\r\n    \tat java.awt.EventQueue.access$000(EventQueue.java:102)\r\n    \tat java.awt.EventQueue$3.run(EventQueue.java:662)\r\n    \tat java.awt.EventQueue$3.run(EventQueue.java:660)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:76)\r\n    \tat java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:87)\r\n    \tat java.awt.EventQueue$4.run(EventQueue.java:676)\r\n    \tat java.awt.EventQueue$4.run(EventQueue.java:674)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:76)\r\n    \tat java.awt.EventQueue.dispatchEvent(EventQueue.java:673)\r\n    \tat java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:244)\r\n    \tat java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:163)\r\n    \tat java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:151)\r\n    \tat java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:147)\r\n    \tat java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:139)\r\n    \tat java.awt.EventDispatchThread.run(EventDispatchThread.java:97)\r\n    java.io.IOException: Stream closed\r\n    \tat sun.nio.cs.StreamEncoder.ensureOpen(StreamEncoder.java:45)\r\n    \tat sun.nio.cs.StreamEncoder.write(StreamEncoder.java:118)\r\n    \tat sun.nio.cs.StreamEncoder.write(StreamEncoder.java:135)\r\n    \tat java.io.OutputStreamWriter.write(OutputStreamWriter.java:220)\r\n    \tat java.io.Writer.write(Writer.java:157)\r\n    \tat FileStatus.writeToFile(FileStatus.java:19)\r\n    \tat MenuBar$9.actionPerformed(MenuBar.java:115)\r\n    \tat javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:2018)\r\n    \tat javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2341)\r\n    \tat javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:402)\r\n    \tat javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:259)\r\n    \tat javax.swing.AbstractButton.doClick(AbstractButton.java:376)\r\n    \tat javax.swing.plaf.basic.BasicMenuItemUI.doClick(BasicMenuItemUI.java:833)\r\n    \tat javax.swing.plaf.basic.BasicMenuItemUI$Handler.mouseReleased(BasicMenuItemUI.java:877)\r\n    \tat java.awt.AWTEventMulticaster.mouseReleased(AWTEventMulticaster.java:289)\r\n    \tat java.awt.Component.processMouseEvent(Component.java:6505)\r\n    \tat javax.swing.JComponent.processMouseEvent(JComponent.java:3321)\r\n    \tat java.awt.Component.processEvent(Component.java:6270)\r\n    \tat java.awt.Container.processEvent(Container.java:2229)\r\n    \tat java.awt.Component.dispatchEventImpl(Component.java:4861)\r\n    \tat java.awt.Container.dispatchEventImpl(Container.java:2287)\r\n    \tat java.awt.Component.dispatchEvent(Component.java:4687)\r\n    \tat java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4832)\r\n    \tat java.awt.LightweightDispatcher.processMouseEvent(Container.java:4492)\r\n    \tat java.awt.LightweightDispatcher.dispatchEvent(Container.java:4422)\r\n    \tat java.awt.Container.dispatchEventImpl(Container.java:2273)\r\n    \tat java.awt.Window.dispatchEventImpl(Window.java:2719)\r\n    \tat java.awt.Component.dispatchEvent(Component.java:4687)\r\n    \tat java.awt.EventQueue.dispatchEventImpl(EventQueue.java:703)\r\n    \tat java.awt.EventQueue.access$000(EventQueue.java:102)\r\n    \tat java.awt.EventQueue$3.run(EventQueue.java:662)\r\n    \tat java.awt.EventQueue$3.run(EventQueue.java:660)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:76)\r\n    \tat java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:87)\r\n    \tat java.awt.EventQueue$4.run(EventQueue.java:676)\r\n    \tat java.awt.EventQueue$4.run(EventQueue.java:674)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:76)\r\n    \tat java.awt.EventQueue.dispatchEvent(EventQueue.java:673)\r\n    \tat java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:244)\r\n    \tat java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:163)\r\n    \tat java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:151)\r\n    \tat java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:147)\r\n    \tat java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:139)\r\n    \tat java.awt.EventDispatchThread.run(EventDispatchThread.java:97)\r\n    java.io.IOException: Stream closed\r\n    \tat sun.nio.cs.StreamEncoder.ensureOpen(StreamEncoder.java:45)\r\n    \tat sun.nio.cs.StreamEncoder.write(StreamEncoder.java:118)\r\n    \tat sun.nio.cs.StreamEncoder.write(StreamEncoder.java:135)\r\n    \tat java.io.OutputStreamWriter.write(OutputStreamWriter.java:220)\r\n    \tat java.io.Writer.write(Writer.java:157)\r\n    \tat FileStatus.writeToFile(FileStatus.java:19)\r\n    \tat MenuBar$9.actionPerformed(MenuBar.java:115)\r\n    \tat javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:2018)\r\n    \tat javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2341)\r\n    \tat javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:402)\r\n    \tat javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:259)\r\n    \tat javax.swing.AbstractButton.doClick(AbstractButton.java:376)\r\n    \tat javax.swing.plaf.basic.BasicMenuItemUI.doClick(BasicMenuItemUI.java:833)\r\n    \tat javax.swing.plaf.basic.BasicMenuItemUI$Handler.mouseReleased(BasicMenuItemUI.java:877)\r\n    \tat java.awt.AWTEventMulticaster.mouseReleased(AWTEventMulticaster.java:289)\r\n    \tat java.awt.Component.processMouseEvent(Component.java:6505)\r\n    \tat javax.swing.JComponent.processMouseEvent(JComponent.java:3321)\r\n    \tat java.awt.Component.processEvent(Component.java:6270)\r\n    \tat java.awt.Container.processEvent(Container.java:2229)\r\n\r\n\r\nthe file is still written to the second time as expected but it throws this error on the second and future calls to writeToFile(). I am wondering what is causing this error to happen. ","title":"java IO Exception: Stream Closed","body":"<p>This is the code I currently have:</p>\n\n<pre><code>public class FileStatus extends Status{\nFileWriter writer;\npublic FileStatus(){\n    try {\n        writer = new FileWriter(\"status.txt\",true);\n    } catch (IOException e) {\n\n        e.printStackTrace();\n    }\n\n}\n\npublic void writeToFile(){\n    String file_text= pedStatusText + \"     \" + gatesStatus + \"     \" + DrawBridgeStatusText;\n    try {\n        writer.write(file_text);\n        writer.flush();\n        writer.close();\n    } catch (IOException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n}\n}\n</code></pre>\n\n<p>Everything works as expected (The file is written to when the writeToFile method is called). However when the writeToFile method is called a second time I get the following error:</p>\n\n<pre><code>    java.io.IOException: Stream closed\n    at sun.nio.cs.StreamEncoder.ensureOpen(StreamEncoder.java:45)\n    at sun.nio.cs.StreamEncoder.write(StreamEncoder.java:118)\n    at sun.nio.cs.StreamEncoder.write(StreamEncoder.java:135)\n    at java.io.OutputStreamWriter.write(OutputStreamWriter.java:220)\n    at java.io.Writer.write(Writer.java:157)\n    at FileStatus.writeToFile(FileStatus.java:19)\n    at MenuBar$9.actionPerformed(MenuBar.java:115)\n    at javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:2018)\n    at javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2341)\n    at javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:402)\n    at javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:259)\n    at javax.swing.AbstractButton.doClick(AbstractButton.java:376)\n    at javax.swing.plaf.basic.BasicMenuItemUI.doClick(BasicMenuItemUI.java:833)\n    at javax.swing.plaf.basic.BasicMenuItemUI$Handler.mouseReleased(BasicMenuItemUI.java:877)\n    at java.awt.AWTEventMulticaster.mouseReleased(AWTEventMulticaster.java:289)\n    at java.awt.Component.processMouseEvent(Component.java:6505)\n    at javax.swing.JComponent.processMouseEvent(JComponent.java:3321)\n    at java.awt.Component.processEvent(Component.java:6270)\n    at java.awt.Container.processEvent(Container.java:2229)\n    at java.awt.Component.dispatchEventImpl(Component.java:4861)\n    at java.awt.Container.dispatchEventImpl(Container.java:2287)\n    at java.awt.Component.dispatchEvent(Component.java:4687)\n    at java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4832)\n    at java.awt.LightweightDispatcher.processMouseEvent(Container.java:4492)\n    at java.awt.LightweightDispatcher.dispatchEvent(Container.java:4422)\n    at java.awt.Container.dispatchEventImpl(Container.java:2273)\n    at java.awt.Window.dispatchEventImpl(Window.java:2719)\n    at java.awt.Component.dispatchEvent(Component.java:4687)\n    at java.awt.EventQueue.dispatchEventImpl(EventQueue.java:703)\n    at java.awt.EventQueue.access$000(EventQueue.java:102)\n    at java.awt.EventQueue$3.run(EventQueue.java:662)\n    at java.awt.EventQueue$3.run(EventQueue.java:660)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:76)\n    at java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:87)\n    at java.awt.EventQueue$4.run(EventQueue.java:676)\n    at java.awt.EventQueue$4.run(EventQueue.java:674)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:76)\n    at java.awt.EventQueue.dispatchEvent(EventQueue.java:673)\n    at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:244)\n    at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:163)\n    at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:151)\n    at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:147)\n    at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:139)\n    at java.awt.EventDispatchThread.run(EventDispatchThread.java:97)\njava.io.IOException: Stream closed\n    at sun.nio.cs.StreamEncoder.ensureOpen(StreamEncoder.java:45)\n    at sun.nio.cs.StreamEncoder.write(StreamEncoder.java:118)\n    at sun.nio.cs.StreamEncoder.write(StreamEncoder.java:135)\n    at java.io.OutputStreamWriter.write(OutputStreamWriter.java:220)\n    at java.io.Writer.write(Writer.java:157)\n    at FileStatus.writeToFile(FileStatus.java:19)\n    at MenuBar$9.actionPerformed(MenuBar.java:115)\n    at javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:2018)\n    at javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2341)\n    at javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:402)\n    at javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:259)\n    at javax.swing.AbstractButton.doClick(AbstractButton.java:376)\n    at javax.swing.plaf.basic.BasicMenuItemUI.doClick(BasicMenuItemUI.java:833)\n    at javax.swing.plaf.basic.BasicMenuItemUI$Handler.mouseReleased(BasicMenuItemUI.java:877)\n    at java.awt.AWTEventMulticaster.mouseReleased(AWTEventMulticaster.java:289)\n    at java.awt.Component.processMouseEvent(Component.java:6505)\n    at javax.swing.JComponent.processMouseEvent(JComponent.java:3321)\n    at java.awt.Component.processEvent(Component.java:6270)\n    at java.awt.Container.processEvent(Container.java:2229)\n    at java.awt.Component.dispatchEventImpl(Component.java:4861)\n    at java.awt.Container.dispatchEventImpl(Container.java:2287)\n    at java.awt.Component.dispatchEvent(Component.java:4687)\n    at java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4832)\n    at java.awt.LightweightDispatcher.processMouseEvent(Container.java:4492)\n    at java.awt.LightweightDispatcher.dispatchEvent(Container.java:4422)\n    at java.awt.Container.dispatchEventImpl(Container.java:2273)\n    at java.awt.Window.dispatchEventImpl(Window.java:2719)\n    at java.awt.Component.dispatchEvent(Component.java:4687)\n    at java.awt.EventQueue.dispatchEventImpl(EventQueue.java:703)\n    at java.awt.EventQueue.access$000(EventQueue.java:102)\n    at java.awt.EventQueue$3.run(EventQueue.java:662)\n    at java.awt.EventQueue$3.run(EventQueue.java:660)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:76)\n    at java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:87)\n    at java.awt.EventQueue$4.run(EventQueue.java:676)\n    at java.awt.EventQueue$4.run(EventQueue.java:674)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:76)\n    at java.awt.EventQueue.dispatchEvent(EventQueue.java:673)\n    at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:244)\n    at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:163)\n    at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:151)\n    at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:147)\n    at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:139)\n    at java.awt.EventDispatchThread.run(EventDispatchThread.java:97)\njava.io.IOException: Stream closed\n    at sun.nio.cs.StreamEncoder.ensureOpen(StreamEncoder.java:45)\n    at sun.nio.cs.StreamEncoder.write(StreamEncoder.java:118)\n    at sun.nio.cs.StreamEncoder.write(StreamEncoder.java:135)\n    at java.io.OutputStreamWriter.write(OutputStreamWriter.java:220)\n    at java.io.Writer.write(Writer.java:157)\n    at FileStatus.writeToFile(FileStatus.java:19)\n    at MenuBar$9.actionPerformed(MenuBar.java:115)\n    at javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:2018)\n    at javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2341)\n    at javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:402)\n    at javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:259)\n    at javax.swing.AbstractButton.doClick(AbstractButton.java:376)\n    at javax.swing.plaf.basic.BasicMenuItemUI.doClick(BasicMenuItemUI.java:833)\n    at javax.swing.plaf.basic.BasicMenuItemUI$Handler.mouseReleased(BasicMenuItemUI.java:877)\n    at java.awt.AWTEventMulticaster.mouseReleased(AWTEventMulticaster.java:289)\n    at java.awt.Component.processMouseEvent(Component.java:6505)\n    at javax.swing.JComponent.processMouseEvent(JComponent.java:3321)\n    at java.awt.Component.processEvent(Component.java:6270)\n    at java.awt.Container.processEvent(Container.java:2229)\n</code></pre>\n\n<p>the file is still written to the second time as expected but it throws this error on the second and future calls to writeToFile(). I am wondering what is causing this error to happen. </p>\n"},{"tags":["java","android","android-contentprovider"],"answers":[{"tags":[],"owner":{"account_id":5282904,"reputation":18287,"user_id":4217682,"accept_rate":50,"display_name":"snachmsm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673860499,"creation_date":1673860499,"answer_id":75132176,"question_id":75131886,"body_markdown":"`authorities` should point straight on file, so\r\n\r\n    android:authorities=&quot;com.example.ifixer.data.IfixerContentProvider&quot;\r\n\r\nwithout `package` prefix","title":"Failed to find provider info. What am I doing wrong?","body":"<p><code>authorities</code> should point straight on file, so</p>\n<pre><code>android:authorities=&quot;com.example.ifixer.data.IfixerContentProvider&quot;\n</code></pre>\n<p>without <code>package</code> prefix</p>\n"}],"owner":{"account_id":14775813,"reputation":3,"user_id":21017473,"display_name":"Lutin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":422,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75132176,"answer_count":1,"score":0,"last_activity_date":1673863808,"creation_date":1673858686,"question_id":75131886,"body_markdown":"Please, help me find a mistake! I created a Content Provider and try to read data from my database. But I get\r\n\r\n&gt; Failed to find provider info for com.example.ifixer.data.IfixerContentProvider.\r\n\r\n\r\n\r\n1)I described the provider in Android Manifest\r\n**Android Manifest.xml:**\r\n```xml\r\n&lt;provider\r\n    android:authorities=&quot;package com.example.ifixer.data.IfixerContentProvider&quot;\r\n    android:name=&quot;.data.IfixerContentProvider&quot;\r\n    android:enabled=&quot;true&quot;\r\n    android:exported=&quot;false&quot;\r\n    android:grantUriPermissions=&quot;true&quot;&gt;\r\n&lt;/provider&gt;\r\n```\r\n\r\n2)I created constants in the contract\r\n**IfixerContract.java:**\r\n\r\n```java\r\npackage com.example.ifixer.data;\r\n\r\nimport android.net.Uri;\r\nimport android.provider.BaseColumns;\r\n\r\nimport java.net.URI;\r\n\r\nfinal public class IfixerContract {\r\n\r\n    public static final int DATABASE_VERSION = 1;\r\n    public static final String DATABASE_NAME = &quot;ifixer&quot;;\r\n\r\n    public static final String SCHEME = &quot;content://&quot;;\r\n    public static final String AUTHORITY = &quot;com.example.ifixer.data.IfixerContentProvider&quot;;\r\n    public static final String PATH_TASKS = &quot;tasks&quot;;\r\n\r\n    public static final Uri BASE_CONTENT_URI = Uri.parse(SCHEME+AUTHORITY);\r\n\r\n    private IfixerContract(){\r\n    }\r\n\r\n    public static final class TaskTable implements BaseColumns{\r\n        public static final String TABLE_NAME = &quot;tasks&quot;;\r\n\r\n        public static final String KEY_ID = &quot;id&quot;;\r\n        public static final String TASK_NAME = &quot;task_name&quot;;\r\n        public static final String BEEP_RULE = &quot;beep_rule&quot;;\r\n    }\r\n}\r\n```\r\n\r\n3) My content Provider\r\n\r\n**IfixerContentProvider.java:**\r\n```java\r\npublic class IfixerContentProvider extends ContentProvider {\r\n    DBHandler dbOpenHelper;\r\n\r\n    private static final UriMatcher uriMatcher = new UriMatcher(UriMatcher.NO_MATCH);\r\n    private static final int TASKS = 111;\r\n    private static final int TASK_ID = 221;\r\n\r\n    static{\r\n        uriMatcher.addURI(IfixerContract.AUTHORITY, IfixerContract.PATH_TASKS, TASKS);\r\n        uriMatcher.addURI(IfixerContract.AUTHORITY, IfixerContract.PATH_TASKS+&quot;/#&quot;, TASK_ID);\r\n    }\r\n\r\n    @Override\r\n    public boolean onCreate() {\r\n        dbOpenHelper = new DBHandler(getContext());\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public Cursor query(Uri uri, String[] projection, String selection, String[] selectionArgs, String sortOrder){\r\n        SQLiteDatabase db = dbOpenHelper.getReadableDatabase();\r\n        Cursor cursor;\r\n\r\n        int match = uriMatcher.match(uri);\r\n        switch(match){\r\n            case TASKS:{\r\n                Log.d(&quot;db_task&quot;, &quot;I&#39;m in TASKS&quot;);\r\n                cursor = db.query(TaskTable.TASK_NAME,\r\n                        projection, selection, selectionArgs,\r\n                        null, null, sortOrder);\r\n                break;\r\n            }\r\n            case TASK_ID:{\r\n                Log.d(&quot;db_task&quot;, &quot;I&#39;m in TASK_ID&quot;);\r\n                selection = TaskTable.KEY_ID+&quot;=?&quot;;\r\n                selectionArgs = new String[]{String.valueOf(ContentUris.parseId(uri))};\r\n                cursor = db.query(TaskTable.TABLE_NAME,\r\n                        projection, selection, selectionArgs,\r\n                        null, null, sortOrder);\r\n                break;\r\n            }\r\n            default:{\r\n                Log.d(&quot;db_task&quot;, &quot;Incorrect URI&quot;);\r\n                throw new IllegalArgumentException(&quot;Can&#39;t query incorrect URI &quot;+uri);\r\n            }\r\n        }\r\n        return cursor;\r\n    }\r\n\r\n    @Override\r\n    public Uri insert(Uri uri, ContentValues contentValues) {\r\n        SQLiteDatabase db = dbOpenHelper.getWritableDatabase();\r\n        Cursor cursor;\r\n\r\n        int match = uriMatcher.match(uri);\r\n        switch(match){\r\n            case TASKS:{\r\n                    long id = db.insert(TaskTable.TABLE_NAME,\r\n                            null,\r\n                            contentValues);\r\n                    if(id == -1) {\r\n                        Log.d(&quot;db_uri&quot;, &quot;Insertion failed for &quot; + uri);\r\n                        return null;\r\n                    }\r\n                    return ContentUris.withAppendedId(uri, id);\r\n            }\r\n            default:{\r\n                Log.d(&quot;db_uri&quot;, &quot;Insertion failed for&quot;);\r\n                return null;\r\n            }\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public int delete(Uri uri, String s, String[] strings) {\r\n        return 0;\r\n    }\r\n\r\n    @Override\r\n    public int update(Uri uri, ContentValues contentValues, String s, String[] strings) {\r\n        return 0;\r\n    }\r\n\r\n    @Override\r\n    public String getType(Uri uri) {\r\n        return null;\r\n    }\r\n}\r\n```\r\n\r\n4. And a fragment of a Main Activity, where I trying to read a data:\r\n**MainActivity.java:**\r\n    \r\n```java\r\n@Override\r\nprotected void onStart() {\r\n    super.onStart();\r\n    displayTasks();\r\n}\r\n\r\nprivate void displayTasks(){\r\n    String[] projection = {\r\n            TaskTable.KEY_ID,\r\n            TaskTable.TASK_NAME,\r\n            TaskTable.BEEP_RULE\r\n    };\r\n\r\n    Cursor cursor = getContentResolver().query(\r\n            Uri.parse(&quot;content://com.example.ifixer.data.IfixerContentProvider/tasks&quot;), //IfixerContract.TASK_CONTENT_URI,\r\n            projection,\r\n            null,\r\n            null,\r\n            null\r\n    );\r\n    if(cursor == null){\r\n        Log.d(&quot;db_task&quot;, &quot;Get nothing&quot;);\r\n    }\r\n    dataTextView.setText(&quot;  \\n\\n&quot;);\r\n    dataTextView.append(TaskTable.KEY_ID\r\n            +&quot; &quot;+TaskTable.TASK_NAME\r\n            +&quot; &quot;+TaskTable.BEEP_RULE);\r\n\r\n    int idIndex = cursor.getColumnIndex(TaskTable.KEY_ID);\r\n    int idTaskName = cursor.getColumnIndex(TaskTable.TASK_NAME);\r\n    int idBeepRule = cursor.getColumnIndex(TaskTable.BEEP_RULE);\r\n\r\n    while(cursor.moveToNext()){\r\n        int currentId = cursor.getInt(idIndex);\r\n        String currentTaskName = cursor.getString(idTaskName);\r\n        String currentRule = cursor.getString(idBeepRule);\r\n\r\n        dataTextView.append(&quot;\\n&quot;+String.valueOf(currentId)+&quot; &quot;+currentTaskName+&quot; &quot;+currentRule);\r\n    }\r\n    cursor.close();\r\n}\r\n```\r\nPlease, help me understand, what am I doing wrong?\r\n","title":"Failed to find provider info. What am I doing wrong?","body":"<p>Please, help me find a mistake! I created a Content Provider and try to read data from my database. But I get</p>\n<blockquote>\n<p>Failed to find provider info for com.example.ifixer.data.IfixerContentProvider.</p>\n</blockquote>\n<p>1)I described the provider in Android Manifest\n<strong>Android Manifest.xml:</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;provider\n    android:authorities=&quot;package com.example.ifixer.data.IfixerContentProvider&quot;\n    android:name=&quot;.data.IfixerContentProvider&quot;\n    android:enabled=&quot;true&quot;\n    android:exported=&quot;false&quot;\n    android:grantUriPermissions=&quot;true&quot;&gt;\n&lt;/provider&gt;\n</code></pre>\n<p>2)I created constants in the contract\n<strong>IfixerContract.java:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.ifixer.data;\n\nimport android.net.Uri;\nimport android.provider.BaseColumns;\n\nimport java.net.URI;\n\nfinal public class IfixerContract {\n\n    public static final int DATABASE_VERSION = 1;\n    public static final String DATABASE_NAME = &quot;ifixer&quot;;\n\n    public static final String SCHEME = &quot;content://&quot;;\n    public static final String AUTHORITY = &quot;com.example.ifixer.data.IfixerContentProvider&quot;;\n    public static final String PATH_TASKS = &quot;tasks&quot;;\n\n    public static final Uri BASE_CONTENT_URI = Uri.parse(SCHEME+AUTHORITY);\n\n    private IfixerContract(){\n    }\n\n    public static final class TaskTable implements BaseColumns{\n        public static final String TABLE_NAME = &quot;tasks&quot;;\n\n        public static final String KEY_ID = &quot;id&quot;;\n        public static final String TASK_NAME = &quot;task_name&quot;;\n        public static final String BEEP_RULE = &quot;beep_rule&quot;;\n    }\n}\n</code></pre>\n<ol start=\"3\">\n<li>My content Provider</li>\n</ol>\n<p><strong>IfixerContentProvider.java:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class IfixerContentProvider extends ContentProvider {\n    DBHandler dbOpenHelper;\n\n    private static final UriMatcher uriMatcher = new UriMatcher(UriMatcher.NO_MATCH);\n    private static final int TASKS = 111;\n    private static final int TASK_ID = 221;\n\n    static{\n        uriMatcher.addURI(IfixerContract.AUTHORITY, IfixerContract.PATH_TASKS, TASKS);\n        uriMatcher.addURI(IfixerContract.AUTHORITY, IfixerContract.PATH_TASKS+&quot;/#&quot;, TASK_ID);\n    }\n\n    @Override\n    public boolean onCreate() {\n        dbOpenHelper = new DBHandler(getContext());\n        return true;\n    }\n\n    @Override\n    public Cursor query(Uri uri, String[] projection, String selection, String[] selectionArgs, String sortOrder){\n        SQLiteDatabase db = dbOpenHelper.getReadableDatabase();\n        Cursor cursor;\n\n        int match = uriMatcher.match(uri);\n        switch(match){\n            case TASKS:{\n                Log.d(&quot;db_task&quot;, &quot;I'm in TASKS&quot;);\n                cursor = db.query(TaskTable.TASK_NAME,\n                        projection, selection, selectionArgs,\n                        null, null, sortOrder);\n                break;\n            }\n            case TASK_ID:{\n                Log.d(&quot;db_task&quot;, &quot;I'm in TASK_ID&quot;);\n                selection = TaskTable.KEY_ID+&quot;=?&quot;;\n                selectionArgs = new String[]{String.valueOf(ContentUris.parseId(uri))};\n                cursor = db.query(TaskTable.TABLE_NAME,\n                        projection, selection, selectionArgs,\n                        null, null, sortOrder);\n                break;\n            }\n            default:{\n                Log.d(&quot;db_task&quot;, &quot;Incorrect URI&quot;);\n                throw new IllegalArgumentException(&quot;Can't query incorrect URI &quot;+uri);\n            }\n        }\n        return cursor;\n    }\n\n    @Override\n    public Uri insert(Uri uri, ContentValues contentValues) {\n        SQLiteDatabase db = dbOpenHelper.getWritableDatabase();\n        Cursor cursor;\n\n        int match = uriMatcher.match(uri);\n        switch(match){\n            case TASKS:{\n                    long id = db.insert(TaskTable.TABLE_NAME,\n                            null,\n                            contentValues);\n                    if(id == -1) {\n                        Log.d(&quot;db_uri&quot;, &quot;Insertion failed for &quot; + uri);\n                        return null;\n                    }\n                    return ContentUris.withAppendedId(uri, id);\n            }\n            default:{\n                Log.d(&quot;db_uri&quot;, &quot;Insertion failed for&quot;);\n                return null;\n            }\n        }\n    }\n\n    @Override\n    public int delete(Uri uri, String s, String[] strings) {\n        return 0;\n    }\n\n    @Override\n    public int update(Uri uri, ContentValues contentValues, String s, String[] strings) {\n        return 0;\n    }\n\n    @Override\n    public String getType(Uri uri) {\n        return null;\n    }\n}\n</code></pre>\n<ol start=\"4\">\n<li>And a fragment of a Main Activity, where I trying to read a data:\n<strong>MainActivity.java:</strong></li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\nprotected void onStart() {\n    super.onStart();\n    displayTasks();\n}\n\nprivate void displayTasks(){\n    String[] projection = {\n            TaskTable.KEY_ID,\n            TaskTable.TASK_NAME,\n            TaskTable.BEEP_RULE\n    };\n\n    Cursor cursor = getContentResolver().query(\n            Uri.parse(&quot;content://com.example.ifixer.data.IfixerContentProvider/tasks&quot;), //IfixerContract.TASK_CONTENT_URI,\n            projection,\n            null,\n            null,\n            null\n    );\n    if(cursor == null){\n        Log.d(&quot;db_task&quot;, &quot;Get nothing&quot;);\n    }\n    dataTextView.setText(&quot;  \\n\\n&quot;);\n    dataTextView.append(TaskTable.KEY_ID\n            +&quot; &quot;+TaskTable.TASK_NAME\n            +&quot; &quot;+TaskTable.BEEP_RULE);\n\n    int idIndex = cursor.getColumnIndex(TaskTable.KEY_ID);\n    int idTaskName = cursor.getColumnIndex(TaskTable.TASK_NAME);\n    int idBeepRule = cursor.getColumnIndex(TaskTable.BEEP_RULE);\n\n    while(cursor.moveToNext()){\n        int currentId = cursor.getInt(idIndex);\n        String currentTaskName = cursor.getString(idTaskName);\n        String currentRule = cursor.getString(idBeepRule);\n\n        dataTextView.append(&quot;\\n&quot;+String.valueOf(currentId)+&quot; &quot;+currentTaskName+&quot; &quot;+currentRule);\n    }\n    cursor.close();\n}\n</code></pre>\n<p>Please, help me understand, what am I doing wrong?</p>\n"},{"tags":["java","email","sendgrid"],"comments":[{"owner":{"account_id":13553629,"reputation":289,"user_id":9777793,"display_name":"Divyam Goel"},"score":0,"creation_date":1673856974,"post_id":75131616,"comment_id":132582516,"body_markdown":"I have raised a pull request as well to handle this issue. https://github.com/sendgrid/sendgrid-java/pull/737","body":"I have raised a pull request as well to handle this issue. <a href=\"https://github.com/sendgrid/sendgrid-java/pull/737\" rel=\"nofollow noreferrer\">github.com/sendgrid/sendgrid-java/pull/737</a>"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1673858655,"post_id":75131616,"comment_id":132582951,"body_markdown":"I don&#39;t believe this to be a useful question for SO, as it does not include an actual problem which can be solved by the community. As you already have made a pull request, you need to wait for it to be approved. Until then you can always build your own version which already includes your pull request","body":"I don&#39;t believe this to be a useful question for SO, as it does not include an actual problem which can be solved by the community. As you already have made a pull request, you need to wait for it to be approved. Until then you can always build your own version which already includes your pull request"},{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1673863691,"post_id":75131616,"comment_id":132584517,"body_markdown":"Im voting to close this question because this seems to be a support request, which should be addressed to Sendgrid, not to the Stack Overflow community.","body":"Im voting to close this question because this seems to be a support request, which should be addressed to Sendgrid, not to the Stack Overflow community."},{"owner":{"account_id":13553629,"reputation":289,"user_id":9777793,"display_name":"Divyam Goel"},"score":0,"creation_date":1673950897,"post_id":75131616,"comment_id":132605996,"body_markdown":"@MarkRotteveel I reached out to Sendgrid&#39;s support team first. They only asked me to post the request on SO. As per them, best course of action to have anything added in library is to reach out for assistance on Stack Overflow community. Please suggest if this question still needs to be closed. I have anyways created my own version of Mail.java and using that in my application.","body":"@MarkRotteveel I reached out to Sendgrid&#39;s support team first. They only asked me to post the request on SO. As per them, best course of action to have anything added in library is to reach out for assistance on Stack Overflow community. Please suggest if this question still needs to be closed. I have anyways created my own version of Mail.java and using that in my application."},{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1673957260,"post_id":75131616,"comment_id":132607826,"body_markdown":"Well, then Sendgrid is wrong, because Stack Overflow is not intended for that. And if **you** post on Stack Overflow, you are expected to follow the expectation layed out in the help center and ask a question that can be answered by the **community**. What you&#39;re asking right now can only be answered by Sendgrid, and would basically be soliciting opinions on what we think Sendgrid will do and when.","body":"Well, then Sendgrid is wrong, because Stack Overflow is not intended for that. And if <b>you</b> post on Stack Overflow, you are expected to follow the expectation layed out in the help center and ask a question that can be answered by the <b>community</b>. What you&#39;re asking right now can only be answered by Sendgrid, and would basically be soliciting opinions on what we think Sendgrid will do and when."}],"owner":{"account_id":13553629,"reputation":289,"user_id":9777793,"display_name":"Divyam Goel"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":151,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673863659,"creation_date":1673856775,"question_id":75131616,"body_markdown":"I am using sendgrid-java library which internally uses V3 API to send emails. In Sendgrid&#39;s API documentation([link](https://docs.sendgrid.com/api-reference/mail-send/mail-send#multiple-reply-to-emails)), it is mentioned that support for `reply_to_header` has been added. But that has not been handled in the Java library yet. When can we expect that support to get added in sendgrid-java library?\r\n\r\nI tried using V3 API to check the support for multiple reply-to emails and it was working fine.\r\n[![enter image description here](https://i.stack.imgur.com/4DHW0.png)](https://i.stack.imgur.com/4DHW0.png)\r\n\r\n[![enter image description here](https://i.stack.imgur.com/cZS8g.png)](https://i.stack.imgur.com/cZS8g.png)\r\n\r\nBut in the latest version of [Mail.html](https://javadoc.io/static/com.sendgrid/sendgrid-java/4.9.3/com/sendgrid/helpers/mail/Mail.html) of java library, `replyToList` field is not there. \r\n\r\n\r\n","title":"Support of multiple reply-to in Sendgrid Java library","body":"<p>I am using sendgrid-java library which internally uses V3 API to send emails. In Sendgrid's API documentation(<a href=\"https://docs.sendgrid.com/api-reference/mail-send/mail-send#multiple-reply-to-emails\" rel=\"nofollow noreferrer\">link</a>), it is mentioned that support for <code>reply_to_header</code> has been added. But that has not been handled in the Java library yet. When can we expect that support to get added in sendgrid-java library?</p>\n<p>I tried using V3 API to check the support for multiple reply-to emails and it was working fine.\n<a href=\"https://i.stack.imgur.com/4DHW0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4DHW0.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/cZS8g.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cZS8g.png\" alt=\"enter image description here\" /></a></p>\n<p>But in the latest version of <a href=\"https://javadoc.io/static/com.sendgrid/sendgrid-java/4.9.3/com/sendgrid/helpers/mail/Mail.html\" rel=\"nofollow noreferrer\">Mail.html</a> of java library, <code>replyToList</code> field is not there.</p>\n"},{"tags":["java","android","sql-server","sql-server-2000"],"comments":[{"owner":{"account_id":2312068,"reputation":90341,"user_id":2029983,"display_name":"Thom A"},"score":0,"creation_date":1673863736,"post_id":75132678,"comment_id":132584532,"body_markdown":"Are you *really* using SQL Server 2000? That completely ran out of support around a **decade** ago. Android didn&#39;t even exist when that version was released.","body":"Are you <i>really</i> using SQL Server 2000? That completely ran out of support around a <b>decade</b> ago. Android didn&#39;t even exist when that version was released."},{"owner":{"account_id":17972905,"reputation":5290,"user_id":13061224,"display_name":"siggemannen"},"score":0,"creation_date":1676113169,"post_id":75132678,"comment_id":133074966,"body_markdown":"I dunno android, but you shouldn&#39;t run SQL queries and other potentially slow running tasks in the UI thread","body":"I dunno android, but you shouldn&#39;t run SQL queries and other potentially slow running tasks in the UI thread"}],"owner":{"account_id":7272707,"reputation":1,"user_id":5545136,"display_name":"Suresh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673863567,"creation_date":1673863567,"question_id":75132678,"body_markdown":"I&#39;m now running my android app which is query based lot of sql queries are return for report perpose - works well so far, crashes are fine, but I&#39;m getting quite a lot of ANR errors - mostly the &quot;Input dispatching timed out. Runner Activity (server) is not responding.&quot; ones. mostly on android 12 and 13 version\r\n\r\nThis is the latest one - &quot;Input dispatching timed out (1f9d15 com.brusgames.kingofcrusaderstrongholds/com.brusgames.kingofcrusaderstrongholds.RunnerActivity (server) is not responding. Waited 5002ms for FocusEvent(hasFocus=false))&quot; - others have different &quot;Waited...&quot; notes such as &quot;Waited 10000ms for MotionEvent&quot;, so it&#39;s not always the same one.\r\n\r\nMy guess is that there is lot of sql query executing too much happening at the same time, or too much stuff queued - is there a way how to extract more specifics from the crash report? I haven&#39;t found any  I&#39;m struggling to find out from the logs what actually went wrong, or at least which component caused the crash...\r\n","title":"ANR rate too high - &quot;Input dispatching timed out&quot; errors?","body":"<p>I'm now running my android app which is query based lot of sql queries are return for report perpose - works well so far, crashes are fine, but I'm getting quite a lot of ANR errors - mostly the &quot;Input dispatching timed out. Runner Activity (server) is not responding.&quot; ones. mostly on android 12 and 13 version</p>\n<p>This is the latest one - &quot;Input dispatching timed out (1f9d15 com.brusgames.kingofcrusaderstrongholds/com.brusgames.kingofcrusaderstrongholds.RunnerActivity (server) is not responding. Waited 5002ms for FocusEvent(hasFocus=false))&quot; - others have different &quot;Waited...&quot; notes such as &quot;Waited 10000ms for MotionEvent&quot;, so it's not always the same one.</p>\n<p>My guess is that there is lot of sql query executing too much happening at the same time, or too much stuff queued - is there a way how to extract more specifics from the crash report? I haven't found any  I'm struggling to find out from the logs what actually went wrong, or at least which component caused the crash...</p>\n"},{"tags":["java","java-17","openjdk-17"],"answers":[{"tags":[],"owner":{"account_id":13790980,"reputation":11,"user_id":9953473,"display_name":"Berdie"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673862558,"creation_date":1673862558,"answer_id":75132483,"question_id":73288169,"body_markdown":"Java 17 is stricter with reflections/introspection.\r\n\r\nAs a quick-fix you can add `--add-opens java.xml.crypto/org.jcp.xml.dsig.internal.dom=ALL-UNNAMED` as vm options when running the application. But you should upgrade the package to a version which is java 17 compatible if possible.","title":"cannot access class org.jcp.xml.dsig.internal.dom.XMLDSigRI (in module java.xml.crypto)","body":"<p>Java 17 is stricter with reflections/introspection.</p>\n<p>As a quick-fix you can add <code>--add-opens java.xml.crypto/org.jcp.xml.dsig.internal.dom=ALL-UNNAMED</code> as vm options when running the application. But you should upgrade the package to a version which is java 17 compatible if possible.</p>\n"}],"owner":{"account_id":1261035,"reputation":33,"user_id":1219316,"display_name":"Gaurav"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1420,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673862558,"creation_date":1660030962,"question_id":73288169,"body_markdown":"we are using  XMLSignatureFactory  to get instance like below. which was working fine in JDK 12 but now when upgrading to JDK17 giving below error in runtime. Any one please can provide input.\r\n\r\n    String providerName = System.getProperty(&quot;jsr105Provider&quot;, &quot;org.jcp.xml.dsig.internal.dom.XMLDSigRI&quot;);\r\n    \t\ttry {\r\n    \t\t\treturn XMLSignatureFactory.getInstance(&quot;DOM&quot;, (Provider) Class.forName(providerName).newInstance());\r\n\r\n}.......\r\n\t\t\r\n\r\n\r\n    Caused by: java.lang.IllegalAccessException: class com.test.OutboundMessageHandlerImpl cannot access class org.jcp.xml.dsig.internal.dom.XMLDSigRI (in module java.xml.crypto) because module java.xml.crypto does not export org.jcp.xml.dsig.internal.dom to unnamed module @6580cfdd","title":"cannot access class org.jcp.xml.dsig.internal.dom.XMLDSigRI (in module java.xml.crypto)","body":"<p>we are using  XMLSignatureFactory  to get instance like below. which was working fine in JDK 12 but now when upgrading to JDK17 giving below error in runtime. Any one please can provide input.</p>\n<pre><code>String providerName = System.getProperty(&quot;jsr105Provider&quot;, &quot;org.jcp.xml.dsig.internal.dom.XMLDSigRI&quot;);\n        try {\n            return XMLSignatureFactory.getInstance(&quot;DOM&quot;, (Provider) Class.forName(providerName).newInstance());\n</code></pre>\n<p>}.......</p>\n<pre><code>Caused by: java.lang.IllegalAccessException: class com.test.OutboundMessageHandlerImpl cannot access class org.jcp.xml.dsig.internal.dom.XMLDSigRI (in module java.xml.crypto) because module java.xml.crypto does not export org.jcp.xml.dsig.internal.dom to unnamed module @6580cfdd\n</code></pre>\n"},{"tags":["java","apache-kafka","apache-flink"],"comments":[{"owner":{"account_id":82425,"reputation":8270,"user_id":231762,"display_name":"kkrugler"},"score":0,"creation_date":1673719072,"post_id":75117176,"comment_id":132562703,"body_markdown":"I don&#39;t know what you mean by `the time is the same using parallelism or not`. Also your code doesn&#39;t show the final &quot;Finished sessions sink&quot;, which I see in the job graph image above. And I&#39;m not sure of your question - is it &quot;how to make it faster&quot; (pretty general, hard to answer) or something else.","body":"I don&#39;t know what you mean by <code>the time is the same using parallelism or not</code>. Also your code doesn&#39;t show the final &quot;Finished sessions sink&quot;, which I see in the job graph image above. And I&#39;m not sure of your question - is it &quot;how to make it faster&quot; (pretty general, hard to answer) or something else."},{"owner":{"account_id":6931602,"reputation":49,"user_id":5320934,"display_name":"sergiopf"},"score":0,"creation_date":1673774678,"post_id":75117176,"comment_id":132569525,"body_markdown":"I have removed in the code related to the  &quot;Finished sessions sink&quot;, in reallity is not relevant (now I don&#39;t have the dashboard but I will update the image, the last figure can be removed). The process that I want to optimize is the piece of code that process the SessionKeyedProcessFunction. I imagine that using parallelism, the processing time for the same elements should be lower.","body":"I have removed in the code related to the  &quot;Finished sessions sink&quot;, in reallity is not relevant (now I don&#39;t have the dashboard but I will update the image, the last figure can be removed). The process that I want to optimize is the piece of code that process the SessionKeyedProcessFunction. I imagine that using parallelism, the processing time for the same elements should be lower."},{"owner":{"account_id":6931602,"reputation":49,"user_id":5320934,"display_name":"sergiopf"},"score":0,"creation_date":1673858538,"post_id":75117176,"comment_id":132582919,"body_markdown":"SessionKeyedProcessFunction extends from KeyedBroadcastProcessFunction","body":"SessionKeyedProcessFunction extends from KeyedBroadcastProcessFunction"}],"answers":[{"tags":[],"owner":{"account_id":12191873,"reputation":3799,"user_id":8899044,"display_name":"Dominik Wosiski"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673787663,"creation_date":1673787663,"answer_id":75125242,"question_id":75117176,"body_markdown":"Generally, this is a little bit trickier than just increasing parallelism and expecting a significant speedup. Several things to check that may be causing less than expected performance increase with parallelism:\r\n\r\n 1. How are messages partitioned on Kafka? You have 5 partitions, but how many messages are actually in those partitions? Maybe one partition is super hot and causes all the work to be done by one operator instance.\r\n 2. How is `sessionId` distributed? Perhaps there is a skew there, which causes one operator instance to do most of the work.\r\n 3. How do You measure these 3 minutes? What part of those 3 minutes is actually work being done and not initialization, waiting and cleanup? Maybe the sample You have for tests is simply to small to actually show speedup, because most of the time is related to non-parallelizable work.","title":"Flink and Kafka parallelism optimization","body":"<p>Generally, this is a little bit trickier than just increasing parallelism and expecting a significant speedup. Several things to check that may be causing less than expected performance increase with parallelism:</p>\n<ol>\n<li>How are messages partitioned on Kafka? You have 5 partitions, but how many messages are actually in those partitions? Maybe one partition is super hot and causes all the work to be done by one operator instance.</li>\n<li>How is <code>sessionId</code> distributed? Perhaps there is a skew there, which causes one operator instance to do most of the work.</li>\n<li>How do You measure these 3 minutes? What part of those 3 minutes is actually work being done and not initialization, waiting and cleanup? Maybe the sample You have for tests is simply to small to actually show speedup, because most of the time is related to non-parallelizable work.</li>\n</ol>\n"}],"owner":{"account_id":6931602,"reputation":49,"user_id":5320934,"display_name":"sergiopf"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75125242,"answer_count":1,"score":0,"last_activity_date":1673862144,"creation_date":1673691315,"question_id":75117176,"body_markdown":"I have a project in Flink which I want to optimize.\r\nI have set the the default parallelism and slots to 4 (the server has 4 cores).\r\n\r\n    taskmanager.numberOfTaskSlots = 4\r\n    parallelism.default = 4\r\n\r\n\r\nThis is my configuration to run the task, but the processing time is the same using parallelism or not. During my tests, is taking about 3 minutes to process 30MB from a Kafka queue with 5 partitions.\r\n\r\n    public void run() throws Exception {\r\n        StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\r\n        env.setRestartStrategy(RestartStrategies.fallBackRestart());\r\n        // Get the Accounts DataSource\r\n        BroadcastStream&lt;PropertyInfo&gt; propertyInfoBroadcastStream = getBroadcastPropertyStream(env);\r\n    \r\n        // Get the DataSource\r\n        DataStream&lt;CollectionMessage&gt; collectionMessageDataStream = getCollectionMessageStream(env);\r\n        final var router = new KeyedProcessAccumulatorRouterImpl(config);\r\n        final Duration sessionGapDuration = config.get(SESSION_EVENT_GAP_MINUTES);\r\n        SessionKeyedProcessFunction sessionKeyedProcessFunction = new SessionKeyedProcessFunction(\r\n                router, sessionGapDuration, config);\r\n    \r\n            collectionMessageDataStream\r\n              .keyBy(CollectionMessage::getSessionId)\r\n              .connect(propertyInfoBroadcastStream)\r\n              .process(sessionKeyedProcessFunction)\r\n              .uid(&quot;SessionWindow&quot;)\r\n              .name(&quot;Session Window&quot;)\r\n              .setParallelism(4);\r\n    \r\n        // execute program\r\n        env.execute(&quot;Processor&quot;);\r\n    }\r\n\r\n    private DataStream&lt;CollectionMessage&gt; getCollectionMessageStream(\r\n            StreamExecutionEnvironment env) {\r\n        Properties properties = new Properties();\r\n        properties.setProperty(&quot;bootstrap.servers&quot;, config.getString(KAFKA_CONSUMER_SERVERS));\r\n        properties.setProperty(&quot;group.id&quot;, config.getString(KAFKA_TOPROCESS_TOPIC));\r\n        properties.setProperty(&quot;max.partition.fetch.bytes&quot;,\r\n            config.getString(KAFKA_TOPROCESS_MAX_BYTES));\r\n        FlinkKafkaConsumer&lt;RawCollection&gt; myConsumer = new FlinkKafkaConsumer&lt;&gt;(\r\n            config.getString(KAFKA_TOPROCESS_TOPIC), new KafkaMessageDeserializer(), properties);\r\n\r\n        // Take lines from file from files\r\n        DataStream&lt;RawCollection&gt; inputMessageStream =\r\n            env.addSource(myConsumer).setParallelism(4);\r\n\r\n        B64PayloadDeserializer b64PayloadDeserializer =\r\n            new B64PayloadDeserializer(new BaseCollectionMessageDeserializer());\r\n\r\n        // Map lines to messages\r\n        DataStream&lt;CollectionMessage&gt; collectionMessageDataStream =\r\n            inputMessageStream\r\n                .map(b64PayloadDeserializer::deserialize).setParallelism(4)\r\n                .uid(&quot;CollectionMessageFilter&quot;)\r\n                .name(&quot;Filter Collection Messages&quot;).setParallelism(4);\r\n\r\n        // Assign new watermark on messages based on event time\r\n        return collectionMessageDataStream;\r\n    }\r\n\r\nLooking the Flink dashboard I see 4 slots and each of the 4 subtasks busy to near 100%. Executing it locally and stoping in the class SessionKeyedProcessFunction I see 4 tasks parallelized. What can be happening to not optimize performance?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/eDnWB.png","title":"Flink and Kafka parallelism optimization","body":"<p>I have a project in Flink which I want to optimize.\nI have set the the default parallelism and slots to 4 (the server has 4 cores).</p>\n<pre><code>taskmanager.numberOfTaskSlots = 4\nparallelism.default = 4\n</code></pre>\n<p>This is my configuration to run the task, but the processing time is the same using parallelism or not. During my tests, is taking about 3 minutes to process 30MB from a Kafka queue with 5 partitions.</p>\n<pre><code>public void run() throws Exception {\n    StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\n    env.setRestartStrategy(RestartStrategies.fallBackRestart());\n    // Get the Accounts DataSource\n    BroadcastStream&lt;PropertyInfo&gt; propertyInfoBroadcastStream = getBroadcastPropertyStream(env);\n\n    // Get the DataSource\n    DataStream&lt;CollectionMessage&gt; collectionMessageDataStream = getCollectionMessageStream(env);\n    final var router = new KeyedProcessAccumulatorRouterImpl(config);\n    final Duration sessionGapDuration = config.get(SESSION_EVENT_GAP_MINUTES);\n    SessionKeyedProcessFunction sessionKeyedProcessFunction = new SessionKeyedProcessFunction(\n            router, sessionGapDuration, config);\n\n        collectionMessageDataStream\n          .keyBy(CollectionMessage::getSessionId)\n          .connect(propertyInfoBroadcastStream)\n          .process(sessionKeyedProcessFunction)\n          .uid(&quot;SessionWindow&quot;)\n          .name(&quot;Session Window&quot;)\n          .setParallelism(4);\n\n    // execute program\n    env.execute(&quot;Processor&quot;);\n}\n\nprivate DataStream&lt;CollectionMessage&gt; getCollectionMessageStream(\n        StreamExecutionEnvironment env) {\n    Properties properties = new Properties();\n    properties.setProperty(&quot;bootstrap.servers&quot;, config.getString(KAFKA_CONSUMER_SERVERS));\n    properties.setProperty(&quot;group.id&quot;, config.getString(KAFKA_TOPROCESS_TOPIC));\n    properties.setProperty(&quot;max.partition.fetch.bytes&quot;,\n        config.getString(KAFKA_TOPROCESS_MAX_BYTES));\n    FlinkKafkaConsumer&lt;RawCollection&gt; myConsumer = new FlinkKafkaConsumer&lt;&gt;(\n        config.getString(KAFKA_TOPROCESS_TOPIC), new KafkaMessageDeserializer(), properties);\n\n    // Take lines from file from files\n    DataStream&lt;RawCollection&gt; inputMessageStream =\n        env.addSource(myConsumer).setParallelism(4);\n\n    B64PayloadDeserializer b64PayloadDeserializer =\n        new B64PayloadDeserializer(new BaseCollectionMessageDeserializer());\n\n    // Map lines to messages\n    DataStream&lt;CollectionMessage&gt; collectionMessageDataStream =\n        inputMessageStream\n            .map(b64PayloadDeserializer::deserialize).setParallelism(4)\n            .uid(&quot;CollectionMessageFilter&quot;)\n            .name(&quot;Filter Collection Messages&quot;).setParallelism(4);\n\n    // Assign new watermark on messages based on event time\n    return collectionMessageDataStream;\n}\n</code></pre>\n<p>Looking the Flink dashboard I see 4 slots and each of the 4 subtasks busy to near 100%. Executing it locally and stoping in the class SessionKeyedProcessFunction I see 4 tasks parallelized. What can be happening to not optimize performance?</p>\n<p><a href=\"https://i.stack.imgur.com/eDnWB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eDnWB.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","jenkins","ant","integration"],"owner":{"account_id":6974251,"reputation":1,"user_id":5349489,"display_name":"user5349489"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673861783,"creation_date":1673849121,"question_id":75130698,"body_markdown":"I want to compile my ant based projects committed in perforce using Jenkins. Just to achieve this i have created setup jenkins along with required p4 and Ant plugin but i am facing issue while giving path perforce depot as jenkins giving error \r\n\r\n[![Jenkins error screenshot 1][1]][1]\r\n\r\nI followed [these instructions][2]\r\n\r\nbut it didnt work\r\n\r\nJenkins error screenshot 2\r\n\r\n[![ ][3]][3]\r\n\r\nBasically i cant configure my module committed in perforce and build it using jenkins.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/N5PoF.png\r\n  [2]: https://github.com/jenkinsci/p4-plugin/blob/master/docs/WORKSPACESPECFILE.md\r\n  [3]: https://i.stack.imgur.com/VJ9QB.png","title":"Jenkins+perforce inegration","body":"<p>I want to compile my ant based projects committed in perforce using Jenkins. Just to achieve this i have created setup jenkins along with required p4 and Ant plugin but i am facing issue while giving path perforce depot as jenkins giving error</p>\n<p><a href=\"https://i.stack.imgur.com/N5PoF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/N5PoF.png\" alt=\"Jenkins error screenshot 1\" /></a></p>\n<p>I followed <a href=\"https://github.com/jenkinsci/p4-plugin/blob/master/docs/WORKSPACESPECFILE.md\" rel=\"nofollow noreferrer\">these instructions</a></p>\n<p>but it didnt work</p>\n<p>Jenkins error screenshot 2</p>\n<p><a href=\"https://i.stack.imgur.com/VJ9QB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VJ9QB.png\" alt=\" \" /></a></p>\n<p>Basically i cant configure my module committed in perforce and build it using jenkins.</p>\n"},{"tags":["java","jpa","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":1548429,"reputation":3528,"user_id":1441374,"accept_rate":68,"display_name":"Omkar Shetkar"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1605610741,"creation_date":1605610741,"answer_id":64873926,"question_id":64870193,"body_markdown":"While schema is created by hibernate, it seems to fail with following error if comes across table named &#39;order&#39;. I renamed the table to some other name and it worked as expected. I think hibernate identifies `order` as keyword rather than entity name.\r\n\r\n\r\n```\r\n2020-11-17 16:14:51.097  WARN 126490 --- [         task-1] o.h.t.s.i.ExceptionHandlerLoggedImpl     : GenerationTarget encountered exception accepting command : Error executing DDL &quot;drop table if exists order CASCADE &quot; via JDBC Statement\r\n\r\norg.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;drop table if exists order CASCADE &quot; via JDBC Statement\r\n```","title":"Querying with ManyToOne association results in SQLException","body":"<p>While schema is created by hibernate, it seems to fail with following error if comes across table named 'order'. I renamed the table to some other name and it worked as expected. I think hibernate identifies <code>order</code> as keyword rather than entity name.</p>\n<pre><code>2020-11-17 16:14:51.097  WARN 126490 --- [         task-1] o.h.t.s.i.ExceptionHandlerLoggedImpl     : GenerationTarget encountered exception accepting command : Error executing DDL &quot;drop table if exists order CASCADE &quot; via JDBC Statement\n\norg.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;drop table if exists order CASCADE &quot; via JDBC Statement\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6871126,"reputation":930,"user_id":6070546,"display_name":"Yusuf Ganiyu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673861447,"creation_date":1673861447,"answer_id":75132320,"question_id":64870193,"body_markdown":"I had this same issue a while back.\r\n\r\nHibernate is trying to execute `&quot;drop table if exists order CASCADE &quot;` but ORDER is a keyword, and your table name is also ORDER. If you can add `@Entity(name = &quot;Orders&quot;)` to your order entity. Your error should get fixed.","title":"Querying with ManyToOne association results in SQLException","body":"<p>I had this same issue a while back.</p>\n<p>Hibernate is trying to execute <code>&quot;drop table if exists order CASCADE &quot;</code> but ORDER is a keyword, and your table name is also ORDER. If you can add <code>@Entity(name = &quot;Orders&quot;)</code> to your order entity. Your error should get fixed.</p>\n"}],"owner":{"account_id":1548429,"reputation":3528,"user_id":1441374,"accept_rate":68,"display_name":"Omkar Shetkar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3094,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":64873926,"answer_count":2,"score":2,"last_activity_date":1673861447,"creation_date":1605593657,"question_id":64870193,"body_markdown":"I am trying out a simple use case for many-to-one association with Spring Data JPA but it is resulting in an SQLException.\r\n\r\nModel is of typical Order and OrderItem classes.\r\n\r\n**Order**\r\n\r\n    @Entity\r\n    public class Order {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Long id;\r\n\r\n    private String name;\r\n\r\n    public Long getId() {\r\n        return id;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n    }\r\n\r\n**OrderItem**\r\n\r\n    @Entity\r\n    public class OrderItem {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Long id;\r\n\r\n    private String name;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;fk_order&quot;)\r\n    private Order order;\r\n\r\n    public Long getId() {\r\n        return id;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public Order getOrder() {\r\n        return order;\r\n    }\r\n\r\n    public void setOrder(Order order) {\r\n        this.order = order;\r\n    }\r\n    }\r\n\r\nUnit test\r\n\r\n```\r\n@SpringBootTest\r\npublic class MappingTests {\r\n\r\n    @Autowired\r\n    private OrderRepository orderRepository;\r\n\r\n    @Autowired\r\n    private OrderItemRepository orderItemRepository;\r\n\r\n    @Test\r\n    @Transactional\r\n    @Disabled\r\n    public void testManyToOneUnidirectional() {\r\n        Order order = new Order();\r\n        order.setName(&quot;order-01&quot;);\r\n        orderRepository.save(order);\r\n\r\n        OrderItem orderItem = new OrderItem();\r\n        orderItem.setName(&quot;item-01&quot;);\r\n        orderItem.setOrder(order);\r\n        orderItemRepository.save(orderItem);\r\n\r\n//        List&lt;OrderItem&gt; all = orderItemRepository.findAll();\r\n    }\r\n```\r\n\r\nUnit test passes. But if I uncomment the line to find all items from `OrderItemRepository` it fails with following exception:\r\n\r\n\r\n\r\n    2020-11-17 11:37:07.671  WARN 35823 --- [           main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 42001, SQLState: 42001\r\n    2020-11-17 11:37:07.671 ERROR 35823 --- [           main] o.h.engine.jdbc.spi.SqlExceptionHelper   : Syntax error in SQL statement &quot;INSERT INTO ORDER[*] (NAME, ID) VALUES (?, ?)&quot;; expected &quot;identifier&quot;; SQL statement:\r\n    insert into order (name, id) values (?, ?) [42001-200]\r\n    2020-11-17 11:37:07.685  INFO 35823 --- [           main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction for test: [DefaultTestContext@6c61a903 testClass = MappingTests, testInstance = com.example.jpademo.MappingTests@5408d4b3, testMethod = testManyToOneUnidirectional@MappingTests, testException = org.springframework.dao.InvalidDataAccessResourceUsageException: could not prepare statement; SQL [insert into order (name, id) values (?, ?)]; nested exception is org.hibernate.exception.SQLGrammarException: could not prepare statement, mergedContextConfiguration = [WebMergedContextConfiguration@658c5a19 testClass = MappingTests, locations = &#39;{}&#39;, classes = &#39;{class com.example.jpademo.JpaDemoApplication}&#39;, contextInitializerClasses = &#39;[]&#39;, activeProfiles = &#39;{}&#39;, propertySourceLocations = &#39;{}&#39;, propertySourceProperties = &#39;{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}&#39;, contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@66d18979, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@17f7cd29, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@7ee8290b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@2e377400, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@e4487af, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@683dbc2c, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@233c0b17], resourceBasePath = &#39;src/main/webapp&#39;, contextLoader = &#39;org.springframework.boot.test.context.SpringBootContextLoader&#39;, parent = [null]], attributes = map[&#39;org.springframework.test.context.web.ServletTestExecutionListener.activateListener&#39; -&gt; true, &#39;org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder&#39; -&gt; true, &#39;org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder&#39; -&gt; true]]\r\n    \r\n    \r\n    org.springframework.dao.InvalidDataAccessResourceUsageException: could not prepare statement; SQL [insert into order (name, id) values (?, ?)]; nested exception is org.hibernate.exception.SQLGrammarException: could not prepare statement\r\n    \r\n    \tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:259)\r\n\r\n\r\n\r\nWhat could be missing here ? \r\nThanks.","title":"Querying with ManyToOne association results in SQLException","body":"<p>I am trying out a simple use case for many-to-one association with Spring Data JPA but it is resulting in an SQLException.</p>\n<p>Model is of typical Order and OrderItem classes.</p>\n<p><strong>Order</strong></p>\n<pre><code>@Entity\npublic class Order {\n@Id\n@GeneratedValue(strategy = GenerationType.AUTO)\nprivate Long id;\n\nprivate String name;\n\npublic Long getId() {\n    return id;\n}\n\npublic String getName() {\n    return name;\n}\n\npublic void setName(String name) {\n    this.name = name;\n}\n}\n</code></pre>\n<p><strong>OrderItem</strong></p>\n<pre><code>@Entity\npublic class OrderItem {\n\n@Id\n@GeneratedValue(strategy = GenerationType.AUTO)\nprivate Long id;\n\nprivate String name;\n\n@ManyToOne\n@JoinColumn(name = &quot;fk_order&quot;)\nprivate Order order;\n\npublic Long getId() {\n    return id;\n}\n\npublic String getName() {\n    return name;\n}\n\npublic void setName(String name) {\n    this.name = name;\n}\n\npublic Order getOrder() {\n    return order;\n}\n\npublic void setOrder(Order order) {\n    this.order = order;\n}\n}\n</code></pre>\n<p>Unit test</p>\n<pre><code>@SpringBootTest\npublic class MappingTests {\n\n    @Autowired\n    private OrderRepository orderRepository;\n\n    @Autowired\n    private OrderItemRepository orderItemRepository;\n\n    @Test\n    @Transactional\n    @Disabled\n    public void testManyToOneUnidirectional() {\n        Order order = new Order();\n        order.setName(&quot;order-01&quot;);\n        orderRepository.save(order);\n\n        OrderItem orderItem = new OrderItem();\n        orderItem.setName(&quot;item-01&quot;);\n        orderItem.setOrder(order);\n        orderItemRepository.save(orderItem);\n\n//        List&lt;OrderItem&gt; all = orderItemRepository.findAll();\n    }\n</code></pre>\n<p>Unit test passes. But if I uncomment the line to find all items from <code>OrderItemRepository</code> it fails with following exception:</p>\n<pre><code>2020-11-17 11:37:07.671  WARN 35823 --- [           main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 42001, SQLState: 42001\n2020-11-17 11:37:07.671 ERROR 35823 --- [           main] o.h.engine.jdbc.spi.SqlExceptionHelper   : Syntax error in SQL statement &quot;INSERT INTO ORDER[*] (NAME, ID) VALUES (?, ?)&quot;; expected &quot;identifier&quot;; SQL statement:\ninsert into order (name, id) values (?, ?) [42001-200]\n2020-11-17 11:37:07.685  INFO 35823 --- [           main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction for test: [DefaultTestContext@6c61a903 testClass = MappingTests, testInstance = com.example.jpademo.MappingTests@5408d4b3, testMethod = testManyToOneUnidirectional@MappingTests, testException = org.springframework.dao.InvalidDataAccessResourceUsageException: could not prepare statement; SQL [insert into order (name, id) values (?, ?)]; nested exception is org.hibernate.exception.SQLGrammarException: could not prepare statement, mergedContextConfiguration = [WebMergedContextConfiguration@658c5a19 testClass = MappingTests, locations = '{}', classes = '{class com.example.jpademo.JpaDemoApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@66d18979, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@17f7cd29, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@7ee8290b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@2e377400, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@e4487af, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@683dbc2c, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@233c0b17], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -&gt; true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -&gt; true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -&gt; true]]\n\n\norg.springframework.dao.InvalidDataAccessResourceUsageException: could not prepare statement; SQL [insert into order (name, id) values (?, ?)]; nested exception is org.hibernate.exception.SQLGrammarException: could not prepare statement\n\n    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:259)\n</code></pre>\n<p>What could be missing here ?\nThanks.</p>\n"},{"tags":["java","mysql","spring","hibernate","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":8796663,"reputation":571,"user_id":6574356,"display_name":"Nitin Mathur"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1570415260,"creation_date":1570415260,"answer_id":58262833,"question_id":58260870,"body_markdown":"It&#39;s unclear from your question, does DB runs in same machine where web application is running? If no, you need to provide IP address of the remote machine where the web application is running in the `GRANT` command.","title":"Spring Boot MySql Access denied for user &#39;root&#39;@&#39;localhost&#39;","body":"<p>It's unclear from your question, does DB runs in same machine where web application is running? If no, you need to provide IP address of the remote machine where the web application is running in the <code>GRANT</code> command.</p>\n"},{"tags":[],"owner":{"account_id":11388057,"reputation":97,"user_id":8349096,"display_name":"Rishab Jula"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1612340460,"creation_date":1612332380,"answer_id":66022114,"question_id":58260870,"body_markdown":"I also faced the same issue.\r\n\r\nThe solution which worked for me \r\n\r\n1. `Create` a new user\r\n2. `Grant` this new user privileges of your database :\r\n\r\n\r\n```\r\ncreate user &#39;&lt;new_user_name&gt;&#39;@&#39;localhost&#39; identified by &#39;&lt;new_user_password&gt;&#39;;\r\ngrant all privileges on &lt;your_db_name&gt;.* to &#39;&lt;new_user_name&gt;&#39;@&#39;localhost&#39; identified by &#39;&lt;new_user_password&gt;&#39;;\r\n```","title":"Spring Boot MySql Access denied for user &#39;root&#39;@&#39;localhost&#39;","body":"<p>I also faced the same issue.</p>\n<p>The solution which worked for me</p>\n<ol>\n<li><code>Create</code> a new user</li>\n<li><code>Grant</code> this new user privileges of your database :</li>\n</ol>\n<pre><code>create user '&lt;new_user_name&gt;'@'localhost' identified by '&lt;new_user_password&gt;';\ngrant all privileges on &lt;your_db_name&gt;.* to '&lt;new_user_name&gt;'@'localhost' identified by '&lt;new_user_password&gt;';\n</code></pre>\n"}],"owner":{"account_id":6599442,"reputation":61,"user_id":5098215,"display_name":"Cem Drman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6396,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1673861428,"creation_date":1570392723,"question_id":58260870,"body_markdown":"I have spring boot app and deployed to a remote server. The app runs on my computer. MySQL connection URL, user name and password are the same local and remote MySQL. DB and app in same machine!!\r\n\r\nI checked my connection info and executed about below commands.\r\n\r\n    GRANT ALL PRIVILEGES ON burrda.* TO &#39;root&#39;@&#39;localhost&#39; IDENTIFIED BY &#39;password&#39;; \r\n    FLUSH PRIVILEGES;\r\n\r\n\r\nMy `application.properties` is below.\r\n\r\n    spring.jpa.database-platform=org.hibernate.dialect.MySQL5Dialect\r\n    spring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQL57Dialect\r\n    spring.jpa.hibernate.ddl-auto=update\r\n    spring.jpa.show-sql=true\r\n    spring.datasource.driverClassName=com.mysql.cj.jdbc.Driver\r\n    spring.datasource.url=jdbc:mysql://localhost:3306/burrda\r\n    spring.datasource.username=root\r\n    spring.datasource.password= password\r\n\r\nWhen apps runs I&#39;m getting `java.sql.SQLException: Access denied for user &#39;root&#39;@&#39;localhost&#39; `\r\n\r\nI&#39;m not getting these exceptions `java.sql.SQLException: Access denied for user &#39;root&#39;@&#39;localhost&#39;` (using password: YES) or `java.sql.SQLException: Access denied for user &#39;root&#39;@&#39;localhost&#39;` (using password: NO)","title":"Spring Boot MySql Access denied for user &#39;root&#39;@&#39;localhost&#39;","body":"<p>I have spring boot app and deployed to a remote server. The app runs on my computer. MySQL connection URL, user name and password are the same local and remote MySQL. DB and app in same machine!!</p>\n\n<p>I checked my connection info and executed about below commands.</p>\n\n<pre><code>GRANT ALL PRIVILEGES ON burrda.* TO 'root'@'localhost' IDENTIFIED BY 'password'; \nFLUSH PRIVILEGES;\n</code></pre>\n\n<p>My <code>application.properties</code> is below.</p>\n\n<pre><code>spring.jpa.database-platform=org.hibernate.dialect.MySQL5Dialect\nspring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQL57Dialect\nspring.jpa.hibernate.ddl-auto=update\nspring.jpa.show-sql=true\nspring.datasource.driverClassName=com.mysql.cj.jdbc.Driver\nspring.datasource.url=jdbc:mysql://localhost:3306/burrda\nspring.datasource.username=root\nspring.datasource.password= password\n</code></pre>\n\n<p>When apps runs I'm getting <code>java.sql.SQLException: Access denied for user 'root'@'localhost'</code></p>\n\n<p>I'm not getting these exceptions <code>java.sql.SQLException: Access denied for user 'root'@'localhost'</code> (using password: YES) or <code>java.sql.SQLException: Access denied for user 'root'@'localhost'</code> (using password: NO)</p>\n"},{"tags":["java","algorithm","performance","recursion","fibonacci"],"comments":[{"owner":{"account_id":2318302,"reputation":23679,"user_id":2034787,"accept_rate":53,"display_name":" "},"score":0,"creation_date":1664085211,"post_id":73842120,"comment_id":130387882,"body_markdown":"Did you try memoisation? (https://en.wikipedia.org/wiki/Memoization)","body":"Did you try memoisation? (<a href=\"https://en.wikipedia.org/wiki/Memoization\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Memoization</a>)"},{"owner":{"account_id":4127333,"reputation":34381,"user_id":3386109,"display_name":"user3386109"},"score":0,"creation_date":1664087749,"post_id":73842120,"comment_id":130388147,"body_markdown":"I think you need to clarify whether `F[2]` is &quot;BA&quot; or &quot;AB&quot;. Assuming that `F[2] = &quot;BA&quot;`, then one observation is that the first `k` letters don&#39;t change once the string length is at least `k`. Which means, for example, that when the input is 7 7, you really only need to compute F[5], since F[5] has more than 7 letters.","body":"I think you need to clarify whether <code>F[2]</code> is &quot;BA&quot; or &quot;AB&quot;. Assuming that <code>F[2] = &quot;BA&quot;</code>, then one observation is that the first <code>k</code> letters don&#39;t change once the string length is at least <code>k</code>. Which means, for example, that when the input is 7 7, you really only need to compute F[5], since F[5] has more than 7 letters."},{"owner":{"account_id":2318302,"reputation":23679,"user_id":2034787,"accept_rate":53,"display_name":" "},"score":0,"creation_date":1664088393,"post_id":73842120,"comment_id":130388220,"body_markdown":"@user3386109 why would they need to clarify? F[n] = F[n-1] + F[n-2] is a complete ordered statement representing the concatenation of two strings.","body":"@user3386109 why would they need to clarify? F[n] = F[n-1] + F[n-2] is a complete ordered statement representing the concatenation of two strings."},{"owner":{"account_id":4127333,"reputation":34381,"user_id":3386109,"display_name":"user3386109"},"score":0,"creation_date":1664088513,"post_id":73842120,"comment_id":130388231,"body_markdown":"@ Ok, so then we agree that `F[2] = F[1] + F[0] = &quot;B&quot; + &quot;A&quot; = &quot;BA&quot;`. Right?","body":"@ Ok, so then we agree that <code>F[2] = F[1] + F[0] = &quot;B&quot; + &quot;A&quot; = &quot;BA&quot;</code>. Right?"},{"owner":{"account_id":2318302,"reputation":23679,"user_id":2034787,"accept_rate":53,"display_name":" "},"score":1,"creation_date":1664088622,"post_id":73842120,"comment_id":130388237,"body_markdown":"@user3386109 oh, oops, that reverses my answer, lol! Yes, we need clarification, lol :)","body":"@user3386109 oh, oops, that reverses my answer, lol! Yes, we need clarification, lol :)"}],"answers":[{"tags":[],"owner":{"account_id":2318302,"reputation":23679,"user_id":2034787,"accept_rate":53,"display_name":" "},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664089540,"creation_date":1664087262,"answer_id":73842464,"question_id":73842120,"body_markdown":"There seems to be a pattern related to Fibonacci numbers:\r\n```\r\nA\r\nB\r\nAB 1 + 1 (A count + B count)\r\nBAB 1 + 2\r\nABBAB 2 + 3\r\nBABABBAB 3 + 5\r\nABBABBABABBAB 5 + 8\r\n      ^ k = 7\r\n     BABABBAB 3 + 5\r\n      ^ k = 2 (result = 3)\r\n     BAB 1 + 2\r\n      ^ k = 2 (result = 4)\r\n     AB 1 + 1\r\n     ^ k = 1 = A (result = 4)\r\n```\r\nLet `g(l, r, k)` represent the count of `B`s in the first `k` positions of `Fib[n] = l + r`. Then:\r\n```\r\ng(l, r, k):\r\n  if (1, 1) == (l, r):\r\n    return 1 if k == 2 else 0\r\n  if (1, 2) == (l, r):\r\n    return 1 if k &lt; 3 else 2\r\n  ll, rl = getFibSummands(l)\r\n  lr, rr = getFibSummands(r)\r\n  if k &gt; l:\r\n    return rl + g(lr, rr, k - l)\r\n  return g(ll, rl, k)\r\n```\r\nThis answer above may have misinterpreted the starting order of concatenation, which possibly should be `BA`, in which case, we would need to reverse `l, r`.\r\n```\r\nA\r\nB\r\nBA 1 + 1 (B count + A count)\r\nBAB 2 + 1 \r\nBABBA 3 + 2\r\nBABBABAB 5 + 3\r\nBABBABABBABBA 8 + 5\r\n      ^ k = 7\r\nBABBABAB\r\n      ^ k = 7\r\n     BAB\r\n      ^ k = 2 (result = 3)\r\n     BA\r\n      ^ k = 2\r\n      A\r\n      ^ k = 1 (result = 4)\r\n```\r\n```\r\ng(l, r, k):\r\n  if (1, 1) == (l, r):\r\n    return 1 if k == 2 else 0\r\n  if (2, 1) == (l, r):\r\n    return 1 if k &lt; 3 else 2\r\n  ll, rl = getFibSummands(l)\r\n  lr, rr = getFibSummands(r)\r\n  if k &gt; l:\r\n    return ll + g(lr, rr, k - l)\r\n  return g(ll, rl, k)\r\n```","title":"Frequency of character B in Fibonacci string and time limit exceed error","body":"<p>There seems to be a pattern related to Fibonacci numbers:</p>\n<pre><code>A\nB\nAB 1 + 1 (A count + B count)\nBAB 1 + 2\nABBAB 2 + 3\nBABABBAB 3 + 5\nABBABBABABBAB 5 + 8\n      ^ k = 7\n     BABABBAB 3 + 5\n      ^ k = 2 (result = 3)\n     BAB 1 + 2\n      ^ k = 2 (result = 4)\n     AB 1 + 1\n     ^ k = 1 = A (result = 4)\n</code></pre>\n<p>Let <code>g(l, r, k)</code> represent the count of <code>B</code>s in the first <code>k</code> positions of <code>Fib[n] = l + r</code>. Then:</p>\n<pre><code>g(l, r, k):\n  if (1, 1) == (l, r):\n    return 1 if k == 2 else 0\n  if (1, 2) == (l, r):\n    return 1 if k &lt; 3 else 2\n  ll, rl = getFibSummands(l)\n  lr, rr = getFibSummands(r)\n  if k &gt; l:\n    return rl + g(lr, rr, k - l)\n  return g(ll, rl, k)\n</code></pre>\n<p>This answer above may have misinterpreted the starting order of concatenation, which possibly should be <code>BA</code>, in which case, we would need to reverse <code>l, r</code>.</p>\n<pre><code>A\nB\nBA 1 + 1 (B count + A count)\nBAB 2 + 1 \nBABBA 3 + 2\nBABBABAB 5 + 3\nBABBABABBABBA 8 + 5\n      ^ k = 7\nBABBABAB\n      ^ k = 7\n     BAB\n      ^ k = 2 (result = 3)\n     BA\n      ^ k = 2\n      A\n      ^ k = 1 (result = 4)\n</code></pre>\n<pre><code>g(l, r, k):\n  if (1, 1) == (l, r):\n    return 1 if k == 2 else 0\n  if (2, 1) == (l, r):\n    return 1 if k &lt; 3 else 2\n  ll, rl = getFibSummands(l)\n  lr, rr = getFibSummands(r)\n  if k &gt; l:\n    return ll + g(lr, rr, k - l)\n  return g(ll, rl, k)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":34433,"reputation":55374,"user_id":1400793,"display_name":"Paul Hankin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664092717,"creation_date":1664092180,"answer_id":73842833,"question_id":73842120,"body_markdown":"For clarity, define `Fib(n)` to be the Fibonacci sequence where `Fib(0) = Fib(1) = 1`, and `Fib(n+2) = Fib(n+1) + Fib(n)`.\r\n\r\nNote that `F[n]` has `Fib(n)` characters, with `Fib(n-1)` of them being `B`s.\r\n\r\nLet `C(n, k)` be the number of `B`&#39;s in the first `k` characters of `F[n]`.\r\n\r\nThe base cases are obvious\r\n\r\n    C(0, k) = 0\r\n    C(n, k) = 0 if k&lt;=0\r\n    C(1, 1) = 1\r\n    C(2, k) = 1\r\n\r\nIn general:\r\n\r\n    C(n, k) = C(n-1, k)                         if k &lt;= Fib(n-1)\r\n            = Fib(n-2) + C(n-1, k - Fib(n-1))   otherwise\r\n\r\nThis is the observation that `F[n] = F[n-1] + F[n-2]` and `k` lies in either the first part or the second. The first part has `Fib(n-1)` characters of which `Fib(n-2)` of them are `B`&#39;s.\r\n\r\nIf you precompute the Fibonacci numbers from `0` to `n`, then you can compute `C(n, k)` in O(`n`) arithmetic operations.\r\n\r\nYou tagged java, but here&#39;s a python solution including test cases:\r\n\r\n    def C(n, k):\r\n    \tif n == 0: return 0\r\n    \ttotal = 0\r\n    \tfib = [1, 1]\r\n    \twhile len(fib) &lt;= n and fib[-1] &lt;= k:\r\n    \t\tfib.append(fib[-1] + fib[-2])\r\n    \tn = min(n, len(fib) - 1)\r\n    \twhile True:\r\n    \t\tif n &lt;= 2:\r\n    \t\t\treturn total + 1\r\n    \t\telif k &lt;= fib[n-1]:\r\n    \t\t\tn -= 1\r\n    \t\telse:\r\n    \t\t\ttotal += fib[n-2]\r\n    \t\t\tk -= fib[n-1]\r\n    \t\t\tn -= 1\r\n    \r\n    tcs = [\r\n    \t([0, 1], 0),\r\n    \t([1, 1], 1),\r\n    \t([3, 2], 1),\r\n    \t([7, 7], 4)\r\n    ]\r\n    \r\n    for (n, k), want in tcs:\r\n    \tgot = C(n, k)\r\n    \tif got != want:\r\n    \t\tprint(&#39;C(%d, %d) = %d, want %d&#39; % (n, k, got, want))\r\n\r\nThis includes an optimization which reduces `n` so that initially `k &gt; Fib(n-1)`. This makes the code O(`min(n, log(k))`) arithmetic operations.","title":"Frequency of character B in Fibonacci string and time limit exceed error","body":"<p>For clarity, define <code>Fib(n)</code> to be the Fibonacci sequence where <code>Fib(0) = Fib(1) = 1</code>, and <code>Fib(n+2) = Fib(n+1) + Fib(n)</code>.</p>\n<p>Note that <code>F[n]</code> has <code>Fib(n)</code> characters, with <code>Fib(n-1)</code> of them being <code>B</code>s.</p>\n<p>Let <code>C(n, k)</code> be the number of <code>B</code>'s in the first <code>k</code> characters of <code>F[n]</code>.</p>\n<p>The base cases are obvious</p>\n<pre><code>C(0, k) = 0\nC(n, k) = 0 if k&lt;=0\nC(1, 1) = 1\nC(2, k) = 1\n</code></pre>\n<p>In general:</p>\n<pre><code>C(n, k) = C(n-1, k)                         if k &lt;= Fib(n-1)\n        = Fib(n-2) + C(n-1, k - Fib(n-1))   otherwise\n</code></pre>\n<p>This is the observation that <code>F[n] = F[n-1] + F[n-2]</code> and <code>k</code> lies in either the first part or the second. The first part has <code>Fib(n-1)</code> characters of which <code>Fib(n-2)</code> of them are <code>B</code>'s.</p>\n<p>If you precompute the Fibonacci numbers from <code>0</code> to <code>n</code>, then you can compute <code>C(n, k)</code> in O(<code>n</code>) arithmetic operations.</p>\n<p>You tagged java, but here's a python solution including test cases:</p>\n<pre><code>def C(n, k):\n    if n == 0: return 0\n    total = 0\n    fib = [1, 1]\n    while len(fib) &lt;= n and fib[-1] &lt;= k:\n        fib.append(fib[-1] + fib[-2])\n    n = min(n, len(fib) - 1)\n    while True:\n        if n &lt;= 2:\n            return total + 1\n        elif k &lt;= fib[n-1]:\n            n -= 1\n        else:\n            total += fib[n-2]\n            k -= fib[n-1]\n            n -= 1\n\ntcs = [\n    ([0, 1], 0),\n    ([1, 1], 1),\n    ([3, 2], 1),\n    ([7, 7], 4)\n]\n\nfor (n, k), want in tcs:\n    got = C(n, k)\n    if got != want:\n        print('C(%d, %d) = %d, want %d' % (n, k, got, want))\n</code></pre>\n<p>This includes an optimization which reduces <code>n</code> so that initially <code>k &gt; Fib(n-1)</code>. This makes the code O(<code>min(n, log(k))</code>) arithmetic operations.</p>\n"}],"owner":{"account_id":25928855,"reputation":11,"user_id":19650316,"display_name":"Ho&#224;ng Lc"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":127,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":73842833,"answer_count":2,"score":0,"last_activity_date":1673861268,"creation_date":1664081478,"question_id":73842120,"body_markdown":"Consider the character string generated by the following rule:\r\n\r\n - F[0] = &quot;A&quot;\r\n - F[1] = &quot;B&quot;\r\n - ...\r\n - F[n] = F[n-1] + F[n-2] with n &gt; 1\r\n\r\nGiven two positive integers **n** and **k**. Let&#39;s count the number of characters &#39;B&#39; in the first **k** positions of string **F[n]**.\r\n\r\n**I came up with this idea and got time limit exceeded error:**\r\n\r\n    public class Solution {\r\n        public static long[] F = new long[50];\r\n        public static Scanner input = new Scanner(System.in);\r\n\r\n        public static long count(int n, long k) {\r\n            if (n == 0 || k == 0) return 0;\r\n            else if (n == 1) return 1;\r\n            else {\r\n                if (k &gt; F[n - 1]) return count(n - 1, F[n - 1]) + count(n - 2, k - F[n - 1]);\r\n                else return count(n - 1, k);\r\n            }\r\n        }\r\n\r\n        public static void main(String[] args) {\r\n            F[0] = 1; F[1] = 1;\r\n            for (int i = 2; i &lt; 46; i++) F[i] = F[i - 2] + F[i - 1];\r\n            int T = input.nextInt();\r\n            while (T-- &gt; 0) {\r\n                int n = input.nextInt();\r\n                long k = input.nextLong();\r\n                System.out.println(count(n, k));\r\n            }\r\n        }\r\n    }\r\nCan someone help me to improve time complexity? Seems my solution has O(n^2) time complexity.\r\n\r\n**Test case for this question:**\r\n\r\n| Input    | Output  |\r\n| -------- | ------- |\r\n| 4        |         |\r\n| 0 1      | 0       |\r\n| 1 1      | 1       |\r\n| 3 2      | 1       |\r\n| 7 7      | 4       |\r\n","title":"Frequency of character B in Fibonacci string and time limit exceed error","body":"<p>Consider the character string generated by the following rule:</p>\n<ul>\n<li>F[0] = &quot;A&quot;</li>\n<li>F[1] = &quot;B&quot;</li>\n<li>...</li>\n<li>F[n] = F[n-1] + F[n-2] with n &gt; 1</li>\n</ul>\n<p>Given two positive integers <strong>n</strong> and <strong>k</strong>. Let's count the number of characters 'B' in the first <strong>k</strong> positions of string <strong>F[n]</strong>.</p>\n<p><strong>I came up with this idea and got time limit exceeded error:</strong></p>\n<pre><code>public class Solution {\n    public static long[] F = new long[50];\n    public static Scanner input = new Scanner(System.in);\n\n    public static long count(int n, long k) {\n        if (n == 0 || k == 0) return 0;\n        else if (n == 1) return 1;\n        else {\n            if (k &gt; F[n - 1]) return count(n - 1, F[n - 1]) + count(n - 2, k - F[n - 1]);\n            else return count(n - 1, k);\n        }\n    }\n\n    public static void main(String[] args) {\n        F[0] = 1; F[1] = 1;\n        for (int i = 2; i &lt; 46; i++) F[i] = F[i - 2] + F[i - 1];\n        int T = input.nextInt();\n        while (T-- &gt; 0) {\n            int n = input.nextInt();\n            long k = input.nextLong();\n            System.out.println(count(n, k));\n        }\n    }\n}\n</code></pre>\n<p>Can someone help me to improve time complexity? Seems my solution has O(n^2) time complexity.</p>\n<p><strong>Test case for this question:</strong></p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Input</th>\n<th>Output</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>4</td>\n<td></td>\n</tr>\n<tr>\n<td>0 1</td>\n<td>0</td>\n</tr>\n<tr>\n<td>1 1</td>\n<td>1</td>\n</tr>\n<tr>\n<td>3 2</td>\n<td>1</td>\n</tr>\n<tr>\n<td>7 7</td>\n<td>4</td>\n</tr>\n</tbody>\n</table>\n</div>"},{"tags":["java","selenium","safari"],"owner":{"account_id":27541351,"reputation":1,"user_id":21018036,"display_name":"Matj Dolensk&#253;"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":229,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673861205,"creation_date":1673861205,"question_id":75132275,"body_markdown":"I&#39;m trying to change the user agent of Safari browser programatically to start the browser with mobile user agent to run automated tests agains the mobile version of browser. I&#39;ve tried to set them up with some proces builder e.g.:\r\n\r\n```\r\n  ProcessBuilder pb = new ProcessBuilder(\r\n                &quot;defaults&quot;,\r\n                &quot;write&quot;,\r\n                &quot;com.apple.Safari CustomUserAgent&quot;,\r\n                &quot;\\&quot;Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1\\&quot;&quot;\r\n        );\r\n        pb.inheritIO();\r\n        pb.directory(new File(&quot;/bin&quot;));\r\n        pb.start();\r\n\r\n\r\n\r\n```\r\n\r\nHowever it does nothing, does anybody managed to start the safari with custom User Agent?\r\nI&#39;m using Java and Selenium 4.\r\n\r\nThanks! \r\n\r\n\r\n\r\n```\r\nSafariOptions options = new SafariOptions();\r\n        options.setAcceptInsecureCerts(true);\r\n\r\n        ProcessBuilder pb = new ProcessBuilder(\r\n                &quot;defaults&quot;,\r\n                &quot;write&quot;,\r\n                &quot;com.apple.Safari CustomUserAgent&quot;,\r\n                &quot;\\&quot;Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1\\&quot;&quot;\r\n        );\r\n        pb.inheritIO();\r\n        pb.directory(new File(&quot;/bin&quot;));\r\n        pb.start();\r\n        \r\n        return new SafariDriver(options);\r\n```","title":"Change safari user agent programatically using Selenium and Java","body":"<p>I'm trying to change the user agent of Safari browser programatically to start the browser with mobile user agent to run automated tests agains the mobile version of browser. I've tried to set them up with some proces builder e.g.:</p>\n<pre><code>  ProcessBuilder pb = new ProcessBuilder(\n                &quot;defaults&quot;,\n                &quot;write&quot;,\n                &quot;com.apple.Safari CustomUserAgent&quot;,\n                &quot;\\&quot;Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1\\&quot;&quot;\n        );\n        pb.inheritIO();\n        pb.directory(new File(&quot;/bin&quot;));\n        pb.start();\n\n\n\n</code></pre>\n<p>However it does nothing, does anybody managed to start the safari with custom User Agent?\nI'm using Java and Selenium 4.</p>\n<p>Thanks!</p>\n<pre><code>SafariOptions options = new SafariOptions();\n        options.setAcceptInsecureCerts(true);\n\n        ProcessBuilder pb = new ProcessBuilder(\n                &quot;defaults&quot;,\n                &quot;write&quot;,\n                &quot;com.apple.Safari CustomUserAgent&quot;,\n                &quot;\\&quot;Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1\\&quot;&quot;\n        );\n        pb.inheritIO();\n        pb.directory(new File(&quot;/bin&quot;));\n        pb.start();\n        \n        return new SafariDriver(options);\n</code></pre>\n"},{"tags":["java","spring","eclipse"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1532622292,"post_id":51543425,"comment_id":90054763,"body_markdown":"That class path seems wrong.  I don&#39;t know this specific framework but a class path usually refers to a path on your file system where needed Jar files can be found.  E.g. `&quot;C:/Users/MyName/develop/udemy/proj/lib/spring-framework-5.0.2.RELEASE.jar&quot;`","body":"That class path seems wrong.  I don&#39;t know this specific framework but a class path usually refers to a path on your file system where needed Jar files can be found.  E.g. <code>&quot;C:&#47;Users&#47;MyName&#47;develop&#47;udemy&#47;proj&#47;lib&#47;spring-framework-5.0&zwnj;&#8203;.2.RELEASE.jar&quot;</code>"},{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1532623055,"post_id":51543425,"comment_id":90055182,"body_markdown":"Saying that you have a red line somewhere is much too vague. Tell us what you are doing (compiling? running?), how precisely you&#39;re doing it, and which complete and exact error you get.","body":"Saying that you have a red line somewhere is much too vague. Tell us what you are doing (compiling? running?), how precisely you&#39;re doing it, and which complete and exact error you get."},{"owner":{"account_id":1657095,"reputation":3768,"user_id":1526347,"accept_rate":75,"display_name":"jingx"},"score":0,"creation_date":1532623292,"post_id":51543425,"comment_id":90055329,"body_markdown":"Do you specifically have `spring-context-5.0.2.RELEASE.jar` on your buildpath? What about other spring classes? For example can you import `FileSystemXmlApplicationContext`?","body":"Do you specifically have <code>spring-context-5.0.2.RELEASE.jar</code> on your buildpath? What about other spring classes? For example can you import <code>FileSystemXmlApplicationContext</code>?"},{"owner":{"account_id":13789826,"reputation":192,"user_id":9952630,"display_name":"nvkvc"},"score":0,"creation_date":1532623516,"post_id":51543425,"comment_id":90055446,"body_markdown":"I have spring-context-5.0.2.RELEASE.jar on my buildpath, and yes, it is giving me the error for FileSystemXmlApplicationContext. I tried for both 5.0.2 and 5.0.9 versions of jars, and errors are same.","body":"I have spring-context-5.0.2.RELEASE.jar on my buildpath, and yes, it is giving me the error for FileSystemXmlApplicationContext. I tried for both 5.0.2 and 5.0.9 versions of jars, and errors are same."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1532628075,"post_id":51543425,"comment_id":90057809,"body_markdown":"Build path != class path.  They&#39;re two different things.  https://docs.oracle.com/javase/tutorial/essential/environment/paths.html","body":"Build path != class path.  They&#39;re two different things.  <a href=\"https://docs.oracle.com/javase/tutorial/essential/environment/paths.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/essential/environment/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":171126,"reputation":446,"user_id":1525038,"display_name":"Hananiel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1532629344,"creation_date":1532629344,"answer_id":51545311,"question_id":51543425,"body_markdown":"I would check the following:\r\na. right click the project -&gt; properties -&gt; Java Build Path -&gt; Libraries (tab) \r\n\r\nMake sure spring-context jar is present and there is only one version of it. \r\n\r\nIf that is the case, try closing and reopening the IDE. ","title":"Cannot import ClassPathXmlApplicationContext","body":"<p>I would check the following:\na. right click the project -> properties -> Java Build Path -> Libraries (tab) </p>\n\n<p>Make sure spring-context jar is present and there is only one version of it. </p>\n\n<p>If that is the case, try closing and reopening the IDE. </p>\n"},{"tags":[],"owner":{"account_id":13789826,"reputation":192,"user_id":9952630,"display_name":"nvkvc"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1537104199,"creation_date":1537101991,"answer_id":52354278,"question_id":51543425,"body_markdown":"I just want to share that  have found a solution to my problem.\r\nMy execution environment JRE was set to be JAVA SE 10. After I change it to be JAVA SE 1.8 everything started working, and no errors are showing now.\r\n\r\nI do it like this:\r\n\r\n1. Right click on your project, then open Properties\r\n2. Java build path\r\n3. Click on Add Library\r\n4. Choose JRE system library\r\n5. Click on environments and choose JAVA SE 1.8\r\n6. After that, I removed JAVA SE 10 from my build path and everything becomes right.","title":"Cannot import ClassPathXmlApplicationContext","body":"<p>I just want to share that  have found a solution to my problem.\nMy execution environment JRE was set to be JAVA SE 10. After I change it to be JAVA SE 1.8 everything started working, and no errors are showing now.</p>\n\n<p>I do it like this:</p>\n\n<ol>\n<li>Right click on your project, then open Properties</li>\n<li>Java build path</li>\n<li>Click on Add Library</li>\n<li>Choose JRE system library</li>\n<li>Click on environments and choose JAVA SE 1.8</li>\n<li>After that, I removed JAVA SE 10 from my build path and everything becomes right.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":18062560,"reputation":11,"user_id":13129341,"display_name":"Dominick DeChristofaro"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1585233106,"creation_date":1585232415,"answer_id":60869364,"question_id":51543425,"body_markdown":"I solved this problem in intelliJ by doing the following:\r\n\r\n 1. File &gt; Project Structure\r\n 2. Modules\r\n 3. Dependencies Tab\r\n 4. Click (+) button\r\n 5. Add JARs or Directories\r\n 6. Navigate to the correct .jar to import ClassPathXmlApplicationContext\r\n\r\nBecause I have been using maven in the past, I already had the .jar file downloaded. My .jar file was at the following location on my drive:\r\n\r\n 1. home folder\r\n 2. Unhide hidden folders\r\n 3. .m2 folder\r\n 4. repository &gt; org &gt; springframework &gt; spring-context &gt; 5.2.4 RELEASE\r\n 5. Select .jar file\r\n\r\nI also had to import the &quot;spring-beans&quot; and &quot;spring-core&quot; libraries to get the code to run in my environment.","title":"Cannot import ClassPathXmlApplicationContext","body":"<p>I solved this problem in intelliJ by doing the following:</p>\n\n<ol>\n<li>File > Project Structure</li>\n<li>Modules</li>\n<li>Dependencies Tab</li>\n<li>Click (+) button</li>\n<li>Add JARs or Directories</li>\n<li>Navigate to the correct .jar to import ClassPathXmlApplicationContext</li>\n</ol>\n\n<p>Because I have been using maven in the past, I already had the .jar file downloaded. My .jar file was at the following location on my drive:</p>\n\n<ol>\n<li>home folder</li>\n<li>Unhide hidden folders</li>\n<li>.m2 folder</li>\n<li>repository > org > springframework > spring-context > 5.2.4 RELEASE</li>\n<li>Select .jar file</li>\n</ol>\n\n<p>I also had to import the \"spring-beans\" and \"spring-core\" libraries to get the code to run in my environment.</p>\n"},{"tags":[],"owner":{"account_id":22323004,"reputation":31,"user_id":16545405,"display_name":"Sai Mekala"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1667472228,"creation_date":1667472228,"answer_id":74301755,"question_id":51543425,"body_markdown":"Delete the module-info.java file in your project, It&#39;s only used if you&#39;re using Java&#39;s built-in module system.\r\n\r\nHope that helps:)\r\n","title":"Cannot import ClassPathXmlApplicationContext","body":"<p>Delete the module-info.java file in your project, It's only used if you're using Java's built-in module system.</p>\n<p>Hope that helps:)</p>\n"},{"tags":[],"owner":{"account_id":27426099,"reputation":11,"user_id":20923565,"display_name":"Ph&#249;ng Lem"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673859946,"creation_date":1673859946,"answer_id":75132097,"question_id":51543425,"body_markdown":"Step 1: Right Click your Project --&gt; move mouse to &quot;Build Path&quot; tab\r\nStep 2: Choice &quot;Configure Build Path&quot;\r\nStep 3: on tab &quot;Libraries&quot; and click &quot;Classpath&quot;. If &quot;Classpath&quot; is empty, it mean you still not add .jar and can&#39;t import ClassPathXmlApplicationContext.\r\nHow to:\r\n1. create a new folder equal level src. i suggest name folder is &quot;lib&quot;.\r\n2. Download .jar file and copy to folder lib.\r\n3. Follow step 3 above and click &quot;Add jar&quot; on right tab and choice .jar file on &quot;lib&quot; folder.\r\n4. Finish and enjoy!","title":"Cannot import ClassPathXmlApplicationContext","body":"<p>Step 1: Right Click your Project --&gt; move mouse to &quot;Build Path&quot; tab\nStep 2: Choice &quot;Configure Build Path&quot;\nStep 3: on tab &quot;Libraries&quot; and click &quot;Classpath&quot;. If &quot;Classpath&quot; is empty, it mean you still not add .jar and can't import ClassPathXmlApplicationContext.\nHow to:</p>\n<ol>\n<li>create a new folder equal level src. i suggest name folder is &quot;lib&quot;.</li>\n<li>Download .jar file and copy to folder lib.</li>\n<li>Follow step 3 above and click &quot;Add jar&quot; on right tab and choice .jar file on &quot;lib&quot; folder.</li>\n<li>Finish and enjoy!</li>\n</ol>\n"}],"owner":{"account_id":13789826,"reputation":192,"user_id":9952630,"display_name":"nvkvc"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9529,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":52354278,"answer_count":5,"score":4,"last_activity_date":1673859946,"creation_date":1532622022,"question_id":51543425,"body_markdown":"I learning Java Spring Framework by listening to\r\nthe &quot;Spring &amp; Hibernate for Beginners&quot; udemy course.\r\nI struggled while trying to\r\nimport **org.springframework.context.support.ClassPathXmlApplicationContext**;\r\n\r\nEclipse shows me the error:\r\n***ClassPathXmlApplicationContext cannot be resolved***\r\n\r\nThe author of the course to which I&#39;m listening is still not involving Maven\r\n(and pom.xml) because he is concentrating on\r\n&quot;pure&quot; Java and Spring in his course,\r\nso please don&#39;t direct me to use Maven for organizing the project.\r\n\r\nI added all jars from **spring-framework-5.0.2.RELEASE-dist** to my projects buildpath.\r\n\r\nThe funny thing is that when i do CTRL+Shift+O Eclipse automatically imports\r\nthe **org.springframework.context.support.ClassPathXmlApplicationContext** package,\r\nbut it shows error in import line (red line under **org**)\r\nand shows an error in my main function\r\non the line where I try to use context as:\r\n\r\n    ClassPathXmlApplicationContext context = \r\n    \t\tnew ClassPathXmlApplicationContext(&quot;applicationContext.xml&quot;);\r\n\r\nPlease help.","title":"Cannot import ClassPathXmlApplicationContext","body":"<p>I learning Java Spring Framework by listening to\nthe \"Spring &amp; Hibernate for Beginners\" udemy course.\nI struggled while trying to\nimport <strong>org.springframework.context.support.ClassPathXmlApplicationContext</strong>;</p>\n\n<p>Eclipse shows me the error:\n<strong><em>ClassPathXmlApplicationContext cannot be resolved</em></strong></p>\n\n<p>The author of the course to which I'm listening is still not involving Maven\n(and pom.xml) because he is concentrating on\n\"pure\" Java and Spring in his course,\nso please don't direct me to use Maven for organizing the project.</p>\n\n<p>I added all jars from <strong>spring-framework-5.0.2.RELEASE-dist</strong> to my projects buildpath.</p>\n\n<p>The funny thing is that when i do CTRL+Shift+O Eclipse automatically imports\nthe <strong>org.springframework.context.support.ClassPathXmlApplicationContext</strong> package,\nbut it shows error in import line (red line under <strong>org</strong>)\nand shows an error in my main function\non the line where I try to use context as:</p>\n\n<pre><code>ClassPathXmlApplicationContext context = \n        new ClassPathXmlApplicationContext(\"applicationContext.xml\");\n</code></pre>\n\n<p>Please help.</p>\n"},{"tags":["java","spring-boot","spring-mvc","null","prepared-statement"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1673861242,"post_id":75132096,"comment_id":132583717,"body_markdown":"*Following is the generated pstmt value:* You&#39;re seeing tha where exactly?","body":"<i>Following is the generated pstmt value:</i> You&#39;re seeing tha where exactly?"},{"owner":{"account_id":8099419,"reputation":53,"user_id":6102853,"display_name":"Hasan"},"score":0,"creation_date":1673861467,"post_id":75132096,"comment_id":132583804,"body_markdown":"in the debug variable","body":"in the debug variable"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1673861657,"post_id":75132096,"comment_id":132583880,"body_markdown":"Right, so that might be telling you that it can&#39;t display the null setting","body":"Right, so that might be telling you that it can&#39;t display the null setting"},{"owner":{"account_id":8099419,"reputation":53,"user_id":6102853,"display_name":"Hasan"},"score":0,"creation_date":1673862327,"post_id":75132096,"comment_id":132584111,"body_markdown":"Yes, you are correct, it will not display the null as a value!\nAnd I have just tested and it is inserting data without any error. \nBecause of other bugs, it was not inserted, I had fixed all the others and now all are working perfectly. I considered this a bug as well and wasted the last two days! \nThanks a lot for the clarification.","body":"Yes, you are correct, it will not display the null as a value! And I have just tested and it is inserting data without any error.  Because of other bugs, it was not inserted, I had fixed all the others and now all are working perfectly. I considered this a bug as well and wasted the last two days!  Thanks a lot for the clarification."}],"owner":{"account_id":8099419,"reputation":53,"user_id":6102853,"display_name":"Hasan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673859944,"creation_date":1673859944,"question_id":75132096,"body_markdown":"I am trying to insert null value using java prepared statement, Following is the Code: \r\n\r\n```\r\nVendorDto c; //as parameter\r\n\r\nPreparedStatement pstmt = null,\r\npstmt = con.prepareStatement(sqlString);\r\npstmt.setInt(1, cvID);\r\npstmt.setString(2, c.getFirstName());\r\npstmt.setString(3, c.getLastName());\r\nif(c.getDateInput()==null || c.getDateInput().trim().equals(&quot;&quot;)) {\r\n\tpstmt.setNull(4, Types.TIMESTAMP);\r\n  }else {\r\n\tpstmt.setDate(4, cinfo.string2date(c.getDateInput()));\r\n}\r\nint num = pstmt.executeUpdate();\r\n\r\n```\r\nFollowing is the generated pstmt value:\r\n```\r\ncom.mysql.cj.jdbc.ClientPreparedStatement: insert into bca_clientvendor(ClientVendorID, FirstName, LastName, DateInput)  values(911,&#39;ATM&#39;,&#39;Hasan&#39;,** BYTE ARRAY DATA **)\r\n```\r\nsetNull is returning the value ** BYTE ARRAY DATA **.\r\n\r\nI have checked all the other sections, and found that if I am trying to set the value for any data type to null it is returning ** BYTE ARRAY DATA **!!!\r\n\r\nPlease help, thanks in advance. \r\n\r\n","title":"Error while Inserting null value using Java Prepared Statement","body":"<p>I am trying to insert null value using java prepared statement, Following is the Code:</p>\n<pre><code>VendorDto c; //as parameter\n\nPreparedStatement pstmt = null,\npstmt = con.prepareStatement(sqlString);\npstmt.setInt(1, cvID);\npstmt.setString(2, c.getFirstName());\npstmt.setString(3, c.getLastName());\nif(c.getDateInput()==null || c.getDateInput().trim().equals(&quot;&quot;)) {\n    pstmt.setNull(4, Types.TIMESTAMP);\n  }else {\n    pstmt.setDate(4, cinfo.string2date(c.getDateInput()));\n}\nint num = pstmt.executeUpdate();\n\n</code></pre>\n<p>Following is the generated pstmt value:</p>\n<pre><code>com.mysql.cj.jdbc.ClientPreparedStatement: insert into bca_clientvendor(ClientVendorID, FirstName, LastName, DateInput)  values(911,'ATM','Hasan',** BYTE ARRAY DATA **)\n</code></pre>\n<p>setNull is returning the value ** BYTE ARRAY DATA **.</p>\n<p>I have checked all the other sections, and found that if I am trying to set the value for any data type to null it is returning ** BYTE ARRAY DATA **!!!</p>\n<p>Please help, thanks in advance.</p>\n"},{"tags":["java","arrays","json"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1673435099,"post_id":75082016,"comment_id":132496952,"body_markdown":"Do it in the exact same way. `jsonArr.getJSONObject(i)` is a `JSONObject`, if you call `getJSONArray(&quot;time&quot;)` on it, you get the `JSONArray` behind the `time` key.","body":"Do it in the exact same way. <code>jsonArr.getJSONObject(i)</code> is a <code>JSONObject</code>, if you call <code>getJSONArray(&quot;time&quot;)</code> on it, you get the <code>JSONArray</code> behind the <code>time</code> key."},{"owner":{"account_id":26662139,"reputation":45,"user_id":20274796,"display_name":"rsharma"},"score":0,"creation_date":1673435615,"post_id":75082016,"comment_id":132497137,"body_markdown":"You mean like this \nSystem.out.println(&quot;JSON Array : &quot;+jsonArr.getJSONObject(0).getJSONArray(&quot;time&quot;));","body":"You mean like this  System.out.println(&quot;JSON Array : &quot;+jsonArr.getJSONObject(0).getJSONArray(&quot;time&quot;));"},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1673436425,"post_id":75082016,"comment_id":132497465,"body_markdown":"yes. Have you tried it?","body":"yes. Have you tried it?"},{"owner":{"account_id":26662139,"reputation":45,"user_id":20274796,"display_name":"rsharma"},"score":0,"creation_date":1673437131,"post_id":75082016,"comment_id":132497703,"body_markdown":"Yes, I retrieved time array separately. Now I want label value from each iteration of time Array.","body":"Yes, I retrieved time array separately. Now I want label value from each iteration of time Array."},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1673440240,"post_id":75082016,"comment_id":132498639,"body_markdown":"Then iterate over the array. Your code alrady has a loop that iterates over an array. The code is right there, just use it.","body":"Then iterate over the array. Your code alrady has a loop that iterates over an array. The code is right there, just use it."}],"owner":{"account_id":26662139,"reputation":45,"user_id":20274796,"display_name":"rsharma"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":420,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1673859730,"creation_date":1673434947,"question_id":75082016,"body_markdown":"I have a problem in extracting JSONObject from Array. This is JSON response. I want to extract values from it. Now I have to read &quot;name&quot; property value from time JSONArray and label property value from &quot;Azure-Services&quot; JSONArray.\r\n\r\n    {\r\n      &quot;dimensions&quot;: [\r\n        {\r\n          &quot;time&quot;: [\r\n            {\r\n              &quot;name&quot;: &quot;total&quot;,\r\n              &quot;label&quot;: &quot;Total&quot;\r\n            },\r\n            {\r\n              &quot;excluded&quot;: false,\r\n              &quot;parent&quot;: -1,\r\n              &quot;name&quot;: &quot;2022-01&quot;,\r\n              &quot;direct&quot;: null,\r\n              &quot;populated&quot;: true,\r\n              &quot;label&quot;: &quot;2022-01&quot;,\r\n              &quot;sort_order&quot;: null,\r\n              &quot;extended&quot;: false\r\n            },\r\n            {\r\n              &quot;excluded&quot;: false,\r\n              &quot;parent&quot;: -1,\r\n              &quot;name&quot;: &quot;2022-02&quot;,\r\n              &quot;direct&quot;: null,\r\n              &quot;populated&quot;: true,\r\n              &quot;label&quot;: &quot;2022-02&quot;,\r\n              &quot;sort_order&quot;: null,\r\n              &quot;extended&quot;: false\r\n            },\r\n            {\r\n              &quot;excluded&quot;: false,\r\n              &quot;parent&quot;: -1,\r\n              &quot;name&quot;: &quot;2022-03&quot;,\r\n              &quot;direct&quot;: null,\r\n              &quot;populated&quot;: true,\r\n              &quot;label&quot;: &quot;2022-03&quot;,\r\n              &quot;sort_order&quot;: null,\r\n              &quot;extended&quot;: false\r\n            }\r\n          ]\r\n        },\r\n        {\r\n          &quot;Azure-Services&quot;: [\r\n            {\r\n              &quot;name&quot;: &quot;total&quot;,\r\n              &quot;label&quot;: &quot;Total&quot;\r\n            },\r\n            {\r\n              &quot;excluded&quot;: null,\r\n              &quot;parent&quot;: -1,\r\n              &quot;name&quot;: &quot;1700&quot;,\r\n              &quot;direct&quot;: null,\r\n              &quot;populated&quot;: null,\r\n              &quot;label&quot;: &quot;Marketplace&quot;,\r\n              &quot;sort_order&quot;: null,\r\n              &quot;extended&quot;: false\r\n            },\r\n            {\r\n              &quot;excluded&quot;: null,\r\n              &quot;parent&quot;: 0,\r\n              &quot;name&quot;: &quot;1701&quot;,\r\n              &quot;direct&quot;: false,\r\n              &quot;populated&quot;: null,\r\n              &quot;label&quot;: &quot;Marketplace&quot;,\r\n              &quot;sort_order&quot;: null,\r\n              &quot;extended&quot;: false\r\n            },\r\n            {\r\n              &quot;excluded&quot;: null,\r\n              &quot;parent&quot;: -1,\r\n              &quot;name&quot;: &quot;3000&quot;,\r\n              &quot;direct&quot;: null,\r\n              &quot;populated&quot;: null,\r\n              &quot;label&quot;: &quot;Storage&quot;,\r\n              &quot;sort_order&quot;: null,\r\n              &quot;extended&quot;: false\r\n            },\r\n            {\r\n              &quot;excluded&quot;: null,\r\n              &quot;parent&quot;: -1,\r\n              &quot;name&quot;: &quot;azure_other&quot;,\r\n              &quot;direct&quot;: null,\r\n              &quot;populated&quot;: null,\r\n              &quot;label&quot;: &quot;Other&quot;,\r\n              &quot;sort_order&quot;: null,\r\n              &quot;extended&quot;: false\r\n            }\r\n          ]\r\n        }\r\n      ]\r\n    }\r\n\r\nI want time and Azure-Services object separately. I tried this way:\r\n\r\n    JSONObject jsonObj = new JSONObject(reportData);\r\n    System.out.println(&quot;Json Object = &quot;+jsonObj);\r\n    JSONArray jsonArr = jsonObj.getJSONArray(&quot;dimensions&quot;);\r\n    System.out.println(&quot;Dimension array = &quot;+jsonArr); // dimensions object response is shown above\r\n    for(int i = 0; i &lt; jsonArr.length(); i++) {\r\n        System.out.println(&quot;JSON Array : &quot;+jsonArr.getJSONObject(i));;\r\n        // how to iterate in for loop to get time and azure services seperately.\r\n    }\r\n\r\nNow, I want to iterate time array and Azure-Services array object to get property&#39;s value.\r\n\r\nHow should I do that?","title":"How to extract values from JSONArray object from JSON response in java?","body":"<p>I have a problem in extracting JSONObject from Array. This is JSON response. I want to extract values from it. Now I have to read &quot;name&quot; property value from time JSONArray and label property value from &quot;Azure-Services&quot; JSONArray.</p>\n<pre><code>{\n  &quot;dimensions&quot;: [\n    {\n      &quot;time&quot;: [\n        {\n          &quot;name&quot;: &quot;total&quot;,\n          &quot;label&quot;: &quot;Total&quot;\n        },\n        {\n          &quot;excluded&quot;: false,\n          &quot;parent&quot;: -1,\n          &quot;name&quot;: &quot;2022-01&quot;,\n          &quot;direct&quot;: null,\n          &quot;populated&quot;: true,\n          &quot;label&quot;: &quot;2022-01&quot;,\n          &quot;sort_order&quot;: null,\n          &quot;extended&quot;: false\n        },\n        {\n          &quot;excluded&quot;: false,\n          &quot;parent&quot;: -1,\n          &quot;name&quot;: &quot;2022-02&quot;,\n          &quot;direct&quot;: null,\n          &quot;populated&quot;: true,\n          &quot;label&quot;: &quot;2022-02&quot;,\n          &quot;sort_order&quot;: null,\n          &quot;extended&quot;: false\n        },\n        {\n          &quot;excluded&quot;: false,\n          &quot;parent&quot;: -1,\n          &quot;name&quot;: &quot;2022-03&quot;,\n          &quot;direct&quot;: null,\n          &quot;populated&quot;: true,\n          &quot;label&quot;: &quot;2022-03&quot;,\n          &quot;sort_order&quot;: null,\n          &quot;extended&quot;: false\n        }\n      ]\n    },\n    {\n      &quot;Azure-Services&quot;: [\n        {\n          &quot;name&quot;: &quot;total&quot;,\n          &quot;label&quot;: &quot;Total&quot;\n        },\n        {\n          &quot;excluded&quot;: null,\n          &quot;parent&quot;: -1,\n          &quot;name&quot;: &quot;1700&quot;,\n          &quot;direct&quot;: null,\n          &quot;populated&quot;: null,\n          &quot;label&quot;: &quot;Marketplace&quot;,\n          &quot;sort_order&quot;: null,\n          &quot;extended&quot;: false\n        },\n        {\n          &quot;excluded&quot;: null,\n          &quot;parent&quot;: 0,\n          &quot;name&quot;: &quot;1701&quot;,\n          &quot;direct&quot;: false,\n          &quot;populated&quot;: null,\n          &quot;label&quot;: &quot;Marketplace&quot;,\n          &quot;sort_order&quot;: null,\n          &quot;extended&quot;: false\n        },\n        {\n          &quot;excluded&quot;: null,\n          &quot;parent&quot;: -1,\n          &quot;name&quot;: &quot;3000&quot;,\n          &quot;direct&quot;: null,\n          &quot;populated&quot;: null,\n          &quot;label&quot;: &quot;Storage&quot;,\n          &quot;sort_order&quot;: null,\n          &quot;extended&quot;: false\n        },\n        {\n          &quot;excluded&quot;: null,\n          &quot;parent&quot;: -1,\n          &quot;name&quot;: &quot;azure_other&quot;,\n          &quot;direct&quot;: null,\n          &quot;populated&quot;: null,\n          &quot;label&quot;: &quot;Other&quot;,\n          &quot;sort_order&quot;: null,\n          &quot;extended&quot;: false\n        }\n      ]\n    }\n  ]\n}\n</code></pre>\n<p>I want time and Azure-Services object separately. I tried this way:</p>\n<pre><code>JSONObject jsonObj = new JSONObject(reportData);\nSystem.out.println(&quot;Json Object = &quot;+jsonObj);\nJSONArray jsonArr = jsonObj.getJSONArray(&quot;dimensions&quot;);\nSystem.out.println(&quot;Dimension array = &quot;+jsonArr); // dimensions object response is shown above\nfor(int i = 0; i &lt; jsonArr.length(); i++) {\n    System.out.println(&quot;JSON Array : &quot;+jsonArr.getJSONObject(i));;\n    // how to iterate in for loop to get time and azure services seperately.\n}\n</code></pre>\n<p>Now, I want to iterate time array and Azure-Services array object to get property's value.</p>\n<p>How should I do that?</p>\n"},{"tags":["java","spring-boot","docker","apache-kafka","spring-kafka"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1673875752,"post_id":75131906,"comment_id":132588283,"body_markdown":"You need to use `ADVERTISED_LISTENERS: localhost:9092`. Otherwise, Spring won&#39;t work unless you **also** Dockerize it (which can be done in one commsnd, so I&#39;m not sure why you don&#39;t do that)","body":"You need to use <code>ADVERTISED_LISTENERS: localhost:9092</code>. Otherwise, Spring won&#39;t work unless you <b>also</b> Dockerize it (which can be done in one commsnd, so I&#39;m not sure why you don&#39;t do that)"}],"owner":{"account_id":14482834,"reputation":3894,"user_id":10461625,"display_name":"PatPanda"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1673875549,"answer_count":0,"score":0,"last_activity_date":1673858853,"creation_date":1673858853,"question_id":75131906,"body_markdown":"Small question regarding connecting a Spring Kafka application to a Dockerized Kafka please.\r\n\r\nThe code of the Dockerfile is:\r\n\r\n```\r\nversion: &quot;3.9&quot;\r\n\r\nservices:\r\n\r\n  kafka:\r\n    networks: [ &quot;mynetwork&quot; ]\r\n    container_name: kafka.mynetwork\r\n    hostname: kafka0\r\n    image: hexhex/kafka-kraft:0.0.10\r\n    environment:\r\n      ADVERTISED_LISTENERS: kafka0:9092\r\n    ports:\r\n      - 9092:9092\r\n\r\n  kafka-ui:\r\n    networks: [ &quot;mynetwork&quot; ]\r\n    container_name: kafka-ui.mynetwork\r\n    hostname: kafka-ui.mynetwork\r\n    image: provectuslabs/kafka-ui\r\n    ports:\r\n      - 8080:8080\r\n    environment:\r\n      - KAFKA_CLUSTERS_0_NAME=local\r\n      - KAFKA_CLUSTERS_0_BOOTSTRAPSERVERS=kafka0:9092\r\n    depends_on:\r\n      - kafka\r\n\r\nnetworks:\r\n  mynetwork:\r\n      name: mynetwork\r\n\r\n```\r\n\r\nI strongly believe the docker compose file, with its two services, are correct.\r\n\r\nI am able to connect to http://localhost:8080 and see the Kafka-UI. I can create topics, etc.\r\n\r\nI am able to use the consumer shell inside the kafka container to send and consume message.\r\n\r\nNow, I am having a Spring Kafka app, very straightforward, following an online tutorial:\r\n\r\nhttps://www.baeldung.com/spring-kafka\r\n\r\nwith the code:\r\n\r\n```\r\n@EnableKafka\r\n@Configuration\r\npublic class KafkaConsumerConfig {\r\n\r\n    @Bean\r\n    public ConsumerFactory&lt;String, Greeting&gt; greetingConsumerFactory() {\r\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\r\n        props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;localhost:9092&quot;);\r\n        props.put(ConsumerConfig.GROUP_ID_CONFIG, &quot;greeting&quot;);\r\n        props.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;earliest&quot;);\r\n        return new DefaultKafkaConsumerFactory&lt;&gt;(props, new StringDeserializer(), new JsonDeserializer&lt;&gt;(Greeting.class));\r\n    }\r\n\r\n    @Bean\r\n    public ConcurrentKafkaListenerContainerFactory&lt;String, Greeting&gt; greetingKafkaListenerContainerFactory() {\r\n        ConcurrentKafkaListenerContainerFactory&lt;String, Greeting&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\r\n        factory.setConsumerFactory(greetingConsumerFactory());\r\n        return factory;\r\n    }\r\n\r\n}\r\n```\r\n\r\n```\r\n@Configuration\r\npublic class KafkaProducerConfig {\r\n\r\n    @Bean\r\n    public ProducerFactory&lt;String, Greeting&gt; greetingProducerFactory() {\r\n        final Map&lt;String, Object&gt; configProps = Map.of(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;localhost:9092&quot;, ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class, ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, JsonSerializer.class);\r\n        return new DefaultKafkaProducerFactory&lt;&gt;(configProps);\r\n    }\r\n\r\n    @Bean\r\n    public KafkaTemplate&lt;String, Greeting&gt; greetingKafkaTemplate() {\r\n        return new KafkaTemplate&lt;&gt;(greetingProducerFactory());\r\n    }\r\n\r\n}\r\n```\r\n\r\n```\r\n@Service\r\npublic class KafkaConsumerService {\r\n\r\n    @KafkaListener(topics = &quot;greetingTopicName&quot;, groupId = &quot;groupId&quot;)\r\n    public void greetingListener(Greeting greeting) {\r\n        System.out.println(&quot;greeting &quot; + greeting);\r\n    }\r\n\r\n}\r\n```\r\n\r\n```\r\n\r\n@Service\r\npublic class KafKaProducerService {\r\n    private static final Logger logger = LoggerFactory.getLogger(KafKaProducerService.class);\r\n\r\n    @Autowired\r\n    private KafkaTemplate&lt;String, Greeting&gt; kafkaTemplate;\r\n\r\n    public void sendGreetingMessage(Greeting greeting) {\r\n        logger.info(String.format(&quot;Message sending -&gt; %s&quot;, greeting));\r\n        kafkaTemplate.send(&quot;greetingTopicName&quot;, greeting);\r\n        logger.info(String.format(&quot;Message sent -&gt; %s&quot;, greeting));\r\n    }\r\n\r\n}\r\n```\r\n\r\nFor the bootstrap server, I tried localhost:9092, http://localhost:9092, 0.0.0.0:9092, 127.0.0.1:9092, kafka0:9092 and unfortunately, all yields:\r\n\r\n```\r\nWARN 21172 --- [ntainer#0-0-C-1] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-groupId-1, groupId=groupId] Error connecting to node kafka0:9092 (id: 2147483646 rack: null)\r\n\r\njava.net.UnknownHostException: No such host is known (kafka0)\r\n```\r\n\r\nI am on windows using the latest docker.\r\n\r\nHere is the complete trace:\r\n\r\n```\r\nINFO 21172 --- [           main] o.a.k.clients.consumer.ConsumerConfig    : ConsumerConfig values: \r\n\tallow.auto.create.topics = true\r\n\tauto.commit.interval.ms = 5000\r\n\tauto.offset.reset = latest\r\n\tbootstrap.servers = [localhost:9092]\r\n\r\nWARN 21172 --- [ntainer#0-0-C-1] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-groupId-1, groupId=groupId] Error connecting to node kafka0:9092 (id: 2147483646 rack: null)\r\n\r\njava.net.UnknownHostException: No such host is known (kafka0)\r\n\tat java.base/java.net.Inet6AddressImpl.lookupAllHostAddr(Native Method) ~[na:na]\r\n\tat java.base/java.net.InetAddress$PlatformNameService.lookupAllHostAddr(InetAddress.java:933) ~[na:na]\r\n\tat java.base/java.net.InetAddress.getAddressesFromNameService(InetAddress.java:1529) ~[na:na]\r\n\tat java.base/java.net.InetAddress$NameServiceAddresses.get(InetAddress.java:852) ~[na:na]\r\n\tat java.base/java.net.InetAddress.getAllByName0(InetAddress.java:1519) ~[na:na]\r\n\tat java.base/java.net.InetAddress.getAllByName(InetAddress.java:1377) ~[na:na]\r\n\tat java.base/java.net.InetAddress.getAllByName(InetAddress.java:1305) ~[na:na]\r\n\tat org.apache.kafka.clients.DefaultHostResolver.resolve(DefaultHostResolver.java:27) ~[kafka-clients-3.3.1.jar:na]\r\n\tat org.apache.kafka.clients.ClientUtils.resolve(ClientUtils.java:110) ~[kafka-clients-3.3.1.jar:na]\r\n\tat org.apache.kafka.clients.ClusterConnectionStates$NodeConnectionState.currentAddress(ClusterConnectionStates.java:510) ~[kafka-clients-3.3.1.jar:na]\r\n\tat org.apache.kafka.clients.ClusterConnectionStates$NodeConnectionState.access$200(ClusterConnectionStates.java:467) ~[kafka-clients-3.3.1.jar:na]\r\n\tat org.apache.kafka.clients.ClusterConnectionStates.currentAddress(ClusterConnectionStates.java:173) ~[kafka-clients-3.3.1.jar:na]\r\n\tat org.apache.kafka.clients.NetworkClient.initiateConnect(NetworkClient.java:990) ~[kafka-clients-3.3.1.jar:na]\r\n\tat org.apache.kafka.clients.NetworkClient.ready(NetworkClient.java:301) ~[kafka-clients-3.3.1.jar:na]\r\n\tat org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.tryConnect(ConsumerNetworkClient.java:590) ~[kafka-clients-3.3.1.jar:na]\r\n\tat org.apache.kafka.clients.consumer.internals.AbstractCoordinator$FindCoordinatorResponseHandler.onSuccess(AbstractCoordinator.java:901) ~[kafka-clients-3.3.1.jar:na]\r\n\tat org.apache.kafka.clients.consumer.internals.AbstractCoordinator$FindCoordinatorResponseHandler.onSuccess(AbstractCoordinator.java:877) ~[kafka-clients-3.3.1.jar:na]\r\n\tat org.apache.kafka.clients.consumer.internals.RequestFuture$1.onSuccess(RequestFuture.java:206) ~[kafka-clients-3.3.1.jar:na]\r\n\tat org.apache.kafka.clients.consumer.internals.RequestFuture.fireSuccess(RequestFuture.java:169) ~[kafka-clients-3.3.1.jar:na]\r\n\tat org.apache.kafka.clients.consumer.internals.RequestFuture.complete(RequestFuture.java:129) ~[kafka-clients-3.3.1.jar:na]\r\n\tat org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient$RequestFutureCompletionHandler.fireCompletion(ConsumerNetworkClient.java:617) ~[kafka-clients-3.3.1.jar:na]\r\n\tat org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.firePendingCompletedRequests(ConsumerNetworkClient.java:427) ~[kafka-clients-3.3.1.jar:na]\r\n\tat org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:312) ~[kafka-clients-3.3.1.jar:na]\r\n\tat org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:230) ~[kafka-clients-3.3.1.jar:na]\r\n\tat org.apache.kafka.clients.consumer.internals.AbstractCoordinator.ensureCoordinatorReady(AbstractCoordinator.java:265) ~[kafka-clients-3.3.1.jar:na]\r\n\tat org.apache.kafka.clients.consumer.internals.AbstractCoordinator.ensureCoordinatorReady(AbstractCoordinator.java:240) ~[kafka-clients-3.3.1.jar:na]\r\n\tat org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.coordinatorUnknownAndUnreadySync(ConsumerCoordinator.java:492) ~[kafka-clients-3.3.1.jar:na]\r\n\tat org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.poll(ConsumerCoordinator.java:524) ~[kafka-clients-3.3.1.jar:na]\r\n\tat org.apache.kafka.clients.consumer.KafkaConsumer.updateAssignmentMetadataIfNeeded(KafkaConsumer.java:1276) ~[kafka-clients-3.3.1.jar:na]\r\n\tat org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1240) ~[kafka-clients-3.3.1.jar:na]\r\n\tat org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1220) ~[kafka-clients-3.3.1.jar:na]\r\n\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollConsumer(KafkaMessageListenerContainer.java:1665) ~[spring-kafka-3.0.0.jar:3.0.0]\r\n\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doPoll(KafkaMessageListenerContainer.java:1640) ~[spring-kafka-3.0.0.jar:3.0.0]\r\n\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1441) ~[spring-kafka-3.0.0.jar:3.0.0]\r\n\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1338) ~[spring-kafka-3.0.0.jar:3.0.0]\r\n\tat java.base/java.util.concurrent.CompletableFuture$AsyncRun.run(CompletableFuture.java:1804) ~[na:na]\r\n\tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n\r\nINFO 21172 --- [ntainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-groupId-1, groupId=groupId] (Re-)joining group\r\nWARN 21172 --- [ntainer#0-0-C-1] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-groupId-1, groupId=groupId] Error connecting to node kafka0:9092 (id: 2147483646 rack: null)\r\n\r\njava.net.UnknownHostException: kafka0\r\n```\r\n\r\nTo avoi confusions: It is a Spring Kafka app (not inside docker) running from laptop, trying to connect to kafka inside docker. \r\n\r\nIt is not a dockerized spring app trying to connect to a dockerized kafka, it is not a metal spring kafka app trying to connect to a metal kafka.\r\n\r\nThank you","title":"Spring Kafka from laptop to dockerized Kafka: Error connecting to node kafka0:9092 (id: 1 rack: null)","body":"<p>Small question regarding connecting a Spring Kafka application to a Dockerized Kafka please.</p>\n<p>The code of the Dockerfile is:</p>\n<pre><code>version: &quot;3.9&quot;\n\nservices:\n\n  kafka:\n    networks: [ &quot;mynetwork&quot; ]\n    container_name: kafka.mynetwork\n    hostname: kafka0\n    image: hexhex/kafka-kraft:0.0.10\n    environment:\n      ADVERTISED_LISTENERS: kafka0:9092\n    ports:\n      - 9092:9092\n\n  kafka-ui:\n    networks: [ &quot;mynetwork&quot; ]\n    container_name: kafka-ui.mynetwork\n    hostname: kafka-ui.mynetwork\n    image: provectuslabs/kafka-ui\n    ports:\n      - 8080:8080\n    environment:\n      - KAFKA_CLUSTERS_0_NAME=local\n      - KAFKA_CLUSTERS_0_BOOTSTRAPSERVERS=kafka0:9092\n    depends_on:\n      - kafka\n\nnetworks:\n  mynetwork:\n      name: mynetwork\n\n</code></pre>\n<p>I strongly believe the docker compose file, with its two services, are correct.</p>\n<p>I am able to connect to http://localhost:8080 and see the Kafka-UI. I can create topics, etc.</p>\n<p>I am able to use the consumer shell inside the kafka container to send and consume message.</p>\n<p>Now, I am having a Spring Kafka app, very straightforward, following an online tutorial:</p>\n<p><a href=\"https://www.baeldung.com/spring-kafka\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-kafka</a></p>\n<p>with the code:</p>\n<pre><code>@EnableKafka\n@Configuration\npublic class KafkaConsumerConfig {\n\n    @Bean\n    public ConsumerFactory&lt;String, Greeting&gt; greetingConsumerFactory() {\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\n        props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;localhost:9092&quot;);\n        props.put(ConsumerConfig.GROUP_ID_CONFIG, &quot;greeting&quot;);\n        props.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;earliest&quot;);\n        return new DefaultKafkaConsumerFactory&lt;&gt;(props, new StringDeserializer(), new JsonDeserializer&lt;&gt;(Greeting.class));\n    }\n\n    @Bean\n    public ConcurrentKafkaListenerContainerFactory&lt;String, Greeting&gt; greetingKafkaListenerContainerFactory() {\n        ConcurrentKafkaListenerContainerFactory&lt;String, Greeting&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n        factory.setConsumerFactory(greetingConsumerFactory());\n        return factory;\n    }\n\n}\n</code></pre>\n<pre><code>@Configuration\npublic class KafkaProducerConfig {\n\n    @Bean\n    public ProducerFactory&lt;String, Greeting&gt; greetingProducerFactory() {\n        final Map&lt;String, Object&gt; configProps = Map.of(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;localhost:9092&quot;, ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class, ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, JsonSerializer.class);\n        return new DefaultKafkaProducerFactory&lt;&gt;(configProps);\n    }\n\n    @Bean\n    public KafkaTemplate&lt;String, Greeting&gt; greetingKafkaTemplate() {\n        return new KafkaTemplate&lt;&gt;(greetingProducerFactory());\n    }\n\n}\n</code></pre>\n<pre><code>@Service\npublic class KafkaConsumerService {\n\n    @KafkaListener(topics = &quot;greetingTopicName&quot;, groupId = &quot;groupId&quot;)\n    public void greetingListener(Greeting greeting) {\n        System.out.println(&quot;greeting &quot; + greeting);\n    }\n\n}\n</code></pre>\n<pre><code>\n@Service\npublic class KafKaProducerService {\n    private static final Logger logger = LoggerFactory.getLogger(KafKaProducerService.class);\n\n    @Autowired\n    private KafkaTemplate&lt;String, Greeting&gt; kafkaTemplate;\n\n    public void sendGreetingMessage(Greeting greeting) {\n        logger.info(String.format(&quot;Message sending -&gt; %s&quot;, greeting));\n        kafkaTemplate.send(&quot;greetingTopicName&quot;, greeting);\n        logger.info(String.format(&quot;Message sent -&gt; %s&quot;, greeting));\n    }\n\n}\n</code></pre>\n<p>For the bootstrap server, I tried localhost:9092, http://localhost:9092, 0.0.0.0:9092, 127.0.0.1:9092, kafka0:9092 and unfortunately, all yields:</p>\n<pre><code>WARN 21172 --- [ntainer#0-0-C-1] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-groupId-1, groupId=groupId] Error connecting to node kafka0:9092 (id: 2147483646 rack: null)\n\njava.net.UnknownHostException: No such host is known (kafka0)\n</code></pre>\n<p>I am on windows using the latest docker.</p>\n<p>Here is the complete trace:</p>\n<pre><code>INFO 21172 --- [           main] o.a.k.clients.consumer.ConsumerConfig    : ConsumerConfig values: \n    allow.auto.create.topics = true\n    auto.commit.interval.ms = 5000\n    auto.offset.reset = latest\n    bootstrap.servers = [localhost:9092]\n\nWARN 21172 --- [ntainer#0-0-C-1] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-groupId-1, groupId=groupId] Error connecting to node kafka0:9092 (id: 2147483646 rack: null)\n\njava.net.UnknownHostException: No such host is known (kafka0)\n    at java.base/java.net.Inet6AddressImpl.lookupAllHostAddr(Native Method) ~[na:na]\n    at java.base/java.net.InetAddress$PlatformNameService.lookupAllHostAddr(InetAddress.java:933) ~[na:na]\n    at java.base/java.net.InetAddress.getAddressesFromNameService(InetAddress.java:1529) ~[na:na]\n    at java.base/java.net.InetAddress$NameServiceAddresses.get(InetAddress.java:852) ~[na:na]\n    at java.base/java.net.InetAddress.getAllByName0(InetAddress.java:1519) ~[na:na]\n    at java.base/java.net.InetAddress.getAllByName(InetAddress.java:1377) ~[na:na]\n    at java.base/java.net.InetAddress.getAllByName(InetAddress.java:1305) ~[na:na]\n    at org.apache.kafka.clients.DefaultHostResolver.resolve(DefaultHostResolver.java:27) ~[kafka-clients-3.3.1.jar:na]\n    at org.apache.kafka.clients.ClientUtils.resolve(ClientUtils.java:110) ~[kafka-clients-3.3.1.jar:na]\n    at org.apache.kafka.clients.ClusterConnectionStates$NodeConnectionState.currentAddress(ClusterConnectionStates.java:510) ~[kafka-clients-3.3.1.jar:na]\n    at org.apache.kafka.clients.ClusterConnectionStates$NodeConnectionState.access$200(ClusterConnectionStates.java:467) ~[kafka-clients-3.3.1.jar:na]\n    at org.apache.kafka.clients.ClusterConnectionStates.currentAddress(ClusterConnectionStates.java:173) ~[kafka-clients-3.3.1.jar:na]\n    at org.apache.kafka.clients.NetworkClient.initiateConnect(NetworkClient.java:990) ~[kafka-clients-3.3.1.jar:na]\n    at org.apache.kafka.clients.NetworkClient.ready(NetworkClient.java:301) ~[kafka-clients-3.3.1.jar:na]\n    at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.tryConnect(ConsumerNetworkClient.java:590) ~[kafka-clients-3.3.1.jar:na]\n    at org.apache.kafka.clients.consumer.internals.AbstractCoordinator$FindCoordinatorResponseHandler.onSuccess(AbstractCoordinator.java:901) ~[kafka-clients-3.3.1.jar:na]\n    at org.apache.kafka.clients.consumer.internals.AbstractCoordinator$FindCoordinatorResponseHandler.onSuccess(AbstractCoordinator.java:877) ~[kafka-clients-3.3.1.jar:na]\n    at org.apache.kafka.clients.consumer.internals.RequestFuture$1.onSuccess(RequestFuture.java:206) ~[kafka-clients-3.3.1.jar:na]\n    at org.apache.kafka.clients.consumer.internals.RequestFuture.fireSuccess(RequestFuture.java:169) ~[kafka-clients-3.3.1.jar:na]\n    at org.apache.kafka.clients.consumer.internals.RequestFuture.complete(RequestFuture.java:129) ~[kafka-clients-3.3.1.jar:na]\n    at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient$RequestFutureCompletionHandler.fireCompletion(ConsumerNetworkClient.java:617) ~[kafka-clients-3.3.1.jar:na]\n    at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.firePendingCompletedRequests(ConsumerNetworkClient.java:427) ~[kafka-clients-3.3.1.jar:na]\n    at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:312) ~[kafka-clients-3.3.1.jar:na]\n    at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:230) ~[kafka-clients-3.3.1.jar:na]\n    at org.apache.kafka.clients.consumer.internals.AbstractCoordinator.ensureCoordinatorReady(AbstractCoordinator.java:265) ~[kafka-clients-3.3.1.jar:na]\n    at org.apache.kafka.clients.consumer.internals.AbstractCoordinator.ensureCoordinatorReady(AbstractCoordinator.java:240) ~[kafka-clients-3.3.1.jar:na]\n    at org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.coordinatorUnknownAndUnreadySync(ConsumerCoordinator.java:492) ~[kafka-clients-3.3.1.jar:na]\n    at org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.poll(ConsumerCoordinator.java:524) ~[kafka-clients-3.3.1.jar:na]\n    at org.apache.kafka.clients.consumer.KafkaConsumer.updateAssignmentMetadataIfNeeded(KafkaConsumer.java:1276) ~[kafka-clients-3.3.1.jar:na]\n    at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1240) ~[kafka-clients-3.3.1.jar:na]\n    at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1220) ~[kafka-clients-3.3.1.jar:na]\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollConsumer(KafkaMessageListenerContainer.java:1665) ~[spring-kafka-3.0.0.jar:3.0.0]\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doPoll(KafkaMessageListenerContainer.java:1640) ~[spring-kafka-3.0.0.jar:3.0.0]\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1441) ~[spring-kafka-3.0.0.jar:3.0.0]\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1338) ~[spring-kafka-3.0.0.jar:3.0.0]\n    at java.base/java.util.concurrent.CompletableFuture$AsyncRun.run(CompletableFuture.java:1804) ~[na:na]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\n\nINFO 21172 --- [ntainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-groupId-1, groupId=groupId] (Re-)joining group\nWARN 21172 --- [ntainer#0-0-C-1] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-groupId-1, groupId=groupId] Error connecting to node kafka0:9092 (id: 2147483646 rack: null)\n\njava.net.UnknownHostException: kafka0\n</code></pre>\n<p>To avoi confusions: It is a Spring Kafka app (not inside docker) running from laptop, trying to connect to kafka inside docker.</p>\n<p>It is not a dockerized spring app trying to connect to a dockerized kafka, it is not a metal spring kafka app trying to connect to a metal kafka.</p>\n<p>Thank you</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1670223797,"post_id":74657306,"comment_id":131817433,"body_markdown":"And the question is? The server doesn&#39;t know anything about an aborted connection and just sends, that is the way HTTP works.","body":"And the question is? The server doesn&#39;t know anything about an aborted connection and just sends, that is the way HTTP works."},{"owner":{"account_id":22508363,"reputation":96,"user_id":16703627,"display_name":"dev4java"},"score":0,"creation_date":1670311914,"post_id":74657306,"comment_id":131840974,"body_markdown":"@M.Deinum Yes, but if we try to submit new request for downloads receiving 500 internal server error until streaming of failed request.","body":"@M.Deinum Yes, but if we try to submit new request for downloads receiving 500 internal server error until streaming of failed request."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1670314242,"post_id":74657306,"comment_id":131841597,"body_markdown":"Correct, because the server doesn&#39;t know until it flushes/commits the response, which can only be done in the end.","body":"Correct, because the server doesn&#39;t know until it flushes/commits the response, which can only be done in the end."},{"owner":{"account_id":22508363,"reputation":96,"user_id":16703627,"display_name":"dev4java"},"score":0,"creation_date":1670316972,"post_id":74657306,"comment_id":131842396,"body_markdown":"Spring boot (Java) Rest API is Stateless and also multi thread, so if one request (call request A) is failed it should not impact other request (call request B). Why Request B is receiving 500 error until Request A flushes/Commits","body":"Spring boot (Java) Rest API is Stateless and also multi thread, so if one request (call request A) is failed it should not impact other request (call request B). Why Request B is receiving 500 error until Request A flushes/Commits"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1670319564,"post_id":74657306,"comment_id":131843300,"body_markdown":"Because all threads are busy... It has nothing to do with state, but the fact that resources are in use. So if there is nothing left to take the resouce it will return a 500 because it eventually times out.","body":"Because all threads are busy... It has nothing to do with state, but the fact that resources are in use. So if there is nothing left to take the resouce it will return a 500 because it eventually times out."}],"answers":[{"tags":[],"owner":{"account_id":22508363,"reputation":96,"user_id":16703627,"display_name":"dev4java"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673858418,"creation_date":1673858418,"answer_id":75131833,"question_id":74657306,"body_markdown":"As per below link it is high recommended to use a TaskExecutor, I added singleton TaskExecutor at application level. \r\nhttps://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/mvc/method/annotation/StreamingResponseBody.html\r\n\r\nAlso I used ExecutorService &amp; CountDownLatch inside the Download api. When User cancels the download, capture that exception and then shutdownnow &amp; cancel all the futures\r\n\r\n        public BiConsumer&lt;OutputStream, JSONArray&gt; streamingResponseBodyBiConsumer = (responseStream,\r\n        \t\t\tarray) -&gt; {\r\n        \t\tList&lt;Future&lt;Boolean&gt;&gt; futures = null;\r\n        \t\tint limit = 100;\r\n        \t\tint noOfIterations = array.length() / limit;\r\n        \t\tint noOfConcurrentJobs = noOfIterations + 1;\r\n        \t\tExecutorService executorService = Executors.newSingleThreadExecutor();\r\n        \t\tfinal CountDownLatch countDownLatch = new CountDownLatch(noOfConcurrentJobs);\r\n        \t\tList&lt;Callable&lt;Boolean&gt;&gt; callables = new ArrayList&lt;Callable&lt;Boolean&gt;&gt;();\r\n        \t\t\r\n        \t\tfor (int i = 0; i &lt;= (noOfIterations); i++) {\r\n        \t\t\tint endIndex = 0;\r\n        \t\t\tint startIndex = i * limit;\r\n        \r\n        \t\t\tif (i &lt; array.length() / limit) {\r\n        \t\t\t\tendIndex = (i + 1) * limit;\r\n        \t\t\t} else {\r\n        \t\t\t\tendIndex = (array.length());\r\n        \t\t\t}\r\n        \t\t\tModel model = new Model(startIndex, endIndex);\r\n        \t\t\tcallables.add(() -&gt;/**stream data*/ streamData(array, responseStream, model,countDownLatch));\r\n        \t\t}\r\n        \t\t\r\n        \t\ttry {\r\n        \t\t\tfutures = executorService.invokeAll(callables);\r\n        \t\t\texecutorService.shutdown();\r\n        \t\t\tcountDownLatch.await();\r\n        \t\t} catch (Exception exception) {\r\n        \t\t\tlogger.error(&quot;Interrupted : {}&quot;, exception);\r\n        \t\t\tthrow exception;\r\n        \t\t} finally {\r\n        \t\t\ttry {\r\n        \t\t\t\tif (Objects.nonNull(executorService)) {\r\n        \t\t\t\t\tif (!executorService.isTerminated()) {\r\n        \t\t\t\t\t\texecutorService.shutdownNow();\r\n        \t\t\t\t\t}\r\n        \t\t\t\t}\r\n        \t\t\t} catch (Exception exception) {\r\n        \t\t\t\tlogger.error(&quot;Failed to shutdown executor service: {}&quot;, exception);\r\n        \t\t\t}\r\n        \t\t\ttry {\r\n        \t\t\t\tif (Objects.nonNull(futures)) {\r\n        \t\t\t\t\tfutures.stream().filter(future -&gt; {\r\n        \t\t\t\t\t\ttry {\r\n        \t\t\t\t\t\t\treturn !future.isDone() || future.get();\r\n        \t\t\t\t\t\t} catch (InterruptedException | ExecutionException e) {\r\n        \t\t\t\t\t\t\treturn !future.isDone();\r\n        \t\t\t\t\t\t}\r\n        \t\t\t\t\t}).map(future -&gt; future.cancel(true));\r\n        \t\t\t\t}\r\n        \t\t\t} catch (Exception exception) {\r\n        \t\t\t\tlogger.error(&quot;Failed to cancel future jobs: {}&quot;, exception);\r\n        \t\t\t}\r\n        \t\t}\r\n        \t\tif (responseStream != null) {\r\n        \t\t\ttry {\r\n        \t\t\t\tresponseStream.close();\r\n        \t\t\t} catch (IOException exception) {\r\n        \t\t\t\tlogger.error(&quot;Streaming failed : {}&quot;, exception);\r\n        \t\t\t}\r\n        \t\t}\r\n        \r\n        \t};\r\n    \r\n    public class Model {\r\n    \t\r\n    \tprivate Integer startIndex;\r\n    \tprivate Integer endIndex;\r\n    \t\r\n    \tpublic Model(Integer startIndex,Integer endIndex) {\r\n    \t\tthis.endIndex=endIndex;\r\n    \t\tthis.startIndex=startIndex;\r\n    \t}\r\n    \t/**\r\n    \t * @return the startIndex\r\n    \t */\r\n    \tpublic Integer getStartIndex() {\r\n    \t\treturn startIndex;\r\n    \t}\r\n    \t/**\r\n    \t * @return the endIndex\r\n    \t */\r\n    \tpublic Integer getEndIndex() {\r\n    \t\treturn endIndex;\r\n    \t}\r\n    }","title":"streamingresponsebody AsyncConfiguration hanging if clients cancels the request","body":"<p>As per below link it is high recommended to use a TaskExecutor, I added singleton TaskExecutor at application level.\n<a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/mvc/method/annotation/StreamingResponseBody.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/mvc/method/annotation/StreamingResponseBody.html</a></p>\n<p>Also I used ExecutorService &amp; CountDownLatch inside the Download api. When User cancels the download, capture that exception and then shutdownnow &amp; cancel all the futures</p>\n<pre><code>    public BiConsumer&lt;OutputStream, JSONArray&gt; streamingResponseBodyBiConsumer = (responseStream,\n                array) -&gt; {\n            List&lt;Future&lt;Boolean&gt;&gt; futures = null;\n            int limit = 100;\n            int noOfIterations = array.length() / limit;\n            int noOfConcurrentJobs = noOfIterations + 1;\n            ExecutorService executorService = Executors.newSingleThreadExecutor();\n            final CountDownLatch countDownLatch = new CountDownLatch(noOfConcurrentJobs);\n            List&lt;Callable&lt;Boolean&gt;&gt; callables = new ArrayList&lt;Callable&lt;Boolean&gt;&gt;();\n            \n            for (int i = 0; i &lt;= (noOfIterations); i++) {\n                int endIndex = 0;\n                int startIndex = i * limit;\n    \n                if (i &lt; array.length() / limit) {\n                    endIndex = (i + 1) * limit;\n                } else {\n                    endIndex = (array.length());\n                }\n                Model model = new Model(startIndex, endIndex);\n                callables.add(() -&gt;/**stream data*/ streamData(array, responseStream, model,countDownLatch));\n            }\n            \n            try {\n                futures = executorService.invokeAll(callables);\n                executorService.shutdown();\n                countDownLatch.await();\n            } catch (Exception exception) {\n                logger.error(&quot;Interrupted : {}&quot;, exception);\n                throw exception;\n            } finally {\n                try {\n                    if (Objects.nonNull(executorService)) {\n                        if (!executorService.isTerminated()) {\n                            executorService.shutdownNow();\n                        }\n                    }\n                } catch (Exception exception) {\n                    logger.error(&quot;Failed to shutdown executor service: {}&quot;, exception);\n                }\n                try {\n                    if (Objects.nonNull(futures)) {\n                        futures.stream().filter(future -&gt; {\n                            try {\n                                return !future.isDone() || future.get();\n                            } catch (InterruptedException | ExecutionException e) {\n                                return !future.isDone();\n                            }\n                        }).map(future -&gt; future.cancel(true));\n                    }\n                } catch (Exception exception) {\n                    logger.error(&quot;Failed to cancel future jobs: {}&quot;, exception);\n                }\n            }\n            if (responseStream != null) {\n                try {\n                    responseStream.close();\n                } catch (IOException exception) {\n                    logger.error(&quot;Streaming failed : {}&quot;, exception);\n                }\n            }\n    \n        };\n\npublic class Model {\n    \n    private Integer startIndex;\n    private Integer endIndex;\n    \n    public Model(Integer startIndex,Integer endIndex) {\n        this.endIndex=endIndex;\n        this.startIndex=startIndex;\n    }\n    /**\n     * @return the startIndex\n     */\n    public Integer getStartIndex() {\n        return startIndex;\n    }\n    /**\n     * @return the endIndex\n     */\n    public Integer getEndIndex() {\n        return endIndex;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":22508363,"reputation":96,"user_id":16703627,"display_name":"dev4java"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":565,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673858418,"creation_date":1669991261,"question_id":74657306,"body_markdown":"I have developed an Spring Boot application with below components. &quot;/download&quot; api is hanging if clients cancels the request, until all threads are completed. Also &quot;/download&quot; api will not accept  new request until all the tasks of cancelled thread completed, responding with 500 internalservererror without any details\r\n[![enter image description here][1]][1]\r\n```\r\nimport java.util.concurrent.Callable;\r\n\r\nimport org.slf4j.LoggerFactory;\r\nimport org.slf4j.Logger;\r\nimport org.springframework.aop.interceptor.AsyncUncaughtExceptionHandler;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.core.task.AsyncTaskExecutor;\r\nimport org.springframework.core.task.SimpleAsyncTaskExecutor;\r\nimport org.springframework.scheduling.annotation.AsyncConfigurer;\r\nimport org.springframework.scheduling.annotation.EnableAsync;\r\nimport org.springframework.scheduling.annotation.EnableScheduling;\r\nimport org.springframework.scheduling.concurrent.ConcurrentTaskExecutor;\r\nimport org.springframework.scheduling.concurrent.ThreadPoolTaskExecutor;\r\nimport org.springframework.web.context.request.NativeWebRequest;\r\nimport org.springframework.web.context.request.async.CallableProcessingInterceptor;\r\nimport org.springframework.web.context.request.async.TimeoutCallableProcessingInterceptor;\r\nimport org.springframework.web.servlet.config.annotation.AsyncSupportConfigurer;\r\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\r\n\r\n@Configuration\r\n@EnableAsync\r\n@EnableScheduling\r\npublic class AsyncConfiguration implements AsyncConfigurer {\r\n\r\n\tprivate static final Logger logger = LoggerFactory.getLogger(AsyncConfiguration.class);\r\n\r\n\t/** http request timeout value, 1 hour */\r\n\tint timeOutValue = 3600000;\r\n\r\n\t@Override\r\n\t@Bean(name = &quot;taskExecutor&quot;)\r\n\tpublic AsyncTaskExecutor getAsyncExecutor() {\r\n\t\t/** Create async thread pool */\r\n\t\tlogger.info(&quot;Creating Async Task Executor&quot;);\r\n\t\tThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();\r\n\t\texecutor.setCorePoolSize(5);\r\n\t\texecutor.setMaxPoolSize(10);\r\n\t\texecutor.setQueueCapacity(Integer.MAX_VALUE);\r\n\t\texecutor.setWaitForTasksToCompleteOnShutdown(true);\r\n\t\texecutor.setRejectedExecutionHandler(new AsyncRejectedExecutionHandler());\r\n\t\treturn executor;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic AsyncUncaughtExceptionHandler getAsyncUncaughtExceptionHandler() {\r\n\t\tlogger.error(&quot;Async Export blob UncaughtException&quot;);\r\n\t\treturn new PdngExceptionAsync();\r\n\t}\r\n\r\n\t/** Configure async support for Spring MVC. */\r\n\t@Bean\r\n\tpublic WebMvcConfigurer webMvcConfigurerConfigurer(AsyncTaskExecutor taskExecutor,\r\n\t\t\tCallableProcessingInterceptor callableProcessingInterceptor) {\r\n\t\treturn new WebMvcConfigurer() {\r\n\t\t\t@Override\r\n\t\t\tpublic void configureAsyncSupport(AsyncSupportConfigurer configurer) {\r\n\t\t\t\tconfigurer.setDefaultTimeout(timeOutValue).setTaskExecutor(taskExecutor);\r\n\t\t\t\tconfigurer.registerCallableInterceptors(callableProcessingInterceptor);\r\n\t\t\t\tWebMvcConfigurer.super.configureAsyncSupport(configurer);\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic CallableProcessingInterceptor callableProcessingInterceptor() {\r\n\t\treturn new TimeoutCallableProcessingInterceptor() {\r\n\t\t\t@Override\r\n\t\t\tpublic &lt;T&gt; Object handleTimeout(NativeWebRequest request, Callable&lt;T&gt; task) throws Exception {\r\n\t\t\t\t/** Throw exception if request time exceeds the timeOutValue */\r\n\t\t\t\tlogger.error(&quot;Export blob request timeout&quot;);\r\n\t\t\t\treturn super.handleTimeout(request, task);\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n}\r\n```\r\n```\r\n@GetMapping(path = &quot;/download&quot;)\r\npublic ResponseEntity&lt;StreamingResponseBody&gt; getBlobFile(\r\n\t\t\t@RequestHeader(value = TOKEN, required = false) String token, @RequestParam(&quot;id&quot;) String id)\r\n\t\t\tthrows PdngException, JsonMappingException, JsonProcessingException, IOException {\r\n\t\t\r\n\t\t/** Stream chunks by downloading chunks in batches */\r\n\t\tStreamingResponseBody responseBody = response -&gt; downloadService.streamingResponseBodyBiConsumer.accept(response,\r\n\t\t\t\tchunkids);\r\n\t\t\r\n\t\treturn ResponseEntity.ok().header(&quot;Content-disposition&quot;, &quot;attachment; filename=&quot; + id)\r\n\t\t\t\t.header(&quot;Content-type&quot;, &quot;application/octet-stream&quot;).body(responseBody);\r\n\t}\r\n```\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.5&lt;/version&gt;\r\n\t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n\t\t&lt;reactor-netty&gt;1.1.0&lt;/reactor-netty&gt;\r\n\t\t&lt;reactor-core&gt;3.5.0&lt;/reactor-core&gt;\r\n\t\t&lt;log4j&gt;[2.19.0,)&lt;/log4j&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- exclude junit 4 --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.skyscreamer&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;jsonassert&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- junit 5 --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- Logging --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;log4j-to-slf4j&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;log4j-to-slf4j&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${log4j}&lt;/version&gt;\r\n\t\t\t&lt;!--$NO-MVN-MAN-VER$ --&gt;\r\n\t\t\t&lt;!-- Please don&#39;t remove/degrade the version, possible for compatibility \r\n\t\t\t\tissues --&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${log4j}&lt;/version&gt;\r\n\t\t\t&lt;!--$NO-MVN-MAN-VER$ --&gt;\r\n\t\t\t&lt;!-- Please don&#39;t remove/degrade the version, possible for compatibility \r\n\t\t\t\tissues --&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.json&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;json&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;20220924&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jjwt&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.9.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.azure&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;azure-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.34.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.azure&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;azure-storage-blob&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;12.20.0&lt;/version&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;reactor-core&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.azure&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;azure-cosmos&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.38.1&lt;/version&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;io.projectreactor.netty&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;reactor-netty&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.6.11&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.11.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;reactor-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${reactor-core}&lt;/version&gt;\r\n\t\t\t&lt;!--$NO-MVN-MAN-VER$ --&gt;\r\n\t\t\t&lt;!-- Please don&#39;t remove/degrade the version, possible for compatibility \r\n\t\t\t\tissues --&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.projectreactor.netty&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;reactor-netty&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${reactor-netty}&lt;/version&gt;\r\n\t\t\t&lt;!--$NO-MVN-MAN-VER$ --&gt;\r\n\t\t\t&lt;!-- Please don&#39;t remove/degrade the version, possible for compatibility \r\n\t\t\t\tissues --&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.azure&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;azure-identity&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.7.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;httpclient&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.awaitility&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;awaitility&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.2.0&lt;/version&gt;&lt;!--$NO-MVN-MAN-VER$ --&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;repackage&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n```\r\n[2022-12-02T14:13:21.021Z] [org.springframework.security.web.FilterChainProxy] [http-nio-8080-exec-2] [218] [DEBUG] [] [] Securing GET /download?id=12345\r\n[2022-12-02T14:13:21.021Z] [org.springframework.security.web.context.SecurityContextPersistenceFilter] [http-nio-8080-exec-2] [104] [DEBUG] [] [] Set SecurityContextHolder to empty SecurityContext\r\n[2022-12-02T14:13:21.021Z] [org.springframework.security.web.authentication.AnonymousAuthenticationFilter] [http-nio-8080-exec-2] [100] [DEBUG] [] [] Set SecurityContextHolder to anonymous SecurityContext\r\n[2022-12-02T14:13:21.021Z] [org.springframework.security.web.FilterChainProxy$VirtualFilterChain] [http-nio-8080-exec-2] [333] [DEBUG] [] [] Secured GET /download?id=12345\r\n[2022-12-02T14:13:21.021Z] [org.springframework.core.log.LogFormatUtils] [http-nio-8080-exec-2] [119] [DEBUG] [] [] GET &quot;/download?id=12345&quot;, parameters={masked}\r\n[2022-12-02T14:13:21.021Z] [org.springframework.web.servlet.handler.AbstractHandlerMapping] [http-nio-8080-exec-2] [522] [DEBUG] [] [] Mapped to com.projectcontroller.DownloadController#getBlobFile(String, String)\r\n[2022-12-02T14:13:21.021Z] [com.projectcontroller.DownloadController] [http-nio-8080-exec-2] [111] [INFO ] [] [] getBlobFile(download/blob API) method called.\r\n[2022-12-02T14:13:21.021Z] [com.projectbusiness.TokenValidation] [http-nio-8080-exec-2] [140] [INFO ] [] [] validateAccessControl called.\r\n[2022-12-02T14:13:21.021Z] [com.projectbusiness.TokenValidation] [http-nio-8080-exec-2] [83] [INFO ] [] [] validateToken called.\r\n[2022-12-02T14:13:21.021Z] [com.projectbusiness.TokenValidation] [http-nio-8080-exec-2] [90] [DEBUG] [] [] Expiration: Fri Dec 02 16:10:58 GMT 2022\r\n[2022-12-02T14:13:21.021Z] [com.projectbusiness.TokenValidation] [http-nio-8080-exec-2] [126] [INFO ] [Random UUID] [ClientApi] validateToken completed.\r\n[2022-12-02T14:13:21.021Z] [com.projectdao.ClientApiLogDAO] [http-nio-8080-exec-2] [45] [INFO ] [Random UUID] [ClientApi] saveClientApiLog called.\r\n[2022-12-02T14:13:21.021Z] [com.projectdao.ClientApiLogDAO] [http-nio-8080-exec-2] [64] [INFO ] [Random UUID] [ClientApi] saveClientApiLog finished\r\n[2022-12-02T14:13:21.021Z] [com.projectbusiness.TokenValidation] [http-nio-8080-exec-2] [331] [INFO ] [Random UUID] [ClientApi] verifyAuthorization ended\r\n[2022-12-02T14:13:21.021Z] [com.projectbusiness.TokenValidation] [http-nio-8080-exec-2] [160] [INFO ] [Random UUID] [ClientApi] validateAccessControl completed.\r\n[2022-12-02T14:13:21.021Z] [com.projectservice.impl.DownloadServiceImpl] [http-nio-8080-exec-2] [63] [INFO ] [Random UUID] [ClientApi] chunkids called.\r\n[2022-12-02T14:13:21.021Z] [com.projectservice.impl.DownloadServiceImpl] [http-nio-8080-exec-2] [238] [INFO ] [Random UUID] [ClientApi] getStorageFile called\r\n[2022-12-02T14:13:21.021Z] [com.projectservice.impl.DownloadServiceImpl] [http-nio-8080-exec-2] [239] [DEBUG] [Random UUID] [ClientApi] getStorageFile called: fileName: 12345.json ,containerName: chunk-id\r\n[2022-12-02T14:13:22.022Z] [com.projectservice.impl.DownloadServiceImpl] [http-nio-8080-exec-2] [118] [INFO ] [Random UUID] [ClientApi] chunkids completed.\r\n[2022-12-02T14:13:22.022Z] [org.springframework.web.context.request.async.WebAsyncManager] [http-nio-8080-exec-2] [486] [DEBUG] [] [] Started async request\r\n[2022-12-02T14:13:22.022Z] [org.springframework.web.servlet.FrameworkServlet] [http-nio-8080-exec-2] [1107] [DEBUG] [] [] Exiting but response remains open for further handling\r\n[2022-12-02T14:13:22.022Z] [com.projectservice.impl.DownloadServiceImpl] [taskExecutor-1] [127] [INFO ] [] [] streamingResponseBodyBiConsumer called.\r\n[2022-12-02T14:13:22.022Z] [org.springframework.security.web.context.HttpSessionSecurityContextRepository$SaveToSessionResponseWrapper] [http-nio-8080-exec-2] [360] [DEBUG] [] [] Did not store anonymous SecurityContext\r\n[2022-12-02T14:13:22.022Z] [org.springframework.security.web.context.SecurityContextPersistenceFilter] [http-nio-8080-exec-2] [120] [DEBUG] [] [] Cleared SecurityContextHolder to complete request\r\n[2022-12-02T14:13:24.024Z] [com.projectservice.impl.DownloadServiceImpl] [taskExecutor-1] [358] [INFO ] [] [] getBlobDataMapFromChunkMap ended.\r\n[2022-12-02T14:13:27.027Z] [com.projectservice.impl.DownloadServiceImpl] [taskExecutor-1] [358] [INFO ] [] [] getBlobDataMapFromChunkMap ended.\r\n[2022-12-02T14:13:27.027Z] [org.springframework.web.context.request.async.WebAsyncManager] [http-nio-8080-exec-3] [319] [DEBUG] [] [] Async request error for /download/blob: java.io.IOException: Broken pipe\r\n[2022-12-02T14:13:27.027Z] [com.projectservice.impl.DownloadServiceImpl] [taskExecutor-1] [185] [ERROR] [] [] Chunk download failed for chunk, blob id:  ABCDE : {}\r\norg.apache.catalina.connector.ClientAbortException: java.io.IOException: Broken pipe\r\n        at org.apache.catalina.connector.OutputBuffer.realWriteBytes(OutputBuffer.java:353)\r\n        at org.apache.catalina.connector.OutputBuffer.appendByteArray(OutputBuffer.java:754)\r\n        at org.apache.catalina.connector.OutputBuffer.append(OutputBuffer.java:683)\r\n        at org.apache.catalina.connector.OutputBuffer.writeBytes(OutputBuffer.java:388)\r\n        at org.apache.catalina.connector.OutputBuffer.write(OutputBuffer.java:366)\r\n        at org.apache.catalina.connector.CoyoteOutputStream.write(CoyoteOutputStream.java:96)\r\n        at org.springframework.security.web.util.OnCommittedResponseWrapper$SaveContextServletOutputStream.write(OnCommittedResponseWrapper.java:638)\r\n        at org.springframework.security.web.util.OnCommittedResponseWrapper$SaveContextServletOutputStream.write(OnCommittedResponseWrapper.java:638)\r\n        at com.projectservice.impl.DownloadServiceImpl.lambda$new$0(DownloadServiceImpl.java:179)\r\n        at com.projectcontroller.DownloadController.lambda$getBlobFile$0(DownloadController.java:133)\r\n        at org.springframework.web.servlet.mvc.method.annotation.StreamingResponseBodyReturnValueHandler$StreamingResponseBodyTask.call(StreamingResponseBodyReturnValueHandler.java:111)\r\n        at org.springframework.web.servlet.mvc.method.annotation.StreamingResponseBodyReturnValueHandler$StreamingResponseBodyTask.call(StreamingResponseBodyReturnValueHandler.java:98)\r\n        at org.springframework.web.context.request.async.WebAsyncManager.lambda$startCallableProcessing$4(WebAsyncManager.java:337)\r\n        at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\r\n        at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n        at java.base/java.lang.Thread.run(Thread.java:834)\r\nCaused by: java.io.IOException: Broken pipe\r\n        at java.base/sun.nio.ch.FileDispatcherImpl.write0(Native Method)\r\n        at java.base/sun.nio.ch.SocketDispatcher.write(SocketDispatcher.java:47)\r\n        at java.base/sun.nio.ch.IOUtil.writeFromNativeBuffer(IOUtil.java:113)\r\n        at java.base/sun.nio.ch.IOUtil.write(IOUtil.java:79)\r\n        at java.base/sun.nio.ch.IOUtil.write(IOUtil.java:50)\r\n        at java.base/sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:466)\r\n        at org.apache.tomcat.util.net.NioChannel.write(NioChannel.java:135)\r\n        at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.doWrite(NioEndpoint.java:1424)\r\n        at org.apache.tomcat.util.net.SocketWrapperBase.doWrite(SocketWrapperBase.java:768)\r\n        at org.apache.tomcat.util.net.SocketWrapperBase.writeBlocking(SocketWrapperBase.java:593)\r\n        at org.apache.tomcat.util.net.SocketWrapperBase.write(SocketWrapperBase.java:537)\r\n        at org.apache.coyote.http11.Http11OutputBuffer$SocketOutputBuffer.doWrite(Http11OutputBuffer.java:547)\r\n        at org.apache.coyote.http11.filters.ChunkedOutputFilter.doWrite(ChunkedOutputFilter.java:112)\r\n        at org.apache.coyote.http11.Http11OutputBuffer.doWrite(Http11OutputBuffer.java:194)\r\n        at org.apache.coyote.Response.doWrite(Response.java:615)\r\n        at org.apache.catalina.connector.OutputBuffer.realWriteBytes(OutputBuffer.java:340)\r\n        ... 17 common frames omitted\r\n[2022-12-02T14:13:27.027Z] [org.springframework.web.context.request.async.WebAsyncManager] [http-nio-8080-exec-3] [399] [DEBUG] [] [] Async error, dispatch to /download/blob\r\n[2022-12-02T14:13:27.027Z] [com.projectutils.Utils] [taskExecutor-1] [431] [INFO ] [] [] getExceptionCode called : java.io.IOException: Broken pipe\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rIByU.png","title":"streamingresponsebody AsyncConfiguration hanging if clients cancels the request","body":"<p>I have developed an Spring Boot application with below components. &quot;/download&quot; api is hanging if clients cancels the request, until all threads are completed. Also &quot;/download&quot; api will not accept  new request until all the tasks of cancelled thread completed, responding with 500 internalservererror without any details\n<a href=\"https://i.stack.imgur.com/rIByU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rIByU.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>import java.util.concurrent.Callable;\n\nimport org.slf4j.LoggerFactory;\nimport org.slf4j.Logger;\nimport org.springframework.aop.interceptor.AsyncUncaughtExceptionHandler;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.core.task.AsyncTaskExecutor;\nimport org.springframework.core.task.SimpleAsyncTaskExecutor;\nimport org.springframework.scheduling.annotation.AsyncConfigurer;\nimport org.springframework.scheduling.annotation.EnableAsync;\nimport org.springframework.scheduling.annotation.EnableScheduling;\nimport org.springframework.scheduling.concurrent.ConcurrentTaskExecutor;\nimport org.springframework.scheduling.concurrent.ThreadPoolTaskExecutor;\nimport org.springframework.web.context.request.NativeWebRequest;\nimport org.springframework.web.context.request.async.CallableProcessingInterceptor;\nimport org.springframework.web.context.request.async.TimeoutCallableProcessingInterceptor;\nimport org.springframework.web.servlet.config.annotation.AsyncSupportConfigurer;\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\n\n@Configuration\n@EnableAsync\n@EnableScheduling\npublic class AsyncConfiguration implements AsyncConfigurer {\n\n    private static final Logger logger = LoggerFactory.getLogger(AsyncConfiguration.class);\n\n    /** http request timeout value, 1 hour */\n    int timeOutValue = 3600000;\n\n    @Override\n    @Bean(name = &quot;taskExecutor&quot;)\n    public AsyncTaskExecutor getAsyncExecutor() {\n        /** Create async thread pool */\n        logger.info(&quot;Creating Async Task Executor&quot;);\n        ThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();\n        executor.setCorePoolSize(5);\n        executor.setMaxPoolSize(10);\n        executor.setQueueCapacity(Integer.MAX_VALUE);\n        executor.setWaitForTasksToCompleteOnShutdown(true);\n        executor.setRejectedExecutionHandler(new AsyncRejectedExecutionHandler());\n        return executor;\n    }\n\n    @Override\n    public AsyncUncaughtExceptionHandler getAsyncUncaughtExceptionHandler() {\n        logger.error(&quot;Async Export blob UncaughtException&quot;);\n        return new PdngExceptionAsync();\n    }\n\n    /** Configure async support for Spring MVC. */\n    @Bean\n    public WebMvcConfigurer webMvcConfigurerConfigurer(AsyncTaskExecutor taskExecutor,\n            CallableProcessingInterceptor callableProcessingInterceptor) {\n        return new WebMvcConfigurer() {\n            @Override\n            public void configureAsyncSupport(AsyncSupportConfigurer configurer) {\n                configurer.setDefaultTimeout(timeOutValue).setTaskExecutor(taskExecutor);\n                configurer.registerCallableInterceptors(callableProcessingInterceptor);\n                WebMvcConfigurer.super.configureAsyncSupport(configurer);\n            }\n        };\n    }\n\n    @Bean\n    public CallableProcessingInterceptor callableProcessingInterceptor() {\n        return new TimeoutCallableProcessingInterceptor() {\n            @Override\n            public &lt;T&gt; Object handleTimeout(NativeWebRequest request, Callable&lt;T&gt; task) throws Exception {\n                /** Throw exception if request time exceeds the timeOutValue */\n                logger.error(&quot;Export blob request timeout&quot;);\n                return super.handleTimeout(request, task);\n            }\n        };\n    }\n}\n</code></pre>\n<pre><code>@GetMapping(path = &quot;/download&quot;)\npublic ResponseEntity&lt;StreamingResponseBody&gt; getBlobFile(\n            @RequestHeader(value = TOKEN, required = false) String token, @RequestParam(&quot;id&quot;) String id)\n            throws PdngException, JsonMappingException, JsonProcessingException, IOException {\n        \n        /** Stream chunks by downloading chunks in batches */\n        StreamingResponseBody responseBody = response -&gt; downloadService.streamingResponseBodyBiConsumer.accept(response,\n                chunkids);\n        \n        return ResponseEntity.ok().header(&quot;Content-disposition&quot;, &quot;attachment; filename=&quot; + id)\n                .header(&quot;Content-type&quot;, &quot;application/octet-stream&quot;).body(responseBody);\n    }\n</code></pre>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.5&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n        &lt;reactor-netty&gt;1.1.0&lt;/reactor-netty&gt;\n        &lt;reactor-core&gt;3.5.0&lt;/reactor-core&gt;\n        &lt;log4j&gt;[2.19.0,)&lt;/log4j&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;!-- exclude junit 4 --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.skyscreamer&lt;/groupId&gt;\n                    &lt;artifactId&gt;jsonassert&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;!-- junit 5 --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- Logging --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n                    &lt;artifactId&gt;log4j-to-slf4j&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-to-slf4j&lt;/artifactId&gt;\n            &lt;version&gt;${log4j}&lt;/version&gt;\n            &lt;!--$NO-MVN-MAN-VER$ --&gt;\n            &lt;!-- Please don't remove/degrade the version, possible for compatibility \n                issues --&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n                    &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n            &lt;version&gt;${log4j}&lt;/version&gt;\n            &lt;!--$NO-MVN-MAN-VER$ --&gt;\n            &lt;!-- Please don't remove/degrade the version, possible for compatibility \n                issues --&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.json&lt;/groupId&gt;\n            &lt;artifactId&gt;json&lt;/artifactId&gt;\n            &lt;version&gt;20220924&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt&lt;/artifactId&gt;\n            &lt;version&gt;0.9.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.azure&lt;/groupId&gt;\n            &lt;artifactId&gt;azure-core&lt;/artifactId&gt;\n            &lt;version&gt;1.34.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.azure&lt;/groupId&gt;\n            &lt;artifactId&gt;azure-storage-blob&lt;/artifactId&gt;\n            &lt;version&gt;12.20.0&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\n                    &lt;artifactId&gt;reactor-core&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.azure&lt;/groupId&gt;\n            &lt;artifactId&gt;azure-cosmos&lt;/artifactId&gt;\n            &lt;version&gt;4.38.1&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;io.projectreactor.netty&lt;/groupId&gt;\n                    &lt;artifactId&gt;reactor-netty&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n            &lt;version&gt;1.6.11&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-io&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n            &lt;version&gt;2.11.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\n            &lt;artifactId&gt;reactor-core&lt;/artifactId&gt;\n            &lt;version&gt;${reactor-core}&lt;/version&gt;\n            &lt;!--$NO-MVN-MAN-VER$ --&gt;\n            &lt;!-- Please don't remove/degrade the version, possible for compatibility \n                issues --&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.projectreactor.netty&lt;/groupId&gt;\n            &lt;artifactId&gt;reactor-netty&lt;/artifactId&gt;\n            &lt;version&gt;${reactor-netty}&lt;/version&gt;\n            &lt;!--$NO-MVN-MAN-VER$ --&gt;\n            &lt;!-- Please don't remove/degrade the version, possible for compatibility \n                issues --&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.azure&lt;/groupId&gt;\n            &lt;artifactId&gt;azure-identity&lt;/artifactId&gt;\n            &lt;version&gt;1.7.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n            &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.awaitility&lt;/groupId&gt;\n            &lt;artifactId&gt;awaitility&lt;/artifactId&gt;\n            &lt;version&gt;4.2.0&lt;/version&gt;&lt;!--$NO-MVN-MAN-VER$ --&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;repackage&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<pre><code>[2022-12-02T14:13:21.021Z] [org.springframework.security.web.FilterChainProxy] [http-nio-8080-exec-2] [218] [DEBUG] [] [] Securing GET /download?id=12345\n[2022-12-02T14:13:21.021Z] [org.springframework.security.web.context.SecurityContextPersistenceFilter] [http-nio-8080-exec-2] [104] [DEBUG] [] [] Set SecurityContextHolder to empty SecurityContext\n[2022-12-02T14:13:21.021Z] [org.springframework.security.web.authentication.AnonymousAuthenticationFilter] [http-nio-8080-exec-2] [100] [DEBUG] [] [] Set SecurityContextHolder to anonymous SecurityContext\n[2022-12-02T14:13:21.021Z] [org.springframework.security.web.FilterChainProxy$VirtualFilterChain] [http-nio-8080-exec-2] [333] [DEBUG] [] [] Secured GET /download?id=12345\n[2022-12-02T14:13:21.021Z] [org.springframework.core.log.LogFormatUtils] [http-nio-8080-exec-2] [119] [DEBUG] [] [] GET &quot;/download?id=12345&quot;, parameters={masked}\n[2022-12-02T14:13:21.021Z] [org.springframework.web.servlet.handler.AbstractHandlerMapping] [http-nio-8080-exec-2] [522] [DEBUG] [] [] Mapped to com.projectcontroller.DownloadController#getBlobFile(String, String)\n[2022-12-02T14:13:21.021Z] [com.projectcontroller.DownloadController] [http-nio-8080-exec-2] [111] [INFO ] [] [] getBlobFile(download/blob API) method called.\n[2022-12-02T14:13:21.021Z] [com.projectbusiness.TokenValidation] [http-nio-8080-exec-2] [140] [INFO ] [] [] validateAccessControl called.\n[2022-12-02T14:13:21.021Z] [com.projectbusiness.TokenValidation] [http-nio-8080-exec-2] [83] [INFO ] [] [] validateToken called.\n[2022-12-02T14:13:21.021Z] [com.projectbusiness.TokenValidation] [http-nio-8080-exec-2] [90] [DEBUG] [] [] Expiration: Fri Dec 02 16:10:58 GMT 2022\n[2022-12-02T14:13:21.021Z] [com.projectbusiness.TokenValidation] [http-nio-8080-exec-2] [126] [INFO ] [Random UUID] [ClientApi] validateToken completed.\n[2022-12-02T14:13:21.021Z] [com.projectdao.ClientApiLogDAO] [http-nio-8080-exec-2] [45] [INFO ] [Random UUID] [ClientApi] saveClientApiLog called.\n[2022-12-02T14:13:21.021Z] [com.projectdao.ClientApiLogDAO] [http-nio-8080-exec-2] [64] [INFO ] [Random UUID] [ClientApi] saveClientApiLog finished\n[2022-12-02T14:13:21.021Z] [com.projectbusiness.TokenValidation] [http-nio-8080-exec-2] [331] [INFO ] [Random UUID] [ClientApi] verifyAuthorization ended\n[2022-12-02T14:13:21.021Z] [com.projectbusiness.TokenValidation] [http-nio-8080-exec-2] [160] [INFO ] [Random UUID] [ClientApi] validateAccessControl completed.\n[2022-12-02T14:13:21.021Z] [com.projectservice.impl.DownloadServiceImpl] [http-nio-8080-exec-2] [63] [INFO ] [Random UUID] [ClientApi] chunkids called.\n[2022-12-02T14:13:21.021Z] [com.projectservice.impl.DownloadServiceImpl] [http-nio-8080-exec-2] [238] [INFO ] [Random UUID] [ClientApi] getStorageFile called\n[2022-12-02T14:13:21.021Z] [com.projectservice.impl.DownloadServiceImpl] [http-nio-8080-exec-2] [239] [DEBUG] [Random UUID] [ClientApi] getStorageFile called: fileName: 12345.json ,containerName: chunk-id\n[2022-12-02T14:13:22.022Z] [com.projectservice.impl.DownloadServiceImpl] [http-nio-8080-exec-2] [118] [INFO ] [Random UUID] [ClientApi] chunkids completed.\n[2022-12-02T14:13:22.022Z] [org.springframework.web.context.request.async.WebAsyncManager] [http-nio-8080-exec-2] [486] [DEBUG] [] [] Started async request\n[2022-12-02T14:13:22.022Z] [org.springframework.web.servlet.FrameworkServlet] [http-nio-8080-exec-2] [1107] [DEBUG] [] [] Exiting but response remains open for further handling\n[2022-12-02T14:13:22.022Z] [com.projectservice.impl.DownloadServiceImpl] [taskExecutor-1] [127] [INFO ] [] [] streamingResponseBodyBiConsumer called.\n[2022-12-02T14:13:22.022Z] [org.springframework.security.web.context.HttpSessionSecurityContextRepository$SaveToSessionResponseWrapper] [http-nio-8080-exec-2] [360] [DEBUG] [] [] Did not store anonymous SecurityContext\n[2022-12-02T14:13:22.022Z] [org.springframework.security.web.context.SecurityContextPersistenceFilter] [http-nio-8080-exec-2] [120] [DEBUG] [] [] Cleared SecurityContextHolder to complete request\n[2022-12-02T14:13:24.024Z] [com.projectservice.impl.DownloadServiceImpl] [taskExecutor-1] [358] [INFO ] [] [] getBlobDataMapFromChunkMap ended.\n[2022-12-02T14:13:27.027Z] [com.projectservice.impl.DownloadServiceImpl] [taskExecutor-1] [358] [INFO ] [] [] getBlobDataMapFromChunkMap ended.\n[2022-12-02T14:13:27.027Z] [org.springframework.web.context.request.async.WebAsyncManager] [http-nio-8080-exec-3] [319] [DEBUG] [] [] Async request error for /download/blob: java.io.IOException: Broken pipe\n[2022-12-02T14:13:27.027Z] [com.projectservice.impl.DownloadServiceImpl] [taskExecutor-1] [185] [ERROR] [] [] Chunk download failed for chunk, blob id:  ABCDE : {}\norg.apache.catalina.connector.ClientAbortException: java.io.IOException: Broken pipe\n        at org.apache.catalina.connector.OutputBuffer.realWriteBytes(OutputBuffer.java:353)\n        at org.apache.catalina.connector.OutputBuffer.appendByteArray(OutputBuffer.java:754)\n        at org.apache.catalina.connector.OutputBuffer.append(OutputBuffer.java:683)\n        at org.apache.catalina.connector.OutputBuffer.writeBytes(OutputBuffer.java:388)\n        at org.apache.catalina.connector.OutputBuffer.write(OutputBuffer.java:366)\n        at org.apache.catalina.connector.CoyoteOutputStream.write(CoyoteOutputStream.java:96)\n        at org.springframework.security.web.util.OnCommittedResponseWrapper$SaveContextServletOutputStream.write(OnCommittedResponseWrapper.java:638)\n        at org.springframework.security.web.util.OnCommittedResponseWrapper$SaveContextServletOutputStream.write(OnCommittedResponseWrapper.java:638)\n        at com.projectservice.impl.DownloadServiceImpl.lambda$new$0(DownloadServiceImpl.java:179)\n        at com.projectcontroller.DownloadController.lambda$getBlobFile$0(DownloadController.java:133)\n        at org.springframework.web.servlet.mvc.method.annotation.StreamingResponseBodyReturnValueHandler$StreamingResponseBodyTask.call(StreamingResponseBodyReturnValueHandler.java:111)\n        at org.springframework.web.servlet.mvc.method.annotation.StreamingResponseBodyReturnValueHandler$StreamingResponseBodyTask.call(StreamingResponseBodyReturnValueHandler.java:98)\n        at org.springframework.web.context.request.async.WebAsyncManager.lambda$startCallableProcessing$4(WebAsyncManager.java:337)\n        at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\n        at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n        at java.base/java.lang.Thread.run(Thread.java:834)\nCaused by: java.io.IOException: Broken pipe\n        at java.base/sun.nio.ch.FileDispatcherImpl.write0(Native Method)\n        at java.base/sun.nio.ch.SocketDispatcher.write(SocketDispatcher.java:47)\n        at java.base/sun.nio.ch.IOUtil.writeFromNativeBuffer(IOUtil.java:113)\n        at java.base/sun.nio.ch.IOUtil.write(IOUtil.java:79)\n        at java.base/sun.nio.ch.IOUtil.write(IOUtil.java:50)\n        at java.base/sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:466)\n        at org.apache.tomcat.util.net.NioChannel.write(NioChannel.java:135)\n        at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.doWrite(NioEndpoint.java:1424)\n        at org.apache.tomcat.util.net.SocketWrapperBase.doWrite(SocketWrapperBase.java:768)\n        at org.apache.tomcat.util.net.SocketWrapperBase.writeBlocking(SocketWrapperBase.java:593)\n        at org.apache.tomcat.util.net.SocketWrapperBase.write(SocketWrapperBase.java:537)\n        at org.apache.coyote.http11.Http11OutputBuffer$SocketOutputBuffer.doWrite(Http11OutputBuffer.java:547)\n        at org.apache.coyote.http11.filters.ChunkedOutputFilter.doWrite(ChunkedOutputFilter.java:112)\n        at org.apache.coyote.http11.Http11OutputBuffer.doWrite(Http11OutputBuffer.java:194)\n        at org.apache.coyote.Response.doWrite(Response.java:615)\n        at org.apache.catalina.connector.OutputBuffer.realWriteBytes(OutputBuffer.java:340)\n        ... 17 common frames omitted\n[2022-12-02T14:13:27.027Z] [org.springframework.web.context.request.async.WebAsyncManager] [http-nio-8080-exec-3] [399] [DEBUG] [] [] Async error, dispatch to /download/blob\n[2022-12-02T14:13:27.027Z] [com.projectutils.Utils] [taskExecutor-1] [431] [INFO ] [] [] getExceptionCode called : java.io.IOException: Broken pipe\n</code></pre>\n"},{"tags":["java","api","salesforce","apex"],"comments":[{"owner":{"account_id":120915,"reputation":18591,"user_id":313628,"display_name":"eyescream"},"score":0,"creation_date":1673852367,"post_id":75130046,"comment_id":132581480,"body_markdown":"https://json2apex.herokuapp.com/ is excellent for stuff like that","body":"<a href=\"https://json2apex.herokuapp.com/\" rel=\"nofollow noreferrer\">json2apex.herokuapp.com</a> is excellent for stuff like that"}],"answers":[{"tags":[],"owner":{"account_id":13542195,"reputation":139,"user_id":9769594,"display_name":"warmCabin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673845344,"creation_date":1673845344,"answer_id":75130385,"question_id":75130046,"body_markdown":"The main response object is an object with a &quot;Product_Catagories&quot; key that contains an array of individual categories. The features key in each category is a list as well. Your model should look something like this:\r\n\r\n```java\r\npublic class ProductCatagoriesResponse {\r\n    public List&lt;Product_Catagory&gt; Product_Catagories;\r\n}\r\n\r\npublic class Product_Catagory {\r\n    public String id;\r\n    public String name;\r\n    public String description;\r\n    public String region;\r\n    public String category; \r\n    public String productFamily;\r\n    public String relatedProducts;\r\n    public List&lt;POCProductfeature&gt; productfeatures;\r\n}\r\n\r\n...\r\n\r\nProductCatagoriesResponse cats = (ProductCatagoriesResponse)System.JSON.deserialize(res.getBody(), ProductCatagoriesResponse.class);\r\n```\r\n\r\nAlso, it&#39;s spelled &quot;category.&quot; But I&#39;m assuming that&#39;s their typo and you just have to deal with it...","title":"Salesforce External API not deserializing","body":"<p>The main response object is an object with a &quot;Product_Catagories&quot; key that contains an array of individual categories. The features key in each category is a list as well. Your model should look something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ProductCatagoriesResponse {\n    public List&lt;Product_Catagory&gt; Product_Catagories;\n}\n\npublic class Product_Catagory {\n    public String id;\n    public String name;\n    public String description;\n    public String region;\n    public String category; \n    public String productFamily;\n    public String relatedProducts;\n    public List&lt;POCProductfeature&gt; productfeatures;\n}\n\n...\n\nProductCatagoriesResponse cats = (ProductCatagoriesResponse)System.JSON.deserialize(res.getBody(), ProductCatagoriesResponse.class);\n</code></pre>\n<p>Also, it's spelled &quot;category.&quot; But I'm assuming that's their typo and you just have to deal with it...</p>\n"}],"owner":{"account_id":771818,"reputation":1169,"user_id":815104,"accept_rate":65,"display_name":"Hasan Zubairi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1673858311,"creation_date":1673840365,"question_id":75130046,"body_markdown":"I am relativly new to salesforce and apex programming. Recently I am assigned to get data from an external api. I am receiving an object which also has another object inside the main object. the data I am suppose to  receive is as follows\r\n```json\r\n{\r\n\t&quot;Product_Catagories&quot;: [{\r\n\t\t&quot;id&quot;: &quot;8ad08aef8534de220185400383d82def&quot;,\r\n\t\t&quot;name&quot;: &quot;Product One&quot;,\r\n\t\t&quot;description&quot;: &quot;Desc One&quot;,\r\n\t\t&quot;region&quot;: &quot;&quot;,\r\n\t\t&quot;category&quot;: &quot;Main Products&quot;,\r\n\t\t&quot;ProductFamily&quot;: &quot;Main&quot;,\r\n\t\t&quot;RelatedProducts&quot;: &quot;POC-B0000001&quot;,\r\n\t\t&quot;productfeatures&quot;: []\r\n\t}, {\r\n\t\t&quot;id&quot;: &quot;8ad0887e8534de2701853fff5a9b22ee&quot;,\r\n\t\t&quot;name&quot;: &quot;Product Two&quot;,\r\n\t\t&quot;description&quot;: &quot;Desc Two&quot;,\r\n\t\t&quot;region&quot;: &quot;&quot;,\r\n\t\t&quot;category&quot;: &quot;Main Products&quot;,\r\n\t\t&quot;ProductFamily&quot;: &quot;Main&quot;,\r\n\t\t&quot;RelatedProducts&quot;: &quot;POC-B0000002&quot;,\r\n\t\t&quot;productfeatures&quot;: []\r\n\t}, {\r\n\t\t&quot;id&quot;: &quot;8ad08aef8534de2201853ffe48fc08f6&quot;,\r\n\t\t&quot;name&quot;: &quot;Product Three&quot;,\r\n\t\t&quot;description&quot;: &quot;Desc Three&quot;,\r\n\t\t&quot;region&quot;: &quot;&quot;,\r\n\t\t&quot;category&quot;: &quot;Main Products&quot;,\r\n\t\t&quot;ProductFamily&quot;: &quot;Main&quot;,\r\n\t\t&quot;RelatedProducts&quot;: &quot;POC-B0000003&quot;,\r\n\t\t&quot;productfeatures&quot;: []\r\n\t}]\r\n}\r\n```\r\nbut i am getting \r\n\r\n`Product_Catagories:[category=null, description=null, id=null, name=null, productFamily=null, productfeatures=null, region=null, relatedProducts=null]`\r\n\r\nI have defined classes in apex code but the object is coming as empty. No data is showing. The code I am using is as follows\r\n\r\n    public class POCGetCategories {\r\n        \r\n        public static List&lt;Product_Catagories&gt; getPOCCats(){\r\n            \r\n            return new List&lt;Product_Catagories&gt;{getPOCProducts()};\r\n            \r\n        }\r\n        \r\n    \tpublic class Product_Catagories {\r\n    \t\tpublic String id;\r\n    \t\tpublic String name;\r\n    \t\tpublic String description;\r\n    \t\tpublic String region;\r\n    \t\tpublic String category; \r\n    \t\tpublic String productFamily;\r\n    \t\tpublic String relatedProducts;\r\n    \t\tpublic POCProductfeature productfeatures;\r\n    \t}\r\n    \r\n    \tpublic class POCProductfeature {\r\n    \t\tpublic String id;\r\n    \t\tpublic String name;\r\n    \t\tpublic String code;\r\n    \t\tpublic String status;\r\n    \t\tpublic String description;\r\n    \t}\r\n    \r\n        private static Product_Catagories getPOCProducts(){\r\n            \t\r\n            \tProduct_Catagories cats = new Product_Catagories();\r\n            \tHttp h = new Http();\r\n                \tString method = &#39;GET&#39;;\r\n                \tString url = &#39;https://externalapi&#39;;\r\n            \tHttpRequest req = new HttpRequest();\r\n    \r\n                \treq.setEndpoint(url);\r\n                \treq.setMethod(method);      \r\n                \treq.setTimeout(120000);\r\n                \treq.setHeader(&#39;Content-Type&#39;, &#39;application/jsson&#39;);\r\n                \treq.setHeader(&#39;subscription-Key&#39;,&#39;db163fc326d***&#39;);\r\n                \tHttpResponse res = h.send(req);\r\n            \tcats = (Product_Catagories)System.JSON.deserialize(res.getBody(), Product_Catagories.class);\r\n            \tsystem.debug(&#39;Data: &#39; + cats);\r\n            \treturn cats;\r\n        }\r\n    }","title":"Salesforce External API not deserializing","body":"<p>I am relativly new to salesforce and apex programming. Recently I am assigned to get data from an external api. I am receiving an object which also has another object inside the main object. the data I am suppose to  receive is as follows</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;Product_Catagories&quot;: [{\n        &quot;id&quot;: &quot;8ad08aef8534de220185400383d82def&quot;,\n        &quot;name&quot;: &quot;Product One&quot;,\n        &quot;description&quot;: &quot;Desc One&quot;,\n        &quot;region&quot;: &quot;&quot;,\n        &quot;category&quot;: &quot;Main Products&quot;,\n        &quot;ProductFamily&quot;: &quot;Main&quot;,\n        &quot;RelatedProducts&quot;: &quot;POC-B0000001&quot;,\n        &quot;productfeatures&quot;: []\n    }, {\n        &quot;id&quot;: &quot;8ad0887e8534de2701853fff5a9b22ee&quot;,\n        &quot;name&quot;: &quot;Product Two&quot;,\n        &quot;description&quot;: &quot;Desc Two&quot;,\n        &quot;region&quot;: &quot;&quot;,\n        &quot;category&quot;: &quot;Main Products&quot;,\n        &quot;ProductFamily&quot;: &quot;Main&quot;,\n        &quot;RelatedProducts&quot;: &quot;POC-B0000002&quot;,\n        &quot;productfeatures&quot;: []\n    }, {\n        &quot;id&quot;: &quot;8ad08aef8534de2201853ffe48fc08f6&quot;,\n        &quot;name&quot;: &quot;Product Three&quot;,\n        &quot;description&quot;: &quot;Desc Three&quot;,\n        &quot;region&quot;: &quot;&quot;,\n        &quot;category&quot;: &quot;Main Products&quot;,\n        &quot;ProductFamily&quot;: &quot;Main&quot;,\n        &quot;RelatedProducts&quot;: &quot;POC-B0000003&quot;,\n        &quot;productfeatures&quot;: []\n    }]\n}\n</code></pre>\n<p>but i am getting</p>\n<p><code>Product_Catagories:[category=null, description=null, id=null, name=null, productFamily=null, productfeatures=null, region=null, relatedProducts=null]</code></p>\n<p>I have defined classes in apex code but the object is coming as empty. No data is showing. The code I am using is as follows</p>\n<pre><code>public class POCGetCategories {\n    \n    public static List&lt;Product_Catagories&gt; getPOCCats(){\n        \n        return new List&lt;Product_Catagories&gt;{getPOCProducts()};\n        \n    }\n    \n    public class Product_Catagories {\n        public String id;\n        public String name;\n        public String description;\n        public String region;\n        public String category; \n        public String productFamily;\n        public String relatedProducts;\n        public POCProductfeature productfeatures;\n    }\n\n    public class POCProductfeature {\n        public String id;\n        public String name;\n        public String code;\n        public String status;\n        public String description;\n    }\n\n    private static Product_Catagories getPOCProducts(){\n            \n            Product_Catagories cats = new Product_Catagories();\n            Http h = new Http();\n                String method = 'GET';\n                String url = 'https://externalapi';\n            HttpRequest req = new HttpRequest();\n\n                req.setEndpoint(url);\n                req.setMethod(method);      \n                req.setTimeout(120000);\n                req.setHeader('Content-Type', 'application/jsson');\n                req.setHeader('subscription-Key','db163fc326d***');\n                HttpResponse res = h.send(req);\n            cats = (Product_Catagories)System.JSON.deserialize(res.getBody(), Product_Catagories.class);\n            system.debug('Data: ' + cats);\n            return cats;\n    }\n}\n</code></pre>\n"},{"tags":["java","string","list","loops","file"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1673742138,"post_id":75122168,"comment_id":132566460,"body_markdown":"Hello. What is `myTEXT` in `new Scanner(myTEXT);`? Note that `FileReader` which is set to read from `myTEXT.txt` file is named `FileReader scores`. Please use [edit] option and clarify/correct your question so we wouldn&#39;t waste your (and our) time on unrelated problems.","body":"Hello. What is <code>myTEXT</code> in <code>new Scanner(myTEXT);</code>? Note that <code>FileReader</code> which is set to read from <code>myTEXT.txt</code> file is named <code>FileReader scores</code>. Please use <a href=\"https://stackoverflow.com/posts/75122168/edit\">edit</a> option and clarify/correct your question so we wouldn&#39;t waste your (and our) time on unrelated problems."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":2,"creation_date":1673742377,"post_id":75122168,"comment_id":132566478,"body_markdown":"Anyway regarding `IndexOutOfBounds Exception: index 3 , Size 1` please carefully read your for loop. Note that in its first iteration you are adding *one* element to `TexttoList`, but immediately after that, you are trying to read value from position 3, which *doesn&#39;t exist* yet. Maybe you wanted to read it *after* your loop finished reading all data.","body":"Anyway regarding <code>IndexOutOfBounds Exception: index 3 , Size 1</code> please carefully read your for loop. Note that in its first iteration you are adding <i>one</i> element to <code>TexttoList</code>, but immediately after that, you are trying to read value from position 3, which <i>doesn&#39;t exist</i> yet. Maybe you wanted to read it <i>after</i> your loop finished reading all data."}],"answers":[{"tags":[],"owner":{"account_id":20980835,"reputation":46,"user_id":15415705,"display_name":"Moamen Hraden"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673858225,"creation_date":1673744137,"answer_id":75122312,"question_id":75122168,"body_markdown":"You can use the NIO API \r\n\r\nJava NIO (New IO) is an alternative IO API for Java\r\n```java\r\nvar list = Files.readString(Paths.get(&quot;myText.txt&quot;)).split(&quot;,\\\\s*&quot;); \r\n```\r\n\r\nCode explanation: \r\n\r\n- Files.readString()\r\n&gt; Reads all content from a file into a string, decoding from bytes to characters using the UTF-8 charset. The method ensures that the file is closed when all content have been read or an I/O error, or other runtime exception, is thrown.\r\n\r\n- Paths.get()\r\n&gt; Converts a path string, or a sequence of strings that when joined form a path string, to a Path\r\n\r\n- split(): split the content of the file (the returned string from the method `Files.readString`) and returns array of string.","title":"Convert Text File into List and Access elements of List using Index","body":"<p>You can use the NIO API</p>\n<p>Java NIO (New IO) is an alternative IO API for Java</p>\n<pre class=\"lang-java prettyprint-override\"><code>var list = Files.readString(Paths.get(&quot;myText.txt&quot;)).split(&quot;,\\\\s*&quot;); \n</code></pre>\n<p>Code explanation:</p>\n<ul>\n<li>Files.readString()</li>\n</ul>\n<blockquote>\n<p>Reads all content from a file into a string, decoding from bytes to characters using the UTF-8 charset. The method ensures that the file is closed when all content have been read or an I/O error, or other runtime exception, is thrown.</p>\n</blockquote>\n<ul>\n<li>Paths.get()</li>\n</ul>\n<blockquote>\n<p>Converts a path string, or a sequence of strings that when joined form a path string, to a Path</p>\n</blockquote>\n<ul>\n<li>split(): split the content of the file (the returned string from the method <code>Files.readString</code>) and returns array of string.</li>\n</ul>\n"}],"owner":{"account_id":25794556,"reputation":1,"user_id":19537996,"display_name":"antad"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673858225,"creation_date":1673741872,"question_id":75122168,"body_markdown":"I try several times to convert the text in a File into List and print some elements of the List according to reference index but I can&#39;t, it throws Index Out Of Bounds Exception: index 3 , Size 1\r\n\r\nis there any possible way to overcome the situation.\r\n\t\r\n\t\r\n\r\nmyTEXT.txt\r\n\t\r\n\tPETTY MIND,2023,IS,COMMING\r\n\t\r\nmy Code\r\n\r\n\tList&lt;String&gt; TexttoList = new ArrayList&lt;String&gt;();\r\n\t\t\r\n\t\tFileReader myTEXT = new FileReader(&quot;myTEXT.txt&quot;);\r\n\t\t\r\n\t\tScanner scanText = new Scanner(myTEXT);\r\n\t\tscanText.useDelimiter(&quot;,\\\\s*&quot;);\r\n\t\t\r\n\t\twhile(scanText.hasNext()) {\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tfor(int d = 0; d&lt;4; d++){\r\n\t\t\tTexttoList.add(d , scanText.next());\r\n\t\t\tSystem.out.println(TexttoList.get(3));\r\n\t\t\t//IndexOutOfBounds Exception: index 3 , Size 1\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\nit only prints First index(0) and return the entire text\r\n\r\n\t\tPETTY MIND\r\n\t\t2023\r\n\t\tIS\r\n\t\tCOMMING\r\n\t\t","title":"Convert Text File into List and Access elements of List using Index","body":"<p>I try several times to convert the text in a File into List and print some elements of the List according to reference index but I can't, it throws Index Out Of Bounds Exception: index 3 , Size 1</p>\n<p>is there any possible way to overcome the situation.</p>\n<p>myTEXT.txt</p>\n<pre><code>PETTY MIND,2023,IS,COMMING\n</code></pre>\n<p>my Code</p>\n<pre><code>List&lt;String&gt; TexttoList = new ArrayList&lt;String&gt;();\n    \n    FileReader myTEXT = new FileReader(&quot;myTEXT.txt&quot;);\n    \n    Scanner scanText = new Scanner(myTEXT);\n    scanText.useDelimiter(&quot;,\\\\s*&quot;);\n    \n    while(scanText.hasNext()) {\n        \n        \n        for(int d = 0; d&lt;4; d++){\n        TexttoList.add(d , scanText.next());\n        System.out.println(TexttoList.get(3));\n        //IndexOutOfBounds Exception: index 3 , Size 1\n        }\n    }\n    \n</code></pre>\n<p>it only prints First index(0) and return the entire text</p>\n<pre><code>    PETTY MIND\n    2023\n    IS\n    COMMING\n    \n</code></pre>\n"},{"tags":["java","design-patterns"],"comments":[{"owner":{"account_id":5523754,"reputation":19812,"user_id":4385913,"accept_rate":93,"display_name":"Skizo-ozS "},"score":0,"creation_date":1673856310,"post_id":75131462,"comment_id":132582378,"body_markdown":"What do you mean with &quot;I cannot change the classes AEvent and BEvent&quot;? You can not add attributes to those clases?","body":"What do you mean with &quot;I cannot change the classes AEvent and BEvent&quot;? You can not add attributes to those clases?"},{"owner":{"account_id":17910297,"reputation":1,"user_id":13012575,"display_name":"Anant Majhi"},"score":0,"creation_date":1673856794,"post_id":75131462,"comment_id":132582479,"body_markdown":"Yes I do not want to modify the already existing classes.","body":"Yes I do not want to modify the already existing classes."}],"answers":[{"tags":[],"owner":{"account_id":5523754,"reputation":19812,"user_id":4385913,"accept_rate":93,"display_name":"Skizo-ozS "},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673856640,"creation_date":1673856640,"answer_id":75131600,"question_id":75131462,"body_markdown":"There are a lot of ways to do this, if you want to use the `Observe Pattern` an example would be : \r\n\r\nYou create an `ObserverEvent` class \r\n\r\n```\r\nclass EventObserver {\r\n   private AEvent aEvent;\r\n   private BEvent bEvent;\r\n   public EventObserver(AEvent aEvent, BEvent bEvent) {\r\n       this.aEvent = aEvent;\r\n       this.bEvent = bEvent;\r\n       aEvent.setObserver(this);\r\n       bEvent.setObserver(this);\r\n   }\r\n\r\n   public void onEventCreated() {\r\n       if (aEvent.isAEventCreated &amp;&amp; bEvent.isBEventCreated) {\r\n           onBothEventsCreated();\r\n       }\r\n   }\r\n\r\n   public void onBothEventsCreated() {\r\n     //this method will be called when both events are created\r\n   }\r\n}\r\n```\r\n\r\n\r\nThen you need to adapt your classes to this : \r\n\r\n```\r\nclass BEvent {\r\n   private boolean isBEventCreated = false;\r\n   private EventObserver observer;\r\n   public void setObserver(EventObserver observer) {\r\n       this.observer = observer;\r\n   }\r\n   public void onBEventCreated() {\r\n       this.isBEventCreated = true;\r\n       observer.onEventCreated();\r\n   }\r\n}\r\n```\r\n\r\nAnd the same with AEvent.","title":"Designs Patterns?","body":"<p>There are a lot of ways to do this, if you want to use the <code>Observe Pattern</code> an example would be :</p>\n<p>You create an <code>ObserverEvent</code> class</p>\n<pre><code>class EventObserver {\n   private AEvent aEvent;\n   private BEvent bEvent;\n   public EventObserver(AEvent aEvent, BEvent bEvent) {\n       this.aEvent = aEvent;\n       this.bEvent = bEvent;\n       aEvent.setObserver(this);\n       bEvent.setObserver(this);\n   }\n\n   public void onEventCreated() {\n       if (aEvent.isAEventCreated &amp;&amp; bEvent.isBEventCreated) {\n           onBothEventsCreated();\n       }\n   }\n\n   public void onBothEventsCreated() {\n     //this method will be called when both events are created\n   }\n}\n</code></pre>\n<p>Then you need to adapt your classes to this :</p>\n<pre><code>class BEvent {\n   private boolean isBEventCreated = false;\n   private EventObserver observer;\n   public void setObserver(EventObserver observer) {\n       this.observer = observer;\n   }\n   public void onBEventCreated() {\n       this.isBEventCreated = true;\n       observer.onEventCreated();\n   }\n}\n</code></pre>\n<p>And the same with AEvent.</p>\n"}],"owner":{"account_id":17910297,"reputation":1,"user_id":13012575,"display_name":"Anant Majhi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673858200,"creation_date":1673855634,"question_id":75131462,"body_markdown":"I&#39;m trying to write a generic code. Here is my scenario.\r\n\r\n    class AEvent {\r\n    \r\n      public void onAEventCreate( A event){\r\n         //do something\r\n      }\r\n    \r\n    }\r\n\r\n    class BEvent {\r\n    \r\n       public void onBEventCreate (B event) {\r\n       //do something\r\n       }\r\n    \r\n    }\r\n\r\nI want to have some generic class which could do the operation of method onAEventCreate and onBEventCreate on one single method. Now the catch is I do not want to change the classes AEvent and BEvent . Is there a way I can listen to the two methods? or is there some kind of design pattern maybe like observer which can help me achieve this.","title":"Designs Patterns?","body":"<p>I'm trying to write a generic code. Here is my scenario.</p>\n<pre><code>class AEvent {\n\n  public void onAEventCreate( A event){\n     //do something\n  }\n\n}\n\nclass BEvent {\n\n   public void onBEventCreate (B event) {\n   //do something\n   }\n\n}\n</code></pre>\n<p>I want to have some generic class which could do the operation of method onAEventCreate and onBEventCreate on one single method. Now the catch is I do not want to change the classes AEvent and BEvent . Is there a way I can listen to the two methods? or is there some kind of design pattern maybe like observer which can help me achieve this.</p>\n"},{"tags":["java","user-interface","processing"],"owner":{"account_id":16309341,"reputation":1,"user_id":11778444,"display_name":"Yoyo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673857933,"creation_date":1673826388,"question_id":75129182,"body_markdown":"When changing anything in the GUI from the G4P GUI Builder tool, the program always crashes with a NullPointerException in 2 - 5 minutes and does not highlight the problematic line of code.\r\nThe GUI is part of a larger program which simulates a Magnifying Glass setting material on fire:\r\n\r\n[1]:https://i.stack.imgur.com/nLTWC.jpg\r\n\r\n![1]\r\n\r\nThe error:\r\n\r\n```\r\nNullPointerException\r\nNullPointerException\r\nNullPointerException\r\nNullPointerException\r\njava.lang.NullPointerException\r\n\tat g4p_controls.StyledString.getLines(Unknown Source)\r\n\tat g4p_controls.GLabel.updateBuffer(Unknown Source)\r\n\tat g4p_controls.GLabel.draw(Unknown Source)\r\n\tat g4p_controls.GWindowAWT.draw(Unknown Source)\r\n\tat processing.core.PApplet.handleDraw(PApplet.java:2482)\r\n\tat processing.awt.PSurfaceAWT$12.callDraw(PSurfaceAWT.java:1547)\r\n\tat processing.core.PSurfaceNone$AnimationThread.run(PSurfaceNone.java:313)\r\nNullPointerException\r\n===================================================\r\n   G4P GUI Builder 4.4.2 created by Peter Lager\r\n===================================================\r\nCould not run the sketch (Target VM failed to initialize).\r\nFor more information, read revisions.txt and Help ? Troubleshooting.\r\n\r\n```\r\n\r\n\r\n\r\nCode section for GUI Event Handlers:\r\n\r\n\r\n```\r\npublic void pauseButtonClicked(GButton source, GEvent event) { //_CODE_:pauseButton:875606:\r\n  // If the program is running, stop \r\n  if(running) {\r\n    running = !running;\r\n    noLoop();\r\n    pauseButton.setText(&quot;Resume&quot;);\r\n  }\r\n  \r\n  // If the program is paused, run\r\n  else {\r\n    running = !running;\r\n    loop();\r\n    pauseButton.setText(&quot;Pause&quot;);\r\n  }\r\n} //_CODE_:pauseButton:875606:\r\n\r\npublic void massSliderChanged(GCustomSlider source, GEvent event) { //_CODE_:massSlider:958855:\r\n  println(&quot;massSlider - GCustomSlider &gt;&gt; GEvent.&quot; + event + &quot; @ &quot; + millis());\r\n} //_CODE_:massSlider:958855:\r\n\r\npublic void focalDistanceSliderChanged(GCustomSlider source, GEvent event) { //_CODE_:focalDistanceSlider:299666:\r\n  \r\n} //_CODE_:focalDistanceSlider:299666:\r\n\r\npublic void xPositionSliderChanged(GCustomSlider source, GEvent event) { //_CODE_:xPositionSlider:537864:\r\n  println(&quot;xPositionSlider - GCustomSlider &gt;&gt; GEvent.&quot; + event + &quot; @ &quot; + millis());\r\n} //_CODE_:xPositionSlider:537864:\r\n\r\npublic void yPositionSliderChanged(GCustomSlider source, GEvent event) { //_CODE_:yPositionSlider:494398:\r\n  println(&quot;yPositionSlider - GCustomSlider &gt;&gt; GEvent.&quot; + event + &quot; @ &quot; + millis());\r\n} //_CODE_:yPositionSlider:494398:\r\n\r\npublic void beamIntensitySliderChanged(GCustomSlider source, GEvent event) { //_CODE_:beamIntensitySlider:967979:\r\n  float num = beamIntensitySlider.getValueF();\r\n  \r\n  if(num &gt; 0.1 &amp;&amp; num &lt; 2 ) {\r\n    material.beamIntensity = num;\r\n  }\r\n} //_CODE_:beamIntensitySlider:967979:\r\n\r\npublic void materialChoiceClicked(GDropList source, GEvent event) { //_CODE_:materialChoice:221684:\r\n  if (materialChoice.getSelectedText().equals(&quot;Ant&quot;)) {\r\n    currentMaterial = &quot;ant&quot;;\r\n  }\r\n  \r\n  else if (materialChoice.getSelectedText().equals(&quot;Paper&quot;)) {\r\n    currentMaterial = &quot;paper&quot;;\r\n  }\r\n  \r\n  else if (materialChoice.getSelectedText().equals(&quot;Grass&quot;)) {\r\n    currentMaterial = &quot;grass&quot;;\r\n  }\r\n  \r\n  else {\r\n    currentMaterial = &quot;wood&quot;;\r\n  }\r\n  \r\n  reset();\r\n} //_CODE_:materialChoice:221684:\r\n\r\npublic void glassQualityChanged(GDropList source, GEvent event) { //_CODE_:glassQuality:419836:\r\n  if (glassQuality.getSelectedText().equals(&quot;Clear&quot;)) {\r\n    magnifyingGlass.lensQuality = &quot;Clear&quot;;\r\n    magnifyingGlass.transparency = 1;\r\n  }\r\n  \r\n  else if (glassQuality.getSelectedText().equals(&quot;Impurities&quot;)) {\r\n    magnifyingGlass.lensQuality = &quot;Impurities&quot;;\r\n    magnifyingGlass.transparency = 0.75;\r\n  }\r\n  \r\n  else if (glassQuality.getSelectedText().equals(&quot;Dirty&quot;)) {\r\n    magnifyingGlass.lensQuality = &quot;Dirty&quot;;\r\n    magnifyingGlass.transparency = 0.5;\r\n  }\r\n} //_CODE_:glassQuality:419836:\r\n\r\npublic void temperatureSliderChanged(GSlider source, GEvent event) { //_CODE_:temperatureSlider:230192:\r\n  surroundingTemperature = temperatureSlider.getValueI();\r\n  currentTemperature.setText(str(surroundingTemperature));\r\n  reset();\r\n  println(&quot;slider1 - GSlider &gt;&gt; GEvent.&quot; + event + &quot; @ &quot; + millis());\r\n} //_CODE_:temperatureSlider:230192:\r\n```\r\n\r\n\r\nWhat is the most efficient fix if we must stick to the G4P GUI builder?\r\n\r\n\r\nWe tried:\r\n* following solutions found in online forums e.g. use a slider instead of a textbox\r\n* defining all variables used in the program\r\n* using try-catch statements\r\n* recreating the GUI in the latest version of Processing\r\n\r\nbut there were no changes from the error.","title":"Removing an unhighlighted NullPointerException caused by G4P GUI Builder in Processing?","body":"<p>When changing anything in the GUI from the G4P GUI Builder tool, the program always crashes with a NullPointerException in 2 - 5 minutes and does not highlight the problematic line of code.\nThe GUI is part of a larger program which simulates a Magnifying Glass setting material on fire:</p>\n<p><img src=\"https://i.stack.imgur.com/nLTWC.jpg\" alt=\"1\" /></p>\n<p>The error:</p>\n<pre><code>NullPointerException\nNullPointerException\nNullPointerException\nNullPointerException\njava.lang.NullPointerException\n    at g4p_controls.StyledString.getLines(Unknown Source)\n    at g4p_controls.GLabel.updateBuffer(Unknown Source)\n    at g4p_controls.GLabel.draw(Unknown Source)\n    at g4p_controls.GWindowAWT.draw(Unknown Source)\n    at processing.core.PApplet.handleDraw(PApplet.java:2482)\n    at processing.awt.PSurfaceAWT$12.callDraw(PSurfaceAWT.java:1547)\n    at processing.core.PSurfaceNone$AnimationThread.run(PSurfaceNone.java:313)\nNullPointerException\n===================================================\n   G4P GUI Builder 4.4.2 created by Peter Lager\n===================================================\nCould not run the sketch (Target VM failed to initialize).\nFor more information, read revisions.txt and Help ? Troubleshooting.\n\n</code></pre>\n<p>Code section for GUI Event Handlers:</p>\n<pre><code>public void pauseButtonClicked(GButton source, GEvent event) { //_CODE_:pauseButton:875606:\n  // If the program is running, stop \n  if(running) {\n    running = !running;\n    noLoop();\n    pauseButton.setText(&quot;Resume&quot;);\n  }\n  \n  // If the program is paused, run\n  else {\n    running = !running;\n    loop();\n    pauseButton.setText(&quot;Pause&quot;);\n  }\n} //_CODE_:pauseButton:875606:\n\npublic void massSliderChanged(GCustomSlider source, GEvent event) { //_CODE_:massSlider:958855:\n  println(&quot;massSlider - GCustomSlider &gt;&gt; GEvent.&quot; + event + &quot; @ &quot; + millis());\n} //_CODE_:massSlider:958855:\n\npublic void focalDistanceSliderChanged(GCustomSlider source, GEvent event) { //_CODE_:focalDistanceSlider:299666:\n  \n} //_CODE_:focalDistanceSlider:299666:\n\npublic void xPositionSliderChanged(GCustomSlider source, GEvent event) { //_CODE_:xPositionSlider:537864:\n  println(&quot;xPositionSlider - GCustomSlider &gt;&gt; GEvent.&quot; + event + &quot; @ &quot; + millis());\n} //_CODE_:xPositionSlider:537864:\n\npublic void yPositionSliderChanged(GCustomSlider source, GEvent event) { //_CODE_:yPositionSlider:494398:\n  println(&quot;yPositionSlider - GCustomSlider &gt;&gt; GEvent.&quot; + event + &quot; @ &quot; + millis());\n} //_CODE_:yPositionSlider:494398:\n\npublic void beamIntensitySliderChanged(GCustomSlider source, GEvent event) { //_CODE_:beamIntensitySlider:967979:\n  float num = beamIntensitySlider.getValueF();\n  \n  if(num &gt; 0.1 &amp;&amp; num &lt; 2 ) {\n    material.beamIntensity = num;\n  }\n} //_CODE_:beamIntensitySlider:967979:\n\npublic void materialChoiceClicked(GDropList source, GEvent event) { //_CODE_:materialChoice:221684:\n  if (materialChoice.getSelectedText().equals(&quot;Ant&quot;)) {\n    currentMaterial = &quot;ant&quot;;\n  }\n  \n  else if (materialChoice.getSelectedText().equals(&quot;Paper&quot;)) {\n    currentMaterial = &quot;paper&quot;;\n  }\n  \n  else if (materialChoice.getSelectedText().equals(&quot;Grass&quot;)) {\n    currentMaterial = &quot;grass&quot;;\n  }\n  \n  else {\n    currentMaterial = &quot;wood&quot;;\n  }\n  \n  reset();\n} //_CODE_:materialChoice:221684:\n\npublic void glassQualityChanged(GDropList source, GEvent event) { //_CODE_:glassQuality:419836:\n  if (glassQuality.getSelectedText().equals(&quot;Clear&quot;)) {\n    magnifyingGlass.lensQuality = &quot;Clear&quot;;\n    magnifyingGlass.transparency = 1;\n  }\n  \n  else if (glassQuality.getSelectedText().equals(&quot;Impurities&quot;)) {\n    magnifyingGlass.lensQuality = &quot;Impurities&quot;;\n    magnifyingGlass.transparency = 0.75;\n  }\n  \n  else if (glassQuality.getSelectedText().equals(&quot;Dirty&quot;)) {\n    magnifyingGlass.lensQuality = &quot;Dirty&quot;;\n    magnifyingGlass.transparency = 0.5;\n  }\n} //_CODE_:glassQuality:419836:\n\npublic void temperatureSliderChanged(GSlider source, GEvent event) { //_CODE_:temperatureSlider:230192:\n  surroundingTemperature = temperatureSlider.getValueI();\n  currentTemperature.setText(str(surroundingTemperature));\n  reset();\n  println(&quot;slider1 - GSlider &gt;&gt; GEvent.&quot; + event + &quot; @ &quot; + millis());\n} //_CODE_:temperatureSlider:230192:\n</code></pre>\n<p>What is the most efficient fix if we must stick to the G4P GUI builder?</p>\n<p>We tried:</p>\n<ul>\n<li>following solutions found in online forums e.g. use a slider instead of a textbox</li>\n<li>defining all variables used in the program</li>\n<li>using try-catch statements</li>\n<li>recreating the GUI in the latest version of Processing</li>\n</ul>\n<p>but there were no changes from the error.</p>\n"},{"tags":["java","eclipse","maven","java-17"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1673856354,"post_id":75131511,"comment_id":132582385,"body_markdown":"In the _Open Type_ enter `org.w3c.dom.*` instead of `org.w3c.dom.Node` since there seems to be another `org.w3c.dom` package not containing `org.w3c.dom.Node`.","body":"In the <i>Open Type</i> enter <code>org.w3c.dom.*</code> instead of <code>org.w3c.dom.Node</code> since there seems to be another <code>org.w3c.dom</code> package not containing <code>org.w3c.dom.Node</code>."},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1673856484,"post_id":75131511,"comment_id":132582414,"body_markdown":"Can you run `mvn dependency:tree` and share the output?","body":"Can you run <code>mvn dependency:tree</code> and share the output?"},{"owner":{"account_id":22883450,"reputation":129,"user_id":17024722,"display_name":"Ruchi"},"score":0,"creation_date":1673857986,"post_id":75131511,"comment_id":132582781,"body_markdown":"@howlger I searched with org.w3c.dom.* and got many outputs, can you please help me in how to remove that exclusion?","body":"@howlger I searched with org.w3c.dom.* and got many outputs, can you please help me in how to remove that exclusion?"},{"owner":{"account_id":22883450,"reputation":129,"user_id":17024722,"display_name":"Ruchi"},"score":0,"creation_date":1673858015,"post_id":75131511,"comment_id":132582788,"body_markdown":"@dan1st yes added in the edits.","body":"@dan1st yes added in the edits."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1673860064,"post_id":75131511,"comment_id":132583385,"body_markdown":"The root cause seems to be quite outdated dependencies.","body":"The root cause seems to be quite outdated dependencies."},{"owner":{"account_id":22883450,"reputation":129,"user_id":17024722,"display_name":"Ruchi"},"score":0,"creation_date":1673861557,"post_id":75131511,"comment_id":132583841,"body_markdown":"Hi @howlger , as you said I removed all the transitive dependencies that came with org.w3.dom.*and it worked. !! thanks a lot but can you please advice me like which dependencies should I upgrade to a newer version.","body":"Hi @howlger , as you said I removed all the transitive dependencies that came with org.w3.dom.*and it worked. !! thanks a lot but can you please advice me like which dependencies should I upgrade to a newer version."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1673881703,"post_id":75131511,"comment_id":132590420,"body_markdown":"Removing the transitive dependencies just hides the problem. For security reasons, make sure that all your dependencies are up to date. IMHO this would be more important than upgrading from Java 11 to 17.","body":"Removing the transitive dependencies just hides the problem. For security reasons, make sure that all your dependencies are up to date. IMHO this would be more important than upgrading from Java 11 to 17."}],"owner":{"account_id":22883450,"reputation":129,"user_id":17024722,"display_name":"Ruchi"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673857925,"creation_date":1673856002,"question_id":75131511,"body_markdown":"I&#39;m upgrading from java 11 to 17, and there is one issue which says **The package org.w3c.dom is accessible from more than one module: &lt;unnamed&gt;, java.xml** . While searching on stackoverflow, i got one solution to find the transitive dependency and remove it from pom by exclusion tag, but open type is not showing any such package. \r\n\r\n\r\nPlease refer this image [enter image description here](https://i.stack.imgur.com/XGGAG.png) that depicts that Node class and only one package which is within jdk 17 and no other dependency is having the same package, but still this issue is there [enter image description here](https://i.stack.imgur.com/NmRc7.png).I have checked my project and org.w3c.dom package is not present in 3rd party libs or added by any transitive dependencies in the project jars.\r\n\r\nEDIT - 1 output of mvn dependency :tree\r\n```\r\ncom.apc:designportal:war:22.1.2\r\n[INFO] +- org.springframework:spring-aop:jar:5.3.19:compile\r\n[INFO] +- org.springframework:spring-expression:jar:5.3.19:compile\r\n[INFO] +- org.springframework:spring-beans:jar:5.3.19:compile\r\n[INFO] +- org.springframework:spring-context:jar:5.3.19:compile\r\n[INFO] +- org.springframework:spring-context-support:jar:5.3.19:compile\r\n[INFO] +- org.springframework:spring-core:jar:5.3.19:compile\r\n[INFO] |  \\- org.springframework:spring-jcl:jar:5.3.19:compile\r\n[INFO] +- org.springframework:spring-web:jar:5.3.19:compile\r\n[INFO] +- org.springframework:spring-webmvc:jar:5.3.19:compile\r\n[INFO] +- org.springframework:spring-orm:jar:5.3.19:compile\r\n[INFO] |  +- org.springframework:spring-jdbc:jar:5.3.19:compile\r\n[INFO] |  \\- org.springframework:spring-tx:jar:5.3.19:compile\r\n[INFO] +- org.springframework:spring-test:jar:5.3.19:test\r\n[INFO] +- org.springframework.security:spring-security-config:jar:5.7.1:compile\r\n[INFO] |  \\- org.springframework.security:spring-security-core:jar:5.7.1:compile\r\n[INFO] |     \\- org.springframework.security:spring-security-crypto:jar:5.7.1:compile\r\n[INFO] +- org.springframework.security:spring-security-web:jar:5.7.1:compile\r\n[INFO] +- org.springframework.security.extensions:spring-security-saml2-core:jar:1.0.3.RELEASE:compile\r\n[INFO] |  \\- org.opensaml:opensaml:jar:2.6.1:compile\r\n[INFO] |     +- org.opensaml:openws:jar:1.5.1:compile\r\n[INFO] |     |  +- org.opensaml:xmltooling:jar:1.4.1:compile\r\n[INFO] |     |  |  +- org.bouncycastle:bcprov-jdk15:jar:1.46:compile\r\n[INFO] |     |  |  \\- ca.juliusdavies:not-yet-commons-ssl:jar:0.3.9:compile\r\n[INFO] |     |  \\- org.apache.santuario:xmlsec:jar:1.5.6:compile\r\n[INFO] |     +- org.apache.velocity:velocity:jar:1.7:compile\r\n[INFO] |     +- org.owasp.esapi:esapi:jar:2.0.1:compile\r\n[INFO] |     +- xalan:serializer:jar:2.7.1:runtime\r\n[INFO] |     \\- xml-resolver:xml-resolver:jar:1.2:runtime\r\n[INFO] +- org.json:json:jar:20171018:compile\r\n[INFO] +- displaytag:displaytag:jar:1.2:compile\r\n[INFO] |  +- commons-collections:commons-collections:jar:3.1:compile\r\n[INFO] |  \\- commons-lang:commons-lang:jar:2.3:compile\r\n[INFO] +- asm:asm-attrs:jar:1.5.3:compile\r\n[INFO] +- asm:asm:jar:3.3.1:compile\r\n[INFO] +- cglib:cglib:jar:2.2:compile\r\n[INFO] +- org.aspectj:aspectjrt:jar:1.6.5:compile\r\n[INFO] +- org.aspectj:aspectjweaver:jar:1.6.5:compile\r\n[INFO] +- org.hibernate:hibernate-validator:jar:5.4.0.Final:compile\r\n[INFO] |  +- javax.validation:validation-api:jar:1.1.0.Final:compile\r\n[INFO] |  \\- com.fasterxml:classmate:jar:1.3.1:compile\r\n[INFO] +- org.hibernate:hibernate-core:jar:5.4.0.Final:compile\r\n[INFO] |  +- org.jboss.logging:jboss-logging:jar:3.3.2.Final:compile\r\n[INFO] |  +- javax.persistence:javax.persistence-api:jar:2.2:compile\r\n[INFO] |  +- org.javassist:javassist:jar:3.24.0-GA:compile\r\n[INFO] |  +- net.bytebuddy:byte-buddy:jar:1.9.5:compile\r\n[INFO] |  +- antlr:antlr:jar:2.7.7:compile\r\n[INFO] |  +- org.jboss.spec.javax.transaction:jboss-transaction-api_1.2_spec:jar:1.1.1.Final:compile\r\n[INFO] |  +- org.jboss:jandex:jar:2.0.5.Final:compile\r\n[INFO] |  +- javax.activation:javax.activation-api:jar:1.2.0:compile\r\n[INFO] |  +- org.dom4j:dom4j:jar:2.1.1:compile\r\n[INFO] |  +- org.hibernate.common:hibernate-commons-annotations:jar:5.1.0.Final:compile\r\n[INFO] |  +- javax.xml.bind:jaxb-api:jar:2.3.1:compile\r\n[INFO] |  \\- org.glassfish.jaxb:jaxb-runtime:jar:2.3.1:compile\r\n[INFO] |     +- org.glassfish.jaxb:txw2:jar:2.3.1:compile\r\n[INFO] |     +- com.sun.istack:istack-commons-runtime:jar:3.0.7:compile\r\n[INFO] |     +- org.jvnet.staxex:stax-ex:jar:1.8:compile\r\n[INFO] |     \\- com.sun.xml.fastinfoset:FastInfoset:jar:1.2.15:compile\r\n[INFO] +- org.hibernate:hibernate-ehcache:jar:5.4.0.Final:compile\r\n[INFO] +- net.sf.ehcache:ehcache:jar:2.10.1:compile\r\n[INFO] +- org.apache.tapestry:tapestry-core:jar:5.2.6:compile\r\n[INFO] |  +- org.apache.tapestry:tapestry-ioc:jar:5.2.6:compile\r\n[INFO] |  |  +- org.apache.tapestry:tapestry5-annotations:jar:5.2.6:compile\r\n[INFO] |  |  \\- org.apache.tapestry:tapestry-func:jar:5.2.6:compile\r\n[INFO] |  +- org.apache.tapestry:tapestry-json:jar:5.2.6:compile\r\n[INFO] |  \\- org.antlr:antlr-runtime:jar:3.1.1:compile\r\n[INFO] +- javax.servlet:javax.servlet-api:jar:3.0.1:provided\r\n[INFO] +- javax.servlet:jsp-api:jar:2.0:provided\r\n[INFO] |  \\- javax.servlet:servlet-api:jar:2.4:compile\r\n[INFO] +- jstl:jstl:jar:1.2:compile\r\n[INFO] +- javax.mail:mail:jar:1.4.2:compile\r\n[INFO] +- javax.transaction:jta:jar:1.1:compile\r\n[INFO] +- javax.annotation:javax.annotation-api:jar:1.3.2:compile\r\n[INFO] +- javax.xml.ws:jaxws-api:jar:2.2.6:compile\r\n[INFO] |  +- javax.xml.soap:saaj-api:jar:1.3.4:compile\r\n[INFO] |  |  \\- javax.activation:activation:jar:1.1:compile\r\n[INFO] |  +- org.glassfish:javax.annotation:jar:3.1.1:runtime\r\n[INFO] |  \\- javax.jws:jsr181-api:jar:1.0-MR1:runtime\r\n[INFO] +- javax.jws:javax.jws-api:jar:1.1:compile\r\n[INFO] +- org.slf4j:slf4j-api:jar:1.6.1:compile\r\n[INFO] +- commons-logging:commons-logging:jar:1.1:compile\r\n[INFO] +- org.apache.logging.log4j:log4j-api:jar:2.17.1:compile\r\n[INFO] +- org.apache.logging.log4j:log4j-core:jar:2.17.1:compile\r\n[INFO] +- org.apache.commons:commons-pool2:jar:2.6.0:compile\r\n[INFO] +- joda-time:joda-time:jar:2.10.1:compile\r\n[INFO] +- commons-beanutils:commons-beanutils-bean-collections:jar:1.8.3:compile\r\n[INFO] +- commons-beanutils:commons-beanutils-core:jar:1.8.3:compile\r\n[INFO] +- org.apache.commons:commons-lang3:jar:3.3.2:compile\r\n[INFO] +- com.googlecode.jsontoken:jsontoken:jar:1.0:compile\r\n[INFO] |  +- com.google.collections:google-collections:jar:1.0:compile\r\n[INFO] |  \\- org.apache.httpcomponents:httpcore:jar:4.0.1:compile\r\n[INFO] +- commons-codec:commons-codec:jar:1.9:compile\r\n[INFO] +- junit:junit:jar:4.12:test\r\n[INFO] |  \\- org.hamcrest:hamcrest-core:jar:1.3:test\r\n[INFO] +- org.easymock:easymock:jar:4.0.2:test\r\n[INFO] |  \\- org.objenesis:objenesis:jar:3.0.1:test\r\n[INFO] +- org.easymock:easymockclassextension:jar:3.2:test\r\n[INFO] +- com.microsoft.sqlserver:mssql-jdbc:jar:8.2.2.jre11:compile\r\n[INFO] +- com.gutor.configurators.validator:gutor-design-validator:jar:0.0.1:compile\r\n[INFO] +- net.sf.jasperreports:jasperreports:jar:5.1.0:compile\r\n[INFO] |  +- commons-beanutils:commons-beanutils:jar:1.8.0:compile\r\n[INFO] |  +- commons-digester:commons-digester:jar:2.1:compile\r\n[INFO] |  +- com.lowagie:itext:jar:2.1.7.js2:compile\r\n[INFO] |  \\- eclipse:jdtcore:jar:3.1.0:compile\r\n[INFO] +- ar.com.fdvs:DynamicJasper:jar:4.0.4:compile\r\n[INFO] +- org.apache.poi:poi:jar:4.1.2:compile\r\n[INFO] |  +- org.apache.commons:commons-math3:jar:3.6.1:compile\r\n[INFO] |  \\- com.zaxxer:SparseBitSet:jar:1.2:compile\r\n[INFO] +- org.apache.commons:commons-collections4:jar:4.1:compile\r\n[INFO] +- com.apc.oracle.pricing:oracle-ws:jar:1.0:compile\r\n[INFO] +- com.apc.oracle.pricing:http_client:jar:1.0:compile\r\n[INFO] +- com.apc.designtools:dp-configurator-integration:jar:0.4:compile\r\n[INFO] +- com.apc.designtools:dp-quotingsystem-integration:jar:0.4:compile\r\n[INFO] +- org.jdom:jdom:jar:1.1:compile\r\n[INFO] +- axis:axis:jar:1.4:compile\r\n[INFO] |  +- org.apache.axis:axis-jaxrpc:jar:1.4:compile\r\n[INFO] |  +- org.apache.axis:axis-saaj:jar:1.4:compile\r\n[INFO] |  \\- commons-discovery:commons-discovery:jar:0.2:runtime\r\n[INFO] +- axis:axis-wsdl4j:jar:1.5.1:compile\r\n[INFO] +- org.apache.axis2:axis2-adb:jar:1.4.1:compile\r\n[INFO] |  +- org.apache.axis2:axis2-kernel:jar:1.4.1:compile\r\n[INFO] |  |  +- commons-httpclient:commons-httpclient:jar:3.1:compile\r\n[INFO] |  |  +- commons-fileupload:commons-fileupload:jar:1.2:compile\r\n[INFO] |  |  +- backport-util-concurrent:backport-util-concurrent:jar:3.1:compile\r\n[INFO] |  |  +- org.apache.ws.commons.schema:XmlSchema:jar:1.4.2:compile\r\n[INFO] |  |  \\- org.apache.neethi:neethi:jar:2.0.4:compile\r\n[INFO] |  +- org.apache.ws.commons.axiom:axiom-api:jar:1.2.7:compile\r\n[INFO] |  |  \\- jaxen:jaxen:jar:1.1.1:compile\r\n[INFO] |  +- org.apache.ws.commons.axiom:axiom-impl:jar:1.2.7:compile\r\n[INFO] |  +- xalan:xalan:jar:2.7.0:compile\r\n[INFO] |  +- xerces:xercesImpl:jar:2.8.1:compile\r\n[INFO] |  \\- commons-io:commons-io:jar:1.4:compile\r\n[INFO] +- org.apache.xmlgraphics:batik-transcoder:jar:1.10:compile\r\n[INFO] |  +- org.apache.xmlgraphics:batik-anim:jar:1.10:compile\r\n[INFO] |  +- org.apache.xmlgraphics:batik-awt-util:jar:1.10:compile\r\n[INFO] |  |  \\- org.apache.xmlgraphics:xmlgraphics-commons:jar:2.2:compile\r\n[INFO] |  +- org.apache.xmlgraphics:batik-bridge:jar:1.10:compile\r\n[INFO] |  +- org.apache.xmlgraphics:batik-dom:jar:1.10:compile\r\n[INFO] |  +- org.apache.xmlgraphics:batik-gvt:jar:1.10:compile\r\n[INFO] |  +- org.apache.xmlgraphics:batik-svggen:jar:1.10:compile\r\n[INFO] |  +- org.apache.xmlgraphics:batik-util:jar:1.10:compile\r\n[INFO] |  |  +- org.apache.xmlgraphics:batik-constants:jar:1.10:compile\r\n[INFO] |  |  \\- org.apache.xmlgraphics:batik-i18n:jar:1.10:compile\r\n[INFO] |  \\- org.apache.xmlgraphics:batik-xml:jar:1.10:compile\r\n[INFO] +- org.apache.xmlgraphics:batik-codec:jar:1.10:compile\r\n[INFO] +- org.apache.xmlgraphics:batik-extension:jar:1.10:compile\r\n[INFO] |  +- org.apache.xmlgraphics:batik-css:jar:1.10:compile\r\n[INFO] |  +- org.apache.xmlgraphics:batik-ext:jar:1.10:compile\r\n[INFO] |  +- org.apache.xmlgraphics:batik-parser:jar:1.10:compile\r\n[INFO] |  \\- org.apache.xmlgraphics:batik-svg-dom:jar:1.10:compile\r\n[INFO] +- org.apache.xmlgraphics:batik-gui-util:jar:1.10:compile\r\n[INFO] +- org.apache.xmlgraphics:batik-swing:jar:1.10:compile\r\n[INFO] |  \\- org.apache.xmlgraphics:batik-script:jar:1.10:compile\r\n[INFO] +- com.googlecode.charts4j:charts4j:jar:1.3:compile\r\n[INFO] +- net.glxn:qrgen:jar:1.2:compile\r\n[INFO] |  \\- com.google.zxing:javase:jar:2.0:compile\r\n[INFO] |     \\- com.google.zxing:core:jar:2.0:compile\r\n[INFO] +- org.quartz-scheduler:quartz:jar:2.2.3:compile\r\n[INFO] |  \\- c3p0:c3p0:jar:0.9.1.1:compile\r\n[INFO] +- opensymphony:quartz-all:jar:1.6.3:compile\r\n[INFO] +- com.fasterxml.jackson.core:jackson-databind:jar:2.9.4:compile\r\n[INFO] |  +- com.fasterxml.jackson.core:jackson-annotations:jar:2.9.0:compile\r\n[INFO] |  \\- com.fasterxml.jackson.core:jackson-core:jar:2.9.4:compile\r\n[INFO] +- org.eclipse.persistence:org.eclipse.persistence.moxy:jar:2.5.0:compile\r\n[INFO] |  +- org.eclipse.persistence:org.eclipse.persistence.core:jar:2.5.0:compile\r\n[INFO] |  |  \\- org.eclipse.persistence:org.eclipse.persistence.asm:jar:2.5.0:compile\r\n[INFO] |  \\- org.eclipse.persistence:org.eclipse.persistence.antlr:jar:2.5.0:compile\r\n[INFO] +- com.auth0:java-jwt:jar:2.1.0:compile\r\n[INFO] +- com.google.code.gson:gson:jar:2.5:compile\r\n[INFO] +- org.apache.poi:poi-ooxml:jar:4.1.2:compile\r\n[INFO] |  +- org.apache.commons:commons-compress:jar:1.19:compile\r\n[INFO] |  \\- com.github.virtuald:curvesapi:jar:1.06:compile\r\n[INFO] +- org.apache.poi:ooxml-schemas:jar:1.4:compile\r\n[INFO] |  \\- org.apache.xmlbeans:xmlbeans:jar:3.0.1:compile\r\n[INFO] +- org.apache.poi:poi-ooxml-schemas:jar:4.1.2:compile\r\n[INFO] +- com.jayway.jsonpath:json-path:jar:2.4.0:compile\r\n[INFO] |  \\- net.minidev:json-smart:jar:2.3:compile\r\n[INFO] |     \\- net.minidev:accessors-smart:jar:1.2:compile\r\n[INFO] |        \\- org.ow2.asm:asm:jar:5.0.4:compile\r\n[INFO] +- org.apache.kafka:kafka-clients:jar:2.6.0:compile\r\n[INFO] |  +- com.github.luben:zstd-jni:jar:1.4.4-7:compile\r\n[INFO] |  +- org.lz4:lz4-java:jar:1.7.1:compile\r\n[INFO] |  \\- org.xerial.snappy:snappy-java:jar:1.1.7.3:compile\r\n[INFO] \\- org.apache.kafka:kafka-streams:jar:2.6.0:compile\r\n[INFO]    +- org.apache.kafka:connect-json:jar:2.6.0:compile\r\n[INFO]    |  +- org.apache.kafka:connect-api:jar:2.6.0:compile\r\n[INFO]    |  \\- com.fasterxml.jackson.datatype:jackson-datatype-jdk8:jar:2.10.2:compile\r\n[INFO]    \\- org.rocksdb:rocksdbjni:jar:5.18.4:compile\r\n```\r\n\r\nalso, attaching the image after searching org.w3c.dom.* in openType.[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nme0C.png","title":"OpenType not showing the package org.w3c.dom from the dependencies that have been added","body":"<p>I'm upgrading from java 11 to 17, and there is one issue which says <strong>The package org.w3c.dom is accessible from more than one module: , java.xml</strong> . While searching on stackoverflow, i got one solution to find the transitive dependency and remove it from pom by exclusion tag, but open type is not showing any such package.</p>\n<p>Please refer this image <a href=\"https://i.stack.imgur.com/XGGAG.png\" rel=\"nofollow noreferrer\">enter image description here</a> that depicts that Node class and only one package which is within jdk 17 and no other dependency is having the same package, but still this issue is there <a href=\"https://i.stack.imgur.com/NmRc7.png\" rel=\"nofollow noreferrer\">enter image description here</a>.I have checked my project and org.w3c.dom package is not present in 3rd party libs or added by any transitive dependencies in the project jars.</p>\n<p>EDIT - 1 output of mvn dependency :tree</p>\n<pre><code>com.apc:designportal:war:22.1.2\n[INFO] +- org.springframework:spring-aop:jar:5.3.19:compile\n[INFO] +- org.springframework:spring-expression:jar:5.3.19:compile\n[INFO] +- org.springframework:spring-beans:jar:5.3.19:compile\n[INFO] +- org.springframework:spring-context:jar:5.3.19:compile\n[INFO] +- org.springframework:spring-context-support:jar:5.3.19:compile\n[INFO] +- org.springframework:spring-core:jar:5.3.19:compile\n[INFO] |  \\- org.springframework:spring-jcl:jar:5.3.19:compile\n[INFO] +- org.springframework:spring-web:jar:5.3.19:compile\n[INFO] +- org.springframework:spring-webmvc:jar:5.3.19:compile\n[INFO] +- org.springframework:spring-orm:jar:5.3.19:compile\n[INFO] |  +- org.springframework:spring-jdbc:jar:5.3.19:compile\n[INFO] |  \\- org.springframework:spring-tx:jar:5.3.19:compile\n[INFO] +- org.springframework:spring-test:jar:5.3.19:test\n[INFO] +- org.springframework.security:spring-security-config:jar:5.7.1:compile\n[INFO] |  \\- org.springframework.security:spring-security-core:jar:5.7.1:compile\n[INFO] |     \\- org.springframework.security:spring-security-crypto:jar:5.7.1:compile\n[INFO] +- org.springframework.security:spring-security-web:jar:5.7.1:compile\n[INFO] +- org.springframework.security.extensions:spring-security-saml2-core:jar:1.0.3.RELEASE:compile\n[INFO] |  \\- org.opensaml:opensaml:jar:2.6.1:compile\n[INFO] |     +- org.opensaml:openws:jar:1.5.1:compile\n[INFO] |     |  +- org.opensaml:xmltooling:jar:1.4.1:compile\n[INFO] |     |  |  +- org.bouncycastle:bcprov-jdk15:jar:1.46:compile\n[INFO] |     |  |  \\- ca.juliusdavies:not-yet-commons-ssl:jar:0.3.9:compile\n[INFO] |     |  \\- org.apache.santuario:xmlsec:jar:1.5.6:compile\n[INFO] |     +- org.apache.velocity:velocity:jar:1.7:compile\n[INFO] |     +- org.owasp.esapi:esapi:jar:2.0.1:compile\n[INFO] |     +- xalan:serializer:jar:2.7.1:runtime\n[INFO] |     \\- xml-resolver:xml-resolver:jar:1.2:runtime\n[INFO] +- org.json:json:jar:20171018:compile\n[INFO] +- displaytag:displaytag:jar:1.2:compile\n[INFO] |  +- commons-collections:commons-collections:jar:3.1:compile\n[INFO] |  \\- commons-lang:commons-lang:jar:2.3:compile\n[INFO] +- asm:asm-attrs:jar:1.5.3:compile\n[INFO] +- asm:asm:jar:3.3.1:compile\n[INFO] +- cglib:cglib:jar:2.2:compile\n[INFO] +- org.aspectj:aspectjrt:jar:1.6.5:compile\n[INFO] +- org.aspectj:aspectjweaver:jar:1.6.5:compile\n[INFO] +- org.hibernate:hibernate-validator:jar:5.4.0.Final:compile\n[INFO] |  +- javax.validation:validation-api:jar:1.1.0.Final:compile\n[INFO] |  \\- com.fasterxml:classmate:jar:1.3.1:compile\n[INFO] +- org.hibernate:hibernate-core:jar:5.4.0.Final:compile\n[INFO] |  +- org.jboss.logging:jboss-logging:jar:3.3.2.Final:compile\n[INFO] |  +- javax.persistence:javax.persistence-api:jar:2.2:compile\n[INFO] |  +- org.javassist:javassist:jar:3.24.0-GA:compile\n[INFO] |  +- net.bytebuddy:byte-buddy:jar:1.9.5:compile\n[INFO] |  +- antlr:antlr:jar:2.7.7:compile\n[INFO] |  +- org.jboss.spec.javax.transaction:jboss-transaction-api_1.2_spec:jar:1.1.1.Final:compile\n[INFO] |  +- org.jboss:jandex:jar:2.0.5.Final:compile\n[INFO] |  +- javax.activation:javax.activation-api:jar:1.2.0:compile\n[INFO] |  +- org.dom4j:dom4j:jar:2.1.1:compile\n[INFO] |  +- org.hibernate.common:hibernate-commons-annotations:jar:5.1.0.Final:compile\n[INFO] |  +- javax.xml.bind:jaxb-api:jar:2.3.1:compile\n[INFO] |  \\- org.glassfish.jaxb:jaxb-runtime:jar:2.3.1:compile\n[INFO] |     +- org.glassfish.jaxb:txw2:jar:2.3.1:compile\n[INFO] |     +- com.sun.istack:istack-commons-runtime:jar:3.0.7:compile\n[INFO] |     +- org.jvnet.staxex:stax-ex:jar:1.8:compile\n[INFO] |     \\- com.sun.xml.fastinfoset:FastInfoset:jar:1.2.15:compile\n[INFO] +- org.hibernate:hibernate-ehcache:jar:5.4.0.Final:compile\n[INFO] +- net.sf.ehcache:ehcache:jar:2.10.1:compile\n[INFO] +- org.apache.tapestry:tapestry-core:jar:5.2.6:compile\n[INFO] |  +- org.apache.tapestry:tapestry-ioc:jar:5.2.6:compile\n[INFO] |  |  +- org.apache.tapestry:tapestry5-annotations:jar:5.2.6:compile\n[INFO] |  |  \\- org.apache.tapestry:tapestry-func:jar:5.2.6:compile\n[INFO] |  +- org.apache.tapestry:tapestry-json:jar:5.2.6:compile\n[INFO] |  \\- org.antlr:antlr-runtime:jar:3.1.1:compile\n[INFO] +- javax.servlet:javax.servlet-api:jar:3.0.1:provided\n[INFO] +- javax.servlet:jsp-api:jar:2.0:provided\n[INFO] |  \\- javax.servlet:servlet-api:jar:2.4:compile\n[INFO] +- jstl:jstl:jar:1.2:compile\n[INFO] +- javax.mail:mail:jar:1.4.2:compile\n[INFO] +- javax.transaction:jta:jar:1.1:compile\n[INFO] +- javax.annotation:javax.annotation-api:jar:1.3.2:compile\n[INFO] +- javax.xml.ws:jaxws-api:jar:2.2.6:compile\n[INFO] |  +- javax.xml.soap:saaj-api:jar:1.3.4:compile\n[INFO] |  |  \\- javax.activation:activation:jar:1.1:compile\n[INFO] |  +- org.glassfish:javax.annotation:jar:3.1.1:runtime\n[INFO] |  \\- javax.jws:jsr181-api:jar:1.0-MR1:runtime\n[INFO] +- javax.jws:javax.jws-api:jar:1.1:compile\n[INFO] +- org.slf4j:slf4j-api:jar:1.6.1:compile\n[INFO] +- commons-logging:commons-logging:jar:1.1:compile\n[INFO] +- org.apache.logging.log4j:log4j-api:jar:2.17.1:compile\n[INFO] +- org.apache.logging.log4j:log4j-core:jar:2.17.1:compile\n[INFO] +- org.apache.commons:commons-pool2:jar:2.6.0:compile\n[INFO] +- joda-time:joda-time:jar:2.10.1:compile\n[INFO] +- commons-beanutils:commons-beanutils-bean-collections:jar:1.8.3:compile\n[INFO] +- commons-beanutils:commons-beanutils-core:jar:1.8.3:compile\n[INFO] +- org.apache.commons:commons-lang3:jar:3.3.2:compile\n[INFO] +- com.googlecode.jsontoken:jsontoken:jar:1.0:compile\n[INFO] |  +- com.google.collections:google-collections:jar:1.0:compile\n[INFO] |  \\- org.apache.httpcomponents:httpcore:jar:4.0.1:compile\n[INFO] +- commons-codec:commons-codec:jar:1.9:compile\n[INFO] +- junit:junit:jar:4.12:test\n[INFO] |  \\- org.hamcrest:hamcrest-core:jar:1.3:test\n[INFO] +- org.easymock:easymock:jar:4.0.2:test\n[INFO] |  \\- org.objenesis:objenesis:jar:3.0.1:test\n[INFO] +- org.easymock:easymockclassextension:jar:3.2:test\n[INFO] +- com.microsoft.sqlserver:mssql-jdbc:jar:8.2.2.jre11:compile\n[INFO] +- com.gutor.configurators.validator:gutor-design-validator:jar:0.0.1:compile\n[INFO] +- net.sf.jasperreports:jasperreports:jar:5.1.0:compile\n[INFO] |  +- commons-beanutils:commons-beanutils:jar:1.8.0:compile\n[INFO] |  +- commons-digester:commons-digester:jar:2.1:compile\n[INFO] |  +- com.lowagie:itext:jar:2.1.7.js2:compile\n[INFO] |  \\- eclipse:jdtcore:jar:3.1.0:compile\n[INFO] +- ar.com.fdvs:DynamicJasper:jar:4.0.4:compile\n[INFO] +- org.apache.poi:poi:jar:4.1.2:compile\n[INFO] |  +- org.apache.commons:commons-math3:jar:3.6.1:compile\n[INFO] |  \\- com.zaxxer:SparseBitSet:jar:1.2:compile\n[INFO] +- org.apache.commons:commons-collections4:jar:4.1:compile\n[INFO] +- com.apc.oracle.pricing:oracle-ws:jar:1.0:compile\n[INFO] +- com.apc.oracle.pricing:http_client:jar:1.0:compile\n[INFO] +- com.apc.designtools:dp-configurator-integration:jar:0.4:compile\n[INFO] +- com.apc.designtools:dp-quotingsystem-integration:jar:0.4:compile\n[INFO] +- org.jdom:jdom:jar:1.1:compile\n[INFO] +- axis:axis:jar:1.4:compile\n[INFO] |  +- org.apache.axis:axis-jaxrpc:jar:1.4:compile\n[INFO] |  +- org.apache.axis:axis-saaj:jar:1.4:compile\n[INFO] |  \\- commons-discovery:commons-discovery:jar:0.2:runtime\n[INFO] +- axis:axis-wsdl4j:jar:1.5.1:compile\n[INFO] +- org.apache.axis2:axis2-adb:jar:1.4.1:compile\n[INFO] |  +- org.apache.axis2:axis2-kernel:jar:1.4.1:compile\n[INFO] |  |  +- commons-httpclient:commons-httpclient:jar:3.1:compile\n[INFO] |  |  +- commons-fileupload:commons-fileupload:jar:1.2:compile\n[INFO] |  |  +- backport-util-concurrent:backport-util-concurrent:jar:3.1:compile\n[INFO] |  |  +- org.apache.ws.commons.schema:XmlSchema:jar:1.4.2:compile\n[INFO] |  |  \\- org.apache.neethi:neethi:jar:2.0.4:compile\n[INFO] |  +- org.apache.ws.commons.axiom:axiom-api:jar:1.2.7:compile\n[INFO] |  |  \\- jaxen:jaxen:jar:1.1.1:compile\n[INFO] |  +- org.apache.ws.commons.axiom:axiom-impl:jar:1.2.7:compile\n[INFO] |  +- xalan:xalan:jar:2.7.0:compile\n[INFO] |  +- xerces:xercesImpl:jar:2.8.1:compile\n[INFO] |  \\- commons-io:commons-io:jar:1.4:compile\n[INFO] +- org.apache.xmlgraphics:batik-transcoder:jar:1.10:compile\n[INFO] |  +- org.apache.xmlgraphics:batik-anim:jar:1.10:compile\n[INFO] |  +- org.apache.xmlgraphics:batik-awt-util:jar:1.10:compile\n[INFO] |  |  \\- org.apache.xmlgraphics:xmlgraphics-commons:jar:2.2:compile\n[INFO] |  +- org.apache.xmlgraphics:batik-bridge:jar:1.10:compile\n[INFO] |  +- org.apache.xmlgraphics:batik-dom:jar:1.10:compile\n[INFO] |  +- org.apache.xmlgraphics:batik-gvt:jar:1.10:compile\n[INFO] |  +- org.apache.xmlgraphics:batik-svggen:jar:1.10:compile\n[INFO] |  +- org.apache.xmlgraphics:batik-util:jar:1.10:compile\n[INFO] |  |  +- org.apache.xmlgraphics:batik-constants:jar:1.10:compile\n[INFO] |  |  \\- org.apache.xmlgraphics:batik-i18n:jar:1.10:compile\n[INFO] |  \\- org.apache.xmlgraphics:batik-xml:jar:1.10:compile\n[INFO] +- org.apache.xmlgraphics:batik-codec:jar:1.10:compile\n[INFO] +- org.apache.xmlgraphics:batik-extension:jar:1.10:compile\n[INFO] |  +- org.apache.xmlgraphics:batik-css:jar:1.10:compile\n[INFO] |  +- org.apache.xmlgraphics:batik-ext:jar:1.10:compile\n[INFO] |  +- org.apache.xmlgraphics:batik-parser:jar:1.10:compile\n[INFO] |  \\- org.apache.xmlgraphics:batik-svg-dom:jar:1.10:compile\n[INFO] +- org.apache.xmlgraphics:batik-gui-util:jar:1.10:compile\n[INFO] +- org.apache.xmlgraphics:batik-swing:jar:1.10:compile\n[INFO] |  \\- org.apache.xmlgraphics:batik-script:jar:1.10:compile\n[INFO] +- com.googlecode.charts4j:charts4j:jar:1.3:compile\n[INFO] +- net.glxn:qrgen:jar:1.2:compile\n[INFO] |  \\- com.google.zxing:javase:jar:2.0:compile\n[INFO] |     \\- com.google.zxing:core:jar:2.0:compile\n[INFO] +- org.quartz-scheduler:quartz:jar:2.2.3:compile\n[INFO] |  \\- c3p0:c3p0:jar:0.9.1.1:compile\n[INFO] +- opensymphony:quartz-all:jar:1.6.3:compile\n[INFO] +- com.fasterxml.jackson.core:jackson-databind:jar:2.9.4:compile\n[INFO] |  +- com.fasterxml.jackson.core:jackson-annotations:jar:2.9.0:compile\n[INFO] |  \\- com.fasterxml.jackson.core:jackson-core:jar:2.9.4:compile\n[INFO] +- org.eclipse.persistence:org.eclipse.persistence.moxy:jar:2.5.0:compile\n[INFO] |  +- org.eclipse.persistence:org.eclipse.persistence.core:jar:2.5.0:compile\n[INFO] |  |  \\- org.eclipse.persistence:org.eclipse.persistence.asm:jar:2.5.0:compile\n[INFO] |  \\- org.eclipse.persistence:org.eclipse.persistence.antlr:jar:2.5.0:compile\n[INFO] +- com.auth0:java-jwt:jar:2.1.0:compile\n[INFO] +- com.google.code.gson:gson:jar:2.5:compile\n[INFO] +- org.apache.poi:poi-ooxml:jar:4.1.2:compile\n[INFO] |  +- org.apache.commons:commons-compress:jar:1.19:compile\n[INFO] |  \\- com.github.virtuald:curvesapi:jar:1.06:compile\n[INFO] +- org.apache.poi:ooxml-schemas:jar:1.4:compile\n[INFO] |  \\- org.apache.xmlbeans:xmlbeans:jar:3.0.1:compile\n[INFO] +- org.apache.poi:poi-ooxml-schemas:jar:4.1.2:compile\n[INFO] +- com.jayway.jsonpath:json-path:jar:2.4.0:compile\n[INFO] |  \\- net.minidev:json-smart:jar:2.3:compile\n[INFO] |     \\- net.minidev:accessors-smart:jar:1.2:compile\n[INFO] |        \\- org.ow2.asm:asm:jar:5.0.4:compile\n[INFO] +- org.apache.kafka:kafka-clients:jar:2.6.0:compile\n[INFO] |  +- com.github.luben:zstd-jni:jar:1.4.4-7:compile\n[INFO] |  +- org.lz4:lz4-java:jar:1.7.1:compile\n[INFO] |  \\- org.xerial.snappy:snappy-java:jar:1.1.7.3:compile\n[INFO] \\- org.apache.kafka:kafka-streams:jar:2.6.0:compile\n[INFO]    +- org.apache.kafka:connect-json:jar:2.6.0:compile\n[INFO]    |  +- org.apache.kafka:connect-api:jar:2.6.0:compile\n[INFO]    |  \\- com.fasterxml.jackson.datatype:jackson-datatype-jdk8:jar:2.10.2:compile\n[INFO]    \\- org.rocksdb:rocksdbjni:jar:5.18.4:compile\n</code></pre>\n<p>also, attaching the image after searching org.w3c.dom.* in openType.<a href=\"https://i.stack.imgur.com/nme0C.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","spring","configuration","null","spring-jdbc"],"comments":[{"owner":{"account_id":3888257,"reputation":111,"user_id":5532932,"display_name":"muratcanyeldan"},"score":0,"creation_date":1673818845,"post_id":75128483,"comment_id":132577294,"body_markdown":"Does this answer your question? [How to set empty string as password for MYSQL database in properties file.](https://stackoverflow.com/questions/25811182/how-to-set-empty-string-as-password-for-mysql-database-in-properties-file)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/25811182/how-to-set-empty-string-as-password-for-mysql-database-in-properties-file\">How to set empty string as password for MYSQL database in properties file.</a>"}],"answers":[{"tags":[],"owner":{"account_id":3888257,"reputation":111,"user_id":5532932,"display_name":"muratcanyeldan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673818306,"creation_date":1673818306,"answer_id":75128547,"question_id":75128483,"body_markdown":"You can delete &#39;spring.datasource.password=&#39; line.\r\n\r\nif you don&#39;t specify its value it is considered empty.","title":"How to connect to a jdbc database without password via external driver in Spring Boot?","body":"<p>You can delete 'spring.datasource.password=' line.</p>\n<p>if you don't specify its value it is considered empty.</p>\n"}],"owner":{"account_id":10425609,"reputation":13,"user_id":7687007,"display_name":"luck2y"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":534,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673857683,"creation_date":1673817719,"question_id":75128483,"body_markdown":"I&#39;m trying to connect my Spring Boot application to a database (Transbase) with an external driver I added to the classpath. So far so good but my problem is that the password for the user I&#39;d like to connect to the database is empty.\r\nSo I tried to set the application-properties like\r\n\r\n    spring.datasource.password=\r\nor dont configure the value at all but I always end up getting the following error:\r\n\r\n    Caused by: transbase.t: \r\n    Transbase JDBC/JDBCX Driver\r\n    Release Version 3.0\r\n    Build 20150618(490)\r\n    Transbase Client Error &lt;30029&gt;:\r\n    Invalid property value &#39;&lt;null&gt;&#39; for property &#39;password&#39;\r\n    \tat transbase.jdbc.Connection.&lt;init&gt;(Unknown Source) ~[tbjdbc.jar:na]\r\n    \tat transbase.jdbc.Driver.connect(Unknown Source) ~[tbjdbc.jar:na]\r\n    \tat com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138) ~[HikariCP-4.0.3.jar:na]\r\n    \tat com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364) ~[HikariCP-4.0.3.jar:na]\r\n    \tat com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206) ~[HikariCP-4.0.3.jar:na]\r\n    \tat com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476) ~[HikariCP-4.0.3.jar:na]\r\n    \tat com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561) ~[HikariCP-4.0.3.jar:na]\r\n    \tat com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:115) ~[HikariCP-4.0.3.jar:na]\r\n    \tat com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-4.0.3.jar:na]\r\n    \tat org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:159) ~[spring-jdbc-5.3.24.jar:5.3.24]\r\n    \tat org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:117) ~[spring-jdbc-5.3.24.jar:5.3.24]\r\n    \tat org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:80) ~[spring-jdbc-5.3.24.jar:5.3.24]\r\n    \t... 75 common frames omitted\r\n\r\nIt seems that the driver can only handle the password when its an empty string but not null. Does anyone know what I need to configure or at least a workaround for this (without changing the db user-password)","title":"How to connect to a jdbc database without password via external driver in Spring Boot?","body":"<p>I'm trying to connect my Spring Boot application to a database (Transbase) with an external driver I added to the classpath. So far so good but my problem is that the password for the user I'd like to connect to the database is empty.\nSo I tried to set the application-properties like</p>\n<pre><code>spring.datasource.password=\n</code></pre>\n<p>or dont configure the value at all but I always end up getting the following error:</p>\n<pre><code>Caused by: transbase.t: \nTransbase JDBC/JDBCX Driver\nRelease Version 3.0\nBuild 20150618(490)\nTransbase Client Error &lt;30029&gt;:\nInvalid property value '&lt;null&gt;' for property 'password'\n    at transbase.jdbc.Connection.&lt;init&gt;(Unknown Source) ~[tbjdbc.jar:na]\n    at transbase.jdbc.Driver.connect(Unknown Source) ~[tbjdbc.jar:na]\n    at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:115) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-4.0.3.jar:na]\n    at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:159) ~[spring-jdbc-5.3.24.jar:5.3.24]\n    at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:117) ~[spring-jdbc-5.3.24.jar:5.3.24]\n    at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:80) ~[spring-jdbc-5.3.24.jar:5.3.24]\n    ... 75 common frames omitted\n</code></pre>\n<p>It seems that the driver can only handle the password when its an empty string but not null. Does anyone know what I need to configure or at least a workaround for this (without changing the db user-password)</p>\n"},{"tags":["java","json","spring-data","spring-data-jpa","spring-data-rest"],"comments":[{"owner":{"display_name":"user180100"},"score":0,"creation_date":1480009068,"post_id":40746303,"comment_id":68806422,"body_markdown":"Did you try `__` (2 underscores)? (see http://stackoverflow.com/questions/29983047/spring-data-jpa-entity-property-names-contain-underscores)","body":"Did you try <code>__</code> (2 underscores)? (see <a href=\"http://stackoverflow.com/questions/29983047/spring-data-jpa-entity-property-names-contain-underscores\" title=\"spring data jpa entity property names contain underscores\">stackoverflow.com/questions/29983047/&hellip;</a>)"},{"owner":{"account_id":51627,"reputation":2225,"user_id":154285,"accept_rate":86,"display_name":"Rince"},"score":0,"creation_date":1480009506,"post_id":40746303,"comment_id":68806607,"body_markdown":"Yep and that did not work either. Seems that `__` is just for custom methods.","body":"Yep and that did not work either. Seems that <code>__</code> is just for custom methods."},{"owner":{"account_id":5684621,"reputation":4943,"user_id":4494577,"display_name":"jannis"},"score":0,"creation_date":1480120634,"post_id":40746303,"comment_id":68847831,"body_markdown":"Tried to reproduce it but it works fine -&gt; [code on github](https://github.com/jannis-baratheon/stackoverflow/tree/master/40746303-spring-data-rest-sorting-fields-with-underscores). What versions are you using?","body":"Tried to reproduce it but it works fine -&gt; <a href=\"https://github.com/jannis-baratheon/stackoverflow/tree/master/40746303-spring-data-rest-sorting-fields-with-underscores\" rel=\"nofollow noreferrer\">code on github</a>. What versions are you using?"}],"answers":[{"tags":[],"owner":{"account_id":1434762,"reputation":22772,"user_id":1356423,"accept_rate":65,"display_name":"Alan Hay"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1480413189,"creation_date":1480361396,"answer_id":40852014,"question_id":40746303,"body_markdown":"It is unclear whether you can do this in some Spring Data Rest specific way however you should be able to handle it by means of a standard Servlet filter which would look something like the below:\r\n\r\n    public class SortParameterConversionFilter extends GenericFilterBean {\r\n    \r\n    \t// as we are extending Spring&#39;s GenericFilterBean\r\n    \t// you can then *possibly* inject the RepositoryRestConfiguration\r\n    \t// and use  RepositoryRestConfiguration#getSortParamName\r\n    \t// to avoid hard coding\r\n        private static final String SORT_PARAM_KEY = &quot;sort&quot;;\r\n    \r\n        @Override\r\n        public void doFilter(ServletRequest req, ServletResponse res, FilterChain chain)\r\n                throws IOException, ServletException {\r\n    \r\n            HttpServletRequest request = (HttpServletRequest) req;\r\n    \r\n            if (shouldApply(request)) {\r\n                chain.doFilter(new CollectionResourceRequestWrapper(request), res);\r\n            } else {\r\n                chain.doFilter(req, res);\r\n            }\r\n        }\r\n    \r\n        /**\r\n         * \r\n         * @param request\r\n         * @return True if this filter should be applied for this request, otherwise\r\n         *         false.\r\n         */\r\n        protected boolean shouldApply(HttpServletRequest request) {\r\n            return request.getServletPath().matches(&quot;some-pattern&quot;);\r\n        }\r\n    \r\n        /**\r\n         * HttpServletRequestWrapper implementation which allows us to wrap and\r\n         * modify the incoming request.\r\n         *\r\n         */\r\n        public class CollectionResourceRequestWrapper extends HttpServletRequestWrapper {\r\n    \r\n            public ResourceRequestWrapper(HttpServletRequest request) {\r\n                super(request);\r\n            }\r\n    \r\n            @Override\r\n            public String getParameter(final String name) {\r\n                if (name.equals(SORT_PARAM_KEY)) {\r\n                    String [] parts = super.getParameter(SORT_PARAM_KEY).split(&quot;,&quot;);\r\n    \t\t\t\tStringBuilder builder = new StringBuilder();\r\n    \t\t\t\t\r\n    \t\t\t\tint index = 0;\r\n    \t\t\t\t\r\n    \t\t\t\tfor (String part : parts) {\r\n    \t\t\t\t\t// using some mechanism of you choosing\r\n    \t\t\t\t\t// convert from underscore to camelCase\r\n    \t\t\t\t\t// Using the Guava library for example\r\n    \t\t\t\t\tString convertedPart = CaseFormat.LOWER_UNDERSCORE.to(\r\n                             CaseFormat.LOWER_CAMEL, part);\r\n    \t\t\t\t\t++index;\r\n    \t\t\t\t\tbuilder.append(convertedPart).append(index &lt; parts.length ? &quot;,&quot; : &quot;&quot;);\r\n    \t\t\t\t}\r\n\r\n                    return builder.toString();\r\n                }\r\n    \r\n                return super.getParameter(name);\r\n            }\r\n        }\r\n    }","title":"Spring data rest sorting fields with underscores","body":"<p>It is unclear whether you can do this in some Spring Data Rest specific way however you should be able to handle it by means of a standard Servlet filter which would look something like the below:</p>\n\n<pre><code>public class SortParameterConversionFilter extends GenericFilterBean {\n\n    // as we are extending Spring's GenericFilterBean\n    // you can then *possibly* inject the RepositoryRestConfiguration\n    // and use  RepositoryRestConfiguration#getSortParamName\n    // to avoid hard coding\n    private static final String SORT_PARAM_KEY = \"sort\";\n\n    @Override\n    public void doFilter(ServletRequest req, ServletResponse res, FilterChain chain)\n            throws IOException, ServletException {\n\n        HttpServletRequest request = (HttpServletRequest) req;\n\n        if (shouldApply(request)) {\n            chain.doFilter(new CollectionResourceRequestWrapper(request), res);\n        } else {\n            chain.doFilter(req, res);\n        }\n    }\n\n    /**\n     * \n     * @param request\n     * @return True if this filter should be applied for this request, otherwise\n     *         false.\n     */\n    protected boolean shouldApply(HttpServletRequest request) {\n        return request.getServletPath().matches(\"some-pattern\");\n    }\n\n    /**\n     * HttpServletRequestWrapper implementation which allows us to wrap and\n     * modify the incoming request.\n     *\n     */\n    public class CollectionResourceRequestWrapper extends HttpServletRequestWrapper {\n\n        public ResourceRequestWrapper(HttpServletRequest request) {\n            super(request);\n        }\n\n        @Override\n        public String getParameter(final String name) {\n            if (name.equals(SORT_PARAM_KEY)) {\n                String [] parts = super.getParameter(SORT_PARAM_KEY).split(\",\");\n                StringBuilder builder = new StringBuilder();\n\n                int index = 0;\n\n                for (String part : parts) {\n                    // using some mechanism of you choosing\n                    // convert from underscore to camelCase\n                    // Using the Guava library for example\n                    String convertedPart = CaseFormat.LOWER_UNDERSCORE.to(\n                         CaseFormat.LOWER_CAMEL, part);\n                    ++index;\n                    builder.append(convertedPart).append(index &lt; parts.length ? \",\" : \"\");\n                }\n\n                return builder.toString();\n            }\n\n            return super.getParameter(name);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5684621,"reputation":4943,"user_id":4494577,"display_name":"jannis"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1673857266,"creation_date":1480411522,"answer_id":40862101,"question_id":40746303,"body_markdown":"There is a bug for this - [DATAREST-883](https://jira.spring.io/browse/DATAREST-883). It was fixed and released. But then, due to regressions ([DATAREST-909](https://jira.spring.io/browse/DATAREST-909)) this has been dropped in the very next release. [I asked them on Github](https://github.com/spring-projects/spring-data-rest/pull/222#issuecomment-263511154) if they plan to have this again as this has bitten me in the past as well. We&#39;ll see what they have to say about this.\r\n\r\nFor now you can:\r\n\r\n* leave it be\r\n* go with the camel case property names\r\n* work around this (e.g. go with [Alan Haye&#39;s answer](https://stackoverflow.com/a/40852014/4494577)) - this seems fragile IMHO, but probably will do in a short term.\r\n\r\nThe status of the feature in the spring-boot versions I&#39;ve tested with:\r\n\r\n* [1.4.0](https://www.versioneye.com/java/org.springframework.boot:spring-boot-starter-data-rest/1.4.0.RELEASE) (spring-data-rest 2.5.2): not yet implemented\r\n* [1.4.1](https://www.versioneye.com/java/org.springframework.boot:spring-boot-starter-data-rest/1.4.1.RELEASE) (spring-data-rest 2.5.3): works -&gt; [code](https://github.com/jannis-baratheon/stackoverflow--spring-data-rest-sorting-by-json-field-name)\r\n* [1.4.2](https://www.versioneye.com/java/org.springframework.boot:spring-boot-starter-data-rest/1.4.2.RELEASE) (spring-data-rest 2.5.5): dropped","title":"Spring data rest sorting fields with underscores","body":"<p>There is a bug for this - <a href=\"https://jira.spring.io/browse/DATAREST-883\" rel=\"nofollow noreferrer\">DATAREST-883</a>. It was fixed and released. But then, due to regressions (<a href=\"https://jira.spring.io/browse/DATAREST-909\" rel=\"nofollow noreferrer\">DATAREST-909</a>) this has been dropped in the very next release. <a href=\"https://github.com/spring-projects/spring-data-rest/pull/222#issuecomment-263511154\" rel=\"nofollow noreferrer\">I asked them on Github</a> if they plan to have this again as this has bitten me in the past as well. We'll see what they have to say about this.</p>\n<p>For now you can:</p>\n<ul>\n<li>leave it be</li>\n<li>go with the camel case property names</li>\n<li>work around this (e.g. go with <a href=\"https://stackoverflow.com/a/40852014/4494577\">Alan Haye's answer</a>) - this seems fragile IMHO, but probably will do in a short term.</li>\n</ul>\n<p>The status of the feature in the spring-boot versions I've tested with:</p>\n<ul>\n<li><a href=\"https://www.versioneye.com/java/org.springframework.boot:spring-boot-starter-data-rest/1.4.0.RELEASE\" rel=\"nofollow noreferrer\">1.4.0</a> (spring-data-rest 2.5.2): not yet implemented</li>\n<li><a href=\"https://www.versioneye.com/java/org.springframework.boot:spring-boot-starter-data-rest/1.4.1.RELEASE\" rel=\"nofollow noreferrer\">1.4.1</a> (spring-data-rest 2.5.3): works -&gt; <a href=\"https://github.com/jannis-baratheon/stackoverflow--spring-data-rest-sorting-by-json-field-name\" rel=\"nofollow noreferrer\">code</a></li>\n<li><a href=\"https://www.versioneye.com/java/org.springframework.boot:spring-boot-starter-data-rest/1.4.2.RELEASE\" rel=\"nofollow noreferrer\">1.4.2</a> (spring-data-rest 2.5.5): dropped</li>\n</ul>\n"}],"owner":{"account_id":51627,"reputation":2225,"user_id":154285,"accept_rate":86,"display_name":"Rince"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3082,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":40862101,"answer_count":2,"score":12,"last_activity_date":1673857266,"creation_date":1479830134,"question_id":40746303,"body_markdown":"We are using a very simple setup of `@RepositoryRestResource` on top of a `PagingAndSortingRepository` connected to a postgres database. Also we have configured `spring.jackson.property-naming-strategy=SNAKE_CASE` to return pretty json. It was all fine and dandy until we started sorting. As we have discovered - sorting requires us to provide the actual class field names (which we of course have in camel case):\r\n\r\n`get(&quot;/thing?sort=dateCreated,desc&quot;)`\r\n\r\nAnd when we try to do javascript friendly\r\n\r\n`get(&quot;/thing?sort=date_created,desc&quot;)`\r\n\r\nit fails miserably because jpa tries to split the parameter by the underscore.\r\n\r\nIs there a simple way to have the path params the same format as we have them in the json that we are returning?\r\n","title":"Spring data rest sorting fields with underscores","body":"<p>We are using a very simple setup of <code>@RepositoryRestResource</code> on top of a <code>PagingAndSortingRepository</code> connected to a postgres database. Also we have configured <code>spring.jackson.property-naming-strategy=SNAKE_CASE</code> to return pretty json. It was all fine and dandy until we started sorting. As we have discovered - sorting requires us to provide the actual class field names (which we of course have in camel case):</p>\n\n<p><code>get(\"/thing?sort=dateCreated,desc\")</code></p>\n\n<p>And when we try to do javascript friendly</p>\n\n<p><code>get(\"/thing?sort=date_created,desc\")</code></p>\n\n<p>it fails miserably because jpa tries to split the parameter by the underscore.</p>\n\n<p>Is there a simple way to have the path params the same format as we have them in the json that we are returning?</p>\n"},{"tags":["java","hashmap","big-o","time-complexity"],"comments":[{"owner":{"account_id":26963,"reputation":35564,"user_id":70616,"accept_rate":74,"display_name":"victor hugo"},"score":2,"creation_date":1246208219,"post_id":1055243,"comment_id":21128804,"body_markdown":"I know this might not be an answer but I remember Wikipedia has a [very good article](http://en.wikipedia.org/wiki/Hash_table) about this. Don&#39;t miss the [performance analysis](http://en.wikipedia.org/wiki/Hash_table#Performance_analysis) section","body":"I know this might not be an answer but I remember Wikipedia has a <a href=\"http://en.wikipedia.org/wiki/Hash_table\" rel=\"nofollow noreferrer\">very good article</a> about this. Don&#39;t miss the <a href=\"http://en.wikipedia.org/wiki/Hash_table#Performance_analysis\" rel=\"nofollow noreferrer\">performance analysis</a> section"},{"owner":{"account_id":11785,"reputation":4158,"user_id":22897,"accept_rate":90,"display_name":"Dan Homerick"},"score":32,"creation_date":1246209507,"post_id":1055243,"comment_id":866983,"body_markdown":"Big O notation gives an upper bound for the particular type of analysis you are doing. You should still specify whether you are interested in worst-case, average case, etc.","body":"Big O notation gives an upper bound for the particular type of analysis you are doing. You should still specify whether you are interested in worst-case, average case, etc."}],"answers":[{"tags":[],"owner":{"account_id":32514,"reputation":74908,"user_id":90308,"accept_rate":93,"display_name":"FogleBird"},"down_vote_count":1,"up_vote_count":40,"is_accepted":false,"score":39,"last_activity_date":1673856869,"creation_date":1246208089,"answer_id":1055253,"question_id":1055243,"body_markdown":"In Java, how HashMap works?\r\n- Using `hashCode` to locate the corresponding bucket [inside buckets container model].  \r\n- Each bucket is a `LinkedList` (or a `Balanced Red-Black Binary Tree` *under some conditions* starting from Java 8) of items residing in that bucket.  \r\n- The items are scanned one by one, using `equals` for comparison.  \r\n- When adding more items, the HashMap is resized (doubling the size) once a certain load percentage is reached.\r\n\r\nSo, sometimes it will have to compare against a few items, but generally, it&#39;s much closer to **O(1)** than **O(n)** / **O(log n)**.  \r\nFor practical purposes, that&#39;s all you should need to know.","title":"Is a Java hashmap search really O(1)?","body":"<p>In Java, how HashMap works?</p>\n<ul>\n<li>Using <code>hashCode</code> to locate the corresponding bucket [inside buckets container model].</li>\n<li>Each bucket is a <code>LinkedList</code> (or a <code>Balanced Red-Black Binary Tree</code> <em>under some conditions</em> starting from Java 8) of items residing in that bucket.</li>\n<li>The items are scanned one by one, using <code>equals</code> for comparison.</li>\n<li>When adding more items, the HashMap is resized (doubling the size) once a certain load percentage is reached.</li>\n</ul>\n<p>So, sometimes it will have to compare against a few items, but generally, it's much closer to <strong>O(1)</strong> than <strong>O(n)</strong> / <strong>O(log n)</strong>.<br />\nFor practical purposes, that's all you should need to know.</p>\n"},{"tags":[],"owner":{"account_id":956,"reputation":12920,"user_id":1265,"accept_rate":82,"display_name":"Grey Panther"},"down_vote_count":3,"up_vote_count":3,"is_accepted":false,"score":0,"last_activity_date":1396241932,"creation_date":1246208109,"answer_id":1055254,"question_id":1055243,"body_markdown":"Of course the performance of the hashmap will depend based on the quality of the hashCode() function for the given object. However, if the function is implemented such that the possibility of collisions is very low, it will have a very good performance (this is not strictly O(1) in *every* possible case but it is in *most* cases).\r\n\r\nFor example the default implementation in the Oracle JRE is to use a random number (which is stored in the object instance so that it doesn&#39;t change - but it also disables biased locking, but that&#39;s an other discussion) so the chance of collisions is very low.","title":"Is a Java hashmap search really O(1)?","body":"<p>Of course the performance of the hashmap will depend based on the quality of the hashCode() function for the given object. However, if the function is implemented such that the possibility of collisions is very low, it will have a very good performance (this is not strictly O(1) in <em>every</em> possible case but it is in <em>most</em> cases).</p>\n\n<p>For example the default implementation in the Oracle JRE is to use a random number (which is stored in the object instance so that it doesn't change - but it also disables biased locking, but that's an other discussion) so the chance of collisions is very low.</p>\n"},{"tags":[],"owner":{"account_id":878722,"reputation":149,"user_id":117333,"display_name":"Tobias Svensson"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1246209172,"creation_date":1246208595,"answer_id":1055269,"question_id":1055243,"body_markdown":"This basically goes for most hash table implementations in most programming languages, as the algorithm itself doesn&#39;t really change. \r\n\r\nIf there are no collisions present in the table, you only have to do a single look-up, therefore the running time is O(1). If there are collisions present, you have to do more than one look-up, which drives down the performance towards O(n).\r\n\r\n","title":"Is a Java hashmap search really O(1)?","body":"<p>This basically goes for most hash table implementations in most programming languages, as the algorithm itself doesn't really change. </p>\n\n<p>If there are no collisions present in the table, you only have to do a single look-up, therefore the running time is O(1). If there are collisions present, you have to do more than one look-up, which drives down the performance towards O(n).</p>\n"},{"tags":[],"owner":{"account_id":1776,"reputation":3919,"user_id":2434,"display_name":"Daniel James"},"down_vote_count":0,"up_vote_count":34,"is_accepted":false,"score":34,"last_activity_date":1246210922,"creation_date":1246208699,"answer_id":1055277,"question_id":1055243,"body_markdown":"Remember that o(1) does not mean that each lookup only examines a single item - it means that the average number of items checked remains constant w.r.t. the number of items in the container. So if it takes on average 4 comparisons to find an item in a container with 100 items, it should also take an average of 4 comparisons to find an item in a container with 10000 items, and for any other number of items (there&#39;s always a bit of variance, especially around the points at which the hash table rehashes, and when there&#39;s a very small number of items).\r\n\r\nSo collisions don&#39;t prevent the container from having o(1) operations, as long as the average number of keys per bucket remains within a fixed bound.","title":"Is a Java hashmap search really O(1)?","body":"<p>Remember that o(1) does not mean that each lookup only examines a single item - it means that the average number of items checked remains constant w.r.t. the number of items in the container. So if it takes on average 4 comparisons to find an item in a container with 100 items, it should also take an average of 4 comparisons to find an item in a container with 10000 items, and for any other number of items (there's always a bit of variance, especially around the points at which the hash table rehashes, and when there's a very small number of items).</p>\n\n<p>So collisions don't prevent the container from having o(1) operations, as long as the average number of keys per bucket remains within a fixed bound.</p>\n"},{"tags":[],"owner":{"account_id":1475,"reputation":533754,"user_id":1968,"accept_rate":83,"display_name":"Konrad Rudolph"},"down_vote_count":0,"up_vote_count":42,"is_accepted":false,"score":42,"last_activity_date":1246208961,"creation_date":1246208961,"answer_id":1055286,"question_id":1055243,"body_markdown":"You seem to mix up worst-case behaviour with average-case (expected) runtime. The former is indeed O(n) for hash tables in general (i.e. not using a perfect hashing) but this is rarely relevant in practice.\r\n\r\nAny dependable hash table implementation, coupled with a half decent hash, has a retrieval performance of O(1) with a very small factor (2, in fact) in the expected case, within a very narrow margin of variance.","title":"Is a Java hashmap search really O(1)?","body":"<p>You seem to mix up worst-case behaviour with average-case (expected) runtime. The former is indeed O(n) for hash tables in general (i.e. not using a perfect hashing) but this is rarely relevant in practice.</p>\n\n<p>Any dependable hash table implementation, coupled with a half decent hash, has a retrieval performance of O(1) with a very small factor (2, in fact) in the expected case, within a very narrow margin of variance.</p>\n"},{"tags":[],"owner":{"account_id":41248,"reputation":743,"user_id":119819,"accept_rate":100,"display_name":"Nizar Grira"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1246209338,"creation_date":1246209338,"answer_id":1055302,"question_id":1055243,"body_markdown":"It depends on the algorithm you choose to avoid collisions. If your implementation uses separate chaining then the worst case scenario happens where every data element is hashed to the same value (poor choice of the hash function for example). In that case, data lookup is no different from a linear search on a linked list i.e. O(n). However, the probability of that happening is negligible and lookups best and average cases remain constant i.e. O(1).","title":"Is a Java hashmap search really O(1)?","body":"<p>It depends on the algorithm you choose to avoid collisions. If your implementation uses separate chaining then the worst case scenario happens where every data element is hashed to the same value (poor choice of the hash function for example). In that case, data lookup is no different from a linear search on a linked list i.e. O(n). However, the probability of that happening is negligible and lookups best and average cases remain constant i.e. O(1).</p>\n"},{"tags":[],"owner":{"account_id":25542,"reputation":152709,"user_id":65696,"accept_rate":85,"display_name":"SingleNegationElimination"},"down_vote_count":1,"up_vote_count":148,"is_accepted":true,"score":147,"last_activity_date":1448240385,"creation_date":1246210391,"answer_id":1055337,"question_id":1055243,"body_markdown":"A particular feature of a HashMap is that unlike, say, balanced trees, its behavior is probabilistic.  In these cases its usually most helpful to talk about complexity in terms of the probability of a worst-case event occurring would be.  For a hash map, that of course is the case of a collision with respect to how full the map happens to be.  A collision is pretty easy to estimate.  \r\n\r\n&gt;p&lt;sub&gt;collision&lt;/sub&gt; = n / capacity\r\n\r\nSo a hash map with even a modest number of elements is pretty likely to experience at least one collision.  Big O notation allows us to do something more compelling. Observe that for any arbitrary, fixed constant k.\r\n\r\n&gt;O(n) = O(k * n)\r\n\r\nWe can use this feature to improve the performance of the hash map.  We could instead think about the probability of at most 2 collisions.\r\n\r\n&gt; p&lt;sub&gt;collision x 2&lt;/sub&gt; = (n / capacity)&lt;sup&gt;2&lt;/sup&gt;\r\n\r\nThis is much lower.  Since the cost of handling one extra collision is irrelevant to Big O performance, we&#39;ve found a way to improve performance without actually changing the algorithm!  We can generalzie this to \r\n\r\n&gt; p&lt;sub&gt;collision x k&lt;/sub&gt; = (n / capacity)&lt;sup&gt;k&lt;/sup&gt;\r\n\r\nAnd now we can disregard some arbitrary number of collisions and end up with vanishingly tiny likelihood of more collisions than we are accounting for.  You could get the probability to an arbitrarily tiny level by choosing the correct k, all without altering the actual implementation of the algorithm.\r\n\r\nWe talk about this by saying that the hash-map has O(1) access ***with high probability***","title":"Is a Java hashmap search really O(1)?","body":"<p>A particular feature of a HashMap is that unlike, say, balanced trees, its behavior is probabilistic.  In these cases its usually most helpful to talk about complexity in terms of the probability of a worst-case event occurring would be.  For a hash map, that of course is the case of a collision with respect to how full the map happens to be.  A collision is pretty easy to estimate.  </p>\n\n<blockquote>\n  <p>p<sub>collision</sub> = n / capacity</p>\n</blockquote>\n\n<p>So a hash map with even a modest number of elements is pretty likely to experience at least one collision.  Big O notation allows us to do something more compelling. Observe that for any arbitrary, fixed constant k.</p>\n\n<blockquote>\n  <p>O(n) = O(k * n)</p>\n</blockquote>\n\n<p>We can use this feature to improve the performance of the hash map.  We could instead think about the probability of at most 2 collisions.</p>\n\n<blockquote>\n  <p>p<sub>collision x 2</sub> = (n / capacity)<sup>2</sup></p>\n</blockquote>\n\n<p>This is much lower.  Since the cost of handling one extra collision is irrelevant to Big O performance, we've found a way to improve performance without actually changing the algorithm!  We can generalzie this to </p>\n\n<blockquote>\n  <p>p<sub>collision x k</sub> = (n / capacity)<sup>k</sup></p>\n</blockquote>\n\n<p>And now we can disregard some arbitrary number of collisions and end up with vanishingly tiny likelihood of more collisions than we are accounting for.  You could get the probability to an arbitrarily tiny level by choosing the correct k, all without altering the actual implementation of the algorithm.</p>\n\n<p>We talk about this by saying that the hash-map has O(1) access <strong><em>with high probability</em></strong></p>\n"},{"tags":[],"owner":{"account_id":35497,"reputation":889,"user_id":100546,"accept_rate":88,"display_name":"jtb"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1246210975,"creation_date":1246210975,"answer_id":1055353,"question_id":1055243,"body_markdown":"We&#39;ve established that the standard description of hash table lookups being O(1) refers to the average-case expected time, not the strict worst-case performance. For a hash table resolving collisions with chaining (like Java&#39;s hashmap) this is technically O(1+) with [a good hash function][1], where  is the table&#39;s load factor. Still constant as long as the number of objects you&#39;re storing is no more than a constant factor larger than the table size.\r\n\r\nIt&#39;s also been explained that strictly speaking it&#39;s possible to construct input that requires O(*n*) lookups for any deterministic hash function. But it&#39;s also interesting to consider the worst-case *expected* time, which is different than average search time. Using chaining this is O(1 + the length of the longest chain), for example (log *n* / log log *n*) when =1.\r\n\r\nIf you&#39;re interested in theoretical ways to achieve constant time expected worst-case lookups, you can read about [dynamic perfect hashing][2] which resolves collisions recursively with another hash table!\r\n\r\n  [1]: http://en.wikipedia.org/wiki/SUHA &quot;Simple Uniform Hashing Assumption&quot;\r\n  [2]: http://courses.csail.mit.edu/6.897/spring03/scribe_notes/L2/lecture2.pdf &quot;MIT Adv. Algs. Lecture Notes&quot;","title":"Is a Java hashmap search really O(1)?","body":"<p>We've established that the standard description of hash table lookups being O(1) refers to the average-case expected time, not the strict worst-case performance. For a hash table resolving collisions with chaining (like Java's hashmap) this is technically O(1+) with <a href=\"http://en.wikipedia.org/wiki/SUHA\" rel=\"nofollow noreferrer\" title=\"Simple Uniform Hashing Assumption\">a good hash function</a>, where  is the table's load factor. Still constant as long as the number of objects you're storing is no more than a constant factor larger than the table size.</p>\n\n<p>It's also been explained that strictly speaking it's possible to construct input that requires O(<em>n</em>) lookups for any deterministic hash function. But it's also interesting to consider the worst-case <em>expected</em> time, which is different than average search time. Using chaining this is O(1 + the length of the longest chain), for example (log <em>n</em> / log log <em>n</em>) when =1.</p>\n\n<p>If you're interested in theoretical ways to achieve constant time expected worst-case lookups, you can read about <a href=\"http://courses.csail.mit.edu/6.897/spring03/scribe_notes/L2/lecture2.pdf\" rel=\"nofollow noreferrer\" title=\"MIT Adv. Algs. Lecture Notes\">dynamic perfect hashing</a> which resolves collisions recursively with another hash table!</p>\n"},{"tags":[],"owner":{"account_id":5401,"reputation":25013,"user_id":8677,"accept_rate":78,"display_name":"I. J. Kennedy"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1367438412,"creation_date":1246212353,"answer_id":1055395,"question_id":1055243,"body_markdown":"If the number of buckets (call it b) is held constant (the usual case), then lookup is actually O(n).\r\n&lt;br /&gt; As n gets large, the number of elements in each bucket averages n/b. If collision resolution is done in one of the usual ways (linked list for example), then lookup is O(n/b) = O(n).\r\n\r\nThe O notation is about what happens when n gets larger and larger. It can be misleading when applied to certain algorithms, and hash tables are a case in point. We choose the number of buckets based on how many elements we&#39;re expecting to deal with. When n is about the same size as b, then lookup is roughly constant-time, but we can&#39;t call it O(1) because O is defined in terms of a limit as n  .","title":"Is a Java hashmap search really O(1)?","body":"<p>If the number of buckets (call it b) is held constant (the usual case), then lookup is actually O(n).\n<br /> As n gets large, the number of elements in each bucket averages n/b. If collision resolution is done in one of the usual ways (linked list for example), then lookup is O(n/b) = O(n).</p>\n\n<p>The O notation is about what happens when n gets larger and larger. It can be misleading when applied to certain algorithms, and hash tables are a case in point. We choose the number of buckets based on how many elements we're expecting to deal with. When n is about the same size as b, then lookup is roughly constant-time, but we can't call it O(1) because O is defined in terms of a limit as n  .</p>\n"},{"tags":[],"owner":{"account_id":25137,"reputation":25266,"user_id":64376,"display_name":"Antti Huima"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1246213409,"creation_date":1246213409,"answer_id":1055435,"question_id":1055243,"body_markdown":"It is O(1) only if your hashing function is very good. The Java hash table implementation does not protect against bad hash functions.\r\n\r\nWhether you need to grow the table when you add items or not is not relevant to the question because it is about lookup time.","title":"Is a Java hashmap search really O(1)?","body":"<p>It is O(1) only if your hashing function is very good. The Java hash table implementation does not protect against bad hash functions.</p>\n\n<p>Whether you need to grow the table when you add items or not is not relevant to the question because it is about lookup time.</p>\n"},{"tags":[],"owner":{"account_id":24462,"reputation":15581,"user_id":62195,"accept_rate":77,"display_name":"Ryan Emerle"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1246231607,"creation_date":1246231607,"answer_id":1056034,"question_id":1055243,"body_markdown":"Academics aside, from a practical perspective, HashMaps should be accepted as having an inconsequential performance impact (unless your profiler tells you otherwise.)","title":"Is a Java hashmap search really O(1)?","body":"<p>Academics aside, from a practical perspective, HashMaps should be accepted as having an inconsequential performance impact (unless your profiler tells you otherwise.)</p>\n"},{"tags":[],"owner":{"account_id":2717349,"reputation":51,"user_id":2344433,"display_name":"Satyanarayana Kakollu"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1503428312,"creation_date":1376955823,"answer_id":18324788,"question_id":1055243,"body_markdown":"`O(1+n/k)` where `k` is the number of buckets. \r\n\r\nIf implementation sets `k = n/alpha` then it is `O(1+alpha) = O(1)` since `alpha` is a constant.","title":"Is a Java hashmap search really O(1)?","body":"<p><code>O(1+n/k)</code> where <code>k</code> is the number of buckets. </p>\n\n<p>If implementation sets <code>k = n/alpha</code> then it is <code>O(1+alpha) = O(1)</code> since <code>alpha</code> is a constant.</p>\n"},{"tags":[],"owner":{"account_id":2871026,"reputation":31449,"user_id":2464386,"accept_rate":84,"display_name":"ajb"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1503428365,"creation_date":1427523913,"answer_id":29314354,"question_id":1055243,"body_markdown":"I know this is an old question, but there&#39;s actually a new answer to it.\r\n\r\n  You&#39;re right that a hash map isn&#39;t really `O(1)`, strictly speaking, because as the number of elements gets arbitrarily large, eventually you will not be able to search in constant time (and O-notation is defined in terms of numbers that can get arbitrarily large).  \r\n\r\nBut it doesn&#39;t follow that the real time complexity is `O(n)`--because there&#39;s no rule that says that the buckets have to be implemented as a linear list.  \r\n\r\nIn fact, Java 8 implements the buckets as `TreeMaps` once they exceed a threshold, which makes the actual time `O(log n)`.","title":"Is a Java hashmap search really O(1)?","body":"<p>I know this is an old question, but there's actually a new answer to it.</p>\n\n<p>You're right that a hash map isn't really <code>O(1)</code>, strictly speaking, because as the number of elements gets arbitrarily large, eventually you will not be able to search in constant time (and O-notation is defined in terms of numbers that can get arbitrarily large).  </p>\n\n<p>But it doesn't follow that the real time complexity is <code>O(n)</code>--because there's no rule that says that the buckets have to be implemented as a linear list.  </p>\n\n<p>In fact, Java 8 implements the buckets as <code>TreeMaps</code> once they exceed a threshold, which makes the actual time <code>O(log n)</code>.</p>\n"},{"tags":[],"owner":{"account_id":1278947,"reputation":615,"user_id":1233523,"display_name":"sn.anurag"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1445254586,"creation_date":1445254586,"answer_id":33213376,"question_id":1055243,"body_markdown":"Only in theoretical case, when hashcodes are always different and bucket for every hash code is also different, the O(1) will exist. Otherwise, it is of constant order i.e. on increment of hashmap, its order of search remains constant.\r\n","title":"Is a Java hashmap search really O(1)?","body":"<p>Only in theoretical case, when hashcodes are always different and bucket for every hash code is also different, the O(1) will exist. Otherwise, it is of constant order i.e. on increment of hashmap, its order of search remains constant.</p>\n"},{"tags":[],"owner":{"account_id":9762174,"reputation":195,"user_id":7236932,"display_name":"Ramprabhu"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1546614538,"creation_date":1480609762,"answer_id":40915689,"question_id":1055243,"body_markdown":"Elements inside the HashMap are stored as an array of linked list (node), each linked list in the array represents a bucket for unique hash value of one or more keys.   \r\nWhile adding an entry in the HashMap, the hashcode of the key is used to determine the location of the bucket in the array, something like:\r\n\r\n    location = (arraylength - 1) &amp; keyhashcode\r\n\r\nHere the &amp; represents bitwise AND operator.\r\n\r\nFor example: `100 &amp; &quot;ABC&quot;.hashCode() = 64 (location of the bucket for the key &quot;ABC&quot;)`\r\n\r\nDuring the get operation it uses same way to determine the location of bucket for the key. Under the best case each key has unique hashcode and results in a unique bucket for each key, in this case the get method spends time only to determine the bucket location and retrieving the value which is constant O(1). \r\n\r\nUnder the worst case, all the keys have same hashcode and stored in same bucket, this results in traversing through the entire list which leads to O(n).\r\n\r\nIn the case of java 8, the Linked List bucket is replaced with a TreeMap if the size grows to more than 8, this reduces the worst case search efficiency to O(log n).\r\n\r\n","title":"Is a Java hashmap search really O(1)?","body":"<p>Elements inside the HashMap are stored as an array of linked list (node), each linked list in the array represents a bucket for unique hash value of one or more keys.<br>\nWhile adding an entry in the HashMap, the hashcode of the key is used to determine the location of the bucket in the array, something like:</p>\n\n<pre><code>location = (arraylength - 1) &amp; keyhashcode\n</code></pre>\n\n<p>Here the &amp; represents bitwise AND operator.</p>\n\n<p>For example: <code>100 &amp; \"ABC\".hashCode() = 64 (location of the bucket for the key \"ABC\")</code></p>\n\n<p>During the get operation it uses same way to determine the location of bucket for the key. Under the best case each key has unique hashcode and results in a unique bucket for each key, in this case the get method spends time only to determine the bucket location and retrieving the value which is constant O(1). </p>\n\n<p>Under the worst case, all the keys have same hashcode and stored in same bucket, this results in traversing through the entire list which leads to O(n).</p>\n\n<p>In the case of java 8, the Linked List bucket is replaced with a TreeMap if the size grows to more than 8, this reduces the worst case search efficiency to O(log n).</p>\n"}],"owner":{"account_id":8291,"reputation":860437,"user_id":14860,"accept_rate":100,"display_name":"paxdiablo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":163999,"favorite_count":0,"down_vote_count":1,"up_vote_count":191,"accepted_answer_id":1055337,"answer_count":15,"score":190,"last_activity_date":1673856869,"creation_date":1246207765,"question_id":1055243,"body_markdown":"I&#39;ve seen some interesting claims on SO re Java hashmaps and their `O(1)` lookup time. Can someone explain why this is so? Unless these hashmaps are vastly different from any of the hashing algorithms I was bought up on, there must always exist a dataset that contains collisions.\r\n\r\nIn which case, the lookup would be `O(n)` rather than `O(1)`. \r\n\r\nCan someone explain whether they *are* O(1) and, if so, how they achieve this?\r\n","title":"Is a Java hashmap search really O(1)?","body":"<p>I've seen some interesting claims on SO re Java hashmaps and their <code>O(1)</code> lookup time. Can someone explain why this is so? Unless these hashmaps are vastly different from any of the hashing algorithms I was bought up on, there must always exist a dataset that contains collisions.</p>\n\n<p>In which case, the lookup would be <code>O(n)</code> rather than <code>O(1)</code>. </p>\n\n<p>Can someone explain whether they <em>are</em> O(1) and, if so, how they achieve this?</p>\n"},{"tags":["java","mysql","hibernate"],"answers":[{"tags":[],"owner":{"account_id":27321132,"reputation":102,"user_id":20834798,"display_name":"Udit Mishra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673856677,"creation_date":1673412681,"answer_id":75078471,"question_id":71242425,"body_markdown":"    spring.jpa.properties.hibernate.globally_quoted_identifiers=true\r\n\r\n   add this to your application.properties file\r\n","title":"org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;create table customer","body":"<pre><code>spring.jpa.properties.hibernate.globally_quoted_identifiers=true\n</code></pre>\n<p>add this to your application.properties file</p>\n"}],"owner":{"account_id":8414904,"reputation":1,"user_id":6315662,"display_name":"martin nnachi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673856677,"creation_date":1645641573,"question_id":71242425,"body_markdown":"I get this error every time I try and implement hibernate with my spring booty application. I don&#39;t know if it&#39;s an issue with mySQL commands. I&#39;m using maven dependencies, tried everything I know...no results. Please help\r\n\r\n        enterorg.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;create table customer (id integer generated by default as identity, email varchar(255), first_name varchar(255), last_name varchar(255), primary key (id))&quot; via JDBC Statement\r\n    \tat org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n    \tat org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlString(SchemaCreatorImpl.java:458) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n    \tat org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlStrings(SchemaCreatorImpl.java:442) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n    \tat org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:325) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n    \tat org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:169) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n    \tat org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:138) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n    \tat org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:124) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n    \tat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:164) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n    \tat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:81) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n    \tat org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:335) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n    \tat org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:471) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n    \tat org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:728) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n    \tat org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:746) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n    \tat org.springframework.orm.hibernate5.LocalSessionFactoryBean.buildSessionFactory(LocalSessionFactoryBean.java:616) ~[spring-orm-5.3.15.jar:5.3.15]\r\n    \tat org.springframework.orm.hibernate5.LocalSessionFactoryBean.afterPropertiesSet(LocalSessionFactoryBean.java:600) ~[spring-orm-5.3.15.jar:5.3.15]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389) ~[spring-beans-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309) ~[spring-beans-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:656) ~[spring-beans-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:639) ~[spring-beans-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119) ~[spring-beans-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399) ~[spring-beans-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431) ~[spring-beans-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619) ~[spring-beans-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389) ~[spring-beans-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309) ~[spring-beans-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:656) ~[spring-beans-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:639) ~[spring-beans-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119) ~[spring-beans-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399) ~[spring-beans-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431) ~[spring-beans-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619) ~[spring-beans-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:953) ~[spring-beans-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.6.2.jar:2.6.2]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730) ~[spring-boot-2.6.2.jar:2.6.2]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:412) ~[spring-boot-2.6.2.jar:2.6.2]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:302) ~[spring-boot-2.6.2.jar:2.6.2]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1301) ~[spring-boot-2.6.2.jar:2.6.2]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1290) ~[spring-boot-2.6.2.jar:2.6.2]\r\n    \tat com.martinnnachi.springdemo.WebCustomerTrackerApplication.main(WebCustomerTrackerApplication.java:10) ~[classes/:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n    \tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.6.3.jar:2.6.3]\r\n    Caused by: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &#39;by default as identity, email varchar(255), first_name varchar(255), last_name v&#39; at line 1\r\n    \tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120) ~[mysql-connector-java-8.0.27.jar:8.0.27]\r\n    \tat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-java-8.0.27.jar:8.0.27]\r\n    \tat com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:768) ~[mysql-connector-java-8.0.27.jar:8.0.27]\r\n    \tat com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:653) ~[mysql-connector-java-8.0.27.jar:8.0.27]\r\n    \tat org.apache.tomcat.dbcp.dbcp2.DelegatingStatement.execute(DelegatingStatement.java:193) ~[tomcat-dbcp-10.0.14.jar:10.0.14]\r\n    \tat org.apache.tomcat.dbcp.dbcp2.DelegatingStatement.execute(DelegatingStatement.java:193) ~[tomcat-dbcp-10.0.14.jar:10.0.14]\r\n    \tat org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n    \t... 65 common frames omitted\r\n\r\nMy entity class is below. I&#39;ve gone through every line of code to ensure the annotations are correct\r\n\r\n\r\n    codepackage com.martinnnachi.springdemo.entity;\r\n    \r\n    \r\n    import lombok.Getter;\r\n    import lombok.Setter;\r\n    import lombok.ToString;\r\n    \r\n    import javax.persistence.*;\r\n    \r\n    @Entity\r\n    @Table(name = &quot;customer&quot;)\r\n    @Getter\r\n    @Setter\r\n    @ToString\r\n    public class Customer {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(name = &quot;id&quot;)\r\n        private int id;\r\n    \r\n        @Column(name = &quot;first_name&quot;)\r\n        private String firstName;\r\n    \r\n        @Column(name = &quot;last_name&quot;)\r\n        private String lastName;\r\n    \r\n        @Column(name = &quot;email&quot;)\r\n        private String email;\r\n    \r\n        public Customer() {\r\n    \r\n        }\r\n    }\r\n\r\n\r\n My application.properties file. Not sure if I missed something\r\n\r\n   \r\n\r\n     enter cospring.mvc.view.prefix= /WEB-INF/view/\r\n    spring.mvc.view.suffix= .jsp\r\n    \r\n    spring.jpa.properties.hibernate.current_session_context_class=org.springframework.orm.hibernate5.SpringSessionContext\r\n    spring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQL5Dialect\r\n    \r\n    #datasource configurations-\r\n    spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\n    \r\n    # DDL generation\r\n    spring.jpa.generate-ddl=true\r\n    spring.datasource.url=&quot;jdbc:mysql://localhost:3306/web_customer_tracker?useSSL=false&amp;serverTimezone=UTC&quot;\r\n    spring.datasource.username=springstudent\r\n    spring.datasource.password=springstudent\r\n    spring.datasource.driverClassName=com.mysql.cj.jdbc.Driver\r\n    spring.jpa.show-sql=true\r\n    spring.jpa.hibernate.ddl-auto=create\r\n\r\npom.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n    \r\n        &lt;groupId&gt;com.martinnnachi.springboot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;web-customer-tracker&lt;/artifactId&gt;\r\n        &lt;packaging&gt;jar&lt;/packaging&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    \r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;2.6.2&lt;/version&gt;\r\n        &lt;/parent&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;java.version&gt;17&lt;/java.version&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n                &lt;version&gt;2.6.3&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n                &lt;version&gt;2.6.3&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n                &lt;version&gt;2.6.3&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n                &lt;version&gt;2.6.3&lt;/version&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n                &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\r\n                &lt;version&gt;10.0.14&lt;/version&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n                &lt;version&gt;2.6.3&lt;/version&gt;\r\n                &lt;optional&gt;true&lt;/optional&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n                &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n                &lt;version&gt;2.0.1.Final&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\r\n                &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n                &lt;version&gt;7.0.1.Final&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n                &lt;version&gt;2.6.3&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n                &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n                &lt;version&gt;5.6.5.Final&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- https://mvnrepository.com/artifact/com.mchange/c3p0 --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.mchange&lt;/groupId&gt;\r\n                &lt;artifactId&gt;c3p0&lt;/artifactId&gt;\r\n                &lt;version&gt;0.9.5.5&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n                &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                &lt;version&gt;1.18.22&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\r\n                &lt;version&gt;5.3.15&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\r\n                &lt;artifactId&gt;tomcat-dbcp&lt;/artifactId&gt;\r\n                &lt;version&gt;10.0.14&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n    \r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\nThis is my bean config class, initially i had issues with the session factory bean creation but i believe this solved that issue:\r\n\r\n    package com.martinnnachi.springdemo.config;\r\n\r\n    import org.apache.tomcat.dbcp.dbcp2.BasicDataSource;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.context.annotation.PropertySource;\r\n    import org.springframework.orm.hibernate5.LocalSessionFactoryBean;\r\n    import org.springframework.transaction.annotation.EnableTransactionManagement;\r\n    \r\n    import javax.sql.DataSource;\r\n    import java.util.Properties;\r\n    \r\n    @Configuration\r\n    @PropertySource(value = { &quot;classpath:application.properties&quot; })\r\n    @EnableTransactionManagement\r\n    public class BeanConfig {\r\n    \r\n        @Bean\r\n        public LocalSessionFactoryBean sessionFactory() {\r\n            LocalSessionFactoryBean sessionFactory = new LocalSessionFactoryBean();\r\n            sessionFactory.setDataSource( dataSource() );\r\n            sessionFactory.setPackagesToScan(\r\n                    &quot;com.martinnnachi.springdemo.entity&quot; );\r\n            sessionFactory.setHibernateProperties( hibernateProperties() );\r\n    \r\n            return sessionFactory;\r\n        }\r\n    \r\n        @Bean\r\n        public DataSource dataSource() {\r\n            BasicDataSource dataSource = new BasicDataSource();\r\n            dataSource.setDriverClassName( &quot;com.mysql.cj.jdbc.Driver&quot; );\r\n            dataSource.setUrl( &quot;jdbc:mysql://localhost:3306/web_customer_tracker?useSSL=false&amp;serverTimezone=UTC&quot; );\r\n            dataSource.setUsername( &quot;springstudent&quot; );\r\n            dataSource.setPassword( &quot;springstudent&quot; );\r\n    \r\n            return dataSource;\r\n        }\r\n    \r\n        private Properties hibernateProperties() {\r\n            Properties hibernateProperties = new Properties();\r\n            hibernateProperties.setProperty(\r\n                    &quot;hibernate.hbm2ddl.auto&quot;, &quot;create-drop&quot; );\r\n            hibernateProperties.setProperty(\r\n                    &quot;hibernate.dialect&quot;, &quot;org.hibernate.dialect.H2Dialect&quot; );\r\n    \r\n            return hibernateProperties;\r\n        }\r\n    }\r\n\r\nNot sure what else i missed. been pulling my hair out all day! i would appreciate any help offered","title":"org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;create table customer","body":"<p>I get this error every time I try and implement hibernate with my spring booty application. I don't know if it's an issue with mySQL commands. I'm using maven dependencies, tried everything I know...no results. Please help</p>\n<pre><code>    enterorg.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;create table customer (id integer generated by default as identity, email varchar(255), first_name varchar(255), last_name varchar(255), primary key (id))&quot; via JDBC Statement\n    at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\n    at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlString(SchemaCreatorImpl.java:458) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\n    at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlStrings(SchemaCreatorImpl.java:442) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\n    at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:325) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\n    at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:169) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\n    at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:138) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\n    at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:124) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\n    at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:164) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\n    at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:81) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\n    at org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:335) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\n    at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:471) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\n    at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:728) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\n    at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:746) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\n    at org.springframework.orm.hibernate5.LocalSessionFactoryBean.buildSessionFactory(LocalSessionFactoryBean.java:616) ~[spring-orm-5.3.15.jar:5.3.15]\n    at org.springframework.orm.hibernate5.LocalSessionFactoryBean.afterPropertiesSet(LocalSessionFactoryBean.java:600) ~[spring-orm-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.14.jar:5.3.14]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.14.jar:5.3.14]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.14.jar:5.3.14]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.14.jar:5.3.14]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.14.jar:5.3.14]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.14.jar:5.3.14]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.14.jar:5.3.14]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.14.jar:5.3.14]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.14.jar:5.3.14]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389) ~[spring-beans-5.3.14.jar:5.3.14]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309) ~[spring-beans-5.3.14.jar:5.3.14]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:656) ~[spring-beans-5.3.14.jar:5.3.14]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:639) ~[spring-beans-5.3.14.jar:5.3.14]\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119) ~[spring-beans-5.3.14.jar:5.3.14]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399) ~[spring-beans-5.3.14.jar:5.3.14]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431) ~[spring-beans-5.3.14.jar:5.3.14]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619) ~[spring-beans-5.3.14.jar:5.3.14]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.14.jar:5.3.14]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.14.jar:5.3.14]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.14.jar:5.3.14]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.14.jar:5.3.14]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.14.jar:5.3.14]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.14.jar:5.3.14]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389) ~[spring-beans-5.3.14.jar:5.3.14]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309) ~[spring-beans-5.3.14.jar:5.3.14]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:656) ~[spring-beans-5.3.14.jar:5.3.14]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:639) ~[spring-beans-5.3.14.jar:5.3.14]\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119) ~[spring-beans-5.3.14.jar:5.3.14]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399) ~[spring-beans-5.3.14.jar:5.3.14]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431) ~[spring-beans-5.3.14.jar:5.3.14]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619) ~[spring-beans-5.3.14.jar:5.3.14]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.14.jar:5.3.14]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.14.jar:5.3.14]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.14.jar:5.3.14]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.14.jar:5.3.14]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.14.jar:5.3.14]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:953) ~[spring-beans-5.3.14.jar:5.3.14]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.14.jar:5.3.14]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.14.jar:5.3.14]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.6.2.jar:2.6.2]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730) ~[spring-boot-2.6.2.jar:2.6.2]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:412) ~[spring-boot-2.6.2.jar:2.6.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:302) ~[spring-boot-2.6.2.jar:2.6.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1301) ~[spring-boot-2.6.2.jar:2.6.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1290) ~[spring-boot-2.6.2.jar:2.6.2]\n    at com.martinnnachi.springdemo.WebCustomerTrackerApplication.main(WebCustomerTrackerApplication.java:10) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.6.3.jar:2.6.3]\nCaused by: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'by default as identity, email varchar(255), first_name varchar(255), last_name v' at line 1\n    at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120) ~[mysql-connector-java-8.0.27.jar:8.0.27]\n    at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-java-8.0.27.jar:8.0.27]\n    at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:768) ~[mysql-connector-java-8.0.27.jar:8.0.27]\n    at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:653) ~[mysql-connector-java-8.0.27.jar:8.0.27]\n    at org.apache.tomcat.dbcp.dbcp2.DelegatingStatement.execute(DelegatingStatement.java:193) ~[tomcat-dbcp-10.0.14.jar:10.0.14]\n    at org.apache.tomcat.dbcp.dbcp2.DelegatingStatement.execute(DelegatingStatement.java:193) ~[tomcat-dbcp-10.0.14.jar:10.0.14]\n    at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\n    ... 65 common frames omitted\n</code></pre>\n<p>My entity class is below. I've gone through every line of code to ensure the annotations are correct</p>\n<pre><code>codepackage com.martinnnachi.springdemo.entity;\n\n\nimport lombok.Getter;\nimport lombok.Setter;\nimport lombok.ToString;\n\nimport javax.persistence.*;\n\n@Entity\n@Table(name = &quot;customer&quot;)\n@Getter\n@Setter\n@ToString\npublic class Customer {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;)\n    private int id;\n\n    @Column(name = &quot;first_name&quot;)\n    private String firstName;\n\n    @Column(name = &quot;last_name&quot;)\n    private String lastName;\n\n    @Column(name = &quot;email&quot;)\n    private String email;\n\n    public Customer() {\n\n    }\n}\n</code></pre>\n<p>My application.properties file. Not sure if I missed something</p>\n<pre><code> enter cospring.mvc.view.prefix= /WEB-INF/view/\nspring.mvc.view.suffix= .jsp\n\nspring.jpa.properties.hibernate.current_session_context_class=org.springframework.orm.hibernate5.SpringSessionContext\nspring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQL5Dialect\n\n#datasource configurations-\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\n\n# DDL generation\nspring.jpa.generate-ddl=true\nspring.datasource.url=&quot;jdbc:mysql://localhost:3306/web_customer_tracker?useSSL=false&amp;serverTimezone=UTC&quot;\nspring.datasource.username=springstudent\nspring.datasource.password=springstudent\nspring.datasource.driverClassName=com.mysql.cj.jdbc.Driver\nspring.jpa.show-sql=true\nspring.jpa.hibernate.ddl-auto=create\n</code></pre>\n<p>pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n\n    &lt;groupId&gt;com.martinnnachi.springboot&lt;/groupId&gt;\n    &lt;artifactId&gt;web-customer-tracker&lt;/artifactId&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.2&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n            &lt;version&gt;2.6.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n            &lt;version&gt;2.6.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;version&gt;2.6.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;version&gt;2.6.3&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n            &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\n            &lt;version&gt;10.0.14&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;version&gt;2.6.3&lt;/version&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n            &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n            &lt;version&gt;2.0.1.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n            &lt;version&gt;7.0.1.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n            &lt;version&gt;2.6.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n            &lt;version&gt;5.6.5.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/com.mchange/c3p0 --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mchange&lt;/groupId&gt;\n            &lt;artifactId&gt;c3p0&lt;/artifactId&gt;\n            &lt;version&gt;0.9.5.5&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;1.18.22&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\n            &lt;version&gt;5.3.15&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\n            &lt;artifactId&gt;tomcat-dbcp&lt;/artifactId&gt;\n            &lt;version&gt;10.0.14&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>This is my bean config class, initially i had issues with the session factory bean creation but i believe this solved that issue:</p>\n<pre><code>package com.martinnnachi.springdemo.config;\n\nimport org.apache.tomcat.dbcp.dbcp2.BasicDataSource;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.context.annotation.PropertySource;\nimport org.springframework.orm.hibernate5.LocalSessionFactoryBean;\nimport org.springframework.transaction.annotation.EnableTransactionManagement;\n\nimport javax.sql.DataSource;\nimport java.util.Properties;\n\n@Configuration\n@PropertySource(value = { &quot;classpath:application.properties&quot; })\n@EnableTransactionManagement\npublic class BeanConfig {\n\n    @Bean\n    public LocalSessionFactoryBean sessionFactory() {\n        LocalSessionFactoryBean sessionFactory = new LocalSessionFactoryBean();\n        sessionFactory.setDataSource( dataSource() );\n        sessionFactory.setPackagesToScan(\n                &quot;com.martinnnachi.springdemo.entity&quot; );\n        sessionFactory.setHibernateProperties( hibernateProperties() );\n\n        return sessionFactory;\n    }\n\n    @Bean\n    public DataSource dataSource() {\n        BasicDataSource dataSource = new BasicDataSource();\n        dataSource.setDriverClassName( &quot;com.mysql.cj.jdbc.Driver&quot; );\n        dataSource.setUrl( &quot;jdbc:mysql://localhost:3306/web_customer_tracker?useSSL=false&amp;serverTimezone=UTC&quot; );\n        dataSource.setUsername( &quot;springstudent&quot; );\n        dataSource.setPassword( &quot;springstudent&quot; );\n\n        return dataSource;\n    }\n\n    private Properties hibernateProperties() {\n        Properties hibernateProperties = new Properties();\n        hibernateProperties.setProperty(\n                &quot;hibernate.hbm2ddl.auto&quot;, &quot;create-drop&quot; );\n        hibernateProperties.setProperty(\n                &quot;hibernate.dialect&quot;, &quot;org.hibernate.dialect.H2Dialect&quot; );\n\n        return hibernateProperties;\n    }\n}\n</code></pre>\n<p>Not sure what else i missed. been pulling my hair out all day! i would appreciate any help offered</p>\n"},{"tags":["java","jaxb","xjc"],"owner":{"account_id":14480538,"reputation":439,"user_id":10459891,"display_name":"htmoia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673856562,"creation_date":1673856562,"question_id":75131586,"body_markdown":"Given a *.xsd* file such as\r\n```xml\r\n&lt;xs:element name=&quot;SHRTC&quot;&gt;\r\n        &lt;xs:annotation&gt;\r\n            &lt;xs:appinfo&gt;\r\n                &lt;aa:longname&gt;ShortCut&lt;/aa:longname&gt;\r\n            &lt;/xs:appinfo&gt;           \r\n        &lt;/xs:annotation&gt;\r\n...\r\n&lt;/xs:element&gt;\r\n```\r\n\r\nI would like to generate Java beans. Using **xjc** I&#39;m able to generate these java classes:\r\n\r\n```java\r\n@XmlAccessorType(XmlAccessType.FIELD)\r\n@XmlRootElement(name = SHRTC)\r\npublic class SHRTC {\r\n}\r\n...\r\n```\r\n\r\nI can use a binding xml such as\r\n\r\n```xml\r\n&lt;jxb:bindings node=&quot;//xs:element[@name=&#39;SHRTC&#39;]&quot;&gt;\r\n      &lt;jxb:class name=&quot;ShortCut&quot;/&gt;\r\n    &lt;/jxb:bindings&gt;\r\n```\r\n\r\nto manually change the name of the class.\r\n\r\n**Question:**\r\n\r\nIs there a way to automatically tell *xjc* (or *jaxb*, or any other tool) to use the property provided in `&lt;aa:longname /&gt;` as the class name **without** changing the xsd-file or manually creating the binding file?","title":"Class generation with xjc and/or jaxb","body":"<p>Given a <em>.xsd</em> file such as</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;xs:element name=&quot;SHRTC&quot;&gt;\n        &lt;xs:annotation&gt;\n            &lt;xs:appinfo&gt;\n                &lt;aa:longname&gt;ShortCut&lt;/aa:longname&gt;\n            &lt;/xs:appinfo&gt;           \n        &lt;/xs:annotation&gt;\n...\n&lt;/xs:element&gt;\n</code></pre>\n<p>I would like to generate Java beans. Using <strong>xjc</strong> I'm able to generate these java classes:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@XmlAccessorType(XmlAccessType.FIELD)\n@XmlRootElement(name = SHRTC)\npublic class SHRTC {\n}\n...\n</code></pre>\n<p>I can use a binding xml such as</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;jxb:bindings node=&quot;//xs:element[@name='SHRTC']&quot;&gt;\n      &lt;jxb:class name=&quot;ShortCut&quot;/&gt;\n    &lt;/jxb:bindings&gt;\n</code></pre>\n<p>to manually change the name of the class.</p>\n<p><strong>Question:</strong></p>\n<p>Is there a way to automatically tell <em>xjc</em> (or <em>jaxb</em>, or any other tool) to use the property provided in <code>&lt;aa:longname /&gt;</code> as the class name <strong>without</strong> changing the xsd-file or manually creating the binding file?</p>\n"},{"tags":["java","eclipse","jboss","migration","java-platform-module-system"],"answers":[{"tags":[],"owner":{"account_id":8876914,"reputation":451,"user_id":6628723,"display_name":"Saravanakrishnan Pk"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1629344727,"creation_date":1629344727,"answer_id":68841772,"question_id":68839894,"body_markdown":"Java 9 introduced a new requirement as defined in JLS &#167;7.4.3. Every qualified type name requires that its prefix is a uniquely visible package. The incompatibility is due to transitive dependencies allowed in prior Java versions.\r\n\r\nWhen the project Properties, Java Compiler, &quot;Compiler compliance level&quot; is set to higher than &quot;1.8&quot;, Eclipse will report violations of this requirement. Since the custom Java implementation when using Streaming 10.6 or higher will be running in a Java 11 JVM, these must be resolved.\r\n\r\nThe resolution choices are to:\r\n\r\n 1. upgrade the libraries to a Java 11 compatible version without\r\n    transitive dependencies, \r\n 2. exclude the conflict explicitly in POM\r\n    dependencyManagement, or\r\n 3. avoid the conflict by only importing\r\n    the classes needed and do not use wildcards (*) in import\r\n    statements.\r\n\r\nIn all cases, some investigation will need to be done to find the source of the conflict by knowing what packages each library brings into the project and the specific uses of the classes from those libraries. To see what dependencies each library exposes to the project, use:\r\n\r\n  `mvn dependency:tree`\r\n\r\nThis will provide the information to find what needs to be imported explicitly or excluded.\r\n\r\n\r\nReferenced from: https://support.tibco.com/s/article/Upgrading-Streaming-projects-to-use-Java-11-package-is-accessible-from-more-than-one-module","title":"Java 11 migration: Package is accessible from more than one module issue","body":"<p>Java 9 introduced a new requirement as defined in JLS 7.4.3. Every qualified type name requires that its prefix is a uniquely visible package. The incompatibility is due to transitive dependencies allowed in prior Java versions.</p>\n<p>When the project Properties, Java Compiler, &quot;Compiler compliance level&quot; is set to higher than &quot;1.8&quot;, Eclipse will report violations of this requirement. Since the custom Java implementation when using Streaming 10.6 or higher will be running in a Java 11 JVM, these must be resolved.</p>\n<p>The resolution choices are to:</p>\n<ol>\n<li>upgrade the libraries to a Java 11 compatible version without\ntransitive dependencies,</li>\n<li>exclude the conflict explicitly in POM\ndependencyManagement, or</li>\n<li>avoid the conflict by only importing\nthe classes needed and do not use wildcards (*) in import\nstatements.</li>\n</ol>\n<p>In all cases, some investigation will need to be done to find the source of the conflict by knowing what packages each library brings into the project and the specific uses of the classes from those libraries. To see what dependencies each library exposes to the project, use:</p>\n<p><code>mvn dependency:tree</code></p>\n<p>This will provide the information to find what needs to be imported explicitly or excluded.</p>\n<p>Referenced from: <a href=\"https://support.tibco.com/s/article/Upgrading-Streaming-projects-to-use-Java-11-package-is-accessible-from-more-than-one-module\" rel=\"nofollow noreferrer\">https://support.tibco.com/s/article/Upgrading-Streaming-projects-to-use-Java-11-package-is-accessible-from-more-than-one-module</a></p>\n"}],"owner":{"account_id":7630306,"reputation":43,"user_id":5785574,"display_name":"Nirmal581"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4010,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1673855585,"creation_date":1629324777,"question_id":68839894,"body_markdown":"I&#39;m migrating a Java 8 project to Java 11. IDE used is Eclipse 2020-09. I have NOT modularized the project.\r\n\r\nFor the below imports:\r\n\r\n    import org.w3c.dom.Document;\r\n    import org.w3c.dom.Element;\r\n    import org.w3c.dom.Node;\r\n    import org.w3c.dom.NodeList;\r\n\r\nI&#39;m getting compile time error message:\r\n\r\n    The package org.w3c.dom is accessible from more than one module: &lt;unnamed&gt;, java.xml\r\nI have checked my project and **org.w3c.dom** package is not present in 3rd party libs or added by any transitive dependencies in the project jars.\r\n\r\nHowever note that org.w3c.dom.Document is an interface and I found few libraries that implement this interface. Is this the root cause of \r\n\r\n&gt; package is accessible from more than one module\r\n\r\n message ?\r\n\r\n[Below are the implementors of org.w3c.dom.Document in Eclipse project][1]\r\n\r\n  [1]: https://i.stack.imgur.com/98iaD.png\r\n\r\nAs you can see in above screenshot the JBoss EAP 7.3 runtime libraries contain implementation of `org.w3c.dom.Document`. Is it correct to say JBoss runtime libraries are contributing to this Java 11 migration problem I&#39;m having ?","title":"Java 11 migration: Package is accessible from more than one module issue","body":"<p>I'm migrating a Java 8 project to Java 11. IDE used is Eclipse 2020-09. I have NOT modularized the project.</p>\n<p>For the below imports:</p>\n<pre><code>import org.w3c.dom.Document;\nimport org.w3c.dom.Element;\nimport org.w3c.dom.Node;\nimport org.w3c.dom.NodeList;\n</code></pre>\n<p>I'm getting compile time error message:</p>\n<pre><code>The package org.w3c.dom is accessible from more than one module: &lt;unnamed&gt;, java.xml\n</code></pre>\n<p>I have checked my project and <strong>org.w3c.dom</strong> package is not present in 3rd party libs or added by any transitive dependencies in the project jars.</p>\n<p>However note that org.w3c.dom.Document is an interface and I found few libraries that implement this interface. Is this the root cause of</p>\n<blockquote>\n<p>package is accessible from more than one module</p>\n</blockquote>\n<p>message ?</p>\n<p><a href=\"https://i.stack.imgur.com/98iaD.png\" rel=\"nofollow noreferrer\">Below are the implementors of org.w3c.dom.Document in Eclipse project</a></p>\n<p>As you can see in above screenshot the JBoss EAP 7.3 runtime libraries contain implementation of <code>org.w3c.dom.Document</code>. Is it correct to say JBoss runtime libraries are contributing to this Java 11 migration problem I'm having ?</p>\n"},{"tags":["java","json","protocol-buffers"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1672641890,"post_id":74979565,"comment_id":132316912,"body_markdown":"Hand write some code to translate from one POJO to the other. (I assume you don&#39;t create a `Printer` for each object)","body":"Hand write some code to translate from one POJO to the other. (I assume you don&#39;t create a <code>Printer</code> for each object)"},{"owner":{"account_id":1891460,"reputation":2159,"user_id":1709417,"accept_rate":56,"display_name":"Nishant Kumar"},"score":0,"creation_date":1672643159,"post_id":74979565,"comment_id":132317133,"body_markdown":"@tgdavies I am creating `Printer` for each object. can i resue it? (i didn&#39;t find any doc that says so). `Printer printer = JsonFormat.printer().printingEnumsAsInts().omittingInsignificantWhitespace();`. this is used by multiple threads. is it thread-safe?","body":"@tgdavies I am creating <code>Printer</code> for each object. can i resue it? (i didn&#39;t find any doc that says so). <code>Printer printer = JsonFormat.printer().printingEnumsAsInts().omittingInsignifi&zwnj;&#8203;cantWhitespace();</code>. this is used by multiple threads. is it thread-safe?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1672644075,"post_id":74979565,"comment_id":132317291,"body_markdown":"I don&#39;t know whether it&#39;s thread-safe. I would guess that it is.","body":"I don&#39;t know whether it&#39;s thread-safe. I would guess that it is."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1672665152,"post_id":74979565,"comment_id":132322331,"body_markdown":"Don&#39;t just copyu from one pojo to another. Don&#39;t do an intermediate step for JSON that will only take resources. Use something like MapStruct to generate mappers.","body":"Don&#39;t just copyu from one pojo to another. Don&#39;t do an intermediate step for JSON that will only take resources. Use something like MapStruct to generate mappers."}],"answers":[{"tags":[],"owner":{"account_id":4382998,"reputation":406,"user_id":3574093,"display_name":"Florian Enner"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1672675088,"creation_date":1672663489,"answer_id":74982587,"question_id":74979565,"body_markdown":"I ran into some performance issues as well and ended up writing the [QuickBuffers][1] library. It generates dedicated JSON serialization methods (i.e. no reflection) and should give you a 10-30x speedup. It can be used side-by-side with Google&#39;s implementation. The code should look something like this:\r\n\r\n        // Initialization (objects can be reused if desired)\r\n        AdxOpenRtb.BidRequest bidRequestProto = AdxOpenRtb.BidRequest.newInstance();\r\n        ProtoSource protoSource = ProtoSource.newArraySource();\r\n        JsonSink jsonSink = JsonSink.newInstance().setWriteEnumsAsInts(true);\r\n\r\n        // Convert Protobuf to JSON\r\n        bidRequestProto.clearQuick() // or ::parseFrom if you want a new object\r\n                .mergeFrom(protoSource.setInput(request))\r\n                .writeTo(jsonSink.clear());\r\n\r\n        // Use the raw json bytes\r\n        RepeatedByte jsonBytes = jsonSink.getBytes();\r\n\r\n[JsonSinkBenchmark][2] has some sample code for replacing the built-in JSON encoder with more battle-tested Gson/Jackson backends.\r\n\r\n**Edit**: if you&#39;re doing this within a single process and are worried about performance, you&#39;re better off writing or generating code to convert the Java objects directly. JSON is not a very efficient format to go through.\r\n\r\n  [1]: https://github.com/HebiRobotics/QuickBuffers\r\n  [2]: https://github.com/HebiRobotics/QuickBuffers/blob/490622c418a630be5d5de2a87c14bdc081684fe9/benchmarks/src/main/java/us/hebi/quickbuf/benchmarks/json/JsonSinkBenchmark.java","title":"Java: Protobuf byte to Json string to Pojo fast","body":"<p>I ran into some performance issues as well and ended up writing the <a href=\"https://github.com/HebiRobotics/QuickBuffers\" rel=\"nofollow noreferrer\">QuickBuffers</a> library. It generates dedicated JSON serialization methods (i.e. no reflection) and should give you a 10-30x speedup. It can be used side-by-side with Google's implementation. The code should look something like this:</p>\n<pre><code>    // Initialization (objects can be reused if desired)\n    AdxOpenRtb.BidRequest bidRequestProto = AdxOpenRtb.BidRequest.newInstance();\n    ProtoSource protoSource = ProtoSource.newArraySource();\n    JsonSink jsonSink = JsonSink.newInstance().setWriteEnumsAsInts(true);\n\n    // Convert Protobuf to JSON\n    bidRequestProto.clearQuick() // or ::parseFrom if you want a new object\n            .mergeFrom(protoSource.setInput(request))\n            .writeTo(jsonSink.clear());\n\n    // Use the raw json bytes\n    RepeatedByte jsonBytes = jsonSink.getBytes();\n</code></pre>\n<p><a href=\"https://github.com/HebiRobotics/QuickBuffers/blob/490622c418a630be5d5de2a87c14bdc081684fe9/benchmarks/src/main/java/us/hebi/quickbuf/benchmarks/json/JsonSinkBenchmark.java\" rel=\"nofollow noreferrer\">JsonSinkBenchmark</a> has some sample code for replacing the built-in JSON encoder with more battle-tested Gson/Jackson backends.</p>\n<p><strong>Edit</strong>: if you're doing this within a single process and are worried about performance, you're better off writing or generating code to convert the Java objects directly. JSON is not a very efficient format to go through.</p>\n"},{"tags":[],"owner":{"account_id":1891460,"reputation":2159,"user_id":1709417,"accept_rate":56,"display_name":"Nishant Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673855456,"creation_date":1673855026,"answer_id":75131388,"question_id":74979565,"body_markdown":"I end up using `MapStruct` as suggested by some of you (@M.Deinum).\r\n\r\nnew code:\r\n\r\n```\r\nbyte[] request = ..; // msg received\r\n\r\n// convert to intermediate POJO\r\nAdxOpenRtb.BidRequest bidRequestProto = AdxOpenRtb.BidRequest.parseFrom(request, reg);\r\n\r\n// direct conversion from protobuf Pojo to my custom Pojo\r\nBidRequest bidRequest = BidRequestMapper.INSTANCE.adxOpenRtbToBidRequest(bidRequestProto);\r\n\r\n```\r\nCode snippet of `BidRequestMapper`:\r\n```\r\n@Mapper(\r\n    collectionMappingStrategy = CollectionMappingStrategy.ADDER_PREFERRED, nullValueCheckStrategy = NullValueCheckStrategy.ALWAYS,\r\n    unmappedSourcePolicy = ReportingPolicy.WARN, unmappedTargetPolicy = ReportingPolicy.WARN)\r\n@DecoratedWith(BidRequestMapperDecorator.class)\r\npublic abstract class BidRequestMapper {\r\n\r\n  public static final BidRequestMapper INSTANCE = Mappers.getMapper(BidRequestMapper.class);\r\n\r\n  @Mapping(source = &quot;impList&quot;, target = &quot;imp&quot;)\r\n  @Mapping(target = &quot;impOverride&quot;, ignore = true)\r\n  @Mapping(target = &quot;ext&quot;, ignore = true)\r\n  public abstract BidRequest adxOpenRtbToBidRequest(AdxOpenRtb.BidRequest adxOpenRtb);\r\n...\r\n...\r\n}\r\n\r\n// manage proto extensions\r\nabstract class BidRequestMapperDecorator extends BidRequestMapper {\r\n  private final BidRequestMapper delegate;\r\n\r\n  BidRequestMapperDecorator(BidRequestMapper delegate) {\r\n    this.delegate = delegate;\r\n  }\r\n\r\n  @Override\r\n  public BidRequest adxOpenRtbToBidRequest(AdxOpenRtb.BidRequest bidRequestProto) {\r\n    // Covert protobuf msg to basic bid request object\r\n    BidRequest bidRequest = delegate.adxOpenRtbToBidRequest(bidRequestProto);\r\n...\r\n...\r\n  }\r\n}\r\n```\r\n\r\nThe new approach is **20-50x faster** in my local test environment. \r\n\r\nIt&#39;s worth mentioning that `MapStruct` is an **annotation processor** which makes it much faster than other similar libraries which use **reflection** and it also has very good support for customization.","title":"Java: Protobuf byte to Json string to Pojo fast","body":"<p>I end up using <code>MapStruct</code> as suggested by some of you (@M.Deinum).</p>\n<p>new code:</p>\n<pre><code>byte[] request = ..; // msg received\n\n// convert to intermediate POJO\nAdxOpenRtb.BidRequest bidRequestProto = AdxOpenRtb.BidRequest.parseFrom(request, reg);\n\n// direct conversion from protobuf Pojo to my custom Pojo\nBidRequest bidRequest = BidRequestMapper.INSTANCE.adxOpenRtbToBidRequest(bidRequestProto);\n\n</code></pre>\n<p>Code snippet of <code>BidRequestMapper</code>:</p>\n<pre><code>@Mapper(\n    collectionMappingStrategy = CollectionMappingStrategy.ADDER_PREFERRED, nullValueCheckStrategy = NullValueCheckStrategy.ALWAYS,\n    unmappedSourcePolicy = ReportingPolicy.WARN, unmappedTargetPolicy = ReportingPolicy.WARN)\n@DecoratedWith(BidRequestMapperDecorator.class)\npublic abstract class BidRequestMapper {\n\n  public static final BidRequestMapper INSTANCE = Mappers.getMapper(BidRequestMapper.class);\n\n  @Mapping(source = &quot;impList&quot;, target = &quot;imp&quot;)\n  @Mapping(target = &quot;impOverride&quot;, ignore = true)\n  @Mapping(target = &quot;ext&quot;, ignore = true)\n  public abstract BidRequest adxOpenRtbToBidRequest(AdxOpenRtb.BidRequest adxOpenRtb);\n...\n...\n}\n\n// manage proto extensions\nabstract class BidRequestMapperDecorator extends BidRequestMapper {\n  private final BidRequestMapper delegate;\n\n  BidRequestMapperDecorator(BidRequestMapper delegate) {\n    this.delegate = delegate;\n  }\n\n  @Override\n  public BidRequest adxOpenRtbToBidRequest(AdxOpenRtb.BidRequest bidRequestProto) {\n    // Covert protobuf msg to basic bid request object\n    BidRequest bidRequest = delegate.adxOpenRtbToBidRequest(bidRequestProto);\n...\n...\n  }\n}\n</code></pre>\n<p>The new approach is <strong>20-50x faster</strong> in my local test environment.</p>\n<p>It's worth mentioning that <code>MapStruct</code> is an <strong>annotation processor</strong> which makes it much faster than other similar libraries which use <strong>reflection</strong> and it also has very good support for customization.</p>\n"}],"owner":{"account_id":1891460,"reputation":2159,"user_id":1709417,"accept_rate":56,"display_name":"Nishant Kumar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":608,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":75131388,"answer_count":2,"score":2,"last_activity_date":1673855456,"creation_date":1672641418,"question_id":74979565,"body_markdown":"I am receiving messages in protobuf format. I need to convert it to json format **fast** as all my business logic is written to handle json based POJO objects.\r\n\r\n```\r\nbyte[] request = ..; // msg received\r\n\r\n// convert to intermediate POJO\r\nAdxOpenRtb.BidRequest bidRequestProto = AdxOpenRtb.BidRequest.parseFrom(request, reg);\r\n\r\n// convert intermediate POJO to json string.\r\n// THIS STEP IS VERY SLOW\r\nPrinter printer = JsonFormat.printer().printingEnumsAsInts().omittingInsignificantWhitespace();\r\nString jsonBody = printer.print(bidRequestProto);\r\n\r\n// convert json string to final POJO format\r\nBidRequest bidRequest = super.parse(jsonBody.getBytes());\r\n```\r\n\r\nProto object to json conversion step is very slow. Is there any faster approach for it? \r\n\r\ncan i reuse `printer` object? is it thread-safe?\r\n\r\n**Note:** This POJO class (`AdxOpenRtb.BidRequest` &amp; `BidRequest`) is very complex having many hierarchy and fields but **contains similar data with slightly different fields name and data types**.","title":"Java: Protobuf byte to Json string to Pojo fast","body":"<p>I am receiving messages in protobuf format. I need to convert it to json format <strong>fast</strong> as all my business logic is written to handle json based POJO objects.</p>\n<pre><code>byte[] request = ..; // msg received\n\n// convert to intermediate POJO\nAdxOpenRtb.BidRequest bidRequestProto = AdxOpenRtb.BidRequest.parseFrom(request, reg);\n\n// convert intermediate POJO to json string.\n// THIS STEP IS VERY SLOW\nPrinter printer = JsonFormat.printer().printingEnumsAsInts().omittingInsignificantWhitespace();\nString jsonBody = printer.print(bidRequestProto);\n\n// convert json string to final POJO format\nBidRequest bidRequest = super.parse(jsonBody.getBytes());\n</code></pre>\n<p>Proto object to json conversion step is very slow. Is there any faster approach for it?</p>\n<p>can i reuse <code>printer</code> object? is it thread-safe?</p>\n<p><strong>Note:</strong> This POJO class (<code>AdxOpenRtb.BidRequest</code> &amp; <code>BidRequest</code>) is very complex having many hierarchy and fields but <strong>contains similar data with slightly different fields name and data types</strong>.</p>\n"},{"tags":["java","gradle","xsd"],"comments":[{"owner":{"account_id":5534380,"reputation":268,"user_id":4472711,"display_name":"MNEMO"},"score":0,"creation_date":1673855367,"post_id":75131372,"comment_id":132582138,"body_markdown":"What is your building environment (OS, locale/language/culture)? Sometimes javac takes source code in local encoding but not in UTF-8, and option for providing source code encoding for javac is &#39;-encoding *&#39;. I am not sure how you can provide javac options to Gradle script, though.","body":"What is your building environment (OS, locale/language/culture)? Sometimes javac takes source code in local encoding but not in UTF-8, and option for providing source code encoding for javac is &#39;-encoding *&#39;. I am not sure how you can provide javac options to Gradle script, though."},{"owner":{"account_id":27540609,"reputation":1,"user_id":21017434,"display_name":"Marmarks"},"score":0,"creation_date":1673855722,"post_id":75131372,"comment_id":132582230,"body_markdown":"@MNEMO Windows, Ru, Russian, Ru. Therefore, this encoding is familiar to the OS","body":"@MNEMO Windows, Ru, Russian, Ru. Therefore, this encoding is familiar to the OS"},{"owner":{"account_id":5534380,"reputation":268,"user_id":4472711,"display_name":"MNEMO"},"score":0,"creation_date":1673855886,"post_id":75131372,"comment_id":132582266,"body_markdown":"Check your source code file encoding first, and set that to &#39;javac -encoding &lt;encoding&gt;&#39;","body":"Check your source code file encoding first, and set that to &#39;javac -encoding &lt;encoding&gt;&#39;"},{"owner":{"account_id":27540609,"reputation":1,"user_id":21017434,"display_name":"Marmarks"},"score":0,"creation_date":1673856822,"post_id":75131372,"comment_id":132582485,"body_markdown":"@MNEMO It didn&#39;t help me","body":"@MNEMO It didn&#39;t help me"}],"owner":{"account_id":27540609,"reputation":1,"user_id":21017434,"display_name":"Marmarks"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1673855018,"answer_count":0,"score":0,"last_activity_date":1673855450,"creation_date":1673854899,"question_id":75131372,"body_markdown":"I have several classes from xsd schemas with Russian fields, methods. When building Gradle, I get this error\r\n`error: cannot find symbol protected FNSVipULResponse... ;`\r\nHow can this be solved?\r\n\r\n\r\n```\r\ncompileJava.options.encoding = &#39;UTF-8&#39; tasks.withType(JavaCompile) {     options.encoding = &#39;UTF-8&#39; }\r\n```\r\n\r\nand\r\n\r\n```\r\norg.gradle.jvmargs=&#39;-Dfile.encoding=UTF-8&#39;\r\n```\r\n\r\nIt doesn&#39;t help","title":"Error &quot;cannot find Symbol&quot; when i do gradle build in Java","body":"<p>I have several classes from xsd schemas with Russian fields, methods. When building Gradle, I get this error\n<code>error: cannot find symbol protected FNSVipULResponse... ;</code>\nHow can this be solved?</p>\n<pre><code>compileJava.options.encoding = 'UTF-8' tasks.withType(JavaCompile) {     options.encoding = 'UTF-8' }\n</code></pre>\n<p>and</p>\n<pre><code>org.gradle.jvmargs='-Dfile.encoding=UTF-8'\n</code></pre>\n<p>It doesn't help</p>\n"},{"tags":["java","spring-boot","redis"],"owner":{"account_id":27540662,"reputation":1,"user_id":21017479,"display_name":"Chhavi Jajoo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673855402,"creation_date":1673855402,"question_id":75131433,"body_markdown":"Cannot retrieve initial cluster partitions from initial URIs [RedisURI [host=&#39;&lt;some host&gt;&#39;, port=&quot;XXX&quot;]] , I am working on spring boot project and I am facing this issue during my connection? Here is the dependency which I am using\r\n\r\n     &lt;dependency&gt;\r\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n         &lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt;\r\n         &lt;version&gt;2.7.2&lt;/version&gt;\r\n        &lt;/dependency&gt; \r\n\r\nand here is the configuration\r\n\r\n    @Bean\r\n      public LettuceConnectionFactory lettuceConnectionFactory() {\r\n         List&lt;String&gt; clusterNodes = Arrays.asList(NODE1, NODE2, NODE3);\r\n         RedisClusterConfiguration config = new RedisClusterConfiguration(clusterNodes);\r\n\r\n        LettuceClientConfiguration clientConfig = LettuceClientConfiguration.builder()\r\n            .build();\r\n\r\n        return new LettuceConnectionFactory(config, clientConfig);\r\n  } \r\n\r\nhere node1, node 2 , node 3 are nodes of my cluster and are variables declared at class level\r\n\r\n\r\nI have added dependency of lettuce manually to my pom , all the different versions to resolve the issue ","title":"Cannot retrieve initial cluster partitions from initial URIs [RedisURI [host=&#39;&lt;some host&gt;&#39;, port=&quot;XXX&quot;]]","body":"<p>Cannot retrieve initial cluster partitions from initial URIs [RedisURI [host='', port=&quot;XXX&quot;]] , I am working on spring boot project and I am facing this issue during my connection? Here is the dependency which I am using</p>\n<pre><code> &lt;dependency&gt;\n     &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n     &lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt;\n     &lt;version&gt;2.7.2&lt;/version&gt;\n    &lt;/dependency&gt; \n</code></pre>\n<p>and here is the configuration</p>\n<pre><code>@Bean\n  public LettuceConnectionFactory lettuceConnectionFactory() {\n     List&lt;String&gt; clusterNodes = Arrays.asList(NODE1, NODE2, NODE3);\n     RedisClusterConfiguration config = new RedisClusterConfiguration(clusterNodes);\n\n    LettuceClientConfiguration clientConfig = LettuceClientConfiguration.builder()\n        .build();\n\n    return new LettuceConnectionFactory(config, clientConfig);\n</code></pre>\n<p>}</p>\n<p>here node1, node 2 , node 3 are nodes of my cluster and are variables declared at class level</p>\n<p>I have added dependency of lettuce manually to my pom , all the different versions to resolve the issue</p>\n"},{"tags":["java","input","tic-tac-toe"],"comments":[{"owner":{"account_id":94199,"reputation":344,"user_id":257317,"display_name":"afarrag"},"score":0,"creation_date":1672630888,"post_id":74978808,"comment_id":132315717,"body_markdown":"You could wrap `int move = scanner.nextInt();` in a `try` and `catch` block that catches `InputMistmatchException` and prints your desired error message.","body":"You could wrap <code>int move = scanner.nextInt();</code> in a <code>try</code> and <code>catch</code> block that catches <code>InputMistmatchException</code> and prints your desired error message."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1672631093,"post_id":74978808,"comment_id":132315736,"body_markdown":"`int move = scanner.nextInt();` will cause your issue - while you could trap the exception you also need to clear the buffer (ie `nextLine`) - or, you could use `nextLine` directly and then parse the `String`, making sure you trap the possible `NumberFormatException`","body":"<code>int move = scanner.nextInt();</code> will cause your issue - while you could trap the exception you also need to clear the buffer (ie <code>nextLine</code>) - or, you could use <code>nextLine</code> directly and then parse the <code>String</code>, making sure you trap the possible <code>NumberFormatException</code>"}],"answers":[{"tags":[],"owner":{"account_id":12646737,"reputation":1077,"user_id":9192223,"display_name":"hiren"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673855365,"creation_date":1672631606,"answer_id":74978886,"question_id":74978808,"body_markdown":"Instead of directly assuming (using) the input as `Integer`, first verify if it is `Integer` or not. If not, loop till you get one.\r\n\r\n    // Read the next move from the user    \r\n    System.out.print(&quot;Please provide your next move&quot;);\r\n    while (!scan.hasNextInt()) {\r\n         System.out.print(&quot;Invalid input, please enter a number&quot;);\r\n         scan.next();\r\n    }\r\n         \r\n    int move = scan.nextInt();","title":"Tic Tac Toe Java Invalid user input when entering letters rather than numbers","body":"<p>Instead of directly assuming (using) the input as <code>Integer</code>, first verify if it is <code>Integer</code> or not. If not, loop till you get one.</p>\n<pre><code>// Read the next move from the user    \nSystem.out.print(&quot;Please provide your next move&quot;);\nwhile (!scan.hasNextInt()) {\n     System.out.print(&quot;Invalid input, please enter a number&quot;);\n     scan.next();\n}\n     \nint move = scan.nextInt();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23871468,"reputation":142,"user_id":17873105,"display_name":"Biswajit Sharma"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1672631911,"creation_date":1672631911,"answer_id":74978904,"question_id":74978808,"body_markdown":"You can use infinite loop to do that, but you need to check if the user is winning for every valid input.\r\n\r\n    boolean playing = true;\r\n    while(playing){\r\n       switch(space){\r\n          case 1:\r\n               //code for doing operation\r\n               //winning check\r\n               break;\r\n          ...\r\n          default:\r\n               System.out.println(&quot;Invalid Input&quot;);\r\n       }          \r\n    }","title":"Tic Tac Toe Java Invalid user input when entering letters rather than numbers","body":"<p>You can use infinite loop to do that, but you need to check if the user is winning for every valid input.</p>\n<pre><code>boolean playing = true;\nwhile(playing){\n   switch(space){\n      case 1:\n           //code for doing operation\n           //winning check\n           break;\n      ...\n      default:\n           System.out.println(&quot;Invalid Input&quot;);\n   }          \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672653535,"creation_date":1672653535,"answer_id":74980990,"question_id":74978808,"body_markdown":"You could work with String input instead of assuming the input represents an integer, and then check whether that string consists of a digit, ...etc.\r\n\r\nNot your question, but your code would still change the player when the user inputs a square that is already occupied. You should only change the player when the move was actually made.\r\n\r\nHere is suggested code (which I did not test, as I don&#39;t have the rest of your code):\r\n\r\n```\r\n    public static void main(String[] args) {\r\n        Scanner scanner = new Scanner(System.in);\r\n        TicTacToe game = new TicTacToe();\r\n        \r\n        // Keep playing the game until it is over\r\n        while (true) {\r\n            game.printBoard();\r\n            System.out.println(game.getDirections());\r\n            \r\n            // Read the next move from the user as a string\r\n            String moveString = scanner.nextLine();\r\n            if (moveString.matches(&quot;[1-9]&quot;)) { // Is it a single digit between 1 and 9?\r\n                int move = Integer.valueOf(moveString); // Convert to integer\r\n                if (game.checkInput(move)) { // Is the square free?\r\n                    game.makeMove(move);\r\n                    if (game.checkWin()) break;\r\n                    game.changePlayer();\r\n                } else {\r\n                    System.out.println(&quot;That square is already occupied.&quot;);\r\n                }\r\n            } else {\r\n                System.out.println(&quot;Please enter a digit between 1 and 9.&quot;);\r\n            }\r\n        }\r\n        game.printResults();\r\n        scanner.close();\r\n    }\r\n```\r\n","title":"Tic Tac Toe Java Invalid user input when entering letters rather than numbers","body":"<p>You could work with String input instead of assuming the input represents an integer, and then check whether that string consists of a digit, ...etc.</p>\n<p>Not your question, but your code would still change the player when the user inputs a square that is already occupied. You should only change the player when the move was actually made.</p>\n<p>Here is suggested code (which I did not test, as I don't have the rest of your code):</p>\n<pre><code>    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n        TicTacToe game = new TicTacToe();\n        \n        // Keep playing the game until it is over\n        while (true) {\n            game.printBoard();\n            System.out.println(game.getDirections());\n            \n            // Read the next move from the user as a string\n            String moveString = scanner.nextLine();\n            if (moveString.matches(&quot;[1-9]&quot;)) { // Is it a single digit between 1 and 9?\n                int move = Integer.valueOf(moveString); // Convert to integer\n                if (game.checkInput(move)) { // Is the square free?\n                    game.makeMove(move);\n                    if (game.checkWin()) break;\n                    game.changePlayer();\n                } else {\n                    System.out.println(&quot;That square is already occupied.&quot;);\n                }\n            } else {\n                System.out.println(&quot;Please enter a digit between 1 and 9.&quot;);\n            }\n        }\n        game.printResults();\n        scanner.close();\n    }\n</code></pre>\n"}],"owner":{"account_id":27395368,"reputation":1,"user_id":20897650,"display_name":"aggravating_web"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1673855365,"creation_date":1672630475,"question_id":74978808,"body_markdown":"When a user inputs a letter rather than a number an InputMistmatchException error occurs and the program exits.\r\n\r\nHow can I change it so that the program will print &quot;Invalid input, please enter a number&quot; instead of just exiting? Is there another way other than using catch? I found that online but I don&#39;t think my teacher will allow it. \r\n\r\nThis is my Main class if it helps\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class Main {\r\n  public static void main(String[] args) {\r\n  TicTacToe game = new TicTacToe();\r\n  Scanner scanner = new Scanner(System.in);\r\n  \r\n    game.printBoard();\r\n    System.out.println(game.getDirections());\r\n    \r\n    // Keep playing the game until it is over\r\n    while (!game.checkWin()) {\r\n      // Read the next move from the user\r\n      int move = scanner.nextInt();\r\n      \r\n      // Make the move and update the game state\r\n      boolean spaceNotOccupied = game.checkInput(move);\r\n\t\t\tif (spaceNotOccupied) {\r\n\t\t\t\tgame.makeMove(move);\r\n\t\t\t}\r\n      \r\n      // Check if the game is over\r\n      if (game.checkWin()) {\r\n        game.printResults();\r\n        return;\r\n      }\r\n      \r\n      // Change the current player and print the updated game board\r\n      game.changePlayer();\r\n      game.printBoard();\r\n      System.out.println(game.getDirections());\r\n    }\r\n    \r\n    // Print the final result of the game\r\n    game.printResults();\r\n    \r\n    }\r\n  }\r\n\r\n\r\n  \r\n\r\n```\r\n\r\nAnd this is the makeMove method where it shows the numbers to enter\r\n\r\n```\r\n  \r\n  public void makeMove(int space) {\r\n  // Update the game board\r\n    if (space == 1) {\r\n    s1 = turn;\r\n  } else if (space == 2) {\r\n    s2 = turn;\r\n  } else if (space == 3) {\r\n    s3 = turn;\r\n  } else if (space == 4) {\r\n    s4 = turn;\r\n  } else if (space == 5) {\r\n    s5 = turn;\r\n  } else if (space == 6) {\r\n    s6 = turn;\r\n  } else if (space == 7) {\r\n    s7 = turn;\r\n  } else if (space == 8) {\r\n    s8 = turn;\r\n  } else if (space == 9) {\r\n    s9 = turn;\r\n  } else {\r\n      System.out.println(&quot;Invalid input, please try again.&quot;);\r\n      return;\r\n    }\r\n  }\r\n```\r\n\r\n\r\n\r\n","title":"Tic Tac Toe Java Invalid user input when entering letters rather than numbers","body":"<p>When a user inputs a letter rather than a number an InputMistmatchException error occurs and the program exits.</p>\n<p>How can I change it so that the program will print &quot;Invalid input, please enter a number&quot; instead of just exiting? Is there another way other than using catch? I found that online but I don't think my teacher will allow it.</p>\n<p>This is my Main class if it helps</p>\n<pre><code>import java.util.Scanner;\n\npublic class Main {\n  public static void main(String[] args) {\n  TicTacToe game = new TicTacToe();\n  Scanner scanner = new Scanner(System.in);\n  \n    game.printBoard();\n    System.out.println(game.getDirections());\n    \n    // Keep playing the game until it is over\n    while (!game.checkWin()) {\n      // Read the next move from the user\n      int move = scanner.nextInt();\n      \n      // Make the move and update the game state\n      boolean spaceNotOccupied = game.checkInput(move);\n            if (spaceNotOccupied) {\n                game.makeMove(move);\n            }\n      \n      // Check if the game is over\n      if (game.checkWin()) {\n        game.printResults();\n        return;\n      }\n      \n      // Change the current player and print the updated game board\n      game.changePlayer();\n      game.printBoard();\n      System.out.println(game.getDirections());\n    }\n    \n    // Print the final result of the game\n    game.printResults();\n    \n    }\n  }\n\n\n  \n\n</code></pre>\n<p>And this is the makeMove method where it shows the numbers to enter</p>\n<pre><code>  \n  public void makeMove(int space) {\n  // Update the game board\n    if (space == 1) {\n    s1 = turn;\n  } else if (space == 2) {\n    s2 = turn;\n  } else if (space == 3) {\n    s3 = turn;\n  } else if (space == 4) {\n    s4 = turn;\n  } else if (space == 5) {\n    s5 = turn;\n  } else if (space == 6) {\n    s6 = turn;\n  } else if (space == 7) {\n    s7 = turn;\n  } else if (space == 8) {\n    s8 = turn;\n  } else if (space == 9) {\n    s9 = turn;\n  } else {\n      System.out.println(&quot;Invalid input, please try again.&quot;);\n      return;\n    }\n  }\n</code></pre>\n"},{"tags":["java","database","ms-access"],"comments":[{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - "},"score":0,"creation_date":1673815294,"post_id":75127656,"comment_id":132576613,"body_markdown":"Perhaps use the **[ALTER TABLE](https://learn.microsoft.com/en-us/office/client-developer/access/desktop-database-reference/alter-table-statement-microsoft-access-sql)** SQL statement. Should work with **UCanAccess 4+** JDBC-driver.","body":"Perhaps use the <b><a href=\"https://learn.microsoft.com/en-us/office/client-developer/access/desktop-database-reference/alter-table-statement-microsoft-access-sql\" rel=\"nofollow noreferrer\">ALTER TABLE</a></b> SQL statement. Should work with <b>UCanAccess 4+</b> JDBC-driver."}],"answers":[{"tags":[],"owner":{"account_id":4318097,"reputation":53891,"user_id":3527297,"display_name":"Gustav"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673815890,"creation_date":1673815890,"answer_id":75128323,"question_id":75127656,"body_markdown":"Exclude `GameNPCID` from the field list and also one parameter (question mark).\r\n\r\nThen pass the remaining field values as you do, though adjust the index of these.","title":"How do I overcome the auto-number row when trying to add a column to a Microsoft access table through Java?","body":"<p>Exclude <code>GameNPCID</code> from the field list and also one parameter (question mark).</p>\n<p>Then pass the remaining field values as you do, though adjust the index of these.</p>\n"}],"owner":{"account_id":27537023,"reputation":13,"user_id":21014463,"display_name":"lilyleaper"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75128323,"answer_count":1,"score":1,"last_activity_date":1673855249,"creation_date":1673809135,"question_id":75127656,"body_markdown":"For a project, I have GameNPCID as an auto-number in Access. I can&#39;t figure out how to add a set of values to the table, while letting the auto-number primary key handle itself. The primary key in this is called GameNPCID and there are two foreign keys: GameID and NPCID.\r\n\r\n\r\nString sql = &quot;INSERT INTO GameNPCLink ( NPCFirstName, NPCMood, GameID, NPCID, NPCAge, Life) VALUES (?,?,?,?,?,?)&quot;;\r\n\r\n            PreparedStatement preparedStatement = con.prepareStatement(sql);\r\n\r\n            preparedStatement.setString(1, nPCfirstName);\r\n            preparedStatement.setInt(2, nPCMood);\r\n            preparedStatement.setInt(3, GameID);\r\n            preparedStatement.setInt(4, nPCID);\r\n            preparedStatement.setInt(5, nPCAge);\r\n            preparedStatement.setInt(6, life);\r\n\r\nObviously, this is not the way to do it, but if anyone could lend me a hand that would be great.\r\n\r\nI have tried various ways of changing numbers and variables but implementing access in java is quite new to me and I can&#39;t seem to find any tutorials online. (Also, if someone knows good tutorials, that would be helpful)","title":"How do I overcome the auto-number row when trying to add a column to a Microsoft access table through Java?","body":"<p>For a project, I have GameNPCID as an auto-number in Access. I can't figure out how to add a set of values to the table, while letting the auto-number primary key handle itself. The primary key in this is called GameNPCID and there are two foreign keys: GameID and NPCID.</p>\n<p>String sql = &quot;INSERT INTO GameNPCLink ( NPCFirstName, NPCMood, GameID, NPCID, NPCAge, Life) VALUES (?,?,?,?,?,?)&quot;;</p>\n<pre><code>        PreparedStatement preparedStatement = con.prepareStatement(sql);\n\n        preparedStatement.setString(1, nPCfirstName);\n        preparedStatement.setInt(2, nPCMood);\n        preparedStatement.setInt(3, GameID);\n        preparedStatement.setInt(4, nPCID);\n        preparedStatement.setInt(5, nPCAge);\n        preparedStatement.setInt(6, life);\n</code></pre>\n<p>Obviously, this is not the way to do it, but if anyone could lend me a hand that would be great.</p>\n<p>I have tried various ways of changing numbers and variables but implementing access in java is quite new to me and I can't seem to find any tutorials online. (Also, if someone knows good tutorials, that would be helpful)</p>\n"},{"tags":["java","spring-boot","microsoft-graph-api","apache-poi","o365-flow"],"owner":{"account_id":27540530,"reputation":1,"user_id":21017363,"display_name":"Anuj Garg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673854950,"creation_date":1673854725,"question_id":75131350,"body_markdown":"I am working on one of the O365 Project where I am using O365 and Java Technology.\r\n\r\nIssue is when I am trying to upload Powerpoint to O365 online using Microsoft Graph API and Java Apache POI. I am getting extra black borders in online PPT as shown in screenshot.\r\n\r\n![Attached Screenshot](https://i.stack.imgur.com/bJIFB.png)\r\n\r\nI am not able to understand why these black borders are coming for Tables when I am not using that in my internal powerpoint. \r\n\r\nI am using APACHE POI 4.1.0 version. \r\n\r\nAny suggestions please?\r\n\r\nI tried upgrading the apache version as well but still same error.\r\nWhen I try to download the same presentation using apache POI then it works fine, only while uploading to O365 these black borders are coming.\r\n\r\nI am expecting to not get these black borders in online PPT as well.","title":"Black Borders in Microsoft Office365 PPT when uploads from Java Apache POI","body":"<p>I am working on one of the O365 Project where I am using O365 and Java Technology.</p>\n<p>Issue is when I am trying to upload Powerpoint to O365 online using Microsoft Graph API and Java Apache POI. I am getting extra black borders in online PPT as shown in screenshot.</p>\n<p><img src=\"https://i.stack.imgur.com/bJIFB.png\" alt=\"Attached Screenshot\" /></p>\n<p>I am not able to understand why these black borders are coming for Tables when I am not using that in my internal powerpoint.</p>\n<p>I am using APACHE POI 4.1.0 version.</p>\n<p>Any suggestions please?</p>\n<p>I tried upgrading the apache version as well but still same error.\nWhen I try to download the same presentation using apache POI then it works fine, only while uploading to O365 these black borders are coming.</p>\n<p>I am expecting to not get these black borders in online PPT as well.</p>\n"},{"tags":["java","multithreading","spring-boot"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":2,"creation_date":1673851924,"post_id":75130985,"comment_id":132581404,"body_markdown":"`executor.submit` returns a Future.  Use Future::get","body":"<code>executor.submit</code> returns a Future.  Use Future::get"},{"owner":{"account_id":17573955,"reputation":150,"user_id":12749135,"display_name":"auntR"},"score":0,"creation_date":1673852161,"post_id":75130985,"comment_id":132581449,"body_markdown":"How about if `Task A` do not return anything, can `Task B` execute after `Task A` have finished?","body":"How about if <code>Task A</code> do not return anything, can <code>Task B</code> execute after <code>Task A</code> have finished?"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1673852565,"post_id":75130985,"comment_id":132581528,"body_markdown":"Why are you using `ExecutorService` ?  Why not just use Thread::join?","body":"Why are you using <code>ExecutorService</code> ?  Why not just use Thread::join?"},{"owner":{"account_id":37136,"reputation":57812,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"score":0,"creation_date":1673858653,"post_id":75130985,"comment_id":132582949,"body_markdown":"@auntR you can just make it return some placeholder value like null","body":"@auntR you can just make it return some placeholder value like null"}],"answers":[{"tags":[],"owner":{"account_id":3622515,"reputation":3911,"user_id":3020903,"accept_rate":50,"display_name":"Tarmo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673854592,"creation_date":1673854592,"answer_id":75131334,"question_id":75130985,"body_markdown":"It is not important if any of the tasks return anything. When things run in parallel threads then they run in parallel until one of them finished or you explicitly wait for one in the other.\r\n\r\nWhat does run in parallel actually mean? Depends. If the machine where code runs on has multiple CPU cores available then it can actually run in parallel (one core handles one thread), if not then it may run in any random way. Something like &quot;do one atomic operation in thread A, then two in thread B and then again one in thread A&quot; may be one option, but it&#39;s nothing you can control. If you wan&#39;t to make sure things run in some certain order then either use `Future.get()`, `Thread.join()` or Javas completable future framework.","title":"Execution Order of Thread in Java Main Thread","body":"<p>It is not important if any of the tasks return anything. When things run in parallel threads then they run in parallel until one of them finished or you explicitly wait for one in the other.</p>\n<p>What does run in parallel actually mean? Depends. If the machine where code runs on has multiple CPU cores available then it can actually run in parallel (one core handles one thread), if not then it may run in any random way. Something like &quot;do one atomic operation in thread A, then two in thread B and then again one in thread A&quot; may be one option, but it's nothing you can control. If you wan't to make sure things run in some certain order then either use <code>Future.get()</code>, <code>Thread.join()</code> or Javas completable future framework.</p>\n"}],"owner":{"account_id":17573955,"reputation":150,"user_id":12749135,"display_name":"auntR"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75131334,"answer_count":1,"score":0,"last_activity_date":1673854592,"creation_date":1673851694,"question_id":75130985,"body_markdown":"I have a demo Spring boot project, and will create a Thread Pool when starts application.\r\n\r\nIn Main Thread, if there are: \r\n 1. `Task A`: with lots of API call, and will be submitted to Thread Pool\r\n 2. `Task B`: only a database query, and will not be submitted to Thread Pool\r\n\r\nI have below questions:\r\n1. Will `Task B` execute early then `Task A` if following below code approach?\r\n2. Can `Task B` wait until `Task A` have finished and then execute? If can, how to achieve?\r\n3. Assume if there are no idle Worker Threads to handle `Task A`, what will happen ? Will the Main Thread skip `Task A` and continue to execute `Task B` first?\r\n\r\n\r\n```\r\npublic static void main(String[] args) {\r\n        ExecutorService executor = Executors.newFixedThreadPool(5);\r\n\r\n        // Task A submitting to Thread Pool\r\n        executor.submit(() -&gt; \r\n           // process 1: fetch API\r\n           // process 2: call Database \r\n           // process 3: fetch API\r\n           // process 4: call Database \r\n        );\r\n\r\n        // Task B not submitting to Thread Pool\r\n        db.query(xxx);\r\n\r\n}\r\n```","title":"Execution Order of Thread in Java Main Thread","body":"<p>I have a demo Spring boot project, and will create a Thread Pool when starts application.</p>\n<p>In Main Thread, if there are:</p>\n<ol>\n<li><code>Task A</code>: with lots of API call, and will be submitted to Thread Pool</li>\n<li><code>Task B</code>: only a database query, and will not be submitted to Thread Pool</li>\n</ol>\n<p>I have below questions:</p>\n<ol>\n<li>Will <code>Task B</code> execute early then <code>Task A</code> if following below code approach?</li>\n<li>Can <code>Task B</code> wait until <code>Task A</code> have finished and then execute? If can, how to achieve?</li>\n<li>Assume if there are no idle Worker Threads to handle <code>Task A</code>, what will happen ? Will the Main Thread skip <code>Task A</code> and continue to execute <code>Task B</code> first?</li>\n</ol>\n<pre><code>public static void main(String[] args) {\n        ExecutorService executor = Executors.newFixedThreadPool(5);\n\n        // Task A submitting to Thread Pool\n        executor.submit(() -&gt; \n           // process 1: fetch API\n           // process 2: call Database \n           // process 3: fetch API\n           // process 4: call Database \n        );\n\n        // Task B not submitting to Thread Pool\n        db.query(xxx);\n\n}\n</code></pre>\n"},{"tags":["java","data-structures","redis"],"comments":[{"owner":{"account_id":446874,"reputation":2881,"user_id":840184,"accept_rate":58,"display_name":"VJS"},"score":0,"creation_date":1673858750,"post_id":75131309,"comment_id":132582981,"body_markdown":"Can anyone please help ?","body":"Can anyone please help ?"}],"owner":{"account_id":446874,"reputation":2881,"user_id":840184,"accept_rate":58,"display_name":"VJS"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673854469,"creation_date":1673854469,"question_id":75131309,"body_markdown":"I need to store below data in Redis :\r\n\r\n    Calling Number : String \r\n    Called Number : String \r\n    Calling Name : String \r\n    Called Name  : String \r\n    Time : TimeStamp\r\n    SPS Name : String \r\n    Num Id : Number \r\n\r\nMy retrieval is based on `Calling Number` and `Called Number`\r\n\r\nThis means if `Calling Number` and `Called Number` both are matched the get other details like `Calling Name`, `Called Name` etc. \r\n\r\nCan anyone suggest best data structure from a performance perspective? I will have around 50K records for select. \r\n\r\nIf there is one 1 key then i could have used Hash but here i need to select data based Calling Number and Called Number. \r\n\r\nOne option is to concat Calling Number, Called Number and use it as key but I dont think it a correct and performance wise good solution  ","title":"Redis Data Structure design for 2 string as select","body":"<p>I need to store below data in Redis :</p>\n<pre><code>Calling Number : String \nCalled Number : String \nCalling Name : String \nCalled Name  : String \nTime : TimeStamp\nSPS Name : String \nNum Id : Number \n</code></pre>\n<p>My retrieval is based on <code>Calling Number</code> and <code>Called Number</code></p>\n<p>This means if <code>Calling Number</code> and <code>Called Number</code> both are matched the get other details like <code>Calling Name</code>, <code>Called Name</code> etc.</p>\n<p>Can anyone suggest best data structure from a performance perspective? I will have around 50K records for select.</p>\n<p>If there is one 1 key then i could have used Hash but here i need to select data based Calling Number and Called Number.</p>\n<p>One option is to concat Calling Number, Called Number and use it as key but I dont think it a correct and performance wise good solution</p>\n"},{"tags":["java","spring-boot","annotations","spring-boot-maven-plugin","component-scan"],"answers":[{"tags":[],"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673854447,"creation_date":1673853439,"answer_id":75131184,"question_id":75131144,"body_markdown":"\r\n*below mentioned error are appeared*:  This means that you can remove `@ComponentScan` and `@EnableAutoConfiguration`.\r\n\r\n[As the documentation on spring mentioned][1], it is included in `@SpringBootApplication`:\r\n\r\n    Many Spring Boot developers like their apps to use auto-configuration, component scan and be able to define extra configuration on their &quot;application class&quot;. A single @SpringBootApplication annotation can be used to enable those three features, that is:\r\n    \r\n        @EnableAutoConfiguration: enable Spring Boots auto-configuration mechanism\r\n        @ComponentScan: enable @Component scan on the package where the application is located (see the best practices)\r\n        @Configuration: allow to register extra beans in the context or import additional configuration classes \r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/2.0.x/reference/html/using-boot-using-springbootapplication-annotation.html\r\n\r\nIt is a check in the plugin of Intellij. Also see https://youtrack.jetbrains.com/issue/IDEA-177632","title":"Redundant declaration: @SpringBootApplication already applies given @ComponentScan","body":"<p><em>below mentioned error are appeared</em>:  This means that you can remove <code>@ComponentScan</code> and <code>@EnableAutoConfiguration</code>.</p>\n<p><a href=\"https://docs.spring.io/spring-boot/docs/2.0.x/reference/html/using-boot-using-springbootapplication-annotation.html\" rel=\"nofollow noreferrer\">As the documentation on spring mentioned</a>, it is included in <code>@SpringBootApplication</code>:</p>\n<pre><code>Many Spring Boot developers like their apps to use auto-configuration, component scan and be able to define extra configuration on their &quot;application class&quot;. A single @SpringBootApplication annotation can be used to enable those three features, that is:\n\n    @EnableAutoConfiguration: enable Spring Boots auto-configuration mechanism\n    @ComponentScan: enable @Component scan on the package where the application is located (see the best practices)\n    @Configuration: allow to register extra beans in the context or import additional configuration classes \n</code></pre>\n<p>It is a check in the plugin of Intellij. Also see <a href=\"https://youtrack.jetbrains.com/issue/IDEA-177632\" rel=\"nofollow noreferrer\">https://youtrack.jetbrains.com/issue/IDEA-177632</a></p>\n"}],"owner":{"account_id":22091685,"reputation":251,"user_id":16349670,"display_name":"Nimasha Madhushani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1400,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75131184,"answer_count":1,"score":0,"last_activity_date":1673854447,"creation_date":1673853176,"question_id":75131144,"body_markdown":"I created a spring boot application(3.0.1). Then I connected the Postgres database and executed it. The application is up on server 8080 smoothly. then I added below-mentioned annotations.\r\n\r\n    @EnableAutoConfiguration\r\n    @ComponentScan\r\n\r\nwhole file,\r\n\r\n    package com.example.SpringRecap;\r\n    \r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.AutoConfiguration;\r\n    import org.springframework.boot.autoconfigure.EnableAutoConfiguration;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.context.annotation.ComponentScan;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    @RestController\r\n    @SpringBootApplication\r\n    @EnableAutoConfiguration\r\n    @ComponentScan\r\n    \r\n    public class SpringRecapApplication {\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(SpringRecapApplication.class, args);\r\n        }\r\n    \r\n        @GetMapping(&quot;/&quot;)\r\n        public void Employee() {\r\n    \r\n        }\r\n    \r\n    \r\n    }\r\n\r\nNow, below mentioned error are appeared,\r\n\r\n    Redundant declaration: @SpringBootApplication already applies @EnableAutoConfiguration\r\n    Redundant declaration: @SpringBootApplication already applies given @ComponentScan\r\n\r\nImage of InteliJ:\r\n\r\n[![Image of InteliJ:][1]][1]\r\n\r\nIf anyone knows the reason, please help me. If further information is needed to solve the problem please put a comment here.\r\nThank You.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PuY8N.png","title":"Redundant declaration: @SpringBootApplication already applies given @ComponentScan","body":"<p>I created a spring boot application(3.0.1). Then I connected the Postgres database and executed it. The application is up on server 8080 smoothly. then I added below-mentioned annotations.</p>\n<pre><code>@EnableAutoConfiguration\n@ComponentScan\n</code></pre>\n<p>whole file,</p>\n<pre><code>package com.example.SpringRecap;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.AutoConfiguration;\nimport org.springframework.boot.autoconfigure.EnableAutoConfiguration;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\n@SpringBootApplication\n@EnableAutoConfiguration\n@ComponentScan\n\npublic class SpringRecapApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(SpringRecapApplication.class, args);\n    }\n\n    @GetMapping(&quot;/&quot;)\n    public void Employee() {\n\n    }\n\n\n}\n</code></pre>\n<p>Now, below mentioned error are appeared,</p>\n<pre><code>Redundant declaration: @SpringBootApplication already applies @EnableAutoConfiguration\nRedundant declaration: @SpringBootApplication already applies given @ComponentScan\n</code></pre>\n<p>Image of InteliJ:</p>\n<p><a href=\"https://i.stack.imgur.com/PuY8N.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PuY8N.png\" alt=\"Image of InteliJ:\" /></a></p>\n<p>If anyone knows the reason, please help me. If further information is needed to solve the problem please put a comment here.\nThank You.</p>\n"},{"tags":["java","spring-boot","templates","gradle","freemarker"],"comments":[{"owner":{"account_id":299854,"reputation":29886,"user_id":606679,"accept_rate":25,"display_name":"ddekany"},"score":0,"creation_date":1673857649,"post_id":75129101,"comment_id":132582694,"body_markdown":"From as much as I know from this, this is a quite basic use-case, so maybe be just look at the example in the official &quot;Programmer&#39;s Guide&quot;: https://freemarker.apache.org/docs/pgui_quickstart_all.html","body":"From as much as I know from this, this is a quite basic use-case, so maybe be just look at the example in the official &quot;Programmer&#39;s Guide&quot;: <a href=\"https://freemarker.apache.org/docs/pgui_quickstart_all.html\" rel=\"nofollow noreferrer\">freemarker.apache.org/docs/pgui_quickstart_all.html</a>"}],"answers":[{"tags":[],"owner":{"account_id":4651817,"reputation":4217,"user_id":3768495,"accept_rate":88,"display_name":"user3768495"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673854338,"creation_date":1673854338,"answer_id":75131300,"question_id":75129101,"body_markdown":"This [FMPP][1] tool helped me to do exactly what I wanted to do.\r\n\r\n\r\n  [1]: https://fmpp.sourceforge.net/index.html","title":"how to use FreeMarker template to generate outputs?","body":"<p>This <a href=\"https://fmpp.sourceforge.net/index.html\" rel=\"nofollow noreferrer\">FMPP</a> tool helped me to do exactly what I wanted to do.</p>\n"}],"owner":{"account_id":4651817,"reputation":4217,"user_id":3768495,"accept_rate":88,"display_name":"user3768495"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":311,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75131300,"answer_count":1,"score":1,"last_activity_date":1673854338,"creation_date":1673825188,"question_id":75129101,"body_markdown":"I am a python developer who knows itsy-bitsy Java. Now I am given some input data, in XML format, and a piece of template.ftl code. How can I &quot;render&quot; the input data in the template and generate the outputs? I suppose I will need to build a mar file which can consume the XML input data, right? Can someone give me some high level instructions? If there&#39;s an existing Github repo that I can reference to, that will be even better. Thanks!","title":"how to use FreeMarker template to generate outputs?","body":"<p>I am a python developer who knows itsy-bitsy Java. Now I am given some input data, in XML format, and a piece of template.ftl code. How can I &quot;render&quot; the input data in the template and generate the outputs? I suppose I will need to build a mar file which can consume the XML input data, right? Can someone give me some high level instructions? If there's an existing Github repo that I can reference to, that will be even better. Thanks!</p>\n"},{"tags":["java","jpa","hana","sap-business-technology-platform"],"comments":[{"owner":{"account_id":4447703,"reputation":3122,"user_id":3620552,"accept_rate":100,"display_name":"Ing. Luca Stucchi"},"score":0,"creation_date":1550064520,"post_id":54670970,"comment_id":96132497,"body_markdown":"Are you sure the error is not that you need to use HTTPS/SSL connections ?","body":"Are you sure the error is not that you need to use HTTPS/SSL connections ?"},{"owner":{"account_id":15325231,"reputation":85,"user_id":11056570,"display_name":"SCD"},"score":0,"creation_date":1550065806,"post_id":54670970,"comment_id":96133324,"body_markdown":"hans cf service is expecting ssl connection on jdbc ,:Could not get JDBC Connection; nested exception is com.sap.db.jdbc.exceptions.JDBCDriverException: SAP DBTech JDBC: [4321]: only secure connections are allowed","body":"hans cf service is expecting ssl connection on jdbc ,:Could not get JDBC Connection; nested exception is com.sap.db.jdbc.exceptions.JDBCDriverException: SAP DBTech JDBC: [4321]: only secure connections are allowed"},{"owner":{"account_id":15325231,"reputation":85,"user_id":11056570,"display_name":"SCD"},"score":0,"creation_date":1550132891,"post_id":54670970,"comment_id":96160216,"body_markdown":"Hello Experts any help will be very helpful if anyone has done any HANA cf service connectivity over sap cloud foundry with spring boot with JPA ,please suggest some pointers","body":"Hello Experts any help will be very helpful if anyone has done any HANA cf service connectivity over sap cloud foundry with spring boot with JPA ,please suggest some pointers"}],"answers":[{"tags":[],"owner":{"account_id":3673512,"reputation":585,"user_id":3060092,"accept_rate":75,"display_name":"Koenigsegg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1550649127,"creation_date":1550649127,"answer_id":54781308,"question_id":54670970,"body_markdown":"try this for your data source url in application.yml:\r\n\r\n    jdbc:sap://{host}:{port}?encrypt=true&amp;validateCertificate=false&amp;currentschema={schema}","title":"SAP DBTech JDBC: [4321]: only secure connections are allowed","body":"<p>try this for your data source url in application.yml:</p>\n\n<pre><code>jdbc:sap://{host}:{port}?encrypt=true&amp;validateCertificate=false&amp;currentschema={schema}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15524146,"reputation":149,"user_id":11199506,"display_name":"FloW"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1563802716,"creation_date":1563802716,"answer_id":57147311,"question_id":54670970,"body_markdown":"I have run into the exact same error.\r\nCheck your URL. In my case the URL looked similar to this one:\r\n\r\n```\r\njdbc:sap://&lt;host&gt;:&lt;port&gt;?encrypt=true\\u0026validateCertificate=true\\u0026currentschema=D006A421632F47ED8A2C9346D28B67C2\r\n```\r\n\r\nNote the two occurrences of `\\u0026` escape sequences in the URL.  \r\nThese should be `&amp;` instead.  \r\nOnce I changed them to `&amp;` chars, it worked.\r\n\r\nAs previous answers noted, `encrypt=true` needs to be in the URL - but it won&#39;t be found if the `&amp;` character is escaped.\r\n\r\nIf the URL contains the escape sequences, I would say it qualifies as a SAP HANA bug. Also, the error message is not really helping much. A message of `Could not find encrypt=true in URL. Only secure connections are allowed!` would have helped finding this more easily.","title":"SAP DBTech JDBC: [4321]: only secure connections are allowed","body":"<p>I have run into the exact same error.\nCheck your URL. In my case the URL looked similar to this one:</p>\n\n<pre><code>jdbc:sap://&lt;host&gt;:&lt;port&gt;?encrypt=true\\u0026validateCertificate=true\\u0026currentschema=D006A421632F47ED8A2C9346D28B67C2\n</code></pre>\n\n<p>Note the two occurrences of <code>\\u0026</code> escape sequences in the URL.<br>\nThese should be <code>&amp;</code> instead.<br>\nOnce I changed them to <code>&amp;</code> chars, it worked.</p>\n\n<p>As previous answers noted, <code>encrypt=true</code> needs to be in the URL - but it won't be found if the <code>&amp;</code> character is escaped.</p>\n\n<p>If the URL contains the escape sequences, I would say it qualifies as a SAP HANA bug. Also, the error message is not really helping much. A message of <code>Could not find encrypt=true in URL. Only secure connections are allowed!</code> would have helped finding this more easily.</p>\n"},{"tags":[],"owner":{"account_id":15182315,"reputation":239,"user_id":10955305,"display_name":"Tim L."},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1568107321,"creation_date":1568107321,"answer_id":57867728,"question_id":54670970,"body_markdown":"Issue seems to be known to SAP:\r\n\r\nhttps://github.com/SAP/spring-cloud-sap/issues/8\r\n\r\nThere is at least a workaround listed on the end of the page, which might help.","title":"SAP DBTech JDBC: [4321]: only secure connections are allowed","body":"<p>Issue seems to be known to SAP:</p>\n\n<p><a href=\"https://github.com/SAP/spring-cloud-sap/issues/8\" rel=\"nofollow noreferrer\">https://github.com/SAP/spring-cloud-sap/issues/8</a></p>\n\n<p>There is at least a workaround listed on the end of the page, which might help.</p>\n"}],"owner":{"account_id":15325231,"reputation":85,"user_id":11056570,"display_name":"SCD"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4999,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":57867728,"answer_count":3,"score":0,"last_activity_date":1673854305,"creation_date":1550063324,"question_id":54670970,"body_markdown":"I am unable to create a connection with SAP Cloud Foundry HANA service from my Spring boot app. I have given JPA properties values as the information is provided in HANA HDI service binding in SCP CF but getting following error from my Sample Spring boot:\r\n\r\n&gt;SAP DBTech JDBC: [4321]: only secure connections are allowed&quot;\r\n\r\nSAP CF HANA service is enforcing security is there any standard way to make connection with Spring boot to SAP HANA CF service?\r\n\r\nJust to add connectivity is not working when making a connection in Springboot app via `application.yml` file by setting JPA properties, but was able to make a connection in a servlet using connection object by looking up the driver class manually via code.\r\n\r\nHow I can make a successful connection via JPA properties in `application.yml` file ?","title":"SAP DBTech JDBC: [4321]: only secure connections are allowed","body":"<p>I am unable to create a connection with SAP Cloud Foundry HANA service from my Spring boot app. I have given JPA properties values as the information is provided in HANA HDI service binding in SCP CF but getting following error from my Sample Spring boot:</p>\n<blockquote>\n<p>SAP DBTech JDBC: [4321]: only secure connections are allowed&quot;</p>\n</blockquote>\n<p>SAP CF HANA service is enforcing security is there any standard way to make connection with Spring boot to SAP HANA CF service?</p>\n<p>Just to add connectivity is not working when making a connection in Springboot app via <code>application.yml</code> file by setting JPA properties, but was able to make a connection in a servlet using connection object by looking up the driver class manually via code.</p>\n<p>How I can make a successful connection via JPA properties in <code>application.yml</code> file ?</p>\n"},{"tags":["java","barcode","barcode-printing"],"owner":{"account_id":25467417,"reputation":1,"user_id":21017295,"display_name":"golfomaster"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673854085,"creation_date":1673854060,"question_id":75131263,"body_markdown":"I need help with the **com.lowagie.text.pdf.Barcode128** library, since I would like the image that is generated to include the code below the barcode, like this:\r\n\r\n[enter image description here](https://i.stack.imgur.com/HGs4I.gif)\r\n\r\nThis is the actual code:\r\n\r\n```\r\npublic String generateBarCode(String codigo){\r\ntry{\r\n    Barcode128 codeEAN = new Barcode128();\r\n    codeEAN.setCodeType(codeEan.CODE128);\r\n    codeEAN.setCode(codigo);\r\n    codeEAN.setAltText(codigo);\r\n    Image pdfImg = codeEAN.createAwtImage(Color.black, Color.white);\r\n    BufferedImage = new BufferedImage(pdfImg.getWidth(null), pdfImg.getHeight(null),BufferedImage.TYPE_INT_RGB);\r\n    Graphics g = img.getGraphics();\r\n    g.drawImage(pdfImg, 0, 0, Color.white, null);\r\n\r\n    OutputStream os;    \r\n    ...\r\n    ...\r\n}\r\n}\r\n```\r\n\r\nThis way I only manage to generate the barcode image, but the code under the barcode is not displayed.\r\n\r\nThank you very much in advance.","title":"com.lowagie.text.pdf.Barcode128 with the code under the barcode","body":"<p>I need help with the <strong>com.lowagie.text.pdf.Barcode128</strong> library, since I would like the image that is generated to include the code below the barcode, like this:</p>\n<p><a href=\"https://i.stack.imgur.com/HGs4I.gif\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>This is the actual code:</p>\n<pre><code>public String generateBarCode(String codigo){\ntry{\n    Barcode128 codeEAN = new Barcode128();\n    codeEAN.setCodeType(codeEan.CODE128);\n    codeEAN.setCode(codigo);\n    codeEAN.setAltText(codigo);\n    Image pdfImg = codeEAN.createAwtImage(Color.black, Color.white);\n    BufferedImage = new BufferedImage(pdfImg.getWidth(null), pdfImg.getHeight(null),BufferedImage.TYPE_INT_RGB);\n    Graphics g = img.getGraphics();\n    g.drawImage(pdfImg, 0, 0, Color.white, null);\n\n    OutputStream os;    \n    ...\n    ...\n}\n}\n</code></pre>\n<p>This way I only manage to generate the barcode image, but the code under the barcode is not displayed.</p>\n<p>Thank you very much in advance.</p>\n"},{"tags":["java","android","gradle","launchd"],"comments":[{"owner":{"account_id":12629306,"reputation":748,"user_id":9181430,"display_name":"Rohit Kumar"},"score":0,"creation_date":1627402809,"post_id":68548300,"comment_id":121144960,"body_markdown":"export JAVA_HOME=/Applications/Android\\ Studio.app/Contents/jre/jdk/Contents/Home/","body":"export JAVA_HOME=/Applications/Android\\ Studio.app/Contents/jre/jdk/Contents/Home/"},{"owner":{"account_id":13556047,"reputation":7480,"user_id":9779471,"display_name":"Quinn"},"score":0,"creation_date":1627403603,"post_id":68548300,"comment_id":121145295,"body_markdown":"@RohitKumar I know how to set JAVA_HOME, and that is what I am setting it to, but when running it from launchctl it says the location is invalid","body":"@RohitKumar I know how to set JAVA_HOME, and that is what I am setting it to, but when running it from launchctl it says the location is invalid"}],"answers":[{"tags":[],"owner":{"account_id":10362009,"reputation":112,"user_id":7642208,"display_name":"alvin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673853984,"creation_date":1673853984,"answer_id":75131255,"question_id":68548300,"body_markdown":"Add the code below to your environment&#39;s path `.zshenv` file in your home directory. \r\n\r\nRun `source ~/.zshenv` to update terminal or **Quit** the terminal and reopen it again\r\n\r\n\r\nAndroid Studio Dolphin and below:\r\n\r\n`export JAVA_HOME=/Applications/Android\\ Studio.app/Contents/jre/Contents/Home`\r\n\r\nAndroid Studio Electric Eel and above:\r\n\r\n`export JAVA_HOME=/Applications/Android\\ Studio.app/Contents/jbr/Contents/Home`","title":"Android builds fail when building with launchctl","body":"<p>Add the code below to your environment's path <code>.zshenv</code> file in your home directory.</p>\n<p>Run <code>source ~/.zshenv</code> to update terminal or <strong>Quit</strong> the terminal and reopen it again</p>\n<p>Android Studio Dolphin and below:</p>\n<p><code>export JAVA_HOME=/Applications/Android\\ Studio.app/Contents/jre/Contents/Home</code></p>\n<p>Android Studio Electric Eel and above:</p>\n<p><code>export JAVA_HOME=/Applications/Android\\ Studio.app/Contents/jbr/Contents/Home</code></p>\n"}],"owner":{"account_id":13556047,"reputation":7480,"user_id":9779471,"display_name":"Quinn"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":252,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673853984,"creation_date":1627401969,"question_id":68548300,"body_markdown":"I am trying to write a script to automate my build process and push builds every so often. So ever everything seems to be working except for my JAVA_HOME environment variable.\r\n\r\nWhen building the app normally from command line I specify my JAVA_HOME as:\r\n\r\n`/Applications/&quot;Android Studio.app&quot;/Contents/jre/jdk/Contents/Home`\r\n\r\nHowever if I add this as an environment variable to my launchctl.plist I get the following error:\r\n\r\n`ERROR: JAVA_HOME is set to an invalid directory: /Applications/&quot;Android Studio.app&quot;/Contents/jre/jdk/Contents/Home`\r\n\r\nThis directory does exist and works fine when building the app normally. \r\nIf I do not specify the JAVA_HOME then I get the following error on building my app:\r\n\r\n`General error during semantic analysis: Unsupported class file major version 60.`\r\n\r\nIs there something I am doing wrong or can change to allow launchd to either build without the specified JAVA_HOME or to recognize the JAVA_HOME I am setting?","title":"Android builds fail when building with launchctl","body":"<p>I am trying to write a script to automate my build process and push builds every so often. So ever everything seems to be working except for my JAVA_HOME environment variable.</p>\n<p>When building the app normally from command line I specify my JAVA_HOME as:</p>\n<p><code>/Applications/&quot;Android Studio.app&quot;/Contents/jre/jdk/Contents/Home</code></p>\n<p>However if I add this as an environment variable to my launchctl.plist I get the following error:</p>\n<p><code>ERROR: JAVA_HOME is set to an invalid directory: /Applications/&quot;Android Studio.app&quot;/Contents/jre/jdk/Contents/Home</code></p>\n<p>This directory does exist and works fine when building the app normally.\nIf I do not specify the JAVA_HOME then I get the following error on building my app:</p>\n<p><code>General error during semantic analysis: Unsupported class file major version 60.</code></p>\n<p>Is there something I am doing wrong or can change to allow launchd to either build without the specified JAVA_HOME or to recognize the JAVA_HOME I am setting?</p>\n"},{"tags":["java","spring","pkix"],"owner":{"account_id":10149240,"reputation":1,"user_id":7496427,"display_name":"volkan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":456,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673853816,"creation_date":1673826212,"question_id":75129173,"body_markdown":"Application runs with TLS. I added certificate with the following command: \r\n```\r\nkeytool -import -alias smtp.gmail.com -keystore &quot;%JAVA_HOME%/jre/lib/security/cacerts&quot; -file xxx.cer\r\n```\r\n\r\nAll rest request except at most 5, are successfully completed but at most 5 reqeust throws :\r\n```\r\nsun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: \r\nunable to find valid certification path to requested target; \r\nnested exception is javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: \r\nPKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target.\r\n```\r\n\r\nI dont understand why some request gets exception?\r\n\r\n","title":"Spring boot sun.security.validator.ValidatorException: PKIX path building failed: exception","body":"<p>Application runs with TLS. I added certificate with the following command:</p>\n<pre><code>keytool -import -alias smtp.gmail.com -keystore &quot;%JAVA_HOME%/jre/lib/security/cacerts&quot; -file xxx.cer\n</code></pre>\n<p>All rest request except at most 5, are successfully completed but at most 5 reqeust throws :</p>\n<pre><code>sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: \nunable to find valid certification path to requested target; \nnested exception is javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: \nPKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target.\n</code></pre>\n<p>I dont understand why some request gets exception?</p>\n"},{"tags":["java","spring","scheduled-tasks"],"comments":[{"owner":{"account_id":8854974,"reputation":1387,"user_id":6613014,"display_name":"Rouliboy"},"score":0,"creation_date":1498115788,"post_id":44644141,"comment_id":76368396,"body_markdown":"May be by destroying the bean?","body":"May be by destroying the bean?"},{"owner":{"account_id":5984666,"reputation":7885,"user_id":4702544,"accept_rate":50,"display_name":"Sachin Gupta"},"score":0,"creation_date":1498119839,"post_id":44644141,"comment_id":76371105,"body_markdown":"This could be an option, but I believe there should be another option to do this.","body":"This could be an option, but I believe there should be another option to do this."},{"owner":{"account_id":9170614,"reputation":3857,"user_id":6818284,"display_name":"mikep"},"score":0,"creation_date":1498126420,"post_id":44644141,"comment_id":76375917,"body_markdown":"Have you considered using an Executor?  It&#39;s easily canceled in code. https://docs.oracle.com/javase/tutorial/essential/concurrency/executors.html","body":"Have you considered using an Executor?  It&#39;s easily canceled in code. <a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/executors.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/essential/concurrency/&hellip;</a>"},{"owner":{"account_id":5984666,"reputation":7885,"user_id":4702544,"accept_rate":50,"display_name":"Sachin Gupta"},"score":0,"creation_date":1498216674,"post_id":44644141,"comment_id":76422298,"body_markdown":"I know, it can be done using executor. Just wondering if spring gives any solution out of the box.","body":"I know, it can be done using executor. Just wondering if spring gives any solution out of the box."},{"owner":{"account_id":22912933,"reputation":1,"user_id":17049932,"display_name":"Janar"},"score":0,"creation_date":1633087223,"post_id":44644141,"comment_id":122672789,"body_markdown":"An [example](https://stackoverflow.com/a/69403972/17049932) to suspend/proceed jobs one-by-one","body":"An <a href=\"https://stackoverflow.com/a/69403972/17049932\">example</a> to suspend/proceed jobs one-by-one"}],"answers":[{"tags":[],"owner":{"account_id":4464722,"reputation":5228,"user_id":3632660,"display_name":"Mahesh"},"down_vote_count":2,"up_vote_count":34,"is_accepted":true,"score":32,"last_activity_date":1505724515,"creation_date":1498120379,"answer_id":44694210,"question_id":44644141,"body_markdown":"### Option 1: Using a post processor\n\nSupply [`ScheduledAnnotationBeanPostProcessor`](https://docs.spring.io/spring/docs/4.3.x/javadoc-api/org/springframework/scheduling/annotation/ScheduledAnnotationBeanPostProcessor.html) and explicitly invoke [`postProcessBeforeDestruction(Object bean, String beanName)`](https://docs.spring.io/spring/docs/4.3.x/javadoc-api/org/springframework/scheduling/annotation/ScheduledAnnotationBeanPostProcessor.html#postProcessBeforeDestruction-java.lang.Object-java.lang.String-), for the bean whose scheduling should be stopped.\n\n&lt;br&gt;\n\n### Option 2: Maintaining a map of target beans to its Future\n\n    private final Map&lt;Object, ScheduledFuture&lt;?&gt;&gt; scheduledTasks =\n            new IdentityHashMap&lt;&gt;();\n\n    @Scheduled(fixedRate = 2000)\n    public void fixedRateJob() {\n        System.out.println(&quot;Something to be done every 2 secs&quot;);\n    }\n\n    @Bean\n    public TaskScheduler poolScheduler() {\n        return new CustomTaskScheduler();\n    }\n\n    class CustomTaskScheduler extends ThreadPoolTaskScheduler {\n\n        @Override\n        public ScheduledFuture&lt;?&gt; scheduleAtFixedRate(Runnable task, long period) {\n            ScheduledFuture&lt;?&gt; future = super.scheduleAtFixedRate(task, period);\n\n            ScheduledMethodRunnable runnable = (ScheduledMethodRunnable) task;\n            scheduledTasks.put(runnable.getTarget(), future);\n\n            return future;\n        }\n\n        @Override\n        public ScheduledFuture&lt;?&gt; scheduleAtFixedRate(Runnable task, Date startTime, long period) {\n            ScheduledFuture&lt;?&gt; future = super.scheduleAtFixedRate(task, startTime, period);\n\n            ScheduledMethodRunnable runnable = (ScheduledMethodRunnable) task;\n            scheduledTasks.put(runnable.getTarget(), future);\n\n            return future;\n        }\n    }\n\nWhen the scheduling for a bean has to be stopped, you can lookup the map to get the corresponding [`Future`](https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Future.html) to it and explicitly cancel it.","title":"How to stop a scheduled task that was started using @Scheduled annotation?","body":"<h3>Option 1: Using a post processor</h3>\n<p>Supply <a href=\"https://docs.spring.io/spring/docs/4.3.x/javadoc-api/org/springframework/scheduling/annotation/ScheduledAnnotationBeanPostProcessor.html\" rel=\"noreferrer\"><code>ScheduledAnnotationBeanPostProcessor</code></a> and explicitly invoke <a href=\"https://docs.spring.io/spring/docs/4.3.x/javadoc-api/org/springframework/scheduling/annotation/ScheduledAnnotationBeanPostProcessor.html#postProcessBeforeDestruction-java.lang.Object-java.lang.String-\" rel=\"noreferrer\"><code>postProcessBeforeDestruction(Object bean, String beanName)</code></a>, for the bean whose scheduling should be stopped.</p>\n<br>\n<h3>Option 2: Maintaining a map of target beans to its Future</h3>\n<pre><code>private final Map&lt;Object, ScheduledFuture&lt;?&gt;&gt; scheduledTasks =\n        new IdentityHashMap&lt;&gt;();\n\n@Scheduled(fixedRate = 2000)\npublic void fixedRateJob() {\n    System.out.println(&quot;Something to be done every 2 secs&quot;);\n}\n\n@Bean\npublic TaskScheduler poolScheduler() {\n    return new CustomTaskScheduler();\n}\n\nclass CustomTaskScheduler extends ThreadPoolTaskScheduler {\n\n    @Override\n    public ScheduledFuture&lt;?&gt; scheduleAtFixedRate(Runnable task, long period) {\n        ScheduledFuture&lt;?&gt; future = super.scheduleAtFixedRate(task, period);\n\n        ScheduledMethodRunnable runnable = (ScheduledMethodRunnable) task;\n        scheduledTasks.put(runnable.getTarget(), future);\n\n        return future;\n    }\n\n    @Override\n    public ScheduledFuture&lt;?&gt; scheduleAtFixedRate(Runnable task, Date startTime, long period) {\n        ScheduledFuture&lt;?&gt; future = super.scheduleAtFixedRate(task, startTime, period);\n\n        ScheduledMethodRunnable runnable = (ScheduledMethodRunnable) task;\n        scheduledTasks.put(runnable.getTarget(), future);\n\n        return future;\n    }\n}\n</code></pre>\n<p>When the scheduling for a bean has to be stopped, you can lookup the map to get the corresponding <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Future.html\" rel=\"noreferrer\"><code>Future</code></a> to it and explicitly cancel it.</p>\n"},{"tags":[],"owner":{"account_id":11068290,"reputation":684,"user_id":8127378,"display_name":"Jairton Junior"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1498140261,"creation_date":1498140261,"answer_id":44701750,"question_id":44644141,"body_markdown":"Some time ago I had this requirement in my project that any component should be able to create a new scheduled task or to stop the scheduler (all tasks). So I did something like this\r\n\r\n    @Configuration\r\n    @EnableScheduling\r\n    @ComponentScan\r\n    @Component\r\n    public class CentralScheduler {\r\n    \r\n    \tprivate static AnnotationConfigApplicationContext CONTEXT = null;\r\n    \r\n    \t@Autowired\r\n    \tprivate ThreadPoolTaskScheduler scheduler;\r\n    \r\n    \tpublic static CentralScheduler getInstance() {\r\n    \t\tif (!isValidBean()) {\r\n    \t\t\tCONTEXT = new AnnotationConfigApplicationContext(CentralScheduler.class);\r\n    \t\t}\r\n    \r\n    \t\treturn CONTEXT.getBean(CentralScheduler.class);\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic ThreadPoolTaskScheduler taskScheduler() {\r\n    \t\treturn new ThreadPoolTaskScheduler();\r\n    \t}\r\n    \r\n    \tpublic void start(Runnable task, String scheduleExpression) throws Exception {\r\n    \t\tscheduler.schedule(task, new CronTrigger(scheduleExpression));\r\n    \t}\r\n    \r\n    \tpublic void start(Runnable task, Long delay) throws Exception {\r\n    \t\tscheduler.scheduleWithFixedDelay(task, delay);\r\n    \t}\r\n    \r\n    \tpublic void stopAll() {\r\n    \t\tscheduler.shutdown();\r\n    \t\tCONTEXT.close();\r\n    \t}\r\n    \r\n    \tprivate static boolean isValidBean() {\r\n    \t\tif (CONTEXT == null || !CONTEXT.isActive()) {\r\n    \t\t\treturn false;\r\n    \t\t}\r\n    \r\n    \t\ttry {\r\n    \t\t\tCONTEXT.getBean(CentralScheduler.class);\r\n    \t\t} catch (NoSuchBeanDefinitionException ex) {\r\n    \t\t\treturn false;\r\n    \t\t}\r\n    \r\n    \t\treturn true;\r\n    \t}\r\n    }\r\n\r\nSo I can do things like\r\n\r\n    Runnable task = new MyTask();\r\n    CentralScheduler.getInstance().start(task, 30_000L);\r\n    CentralScheduler.getInstance().stopAll();\r\n\r\nHave in mind that, for some reasons, I did it without having to worry about concurrency. There should be some synchronization otherwise.","title":"How to stop a scheduled task that was started using @Scheduled annotation?","body":"<p>Some time ago I had this requirement in my project that any component should be able to create a new scheduled task or to stop the scheduler (all tasks). So I did something like this</p>\n\n<pre><code>@Configuration\n@EnableScheduling\n@ComponentScan\n@Component\npublic class CentralScheduler {\n\n    private static AnnotationConfigApplicationContext CONTEXT = null;\n\n    @Autowired\n    private ThreadPoolTaskScheduler scheduler;\n\n    public static CentralScheduler getInstance() {\n        if (!isValidBean()) {\n            CONTEXT = new AnnotationConfigApplicationContext(CentralScheduler.class);\n        }\n\n        return CONTEXT.getBean(CentralScheduler.class);\n    }\n\n    @Bean\n    public ThreadPoolTaskScheduler taskScheduler() {\n        return new ThreadPoolTaskScheduler();\n    }\n\n    public void start(Runnable task, String scheduleExpression) throws Exception {\n        scheduler.schedule(task, new CronTrigger(scheduleExpression));\n    }\n\n    public void start(Runnable task, Long delay) throws Exception {\n        scheduler.scheduleWithFixedDelay(task, delay);\n    }\n\n    public void stopAll() {\n        scheduler.shutdown();\n        CONTEXT.close();\n    }\n\n    private static boolean isValidBean() {\n        if (CONTEXT == null || !CONTEXT.isActive()) {\n            return false;\n        }\n\n        try {\n            CONTEXT.getBean(CentralScheduler.class);\n        } catch (NoSuchBeanDefinitionException ex) {\n            return false;\n        }\n\n        return true;\n    }\n}\n</code></pre>\n\n<p>So I can do things like</p>\n\n<pre><code>Runnable task = new MyTask();\nCentralScheduler.getInstance().start(task, 30_000L);\nCentralScheduler.getInstance().stopAll();\n</code></pre>\n\n<p>Have in mind that, for some reasons, I did it without having to worry about concurrency. There should be some synchronization otherwise.</p>\n"},{"tags":[],"owner":{"account_id":9120249,"reputation":15521,"user_id":6785908,"accept_rate":70,"display_name":"so-random-dude"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1498409493,"creation_date":1498409493,"answer_id":44748534,"question_id":44644141,"body_markdown":"There is a bit of ambiguity in this question\r\n\r\n 1. When you say &quot;stop this task&quot;, did you mean to stop in such a way that it&#39;s later recoverable (if yes, programmatically, using a condition which arises with in the same app? or external condition?)\r\n 2. Are you running any other tasks in the same context? (Possibility of shutting down the entire app rather than a task) -- You can make use of actuator.shutdown endpoint in this scenario\r\n\r\n\r\nMy best guess is, you are looking to shutdown a task using a condition that may arise with in the same app, in a recoverable fashion. I will try to answer based on this assumption.\r\n\r\nThis is the [simplest possible][1] solution that I can think of, However I will make some improvements like early return rather than **nested if**s\r\n\r\n    @Component\r\n    public class SomeScheduledJob implements Job {\r\n    \r\n        private static final Logger LOGGER = LoggerFactory.getLogger(SomeScheduledJob.class);\r\n    \r\n        @Value(&quot;${jobs.mediafiles.imagesPurgeJob.enable}&quot;)\r\n        private boolean imagesPurgeJobEnable;\r\n    \r\n        @Override\r\n        @Scheduled(cron = &quot;${jobs.mediafiles.imagesPurgeJob.schedule}&quot;)\r\n        public void execute() {\r\n    \r\n            if(!imagesPurgeJobEnable){\r\n                return;\r\n            }\r\n            Do your conditional job here...\r\n       }\r\n\r\nProperties for the above code\r\n\r\n    jobs.mediafiles.imagesPurgeJob.enable=true or false\r\n    jobs.mediafiles.imagesPurgeJob.schedule=0 0 0/12 * * ?\r\n\r\n  [1]: https://stackoverflow.com/a/18406954/6785908","title":"How to stop a scheduled task that was started using @Scheduled annotation?","body":"<p>There is a bit of ambiguity in this question</p>\n\n<ol>\n<li>When you say \"stop this task\", did you mean to stop in such a way that it's later recoverable (if yes, programmatically, using a condition which arises with in the same app? or external condition?)</li>\n<li>Are you running any other tasks in the same context? (Possibility of shutting down the entire app rather than a task) -- You can make use of actuator.shutdown endpoint in this scenario</li>\n</ol>\n\n<p>My best guess is, you are looking to shutdown a task using a condition that may arise with in the same app, in a recoverable fashion. I will try to answer based on this assumption.</p>\n\n<p>This is the <a href=\"https://stackoverflow.com/a/18406954/6785908\">simplest possible</a> solution that I can think of, However I will make some improvements like early return rather than <strong>nested if</strong>s</p>\n\n<pre><code>@Component\npublic class SomeScheduledJob implements Job {\n\n    private static final Logger LOGGER = LoggerFactory.getLogger(SomeScheduledJob.class);\n\n    @Value(\"${jobs.mediafiles.imagesPurgeJob.enable}\")\n    private boolean imagesPurgeJobEnable;\n\n    @Override\n    @Scheduled(cron = \"${jobs.mediafiles.imagesPurgeJob.schedule}\")\n    public void execute() {\n\n        if(!imagesPurgeJobEnable){\n            return;\n        }\n        Do your conditional job here...\n   }\n</code></pre>\n\n<p>Properties for the above code</p>\n\n<pre><code>jobs.mediafiles.imagesPurgeJob.enable=true or false\njobs.mediafiles.imagesPurgeJob.schedule=0 0 0/12 * * ?\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3424165,"reputation":6012,"user_id":2870532,"accept_rate":70,"display_name":"Tony"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1498747553,"creation_date":1498702211,"answer_id":44815259,"question_id":44644141,"body_markdown":"### Scheduled\r\nWhen spring process `Scheduled`, it will iterate each method annotated this annotation and organize tasks by beans as the following source shows:\r\n\r\n\tprivate final Map&lt;Object, Set&lt;ScheduledTask&gt;&gt; scheduledTasks =\r\n\t\t\tnew IdentityHashMap&lt;Object, Set&lt;ScheduledTask&gt;&gt;(16);\r\n\r\n### Cancel\r\nIf you just want to cancel the a repeated scheduled task, you can just do like following (here is a [runnable demo][1] in my repo):\r\n\r\n    @Autowired\r\n    private ScheduledAnnotationBeanPostProcessor postProcessor;\r\n    @Autowired\r\n    private TestSchedule testSchedule;\r\n\r\n    public void later() {\r\n        postProcessor.postProcessBeforeDestruction(test, &quot;testSchedule&quot;);\r\n    }\r\n\r\n### Notice\r\nIt will find this beans&#39;s `ScheduledTask` and cancel it one by one. What should be noticed is it will also stopping the current running method (as `postProcessBeforeDestruction` source shows).\r\n\r\n\t\tsynchronized (this.scheduledTasks) {\r\n\t\t\ttasks = this.scheduledTasks.remove(bean); // remove from future running\r\n\t\t}\r\n\t\tif (tasks != null) {\r\n\t\t\tfor (ScheduledTask task : tasks) {\r\n\t\t\t\ttask.cancel(); // cancel current running method\r\n\t\t\t}\r\n\t\t}\r\n\r\n\r\n\r\n\r\n  [1]: https://github.com/zzt93/Daily-pracitce/tree/master/java/knowledge/schedule","title":"How to stop a scheduled task that was started using @Scheduled annotation?","body":"<h3>Scheduled</h3>\n\n<p>When spring process <code>Scheduled</code>, it will iterate each method annotated this annotation and organize tasks by beans as the following source shows:</p>\n\n<pre><code>private final Map&lt;Object, Set&lt;ScheduledTask&gt;&gt; scheduledTasks =\n        new IdentityHashMap&lt;Object, Set&lt;ScheduledTask&gt;&gt;(16);\n</code></pre>\n\n<h3>Cancel</h3>\n\n<p>If you just want to cancel the a repeated scheduled task, you can just do like following (here is a <a href=\"https://github.com/zzt93/Daily-pracitce/tree/master/java/knowledge/schedule\" rel=\"nofollow noreferrer\">runnable demo</a> in my repo):</p>\n\n<pre><code>@Autowired\nprivate ScheduledAnnotationBeanPostProcessor postProcessor;\n@Autowired\nprivate TestSchedule testSchedule;\n\npublic void later() {\n    postProcessor.postProcessBeforeDestruction(test, \"testSchedule\");\n}\n</code></pre>\n\n<h3>Notice</h3>\n\n<p>It will find this beans's <code>ScheduledTask</code> and cancel it one by one. What should be noticed is it will also stopping the current running method (as <code>postProcessBeforeDestruction</code> source shows).</p>\n\n<pre><code>    synchronized (this.scheduledTasks) {\n        tasks = this.scheduledTasks.remove(bean); // remove from future running\n    }\n    if (tasks != null) {\n        for (ScheduledTask task : tasks) {\n            task.cancel(); // cancel current running method\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5506151,"reputation":3498,"user_id":4373948,"accept_rate":88,"display_name":"Abder KRIMA"},"down_vote_count":1,"up_vote_count":22,"is_accepted":false,"score":21,"last_activity_date":1579238663,"creation_date":1525701269,"answer_id":50216003,"question_id":44644141,"body_markdown":"Here is an example where we can stop , start , and list also all the scheduled running tasks:\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/test&quot;)\r\n    public class TestController {\r\n\t\r\n\tprivate static final String SCHEDULED_TASKS = &quot;scheduledTasks&quot;;\r\n\t\r\n\t@Autowired\r\n\tprivate ScheduledAnnotationBeanPostProcessor postProcessor;\r\n\t\r\n\t@Autowired\r\n\tprivate ScheduledTasks scheduledTasks;\r\n\t\r\n\t@Autowired\r\n\tprivate ObjectMapper objectMapper;\r\n\r\n\t@GetMapping(value = &quot;/stopScheduler&quot;)\r\n\tpublic String stopSchedule(){\r\n\t\tpostProcessor.postProcessBeforeDestruction(scheduledTasks, SCHEDULED_TASKS);\r\n\t\treturn &quot;OK&quot;;\r\n\t}\r\n\t\r\n\t@GetMapping(value = &quot;/startScheduler&quot;)\r\n\tpublic String startSchedule(){\r\n\t\tpostProcessor.postProcessAfterInitialization(scheduledTasks, SCHEDULED_TASKS);\r\n\t\treturn &quot;OK&quot;;\r\n\t}\r\n\t\r\n\t@GetMapping(value = &quot;/listScheduler&quot;)\r\n\tpublic String listSchedules() throws JsonProcessingException{\r\n\t\tSet&lt;ScheduledTask&gt; setTasks = postProcessor.getScheduledTasks();\r\n\t\tif(!setTasks.isEmpty()){\r\n\t\t\treturn objectMapper.writeValueAsString(setTasks);\r\n\t\t}else{\r\n\t\t\treturn &quot;No running tasks !&quot;;\r\n\t\t}\r\n\t }\r\n    }","title":"How to stop a scheduled task that was started using @Scheduled annotation?","body":"<p>Here is an example where we can stop , start , and list also all the scheduled running tasks:</p>\n\n<pre><code>@RestController\n@RequestMapping(\"/test\")\npublic class TestController {\n\nprivate static final String SCHEDULED_TASKS = \"scheduledTasks\";\n\n@Autowired\nprivate ScheduledAnnotationBeanPostProcessor postProcessor;\n\n@Autowired\nprivate ScheduledTasks scheduledTasks;\n\n@Autowired\nprivate ObjectMapper objectMapper;\n\n@GetMapping(value = \"/stopScheduler\")\npublic String stopSchedule(){\n    postProcessor.postProcessBeforeDestruction(scheduledTasks, SCHEDULED_TASKS);\n    return \"OK\";\n}\n\n@GetMapping(value = \"/startScheduler\")\npublic String startSchedule(){\n    postProcessor.postProcessAfterInitialization(scheduledTasks, SCHEDULED_TASKS);\n    return \"OK\";\n}\n\n@GetMapping(value = \"/listScheduler\")\npublic String listSchedules() throws JsonProcessingException{\n    Set&lt;ScheduledTask&gt; setTasks = postProcessor.getScheduledTasks();\n    if(!setTasks.isEmpty()){\n        return objectMapper.writeValueAsString(setTasks);\n    }else{\n        return \"No running tasks !\";\n    }\n }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10742871,"reputation":71,"user_id":7905312,"display_name":"Bin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1575968248,"creation_date":1575966030,"answer_id":59262900,"question_id":44644141,"body_markdown":"Define a custom annotation like below.\r\n\r\n    @Documented\r\n    @Retention (RUNTIME)\r\n    @Target(ElementType.TYPE)\r\n    public @interface ScheduledSwitch {\r\n        // do nothing\r\n    }\r\n\r\nDefine a class implements org.springframework.scheduling.annotation.ScheduledAnnotationBeanPostProcessor.\r\n\r\n    public class ScheduledAnnotationBeanPostProcessorCustom \r\n        extends ScheduledAnnotationBeanPostProcessor {\r\n    \r\n        @Value(value = &quot;${prevent.scheduled.tasks:false}&quot;)\r\n        private boolean preventScheduledTasks;\r\n    \r\n        private Map&lt;Object, String&gt; beans = new HashMap&lt;&gt;();\r\n    \r\n        private final ReentrantLock lock = new ReentrantLock(true);\r\n    \r\n        @Override\r\n        public Object postProcessAfterInitialization(Object bean, String beanName) {\r\n            ScheduledSwitch switch = AopProxyUtils.ultimateTargetClass(bean)\r\n                .getAnnotation(ScheduledSwitch.class);\r\n            if (null != switch) {\r\n                beans.put(bean, beanName);\r\n                if (preventScheduledTasks) {\r\n                    return bean;\r\n                }\r\n            }\r\n            return super.postProcessAfterInitialization(bean, beanName);\r\n        }\r\n    \r\n        public void stop() {\r\n            lock.lock();\r\n            try {\r\n                for (Map.Entry&lt;Object, String&gt; entry : beans.entrySet()) {\r\n                    postProcessBeforeDestruction(entry.getKey(), entry.getValue());\r\n                }\r\n            } finally {\r\n                lock.unlock();\r\n            }\r\n        }\r\n    \r\n        public void start() {\r\n            lock.lock();\r\n            try {\r\n                for (Map.Entry&lt;Object, String&gt; entry : beans.entrySet()) {\r\n                    if (!requiresDestruction(entry.getKey())) {\r\n                        super.postProcessAfterInitialization(\r\n                            entry.getKey(), entry.getValue());\r\n                    }\r\n                }\r\n            } finally {\r\n                lock.unlock();\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\nReplace ScheduledAnnotationBeanPostProcessor bean by the custom bean in configuration.\r\n\r\n    @Configuration\r\n    public class ScheduledConfig {\r\n    \r\n        @Bean(name = TaskManagementConfigUtils.SCHEDULED_ANNOTATION_PROCESSOR_BEAN_NAME)\r\n        @Role(BeanDefinition.ROLE_INFRASTRUCTURE)\r\n        public ScheduledAnnotationBeanPostProcessor scheduledAnnotationBeanPostProcessor() {\r\n            return new ScheduledAnnotationBeanPostProcessorCustom();\r\n        }\r\n    \r\n    }\r\n\r\n\r\nAdd @ScheduledSwitch annotation to the beans that you want to prevent or stop @Scheduled tasks.\r\n","title":"How to stop a scheduled task that was started using @Scheduled annotation?","body":"<p>Define a custom annotation like below.</p>\n\n<pre><code>@Documented\n@Retention (RUNTIME)\n@Target(ElementType.TYPE)\npublic @interface ScheduledSwitch {\n    // do nothing\n}\n</code></pre>\n\n<p>Define a class implements org.springframework.scheduling.annotation.ScheduledAnnotationBeanPostProcessor.</p>\n\n<pre><code>public class ScheduledAnnotationBeanPostProcessorCustom \n    extends ScheduledAnnotationBeanPostProcessor {\n\n    @Value(value = \"${prevent.scheduled.tasks:false}\")\n    private boolean preventScheduledTasks;\n\n    private Map&lt;Object, String&gt; beans = new HashMap&lt;&gt;();\n\n    private final ReentrantLock lock = new ReentrantLock(true);\n\n    @Override\n    public Object postProcessAfterInitialization(Object bean, String beanName) {\n        ScheduledSwitch switch = AopProxyUtils.ultimateTargetClass(bean)\n            .getAnnotation(ScheduledSwitch.class);\n        if (null != switch) {\n            beans.put(bean, beanName);\n            if (preventScheduledTasks) {\n                return bean;\n            }\n        }\n        return super.postProcessAfterInitialization(bean, beanName);\n    }\n\n    public void stop() {\n        lock.lock();\n        try {\n            for (Map.Entry&lt;Object, String&gt; entry : beans.entrySet()) {\n                postProcessBeforeDestruction(entry.getKey(), entry.getValue());\n            }\n        } finally {\n            lock.unlock();\n        }\n    }\n\n    public void start() {\n        lock.lock();\n        try {\n            for (Map.Entry&lt;Object, String&gt; entry : beans.entrySet()) {\n                if (!requiresDestruction(entry.getKey())) {\n                    super.postProcessAfterInitialization(\n                        entry.getKey(), entry.getValue());\n                }\n            }\n        } finally {\n            lock.unlock();\n        }\n    }\n\n}\n</code></pre>\n\n<p>Replace ScheduledAnnotationBeanPostProcessor bean by the custom bean in configuration.</p>\n\n<pre><code>@Configuration\npublic class ScheduledConfig {\n\n    @Bean(name = TaskManagementConfigUtils.SCHEDULED_ANNOTATION_PROCESSOR_BEAN_NAME)\n    @Role(BeanDefinition.ROLE_INFRASTRUCTURE)\n    public ScheduledAnnotationBeanPostProcessor scheduledAnnotationBeanPostProcessor() {\n        return new ScheduledAnnotationBeanPostProcessorCustom();\n    }\n\n}\n</code></pre>\n\n<p>Add @ScheduledSwitch annotation to the beans that you want to prevent or stop @Scheduled tasks.</p>\n"},{"tags":[],"owner":{"account_id":3527329,"reputation":2062,"user_id":4249576,"display_name":"D&#225;rio"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1588749874,"creation_date":1588749874,"answer_id":61629561,"question_id":44644141,"body_markdown":"A working example implementation of @Mahesh &#39;s Option 1, using `ScheduledAnnotationBeanPostProcessor.postProcessBeforeDestruction(bean, beanName)`.\r\n\r\n```java\r\nimport org.springframework.beans.factory.BeanNameAware;\r\nimport org.springframework.context.ApplicationContext;\r\nimport org.springframework.context.ApplicationContextAware;\r\nimport org.springframework.scheduling.annotation.Scheduled;\r\nimport org.springframework.scheduling.annotation.ScheduledAnnotationBeanPostProcessor;\r\n\r\n\r\npublic class ScheduledTaskExample implements ApplicationContextAware, BeanNameAware\r\n{\r\n\r\n    private ApplicationContext applicationContext;\r\n    private String             beanName;\r\n\r\n    @Scheduled(fixedDelay = 1000)\r\n    public void someTask()\r\n    {\r\n        /* Do stuff */\r\n        \r\n        if (stopScheduledTaskCondition)\r\n        {\r\n            stopScheduledTask();\r\n        }\r\n    }\r\n    \r\n    private void stopScheduledTask()\r\n    {\r\n        ScheduledAnnotationBeanPostProcessor bean = applicationContext.getBean(ScheduledAnnotationBeanPostProcessor.class);\r\n        bean.postProcessBeforeDestruction(this, beanName);\r\n    }\r\n\r\n    @Override\r\n    public void setApplicationContext(ApplicationContext applicationContext)\r\n    {\r\n        this.applicationContext = applicationContext;\r\n    }\r\n\r\n    @Override\r\n    public void setBeanName(String beanName)\r\n    {\r\n        this.beanName = beanName;\r\n    }\r\n}\r\n\r\n```","title":"How to stop a scheduled task that was started using @Scheduled annotation?","body":"<p>A working example implementation of @Mahesh 's Option 1, using <code>ScheduledAnnotationBeanPostProcessor.postProcessBeforeDestruction(bean, beanName)</code>.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.beans.factory.BeanNameAware;\nimport org.springframework.context.ApplicationContext;\nimport org.springframework.context.ApplicationContextAware;\nimport org.springframework.scheduling.annotation.Scheduled;\nimport org.springframework.scheduling.annotation.ScheduledAnnotationBeanPostProcessor;\n\n\npublic class ScheduledTaskExample implements ApplicationContextAware, BeanNameAware\n{\n\n    private ApplicationContext applicationContext;\n    private String             beanName;\n\n    @Scheduled(fixedDelay = 1000)\n    public void someTask()\n    {\n        /* Do stuff */\n\n        if (stopScheduledTaskCondition)\n        {\n            stopScheduledTask();\n        }\n    }\n\n    private void stopScheduledTask()\n    {\n        ScheduledAnnotationBeanPostProcessor bean = applicationContext.getBean(ScheduledAnnotationBeanPostProcessor.class);\n        bean.postProcessBeforeDestruction(this, beanName);\n    }\n\n    @Override\n    public void setApplicationContext(ApplicationContext applicationContext)\n    {\n        this.applicationContext = applicationContext;\n    }\n\n    @Override\n    public void setBeanName(String beanName)\n    {\n        this.beanName = beanName;\n    }\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17035522,"reputation":131,"user_id":12324648,"display_name":"Jan"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1605047783,"creation_date":1605047783,"answer_id":64777787,"question_id":44644141,"body_markdown":"Another approach that I have not found yet. Simple, clear and thread safe.\r\n\r\n1. In your configuration class add annotation:\r\n\r\n    `@EnableScheduling`\r\n2. This and next step in your class where you need start/stop scheduled task inject:\r\n\r\n    `@Autowired TaskScheduler taskScheduler;`\r\n3. Set fields:\r\n\r\n        private ScheduledFuture yourTaskState;\r\n        private long fixedRate = 1000L;\r\n    \r\n\r\n4. Create inner class that execute scheduled tasks eg.:\r\n\r\n        class ScheduledTaskExecutor implements Runnable{\r\n            @Override\r\n            public void run() {\r\n              // task to be executed\r\n            }\r\n        }\r\n    \r\n5. Add start() method:\r\n\r\n        public void start(){\r\n            yourTaskState = taskScheduler.scheduleAtFixedRate(new ScheduledTaskExecutor(), fixedRate);\r\n        }\r\n\r\n6. Add stop() method:\r\n\r\n        public void stop(){\r\n            yourTaskState.cancel(false);\r\n        }\r\n\r\nTaskScheduler provide other common way for scheduling like: cron or delay.\r\n\r\nScheduledFuture provide also `isCancelled();`\r\n    \r\n\r\n","title":"How to stop a scheduled task that was started using @Scheduled annotation?","body":"<p>Another approach that I have not found yet. Simple, clear and thread safe.</p>\n<ol>\n<li><p>In your configuration class add annotation:</p>\n<p><code>@EnableScheduling</code></p>\n</li>\n<li><p>This and next step in your class where you need start/stop scheduled task inject:</p>\n<p><code>@Autowired TaskScheduler taskScheduler;</code></p>\n</li>\n<li><p>Set fields:</p>\n<pre><code> private ScheduledFuture yourTaskState;\n private long fixedRate = 1000L;\n</code></pre>\n</li>\n<li><p>Create inner class that execute scheduled tasks eg.:</p>\n<pre><code> class ScheduledTaskExecutor implements Runnable{\n     @Override\n     public void run() {\n       // task to be executed\n     }\n }\n</code></pre>\n</li>\n<li><p>Add start() method:</p>\n<pre><code> public void start(){\n     yourTaskState = taskScheduler.scheduleAtFixedRate(new ScheduledTaskExecutor(), fixedRate);\n }\n</code></pre>\n</li>\n<li><p>Add stop() method:</p>\n<pre><code> public void stop(){\n     yourTaskState.cancel(false);\n }\n</code></pre>\n</li>\n</ol>\n<p>TaskScheduler provide other common way for scheduling like: cron or delay.</p>\n<p>ScheduledFuture provide also <code>isCancelled();</code></p>\n"},{"tags":[],"owner":{"account_id":313626,"reputation":1356,"user_id":628371,"display_name":"Joachim Lous"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1623765062,"creation_date":1623682275,"answer_id":67972516,"question_id":44644141,"body_markdown":"Minimalist answer:\\\r\n@mahesh&#39;s option 1, expanded here in minimal form for convenience, will irreversibly cancel all scheduled tasks on this bean:\r\n\r\n    @Autowired\r\n    private ScheduledAnnotationBeanPostProcessor postProcessor;\r\n\r\n    @Scheduled(fixedRate = 2000)\r\n    public void doSomething() {}\r\n  \r\n    public void stopThis() {\r\n        postProcessBeforeDestruction(this, &quot;&quot;)\r\n    }\r\n\r\nAlternatively, this will irreversibly cancel all tasks on *all* beans:\r\n     \r\n    @Autowired\r\n    private ThreadPoolTaskScheduler scheduler;\r\n\r\n    @Scheduled(fixedRate = 2000)\r\n    public void doSomething() {}\r\n  \r\n    public void stopAll() {\r\n        scheduler.shutdown();\r\n    }\r\n    \r\nThanks, all the previous responders, for solving this one for me.\r\n","title":"How to stop a scheduled task that was started using @Scheduled annotation?","body":"<p>Minimalist answer:<br />\n@mahesh's option 1, expanded here in minimal form for convenience, will irreversibly cancel all scheduled tasks on this bean:</p>\n<pre><code>@Autowired\nprivate ScheduledAnnotationBeanPostProcessor postProcessor;\n\n@Scheduled(fixedRate = 2000)\npublic void doSomething() {}\n\npublic void stopThis() {\n    postProcessBeforeDestruction(this, &quot;&quot;)\n}\n</code></pre>\n<p>Alternatively, this will irreversibly cancel all tasks on <em>all</em> beans:</p>\n<pre><code>@Autowired\nprivate ThreadPoolTaskScheduler scheduler;\n\n@Scheduled(fixedRate = 2000)\npublic void doSomething() {}\n\npublic void stopAll() {\n    scheduler.shutdown();\n}\n</code></pre>\n<p>Thanks, all the previous responders, for solving this one for me.</p>\n"},{"tags":[],"owner":{"account_id":16748956,"reputation":70,"user_id":12106481,"display_name":"Reema"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1644215983,"creation_date":1644215983,"answer_id":71014442,"question_id":44644141,"body_markdown":"Using `@conditional` will help you check a value from condition method, if it&#39;s true? run the scheduler. else don&#39;t run.\r\n\r\nFirst: create your condition class that implements the Condition interface and its `matches` method\r\n\r\n    public class MyCondition implements Condition{\r\n    \r\n    public boolean matches(ConditionContext context, AnnotatedTypeMetaData metadata) {\r\n\r\n    // here implement your condition using if-else or checking another object \r\n    // or call another method that can return boolean value\r\n    //return boolean value : true or false \r\n\r\n    return true;\r\n    }\r\n    }\r\n\r\nThen, back to your configuration or service class where you have the `@Scheduled` \r\n\r\n    @Service\r\n    @Conditional(value = MyCondition.class)\r\n    // this Service will only run if the condition is true \r\n    public class scheduledTask {\r\n    \r\n    \r\n    // the @Scheduled method should be void\r\n    @Scheduled(fixedRate= 5000)\r\n    public void task(){\r\n    System.out.println(&quot; This is scheduled task started....&quot;);\r\n    }\r\n    \r\n    }\r\n\r\nThis definitely worked for me.\r\n\r\n","title":"How to stop a scheduled task that was started using @Scheduled annotation?","body":"<p>Using <code>@conditional</code> will help you check a value from condition method, if it's true? run the scheduler. else don't run.</p>\n<p>First: create your condition class that implements the Condition interface and its <code>matches</code> method</p>\n<pre><code>public class MyCondition implements Condition{\n\npublic boolean matches(ConditionContext context, AnnotatedTypeMetaData metadata) {\n\n// here implement your condition using if-else or checking another object \n// or call another method that can return boolean value\n//return boolean value : true or false \n\nreturn true;\n}\n}\n</code></pre>\n<p>Then, back to your configuration or service class where you have the <code>@Scheduled</code></p>\n<pre><code>@Service\n@Conditional(value = MyCondition.class)\n// this Service will only run if the condition is true \npublic class scheduledTask {\n\n\n// the @Scheduled method should be void\n@Scheduled(fixedRate= 5000)\npublic void task(){\nSystem.out.println(&quot; This is scheduled task started....&quot;);\n}\n\n}\n</code></pre>\n<p>This definitely worked for me.</p>\n"},{"tags":[],"owner":{"account_id":21126274,"reputation":17,"user_id":15531501,"display_name":"Adam"},"down_vote_count":5,"up_vote_count":1,"is_accepted":false,"score":-4,"last_activity_date":1645608079,"creation_date":1645608079,"answer_id":71234264,"question_id":44644141,"body_markdown":"How about using `System.exit(1)`?\r\nIt is simple and works.","title":"How to stop a scheduled task that was started using @Scheduled annotation?","body":"<p>How about using <code>System.exit(1)</code>?\nIt is simple and works.</p>\n"},{"tags":[],"owner":{"account_id":11239587,"reputation":1,"user_id":8244382,"display_name":"uhfun"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1673853593,"creation_date":1673853593,"answer_id":75131200,"question_id":44644141,"body_markdown":"```java\r\nimport com.google.common.collect.Maps;\r\nimport org.redisson.liveobject.misc.ClassUtils;\r\nimport org.springframework.core.annotation.AnnotationUtils;\r\nimport org.springframework.scheduling.annotation.Scheduled;\r\nimport org.springframework.scheduling.annotation.ScheduledAnnotationBeanPostProcessor;\r\nimport org.springframework.scheduling.config.CronTask;\r\nimport org.springframework.scheduling.config.ScheduledTask;\r\nimport org.springframework.stereotype.Component;\r\n\r\nimport java.lang.reflect.Method;\r\nimport java.util.Map;\r\nimport java.util.Set;\r\n\r\nimport static java.util.Collections.emptySet;\r\nimport com.google.common.collect.Maps;\r\nimport org.redisson.liveobject.misc.ClassUtils;\r\nimport org.springframework.core.annotation.AnnotationUtils;\r\nimport org.springframework.scheduling.annotation.Scheduled;\r\nimport org.springframework.scheduling.annotation.ScheduledAnnotationBeanPostProcessor;\r\nimport org.springframework.scheduling.config.CronTask;\r\nimport org.springframework.scheduling.config.ScheduledTask;\r\nimport org.springframework.stereotype.Component;\r\n\r\nimport java.lang.reflect.Method;\r\nimport java.util.Map;\r\nimport java.util.Set;\r\n\r\nimport static java.util.Collections.emptySet;\r\n\r\n/**\r\n * @author uhfun\r\n */\r\n@Component\r\npublic class ConfigurableScheduler {\r\n    private final InnerScheduledAnnotationBeanPostProcessor postProcessor;\r\n\r\n    public ConfigurableScheduler(InnerScheduledAnnotationBeanPostProcessor postProcessor) {\r\n        this.postProcessor = postProcessor;\r\n    }\r\n\r\n    public void registerScheduleTask(String cron, Method method, Object target) {\r\n        Map&lt;String, Object&gt; attributes = Maps.newHashMap();\r\n        attributes.put(&quot;cron&quot;, cron);\r\n        Scheduled scheduled = AnnotationUtils.synthesizeAnnotation(attributes, Scheduled.class, null);\r\n        postProcessor.registerScheduleTask(scheduled, method, target);\r\n    }\r\n\r\n    public void unregister(String cron, Object target) {\r\n        postProcessor.unregister(target, cron);\r\n    }\r\n\r\n    @Component\r\n    public static class InnerScheduledAnnotationBeanPostProcessor extends ScheduledAnnotationBeanPostProcessor {\r\n\r\n        private final Map&lt;Object, Set&lt;ScheduledTask&gt;&gt; scheduledTasksMap;\r\n\r\n        public InnerScheduledAnnotationBeanPostProcessor() {\r\n            scheduledTasksMap = ClassUtils.getField(this, &quot;scheduledTasks&quot;);\r\n        }\r\n\r\n        public void registerScheduleTask(Scheduled scheduled, Method method, Object bean) {\r\n            super.processScheduled(scheduled, method, bean);\r\n        }\r\n\r\n        public void unregister(Object bean, String cron) {\r\n            synchronized (scheduledTasksMap) {\r\n                Set&lt;ScheduledTask&gt; tasks = getScheduledTasks();\r\n                for (ScheduledTask task : tasks) {\r\n                    if (task.getTask() instanceof CronTask\r\n                            &amp;&amp; ((CronTask) task.getTask()).getExpression().equals(cron)) {\r\n                        task.cancel();\r\n                        scheduledTasksMap.getOrDefault(bean, emptySet()).remove(task);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n```","title":"How to stop a scheduled task that was started using @Scheduled annotation?","body":"<pre class=\"lang-java prettyprint-override\"><code>import com.google.common.collect.Maps;\nimport org.redisson.liveobject.misc.ClassUtils;\nimport org.springframework.core.annotation.AnnotationUtils;\nimport org.springframework.scheduling.annotation.Scheduled;\nimport org.springframework.scheduling.annotation.ScheduledAnnotationBeanPostProcessor;\nimport org.springframework.scheduling.config.CronTask;\nimport org.springframework.scheduling.config.ScheduledTask;\nimport org.springframework.stereotype.Component;\n\nimport java.lang.reflect.Method;\nimport java.util.Map;\nimport java.util.Set;\n\nimport static java.util.Collections.emptySet;\nimport com.google.common.collect.Maps;\nimport org.redisson.liveobject.misc.ClassUtils;\nimport org.springframework.core.annotation.AnnotationUtils;\nimport org.springframework.scheduling.annotation.Scheduled;\nimport org.springframework.scheduling.annotation.ScheduledAnnotationBeanPostProcessor;\nimport org.springframework.scheduling.config.CronTask;\nimport org.springframework.scheduling.config.ScheduledTask;\nimport org.springframework.stereotype.Component;\n\nimport java.lang.reflect.Method;\nimport java.util.Map;\nimport java.util.Set;\n\nimport static java.util.Collections.emptySet;\n\n/**\n * @author uhfun\n */\n@Component\npublic class ConfigurableScheduler {\n    private final InnerScheduledAnnotationBeanPostProcessor postProcessor;\n\n    public ConfigurableScheduler(InnerScheduledAnnotationBeanPostProcessor postProcessor) {\n        this.postProcessor = postProcessor;\n    }\n\n    public void registerScheduleTask(String cron, Method method, Object target) {\n        Map&lt;String, Object&gt; attributes = Maps.newHashMap();\n        attributes.put(&quot;cron&quot;, cron);\n        Scheduled scheduled = AnnotationUtils.synthesizeAnnotation(attributes, Scheduled.class, null);\n        postProcessor.registerScheduleTask(scheduled, method, target);\n    }\n\n    public void unregister(String cron, Object target) {\n        postProcessor.unregister(target, cron);\n    }\n\n    @Component\n    public static class InnerScheduledAnnotationBeanPostProcessor extends ScheduledAnnotationBeanPostProcessor {\n\n        private final Map&lt;Object, Set&lt;ScheduledTask&gt;&gt; scheduledTasksMap;\n\n        public InnerScheduledAnnotationBeanPostProcessor() {\n            scheduledTasksMap = ClassUtils.getField(this, &quot;scheduledTasks&quot;);\n        }\n\n        public void registerScheduleTask(Scheduled scheduled, Method method, Object bean) {\n            super.processScheduled(scheduled, method, bean);\n        }\n\n        public void unregister(Object bean, String cron) {\n            synchronized (scheduledTasksMap) {\n                Set&lt;ScheduledTask&gt; tasks = getScheduledTasks();\n                for (ScheduledTask task : tasks) {\n                    if (task.getTask() instanceof CronTask\n                            &amp;&amp; ((CronTask) task.getTask()).getExpression().equals(cron)) {\n                        task.cancel();\n                        scheduledTasksMap.getOrDefault(bean, emptySet()).remove(task);\n                    }\n                }\n            }\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":5984666,"reputation":7885,"user_id":4702544,"accept_rate":50,"display_name":"Sachin Gupta"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96521,"favorite_count":0,"down_vote_count":0,"up_vote_count":53,"accepted_answer_id":44694210,"answer_count":12,"score":53,"last_activity_date":1673853593,"creation_date":1497934778,"question_id":44644141,"body_markdown":"I have created a simple scheduled task using Spring Framework&#39;s [`@Scheduled`](https://docs.spring.io/spring-framework/docs/4.3.x/javadoc-api/org/springframework/scheduling/annotation/Scheduled.html) annotation.\r\n\r\n     @Scheduled(fixedRate = 2000)\r\n     public void doSomething() {}\r\n\r\nNow I want to stop this task, when no longer needed.\r\n\r\nI know there could be one alternative to check one conditional flag at the start of this method, but this will not stop execution of this method.\r\n\r\nIs there anything Spring provides to stop `@Scheduled` task ?","title":"How to stop a scheduled task that was started using @Scheduled annotation?","body":"<p>I have created a simple scheduled task using Spring Framework's <a href=\"https://docs.spring.io/spring-framework/docs/4.3.x/javadoc-api/org/springframework/scheduling/annotation/Scheduled.html\" rel=\"noreferrer\"><code>@Scheduled</code></a> annotation.</p>\n\n<pre><code> @Scheduled(fixedRate = 2000)\n public void doSomething() {}\n</code></pre>\n\n<p>Now I want to stop this task, when no longer needed.</p>\n\n<p>I know there could be one alternative to check one conditional flag at the start of this method, but this will not stop execution of this method.</p>\n\n<p>Is there anything Spring provides to stop <code>@Scheduled</code> task ?</p>\n"},{"tags":["java","spring","mockito","java-stream"],"comments":[{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1673851343,"post_id":75130892,"comment_id":132581295,"body_markdown":"*Can someone please help me in understanding what exactly am I missing?* You are missing using a debugger to see what is null (imo its mockMapper if NPE line is correctly pointed out)","body":"<i>Can someone please help me in understanding what exactly am I missing?</i> You are missing using a debugger to see what is null (imo its mockMapper if NPE line is correctly pointed out)"},{"owner":{"account_id":15999538,"reputation":21,"user_id":11546617,"display_name":"Shashank Dixit"},"score":0,"creation_date":1673852033,"post_id":75130892,"comment_id":132581423,"body_markdown":"@Antoniossss I tried with debugger but it did not help, also I have updated the line. The issue exists in line \n `when(httpResponse.getEntity().getContent()).thenReturn(stream);`","body":"@Antoniossss I tried with debugger but it did not help, also I have updated the line. The issue exists in line   <code>when(httpResponse.getEntity().getContent()).thenReturn(strea&zwnj;&#8203;m);</code>"},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":2,"creation_date":1673852763,"post_id":75130892,"comment_id":132581559,"body_markdown":"`httpResponse.getEntity()` is null (if not httpResponse), why wouldnt it be. You cannot do things like when(x.a().b().c().d()).thenReturn in one go (unless you use deep mocking)","body":"<code>httpResponse.getEntity()</code> is null (if not httpResponse), why wouldnt it be. You cannot do things like when(x.a().b().c().d()).thenReturn in one go (unless you use deep mocking)"}],"answers":[{"tags":[],"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673853493,"creation_date":1673853073,"answer_id":75131131,"question_id":75130892,"body_markdown":"Since `httpResponse.getEntity()` has no mocking behavior configured, you got the default one which is returning null\r\n\r\nTry this \r\n\r\n    @Mock(answer = Answers.RETURNS_DEEP_STUBS)\r\n    InputStream stream;\r\n\r\nso your mock will returns mocks as well.\r\n\r\n\r\n\r\nTo be honest this one is not a candidate to unit testing but rather integration testing since there is almost NO CODE OF YOURS to test. I would mock web server and check if it behaves correctly with the real request and response (eg using WireMock).\r\n\r\nRight now, if you change internal implementation by eg using different http client implementation, you will cause the tests to break, while the public contaract is the same so it should not fail. As a result, such test will discourage any potentially improving changes, instead encouraging it by guaranteeing (is that a word?) that the contract stays intact despite change internal imlementation (this is the core reason of writing tests imo)\r\n","title":"How can I mock HTTPResponse interface in Java with ObjectMapper","body":"<p>Since <code>httpResponse.getEntity()</code> has no mocking behavior configured, you got the default one which is returning null</p>\n<p>Try this</p>\n<pre><code>@Mock(answer = Answers.RETURNS_DEEP_STUBS)\nInputStream stream;\n</code></pre>\n<p>so your mock will returns mocks as well.</p>\n<p>To be honest this one is not a candidate to unit testing but rather integration testing since there is almost NO CODE OF YOURS to test. I would mock web server and check if it behaves correctly with the real request and response (eg using WireMock).</p>\n<p>Right now, if you change internal implementation by eg using different http client implementation, you will cause the tests to break, while the public contaract is the same so it should not fail. As a result, such test will discourage any potentially improving changes, instead encouraging it by guaranteeing (is that a word?) that the contract stays intact despite change internal imlementation (this is the core reason of writing tests imo)</p>\n"}],"owner":{"account_id":15999538,"reputation":21,"user_id":11546617,"display_name":"Shashank Dixit"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75131131,"answer_count":1,"score":0,"last_activity_date":1673853493,"creation_date":1673850883,"question_id":75130892,"body_markdown":"I am trying to mock this HTTPResponse interface, where I am getting an error\r\n```\r\n    public Product handleSolrRequest(CloseableHttpClient client,String query,String limit) throws URISyntaxException, IOException {\r\n            HttpGet request = new HttpGet(SolrSchemaUtil.generateURI(solrURL, query, limit));\r\n            return client.execute(request, httpResponse -&gt;\r\n                    mapper.readValue(httpResponse.getEntity().getContent(), Product.class));\r\n    }\r\n```\r\n\r\nwhen I tried the below code,\r\n\r\n```\r\n    @Mock\r\n    HttpResponse httpResponse;\r\n    @Mock\r\n    ObjectMapper mockMapper;\r\n    @Mock\r\n    InputStream stream;\r\n    @BeforeMethod\r\n    public void init() {\r\n        MockitoAnnotations.initMocks(this);\r\n    }\r\n\r\n    @Test\r\n    public void testHandleSolrRequest() throws IOException, URISyntaxException {\r\n        when(httpResponse.getEntity().getContent()).thenReturn(stream);\r\n        when(mockMapper.readValue(eq(stream), Product.class))\r\n                .thenReturn(TestUtil.createSolrProductRS());\r\n        ...\r\n    }\r\n```\r\nI am getting java.lang.NullPointerException, in the line \r\n``` \r\nwhen(httpResponse.getEntity().getContent()).thenReturn(stream);\r\n```\r\n\r\nCan someone please help me in understanding what exactly am I missing?","title":"How can I mock HTTPResponse interface in Java with ObjectMapper","body":"<p>I am trying to mock this HTTPResponse interface, where I am getting an error</p>\n<pre><code>    public Product handleSolrRequest(CloseableHttpClient client,String query,String limit) throws URISyntaxException, IOException {\n            HttpGet request = new HttpGet(SolrSchemaUtil.generateURI(solrURL, query, limit));\n            return client.execute(request, httpResponse -&gt;\n                    mapper.readValue(httpResponse.getEntity().getContent(), Product.class));\n    }\n</code></pre>\n<p>when I tried the below code,</p>\n<pre><code>    @Mock\n    HttpResponse httpResponse;\n    @Mock\n    ObjectMapper mockMapper;\n    @Mock\n    InputStream stream;\n    @BeforeMethod\n    public void init() {\n        MockitoAnnotations.initMocks(this);\n    }\n\n    @Test\n    public void testHandleSolrRequest() throws IOException, URISyntaxException {\n        when(httpResponse.getEntity().getContent()).thenReturn(stream);\n        when(mockMapper.readValue(eq(stream), Product.class))\n                .thenReturn(TestUtil.createSolrProductRS());\n        ...\n    }\n</code></pre>\n<p>I am getting java.lang.NullPointerException, in the line</p>\n<pre><code>when(httpResponse.getEntity().getContent()).thenReturn(stream);\n</code></pre>\n<p>Can someone please help me in understanding what exactly am I missing?</p>\n"},{"tags":["java","javascript","ajax","struts"],"comments":[{"owner":{"account_id":39037,"reputation":12517,"user_id":112500,"accept_rate":94,"display_name":"Batakj"},"score":0,"creation_date":1267603033,"post_id":2289544,"comment_id":2345428,"body_markdown":"why the value of  &quot;p_p_state&quot; is &quot;pop_up&quot;?","body":"why the value of  &quot;p_p_state&quot; is &quot;pop_up&quot;?"},{"owner":{"account_id":143767,"reputation":3393,"user_id":352346,"accept_rate":81,"display_name":"bittersweetryan"},"score":0,"creation_date":1315272169,"post_id":2289544,"comment_id":8816170,"body_markdown":"Have you step debugged through your your action class code?  Where are you getting the null error?  I&#39;m doing some AJAX calls using Struts 1.3 and I&#39;m not doing anything special in my action classes so I&#39;d guess your problem may have to do with the parameters you are sending in.","body":"Have you step debugged through your your action class code?  Where are you getting the null error?  I&#39;m doing some AJAX calls using Struts 1.3 and I&#39;m not doing anything special in my action classes so I&#39;d guess your problem may have to do with the parameters you are sending in."}],"answers":[{"tags":[],"owner":{"account_id":13598,"reputation":102599,"user_id":27439,"accept_rate":100,"display_name":"Vincent Ramdhanie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1266506255,"creation_date":1266506023,"answer_id":2289613,"question_id":2289544,"body_markdown":"You need to specify the correct url when calling the action. In your struts.xml file you would have created an action entry with a name. Let&#39;s say that name is VisitorCounterAction. Note that this is not the name of the Action class but the name you use in struts.xml. \r\n\r\nAlso you would have configured struts to recognize a particular extension. By default it is .do.\r\n\r\nTo request the action you will then use:  VisitorCounterAction.do.\r\n\r\nSo try:\r\n\r\n      xmlhttp.open(&quot;GET&quot;,&quot;VisitorCounterAction.do&quot;,false);\r\n\r\nNote also the double quotes around the URL as this is a String in the xmlHttp object&#39;s open() method.\r\n","title":"How to call Struts1 Action from Ajax or JavaScript?","body":"<p>You need to specify the correct url when calling the action. In your struts.xml file you would have created an action entry with a name. Let's say that name is VisitorCounterAction. Note that this is not the name of the Action class but the name you use in struts.xml. </p>\n\n<p>Also you would have configured struts to recognize a particular extension. By default it is .do.</p>\n\n<p>To request the action you will then use:  VisitorCounterAction.do.</p>\n\n<p>So try:</p>\n\n<pre><code>  xmlhttp.open(\"GET\",\"VisitorCounterAction.do\",false);\n</code></pre>\n\n<p>Note also the double quotes around the URL as this is a String in the xmlHttp object's open() method.</p>\n"},{"tags":[],"owner":{"account_id":1092,"reputation":113948,"user_id":1450,"accept_rate":96,"display_name":"John Topley"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1266506213,"creation_date":1266506213,"answer_id":2289636,"question_id":2289544,"body_markdown":"The second parameter to the XMLHttpRequest object&#39;s `open` method should be a string that is the URL of the request. In your case it should be the Struts&#39; Action Mapping that maps to your `VisitorCounterAction`. Something like:\r\n\r\n    xmlhttp.open(&quot;GET&quot;, &quot;/viewCounterAction.do&quot;, false); ","title":"How to call Struts1 Action from Ajax or JavaScript?","body":"<p>The second parameter to the XMLHttpRequest object's <code>open</code> method should be a string that is the URL of the request. In your case it should be the Struts' Action Mapping that maps to your <code>VisitorCounterAction</code>. Something like:</p>\n\n<pre><code>xmlhttp.open(\"GET\", \"/viewCounterAction.do\", false); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":39037,"reputation":12517,"user_id":112500,"accept_rate":94,"display_name":"Batakj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1267602993,"creation_date":1267602993,"answer_id":2369547,"question_id":2289544,"body_markdown":"If you are using Liferay 4.2, then this link might help you (http://www.liferay.com/web/guest/community/wiki/-/wiki/Main/Ajax+Toolkit). Liferay 4.2 have own set of javascript API for doing AJAX functionality(Implemented in jquery). \r\n\r\n","title":"How to call Struts1 Action from Ajax or JavaScript?","body":"<p>If you are using Liferay 4.2, then this link might help you (<a href=\"http://www.liferay.com/web/guest/community/wiki/-/wiki/Main/Ajax+Toolkit\" rel=\"nofollow noreferrer\">http://www.liferay.com/web/guest/community/wiki/-/wiki/Main/Ajax+Toolkit</a>). Liferay 4.2 have own set of javascript API for doing AJAX functionality(Implemented in jquery). </p>\n"}],"owner":{"account_id":590514,"reputation":161,"user_id":267092,"accept_rate":62,"display_name":"Dj."},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7709,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1673852675,"creation_date":1266505425,"question_id":2289544,"body_markdown":"I need to call an action on load of a JSP. To keep track of number of users who visited that page.\r\n\r\nI have an action `VisitorCounterAction`, where it updates the database.\r\nOn load of the JSP I&#39;m calling an ajax function `callCounter()`;\r\n\r\n\r\n    {\r\n\r\n\t\t\talert(&quot;callCounter&quot;);\r\n\t\t\tif (window.XMLHttpRequest)\r\n\t\t\t{// code for IE7+, Firefox, Chrome, Opera, Safari\r\n\t\t\txmlhttp=new XMLHttpRequest();\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{// code for IE6, IE5\r\n\t\t\txmlhttp=new ActiveXObject(&quot;Microsoft.XMLHTTP&quot;);\r\n\t\t\t}\r\n\r\n\t\t\t// i need some correction here\r\n\t\t\txmlhttp.open(&quot;GET&quot;,VisitorCounterAction,false);\r\n\t\t\txmlhttp.send(null);\r\n\t\t\talert(&quot;callCounter returned from Action&quot;);\r\n\t\t\t}\r\n\r\nI am getting an exception as:\r\n\r\n&lt;pre&gt;/web/guest/content?p_p_id=31&amp;p_p_lifecycle=0&amp;p_p_state=pop_up&amp;p_p_mode=view&amp;_31_struts_action=%2Fimage_gallery%2Fview_slide_show&amp;_31_folderId=10605 generates exception: null&lt;/pre&gt;\r\n\r\nPlease help me with this. Or any other way to call the Action. \r\nI can&#39;t reload the page as it&#39;ll call onload function again.\r\n\r\nThanks,\r\nDj","title":"How to call Struts1 Action from Ajax or JavaScript?","body":"<p>I need to call an action on load of a JSP. To keep track of number of users who visited that page.</p>\n\n<p>I have an action <code>VisitorCounterAction</code>, where it updates the database.\nOn load of the JSP I'm calling an ajax function <code>callCounter()</code>;</p>\n\n<pre><code>{\n\n        alert(\"callCounter\");\n        if (window.XMLHttpRequest)\n        {// code for IE7+, Firefox, Chrome, Opera, Safari\n        xmlhttp=new XMLHttpRequest();\n        }\n        else\n        {// code for IE6, IE5\n        xmlhttp=new ActiveXObject(\"Microsoft.XMLHTTP\");\n        }\n\n        // i need some correction here\n        xmlhttp.open(\"GET\",VisitorCounterAction,false);\n        xmlhttp.send(null);\n        alert(\"callCounter returned from Action\");\n        }\n</code></pre>\n\n<p>I am getting an exception as:</p>\n\n<pre>/web/guest/content?p_p_id=31&p_p_lifecycle=0&p_p_state=pop_up&p_p_mode=view&_31_struts_action=%2Fimage_gallery%2Fview_slide_show&_31_folderId=10605 generates exception: null</pre>\n\n<p>Please help me with this. Or any other way to call the Action. \nI can't reload the page as it'll call onload function again.</p>\n\n<p>Thanks,\nDj</p>\n"},{"tags":["java","transliteration","tamil"],"comments":[{"owner":{"account_id":5751511,"reputation":16788,"user_id":4541045,"display_name":"ti7"},"score":0,"creation_date":1483627447,"post_id":41486925,"comment_id":70180912,"body_markdown":"You may have some luck using the [Google Translate API](http://stackoverflow.com/a/16325094/4541045)","body":"You may have some luck using the <a href=\"http://stackoverflow.com/a/16325094/4541045\">Google Translate API</a>"},{"owner":{"account_id":2192332,"reputation":20209,"user_id":1938988,"accept_rate":81,"display_name":"johnny 5"},"score":0,"creation_date":1483628194,"post_id":41486925,"comment_id":70181433,"body_markdown":"That really depends, are those characters directly translatable to values in the english language or does the english version change based on a set of rules?","body":"That really depends, are those characters directly translatable to values in the english language or does the english version change based on a set of rules?"},{"owner":{"account_id":434266,"reputation":15464,"user_id":820127,"display_name":"rossum"},"score":4,"creation_date":1483628984,"post_id":41486925,"comment_id":70182005,"body_markdown":"You seem to be looking for a transliteration, converting Tamil characters to the Roman alphabet.  Search on &#39;transliteration&#39; rather than translation, which is a different thing.","body":"You seem to be looking for a transliteration, converting Tamil characters to the Roman alphabet.  Search on &#39;transliteration&#39; rather than translation, which is a different thing."},{"owner":{"account_id":3037842,"reputation":23,"user_id":5554610,"display_name":"Anutharsha"},"score":0,"creation_date":1483643725,"post_id":41486925,"comment_id":70191776,"body_markdown":"I want to convert the tamil word to thanglish word. For example, if input = , then output should be &quot;amma&quot;","body":"I want to convert the tamil word to thanglish word. For example, if input = , then output should be &quot;amma&quot;"},{"owner":{"account_id":3037842,"reputation":23,"user_id":5554610,"display_name":"Anutharsha"},"score":0,"creation_date":1483674376,"post_id":41486925,"comment_id":70203063,"body_markdown":"I need code snippet","body":"I need code snippet"},{"owner":{"account_id":4150047,"reputation":1415,"user_id":3402772,"display_name":"SibiCoder"},"score":0,"creation_date":1484839618,"post_id":41486925,"comment_id":70683830,"body_markdown":"@Anutharsha : Post the code you tried and ask question. This is not the place to get code. Tools are already available for this purpose. Google for it. To try on your own, give two arrays, one with tamil characters, and another with latin letters and search and replace in code to convert. There is a sample mapping at  http://ccat.sas.upenn.edu/plc/tamilweb/trans/tamilunicode.html  .Be careful with mappings. If you give ,  and `a`, `aa` in this order in code and replace, a text like `aam` will get converted to  instead of . So, always place  before  ones in the array.","body":"@Anutharsha : Post the code you tried and ask question. This is not the place to get code. Tools are already available for this purpose. Google for it. To try on your own, give two arrays, one with tamil characters, and another with latin letters and search and replace in code to convert. There is a sample mapping at  <a href=\"http://ccat.sas.upenn.edu/plc/tamilweb/trans/tamilunicode.html\" rel=\"nofollow noreferrer\">ccat.sas.upenn.edu/plc/tamilweb/trans/tamilunicode.html</a>  .Be careful with mappings. If you give ,  and <code>a</code>, <code>aa</code> in this order in code and replace, a text like <code>aam</code> will get converted to  instead of . So, always place  before  ones in the array."}],"answers":[{"tags":[],"owner":{"account_id":5751511,"reputation":16788,"user_id":4541045,"display_name":"ti7"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1483629053,"creation_date":1483628242,"answer_id":41488087,"question_id":41486925,"body_markdown":"As there are only 72 characters in the [Tamil block](https://en.wikipedia.org/wiki/Tamil_(Unicode_block)), build a translation table and then build a new string by testing each if character can be translated before adding it to the list.\r\n\r\nFor example `U+0B87` () becomes `i`\r\n\r\nIf you are more familiar with Java and/or have a very large amount of material to translate, there are likely a few processing optimizations to speed up the process, but I suspect the above will be the base of a good solution.\r\n\r\nIf you only have a small amount of material to translate or this is a one-off job, it may make more sense to simply use [Google Translate](https://translate.google.com/#ta/en/%E0%AE%87%E0%AE%B2%E0%AF%8D%E0%AE%B2%E0%AF%88) and get the input translation below the input box.","title":"How to convert tamil string to english string in java","body":"<p>As there are only 72 characters in the <a href=\"https://en.wikipedia.org/wiki/Tamil_(Unicode_block)\" rel=\"nofollow noreferrer\">Tamil block</a>, build a translation table and then build a new string by testing each if character can be translated before adding it to the list.</p>\n\n<p>For example <code>U+0B87</code> () becomes <code>i</code></p>\n\n<p>If you are more familiar with Java and/or have a very large amount of material to translate, there are likely a few processing optimizations to speed up the process, but I suspect the above will be the base of a good solution.</p>\n\n<p>If you only have a small amount of material to translate or this is a one-off job, it may make more sense to simply use <a href=\"https://translate.google.com/#ta/en/%E0%AE%87%E0%AE%B2%E0%AF%8D%E0%AE%B2%E0%AF%88\" rel=\"nofollow noreferrer\">Google Translate</a> and get the input translation below the input box.</p>\n"}],"owner":{"account_id":3037842,"reputation":23,"user_id":5554610,"display_name":"Anutharsha"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1354,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"closed_date":1483628710,"accepted_answer_id":41488087,"answer_count":1,"score":-2,"last_activity_date":1673852472,"creation_date":1483624683,"question_id":41486925,"body_markdown":"I am doing a project which involves NLP. I need to transliterate Tamil String to  English string(In tanglish form) like &quot;&quot; to &quot;illai&quot;..\r\n\r\nHow can i do that using java ??\r\nHelp me with the code sample","title":"How to convert tamil string to english string in java","body":"<p>I am doing a project which involves NLP. I need to transliterate Tamil String to  English string(In tanglish form) like \"\" to \"illai\"..</p>\n\n<p>How can i do that using java ??\nHelp me with the code sample</p>\n"},{"tags":["java","spring-boot","datasource"],"answers":[{"tags":[],"owner":{"account_id":2719313,"reputation":15631,"user_id":2345933,"accept_rate":84,"display_name":"Adam Siemion"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1673852010,"creation_date":1545840162,"answer_id":53934309,"question_id":53934077,"body_markdown":"You need to:\r\n\r\n- define two `DataSource`\r\n- mark one of them as `@Primary` (like you did)\r\n- define two `LocalContainerEntityManagerFactoryBean` `em1` and `em2` each using a different `DataSource`\r\n- define two `TransactionManagers`\r\n- put all the repositories which should use the first `DataSource` into package `pkg1` and the other repositories into package `pkg2`\r\n- define a `@Configuration` class with `@EnableJpaRepositories` with `basePackages = &quot;pkg1&quot;` and `entityManagerFactoryRef = &quot;em1&quot;`\r\n- add the second `@Configuration` class for `pkg2` and `em2`\r\n\r\nIt is described in [the Spring Boot documentation - 8.2 Configure Two DataSources][1].\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/howto.html#howto.data-access.configure-two-datasources","title":"Spring boot JPA set custom datasource","body":"<p>You need to:</p>\n<ul>\n<li>define two <code>DataSource</code></li>\n<li>mark one of them as <code>@Primary</code> (like you did)</li>\n<li>define two <code>LocalContainerEntityManagerFactoryBean</code> <code>em1</code> and <code>em2</code> each using a different <code>DataSource</code></li>\n<li>define two <code>TransactionManagers</code></li>\n<li>put all the repositories which should use the first <code>DataSource</code> into package <code>pkg1</code> and the other repositories into package <code>pkg2</code></li>\n<li>define a <code>@Configuration</code> class with <code>@EnableJpaRepositories</code> with <code>basePackages = &quot;pkg1&quot;</code> and <code>entityManagerFactoryRef = &quot;em1&quot;</code></li>\n<li>add the second <code>@Configuration</code> class for <code>pkg2</code> and <code>em2</code></li>\n</ul>\n<p>It is described in <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/howto.html#howto.data-access.configure-two-datasources\" rel=\"nofollow noreferrer\">the Spring Boot documentation - 8.2 Configure Two DataSources</a>.</p>\n"},{"tags":[],"owner":{"account_id":534856,"reputation":5625,"user_id":904624,"accept_rate":81,"display_name":"Christine"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1546114356,"creation_date":1545843763,"answer_id":53934908,"question_id":53934077,"body_markdown":"I use two datasources. This is my applicationContext.xml:\r\n\r\n    &lt;?xml version = &quot;1.0&quot; encoding = &quot;UTF-8&quot;?&gt;\r\n\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n       xmlns:util=&quot;http://www.springframework.org/schema/util&quot;\r\n       xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n       xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;\r\n       xmlns:jpa=&quot;http://www.springframework.org/schema/data/jpa&quot;\r\n       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\r\n       http://www.springframework.org/schema/beans/spring-beans.xsd\r\n       http://www.springframework.org/schema/context\r\n       http://www.springframework.org/schema/context/spring-context.xsd\r\n       http://www.springframework.org/schema/tx\r\n       http://www.springframework.org/schema/tx/spring-tx.xsd\r\n       http://www.springframework.org/schema/util\r\n       http://www.springframework.org/schema/util/spring-util.xsd\r\n       http://www.springframework.org/schema/data/jpa\r\n       http://www.springframework.org/schema/data/jpa/spring-jpa.xsd\r\n       http://www.springframework.org/schema/data/jpa\r\n       http://www.springframework.org/schema/data/jpa/spring-jpa.xsd&quot;&gt;\r\n\r\n    &lt;jpa:repositories base-package=&quot;nl.christine.schwartze.server&quot;/&gt;\r\n\r\n    &lt;context:property-placeholder location=&quot;classpath:/META-INF/database.properties&quot;/&gt;\r\n\r\n    &lt;context:component-scan base-package=&quot;nl.christine.schwartze.server&quot;/&gt;\r\n\r\n    &lt;bean class=&quot;org.apache.commons.dbcp2.BasicDataSource&quot;\r\n          destroy-method=&quot;close&quot; id=&quot;dataSource&quot;&gt;\r\n        &lt;property name=&quot;driverClassName&quot; value=&quot;${database.driverClassName}&quot;/&gt;\r\n        &lt;property name=&quot;url&quot; value=&quot;${database.url}&quot;/&gt;\r\n        &lt;property name=&quot;username&quot; value=&quot;${database.username}&quot;/&gt;\r\n        &lt;property name=&quot;password&quot; value=&quot;${database.password}&quot;/&gt;\r\n    &lt;/bean&gt;\r\n\r\n    &lt;bean class=&quot;org.apache.commons.dbcp2.BasicDataSource&quot;\r\n          destroy-method=&quot;close&quot; id=&quot;importDataSource&quot;&gt;\r\n        &lt;property name=&quot;driverClassName&quot; value=&quot;${database.driverClassName}&quot;/&gt;\r\n        &lt;property name=&quot;url&quot; value=&quot;${importDatabase.url}&quot;/&gt;\r\n        &lt;property name=&quot;username&quot; value=&quot;${database.username}&quot;/&gt;\r\n        &lt;property name=&quot;password&quot; value=&quot;${database.password}&quot;/&gt;\r\n    &lt;/bean&gt;\r\n\r\n    &lt;bean id=&quot;entityManagerFactory&quot;\r\n          class=&quot;org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean&quot;&gt;\r\n        &lt;property name=&quot;persistenceUnitName&quot; value=&quot;defaultPU&quot;/&gt;\r\n        &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;/&gt;\r\n        &lt;property name=&quot;packagesToScan&quot; value=&quot;nl.christine.schwartze.server.model&quot;/&gt;\r\n        &lt;property name=&quot;jpaVendorAdapter&quot; ref=&quot;hibernateVendorAdapter&quot;/&gt;\r\n        &lt;property name=&quot;jpaProperties&quot; ref=&quot;props&quot;/&gt;\r\n        &lt;property name=&quot;persistenceProvider&quot;&gt;\r\n            &lt;bean class=&quot;org.hibernate.jpa.HibernatePersistenceProvider&quot;/&gt;\r\n        &lt;/property&gt;\r\n    &lt;/bean&gt;\r\n\r\n    &lt;bean id=&quot;importEntityManagerFactory&quot;\r\n          class=&quot;org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean&quot;&gt;\r\n        &lt;property name=&quot;persistenceUnitName&quot; value=&quot;importPU&quot;/&gt;\r\n        &lt;property name=&quot;dataSource&quot; ref=&quot;importDataSource&quot;/&gt;\r\n        &lt;property name=&quot;packagesToScan&quot; value=&quot;nl.christine.schwartze.server.modelimport&quot;/&gt;\r\n        &lt;property name=&quot;jpaVendorAdapter&quot; ref=&quot;hibernateVendorAdapter&quot;/&gt;\r\n        &lt;property name=&quot;jpaProperties&quot; ref=&quot;importprops&quot;/&gt;\r\n        &lt;property name=&quot;persistenceProvider&quot;&gt;\r\n            &lt;bean class=&quot;org.hibernate.jpa.HibernatePersistenceProvider&quot;/&gt;\r\n        &lt;/property&gt;\r\n    &lt;/bean&gt;\r\n\r\n    &lt;bean id=&quot;transactionManager&quot; class=&quot;org.springframework.orm.jpa.JpaTransactionManager&quot;&gt;\r\n        &lt;property name=&quot;entityManagerFactory&quot; ref=&quot;entityManagerFactory&quot; /&gt;\r\n    &lt;/bean&gt;\r\n\r\n    &lt;bean id=&quot;importTransactionManager&quot; class=&quot;org.springframework.orm.jpa.JpaTransactionManager&quot;&gt;\r\n        &lt;property name=&quot;entityManagerFactory&quot; ref=&quot;importEntityManagerFactory&quot; /&gt;\r\n    &lt;/bean&gt;\r\n\r\n    &lt;bean id=&quot;hibernateVendorAdapter&quot;\r\n          class=&quot;org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter&quot;/&gt;\r\n\r\n    &lt;util:properties id=&quot;props&quot;&gt;\r\n        &lt;prop key=&quot;hibernate.show_sql&quot;&gt;true&lt;/prop&gt;\r\n        &lt;prop key=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.PostgreSQL82Dialect&lt;/prop&gt;\r\n        &lt;prop key=&quot;hibernate.hbm2ddl.auto&quot;&gt;${database.createorvalidate}&lt;/prop&gt;\r\n        &lt;prop key=&quot;hibernate.ddl-auto&quot;&gt;${database.createorvalidate}&lt;/prop&gt;\r\n        &lt;prop key=&quot;spring.jpa.show-sql&quot;&gt;true&lt;/prop&gt;\r\n        &lt;prop key=&quot;spring.jpa.generate.ddl&quot;&gt;true&lt;/prop&gt;\r\n        &lt;prop key=&quot;spring.jpa.hibernate.ddl-auto&quot;&gt;${database.createorvalidate}&lt;/prop&gt;\r\n        &lt;prop key=&quot;spring.datasource.initialization-mode&quot;&gt;never&lt;/prop&gt;\r\n        &lt;prop key=&quot;spring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation&quot;&gt;true&lt;/prop&gt;\r\n    &lt;/util:properties&gt;\r\n\r\n    &lt;util:properties id=&quot;importprops&quot;&gt;\r\n        &lt;prop key=&quot;hibernate.show_sql&quot;&gt;true&lt;/prop&gt;\r\n        &lt;prop key=&quot;hibernate.id.new_generator_mappings&quot;&gt;false&lt;/prop&gt;\r\n        &lt;prop key=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.PostgreSQL82Dialect&lt;/prop&gt;\r\n        &lt;prop key=&quot;hibernate.hbm2ddl.auto&quot;&gt;validate&lt;/prop&gt;\r\n        &lt;prop key=&quot;hibernate.ddl-auto&quot;&gt;validate&lt;/prop&gt;\r\n        &lt;prop key=&quot;spring.jpa.show-sql&quot;&gt;true&lt;/prop&gt;\r\n        &lt;prop key=&quot;spring.jpa.generate.ddl&quot;&gt;true&lt;/prop&gt;\r\n        &lt;prop key=&quot;spring.jpa.hibernate.ddl-auto&quot;&gt;validate&lt;/prop&gt;\r\n        &lt;prop key=&quot;spring.datasource.initialization-mode&quot;&gt;never&lt;/prop&gt;\r\n        &lt;prop key=&quot;spring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation&quot;&gt;true&lt;/prop&gt;\r\n    &lt;/util:properties&gt;\r\n\r\n    &lt;bean id=&quot;importLetterDao&quot; class=&quot;nl.christine.schwartze.server.daoimport.impl.ImportLetterDaoImpl&quot; scope=&quot;singleton&quot;&gt;\r\n    &lt;/bean&gt;\r\n\r\n    &lt;bean id=&quot;letterDao&quot; class=&quot;nl.christine.schwartze.server.dao.impl.LetterDaoImpl&quot; scope=&quot;singleton&quot;&gt;\r\n    &lt;/bean&gt;\r\n\r\n    &lt;bean id=&quot;locationDao&quot; class=&quot;nl.christine.schwartze.server.dao.impl.LocationDaoImpl&quot; scope=&quot;singleton&quot;&gt;\r\n    &lt;/bean&gt;\r\n\r\n    &lt;bean id=&quot;personDao&quot; class=&quot;nl.christine.schwartze.server.dao.impl.PersonDaoImpl&quot; scope=&quot;singleton&quot;&gt;\r\n    &lt;/bean&gt;\r\n\r\n    &lt;bean id=&quot;letterService&quot; class=&quot;nl.christine.schwartze.server.service.impl.LetterServiceImpl&quot; scope=&quot;singleton&quot;&gt;\r\n    &lt;/bean&gt;\r\n\r\n    &lt;bean id=&quot;logger&quot; scope=&quot;prototype&quot; class=&quot;org.slf4j.LoggerFactory&quot; factory-method=&quot;getLogger&quot;&gt;\r\n        &lt;constructor-arg name=&quot;name&quot; value=&quot;schwartzeLogger&quot; /&gt;\r\n    &lt;/bean&gt;\r\n&lt;/beans&gt;\r\n\r\nThis is part of one of the domain classes:\r\n\r\n    @Entity\r\n    @Table(name = &quot;letters&quot;)\r\n    @EnableJpaRepositories(\r\n        basePackages = &quot;nl.christine.schwartze.server.dao&quot;,\r\n        transactionManagerRef = &quot;transactionManager&quot;,\r\n        entityManagerFactoryRef = &quot;defaultPU&quot;)\r\n    public class Letter {\r\n    ...\r\n\r\n\r\nThese are annotations I have on a Controller method:\r\n\r\n       @CrossOrigin(origins = &quot;http://pengo.christine.nl:3000&quot;)\r\n    @RequestMapping(method = RequestMethod.POST, value = &quot;/get_letters/&quot;)\r\n    @Transactional(&quot;transactionManager&quot;)\r\n    public ResponseEntity&lt;LettersResult&gt; getLetters(@RequestBody LettersRequest request) {\r\n    ...\r\n\r\n\r\nExample project [here][1]. \r\n\r\n\r\n  [1]: https://github.com/xtien/schwartze-backend","title":"Spring boot JPA set custom datasource","body":"<p>I use two datasources. This is my applicationContext.xml:</p>\n\n<pre><code>&lt;?xml version = \"1.0\" encoding = \"UTF-8\"?&gt;\n\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n   xmlns:util=\"http://www.springframework.org/schema/util\"\n   xmlns:context=\"http://www.springframework.org/schema/context\"\n   xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n   xmlns:tx=\"http://www.springframework.org/schema/tx\"\n   xmlns:jpa=\"http://www.springframework.org/schema/data/jpa\"\n   xsi:schemaLocation=\"http://www.springframework.org/schema/beans\n   http://www.springframework.org/schema/beans/spring-beans.xsd\n   http://www.springframework.org/schema/context\n   http://www.springframework.org/schema/context/spring-context.xsd\n   http://www.springframework.org/schema/tx\n   http://www.springframework.org/schema/tx/spring-tx.xsd\n   http://www.springframework.org/schema/util\n   http://www.springframework.org/schema/util/spring-util.xsd\n   http://www.springframework.org/schema/data/jpa\n   http://www.springframework.org/schema/data/jpa/spring-jpa.xsd\n   http://www.springframework.org/schema/data/jpa\n   http://www.springframework.org/schema/data/jpa/spring-jpa.xsd\"&gt;\n\n&lt;jpa:repositories base-package=\"nl.christine.schwartze.server\"/&gt;\n\n&lt;context:property-placeholder location=\"classpath:/META-INF/database.properties\"/&gt;\n\n&lt;context:component-scan base-package=\"nl.christine.schwartze.server\"/&gt;\n\n&lt;bean class=\"org.apache.commons.dbcp2.BasicDataSource\"\n      destroy-method=\"close\" id=\"dataSource\"&gt;\n    &lt;property name=\"driverClassName\" value=\"${database.driverClassName}\"/&gt;\n    &lt;property name=\"url\" value=\"${database.url}\"/&gt;\n    &lt;property name=\"username\" value=\"${database.username}\"/&gt;\n    &lt;property name=\"password\" value=\"${database.password}\"/&gt;\n&lt;/bean&gt;\n\n&lt;bean class=\"org.apache.commons.dbcp2.BasicDataSource\"\n      destroy-method=\"close\" id=\"importDataSource\"&gt;\n    &lt;property name=\"driverClassName\" value=\"${database.driverClassName}\"/&gt;\n    &lt;property name=\"url\" value=\"${importDatabase.url}\"/&gt;\n    &lt;property name=\"username\" value=\"${database.username}\"/&gt;\n    &lt;property name=\"password\" value=\"${database.password}\"/&gt;\n&lt;/bean&gt;\n\n&lt;bean id=\"entityManagerFactory\"\n      class=\"org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean\"&gt;\n    &lt;property name=\"persistenceUnitName\" value=\"defaultPU\"/&gt;\n    &lt;property name=\"dataSource\" ref=\"dataSource\"/&gt;\n    &lt;property name=\"packagesToScan\" value=\"nl.christine.schwartze.server.model\"/&gt;\n    &lt;property name=\"jpaVendorAdapter\" ref=\"hibernateVendorAdapter\"/&gt;\n    &lt;property name=\"jpaProperties\" ref=\"props\"/&gt;\n    &lt;property name=\"persistenceProvider\"&gt;\n        &lt;bean class=\"org.hibernate.jpa.HibernatePersistenceProvider\"/&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;\n\n&lt;bean id=\"importEntityManagerFactory\"\n      class=\"org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean\"&gt;\n    &lt;property name=\"persistenceUnitName\" value=\"importPU\"/&gt;\n    &lt;property name=\"dataSource\" ref=\"importDataSource\"/&gt;\n    &lt;property name=\"packagesToScan\" value=\"nl.christine.schwartze.server.modelimport\"/&gt;\n    &lt;property name=\"jpaVendorAdapter\" ref=\"hibernateVendorAdapter\"/&gt;\n    &lt;property name=\"jpaProperties\" ref=\"importprops\"/&gt;\n    &lt;property name=\"persistenceProvider\"&gt;\n        &lt;bean class=\"org.hibernate.jpa.HibernatePersistenceProvider\"/&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;\n\n&lt;bean id=\"transactionManager\" class=\"org.springframework.orm.jpa.JpaTransactionManager\"&gt;\n    &lt;property name=\"entityManagerFactory\" ref=\"entityManagerFactory\" /&gt;\n&lt;/bean&gt;\n\n&lt;bean id=\"importTransactionManager\" class=\"org.springframework.orm.jpa.JpaTransactionManager\"&gt;\n    &lt;property name=\"entityManagerFactory\" ref=\"importEntityManagerFactory\" /&gt;\n&lt;/bean&gt;\n\n&lt;bean id=\"hibernateVendorAdapter\"\n      class=\"org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter\"/&gt;\n\n&lt;util:properties id=\"props\"&gt;\n    &lt;prop key=\"hibernate.show_sql\"&gt;true&lt;/prop&gt;\n    &lt;prop key=\"hibernate.dialect\"&gt;org.hibernate.dialect.PostgreSQL82Dialect&lt;/prop&gt;\n    &lt;prop key=\"hibernate.hbm2ddl.auto\"&gt;${database.createorvalidate}&lt;/prop&gt;\n    &lt;prop key=\"hibernate.ddl-auto\"&gt;${database.createorvalidate}&lt;/prop&gt;\n    &lt;prop key=\"spring.jpa.show-sql\"&gt;true&lt;/prop&gt;\n    &lt;prop key=\"spring.jpa.generate.ddl\"&gt;true&lt;/prop&gt;\n    &lt;prop key=\"spring.jpa.hibernate.ddl-auto\"&gt;${database.createorvalidate}&lt;/prop&gt;\n    &lt;prop key=\"spring.datasource.initialization-mode\"&gt;never&lt;/prop&gt;\n    &lt;prop key=\"spring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation\"&gt;true&lt;/prop&gt;\n&lt;/util:properties&gt;\n\n&lt;util:properties id=\"importprops\"&gt;\n    &lt;prop key=\"hibernate.show_sql\"&gt;true&lt;/prop&gt;\n    &lt;prop key=\"hibernate.id.new_generator_mappings\"&gt;false&lt;/prop&gt;\n    &lt;prop key=\"hibernate.dialect\"&gt;org.hibernate.dialect.PostgreSQL82Dialect&lt;/prop&gt;\n    &lt;prop key=\"hibernate.hbm2ddl.auto\"&gt;validate&lt;/prop&gt;\n    &lt;prop key=\"hibernate.ddl-auto\"&gt;validate&lt;/prop&gt;\n    &lt;prop key=\"spring.jpa.show-sql\"&gt;true&lt;/prop&gt;\n    &lt;prop key=\"spring.jpa.generate.ddl\"&gt;true&lt;/prop&gt;\n    &lt;prop key=\"spring.jpa.hibernate.ddl-auto\"&gt;validate&lt;/prop&gt;\n    &lt;prop key=\"spring.datasource.initialization-mode\"&gt;never&lt;/prop&gt;\n    &lt;prop key=\"spring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation\"&gt;true&lt;/prop&gt;\n&lt;/util:properties&gt;\n\n&lt;bean id=\"importLetterDao\" class=\"nl.christine.schwartze.server.daoimport.impl.ImportLetterDaoImpl\" scope=\"singleton\"&gt;\n&lt;/bean&gt;\n\n&lt;bean id=\"letterDao\" class=\"nl.christine.schwartze.server.dao.impl.LetterDaoImpl\" scope=\"singleton\"&gt;\n&lt;/bean&gt;\n\n&lt;bean id=\"locationDao\" class=\"nl.christine.schwartze.server.dao.impl.LocationDaoImpl\" scope=\"singleton\"&gt;\n&lt;/bean&gt;\n\n&lt;bean id=\"personDao\" class=\"nl.christine.schwartze.server.dao.impl.PersonDaoImpl\" scope=\"singleton\"&gt;\n&lt;/bean&gt;\n\n&lt;bean id=\"letterService\" class=\"nl.christine.schwartze.server.service.impl.LetterServiceImpl\" scope=\"singleton\"&gt;\n&lt;/bean&gt;\n\n&lt;bean id=\"logger\" scope=\"prototype\" class=\"org.slf4j.LoggerFactory\" factory-method=\"getLogger\"&gt;\n    &lt;constructor-arg name=\"name\" value=\"schwartzeLogger\" /&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p></p>\n\n<p>This is part of one of the domain classes:</p>\n\n<pre><code>@Entity\n@Table(name = \"letters\")\n@EnableJpaRepositories(\n    basePackages = \"nl.christine.schwartze.server.dao\",\n    transactionManagerRef = \"transactionManager\",\n    entityManagerFactoryRef = \"defaultPU\")\npublic class Letter {\n...\n</code></pre>\n\n<p>These are annotations I have on a Controller method:</p>\n\n<pre><code>   @CrossOrigin(origins = \"http://pengo.christine.nl:3000\")\n@RequestMapping(method = RequestMethod.POST, value = \"/get_letters/\")\n@Transactional(\"transactionManager\")\npublic ResponseEntity&lt;LettersResult&gt; getLetters(@RequestBody LettersRequest request) {\n...\n</code></pre>\n\n<p>Example project <a href=\"https://github.com/xtien/schwartze-backend\" rel=\"nofollow noreferrer\">here</a>. </p>\n"}],"owner":{"account_id":4861838,"reputation":3854,"user_id":3921231,"accept_rate":79,"display_name":"Itsik Mauyhas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6050,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":53934309,"answer_count":2,"score":3,"last_activity_date":1673852010,"creation_date":1545838748,"question_id":53934077,"body_markdown":"I have 2 datasources defined-\r\n\r\n    #datasource jndi setup\r\n    database.datasources[1].jndi-name=jdbc/yyyy\r\n    database.datasources[1].username=yyyy\r\n    database.datasources[1].password=yyyyy\r\n    database.datasources[1].url=jdbc:oracle:thin:@localhost:2222:webtst\r\n    database.datasources[1].driverClassName=oracle.jdbc.OracleDriver\r\n    database.datasources[1].factory=org.apache.tomcat.jdbc.pool.DataSourceFactory\r\n    database.datasources[1].initialSize=1\r\n    database.datasources[1].maxActive=5\r\n    \r\n    database.datasources[0].jndi-name=jdbc/xxx\r\n    database.datasources[0].username=xxx\r\n    database.datasources[0].password=xxxx\r\n    database.datasources[0].url=jdbc:oracle:thin:@localhost:2222:webtst\r\n    database.datasources[0].driverClassName=oracle.jdbc.OracleDriver\r\n    database.datasources[0].factory=org.apache.tomcat.jdbc.pool.DataSourceFactory\r\n    database.datasources[0].initialSize=1\r\n    database.datasources[0].maxActive=15 \r\n\r\nAnd 2 matching JPA repositories, how can I set one of them to use different ds(not the primary one) after I defined one of them to be @Primary : \r\n\r\n\t@Bean\r\n\t@Primary\r\n\tDataSource dataSource() throws SQLException {\r\n        OracleDataSource dataSource = new OracleDataSource();\r\n        dataSource.setUser(xusername);\r\n        dataSource.setPassword(xpassword);\r\n        dataSource.setURL(xurl);\r\n        \r\n        dataSource.setImplicitCachingEnabled(true);\r\n        dataSource.setFastConnectionFailoverEnabled(true);\r\n        return dataSource;\r\n    }\r\n\t\r\n\t\r\n\t\r\n\t@Bean\r\n    DataSource propsDataSource() throws SQLException {\r\n        OracleDataSource propsDataSource = new OracleDataSource();\r\n        //propsDataSource.setDataSourceName(secJNDIName);\r\n        propsDataSource.setUser(yUserName);\r\n        propsDataSource.setPassword(ypropsPassword);\r\n        propsDataSource.setURL(upropsUrl);\r\n        propsDataSource.setImplicitCachingEnabled(true);\r\n        propsDataSource.setFastConnectionFailoverEnabled(true);\r\n        return propsDataSource;\r\n    }\r\nAnd a simple JpaRepository that I want it to use seconday data-source:\r\n\r\n    public interface AttributesRepo extends JpaRepository&lt;PRODUCTATTRIBUTE, PRODUCTATTRIBUTE_KEY&gt; {\r\n    \r\n    }","title":"Spring boot JPA set custom datasource","body":"<p>I have 2 datasources defined-</p>\n\n<pre><code>#datasource jndi setup\ndatabase.datasources[1].jndi-name=jdbc/yyyy\ndatabase.datasources[1].username=yyyy\ndatabase.datasources[1].password=yyyyy\ndatabase.datasources[1].url=jdbc:oracle:thin:@localhost:2222:webtst\ndatabase.datasources[1].driverClassName=oracle.jdbc.OracleDriver\ndatabase.datasources[1].factory=org.apache.tomcat.jdbc.pool.DataSourceFactory\ndatabase.datasources[1].initialSize=1\ndatabase.datasources[1].maxActive=5\n\ndatabase.datasources[0].jndi-name=jdbc/xxx\ndatabase.datasources[0].username=xxx\ndatabase.datasources[0].password=xxxx\ndatabase.datasources[0].url=jdbc:oracle:thin:@localhost:2222:webtst\ndatabase.datasources[0].driverClassName=oracle.jdbc.OracleDriver\ndatabase.datasources[0].factory=org.apache.tomcat.jdbc.pool.DataSourceFactory\ndatabase.datasources[0].initialSize=1\ndatabase.datasources[0].maxActive=15 \n</code></pre>\n\n<p>And 2 matching JPA repositories, how can I set one of them to use different ds(not the primary one) after I defined one of them to be @Primary : </p>\n\n<pre><code>@Bean\n@Primary\nDataSource dataSource() throws SQLException {\n    OracleDataSource dataSource = new OracleDataSource();\n    dataSource.setUser(xusername);\n    dataSource.setPassword(xpassword);\n    dataSource.setURL(xurl);\n\n    dataSource.setImplicitCachingEnabled(true);\n    dataSource.setFastConnectionFailoverEnabled(true);\n    return dataSource;\n}\n\n\n\n@Bean\nDataSource propsDataSource() throws SQLException {\n    OracleDataSource propsDataSource = new OracleDataSource();\n    //propsDataSource.setDataSourceName(secJNDIName);\n    propsDataSource.setUser(yUserName);\n    propsDataSource.setPassword(ypropsPassword);\n    propsDataSource.setURL(upropsUrl);\n    propsDataSource.setImplicitCachingEnabled(true);\n    propsDataSource.setFastConnectionFailoverEnabled(true);\n    return propsDataSource;\n}\n</code></pre>\n\n<p>And a simple JpaRepository that I want it to use seconday data-source:</p>\n\n<pre><code>public interface AttributesRepo extends JpaRepository&lt;PRODUCTATTRIBUTE, PRODUCTATTRIBUTE_KEY&gt; {\n\n}\n</code></pre>\n"},{"tags":["java","microsoft-graph-api"],"owner":{"account_id":7384697,"reputation":21,"user_id":5620078,"display_name":"Rahul Burangi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1673851697,"creation_date":1673845565,"question_id":75130401,"body_markdown":"I am trying to use graph /getSchedule api to check for meeting conflict.\r\n\r\nMy basic requirement is to pass a start and end dateTime and see if the resource is available(free/busy). Although I am able to get that in /getSchedule Api but not sure on some of the fields in request and response.\r\n\r\nRequest:\r\n\r\n    ICalendarGetScheduleCollectionPage response = graphClient.users(&quot;usrEmailAddress&quot;).calendars(calendar.id)\r\n    .getSchedule(schedulesList,endTime,startTime,availabilityViewInterval)\r\n    .buildRequest()\r\n    .post();\r\n\r\nBelow is my sample response(both time the availabilityViewInterval value is 5 in request but response availabilityView is different):\r\n\r\n```\r\n&quot;availabilityView&quot;: &quot;22&quot;,\r\n&quot;scheduleItems&quot;: [\r\n    {\r\n        &quot;isPrivate&quot;: false,\r\n        &quot;status&quot;: &quot;busy&quot;,\r\n        &quot;subject&quot;: &quot;Test Meeting again&quot;,\r\n        &quot;location&quot;: &quot;&quot;,\r\n        &quot;start&quot;: {\r\n            &quot;dateTime&quot;: &quot;2020-06-12T10:58:45.0000000&quot;,\r\n            &quot;timeZone&quot;: &quot;UTC&quot;\r\n        },\r\n        &quot;end&quot;: {\r\n            &quot;dateTime&quot;: &quot;2020-06-12T11:08:45.0000000&quot;,\r\n            &quot;timeZone&quot;: &quot;UTC&quot;\r\n        }\r\n    }\r\n],\r\n&quot;workingHours&quot;: {\r\n    &quot;daysOfWeek&quot;: [\r\n        &quot;monday&quot;,\r\n        &quot;tuesday&quot;,\r\n        &quot;wednesday&quot;,\r\n        &quot;thursday&quot;,\r\n        &quot;friday&quot;\r\n    ],\r\n    &quot;startTime&quot;: &quot;08:00:00.0000000&quot;,\r\n    &quot;endTime&quot;: &quot;17:00:00.0000000&quot;,\r\n    &quot;timeZone&quot;: {\r\n        &quot;name&quot;: &quot;India Standard Time&quot;\r\n    }\r\n```\r\nResponse 2:\r\n\r\n```\r\n&quot;availabilityView&quot;: &quot;00&quot;,\r\n&quot;scheduleItems&quot;: \\[\\],\r\n&quot;workingHours&quot;: {\r\n&quot;daysOfWeek&quot;: \\[\r\n&quot;monday&quot;,\r\n&quot;tuesday&quot;,\r\n&quot;wednesday&quot;,\r\n&quot;thursday&quot;,\r\n&quot;friday&quot;\r\n\\],\r\n&quot;startTime&quot;: &quot;08:00:00.0000000&quot;,\r\n&quot;endTime&quot;: &quot;17:00:00.0000000&quot;,\r\n&quot;timeZone&quot;: {\r\n&quot;name&quot;: &quot;India Standard Time&quot;\r\n}\r\n```\r\nResponse 3:\r\n\r\n```\r\n&quot;availabilityView&quot;: &quot;220000000000&quot;,\r\n&quot;scheduleItems&quot;: \\[\r\n{\r\n&quot;isPrivate&quot;: false,\r\n&quot;status&quot;: &quot;busy&quot;,\r\n&quot;subject&quot;: &quot;Test Meeting again&quot;,\r\n&quot;location&quot;: &quot;&quot;,\r\n&quot;start&quot;: {\r\n&quot;dateTime&quot;: &quot;2020-06-12T10:58:45.0000000&quot;,\r\n&quot;timeZone&quot;: &quot;UTC&quot;\r\n},\r\n&quot;end&quot;: {\r\n&quot;dateTime&quot;: &quot;2020-06-12T11:08:45.0000000&quot;,\r\n&quot;timeZone&quot;: &quot;UTC&quot;\r\n}\r\n}\r\n\\],\r\n&quot;workingHours&quot;: {\r\n&quot;daysOfWeek&quot;: \\[\r\n&quot;monday&quot;,\r\n&quot;tuesday&quot;,\r\n&quot;wednesday&quot;,\r\n&quot;thursday&quot;,\r\n&quot;friday&quot;\r\n\\],\r\n&quot;startTime&quot;: &quot;08:00:00.0000000&quot;,\r\n&quot;endTime&quot;: &quot;17:00:00.0000000&quot;,\r\n&quot;timeZone&quot;: {\r\n&quot;name&quot;: &quot;India Standard Time&quot;\r\n}\r\n```\r\n\r\nNote: The start and end time for all the request were different but availabilityViewInterval field was 5 in all the cases.\r\n\r\nI am referring below Microsoft document:\r\n\r\nhttps://learn.microsoft.com/en-us/graph/api/calendar-getschedule?view=graph-rest-1.0&amp;tabs=java\r\n\r\nUse Case: To find availability common to all email ids in response. I am planning to use availabilityView as base to calculate and find common data.\r\nIf anyone have a better design please help me. Thank you.\r\n\r\nUse Case: To find availability common to all email ids in response. I am planning to use availabilityView as base to calculate and find common data.","title":"Java: Need to find common availability for all emails in Microsoft Graph getSchedule API","body":"<p>I am trying to use graph /getSchedule api to check for meeting conflict.</p>\n<p>My basic requirement is to pass a start and end dateTime and see if the resource is available(free/busy). Although I am able to get that in /getSchedule Api but not sure on some of the fields in request and response.</p>\n<p>Request:</p>\n<pre><code>ICalendarGetScheduleCollectionPage response = graphClient.users(&quot;usrEmailAddress&quot;).calendars(calendar.id)\n.getSchedule(schedulesList,endTime,startTime,availabilityViewInterval)\n.buildRequest()\n.post();\n</code></pre>\n<p>Below is my sample response(both time the availabilityViewInterval value is 5 in request but response availabilityView is different):</p>\n<pre><code>&quot;availabilityView&quot;: &quot;22&quot;,\n&quot;scheduleItems&quot;: [\n    {\n        &quot;isPrivate&quot;: false,\n        &quot;status&quot;: &quot;busy&quot;,\n        &quot;subject&quot;: &quot;Test Meeting again&quot;,\n        &quot;location&quot;: &quot;&quot;,\n        &quot;start&quot;: {\n            &quot;dateTime&quot;: &quot;2020-06-12T10:58:45.0000000&quot;,\n            &quot;timeZone&quot;: &quot;UTC&quot;\n        },\n        &quot;end&quot;: {\n            &quot;dateTime&quot;: &quot;2020-06-12T11:08:45.0000000&quot;,\n            &quot;timeZone&quot;: &quot;UTC&quot;\n        }\n    }\n],\n&quot;workingHours&quot;: {\n    &quot;daysOfWeek&quot;: [\n        &quot;monday&quot;,\n        &quot;tuesday&quot;,\n        &quot;wednesday&quot;,\n        &quot;thursday&quot;,\n        &quot;friday&quot;\n    ],\n    &quot;startTime&quot;: &quot;08:00:00.0000000&quot;,\n    &quot;endTime&quot;: &quot;17:00:00.0000000&quot;,\n    &quot;timeZone&quot;: {\n        &quot;name&quot;: &quot;India Standard Time&quot;\n    }\n</code></pre>\n<p>Response 2:</p>\n<pre><code>&quot;availabilityView&quot;: &quot;00&quot;,\n&quot;scheduleItems&quot;: \\[\\],\n&quot;workingHours&quot;: {\n&quot;daysOfWeek&quot;: \\[\n&quot;monday&quot;,\n&quot;tuesday&quot;,\n&quot;wednesday&quot;,\n&quot;thursday&quot;,\n&quot;friday&quot;\n\\],\n&quot;startTime&quot;: &quot;08:00:00.0000000&quot;,\n&quot;endTime&quot;: &quot;17:00:00.0000000&quot;,\n&quot;timeZone&quot;: {\n&quot;name&quot;: &quot;India Standard Time&quot;\n}\n</code></pre>\n<p>Response 3:</p>\n<pre><code>&quot;availabilityView&quot;: &quot;220000000000&quot;,\n&quot;scheduleItems&quot;: \\[\n{\n&quot;isPrivate&quot;: false,\n&quot;status&quot;: &quot;busy&quot;,\n&quot;subject&quot;: &quot;Test Meeting again&quot;,\n&quot;location&quot;: &quot;&quot;,\n&quot;start&quot;: {\n&quot;dateTime&quot;: &quot;2020-06-12T10:58:45.0000000&quot;,\n&quot;timeZone&quot;: &quot;UTC&quot;\n},\n&quot;end&quot;: {\n&quot;dateTime&quot;: &quot;2020-06-12T11:08:45.0000000&quot;,\n&quot;timeZone&quot;: &quot;UTC&quot;\n}\n}\n\\],\n&quot;workingHours&quot;: {\n&quot;daysOfWeek&quot;: \\[\n&quot;monday&quot;,\n&quot;tuesday&quot;,\n&quot;wednesday&quot;,\n&quot;thursday&quot;,\n&quot;friday&quot;\n\\],\n&quot;startTime&quot;: &quot;08:00:00.0000000&quot;,\n&quot;endTime&quot;: &quot;17:00:00.0000000&quot;,\n&quot;timeZone&quot;: {\n&quot;name&quot;: &quot;India Standard Time&quot;\n}\n</code></pre>\n<p>Note: The start and end time for all the request were different but availabilityViewInterval field was 5 in all the cases.</p>\n<p>I am referring below Microsoft document:</p>\n<p><a href=\"https://learn.microsoft.com/en-us/graph/api/calendar-getschedule?view=graph-rest-1.0&amp;tabs=java\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/graph/api/calendar-getschedule?view=graph-rest-1.0&amp;tabs=java</a></p>\n<p>Use Case: To find availability common to all email ids in response. I am planning to use availabilityView as base to calculate and find common data.\nIf anyone have a better design please help me. Thank you.</p>\n<p>Use Case: To find availability common to all email ids in response. I am planning to use availabilityView as base to calculate and find common data.</p>\n"},{"tags":["java","intellij-idea","compilation","immutability"],"answers":[{"tags":[],"owner":{"account_id":26555431,"reputation":558,"user_id":20184128,"display_name":"berse2212"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1673851084,"creation_date":1673851084,"answer_id":75130913,"question_id":75130693,"body_markdown":"Intellij knows that a List created by List.of(..) is always immutable. So it doesn&#39;t make sense to add another element to that list.\r\n\r\nHowever the return type of List.of(..) is simply the List interface. So \r\n\r\n    var films = List.of(&quot;Citizen Kane&quot;)\r\n\r\nis equal to\r\n\r\n    List&lt;String&gt; films = List.of(&quot;Citizen Kane&quot;)\r\n\r\nfor javac. As you pointed out the list interface has an add()-Method so compiling this code is perfectly fine.\r\n\r\nOr in other words. Javac just checks syntax while IntelliJ also has rudimentary semantic checks. \r\n\r\nEdit: to add he technical term, IntelliJ uses static analysis to give those warnings and suggestions. Read about it in their block right [here][1]\r\n\r\n\r\n  [1]: https://blog.jetbrains.com/idea/2020/10/explore-your-program-with-static-analysis/","title":"Flagging calls to mutator methods on immutable collections in IntelliJ","body":"<p>Intellij knows that a List created by List.of(..) is always immutable. So it doesn't make sense to add another element to that list.</p>\n<p>However the return type of List.of(..) is simply the List interface. So</p>\n<pre><code>var films = List.of(&quot;Citizen Kane&quot;)\n</code></pre>\n<p>is equal to</p>\n<pre><code>List&lt;String&gt; films = List.of(&quot;Citizen Kane&quot;)\n</code></pre>\n<p>for javac. As you pointed out the list interface has an add()-Method so compiling this code is perfectly fine.</p>\n<p>Or in other words. Javac just checks syntax while IntelliJ also has rudimentary semantic checks.</p>\n<p>Edit: to add he technical term, IntelliJ uses static analysis to give those warnings and suggestions. Read about it in their block right <a href=\"https://blog.jetbrains.com/idea/2020/10/explore-your-program-with-static-analysis/\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":8476974,"reputation":777,"user_id":6357920,"display_name":"Igor Urisman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75130913,"answer_count":1,"score":0,"last_activity_date":1673851084,"creation_date":1673849072,"question_id":75130693,"body_markdown":"It is well known that Java immutable collections provide mutator methods owing their existence to the (unfortunate but well documented) fact that both mutable and immutable collections of a particular type implement the same superinterface. The immutable implementations&#39; mutators will throw the `UnsupportedOperationException` at runtime, and that, typically, is where the story endsand where my questions begins. The following code is clearly highlighted as problematic by IntelliJ:\r\n[![enter image description here][1]][1]\r\n\r\nWhat does IntelliJ know that `javac` doesn&#39;t? (This is JDK 17, in case it matters.)\r\n\r\n  [1]: https://i.stack.imgur.com/cf29M.png","title":"Flagging calls to mutator methods on immutable collections in IntelliJ","body":"<p>It is well known that Java immutable collections provide mutator methods owing their existence to the (unfortunate but well documented) fact that both mutable and immutable collections of a particular type implement the same superinterface. The immutable implementations' mutators will throw the <code>UnsupportedOperationException</code> at runtime, and that, typically, is where the story endsand where my questions begins. The following code is clearly highlighted as problematic by IntelliJ:\n<a href=\"https://i.stack.imgur.com/cf29M.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cf29M.png\" alt=\"enter image description here\" /></a></p>\n<p>What does IntelliJ know that <code>javac</code> doesn't? (This is JDK 17, in case it matters.)</p>\n"},{"tags":["java","video-streaming","lan","video-conversion"],"comments":[{"owner":{"account_id":37136,"reputation":57812,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"score":0,"creation_date":1423220362,"post_id":28364119,"comment_id":45069972,"body_markdown":"Break it down into pieces, like this: 1. Learn how to transfer data between two computers. 2. Learn how to capture video from a webcam. 3. Learn how to display video on the screen. 4. Learn how to capture audio from a microphone. 5. Learn how to play audio through the speakers. 6. Learn how to send video over that connection you made back in step 1. 7. Learn how to send audio over that connection you made back in step 1. 8. Put the audio and video parts together........","body":"Break it down into pieces, like this: 1. Learn how to transfer data between two computers. 2. Learn how to capture video from a webcam. 3. Learn how to display video on the screen. 4. Learn how to capture audio from a microphone. 5. Learn how to play audio through the speakers. 6. Learn how to send video over that connection you made back in step 1. 7. Learn how to send audio over that connection you made back in step 1. 8. Put the audio and video parts together........"},{"owner":{"account_id":5745501,"reputation":137,"user_id":4536846,"display_name":"Shubhashis Roy Dipta"},"score":0,"creation_date":1423220534,"post_id":28364119,"comment_id":45070065,"body_markdown":"@immibis thanks for the comment. But i want to stream video from my pc to another pc live and vice versa like skype. How can i do that?","body":"@immibis thanks for the comment. But i want to stream video from my pc to another pc live and vice versa like skype. How can i do that?"},{"owner":{"account_id":37136,"reputation":57812,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"score":0,"creation_date":1423220561,"post_id":28364119,"comment_id":45070076,"body_markdown":"@ShubhashisRoyDipta by doing all of those 8 things (plus any things I&#39;ve missed).","body":"@ShubhashisRoyDipta by doing all of those 8 things (plus any things I&#39;ve missed)."},{"owner":{"account_id":1056956,"reputation":5781,"user_id":1059446,"accept_rate":89,"display_name":"Aleksandr Kravets"},"score":0,"creation_date":1423222500,"post_id":28364119,"comment_id":45071035,"body_markdown":"@ShubhashisRoyDipta: what you want to do is not a simple task that can be accomplish in a day or two. You must learn and that&#39;s the only way to do anything. No one will tell you exact sequence of steps. Because usually  if you know exact sequence you write own software and sell it :-). Of course, there is a simple way: if you need something like Skype, just install Skype. In any case I wish you good luck!","body":"@ShubhashisRoyDipta: what you want to do is not a simple task that can be accomplish in a day or two. You must learn and that&#39;s the only way to do anything. No one will tell you exact sequence of steps. Because usually  if you know exact sequence you write own software and sell it :-). Of course, there is a simple way: if you need something like Skype, just install Skype. In any case I wish you good luck!"}],"answers":[{"tags":[],"owner":{"account_id":5011958,"reputation":345,"user_id":4027963,"accept_rate":100,"display_name":"bakriawad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1423220425,"creation_date":1423220425,"answer_id":28364253,"question_id":28364119,"body_markdown":"well, you will need to look up data streaming, showing video stream on panel and socket and protocol manipulation in the java docs and other online guides. those are the foundation you will need for the project. as for the GUI, it is not hard.. there are many tutorials out there. \r\n\r\nif you face a problem we will help, but we will NOT do it for you... start something first.\r\nexamples:\r\n\r\n[GUI][1]\r\n\r\n[Network basics][2]\r\n\r\n[Video streaming][3]\r\n\r\ndo your research... that is the way to learn\r\nalso, research steps of making (analyzing) a project\r\n\r\n\r\n  [1]: https://www3.ntu.edu.sg/home/ehchua/programming/java/J4a_GUI.html\r\n  [2]: http://docs.oracle.com/javase/tutorial/networking/overview/networking.html\r\n  [3]: https://stackoverflow.com/questions/5574143/stream-video-in-java","title":"Java lan video chatting","body":"<p>well, you will need to look up data streaming, showing video stream on panel and socket and protocol manipulation in the java docs and other online guides. those are the foundation you will need for the project. as for the GUI, it is not hard.. there are many tutorials out there. </p>\n\n<p>if you face a problem we will help, but we will NOT do it for you... start something first.\nexamples:</p>\n\n<p><a href=\"https://www3.ntu.edu.sg/home/ehchua/programming/java/J4a_GUI.html\" rel=\"nofollow noreferrer\">GUI</a></p>\n\n<p><a href=\"http://docs.oracle.com/javase/tutorial/networking/overview/networking.html\" rel=\"nofollow noreferrer\">Network basics</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/5574143/stream-video-in-java\">Video streaming</a></p>\n\n<p>do your research... that is the way to learn\nalso, research steps of making (analyzing) a project</p>\n"}],"owner":{"account_id":5745501,"reputation":137,"user_id":4536846,"display_name":"Shubhashis Roy Dipta"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":974,"favorite_count":0,"down_vote_count":4,"up_vote_count":2,"answer_count":1,"score":-2,"last_activity_date":1673850849,"creation_date":1423219981,"question_id":28364119,"body_markdown":"I want to build a project of `video chatting + messaging` by **java** without `internet connection` through `*lan*`. But i can&#39;t get any idea about ***what to do and how to do?*** I am beginner in `java GUI`. So I want to know the topics that i have to learn and from where?","title":"Java lan video chatting","body":"<p>I want to build a project of <code>video chatting + messaging</code> by <strong>java</strong> without <code>internet connection</code> through <code>*lan*</code>. But i can't get any idea about <strong><em>what to do and how to do?</em></strong> I am beginner in <code>java GUI</code>. So I want to know the topics that i have to learn and from where?</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":7788110,"reputation":1429,"user_id":6306585,"accept_rate":60,"display_name":"Shakirov Ramil"},"score":0,"creation_date":1673854879,"post_id":75130884,"comment_id":132582041,"body_markdown":"And where is the implementation of interface QuotationDetailProxy?","body":"And where is the implementation of interface QuotationDetailProxy?"},{"owner":{"account_id":26348738,"reputation":13,"user_id":20006696,"display_name":"Dev"},"score":0,"creation_date":1673871251,"post_id":75130884,"comment_id":132586806,"body_markdown":"no any implementation for interface . If I cant access this in QueueServiceImpl class?","body":"no any implementation for interface . If I cant access this in QueueServiceImpl class?"}],"owner":{"account_id":26348738,"reputation":13,"user_id":20006696,"display_name":"Dev"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673850839,"creation_date":1673850839,"question_id":75130884,"body_markdown":"When try to up my application it get an above error. This thing happen when i import the\r\n**private final QuotationDetailProxy quotationDetailProxy;** this line. I Also add the **@RequiredArgsConstructor**  this anotation to. I can&#39;t find any solution for this error when I&#39;m trying to fix this I can&#39;t find any solutions. This is an Interface. help me with this.\r\n\r\n**QuotationDetailProxy InterFace**\r\n\r\n``` @FeignClient(name = &quot;muw-common-service-api&quot;, url = &quot;${application.muw-common-service-api.url}&quot;)\r\n public interface QuotationDetailProxy {\r\n\r\n    default ResponseEntity&lt;WrapperQuotationSummary&gt; getFallbackDetails(Exception e) {\r\n        return ResponseEntity.ok(WrapperQuotationSummary.builder()\r\n                .error(Error.builder()\r\n                        .status(HttpStatus.SERVICE_UNAVAILABLE.value())\r\n                        .message(e.getMessage())\r\n                        .build())\r\n                .build());\r\n    }\r\n\r\n    @GetMapping(value = &quot;/quotation-summary-service/quotation-summary/job-no/{jobNo}&quot;)\r\n    @CircuitBreaker(name = &quot;muwIsfDataSyncApi&quot;, fallbackMethod = &quot;getFallbackDetails&quot;)\r\n    ResponseEntity&lt;WrapperQuotationSummary&gt; getQuotationSummaryByJobNo(@PathVariable String jobNo);\r\n }\r\n\r\n1. **QueueServiceImpl Class**\r\n\r\n@RequiredArgsConstructor\r\n//@AllArgsConstructor\r\n@Slf4j\r\n@Service\r\npublic class QueueServiceImpl implements QueueService {\r\n    private final RestTemplate restTemplate;\r\n    private final ObjectMapper objectMapper;\r\n    private final SqsAsyncClient sqsAsyncClient;\r\n    private final CustomerService customerService;\r\n    private final TokenUtil tokenUtil;\r\n    @Value(&quot;${application.isf.web-service-base-url}&quot;)\r\n    private String webServiceBaseUrl;\r\n    private final QuotationDetailProxy quotationDetailProxy;\r\n}```\r\n\r\n\r\nI want to up my service with out error help for that.","title":"Parameter 5 of constructor in QueueServiceImpl required a bean of type QuotationDetailProxy that could not be found","body":"<p>When try to up my application it get an above error. This thing happen when i import the\n<strong>private final QuotationDetailProxy quotationDetailProxy;</strong> this line. I Also add the <strong>@RequiredArgsConstructor</strong>  this anotation to. I can't find any solution for this error when I'm trying to fix this I can't find any solutions. This is an Interface. help me with this.</p>\n<p><strong>QuotationDetailProxy InterFace</strong></p>\n<pre><code> public interface QuotationDetailProxy {\n\n    default ResponseEntity&lt;WrapperQuotationSummary&gt; getFallbackDetails(Exception e) {\n        return ResponseEntity.ok(WrapperQuotationSummary.builder()\n                .error(Error.builder()\n                        .status(HttpStatus.SERVICE_UNAVAILABLE.value())\n                        .message(e.getMessage())\n                        .build())\n                .build());\n    }\n\n    @GetMapping(value = &quot;/quotation-summary-service/quotation-summary/job-no/{jobNo}&quot;)\n    @CircuitBreaker(name = &quot;muwIsfDataSyncApi&quot;, fallbackMethod = &quot;getFallbackDetails&quot;)\n    ResponseEntity&lt;WrapperQuotationSummary&gt; getQuotationSummaryByJobNo(@PathVariable String jobNo);\n }\n\n1. **QueueServiceImpl Class**\n\n@RequiredArgsConstructor\n//@AllArgsConstructor\n@Slf4j\n@Service\npublic class QueueServiceImpl implements QueueService {\n    private final RestTemplate restTemplate;\n    private final ObjectMapper objectMapper;\n    private final SqsAsyncClient sqsAsyncClient;\n    private final CustomerService customerService;\n    private final TokenUtil tokenUtil;\n    @Value(&quot;${application.isf.web-service-base-url}&quot;)\n    private String webServiceBaseUrl;\n    private final QuotationDetailProxy quotationDetailProxy;\n}```\n\n\nI want to up my service with out error help for that.\n</code></pre>\n"},{"tags":["java","android","android-studio","payumoney"],"answers":[{"tags":[],"owner":{"account_id":26656130,"reputation":1,"user_id":20269634,"display_name":"a-champagne"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666075453,"creation_date":1666075453,"answer_id":74106723,"question_id":74092559,"body_markdown":"You need to specify an explicit value for `android:exported` for `PreLollipopPaymentsActivity` in your module&#39;s AndroidManifest.xml file.  \r\n\r\n&gt; android:exported: Flag indicating whether the given application component is available to other applications. If false, it can only be accessed by applications with its same user id (which usually means only by code in its own package). If true, it can be invoked by external entities, though which ones can do so may be controlled through permissions. The default value is false for activity, receiver, and service components that do not specify any intent filters; it is true for activity, receiver, and service components that do have intent filters (implying they expect to be invoked by others who do not know their particular component name) and for all content providers","title":"When I build project in Android Studio it throws an error of com.payumoney.sdkui.ui.utils does not exist","body":"<p>You need to specify an explicit value for <code>android:exported</code> for <code>PreLollipopPaymentsActivity</code> in your module's AndroidManifest.xml file.</p>\n<blockquote>\n<p>android:exported: Flag indicating whether the given application component is available to other applications. If false, it can only be accessed by applications with its same user id (which usually means only by code in its own package). If true, it can be invoked by external entities, though which ones can do so may be controlled through permissions. The default value is false for activity, receiver, and service components that do not specify any intent filters; it is true for activity, receiver, and service components that do have intent filters (implying they expect to be invoked by others who do not know their particular component name) and for all content providers</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":24644993,"reputation":104,"user_id":18542740,"display_name":"Shyam Sunder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673850618,"creation_date":1669899785,"answer_id":74642314,"question_id":74092559,"body_markdown":"If you are looking to implement the Payu-money then it will help you,\r\nI&#39;ve implemented it successfully \r\ncheckout this link with reference code [example][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/74571151/payucheckoutpro-android-sdk-implementation-issue/74601158#74601158","title":"When I build project in Android Studio it throws an error of com.payumoney.sdkui.ui.utils does not exist","body":"<p>If you are looking to implement the Payu-money then it will help you,\nI've implemented it successfully\ncheckout this link with reference code <a href=\"https://stackoverflow.com/questions/74571151/payucheckoutpro-android-sdk-implementation-issue/74601158#74601158\">example</a></p>\n"}],"owner":{"account_id":20025563,"reputation":79,"user_id":14679462,"display_name":"Virendrasinh R"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":264,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1673850618,"creation_date":1665980564,"question_id":74092559,"body_markdown":"When i build project in android studio it&#39;s throw an error: **package com.payumoney.sdkui.ui.utils does not exist.**\r\n\r\n**Error at** import com.payumoney.sdkui.ui.utils.PayUmoneyFlowManager;\r\n\r\ntried to add dependency **implementation &#39;com.payumoney.sdkui:plug-n-play:1.6.1&#39;** in build.gradle.\r\n\r\n**After adding dependency tried to build project:** \r\n\r\nError Caused by: java.lang.RuntimeException: Manifest merger failed with multiple errors, see logs.\r\n\r\n**Logs at AndroidManifest.xml**\r\n\r\nMerging Errors: Warning Namespace &#39;com.payu.custombrowser&#39; used in: AndroidManifest.xml, AndroidManifest.xml. payu-custom-browser:7.9.0 manifest Error: android:exported needs to be explicitly specified for element &lt;activity#com.payu.custombrowser.PreLollipopPaymentsActivity&gt;. Apps targeting Android 12 and higher are required to specify an explicit value for `android:exported` when the corresponding component has an intent filter defined. See https://developer.android.com/guide/topics/manifest/activity-element#exported for details. main manifest (this file), line 24\r\n\r\n ","title":"When I build project in Android Studio it throws an error of com.payumoney.sdkui.ui.utils does not exist","body":"<p>When i build project in android studio it's throw an error: <strong>package com.payumoney.sdkui.ui.utils does not exist.</strong></p>\n<p><strong>Error at</strong> import com.payumoney.sdkui.ui.utils.PayUmoneyFlowManager;</p>\n<p>tried to add dependency <strong>implementation 'com.payumoney.sdkui:plug-n-play:1.6.1'</strong> in build.gradle.</p>\n<p><strong>After adding dependency tried to build project:</strong></p>\n<p>Error Caused by: java.lang.RuntimeException: Manifest merger failed with multiple errors, see logs.</p>\n<p><strong>Logs at AndroidManifest.xml</strong></p>\n<p>Merging Errors: Warning Namespace 'com.payu.custombrowser' used in: AndroidManifest.xml, AndroidManifest.xml. payu-custom-browser:7.9.0 manifest Error: android:exported needs to be explicitly specified for element &lt;activity#com.payu.custombrowser.PreLollipopPaymentsActivity&gt;. Apps targeting Android 12 and higher are required to specify an explicit value for <code>android:exported</code> when the corresponding component has an intent filter defined. See <a href=\"https://developer.android.com/guide/topics/manifest/activity-element#exported\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/topics/manifest/activity-element#exported</a> for details. main manifest (this file), line 24</p>\n"},{"tags":["java","hibernate","jpa","spring-data-jpa","h2"],"comments":[{"owner":{"account_id":6501856,"reputation":6516,"user_id":5032339,"display_name":"Roman"},"score":0,"creation_date":1673207540,"post_id":75050476,"comment_id":132441379,"body_markdown":"Why is `roles` annotated with `@OneToMany`? Shouldn&#39;t that be `@ManyToMany`?","body":"Why is <code>roles</code> annotated with <code>@OneToMany</code>? Shouldn&#39;t that be <code>@ManyToMany</code>?"},{"owner":{"account_id":5595535,"reputation":3,"user_id":4433437,"display_name":"user4433437"},"score":0,"creation_date":1673233648,"post_id":75050476,"comment_id":132444968,"body_markdown":"yup it is actually \\@ManyToMany, but that from the parent class User, it&#39;d look more like \\@OneToMany as the user would have multiple roles","body":"yup it is actually \\@ManyToMany, but that from the parent class User, it&#39;d look more like \\@OneToMany as the user would have multiple roles"}],"answers":[{"tags":[],"owner":{"account_id":8986732,"reputation":1074,"user_id":6700091,"display_name":"Kamil Bben"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673205329,"creation_date":1673205329,"answer_id":75050602,"question_id":75050476,"body_markdown":"If Role only has two columns, eg user_id and role, the way to map this in jpa would be as following\r\n\r\n    @ElementCollection\r\n    @CollectionTable(name = &quot;user_roles&quot;, joinColumns = @JoinColumn(name = &quot;user_id&quot;))\r\n    @Column(name = &quot;role&quot;)\r\n    List&lt;String&gt; roles = new ArrayList&lt;&gt;();\r\n\r\nOtherwise, jpa really requires each entity&#39;s identifier and join columns to be separate columns, so Role entity would have to have columns like id, user_id and role_name. Could look like this .:\r\n\r\n    class Role {\r\n      @Id\r\n      Long id;\r\n      @ManyToOne\r\n      @JoinColumn(name = &quot;user_id&quot;, referencedColumnName = &quot;id&quot;);\r\n      User user;\r\n      String roleName;\r\n      // Other fields\r\n    }\r\n\r\nAnd in the User entity\r\n\r\n    @OneToMany(mappedBy = &quot;user&quot;) // user is Field&#39;s name, not a column\r\n    List&lt;Role&gt; roles = new ArrayList&lt;&gt;();\r\n\r\n[Further reading][1]\r\n\r\n\r\n  [1]: https://thorben-janssen.com/collections-hibernate-jpa/","title":"JPA @JoinTable with composite (2 column) primary keys","body":"<p>If Role only has two columns, eg user_id and role, the way to map this in jpa would be as following</p>\n<pre><code>@ElementCollection\n@CollectionTable(name = &quot;user_roles&quot;, joinColumns = @JoinColumn(name = &quot;user_id&quot;))\n@Column(name = &quot;role&quot;)\nList&lt;String&gt; roles = new ArrayList&lt;&gt;();\n</code></pre>\n<p>Otherwise, jpa really requires each entity's identifier and join columns to be separate columns, so Role entity would have to have columns like id, user_id and role_name. Could look like this .:</p>\n<pre><code>class Role {\n  @Id\n  Long id;\n  @ManyToOne\n  @JoinColumn(name = &quot;user_id&quot;, referencedColumnName = &quot;id&quot;);\n  User user;\n  String roleName;\n  // Other fields\n}\n</code></pre>\n<p>And in the User entity</p>\n<pre><code>@OneToMany(mappedBy = &quot;user&quot;) // user is Field's name, not a column\nList&lt;Role&gt; roles = new ArrayList&lt;&gt;();\n</code></pre>\n<p><a href=\"https://thorben-janssen.com/collections-hibernate-jpa/\" rel=\"nofollow noreferrer\">Further reading</a></p>\n"}],"owner":{"account_id":5595535,"reputation":3,"user_id":4433437,"display_name":"user4433437"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":776,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75050602,"answer_count":1,"score":0,"last_activity_date":1673850411,"creation_date":1673204076,"question_id":75050476,"body_markdown":"In a spring-boot app, I&#39;ve got the following entity definition:\r\n\r\n```\r\n@Data\r\n@Entity\r\n@Table(name = &quot;users&quot;)\r\npublic class User {\r\n\r\n\t@Id\r\n\t@Column(nullable = false, name = &quot;username&quot;, length = 100)\r\n\tprivate String username;\r\n\r\n\t@JoinTable(name = &quot;userrole&quot;, \r\n\t\tjoinColumns = {\t@JoinColumn(name = &quot;username&quot;) },\r\n\t\tinverseJoinColumns = { @JoinColumn(name = &quot;role&quot;) }\r\n\t)\r\n\t@OneToMany(\r\n\t\tcascade = CascadeType.ALL, \r\n\t\torphanRemoval = true\r\n\t)\r\n\tprivate List&lt;Role&gt; roles;`\r\n```\r\n\r\nI&#39;m using Spring-data-jpa,Hibernate with H2 as the database.\r\nThe trouble is that spring-data-jpa, hibernate always generate/creates the join table (DDL) &#39;userrole&#39; with a single column primary key. e.g. &#39;username&#39;.\r\nHence, if records such as {&#39;username&#39;, &#39;user_role&#39;} and {&#39;username&#39;, &#39;admin_role&#39;} is inserted in the join table (&#39;userrole&#39;), the next insert fails with an error due to the &#39;duplicate&#39; primary key.\r\n\r\nI&#39;ve tried using both columns in the above definition, as well as the following variation:\r\n```\r\n\t@OneToMany(\r\n\t\tcascade = CascadeType.ALL, \r\n\t\torphanRemoval = true\r\n\t)\r\n\t@JoinColumns({\r\n           @JoinColumn(name = &quot;username&quot;),\r\n           @JoinColumn(name = &quot;role&quot;) })\r\n\tprivate List&lt;Role&gt; roles;`\r\n```\r\nBut that they resulted in the same or worse problems, e.g. and in the latter, even table creation fails because only a single column is used as primary key for the jointable. Role is simply another table with 2 columns &#39;role&#39; and &#39;description&#39;, basically a role catalog.\r\n\r\n\r\nHow do we specify to JPA that the @JoinTable should use both &#39;username&#39; and &#39;role&#39; columns as composite primary keys?\r\n\r\nedit:\r\nI tried using an independent table/entity as suggested, thanks @Kamil Bben\r\n```\r\n@Data\r\n@Entity\r\n@Table(name = &quot;users&quot;)\r\npublic class User {\r\n\r\n\t@Id\r\n\t@Column(nullable = false, name = &quot;username&quot;, length = 100)\r\n\tprivate String username;\r\n\r\n\t@OneToMany(\r\n\t\tfetch = FetchType.EAGER,\r\n\t\tcascade = CascadeType.ALL, \r\n\t\tmappedBy = &quot;username&quot;,\r\n\t\torphanRemoval = true\r\n\t)\r\n\t@ElementCollection\r\n\tprivate List&lt;UserRole&gt; roles;\r\n```\r\nUserRole is defined as such\r\n```\r\n@Data\r\n@NoArgsConstructor\r\n@Entity\r\n@Table(name = &quot;userrole&quot;)\r\npublic class UserRole {\r\n\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;userrole_seq&quot;)\r\n\tLong id;\t\r\n\t\r\n\t@Column(nullable = false, name = &quot;username&quot;, length = 100)\r\n\tprivate String username;\r\n\r\n\t@Column(nullable = false, name = &quot;role&quot;, length = 50)\r\n\tprivate String role;\r\n```\r\nthe repository for that user-roles join table is defined as \r\n```\r\n@Repository\r\npublic interface UserRoleRepository extends CrudRepository&lt;UserRole, Long&gt; {\r\n\r\n\tUserRole findByUsernameAndRole(String username, String role);\r\n\t\r\n\tList&lt;UserRole&gt; findByUsername(String username); \r\n\t \t\r\n\tList&lt;UserRole&gt; findByRole(String role); \r\n\t\r\n}\r\n```\r\nAdmittedly, ugly, but that it works. And that somehow, it seemed to use the correct findByUsername() method to retrieve the roles as is relevant to the user, probably related to the &#39;mappedBy&#39; clause. &#39;black magic&#39;! There&#39;s lots more that I&#39;d still need to find my way around JPA, Spring, Spring-data\r\n\r\nedit2: \r\nfurther update: \r\nthe original @JoinTable works as well.\r\nBut that the relations need to be specified as @ManyToMany\r\n```\r\n\t@ManyToMany(\r\n\t\t\tfetch = FetchType.EAGER,\r\n\t\t\tcascade = CascadeType.MERGE\r\n\t)\r\n\t@JoinTable(name = &quot;usersroles&quot;, \r\n\t\tjoinColumns = {\t@JoinColumn(name = &quot;username&quot;) },\r\n\t\tinverseJoinColumns = { @JoinColumn(name = &quot;role&quot;) }\r\n\t)\r\n\tprivate List&lt;Role&gt; roles = new ArrayList&lt;Role&gt;();\r\n```\r\nThis creates 2 column primary keys as expected for the &#39;users-roles&#39; table\r\n\r\nThanks to @Roman\r\n ","title":"JPA @JoinTable with composite (2 column) primary keys","body":"<p>In a spring-boot app, I've got the following entity definition:</p>\n<pre><code>@Data\n@Entity\n@Table(name = &quot;users&quot;)\npublic class User {\n\n    @Id\n    @Column(nullable = false, name = &quot;username&quot;, length = 100)\n    private String username;\n\n    @JoinTable(name = &quot;userrole&quot;, \n        joinColumns = { @JoinColumn(name = &quot;username&quot;) },\n        inverseJoinColumns = { @JoinColumn(name = &quot;role&quot;) }\n    )\n    @OneToMany(\n        cascade = CascadeType.ALL, \n        orphanRemoval = true\n    )\n    private List&lt;Role&gt; roles;`\n</code></pre>\n<p>I'm using Spring-data-jpa,Hibernate with H2 as the database.\nThe trouble is that spring-data-jpa, hibernate always generate/creates the join table (DDL) 'userrole' with a single column primary key. e.g. 'username'.\nHence, if records such as {'username', 'user_role'} and {'username', 'admin_role'} is inserted in the join table ('userrole'), the next insert fails with an error due to the 'duplicate' primary key.</p>\n<p>I've tried using both columns in the above definition, as well as the following variation:</p>\n<pre><code>    @OneToMany(\n        cascade = CascadeType.ALL, \n        orphanRemoval = true\n    )\n    @JoinColumns({\n           @JoinColumn(name = &quot;username&quot;),\n           @JoinColumn(name = &quot;role&quot;) })\n    private List&lt;Role&gt; roles;`\n</code></pre>\n<p>But that they resulted in the same or worse problems, e.g. and in the latter, even table creation fails because only a single column is used as primary key for the jointable. Role is simply another table with 2 columns 'role' and 'description', basically a role catalog.</p>\n<p>How do we specify to JPA that the @JoinTable should use both 'username' and 'role' columns as composite primary keys?</p>\n<p>edit:\nI tried using an independent table/entity as suggested, thanks @Kamil Bben</p>\n<pre><code>@Data\n@Entity\n@Table(name = &quot;users&quot;)\npublic class User {\n\n    @Id\n    @Column(nullable = false, name = &quot;username&quot;, length = 100)\n    private String username;\n\n    @OneToMany(\n        fetch = FetchType.EAGER,\n        cascade = CascadeType.ALL, \n        mappedBy = &quot;username&quot;,\n        orphanRemoval = true\n    )\n    @ElementCollection\n    private List&lt;UserRole&gt; roles;\n</code></pre>\n<p>UserRole is defined as such</p>\n<pre><code>@Data\n@NoArgsConstructor\n@Entity\n@Table(name = &quot;userrole&quot;)\npublic class UserRole {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;userrole_seq&quot;)\n    Long id;    \n    \n    @Column(nullable = false, name = &quot;username&quot;, length = 100)\n    private String username;\n\n    @Column(nullable = false, name = &quot;role&quot;, length = 50)\n    private String role;\n</code></pre>\n<p>the repository for that user-roles join table is defined as</p>\n<pre><code>@Repository\npublic interface UserRoleRepository extends CrudRepository&lt;UserRole, Long&gt; {\n\n    UserRole findByUsernameAndRole(String username, String role);\n    \n    List&lt;UserRole&gt; findByUsername(String username); \n        \n    List&lt;UserRole&gt; findByRole(String role); \n    \n}\n</code></pre>\n<p>Admittedly, ugly, but that it works. And that somehow, it seemed to use the correct findByUsername() method to retrieve the roles as is relevant to the user, probably related to the 'mappedBy' clause. 'black magic'! There's lots more that I'd still need to find my way around JPA, Spring, Spring-data</p>\n<p>edit2:\nfurther update:\nthe original @JoinTable works as well.\nBut that the relations need to be specified as @ManyToMany</p>\n<pre><code>    @ManyToMany(\n            fetch = FetchType.EAGER,\n            cascade = CascadeType.MERGE\n    )\n    @JoinTable(name = &quot;usersroles&quot;, \n        joinColumns = { @JoinColumn(name = &quot;username&quot;) },\n        inverseJoinColumns = { @JoinColumn(name = &quot;role&quot;) }\n    )\n    private List&lt;Role&gt; roles = new ArrayList&lt;Role&gt;();\n</code></pre>\n<p>This creates 2 column primary keys as expected for the 'users-roles' table</p>\n<p>Thanks to @Roman</p>\n"},{"tags":["java","icepdf"],"owner":{"account_id":27430311,"reputation":11,"user_id":20927125,"display_name":"Didier Maurel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1673850299,"creation_date":1672841307,"question_id":75006650,"body_markdown":"When i do this in java\r\n\r\n```\r\n\r\nBufferedImage image = (BufferedImage) _document.getPageImage( 0, GraphicsRenderingHints.SCREEN, Page.BOUNDARY_CROPBOX, _rotation, _scale );\r\n```\r\n\r\n\r\nThe &#39; (apostrophe) in the pdf document become a seven white in a black circle\r\n\r\n\r\nI&#39;m in 6.2 version of icepdf and i cant upgrade to icepdf 7.0.0 version because our software is not ready to jdk11 yet\r\n\r\nBut i see the font in my pdf document and it seems to me you support theses fonts already:\r\n\r\nHekvetica: Type: Type1, Encodage: ANSI, Police ArialMT, True Type\r\n\r\nHekvetica-Bold: Type: Type1, Encodage: ANSI, Police Arial-BoldMT, TrueType\r\n\r\nTimes-Bold: Type: Type1, Encodage: ANSI, Police TimesNewRomanPS-BoldMT, True Type\r\n\r\nTimes-Roman: Type: Type1, Encodage: ANSI, Police TimesNewRomanPSMT, True\r\n\r\nIt&#39;s standard fonts no ?\r\n\r\n\r\nThank you for your help\r\n\r\nRegards\r\n\r\nDidier Maurel\r\n\r\ni try to install version 7.0.0\r\nsolve this problem","title":"problem font in ICEpdf viewer when i m transform pdf document in image","body":"<p>When i do this in java</p>\n<pre><code>\nBufferedImage image = (BufferedImage) _document.getPageImage( 0, GraphicsRenderingHints.SCREEN, Page.BOUNDARY_CROPBOX, _rotation, _scale );\n</code></pre>\n<p>The ' (apostrophe) in the pdf document become a seven white in a black circle</p>\n<p>I'm in 6.2 version of icepdf and i cant upgrade to icepdf 7.0.0 version because our software is not ready to jdk11 yet</p>\n<p>But i see the font in my pdf document and it seems to me you support theses fonts already:</p>\n<p>Hekvetica: Type: Type1, Encodage: ANSI, Police ArialMT, True Type</p>\n<p>Hekvetica-Bold: Type: Type1, Encodage: ANSI, Police Arial-BoldMT, TrueType</p>\n<p>Times-Bold: Type: Type1, Encodage: ANSI, Police TimesNewRomanPS-BoldMT, True Type</p>\n<p>Times-Roman: Type: Type1, Encodage: ANSI, Police TimesNewRomanPSMT, True</p>\n<p>It's standard fonts no ?</p>\n<p>Thank you for your help</p>\n<p>Regards</p>\n<p>Didier Maurel</p>\n<p>i try to install version 7.0.0\nsolve this problem</p>\n"},{"tags":["java","performance","gradle"],"answers":[{"tags":[],"owner":{"account_id":1524893,"reputation":1418,"user_id":1423583,"accept_rate":82,"display_name":"Nathan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673849742,"creation_date":1673849742,"answer_id":75130759,"question_id":74819287,"body_markdown":"The Gradle home folder was on an EBS volume. I found that the slow performance doesn&#39;t happen when the home folder is on local storage on the EC2 instance. I changed the instance type to `c6id.xlarge`, which has local NVMe-based SSD block-level storage. \r\n\r\nTherefore I think my issue is related to EBS and not Gradle itself. Increasing the provisioned IOPS and throughput of the EBS volume didn&#39;t help, so running Gradle on local storage seems to be the solution.","title":"Slow Gradle compilation with shared read-only dependency cache","body":"<p>The Gradle home folder was on an EBS volume. I found that the slow performance doesn't happen when the home folder is on local storage on the EC2 instance. I changed the instance type to <code>c6id.xlarge</code>, which has local NVMe-based SSD block-level storage.</p>\n<p>Therefore I think my issue is related to EBS and not Gradle itself. Increasing the provisioned IOPS and throughput of the EBS volume didn't help, so running Gradle on local storage seems to be the solution.</p>\n"}],"owner":{"account_id":1524893,"reputation":1418,"user_id":1423583,"accept_rate":82,"display_name":"Nathan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75130759,"answer_count":1,"score":-1,"last_activity_date":1673849742,"creation_date":1671153759,"question_id":74819287,"body_markdown":"I&#39;m running Gradle builds in a CI environment using the [shared read-only dependency cache](https://docs.gradle.org/current/userguide/dependency_resolution.html#sub:shared-readonly-cache). This dependency cache definitely improves performance on my CI builds, but not as much as I was hoping.\r\n\r\nWhen the $GRADLE_HOME directory is empty, my compilation time is around 2 minutes. When the $GRADLE_HOME directory is pre-populated, the compilation time is around 30 seconds. Note that for these tests, I stopped all daemon processes before running the compilation task, so any caching that the daemon performs is not relevant.\r\n\r\nI&#39;ve narrowed down the slow performance to two files: `$GRADLE_HOME/caches/7.5.1/javaCompile/classAnalysis.bin` and `$GRADLE_HOME/caches/7.5.1/javaCompile/jarAnalysis.bin`. When these files are not present, the compilation takes 2 minutes. When they are present, the compilation takes 30 seconds.\r\n\r\nWhat do these files contain, and why do they affect compilation times so much?\r\n\r\nOther potentially useful information:\r\n\r\n* OS: Amazon Linux 2\r\n* EC2 instance type: c5.xlarge\r\n* Java version: OpenJDK 64-Bit Server VM Temurin-17.0.5+8\r\n* Gradle version: 7.5.1","title":"Slow Gradle compilation with shared read-only dependency cache","body":"<p>I'm running Gradle builds in a CI environment using the <a href=\"https://docs.gradle.org/current/userguide/dependency_resolution.html#sub:shared-readonly-cache\" rel=\"nofollow noreferrer\">shared read-only dependency cache</a>. This dependency cache definitely improves performance on my CI builds, but not as much as I was hoping.</p>\n<p>When the $GRADLE_HOME directory is empty, my compilation time is around 2 minutes. When the $GRADLE_HOME directory is pre-populated, the compilation time is around 30 seconds. Note that for these tests, I stopped all daemon processes before running the compilation task, so any caching that the daemon performs is not relevant.</p>\n<p>I've narrowed down the slow performance to two files: <code>$GRADLE_HOME/caches/7.5.1/javaCompile/classAnalysis.bin</code> and <code>$GRADLE_HOME/caches/7.5.1/javaCompile/jarAnalysis.bin</code>. When these files are not present, the compilation takes 2 minutes. When they are present, the compilation takes 30 seconds.</p>\n<p>What do these files contain, and why do they affect compilation times so much?</p>\n<p>Other potentially useful information:</p>\n<ul>\n<li>OS: Amazon Linux 2</li>\n<li>EC2 instance type: c5.xlarge</li>\n<li>Java version: OpenJDK 64-Bit Server VM Temurin-17.0.5+8</li>\n<li>Gradle version: 7.5.1</li>\n</ul>\n"},{"tags":["java","android","kotlin","collections","kotlin-extension"],"comments":[{"owner":{"account_id":5565685,"reputation":8016,"user_id":4413098,"accept_rate":86,"display_name":"mightyWOZ"},"score":0,"creation_date":1626875582,"post_id":68470163,"comment_id":121008862,"body_markdown":"Can you please check the package of Map","body":"Can you please check the package of Map"},{"owner":{"account_id":11271266,"reputation":4747,"user_id":8266651,"display_name":"Kotlin Learner"},"score":0,"creation_date":1626875928,"post_id":68470163,"comment_id":121009032,"body_markdown":"@mightyWOZ ```package kotlin.collections```","body":"@mightyWOZ <code>package kotlin.collections</code>"},{"owner":{"account_id":7256570,"reputation":63,"user_id":5535013,"display_name":"Jacek"},"score":0,"creation_date":1632993833,"post_id":68470163,"comment_id":122645326,"body_markdown":"Have you try [this](https://stackoverflow.com/a/68046641)?","body":"Have you try <a href=\"https://stackoverflow.com/a/68046641\">this</a>?"}],"answers":[{"tags":[],"owner":{"account_id":1083758,"reputation":16795,"user_id":1079990,"display_name":"hannes ach"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673849542,"creation_date":1673849542,"answer_id":75130734,"question_id":68470163,"body_markdown":"I run into this by bump Kotlin from `1.7.22` to `1.8.0`\r\n\r\n    Error: Call requires API level 24 (current min is 21): java.lang.Iterable#forEach [NewApi]\r\n                allArrived(clientHandle).forEach {\r\n                                         ~~~~~~~\r\n\r\n### My solution\r\nI bumped from\r\n\r\n`com.android.tools.build:gradle:7.3.1` to\r\n\r\n`com.android.tools.build:gradle:7.4.0` and now it&#39;s working for me\r\n\r\n","title":"Error: Call requires API level 24 (current min is 21): java.util.Map#forEach [NewApi]","body":"<p>I run into this by bump Kotlin from <code>1.7.22</code> to <code>1.8.0</code></p>\n<pre><code>Error: Call requires API level 24 (current min is 21): java.lang.Iterable#forEach [NewApi]\n            allArrived(clientHandle).forEach {\n                                     ~~~~~~~\n</code></pre>\n<h3>My solution</h3>\n<p>I bumped from</p>\n<p><code>com.android.tools.build:gradle:7.3.1</code> to</p>\n<p><code>com.android.tools.build:gradle:7.4.0</code> and now it's working for me</p>\n"}],"owner":{"account_id":11271266,"reputation":4747,"user_id":8266651,"display_name":"Kotlin Learner"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2272,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1673849542,"creation_date":1626873176,"question_id":68470163,"body_markdown":" I have two **enum** class **EventKey** and **EventProperty**\r\n\r\n    enum class EventKey(val firebaseKey: String? = null) {\r\n           SIGNIN(firebaseKey = &quot;singin&quot;),\r\n           .....\r\n    }\r\n\r\n    enum class EventProperty(val property: String) {\r\n        TYPE1(&quot;type1&quot;),\r\n        ....\r\n    }\r\n\r\n\r\nI am getting error on this \r\n\r\n    fun event(eventKey: EventKey, properties: Map&lt;EventProperty, Any&gt;) {\r\n            eventKey.firebaseKey?.let { key -&gt;\r\n                properties?.forEach { entry -&gt;\r\n                    eventData.put(entry.key.property, entry.value)\r\n                }\r\n            }\r\n    }\r\n\r\nI tried this [Kotlin Extension Functions suddenly require api level 24][1], [Lint considers Kotlin MutableMap.forEach() as java.util.Map.forEach()\r\n][2] and change the code \r\n\r\n    properties?.forEach { (entry) -&gt;\r\n         eventData.put(entry.property, entry)\r\n    }\r\n\r\nor \r\n \r\n \r\n\r\n    properties?.forEach { (entry,value) -&gt;\r\n         eventData.put(entry.property, value)\r\n     }\r\n\r\nIt giving the same error on lint checking, also what i am doing in code after changing the stack overflow answer.\r\n\r\nUsing Kotlin **1.5.20**\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/44751469/kotlin-extension-functions-suddenly-require-api-level-24/44752239\r\n  [2]: https://stackoverflow.com/questions/48437358/lint-considers-kotlin-mutablemap-foreach-as-java-util-map-foreach","title":"Error: Call requires API level 24 (current min is 21): java.util.Map#forEach [NewApi]","body":"<p>I have two <strong>enum</strong> class <strong>EventKey</strong> and <strong>EventProperty</strong></p>\n<pre><code>enum class EventKey(val firebaseKey: String? = null) {\n       SIGNIN(firebaseKey = &quot;singin&quot;),\n       .....\n}\n\nenum class EventProperty(val property: String) {\n    TYPE1(&quot;type1&quot;),\n    ....\n}\n</code></pre>\n<p>I am getting error on this</p>\n<pre><code>fun event(eventKey: EventKey, properties: Map&lt;EventProperty, Any&gt;) {\n        eventKey.firebaseKey?.let { key -&gt;\n            properties?.forEach { entry -&gt;\n                eventData.put(entry.key.property, entry.value)\n            }\n        }\n}\n</code></pre>\n<p>I tried this <a href=\"https://stackoverflow.com/questions/44751469/kotlin-extension-functions-suddenly-require-api-level-24/44752239\">Kotlin Extension Functions suddenly require api level 24</a>, <a href=\"https://stackoverflow.com/questions/48437358/lint-considers-kotlin-mutablemap-foreach-as-java-util-map-foreach\">Lint considers Kotlin MutableMap.forEach() as java.util.Map.forEach()\n</a> and change the code</p>\n<pre><code>properties?.forEach { (entry) -&gt;\n     eventData.put(entry.property, entry)\n}\n</code></pre>\n<p>or</p>\n<pre><code>properties?.forEach { (entry,value) -&gt;\n     eventData.put(entry.property, value)\n }\n</code></pre>\n<p>It giving the same error on lint checking, also what i am doing in code after changing the stack overflow answer.</p>\n<p>Using Kotlin <strong>1.5.20</strong></p>\n"},{"tags":["java","android","android-viewpager","android-tablayout"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1673787545,"post_id":75124734,"comment_id":132571416,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"answers":[{"tags":[],"owner":{"account_id":27495420,"reputation":46,"user_id":20980009,"display_name":"Dipak Luhar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673848745,"creation_date":1673848745,"answer_id":75130659,"question_id":75124734,"body_markdown":"You can pass data from activity to the adapter by constructor like this :\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n\r\n    private ViewPager pager;\r\n    private TabLayout tabs;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        pager=(ViewPager) findViewById(R.id.pager);\r\n        tabs=(TabLayout) findViewById(R.id.tabs);\r\n\r\n\r\n        pager.setAdapter(new TabFragmentPagerAdapter(getSupportFragmentManager(),ActivityStringData));\r\n        tabs.setupWithViewPager(pager);\r\n        tabs.setTabGravity(TabLayout.GRAVITY_FILL);\r\n\r\n        \r\n    }\r\n\r\n\r\n\r\nto\r\n\r\n    public class TabFragmentPagerAdapter extends FragmentPagerAdapter {\r\n    String[] title = new String[]{\r\n            &quot;Tab 1&quot;, &quot;Tab 2&quot;, &quot;Tab 3&quot;\r\n    };\r\n    String data=null;\r\n\r\n    public TabFragmentPagerAdapter(@NonNull FragmentManager fm,String activityData) {\r\n        super(fm);\r\n         this.data=activityData\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public Fragment getItem(int position) {\r\n        Fragment fragment=null;\r\n        switch (position){\r\n            case 0:\r\n                tab1Fragment tab1Fragment=new tab1Fragment();\r\n                Bundle bundle = new Bundle();\r\n                bundle.putString(&quot;edttext&quot;, &quot;data From Activity&quot;);\r\n                tab1Fragment.setArguments(bundle);\r\n                return tab1Fragment;\r\n            case 1:\r\n                tab2Fragment tab2Fragment=new tab2Fragment();\r\n                bundle = new Bundle();\r\n                bundle.putString(&quot;edttext1&quot;, &quot;data From Activity1&quot;);\r\n                tab2Fragment.setArguments(bundle);\r\n                return tab2Fragment;\r\n            case 2:\r\n                tab3Fragment tab3Fragment=new tab3Fragment();\r\n                return tab3Fragment;\r\n            default:\r\n                fragment=null;\r\n                break;\r\n        }\r\n        return  fragment;\r\n    }\r\n\r\n    @Nullable\r\n    @Override\r\n    public CharSequence getPageTitle(int position) {\r\n        return  title[position];\r\n    }\r\n\r\n    @Override\r\n    public int getCount() {\r\n        return  title.length;\r\n    }\r\n}\r\n\r\n\r\n","title":"Pass the data from activity to Page Adapter","body":"<p>You can pass data from activity to the adapter by constructor like this :</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\nprivate ViewPager pager;\nprivate TabLayout tabs;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    pager=(ViewPager) findViewById(R.id.pager);\n    tabs=(TabLayout) findViewById(R.id.tabs);\n\n\n    pager.setAdapter(new TabFragmentPagerAdapter(getSupportFragmentManager(),ActivityStringData));\n    tabs.setupWithViewPager(pager);\n    tabs.setTabGravity(TabLayout.GRAVITY_FILL);\n\n    \n}\n</code></pre>\n<p>to</p>\n<pre><code>public class TabFragmentPagerAdapter extends FragmentPagerAdapter {\nString[] title = new String[]{\n        &quot;Tab 1&quot;, &quot;Tab 2&quot;, &quot;Tab 3&quot;\n};\nString data=null;\n\npublic TabFragmentPagerAdapter(@NonNull FragmentManager fm,String activityData) {\n    super(fm);\n     this.data=activityData\n}\n\n@NonNull\n@Override\npublic Fragment getItem(int position) {\n    Fragment fragment=null;\n    switch (position){\n        case 0:\n            tab1Fragment tab1Fragment=new tab1Fragment();\n            Bundle bundle = new Bundle();\n            bundle.putString(&quot;edttext&quot;, &quot;data From Activity&quot;);\n            tab1Fragment.setArguments(bundle);\n            return tab1Fragment;\n        case 1:\n            tab2Fragment tab2Fragment=new tab2Fragment();\n            bundle = new Bundle();\n            bundle.putString(&quot;edttext1&quot;, &quot;data From Activity1&quot;);\n            tab2Fragment.setArguments(bundle);\n            return tab2Fragment;\n        case 2:\n            tab3Fragment tab3Fragment=new tab3Fragment();\n            return tab3Fragment;\n        default:\n            fragment=null;\n            break;\n    }\n    return  fragment;\n}\n\n@Nullable\n@Override\npublic CharSequence getPageTitle(int position) {\n    return  title[position];\n}\n\n@Override\npublic int getCount() {\n    return  title.length;\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":27534228,"reputation":1,"user_id":21012189,"display_name":"Ashen Dinusha"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673848745,"creation_date":1673782408,"question_id":75124734,"body_markdown":"I need to pass the String data to tab layout. i&#39;m already pass the data from adapter to fragments in Tab layout. But my problem is I cannot to pass that data from activity to Adapter java class. I need to pass the data to more than one fragment. how can i do this?\r\n\r\n**Main Activity Code**\r\n```\r\npackage com.example.tablay;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.viewpager.widget.ViewPager;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.provider.ContactsContract;\r\n\r\nimport com.google.android.material.tabs.TabLayout;\r\n\r\nimport java.util.List;\r\nimport java.util.Stack;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    private ViewPager pager;\r\n    private TabLayout tabs;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        pager=(ViewPager) findViewById(R.id.pager);\r\n        tabs=(TabLayout) findViewById(R.id.tabs);\r\n\r\n\r\n        pager.setAdapter(new TabFragmentPagerAdapter(getSupportFragmentManager()));\r\n        tabs.setupWithViewPager(pager);\r\n        tabs.setTabGravity(TabLayout.GRAVITY_FILL);\r\n\r\n        \r\n    }\r\n\r\n}\r\n```\r\n\r\nPage Adapter Code :\r\n\r\n```\r\npackage com.example.tablay;\r\n\r\nimport android.os.Bundle;\r\nimport android.provider.ContactsContract;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.fragment.app.FragmentManager;\r\nimport androidx.fragment.app.FragmentPagerAdapter;\r\n\r\nimport java.util.Date;\r\nimport java.util.List;\r\n\r\n\r\npublic class TabFragmentPagerAdapter extends FragmentPagerAdapter {\r\n    String[] title = new String[]{\r\n            &quot;Tab 1&quot;, &quot;Tab 2&quot;, &quot;Tab 3&quot;\r\n    };\r\n\r\n    public TabFragmentPagerAdapter(@NonNull FragmentManager fm) {\r\n        super(fm);\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public Fragment getItem(int position) {\r\n        Fragment fragment=null;\r\n        switch (position){\r\n            case 0:\r\n                tab1Fragment tab1Fragment=new tab1Fragment();\r\n                Bundle bundle = new Bundle();\r\n                bundle.putString(&quot;edttext&quot;, &quot;data From Activity&quot;);\r\n                tab1Fragment.setArguments(bundle);\r\n                return tab1Fragment;\r\n            case 1:\r\n                tab2Fragment tab2Fragment=new tab2Fragment();\r\n                bundle = new Bundle();\r\n                bundle.putString(&quot;edttext1&quot;, &quot;data From Activity1&quot;);\r\n                tab2Fragment.setArguments(bundle);\r\n                return tab2Fragment;\r\n            case 2:\r\n                tab3Fragment tab3Fragment=new tab3Fragment();\r\n                return tab3Fragment;\r\n            default:\r\n                fragment=null;\r\n                break;\r\n        }\r\n        return  fragment;\r\n    }\r\n\r\n    @Nullable\r\n    @Override\r\n    public CharSequence getPageTitle(int position) {\r\n        return  title[position];\r\n    }\r\n\r\n    @Override\r\n    public int getCount() {\r\n        return  title.length;\r\n    }\r\n}\r\n```\r\n\r\nFragment Code:\r\n\r\n```\r\npackage com.example.tablay;\r\n\r\nimport android.os.Bundle;\r\n\r\nimport androidx.fragment.app.Fragment;\r\n\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.TextView;\r\n\r\npublic class tab1Fragment extends Fragment {\r\n\r\n\r\n    public tab1Fragment() {\r\n        // Required empty public constructor\r\n    }\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        // Inflate the layout for this fragment\r\n        View view = inflater.inflate(R.layout.fragment_tab1, container, false);\r\n        TextView tes=(TextView) view.findViewById(R.id.testtab1);\r\n        String strtext = getArguments().getString(&quot;edttext&quot;);\r\n\r\n        tes.setText(strtext);\r\n        return  view;\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\nI need to pass the String data to tab layout. i&#39;m already pass the data from adapter to fragments in Tab layout. But my problem is I cannot to pass that data from activity to Adapter java class. I need to pass the data to more than one fragment. how can i do this?","title":"Pass the data from activity to Page Adapter","body":"<p>I need to pass the String data to tab layout. i'm already pass the data from adapter to fragments in Tab layout. But my problem is I cannot to pass that data from activity to Adapter java class. I need to pass the data to more than one fragment. how can i do this?</p>\n<p><strong>Main Activity Code</strong></p>\n<pre><code>package com.example.tablay;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.viewpager.widget.ViewPager;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.provider.ContactsContract;\n\nimport com.google.android.material.tabs.TabLayout;\n\nimport java.util.List;\nimport java.util.Stack;\n\npublic class MainActivity extends AppCompatActivity {\n\n    private ViewPager pager;\n    private TabLayout tabs;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        pager=(ViewPager) findViewById(R.id.pager);\n        tabs=(TabLayout) findViewById(R.id.tabs);\n\n\n        pager.setAdapter(new TabFragmentPagerAdapter(getSupportFragmentManager()));\n        tabs.setupWithViewPager(pager);\n        tabs.setTabGravity(TabLayout.GRAVITY_FILL);\n\n        \n    }\n\n}\n</code></pre>\n<p>Page Adapter Code :</p>\n<pre><code>package com.example.tablay;\n\nimport android.os.Bundle;\nimport android.provider.ContactsContract;\n\nimport androidx.annotation.NonNull;\nimport androidx.annotation.Nullable;\nimport androidx.fragment.app.Fragment;\nimport androidx.fragment.app.FragmentManager;\nimport androidx.fragment.app.FragmentPagerAdapter;\n\nimport java.util.Date;\nimport java.util.List;\n\n\npublic class TabFragmentPagerAdapter extends FragmentPagerAdapter {\n    String[] title = new String[]{\n            &quot;Tab 1&quot;, &quot;Tab 2&quot;, &quot;Tab 3&quot;\n    };\n\n    public TabFragmentPagerAdapter(@NonNull FragmentManager fm) {\n        super(fm);\n    }\n\n    @NonNull\n    @Override\n    public Fragment getItem(int position) {\n        Fragment fragment=null;\n        switch (position){\n            case 0:\n                tab1Fragment tab1Fragment=new tab1Fragment();\n                Bundle bundle = new Bundle();\n                bundle.putString(&quot;edttext&quot;, &quot;data From Activity&quot;);\n                tab1Fragment.setArguments(bundle);\n                return tab1Fragment;\n            case 1:\n                tab2Fragment tab2Fragment=new tab2Fragment();\n                bundle = new Bundle();\n                bundle.putString(&quot;edttext1&quot;, &quot;data From Activity1&quot;);\n                tab2Fragment.setArguments(bundle);\n                return tab2Fragment;\n            case 2:\n                tab3Fragment tab3Fragment=new tab3Fragment();\n                return tab3Fragment;\n            default:\n                fragment=null;\n                break;\n        }\n        return  fragment;\n    }\n\n    @Nullable\n    @Override\n    public CharSequence getPageTitle(int position) {\n        return  title[position];\n    }\n\n    @Override\n    public int getCount() {\n        return  title.length;\n    }\n}\n</code></pre>\n<p>Fragment Code:</p>\n<pre><code>package com.example.tablay;\n\nimport android.os.Bundle;\n\nimport androidx.fragment.app.Fragment;\n\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.TextView;\n\npublic class tab1Fragment extends Fragment {\n\n\n    public tab1Fragment() {\n        // Required empty public constructor\n    }\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        // Inflate the layout for this fragment\n        View view = inflater.inflate(R.layout.fragment_tab1, container, false);\n        TextView tes=(TextView) view.findViewById(R.id.testtab1);\n        String strtext = getArguments().getString(&quot;edttext&quot;);\n\n        tes.setText(strtext);\n        return  view;\n    }\n}\n</code></pre>\n<p>I need to pass the String data to tab layout. i'm already pass the data from adapter to fragments in Tab layout. But my problem is I cannot to pass that data from activity to Adapter java class. I need to pass the data to more than one fragment. how can i do this?</p>\n"},{"tags":["java","terminal","fonts","char","ascii"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1673845716,"post_id":75130355,"comment_id":132580475,"body_markdown":"Please don&#39;t post images of text.","body":"Please don&#39;t post images of text."},{"owner":{"account_id":17927004,"reputation":23,"user_id":13025372,"display_name":"Rikki Koppolu"},"score":0,"creation_date":1673846248,"post_id":75130355,"comment_id":132580537,"body_markdown":"@tgdavies thank you for your advice. I have made it into code and manually said what the input is. Thanks! :0","body":"@tgdavies thank you for your advice. I have made it into code and manually said what the input is. Thanks! :0"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1673847604,"post_id":75130355,"comment_id":132580726,"body_markdown":"Your code prints `8329  8329` for me. I suspect your terminal is not doing Unicode input correctly. (I guess you know that `` is not an ASCII character)","body":"Your code prints <code>8329  8329</code> for me. I suspect your terminal is not doing Unicode input correctly. (I guess you know that <code></code> is not an ASCII character)"},{"owner":{"account_id":17927004,"reputation":23,"user_id":13025372,"display_name":"Rikki Koppolu"},"score":0,"creation_date":1673848271,"post_id":75130355,"comment_id":132580821,"body_markdown":"oh whoops. It is a UTF-8 character then?\nHow do I make sure my terminal does unicode input correctly? Any advice @tgdavies","body":"oh whoops. It is a UTF-8 character then? How do I make sure my terminal does unicode input correctly? Any advice @tgdavies"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1673848486,"post_id":75130355,"comment_id":132580847,"body_markdown":"It&#39;s a Unicode character, U+2089. The encoding of that character in UTF-8 would be three bytes: `0xE2 0x82 0x89`. The encoding in UTF-16 (which is what Java Strings use) is `0x2089` (which is decimal 8329 of course)","body":"It&#39;s a Unicode character, U+2089. The encoding of that character in UTF-8 would be three bytes: <code>0xE2 0x82 0x89</code>. The encoding in UTF-16 (which is what Java Strings use) is <code>0x2089</code> (which is decimal 8329 of course)"},{"owner":{"account_id":17927004,"reputation":23,"user_id":13025372,"display_name":"Rikki Koppolu"},"score":0,"creation_date":1673848648,"post_id":75130355,"comment_id":132580867,"body_markdown":"So would that mean I would have to use UTF-16, not UTF-8? Sorry, I am a pretty beginner coder. Also how would I go about fixing this @tgdavies","body":"So would that mean I would have to use UTF-16, not UTF-8? Sorry, I am a pretty beginner coder. Also how would I go about fixing this @tgdavies"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1673848906,"post_id":75130355,"comment_id":132580906,"body_markdown":"I don&#39;t use VSCode for Java, sorry.","body":"I don&#39;t use VSCode for Java, sorry."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1673848966,"post_id":75130355,"comment_id":132580916,"body_markdown":"Although &quot;not forcing the user to type unicode characters&quot; seems like a good route to take!","body":"Although &quot;not forcing the user to type unicode characters&quot; seems like a good route to take!"},{"owner":{"account_id":17927004,"reputation":23,"user_id":13025372,"display_name":"Rikki Koppolu"},"score":0,"creation_date":1673849430,"post_id":75130355,"comment_id":132580977,"body_markdown":"Unfortunately it cannot be avoided, as it takes in chemistry text (which require subscripts)","body":"Unfortunately it cannot be avoided, as it takes in chemistry text (which require subscripts)"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1673850701,"post_id":75130355,"comment_id":132581183,"body_markdown":"This is Python, but might give you some ideas https://jwilk.github.io/chemiscripts/","body":"This is Python, but might give you some ideas <a href=\"https://jwilk.github.io/chemiscripts/\" rel=\"nofollow noreferrer\">jwilk.github.io/chemiscripts</a>"},{"owner":{"account_id":17927004,"reputation":23,"user_id":13025372,"display_name":"Rikki Koppolu"},"score":0,"creation_date":1673853700,"post_id":75130355,"comment_id":132581772,"body_markdown":"Thanks, but I won&#39;t be able to use that, sorry :( - I need to do everything with my code only\nInterestingly enough, it works just fine when I take the text from input.txt, but when I take it from the terminal is when it becomes wierd.","body":"Thanks, but I won&#39;t be able to use that, sorry :( - I need to do everything with my code only Interestingly enough, it works just fine when I take the text from input.txt, but when I take it from the terminal is when it becomes wierd."}],"owner":{"account_id":17927004,"reputation":23,"user_id":13025372,"display_name":"Rikki Koppolu"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673848595,"creation_date":1673844889,"question_id":75130355,"body_markdown":"In my code, I am trying to get an input from the user (subscript 9) and print the Unicode value of said value. I get the input, make it a char, find the Unicode of it, but get 0 as the Unicode value (with 8329 being what it should be for reference)\r\n\r\n ```\r\nclass java{\r\n\r\n    public static void main(String args[]){\r\n        Scanner sc = new Scanner(System.in);\r\n        String lower = sc.next();\r\n        char[] arr  = lower.toCharArray();\r\n        System.out.println((int)arr[0] + &quot;  &quot;  + (int)&#39;&#39;);\r\n        sc.close();\r\n\r\n    }\r\n}\r\n```\r\nTerminal:\r\n\r\n0  8329\r\n\r\nAs you see, when I run the code, I ask it to print (int)arr[0] (Which is the subscript 9 inputted into the terminal, indicated by the red dot) - however it says the Unicode is 0. I try the same code in repl.it, and it works. But not in visual studio code. I want it to work in visual studio code, and I am trying to figure out what the issue is.\r\n\r\nSome things I have tried is looking at my font: https://i.stack.imgur.com/ApRxk.jpg\r\n. This should be good? I thought that Menlo, Monaco, &#39;FreeSans&#39;, and monospace should support being able to grab a subscript 9. I also ran it in python in visual studios, and it works perfectly fine.\r\nWindows Locale is set to support UTF-8.\r\nDoes anyone know what the issue is?","title":"Java Outputs Wrong Unicode Value of Subscript 9 - VS Code IDE","body":"<p>In my code, I am trying to get an input from the user (subscript 9) and print the Unicode value of said value. I get the input, make it a char, find the Unicode of it, but get 0 as the Unicode value (with 8329 being what it should be for reference)</p>\n<pre><code>class java{\n\n   public static void main(String args[]){\n       Scanner sc = new Scanner(System.in);\n       String lower = sc.next();\n       char[] arr  = lower.toCharArray();\n       System.out.println((int)arr[0] + &quot;  &quot;  + (int)'');\n       sc.close();\n\n   }\n}\n</code></pre>\n<p>Terminal:</p>\n<p>0  8329</p>\n<p>As you see, when I run the code, I ask it to print (int)arr[0] (Which is the subscript 9 inputted into the terminal, indicated by the red dot) - however it says the Unicode is 0. I try the same code in repl.it, and it works. But not in visual studio code. I want it to work in visual studio code, and I am trying to figure out what the issue is.</p>\n<p>Some things I have tried is looking at my font: <a href=\"https://i.stack.imgur.com/ApRxk.jpg\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/ApRxk.jpg</a>\n. This should be good? I thought that Menlo, Monaco, 'FreeSans', and monospace should support being able to grab a subscript 9. I also ran it in python in visual studios, and it works perfectly fine.\nWindows Locale is set to support UTF-8.\nDoes anyone know what the issue is?</p>\n"},{"tags":["java","unicode"],"comments":[{"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"score":2,"creation_date":1434418460,"post_id":30857504,"comment_id":49758173,"body_markdown":"Is your terminal configured to support UTF-8?","body":"Is your terminal configured to support UTF-8?"}],"answers":[{"tags":[],"owner":{"account_id":6243460,"reputation":97907,"user_id":4856258,"accept_rate":100,"display_name":"Tagir Valeev"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1434418624,"creation_date":1434418624,"answer_id":30857533,"question_id":30857504,"body_markdown":"It&#39;s likely that source file encoding does not correspond the encoding used by compiler. Use `javac -encoding utf-8` or `javac -encoding gb2312` or whatever depending on your source file encoding.","title":"Convert string in Chinese character to Unicode in Java","body":"<p>It's likely that source file encoding does not correspond the encoding used by compiler. Use <code>javac -encoding utf-8</code> or <code>javac -encoding gb2312</code> or whatever depending on your source file encoding.</p>\n"},{"tags":[],"owner":{"account_id":18644885,"reputation":1,"user_id":13589778,"display_name":"user13589778"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1673848581,"creation_date":1590069019,"answer_id":61936038,"question_id":30857504,"body_markdown":"\r\njava demo please see:\r\n```\r\n\r\n    /**\r\n        * \r\n        * strings to codepoint\r\n        * @param str ab2&#178178;3&#178223;4\r\n        * @return \\\\u61\\\\u62\\\\u4e00\\\\u32\\\\u2b802\\\\u4eef\\\\u33\\\\u2b82f\\\\u34\\\\u34\r\n    */\r\n    public static String stringToCodePoints(String str) {\r\n        StringBuilder stringBuilder = new StringBuilder();\r\n        str.codePoints().forEach(cp -&gt; stringBuilder.append(&quot;\\\\u&quot;).append(Integer.toHexString(cp)));\r\n        return stringBuilder.toString();\r\n    }\r\n\r\n```\r\n","title":"Convert string in Chinese character to Unicode in Java","body":"<p>java demo please see:</p>\n<pre><code>\n    /**\n        * \n        * strings to codepoint\n        * @param str ab234\n        * @return \\\\u61\\\\u62\\\\u4e00\\\\u32\\\\u2b802\\\\u4eef\\\\u33\\\\u2b82f\\\\u34\\\\u34\n    */\n    public static String stringToCodePoints(String str) {\n        StringBuilder stringBuilder = new StringBuilder();\n        str.codePoints().forEach(cp -&gt; stringBuilder.append(&quot;\\\\u&quot;).append(Integer.toHexString(cp)));\n        return stringBuilder.toString();\n    }\n\n</code></pre>\n"}],"owner":{"display_name":"user4890334"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5492,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1673848581,"creation_date":1434418328,"question_id":30857504,"body_markdown":"Suppose there is a string in Chinese Charater &quot;&quot;, the correct result for converting the string into Unicode is &quot;\\u4f60\\u597d&quot;, the result i got from the code below is &quot;\\ufffd\\ufffd\\ufffd&quot;. Why???\r\n\r\nJava code:\r\n\r\n    String str = &quot;&quot;;\r\n    public String testEncoding(String str) {\r\n        String result = &quot;&quot;;\r\n        for(char ch : str.toCharArray())\r\n            result += &quot;\\\\u&quot; + Integer.toHexString(ch | 0x10000).substring(1);\r\n        System.out.print(result);\r\n        return result;\r\n    }\r\n\r\n    String text = testEncoding(&quot;&quot;);\r\n    public static void input(String text){\r\n        execShellCmd(String.format(&quot;am broadcast -a ADB_INPUT_TEXT --es msg \\&#39;%s\\&#39;&quot;, text));\r\n    }\r\n\r\n    private static void execShellCmd(String cmd) {\r\n        try {\r\n            Process process = Runtime.getRuntime().exec(&quot;su&quot;);\r\n            OutputStream outputStream = process.getOutputStream();\r\n            DataOutputStream dataOutputStream = new DataOutputStream(outputStream);\r\n            dataOutputStream.write(cmd.getBytes(&quot;UTF-8&quot;));\r\n            dataOutputStream.flush();\r\n            dataOutputStream.close();\r\n            outputStream.close();\r\n        } catch (Throwable t) {\r\n            t.printStackTrace();\r\n        }\r\n    }\r\n\r\nIf I set text = &quot;\\u4f60\\u597d&quot;, the terminal displays &quot;&quot;.","title":"Convert string in Chinese character to Unicode in Java","body":"<p>Suppose there is a string in Chinese Charater \"\", the correct result for converting the string into Unicode is \"\\u4f60\\u597d\", the result i got from the code below is \"\\ufffd\\ufffd\\ufffd\". Why???</p>\n\n<p>Java code:</p>\n\n<pre><code>String str = \"\";\npublic String testEncoding(String str) {\n    String result = \"\";\n    for(char ch : str.toCharArray())\n        result += \"\\\\u\" + Integer.toHexString(ch | 0x10000).substring(1);\n    System.out.print(result);\n    return result;\n}\n\nString text = testEncoding(\"\");\npublic static void input(String text){\n    execShellCmd(String.format(\"am broadcast -a ADB_INPUT_TEXT --es msg \\'%s\\'\", text));\n}\n\nprivate static void execShellCmd(String cmd) {\n    try {\n        Process process = Runtime.getRuntime().exec(\"su\");\n        OutputStream outputStream = process.getOutputStream();\n        DataOutputStream dataOutputStream = new DataOutputStream(outputStream);\n        dataOutputStream.write(cmd.getBytes(\"UTF-8\"));\n        dataOutputStream.flush();\n        dataOutputStream.close();\n        outputStream.close();\n    } catch (Throwable t) {\n        t.printStackTrace();\n    }\n}\n</code></pre>\n\n<p>If I set text = \"\\u4f60\\u597d\", the terminal displays \"\".</p>\n"},{"tags":["java","android-studio"],"comments":[{"owner":{"account_id":18117686,"reputation":198,"user_id":13174149,"display_name":"Charlo Poitras"},"score":0,"creation_date":1673845247,"post_id":75130357,"comment_id":132580416,"body_markdown":"try removing the `*` so just `getSystemService(...)`","body":"try removing the <code>*</code> so just <code>getSystemService(...)</code>"},{"owner":{"account_id":26426771,"reputation":1,"user_id":20073618,"display_name":"Myungwon Lee"},"score":1,"creation_date":1673845335,"post_id":75130357,"comment_id":132580430,"body_markdown":"oh that was just to bold it but I guess it doesn&#39;t bold the letters here. But thank you for pointing it out!","body":"oh that was just to bold it but I guess it doesn&#39;t bold the letters here. But thank you for pointing it out!"},{"owner":{"account_id":18117686,"reputation":198,"user_id":13174149,"display_name":"Charlo Poitras"},"score":0,"creation_date":1673845437,"post_id":75130357,"comment_id":132580443,"body_markdown":"Have you tried importing the static method `getSystemService` where does it come from?","body":"Have you tried importing the static method <code>getSystemService</code> where does it come from?"},{"owner":{"account_id":26426771,"reputation":1,"user_id":20073618,"display_name":"Myungwon Lee"},"score":0,"creation_date":1673845863,"post_id":75130357,"comment_id":132580492,"body_markdown":"I&#39;m not sure how to do it exactly, but when I put static, h1 goes all red.. I&#39;m still learning the basics so I have a hard time understanding..","body":"I&#39;m not sure how to do it exactly, but when I put static, h1 goes all red.. I&#39;m still learning the basics so I have a hard time understanding.."}],"answers":[{"tags":[],"owner":{"account_id":26855967,"reputation":2341,"user_id":20440272,"display_name":"Sohaib Ahmed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673848324,"creation_date":1673848324,"answer_id":75130630,"question_id":75130357,"body_markdown":"### Step 1\r\nAdd permission in `Manifest`\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.VIBRATE&quot; /&gt;\r\n\r\n### Step 2\r\nAdd these three lines as an import on top of your java_file e.g. `MainActivity.java`\r\n\r\n    import android.os.VibrationEffect\r\n    import android.os.Vibrator\r\n    import android.os.VibratorManager\r\n\r\n### Step 3\r\nIn you `onClickListener`, copy/paste this\r\n\r\n    Vibrator vibrator;\r\n\tif (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.S) {\r\n\t\tVibratorManager vibratorManager = (VibratorManager) getSystemService(Context.VIBRATOR_MANAGER_SERVICE);\r\n\t\tvibrator = vibratorManager.getDefaultVibrator();\r\n\t} else {\r\n\t\tvibrator = (Vibrator) getSystemService(Context.VIBRATOR_SERVICE);\r\n\t}\r\n\tif (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O)\r\n\t\tvibrator.vibrate(VibrationEffect.createOneShot(400, VibrationEffect.DEFAULT_AMPLITUDE));\r\n\telse\r\n\t\tvibrator.vibrate(400);","title":"Android Studio Java getSystemService Error","body":"<h3>Step 1</h3>\n<p>Add permission in <code>Manifest</code></p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.VIBRATE&quot; /&gt;\n</code></pre>\n<h3>Step 2</h3>\n<p>Add these three lines as an import on top of your java_file e.g. <code>MainActivity.java</code></p>\n<pre><code>import android.os.VibrationEffect\nimport android.os.Vibrator\nimport android.os.VibratorManager\n</code></pre>\n<h3>Step 3</h3>\n<p>In you <code>onClickListener</code>, copy/paste this</p>\n<pre><code>Vibrator vibrator;\nif (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.S) {\n    VibratorManager vibratorManager = (VibratorManager) getSystemService(Context.VIBRATOR_MANAGER_SERVICE);\n    vibrator = vibratorManager.getDefaultVibrator();\n} else {\n    vibrator = (Vibrator) getSystemService(Context.VIBRATOR_SERVICE);\n}\nif (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O)\n    vibrator.vibrate(VibrationEffect.createOneShot(400, VibrationEffect.DEFAULT_AMPLITUDE));\nelse\n    vibrator.vibrate(400);\n</code></pre>\n"}],"owner":{"account_id":26426771,"reputation":1,"user_id":20073618,"display_name":"Myungwon Lee"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1673848324,"creation_date":1673844956,"question_id":75130357,"body_markdown":"\r\nFYI, it&#39;s been less than 2 months I started learning java and so I&#39;m a very beginner.\r\nI&#39;m trying to figure out how to apply vibration when users click on choices. But, getSystemService is red for some reason. What did I do wrong and what do I need to modify?\r\n(I imported vibration and wrote uses-permission for vibration in manifest xml.)\r\n  I tried what other people suggested but whatever I tried getSystemService is always red...\r\nHere is the code I have:\r\n\r\n\r\n      public void hospital1select1() {\r\n          h1.character.setVisibility(View.INVISIBLE);\r\n          h1.text.setVisibility(View.INVISIBLE);\r\n          showButton();\r\n          h1.choice1.setVisibility(View.INVISIBLE);\r\n          h1.choice4.setVisibility(View.INVISIBLE);\r\n          h1.choice2.setText(&quot;&quot;);\r\n          h1.choice3.setText(&quot;&quot;);\r\n    \r\n          h1.choice1.findViewById(R.id.choice1);\r\n          h1.choice1.setOnClickListener(new View.OnClickListener() {\r\n              @Override\r\n              public void onClick(View view){\r\n      Vibrator vibrator = (Vibrator)\r\n      getSystemService(Context.VIBRATOR_SERVICE);\r\n                  vibrator.vibrate(400);\r\n              }\r\n          });\r\n\r\n          c2 = &quot;h110a&quot;;\r\n          c3 = &quot;h110b&quot;;\r\n      }","title":"Android Studio Java getSystemService Error","body":"<p>FYI, it's been less than 2 months I started learning java and so I'm a very beginner.\nI'm trying to figure out how to apply vibration when users click on choices. But, getSystemService is red for some reason. What did I do wrong and what do I need to modify?\n(I imported vibration and wrote uses-permission for vibration in manifest xml.)\nI tried what other people suggested but whatever I tried getSystemService is always red...\nHere is the code I have:</p>\n<pre><code>  public void hospital1select1() {\n      h1.character.setVisibility(View.INVISIBLE);\n      h1.text.setVisibility(View.INVISIBLE);\n      showButton();\n      h1.choice1.setVisibility(View.INVISIBLE);\n      h1.choice4.setVisibility(View.INVISIBLE);\n      h1.choice2.setText(&quot;&quot;);\n      h1.choice3.setText(&quot;&quot;);\n\n      h1.choice1.findViewById(R.id.choice1);\n      h1.choice1.setOnClickListener(new View.OnClickListener() {\n          @Override\n          public void onClick(View view){\n  Vibrator vibrator = (Vibrator)\n  getSystemService(Context.VIBRATOR_SERVICE);\n              vibrator.vibrate(400);\n          }\n      });\n\n      c2 = &quot;h110a&quot;;\n      c3 = &quot;h110b&quot;;\n  }\n</code></pre>\n"},{"tags":["java","hibernate","serialization","spring-data-jpa","deserialization"],"owner":{"account_id":11609970,"reputation":1,"user_id":8504468,"display_name":"Muralidhar Srivatsav"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673848169,"creation_date":1673587169,"question_id":75105149,"body_markdown":"I have my entity classes and jpaRepos written in a commons module which I&#39;m trying to use across various micro-services. I was able to use them in all the services without any issue except for one micro-service, which has custom entityManager\r\n\r\nIssue while using these classes\r\nFirst issue I encountered was the fields in the entity classes were not getting converted from camelcase to snakecase then I have introduced these properties\r\n\r\n`&quot;hibernate.physical_naming_strategy&quot;, SpringPhysicalNamingStrategy.class.getName()\r\n&quot;hibernate.implicit_naming_strategy&quot;, SpringImplicitNamingStrategy.class.getName()`\r\n\r\nthis resolved my first issue. Now after introducing these properties. I&#39;m starting to face deserialization error\r\n\r\n```log\r\norg.hibernate.type.SerializationException: could not deserialize\r\n\tat org.hibernate.internal.util.SerializationHelper.doDeserialize(SerializationHelper.java:243)\r\n\tat org.hibernate.internal.util.SerializationHelper.deserialize(SerializationHelper.java:287)\r\n\tat org.hibernate.type.descriptor.java.SerializableTypeDescriptor.fromBytes(SerializableTypeDescriptor.java:138)\r\n\tat org.hibernate.type.descriptor.java.SerializableTypeDescriptor.wrap(SerializableTypeDescriptor.java:113)\r\n\tat org.hibernate.type.descriptor.java.SerializableTypeDescriptor.wrap(SerializableTypeDescriptor.java:29)\r\n\tat org.hibernate.type.descriptor.sql.VarbinaryTypeDescriptor$2.doExtract(VarbinaryTypeDescriptor.java:60)\r\n\tat org.hibernate.type.descriptor.sql.BasicExtractor.extract(BasicExtractor.java:47)\r\n\tat org.hibernate.type.AbstractStandardBasicType.nullSafeGet(AbstractStandardBasicType.java:257)\r\n\tat org.hibernate.type.AbstractStandardBasicType.nullSafeGet(AbstractStandardBasicType.java:253)\r\n\tat org.hibernate.type.AbstractStandardBasicType.nullSafeGet(AbstractStandardBasicType.java:243)\r\n\tat org.hibernate.type.AbstractStandardBasicType.hydrate(AbstractStandardBasicType.java:329)\r\n\tat org.hibernate.persister.entity.AbstractEntityPersister.hydrate(AbstractEntityPersister.java:3131)\r\n\tat org.hibernate.loader.plan.exec.process.internal.EntityReferenceInitializerImpl.loadFromResultSet(EntityReferenceInitializerImpl.java:342)\r\n\tat org.hibernate.loader.plan.exec.process.internal.EntityReferenceInitializerImpl.hydrateEntityState(EntityReferenceInitializerImpl.java:269)\r\n\tat org.hibernate.loader.plan.exec.process.internal.AbstractRowReader.readRow(AbstractRowReader.java:102)\r\n\tat org.hibernate.loader.plan.exec.internal.EntityLoadQueryDetails$EntityLoaderRowReader.readRow(EntityLoadQueryDetails.java:288)\r\n\tat org.hibernate.loader.plan.exec.process.internal.ResultSetProcessorImpl.extractRows(ResultSetProcessorImpl.java:157)\r\n\tat org.hibernate.loader.plan.exec.process.internal.ResultSetProcessorImpl.extractResults(ResultSetProcessorImpl.java:94)\r\n\tat org.hibernate.loader.plan.exec.internal.AbstractLoadPlanBasedLoader.executeLoad(AbstractLoadPlanBasedLoader.java:105)\r\n\tat org.hibernate.loader.entity.plan.AbstractLoadPlanBasedEntityLoader.load(AbstractLoadPlanBasedEntityLoader.java:285)\r\n\tat org.hibernate.persister.entity.AbstractEntityPersister.doLoad(AbstractEntityPersister.java:4437)\r\n\tat org.hibernate.persister.entity.AbstractEntityPersister.load(AbstractEntityPersister.java:4427)\r\n\tat org.hibernate.event.internal.DefaultLoadEventListener.loadFromDatasource(DefaultLoadEventListener.java:576)\r\n\tat org.hibernate.event.internal.DefaultLoadEventListener.doLoad(DefaultLoadEventListener.java:544)\r\n\tat org.hibernate.event.internal.DefaultLoadEventListener.load(DefaultLoadEventListener.java:208)\r\n\tat org.hibernate.event.internal.DefaultLoadEventListener.proxyOrLoad(DefaultLoadEventListener.java:332)\r\n\tat org.hibernate.event.internal.DefaultLoadEventListener.doOnLoad(DefaultLoadEventListener.java:108)\r\n\tat org.hibernate.event.internal.DefaultLoadEventListener.onLoad(DefaultLoadEventListener.java:74)\r\n\tat org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:110)\r\n\tat org.hibernate.internal.SessionImpl.fireLoadNoChecks(SessionImpl.java:1186)\r\n\tat org.hibernate.internal.SessionImpl.fireLoad(SessionImpl.java:1175)\r\n\tat org.hibernate.internal.SessionImpl.access$2100(SessionImpl.java:193)\r\n\tat org.hibernate.internal.SessionImpl$IdentifierLoadAccessImpl.doLoad(SessionImpl.java:2786)\r\n\tat org.hibernate.internal.SessionImpl$IdentifierLoadAccessImpl.lambda$load$1(SessionImpl.java:2767)\r\n\tat org.hibernate.internal.SessionImpl$IdentifierLoadAccessImpl.perform(SessionImpl.java:2723)\r\n\tat org.hibernate.internal.SessionImpl$IdentifierLoadAccessImpl.load(SessionImpl.java:2767)\r\n\tat org.hibernate.internal.SessionImpl.find(SessionImpl.java:3322)\r\n\tat org.hibernate.internal.SessionImpl.find(SessionImpl.java:3289)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311)\r\n\tat com.sun.proxy.$Proxy283.find(Unknown Source)\r\n\tat org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById(SimpleJpaRepository.java:310)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289)\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137)\r\n```\r\n\r\nI can&#39;t touch my entity classes as it is being used at multiple places. And there is no issue there.\r\n\r\n\r\n\r\n\r\n\r\nmy entityManger\r\n\r\n\r\n\r\n    @Bean(name = &quot;entityManagerFactory&quot;)\r\n    @Primary\r\n    public LocalContainerEntityManagerFactoryBean entityManagerFactory(@Qualifier(value = &quot;dataSource&quot;) DataSource dataSource) {\r\n        LocalContainerEntityManagerFactoryBean entityManager = new LocalContainerEntityManagerFactoryBean();\r\n        entityManager.setDataSource(dataSource);\r\n        entityManager.setPackagesToScan(ApplicationConstants.CUSTOM_CONTROL_ENTITY_BASE_PACKAGE, ApplicationConstants.ENTITY_BASE_PACKAGE_CONN_ORACLE,ApplicationConstants.APPLICATION_BASE_BACKAGE_USER);\r\n        HibernateJpaVendorAdapter hibernateJpaVendorAdapter = new HibernateJpaVendorAdapter();\r\n        entityManager.setJpaVendorAdapter(hibernateJpaVendorAdapter);\r\n    \r\n        final Map&lt;String, Object&gt; properties = new HashMap&lt;String, Object&gt;();\r\n        properties.put(&quot;hibernate.dialect&quot;, dialect);\r\n        properties.put(&quot;hibernate.physical_naming_strategy&quot;, SpringPhysicalNamingStrategy.class.getName());\r\n        properties.put(&quot;hibernate.implicit_naming_strategy&quot;, SpringImplicitNamingStrategy.class.getName());\r\n        entityManager.setJpaPropertyMap(properties);\r\n    \r\n        return entityManager;\r\n    }\r\n\r\n\r\nspring boot version : 2.X\r\nhibernate version: 5.4.32.Final","title":"Encountering SerializationException while using custom EntityManger with physicalNamingStrategy","body":"<p>I have my entity classes and jpaRepos written in a commons module which I'm trying to use across various micro-services. I was able to use them in all the services without any issue except for one micro-service, which has custom entityManager</p>\n<p>Issue while using these classes\nFirst issue I encountered was the fields in the entity classes were not getting converted from camelcase to snakecase then I have introduced these properties</p>\n<p><code>&quot;hibernate.physical_naming_strategy&quot;, SpringPhysicalNamingStrategy.class.getName() &quot;hibernate.implicit_naming_strategy&quot;, SpringImplicitNamingStrategy.class.getName()</code></p>\n<p>this resolved my first issue. Now after introducing these properties. I'm starting to face deserialization error</p>\n<pre><code>org.hibernate.type.SerializationException: could not deserialize\n    at org.hibernate.internal.util.SerializationHelper.doDeserialize(SerializationHelper.java:243)\n    at org.hibernate.internal.util.SerializationHelper.deserialize(SerializationHelper.java:287)\n    at org.hibernate.type.descriptor.java.SerializableTypeDescriptor.fromBytes(SerializableTypeDescriptor.java:138)\n    at org.hibernate.type.descriptor.java.SerializableTypeDescriptor.wrap(SerializableTypeDescriptor.java:113)\n    at org.hibernate.type.descriptor.java.SerializableTypeDescriptor.wrap(SerializableTypeDescriptor.java:29)\n    at org.hibernate.type.descriptor.sql.VarbinaryTypeDescriptor$2.doExtract(VarbinaryTypeDescriptor.java:60)\n    at org.hibernate.type.descriptor.sql.BasicExtractor.extract(BasicExtractor.java:47)\n    at org.hibernate.type.AbstractStandardBasicType.nullSafeGet(AbstractStandardBasicType.java:257)\n    at org.hibernate.type.AbstractStandardBasicType.nullSafeGet(AbstractStandardBasicType.java:253)\n    at org.hibernate.type.AbstractStandardBasicType.nullSafeGet(AbstractStandardBasicType.java:243)\n    at org.hibernate.type.AbstractStandardBasicType.hydrate(AbstractStandardBasicType.java:329)\n    at org.hibernate.persister.entity.AbstractEntityPersister.hydrate(AbstractEntityPersister.java:3131)\n    at org.hibernate.loader.plan.exec.process.internal.EntityReferenceInitializerImpl.loadFromResultSet(EntityReferenceInitializerImpl.java:342)\n    at org.hibernate.loader.plan.exec.process.internal.EntityReferenceInitializerImpl.hydrateEntityState(EntityReferenceInitializerImpl.java:269)\n    at org.hibernate.loader.plan.exec.process.internal.AbstractRowReader.readRow(AbstractRowReader.java:102)\n    at org.hibernate.loader.plan.exec.internal.EntityLoadQueryDetails$EntityLoaderRowReader.readRow(EntityLoadQueryDetails.java:288)\n    at org.hibernate.loader.plan.exec.process.internal.ResultSetProcessorImpl.extractRows(ResultSetProcessorImpl.java:157)\n    at org.hibernate.loader.plan.exec.process.internal.ResultSetProcessorImpl.extractResults(ResultSetProcessorImpl.java:94)\n    at org.hibernate.loader.plan.exec.internal.AbstractLoadPlanBasedLoader.executeLoad(AbstractLoadPlanBasedLoader.java:105)\n    at org.hibernate.loader.entity.plan.AbstractLoadPlanBasedEntityLoader.load(AbstractLoadPlanBasedEntityLoader.java:285)\n    at org.hibernate.persister.entity.AbstractEntityPersister.doLoad(AbstractEntityPersister.java:4437)\n    at org.hibernate.persister.entity.AbstractEntityPersister.load(AbstractEntityPersister.java:4427)\n    at org.hibernate.event.internal.DefaultLoadEventListener.loadFromDatasource(DefaultLoadEventListener.java:576)\n    at org.hibernate.event.internal.DefaultLoadEventListener.doLoad(DefaultLoadEventListener.java:544)\n    at org.hibernate.event.internal.DefaultLoadEventListener.load(DefaultLoadEventListener.java:208)\n    at org.hibernate.event.internal.DefaultLoadEventListener.proxyOrLoad(DefaultLoadEventListener.java:332)\n    at org.hibernate.event.internal.DefaultLoadEventListener.doOnLoad(DefaultLoadEventListener.java:108)\n    at org.hibernate.event.internal.DefaultLoadEventListener.onLoad(DefaultLoadEventListener.java:74)\n    at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:110)\n    at org.hibernate.internal.SessionImpl.fireLoadNoChecks(SessionImpl.java:1186)\n    at org.hibernate.internal.SessionImpl.fireLoad(SessionImpl.java:1175)\n    at org.hibernate.internal.SessionImpl.access$2100(SessionImpl.java:193)\n    at org.hibernate.internal.SessionImpl$IdentifierLoadAccessImpl.doLoad(SessionImpl.java:2786)\n    at org.hibernate.internal.SessionImpl$IdentifierLoadAccessImpl.lambda$load$1(SessionImpl.java:2767)\n    at org.hibernate.internal.SessionImpl$IdentifierLoadAccessImpl.perform(SessionImpl.java:2723)\n    at org.hibernate.internal.SessionImpl$IdentifierLoadAccessImpl.load(SessionImpl.java:2767)\n    at org.hibernate.internal.SessionImpl.find(SessionImpl.java:3322)\n    at org.hibernate.internal.SessionImpl.find(SessionImpl.java:3289)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311)\n    at com.sun.proxy.$Proxy283.find(Unknown Source)\n    at org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById(SimpleJpaRepository.java:310)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289)\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137)\n</code></pre>\n<p>I can't touch my entity classes as it is being used at multiple places. And there is no issue there.</p>\n<p>my entityManger</p>\n<pre><code>@Bean(name = &quot;entityManagerFactory&quot;)\n@Primary\npublic LocalContainerEntityManagerFactoryBean entityManagerFactory(@Qualifier(value = &quot;dataSource&quot;) DataSource dataSource) {\n    LocalContainerEntityManagerFactoryBean entityManager = new LocalContainerEntityManagerFactoryBean();\n    entityManager.setDataSource(dataSource);\n    entityManager.setPackagesToScan(ApplicationConstants.CUSTOM_CONTROL_ENTITY_BASE_PACKAGE, ApplicationConstants.ENTITY_BASE_PACKAGE_CONN_ORACLE,ApplicationConstants.APPLICATION_BASE_BACKAGE_USER);\n    HibernateJpaVendorAdapter hibernateJpaVendorAdapter = new HibernateJpaVendorAdapter();\n    entityManager.setJpaVendorAdapter(hibernateJpaVendorAdapter);\n\n    final Map&lt;String, Object&gt; properties = new HashMap&lt;String, Object&gt;();\n    properties.put(&quot;hibernate.dialect&quot;, dialect);\n    properties.put(&quot;hibernate.physical_naming_strategy&quot;, SpringPhysicalNamingStrategy.class.getName());\n    properties.put(&quot;hibernate.implicit_naming_strategy&quot;, SpringImplicitNamingStrategy.class.getName());\n    entityManager.setJpaPropertyMap(properties);\n\n    return entityManager;\n}\n</code></pre>\n<p>spring boot version : 2.X\nhibernate version: 5.4.32.Final</p>\n"},{"tags":["java","c#","android","xamarin","android-intent"],"answers":[{"tags":[],"owner":{"account_id":25551412,"reputation":3038,"user_id":19335715,"display_name":"Guangyu Bai - MSFT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673848079,"creation_date":1673848079,"answer_id":75130608,"question_id":75111947,"body_markdown":"The method `public T getParcelableExtra (String name)` was deprecated in API level 33. That is why you may not be able to use this method.\r\n\r\nIt provided the new method `public T getParcelableExtra (String name, Class&lt;T&gt; clazz)` and you can use this. You can refer to the new [getParcelableExtra][1].\r\n\r\nIn addition, I found the Q&amp;A about [Xamarin C# alternative toGetParcelableExtra][2].\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/content/Intent.html#getParcelableExtra(java.lang.String,%20java.lang.Class%3CT%3E)\r\n  [2]: https://learn.microsoft.com/en-us/answers/questions/1058716/xamarin-c-alternative-togetparcelableextra","title":"Unable to get bluetooth button pressed in android","body":"<p>The method <code>public T getParcelableExtra (String name)</code> was deprecated in API level 33. That is why you may not be able to use this method.</p>\n<p>It provided the new method <code>public T getParcelableExtra (String name, Class&lt;T&gt; clazz)</code> and you can use this. You can refer to the new <a href=\"https://developer.android.com/reference/android/content/Intent.html#getParcelableExtra(java.lang.String,%20java.lang.Class%3CT%3E)\" rel=\"nofollow noreferrer\">getParcelableExtra</a>.</p>\n<p>In addition, I found the Q&amp;A about <a href=\"https://learn.microsoft.com/en-us/answers/questions/1058716/xamarin-c-alternative-togetparcelableextra\" rel=\"nofollow noreferrer\">Xamarin C# alternative toGetParcelableExtra</a>.</p>\n"}],"owner":{"account_id":1103633,"reputation":6034,"user_id":1095495,"accept_rate":44,"display_name":"John"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673848079,"creation_date":1673627452,"question_id":75111947,"body_markdown":"I am no longer able to determine what button was pressed from any of my bluetooth devices.\r\n\r\nGetParcelableExtra returns null for KEY_EVENT in MEDIA_BUTTON intent callback.\r\n\r\nThis method was working for months, but then suddenly started returning null on GetParcableExtra.\r\n\r\nHow can I get the bluetooth button event from a background service in xamarin?\r\n\r\n        namespace foo\r\n        {\r\n            [Service]\r\n            class BackgroundService : Service\r\n            {\r\n                [return: GeneratedEnum]\r\n                public override StartCommandResult OnStartCommand(Intent intent, [GeneratedEnum] StartCommandFlags flags, int startId)\r\n                {\r\n                    registerMediaButtons();\r\n                    \r\n                    return StartCommandResult.Sticky;\r\n                }\r\n    \r\n            private void registerMediaButtons()\r\n            {\r\n                var am = (AudioManager)this.GetSystemService(AudioService);\r\n                var componentName = new ComponentName(PackageName, new MyMediaButtonBroadcastReceiver().ComponentName);\r\n                #pragma warning disable CS0618 // Type or member is obsolete\r\n                am.UnregisterMediaButtonEventReceiver(componentName);\r\n                am.RegisterMediaButtonEventReceiver(componentName);\r\n                #pragma warning restore CS0618 // Type or member is obsolete\r\n            }\r\n    \r\n            [BroadcastReceiver]\r\n            [IntentFilter(new[] { Intent.ActionMediaButton, Intent.ActionHeadsetPlug, AudioManager.ActionAudioBecomingNoisy })]\r\n            public class MyMediaButtonBroadcastReceiver : BroadcastReceiver\r\n            {\r\n                public string ComponentName { get { return Class.Name; } }\r\n    \r\n                public override void OnReceive(Context context, Intent intent)\r\n                {\r\n                    if (intent.Action == Intent.ActionMediaButton)\r\n                    {\r\n                        var keyEvent = (KeyEvent)intent.GetParcelableExtra(Intent.ExtraKeyEvent);\r\n    \r\n                        if (keyEvent == null)// always null now\r\n                            return;\r\n    \r\n                        if (keyEvent.KeyCode == Keycode.Headsethook)\r\n                        {\r\n                            if (keyEvent.Action == KeyEventActions.Down)\r\n                            {\r\n                                \r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Unable to get bluetooth button pressed in android","body":"<p>I am no longer able to determine what button was pressed from any of my bluetooth devices.</p>\n<p>GetParcelableExtra returns null for KEY_EVENT in MEDIA_BUTTON intent callback.</p>\n<p>This method was working for months, but then suddenly started returning null on GetParcableExtra.</p>\n<p>How can I get the bluetooth button event from a background service in xamarin?</p>\n<pre><code>    namespace foo\n    {\n        [Service]\n        class BackgroundService : Service\n        {\n            [return: GeneratedEnum]\n            public override StartCommandResult OnStartCommand(Intent intent, [GeneratedEnum] StartCommandFlags flags, int startId)\n            {\n                registerMediaButtons();\n                \n                return StartCommandResult.Sticky;\n            }\n\n        private void registerMediaButtons()\n        {\n            var am = (AudioManager)this.GetSystemService(AudioService);\n            var componentName = new ComponentName(PackageName, new MyMediaButtonBroadcastReceiver().ComponentName);\n            #pragma warning disable CS0618 // Type or member is obsolete\n            am.UnregisterMediaButtonEventReceiver(componentName);\n            am.RegisterMediaButtonEventReceiver(componentName);\n            #pragma warning restore CS0618 // Type or member is obsolete\n        }\n\n        [BroadcastReceiver]\n        [IntentFilter(new[] { Intent.ActionMediaButton, Intent.ActionHeadsetPlug, AudioManager.ActionAudioBecomingNoisy })]\n        public class MyMediaButtonBroadcastReceiver : BroadcastReceiver\n        {\n            public string ComponentName { get { return Class.Name; } }\n\n            public override void OnReceive(Context context, Intent intent)\n            {\n                if (intent.Action == Intent.ActionMediaButton)\n                {\n                    var keyEvent = (KeyEvent)intent.GetParcelableExtra(Intent.ExtraKeyEvent);\n\n                    if (keyEvent == null)// always null now\n                        return;\n\n                    if (keyEvent.KeyCode == Keycode.Headsethook)\n                    {\n                        if (keyEvent.Action == KeyEventActions.Down)\n                        {\n                            \n                        }\n                    }\n                }\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","sql-server","spring-boot","spring-data-jpa"],"owner":{"account_id":22711769,"reputation":11,"user_id":16877633,"display_name":"funeral of tech"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673847560,"creation_date":1673847472,"question_id":75130559,"body_markdown":"I&#39;m new to learn spring boot.\r\nI&#39;m creating todo app with spring boot now.\r\n\r\nI&#39;d like to display some todos from mysql tied up with the user, but it shows all users todos.\r\n\r\nBelow is DB.\r\n\r\n\r\n----------\r\nUsers DB\r\n\r\n| Column | Datatype | Default |\r\n|:---- |:------:| -----:|\r\n| id  | INT    |  |\r\n|email | VARCHAR | |\r\n| password  | VARCHAR    |  |\r\n| description  | VARCHAR    | NULL |\r\n| authority  | VARCHAR    | NULL |\r\n\r\n----------\r\nTodos DB\r\n\r\n| Column | Datatype | Default |\r\n|:---- |:------:| -----:|\r\n| id  | INT    |  |\r\n|user_id |INT| -----:|\r\n| title  | VARCHAR    | NULL |\r\n| description  | VARCHAR    | NULL |\r\n| due_date  | DATE    | NULL |\r\n| priority  | INT    | NULL |\r\n| is_completed  | TINYINT    | &#39;0&#39; |\r\n| created_at  | TIMESTAMP   | CURRENT_TIMESTAMP |\r\n| updated_at  | TIMESTAMP   | CURRENT_TIMESTAMP |\r\n\t\t\r\n----------\r\n\r\nbuild.gradle\r\n\r\n\r\n    plugins {\r\n\tid &#39;org.springframework.boot&#39; version &#39;2.7.5&#39;\r\n\tid &#39;io.spring.dependency-management&#39; version &#39;1.0.15.RELEASE&#39;\r\n\tid &#39;java&#39;\r\n    }\r\n\r\n    group = &#39;com.portfoilo&#39;\r\n    version = &#39;0.0.1-SNAPSHOT&#39;\r\n    sourceCompatibility = &#39;17&#39;\r\n\r\n    configurations {\r\n\t  compileOnly {\r\n\t\textendsFrom annotationProcessor\r\n\t   }\r\n    }\r\n\r\n    repositories {\r\n\t   mavenCentral()\r\n    }\r\n\r\n    dependencies {\r\n\t  implementation &#39;org.jetbrains:annotations:20.1.0&#39;\r\n      implementation &#39;org.jetbrains:annotations:20.1.0&#39;\r\n        dependencies {\r\n\t\t  implementation &#39;org.springframework.boot:spring-boot-starter-data-jdbc&#39;\r\n\t\t  implementation &#39;org.springframework.boot:spring-boot-starter-jdbc&#39;\r\n\t\t  implementation &#39;org.springframework.boot:spring-boot-starter-security&#39;\r\n\t\t  implementation &#39;org.springframework.boot:spring-boot-starter-thymeleaf&#39;\r\n\t\t  implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n\t\t  implementation &#39;org.springframework.boot:spring-boot-starter-validation&#39;\r\n\t\t  implementation &#39;org.mybatis.spring.boot:mybatis-spring-boot-starter:2.2.2&#39;\r\n\t\t  implementation &#39;org.thymeleaf.extras:thymeleaf-extras-springsecurity5&#39;\r\n\t\t  implementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n\t\t  compileOnly &#39;org.projectlombok:lombok&#39;\r\n\t\t  developmentOnly &#39;org.springframework.boot:spring-boot-devtools&#39;\r\n\t\t  runtimeOnly &#39;com.mysql:mysql-connector-j&#39;\r\n\t\t  annotationProcessor &#39;org.projectlombok:lombok&#39;\r\n\t\t  testImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n\t\t  testImplementation &#39;org.springframework.security:spring-security-test&#39;\r\n\r\n\t    }\r\n    }\r\n\r\n    tasks.named(&#39;test&#39;) {\r\n\t  useJUnitPlatform()\r\n    }\r\n\r\n\r\n----------\r\nTodoController\r\n\r\n    package com.portfoilo.fullstackbackend.Controller;\r\n\r\n    import com.portfoilo.fullstackbackend.Model.Todo;\r\n    import com.portfoilo.fullstackbackend.Repository.TodoRepository;\r\n    import com.portfoilo.fullstackbackend.Service.TodoService;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Controller;\r\n    import org.springframework.ui.Model;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.PathVariable;\r\n    import java.util.List;\r\n\r\n    @Controller\r\n    public class TodoController {\r\n\r\n    @Autowired\r\n    TodoRepository todoRepository;\r\n\r\n    @Autowired\r\n    TodoService todoService;\r\n\r\n    @GetMapping(&quot;/todo/{id}&quot;)\r\n    public String home(@PathVariable(&quot;id&quot;)Integer id, Model model) {\r\n        List&lt;Todo&gt; list = todoRepository.find(id);\r\n        model.addAttribute(&quot;list&quot;, list);\r\n        return &quot;home&quot;;\r\n     }\r\n    }\r\n\r\n\r\n----------\r\nUserController\r\n\r\n    package com.portfoilo.fullstackbackend.Controller;\r\n\r\n    import com.portfoilo.fullstackbackend.Service.UserRegistrationService;\r\n    import com.portfoilo.fullstackbackend.SignupForm;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.context.annotation.Lazy;\r\n    import org.springframework.stereotype.Controller;\r\n    import org.springframework.validation.BindingResult;\r\n    import org.springframework.validation.annotation.Validated;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.ModelAttribute;\r\n    import org.springframework.web.bind.annotation.PostMapping;\r\n\r\n    @Controller\r\n    public class UserController {\r\n    @Autowired\r\n    @Lazy\r\n    private UserRegistrationService userRegistrationService;\r\n\r\n    @GetMapping(&quot;/&quot;)\r\n    public String showTop() {\r\n        return &quot;index&quot;;\r\n    }\r\n\r\n    @GetMapping(&quot;/login&quot;)\r\n    public String showLoginPage() {\r\n        return &quot;login&quot;;\r\n    }\r\n\r\n    @GetMapping(&quot;/signup&quot;)\r\n    public String showUserRegistration(@ModelAttribute(&quot;signupForm&quot;) SignupForm \r\n      signupForm) {\r\n        return &quot;signup&quot;;\r\n    }\r\n\r\n    @PostMapping(&quot;/signup&quot;)\r\n    public String userRegistration(@Validated @ModelAttribute(&quot;signupForm&quot;) SignupForm \r\n      signupForm, BindingResult result) {\r\n        if(result.hasErrors()) {\r\n            return &quot;signup&quot;;\r\n        }\r\n        userRegistrationService.userRegistration(signupForm.getEmail(), \r\n        signupForm.getPassword());\r\n        return &quot;redirect:/login&quot;;\r\n      }\r\n    }\r\n\r\n\r\n----------\r\nTodo.java\r\n\r\n    package com.portfoilo.fullstackbackend.Model;\r\n\r\n    import com.portfoilo.fullstackbackend.SignupForm;\r\n    import lombok.Data;\r\n\r\n    import javax.persistence.*;\r\n    import javax.validation.constraints.NotBlank;\r\n    import javax.validation.constraints.NotNull;\r\n    import java.util.Date;\r\n\r\n    @Entity\r\n    @Data\r\n    @Table(name = &quot;todos&quot;)\r\n    public class Todo {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Integer id;\r\n\r\n    @Column(name = &quot;user_id&quot;)\r\n    private Integer user_id;\r\n\r\n    @NotNull\r\n    @NotBlank\r\n    @Column(name = &quot;title&quot;)\r\n    private String title;\r\n\r\n    @NotNull\r\n    @NotBlank\r\n    @Column(name = &quot;description&quot;)\r\n    private String description;\r\n\r\n    @Column(name = &quot;due_date&quot;)\r\n    private Date due_date;\r\n\r\n    @Column(name = &quot;priority&quot;)\r\n    private Integer priority;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;user_id&quot; ,insertable = false, updatable = false)\r\n    private User user;\r\n    }\r\n\r\n\r\n----------\r\nUser.java\r\n\r\n    package com.portfoilo.fullstackbackend.Model;\r\n\r\n    import javax.persistence.*;\r\n    import java.util.List;\r\n\r\n    @Entity\r\n    @Table(name = &quot;users&quot;)\r\n    public class User {\r\n    @Id\r\n    @Column(name = &quot;id&quot;)\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Integer id;\r\n\r\n    @Column(name = &quot;email&quot;)\r\n    private String email;\r\n    @Column(name = &quot;password&quot;)\r\n    private String password;\r\n\r\n    @Column(name = &quot;authority&quot;)\r\n    private String authority;\r\n\r\n    @OneToMany(mappedBy = &quot;user&quot;)\r\n    private List&lt;Todo&gt; todos;\r\n\r\n    public User(String email, String password, String authority) {\r\n        this.email = email;\r\n        this.password = password;\r\n        this.authority = authority;\r\n    }\r\n\r\n    public User() {\r\n\r\n    }\r\n\r\n    public Integer getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(Integer id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getEmail() {\r\n        return email;\r\n    }\r\n\r\n    public void setEmail(String email) {\r\n        this.email = email;\r\n    }\r\n\r\n    public String getPassword() {\r\n        return password;\r\n    }\r\n\r\n    public void setPassword(String password) {\r\n        this.password = password;\r\n    }\r\n\r\n    public String getAuthority() {\r\n        return authority;\r\n    }\r\n\r\n    public void setAuthority(String authority) {\r\n        this.authority = authority;\r\n    }\r\n\r\n    public List&lt;Todo&gt; getTodos() {\r\n        return todos;\r\n    }\r\n\r\n    public void setTodos(List&lt;Todo&gt; todos) {\r\n        this.todos = todos;\r\n    }\r\n    }\r\n\r\n\r\n----------\r\nTodoRepository.java\r\n\r\n    package com.portfoilo.fullstackbackend.Repository;\r\n\r\n    import com.portfoilo.fullstackbackend.Model.Todo;\r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n    import org.springframework.data.jpa.repository.Query;\r\n    import org.springframework.data.repository.query.Param;\r\n    import org.springframework.stereotype.Repository;\r\n\r\n    import java.util.List;\r\n\r\n    @Repository\r\n    public interface TodoRepository extends JpaRepository&lt;Todo, Integer&gt; {\r\n    @Query(value = &quot;SELECT * FROM todos a INNER JOIN users b ON a.user_id = b.id&quot; \r\n    ,nativeQuery = true)\r\n    List&lt;Todo&gt; find(@Param(&quot;id&quot;) Integer id);\r\n    }\r\n\r\n\r\n----------\r\nHome.html\r\n\r\n    &lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot; xmlns=&quot;http://www.w3.org/1999/html&quot;&gt;\r\n    &lt;head&gt;\r\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n    &lt;link th:href=&quot;@{/css/home.css}&quot; rel=&quot;stylesheet&quot;/&gt;\r\n    &lt;title&gt;Todo&lt;/title&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n    &lt;h1&gt;Todo Management&lt;/h1&gt;\r\n    &lt;h2&gt;Todo List&lt;/h2&gt;\r\n    &lt;div&gt;\r\n      &lt;tr th:each=&quot;list:${list}&quot;&gt;\r\n         &lt;td th:text=&quot;${list.title}&quot;&gt;\r\n      &lt;/tr&gt;\r\n    &lt;/div&gt;\r\n    &lt;form th:action=&quot;@{/logout}&quot; method=&quot;post&quot;&gt;\r\n      &lt;button class=&quot;logout-button&quot; type=&quot;submit&quot; value=&quot;logout&quot;&gt;logout&lt;/button&gt;\r\n    &lt;/form&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\n\r\n----------\r\n**What I want to ask**\r\n1. How can I get some todos tied up the user?\r\n2. Is sql query &#39;value = &quot;SELECT * FROM todos a INNER JOIN users b ON a.user_id = b.id&quot; \r\n   ,nativeQuery = true&#39; correct?\r\n\r\nI thought above query is may be wrong but I couldn&#39;t find something like correct answer.\r\n\r\nDoes anyone help?\r\nI would appreciate it if you could answer..!\r\nThanks.\r\n\r\n","title":"want to display some todos tied up with the user with spring boot","body":"<p>I'm new to learn spring boot.\nI'm creating todo app with spring boot now.</p>\n<p>I'd like to display some todos from mysql tied up with the user, but it shows all users todos.</p>\n<p>Below is DB.</p>\n<hr />\n<p>Users DB</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th style=\"text-align: left;\">Column</th>\n<th style=\"text-align: center;\">Datatype</th>\n<th style=\"text-align: right;\">Default</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align: left;\">id</td>\n<td style=\"text-align: center;\">INT</td>\n<td style=\"text-align: right;\"></td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">email</td>\n<td style=\"text-align: center;\">VARCHAR</td>\n<td style=\"text-align: right;\"></td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">password</td>\n<td style=\"text-align: center;\">VARCHAR</td>\n<td style=\"text-align: right;\"></td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">description</td>\n<td style=\"text-align: center;\">VARCHAR</td>\n<td style=\"text-align: right;\">NULL</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">authority</td>\n<td style=\"text-align: center;\">VARCHAR</td>\n<td style=\"text-align: right;\">NULL</td>\n</tr>\n</tbody>\n</table>\n</div><hr />\n<p>Todos DB</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th style=\"text-align: left;\">Column</th>\n<th style=\"text-align: center;\">Datatype</th>\n<th style=\"text-align: right;\">Default</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align: left;\">id</td>\n<td style=\"text-align: center;\">INT</td>\n<td style=\"text-align: right;\"></td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">user_id</td>\n<td style=\"text-align: center;\">INT</td>\n<td style=\"text-align: right;\">-----:</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">title</td>\n<td style=\"text-align: center;\">VARCHAR</td>\n<td style=\"text-align: right;\">NULL</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">description</td>\n<td style=\"text-align: center;\">VARCHAR</td>\n<td style=\"text-align: right;\">NULL</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">due_date</td>\n<td style=\"text-align: center;\">DATE</td>\n<td style=\"text-align: right;\">NULL</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">priority</td>\n<td style=\"text-align: center;\">INT</td>\n<td style=\"text-align: right;\">NULL</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">is_completed</td>\n<td style=\"text-align: center;\">TINYINT</td>\n<td style=\"text-align: right;\">'0'</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">created_at</td>\n<td style=\"text-align: center;\">TIMESTAMP</td>\n<td style=\"text-align: right;\">CURRENT_TIMESTAMP</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">updated_at</td>\n<td style=\"text-align: center;\">TIMESTAMP</td>\n<td style=\"text-align: right;\">CURRENT_TIMESTAMP</td>\n</tr>\n</tbody>\n</table>\n</div><hr />\n<p>build.gradle</p>\n<pre><code>plugins {\nid 'org.springframework.boot' version '2.7.5'\nid 'io.spring.dependency-management' version '1.0.15.RELEASE'\nid 'java'\n}\n\ngroup = 'com.portfoilo'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = '17'\n\nconfigurations {\n  compileOnly {\n    extendsFrom annotationProcessor\n   }\n}\n\nrepositories {\n   mavenCentral()\n}\n\ndependencies {\n  implementation 'org.jetbrains:annotations:20.1.0'\n  implementation 'org.jetbrains:annotations:20.1.0'\n    dependencies {\n      implementation 'org.springframework.boot:spring-boot-starter-data-jdbc'\n      implementation 'org.springframework.boot:spring-boot-starter-jdbc'\n      implementation 'org.springframework.boot:spring-boot-starter-security'\n      implementation 'org.springframework.boot:spring-boot-starter-thymeleaf'\n      implementation 'org.springframework.boot:spring-boot-starter-web'\n      implementation 'org.springframework.boot:spring-boot-starter-validation'\n      implementation 'org.mybatis.spring.boot:mybatis-spring-boot-starter:2.2.2'\n      implementation 'org.thymeleaf.extras:thymeleaf-extras-springsecurity5'\n      implementation 'org.springframework.boot:spring-boot-starter-data-jpa'\n      compileOnly 'org.projectlombok:lombok'\n      developmentOnly 'org.springframework.boot:spring-boot-devtools'\n      runtimeOnly 'com.mysql:mysql-connector-j'\n      annotationProcessor 'org.projectlombok:lombok'\n      testImplementation 'org.springframework.boot:spring-boot-starter-test'\n      testImplementation 'org.springframework.security:spring-security-test'\n\n    }\n}\n\ntasks.named('test') {\n  useJUnitPlatform()\n}\n</code></pre>\n<hr />\n<p>TodoController</p>\n<pre><code>package com.portfoilo.fullstackbackend.Controller;\n\nimport com.portfoilo.fullstackbackend.Model.Todo;\nimport com.portfoilo.fullstackbackend.Repository.TodoRepository;\nimport com.portfoilo.fullstackbackend.Service.TodoService;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport java.util.List;\n\n@Controller\npublic class TodoController {\n\n@Autowired\nTodoRepository todoRepository;\n\n@Autowired\nTodoService todoService;\n\n@GetMapping(&quot;/todo/{id}&quot;)\npublic String home(@PathVariable(&quot;id&quot;)Integer id, Model model) {\n    List&lt;Todo&gt; list = todoRepository.find(id);\n    model.addAttribute(&quot;list&quot;, list);\n    return &quot;home&quot;;\n }\n}\n</code></pre>\n<hr />\n<p>UserController</p>\n<pre><code>package com.portfoilo.fullstackbackend.Controller;\n\nimport com.portfoilo.fullstackbackend.Service.UserRegistrationService;\nimport com.portfoilo.fullstackbackend.SignupForm;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Lazy;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.validation.BindingResult;\nimport org.springframework.validation.annotation.Validated;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.ModelAttribute;\nimport org.springframework.web.bind.annotation.PostMapping;\n\n@Controller\npublic class UserController {\n@Autowired\n@Lazy\nprivate UserRegistrationService userRegistrationService;\n\n@GetMapping(&quot;/&quot;)\npublic String showTop() {\n    return &quot;index&quot;;\n}\n\n@GetMapping(&quot;/login&quot;)\npublic String showLoginPage() {\n    return &quot;login&quot;;\n}\n\n@GetMapping(&quot;/signup&quot;)\npublic String showUserRegistration(@ModelAttribute(&quot;signupForm&quot;) SignupForm \n  signupForm) {\n    return &quot;signup&quot;;\n}\n\n@PostMapping(&quot;/signup&quot;)\npublic String userRegistration(@Validated @ModelAttribute(&quot;signupForm&quot;) SignupForm \n  signupForm, BindingResult result) {\n    if(result.hasErrors()) {\n        return &quot;signup&quot;;\n    }\n    userRegistrationService.userRegistration(signupForm.getEmail(), \n    signupForm.getPassword());\n    return &quot;redirect:/login&quot;;\n  }\n}\n</code></pre>\n<hr />\n<p>Todo.java</p>\n<pre><code>package com.portfoilo.fullstackbackend.Model;\n\nimport com.portfoilo.fullstackbackend.SignupForm;\nimport lombok.Data;\n\nimport javax.persistence.*;\nimport javax.validation.constraints.NotBlank;\nimport javax.validation.constraints.NotNull;\nimport java.util.Date;\n\n@Entity\n@Data\n@Table(name = &quot;todos&quot;)\npublic class Todo {\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\nprivate Integer id;\n\n@Column(name = &quot;user_id&quot;)\nprivate Integer user_id;\n\n@NotNull\n@NotBlank\n@Column(name = &quot;title&quot;)\nprivate String title;\n\n@NotNull\n@NotBlank\n@Column(name = &quot;description&quot;)\nprivate String description;\n\n@Column(name = &quot;due_date&quot;)\nprivate Date due_date;\n\n@Column(name = &quot;priority&quot;)\nprivate Integer priority;\n\n@ManyToOne\n@JoinColumn(name = &quot;user_id&quot; ,insertable = false, updatable = false)\nprivate User user;\n}\n</code></pre>\n<hr />\n<p>User.java</p>\n<pre><code>package com.portfoilo.fullstackbackend.Model;\n\nimport javax.persistence.*;\nimport java.util.List;\n\n@Entity\n@Table(name = &quot;users&quot;)\npublic class User {\n@Id\n@Column(name = &quot;id&quot;)\n@GeneratedValue(strategy = GenerationType.IDENTITY)\nprivate Integer id;\n\n@Column(name = &quot;email&quot;)\nprivate String email;\n@Column(name = &quot;password&quot;)\nprivate String password;\n\n@Column(name = &quot;authority&quot;)\nprivate String authority;\n\n@OneToMany(mappedBy = &quot;user&quot;)\nprivate List&lt;Todo&gt; todos;\n\npublic User(String email, String password, String authority) {\n    this.email = email;\n    this.password = password;\n    this.authority = authority;\n}\n\npublic User() {\n\n}\n\npublic Integer getId() {\n    return id;\n}\n\npublic void setId(Integer id) {\n    this.id = id;\n}\n\npublic String getEmail() {\n    return email;\n}\n\npublic void setEmail(String email) {\n    this.email = email;\n}\n\npublic String getPassword() {\n    return password;\n}\n\npublic void setPassword(String password) {\n    this.password = password;\n}\n\npublic String getAuthority() {\n    return authority;\n}\n\npublic void setAuthority(String authority) {\n    this.authority = authority;\n}\n\npublic List&lt;Todo&gt; getTodos() {\n    return todos;\n}\n\npublic void setTodos(List&lt;Todo&gt; todos) {\n    this.todos = todos;\n}\n}\n</code></pre>\n<hr />\n<p>TodoRepository.java</p>\n<pre><code>package com.portfoilo.fullstackbackend.Repository;\n\nimport com.portfoilo.fullstackbackend.Model.Todo;\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.data.jpa.repository.Query;\nimport org.springframework.data.repository.query.Param;\nimport org.springframework.stereotype.Repository;\n\nimport java.util.List;\n\n@Repository\npublic interface TodoRepository extends JpaRepository&lt;Todo, Integer&gt; {\n@Query(value = &quot;SELECT * FROM todos a INNER JOIN users b ON a.user_id = b.id&quot; \n,nativeQuery = true)\nList&lt;Todo&gt; find(@Param(&quot;id&quot;) Integer id);\n}\n</code></pre>\n<hr />\n<p>Home.html</p>\n<pre><code>&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot; xmlns=&quot;http://www.w3.org/1999/html&quot;&gt;\n&lt;head&gt;\n&lt;meta charset=&quot;UTF-8&quot;&gt;\n&lt;link th:href=&quot;@{/css/home.css}&quot; rel=&quot;stylesheet&quot;/&gt;\n&lt;title&gt;Todo&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;h1&gt;Todo Management&lt;/h1&gt;\n&lt;h2&gt;Todo List&lt;/h2&gt;\n&lt;div&gt;\n  &lt;tr th:each=&quot;list:${list}&quot;&gt;\n     &lt;td th:text=&quot;${list.title}&quot;&gt;\n  &lt;/tr&gt;\n&lt;/div&gt;\n&lt;form th:action=&quot;@{/logout}&quot; method=&quot;post&quot;&gt;\n  &lt;button class=&quot;logout-button&quot; type=&quot;submit&quot; value=&quot;logout&quot;&gt;logout&lt;/button&gt;\n&lt;/form&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<hr />\n<p><strong>What I want to ask</strong></p>\n<ol>\n<li>How can I get some todos tied up the user?</li>\n<li>Is sql query 'value = &quot;SELECT * FROM todos a INNER JOIN users b ON a.user_id = b.id&quot;\n,nativeQuery = true' correct?</li>\n</ol>\n<p>I thought above query is may be wrong but I couldn't find something like correct answer.</p>\n<p>Does anyone help?\nI would appreciate it if you could answer..!\nThanks.</p>\n"},{"tags":["java","graph"],"comments":[{"owner":{"account_id":5823420,"reputation":785,"user_id":6656833,"display_name":"Pavel"},"score":0,"creation_date":1673847124,"post_id":75130479,"comment_id":132580659,"body_markdown":"what exactly means that you cannot get your code to run? what error are you getting?","body":"what exactly means that you cannot get your code to run? what error are you getting?"},{"owner":{"account_id":22775262,"reputation":1,"user_id":16932034,"display_name":"Thisbe"},"score":0,"creation_date":1673851141,"post_id":75130479,"comment_id":132581265,"body_markdown":"An error occurred:\nDSGraph.java:407: error: reached end of file while parsing\n    }\n     ^\n1 error","body":"An error occurred: DSGraph.java:407: error: reached end of file while parsing     }      ^ 1 error"},{"owner":{"account_id":5823420,"reputation":785,"user_id":6656833,"display_name":"Pavel"},"score":0,"creation_date":1673857125,"post_id":75130479,"comment_id":132582557,"body_markdown":"where is `DSGraph` coming from? I suppose it&#39;s some library. What is your input file that it fails to parse?","body":"where is <code>DSGraph</code> coming from? I suppose it&#39;s some library. What is your input file that it fails to parse?"},{"owner":{"account_id":22775262,"reputation":1,"user_id":16932034,"display_name":"Thisbe"},"score":0,"creation_date":1673858718,"post_id":75130479,"comment_id":132582969,"body_markdown":"DSGraph is the name of the file Im coding on, and the inout file is the grader the assignment is using, if works with all other problems besides this.","body":"DSGraph is the name of the file Im coding on, and the inout file is the grader the assignment is using, if works with all other problems besides this."},{"owner":{"account_id":5823420,"reputation":785,"user_id":6656833,"display_name":"Pavel"},"score":0,"creation_date":1673873242,"post_id":75130479,"comment_id":132587459,"body_markdown":"so I assume that you have a problem somewhere outside the code you shared. `DSHashMap` is also your implementation of a `HashMap`?","body":"so I assume that you have a problem somewhere outside the code you shared. <code>DSHashMap</code> is also your implementation of a <code>HashMap</code>?"}],"owner":{"account_id":22775262,"reputation":1,"user_id":16932034,"display_name":"Thisbe"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673846670,"creation_date":1673846670,"question_id":75130479,"body_markdown":"I feel like I&#39;ve tried a million things and I cannot get my code to run, this is for a rather introductory java class. I am trying to find the distance between two vertices within my graph, which correlates to a DSHashmap, which only takes Strings. Any help would be super appreciated! \r\n\r\n```java\r\n\r\n            /**\r\n     * Find the distance between two vertices in this graph\r\n     * \r\n     * The distance between two vertices is the number of edges\r\n     * in a shortest path from one vertex to the other vertex.\r\n     * \r\n     * @param v The first vertex\r\n     * @param w The second vertex\r\n     * @return the distance between v and w\r\n     */\r\n    public int distance(String v, String w){\r\n        DSHashMap&lt;String&gt; parent = new DSHashMap&lt;&gt;();\r\n        DSHashMap&lt;String&gt; visited = new DSHashMap&lt;&gt;();\r\n        LinkedList&lt;String&gt; q = new LinkedList&lt;&gt;();\r\n        int length = 0;\r\n\r\n        q.clear();\r\n        q.add(start);\r\n        visited.put(v, &quot;&quot;);\r\n        \r\n        while (!q.isEmpty()){\r\n            String firstofQ = q.removeFirst();\r\n            for (String nbr : graph.get(firstofQ)){\r\n                if (visited.containsKey(nbr)){\r\n                continue;\r\n            }\r\n            q.add(nbr);\r\n            visited.put(nbr, &quot;&quot;);\r\n            parent.put(nbr, firstofQ);\r\n        }\r\n        }\r\n    if (parent.size()== 0){\r\n        return 0;\r\n    }\r\n```\r\n\r\nI tried going through the hashmap using a breadth first search, and adding whenever the current vertice wasn&#39;t the parent or visited. ","title":"Finding distance between two vertices in Graph?","body":"<p>I feel like I've tried a million things and I cannot get my code to run, this is for a rather introductory java class. I am trying to find the distance between two vertices within my graph, which correlates to a DSHashmap, which only takes Strings. Any help would be super appreciated!</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n            /**\n     * Find the distance between two vertices in this graph\n     * \n     * The distance between two vertices is the number of edges\n     * in a shortest path from one vertex to the other vertex.\n     * \n     * @param v The first vertex\n     * @param w The second vertex\n     * @return the distance between v and w\n     */\n    public int distance(String v, String w){\n        DSHashMap&lt;String&gt; parent = new DSHashMap&lt;&gt;();\n        DSHashMap&lt;String&gt; visited = new DSHashMap&lt;&gt;();\n        LinkedList&lt;String&gt; q = new LinkedList&lt;&gt;();\n        int length = 0;\n\n        q.clear();\n        q.add(start);\n        visited.put(v, &quot;&quot;);\n        \n        while (!q.isEmpty()){\n            String firstofQ = q.removeFirst();\n            for (String nbr : graph.get(firstofQ)){\n                if (visited.containsKey(nbr)){\n                continue;\n            }\n            q.add(nbr);\n            visited.put(nbr, &quot;&quot;);\n            parent.put(nbr, firstofQ);\n        }\n        }\n    if (parent.size()== 0){\n        return 0;\n    }\n</code></pre>\n<p>I tried going through the hashmap using a breadth first search, and adding whenever the current vertice wasn't the parent or visited.</p>\n"},{"tags":["java","apache-james"],"owner":{"account_id":4226233,"reputation":119,"user_id":3459701,"display_name":"Iziksh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":164,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673846571,"creation_date":1673813199,"question_id":75128051,"body_markdown":"I used the command: &quot;docker run -p &quot;25:25&quot; -p &quot;143:143&quot; apache/james:demo-3.7.3&quot;\r\nto create the James server and the server is UP.\r\n```\r\n08:45:58.837 [INFO ] o.a.j.w.WebAdminServer - Web admin set up to enable CORS from * 08:45:58.979 [INFO ] o.a.j.w.WebAdminServer - Web admin server started \r\n08:45:59.112 [INFO ] o.a.j.m.s.JMXServer - JMX server started \r\n08:45:59.134 [INFO ] o.a.j.GuiceJamesServer - **JAMES server started** AddDomain command executed sucessfully in 360 ms. AddUser command executed sucessfully in 489 ms. AddUser command executed sucessfully in 357 ms. AddUser command executed sucessfully in 325 ms.\r\n```\r\n\r\nAnd I tried to connect like this.\r\n``` InputStreamReader inputStreamReader = new InputStreamReader(System.in);\r\n            BufferedReader reader = new BufferedReader(inputStreamReader);\r\n            Properties props = new Properties();\r\n            MailSSLSocketFactory sf = new MailSSLSocketFactory();\r\n            sf.setTrustAllHosts(true);\r\n            props.setProperty(&quot;mail.store.protocol&quot;, &quot;imap&quot;);\r\n            props.setProperty(&quot;mail.imap.port&quot;, &quot;143&quot;);           \r\n            Session session = Session.getDefaultInstance(props, null);\r\n            Store store = session.getStore(&quot;imap&quot;);\r\n            store.connect( &quot;localhost&quot;,&quot;user01@james.local&quot;, &quot;1234&quot;);\r\n```\r\n\r\nbut received the error:\r\n```\r\njavax.mail.MessagingException: No login methods supported!;\r\n  nested exception is:\r\n\tcom.sun.mail.iap.ProtocolException: No login methods supported!\r\n```\r\n\r\nDoes anyone know about this error or how I can connect?\r\n\r\n\r\n\r\n","title":"How I can connect to James server to read the email messages","body":"<p>I used the command: &quot;docker run -p &quot;25:25&quot; -p &quot;143:143&quot; apache/james:demo-3.7.3&quot;\nto create the James server and the server is UP.</p>\n<pre><code>08:45:58.837 [INFO ] o.a.j.w.WebAdminServer - Web admin set up to enable CORS from * 08:45:58.979 [INFO ] o.a.j.w.WebAdminServer - Web admin server started \n08:45:59.112 [INFO ] o.a.j.m.s.JMXServer - JMX server started \n08:45:59.134 [INFO ] o.a.j.GuiceJamesServer - **JAMES server started** AddDomain command executed sucessfully in 360 ms. AddUser command executed sucessfully in 489 ms. AddUser command executed sucessfully in 357 ms. AddUser command executed sucessfully in 325 ms.\n</code></pre>\n<p>And I tried to connect like this.</p>\n<pre><code>            BufferedReader reader = new BufferedReader(inputStreamReader);\n            Properties props = new Properties();\n            MailSSLSocketFactory sf = new MailSSLSocketFactory();\n            sf.setTrustAllHosts(true);\n            props.setProperty(&quot;mail.store.protocol&quot;, &quot;imap&quot;);\n            props.setProperty(&quot;mail.imap.port&quot;, &quot;143&quot;);           \n            Session session = Session.getDefaultInstance(props, null);\n            Store store = session.getStore(&quot;imap&quot;);\n            store.connect( &quot;localhost&quot;,&quot;user01@james.local&quot;, &quot;1234&quot;);\n</code></pre>\n<p>but received the error:</p>\n<pre><code>javax.mail.MessagingException: No login methods supported!;\n  nested exception is:\n    com.sun.mail.iap.ProtocolException: No login methods supported!\n</code></pre>\n<p>Does anyone know about this error or how I can connect?</p>\n"},{"tags":["java","swing","resize","jtable","fontmetrics"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1673842867,"post_id":75130126,"comment_id":132580191,"body_markdown":"You have to include margin pixels when calculating maximum `String` lengths.","body":"You have to include margin pixels when calculating maximum <code>String</code> lengths."},{"owner":{"account_id":19402070,"reputation":13,"user_id":14191842,"display_name":"Newbie Guest"},"score":0,"creation_date":1673843475,"post_id":75130126,"comment_id":132580238,"body_markdown":"is this documented in fontmetrics? or jtable docs? exactly how many pixels?","body":"is this documented in fontmetrics? or jtable docs? exactly how many pixels?"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1673843703,"post_id":75130126,"comment_id":132580260,"body_markdown":"I would also suggest that you should be making use of the cell renderers to make determinations about the &quot;preferred size&quot; of each cell","body":"I would also suggest that you should be making use of the cell renderers to make determinations about the &quot;preferred size&quot; of each cell"},{"owner":{"account_id":19402070,"reputation":13,"user_id":14191842,"display_name":"Newbie Guest"},"score":0,"creation_date":1673843861,"post_id":75130126,"comment_id":132580273,"body_markdown":"MadProgrammer, I want to rid my table of scrollbars if they are not required (based on column text values, not renderers as i mentioned in my question)","body":"MadProgrammer, I want to rid my table of scrollbars if they are not required (based on column text values, not renderers as i mentioned in my question)"},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1673843943,"post_id":75130126,"comment_id":132580282,"body_markdown":"I&#39;d start with 4 margin pixels and experiment.  You want to be able to see the text in between the `JTable` lines.","body":"I&#39;d start with 4 margin pixels and experiment.  You want to be able to see the text in between the <code>JTable</code> lines."},{"owner":{"account_id":19402070,"reputation":13,"user_id":14191842,"display_name":"Newbie Guest"},"score":0,"creation_date":1673844192,"post_id":75130126,"comment_id":132580304,"body_markdown":"Thank you Gilbert, I guess there is no way to get the exact pixel perfect solution which I was hoping...I will just add an extra &quot;W&quot; to both the HEADER and COLUMN value before performing my calculation","body":"Thank you Gilbert, I guess there is no way to get the exact pixel perfect solution which I was hoping...I will just add an extra &quot;W&quot; to both the HEADER and COLUMN value before performing my calculation"},{"owner":{"account_id":19402070,"reputation":13,"user_id":14191842,"display_name":"Newbie Guest"},"score":0,"creation_date":1673844535,"post_id":75130126,"comment_id":132580334,"body_markdown":"@GilbertLeBlanc can I accept your answer? How do I do that?","body":"@GilbertLeBlanc can I accept your answer? How do I do that?"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1673845291,"post_id":75130126,"comment_id":132580426,"body_markdown":"@NewbieGuest You&#39;ll want to look at the `TableColumnModel` and the `getColumnMargin` in particular","body":"@NewbieGuest You&#39;ll want to look at the <code>TableColumnModel</code> and the <code>getColumnMargin</code> in particular"},{"owner":{"account_id":19402070,"reputation":13,"user_id":14191842,"display_name":"Newbie Guest"},"score":0,"creation_date":1673845998,"post_id":75130126,"comment_id":132580506,"body_markdown":"Thank you MadProgrammer, unfortunately, it is insufficient to remove elipsis :( ... it only added 1 pixel","body":"Thank you MadProgrammer, unfortunately, it is insufficient to remove elipsis :( ... it only added 1 pixel"},{"owner":{"account_id":19402070,"reputation":13,"user_id":14191842,"display_name":"Newbie Guest"},"score":0,"creation_date":1674108460,"post_id":75130126,"comment_id":132645478,"body_markdown":"which names are you referring to?","body":"which names are you referring to?"}],"answers":[{"tags":[],"owner":{"account_id":19402070,"reputation":13,"user_id":14191842,"display_name":"Newbie Guest"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673846478,"creation_date":1673846478,"answer_id":75130462,"question_id":75130126,"body_markdown":"The best I can do is to take margin from TableModel and multiply by 3. Thank you to MadProgrammer and Gilbert for your guidance. This seems to be pixel perfect ... \r\n\r\n\r\n\tpublic static final void resizeColumnWidth(JTable table) {\r\n \t\tfinal TableColumnModel columnModel = table.getColumnModel();\r\n \t\tint margin = columnModel.getColumnMargin() * 3;\r\n \t\t\r\n \t\t\r\n \t\tSystem.out.println(margin);\r\n \t\t\r\n\t\tFontMetrics fontMetrics = table.getFontMetrics(table.getFont());\r\n\r\n\t\tfor (int column = 0; column &lt; table.getColumnCount(); column++) {\r\n\t\t\tString headerValue = columnModel.getColumn(column).getHeaderValue().toString();\r\n\t\t\tint headerWidth = fontMetrics.stringWidth(headerValue) + margin;\r\n\t\t\tint width = headerWidth;\r\n\r\n\t\t\tfor (int row = 0; row &lt; table.getRowCount(); row++) {\r\n\t\t\t\tString columnValue = table.getModel().getValueAt(row, column).toString();\r\n\t\t\t\tint columnValueWidth = fontMetrics.stringWidth(columnValue) + margin;\r\n\t\t\t\twidth = Math.max(width, Math.max(headerWidth, columnValueWidth));\r\n\t\t\t}\r\n\t\t\tcolumnModel.getColumn(column).setPreferredWidth(width);\r\n\t\t}\r\n\r\n \t\tint parentWidth = table.getParent().getSize().width;\r\n\t\tint tableWidth = table.getPreferredSize().width;\r\n\t\t\r\n\t\tif(parentWidth &gt; tableWidth) {\r\n\t\t\tint diff = parentWidth - tableWidth;\r\n\t\t\tint newWidth = columnModel.getColumn(3).getPreferredWidth() + diff;\r\n\t\t\tcolumnModel.getColumn(3).setPreferredWidth(newWidth);\r\n\t\t}\t\t\t\r\n \t}\r\n","title":"Resize JTable to fit contents does not work precisely, resulting in elipses","body":"<p>The best I can do is to take margin from TableModel and multiply by 3. Thank you to MadProgrammer and Gilbert for your guidance. This seems to be pixel perfect ...</p>\n<pre><code>public static final void resizeColumnWidth(JTable table) {\n    final TableColumnModel columnModel = table.getColumnModel();\n    int margin = columnModel.getColumnMargin() * 3;\n    \n    \n    System.out.println(margin);\n    \n    FontMetrics fontMetrics = table.getFontMetrics(table.getFont());\n\n    for (int column = 0; column &lt; table.getColumnCount(); column++) {\n        String headerValue = columnModel.getColumn(column).getHeaderValue().toString();\n        int headerWidth = fontMetrics.stringWidth(headerValue) + margin;\n        int width = headerWidth;\n\n        for (int row = 0; row &lt; table.getRowCount(); row++) {\n            String columnValue = table.getModel().getValueAt(row, column).toString();\n            int columnValueWidth = fontMetrics.stringWidth(columnValue) + margin;\n            width = Math.max(width, Math.max(headerWidth, columnValueWidth));\n        }\n        columnModel.getColumn(column).setPreferredWidth(width);\n    }\n\n    int parentWidth = table.getParent().getSize().width;\n    int tableWidth = table.getPreferredSize().width;\n    \n    if(parentWidth &gt; tableWidth) {\n        int diff = parentWidth - tableWidth;\n        int newWidth = columnModel.getColumn(3).getPreferredWidth() + diff;\n        columnModel.getColumn(3).setPreferredWidth(newWidth);\n    }           \n}\n</code></pre>\n"}],"owner":{"account_id":19402070,"reputation":13,"user_id":14191842,"display_name":"Newbie Guest"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75130462,"answer_count":1,"score":0,"last_activity_date":1673846478,"creation_date":1673841466,"question_id":75130126,"body_markdown":"I want to perfectly resize a JTable to fit its model contents based on either the column header label, OR the row containing the longest String for the same column (whichever is greatest). I don&#39;t want to use the renderer to determine these sizes as I want to dynamically economize as much screen real-estate as possible based on the text values.\r\n\r\nNow if the user resizes the frame LARGER than the contents of the table, then the extra space is given to the last column. \r\n\r\nThis is a very specific table that should not be reordered. No header column resizing allowed either. \r\n\r\nThe code I have does all this (almost). For some reason, the table shows ... (elipses) near the end of every single column even though I know FontMetrics suggests I have the correct text length to perfectly fit. \r\n\r\nIs this a bug with Java Swing? How to get around this in an elegant manner?\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Dimension;\r\n    import java.awt.FontMetrics;\r\n    import java.awt.event.ComponentAdapter;\r\n    import java.awt.event.ComponentEvent;\r\n    import java.util.Vector;\r\n    \r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JScrollPane;\r\n    import javax.swing.JTable;\r\n    import javax.swing.JTextArea;\r\n    import javax.swing.table.DefaultTableModel;\r\n    import javax.swing.table.TableColumnModel;\r\n    \r\n    public class Scrollable_Table_Example extends JFrame {\r\n    \r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \r\n    \tprivate JPanel _panel;\r\n    \r\n    \tprivate JTextArea _text;\r\n    \tprivate JTable _table;\r\n    \tprivate DefaultTableModel _model;\r\n    \tprivate JScrollPane _scroll;\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tScrollable_Table_Example app = new Scrollable_Table_Example();\r\n    \t\tapp.setVisible(true);\r\n    \t}   \r\n    \r\n    \tpublic Scrollable_Table_Example() {\r\n    \t\t_panel = new JPanel(new BorderLayout());\r\n    \t\tsetPreferredSize(new Dimension(300, 500));\r\n     \r\n    \t\t_text = new JTextArea(300, 300);\r\n    \t\t_text.setEditable(false);\r\n    \r\n    \t\tJScrollPane areaScrollPane = new JScrollPane(_text);\r\n    \t\tareaScrollPane.setPreferredSize(new Dimension(250, 250));\r\n    \r\n    \t\tareaScrollPane.setHorizontalScrollBarPolicy(\r\n    \t\t\t\tJScrollPane.HORIZONTAL_SCROLLBAR_AS_NEEDED);\r\n    \t\tareaScrollPane.setVerticalScrollBarPolicy(\r\n    \t\t\t\tJScrollPane.VERTICAL_SCROLLBAR_AS_NEEDED);\r\n    \r\n    \t\tareaScrollPane.add(_text);\r\n    \t\t_panel.add(areaScrollPane, BorderLayout.NORTH);\r\n    \r\n    \t\t_model = new DefaultTableModel();\r\n    \t\t_model.addColumn(&quot;Type&quot;);\r\n    \t\t_model.addColumn(&quot;Schema&quot;);\r\n    \t\t_model.addColumn(&quot;Module Name&quot;);\r\n    \t\t_model.addColumn(&quot;Path&quot;);\r\n    \r\n    \t\t_table = new JTable();\r\n    \t\t_table.setAutoResizeMode( JTable.AUTO_RESIZE_OFF );\r\n    \t\t_table.getTableHeader().setResizingAllowed(false);\r\n    \t\t_table.getTableHeader().setReorderingAllowed(false);\r\n    \t\t_table.setModel(_model);\r\n    \r\n    \t\taddComponentListener(new ComponentAdapter() {\r\n    \t\t\tpublic void componentResized(ComponentEvent e) {\r\n    \t\t\t\tresizeColumnWidth(_table);\r\n    \t\t\t}\r\n    \t\t});\r\n     \r\n    \t\tfor(int i = 0; i &lt; 20; i++) {\r\n    \t\t\tVector&lt;String&gt; r  = new Vector&lt;String&gt;();\r\n    \t\t\tr.addElement(&quot;TABLE&quot;);\r\n    \t\t\tr.addElement(&quot;dbo&quot;);\r\n    \t\t\tr.addElement(&quot;Policy&quot;);\r\n    \t\t\tr.addElement(&quot;OBJECTS -&gt; INSURANCE -&gt; Policy&quot;);\r\n    \t\t\t_model.addRow(r);\r\n    \t\t}\r\n    \r\n    \t\t_scroll = new JScrollPane(_table);\r\n    \t\t_panel.add(_scroll, BorderLayout.CENTER);\r\n    \t\tadd(_panel);\r\n    \t\tpack();\r\n    \t\tsetDefaultCloseOperation(DISPOSE_ON_CLOSE);\r\n    \t\tsetLocationRelativeTo(null);\r\n    \t}\t\r\n    \r\n    \tpublic static void resizeColumnWidth(JTable table) {\r\n     \t\tfinal TableColumnModel columnModel = table.getColumnModel();\r\n    \t\tFontMetrics fontMetrics = table.getFontMetrics(table.getFont());\r\n    \r\n    \t\tfor (int column = 0; column &lt; table.getColumnCount(); column++) {\r\n    \t\t\tString headerValue = columnModel.getColumn(column).getHeaderValue().toString();\r\n    \t\t\tint headerWidth = fontMetrics.stringWidth(headerValue);\r\n    \t\t\tint width = headerWidth;\r\n    \r\n    \t\t\tfor (int row = 0; row &lt; table.getRowCount(); row++) {\r\n    \t\t\t\tString columnValue = table.getModel().getValueAt(row, column).toString();\r\n    \t\t\t\tint columnValueWidth = fontMetrics.stringWidth(columnValue);\r\n    \t\t\t\twidth = Math.max(width, Math.max(headerWidth, columnValueWidth));\r\n    \t\t\t}\r\n    \t\t\tcolumnModel.getColumn(column).setPreferredWidth(width);\r\n    \t\t}\r\n    \r\n    \t\tint parentWidth = table.getParent().getSize().width;\r\n    \t\tint tableWidth = table.getPreferredSize().width;\r\n     \t\t\r\n    \t\tif(parentWidth &gt; tableWidth) {\r\n    \t\t\tint diff = parentWidth - tableWidth;\r\n    \t\t\tint newWidth = columnModel.getColumn(3).getPreferredWidth() + diff;\r\n    \t\t\tcolumnModel.getColumn(3).setPreferredWidth(newWidth);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n","title":"Resize JTable to fit contents does not work precisely, resulting in elipses","body":"<p>I want to perfectly resize a JTable to fit its model contents based on either the column header label, OR the row containing the longest String for the same column (whichever is greatest). I don't want to use the renderer to determine these sizes as I want to dynamically economize as much screen real-estate as possible based on the text values.</p>\n<p>Now if the user resizes the frame LARGER than the contents of the table, then the extra space is given to the last column.</p>\n<p>This is a very specific table that should not be reordered. No header column resizing allowed either.</p>\n<p>The code I have does all this (almost). For some reason, the table shows ... (elipses) near the end of every single column even though I know FontMetrics suggests I have the correct text length to perfectly fit.</p>\n<p>Is this a bug with Java Swing? How to get around this in an elegant manner?</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Dimension;\nimport java.awt.FontMetrics;\nimport java.awt.event.ComponentAdapter;\nimport java.awt.event.ComponentEvent;\nimport java.util.Vector;\n\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.JScrollPane;\nimport javax.swing.JTable;\nimport javax.swing.JTextArea;\nimport javax.swing.table.DefaultTableModel;\nimport javax.swing.table.TableColumnModel;\n\npublic class Scrollable_Table_Example extends JFrame {\n\n    private static final long serialVersionUID = 1L;\n\n    private JPanel _panel;\n\n    private JTextArea _text;\n    private JTable _table;\n    private DefaultTableModel _model;\n    private JScrollPane _scroll;\n\n    public static void main(String[] args) {\n        Scrollable_Table_Example app = new Scrollable_Table_Example();\n        app.setVisible(true);\n    }   \n\n    public Scrollable_Table_Example() {\n        _panel = new JPanel(new BorderLayout());\n        setPreferredSize(new Dimension(300, 500));\n \n        _text = new JTextArea(300, 300);\n        _text.setEditable(false);\n\n        JScrollPane areaScrollPane = new JScrollPane(_text);\n        areaScrollPane.setPreferredSize(new Dimension(250, 250));\n\n        areaScrollPane.setHorizontalScrollBarPolicy(\n                JScrollPane.HORIZONTAL_SCROLLBAR_AS_NEEDED);\n        areaScrollPane.setVerticalScrollBarPolicy(\n                JScrollPane.VERTICAL_SCROLLBAR_AS_NEEDED);\n\n        areaScrollPane.add(_text);\n        _panel.add(areaScrollPane, BorderLayout.NORTH);\n\n        _model = new DefaultTableModel();\n        _model.addColumn(&quot;Type&quot;);\n        _model.addColumn(&quot;Schema&quot;);\n        _model.addColumn(&quot;Module Name&quot;);\n        _model.addColumn(&quot;Path&quot;);\n\n        _table = new JTable();\n        _table.setAutoResizeMode( JTable.AUTO_RESIZE_OFF );\n        _table.getTableHeader().setResizingAllowed(false);\n        _table.getTableHeader().setReorderingAllowed(false);\n        _table.setModel(_model);\n\n        addComponentListener(new ComponentAdapter() {\n            public void componentResized(ComponentEvent e) {\n                resizeColumnWidth(_table);\n            }\n        });\n \n        for(int i = 0; i &lt; 20; i++) {\n            Vector&lt;String&gt; r  = new Vector&lt;String&gt;();\n            r.addElement(&quot;TABLE&quot;);\n            r.addElement(&quot;dbo&quot;);\n            r.addElement(&quot;Policy&quot;);\n            r.addElement(&quot;OBJECTS -&gt; INSURANCE -&gt; Policy&quot;);\n            _model.addRow(r);\n        }\n\n        _scroll = new JScrollPane(_table);\n        _panel.add(_scroll, BorderLayout.CENTER);\n        add(_panel);\n        pack();\n        setDefaultCloseOperation(DISPOSE_ON_CLOSE);\n        setLocationRelativeTo(null);\n    }   \n\n    public static void resizeColumnWidth(JTable table) {\n        final TableColumnModel columnModel = table.getColumnModel();\n        FontMetrics fontMetrics = table.getFontMetrics(table.getFont());\n\n        for (int column = 0; column &lt; table.getColumnCount(); column++) {\n            String headerValue = columnModel.getColumn(column).getHeaderValue().toString();\n            int headerWidth = fontMetrics.stringWidth(headerValue);\n            int width = headerWidth;\n\n            for (int row = 0; row &lt; table.getRowCount(); row++) {\n                String columnValue = table.getModel().getValueAt(row, column).toString();\n                int columnValueWidth = fontMetrics.stringWidth(columnValue);\n                width = Math.max(width, Math.max(headerWidth, columnValueWidth));\n            }\n            columnModel.getColumn(column).setPreferredWidth(width);\n        }\n\n        int parentWidth = table.getParent().getSize().width;\n        int tableWidth = table.getPreferredSize().width;\n        \n        if(parentWidth &gt; tableWidth) {\n            int diff = parentWidth - tableWidth;\n            int newWidth = columnModel.getColumn(3).getPreferredWidth() + diff;\n            columnModel.getColumn(3).setPreferredWidth(newWidth);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","regex","unicode","cjk"],"comments":[{"owner":{"account_id":1692258,"reputation":26916,"user_id":1554386,"accept_rate":71,"display_name":"Alastair McCormack"},"score":2,"creation_date":1459272825,"post_id":10894122,"comment_id":60207690,"body_markdown":"In Java 7, Unicode regex is supported with `UNICODE_CHARACTER_CLASS` flag or embeddable `(?U)`. See http://stackoverflow.com/questions/4304928/unicode-equivalents-for-w-and-b-in-java-regular-expressions","body":"In Java 7, Unicode regex is supported with <code>UNICODE_CHARACTER_CLASS</code> flag or embeddable <code>(?U)</code>. See <a href=\"http://stackoverflow.com/questions/4304928/unicode-equivalents-for-w-and-b-in-java-regular-expressions\" title=\"unicode equivalents for w and b in java regular expressions\">stackoverflow.com/questions/4304928/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":95151,"reputation":14008,"user_id":259310,"accept_rate":25,"display_name":"Kilian Foth"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1338886224,"creation_date":1338886224,"answer_id":10894226,"question_id":10894122,"body_markdown":"To match individual characters, you can simply include them in an a character class, either as literals or via the `\\u03FB` syntax.\r\n\r\nObviously you often cannot list all allowed characters in ideographic languages. To make the regex treat unicode characters according to their type or code block, various other escapes are supported that are defined [here][1]. Look at the section &quot;Unicode support&quot;, particularly the references to the `Character` class and to the Unicode Standard itself.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/util/regex/Pattern.html","title":"Java regex for support Unicode?","body":"<p>To match individual characters, you can simply include them in an a character class, either as literals or via the <code>\\u03FB</code> syntax.</p>\n\n<p>Obviously you often cannot list all allowed characters in ideographic languages. To make the regex treat unicode characters according to their type or code block, various other escapes are supported that are defined <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/regex/Pattern.html\">here</a>. Look at the section \"Unicode support\", particularly the references to the <code>Character</code> class and to the Unicode Standard itself.</p>\n"},{"tags":[],"owner":{"account_id":246,"reputation":107903,"user_id":304,"accept_rate":40,"display_name":"McDowell"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1338887998,"creation_date":1338887998,"answer_id":10894668,"question_id":10894122,"body_markdown":" - the Java regular expression API works on the `char` type\r\n - the `char` type is implicitly UTF-16\r\n - if you have UTF-8 data you will need to transcode it to UTF-16 on input if this is not already being done\r\n\r\nUnicode is the universal set of characters and UTF-8 can describe all of it (including control characters, punctuation, symbols, letters, etc.) You will have to be more specific about what you want to include and what you want to exclude. Java regular expressions uses the `\\p{category}` syntax to match codepoints by [category][1]. See the [Unicode standard][2] for the [list][3] of categories.\r\n\r\nIf you want to identify and separate words in a sequence of ideographs, you will need to look at a more sophisticated API. I would start with the [`BreakIterator`][4] type.\r\n\r\n\r\n  [1]: http://www.unicode.org/notes/tn36/\r\n  [2]: http://www.unicode.org/standard/standard.html\r\n  [3]: http://www.unicode.org/notes/tn36/Categories.txt\r\n  [4]: http://docs.oracle.com/javase/7/docs/api/java/text/BreakIterator.html#getWordInstance%28%29","title":"Java regex for support Unicode?","body":"<ul>\n<li>the Java regular expression API works on the <code>char</code> type</li>\n<li>the <code>char</code> type is implicitly UTF-16</li>\n<li>if you have UTF-8 data you will need to transcode it to UTF-16 on input if this is not already being done</li>\n</ul>\n\n<p>Unicode is the universal set of characters and UTF-8 can describe all of it (including control characters, punctuation, symbols, letters, etc.) You will have to be more specific about what you want to include and what you want to exclude. Java regular expressions uses the <code>\\p{category}</code> syntax to match codepoints by <a href=\"http://www.unicode.org/notes/tn36/\" rel=\"nofollow\">category</a>. See the <a href=\"http://www.unicode.org/standard/standard.html\" rel=\"nofollow\">Unicode standard</a> for the <a href=\"http://www.unicode.org/notes/tn36/Categories.txt\" rel=\"nofollow\">list</a> of categories.</p>\n\n<p>If you want to identify and separate words in a sequence of ideographs, you will need to look at a more sophisticated API. I would start with the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/text/BreakIterator.html#getWordInstance%28%29\" rel=\"nofollow\"><code>BreakIterator</code></a> type.</p>\n"},{"tags":[],"owner":{"account_id":312289,"reputation":90997,"user_id":626273,"accept_rate":92,"display_name":"stema"},"down_vote_count":1,"up_vote_count":144,"is_accepted":true,"score":143,"last_activity_date":1364470219,"creation_date":1338888068,"answer_id":10894689,"question_id":10894122,"body_markdown":"What you are looking for are Unicode properties.\r\n\r\ne.g. `\\p{L}` is any kind of letter from any language\r\n\r\nSo a regex to match such a Chinese word could be something like\r\n\r\n    \\p{L}+\r\n\r\nThere are many such properties, for more details see [regular-expressions.info][1]\r\n\r\nAnother option is to use the modifier\r\n\r\n`Pattern.UNICODE_CHARACTER_CLASS`\r\n\r\nIn Java 7 there is a new property `Pattern.UNICODE_CHARACTER_CLASS` that enables the Unicode version of the predefined character classes [see my answer here for some more details and links][2]\r\n\r\nYou could do something like this\r\n\r\n    Pattern p = Pattern.compile(&quot;\\\\w+&quot;, Pattern.UNICODE_CHARACTER_CLASS);\r\n\r\nand `\\w` would match all letters and all digits from any languages (and of course some word combining characters like `_`).\r\n\r\n  [1]: http://www.regular-expressions.info/unicode.html#prop\r\n  [2]: https://stackoverflow.com/a/9500409/626273","title":"Java regex for support Unicode?","body":"<p>What you are looking for are Unicode properties.</p>\n\n<p>e.g. <code>\\p{L}</code> is any kind of letter from any language</p>\n\n<p>So a regex to match such a Chinese word could be something like</p>\n\n<pre><code>\\p{L}+\n</code></pre>\n\n<p>There are many such properties, for more details see <a href=\"http://www.regular-expressions.info/unicode.html#prop\" rel=\"noreferrer\">regular-expressions.info</a></p>\n\n<p>Another option is to use the modifier</p>\n\n<p><code>Pattern.UNICODE_CHARACTER_CLASS</code></p>\n\n<p>In Java 7 there is a new property <code>Pattern.UNICODE_CHARACTER_CLASS</code> that enables the Unicode version of the predefined character classes <a href=\"https://stackoverflow.com/a/9500409/626273\">see my answer here for some more details and links</a></p>\n\n<p>You could do something like this</p>\n\n<pre><code>Pattern p = Pattern.compile(\"\\\\w+\", Pattern.UNICODE_CHARACTER_CLASS);\n</code></pre>\n\n<p>and <code>\\w</code> would match all letters and all digits from any languages (and of course some word combining characters like <code>_</code>).</p>\n"},{"tags":[],"owner":{"account_id":4070522,"reputation":5252,"user_id":3343801,"display_name":"Venkateswara Rao"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1436263453,"creation_date":1436263453,"answer_id":31265572,"question_id":10894122,"body_markdown":"To address NLS support and avoid accepting English special character, we can use below pattern...\r\n\r\n**[a-zA-Z0-9 \\\\u0080-\\\\u9fff]*+**\r\n\r\nFor UTF code point reference: http://www.utf8-chartable.de/unicode-utf8-table.pl\r\n\r\nCode snippet:\r\n\r\n\t\tString vowels = &quot;&quot;;\r\n\t\tString consonants = &quot;&quot;;\r\n\t\tString signsAndPunctuations = &quot;&quot;;\r\n\t\tString symbolsAndNumerals = &quot;&quot;;\r\n\t\tString engChinesStr = &quot;ABC&quot;;\r\n\r\n\r\n\t\tPattern ALPHANUMERIC_AND_SPACE_PATTERN_TELUGU = Pattern\r\n\t\t\t\t.compile(&quot;[a-zA-Z0-9 \\\\u0c00-\\\\u0c7f]*+&quot;);\r\n\t    System.out.println(ALPHANUMERIC_AND_SPACE_PATTERN_TELUGU.matcher(vowels)\r\n\t\t\t\t.matches());\r\n\r\n\r\n\t\tPattern ALPHANUMERIC_AND_SPACE_PATTERN_CHINESE = Pattern\r\n\t\t\t\t.compile(&quot;[a-zA-Z0-9 \\\\u4e00-\\\\u9fff]*+&quot;);\r\n\r\n\t\tPattern ENGLISH_ALPHANUMERIC_SPACE_AND_NLS_PATTERN = Pattern\r\n\t\t\t\t.compile(&quot;[a-zA-Z0-9 \\\\u0080-\\\\u9fff]*+&quot;);\r\n\r\n\t\tSystem.out.println(ENGLISH_ALPHANUMERIC_SPACE_AND_NLS_PATTERN.matcher(engChinesStr)\r\n\t\t\t\t.matches());","title":"Java regex for support Unicode?","body":"<p>To address NLS support and avoid accepting English special character, we can use below pattern...</p>\n\n<p><strong>[a-zA-Z0-9 \\u0080-\\u9fff]*+</strong></p>\n\n<p>For UTF code point reference: <a href=\"http://www.utf8-chartable.de/unicode-utf8-table.pl\" rel=\"noreferrer\">http://www.utf8-chartable.de/unicode-utf8-table.pl</a></p>\n\n<p>Code snippet:</p>\n\n<pre><code>    String vowels = \"\";\n    String consonants = \"\";\n    String signsAndPunctuations = \"\";\n    String symbolsAndNumerals = \"\";\n    String engChinesStr = \"ABC\";\n\n\n    Pattern ALPHANUMERIC_AND_SPACE_PATTERN_TELUGU = Pattern\n            .compile(\"[a-zA-Z0-9 \\\\u0c00-\\\\u0c7f]*+\");\n    System.out.println(ALPHANUMERIC_AND_SPACE_PATTERN_TELUGU.matcher(vowels)\n            .matches());\n\n\n    Pattern ALPHANUMERIC_AND_SPACE_PATTERN_CHINESE = Pattern\n            .compile(\"[a-zA-Z0-9 \\\\u4e00-\\\\u9fff]*+\");\n\n    Pattern ENGLISH_ALPHANUMERIC_SPACE_AND_NLS_PATTERN = Pattern\n            .compile(\"[a-zA-Z0-9 \\\\u0080-\\\\u9fff]*+\");\n\n    System.out.println(ENGLISH_ALPHANUMERIC_SPACE_AND_NLS_PATTERN.matcher(engChinesStr)\n            .matches());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4614611,"reputation":6295,"user_id":3741571,"accept_rate":2,"display_name":"chenzhongpu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673846440,"creation_date":1673846440,"answer_id":75130460,"question_id":10894122,"body_markdown":"Starting from Java 9, you can also use `\\X` to match any Unicode extended grapheme cluster. See more at [Java Doc: Pattern](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/Pattern.html).","title":"Java regex for support Unicode?","body":"<p>Starting from Java 9, you can also use <code>\\X</code> to match any Unicode extended grapheme cluster. See more at <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/Pattern.html\" rel=\"nofollow noreferrer\">Java Doc: Pattern</a>.</p>\n"}],"owner":{"account_id":38002,"reputation":35251,"user_id":108869,"accept_rate":83,"display_name":"cometta"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91430,"favorite_count":0,"down_vote_count":0,"up_vote_count":95,"accepted_answer_id":10894689,"answer_count":5,"score":95,"last_activity_date":1673846440,"creation_date":1338885769,"question_id":10894122,"body_markdown":"To match A to Z, we will use regex:\r\n\r\n&gt; [A-Za-z]\r\n\r\nHow to allow regex to match utf8 characters entered by user? For example Chinese words like ","title":"Java regex for support Unicode?","body":"<p>To match A to Z, we will use regex:</p>\n\n<blockquote>\n  <p>[A-Za-z]</p>\n</blockquote>\n\n<p>How to allow regex to match utf8 characters entered by user? For example Chinese words like </p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2049107,"reputation":1803,"user_id":1828486,"accept_rate":64,"display_name":"Mage Xy"},"score":2,"creation_date":1456769834,"post_id":35706438,"comment_id":59089864,"body_markdown":"Please do some research before asking a question in the future. A simple google search for &quot;rounding in java&quot; would have been more than sufficient.","body":"Please do some research before asking a question in the future. A simple google search for &quot;rounding in java&quot; would have been more than sufficient."}],"answers":[{"tags":[],"owner":{"account_id":7230662,"reputation":8299,"user_id":5517633,"display_name":"Abdelhak"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1456769323,"creation_date":1456769323,"answer_id":35706470,"question_id":35706438,"body_markdown":"Try to use  `Math.round`:\r\n       \r\n      int valueRound = (int) Math.round(value);","title":"I have a double value = 1.6 i want to round it up like 2.in java","body":"<p>Try to use  <code>Math.round</code>:</p>\n\n<pre><code>  int valueRound = (int) Math.round(value);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1036393,"reputation":5561,"user_id":1043569,"accept_rate":90,"display_name":"Atri"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1456769558,"creation_date":1456769558,"answer_id":35706541,"question_id":35706438,"body_markdown":"If you always want the ceil value, you could use [`Math.ceil`][1]:\r\n\r\n    int value = (int) Math.ceil(1.6);\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/lang/Math.html#ceil%28double%29","title":"I have a double value = 1.6 i want to round it up like 2.in java","body":"<p>If you always want the ceil value, you could use <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Math.html#ceil%28double%29\" rel=\"nofollow\"><code>Math.ceil</code></a>:</p>\n\n<pre><code>int value = (int) Math.ceil(1.6);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5624958,"reputation":3859,"user_id":4453678,"accept_rate":88,"display_name":"Matthias Wimmer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1456769593,"creation_date":1456769593,"answer_id":35706551,"question_id":35706438,"body_markdown":"The general way for rounding in Java is this one. You can configure the scale to which you round as well as when you want to round up and when you want to round down:\r\n\r\n    new BigDecimal(value).setScale(1.0, RoundingMode.HALF_UP).doubleValue();","title":"I have a double value = 1.6 i want to round it up like 2.in java","body":"<p>The general way for rounding in Java is this one. You can configure the scale to which you round as well as when you want to round up and when you want to round down:</p>\n\n<pre><code>new BigDecimal(value).setScale(1.0, RoundingMode.HALF_UP).doubleValue();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7286499,"reputation":23,"user_id":5554408,"display_name":"comjens"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673845693,"creation_date":1456770960,"answer_id":35706997,"question_id":35706438,"body_markdown":"Alternatively, if you want to round to the lowest decimal;\r\n\r\n    Math.floor(1.6)","title":"I have a double value = 1.6 i want to round it up like 2.in java","body":"<p>Alternatively, if you want to round to the lowest decimal;</p>\n<pre><code>Math.floor(1.6)\n</code></pre>\n"}],"owner":{"account_id":7463846,"reputation":71,"user_id":5674202,"accept_rate":67,"display_name":"Dani Amberseriya"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":358,"favorite_count":0,"down_vote_count":9,"up_vote_count":2,"closed_date":1456805754,"answer_count":4,"score":-7,"last_activity_date":1673845693,"creation_date":1456769220,"question_id":35706438,"body_markdown":"I have a double value = 1.6 i want to round it up like 2.in java\r\ncan some one Help me. \r\n","title":"I have a double value = 1.6 i want to round it up like 2.in java","body":"<p>I have a double value = 1.6 i want to round it up like 2.in java\ncan some one Help me. </p>\n"},{"tags":["java","spring-boot","google-app-engine","memory-leaks"],"comments":[{"owner":{"account_id":5823420,"reputation":785,"user_id":6656833,"display_name":"Pavel"},"score":1,"creation_date":1673846662,"post_id":75130349,"comment_id":132580589,"body_markdown":"`256` MiB might not be enough for a spring boot application, have you tried increasing the memory limit as suggested in the error message?","body":"<code>256</code> MiB might not be enough for a spring boot application, have you tried increasing the memory limit as suggested in the error message?"},{"owner":{"account_id":27505827,"reputation":3,"user_id":20988599,"display_name":"Angelica"},"score":0,"creation_date":1673889910,"post_id":75130349,"comment_id":132593228,"body_markdown":"I just tried F2 and that worked. Curious if there&#39;s any documentation you can recommend on spring boot&#39;s memory usage? I&#39;m new to spring boot and didn&#39;t expect very simple functionality to take that much memory.","body":"I just tried F2 and that worked. Curious if there&#39;s any documentation you can recommend on spring boot&#39;s memory usage? I&#39;m new to spring boot and didn&#39;t expect very simple functionality to take that much memory."},{"owner":{"account_id":5823420,"reputation":785,"user_id":6656833,"display_name":"Pavel"},"score":0,"creation_date":1674221984,"post_id":75130349,"comment_id":132673626,"body_markdown":"that depends on what dependencies your application have, we have spring boot apps that requires 1GB of RAM and some even 2GB","body":"that depends on what dependencies your application have, we have spring boot apps that requires 1GB of RAM and some even 2GB"}],"owner":{"account_id":27505827,"reputation":3,"user_id":20988599,"display_name":"Angelica"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673844781,"creation_date":1673844781,"question_id":75130349,"body_markdown":"I have a service build with Java &amp; Spring Boot, running on Google App Engine.\r\nOn basically every request, I started getting the same errors about the memory limit being reached, and a new process starting up.\r\n\r\nSometimes the request succeeds and sometimes it fails. But either way it takes a very long time.\r\n\r\n```\r\nExceeded soft memory limit of 256 MiB with 276 MiB after servicing 1 requests total. Consider setting a larger instance class in app.yaml.\r\n```\r\n\r\n```\r\nThis request caused a new process to be started for your application, and thus caused your application code to be loaded for the first time. This request may thus take longer and use more CPU than a typical request for your application.\r\n```\r\n\r\n```\r\nAfter handling this request, the process that handled this request was found to be using too much memory and was terminated. This is likely to cause a new process to be used for the next request to your application. If you see this message frequently, you may have a memory leak in your application or may be using an instance with insufficient memory. Consider setting a larger instance class in app.yaml.\r\n```\r\n\r\nThis seemed to start all of a sudden, and to try to isolate the issue, I literally removed all my code and I&#39;m just returning a 200 status from my server. Even with the barebones implementation of my controller, I get this memory issue. Wondering if there are ways to debug or something in my app engine that could be causing an issue?\r\n\r\nI don&#39;t think I need more memory for my service as this is happening on just a single request with no logic.","title":"New instance starting on ~every request for Google App Engine service","body":"<p>I have a service build with Java &amp; Spring Boot, running on Google App Engine.\nOn basically every request, I started getting the same errors about the memory limit being reached, and a new process starting up.</p>\n<p>Sometimes the request succeeds and sometimes it fails. But either way it takes a very long time.</p>\n<pre><code>Exceeded soft memory limit of 256 MiB with 276 MiB after servicing 1 requests total. Consider setting a larger instance class in app.yaml.\n</code></pre>\n<pre><code>This request caused a new process to be started for your application, and thus caused your application code to be loaded for the first time. This request may thus take longer and use more CPU than a typical request for your application.\n</code></pre>\n<pre><code>After handling this request, the process that handled this request was found to be using too much memory and was terminated. This is likely to cause a new process to be used for the next request to your application. If you see this message frequently, you may have a memory leak in your application or may be using an instance with insufficient memory. Consider setting a larger instance class in app.yaml.\n</code></pre>\n<p>This seemed to start all of a sudden, and to try to isolate the issue, I literally removed all my code and I'm just returning a 200 status from my server. Even with the barebones implementation of my controller, I get this memory issue. Wondering if there are ways to debug or something in my app engine that could be causing an issue?</p>\n<p>I don't think I need more memory for my service as this is happening on just a single request with no logic.</p>\n"},{"tags":["java","object","methods"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1673675037,"post_id":75116012,"comment_id":132556078,"body_markdown":"`setLetterGrades` has no return type. You need to show your complete source file -- the second error is caused by surrounding context (probably declaring the constructor inside another method)","body":"<code>setLetterGrades</code> has no return type. You need to show your complete source file -- the second error is caused by surrounding context (probably declaring the constructor inside another method)"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1673675357,"post_id":75116012,"comment_id":132556103,"body_markdown":"You have a few other errors, but the messages for those should be more self-explanatory.","body":"You have a few other errors, but the messages for those should be more self-explanatory."}],"answers":[{"tags":[],"owner":{"account_id":13542195,"reputation":139,"user_id":9769594,"display_name":"warmCabin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673844398,"creation_date":1673675122,"answer_id":75116058,"question_id":75116012,"body_markdown":"You forgot a return type for the method:\r\n```java\r\npublic static ArrayList&lt;String&gt; setLetterGrades(ArrayList&lt;Integer&gt; scores){\r\n```\r\nAnd you forgot the `new` keyword for the ArrayList constructor. This ain&#39;t Kotlin!\r\n```java\r\nArrayList&lt;Integer&gt; testScores = new ArrayList&lt;&gt;();\r\n```\r\nBut I think what you were trying to do is this:\r\n```java\r\nArrayList&lt;String&gt; testScores = setLetterGrades(scores);\r\n```\r\n\r\n","title":"Initializing Methods and Objects Correctly - Java","body":"<p>You forgot a return type for the method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static ArrayList&lt;String&gt; setLetterGrades(ArrayList&lt;Integer&gt; scores){\n</code></pre>\n<p>And you forgot the <code>new</code> keyword for the ArrayList constructor. This ain't Kotlin!</p>\n<pre class=\"lang-java prettyprint-override\"><code>ArrayList&lt;Integer&gt; testScores = new ArrayList&lt;&gt;();\n</code></pre>\n<p>But I think what you were trying to do is this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ArrayList&lt;String&gt; testScores = setLetterGrades(scores);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18682135,"reputation":24,"user_id":13618438,"display_name":"doldoldol21"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1673683366,"creation_date":1673682617,"answer_id":75116524,"question_id":75116012,"body_markdown":"```java\r\n// setLetterGrades Method\r\n// Specifies the return type ## public static ArrayList&lt;String&gt; ##\r\npublic static setLetterGrades(ArrayList&lt;Integer&gt; scores){ \r\n    // The grade variable is of type String, so we need a list of Strings.\r\n    ArrayList&lt;Integer&gt; grades = new ArrayList&lt;Integer&gt;();\r\n\r\n    for (int i = 0; i &lt; scores.size(); i++){\r\n        // Define the score variable\r\n        if (score &gt;= 90 &amp;&amp; score &lt; 101){\r\n            String grade = &quot;A&quot;;\r\n        }\r\n        else if (score &gt;= 80 &amp;&amp; score &lt; 90){\r\n            String grade = &quot;B&quot;;\r\n        }\r\n        else if (score &gt;= 70 &amp;&amp; score &lt; 80){\r\n        String grade = &quot;C&quot;;\r\n    }\r\n    else if (score &gt;= 60 &amp;&amp; score &lt; 70){\r\n        String grade = &quot;D&quot;;\r\n    }\r\n    else if(score &gt; 60 &amp;&amp; score &lt;= 0){\r\n         String grade = &quot;F&quot;;\r\n    }\r\n    else {\r\n        String grade = &quot;Invalid test score.&quot;;\r\n    }\r\n    // Here, when calling the grade variable, it is not initialized.\r\n    grades.add(grade);\r\n    }\r\n    return grades;\r\n}\r\n```\r\n\r\nmy answer\r\n\r\n```java\r\n// setLetterGrades Method\r\npublic static ArrayList&lt;String&gt; setLetterGrades(ArrayList&lt;Integer&gt; scores){ \r\n    ArrayList&lt;String&gt; grades = new ArrayList&lt;String&gt;();\r\n    String grade = &quot;&quot;;\r\n    for (int i = 0; i &lt; scores.size(); i++){\r\n        int score = scores.get(i);\r\n        if (score &gt;= 90 &amp;&amp; score &lt; 101){\r\n            grade = &quot;A&quot;;\r\n        }\r\n        else if (score &gt;= 80 &amp;&amp; score &lt; 90){\r\n            grade = &quot;B&quot;;\r\n        }\r\n        else if (score &gt;= 70 &amp;&amp; score &lt; 80){\r\n            grade = &quot;C&quot;;\r\n        }\r\n        else if (score &gt;= 60 &amp;&amp; score &lt; 70){\r\n            grade = &quot;D&quot;;\r\n        }\r\n        else if(score &gt; 60 &amp;&amp; score &lt;= 0){\r\n            grade = &quot;F&quot;;\r\n        }\r\n        else {\r\n            grade = &quot;Invalid test score.&quot;;\r\n        }\r\n        grades.add(grade);\r\n    }\r\n    return grades;\r\n}\r\n```\r\n\r\nand my opinion on the second\r\n```java\r\n// GradeBook Object\r\npublic GradeBook(ArrayList&lt;Integer&gt; scores, testName){\r\n    String test = testName;\r\n    ArrayList&lt;String&gt; grades = setLetterGrades(scores);\r\n}\r\n```\r\n","title":"Initializing Methods and Objects Correctly - Java","body":"<pre class=\"lang-java prettyprint-override\"><code>// setLetterGrades Method\n// Specifies the return type ## public static ArrayList&lt;String&gt; ##\npublic static setLetterGrades(ArrayList&lt;Integer&gt; scores){ \n    // The grade variable is of type String, so we need a list of Strings.\n    ArrayList&lt;Integer&gt; grades = new ArrayList&lt;Integer&gt;();\n\n    for (int i = 0; i &lt; scores.size(); i++){\n        // Define the score variable\n        if (score &gt;= 90 &amp;&amp; score &lt; 101){\n            String grade = &quot;A&quot;;\n        }\n        else if (score &gt;= 80 &amp;&amp; score &lt; 90){\n            String grade = &quot;B&quot;;\n        }\n        else if (score &gt;= 70 &amp;&amp; score &lt; 80){\n        String grade = &quot;C&quot;;\n    }\n    else if (score &gt;= 60 &amp;&amp; score &lt; 70){\n        String grade = &quot;D&quot;;\n    }\n    else if(score &gt; 60 &amp;&amp; score &lt;= 0){\n         String grade = &quot;F&quot;;\n    }\n    else {\n        String grade = &quot;Invalid test score.&quot;;\n    }\n    // Here, when calling the grade variable, it is not initialized.\n    grades.add(grade);\n    }\n    return grades;\n}\n</code></pre>\n<p>my answer</p>\n<pre class=\"lang-java prettyprint-override\"><code>// setLetterGrades Method\npublic static ArrayList&lt;String&gt; setLetterGrades(ArrayList&lt;Integer&gt; scores){ \n    ArrayList&lt;String&gt; grades = new ArrayList&lt;String&gt;();\n    String grade = &quot;&quot;;\n    for (int i = 0; i &lt; scores.size(); i++){\n        int score = scores.get(i);\n        if (score &gt;= 90 &amp;&amp; score &lt; 101){\n            grade = &quot;A&quot;;\n        }\n        else if (score &gt;= 80 &amp;&amp; score &lt; 90){\n            grade = &quot;B&quot;;\n        }\n        else if (score &gt;= 70 &amp;&amp; score &lt; 80){\n            grade = &quot;C&quot;;\n        }\n        else if (score &gt;= 60 &amp;&amp; score &lt; 70){\n            grade = &quot;D&quot;;\n        }\n        else if(score &gt; 60 &amp;&amp; score &lt;= 0){\n            grade = &quot;F&quot;;\n        }\n        else {\n            grade = &quot;Invalid test score.&quot;;\n        }\n        grades.add(grade);\n    }\n    return grades;\n}\n</code></pre>\n<p>and my opinion on the second</p>\n<pre class=\"lang-java prettyprint-override\"><code>// GradeBook Object\npublic GradeBook(ArrayList&lt;Integer&gt; scores, testName){\n    String test = testName;\n    ArrayList&lt;String&gt; grades = setLetterGrades(scores);\n}\n</code></pre>\n"}],"owner":{"account_id":26509596,"reputation":5,"user_id":20145137,"display_name":"Aurelia Kruger"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75116058,"answer_count":2,"score":0,"last_activity_date":1673844398,"creation_date":1673674322,"question_id":75116012,"body_markdown":"I haven&#39;t used java for a while and for some reason I can&#39;t figure out how to initialize my methods and objects without errors. These are the two I&#39;m having troubles with:\r\n\r\n    // setLetterGrades Method\r\n    public static setLetterGrades(ArrayList&lt;Integer&gt; scores){ \r\n        ArrayList&lt;Integer&gt; grades = new ArrayList&lt;Integer&gt;();\r\n\r\n        for (int i = 0; i &lt; scores.size(); i++){\r\n            if (score &gt;= 90 &amp;&amp; score &lt; 101){\r\n                String grade = &quot;A&quot;;\r\n            }\r\n            else if (score &gt;= 80 &amp;&amp; score &lt; 90){\r\n                String grade = &quot;B&quot;;\r\n            }\r\n            else if (score &gt;= 70 &amp;&amp; score &lt; 80){\r\n\t            String grade = &quot;C&quot;;\r\n\t        }\r\n\t        else if (score &gt;= 60 &amp;&amp; score &lt; 70){\r\n\t            String grade = &quot;D&quot;;\r\n\t        }\r\n\t        else if(score &gt; 60 &amp;&amp; score &lt;= 0){\r\n\t             String grade = &quot;F&quot;;\r\n\t        }\r\n\t        else {\r\n\t            String grade = &quot;Invalid test score.&quot;;\r\n\t        }\r\n\t        grades.add(grade);\r\n        }\r\n        return grades;\r\n    }\r\n\r\nI&#39;m getting &#39;Syntax error, insert &quot;EnumBody&quot; to complete BlockStatement&#39; on the first line: \r\n    `    public static setLetterGrades(ArrayList&lt;Integer&gt; scores){ `\r\n\r\nSimilarly, I&#39;m getting &#39;Syntax error on token &quot;public&quot;, new expected&#39; on the first line of this object:\r\n\r\n    // GradeBook Object\r\n    public GradeBook(ArrayList&lt;Integer&gt; scores, testName){\r\n        String test = testName;\r\n        ArrayList&lt;Integer&gt; testScores = ArrayList&lt;Integer&gt; scores;\r\n        setLetterGrades();\r\n    }\r\n\r\nHow do I make this second one more &quot;object-y&quot; and correct the error? Thank you for the help!","title":"Initializing Methods and Objects Correctly - Java","body":"<p>I haven't used java for a while and for some reason I can't figure out how to initialize my methods and objects without errors. These are the two I'm having troubles with:</p>\n<pre><code>// setLetterGrades Method\npublic static setLetterGrades(ArrayList&lt;Integer&gt; scores){ \n    ArrayList&lt;Integer&gt; grades = new ArrayList&lt;Integer&gt;();\n\n    for (int i = 0; i &lt; scores.size(); i++){\n        if (score &gt;= 90 &amp;&amp; score &lt; 101){\n            String grade = &quot;A&quot;;\n        }\n        else if (score &gt;= 80 &amp;&amp; score &lt; 90){\n            String grade = &quot;B&quot;;\n        }\n        else if (score &gt;= 70 &amp;&amp; score &lt; 80){\n            String grade = &quot;C&quot;;\n        }\n        else if (score &gt;= 60 &amp;&amp; score &lt; 70){\n            String grade = &quot;D&quot;;\n        }\n        else if(score &gt; 60 &amp;&amp; score &lt;= 0){\n             String grade = &quot;F&quot;;\n        }\n        else {\n            String grade = &quot;Invalid test score.&quot;;\n        }\n        grades.add(grade);\n    }\n    return grades;\n}\n</code></pre>\n<p>I'm getting 'Syntax error, insert &quot;EnumBody&quot; to complete BlockStatement' on the first line:\n<code>   public static setLetterGrades(ArrayList&lt;Integer&gt; scores){</code></p>\n<p>Similarly, I'm getting 'Syntax error on token &quot;public&quot;, new expected' on the first line of this object:</p>\n<pre><code>// GradeBook Object\npublic GradeBook(ArrayList&lt;Integer&gt; scores, testName){\n    String test = testName;\n    ArrayList&lt;Integer&gt; testScores = ArrayList&lt;Integer&gt; scores;\n    setLetterGrades();\n}\n</code></pre>\n<p>How do I make this second one more &quot;object-y&quot; and correct the error? Thank you for the help!</p>\n"},{"tags":["java","log4j","netty","log4j2","reactor-netty"],"comments":[{"owner":{"account_id":5024231,"reputation":2017,"user_id":4036754,"display_name":"Violeta Georgieva"},"score":0,"creation_date":1673592242,"post_id":75101314,"comment_id":132537977,"body_markdown":"please provide some code how you enable the logging","body":"please provide some code how you enable the logging"}],"owner":{"account_id":13515575,"reputation":143,"user_id":9750259,"display_name":"Andriy Zhuk"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673843529,"creation_date":1673551169,"question_id":75101314,"body_markdown":"I&#39;m using the dependency that has a dependency on `io.netty`. I want to get logs from `io.netty.handler.logging`, so I&#39;ve created a `log4j` logger in my app and it seems to be fine. \r\n\r\nThe only problem is that the logs, I&#39;m receiving contain hex data, which I wouldn&#39;t like to see. \r\n\r\nI think there are 3 possible values: `HEX_DUMP`, `SIMPLE`, and `TEXTUAL`.\r\n\r\nHow can I change the value from default `HEX_DUMP` to any other using log4j, if that&#39;s possible at all?","title":"How to get rid of HEX_DUMP in log4j logs coming from &quot;io.netty.handler.logging&quot;","body":"<p>I'm using the dependency that has a dependency on <code>io.netty</code>. I want to get logs from <code>io.netty.handler.logging</code>, so I've created a <code>log4j</code> logger in my app and it seems to be fine.</p>\n<p>The only problem is that the logs, I'm receiving contain hex data, which I wouldn't like to see.</p>\n<p>I think there are 3 possible values: <code>HEX_DUMP</code>, <code>SIMPLE</code>, and <code>TEXTUAL</code>.</p>\n<p>How can I change the value from default <code>HEX_DUMP</code> to any other using log4j, if that's possible at all?</p>\n"},{"tags":["java","junit","mockito"],"comments":[{"owner":{"account_id":4012793,"reputation":1627,"user_id":3305737,"display_name":"Jonasz"},"score":0,"creation_date":1673678721,"post_id":75116250,"comment_id":132556404,"body_markdown":"You are not testing any object instances/methods in your test (missing &quot;when&quot; block in terms of &quot;given-when-then&quot;, even if `doThrow` was uncommented). What method are you trying to test? Can you show the code of the said method?","body":"You are not testing any object instances/methods in your test (missing &quot;when&quot; block in terms of &quot;given-when-then&quot;, even if <code>doThrow</code> was uncommented). What method are you trying to test? Can you show the code of the said method?"},{"owner":{"account_id":27345093,"reputation":1,"user_id":20855107,"display_name":"Ankush Bandu Kamble"},"score":0,"creation_date":1673678837,"post_id":75116250,"comment_id":132556416,"body_markdown":"I want to use deleteById() method so how can we use which in Jpa repository and returns void","body":"I want to use deleteById() method so how can we use which in Jpa repository and returns void"},{"owner":{"account_id":4012793,"reputation":1627,"user_id":3305737,"display_name":"Jonasz"},"score":0,"creation_date":1673680085,"post_id":75116250,"comment_id":132556507,"body_markdown":"Are you using the `deleteById` method in your service class? If so, attach the code showing that. Additionally - what do you want to test here?","body":"Are you using the <code>deleteById</code> method in your service class? If so, attach the code showing that. Additionally - what do you want to test here?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1673682634,"post_id":75116250,"comment_id":132556719,"body_markdown":"Your test method is empty, aside from calling `verify` on your mock.","body":"Your test method is empty, aside from calling <code>verify</code> on your mock."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1673688458,"post_id":75116250,"comment_id":132557358,"body_markdown":"The only thing your test does is to check that `deleteById` got called. It doesn&#39;t do anything else first; so it&#39;s no surprise that the result is that `deleteById` didn&#39;t get called.  You&#39;re going to have to add something to your test to make it actually call the method you&#39;re trying to test, which presumably is `deleteByProduct` in your `EmployeeRestController` class.","body":"The only thing your test does is to check that <code>deleteById</code> got called. It doesn&#39;t do anything else first; so it&#39;s no surprise that the result is that <code>deleteById</code> didn&#39;t get called.  You&#39;re going to have to add something to your test to make it actually call the method you&#39;re trying to test, which presumably is <code>deleteByProduct</code> in your <code>EmployeeRestController</code> class."},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1673699281,"post_id":75116250,"comment_id":132558877,"body_markdown":"Your test does not call `deleteByProduct`, so there&#39;s no way `deleteById` could have been called.","body":"Your test does not call <code>deleteByProduct</code>, so there&#39;s no way <code>deleteById</code> could have been called."},{"owner":{"account_id":27345093,"reputation":1,"user_id":20855107,"display_name":"Ankush Bandu Kamble"},"score":0,"creation_date":1673703261,"post_id":75116250,"comment_id":132559492,"body_markdown":"@DawoodibnKareem could you plz help how to solve then","body":"@DawoodibnKareem could you plz help how to solve then"},{"owner":{"account_id":27345093,"reputation":1,"user_id":20855107,"display_name":"Ankush Bandu Kamble"},"score":0,"creation_date":1673703299,"post_id":75116250,"comment_id":132559500,"body_markdown":"@knittl please elaborate i m unable to solve","body":"@knittl please elaborate i m unable to solve"},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1673705125,"post_id":75116250,"comment_id":132559869,"body_markdown":"@AnkushBanduKamble you are _not_ calling your method. You solve by calling your method.","body":"@AnkushBanduKamble you are <i>not</i> calling your method. You solve by calling your method."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1673730235,"post_id":75116250,"comment_id":132564783,"body_markdown":"@AnkushBanduKamble The solution is that you have to call the method that you&#39;re testing.  Methods don&#39;t call themselves!  subasri_ has shown you exactly what to do, in their answer.","body":"@AnkushBanduKamble The solution is that you have to call the method that you&#39;re testing.  Methods don&#39;t call themselves!  subasri_ has shown you exactly what to do, in their answer."},{"owner":{"account_id":27345093,"reputation":1,"user_id":20855107,"display_name":"Ankush Bandu Kamble"},"score":0,"creation_date":1673749341,"post_id":75116250,"comment_id":132567095,"body_markdown":"@DawoodibnKareem yes got it but i m facing another issue can you elaborate it, i have mentioned above","body":"@DawoodibnKareem yes got it but i m facing another issue can you elaborate it, i have mentioned above"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1673814248,"post_id":75116250,"comment_id":132576413,"body_markdown":"So if you have a completely new question, I would suggest you write a completely new question.  You absolutely should NOT change your question after you&#39;ve got an answer; because it invalidates the work that @subasri_ did to answer your question, and makes a mockery of the whole Stack Overflow model of questions and answers.  Please change this question back to the one that subasri_ answered.","body":"So if you have a completely new question, I would suggest you write a completely new question.  You absolutely should NOT change your question after you&#39;ve got an answer; because it invalidates the work that @subasri_ did to answer your question, and makes a mockery of the whole Stack Overflow model of questions and answers.  Please change this question back to the one that subasri_ answered."},{"owner":{"account_id":27345093,"reputation":1,"user_id":20855107,"display_name":"Ankush Bandu Kamble"},"score":0,"creation_date":1673843699,"post_id":75116250,"comment_id":132580258,"body_markdown":"@subasri_ sorry brother, I have changed it to original one____@DawoodibnKareem Done Changed to orginal one&#128077;&#128077;","body":"@subasri_ sorry brother, I have changed it to original one____@DawoodibnKareem Done Changed to orginal one"},{"owner":{"account_id":27345093,"reputation":1,"user_id":20855107,"display_name":"Ankush Bandu Kamble"},"score":0,"creation_date":1673844181,"post_id":75116250,"comment_id":132580303,"body_markdown":"Somebody If Possible answer to this question as well https://stackoverflow.com/questions/74995829/org-hibernate-mappingexception-could-not-locate-collectionpersister-for-role","body":"Somebody If Possible answer to this question as well <a href=\"https://stackoverflow.com/questions/74995829/org-hibernate-mappingexception-could-not-locate-collectionpersister-for-role\" title=\"org hibernate mappingexception could not locate collectionpersister for role\">stackoverflow.com/questions/74995829/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":27529235,"reputation":437,"user_id":21008053,"display_name":"subasri_"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1673717954,"creation_date":1673717954,"answer_id":75120008,"question_id":75116250,"body_markdown":"The invocation of the actual method under test is missing in your `testProductDelete_02` method. So the verification of `deleteById` also doesn&#39;t not happen.\r\n\r\nIf your aim is to test the `deleteProduct` method in the `IProductServiceImpl` class, your test case for the same should modified like below:\r\n\r\n    @Test\r\n    public void testProductDelete_02() {\r\n       productService.deleteProduct(new Integer(1));\r\n       verify(productRepository).deleteById(any());\r\n    }\r\n\r\nOnly after the actual invocation of the method in the service class is made, execution enters the method and control comes to the line `repo.deleteById(prodId);`. Now the method call is verified and this test method should pass ","title":"Exception org.springframework.web.client.RestClientException: mockito wanted but not invoked, Actually there were zero interactions with this mock","body":"<p>The invocation of the actual method under test is missing in your <code>testProductDelete_02</code> method. So the verification of <code>deleteById</code> also doesn't not happen.</p>\n<p>If your aim is to test the <code>deleteProduct</code> method in the <code>IProductServiceImpl</code> class, your test case for the same should modified like below:</p>\n<pre><code>@Test\npublic void testProductDelete_02() {\n   productService.deleteProduct(new Integer(1));\n   verify(productRepository).deleteById(any());\n}\n</code></pre>\n<p>Only after the actual invocation of the method in the service class is made, execution enters the method and control comes to the line <code>repo.deleteById(prodId);</code>. Now the method call is verified and this test method should pass</p>\n"}],"owner":{"account_id":27345093,"reputation":1,"user_id":20855107,"display_name":"Ankush Bandu Kamble"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":339,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1673843498,"creation_date":1673678450,"question_id":75116250,"body_markdown":"      **Test Class**\r\n         @RunWith(SpringRunner.class)\r\n            //@WebMvcTest\r\n            @AutoConfigureMockMvc\r\n            @TestPropertySource(locations = &quot;classpath:application-test.properties&quot;)\r\n            @SpringBootTest(webEnvironment = WebEnvironment.MOCK)\r\n            public class UnitTestingMockitoApplicationTe\r\n     {\r\n    \r\n      private static @Autowired\r\n    Product PRODUCT = new privateProduct(110, static&quot;WXYZ&quot;, MockMvc150d, mockMvc;&quot;V20&quot;);\r\n    \r\n        @MockBean\r\n    public static final String privateURL ProductRepository= productRepository;&quot;http://localhost:%s/product/&quot;;\r\n    \r\n      //  @Autowired\r\n    public static final Integer privatePRODUCT_ID IProductService= productService;101;\r\n    \r\n        @Test@Autowired\r\n        public voidprivate contextLoads()TestRestTemplate {restTemplate;\r\n    \r\n        }\r\n    @LocalServerPort\r\n        @Test\r\n     private int port;\r\n    \r\n     public void testProductDelete_02() {\r\n    //   1. POST Method doThrow(newCase PersistenceException(&quot;ExceptionFrom Occured..!!&quot;)).when(productRepository).deleteById(productIdDB);\r\n            verify(productRepository).deleteById(any());@Test\r\n        }\r\n    **Service Class**\r\n    \r\n     @Service\r\n    public classvoid IProductServiceImpltestProductSave_01() implementsthrows IProductServiceException {\r\n     \r\n        @Autowired\r\n        private ProductRepository repo;\r\n    \r\n       ProductDto productDTO = @OverridegivenProductDto();\r\n            publicString voidformat deleteProduct= String.format(IntegerURL+&quot;register&quot;, prodIdport) {;\r\n            HttpHeaders httpHeaders = new repo.deleteByIdHttpHeaders(prodId);\r\n            }\r\n    }\r\n    **Controller Class**\r\n   \r\n\r\n     \r\n    @RestController\r\n    @RequestMappinghttpHeaders.set(&quot;&quot;Content-Type&quot;, &quot;application/product&quot;json;charset=UTF-8&quot;)\r\n    public class EmployeeRestController {\r\n    \r\n        @Autowired;\r\n        private IProductService service;\r\n    @DeleteMapping(&quot;/delete/{id}&quot;)\r\n      HttpEntity&lt;ProductDto&gt; httpEntity public= ResponseEntity&lt;?&gt;new deleteProductHttpEntity&lt;ProductDto&gt;(@PathVariable IntegerproductDTO, idhttpHeaders) {;\r\n            ResponseEntity&lt;?&gt;ResponseEntity&lt;ProductDto&gt; response = null;\r\n            boolean exist = servicerestTemplate.isProductExistexchange(id);\r\n        format, HttpMethod.POST, httpEntity,\r\n      if (exist) {\r\n                serviceProductDto.deleteProduct(idclass);\r\n                assertEquals(response = new ResponseEntity&lt;String&gt;.getStatusCode(id + &quot;-Removed&quot;), HttpStatus.OK);\r\n            } else {\r\n                response = new ResponseEntity&lt;String&gt;assertNotNull(&quot;Product NOT FOUND&quot;, HttpStatusresponse.BAD_REQUESTgetBody());\r\n            }\r\n            return response;\r\n        }\r\n\r\nException org.springframework.web.client.RestClientException: mockito wanted but not invoked, Actually there were zero interactions with this mock OccuringError while extracting response for type [class com.junittesting.dto.ProductDto]\r\nWhile calling this method from JPA Repository. I am getting mockito wantedm trying to write unit test cases but not invoked. Actually there were zero interactions with this mock at verify call.giving error","title":"Exception org.springframework.web.client.RestClientException: mockito wanted but not invoked, Actually there were zero interactions with this mock","body":"<pre><code>  **Test Class**\n     @RunWith(SpringRunner.class)\n        //@WebMvcTest\n        @AutoConfigureMockMvc\n        @TestPropertySource(locations = &quot;classpath:application-test.properties&quot;)\n        @SpringBootTest(webEnvironment = WebEnvironment.MOCK)\n        public class UnitTestingMockitoApplicationTe\n {\n\n  private static @Autowired\nProduct PRODUCT = new privateProduct(110, static&quot;WXYZ&quot;, MockMvc150d, mockMvc;&quot;V20&quot;);\n\n    @MockBean\npublic static final String privateURL ProductRepository= productRepository;&quot;http://localhost:%s/product/&quot;;\n\n  //  @Autowired\npublic static final Integer privatePRODUCT_ID IProductService= productService;101;\n\n    @Test@Autowired\n    public voidprivate contextLoads()TestRestTemplate {restTemplate;\n\n    }\n@LocalServerPort\n    @Test\n private int port;\n\n public void testProductDelete_02() {\n//   1. POST Method doThrow(newCase PersistenceException(&quot;ExceptionFrom Occured..!!&quot;)).when(productRepository).deleteById(productIdDB);\n        verify(productRepository).deleteById(any());@Test\n    }\n**Service Class**\n\n @Service\npublic classvoid IProductServiceImpltestProductSave_01() implementsthrows IProductServiceException {\n \n    @Autowired\n    private ProductRepository repo;\n\n   ProductDto productDTO = @OverridegivenProductDto();\n        publicString voidformat deleteProduct= String.format(IntegerURL+&quot;register&quot;, prodIdport) {;\n        HttpHeaders httpHeaders = new repo.deleteByIdHttpHeaders(prodId);\n        }\n}\n**Controller Class**\n\n\n \n@RestController\n@RequestMappinghttpHeaders.set(&quot;&quot;Content-Type&quot;, &quot;application/product&quot;json;charset=UTF-8&quot;)\npublic class EmployeeRestController {\n\n    @Autowired;\n    private IProductService service;\n@DeleteMapping(&quot;/delete/{id}&quot;)\n  HttpEntity&lt;ProductDto&gt; httpEntity public= ResponseEntity&lt;?&gt;new deleteProductHttpEntity&lt;ProductDto&gt;(@PathVariable IntegerproductDTO, idhttpHeaders) {;\n        ResponseEntity&lt;?&gt;ResponseEntity&lt;ProductDto&gt; response = null;\n        boolean exist = servicerestTemplate.isProductExistexchange(id);\n    format, HttpMethod.POST, httpEntity,\n  if (exist) {\n            serviceProductDto.deleteProduct(idclass);\n            assertEquals(response = new ResponseEntity&lt;String&gt;.getStatusCode(id + &quot;-Removed&quot;), HttpStatus.OK);\n        } else {\n            response = new ResponseEntity&lt;String&gt;assertNotNull(&quot;Product NOT FOUND&quot;, HttpStatusresponse.BAD_REQUESTgetBody());\n        }\n        return response;\n    }\n</code></pre>\n<p>Exception org.springframework.web.client.RestClientException: mockito wanted but not invoked, Actually there were zero interactions with this mock OccuringError while extracting response for type [class com.junittesting.dto.ProductDto]\nWhile calling this method from JPA Repository. I am getting mockito wantedm trying to write unit test cases but not invoked. Actually there were zero interactions with this mock at verify call.giving error</p>\n"},{"tags":["java","android","google-cloud-platform","google-play-console"],"answers":[{"tags":[],"owner":{"account_id":26320936,"reputation":11,"user_id":19982947,"display_name":"Masaki Takano"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663051352,"creation_date":1663051352,"answer_id":73698526,"question_id":73693279,"body_markdown":"I ran into the same problem and I found a solution for this.\r\n\r\nYou need to specify `cloudProjectNumber()` when you are working on outside of Google Play, which can be found in google cloud console.\r\n\r\nQuote from [the doc][1]:\r\n&gt; Important: In order to receive and decrypt Integrity API responses,\r\n&gt; apps not available on Google Play need to include their Cloud project\r\n&gt; number in their requests. You can find this in Project info in the\r\n&gt; Google Cloud Console.\r\n\r\nSo the code should be like this:\r\n\r\n    IntegrityTokenRequest.builder()\r\n                            .setNonce(nonce)\r\n                            .cloudProjectNumber(100004676) // your cloud project number here for dev build\r\n                            .build());\r\n\r\n\r\n  [1]: https://developer.android.com/google/play/integrity/setup","title":"PlayIntegrity API Calls: How to handle GoogleServerUnavailable Error","body":"<p>I ran into the same problem and I found a solution for this.</p>\n<p>You need to specify <code>cloudProjectNumber()</code> when you are working on outside of Google Play, which can be found in google cloud console.</p>\n<p>Quote from <a href=\"https://developer.android.com/google/play/integrity/setup\" rel=\"nofollow noreferrer\">the doc</a>:</p>\n<blockquote>\n<p>Important: In order to receive and decrypt Integrity API responses,\napps not available on Google Play need to include their Cloud project\nnumber in their requests. You can find this in Project info in the\nGoogle Cloud Console.</p>\n</blockquote>\n<p>So the code should be like this:</p>\n<pre><code>IntegrityTokenRequest.builder()\n                        .setNonce(nonce)\n                        .cloudProjectNumber(100004676) // your cloud project number here for dev build\n                        .build());\n</code></pre>\n"}],"owner":{"account_id":967432,"reputation":342,"user_id":990605,"display_name":"androminor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":684,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1673843079,"creation_date":1663004692,"question_id":73693279,"body_markdown":"I am developing an Android security app and have decided to implement the PlayIntegrity API as an alternative to SafetyNet API. I have already completed the necessary setup steps such as enabling the Play and Cloud console, however, I am encountering an issue where I am getting an error &#39;GOOGLE SERVER UNAVAILABLE&#39; when trying to obtain a token. Can anyone provide any insight into why this might be happening and possible solutions? Any help would be greatly appreciated.\r\n\r\n    Please see below code: \r\n    \r\n            @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            // playIntegritySetup.lol();\r\n            getToken();\r\n        }\r\n    \r\n        private void getToken() {\r\n            String nonce = Base64.encodeToString(generateNonce(50).getBytes(),   Base64.URL_SAFE | Base64.NO_WRAP | Base64.NO_PADDING);\r\n    \r\n            // Create an instance of a manager.\r\n            IntegrityManager integrityManager = IntegrityManagerFactory.create(getApplicationContext());\r\n    \r\n            // Request the integrity token by providing a nonce.\r\n            Task&lt;IntegrityTokenResponse&gt; integrityTokenResponse = integrityManager.requestIntegrityToken(\r\n                    IntegrityTokenRequest.builder()\r\n                            .setNonce(nonce)\r\n                            .build());\r\n    \r\n            integrityTokenResponse.addOnSuccessListener(new OnSuccessListener&lt;IntegrityTokenResponse&gt;() {\r\n                @Override\r\n                public void onSuccess(IntegrityTokenResponse integrityTokenResponse) {\r\n                    String integrityToken = integrityTokenResponse.token();\r\n                    SplashActivity.this.doIntegrityCheck(integrityToken);\r\n                    Log.e(&quot;Integrity Token&quot;, &quot;integrity token from the app&quot; + integrityToken);\r\n    \r\n                }\r\n            });\r\n    \r\n            integrityTokenResponse.addOnFailureListener(e -&gt; showErrorDialog(&quot;Error getting token from Google. Google said: &quot; + getErrorText(e)));\r\n        }\r\n    \r\n        private void doIntegrityCheck(String token) {\r\n            AtomicBoolean hasError = new AtomicBoolean(false);\r\n    \r\n    \r\n            Observable.fromCallable(() -&gt; {\r\n    \r\n                        OkHttpClient okHttpClient = new OkHttpClient();\r\n                        Response response = okHttpClient.newCall(new Request.Builder().url(&quot;money control url&quot; + &quot;token from backend server&quot; + token).build()).execute();\r\n                        Log.e(&quot;Token&quot;, &quot;token from the app&quot; + token);\r\n    \r\n                        if (!response.isSuccessful()) {\r\n                            hasError.set(true);\r\n                            return &quot;Api request error. Code: &quot; + response.code();\r\n    \r\n                        }\r\n                        ResponseBody responseBody = response.body();\r\n                        if (responseBody == null) {\r\n                            hasError.set(true);\r\n    \r\n                            return &quot;Api request error. Empty response&quot;;\r\n    \r\n                        }\r\n                        JSONObject responseJson = new JSONObject(responseBody.string());\r\n                        if (responseJson.has(&quot;error&quot;)) {\r\n                            hasError.set(true);\r\n    \r\n                            return &quot;Api request error: &quot; + responseJson.getString(&quot;error&quot;);\r\n    \r\n                        }\r\n                        if (!responseJson.has(&quot;deviceIntegrity&quot;)) {\r\n                            hasError.set(true);\r\n    \r\n                        }\r\n    \r\n                        return responseJson.getJSONObject(&quot;deviceIntegrity&quot;).toString();\r\n                    }) // Execute in IO thread, i.e. background thread.\r\n                    .subscribeOn(Schedulers.io())\r\n                    // report or post the result to main thread.\r\n                    .observeOn(AndroidSchedulers.mainThread())\r\n                    // execute this RxJava\r\n                    .subscribe(new Observer&lt;String&gt;() {\r\n                        @Override\r\n                        public void onSubscribe(Disposable d) {\r\n    \r\n                        }\r\n    \r\n                        @Override\r\n                        public void onNext(String result) {\r\n                            if (hasError.get()) {\r\n                                if (result.contains(&quot;MEETS_DEVICE_INTEGRITY&quot;) &amp;&amp; result.contains(&quot;MEETS_BASIC_INTEGRITY&quot;)) {\r\n                                   //Here goes my other code\r\n    \r\n                                }\r\n                            }\r\n                        }\r\n    \r\n                        @Override\r\n                        public void onError(Throwable e) {\r\n    \r\n                        }\r\n    \r\n                        @Override\r\n                        public void onComplete() {\r\n    \r\n                        }\r\n                    });\r\n        }\r\n\r\n\r\n  \r\n\r\n      private String getErrorText(Exception e) {\r\n            String msg = e.getMessage();\r\n            if (msg == null) {\r\n                return &quot;Unknown Error&quot;;\r\n            }\r\n    \r\n            //the error code\r\n            int errorCode = Integer.parseInt(msg.replaceAll(&quot;\\n&quot;, &quot;&quot;).replaceAll(&quot;:(.*)&quot;, &quot;&quot;));\r\n            switch (errorCode) {\r\n                case IntegrityErrorCode.API_NOT_AVAILABLE:\r\n                    return &quot;API_NOT_AVAILABLE&quot;;\r\n                case IntegrityErrorCode.NO_ERROR:\r\n                    return &quot;NO_ERROR&quot;;\r\n                case IntegrityErrorCode.INTERNAL_ERROR:\r\n                    return &quot;INTERNAL_ERROR&quot;;\r\n                case IntegrityErrorCode.NETWORK_ERROR:\r\n                    return &quot;NETWORK_ERROR&quot;;\r\n                case IntegrityErrorCode.PLAY_STORE_NOT_FOUND:\r\n                    return &quot;PLAY_STORE_NOT_FOUND&quot;;\r\n                case IntegrityErrorCode.PLAY_STORE_ACCOUNT_NOT_FOUND:\r\n                    return &quot;PLAY_STORE_ACCOUNT_NOT_FOUND&quot;;\r\n                case IntegrityErrorCode.APP_NOT_INSTALLED:\r\n                    return &quot;APP_NOT_INSTALLED&quot;;\r\n                case IntegrityErrorCode.PLAY_SERVICES_NOT_FOUND:\r\n                    return &quot;PLAY_SERVICES_NOT_FOUND&quot;;\r\n                case IntegrityErrorCode.APP_UID_MISMATCH:\r\n                    return &quot;APP_UID_MISMATCH&quot;;\r\n                case IntegrityErrorCode.TOO_MANY_REQUESTS:\r\n                    return &quot;TOO_MANY_REQUESTS&quot;;\r\n                case IntegrityErrorCode.CANNOT_BIND_TO_SERVICE:\r\n                    return &quot;CANNOT_BIND_TO_SERVICE&quot;;\r\n                case IntegrityErrorCode.NONCE_TOO_SHORT:\r\n                    return &quot;NONCE_TOO_SHORT&quot;;\r\n                case IntegrityErrorCode.NONCE_TOO_LONG:\r\n                    return &quot;NONCE_TOO_LONG&quot;;\r\n                case IntegrityErrorCode.GOOGLE_SERVER_UNAVAILABLE:\r\n                    return &quot;GOOGLE_SERVER_UNAVAILABLE&quot;;\r\n                case IntegrityErrorCode.NONCE_IS_NOT_BASE64:\r\n                    return &quot;NONCE_IS_NOT_BASE64&quot;;\r\n                default:\r\n                    return &quot;Unknown Error&quot;;\r\n            }\r\n        }\r\n    \r\n        private String generateNonce(int length) {\r\n            String nonce = &quot;&quot;;\r\n            String allowed = getNonce();\r\n            for (int i = 0; i &lt; length; i++) {\r\n                nonce = nonce.concat(String.valueOf(allowed.charAt((int) Math.floor(Math.random() * allowed.length()))));\r\n            }\r\n            return nonce;\r\n        }\r\n    \r\n        public native String getNonce();\r\n    \r\n    \r\n        static {\r\n            System.loadLibrary(&quot;all-keys&quot;);\r\n        }\r\n\r\n","title":"PlayIntegrity API Calls: How to handle GoogleServerUnavailable Error","body":"<p>I am developing an Android security app and have decided to implement the PlayIntegrity API as an alternative to SafetyNet API. I have already completed the necessary setup steps such as enabling the Play and Cloud console, however, I am encountering an issue where I am getting an error 'GOOGLE SERVER UNAVAILABLE' when trying to obtain a token. Can anyone provide any insight into why this might be happening and possible solutions? Any help would be greatly appreciated.</p>\n<pre><code>Please see below code: \n\n        @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        // playIntegritySetup.lol();\n        getToken();\n    }\n\n    private void getToken() {\n        String nonce = Base64.encodeToString(generateNonce(50).getBytes(),   Base64.URL_SAFE | Base64.NO_WRAP | Base64.NO_PADDING);\n\n        // Create an instance of a manager.\n        IntegrityManager integrityManager = IntegrityManagerFactory.create(getApplicationContext());\n\n        // Request the integrity token by providing a nonce.\n        Task&lt;IntegrityTokenResponse&gt; integrityTokenResponse = integrityManager.requestIntegrityToken(\n                IntegrityTokenRequest.builder()\n                        .setNonce(nonce)\n                        .build());\n\n        integrityTokenResponse.addOnSuccessListener(new OnSuccessListener&lt;IntegrityTokenResponse&gt;() {\n            @Override\n            public void onSuccess(IntegrityTokenResponse integrityTokenResponse) {\n                String integrityToken = integrityTokenResponse.token();\n                SplashActivity.this.doIntegrityCheck(integrityToken);\n                Log.e(&quot;Integrity Token&quot;, &quot;integrity token from the app&quot; + integrityToken);\n\n            }\n        });\n\n        integrityTokenResponse.addOnFailureListener(e -&gt; showErrorDialog(&quot;Error getting token from Google. Google said: &quot; + getErrorText(e)));\n    }\n\n    private void doIntegrityCheck(String token) {\n        AtomicBoolean hasError = new AtomicBoolean(false);\n\n\n        Observable.fromCallable(() -&gt; {\n\n                    OkHttpClient okHttpClient = new OkHttpClient();\n                    Response response = okHttpClient.newCall(new Request.Builder().url(&quot;money control url&quot; + &quot;token from backend server&quot; + token).build()).execute();\n                    Log.e(&quot;Token&quot;, &quot;token from the app&quot; + token);\n\n                    if (!response.isSuccessful()) {\n                        hasError.set(true);\n                        return &quot;Api request error. Code: &quot; + response.code();\n\n                    }\n                    ResponseBody responseBody = response.body();\n                    if (responseBody == null) {\n                        hasError.set(true);\n\n                        return &quot;Api request error. Empty response&quot;;\n\n                    }\n                    JSONObject responseJson = new JSONObject(responseBody.string());\n                    if (responseJson.has(&quot;error&quot;)) {\n                        hasError.set(true);\n\n                        return &quot;Api request error: &quot; + responseJson.getString(&quot;error&quot;);\n\n                    }\n                    if (!responseJson.has(&quot;deviceIntegrity&quot;)) {\n                        hasError.set(true);\n\n                    }\n\n                    return responseJson.getJSONObject(&quot;deviceIntegrity&quot;).toString();\n                }) // Execute in IO thread, i.e. background thread.\n                .subscribeOn(Schedulers.io())\n                // report or post the result to main thread.\n                .observeOn(AndroidSchedulers.mainThread())\n                // execute this RxJava\n                .subscribe(new Observer&lt;String&gt;() {\n                    @Override\n                    public void onSubscribe(Disposable d) {\n\n                    }\n\n                    @Override\n                    public void onNext(String result) {\n                        if (hasError.get()) {\n                            if (result.contains(&quot;MEETS_DEVICE_INTEGRITY&quot;) &amp;&amp; result.contains(&quot;MEETS_BASIC_INTEGRITY&quot;)) {\n                               //Here goes my other code\n\n                            }\n                        }\n                    }\n\n                    @Override\n                    public void onError(Throwable e) {\n\n                    }\n\n                    @Override\n                    public void onComplete() {\n\n                    }\n                });\n    }\n\n\n\n\n  private String getErrorText(Exception e) {\n        String msg = e.getMessage();\n        if (msg == null) {\n            return &quot;Unknown Error&quot;;\n        }\n\n        //the error code\n        int errorCode = Integer.parseInt(msg.replaceAll(&quot;\\n&quot;, &quot;&quot;).replaceAll(&quot;:(.*)&quot;, &quot;&quot;));\n        switch (errorCode) {\n            case IntegrityErrorCode.API_NOT_AVAILABLE:\n                return &quot;API_NOT_AVAILABLE&quot;;\n            case IntegrityErrorCode.NO_ERROR:\n                return &quot;NO_ERROR&quot;;\n            case IntegrityErrorCode.INTERNAL_ERROR:\n                return &quot;INTERNAL_ERROR&quot;;\n            case IntegrityErrorCode.NETWORK_ERROR:\n                return &quot;NETWORK_ERROR&quot;;\n            case IntegrityErrorCode.PLAY_STORE_NOT_FOUND:\n                return &quot;PLAY_STORE_NOT_FOUND&quot;;\n            case IntegrityErrorCode.PLAY_STORE_ACCOUNT_NOT_FOUND:\n                return &quot;PLAY_STORE_ACCOUNT_NOT_FOUND&quot;;\n            case IntegrityErrorCode.APP_NOT_INSTALLED:\n                return &quot;APP_NOT_INSTALLED&quot;;\n            case IntegrityErrorCode.PLAY_SERVICES_NOT_FOUND:\n                return &quot;PLAY_SERVICES_NOT_FOUND&quot;;\n            case IntegrityErrorCode.APP_UID_MISMATCH:\n                return &quot;APP_UID_MISMATCH&quot;;\n            case IntegrityErrorCode.TOO_MANY_REQUESTS:\n                return &quot;TOO_MANY_REQUESTS&quot;;\n            case IntegrityErrorCode.CANNOT_BIND_TO_SERVICE:\n                return &quot;CANNOT_BIND_TO_SERVICE&quot;;\n            case IntegrityErrorCode.NONCE_TOO_SHORT:\n                return &quot;NONCE_TOO_SHORT&quot;;\n            case IntegrityErrorCode.NONCE_TOO_LONG:\n                return &quot;NONCE_TOO_LONG&quot;;\n            case IntegrityErrorCode.GOOGLE_SERVER_UNAVAILABLE:\n                return &quot;GOOGLE_SERVER_UNAVAILABLE&quot;;\n            case IntegrityErrorCode.NONCE_IS_NOT_BASE64:\n                return &quot;NONCE_IS_NOT_BASE64&quot;;\n            default:\n                return &quot;Unknown Error&quot;;\n        }\n    }\n\n    private String generateNonce(int length) {\n        String nonce = &quot;&quot;;\n        String allowed = getNonce();\n        for (int i = 0; i &lt; length; i++) {\n            nonce = nonce.concat(String.valueOf(allowed.charAt((int) Math.floor(Math.random() * allowed.length()))));\n        }\n        return nonce;\n    }\n\n    public native String getNonce();\n\n\n    static {\n        System.loadLibrary(&quot;all-keys&quot;);\n    }\n</code></pre>\n"},{"tags":["java","pdfbox"],"comments":[{"owner":{"account_id":26002686,"reputation":1,"user_id":19712918,"display_name":"dinesh4k"},"score":0,"creation_date":1673932677,"post_id":75130182,"comment_id":132601500,"body_markdown":"I was able to decompress the Binary data and now I have the G4 MMR decompressed data. Can anyone please tell me how to construct a B/W Image from Group 4 decompressed byte[] or any sample code, it would be so helpful.\n\nJava Class : https://github.com/ESCRIBA/lenient-pdf-compare/blob/4dcedec705b70328fa78935e0e2f95a94a89ef8c/src/com/sun/pdfview/decode/CCITTFaxDecoder.java\n\nMethod used: public synchronized void decodeT6(byte[] buffer, byte[] compData,int startX, int height)\n\nThanks in advance.","body":"I was able to decompress the Binary data and now I have the G4 MMR decompressed data. Can anyone please tell me how to construct a B/W Image from Group 4 decompressed byte[] or any sample code, it would be so helpful.  Java Class : <a href=\"https://github.com/ESCRIBA/lenient-pdf-compare/blob/4dcedec705b70328fa78935e0e2f95a94a89ef8c/src/com/sun/pdfview/decode/CCITTFaxDecoder.java\" rel=\"nofollow noreferrer\">github.com/ESCRIBA/lenient-pdf-compare/blob/&hellip;</a>  Method used: public synchronized void decodeT6(byte[] buffer, byte[] compData,int startX, int height)  Thanks in advance."},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1674034771,"post_id":75130182,"comment_id":132626704,"body_markdown":"You could create a TYPE_BINARY BufferedImage with this size, and then assign the b/w colors with setRGB. You&#39;d need to find out whether the b/w values are stored as bits or as bytes.","body":"You could create a TYPE_BINARY BufferedImage with this size, and then assign the b/w colors with setRGB. You&#39;d need to find out whether the b/w values are stored as bits or as bytes."}],"owner":{"account_id":26002686,"reputation":1,"user_id":19712918,"display_name":"dinesh4k"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673842393,"creation_date":1673842393,"question_id":75130182,"body_markdown":"I was able to open MO: DCA file using library https://github.com/yan74/afplib and I was successful getting hands on the Image Triplets (IOCA) but I don&#39;t know to how convert the image into tiff or pdf or any.\r\n\r\nI&#39;m currently trying to view the image using itext5, pdfbox. \r\nAny Java sample code will help.\r\n\r\nThe properties of the IOCA Image file I was able get using afplib SDFHelper.ipds2sdf and Triplets (BeginSegment, BeginImage,ImageSizeImpl,IDESizeImpl,ImageLUTID, ImageEncodingImpl, ImageData)\r\n\r\n```\r\nBeginSegment.getSEGNAME() :null\r\nBeginImage.getOBJTYPE() :255(IOCA)\r\nImageSizeImpl.getVRESOL :2000, (200 dpi)\r\nImageSizeImpl.getVSIZE :5000 (height)\r\nImageSizeImpl.getHRESOL :2000 (200 dpi)\r\nImageSizeImpl.getHSIZE :1196 (width)\r\nImageSizeImpl.getUNITBASE :0\r\nIDESizeImpl.iDESizeImpl :1\r\nImageLUTID.ImageLUTID : 0\r\nImageEncodingImpl.getBITORDR :null\r\nImageEncodingImpl.getCOMPRID :ConstG4MMR (G4 MMR-Modified Modified READ)\r\nImageEncodingImpl.getRECID :1 (RECID Algo)\r\nImageData.getDATA() - Is confidential, I don&#39;t have the test data.\r\n```\r\n\r\nI&#39;m currently trying to view the image using itext5, pdfbox. \r\nAny java sample code will help.","title":"How to convert IBM IOCA (G4 MMR-Modified Modified READ) image (ImageData-Triplet) as tiff or pdf or","body":"<p>I was able to open MO: DCA file using library <a href=\"https://github.com/yan74/afplib\" rel=\"nofollow noreferrer\">https://github.com/yan74/afplib</a> and I was successful getting hands on the Image Triplets (IOCA) but I don't know to how convert the image into tiff or pdf or any.</p>\n<p>I'm currently trying to view the image using itext5, pdfbox.\nAny Java sample code will help.</p>\n<p>The properties of the IOCA Image file I was able get using afplib SDFHelper.ipds2sdf and Triplets (BeginSegment, BeginImage,ImageSizeImpl,IDESizeImpl,ImageLUTID, ImageEncodingImpl, ImageData)</p>\n<pre><code>BeginSegment.getSEGNAME() :null\nBeginImage.getOBJTYPE() :255(IOCA)\nImageSizeImpl.getVRESOL :2000, (200 dpi)\nImageSizeImpl.getVSIZE :5000 (height)\nImageSizeImpl.getHRESOL :2000 (200 dpi)\nImageSizeImpl.getHSIZE :1196 (width)\nImageSizeImpl.getUNITBASE :0\nIDESizeImpl.iDESizeImpl :1\nImageLUTID.ImageLUTID : 0\nImageEncodingImpl.getBITORDR :null\nImageEncodingImpl.getCOMPRID :ConstG4MMR (G4 MMR-Modified Modified READ)\nImageEncodingImpl.getRECID :1 (RECID Algo)\nImageData.getDATA() - Is confidential, I don't have the test data.\n</code></pre>\n<p>I'm currently trying to view the image using itext5, pdfbox.\nAny java sample code will help.</p>\n"},{"tags":["java"],"owner":{"account_id":11249568,"reputation":21,"user_id":8251092,"display_name":"Die Kleine Egel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1673840827,"answer_count":0,"score":0,"last_activity_date":1673839383,"creation_date":1673839383,"question_id":75129981,"body_markdown":"\r\nThe following code is activated on single key &#39;F2&#39;. Is it possible the code to be modified for double key combination, e.g. control+F2, shift+f2 or ETC?\r\n\r\n```\r\nKeyboardFocusManager.getCurrentKeyboardFocusManager().addKeyEventDispatcher(new KeyEventDispatcher(){\r\n@Override\r\npublic boolean dispatchKeyEvent(KeyEvent e){\r\nif(e.getKeyCode() == KeyEvent.VK_F2 &amp;&amp; e.getID() == KeyEvent.KEY_PRESSED ){\r\n// some actions\r\nreturn true;\r\n}\r\nelse{\r\nreturn false;\r\n}\r\n}\r\n```","title":"Howto modify java-code from single to simultaneous key press?","body":"<p>The following code is activated on single key 'F2'. Is it possible the code to be modified for double key combination, e.g. control+F2, shift+f2 or ETC?</p>\n<pre><code>KeyboardFocusManager.getCurrentKeyboardFocusManager().addKeyEventDispatcher(new KeyEventDispatcher(){\n@Override\npublic boolean dispatchKeyEvent(KeyEvent e){\nif(e.getKeyCode() == KeyEvent.VK_F2 &amp;&amp; e.getID() == KeyEvent.KEY_PRESSED ){\n// some actions\nreturn true;\n}\nelse{\nreturn false;\n}\n}\n</code></pre>\n"},{"tags":["java","lambda","java-8","visual-studio-code"],"comments":[{"owner":{"account_id":17942799,"reputation":7768,"user_id":13037676,"display_name":"Steven-MSFT"},"score":0,"creation_date":1591062421,"post_id":62128187,"comment_id":109907532,"body_markdown":"Do you use Maven? if you using maven, you need to set the maven-compiler-plugin source and target elements to 1.8: https://maven.apache.org/plugins/maven-compiler-plugin/examples/set-compiler-source-and-target.html.","body":"Do you use Maven? if you using maven, you need to set the maven-compiler-plugin source and target elements to 1.8: <a href=\"https://maven.apache.org/plugins/maven-compiler-plugin/examples/set-compiler-source-and-target.html\" rel=\"nofollow noreferrer\">maven.apache.org/plugins/maven-compiler-plugin/examples/&hellip;</a>."},{"owner":{"account_id":931580,"reputation":474,"user_id":961380,"accept_rate":29,"display_name":"Agraj"},"score":0,"creation_date":1591064896,"post_id":62128187,"comment_id":109907937,"body_markdown":"No maven here - just a simple Java program with public static void main... Want to do some quick testing/prototyping.....","body":"No maven here - just a simple Java program with public static void main... Want to do some quick testing/prototyping....."},{"owner":{"account_id":17942799,"reputation":7768,"user_id":13037676,"display_name":"Steven-MSFT"},"score":0,"creation_date":1591067935,"post_id":62128187,"comment_id":109908534,"body_markdown":"Maybe a little stupid question, but, had you check your java version through &#39;java -version&#39;?","body":"Maybe a little stupid question, but, had you check your java version through &#39;java -version&#39;?"},{"owner":{"account_id":17942799,"reputation":7768,"user_id":13037676,"display_name":"Steven-MSFT"},"score":0,"creation_date":1591068029,"post_id":62128187,"comment_id":109908552,"body_markdown":"And out of vscode, in WSL2, can you compile a .java file which use lambda, or it just not working in vscode?","body":"And out of vscode, in WSL2, can you compile a .java file which use lambda, or it just not working in vscode?"},{"owner":{"account_id":931580,"reputation":474,"user_id":961380,"accept_rate":29,"display_name":"Agraj"},"score":0,"creation_date":1591071500,"post_id":62128187,"comment_id":109909198,"body_markdown":"yes its not working just in VS code. Works well outside. The trouble is how to configure the source level to 1.8 in VS Code. Even after setting the JAVA_HOME correctly in VS Code it looks like its defaulting to 1.5 or something lower than 1.8...","body":"yes its not working just in VS code. Works well outside. The trouble is how to configure the source level to 1.8 in VS Code. Even after setting the JAVA_HOME correctly in VS Code it looks like its defaulting to 1.5 or something lower than 1.8..."},{"owner":{"account_id":17942799,"reputation":7768,"user_id":13037676,"display_name":"Steven-MSFT"},"score":0,"creation_date":1591076729,"post_id":62128187,"comment_id":109910621,"body_markdown":"As you Run or Debug in vscode, the terminal should outputs like this:\n&#39;c:\\Users\\xxx\\.vscode\\extensions\\vscjava.vscode-java-debug-0.26.0\\scripts\\launcher.bat&#39; &#39;D:\\workSoft\\JDK8\\bin\\java.exe&#39; &#39;-agentlib:j...\nit&#39;s points to the right path as in the picture &#39;/usr/lib/jvm/zulu-8-amd64&#39;?","body":"As you Run or Debug in vscode, the terminal should outputs like this: &#39;c:\\Users\\xxx\\.vscode\\extensions\\vscjava.vscode-java-debug-0&zwnj;&#8203;.26.0\\scripts\\launch&zwnj;&#8203;er.bat&#39; &#39;D:\\workSoft\\JDK8\\bin\\java.exe&#39; &#39;-agentlib:j... it&#39;s points to the right path as in the picture &#39;/usr/lib/jvm/zulu-8-amd64&#39;?"},{"owner":{"account_id":931580,"reputation":474,"user_id":961380,"accept_rate":29,"display_name":"Agraj"},"score":0,"creation_date":1591242890,"post_id":62128187,"comment_id":109983008,"body_markdown":"yes it gives  /usr/lib/jvm/zulu-8-amd64/bin/java -Dfile.encoding=UTF-8 -cp /tmp/cp_3bl6xe1bmfh5li4tfvl8iuxc7.jar com.github.agrajm.mypackage.MyTestClass\nException in thread &quot;main&quot; java.lang.Error: Unresolved compilation problem: \n        Lambda expressions are allowed only at source level 1.8 or above","body":"yes it gives  /usr/lib/jvm/zulu-8-amd64/bin/java -Dfile.encoding=UTF-8 -cp /tmp/cp_3bl6xe1bmfh5li4tfvl8iuxc7.jar com.github.agrajm.mypackage.MyTestClass Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problem:          Lambda expressions are allowed only at source level 1.8 or above"},{"owner":{"account_id":931580,"reputation":474,"user_id":961380,"accept_rate":29,"display_name":"Agraj"},"score":0,"creation_date":1591323915,"post_id":62128187,"comment_id":110019053,"body_markdown":"Editing the question after finding more about configuring build environment.....","body":"Editing the question after finding more about configuring build environment....."}],"answers":[{"tags":[],"owner":{"account_id":186255,"reputation":502,"user_id":423511,"display_name":"RicardoPHP"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1591370519,"creation_date":1591370519,"answer_id":62218783,"question_id":62128187,"body_markdown":"I use the spring framework with gradle, lombok plugin and skdman (aside gradle, for maven is as good as well, I recommend use&#39;em, they are all great), but I believe my configurations can be useful for everyone, so here it goes ...\r\n\r\nOne thing I may add thought its I got strange errors using plugins with command line gradle wich was corrected when i start using the vscode plugins interfaces only, therefor i would recommend give it a try and use the plugins buttons, if you have not done it yet.\r\n\r\nAt launch.json I have the following debug configurations:\r\n\r\n    {\r\n      &quot;name&quot;: &quot;Spring Project ???&quot;,\r\n      &quot;type&quot;: &quot;java&quot;,\r\n      &quot;request&quot;: &quot;launch&quot;,\r\n      &quot;cwd&quot;: &quot;${workspacefolder}&quot;,\r\n      &quot;console&quot;: &quot;internalConsole&quot;,\r\n      &quot;mainClass&quot;: &quot;br.com.meuProject.???&quot;,\r\n      &quot;projectName&quot;: &quot;???&quot;,\r\n      &quot;args&quot;: []\r\n    }\r\n\r\n* Note that the cwd is like workspacefolder, but you can change it to other values like fileDirname, however in these cases it may be legal to also define the value of the variable &quot;program&quot;\r\n\r\nIn settings.json I have the following environment settings:\r\n\r\n    &quot;java.semanticHighlighting.enabled&quot;: true,\r\n    &quot;java.configuration.checkProjectSettingsExclusions&quot;: false,\r\n    &quot;java.home&quot;: &quot;C:\\\\Users\\\\name\\\\.sdkman\\\\candidates\\\\java\\\\current&quot;,\r\n    &quot;java.jdt.ls.vmargs&quot;: &quot;-XX:+UseParallelGC -XX:GCTimeRatio=4 -XX:AdaptiveSizePolicyWeight=90 -Dsun.zip.disableMemoryMapping=true -Xmx1G -Xms100m -javaagent:\\&quot;/home/user/.vscode/extensions/gabrielbb.vscode-lombok-1.0.1/server/lombok.jar\\&quot;&quot;,\r\n\r\n * Note &quot;java.home&quot; defines you&#39;re JAVA_HOME variable.\r\n * Note &quot;java.jdt.ls.vmargs&quot; defines the variables passed to command line whenever building java.\r\n\r\nHope to be of some use. Cheers!","title":"VS Code &amp; WSL2 - specify Java Language Level to 1.8","body":"<p>I use the spring framework with gradle, lombok plugin and skdman (aside gradle, for maven is as good as well, I recommend use'em, they are all great), but I believe my configurations can be useful for everyone, so here it goes ...</p>\n\n<p>One thing I may add thought its I got strange errors using plugins with command line gradle wich was corrected when i start using the vscode plugins interfaces only, therefor i would recommend give it a try and use the plugins buttons, if you have not done it yet.</p>\n\n<p>At launch.json I have the following debug configurations:</p>\n\n<pre><code>{\n  \"name\": \"Spring Project ???\",\n  \"type\": \"java\",\n  \"request\": \"launch\",\n  \"cwd\": \"${workspacefolder}\",\n  \"console\": \"internalConsole\",\n  \"mainClass\": \"br.com.meuProject.???\",\n  \"projectName\": \"???\",\n  \"args\": []\n}\n</code></pre>\n\n<ul>\n<li>Note that the cwd is like workspacefolder, but you can change it to other values like fileDirname, however in these cases it may be legal to also define the value of the variable \"program\"</li>\n</ul>\n\n<p>In settings.json I have the following environment settings:</p>\n\n<pre><code>\"java.semanticHighlighting.enabled\": true,\n\"java.configuration.checkProjectSettingsExclusions\": false,\n\"java.home\": \"C:\\\\Users\\\\name\\\\.sdkman\\\\candidates\\\\java\\\\current\",\n\"java.jdt.ls.vmargs\": \"-XX:+UseParallelGC -XX:GCTimeRatio=4 -XX:AdaptiveSizePolicyWeight=90 -Dsun.zip.disableMemoryMapping=true -Xmx1G -Xms100m -javaagent:\\\"/home/user/.vscode/extensions/gabrielbb.vscode-lombok-1.0.1/server/lombok.jar\\\"\",\n</code></pre>\n\n<ul>\n<li>Note \"java.home\" defines you're JAVA_HOME variable.</li>\n<li>Note \"java.jdt.ls.vmargs\" defines the variables passed to command line whenever building java.</li>\n</ul>\n\n<p>Hope to be of some use. Cheers!</p>\n"},{"tags":[],"owner":{"account_id":931580,"reputation":474,"user_id":961380,"accept_rate":29,"display_name":"Agraj"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1602201440,"creation_date":1591662295,"answer_id":62273140,"question_id":62128187,"body_markdown":"Got my answer from [Gitter][1] that it picks up the language level settings from build file of the project. So I added a basic POM file with proper source &amp; target config for maven-compiler-plugin and restarted IDE. Voila, it works ! \r\n\r\n\r\n    &lt;plugin&gt;\r\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;3.8.1&lt;/version&gt;\r\n    &lt;configuration&gt;\r\n        &lt;source&gt;${maven.compiler.source}&lt;/source&gt;\r\n        &lt;target&gt;${maven.compiler.target}&lt;/target&gt;\r\n    &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n\r\n\r\n  [1]: https://gitter.im/Microsoft/vscode-java-debug","title":"VS Code &amp; WSL2 - specify Java Language Level to 1.8","body":"<p>Got my answer from <a href=\"https://gitter.im/Microsoft/vscode-java-debug\" rel=\"nofollow noreferrer\">Gitter</a> that it picks up the language level settings from build file of the project. So I added a basic POM file with proper source &amp; target config for maven-compiler-plugin and restarted IDE. Voila, it works !</p>\n<pre><code>&lt;plugin&gt;\n&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n&lt;version&gt;3.8.1&lt;/version&gt;\n&lt;configuration&gt;\n    &lt;source&gt;${maven.compiler.source}&lt;/source&gt;\n    &lt;target&gt;${maven.compiler.target}&lt;/target&gt;\n&lt;/configuration&gt;\n</code></pre>\n\n"},{"tags":[],"owner":{"display_name":"user11074381"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1597629896,"creation_date":1597629896,"answer_id":63443680,"question_id":62128187,"body_markdown":"I think if you use jdk 11 or later, you maybe find that no matter how you configure `settings.json` file, the language level never change. \r\n\r\nThe problem is eclipse&#39;s setttings. in `${WorkSpaceRoot}\\.setting\\org.eclipse.jdt.core.prefs`, there are 3 settings: `targetPlatform`, `compliance`, `source`, need to change to `1.8` or later version. \r\n\r\nAnd in `.classpath` file: \r\n```xml\r\n&lt;classpathentry kind=&quot;con&quot; path=&quot;org.eclipse.jdt.launching.JRE_CONTAINER/org.eclipse.jdt.internal.debug.ui.launcher.StandardVMType/JavaSE-1.8&quot;&gt;\r\n```\r\nyou can see there&#39;s a `JavaSE-1.8`, you can change it to other version(which should meets the eclipse settings). \r\n\r\nAlso there&#39;s a quick way to do this: vscode can search in the workspace to find the number(in your case is `1.5`), and replace them.","title":"VS Code &amp; WSL2 - specify Java Language Level to 1.8","body":"<p>I think if you use jdk 11 or later, you maybe find that no matter how you configure <code>settings.json</code> file, the language level never change.</p>\n<p>The problem is eclipse's setttings. in <code>${WorkSpaceRoot}\\.setting\\org.eclipse.jdt.core.prefs</code>, there are 3 settings: <code>targetPlatform</code>, <code>compliance</code>, <code>source</code>, need to change to <code>1.8</code> or later version.</p>\n<p>And in <code>.classpath</code> file:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;classpathentry kind=&quot;con&quot; path=&quot;org.eclipse.jdt.launching.JRE_CONTAINER/org.eclipse.jdt.internal.debug.ui.launcher.StandardVMType/JavaSE-1.8&quot;&gt;\n</code></pre>\n<p>you can see there's a <code>JavaSE-1.8</code>, you can change it to other version(which should meets the eclipse settings).</p>\n<p>Also there's a quick way to do this: vscode can search in the workspace to find the number(in your case is <code>1.5</code>), and replace them.</p>\n"},{"tags":[],"owner":{"account_id":18429628,"reputation":1,"user_id":13425085,"display_name":"rahul patil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673838080,"creation_date":1673838080,"answer_id":75129895,"question_id":62128187,"body_markdown":"In my case I had to configure my java runtime which is using java 7. (view -&gt; command palette -&gt; configure java runtime). Here change java version to java 8 or later.","title":"VS Code &amp; WSL2 - specify Java Language Level to 1.8","body":"<p>In my case I had to configure my java runtime which is using java 7. (view -&gt; command palette -&gt; configure java runtime). Here change java version to java 8 or later.</p>\n"}],"owner":{"account_id":931580,"reputation":474,"user_id":961380,"accept_rate":29,"display_name":"Agraj"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5244,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":62273140,"answer_count":4,"score":2,"last_activity_date":1673838080,"creation_date":1590999800,"question_id":62128187,"body_markdown":"I&#39;m using VS Code in WSL2 and have installed a bunch of Java Extensions as per [this link][1] - normal Java programs work well - able to Run &amp; Debug from VS Code.\r\n\r\nAlthough when I start using Java 8 specific features like Lambda, it starts complaining about the source level for Java \r\n[![Java 8 features][2]][2]\r\n\r\nI&#39;ve the following environment variables configured for Java Home \r\n[![Configure Java Dev][3]][3]\r\n\r\nWhat property should be specified in Settings to determine the source level as 1.8 and not lower ! \r\n\r\nEdit: \r\nThe bottom blue bar says the current Java Runtime is J2SE1.5 for some reason. See Attached [![J2SE1.5][4]][4]\r\n\r\nOn clicking, it asks to add the following property: `java.configuration.runtimes` and so I&#39;ve added the following in my WSL2 settings for VS Code - still no effect !\r\n\r\n    &quot;java.configuration.runtimes&quot;: [\r\n    {\r\n      &quot;name&quot;: &quot;JavaSE-1.8&quot;,\r\n      &quot;path&quot;: &quot;/usr/lib/jvm/zulu-8-amd64&quot;,\r\n      &quot;default&quot;: true\r\n    }\r\n  ]\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://code.visualstudio.com/docs/java/java-tutorial\r\n  [2]: https://i.stack.imgur.com/zROxt.png\r\n  [3]: https://i.stack.imgur.com/ix7fB.png\r\n  [4]: https://i.stack.imgur.com/3uS9g.png","title":"VS Code &amp; WSL2 - specify Java Language Level to 1.8","body":"<p>I'm using VS Code in WSL2 and have installed a bunch of Java Extensions as per <a href=\"https://code.visualstudio.com/docs/java/java-tutorial\" rel=\"nofollow noreferrer\">this link</a> - normal Java programs work well - able to Run &amp; Debug from VS Code.</p>\n\n<p>Although when I start using Java 8 specific features like Lambda, it starts complaining about the source level for Java \n<a href=\"https://i.stack.imgur.com/zROxt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zROxt.png\" alt=\"Java 8 features\"></a></p>\n\n<p>I've the following environment variables configured for Java Home \n<a href=\"https://i.stack.imgur.com/ix7fB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ix7fB.png\" alt=\"Configure Java Dev\"></a></p>\n\n<p>What property should be specified in Settings to determine the source level as 1.8 and not lower ! </p>\n\n<p>Edit: \nThe bottom blue bar says the current Java Runtime is J2SE1.5 for some reason. See Attached <a href=\"https://i.stack.imgur.com/3uS9g.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3uS9g.png\" alt=\"J2SE1.5\"></a></p>\n\n<p>On clicking, it asks to add the following property: <code>java.configuration.runtimes</code> and so I've added the following in my WSL2 settings for VS Code - still no effect !</p>\n\n<pre><code>\"java.configuration.runtimes\": [\n{\n  \"name\": \"JavaSE-1.8\",\n  \"path\": \"/usr/lib/jvm/zulu-8-amd64\",\n  \"default\": true\n}\n</code></pre>\n\n<p>]</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2473795,"reputation":367,"user_id":2154913,"display_name":"ErisoHV"},"score":0,"creation_date":1673836496,"post_id":75129767,"comment_id":132579558,"body_markdown":"Would any visual tool help you for this analysis?\nI personally recommend VisualVM: https://visualvm.github.io/\nIn my personal case it helped me to detect a part of the process that was generating a java heap memory error. The tool shows you the CPU and memory usage, perhaps it can be a visual guide to set the maximum resources used by an application","body":"Would any visual tool help you for this analysis? I personally recommend VisualVM: <a href=\"https://visualvm.github.io/\" rel=\"nofollow noreferrer\">visualvm.github.io</a> In my personal case it helped me to detect a part of the process that was generating a java heap memory error. The tool shows you the CPU and memory usage, perhaps it can be a visual guide to set the maximum resources used by an application"},{"owner":{"account_id":27393528,"reputation":353,"user_id":20896122,"display_name":"undefined symbol"},"score":0,"creation_date":1673838141,"post_id":75129767,"comment_id":132579743,"body_markdown":"*Java heap memory set to 16G, the startup directly occupies 16G*  Not necessarily.  You can set an initial value (-Xms) and a limit (-Xmx).  Unless you mean that your application startup is so memory-intensive it will immediately drive heap size to the limit.","body":"<i>Java heap memory set to 16G, the startup directly occupies 16G</i>  Not necessarily.  You can set an initial value (-Xms) and a limit (-Xmx).  Unless you mean that your application startup is so memory-intensive it will immediately drive heap size to the limit."},{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1673839453,"post_id":75129767,"comment_id":132579844,"body_markdown":"the only option to determine proper limits is to perform thorough performance testing, the question is whether it will recoup the cost of 8Gb memory.","body":"the only option to determine proper limits is to perform thorough performance testing, the question is whether it will recoup the cost of 8Gb memory."}],"owner":{"account_id":23665000,"reputation":65,"user_id":17692587,"display_name":""},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673836147,"creation_date":1673836147,"question_id":75129767,"body_markdown":"How can I tell if the heap memory of 1 Java application is too high by jvm monitoring? Currently our Java application heap memory is set to 16G, but judging from experience, this value is set too high and I want to convince other colleagues to lower this value for saving resources, but I don&#39;t know how to visually show that the memory setting is too high through monitoring.\r\n\r\nThis problem, I think the more difficult point is that memory is not like CPU, how much is actually used and how much is set by Pod, there is an obvious contrast, Java heap memory set to 16G, the startup directly occupies 16G, and regardless of whether the heap memory is set to 8G or 16G, I understand that it is nothing more than a matter of triggering the garbage collection frequency, I can&#39;t justify lowering the memory to 8G, or 4G I can&#39;t prove that by reducing the memory to 8G or 4G, the program will run smoothly and not trigger an OOM exception.","title":"How to determine if Java heap memory is set too high?","body":"<p>How can I tell if the heap memory of 1 Java application is too high by jvm monitoring? Currently our Java application heap memory is set to 16G, but judging from experience, this value is set too high and I want to convince other colleagues to lower this value for saving resources, but I don't know how to visually show that the memory setting is too high through monitoring.</p>\n<p>This problem, I think the more difficult point is that memory is not like CPU, how much is actually used and how much is set by Pod, there is an obvious contrast, Java heap memory set to 16G, the startup directly occupies 16G, and regardless of whether the heap memory is set to 8G or 16G, I understand that it is nothing more than a matter of triggering the garbage collection frequency, I can't justify lowering the memory to 8G, or 4G I can't prove that by reducing the memory to 8G or 4G, the program will run smoothly and not trigger an OOM exception.</p>\n"},{"tags":["java","android","android-11"],"comments":[{"owner":{"account_id":3366602,"reputation":611,"user_id":2827025,"display_name":"anemomylos"},"score":0,"creation_date":1621867515,"post_id":67660035,"comment_id":119616965,"body_markdown":"Have you added the `label` attribute in `activity` using a plain string or a `@string/...`?","body":"Have you added the <code>label</code> attribute in <code>activity</code> using a plain string or a <code>@string&#47;...</code>?"},{"owner":{"account_id":8820940,"reputation":296,"user_id":6590844,"display_name":"Gaurav Sharma"},"score":0,"creation_date":1621879791,"post_id":67660035,"comment_id":119622184,"body_markdown":"Yes I added a label string too. The new label is visible in chrome but not in other apps like Twitter.","body":"Yes I added a label string too. The new label is visible in chrome but not in other apps like Twitter."},{"owner":{"account_id":11012236,"reputation":4924,"user_id":8089181,"display_name":"Diego Ricardo Valdivia Arreola"},"score":0,"creation_date":1702259755,"post_id":67660035,"comment_id":136870907,"body_markdown":"I tried this and worked: https://stackoverflow.com/a/72930519/8089181","body":"I tried this and worked: <a href=\"https://stackoverflow.com/a/72930519/8089181\">stackoverflow.com/a/72930519/8089181</a>"}],"answers":[{"tags":[],"owner":{"account_id":8820940,"reputation":296,"user_id":6590844,"display_name":"Gaurav Sharma"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1622982365,"creation_date":1622982365,"answer_id":67859105,"question_id":67660035,"body_markdown":"So I found the probable reason of this happening.\r\n\r\n1. Apps using custom text edit box or text box need to manually add the buttons in the text selection menu by running the following code [(More Details)][1]\r\n\r\n\r\n```\r\n    public void onInitializeMenu(Menu menu) {\r\n    // Start with a menu Item order value that is high enough\r\n    // so that your &quot;PROCESS_TEXT&quot; menu items appear after the\r\n    // standard selection menu items like Cut, Copy, Paste.\r\n    int menuItemOrder = 100;\r\n    for (ResolveInfo resolveInfo : getSupportedActivities()) {\r\n        menu.add(Menu.NONE, Menu.NONE,\r\n                menuItemOrder++,\r\n                getLabel(resolveInfo))\r\n                \r\n.setIntent(createProcessTextIntentForResolveInfo(resolveInfo))\r\n                .setShowAsAction(MenuItem.SHOW_AS_ACTION_IF_ROOM);\r\n    }\r\n}\r\n\r\n```\r\n\r\n2. This requires apps to scan existing packages for Process_text intent support but in Android 11, we can&#39;t access all installed packages but only the ones inside `&lt;queries&gt; &lt;/queries&gt;` in androidManifest.xml.\r\n\r\n3. Wikipedia being a famous app, twitter must have added it in the queries list, hence the support.\r\n\r\n\r\n\r\n  [1]: https://android-developers.googleblog.com/2015/10/in-app-translations-in-android.html","title":"PROCESS_TEXT Not visible in text selection menu in most apps after Android 11","body":"<p>So I found the probable reason of this happening.</p>\n<ol>\n<li>Apps using custom text edit box or text box need to manually add the buttons in the text selection menu by running the following code <a href=\"https://android-developers.googleblog.com/2015/10/in-app-translations-in-android.html\" rel=\"nofollow noreferrer\">(More Details)</a></li>\n</ol>\n<pre><code>    public void onInitializeMenu(Menu menu) {\n    // Start with a menu Item order value that is high enough\n    // so that your &quot;PROCESS_TEXT&quot; menu items appear after the\n    // standard selection menu items like Cut, Copy, Paste.\n    int menuItemOrder = 100;\n    for (ResolveInfo resolveInfo : getSupportedActivities()) {\n        menu.add(Menu.NONE, Menu.NONE,\n                menuItemOrder++,\n                getLabel(resolveInfo))\n                \n.setIntent(createProcessTextIntentForResolveInfo(resolveInfo))\n                .setShowAsAction(MenuItem.SHOW_AS_ACTION_IF_ROOM);\n    }\n}\n\n</code></pre>\n<ol start=\"2\">\n<li><p>This requires apps to scan existing packages for Process_text intent support but in Android 11, we can't access all installed packages but only the ones inside <code>&lt;queries&gt; &lt;/queries&gt;</code> in androidManifest.xml.</p>\n</li>\n<li><p>Wikipedia being a famous app, twitter must have added it in the queries list, hence the support.</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2091023,"reputation":2866,"user_id":1860868,"accept_rate":36,"display_name":"Derek K"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1630753638,"creation_date":1630753638,"answer_id":69054704,"question_id":67660035,"body_markdown":"Had the same issue: I wanted the Translate option after text selection and long could not find the reason why it&#39;s missing in my app targeting Android 11. It looks like even using standard views without custom menus we have to specify the `PROCESS_TEXT` intent in the `&lt;queries&gt;`\r\n\r\n    &lt;queries&gt;\r\n        &lt;intent&gt;\r\n            &lt;action android:name=&quot;android.intent.action.PROCESS_TEXT&quot; /&gt;\r\n            &lt;data android:mimeType=&quot;text/plain&quot; /&gt;\r\n        &lt;/intent&gt;\r\n    &lt;/queries&gt;\r\n\r\nWith this snippet all external apps items are visible as expected.","title":"PROCESS_TEXT Not visible in text selection menu in most apps after Android 11","body":"<p>Had the same issue: I wanted the Translate option after text selection and long could not find the reason why it's missing in my app targeting Android 11. It looks like even using standard views without custom menus we have to specify the <code>PROCESS_TEXT</code> intent in the <code>&lt;queries&gt;</code></p>\n<pre><code>&lt;queries&gt;\n    &lt;intent&gt;\n        &lt;action android:name=&quot;android.intent.action.PROCESS_TEXT&quot; /&gt;\n        &lt;data android:mimeType=&quot;text/plain&quot; /&gt;\n    &lt;/intent&gt;\n&lt;/queries&gt;\n</code></pre>\n<p>With this snippet all external apps items are visible as expected.</p>\n"},{"tags":[],"owner":{"account_id":1968217,"reputation":1429,"user_id":1767887,"accept_rate":60,"display_name":"sbaar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673835098,"creation_date":1673835098,"answer_id":75129693,"question_id":67660035,"body_markdown":"After decompiling Messages, Wikpedia, and Dictionary.com and inspecting the various manifests and comparing Messages behavior to other apps and system text boxes, the only conclusion is that Messages has a dynamic whitelist configured by Google at runtime. The package names are nowhere to be found in the code (that would not be unprecedented; you can find exceptions for facebook published package names in parts of AOSP to make sure they don&#39;t break).\r\n\r\nThe only part of the select text-&gt; populate menu options process that remains unclear is exactly which system pre analyzes the text and determines whether to show the Maps/Places option if it thinks it&#39;s an address, such as when the beginning of the selection is a number. Regardless, it&#39;s certainly a process outside the control of the providing process text app.","title":"PROCESS_TEXT Not visible in text selection menu in most apps after Android 11","body":"<p>After decompiling Messages, Wikpedia, and Dictionary.com and inspecting the various manifests and comparing Messages behavior to other apps and system text boxes, the only conclusion is that Messages has a dynamic whitelist configured by Google at runtime. The package names are nowhere to be found in the code (that would not be unprecedented; you can find exceptions for facebook published package names in parts of AOSP to make sure they don't break).</p>\n<p>The only part of the select text-&gt; populate menu options process that remains unclear is exactly which system pre analyzes the text and determines whether to show the Maps/Places option if it thinks it's an address, such as when the beginning of the selection is a number. Regardless, it's certainly a process outside the control of the providing process text app.</p>\n"}],"owner":{"account_id":8820940,"reputation":296,"user_id":6590844,"display_name":"Gaurav Sharma"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1138,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":67859105,"answer_count":3,"score":6,"last_activity_date":1673835098,"creation_date":1621774864,"question_id":67660035,"body_markdown":"I have the following configuration in the manifest file - \r\n\r\n```\r\n&lt;activity\r\n            android:name=&quot;.activities.PopupWord&quot;\r\n            android:excludeFromRecents=&quot;true&quot;\r\n            android:theme=&quot;@style/popups&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.SEARCH&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n                &lt;data android:mimeType=&quot;text/*&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.PROCESS_TEXT&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n                &lt;data android:mimeType=&quot;text/*&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.SEND&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n                &lt;data android:mimeType=&quot;text/*&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n\r\n        &lt;/activity&gt;\r\n```\r\n\r\nI can see my &#39;Lookup&#39; Button in the text selection menu in apps like twitter in Android 10 but in Android 11 it vanished. Surprisingly it works in Chrome.\r\n\r\nWikipedia Beta, somehow circumvents this issue and shows its &#39;Search in Wikipedia&#39; Button everywhere. I tried to see it&#39;s manifest and found it to be similar.\r\n\r\n```\r\n&lt;activity\r\n            android:name=&quot;org.wikipedia.search.SearchActivity&quot;\r\n            android:windowSoftInputMode=&quot;0x10&quot;&gt;\r\n\r\n            &lt;intent-filter\r\n                android:label=&quot;@ref/0x7f100190&quot;&gt;\r\n                &lt;action\r\n                    android:name=&quot;android.intent.action.SEND&quot; /&gt;\r\n                &lt;category\r\n                    android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n                &lt;data\r\n                    android:mimeType=&quot;text/plain&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n\r\n            &lt;intent-filter\r\n                android:label=&quot;@ref/0x7f100190&quot;&gt;\r\n                &lt;action\r\n                    android:name=&quot;android.intent.action.PROCESS_TEXT&quot; /&gt;\r\n                &lt;category\r\n                    android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n                &lt;data\r\n                    android:mimeType=&quot;text/plain&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n```\r\n\r\n(I have tried making mimeType text/plain and adding a label, it doesn&#39;t help)\r\n\r\nAny leads will be helpful.","title":"PROCESS_TEXT Not visible in text selection menu in most apps after Android 11","body":"<p>I have the following configuration in the manifest file -</p>\n<pre><code>&lt;activity\n            android:name=&quot;.activities.PopupWord&quot;\n            android:excludeFromRecents=&quot;true&quot;\n            android:theme=&quot;@style/popups&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.SEARCH&quot; /&gt;\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n                &lt;data android:mimeType=&quot;text/*&quot; /&gt;\n            &lt;/intent-filter&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.PROCESS_TEXT&quot; /&gt;\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n                &lt;data android:mimeType=&quot;text/*&quot; /&gt;\n            &lt;/intent-filter&gt;\n\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.SEND&quot; /&gt;\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n                &lt;data android:mimeType=&quot;text/*&quot; /&gt;\n            &lt;/intent-filter&gt;\n\n        &lt;/activity&gt;\n</code></pre>\n<p>I can see my 'Lookup' Button in the text selection menu in apps like twitter in Android 10 but in Android 11 it vanished. Surprisingly it works in Chrome.</p>\n<p>Wikipedia Beta, somehow circumvents this issue and shows its 'Search in Wikipedia' Button everywhere. I tried to see it's manifest and found it to be similar.</p>\n<pre><code>&lt;activity\n            android:name=&quot;org.wikipedia.search.SearchActivity&quot;\n            android:windowSoftInputMode=&quot;0x10&quot;&gt;\n\n            &lt;intent-filter\n                android:label=&quot;@ref/0x7f100190&quot;&gt;\n                &lt;action\n                    android:name=&quot;android.intent.action.SEND&quot; /&gt;\n                &lt;category\n                    android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n                &lt;data\n                    android:mimeType=&quot;text/plain&quot; /&gt;\n            &lt;/intent-filter&gt;\n\n            &lt;intent-filter\n                android:label=&quot;@ref/0x7f100190&quot;&gt;\n                &lt;action\n                    android:name=&quot;android.intent.action.PROCESS_TEXT&quot; /&gt;\n                &lt;category\n                    android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n                &lt;data\n                    android:mimeType=&quot;text/plain&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n</code></pre>\n<p>(I have tried making mimeType text/plain and adding a label, it doesn't help)</p>\n<p>Any leads will be helpful.</p>\n"},{"tags":["java","spring-boot","web-applications"],"comments":[{"owner":{"account_id":20010909,"reputation":1,"user_id":14667940,"display_name":"Vishwa N"},"score":0,"creation_date":1673755209,"post_id":75122615,"comment_id":132567542,"body_markdown":"please explain, i did&#39;t get it","body":"please explain, i did&#39;t get it"}],"owner":{"account_id":20010909,"reputation":1,"user_id":14667940,"display_name":"Vishwa N"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673834973,"creation_date":1673750856,"question_id":75122615,"body_markdown":"i am a new to spring framework. i have started to learn Spring Boot,In Spring Tool Suite-4 Spring boot application, home.jsp or any .jsp file, I can&#39;t display in the browser rather file name is displayed as a string in the browser. i have used all the required dependencies in pom.xml file\r\n1.Controller class\r\n\r\n\r\n```\r\npackage com.example.demo;\r\n\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.ResponseBody;\r\n\r\n@Controller\r\npublic class indexController {\r\n@RequestMapping(&quot;index&quot;)\r\npublic String index()\r\n{\r\nreturn (&quot;index.jsp&quot;);\r\n}\r\n}\r\n```\r\n2index.jsp\r\n\r\n```\r\n&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot;\r\n    pageEncoding=&quot;UTF-8&quot;%&gt;\r\n&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot; &quot;http://www.w3.org/TR/html4/loose.dtd&quot;&gt;\r\n&lt;html&gt;\r\n&lt;head&gt;\r\n&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;\r\n&lt;title&gt;Insert title here&lt;/title&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n        hello\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\n3pom.xml\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.1&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;WebProiject&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;WebProiject&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\r\n    &lt;artifactId&gt;tomcat-jasper&lt;/artifactId&gt;\r\n    &lt;version&gt;10.1.4&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n    &lt;groupId&gt;javax.servlet.jsp.jstl&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n    &lt;version&gt;1.2&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n4.Application props\r\n\r\n```\r\nspring.mvc.view.prefix=/webapp/\r\nspring.mvc.view.suffix=.jsp\r\n\r\n```\r\n\r\n\\----HELP ME TO FIGURE IT OUT----\r\n\r\nexpected to print hello","title":"Spring boot and jsp integration help me to figure it","body":"<p>i am a new to spring framework. i have started to learn Spring Boot,In Spring Tool Suite-4 Spring boot application, home.jsp or any .jsp file, I can't display in the browser rather file name is displayed as a string in the browser. i have used all the required dependencies in pom.xml file\n1.Controller class</p>\n<pre><code>package com.example.demo;\n\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.ResponseBody;\n\n@Controller\npublic class indexController {\n@RequestMapping(&quot;index&quot;)\npublic String index()\n{\nreturn (&quot;index.jsp&quot;);\n}\n}\n</code></pre>\n<p>2index.jsp</p>\n<pre><code>&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot;\n    pageEncoding=&quot;UTF-8&quot;%&gt;\n&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot; &quot;http://www.w3.org/TR/html4/loose.dtd&quot;&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;\n&lt;title&gt;Insert title here&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n        hello\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>3pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.1&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;WebProiject&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;WebProiject&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n    &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\n    &lt;artifactId&gt;tomcat-jasper&lt;/artifactId&gt;\n    &lt;version&gt;10.1.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n    &lt;groupId&gt;javax.servlet.jsp.jstl&lt;/groupId&gt;\n    &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n    &lt;version&gt;1.2&lt;/version&gt;\n&lt;/dependency&gt;\n\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>4.Application props</p>\n<pre><code>spring.mvc.view.prefix=/webapp/\nspring.mvc.view.suffix=.jsp\n\n</code></pre>\n<p>----HELP ME TO FIGURE IT OUT----</p>\n<p>expected to print hello</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":27393528,"reputation":353,"user_id":20896122,"display_name":"undefined symbol"},"score":3,"creation_date":1673832912,"post_id":75129532,"comment_id":132579196,"body_markdown":"Your first code makes no sense, since it is testing variables before setting those variables.","body":"Your first code makes no sense, since it is testing variables before setting those variables."}],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673834158,"creation_date":1673834158,"answer_id":75129641,"question_id":75129532,"body_markdown":"Either would be fine, but your first should test the passed in `healthProvider` (since `this.healthProvider` isn&#39;t initialized yet, and when it is; it is using the passed `healthProvider`). Like,\r\n\r\n    public Provider(String healthProvider) {\r\n        if (healthProvider == null) {\r\n            throw new IllegalArgumentException(PROVIDER_NULL);\r\n        } \r\n        if (healthProvider.isBlank()) {\r\n            throw new IllegalArgumentException(PROVIDER_ISBLANK);\r\n        }\r\n        this.healthProvider = healthProvider;\r\n        this.patients = new ArrayList&lt;Patient&gt;();\r\n    }\r\n\r\n","title":"is it proper to initialize an instance variable in a constructor before preconditions in java","body":"<p>Either would be fine, but your first should test the passed in <code>healthProvider</code> (since <code>this.healthProvider</code> isn't initialized yet, and when it is; it is using the passed <code>healthProvider</code>). Like,</p>\n<pre><code>public Provider(String healthProvider) {\n    if (healthProvider == null) {\n        throw new IllegalArgumentException(PROVIDER_NULL);\n    } \n    if (healthProvider.isBlank()) {\n        throw new IllegalArgumentException(PROVIDER_ISBLANK);\n    }\n    this.healthProvider = healthProvider;\n    this.patients = new ArrayList&lt;Patient&gt;();\n}\n</code></pre>\n"}],"owner":{"account_id":27538649,"reputation":1,"user_id":21015801,"display_name":"mehso"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673834158,"creation_date":1673832473,"question_id":75129532,"body_markdown":"          `public Provider(String healthProvider) {\r\n\t      if (this.healthProvider == null) {\r\n\t\t\tthrow new IllegalArgumentException(PROVIDER_NULL);\r\n\t      }\r\n\t\t\r\n\t      if (this.healthProvider.isBlank()) {\r\n\t\t\tthrow new IllegalArgumentException(PROVIDER_ISBLANK);\r\n\t      }\r\n\t      this.healthProvider = healthProvider;\r\n\t       this.patients = new ArrayList&lt;Patient&gt;();\r\n\t  }\r\n`\r\n\r\n       when placed like this, my preconditions for isBlank does pass but that of null passes\r\n\r\n          public Provider(String healthProvider) {\r\n\t      this.healthProvider = healthProvider;\r\n              this.patients = new ArrayList&lt;Patient&gt;();\r\n\t      if (this.healthProvider == null) {\r\n\t\t\tthrow new IllegalArgumentException(PROVIDER_NULL);\r\n\t      }\r\n\t\t\r\n\t      if (this.healthProvider.isBlank()) {\r\n\t\t\tthrow new IllegalArgumentException(PROVIDER_ISBLANK);\r\n              }\r\n\t\t\r\n\t   }\r\n\r\n\r\nwhen i place the code like this my junit test passes but when i place the initialized data members after the preconditions, it doesnt pass.","title":"is it proper to initialize an instance variable in a constructor before preconditions in java","body":"<pre><code>      `public Provider(String healthProvider) {\n      if (this.healthProvider == null) {\n        throw new IllegalArgumentException(PROVIDER_NULL);\n      }\n    \n      if (this.healthProvider.isBlank()) {\n        throw new IllegalArgumentException(PROVIDER_ISBLANK);\n      }\n      this.healthProvider = healthProvider;\n       this.patients = new ArrayList&lt;Patient&gt;();\n  }\n</code></pre>\n<p>`</p>\n<pre><code>   when placed like this, my preconditions for isBlank does pass but that of null passes\n\n      public Provider(String healthProvider) {\n      this.healthProvider = healthProvider;\n          this.patients = new ArrayList&lt;Patient&gt;();\n      if (this.healthProvider == null) {\n        throw new IllegalArgumentException(PROVIDER_NULL);\n      }\n    \n      if (this.healthProvider.isBlank()) {\n        throw new IllegalArgumentException(PROVIDER_ISBLANK);\n          }\n    \n   }\n</code></pre>\n<p>when i place the code like this my junit test passes but when i place the initialized data members after the preconditions, it doesnt pass.</p>\n"},{"tags":["java","linux","kotlin","named-pipes"],"answers":[{"tags":[],"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673833657,"creation_date":1673832832,"answer_id":75129563,"question_id":75129355,"body_markdown":"If I understood properly, the problem starts when other side closes pipe, we may overcome that by opening pipe in rw mode:\r\n\r\n```java\r\ntry (RandomAccessFile raf = new RandomAccessFile(PIPE_NAME, &quot;rw&quot;)) {\r\n    String str;\r\n    while ((str = raf.readLine()) != null) {\r\n        System.out.println(str);\r\n    }\r\n}\r\n```\r\n\r\nin that case you will never get EOF since pipe is always open for write, thus the while loop never exits, however I do believe that is exactly what you want to achieve.\r\n\r\nAnother options is to reopen pipe after EOF, i.e.:\r\n\r\n```java\r\nwhile (true) {\r\n    try (BufferedReader reader = new BufferedReader(new FileReader(PIPE_NAME))) {\r\n        String str;\r\n        while ((str = reader.readLine()) != null) {\r\n            System.out.println(str);\r\n        }\r\n    }\r\n}\r\n```","title":"How to listen for data in named pipe in Java/Kotlin in Linux?","body":"<p>If I understood properly, the problem starts when other side closes pipe, we may overcome that by opening pipe in rw mode:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try (RandomAccessFile raf = new RandomAccessFile(PIPE_NAME, &quot;rw&quot;)) {\n    String str;\n    while ((str = raf.readLine()) != null) {\n        System.out.println(str);\n    }\n}\n</code></pre>\n<p>in that case you will never get EOF since pipe is always open for write, thus the while loop never exits, however I do believe that is exactly what you want to achieve.</p>\n<p>Another options is to reopen pipe after EOF, i.e.:</p>\n<pre class=\"lang-java prettyprint-override\"><code>while (true) {\n    try (BufferedReader reader = new BufferedReader(new FileReader(PIPE_NAME))) {\n        String str;\n        while ((str = reader.readLine()) != null) {\n            System.out.println(str);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":232352,"reputation":16522,"user_id":497132,"accept_rate":75,"display_name":"artem"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":189,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673833657,"creation_date":1673829108,"question_id":75129355,"body_markdown":"I want to listen for a named pipe on Linux (and only Linux) using Kotlin or Java. Currently I do the following:\r\n\r\n```\r\nval reader = File(PIPE_NAME).bufferedReader()\r\nwhile (true) {\r\n  reader.readLine()?.let { string -&gt;\r\n  // Next actions\r\n}\r\n```\r\n\r\nThis approach works, however the downside is that if nothing is available at the moment, `readLine` will return null, so the loop will consume the CPU.\r\n\r\nAdding `sleep` is not an option as it&#39;s critical to get data ASAP.\r\n\r\nSo, the question is  is it possible to somehow read lines from a named pipe only when they&#39;re available and block otherwise?","title":"How to listen for data in named pipe in Java/Kotlin in Linux?","body":"<p>I want to listen for a named pipe on Linux (and only Linux) using Kotlin or Java. Currently I do the following:</p>\n<pre><code>val reader = File(PIPE_NAME).bufferedReader()\nwhile (true) {\n  reader.readLine()?.let { string -&gt;\n  // Next actions\n}\n</code></pre>\n<p>This approach works, however the downside is that if nothing is available at the moment, <code>readLine</code> will return null, so the loop will consume the CPU.</p>\n<p>Adding <code>sleep</code> is not an option as it's critical to get data ASAP.</p>\n<p>So, the question is  is it possible to somehow read lines from a named pipe only when they're available and block otherwise?</p>\n"},{"tags":["java","android-edittext","android-textinputedittext"],"comments":[{"owner":{"account_id":19321579,"reputation":137,"user_id":14125161,"display_name":"ahtasham nazeer"},"score":0,"creation_date":1673833279,"post_id":75129550,"comment_id":132579238,"body_markdown":"can you provide more information","body":"can you provide more information"},{"owner":{"account_id":11064136,"reputation":45,"user_id":8124428,"display_name":"Pedro Moreira"},"score":0,"creation_date":1673833668,"post_id":75129550,"comment_id":132579288,"body_markdown":"already edit the question","body":"already edit the question"},{"owner":{"account_id":21284254,"reputation":1133,"user_id":16682019,"display_name":"Julius Babies"},"score":0,"creation_date":1675175649,"post_id":75129550,"comment_id":132869122,"body_markdown":"This is only possible in landscape mode on small displays.","body":"This is only possible in landscape mode on small displays."}],"owner":{"account_id":11064136,"reputation":45,"user_id":8124428,"display_name":"Pedro Moreira"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673833502,"creation_date":1673832712,"question_id":75129550,"body_markdown":"Can someone help me to put an EditText input Method (android) open in fullscreen mode ? \r\nlike this:\r\n[![enter image description here][1]][1]\r\n\r\nThank You for the attention\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OHEEC.png","title":"Edit Text Input in Full Screen Android","body":"<p>Can someone help me to put an EditText input Method (android) open in fullscreen mode ?\nlike this:\n<a href=\"https://i.stack.imgur.com/OHEEC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OHEEC.png\" alt=\"enter image description here\" /></a></p>\n<p>Thank You for the attention</p>\n"},{"tags":["java","apple-push-notifications"],"comments":[{"owner":{"account_id":1013103,"reputation":73,"user_id":1025251,"display_name":"keoaudam"},"score":1,"creation_date":1341542358,"post_id":11342293,"comment_id":14956191,"body_markdown":"Problem solve, it&#39;s because of the environment on Windows. For Mac and Ubuntu, it work fine !","body":"Problem solve, it&#39;s because of the environment on Windows. For Mac and Ubuntu, it work fine !"},{"owner":{"account_id":204434,"reputation":895,"user_id":452647,"accept_rate":90,"display_name":"meadlai"},"score":0,"creation_date":1357803261,"post_id":11342293,"comment_id":27479591,"body_markdown":"do you use a networking-Proxy?","body":"do you use a networking-Proxy?"},{"owner":{"account_id":999615,"reputation":1562,"user_id":1014789,"accept_rate":100,"display_name":"Norbert Bicsi"},"score":0,"creation_date":1359845972,"post_id":11342293,"comment_id":20501113,"body_markdown":"Im on a mac, same prob, sais &#39;SENT SUCCESSFULLY&#39; but im not getting anything on device.","body":"Im on a mac, same prob, sais &#39;SENT SUCCESSFULLY&#39; but im not getting anything on device."},{"owner":{"account_id":392784,"reputation":261,"user_id":754269,"accept_rate":89,"display_name":"jeevs"},"score":0,"creation_date":1375350259,"post_id":11342293,"comment_id":26303206,"body_markdown":"@keoaudam I am on ubuntu and getting same problem. Can you help me out ??","body":"@keoaudam I am on ubuntu and getting same problem. Can you help me out ??"}],"answers":[{"tags":[],"owner":{"account_id":5670760,"reputation":1,"user_id":4485458,"display_name":"Anuroop Vincent"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1421994741,"creation_date":1421994388,"answer_id":28104201,"question_id":11342293,"body_markdown":"this line should \r\n\r\n    List&lt;PushedNotification&gt; NOTIFICATIONS = Push.payload(payload, &quot;D:\\\\keystore1.p12&quot;, &quot;123456&quot;, true, &quot;AA67F2F18586D2C83398F9E5E5BE8BA1CD3FF80257CC74BACF2938CE144BA71D&quot;);\r\n\r\nshould change to this\r\n\r\n    List&lt;PushedNotification&gt; NOTIFICATIONS = Push.payload(payload, &quot;D:\\\\keystore1.p12&quot;, &quot;123456&quot;, false, &quot;AA67F2F18586D2C83398F9E5E5BE8BA1CD3FF80257CC74BACF2938CE144BA71D&quot;);\r\n\r\n","title":"JAVAPNS 2.2 success push but not receive on device","body":"<p>this line should </p>\n\n<pre><code>List&lt;PushedNotification&gt; NOTIFICATIONS = Push.payload(payload, \"D:\\\\keystore1.p12\", \"123456\", true, \"AA67F2F18586D2C83398F9E5E5BE8BA1CD3FF80257CC74BACF2938CE144BA71D\");\n</code></pre>\n\n<p>should change to this</p>\n\n<pre><code>List&lt;PushedNotification&gt; NOTIFICATIONS = Push.payload(payload, \"D:\\\\keystore1.p12\", \"123456\", false, \"AA67F2F18586D2C83398F9E5E5BE8BA1CD3FF80257CC74BACF2938CE144BA71D\");\n</code></pre>\n"}],"owner":{"account_id":1013103,"reputation":73,"user_id":1025251,"display_name":"keoaudam"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7643,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1673831160,"creation_date":1341483611,"question_id":11342293,"body_markdown":"enter code here I try to push from Java by using JAVAPNS 2.2\r\n\r\nthis is my code\r\n\r\n    import java.util.*;\r\n    import org.apache.log4j.BasicConfigurator;\r\n    import org.json.JSONException;\r\n    import javapns.*;\r\n    import javapns.communication.exceptions.CommunicationException;\r\n    import javapns.communication.exceptions.KeystoreException;\r\n    import javapns.notification.PushNotificationPayload;\r\n    import javapns.notification.PushedNotification;\r\n    import javapns.notification.ResponsePacket;\r\n\r\n\r\n\r\n    public class Test {\r\n\r\n\t/**\r\n\t * @param args\r\n\t */\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tBasicConfigurator.configure();\r\n\r\n\t\ttry {\r\n\r\n\t\t\tPushNotificationPayload payload = PushNotificationPayload.complex();\r\n\r\n\t\t\tpayload.addAlert(&quot;Hello World&quot;);\r\n\t\t\tpayload.addBadge(1);\r\n\t\t\tpayload.addSound(&quot;default&quot;);\r\n\t\t\tpayload.addCustomDictionary(&quot;id&quot;, &quot;1&quot;);\r\n\r\n\r\n\t\t\tSystem.out.println(payload.toString());\r\n\t\t\tList&lt;PushedNotification&gt; NOTIFICATIONS = Push.payload(payload, &quot;D:\\\\keystore1.p12&quot;, &quot;123456&quot;, true, &quot;AA67F2F18586D2C83398F9E5E5BE8BA1CD3FF80257CC74BACF2938CE144BA71D&quot;);\r\n\t\t\t\r\n\t\t\tfor (PushedNotification NOTIFICATION : NOTIFICATIONS) {\r\n\t            if (NOTIFICATION.isSuccessful()) {\r\n\t                    /* APPLE ACCEPTED THE NOTIFICATION AND SHOULD DELIVER IT */  \r\n\t                    System.out.println(&quot;PUSH NOTIFICATION SENT SUCCESSFULLY TO: &quot; +\r\n\t                                                    NOTIFICATION.getDevice().getToken());\r\n\t                    /* STILL NEED TO QUERY THE FEEDBACK SERVICE REGULARLY */  \r\n\t            } \r\n\t            else {\r\n\t                    String INVALIDTOKEN = NOTIFICATION.getDevice().getToken();\r\n\t                    /* ADD CODE HERE TO REMOVE INVALIDTOKEN FROM YOUR DATABASE */  \r\n\r\n\t                    /* FIND OUT MORE ABOUT WHAT THE PROBLEM WAS */  \r\n\t                    Exception THEPROBLEM = NOTIFICATION.getException();\r\n\t                    THEPROBLEM.printStackTrace();\r\n\r\n\t                    /* IF THE PROBLEM WAS AN ERROR-RESPONSE PACKET RETURNED BY APPLE, GET IT */  \r\n\t                    ResponsePacket THEERRORRESPONSE = NOTIFICATION.getResponse();\r\n\t                    if (THEERRORRESPONSE != null) {\r\n\t                            System.out.println(THEERRORRESPONSE.getMessage());\r\n\t                    }\r\n\t            }\r\n\t      }\r\n\r\n\r\n\t\t} catch (CommunicationException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t} catch (KeystoreException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t} catch (JSONException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n    }\r\n\r\nThe library sent successfully but I never get a push on my device. I&#39;ve try many tokens of my devices and even try to regenerate the certificate .12 but still no use.\r\n\r\nLog\r\n\r\n    0 [main] DEBUG javapns.notification.Payload  - Adding alert [Hello World]\r\n    \r\n    1 [main] DEBUG javapns.notification.Payload  - Adding badge [1]\r\n    \r\n    1 [main] DEBUG javapns.notification.Payload  - Adding sound [default]\r\n    \r\n    1 [main] DEBUG javapns.notification.Payload  - Adding custom Dictionary [id] = [1]\r\n    \r\n    {&quot;id&quot;:&quot;1&quot;,&quot;aps&quot;:{&quot;sound&quot;:&quot;default&quot;,&quot;alert&quot;:&quot;Hello World&quot;,&quot;badge&quot;:1}}\r\n    \r\n    292 [main] DEBUG javapns.communication.ConnectionToAppleServer  - Creating SSLSocketFactory\r\n    \r\n    341 [main] DEBUG javapns.communication.ConnectionToAppleServer  - Creating SSLSocket to gateway.push.apple.com:2195\r\n    \r\n    972 [main] DEBUG javapns.notification.PushNotificationManager  - Initialized Connection to \r\n    Host: [gateway.push.apple.com] Port: [2195]: 1923e91b[SSL_NULL_WITH_NULL_NULL: Socket[addr=gateway.push.apple.com/17.149.35.173,port=2195,localport=65225]]\r\n    \r\n    974 [main] DEBUG javapns.notification.PushNotificationManager  - Building Raw message from deviceToken and payload\r\n    \r\n    974 [main] DEBUG javapns.notification.PushNotificationManager  - Built raw message ID 1 of total length 113\r\n    \r\n    974 [main] DEBUG javapns.notification.PushNotificationManager  - Attempting to send notification: {&quot;id&quot;:&quot;1&quot;,&quot;aps&quot;:{&quot;sound&quot;:&quot;default&quot;,&quot;alert&quot;:&quot;Hello World&quot;,&quot;badge&quot;:1}}\r\n    \r\n    974 [main] DEBUG javapns.notification.PushNotificationManager  -   to device: AA67F2F18586D2C83398F9E5E5BE8BA1CD3FF80257CC74BACF2938CE144BA71D\r\n    \r\n    1743 [main] DEBUG javapns.notification.PushNotificationManager  - Flushing\r\n    \r\n    1743 [main] DEBUG javapns.notification.PushNotificationManager  - At this point, the entire 113-bytes message has been streamed out successfully through the SSL connection\r\n    \r\n    1743 [main] DEBUG javapns.notification.PushNotificationManager  - Notification sent on first attempt\r\n    \r\n    1743 [main] DEBUG javapns.notification.PushNotificationManager  - Reading responses\r\n    \r\n    1744 [main] DEBUG javapns.notification.PushNotificationManager  - Closing connection\r\n    PUSH NOTIFICATION SENT SUCCESSFULLY TO: AA67F2F18586D2C83398F9E5E5BE8BA1CD3FF80257CC74BACF2938CE144BA71D\r\n\r\nanyone has any idea ?\r\n","title":"JAVAPNS 2.2 success push but not receive on device","body":"<p>enter code here I try to push from Java by using JAVAPNS 2.2</p>\n\n<p>this is my code</p>\n\n<pre><code>import java.util.*;\nimport org.apache.log4j.BasicConfigurator;\nimport org.json.JSONException;\nimport javapns.*;\nimport javapns.communication.exceptions.CommunicationException;\nimport javapns.communication.exceptions.KeystoreException;\nimport javapns.notification.PushNotificationPayload;\nimport javapns.notification.PushedNotification;\nimport javapns.notification.ResponsePacket;\n\n\n\npublic class Test {\n\n/**\n * @param args\n */\npublic static void main(String[] args) {\n\n    BasicConfigurator.configure();\n\n    try {\n\n        PushNotificationPayload payload = PushNotificationPayload.complex();\n\n        payload.addAlert(\"Hello World\");\n        payload.addBadge(1);\n        payload.addSound(\"default\");\n        payload.addCustomDictionary(\"id\", \"1\");\n\n\n        System.out.println(payload.toString());\n        List&lt;PushedNotification&gt; NOTIFICATIONS = Push.payload(payload, \"D:\\\\keystore1.p12\", \"123456\", true, \"AA67F2F18586D2C83398F9E5E5BE8BA1CD3FF80257CC74BACF2938CE144BA71D\");\n\n        for (PushedNotification NOTIFICATION : NOTIFICATIONS) {\n            if (NOTIFICATION.isSuccessful()) {\n                    /* APPLE ACCEPTED THE NOTIFICATION AND SHOULD DELIVER IT */  \n                    System.out.println(\"PUSH NOTIFICATION SENT SUCCESSFULLY TO: \" +\n                                                    NOTIFICATION.getDevice().getToken());\n                    /* STILL NEED TO QUERY THE FEEDBACK SERVICE REGULARLY */  \n            } \n            else {\n                    String INVALIDTOKEN = NOTIFICATION.getDevice().getToken();\n                    /* ADD CODE HERE TO REMOVE INVALIDTOKEN FROM YOUR DATABASE */  \n\n                    /* FIND OUT MORE ABOUT WHAT THE PROBLEM WAS */  \n                    Exception THEPROBLEM = NOTIFICATION.getException();\n                    THEPROBLEM.printStackTrace();\n\n                    /* IF THE PROBLEM WAS AN ERROR-RESPONSE PACKET RETURNED BY APPLE, GET IT */  \n                    ResponsePacket THEERRORRESPONSE = NOTIFICATION.getResponse();\n                    if (THEERRORRESPONSE != null) {\n                            System.out.println(THEERRORRESPONSE.getMessage());\n                    }\n            }\n      }\n\n\n    } catch (CommunicationException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    } catch (KeystoreException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    } catch (JSONException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n}\n}\n</code></pre>\n\n<p>The library sent successfully but I never get a push on my device. I've try many tokens of my devices and even try to regenerate the certificate .12 but still no use.</p>\n\n<p>Log</p>\n\n<pre><code>0 [main] DEBUG javapns.notification.Payload  - Adding alert [Hello World]\n\n1 [main] DEBUG javapns.notification.Payload  - Adding badge [1]\n\n1 [main] DEBUG javapns.notification.Payload  - Adding sound [default]\n\n1 [main] DEBUG javapns.notification.Payload  - Adding custom Dictionary [id] = [1]\n\n{\"id\":\"1\",\"aps\":{\"sound\":\"default\",\"alert\":\"Hello World\",\"badge\":1}}\n\n292 [main] DEBUG javapns.communication.ConnectionToAppleServer  - Creating SSLSocketFactory\n\n341 [main] DEBUG javapns.communication.ConnectionToAppleServer  - Creating SSLSocket to gateway.push.apple.com:2195\n\n972 [main] DEBUG javapns.notification.PushNotificationManager  - Initialized Connection to \nHost: [gateway.push.apple.com] Port: [2195]: 1923e91b[SSL_NULL_WITH_NULL_NULL: Socket[addr=gateway.push.apple.com/17.149.35.173,port=2195,localport=65225]]\n\n974 [main] DEBUG javapns.notification.PushNotificationManager  - Building Raw message from deviceToken and payload\n\n974 [main] DEBUG javapns.notification.PushNotificationManager  - Built raw message ID 1 of total length 113\n\n974 [main] DEBUG javapns.notification.PushNotificationManager  - Attempting to send notification: {\"id\":\"1\",\"aps\":{\"sound\":\"default\",\"alert\":\"Hello World\",\"badge\":1}}\n\n974 [main] DEBUG javapns.notification.PushNotificationManager  -   to device: AA67F2F18586D2C83398F9E5E5BE8BA1CD3FF80257CC74BACF2938CE144BA71D\n\n1743 [main] DEBUG javapns.notification.PushNotificationManager  - Flushing\n\n1743 [main] DEBUG javapns.notification.PushNotificationManager  - At this point, the entire 113-bytes message has been streamed out successfully through the SSL connection\n\n1743 [main] DEBUG javapns.notification.PushNotificationManager  - Notification sent on first attempt\n\n1743 [main] DEBUG javapns.notification.PushNotificationManager  - Reading responses\n\n1744 [main] DEBUG javapns.notification.PushNotificationManager  - Closing connection\nPUSH NOTIFICATION SENT SUCCESSFULLY TO: AA67F2F18586D2C83398F9E5E5BE8BA1CD3FF80257CC74BACF2938CE144BA71D\n</code></pre>\n\n<p>anyone has any idea ?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9267,"page":725,"page_size":100}
