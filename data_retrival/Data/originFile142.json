{"items":[{"tags":["java","spring","spring-boot","resttemplate","oauth2resttemplate"],"answers":[{"tags":[],"owner":{"account_id":18741364,"reputation":62,"user_id":13664556,"display_name":"Kumar Sinha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696504752,"creation_date":1696504752,"answer_id":77236624,"question_id":77236558,"body_markdown":"Ensure these dependencies\r\n```\r\n&lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n&lt;artifactId&gt;httpclient&lt;/artifactId&gt;\r\n```\r\nConfigure the HttpComponentsClientHttpRequestFactory bean and then inject it into your OAuth2RestTemplate bean:\r\n\r\n```\r\n@Configuration\r\npublic class ResourceConfig {\r\n\r\n    @Bean\r\n    public HttpComponentsClientHttpRequestFactory clientHttpRequestFactory() {\r\n        HttpComponentsClientHttpRequestFactory factory = new HttpComponentsClientHttpRequestFactory();\r\n        factory.setConnectTimeout(5000); // 5 seconds\r\n        factory.setReadTimeout(5000);    // 5 seconds\r\n        return factory;\r\n    }\r\n\r\n    @Bean\r\n    public OAuth2RestTemplate oAuth2RestTemplate() {\r\n        ResourceOwnerPasswordResourceDetails resourceDetails = new ResourceOwnerPasswordResourceDetails();\r\n        resourceDetails.setAccessTokenUri(&quot;YOUR_ACCESS_TOKEN_URI&quot;);\r\n        resourceDetails.setClientId(&quot;YOUR_CLIENT_ID&quot;);\r\n        resourceDetails.setClientSecret(&quot;YOUR_CLIENT_SECRET&quot;);\r\n        resourceDetails.setClientAuthenticationScheme(AuthenticationScheme.header);\r\n\r\n        OAuth2RestTemplate restTemplate = new OAuth2RestTemplate(resourceDetails);\r\n        restTemplate.setRequestFactory(clientHttpRequestFactory());\r\n        \r\n        return restTemplate;\r\n    }\r\n}\r\n```","title":"How to add rest API request time out in OAuth2RestTemplate in spring boot?","body":"<p>Ensure these dependencies</p>\n<pre><code>&lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n&lt;artifactId&gt;httpclient&lt;/artifactId&gt;\n</code></pre>\n<p>Configure the HttpComponentsClientHttpRequestFactory bean and then inject it into your OAuth2RestTemplate bean:</p>\n<pre><code>@Configuration\npublic class ResourceConfig {\n\n    @Bean\n    public HttpComponentsClientHttpRequestFactory clientHttpRequestFactory() {\n        HttpComponentsClientHttpRequestFactory factory = new HttpComponentsClientHttpRequestFactory();\n        factory.setConnectTimeout(5000); // 5 seconds\n        factory.setReadTimeout(5000);    // 5 seconds\n        return factory;\n    }\n\n    @Bean\n    public OAuth2RestTemplate oAuth2RestTemplate() {\n        ResourceOwnerPasswordResourceDetails resourceDetails = new ResourceOwnerPasswordResourceDetails();\n        resourceDetails.setAccessTokenUri(&quot;YOUR_ACCESS_TOKEN_URI&quot;);\n        resourceDetails.setClientId(&quot;YOUR_CLIENT_ID&quot;);\n        resourceDetails.setClientSecret(&quot;YOUR_CLIENT_SECRET&quot;);\n        resourceDetails.setClientAuthenticationScheme(AuthenticationScheme.header);\n\n        OAuth2RestTemplate restTemplate = new OAuth2RestTemplate(resourceDetails);\n        restTemplate.setRequestFactory(clientHttpRequestFactory());\n        \n        return restTemplate;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":16584480,"reputation":121,"user_id":11984272,"display_name":"Rahul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696504752,"creation_date":1696504260,"question_id":77236558,"body_markdown":"In my spring boot microservices, I am using OAuth2RestTemplate to make rest API call. Now, We have to add request time out in rest api call and for that I tried \r\n**spring.mvc.async.request-timeout=20000 in application.properties** file but did not work. \r\n\r\n    @Configuration\r\n    public class ResourceConfig {\r\n    \r\n       @Bean\r\n       @LoadBalanced\r\n       @Qualifier(&quot;oauth2BalancedRestTemplate&quot;)\r\n       public OAuth2RestTemplate oauth2BalancedRestTemplate(@Qualifier(&quot;oauth2RestTemplate&quot;) OAuth2RestTemplate bean) {\r\n          OAuth2RestTemplate restTemplate = new OAuth2RestTemplate(bean.getResource());\r\n          restTemplate.setRequestFactory(bean.getRequestFactory());\r\n          return restTemplate;\r\n       }\r\n       \r\n       @Bean\r\n       @LoadBalanced\r\n       @Qualifier(&quot;oauth2JWTBalancedRestTemplate&quot;)\r\n       public OAuth2RestTemplate oauth2JWTBalancedRestTemplate(@Qualifier(&quot;oauth2JWTRestTemplate&quot;) OAuth2RestTemplate bean) {\r\n          OAuth2RestTemplate restTemplate = new OAuth2RestTemplate(bean.getResource());\r\n          restTemplate.setRequestFactory(bean.getRequestFactory());\r\n          return restTemplate;\r\n       } \r\n    }\r\n\r\n    @Service\r\n    public class ApiCall {\r\n    \r\n       @Value(&quot;${url}&quot;)\r\n       private String uri;\r\n       \r\n       @Value(&quot;${endpoint}&quot;)\r\n       private String endpoint;\r\n       \r\n       @Autowired\r\n       @Qualifier(&quot;oauth2JWTBalancedRestTemplate&quot;)\r\n       private OAuth2RestTemplate restTemplate;\r\n    \r\n       public Response getTrdDetail(Request req) {\r\n         HttpHeaders headers = new HttpHeaders();\r\n         HttpEntity&lt;Request&gt; httpEntity = new HttpEntity&lt;Request&gt; (req, headers);\r\n         return restTemplate.exchange(uri + endpoint, HttpMethod.POST, httpEntity, Response.class);\r\n       \r\n       }\r\n    }","title":"How to add rest API request time out in OAuth2RestTemplate in spring boot?","body":"<p>In my spring boot microservices, I am using OAuth2RestTemplate to make rest API call. Now, We have to add request time out in rest api call and for that I tried\n<strong>spring.mvc.async.request-timeout=20000 in application.properties</strong> file but did not work.</p>\n<pre><code>@Configuration\npublic class ResourceConfig {\n\n   @Bean\n   @LoadBalanced\n   @Qualifier(&quot;oauth2BalancedRestTemplate&quot;)\n   public OAuth2RestTemplate oauth2BalancedRestTemplate(@Qualifier(&quot;oauth2RestTemplate&quot;) OAuth2RestTemplate bean) {\n      OAuth2RestTemplate restTemplate = new OAuth2RestTemplate(bean.getResource());\n      restTemplate.setRequestFactory(bean.getRequestFactory());\n      return restTemplate;\n   }\n   \n   @Bean\n   @LoadBalanced\n   @Qualifier(&quot;oauth2JWTBalancedRestTemplate&quot;)\n   public OAuth2RestTemplate oauth2JWTBalancedRestTemplate(@Qualifier(&quot;oauth2JWTRestTemplate&quot;) OAuth2RestTemplate bean) {\n      OAuth2RestTemplate restTemplate = new OAuth2RestTemplate(bean.getResource());\n      restTemplate.setRequestFactory(bean.getRequestFactory());\n      return restTemplate;\n   } \n}\n\n@Service\npublic class ApiCall {\n\n   @Value(&quot;${url}&quot;)\n   private String uri;\n   \n   @Value(&quot;${endpoint}&quot;)\n   private String endpoint;\n   \n   @Autowired\n   @Qualifier(&quot;oauth2JWTBalancedRestTemplate&quot;)\n   private OAuth2RestTemplate restTemplate;\n\n   public Response getTrdDetail(Request req) {\n     HttpHeaders headers = new HttpHeaders();\n     HttpEntity&lt;Request&gt; httpEntity = new HttpEntity&lt;Request&gt; (req, headers);\n     return restTemplate.exchange(uri + endpoint, HttpMethod.POST, httpEntity, Response.class);\n   \n   }\n}\n</code></pre>\n"},{"tags":["java","postgresql","spring-boot","stored-procedures","spring-data-jpa"],"owner":{"account_id":3097035,"reputation":1105,"user_id":2622026,"accept_rate":71,"display_name":"hermit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":167,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696504721,"creation_date":1696504721,"question_id":77236616,"body_markdown":"I am trying to call a stored procedure which looks like this:\r\n\r\n    create or replace procedure my_stored_procedure(\r\n       xIds bigint[],\r\n       yIds bigint[]\r\n    )\r\n\r\nI am trying to call from Spring Data JPA as follows:\r\n\r\n    @Query(value = &quot;CALL my_stored_procedure(:xIds,:yIds);&quot;, nativeQuery = true)\r\n    void deleteArchivedAgents(List&lt;Long&gt; xIds, List&lt;Long&gt; yIds);\r\n\r\n\r\nIt is giving me an error: `ERROR: procedure my_stored_procedure(bigint, bigint, bigint, bigint) does not exist. Hint: No procedure matches the given name and argument types. You might need to add explicit type casts.`\r\n\r\nI know that the corresponding data type for `long` in postgresql is `bigint`. Not sure how to cast the long data type in java to bigint in postgresql.\r\n\r\nNote: The reason it is saying that `procedure my_stored_procedure(bigint, bigint, bigint, bigint) does not exist` is because each list has data of size 2.\r\n\r\nAny help is appreciated.\r\n\r\n\r\n\r\n","title":"Calling stored procedure from Spring Data JPA with multiple params of type list","body":"<p>I am trying to call a stored procedure which looks like this:</p>\n<pre><code>create or replace procedure my_stored_procedure(\n   xIds bigint[],\n   yIds bigint[]\n)\n</code></pre>\n<p>I am trying to call from Spring Data JPA as follows:</p>\n<pre><code>@Query(value = &quot;CALL my_stored_procedure(:xIds,:yIds);&quot;, nativeQuery = true)\nvoid deleteArchivedAgents(List&lt;Long&gt; xIds, List&lt;Long&gt; yIds);\n</code></pre>\n<p>It is giving me an error: <code>ERROR: procedure my_stored_procedure(bigint, bigint, bigint, bigint) does not exist. Hint: No procedure matches the given name and argument types. You might need to add explicit type casts.</code></p>\n<p>I know that the corresponding data type for <code>long</code> in postgresql is <code>bigint</code>. Not sure how to cast the long data type in java to bigint in postgresql.</p>\n<p>Note: The reason it is saying that <code>procedure my_stored_procedure(bigint, bigint, bigint, bigint) does not exist</code> is because each list has data of size 2.</p>\n<p>Any help is appreciated.</p>\n"},{"tags":["java","oracle","oracle11g","obiee"],"comments":[{"owner":{"account_id":350117,"reputation":8653,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"score":0,"creation_date":1696504960,"post_id":77236600,"comment_id":136162993,"body_markdown":"See https://stackoverflow.com/q/69171637/685806","body":"See <a href=\"https://stackoverflow.com/q/69171637/685806\">stackoverflow.com/q/69171637/685806</a>"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1696509308,"post_id":77236600,"comment_id":136163885,"body_markdown":"What does this have to do with java?","body":"What does this have to do with java?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1696525415,"post_id":77236600,"comment_id":136167606,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":27408461,"reputation":1,"user_id":20908751,"display_name":"RGS"},"score":0,"creation_date":1696763638,"post_id":77236600,"comment_id":136192575,"body_markdown":"In the OBIEE Catalog under scorecards there are some hiddenfiles exist are they really need. can we delete?","body":"In the OBIEE Catalog under scorecards there are some hiddenfiles exist are they really need. can we delete?"}],"owner":{"account_id":27408461,"reputation":1,"user_id":20908751,"display_name":"RGS"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696504564,"creation_date":1696504564,"question_id":77236600,"body_markdown":"i have seen in catlog there are some random files and they are in hidden mode.the file names are \r\n\r\nlike  \r\n\r\neecf62800bfd100085670ae4a5190000\r\n\r\nare they are importnt while archiving .please let me know\r\n\r\ni am new to obi .so please consider breif explanaton","title":"Why there are some hidden files in OBIEE12c catlog","body":"<p>i have seen in catlog there are some random files and they are in hidden mode.the file names are</p>\n<p>like</p>\n<p>eecf62800bfd100085670ae4a5190000</p>\n<p>are they are importnt while archiving .please let me know</p>\n<p>i am new to obi .so please consider breif explanaton</p>\n"},{"tags":["java","maven","github-actions","github-pages","javadoc"],"comments":[{"owner":{"account_id":4228050,"reputation":1228,"user_id":3461120,"display_name":"prashant.kr.mod"},"score":0,"creation_date":1671250254,"post_id":70991706,"comment_id":132064526,"body_markdown":"this question is duplicate:\nhttps://stackoverflow.com/questions/72565540/how-to-generate-automatically-a-javadoc-on-a-web-page/74804196#74804196","body":"this question is duplicate: <a href=\"https://stackoverflow.com/questions/72565540/how-to-generate-automatically-a-javadoc-on-a-web-page/74804196#74804196\" title=\"how to generate automatically a javadoc on a web page\">stackoverflow.com/questions/72565540/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":20683611,"reputation":1177,"user_id":15186569,"display_name":"ThrowsError"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1696503960,"creation_date":1644004294,"answer_id":70992127,"question_id":70991706,"body_markdown":"## JavaDoc publisher\r\n\r\nYes, it is possible with this code in your GitHub Actions directory:\r\n\r\n```yaml\r\nname: Deploy Javadoc\r\n\r\non:\r\n  push:\r\n    branches:\r\n      - master\r\n      - main\r\n\r\njobs:\r\n  publish:\r\n    runs-on: ubuntu-latest\r\n    steps:\r\n      - name: Deploy JavaDoc &#128640;\r\n        uses: MathieuSoysal/Javadoc-publisher.yml@v2.3.0\r\n        with:\r\n          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}\r\n          javadoc-branch: javadoc\r\n          java-version: 17\r\n          target-folder: javadoc \r\n```\r\nCredit: https://github.com/MathieuSoysal/Javadoc-publisher.yml\r\nhttps://github.com/marketplace/actions/deploy-publish-javadoc\r\n\r\nAdd the above YAML file to `/.github/workflows/your-file.yaml` inside your GitHub repository. It publishes the JavaDoc automatically when you publish to the *&quot;master&quot;* or *&quot;main&quot;* branch. Your JavaDoc is pushed onto the *javadoc* branch, and is deployed with GitHub Pages.\r\n\r\n***Don&#39;t forget to enable GitHub Pages on your GitHub repo settings***\r\n","title":"Publish automatically JavaDoc: with GitHub Actions","body":"<h2>JavaDoc publisher</h2>\n<p>Yes, it is possible with this code in your GitHub Actions directory:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>name: Deploy Javadoc\n\non:\n  push:\n    branches:\n      - master\n      - main\n\njobs:\n  publish:\n    runs-on: ubuntu-latest\n    steps:\n      - name: Deploy JavaDoc 🚀\n        uses: MathieuSoysal/Javadoc-publisher.yml@v2.3.0\n        with:\n          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}\n          javadoc-branch: javadoc\n          java-version: 17\n          target-folder: javadoc \n</code></pre>\n<p>Credit: <a href=\"https://github.com/MathieuSoysal/Javadoc-publisher.yml\" rel=\"nofollow noreferrer\">https://github.com/MathieuSoysal/Javadoc-publisher.yml</a>\n<a href=\"https://github.com/marketplace/actions/deploy-publish-javadoc\" rel=\"nofollow noreferrer\">https://github.com/marketplace/actions/deploy-publish-javadoc</a></p>\n<p>Add the above YAML file to <code>/.github/workflows/your-file.yaml</code> inside your GitHub repository. It publishes the JavaDoc automatically when you publish to the <em>&quot;master&quot;</em> or <em>&quot;main&quot;</em> branch. Your JavaDoc is pushed onto the <em>javadoc</em> branch, and is deployed with GitHub Pages.</p>\n<p><em><strong>Don't forget to enable GitHub Pages on your GitHub repo settings</strong></em></p>\n"}],"owner":{"account_id":24111781,"reputation":251,"user_id":18082282,"display_name":"Rasbypy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1384,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":70992127,"answer_count":1,"score":5,"last_activity_date":1696503960,"creation_date":1644002031,"question_id":70991706,"body_markdown":"## Introduction\r\nI am currently working on a Java Maven project in GitHub, and I&#39;m building a JavaDoc and posting it to a GitHub page.\r\n\r\n## Question\r\n\r\nAnd I was wondering if it would be possible to automate this with a GitHub Actions, if so how?","title":"Publish automatically JavaDoc: with GitHub Actions","body":"<h2>Introduction</h2>\n<p>I am currently working on a Java Maven project in GitHub, and I'm building a JavaDoc and posting it to a GitHub page.</p>\n<h2>Question</h2>\n<p>And I was wondering if it would be possible to automate this with a GitHub Actions, if so how?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":966579,"reputation":3980,"user_id":989920,"accept_rate":76,"display_name":"evolutionxbox"},"score":2,"creation_date":1696499567,"post_id":77236040,"comment_id":136162000,"body_markdown":"I removed all the unrelated tags. Please don&#39;t tag spam","body":"I removed all the unrelated tags. Please don&#39;t tag spam"},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1696500087,"post_id":77236040,"comment_id":136162106,"body_markdown":"Does this answer your question? [Java primitive type variable storage](https://stackoverflow.com/questions/67477260/java-primitive-type-variable-storage)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/67477260/java-primitive-type-variable-storage\">Java primitive type variable storage</a>"},{"owner":{"account_id":13203350,"reputation":868,"user_id":9535950,"display_name":"Thomas Behr"},"score":4,"creation_date":1696500107,"post_id":77236040,"comment_id":136162110,"body_markdown":"The &quot;size&quot; of primitives is defined in chapter [Primitive Types and Values](https://docs.oracle.com/javase/specs/jvms/se21/html/jvms-2.html#jvms-2.3) of the Java Virtual Machine Specification.","body":"The &quot;size&quot; of primitives is defined in chapter <a href=\"https://docs.oracle.com/javase/specs/jvms/se21/html/jvms-2.html#jvms-2.3\" rel=\"nofollow noreferrer\">Primitive Types and Values</a> of the Java Virtual Machine Specification."},{"owner":{"account_id":213468,"reputation":103493,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1696501148,"post_id":77236040,"comment_id":136162301,"body_markdown":"Given there size is fixed by specification, there is generally no good reason to have to query that in a program at runtime. Why do you even need to know this?","body":"Given there size is fixed by specification, there is generally no good reason to have to query that in a program at runtime. Why do you even need to know this?"}],"answers":[{"tags":[],"owner":{"account_id":3097035,"reputation":1105,"user_id":2622026,"accept_rate":71,"display_name":"hermit"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1696503708,"creation_date":1696500512,"answer_id":77236144,"question_id":77236040,"body_markdown":"You can just use the `SIZE` variable of the respective data type. It gives the size of the respective type in bits. If you need the values in bytes, you  can divide the values by 8.\r\n\r\n    System.out.println(Integer.SIZE); //32 bits\r\n    System.out.println(Byte.SIZE); //8 bits\r\n    System.out.println(Float.SIZE); //32 bits\r\n    System.out.println(Long.SIZE); // 64 bits\r\n\r\nEdit: As pointed out by @Jorn there is also BYTES which gives the size in bytes. For example, for integer type,\r\n\r\n    System.out.println(Integer.BYTES); // 4 bytes\r\n  \r\n","title":"How to print the size of a primitive data type in Java?","body":"<p>You can just use the <code>SIZE</code> variable of the respective data type. It gives the size of the respective type in bits. If you need the values in bytes, you  can divide the values by 8.</p>\n<pre><code>System.out.println(Integer.SIZE); //32 bits\nSystem.out.println(Byte.SIZE); //8 bits\nSystem.out.println(Float.SIZE); //32 bits\nSystem.out.println(Long.SIZE); // 64 bits\n</code></pre>\n<p>Edit: As pointed out by @Jorn there is also BYTES which gives the size in bytes. For example, for integer type,</p>\n<pre><code>System.out.println(Integer.BYTES); // 4 bytes\n</code></pre>\n"}],"owner":{"account_id":23418676,"reputation":1,"user_id":17479257,"display_name":"Imtiaz Ahammed Nafiz"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"answer_count":1,"score":-4,"last_activity_date":1696503708,"creation_date":1696499519,"question_id":77236040,"body_markdown":"```\r\npublic class Main {\r\n   public static void main(String[] args) {\r\n   int x = 10;\r\n   byte y = 125;\r\n   float z = 2.5f;\r\n   long ln = 50;\r\n   // How can I know the size of this variables ?\r\n   // it there any way to print the size of this primitive types ?\r\n}\r\n}\r\n```\r\n\r\nHow can I know the size (byte) that is allocated for this data type in Java ?","title":"How to print the size of a primitive data type in Java?","body":"<pre><code>public class Main {\n   public static void main(String[] args) {\n   int x = 10;\n   byte y = 125;\n   float z = 2.5f;\n   long ln = 50;\n   // How can I know the size of this variables ?\n   // it there any way to print the size of this primitive types ?\n}\n}\n</code></pre>\n<p>How can I know the size (byte) that is allocated for this data type in Java ?</p>\n"},{"tags":["java","hibernate","migration","event-listener","integrator"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1696091283,"post_id":77207052,"comment_id":136110958,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":29569203,"reputation":1,"user_id":22661838,"display_name":"MrsH"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696503341,"creation_date":1696077862,"question_id":77207052,"body_markdown":"***Self-answered question***\r\n\r\nWhile migrating a Java Tomcat application from Hibernate 3 to Hibernate 5 (specifically version 5.4.24), we encountered an issue affecting our user creation form. The form, which previously functioned correctly, stopped working as expected.\r\n\r\nThe application in question doesn&#39;t use any additional frameworks for this module. We identified that the root cause of the issue was on the backend, directly related to the Hibernate migration.\r\n\r\nAfter the migration, two specific issues arose:\r\n\r\nHibernate automatically added a new default listener called DefaultSaveOrUpdateListener.\r\nThe order of Hibernate event listeners specified in our configuration file (hibernate.cfg.xml) was no longer being respected.\r\n\r\nSolution\r\n\r\nUse of Integrators\r\n\r\nUpon diving deeper into the Hibernate documentation, I came across the concept of Integrators. This led me to realise that I could manually set the order of event listeners by implementing a custom Integrator.\r\n\r\nHere is the steps of how we solved the issue:\r\n\r\nFirstly, create a custom Integrator by implementing the Integrator interface. Make the necessary changes to order the listeners as you wish.\r\n\r\n```java\r\npublic class CustomSaveUpdateEventIntegrator implements Integrator {\r\n\r\n    private SaveOrUpdateEventListener[] getListeners() {\r\n        SaveOrUpdateEventListener[] listeners = new SaveOrUpdateEventListener[7];\r\n        listeners[6] = new CustomLastSaveOrUpdateEventListener(); // last listener (one before default)\r\n        // ... set the order of listeners in reverse as they are being prepended\r\n        listeners[0] = new CustomFirstSaveOrUpdateEventListener(); // first listener to be executed\r\n        return listeners;\r\n    }\r\n    \r\n    @Override\r\n    public void integrate(Metadata metadata, SessionFactoryImplementor sessionFactory,\r\n                      SessionFactoryServiceRegistry serviceRegistry) {\r\n    // Get existing event listeners\r\n    EventListenerRegistry eventListenerRegistry = serviceRegistry.getService(EventListenerRegistry.class);\r\n    // Get your custom listeners in correct order\r\n    SaveOrUpdateEventListener[] customListeners = getListeners();\r\n    // Register custom listeners\r\n    eventListenerRegistry.prependListeners(EventType.SAVE_UPDATE, listener);\r\n}\r\n\r\n}\r\n```\r\n\r\nIn this code, I created a method getListeners() that manually sets the order of event listeners. Then, in the integrate() method, I added these listeners to the session factory&#39;s registry.\r\n\r\nThen add Integrator Configuration file\r\n\r\nTo ensure that Hibernate picks up your custom Integrator, create a file named org.hibernate.integrator.spi.Integrator within your project&#39;s META-INF/services directory.\r\n\r\nPlace the fully-qualified name of your custom Integrator class inside this file. For example:\r\n\r\n```\r\ncom.yourpackage.yourproject.hibernate.resources.CustomSaveUpdateEventIntegrator\r\n```\r\n\r\nConfiguration Changes\r\n\r\nAdditionally, I made changes to the hibernate.cfg.xml to ensure this Integrator is used only for the specific session context in which we were experiencing issues.\r\n\r\nNote: Hibernate still adds its own DefaultSaveOrUpdateListener, but the custom listeners now take precedence due to their specified order.","title":"Fixing Hibernate Event Listener Order Issue During Migration from Hibernate 3 to 5","body":"<p><em><strong>Self-answered question</strong></em></p>\n<p>While migrating a Java Tomcat application from Hibernate 3 to Hibernate 5 (specifically version 5.4.24), we encountered an issue affecting our user creation form. The form, which previously functioned correctly, stopped working as expected.</p>\n<p>The application in question doesn't use any additional frameworks for this module. We identified that the root cause of the issue was on the backend, directly related to the Hibernate migration.</p>\n<p>After the migration, two specific issues arose:</p>\n<p>Hibernate automatically added a new default listener called DefaultSaveOrUpdateListener.\nThe order of Hibernate event listeners specified in our configuration file (hibernate.cfg.xml) was no longer being respected.</p>\n<p>Solution</p>\n<p>Use of Integrators</p>\n<p>Upon diving deeper into the Hibernate documentation, I came across the concept of Integrators. This led me to realise that I could manually set the order of event listeners by implementing a custom Integrator.</p>\n<p>Here is the steps of how we solved the issue:</p>\n<p>Firstly, create a custom Integrator by implementing the Integrator interface. Make the necessary changes to order the listeners as you wish.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class CustomSaveUpdateEventIntegrator implements Integrator {\n\n    private SaveOrUpdateEventListener[] getListeners() {\n        SaveOrUpdateEventListener[] listeners = new SaveOrUpdateEventListener[7];\n        listeners[6] = new CustomLastSaveOrUpdateEventListener(); // last listener (one before default)\n        // ... set the order of listeners in reverse as they are being prepended\n        listeners[0] = new CustomFirstSaveOrUpdateEventListener(); // first listener to be executed\n        return listeners;\n    }\n    \n    @Override\n    public void integrate(Metadata metadata, SessionFactoryImplementor sessionFactory,\n                      SessionFactoryServiceRegistry serviceRegistry) {\n    // Get existing event listeners\n    EventListenerRegistry eventListenerRegistry = serviceRegistry.getService(EventListenerRegistry.class);\n    // Get your custom listeners in correct order\n    SaveOrUpdateEventListener[] customListeners = getListeners();\n    // Register custom listeners\n    eventListenerRegistry.prependListeners(EventType.SAVE_UPDATE, listener);\n}\n\n}\n</code></pre>\n<p>In this code, I created a method getListeners() that manually sets the order of event listeners. Then, in the integrate() method, I added these listeners to the session factory's registry.</p>\n<p>Then add Integrator Configuration file</p>\n<p>To ensure that Hibernate picks up your custom Integrator, create a file named org.hibernate.integrator.spi.Integrator within your project's META-INF/services directory.</p>\n<p>Place the fully-qualified name of your custom Integrator class inside this file. For example:</p>\n<pre><code>com.yourpackage.yourproject.hibernate.resources.CustomSaveUpdateEventIntegrator\n</code></pre>\n<p>Configuration Changes</p>\n<p>Additionally, I made changes to the hibernate.cfg.xml to ensure this Integrator is used only for the specific session context in which we were experiencing issues.</p>\n<p>Note: Hibernate still adds its own DefaultSaveOrUpdateListener, but the custom listeners now take precedence due to their specified order.</p>\n"},{"tags":["java","katalon-studio","elapsedtime","katalon"],"answers":[{"tags":[],"owner":{"account_id":12016659,"reputation":8089,"user_id":8791568,"display_name":"Mate Mrše"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696502553,"creation_date":1696502553,"answer_id":77236384,"question_id":77161591,"body_markdown":"I&#39;m guessing you are using the script view.\r\n\r\nDo this:\r\n```\r\nimport groovy.time.TimeCategory\r\nimport groovy.time.TimeDuration\r\n\r\nstart = new Date()\r\n\r\n// execute the test\r\n\r\nend = new Date()\r\n\r\nTimeDuration td = TimeCategory.minus(end, start)\r\nprintln td\r\n```","title":"How to get elapsed time when running a test case in Katalon?","body":"<p>I'm guessing you are using the script view.</p>\n<p>Do this:</p>\n<pre><code>import groovy.time.TimeCategory\nimport groovy.time.TimeDuration\n\nstart = new Date()\n\n// execute the test\n\nend = new Date()\n\nTimeDuration td = TimeCategory.minus(end, start)\nprintln td\n</code></pre>\n"}],"owner":{"account_id":27197140,"reputation":17,"user_id":20729888,"display_name":"TaraNG"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696502553,"creation_date":1695441243,"question_id":77161591,"body_markdown":"When running a test case in Katalon then it shows elapsed time of that test case in the log viewer and I want to get that elapsed time automatically to output into a custom report. How can I get this elapsed time?","title":"How to get elapsed time when running a test case in Katalon?","body":"<p>When running a test case in Katalon then it shows elapsed time of that test case in the log viewer and I want to get that elapsed time automatically to output into a custom report. How can I get this elapsed time?</p>\n"},{"tags":["java","spring","spring-boot","kotlin","jackson"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1696498330,"post_id":77235862,"comment_id":136161740,"body_markdown":"Remove `jackson-core` as a dependency, remove the `version` tag from the kotlin one. This is assuming you have `spring-boot-starter-webflux` as a dependency.","body":"Remove <code>jackson-core</code> as a dependency, remove the <code>version</code> tag from the kotlin one. This is assuming you have <code>spring-boot-starter-webflux</code> as a dependency."},{"owner":{"account_id":14811438,"reputation":1,"user_id":10696962,"display_name":"kartik Chauhan"},"score":0,"creation_date":1696499476,"post_id":77235862,"comment_id":136161977,"body_markdown":"I did as   you mentioned @M.Deinum, still facing the same issue. I have spring-boot-starter-webflux","body":"I did as   you mentioned @M.Deinum, still facing the same issue. I have spring-boot-starter-webflux"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1696500615,"post_id":77235862,"comment_id":136162205,"body_markdown":"Please add all your dependencies (or your full `pom.xml`) to the question. The fact that you had these in there makes me wonder what else you have. Also be aware that Spring BOot 3.2 is not a production release yet but still under development!.","body":"Please add all your dependencies (or your full <code>pom.xml</code>) to the question. The fact that you had these in there makes me wonder what else you have. Also be aware that Spring BOot 3.2 is not a production release yet but still under development!."},{"owner":{"account_id":14811438,"reputation":1,"user_id":10696962,"display_name":"kartik Chauhan"},"score":0,"creation_date":1696501998,"post_id":77235862,"comment_id":136162454,"body_markdown":"@M.Deinum i have switched to springboot 3.1.4 and added all dependencies i am using in the question","body":"@M.Deinum i have switched to springboot 3.1.4 and added all dependencies i am using in the question"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1696507680,"post_id":77235862,"comment_id":136163552,"body_markdown":"Do you have a `dependencyManagement` section? Also I believe the `spring-cloud-starter-sleuth` isn&#39;t compatible with Spring Boot 3.x and pulls in older dependencies.","body":"Do you have a <code>dependencyManagement</code> section? Also I believe the <code>spring-cloud-starter-sleuth</code> isn&#39;t compatible with Spring Boot 3.x and pulls in older dependencies."},{"owner":{"account_id":3771097,"reputation":2695,"user_id":3133286,"accept_rate":86,"display_name":"ordonezalex"},"score":0,"creation_date":1696577006,"post_id":77235862,"comment_id":136173486,"body_markdown":"Since you haven&#39;t shown your full POM, I&#39;m skeptical about which version of jackson-core is being used in your project. I recommend you double check that you are using Jackson 2.15.0. According to the source, `createNonBlockingByteBufferParser()` should exist: https://github.com/FasterXML/jackson-core/blob/jackson-core-2.15.0/src/main/java/com/fasterxml/jackson/core/JsonFactory.java#L1323 . This method was added in jackson-core 2.14.0, so I suspect your version is older.","body":"Since you haven&#39;t shown your full POM, I&#39;m skeptical about which version of jackson-core is being used in your project. I recommend you double check that you are using Jackson 2.15.0. According to the source, <code>createNonBlockingByteBufferParser()</code> should exist: <a href=\"https://github.com/FasterXML/jackson-core/blob/jackson-core-2.15.0/src/main/java/com/fasterxml/jackson/core/JsonFactory.java#L1323\" rel=\"nofollow noreferrer\">github.com/FasterXML/jackson-core/blob/jackson-core-2.15.0/s&zwnj;&#8203;rc/&hellip;</a> . This method was added in jackson-core 2.14.0, so I suspect your version is older."}],"owner":{"account_id":14811438,"reputation":1,"user_id":10696962,"display_name":"kartik Chauhan"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696501929,"creation_date":1696498240,"question_id":77235862,"body_markdown":"I am using springboot 3.1.4, Java 17 and jackson 2.15.0. I have to migrate a project from springboot 2.7 to springboot 3.1.4. Earlier the webclient call was working fine, but after migrating to springboot 3.1.4, API response from webclient while jackson parsing is giving error.\r\n\r\n```\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n        &lt;kotlin.version&gt;1.7.21&lt;/kotlin.version&gt;\r\n       &lt;springdoc.openapi.version&gt;2.2.0&lt;/springdoc.openapi.version&gt;\r\n        &lt;swagger-annotations.version&gt;2.2.0&lt;/swagger-annotations.version&gt;\r\n        &lt;spring-cloud.version&gt;2022.0.4&lt;/spring-cloud.version&gt;\r\n        &lt;apache.poi.version&gt;5.2.3&lt;/apache.poi.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.module&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-module-kotlin&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.projectreactor.kotlin&lt;/groupId&gt;\r\n            &lt;artifactId&gt;reactor-kotlin-extensions&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\r\n            &lt;artifactId&gt;kotlin-stdlib-jdk8&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jetbrains.kotlinx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;kotlinx-coroutines-reactor&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n            &lt;version&gt;2.8.9&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter-sleuth&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.9&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;jakarta.annotation&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jakarta.annotation-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.1.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n```\r\n\r\nWhile calling another service from webclient, jackson is giving error while parsing webclient response.\r\n\r\n```\r\njava.lang.NoSuchMethodError: &#39;com.fasterxml.jackson.core.JsonParser com.fasterxml.jackson.core.JsonFactory.createNonBlockingByteBufferParser()&#39;\r\n        at org.springframework.http.codec.json.Jackson2Tokenizer.tokenize(Jackson2Tokenizer.java:251)\r\n```","title":"Springboot 3.2 Jackson Parsing error while webclient Call","body":"<p>I am using springboot 3.1.4, Java 17 and jackson 2.15.0. I have to migrate a project from springboot 2.7 to springboot 3.1.4. Earlier the webclient call was working fine, but after migrating to springboot 3.1.4, API response from webclient while jackson parsing is giving error.</p>\n<pre><code>    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;kotlin.version&gt;1.7.21&lt;/kotlin.version&gt;\n       &lt;springdoc.openapi.version&gt;2.2.0&lt;/springdoc.openapi.version&gt;\n        &lt;swagger-annotations.version&gt;2.2.0&lt;/swagger-annotations.version&gt;\n        &lt;spring-cloud.version&gt;2022.0.4&lt;/spring-cloud.version&gt;\n        &lt;apache.poi.version&gt;5.2.3&lt;/apache.poi.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.module&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-module-kotlin&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.projectreactor.kotlin&lt;/groupId&gt;\n            &lt;artifactId&gt;reactor-kotlin-extensions&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n            &lt;artifactId&gt;kotlin-stdlib-jdk8&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jetbrains.kotlinx&lt;/groupId&gt;\n            &lt;artifactId&gt;kotlinx-coroutines-reactor&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\n            &lt;version&gt;2.8.9&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-sleuth&lt;/artifactId&gt;\n            &lt;version&gt;3.1.9&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.annotation&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.annotation-api&lt;/artifactId&gt;\n            &lt;version&gt;2.1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n<p>While calling another service from webclient, jackson is giving error while parsing webclient response.</p>\n<pre><code>java.lang.NoSuchMethodError: 'com.fasterxml.jackson.core.JsonParser com.fasterxml.jackson.core.JsonFactory.createNonBlockingByteBufferParser()'\n        at org.springframework.http.codec.json.Jackson2Tokenizer.tokenize(Jackson2Tokenizer.java:251)\n</code></pre>\n"},{"tags":["java","arrays","jenkins","groovy","jenkins-pipeline"],"comments":[{"owner":{"account_id":1333316,"reputation":26958,"user_id":1276664,"accept_rate":17,"display_name":"daggett"},"score":1,"creation_date":1653945934,"post_id":72440032,"comment_id":127970393,"body_markdown":"`files` is empty , so, `files[0]` throws exception","body":"<code>files</code> is empty , so, <code>files[0]</code> throws exception"},{"owner":{"account_id":11724567,"reputation":13477,"user_id":8582353,"display_name":"yong"},"score":0,"creation_date":1653957011,"post_id":72440032,"comment_id":127971964,"body_markdown":"Change single quote to double quote which conduct `BuildPathPublishRoot` compiled to real value in `&#39;${BuildPathPublishRoot}\\\\30293915.*.zip&#39;`","body":"Change single quote to double quote which conduct <code>BuildPathPublishRoot</code> compiled to real value in <code>&#39;${BuildPathPublishRoot}\\\\30293915.*.zip&#39;</code>"},{"owner":{"account_id":25403030,"reputation":43,"user_id":19212183,"display_name":"Nageswar Reddy"},"score":0,"creation_date":1653979647,"post_id":72440032,"comment_id":127975709,"body_markdown":"this worked for me. Thanks                                                                                              \n           ```{ \n\t\tdef files\n\t\tdir(&quot;${BuildPathPublishRoot}&quot;) {\n\t\tfiles = findFiles(glob: &#39;**&#39;, includes: &#39;.zip&#39;)\n\t//\techo &quot;&quot;&quot;${files[0].length}&quot;&quot;&quot;\n\t\tSize1 = &quot;&quot;&quot;${files[0].length}&quot;&quot;&quot;\n\t\t\n\t\techo Size1\n\t\t\n\t\t}```","body":"this worked for me. Thanks                                                                                                          <code>{  \t\tdef files \t\tdir(&quot;${BuildPathPublishRoot}&quot;) { \t\tfiles = findFiles(glob: &#39;**&#39;, includes: &#39;.zip&#39;) \t&#47;&#47;\techo &quot;&quot;&quot;${files[0].length}&quot;&quot;&quot; \t\tSize1 = &quot;&quot;&quot;${files[0].length}&quot;&quot;&quot; \t\t \t\techo Size1 \t\t \t\t}</code>"}],"answers":[{"tags":[],"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653947156,"creation_date":1653947156,"answer_id":72440314,"question_id":72440032,"body_markdown":"The only array index access you do is in `files[0]`. As the Exception tells you, your array has the length 0, hence you get the error. Maybe add an empty check before accessing it?","title":"getting java.lang.ArrayIndexOutOfBoundsException error in groovy","body":"<p>The only array index access you do is in <code>files[0]</code>. As the Exception tells you, your array has the length 0, hence you get the error. Maybe add an empty check before accessing it?</p>\n"},{"tags":[],"owner":{"account_id":23782799,"reputation":83,"user_id":17795272,"display_name":"Jost Schwider"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654241935,"creation_date":1654241935,"answer_id":72486232,"question_id":72440032,"body_markdown":"Your findFiles does not return an array, so there is no files[0]!","title":"getting java.lang.ArrayIndexOutOfBoundsException error in groovy","body":"<p>Your findFiles does not return an array, so there is no files[0]!</p>\n"},{"tags":[],"owner":{"account_id":2315642,"reputation":1575,"user_id":2032777,"display_name":"PHZ.fi-Pharazon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696501706,"creation_date":1696501706,"answer_id":77236301,"question_id":72440032,"body_markdown":"Yes it&#39;s files[0]. But I got this error message in another context, when using Multibranch pipeline from our Jenkinsfile template that defaults to traditional pipeline, and has\r\n\r\n    BUILD_ENV = [master: &#39;prod&#39;, develop: &#39;stg&#39;].get(env.GIT_BRANCH.split(&#39;/&#39;)[1], &#39;dev&#39;)\r\n\r\nOver here the error message comes from env.GIT_BRANCH which is empty/null in multibranch pipeline.\r\n\r\nOn a multibranch pipeline the same row is:\r\n\r\n    BUILD_ENV = [master: &#39;prod&#39;, develop: &#39;stg&#39;].get(env.BRANCH_NAME, &#39;dev&#39;)","title":"getting java.lang.ArrayIndexOutOfBoundsException error in groovy","body":"<p>Yes it's files[0]. But I got this error message in another context, when using Multibranch pipeline from our Jenkinsfile template that defaults to traditional pipeline, and has</p>\n<pre><code>BUILD_ENV = [master: 'prod', develop: 'stg'].get(env.GIT_BRANCH.split('/')[1], 'dev')\n</code></pre>\n<p>Over here the error message comes from env.GIT_BRANCH which is empty/null in multibranch pipeline.</p>\n<p>On a multibranch pipeline the same row is:</p>\n<pre><code>BUILD_ENV = [master: 'prod', develop: 'stg'].get(env.BRANCH_NAME, 'dev')\n</code></pre>\n"}],"owner":{"account_id":25403030,"reputation":43,"user_id":19212183,"display_name":"Nageswar Reddy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1875,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1696501706,"creation_date":1653944742,"question_id":72440032,"body_markdown":"I am getting `java.lang.ArrayIndexOutOfBoundsException` error in groovy while running below code. \r\n```\r\nstage(&#39;Calculate Opatch size&#39;) { \r\n\t\tdef files = findFiles(glob: &#39;${BuildPathPublishRoot}\\\\30293915.*.zip&#39;) \r\n\t\techo &quot;&quot;&quot;${files[0].length}&quot;&quot;&quot;\r\n}\r\n```\r\n\r\nBelow is the log:\r\n```groovy\r\njava.lang.ArrayIndexOutOfBoundsException: Index 0 out of bounds for length 0\r\n\tat org.codehaus.groovy.runtime.dgmimpl.arrays.ObjectArrayGetAtMetaMethod.invoke(ObjectArrayGetAtMetaMethod.java:41)\r\n\tat groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:325)\r\n\tat groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1225)\r\n```\r\n\r\nCan someone help me to understand the error and fix it. \r\n\t\t","title":"getting java.lang.ArrayIndexOutOfBoundsException error in groovy","body":"<p>I am getting <code>java.lang.ArrayIndexOutOfBoundsException</code> error in groovy while running below code.</p>\n<pre><code>stage('Calculate Opatch size') { \n        def files = findFiles(glob: '${BuildPathPublishRoot}\\\\30293915.*.zip') \n        echo &quot;&quot;&quot;${files[0].length}&quot;&quot;&quot;\n}\n</code></pre>\n<p>Below is the log:</p>\n<pre><code>java.lang.ArrayIndexOutOfBoundsException: Index 0 out of bounds for length 0\n    at org.codehaus.groovy.runtime.dgmimpl.arrays.ObjectArrayGetAtMetaMethod.invoke(ObjectArrayGetAtMetaMethod.java:41)\n    at groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:325)\n    at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1225)\n</code></pre>\n<p>Can someone help me to understand the error and fix it.</p>\n"},{"tags":["java","scala","gradle","caching","github-actions"],"comments":[{"owner":{"account_id":10402418,"reputation":12349,"user_id":7670262,"display_name":"Azeem"},"score":0,"creation_date":1696499668,"post_id":77235698,"comment_id":136162021,"body_markdown":"Please include your GHA workflow in your question as text. Are you observing this behavior in the same workflow run, subsequent runs on the same branch, or unrelated branches?","body":"Please include your GHA workflow in your question as text. Are you observing this behavior in the same workflow run, subsequent runs on the same branch, or unrelated branches?"},{"owner":{"account_id":4254661,"reputation":632,"user_id":3480664,"display_name":"Michel Antoine"},"score":0,"creation_date":1696500468,"post_id":77235698,"comment_id":136162174,"body_markdown":"Caching doesn&#39;t work even though the cache key is the same both on subsequent runs on the same branch and unrelated branches","body":"Caching doesn&#39;t work even though the cache key is the same both on subsequent runs on the same branch and unrelated branches"}],"owner":{"account_id":4254661,"reputation":632,"user_id":3480664,"display_name":"Michel Antoine"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696500558,"creation_date":1696496781,"question_id":77235698,"body_markdown":"I&#39;m trying to debug a gradle cache issue for a Test task in a Java/Scala project. Here is the command I&#39;m running:\r\n```\r\n./gradlew build --no-daemon --info --stacktrace --build-cache -Dorg.gradle.caching.debug=true\r\n```\r\n\r\nThe output I get for the task I&#39;m interested in is:\r\n```\r\nBuild cache key for task &#39;:kafka-utils:test&#39; is 803214d05e5842edc7b3e239f8fe08da\r\nTask &#39;:kafka-utils:test&#39; is not up-to-date because:\r\nTask.upToDateWhen is false.\r\n... (Tests omitted for brevity)\r\nStored cache entry for task &#39;:kafka-utils:test&#39; with cache key 803214d05e5842edc7b3e239f8fe08da\r\n```\r\n\r\nI can see the artifact being created in the remote build cache but no matter how many times I replay the task it&#39;s always going to complain that `Task.upToDateWhen is false.` and rerun the tests. I do not have any particular test configuration that I can find in my gradle configuration files. Now I&#39;m trying to find out where to go from there? How do I get to _why_ `Task.upToDateWhen is false`?\r\n\r\nHere&#39;s my GHA workflow:\r\n\r\n```\r\njobs:\r\n  build:\r\n    runs-on: ubuntu-20.04\r\n    permissions:\r\n      contents: read\r\n    steps:\r\n      - name: Checkout repository\r\n        uses: actions/checkout@v3\r\n        with:\r\n          fetch-depth: 0\r\n\r\n      - name: Set up JDK\r\n        uses: actions/setup-java@v3.13.0\r\n        with:\r\n          java-version: &#39;17&#39;\r\n          distribution: &#39;temurin&#39;\r\n\r\n      - name: Setup Gradle\r\n        uses: gradle/gradle-build-action@v2.8.1\r\n        with:\r\n          cache-read-only: false\r\n\r\n      - name: Gradle build\r\n        env:\r\n          ARTIFACTORY_USER: xxx\r\n          ARTIFACTORY_KEY: xxx\r\n        run: ./gradlew build --no-daemon --info --stacktrace --build-cache -Dorg.gradle.caching.debug=true\r\n```","title":"Gradle cache Task.upToDateWhen is false even though cache key exists","body":"<p>I'm trying to debug a gradle cache issue for a Test task in a Java/Scala project. Here is the command I'm running:</p>\n<pre><code>./gradlew build --no-daemon --info --stacktrace --build-cache -Dorg.gradle.caching.debug=true\n</code></pre>\n<p>The output I get for the task I'm interested in is:</p>\n<pre><code>Build cache key for task ':kafka-utils:test' is 803214d05e5842edc7b3e239f8fe08da\nTask ':kafka-utils:test' is not up-to-date because:\nTask.upToDateWhen is false.\n... (Tests omitted for brevity)\nStored cache entry for task ':kafka-utils:test' with cache key 803214d05e5842edc7b3e239f8fe08da\n</code></pre>\n<p>I can see the artifact being created in the remote build cache but no matter how many times I replay the task it's always going to complain that <code>Task.upToDateWhen is false.</code> and rerun the tests. I do not have any particular test configuration that I can find in my gradle configuration files. Now I'm trying to find out where to go from there? How do I get to <em>why</em> <code>Task.upToDateWhen is false</code>?</p>\n<p>Here's my GHA workflow:</p>\n<pre><code>jobs:\n  build:\n    runs-on: ubuntu-20.04\n    permissions:\n      contents: read\n    steps:\n      - name: Checkout repository\n        uses: actions/checkout@v3\n        with:\n          fetch-depth: 0\n\n      - name: Set up JDK\n        uses: actions/setup-java@v3.13.0\n        with:\n          java-version: '17'\n          distribution: 'temurin'\n\n      - name: Setup Gradle\n        uses: gradle/gradle-build-action@v2.8.1\n        with:\n          cache-read-only: false\n\n      - name: Gradle build\n        env:\n          ARTIFACTORY_USER: xxx\n          ARTIFACTORY_KEY: xxx\n        run: ./gradlew build --no-daemon --info --stacktrace --build-cache -Dorg.gradle.caching.debug=true\n</code></pre>\n"},{"tags":["java","database","hibernate","mariadb"],"answers":[{"tags":[],"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"down_vote_count":6,"up_vote_count":6,"is_accepted":false,"score":0,"last_activity_date":1599068573,"creation_date":1462517571,"answer_id":37066121,"question_id":37066024,"body_markdown":"You should use the Mysql5Dialect, because MariaDB is compatible with mysql.\r\n\r\nhttps://mariadb.com/kb/en/mariadb-vs-mysql-compatibility/#incompatibilities-between-mariadb-55-and-mysql-55","title":"What is the MariaDB dialect class name for Hibernate?","body":"<p>You should use the Mysql5Dialect, because MariaDB is compatible with mysql.</p>\n<p><a href=\"https://mariadb.com/kb/en/mariadb-vs-mysql-compatibility/#incompatibilities-between-mariadb-55-and-mysql-55\" rel=\"nofollow noreferrer\">https://mariadb.com/kb/en/mariadb-vs-mysql-compatibility/#incompatibilities-between-mariadb-55-and-mysql-55</a></p>\n"},{"tags":[],"owner":{"account_id":1723325,"reputation":2701,"user_id":1578559,"display_name":"maxhuang"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1533710531,"creation_date":1478071256,"answer_id":40374379,"question_id":37066024,"body_markdown":"From [here][1], it was mentioned \r\n&quot;it needs to be the MySQL5InnoDBDialect or MySQL57InnoDBDialect instead of the MySQLInnoDBDialect&quot;\r\n\r\nFor complete list, see\r\n[http://docs.jboss.org/hibernate/orm/5.2/userguide/html_single/Hibernate_User_Guide.html#database-dialect][2]\r\n\r\n\r\nNew MariaDB dialect is added in 5.2.17. See [JIRA][3] and [commit][4]\r\n\r\n\r\n  [1]: http://sterl.org/2015/09/spring-boot-mariadb/\r\n  [2]: http://docs.jboss.org/hibernate/orm/5.2/userguide/html_single/Hibernate_User_Guide.html#database-dialect\r\n  [3]: https://hibernate.atlassian.net/browse/HHH-11769\r\n  [4]: https://github.com/hibernate/hibernate-orm/commit/eed7f70751db31a3f02cdf192e070edf8156f695","title":"What is the MariaDB dialect class name for Hibernate?","body":"<p>From <a href=\"http://sterl.org/2015/09/spring-boot-mariadb/\" rel=\"nofollow noreferrer\">here</a>, it was mentioned \n\"it needs to be the MySQL5InnoDBDialect or MySQL57InnoDBDialect instead of the MySQLInnoDBDialect\"</p>\n\n<p>For complete list, see\n<a href=\"http://docs.jboss.org/hibernate/orm/5.2/userguide/html_single/Hibernate_User_Guide.html#database-dialect\" rel=\"nofollow noreferrer\">http://docs.jboss.org/hibernate/orm/5.2/userguide/html_single/Hibernate_User_Guide.html#database-dialect</a></p>\n\n<p>New MariaDB dialect is added in 5.2.17. See <a href=\"https://hibernate.atlassian.net/browse/HHH-11769\" rel=\"nofollow noreferrer\">JIRA</a> and <a href=\"https://github.com/hibernate/hibernate-orm/commit/eed7f70751db31a3f02cdf192e070edf8156f695\" rel=\"nofollow noreferrer\">commit</a></p>\n"},{"tags":[],"owner":{"account_id":5888165,"reputation":2184,"user_id":4635513,"accept_rate":100,"display_name":"AntiTiming"},"down_vote_count":0,"up_vote_count":39,"is_accepted":true,"score":39,"last_activity_date":1493303399,"creation_date":1493303399,"answer_id":43660707,"question_id":37066024,"body_markdown":"As [announced here][1], starting with Hibernate ORM 5.2.8 (around Feb 15, 2017), the dialects\r\n\r\n`org.hibernate.dialect.MariaDB53Dialect`\r\n\r\nand\r\n\r\n`org.hibernate.dialect.MariaDBDialect`\r\n\r\nare available. The announcement concludes that\r\n\r\n&gt; If you are using MariaDB, it’s best to use the MariaDB-specific\r\n&gt; Dialects from now on since it’s much easier to match the MariaDB\r\n&gt; version with its appropriate Hibernate Dialect.\r\n\r\n\r\n  [1]: https://planet.jboss.org/post/mariadb_dialects","title":"What is the MariaDB dialect class name for Hibernate?","body":"<p>As <a href=\"https://planet.jboss.org/post/mariadb_dialects\" rel=\"noreferrer\">announced here</a>, starting with Hibernate ORM 5.2.8 (around Feb 15, 2017), the dialects</p>\n\n<p><code>org.hibernate.dialect.MariaDB53Dialect</code></p>\n\n<p>and</p>\n\n<p><code>org.hibernate.dialect.MariaDBDialect</code></p>\n\n<p>are available. The announcement concludes that</p>\n\n<blockquote>\n  <p>If you are using MariaDB, it’s best to use the MariaDB-specific\n  Dialects from now on since it’s much easier to match the MariaDB\n  version with its appropriate Hibernate Dialect.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1031543,"reputation":4922,"user_id":1039774,"accept_rate":25,"display_name":"Devabc"},"down_vote_count":0,"up_vote_count":59,"is_accepted":false,"score":59,"last_activity_date":1696500366,"creation_date":1533672061,"answer_id":51734560,"question_id":37066024,"body_markdown":"# Update note: Hibernate automatic dialect resolution #\r\nIn older versions of Hibernate, you are required to specify the dialect. But starting with version 3.2, hibernate uses [dialect resolution][1] to automatically determine the target database and the dialect that should be used.\r\n\r\nThe [Hibernate 5.0 userguide][2] says:\r\n&gt; **In most cases** Hibernate will be able to determine the proper Dialect to use by asking some questions of the JDBC Connection during bootstrap.\r\n\r\n&gt; If for some reason it is not able to determine the proper one or you want to use a custom Dialect, you will need to set the hibernate.dialect setting.\r\n\r\n[Hibernate 6.3 userguide][3] even discourages you to set the property:\r\n&gt; In Hibernate 6, it’s **no longer necessary** to explicitly specify a dialect using the configuration property hibernate.dialect, and so setting that property **is now discouraged**. (An exception is the case of custom user-written Dialects.)\r\n\r\nThe [Hibernate 6.3 api doc][4] says:\r\n&gt; As of Hibernate 6, this property should not be explicitly specified, except when using a custom user-written implementation of Dialect. Instead, applications **should allow Hibernate to select the Dialect automatically**.\r\n\r\n\r\n# Very short answer #\r\n\r\nUpdated answer (Oct 05, 2023):\r\n\r\n - org.hibernate.dialect.**MariaDBDialect** for MariaDB server **10.3 and later**\r\n\r\n\r\nUpdate: some of these classes are now deprecated or even removed:\r\n&lt;s&gt;\r\n - org.hibernate.dialect.**MariaDB106Dialect** for MariaDB server **10.6 and later**, provides skip locked support.\r\n - org.hibernate.dialect.**MariaDB103Dialect** for MariaDB server **10.3 and later**, provides sequence support.\r\n - org.hibernate.dialect.**MariaDB102Dialect** for MariaDB server **10.2**\r\n - org.hibernate.dialect.**MariaDB10Dialect** for MariaDB server **10.0 and 10.1**\r\n - org.hibernate.dialect.**MariaDB53Dialect** for MariaDB server **5.3, and later 5.x versions**.\r\n - org.hibernate.dialect.**MariaDBDialect** for MariaDB server **5.1 and 5.2**.\r\n&lt;/s&gt;\r\n\r\n# Short answer #\r\n\r\nWhen using a MariaDB server, you should **use MariaDB Connector/J and MariaDB Hibernate dialects, not the MySQL ones**. Even though MariaDB was created as a drop-in replacement and even though basic features will likely work when using the MySQL versions of those, subtle problems may occur or you may miss certain features.\r\n\r\nA complete list of available MariaDB dialects are currently not mentioned in the Hibernate User Guide, but in the [Hibernate JavaDoc][5]. **Depending on your MariaDB server version, you should select the corresponding dialect version**. The current dialects as of this writing are:\r\n\r\n - org.hibernate.dialect.MariaDB102Dialect for MariaDB server 10.2\r\n - org.hibernate.dialect.MariaDB103Dialect for MariaDB server 10.3 and later, provides sequence support.\r\n - org.hibernate.dialect.MariaDB10Dialect for MariaDB server 10.0 and 10.1\r\n - org.hibernate.dialect.MariaDB53Dialect for MariaDB server 5.3, and later 5.x versions.\r\n - org.hibernate.dialect.MariaDBDialect for MariaDB server 5.1 and 5.2.\r\n\r\nNote that for detailed usage information, you&#39;ll sometimes have to look in dialect source codes. (There are non-JavaDoc usage information comments in some dialect sources.)\r\n\r\nIf you want to change or explicitly mention the storage engine for the MariaDB dialect, you can use the `storage_engine` Hibernate variable. For example: `hibernate.dialect.storage_engine = innodb`. IMO, you should do this explicitly, because the default can change when switching to a different MariaDB server version.\r\n\r\nIf you&#39;re using a MariaDB server older than 10.1.2 (which doesn&#39;t support fractional seconds), then you may want to provide the parameter `useFractionalSeconds=false` to the JDBC URL, otherwise MariaDB Connector/J will not truncate timestamps internally, which can cause time comparison problem when those values are using in comparison queries (even when using plain JDBC), which can cause Hibernate versioning problems and optimistic locking problems for temporal types.\r\n\r\n# Long answer #\r\n\r\nThe MariaDB dialect for Hibernate (5.3 as of this writing) is mentioned in the [Hibernate User Guide][6]. The mentioned dialect &quot;short names&quot; followed by remarks are:\r\n\r\n&gt;  - MariaDB: Support for the MariadB database. May work with newer versions\r\n&gt; \r\n&gt;  - MariaDB53: Support for the MariadB database, version 5.3 and newer.\r\n\r\nHowever, a complete list of the available official MariaDB dialects can be found in the [Hibernate JavaDoc][5]. Which currently lists: \r\n\r\n - org.hibernate.dialect.MariaDB102Dialect for MariaDB server 10.2\r\n - org.hibernate.dialect.MariaDB103Dialect for MariaDB server 10.3 and later, provides sequence support.\r\n - org.hibernate.dialect.MariaDB10Dialect for MariaDB server 10.0 and 10.1\r\n - org.hibernate.dialect.MariaDB53Dialect for MariaDB server 5.3, and later 5.x versions.\r\n - org.hibernate.dialect.MariaDBDialect for MariaDB server 5.1 and 5.2.\r\n\r\n\r\nEach dialect successor inherits the settings from the previous dialect version. So the inheritance hierachy for MariaDB is: `MariaDB103Dialect &gt; MariaDB102Dialect &gt; MariaDB10Dialect &gt; MariaDB53Dialect &gt; MariaDBDialect &gt; MySQL5Dialect &gt; MySQLDialect &gt; Dialect`\r\n\r\nMariaDB was designed as a drop-in replacement for MySQL. But the databases are likely going to diverge as time goes by. Most basic features probably work without problems, allowing you to swap Connector/J clients (MariaDB client on MySQL server and vice versa), and allow you to swap dialects (MySQL dialect on MariaDB client and vice versa). But there are subtle differences that may cause unexpected problems. For example, the MySQL Connector/J client contains hardcoded checks for the server version, which will fail when using a MariaDB server, causing some features to be disabled in the client, such as the MySQL sendFractionalSeconds client parameter. This will cause fractional seconds to be disabled, so then the fractions will be truncated in the MySQL client but not in the MariaDB client. (This may even lead to optimistic locking problems when using versioning with date/time types in combination with non-max precision SQL date/time types. In these cases, use the max precision of 6.)\r\n\r\nAlso, the MariaDB dialect are expected to provide specific functionality for MariaDB:\r\nhttp://in.relation.to/2017/02/16/mariadb-dialects/\r\n\r\n&gt; In time, we will add new Dialects based on newer capabilities\r\n&gt; introduced by MariaDB.\r\n\r\n&gt; If you are using MariaDB, it’s best to use the MariaDB-specific\r\n&gt; Dialects from now on since it’s much easier to match the MariaDB\r\n&gt; version with its appropriate Hibernate Dialect.\r\n\r\nAnd https://hibernate.atlassian.net/browse/HHH-11457 says:\r\n\r\n&gt; since MySQL and MariaDB have gone in different directions, we might\r\n&gt; want to provide MariaDB Dialects as well.\r\n&gt; \r\n&gt; For instance, it&#39;s not very intuitive for a Hibernate user to figure\r\n&gt; out that they need to use the MySQLInnoDb57Dialect to handle\r\n&gt; Timestamps with microsecond precision which have been available since\r\n&gt; MariaDB 5.3:\r\n\r\nThe Hibernate User Guide doesn&#39;t provide all usage information about how to use the dialects. Even the User Guide combines with the API docs may not be enough. Sometimes you&#39;ll have to look in the source codes for usage information. For example, [MariaDB53Dialect.java][7] contains hidden non-JavaDoc comments that may be useful.\r\n\r\nPreviously, to select a MySQL storage engine, such as MyISAM or InnoDB or default, you could switch between for example `MySQL57InnoDBDialect` and `MySQL57Dialect`. But they refactored the MySQL dialect hierarchy starting from Hibernate 5.2.8, as mentioned in a [Hibernate blog post][8]. Note that to select a storage engine, you should use a Environment Variable or System Property: `hibernate.dialect.storage_engine`. For example: `hibernate.dialect.storage_engine = innodb`. \r\n\r\nXtraDB was the default MariaDB storage engine for MariaDB 10.1 and earlier, but since 10.2 it&#39;s InnoDB. So there may be cases that you want to explicitly mention the storage engine that Hibernate selects, so then you&#39;ll have to use the `storage_engine` variable. Info about the `storage_engine` variable (which isn&#39;t mentioned in the User Guide), can be found in the source of [`AvailableSettings.java`][9].\r\n\r\n\r\nIf you&#39;re using a MariaDB server older than 10.1.2 (which doesn&#39;t support fractional seconds), then you may want to provide the parameter `useFractionalSeconds=false` to the JDBC URL, otherwise MariaDB Connector/J will not truncate timestamps internally, which can cause time comparison problem, which can cause Hibernate versioning problems and optimistic locking problems for temporal types.\r\n\r\n\r\n  [1]: https://docs.jboss.org/hibernate/orm/5.0/userguide/html_single/Hibernate_User_Guide.html#portability-dialectresolver\r\n  [2]: https://docs.jboss.org/hibernate/orm/5.0/userguide/html_single/Hibernate_User_Guide.html#database-dialect\r\n  [3]: https://docs.jboss.org/hibernate/orm/6.3/userguide/html_single/Hibernate_User_Guide.html#database-dialect\r\n  [4]: https://docs.jboss.org/hibernate/stable/orm/javadocs/org/hibernate/cfg/JdbcSettings.html#DIALECT\r\n  [5]: http://docs.jboss.org/hibernate/orm/5.3/javadocs/org/hibernate/dialect/package-summary.html\r\n  [6]: http://docs.jboss.org/hibernate/orm/5.3/userguide/html_single/Hibernate_User_Guide.html\r\n  [7]: https://github.com/hibernate/hibernate-orm/blob/5.3/hibernate-core/src/main/java/org/hibernate/dialect/MariaDB53Dialect.java\r\n  [8]: http://in.relation.to/2017/02/20/mysql-dialect-refactoring/\r\n  [9]: https://github.com/hibernate/hibernate-orm/blob/5.3/hibernate-core/src/main/java/org/hibernate/cfg/AvailableSettings.java","title":"What is the MariaDB dialect class name for Hibernate?","body":"<h1>Update note: Hibernate automatic dialect resolution</h1>\n<p>In older versions of Hibernate, you are required to specify the dialect. But starting with version 3.2, hibernate uses <a href=\"https://docs.jboss.org/hibernate/orm/5.0/userguide/html_single/Hibernate_User_Guide.html#portability-dialectresolver\" rel=\"nofollow noreferrer\">dialect resolution</a> to automatically determine the target database and the dialect that should be used.</p>\n<p>The <a href=\"https://docs.jboss.org/hibernate/orm/5.0/userguide/html_single/Hibernate_User_Guide.html#database-dialect\" rel=\"nofollow noreferrer\">Hibernate 5.0 userguide</a> says:</p>\n<blockquote>\n<p><strong>In most cases</strong> Hibernate will be able to determine the proper Dialect to use by asking some questions of the JDBC Connection during bootstrap.</p>\n</blockquote>\n<blockquote>\n<p>If for some reason it is not able to determine the proper one or you want to use a custom Dialect, you will need to set the hibernate.dialect setting.</p>\n</blockquote>\n<p><a href=\"https://docs.jboss.org/hibernate/orm/6.3/userguide/html_single/Hibernate_User_Guide.html#database-dialect\" rel=\"nofollow noreferrer\">Hibernate 6.3 userguide</a> even discourages you to set the property:</p>\n<blockquote>\n<p>In Hibernate 6, it’s <strong>no longer necessary</strong> to explicitly specify a dialect using the configuration property hibernate.dialect, and so setting that property <strong>is now discouraged</strong>. (An exception is the case of custom user-written Dialects.)</p>\n</blockquote>\n<p>The <a href=\"https://docs.jboss.org/hibernate/stable/orm/javadocs/org/hibernate/cfg/JdbcSettings.html#DIALECT\" rel=\"nofollow noreferrer\">Hibernate 6.3 api doc</a> says:</p>\n<blockquote>\n<p>As of Hibernate 6, this property should not be explicitly specified, except when using a custom user-written implementation of Dialect. Instead, applications <strong>should allow Hibernate to select the Dialect automatically</strong>.</p>\n</blockquote>\n<h1>Very short answer</h1>\n<p>Updated answer (Oct 05, 2023):</p>\n<ul>\n<li>org.hibernate.dialect.<strong>MariaDBDialect</strong> for MariaDB server <strong>10.3 and later</strong></li>\n</ul>\n<p>Update: some of these classes are now deprecated or even removed:\n<s></p>\n<ul>\n<li>org.hibernate.dialect.<strong>MariaDB106Dialect</strong> for MariaDB server <strong>10.6 and later</strong>, provides skip locked support.</li>\n<li>org.hibernate.dialect.<strong>MariaDB103Dialect</strong> for MariaDB server <strong>10.3 and later</strong>, provides sequence support.</li>\n<li>org.hibernate.dialect.<strong>MariaDB102Dialect</strong> for MariaDB server <strong>10.2</strong></li>\n<li>org.hibernate.dialect.<strong>MariaDB10Dialect</strong> for MariaDB server <strong>10.0 and 10.1</strong></li>\n<li>org.hibernate.dialect.<strong>MariaDB53Dialect</strong> for MariaDB server <strong>5.3, and later 5.x versions</strong>.</li>\n<li>org.hibernate.dialect.<strong>MariaDBDialect</strong> for MariaDB server <strong>5.1 and 5.2</strong>.\n</s></li>\n</ul>\n<h1>Short answer</h1>\n<p>When using a MariaDB server, you should <strong>use MariaDB Connector/J and MariaDB Hibernate dialects, not the MySQL ones</strong>. Even though MariaDB was created as a drop-in replacement and even though basic features will likely work when using the MySQL versions of those, subtle problems may occur or you may miss certain features.</p>\n<p>A complete list of available MariaDB dialects are currently not mentioned in the Hibernate User Guide, but in the <a href=\"http://docs.jboss.org/hibernate/orm/5.3/javadocs/org/hibernate/dialect/package-summary.html\" rel=\"nofollow noreferrer\">Hibernate JavaDoc</a>. <strong>Depending on your MariaDB server version, you should select the corresponding dialect version</strong>. The current dialects as of this writing are:</p>\n<ul>\n<li>org.hibernate.dialect.MariaDB102Dialect for MariaDB server 10.2</li>\n<li>org.hibernate.dialect.MariaDB103Dialect for MariaDB server 10.3 and later, provides sequence support.</li>\n<li>org.hibernate.dialect.MariaDB10Dialect for MariaDB server 10.0 and 10.1</li>\n<li>org.hibernate.dialect.MariaDB53Dialect for MariaDB server 5.3, and later 5.x versions.</li>\n<li>org.hibernate.dialect.MariaDBDialect for MariaDB server 5.1 and 5.2.</li>\n</ul>\n<p>Note that for detailed usage information, you'll sometimes have to look in dialect source codes. (There are non-JavaDoc usage information comments in some dialect sources.)</p>\n<p>If you want to change or explicitly mention the storage engine for the MariaDB dialect, you can use the <code>storage_engine</code> Hibernate variable. For example: <code>hibernate.dialect.storage_engine = innodb</code>. IMO, you should do this explicitly, because the default can change when switching to a different MariaDB server version.</p>\n<p>If you're using a MariaDB server older than 10.1.2 (which doesn't support fractional seconds), then you may want to provide the parameter <code>useFractionalSeconds=false</code> to the JDBC URL, otherwise MariaDB Connector/J will not truncate timestamps internally, which can cause time comparison problem when those values are using in comparison queries (even when using plain JDBC), which can cause Hibernate versioning problems and optimistic locking problems for temporal types.</p>\n<h1>Long answer</h1>\n<p>The MariaDB dialect for Hibernate (5.3 as of this writing) is mentioned in the <a href=\"http://docs.jboss.org/hibernate/orm/5.3/userguide/html_single/Hibernate_User_Guide.html\" rel=\"nofollow noreferrer\">Hibernate User Guide</a>. The mentioned dialect &quot;short names&quot; followed by remarks are:</p>\n<blockquote>\n<ul>\n<li><p>MariaDB: Support for the MariadB database. May work with newer versions</p>\n</li>\n<li><p>MariaDB53: Support for the MariadB database, version 5.3 and newer.</p>\n</li>\n</ul>\n</blockquote>\n<p>However, a complete list of the available official MariaDB dialects can be found in the <a href=\"http://docs.jboss.org/hibernate/orm/5.3/javadocs/org/hibernate/dialect/package-summary.html\" rel=\"nofollow noreferrer\">Hibernate JavaDoc</a>. Which currently lists:</p>\n<ul>\n<li>org.hibernate.dialect.MariaDB102Dialect for MariaDB server 10.2</li>\n<li>org.hibernate.dialect.MariaDB103Dialect for MariaDB server 10.3 and later, provides sequence support.</li>\n<li>org.hibernate.dialect.MariaDB10Dialect for MariaDB server 10.0 and 10.1</li>\n<li>org.hibernate.dialect.MariaDB53Dialect for MariaDB server 5.3, and later 5.x versions.</li>\n<li>org.hibernate.dialect.MariaDBDialect for MariaDB server 5.1 and 5.2.</li>\n</ul>\n<p>Each dialect successor inherits the settings from the previous dialect version. So the inheritance hierachy for MariaDB is: <code>MariaDB103Dialect &gt; MariaDB102Dialect &gt; MariaDB10Dialect &gt; MariaDB53Dialect &gt; MariaDBDialect &gt; MySQL5Dialect &gt; MySQLDialect &gt; Dialect</code></p>\n<p>MariaDB was designed as a drop-in replacement for MySQL. But the databases are likely going to diverge as time goes by. Most basic features probably work without problems, allowing you to swap Connector/J clients (MariaDB client on MySQL server and vice versa), and allow you to swap dialects (MySQL dialect on MariaDB client and vice versa). But there are subtle differences that may cause unexpected problems. For example, the MySQL Connector/J client contains hardcoded checks for the server version, which will fail when using a MariaDB server, causing some features to be disabled in the client, such as the MySQL sendFractionalSeconds client parameter. This will cause fractional seconds to be disabled, so then the fractions will be truncated in the MySQL client but not in the MariaDB client. (This may even lead to optimistic locking problems when using versioning with date/time types in combination with non-max precision SQL date/time types. In these cases, use the max precision of 6.)</p>\n<p>Also, the MariaDB dialect are expected to provide specific functionality for MariaDB:\n<a href=\"http://in.relation.to/2017/02/16/mariadb-dialects/\" rel=\"nofollow noreferrer\">http://in.relation.to/2017/02/16/mariadb-dialects/</a></p>\n<blockquote>\n<p>In time, we will add new Dialects based on newer capabilities\nintroduced by MariaDB.</p>\n</blockquote>\n<blockquote>\n<p>If you are using MariaDB, it’s best to use the MariaDB-specific\nDialects from now on since it’s much easier to match the MariaDB\nversion with its appropriate Hibernate Dialect.</p>\n</blockquote>\n<p>And <a href=\"https://hibernate.atlassian.net/browse/HHH-11457\" rel=\"nofollow noreferrer\">https://hibernate.atlassian.net/browse/HHH-11457</a> says:</p>\n<blockquote>\n<p>since MySQL and MariaDB have gone in different directions, we might\nwant to provide MariaDB Dialects as well.</p>\n<p>For instance, it's not very intuitive for a Hibernate user to figure\nout that they need to use the MySQLInnoDb57Dialect to handle\nTimestamps with microsecond precision which have been available since\nMariaDB 5.3:</p>\n</blockquote>\n<p>The Hibernate User Guide doesn't provide all usage information about how to use the dialects. Even the User Guide combines with the API docs may not be enough. Sometimes you'll have to look in the source codes for usage information. For example, <a href=\"https://github.com/hibernate/hibernate-orm/blob/5.3/hibernate-core/src/main/java/org/hibernate/dialect/MariaDB53Dialect.java\" rel=\"nofollow noreferrer\">MariaDB53Dialect.java</a> contains hidden non-JavaDoc comments that may be useful.</p>\n<p>Previously, to select a MySQL storage engine, such as MyISAM or InnoDB or default, you could switch between for example <code>MySQL57InnoDBDialect</code> and <code>MySQL57Dialect</code>. But they refactored the MySQL dialect hierarchy starting from Hibernate 5.2.8, as mentioned in a <a href=\"http://in.relation.to/2017/02/20/mysql-dialect-refactoring/\" rel=\"nofollow noreferrer\">Hibernate blog post</a>. Note that to select a storage engine, you should use a Environment Variable or System Property: <code>hibernate.dialect.storage_engine</code>. For example: <code>hibernate.dialect.storage_engine = innodb</code>.</p>\n<p>XtraDB was the default MariaDB storage engine for MariaDB 10.1 and earlier, but since 10.2 it's InnoDB. So there may be cases that you want to explicitly mention the storage engine that Hibernate selects, so then you'll have to use the <code>storage_engine</code> variable. Info about the <code>storage_engine</code> variable (which isn't mentioned in the User Guide), can be found in the source of <a href=\"https://github.com/hibernate/hibernate-orm/blob/5.3/hibernate-core/src/main/java/org/hibernate/cfg/AvailableSettings.java\" rel=\"nofollow noreferrer\"><code>AvailableSettings.java</code></a>.</p>\n<p>If you're using a MariaDB server older than 10.1.2 (which doesn't support fractional seconds), then you may want to provide the parameter <code>useFractionalSeconds=false</code> to the JDBC URL, otherwise MariaDB Connector/J will not truncate timestamps internally, which can cause time comparison problem, which can cause Hibernate versioning problems and optimistic locking problems for temporal types.</p>\n"}],"owner":{"account_id":7557581,"reputation":913,"user_id":5736574,"display_name":"Bijaya Bhaskar Swain"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74506,"favorite_count":0,"down_vote_count":0,"up_vote_count":37,"accepted_answer_id":43660707,"answer_count":4,"score":37,"last_activity_date":1696500366,"creation_date":1462517233,"question_id":37066024,"body_markdown":"In **Hibenate** I am using **MariaDB** but I couldn&#39;t find the dialect class name of **MariaDB** .\r\n\r\nIn Hibernate, MySQL5 dialect&#39;s name is\r\n\r\n    &lt;property name=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQL5Dialect&lt;/property&gt;\r\n\r\nFor Oracle 10g\r\n\r\n    &lt;property name=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.Oracle10gDialect&lt;/property&gt;\r\n\r\nWhat is the dialect class name for **MariaDB**?","title":"What is the MariaDB dialect class name for Hibernate?","body":"<p>In <strong>Hibenate</strong> I am using <strong>MariaDB</strong> but I couldn't find the dialect class name of <strong>MariaDB</strong> .</p>\n\n<p>In Hibernate, MySQL5 dialect's name is</p>\n\n<pre><code>&lt;property name=\"hibernate.dialect\"&gt;org.hibernate.dialect.MySQL5Dialect&lt;/property&gt;\n</code></pre>\n\n<p>For Oracle 10g</p>\n\n<pre><code>&lt;property name=\"hibernate.dialect\"&gt;org.hibernate.dialect.Oracle10gDialect&lt;/property&gt;\n</code></pre>\n\n<p>What is the dialect class name for <strong>MariaDB</strong>?</p>\n"},{"tags":["java","opencsv"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1696427783,"post_id":77230117,"comment_id":136151634,"body_markdown":"*@CsvCustomBindByName(column = &quot;properties&quot; ...* But there *isn&#39;t* a column called properties..?","body":"<i>@CsvCustomBindByName(column = &quot;properties&quot; ...</i> But there <i>isn&#39;t</i> a column called properties..?"},{"owner":{"account_id":1198292,"reputation":671,"user_id":1169535,"accept_rate":58,"display_name":"Stefania"},"score":0,"creation_date":1696428259,"post_id":77230117,"comment_id":136151765,"body_markdown":"The problem is that: &quot;properties&quot; as column name would cover a variable number of pairs of columns below itself. I don&#39;t know how to correctly annotate that field or how I can handle it with openCSV","body":"The problem is that: &quot;properties&quot; as column name would cover a variable number of pairs of columns below itself. I don&#39;t know how to correctly annotate that field or how I can handle it with openCSV"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1696428461,"post_id":77230117,"comment_id":136151815,"body_markdown":"I can&#39;t give you a definitive answer since I don&#39;t know the API well enough. I would probably work along the lines of adding columns 15-n to a `Map`, treating the mapping positionally","body":"I can&#39;t give you a definitive answer since I don&#39;t know the API well enough. I would probably work along the lines of adding columns 15-n to a <code>Map</code>, treating the mapping positionally"},{"owner":{"account_id":1198292,"reputation":671,"user_id":1169535,"accept_rate":58,"display_name":"Stefania"},"score":0,"creation_date":1696428958,"post_id":77230117,"comment_id":136151939,"body_markdown":"This CSV comes out of an Excel file, where &quot;properties&quot; is a union-cell of multiple columns, so I&#39;m wandering if only from column 15 I can use a custom mapper. I&#39;ll give a try to the map and see if the output is easily usable to build my list of properties","body":"This CSV comes out of an Excel file, where &quot;properties&quot; is a union-cell of multiple columns, so I&#39;m wandering if only from column 15 I can use a custom mapper. I&#39;ll give a try to the map and see if the output is easily usable to build my list of properties"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1696432544,"post_id":77230117,"comment_id":136152788,"body_markdown":"One problem is that your portrayal of your input file is confusing. Better, clearer data would help","body":"One problem is that your portrayal of your input file is confusing. Better, clearer data would help"}],"answers":[{"tags":[],"owner":{"account_id":24027155,"reputation":15,"user_id":18008637,"display_name":"ARYUEMAAN CHOWDHURY"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1696500218,"creation_date":1696500218,"answer_id":77236111,"question_id":77230117,"body_markdown":"To handle the variable portion of the CSV line with OpenCSV, you can use a custom converter. This converter will be responsible for parsing the variable part of the line and converting it into a list of ContainerProperty objects.\r\n\r\nTo create a custom converter, you need to implement the CsvConverter interface. This interface has a single method, convert(), which takes a String as input and returns an Object.\r\n\r\nIn the convert() method, you will need to parse the variable part of the CSV line and convert it into a list of ContainerProperty objects. You can do this by splitting the variable part of the line into pairs of values, and then creating a ContainerProperty object for each pair of values.\r\n\r\nOnce you have created a custom converter, you need to register it with OpenCSV. You can do this by using the CSVParserBuilder.withConverter() method.\r\n\r\nFinally, you need to use the CsvCustomBindByName annotation to bind the variable part of the CSV line to the properties field of your DTO.\r\n\r\nHere is an example of a custom converter for parsing the variable part of the CSV line:\r\n\r\n&lt;!-- begin snippet: java hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    public class ContainerPropertiesConverter implements CsvConverter {\r\n\r\n        @Override\r\n        public Object convert(String value) {\r\n            List&lt;ContainerProperty&gt; properties = new ArrayList&lt;&gt;();\r\n\r\n            String[] pairs = value.split(&quot;;;&quot;);\r\n            for (String pair : pairs) {\r\n                String[] keyValue = pair.split(&quot;;&quot;);\r\n                String key = keyValue[0];\r\n                String value = keyValue[1];\r\n\r\n                ContainerProperty property = new ContainerProperty();\r\n                property.setKey(key);\r\n                property.setValue(value);\r\n\r\n                properties.add(property);\r\n            }\r\n\r\n            return properties;\r\n        }\r\n    }\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nTo register the custom converter with OpenCSV:\r\n\r\n&lt;!-- begin snippet: java hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    CSVParserBuilder builder = new CSVParserBuilder();\r\n    builder.withConverter(new ContainerPropertiesConverter());\r\n\r\n    CSVParser parser = builder.build();\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n example of how to use the CsvCustomBindByName annotation to bind the variable part of the CSV line to the properties field of your DTO:\r\n\r\n&lt;!-- begin snippet: java hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    public class MyDTO {\r\n\r\n        @CsvBindByPosition(position = 12, required = true)\r\n        private Double localizationStop;\r\n        @CsvBindByPosition(position = 13, required = false)\r\n        private Double latitudeStop;\r\n        @CsvBindByPosition(position = 14, required = false)\r\n        private Double longitudeStop;\r\n\r\n        @CsvCustomBindByName(column = &quot;properties&quot;, converter = ContainerPropertiesConverter.class)\r\n        private List&lt;ContainerProperty&gt; properties;\r\n    }\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Custom converter for openCSV","body":"<p>To handle the variable portion of the CSV line with OpenCSV, you can use a custom converter. This converter will be responsible for parsing the variable part of the line and converting it into a list of ContainerProperty objects.</p>\n<p>To create a custom converter, you need to implement the CsvConverter interface. This interface has a single method, convert(), which takes a String as input and returns an Object.</p>\n<p>In the convert() method, you will need to parse the variable part of the CSV line and convert it into a list of ContainerProperty objects. You can do this by splitting the variable part of the line into pairs of values, and then creating a ContainerProperty object for each pair of values.</p>\n<p>Once you have created a custom converter, you need to register it with OpenCSV. You can do this by using the CSVParserBuilder.withConverter() method.</p>\n<p>Finally, you need to use the CsvCustomBindByName annotation to bind the variable part of the CSV line to the properties field of your DTO.</p>\n<p>Here is an example of a custom converter for parsing the variable part of the CSV line:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ContainerPropertiesConverter implements CsvConverter {\n\n    @Override\n    public Object convert(String value) {\n        List&lt;ContainerProperty&gt; properties = new ArrayList&lt;&gt;();\n\n        String[] pairs = value.split(&quot;;;&quot;);\n        for (String pair : pairs) {\n            String[] keyValue = pair.split(&quot;;&quot;);\n            String key = keyValue[0];\n            String value = keyValue[1];\n\n            ContainerProperty property = new ContainerProperty();\n            property.setKey(key);\n            property.setValue(value);\n\n            properties.add(property);\n        }\n\n        return properties;\n    }\n}\n</code></pre>\n<p>To register the custom converter with OpenCSV:</p>\n<pre class=\"lang-java prettyprint-override\"><code>CSVParserBuilder builder = new CSVParserBuilder();\nbuilder.withConverter(new ContainerPropertiesConverter());\n\nCSVParser parser = builder.build();\n</code></pre>\n<p>example of how to use the CsvCustomBindByName annotation to bind the variable part of the CSV line to the properties field of your DTO:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyDTO {\n\n    @CsvBindByPosition(position = 12, required = true)\n    private Double localizationStop;\n    @CsvBindByPosition(position = 13, required = false)\n    private Double latitudeStop;\n    @CsvBindByPosition(position = 14, required = false)\n    private Double longitudeStop;\n\n    @CsvCustomBindByName(column = &quot;properties&quot;, converter = ContainerPropertiesConverter.class)\n    private List&lt;ContainerProperty&gt; properties;\n}\n</code></pre>\n"}],"owner":{"account_id":1198292,"reputation":671,"user_id":1169535,"accept_rate":58,"display_name":"Stefania"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1696500218,"creation_date":1696426907,"question_id":77230117,"body_markdown":"I have a CSV that is composed of a fixed part, where each column corresponds to an exact field of the target DTO, and a variable part composed of pairs of values that are to be conveyed into a list of properties like objects.\r\n\r\nA line from the input CSV looks like this:\r\n\r\n&gt; test1;description test\r\n&gt; 1;to;place1;;;;placeTest;objectType;47.222;;;47.442;;;property1;property\r\n&gt; value 1;property2;property value 2;property3;property value 3\r\n\r\nwhere from &quot;property1&quot; on there is the variable part of the line, which could also not be present.\r\n\r\nThe header:\r\n\r\n&gt; name;description;tenant;road name;direction name;section name;lane\r\n&gt; name;infrastructure\r\n&gt; name;systemTagName;pkStart;latitudeStart;longitudeStart;pkStop;latitudeStop;longitudeStop;properties\r\n\r\nThe last column &quot;properties&quot; covers under itself the variable part of the line. This header field is the product of a union cells from an Excel file.\r\n\r\nThis is a portion of the dto:\r\n\r\n        ...\r\n        @CsvBindByPosition(position = 12, required = true)\r\n        private Double localizationStop;\r\n        @CsvBindByPosition(position = 13, required = false)\r\n        private Double latitudeStop;\r\n        @CsvBindByPosition(position = 14, required = false)\r\n        private Double longitudeStop;\r\n    \r\n        @CsvCustomBindByName(column = &quot;properties&quot;, converter = ContainerPropertiesConverter.class)\r\n        private List&lt;ContainerProperty&gt; properties;\r\n\r\n\r\nI tried the annotation *CsvCustomBindByName*, believing that would pass all the remaining feilds of the line to my converter, but that does not happen. The converter is never called.\r\n\r\nWhat type of annotation can I use or how can I easily manage the variable portion of the line with openCSV?\r\n","title":"Custom converter for openCSV","body":"<p>I have a CSV that is composed of a fixed part, where each column corresponds to an exact field of the target DTO, and a variable part composed of pairs of values that are to be conveyed into a list of properties like objects.</p>\n<p>A line from the input CSV looks like this:</p>\n<blockquote>\n<p>test1;description test\n1;to;place1;;;;placeTest;objectType;47.222;;;47.442;;;property1;property\nvalue 1;property2;property value 2;property3;property value 3</p>\n</blockquote>\n<p>where from &quot;property1&quot; on there is the variable part of the line, which could also not be present.</p>\n<p>The header:</p>\n<blockquote>\n<p>name;description;tenant;road name;direction name;section name;lane\nname;infrastructure\nname;systemTagName;pkStart;latitudeStart;longitudeStart;pkStop;latitudeStop;longitudeStop;properties</p>\n</blockquote>\n<p>The last column &quot;properties&quot; covers under itself the variable part of the line. This header field is the product of a union cells from an Excel file.</p>\n<p>This is a portion of the dto:</p>\n<pre><code>    ...\n    @CsvBindByPosition(position = 12, required = true)\n    private Double localizationStop;\n    @CsvBindByPosition(position = 13, required = false)\n    private Double latitudeStop;\n    @CsvBindByPosition(position = 14, required = false)\n    private Double longitudeStop;\n\n    @CsvCustomBindByName(column = &quot;properties&quot;, converter = ContainerPropertiesConverter.class)\n    private List&lt;ContainerProperty&gt; properties;\n</code></pre>\n<p>I tried the annotation <em>CsvCustomBindByName</em>, believing that would pass all the remaining feilds of the line to my converter, but that does not happen. The converter is never called.</p>\n<p>What type of annotation can I use or how can I easily manage the variable portion of the line with openCSV?</p>\n"},{"tags":["java","junit","mockito","junit5"],"comments":[{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":3,"creation_date":1695955940,"post_id":77199202,"comment_id":136095509,"body_markdown":"What exactly do you want to assert?","body":"What exactly do you want to assert?"},{"owner":{"account_id":20007535,"reputation":157,"user_id":14665211,"display_name":"Shawn Armstrong"},"score":0,"creation_date":1695962556,"post_id":77199202,"comment_id":136095878,"body_markdown":"Anything related to the state of `LOGGER` which will enable me to validate that the line was executed. I&#39;m under the impression this cannot be done in a deterministic manner due to tests being run in parallel and the field being shared between them.","body":"Anything related to the state of <code>LOGGER</code> which will enable me to validate that the line was executed. I&#39;m under the impression this cannot be done in a deterministic manner due to tests being run in parallel and the field being shared between them."},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":1,"creation_date":1695984426,"post_id":77199202,"comment_id":136098997,"body_markdown":"See https://github.com/Hakky54/log-captor and a possible duplicate https://stackoverflow.com/questions/1827677","body":"See <a href=\"https://github.com/Hakky54/log-captor\" rel=\"nofollow noreferrer\">github.com/Hakky54/log-captor</a> and a possible duplicate <a href=\"https://stackoverflow.com/questions/1827677\">stackoverflow.com/questions/1827677</a>"},{"owner":{"account_id":9107988,"reputation":3190,"user_id":6777695,"display_name":"Hakan54"},"score":0,"creation_date":1696498608,"post_id":77199202,"comment_id":136161811,"body_markdown":"Does this answer your question? [How to do a JUnit assert on a message in a logger](https://stackoverflow.com/questions/1827677/how-to-do-a-junit-assert-on-a-message-in-a-logger)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/1827677/how-to-do-a-junit-assert-on-a-message-in-a-logger\">How to do a JUnit assert on a message in a logger</a>"}],"answers":[{"tags":[],"owner":{"account_id":6955106,"reputation":31,"user_id":5424036,"display_name":"Karolis"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1695974697,"creation_date":1695974697,"answer_id":77200318,"question_id":77199202,"body_markdown":"One workaround could be to use a custom appender class for logging events in order to collect and assert. So for example, if logback is used with slf4j, then:\r\n\r\n```java\r\npublic class Appender extends AppenderBase&lt;ILoggingEvent&gt; {\r\n    static List&lt;ILoggingEvent&gt; events = new ArrayList&lt;&gt;();\r\n\r\n    @Override\r\n    public void append(ILoggingEvent e) {\r\n        events.add(e);\r\n    }\r\n\r\n    public static List&lt;ILoggingEvent&gt; getEvents() {\r\n        return events;\r\n    }\r\n\r\n    public static void clear() {\r\n        events.clear();\r\n    }\r\n}\r\n```\r\n\r\nThen for test cases custom appender could be used (configuration should be in the resources path of tests):\r\n\r\n```xml\r\n&lt;configuration&gt;\r\n    &lt;appender name=&quot;appender&quot; class=&quot;org.your.package&quot;&gt;\r\n    &lt;/appender&gt;\r\n    &lt;root level=&quot;trace&quot;&gt;\r\n        &lt;appender-ref ref=&quot;appender&quot;/&gt;\r\n    &lt;/root&gt;\r\n&lt;/configuration&gt;\r\n```\r\n\r\nAnd in the test itself:\r\n```java\r\n  List&lt;ILoggingEvent&gt; l = Appender.getEvents()\r\n  // assert\r\n```\r\nBut there will be racing conditions accessing this static appender, which could be resolved as well.\r\n\r\n\r\n","title":"How can I unit test Java classes with private static final Logger field","body":"<p>One workaround could be to use a custom appender class for logging events in order to collect and assert. So for example, if logback is used with slf4j, then:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Appender extends AppenderBase&lt;ILoggingEvent&gt; {\n    static List&lt;ILoggingEvent&gt; events = new ArrayList&lt;&gt;();\n\n    @Override\n    public void append(ILoggingEvent e) {\n        events.add(e);\n    }\n\n    public static List&lt;ILoggingEvent&gt; getEvents() {\n        return events;\n    }\n\n    public static void clear() {\n        events.clear();\n    }\n}\n</code></pre>\n<p>Then for test cases custom appender could be used (configuration should be in the resources path of tests):</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;configuration&gt;\n    &lt;appender name=&quot;appender&quot; class=&quot;org.your.package&quot;&gt;\n    &lt;/appender&gt;\n    &lt;root level=&quot;trace&quot;&gt;\n        &lt;appender-ref ref=&quot;appender&quot;/&gt;\n    &lt;/root&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>And in the test itself:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  List&lt;ILoggingEvent&gt; l = Appender.getEvents()\n  // assert\n</code></pre>\n<p>But there will be racing conditions accessing this static appender, which could be resolved as well.</p>\n"},{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1695976018,"creation_date":1695976018,"answer_id":77200446,"question_id":77199202,"body_markdown":"I&#39;ve written a library that can do this: [junit-support][1]. The `@TestLogger` annotation allows you to inject a logger context, which can then be used to configure appenders, log levels, etc. At the end of the test all logging will be reset, which makes it really easy to create standalone tests.\r\n\r\nThe only thing you need to provide for yourself is an actual logging implementation (or in this case, SLF4J bridge): one of java.util.logging, Log4J 2, logback or reload4j.\r\n\r\nAn example for reload4j; the only real difference for the other implementations is the context class to use:\r\n```\r\n@Test\r\nvoid testLogging(@TestLogger.ForClass(MyClass.class) Reload4jLoggerContext loggerContext) {\r\n    Appender appender = mock(Appender.class);\r\n    loggerContext\r\n            .setLevel(Level.INFO)\r\n            .useParentAppenders(false)\r\n            .setAppender(appender);\r\n\r\n    // perform calls that trigger the logger\r\n\r\n    ArgumentCaptor&lt;LoggingEvent&gt; eventCaptor = ArgumentCaptor.forClass(LoggingEvent.class);\r\n    verify(appender, atLeastOnce()).doAppend(eventCaptor.capture());\r\n    List&lt;LoggingEvent&gt; events = eventCaptor.getAllValues();\r\n    // perform assertions on events\r\n}\r\n```\r\n\r\n  [1]: https://robtimus.github.io/junit-support/extension/test-logger.html","title":"How can I unit test Java classes with private static final Logger field","body":"<p>I've written a library that can do this: <a href=\"https://robtimus.github.io/junit-support/extension/test-logger.html\" rel=\"nofollow noreferrer\">junit-support</a>. The <code>@TestLogger</code> annotation allows you to inject a logger context, which can then be used to configure appenders, log levels, etc. At the end of the test all logging will be reset, which makes it really easy to create standalone tests.</p>\n<p>The only thing you need to provide for yourself is an actual logging implementation (or in this case, SLF4J bridge): one of java.util.logging, Log4J 2, logback or reload4j.</p>\n<p>An example for reload4j; the only real difference for the other implementations is the context class to use:</p>\n<pre><code>@Test\nvoid testLogging(@TestLogger.ForClass(MyClass.class) Reload4jLoggerContext loggerContext) {\n    Appender appender = mock(Appender.class);\n    loggerContext\n            .setLevel(Level.INFO)\n            .useParentAppenders(false)\n            .setAppender(appender);\n\n    // perform calls that trigger the logger\n\n    ArgumentCaptor&lt;LoggingEvent&gt; eventCaptor = ArgumentCaptor.forClass(LoggingEvent.class);\n    verify(appender, atLeastOnce()).doAppend(eventCaptor.capture());\n    List&lt;LoggingEvent&gt; events = eventCaptor.getAllValues();\n    // perform assertions on events\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1696026056,"creation_date":1696026056,"answer_id":77205026,"question_id":77199202,"body_markdown":"If you remove `final`, you can use reflection to inject a mock Logger:\r\n\r\n    private static Logger LOGGER = LoggerFactory.getLogger(Yorkie.class);\r\n\r\nThen in your test:\r\n\r\n    Logger mockLogger = mock(Logger.class);\r\n    Yorkie.class.getDeclaredField(&quot;LOGGER&quot;);\r\n    loggerField.setAccessible(true); // undo &quot;private&quot;\r\n    loggerField.set(null, mockLogger);\r\n\r\nThen you can assert how logger is being called:\r\n\r\n    verify(mockLogger). error(anyString());\r\n\r\n---\r\n\r\nBefore Java 12, you could use reflection to alter a `final` field, but not after. There&#39;s no practical advantage to making the field non-final - it&#39;s mainly a style thing. Making your code testable trumps style.\r\n","title":"How can I unit test Java classes with private static final Logger field","body":"<p>If you remove <code>final</code>, you can use reflection to inject a mock Logger:</p>\n<pre><code>private static Logger LOGGER = LoggerFactory.getLogger(Yorkie.class);\n</code></pre>\n<p>Then in your test:</p>\n<pre><code>Logger mockLogger = mock(Logger.class);\nYorkie.class.getDeclaredField(&quot;LOGGER&quot;);\nloggerField.setAccessible(true); // undo &quot;private&quot;\nloggerField.set(null, mockLogger);\n</code></pre>\n<p>Then you can assert how logger is being called:</p>\n<pre><code>verify(mockLogger). error(anyString());\n</code></pre>\n<hr />\n<p>Before Java 12, you could use reflection to alter a <code>final</code> field, but not after. There's no practical advantage to making the field non-final - it's mainly a style thing. Making your code testable trumps style.</p>\n"}],"owner":{"account_id":20007535,"reputation":157,"user_id":14665211,"display_name":"Shawn Armstrong"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":231,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1696500212,"creation_date":1695955313,"question_id":77199202,"body_markdown":"I&#39;ve been working on a web application that uses Java 17 in conjunction with Spring 5.3, JUnit 5.9 and Mockito 5.1. \r\n  \r\nThroughout the code base, I frequently see classes with a log field declared as `private static final`. These fields commonly appear in catch blocks as referenced below and I struggle finding ways to directly cover them in unit tests.\r\n\r\n```Java\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\n\r\npublic class Yorkie {\r\n\r\n    private static final Logger LOGGER = LoggerFactory.getLogger(Yorkie.class);\r\n\r\n    private String favoriteToy = &quot;Ball&quot;;\r\n\r\n    private String fetchFavoriteToy() throws Exception {\r\n      \r\n        if (Math.random() &lt; 0.5) {\r\n            throw new Exception(&quot;Favorite toy not found!&quot;);\r\n        }\r\n        return favoriteToy;\r\n    }\r\n\r\n    private void bark() {\r\n        try {\r\n            String toy = fetchFavoriteToy();\r\n        } catch (Exception e) {\r\n            LOGGER.error(LoggingFacade.formatError(&quot;ERROR-Dog&quot;, null, null,\r\n                    null, &quot;Unable to bark: &quot; + e.getMessage()));\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        Yorkie yorkie = new Yorkie();\r\n        yorkie.bark();\r\n    }\r\n}\r\n```\r\n\r\nIs there a safe way of actually asserting anything about `LOGGER` strictly using JUnit and Mockito?","title":"How can I unit test Java classes with private static final Logger field","body":"<p>I've been working on a web application that uses Java 17 in conjunction with Spring 5.3, JUnit 5.9 and Mockito 5.1.</p>\n<p>Throughout the code base, I frequently see classes with a log field declared as <code>private static final</code>. These fields commonly appear in catch blocks as referenced below and I struggle finding ways to directly cover them in unit tests.</p>\n<pre><code>import org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\npublic class Yorkie {\n\n    private static final Logger LOGGER = LoggerFactory.getLogger(Yorkie.class);\n\n    private String favoriteToy = &quot;Ball&quot;;\n\n    private String fetchFavoriteToy() throws Exception {\n      \n        if (Math.random() &lt; 0.5) {\n            throw new Exception(&quot;Favorite toy not found!&quot;);\n        }\n        return favoriteToy;\n    }\n\n    private void bark() {\n        try {\n            String toy = fetchFavoriteToy();\n        } catch (Exception e) {\n            LOGGER.error(LoggingFacade.formatError(&quot;ERROR-Dog&quot;, null, null,\n                    null, &quot;Unable to bark: &quot; + e.getMessage()));\n        }\n    }\n\n    public static void main(String[] args) {\n        Yorkie yorkie = new Yorkie();\n        yorkie.bark();\n    }\n}\n</code></pre>\n<p>Is there a safe way of actually asserting anything about <code>LOGGER</code> strictly using JUnit and Mockito?</p>\n"},{"tags":["java","algorithm","string","sorting","comparison"],"answers":[{"tags":[],"owner":{"account_id":2550,"reputation":198074,"user_id":3560,"accept_rate":83,"display_name":"John Millikin"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1221851273,"creation_date":1221851273,"answer_id":104619,"question_id":104599,"body_markdown":"Split the string into runs of letters and numbers, so &quot;foo 12 bar&quot; becomes the list (&quot;foo&quot;, 12, &quot;bar&quot;), then use the list as the sort key. This way the numbers will be ordered in numerical order, not alphabetical.","title":"Sort on a string that may contain a number","body":"<p>Split the string into runs of letters and numbers, so \"foo 12 bar\" becomes the list (\"foo\", 12, \"bar\"), then use the list as the sort key. This way the numbers will be ordered in numerical order, not alphabetical.</p>\n"},{"tags":[],"owner":{"account_id":5766,"reputation":12687,"user_id":9450,"accept_rate":100,"display_name":"scubabbl"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1221851367,"creation_date":1221851367,"answer_id":104630,"question_id":104599,"body_markdown":"In your given example, the numbers you want to compare have spaces around them while the other numbers do not, so why would a regular expression not work?\r\n\r\nbbb **12** ccc\r\n\r\nvs.\r\n\r\neee 12 ddd **jpeg2000** eee\r\n","title":"Sort on a string that may contain a number","body":"<p>In your given example, the numbers you want to compare have spaces around them while the other numbers do not, so why would a regular expression not work?</p>\n\n<p>bbb <strong>12</strong> ccc</p>\n\n<p>vs.</p>\n\n<p>eee 12 ddd <strong>jpeg2000</strong> eee</p>\n"},{"tags":[],"owner":{"account_id":3393,"reputation":60796,"user_id":4893,"accept_rate":64,"display_name":"sblundy"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1221851728,"creation_date":1221851728,"answer_id":104693,"question_id":104599,"body_markdown":"I think you&#39;ll have to do the comparison on a character-by-character fashion. Grab a character, if it&#39;s a number character, keep grabbing, then reassemble to characters into a single number string and convert it into an `int`. Repeat on the other string, and only then do the comparison. ","title":"Sort on a string that may contain a number","body":"<p>I think you'll have to do the comparison on a character-by-character fashion. Grab a character, if it's a number character, keep grabbing, then reassemble to characters into a single number string and convert it into an <code>int</code>. Repeat on the other string, and only then do the comparison. </p>\n"},{"tags":[],"owner":{"account_id":988,"reputation":85941,"user_id":1310,"accept_rate":98,"display_name":"ScArcher2"},"down_vote_count":2,"up_vote_count":112,"is_accepted":true,"score":110,"last_activity_date":1670022548,"creation_date":1221851834,"answer_id":104709,"question_id":104599,"body_markdown":"[The Alphanum Algorithm][1]\r\n\r\nFrom the website\r\n\r\n&quot;People sort strings with numbers differently than software. Most sorting algorithms compare ASCII values, which produces an ordering that is inconsistent with human logic. Here&#39;s how to fix it.&quot;\r\n\r\nEdit: Here&#39;s a link to the [Java Comparator Implementation][2] from that site.\r\n\r\n  [1]: https://web.archive.org/web/20210803201519/http://www.davekoelle.com/alphanum.html\r\n  [2]: https://web.archive.org/web/20210506213829/http://www.davekoelle.com/files/AlphanumComparator.java","title":"Sort on a string that may contain a number","body":"<p><a href=\"https://web.archive.org/web/20210803201519/http://www.davekoelle.com/alphanum.html\" rel=\"nofollow noreferrer\">The Alphanum Algorithm</a></p>\n<p>From the website</p>\n<p>&quot;People sort strings with numbers differently than software. Most sorting algorithms compare ASCII values, which produces an ordering that is inconsistent with human logic. Here's how to fix it.&quot;</p>\n<p>Edit: Here's a link to the <a href=\"https://web.archive.org/web/20210506213829/http://www.davekoelle.com/files/AlphanumComparator.java\" rel=\"nofollow noreferrer\">Java Comparator Implementation</a> from that site.</p>\n"},{"tags":[],"owner":{"account_id":5415,"reputation":44991,"user_id":8701,"accept_rate":100,"display_name":"Eclipse"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1221851891,"creation_date":1221851891,"answer_id":104720,"question_id":104599,"body_markdown":"I realize you&#39;re in java, but you can take a look at how StrCmpLogicalW works.  It&#39;s what Explorer uses to sort filenames in Windows.  You can look at the WINE implementation [here][1].\r\n\r\n\r\n  [1]: http://source.winehq.org/source/dlls/shlwapi/string.c#L2113","title":"Sort on a string that may contain a number","body":"<p>I realize you're in java, but you can take a look at how StrCmpLogicalW works.  It's what Explorer uses to sort filenames in Windows.  You can look at the WINE implementation <a href=\"http://source.winehq.org/source/dlls/shlwapi/string.c#L2113\" rel=\"noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":4653,"reputation":14906,"user_id":7093,"accept_rate":96,"display_name":"Ray Hayes"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1221852537,"creation_date":1221852218,"answer_id":104768,"question_id":104599,"body_markdown":"Ian Griffiths of Microsoft has a C# implementation he calls [Natural Sorting][1].  Porting to Java should be fairly easy, easier than from C anyway!\r\n\r\n**UPDATE:** There seems to be a Java example on [eekboom][2] that does this, see the &quot;compareNatural&quot; and use that as your comparer to sorts.\r\n\r\n\r\n  [1]: http://www.interact-sw.co.uk/iangblog/2007/12/13/natural-sorting\r\n  [2]: http://www.eekboom.com/java/compareNatural/src/com/eekboom/utils/Strings.java","title":"Sort on a string that may contain a number","body":"<p>Ian Griffiths of Microsoft has a C# implementation he calls <a href=\"http://www.interact-sw.co.uk/iangblog/2007/12/13/natural-sorting\" rel=\"noreferrer\">Natural Sorting</a>.  Porting to Java should be fairly easy, easier than from C anyway!</p>\n\n<p><strong>UPDATE:</strong> There seems to be a Java example on <a href=\"http://www.eekboom.com/java/compareNatural/src/com/eekboom/utils/Strings.java\" rel=\"noreferrer\">eekboom</a> that does this, see the \"compareNatural\" and use that as your comparer to sorts.</p>\n"},{"tags":[],"owner":{"display_name":"sprout"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1221852469,"creation_date":1221852469,"answer_id":104809,"question_id":104599,"body_markdown":"If you&#39;re writing a comparator class, you should implement your own compare method that will compare two strings character by character.  This compare method should check if you&#39;re dealing with alphabetic characters, numeric characters, or mixed types (including spaces).   You&#39;ll have to define how you want a mixed type to act, whether numbers come before alphabetic characters or after, and where spaces fit in etc.","title":"Sort on a string that may contain a number","body":"<p>If you're writing a comparator class, you should implement your own compare method that will compare two strings character by character.  This compare method should check if you're dealing with alphabetic characters, numeric characters, or mixed types (including spaces).   You'll have to define how you want a mixed type to act, whether numbers come before alphabetic characters or after, and where spaces fit in etc.</p>\n"},{"tags":[],"owner":{"account_id":6188,"reputation":2845,"user_id":10314,"display_name":"James Antill"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1221852629,"creation_date":1221852629,"answer_id":104824,"question_id":104599,"body_markdown":"On Linux glibc provides strverscmp(), it&#39;s also available from gnulib for portability. However truly &quot;human&quot; sorting has lots of other quirks like &quot;The Beatles&quot; being sorted as &quot;Beatles, The&quot;. There is no simple solution to this generic problem.\r\n","title":"Sort on a string that may contain a number","body":"<p>On Linux glibc provides strverscmp(), it's also available from gnulib for portability. However truly \"human\" sorting has lots of other quirks like \"The Beatles\" being sorted as \"Beatles, The\". There is no simple solution to this generic problem.</p>\n"},{"tags":[],"owner":{"account_id":9763,"reputation":6303,"user_id":18160,"accept_rate":44,"display_name":"Paul Brinkley"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1221853538,"creation_date":1221853538,"answer_id":104926,"question_id":104599,"body_markdown":"Short answer: based on the context, I can&#39;t tell whether this is just some quick-and-dirty code for personal use, or a key part of Goldman Sachs&#39; latest internal accounting software, so I&#39;ll open by saying: eww.  That&#39;s a rather funky sorting algorithm; try to use something a bit less &quot;twisty&quot; if you can.\r\n\r\nLong answer:\r\n\r\nThe two issues that immediately come to mind in your case are performance, and correctness.  Informally, make sure it&#39;s fast, and make sure your algorithm is a [total ordering][1].\r\n\r\n(Of course, if you&#39;re not sorting more than about 100 items, you can probably disregard this paragraph.)  Performance matters, as the speed of the comparator will be the largest factor in the speed of your sort (assuming the sort algorithm is &quot;ideal&quot; to the typical list).  In your case, the comparator&#39;s speed will depend mainly on the size of the string.  The strings seem to be fairly short, so they probably won&#39;t dominate as much as the size of your list.\r\n\r\nTurning each string into a string-number-string tuple and then sorting this list of tuples, as suggested in another answer, will fail in some of your cases, since you apparently will have strings with multiple numbers appearing.\r\n\r\nThe other problem is correctness.  Specifically, if the algorithm you described will ever permit A &gt; B &gt; ... &gt; A, then your sort will be non-deterministic.  In your case, I fear that it might, though I can&#39;t prove it.  Consider some parsing cases such as:\r\n\r\n      aa 0 aa\r\n      aa 23aa\r\n      aa 2a3aa\r\n      aa 113aa\r\n      aa 113 aa\r\n      a 1-2 a\r\n      a 13 a\r\n      a 12 a\r\n      a 2-3 a\r\n      a 21 a\r\n      a 2.3 a\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Total_order\r\n","title":"Sort on a string that may contain a number","body":"<p>Short answer: based on the context, I can't tell whether this is just some quick-and-dirty code for personal use, or a key part of Goldman Sachs' latest internal accounting software, so I'll open by saying: eww.  That's a rather funky sorting algorithm; try to use something a bit less \"twisty\" if you can.</p>\n\n<p>Long answer:</p>\n\n<p>The two issues that immediately come to mind in your case are performance, and correctness.  Informally, make sure it's fast, and make sure your algorithm is a <a href=\"http://en.wikipedia.org/wiki/Total_order\" rel=\"nofollow noreferrer\">total ordering</a>.</p>\n\n<p>(Of course, if you're not sorting more than about 100 items, you can probably disregard this paragraph.)  Performance matters, as the speed of the comparator will be the largest factor in the speed of your sort (assuming the sort algorithm is \"ideal\" to the typical list).  In your case, the comparator's speed will depend mainly on the size of the string.  The strings seem to be fairly short, so they probably won't dominate as much as the size of your list.</p>\n\n<p>Turning each string into a string-number-string tuple and then sorting this list of tuples, as suggested in another answer, will fail in some of your cases, since you apparently will have strings with multiple numbers appearing.</p>\n\n<p>The other problem is correctness.  Specifically, if the algorithm you described will ever permit A > B > ... > A, then your sort will be non-deterministic.  In your case, I fear that it might, though I can't prove it.  Consider some parsing cases such as:</p>\n\n<pre><code>  aa 0 aa\n  aa 23aa\n  aa 2a3aa\n  aa 113aa\n  aa 113 aa\n  a 1-2 a\n  a 13 a\n  a 12 a\n  a 2-3 a\n  a 21 a\n  a 2.3 a\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8537,"reputation":40691,"user_id":15459,"accept_rate":70,"display_name":"PhiLho"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1221859283,"creation_date":1221858762,"answer_id":105665,"question_id":104599,"body_markdown":"Interesting little challenge, I enjoyed solving it.\r\n\r\nHere is my take at the problem:\r\n\r\n    String[] strs =\r\n    {\r\n      &quot;eee 5 ddd jpeg2001 eee&quot;,\r\n      &quot;eee 123 ddd jpeg2000 eee&quot;,\r\n      &quot;ddd&quot;,\r\n      &quot;aaa 5 yy 6&quot;,\r\n      &quot;ccc 555&quot;,\r\n      &quot;bbb 3 ccc&quot;,\r\n      &quot;bbb 9 a&quot;,\r\n      &quot;&quot;,\r\n      &quot;eee 4 ddd jpeg2001 eee&quot;,\r\n      &quot;ccc 11&quot;,\r\n      &quot;bbb 12 ccc&quot;,\r\n      &quot;aaa 5 yy 22&quot;,\r\n      &quot;aaa&quot;,\r\n      &quot;eee 3 ddd jpeg2000 eee&quot;,\r\n      &quot;ccc 5&quot;,\r\n    };\r\n    \r\n    Pattern splitter = Pattern.compile(&quot;(\\\\d+|\\\\D+)&quot;);\r\n    \r\n    public class InternalNumberComparator implements Comparator\r\n    {\r\n      public int compare(Object o1, Object o2)\r\n      {\r\n        // I deliberately use the Java 1.4 syntax, \r\n        // all this can be improved with 1.5&#39;s generics\r\n        String s1 = (String)o1, s2 = (String)o2;\r\n        // We split each string as runs of number/non-number strings\r\n        ArrayList sa1 = split(s1);\r\n        ArrayList sa2 = split(s2);\r\n        // Nothing or different structure\r\n        if (sa1.size() == 0 || sa1.size() != sa2.size())\r\n        {\r\n          // Just compare the original strings\r\n          return s1.compareTo(s2);\r\n        }\r\n        int i = 0;\r\n        String si1 = &quot;&quot;;\r\n        String si2 = &quot;&quot;;\r\n        // Compare beginning of string\r\n        for (; i &lt; sa1.size(); i++)\r\n        {\r\n          si1 = (String)sa1.get(i);\r\n          si2 = (String)sa2.get(i);\r\n          if (!si1.equals(si2))\r\n            break;  // Until we find a difference\r\n        }\r\n        // No difference found?\r\n        if (i == sa1.size())\r\n          return 0; // Same strings!\r\n    \r\n        // Try to convert the different run of characters to number\r\n        int val1, val2;\r\n        try\r\n        {\r\n          val1 = Integer.parseInt(si1);\r\n          val2 = Integer.parseInt(si2);\r\n        }\r\n        catch (NumberFormatException e)\r\n        {\r\n          return s1.compareTo(s2);  // Strings differ on a non-number\r\n        }\r\n    \r\n        // Compare remainder of string\r\n        for (i++; i &lt; sa1.size(); i++)\r\n        {\r\n          si1 = (String)sa1.get(i);\r\n          si2 = (String)sa2.get(i);\r\n          if (!si1.equals(si2))\r\n          {\r\n            return s1.compareTo(s2);  // Strings differ\r\n          }\r\n        }\r\n    \r\n        // Here, the strings differ only on a number\r\n        return val1 &lt; val2 ? -1 : 1;\r\n      }\r\n    \r\n      ArrayList split(String s)\r\n      {\r\n        ArrayList r = new ArrayList();\r\n        Matcher matcher = splitter.matcher(s);\r\n        while (matcher.find())\r\n        {\r\n          String m = matcher.group(1);\r\n          r.add(m);\r\n        }\r\n        return r;\r\n      }\r\n    }\r\n    \r\n    Arrays.sort(strs, new InternalNumberComparator());\r\n\r\nThis algorithm need much more testing, but it seems to behave rather nicely.\r\n\r\n[EDIT] I added some more comments to be clearer. I see there are much more answers than when I started to code this... But I hope I provided a good starting base and/or some ideas.","title":"Sort on a string that may contain a number","body":"<p>Interesting little challenge, I enjoyed solving it.</p>\n\n<p>Here is my take at the problem:</p>\n\n<pre><code>String[] strs =\n{\n  \"eee 5 ddd jpeg2001 eee\",\n  \"eee 123 ddd jpeg2000 eee\",\n  \"ddd\",\n  \"aaa 5 yy 6\",\n  \"ccc 555\",\n  \"bbb 3 ccc\",\n  \"bbb 9 a\",\n  \"\",\n  \"eee 4 ddd jpeg2001 eee\",\n  \"ccc 11\",\n  \"bbb 12 ccc\",\n  \"aaa 5 yy 22\",\n  \"aaa\",\n  \"eee 3 ddd jpeg2000 eee\",\n  \"ccc 5\",\n};\n\nPattern splitter = Pattern.compile(\"(\\\\d+|\\\\D+)\");\n\npublic class InternalNumberComparator implements Comparator\n{\n  public int compare(Object o1, Object o2)\n  {\n    // I deliberately use the Java 1.4 syntax, \n    // all this can be improved with 1.5's generics\n    String s1 = (String)o1, s2 = (String)o2;\n    // We split each string as runs of number/non-number strings\n    ArrayList sa1 = split(s1);\n    ArrayList sa2 = split(s2);\n    // Nothing or different structure\n    if (sa1.size() == 0 || sa1.size() != sa2.size())\n    {\n      // Just compare the original strings\n      return s1.compareTo(s2);\n    }\n    int i = 0;\n    String si1 = \"\";\n    String si2 = \"\";\n    // Compare beginning of string\n    for (; i &lt; sa1.size(); i++)\n    {\n      si1 = (String)sa1.get(i);\n      si2 = (String)sa2.get(i);\n      if (!si1.equals(si2))\n        break;  // Until we find a difference\n    }\n    // No difference found?\n    if (i == sa1.size())\n      return 0; // Same strings!\n\n    // Try to convert the different run of characters to number\n    int val1, val2;\n    try\n    {\n      val1 = Integer.parseInt(si1);\n      val2 = Integer.parseInt(si2);\n    }\n    catch (NumberFormatException e)\n    {\n      return s1.compareTo(s2);  // Strings differ on a non-number\n    }\n\n    // Compare remainder of string\n    for (i++; i &lt; sa1.size(); i++)\n    {\n      si1 = (String)sa1.get(i);\n      si2 = (String)sa2.get(i);\n      if (!si1.equals(si2))\n      {\n        return s1.compareTo(s2);  // Strings differ\n      }\n    }\n\n    // Here, the strings differ only on a number\n    return val1 &lt; val2 ? -1 : 1;\n  }\n\n  ArrayList split(String s)\n  {\n    ArrayList r = new ArrayList();\n    Matcher matcher = splitter.matcher(s);\n    while (matcher.find())\n    {\n      String m = matcher.group(1);\n      r.add(m);\n    }\n    return r;\n  }\n}\n\nArrays.sort(strs, new InternalNumberComparator());\n</code></pre>\n\n<p>This algorithm need much more testing, but it seems to behave rather nicely.</p>\n\n<p>[EDIT] I added some more comments to be clearer. I see there are much more answers than when I started to code this... But I hope I provided a good starting base and/or some ideas.</p>\n"},{"tags":[],"owner":{"account_id":374564,"reputation":4903,"user_id":724835,"accept_rate":100,"display_name":"JustinKSU"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1543562356,"creation_date":1305849479,"answer_id":6066138,"question_id":104599,"body_markdown":"The [Alphanum][1] algrothim is nice, but it did not match requirements for a project I&#39;m working on.  I need to be able to sort negative numbers and decimals correctly. Here is the implementation I came up.  Any feedback would be much appreciated.\r\n\r\n    public class StringAsNumberComparator implements Comparator&lt;String&gt; {\r\n    \t\r\n    \tpublic static final Pattern NUMBER_PATTERN = Pattern.compile(&quot;(\\\\-?\\\\d+\\\\.\\\\d+)|(\\\\-?\\\\.\\\\d+)|(\\\\-?\\\\d+)&quot;);\r\n    \r\n    \t/**\r\n    \t * Splits strings into parts sorting each instance of a number as a number if there is\r\n    \t * a matching number in the other String.\r\n    \t * \r\n    \t * For example A1B, A2B, A11B, A11B1, A11B2, A11B11 will be sorted in that order instead\r\n    \t * of alphabetically which will sort A1B and A11B together.\r\n    \t */\r\n    \tpublic int compare(String str1, String str2) {\r\n    \t\tif(str1 == str2) return 0;\r\n            else if(str1 == null) return 1;\r\n            else if(str2 == null) return -1;\r\n\r\n    \t\tList&lt;String&gt; split1 = split(str1);\r\n    \t\tList&lt;String&gt; split2 = split(str2);\r\n    \t\tint diff = 0;\r\n    \t\t\r\n    \t\tfor(int i = 0; diff == 0 &amp;&amp; i &lt; split1.size() &amp;&amp; i &lt; split2.size(); i++) {\r\n    \t\t\tString token1 = split1.get(i);\r\n    \t\t\tString token2 = split2.get(i);\r\n    \t\t\t\r\n    \t\t\tif((NUMBER_PATTERN.matcher(token1).matches() &amp;&amp; NUMBER_PATTERN.matcher(token2).matches()) {\r\n    \t\t\t\tdiff = (int) Math.signum(Double.parseDouble(token1) - Double.parseDouble(token2));\r\n    \t\t\t} else {\r\n    \t\t\t\tdiff = token1.compareToIgnoreCase(token2);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tif(diff != 0) {\r\n    \t\t\treturn diff;\r\n    \t\t} else {\r\n    \t\t\treturn split1.size() - split2.size();\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \t/**\r\n    \t * Splits a string into strings and number tokens.\r\n    \t */\r\n    \tprivate List&lt;String&gt; split(String s) {\r\n    \t\tList&lt;String&gt; list = new ArrayList&lt;String&gt;();\r\n    \t\ttry (Scanner scanner = new Scanner(s)) {\r\n    \t\t\tint index = 0;\r\n    \t\t\tString num = null;\r\n    \t\t\twhile ((num = scanner.findInLine(NUMBER_PATTERN)) != null) {\r\n    \t\t\t\tint indexOfNumber = s.indexOf(num, index);\r\n    \t\t\t\tif (indexOfNumber &gt; index) {\r\n    \t\t\t\t\tlist.add(s.substring(index, indexOfNumber));\r\n    \t\t\t\t}\r\n    \t\t\t\tlist.add(num);\r\n    \t\t\t\tindex = indexOfNumber + num.length();\r\n    \t\t\t}\r\n    \t\t\tif (index &lt; s.length()) {\r\n    \t\t\t\tlist.add(s.substring(index));\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn list;\r\n    \t}\r\n    }\r\n\r\nPS.  I wanted to use the java.lang.String.split() method and use &quot;lookahead/lookbehind&quot; to keep the tokens, but I could not get it to work with the regular expression I was using.\r\n\r\n  [1]: http://www.davekoelle.com/alphanum.html","title":"Sort on a string that may contain a number","body":"<p>The <a href=\"http://www.davekoelle.com/alphanum.html\" rel=\"nofollow noreferrer\">Alphanum</a> algrothim is nice, but it did not match requirements for a project I'm working on.  I need to be able to sort negative numbers and decimals correctly. Here is the implementation I came up.  Any feedback would be much appreciated.</p>\n\n<pre><code>public class StringAsNumberComparator implements Comparator&lt;String&gt; {\n\n    public static final Pattern NUMBER_PATTERN = Pattern.compile(\"(\\\\-?\\\\d+\\\\.\\\\d+)|(\\\\-?\\\\.\\\\d+)|(\\\\-?\\\\d+)\");\n\n    /**\n     * Splits strings into parts sorting each instance of a number as a number if there is\n     * a matching number in the other String.\n     * \n     * For example A1B, A2B, A11B, A11B1, A11B2, A11B11 will be sorted in that order instead\n     * of alphabetically which will sort A1B and A11B together.\n     */\n    public int compare(String str1, String str2) {\n        if(str1 == str2) return 0;\n        else if(str1 == null) return 1;\n        else if(str2 == null) return -1;\n\n        List&lt;String&gt; split1 = split(str1);\n        List&lt;String&gt; split2 = split(str2);\n        int diff = 0;\n\n        for(int i = 0; diff == 0 &amp;&amp; i &lt; split1.size() &amp;&amp; i &lt; split2.size(); i++) {\n            String token1 = split1.get(i);\n            String token2 = split2.get(i);\n\n            if((NUMBER_PATTERN.matcher(token1).matches() &amp;&amp; NUMBER_PATTERN.matcher(token2).matches()) {\n                diff = (int) Math.signum(Double.parseDouble(token1) - Double.parseDouble(token2));\n            } else {\n                diff = token1.compareToIgnoreCase(token2);\n            }\n        }\n        if(diff != 0) {\n            return diff;\n        } else {\n            return split1.size() - split2.size();\n        }\n    }\n\n    /**\n     * Splits a string into strings and number tokens.\n     */\n    private List&lt;String&gt; split(String s) {\n        List&lt;String&gt; list = new ArrayList&lt;String&gt;();\n        try (Scanner scanner = new Scanner(s)) {\n            int index = 0;\n            String num = null;\n            while ((num = scanner.findInLine(NUMBER_PATTERN)) != null) {\n                int indexOfNumber = s.indexOf(num, index);\n                if (indexOfNumber &gt; index) {\n                    list.add(s.substring(index, indexOfNumber));\n                }\n                list.add(num);\n                index = indexOfNumber + num.length();\n            }\n            if (index &lt; s.length()) {\n                list.add(s.substring(index));\n            }\n        }\n        return list;\n    }\n}\n</code></pre>\n\n<p>PS.  I wanted to use the java.lang.String.split() method and use \"lookahead/lookbehind\" to keep the tokens, but I could not get it to work with the regular expression I was using.</p>\n"},{"tags":[],"owner":{"account_id":1677308,"reputation":1415,"user_id":1542527,"display_name":"Giuseppe Scrivano"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1342908782,"creation_date":1342908782,"answer_id":11596232,"question_id":104599,"body_markdown":"interesting problem, and here my proposed solution:\r\n\r\n    import java.util.Collections;\r\n    import java.util.Vector;\r\n    \r\n    public class CompareToken implements Comparable&lt;CompareToken&gt;\r\n    {\r\n        int valN;\r\n        String valS;\r\n        String repr;\r\n    \r\n        public String toString() {\r\n    \treturn repr;\r\n        }\r\n    \r\n        public CompareToken(String s) {\r\n    \tint l = 0;\r\n    \tchar data[] = new char[s.length()];\r\n    \trepr = s;\r\n    \tvalN = 0;\r\n    \tfor (char c : s.toCharArray()) {\r\n    \t    if(Character.isDigit(c))\r\n    \t\tvalN = valN * 10 + (c - &#39;0&#39;);\r\n    \t    else\r\n    \t\tdata[l++] = c;\r\n    \t}\r\n    \r\n    \tvalS = new String(data, 0, l);\r\n        }\r\n    \r\n        public int compareTo(CompareToken b) {\r\n    \tint r = valS.compareTo(b.valS);\r\n    \tif (r != 0)\r\n    \t    return r;\r\n    \r\n    \treturn valN - b.valN;\r\n        }\r\n    \r\n    \r\n        public static void main(String [] args) {\r\n    \tString [] strings = {\r\n    \t    &quot;aaa&quot;,\r\n    \t    &quot;bbb3ccc&quot;,\r\n    \t    &quot;bbb12ccc&quot;,\r\n    \t    &quot;ccc 11&quot;,\r\n    \t    &quot;ddd&quot;,\r\n    \t    &quot;eee3dddjpeg2000eee&quot;,\r\n    \t    &quot;eee12dddjpeg2000eee&quot;\r\n    \t};\r\n    \r\n    \tVector&lt;CompareToken&gt; data = new Vector&lt;CompareToken&gt;();\r\n    \tfor(String s : strings)\r\n    \t    data.add(new CompareToken(s));\r\n    \tCollections.shuffle(data);\r\n    \r\n    \tCollections.sort(data);\r\n    \tfor (CompareToken c : data)\r\n    \t    System.out.println (&quot;&quot; + c);\r\n        }\r\n    \r\n    }\r\n    ","title":"Sort on a string that may contain a number","body":"<p>interesting problem, and here my proposed solution:</p>\n\n<pre><code>import java.util.Collections;\nimport java.util.Vector;\n\npublic class CompareToken implements Comparable&lt;CompareToken&gt;\n{\n    int valN;\n    String valS;\n    String repr;\n\n    public String toString() {\n    return repr;\n    }\n\n    public CompareToken(String s) {\n    int l = 0;\n    char data[] = new char[s.length()];\n    repr = s;\n    valN = 0;\n    for (char c : s.toCharArray()) {\n        if(Character.isDigit(c))\n        valN = valN * 10 + (c - '0');\n        else\n        data[l++] = c;\n    }\n\n    valS = new String(data, 0, l);\n    }\n\n    public int compareTo(CompareToken b) {\n    int r = valS.compareTo(b.valS);\n    if (r != 0)\n        return r;\n\n    return valN - b.valN;\n    }\n\n\n    public static void main(String [] args) {\n    String [] strings = {\n        \"aaa\",\n        \"bbb3ccc\",\n        \"bbb12ccc\",\n        \"ccc 11\",\n        \"ddd\",\n        \"eee3dddjpeg2000eee\",\n        \"eee12dddjpeg2000eee\"\n    };\n\n    Vector&lt;CompareToken&gt; data = new Vector&lt;CompareToken&gt;();\n    for(String s : strings)\n        data.add(new CompareToken(s));\n    Collections.shuffle(data);\n\n    Collections.sort(data);\n    for (CompareToken c : data)\n        System.out.println (\"\" + c);\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1545228,"reputation":1294,"user_id":1438908,"accept_rate":35,"display_name":"cdaringe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1406267952,"creation_date":1406267952,"answer_id":24948978,"question_id":104599,"body_markdown":"Prior to discovering this thread, I implemented a similar solution in javascript.  Perhaps my strategy will find you well, despite different syntax.  Similar to above, I parse the two strings being compared, and split them both into arrays, dividing the strings at continuous numbers.  \r\n\r\n    ...\r\n    var regex = /(\\d+)/g,\r\n        str1Components = str1.split(regex),\r\n        str2Components = str2.split(regex),\r\n    ...\r\n\r\nI.e., &#39;hello22goodbye 33&#39; =&gt; [&#39;hello&#39;, 22, &#39;goodbye &#39;, 33];  Thus, you can walk through the arrays&#39; elements in pairs between string1 and string2, do some type coercion (such as, is this element really a number?), and compare as you walk.\r\n\r\nWorking example here: http://jsfiddle.net/F46s6/3/\r\n\r\nNote, I currently only support integer types, though handling decimal values wouldn&#39;t be too hard of a modification.","title":"Sort on a string that may contain a number","body":"<p>Prior to discovering this thread, I implemented a similar solution in javascript.  Perhaps my strategy will find you well, despite different syntax.  Similar to above, I parse the two strings being compared, and split them both into arrays, dividing the strings at continuous numbers.  </p>\n\n<pre><code>...\nvar regex = /(\\d+)/g,\n    str1Components = str1.split(regex),\n    str2Components = str2.split(regex),\n...\n</code></pre>\n\n<p>I.e., 'hello22goodbye 33' => ['hello', 22, 'goodbye ', 33];  Thus, you can walk through the arrays' elements in pairs between string1 and string2, do some type coercion (such as, is this element really a number?), and compare as you walk.</p>\n\n<p>Working example here: <a href=\"http://jsfiddle.net/F46s6/3/\" rel=\"nofollow\">http://jsfiddle.net/F46s6/3/</a></p>\n\n<p>Note, I currently only support integer types, though handling decimal values wouldn't be too hard of a modification.</p>\n"},{"tags":[],"owner":{"account_id":5501255,"reputation":186,"user_id":4370518,"display_name":"Olivier OUDOT"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1661879671,"creation_date":1418835061,"answer_id":27530654,"question_id":104599,"body_markdown":"The implementation I propose here is simple and efficient. It does not allocate any extra memory, directly or indirectly by using regular expressions or methods such as substring(), split(), toCharArray(), etc. \r\n\r\nThis implementation first goes across both strings to search for the first characters that are different, at maximal speed, without doing any special processing during this. Specific number comparison is triggered only when these characters are both digits.\r\n\r\n    public static final int compareNatural (String s1, String s2)\r\n    {\r\n       // Skip all identical characters\r\n       int len1 = s1.length();\r\n       int len2 = s2.length();\r\n       int i;\r\n       char c1, c2;\r\n       for (i = 0, c1 = 0, c2 = 0; (i &lt; len1) &amp;&amp; (i &lt; len2) &amp;&amp; (c1 = s1.charAt(i)) == (c2 = s2.charAt(i)); i++);\r\n       \r\n       // Check end of string\r\n       if (c1 == c2)\r\n          return(len1 - len2);\r\n    \r\n       // Check digit in first string\r\n       if (Character.isDigit(c1))\r\n       {\r\n          // Check digit only in first string \r\n          if (!Character.isDigit(c2))\r\n             return(1);\r\n          \r\n          // Scan all integer digits\r\n          int x1, x2;\r\n          for (x1 = i + 1; (x1 &lt; len1) &amp;&amp; Character.isDigit(s1.charAt(x1)); x1++);\r\n          for (x2 = i + 1; (x2 &lt; len2) &amp;&amp; Character.isDigit(s2.charAt(x2)); x2++);\r\n          \r\n          // Longer integer wins, first digit otherwise\r\n          return(x2 == x1 ? c1 - c2 : x1 - x2);\r\n       }\r\n       \r\n       // Check digit only in second string\r\n       if (Character.isDigit(c2))\r\n          return(-1);\r\n       \r\n       // No digits\r\n       return(c1 - c2);\r\n    }\r\n\r\n","title":"Sort on a string that may contain a number","body":"<p>The implementation I propose here is simple and efficient. It does not allocate any extra memory, directly or indirectly by using regular expressions or methods such as substring(), split(), toCharArray(), etc.</p>\n<p>This implementation first goes across both strings to search for the first characters that are different, at maximal speed, without doing any special processing during this. Specific number comparison is triggered only when these characters are both digits.</p>\n<pre><code>public static final int compareNatural (String s1, String s2)\n{\n   // Skip all identical characters\n   int len1 = s1.length();\n   int len2 = s2.length();\n   int i;\n   char c1, c2;\n   for (i = 0, c1 = 0, c2 = 0; (i &lt; len1) &amp;&amp; (i &lt; len2) &amp;&amp; (c1 = s1.charAt(i)) == (c2 = s2.charAt(i)); i++);\n   \n   // Check end of string\n   if (c1 == c2)\n      return(len1 - len2);\n\n   // Check digit in first string\n   if (Character.isDigit(c1))\n   {\n      // Check digit only in first string \n      if (!Character.isDigit(c2))\n         return(1);\n      \n      // Scan all integer digits\n      int x1, x2;\n      for (x1 = i + 1; (x1 &lt; len1) &amp;&amp; Character.isDigit(s1.charAt(x1)); x1++);\n      for (x2 = i + 1; (x2 &lt; len2) &amp;&amp; Character.isDigit(s2.charAt(x2)); x2++);\n      \n      // Longer integer wins, first digit otherwise\n      return(x2 == x1 ? c1 - c2 : x1 - x2);\n   }\n   \n   // Check digit only in second string\n   if (Character.isDigit(c2))\n      return(-1);\n   \n   // No digits\n   return(c1 - c2);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1188434,"reputation":4208,"user_id":1161876,"accept_rate":64,"display_name":"specialscope"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1433688803,"creation_date":1433688803,"answer_id":30694914,"question_id":104599,"body_markdown":"My 2 cents.Is working well for me. I am mainly using it for filenames.\r\n\r\n    \tprivate final boolean isDigit(char ch)\r\n\t\t    {\r\n\t\t        return ch &gt;= 48 &amp;&amp; ch &lt;= 57;\r\n\t\t    }\r\n\t\t    \r\n\t\t\t\r\n\t\t\tprivate int compareNumericalString(String s1,String s2){\r\n\t\t\t\t\r\n\t\t\t\tint s1Counter=0;\r\n\t\t\t\tint s2Counter=0;\r\n\t\t\t\twhile(true){\r\n\t\t\t\t\tif(s1Counter&gt;=s1.length()){\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(s2Counter&gt;=s2.length()){\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tchar currentChar1=s1.charAt(s1Counter++);\r\n\t\t\t\t\tchar currentChar2=s2.charAt(s2Counter++);\r\n\t\t\t\t\tif(isDigit(currentChar1) &amp;&amp;isDigit(currentChar2)){\r\n\t\t\t\t\t\tString digitString1=&quot;&quot;+currentChar1;\r\n\t\t\t\t\t\tString digitString2=&quot;&quot;+currentChar2;\r\n\t\t\t\t\t\twhile(true){\r\n\t\t\t\t\t\t\tif(s1Counter&gt;=s1.length()){\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif(s2Counter&gt;=s2.length()){\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tif(isDigit(s1.charAt(s1Counter))){\r\n\t\t\t\t\t\t\t\tdigitString1+=s1.charAt(s1Counter);\r\n\t\t\t\t\t\t\t\ts1Counter++;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tif(isDigit(s2.charAt(s2Counter))){\r\n\t\t\t\t\t\t\t\tdigitString2+=s2.charAt(s2Counter);\r\n\t\t\t\t\t\t\t\ts2Counter++;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tif((!isDigit(s1.charAt(s1Counter))) &amp;&amp; (!isDigit(s2.charAt(s2Counter)))){\r\n\t\t\t\t\t\t\t\tcurrentChar1=s1.charAt(s1Counter);\r\n\t\t\t\t\t\t\t\tcurrentChar2=s2.charAt(s2Counter);\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(!digitString1.equals(digitString2)){\r\n\t\t\t\t\t\t\treturn Integer.parseInt(digitString1)-Integer.parseInt(digitString2);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(currentChar1!=currentChar2){\r\n\t\t\t\t\t\treturn currentChar1-currentChar2;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\treturn s1.compareTo(s2);\r\n\t\t\t}\r\n","title":"Sort on a string that may contain a number","body":"<p>My 2 cents.Is working well for me. I am mainly using it for filenames.</p>\n\n<pre><code>    private final boolean isDigit(char ch)\n        {\n            return ch &gt;= 48 &amp;&amp; ch &lt;= 57;\n        }\n\n\n        private int compareNumericalString(String s1,String s2){\n\n            int s1Counter=0;\n            int s2Counter=0;\n            while(true){\n                if(s1Counter&gt;=s1.length()){\n                    break;\n                }\n                if(s2Counter&gt;=s2.length()){\n                    break;\n                }\n                char currentChar1=s1.charAt(s1Counter++);\n                char currentChar2=s2.charAt(s2Counter++);\n                if(isDigit(currentChar1) &amp;&amp;isDigit(currentChar2)){\n                    String digitString1=\"\"+currentChar1;\n                    String digitString2=\"\"+currentChar2;\n                    while(true){\n                        if(s1Counter&gt;=s1.length()){\n                            break;\n                        }\n                        if(s2Counter&gt;=s2.length()){\n                            break;\n                        }\n\n                        if(isDigit(s1.charAt(s1Counter))){\n                            digitString1+=s1.charAt(s1Counter);\n                            s1Counter++;\n                        }\n\n                        if(isDigit(s2.charAt(s2Counter))){\n                            digitString2+=s2.charAt(s2Counter);\n                            s2Counter++;\n                        }\n\n                        if((!isDigit(s1.charAt(s1Counter))) &amp;&amp; (!isDigit(s2.charAt(s2Counter)))){\n                            currentChar1=s1.charAt(s1Counter);\n                            currentChar2=s2.charAt(s2Counter);\n                            break;\n                        }\n                    }\n                    if(!digitString1.equals(digitString2)){\n                        return Integer.parseInt(digitString1)-Integer.parseInt(digitString2);\n                    }\n                }\n\n                if(currentChar1!=currentChar2){\n                    return currentChar1-currentChar2;\n                }\n\n            }\n            return s1.compareTo(s2);\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6745528,"reputation":595,"user_id":5197240,"display_name":"Bennie Krijger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1462346102,"creation_date":1462277479,"answer_id":37003792,"question_id":104599,"body_markdown":"Although the question asked a java solution, for anyone who wants a scala solution:\r\n\r\n    object Alphanum {\r\n\r\n       private[this] val regex = &quot;((?&lt;=[0-9])(?=[^0-9]))|((?&lt;=[^0-9])(?=[0-9]))&quot;\r\n\r\n       private[this] val alphaNum: Ordering[String] = Ordering.fromLessThan((ss1: String, ss2: String) =&gt; (ss1, ss2) match {\r\n         case (sss1, sss2) if sss1.matches(&quot;[0-9]+&quot;) &amp;&amp; sss2.matches(&quot;[0-9]+&quot;) =&gt; sss1.toLong &lt; sss2.toLong\r\n         case (sss1, sss2) =&gt; sss1 &lt; sss2\r\n       })\r\n\r\n       def ordering: Ordering[String] = Ordering.fromLessThan((s1: String, s2: String) =&gt; {\r\n         import Ordering.Implicits.infixOrderingOps\r\n         implicit val ord: Ordering[List[String]] = Ordering.Implicits.seqDerivedOrdering(alphaNum)\r\n\r\n         s1.split(regex).toList &lt; s2.split(regex).toList\r\n       })\r\n\r\n    }","title":"Sort on a string that may contain a number","body":"<p>Although the question asked a java solution, for anyone who wants a scala solution:</p>\n\n<pre><code>object Alphanum {\n\n   private[this] val regex = \"((?&lt;=[0-9])(?=[^0-9]))|((?&lt;=[^0-9])(?=[0-9]))\"\n\n   private[this] val alphaNum: Ordering[String] = Ordering.fromLessThan((ss1: String, ss2: String) =&gt; (ss1, ss2) match {\n     case (sss1, sss2) if sss1.matches(\"[0-9]+\") &amp;&amp; sss2.matches(\"[0-9]+\") =&gt; sss1.toLong &lt; sss2.toLong\n     case (sss1, sss2) =&gt; sss1 &lt; sss2\n   })\n\n   def ordering: Ordering[String] = Ordering.fromLessThan((s1: String, s2: String) =&gt; {\n     import Ordering.Implicits.infixOrderingOps\n     implicit val ord: Ordering[List[String]] = Ordering.Implicits.seqDerivedOrdering(alphaNum)\n\n     s1.split(regex).toList &lt; s2.split(regex).toList\n   })\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6720924,"reputation":5542,"user_id":5180989,"display_name":"Helder Pereira"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1500620900,"creation_date":1500463339,"answer_id":45189067,"question_id":104599,"body_markdown":"I came up with a quite simple implementation in Java using regular expressions:\r\n\r\n    public static Comparator&lt;String&gt; naturalOrdering() {\r\n        final Pattern compile = Pattern.compile(&quot;(\\\\d+)|(\\\\D+)&quot;);\r\n        return (s1, s2) -&gt; {\r\n            final Matcher matcher1 = compile.matcher(s1);\r\n            final Matcher matcher2 = compile.matcher(s2);\r\n            while (true) {\r\n                final boolean found1 = matcher1.find();\r\n                final boolean found2 = matcher2.find();\r\n                if (!found1 || !found2) {\r\n                    return Boolean.compare(found1, found2);\r\n                } else if (!matcher1.group().equals(matcher2.group())) {\r\n                    if (matcher1.group(1) == null || matcher2.group(1) == null) {\r\n                        return matcher1.group().compareTo(matcher2.group());\r\n                    } else {\r\n                        return Integer.valueOf(matcher1.group(1)).compareTo(Integer.valueOf(matcher2.group(1)));\r\n                    }\r\n                }\r\n            }\r\n        };\r\n    }\r\n\r\nHere is how it works:\r\n\r\n    final List&lt;String&gt; strings = Arrays.asList(&quot;x15&quot;, &quot;xa&quot;, &quot;y16&quot;, &quot;x2a&quot;, &quot;y11&quot;, &quot;z&quot;, &quot;z5&quot;, &quot;x2b&quot;, &quot;z&quot;);\r\n    strings.sort(naturalOrdering());\r\n    System.out.println(strings);\r\n\r\n&gt; [x2a, x2b, x15, xa, y11, y16, z, z, z5]","title":"Sort on a string that may contain a number","body":"<p>I came up with a quite simple implementation in Java using regular expressions:</p>\n\n<pre><code>public static Comparator&lt;String&gt; naturalOrdering() {\n    final Pattern compile = Pattern.compile(\"(\\\\d+)|(\\\\D+)\");\n    return (s1, s2) -&gt; {\n        final Matcher matcher1 = compile.matcher(s1);\n        final Matcher matcher2 = compile.matcher(s2);\n        while (true) {\n            final boolean found1 = matcher1.find();\n            final boolean found2 = matcher2.find();\n            if (!found1 || !found2) {\n                return Boolean.compare(found1, found2);\n            } else if (!matcher1.group().equals(matcher2.group())) {\n                if (matcher1.group(1) == null || matcher2.group(1) == null) {\n                    return matcher1.group().compareTo(matcher2.group());\n                } else {\n                    return Integer.valueOf(matcher1.group(1)).compareTo(Integer.valueOf(matcher2.group(1)));\n                }\n            }\n        }\n    };\n}\n</code></pre>\n\n<p>Here is how it works:</p>\n\n<pre><code>final List&lt;String&gt; strings = Arrays.asList(\"x15\", \"xa\", \"y16\", \"x2a\", \"y11\", \"z\", \"z5\", \"x2b\", \"z\");\nstrings.sort(naturalOrdering());\nSystem.out.println(strings);\n</code></pre>\n\n<blockquote>\n  <p>[x2a, x2b, x15, xa, y11, y16, z, z, z5]</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":7636973,"reputation":31,"user_id":5790258,"display_name":"mavisto"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1541777912,"creation_date":1541777912,"answer_id":53228819,"question_id":104599,"body_markdown":"My problem was that I have lists consisting of a combination of alpha numeric strings (eg C22, C3, C5 etc), alpha strings (eg A, H, R etc) and just digits (eg 99, 45 etc) that need sorting in the order A, C3, C5, C22, H, R, 45, 99.  I also have duplicates that need removing so I only get a single entry.  \r\n\r\nI&#39;m also not just working with Strings, I&#39;m ordering an Object and using a specific field within the Object to get the correct order.\r\n\r\nA solution that seems to work for me is :\r\n\r\n    SortedSet&lt;Code&gt; codeSet;\r\n\tcodeSet = new TreeSet&lt;Code&gt;(new Comparator&lt;Code&gt;() {\r\n\r\n\tprivate boolean isThereAnyNumber(String a, String b) {\r\n\t\treturn isNumber(a) || isNumber(b);\r\n\t}\r\n\r\n\tprivate boolean isNumber(String s) {\r\n\t\treturn s.matches(&quot;[-+]?\\\\d*\\\\.?\\\\d+&quot;);\r\n\t}\r\n\r\n\tprivate String extractChars(String s) {\r\n\t\tString chars = s.replaceAll(&quot;\\\\d&quot;, &quot;&quot;);\r\n\t\treturn chars;\r\n\t}\r\n\r\n\tprivate int extractInt(String s) {\r\n\t\tString num = s.replaceAll(&quot;\\\\D&quot;, &quot;&quot;);\r\n\t\treturn num.isEmpty() ? 0 : Integer.parseInt(num);\r\n\t}\r\n\r\n\tprivate int compareStrings(String o1, String o2) {\r\n\r\n\t\tif (!extractChars(o1).equals(extractChars(o2))) {\r\n\t\t\treturn o1.compareTo(o2);\r\n\t\t} else\r\n\t\t\treturn extractInt(o1) - extractInt(o2);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic int compare(Code a, Code b) {\r\n\t\t\t\t\t\t\r\n\t\treturn isThereAnyNumber(a.getPrimaryCode(), b.getPrimaryCode()) \r\n\t\t\t\t? isNumber(a.getPrimaryCode()) ? 1 : -1 \r\n\t\t\t\t\t: compareStrings(a.getPrimaryCode(), b.getPrimaryCode());\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\nIt &#39;borrows&#39; some code that I found here on Stackoverflow plus some tweaks of my own to get it working just how I needed it too.\r\n\r\nDue to trying to order Objects, needing a comparator as well as duplicate removal, one negative fudge I had to employ was I first have to write my Objects to a TreeMap before writing them to a Treeset.  It may impact performance a little  but given that the lists will be a max of about 80 Codes, it shouldn&#39;t be a problem.","title":"Sort on a string that may contain a number","body":"<p>My problem was that I have lists consisting of a combination of alpha numeric strings (eg C22, C3, C5 etc), alpha strings (eg A, H, R etc) and just digits (eg 99, 45 etc) that need sorting in the order A, C3, C5, C22, H, R, 45, 99.  I also have duplicates that need removing so I only get a single entry.  </p>\n\n<p>I'm also not just working with Strings, I'm ordering an Object and using a specific field within the Object to get the correct order.</p>\n\n<p>A solution that seems to work for me is :</p>\n\n<pre><code>SortedSet&lt;Code&gt; codeSet;\ncodeSet = new TreeSet&lt;Code&gt;(new Comparator&lt;Code&gt;() {\n\nprivate boolean isThereAnyNumber(String a, String b) {\n    return isNumber(a) || isNumber(b);\n}\n\nprivate boolean isNumber(String s) {\n    return s.matches(\"[-+]?\\\\d*\\\\.?\\\\d+\");\n}\n\nprivate String extractChars(String s) {\n    String chars = s.replaceAll(\"\\\\d\", \"\");\n    return chars;\n}\n\nprivate int extractInt(String s) {\n    String num = s.replaceAll(\"\\\\D\", \"\");\n    return num.isEmpty() ? 0 : Integer.parseInt(num);\n}\n\nprivate int compareStrings(String o1, String o2) {\n\n    if (!extractChars(o1).equals(extractChars(o2))) {\n        return o1.compareTo(o2);\n    } else\n        return extractInt(o1) - extractInt(o2);\n}\n\n@Override\npublic int compare(Code a, Code b) {\n\n    return isThereAnyNumber(a.getPrimaryCode(), b.getPrimaryCode()) \n            ? isNumber(a.getPrimaryCode()) ? 1 : -1 \n                : compareStrings(a.getPrimaryCode(), b.getPrimaryCode());\n                }\n            });\n</code></pre>\n\n<p>It 'borrows' some code that I found here on Stackoverflow plus some tweaks of my own to get it working just how I needed it too.</p>\n\n<p>Due to trying to order Objects, needing a comparator as well as duplicate removal, one negative fudge I had to employ was I first have to write my Objects to a TreeMap before writing them to a Treeset.  It may impact performance a little  but given that the lists will be a max of about 80 Codes, it shouldn't be a problem.</p>\n"},{"tags":[],"owner":{"account_id":482765,"reputation":4526,"user_id":897373,"accept_rate":85,"display_name":"Saša"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1561653669,"creation_date":1561653669,"answer_id":56795450,"question_id":104599,"body_markdown":"I had a similar problem where my strings had space-separated segments inside. I solved it in this way:\r\n\r\n    public class StringWithNumberComparator implements Comparator&lt;MyClass&gt; {\r\n\r\n\t@Override\r\n\tpublic int compare(MyClass o1, MyClass o2) {\r\n\t\tif (o1.getStringToCompare().equals(o2.getStringToCompare())) {\r\n\t\t\treturn 0;\r\n\t\t}\r\n\t\tString[] first = o1.getStringToCompare().split(&quot; &quot;);\r\n\t\tString[] second = o2.getStringToCompare().split(&quot; &quot;);\r\n\t\tif (first.length == second.length) {\r\n\t\t\tfor (int i = 0; i &lt; first.length; i++) {\r\n\r\n\t\t\t\tint segmentCompare = StringUtils.compare(first[i], second[i]);\r\n\t\t\t\tif (StringUtils.isNumeric(first[i]) &amp;&amp; StringUtils.isNumeric(second[i])) {\r\n\r\n\t\t\t\t\tsegmentCompare = NumberUtils.compare(Integer.valueOf(first[i]), Integer.valueOf(second[i]));\r\n\t\t\t\t\tif (0 != segmentCompare) {\r\n\t\t\t\t\t\t// return only if uneven numbers in case there are more segments to be checked\r\n\t\t\t\t\t\treturn segmentCompare;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (0 != segmentCompare) {\r\n\t\t\t\t\treturn segmentCompare;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\treturn StringUtils.compare(o1.getDenominazione(), o2.getDenominazione());\r\n\t\t}\r\n\r\n\t\treturn 0;\r\n\t}\r\nAs you can see I have used Apaches StringUtils.compare() and NumberUtils.compere() as a standard help.","title":"Sort on a string that may contain a number","body":"<p>I had a similar problem where my strings had space-separated segments inside. I solved it in this way:</p>\n\n<pre><code>public class StringWithNumberComparator implements Comparator&lt;MyClass&gt; {\n\n@Override\npublic int compare(MyClass o1, MyClass o2) {\n    if (o1.getStringToCompare().equals(o2.getStringToCompare())) {\n        return 0;\n    }\n    String[] first = o1.getStringToCompare().split(\" \");\n    String[] second = o2.getStringToCompare().split(\" \");\n    if (first.length == second.length) {\n        for (int i = 0; i &lt; first.length; i++) {\n\n            int segmentCompare = StringUtils.compare(first[i], second[i]);\n            if (StringUtils.isNumeric(first[i]) &amp;&amp; StringUtils.isNumeric(second[i])) {\n\n                segmentCompare = NumberUtils.compare(Integer.valueOf(first[i]), Integer.valueOf(second[i]));\n                if (0 != segmentCompare) {\n                    // return only if uneven numbers in case there are more segments to be checked\n                    return segmentCompare;\n                }\n            }\n            if (0 != segmentCompare) {\n                return segmentCompare;\n            }\n        }\n    } else {\n        return StringUtils.compare(o1.getDenominazione(), o2.getDenominazione());\n    }\n\n    return 0;\n}\n</code></pre>\n\n<p>As you can see I have used Apaches StringUtils.compare() and NumberUtils.compere() as a standard help.</p>\n"},{"tags":[],"owner":{"account_id":197030,"reputation":1674,"user_id":440827,"accept_rate":86,"display_name":"Christian"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1567931714,"creation_date":1567886971,"answer_id":57837107,"question_id":104599,"body_markdown":"I created a [project][1] to compare the different implementations. It is far from complete, but it is a starting point. \r\n\r\n\r\n  [1]: https://github.com/ChristianLutz/natural-order-benchmark","title":"Sort on a string that may contain a number","body":"<p>I created a <a href=\"https://github.com/ChristianLutz/natural-order-benchmark\" rel=\"nofollow noreferrer\">project</a> to compare the different implementations. It is far from complete, but it is a starting point. </p>\n"},{"tags":[],"owner":{"account_id":3013533,"reputation":438,"user_id":2556378,"display_name":"Stanislav"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1570291059,"creation_date":1570291059,"answer_id":58249974,"question_id":104599,"body_markdown":"Here is the solution with the following advantages over Alphanum Algorithm:\r\n\r\n 1. 3.25x times faster (tested on the data from &#39;Epilogue&#39; chapter of [Alphanum description][1])\r\n 2. Does not consume extra memory (no string splitting, no numbers parsing)\r\n 3. Processes leading zeros correctly (e.g. `&quot;0001&quot;` equals `&quot;1&quot;`, `&quot;01234&quot;` is less than `&quot;4567&quot;`)\r\n\r\n```\r\npublic class NumberAwareComparator implements Comparator&lt;String&gt;\r\n{\r\n\t@Override\r\n\tpublic int compare(String s1, String s2)\r\n\t{\r\n\t\tint len1 = s1.length();\r\n\t\tint len2 = s2.length();\r\n\t\tint i1 = 0;\r\n\t\tint i2 = 0;\r\n\t\twhile (true)\r\n\t\t{\r\n\t\t\t// handle the case when one string is longer than another\r\n\t\t\tif (i1 == len1)\r\n\t\t\t\treturn i2 == len2 ? 0 : -1;\r\n\t\t\tif (i2 == len2)\r\n\t\t\t\treturn 1;\r\n\r\n\t\t\tchar ch1 = s1.charAt(i1);\r\n\t\t\tchar ch2 = s2.charAt(i2);\r\n\t\t\tif (Character.isDigit(ch1) &amp;&amp; Character.isDigit(ch2))\r\n\t\t\t{\r\n\t\t\t\t// skip leading zeros\r\n\t\t\t\twhile (i1 &lt; len1 &amp;&amp; s1.charAt(i1) == &#39;0&#39;)\r\n\t\t\t\t\ti1++;\r\n\t\t\t\twhile (i2 &lt; len2 &amp;&amp; s2.charAt(i2) == &#39;0&#39;)\r\n\t\t\t\t\ti2++;\r\n\r\n\t\t\t\t// find the ends of the numbers\r\n\t\t\t\tint end1 = i1;\r\n\t\t\t\tint end2 = i2;\r\n\t\t\t\twhile (end1 &lt; len1 &amp;&amp; Character.isDigit(s1.charAt(end1)))\r\n\t\t\t\t\tend1++;\r\n\t\t\t\twhile (end2 &lt; len2 &amp;&amp; Character.isDigit(s2.charAt(end2)))\r\n\t\t\t\t\tend2++;\r\n\r\n\t\t\t\tint diglen1 = end1 - i1;\r\n\t\t\t\tint diglen2 = end2 - i2;\r\n\r\n\t\t\t\t// if the lengths are different, then the longer number is bigger\r\n\t\t\t\tif (diglen1 != diglen2)\r\n\t\t\t\t\treturn diglen1 - diglen2;\r\n\r\n\t\t\t\t// compare numbers digit by digit\r\n\t\t\t\twhile (i1 &lt; end1)\r\n\t\t\t\t{\r\n\t\t\t\t\tif (s1.charAt(i1) != s2.charAt(i2))\r\n\t\t\t\t\t\treturn s1.charAt(i1) - s2.charAt(i2);\r\n\t\t\t\t\ti1++;\r\n\t\t\t\t\ti2++;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\t// plain characters comparison\r\n\t\t\t\tif (ch1 != ch2)\r\n\t\t\t\t\treturn ch1 - ch2;\r\n\t\t\t\ti1++;\r\n\t\t\t\ti2++;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\n\r\n  [1]: http://www.davekoelle.com/alphanum.html","title":"Sort on a string that may contain a number","body":"<p>Here is the solution with the following advantages over Alphanum Algorithm:</p>\n\n<ol>\n<li>3.25x times faster (tested on the data from 'Epilogue' chapter of <a href=\"http://www.davekoelle.com/alphanum.html\" rel=\"nofollow noreferrer\">Alphanum description</a>)</li>\n<li>Does not consume extra memory (no string splitting, no numbers parsing)</li>\n<li>Processes leading zeros correctly (e.g. <code>\"0001\"</code> equals <code>\"1\"</code>, <code>\"01234\"</code> is less than <code>\"4567\"</code>)</li>\n</ol>\n\n<pre><code>public class NumberAwareComparator implements Comparator&lt;String&gt;\n{\n    @Override\n    public int compare(String s1, String s2)\n    {\n        int len1 = s1.length();\n        int len2 = s2.length();\n        int i1 = 0;\n        int i2 = 0;\n        while (true)\n        {\n            // handle the case when one string is longer than another\n            if (i1 == len1)\n                return i2 == len2 ? 0 : -1;\n            if (i2 == len2)\n                return 1;\n\n            char ch1 = s1.charAt(i1);\n            char ch2 = s2.charAt(i2);\n            if (Character.isDigit(ch1) &amp;&amp; Character.isDigit(ch2))\n            {\n                // skip leading zeros\n                while (i1 &lt; len1 &amp;&amp; s1.charAt(i1) == '0')\n                    i1++;\n                while (i2 &lt; len2 &amp;&amp; s2.charAt(i2) == '0')\n                    i2++;\n\n                // find the ends of the numbers\n                int end1 = i1;\n                int end2 = i2;\n                while (end1 &lt; len1 &amp;&amp; Character.isDigit(s1.charAt(end1)))\n                    end1++;\n                while (end2 &lt; len2 &amp;&amp; Character.isDigit(s2.charAt(end2)))\n                    end2++;\n\n                int diglen1 = end1 - i1;\n                int diglen2 = end2 - i2;\n\n                // if the lengths are different, then the longer number is bigger\n                if (diglen1 != diglen2)\n                    return diglen1 - diglen2;\n\n                // compare numbers digit by digit\n                while (i1 &lt; end1)\n                {\n                    if (s1.charAt(i1) != s2.charAt(i2))\n                        return s1.charAt(i1) - s2.charAt(i2);\n                    i1++;\n                    i2++;\n                }\n            }\n            else\n            {\n                // plain characters comparison\n                if (ch1 != ch2)\n                    return ch1 - ch2;\n                i1++;\n                i2++;\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17930424,"reputation":21,"user_id":13027997,"display_name":"Devan K S"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1583679447,"creation_date":1583679447,"answer_id":60588742,"question_id":104599,"body_markdown":"Adding on to the [answer](https://stackoverflow.com/a/58249974/13027997) made by [@stanislav](https://stackoverflow.com/users/2556378/stanislav).\r\nA few problems I faced while using the answer provided was:\r\n\r\n1. Capital and small letters are separated by the characters between their ASCII codes. This breaks the flow when the strings being sorted have _ or other characters which are between small letters and capital letters in ASCII.\r\n2. If two strings are the same except for the leading zeroes count being different, the function returns 0 which will make the sort depend on the original positions of the string in the list.\r\n\r\nThese two issues have been fixed in the new code. And I made a few function instead of a few repetitive set of code. The differentCaseCompared variable keeps track of whether if two strings are the same except for the cases being different. If so the value of the first different case characters subtracted is returned. This is done to avoid the issue of having two strings differing by case returned as 0. \r\n\r\n```\r\n\r\npublic class NaturalSortingComparator implements Comparator&lt;String&gt; {\r\n\r\n    @Override\r\n    public int compare(String string1, String string2) {\r\n        int lengthOfString1 = string1.length();\r\n        int lengthOfString2 = string2.length();\r\n        int iteratorOfString1 = 0;\r\n        int iteratorOfString2 = 0;\r\n        int differentCaseCompared = 0;\r\n        while (true) {\r\n            if (iteratorOfString1 == lengthOfString1) {\r\n                if (iteratorOfString2 == lengthOfString2) {\r\n                    if (lengthOfString1 == lengthOfString2) {\r\n                        // If both strings are the same except for the different cases, the differentCaseCompared will be returned\r\n                        return differentCaseCompared;\r\n                    }\r\n                    //If the characters are the same at the point, returns the difference between length of the strings\r\n                    else {\r\n                        return lengthOfString1 - lengthOfString2;\r\n                    }\r\n                }\r\n                //If String2 is bigger than String1\r\n                else\r\n                    return -1;\r\n            }\r\n            //Check if String1 is bigger than string2\r\n            if (iteratorOfString2 == lengthOfString2) {\r\n                return 1;\r\n            }\r\n\r\n            char ch1 = string1.charAt(iteratorOfString1);\r\n            char ch2 = string2.charAt(iteratorOfString2);\r\n\r\n            if (Character.isDigit(ch1) &amp;&amp; Character.isDigit(ch2)) {\r\n                // skip leading zeros\r\n                iteratorOfString1 = skipLeadingZeroes(string1, lengthOfString1, iteratorOfString1);\r\n                iteratorOfString2 = skipLeadingZeroes(string2, lengthOfString2, iteratorOfString2);\r\n\r\n                // find the ends of the numbers\r\n                int endPositionOfNumbersInString1 = findEndPositionOfNumber(string1, lengthOfString1, iteratorOfString1);\r\n                int endPositionOfNumbersInString2 = findEndPositionOfNumber(string2, lengthOfString2, iteratorOfString2);\r\n\r\n                int lengthOfDigitsInString1 = endPositionOfNumbersInString1 - iteratorOfString1;\r\n                int lengthOfDigitsInString2 = endPositionOfNumbersInString2 - iteratorOfString2;\r\n\r\n                // if the lengths are different, then the longer number is bigger\r\n                if (lengthOfDigitsInString1 != lengthOfDigitsInString2)\r\n                    return lengthOfDigitsInString1 - lengthOfDigitsInString2;\r\n\r\n                // compare numbers digit by digit\r\n                while (iteratorOfString1 &lt; endPositionOfNumbersInString1) {\r\n\r\n                    if (string1.charAt(iteratorOfString1) != string2.charAt(iteratorOfString2))\r\n                        return string1.charAt(iteratorOfString1) - string2.charAt(iteratorOfString2);\r\n\r\n                    iteratorOfString1++;\r\n                    iteratorOfString2++;\r\n                }\r\n            } else {\r\n                // plain characters comparison\r\n                if (ch1 != ch2) {\r\n                    if (!ignoreCharacterCaseEquals(ch1, ch2))\r\n                        return Character.toLowerCase(ch1) - Character.toLowerCase(ch2);\r\n\r\n                    // Set a differentCaseCompared if the characters being compared are different case.\r\n                    // Should be done only once, hence the check with 0\r\n                    if (differentCaseCompared == 0) {\r\n                        differentCaseCompared = ch1 - ch2;\r\n                    }\r\n                }\r\n\r\n                iteratorOfString1++;\r\n                iteratorOfString2++;\r\n            }\r\n        }\r\n    }\r\n\r\n    private boolean ignoreCharacterCaseEquals(char character1, char character2) {\r\n\r\n        return Character.toLowerCase(character1) == Character.toLowerCase(character2);\r\n    }\r\n\r\n    private int findEndPositionOfNumber(String string, int lengthOfString, int end) {\r\n\r\n        while (end &lt; lengthOfString &amp;&amp; Character.isDigit(string.charAt(end)))\r\n            end++;\r\n\r\n        return end;\r\n    }\r\n\r\n    private int skipLeadingZeroes(String string, int lengthOfString, int iteratorOfString) {\r\n\r\n        while (iteratorOfString &lt; lengthOfString &amp;&amp; string.charAt(iteratorOfString) == &#39;0&#39;)\r\n            iteratorOfString++;\r\n\r\n        return iteratorOfString;\r\n    }\r\n}\r\n```\r\n\r\nThe following is a unit test I used.\r\n```\r\n\r\npublic class NaturalSortingComparatorTest {\r\n\r\n    private int NUMBER_OF_TEST_CASES = 100000;\r\n\r\n    @Test\r\n    public void compare() {\r\n\r\n        NaturalSortingComparator naturalSortingComparator = new NaturalSortingComparator();\r\n\r\n        List&lt;String&gt; expectedStringList = getCorrectStringList();\r\n        List&lt;String&gt; testListOfStrings = createTestListOfStrings();\r\n        runTestCases(expectedStringList, testListOfStrings, NUMBER_OF_TEST_CASES, naturalSortingComparator);\r\n\r\n    }\r\n\r\n    private void runTestCases(List&lt;String&gt; expectedStringList, List&lt;String&gt; testListOfStrings,\r\n                              int numberOfTestCases, Comparator&lt;String&gt; comparator) {\r\n\r\n        for (int testCase = 0; testCase &lt; numberOfTestCases; testCase++) {\r\n            Collections.shuffle(testListOfStrings);\r\n            testListOfStrings.sort(comparator);\r\n            Assert.assertEquals(expectedStringList, testListOfStrings);\r\n        }\r\n    }\r\n\r\n    private List&lt;String&gt; getCorrectStringList() {\r\n        return Arrays.asList(\r\n                &quot;1&quot;, &quot;01&quot;, &quot;001&quot;, &quot;2&quot;, &quot;02&quot;, &quot;10&quot;, &quot;10&quot;, &quot;010&quot;,\r\n                &quot;20&quot;, &quot;100&quot;, &quot;_1&quot;, &quot;_01&quot;, &quot;_2&quot;, &quot;_200&quot;, &quot;A 02&quot;,\r\n                &quot;A01&quot;, &quot;a2&quot;, &quot;A20&quot;, &quot;t1A&quot;, &quot;t1a&quot;, &quot;t1AB&quot;, &quot;t1Ab&quot;,\r\n                &quot;t1aB&quot;, &quot;t1ab&quot;, &quot;T010T01&quot;, &quot;T0010T01&quot;);\r\n    }\r\n\r\n    private List&lt;String&gt; createTestListOfStrings() {\r\n        return Arrays.asList(\r\n                &quot;10&quot;, &quot;20&quot;, &quot;A20&quot;, &quot;2&quot;, &quot;t1ab&quot;, &quot;01&quot;, &quot;T010T01&quot;, &quot;t1aB&quot;,\r\n                &quot;_2&quot;, &quot;001&quot;, &quot;_200&quot;, &quot;1&quot;, &quot;A 02&quot;, &quot;t1Ab&quot;, &quot;a2&quot;, &quot;_1&quot;, &quot;t1A&quot;, &quot;_01&quot;,\r\n                &quot;100&quot;, &quot;02&quot;, &quot;T0010T01&quot;, &quot;t1AB&quot;, &quot;10&quot;, &quot;A01&quot;, &quot;010&quot;, &quot;t1a&quot;);\r\n    }\r\n\r\n}\r\n```\r\n\r\nSuggestions welcome! I am not sure whether adding the functions changes anything other than the readability part of things. \r\n\r\n\r\nP.S: Sorry to add another answer to this question. But I don&#39;t have enough reps to comment on the answer which I modified for my use.","title":"Sort on a string that may contain a number","body":"<p>Adding on to the <a href=\"https://stackoverflow.com/a/58249974/13027997\">answer</a> made by <a href=\"https://stackoverflow.com/users/2556378/stanislav\">@stanislav</a>.\nA few problems I faced while using the answer provided was:</p>\n\n<ol>\n<li>Capital and small letters are separated by the characters between their ASCII codes. This breaks the flow when the strings being sorted have _ or other characters which are between small letters and capital letters in ASCII.</li>\n<li>If two strings are the same except for the leading zeroes count being different, the function returns 0 which will make the sort depend on the original positions of the string in the list.</li>\n</ol>\n\n<p>These two issues have been fixed in the new code. And I made a few function instead of a few repetitive set of code. The differentCaseCompared variable keeps track of whether if two strings are the same except for the cases being different. If so the value of the first different case characters subtracted is returned. This is done to avoid the issue of having two strings differing by case returned as 0. </p>\n\n<pre><code>\npublic class NaturalSortingComparator implements Comparator&lt;String&gt; {\n\n    @Override\n    public int compare(String string1, String string2) {\n        int lengthOfString1 = string1.length();\n        int lengthOfString2 = string2.length();\n        int iteratorOfString1 = 0;\n        int iteratorOfString2 = 0;\n        int differentCaseCompared = 0;\n        while (true) {\n            if (iteratorOfString1 == lengthOfString1) {\n                if (iteratorOfString2 == lengthOfString2) {\n                    if (lengthOfString1 == lengthOfString2) {\n                        // If both strings are the same except for the different cases, the differentCaseCompared will be returned\n                        return differentCaseCompared;\n                    }\n                    //If the characters are the same at the point, returns the difference between length of the strings\n                    else {\n                        return lengthOfString1 - lengthOfString2;\n                    }\n                }\n                //If String2 is bigger than String1\n                else\n                    return -1;\n            }\n            //Check if String1 is bigger than string2\n            if (iteratorOfString2 == lengthOfString2) {\n                return 1;\n            }\n\n            char ch1 = string1.charAt(iteratorOfString1);\n            char ch2 = string2.charAt(iteratorOfString2);\n\n            if (Character.isDigit(ch1) &amp;&amp; Character.isDigit(ch2)) {\n                // skip leading zeros\n                iteratorOfString1 = skipLeadingZeroes(string1, lengthOfString1, iteratorOfString1);\n                iteratorOfString2 = skipLeadingZeroes(string2, lengthOfString2, iteratorOfString2);\n\n                // find the ends of the numbers\n                int endPositionOfNumbersInString1 = findEndPositionOfNumber(string1, lengthOfString1, iteratorOfString1);\n                int endPositionOfNumbersInString2 = findEndPositionOfNumber(string2, lengthOfString2, iteratorOfString2);\n\n                int lengthOfDigitsInString1 = endPositionOfNumbersInString1 - iteratorOfString1;\n                int lengthOfDigitsInString2 = endPositionOfNumbersInString2 - iteratorOfString2;\n\n                // if the lengths are different, then the longer number is bigger\n                if (lengthOfDigitsInString1 != lengthOfDigitsInString2)\n                    return lengthOfDigitsInString1 - lengthOfDigitsInString2;\n\n                // compare numbers digit by digit\n                while (iteratorOfString1 &lt; endPositionOfNumbersInString1) {\n\n                    if (string1.charAt(iteratorOfString1) != string2.charAt(iteratorOfString2))\n                        return string1.charAt(iteratorOfString1) - string2.charAt(iteratorOfString2);\n\n                    iteratorOfString1++;\n                    iteratorOfString2++;\n                }\n            } else {\n                // plain characters comparison\n                if (ch1 != ch2) {\n                    if (!ignoreCharacterCaseEquals(ch1, ch2))\n                        return Character.toLowerCase(ch1) - Character.toLowerCase(ch2);\n\n                    // Set a differentCaseCompared if the characters being compared are different case.\n                    // Should be done only once, hence the check with 0\n                    if (differentCaseCompared == 0) {\n                        differentCaseCompared = ch1 - ch2;\n                    }\n                }\n\n                iteratorOfString1++;\n                iteratorOfString2++;\n            }\n        }\n    }\n\n    private boolean ignoreCharacterCaseEquals(char character1, char character2) {\n\n        return Character.toLowerCase(character1) == Character.toLowerCase(character2);\n    }\n\n    private int findEndPositionOfNumber(String string, int lengthOfString, int end) {\n\n        while (end &lt; lengthOfString &amp;&amp; Character.isDigit(string.charAt(end)))\n            end++;\n\n        return end;\n    }\n\n    private int skipLeadingZeroes(String string, int lengthOfString, int iteratorOfString) {\n\n        while (iteratorOfString &lt; lengthOfString &amp;&amp; string.charAt(iteratorOfString) == '0')\n            iteratorOfString++;\n\n        return iteratorOfString;\n    }\n}\n</code></pre>\n\n<p>The following is a unit test I used.</p>\n\n<pre><code>\npublic class NaturalSortingComparatorTest {\n\n    private int NUMBER_OF_TEST_CASES = 100000;\n\n    @Test\n    public void compare() {\n\n        NaturalSortingComparator naturalSortingComparator = new NaturalSortingComparator();\n\n        List&lt;String&gt; expectedStringList = getCorrectStringList();\n        List&lt;String&gt; testListOfStrings = createTestListOfStrings();\n        runTestCases(expectedStringList, testListOfStrings, NUMBER_OF_TEST_CASES, naturalSortingComparator);\n\n    }\n\n    private void runTestCases(List&lt;String&gt; expectedStringList, List&lt;String&gt; testListOfStrings,\n                              int numberOfTestCases, Comparator&lt;String&gt; comparator) {\n\n        for (int testCase = 0; testCase &lt; numberOfTestCases; testCase++) {\n            Collections.shuffle(testListOfStrings);\n            testListOfStrings.sort(comparator);\n            Assert.assertEquals(expectedStringList, testListOfStrings);\n        }\n    }\n\n    private List&lt;String&gt; getCorrectStringList() {\n        return Arrays.asList(\n                \"1\", \"01\", \"001\", \"2\", \"02\", \"10\", \"10\", \"010\",\n                \"20\", \"100\", \"_1\", \"_01\", \"_2\", \"_200\", \"A 02\",\n                \"A01\", \"a2\", \"A20\", \"t1A\", \"t1a\", \"t1AB\", \"t1Ab\",\n                \"t1aB\", \"t1ab\", \"T010T01\", \"T0010T01\");\n    }\n\n    private List&lt;String&gt; createTestListOfStrings() {\n        return Arrays.asList(\n                \"10\", \"20\", \"A20\", \"2\", \"t1ab\", \"01\", \"T010T01\", \"t1aB\",\n                \"_2\", \"001\", \"_200\", \"1\", \"A 02\", \"t1Ab\", \"a2\", \"_1\", \"t1A\", \"_01\",\n                \"100\", \"02\", \"T0010T01\", \"t1AB\", \"10\", \"A01\", \"010\", \"t1a\");\n    }\n\n}\n</code></pre>\n\n<p>Suggestions welcome! I am not sure whether adding the functions changes anything other than the readability part of things. </p>\n\n<p>P.S: Sorry to add another answer to this question. But I don't have enough reps to comment on the answer which I modified for my use.</p>\n"},{"tags":[],"owner":{"account_id":52517,"reputation":6279,"user_id":156973,"display_name":"izogfif"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1605633629,"creation_date":1605633629,"answer_id":64880158,"question_id":104599,"body_markdown":"Instead of reinventing the wheel, I&#39;d suggest to use a locale-aware Unicode-compliant string comparator that has built-in number sorting from the [ICU4J library][1].\r\n\r\n    import com.ibm.icu.text.Collator;\r\n    import com.ibm.icu.text.RuleBasedCollator;\r\n    \r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    import java.util.Locale;\r\n    \r\n    public class CollatorExample {\r\n        public static void main(String[] args) {\r\n            // Make sure to choose correct locale: in Turkish uppercase of &quot;i&quot; is &quot;İ&quot;, not &quot;I&quot;\r\n            RuleBasedCollator collator = (RuleBasedCollator) Collator.getInstance(Locale.US);\r\n            collator.setNumericCollation(true); // Place &quot;10&quot; after &quot;2&quot;\r\n            collator.setStrength(Collator.PRIMARY); // Case-insensitive\r\n            List&lt;String&gt; strings = Arrays.asList(&quot;10&quot;, &quot;20&quot;, &quot;A20&quot;, &quot;2&quot;, &quot;t1ab&quot;, &quot;01&quot;, &quot;T010T01&quot;, &quot;t1aB&quot;,\r\n                &quot;_2&quot;, &quot;001&quot;, &quot;_200&quot;, &quot;1&quot;, &quot;A 02&quot;, &quot;t1Ab&quot;, &quot;a2&quot;, &quot;_1&quot;, &quot;t1A&quot;, &quot;_01&quot;,\r\n                &quot;100&quot;, &quot;02&quot;, &quot;T0010T01&quot;, &quot;t1AB&quot;, &quot;10&quot;, &quot;A01&quot;, &quot;010&quot;, &quot;t1a&quot;\r\n            );\r\n            strings.sort(collator);\r\n            System.out.println(String.join(&quot;, &quot;, strings));\r\n            // Output: _1, _01, _2, _200, 01, 001, 1,\r\n            // 2, 02, 10, 10, 010, 20, 100, A 02, A01, \r\n            // a2, A20, t1A, t1a, t1ab, t1aB, t1Ab, t1AB,\r\n            // T010T01, T0010T01\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://unicode-org.github.io/icu-docs/apidoc/released/icu4j/com/ibm/icu/text/RuleBasedCollator.html#setNumericCollation-boolean-","title":"Sort on a string that may contain a number","body":"<p>Instead of reinventing the wheel, I'd suggest to use a locale-aware Unicode-compliant string comparator that has built-in number sorting from the <a href=\"https://unicode-org.github.io/icu-docs/apidoc/released/icu4j/com/ibm/icu/text/RuleBasedCollator.html#setNumericCollation-boolean-\" rel=\"nofollow noreferrer\">ICU4J library</a>.</p>\n<pre><code>import com.ibm.icu.text.Collator;\nimport com.ibm.icu.text.RuleBasedCollator;\n\nimport java.util.Arrays;\nimport java.util.List;\nimport java.util.Locale;\n\npublic class CollatorExample {\n    public static void main(String[] args) {\n        // Make sure to choose correct locale: in Turkish uppercase of &quot;i&quot; is &quot;İ&quot;, not &quot;I&quot;\n        RuleBasedCollator collator = (RuleBasedCollator) Collator.getInstance(Locale.US);\n        collator.setNumericCollation(true); // Place &quot;10&quot; after &quot;2&quot;\n        collator.setStrength(Collator.PRIMARY); // Case-insensitive\n        List&lt;String&gt; strings = Arrays.asList(&quot;10&quot;, &quot;20&quot;, &quot;A20&quot;, &quot;2&quot;, &quot;t1ab&quot;, &quot;01&quot;, &quot;T010T01&quot;, &quot;t1aB&quot;,\n            &quot;_2&quot;, &quot;001&quot;, &quot;_200&quot;, &quot;1&quot;, &quot;A 02&quot;, &quot;t1Ab&quot;, &quot;a2&quot;, &quot;_1&quot;, &quot;t1A&quot;, &quot;_01&quot;,\n            &quot;100&quot;, &quot;02&quot;, &quot;T0010T01&quot;, &quot;t1AB&quot;, &quot;10&quot;, &quot;A01&quot;, &quot;010&quot;, &quot;t1a&quot;\n        );\n        strings.sort(collator);\n        System.out.println(String.join(&quot;, &quot;, strings));\n        // Output: _1, _01, _2, _200, 01, 001, 1,\n        // 2, 02, 10, 10, 010, 20, 100, A 02, A01, \n        // a2, A20, t1A, t1a, t1ab, t1aB, t1Ab, t1AB,\n        // T010T01, T0010T01\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":201558,"reputation":20189,"user_id":448078,"accept_rate":61,"display_name":"Mike"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1616624307,"creation_date":1616113886,"answer_id":66701024,"question_id":104599,"body_markdown":"modification of [this](https://stackoverflow.com/a/58249974/448078) answer\r\n\r\n---\r\n\r\n+ case insensitive order (1000a is less than 1000X)\r\n+ nulls handling\r\n\r\n**implementation:**\r\n\r\n    import static java.lang.Math.pow;\r\n\r\n    import java.util.Comparator;\r\n\r\n    public class AlphanumComparator implements Comparator&lt;String&gt; {\r\n        \r\n        public static final AlphanumComparator ALPHANUM_COMPARATOR = new AlphanumComparator();\r\n        private static char[] upperCaseCache = new char[(int) pow(2, 16)];\r\n        private boolean nullIsLess;\r\n        \r\n        public AlphanumComparator() {\r\n        }\r\n        \r\n        public AlphanumComparator(boolean nullIsLess) {\r\n            this.nullIsLess = nullIsLess;\r\n        }\r\n        \r\n        @Override\r\n        public int compare(String s1, String s2) {\r\n            if (s1 == s2)\r\n                return 0;\r\n            if (s1 == null)\r\n                return nullIsLess ? -1 : 1;\r\n            if (s2 == null)\r\n                return nullIsLess ? 1 : -1;\r\n            \r\n            int i1 = 0;\r\n            int i2 = 0;\r\n            int len1 = s1.length();\r\n            int len2 = s2.length();\r\n            while (true) {\r\n                // handle the case when one string is longer than another\r\n                if (i1 == len1)\r\n                    return i2 == len2 ? 0 : -1;\r\n                if (i2 == len2)\r\n                    return 1;\r\n                \r\n                char ch1 = s1.charAt(i1);\r\n                char ch2 = s2.charAt(i2);\r\n                if (isDigit(ch1) &amp;&amp; isDigit(ch2)) {\r\n                    // skip leading zeros\r\n                    while (i1 &lt; len1 &amp;&amp; s1.charAt(i1) == &#39;0&#39;)\r\n                        i1++;\r\n                    while (i2 &lt; len2 &amp;&amp; s2.charAt(i2) == &#39;0&#39;)\r\n                        i2++;\r\n                    \r\n                    // find the ends of the numbers\r\n                    int end1 = i1;\r\n                    int end2 = i2;\r\n                    while (end1 &lt; len1 &amp;&amp; isDigit(s1.charAt(end1)))\r\n                        end1++;\r\n                    while (end2 != len2 &amp;&amp; isDigit(s2.charAt(end2)))\r\n                        end2++;\r\n                    \r\n                    // if the lengths are different, then the longer number is bigger\r\n                    int diglen1 = end1 - i1;\r\n                    int diglen2 = end2 - i2;\r\n                    if (diglen1 != diglen2)\r\n                        return diglen1 - diglen2;\r\n                    \r\n                    // compare numbers digit by digit\r\n                    while (i1 &lt; end1) {\r\n                        ch1 = s1.charAt(i1);\r\n                        ch2 = s2.charAt(i2);\r\n                        if (ch1 != ch2)\r\n                            return ch1 - ch2;\r\n                        i1++;\r\n                        i2++;\r\n                    }\r\n                } else {\r\n                    ch1 = toUpperCase(ch1);\r\n                    ch2 = toUpperCase(ch2);\r\n                    if (ch1 != ch2)\r\n                        return ch1 - ch2;\r\n                    i1++;\r\n                    i2++;\r\n                }\r\n            }\r\n        }\r\n        \r\n        private boolean isDigit(char ch) {\r\n            return ch &gt;= 48 &amp;&amp; ch &lt;= 57;\r\n        }\r\n        \r\n        private char toUpperCase(char ch) {\r\n            char cached = upperCaseCache[ch];\r\n            if (cached == 0) {\r\n                cached = Character.toUpperCase(ch);\r\n                upperCaseCache[ch] = cached;\r\n            }\r\n            return cached;\r\n        }\r\n    }","title":"Sort on a string that may contain a number","body":"<p>modification of <a href=\"https://stackoverflow.com/a/58249974/448078\">this</a> answer</p>\n<hr />\n<ul>\n<li>case insensitive order (1000a is less than 1000X)</li>\n<li>nulls handling</li>\n</ul>\n<p><strong>implementation:</strong></p>\n<pre><code>import static java.lang.Math.pow;\n\nimport java.util.Comparator;\n\npublic class AlphanumComparator implements Comparator&lt;String&gt; {\n    \n    public static final AlphanumComparator ALPHANUM_COMPARATOR = new AlphanumComparator();\n    private static char[] upperCaseCache = new char[(int) pow(2, 16)];\n    private boolean nullIsLess;\n    \n    public AlphanumComparator() {\n    }\n    \n    public AlphanumComparator(boolean nullIsLess) {\n        this.nullIsLess = nullIsLess;\n    }\n    \n    @Override\n    public int compare(String s1, String s2) {\n        if (s1 == s2)\n            return 0;\n        if (s1 == null)\n            return nullIsLess ? -1 : 1;\n        if (s2 == null)\n            return nullIsLess ? 1 : -1;\n        \n        int i1 = 0;\n        int i2 = 0;\n        int len1 = s1.length();\n        int len2 = s2.length();\n        while (true) {\n            // handle the case when one string is longer than another\n            if (i1 == len1)\n                return i2 == len2 ? 0 : -1;\n            if (i2 == len2)\n                return 1;\n            \n            char ch1 = s1.charAt(i1);\n            char ch2 = s2.charAt(i2);\n            if (isDigit(ch1) &amp;&amp; isDigit(ch2)) {\n                // skip leading zeros\n                while (i1 &lt; len1 &amp;&amp; s1.charAt(i1) == '0')\n                    i1++;\n                while (i2 &lt; len2 &amp;&amp; s2.charAt(i2) == '0')\n                    i2++;\n                \n                // find the ends of the numbers\n                int end1 = i1;\n                int end2 = i2;\n                while (end1 &lt; len1 &amp;&amp; isDigit(s1.charAt(end1)))\n                    end1++;\n                while (end2 != len2 &amp;&amp; isDigit(s2.charAt(end2)))\n                    end2++;\n                \n                // if the lengths are different, then the longer number is bigger\n                int diglen1 = end1 - i1;\n                int diglen2 = end2 - i2;\n                if (diglen1 != diglen2)\n                    return diglen1 - diglen2;\n                \n                // compare numbers digit by digit\n                while (i1 &lt; end1) {\n                    ch1 = s1.charAt(i1);\n                    ch2 = s2.charAt(i2);\n                    if (ch1 != ch2)\n                        return ch1 - ch2;\n                    i1++;\n                    i2++;\n                }\n            } else {\n                ch1 = toUpperCase(ch1);\n                ch2 = toUpperCase(ch2);\n                if (ch1 != ch2)\n                    return ch1 - ch2;\n                i1++;\n                i2++;\n            }\n        }\n    }\n    \n    private boolean isDigit(char ch) {\n        return ch &gt;= 48 &amp;&amp; ch &lt;= 57;\n    }\n    \n    private char toUpperCase(char ch) {\n        char cached = upperCaseCache[ch];\n        if (cached == 0) {\n            cached = Character.toUpperCase(ch);\n            upperCaseCache[ch] = cached;\n        }\n        return cached;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27286165,"reputation":1,"user_id":21398899,"display_name":"nik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678821186,"creation_date":1678821186,"answer_id":75737436,"question_id":104599,"body_markdown":"Only a few years late, but here&#39;s an elegant and short solution: \r\n\r\n```\r\nCollections.sort(b, new Comparator&lt;String&gt;(){\r\n        @Override\r\n        public int compare(String a, String b){\r\n            if(a.equals(b)) return 0;\r\n            for(int i = 0; i &lt; Math.min(a.length(), b.length()); i++){\r\n                char aChar = a.charAt(i), bChar = b.charAt(i);\r\n                int comp = Character.compare(aChar, bChar);\r\n                if(comp == 0) continue;\r\n                return comp;\r\n            }\r\n            return a.length() &lt; b.length() ? -1 : 1;\r\n        }\r\n    });\r\n```","title":"Sort on a string that may contain a number","body":"<p>Only a few years late, but here's an elegant and short solution:</p>\n<pre><code>Collections.sort(b, new Comparator&lt;String&gt;(){\n        @Override\n        public int compare(String a, String b){\n            if(a.equals(b)) return 0;\n            for(int i = 0; i &lt; Math.min(a.length(), b.length()); i++){\n                char aChar = a.charAt(i), bChar = b.charAt(i);\n                int comp = Character.compare(aChar, bChar);\n                if(comp == 0) continue;\n                return comp;\n            }\n            return a.length() &lt; b.length() ? -1 : 1;\n        }\n    });\n</code></pre>\n"}],"owner":{"account_id":2397,"reputation":179869,"user_id":3333,"accept_rate":80,"display_name":"Paul Tomblin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96353,"favorite_count":0,"down_vote_count":0,"up_vote_count":88,"accepted_answer_id":104709,"answer_count":25,"score":88,"last_activity_date":1696500028,"creation_date":1221851121,"question_id":104599,"body_markdown":"I need to write a Java Comparator class that compares Strings, however with one twist.  If the two strings it is comparing are the same at the beginning and end of the string are the same, and the middle part that differs is an integer, then compare based on the numeric values of those integers.  For example, I want the following strings to end up in order they&#39;re shown:\r\n\r\n  - aaa\r\n  - bbb 3 ccc\r\n  - bbb 12 ccc\r\n  - ccc 11\r\n  - ddd\r\n  - eee 3 ddd jpeg2000 eee\r\n  - eee 12 ddd jpeg2000 eee\r\n\r\nAs you can see, there might be other integers in the string, so I can&#39;t just use regular expressions to break out any integer.  I&#39;m thinking of just walking the strings from the beginning until I find a bit that doesn&#39;t match, then walking in from the end until I find a bit that doesn&#39;t match, and then comparing the bit in the middle to the regular expression &quot;[0-9]+&quot;, and if it compares, then doing a numeric comparison, otherwise doing a lexical comparison.\r\n\r\nIs there a better way?\r\n\r\n**Update** I don&#39;t think I can guarantee that the other numbers in the string, the ones that may match, don&#39;t have spaces around them, or that the ones that differ do have spaces.","title":"Sort on a string that may contain a number","body":"<p>I need to write a Java Comparator class that compares Strings, however with one twist.  If the two strings it is comparing are the same at the beginning and end of the string are the same, and the middle part that differs is an integer, then compare based on the numeric values of those integers.  For example, I want the following strings to end up in order they're shown:</p>\n\n<ul>\n<li>aaa</li>\n<li>bbb 3 ccc</li>\n<li>bbb 12 ccc</li>\n<li>ccc 11</li>\n<li>ddd</li>\n<li>eee 3 ddd jpeg2000 eee</li>\n<li>eee 12 ddd jpeg2000 eee</li>\n</ul>\n\n<p>As you can see, there might be other integers in the string, so I can't just use regular expressions to break out any integer.  I'm thinking of just walking the strings from the beginning until I find a bit that doesn't match, then walking in from the end until I find a bit that doesn't match, and then comparing the bit in the middle to the regular expression \"[0-9]+\", and if it compares, then doing a numeric comparison, otherwise doing a lexical comparison.</p>\n\n<p>Is there a better way?</p>\n\n<p><strong>Update</strong> I don't think I can guarantee that the other numbers in the string, the ones that may match, don't have spaces around them, or that the ones that differ do have spaces.</p>\n"},{"tags":["java","android","containers","android-linearlayout"],"comments":[{"owner":{"account_id":1077685,"reputation":2777,"user_id":1075466,"accept_rate":58,"display_name":"Lawrence Gimenez"},"score":1,"creation_date":1696382938,"post_id":77224832,"comment_id":136144657,"body_markdown":"I don&#39;t really get what you are trying to accomplish on your layout. Could you at least sketch your preferred layout?","body":"I don&#39;t really get what you are trying to accomplish on your layout. Could you at least sketch your preferred layout?"},{"owner":{"account_id":19928834,"reputation":53,"user_id":14602853,"display_name":"Brett Hudson"},"score":1,"creation_date":1696430790,"post_id":77224832,"comment_id":136152409,"body_markdown":"I have updated the post with another image basically the code has to use a horizontal for left to right icons which i cannot do with the linear layout being set to vertical but it has to be vertical to place the text under each clickable src icon","body":"I have updated the post with another image basically the code has to use a horizontal for left to right icons which i cannot do with the linear layout being set to vertical but it has to be vertical to place the text under each clickable src icon"},{"owner":{"account_id":1077685,"reputation":2777,"user_id":1075466,"accept_rate":58,"display_name":"Lawrence Gimenez"},"score":1,"creation_date":1696470036,"post_id":77224832,"comment_id":136158256,"body_markdown":"Is your button and cash app text supposed to be dynamic or static (3 buttons)?","body":"Is your button and cash app text supposed to be dynamic or static (3 buttons)?"},{"owner":{"account_id":1077685,"reputation":2777,"user_id":1075466,"accept_rate":58,"display_name":"Lawrence Gimenez"},"score":0,"creation_date":1696470164,"post_id":77224832,"comment_id":136158262,"body_markdown":"Maybe add another LinearLayout with orientation horizontal to house your cash app view.","body":"Maybe add another LinearLayout with orientation horizontal to house your cash app view."},{"owner":{"account_id":19928834,"reputation":53,"user_id":14602853,"display_name":"Brett Hudson"},"score":0,"creation_date":1696479687,"post_id":77224832,"comment_id":136158912,"body_markdown":"so it will be static and the buttons depend on how many payment options i will add in the future currently im only putting two but that was an idea of what i need and i tried doing another layout but i couldent figure it out with the current code i got in the pic","body":"so it will be static and the buttons depend on how many payment options i will add in the future currently im only putting two but that was an idea of what i need and i tried doing another layout but i couldent figure it out with the current code i got in the pic"},{"owner":{"account_id":1077685,"reputation":2777,"user_id":1075466,"accept_rate":58,"display_name":"Lawrence Gimenez"},"score":1,"creation_date":1696499655,"post_id":77224832,"comment_id":136162018,"body_markdown":"You can try my answer below.","body":"You can try my answer below."}],"answers":[{"tags":[],"owner":{"account_id":1077685,"reputation":2777,"user_id":1075466,"accept_rate":58,"display_name":"Lawrence Gimenez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1696499597,"creation_date":1696499597,"answer_id":77236050,"question_id":77224832,"body_markdown":"First of all you can wrap your &quot;button&quot; in another XML layout like, let&#39;s name it `custom_view_button.xml`.\r\n\r\n```\r\n&lt;LinearLayout\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    &gt;\r\n    &lt;ImageView\r\n        android:id=&quot;@+id/imageViewCashApp&quot;\r\n        android:layout_width=&quot;40dp&quot;\r\n        android:layout_height=&quot;40dp&quot;\r\n        android:src=&quot;@drawable/cashapp&quot;\r\n        /&gt;\r\n    &lt;TextView\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;Cash app&quot;\r\n        /&gt;\r\n&lt;/LinearLayout&gt;\r\n```\r\n\r\nAnd then in your activity_layout.xml, include it like below. Take note of the `weightSum` and `layout_weight` values in order for equal widths.\r\n\r\n```\r\n&lt;LinearLayout\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:orientation=&quot;horizontal&quot;\r\n    android:weightSum=&quot;2&quot;&gt;\r\n    &lt;include\r\n        android:layout_weight=&quot;1&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        layout=&quot;@layout/custom_view_button&quot;\r\n        /&gt;\r\n    &lt;include\r\n        android:layout_weight=&quot;1&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        layout=&quot;@layout/custom_view_button&quot;\r\n        /&gt;\r\n&lt;/LinearLayout&gt;\r\n```\r\n\r\n","title":"Android studio java containers/linearlayouts","body":"<p>First of all you can wrap your &quot;button&quot; in another XML layout like, let's name it <code>custom_view_button.xml</code>.</p>\n<pre><code>&lt;LinearLayout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:orientation=&quot;vertical&quot;\n    &gt;\n    &lt;ImageView\n        android:id=&quot;@+id/imageViewCashApp&quot;\n        android:layout_width=&quot;40dp&quot;\n        android:layout_height=&quot;40dp&quot;\n        android:src=&quot;@drawable/cashapp&quot;\n        /&gt;\n    &lt;TextView\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;Cash app&quot;\n        /&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>And then in your activity_layout.xml, include it like below. Take note of the <code>weightSum</code> and <code>layout_weight</code> values in order for equal widths.</p>\n<pre><code>&lt;LinearLayout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:orientation=&quot;horizontal&quot;\n    android:weightSum=&quot;2&quot;&gt;\n    &lt;include\n        android:layout_weight=&quot;1&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        layout=&quot;@layout/custom_view_button&quot;\n        /&gt;\n    &lt;include\n        android:layout_weight=&quot;1&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        layout=&quot;@layout/custom_view_button&quot;\n        /&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n"}],"owner":{"account_id":19928834,"reputation":53,"user_id":14602853,"display_name":"Brett Hudson"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77236050,"answer_count":1,"score":0,"last_activity_date":1696499597,"creation_date":1696359087,"question_id":77224832,"body_markdown":"[![enter image description here][1]][1]I would like to add multiple buttons with textviews left to right in the same row and normally would set the orientation to horizontal for this but I need the vertical in order to place the textview &quot;cash app&quot; under the image where I need it how can I accomplish this? I heard something about container layouts but not sure how to do this, any help would be appreciated.\r\n\r\n[![Code/simulator][2]][2]\r\n\r\n  [1]: https://i.stack.imgur.com/Jfp6I.png\r\n  [2]: https://i.stack.imgur.com/Yge7H.png\r\n","title":"Android studio java containers/linearlayouts","body":"<p><a href=\"https://i.stack.imgur.com/Jfp6I.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Jfp6I.png\" alt=\"enter image description here\" /></a>I would like to add multiple buttons with textviews left to right in the same row and normally would set the orientation to horizontal for this but I need the vertical in order to place the textview &quot;cash app&quot; under the image where I need it how can I accomplish this? I heard something about container layouts but not sure how to do this, any help would be appreciated.</p>\n<p><a href=\"https://i.stack.imgur.com/Yge7H.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Yge7H.png\" alt=\"Code/simulator\" /></a></p>\n"},{"tags":["java","weaviate","vector-database"],"answers":[{"tags":[],"owner":{"account_id":28074101,"reputation":101,"user_id":21446253,"display_name":"Chethana Wickramaarachchi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1696499013,"creation_date":1696499013,"answer_id":77235969,"question_id":77227701,"body_markdown":"    package io.weaviate;\r\n\r\n    import io.weaviate.client.Config;\r\n    import io.weaviate.client.WeaviateClient;\r\n    import io.weaviate.client.base.Result;\r\n    import io.weaviate.client.v1.graphql.model.GraphQLResponse;\r\n    import io.weaviate.client.v1.graphql.query.argument.NearTextArgument;\r\n    import io.weaviate.client.v1.graphql.query.fields.Field;\r\n\r\n    public class App {\r\n      public static void main(String[] args) {\r\n      Config config = new Config(&quot;http&quot;, &quot;localhost:8080&quot;);\r\n      WeaviateClient client = new WeaviateClient(config);\r\n\r\n      Field title = Field.builder().name(&quot;title&quot;).build();\r\n      Field _additional = Field.builder().name(&quot;_additional&quot;).fields(new Field[]{\r\n        Field.builder().name(&quot;id&quot;).build(),\r\n        Field.builder().name(&quot;distance&quot;).build()\r\n      }).build();\r\n\r\n    NearTextArgument explore = client.graphQL().arguments().nearTextArgBuilder()\r\n      .concepts(new String[]{ &quot;fashion&quot; })\r\n      .build();\r\n\r\n    Result&lt;GraphQLResponse&gt; result = client.graphQL().get()\r\n      .withClassName(&quot;Article&quot;)\r\n      .withFields(title, _additional)\r\n      .withNearText(explore)\r\n      .run();\r\n    if (result.hasErrors()) {\r\n      System.out.println(result.getError());\r\n      return;\r\n    }\r\n    System.out.println(result.getResult());  }   }\r\n\r\nfound the solution from their documentation","title":"How to retrieve the id of a object in weaviate java Client","body":"<pre><code>package io.weaviate;\n\nimport io.weaviate.client.Config;\nimport io.weaviate.client.WeaviateClient;\nimport io.weaviate.client.base.Result;\nimport io.weaviate.client.v1.graphql.model.GraphQLResponse;\nimport io.weaviate.client.v1.graphql.query.argument.NearTextArgument;\nimport io.weaviate.client.v1.graphql.query.fields.Field;\n\npublic class App {\n  public static void main(String[] args) {\n  Config config = new Config(&quot;http&quot;, &quot;localhost:8080&quot;);\n  WeaviateClient client = new WeaviateClient(config);\n\n  Field title = Field.builder().name(&quot;title&quot;).build();\n  Field _additional = Field.builder().name(&quot;_additional&quot;).fields(new Field[]{\n    Field.builder().name(&quot;id&quot;).build(),\n    Field.builder().name(&quot;distance&quot;).build()\n  }).build();\n\nNearTextArgument explore = client.graphQL().arguments().nearTextArgBuilder()\n  .concepts(new String[]{ &quot;fashion&quot; })\n  .build();\n\nResult&lt;GraphQLResponse&gt; result = client.graphQL().get()\n  .withClassName(&quot;Article&quot;)\n  .withFields(title, _additional)\n  .withNearText(explore)\n  .run();\nif (result.hasErrors()) {\n  System.out.println(result.getError());\n  return;\n}\nSystem.out.println(result.getResult());  }   }\n</code></pre>\n<p>found the solution from their documentation</p>\n"}],"owner":{"account_id":28074101,"reputation":101,"user_id":21446253,"display_name":"Chethana Wickramaarachchi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77235969,"answer_count":1,"score":0,"last_activity_date":1696499013,"creation_date":1696405629,"question_id":77227701,"body_markdown":"i want to update an existing object in weaviate db. I find the object using neartext or using where filter, But i need object id to update, Any suggestion to do that, In python using  **_additional(id)**, id property can be retrieved.","title":"How to retrieve the id of a object in weaviate java Client","body":"<p>i want to update an existing object in weaviate db. I find the object using neartext or using where filter, But i need object id to update, Any suggestion to do that, In python using  <strong>_additional(id)</strong>, id property can be retrieved.</p>\n"},{"tags":["java","byte-buddy"],"owner":{"account_id":201208,"reputation":3985,"user_id":447503,"accept_rate":61,"display_name":"basin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696498895,"creation_date":1696498895,"question_id":77235946,"body_markdown":"I have Byte Buddy library in one ClassLoader and I&#39;m trying to hot swap a class from a neighbor ClassLoader where Byte Buddy is unavailable, but many other unique classes are present. I created an interceptor annotated with Byte Buddy annotations and using these unique classes and configured my java project to have both dependencies on compile path and it compiles.\r\n\r\nHowever, when I try to instantiate a Byte Buddy Advice using this interceptor it naturally fails with `NoClassDefFoundError` because the class object I&#39;m passing belongs to either BB&#39;s classloader or the neighbor classloader and either the BB annotations or the unique classes aren&#39;t there.\r\n\r\nHow to circumvent this? Will `MultipleParentClassLoader` help? Is it possible to create an unannotated interceptor?\r\n\r\n```\r\npublic class OverrideWriteAccessInterceptor {\r\n    private OverrideWriteAccessInterceptor() {\r\n        //\r\n    }\r\n\r\n    // @Advice. is a  BB class\r\n    @Advice.OnMethodEnter\r\n    static void inlinedEnterOverrideWriteAccess(\r\n            // ObjectMember is a unique class\r\n            @Advice.This final ObjectMember _this) {\r\n        ...\r\n    }\r\n}\r\n...\r\nMethod mtdOverrideWriteAccess = ...;\r\nClass&lt;?&gt; interceptorClass = OverrideWriteAccessInterceptor.class;\r\n\r\nfinal ForDeclaredMethods visitorWrapper =\r\n    new AsmVisitorWrapper.ForDeclaredMethods()\r\n        .method(\r\n            ElementMatchers.anyOf(mtdOverrideWriteAccess),\r\n            Advice.to(interceptorClass)); // NoClassDefFoundError ObjectMember at getDeclaredMethods\r\n\r\nfinal Class&lt;?&gt; declaringClass = mtdOverrideWriteAccess.getDeclaringClass();\r\n\r\nnew ByteBuddy()\r\n    .redefine(declaringClass)\r\n    .visit(visitorWrapper)\r\n    .make()\r\n    .load(declaringClass.getClassLoader(), ClassReloadingStrategy.fromInstalledAgent());\r\n\r\n```","title":"Byte Buddy can&#39;t load my Interceptor class because it depends on classes from another ClassLoader","body":"<p>I have Byte Buddy library in one ClassLoader and I'm trying to hot swap a class from a neighbor ClassLoader where Byte Buddy is unavailable, but many other unique classes are present. I created an interceptor annotated with Byte Buddy annotations and using these unique classes and configured my java project to have both dependencies on compile path and it compiles.</p>\n<p>However, when I try to instantiate a Byte Buddy Advice using this interceptor it naturally fails with <code>NoClassDefFoundError</code> because the class object I'm passing belongs to either BB's classloader or the neighbor classloader and either the BB annotations or the unique classes aren't there.</p>\n<p>How to circumvent this? Will <code>MultipleParentClassLoader</code> help? Is it possible to create an unannotated interceptor?</p>\n<pre><code>public class OverrideWriteAccessInterceptor {\n    private OverrideWriteAccessInterceptor() {\n        //\n    }\n\n    // @Advice. is a  BB class\n    @Advice.OnMethodEnter\n    static void inlinedEnterOverrideWriteAccess(\n            // ObjectMember is a unique class\n            @Advice.This final ObjectMember _this) {\n        ...\n    }\n}\n...\nMethod mtdOverrideWriteAccess = ...;\nClass&lt;?&gt; interceptorClass = OverrideWriteAccessInterceptor.class;\n\nfinal ForDeclaredMethods visitorWrapper =\n    new AsmVisitorWrapper.ForDeclaredMethods()\n        .method(\n            ElementMatchers.anyOf(mtdOverrideWriteAccess),\n            Advice.to(interceptorClass)); // NoClassDefFoundError ObjectMember at getDeclaredMethods\n\nfinal Class&lt;?&gt; declaringClass = mtdOverrideWriteAccess.getDeclaringClass();\n\nnew ByteBuddy()\n    .redefine(declaringClass)\n    .visit(visitorWrapper)\n    .make()\n    .load(declaringClass.getClassLoader(), ClassReloadingStrategy.fromInstalledAgent());\n\n</code></pre>\n"},{"tags":["java","oop","arraylist","types","constructor"],"answers":[{"tags":[],"owner":{"account_id":16067990,"reputation":11,"user_id":11597115,"display_name":"Jason Liadi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696402224,"creation_date":1696402224,"answer_id":77227359,"question_id":77227269,"body_markdown":"You can use Java Generics to specify the data type for the ArrayList in your **Box** class\r\n\r\n    public class Box&lt;T&gt; {\r\n        private ArrayList&lt;T&gt; items = new ArrayList&lt;&gt;();\r\n\r\n        // Add an item to the box\r\n        public void addItem(T item) {\r\n            // You can add validation here to check the instance of the data type you want\r\n            items.add(item);\r\n        }\r\n\r\n        public ArrayList&lt;T&gt; getItems() {\r\n            return items;\r\n        }\r\n    }\r\n","title":"How to set the data type for an ArrayList during the creation of the object in which it is used","body":"<p>You can use Java Generics to specify the data type for the ArrayList in your <strong>Box</strong> class</p>\n<pre><code>public class Box&lt;T&gt; {\n    private ArrayList&lt;T&gt; items = new ArrayList&lt;&gt;();\n\n    // Add an item to the box\n    public void addItem(T item) {\n        // You can add validation here to check the instance of the data type you want\n        items.add(item);\n    }\n\n    public ArrayList&lt;T&gt; getItems() {\n        return items;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11825858,"reputation":1015,"user_id":8653765,"display_name":"M. Dudek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1696483640,"creation_date":1696402280,"answer_id":77227365,"question_id":77227269,"body_markdown":"You can use generics in your code to use specific classes.\r\nFor example\r\n\r\n```java\r\nclass Box&lt;T&gt; {\r\n\r\n    String boxName;\r\n    List&lt;T&gt; items = new ArrayList&lt;&gt;();\r\n\r\n    Box(String boxName) {\r\n        this.boxName = boxName;\r\n    }\r\n\r\n    public void addItem (T item) {\r\n        this.items.add(item);\r\n    }\r\n\r\n    public List&lt;T&gt; getItems() {\r\n        return this.items;\r\n    }\r\n}\r\n```\r\n\r\nAdditionally, you can add a new `Predicate` field in a class to use validation. \r\nFor example\r\n\r\n```java\r\nclass Box&lt;T&gt; {\r\n\r\n    String boxName;\r\n    List&lt;T&gt; items = new ArrayList&lt;&gt;();\r\n    Predicate&lt;T&gt; validator;\r\n\r\n    Box(String boxName, Predicate&lt;T&gt; validator) {\r\n        this.boxName = boxName;\r\n        this.validator = validator;\r\n    }\r\n\r\n    public void addItem (T item) {\r\n        if (validator.test(item)) {\r\n            this.items.add(item);\r\n        } else {\r\n            // do nothing, throw exception, depends on your needs\r\n        }\r\n    }\r\n\r\n    public List&lt;T&gt; getItems() {\r\n        return this.items;\r\n    }\r\n}\r\n```\r\n\r\nThen you can create your class like this\r\n\r\n```java\r\nvar box1 = new Box&lt;Integer&gt;(&quot;integerBox&quot;, item -&gt; item &gt;= 0 &amp;&amp; item &lt;= 10);\r\n```\r\n\r\nThen, when you try to add elements, for the wrong class, you take a compilation error, Java cannot support that purpose, because there is [strongly typed language](https://en.wikipedia.org/wiki/Strong_and_weak_typing)\r\n\r\n```java\r\nbox1.addItem(5); \r\nbox1.addItem(3.14); // compilation error\r\nbox1.addItem(&quot;String&quot;); // compilation error\r\n```","title":"How to set the data type for an ArrayList during the creation of the object in which it is used","body":"<p>You can use generics in your code to use specific classes.\nFor example</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Box&lt;T&gt; {\n\n    String boxName;\n    List&lt;T&gt; items = new ArrayList&lt;&gt;();\n\n    Box(String boxName) {\n        this.boxName = boxName;\n    }\n\n    public void addItem (T item) {\n        this.items.add(item);\n    }\n\n    public List&lt;T&gt; getItems() {\n        return this.items;\n    }\n}\n</code></pre>\n<p>Additionally, you can add a new <code>Predicate</code> field in a class to use validation.\nFor example</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Box&lt;T&gt; {\n\n    String boxName;\n    List&lt;T&gt; items = new ArrayList&lt;&gt;();\n    Predicate&lt;T&gt; validator;\n\n    Box(String boxName, Predicate&lt;T&gt; validator) {\n        this.boxName = boxName;\n        this.validator = validator;\n    }\n\n    public void addItem (T item) {\n        if (validator.test(item)) {\n            this.items.add(item);\n        } else {\n            // do nothing, throw exception, depends on your needs\n        }\n    }\n\n    public List&lt;T&gt; getItems() {\n        return this.items;\n    }\n}\n</code></pre>\n<p>Then you can create your class like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>var box1 = new Box&lt;Integer&gt;(&quot;integerBox&quot;, item -&gt; item &gt;= 0 &amp;&amp; item &lt;= 10);\n</code></pre>\n<p>Then, when you try to add elements, for the wrong class, you take a compilation error, Java cannot support that purpose, because there is <a href=\"https://en.wikipedia.org/wiki/Strong_and_weak_typing\" rel=\"nofollow noreferrer\">strongly typed language</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>box1.addItem(5); \nbox1.addItem(3.14); // compilation error\nbox1.addItem(&quot;String&quot;); // compilation error\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11244318,"reputation":389,"user_id":8247530,"display_name":"Rifat Rubayatul Islam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696403643,"creation_date":1696403643,"answer_id":77227506,"question_id":77227269,"body_markdown":"As others pointed out, you can use generic type in Java. You can learn more about it [here](https://docs.oracle.com/javase/tutorial/java/generics/types.html)\r\n\r\n\r\nFor valid values, you can also keep a set of valid values inside your box class that you would pass in the constructor if you don&#39;t want to use predicate.\r\n```java\r\nimport java.util.ArrayList;\r\nimport java.util.HashSet;\r\nimport java.util.Set;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        Set&lt;Integer&gt; validVals = new HashSet&lt;&gt;();\r\n        for (int i = 1; i &lt;= 10; i++) {\r\n            validVals.add(i);\r\n        }\r\n        Box&lt;Integer&gt; box1 = new Box&lt;&gt;(&quot;box1&quot;, validVals);\r\n        box1.addItem(5);\r\n        System.out.println(box1.getItems());\r\n        // 20 won&#39;t be inserted\r\n        box1.addItem(20);\r\n        System.out.println(box1.getItems());\r\n    }\r\n}\r\n\r\nclass Box&lt;T&gt; {\r\n    String boxName;\r\n    ArrayList&lt;T&gt; items = new ArrayList&lt;&gt;();\r\n    Set&lt;T&gt; validValues = new HashSet&lt;&gt;();\r\n\r\n    Box(String boxName, Set&lt;T&gt; validValues) {\r\n        this.boxName = boxName;\r\n        this.validValues = validValues;\r\n    }\r\n\r\n    public void addItem (T item) {\r\n        if (validValues.contains(item)) {\r\n            this.items.add(item);\r\n        }\r\n    }\r\n\r\n    public ArrayList&lt;T&gt; getItems() {\r\n        return this.items;\r\n    }\r\n}\r\n```\r\n","title":"How to set the data type for an ArrayList during the creation of the object in which it is used","body":"<p>As others pointed out, you can use generic type in Java. You can learn more about it <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/types.html\" rel=\"nofollow noreferrer\">here</a></p>\n<p>For valid values, you can also keep a set of valid values inside your box class that you would pass in the constructor if you don't want to use predicate.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.ArrayList;\nimport java.util.HashSet;\nimport java.util.Set;\n\npublic class Main {\n    public static void main(String[] args) {\n        Set&lt;Integer&gt; validVals = new HashSet&lt;&gt;();\n        for (int i = 1; i &lt;= 10; i++) {\n            validVals.add(i);\n        }\n        Box&lt;Integer&gt; box1 = new Box&lt;&gt;(&quot;box1&quot;, validVals);\n        box1.addItem(5);\n        System.out.println(box1.getItems());\n        // 20 won't be inserted\n        box1.addItem(20);\n        System.out.println(box1.getItems());\n    }\n}\n\nclass Box&lt;T&gt; {\n    String boxName;\n    ArrayList&lt;T&gt; items = new ArrayList&lt;&gt;();\n    Set&lt;T&gt; validValues = new HashSet&lt;&gt;();\n\n    Box(String boxName, Set&lt;T&gt; validValues) {\n        this.boxName = boxName;\n        this.validValues = validValues;\n    }\n\n    public void addItem (T item) {\n        if (validValues.contains(item)) {\n            this.items.add(item);\n        }\n    }\n\n    public ArrayList&lt;T&gt; getItems() {\n        return this.items;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29594110,"reputation":60,"user_id":22680961,"display_name":"Akshit Gupta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696498659,"creation_date":1696498659,"answer_id":77235918,"question_id":77227269,"body_markdown":"You can create a Generic Class, with the Predicate field to add validations while adding items in the Box Class.\r\n\r\n   \r\n\r\n    class Box&lt;T&gt; {\r\n    String boxName;\r\n    List&lt;T&gt; boxItems = new ArrayList&lt;&gt;();\r\n    Predicate&lt;T&gt; validator;\r\n\r\n    Box(String boxName, Predicate&lt;T&gt; validator) {\r\n        this.boxName = boxName;\r\n        this.validator = validator;\r\n    }\r\n\r\n    public void addItem (T item) {\r\n        if (validator.test(item)) {\r\n            this.boxItems.add(item);\r\n        }\r\n    }\r\n\r\n    public List&lt;T&gt; getBoxItems() {\r\n        return this.boxItems;\r\n    }}\r\n\r\n\r\n    public class Main {\r\n    public static void main(String[] args) {\r\n        Box&lt;Integer&gt; boxA = new Box&lt;Integer&gt;(&quot;integer&quot;, item -&gt; item &gt;= 0 &amp;&amp; item &lt;= 10);\r\n        boxA.addItem(1);\r\n        System.out.println(boxA.getBoxItems());\r\n\r\n        Box&lt;Double&gt; boxB = new Box&lt;Double&gt;(&quot;double&quot;, item -&gt; item &gt;=-50.5 &amp;&amp; item&lt;=50.5);\r\n        boxB.addItem(49.3);\r\n        System.out.println(boxB.getBoxItems());\r\n    }\r\n\r\n}","title":"How to set the data type for an ArrayList during the creation of the object in which it is used","body":"<p>You can create a Generic Class, with the Predicate field to add validations while adding items in the Box Class.</p>\n<pre><code>class Box&lt;T&gt; {\nString boxName;\nList&lt;T&gt; boxItems = new ArrayList&lt;&gt;();\nPredicate&lt;T&gt; validator;\n\nBox(String boxName, Predicate&lt;T&gt; validator) {\n    this.boxName = boxName;\n    this.validator = validator;\n}\n\npublic void addItem (T item) {\n    if (validator.test(item)) {\n        this.boxItems.add(item);\n    }\n}\n\npublic List&lt;T&gt; getBoxItems() {\n    return this.boxItems;\n}}\n\n\npublic class Main {\npublic static void main(String[] args) {\n    Box&lt;Integer&gt; boxA = new Box&lt;Integer&gt;(&quot;integer&quot;, item -&gt; item &gt;= 0 &amp;&amp; item &lt;= 10);\n    boxA.addItem(1);\n    System.out.println(boxA.getBoxItems());\n\n    Box&lt;Double&gt; boxB = new Box&lt;Double&gt;(&quot;double&quot;, item -&gt; item &gt;=-50.5 &amp;&amp; item&lt;=50.5);\n    boxB.addItem(49.3);\n    System.out.println(boxB.getBoxItems());\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":29593516,"reputation":3,"user_id":22680511,"display_name":"swat0k"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77227365,"answer_count":4,"score":0,"last_activity_date":1696498659,"creation_date":1696401164,"question_id":77227269,"body_markdown":"I have a Box class object that contains an ArrayList. How can I make it possible to set the data type for this ArrayList when creating the box1 object? For example, only Double from -50.0 to 50.0 for box1 or only Integer from 0 to 10 for box2 or certain Strings for box3.\r\n\r\n    import java.util.ArrayList;\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            Box box1 = new Box(&quot;box1&quot;);\r\n            box1.addItem(5);\r\n            box1.addItem(3.14);\r\n            box1.addItem(&quot;String&quot;);\r\n            System.out.println(box1.getItems());\r\n        }\r\n    }\r\n\r\n    class Box {\r\n        String boxName;\r\n        ArrayList&lt;Object&gt; items = new ArrayList&lt;&gt;();\r\n    \r\n        Box(String boxName) {\r\n        this.boxName = boxName;\r\n        }\r\n    \r\n        public void addItem (Object item) {\r\n            this.items.add(item);\r\n        }\r\n    \r\n        public ArrayList getItems() {\r\n            return this.items;\r\n        }\r\n    }\r\n\r\nI set the ArrayList to an Object data type, but that&#39;s not quite right. It is necessary that each object of the Box class have an ArrayList with an individual data type and a list of valid values.","title":"How to set the data type for an ArrayList during the creation of the object in which it is used","body":"<p>I have a Box class object that contains an ArrayList. How can I make it possible to set the data type for this ArrayList when creating the box1 object? For example, only Double from -50.0 to 50.0 for box1 or only Integer from 0 to 10 for box2 or certain Strings for box3.</p>\n<pre><code>import java.util.ArrayList;\npublic class Main {\n    public static void main(String[] args) {\n        Box box1 = new Box(&quot;box1&quot;);\n        box1.addItem(5);\n        box1.addItem(3.14);\n        box1.addItem(&quot;String&quot;);\n        System.out.println(box1.getItems());\n    }\n}\n\nclass Box {\n    String boxName;\n    ArrayList&lt;Object&gt; items = new ArrayList&lt;&gt;();\n\n    Box(String boxName) {\n    this.boxName = boxName;\n    }\n\n    public void addItem (Object item) {\n        this.items.add(item);\n    }\n\n    public ArrayList getItems() {\n        return this.items;\n    }\n}\n</code></pre>\n<p>I set the ArrayList to an Object data type, but that's not quite right. It is necessary that each object of the Box class have an ArrayList with an individual data type and a list of valid values.</p>\n"},{"tags":["java","spring","cxf","jboss-eap-6"],"comments":[{"owner":{"account_id":45934,"reputation":203649,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":0,"creation_date":1466434129,"post_id":37925396,"comment_id":63301461,"body_markdown":"`NoClassDefFoundError` means that a class cannot be found on the classpath. In your case it probably means that you are trying to run code with a different version of a library than that you compiled it with. Make sure you have the same versions of libraries when compiling and running.","body":"<code>NoClassDefFoundError</code> means that a class cannot be found on the classpath. In your case it probably means that you are trying to run code with a different version of a library than that you compiled it with. Make sure you have the same versions of libraries when compiling and running."},{"owner":{"account_id":6390609,"reputation":71,"user_id":4956918,"display_name":"tiitrfma"},"score":0,"creation_date":1466434341,"post_id":37925396,"comment_id":63301599,"body_markdown":"Thanks for reply Jesper. I have put maven scope as compile for spring related dependecy so my ear is having same jars.","body":"Thanks for reply Jesper. I have put maven scope as compile for spring related dependecy so my ear is having same jars."},{"owner":{"account_id":2080660,"reputation":6691,"user_id":1852714,"accept_rate":8,"display_name":"Angelo Immediata"},"score":0,"creation_date":1466434955,"post_id":37925396,"comment_id":63302061,"body_markdown":"I guess it&#39;s classloader issues.. did you check if there are cxf classes loaded twice? Once by your App and once by AS?","body":"I guess it&#39;s classloader issues.. did you check if there are cxf classes loaded twice? Once by your App and once by AS?"},{"owner":{"account_id":6390609,"reputation":71,"user_id":4956918,"display_name":"tiitrfma"},"score":0,"creation_date":1466438153,"post_id":37925396,"comment_id":63304301,"body_markdown":"i can find that org/apache/cxf/ws/policy/builder/jaxb/JaxbAssertionBuilder.class is present in cxf-rt-ws-policy-2.7.14.redhat-1.jar which is provided by jboss and if application is not able to find it then it must be only app jars which is loading it. /app/jboss-eap-6.4/modules/system/layers/base/org/apache/cxf/impl/main/cxf-rt-ws-policy-2.7.14.redhat-1.jar","body":"i can find that org/apache/cxf/ws/policy/builder/jaxb/JaxbAssertionBuilder.c&zwnj;&#8203;lass is present in cxf-rt-ws-policy-2.7.14.redhat-1.jar which is provided by jboss and if application is not able to find it then it must be only app jars which is loading it. /app/jboss-eap-6.4/modules/system/layers/base/org/apache/cxf&zwnj;&#8203;/impl/main/cxf-rt-ws&zwnj;&#8203;-policy-2.7.14.redha&zwnj;&#8203;t-1.jar"}],"answers":[{"tags":[],"owner":{"account_id":330384,"reputation":1345,"user_id":654471,"display_name":"cabaji99"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1508162782,"creation_date":1508162782,"answer_id":46772297,"question_id":37925396,"body_markdown":"I had to add this following dependencies to my pom to avoid that error:\r\n\r\n     &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cxf-rt-frontend-jaxrs&lt;/artifactId&gt;\r\n            &lt;version&gt;3.2.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cxf-rt-ws-policy&lt;/artifactId&gt;\r\n            &lt;version&gt;3.2.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cxf-rt-wsdl&lt;/artifactId&gt;\r\n            &lt;version&gt;3.2.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cxf-rt-transports-http&lt;/artifactId&gt;\r\n            &lt;version&gt;3.2.0&lt;/version&gt;\r\n        &lt;/dependency&gt;","title":"Caused by: java.lang.NoClassDefFoundError: org/apache/cxf/ws/policy/builder/jaxb/JaxbAssertionBuilder","body":"<p>I had to add this following dependencies to my pom to avoid that error:</p>\n\n<pre><code> &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\n        &lt;artifactId&gt;cxf-rt-frontend-jaxrs&lt;/artifactId&gt;\n        &lt;version&gt;3.2.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\n        &lt;artifactId&gt;cxf-rt-ws-policy&lt;/artifactId&gt;\n        &lt;version&gt;3.2.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\n        &lt;artifactId&gt;cxf-rt-wsdl&lt;/artifactId&gt;\n        &lt;version&gt;3.2.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\n        &lt;artifactId&gt;cxf-rt-transports-http&lt;/artifactId&gt;\n        &lt;version&gt;3.2.0&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19371311,"reputation":11,"user_id":14164553,"display_name":"Srikant Upadhyay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696498267,"creation_date":1696498267,"answer_id":77235870,"question_id":37925396,"body_markdown":"I added this dependency and it worked for me.\r\n\r\n    &lt;dependency&gt;                                          \r\n        &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\r\n        &lt;artifactId&gt;cxf-rt-ws-policy&lt;/artifactId&gt;\r\n        &lt;version&gt;3.2.0&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"Caused by: java.lang.NoClassDefFoundError: org/apache/cxf/ws/policy/builder/jaxb/JaxbAssertionBuilder","body":"<p>I added this dependency and it worked for me.</p>\n<pre><code>&lt;dependency&gt;                                          \n    &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\n    &lt;artifactId&gt;cxf-rt-ws-policy&lt;/artifactId&gt;\n    &lt;version&gt;3.2.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":6390609,"reputation":71,"user_id":4956918,"display_name":"tiitrfma"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11723,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1696498267,"creation_date":1466433834,"question_id":37925396,"body_markdown":"    \r\n    I am migrating my application from jboss-eap-5.1 to jboss-eap-6.4.0. My application is using spring 3.1.1 related jar and apache-cxf-2.7.7 jars. \r\n    \r\n    Ear file structure is as below \r\n    EAR/lib - contains all the jar which is common for wars.\r\n    app1.war/lib - contains jars required for it\r\n    app2.war/lib - contains jars required for it\r\n    \r\n  \r\n    I have also excluded modules for webservice, org.jboss.as.jaxrs &amp; ejb3 from  standalong.xml config file.  \r\n    \r\n    \r\n    Spring jars :\r\n    spring-orm-3.1.1.RELEASE.jar\r\n    spring-aop-3.1.1.RELEASE.jar                spring-oxm-3.2.4.RELEASE.jar\r\n    spring-asm-3.1.1.RELEASE.jar                spring-test-3.2.4.RELEASE.jar\r\n    spring-beans-3.1.1.RELEASE.jar              spring-tx-3.1.1.RELEASE.jar\r\n    spring-context-3.1.1.RELEASE.jar            spring-web-3.2.4.RELEASE.jar\r\n    spring-core-3.1.1.RELEASE.jar               spring-webmvc-3.2.4.RELEASE.jar\r\n    spring-data-commons-core-1.1.0.RELEASE.jar  spring-ws-core-2.1.4.RELEASE.jar\r\n    spring-data-jpa-1.0.3.RELEASE.jar           spring-ws-test-2.1.4.RELEASE.jar\r\n    spring-expression-3.1.1.RELEASE.jar         spring-xml-2.1.4.RELEASE.jar\r\n    \r\n    javaw.ws.rs jar containes below jar\r\n    javax.ws.rs-api-2.0-m10.jar\r\n    \r\n    apache-cfx-jars packaged in ear/lib are \r\n    cxf-api-2.7.7.jar                     cxf-rt-frontend-jaxrs-2.7.7.jar\r\n    cxf-rt-bindings-soap-2.7.7.jar        cxf-rt-frontend-jaxws-2.7.7.jar\r\n    cxf-rt-bindings-xml-2.7.7.jar         cxf-rt-frontend-simple-2.7.7.jar\r\n    cxf-rt-core-2.7.7.jar                 cxf-rt-transports-http-2.7.7.jar\r\n    cxf-rt-databinding-jaxb-2.7.7.jar     cxf-rt-transports-local-2.7.7.jar\r\n    cxf-rt-features-clustering-2.7.7.jar\r\n    \r\n    \r\n    now when i deploy , i am getting below error. I am not sure how to resolve this error as  below\r\n    7:33:07,784 INFO  [org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor] (pool-6-thread-2) JSR-330 &#39;javax.inject.Inject&#39; annotation found and supported for autowiring\r\n07:33:07,785 INFO  [org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor] (pool-5-thread-1) JSR-330 &#39;javax.inject.Inject&#39; annotation found and supported for autowiring\r\n07:33:07,790 INFO  [org.springframework.beans.factory.support.DefaultListableBeanFactory] (pool-6-thread-2) Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@75b6f75e: defining beans [cxf,org.apache.cxf.bus.spring.BusWiringBeanFactoryPostProcessor,org.apache.cxf.bus.spring.Jsr250BeanPostProcessor,org.apache.cxf.bus.spring.BusExtensionPostProcessor,servletContextReaderComponent,org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,signatureAlgorithm,serviceAuthManager,authServiceProvider,soaErrorBundle,soaErrorMapper,soaExceptionHandler,soaClientPolicyEvaluator,com.walmart.platform.soa.client.listener.SOAClientLifeCycleListener#0,clientHeaderOutInterceptor,clientLoggingOutInterceptor,clientHeaderInInterceptor,clientLoggingInInterceptor,serviceAuthOutInterceptor,clientPolicyOutInterceptor,clientPolicyInInterceptor,cxf.config2,org.springframework.context.annotation.ConfigurationClassPostProcessor$ImportAwareBeanPostProcessor#0]; root of factory hierarchy\r\n@                                                         \r\n     \r\n07:33:08,015 ERROR [stderr] (Thread-147) 2016-06-20 07:33:08.014 WARN net.spy.memcached.auth.AuthThread:  Authentication failed to /172.16.113.154:11210, Status: {OperationStatus success=false:  Invalid arguments}\r\n07:33:08,026 WARN  [org.jboss.modules] (pool-6-thread-2) Failed to define class org.apache.cxf.transport.http.policy.HTTPServerAssertionBuilder in Module &quot;deployment.smcfs.ear:main&quot; from Service Module Loader: java.lang.LinkageError: Failed to link org/apache/cxf/transport/http/policy/HTTPServerAssertionBuilder (Module &quot;deployment.smcfs.ear:main&quot; from Service Module Loader)\r\n        at org.jboss.modules.ModuleClassLoader.defineClass(ModuleClassLoader.java:487) [jboss-modules.jar:1.3.6.Final-redhat-1]\r\n        at org.jboss.modules.ModuleClassLoader.loadClassLocal(ModuleClassLoader.java:277) [jboss-modules.jar:1.3.6.Final-redhat-1]\r\n        at org.jboss.modules.ModuleClassLoader$1.loadClassLocal(ModuleClassLoader.java:92) [jboss-modules.jar:1.3.6.Final-redhat-1]\r\n        at org.jboss.modules.Module.loadModuleClass(Module.java:568) [jboss-modules.jar:1.3.6.Final-redhat-1\r\n    \r\n    When i check errors closely it is failing due to below class not found exception .\r\n\t\r\n\t]\r\n        at com.walmartlabs.services.util.base.LabsCallable.call(LabsCallable.java:31) [labs-ims-1.0.jar:]\r\n        at java.util.concurrent.FutureTask.run(FutureTask.java:266) [rt.jar:1.8.0_51]\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [rt.jar:1.8.0_51]\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [rt.jar:1.8.0_51]\r\n        at java.lang.Thread.run(Thread.java:745) [rt.jar:1.8.0_51]\r\nCaused by: java.lang.NoClassDefFoundError: org/apache/cxf/ws/policy/builder/jaxb/JaxbAssertionBuilder\r\n        at java.lang.ClassLoader.defineClass1(Native Method) [rt.jar:1.8.0_51]\r\n        at java.lang.ClassLoader.defineClass(ClassLoader.java:760) [rt.jar:1.8.0_51]\r\n        at org.jboss.modules.ModuleClassLoader.doDefineOrLoadClass(ModuleClassLoader.java:361) [jboss-modules.jar:1.3.6.Final-redhat-1]\r\n        at org.jboss.modules.ModuleClassLoader.defineClass(ModuleClassLoader.java:482) [jboss-modules.jar:1.3.6.Final-redhat-1]\r\n        ... 148 more\r\nCaused by: java.lang.ClassNotFoundException: org.apache.cxf.ws.policy.builder.jaxb.JaxbAssertionBuilder from [Module &quot;deployment.smcfs.ear:main&quot; from Service Module Loader]\r\n        at org.jboss.modules.ModuleClassLoader.findClass(ModuleClassLoader.java:213) [jboss-modules.jar:1.3.6.\r\n\t\t\r\n\t\t*********************************************8\r\n    \r\n          at java.util.concurrent.FutureTask.run(FutureTask.java:266) [rt.jar:1.8.0_51]\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [rt.jar:1.8.0_51]\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [rt.jar:1.8.0_51]\r\n        at java.lang.Thread.run(Thread.java:745) [rt.jar:1.8.0_51]\r\nCaused by: java.lang.NoClassDefFoundError: org/apache/cxf/ws/policy/AbstractPolicyInterceptorProvider\r\n        at java.lang.ClassLoader.defineClass1(Native Method) [rt.jar:1.8.0_51]\r\n        at java.lang.ClassLoader.defineClass(ClassLoader.java:760) [rt.jar:1.8.0_51]\r\n        at org.jboss.modules.ModuleClassLoader.doDefineOrLoadClass(ModuleClassLoader.java:361) [jboss-modules.jar:1.3.6.Final-redhat-1]\r\n        at org.jboss.modules.ModuleClassLoader.defineClass(ModuleClassLoader.java:482) [jboss-modules.jar:1.3.6.Final-redhat-1]\r\n        ... 148 more\r\nCaused by: java.lang.ClassNotFoundException: org.apache.cxf.ws.policy.AbstractPolicyInterceptorProvider from [Module &quot;deployment.smcfs.ear:main&quot; from Service Module Loader]\r\n        at org.jboss.modules.ModuleClassLoader.findClass(ModuleClassLoader.java:213) [jboss-modules.jar:1.3.6.Final-redhat-1]\r\n        a\r\n\r\n\t\t************************************\r\n  \r\n  \r\n  Any suggestion how to overcome this problem\r\n    \r\n    Thanks","title":"Caused by: java.lang.NoClassDefFoundError: org/apache/cxf/ws/policy/builder/jaxb/JaxbAssertionBuilder","body":"<pre><code>I am migrating my application from jboss-eap-5.1 to jboss-eap-6.4.0. My application is using spring 3.1.1 related jar and apache-cxf-2.7.7 jars. \n\nEar file structure is as below \nEAR/lib - contains all the jar which is common for wars.\napp1.war/lib - contains jars required for it\napp2.war/lib - contains jars required for it\n\n\nI have also excluded modules for webservice, org.jboss.as.jaxrs &amp; ejb3 from  standalong.xml config file.  \n\n\nSpring jars :\nspring-orm-3.1.1.RELEASE.jar\nspring-aop-3.1.1.RELEASE.jar                spring-oxm-3.2.4.RELEASE.jar\nspring-asm-3.1.1.RELEASE.jar                spring-test-3.2.4.RELEASE.jar\nspring-beans-3.1.1.RELEASE.jar              spring-tx-3.1.1.RELEASE.jar\nspring-context-3.1.1.RELEASE.jar            spring-web-3.2.4.RELEASE.jar\nspring-core-3.1.1.RELEASE.jar               spring-webmvc-3.2.4.RELEASE.jar\nspring-data-commons-core-1.1.0.RELEASE.jar  spring-ws-core-2.1.4.RELEASE.jar\nspring-data-jpa-1.0.3.RELEASE.jar           spring-ws-test-2.1.4.RELEASE.jar\nspring-expression-3.1.1.RELEASE.jar         spring-xml-2.1.4.RELEASE.jar\n\njavaw.ws.rs jar containes below jar\njavax.ws.rs-api-2.0-m10.jar\n\napache-cfx-jars packaged in ear/lib are \ncxf-api-2.7.7.jar                     cxf-rt-frontend-jaxrs-2.7.7.jar\ncxf-rt-bindings-soap-2.7.7.jar        cxf-rt-frontend-jaxws-2.7.7.jar\ncxf-rt-bindings-xml-2.7.7.jar         cxf-rt-frontend-simple-2.7.7.jar\ncxf-rt-core-2.7.7.jar                 cxf-rt-transports-http-2.7.7.jar\ncxf-rt-databinding-jaxb-2.7.7.jar     cxf-rt-transports-local-2.7.7.jar\ncxf-rt-features-clustering-2.7.7.jar\n\n\nnow when i deploy , i am getting below error. I am not sure how to resolve this error as  below\n7:33:07,784 INFO  [org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor] (pool-6-thread-2) JSR-330 'javax.inject.Inject' annotation found and supported for autowiring\n</code></pre>\n\n<p>07:33:07,785 INFO  [org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor] (pool-5-thread-1) JSR-330 'javax.inject.Inject' annotation found and supported for autowiring\n07:33:07,790 INFO  [org.springframework.beans.factory.support.DefaultListableBeanFactory] (pool-6-thread-2) Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@75b6f75e: defining beans [cxf,org.apache.cxf.bus.spring.BusWiringBeanFactoryPostProcessor,org.apache.cxf.bus.spring.Jsr250BeanPostProcessor,org.apache.cxf.bus.spring.BusExtensionPostProcessor,servletContextReaderComponent,org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,signatureAlgorithm,serviceAuthManager,authServiceProvider,soaErrorBundle,soaErrorMapper,soaExceptionHandler,soaClientPolicyEvaluator,com.walmart.platform.soa.client.listener.SOAClientLifeCycleListener#0,clientHeaderOutInterceptor,clientLoggingOutInterceptor,clientHeaderInInterceptor,clientLoggingInInterceptor,serviceAuthOutInterceptor,clientPolicyOutInterceptor,clientPolicyInInterceptor,cxf.config2,org.springframework.context.annotation.ConfigurationClassPostProcessor$ImportAwareBeanPostProcessor#0]; root of factory hierarchy\n@                                                         </p>\n\n<p>07:33:08,015 ERROR [stderr] (Thread-147) 2016-06-20 07:33:08.014 WARN net.spy.memcached.auth.AuthThread:  Authentication failed to /172.16.113.154:11210, Status: {OperationStatus success=false:  Invalid arguments}\n07:33:08,026 WARN  [org.jboss.modules] (pool-6-thread-2) Failed to define class org.apache.cxf.transport.http.policy.HTTPServerAssertionBuilder in Module \"deployment.smcfs.ear:main\" from Service Module Loader: java.lang.LinkageError: Failed to link org/apache/cxf/transport/http/policy/HTTPServerAssertionBuilder (Module \"deployment.smcfs.ear:main\" from Service Module Loader)\n        at org.jboss.modules.ModuleClassLoader.defineClass(ModuleClassLoader.java:487) [jboss-modules.jar:1.3.6.Final-redhat-1]\n        at org.jboss.modules.ModuleClassLoader.loadClassLocal(ModuleClassLoader.java:277) [jboss-modules.jar:1.3.6.Final-redhat-1]\n        at org.jboss.modules.ModuleClassLoader$1.loadClassLocal(ModuleClassLoader.java:92) [jboss-modules.jar:1.3.6.Final-redhat-1]\n        at org.jboss.modules.Module.loadModuleClass(Module.java:568) [jboss-modules.jar:1.3.6.Final-redhat-1</p>\n\n<pre><code>When i check errors closely it is failing due to below class not found exception .\n\n]\n    at com.walmartlabs.services.util.base.LabsCallable.call(LabsCallable.java:31) [labs-ims-1.0.jar:]\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266) [rt.jar:1.8.0_51]\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [rt.jar:1.8.0_51]\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [rt.jar:1.8.0_51]\n    at java.lang.Thread.run(Thread.java:745) [rt.jar:1.8.0_51]\n</code></pre>\n\n<p>Caused by: java.lang.NoClassDefFoundError: org/apache/cxf/ws/policy/builder/jaxb/JaxbAssertionBuilder\n        at java.lang.ClassLoader.defineClass1(Native Method) [rt.jar:1.8.0_51]\n        at java.lang.ClassLoader.defineClass(ClassLoader.java:760) [rt.jar:1.8.0_51]\n        at org.jboss.modules.ModuleClassLoader.doDefineOrLoadClass(ModuleClassLoader.java:361) [jboss-modules.jar:1.3.6.Final-redhat-1]\n        at org.jboss.modules.ModuleClassLoader.defineClass(ModuleClassLoader.java:482) [jboss-modules.jar:1.3.6.Final-redhat-1]\n        ... 148 more\nCaused by: java.lang.ClassNotFoundException: org.apache.cxf.ws.policy.builder.jaxb.JaxbAssertionBuilder from [Module \"deployment.smcfs.ear:main\" from Service Module Loader]\n        at org.jboss.modules.ModuleClassLoader.findClass(ModuleClassLoader.java:213) [jboss-modules.jar:1.3.6.</p>\n\n<pre><code>    *********************************************8\n\n      at java.util.concurrent.FutureTask.run(FutureTask.java:266) [rt.jar:1.8.0_51]\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [rt.jar:1.8.0_51]\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [rt.jar:1.8.0_51]\n    at java.lang.Thread.run(Thread.java:745) [rt.jar:1.8.0_51]\n</code></pre>\n\n<p>Caused by: java.lang.NoClassDefFoundError: org/apache/cxf/ws/policy/AbstractPolicyInterceptorProvider\n        at java.lang.ClassLoader.defineClass1(Native Method) [rt.jar:1.8.0_51]\n        at java.lang.ClassLoader.defineClass(ClassLoader.java:760) [rt.jar:1.8.0_51]\n        at org.jboss.modules.ModuleClassLoader.doDefineOrLoadClass(ModuleClassLoader.java:361) [jboss-modules.jar:1.3.6.Final-redhat-1]\n        at org.jboss.modules.ModuleClassLoader.defineClass(ModuleClassLoader.java:482) [jboss-modules.jar:1.3.6.Final-redhat-1]\n        ... 148 more\nCaused by: java.lang.ClassNotFoundException: org.apache.cxf.ws.policy.AbstractPolicyInterceptorProvider from [Module \"deployment.smcfs.ear:main\" from Service Module Loader]\n        at org.jboss.modules.ModuleClassLoader.findClass(ModuleClassLoader.java:213) [jboss-modules.jar:1.3.6.Final-redhat-1]\n        a</p>\n\n<pre><code>    ************************************\n</code></pre>\n\n<p>Any suggestion how to overcome this problem</p>\n\n<pre><code>Thanks\n</code></pre>\n"},{"tags":["java","rest","annotations","swagger"],"answers":[{"tags":[],"owner":{"account_id":18549439,"reputation":1201,"user_id":13515974,"display_name":"Zufar Sunagatov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694697749,"creation_date":1694697749,"answer_id":77105331,"question_id":77103473,"body_markdown":"\r\nThe error message you&#39;re encountering \r\n```\r\nRequired request parameter &#39;documentIds&#39; for method parameter type List is not present\r\n``` \r\nmeans that the Swagger request you are sending is not including the required `documentIds` parameter.\r\n\r\nYou need to fix your Swagger request like that\r\n```\r\n{\r\n  &quot;documentIds&quot;: [\r\n    &quot;Doc2133&quot;,\r\n    &quot;Doc2143&quot;,\r\n    &quot;Doc2153&quot;\r\n  ]\r\n}\r\n```","title":"Unable to fetch @CustomRequestParam values from swagger","body":"<p>The error message you're encountering</p>\n<pre><code>Required request parameter 'documentIds' for method parameter type List is not present\n</code></pre>\n<p>means that the Swagger request you are sending is not including the required <code>documentIds</code> parameter.</p>\n<p>You need to fix your Swagger request like that</p>\n<pre><code>{\n  &quot;documentIds&quot;: [\n    &quot;Doc2133&quot;,\n    &quot;Doc2143&quot;,\n    &quot;Doc2153&quot;\n  ]\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2799515,"reputation":815,"user_id":6647878,"display_name":"Nidhi257"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1696497345,"creation_date":1696497345,"answer_id":77235750,"question_id":77103473,"body_markdown":"Instead of using `@CustomRequestParam` we can use `@Requestbody` annotation, this will copy the data into list.","title":"Unable to fetch @CustomRequestParam values from swagger","body":"<p>Instead of using <code>@CustomRequestParam</code> we can use <code>@Requestbody</code> annotation, this will copy the data into list.</p>\n"}],"owner":{"account_id":2799515,"reputation":815,"user_id":6647878,"display_name":"Nidhi257"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77235750,"answer_count":2,"score":1,"last_activity_date":1696497345,"creation_date":1694683176,"question_id":77103473,"body_markdown":"I am getting below error while running API from swagger:\r\n\r\n    2023-09-14 14:38:07.208  WARN 45800 --- [nio-8080-exec-4] m.w.r.a.GlobalControllerExceptionHandler : Error = [Missing Required Field(s).  Please refer to the API documentation] Exception = [Required request parameter &#39;documentIds&#39; for method parameter type List is not present]\r\n    2023-09-14 14:38:07.217  WARN 45800 --- [nio-8080-exec-4] m.w.r.a.GlobalControllerExceptionHandler : Exception\r\n    \r\n    org.springframework.web.bind.MissingServletRequestParameterException: Required request parameter &#39;documentIds&#39; for method parameter type List is not present\r\n    \tat org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:122) ~[spring-web-5.3.27.jar:5.3.27]\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:179) ~[spring-web-5.3.27.jar:5.3.27]\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:146) ~[spring-web-5.3.27.jar:5.3.27]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.27.jar:5.3.27]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.27.jar:5.3.27]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.27.jar:5.3.27]\r\n\r\n\r\nBelow is my controller code and request data that I am passing from swagger\r\n \r\n\r\n    @RequestMapping(method = {RequestMethod.POST}, value = &quot;/updateDocumentIds&quot;, headers = &quot;Accept=application/json&quot;)\r\n        @ResponseBody\r\n        public ActionResult updateDocumentIds(@CustomRequestParam(value = &quot;documentIds&quot;,required = true) List&lt;String&gt; documentIds, @RequestParam(value = &quot;route&quot;) Boolean route) throws Exception {\r\n            ActionResult actionResult = new ActionResult();\r\n            //runs service method\r\n            return actionResult;\r\n        }\r\n\r\nswagger request\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gQtnO.png\r\n  [2]: https://i.stack.imgur.com/SiO6C.png\r\n\r\nAny help appreciated!\r\n\r\n","title":"Unable to fetch @CustomRequestParam values from swagger","body":"<p>I am getting below error while running API from swagger:</p>\n<pre><code>2023-09-14 14:38:07.208  WARN 45800 --- [nio-8080-exec-4] m.w.r.a.GlobalControllerExceptionHandler : Error = [Missing Required Field(s).  Please refer to the API documentation] Exception = [Required request parameter 'documentIds' for method parameter type List is not present]\n2023-09-14 14:38:07.217  WARN 45800 --- [nio-8080-exec-4] m.w.r.a.GlobalControllerExceptionHandler : Exception\n\norg.springframework.web.bind.MissingServletRequestParameterException: Required request parameter 'documentIds' for method parameter type List is not present\n    at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:122) ~[spring-web-5.3.27.jar:5.3.27]\n    at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:179) ~[spring-web-5.3.27.jar:5.3.27]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:146) ~[spring-web-5.3.27.jar:5.3.27]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.27.jar:5.3.27]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.27.jar:5.3.27]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.27.jar:5.3.27]\n</code></pre>\n<p>Below is my controller code and request data that I am passing from swagger</p>\n<pre><code>@RequestMapping(method = {RequestMethod.POST}, value = &quot;/updateDocumentIds&quot;, headers = &quot;Accept=application/json&quot;)\n    @ResponseBody\n    public ActionResult updateDocumentIds(@CustomRequestParam(value = &quot;documentIds&quot;,required = true) List&lt;String&gt; documentIds, @RequestParam(value = &quot;route&quot;) Boolean route) throws Exception {\n        ActionResult actionResult = new ActionResult();\n        //runs service method\n        return actionResult;\n    }\n</code></pre>\n<p>swagger request</p>\n<p><a href=\"https://i.stack.imgur.com/gQtnO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gQtnO.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/SiO6C.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SiO6C.png\" alt=\"enter image description here\" /></a></p>\n<p>Any help appreciated!</p>\n"},{"tags":["javascript","java","reactjs"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1696574856,"post_id":77235738,"comment_id":136173161,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":29603279,"reputation":1,"user_id":22688222,"display_name":"Jhonathan Afrizal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696497150,"creation_date":1696497150,"question_id":77235738,"body_markdown":"I&#39;m facing a problem about connecting my React Native apps into Omron Device (HBF-702T-AP). They also give me sample app using java language and Library using .aar extension, but I don&#39;t know all about java and now I need to translate it into javascript function so I can use it in my application. Looking forward for somebody that possible to do this\r\n\r\n","title":"Using AAR module in Expo Bare React Native","body":"<p>I'm facing a problem about connecting my React Native apps into Omron Device (HBF-702T-AP). They also give me sample app using java language and Library using .aar extension, but I don't know all about java and now I need to translate it into javascript function so I can use it in my application. Looking forward for somebody that possible to do this</p>\n"},{"tags":["java","debugging","intellij-idea"],"comments":[{"owner":{"account_id":9021005,"reputation":4164,"user_id":6722100,"accept_rate":67,"display_name":"achAmh&#225;in"},"score":2,"creation_date":1507737186,"post_id":46692606,"comment_id":80332939,"body_markdown":"I had a similar problem, albeit in Eclipse. The non-ticked ones are ones that can never be reached, when the program is run. May or may not be helpful.","body":"I had a similar problem, albeit in Eclipse. The non-ticked ones are ones that can never be reached, when the program is run. May or may not be helpful."},{"owner":{"account_id":9021005,"reputation":4164,"user_id":6722100,"accept_rate":67,"display_name":"achAmh&#225;in"},"score":0,"creation_date":1507737358,"post_id":46692606,"comment_id":80333048,"body_markdown":"Further to above: no breakpoints had a tick, until a) I ran the application in debug mode (some were ticked), or when I ran the server in debug mode (the other ones were ticked). I then hit the un-ticked ones (which were ticked when the server was run in debug mode), using something like SoapUI to run the web service I was trying to call.","body":"Further to above: no breakpoints had a tick, until a) I ran the application in debug mode (some were ticked), or when I ran the server in debug mode (the other ones were ticked). I then hit the un-ticked ones (which were ticked when the server was run in debug mode), using something like SoapUI to run the web service I was trying to call."},{"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1507737603,"post_id":46692606,"comment_id":80333193,"body_markdown":"You may get some clues by checking the Java Debugger logs, see https://intellij-support.jetbrains.com/hc/en-us/articles/207241125.","body":"You may get some clues by checking the Java Debugger logs, see <a href=\"https://intellij-support.jetbrains.com/hc/en-us/articles/207241125\" rel=\"nofollow noreferrer\">intellij-support.jetbrains.com/hc/en-us/articles/207241125</a>."},{"owner":{"account_id":187257,"reputation":13472,"user_id":425183,"accept_rate":55,"display_name":"Ognyan"},"score":0,"creation_date":1548485719,"post_id":46692606,"comment_id":95566552,"body_markdown":"I am facing the same problem with Android Studio 3.3 and it makes me crazy. Did you found the root cause of the problem @Pablo?","body":"I am facing the same problem with Android Studio 3.3 and it makes me crazy. Did you found the root cause of the problem @Pablo?"},{"owner":{"account_id":4482164,"reputation":6664,"user_id":3645944,"accept_rate":90,"display_name":"Pablo Matias Gomez"},"score":0,"creation_date":1548524925,"post_id":46692606,"comment_id":95575301,"body_markdown":"@Ognyan yes, check the answer given by Kedar","body":"@Ognyan yes, check the answer given by Kedar"},{"owner":{"account_id":187257,"reputation":13472,"user_id":425183,"accept_rate":55,"display_name":"Ognyan"},"score":0,"creation_date":1548568535,"post_id":46692606,"comment_id":95583398,"body_markdown":"Kedar&#39;s answer was not helpful about the root cause...","body":"Kedar&#39;s answer was not helpful about the root cause..."},{"owner":{"account_id":4482164,"reputation":6664,"user_id":3645944,"accept_rate":90,"display_name":"Pablo Matias Gomez"},"score":1,"creation_date":1548569772,"post_id":46692606,"comment_id":95583591,"body_markdown":"@Ognyan well for me it was basically what he said. I was setting a breakpoint to a class that wasnt the correct one.","body":"@Ognyan well for me it was basically what he said. I was setting a breakpoint to a class that wasnt the correct one."}],"answers":[{"tags":[],"owner":{"account_id":8468664,"reputation":531,"user_id":6352081,"display_name":"Kedar Brooks"},"down_vote_count":0,"up_vote_count":37,"is_accepted":true,"score":37,"last_activity_date":1657880774,"creation_date":1507739082,"answer_id":46693200,"question_id":46692606,"body_markdown":"Did some searching through IntelliJ Help PDF:  \r\n[Help Doc][1] pg. 431\r\n\r\n\r\n  [1]: https://www.jetbrains.com/help/idea/2017.2/intellij-idea-help.pdf\r\n\r\nTheir documentation Describes the checkmark as *&quot;Shown at run-time when the breakpoint is\r\nrecognized by the debugger as set on an\r\nexecutable code line.&quot;*\r\n\r\n\r\nand the regular red dot as *&quot;Shown at design-time or during the debugging\r\nsession when the class with such breakpoint is\r\nnot yet loaded.\r\n&quot;* \r\n\r\nSo it would seem that the line you&#39;re adding the breaking point to never gets executed. You can try stepping up line by line through the class to make sure the class is not getting hung up somewhere.","title":"IntelliJ IDEA: Breakpoint not being hit, and is shown without the tick, just a red dot","body":"<p>Did some searching through IntelliJ Help PDF:<br />\n<a href=\"https://www.jetbrains.com/help/idea/2017.2/intellij-idea-help.pdf\" rel=\"nofollow noreferrer\">Help Doc</a> pg. 431</p>\n<p>Their documentation Describes the checkmark as <em>&quot;Shown at run-time when the breakpoint is\nrecognized by the debugger as set on an\nexecutable code line.&quot;</em></p>\n<p>and the regular red dot as <em>&quot;Shown at design-time or during the debugging\nsession when the class with such breakpoint is\nnot yet loaded.\n&quot;</em></p>\n<p>So it would seem that the line you're adding the breaking point to never gets executed. You can try stepping up line by line through the class to make sure the class is not getting hung up somewhere.</p>\n"},{"tags":[],"owner":{"account_id":442995,"reputation":5799,"user_id":833960,"accept_rate":69,"display_name":"MattG"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1531446790,"creation_date":1531443867,"answer_id":51316367,"question_id":46692606,"body_markdown":"I get this same issue intermittently from time to time, I always run the latest version of IDEA. The break points are shown as red but without a tick inside them. Even after I rebuild or re-run in debug they do not get a tick, and they do not &quot;work&quot;, i.e., the code continues. I resolve by restarting IDEA, then restarting the debugger/debug run config.","title":"IntelliJ IDEA: Breakpoint not being hit, and is shown without the tick, just a red dot","body":"<p>I get this same issue intermittently from time to time, I always run the latest version of IDEA. The break points are shown as red but without a tick inside them. Even after I rebuild or re-run in debug they do not get a tick, and they do not \"work\", i.e., the code continues. I resolve by restarting IDEA, then restarting the debugger/debug run config.</p>\n"},{"tags":[],"owner":{"account_id":3222549,"reputation":565,"user_id":2719622,"accept_rate":38,"display_name":"kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1550075267,"creation_date":1550075267,"answer_id":54675031,"question_id":46692606,"body_markdown":"I had the same issue in my mac, tried restarting server, machine, invalidate caches and nothing helped. Then, I noticed when the server is started in debug mode, i didnt see this message:\r\n`Connected to the target VM, address: &#39;127.0.0.1:64197&#39;, transport: &#39;socket&#39;` and I realized that there could be some problem with the server as such. \r\n\r\n**Solution:**\r\nCreated new server using command line &quot;./server create &lt;server-name&gt;&quot; and then associated this server for run configuration. Now started server in debug mode and I saw above message connected to socket port and I am able to see the tick marks on debug point.","title":"IntelliJ IDEA: Breakpoint not being hit, and is shown without the tick, just a red dot","body":"<p>I had the same issue in my mac, tried restarting server, machine, invalidate caches and nothing helped. Then, I noticed when the server is started in debug mode, i didnt see this message:\n<code>Connected to the target VM, address: '127.0.0.1:64197', transport: 'socket'</code> and I realized that there could be some problem with the server as such. </p>\n\n<p><strong>Solution:</strong>\nCreated new server using command line \"./server create \" and then associated this server for run configuration. Now started server in debug mode and I saw above message connected to socket port and I am able to see the tick marks on debug point.</p>\n"},{"tags":[],"owner":{"account_id":4911554,"reputation":13237,"user_id":3956731,"accept_rate":95,"display_name":"KayV"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1552667855,"creation_date":1552667855,"answer_id":55187071,"question_id":46692606,"body_markdown":"The same happened with me on Mac machine. I followed these steps and all worked fine:\r\n\r\n1. Stop server.\r\n2. Close all intellij projects.\r\n3. Open only the specific intellij project on which my application needs to run.\r\n4. Start the server in debug mode.","title":"IntelliJ IDEA: Breakpoint not being hit, and is shown without the tick, just a red dot","body":"<p>The same happened with me on Mac machine. I followed these steps and all worked fine:</p>\n\n<ol>\n<li>Stop server.</li>\n<li>Close all intellij projects.</li>\n<li>Open only the specific intellij project on which my application needs to run.</li>\n<li>Start the server in debug mode.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":9686743,"reputation":109,"user_id":7861036,"accept_rate":40,"display_name":"Abhay Maniyar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1560749376,"creation_date":1560749376,"answer_id":56625192,"question_id":46692606,"body_markdown":"I was also facing this issue and found that my tomcat configuration was not right.\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n        &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nThe scope tag had value as &quot;provided&quot;. Changed it to compile and it worked fine.","title":"IntelliJ IDEA: Breakpoint not being hit, and is shown without the tick, just a red dot","body":"<p>I was also facing this issue and found that my tomcat configuration was not right.</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n    &lt;scope&gt;compile&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>The scope tag had value as \"provided\". Changed it to compile and it worked fine.</p>\n"},{"tags":[],"owner":{"account_id":13125278,"reputation":1011,"user_id":9481500,"display_name":"Stypox"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1590592109,"creation_date":1590592109,"answer_id":62046436,"question_id":46692606,"body_markdown":"I fixed this by manually deleting all build-related files (for some reason Rebuild did nothing) by running this command at the project&#39;s root folder. Note that it does also remove Intellij&#39;s temporary configuration files, that are usually not included in git repositories anyway. Replace MODULE with the subfolder containing the module for the project. If you are building an Android app with Android Studio the main module name is usually `app`.\r\n```bash\r\nrm -rf ./local.properties ./.gradle/ ./.idea/ ./MODULE/build/ ./MODULE/out/\r\n```\r\nThen restart Intellij with the `File -&gt; Invalidate Caches / Restart` option, wait for the build and indexing to finish, and debugging should start working again.","title":"IntelliJ IDEA: Breakpoint not being hit, and is shown without the tick, just a red dot","body":"<p>I fixed this by manually deleting all build-related files (for some reason Rebuild did nothing) by running this command at the project's root folder. Note that it does also remove Intellij's temporary configuration files, that are usually not included in git repositories anyway. Replace MODULE with the subfolder containing the module for the project. If you are building an Android app with Android Studio the main module name is usually <code>app</code>.</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>rm -rf ./local.properties ./.gradle/ ./.idea/ ./MODULE/build/ ./MODULE/out/\n</code></pre>\n\n<p>Then restart Intellij with the <code>File -&gt; Invalidate Caches / Restart</code> option, wait for the build and indexing to finish, and debugging should start working again.</p>\n"},{"tags":[],"owner":{"account_id":1685237,"reputation":660,"user_id":1548686,"accept_rate":62,"display_name":"Sizons"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1590833250,"creation_date":1590833250,"answer_id":62100874,"question_id":46692606,"body_markdown":"I made a n00b mistake on the IDE. Instead of hitting the debug button, I thought it would work the same as visual studio or eclipse in that I&#39;d have to use the run button, yet when I hit the debug button (That looks like an actual bug) my break-point hit just fine.","title":"IntelliJ IDEA: Breakpoint not being hit, and is shown without the tick, just a red dot","body":"<p>I made a n00b mistake on the IDE. Instead of hitting the debug button, I thought it would work the same as visual studio or eclipse in that I'd have to use the run button, yet when I hit the debug button (That looks like an actual bug) my break-point hit just fine.</p>\n"},{"tags":[],"owner":{"account_id":1540427,"reputation":1000,"user_id":1435238,"accept_rate":75,"display_name":"Bero"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1595688254,"creation_date":1595688254,"answer_id":63089689,"question_id":46692606,"body_markdown":"Android app configuration was the problem for me. I had `minifyEnabled true` in `debug` section inside `buildTypes` in `build.gradle` file. I had to change it to `minifyEnabled false`. This change forced me to set `multiDexEnabled true` as it states in this post https://stackoverflow.com/questions/51341627/android-gives-error-cannot-fit-requested-classes-in-a-single-dex-file/51341735","title":"IntelliJ IDEA: Breakpoint not being hit, and is shown without the tick, just a red dot","body":"<p>Android app configuration was the problem for me. I had <code>minifyEnabled true</code> in <code>debug</code> section inside <code>buildTypes</code> in <code>build.gradle</code> file. I had to change it to <code>minifyEnabled false</code>. This change forced me to set <code>multiDexEnabled true</code> as it states in this post <a href=\"https://stackoverflow.com/questions/51341627/android-gives-error-cannot-fit-requested-classes-in-a-single-dex-file/51341735\">Android gives error &quot;Cannot fit requested classes in a single dex file&quot;</a></p>\n"},{"tags":[],"owner":{"account_id":2661790,"reputation":757,"user_id":2301281,"accept_rate":71,"display_name":"user2301281"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1598945599,"creation_date":1598945236,"answer_id":63683184,"question_id":46692606,"body_markdown":"**Rebuild** solved my problem.\r\n\r\n    clean &amp; rebuild\r\n\r\n Invalidates caches/restart if necessary \r\n\r\n","title":"IntelliJ IDEA: Breakpoint not being hit, and is shown without the tick, just a red dot","body":"<p><strong>Rebuild</strong> solved my problem.</p>\n<pre><code>clean &amp; rebuild\n</code></pre>\n<p>Invalidates caches/restart if necessary</p>\n"},{"tags":[],"owner":{"account_id":3305753,"reputation":1,"user_id":2780618,"display_name":"Manu Yadav"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1613642486,"creation_date":1613642486,"answer_id":66257598,"question_id":46692606,"body_markdown":"My issue got resolved by just updating the IntelliJ in IntelliJIdea -&gt; Check for updates..","title":"IntelliJ IDEA: Breakpoint not being hit, and is shown without the tick, just a red dot","body":"<p>My issue got resolved by just updating the IntelliJ in IntelliJIdea -&gt; Check for updates..</p>\n"},{"tags":[],"owner":{"account_id":1519017,"reputation":833,"user_id":1419261,"display_name":"user1419261"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1614732830,"creation_date":1614732830,"answer_id":66449222,"question_id":46692606,"body_markdown":"All,\r\n\r\nThis could be a common bug in the Intellij IDEA debugger instead use the key short cuts\r\nlike F8 and F9  etc  during the debug steps for [ step over and run to debug next point etc..] and don&#39;t rely on the debug console buttons provided in the ide \r\n\r\n  ","title":"IntelliJ IDEA: Breakpoint not being hit, and is shown without the tick, just a red dot","body":"<p>All,</p>\n<p>This could be a common bug in the Intellij IDEA debugger instead use the key short cuts\nlike F8 and F9  etc  during the debug steps for [ step over and run to debug next point etc..] and don't rely on the debug console buttons provided in the ide</p>\n"},{"tags":[],"owner":{"account_id":15366720,"reputation":49,"user_id":11086011,"display_name":"M ONeill"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641502356,"creation_date":1641502356,"answer_id":70613491,"question_id":46692606,"body_markdown":"For some reason we experienced this when we upgraded from java 11 to 17.  The fix was to use a SpringBoot configuration and not a maven configuration for run/debug.","title":"IntelliJ IDEA: Breakpoint not being hit, and is shown without the tick, just a red dot","body":"<p>For some reason we experienced this when we upgraded from java 11 to 17.  The fix was to use a SpringBoot configuration and not a maven configuration for run/debug.</p>\n"},{"tags":[],"owner":{"account_id":15592199,"reputation":11,"user_id":14256319,"display_name":"hamza"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644405876,"creation_date":1643984485,"answer_id":70987892,"question_id":46692606,"body_markdown":"For me it was a port problem, I don&#39;t know why but I had to go back to port 8082 which I was using for tomcat.","title":"IntelliJ IDEA: Breakpoint not being hit, and is shown without the tick, just a red dot","body":"<p>For me it was a port problem, I don't know why but I had to go back to port 8082 which I was using for tomcat.</p>\n"},{"tags":[],"owner":{"account_id":24827088,"reputation":1,"user_id":18706729,"display_name":"user11 7532"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649107650,"creation_date":1649107650,"answer_id":71743907,"question_id":46692606,"body_markdown":"This worked for me:\r\n - Make a note of the Java version in the run configuration tab (for me its JDK 9 or later)\r\n - Go to File -&gt; Settings -&gt; Search for Java compiler -&gt; set Project Bycode version to the same version that you see in run config. \r\n - Stop and rerun debugging.\r\n \r\n\r\n[Run config image][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CWe7c.png","title":"IntelliJ IDEA: Breakpoint not being hit, and is shown without the tick, just a red dot","body":"<p>This worked for me:</p>\n<ul>\n<li>Make a note of the Java version in the run configuration tab (for me its JDK 9 or later)</li>\n<li>Go to File -&gt; Settings -&gt; Search for Java compiler -&gt; set Project Bycode version to the same version that you see in run config.</li>\n<li>Stop and rerun debugging.</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/CWe7c.png\" rel=\"nofollow noreferrer\">Run config image</a></p>\n"},{"tags":[],"owner":{"account_id":1987776,"reputation":2948,"user_id":1782556,"accept_rate":62,"display_name":"Dinesh Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665657053,"creation_date":1665657053,"answer_id":74054274,"question_id":46692606,"body_markdown":" - Here is what I did.\r\n - My code was within an anonymous class where the\r\n   debug point would not get the tick mark.\r\n - I extracted the code to a\r\n   new instance method of the main container class. Then I was able to set\r\n   debug point in the new method.","title":"IntelliJ IDEA: Breakpoint not being hit, and is shown without the tick, just a red dot","body":"<ul>\n<li>Here is what I did.</li>\n<li>My code was within an anonymous class where the\ndebug point would not get the tick mark.</li>\n<li>I extracted the code to a\nnew instance method of the main container class. Then I was able to set\ndebug point in the new method.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":13765300,"reputation":1,"user_id":11333561,"display_name":"Crystal.Q"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1671667120,"creation_date":1671471297,"answer_id":74854015,"question_id":46692606,"body_markdown":"![Disable breakpoint button](https://i.stack.imgur.com/X0c9z.png) \r\n\r\nAs shown in the picture above. \r\nYou can check whether the breakpoint is disabled, the disabled breakpoint button will be grayed out there.\r\n","title":"IntelliJ IDEA: Breakpoint not being hit, and is shown without the tick, just a red dot","body":"<p><img src=\"https://i.stack.imgur.com/X0c9z.png\" alt=\"Disable breakpoint button\" /></p>\n<p>As shown in the picture above.\nYou can check whether the breakpoint is disabled, the disabled breakpoint button will be grayed out there.</p>\n"},{"tags":[],"owner":{"account_id":285638,"reputation":10283,"user_id":584420,"accept_rate":60,"display_name":"James Jithin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678964444,"creation_date":1678964444,"answer_id":75755329,"question_id":46692606,"body_markdown":"For me, the execution was not breaking at the breakpoints set in an inner class.\r\n\r\nDid the following steps and it worked:\r\n\r\n 1. From the menu items, `Run` &gt; `View Breakpoints`\r\n 2. On the Breakpoints dialog, uncheck and check the box for all breakpoints, named `Java Line Breakpoints`\r\n\r\n[![enter image description here][1]][1]\r\n\r\n 3. Click on `Done`\r\n\r\nWhen I came across this issue again, had to do the above steps to get it working.\r\n\r\n**IntelliJ IDEA Version Details:**\r\n\r\n[![About IntelliJ Screen][2]][2]\r\n\r\n  \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/lqDDpl.png\r\n  [2]: https://i.stack.imgur.com/AKSojm.png","title":"IntelliJ IDEA: Breakpoint not being hit, and is shown without the tick, just a red dot","body":"<p>For me, the execution was not breaking at the breakpoints set in an inner class.</p>\n<p>Did the following steps and it worked:</p>\n<ol>\n<li>From the menu items, <code>Run</code> &gt; <code>View Breakpoints</code></li>\n<li>On the Breakpoints dialog, uncheck and check the box for all breakpoints, named <code>Java Line Breakpoints</code></li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/lqDDpl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lqDDpl.png\" alt=\"enter image description here\" /></a></p>\n<ol start=\"3\">\n<li>Click on <code>Done</code></li>\n</ol>\n<p>When I came across this issue again, had to do the above steps to get it working.</p>\n<p><strong>IntelliJ IDEA Version Details:</strong></p>\n<p><a href=\"https://i.stack.imgur.com/AKSojm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AKSojm.png\" alt=\"About IntelliJ Screen\" /></a></p>\n"},{"tags":[],"owner":{"account_id":15791257,"reputation":1,"user_id":11394427,"display_name":"Olasoj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680337909,"creation_date":1680337909,"answer_id":75905039,"question_id":46692606,"body_markdown":"I had the same problem, however, it was limited to one of the projects. Then I compared the two Run/Debug configurations and discovered a parameter called &quot;before run&quot; that was causing the debug indicator to disappear. The problem was resolved by removing that setting.","title":"IntelliJ IDEA: Breakpoint not being hit, and is shown without the tick, just a red dot","body":"<p>I had the same problem, however, it was limited to one of the projects. Then I compared the two Run/Debug configurations and discovered a parameter called &quot;before run&quot; that was causing the debug indicator to disappear. The problem was resolved by removing that setting.</p>\n"},{"tags":[],"owner":{"account_id":5577204,"reputation":310,"user_id":4420271,"accept_rate":78,"display_name":"philburns"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691069062,"creation_date":1691069062,"answer_id":76828530,"question_id":46692606,"body_markdown":"For Grails projects:\r\n\r\nInstead of using a &quot;Grails Run/Debug Configuration&quot; in IntelliJ, right-click `grails-app/init/Application.groovy` (or whatever subpath the file may have) and choose the debug option from there.\r\n\r\nIn my case, now only this brought back the ticks to my debug points.\r\n\r\nA Micronaut Run Configuration was created in my project and I was able to save it via the arrow next the new appearing &quot;Application&quot; entry in the Run Configurations dropdown.","title":"IntelliJ IDEA: Breakpoint not being hit, and is shown without the tick, just a red dot","body":"<p>For Grails projects:</p>\n<p>Instead of using a &quot;Grails Run/Debug Configuration&quot; in IntelliJ, right-click <code>grails-app/init/Application.groovy</code> (or whatever subpath the file may have) and choose the debug option from there.</p>\n<p>In my case, now only this brought back the ticks to my debug points.</p>\n<p>A Micronaut Run Configuration was created in my project and I was able to save it via the arrow next the new appearing &quot;Application&quot; entry in the Run Configurations dropdown.</p>\n"},{"tags":[],"owner":{"account_id":17029695,"reputation":1699,"user_id":12320109,"display_name":"Boommeister"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692685015,"creation_date":1692685015,"answer_id":76950530,"question_id":46692606,"body_markdown":"I stopped the JavaScript Debug, restartet it, but that didn&#39;t change something. I then changed to a different browser in my run configurations and suddenly the debugger worked again. But the one breakpoint that I actually wanted to hit still didn&#39;t get hit. I had to remove and set the breakpoint again, then it worked (tried that before changing the debug browser, that didn&#39;t work, only after changing the debug browser and resetting the breakoint, it worked.)\r\nI changed from Edge to Chrome, and when it happens in Chrome, I change back from Chrome to Edge (it happens 1-2 times per month... :(\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hC3Xb.png","title":"IntelliJ IDEA: Breakpoint not being hit, and is shown without the tick, just a red dot","body":"<p>I stopped the JavaScript Debug, restartet it, but that didn't change something. I then changed to a different browser in my run configurations and suddenly the debugger worked again. But the one breakpoint that I actually wanted to hit still didn't get hit. I had to remove and set the breakpoint again, then it worked (tried that before changing the debug browser, that didn't work, only after changing the debug browser and resetting the breakoint, it worked.)\nI changed from Edge to Chrome, and when it happens in Chrome, I change back from Chrome to Edge (it happens 1-2 times per month... :(</p>\n<p><a href=\"https://i.stack.imgur.com/hC3Xb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hC3Xb.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":16040319,"reputation":493,"user_id":11576882,"display_name":"Akram Rabie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696497036,"creation_date":1696426639,"answer_id":77230080,"question_id":46692606,"body_markdown":"I don&#39;t know if I should laugh or cry! I&#39;ve spent so much time to figure it out that what&#39;s going on, tried all the suggested solutions non of them worked for me!\r\nTurned out I needed click on the debugger link in the debug logs in console and open it!\r\n\r\nSo basically what I did:\r\n\r\n1- **Open the debug logs, click on the link**:\r\n\r\n    Debugger listening on ws://127.0.0.1:57292/...\r\n\r\n([Screenshot][1])\r\n\r\n2- It will open a new debugging tab\r\n\r\n3- Re-add the breakpoints, then you&#39;ll see the white checkmarks!\r\n\r\n4- Done, that&#39;s it!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/LfPhv.png","title":"IntelliJ IDEA: Breakpoint not being hit, and is shown without the tick, just a red dot","body":"<p>I don't know if I should laugh or cry! I've spent so much time to figure it out that what's going on, tried all the suggested solutions non of them worked for me!\nTurned out I needed click on the debugger link in the debug logs in console and open it!</p>\n<p>So basically what I did:</p>\n<p>1- <strong>Open the debug logs, click on the link</strong>:</p>\n<pre><code>Debugger listening on ws://127.0.0.1:57292/...\n</code></pre>\n<p>(<a href=\"https://i.stack.imgur.com/LfPhv.png\" rel=\"nofollow noreferrer\">Screenshot</a>)</p>\n<p>2- It will open a new debugging tab</p>\n<p>3- Re-add the breakpoints, then you'll see the white checkmarks!</p>\n<p>4- Done, that's it!</p>\n"}],"owner":{"account_id":4482164,"reputation":6664,"user_id":3645944,"accept_rate":90,"display_name":"Pablo Matias Gomez"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99606,"favorite_count":0,"down_vote_count":0,"up_vote_count":83,"accepted_answer_id":46693200,"answer_count":21,"score":83,"last_activity_date":1696497036,"creation_date":1507737038,"question_id":46692606,"body_markdown":"I have a gradle project, and when I put a breakpoint it is displayed as a red dot, with a tick inside, and it just works fine.\r\n\r\n[![working breakpoint][1]][1]\r\n\r\n\r\nThe problem is that in some classes (in the same project, not a dependency class), the red dot doesn&#39;t have a tick inside, and it doesn&#39;t tell why it wouldn&#39;t work. And it just doesn&#39;t work..:\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\nWhat have I tried so far:\r\n\r\n - Gradle clean &amp; build\r\n - Rebuild project\r\n - Restart debug\r\n - Invalidate caches and restart IntelliJ\r\n - Update IntelliJ to the latest version (2017.2.5)\r\n - Mute &amp; Unmute breakpoints\r\n\r\n\r\nThis question is similar, but clearly not the same: https://stackoverflow.com/questions/24612603/intellij-idea-breakpoint-not-being-hit-and-is-shown-greyed-out\r\n\r\n  [1]: https://i.stack.imgur.com/5fuW6.png\r\n  [2]: https://i.stack.imgur.com/wldt5.png","title":"IntelliJ IDEA: Breakpoint not being hit, and is shown without the tick, just a red dot","body":"<p>I have a gradle project, and when I put a breakpoint it is displayed as a red dot, with a tick inside, and it just works fine.</p>\n<p><a href=\"https://i.stack.imgur.com/5fuW6.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/5fuW6.png\" alt=\"working breakpoint\" /></a></p>\n<p>The problem is that in some classes (in the same project, not a dependency class), the red dot doesn't have a tick inside, and it doesn't tell why it wouldn't work. And it just doesn't work..:</p>\n<p><a href=\"https://i.stack.imgur.com/wldt5.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/wldt5.png\" alt=\"enter image description here\" /></a></p>\n<p>What have I tried so far:</p>\n<ul>\n<li>Gradle clean &amp; build</li>\n<li>Rebuild project</li>\n<li>Restart debug</li>\n<li>Invalidate caches and restart IntelliJ</li>\n<li>Update IntelliJ to the latest version (2017.2.5)</li>\n<li>Mute &amp; Unmute breakpoints</li>\n</ul>\n<p>This question is similar, but clearly not the same: <a href=\"https://stackoverflow.com/questions/24612603/intellij-idea-breakpoint-not-being-hit-and-is-shown-greyed-out\">Intellij IDEA: Breakpoint not being hit, and is shown greyed out</a></p>\n"},{"tags":["java","spring","spring-boot","junit","mockito"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1696413029,"post_id":77227733,"comment_id":136148523,"body_markdown":"What does the `UserRepository` look like?","body":"What does the <code>UserRepository</code> look like?"},{"owner":{"account_id":1771189,"reputation":32923,"user_id":1615903,"display_name":"1615903"},"score":0,"creation_date":1696416718,"post_id":77227733,"comment_id":136149317,"body_markdown":"What does `getAppChatMember()` look like?","body":"What does <code>getAppChatMember()</code> look like?"},{"owner":{"account_id":14194880,"reputation":1483,"user_id":10254476,"display_name":"GJohannes"},"score":0,"creation_date":1696417263,"post_id":77227733,"comment_id":136149415,"body_markdown":"When debugging your test do you see the mock implementation in method `getByTelegramId(`. Also have you tried replacing `anyLong() with any()`?","body":"When debugging your test do you see the mock implementation in method <code>getByTelegramId(</code>. Also have you tried replacing <code>anyLong() with any()</code>?"},{"owner":{"account_id":29369550,"reputation":79,"user_id":22502444,"display_name":"KripDo"},"score":0,"creation_date":1696486901,"post_id":77227733,"comment_id":136159562,"body_markdown":"@GJohannes I tried replacing it but it didn&#39;t help, the test fails with an error","body":"@GJohannes I tried replacing it but it didn&#39;t help, the test fails with an error"},{"owner":{"account_id":29369550,"reputation":79,"user_id":22502444,"display_name":"KripDo"},"score":0,"creation_date":1696487234,"post_id":77227733,"comment_id":136159610,"body_markdown":"@M.Deinum Add to my question","body":"@M.Deinum Add to my question"},{"owner":{"account_id":29369550,"reputation":79,"user_id":22502444,"display_name":"KripDo"},"score":0,"creation_date":1696487250,"post_id":77227733,"comment_id":136159612,"body_markdown":"@1615903 Add to my question","body":"@1615903 Add to my question"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1696487446,"post_id":77227733,"comment_id":136159634,"body_markdown":"Remove one of the `findByTelegramId` methods. I would keep the `Long` one as that matches the type of the id. Mockito will mock one, probably the `Long` one, whereas you are calling the `long` one. This doesn&#39;t match the matcher and does the default, return an empty optional.","body":"Remove one of the <code>findByTelegramId</code> methods. I would keep the <code>Long</code> one as that matches the type of the id. Mockito will mock one, probably the <code>Long</code> one, whereas you are calling the <code>long</code> one. This doesn&#39;t match the matcher and does the default, return an empty optional."},{"owner":{"account_id":29369550,"reputation":79,"user_id":22502444,"display_name":"KripDo"},"score":0,"creation_date":1696487738,"post_id":77227733,"comment_id":136159675,"body_markdown":"@M.Deinum Thank you, this helped, the problem was that there were 2 identical methods, but one took a primitive, and the second was an object type and Mockito did not work correctly","body":"@M.Deinum Thank you, this helped, the problem was that there were 2 identical methods, but one took a primitive, and the second was an object type and Mockito did not work correctly"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1696487800,"post_id":77227733,"comment_id":136159686,"body_markdown":"Well Mockito did work correctly, it mocked the method it needed to mock (the one with a `Long` as that, technically, is what you asked it to do).","body":"Well Mockito did work correctly, it mocked the method it needed to mock (the one with a <code>Long</code> as that, technically, is what you asked it to do)."}],"answers":[{"tags":[],"owner":{"account_id":29369550,"reputation":79,"user_id":22502444,"display_name":"KripDo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1696490180,"creation_date":1696490180,"answer_id":77234932,"question_id":77227733,"body_markdown":"The problem was that there were 2 identical methods, but one took a primitive, and the second was an object type and Mockito mock te object type method, so solution is delete one from repository.","title":"Mock is not working properly when i try to return optional","body":"<p>The problem was that there were 2 identical methods, but one took a primitive, and the second was an object type and Mockito mock te object type method, so solution is delete one from repository.</p>\n"}],"owner":{"account_id":29369550,"reputation":79,"user_id":22502444,"display_name":"KripDo"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":77234932,"answer_count":1,"score":3,"last_activity_date":1696497007,"creation_date":1696405924,"question_id":77227733,"body_markdown":"I&#39;m writing a test for a method in which the repository should return a user, I&#39;ve hardcoded this logic, but my mock returns an empty optional.\r\nHere is the method code\r\n\r\n    @Override\r\n    public AppChatMember getByTelegramId(long telegramId) {\r\n        return userRepository.findByTelegramId(telegramId).orElseThrow(() -&gt; new UserNotFoundException(\r\n                String.format(USER_NOT_FOUND_BY_TG_ID, telegramId)));\r\n    }\r\n\r\nHere is the test code\r\n\r\n    @Test\r\n    @DisplayName(&quot;Checking that method is calling find by telegram id&quot;)\r\n    void getByTelegramIdShouldCallFindByTelegramId() {\r\n        long expectedTelegramId = 123456L;\r\n        AppChatMember user = getAppChatMember();\r\n\r\n        when(userRepository.findByTelegramId(anyLong())).thenReturn(Optional.of(user));\r\n\r\n        userService.getByTelegramId(expectedTelegramId);\r\n\r\n        verify(userRepository, times(1)).findByTelegramId(expectedTelegramId);\r\n    }\r\n\r\nSetting up mocks\r\n\r\n    @SpringBootTest\r\n    @ActiveProfiles(&quot;test&quot;)\r\n    class UserServiceImplTest {\r\n\r\n    @Autowired\r\n    private UserService userService;\r\n\r\n    @MockBean\r\n    private UserRepository userRepository;\r\n\r\n    @MockBean\r\n    private GroupRepository groupRepository;\r\n\r\n    @Captor\r\n    private ArgumentCaptor&lt;AppChatMember&gt; appChatMemberCaptor;\r\n\r\nHere is getAppchatMember\r\n\r\n    AppChatMember getAppChatMember() {\r\n        AppChatMember user = new AppChatMember();\r\n        user.setNickName(&quot;Nickname&quot;);\r\n        user.setTelegramId(123456L);\r\n        user.setIsProcessing(true);\r\n        return user;\r\n    }\r\n\r\nHere is userRepository\r\n\r\n    @Repository\r\n    public interface UserRepository extends     \r\n    JpaRepository&lt;AppChatMember, Long&gt; {\r\n\r\n    boolean existsByTelegramId(long telegramId);\r\n\r\n    Optional&lt;AppChatMember&gt; findByTelegramId(long telegramId);\r\n\r\n    Optional&lt;AppChatMember&gt; findByTelegramId(Long telegramId);\r\n\r\n    List&lt;AppChatMember&gt; findByCondition(UserConditionEnum condition);\r\n}","title":"Mock is not working properly when i try to return optional","body":"<p>I'm writing a test for a method in which the repository should return a user, I've hardcoded this logic, but my mock returns an empty optional.\nHere is the method code</p>\n<pre><code>@Override\npublic AppChatMember getByTelegramId(long telegramId) {\n    return userRepository.findByTelegramId(telegramId).orElseThrow(() -&gt; new UserNotFoundException(\n            String.format(USER_NOT_FOUND_BY_TG_ID, telegramId)));\n}\n</code></pre>\n<p>Here is the test code</p>\n<pre><code>@Test\n@DisplayName(&quot;Checking that method is calling find by telegram id&quot;)\nvoid getByTelegramIdShouldCallFindByTelegramId() {\n    long expectedTelegramId = 123456L;\n    AppChatMember user = getAppChatMember();\n\n    when(userRepository.findByTelegramId(anyLong())).thenReturn(Optional.of(user));\n\n    userService.getByTelegramId(expectedTelegramId);\n\n    verify(userRepository, times(1)).findByTelegramId(expectedTelegramId);\n}\n</code></pre>\n<p>Setting up mocks</p>\n<pre><code>@SpringBootTest\n@ActiveProfiles(&quot;test&quot;)\nclass UserServiceImplTest {\n\n@Autowired\nprivate UserService userService;\n\n@MockBean\nprivate UserRepository userRepository;\n\n@MockBean\nprivate GroupRepository groupRepository;\n\n@Captor\nprivate ArgumentCaptor&lt;AppChatMember&gt; appChatMemberCaptor;\n</code></pre>\n<p>Here is getAppchatMember</p>\n<pre><code>AppChatMember getAppChatMember() {\n    AppChatMember user = new AppChatMember();\n    user.setNickName(&quot;Nickname&quot;);\n    user.setTelegramId(123456L);\n    user.setIsProcessing(true);\n    return user;\n}\n</code></pre>\n<p>Here is userRepository</p>\n<pre><code>@Repository\npublic interface UserRepository extends     \nJpaRepository&lt;AppChatMember, Long&gt; {\n\nboolean existsByTelegramId(long telegramId);\n\nOptional&lt;AppChatMember&gt; findByTelegramId(long telegramId);\n\nOptional&lt;AppChatMember&gt; findByTelegramId(Long telegramId);\n\nList&lt;AppChatMember&gt; findByCondition(UserConditionEnum condition);\n</code></pre>\n<p>}</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1640200956,"post_id":70454068,"comment_id":124541946,"body_markdown":"That looks there is a big issue...because neither `java -version` does not output anything at all... also for `mvn --version`...`mvn clean build` (`build` does not exist!)...","body":"That looks there is a big issue...because neither <code>java -version</code> does not output anything at all... also for <code>mvn --version</code>...<code>mvn clean build</code> (<code>build</code> does not exist!)..."},{"owner":{"account_id":18904985,"reputation":57,"user_id":13792295,"display_name":"Jasper Sommer"},"score":0,"creation_date":1640201240,"post_id":70454068,"comment_id":124542036,"body_markdown":"@khmarbaise any ideas? I&#39;ve never run into something like this before","body":"@khmarbaise any ideas? I&#39;ve never run into something like this before"}],"owner":{"account_id":18904985,"reputation":57,"user_id":13792295,"display_name":"Jasper Sommer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":262,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1696496826,"creation_date":1640200480,"question_id":70454068,"body_markdown":"When I try to run commands like mvn -v or mvn -help there is no output and just adds a new line. No errors or anything, just blank. My maven and java work fine because I can still build and run code in my ide, but nothing shows up on the command line. I have not changed my path or environment variables, it just stopped working overnight.\r\n\r\n[![enter image description here][1]][1][![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/aHWX2.png\r\n  [2]: https://i.stack.imgur.com/lVkhr.png","title":"Maven commands produce no output on the command line","body":"<p>When I try to run commands like mvn -v or mvn -help there is no output and just adds a new line. No errors or anything, just blank. My maven and java work fine because I can still build and run code in my ide, but nothing shows up on the command line. I have not changed my path or environment variables, it just stopped working overnight.</p>\n<p><a href=\"https://i.stack.imgur.com/aHWX2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aHWX2.png\" alt=\"enter image description here\" /></a><a href=\"https://i.stack.imgur.com/lVkhr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lVkhr.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","ssl","iis","pfx","jks"],"comments":[{"owner":{"account_id":73141,"reputation":10927,"user_id":210791,"accept_rate":57,"display_name":"satnam"},"score":0,"creation_date":1474884782,"post_id":39700065,"comment_id":66698420,"body_markdown":"this comment doesn&#39;t really answer your question, but just want to say that the java keystores are a nightmare.  I&#39;ve spent many days fixing bugs with them and trying to get them to work properly.  If you use SSLMate, it just gives you a working keystore that you can download, and so you don&#39;t have to do anything.","body":"this comment doesn&#39;t really answer your question, but just want to say that the java keystores are a nightmare.  I&#39;ve spent many days fixing bugs with them and trying to get them to work properly.  If you use SSLMate, it just gives you a working keystore that you can download, and so you don&#39;t have to do anything."},{"owner":{"account_id":2309300,"reputation":1871,"user_id":2027813,"accept_rate":65,"display_name":"RealSteel"},"score":0,"creation_date":1474885031,"post_id":39700065,"comment_id":66698602,"body_markdown":"thanks for your suggestion. will look into it.","body":"thanks for your suggestion. will look into it."}],"answers":[{"tags":[],"owner":{"account_id":2315520,"reputation":1,"user_id":2032687,"display_name":"Shueb Dalvi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1528188324,"creation_date":1528188324,"answer_id":50695866,"question_id":39700065,"body_markdown":"THe keystore file will be generated at location at which above command was entered. For e.g. above command was entered at C:\\somedir\\ then the keystore.jks will be at C:somedir\\keystore.jks\r\n\r\nHope this helps !","title":"Importing a SSL certificate into a Java Keystore via a pfx file","body":"<p>THe keystore file will be generated at location at which above command was entered. For e.g. above command was entered at C:\\somedir\\ then the keystore.jks will be at C:somedir\\keystore.jks</p>\n\n<p>Hope this helps !</p>\n"}],"owner":{"account_id":2309300,"reputation":1871,"user_id":2027813,"accept_rate":65,"display_name":"RealSteel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8741,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696496685,"creation_date":1474884666,"question_id":39700065,"body_markdown":"I&#39;ve a requirement where I need to `import a SSL Certificate` into `java keystore`.  \r\nBasically, I&#39;m new to this SSL and Java.  \r\nI&#39;m from dotnet background, so its quiet complicated doing these things.  \r\n\r\nThings I&#39;ve done :\r\n\r\nGenerated a `pfx` certificate from **IIS**.    \r\nFollowed this link from [here][1] and navigated to the `java bin folder` and `created a new keystore` by following command.  \r\n\r\n    keytool -genkey -alias customcertificate.pfx -keyalg RSA -keysize 2048 -keystore customkeystore  \r\n\r\nI&#39;ve given the same password for this command, like the password used for pfx generated file.  \r\n\r\nAfter that, I&#39;ve given all the details it asked and the keystore was created.  \r\n\r\nNow in the second step, I&#39;ve `emptied the keystore` as the tutorial said.\r\n\r\n    keytool -delete -alias customcertificate -keystore customkeystore\r\n\r\nI&#39;ve also tested with this command that nothing is in keystore  \r\n\r\n    keytool -v -list -keystore customkeystore\r\n\r\nNow in the third step, I got a little confused with the **JKS file generation**.  \r\n\r\nThe command is this way : \r\n\r\n    keytool -v -importkeystore -srckeystore customcertificate.pfx -srcstoretype PKCS12 -destkeystore customkeystore -deststoretype JKS\r\n\r\nI&#39;ve entered both source and destination passwords, and I was confused where the `JKS file would be saved`.  \r\n\r\nDo I need to create a `empty file` with JKS extension and then given the path at the importing command after **destkeystore**?\r\n\r\nCan anyone, please go through the link and guide me the correct way of doing this?   \r\n\r\nThanks in advance.\r\n \r\nThe response after the last step is : **Entry for alias le-*******-******-*****-**** successfully imported.\r\nImport command completed:  1 entries successfully imported, 0 entries failed or\r\ncancelled\r\n[Storing hivemqkeystore]**\r\n\r\n\r\n  [1]: http://jackstromberg.com/2013/05/importing-a-ssl-certificate-into-a-java-keystore-via-a-pkcs12-file/","title":"Importing a SSL certificate into a Java Keystore via a pfx file","body":"<p>I've a requirement where I need to <code>import a SSL Certificate</code> into <code>java keystore</code>.<br>\nBasically, I'm new to this SSL and Java.<br>\nI'm from dotnet background, so its quiet complicated doing these things.  </p>\n\n<p>Things I've done :</p>\n\n<p>Generated a <code>pfx</code> certificate from <strong>IIS</strong>.<br>\nFollowed this link from <a href=\"http://jackstromberg.com/2013/05/importing-a-ssl-certificate-into-a-java-keystore-via-a-pkcs12-file/\" rel=\"nofollow\">here</a> and navigated to the <code>java bin folder</code> and <code>created a new keystore</code> by following command.  </p>\n\n<pre><code>keytool -genkey -alias customcertificate.pfx -keyalg RSA -keysize 2048 -keystore customkeystore  \n</code></pre>\n\n<p>I've given the same password for this command, like the password used for pfx generated file.  </p>\n\n<p>After that, I've given all the details it asked and the keystore was created.  </p>\n\n<p>Now in the second step, I've <code>emptied the keystore</code> as the tutorial said.</p>\n\n<pre><code>keytool -delete -alias customcertificate -keystore customkeystore\n</code></pre>\n\n<p>I've also tested with this command that nothing is in keystore  </p>\n\n<pre><code>keytool -v -list -keystore customkeystore\n</code></pre>\n\n<p>Now in the third step, I got a little confused with the <strong>JKS file generation</strong>.  </p>\n\n<p>The command is this way : </p>\n\n<pre><code>keytool -v -importkeystore -srckeystore customcertificate.pfx -srcstoretype PKCS12 -destkeystore customkeystore -deststoretype JKS\n</code></pre>\n\n<p>I've entered both source and destination passwords, and I was confused where the <code>JKS file would be saved</code>.  </p>\n\n<p>Do I need to create a <code>empty file</code> with JKS extension and then given the path at the importing command after <strong>destkeystore</strong>?</p>\n\n<p>Can anyone, please go through the link and guide me the correct way of doing this?   </p>\n\n<p>Thanks in advance.</p>\n\n<p>The response after the last step is : <strong>Entry for alias le-*******-******-*****-**** successfully imported.\nImport command completed:  1 entries successfully imported, 0 entries failed or\ncancelled\n[Storing hivemqkeystore]</strong></p>\n"},{"tags":["java","multithreading","out-of-memory","heap-memory"],"comments":[{"owner":{"account_id":55621,"reputation":8047,"user_id":166611,"accept_rate":75,"display_name":"JuanZe"},"score":5,"creation_date":1256058432,"post_id":1596009,"comment_id":1460154,"body_markdown":"Check http://stackoverflow.com/questions/37335/how-to-deal-with-java-lang-outofmemoryerror-java-heap-space-error-64mb-heap-s","body":"Check <a href=\"http://stackoverflow.com/questions/37335/how-to-deal-with-java-lang-outofmemoryerror-java-heap-space-error-64mb-heap-s\" title=\"how to deal with java lang outofmemoryerror java heap space error 64mb heap s\">stackoverflow.com/questions/37335/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":43577,"reputation":54129,"user_id":127479,"accept_rate":95,"display_name":"Adamski"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1371628027,"creation_date":1256058438,"answer_id":1596030,"question_id":1596009,"body_markdown":"To increase the heap size you can use the -Xmx argument when starting Java; e.g.\r\n\r\n    -Xmx256M","title":"java.lang.OutOfMemoryError: Java heap space","body":"<p>To increase the heap size you can use the -Xmx argument when starting Java; e.g.</p>\n\n<pre><code>-Xmx256M\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28947,"reputation":90759,"user_id":77779,"accept_rate":89,"display_name":"Yishai"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1256058470,"creation_date":1256058470,"answer_id":1596035,"question_id":1596009,"body_markdown":"No, I think you are thinking of stack space. Heap space is occupied by objects. The way to increase it is -Xmx256m, replacing the 256 with the amount you need on the command line.","title":"java.lang.OutOfMemoryError: Java heap space","body":"<p>No, I think you are thinking of stack space. Heap space is occupied by objects. The way to increase it is -Xmx256m, replacing the 256 with the amount you need on the command line.</p>\n"},{"tags":[],"owner":{"account_id":445,"reputation":114845,"user_id":572,"accept_rate":90,"display_name":"Thomas Owens"},"down_vote_count":0,"up_vote_count":111,"is_accepted":true,"score":111,"last_activity_date":1463833092,"creation_date":1256058502,"answer_id":1596040,"question_id":1596009,"body_markdown":"If you want to increase your heap space, you can use `java -Xms&lt;initial heap size&gt; -Xmx&lt;maximum heap size&gt;` on the command line. By default, the values are based on the JRE version and system configuration. You can find out [more about the VM options on the Java website][1].\r\n\r\nHowever, I would recommend profiling your application to find out why your heap size is being eaten. NetBeans has a [very good profiler][2] included with it. I believe it uses the [`jvisualvm`][3] under the hood. With a profiler, you can try to find where many objects are being created, when objects get garbage collected, and more.\r\n\r\n\r\n  [1]: http://java.sun.com/javase/technologies/hotspot/vmoptions.jsp\r\n  [2]: http://profiler.netbeans.org/\r\n  [3]: http://java.sun.com/javase/6/docs/technotes/guides/visualvm/index.html","title":"java.lang.OutOfMemoryError: Java heap space","body":"<p>If you want to increase your heap space, you can use <code>java -Xms&lt;initial heap size&gt; -Xmx&lt;maximum heap size&gt;</code> on the command line. By default, the values are based on the JRE version and system configuration. You can find out <a href=\"http://java.sun.com/javase/technologies/hotspot/vmoptions.jsp\" rel=\"noreferrer\">more about the VM options on the Java website</a>.</p>\n\n<p>However, I would recommend profiling your application to find out why your heap size is being eaten. NetBeans has a <a href=\"http://profiler.netbeans.org/\" rel=\"noreferrer\">very good profiler</a> included with it. I believe it uses the <a href=\"http://java.sun.com/javase/6/docs/technotes/guides/visualvm/index.html\" rel=\"noreferrer\"><code>jvisualvm</code></a> under the hood. With a profiler, you can try to find where many objects are being created, when objects get garbage collected, and more.</p>\n"},{"tags":[],"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"down_vote_count":0,"up_vote_count":30,"is_accepted":false,"score":30,"last_activity_date":1256059626,"creation_date":1256058554,"answer_id":1596044,"question_id":1596009,"body_markdown":"1.- Yes, but it pretty much refers to the whole memory used by your program.   \r\n\r\n\r\n2.- Yes see Java VM options \r\n\r\n    -Xms&lt;size&gt;        set initial Java heap size\r\n    -Xmx&lt;size&gt;        set maximum Java heap size\r\n\r\n\r\nIe  \r\n\r\n   `java -Xmx2g` assign 2 gigabytes of ram as maximum to your app\r\n\r\nBut you should see if you don&#39;t have a memory leak first.\r\n\r\n3.- It depends on the program. Try spot memory leaks. This question would be to hard to answer.  Lately you can profile using JConsole to try to find out where your memory is going to ","title":"java.lang.OutOfMemoryError: Java heap space","body":"<p>1.- Yes, but it pretty much refers to the whole memory used by your program.   </p>\n\n<p>2.- Yes see Java VM options </p>\n\n<pre><code>-Xms&lt;size&gt;        set initial Java heap size\n-Xmx&lt;size&gt;        set maximum Java heap size\n</code></pre>\n\n<p>Ie  </p>\n\n<p><code>java -Xmx2g</code> assign 2 gigabytes of ram as maximum to your app</p>\n\n<p>But you should see if you don't have a memory leak first.</p>\n\n<p>3.- It depends on the program. Try spot memory leaks. This question would be to hard to answer.  Lately you can profile using JConsole to try to find out where your memory is going to </p>\n"},{"tags":[],"owner":{"account_id":50123,"reputation":365443,"user_id":149392,"display_name":"sepp2k"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1256058569,"creation_date":1256058569,"answer_id":1596046,"question_id":1596009,"body_markdown":"1. Local variables are located on the stack. Heap space is occupied by objects.\r\n\r\n2. You can use the `-Xmx` option.\r\n\r\n3. Basically heap space is used up everytime you allocate a new object with `new` and freed some time after the object is no longer referenced. So make sure that you don&#39;t keep references to objects that you no longer need.","title":"java.lang.OutOfMemoryError: Java heap space","body":"<ol>\n<li><p>Local variables are located on the stack. Heap space is occupied by objects.</p></li>\n<li><p>You can use the <code>-Xmx</code> option.</p></li>\n<li><p>Basically heap space is used up everytime you allocate a new object with <code>new</code> and freed some time after the object is no longer referenced. So make sure that you don't keep references to objects that you no longer need.</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":26075,"reputation":41643,"user_id":67566,"accept_rate":73,"display_name":"James Black"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1696496542,"creation_date":1256058573,"answer_id":1596047,"question_id":1596009,"body_markdown":"You may want to look at this site to learn more about memory in the JVM:\r\n[http://developer.streamezzo.com/content/learn/articles/optimization-heap-memory-usage][1]\r\n([internet-archive link][2])\r\n\r\n\r\nI have found it useful to use [visualgc](http://www.oracle.com/technetwork/java/visualgc-136680.html) to watch how the different parts of the memory model is filling up, to determine what to change.\r\n\r\nIt is difficult to determine which part of memory was filled up, hence visualgc, as you may want to just change the part that is having a problem, rather than just say, \r\n\r\n&gt; Fine! I will give 1G of RAM to the JVM.\r\n\r\nTry to be more precise about what you are doing, in the long run you will probably find the program better for it.\r\n\r\nTo determine where the memory leak may be you can use unit tests for that, by testing what was the memory before the test, and after, and if there is too big a change then you may want to examine it, but, you need to do the check while your test is still running.\r\n\r\n\r\n  [1]: http://developer.streamezzo.com/content/learn/articles/optimization-heap-memory-usage\r\n  [2]: http://web.archive.org/web/20090802065658/http://developer.streamezzo.com/content/learn/articles/optimization-heap-memory-usage","title":"java.lang.OutOfMemoryError: Java heap space","body":"<p>You may want to look at this site to learn more about memory in the JVM:\n<a href=\"http://developer.streamezzo.com/content/learn/articles/optimization-heap-memory-usage\" rel=\"nofollow noreferrer\">http://developer.streamezzo.com/content/learn/articles/optimization-heap-memory-usage</a>\n(<a href=\"http://web.archive.org/web/20090802065658/http://developer.streamezzo.com/content/learn/articles/optimization-heap-memory-usage\" rel=\"nofollow noreferrer\">internet-archive link</a>)</p>\n<p>I have found it useful to use <a href=\"http://www.oracle.com/technetwork/java/visualgc-136680.html\" rel=\"nofollow noreferrer\">visualgc</a> to watch how the different parts of the memory model is filling up, to determine what to change.</p>\n<p>It is difficult to determine which part of memory was filled up, hence visualgc, as you may want to just change the part that is having a problem, rather than just say,</p>\n<blockquote>\n<p>Fine! I will give 1G of RAM to the JVM.</p>\n</blockquote>\n<p>Try to be more precise about what you are doing, in the long run you will probably find the program better for it.</p>\n<p>To determine where the memory leak may be you can use unit tests for that, by testing what was the memory before the test, and after, and if there is too big a change then you may want to examine it, but, you need to do the check while your test is still running.</p>\n"},{"tags":[],"owner":{"account_id":66378,"reputation":3043,"user_id":194764,"accept_rate":94,"display_name":"DKSRathore"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1256232519,"creation_date":1256232519,"answer_id":1608734,"question_id":1596009,"body_markdown":"3. In most of the cases, the code is not optimized. Release those objects which you think shall not be needed further. Avoid creation of objects in your loop each time. Try to use caches. I don&#39;t know how your application is doing. But In programming, one rule of normal life applies as well\r\n  \r\n\r\n    Prevention is better than cure. &quot;Don&#39;t create unnecessary objects&quot;","title":"java.lang.OutOfMemoryError: Java heap space","body":"<ol start=\"3\">\n<li><p>In most of the cases, the code is not optimized. Release those objects which you think shall not be needed further. Avoid creation of objects in your loop each time. Try to use caches. I don't know how your application is doing. But In programming, one rule of normal life applies as well</p>\n\n<p>Prevention is better than cure. \"Don't create unnecessary objects\"</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":3149968,"reputation":427,"user_id":2663609,"display_name":"user2663609"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1448009675,"creation_date":1387364675,"answer_id":20656383,"question_id":1596009,"body_markdown":"You can get your heap memory size through below programe.\r\n\r\n    public class GetHeapSize {\r\n        public static void main(String[] args) {\r\n            long heapsize = Runtime.getRuntime().totalMemory();\r\n            System.out.println(&quot;heapsize is :: &quot; + heapsize);\r\n        }\r\n    } \r\n\r\nthen accordingly you can increase heap size also by using:\r\njava -Xmx2g\r\nhttp://www.oracle.com/technetwork/java/javase/tech/vmoptions-jsp-140102.html","title":"java.lang.OutOfMemoryError: Java heap space","body":"<p>You can get your heap memory size through below programe.</p>\n\n<pre><code>public class GetHeapSize {\n    public static void main(String[] args) {\n        long heapsize = Runtime.getRuntime().totalMemory();\n        System.out.println(\"heapsize is :: \" + heapsize);\n    }\n} \n</code></pre>\n\n<p>then accordingly you can increase heap size also by using:\njava -Xmx2g\n<a href=\"http://www.oracle.com/technetwork/java/javase/tech/vmoptions-jsp-140102.html\" rel=\"noreferrer\">http://www.oracle.com/technetwork/java/javase/tech/vmoptions-jsp-140102.html</a></p>\n"},{"tags":[],"owner":{"account_id":6453072,"reputation":37996,"user_id":4999394,"accept_rate":98,"display_name":"Ravindra babu"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1473338760,"creation_date":1455537744,"answer_id":35408889,"question_id":1596009,"body_markdown":"&gt; 1. Upto my knowledge, Heap space is occupied by instance variables only. If this is correct, then why this error occurred after running fine for sometime as space for instance variables are alloted at the time of object creation.\r\n\r\nThat means you are creating more objects in your application over a period of time continuously. New objects will be stored in heap memory and that&#39;s the reason for growth in heap memory.\r\n\r\nHeap not only contains instance variables. It will store all non-primitive data types ( Objects). These objects life time may be short (method block) or long (till the object is referenced in your application)\r\n\r\n&gt; 2. Is there any way to increase the heap space?\r\n\r\nYes. Have a look at this oracle [article][1] for more details.\r\n\r\nThere are two parameters for setting the heap size:\r\n\r\n***-Xms:&lt;size&gt;***, which sets the initial and minimum heap size\r\n\r\n***-Xmx:&lt;size&gt;***, which sets the maximum heap size\r\n\r\n&gt; 3. What changes should I made to my program so that It will grab less heap space?\r\n\r\nIt depends on your application. \r\n\r\n1. Set the maximum heap memory as per your application  requirement\r\n\r\n2. Don&#39;t cause memory leaks in your application\r\n\r\n3. If you find memory leaks in your application, find the root cause with help of profiling tools like [MAT][2], [Visual VM][3] , [jconsole][4] etc. Once you find the root cause, fix the leaks.\r\n\r\nImportant notes from oracle [article][5]\r\n\r\n&gt; Cause: The detail message Java heap space indicates object could not be allocated in the Java heap. This error does not necessarily imply a memory leak.\r\n\r\nPossible reasons:\r\n\r\n1. *Improper configuration* ( not allocating sufficiant memory)\r\n2. Application is unintentionally holding references to objects and this prevents the objects from being garbage collected\r\n3. Applications that make excessive use of finalizers. If a class has a finalize method, then objects of that type do not have their space reclaimed at garbage collection time. *If the finalizer thread cannot keep up, with the finalization queue, then the Java heap could fill up and this type of OutOfMemoryError exception would be thrown*. \r\n\r\nOn a different note, use better Garbage collection algorithms ( *CMS* or *G1GC*)\r\n\r\nHave a look at this [question][6] for understanding G1GC\r\n\r\n\r\n  [1]: https://docs.oracle.com/cd/E13150_01/jrockit_jvm/jrockit/geninfo/diagnos/memman.html\r\n  [2]: http://www.eclipse.org/mat/\r\n  [3]: http://docs.oracle.com/javase/6/docs/technotes/guides/visualvm/\r\n  [4]: http://docs.oracle.com/javase/1.5.0/docs/guide/management/jconsole.html\r\n  [5]: https://docs.oracle.com/javase/8/docs/technotes/guides/troubleshoot/memleaks002.html\r\n  [6]: https://stackoverflow.com/questions/8111310/java-7-jdk-7-garbage-collection-and-documentation/34254605#34254605","title":"java.lang.OutOfMemoryError: Java heap space","body":"<blockquote>\n  <ol>\n  <li>Upto my knowledge, Heap space is occupied by instance variables only. If this is correct, then why this error occurred after running fine for sometime as space for instance variables are alloted at the time of object creation.</li>\n  </ol>\n</blockquote>\n\n<p>That means you are creating more objects in your application over a period of time continuously. New objects will be stored in heap memory and that's the reason for growth in heap memory.</p>\n\n<p>Heap not only contains instance variables. It will store all non-primitive data types ( Objects). These objects life time may be short (method block) or long (till the object is referenced in your application)</p>\n\n<blockquote>\n  <ol start=\"2\">\n  <li>Is there any way to increase the heap space?</li>\n  </ol>\n</blockquote>\n\n<p>Yes. Have a look at this oracle <a href=\"https://docs.oracle.com/cd/E13150_01/jrockit_jvm/jrockit/geninfo/diagnos/memman.html\" rel=\"nofollow noreferrer\">article</a> for more details.</p>\n\n<p>There are two parameters for setting the heap size:</p>\n\n<p><strong><em>-Xms:</em></strong>, which sets the initial and minimum heap size</p>\n\n<p><strong><em>-Xmx:</em></strong>, which sets the maximum heap size</p>\n\n<blockquote>\n  <ol start=\"3\">\n  <li>What changes should I made to my program so that It will grab less heap space?</li>\n  </ol>\n</blockquote>\n\n<p>It depends on your application. </p>\n\n<ol>\n<li><p>Set the maximum heap memory as per your application  requirement</p></li>\n<li><p>Don't cause memory leaks in your application</p></li>\n<li><p>If you find memory leaks in your application, find the root cause with help of profiling tools like <a href=\"http://www.eclipse.org/mat/\" rel=\"nofollow noreferrer\">MAT</a>, <a href=\"http://docs.oracle.com/javase/6/docs/technotes/guides/visualvm/\" rel=\"nofollow noreferrer\">Visual VM</a> , <a href=\"http://docs.oracle.com/javase/1.5.0/docs/guide/management/jconsole.html\" rel=\"nofollow noreferrer\">jconsole</a> etc. Once you find the root cause, fix the leaks.</p></li>\n</ol>\n\n<p>Important notes from oracle <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/troubleshoot/memleaks002.html\" rel=\"nofollow noreferrer\">article</a></p>\n\n<blockquote>\n  <p>Cause: The detail message Java heap space indicates object could not be allocated in the Java heap. This error does not necessarily imply a memory leak.</p>\n</blockquote>\n\n<p>Possible reasons:</p>\n\n<ol>\n<li><em>Improper configuration</em> ( not allocating sufficiant memory)</li>\n<li>Application is unintentionally holding references to objects and this prevents the objects from being garbage collected</li>\n<li>Applications that make excessive use of finalizers. If a class has a finalize method, then objects of that type do not have their space reclaimed at garbage collection time. <em>If the finalizer thread cannot keep up, with the finalization queue, then the Java heap could fill up and this type of OutOfMemoryError exception would be thrown</em>. </li>\n</ol>\n\n<p>On a different note, use better Garbage collection algorithms ( <em>CMS</em> or <em>G1GC</em>)</p>\n\n<p>Have a look at this <a href=\"https://stackoverflow.com/questions/8111310/java-7-jdk-7-garbage-collection-and-documentation/34254605#34254605\">question</a> for understanding G1GC</p>\n"},{"tags":[],"owner":{"account_id":6468900,"reputation":350,"user_id":7533664,"display_name":"htlbydgod"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1497307765,"creation_date":1497307765,"answer_id":44509835,"question_id":1596009,"body_markdown":"In netbeans, Go to &#39;Run&#39; toolbar, --&gt; &#39;Set Project Configuration&#39; --&gt; &#39;Customise&#39; --&gt; &#39;run&#39; of its popped up windo --&gt; &#39;VM Option&#39; --&gt; fill in &#39;-Xms2048m -Xmx2048m&#39;. It could solve heap size problem.","title":"java.lang.OutOfMemoryError: Java heap space","body":"<p>In netbeans, Go to 'Run' toolbar, --> 'Set Project Configuration' --> 'Customise' --> 'run' of its popped up windo --> 'VM Option' --> fill in '-Xms2048m -Xmx2048m'. It could solve heap size problem.</p>\n"},{"tags":[],"owner":{"account_id":4249479,"reputation":1269,"user_id":3477044,"accept_rate":42,"display_name":"Aliuk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1547542817,"creation_date":1547542817,"answer_id":54195571,"question_id":1596009,"body_markdown":"To avoid that exception, if you are using JUnit and Spring try adding this in every test class:\r\n\r\n    @DirtiesContext(classMode = DirtiesContext.ClassMode.AFTER_CLASS)\r\n\r\n","title":"java.lang.OutOfMemoryError: Java heap space","body":"<p>To avoid that exception, if you are using JUnit and Spring try adding this in every test class:</p>\n\n<pre><code>@DirtiesContext(classMode = DirtiesContext.ClassMode.AFTER_CLASS)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18823098,"reputation":189,"user_id":13728648,"display_name":"RvSingh3213"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1621512031,"creation_date":1621512031,"answer_id":67619934,"question_id":1596009,"body_markdown":"I have tried all Solutions but nothing worked from above solutions\r\n\r\n***Solution***: In My case I was using 4GB RAM and due to that RAM usage comes out 98% so the required amount if Memory wasn&#39;t available. Please do look for this also.If such issue comes upgrade RAM and it will work fine.\r\n\r\n***Hope this will save someone Time***","title":"java.lang.OutOfMemoryError: Java heap space","body":"<p>I have tried all Solutions but nothing worked from above solutions</p>\n<p><em><strong>Solution</strong></em>: In My case I was using 4GB RAM and due to that RAM usage comes out 98% so the required amount if Memory wasn't available. Please do look for this also.If such issue comes upgrade RAM and it will work fine.</p>\n<p><em><strong>Hope this will save someone Time</strong></em></p>\n"}],"owner":{"account_id":52535,"reputation":34017,"user_id":157027,"accept_rate":67,"display_name":"Amit"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":362330,"favorite_count":0,"down_vote_count":0,"up_vote_count":109,"accepted_answer_id":1596040,"answer_count":12,"score":109,"last_activity_date":1696496542,"creation_date":1256058175,"question_id":1596009,"body_markdown":"I am getting the following error on execution of a multi-threading program\r\n\r\n    java.lang.OutOfMemoryError: Java heap space\r\n\r\nThe above error occured in one of the threads.\r\n\r\n1. Upto my knowledge, Heap space is occupied by instance variables only. If this is correct, then why this error occurred after running fine for sometime as space for instance variables are alloted at the time of object creation.\r\n\r\n2. Is there any way to increase the heap space?\r\n\r\n3. What changes should I made to my program so that It will grab less heap space?\r\n\r\n ","title":"java.lang.OutOfMemoryError: Java heap space","body":"<p>I am getting the following error on execution of a multi-threading program</p>\n\n<pre><code>java.lang.OutOfMemoryError: Java heap space\n</code></pre>\n\n<p>The above error occured in one of the threads.</p>\n\n<ol>\n<li><p>Upto my knowledge, Heap space is occupied by instance variables only. If this is correct, then why this error occurred after running fine for sometime as space for instance variables are alloted at the time of object creation.</p></li>\n<li><p>Is there any way to increase the heap space?</p></li>\n<li><p>What changes should I made to my program so that It will grab less heap space?</p></li>\n</ol>\n"},{"tags":["java","android","broadcastreceiver","flashlight"],"answers":[{"tags":[],"owner":{"account_id":3361554,"reputation":23,"user_id":2823248,"display_name":"Maverick"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696478787,"creation_date":1696478787,"answer_id":77234193,"question_id":77234122,"body_markdown":"I don&#39;t think there is any broadcast receiver to register for tracking flashlight/torch status. Where do you get this `android.hardware.action.Action_Torch_On` from?\r\n\r\nYou would need to utilize the camera manager to track the status of the flashlight/torch.\r\n&lt;br&gt;ref: https://developer.android.com/reference/android/hardware/camera2/CameraManager\r\n\r\nyou must also add Camera and Flashlight permissions to access the status.\r\n","title":"Android application which shows toast message when user turns on and off the Flashlight from the System","body":"<p>I don't think there is any broadcast receiver to register for tracking flashlight/torch status. Where do you get this <code>android.hardware.action.Action_Torch_On</code> from?</p>\n<p>You would need to utilize the camera manager to track the status of the flashlight/torch.\n<br>ref: <a href=\"https://developer.android.com/reference/android/hardware/camera2/CameraManager\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/hardware/camera2/CameraManager</a></p>\n<p>you must also add Camera and Flashlight permissions to access the status.</p>\n"}],"owner":{"account_id":27764711,"reputation":29,"user_id":21196290,"display_name":"Dhwani Patel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1696496517,"creation_date":1696477308,"question_id":77234122,"body_markdown":"I want to create an Android application using Java that displays the toast message when the user turns on or off the flashlight from the system and not from the app.\r\nI discovered that there is no built-in broadcaster to receive this information and I have to create the custom broadcast receiver for this.\r\nPlease someone help with the logic to build the custom broadcast receiver for the state of the flashlight.\r\n\r\n\r\n```\r\npackage com.example.lab7_torch;\r\n\r\nimport android.content.BroadcastReceiver;\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.provider.Settings;\r\nimport android.widget.Toast;\r\n\r\npublic class TorchChangeReceiver extends BroadcastReceiver {\r\n\r\n    public void onReceive(Context context, Intent intent){\r\n\r\n        if(intent != null &amp;&amp; intent.getAction() != null){\r\n            if(intent.getAction().equals(&quot;android.hardware.action.Action_Torch_On&quot;)) {\r\n                boolean isTorchOn = intent.getBooleanExtra(&quot;torch_state&quot;, false);\r\n\r\n                if (isTorchOn){\r\n                    Toast.makeText(context,&quot;Torch is On&quot;, Toast.LENGTH_SHORT).show();\r\n                } else {\r\n                    Toast.makeText(context,&quot;Torch is Off&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n            }\r\n        }\r\n\r\n}\r\n\r\n```\r\n\r\nI tried this code for a custom broadcast receiver but it is not working.\r\n","title":"Android application which shows toast message when user turns on and off the Flashlight from the System","body":"<p>I want to create an Android application using Java that displays the toast message when the user turns on or off the flashlight from the system and not from the app.\nI discovered that there is no built-in broadcaster to receive this information and I have to create the custom broadcast receiver for this.\nPlease someone help with the logic to build the custom broadcast receiver for the state of the flashlight.</p>\n<pre><code>package com.example.lab7_torch;\n\nimport android.content.BroadcastReceiver;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.provider.Settings;\nimport android.widget.Toast;\n\npublic class TorchChangeReceiver extends BroadcastReceiver {\n\n    public void onReceive(Context context, Intent intent){\n\n        if(intent != null &amp;&amp; intent.getAction() != null){\n            if(intent.getAction().equals(&quot;android.hardware.action.Action_Torch_On&quot;)) {\n                boolean isTorchOn = intent.getBooleanExtra(&quot;torch_state&quot;, false);\n\n                if (isTorchOn){\n                    Toast.makeText(context,&quot;Torch is On&quot;, Toast.LENGTH_SHORT).show();\n                } else {\n                    Toast.makeText(context,&quot;Torch is Off&quot;, Toast.LENGTH_SHORT).show();\n                }\n            }\n        }\n\n}\n\n</code></pre>\n<p>I tried this code for a custom broadcast receiver but it is not working.</p>\n"},{"tags":["java",".net","exception"],"answers":[{"tags":[],"owner":{"account_id":3519,"reputation":25773,"user_id":5077,"accept_rate":71,"display_name":"Chris Dail"},"down_vote_count":2,"up_vote_count":335,"is_accepted":false,"score":333,"last_activity_date":1463483626,"creation_date":1267044424,"answer_id":2329381,"question_id":2329358,"body_markdown":"I think the [`java.lang.UnsupportedOperationException`][1] is what you are looking for.\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/UnsupportedOperationException.html","title":"Is there anything like .NET&#39;s NotImplementedException in Java?","body":"<p>I think the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/UnsupportedOperationException.html\" rel=\"noreferrer\"><code>java.lang.UnsupportedOperationException</code></a> is what you are looking for.</p>\n"},{"tags":[],"owner":{"account_id":24844,"reputation":10434,"user_id":63436,"accept_rate":75,"display_name":"Ravi Wallau"},"down_vote_count":1,"up_vote_count":585,"is_accepted":true,"score":584,"last_activity_date":1524460262,"creation_date":1267044484,"answer_id":2329389,"question_id":2329358,"body_markdown":"[Commons Lang][1] has it. Or you could throw an [`UnsupportedOperationException`][2].\n\n  [1]: http://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/NotImplementedException.html\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/lang/UnsupportedOperationException.html","title":"Is there anything like .NET&#39;s NotImplementedException in Java?","body":"<p><a href=\"http://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/NotImplementedException.html\" rel=\"noreferrer\">Commons Lang</a> has it. Or you could throw an <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/UnsupportedOperationException.html\" rel=\"noreferrer\"><code>UnsupportedOperationException</code></a>.</p>\n"},{"tags":[],"owner":{"account_id":359077,"reputation":2022,"user_id":700254,"accept_rate":100,"display_name":"Ready4Android"},"down_vote_count":0,"up_vote_count":59,"is_accepted":false,"score":59,"last_activity_date":1696496420,"creation_date":1302377954,"answer_id":5607373,"question_id":2329358,"body_markdown":"You could do it yourself (that&#39;s what I did) - in order to not be bothered with exception handling, you simply extend RuntimeException. Your class could look something like this:\r\n\r\n    public class NotImplementedException extends RuntimeException {\r\n    \r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \r\n    \tpublic NotImplementedException(){}\r\n    }\r\n\r\nYou could extend it to take a message - but if you use the method as I do (that is, as a reminder that there is still something to be implemented), then usually there is no need for additional messages.\r\n\r\nI dare say, that I only use this method, while I am in the process of developing a system, makes it easier for me to not lose track of which methods are still not implemented properly :)","title":"Is there anything like .NET&#39;s NotImplementedException in Java?","body":"<p>You could do it yourself (that's what I did) - in order to not be bothered with exception handling, you simply extend RuntimeException. Your class could look something like this:</p>\n<pre><code>public class NotImplementedException extends RuntimeException {\n\n    private static final long serialVersionUID = 1L;\n\n    public NotImplementedException(){}\n}\n</code></pre>\n<p>You could extend it to take a message - but if you use the method as I do (that is, as a reminder that there is still something to be implemented), then usually there is no need for additional messages.</p>\n<p>I dare say, that I only use this method, while I am in the process of developing a system, makes it easier for me to not lose track of which methods are still not implemented properly :)</p>\n"},{"tags":[],"owner":{"account_id":474122,"reputation":1627,"user_id":883603,"accept_rate":75,"display_name":"Dormouse"},"down_vote_count":2,"up_vote_count":11,"is_accepted":false,"score":9,"last_activity_date":1402640148,"creation_date":1390083122,"answer_id":21210530,"question_id":2329358,"body_markdown":"No there isn&#39;t and it&#39;s probably not there, because there are very few valid uses for it. I would think twice before using it. Also, it is indeed easy to create yourself.\r\n\r\nPlease refer to [this discussion](https://stackoverflow.com/questions/410719/why-does-notimplementedexception-exist) about why it&#39;s even in .NET.\r\n\r\nI guess `UnsupportedOperationException` comes close, although it doesn&#39;t say the operation is just not implemented, but unsupported even. That could imply no valid implementation is possible. Why would the operation be unsupported? Should it even be there? \r\nInterface segregation or Liskov substitution issues maybe?\r\n\r\nIf it&#39;s work in progress I&#39;d go for `ToBeImplementedException`, but I&#39;ve never caught myself defining a concrete method and then leave it for so long it makes it into production and there would be a need for such an exception.","title":"Is there anything like .NET&#39;s NotImplementedException in Java?","body":"<p>No there isn't and it's probably not there, because there are very few valid uses for it. I would think twice before using it. Also, it is indeed easy to create yourself.</p>\n\n<p>Please refer to <a href=\"https://stackoverflow.com/questions/410719/why-does-notimplementedexception-exist\">this discussion</a> about why it's even in .NET.</p>\n\n<p>I guess <code>UnsupportedOperationException</code> comes close, although it doesn't say the operation is just not implemented, but unsupported even. That could imply no valid implementation is possible. Why would the operation be unsupported? Should it even be there? \nInterface segregation or Liskov substitution issues maybe?</p>\n\n<p>If it's work in progress I'd go for <code>ToBeImplementedException</code>, but I've never caught myself defining a concrete method and then leave it for so long it makes it into production and there would be a need for such an exception.</p>\n"},{"tags":[],"owner":{"account_id":4922,"reputation":4885,"user_id":7641,"accept_rate":83,"display_name":"Jens Bannmann"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1531047940,"creation_date":1526972791,"answer_id":50461711,"question_id":2329358,"body_markdown":"As mentioned, the JDK does not have a close match. However, my team occasionally has a use for such an exception as well. We could have gone with `UnsupportedOperationException` as suggested by other answers, but we prefer a custom exception class in our base library that has deprecated constructors:\r\n\r\n    public class NotYetImplementedException extends RuntimeException\r\n    {\r\n        /**\r\n         * @deprecated Deprecated to remind you to implement the corresponding code\r\n         *             before releasing the software.\r\n         */\r\n        @Deprecated\r\n        public NotYetImplementedException()\r\n        {\r\n        }\r\n    \r\n        /**\r\n         * @deprecated Deprecated to remind you to implement the corresponding code\r\n         *             before releasing the software.\r\n         */\r\n        @Deprecated\r\n        public NotYetImplementedException(String message)\r\n        {\r\n            super(message);\r\n        }\r\n    }\r\n\r\nThis approach has the following benefits:\r\n\r\n 1. When readers see `NotYetImplementedException`, they know that an implementation was planned and was either forgotten or is still in progress, whereas `UnsupportedOperationException` says (in line with [collection contracts][1]) that something will never be implemented. That&#39;s why we have the word &quot;yet&quot; in the class name. Also, an IDE can easily list the call sites.\r\n 2. With the deprecation warning at each call site, your IDE and static code analysis tool can remind you where you still have to implement something. (This use of deprecation may feel wrong to some, but in fact [deprecation is not limited to announcing removal][2].)\r\n 3. The constructors are deprecated, not the class. This way, you only get a deprecation warning inside the method that needs implementing, not at the `import` line (JDK 9 [fixed this][3], though).\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/List.html#add-E-\r\n  [2]: https://stackoverflow.com/a/50303393/7641\r\n  [3]: https://bugs.openjdk.java.net/browse/JDK-8032211","title":"Is there anything like .NET&#39;s NotImplementedException in Java?","body":"<p>As mentioned, the JDK does not have a close match. However, my team occasionally has a use for such an exception as well. We could have gone with <code>UnsupportedOperationException</code> as suggested by other answers, but we prefer a custom exception class in our base library that has deprecated constructors:</p>\n\n<pre><code>public class NotYetImplementedException extends RuntimeException\n{\n    /**\n     * @deprecated Deprecated to remind you to implement the corresponding code\n     *             before releasing the software.\n     */\n    @Deprecated\n    public NotYetImplementedException()\n    {\n    }\n\n    /**\n     * @deprecated Deprecated to remind you to implement the corresponding code\n     *             before releasing the software.\n     */\n    @Deprecated\n    public NotYetImplementedException(String message)\n    {\n        super(message);\n    }\n}\n</code></pre>\n\n<p>This approach has the following benefits:</p>\n\n<ol>\n<li>When readers see <code>NotYetImplementedException</code>, they know that an implementation was planned and was either forgotten or is still in progress, whereas <code>UnsupportedOperationException</code> says (in line with <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/List.html#add-E-\" rel=\"noreferrer\">collection contracts</a>) that something will never be implemented. That's why we have the word \"yet\" in the class name. Also, an IDE can easily list the call sites.</li>\n<li>With the deprecation warning at each call site, your IDE and static code analysis tool can remind you where you still have to implement something. (This use of deprecation may feel wrong to some, but in fact <a href=\"https://stackoverflow.com/a/50303393/7641\">deprecation is not limited to announcing removal</a>.)</li>\n<li>The constructors are deprecated, not the class. This way, you only get a deprecation warning inside the method that needs implementing, not at the <code>import</code> line (JDK 9 <a href=\"https://bugs.openjdk.java.net/browse/JDK-8032211\" rel=\"noreferrer\">fixed this</a>, though).</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":7281,"reputation":248647,"user_id":12597,"accept_rate":76,"display_name":"Ian Boyd"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1658029411,"creation_date":1658029411,"answer_id":73009122,"question_id":2329358,"body_markdown":"In the spirit of Stackoverflow being a [combination of Reddit and Wikipedia][1], here&#39;s some additional information, which is relevant to the question, and can also be an answer to the question.\r\n\r\nWhen you ask NetBeans IDE to create a missing implementation, it uses a [**UnsupportedOperationException**][2]:\r\n\r\n\r\n```\r\nvoid setPropertiesWithReader(IDataReader rdr)\r\n{\r\n   throw new UnsupportedOperationException(&quot;Not supported yet.&quot;); // Generated from nbfs://nbhost/SystemFileSystem/Templates/Classes/Code/GeneratedMethodBody\r\n}\r\n```\r\n\r\nIf it&#39;s good enough for NetBeans, it&#39;s good enough for us.\r\n\r\n\r\n  [1]: https://www.joelonsoftware.com/2008/09/15/stack-overflow-launches/\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/lang/UnsupportedOperationException.html","title":"Is there anything like .NET&#39;s NotImplementedException in Java?","body":"<p>In the spirit of Stackoverflow being a <a href=\"https://www.joelonsoftware.com/2008/09/15/stack-overflow-launches/\" rel=\"nofollow noreferrer\">combination of Reddit and Wikipedia</a>, here's some additional information, which is relevant to the question, and can also be an answer to the question.</p>\n<p>When you ask NetBeans IDE to create a missing implementation, it uses a <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/UnsupportedOperationException.html\" rel=\"nofollow noreferrer\"><strong>UnsupportedOperationException</strong></a>:</p>\n<pre><code>void setPropertiesWithReader(IDataReader rdr)\n{\n   throw new UnsupportedOperationException(&quot;Not supported yet.&quot;); // Generated from nbfs://nbhost/SystemFileSystem/Templates/Classes/Code/GeneratedMethodBody\n}\n</code></pre>\n<p>If it's good enough for NetBeans, it's good enough for us.</p>\n"}],"owner":{"account_id":44529,"reputation":102230,"user_id":130758,"accept_rate":76,"display_name":"devoured elysium"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":191620,"favorite_count":0,"down_vote_count":3,"up_vote_count":611,"accepted_answer_id":2329389,"answer_count":6,"score":608,"last_activity_date":1696496420,"creation_date":1267044268,"question_id":2329358,"body_markdown":"Is there anything like .NET&#39;s `NotImplementedException` in Java?","title":"Is there anything like .NET&#39;s NotImplementedException in Java?","body":"<p>Is there anything like .NET's <code>NotImplementedException</code> in Java?</p>\n"},{"tags":["java","geotools","jts"],"comments":[{"owner":{"account_id":195980,"reputation":10228,"user_id":439194,"accept_rate":100,"display_name":"Ian Turton"},"score":0,"creation_date":1696503474,"post_id":77235454,"comment_id":136162702,"body_markdown":"It sounds like eclipse is not picking up the jts jar - can you check it&#39;s on the project classpath? I think that is in build options tab","body":"It sounds like eclipse is not picking up the jts jar - can you check it&#39;s on the project classpath? I think that is in build options tab"},{"owner":{"account_id":23915267,"reputation":15,"user_id":17911757,"display_name":"Clara"},"score":0,"creation_date":1696504067,"post_id":77235454,"comment_id":136162807,"body_markdown":"Hi Ian, thank you for your response. Yes, the jts jar is in the ./classpath of eclipse. The error appears when I execute the code, not in the compilation of the project. That&#39;s the wierd part.","body":"Hi Ian, thank you for your response. Yes, the jts jar is in the ./classpath of eclipse. The error appears when I execute the code, not in the compilation of the project. That&#39;s the wierd part."},{"owner":{"account_id":195980,"reputation":10228,"user_id":439194,"accept_rate":100,"display_name":"Ian Turton"},"score":0,"creation_date":1696508464,"post_id":77235454,"comment_id":136163733,"body_markdown":"How are you executing it? this would be using the SPI factory finding code which requires all the `META-INF/services` files to be combined some how - so it&#39;s possible that one of them is being overwritten by a later one","body":"How are you executing it? this would be using the SPI factory finding code which requires all the <code>META-INF&#47;services</code> files to be combined some how - so it&#39;s possible that one of them is being overwritten by a later one"},{"owner":{"account_id":23915267,"reputation":15,"user_id":17911757,"display_name":"Clara"},"score":0,"creation_date":1696587399,"post_id":77235454,"comment_id":136175353,"body_markdown":"I&#39;m running the application with Wildfly. I can&#39;t find the meta-inf/services directory. How i can know if one of them is being overwritten by a later one?","body":"I&#39;m running the application with Wildfly. I can&#39;t find the meta-inf/services directory. How i can know if one of them is being overwritten by a later one?"},{"owner":{"account_id":195980,"reputation":10228,"user_id":439194,"accept_rate":100,"display_name":"Ian Turton"},"score":0,"creation_date":1696595105,"post_id":77235454,"comment_id":136176763,"body_markdown":"Do you drop in multiple jars or a single jar? See the bottom of the [FAQ](https://docs.geotools.org/latest/userguide/build/faq.html)","body":"Do you drop in multiple jars or a single jar? See the bottom of the <a href=\"https://docs.geotools.org/latest/userguide/build/faq.html\" rel=\"nofollow noreferrer\">FAQ</a>"},{"owner":{"account_id":23915267,"reputation":15,"user_id":17911757,"display_name":"Clara"},"score":0,"creation_date":1696835327,"post_id":77235454,"comment_id":136198700,"body_markdown":"Hi, I don&#39;t drop the project in any jar, I create a war. When I compile with maven I could use the maven plugin that is explained in the last question of the FAQ? Thank you again.","body":"Hi, I don&#39;t drop the project in any jar, I create a war. When I compile with maven I could use the maven plugin that is explained in the last question of the FAQ? Thank you again."},{"owner":{"account_id":195980,"reputation":10228,"user_id":439194,"accept_rate":100,"display_name":"Ian Turton"},"score":0,"creation_date":1696839413,"post_id":77235454,"comment_id":136199357,"body_markdown":"A correctly constructed war file should have no problem - are you sure it contains the jts jar?","body":"A correctly constructed war file should have no problem - are you sure it contains the jts jar?"},{"owner":{"account_id":23915267,"reputation":15,"user_id":17911757,"display_name":"Clara"},"score":0,"creation_date":1696842711,"post_id":77235454,"comment_id":136199972,"body_markdown":"Yes, all the jars are in the WEB-INF/lib, including the jts jar. When I compile it with maven it works fine. Is when i try to execute it with Eclipse that shows the error.","body":"Yes, all the jars are in the WEB-INF/lib, including the jts jar. When I compile it with maven it works fine. Is when i try to execute it with Eclipse that shows the error."},{"owner":{"account_id":195980,"reputation":10228,"user_id":439194,"accept_rate":100,"display_name":"Ian Turton"},"score":0,"creation_date":1696847171,"post_id":77235454,"comment_id":136200761,"body_markdown":"Then eclipse isn&#39;t picking up the jars in the WEB-INF/lib have you added that to your classpath?","body":"Then eclipse isn&#39;t picking up the jars in the WEB-INF/lib have you added that to your classpath?"},{"owner":{"account_id":23915267,"reputation":15,"user_id":17911757,"display_name":"Clara"},"score":0,"creation_date":1697177289,"post_id":77235454,"comment_id":136249439,"body_markdown":"I don&#39;t thick so. I tried to build a project only with the GeoTools and JTS libraries and there is working fine. Maybe in the project I have some libraries that are not compatible with this ones.","body":"I don&#39;t thick so. I tried to build a project only with the GeoTools and JTS libraries and there is working fine. Maybe in the project I have some libraries that are not compatible with this ones."}],"owner":{"account_id":23915267,"reputation":15,"user_id":17911757,"display_name":"Clara"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":153,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696495414,"creation_date":1696494593,"question_id":77235454,"body_markdown":"I&#39;m having some trouble trying to create a Point and Polygon with JTS and GeoTools. I don&#39;t know what is causing the problem and I&#39;ve tried everything but nothing worked for me.\r\n\r\nIf I compile the project with maven everything works fine, but when I&#39;m executing it with Eclipse, when I try to create the Geometry Factory:\r\n\r\n    GeometryFactory geometryFactory = JTSFactoryFinder.getGeometryFactory();\r\n\r\nIt appears the next error: \r\n\r\n    Caused by: java.lang.ClassNotFoundException: org.geotools.geometry.jts.JTSFactoryFinder from [Module &quot;deployment.famaWebApp.war&quot; from Service Module Loader]\r\n\r\nIt happens the same when using the constructor:\r\n\r\n    GeometryFactory geometryFactory = new GeometryFactory();;\r\n \r\nIt shows the following error:\r\n\r\n    Caused by: java.lang.ClassNotFoundException: org.locationtech.jts.geom.GeometryFactory from [Module &quot;deployment.famaWebApp.war&quot; from Service Module Loader]\r\n\r\nThese are the imports:\r\n\r\n    import org.geotools.geometry.jts.JTSFactoryFinder;\r\n    import org.json.JSONArray;\r\n    import org.json.JSONException;\r\n    import org.json.JSONObject;\r\n    import org.locationtech.jts.geom.Coordinate;\r\n    import org.locationtech.jts.geom.GeometryFactory;\r\n    import org.locationtech.jts.geom.Point;\r\n    import org.locationtech.jts.geom.Polygon;\r\n\r\nAnd this is the code:\r\n\r\n    // Patr&#243;n de expresi&#243;n regular para encontrar pares de n&#250;meros entre corchetes\r\n\tMatcher matcher;\r\n\t// GeometryFactory geometryFactory = new GeometryFactory();\r\n\tGeometryFactory geometryFactory = JTSFactoryFinder.getGeometryFactory();\r\n\tif (&quot;Point&quot;.equals(geometryType))\r\n\t{\r\n\t\tPattern patternPoint = Pattern.compile(&quot;\\\\[([\\\\d.]+),\\\\s*([\\\\d.]+),\\\\s*([\\\\d.]+)\\\\]&quot;);\r\n\t\tmatcher = patternPoint.matcher(coordinates);\r\n\t\tif (matcher.find())\r\n\t\t{\r\n\t\t\tdouble x = Double.parseDouble(matcher.group(1));\r\n\t\t\tdouble y = Double.parseDouble(matcher.group(2));\r\n\r\n\t\t\tPoint point = geometryFactory.createPoint(new Coordinate(x, y));\r\n\t\t\tgeometryFeature.put(&quot;coordinates&quot;, point);\r\n\t\t}\r\n\t}\r\n\telse\r\n\t{\r\n\t\tPattern patternPolyline = Pattern.compile(&quot;\\\\[\\\\s*([-+]?\\\\d+\\\\.\\\\d+),\\\\s*([-+]?\\\\d+\\\\.\\\\d+)\\\\s*\\\\]&quot;);\r\n\t\tmatcher = patternPolyline.matcher(coordinates);\r\n\r\n\t\t// Buscar y crear objetos Point/Polygon\r\n\t\tint i = 0;\r\n\t\tCoordinate[] coords = new Coordinate[] {};\r\n\t\twhile (matcher.find())\r\n\t\t{\r\n\t\t\tdouble x = Double.parseDouble(matcher.group(1));\r\n\t\t\tdouble y = Double.parseDouble(matcher.group(2));\r\n\r\n\t\t\tcoords[i] = new Coordinate(x, y);\r\n\t\t}\r\n\r\n\t\tPolygon polygon = geometryFactory.createPolygon(coords);\r\n\t\tgeometryFeature.put(&quot;coordinates&quot;, polygon);\r\n\t}\r\nThe pom.xml is this:\r\n\r\n    &lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.locationtech.jts&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;jts-core&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.18.2&lt;/version&gt;\r\n\t&lt;/dependency&gt;\t\r\n\t&lt;dependency&gt;\r\n\t\t &lt;groupId&gt;org.geotools&lt;/groupId&gt;\r\n\t\t &lt;artifactId&gt;gt-main&lt;/artifactId&gt;\r\n\t     &lt;version&gt;28.5&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t &lt;groupId&gt;org.geotools&lt;/groupId&gt;\r\n\t\t &lt;artifactId&gt;gt-metadata&lt;/artifactId&gt;\r\n\t\t &lt;version&gt;28.5&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nI don&#39;t know if I&#39;m missing some dependencies or if I&#39;m using the wrong version. In my project I&#39;m using java 8. \r\nI&#39;ve tried to add gt-main dependencies and is still not working. Do you think of something that I&#39;m doing wrong?\r\n\r\nThank you very much.","title":"Cannot create GeometryFactory : Caused by: java.lang.NoClassDefFoundError: org/geotools/geometry/jts/JTSFactoryFinder","body":"<p>I'm having some trouble trying to create a Point and Polygon with JTS and GeoTools. I don't know what is causing the problem and I've tried everything but nothing worked for me.</p>\n<p>If I compile the project with maven everything works fine, but when I'm executing it with Eclipse, when I try to create the Geometry Factory:</p>\n<pre><code>GeometryFactory geometryFactory = JTSFactoryFinder.getGeometryFactory();\n</code></pre>\n<p>It appears the next error:</p>\n<pre><code>Caused by: java.lang.ClassNotFoundException: org.geotools.geometry.jts.JTSFactoryFinder from [Module &quot;deployment.famaWebApp.war&quot; from Service Module Loader]\n</code></pre>\n<p>It happens the same when using the constructor:</p>\n<pre><code>GeometryFactory geometryFactory = new GeometryFactory();;\n</code></pre>\n<p>It shows the following error:</p>\n<pre><code>Caused by: java.lang.ClassNotFoundException: org.locationtech.jts.geom.GeometryFactory from [Module &quot;deployment.famaWebApp.war&quot; from Service Module Loader]\n</code></pre>\n<p>These are the imports:</p>\n<pre><code>import org.geotools.geometry.jts.JTSFactoryFinder;\nimport org.json.JSONArray;\nimport org.json.JSONException;\nimport org.json.JSONObject;\nimport org.locationtech.jts.geom.Coordinate;\nimport org.locationtech.jts.geom.GeometryFactory;\nimport org.locationtech.jts.geom.Point;\nimport org.locationtech.jts.geom.Polygon;\n</code></pre>\n<p>And this is the code:</p>\n<pre><code>// Patrón de expresión regular para encontrar pares de números entre corchetes\nMatcher matcher;\n// GeometryFactory geometryFactory = new GeometryFactory();\nGeometryFactory geometryFactory = JTSFactoryFinder.getGeometryFactory();\nif (&quot;Point&quot;.equals(geometryType))\n{\n    Pattern patternPoint = Pattern.compile(&quot;\\\\[([\\\\d.]+),\\\\s*([\\\\d.]+),\\\\s*([\\\\d.]+)\\\\]&quot;);\n    matcher = patternPoint.matcher(coordinates);\n    if (matcher.find())\n    {\n        double x = Double.parseDouble(matcher.group(1));\n        double y = Double.parseDouble(matcher.group(2));\n\n        Point point = geometryFactory.createPoint(new Coordinate(x, y));\n        geometryFeature.put(&quot;coordinates&quot;, point);\n    }\n}\nelse\n{\n    Pattern patternPolyline = Pattern.compile(&quot;\\\\[\\\\s*([-+]?\\\\d+\\\\.\\\\d+),\\\\s*([-+]?\\\\d+\\\\.\\\\d+)\\\\s*\\\\]&quot;);\n    matcher = patternPolyline.matcher(coordinates);\n\n    // Buscar y crear objetos Point/Polygon\n    int i = 0;\n    Coordinate[] coords = new Coordinate[] {};\n    while (matcher.find())\n    {\n        double x = Double.parseDouble(matcher.group(1));\n        double y = Double.parseDouble(matcher.group(2));\n\n        coords[i] = new Coordinate(x, y);\n    }\n\n    Polygon polygon = geometryFactory.createPolygon(coords);\n    geometryFeature.put(&quot;coordinates&quot;, polygon);\n}\n</code></pre>\n<p>The pom.xml is this:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.locationtech.jts&lt;/groupId&gt;\n    &lt;artifactId&gt;jts-core&lt;/artifactId&gt;\n    &lt;version&gt;1.18.2&lt;/version&gt;\n&lt;/dependency&gt;   \n&lt;dependency&gt;\n     &lt;groupId&gt;org.geotools&lt;/groupId&gt;\n     &lt;artifactId&gt;gt-main&lt;/artifactId&gt;\n     &lt;version&gt;28.5&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n     &lt;groupId&gt;org.geotools&lt;/groupId&gt;\n     &lt;artifactId&gt;gt-metadata&lt;/artifactId&gt;\n     &lt;version&gt;28.5&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I don't know if I'm missing some dependencies or if I'm using the wrong version. In my project I'm using java 8.\nI've tried to add gt-main dependencies and is still not working. Do you think of something that I'm doing wrong?</p>\n<p>Thank you very much.</p>\n"},{"tags":["java","android","android-databinding"],"comments":[{"owner":{"account_id":6972846,"reputation":319,"user_id":5348568,"display_name":"rguzman"},"score":0,"creation_date":1589458918,"post_id":61796884,"comment_id":109306129,"body_markdown":"Hello! Podr&#237;as agregar la clase de tu activity y de tu xml para poder ayudarte :)","body":"Hello! Podr&#237;as agregar la clase de tu activity y de tu xml para poder ayudarte :)"},{"owner":{"account_id":346626,"reputation":10196,"user_id":680268,"accept_rate":66,"display_name":"Stealth Rabbi"},"score":0,"creation_date":1589460858,"post_id":61796884,"comment_id":109307288,"body_markdown":"added layout and fragment code","body":"added layout and fragment code"}],"answers":[{"tags":[],"owner":{"account_id":12649988,"reputation":529,"user_id":9194489,"display_name":"Mateo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1589468456,"creation_date":1589468456,"answer_id":61800643,"question_id":61796884,"body_markdown":"The `BR` class that is generated should be at the root package of your project, you&#39;re importing the wrong one. Also the `@Bindable` annotation should go on the public getter, not the private backing field. ","title":"databinding - can&#39;t find BR class","body":"<p>The <code>BR</code> class that is generated should be at the root package of your project, you're importing the wrong one. Also the <code>@Bindable</code> annotation should go on the public getter, not the private backing field. </p>\n"},{"tags":[],"owner":{"account_id":28462674,"reputation":16,"user_id":21779185,"display_name":"Sharain Kapoor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684936951,"creation_date":1684841706,"answer_id":76314296,"question_id":61796884,"body_markdown":"**Just restart the android studio, it would work.** \r\n","title":"databinding - can&#39;t find BR class","body":"<p><strong>Just restart the android studio, it would work.</strong></p>\n"},{"tags":[],"owner":{"account_id":17299257,"reputation":159,"user_id":12529245,"display_name":"Mohammad Taqi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696495412,"creation_date":1696494467,"answer_id":77235440,"question_id":61796884,"body_markdown":"Try to resolve the issue by adding the namespace.\r\n\r\n\r\n     android {\r\n           //...\r\n            namespace = &quot;com.your.package&quot;\r\n            android.buildFeatures.dataBinding = true\r\n        }","title":"databinding - can&#39;t find BR class","body":"<p>Try to resolve the issue by adding the namespace.</p>\n<pre><code> android {\n       //...\n        namespace = &quot;com.your.package&quot;\n        android.buildFeatures.dataBinding = true\n    }\n</code></pre>\n"}],"owner":{"account_id":346626,"reputation":10196,"user_id":680268,"accept_rate":66,"display_name":"Stealth Rabbi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1983,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1696495412,"creation_date":1589457769,"question_id":61796884,"body_markdown":"I&#39;m using android databinding, using [this post][1] as a guide. I realize it&#39;s not targeting androidx databinding, but I&#39;m not using androidx on my project yet, but am using the latest android support libraries.\r\n\r\nAnyways, I have my ViewModel extending BaseObservable. The BR class is being generated and appears correct. e.g. I can ctrl-click on BR.stateText and I&#39;m navigated to teh genreated class which is in `[app]\\build\\generated\\ap_generated_sources\\debug\\com.android.databinding.library.baseAdapters\\BR`. But, IntelliJ seems to not understand that the class acutally exists when I go to compile it.\r\n\r\n```\r\nimport android.databinding.BaseObservable;\r\nimport android.databinding.Bindable;\r\nimport com.android.databinding.library.baseAdapters.BR;\r\n\r\npublic class MyViewModel extends BaseObservable {\r\n\r\n    public MyViewModel() {\r\n        mStateText = &quot;DEFAULT_TEXT_123&quot;;\r\n    }\r\n\r\n    @Bindable\r\n    private String mStateText = null;\r\n\r\n    public String getStateText() {\r\n        return mStateText;\r\n    }\r\n\r\n    public void setStateText(String stateText) {\r\n        mStateText = stateText;\r\n        notifyPropertyChanged(BR.stateText);\r\n    }\r\n}\r\n\r\n```\r\n\r\nlayout:\r\n\r\n```\r\n\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;layout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:bind=&quot;http://schemas.android.com/tools&quot;&gt;\r\n\r\n    &lt;data&gt;\r\n        &lt;variable\r\n                name=&quot;viewModel&quot;\r\n                type=&quot;my.org.MyViewModel &quot;/&gt;\r\n    &lt;/data&gt;\r\n\r\n...\r\n\r\n\r\n        &lt;Button\r\n                android:layout_width=&quot;200dp&quot; android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_row=&quot;1&quot; android:layout_column=&quot;1&quot;\r\n                android:id=&quot;@+id/system_state_btn&quot;\r\n                android:text=&quot;@{viewModel.stateText}&quot;/&gt;\r\n```\r\n\r\n\r\nFragment:\r\n\r\n```\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n\r\n        MainStatusBinding activityMainBinding = DataBindingUtil.setContentView(getActivity(), R.layout.main_status);\r\n        activityMainBinding.setViewModel(new MyViewModel());\r\n        activityMainBinding.executePendingBindings();\r\n\r\n        View rootView = inflater.inflate(R.layout.main_status, container, false);\r\n    ...\r\n\t```\r\n.\r\n\r\n```\r\nerror: cannot find symbol\r\nimport com.android.databinding.library.baseAdapters.BR;\r\n                                                   ^\r\n  symbol:   class BR\r\n  location: package com.android.databinding.library.baseAdapters\r\n```\r\n\r\nWhat is wrong with my setup that&#39;s causing IntelliJ to not recognize the class exists? Note, this fails for me when building on the commandline, so it&#39;s not specific to IntelliJ.\r\n\r\nIntelliJ: 2020.1\r\n\r\nGradle wrapper: 6.3\r\n\r\nandroid build tools: 28.0.3\r\n\r\nandroid gradle plugin: 3.5.0\r\n\r\n  [1]: https://www.journaldev.com/20292/android-mvvm-design-pattern","title":"databinding - can&#39;t find BR class","body":"<p>I'm using android databinding, using [this post][1] as a guide. I realize it's not targeting androidx databinding, but I'm not using androidx on my project yet, but am using the latest android support libraries.</p>\n\n<p>Anyways, I have my ViewModel extending BaseObservable. The BR class is being generated and appears correct. e.g. I can ctrl-click on BR.stateText and I'm navigated to teh genreated class which is in <code>[app]\\build\\generated\\ap_generated_sources\\debug\\com.android.databinding.library.baseAdapters\\BR</code>. But, IntelliJ seems to not understand that the class acutally exists when I go to compile it.</p>\n\n<pre><code>import android.databinding.BaseObservable;\nimport android.databinding.Bindable;\nimport com.android.databinding.library.baseAdapters.BR;\n\npublic class MyViewModel extends BaseObservable {\n\n    public MyViewModel() {\n        mStateText = \"DEFAULT_TEXT_123\";\n    }\n\n    @Bindable\n    private String mStateText = null;\n\n    public String getStateText() {\n        return mStateText;\n    }\n\n    public void setStateText(String stateText) {\n        mStateText = stateText;\n        notifyPropertyChanged(BR.stateText);\n    }\n}\n\n</code></pre>\n\n<p>layout:</p>\n\n<pre><code>\n&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;layout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n        xmlns:bind=\"http://schemas.android.com/tools\"&gt;\n\n    &lt;data&gt;\n        &lt;variable\n                name=\"viewModel\"\n                type=\"my.org.MyViewModel \"/&gt;\n    &lt;/data&gt;\n\n...\n\n\n        &lt;Button\n                android:layout_width=\"200dp\" android:layout_height=\"wrap_content\"\n                android:layout_row=\"1\" android:layout_column=\"1\"\n                android:id=\"@+id/system_state_btn\"\n                android:text=\"@{viewModel.stateText}\"/&gt;\n</code></pre>\n\n<p>Fragment:</p>\n\n<pre><code>    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n\n        MainStatusBinding activityMainBinding = DataBindingUtil.setContentView(getActivity(), R.layout.main_status);\n        activityMainBinding.setViewModel(new MyViewModel());\n        activityMainBinding.executePendingBindings();\n\n        View rootView = inflater.inflate(R.layout.main_status, container, false);\n    ...\n    ```\n.\n\n</code></pre>\n\n<p>error: cannot find symbol\nimport com.android.databinding.library.baseAdapters.BR;\n                                                   ^\n  symbol:   class BR\n  location: package com.android.databinding.library.baseAdapters</p>\n\n<pre><code>\nWhat is wrong with my setup that's causing IntelliJ to not recognize the class exists? Note, this fails for me when building on the commandline, so it's not specific to IntelliJ.\n\nIntelliJ: 2020.1\n\nGradle wrapper: 6.3\n\nandroid build tools: 28.0.3\n\nandroid gradle plugin: 3.5.0\n\n  [1]: https://www.journaldev.com/20292/android-mvvm-design-pattern\n</code></pre>\n"},{"tags":["java","annotation-processing"],"comments":[{"owner":{"account_id":1620331,"reputation":5165,"user_id":1497059,"display_name":"Stefan Ferstl"},"score":0,"creation_date":1420975879,"post_id":27886169,"comment_id":44174131,"body_markdown":"The warning indicates that the annotation processor will not look at your generated code anymore because you are already in the last round of processing. This could be a problem if your generated code does also have annotations to be processed (like `Factory.class in your example)","body":"The warning indicates that the annotation processor will not look at your generated code anymore because you are already in the last round of processing. This could be a problem if your generated code does also have annotations to be processed (like `Factory.class in your example)"},{"owner":{"account_id":977031,"reputation":15734,"user_id":997851,"accept_rate":60,"display_name":"sockeqwe"},"score":1,"creation_date":1420978135,"post_id":27886169,"comment_id":44174692,"body_markdown":"I do understand that, my question is how should I implement that correctly to make the warning dismiss. Should I keep track of files I have already generated to generating duplicated files? Is it possible that java source files for the same annotation are processed in two differend processing rounds? (I do not generate java code with annotations that need further process in my processor)","body":"I do understand that, my question is how should I implement that correctly to make the warning dismiss. Should I keep track of files I have already generated to generating duplicated files? Is it possible that java source files for the same annotation are processed in two differend processing rounds? (I do not generate java code with annotations that need further process in my processor)"},{"owner":{"account_id":1620331,"reputation":5165,"user_id":1497059,"display_name":"Stefan Ferstl"},"score":0,"creation_date":1420990380,"post_id":27886169,"comment_id":44178447,"body_markdown":"It is possible that the same annotation occurs in different rounds but not the same source files. Each source file is only processed once. So in the first round you&#39;ll see all annotations from the source files that are present at the beginning. As long as you don&#39;t generate code with more annotations to be processed, the second round is the last one and it will be called with an empty set of annotations. So if it is still possible in your case that the same class could be generated twice, I suggest that you keep manually track of the classes that you already created.","body":"It is possible that the same annotation occurs in different rounds but not the same source files. Each source file is only processed once. So in the first round you&#39;ll see all annotations from the source files that are present at the beginning. As long as you don&#39;t generate code with more annotations to be processed, the second round is the last one and it will be called with an empty set of annotations. So if it is still possible in your case that the same class could be generated twice, I suggest that you keep manually track of the classes that you already created."},{"owner":{"account_id":977031,"reputation":15734,"user_id":997851,"accept_rate":60,"display_name":"sockeqwe"},"score":0,"creation_date":1421019055,"post_id":27886169,"comment_id":44187902,"body_markdown":"I see ... any idea how to do that? I can annotate any class with my annotation, and out of all annotated classes I want to generate a single java file (no containing any further annotation). So I have to wait unit last round to generate java file because only in this round im sure that I have collected all classes annotated with my annotation, right? Any hint?","body":"I see ... any idea how to do that? I can annotate any class with my annotation, and out of all annotated classes I want to generate a single java file (no containing any further annotation). So I have to wait unit last round to generate java file because only in this round im sure that I have collected all classes annotated with my annotation, right? Any hint?"},{"owner":{"account_id":1620331,"reputation":5165,"user_id":1497059,"display_name":"Stefan Ferstl"},"score":0,"creation_date":1421052408,"post_id":27886169,"comment_id":44196335,"body_markdown":"Oh, I didn&#39;t realize that you need all classes processed before you can generate your code. My understanding so far was that you could generate your code during the processing rounds with the risk that classes could be generated twice. So, I think in your case it is legitimate to generate your code in the last round. The warning would still be there but it does not affect you since your generated code does not need to be processed. If you want to avoid that warning the only option I see is that you generate your code in the first round assuming that the second round is &quot;empty&quot;.","body":"Oh, I didn&#39;t realize that you need all classes processed before you can generate your code. My understanding so far was that you could generate your code during the processing rounds with the risk that classes could be generated twice. So, I think in your case it is legitimate to generate your code in the last round. The warning would still be there but it does not affect you since your generated code does not need to be processed. If you want to avoid that warning the only option I see is that you generate your code in the first round assuming that the second round is &quot;empty&quot;."},{"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"score":0,"creation_date":1696169107,"post_id":27886169,"comment_id":136116249,"body_markdown":"We need a way to disable this warning. In many cases this is completely desired behavior, and we don&#39;t want these incorrect warnings cluttering up the build output, causing confusion, and and hiding real problems. There needs to be a way to suppress this warning.","body":"We need a way to disable this warning. In many cases this is completely desired behavior, and we don&#39;t want these incorrect warnings cluttering up the build output, causing confusion, and and hiding real problems. There needs to be a way to suppress this warning."},{"owner":{"account_id":11377012,"reputation":12762,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1696181603,"post_id":27886169,"comment_id":136117630,"body_markdown":"@GarretWilson Can you please provide a minimum example to fix your issue quickly?","body":"@GarretWilson Can you please provide a minimum example to fix your issue quickly?"},{"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"score":0,"creation_date":1696186413,"post_id":27886169,"comment_id":136118199,"body_markdown":"`if(roundEnvironment.processingOver()) { /*generate a class*/ }` produces this warning. I want to suppress that warning. Is there part of that that needs more explanation?","body":"<code>if(roundEnvironment.processingOver()) { &#47;*generate a class*&#47; }</code> produces this warning. I want to suppress that warning. Is there part of that that needs more explanation?"},{"owner":{"account_id":11377012,"reputation":12762,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1696243943,"post_id":27886169,"comment_id":136123918,"body_markdown":"@GarretWilson Please provide mimimum reproducable codebase to fix this quickly.","body":"@GarretWilson Please provide mimimum reproducable codebase to fix this quickly."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1696266772,"post_id":27886169,"comment_id":136128200,"body_markdown":"@AnishB. Their use case is essentially the same as the OP (and note Garret is not the OP).","body":"@AnishB. Their use case is essentially the same as the OP (and note Garret is not the OP)."}],"answers":[{"tags":[],"owner":{"account_id":9661155,"reputation":104,"user_id":22683654,"display_name":"Roma S"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1696495412,"creation_date":1696495412,"answer_id":77235530,"question_id":27886169,"body_markdown":"In case that you generate SINGLE FILE for every KEY i suppose you just need to rework your code to something like this:  \r\n**WARN:** _pseudocode_\r\n```java\r\n private Multimap&lt;String, Element&gt; elements;\r\n private Set&lt;String&gt; files = new HashSet&lt;String&gt;();\r\n\r\n @Override\r\n  public boolean process(Set&lt;? extends TypeElement&gt; annotations, RoundEnvironment roundEnv) {\r\n\r\n    for (Element annotatedElement : roundEnv.getElementsAnnotatedWith(Factory.class)) {\r\n\r\n        elements.put(annotatedElement.getSimpleName());\r\n    }\r\n    for (Element e : elements) {\r\n       String file = resolveFile(e);\r\n       if (files.contains(file)) continue;\r\n       generateCodeForFile(file, e);\r\n       files.add(file);\r\n    }\r\n\r\n}\r\n```","title":"File for type [path to generated java file] created in the last round will not be subject to annotation processing","body":"<p>In case that you generate SINGLE FILE for every KEY i suppose you just need to rework your code to something like this:<br />\n<strong>WARN:</strong> <em>pseudocode</em></p>\n<pre class=\"lang-java prettyprint-override\"><code> private Multimap&lt;String, Element&gt; elements;\n private Set&lt;String&gt; files = new HashSet&lt;String&gt;();\n\n @Override\n  public boolean process(Set&lt;? extends TypeElement&gt; annotations, RoundEnvironment roundEnv) {\n\n    for (Element annotatedElement : roundEnv.getElementsAnnotatedWith(Factory.class)) {\n\n        elements.put(annotatedElement.getSimpleName());\n    }\n    for (Element e : elements) {\n       String file = resolveFile(e);\n       if (files.contains(file)) continue;\n       generateCodeForFile(file, e);\n       files.add(file);\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":977031,"reputation":15734,"user_id":997851,"accept_rate":60,"display_name":"sockeqwe"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1105,"favorite_count":0,"down_vote_count":1,"up_vote_count":7,"answer_count":1,"score":6,"last_activity_date":1696495412,"creation_date":1420973042,"question_id":27886169,"body_markdown":"I have written an `AnnotationProcessor` which scans the code for a certain annotation and generates a Java Class out of it. \r\nIt basically does something like this:\r\n\r\n      private Multimap&lt;String, Element&gt; elements;\r\n    \r\n     @Override\r\n      public boolean process(Set&lt;? extends TypeElement&gt; annotations, RoundEnvironment roundEnv) {\r\n    \r\n        for (Element annotatedElement : roundEnv.getElementsAnnotatedWith(Factory.class)) {\r\n\r\n            elements.put(annotatedElement.getSimpleName());\r\n        }\r\n    \r\n       generateCode(elements);\r\n    }\r\n\r\n\r\nJust in case that it matters:\r\n`generateCode()` will iterate over the `elements`, which is a multimap, and create for each key a class (key+SUFFIX is the name of the file I want to generate) with code created from information of  the list of elements (the value of the mulitimap for a certain key) associated with the key . \r\n\r\nObviously I will call `generateCode()` every round of annotation processing. Therefore, I will get an compile error that says that a file for the same name has already generated in a previous round.\r\n\r\nWhat is the correct way to handle that? I thought it would be a good idea to collect all annotations and generate it the classes only in last round, like this:\r\n\r\n      private Multimap&lt;String, Element&gt; elements;\r\n    \r\n     @Override\r\n      public boolean process(Set&lt;? extends TypeElement&gt; annotations, RoundEnvironment roundEnv) {\r\n    \r\n        for (Element annotatedElement : roundEnv.getElementsAnnotatedWith(Factory.class)) {\r\n\r\n            elements.put(annotatedElement.getSimpleName());\r\n        }\r\n    \r\n       if (roundEnv.processingOver()){\r\n          generateCode(elements);\r\n       }\r\n    }\r\n\r\n\r\nThis fixes the problem of generating the same file multiple time, but now I get the following warning:\r\n\r\nWarning:java: File for type [path to generated java file] created in the last round will not be subject to annotation processing.\r\n\r\nThe javadoc states out that you should not generate code in last round.\r\nWhen should I generate my files?\r\n\r\n\r\nAdditionally I also get this warning in IntelliJ 14 if I click on rebuild project:\r\nWarning:Output path [path to generated java file] intersects with a source root. Only files that were created by build will be cleaned.","title":"File for type [path to generated java file] created in the last round will not be subject to annotation processing","body":"<p>I have written an <code>AnnotationProcessor</code> which scans the code for a certain annotation and generates a Java Class out of it. \nIt basically does something like this:</p>\n\n<pre><code>  private Multimap&lt;String, Element&gt; elements;\n\n @Override\n  public boolean process(Set&lt;? extends TypeElement&gt; annotations, RoundEnvironment roundEnv) {\n\n    for (Element annotatedElement : roundEnv.getElementsAnnotatedWith(Factory.class)) {\n\n        elements.put(annotatedElement.getSimpleName());\n    }\n\n   generateCode(elements);\n}\n</code></pre>\n\n<p>Just in case that it matters:\n<code>generateCode()</code> will iterate over the <code>elements</code>, which is a multimap, and create for each key a class (key+SUFFIX is the name of the file I want to generate) with code created from information of  the list of elements (the value of the mulitimap for a certain key) associated with the key . </p>\n\n<p>Obviously I will call <code>generateCode()</code> every round of annotation processing. Therefore, I will get an compile error that says that a file for the same name has already generated in a previous round.</p>\n\n<p>What is the correct way to handle that? I thought it would be a good idea to collect all annotations and generate it the classes only in last round, like this:</p>\n\n<pre><code>  private Multimap&lt;String, Element&gt; elements;\n\n @Override\n  public boolean process(Set&lt;? extends TypeElement&gt; annotations, RoundEnvironment roundEnv) {\n\n    for (Element annotatedElement : roundEnv.getElementsAnnotatedWith(Factory.class)) {\n\n        elements.put(annotatedElement.getSimpleName());\n    }\n\n   if (roundEnv.processingOver()){\n      generateCode(elements);\n   }\n}\n</code></pre>\n\n<p>This fixes the problem of generating the same file multiple time, but now I get the following warning:</p>\n\n<p>Warning:java: File for type [path to generated java file] created in the last round will not be subject to annotation processing.</p>\n\n<p>The javadoc states out that you should not generate code in last round.\nWhen should I generate my files?</p>\n\n<p>Additionally I also get this warning in IntelliJ 14 if I click on rebuild project:\nWarning:Output path [path to generated java file] intersects with a source root. Only files that were created by build will be cleaned.</p>\n"},{"tags":["java","spring-boot","azure","connection-string","appinsights"],"comments":[{"owner":{"account_id":26331226,"reputation":3286,"user_id":19991670,"display_name":"Pravallika KV"},"score":0,"creation_date":1696495563,"post_id":77235499,"comment_id":136161122,"body_markdown":"Try defining multiple connection strings in the JSON file like  `{ &quot;ConnectionStrings&quot;: {&quot;conn1:&quot;value&quot;, &quot;conn2&quot;:&quot;value&quot;, &quot;conn3&quot;:&quot;value&quot;}}`.","body":"Try defining multiple connection strings in the JSON file like  <code>{ &quot;ConnectionStrings&quot;: {&quot;conn1:&quot;value&quot;, &quot;conn2&quot;:&quot;value&quot;, &quot;conn3&quot;:&quot;value&quot;}}</code>."},{"owner":{"account_id":1041234,"reputation":1441,"user_id":1047226,"accept_rate":70,"display_name":"hell_storm2004"},"score":0,"creation_date":1696496804,"post_id":77235499,"comment_id":136161386,"body_markdown":"@PravallikaKV Then how does the app know which one to connect to? Can you kindly elaborate.","body":"@PravallikaKV Then how does the app know which one to connect to? Can you kindly elaborate."}],"owner":{"account_id":1041234,"reputation":1441,"user_id":1047226,"accept_rate":70,"display_name":"hell_storm2004"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696495143,"creation_date":1696495143,"question_id":77235499,"body_markdown":"I am trying to implement App Insights for my Spring Boot/JAVA application. Is there a way to have multiple connection strings in one JSON. I have multiple JSONs at the moment for each environment (dev/test/prod). But only the connectionString changes, rest of the JSON is the same. So in order to minimize the code, I was wondering if i can have just one JSON with all three connection strings in it.\r\n\r\nAnd the application fetches the right one depending on the environment it is deploying to.\r\n\r\nI am new to App Insights, so don&#39;t know all the ins and outs. And the documentation is a bit thin. So any pointers would be helpful.","title":"Multiple Connection Strings in One JSON (App Insights)","body":"<p>I am trying to implement App Insights for my Spring Boot/JAVA application. Is there a way to have multiple connection strings in one JSON. I have multiple JSONs at the moment for each environment (dev/test/prod). But only the connectionString changes, rest of the JSON is the same. So in order to minimize the code, I was wondering if i can have just one JSON with all three connection strings in it.</p>\n<p>And the application fetches the right one depending on the environment it is deploying to.</p>\n<p>I am new to App Insights, so don't know all the ins and outs. And the documentation is a bit thin. So any pointers would be helpful.</p>\n"},{"tags":["java","lambda","java-8"],"answers":[{"tags":[],"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"down_vote_count":3,"up_vote_count":86,"is_accepted":true,"score":83,"last_activity_date":1696494968,"creation_date":1435643276,"answer_id":31130491,"question_id":31130457,"body_markdown":"**WARNING**\r\n&lt;BR/&gt;\r\nAs mentioned in comments, **[Using peek() for production code is considered bad practice][1]**&lt;BR/&gt;\r\nThe reasson is that &quot;*According to its JavaDocs, the intermediate Stream operation java.util.Stream.peek() “exists mainly to support debugging” purposes.*&quot;&lt;BR/&gt;\r\nAs a consequence, this proposed solution SHOULD NOT be used.\r\n***\r\n\r\nForgot to relate to the first code snippet. I wouldn&#39;t use `forEach` at all. Since you are collecting the elements of the `Stream` into a `List`, it would make more sense to end the `Stream` processing with `collect`. Then you would need `peek` in order to set the ID.\r\n\r\n    List&lt;Entry&gt; updatedEntries = \r\n        entryList.stream()\r\n                 .peek(e -&gt; e.setTempId(tempId))\r\n                 .collect (Collectors.toList());\r\n\r\n\r\nFor the second snippet, `forEach` can execute multiple expressions, just like any lambda expression can :\r\n\r\n    entryList.forEach(entry -&gt; {\r\n      if(entry.getA() == null){\r\n        printA();\r\n      }\r\n      if(entry.getB() == null){\r\n        printB();\r\n      }\r\n      if(entry.getC() == null){\r\n        printC();\r\n      }\r\n    });\r\n\r\nHowever (looking at your commented attempt), you can&#39;t use filter in this scenario, since you will only process some of the entries (for example, the entries for which `entry.getA() == null`) if you do.\r\n\r\n\r\n  [1]: https://rules.sonarsource.com/java/rspec-3864/","title":"Java 8 Lambda Stream forEach with multiple statements","body":"<p><strong>WARNING</strong>\n<BR/>\nAs mentioned in comments, <strong><a href=\"https://rules.sonarsource.com/java/rspec-3864/\" rel=\"nofollow noreferrer\">Using peek() for production code is considered bad practice</a></strong><BR/>\nThe reasson is that &quot;<em>According to its JavaDocs, the intermediate Stream operation java.util.Stream.peek() “exists mainly to support debugging” purposes.</em>&quot;<BR/>\nAs a consequence, this proposed solution SHOULD NOT be used.</p>\n<hr />\n<p>Forgot to relate to the first code snippet. I wouldn't use <code>forEach</code> at all. Since you are collecting the elements of the <code>Stream</code> into a <code>List</code>, it would make more sense to end the <code>Stream</code> processing with <code>collect</code>. Then you would need <code>peek</code> in order to set the ID.</p>\n<pre><code>List&lt;Entry&gt; updatedEntries = \n    entryList.stream()\n             .peek(e -&gt; e.setTempId(tempId))\n             .collect (Collectors.toList());\n</code></pre>\n<p>For the second snippet, <code>forEach</code> can execute multiple expressions, just like any lambda expression can :</p>\n<pre><code>entryList.forEach(entry -&gt; {\n  if(entry.getA() == null){\n    printA();\n  }\n  if(entry.getB() == null){\n    printB();\n  }\n  if(entry.getC() == null){\n    printC();\n  }\n});\n</code></pre>\n<p>However (looking at your commented attempt), you can't use filter in this scenario, since you will only process some of the entries (for example, the entries for which <code>entry.getA() == null</code>) if you do.</p>\n"},{"tags":[],"owner":{"account_id":6243460,"reputation":97907,"user_id":4856258,"accept_rate":100,"display_name":"Tagir Valeev"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1435643704,"creation_date":1435643704,"answer_id":31130592,"question_id":31130457,"body_markdown":"In the first case alternatively to multiline `forEach` you can use the `peek` stream operation:\r\n\r\n    entryList.stream()\r\n             .peek(entry -&gt; entry.setTempId(tempId))\r\n             .forEach(updatedEntries.add(entityManager.update(entry, entry.getId())));\r\n\r\nIn the second case I&#39;d suggest to extract the loop body to the separate method and use method reference to call it via `forEach`. Even without lambdas it would make your code more clear as the loop body is independent algorithm which processes the single entry so it might be useful in other places as well and can be tested separately.\r\n\r\n*Update after question editing*. if you have checked exceptions then you have two options: either change them to unchecked ones or don&#39;t use lambdas/streams at this piece of code at all.","title":"Java 8 Lambda Stream forEach with multiple statements","body":"<p>In the first case alternatively to multiline <code>forEach</code> you can use the <code>peek</code> stream operation:</p>\n\n<pre><code>entryList.stream()\n         .peek(entry -&gt; entry.setTempId(tempId))\n         .forEach(updatedEntries.add(entityManager.update(entry, entry.getId())));\n</code></pre>\n\n<p>In the second case I'd suggest to extract the loop body to the separate method and use method reference to call it via <code>forEach</code>. Even without lambdas it would make your code more clear as the loop body is independent algorithm which processes the single entry so it might be useful in other places as well and can be tested separately.</p>\n\n<p><em>Update after question editing</em>. if you have checked exceptions then you have two options: either change them to unchecked ones or don't use lambdas/streams at this piece of code at all.</p>\n"},{"tags":[],"owner":{"account_id":4860165,"reputation":27613,"user_id":3920048,"display_name":"Misha"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1435644926,"creation_date":1435644926,"answer_id":31130901,"question_id":31130457,"body_markdown":"You don&#39;t have to cram multiple operations into one stream/lambda.  Consider separating them into 2 statements  (using static import of `toList()`):\r\n\r\n    entryList.forEach(e-&gt;e.setTempId(tempId));\r\n\r\n    List&lt;Entry&gt; updatedEntries = entryList.stream()\r\n      .map(e-&gt;entityManager.update(entry, entry.getId()))\r\n      .collect(toList());\r\n","title":"Java 8 Lambda Stream forEach with multiple statements","body":"<p>You don't have to cram multiple operations into one stream/lambda.  Consider separating them into 2 statements  (using static import of <code>toList()</code>):</p>\n\n<pre><code>entryList.forEach(e-&gt;e.setTempId(tempId));\n\nList&lt;Entry&gt; updatedEntries = entryList.stream()\n  .map(e-&gt;entityManager.update(entry, entry.getId()))\n  .collect(toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3674070,"reputation":279,"user_id":3060544,"display_name":"user3060544"},"down_vote_count":1,"up_vote_count":24,"is_accepted":false,"score":23,"last_activity_date":1497947757,"creation_date":1497947757,"answer_id":44647896,"question_id":31130457,"body_markdown":"    List&lt;String&gt; items = new ArrayList&lt;&gt;();\r\n    items.add(&quot;A&quot;);\r\n    items.add(&quot;B&quot;);\r\n    items.add(&quot;C&quot;);\r\n    items.add(&quot;D&quot;);\r\n    items.add(&quot;E&quot;);\r\n    \r\n    //lambda\r\n    //Output : A,B,C,D,E\r\n    items.forEach(item-&gt;System.out.println(item));\r\n    \r\n    //Output : C\r\n    items.forEach(item-&gt;{\r\n        System.out.println(item);\r\n        System.out.println(item.toLowerCase());\r\n      }\r\n    });","title":"Java 8 Lambda Stream forEach with multiple statements","body":"<pre><code>List&lt;String&gt; items = new ArrayList&lt;&gt;();\nitems.add(\"A\");\nitems.add(\"B\");\nitems.add(\"C\");\nitems.add(\"D\");\nitems.add(\"E\");\n\n//lambda\n//Output : A,B,C,D,E\nitems.forEach(item-&gt;System.out.println(item));\n\n//Output : C\nitems.forEach(item-&gt;{\n    System.out.println(item);\n    System.out.println(item.toLowerCase());\n  }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":290433,"reputation":509,"user_id":591987,"display_name":"Cristiano Costantini"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1625803698,"creation_date":1625803698,"answer_id":68311156,"question_id":31130457,"body_markdown":"My preferred approach is to concatenate `java.util.function.Consumer&lt;?&gt;` with `andThen(...)`.\r\n\r\nApplied to your example, it can be written in:\r\n\r\n```\r\nentryList.stream()\r\n  .forEach(\r\n    ((Consumer&lt;Entry&gt;) entry -&gt; entry.setTempId(tempId))\r\n    .andThen(entry -&gt; updatedEntries.add(entityManager.update(entry, entry.getId())))\r\n  );\r\n```\r\n\r\nseen this way, is not that nice to read... but you can move the 2 consumers into local function variables and it would become as nice as:\r\n\r\n```\r\nConsumer&lt;Entry&gt; c1 = entry -&gt; entry.setTempId(tempId);\r\nConsumer&lt;Entry&gt; c2 = entry -&gt; updatedEntries.add(entityManager.update(entry, entry.getId()));\r\nentryList.stream().forEach(c1.andThen(c2));\r\n```\r\n\r\n\r\n----------\r\n#### Bonus\r\n\r\nYou may write your combinator of consumers like:\r\n```\r\npublic static &lt;T&gt; Consumer&lt;T&gt; combine(Consumer&lt;? super T&gt;... consumers){\r\n  return (T t) -&gt;\tArrays.stream(consumers).forEach(c -&gt; c.accept(t));\r\n}\r\n```\r\n\r\nand it will allow to re-write the above example in:\r\n\r\n```\r\nentryList.stream()\r\n  .forEach(combine(\r\n    entry -&gt; entry.setTempId(tempId),\r\n    entry -&gt; updatedEntries.add(entityManager.update(entry, entry.getId()))));\r\n```\r\n\r\n\r\nI wish `Consumer` class had a method to combine multiple consumers of the same type, maybe this `combine` already exists somewhere and I&#39;m not aware of it, so I invite you to search &#128517;","title":"Java 8 Lambda Stream forEach with multiple statements","body":"<p>My preferred approach is to concatenate <code>java.util.function.Consumer&lt;?&gt;</code> with <code>andThen(...)</code>.</p>\n<p>Applied to your example, it can be written in:</p>\n<pre><code>entryList.stream()\n  .forEach(\n    ((Consumer&lt;Entry&gt;) entry -&gt; entry.setTempId(tempId))\n    .andThen(entry -&gt; updatedEntries.add(entityManager.update(entry, entry.getId())))\n  );\n</code></pre>\n<p>seen this way, is not that nice to read... but you can move the 2 consumers into local function variables and it would become as nice as:</p>\n<pre><code>Consumer&lt;Entry&gt; c1 = entry -&gt; entry.setTempId(tempId);\nConsumer&lt;Entry&gt; c2 = entry -&gt; updatedEntries.add(entityManager.update(entry, entry.getId()));\nentryList.stream().forEach(c1.andThen(c2));\n</code></pre>\n<hr />\n<h4>Bonus</h4>\n<p>You may write your combinator of consumers like:</p>\n<pre><code>public static &lt;T&gt; Consumer&lt;T&gt; combine(Consumer&lt;? super T&gt;... consumers){\n  return (T t) -&gt;   Arrays.stream(consumers).forEach(c -&gt; c.accept(t));\n}\n</code></pre>\n<p>and it will allow to re-write the above example in:</p>\n<pre><code>entryList.stream()\n  .forEach(combine(\n    entry -&gt; entry.setTempId(tempId),\n    entry -&gt; updatedEntries.add(entityManager.update(entry, entry.getId()))));\n</code></pre>\n<p>I wish <code>Consumer</code> class had a method to combine multiple consumers of the same type, maybe this <code>combine</code> already exists somewhere and I'm not aware of it, so I invite you to search 😅</p>\n"}],"owner":{"account_id":1628531,"reputation":18498,"user_id":1503535,"accept_rate":92,"display_name":"RaceBase"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":171986,"favorite_count":0,"down_vote_count":1,"up_vote_count":69,"accepted_answer_id":31130491,"answer_count":5,"score":68,"last_activity_date":1696494968,"creation_date":1435643103,"question_id":31130457,"body_markdown":"I am still in the process of learning Lambda, please excuse me If I am doing something wrong\r\n\r\n\r\n    final Long tempId = 12345L;\r\n    List&lt;Entry&gt; updatedEntries = new LinkedList&lt;&gt;();\r\n    \r\n    for (Entry entry : entryList) {\r\n    \tentry.setTempId(tempId);\r\n        updatedEntries.add(entityManager.update(entry, entry.getId()));\r\n    }\r\n    \r\n    //entryList.stream().forEach(entry -&gt; entry.setTempId(tempId));\r\n\r\nSeems like `forEach` can be executed for one statement only. It doesn&#39;t return updated stream or function to process further. I might have selected wrong one altogether.\r\n\r\nCan someone guide me how to do this effectively?\r\n\r\nOne more question,\r\n\r\n    public void doSomething() throws Exception {\r\n        for(Entry entry: entryList){\r\n            if(entry.getA() == null){\r\n                printA() throws Exception;\r\n            }\r\n            if(entry.getB() == null){\r\n                printB() throws Exception;\r\n            }\r\n            if(entry.getC() == null){\r\n                printC() throws Exception;\r\n            }\r\n        }\r\n    }\r\n        //entryList.stream().filter(entry -&gt; entry.getA() == null).forEach(entry -&gt; printA()); something like this?\r\n\r\nHow do I convert this to Lambda expression?","title":"Java 8 Lambda Stream forEach with multiple statements","body":"<p>I am still in the process of learning Lambda, please excuse me If I am doing something wrong</p>\n\n<pre><code>final Long tempId = 12345L;\nList&lt;Entry&gt; updatedEntries = new LinkedList&lt;&gt;();\n\nfor (Entry entry : entryList) {\n    entry.setTempId(tempId);\n    updatedEntries.add(entityManager.update(entry, entry.getId()));\n}\n\n//entryList.stream().forEach(entry -&gt; entry.setTempId(tempId));\n</code></pre>\n\n<p>Seems like <code>forEach</code> can be executed for one statement only. It doesn't return updated stream or function to process further. I might have selected wrong one altogether.</p>\n\n<p>Can someone guide me how to do this effectively?</p>\n\n<p>One more question,</p>\n\n<pre><code>public void doSomething() throws Exception {\n    for(Entry entry: entryList){\n        if(entry.getA() == null){\n            printA() throws Exception;\n        }\n        if(entry.getB() == null){\n            printB() throws Exception;\n        }\n        if(entry.getC() == null){\n            printC() throws Exception;\n        }\n    }\n}\n    //entryList.stream().filter(entry -&gt; entry.getA() == null).forEach(entry -&gt; printA()); something like this?\n</code></pre>\n\n<p>How do I convert this to Lambda expression?</p>\n"},{"tags":["java","spring","spring-boot","snakeyaml"],"comments":[{"owner":{"account_id":123802,"reputation":37785,"user_id":318493,"accept_rate":67,"display_name":"RoToRa"},"score":0,"creation_date":1696501250,"post_id":77232059,"comment_id":136162316,"body_markdown":"https://ruudvanasseldonk.com/2023/01/11/the-yaml-document-from-hell","body":"<a href=\"https://ruudvanasseldonk.com/2023/01/11/the-yaml-document-from-hell\" rel=\"nofollow noreferrer\">ruudvanasseldonk.com/2023/01/11/the-yaml-document-from-hell</a>"}],"answers":[{"tags":[],"owner":{"account_id":1956083,"reputation":4432,"user_id":1759063,"accept_rate":53,"display_name":"Eljah"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1696444487,"creation_date":1696443566,"answer_id":77232071,"question_id":77232059,"body_markdown":"    acquiring:\r\n      bic: &quot;044525266&quot;\r\n\r\nQuotes did the trick. And I have no idea why, why `String` can&#39;t be read just as a `String`?","title":"I&#39;m getting totally wrong String value from the application.yaml file in the Spring Boot app.The value in yaml config is 044525266 and in var 9611958","body":"<pre><code>acquiring:\n  bic: &quot;044525266&quot;\n</code></pre>\n<p>Quotes did the trick. And I have no idea why, why <code>String</code> can't be read just as a <code>String</code>?</p>\n"},{"tags":[],"owner":{"account_id":9255220,"reputation":2956,"user_id":6874359,"display_name":"peterulb"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1696494843,"creation_date":1696444769,"answer_id":77232193,"question_id":77232059,"body_markdown":"As you&#39;ve pointed out, quotes fix the issue. The reason can be found in the [YAML 1.1 spec](https://yaml.org/spec/1.1/).\r\n\r\n\r\n&gt; **Example 2.19. Integers**\r\n&gt; \r\n&gt; canonical: 12345  \r\n&gt; decimal: +12,345  \r\n&gt; sexagesimal: 3:25:45  \r\n&gt; octal: 014 &lt;&lt;&lt;&lt;&lt;&lt;&lt;  \r\n&gt; hexadecimal: 0xC\r\n\r\nIn YAML 1.2, octals use `0o` instead of `0`.\r\n\r\nSo `044525266` in octal becomes `9611958` in decimal.\r\n\r\nFor correct usage is should use quotes  \r\n\r\n    acquiring:\r\n      bic: &quot;044525266&quot;","title":"I&#39;m getting totally wrong String value from the application.yaml file in the Spring Boot app.The value in yaml config is 044525266 and in var 9611958","body":"<p>As you've pointed out, quotes fix the issue. The reason can be found in the <a href=\"https://yaml.org/spec/1.1/\" rel=\"nofollow noreferrer\">YAML 1.1 spec</a>.</p>\n<blockquote>\n<p><strong>Example 2.19. Integers</strong></p>\n<p>canonical: 12345<br />\ndecimal: +12,345<br />\nsexagesimal: 3:25:45<br />\noctal: 014 &lt;&lt;&lt;&lt;&lt;&lt;&lt;<br />\nhexadecimal: 0xC</p>\n</blockquote>\n<p>In YAML 1.2, octals use <code>0o</code> instead of <code>0</code>.</p>\n<p>So <code>044525266</code> in octal becomes <code>9611958</code> in decimal.</p>\n<p>For correct usage is should use quotes</p>\n<pre><code>acquiring:\n  bic: &quot;044525266&quot;\n</code></pre>\n"}],"owner":{"account_id":1956083,"reputation":4432,"user_id":1759063,"accept_rate":53,"display_name":"Eljah"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77232193,"answer_count":2,"score":0,"last_activity_date":1696494843,"creation_date":1696443440,"question_id":77232059,"body_markdown":"May be this is because of leading zero?\r\n\r\n    acquiring:\r\n      bic: 044525266\r\n\r\nin yaml is loaded through \r\n\r\n       @Autowired\r\n        public AcquiringService(\r\n    ...\r\n                                @Value(&quot;${acquiring.bic}&quot;) String bic,\r\n    ...\r\n    )\r\n\r\nThe Spring Boot version is: `2.1.8.RELEASE`\r\n\r\nIt uses library `org.yaml:snakeyaml:1.23`\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bHHaz.png","title":"I&#39;m getting totally wrong String value from the application.yaml file in the Spring Boot app.The value in yaml config is 044525266 and in var 9611958","body":"<p>May be this is because of leading zero?</p>\n<pre><code>acquiring:\n  bic: 044525266\n</code></pre>\n<p>in yaml is loaded through</p>\n<pre><code>   @Autowired\n    public AcquiringService(\n...\n                            @Value(&quot;${acquiring.bic}&quot;) String bic,\n...\n)\n</code></pre>\n<p>The Spring Boot version is: <code>2.1.8.RELEASE</code></p>\n<p>It uses library <code>org.yaml:snakeyaml:1.23</code></p>\n<p><a href=\"https://i.stack.imgur.com/bHHaz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bHHaz.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","date","datetimeformatter"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1696424467,"post_id":77229597,"comment_id":136150863,"body_markdown":"Are you sure you need an old-fashioned `Date`? If you are not, I recommend you stick to `ZonedDateTime` (or `OffsetDateTime`).","body":"Are you sure you need an old-fashioned <code>Date</code>? If you are not, I recommend you stick to <code>ZonedDateTime</code> (or <code>OffsetDateTime</code>)."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1696424540,"post_id":77229597,"comment_id":136150881,"body_markdown":"If I remember correctly from reading the RFC, there are numerous variants that `DateTimeFormatter.RFC_1123_DATE_TIME` does not cover.","body":"If I remember correctly from reading the RFC, there are numerous variants that <code>DateTimeFormatter.RFC_1123_DATE_TIME</code> does not cover."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1696441584,"post_id":77229597,"comment_id":136154655,"body_markdown":"If I understand RFC 1123 and RFC 822 correctly, everything in parentheses is a *comment* meant for humans and should be ignored by the computer. In your case the `(CET)`. If the comment always comes at the end, you can parse as much of the string as you can and ignore the rest: `OffsetDateTime.from(DateTimeFormatter.RFC_1123_DATE_TIME.parse(&quot;Tue, 26 Nov 2019 09:00:01 +0100 (CET)&quot;, new ParsePosition(0)))`. This yields `2019-11-26T09:00:01+01:00`.","body":"If I understand RFC 1123 and RFC 822 correctly, everything in parentheses is a <i>comment</i> meant for humans and should be ignored by the computer. In your case the <code>(CET)</code>. If the comment always comes at the end, you can parse as much of the string as you can and ignore the rest: <code>OffsetDateTime.from(DateTimeFormatter.RFC_1123_DATE_TIME.par&zwnj;&#8203;se(&quot;Tue, 26 Nov 2019 09:00:01 +0100 (CET)&quot;, new ParsePosition(0)))</code>. This yields <code>2019-11-26T09:00:01+01:00</code>."}],"answers":[{"tags":[],"owner":{"account_id":29596343,"reputation":56,"user_id":22682764,"display_name":"Vindurrin"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1696424855,"creation_date":1696423442,"answer_id":77229668,"question_id":77229597,"body_markdown":"Yes, you can use a custom `DateTimeFormatter` to parse the string in the format &quot;Tue, 26 Nov 2019 09:00:01 +0100 (CET)&quot;. The format you provided contains additional information in parentheses, which is not part of the standard RFC 1123 format. \r\n\r\nHere&#39;s an example of how you might have some code to handle that case using a custom `DateTimeFormatter`:\r\n\r\n```\r\nimport java.time.*;\r\nimport java.time.format.*;\r\nimport java.util.*;\r\n\r\nString dateString = &quot;Tue, 26 Nov 2019 09:00:01 +0100 (CET)&quot;;\r\n\r\nDateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;EEE, d MMM yyyy HH:mm:ss Z (zzz)&quot;);\r\nZonedDateTime zonedDateTime = ZonedDateTime.parse(dateString, formatter);\r\nInstant instant = zonedDateTime.toInstant();\r\nDate date = Date.from(instant);\r\n```\r\n\r\nThis defined a custom `DateTimeFormatter` matching the format &quot;EEE, d MMM yyyy HH:mm:ss Z (zzz)&quot;. \r\n\r\n- EEE: day of the week\r\n- d: day of the month\r\n- MMM: abbreviated month name\r\n- yyyy: year\r\n- HH: hours\r\n- mm: minutes\r\n- ss: seconds\r\n- Z: time zone offset\r\n- zzz: time zone abbreviation\r\n\r\nFollowing that, parse `dateString` using the formatter, returning a `ZonedDateTime` object. Grab the `Instant` from `ZonedDateTime` and convert it back to `Date`. This should successfully parse the string you provided and do so via a `Date` object.\r\n\r\nSample Java Class\r\n```\r\nimport java.time.*;\r\nimport java.time.format.*;\r\nimport java.util.*;\r\n\r\npublic class DateTest{\r\n    public static void main(String[] args) {\r\n        String dateString = &quot;Tue, 26 Nov 2019 09:00:01 +0100 (CET)&quot;;\r\n\r\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;EEE, d MMM yyyy HH:mm:ss Z (zzz)&quot;);\r\n        ZonedDateTime zonedDateTime = ZonedDateTime.parse(dateString, formatter);\r\n        Instant instant = zonedDateTime.toInstant();\r\n        Date date = Date.from(instant);\r\n\r\n        System.out.println(date);\r\n    }\r\n}\r\n```\r\n\r\nGiven the string: &quot;Tue, 26 Nov 2019 09:00:01 +0100 (CET)&quot;\r\nThis program prints: Tue Nov 26 03:00:01 EST 2019.\r\n\r\nPerhaps I did not need to specify parsing because my installation is already set to an English speaking locale, but you can try the Locale.ROOT parameter at the end of the parser. \r\n","title":"Error parsing Date with RFC_1123_DATE_TIME (Java)","body":"<p>Yes, you can use a custom <code>DateTimeFormatter</code> to parse the string in the format &quot;Tue, 26 Nov 2019 09:00:01 +0100 (CET)&quot;. The format you provided contains additional information in parentheses, which is not part of the standard RFC 1123 format.</p>\n<p>Here's an example of how you might have some code to handle that case using a custom <code>DateTimeFormatter</code>:</p>\n<pre><code>import java.time.*;\nimport java.time.format.*;\nimport java.util.*;\n\nString dateString = &quot;Tue, 26 Nov 2019 09:00:01 +0100 (CET)&quot;;\n\nDateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;EEE, d MMM yyyy HH:mm:ss Z (zzz)&quot;);\nZonedDateTime zonedDateTime = ZonedDateTime.parse(dateString, formatter);\nInstant instant = zonedDateTime.toInstant();\nDate date = Date.from(instant);\n</code></pre>\n<p>This defined a custom <code>DateTimeFormatter</code> matching the format &quot;EEE, d MMM yyyy HH:mm:ss Z (zzz)&quot;.</p>\n<ul>\n<li>EEE: day of the week</li>\n<li>d: day of the month</li>\n<li>MMM: abbreviated month name</li>\n<li>yyyy: year</li>\n<li>HH: hours</li>\n<li>mm: minutes</li>\n<li>ss: seconds</li>\n<li>Z: time zone offset</li>\n<li>zzz: time zone abbreviation</li>\n</ul>\n<p>Following that, parse <code>dateString</code> using the formatter, returning a <code>ZonedDateTime</code> object. Grab the <code>Instant</code> from <code>ZonedDateTime</code> and convert it back to <code>Date</code>. This should successfully parse the string you provided and do so via a <code>Date</code> object.</p>\n<p>Sample Java Class</p>\n<pre><code>import java.time.*;\nimport java.time.format.*;\nimport java.util.*;\n\npublic class DateTest{\n    public static void main(String[] args) {\n        String dateString = &quot;Tue, 26 Nov 2019 09:00:01 +0100 (CET)&quot;;\n\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;EEE, d MMM yyyy HH:mm:ss Z (zzz)&quot;);\n        ZonedDateTime zonedDateTime = ZonedDateTime.parse(dateString, formatter);\n        Instant instant = zonedDateTime.toInstant();\n        Date date = Date.from(instant);\n\n        System.out.println(date);\n    }\n}\n</code></pre>\n<p>Given the string: &quot;Tue, 26 Nov 2019 09:00:01 +0100 (CET)&quot;\nThis program prints: Tue Nov 26 03:00:01 EST 2019.</p>\n<p>Perhaps I did not need to specify parsing because my installation is already set to an English speaking locale, but you can try the Locale.ROOT parameter at the end of the parser.</p>\n"},{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1696494567,"creation_date":1696423545,"answer_id":77229680,"question_id":77229597,"body_markdown":"According to [RFC 1123 section 5.2.14][1] and [RFC 822 section 5][2], the `(CET)` shouldn&#39;t be there. The zone should be either the zone (`CET`) or the offset (`+0100`) but not both. However, [RFC_1123_DATE_TIME][3] mentions this:\r\n\r\n&gt; This returns an immutable formatter capable of formatting and parsing most of the RFC-1123 format. RFC-1123 updates RFC-822 changing the year from two digits to four. This implementation requires a four digit year. This implementation also does not handle North American or military zone names, only &#39;GMT&#39; and offset amounts.\r\n\r\nIn other words, unless the time zone is `GMT`, only offsets are supported.\r\n\r\nIf you still need to support dates like the example you gave you&#39;ll need to create your own `DateTimeFormatter` instance. When using a `DateTimeFormatterBuilder` you can include [optional parts][4].\r\n\r\nEdit: here&#39;s a formatter you can use:\r\n```\r\nnew DateTimeFormatterBuilder()\r\n        .append(DateTimeFormatter.RFC_1123_DATE_TIME)\r\n        .appendOptional(DateTimeFormatter.ofPattern(&quot; (z)&quot;))\r\n        .toFormatter(Locale.ROOT)\r\n```\r\n\r\n  [1]: https://www.rfc-editor.org/rfc/rfc1123#page-55\r\n  [2]: https://www.rfc-editor.org/rfc/rfc822#section-5\r\n  [3]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/format/DateTimeFormatter.html#RFC_1123_DATE_TIME\r\n  [4]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/format/DateTimeFormatterBuilder.html#appendOptional(java.time.format.DateTimeFormatter)","title":"Error parsing Date with RFC_1123_DATE_TIME (Java)","body":"<p>According to <a href=\"https://www.rfc-editor.org/rfc/rfc1123#page-55\" rel=\"nofollow noreferrer\">RFC 1123 section 5.2.14</a> and <a href=\"https://www.rfc-editor.org/rfc/rfc822#section-5\" rel=\"nofollow noreferrer\">RFC 822 section 5</a>, the <code>(CET)</code> shouldn't be there. The zone should be either the zone (<code>CET</code>) or the offset (<code>+0100</code>) but not both. However, <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/format/DateTimeFormatter.html#RFC_1123_DATE_TIME\" rel=\"nofollow noreferrer\">RFC_1123_DATE_TIME</a> mentions this:</p>\n<blockquote>\n<p>This returns an immutable formatter capable of formatting and parsing most of the RFC-1123 format. RFC-1123 updates RFC-822 changing the year from two digits to four. This implementation requires a four digit year. This implementation also does not handle North American or military zone names, only 'GMT' and offset amounts.</p>\n</blockquote>\n<p>In other words, unless the time zone is <code>GMT</code>, only offsets are supported.</p>\n<p>If you still need to support dates like the example you gave you'll need to create your own <code>DateTimeFormatter</code> instance. When using a <code>DateTimeFormatterBuilder</code> you can include <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/format/DateTimeFormatterBuilder.html#appendOptional(java.time.format.DateTimeFormatter)\" rel=\"nofollow noreferrer\">optional parts</a>.</p>\n<p>Edit: here's a formatter you can use:</p>\n<pre><code>new DateTimeFormatterBuilder()\n        .append(DateTimeFormatter.RFC_1123_DATE_TIME)\n        .appendOptional(DateTimeFormatter.ofPattern(&quot; (z)&quot;))\n        .toFormatter(Locale.ROOT)\n</code></pre>\n"}],"owner":{"account_id":16026181,"reputation":1072,"user_id":11566361,"display_name":"Paolo Mossini"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77229668,"answer_count":2,"score":0,"last_activity_date":1696494567,"creation_date":1696422857,"question_id":77229597,"body_markdown":"I am extracting a Date object from a String using this piece of code:\r\n```\r\nDate.from(ZonedDateTime.parse(exchange.getIn().getHeader(&quot;Date&quot;).toString(), DateTimeFormatter.RFC_1123_DATE_TIME).toInstant());\r\n```\r\nBut I have errors when the String is something like that: `Tue, 26 Nov 2019 09:00:01 +0100 (CET)`\r\n\r\nHow can I parse this kind of string obtaining a Date object? Do I need to use another DateTimeFormatter?","title":"Error parsing Date with RFC_1123_DATE_TIME (Java)","body":"<p>I am extracting a Date object from a String using this piece of code:</p>\n<pre><code>Date.from(ZonedDateTime.parse(exchange.getIn().getHeader(&quot;Date&quot;).toString(), DateTimeFormatter.RFC_1123_DATE_TIME).toInstant());\n</code></pre>\n<p>But I have errors when the String is something like that: <code>Tue, 26 Nov 2019 09:00:01 +0100 (CET)</code></p>\n<p>How can I parse this kind of string obtaining a Date object? Do I need to use another DateTimeFormatter?</p>\n"},{"tags":["java","java-8","hashmap","java-stream"],"comments":[{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1550600595,"post_id":54772606,"comment_id":96325426,"body_markdown":"*&quot;is there easy, concise way to do it?&quot;* Streams would seem to be what you&#39;re looking for.","body":"<i>&quot;is there easy, concise way to do it?&quot;</i> Streams would seem to be what you&#39;re looking for."},{"owner":{"account_id":7491292,"reputation":288,"user_id":5692905,"display_name":"togise"},"score":0,"creation_date":1550600607,"post_id":54772606,"comment_id":96325432,"body_markdown":"It seems you need to do a filter on the map. See https://www.mkyong.com/java8/java-8-filter-a-map-examples/","body":"It seems you need to do a filter on the map. See <a href=\"https://www.mkyong.com/java8/java-8-filter-a-map-examples/\" rel=\"nofollow noreferrer\">mkyong.com/java8/java-8-filter-a-map-examples</a>"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1696495089,"post_id":54772606,"comment_id":136161004,"body_markdown":"If you want ordering you should be using a `TreeMap`.","body":"If you want ordering you should be using a <code>TreeMap</code>."}],"answers":[{"tags":[],"owner":{"account_id":8153102,"reputation":15213,"user_id":6139527,"display_name":"Nicholas K"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1550600838,"creation_date":1550600838,"answer_id":54772727,"question_id":54772606,"body_markdown":"This will do the trick using streams :\r\n\r\n    expirationMap.entrySet().stream().filter(e -&gt; e.getValue() &gt; 3)\r\n                 .forEach(e -&gt; {\r\n    \t\t\t     System.out.println(&quot;key &quot; + e.getKey() + &quot;value&quot; + e.getValue());\r\n    \t\t      });","title":"Java Hashmap: get all keys greater than X value","body":"<p>This will do the trick using streams :</p>\n\n<pre><code>expirationMap.entrySet().stream().filter(e -&gt; e.getValue() &gt; 3)\n             .forEach(e -&gt; {\n                 System.out.println(\"key \" + e.getKey() + \"value\" + e.getValue());\n              });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1696494386,"creation_date":1550600955,"answer_id":54772757,"question_id":54772606,"body_markdown":"Streams, yes. Use\r\n\r\n```java\r\nexpirationMap.entrySet().stream()\r\n    .filter(entry -&gt; entry.getValue() &gt; 3L)\r\n    .map(Entry::getKey)\r\n    .toList();\r\n```\r\n\r\nto get a list of the keys.\r\n\r\nWe need to stream over the map entries rather than the values or keys only, because we need to compare the one (the value) and return the other (the key). Okay, one *need not*, as nullpointed out in the comments.\r\n\r\nThe `filter` method gets the value and compares it to 3, discarding elements not greater than 3; and then we map the entries to their values using the `map` method. Finally, we collect the result into a `List`.","title":"Java Hashmap: get all keys greater than X value","body":"<p>Streams, yes. Use</p>\n<pre class=\"lang-java prettyprint-override\"><code>expirationMap.entrySet().stream()\n    .filter(entry -&gt; entry.getValue() &gt; 3L)\n    .map(Entry::getKey)\n    .toList();\n</code></pre>\n<p>to get a list of the keys.</p>\n<p>We need to stream over the map entries rather than the values or keys only, because we need to compare the one (the value) and return the other (the key). Okay, one <em>need not</em>, as nullpointed out in the comments.</p>\n<p>The <code>filter</code> method gets the value and compares it to 3, discarding elements not greater than 3; and then we map the entries to their values using the <code>map</code> method. Finally, we collect the result into a <code>List</code>.</p>\n"},{"tags":[],"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1550602143,"creation_date":1550602143,"answer_id":54773064,"question_id":54772606,"body_markdown":"A slightly different variation using just set and key lookup:\r\n\r\n    Set&lt;String&gt; greppedKeys = expirationMap.keySet().stream() // keyset only\r\n            .filter(key -&gt; expirationMap.get(key) &gt; 3L) // X here being 3L\r\n            .collect(Collectors.toSet()); // all keys would be unique anyway","title":"Java Hashmap: get all keys greater than X value","body":"<p>A slightly different variation using just set and key lookup:</p>\n\n<pre><code>Set&lt;String&gt; greppedKeys = expirationMap.keySet().stream() // keyset only\n        .filter(key -&gt; expirationMap.get(key) &gt; 3L) // X here being 3L\n        .collect(Collectors.toSet()); // all keys would be unique anyway\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14886619,"reputation":61,"user_id":10749612,"display_name":"sims_gfl"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1550603255,"creation_date":1550603255,"answer_id":54773314,"question_id":54772606,"body_markdown":"See below for another readable approach.\r\n\r\n    expirationMap.forEach((key, value) -&gt; {\r\n         if (value &gt; x) {\r\n             System.out.println(format(&quot;key: %s, value: %s&quot;, key, value));\r\n         }\r\n    });\r\nThe .forEach part will iterate over the map&#39;s entrySet() and extract each entry&#39;s key and value respectively onto (key, value).","title":"Java Hashmap: get all keys greater than X value","body":"<p>See below for another readable approach.</p>\n\n<pre><code>expirationMap.forEach((key, value) -&gt; {\n     if (value &gt; x) {\n         System.out.println(format(\"key: %s, value: %s\", key, value));\n     }\n});\n</code></pre>\n\n<p>The .forEach part will iterate over the map's entrySet() and extract each entry's key and value respectively onto (key, value).</p>\n"},{"tags":[],"owner":{"account_id":6401714,"reputation":5744,"user_id":4964136,"accept_rate":100,"display_name":"Vishwa Ratna"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1550641686,"creation_date":1550641686,"answer_id":54779599,"question_id":54772606,"body_markdown":"Another approach apart from what others have done can be to use [`Interface Predicate&lt;T&gt;`][1] whose default method `test(T t)` can be used to evaluate values greater than 3.\r\n\r\n      Predicate&lt;Long&gt; filterGreater3 = f-&gt; f&gt;3;\r\n      expirationMap.entrySet()\r\n            \t   .stream()\r\n            \t   .filter(x-&gt;filterGreater3.test(x.getValue()))\r\n                   .forEach(System.out::println);\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/function/Predicate.html","title":"Java Hashmap: get all keys greater than X value","body":"<p>Another approach apart from what others have done can be to use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/function/Predicate.html\" rel=\"nofollow noreferrer\"><code>Interface Predicate&lt;T&gt;</code></a> whose default method <code>test(T t)</code> can be used to evaluate values greater than 3.</p>\n\n<pre><code>  Predicate&lt;Long&gt; filterGreater3 = f-&gt; f&gt;3;\n  expirationMap.entrySet()\n               .stream()\n               .filter(x-&gt;filterGreater3.test(x.getValue()))\n               .forEach(System.out::println);\n</code></pre>\n"}],"owner":{"account_id":1862257,"reputation":12143,"user_id":1686628,"accept_rate":75,"display_name":"ealeon"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12814,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":54772757,"answer_count":5,"score":7,"last_activity_date":1696494386,"creation_date":1550600367,"question_id":54772606,"body_markdown":"     import java.util.*;\r\n     import static java.lang.String.format;\r\n     \r\n     public class Dumpground {\r\n     \r\n         private static final String[] fruits = new String[]{&quot;apples&quot;, &quot;bananas&quot;, &quot;grapes&quot;, &quot;oranges&quot;, &quot;watermelons&quot;, &quot;kiwis&quot;};\r\n         static Map&lt;String, Long&gt; expirationMap;\r\n     \r\n         public static void main(String[] args) {\r\n             long expiration = 1L;\r\n             expirationMap = new HashMap&lt;&gt;();\r\n             for (String fruit : values()){\r\n                 expirationMap.put(fruit, expiration);\r\n                 expiration++;\r\n             }\r\n             for (Map.Entry&lt;String, Long&gt; item : expirationMap.entrySet()) {\r\n                   String key = item.getKey();\r\n                   Long value = item.getValue();\r\n                   System.out.println(format(&quot;key: %s, value: %s&quot;, key, value));\r\n               }\r\n     \r\n     \r\n         }\r\n     \r\n         public static String[] values() {return fruits;}\r\n     }\r\n\r\nOUTPUT\r\n\r\n    key: oranges, value: 4\r\n    key: watermelons, value: 5\r\n    key: kiwis, value: 6\r\n    key: bananas, value: 2\r\n    key: apples, value: 1\r\n    key: grapes, value: 3\r\n\r\nI am trying to find a clever ways to grep all keys where its values are greater than X \r\n\r\nfor example, if X == 3, it should return oranges, and watermelons and kiwis\r\n\r\nthe obvious way is just iterate through map and compare the value, but is there easy, concise way to do it?","title":"Java Hashmap: get all keys greater than X value","body":"<pre><code> import java.util.*;\n import static java.lang.String.format;\n\n public class Dumpground {\n\n     private static final String[] fruits = new String[]{\"apples\", \"bananas\", \"grapes\", \"oranges\", \"watermelons\", \"kiwis\"};\n     static Map&lt;String, Long&gt; expirationMap;\n\n     public static void main(String[] args) {\n         long expiration = 1L;\n         expirationMap = new HashMap&lt;&gt;();\n         for (String fruit : values()){\n             expirationMap.put(fruit, expiration);\n             expiration++;\n         }\n         for (Map.Entry&lt;String, Long&gt; item : expirationMap.entrySet()) {\n               String key = item.getKey();\n               Long value = item.getValue();\n               System.out.println(format(\"key: %s, value: %s\", key, value));\n           }\n\n\n     }\n\n     public static String[] values() {return fruits;}\n }\n</code></pre>\n\n<p>OUTPUT</p>\n\n<pre><code>key: oranges, value: 4\nkey: watermelons, value: 5\nkey: kiwis, value: 6\nkey: bananas, value: 2\nkey: apples, value: 1\nkey: grapes, value: 3\n</code></pre>\n\n<p>I am trying to find a clever ways to grep all keys where its values are greater than X </p>\n\n<p>for example, if X == 3, it should return oranges, and watermelons and kiwis</p>\n\n<p>the obvious way is just iterate through map and compare the value, but is there easy, concise way to do it?</p>\n"},{"tags":["java","android","android-studio","itext"],"owner":{"account_id":27044541,"reputation":13,"user_id":20598914,"display_name":"IT Student"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696494183,"creation_date":1696494183,"question_id":77235406,"body_markdown":"I am using this library\r\n\r\nimplementation &#39;com.itextpdf:itext7-core:7.1.15&#39;\r\nimplementation &#39;com.itextpdf:layout:7.1.15&#39;\r\n\r\nI want to add the image in the header of the pdf document\r\n\r\nString Url = &quot;https://image.jpg&quot;\r\n\r\ntable1.addCell(new Cell(3, 1).add(image1));\r\ntable1.addCell(new Cell().add(new Paragraph(&quot;&quot;)));\r\ntable1.addCell(new Cell(1, 2).add(new Paragraph(&quot;Company Name&quot;)).setTextAlignment(TextAlignment.CENTER).setFontSize(fontSize).setBold());\r\n\r\n","title":"How to add the image in the PDF from URL in android java","body":"<p>I am using this library</p>\n<p>implementation 'com.itextpdf:itext7-core:7.1.15'\nimplementation 'com.itextpdf:layout:7.1.15'</p>\n<p>I want to add the image in the header of the pdf document</p>\n<p>String Url = &quot;https://image.jpg&quot;</p>\n<p>table1.addCell(new Cell(3, 1).add(image1));\ntable1.addCell(new Cell().add(new Paragraph(&quot;&quot;)));\ntable1.addCell(new Cell(1, 2).add(new Paragraph(&quot;Company Name&quot;)).setTextAlignment(TextAlignment.CENTER).setFontSize(fontSize).setBold());</p>\n"},{"tags":["java","static","program-entry-point"],"comments":[{"owner":{"account_id":6340208,"reputation":48515,"user_id":4922375,"accept_rate":96,"display_name":"Andrew Tobilko"},"score":1,"creation_date":1459635511,"post_id":146576,"comment_id":60376109,"body_markdown":"in this case, we shouldn&#39;t say *the method signature*, because the term refers only to method names and its parameters","body":"in this case, we shouldn&#39;t say <i>the method signature</i>, because the term refers only to method names and its parameters"},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":1,"creation_date":1462613156,"post_id":146576,"comment_id":61717682,"body_markdown":"Java is deliberately designed to look familiar to a C programmer.  This is very close to the C convention.","body":"Java is deliberately designed to look familiar to a C programmer.  This is very close to the C convention."}],"answers":[{"tags":[],"owner":{"account_id":2524,"reputation":1892,"user_id":3518,"display_name":"Logan"},"down_vote_count":6,"up_vote_count":12,"is_accepted":false,"score":6,"last_activity_date":1222631838,"creation_date":1222631256,"answer_id":146581,"question_id":146576,"body_markdown":"It&#39;s just a convention, but probably more convenient than the alternative. With a static main, all you need to know to invoke a Java program is the name and location of a class. If it weren&#39;t static, you&#39;d also have to know how to instantiate that class, or require that the class have an empty constructor.","title":"Why is the Java main method static?","body":"<p>It's just a convention, but probably more convenient than the alternative. With a static main, all you need to know to invoke a Java program is the name and location of a class. If it weren't static, you'd also have to know how to instantiate that class, or require that the class have an empty constructor.</p>\n"},{"tags":[],"owner":{"account_id":10637,"reputation":24955,"user_id":20178,"accept_rate":81,"display_name":"Noah Goodrich"},"down_vote_count":4,"up_vote_count":201,"is_accepted":false,"score":197,"last_activity_date":1639121141,"creation_date":1222631281,"answer_id":146583,"question_id":146576,"body_markdown":"The `main` method in C++, C# and Java are static.\r\n\r\nThis is because they can then be invoked by the runtime engine **without** having to instantiate any objects then the code in the body of `main` will do the rest.","title":"Why is the Java main method static?","body":"<p>The <code>main</code> method in C++, C# and Java are static.</p>\n<p>This is because they can then be invoked by the runtime engine <strong>without</strong> having to instantiate any objects then the code in the body of <code>main</code> will do the rest.</p>\n"},{"tags":[],"owner":{"account_id":11359,"reputation":4953,"user_id":21862,"accept_rate":91,"display_name":"BlackWasp"},"down_vote_count":4,"up_vote_count":17,"is_accepted":false,"score":13,"last_activity_date":1222631289,"creation_date":1222631289,"answer_id":146584,"question_id":146576,"body_markdown":"Before the main method is called, no objects are instantiated. Having the static keyword means the method can be called without creating any objects first.","title":"Why is the Java main method static?","body":"<p>Before the main method is called, no objects are instantiated. Having the static keyword means the method can be called without creating any objects first.</p>\n"},{"tags":[],"owner":{"account_id":8537,"reputation":40691,"user_id":15459,"accept_rate":70,"display_name":"PhiLho"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1222631310,"creation_date":1222631310,"answer_id":146587,"question_id":146576,"body_markdown":"Because otherwise, it would need an instance of the object to be executed. But it must be called from scratch, without constructing the object first, since it is usually the task of the main() function (bootstrap), to parse the arguments and construct the object, usually by using these arguments/program parameters.","title":"Why is the Java main method static?","body":"<p>Because otherwise, it would need an instance of the object to be executed. But it must be called from scratch, without constructing the object first, since it is usually the task of the main() function (bootstrap), to parse the arguments and construct the object, usually by using these arguments/program parameters.</p>\n"},{"tags":[],"owner":{"account_id":4907,"reputation":2907,"user_id":7610,"display_name":"Hank"},"down_vote_count":1,"up_vote_count":15,"is_accepted":false,"score":14,"last_activity_date":1222631463,"creation_date":1222631463,"answer_id":146592,"question_id":146576,"body_markdown":"If it wasn&#39;t, which constructor should be used if there are more than one?\r\n\r\nThere is more information on the initialization and execution of Java programs available in the [Java Language Specification](http://java.sun.com/docs/books/jls/third_edition/html/execution.html).","title":"Why is the Java main method static?","body":"<p>If it wasn't, which constructor should be used if there are more than one?</p>\n\n<p>There is more information on the initialization and execution of Java programs available in the <a href=\"http://java.sun.com/docs/books/jls/third_edition/html/execution.html\" rel=\"noreferrer\">Java Language Specification</a>.</p>\n"},{"tags":[],"owner":{"account_id":3282,"reputation":146286,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1532616786,"creation_date":1222632252,"answer_id":146609,"question_id":146576,"body_markdown":"Applets, midlets, servlets and beans of various kinds are constructed and then have lifecycle methods called on them. Invoking main is all that is ever done to the main class, so there is no need for a state to be held in an object that is called multiple times. It&#39;s quite normal to pin main on another class (although not a great idea), which would get in the way of using the class to create the main object.","title":"Why is the Java main method static?","body":"<p>Applets, midlets, servlets and beans of various kinds are constructed and then have lifecycle methods called on them. Invoking main is all that is ever done to the main class, so there is no need for a state to be held in an object that is called multiple times. It's quite normal to pin main on another class (although not a great idea), which would get in the way of using the class to create the main object.</p>\n"},{"tags":[],"owner":{"account_id":11769,"reputation":55893,"user_id":22850,"accept_rate":60,"display_name":"Tom"},"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1222632922,"creation_date":1222632922,"answer_id":146631,"question_id":146576,"body_markdown":"It is just a convention. The JVM could certainly deal with non-static main methods if that would have been the convention. After all, you can define a static initializer on your class, and instantiate a zillion objects before ever getting to your main() method.\r\n","title":"Why is the Java main method static?","body":"<p>It is just a convention. The JVM could certainly deal with non-static main methods if that would have been the convention. After all, you can define a static initializer on your class, and instantiate a zillion objects before ever getting to your main() method.</p>\n"},{"tags":[],"owner":{"account_id":2271,"reputation":28480,"user_id":3140,"accept_rate":57,"display_name":"Jacob Krall"},"down_vote_count":10,"up_vote_count":363,"is_accepted":true,"score":353,"last_activity_date":1501758196,"creation_date":1222633714,"answer_id":146662,"question_id":146576,"body_markdown":"The method is static because otherwise there would be ambiguity: which constructor should be called?  Especially if your class looks like this:\r\n\r\n    public class JavaClass{\r\n      protected JavaClass(int x){}\r\n      public void main(String[] args){\r\n      }\r\n    }\r\n\r\nShould the JVM call `new JavaClass(int)`?  What should it pass for `x`?\r\n\r\nIf not, should the JVM instantiate `JavaClass` without running any constructor method?  I think it shouldn&#39;t, because that will special-case your entire class - sometimes you have an instance that hasn&#39;t been initialized, and you have to check for it in every method that could be called.\r\n\r\nThere are just too many edge cases and ambiguities for it to make sense for the JVM to have to instantiate a class before the entry point is called.  That&#39;s why `main` is static.\r\n\r\nI have no idea why `main` is always marked `public` though.","title":"Why is the Java main method static?","body":"<p>The method is static because otherwise there would be ambiguity: which constructor should be called?  Especially if your class looks like this:</p>\n\n<pre><code>public class JavaClass{\n  protected JavaClass(int x){}\n  public void main(String[] args){\n  }\n}\n</code></pre>\n\n<p>Should the JVM call <code>new JavaClass(int)</code>?  What should it pass for <code>x</code>?</p>\n\n<p>If not, should the JVM instantiate <code>JavaClass</code> without running any constructor method?  I think it shouldn't, because that will special-case your entire class - sometimes you have an instance that hasn't been initialized, and you have to check for it in every method that could be called.</p>\n\n<p>There are just too many edge cases and ambiguities for it to make sense for the JVM to have to instantiate a class before the entry point is called.  That's why <code>main</code> is static.</p>\n\n<p>I have no idea why <code>main</code> is always marked <code>public</code> though.</p>\n"},{"tags":[],"owner":{"account_id":11945,"reputation":322,"user_id":23275,"accept_rate":50,"display_name":"micro"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1222640051,"creation_date":1222639742,"answer_id":146865,"question_id":146576,"body_markdown":"If the main method would not be static, you would need to create an object of your main class from outside the program. How would you want to do that?","title":"Why is the Java main method static?","body":"<p>If the main method would not be static, you would need to create an object of your main class from outside the program. How would you want to do that?</p>\n"},{"tags":[],"owner":{"account_id":6508,"reputation":16117,"user_id":10973,"accept_rate":94,"display_name":"Kevin Day"},"down_vote_count":2,"up_vote_count":438,"is_accepted":false,"score":436,"last_activity_date":1696494107,"creation_date":1222745538,"answer_id":151666,"question_id":146576,"body_markdown":"This is just convention.  In fact, even the name main(), and the arguments passed in are purely convention.\r\n\r\nJava&#160;21 introduced [alternative conventions] as a preview feature; you can omit the `String[]` parameter, the `public` modifier, and even the `static` modifier. If you omit the `static` modifier, an instance of the class will be created before the invocation, which requires that the class has a non-private zero-parameter constructor. The default constructor created by the compiler if no constructor has been declared, is sufficient.\r\n\r\nWhen you run java.exe (or javaw.exe on Windows), what is really happening is a couple of Java Native Interface (JNI) calls.  These calls load the DLL that is really the JVM (that&#39;s right - java.exe is NOT the JVM).  JNI is the tool that we use when we have to bridge the virtual machine world, and the world of C, C++, etc...  The reverse is also true - it is not possible (at least to my knowledge) to actually get a JVM  running without using JNI.\r\n\r\nBasically, java.exe is a super simple C application that parses the command line, creates a new String array in the JVM to hold those arguments, parses out the class name that you specified as containing main(), uses JNI calls to find the main() method itself, then invokes the main() method, passing in the newly created string array as a parameter.  This is very, very much like what you do when you use reflection from Java - it just uses confusingly named native function calls instead.\r\n\r\nIt would be perfectly legal for you to write your own version of java.exe (the source is distributed with the JDK) and have it do something entirely different.  In fact, that&#39;s exactly what we do with all of our Java-based apps.\r\n\r\nEach of our Java apps has its own launcher.  We primarily do this so we get our own icon and process name, but it has come in handy in other situations where we want to do something besides the regular main() call to get things going (For example, in one case we are doing COM interoperability, and we actually pass a COM handle into main() instead of a string array).\r\n\r\nSo, long and short:  the reason it is static is b/c that&#39;s convenient.  The reason it&#39;s called &#39;main&#39; is that it had to be something, and main() is what they did in the old days of C (and in those days, the name of the function *was* important).  I suppose that java.exe could have allowed you to just specify a fully qualified main method name, instead of just the class (java com.mycompany.Foo.someSpecialMain) - but that just makes it harder on IDEs to auto-detect the &#39;launchable&#39; classes in a project.\r\n\r\n[alternative conventions]: https://openjdk.org/jeps/445","title":"Why is the Java main method static?","body":"<p>This is just convention.  In fact, even the name main(), and the arguments passed in are purely convention.</p>\n<p>Java 21 introduced <a href=\"https://openjdk.org/jeps/445\" rel=\"nofollow noreferrer\">alternative conventions</a> as a preview feature; you can omit the <code>String[]</code> parameter, the <code>public</code> modifier, and even the <code>static</code> modifier. If you omit the <code>static</code> modifier, an instance of the class will be created before the invocation, which requires that the class has a non-private zero-parameter constructor. The default constructor created by the compiler if no constructor has been declared, is sufficient.</p>\n<p>When you run java.exe (or javaw.exe on Windows), what is really happening is a couple of Java Native Interface (JNI) calls.  These calls load the DLL that is really the JVM (that's right - java.exe is NOT the JVM).  JNI is the tool that we use when we have to bridge the virtual machine world, and the world of C, C++, etc...  The reverse is also true - it is not possible (at least to my knowledge) to actually get a JVM  running without using JNI.</p>\n<p>Basically, java.exe is a super simple C application that parses the command line, creates a new String array in the JVM to hold those arguments, parses out the class name that you specified as containing main(), uses JNI calls to find the main() method itself, then invokes the main() method, passing in the newly created string array as a parameter.  This is very, very much like what you do when you use reflection from Java - it just uses confusingly named native function calls instead.</p>\n<p>It would be perfectly legal for you to write your own version of java.exe (the source is distributed with the JDK) and have it do something entirely different.  In fact, that's exactly what we do with all of our Java-based apps.</p>\n<p>Each of our Java apps has its own launcher.  We primarily do this so we get our own icon and process name, but it has come in handy in other situations where we want to do something besides the regular main() call to get things going (For example, in one case we are doing COM interoperability, and we actually pass a COM handle into main() instead of a string array).</p>\n<p>So, long and short:  the reason it is static is b/c that's convenient.  The reason it's called 'main' is that it had to be something, and main() is what they did in the old days of C (and in those days, the name of the function <em>was</em> important).  I suppose that java.exe could have allowed you to just specify a fully qualified main method name, instead of just the class (java com.mycompany.Foo.someSpecialMain) - but that just makes it harder on IDEs to auto-detect the 'launchable' classes in a project.</p>\n"},{"tags":[],"owner":{"display_name":"sowmya"},"down_vote_count":5,"up_vote_count":0,"is_accepted":false,"score":-5,"last_activity_date":1231762550,"creation_date":1231762550,"answer_id":435245,"question_id":146576,"body_markdown":"because, a static members are not part of any specific class and that main method, not requires to create its Object, but can still refer to all other classes.","title":"Why is the Java main method static?","body":"<p>because, a static members are not part of any specific class and that main method, not requires to create its Object, but can still refer to all other classes.</p>\n"},{"tags":[],"owner":{"account_id":569473,"reputation":1,"user_id":203225,"display_name":"debants"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1257404420,"creation_date":1257404420,"answer_id":1678792,"question_id":146576,"body_markdown":"static indicates that this method is class method.and called without requirment of any object of class.","title":"Why is the Java main method static?","body":"<p>static indicates that this method is class method.and called without requirment of any object of class.</p>\n"},{"tags":[],"owner":{"account_id":596637,"reputation":1,"user_id":292163,"display_name":"Bijoy das"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1268378969,"creation_date":1268378969,"answer_id":2431130,"question_id":146576,"body_markdown":"As the execution start of a program from main() and and java is purely object oriented program where the object is declared inside main() that means main() is called before object creation so if main() would non static then to call it there would be needed a object because static means no need of object..........","title":"Why is the Java main method static?","body":"<p>As the execution start of a program from main() and and java is purely object oriented program where the object is declared inside main() that means main() is called before object creation so if main() would non static then to call it there would be needed a object because static means no need of object..........</p>\n"},{"tags":[],"owner":{"account_id":618230,"reputation":1,"user_id":355420,"display_name":"c k ravi"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1323344260,"creation_date":1275396591,"answer_id":2949842,"question_id":146576,"body_markdown":"Static methods don&#39;t require any object.  It runs directly so main runs directly.","title":"Why is the Java main method static?","body":"<p>Static methods don't require any object.  It runs directly so main runs directly.</p>\n"},{"tags":[],"owner":{"account_id":791755,"reputation":11,"user_id":732351,"display_name":"Abhishek"},"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1461465532,"creation_date":1304163569,"answer_id":5841473,"question_id":146576,"body_markdown":"The `public` keyword is an access modifier, which allows the programmer to control\r\nthe visibility of class members. When a class member is preceded by `public`, then that\r\nmember may be accessed by code outside the class in which it is declared.\r\n\r\nThe opposite of `public` is `private`, which prevents a member from being used by code defined outside of its class.\r\n\r\nIn this case, `main()` must be declared as `public`, since it must be called\r\nby code outside of its class when the program is started.\r\n\r\nThe keyword `static` allows\r\n`main()` to be called without having to instantiate a particular instance of the class. This is necessary since `main()` is called by the Java interpreter before any objects are made.\r\n  \r\nThe keyword `void` simply tells the compiler that `main()` does not return a value.","title":"Why is the Java main method static?","body":"<p>The <code>public</code> keyword is an access modifier, which allows the programmer to control\nthe visibility of class members. When a class member is preceded by <code>public</code>, then that\nmember may be accessed by code outside the class in which it is declared.</p>\n\n<p>The opposite of <code>public</code> is <code>private</code>, which prevents a member from being used by code defined outside of its class.</p>\n\n<p>In this case, <code>main()</code> must be declared as <code>public</code>, since it must be called\nby code outside of its class when the program is started.</p>\n\n<p>The keyword <code>static</code> allows\n<code>main()</code> to be called without having to instantiate a particular instance of the class. This is necessary since <code>main()</code> is called by the Java interpreter before any objects are made.</p>\n\n<p>The keyword <code>void</code> simply tells the compiler that <code>main()</code> does not return a value.</p>\n"},{"tags":[],"owner":{"account_id":779395,"reputation":1,"user_id":825455,"display_name":"sanyashi kumar nayak"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1309561789,"creation_date":1309549888,"answer_id":6552623,"question_id":146576,"body_markdown":"It&#39;s a frequently asked question why main() is static in Java.\r\n\r\n**Answer**: We know that in Java, execution starts from main() by JVM. When JVM executes  main() at that time, the class which contains main() is not instantiated so we can&#39;t call a nonstatic method without the reference of it&#39;s object. So to call it we made it static, due to which the class loader loads all the static methods in JVM context memory space from where JVM can directly call them.","title":"Why is the Java main method static?","body":"<p>It's a frequently asked question why main() is static in Java.</p>\n\n<p><strong>Answer</strong>: We know that in Java, execution starts from main() by JVM. When JVM executes  main() at that time, the class which contains main() is not instantiated so we can't call a nonstatic method without the reference of it's object. So to call it we made it static, due to which the class loader loads all the static methods in JVM context memory space from where JVM can directly call them.</p>\n"},{"tags":[],"owner":{"account_id":1182845,"reputation":11,"user_id":1157396,"display_name":"eagles"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1326930662,"creation_date":1326930662,"answer_id":8919261,"question_id":146576,"body_markdown":"The static key word in the main method is used because there isn&#39;t any instantiation that take place in the main method. \r\nBut object is constructed rather than invocation as a result we use the static key word in the main method.\r\nIn jvm context memory is created when class loads into it.And all static members are present in that memory. if we make the main static now it will be in memory and can be accessible to jvm (class.main(..)) so we can call the main method with out need of even need for heap been created.\r\n  ","title":"Why is the Java main method static?","body":"<p>The static key word in the main method is used because there isn't any instantiation that take place in the main method. \nBut object is constructed rather than invocation as a result we use the static key word in the main method.\nIn jvm context memory is created when class loads into it.And all static members are present in that memory. if we make the main static now it will be in memory and can be accessible to jvm (class.main(..)) so we can call the main method with out need of even need for heap been created.</p>\n"},{"tags":[],"owner":{"account_id":1561477,"reputation":31,"user_id":1451254,"display_name":"Aysha"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1339505313,"creation_date":1339505313,"answer_id":10996990,"question_id":146576,"body_markdown":"I think the keyword &#39;static&#39; makes the main method a class method, and class methods have only one copy of it and can be shared by all, and also, it does not require an object for reference. So when the driver class is compiled the main method can be invoked. (I&#39;m just in alphabet level of java, sorry if I&#39;m wrong)","title":"Why is the Java main method static?","body":"<p>I think the keyword 'static' makes the main method a class method, and class methods have only one copy of it and can be shared by all, and also, it does not require an object for reference. So when the driver class is compiled the main method can be invoked. (I'm just in alphabet level of java, sorry if I'm wrong)</p>\n"},{"tags":[],"owner":{"account_id":1643019,"reputation":39,"user_id":1515114,"display_name":"hellaciousprogger"},"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1341931040,"creation_date":1341931040,"answer_id":11415727,"question_id":146576,"body_markdown":"main() is static because; at that point in the application&#39;s lifecycle, the application stack is procedural in nature due to there being no objects yet instantiated.\r\n\r\nIt&#39;s a clean slate. Your application is running at this point, even without any objects being declared (remember, there&#39;s procedural AND OO coding patterns). You, as the developer, turn the application into an object-oriented solution by creating instances of your objects and depending upon the code compiled within.\r\n\r\nObject-oriented is great for millions of obvious reasons. However, gone are the days when most VB developers regularly used keywords like &quot;goto&quot; in their code. &quot;goto&quot; is a procedural command in VB that is replaced by its OO counterpart: method invocation.\r\n\r\nYou could also look at the static entry point (main) as pure liberty. Had Java been different enough to instantiate an object and present only that instance to you on run, you would have no choice BUT to write a procedural app. As unimaginable as it might sound for Java, it&#39;s possible there are many scenarios which call for procedural approaches.\r\n\r\nThis is probably a very obscure reply. Remember, &quot;class&quot; is only a collection of inter-related code. &quot;Instance&quot; is an isolated, living and breathing autonomous generation of that class.","title":"Why is the Java main method static?","body":"<p>main() is static because; at that point in the application's lifecycle, the application stack is procedural in nature due to there being no objects yet instantiated.</p>\n\n<p>It's a clean slate. Your application is running at this point, even without any objects being declared (remember, there's procedural AND OO coding patterns). You, as the developer, turn the application into an object-oriented solution by creating instances of your objects and depending upon the code compiled within.</p>\n\n<p>Object-oriented is great for millions of obvious reasons. However, gone are the days when most VB developers regularly used keywords like \"goto\" in their code. \"goto\" is a procedural command in VB that is replaced by its OO counterpart: method invocation.</p>\n\n<p>You could also look at the static entry point (main) as pure liberty. Had Java been different enough to instantiate an object and present only that instance to you on run, you would have no choice BUT to write a procedural app. As unimaginable as it might sound for Java, it's possible there are many scenarios which call for procedural approaches.</p>\n\n<p>This is probably a very obscure reply. Remember, \"class\" is only a collection of inter-related code. \"Instance\" is an isolated, living and breathing autonomous generation of that class.</p>\n"},{"tags":[],"owner":{"account_id":46788,"reputation":98219,"user_id":138304,"accept_rate":65,"display_name":"Sam Harwell"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1341960204,"creation_date":1341960204,"answer_id":11423098,"question_id":146576,"body_markdown":"The true entry point to any application is a static method. If the Java language supported an instance method as the &quot;entry point&quot;, then the runtime would need implement it internally as a static method which constructed an instance of the object followed by calling the instance method.\r\n\r\nWith that out of the way, I&#39;ll examine the rationale for choosing a specific one of the following three options:\r\n\r\n1. A `static void main()` as we see it today.\r\n2. An instance method `void main()` called on a freshly constructed object.\r\n3. Using the constructor of a type as the entry point (e.g., if the entry class was called `Program`, then the execution would effectively consist of `new Program()`).\r\n\r\n## Breakdown:\r\n\r\n`static void main()`\r\n\r\n1. Calls the static constructor of the enclosing class.\r\n2. Calls the static method `main()`.\r\n\r\n`void main()`\r\n\r\n1. Calls the static constructor of the enclosing class.\r\n2. Constructs an instance of the enclosing class by effectively calling `new ClassName()`.\r\n3. Calls the instance method `main()`.\r\n\r\n`new ClassName()`\r\n\r\n1. Calls the static constructor of the enclosing class.\r\n2. Constructs an instance of the class (then does nothing with it and simply returns).\r\n\r\n## Rationale:\r\n\r\nI&#39;ll go in reverse order for this one.\r\n\r\nKeep in mind that one of the design goals of Java was to emphasize (require when possible) good object-oriented programming practices. In this context, the constructor of an object *initializes* the object, but should not be responsible for the object&#39;s behavior. Therefore, a specification that gave an entry point of `new ClassName()` would confuse the situation for new Java developers by forcing an exception to the design of an &quot;ideal&quot; constructor on every application.\r\n\r\nBy making `main()` an instance method, the above problem is certainly solved. However, it creates complexity by requiring the specification to list the signature of the entry class&#39;s constructor as well as the signature of the `main()` method.\r\n\r\nIn summary, **specifying a `static void main()` creates a specification with the least complexity while adhering to the principle of placing behavior into methods**. Considering how straightforward it is to implement a `main()` method which itself constructs an instance of a class and calls an instance method, there is no real advantage to specifying `main()` as an instance method.","title":"Why is the Java main method static?","body":"<p>The true entry point to any application is a static method. If the Java language supported an instance method as the \"entry point\", then the runtime would need implement it internally as a static method which constructed an instance of the object followed by calling the instance method.</p>\n\n<p>With that out of the way, I'll examine the rationale for choosing a specific one of the following three options:</p>\n\n<ol>\n<li>A <code>static void main()</code> as we see it today.</li>\n<li>An instance method <code>void main()</code> called on a freshly constructed object.</li>\n<li>Using the constructor of a type as the entry point (e.g., if the entry class was called <code>Program</code>, then the execution would effectively consist of <code>new Program()</code>).</li>\n</ol>\n\n<h2>Breakdown:</h2>\n\n<p><code>static void main()</code></p>\n\n<ol>\n<li>Calls the static constructor of the enclosing class.</li>\n<li>Calls the static method <code>main()</code>.</li>\n</ol>\n\n<p><code>void main()</code></p>\n\n<ol>\n<li>Calls the static constructor of the enclosing class.</li>\n<li>Constructs an instance of the enclosing class by effectively calling <code>new ClassName()</code>.</li>\n<li>Calls the instance method <code>main()</code>.</li>\n</ol>\n\n<p><code>new ClassName()</code></p>\n\n<ol>\n<li>Calls the static constructor of the enclosing class.</li>\n<li>Constructs an instance of the class (then does nothing with it and simply returns).</li>\n</ol>\n\n<h2>Rationale:</h2>\n\n<p>I'll go in reverse order for this one.</p>\n\n<p>Keep in mind that one of the design goals of Java was to emphasize (require when possible) good object-oriented programming practices. In this context, the constructor of an object <em>initializes</em> the object, but should not be responsible for the object's behavior. Therefore, a specification that gave an entry point of <code>new ClassName()</code> would confuse the situation for new Java developers by forcing an exception to the design of an \"ideal\" constructor on every application.</p>\n\n<p>By making <code>main()</code> an instance method, the above problem is certainly solved. However, it creates complexity by requiring the specification to list the signature of the entry class's constructor as well as the signature of the <code>main()</code> method.</p>\n\n<p>In summary, <strong>specifying a <code>static void main()</code> creates a specification with the least complexity while adhering to the principle of placing behavior into methods</strong>. Considering how straightforward it is to implement a <code>main()</code> method which itself constructs an instance of a class and calls an instance method, there is no real advantage to specifying <code>main()</code> as an instance method.</p>\n"},{"tags":[],"owner":{"account_id":981398,"reputation":23613,"user_id":1001027,"accept_rate":72,"display_name":"Francisco Spaeth"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1342030380,"creation_date":1342030380,"answer_id":11438809,"question_id":146576,"body_markdown":"It is just a convention as we can see here:\r\n\r\n&gt; The method **must be declared public and static**, it must not return any\r\n&gt; value, and it must accept a String array as a parameter. By default,\r\n&gt; the first non-option argument is the name of the class to be invoked.\r\n&gt; A fully-qualified class name should be used. If the -jar option is\r\n&gt; specified, the first non-option argument is the name of a JAR archive\r\n&gt; containing class and resource files for the application, with the\r\n&gt; startup class indicated by the Main-Class manifest header.\r\n\r\nhttp://docs.oracle.com/javase/1.4.2/docs/tooldocs/windows/java.html#description","title":"Why is the Java main method static?","body":"<p>It is just a convention as we can see here:</p>\n\n<blockquote>\n  <p>The method <strong>must be declared public and static</strong>, it must not return any\n  value, and it must accept a String array as a parameter. By default,\n  the first non-option argument is the name of the class to be invoked.\n  A fully-qualified class name should be used. If the -jar option is\n  specified, the first non-option argument is the name of a JAR archive\n  containing class and resource files for the application, with the\n  startup class indicated by the Main-Class manifest header.</p>\n</blockquote>\n\n<p><a href=\"http://docs.oracle.com/javase/1.4.2/docs/tooldocs/windows/java.html#description\" rel=\"nofollow\">http://docs.oracle.com/javase/1.4.2/docs/tooldocs/windows/java.html#description</a></p>\n"},{"tags":[],"owner":{"account_id":1643932,"reputation":33,"user_id":1515855,"display_name":"user1515855"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1342037028,"creation_date":1342037028,"answer_id":11440558,"question_id":146576,"body_markdown":"&gt; *The public static void keywords mean the Java virtual machine (JVM) interpreter can call the program&#39;s main method to start the program (public) without creating an instance of the class (static), and the program does not return data to the Java VM interpreter (void) when it ends.*\r\n\r\nSource:\r\n[Essentials, Part 1, Lesson 2: Building Applications][1]\r\n\r\n\r\n  [1]: http://java.sun.com/developer/onlineTraining/Programming/BasicJava1/prog.html","title":"Why is the Java main method static?","body":"<blockquote>\n  <p><em>The public static void keywords mean the Java virtual machine (JVM) interpreter can call the program's main method to start the program (public) without creating an instance of the class (static), and the program does not return data to the Java VM interpreter (void) when it ends.</em></p>\n</blockquote>\n\n<p>Source:\n<a href=\"http://java.sun.com/developer/onlineTraining/Programming/BasicJava1/prog.html\" rel=\"nofollow\">Essentials, Part 1, Lesson 2: Building Applications</a></p>\n"},{"tags":[],"owner":{"account_id":468095,"reputation":40996,"user_id":873875,"display_name":"yorkw"},"down_vote_count":1,"up_vote_count":42,"is_accepted":false,"score":41,"last_activity_date":1342091678,"creation_date":1342065957,"answer_id":11444861,"question_id":146576,"body_markdown":"### Why public static void main(String[] args) ? ###\n\nThis is how Java Language is designed and Java Virtual Machine is designed and written.\n\n### [Oracle Java Language Specification][1] ###\n\nCheck out [Chapter 12 Execution - Section 12.1.4 Invoke Test.main][2]:\n\n&gt; Finally, after completion of the initialization for class Test (during which other consequential loading, linking, and initializing may have occurred), the method main of Test is invoked.\n&gt;\n&gt;The method main must be declared public, static, and void. It must accept a single argument that is an array of strings. This method can be declared as either\n&gt;\n&gt;     public static void main(String[] args)\n&gt;\n&gt;or\n&gt;\n&gt;     public static void main(String... args)\n\n### [Oracle Java Virtual Machine Specification][3] ###\n\nCheck out [Chapter 2 Java Programming Language Concepts - Section 2.17 Execution][4]:\n\n&gt; The Java virtual machine starts execution by invoking the method main of some specified class and passing it a single argument, which is an array of strings. This causes the specified class to be loaded (&#167;2.17.2), linked (&#167;2.17.3) to other types that it uses, and initialized (&#167;2.17.4). The method main must be declared public, static, and void.\n\n### [Oracle OpenJDK Source][5] ###\nDownload and extract the source jar and see how JVM is written, check out `../launcher/java.c`, which contains native C code behind command `java [-options] class [args...]`:\n\n\n    /*\n     * Get the application&#39;s main class.\n     * ... ...\n     */\n    if (jarfile != 0) {\n        mainClassName = GetMainClassName(env, jarfile);\n\n    ... ...\n\n        mainClass = LoadClass(env, classname);\n        if(mainClass == NULL) { /* exception occured */\n\n    ... ...\n\n    /* Get the application&#39;s main method */\n    mainID = (*env)-&gt;GetStaticMethodID(env, mainClass, &quot;main&quot;,\n                                       &quot;([Ljava/lang/String;)V&quot;);\n\n    ... ...\n\n    {    /* Make sure the main method is public */\n        jint mods;\n        jmethodID mid;\n        jobject obj = (*env)-&gt;ToReflectedMethod(env, mainClass,\n                                                mainID, JNI_TRUE);\n\n    ... ...\n\n    /* Build argument array */\n    mainArgs = NewPlatformStringArray(env, argv, argc);\n    if (mainArgs == NULL) {\n        ReportExceptionDescription(env);\n        goto leave;\n    }\n\n    /* Invoke main method. */\n    (*env)-&gt;CallStaticVoidMethod(env, mainClass, mainID, mainArgs);\n\n    ... ...\n\n\n  [1]: http://docs.oracle.com/javase/specs/jls/se5.0/html/j3TOC.html\n  [2]: http://docs.oracle.com/javase/specs/jls/se5.0/html/execution.html#12.1.4\n  [3]: http://docs.oracle.com/javase/specs/jvms/se5.0/html/VMSpecTOC.doc.html\n  [4]: http://docs.oracle.com/javase/specs/jvms/se5.0/html/Concepts.doc.html#19042\n  [5]: http://grepcode.com/snapshot/repository.grepcode.com/java/root/jdk/openjdk/6-b14/","title":"Why is the Java main method static?","body":"<h3>Why public static void main(String[] args) ?</h3>\n<p>This is how Java Language is designed and Java Virtual Machine is designed and written.</p>\n<h3><a href=\"http://docs.oracle.com/javase/specs/jls/se5.0/html/j3TOC.html\" rel=\"noreferrer\">Oracle Java Language Specification</a></h3>\n<p>Check out <a href=\"http://docs.oracle.com/javase/specs/jls/se5.0/html/execution.html#12.1.4\" rel=\"noreferrer\">Chapter 12 Execution - Section 12.1.4 Invoke Test.main</a>:</p>\n<blockquote>\n<p>Finally, after completion of the initialization for class Test (during which other consequential loading, linking, and initializing may have occurred), the method main of Test is invoked.</p>\n<p>The method main must be declared public, static, and void. It must accept a single argument that is an array of strings. This method can be declared as either</p>\n<pre><code>public static void main(String[] args)\n</code></pre>\n<p>or</p>\n<pre><code>public static void main(String... args)\n</code></pre>\n</blockquote>\n<h3><a href=\"http://docs.oracle.com/javase/specs/jvms/se5.0/html/VMSpecTOC.doc.html\" rel=\"noreferrer\">Oracle Java Virtual Machine Specification</a></h3>\n<p>Check out <a href=\"http://docs.oracle.com/javase/specs/jvms/se5.0/html/Concepts.doc.html#19042\" rel=\"noreferrer\">Chapter 2 Java Programming Language Concepts - Section 2.17 Execution</a>:</p>\n<blockquote>\n<p>The Java virtual machine starts execution by invoking the method main of some specified class and passing it a single argument, which is an array of strings. This causes the specified class to be loaded (§2.17.2), linked (§2.17.3) to other types that it uses, and initialized (§2.17.4). The method main must be declared public, static, and void.</p>\n</blockquote>\n<h3><a href=\"http://grepcode.com/snapshot/repository.grepcode.com/java/root/jdk/openjdk/6-b14/\" rel=\"noreferrer\">Oracle OpenJDK Source</a></h3>\n<p>Download and extract the source jar and see how JVM is written, check out <code>../launcher/java.c</code>, which contains native C code behind command <code>java [-options] class [args...]</code>:</p>\n<pre><code>/*\n * Get the application's main class.\n * ... ...\n */\nif (jarfile != 0) {\n    mainClassName = GetMainClassName(env, jarfile);\n\n... ...\n\n    mainClass = LoadClass(env, classname);\n    if(mainClass == NULL) { /* exception occured */\n\n... ...\n\n/* Get the application's main method */\nmainID = (*env)-&gt;GetStaticMethodID(env, mainClass, &quot;main&quot;,\n                                   &quot;([Ljava/lang/String;)V&quot;);\n\n... ...\n\n{    /* Make sure the main method is public */\n    jint mods;\n    jmethodID mid;\n    jobject obj = (*env)-&gt;ToReflectedMethod(env, mainClass,\n                                            mainID, JNI_TRUE);\n\n... ...\n\n/* Build argument array */\nmainArgs = NewPlatformStringArray(env, argv, argc);\nif (mainArgs == NULL) {\n    ReportExceptionDescription(env);\n    goto leave;\n}\n\n/* Invoke main method. */\n(*env)-&gt;CallStaticVoidMethod(env, mainClass, mainID, mainArgs);\n\n... ...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1486441,"reputation":175,"user_id":1394610,"accept_rate":75,"display_name":"Jesse M"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1461579781,"creation_date":1342096995,"answer_id":11452122,"question_id":146576,"body_markdown":"From [java.sun.com][1] (there&#39;s more information on the site) :\r\n\r\n&gt; The main method is static to give the Java VM interpreter a way to start the class without creating an instance of the control class first. Instances of the control class are created in the main method after the program starts.\r\n\r\nMy understanding has always been simply that the main method, like any static method, can be called without creating an instance of the associated class, allowing it to run before anything else in the program.  If it weren&#39;t static, you would have to instantiate an object before calling it-- which creates a &#39;chicken and egg&#39; problem, since the main method is generally what you use to instantiate objects at the beginning of the program.\r\n\r\n\r\n  [1]: http://java.sun.com/developer/onlineTraining/Programming/BasicJava1/prog.html","title":"Why is the Java main method static?","body":"<p>From <a href=\"http://java.sun.com/developer/onlineTraining/Programming/BasicJava1/prog.html\" rel=\"nofollow\">java.sun.com</a> (there's more information on the site) :</p>\n\n<blockquote>\n  <p>The main method is static to give the Java VM interpreter a way to start the class without creating an instance of the control class first. Instances of the control class are created in the main method after the program starts.</p>\n</blockquote>\n\n<p>My understanding has always been simply that the main method, like any static method, can be called without creating an instance of the associated class, allowing it to run before anything else in the program.  If it weren't static, you would have to instantiate an object before calling it-- which creates a 'chicken and egg' problem, since the main method is generally what you use to instantiate objects at the beginning of the program.</p>\n"},{"tags":[],"owner":{"account_id":1161303,"reputation":19991,"user_id":1140748,"accept_rate":93,"display_name":"alain.janinm"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1342258656,"creation_date":1342192547,"answer_id":11473329,"question_id":146576,"body_markdown":"The protoype `public static void main(String[])` is a convention defined in the [JLS][1] :\r\n\r\n&gt;The method main must be declared public, static, and void. It must specify a formal parameter (&#167;8.4.1) whose declared type is array of String. \r\n\r\nIn the JVM specification [5.2. Virtual Machine Start-up ][2] we can read:\r\n\r\n&gt;The Java virtual machine starts up by creating an initial class, which is specified in an implementation-dependent manner, using the bootstrap class loader (&#167;5.3.1). The Java virtual machine then links the initial class, initializes it, and invokes **the public class method void main(String[])**. The invocation of this method drives all further execution. Execution of the Java virtual machine instructions constituting the main method may cause linking (and consequently creation) of additional classes and interfaces, as well as invocation of additional methods.\r\n\r\nFunny thing, in the JVM specification it&#39;s not mention that the main method has to be static.\r\nBut the spec also says that the Java virtual machine perform 2 steps before :\r\n\r\n- links the initial class ([5.4. Linking][3])\r\n- initializes it ([5.5. Initialization][4])\r\n\r\n&gt;Initialization of a class or interface consists of executing its class or interface initialization method.\r\n\r\nIn [2.9. Special Methods][5] :\r\n\r\nA **class or interface initialization method** is defined :\r\n\r\n&gt;A class or interface has at most one class or interface initialization method and is initialized (&#167;5.5) by invoking that method. The initialization method of a class or interface has the special name `&lt;clinit&gt;`, takes no arguments, and is void.\r\n\r\nAnd a **class or interface initialization method** is different from an **instance initialization method** defined as follow :\r\n\r\n&gt;At the level of the Java virtual machine, every constructor written in the Java programming language (JLS &#167;8.8) appears as an instance initialization method that has the special name `&lt;init&gt;`. \r\n\r\nSo the JVM initialize a **class or interface initialization method** and not an **instance initialization method** that is actually a constructor.\r\nSo they don&#39;t need to mention that the main method has to be static in the JVM spec because it&#39;s implied by the fact that no instance are created before calling the main method.\r\n\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/specs/jls/se7/html/jls-12.html#jls-12.1.4\r\n  [2]: http://docs.oracle.com/javase/specs/jvms/se7/html/jvms-5.html#jvms-5.2\r\n  [3]: http://docs.oracle.com/javase/specs/jvms/se7/html/jvms-5.html#jvms-5.4\r\n  [4]: http://docs.oracle.com/javase/specs/jvms/se7/html/jvms-5.html#jvms-5.5\r\n  [5]: http://docs.oracle.com/javase/specs/jvms/se7/html/jvms-2.html#jvms-2.9","title":"Why is the Java main method static?","body":"<p>The protoype <code>public static void main(String[])</code> is a convention defined in the <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-12.html#jls-12.1.4\" rel=\"nofollow\">JLS</a> :</p>\n\n<blockquote>\n  <p>The method main must be declared public, static, and void. It must specify a formal parameter (§8.4.1) whose declared type is array of String. </p>\n</blockquote>\n\n<p>In the JVM specification <a href=\"http://docs.oracle.com/javase/specs/jvms/se7/html/jvms-5.html#jvms-5.2\" rel=\"nofollow\">5.2. Virtual Machine Start-up </a> we can read:</p>\n\n<blockquote>\n  <p>The Java virtual machine starts up by creating an initial class, which is specified in an implementation-dependent manner, using the bootstrap class loader (§5.3.1). The Java virtual machine then links the initial class, initializes it, and invokes <strong>the public class method void main(String[])</strong>. The invocation of this method drives all further execution. Execution of the Java virtual machine instructions constituting the main method may cause linking (and consequently creation) of additional classes and interfaces, as well as invocation of additional methods.</p>\n</blockquote>\n\n<p>Funny thing, in the JVM specification it's not mention that the main method has to be static.\nBut the spec also says that the Java virtual machine perform 2 steps before :</p>\n\n<ul>\n<li>links the initial class (<a href=\"http://docs.oracle.com/javase/specs/jvms/se7/html/jvms-5.html#jvms-5.4\" rel=\"nofollow\">5.4. Linking</a>)</li>\n<li>initializes it (<a href=\"http://docs.oracle.com/javase/specs/jvms/se7/html/jvms-5.html#jvms-5.5\" rel=\"nofollow\">5.5. Initialization</a>)</li>\n</ul>\n\n<blockquote>\n  <p>Initialization of a class or interface consists of executing its class or interface initialization method.</p>\n</blockquote>\n\n<p>In <a href=\"http://docs.oracle.com/javase/specs/jvms/se7/html/jvms-2.html#jvms-2.9\" rel=\"nofollow\">2.9. Special Methods</a> :</p>\n\n<p>A <strong>class or interface initialization method</strong> is defined :</p>\n\n<blockquote>\n  <p>A class or interface has at most one class or interface initialization method and is initialized (§5.5) by invoking that method. The initialization method of a class or interface has the special name <code>&lt;clinit&gt;</code>, takes no arguments, and is void.</p>\n</blockquote>\n\n<p>And a <strong>class or interface initialization method</strong> is different from an <strong>instance initialization method</strong> defined as follow :</p>\n\n<blockquote>\n  <p>At the level of the Java virtual machine, every constructor written in the Java programming language (JLS §8.8) appears as an instance initialization method that has the special name <code>&lt;init&gt;</code>. </p>\n</blockquote>\n\n<p>So the JVM initialize a <strong>class or interface initialization method</strong> and not an <strong>instance initialization method</strong> that is actually a constructor.\nSo they don't need to mention that the main method has to be static in the JVM spec because it's implied by the fact that no instance are created before calling the main method.</p>\n"},{"tags":[],"owner":{"account_id":911998,"reputation":64385,"user_id":947357,"accept_rate":75,"display_name":"A.H."},"down_vote_count":1,"up_vote_count":43,"is_accepted":false,"score":42,"last_activity_date":1532616570,"creation_date":1342354802,"answer_id":11491829,"question_id":146576,"body_markdown":"Let&#39;s simply pretend, that `static` would not be required as the application entry point.\r\n\r\nAn application class would then look like this:\r\n\r\n\r\n    class MyApplication {\r\n        public MyApplication(){\r\n            // Some init code here\r\n        }\r\n        public void main(String[] args){\r\n            // real application code here\r\n        }\r\n    }\r\n\r\nThe distinction between constructor code and `main` method is necessary because in OO speak a constructor shall only make sure, that an instance is _initialized_ properly. After initialization, the instance can be used for the intended &quot;service&quot;. Putting the complete application code into the constructor would spoil that.\r\n\r\nSo this approach would force __three__ different contracts upon the application:\r\n\r\n- There _must_ be a default constructor. Otherwise, the JVM would not know which constructor to call and what parameters should be provided. \r\n- There _must_ be a `main` method&lt;sup&gt;1&lt;/sup&gt;. Ok, this is not surprising.\r\n- The class _must not_ be `abstract`. Otherwise, the JVM could not instantiate it.\r\n\r\n\r\nThe `static` approach on the other hand only requires __one__ contract: \r\n\r\n- There must be a `main` method&lt;sup&gt;1&lt;/sup&gt;.\r\n\r\nHere neither `abstract` nor multiple constructors matters.\r\n\r\nSince Java was designed to be a simple language _for the user_ it is not surprising that also the application entry point has been designed in a simple way using __one__ contract and not in a complex way using __three__ independent and brittle contracts.\r\n\r\nPlease note: This argument is __not__ about simplicity inside the JVM or inside the JRE. This argument is about simplicity for the __user__. \r\n\r\n&lt;hr&gt;\r\n&lt;sup&gt;1&lt;/sup&gt;Here the complete signature counts as only one contract.","title":"Why is the Java main method static?","body":"<p>Let's simply pretend, that <code>static</code> would not be required as the application entry point.</p>\n\n<p>An application class would then look like this:</p>\n\n<pre><code>class MyApplication {\n    public MyApplication(){\n        // Some init code here\n    }\n    public void main(String[] args){\n        // real application code here\n    }\n}\n</code></pre>\n\n<p>The distinction between constructor code and <code>main</code> method is necessary because in OO speak a constructor shall only make sure, that an instance is <em>initialized</em> properly. After initialization, the instance can be used for the intended \"service\". Putting the complete application code into the constructor would spoil that.</p>\n\n<p>So this approach would force <strong>three</strong> different contracts upon the application:</p>\n\n<ul>\n<li>There <em>must</em> be a default constructor. Otherwise, the JVM would not know which constructor to call and what parameters should be provided. </li>\n<li>There <em>must</em> be a <code>main</code> method<sup>1</sup>. Ok, this is not surprising.</li>\n<li>The class <em>must not</em> be <code>abstract</code>. Otherwise, the JVM could not instantiate it.</li>\n</ul>\n\n<p>The <code>static</code> approach on the other hand only requires <strong>one</strong> contract: </p>\n\n<ul>\n<li>There must be a <code>main</code> method<sup>1</sup>.</li>\n</ul>\n\n<p>Here neither <code>abstract</code> nor multiple constructors matters.</p>\n\n<p>Since Java was designed to be a simple language <em>for the user</em> it is not surprising that also the application entry point has been designed in a simple way using <strong>one</strong> contract and not in a complex way using <strong>three</strong> independent and brittle contracts.</p>\n\n<p>Please note: This argument is <strong>not</strong> about simplicity inside the JVM or inside the JRE. This argument is about simplicity for the <strong>user</strong>. </p>\n\n<p><hr>\n<sup>1</sup>Here the complete signature counts as only one contract.</p>\n"},{"tags":[],"owner":{"account_id":446514,"reputation":6213,"user_id":839601,"display_name":"gnat"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1343195925,"creation_date":1343195925,"answer_id":11643561,"question_id":146576,"body_markdown":"Recently, similar question has been posted at Programmers.SE\r\n\r\n* [Why a static main method in Java and C#, rather than a constructor?](https://softwareengineering.stackexchange.com/q/156336/31260)\r\n&gt; Looking for a definitive answer from a primary or secondary source for why did (notably) Java and C# decide to have a static method as their entry point – rather than representing an application instance by an instance of an `Application` class, with the entry point being an appropriate constructor?\r\n \r\n[TL;DR](http://en.wiktionary.org/wiki/TL;DR &quot;what&#39;s this?&quot;) part of the accepted answer is,\r\n\r\n&gt; In Java, the reason of `public static void main(String[] args)` is that\r\n&gt; \r\n&gt; 1. [Gosling](http://en.wikipedia.org/wiki/James_Gosling &quot;who&#39;s that?&quot;) wanted\r\n&gt; 1. the code written by someone experienced in C (not in Java)\r\n&gt; 1. to be executed by someone used to running [PostScript](http://en.wikipedia.org/wiki/PostScript &quot;scripts&quot;) on [NeWS](http://en.wikipedia.org/wiki/NeWS &quot;Networked Extensible Window System&quot;)\r\n&gt; \r\n&gt; &gt; [![https://i.stack.imgur.com/qcmzP.png][1]][2]\r\n&gt; \r\n&gt; &amp;nbsp;  \r\n&gt; For C#, the reasoning is _transitively similar_ so to speak. Language designers kept the [program entry point][3] syntax familiar for programmers coming from Java. As C# architect [Anders Hejlsberg puts it](http://windowsdevcenter.com/pub/a/oreilly/windows/news/hejlsberg_0800.html &quot;An interview by O&#39;Reilly editor John Osborn&quot;),\r\n&gt; &gt; ...our approach with C# has simply been to offer an alternative... to Java programmers...\r\n&gt; \r\n&gt; ...\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qcmzP.png\r\n  [2]: http://www.infoq.com/presentations/gosling-jvm-lang-summit-keynote &quot;key note&quot;\r\n  [3]: http://en.wikipedia.org/wiki/Main_function_(programming) &quot;what&#39;s in the &#39;main&#39;?&quot;","title":"Why is the Java main method static?","body":"<p>Recently, similar question has been posted at Programmers.SE</p>\n\n<ul>\n<li><a href=\"https://softwareengineering.stackexchange.com/q/156336/31260\">Why a static main method in Java and C#, rather than a constructor?</a>\n\n<blockquote>\n  <p>Looking for a definitive answer from a primary or secondary source for why did (notably) Java and C# decide to have a static method as their entry point – rather than representing an application instance by an instance of an <code>Application</code> class, with the entry point being an appropriate constructor?</p>\n</blockquote></li>\n</ul>\n\n<p><a href=\"http://en.wiktionary.org/wiki/TL;DR\" rel=\"nofollow noreferrer\" title=\"what&#39;s this?\">TL;DR</a> part of the accepted answer is,</p>\n\n<blockquote>\n  <p>In Java, the reason of <code>public static void main(String[] args)</code> is that</p>\n  \n  <ol>\n  <li><a href=\"http://en.wikipedia.org/wiki/James_Gosling\" rel=\"nofollow noreferrer\" title=\"who&#39;s that?\">Gosling</a> wanted</li>\n  <li>the code written by someone experienced in C (not in Java)</li>\n  <li>to be executed by someone used to running <a href=\"http://en.wikipedia.org/wiki/PostScript\" rel=\"nofollow noreferrer\" title=\"scripts\">PostScript</a> on <a href=\"http://en.wikipedia.org/wiki/NeWS\" rel=\"nofollow noreferrer\" title=\"Networked Extensible Window System\">NeWS</a></li>\n  </ol>\n  \n  <blockquote>\n    <p><a href=\"http://www.infoq.com/presentations/gosling-jvm-lang-summit-keynote\" rel=\"nofollow noreferrer\" title=\"key note\"><img src=\"https://i.stack.imgur.com/qcmzP.png\" alt=\"https://i.stack.imgur.com/qcmzP.png\"></a></p>\n  </blockquote>\n  \n  <p>&nbsp;<br>\n  For C#, the reasoning is <em>transitively similar</em> so to speak. Language designers kept the <a href=\"http://en.wikipedia.org/wiki/Main_function_(programming)\" rel=\"nofollow noreferrer\" title=\"what&#39;s in the &#39;main&#39;?\">program entry point</a> syntax familiar for programmers coming from Java. As C# architect <a href=\"http://windowsdevcenter.com/pub/a/oreilly/windows/news/hejlsberg_0800.html\" rel=\"nofollow noreferrer\" title=\"An interview by O&#39;Reilly editor John Osborn\">Anders Hejlsberg puts it</a>,</p>\n  \n  <blockquote>\n    <p>...our approach with C# has simply been to offer an alternative... to Java programmers...</p>\n  </blockquote>\n  \n  <p>...</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":3016115,"reputation":3733,"user_id":2558244,"display_name":"Isabella Engineer"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1461465240,"creation_date":1373242265,"answer_id":17517621,"question_id":146576,"body_markdown":"What is the meaning of `public static void main(String args[])`?\r\n\r\n1. `public` is an access specifier meaning anyone can access/invoke it such as JVM(Java Virtual Machine.\r\n2. `static` allows `main()` to be called before an object of the class has been created. This is neccesary because `main()` is called by the JVM before any objects are made. Since it is static it can be directly invoked via the class.\r\n       \r\n        class demo { \t\r\n            private int length;\r\n            private static int breadth;\r\n            void output(){\r\n                length=5;\r\n                System.out.println(length);\r\n            }\r\n    \r\n            static void staticOutput(){\r\n                breadth=10;\t\r\n                System.out.println(breadth);\r\n            }\r\n    \r\n            public static  void main(String args[]){\r\n                demo d1=new demo();\r\n                d1.output(); // Note here output() function is not static so here\r\n                // we need to create object\r\n                staticOutput(); // Note here staticOutput() function is  static so here\r\n                // we needn&#39;t to create object Similar is the case with main\r\n                /* Although:\r\n                demo.staticOutput();  Works fine\r\n                d1.staticOutput();  Works fine */\r\n            }\r\n        }\r\n\r\n    Similarly, we use static sometime for user defined methods so that we need not to make objects.\r\n\r\n3. `void` indicates that the `main()` method being declared \r\ndoes not return a value.\r\n4. `String[] args` specifies the only parameter in the `main()` method.\r\n\r\n    `args` - a parameter which contains an array of objects of class type `String`.\r\n\r\n","title":"Why is the Java main method static?","body":"<p>What is the meaning of <code>public static void main(String args[])</code>?</p>\n\n<ol>\n<li><code>public</code> is an access specifier meaning anyone can access/invoke it such as JVM(Java Virtual Machine.</li>\n<li><p><code>static</code> allows <code>main()</code> to be called before an object of the class has been created. This is neccesary because <code>main()</code> is called by the JVM before any objects are made. Since it is static it can be directly invoked via the class.</p>\n\n<pre><code>class demo {    \n    private int length;\n    private static int breadth;\n    void output(){\n        length=5;\n        System.out.println(length);\n    }\n\n    static void staticOutput(){\n        breadth=10; \n        System.out.println(breadth);\n    }\n\n    public static  void main(String args[]){\n        demo d1=new demo();\n        d1.output(); // Note here output() function is not static so here\n        // we need to create object\n        staticOutput(); // Note here staticOutput() function is  static so here\n        // we needn't to create object Similar is the case with main\n        /* Although:\n        demo.staticOutput();  Works fine\n        d1.staticOutput();  Works fine */\n    }\n}\n</code></pre>\n\n<p>Similarly, we use static sometime for user defined methods so that we need not to make objects.</p></li>\n<li><p><code>void</code> indicates that the <code>main()</code> method being declared \ndoes not return a value.</p></li>\n<li><p><code>String[] args</code> specifies the only parameter in the <code>main()</code> method.</p>\n\n<p><code>args</code> - a parameter which contains an array of objects of class type <code>String</code>.</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":4246694,"reputation":153,"user_id":3475143,"accept_rate":25,"display_name":"Sourav Saha"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1461465629,"creation_date":1421964121,"answer_id":28099497,"question_id":146576,"body_markdown":"Any method declared as static in Java belongs to the class itself .\r\nAgain  static method of a particular class can be accessed only by referring to the class like `Class_name.method_name();`\r\n\r\n\r\nSo a class need not to be instantiated before accessing a static method.\r\n\r\nSo the main() method is declared as `static` so that it can be accessed without creating an object of that class.\r\n\r\nSince we save the program with the name of the class where the main method is present( or from where the program should begin its execution, applicable for classes without a `main()` method()(Advanced Level)). So by the above mentioned way:\r\n\r\n    Class_name.method_name();\r\n\r\nthe main method can be accessed.\r\n\r\nIn brief when the program is compiled it searches for the `main()` method having `String` arguments like: `main(String args[])` in the class mentioned(i.e. by the name of the program), and since at the the beginning it has no scope to instantiate that class, so the main() method is declared as static.","title":"Why is the Java main method static?","body":"<p>Any method declared as static in Java belongs to the class itself .\nAgain  static method of a particular class can be accessed only by referring to the class like <code>Class_name.method_name();</code></p>\n\n<p>So a class need not to be instantiated before accessing a static method.</p>\n\n<p>So the main() method is declared as <code>static</code> so that it can be accessed without creating an object of that class.</p>\n\n<p>Since we save the program with the name of the class where the main method is present( or from where the program should begin its execution, applicable for classes without a <code>main()</code> method()(Advanced Level)). So by the above mentioned way:</p>\n\n<pre><code>Class_name.method_name();\n</code></pre>\n\n<p>the main method can be accessed.</p>\n\n<p>In brief when the program is compiled it searches for the <code>main()</code> method having <code>String</code> arguments like: <code>main(String args[])</code> in the class mentioned(i.e. by the name of the program), and since at the the beginning it has no scope to instantiate that class, so the main() method is declared as static.</p>\n"},{"tags":[],"owner":{"account_id":6138244,"reputation":676,"user_id":4786435,"display_name":"Lordferrous "},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1502338640,"creation_date":1431178287,"answer_id":30140527,"question_id":146576,"body_markdown":"Let me explain these things in a much simpler way:\r\n\r\n    public static void main(String args[])\r\n\r\nAll Java applications, except applets, start their execution from `main()`.\r\n\r\nThe keyword `public` is an access modifier which allows the member to be called from outside the class.\r\n\r\n`static` is used because it allows `main()` to be called without having to instantiate a particular instance of that class.\r\n\r\n`void` indicates that `main()` does not return any value.\r\n","title":"Why is the Java main method static?","body":"<p>Let me explain these things in a much simpler way:</p>\n\n<pre><code>public static void main(String args[])\n</code></pre>\n\n<p>All Java applications, except applets, start their execution from <code>main()</code>.</p>\n\n<p>The keyword <code>public</code> is an access modifier which allows the member to be called from outside the class.</p>\n\n<p><code>static</code> is used because it allows <code>main()</code> to be called without having to instantiate a particular instance of that class.</p>\n\n<p><code>void</code> indicates that <code>main()</code> does not return any value.</p>\n"},{"tags":[],"owner":{"account_id":4959948,"reputation":968,"user_id":3991447,"display_name":"Vamsi Sangam"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1532616665,"creation_date":1433359011,"answer_id":30628730,"question_id":146576,"body_markdown":"I don&#39;t know if the JVM calls the main method before the objects are instantiated... But there is a far more powerful reason why the main() method is static... When JVM calls the main method of the class (say, Person). it invokes it by &quot;**Person.main()**&quot;. You see, the JVM invokes it by the class name. That is why the main() method is supposed to be static and public so that it can be accessed by the JVM.\r\n\r\nHope it helped. If it did, let me know by commenting.","title":"Why is the Java main method static?","body":"<p>I don't know if the JVM calls the main method before the objects are instantiated... But there is a far more powerful reason why the main() method is static... When JVM calls the main method of the class (say, Person). it invokes it by \"<strong>Person.main()</strong>\". You see, the JVM invokes it by the class name. That is why the main() method is supposed to be static and public so that it can be accessed by the JVM.</p>\n\n<p>Hope it helped. If it did, let me know by commenting.</p>\n"},{"tags":[],"owner":{"account_id":6147792,"reputation":157,"user_id":4793214,"display_name":"Varun Vashista"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1436526390,"creation_date":1436526390,"answer_id":31339228,"question_id":146576,"body_markdown":"Basically we make those DATA MEMBERS and MEMBER FUNCTIONS as STATIC which are not performing any task related to an object. And in case of main method, we are making it as an STATIC because it is nothing to do with object, as the main method always run whether we are creating an object or not.","title":"Why is the Java main method static?","body":"<p>Basically we make those DATA MEMBERS and MEMBER FUNCTIONS as STATIC which are not performing any task related to an object. And in case of main method, we are making it as an STATIC because it is nothing to do with object, as the main method always run whether we are creating an object or not.</p>\n"},{"tags":[],"owner":{"account_id":5357575,"reputation":54,"user_id":5255840,"display_name":"Jatin Kathuria"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1461896280,"creation_date":1461896280,"answer_id":36928469,"question_id":146576,"body_markdown":"there is the simple reason behind it that is because object is not required to call static method , if It were non-static method, java virtual machine creates object first then call main() method that will lead to the problem of extra memory allocation.","title":"Why is the Java main method static?","body":"<p>there is the simple reason behind it that is because object is not required to call static method , if It were non-static method, java virtual machine creates object first then call main() method that will lead to the problem of extra memory allocation.</p>\n"},{"tags":[],"owner":{"account_id":2910075,"reputation":11,"user_id":2494522,"display_name":"Mayank Chopra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1471540328,"creation_date":1471540328,"answer_id":39023932,"question_id":146576,"body_markdown":"The **main method** of the program has the **reserved word** **static** which means it is allowed to be used in the static context. A context relates to the use of computer memory during the running of the program. When the virtual machine loads a program, it creates the static context for it, allocating **computer memory** to store the program and its data, etc.. A **dynamic context** is certain kind of allocation of memory which is made later, during the running of the program. The program would not be able to start if the main method was not allowed to run in the static context.","title":"Why is the Java main method static?","body":"<p>The <strong>main method</strong> of the program has the <strong>reserved word</strong> <strong>static</strong> which means it is allowed to be used in the static context. A context relates to the use of computer memory during the running of the program. When the virtual machine loads a program, it creates the static context for it, allocating <strong>computer memory</strong> to store the program and its data, etc.. A <strong>dynamic context</strong> is certain kind of allocation of memory which is made later, during the running of the program. The program would not be able to start if the main method was not allowed to run in the static context.</p>\n"},{"tags":[],"owner":{"account_id":7494390,"reputation":690,"user_id":5695126,"accept_rate":73,"display_name":"Kero Fawzy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1481191440,"creation_date":1481191440,"answer_id":41036654,"question_id":146576,"body_markdown":"static - When the JVM makes a call to the main method there is no object that exists for the class being called therefore it has to have static method to allow invocation from class.","title":"Why is the Java main method static?","body":"<p>static - When the JVM makes a call to the main method there is no object that exists for the class being called therefore it has to have static method to allow invocation from class.</p>\n"},{"tags":[],"owner":{"account_id":5330844,"reputation":14681,"user_id":4251431,"accept_rate":80,"display_name":"Basheer AL-MOMANI"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1487671014,"creation_date":1487671014,"answer_id":42364080,"question_id":146576,"body_markdown":"When you execute the Java Virtual Machine (JVM) with the `java` command, \r\n\r\n    java ClassName argument1 argument2 ...\r\n\r\n When you execute your application, you specify its class name as an argument to the java command, as above\r\n\r\nthe JVM attempts to invoke the main method of the class you specify \r\n\r\n&gt; —at this point, no objects of the class have been created.\r\n\r\n&gt;  Declaring `main` as static `allows` the JVM to `invoke` main `without` creating\r\n&gt; an `instance` of the class.\r\n\r\nlet&#39;s back to the command \r\n\r\n `ClassName` is a `command-line argument` to the JVM that tells it which class to execute. Following the ClassName, you can also specify a `list of Strings` (separated by spaces) as command-line arguments that the JVM will pass to your application. -Such arguments might be used to specify options (e.g., a filename) to run the application- this is why there is a parameter called `String[] args` in the main \r\n\r\nReferences:[Java™ How To Program (Early Objects), Tenth Edition][1] \r\n\r\n\r\n  [1]: https://www.safaribooksonline.com/library/view/javatm-how-to/9780133813036/ch06lev2sec4.html","title":"Why is the Java main method static?","body":"<p>When you execute the Java Virtual Machine (JVM) with the <code>java</code> command, </p>\n\n<pre><code>java ClassName argument1 argument2 ...\n</code></pre>\n\n<p>When you execute your application, you specify its class name as an argument to the java command, as above</p>\n\n<p>the JVM attempts to invoke the main method of the class you specify </p>\n\n<blockquote>\n  <p>—at this point, no objects of the class have been created.</p>\n  \n  <p>Declaring <code>main</code> as static <code>allows</code> the JVM to <code>invoke</code> main <code>without</code> creating\n  an <code>instance</code> of the class.</p>\n</blockquote>\n\n<p>let's back to the command </p>\n\n<p><code>ClassName</code> is a <code>command-line argument</code> to the JVM that tells it which class to execute. Following the ClassName, you can also specify a <code>list of Strings</code> (separated by spaces) as command-line arguments that the JVM will pass to your application. -Such arguments might be used to specify options (e.g., a filename) to run the application- this is why there is a parameter called <code>String[] args</code> in the main </p>\n\n<p>References:<a href=\"https://www.safaribooksonline.com/library/view/javatm-how-to/9780133813036/ch06lev2sec4.html\" rel=\"noreferrer\">Java™ How To Program (Early Objects), Tenth Edition</a> </p>\n"},{"tags":[],"owner":{"account_id":14541547,"reputation":16,"user_id":10503089,"display_name":"Manish Dwivedi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1539534472,"creation_date":1539534472,"answer_id":52804756,"question_id":146576,"body_markdown":"main method always needs to be static because at RunTime JVM does not create any object to call main method and as we know in java static methods are the only methods which can be called using class name so main methods always needs to be static.\r\n\r\nfor more information visit this video :https://www.youtube.com/watch?v=Z7rPNwg-bfk&amp;feature=youtu.be ","title":"Why is the Java main method static?","body":"<p>main method always needs to be static because at RunTime JVM does not create any object to call main method and as we know in java static methods are the only methods which can be called using class name so main methods always needs to be static.</p>\n\n<p>for more information visit this video :<a href=\"https://www.youtube.com/watch?v=Z7rPNwg-bfk&amp;feature=youtu.be\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=Z7rPNwg-bfk&amp;feature=youtu.be</a> </p>\n"}],"owner":{"account_id":2130,"reputation":7437,"user_id":2937,"accept_rate":85,"display_name":"Alotor"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":521892,"favorite_count":0,"down_vote_count":10,"up_vote_count":549,"accepted_answer_id":146662,"answer_count":37,"score":539,"last_activity_date":1696494107,"creation_date":1222631134,"question_id":146576,"body_markdown":"The method signature of a Java `main`method is:\r\n\r\n    public static void main(String[] args) {\r\n        ...\r\n    }\r\n\r\nIs there a reason why this method must be static?\r\n","title":"Why is the Java main method static?","body":"<p>The method signature of a Java <code>main</code>method is:</p>\n<pre><code>public static void main(String[] args) {\n    ...\n}\n</code></pre>\n<p>Is there a reason why this method must be static?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":1841805,"reputation":3174,"user_id":1671058,"accept_rate":71,"display_name":"gaurav jain"},"score":0,"creation_date":1696443985,"post_id":77231995,"comment_id":136155112,"body_markdown":"Check this: https://stackoverflow.com/questions/6056564/installation-error-install-parse-failed-manifest-malformed","body":"Check this: <a href=\"https://stackoverflow.com/questions/6056564/installation-error-install-parse-failed-manifest-malformed\" title=\"installation error install parse failed manifest malformed\">stackoverflow.com/questions/6056564/&hellip;</a>"},{"owner":{"account_id":16171161,"reputation":3526,"user_id":11762907,"display_name":"Shivo&#39;ham"},"score":0,"creation_date":1696487716,"post_id":77231995,"comment_id":136159669,"body_markdown":"check this https://stackoverflow.com/a/14014855/11762907","body":"check this <a href=\"https://stackoverflow.com/a/14014855/11762907\">stackoverflow.com/a/14014855/11762907</a>"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1696495161,"post_id":77231995,"comment_id":136161020,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":29364323,"reputation":15,"user_id":22498371,"display_name":"Re Za"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696493440,"creation_date":1696487169,"answer_id":77234665,"question_id":77231995,"body_markdown":"If your package name has a uppercase letter:\r\n\r\n 1. Change all your package names to lowercase\r\n 2. Update the&#160;meta-data&#160;attribute in manifest to have a valid value.","title":"10/05 01:55:54: Launching &#39;app&#39; on Pixel 3a API 34. The application could not be installed: INSTALL_PARSE_FAILED_MANIFEST_MALFORMED","body":"<p>If your package name has a uppercase letter:</p>\n<ol>\n<li>Change all your package names to lowercase</li>\n<li>Update the meta-data attribute in manifest to have a valid value.</li>\n</ol>\n"}],"owner":{"account_id":26997170,"reputation":1,"user_id":20559081,"display_name":"Klaive"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1696493440,"creation_date":1696442627,"question_id":77231995,"body_markdown":"Installation failed due to: &#39;Failed to commit install session 1173230427 with command package install-commit 1173230427. Error: INSTALL_PARSE_FAILED_MANIFEST_MALFORMED: Failed parse during installPackageLI: /data/app/vmdl1173230427.tmp/base.apk (at Binary XML file line #73): &lt;meta-data&gt; requires an android:value or android:resource attribute&#39;\r\n\r\nI already added android:exported=&quot;true&quot; in my manifest file, but I am still getting this error. I&#39;m using Java btw. Please help.","title":"10/05 01:55:54: Launching &#39;app&#39; on Pixel 3a API 34. The application could not be installed: INSTALL_PARSE_FAILED_MANIFEST_MALFORMED","body":"<p>Installation failed due to: 'Failed to commit install session 1173230427 with command package install-commit 1173230427. Error: INSTALL_PARSE_FAILED_MANIFEST_MALFORMED: Failed parse during installPackageLI: /data/app/vmdl1173230427.tmp/base.apk (at Binary XML file line #73):  requires an android:value or android:resource attribute'</p>\n<p>I already added android:exported=&quot;true&quot; in my manifest file, but I am still getting this error. I'm using Java btw. Please help.</p>\n"},{"tags":["javascript","java","highcharts","gwt","gwt-jsinterop"],"comments":[{"owner":{"account_id":21370194,"reputation":11,"user_id":22687364,"display_name":"Sam"},"score":0,"creation_date":1696492467,"post_id":77234793,"comment_id":136160511,"body_markdown":"It seems that using `&lt;script src=&quot;https://code.highcharts.com/maps/modules/map.js&quot;&gt;&lt;/script&gt;` instead of `&lt;script src=&quot;https://code.highcharts.com/maps/highmaps.js&quot;&gt;&lt;/script&gt;` will do the job.","body":"It seems that using <code>&lt;script src=&quot;https:&#47;&#47;code.highcharts.com&#47;maps&#47;modules&#47;map.js&quot;&gt;&lt;&#47;scri&zwnj;&#8203;pt&gt;</code> instead of <code>&lt;script src=&quot;https:&#47;&#47;code.highcharts.com&#47;maps&#47;highmaps.js&quot;&gt;&lt;&#47;script&gt;</code> will do the job."}],"answers":[{"tags":[],"owner":{"account_id":21370194,"reputation":11,"user_id":22687364,"display_name":"Sam"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696492525,"creation_date":1696492525,"answer_id":77235201,"question_id":77234793,"body_markdown":"It seems that using \r\n\r\n    &lt;script src=&quot;https://code.highcharts.com/maps/modules/map.js&quot;&gt;&lt;/script&gt;\r\n\r\n instead of \r\n\r\n    &lt;script src=&quot;https://code.highcharts.com/maps/highmaps.js&quot;&gt;&lt;/script&gt;\r\n\r\n will do the job.","title":"The highcmaps library does not work if I have imported the highcstock library before it","body":"<p>It seems that using</p>\n<pre><code>&lt;script src=&quot;https://code.highcharts.com/maps/modules/map.js&quot;&gt;&lt;/script&gt;\n</code></pre>\n<p>instead of</p>\n<pre><code>&lt;script src=&quot;https://code.highcharts.com/maps/highmaps.js&quot;&gt;&lt;/script&gt;\n</code></pre>\n<p>will do the job.</p>\n"}],"owner":{"account_id":21370194,"reputation":11,"user_id":22687364,"display_name":"Sam"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696492525,"creation_date":1696488682,"question_id":77234793,"body_markdown":"\r\nI&#39;m working on a Java project where I&#39;m using Highcharts v10.3.2 as my charting library, and I&#39;m using the latest GWT as my client framework. To interact with Highcharts from Java, I&#39;ve created a Java wrapper using jsinterop.\r\n\r\nHowever, I&#39;ve run into a puzzling issue – it seems I can&#39;t use both Highmaps and Highstock in the same project simultaneously.\r\n\r\nHere&#39;s the problem:\r\n\r\nIf I import Highmaps before Highstock, Highmaps works perfectly as expected, but when I try to utilize Highstock, I encounter an error: \r\n\r\n    $wnd.Highcharts.stockChart is not a function.\r\n\r\nConversely, if I change the order and import Highstock before Highmaps, Highstock works like a charm, but now Highmaps throws an error: \r\n\r\n    $wnd.Highcharts.mapChart is not a function.\r\n\r\nThis is how I&#39;m importing the libraries in my project:\r\n\r\n```\r\n&lt;%--Highcharts v10.3.2--%&gt;\r\n&lt;script type=&quot;text/javascript&quot; src=&quot;assets/js/highcharts.min.js&quot; charset=&quot;utf-8&quot;&gt;&lt;/script&gt;\r\n&lt;script type=&quot;text/javascript&quot; src=&quot;assets/js/highcharts-maps.min.js&quot; charset=&quot;utf-8&quot;&gt;&lt;/script&gt;\r\n&lt;script type=&quot;text/javascript&quot; src=&quot;assets/js/highcharts-stock.min.js&quot; charset=&quot;utf-8&quot;&gt;&lt;/script&gt;\r\n&lt;script type=&quot;text/javascript&quot; src=&quot;assets/js/highcharts-more.min.js&quot; charset=&quot;utf-8&quot;&gt;&lt;/script&gt;\r\n```\r\n\r\nI&#39;ve also attempted to reproduce this issue in a CodePen, and it indeed seems to be replicable there as well: [CodePen Example](https://codepen.io/Palacean-Samuel/pen/qBLJgOX)\r\n\r\nHas anyone encountered a similar problem before, or does anyone have insights into why Highstock and Highmaps might not play nicely together when imported in this manner?\r\n\r\n","title":"The highcmaps library does not work if I have imported the highcstock library before it","body":"<p>I'm working on a Java project where I'm using Highcharts v10.3.2 as my charting library, and I'm using the latest GWT as my client framework. To interact with Highcharts from Java, I've created a Java wrapper using jsinterop.</p>\n<p>However, I've run into a puzzling issue – it seems I can't use both Highmaps and Highstock in the same project simultaneously.</p>\n<p>Here's the problem:</p>\n<p>If I import Highmaps before Highstock, Highmaps works perfectly as expected, but when I try to utilize Highstock, I encounter an error:</p>\n<pre><code>$wnd.Highcharts.stockChart is not a function.\n</code></pre>\n<p>Conversely, if I change the order and import Highstock before Highmaps, Highstock works like a charm, but now Highmaps throws an error:</p>\n<pre><code>$wnd.Highcharts.mapChart is not a function.\n</code></pre>\n<p>This is how I'm importing the libraries in my project:</p>\n<pre><code>&lt;%--Highcharts v10.3.2--%&gt;\n&lt;script type=&quot;text/javascript&quot; src=&quot;assets/js/highcharts.min.js&quot; charset=&quot;utf-8&quot;&gt;&lt;/script&gt;\n&lt;script type=&quot;text/javascript&quot; src=&quot;assets/js/highcharts-maps.min.js&quot; charset=&quot;utf-8&quot;&gt;&lt;/script&gt;\n&lt;script type=&quot;text/javascript&quot; src=&quot;assets/js/highcharts-stock.min.js&quot; charset=&quot;utf-8&quot;&gt;&lt;/script&gt;\n&lt;script type=&quot;text/javascript&quot; src=&quot;assets/js/highcharts-more.min.js&quot; charset=&quot;utf-8&quot;&gt;&lt;/script&gt;\n</code></pre>\n<p>I've also attempted to reproduce this issue in a CodePen, and it indeed seems to be replicable there as well: <a href=\"https://codepen.io/Palacean-Samuel/pen/qBLJgOX\" rel=\"nofollow noreferrer\">CodePen Example</a></p>\n<p>Has anyone encountered a similar problem before, or does anyone have insights into why Highstock and Highmaps might not play nicely together when imported in this manner?</p>\n"},{"tags":["java","spring-boot","junit","mocking","mockito"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1696491990,"post_id":77235123,"comment_id":136160422,"body_markdown":"Use `@MockBean` instead of `@Mock`, remove the `@BeforeEach` method then.","body":"Use <code>@MockBean</code> instead of <code>@Mock</code>, remove the <code>@BeforeEach</code> method then."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1696494029,"post_id":77235123,"comment_id":136160792,"body_markdown":"Also your first test doesn&#39;t have any mocked behavior, so it will fail .","body":"Also your first test doesn&#39;t have any mocked behavior, so it will fail ."},{"owner":{"account_id":17412700,"reputation":5,"user_id":22410466,"display_name":"Faiz"},"score":0,"creation_date":1696497828,"post_id":77235123,"comment_id":136161621,"body_markdown":"But I wanted to return the Tokens from the database, that is the reason why I haven&#39;t added any When condition in the first test case. Am I doing this right? like retrieving data from the database, I am new to this unit testing, so any help would be appreciated. Thank you","body":"But I wanted to return the Tokens from the database, that is the reason why I haven&#39;t added any When condition in the first test case. Am I doing this right? like retrieving data from the database, I am new to this unit testing, so any help would be appreciated. Thank you"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1696498007,"post_id":77235123,"comment_id":136161662,"body_markdown":"You are using a mock not  a real database.","body":"You are using a mock not  a real database."}],"answers":[{"tags":[],"owner":{"account_id":26746848,"reputation":226,"user_id":20346807,"display_name":"Joan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1696492388,"creation_date":1696492388,"answer_id":77235187,"question_id":77235123,"body_markdown":"It&#39;s normal that it fails with the @InjectMocks. You don&#39;t have any &quot;when&quot; in the first test. You should add something like this:\r\n\r\n    when(sendNotificationDao.fetchAllTokens(platformId)).thenReturn(List.of(...));\r\n\r\nYou can also remove the @BeforeEach.","title":"Mocking using @Mock annotation is not working for my junit test case","body":"<p>It's normal that it fails with the @InjectMocks. You don't have any &quot;when&quot; in the first test. You should add something like this:</p>\n<pre><code>when(sendNotificationDao.fetchAllTokens(platformId)).thenReturn(List.of(...));\n</code></pre>\n<p>You can also remove the @BeforeEach.</p>\n"}],"owner":{"account_id":17412700,"reputation":5,"user_id":22410466,"display_name":"Faiz"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77235187,"answer_count":1,"score":0,"last_activity_date":1696492388,"creation_date":1696491872,"question_id":77235123,"body_markdown":"I have been Unit testing a class where when I use @Autowired the testing class one of the test methods passes and the other test methods fails, when I use @Inject mocks instead of @Autowired the failed methods work and the previously working method fails, I don&#39;t know what the issue is here.\r\n\r\n&#39;My test case&#39; : \r\n```\r\n@SpringBootTest\r\n@TestMethodOrder(MethodOrderer.OrderAnnotation.class)\r\npublic class NotificationRepositoryTest {\r\n\r\n      //@InjectMocks\r\n\t@Autowired\r\n\tprivate NotificationRepository notificationRepository;\r\n\t\r\n\t\r\n\t@Mock\r\n\tprivate SendNotificationDao sendNotificationDao;\r\n\r\n\t@BeforeEach\r\n\tpublic void setUp() {\r\n\t\tMockitoAnnotations.openMocks(this);\r\n\t}\r\n\r\n\t@Test\r\n\t@Order(1)\r\n\tpublic void getAllTokensTest() {\r\n\t\tString platformId = &quot;push-notifications-27933&quot;;\r\n\t\tList&lt;String&gt; tokens = notificationRepository.getAllTokens(platformId);\r\n\t\tassertNotNull(tokens);\r\n\t\tassertTrue(tokens.size() &gt; 0);\r\n\t}\r\n\r\n\t@Test\r\n\t@Order(2)\r\n\tpublic void tokenExistsTest() {\r\n\t\tString platformId = &quot;some String&quot;;\r\n\t\twhen(sendNotificationDao.fetchAllTokens(platformId)).thenReturn(new ArrayList&lt;&gt;());\r\n\t\tList&lt;String&gt; tokens = notificationRepository.getAllTokens(platformId);\r\n\t\tassertFalse(tokens.size() &gt; 0);\r\n\r\n\t}\r\n\r\n}\r\n```\r\n\r\nMy NotificationRepository class :\r\n```\r\n@Repository\r\npublic class NotificationRepository {\r\n\r\n\t@Autowired\r\n\tprivate SendNotificationDao sendNotificationDao;\r\n\r\n\tpublic List&lt;String&gt; getAllTokens(String platformId) {\r\n\t\treturn sendNotificationDao.fetchAllTokens(platformId);\r\n\t}\r\n}\r\n\r\n```\r\n\r\nmy SendNotificationDao class :\r\n```\r\n@Repository\r\npublic class SendNotificationDao {\r\n\r\n\t@Autowired\r\n\tprivate JdbcTemplate jdbcTemplate;\r\n\t@Autowired\r\n\tprivate NotificationIdGenerator idGenerator;\r\n\r\n\tpublic List&lt;String&gt; fetchAllTokens(String platformId) {\r\n\t\tList&lt;RegisteredTokens&gt; tokens = this.jdbcTemplate.query(Queries.getAllTokens, new PlatformTokenMapper(),platformId);\r\n\t\tList&lt;String&gt; listOfTokens = new ArrayList&lt;&gt;();\r\n\t\tfor (RegisteredTokens registeredTokens : tokens) {\r\n\t\t\tlistOfTokens.add(registeredTokens.getToken());\r\n\t\t}\r\n\t\treturn listOfTokens;\r\n\t}\r\n}\r\n```\r\n\r\n\r\nwhen i use @autowired my Test of order(1) passes and when test of order(2) fails, vice-versa happens when i replace @autowired with @InjectMocks\r\n\r\n\r\nwhen i use @Autowired\r\n```\r\norg.opentest4j.AssertionFailedError: expected: &lt;false&gt; but was: &lt;true&gt;\r\n\tat org.junit.jupiter.api.AssertionFailureBuilder.build(AssertionFailureBuilder.java:151)\r\n\tat org.junit.jupiter.api.AssertionFailureBuilder.buildAndThrow(AssertionFailureBuilder.java:132)\r\n\tat org.junit.jupiter.api.AssertFalse.failNotFalse(AssertFalse.java:63)\r\n\tat org.junit.jupiter.api.AssertFalse.assertFalse(AssertFalse.java:36)\r\n\tat org.junit.jupiter.api.AssertFalse.assertFalse(AssertFalse.java:31)\r\n\tat org.junit.jupiter.api.Assertions.assertFalse(Assertions.java:228)\r\n\tat com.crystalbi.sharedAlertingPlatform.repositoryTests.NotificationRepositoryTest.tokenExistsTest(NotificationRepositoryTest.java:56)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:577)\r\n\tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)\r\n\tat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:95)\r\n\tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:91)\r\n\tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:60)\r\n\tat org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:98)\r\n\tat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:529)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:756)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:452)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210)\r\n\r\n\r\n```\r\n\r\nwhen i use @InjectMocks :\r\n\r\n```\r\norg.opentest4j.AssertionFailedError: expected: &lt;true&gt; but was: &lt;false&gt;\r\n\tat org.junit.jupiter.api.AssertionFailureBuilder.build(AssertionFailureBuilder.java:151)\r\n\tat org.junit.jupiter.api.AssertionFailureBuilder.buildAndThrow(AssertionFailureBuilder.java:132)\r\n\tat org.junit.jupiter.api.AssertTrue.failNotTrue(AssertTrue.java:63)\r\n\tat org.junit.jupiter.api.AssertTrue.assertTrue(AssertTrue.java:36)\r\n\tat org.junit.jupiter.api.AssertTrue.assertTrue(AssertTrue.java:31)\r\n\tat org.junit.jupiter.api.Assertions.assertTrue(Assertions.java:180)\r\n\tat com.crystalbi.sharedAlertingPlatform.repositoryTests.NotificationRepositoryTest.getAllTokensTest(NotificationRepositoryTest.java:47)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:577)\r\n\tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)\r\n\tat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:95)\r\n\tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:91)\r\n\tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:60)\r\n\tat org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:98)\r\n\tat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:529)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:756)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:452)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210)\r\n\r\n\r\n```","title":"Mocking using @Mock annotation is not working for my junit test case","body":"<p>I have been Unit testing a class where when I use @Autowired the testing class one of the test methods passes and the other test methods fails, when I use @Inject mocks instead of @Autowired the failed methods work and the previously working method fails, I don't know what the issue is here.</p>\n<p>'My test case' :</p>\n<pre><code>@SpringBootTest\n@TestMethodOrder(MethodOrderer.OrderAnnotation.class)\npublic class NotificationRepositoryTest {\n\n      //@InjectMocks\n    @Autowired\n    private NotificationRepository notificationRepository;\n    \n    \n    @Mock\n    private SendNotificationDao sendNotificationDao;\n\n    @BeforeEach\n    public void setUp() {\n        MockitoAnnotations.openMocks(this);\n    }\n\n    @Test\n    @Order(1)\n    public void getAllTokensTest() {\n        String platformId = &quot;push-notifications-27933&quot;;\n        List&lt;String&gt; tokens = notificationRepository.getAllTokens(platformId);\n        assertNotNull(tokens);\n        assertTrue(tokens.size() &gt; 0);\n    }\n\n    @Test\n    @Order(2)\n    public void tokenExistsTest() {\n        String platformId = &quot;some String&quot;;\n        when(sendNotificationDao.fetchAllTokens(platformId)).thenReturn(new ArrayList&lt;&gt;());\n        List&lt;String&gt; tokens = notificationRepository.getAllTokens(platformId);\n        assertFalse(tokens.size() &gt; 0);\n\n    }\n\n}\n</code></pre>\n<p>My NotificationRepository class :</p>\n<pre><code>@Repository\npublic class NotificationRepository {\n\n    @Autowired\n    private SendNotificationDao sendNotificationDao;\n\n    public List&lt;String&gt; getAllTokens(String platformId) {\n        return sendNotificationDao.fetchAllTokens(platformId);\n    }\n}\n\n</code></pre>\n<p>my SendNotificationDao class :</p>\n<pre><code>@Repository\npublic class SendNotificationDao {\n\n    @Autowired\n    private JdbcTemplate jdbcTemplate;\n    @Autowired\n    private NotificationIdGenerator idGenerator;\n\n    public List&lt;String&gt; fetchAllTokens(String platformId) {\n        List&lt;RegisteredTokens&gt; tokens = this.jdbcTemplate.query(Queries.getAllTokens, new PlatformTokenMapper(),platformId);\n        List&lt;String&gt; listOfTokens = new ArrayList&lt;&gt;();\n        for (RegisteredTokens registeredTokens : tokens) {\n            listOfTokens.add(registeredTokens.getToken());\n        }\n        return listOfTokens;\n    }\n}\n</code></pre>\n<p>when i use @autowired my Test of order(1) passes and when test of order(2) fails, vice-versa happens when i replace @autowired with @InjectMocks</p>\n<p>when i use @Autowired</p>\n<pre><code>org.opentest4j.AssertionFailedError: expected: &lt;false&gt; but was: &lt;true&gt;\n    at org.junit.jupiter.api.AssertionFailureBuilder.build(AssertionFailureBuilder.java:151)\n    at org.junit.jupiter.api.AssertionFailureBuilder.buildAndThrow(AssertionFailureBuilder.java:132)\n    at org.junit.jupiter.api.AssertFalse.failNotFalse(AssertFalse.java:63)\n    at org.junit.jupiter.api.AssertFalse.assertFalse(AssertFalse.java:36)\n    at org.junit.jupiter.api.AssertFalse.assertFalse(AssertFalse.java:31)\n    at org.junit.jupiter.api.Assertions.assertFalse(Assertions.java:228)\n    at com.crystalbi.sharedAlertingPlatform.repositoryTests.NotificationRepositoryTest.tokenExistsTest(NotificationRepositoryTest.java:56)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:577)\n    at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)\n    at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:95)\n    at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:91)\n    at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:60)\n    at org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:98)\n    at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:529)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:756)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:452)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210)\n\n\n</code></pre>\n<p>when i use @InjectMocks :</p>\n<pre><code>org.opentest4j.AssertionFailedError: expected: &lt;true&gt; but was: &lt;false&gt;\n    at org.junit.jupiter.api.AssertionFailureBuilder.build(AssertionFailureBuilder.java:151)\n    at org.junit.jupiter.api.AssertionFailureBuilder.buildAndThrow(AssertionFailureBuilder.java:132)\n    at org.junit.jupiter.api.AssertTrue.failNotTrue(AssertTrue.java:63)\n    at org.junit.jupiter.api.AssertTrue.assertTrue(AssertTrue.java:36)\n    at org.junit.jupiter.api.AssertTrue.assertTrue(AssertTrue.java:31)\n    at org.junit.jupiter.api.Assertions.assertTrue(Assertions.java:180)\n    at com.crystalbi.sharedAlertingPlatform.repositoryTests.NotificationRepositoryTest.getAllTokensTest(NotificationRepositoryTest.java:47)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:577)\n    at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)\n    at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:95)\n    at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:91)\n    at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:60)\n    at org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:98)\n    at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:529)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:756)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:452)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210)\n\n\n</code></pre>\n"},{"tags":["java","apache-camel","camel-cxf"],"owner":{"account_id":29602525,"reputation":1,"user_id":22687612,"display_name":"Matteo Baglietto"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696492029,"creation_date":1696492029,"question_id":77235140,"body_markdown":"I&#39;ve implemented a dynamic CxfEndpoint that i&#39;m invoking through a FluentProducerTemplate. The service is invoked correctly, and it returns a what it appears to be a chunked response, even if without the Content-Encoding header: a first empty payload, with just the headers, and a second with the full response. Camel seems to close the transaction after the first chunk, giving back an empty body.\r\n\r\nIs there any way to force it to await the second chunk, based on the Content-Length header?\r\n\r\nHere is the FluentProducer:\r\n\r\n```\r\nInputStream inputStream = camelContext.createFluentProducerTemplate()\r\n                   .withHeader(&quot;SOAPAction&quot;, soapActionPrefix + soapActionSeparator + operationName)\r\n                   .withHeader(&quot;Content-Type&quot;, &quot;text/xml; charset=UTF-8&quot;)\r\n                   .withBody(exchange.getMessage().getBody())\r\n                   .to(&quot;cxf://bean://&quot; + ServiceEndpointUtil.getEndpointName(serviceEndpoint))\r\n                   .request(InputStream.class);\r\n```\r\n\r\nHere the &quot;chunked&quot; payloads:\r\n\r\n\r\n```\r\n----------------------------\r\nID: 50537\r\nResponse-Code: 200\r\nEncoding: UTF-8\r\nContent-Type: text/xml; charset=utf-8\r\nHeaders: {Content-Length=[860], Content-Type=[text/xml; charset=utf-8], Date=[Thu, 05 Oct 2023 06:58:04 GMT], Server=[Microsoft-IIS/10.0], X-Powered-By=[ASP.NET]}\r\n----------------------------\r\n\r\n----------------------------\r\nID: 50537\r\nResponse-Code: 200\r\nEncoding: UTF-8\r\nContent-Type: text/xml; charset=utf-8\r\nHeaders: {Content-Length=[860], Content-Type=[text/xml; charset=utf-8], Date=[Thu, 05 Oct 2023 06:58:04 GMT], Server=[Microsoft-IIS/10.0], X-Powered-By=[ASP.NET]}\r\nPayload: &lt;s:Envelope xmlns:s=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;\r\n  &lt;s:Header&gt;\r\n    &lt;ActivityId xmlns=&quot;http://schemas.microsoft.com/2004/09/ServiceModel/Diagnostics&quot; CorrelationId=&quot;c24eb538-4dfe-4dc1-94aa-5ab7f19cb248&quot;&gt;00000000-0000-0000-0000-000000000000&lt;/ActivityId&gt;\r\n  &lt;/s:Header&gt;\r\n  &lt;s:Body xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot;&gt;\r\n    \r\n          ...  ...  ...\r\n\r\n  &lt;/s:Body&gt;\r\n&lt;/s:Envelope&gt;\r\n\r\n--------------------------------------\r\n```\r\n\r\n","title":"Invoking CXF SOAP service with a chunked response gives null body","body":"<p>I've implemented a dynamic CxfEndpoint that i'm invoking through a FluentProducerTemplate. The service is invoked correctly, and it returns a what it appears to be a chunked response, even if without the Content-Encoding header: a first empty payload, with just the headers, and a second with the full response. Camel seems to close the transaction after the first chunk, giving back an empty body.</p>\n<p>Is there any way to force it to await the second chunk, based on the Content-Length header?</p>\n<p>Here is the FluentProducer:</p>\n<pre><code>InputStream inputStream = camelContext.createFluentProducerTemplate()\n                   .withHeader(&quot;SOAPAction&quot;, soapActionPrefix + soapActionSeparator + operationName)\n                   .withHeader(&quot;Content-Type&quot;, &quot;text/xml; charset=UTF-8&quot;)\n                   .withBody(exchange.getMessage().getBody())\n                   .to(&quot;cxf://bean://&quot; + ServiceEndpointUtil.getEndpointName(serviceEndpoint))\n                   .request(InputStream.class);\n</code></pre>\n<p>Here the &quot;chunked&quot; payloads:</p>\n<pre><code>----------------------------\nID: 50537\nResponse-Code: 200\nEncoding: UTF-8\nContent-Type: text/xml; charset=utf-8\nHeaders: {Content-Length=[860], Content-Type=[text/xml; charset=utf-8], Date=[Thu, 05 Oct 2023 06:58:04 GMT], Server=[Microsoft-IIS/10.0], X-Powered-By=[ASP.NET]}\n----------------------------\n\n----------------------------\nID: 50537\nResponse-Code: 200\nEncoding: UTF-8\nContent-Type: text/xml; charset=utf-8\nHeaders: {Content-Length=[860], Content-Type=[text/xml; charset=utf-8], Date=[Thu, 05 Oct 2023 06:58:04 GMT], Server=[Microsoft-IIS/10.0], X-Powered-By=[ASP.NET]}\nPayload: &lt;s:Envelope xmlns:s=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;\n  &lt;s:Header&gt;\n    &lt;ActivityId xmlns=&quot;http://schemas.microsoft.com/2004/09/ServiceModel/Diagnostics&quot; CorrelationId=&quot;c24eb538-4dfe-4dc1-94aa-5ab7f19cb248&quot;&gt;00000000-0000-0000-0000-000000000000&lt;/ActivityId&gt;\n  &lt;/s:Header&gt;\n  &lt;s:Body xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot;&gt;\n    \n          ...  ...  ...\n\n  &lt;/s:Body&gt;\n&lt;/s:Envelope&gt;\n\n--------------------------------------\n</code></pre>\n"},{"tags":["java","list","java-11","mapstruct"],"comments":[{"owner":{"account_id":3052937,"reputation":17914,"user_id":2587166,"accept_rate":83,"display_name":"Luca Basso Ricci"},"score":0,"creation_date":1663066439,"post_id":73701094,"comment_id":130146621,"body_markdown":"you are missing a `)` after `0)`","body":"you are missing a <code>)</code> after <code>0)</code>"},{"owner":{"account_id":5137581,"reputation":340,"user_id":4115835,"accept_rate":15,"display_name":"Loren"},"score":0,"creation_date":1663067272,"post_id":73701094,"comment_id":130146921,"body_markdown":"Thanks @LucaBassoRicci for pointing that out. Now Impl is getting generated but in that I am getting an error there , upload in description","body":"Thanks @LucaBassoRicci for pointing that out. Now Impl is getting generated but in that I am getting an error there , upload in description"}],"answers":[{"tags":[],"owner":{"account_id":3052937,"reputation":17914,"user_id":2587166,"accept_rate":83,"display_name":"Luca Basso Ricci"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663070581,"creation_date":1663069950,"answer_id":73702538,"question_id":73701094,"body_markdown":"IMHO the best way to solve this problem is to use a `@Named` paired with `@Mapping#qualifiedByName`\r\n\r\n    @Mapper\r\n    class Mapper {\r\n    \r\n      @Mapping(target = &quot;orderInvoice&quot;, source =&quot;basePaymentRequest.invoice.eventPayload.orderInvoices&quot;, qualifiedByName=&quot;firstElement&quot;)\r\n      ChargeTransaction createInvoiceCTMapper(PaymentTriggerBaseModel basePaymentRequest, ChargeType chargeType);\r\n    \r\n      @Named(&quot;firstElement&quot;)\r\n      OrderInvoice map(List&lt;OrderInvoice&gt; value) {\r\n        if(value == null) return null;\r\n        if(value.isEmpty()) return null;\r\n        return map(value.get(0));\r\n      }\r\n    \r\n      abstract com.sams.oms.ng.common.models.payment.request.OrderInvoice map(com.sams.oms.ng.common.models.payment.cosmos.OrderInvoice invoice);\r\n    }\r\n\r\nIn this way you are instructed MapStruct to use `map(List&lt;&gt;)` to convert invoices to a single OrderInvoice and abstract `map(OrderInvoice)` to let MapStruct autogenerate mapping code.\r\n\r\nCode in untested because I haven&#39;t limited spare time today,but I hope my example may be useful;if anything is wrong feel free to comment and I will correct code asap.","title":"MapStruct - Map list of objects in single object","body":"<p>IMHO the best way to solve this problem is to use a <code>@Named</code> paired with <code>@Mapping#qualifiedByName</code></p>\n<pre><code>@Mapper\nclass Mapper {\n\n  @Mapping(target = &quot;orderInvoice&quot;, source =&quot;basePaymentRequest.invoice.eventPayload.orderInvoices&quot;, qualifiedByName=&quot;firstElement&quot;)\n  ChargeTransaction createInvoiceCTMapper(PaymentTriggerBaseModel basePaymentRequest, ChargeType chargeType);\n\n  @Named(&quot;firstElement&quot;)\n  OrderInvoice map(List&lt;OrderInvoice&gt; value) {\n    if(value == null) return null;\n    if(value.isEmpty()) return null;\n    return map(value.get(0));\n  }\n\n  abstract com.sams.oms.ng.common.models.payment.request.OrderInvoice map(com.sams.oms.ng.common.models.payment.cosmos.OrderInvoice invoice);\n}\n</code></pre>\n<p>In this way you are instructed MapStruct to use <code>map(List&lt;&gt;)</code> to convert invoices to a single OrderInvoice and abstract <code>map(OrderInvoice)</code> to let MapStruct autogenerate mapping code.</p>\n<p>Code in untested because I haven't limited spare time today,but I hope my example may be useful;if anything is wrong feel free to comment and I will correct code asap.</p>\n"},{"tags":[],"owner":{"account_id":5251236,"reputation":26,"user_id":4195428,"display_name":"Abhilash Galipally"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679343859,"creation_date":1678898445,"answer_id":75747658,"question_id":73701094,"body_markdown":"If we are mapping with the Java expression we need to add `get` and `()` in the expression like below.\r\n```java\r\n@Mapping(target = &quot;orderInvoice&quot;, expression= &quot;java(basePaymentRequest.getInvoice().getEventPayload().getOrderInvoices().get(0))&quot;)\r\n```","title":"MapStruct - Map list of objects in single object","body":"<p>If we are mapping with the Java expression we need to add <code>get</code> and <code>()</code> in the expression like below.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Mapping(target = &quot;orderInvoice&quot;, expression= &quot;java(basePaymentRequest.getInvoice().getEventPayload().getOrderInvoices().get(0))&quot;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29602695,"reputation":1,"user_id":22687753,"display_name":"swdEagle"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696491951,"creation_date":1696491951,"answer_id":77235130,"question_id":73701094,"body_markdown":"The first answer provided is correct, but you do not need to use the qualifiedByName attribute and @Named annotation in this case. Mapstruct is smart enough to pick up your method itself if there is only one possible candidate to map a collection of OrderInvoice to one single OrderInvoice.\r\n\r\nI prefer to leave those out to make the code a bit cleaner.\r\n\r\nIn general, you typically only need qualifiedByName when you overwrite a standard mapstruct conversion (like String to String, but your custom function isn&#39;t a straight copy) or when multiple conversions of the same type exist.\r\n\r\nThe 2nd answer is risky, as there are no null checks and any of those &quot;get&quot; calls could result in a null being returned and then doing a get on that will result in NPE.","title":"MapStruct - Map list of objects in single object","body":"<p>The first answer provided is correct, but you do not need to use the qualifiedByName attribute and @Named annotation in this case. Mapstruct is smart enough to pick up your method itself if there is only one possible candidate to map a collection of OrderInvoice to one single OrderInvoice.</p>\n<p>I prefer to leave those out to make the code a bit cleaner.</p>\n<p>In general, you typically only need qualifiedByName when you overwrite a standard mapstruct conversion (like String to String, but your custom function isn't a straight copy) or when multiple conversions of the same type exist.</p>\n<p>The 2nd answer is risky, as there are no null checks and any of those &quot;get&quot; calls could result in a null being returned and then doing a get on that will result in NPE.</p>\n"}],"owner":{"account_id":5137581,"reputation":340,"user_id":4115835,"accept_rate":15,"display_name":"Loren"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5917,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75747658,"answer_count":3,"score":0,"last_activity_date":1696491951,"creation_date":1663063543,"question_id":73701094,"body_markdown":"I am getting a list of objects from 3rd party but it will always contain one object only. So at my end in target I have created it as an object rather than list. That object contains multiple lists inside it just like source object. \r\n\r\nThis is how I am trying to map a list to an object. ChargeTransaction contain orderInvoice as an object and not a list. For list which are inside ChargeTransaction I have created separate mappers. I dont want to write java code in @afterMapping because then how nested lists will be mapped. The nested lists are of type in both the objects.\r\n    \r\n\r\n   \t@Mapping(target = &quot;orderInvoice&quot;, source = &quot;basePaymentRequest.invoice.eventPayload.orderInvoices&quot;)\r\n\tChargeTransaction createInvoiceCTMapper(PaymentTriggerBaseModel basePaymentRequest, ChargeType chargeType);\r\n\r\nError\r\n    \r\n    java: Can&#39;t map property &quot;List&lt;OrderInvoice&gt; basePaymentRequest.invoice.eventPayload.orderInvoices&quot; to &quot;OrderInvoice orderInvoice&quot;. Consider to declare/implement a mapping method: &quot;OrderInvoice map(List&lt;OrderInvoice&gt; value)&quot;.\r\n\r\nI tried \r\n\r\n    @Mapping(target = &quot;orderInvoice&quot;, expression= &quot;java(basePaymentRequest.invoice.eventPayload.orderInvoices.get(0))&quot;)\r\n\r\nBut it gives error in Impl class \r\n\r\n     chargeTransaction.setOrderInvoice( basePaymentRequest.invoice.eventPayload.orderInvoices.get(0) );\r\n\r\n     java: incompatible types: com.sams.oms.ng.common.models.payment.request.OrderInvoice cannot be converted to com.sams.oms.ng.common.models.payment.cosmos.OrderInvoice\r\n","title":"MapStruct - Map list of objects in single object","body":"<p>I am getting a list of objects from 3rd party but it will always contain one object only. So at my end in target I have created it as an object rather than list. That object contains multiple lists inside it just like source object.</p>\n<p>This is how I am trying to map a list to an object. ChargeTransaction contain orderInvoice as an object and not a list. For list which are inside ChargeTransaction I have created separate mappers. I dont want to write java code in @afterMapping because then how nested lists will be mapped. The nested lists are of type in both the objects.</p>\n<pre><code>@Mapping(target = &quot;orderInvoice&quot;, source = &quot;basePaymentRequest.invoice.eventPayload.orderInvoices&quot;)\nChargeTransaction createInvoiceCTMapper(PaymentTriggerBaseModel basePaymentRequest, ChargeType chargeType);\n</code></pre>\n<p>Error</p>\n<pre><code>java: Can't map property &quot;List&lt;OrderInvoice&gt; basePaymentRequest.invoice.eventPayload.orderInvoices&quot; to &quot;OrderInvoice orderInvoice&quot;. Consider to declare/implement a mapping method: &quot;OrderInvoice map(List&lt;OrderInvoice&gt; value)&quot;.\n</code></pre>\n<p>I tried</p>\n<pre><code>@Mapping(target = &quot;orderInvoice&quot;, expression= &quot;java(basePaymentRequest.invoice.eventPayload.orderInvoices.get(0))&quot;)\n</code></pre>\n<p>But it gives error in Impl class</p>\n<pre><code> chargeTransaction.setOrderInvoice( basePaymentRequest.invoice.eventPayload.orderInvoices.get(0) );\n\n java: incompatible types: com.sams.oms.ng.common.models.payment.request.OrderInvoice cannot be converted to com.sams.oms.ng.common.models.payment.cosmos.OrderInvoice\n</code></pre>\n"},{"tags":["java","json","moodle","lti"],"answers":[{"tags":[],"owner":{"account_id":29333649,"reputation":56,"user_id":22474513,"display_name":"snake"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696491812,"creation_date":1695965008,"answer_id":77199594,"question_id":75530210,"body_markdown":"I&#39;d suggest reading the specification, specifically the part about the tool&#39;s openid-configuration, and even more specifically about the jwks_uri property:\r\nhttps://www.imsglobal.org/spec/lti-dr/v1p0#openid-configuration-0\r\n\r\nThis section clearly states:\r\n&gt; &quot;This specification requires the tool to expose its public key using a JSON Web Key Set URI.&quot;","title":"Moodle. LTI Advantage Automatic Registration","body":"<p>I'd suggest reading the specification, specifically the part about the tool's openid-configuration, and even more specifically about the jwks_uri property:\n<a href=\"https://www.imsglobal.org/spec/lti-dr/v1p0#openid-configuration-0\" rel=\"nofollow noreferrer\">https://www.imsglobal.org/spec/lti-dr/v1p0#openid-configuration-0</a></p>\n<p>This section clearly states:</p>\n<blockquote>\n<p>&quot;This specification requires the tool to expose its public key using a JSON Web Key Set URI.&quot;</p>\n</blockquote>\n"}],"owner":{"account_id":14767792,"reputation":51,"user_id":10665272,"display_name":"saladukha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696491812,"creation_date":1677056054,"question_id":75530210,"body_markdown":"I&#39;m trying to implement automatic Tool registration in Moodle. As described here: https://moodlelti.theedtech.dev/dynreg/\r\n\r\nRegistration is successful and in the settings, I get the following result:\r\n[![enter image description here][1]][1]\r\n\r\nBut I am not satisfied with the &quot;**Public type key**&quot; field.\r\n\r\nI want the &quot;**Public key type**&quot; field to be set as **RSA key** and the **Public key** field to be filled in after automatic registration.\r\n[![enter image description here][2]][2]\r\n\r\nI can&#39;t find the JSON structure that should be passed for this setting. So how and what parameters should I pass to set the key fields the way I want?\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ElswE.png\r\n  [2]: https://i.stack.imgur.com/oQq2Q.png","title":"Moodle. LTI Advantage Automatic Registration","body":"<p>I'm trying to implement automatic Tool registration in Moodle. As described here: <a href=\"https://moodlelti.theedtech.dev/dynreg/\" rel=\"nofollow noreferrer\">https://moodlelti.theedtech.dev/dynreg/</a></p>\n<p>Registration is successful and in the settings, I get the following result:\n<a href=\"https://i.stack.imgur.com/ElswE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ElswE.png\" alt=\"enter image description here\" /></a></p>\n<p>But I am not satisfied with the &quot;<strong>Public type key</strong>&quot; field.</p>\n<p>I want the &quot;<strong>Public key type</strong>&quot; field to be set as <strong>RSA key</strong> and the <strong>Public key</strong> field to be filled in after automatic registration.\n<a href=\"https://i.stack.imgur.com/oQq2Q.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oQq2Q.png\" alt=\"enter image description here\" /></a></p>\n<p>I can't find the JSON structure that should be passed for this setting. So how and what parameters should I pass to set the key fields the way I want?</p>\n"},{"tags":["java","sockets","networking","udp"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1590020012,"post_id":61923676,"comment_id":109526503,"body_markdown":"1. There is no such thing as a UDP connection. 2. There is no problem using the same port for send and receive, and you should not waste ports in this way. 3. You need `ew ByteArrayInputStream(packetReceive.getData(), 0, packetReceive.getLength());` 4. Most importantly, you are probably failing to *send* the datagram of 65507 bytes. You can&#39;t send a datagram larger than your socket send buffer, for a start, and in any case this is in practice far too large for UDP, and also too small for most images. Basically you can&#39;t do this. Use TCP.","body":"1. There is no such thing as a UDP connection. 2. There is no problem using the same port for send and receive, and you should not waste ports in this way. 3. You need <code>ew ByteArrayInputStream(packetReceive.getData(), 0, packetReceive.getLength());</code> 4. Most importantly, you are probably failing to <i>send</i> the datagram of 65507 bytes. You can&#39;t send a datagram larger than your socket send buffer, for a start, and in any case this is in practice far too large for UDP, and also too small for most images. Basically you can&#39;t do this. Use TCP."},{"owner":{"account_id":9047065,"reputation":564,"user_id":6738917,"accept_rate":67,"display_name":"Jonalcaide"},"score":0,"creation_date":1590044127,"post_id":61923676,"comment_id":109532388,"body_markdown":"I know TCP would solve my issues perfectly, but it&#39;s homework I must understand. I am going to try apply your points. Thank you","body":"I know TCP would solve my issues perfectly, but it&#39;s homework I must understand. I am going to try apply your points. Thank you"},{"owner":{"account_id":4620081,"reputation":6197,"user_id":3745413,"display_name":"Ron Maupin"},"score":3,"creation_date":1590067313,"post_id":61923676,"comment_id":109543610,"body_markdown":"Because you must use UDP for your exercise, you need to create an application-layer protocol that will handle converting a stream into individual messages that are much smaller than the data stream. UDP works best if you use data sizes of around 576 bytes. Real-time protocols, e.g. VoIP, use much smaller (20 bytes or so) for the data size on UDP because UDP is connectionless and packets will be lost. You need to take that into account and your protocol must re-request data lost in transit.","body":"Because you must use UDP for your exercise, you need to create an application-layer protocol that will handle converting a stream into individual messages that are much smaller than the data stream. UDP works best if you use data sizes of around 576 bytes. Real-time protocols, e.g. VoIP, use much smaller (20 bytes or so) for the data size on UDP because UDP is connectionless and packets will be lost. You need to take that into account and your protocol must re-request data lost in transit."},{"owner":{"account_id":9047065,"reputation":564,"user_id":6738917,"accept_rate":67,"display_name":"Jonalcaide"},"score":0,"creation_date":1590070172,"post_id":61923676,"comment_id":109545262,"body_markdown":"Good comment @RonMaupin. This would be a nice addition to polish the assigment, although for now I am just learning the basics. I&#39;ve got a solution which I am going to post afterwards one I handle a problem with Netbeans path to files...","body":"Good comment @RonMaupin. This would be a nice addition to polish the assigment, although for now I am just learning the basics. I&#39;ve got a solution which I am going to post afterwards one I handle a problem with Netbeans path to files..."}],"answers":[{"tags":[],"owner":{"account_id":17843673,"reputation":1414,"user_id":12961033,"display_name":"tyChen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1590070865,"creation_date":1590028097,"answer_id":61926190,"question_id":61923676,"body_markdown":"Firstly, I think you need to learn how to use wirshark or tcmpdump to analysis network streams when debugging, that will help you find out the problem and solve it.\r\n\r\n\r\nAs for your program, there are several problems the user207421 has mensioned. I think it&#39;s better to use TCP, but if you want to learn UDP by this way, the thing you need is to do a slim reliable UDP by yourself.\r\n\r\n\r\nFor example, you may need the following models\r\n\r\n- Build a send buffer and recive buffer, check every time if the buffer is empty, if not, send/receive and process it.（Cause UDP has MTU）\r\n\r\n- Add some extra format of information in the head of each datagram, which includes the size of the whole message, the sequence of the datagram, the left size, etc.(Cause you need to cut your message into many parts)\r\n\r\n- Build a controller, which need to have some function like retransmission, rebuild the message, etc.(Cause UDP is unreliable, you need to check the completeness of all parts)\r\n\r\nHope that can help you.","title":"UDP client does not receive bytes","body":"<p>Firstly, I think you need to learn how to use wirshark or tcmpdump to analysis network streams when debugging, that will help you find out the problem and solve it.</p>\n\n<p>As for your program, there are several problems the user207421 has mensioned. I think it's better to use TCP, but if you want to learn UDP by this way, the thing you need is to do a slim reliable UDP by yourself.</p>\n\n<p>For example, you may need the following models</p>\n\n<ul>\n<li><p>Build a send buffer and recive buffer, check every time if the buffer is empty, if not, send/receive and process it.（Cause UDP has MTU）</p></li>\n<li><p>Add some extra format of information in the head of each datagram, which includes the size of the whole message, the sequence of the datagram, the left size, etc.(Cause you need to cut your message into many parts)</p></li>\n<li><p>Build a controller, which need to have some function like retransmission, rebuild the message, etc.(Cause UDP is unreliable, you need to check the completeness of all parts)</p></li>\n</ul>\n\n<p>Hope that can help you.</p>\n"},{"tags":[],"owner":{"account_id":5081709,"reputation":1159,"user_id":4077574,"accept_rate":88,"display_name":"Galaxy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1696491722,"creation_date":1590059715,"answer_id":61933253,"question_id":61923676,"body_markdown":"# The Reason\r\n\r\n[MTU](https://en.wikipedia.org/wiki/Maximum_transmission_unit)!\r\n\r\nYou send packets with long buffers through UDP directly, which may not work in most network circumstances.\r\n\r\nA packet sent through UDP should not be longer than the network MTU. Otherwise, it would be dropped. The network MTU may not be more than 1500 on most net nods(routers/switches/hosts...) and even smaller sometimes. Though some nodes may do segmentation for IP packets, you should not count on it when you are using UDP.\r\n\r\n# Suggestions\r\n\r\nUse TCP instead in this application as for:\r\n\r\n* You are sending data expected to be complete (otherwise, it would be useless).\r\n\r\n* You do not care about congestion control algorithms.\r\n\r\nSo go with TCP.\r\n\r\n# Edit Based on The Update of The Question\r\n\r\nSo, as this is an exercise, in which you have to use UDP only.\r\n\r\nAs a file might be useless unless it is complete, you have to make sure:\r\n\r\n* All packets are possible to pass the path. This means the network should be physically and virtually connected, and the packet size should always be smaller than the MTU.\r\n* If any packets are lost, both the receiver and the sender should be able to know.\r\n* If any packets come out of order, the receiver should be able to know.\r\n* The sender should be able to cache and resend the packets not yet confirmed by the receiver.\r\n\r\nMake sure you have a good network connection. Split the image buffer into a buffer array with each buffer item length less than 1000 bytes (should be safe).\r\n\r\nThen let&#39;s design an amature but simple protocol for this:\r\n\r\n~~~\r\n    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\r\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\r\n   | type                          | sequence number               |\r\n   +=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+\r\n   | payload ...                                                   |\r\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\r\n   | ...                                                           |\r\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\r\n~~~\r\n\r\nFor types, we may need:\r\n\r\n* hello: 0x01\r\n* bye: 0x02\r\n* ack: 0x03\r\n* nack: 0x04\r\n* data: 0x05\r\n* feedback: 0x06\r\n* ...\r\n\r\nThe sequence should be mono-increasing. e.g. 1, 2, 3, 4.... (It is not necessary to start from 1, but OK.)\r\n\r\nIt works like the following:\r\n\r\n~~~\r\nSender-&gt;Receiver: hello(seq=i)\r\nReceiver-&gt;Sender: ack(seq=i)\r\n\r\n# Sender-&gt;Receiver: hello(seq=i)\r\n# if timeout and got no ack for seq=i\r\n\r\nSender-&gt;Receiver: data(seq=i+1)\r\nReceiver-&gt;Sender: ack(seq=i+1)\r\n\r\n# Sender-&gt;Receiver: hello(seq=i+1)\r\n# if timeout and got no ack for seq=i+1\r\n\r\nSender-&gt;Receiver: data(seq=i+2)\r\nSender-&gt;Receiver: data(seq=i+3)\r\nReceiver-&gt;Sender: ack(seq=i+2)\r\nReceiver-&gt;Sender: ack(seq=i+3)\r\n\r\n# Sender-&gt;Receiver: hello(seq=i+2)\r\n# if timeout and got no ack for seq=i+2 or got nack for seq=i+2\r\n\r\nSender-&gt;Receiver: bye(seq=n)\r\nReceiver-&gt;Sender: ack(seq=n)\r\n\r\n# bye is not necessary\r\n~~~","title":"UDP client does not receive bytes","body":"<h1>The Reason</h1>\n<p><a href=\"https://en.wikipedia.org/wiki/Maximum_transmission_unit\" rel=\"nofollow noreferrer\">MTU</a>!</p>\n<p>You send packets with long buffers through UDP directly, which may not work in most network circumstances.</p>\n<p>A packet sent through UDP should not be longer than the network MTU. Otherwise, it would be dropped. The network MTU may not be more than 1500 on most net nods(routers/switches/hosts...) and even smaller sometimes. Though some nodes may do segmentation for IP packets, you should not count on it when you are using UDP.</p>\n<h1>Suggestions</h1>\n<p>Use TCP instead in this application as for:</p>\n<ul>\n<li><p>You are sending data expected to be complete (otherwise, it would be useless).</p>\n</li>\n<li><p>You do not care about congestion control algorithms.</p>\n</li>\n</ul>\n<p>So go with TCP.</p>\n<h1>Edit Based on The Update of The Question</h1>\n<p>So, as this is an exercise, in which you have to use UDP only.</p>\n<p>As a file might be useless unless it is complete, you have to make sure:</p>\n<ul>\n<li>All packets are possible to pass the path. This means the network should be physically and virtually connected, and the packet size should always be smaller than the MTU.</li>\n<li>If any packets are lost, both the receiver and the sender should be able to know.</li>\n<li>If any packets come out of order, the receiver should be able to know.</li>\n<li>The sender should be able to cache and resend the packets not yet confirmed by the receiver.</li>\n</ul>\n<p>Make sure you have a good network connection. Split the image buffer into a buffer array with each buffer item length less than 1000 bytes (should be safe).</p>\n<p>Then let's design an amature but simple protocol for this:</p>\n<pre><code>    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n   | type                          | sequence number               |\n   +=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+\n   | payload ...                                                   |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n   | ...                                                           |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n</code></pre>\n<p>For types, we may need:</p>\n<ul>\n<li>hello: 0x01</li>\n<li>bye: 0x02</li>\n<li>ack: 0x03</li>\n<li>nack: 0x04</li>\n<li>data: 0x05</li>\n<li>feedback: 0x06</li>\n<li>...</li>\n</ul>\n<p>The sequence should be mono-increasing. e.g. 1, 2, 3, 4.... (It is not necessary to start from 1, but OK.)</p>\n<p>It works like the following:</p>\n<pre><code>Sender-&gt;Receiver: hello(seq=i)\nReceiver-&gt;Sender: ack(seq=i)\n\n# Sender-&gt;Receiver: hello(seq=i)\n# if timeout and got no ack for seq=i\n\nSender-&gt;Receiver: data(seq=i+1)\nReceiver-&gt;Sender: ack(seq=i+1)\n\n# Sender-&gt;Receiver: hello(seq=i+1)\n# if timeout and got no ack for seq=i+1\n\nSender-&gt;Receiver: data(seq=i+2)\nSender-&gt;Receiver: data(seq=i+3)\nReceiver-&gt;Sender: ack(seq=i+2)\nReceiver-&gt;Sender: ack(seq=i+3)\n\n# Sender-&gt;Receiver: hello(seq=i+2)\n# if timeout and got no ack for seq=i+2 or got nack for seq=i+2\n\nSender-&gt;Receiver: bye(seq=n)\nReceiver-&gt;Sender: ack(seq=n)\n\n# bye is not necessary\n</code></pre>\n"}],"owner":{"account_id":9047065,"reputation":564,"user_id":6738917,"accept_rate":67,"display_name":"Jonalcaide"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1203,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":61933253,"answer_count":2,"score":0,"last_activity_date":1696491722,"creation_date":1590011993,"question_id":61923676,"body_markdown":"This question has been asked a lot, but so far, none of the solutions that I applied from previous answers have helped me.\r\n\r\n**Main goal**\r\n\r\nI am trying to learn UDP conexions and this is my attempt. I want to have a client ask for a picture at a server via UDP and the server will send it. Then the client will create a file with that information given.\r\n\r\n**Explanation**\r\n\r\nMy main idea is to ask the server for an image using a &quot;GET&quot; command (not the HTTP, just GET) followed by the name of the image(extension included). Then the client awaits an answer which is the image requested.\r\n\r\n**Problems**\r\n\r\nThe client waits and answer which does no come\r\n\r\n\r\n**Research**\r\n\r\n- From another similar question it was a problem that I was using the same PORT for both receive and connect, so I added two ports, receivingPORT and sendingPORT, no results from the Client.\r\n\r\n- From other similar questions, It was a Firewall problem. So, on a Win10 machine, I created a new rule for UDP in the Firewall for the ports that I am using for this application, and nothing was received by the Client...\r\n\r\nI have checked that the image is loaded into `byte[]` and the image is sent. But on the Client, nothing is received and stays there waiting for a connection to come through\r\n\r\n\r\n**CODE from Server**\r\n\r\n    public class UDPserver {\r\n        \r\n        static DatagramSocket serverUDP;\r\n        static DatagramPacket packet;\r\n        static InetAddress address;\r\n        static byte[] buffer = new byte[65507];//65507\r\n        final static int receivingPORT = 6668;\r\n        final static int sendingPORT = 6669; \r\n            \r\n        public static void main(String[] args) throws SocketException, IOException, InterruptedException{\r\n            \r\n            boolean serverActive = true;\r\n            \r\n            String order = &quot;&quot;;\r\n            String file = &quot;&quot;;\r\n            \r\n            //Instantiate server\r\n            serverUDP = new DatagramSocket(receivingPORT);\r\n            \r\n            while(serverActive){            \r\n    \r\n                //Kind of packet we want to receive\r\n                packet = new DatagramPacket(buffer, buffer.length);\r\n    \r\n                System.out.println(&quot;Server awaiting connection...&quot;);\r\n                //Receive it\r\n                serverUDP.receive(packet);\r\n                System.out.println(&quot;Received packet from: &quot; + packet.getAddress() + &quot;/&quot; + packet.getPort());\r\n    \r\n                //What does the packet contain?\r\n                String msg = new String(packet.getData());\r\n                address = packet.getAddress();\r\n                System.out.println(&quot;Order from: &quot; + address + &quot;/&quot; + receivingPORT + &quot; says: &quot; + msg);\r\n                \r\n                try{\r\n                    order = msg.split(&quot; &quot;)[0].trim();\r\n                    file = msg.split(&quot; &quot;)[1].trim();\r\n                } catch (Exception e){\r\n                    \r\n                }           \r\n    \r\n                switch(order){\r\n                    case(&quot;GET&quot;):{\r\n                        System.out.println(&quot;Sending back an image...&quot;);\r\n                        buffer = loadImageFromServer(file);\r\n                        packet = new DatagramPacket(buffer, buffer.length, address, sendingPORT);\r\n                        Thread.sleep(5000);\r\n                        serverUDP.send(packet); \r\n                        System.out.println(&quot;Client served&quot;);\r\n                        break;\r\n                    }\r\n                    case(&quot;DISCONNECT&quot;):{\r\n                        buffer = &quot;Server is disconnecting...&quot;.getBytes();\r\n                        packet = new DatagramPacket(buffer, buffer.length, address, sendingPORT);\r\n                        serverUDP.send(packet);\r\n                        serverActive = false;\r\n                        serverUDP.close();\r\n                        break;\r\n                    }                \r\n                }                   \r\n            }        \r\n        }\r\n        \r\n        static byte[] loadImageFromServer(String path) {\r\n                \r\n            try {\r\n                System.out.println(&quot;Loading path: &quot; + path);\r\n                //Instantiate a buffer from the image for it\r\n                BufferedImage img = ImageIO.read(UDPserver.class.getResource(path));\r\n                //Create a byte[] stream object to handle the data\r\n                ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n                //Write the image data into those above with jpg format\r\n                ImageIO.write(img, &quot;png&quot;, baos);\r\n                //Flush the information\r\n                baos.flush();\r\n                \r\n                byte[] buffer = baos.toByteArray(); //Write it out on a byte string and return it\r\n                return buffer;            \r\n                \r\n            } catch (IOException ex) {\r\n                Logger.getLogger(UDPserver.class.getName()).log(Level.SEVERE, null, ex.fillInStackTrace());\r\n                System.exit(-1);\r\n            }\r\n            return null;\r\n        }\r\n    }\r\n\r\n**CODE client**\r\n\r\n    public class Client {\r\n        \r\n        static DatagramSocket clientUDP;\r\n        static InetAddress address;\r\n        static DatagramPacket packetSend;\r\n        static DatagramPacket packetReceive;\r\n        \r\n        static int SIZE = 65507;\r\n        final static int receivingPORT = 6669;\r\n        final static int sendingPORT = 6668; \r\n        \r\n        static byte[] buffer = new byte[SIZE];\r\n        \r\n        static Scanner scan = new Scanner(System.in);\r\n        \r\n        public static void main(String[] args) throws SocketException, UnknownHostException, IOException{\r\n            \r\n    \r\n                boolean clientLoop = true;\r\n            \r\n                //Get address\r\n                address = InetAddress.getByName(&quot;localhost&quot;);\r\n    \r\n                //Instantiate Client -&gt; UDP\r\n                clientUDP = new DatagramSocket();\r\n    \r\n                while(clientLoop){\r\n                    System.out.print(&quot;Enter any key and press enter&quot;);\r\n                    scan.next(); //Just to stop the loop\r\n                    \r\n                    //Load the buffer\r\n                    buffer = &quot;GET imagenServidor.png&quot;.getBytes();\r\n                    //buffer = &quot;DISCONNECT&quot;.getBytes();\r\n    \r\n                    System.out.println(&quot;Buffer is ready&quot;);\r\n    \r\n                    //Arm the packet\r\n                    packetSend = new DatagramPacket(buffer, buffer.length, address, sendingPORT);\r\n                    System.out.println(&quot;Packet is armed!&quot;);\r\n    \r\n                    //Send the packet to the server\r\n                    clientUDP.send(packetSend);\r\n                    System.out.println(&quot;Order sent to server&quot;);\r\n                    \r\n                    System.out.println(&quot;Waiting an answer&quot;);\r\n                    \r\n                    packetReceive = new DatagramPacket(buffer, buffer.length, address, receivingPORT);\r\n                    clientUDP.receive(packetReceive);\r\n                    System.out.println(&quot;Server answered!&quot;);\r\n    \r\n                    ByteArrayInputStream bais = new ByteArrayInputStream(packetReceive.getData());\r\n                    BufferedImage image = ImageIO.read(bais);\r\n                    System.out.println(image);\r\n                }            \r\n                clientUDP.close();\r\n        }    \r\n    }\r\n\r\nNOTES\r\n\r\n- This is a UDP exercise","title":"UDP client does not receive bytes","body":"<p>This question has been asked a lot, but so far, none of the solutions that I applied from previous answers have helped me.</p>\n\n<p><strong>Main goal</strong></p>\n\n<p>I am trying to learn UDP conexions and this is my attempt. I want to have a client ask for a picture at a server via UDP and the server will send it. Then the client will create a file with that information given.</p>\n\n<p><strong>Explanation</strong></p>\n\n<p>My main idea is to ask the server for an image using a \"GET\" command (not the HTTP, just GET) followed by the name of the image(extension included). Then the client awaits an answer which is the image requested.</p>\n\n<p><strong>Problems</strong></p>\n\n<p>The client waits and answer which does no come</p>\n\n<p><strong>Research</strong></p>\n\n<ul>\n<li><p>From another similar question it was a problem that I was using the same PORT for both receive and connect, so I added two ports, receivingPORT and sendingPORT, no results from the Client.</p></li>\n<li><p>From other similar questions, It was a Firewall problem. So, on a Win10 machine, I created a new rule for UDP in the Firewall for the ports that I am using for this application, and nothing was received by the Client...</p></li>\n</ul>\n\n<p>I have checked that the image is loaded into <code>byte[]</code> and the image is sent. But on the Client, nothing is received and stays there waiting for a connection to come through</p>\n\n<p><strong>CODE from Server</strong></p>\n\n<pre><code>public class UDPserver {\n\n    static DatagramSocket serverUDP;\n    static DatagramPacket packet;\n    static InetAddress address;\n    static byte[] buffer = new byte[65507];//65507\n    final static int receivingPORT = 6668;\n    final static int sendingPORT = 6669; \n\n    public static void main(String[] args) throws SocketException, IOException, InterruptedException{\n\n        boolean serverActive = true;\n\n        String order = \"\";\n        String file = \"\";\n\n        //Instantiate server\n        serverUDP = new DatagramSocket(receivingPORT);\n\n        while(serverActive){            \n\n            //Kind of packet we want to receive\n            packet = new DatagramPacket(buffer, buffer.length);\n\n            System.out.println(\"Server awaiting connection...\");\n            //Receive it\n            serverUDP.receive(packet);\n            System.out.println(\"Received packet from: \" + packet.getAddress() + \"/\" + packet.getPort());\n\n            //What does the packet contain?\n            String msg = new String(packet.getData());\n            address = packet.getAddress();\n            System.out.println(\"Order from: \" + address + \"/\" + receivingPORT + \" says: \" + msg);\n\n            try{\n                order = msg.split(\" \")[0].trim();\n                file = msg.split(\" \")[1].trim();\n            } catch (Exception e){\n\n            }           \n\n            switch(order){\n                case(\"GET\"):{\n                    System.out.println(\"Sending back an image...\");\n                    buffer = loadImageFromServer(file);\n                    packet = new DatagramPacket(buffer, buffer.length, address, sendingPORT);\n                    Thread.sleep(5000);\n                    serverUDP.send(packet); \n                    System.out.println(\"Client served\");\n                    break;\n                }\n                case(\"DISCONNECT\"):{\n                    buffer = \"Server is disconnecting...\".getBytes();\n                    packet = new DatagramPacket(buffer, buffer.length, address, sendingPORT);\n                    serverUDP.send(packet);\n                    serverActive = false;\n                    serverUDP.close();\n                    break;\n                }                \n            }                   \n        }        \n    }\n\n    static byte[] loadImageFromServer(String path) {\n\n        try {\n            System.out.println(\"Loading path: \" + path);\n            //Instantiate a buffer from the image for it\n            BufferedImage img = ImageIO.read(UDPserver.class.getResource(path));\n            //Create a byte[] stream object to handle the data\n            ByteArrayOutputStream baos = new ByteArrayOutputStream();\n            //Write the image data into those above with jpg format\n            ImageIO.write(img, \"png\", baos);\n            //Flush the information\n            baos.flush();\n\n            byte[] buffer = baos.toByteArray(); //Write it out on a byte string and return it\n            return buffer;            \n\n        } catch (IOException ex) {\n            Logger.getLogger(UDPserver.class.getName()).log(Level.SEVERE, null, ex.fillInStackTrace());\n            System.exit(-1);\n        }\n        return null;\n    }\n}\n</code></pre>\n\n<p><strong>CODE client</strong></p>\n\n<pre><code>public class Client {\n\n    static DatagramSocket clientUDP;\n    static InetAddress address;\n    static DatagramPacket packetSend;\n    static DatagramPacket packetReceive;\n\n    static int SIZE = 65507;\n    final static int receivingPORT = 6669;\n    final static int sendingPORT = 6668; \n\n    static byte[] buffer = new byte[SIZE];\n\n    static Scanner scan = new Scanner(System.in);\n\n    public static void main(String[] args) throws SocketException, UnknownHostException, IOException{\n\n\n            boolean clientLoop = true;\n\n            //Get address\n            address = InetAddress.getByName(\"localhost\");\n\n            //Instantiate Client -&gt; UDP\n            clientUDP = new DatagramSocket();\n\n            while(clientLoop){\n                System.out.print(\"Enter any key and press enter\");\n                scan.next(); //Just to stop the loop\n\n                //Load the buffer\n                buffer = \"GET imagenServidor.png\".getBytes();\n                //buffer = \"DISCONNECT\".getBytes();\n\n                System.out.println(\"Buffer is ready\");\n\n                //Arm the packet\n                packetSend = new DatagramPacket(buffer, buffer.length, address, sendingPORT);\n                System.out.println(\"Packet is armed!\");\n\n                //Send the packet to the server\n                clientUDP.send(packetSend);\n                System.out.println(\"Order sent to server\");\n\n                System.out.println(\"Waiting an answer\");\n\n                packetReceive = new DatagramPacket(buffer, buffer.length, address, receivingPORT);\n                clientUDP.receive(packetReceive);\n                System.out.println(\"Server answered!\");\n\n                ByteArrayInputStream bais = new ByteArrayInputStream(packetReceive.getData());\n                BufferedImage image = ImageIO.read(bais);\n                System.out.println(image);\n            }            \n            clientUDP.close();\n    }    \n}\n</code></pre>\n\n<p>NOTES</p>\n\n<ul>\n<li>This is a UDP exercise</li>\n</ul>\n"},{"tags":["java","spring","dependency-injection"],"answers":[{"tags":[],"owner":{"account_id":273624,"reputation":7478,"user_id":565342,"accept_rate":100,"display_name":"gabuzo"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1299077935,"creation_date":1299077935,"answer_id":5169298,"question_id":5169230,"body_markdown":"Sure you can add `autowire-candidate=&quot;false&quot;` on the definition of the bean you want to *hide*.","title":"Spring: how to hide bean from dependency injection?","body":"<p>Sure you can add <code>autowire-candidate=\"false\"</code> on the definition of the bean you want to <em>hide</em>.</p>\n"},{"tags":[],"owner":{"account_id":297814,"reputation":25314,"user_id":603516,"accept_rate":100,"display_name":"Vadzim"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1381914694,"creation_date":1381914694,"answer_id":19399370,"question_id":5169230,"body_markdown":"In many cases it could be better to promote one bean with [primary=&quot;true&quot;][1] or [@Primary][2] instead of demoting all other candidates with [autowire-candidate=&quot;false&quot;][3].\r\n\r\n  [1]: http://docs.spring.io/spring/docs/3.2.x/spring-framework-reference/html/beans.html#beans-autowired-exceptions\r\n  [2]: http://docs.spring.io/spring/docs/3.2.x/javadoc-api/org/springframework/context/annotation/Primary.html\r\n  [3]: http://docs.spring.io/spring/docs/3.2.x/spring-framework-reference/html/beans.html#beans-factory-autowire-candidate","title":"Spring: how to hide bean from dependency injection?","body":"<p>In many cases it could be better to promote one bean with <a href=\"http://docs.spring.io/spring/docs/3.2.x/spring-framework-reference/html/beans.html#beans-autowired-exceptions\" rel=\"nofollow\">primary=\"true\"</a> or <a href=\"http://docs.spring.io/spring/docs/3.2.x/javadoc-api/org/springframework/context/annotation/Primary.html\" rel=\"nofollow\">@Primary</a> instead of demoting all other candidates with <a href=\"http://docs.spring.io/spring/docs/3.2.x/spring-framework-reference/html/beans.html#beans-factory-autowire-candidate\" rel=\"nofollow\">autowire-candidate=\"false\"</a>.</p>\n"},{"tags":[],"owner":{"account_id":121925,"reputation":2229,"user_id":315385,"display_name":"xilef"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696491470,"creation_date":1696491470,"answer_id":77235085,"question_id":5169230,"body_markdown":"With java config, use `@Bean(autowireCandidate = false)`","title":"Spring: how to hide bean from dependency injection?","body":"<p>With java config, use <code>@Bean(autowireCandidate = false)</code></p>\n"}],"owner":{"account_id":223715,"reputation":12555,"user_id":483113,"accept_rate":89,"display_name":"sjngm"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2935,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":5169298,"answer_count":3,"score":3,"last_activity_date":1696491470,"creation_date":1299077643,"question_id":5169230,"body_markdown":"The situation is that I have two different resource bundles, a general one and a more specific one. They don&#39;t share any message keys.\r\n\r\nGeneral one:\r\n\r\n\t&lt;bean id=&quot;messageSourceGlobal&quot; class=&quot;org.springframework.context.support.ResourceBundleMessageSource&quot;&gt;\r\n\t\t&lt;property name=&quot;basename&quot; value=&quot;messages/messagesGlobal&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n\r\nI include the general one in my specific one (different file obviously):\r\n\r\n\t&lt;bean id=&quot;messageSource&quot; class=&quot;org.springframework.context.support.ResourceBundleMessageSource&quot;&gt;\r\n\t\t&lt;property name=&quot;basename&quot; value=&quot;messages/messages&quot; /&gt;\r\n\t\t&lt;property name=&quot;parentMessageSource&quot; ref=&quot;messageSourceGlobal&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n\r\nThe Java-code then autowires it:\r\n\r\n\t@Autowired\r\n\tprivate MessageSource messages;\r\n\r\nThis will cause an exception when starting the web-app as two `MessageSource`s are found. Obviously I can use a `@Qualifier` to make it clear to Spring what I want. However, the general resource bundle won&#39;t be used alone. Therefore, I thought that in this case it would make sense to hide the general resource bundle from dependency injection. One benefit would be that others won&#39;t run into the &quot;duplicates&quot;.\r\n\r\nIs this possible? How would I do this?","title":"Spring: how to hide bean from dependency injection?","body":"<p>The situation is that I have two different resource bundles, a general one and a more specific one. They don't share any message keys.</p>\n\n<p>General one:</p>\n\n<pre><code>&lt;bean id=\"messageSourceGlobal\" class=\"org.springframework.context.support.ResourceBundleMessageSource\"&gt;\n    &lt;property name=\"basename\" value=\"messages/messagesGlobal\" /&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>I include the general one in my specific one (different file obviously):</p>\n\n<pre><code>&lt;bean id=\"messageSource\" class=\"org.springframework.context.support.ResourceBundleMessageSource\"&gt;\n    &lt;property name=\"basename\" value=\"messages/messages\" /&gt;\n    &lt;property name=\"parentMessageSource\" ref=\"messageSourceGlobal\" /&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>The Java-code then autowires it:</p>\n\n<pre><code>@Autowired\nprivate MessageSource messages;\n</code></pre>\n\n<p>This will cause an exception when starting the web-app as two <code>MessageSource</code>s are found. Obviously I can use a <code>@Qualifier</code> to make it clear to Spring what I want. However, the general resource bundle won't be used alone. Therefore, I thought that in this case it would make sense to hide the general resource bundle from dependency injection. One benefit would be that others won't run into the \"duplicates\".</p>\n\n<p>Is this possible? How would I do this?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5964120,"reputation":4275,"user_id":4688321,"display_name":"kiner_shah"},"score":1,"creation_date":1696488786,"post_id":77234787,"comment_id":136159844,"body_markdown":"Try using a simple for loop.","body":"Try using a simple for loop."},{"owner":{"account_id":29602357,"reputation":3,"user_id":22687481,"display_name":"Arv Cork"},"score":0,"creation_date":1696488977,"post_id":77234787,"comment_id":136159865,"body_markdown":"I did originally do that but I didn&#39;t know if there was a more convenient way rather than doing the for loop. If that&#39;s all I can do, I will revert from this approach.","body":"I did originally do that but I didn&#39;t know if there was a more convenient way rather than doing the for loop. If that&#39;s all I can do, I will revert from this approach."},{"owner":{"account_id":5964120,"reputation":4275,"user_id":4688321,"display_name":"kiner_shah"},"score":0,"creation_date":1696489060,"post_id":77234787,"comment_id":136159875,"body_markdown":"Shouldn&#39;t you be using `streamedItems` instead of `items`?","body":"Shouldn&#39;t you be using <code>streamedItems</code> instead of <code>items</code>?"},{"owner":{"account_id":29602357,"reputation":3,"user_id":22687481,"display_name":"Arv Cork"},"score":0,"creation_date":1696489144,"post_id":77234787,"comment_id":136159895,"body_markdown":"Apologies, that was a typo. Will edit now.","body":"Apologies, that was a typo. Will edit now."},{"owner":{"account_id":12341551,"reputation":108,"user_id":9004515,"display_name":"Gabriel Carrera"},"score":0,"creation_date":1696489817,"post_id":77234787,"comment_id":136160020,"body_markdown":"You are declaring a HashSet&lt;int&gt; but you are assigning to it a HashSet&lt;int[]&gt;","body":"You are declaring a HashSet&lt;int&gt; but you are assigning to it a HashSet&lt;int[]&gt;"}],"answers":[{"tags":[],"owner":{"account_id":12341551,"reputation":108,"user_id":9004515,"display_name":"Gabriel Carrera"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1696490461,"creation_date":1696490461,"answer_id":77234963,"question_id":77234787,"body_markdown":"I think this would do the trick:\r\n\r\n```java\r\n        private boolean hasItem(Integer[] searchableIds, boolean requiresAll) {\r\n            final Set&lt;Integer&gt; available = Arrays.stream(items).map(it -&gt; it.id).collect(Collectors.toSet());\r\n            final Set&lt;Integer&gt; searched = new HashSet&lt;&gt;(Arrays.asList(searchableIds));\r\n\r\n            return requiresAll\r\n                    ? available.containsAll(searched)\r\n                    : !Collections.disjoint(available, searched);\r\n        }\r\n```\r\n\r\nBut you should use two methods instead of one single method with a flag. It is a code smell.","title":"Java check if 2 arrays have any matching items or all items","body":"<p>I think this would do the trick:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        private boolean hasItem(Integer[] searchableIds, boolean requiresAll) {\n            final Set&lt;Integer&gt; available = Arrays.stream(items).map(it -&gt; it.id).collect(Collectors.toSet());\n            final Set&lt;Integer&gt; searched = new HashSet&lt;&gt;(Arrays.asList(searchableIds));\n\n            return requiresAll\n                    ? available.containsAll(searched)\n                    : !Collections.disjoint(available, searched);\n        }\n</code></pre>\n<p>But you should use two methods instead of one single method with a flag. It is a code smell.</p>\n"},{"tags":[],"owner":{"account_id":5964120,"reputation":4275,"user_id":4688321,"display_name":"kiner_shah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696490473,"creation_date":1696490473,"answer_id":77234967,"question_id":77234787,"body_markdown":"Always try simple for loops first.\r\n\r\nBut if you want to use streams you can use the below code for reference:\r\n```\r\nimport java.util.*;\r\nimport java.util.stream.*;\r\n\r\nclass Item {\r\n    private int id;\r\n    \r\n    public Item(int id_) {\r\n        this.id = id_;\r\n    }\r\n    \r\n    public int getId() {\r\n        return id;\r\n    }\r\n}\r\n\r\nclass Main {\r\n    public static void main(String[] args) {\r\n        Item[] available = {new Item(1), new Item(2), new Item(3)};\r\n        int[] toSearch = {1,2};\r\n        Set&lt;Integer&gt; ids = Arrays.stream(toSearch).boxed().collect(Collectors.toSet());\r\n        \r\n        var streamedAvailable = Arrays.stream(available);\r\n        var num = streamedAvailable.map(x -&gt; x.getId())\r\n                        .filter(x -&gt; ids.contains(x))\r\n                        .count();\r\n        System.out.println(num);\r\n\r\n        var streamedAvailable2 = Arrays.stream(available);\r\n        var res = streamedAvailable2.map(x -&gt; x.getId())\r\n                        .anyMatch(x -&gt; ids.contains(x));\r\n        System.out.println(res);\r\n    }\r\n}\r\n```\r\n\r\nBut it seems you want intersection of two arrays. Just use `Set::retainAll` like this:\r\n```\r\nSet&lt;Type&gt; intersection = new HashSet&lt;Type&gt;(s1);\r\nintersection.retainAll(s2);\r\n```\r\nThen just check the size of `intersection`. If greater than 1, then there is some match. If equal to size of s2, then complete match.\r\n","title":"Java check if 2 arrays have any matching items or all items","body":"<p>Always try simple for loops first.</p>\n<p>But if you want to use streams you can use the below code for reference:</p>\n<pre><code>import java.util.*;\nimport java.util.stream.*;\n\nclass Item {\n    private int id;\n    \n    public Item(int id_) {\n        this.id = id_;\n    }\n    \n    public int getId() {\n        return id;\n    }\n}\n\nclass Main {\n    public static void main(String[] args) {\n        Item[] available = {new Item(1), new Item(2), new Item(3)};\n        int[] toSearch = {1,2};\n        Set&lt;Integer&gt; ids = Arrays.stream(toSearch).boxed().collect(Collectors.toSet());\n        \n        var streamedAvailable = Arrays.stream(available);\n        var num = streamedAvailable.map(x -&gt; x.getId())\n                        .filter(x -&gt; ids.contains(x))\n                        .count();\n        System.out.println(num);\n\n        var streamedAvailable2 = Arrays.stream(available);\n        var res = streamedAvailable2.map(x -&gt; x.getId())\n                        .anyMatch(x -&gt; ids.contains(x));\n        System.out.println(res);\n    }\n}\n</code></pre>\n<p>But it seems you want intersection of two arrays. Just use <code>Set::retainAll</code> like this:</p>\n<pre><code>Set&lt;Type&gt; intersection = new HashSet&lt;Type&gt;(s1);\nintersection.retainAll(s2);\n</code></pre>\n<p>Then just check the size of <code>intersection</code>. If greater than 1, then there is some match. If equal to size of s2, then complete match.</p>\n"}],"owner":{"account_id":29602357,"reputation":3,"user_id":22687481,"display_name":"Arv Cork"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77234963,"answer_count":2,"score":0,"last_activity_date":1696490473,"creation_date":1696488643,"question_id":77234787,"body_markdown":"I want to check in Java if two arrays either have one of the same items or all of the items in the other array.\r\n\r\nMy setup is like this:\r\n\r\nA model class which I am using to determine an item.\r\n\r\n```java\r\npublic class Item {\r\n  @Getter\r\n  private int id;\r\n\r\n  public Item(int id) {\r\n    this.id = id;\r\n  }\r\n}\r\n```\r\n\r\nA manager class which I am using which contains some items.\r\n\r\n```java\r\npublic class Manager {\r\n  @Getter\r\n  private Item[] items = {\r\n    new Item(1), new Item(2), new Item(3)\r\n  }\r\n}\r\n```\r\n\r\nI have tried to implement a method called `hasItem` but whenever it runs, it doesn&#39;t seem to resolve if there is any existing.\r\n\r\n```\r\npublic class Manager {\r\n  ...\r\n\r\n  \r\n  private boolean hasItem(int[] searchableIds, boolean requiresAll) {\r\n    final Stream&lt;Item&gt; streamedItems = Arrays.stream(items);\r\n    HashSet&lt;int&gt; ids = new HashSet&lt;&gt;(Collections.singleton(searchableIds));\r\n\r\n    if (requiresAll) {\r\n      // Make sure the items are identical.\r\n      return streamedItems.map(Item::getId).filter(ids::contains).count() == searchableIds.length;\r\n    }\r\n\r\n    return streamedItems.map(Item::getId).anyMatch(ids::contains);\r\n  }\r\n}\r\n```\r\n\r\nThe goal is - if requiresAll is passed in as `true`, then it&#39;ll ensure that *all* the items are contained within the `streamedItems` variable. If it is `false` then it&#39;ll just see if there&#39;s any matches within.","title":"Java check if 2 arrays have any matching items or all items","body":"<p>I want to check in Java if two arrays either have one of the same items or all of the items in the other array.</p>\n<p>My setup is like this:</p>\n<p>A model class which I am using to determine an item.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Item {\n  @Getter\n  private int id;\n\n  public Item(int id) {\n    this.id = id;\n  }\n}\n</code></pre>\n<p>A manager class which I am using which contains some items.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Manager {\n  @Getter\n  private Item[] items = {\n    new Item(1), new Item(2), new Item(3)\n  }\n}\n</code></pre>\n<p>I have tried to implement a method called <code>hasItem</code> but whenever it runs, it doesn't seem to resolve if there is any existing.</p>\n<pre><code>public class Manager {\n  ...\n\n  \n  private boolean hasItem(int[] searchableIds, boolean requiresAll) {\n    final Stream&lt;Item&gt; streamedItems = Arrays.stream(items);\n    HashSet&lt;int&gt; ids = new HashSet&lt;&gt;(Collections.singleton(searchableIds));\n\n    if (requiresAll) {\n      // Make sure the items are identical.\n      return streamedItems.map(Item::getId).filter(ids::contains).count() == searchableIds.length;\n    }\n\n    return streamedItems.map(Item::getId).anyMatch(ids::contains);\n  }\n}\n</code></pre>\n<p>The goal is - if requiresAll is passed in as <code>true</code>, then it'll ensure that <em>all</em> the items are contained within the <code>streamedItems</code> variable. If it is <code>false</code> then it'll just see if there's any matches within.</p>\n"},{"tags":["java","intellij-idea","gradle"],"comments":[{"owner":{"account_id":1483504,"reputation":20404,"user_id":1392277,"accept_rate":84,"display_name":"LppEdd"},"score":0,"creation_date":1527847613,"post_id":40430004,"comment_id":88291997,"body_markdown":"Hi Mike, I&#39;m facing the same issue, exept I&#39;m not using Gradle. Did you solve in the end?","body":"Hi Mike, I&#39;m facing the same issue, exept I&#39;m not using Gradle. Did you solve in the end?"},{"owner":{"account_id":126861,"reputation":2404,"user_id":323653,"accept_rate":21,"display_name":"Mike"},"score":0,"creation_date":1532629598,"post_id":40430004,"comment_id":90058467,"body_markdown":"The frustrating problem has been that when you edit the gradle file, that the IDE sees that and adjusts its build settings accordingly. So editing the gradle file overwrites what you might be trying to change in the project settings. If only they explained that. It&#39;s all very poorly or just completely not documented at all, or else it&#39;s hiding. There is no avoiding gradle, because android studio for instance, which is a modified IntelliJ, imposes it as well.","body":"The frustrating problem has been that when you edit the gradle file, that the IDE sees that and adjusts its build settings accordingly. So editing the gradle file overwrites what you might be trying to change in the project settings. If only they explained that. It&#39;s all very poorly or just completely not documented at all, or else it&#39;s hiding. There is no avoiding gradle, because android studio for instance, which is a modified IntelliJ, imposes it as well."},{"owner":{"account_id":1483504,"reputation":20404,"user_id":1392277,"accept_rate":84,"display_name":"LppEdd"},"score":0,"creation_date":1532630528,"post_id":40430004,"comment_id":90058902,"body_markdown":"Well I discovered that IDEA rebuild everything if it finds an error, even with Eclipse compiler. This is what caused long build time in my case.\nBtw, I really prefer Maven to Gradle.","body":"Well I discovered that IDEA rebuild everything if it finds an error, even with Eclipse compiler. This is what caused long build time in my case. Btw, I really prefer Maven to Gradle."},{"owner":{"account_id":126861,"reputation":2404,"user_id":323653,"accept_rate":21,"display_name":"Mike"},"score":0,"creation_date":1532633524,"post_id":40430004,"comment_id":90060221,"body_markdown":"I recall seeing endless rebuild loops at one point, but I can&#39;t remember the cause. I *think* I saw endless reinit stuff happening when my drive was full at one point.\nAs for speed, I tell IntelliJ to use the Eclipse compiler, and in the Run config dialog box, I replace &quot;build&quot; with &quot;build, no error check&quot;. I also tell gradle to build offline.\nLovely all those obscure hidden gotchas left and right isn&#39;t it. Other than those poorly designed things,  once it all goes, it&#39;s pretty productive though....","body":"I recall seeing endless rebuild loops at one point, but I can&#39;t remember the cause. I <i>think</i> I saw endless reinit stuff happening when my drive was full at one point. As for speed, I tell IntelliJ to use the Eclipse compiler, and in the Run config dialog box, I replace &quot;build&quot; with &quot;build, no error check&quot;. I also tell gradle to build offline. Lovely all those obscure hidden gotchas left and right isn&#39;t it. Other than those poorly designed things,  once it all goes, it&#39;s pretty productive though...."},{"owner":{"account_id":1483504,"reputation":20404,"user_id":1392277,"accept_rate":84,"display_name":"LppEdd"},"score":0,"creation_date":1532634145,"post_id":40430004,"comment_id":90060493,"body_markdown":"The &quot;no error check&quot; does not count. Read my post here till the end https://intellij-support.jetbrains.com/hc/en-us/community/posts/360000623464-Project-Build-and-Artifacts-Build-clarification\n\nThe company I code for is using MyEclipse. First thing I&#39;ve done is configure IntelliJ. I&#39;ve been paying for it for a couple of years now, but I only use EAPs.\nInspections are an absolute MUST for me, they help delivering awesome quality and clean code","body":"The &quot;no error check&quot; does not count. Read my post here till the end <a href=\"https://intellij-support.jetbrains.com/hc/en-us/community/posts/360000623464-Project-Build-and-Artifacts-Build-clarification\" rel=\"nofollow noreferrer\">intellij-support.jetbrains.com/hc/en-us/community/posts/&hellip;</a>  The company I code for is using MyEclipse. First thing I&#39;ve done is configure IntelliJ. I&#39;ve been paying for it for a couple of years now, but I only use EAPs. Inspections are an absolute MUST for me, they help delivering awesome quality and clean code"},{"owner":{"account_id":1033633,"reputation":7977,"user_id":1041442,"accept_rate":75,"display_name":"Jilles van Gurp"},"score":0,"creation_date":1623403014,"post_id":40430004,"comment_id":120074709,"body_markdown":"Two issues that cause full rebuilds: 1) code generation, 2) cyclical dependencies. Cyclical dependencies are legal but not generally checked against by code checkers. However, they do cause every class to be dependent on every other class. Which of course means a 1 letter edit potentially means a full rebuild. Then there&#39;s the notion that a lot of stuff is done by gradle which means Intellij and gradle are doing double bookkeeping on the state of the world and constantly disagree with each other. Worst case you are dealing with 2x the work or repeated rebuilds or cache invalidation.","body":"Two issues that cause full rebuilds: 1) code generation, 2) cyclical dependencies. Cyclical dependencies are legal but not generally checked against by code checkers. However, they do cause every class to be dependent on every other class. Which of course means a 1 letter edit potentially means a full rebuild. Then there&#39;s the notion that a lot of stuff is done by gradle which means Intellij and gradle are doing double bookkeeping on the state of the world and constantly disagree with each other. Worst case you are dealing with 2x the work or repeated rebuilds or cache invalidation."}],"answers":[{"tags":[],"owner":{"account_id":122115,"reputation":5060,"user_id":315702,"accept_rate":88,"display_name":"Mark McClelland"},"down_vote_count":2,"up_vote_count":7,"is_accepted":false,"score":5,"last_activity_date":1600706849,"creation_date":1549143807,"answer_id":54497820,"question_id":40430004,"body_markdown":"Make sure to disable anti-virus protection in your Gradle caches directory and your IntelliJ project directory. For me, this reduces Java compilation time dramatically, because of all the intermediate files and JARs associated with Java builds. Excluding those same directories from Windows Search indexing can also help.\r\n\r\nAs of September, 2020, this is the list of default directory locations that should be exluded from virus scanning and Windows search indexing, published [here][1].\r\n\r\n- Gradle cache: `%USERPROFILE%\\.gradle`\r\n- Android Studio projects: `%USERPROFILE%\\AndroidStudioProjects`\r\n- Android SDK: `%USERPROFILE%\\AppData\\Local\\Android\\SDK`\r\n- Android Studio system files: `%USERPROFILE%\\.AndroidStudio&lt;version&gt;\\system`\r\n\r\nI published some [instructions][2] on my blog for doing this for Windows Defender and Windows Search Indexing, which I&#39;ll repost here for completeness:\r\n\r\n**Windows Defender - How to Exclude a Directory**\r\n\r\n1. Open Windows Defender Settings\r\n2. Click &quot;Virus &amp; threat protection&quot;\r\n3. Click &quot;Virus &amp; threat protection settings&quot;\r\n4. Scroll down to &quot;Exclusions&quot; and click &quot;Add or remove exclusions&quot;\r\n5. Click &quot;Add an exclusion&quot; and select &quot;Folder&quot; from the drop-down menu\r\n6. Navigate to the directory to be excluded, or paste its path into the &quot;Folder&quot; text-box, and click &quot;Select Folder&quot;\r\n\r\n**Windows Search Indexing - How to Exclude A Directory**\r\n\r\n1. Open Windows Control Panel\r\n2. Search for &quot;index&quot; and choose &quot;Indexing Options&quot;\r\n3. Click the &quot;Modify&quot; button\r\n4. Under the appropriate drive letter, navigate to the folder you want to exclude, and make sure it is unchecked\r\n5. Double-check your work by verifying the directory shows up in the &quot;Exclude&quot; column of the &quot;Summary of selected locations&quot; table\r\n\r\n\r\n  [1]: https://developer.android.com/studio/intro/studio-config?utm_source=android-studio#antivirus-impact\r\n  [2]: https://poetengineer.postach.io/post/how-to-speed-up-your-gradle-build","title":"Intellij build times are too long. Gradle not helping","body":"<p>Make sure to disable anti-virus protection in your Gradle caches directory and your IntelliJ project directory. For me, this reduces Java compilation time dramatically, because of all the intermediate files and JARs associated with Java builds. Excluding those same directories from Windows Search indexing can also help.</p>\n<p>As of September, 2020, this is the list of default directory locations that should be exluded from virus scanning and Windows search indexing, published <a href=\"https://developer.android.com/studio/intro/studio-config?utm_source=android-studio#antivirus-impact\" rel=\"nofollow noreferrer\">here</a>.</p>\n<ul>\n<li>Gradle cache: <code>%USERPROFILE%\\.gradle</code></li>\n<li>Android Studio projects: <code>%USERPROFILE%\\AndroidStudioProjects</code></li>\n<li>Android SDK: <code>%USERPROFILE%\\AppData\\Local\\Android\\SDK</code></li>\n<li>Android Studio system files: <code>%USERPROFILE%\\.AndroidStudio&lt;version&gt;\\system</code></li>\n</ul>\n<p>I published some <a href=\"https://poetengineer.postach.io/post/how-to-speed-up-your-gradle-build\" rel=\"nofollow noreferrer\">instructions</a> on my blog for doing this for Windows Defender and Windows Search Indexing, which I'll repost here for completeness:</p>\n<p><strong>Windows Defender - How to Exclude a Directory</strong></p>\n<ol>\n<li>Open Windows Defender Settings</li>\n<li>Click &quot;Virus &amp; threat protection&quot;</li>\n<li>Click &quot;Virus &amp; threat protection settings&quot;</li>\n<li>Scroll down to &quot;Exclusions&quot; and click &quot;Add or remove exclusions&quot;</li>\n<li>Click &quot;Add an exclusion&quot; and select &quot;Folder&quot; from the drop-down menu</li>\n<li>Navigate to the directory to be excluded, or paste its path into the &quot;Folder&quot; text-box, and click &quot;Select Folder&quot;</li>\n</ol>\n<p><strong>Windows Search Indexing - How to Exclude A Directory</strong></p>\n<ol>\n<li>Open Windows Control Panel</li>\n<li>Search for &quot;index&quot; and choose &quot;Indexing Options&quot;</li>\n<li>Click the &quot;Modify&quot; button</li>\n<li>Under the appropriate drive letter, navigate to the folder you want to exclude, and make sure it is unchecked</li>\n<li>Double-check your work by verifying the directory shows up in the &quot;Exclude&quot; column of the &quot;Summary of selected locations&quot; table</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":7648417,"reputation":83,"user_id":5798166,"display_name":"Carl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1558690796,"creation_date":1558690796,"answer_id":56289877,"question_id":40430004,"body_markdown":"Even I was facing the same issue and found one option in Intellij IDE, which closely solves my issue, but not fully.\r\n\r\n[`Build Project Automatically` and Compile in Parallel][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2c9zF.png\r\n\r\n\r\nThough it does not solve fully, but I see some performance improvement in build time, whenever I add/upgrade dependency and run the tests.","title":"Intellij build times are too long. Gradle not helping","body":"<p>Even I was facing the same issue and found one option in Intellij IDE, which closely solves my issue, but not fully.</p>\n\n<p><a href=\"https://i.stack.imgur.com/2c9zF.png\" rel=\"nofollow noreferrer\"><code>Build Project Automatically</code> and Compile in Parallel</a></p>\n\n<p>Though it does not solve fully, but I see some performance improvement in build time, whenever I add/upgrade dependency and run the tests.</p>\n"},{"tags":[],"owner":{"account_id":21427279,"reputation":9,"user_id":15784373,"display_name":"ivvasch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696490360,"creation_date":1696490321,"answer_id":77234954,"question_id":40430004,"body_markdown":"I had a some problem with gradle. When i add some changes or after long time between had ran project I detect long build time of project. I solve this problem. Before start project I open gradle tab and run update on tab. After this process application run with standard speed.\r\n[gradle tab][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yHq2Y.png","title":"Intellij build times are too long. Gradle not helping","body":"<p>I had a some problem with gradle. When i add some changes or after long time between had ran project I detect long build time of project. I solve this problem. Before start project I open gradle tab and run update on tab. After this process application run with standard speed.\n<a href=\"https://i.stack.imgur.com/yHq2Y.png\" rel=\"nofollow noreferrer\">gradle tab</a></p>\n"}],"owner":{"account_id":126861,"reputation":2404,"user_id":323653,"accept_rate":21,"display_name":"Mike"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15474,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":3,"score":8,"last_activity_date":1696490360,"creation_date":1478285945,"question_id":40430004,"body_markdown":"I am frustrated by the long build time that IDEA needs before starting my application. I do use DCEVM to enjoy changing code on the fly better than plain hot-swap does, but this doesn&#39;t work if I really do need to start my applications multiple times.\r\n\r\nIDEA is supposed to be able to have incremental compilation, but I&#39;m not seeing it. I see no options to enable this. Start or starting a debug of the application, takes nearly half a minute. Must it take so long? In theory, IDEA has all the class files already generated, except for the source files that were *just* edited. IDEA ought to be able to fill in the few blanks, and get the application running almost instantly. What&#39;s the hold up, why does it insist it must re-compile every single source file again?\r\nps. I&#39;m using the Eclipse compiler in IDEA, so that it tolerates some source files not being compilable. I have to do that, because it is one giant tree of java files, where I can not control every one.\r\n\r\nThen I saw that perhaps Gradle does have incremental compilation. So I thought to re-create my project, this time with Gradle. I am having a very difficult time figuring out how it works, how it integrates, what tasks are moved from IDEA to Gradle (if any). Even creating a simple skeleton test application with Gradle in IDEA is very frustrating. There are all sorts of fuzzy bits all over the place that leaves you guessing. The tutorials on Jetbrains are almost useless. I can&#39;t find one single clear to the point that just explains it in a nutshell how it works. I see some demos that says, click here, and here, and there, but the results on my end aren&#39;t the same as what I see outlined.\r\n\r\nFor instance, Gradle complains that it can&#39;t find the junit jar. Ok, so I go into the project settings, and attempt to add the junit jar to the classpath. Under Libraries, I then see an entry to &quot;Gradle: junit:junit:4.11&quot;. But there is a second one: &quot;junit-4.11&quot;. Why two? Can I delete one? Why is the one so verbal, colon this colon that, etc.\r\nSo I add the junit jar files I have to both.\r\nBut then in the Gradle Projects window, where I see the hierarchical breakdown of the gradle project setup, verification-&gt;test. This is then supposed to run the test class I did manage to create.\r\n\r\n    FAILURE: Build failed with an exception.\r\n    * What went wrong:\r\n    Could not resolve all dependencies for configuration &#39;:testCompileClasspath&#39;.\r\n    &gt; Could not resolve junit:junit:4.11.\r\n      Required by:\r\n          xpert_client4:xpert_client4:1.0-SNAPSHOT\r\n       &gt; No cached version of junit:junit:4.11 available for offline mode.\r\n    * Try:\r\n    Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output.\r\n\r\n&quot;Could not resolve junit:junit:4.11&quot;.\r\n\r\nGradle is extremely frustrating. If all I have to have, is to start a main() in a large project, why would I go through this trouble of using this gradle system that offers things I don&#39;t need? Why is it so convoluted, fuzzy, and confusing?\r\n\r\nSame goes for an Android project. IDEA can compile and run an Android app without Gradle just fine. Simply avoid anything gradle when setting up, and it just works.\r\n\r\nPlus there are all the things that one has to do to speed up the supposedly slow Gradle system. There is the daemon thing. Parallelize, and apparently you can set it in two ways (why). Configure on demand. Globalize. Minimize. minSdkVersion. Offline (oh no, not that Maven thing that pulls down jar files from the internet over and over). jCenter. Profile.... it goes on and on. All those workarounds, hacks, adjustments, tweaks.\r\nIs there *anything* to be gained by gradle-ifying a working IDEA project? *Would* I get faster build and startup times if I go through all this trouble? Can I avoid Gradle altogether, and forever (in the hopes that it doesn&#39;t somehow becomes mandatory).\r\n\r\nI&#39;ve been coding since the 80s. I&#39;ve used all sorts of systems. I&#39;ve build my own build systems. I&#39;m not green here. I also hate having RTFM, if those FMs don&#39;t get to the point, and don&#39;t explain things well - as if the ones that wrote it, don&#39;t really understand it themselves - they know what buttons to press to get it going and that&#39;s it.\r\nI find this thing one of the most frustrating things I have seen in a long time. The previous horrible build system I&#39;ve tried in the past, and have avoided like the plague since, is Maven. The lack of clear thinking with these systems is astounding.\r\n\r\nSo, aside from these frustrations, what I&#39;m after is: is it worth figuring out Gradle and applying all the workarounds and tweaks, so that I may, once I go through this grief, enjoy faster build and startup times of my application?\r\n\r\nOr, would I be better off, avoid Gradle altogether, and instead, do something like place the startup of my application in a loop, so that every time I exit that the application that it re-runs main(). I would then use DCEVM to code on the fly while possible.\r\n\r\nLastly, I forgot to mention. Enabling automatic build in IDEA works really badly. A build seems to always involve re-building every single file, over and over. And setting build to automatic, all it ends up doing is it redoing this in the background over and over. There is nothing that happens in an asynchronous way, where when I finish editing a source file, and start the debug of the application, where IDEA has done any of the building in the background ahead of time, because it redoes the whole thing again after every single tiny little code change. Plus it makes the CPUs spike to near 100% constantly.\r\nIDEA is a great IDE, but the whole compile thing is a total nightmare front to back.","title":"Intellij build times are too long. Gradle not helping","body":"<p>I am frustrated by the long build time that IDEA needs before starting my application. I do use DCEVM to enjoy changing code on the fly better than plain hot-swap does, but this doesn't work if I really do need to start my applications multiple times.</p>\n\n<p>IDEA is supposed to be able to have incremental compilation, but I'm not seeing it. I see no options to enable this. Start or starting a debug of the application, takes nearly half a minute. Must it take so long? In theory, IDEA has all the class files already generated, except for the source files that were <em>just</em> edited. IDEA ought to be able to fill in the few blanks, and get the application running almost instantly. What's the hold up, why does it insist it must re-compile every single source file again?\nps. I'm using the Eclipse compiler in IDEA, so that it tolerates some source files not being compilable. I have to do that, because it is one giant tree of java files, where I can not control every one.</p>\n\n<p>Then I saw that perhaps Gradle does have incremental compilation. So I thought to re-create my project, this time with Gradle. I am having a very difficult time figuring out how it works, how it integrates, what tasks are moved from IDEA to Gradle (if any). Even creating a simple skeleton test application with Gradle in IDEA is very frustrating. There are all sorts of fuzzy bits all over the place that leaves you guessing. The tutorials on Jetbrains are almost useless. I can't find one single clear to the point that just explains it in a nutshell how it works. I see some demos that says, click here, and here, and there, but the results on my end aren't the same as what I see outlined.</p>\n\n<p>For instance, Gradle complains that it can't find the junit jar. Ok, so I go into the project settings, and attempt to add the junit jar to the classpath. Under Libraries, I then see an entry to \"Gradle: junit:junit:4.11\". But there is a second one: \"junit-4.11\". Why two? Can I delete one? Why is the one so verbal, colon this colon that, etc.\nSo I add the junit jar files I have to both.\nBut then in the Gradle Projects window, where I see the hierarchical breakdown of the gradle project setup, verification->test. This is then supposed to run the test class I did manage to create.</p>\n\n<pre><code>FAILURE: Build failed with an exception.\n* What went wrong:\nCould not resolve all dependencies for configuration ':testCompileClasspath'.\n&gt; Could not resolve junit:junit:4.11.\n  Required by:\n      xpert_client4:xpert_client4:1.0-SNAPSHOT\n   &gt; No cached version of junit:junit:4.11 available for offline mode.\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output.\n</code></pre>\n\n<p>\"Could not resolve junit:junit:4.11\".</p>\n\n<p>Gradle is extremely frustrating. If all I have to have, is to start a main() in a large project, why would I go through this trouble of using this gradle system that offers things I don't need? Why is it so convoluted, fuzzy, and confusing?</p>\n\n<p>Same goes for an Android project. IDEA can compile and run an Android app without Gradle just fine. Simply avoid anything gradle when setting up, and it just works.</p>\n\n<p>Plus there are all the things that one has to do to speed up the supposedly slow Gradle system. There is the daemon thing. Parallelize, and apparently you can set it in two ways (why). Configure on demand. Globalize. Minimize. minSdkVersion. Offline (oh no, not that Maven thing that pulls down jar files from the internet over and over). jCenter. Profile.... it goes on and on. All those workarounds, hacks, adjustments, tweaks.\nIs there <em>anything</em> to be gained by gradle-ifying a working IDEA project? <em>Would</em> I get faster build and startup times if I go through all this trouble? Can I avoid Gradle altogether, and forever (in the hopes that it doesn't somehow becomes mandatory).</p>\n\n<p>I've been coding since the 80s. I've used all sorts of systems. I've build my own build systems. I'm not green here. I also hate having RTFM, if those FMs don't get to the point, and don't explain things well - as if the ones that wrote it, don't really understand it themselves - they know what buttons to press to get it going and that's it.\nI find this thing one of the most frustrating things I have seen in a long time. The previous horrible build system I've tried in the past, and have avoided like the plague since, is Maven. The lack of clear thinking with these systems is astounding.</p>\n\n<p>So, aside from these frustrations, what I'm after is: is it worth figuring out Gradle and applying all the workarounds and tweaks, so that I may, once I go through this grief, enjoy faster build and startup times of my application?</p>\n\n<p>Or, would I be better off, avoid Gradle altogether, and instead, do something like place the startup of my application in a loop, so that every time I exit that the application that it re-runs main(). I would then use DCEVM to code on the fly while possible.</p>\n\n<p>Lastly, I forgot to mention. Enabling automatic build in IDEA works really badly. A build seems to always involve re-building every single file, over and over. And setting build to automatic, all it ends up doing is it redoing this in the background over and over. There is nothing that happens in an asynchronous way, where when I finish editing a source file, and start the debug of the application, where IDEA has done any of the building in the background ahead of time, because it redoes the whole thing again after every single tiny little code change. Plus it makes the CPUs spike to near 100% constantly.\nIDEA is a great IDE, but the whole compile thing is a total nightmare front to back.</p>\n"},{"tags":["java","swing","netbeans-7"],"answers":[{"tags":[],"owner":{"account_id":366509,"reputation":3373,"user_id":712089,"accept_rate":100,"display_name":"Eric Lilja"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1356085813,"creation_date":1356085813,"answer_id":13988395,"question_id":13986466,"body_markdown":"    package radiobuttongroup;\r\n    \r\n    import java.awt.Container;\r\n    import java.awt.GridLayout;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.util.LinkedHashMap;\r\n    import java.util.Map;\r\n    \r\n    import javax.swing.ButtonGroup;\r\n    import javax.swing.ButtonModel;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JRadioButton;\r\n    \r\n    public class RadioButtonGroup {\r\n    \r\n      public static void main(String[] args) {\r\n        new RadioButtonGroup();\r\n      }\r\n    \r\n      private RadioButtonGroup() {\r\n        Container contentPane = frame.getContentPane();\r\n        contentPane.setLayout(new GridLayout(0, 1));\r\n    \r\n        for (int i = 1; i &lt;= 5; i++) {\r\n          JRadioButton radio = new JRadioButton(Integer.toString(i));\r\n          ButtonModel buttonModel = radio.getModel();\r\n          modelToRadioButton.put(buttonModel, radio);\r\n          buttonGroup.add(radio);\r\n          contentPane.add(radio);\r\n        }\r\n    \r\n        JButton buttonTestSelection = new JButton(&quot;Selection Test&quot;);\r\n        JButton buttonClearSelection = new JButton(&quot;Clear Selection&quot;);\r\n        contentPane.add(buttonTestSelection);\r\n        contentPane.add(buttonClearSelection);\r\n    \r\n        buttonTestSelection.addActionListener(new ActionListener() {\r\n            @Override public void actionPerformed(ActionEvent arg0) {\r\n              ButtonModel buttonModel = buttonGroup.getSelection();\r\n    \r\n              if (buttonModel == null) {\r\n                System.out.println(&quot;No radio button is selected&quot;);\r\n              }\r\n              else {\r\n                if (modelToRadioButton.containsKey(buttonModel)) {\r\n                  JRadioButton b = modelToRadioButton.get(buttonModel);\r\n                  System.out.println(&quot;You selected button &quot; + b.getText());\r\n                }\r\n                else {\r\n                  System.err.println(&quot;Weird, unrecognised button model!&quot;);\r\n                }\r\n              }\r\n            }\r\n          });\r\n    \r\n        buttonClearSelection.addActionListener(new ActionListener() {\r\n            @Override public void actionPerformed(ActionEvent e) {\r\n              buttonGroup.clearSelection();\r\n            }\r\n          });\r\n    \r\n        frame.pack();\r\n        frame.setLocationRelativeTo(null);\r\n        frame.setVisible(true);\r\n      }\r\n    \r\n      private JFrame frame = new JFrame(&quot;RadioButtonGroup&quot;);\r\n      private Map&lt;ButtonModel, JRadioButton&gt; modelToRadioButton =\r\n        new LinkedHashMap&lt;ButtonModel, JRadioButton&gt;();\r\n      private ButtonGroup buttonGroup = new ButtonGroup();\r\n    }\r\n\r\n","title":"How to check whether a radiobutton is selected in a buttongroup?","body":"<pre><code>package radiobuttongroup;\n\nimport java.awt.Container;\nimport java.awt.GridLayout;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.util.LinkedHashMap;\nimport java.util.Map;\n\nimport javax.swing.ButtonGroup;\nimport javax.swing.ButtonModel;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JRadioButton;\n\npublic class RadioButtonGroup {\n\n  public static void main(String[] args) {\n    new RadioButtonGroup();\n  }\n\n  private RadioButtonGroup() {\n    Container contentPane = frame.getContentPane();\n    contentPane.setLayout(new GridLayout(0, 1));\n\n    for (int i = 1; i &lt;= 5; i++) {\n      JRadioButton radio = new JRadioButton(Integer.toString(i));\n      ButtonModel buttonModel = radio.getModel();\n      modelToRadioButton.put(buttonModel, radio);\n      buttonGroup.add(radio);\n      contentPane.add(radio);\n    }\n\n    JButton buttonTestSelection = new JButton(\"Selection Test\");\n    JButton buttonClearSelection = new JButton(\"Clear Selection\");\n    contentPane.add(buttonTestSelection);\n    contentPane.add(buttonClearSelection);\n\n    buttonTestSelection.addActionListener(new ActionListener() {\n        @Override public void actionPerformed(ActionEvent arg0) {\n          ButtonModel buttonModel = buttonGroup.getSelection();\n\n          if (buttonModel == null) {\n            System.out.println(\"No radio button is selected\");\n          }\n          else {\n            if (modelToRadioButton.containsKey(buttonModel)) {\n              JRadioButton b = modelToRadioButton.get(buttonModel);\n              System.out.println(\"You selected button \" + b.getText());\n            }\n            else {\n              System.err.println(\"Weird, unrecognised button model!\");\n            }\n          }\n        }\n      });\n\n    buttonClearSelection.addActionListener(new ActionListener() {\n        @Override public void actionPerformed(ActionEvent e) {\n          buttonGroup.clearSelection();\n        }\n      });\n\n    frame.pack();\n    frame.setLocationRelativeTo(null);\n    frame.setVisible(true);\n  }\n\n  private JFrame frame = new JFrame(\"RadioButtonGroup\");\n  private Map&lt;ButtonModel, JRadioButton&gt; modelToRadioButton =\n    new LinkedHashMap&lt;ButtonModel, JRadioButton&gt;();\n  private ButtonGroup buttonGroup = new ButtonGroup();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1384037,"reputation":319,"user_id":2001348,"accept_rate":67,"display_name":"C.Neal"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1364318176,"creation_date":1364318176,"answer_id":15643410,"question_id":13986466,"body_markdown":"Since you only have 5 radio buttons you could manually check all of them \r\n(assume the radio buttons are named radio1, ... , radio5):\r\n\r\n     boolean isRadio1, isRadio2, isRadio3, isRadio4, isRadio5 = false;\r\n\r\n     if (radio1.isSelected() == true) isRadio1 = true;\r\n     if (radio2.isSelected() == true) isRadio2 = true;\r\n     if (radio3.isSelected() == true) isRadio3 = true;\r\n     if (radio4.isSelected() == true) isRadio4 = true;\r\n     if (radio5.isSelected() == true) isRadio5 = true;\r\n\r\nNot the most elegant solution, but it will do the trick.","title":"How to check whether a radiobutton is selected in a buttongroup?","body":"<p>Since you only have 5 radio buttons you could manually check all of them \n(assume the radio buttons are named radio1, ... , radio5):</p>\n\n<pre><code> boolean isRadio1, isRadio2, isRadio3, isRadio4, isRadio5 = false;\n\n if (radio1.isSelected() == true) isRadio1 = true;\n if (radio2.isSelected() == true) isRadio2 = true;\n if (radio3.isSelected() == true) isRadio3 = true;\n if (radio4.isSelected() == true) isRadio4 = true;\n if (radio5.isSelected() == true) isRadio5 = true;\n</code></pre>\n\n<p>Not the most elegant solution, but it will do the trick.</p>\n"},{"tags":[],"owner":{"account_id":422616,"reputation":305,"user_id":801485,"display_name":"EOC"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1374571149,"creation_date":1374571149,"answer_id":17806151,"question_id":13986466,"body_markdown":"    buttonGroup1.getSelection()==null","title":"How to check whether a radiobutton is selected in a buttongroup?","body":"<pre><code>buttonGroup1.getSelection()==null\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3895396,"reputation":11,"user_id":3224578,"display_name":"Jonathan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1390411577,"creation_date":1390411577,"answer_id":21289736,"question_id":13986466,"body_markdown":"You can&#39;t do much by way of the ButtonModel when it comes to finding a selected radio button.  But a ButtonGroup does have the method getElements() that returns an Enumeration of AbstractButtons.  These AbstractButtons can be cast to JRadioButtons during iteration through the Enumeration...\r\n\r\nThe following method will return the selected JRadioButton of the ButtonGroup passed into it, or return null if none is selected...\r\n\r\n    private JRadioButton getSelectedRadioButton(ButtonGroup buttonGroup) {\r\n\r\n        Enumeration&lt;AbstractButton&gt; abstractButtons = buttonGroup.getElements();\r\n        JRadioButton radioButton = null;\r\n\r\n        while (abstractButtons.hasMoreElements()) {\r\n            radioButton = (JRadioButton) abstractButtons.nextElement();\r\n            if (radioButton.isSelected()) {\r\n                break;\r\n            }\r\n        }\r\n        return radioButton;\r\n    }\r\n \r\n\r\nOnce you have the selected JRadioButton, it&#39;s elementary to access its properties.  Suppose you want the text property of whatever button is selected...\r\n\r\n    String selectedRadioButtonText = getSelectedRadioButton(buttonGroup).getText();\r\n\r\nI hope this helps someone!!!","title":"How to check whether a radiobutton is selected in a buttongroup?","body":"<p>You can't do much by way of the ButtonModel when it comes to finding a selected radio button.  But a ButtonGroup does have the method getElements() that returns an Enumeration of AbstractButtons.  These AbstractButtons can be cast to JRadioButtons during iteration through the Enumeration...</p>\n\n<p>The following method will return the selected JRadioButton of the ButtonGroup passed into it, or return null if none is selected...</p>\n\n<pre><code>private JRadioButton getSelectedRadioButton(ButtonGroup buttonGroup) {\n\n    Enumeration&lt;AbstractButton&gt; abstractButtons = buttonGroup.getElements();\n    JRadioButton radioButton = null;\n\n    while (abstractButtons.hasMoreElements()) {\n        radioButton = (JRadioButton) abstractButtons.nextElement();\n        if (radioButton.isSelected()) {\n            break;\n        }\n    }\n    return radioButton;\n}\n</code></pre>\n\n<p>Once you have the selected JRadioButton, it's elementary to access its properties.  Suppose you want the text property of whatever button is selected...</p>\n\n<pre><code>String selectedRadioButtonText = getSelectedRadioButton(buttonGroup).getText();\n</code></pre>\n\n<p>I hope this helps someone!!!</p>\n"},{"tags":[],"owner":{"account_id":3895913,"reputation":21,"user_id":3224966,"display_name":"Jonathan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1390419542,"creation_date":1390418323,"answer_id":21291958,"question_id":13986466,"body_markdown":"Additionally, and more to the point of your question, you can determine if there is a selection among the radio buttons of a button group using the getSelected() method of the ButtonGroup class since it returns null if nothing is selected.\r\n    \r\n    private boolean isSelection(ButtonGroup buttonGroup) {\r\n        return (buttonGroup.getSelected() != null);\r\n    }\r\n\r\nI hope this helps someone!!!\r\n\r\n   \r\n","title":"How to check whether a radiobutton is selected in a buttongroup?","body":"<p>Additionally, and more to the point of your question, you can determine if there is a selection among the radio buttons of a button group using the getSelected() method of the ButtonGroup class since it returns null if nothing is selected.</p>\n\n<pre><code>private boolean isSelection(ButtonGroup buttonGroup) {\n    return (buttonGroup.getSelected() != null);\n}\n</code></pre>\n\n<p>I hope this helps someone!!!</p>\n"},{"tags":[],"owner":{"account_id":3957359,"reputation":1,"user_id":3265424,"display_name":"Adriano Ellero"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696490314,"creation_date":1696490314,"answer_id":77234953,"question_id":13986466,"body_markdown":"\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;html&gt;\r\n    &lt;body&gt;\r\n       &lt;h3&gt;Using the &lt;i&gt;checked property&lt;/i&gt; of the radio button to check whether a radio button is selected&lt;/h3&gt;\r\n       &lt;input type = &quot;radio&quot; name = &quot;radio&quot; value = &quot;10&quot; id = &quot;radio1&quot;&gt; 10 &lt;/input&gt; &lt;br&gt;\r\n       &lt;input type = &quot;radio&quot; name = &quot;radio&quot; value = &quot;20&quot; id = &quot;radio2&quot;&gt; 20 &lt;/input&gt; &lt;br&gt;\r\n       &lt;input type = &quot;radio&quot; name = &quot;radio&quot; value = &quot;30&quot; id = &quot;radio3&quot; /&gt; 30 &lt;/input&gt;\r\n       &lt;p id = &quot;output&quot;&gt; &lt;/p&gt;\r\n       &lt;button onclick = &quot;getSelectedRadio()&quot;&gt; Check radio &lt;/button&gt;\r\n       &lt;script&gt;\r\n          let output = document.getElementById(&quot;output&quot;);\r\n          function getSelectedRadio() {\r\n             let radioButtons = document.getElementsByName(&#39;radio&#39;);\r\n             for (let radio of radioButtons) {\r\n                if (radio.checked) {\r\n                   output.innerHTML = &quot;The radio button is selected and it&#39;s value is &quot; + radio.value;\r\n                }\r\n             }\r\n          }\r\n       &lt;/script&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"How to check whether a radiobutton is selected in a buttongroup?","body":"<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;html&gt;\n&lt;body&gt;\n   &lt;h3&gt;Using the &lt;i&gt;checked property&lt;/i&gt; of the radio button to check whether a radio button is selected&lt;/h3&gt;\n   &lt;input type = \"radio\" name = \"radio\" value = \"10\" id = \"radio1\"&gt; 10 &lt;/input&gt; &lt;br&gt;\n   &lt;input type = \"radio\" name = \"radio\" value = \"20\" id = \"radio2\"&gt; 20 &lt;/input&gt; &lt;br&gt;\n   &lt;input type = \"radio\" name = \"radio\" value = \"30\" id = \"radio3\" /&gt; 30 &lt;/input&gt;\n   &lt;p id = \"output\"&gt; &lt;/p&gt;\n   &lt;button onclick = \"getSelectedRadio()\"&gt; Check radio &lt;/button&gt;\n   &lt;script&gt;\n      let output = document.getElementById(\"output\");\n      function getSelectedRadio() {\n         let radioButtons = document.getElementsByName('radio');\n         for (let radio of radioButtons) {\n            if (radio.checked) {\n               output.innerHTML = \"The radio button is selected and it's value is \" + radio.value;\n            }\n         }\n      }\n   &lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":2168375,"reputation":31,"user_id":1920964,"display_name":"Hemant"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49778,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":6,"score":3,"last_activity_date":1696490314,"creation_date":1356077558,"question_id":13986466,"body_markdown":"I have a buttongroup of 5 radio buttons and I need to check if at least one of them is selected or not.\r\n\r\nIs this right?\r\n\r\n`buttonGroup1.isSelected(ButtonModel);`\r\n\r\nBut what is `ButtonmModel` here?","title":"How to check whether a radiobutton is selected in a buttongroup?","body":"<p>I have a buttongroup of 5 radio buttons and I need to check if at least one of them is selected or not.</p>\n\n<p>Is this right?</p>\n\n<p><code>buttonGroup1.isSelected(ButtonModel);</code></p>\n\n<p>But what is <code>ButtonmModel</code> here?</p>\n"},{"tags":["java","android","flutter","kotlin","dart"],"owner":{"account_id":28591776,"reputation":9,"user_id":21890833,"display_name":"dr3kiki"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696490217,"creation_date":1696490217,"question_id":77234937,"body_markdown":"I am making a vpn app in Android Studio / Flutter, and I need to communicate between flutter and native code (as flutter_openvpn package doesn&#39;t work anymore). I have set up a method channel for the flutter to communicate back and forth between but it won&#39;t even allow a simple connection between it and Kotlin. Flutter compiles fine, error only when button is pressed.\r\nI am getting this error \r\n\r\n    Error: MissingPluginException(No implementation found for method connectOpenVPN on channel com.example.myapp/openvpn)\r\n\r\nHere is the sample code I have for both.\r\n\r\n```flutter\r\nimport &#39;package:flutter/material.dart&#39;;\r\nimport &#39;package:flutter/services.dart&#39;;\r\n\r\nvoid main() {\r\n  runApp(MyApp());\r\n}\r\n\r\nclass MyApp extends StatelessWidget {\r\n  // Define a channel with the same name as on the native side\r\n  final MethodChannel platform = MethodChannel(&#39;com.example.myapp/openvpn&#39;);\r\n\r\n  Future&lt;void&gt; connectOpenVPN() async {\r\n    try {\r\n      final String result = await platform.invokeMethod(&#39;connectOpenVPN&#39;);\r\n      print(&#39;OpenVPN Result: $result&#39;);\r\n    } on PlatformException catch (e) {\r\n      print(&#39;Error executing OpenVPN: ${e.message}&#39;);\r\n    }\r\n  }\r\n\r\n  @override\r\n  Widget build(BuildContext context) {\r\n    return MaterialApp(\r\n      home: Scaffold(\r\n        appBar: AppBar(\r\n          title: Text(&#39;OpenVPN Example&#39;),\r\n        ),\r\n        body: Center(\r\n          child: ElevatedButton(\r\n            onPressed: () {\r\n              connectOpenVPN(); // Call the OpenVPN method here\r\n            },\r\n            child: Text(&#39;Connect to OpenVPN&#39;),\r\n          ),\r\n        ),\r\n      ),\r\n    );\r\n  }\r\n}\r\n```\r\nthat is flutter and this is the kotlin\r\n```kotlin\r\npackage com.example.myapp\r\n\r\nimport android.content.Context\r\nimport android.os.Handler\r\nimport android.os.Looper\r\nimport android.util.Log\r\nimport android.widget.Toast\r\nimport io.flutter.embedding.android.FlutterActivity\r\nimport io.flutter.embedding.engine.FlutterEngine\r\nimport io.flutter.plugin.common.MethodCall\r\nimport io.flutter.plugin.common.MethodChannel\r\nimport java.io.BufferedReader\r\nimport java.io.IOException\r\nimport java.io.InputStreamReader\r\n\r\nclass MainActivity : FlutterActivity() {\r\n    private val CHANNEL = &quot;com.example.myapp/openvpn&quot;\r\n\r\n    override fun configureFlutterEngine(flutterEngine: FlutterEngine) {\r\n        super.configureFlutterEngine(flutterEngine)\r\n\r\n        MethodChannel(flutterEngine.dartExecutor.binaryMessenger, CHANNEL).setMethodCallHandler { call, result -&gt;\r\n\r\n            if (call.method == &quot;connectOpenVPN&quot;) {\r\n                val serverHostname = &quot;example.com&quot;\r\n                val serverPort = 443\r\n                val protocol = &quot;udp&quot;\r\n                val username = &quot;example&quot;\r\n                val password = &quot;example&quot;\r\n\r\n                val openvpnCommand = &quot;openvpn --remote $serverHostname $serverPort --proto $protocol --auth-user-pass &lt;(echo -e &#39;$username\\n$password&#39;)&quot;\r\n\r\n                try {\r\n                    val processBuilder = ProcessBuilder(&quot;/bin/sh&quot;, &quot;-c&quot;, openvpnCommand)\r\n                    val process = processBuilder.start()\r\n\r\n                    val reader = BufferedReader(InputStreamReader(process.inputStream))\r\n                    val output = StringBuilder()\r\n                    var line: String?\r\n                    while (reader.readLine().also { line = it } != null) {\r\n                        output.append(line).append(&#39;\\n&#39;)\r\n                    }\r\n\r\n                    val exitCode = process.waitFor()\r\n                    val outputString = output.toString()\r\n\r\n                    // Show a Toast message with OpenVPN output (optional)\r\n                    Handler(Looper.getMainLooper()).post {\r\n                        showToast(this@MainActivity, &quot;OpenVPN process exited with code: $exitCode\\n$outputString&quot;)\r\n                    }\r\n\r\n                    result.success(outputString)\r\n                } catch (e: IOException) {\r\n                    result.error(&quot;COMMAND_ERROR&quot;, &quot;Error executing OpenVPN command: ${e.message}&quot;, null)\r\n                } catch (e: InterruptedException) {\r\n                    result.error(&quot;INTERRUPTED_ERROR&quot;, &quot;Command execution interrupted: ${e.message}&quot;, null)\r\n                }\r\n            } else {\r\n                result.notImplemented()\r\n            }\r\n        }\r\n    }\r\n\r\n    private fun showToast(context: Context, message: String) {\r\n        Toast.makeText(context, message, Toast.LENGTH_LONG).show()\r\n    }\r\n}\r\n```\r\n\r\nI saw some other threads have the same error occur but their solutions like restarting IDE, invalidating caches and cleaning flutter did not help at all. Perhaps I am missing something very obvious. My flutter code is in the /lib directory and the Kotlin is in the android/app/src/main/kotlin/com/example/vpn/MainActivity.kt  . I have used dummy variables for all of the names and details, the error is just with the method channel.\r\n\r\nPlease help so for now and future I understand where I&#39;ve gone wrong. Thank you. ","title":"Flutter Method Channels &quot;Error: MissingPluginException(No implementation found for method nativeMethod on channel com.example.myapp/methodChannel)&quot;","body":"<p>I am making a vpn app in Android Studio / Flutter, and I need to communicate between flutter and native code (as flutter_openvpn package doesn't work anymore). I have set up a method channel for the flutter to communicate back and forth between but it won't even allow a simple connection between it and Kotlin. Flutter compiles fine, error only when button is pressed.\nI am getting this error</p>\n<pre><code>Error: MissingPluginException(No implementation found for method connectOpenVPN on channel com.example.myapp/openvpn)\n</code></pre>\n<p>Here is the sample code I have for both.</p>\n<pre class=\"lang-dart prettyprint-override\"><code>import 'package:flutter/material.dart';\nimport 'package:flutter/services.dart';\n\nvoid main() {\n  runApp(MyApp());\n}\n\nclass MyApp extends StatelessWidget {\n  // Define a channel with the same name as on the native side\n  final MethodChannel platform = MethodChannel('com.example.myapp/openvpn');\n\n  Future&lt;void&gt; connectOpenVPN() async {\n    try {\n      final String result = await platform.invokeMethod('connectOpenVPN');\n      print('OpenVPN Result: $result');\n    } on PlatformException catch (e) {\n      print('Error executing OpenVPN: ${e.message}');\n    }\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return MaterialApp(\n      home: Scaffold(\n        appBar: AppBar(\n          title: Text('OpenVPN Example'),\n        ),\n        body: Center(\n          child: ElevatedButton(\n            onPressed: () {\n              connectOpenVPN(); // Call the OpenVPN method here\n            },\n            child: Text('Connect to OpenVPN'),\n          ),\n        ),\n      ),\n    );\n  }\n}\n</code></pre>\n<p>that is flutter and this is the kotlin</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>package com.example.myapp\n\nimport android.content.Context\nimport android.os.Handler\nimport android.os.Looper\nimport android.util.Log\nimport android.widget.Toast\nimport io.flutter.embedding.android.FlutterActivity\nimport io.flutter.embedding.engine.FlutterEngine\nimport io.flutter.plugin.common.MethodCall\nimport io.flutter.plugin.common.MethodChannel\nimport java.io.BufferedReader\nimport java.io.IOException\nimport java.io.InputStreamReader\n\nclass MainActivity : FlutterActivity() {\n    private val CHANNEL = &quot;com.example.myapp/openvpn&quot;\n\n    override fun configureFlutterEngine(flutterEngine: FlutterEngine) {\n        super.configureFlutterEngine(flutterEngine)\n\n        MethodChannel(flutterEngine.dartExecutor.binaryMessenger, CHANNEL).setMethodCallHandler { call, result -&gt;\n\n            if (call.method == &quot;connectOpenVPN&quot;) {\n                val serverHostname = &quot;example.com&quot;\n                val serverPort = 443\n                val protocol = &quot;udp&quot;\n                val username = &quot;example&quot;\n                val password = &quot;example&quot;\n\n                val openvpnCommand = &quot;openvpn --remote $serverHostname $serverPort --proto $protocol --auth-user-pass &lt;(echo -e '$username\\n$password')&quot;\n\n                try {\n                    val processBuilder = ProcessBuilder(&quot;/bin/sh&quot;, &quot;-c&quot;, openvpnCommand)\n                    val process = processBuilder.start()\n\n                    val reader = BufferedReader(InputStreamReader(process.inputStream))\n                    val output = StringBuilder()\n                    var line: String?\n                    while (reader.readLine().also { line = it } != null) {\n                        output.append(line).append('\\n')\n                    }\n\n                    val exitCode = process.waitFor()\n                    val outputString = output.toString()\n\n                    // Show a Toast message with OpenVPN output (optional)\n                    Handler(Looper.getMainLooper()).post {\n                        showToast(this@MainActivity, &quot;OpenVPN process exited with code: $exitCode\\n$outputString&quot;)\n                    }\n\n                    result.success(outputString)\n                } catch (e: IOException) {\n                    result.error(&quot;COMMAND_ERROR&quot;, &quot;Error executing OpenVPN command: ${e.message}&quot;, null)\n                } catch (e: InterruptedException) {\n                    result.error(&quot;INTERRUPTED_ERROR&quot;, &quot;Command execution interrupted: ${e.message}&quot;, null)\n                }\n            } else {\n                result.notImplemented()\n            }\n        }\n    }\n\n    private fun showToast(context: Context, message: String) {\n        Toast.makeText(context, message, Toast.LENGTH_LONG).show()\n    }\n}\n</code></pre>\n<p>I saw some other threads have the same error occur but their solutions like restarting IDE, invalidating caches and cleaning flutter did not help at all. Perhaps I am missing something very obvious. My flutter code is in the /lib directory and the Kotlin is in the android/app/src/main/kotlin/com/example/vpn/MainActivity.kt  . I have used dummy variables for all of the names and details, the error is just with the method channel.</p>\n<p>Please help so for now and future I understand where I've gone wrong. Thank you.</p>\n"},{"tags":["java","arrays","multidimensional-array"],"comments":[{"owner":{"account_id":1410409,"reputation":3690,"user_id":1337135,"accept_rate":80,"display_name":"maszter"},"score":0,"creation_date":1477941571,"post_id":40348899,"comment_id":67952612,"body_markdown":"Does it really has to be an array? You cannot keep different data types in the same array","body":"Does it really has to be an array? You cannot keep different data types in the same array"}],"answers":[{"tags":[],"owner":{"account_id":4013516,"reputation":1381,"user_id":3306301,"display_name":"Rotem"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1477942246,"creation_date":1477941546,"answer_id":40349069,"question_id":40348899,"body_markdown":"Any addition of data into a two-dimensional array is based on the row and the column:\r\n\r\nmeans for 2d-array with size of NXN:\r\n\r\n    database[0];       // Related to the first row in the array\r\n    database[0][0];    // Is the top left cell in the array.\r\n    database[N-1]      // Related to the last array row\r\n    database[N-1][N-1] // Is the down right cell in the array.\r\n\r\nIf you wish to add grade3 into the array for the second student you should insert the grade into:\r\n\r\n     database[1][2]\r\nWhy? \r\nBecause the counting in the array is zero based, and hence the second student data is saved in \r\n\r\n    database[1]  // The second array row.\r\n\r\nThe first grade should be save in column number 0:\r\n\r\n    database[1][0]\r\n\r\nThe second grade should be save in column number 1:\r\n\r\n    database[1][1]\r\n\r\nThe third grade should be save in column number 2:\r\n\r\n    database[1][2]\r\n\r\nHere you have a very useful [link related to grades 2d-arrays][1].\r\n\r\n**Tip for best practice:**\r\n\r\nWhen using two-dimensional array it is a good practice to make the numbers in the array as static final names with meaning. Instead of:\r\n\r\n    double [][] database = new double[4][15];\r\n\r\nFor example you can try the following syntax:\r\n    \r\n    private static final Integer NUM_OF_STUDENTS = 4\r\n    private static final Integer NUM_OF_TESTS = 15\r\n    double [][] database = new double[NUM_OF_STUDENTS][NUM_OF_TESTS];\r\n\r\n\r\n  [1]: https://chortle.ccsu.edu/java5/Notes/chap49C/ch49C_3.html","title":"How to add data to a two-dimensional array?","body":"<p>Any addition of data into a two-dimensional array is based on the row and the column:</p>\n\n<p>means for 2d-array with size of NXN:</p>\n\n<pre><code>database[0];       // Related to the first row in the array\ndatabase[0][0];    // Is the top left cell in the array.\ndatabase[N-1]      // Related to the last array row\ndatabase[N-1][N-1] // Is the down right cell in the array.\n</code></pre>\n\n<p>If you wish to add grade3 into the array for the second student you should insert the grade into:</p>\n\n<pre><code> database[1][2]\n</code></pre>\n\n<p>Why? \nBecause the counting in the array is zero based, and hence the second student data is saved in </p>\n\n<pre><code>database[1]  // The second array row.\n</code></pre>\n\n<p>The first grade should be save in column number 0:</p>\n\n<pre><code>database[1][0]\n</code></pre>\n\n<p>The second grade should be save in column number 1:</p>\n\n<pre><code>database[1][1]\n</code></pre>\n\n<p>The third grade should be save in column number 2:</p>\n\n<pre><code>database[1][2]\n</code></pre>\n\n<p>Here you have a very useful <a href=\"https://chortle.ccsu.edu/java5/Notes/chap49C/ch49C_3.html\" rel=\"nofollow\">link related to grades 2d-arrays</a>.</p>\n\n<p><strong>Tip for best practice:</strong></p>\n\n<p>When using two-dimensional array it is a good practice to make the numbers in the array as static final names with meaning. Instead of:</p>\n\n<pre><code>double [][] database = new double[4][15];\n</code></pre>\n\n<p>For example you can try the following syntax:</p>\n\n<pre><code>private static final Integer NUM_OF_STUDENTS = 4\nprivate static final Integer NUM_OF_TESTS = 15\ndouble [][] database = new double[NUM_OF_STUDENTS][NUM_OF_TESTS];\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2578864,"reputation":2991,"user_id":2235972,"display_name":"denvercoder9"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1477941861,"creation_date":1477941861,"answer_id":40349158,"question_id":40348899,"body_markdown":"This is what a 2d array looks like:\r\n\r\n[![][1]][1]\r\n\r\nSo, according to my understanding, this is how you should declare your 2d array:\r\n\r\n    double [][] database = new double[15][5];\r\nIt means that there are 15 rows (15 students) and 5 columns (1 column to store the name and the other 4 to store the grades of that student). Now you need a way to store both name and grade in the same array. So the only you can do this is if you declare the type of the array an `Object`.\r\n\r\n    Object [][] database = new Object[15][5];\r\n\r\nAn Object can hold any type of data. Here is an example:\r\n\r\n    database[0][0] = &quot;jon skeet&quot;;\r\n    database[0][1] = 4.0; // grade in double type... you can also keep it as String\r\n    database[0][2] = 4.0;\r\n    database[0][3] = 4.0;\r\n    database[0][4] = 4.0;\r\n\r\n\r\nIf 2d array is not a requirement then I would suggest you to use a HashMap or something else.\r\n  [1]: https://i.stack.imgur.com/tFdLk.gif","title":"How to add data to a two-dimensional array?","body":"<p>This is what a 2d array looks like:</p>\n\n<p><a href=\"https://i.stack.imgur.com/tFdLk.gif\" rel=\"nofollow\"><img src=\"https://i.stack.imgur.com/tFdLk.gif\" alt=\"\"></a></p>\n\n<p>So, according to my understanding, this is how you should declare your 2d array:</p>\n\n<pre><code>double [][] database = new double[15][5];\n</code></pre>\n\n<p>It means that there are 15 rows (15 students) and 5 columns (1 column to store the name and the other 4 to store the grades of that student). Now you need a way to store both name and grade in the same array. So the only you can do this is if you declare the type of the array an <code>Object</code>.</p>\n\n<pre><code>Object [][] database = new Object[15][5];\n</code></pre>\n\n<p>An Object can hold any type of data. Here is an example:</p>\n\n<pre><code>database[0][0] = \"jon skeet\";\ndatabase[0][1] = 4.0; // grade in double type... you can also keep it as String\ndatabase[0][2] = 4.0;\ndatabase[0][3] = 4.0;\ndatabase[0][4] = 4.0;\n</code></pre>\n\n<p>If 2d array is not a requirement then I would suggest you to use a HashMap or something else.</p>\n"},{"tags":[],"owner":{"account_id":5943913,"reputation":326,"user_id":4674104,"display_name":"Manuel Mejias"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1477942448,"creation_date":1477942448,"answer_id":40349294,"question_id":40348899,"body_markdown":"Create a Class Student in that class put an Array of Notes, then in the StudenGrade class create an array of Students \r\n\r\n    class Student {\r\n     int []grades;\r\n     String name;\r\n    \r\n     public Student(String name, int NGrades){\r\n     this.name = name\r\n     grades = new int[NGrades];\r\n     }\r\n     public void setGrade(int index, int grade){\r\n     grade[index] = grade;\r\n     }\r\n     public int getGrade(int index){\r\n     return grade[index];\r\n     }\r\n     public String getName(){\r\n     return name;\r\n     }\r\n    }\r\n    \r\n    class StudentGrades {\r\n     Student students[];\r\n    \r\n     public StudentGrades(int NStudents, int NGrades){\r\n     students = new Student[NStudents];\r\n     String names[] = {&quot;Bob&quot;,&quot;Pete&quot;,&quot;Rafi&quot;,&quot;Roff&quot;};\r\n     for(int i=0;i&lt;NStudents;i++){\r\n      students[i] = new Studen(names[i],NGrades);\r\n     }\r\n    }\r\n\r\n    ","title":"How to add data to a two-dimensional array?","body":"<p>Create a Class Student in that class put an Array of Notes, then in the StudenGrade class create an array of Students </p>\n\n<pre><code>class Student {\n int []grades;\n String name;\n\n public Student(String name, int NGrades){\n this.name = name\n grades = new int[NGrades];\n }\n public void setGrade(int index, int grade){\n grade[index] = grade;\n }\n public int getGrade(int index){\n return grade[index];\n }\n public String getName(){\n return name;\n }\n}\n\nclass StudentGrades {\n Student students[];\n\n public StudentGrades(int NStudents, int NGrades){\n students = new Student[NStudents];\n String names[] = {\"Bob\",\"Pete\",\"Rafi\",\"Roff\"};\n for(int i=0;i&lt;NStudents;i++){\n  students[i] = new Studen(names[i],NGrades);\n }\n}\n</code></pre>\n"}],"owner":{"account_id":9325270,"reputation":85,"user_id":6922789,"accept_rate":22,"display_name":"ckorvee"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13596,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1696489670,"creation_date":1477940873,"question_id":40348899,"body_markdown":"I have to create a program that uses a two-dimensional array to store student names and their grades. The user inputs the students name and their grades and it is then supposed to be added. It has to be able to hold data for 15 students. Can someone tell me how to add data to such an array? I have attached my code so far, as well as my design preview.\r\n\r\n    public class StudentGrades extends javax.swing.JFrame {\r\n        double [][] database = new double[4][15];\r\n    /**\r\n     * Creates new form StudentGrades\r\n     */\r\n    public StudentGrades() {\r\n        initComponents();\r\n        displayButton.setEnabled(false);\r\n        studentButton.setEnabled(false);\r\n        courseButton.setEnabled(false);\r\n    }\r\n   \r\n ...\r\n\r\n    private void exitButtonActionPerformed(java.awt.event.ActionEvent evt) {                                           \r\n        //set code to close program\r\n        System.exit(0);\r\n    }                                          \r\n\r\n    private void addButtonActionPerformed(java.awt.event.ActionEvent evt) {                                          \r\n        //clear output area\r\n        outputArea.setText(null);\r\n        \r\n        //enable buttons\r\n        displayButton.setEnabled(true);\r\n        studentButton.setEnabled(true);\r\n        courseButton.setEnabled(true);\r\n        \r\n        //declare variables\r\n        double grade1 = Double.parseDouble(test1.getText());\r\n        double grade2 = Double.parseDouble(test2.getText());\r\n        double grade3 = Double.parseDouble(test3.getText());\r\n        double grade4 = Double.parseDouble(test4.getText());\r\n\r\n[User Interface][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Pw5F3.jpg","title":"How to add data to a two-dimensional array?","body":"<p>I have to create a program that uses a two-dimensional array to store student names and their grades. The user inputs the students name and their grades and it is then supposed to be added. It has to be able to hold data for 15 students. Can someone tell me how to add data to such an array? I have attached my code so far, as well as my design preview.</p>\n\n<pre><code>public class StudentGrades extends javax.swing.JFrame {\n    double [][] database = new double[4][15];\n/**\n * Creates new form StudentGrades\n */\npublic StudentGrades() {\n    initComponents();\n    displayButton.setEnabled(false);\n    studentButton.setEnabled(false);\n    courseButton.setEnabled(false);\n}\n</code></pre>\n\n<p>...</p>\n\n<pre><code>private void exitButtonActionPerformed(java.awt.event.ActionEvent evt) {                                           \n    //set code to close program\n    System.exit(0);\n}                                          \n\nprivate void addButtonActionPerformed(java.awt.event.ActionEvent evt) {                                          \n    //clear output area\n    outputArea.setText(null);\n\n    //enable buttons\n    displayButton.setEnabled(true);\n    studentButton.setEnabled(true);\n    courseButton.setEnabled(true);\n\n    //declare variables\n    double grade1 = Double.parseDouble(test1.getText());\n    double grade2 = Double.parseDouble(test2.getText());\n    double grade3 = Double.parseDouble(test3.getText());\n    double grade4 = Double.parseDouble(test4.getText());\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/Pw5F3.jpg\" rel=\"nofollow\">User Interface</a></p>\n"},{"tags":["java","jpa"],"answers":[{"tags":[],"owner":{"account_id":350230,"reputation":6382,"user_id":685962,"display_name":"d1e"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1341823507,"creation_date":1341823507,"answer_id":11391685,"question_id":11386610,"body_markdown":"\r\n1. [JPA does not allow references to non-PK columns](https://stackoverflow.com/questions/5818373/does-the-jpa-specification-allow-references-to-non-primary-key-columns).\r\n\r\n2. [ReferencedColumn property is used to specify join column, when there is a composite PK in referenced table](https://stackoverflow.com/a/11245823/685962).\r\n\r\n&gt; How can I make this work??\r\n\r\nNormalize your database to use common PK-FK relationships. If needed - define composite PK.","title":"JPA @JoinColumn issues while joining on non primary key columns","body":"<ol>\n<li><p><a href=\"https://stackoverflow.com/questions/5818373/does-the-jpa-specification-allow-references-to-non-primary-key-columns\">JPA does not allow references to non-PK columns</a>.</p></li>\n<li><p><a href=\"https://stackoverflow.com/a/11245823/685962\">ReferencedColumn property is used to specify join column, when there is a composite PK in referenced table</a>.</p></li>\n</ol>\n\n<blockquote>\n  <p>How can I make this work??</p>\n</blockquote>\n\n<p>Normalize your database to use common PK-FK relationships. If needed - define composite PK.</p>\n"},{"tags":[],"owner":{"account_id":181890,"reputation":17919,"user_id":416206,"accept_rate":40,"display_name":"James"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1341838726,"creation_date":1341838726,"answer_id":11395525,"question_id":11386610,"body_markdown":"Unusual data model, you may want to rethink it.\r\n\r\nAlso, normally it is best to define a @OneToMany using a mappedBy and an inverse @ManyToOne.\r\n\r\nJPA does not directly support your data model, but if you are using EclipseLink, you can define the OneToManyMapping using a DescriptorCustomizer and use whatever foreign keys or join conditions you require.\r\n","title":"JPA @JoinColumn issues while joining on non primary key columns","body":"<p>Unusual data model, you may want to rethink it.</p>\n\n<p>Also, normally it is best to define a @OneToMany using a mappedBy and an inverse @ManyToOne.</p>\n\n<p>JPA does not directly support your data model, but if you are using EclipseLink, you can define the OneToManyMapping using a DescriptorCustomizer and use whatever foreign keys or join conditions you require.</p>\n"},{"tags":[],"owner":{"account_id":1244635,"reputation":2457,"user_id":1206349,"display_name":"zdrsoft"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683298705,"creation_date":1683298705,"answer_id":76183538,"question_id":11386610,"body_markdown":"You should use right @Id annotation on the joined Entity(table) property(column), which you want to join by. The best solution is to normalize the tables in the DB, and make the appropriate changes in your Entities.\r\n\r\n    @Data\r\n    @Entity\r\n    @Table(name = &quot;person&quot;)\r\n    class Person {\r\n\r\n        @Id\r\n        String person_sk;\r\n\r\n        int person_id;\r\n\r\n        String Person_name;\r\n\r\n        @OneToMany(cascade = CascadeType.ALL)\r\n        @JoinColumn(name = &quot;person_sk&quot;)\r\n        List&lt;address&gt; getAddresses() {}\r\n    }\r\n\r\n    @Data\r\n    @Entity\r\n    @Table(name = &quot;address&quot;)\r\n    class Address {\r\n\r\n        @Id\r\n        int person_reference_id;\r\n\r\n        int address_id;\r\n\r\n        int phone_id;\r\n\r\n        String street_name, zip_code;\r\n    }\r\n    \r\n\r\n","title":"JPA @JoinColumn issues while joining on non primary key columns","body":"<p>You should use right @Id annotation on the joined Entity(table) property(column), which you want to join by. The best solution is to normalize the tables in the DB, and make the appropriate changes in your Entities.</p>\n<pre><code>@Data\n@Entity\n@Table(name = &quot;person&quot;)\nclass Person {\n\n    @Id\n    String person_sk;\n\n    int person_id;\n\n    String Person_name;\n\n    @OneToMany(cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;person_sk&quot;)\n    List&lt;address&gt; getAddresses() {}\n}\n\n@Data\n@Entity\n@Table(name = &quot;address&quot;)\nclass Address {\n\n    @Id\n    int person_reference_id;\n\n    int address_id;\n\n    int phone_id;\n\n    String street_name, zip_code;\n}\n</code></pre>\n"}],"owner":{"account_id":1157141,"reputation":21,"user_id":1137440,"display_name":"Bhumir Jhaveri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19162,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1696489670,"creation_date":1341780685,"question_id":11386610,"body_markdown":"   I want to connect table based on one direction join, here is my code:\r\n\r\n    Class Person {\r\n    \r\n    @id\r\n    String person_sk;\r\n    \r\n    int person_id;\r\n    \r\n    String Person_name;\r\n    \r\n    @OneToMany\r\n    @joinColumn (name=&quot;person_reference_id&quot;)\r\n    List&lt;address&gt; getAddresses() {}\r\n    \r\n    }\r\n    \r\n    class Address\r\n    {\r\n    \r\n    @id\r\n    int person_reference_id (referred from Person);\r\n    \r\n    @id\r\n    int address_id;\r\n    \r\n    @id\r\n    int phone_id;\r\n    \r\n    String street_name, zip_code;\r\n    \r\n    }\r\n\r\n\r\n\r\nNow when I do getAddress, it does not work, because my join is based on person_ref_id and @id (primaryKey) column in Person class is person_sk.\r\n\r\nIf I use referencedColumn then also it doesn&#39;t work.\r\n","title":"JPA @JoinColumn issues while joining on non primary key columns","body":"<p>I want to connect table based on one direction join, here is my code:</p>\n\n<pre><code>Class Person {\n\n@id\nString person_sk;\n\nint person_id;\n\nString Person_name;\n\n@OneToMany\n@joinColumn (name=\"person_reference_id\")\nList&lt;address&gt; getAddresses() {}\n\n}\n\nclass Address\n{\n\n@id\nint person_reference_id (referred from Person);\n\n@id\nint address_id;\n\n@id\nint phone_id;\n\nString street_name, zip_code;\n\n}\n</code></pre>\n\n<p>Now when I do getAddress, it does not work, because my join is based on person_ref_id and @id (primaryKey) column in Person class is person_sk.</p>\n\n<p>If I use referencedColumn then also it doesn't work.</p>\n"},{"tags":["java","reflection","jvm","classloader"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1696492727,"post_id":77234591,"comment_id":136160553,"body_markdown":"The reimplementation happened in Java&#160;18. But it’s indeed the simplest solution. But unless excessive class reloading happens, the required amount of metaspace should be finite.","body":"The reimplementation happened in Java 18. But it’s indeed the simplest solution. But unless excessive class reloading happens, the required amount of metaspace should be finite."},{"owner":{"account_id":154431,"reputation":219,"user_id":370363,"accept_rate":100,"display_name":"Rakesh A"},"score":0,"creation_date":1696493246,"post_id":77234591,"comment_id":136160649,"body_markdown":"Github repo changes were done via https://bugs.openjdk.org/browse/JDK-8305104 are part of jdk 22; could you provide bit more information about the change in jdk 18 that I can go through - Thank you","body":"Github repo changes were done via <a href=\"https://bugs.openjdk.org/browse/JDK-8305104\" rel=\"nofollow noreferrer\">bugs.openjdk.org/browse/JDK-8305104</a> are part of jdk 22; could you provide bit more information about the change in jdk 18 that I can go through - Thank you"},{"owner":{"account_id":154431,"reputation":219,"user_id":370363,"accept_rate":100,"display_name":"Rakesh A"},"score":0,"creation_date":1696493340,"post_id":77234591,"comment_id":136160670,"body_markdown":"found it in the description of the call - https://openjdk.org/jeps/416","body":"found it in the description of the call - <a href=\"https://openjdk.org/jeps/416\" rel=\"nofollow noreferrer\">openjdk.org/jeps/416</a>"},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1696495882,"post_id":77234591,"comment_id":136161200,"body_markdown":"Right, 18. Not sure why I wrote 12 there.","body":"Right, 18. Not sure why I wrote 12 there."},{"owner":{"account_id":154431,"reputation":219,"user_id":370363,"accept_rate":100,"display_name":"Rakesh A"},"score":0,"creation_date":1696496821,"post_id":77234591,"comment_id":136161389,"body_markdown":"Any clue why &#39;sun.reflect.noInflation&#39; and &#39;sun.reflect.inflationThreshold&#39; options dont work with OpenJDK11 ?","body":"Any clue why &#39;sun.reflect.noInflation&#39; and &#39;sun.reflect.inflationThreshold&#39; options dont work with OpenJDK11 ?"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1696504192,"post_id":77234591,"comment_id":136162835,"body_markdown":"I don’t know any reason why these properties shouldn’t work. I just verified that their support code is still there.","body":"I don’t know any reason why these properties shouldn’t work. I just verified that their support code is still there."}],"owner":{"account_id":154431,"reputation":219,"user_id":370363,"accept_rate":100,"display_name":"Rakesh A"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696489475,"creation_date":1696486176,"question_id":77234591,"body_markdown":"Our application uses object serialization/deserialization and while profiling we observe that this results in too many DelegatingClassLoaders in metaspace. And over the period of time application results OutOfMemoryError.\r\n\r\nQuick search we found that JVM&#39;s reflection optimization is the reason and was also mentioned at \r\n\r\n - https://stackoverflow.com/questions/6505274/what-for-sun-jvm-creates-instances-of-sun-reflect-delegatingclassloader-at-runti\r\n - https://www.ibm.com/support/pages/potential-native-memory-use-reflection-delegating-classloaders\r\n\r\nBut the suggested options &#39;sun.reflect.noInflation&#39; and &#39;sun.reflect.inflationThreshold&#39; do not work for OpenJDK 11\r\n\r\nIs there any other option to solve this problem?","title":"DelegatingClassLoader instances causing OutOfMemoryError: metaspace","body":"<p>Our application uses object serialization/deserialization and while profiling we observe that this results in too many DelegatingClassLoaders in metaspace. And over the period of time application results OutOfMemoryError.</p>\n<p>Quick search we found that JVM's reflection optimization is the reason and was also mentioned at</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/6505274/what-for-sun-jvm-creates-instances-of-sun-reflect-delegatingclassloader-at-runti\">What for Sun JVM creates instances of sun.reflect.DelegatingClassLoader at runtime?</a></li>\n<li><a href=\"https://www.ibm.com/support/pages/potential-native-memory-use-reflection-delegating-classloaders\" rel=\"nofollow noreferrer\">https://www.ibm.com/support/pages/potential-native-memory-use-reflection-delegating-classloaders</a></li>\n</ul>\n<p>But the suggested options 'sun.reflect.noInflation' and 'sun.reflect.inflationThreshold' do not work for OpenJDK 11</p>\n<p>Is there any other option to solve this problem?</p>\n"},{"tags":["java","inputstream","bytebuffer"],"answers":[{"tags":[],"owner":{"account_id":4763924,"reputation":26697,"user_id":3850595,"accept_rate":86,"display_name":"Jordi Castilla"},"down_vote_count":5,"up_vote_count":57,"is_accepted":true,"score":52,"last_activity_date":1533722511,"creation_date":1430729553,"answer_id":30026117,"question_id":30026060,"body_markdown":"For me the best in this case is [Apache commons-io][1] to handle this and similar tasks.\r\n\r\nThe `IOUtils` type has a static method to read an `InputStream` and return a `byte[]`.\r\n\r\n    InputStream is;\r\n    byte[] bytes = IOUtils.toByteArray(is);\r\n\r\nInternally this creates a `ByteArrayOutputStream` and copies the bytes to the output, then calls `toByteArray()`. \r\n\r\n**UPDATE**: as long as you have the `byte array`, as [@Peter][2] pointed, you have to convert to `ByteBuffer`\r\n\r\n    ByteBuffer.wrap(bytes)\r\n\r\n----------\r\n\r\n**JAVA 9 UPDATE**: as stated by [@saka1029][4] if you&#39;re using java 9+ you can use the default `InputStream` API which now includes [`InputStream::readAllBytes`][3] function, so no external libraries needed \r\n\r\n    InputStream is;\r\n    byte[] bytes = is.readAllBytes()\r\n\r\n\r\n  [1]: http://commons.apache.org/io/\r\n  [2]: https://stackoverflow.com/users/57695/peter-lawrey\r\n  [3]: https://docs.oracle.com/javase/9/docs/api/java/io/InputStream.html#readAllBytes--\r\n  [4]: https://stackoverflow.com/users/4910279/saka1029","title":"Java InputStream to ByteBuffer","body":"<p>For me the best in this case is <a href=\"http://commons.apache.org/io/\" rel=\"noreferrer\">Apache commons-io</a> to handle this and similar tasks.</p>\n\n<p>The <code>IOUtils</code> type has a static method to read an <code>InputStream</code> and return a <code>byte[]</code>.</p>\n\n<pre><code>InputStream is;\nbyte[] bytes = IOUtils.toByteArray(is);\n</code></pre>\n\n<p>Internally this creates a <code>ByteArrayOutputStream</code> and copies the bytes to the output, then calls <code>toByteArray()</code>. </p>\n\n<p><strong>UPDATE</strong>: as long as you have the <code>byte array</code>, as <a href=\"https://stackoverflow.com/users/57695/peter-lawrey\">@Peter</a> pointed, you have to convert to <code>ByteBuffer</code></p>\n\n<pre><code>ByteBuffer.wrap(bytes)\n</code></pre>\n\n<hr>\n\n<p><strong>JAVA 9 UPDATE</strong>: as stated by <a href=\"https://stackoverflow.com/users/4910279/saka1029\">@saka1029</a> if you're using java 9+ you can use the default <code>InputStream</code> API which now includes <a href=\"https://docs.oracle.com/javase/9/docs/api/java/io/InputStream.html#readAllBytes--\" rel=\"noreferrer\"><code>InputStream::readAllBytes</code></a> function, so no external libraries needed </p>\n\n<pre><code>InputStream is;\nbyte[] bytes = is.readAllBytes()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2188410,"reputation":491,"user_id":1936214,"display_name":"swepss"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1610382119,"creation_date":1610382119,"answer_id":65670676,"question_id":30026060,"body_markdown":"What is about:\r\n\r\n    ReadableByteChannel channel = Channels.newChannel(inputStream);\r\n    ByteBuffer buffer = ByteBuffer.allocate(bufferSize);\r\n    \r\n    while (channel.read(buffer) != -1) {\r\n      //write buffer\r\n    \r\n    };","title":"Java InputStream to ByteBuffer","body":"<p>What is about:</p>\n<pre><code>ReadableByteChannel channel = Channels.newChannel(inputStream);\nByteBuffer buffer = ByteBuffer.allocate(bufferSize);\n\nwhile (channel.read(buffer) != -1) {\n  //write buffer\n\n};\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5914240,"reputation":1974,"user_id":4653517,"display_name":"James Mudd"},"down_vote_count":3,"up_vote_count":5,"is_accepted":false,"score":2,"last_activity_date":1611777757,"creation_date":1611777757,"answer_id":65926551,"question_id":30026060,"body_markdown":"A neat solution with no 3rd party library needed is\r\n```\r\nByteBuffer byteBuffer = ByteBuffer.allocate(inputStream.available());\r\nChannels.newChannel(inputStream).read(byteBuffer);\r\n```\r\nSee [ReadableByteChannel#read(ByteBuffer)][1]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/nio/channels/ReadableByteChannel.html#read(java.nio.ByteBuffer)","title":"Java InputStream to ByteBuffer","body":"<p>A neat solution with no 3rd party library needed is</p>\n<pre><code>ByteBuffer byteBuffer = ByteBuffer.allocate(inputStream.available());\nChannels.newChannel(inputStream).read(byteBuffer);\n</code></pre>\n<p>See <a href=\"https://docs.oracle.com/javase/8/docs/api/java/nio/channels/ReadableByteChannel.html#read(java.nio.ByteBuffer)\" rel=\"nofollow noreferrer\">ReadableByteChannel#read(ByteBuffer)</a></p>\n"},{"tags":[],"owner":{"account_id":20399566,"reputation":306,"user_id":14965614,"display_name":"Andrea"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696489389,"creation_date":1696433744,"answer_id":77230974,"question_id":30026060,"body_markdown":"From Java 9, there is method [readAllBytes][1] (in class `java.io.InputStream`) that returns a byte array. You pass that byte array to [static] method [wrap][2] (in class `java.nio.ByteBuffer`), for example:\r\n\r\n    public ByteBuffer fromInputStrem(InputStream is) throws IOException {\r\n\t\treturn ByteBuffer.wrap(is.readAllBytes());\r\n\t}\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/InputStream.html#readAllBytes()\r\n  [2]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/nio/ByteBuffer.html#wrap(byte%5B%5D)","title":"Java InputStream to ByteBuffer","body":"<p>From Java 9, there is method <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/InputStream.html#readAllBytes()\" rel=\"nofollow noreferrer\">readAllBytes</a> (in class <code>java.io.InputStream</code>) that returns a byte array. You pass that byte array to [static] method <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/nio/ByteBuffer.html#wrap(byte%5B%5D)\" rel=\"nofollow noreferrer\">wrap</a> (in class <code>java.nio.ByteBuffer</code>), for example:</p>\n<pre><code>public ByteBuffer fromInputStrem(InputStream is) throws IOException {\n    return ByteBuffer.wrap(is.readAllBytes());\n}\n</code></pre>\n"}],"owner":{"account_id":1041836,"reputation":6885,"user_id":1047713,"accept_rate":81,"display_name":"elect"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49671,"favorite_count":0,"down_vote_count":0,"up_vote_count":35,"accepted_answer_id":30026117,"answer_count":4,"score":35,"last_activity_date":1696489389,"creation_date":1430729282,"question_id":30026060,"body_markdown":"I am reading dds textures, but since once built the jar I can&#39;t access those textures through `url` and `file` and have to use `InputStream` instead.\r\n\r\nSo I would need to know how I can obtain a `java.​nio.ByteBuffer` from an `java.io.InputStream`.\r\n\r\n**Ps:** no matter through 3rd part libraries, I just need it working ","title":"Java InputStream to ByteBuffer","body":"<p>I am reading dds textures, but since once built the jar I can't access those textures through <code>url</code> and <code>file</code> and have to use <code>InputStream</code> instead.</p>\n\n<p>So I would need to know how I can obtain a <code>java.​nio.ByteBuffer</code> from an <code>java.io.InputStream</code>.</p>\n\n<p><strong>Ps:</strong> no matter through 3rd part libraries, I just need it working </p>\n"},{"tags":["javascript","java","spring-boot","thymeleaf"],"comments":[{"owner":{"account_id":16341513,"reputation":209,"user_id":11802330,"display_name":"Eric"},"score":0,"creation_date":1696485221,"post_id":77234516,"comment_id":136159379,"body_markdown":"You can try [this](https://stackoverflow.com/questions/76645174/object-not-being-passed-to-html-file-not-being-printed-on-webpage/76647120#76647120)","body":"You can try <a href=\"https://stackoverflow.com/questions/76645174/object-not-being-passed-to-html-file-not-being-printed-on-webpage/76647120#76647120\">this</a>"}],"answers":[{"tags":[],"owner":{"account_id":21006793,"reputation":1,"user_id":15436396,"display_name":"kasim alshaikh ali"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696488778,"creation_date":1696488778,"answer_id":77234806,"question_id":77234516,"body_markdown":"try using @RequestParam\r\n\r\n        @PostMapping(&quot;/submitTransactions&quot;)\r\n    public String updateTableOfContents(@RequestParam List&lt;TransactionMealList&gt; transactionList) {\r\n        // Process the updated transactions\r\n        return &quot;redirect:/table-of-contents&quot;;\r\n    }\r\n\r\n","title":"I have tried to create editable table. I have table with seven columns. I want to edit table and submit to controller","body":"<p>try using @RequestParam</p>\n<pre><code>    @PostMapping(&quot;/submitTransactions&quot;)\npublic String updateTableOfContents(@RequestParam List&lt;TransactionMealList&gt; transactionList) {\n    // Process the updated transactions\n    return &quot;redirect:/table-of-contents&quot;;\n}\n</code></pre>\n"}],"owner":{"account_id":20707202,"reputation":11,"user_id":15204773,"display_name":"Bahast Saber"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1696488778,"creation_date":1696484785,"question_id":77234516,"body_markdown":"problem:\r\nI have tried to retrieve all the data that I have, and then edit column date and/or meal times in the Table. \r\nas shown in the code, I have two methods one for GET, and POST for submitting the form  I want to edit the data. \r\nmy problem is I can&#39;t deal with getting List&lt;TransactionMealList&gt;. it shows me an error or an empty list. \r\n\r\nController: \r\n```\r\n    @GetMapping(&quot;/table-of-contents&quot;)\r\n    public String showTableOfContents(Model model) {\r\n        transactions = getTableOfContents();\r\n        model.addAttribute(&quot;transactionList&quot;, transactions);\r\n        return &quot;table_of_contents&quot;;\r\n    }\r\n\r\n    @PostMapping(&quot;/submitTransactions&quot;)\r\n    public String updateTableOfContents(@ModelAttribute(&quot;transactionList&quot;) List&lt;TransactionMealList&gt; transactions) {\r\n      // process of transactions\r\n        return &quot;redirect:/table-of-contents&quot;;\r\n    }\r\n```\r\nand front end code: \r\n    &lt;div class=&quot;table-responsive&quot;&gt;\r\n        &lt;form id=&quot;transactionForm&quot; action=&quot;/submitTransactions&quot; th:object=&quot;${transactionList}&quot; method=&quot;post&quot;&gt;\r\n\r\n            &lt;table id=&quot;example&quot; class=&quot;table table-striped table-bordered&quot; style=&quot;width:100%&quot;&gt;\r\n                &lt;thead&gt;\r\n                &lt;tr&gt;\r\n                    &lt;th class=&quot;text-center&quot; th:text=&quot;#{table.sequence}&quot;&gt; Number&lt;/th&gt;\r\n                    &lt;th class=&quot;text-center&quot; th:text=&quot;#{full.name.english}&quot;&gt;Full Name&lt;/th&gt;\r\n                    &lt;th class=&quot;text-center&quot; th:text=&quot;#{date.transaction}&quot;&gt;Date&lt;/th&gt;\r\n                    &lt;th class=&quot;text-center&quot; th:text=&quot;#{breakfast}&quot;&gt;Breakfast&lt;/th&gt;\r\n                    &lt;th class=&quot;text-center&quot; th:text=&quot;#{lunch}&quot;&gt;Lunch&lt;/th&gt;\r\n                    &lt;th class=&quot;text-center&quot; th:text=&quot;#{lunch}&quot;&gt;Dinner&lt;/th&gt;\r\n                    &lt;th class=&quot;text-center&quot; th:text=&quot;#{restaurants}&quot;&gt;Restaurant&lt;/th&gt;\r\n\r\n                &lt;/tr&gt;\r\n                &lt;/thead&gt;\r\n                &lt;tbody&gt;\r\n                &lt;tr style=&quot;border: #757171 solid 1pt&quot; th:each=&quot;transaction, iterStat : *{transactionList}&quot;&gt;\r\n\r\n                    &lt;td th:text=&quot;${transaction.employeeHrId} &quot;&gt;123\r\n                    &lt;/td&gt;\r\n                    &lt;td th:text=&quot;${transaction.employeeFullName}&quot;&gt;Some name\r\n                    &lt;/td&gt;\r\n                    &lt;td&gt;\r\n                        &lt;input class=&quot;form-control&quot; type=&quot;date&quot;\r\n                               th:field=&quot;*{transactionList[__${iterStat.index}__].mealDate}&quot; id=&quot;validFrom&quot;\r\n                               name=&quot;validFrom&quot;\r\n                               style=&quot;color: #FFFFFF&quot;&gt;\r\n                    &lt;/td&gt;\r\n                    &lt;td&gt;\r\n                        &lt;input type=&quot;checkbox&quot; th:field=&quot;*{transactionList[__${iterStat.index}__].isBreakfast}&quot;\r\n                               style=&quot;width:20px; height:20px;&quot;/&gt;\r\n                    &lt;/td&gt;\r\n                    &lt;td&gt;\r\n                        &lt;input type=&quot;checkbox&quot; th:field=&quot;*{transactionList[__${iterStat.index}__].isLunch}&quot;\r\n                               style=&quot;width:20px; height:20px;&quot;/&gt;\r\n                    &lt;/td&gt;\r\n                    &lt;td&gt;\r\n                        &lt;input type=&quot;checkbox&quot; th:field=&quot;*{transactionList[__${iterStat.index}__].isDinner}&quot;\r\n                               style=&quot;width:20px; height:20px;&quot;/&gt;\r\n                    &lt;/td&gt;\r\n                    &lt;td th:text=&quot;${transaction.restaurantName}&quot;&gt;A\r\n                    &lt;/td&gt;\r\n\r\n\r\n                    &lt;/td&gt;\r\n                &lt;/tr&gt;\r\n\r\n                &lt;/tbody&gt;\r\n            &lt;/table&gt;\r\n\r\n            &lt;button class=&quot;btn btn-outline-light&quot; type=&quot;button&quot; id=&quot;submitButton&quot;&gt;Submit&lt;/button&gt;\r\n\r\n        &lt;/form&gt;\r\n\r\n\r\n    &lt;/div&gt;\r\n\r\n&lt;/div&gt;\r\n\r\n```\r\n```","title":"I have tried to create editable table. I have table with seven columns. I want to edit table and submit to controller","body":"<p>problem:\nI have tried to retrieve all the data that I have, and then edit column date and/or meal times in the Table.\nas shown in the code, I have two methods one for GET, and POST for submitting the form  I want to edit the data.\nmy problem is I can't deal with getting List. it shows me an error or an empty list.</p>\n<p>Controller:</p>\n<pre><code>    @GetMapping(&quot;/table-of-contents&quot;)\n    public String showTableOfContents(Model model) {\n        transactions = getTableOfContents();\n        model.addAttribute(&quot;transactionList&quot;, transactions);\n        return &quot;table_of_contents&quot;;\n    }\n\n    @PostMapping(&quot;/submitTransactions&quot;)\n    public String updateTableOfContents(@ModelAttribute(&quot;transactionList&quot;) List&lt;TransactionMealList&gt; transactions) {\n      // process of transactions\n        return &quot;redirect:/table-of-contents&quot;;\n    }\n</code></pre>\n<p>and front end code:\n\n</p>\n<pre><code>        &lt;table id=&quot;example&quot; class=&quot;table table-striped table-bordered&quot; style=&quot;width:100%&quot;&gt;\n            &lt;thead&gt;\n            &lt;tr&gt;\n                &lt;th class=&quot;text-center&quot; th:text=&quot;#{table.sequence}&quot;&gt; Number&lt;/th&gt;\n                &lt;th class=&quot;text-center&quot; th:text=&quot;#{full.name.english}&quot;&gt;Full Name&lt;/th&gt;\n                &lt;th class=&quot;text-center&quot; th:text=&quot;#{date.transaction}&quot;&gt;Date&lt;/th&gt;\n                &lt;th class=&quot;text-center&quot; th:text=&quot;#{breakfast}&quot;&gt;Breakfast&lt;/th&gt;\n                &lt;th class=&quot;text-center&quot; th:text=&quot;#{lunch}&quot;&gt;Lunch&lt;/th&gt;\n                &lt;th class=&quot;text-center&quot; th:text=&quot;#{lunch}&quot;&gt;Dinner&lt;/th&gt;\n                &lt;th class=&quot;text-center&quot; th:text=&quot;#{restaurants}&quot;&gt;Restaurant&lt;/th&gt;\n\n            &lt;/tr&gt;\n            &lt;/thead&gt;\n            &lt;tbody&gt;\n            &lt;tr style=&quot;border: #757171 solid 1pt&quot; th:each=&quot;transaction, iterStat : *{transactionList}&quot;&gt;\n\n                &lt;td th:text=&quot;${transaction.employeeHrId} &quot;&gt;123\n                &lt;/td&gt;\n                &lt;td th:text=&quot;${transaction.employeeFullName}&quot;&gt;Some name\n                &lt;/td&gt;\n                &lt;td&gt;\n                    &lt;input class=&quot;form-control&quot; type=&quot;date&quot;\n                           th:field=&quot;*{transactionList[__${iterStat.index}__].mealDate}&quot; id=&quot;validFrom&quot;\n                           name=&quot;validFrom&quot;\n                           style=&quot;color: #FFFFFF&quot;&gt;\n                &lt;/td&gt;\n                &lt;td&gt;\n                    &lt;input type=&quot;checkbox&quot; th:field=&quot;*{transactionList[__${iterStat.index}__].isBreakfast}&quot;\n                           style=&quot;width:20px; height:20px;&quot;/&gt;\n                &lt;/td&gt;\n                &lt;td&gt;\n                    &lt;input type=&quot;checkbox&quot; th:field=&quot;*{transactionList[__${iterStat.index}__].isLunch}&quot;\n                           style=&quot;width:20px; height:20px;&quot;/&gt;\n                &lt;/td&gt;\n                &lt;td&gt;\n                    &lt;input type=&quot;checkbox&quot; th:field=&quot;*{transactionList[__${iterStat.index}__].isDinner}&quot;\n                           style=&quot;width:20px; height:20px;&quot;/&gt;\n                &lt;/td&gt;\n                &lt;td th:text=&quot;${transaction.restaurantName}&quot;&gt;A\n                &lt;/td&gt;\n\n\n                &lt;/td&gt;\n            &lt;/tr&gt;\n\n            &lt;/tbody&gt;\n        &lt;/table&gt;\n\n        &lt;button class=&quot;btn btn-outline-light&quot; type=&quot;button&quot; id=&quot;submitButton&quot;&gt;Submit&lt;/button&gt;\n\n    &lt;/form&gt;\n\n\n&lt;/div&gt;\n</code></pre>\n\n<pre><code></code></pre>\n"},{"tags":["java","spring-boot","testng"],"owner":{"account_id":7124319,"reputation":175,"user_id":5447760,"display_name":"Vinayaka S P"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696488736,"creation_date":1696488736,"question_id":77234801,"body_markdown":"I have a TestNG enabled SpringBoot gradle project.\r\nIn the testng tests, I have a requirement of calling the same suite XML files from 2 different XML files like below.\r\n\r\nIn FirstTest.xml:\r\n```xml\r\n&lt;suite-files&gt;\r\n   &lt;parameter name=&quot;TestParam&quot; value=&quot;FirstTest&quot;/&gt;\r\n   &lt;suite-file path=&quot;Common.xml&quot;/&gt;\r\n   &lt;suite-file path=&quot;Test1.xml&quot;/&gt;\r\n&lt;/suite-files&gt;\r\n```\r\n\r\n\r\nin SecondTest.xml:\r\n```xml\r\n&lt;suite-files&gt;\r\n   &lt;parameter name=&quot;TestParam&quot; value=&quot;SecondTest&quot;/&gt;\r\n   &lt;suite-file path=&quot;Common.xml&quot;/&gt;\r\n   &lt;suite-file path=&quot;Test2.xml&quot;/&gt;\r\n&lt;/suite-files&gt;\r\n```\r\n\r\nI have an AllTest.xml which calls both FirstTest.xml and SecondTest.xml:\r\n```xml\r\n&lt;suite-files&gt;\r\n   &lt;suite-file path=&quot;FirstTest.xml&quot;/&gt;\r\n   &lt;suite-file path=&quot;SecondTest.xml&quot;/&gt;\r\n&lt;/suite-files&gt;\r\n```\r\n\r\nInstead of `@Parameters`, I&#39;m using ITestContexts to get all parameters in the `@BeforeClass` annotated method of Common.java, Test1.java, and Test2.java classes to read the parameter passed from the Suite files.\r\n```java\r\nprotected Map&lt;String, String&gt; params;\r\n@BeforeClass(alwaysRun = true)\r\npublic void init(ITestContext ctx) {\r\n  params = ctx.getCurrentXmlTest().getAllParameters();\r\n}\r\n\r\n/* \r\nOther data Preparation methods in case of Common \r\nand Test methods in case of Test1 &amp; Test2 classes \r\nbased on params.get(&quot;TestParam&quot;) value\r\n*/\r\n```\r\n\r\nBased on this parameter, the Data Preparation takes place in the Common.java class and is stored in the local cache. In the Test1 and Test2 classes again based on this parameter, respective data created in Common.java is retrieved from the cache.\r\n\r\n\r\nNow, when I execute AllTest.xml, the Common.xml gets executed only once from the FirstTest.xml and it is being skipped in the SecondTest.xml\r\nI want to execute Common.xml file multiple times from different suite files (FirstTest.xml, SecondTest.xml, ... up to NthTest.xml)\r\n\r\nAny help in this regard is much appreciated. ","title":"How to force TestNG to execute the Same Suite.xml file multiple times with different parameter","body":"<p>I have a TestNG enabled SpringBoot gradle project.\nIn the testng tests, I have a requirement of calling the same suite XML files from 2 different XML files like below.</p>\n<p>In FirstTest.xml:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;suite-files&gt;\n   &lt;parameter name=&quot;TestParam&quot; value=&quot;FirstTest&quot;/&gt;\n   &lt;suite-file path=&quot;Common.xml&quot;/&gt;\n   &lt;suite-file path=&quot;Test1.xml&quot;/&gt;\n&lt;/suite-files&gt;\n</code></pre>\n<p>in SecondTest.xml:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;suite-files&gt;\n   &lt;parameter name=&quot;TestParam&quot; value=&quot;SecondTest&quot;/&gt;\n   &lt;suite-file path=&quot;Common.xml&quot;/&gt;\n   &lt;suite-file path=&quot;Test2.xml&quot;/&gt;\n&lt;/suite-files&gt;\n</code></pre>\n<p>I have an AllTest.xml which calls both FirstTest.xml and SecondTest.xml:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;suite-files&gt;\n   &lt;suite-file path=&quot;FirstTest.xml&quot;/&gt;\n   &lt;suite-file path=&quot;SecondTest.xml&quot;/&gt;\n&lt;/suite-files&gt;\n</code></pre>\n<p>Instead of <code>@Parameters</code>, I'm using ITestContexts to get all parameters in the <code>@BeforeClass</code> annotated method of Common.java, Test1.java, and Test2.java classes to read the parameter passed from the Suite files.</p>\n<pre class=\"lang-java prettyprint-override\"><code>protected Map&lt;String, String&gt; params;\n@BeforeClass(alwaysRun = true)\npublic void init(ITestContext ctx) {\n  params = ctx.getCurrentXmlTest().getAllParameters();\n}\n\n/* \nOther data Preparation methods in case of Common \nand Test methods in case of Test1 &amp; Test2 classes \nbased on params.get(&quot;TestParam&quot;) value\n*/\n</code></pre>\n<p>Based on this parameter, the Data Preparation takes place in the Common.java class and is stored in the local cache. In the Test1 and Test2 classes again based on this parameter, respective data created in Common.java is retrieved from the cache.</p>\n<p>Now, when I execute AllTest.xml, the Common.xml gets executed only once from the FirstTest.xml and it is being skipped in the SecondTest.xml\nI want to execute Common.xml file multiple times from different suite files (FirstTest.xml, SecondTest.xml, ... up to NthTest.xml)</p>\n<p>Any help in this regard is much appreciated.</p>\n"},{"tags":["java","cucumber","karate"],"comments":[{"owner":{"account_id":40774,"reputation":28739,"user_id":118228,"accept_rate":85,"display_name":"djangofan"},"score":0,"creation_date":1579737531,"post_id":59854039,"comment_id":105870756,"body_markdown":"Your idea to mix non-BDD Karate Gherkin with BDD-Cucumber Gherkin, is not a good one, in my opinion.  Keep them separate.","body":"Your idea to mix non-BDD Karate Gherkin with BDD-Cucumber Gherkin, is not a good one, in my opinion.  Keep them separate."},{"owner":{"account_id":15901180,"reputation":61,"user_id":11473522,"display_name":"Muhil R"},"score":0,"creation_date":1588871224,"post_id":59854039,"comment_id":109087403,"body_markdown":"I think you would see step undefined warning for karate if you keep both cucumber and karate tests in a single feature file.","body":"I think you would see step undefined warning for karate if you keep both cucumber and karate tests in a single feature file."}],"answers":[{"tags":[],"owner":{"account_id":48302,"reputation":55353,"user_id":143475,"display_name":"Peter Thomas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1579676739,"creation_date":1579676739,"answer_id":59854313,"question_id":59854039,"body_markdown":"Do this using the Java API.  Read the docs: https://github.com/intuit/karate#java-api\r\n\r\n    Map&lt;String, Object&gt; result = Runner.runFeature(&quot;classpath:demo/java/from-java.feature&quot;, args, true);\r\n\r\nBy the way, I don&#39;t recommend BDD for API testing: https://stackoverflow.com/a/47799207/143475\r\n\r\n","title":"How to integrate both karate and cucumber and invoke both from a single file/class","body":"<p>Do this using the Java API.  Read the docs: <a href=\"https://github.com/intuit/karate#java-api\" rel=\"nofollow noreferrer\">https://github.com/intuit/karate#java-api</a></p>\n\n<pre><code>Map&lt;String, Object&gt; result = Runner.runFeature(\"classpath:demo/java/from-java.feature\", args, true);\n</code></pre>\n\n<p>By the way, I don't recommend BDD for API testing: <a href=\"https://stackoverflow.com/a/47799207/143475\">https://stackoverflow.com/a/47799207/143475</a></p>\n"}],"owner":{"account_id":17396796,"reputation":11,"user_id":12606397,"display_name":"chk"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1526,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1696488408,"creation_date":1579675480,"question_id":59854039,"body_markdown":"\r\nI created cucumber automation code for a project, How to call karate feature files from cucumber runner class, or any other way to run the karate feature files from cucumber framework, My plan is to integrate both karate and cucumber and invoke both from a single file/class\r\n\r\n@RunWith(Cucumber.class)\r\npublic class TestRunner_Cucumber {\r\n \r\n}","title":"How to integrate both karate and cucumber and invoke both from a single file/class","body":"<p>I created cucumber automation code for a project, How to call karate feature files from cucumber runner class, or any other way to run the karate feature files from cucumber framework, My plan is to integrate both karate and cucumber and invoke both from a single file/class</p>\n\n<p>@RunWith(Cucumber.class)\npublic class TestRunner_Cucumber {</p>\n\n<p>}</p>\n"},{"tags":["java","spring","lombok","intellij-lombok-plugin"],"comments":[{"owner":{"account_id":24440940,"reputation":3122,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1691837840,"post_id":76887850,"comment_id":135547546,"body_markdown":"Can you share the dependency of lombok that you use ? just update your question","body":"Can you share the dependency of lombok that you use ? just update your question"}],"answers":[{"tags":[],"owner":{"account_id":24440940,"reputation":3122,"user_id":18364656,"display_name":"Andrei Lisa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691838701,"creation_date":1691838701,"answer_id":76888992,"question_id":76887850,"body_markdown":"It can be a problem in your, maven/gradle dependency that you import. Be sure, that project lombok dependency is imported as \r\n\r\nGradle:\r\n\r\n    compileOnly group: &#39;org.projectlombok&#39;, name: &#39;lombok&#39;, version: &#39;yourVersionOfLombok&#39;\r\n\r\n    annotationProcessor &#39;org.projectlombok:lombok:yourVersionOfLombok&#39;\r\n\r\nMaven:\r\n\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    &lt;version&gt;yourVersionOfLombok&lt;/version&gt;\r\n    &lt;scope&gt;provided&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n\r\n                   &lt;annotationProcessorPaths&gt;\r\n                    &lt;path&gt;\r\n                        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                        &lt;version yourVersionOfLombok&lt;/version&gt;\r\n                    &lt;/path&gt;                         \r\n                &lt;/annotationProcessorPaths&gt;\r\n\r\nSomething like this.\r\nLet me know if it help you.\r\n","title":"Spring boot: Cannot resolve method &#39;builder&#39; in &#39;Product&#39;","body":"<p>It can be a problem in your, maven/gradle dependency that you import. Be sure, that project lombok dependency is imported as</p>\n<p>Gradle:</p>\n<pre><code>compileOnly group: 'org.projectlombok', name: 'lombok', version: 'yourVersionOfLombok'\n\nannotationProcessor 'org.projectlombok:lombok:yourVersionOfLombok'\n</code></pre>\n<p>Maven:</p>\n<pre><code>&lt;dependency&gt;\n&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n&lt;artifactId&gt;lombok&lt;/artifactId&gt;\n&lt;version&gt;yourVersionOfLombok&lt;/version&gt;\n&lt;scope&gt;provided&lt;/scope&gt;\n</code></pre>\n\n<pre><code>               &lt;annotationProcessorPaths&gt;\n                &lt;path&gt;\n                    &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                    &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                    &lt;version yourVersionOfLombok&lt;/version&gt;\n                &lt;/path&gt;                         \n            &lt;/annotationProcessorPaths&gt;\n</code></pre>\n<p>Something like this.\nLet me know if it help you.</p>\n"},{"tags":[],"owner":{"account_id":24427245,"reputation":11,"user_id":18352674,"display_name":"Anh Tester"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696488373,"creation_date":1696488373,"answer_id":77234762,"question_id":76887850,"body_markdown":"If you use IntelliJ IDEA, you need to install the Lombok plugin so it can understand the annotations of the Lombok library (Gradle/Maven) for your project.","title":"Spring boot: Cannot resolve method &#39;builder&#39; in &#39;Product&#39;","body":"<p>If you use IntelliJ IDEA, you need to install the Lombok plugin so it can understand the annotations of the Lombok library (Gradle/Maven) for your project.</p>\n"}],"owner":{"account_id":27350734,"reputation":1,"user_id":20859944,"display_name":"Nguyen Trinh Quang Trung"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":466,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1696488373,"creation_date":1691817559,"question_id":76887850,"body_markdown":"I have used @builder anotation of lombok in Product class. But when I use Product.builder(), it&#39;s not work.\r\nAlso, the getter and setter are cannot resolve. I have tried to downgrade some lombok versions, still not working.\r\n\r\nThis is my code in ProductService:\r\n\r\n```\r\npackage dev.beyondnguyen.productservice.service;\r\n\r\nimport dev.beyondnguyen.productservice.dto.ProductRequest;\r\nimport dev.beyondnguyen.productservice.model.Product;\r\nimport dev.beyondnguyen.productservice.repository.ProductRepository;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Service;\r\n\r\n@Service\r\npublic class ProductService {\r\n\r\n    @Autowired\r\n    private ProductRepository productRepository;\r\n    public void createProduct(ProductRequest productRequest) {\r\n        Product product = Product.builder()\r\n                .name(productRequest.getName())\r\n                .description(productRequest.getDescription())\r\n                .price(productRequest.getPrice())\r\n                .build();\r\n\r\n        productRepository.save(product);\r\n        log.info(&quot;Product {} is saved&quot;, product.getId());\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nAnd the code in Product class:\r\n\r\n```\r\npackage dev.beyondnguyen.productservice.model;\r\n\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Builder;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\nimport org.springframework.data.annotation.Id;\r\nimport org.springframework.data.mongodb.core.mapping.Document;\r\n\r\nimport java.math.BigDecimal;\r\n\r\n@Document(collection = &quot;products&quot;)\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Builder\r\n@Data\r\npublic class Product {\r\n    @Id\r\n    private String id;\r\n    private String name;\r\n    private String description;\r\n    private BigDecimal price;\r\n}\r\n```\r\n\r\n\r\n\r\nWhat is happening? How can I fix it?","title":"Spring boot: Cannot resolve method &#39;builder&#39; in &#39;Product&#39;","body":"<p>I have used @builder anotation of lombok in Product class. But when I use Product.builder(), it's not work.\nAlso, the getter and setter are cannot resolve. I have tried to downgrade some lombok versions, still not working.</p>\n<p>This is my code in ProductService:</p>\n<pre><code>package dev.beyondnguyen.productservice.service;\n\nimport dev.beyondnguyen.productservice.dto.ProductRequest;\nimport dev.beyondnguyen.productservice.model.Product;\nimport dev.beyondnguyen.productservice.repository.ProductRepository;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\n\n@Service\npublic class ProductService {\n\n    @Autowired\n    private ProductRepository productRepository;\n    public void createProduct(ProductRequest productRequest) {\n        Product product = Product.builder()\n                .name(productRequest.getName())\n                .description(productRequest.getDescription())\n                .price(productRequest.getPrice())\n                .build();\n\n        productRepository.save(product);\n        log.info(&quot;Product {} is saved&quot;, product.getId());\n    }\n\n}\n\n</code></pre>\n<p>And the code in Product class:</p>\n<pre><code>package dev.beyondnguyen.productservice.model;\n\nimport lombok.AllArgsConstructor;\nimport lombok.Builder;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\nimport org.springframework.data.annotation.Id;\nimport org.springframework.data.mongodb.core.mapping.Document;\n\nimport java.math.BigDecimal;\n\n@Document(collection = &quot;products&quot;)\n@NoArgsConstructor\n@AllArgsConstructor\n@Builder\n@Data\npublic class Product {\n    @Id\n    private String id;\n    private String name;\n    private String description;\n    private BigDecimal price;\n}\n</code></pre>\n<p>What is happening? How can I fix it?</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":7414275,"reputation":14648,"user_id":5640649,"accept_rate":91,"display_name":"lealceldeiro"},"score":3,"creation_date":1696424092,"post_id":77229674,"comment_id":136150777,"body_markdown":"`try { /*jwt validation code*/ return true;} catch (YourJwtValidationException e) { return false; }` ?","body":"<code>try { &#47;*jwt validation code*&#47; return true;} catch (YourJwtValidationException e) { return false; }</code> ?"}],"answers":[{"tags":[],"owner":{"account_id":12128873,"reputation":19,"user_id":10440470,"display_name":"bhimantoro suryo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696487859,"creation_date":1696487859,"answer_id":77234726,"question_id":77229674,"body_markdown":"just use the try catch, return true in try block, and return false in catch block","title":"How to return Boolean instead of returning void from a token validity function in Java?","body":"<p>just use the try catch, return true in try block, and return false in catch block</p>\n"}],"owner":{"account_id":8903500,"reputation":1364,"user_id":6646188,"display_name":"Abhijit Mondal Abhi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1696487859,"creation_date":1696423480,"question_id":77229674,"body_markdown":" I am checking the JWT validation using the following code in Java. This is working fine and also getting exception if the token is invalid. But, I just need to return true/false, depending on the validity of the JWT. How can I achieve that?\r\n\r\n    public void validateToken(final String token) {\r\n        Jwts.parserBuilder().setSigningKey(getSignKey()).build().parseClaimsJws(token);\r\n      }","title":"How to return Boolean instead of returning void from a token validity function in Java?","body":"<p>I am checking the JWT validation using the following code in Java. This is working fine and also getting exception if the token is invalid. But, I just need to return true/false, depending on the validity of the JWT. How can I achieve that?</p>\n<pre><code>public void validateToken(final String token) {\n    Jwts.parserBuilder().setSigningKey(getSignKey()).build().parseClaimsJws(token);\n  }\n</code></pre>\n"},{"tags":["java","scheduled-tasks","keycloak","quarkus"],"comments":[{"owner":{"account_id":16676962,"reputation":1021,"user_id":12176221,"display_name":"Jacouille"},"score":0,"creation_date":1683035406,"post_id":76154696,"comment_id":134302516,"body_markdown":"Hello, why do you put version for Scheduler ? Are you including different version than your quarkus version ?","body":"Hello, why do you put version for Scheduler ? Are you including different version than your quarkus version ?"},{"owner":{"account_id":6075052,"reputation":31,"user_id":4742678,"display_name":"widehusk"},"score":0,"creation_date":1683039626,"post_id":76154696,"comment_id":134303672,"body_markdown":"Hi, now I included the full pom.xml. I don&#39;t have dependencyManagement, I just deploy this JAR in Keycloak as a custom provider. I&#39;m doing it wrong?","body":"Hi, now I included the full pom.xml. I don&#39;t have dependencyManagement, I just deploy this JAR in Keycloak as a custom provider. I&#39;m doing it wrong?"}],"owner":{"account_id":6075052,"reputation":31,"user_id":4742678,"display_name":"widehusk"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":213,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696487809,"creation_date":1683029456,"question_id":76154696,"body_markdown":"I have a custom provider in Keycloak Quarkus distribution.\r\nI created a task with **@Scheduled**, but it&#39;s never triggered.\r\n\r\nFor simplicity, this is the only class I have:\r\n\r\n\r\n[![enter image description here](https://i.stack.imgur.com/eXHVF.png)](https://i.stack.imgur.com/eXHVF.png)\r\n\r\nscheduler dependency is added:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI packaged it in a JAR and deployed into the &quot;providers&quot; folder.\r\nAfter the startup, &quot;post construct&quot; is printed but the &quot;scheduled&quot; method is never called.\r\nWhat am I missing?\r\n\r\n[![enter image description here](https://i.stack.imgur.com/XTx1s.png)](https://i.stack.imgur.com/XTx1s.png)\r\n\r\nI&#39;m expecting the scheduled method to run every 10 seconds.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/oyBHP.png","title":"@Scheduled method not triggered in Keycloak custom SPI","body":"<p>I have a custom provider in Keycloak Quarkus distribution.\nI created a task with <strong>@Scheduled</strong>, but it's never triggered.</p>\n<p>For simplicity, this is the only class I have:</p>\n<p><a href=\"https://i.stack.imgur.com/eXHVF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eXHVF.png\" alt=\"enter image description here\" /></a></p>\n<p>scheduler dependency is added:</p>\n<p><a href=\"https://i.stack.imgur.com/oyBHP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oyBHP.png\" alt=\"enter image description here\" /></a></p>\n<p>I packaged it in a JAR and deployed into the &quot;providers&quot; folder.\nAfter the startup, &quot;post construct&quot; is printed but the &quot;scheduled&quot; method is never called.\nWhat am I missing?</p>\n<p><a href=\"https://i.stack.imgur.com/XTx1s.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XTx1s.png\" alt=\"enter image description here\" /></a></p>\n<p>I'm expecting the scheduled method to run every 10 seconds.</p>\n"},{"tags":["java","timer","audio-player"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1696487935,"post_id":77234712,"comment_id":136159710,"body_markdown":"if you have very little experience with java, you should first focus on learning Java. You claim that when you start the app from the Replayer class, you don&#39;t get this problem, but the Replayer class has no main method, meaning with the code you&#39;ve shown, you can&#39;t start it from there.","body":"if you have very little experience with java, you should first focus on learning Java. You claim that when you start the app from the Replayer class, you don&#39;t get this problem, but the Replayer class has no main method, meaning with the code you&#39;ve shown, you can&#39;t start it from there."},{"owner":{"account_id":29602278,"reputation":1,"user_id":22687418,"display_name":"Jacob Hey"},"score":0,"creation_date":1696488825,"post_id":77234712,"comment_id":136159848,"body_markdown":"forgot to mention, I had &quot;Replayer extends Main&quot; at first","body":"forgot to mention, I had &quot;Replayer extends Main&quot; at first"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1696488927,"post_id":77234712,"comment_id":136159861,"body_markdown":"with for the rest the same code as now? why exactly does it extend JFrame now?","body":"with for the rest the same code as now? why exactly does it extend JFrame now?"},{"owner":{"account_id":29602278,"reputation":1,"user_id":22687418,"display_name":"Jacob Hey"},"score":0,"creation_date":1696488983,"post_id":77234712,"comment_id":136159867,"body_markdown":"pretty much yeah, except for the Frame section at the end which was originally in Main","body":"pretty much yeah, except for the Frame section at the end which was originally in Main"},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":3,"creation_date":1696491395,"post_id":77234712,"comment_id":136160317,"body_markdown":"The exception is thrown in exactly two places (https://github.com/openjdk/jdk17u/blob/master/src/java.desktop/share/classes/com/sun/media/sound/DirectAudioDevice.java#L1091, https://github.com/openjdk/jdk17u/blob/master/src/java.desktop/share/classes/com/sun/media/sound/DirectAudioDevice.java#L1116) and in both places it happens because the JVM has insufficient memory to allocate byte arrays. Maybe you are just trying to load too many audio streams at the same time. Do you really need to open all files at once?","body":"The exception is thrown in exactly two places (<a href=\"https://github.com/openjdk/jdk17u/blob/master/src/java.desktop/share/classes/com/sun/media/sound/DirectAudioDevice.java#L1091\" rel=\"nofollow noreferrer\">github.com/openjdk/jdk17u/blob/master/src/java.desktop/shar&zwnj;&#8203;e/&hellip;</a>, <a href=\"https://github.com/openjdk/jdk17u/blob/master/src/java.desktop/share/classes/com/sun/media/sound/DirectAudioDevice.java#L1116\" rel=\"nofollow noreferrer\">github.com/openjdk/jdk17u/blob/master/src/java.desktop/share&zwnj;&#8203;/&hellip;</a>) and in both places it happens because the JVM has insufficient memory to allocate byte arrays. Maybe you are just trying to load too many audio streams at the same time. Do you really need to open all files at once?"},{"owner":{"account_id":29602278,"reputation":1,"user_id":22687418,"display_name":"Jacob Hey"},"score":0,"creation_date":1696507330,"post_id":77234712,"comment_id":136163477,"body_markdown":"the thing is, I created a Clip-type array so I could switch between tracks. It was the easiest way to do it, but if there&#39;s a better one, I&#39;ll try implementing it instead. And after all, why was it working in one class and isn&#39;t working in another?","body":"the thing is, I created a Clip-type array so I could switch between tracks. It was the easiest way to do it, but if there&#39;s a better one, I&#39;ll try implementing it instead. And after all, why was it working in one class and isn&#39;t working in another?"}],"owner":{"account_id":29602278,"reputation":1,"user_id":22687418,"display_name":"Jacob Hey"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696487758,"creation_date":1696487758,"question_id":77234712,"body_markdown":"I&#39;m trying to write a simple music player on Java. Everything had worked fine until I tried to add a new function with the JSlider. I wasn&#39;t running the program from Main, but from the Replayer class (see in the code below). I wanted the track&#39;s position to move according to the slider, but the timer that I added worked too fast and it didn&#39;t let me do that. I tried running from the main file and got the error that I&#39;ve mentioned in the title.\r\nHere&#39;s Main:\r\n```\r\nimport javax.sound.sampled.\\*;\r\nimport java.io.IOException;\r\nimport java.util.Timer;\r\nimport java.util.TimerTask;\r\npublic class Main {\r\npublic static void main(String\\[\\] args) throws UnsupportedAudioFileException, LineUnavailableException, IOException {\r\nnew Replayer();\r\n}\r\n}\r\n```\r\nHere&#39;s the Replayer class:\r\n\r\n```\r\nimport javax.sound.midi.Track;\r\nimport javax.sound.sampled.*;\r\nimport javax.swing.*;\r\nimport javax.swing.event.ChangeEvent;\r\nimport javax.swing.event.ChangeListener;\r\nimport java.awt.event.*;\r\nimport java.io.File;\r\nimport java.io.FilenameFilter;\r\nimport java.io.IOException;\r\nimport java.util.Timer;\r\nimport java.util.TimerTask;\r\n\r\npublic class Replayer extends JFrame{\r\n    long mspos = 0;\r\n    int selected_track = 0;\r\n    protected JPanel Calculator;\r\n    protected JTextField textDisplay;\r\n    protected JButton PlayButton;\r\n    protected JButton StopButton;\r\n    protected JButton PauseButton;\r\n    protected JButton Next;\r\n    protected JButton Prev;\r\n    protected JSlider TrackProgress;\r\n    public Replayer() throws UnsupportedAudioFileException, IOException, LineUnavailableException {\r\n        File folder = new File(&quot;music&quot;);\r\n        File[] files = folder.listFiles((dir, name) -&gt; name.toLowerCase().endsWith(&quot;.wav&quot;));\r\n        assert files != null;\r\n        AudioInputStream[] audioStream = new AudioInputStream[files.length];\r\n        Clip[] clips = new Clip[files.length];\r\n        for(int i = 0; i &lt; files.length; i++){\r\n            audioStream[i] = AudioSystem.getAudioInputStream(files[i]);\r\n            clips[i] = AudioSystem.getClip();\r\n            clips[i].open(audioStream[i]);\r\n        }\r\n        TrackProgress.setValue(0);\r\n        TrackProgress.setMaximum(1000000);\r\n        textDisplay.setText(files[selected_track].getName());\r\n\r\n        final Timer[] timer = {new Timer()};\r\n\r\n        TimerTask task = new TimerTask(){\r\n            @Override\r\n            public void run() {\r\n                int curpos = (int) ((1.0 * clips[selected_track].getMicrosecondPosition() / clips[selected_track].getMicrosecondLength()) * 1000000);\r\n                if(curpos != TrackProgress.getValue()){\r\n                    TrackProgress.setValue(curpos);\r\n                }\r\n            }\r\n        };\r\n        timer[0].scheduleAtFixedRate(task, 0, 1);\r\n\r\n        PlayButton.addActionListener(new ActionListener() {\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                if(clips[selected_track].getMicrosecondPosition() == clips[selected_track].getMicrosecondLength()){\r\n                    mspos = 0;\r\n                }\r\n                clips[selected_track].setMicrosecondPosition(mspos);\r\n                clips[selected_track].start();\r\n                textDisplay.setText(files[selected_track].getName());\r\n            }\r\n        });\r\n\r\n        StopButton.addActionListener(new ActionListener() {\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                mspos = 0;\r\n                clips[selected_track].stop();\r\n                clips[selected_track].setMicrosecondPosition(0);\r\n                TrackProgress.setValue(0);\r\n            }\r\n        });\r\n\r\n        PauseButton.addActionListener(new ActionListener() {\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                clips[selected_track].stop();\r\n                mspos = clips[selected_track].getMicrosecondPosition();\r\n            }\r\n        });\r\n\r\n        Next.addActionListener(new ActionListener() {\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                if(selected_track == files.length - 1){\r\n                    textDisplay.setText(&quot;Error: this is the last track&quot;);\r\n                }else{\r\n                    TrackProgress.setValue(0);\r\n                    clips[selected_track].stop();\r\n                    selected_track++;\r\n                    textDisplay.setText(files[selected_track].getName());\r\n                    mspos = 0;\r\n                }\r\n            }\r\n        });\r\n\r\n        Prev.addActionListener(new ActionListener() {\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                if(selected_track &lt; 1){\r\n                    textDisplay.setText(&quot;Error: this is the first track&quot;);\r\n                }else{\r\n                    TrackProgress.setValue(0);\r\n                    clips[selected_track].stop();\r\n                    selected_track--;\r\n                    textDisplay.setText(files[selected_track].getName());\r\n                    mspos = 0;\r\n                }\r\n            }\r\n        });\r\n\r\n\r\n        TrackProgress.addMouseListener(new MouseAdapter() {\r\n            @Override\r\n            public void mousePressed(MouseEvent e) {\r\n                super.mousePressed(e);\r\n                clips[selected_track].stop();\r\n                //timer[0].cancel();\r\n                //timer[0] = new Timer();\r\n            }\r\n            public void mouseReleased(MouseEvent e) {\r\n                super.mouseReleased(e);\r\n                mspos = (long) ((1.0 * TrackProgress.getValue()) / 1000000 * clips[selected_track].getMicrosecondLength());\r\n                clips[selected_track].setMicrosecondPosition(mspos);\r\n                clips[selected_track].start();\r\n                //timer[0] = new Timer();\r\n                //timer[0].scheduleAtFixedRate(task, 0, 1);\r\n            }\r\n        });\r\n\r\n        JFrame frame = new JFrame(&quot;Replayer&quot;);\r\n        frame.setContentPane(new Replayer().Calculator);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.setResizable(false);\r\n        frame.pack();\r\n        frame.setVisible(true);\r\n    }\r\n    \r\n}\r\n```\r\n\r\n\r\n\r\nI don&#39;t really know what to do, I have very little experience with Java","title":"Java music player doesn&#39;t work: Exception in thread &quot;main&quot; java.io.IOException: Audio data is too big","body":"<p>I'm trying to write a simple music player on Java. Everything had worked fine until I tried to add a new function with the JSlider. I wasn't running the program from Main, but from the Replayer class (see in the code below). I wanted the track's position to move according to the slider, but the timer that I added worked too fast and it didn't let me do that. I tried running from the main file and got the error that I've mentioned in the title.\nHere's Main:</p>\n<pre><code>import javax.sound.sampled.\\*;\nimport java.io.IOException;\nimport java.util.Timer;\nimport java.util.TimerTask;\npublic class Main {\npublic static void main(String\\[\\] args) throws UnsupportedAudioFileException, LineUnavailableException, IOException {\nnew Replayer();\n}\n}\n</code></pre>\n<p>Here's the Replayer class:</p>\n<pre><code>import javax.sound.midi.Track;\nimport javax.sound.sampled.*;\nimport javax.swing.*;\nimport javax.swing.event.ChangeEvent;\nimport javax.swing.event.ChangeListener;\nimport java.awt.event.*;\nimport java.io.File;\nimport java.io.FilenameFilter;\nimport java.io.IOException;\nimport java.util.Timer;\nimport java.util.TimerTask;\n\npublic class Replayer extends JFrame{\n    long mspos = 0;\n    int selected_track = 0;\n    protected JPanel Calculator;\n    protected JTextField textDisplay;\n    protected JButton PlayButton;\n    protected JButton StopButton;\n    protected JButton PauseButton;\n    protected JButton Next;\n    protected JButton Prev;\n    protected JSlider TrackProgress;\n    public Replayer() throws UnsupportedAudioFileException, IOException, LineUnavailableException {\n        File folder = new File(&quot;music&quot;);\n        File[] files = folder.listFiles((dir, name) -&gt; name.toLowerCase().endsWith(&quot;.wav&quot;));\n        assert files != null;\n        AudioInputStream[] audioStream = new AudioInputStream[files.length];\n        Clip[] clips = new Clip[files.length];\n        for(int i = 0; i &lt; files.length; i++){\n            audioStream[i] = AudioSystem.getAudioInputStream(files[i]);\n            clips[i] = AudioSystem.getClip();\n            clips[i].open(audioStream[i]);\n        }\n        TrackProgress.setValue(0);\n        TrackProgress.setMaximum(1000000);\n        textDisplay.setText(files[selected_track].getName());\n\n        final Timer[] timer = {new Timer()};\n\n        TimerTask task = new TimerTask(){\n            @Override\n            public void run() {\n                int curpos = (int) ((1.0 * clips[selected_track].getMicrosecondPosition() / clips[selected_track].getMicrosecondLength()) * 1000000);\n                if(curpos != TrackProgress.getValue()){\n                    TrackProgress.setValue(curpos);\n                }\n            }\n        };\n        timer[0].scheduleAtFixedRate(task, 0, 1);\n\n        PlayButton.addActionListener(new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                if(clips[selected_track].getMicrosecondPosition() == clips[selected_track].getMicrosecondLength()){\n                    mspos = 0;\n                }\n                clips[selected_track].setMicrosecondPosition(mspos);\n                clips[selected_track].start();\n                textDisplay.setText(files[selected_track].getName());\n            }\n        });\n\n        StopButton.addActionListener(new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                mspos = 0;\n                clips[selected_track].stop();\n                clips[selected_track].setMicrosecondPosition(0);\n                TrackProgress.setValue(0);\n            }\n        });\n\n        PauseButton.addActionListener(new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                clips[selected_track].stop();\n                mspos = clips[selected_track].getMicrosecondPosition();\n            }\n        });\n\n        Next.addActionListener(new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                if(selected_track == files.length - 1){\n                    textDisplay.setText(&quot;Error: this is the last track&quot;);\n                }else{\n                    TrackProgress.setValue(0);\n                    clips[selected_track].stop();\n                    selected_track++;\n                    textDisplay.setText(files[selected_track].getName());\n                    mspos = 0;\n                }\n            }\n        });\n\n        Prev.addActionListener(new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                if(selected_track &lt; 1){\n                    textDisplay.setText(&quot;Error: this is the first track&quot;);\n                }else{\n                    TrackProgress.setValue(0);\n                    clips[selected_track].stop();\n                    selected_track--;\n                    textDisplay.setText(files[selected_track].getName());\n                    mspos = 0;\n                }\n            }\n        });\n\n\n        TrackProgress.addMouseListener(new MouseAdapter() {\n            @Override\n            public void mousePressed(MouseEvent e) {\n                super.mousePressed(e);\n                clips[selected_track].stop();\n                //timer[0].cancel();\n                //timer[0] = new Timer();\n            }\n            public void mouseReleased(MouseEvent e) {\n                super.mouseReleased(e);\n                mspos = (long) ((1.0 * TrackProgress.getValue()) / 1000000 * clips[selected_track].getMicrosecondLength());\n                clips[selected_track].setMicrosecondPosition(mspos);\n                clips[selected_track].start();\n                //timer[0] = new Timer();\n                //timer[0].scheduleAtFixedRate(task, 0, 1);\n            }\n        });\n\n        JFrame frame = new JFrame(&quot;Replayer&quot;);\n        frame.setContentPane(new Replayer().Calculator);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setResizable(false);\n        frame.pack();\n        frame.setVisible(true);\n    }\n    \n}\n</code></pre>\n<p>I don't really know what to do, I have very little experience with Java</p>\n"},{"tags":["java","spring-boot","hibernate","spring-data-jpa","spring-data"],"comments":[{"owner":{"account_id":23246470,"reputation":541,"user_id":17335001,"display_name":"nquincampoix"},"score":0,"creation_date":1696431546,"post_id":77208930,"comment_id":136152602,"body_markdown":"Could you add the definition of the ACTOR table please ? By the way, using @Data on JPA entities is discouraged, as it could cause problems to arise.","body":"Could you add the definition of the ACTOR table please ? By the way, using @Data on JPA entities is discouraged, as it could cause problems to arise."},{"owner":{"account_id":23246470,"reputation":541,"user_id":17335001,"display_name":"nquincampoix"},"score":0,"creation_date":1696495082,"post_id":77208930,"comment_id":136161000,"body_markdown":"Also, have you tried to call `manager.createStoredProcedureQuery(&quot;P_GET_ACTORS_BY_CATEGORIES&quot;)`, that is without the `Actor.class` as a second parameter ?","body":"Also, have you tried to call <code>manager.createStoredProcedureQuery(&quot;P_GET_ACTORS_BY_CATEGORI&zwnj;&#8203;ES&quot;)</code>, that is without the <code>Actor.class</code> as a second parameter ?"},{"owner":{"account_id":2325595,"reputation":87,"user_id":2040196,"accept_rate":50,"display_name":"ggarridov"},"score":0,"creation_date":1697204771,"post_id":77208930,"comment_id":136254255,"body_markdown":"Any solution for this??? I have the same error, I changed the Spring Boot version to 3.0.11 and everything works fine.","body":"Any solution for this??? I have the same error, I changed the Spring Boot version to 3.0.11 and everything works fine."}],"owner":{"account_id":29572011,"reputation":1,"user_id":22663947,"display_name":"PrateekAnand"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":226,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696487462,"creation_date":1696123307,"question_id":77208930,"body_markdown":"I am getting `java.lang.ClassCastException` exception when trying to run a StoredProcedure using Jakarta EntityManager in my Spring Data JPA application.\r\n\r\n```\r\njava.lang.IllegalStateException: Failed to execute CommandLineRunner\r\n\tat org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:777) ~[spring-boot-3.1.4.jar:3.1.4]\r\n\tat org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:758) ~[spring-boot-3.1.4.jar:3.1.4]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:322) ~[spring-boot-3.1.4.jar:3.1.4]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1309) ~[spring-boot-3.1.4.jar:3.1.4]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1298) ~[spring-boot-3.1.4.jar:3.1.4]\r\n\tat com.example.bootdatajpaproj11callingprocedure.BootDataJpaProj11CallingProcedureApplication.main(BootDataJpaProj11CallingProcedureApplication.java:10) ~[classes/:na]\r\nCaused by: java.lang.ClassCastException: class org.hibernate.metamodel.model.domain.internal.EntityTypeImpl cannot be cast to class org.hibernate.query.OutputableType (org.hibernate.metamodel.model.domain.internal.EntityTypeImpl and org.hibernate.query.OutputableType are in unnamed module of loader &#39;app&#39;)\r\n\tat org.hibernate.procedure.internal.ProcedureParameterImpl.toJdbcParameterRegistration(ProcedureParameterImpl.java:118) ~[hibernate-core-6.2.9.Final.jar:6.2.9.Final]\r\n\tat org.hibernate.procedure.internal.StandardCallableStatementSupport.interpretCall(StandardCallableStatementSupport.java:90) ~[hibernate-core-6.2.9.Final.jar:6.2.9.Final]\r\n\tat org.hibernate.procedure.internal.ProcedureCallImpl.buildOutputs(ProcedureCallImpl.java:619) ~[hibernate-core-6.2.9.Final.jar:6.2.9.Final]\r\n\tat org.hibernate.procedure.internal.ProcedureCallImpl.getOutputs(ProcedureCallImpl.java:594) ~[hibernate-core-6.2.9.Final.jar:6.2.9.Final]\r\n\tat org.hibernate.procedure.internal.ProcedureCallImpl.outputs(ProcedureCallImpl.java:847) ~[hibernate-core-6.2.9.Final.jar:6.2.9.Final]\r\n\tat org.hibernate.procedure.internal.ProcedureCallImpl.getResultList(ProcedureCallImpl.java:973) ~[hibernate-core-6.2.9.Final.jar:6.2.9.Final]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:405) ~[spring-orm-6.0.12.jar:6.0.12]\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy92.getResultList(Unknown Source) ~[na:na]\r\n\tat com.example.bootdatajpaproj11callingprocedure.runner.CallingPL_ProcedureTestRunner.run(CallingPL_ProcedureTestRunner.java:40) ~[classes/:na]\r\n\tat org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:774) ~[spring-boot-3.1.4.jar:3.1.4]\r\n\t... 5 common frames omitted\r\n```\r\n\r\nEntity class:\r\n```lang-java\r\n//Actor.java (Entity class)\r\npackage com.nt.entity;\r\nimport jakarta.persistence.Column;\r\nimport jakarta.persistence.Entity;\r\nimport jakarta.persistence.GeneratedValue;\r\nimport jakarta.persistence.GenerationType;\r\nimport jakarta.persistence.Id;\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Data;\r\n@Entity\r\n@Data\r\n@AllArgsConstructor\r\npublic class Actor {\r\n    @Id \r\n    @GeneratedValue(strategy = GenerationType.AUTO)    \r\n    private Integer aid;\r\n    @Column(length = 20)\r\n    private String  aname;\r\n    @Column(length = 20)\r\n    private  String category;\r\n    @Column(unique = true,nullable = true)\r\n    private  Long mobileNo;\r\n\r\n    public  Actor() {\r\n        System.out.println(&quot;Actor: 0-param constructor&quot;+this.getClass());\r\n    }\r\n}\r\n```\r\n\r\nRepositor class:\r\n```lang-java\r\n//IActorRepository.java\r\npackage com.nt.repository;\r\n\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\n\r\nimport com.nt.entity.Actor;\r\n\r\npublic interface IActorRepository extends JpaRepository&lt;Actor, Integer&gt; {\r\n\r\n\t\r\n}\r\n```\r\n\r\nRunner Class to run the StoredProcdure &#39;P_GET_ACTORS_BY_CATEGORIES&#39;:\r\n```lang-java\r\n//CallingPL_ProcedureTestRunner.java\r\npackage com.nt.runner;\r\n\r\nimport java.util.List;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.CommandLineRunner;\r\nimport org.springframework.stereotype.Component;\r\n\r\nimport com.nt.entity.Actor;\r\n\r\nimport jakarta.persistence.EntityManager;\r\nimport jakarta.persistence.ParameterMode;\r\nimport jakarta.persistence.StoredProcedureQuery;\r\n\r\n\r\n@Component\r\npublic class CallingPL_ProcedureTestRunner  implements CommandLineRunner {\r\n \r\n\t@Autowired\r\n\tprivate EntityManager  manager;\r\n\r\n\t@Override\r\n\tpublic void run(String... args) throws Exception {\r\n\t    StoredProcedureQuery query=manager.createStoredProcedureQuery(&quot;P_GET_ACTORS_BY_CATEGORIES&quot;, Actor.class);\r\n\t\t// register both IN ,OUT params  of PL/SQL procedure\r\n\t\tquery.registerStoredProcedureParameter(1, String.class,ParameterMode.IN);\r\n\t\tquery.registerStoredProcedureParameter(2, String.class,ParameterMode.IN);\r\n\t\t//registering out param\r\n\t\tquery.registerStoredProcedureParameter(3, Actor.class,ParameterMode.REF_CURSOR); \r\n\t\t//set values to IN params\r\n\t\tquery.setParameter(1, &quot;CLERK&quot;);\r\n\t\tquery.setParameter(2, &quot;MANAGER&quot;);\r\n\t\t//call PL/SQL procedure\r\n\t\tList&lt;Actor&gt; list=query.getResultList();\r\n\t\t//proecess the result\r\n\t\tlist.forEach(System.out::println);\r\n\t\t\r\n\t}//main\r\n\r\n}//class\r\n```\r\n\r\nOracle DB &#39;Actor&#39;:\r\n```lang-sql\r\nCREATE TABLE &quot;SYSTEM&quot;.&quot;ACTOR&quot; \r\n   (\t&quot;AID&quot; NUMBER(10,0) NOT NULL ENABLE, \r\n\t&quot;ANAME&quot; VARCHAR2(20 CHAR), \r\n\t&quot;CATEGORY&quot; VARCHAR2(20 CHAR), \r\n\t&quot;MOBILE_NO&quot; NUMBER(19,0), \r\n\t PRIMARY KEY (&quot;AID&quot;))\r\n```\r\n\r\nOracle DB Procedure:\r\n```lang-sql\r\ncreate or replace NONEDITIONABLE PROCEDURE P_GET_ACTORS_BY_CATEGORIES \r\n(\r\n  ROLE1 IN VARCHAR2 \r\n, ROLE2 IN VARCHAR2 \r\n, DETAILS OUT SYS_REFCURSOR \r\n) AS BEGIN\r\n\r\n  open DETAILS for \r\n  SELECT AID,ANAME,CATEGORY,MOBILE_NO FROM ACTOR WHERE CATEGORY IN(role1, role2) ORDER BY CATEGORY;\r\n  \r\nEND P_GET_ACTORS_BY_CATEGORIES;\r\n```\r\n\r\napplication.properties:\r\n```lang-properties\r\n#DataSource Configuration  (Bydefault  hikaricp )\r\nspring.datasource.driver-class-name=oracle.jdbc.driver.OracleDriver\r\nspring.datasource.url=jdbc:oracle:thin:@localhost:1521:orcl\r\nspring.datasource.username=system\r\nspring.datasource.password=tiger\r\n\r\n#JPA- Hibenrate properties\r\nspring.jpa.database-platform=org.hibernate.dialect.OracleDialect\r\nspring.jpa.show-sql=true\r\nspring.jpa.hibernate.ddl-auto=update\r\n```\r\nspring-boot version : 3.14\r\n","title":"java-ClassCastException: class org.hibernate.metamodel.model.domain.internal.EntityTypeImpl cannot be cast to class org.hibernate.query.OutputableType","body":"<p>I am getting <code>java.lang.ClassCastException</code> exception when trying to run a StoredProcedure using Jakarta EntityManager in my Spring Data JPA application.</p>\n<pre><code>java.lang.IllegalStateException: Failed to execute CommandLineRunner\n    at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:777) ~[spring-boot-3.1.4.jar:3.1.4]\n    at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:758) ~[spring-boot-3.1.4.jar:3.1.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:322) ~[spring-boot-3.1.4.jar:3.1.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1309) ~[spring-boot-3.1.4.jar:3.1.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1298) ~[spring-boot-3.1.4.jar:3.1.4]\n    at com.example.bootdatajpaproj11callingprocedure.BootDataJpaProj11CallingProcedureApplication.main(BootDataJpaProj11CallingProcedureApplication.java:10) ~[classes/:na]\nCaused by: java.lang.ClassCastException: class org.hibernate.metamodel.model.domain.internal.EntityTypeImpl cannot be cast to class org.hibernate.query.OutputableType (org.hibernate.metamodel.model.domain.internal.EntityTypeImpl and org.hibernate.query.OutputableType are in unnamed module of loader 'app')\n    at org.hibernate.procedure.internal.ProcedureParameterImpl.toJdbcParameterRegistration(ProcedureParameterImpl.java:118) ~[hibernate-core-6.2.9.Final.jar:6.2.9.Final]\n    at org.hibernate.procedure.internal.StandardCallableStatementSupport.interpretCall(StandardCallableStatementSupport.java:90) ~[hibernate-core-6.2.9.Final.jar:6.2.9.Final]\n    at org.hibernate.procedure.internal.ProcedureCallImpl.buildOutputs(ProcedureCallImpl.java:619) ~[hibernate-core-6.2.9.Final.jar:6.2.9.Final]\n    at org.hibernate.procedure.internal.ProcedureCallImpl.getOutputs(ProcedureCallImpl.java:594) ~[hibernate-core-6.2.9.Final.jar:6.2.9.Final]\n    at org.hibernate.procedure.internal.ProcedureCallImpl.outputs(ProcedureCallImpl.java:847) ~[hibernate-core-6.2.9.Final.jar:6.2.9.Final]\n    at org.hibernate.procedure.internal.ProcedureCallImpl.getResultList(ProcedureCallImpl.java:973) ~[hibernate-core-6.2.9.Final.jar:6.2.9.Final]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:405) ~[spring-orm-6.0.12.jar:6.0.12]\n    at jdk.proxy2/jdk.proxy2.$Proxy92.getResultList(Unknown Source) ~[na:na]\n    at com.example.bootdatajpaproj11callingprocedure.runner.CallingPL_ProcedureTestRunner.run(CallingPL_ProcedureTestRunner.java:40) ~[classes/:na]\n    at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:774) ~[spring-boot-3.1.4.jar:3.1.4]\n    ... 5 common frames omitted\n</code></pre>\n<p>Entity class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>//Actor.java (Entity class)\npackage com.nt.entity;\nimport jakarta.persistence.Column;\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport jakarta.persistence.Id;\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\n@Entity\n@Data\n@AllArgsConstructor\npublic class Actor {\n    @Id \n    @GeneratedValue(strategy = GenerationType.AUTO)    \n    private Integer aid;\n    @Column(length = 20)\n    private String  aname;\n    @Column(length = 20)\n    private  String category;\n    @Column(unique = true,nullable = true)\n    private  Long mobileNo;\n\n    public  Actor() {\n        System.out.println(&quot;Actor: 0-param constructor&quot;+this.getClass());\n    }\n}\n</code></pre>\n<p>Repositor class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>//IActorRepository.java\npackage com.nt.repository;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\n\nimport com.nt.entity.Actor;\n\npublic interface IActorRepository extends JpaRepository&lt;Actor, Integer&gt; {\n\n    \n}\n</code></pre>\n<p>Runner Class to run the StoredProcdure 'P_GET_ACTORS_BY_CATEGORIES':</p>\n<pre class=\"lang-java prettyprint-override\"><code>//CallingPL_ProcedureTestRunner.java\npackage com.nt.runner;\n\nimport java.util.List;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.CommandLineRunner;\nimport org.springframework.stereotype.Component;\n\nimport com.nt.entity.Actor;\n\nimport jakarta.persistence.EntityManager;\nimport jakarta.persistence.ParameterMode;\nimport jakarta.persistence.StoredProcedureQuery;\n\n\n@Component\npublic class CallingPL_ProcedureTestRunner  implements CommandLineRunner {\n \n    @Autowired\n    private EntityManager  manager;\n\n    @Override\n    public void run(String... args) throws Exception {\n        StoredProcedureQuery query=manager.createStoredProcedureQuery(&quot;P_GET_ACTORS_BY_CATEGORIES&quot;, Actor.class);\n        // register both IN ,OUT params  of PL/SQL procedure\n        query.registerStoredProcedureParameter(1, String.class,ParameterMode.IN);\n        query.registerStoredProcedureParameter(2, String.class,ParameterMode.IN);\n        //registering out param\n        query.registerStoredProcedureParameter(3, Actor.class,ParameterMode.REF_CURSOR); \n        //set values to IN params\n        query.setParameter(1, &quot;CLERK&quot;);\n        query.setParameter(2, &quot;MANAGER&quot;);\n        //call PL/SQL procedure\n        List&lt;Actor&gt; list=query.getResultList();\n        //proecess the result\n        list.forEach(System.out::println);\n        \n    }//main\n\n}//class\n</code></pre>\n<p>Oracle DB 'Actor':</p>\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE TABLE &quot;SYSTEM&quot;.&quot;ACTOR&quot; \n   (    &quot;AID&quot; NUMBER(10,0) NOT NULL ENABLE, \n    &quot;ANAME&quot; VARCHAR2(20 CHAR), \n    &quot;CATEGORY&quot; VARCHAR2(20 CHAR), \n    &quot;MOBILE_NO&quot; NUMBER(19,0), \n     PRIMARY KEY (&quot;AID&quot;))\n</code></pre>\n<p>Oracle DB Procedure:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>create or replace NONEDITIONABLE PROCEDURE P_GET_ACTORS_BY_CATEGORIES \n(\n  ROLE1 IN VARCHAR2 \n, ROLE2 IN VARCHAR2 \n, DETAILS OUT SYS_REFCURSOR \n) AS BEGIN\n\n  open DETAILS for \n  SELECT AID,ANAME,CATEGORY,MOBILE_NO FROM ACTOR WHERE CATEGORY IN(role1, role2) ORDER BY CATEGORY;\n  \nEND P_GET_ACTORS_BY_CATEGORIES;\n</code></pre>\n<p>application.properties:</p>\n<pre class=\"lang-properties prettyprint-override\"><code>#DataSource Configuration  (Bydefault  hikaricp )\nspring.datasource.driver-class-name=oracle.jdbc.driver.OracleDriver\nspring.datasource.url=jdbc:oracle:thin:@localhost:1521:orcl\nspring.datasource.username=system\nspring.datasource.password=tiger\n\n#JPA- Hibenrate properties\nspring.jpa.database-platform=org.hibernate.dialect.OracleDialect\nspring.jpa.show-sql=true\nspring.jpa.hibernate.ddl-auto=update\n</code></pre>\n<p>spring-boot version : 3.14</p>\n"},{"tags":["java","json","parsing","curl"],"comments":[{"owner":{"account_id":2269593,"reputation":43907,"user_id":1997376,"accept_rate":100,"display_name":"Nicolas Filotto"},"score":0,"creation_date":1466000758,"post_id":37838177,"comment_id":63137420,"body_markdown":"Check this answer if it can help http://stackoverflow.com/a/36479644/1997376","body":"Check this answer if it can help <a href=\"http://stackoverflow.com/a/36479644/1997376\">stackoverflow.com/a/36479644/1997376</a>"},{"owner":{"account_id":4407480,"reputation":115,"user_id":3591433,"accept_rate":28,"display_name":"user3591433"},"score":0,"creation_date":1466001222,"post_id":37838177,"comment_id":63137804,"body_markdown":"@NicolasFilotto I don&#39;t think it works for me. I just want to display the curl response in the eclipse console and then I will parse the response.","body":"@NicolasFilotto I don&#39;t think it works for me. I just want to display the curl response in the eclipse console and then I will parse the response."},{"owner":{"account_id":2269593,"reputation":43907,"user_id":1997376,"accept_rate":100,"display_name":"Nicolas Filotto"},"score":0,"creation_date":1466001331,"post_id":37838177,"comment_id":63137887,"body_markdown":"why it won&#39;t work? launching curl from a Java Program will make your program OS specific for nothing as it can be done easily in java","body":"why it won&#39;t work? launching curl from a Java Program will make your program OS specific for nothing as it can be done easily in java"},{"owner":{"account_id":4407480,"reputation":115,"user_id":3591433,"accept_rate":28,"display_name":"user3591433"},"score":0,"creation_date":1466001762,"post_id":37838177,"comment_id":63138236,"body_markdown":"It is just a windows desktop application that I&#39;m working on, so I don&#39;t mind.","body":"It is just a windows desktop application that I&#39;m working on, so I don&#39;t mind."},{"owner":{"account_id":20298,"reputation":26693,"user_id":48382,"accept_rate":61,"display_name":"Krzysztof Krasoń"},"score":0,"creation_date":1466006896,"post_id":37838177,"comment_id":63141958,"body_markdown":"Maybe you don&#39;t have `curl` installed, or maybe it is not in the `PATH` (if you add alements to `PATH` it is best to restart the system to make sure you are going to use it)","body":"Maybe you don&#39;t have <code>curl</code> installed, or maybe it is not in the <code>PATH</code> (if you add alements to <code>PATH</code> it is best to restart the system to make sure you are going to use it)"},{"owner":{"account_id":4407480,"reputation":115,"user_id":3591433,"accept_rate":28,"display_name":"user3591433"},"score":0,"creation_date":1466007306,"post_id":37838177,"comment_id":63142227,"body_markdown":"What do you mean by it is not in the PATH?","body":"What do you mean by it is not in the PATH?"}],"answers":[{"tags":[],"owner":{"account_id":20298,"reputation":26693,"user_id":48382,"accept_rate":61,"display_name":"Krzysztof Krasoń"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1466055055,"creation_date":1466001982,"answer_id":37838715,"question_id":37838177,"body_markdown":"You can do, and read the stream using some json parser, for example Gson:\r\n\r\n    try (\r\n        Reader reader = new InputStreamReader(\r\n            Runtime.getRuntime().exec(&quot;curl -h&quot;).getInputStream()\r\n        )\r\n    ) {\r\n        JsonElement element = new JsonParser().parse(reader);\r\n    }\r\n\r\n\r\n","title":"How to use curl in java and parse json response","body":"<p>You can do, and read the stream using some json parser, for example Gson:</p>\n\n<pre><code>try (\n    Reader reader = new InputStreamReader(\n        Runtime.getRuntime().exec(\"curl -h\").getInputStream()\n    )\n) {\n    JsonElement element = new JsonParser().parse(reader);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":255184,"reputation":7191,"user_id":535060,"accept_rate":94,"display_name":"Somaiah Kumbera"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1466066559,"creation_date":1466061108,"answer_id":37852226,"question_id":37838177,"body_markdown":"This is a horrible way to access the Jira Rest api. Since it is a REST API, you can call it in many ways. Some of them are:\r\n\r\n1. Rest Java Client for Java. https://marketplace.atlassian.com/plugins/com.atlassian.jira.jira-rest-java-client/server/overview \r\n\r\nI have some sample code for you here: https://github.com/somaiah/jrjc\r\n\r\n2. Jersey: Use Jersey to call the REST APIs and read the responses. \r\n\r\n3. If you are using Spring, you can use the RestTemplate. I have a small sample here: https://github.com/somaiah/restTemplate\r\n\r\nOf course there is a whole slew of options for you- Restlet, Apache commons and so on. \r\n\r\nYou should use the curl option only if you are calling this from a bash script. In that case you can parse the response with jq (which I love) https://stedolan.github.io/jq/","title":"How to use curl in java and parse json response","body":"<p>This is a horrible way to access the Jira Rest api. Since it is a REST API, you can call it in many ways. Some of them are:</p>\n\n<ol>\n<li>Rest Java Client for Java. <a href=\"https://marketplace.atlassian.com/plugins/com.atlassian.jira.jira-rest-java-client/server/overview\" rel=\"nofollow\">https://marketplace.atlassian.com/plugins/com.atlassian.jira.jira-rest-java-client/server/overview</a> </li>\n</ol>\n\n<p>I have some sample code for you here: <a href=\"https://github.com/somaiah/jrjc\" rel=\"nofollow\">https://github.com/somaiah/jrjc</a></p>\n\n<ol start=\"2\">\n<li><p>Jersey: Use Jersey to call the REST APIs and read the responses. </p></li>\n<li><p>If you are using Spring, you can use the RestTemplate. I have a small sample here: <a href=\"https://github.com/somaiah/restTemplate\" rel=\"nofollow\">https://github.com/somaiah/restTemplate</a></p></li>\n</ol>\n\n<p>Of course there is a whole slew of options for you- Restlet, Apache commons and so on. </p>\n\n<p>You should use the curl option only if you are calling this from a bash script. In that case you can parse the response with jq (which I love) <a href=\"https://stedolan.github.io/jq/\" rel=\"nofollow\">https://stedolan.github.io/jq/</a></p>\n"},{"tags":[],"owner":{"account_id":12327012,"reputation":19,"user_id":8994318,"display_name":"Omar Palaming"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1512363147,"creation_date":1512363147,"answer_id":47626718,"question_id":37838177,"body_markdown":"            Runtime rt = Runtime.getRuntime();\r\n            Process p1;\r\n            Process p2;\r\n            try {\r\n                String postSubmissionJSon = &quot;{&quot;data&quot;:&quot;value&quot;}&quot;;\r\n\r\n                String[] stringPost = {&quot;curl&quot;, &quot;-X&quot;, &quot;POST&quot;, &quot;https://your-url.com/api/posts&quot;,\r\n                    &quot;--cert&quot;, &quot;test.crt.pem&quot;,\r\n                    &quot;--key&quot;, &quot;test.key.pem&quot;,\r\n                    &quot;-H&quot;, &quot;accept: application/json&quot;,\r\n                    &quot;-H&quot;, &quot;content-type: application/json&quot;,\r\n                    &quot;-d&quot;, postSubmissionJSon};\r\n\r\n                ProcessBuilder ps = new ProcessBuilder(stringPost);\r\n                //ps.redirectErrorStream(true);\r\n                Process pr = ps.start();\r\n                pr.waitFor();\r\n\r\n                BufferedReader reader2 = new BufferedReader(new InputStreamReader(pr.getInputStream()));\r\n\r\n                String line2 = &quot;&quot;;\r\n                while ((line2 = reader2.readLine()) != null) {\r\n                    output.append(line2 + &quot;\\n&quot;);\r\n                }\r\n\r\n                System.out.println(&quot;\\n\\n\\noutput====&quot; + output + &quot;===\\n\\n\\n&quot;);\r\n\r\n                String sbToString = output.toString();\r\n\r\n                jSONObject = new JSONObject(sbToString);\r\n\r\n                System.out.println(jSONObject.toString());\r\n\r\n                p1 = Runtime.getRuntime().exec(&quot;pwd&quot;);\r\n                p1.waitFor();\r\n                BufferedReader reader1a\r\n                        = new BufferedReader(new InputStreamReader(p1.getInputStream()));\r\n\r\n                String line1a = &quot;&quot;;\r\n                while ((line1a = reader1a.readLine()) != null) {\r\n                    output.append(line1a + &quot;\\n&quot;);\r\n                    System.out.println(&quot;output====&quot; + output + &quot;===&quot;);\r\n                }\r\n            } catch (Exception e) {\r\n                System.out.println(&quot;===============ERROR===============\\n&quot; + e.getMessage() + &quot;\\n\\n\\n&quot;);\r\n            }\r\n\r\n/*NOTE : Your Key (test.key.pem) and Cert (test.crt.pem) should be located on your proper directory. For glassfish it is on &quot;~/glassfish4/glassfish/domains/domain1/config&quot; or your can specify exact location by changing &quot;--cert&quot;, &quot;test.crt.pem&quot; --&gt; &quot;/home/user/files/test.crt.pem&quot;.  Same with the key.\r\n*/","title":"How to use curl in java and parse json response","body":"<pre><code>        Runtime rt = Runtime.getRuntime();\n        Process p1;\n        Process p2;\n        try {\n            String postSubmissionJSon = \"{\"data\":\"value\"}\";\n\n            String[] stringPost = {\"curl\", \"-X\", \"POST\", \"https://your-url.com/api/posts\",\n                \"--cert\", \"test.crt.pem\",\n                \"--key\", \"test.key.pem\",\n                \"-H\", \"accept: application/json\",\n                \"-H\", \"content-type: application/json\",\n                \"-d\", postSubmissionJSon};\n\n            ProcessBuilder ps = new ProcessBuilder(stringPost);\n            //ps.redirectErrorStream(true);\n            Process pr = ps.start();\n            pr.waitFor();\n\n            BufferedReader reader2 = new BufferedReader(new InputStreamReader(pr.getInputStream()));\n\n            String line2 = \"\";\n            while ((line2 = reader2.readLine()) != null) {\n                output.append(line2 + \"\\n\");\n            }\n\n            System.out.println(\"\\n\\n\\noutput====\" + output + \"===\\n\\n\\n\");\n\n            String sbToString = output.toString();\n\n            jSONObject = new JSONObject(sbToString);\n\n            System.out.println(jSONObject.toString());\n\n            p1 = Runtime.getRuntime().exec(\"pwd\");\n            p1.waitFor();\n            BufferedReader reader1a\n                    = new BufferedReader(new InputStreamReader(p1.getInputStream()));\n\n            String line1a = \"\";\n            while ((line1a = reader1a.readLine()) != null) {\n                output.append(line1a + \"\\n\");\n                System.out.println(\"output====\" + output + \"===\");\n            }\n        } catch (Exception e) {\n            System.out.println(\"===============ERROR===============\\n\" + e.getMessage() + \"\\n\\n\\n\");\n        }\n</code></pre>\n\n<p>/*NOTE : Your Key (test.key.pem) and Cert (test.crt.pem) should be located on your proper directory. For glassfish it is on \"~/glassfish4/glassfish/domains/domain1/config\" or your can specify exact location by changing \"--cert\", \"test.crt.pem\" --> \"/home/user/files/test.crt.pem\".  Same with the key.\n*/</p>\n"},{"tags":[],"owner":{"account_id":18216502,"reputation":1,"user_id":13258094,"display_name":"Josephine Alinea"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1587827041,"creation_date":1587827041,"answer_id":61427726,"question_id":37838177,"body_markdown":"Going to answer based on the error you mentioned.\r\nYou need to have cUrl installed and make sure it is added in your PATH variable.\r\n\r\nTo check, you can try to execute curl command from your Windows command prompt. If you are unable to see a valid response, you might not have cUrl nor not present in your PATH variable.\r\n\r\nTo install, find them on https://curl.haxx.se/download.html and just extract.\r\nThen add them in PATH variable and try running the cUrl command again.","title":"How to use curl in java and parse json response","body":"<p>Going to answer based on the error you mentioned.\nYou need to have cUrl installed and make sure it is added in your PATH variable.</p>\n\n<p>To check, you can try to execute curl command from your Windows command prompt. If you are unable to see a valid response, you might not have cUrl nor not present in your PATH variable.</p>\n\n<p>To install, find them on <a href=\"https://curl.haxx.se/download.html\" rel=\"nofollow noreferrer\">https://curl.haxx.se/download.html</a> and just extract.\nThen add them in PATH variable and try running the cUrl command again.</p>\n"}],"owner":{"account_id":4407480,"reputation":115,"user_id":3591433,"accept_rate":28,"display_name":"user3591433"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14162,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1696486030,"creation_date":1466000557,"question_id":37838177,"body_markdown":"I have a curl command that gives a JSON response. I want to use this curl command in java &amp; parse the JSON response in java. Is it possible to do so??\r\n\r\nWith below Java code: \r\n\r\n    public static void main(String[] args) throws Throwable {\r\n\r\n\t\ttry {\r\n\t\t\tInputStream stream = Runtime.getRuntime().exec(&quot;curl --globoff --insecure --silent -u username:password -X GET -H &#39;Content-Type: application/json&#39; \\&quot;http://ficcjira.xyz.com/rest/api/2/search?jql=project=ABC&amp;fields=Timetracking\\&quot;&quot;).getInputStream();\r\n\r\n\t\t\tBufferedReader input = new BufferedReader(new InputStreamReader(stream), 1);\r\n\t\t\t\r\n\t\t\tinput.readLine();\r\n\t    \tinput.read();\r\n\t    \tinput.read();\r\n\t\t\t\r\n\t\t\tDataReader reader = new JsonReader(input)\r\n\t\t\t\t\t.addField(&quot;TimeSpent&quot;, &quot;//array/object/timespent&quot;)\r\n\t\t\t\t\t.addRecordBreak(&quot;//array/object&quot;);\r\n\t\t\t\r\n\t\t\t/*reader = new TransformingReader(reader)\r\n\t\t\t\t\t.add(new BasicFieldTransformer(&quot;TimeSpent&quot;).stringToDouble());*/\r\n\t\t\t\r\n\t\t\tDataWriter writer = new StreamWriter(System.out);\r\n\t\t\t\r\n\t\t\tJobTemplate.DEFAULT.transfer(reader, writer);\r\n\t\t\t\r\n\t\t} catch (IOException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\r\n\r\nI get the following error: \r\n\r\n    Cannot run program &quot;curl&quot;: CreateProcess error=2, The system cannot find the file specified","title":"How to use curl in java and parse json response","body":"<p>I have a curl command that gives a JSON response. I want to use this curl command in java &amp; parse the JSON response in java. Is it possible to do so??</p>\n\n<p>With below Java code: </p>\n\n<pre><code>public static void main(String[] args) throws Throwable {\n\n    try {\n        InputStream stream = Runtime.getRuntime().exec(\"curl --globoff --insecure --silent -u username:password -X GET -H 'Content-Type: application/json' \\\"http://ficcjira.xyz.com/rest/api/2/search?jql=project=ABC&amp;fields=Timetracking\\\"\").getInputStream();\n\n        BufferedReader input = new BufferedReader(new InputStreamReader(stream), 1);\n\n        input.readLine();\n        input.read();\n        input.read();\n\n        DataReader reader = new JsonReader(input)\n                .addField(\"TimeSpent\", \"//array/object/timespent\")\n                .addRecordBreak(\"//array/object\");\n\n        /*reader = new TransformingReader(reader)\n                .add(new BasicFieldTransformer(\"TimeSpent\").stringToDouble());*/\n\n        DataWriter writer = new StreamWriter(System.out);\n\n        JobTemplate.DEFAULT.transfer(reader, writer);\n\n    } catch (IOException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n}\n</code></pre>\n\n<p>I get the following error: </p>\n\n<pre><code>Cannot run program \"curl\": CreateProcess error=2, The system cannot find the file specified\n</code></pre>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"score":0,"creation_date":1696475903,"post_id":77232738,"comment_id":136158641,"body_markdown":"If you already entered values and saved them in SharedPreferences, in `MainActivity` this will be hit (`if (sp.contains(&quot;height&quot;) &amp;&amp; sp.contains(&quot;weight&quot;) &amp;&amp; sp.contains(&quot;age&quot;) &amp;&amp; sp.contains(&quot;gender&quot;)) {`) so it just goes back to MainMenu immediately. If you want it to show those values, you have to remove that and load the values instead and put them in the various views.","body":"If you already entered values and saved them in SharedPreferences, in <code>MainActivity</code> this will be hit (<code>if (sp.contains(&quot;height&quot;) &amp;&amp; sp.contains(&quot;weight&quot;) &amp;&amp; sp.contains(&quot;age&quot;) &amp;&amp; sp.contains(&quot;gender&quot;)) {</code>) so it just goes back to MainMenu immediately. If you want it to show those values, you have to remove that and load the values instead and put them in the various views."}],"answers":[{"tags":[],"owner":{"account_id":4283273,"reputation":12073,"user_id":3501958,"accept_rate":89,"display_name":"hata"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1696485800,"creation_date":1696485800,"answer_id":77234568,"question_id":77232738,"body_markdown":"You always set fresh new data in `onResume` of `MainActivity`:\r\n\r\n    @Override\r\n    protected void onResume() {\r\n        super.onResume();\r\n        if (enterHeight != null) {\r\n            enterHeight.setText(&quot;&quot;);\r\n        }\r\n        if (enterWeight != null) {\r\n            enterWeight.setText(&quot;&quot;);\r\n        }\r\n        if (enterAge != null) {\r\n            enterAge.setText(&quot;&quot;);\r\n        }\r\n        if (radioGroup != null) {\r\n            radioGroup.clearCheck();\r\n        }\r\n    }\r\n\r\nThis is the reason.\r\n\r\nYou need input these data as in `MainActivity` well as in `MainMenu`. (Below is just for explanation, it&#39;s not guaranteed to execute as is):\r\n\r\n    @Override\r\n    protected void onResume() {\r\n        super.onResume();\r\n\r\n        SharedPreferences sp = getSharedPreferences(&quot;MyUserPrefs&quot;, Context.MODE_PRIVATE);\r\n        String height = sp.getString(&quot;height&quot; , &quot;&quot;);\r\n        String weight = sp.getString(&quot;weight&quot; , &quot;&quot;);\r\n        String age = sp.getString(&quot;age&quot; , &quot;&quot;);\r\n        String gender = sp.getString(&quot;gender&quot;, &quot;&quot;);\r\n    \r\n        enterHeight.setText(height);\r\n        enterWeight.setText(weight);\r\n        enterAge.setText(age);\r\n        if (gender == &quot;male&quot;) {\r\n            radioGroup.check(R.id.male); // I don&#39;t know what exact R.id is.\r\n        } else if (gender == &quot;female&quot;) {\r\n            radioGroup.check(R.id.female); // I don&#39;t know what exact R.id is.\r\n        } else {\r\n            radioGroup.clearCheck();\r\n        }\r\n    }","title":"After putting values in MainActivity it skips to MainMenu , how to make a &quot;edit&quot; button to return to MainActivity and edit those values again?","body":"<p>You always set fresh new data in <code>onResume</code> of <code>MainActivity</code>:</p>\n<pre><code>@Override\nprotected void onResume() {\n    super.onResume();\n    if (enterHeight != null) {\n        enterHeight.setText(&quot;&quot;);\n    }\n    if (enterWeight != null) {\n        enterWeight.setText(&quot;&quot;);\n    }\n    if (enterAge != null) {\n        enterAge.setText(&quot;&quot;);\n    }\n    if (radioGroup != null) {\n        radioGroup.clearCheck();\n    }\n}\n</code></pre>\n<p>This is the reason.</p>\n<p>You need input these data as in <code>MainActivity</code> well as in <code>MainMenu</code>. (Below is just for explanation, it's not guaranteed to execute as is):</p>\n<pre><code>@Override\nprotected void onResume() {\n    super.onResume();\n\n    SharedPreferences sp = getSharedPreferences(&quot;MyUserPrefs&quot;, Context.MODE_PRIVATE);\n    String height = sp.getString(&quot;height&quot; , &quot;&quot;);\n    String weight = sp.getString(&quot;weight&quot; , &quot;&quot;);\n    String age = sp.getString(&quot;age&quot; , &quot;&quot;);\n    String gender = sp.getString(&quot;gender&quot;, &quot;&quot;);\n\n    enterHeight.setText(height);\n    enterWeight.setText(weight);\n    enterAge.setText(age);\n    if (gender == &quot;male&quot;) {\n        radioGroup.check(R.id.male); // I don't know what exact R.id is.\n    } else if (gender == &quot;female&quot;) {\n        radioGroup.check(R.id.female); // I don't know what exact R.id is.\n    } else {\n        radioGroup.clearCheck();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":29443823,"reputation":15,"user_id":22561547,"display_name":"VGoychev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77234568,"answer_count":1,"score":1,"last_activity_date":1696486023,"creation_date":1696450943,"question_id":77232738,"body_markdown":"After putting values in MainActivity it skips to MainMenu , how to make a &quot;edit&quot; button to return to MainActivity and edit those values again? I&#39;ve tried to make the &quot;edit&quot; button and when you click it to go back to the MainActivity , but it&#39;s not happening...\r\nHere is my MainActivity code:\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n        EditText enterHeight, enterWeight, enterAge;\r\n    \r\n        private double height;\r\n        private double weight;\r\n        private double age;\r\n        String selectedRadiobut;\r\n        Button button;\r\n        RadioButton radioMale, radioFemale;\r\n        RadioGroup radioGroup;\r\n        SharedPreferences sp;\r\n    \r\n        private boolean heightIsValid() {\r\n    \r\n            if (enterHeight.getText().toString().length() == 0) {\r\n                enterHeight.setError(&quot;Cant be empty&quot;);\r\n                return false;\r\n            }\r\n    \r\n            double height = Double.valueOf(enterHeight.getText().toString());\r\n    \r\n            if (height &lt;= 0) {\r\n    \r\n                enterHeight.setError(&quot;Cant be zero&quot;);\r\n                return false;\r\n            }\r\n            if (height &lt;= 40 || height &gt; 250) {\r\n    \r\n                enterHeight.setError(&quot;Cant be less than 40 cm or more than 250 cm&quot;);\r\n                return false;\r\n            }\r\n            return true;\r\n        }\r\n    \r\n        private boolean weightIsValid() {\r\n            if (enterWeight.getText().toString().length() == 0) {\r\n                enterWeight.setError(&quot;Cant be empty&quot;);\r\n                return false;\r\n            }\r\n    \r\n            double weight = Double.valueOf(enterWeight.getText().toString());\r\n    \r\n            if (weight &lt;= 0) {\r\n    \r\n                enterWeight.setError(&quot;Cant be zero&quot;);\r\n                return false;\r\n            }\r\n            if (weight &gt; 600) {\r\n    \r\n                enterWeight.setError(&quot;Cant be more than 600 kg&quot;);\r\n                return false;\r\n            }\r\n            return true;\r\n        }\r\n    \r\n        private boolean ageIsValid() {\r\n            if (enterAge.getText().toString().length() == 0) {\r\n                enterAge.setError(&quot;Cant be empty&quot;);\r\n                return false;\r\n            }\r\n    \r\n            double age = Double.valueOf(enterAge.getText().toString());\r\n    \r\n            if (age &lt;= 0) {\r\n    \r\n                enterAge.setError(&quot;Cant be zero&quot;);\r\n                return false;\r\n            }\r\n            if (age &gt; 116) {\r\n    \r\n                enterAge.setError(&quot;Cant be older than 116 years&quot;);\r\n                return false;\r\n            }\r\n            return true;\r\n        }\r\n    \r\n        private boolean genderIsSelected() {\r\n    \r\n            if (radioGroup.getCheckedRadioButtonId() == -1) { //checking if the user has selected a option using id\r\n                Toast toast = Toast.makeText(this, &quot;Please select gender&quot;, Toast.LENGTH_SHORT);\r\n                toast.show();\r\n                return false;\r\n            }\r\n            if (radioMale.isChecked()) {\r\n                selectedRadiobut = radioMale.getText().toString();\r\n            } else if (radioFemale.isChecked()) {\r\n                selectedRadiobut = radioFemale.getText().toString();\r\n            }\r\n            return true;\r\n        }\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            requestWindowFeature(Window.FEATURE_NO_TITLE);\r\n            getSupportActionBar().hide();\r\n            setContentView(R.layout.activity_main);\r\n            getWindow().setSoftInputMode(WindowManager.LayoutParams.SOFT_INPUT_STATE_HIDDEN);\r\n            sp = getSharedPreferences(&quot;MyUserPrefs&quot;, Context.MODE_PRIVATE);\r\n    \r\n            if (sp.contains(&quot;height&quot;) &amp;&amp; sp.contains(&quot;weight&quot;) &amp;&amp; sp.contains(&quot;age&quot;) &amp;&amp; sp.contains(&quot;gender&quot;)) {\r\n                // Values are stored, navigate to MainMenu directly\r\n                Intent intent = new Intent(MainActivity.this, MainMenu.class);\r\n                startActivity(intent);\r\n            } else {\r\n                radioMale = (RadioButton) findViewById(R.id.radioMale);\r\n                radioFemale = (RadioButton) findViewById(R.id.radioFemale);\r\n                button = (Button) findViewById(R.id.button);\r\n                enterHeight = (EditText) findViewById(R.id.enterHeight);\r\n                enterWeight = (EditText) findViewById(R.id.enterWeight);\r\n                enterAge = (EditText) findViewById(R.id.enterAge);\r\n                radioGroup = (RadioGroup) findViewById(R.id.radioSex);\r\n    \r\n                button.setOnClickListener(new View.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(View view) {\r\n    \r\n    \r\n                        if (heightIsValid() &amp; weightIsValid() &amp; ageIsValid() &amp; genderIsSelected()) {\r\n    \r\n                            height = Double.valueOf(enterHeight.getText().toString());\r\n                            weight = Double.valueOf(enterWeight.getText().toString());\r\n                            age = Double.valueOf(enterAge.getText().toString());\r\n    \r\n                            SharedPreferences.Editor editor = sp.edit();\r\n                            editor.putString(&quot;height&quot;, String.valueOf(Integer.valueOf((int) height)));\r\n                            editor.putString(&quot;weight&quot;, String.valueOf(Integer.valueOf((int) weight)));\r\n                            editor.putString(&quot;age&quot;, String.valueOf(Integer.valueOf((int) age)));\r\n                            editor.putString(&quot;gender&quot;, String.valueOf(selectedRadiobut));\r\n                            editor.commit();\r\n    \r\n                            InputMethodManager imm = (InputMethodManager) getSystemService(getApplicationContext().INPUT_METHOD_SERVICE);\r\n                            imm.hideSoftInputFromWindow(view.getWindowToken(), 0);\r\n                            Intent intent = new Intent(MainActivity.this, MainMenu.class);\r\n                            startActivity(intent);\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n        }\r\n        @Override\r\n        protected void onResume() {\r\n            super.onResume();\r\n            if (enterHeight != null) {\r\n                enterHeight.setText(&quot;&quot;);\r\n            }\r\n            if (enterWeight != null) {\r\n                enterWeight.setText(&quot;&quot;);\r\n            }\r\n            if (enterAge != null) {\r\n                enterAge.setText(&quot;&quot;);\r\n            }\r\n            if (radioGroup != null) {\r\n                radioGroup.clearCheck();\r\n            }\r\n        }\r\n    }\r\n\r\nHere is my MainMenu code:\r\n\r\n    public class MainMenu extends AppCompatActivity { Button  btnMC , btnFN , btnRec , btnGuides, btnEdit;\r\n        public void btnStepClick(View view) {\r\n            Intent intent = new Intent(this, StepCounter.class);\r\n            startActivity(intent);\r\n        }\r\n        public void btnCalClick(View view) {\r\n            Intent intent = new Intent(this, MacrosCalculator.class);\r\n            startActivity(intent);\r\n        }\r\n        public void btnRecClick(View view){\r\n            Intent intent = new Intent(this, Recipes.class);\r\n            startActivity(intent);\r\n        }\r\n        public void btnEditClick(View view){\r\n            Log.d(&quot;MainMenu&quot;, &quot;Edit button clicked&quot;);\r\n            Intent intent = new Intent(this, MainActivity.class);\r\n            startActivity(intent);\r\n        }\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            requestWindowFeature(Window.FEATURE_NO_TITLE);\r\n            getSupportActionBar().hide();\r\n            setContentView(R.layout.activity_main_menu);\r\n            TextView age1 , height1 , weight1 , gender1;\r\n    \r\n            age1 = (TextView) findViewById(R.id.age1);\r\n            height1 = (TextView) findViewById(R.id.height1);\r\n            weight1 = (TextView) findViewById(R.id.weight1);\r\n            gender1 = (TextView) findViewById(R.id.gender1);\r\n            btnMC = (Button) findViewById(R.id.btnMC);\r\n            btnFN = (Button) findViewById(R.id.btnFN);\r\n            btnRec = (Button) findViewById(R.id.btnRec);\r\n            btnGuides = (Button) findViewById(R.id.btnGuides);\r\n            btnEdit = (Button) findViewById(R.id.btnEdit);\r\n    \r\n            SharedPreferences sp = getApplicationContext().getSharedPreferences(&quot;MyUserPrefs&quot;, Context.MODE_PRIVATE);\r\n            String height = sp.getString(&quot;height&quot; , &quot;&quot;);\r\n            String weight = sp.getString(&quot;weight&quot; , &quot;&quot;);\r\n            String age = sp.getString(&quot;age&quot; , &quot;&quot;);\r\n            String gender= sp.getString(&quot;gender&quot;, &quot;&quot;);\r\n    \r\n            gender1.setText(&quot;Gender: &quot; + gender);\r\n            age1.setText(&quot;Age: &quot; + age);\r\n            height1.setText(&quot;Height(cm): &quot; + height);\r\n            weight1.setText(&quot;Weight(kg): &quot; + weight);\r\n        }\r\n    }\r\n\r\nI&#39;ve made a button with id = btnEdit and onClick = btnEditClick , I&#39;ve made the Intent but after clicking the button it&#39;s not going to the MainActivity.\r\n\r\n","title":"After putting values in MainActivity it skips to MainMenu , how to make a &quot;edit&quot; button to return to MainActivity and edit those values again?","body":"<p>After putting values in MainActivity it skips to MainMenu , how to make a &quot;edit&quot; button to return to MainActivity and edit those values again? I've tried to make the &quot;edit&quot; button and when you click it to go back to the MainActivity , but it's not happening...\nHere is my MainActivity code:</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n    EditText enterHeight, enterWeight, enterAge;\n\n    private double height;\n    private double weight;\n    private double age;\n    String selectedRadiobut;\n    Button button;\n    RadioButton radioMale, radioFemale;\n    RadioGroup radioGroup;\n    SharedPreferences sp;\n\n    private boolean heightIsValid() {\n\n        if (enterHeight.getText().toString().length() == 0) {\n            enterHeight.setError(&quot;Cant be empty&quot;);\n            return false;\n        }\n\n        double height = Double.valueOf(enterHeight.getText().toString());\n\n        if (height &lt;= 0) {\n\n            enterHeight.setError(&quot;Cant be zero&quot;);\n            return false;\n        }\n        if (height &lt;= 40 || height &gt; 250) {\n\n            enterHeight.setError(&quot;Cant be less than 40 cm or more than 250 cm&quot;);\n            return false;\n        }\n        return true;\n    }\n\n    private boolean weightIsValid() {\n        if (enterWeight.getText().toString().length() == 0) {\n            enterWeight.setError(&quot;Cant be empty&quot;);\n            return false;\n        }\n\n        double weight = Double.valueOf(enterWeight.getText().toString());\n\n        if (weight &lt;= 0) {\n\n            enterWeight.setError(&quot;Cant be zero&quot;);\n            return false;\n        }\n        if (weight &gt; 600) {\n\n            enterWeight.setError(&quot;Cant be more than 600 kg&quot;);\n            return false;\n        }\n        return true;\n    }\n\n    private boolean ageIsValid() {\n        if (enterAge.getText().toString().length() == 0) {\n            enterAge.setError(&quot;Cant be empty&quot;);\n            return false;\n        }\n\n        double age = Double.valueOf(enterAge.getText().toString());\n\n        if (age &lt;= 0) {\n\n            enterAge.setError(&quot;Cant be zero&quot;);\n            return false;\n        }\n        if (age &gt; 116) {\n\n            enterAge.setError(&quot;Cant be older than 116 years&quot;);\n            return false;\n        }\n        return true;\n    }\n\n    private boolean genderIsSelected() {\n\n        if (radioGroup.getCheckedRadioButtonId() == -1) { //checking if the user has selected a option using id\n            Toast toast = Toast.makeText(this, &quot;Please select gender&quot;, Toast.LENGTH_SHORT);\n            toast.show();\n            return false;\n        }\n        if (radioMale.isChecked()) {\n            selectedRadiobut = radioMale.getText().toString();\n        } else if (radioFemale.isChecked()) {\n            selectedRadiobut = radioFemale.getText().toString();\n        }\n        return true;\n    }\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        requestWindowFeature(Window.FEATURE_NO_TITLE);\n        getSupportActionBar().hide();\n        setContentView(R.layout.activity_main);\n        getWindow().setSoftInputMode(WindowManager.LayoutParams.SOFT_INPUT_STATE_HIDDEN);\n        sp = getSharedPreferences(&quot;MyUserPrefs&quot;, Context.MODE_PRIVATE);\n\n        if (sp.contains(&quot;height&quot;) &amp;&amp; sp.contains(&quot;weight&quot;) &amp;&amp; sp.contains(&quot;age&quot;) &amp;&amp; sp.contains(&quot;gender&quot;)) {\n            // Values are stored, navigate to MainMenu directly\n            Intent intent = new Intent(MainActivity.this, MainMenu.class);\n            startActivity(intent);\n        } else {\n            radioMale = (RadioButton) findViewById(R.id.radioMale);\n            radioFemale = (RadioButton) findViewById(R.id.radioFemale);\n            button = (Button) findViewById(R.id.button);\n            enterHeight = (EditText) findViewById(R.id.enterHeight);\n            enterWeight = (EditText) findViewById(R.id.enterWeight);\n            enterAge = (EditText) findViewById(R.id.enterAge);\n            radioGroup = (RadioGroup) findViewById(R.id.radioSex);\n\n            button.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View view) {\n\n\n                    if (heightIsValid() &amp; weightIsValid() &amp; ageIsValid() &amp; genderIsSelected()) {\n\n                        height = Double.valueOf(enterHeight.getText().toString());\n                        weight = Double.valueOf(enterWeight.getText().toString());\n                        age = Double.valueOf(enterAge.getText().toString());\n\n                        SharedPreferences.Editor editor = sp.edit();\n                        editor.putString(&quot;height&quot;, String.valueOf(Integer.valueOf((int) height)));\n                        editor.putString(&quot;weight&quot;, String.valueOf(Integer.valueOf((int) weight)));\n                        editor.putString(&quot;age&quot;, String.valueOf(Integer.valueOf((int) age)));\n                        editor.putString(&quot;gender&quot;, String.valueOf(selectedRadiobut));\n                        editor.commit();\n\n                        InputMethodManager imm = (InputMethodManager) getSystemService(getApplicationContext().INPUT_METHOD_SERVICE);\n                        imm.hideSoftInputFromWindow(view.getWindowToken(), 0);\n                        Intent intent = new Intent(MainActivity.this, MainMenu.class);\n                        startActivity(intent);\n                    }\n                }\n            });\n        }\n    }\n    @Override\n    protected void onResume() {\n        super.onResume();\n        if (enterHeight != null) {\n            enterHeight.setText(&quot;&quot;);\n        }\n        if (enterWeight != null) {\n            enterWeight.setText(&quot;&quot;);\n        }\n        if (enterAge != null) {\n            enterAge.setText(&quot;&quot;);\n        }\n        if (radioGroup != null) {\n            radioGroup.clearCheck();\n        }\n    }\n}\n</code></pre>\n<p>Here is my MainMenu code:</p>\n<pre><code>public class MainMenu extends AppCompatActivity { Button  btnMC , btnFN , btnRec , btnGuides, btnEdit;\n    public void btnStepClick(View view) {\n        Intent intent = new Intent(this, StepCounter.class);\n        startActivity(intent);\n    }\n    public void btnCalClick(View view) {\n        Intent intent = new Intent(this, MacrosCalculator.class);\n        startActivity(intent);\n    }\n    public void btnRecClick(View view){\n        Intent intent = new Intent(this, Recipes.class);\n        startActivity(intent);\n    }\n    public void btnEditClick(View view){\n        Log.d(&quot;MainMenu&quot;, &quot;Edit button clicked&quot;);\n        Intent intent = new Intent(this, MainActivity.class);\n        startActivity(intent);\n    }\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        requestWindowFeature(Window.FEATURE_NO_TITLE);\n        getSupportActionBar().hide();\n        setContentView(R.layout.activity_main_menu);\n        TextView age1 , height1 , weight1 , gender1;\n\n        age1 = (TextView) findViewById(R.id.age1);\n        height1 = (TextView) findViewById(R.id.height1);\n        weight1 = (TextView) findViewById(R.id.weight1);\n        gender1 = (TextView) findViewById(R.id.gender1);\n        btnMC = (Button) findViewById(R.id.btnMC);\n        btnFN = (Button) findViewById(R.id.btnFN);\n        btnRec = (Button) findViewById(R.id.btnRec);\n        btnGuides = (Button) findViewById(R.id.btnGuides);\n        btnEdit = (Button) findViewById(R.id.btnEdit);\n\n        SharedPreferences sp = getApplicationContext().getSharedPreferences(&quot;MyUserPrefs&quot;, Context.MODE_PRIVATE);\n        String height = sp.getString(&quot;height&quot; , &quot;&quot;);\n        String weight = sp.getString(&quot;weight&quot; , &quot;&quot;);\n        String age = sp.getString(&quot;age&quot; , &quot;&quot;);\n        String gender= sp.getString(&quot;gender&quot;, &quot;&quot;);\n\n        gender1.setText(&quot;Gender: &quot; + gender);\n        age1.setText(&quot;Age: &quot; + age);\n        height1.setText(&quot;Height(cm): &quot; + height);\n        weight1.setText(&quot;Weight(kg): &quot; + weight);\n    }\n}\n</code></pre>\n<p>I've made a button with id = btnEdit and onClick = btnEditClick , I've made the Intent but after clicking the button it's not going to the MainActivity.</p>\n"},{"tags":["java","selenium-webdriver","appium","lambdatest"],"comments":[{"owner":{"account_id":1013270,"reputation":25,"user_id":1025393,"display_name":"anjana"},"score":0,"creation_date":1695377773,"post_id":77149656,"comment_id":136019538,"body_markdown":"This above error was due to incorrect lambdatest url for mobile. Once corrected, this still doesn&#39;t seem to return the driver. Getting this error now:  `Capabilities {browserName: Chrome, deviceName: Pixel 7 Pro, isRealMobile: true, name: android Pixel 7 Pro 13, platformName: ANDROID, platformVersion: 13}\norg.openqa.selenium.SessionNotCreatedException: Could not start a new session. Response code 400. Message: platform name is missing in the capabilities`","body":"This above error was due to incorrect lambdatest url for mobile. Once corrected, this still doesn&#39;t seem to return the driver. Getting this error now:  <code>Capabilities {browserName: Chrome, deviceName: Pixel 7 Pro, isRealMobile: true, name: android Pixel 7 Pro 13, platformName: ANDROID, platformVersion: 13} org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Response code 400. Message: platform name is missing in the capabilities</code>"}],"answers":[{"tags":[],"owner":{"account_id":23430403,"reputation":116,"user_id":17489347,"display_name":"Dima Berezovskyi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695304015,"creation_date":1695304015,"answer_id":77150879,"question_id":77149656,"body_markdown":"    DesiredCapabilities capabilities = new DesiredCapabilities();\r\n    capabilities.setCapability(&quot;platformName&quot;, &quot;android&quot;);\r\n    capabilities.setCapability(&quot;deviceName&quot;, &quot;Pixel 3&quot;);\r\n    capabilities.setCapability(&quot;platformVersion&quot;, &quot;9&quot;);\r\n    capabilities.setCapability(&quot;isRealMobile&quot;, true);\r\n[Caps generator](https://www.lambdatest.com/capabilities-generator/)\r\n\r\nchange ANDROID to android","title":"LambdaTest Appium Integration : Driver session Response code 400. Message: unsupported platfrom ANDROID","body":"<pre><code>DesiredCapabilities capabilities = new DesiredCapabilities();\ncapabilities.setCapability(&quot;platformName&quot;, &quot;android&quot;);\ncapabilities.setCapability(&quot;deviceName&quot;, &quot;Pixel 3&quot;);\ncapabilities.setCapability(&quot;platformVersion&quot;, &quot;9&quot;);\ncapabilities.setCapability(&quot;isRealMobile&quot;, true);\n</code></pre>\n<p><a href=\"https://www.lambdatest.com/capabilities-generator/\" rel=\"nofollow noreferrer\">Caps generator</a></p>\n<p>change ANDROID to android</p>\n"},{"tags":[],"owner":{"account_id":1013270,"reputation":25,"user_id":1025393,"display_name":"anjana"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1696485967,"creation_date":1696485967,"answer_id":77234580,"question_id":77149656,"body_markdown":"The desired capabilities details had to be passed as a map along with a w3c parameter for this to work. Given below is the code that worked for me.\r\n\r\n    DesiredCapabilities capabilities = new DesiredCapabilities();\r\n    HashMap&lt;String, Object&gt; ltOptions = new HashMap&lt;String, Object&gt;();\r\n    ltOptions.put(&quot;w3c&quot;, true);\r\n    ltOptions.put(&quot;platformName&quot;, &quot;android&quot;);\r\n    ltOptions.put(&quot;deviceName&quot;, &quot;Pixel 6&quot;);\r\n    ltOptions.put(&quot;platformVersion&quot;, &quot;13&quot;);\r\n    ltOptions.put(&quot;isRealMobile&quot;, true);\r\n    capabilities.setCapability(&quot;lt:options&quot;, ltOptions);","title":"LambdaTest Appium Integration : Driver session Response code 400. Message: unsupported platfrom ANDROID","body":"<p>The desired capabilities details had to be passed as a map along with a w3c parameter for this to work. Given below is the code that worked for me.</p>\n<pre><code>DesiredCapabilities capabilities = new DesiredCapabilities();\nHashMap&lt;String, Object&gt; ltOptions = new HashMap&lt;String, Object&gt;();\nltOptions.put(&quot;w3c&quot;, true);\nltOptions.put(&quot;platformName&quot;, &quot;android&quot;);\nltOptions.put(&quot;deviceName&quot;, &quot;Pixel 6&quot;);\nltOptions.put(&quot;platformVersion&quot;, &quot;13&quot;);\nltOptions.put(&quot;isRealMobile&quot;, true);\ncapabilities.setCapability(&quot;lt:options&quot;, ltOptions);\n</code></pre>\n"}],"owner":{"account_id":1013270,"reputation":25,"user_id":1025393,"display_name":"anjana"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77234580,"answer_count":2,"score":0,"last_activity_date":1696485967,"creation_date":1695294337,"question_id":77149656,"body_markdown":"I have configured my automation app to run appium on lambdatest. \r\nBut I am getting the below error where it is unable to create the driver session\r\n\r\n```\r\nDriver info: io.appium.java_client.android.AndroidDriver\r\nCommand: [null, newSession {capabilities=[{browserName=Chrome, appium:deviceName=Google Pixel 7 Pro, platformName=ANDROID, appium:platformVersion=13}], desiredCapabilities=Capabilities {browserName: Chrome, deviceName: Google Pixel 7 Pro, platformName: ANDROID, platformVersion: 13}}]\r\nCapabilities {browserName: Chrome, deviceName: Google Pixel 7 Pro, platformName: ANDROID, platformVersion: 13}\r\norg.openqa.selenium.SessionNotCreatedException: Could not start a new session. Response code 400. Message: unsupported platfrom ANDROID \r\n```\r\n\r\n\r\nThe platform name in my code is Android but it gets converted to all caps internally.\r\nI am running the below selenium and appium versions.\r\n```\r\n&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.9.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n\t        &lt;groupId&gt;io.appium&lt;/groupId&gt;\r\n\t        &lt;artifactId&gt;java-client&lt;/artifactId&gt;\r\n\t        &lt;version&gt;8.5.1&lt;/version&gt; &lt;!-- Specify the desired version --&gt;\r\n\t    &lt;/dependency&gt;\r\n```\r\n\r\nPlease let me know if there are any workarounds or any lower versions with which this might execute.","title":"LambdaTest Appium Integration : Driver session Response code 400. Message: unsupported platfrom ANDROID","body":"<p>I have configured my automation app to run appium on lambdatest.\nBut I am getting the below error where it is unable to create the driver session</p>\n<pre><code>Driver info: io.appium.java_client.android.AndroidDriver\nCommand: [null, newSession {capabilities=[{browserName=Chrome, appium:deviceName=Google Pixel 7 Pro, platformName=ANDROID, appium:platformVersion=13}], desiredCapabilities=Capabilities {browserName: Chrome, deviceName: Google Pixel 7 Pro, platformName: ANDROID, platformVersion: 13}}]\nCapabilities {browserName: Chrome, deviceName: Google Pixel 7 Pro, platformName: ANDROID, platformVersion: 13}\norg.openqa.selenium.SessionNotCreatedException: Could not start a new session. Response code 400. Message: unsupported platfrom ANDROID \n</code></pre>\n<p>The platform name in my code is Android but it gets converted to all caps internally.\nI am running the below selenium and appium versions.</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n            &lt;version&gt;4.9.1&lt;/version&gt;\n        &lt;/dependency&gt;\n&lt;dependency&gt;\n            &lt;groupId&gt;io.appium&lt;/groupId&gt;\n            &lt;artifactId&gt;java-client&lt;/artifactId&gt;\n            &lt;version&gt;8.5.1&lt;/version&gt; &lt;!-- Specify the desired version --&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>Please let me know if there are any workarounds or any lower versions with which this might execute.</p>\n"},{"tags":["java","filesystems"],"answers":[{"tags":[],"owner":{"account_id":957259,"reputation":29615,"user_id":982341,"display_name":"GreyBeardedGeek"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1369103995,"creation_date":1369103995,"answer_id":16661320,"question_id":16660918,"body_markdown":"As far as I know, no - Java does not provide access to the information that you&#39;re looking for.\r\n\r\nI think that your only real option is to write a shared library, and use either JNI or JNA to access it.\r\n","title":"Determine filesystem type of given file in Java","body":"<p>As far as I know, no - Java does not provide access to the information that you're looking for.</p>\n\n<p>I think that your only real option is to write a shared library, and use either JNI or JNA to access it.</p>\n"},{"tags":[],"owner":{"account_id":29602124,"reputation":26,"user_id":22687300,"display_name":"CormacS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1696485916,"creation_date":1696485916,"answer_id":77234575,"question_id":16660918,"body_markdown":"Here&#39;s how to do it with `FileStore`\r\n\r\n```\r\nString format = getFormat(Path.of(file.getPath()));\r\n\r\nString getFormat (Path path) {\r\n    return Files.getFileStore(path).type();\r\n}\r\n```","title":"Determine filesystem type of given file in Java","body":"<p>Here's how to do it with <code>FileStore</code></p>\n<pre><code>String format = getFormat(Path.of(file.getPath()));\n\nString getFormat (Path path) {\n    return Files.getFileStore(path).type();\n}\n</code></pre>\n"}],"owner":{"account_id":2794150,"reputation":602,"user_id":2403720,"display_name":"Brian Heilig"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":331,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77234575,"answer_count":2,"score":2,"last_activity_date":1696485916,"creation_date":1369100801,"question_id":16660918,"body_markdown":"Is there something similar to `statfs` in Java to determine the filesystem type of a given file? More specifically I&#39;d like to determine if a file provided by a user is on a shared or local filesystem. I&#39;m going to use this information to determine if the application is opening several identically named files on the local filesystem of a distributed application, or one shared file.\r\n\r\nI suppose if I can get something like &quot;NFS&quot;, &quot;Lustre&quot;, &quot;EXT3&quot;, etc either as a string or an enumeration then I can program a mapping to shared/not shared. Let&#39;s assume the file exists and is readable.","title":"Determine filesystem type of given file in Java","body":"<p>Is there something similar to <code>statfs</code> in Java to determine the filesystem type of a given file? More specifically I'd like to determine if a file provided by a user is on a shared or local filesystem. I'm going to use this information to determine if the application is opening several identically named files on the local filesystem of a distributed application, or one shared file.</p>\n\n<p>I suppose if I can get something like \"NFS\", \"Lustre\", \"EXT3\", etc either as a string or an enumeration then I can program a mapping to shared/not shared. Let's assume the file exists and is readable.</p>\n"},{"tags":["java","spring","spring-aop","spring-3","java-ee-7"],"answers":[{"tags":[],"owner":{"account_id":947184,"reputation":48994,"user_id":974186,"accept_rate":79,"display_name":"Ren&#233; Link"},"down_vote_count":1,"up_vote_count":208,"is_accepted":true,"score":207,"last_activity_date":1590546027,"creation_date":1390372892,"answer_id":21275958,"question_id":21275819,"body_markdown":"You can get the [Signature][1] from a [ProceedingJoinPoint][2] and in case of a method invocation just cast it to a [MethodSignature][3].\r\n\r\n    @Around(&quot;execution(public * *(..)) &amp;&amp; @annotation(com.mycompany.MyAnnotation)&quot;)\r\n    public Object procede(ProceedingJoinPoint call) throws Throwable {\r\n        MethodSignature signature = (MethodSignature) call.getSignature();\r\n        Method method = signature.getMethod();\r\n\r\n        MyAnnotation myAnnotation = method.getAnnotation(MyAnnotation.class);\r\n    }\r\n\r\nBut you should first add an annotation attribute. Your example code doesn&#39;t have one, e.g.\r\n\r\n    @Target(ElementType.METHOD)\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    public @interface MyAnnotation {\r\n\r\n    \tString value();\r\n    }\r\n\r\nThen you can access it\r\n\r\n    MyAnnotation myAnnotation = method.getAnnotation(MyAnnotation.class);\r\n    String value = myAnnotation.value();\r\n\r\n**EDIT**\r\n\r\n&gt; How to get value if I have @MyAnnotation(&quot;ABC&quot;) at class level ?\r\n\r\nA `Class` is also an [`AnnotatedElement`][4], so you can get it the same way as from a `Method`. E.g. An annotation of the method&#39;s declaring class can be obtained using\r\n\r\n     Method method = ...;\r\n     Class&lt;?&gt; declaringClass = method.getDeclaringClass();\r\n\t MyAnnotation myAnnotation = declaringClass.getAnnotation(MyAnnotation.class)\r\n\r\nSince you are using spring you might also want to use spring&#39;s [`AnnotationUtils.findAnnotation(..)`][5]. It searches for an annotation as spring does. E.g. also looking at superclass and interface methods, etc.\r\n\r\n     MyAnnotation foundAnnotation = AnnotationUtils.findAnnotation(method, MyAnnotation.class);\r\n\r\n**EDIT**\r\n\r\nYou might also be interessted in the capabilities of spring&#39;s [`MergedAnnotations`][6] which was introduced in 5.2.\r\n\r\n\r\n  [1]: http://www.eclipse.org/aspectj/doc/released/runtime-api/org/aspectj/lang/Signature.html\r\n  [2]: http://www.eclipse.org/aspectj/doc/released/runtime-api/org/aspectj/lang/ProceedingJoinPoint.html\r\n  [3]: https://eclipse.org/aspectj/doc/next/runtime-api/org/aspectj/lang/reflect/MethodSignature.html\r\n  [4]: https://docs.oracle.com/javase/8/docs/api/java/lang/reflect/AnnotatedElement.html\r\n  [5]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/annotation/AnnotationUtils.html\r\n  [6]: https://docs.spring.io/spring-framework/docs/5.2.0.RELEASE/javadoc-api/org/springframework/core/annotation/MergedAnnotations.html","title":"How to get a method&#39;s annotation value from a ProceedingJoinPoint?","body":"<p>You can get the <a href=\"http://www.eclipse.org/aspectj/doc/released/runtime-api/org/aspectj/lang/Signature.html\" rel=\"noreferrer\">Signature</a> from a <a href=\"http://www.eclipse.org/aspectj/doc/released/runtime-api/org/aspectj/lang/ProceedingJoinPoint.html\" rel=\"noreferrer\">ProceedingJoinPoint</a> and in case of a method invocation just cast it to a <a href=\"https://eclipse.org/aspectj/doc/next/runtime-api/org/aspectj/lang/reflect/MethodSignature.html\" rel=\"noreferrer\">MethodSignature</a>.</p>\n\n<pre><code>@Around(\"execution(public * *(..)) &amp;&amp; @annotation(com.mycompany.MyAnnotation)\")\npublic Object procede(ProceedingJoinPoint call) throws Throwable {\n    MethodSignature signature = (MethodSignature) call.getSignature();\n    Method method = signature.getMethod();\n\n    MyAnnotation myAnnotation = method.getAnnotation(MyAnnotation.class);\n}\n</code></pre>\n\n<p>But you should first add an annotation attribute. Your example code doesn't have one, e.g.</p>\n\n<pre><code>@Target(ElementType.METHOD)\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface MyAnnotation {\n\n    String value();\n}\n</code></pre>\n\n<p>Then you can access it</p>\n\n<pre><code>MyAnnotation myAnnotation = method.getAnnotation(MyAnnotation.class);\nString value = myAnnotation.value();\n</code></pre>\n\n<p><strong>EDIT</strong></p>\n\n<blockquote>\n  <p>How to get value if I have @MyAnnotation(\"ABC\") at class level ?</p>\n</blockquote>\n\n<p>A <code>Class</code> is also an <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/reflect/AnnotatedElement.html\" rel=\"noreferrer\"><code>AnnotatedElement</code></a>, so you can get it the same way as from a <code>Method</code>. E.g. An annotation of the method's declaring class can be obtained using</p>\n\n<pre><code> Method method = ...;\n Class&lt;?&gt; declaringClass = method.getDeclaringClass();\n MyAnnotation myAnnotation = declaringClass.getAnnotation(MyAnnotation.class)\n</code></pre>\n\n<p>Since you are using spring you might also want to use spring's <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/annotation/AnnotationUtils.html\" rel=\"noreferrer\"><code>AnnotationUtils.findAnnotation(..)</code></a>. It searches for an annotation as spring does. E.g. also looking at superclass and interface methods, etc.</p>\n\n<pre><code> MyAnnotation foundAnnotation = AnnotationUtils.findAnnotation(method, MyAnnotation.class);\n</code></pre>\n\n<p><strong>EDIT</strong></p>\n\n<p>You might also be interessted in the capabilities of spring's <a href=\"https://docs.spring.io/spring-framework/docs/5.2.0.RELEASE/javadoc-api/org/springframework/core/annotation/MergedAnnotations.html\" rel=\"noreferrer\"><code>MergedAnnotations</code></a> which was introduced in 5.2.</p>\n"},{"tags":[],"owner":{"account_id":796110,"reputation":10035,"user_id":869225,"accept_rate":50,"display_name":"Martin Frey"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1477572012,"creation_date":1390373140,"answer_id":21276021,"question_id":21275819,"body_markdown":"This works as well - You can fetch annotation information using reflection on the class.\r\n\r\n    Annotation anno = MyClass.class.getAnnotation(MyAnnotation.class);\r\n\r\nOr\r\n\r\n    Annotation anno = MyClass.class.getDeclaredMethod(&quot;somethod&quot;).getAnnotation(MyAnnotation.class);\r\n\r\nThis works only if your annotation is available at runtime, which you have declared correctly.\r\n\r\n    @Retention(RetentionPolicy.RUNTIME)","title":"How to get a method&#39;s annotation value from a ProceedingJoinPoint?","body":"<p>This works as well - You can fetch annotation information using reflection on the class.</p>\n\n<pre><code>Annotation anno = MyClass.class.getAnnotation(MyAnnotation.class);\n</code></pre>\n\n<p>Or</p>\n\n<pre><code>Annotation anno = MyClass.class.getDeclaredMethod(\"somethod\").getAnnotation(MyAnnotation.class);\n</code></pre>\n\n<p>This works only if your annotation is available at runtime, which you have declared correctly.</p>\n\n<pre><code>@Retention(RetentionPolicy.RUNTIME)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2739457,"reputation":7470,"user_id":2361308,"accept_rate":71,"display_name":"Hearen"},"down_vote_count":0,"up_vote_count":49,"is_accepted":false,"score":49,"last_activity_date":1551074193,"creation_date":1523503909,"answer_id":49787537,"question_id":21275819,"body_markdown":"Actually I think we can get the `value` in another way round instead of just from **ProceedingJoinPoint**, which will definitely require us to make use of `reflection`.\r\n\r\nHave a try as follows using annotation directly: add `com.mycompany.MyAnnotation yourAnnotation` in your `advice params` and `@annotation(yourAnnotation)` in `@Around`.\r\n\r\n    @Around(&quot;execution(public * *(..)) &amp;&amp; @annotation(yourAnnotation)&quot;)\r\n    public Object procede(ProceedingJoinPoint pjp, com.mycompany.MyAnnotation yourAnnotation) {\r\n        ...\r\n        yourAnnotation.value(); // get your annotation value directly;\r\n        ...\r\n    }\r\n\r\n`com.mycompany.MyAnnotation` in advice params just work as that in \r\n\r\n    @Around(&quot;execution(public * *(..)) &amp;&amp; @annotation(com.mycompany.MyAnnotation)&quot;)\r\n\r\n`yourAnnotation` can be valid variable name since `MyAnnotation` in params already points out which annotation it should be. Here `yourAnnotation` is used to retrieve the annotation instance only.\r\n\r\nIf you want to pass more params you can try `args()`.\r\n\r\nFor more details, do please check its official [doc](https://docs.spring.io/spring/docs/3.0.x/spring-framework-reference/html/aop.html). For Annotation value, you can just search `@Auditable`. \r\n","title":"How to get a method&#39;s annotation value from a ProceedingJoinPoint?","body":"<p>Actually I think we can get the <code>value</code> in another way round instead of just from <strong>ProceedingJoinPoint</strong>, which will definitely require us to make use of <code>reflection</code>.</p>\n\n<p>Have a try as follows using annotation directly: add <code>com.mycompany.MyAnnotation yourAnnotation</code> in your <code>advice params</code> and <code>@annotation(yourAnnotation)</code> in <code>@Around</code>.</p>\n\n<pre><code>@Around(\"execution(public * *(..)) &amp;&amp; @annotation(yourAnnotation)\")\npublic Object procede(ProceedingJoinPoint pjp, com.mycompany.MyAnnotation yourAnnotation) {\n    ...\n    yourAnnotation.value(); // get your annotation value directly;\n    ...\n}\n</code></pre>\n\n<p><code>com.mycompany.MyAnnotation</code> in advice params just work as that in </p>\n\n<pre><code>@Around(\"execution(public * *(..)) &amp;&amp; @annotation(com.mycompany.MyAnnotation)\")\n</code></pre>\n\n<p><code>yourAnnotation</code> can be valid variable name since <code>MyAnnotation</code> in params already points out which annotation it should be. Here <code>yourAnnotation</code> is used to retrieve the annotation instance only.</p>\n\n<p>If you want to pass more params you can try <code>args()</code>.</p>\n\n<p>For more details, do please check its official <a href=\"https://docs.spring.io/spring/docs/3.0.x/spring-framework-reference/html/aop.html\" rel=\"noreferrer\">doc</a>. For Annotation value, you can just search <code>@Auditable</code>. </p>\n"},{"tags":[],"owner":{"account_id":10121067,"reputation":53,"user_id":7477963,"display_name":"Tom K."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1549470027,"creation_date":1549470027,"answer_id":54558101,"question_id":21275819,"body_markdown":"**Ren&#233;&#39;s** example is taking me a long way.  Also the explanation how I get ClassLevel Annotations.\r\n\r\nBut then I can only read ClassLevel Annotations Values if I have previously used a method annotation with &quot;*@Around(&quot;execution(public * *(..)) &amp;&amp; @annotation(com.mycompany.MyAnnotation)&quot;)&quot;*&quot;\r\n\r\nHow can I get around this? How can I trigger an Aspect if a ClassLevel Annotation is set without going through a Method Execution?\r\n\r\nI want to write a ClassLevel Annotation like\r\n\r\n    @Documented\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Target(value = { ElementType.METHOD, ElementType.TYPE })\r\n    @EnableSwagger2\r\n    @Import(SwaggerConfiguration.class)\r\n    public @interface EnableSwaggerApi {\r\n    \tString controllerPackage() default &quot;foo.bar.ctrl&quot;;\r\n    }\r\n\r\nIt&#39;s importing the Configuration about &quot;SwaggerConfiguration&quot; where I want to receive the value of &quot;controllerPackage&quot;\r\n\r\n\r\n\r\n\r\n\r\n    @Aspect\r\n    public class SwaggerConfiguration {\r\n    \r\n    \t@Value(&quot;${tom.swagger.controller.package:foo.bar.notset}&quot;)\r\n    \tprivate String\tcontrollerPackage;\r\n    \r\n    \t@Value(&quot;${tom.swagger.api.version:1.0.0}&quot;)\r\n    \tprivate String\tapiVersion;\r\n    \r\n    \t@Value(&quot;${spring.application.name:MyApplication}&quot;)\r\n    \tprivate String\tapplicationName;\r\n    \r\n    \t@Around(&quot;execution(public * *(..)) &amp;&amp; @annotation(EnableSwaggerApi)&quot;)\r\n    \tpublic void procede(ProceedingJoinPoint call) throws Throwable {\r\n    \t\tMethodSignature signature = (MethodSignature) call.getSignature();\r\n    \t\tMethod method = signature.getMethod();\r\n    \r\n    \t\tClass&lt;?&gt; declaringClass = method.getDeclaringClass();\r\n    \t\tEnableSwaggerApi myAnnotation = declaringClass.getAnnotation(EnableSwaggerApi.class);\r\n    \t\tSystem.err.println(&quot;1 -&gt; &quot; + myAnnotation.controllerPackage());  // -&gt; tko.backend.spring.ctrl\r\n    \t\t\r\n    \t\tmyAnnotation = method.getAnnotation(EnableSwaggerApi.class);\r\n    \t\tSystem.err.println(&quot;2 -&gt; &quot; + myAnnotation.controllerPackage()); // -&gt; tko.backend.spring.SOMEOTHERSTUFF\r\n    \r\n    \r\n    \t\t// THIS WORKS, BUT JUST IF I USE THE @EnableSwaggerApi ON SOME METHOD!\r\n    \t\t// NOT ON CLASS\r\n    \r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic Docket swaggerApi() {\r\n    \t\treturn new Docket(DocumentationType.SWAGGER_2)\r\n    \t\t\t\t.select()\r\n    \t\t\t\t.apis(RequestHandlerSelectors.basePackage(&quot;controllerPackage&quot;))\r\n    \t\t\t\t.paths(PathSelectors.any())\r\n    \t\t\t\t.build()\r\n    \t\t\t\t.apiInfo(new ApiInfoBuilder().version(apiVersion).title(applicationName).description(&quot;Documentation &quot; + applicationName + &quot; API v&quot; + apiVersion)\r\n    \t\t\t\t\t\t.build());\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic CorsFilter corsFilter() {\r\n    \t\tfinal UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n    \t\tfinal CorsConfiguration config = new CorsConfiguration();\r\n    \t\tconfig.setAllowCredentials(true);\r\n    \t\tconfig.addAllowedOrigin(&quot;*&quot;);\r\n    \t\tconfig.addAllowedHeader(&quot;*&quot;);\r\n    \t\tconfig.addAllowedMethod(&quot;*&quot;);\r\n    \t\tsource.registerCorsConfiguration(&quot;/v2/api-docs&quot;, config);\r\n    \t\treturn new CorsFilter(source);\r\n    \t}\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n    @EnableSwaggerApi(controllerPackage=&quot;tko.backend.spring.ctrl&quot;)\r\n    public class Application extends SpringBootServletInitializer {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(Application.class, args);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tprotected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\r\n    \t\treturn application.sources(Application.class, Initializer.class);\r\n    \t}\r\n    \r\n    \t\t\r\n    \t@Bean\r\n    \t@EnableSwaggerApi(controllerPackage=&quot;tko.backend.spring.SOMEOTHERSTUFF&quot;)\r\n    \tpublic String initSwagger() {\r\n    \t\treturn &quot;some dummy&quot;;\r\n    \t}\r\n    \r\n    }\r\n\r\nHow can I can rid of the annotation on *initSwagger()*?  Since the *Application.class* is not known to *SwaggerConfiguration* (Swagger Stuff it&#39;s in a separate lib) I can&#39;t use simple reflection like \r\n\r\n    Application.class.getAnnotation(EnableSwaggerApi.class)\r\n\r\n\r\n\r\n\r\n","title":"How to get a method&#39;s annotation value from a ProceedingJoinPoint?","body":"<p><strong>René's</strong> example is taking me a long way.  Also the explanation how I get ClassLevel Annotations.</p>\n\n<p>But then I can only read ClassLevel Annotations Values if I have previously used a method annotation with \"*@Around(\"execution(public * <em>(..)) &amp;&amp; @annotation(com.mycompany.MyAnnotation)\")\"</em>\"</p>\n\n<p>How can I get around this? How can I trigger an Aspect if a ClassLevel Annotation is set without going through a Method Execution?</p>\n\n<p>I want to write a ClassLevel Annotation like</p>\n\n<pre><code>@Documented\n@Retention(RetentionPolicy.RUNTIME)\n@Target(value = { ElementType.METHOD, ElementType.TYPE })\n@EnableSwagger2\n@Import(SwaggerConfiguration.class)\npublic @interface EnableSwaggerApi {\n    String controllerPackage() default \"foo.bar.ctrl\";\n}\n</code></pre>\n\n<p>It's importing the Configuration about \"SwaggerConfiguration\" where I want to receive the value of \"controllerPackage\"</p>\n\n<pre><code>@Aspect\npublic class SwaggerConfiguration {\n\n    @Value(\"${tom.swagger.controller.package:foo.bar.notset}\")\n    private String  controllerPackage;\n\n    @Value(\"${tom.swagger.api.version:1.0.0}\")\n    private String  apiVersion;\n\n    @Value(\"${spring.application.name:MyApplication}\")\n    private String  applicationName;\n\n    @Around(\"execution(public * *(..)) &amp;&amp; @annotation(EnableSwaggerApi)\")\n    public void procede(ProceedingJoinPoint call) throws Throwable {\n        MethodSignature signature = (MethodSignature) call.getSignature();\n        Method method = signature.getMethod();\n\n        Class&lt;?&gt; declaringClass = method.getDeclaringClass();\n        EnableSwaggerApi myAnnotation = declaringClass.getAnnotation(EnableSwaggerApi.class);\n        System.err.println(\"1 -&gt; \" + myAnnotation.controllerPackage());  // -&gt; tko.backend.spring.ctrl\n\n        myAnnotation = method.getAnnotation(EnableSwaggerApi.class);\n        System.err.println(\"2 -&gt; \" + myAnnotation.controllerPackage()); // -&gt; tko.backend.spring.SOMEOTHERSTUFF\n\n\n        // THIS WORKS, BUT JUST IF I USE THE @EnableSwaggerApi ON SOME METHOD!\n        // NOT ON CLASS\n\n    }\n\n    @Bean\n    public Docket swaggerApi() {\n        return new Docket(DocumentationType.SWAGGER_2)\n                .select()\n                .apis(RequestHandlerSelectors.basePackage(\"controllerPackage\"))\n                .paths(PathSelectors.any())\n                .build()\n                .apiInfo(new ApiInfoBuilder().version(apiVersion).title(applicationName).description(\"Documentation \" + applicationName + \" API v\" + apiVersion)\n                        .build());\n    }\n\n    @Bean\n    public CorsFilter corsFilter() {\n        final UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n        final CorsConfiguration config = new CorsConfiguration();\n        config.setAllowCredentials(true);\n        config.addAllowedOrigin(\"*\");\n        config.addAllowedHeader(\"*\");\n        config.addAllowedMethod(\"*\");\n        source.registerCorsConfiguration(\"/v2/api-docs\", config);\n        return new CorsFilter(source);\n    }\n}\n\n\n\n\n\n@EnableSwaggerApi(controllerPackage=\"tko.backend.spring.ctrl\")\npublic class Application extends SpringBootServletInitializer {\n\n    public static void main(String[] args) {\n        SpringApplication.run(Application.class, args);\n    }\n\n    @Override\n    protected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\n        return application.sources(Application.class, Initializer.class);\n    }\n\n\n    @Bean\n    @EnableSwaggerApi(controllerPackage=\"tko.backend.spring.SOMEOTHERSTUFF\")\n    public String initSwagger() {\n        return \"some dummy\";\n    }\n\n}\n</code></pre>\n\n<p>How can I can rid of the annotation on <em>initSwagger()</em>?  Since the <em>Application.class</em> is not known to <em>SwaggerConfiguration</em> (Swagger Stuff it's in a separate lib) I can't use simple reflection like </p>\n\n<pre><code>Application.class.getAnnotation(EnableSwaggerApi.class)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2938635,"reputation":1860,"user_id":2517035,"display_name":"Rajeev Rathor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1567757687,"creation_date":1567757687,"answer_id":57818172,"question_id":21275819,"body_markdown":"Find working code for Method Annotation and class level annotation using AspectJ/AOP\r\n\r\n       @Around(&quot;execution(* com.first.test.controller..*(..)))&quot;)\r\n        public Object profileAllMethods(ProceedingJoinPoint proceedingJoinPoint) throws Throwable\r\n        {\r\n            MethodSignature methodSignature = (MethodSignature) proceedingJoinPoint.getSignature();\r\n             \r\n            java.lang.reflect.Method method = methodSignature.getMethod();\r\n          \r\n      Annotation []methodAnnotations =  method.getDeclaredAnnotations();\r\n            System.out.println(&quot;===============&quot;+methodAnnotations[0].toString());\r\n            \r\n            Annotation []classAnnotations = proceedingJoinPoint.getTarget().getClass().getAnnotations();\r\n            \r\n            System.out.println(&quot;===Class Annotation : &quot;+classAnnotations[1].toString());\r\n           Object result = proceedingJoinPoint.proceed();\r\n            return result;\r\n        }","title":"How to get a method&#39;s annotation value from a ProceedingJoinPoint?","body":"<p>Find working code for Method Annotation and class level annotation using AspectJ/AOP</p>\n\n<pre><code>   @Around(\"execution(* com.first.test.controller..*(..)))\")\n    public Object profileAllMethods(ProceedingJoinPoint proceedingJoinPoint) throws Throwable\n    {\n        MethodSignature methodSignature = (MethodSignature) proceedingJoinPoint.getSignature();\n\n        java.lang.reflect.Method method = methodSignature.getMethod();\n\n  Annotation []methodAnnotations =  method.getDeclaredAnnotations();\n        System.out.println(\"===============\"+methodAnnotations[0].toString());\n\n        Annotation []classAnnotations = proceedingJoinPoint.getTarget().getClass().getAnnotations();\n\n        System.out.println(\"===Class Annotation : \"+classAnnotations[1].toString());\n       Object result = proceedingJoinPoint.proceed();\n        return result;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3269240,"reputation":5236,"user_id":2752969,"display_name":"Jefferson Lima"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1613938496,"creation_date":1613938496,"answer_id":66306653,"question_id":21275819,"body_markdown":"You can simply bind the method&#39;s as described in the [docs][1].\r\n\r\nMyAnnotation.java\r\n\r\n    @Target(ElementType.METHOD)\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    public @interface MyAnnotation {\r\n    \r\n    }\r\n\r\nSomeAspect.java\r\n\r\n    public class SomeAspect{\r\n    \r\n     @Around(&quot;execution(public * *(..)) &amp;&amp; @annotation(myAnnotation)&quot;)\r\n        public Object procede(ProceedingJoinPoint call, MyAnnotation myAnnotation) throws Throwable {\r\n    \r\n      //Some logic\r\n    \r\n      }\r\n    }\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#aop-ataspectj-advice-params-passing","title":"How to get a method&#39;s annotation value from a ProceedingJoinPoint?","body":"<p>You can simply bind the method's as described in the <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#aop-ataspectj-advice-params-passing\" rel=\"nofollow noreferrer\">docs</a>.</p>\n<p>MyAnnotation.java</p>\n<pre><code>@Target(ElementType.METHOD)\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface MyAnnotation {\n\n}\n</code></pre>\n<p>SomeAspect.java</p>\n<pre><code>public class SomeAspect{\n\n @Around(&quot;execution(public * *(..)) &amp;&amp; @annotation(myAnnotation)&quot;)\n    public Object procede(ProceedingJoinPoint call, MyAnnotation myAnnotation) throws Throwable {\n\n  //Some logic\n\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6575754,"reputation":9298,"user_id":5081877,"accept_rate":92,"display_name":"Yash"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696485211,"creation_date":1696339647,"answer_id":77222698,"question_id":21275819,"body_markdown":"#### [Using AspectJ with Spring Applications](https://docs.spring.io/spring-framework/reference/core/aop/using-aspectj.html) &lt;sup&gt;aspectjweaver 1.8.5&lt;/sup&gt;\r\n\r\nTo calculate the execution time of methods and access annotation values using AspectJ, AspectJ is a powerful framework for cross-cutting concerns in Java applications, including aspects like performance monitoring and method-level annotations. The following example is used to create an Aspect for Measuring Execution Time for the `@RequestMapping` annotation and get the `endpoint value` along with its execution time.\r\n\r\n```java\r\n@Aspect\r\n@Component\r\n@org.springframework.context.annotation.EnableAspectJAutoProxy\r\npublic class EndpointTimeAspect {\r\n\r\n\t//@Around(&quot;execution(* com.myapp.resource.*.*(..) )&quot;)\r\n\t@Around(&quot;@annotation(org.springframework.web.bind.annotation.RequestMapping)&quot;)\r\n\tpublic Object logExecutionTime(ProceedingJoinPoint joinPoint) throws Throwable {\r\n\t\tlong startTime = System.currentTimeMillis();\r\n\t\t\r\n\t\tObject result = joinPoint.proceed();\r\n\t\t\r\n\t\tlong endTime = System.currentTimeMillis();\r\n\t\tlong timeTaken = endTime - startTime;\r\n\t\t\r\n\t\torg.aspectj.lang.reflect.MethodSignature signature = (org.aspectj.lang.reflect.MethodSignature) joinPoint.getSignature();\r\n\t\tjava.lang.reflect.Method method = signature.getMethod();\r\n\t\tClass&lt;?&gt; declaringClass = method.getDeclaringClass();\r\n\t\t\r\n\t\torg.springframework.web.bind.annotation.RequestMapping ann = \r\n\t\t\t\tAnnotationUtils.findAnnotation(method, org.springframework.web.bind.annotation.RequestMapping.class);\r\n\t\t\r\n\t\tString[] value = ann.value();\r\n\t\tString path = &quot;&quot;;\r\n\t\tfor (String string : value) {\r\n\t\t\tpath += string;\r\n\t\t}\r\n\t\t\r\n\t\tSystem.out.println(&quot;[&quot;+ signature +&quot; ], Time taken for endpoint [ &quot; +path +&quot; ] : &quot; + timeTaken + &quot; ms&quot;);\r\n\t\t\r\n\t\treturn result;\r\n\t}\r\n}\r\n```\r\n\r\n&gt; [AspectJ to calculate execution time](https://stackoverflow.com/a/64398315/5081877)","title":"How to get a method&#39;s annotation value from a ProceedingJoinPoint?","body":"<h4><a href=\"https://docs.spring.io/spring-framework/reference/core/aop/using-aspectj.html\" rel=\"nofollow noreferrer\">Using AspectJ with Spring Applications</a> <sup>aspectjweaver 1.8.5</sup></h4>\n<p>To calculate the execution time of methods and access annotation values using AspectJ, AspectJ is a powerful framework for cross-cutting concerns in Java applications, including aspects like performance monitoring and method-level annotations. The following example is used to create an Aspect for Measuring Execution Time for the <code>@RequestMapping</code> annotation and get the <code>endpoint value</code> along with its execution time.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Aspect\n@Component\n@org.springframework.context.annotation.EnableAspectJAutoProxy\npublic class EndpointTimeAspect {\n\n    //@Around(&quot;execution(* com.myapp.resource.*.*(..) )&quot;)\n    @Around(&quot;@annotation(org.springframework.web.bind.annotation.RequestMapping)&quot;)\n    public Object logExecutionTime(ProceedingJoinPoint joinPoint) throws Throwable {\n        long startTime = System.currentTimeMillis();\n        \n        Object result = joinPoint.proceed();\n        \n        long endTime = System.currentTimeMillis();\n        long timeTaken = endTime - startTime;\n        \n        org.aspectj.lang.reflect.MethodSignature signature = (org.aspectj.lang.reflect.MethodSignature) joinPoint.getSignature();\n        java.lang.reflect.Method method = signature.getMethod();\n        Class&lt;?&gt; declaringClass = method.getDeclaringClass();\n        \n        org.springframework.web.bind.annotation.RequestMapping ann = \n                AnnotationUtils.findAnnotation(method, org.springframework.web.bind.annotation.RequestMapping.class);\n        \n        String[] value = ann.value();\n        String path = &quot;&quot;;\n        for (String string : value) {\n            path += string;\n        }\n        \n        System.out.println(&quot;[&quot;+ signature +&quot; ], Time taken for endpoint [ &quot; +path +&quot; ] : &quot; + timeTaken + &quot; ms&quot;);\n        \n        return result;\n    }\n}\n</code></pre>\n<blockquote>\n<p><a href=\"https://stackoverflow.com/a/64398315/5081877\">AspectJ to calculate execution time</a></p>\n</blockquote>\n"}],"owner":{"account_id":393770,"reputation":6625,"user_id":755806,"accept_rate":55,"display_name":"user755806"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108422,"favorite_count":0,"down_vote_count":2,"up_vote_count":122,"accepted_answer_id":21275958,"answer_count":7,"score":120,"last_activity_date":1696485211,"creation_date":1390372362,"question_id":21275819,"body_markdown":"I have below annotation.\r\n\r\nMyAnnotation.java\r\n------------------\r\n\r\n    @Target(ElementType.METHOD)\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    public @interface MyAnnotation {\r\n    \t\r\n    }\r\n\r\nSomeAspect.java\r\n------------------\r\n\r\n    public class SomeAspect{\r\n    \r\n     @Around(&quot;execution(public * *(..)) &amp;&amp; @annotation(com.mycompany.MyAnnotation)&quot;)\r\n    \tpublic Object procede(ProceedingJoinPoint call) throws Throwable {\r\n    \r\n      //Some logic\r\n    \r\n    }\r\n    \r\n    }\r\n\r\nSomeOther.java\r\n--------------\r\n\r\n    public class SomeOther{\r\n     \r\n    @MyAnnotation(&quot;ABC&quot;) \r\n    public String someMethod(String name){\r\n    \r\n    \r\n    }\r\n    \r\n    \r\n    }\r\n\r\nIn above class am passing &quot;**ABC**&quot; with in **@MyAnnotation**.\r\nNow how can i access &quot;**ABC**&quot; value in **procede** method of **SomeAspect.java** class?\r\n\r\n\r\nThanks!","title":"How to get a method&#39;s annotation value from a ProceedingJoinPoint?","body":"<p>I have below annotation.</p>\n\n<h2>MyAnnotation.java</h2>\n\n<pre><code>@Target(ElementType.METHOD)\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface MyAnnotation {\n\n}\n</code></pre>\n\n<h2>SomeAspect.java</h2>\n\n<pre><code>public class SomeAspect{\n\n @Around(\"execution(public * *(..)) &amp;&amp; @annotation(com.mycompany.MyAnnotation)\")\n    public Object procede(ProceedingJoinPoint call) throws Throwable {\n\n  //Some logic\n\n}\n\n}\n</code></pre>\n\n<h2>SomeOther.java</h2>\n\n<pre><code>public class SomeOther{\n\n@MyAnnotation(\"ABC\") \npublic String someMethod(String name){\n\n\n}\n\n\n}\n</code></pre>\n\n<p>In above class am passing \"<strong>ABC</strong>\" with in <strong>@MyAnnotation</strong>.\nNow how can i access \"<strong>ABC</strong>\" value in <strong>procede</strong> method of <strong>SomeAspect.java</strong> class?</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","gradle"],"comments":[{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":3,"creation_date":1436875056,"post_id":31405818,"comment_id":50785411,"body_markdown":"Read https://docs.gradle.org/current/dsl/org.gradle.api.tasks.bundling.Jar.html#org.gradle.api.tasks.bundling.Jar:archiveName and https://docs.gradle.org/current/dsl/org.gradle.api.tasks.bundling.Jar.html#org.gradle.api.tasks.bundling.Jar:baseName","body":"Read <a href=\"https://docs.gradle.org/current/dsl/org.gradle.api.tasks.bundling.Jar.html#org.gradle.api.tasks.bundling.Jar:archiveName\" rel=\"nofollow noreferrer\">docs.gradle.org/current/dsl/&hellip;</a> and <a href=\"https://docs.gradle.org/current/dsl/org.gradle.api.tasks.bundling.Jar.html#org.gradle.api.tasks.bundling.Jar:baseName\" rel=\"nofollow noreferrer\">docs.gradle.org/current/dsl/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":3113579,"reputation":2284,"user_id":2634854,"display_name":"andyberry88"},"down_vote_count":0,"up_vote_count":55,"is_accepted":true,"score":55,"last_activity_date":1462046866,"creation_date":1436878569,"answer_id":31407245,"question_id":31405818,"body_markdown":"`archiveName &#39;abc.jar&#39;` in your `jar` configuration is forcing the name to be &#39;abc.jar&#39;. The default format for the jar name is `${baseName}-${appendix}-${version}-${classifier}.${extension}`, where `baseName` is the name of your project and `version` is the version of the project. If you remove the archiveName line in your configuration you&#39;ll have the format you&#39;re after. If you want the name of the archive to be different from the project name set the `baseName` instead, e.g.\r\n\r\n    jar {\r\n        manifest{\r\n            attributes (&quot;Fw-Version&quot; : &quot;2.50.00&quot;, &quot;${parent.manifestSectionName}&quot;)\r\n        }\r\n        baseName &#39;abc&#39;\r\n    }\r\n\r\nSee https://docs.gradle.org/current/dsl/org.gradle.api.tasks.bundling.Jar.html#org.gradle.api.tasks.bundling.Jar:archiveName for more info on configuring the `jar` task.","title":"Want to specify jar name and version both in build.gradle","body":"<p><code>archiveName 'abc.jar'</code> in your <code>jar</code> configuration is forcing the name to be 'abc.jar'. The default format for the jar name is <code>${baseName}-${appendix}-${version}-${classifier}.${extension}</code>, where <code>baseName</code> is the name of your project and <code>version</code> is the version of the project. If you remove the archiveName line in your configuration you'll have the format you're after. If you want the name of the archive to be different from the project name set the <code>baseName</code> instead, e.g.</p>\n\n<pre><code>jar {\n    manifest{\n        attributes (\"Fw-Version\" : \"2.50.00\", \"${parent.manifestSectionName}\")\n    }\n    baseName 'abc'\n}\n</code></pre>\n\n<p>See <a href=\"https://docs.gradle.org/current/dsl/org.gradle.api.tasks.bundling.Jar.html#org.gradle.api.tasks.bundling.Jar:archiveName\" rel=\"noreferrer\">https://docs.gradle.org/current/dsl/org.gradle.api.tasks.bundling.Jar.html#org.gradle.api.tasks.bundling.Jar:archiveName</a> for more info on configuring the <code>jar</code> task.</p>\n"},{"tags":[],"owner":{"account_id":55691,"reputation":7677,"user_id":166850,"accept_rate":67,"display_name":"RMorrisey"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1542299468,"creation_date":1542299468,"answer_id":53323925,"question_id":31405818,"body_markdown":"If you want to rename the JAR, source JAR and javadoc JAR with a single setting, while still including the classifier and version, set ```archiveBaseName``` at the top level.","title":"Want to specify jar name and version both in build.gradle","body":"<p>If you want to rename the JAR, source JAR and javadoc JAR with a single setting, while still including the classifier and version, set <code>archiveBaseName</code> at the top level.</p>\n"},{"tags":[],"owner":{"account_id":3106126,"reputation":31241,"user_id":2628868,"accept_rate":84,"display_name":"Dolphin"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1552887220,"creation_date":1552887220,"answer_id":55215054,"question_id":31405818,"body_markdown":"Read the [doc of gradle][1],the baseName and archiveName is deprecated,you should use archivesBaseName in project level like this:\r\n\r\n\r\n    project(&quot;:web&quot;) {\r\n        description = &quot;web&quot;\r\n        archivesBaseName = &quot;your-project-name-&quot; + getVersionCode()\r\n    \r\n        jar {\r\n            // Will include every single one of your dependencies, project or not\r\n            from {\r\n                configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) }\r\n            }\r\n        }\r\n    }\r\n\r\nIt works fine for my project. I hope it will be helpful for your project.\r\n\r\n\r\n  [1]: https://docs.gradle.org/current/dsl/org.gradle.api.tasks.bundling.Jar.html#org.gradle.api.tasks.bundling.Jar:archiveName","title":"Want to specify jar name and version both in build.gradle","body":"<p>Read the <a href=\"https://docs.gradle.org/current/dsl/org.gradle.api.tasks.bundling.Jar.html#org.gradle.api.tasks.bundling.Jar:archiveName\" rel=\"nofollow noreferrer\">doc of gradle</a>,the baseName and archiveName is deprecated,you should use archivesBaseName in project level like this:</p>\n\n<pre><code>project(\":web\") {\n    description = \"web\"\n    archivesBaseName = \"your-project-name-\" + getVersionCode()\n\n    jar {\n        // Will include every single one of your dependencies, project or not\n        from {\n            configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) }\n        }\n    }\n}\n</code></pre>\n\n<p>It works fine for my project. I hope it will be helpful for your project.</p>\n"},{"tags":[],"owner":{"account_id":11167337,"reputation":2730,"user_id":8195572,"display_name":"Ahmed Kamal"},"down_vote_count":1,"up_vote_count":36,"is_accepted":false,"score":35,"last_activity_date":1696484678,"creation_date":1558172342,"answer_id":56197735,"question_id":31405818,"body_markdown":"For **Gradle 5+**\r\n\r\n`build.gradle` groovy DSL\r\n\r\n```\r\narchiveBaseName = &#39;foo&#39;\r\n```\r\n\r\n`build.gradle.kts` kotlin DSL\r\n\r\n```\r\narchiveBaseName.set(&quot;foo&quot;) // Notice the double quotes\r\n```\r\n","title":"Want to specify jar name and version both in build.gradle","body":"<p>For <strong>Gradle 5+</strong></p>\n<p><code>build.gradle</code> groovy DSL</p>\n<pre><code>archiveBaseName = 'foo'\n</code></pre>\n<p><code>build.gradle.kts</code> kotlin DSL</p>\n<pre><code>archiveBaseName.set(&quot;foo&quot;) // Notice the double quotes\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4054561,"reputation":19,"user_id":3333003,"display_name":"TyCy"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1605090770,"creation_date":1605090019,"answer_id":64784550,"question_id":31405818,"body_markdown":"For Gradle 6.x\r\n\r\nSet the version to empty.\r\n\r\n - version = &#39;&#39; \r\n - project.archivesBaseName - It is the way.\r\n\r\n\r\n\r\nMore on their [DOC](https://docs.gradle.org/current/dsl/org.gradle.api.tasks.bundling.Jar.html#org.gradle.api.tasks.bundling.Jar:archiveBaseName &quot;Gradle Documentation&quot;)!","title":"Want to specify jar name and version both in build.gradle","body":"<p>For Gradle 6.x</p>\n<p>Set the version to empty.</p>\n<ul>\n<li>version = ''</li>\n<li>project.archivesBaseName - It is the way.</li>\n</ul>\n<p>More on their <a href=\"https://docs.gradle.org/current/dsl/org.gradle.api.tasks.bundling.Jar.html#org.gradle.api.tasks.bundling.Jar:archiveBaseName\" rel=\"nofollow noreferrer\" title=\"Gradle Documentation\">DOC</a>!</p>\n"},{"tags":[],"owner":{"account_id":5462594,"reputation":227,"user_id":4344206,"display_name":"Aung Aung"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1634997661,"creation_date":1634997661,"answer_id":69688836,"question_id":31405818,"body_markdown":"\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;pre&gt;&lt;code&gt;\r\n    apply plugin: &#39;java&#39;\r\n    apply plugin: &#39;eclipse&#39;\r\n    apply plugin: &#39;application&#39;\r\n\r\n\r\n    jar {\r\n        archivesBaseName = archivesBaseName + &#39;-&#39; + version\r\n    }\r\n\r\n    &lt;/pre&gt;&lt;/code&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nFor me I just add above","title":"Want to specify jar name and version both in build.gradle","body":"<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;pre&gt;&lt;code&gt;\napply plugin: 'java'\napply plugin: 'eclipse'\napply plugin: 'application'\n\n\njar {\n    archivesBaseName = archivesBaseName + '-' + version\n}\n\n&lt;/pre&gt;&lt;/code&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>For me I just add above</p>\n"},{"tags":[],"owner":{"account_id":18142105,"reputation":340,"user_id":13195861,"display_name":"Toggy Smith"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1649101765,"creation_date":1649101765,"answer_id":71743019,"question_id":31405818,"body_markdown":"I wanted to achieve this in Kotlin DSL and this was the first question that came up on Google for me. The answers that involved Kotlin DSL did not work but I managed to find a solution.\r\n\r\n---\r\n\r\nCreate this in the `build.gradle.kts` file:\r\n\r\n    tasks.jar {\r\n      manifest {\r\n        [THE LINES BELOW WILL BE INSERTED HERE]\r\n      }\r\n    }\r\n\r\n---\r\n\r\n***Assume that the project name is `project` and the project version is `1.0`.***\r\n\r\nTo change the base name of the jar file:\r\n\r\n    archiveBaseName.set(&quot;name&quot;) // .jar name: name-1.0.jar\r\n\r\nTo change the entire jar file name, write this instead:\r\n\r\n    archiveFileName.set(&quot;name.jar&quot;) // .jar name: name.jar\r\n\r\n---\r\n\r\nUse `${project.name}` and `${project.version}` to insert the project name and version respectively, e.g:\r\n\r\n    archiveFileName.set(&quot;${project.name}-${project.version}.jar&quot;) // .jar name: project-1.0.jar","title":"Want to specify jar name and version both in build.gradle","body":"<p>I wanted to achieve this in Kotlin DSL and this was the first question that came up on Google for me. The answers that involved Kotlin DSL did not work but I managed to find a solution.</p>\n<hr />\n<p>Create this in the <code>build.gradle.kts</code> file:</p>\n<pre><code>tasks.jar {\n  manifest {\n    [THE LINES BELOW WILL BE INSERTED HERE]\n  }\n}\n</code></pre>\n<hr />\n<p><em><strong>Assume that the project name is <code>project</code> and the project version is <code>1.0</code>.</strong></em></p>\n<p>To change the base name of the jar file:</p>\n<pre><code>archiveBaseName.set(&quot;name&quot;) // .jar name: name-1.0.jar\n</code></pre>\n<p>To change the entire jar file name, write this instead:</p>\n<pre><code>archiveFileName.set(&quot;name.jar&quot;) // .jar name: name.jar\n</code></pre>\n<hr />\n<p>Use <code>${project.name}</code> and <code>${project.version}</code> to insert the project name and version respectively, e.g:</p>\n<pre><code>archiveFileName.set(&quot;${project.name}-${project.version}.jar&quot;) // .jar name: project-1.0.jar\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13417286,"reputation":51,"user_id":9681322,"display_name":"The Freezing Chicken"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1671895968,"creation_date":1671895968,"answer_id":74908617,"question_id":31405818,"body_markdown":"**For Gradle 5.x, 6.x and 7.x**&lt;br&gt;\r\n(tested personally on Gradle 7.6 and verified the documentation of version 5)\r\n\r\nIn more recent versions of Gradle the results described by the OP are achieved automatically by the default building script if you specify the `version` property in your module `build.gradle` file (commonly seen right after your `plugin` block and before any other blocks).&lt;br&gt;\r\nSo it would look something like this:\r\n```\r\nplugins {\r\n    // your plugins...\r\n}\r\n\r\n// This is the string you want to have.\r\nversion = &#39;1.0.0&#39;\r\n\r\ndependencies {\r\n    // your dependencies\r\n}\r\n```\r\n`version` accepts any string, so you can also append pre-release strings like `1.0.0-beta` if you need to.\r\n\r\n\r\nHowever, one more thing to note is that by default Gradle uses the module name as the base name or your archives and jar files. If your module name matches the name of your library this shouldn&#39;t be a problem, but a common scenario it to work with sub-modules where you usually have a `lib` or `core` module, and in this case your jar file will end up being named something like `lib-1.0.0.jar`. To avoid this, you can specify the `archivesBaseName` property. You can put it right below (or above) your `version`:\r\n```\r\nversion = &#39;1.0.0&#39;\r\narchivesBaseName = &#39;abc&#39;\r\n```\r\nThis will correctly generate a `abc-1.0.0.jar` file. &lt;br&gt;\r\nNote that `archivesBaseName` **uses the *plural*** `archives`, and it comes from the [Project][1] type, and **NOT the *singular*** form `archive` that comes from the `jar` task.\r\n\r\nBut, if you need more granularity other than what described above, you will indeed need to use the [`jar`][2] task, similarly to how the OP originally intended to.\r\n\r\n\r\n  [1]: https://docs.gradle.org/current/dsl/org.gradle.api.Project.html#org.gradle.api.Project:archivesBaseName\r\n  [2]: https://docs.gradle.org/current/dsl/org.gradle.api.tasks.bundling.Jar.html","title":"Want to specify jar name and version both in build.gradle","body":"<p><strong>For Gradle 5.x, 6.x and 7.x</strong><br>\n(tested personally on Gradle 7.6 and verified the documentation of version 5)</p>\n<p>In more recent versions of Gradle the results described by the OP are achieved automatically by the default building script if you specify the <code>version</code> property in your module <code>build.gradle</code> file (commonly seen right after your <code>plugin</code> block and before any other blocks).<br>\nSo it would look something like this:</p>\n<pre><code>plugins {\n    // your plugins...\n}\n\n// This is the string you want to have.\nversion = '1.0.0'\n\ndependencies {\n    // your dependencies\n}\n</code></pre>\n<p><code>version</code> accepts any string, so you can also append pre-release strings like <code>1.0.0-beta</code> if you need to.</p>\n<p>However, one more thing to note is that by default Gradle uses the module name as the base name or your archives and jar files. If your module name matches the name of your library this shouldn't be a problem, but a common scenario it to work with sub-modules where you usually have a <code>lib</code> or <code>core</code> module, and in this case your jar file will end up being named something like <code>lib-1.0.0.jar</code>. To avoid this, you can specify the <code>archivesBaseName</code> property. You can put it right below (or above) your <code>version</code>:</p>\n<pre><code>version = '1.0.0'\narchivesBaseName = 'abc'\n</code></pre>\n<p>This will correctly generate a <code>abc-1.0.0.jar</code> file. <br>\nNote that <code>archivesBaseName</code> <strong>uses the <em>plural</em></strong> <code>archives</code>, and it comes from the <a href=\"https://docs.gradle.org/current/dsl/org.gradle.api.Project.html#org.gradle.api.Project:archivesBaseName\" rel=\"nofollow noreferrer\">Project</a> type, and <strong>NOT the <em>singular</em></strong> form <code>archive</code> that comes from the <code>jar</code> task.</p>\n<p>But, if you need more granularity other than what described above, you will indeed need to use the <a href=\"https://docs.gradle.org/current/dsl/org.gradle.api.tasks.bundling.Jar.html\" rel=\"nofollow noreferrer\"><code>jar</code></a> task, similarly to how the OP originally intended to.</p>\n"},{"tags":[],"owner":{"account_id":16813178,"reputation":313,"user_id":12155702,"display_name":"Sumit Ojha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674138652,"creation_date":1674138652,"answer_id":75173858,"question_id":31405818,"body_markdown":"Add Apk base name in gradle\r\n\r\n    archivesBaseName = &quot;appname-${new Date().format(&#39;dd-MM-yy-HHmm&#39;)}&quot;\r\n\r\nGradle file\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.example.app&quot;\r\n        minSdk 23\r\n        targetSdk 33\r\n        versionCode 5\r\n        versionName &quot;1.0.0&quot;\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n        archivesBaseName = &quot;appname-${new Date().format(&#39;dd-MM-yy-HHmm&#39;)}&quot;\r\n        resValue &#39;string&#39;, &quot;authority&quot;, applicationId + &quot;.fileprovider&quot;\r\n    }","title":"Want to specify jar name and version both in build.gradle","body":"<p>Add Apk base name in gradle</p>\n<pre><code>archivesBaseName = &quot;appname-${new Date().format('dd-MM-yy-HHmm')}&quot;\n</code></pre>\n<p>Gradle file</p>\n<pre><code>defaultConfig {\n    applicationId &quot;com.example.app&quot;\n    minSdk 23\n    targetSdk 33\n    versionCode 5\n    versionName &quot;1.0.0&quot;\n    testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    archivesBaseName = &quot;appname-${new Date().format('dd-MM-yy-HHmm')}&quot;\n    resValue 'string', &quot;authority&quot;, applicationId + &quot;.fileprovider&quot;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2264978,"reputation":3734,"user_id":1993937,"accept_rate":47,"display_name":"TheJeff"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687982691,"creation_date":1687982691,"answer_id":76576384,"question_id":31405818,"body_markdown":"In `build.gradle.kts`, I was able to customize jar naming as follows:\r\n\r\n    tasks.jar {\r\n        archiveFileName.set(&quot;application.jar&quot;)\r\n    }\r\n    \r\n    tasks.bootJar {\r\n        archiveFileName.set(&quot;application-plain.jar&quot;)\r\n    }","title":"Want to specify jar name and version both in build.gradle","body":"<p>In <code>build.gradle.kts</code>, I was able to customize jar naming as follows:</p>\n<pre><code>tasks.jar {\n    archiveFileName.set(&quot;application.jar&quot;)\n}\n\ntasks.bootJar {\n    archiveFileName.set(&quot;application-plain.jar&quot;)\n}\n</code></pre>\n"}],"owner":{"account_id":5202901,"reputation":791,"user_id":4161744,"accept_rate":57,"display_name":"amuser"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110032,"favorite_count":0,"down_vote_count":0,"up_vote_count":54,"accepted_answer_id":31407245,"answer_count":10,"score":54,"last_activity_date":1696484678,"creation_date":1436874763,"question_id":31405818,"body_markdown":"I want to specify the jar name and version in build.gradle, so my build.gradle looks like below.\r\n\r\n    apply plugin: &#39;java&#39;\r\n    \r\n    version = &quot;1.00.00&quot;\r\n    \r\n     dependencies { \r\n    \t compile files(&#39;../../lib/abc.jar&#39;) \r\n    } \r\n    \r\n    jar{\r\n    \tmanifest{\r\n    \t\tattributes (&quot;Fw-Version&quot; : &quot;2.50.00&quot;, &quot;${parent.manifestSectionName}&quot;)\r\n    \t\r\n    \t}\r\n    \tarchiveName &#39;abc.jar&#39;\r\n    }\r\n\r\nSo when I do \r\n\r\n**gradle clean build**,  what I was expecting was that the generated jar name would be abc-1.00.00.jar\r\n\r\nBut its not happening, the output jar name is getting as abc.jar only and its just ignoring the version. I want to specify both jar name and version, so how can I achieve that?","title":"Want to specify jar name and version both in build.gradle","body":"<p>I want to specify the jar name and version in build.gradle, so my build.gradle looks like below.</p>\n\n<pre><code>apply plugin: 'java'\n\nversion = \"1.00.00\"\n\n dependencies { \n     compile files('../../lib/abc.jar') \n} \n\njar{\n    manifest{\n        attributes (\"Fw-Version\" : \"2.50.00\", \"${parent.manifestSectionName}\")\n\n    }\n    archiveName 'abc.jar'\n}\n</code></pre>\n\n<p>So when I do </p>\n\n<p><strong>gradle clean build</strong>,  what I was expecting was that the generated jar name would be abc-1.00.00.jar</p>\n\n<p>But its not happening, the output jar name is getting as abc.jar only and its just ignoring the version. I want to specify both jar name and version, so how can I achieve that?</p>\n"},{"tags":["java","amazon-s3","mocking","aws-sdk","stub"],"comments":[{"owner":{"account_id":23938771,"reputation":60,"user_id":17932189,"display_name":"Andre"},"score":0,"creation_date":1642412900,"post_id":55511235,"comment_id":125055116,"body_markdown":"Well, you can wrap the library by calling it a connector or a service and do unit-test by mocking your own class. This will only work for simple unit-tests.","body":"Well, you can wrap the library by calling it a connector or a service and do unit-test by mocking your own class. This will only work for simple unit-tests."}],"answers":[{"tags":[],"owner":{"account_id":390441,"reputation":32048,"user_id":750510,"accept_rate":98,"display_name":"madhead"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1642424113,"creation_date":1569489382,"answer_id":58113452,"question_id":55511235,"body_markdown":"You shouldn&#39;t re-implement the S3 API yourself. Instead, use one of the existing tools like [localstack](https://github.com/localstack/localstack), [MinIO](https://min.io), [OpenStack Swift](https://docs.openstack.org/swift/latest/s3_compat.html) and others. They all provide S3-compatible API (though some dif ferences can be). The best one for tests is localstack, IMHO.It is available as a [Docker image](https://hub.docker.com/r/localstack/localstack), so you can use it locally or in your CI pipelines.\r\n\r\nNot to the Java part of your question. If you are a lucky user of JUnit 5 I would recommend you to use [`aws-junit5`](https://madhead.me/posts/aws-junit5), a set of JUnit 5 extensions for AWS. And, yes, I am it&#39;s author. These extensions can be used to inject clients for AWS services provided by tools like localstack (actually, any AWS-compatible API is supported, including real AWS itself). Both AWS Java SDK v 2.x and v 1.x are supported. You can use `aws-junit5` to inject clients for S3, DynamoDB, Kinesis, SES, SNS and SQS.\r\n\r\nRead more in the [user guide](https://madhead.github.io/aws-junit5/asciidoc), it even has a section about [CI configuration with GitHub](https://madhead.github.io/aws-junit5/asciidoc/#_bonus_ci_with_github).","title":"How to mock AWS SDK2 (S3) in Java","body":"<p>You shouldn't re-implement the S3 API yourself. Instead, use one of the existing tools like <a href=\"https://github.com/localstack/localstack\" rel=\"nofollow noreferrer\">localstack</a>, <a href=\"https://min.io\" rel=\"nofollow noreferrer\">MinIO</a>, <a href=\"https://docs.openstack.org/swift/latest/s3_compat.html\" rel=\"nofollow noreferrer\">OpenStack Swift</a> and others. They all provide S3-compatible API (though some dif ferences can be). The best one for tests is localstack, IMHO.It is available as a <a href=\"https://hub.docker.com/r/localstack/localstack\" rel=\"nofollow noreferrer\">Docker image</a>, so you can use it locally or in your CI pipelines.</p>\n<p>Not to the Java part of your question. If you are a lucky user of JUnit 5 I would recommend you to use <a href=\"https://madhead.me/posts/aws-junit5\" rel=\"nofollow noreferrer\"><code>aws-junit5</code></a>, a set of JUnit 5 extensions for AWS. And, yes, I am it's author. These extensions can be used to inject clients for AWS services provided by tools like localstack (actually, any AWS-compatible API is supported, including real AWS itself). Both AWS Java SDK v 2.x and v 1.x are supported. You can use <code>aws-junit5</code> to inject clients for S3, DynamoDB, Kinesis, SES, SNS and SQS.</p>\n<p>Read more in the <a href=\"https://madhead.github.io/aws-junit5/asciidoc\" rel=\"nofollow noreferrer\">user guide</a>, it even has a section about <a href=\"https://madhead.github.io/aws-junit5/asciidoc/#_bonus_ci_with_github\" rel=\"nofollow noreferrer\">CI configuration with GitHub</a>.</p>\n"},{"tags":[],"owner":{"account_id":97294,"reputation":199,"user_id":263983,"display_name":"onetom"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696484576,"creation_date":1696484576,"answer_id":77234504,"question_id":55511235,"body_markdown":"Since 2023-06-01 there is another option available, IF you are just using S3 in such simple ways, which can be expressed as file system manipulation:\r\nhttps://github.com/awslabs/aws-java-nio-spi-for-s3\r\n\r\nThen write your program as if it would be just talking to a file system (via `java.nio.file.Path`s) and use https://github.com/google/jimfs to test it against an in-memory file system.\r\n\r\nDuring actual use, you can switch between local file `Path.of(new URI(&quot;file://...&quot;))` usage or S3 `Path.of(new URI(&quot;s3://&lt;bucket&gt;/...&quot;))` usage.","title":"How to mock AWS SDK2 (S3) in Java","body":"<p>Since 2023-06-01 there is another option available, IF you are just using S3 in such simple ways, which can be expressed as file system manipulation:\n<a href=\"https://github.com/awslabs/aws-java-nio-spi-for-s3\" rel=\"nofollow noreferrer\">https://github.com/awslabs/aws-java-nio-spi-for-s3</a></p>\n<p>Then write your program as if it would be just talking to a file system (via <code>java.nio.file.Path</code>s) and use <a href=\"https://github.com/google/jimfs\" rel=\"nofollow noreferrer\">https://github.com/google/jimfs</a> to test it against an in-memory file system.</p>\n<p>During actual use, you can switch between local file <code>Path.of(new URI(&quot;file://...&quot;))</code> usage or S3 <code>Path.of(new URI(&quot;s3://&lt;bucket&gt;/...&quot;))</code> usage.</p>\n"}],"owner":{"account_id":2796857,"reputation":2787,"user_id":2405937,"accept_rate":89,"display_name":"G&#225;bor Csik&#243;s"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9286,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":58113452,"answer_count":2,"score":9,"last_activity_date":1696484576,"creation_date":1554366531,"question_id":55511235,"body_markdown":"So I want to mock AWS SDK 2.x (only S3 service), so that test upload and download files to a bucket without a real AWS. I&#39;m looking for a Java implementations.\r\n\r\nI found a lot what implements (Adobe S3Mock ...etc), but all of them uses AWS SDK 1.x.","title":"How to mock AWS SDK2 (S3) in Java","body":"<p>So I want to mock AWS SDK 2.x (only S3 service), so that test upload and download files to a bucket without a real AWS. I'm looking for a Java implementations.</p>\n\n<p>I found a lot what implements (Adobe S3Mock ...etc), but all of them uses AWS SDK 1.x.</p>\n"},{"tags":["java","spring","spring-boot","junit"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1696430930,"post_id":77230450,"comment_id":136152440,"body_markdown":"Remove the methods and simply add `@Sql(&quot;classpath:sql/inserClient.sql&quot;)`. See the documentation for mor einformation https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/context/jdbc/Sql.html. In short it is supported by Spring Test and you don&#39;t really need to write the before/after test methods.","body":"Remove the methods and simply add <code>@Sql(&quot;classpath:sql&#47;inserClient.sql&quot;)</code>. See the documentation for mor einformation <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/context/jdbc/Sql.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-framework/docs/current/javadoc-api/org&zwnj;&#8203;/&hellip;</a>. In short it is supported by Spring Test and you don&#39;t really need to write the before/after test methods."},{"owner":{"account_id":21806817,"reputation":57,"user_id":16104897,"display_name":"Andrea Nobili"},"score":0,"creation_date":1696435136,"post_id":77230450,"comment_id":136153362,"body_markdown":"I annoted my test method with this Sql annotation but I am obtaining this exception (I suppose that the specified path could be wrong). Some further idea?: org.springframework.jdbc.datasource.init.CannotReadScriptException: Cannot read SQL script from class path resource [sql/inserClient.sql]","body":"I annoted my test method with this Sql annotation but I am obtaining this exception (I suppose that the specified path could be wrong). Some further idea?: org.springframework.jdbc.datasource.init.CannotReadScriptExc&zwnj;&#8203;eption: Cannot read SQL script from class path resource [sql/inserClient.sql]"},{"owner":{"account_id":21806817,"reputation":57,"user_id":16104897,"display_name":"Andrea Nobili"},"score":0,"creation_date":1696435933,"post_id":77230450,"comment_id":136153540,"body_markdown":"Solved.Tnx a lot @M.Deinum If you put as answer I will be happu to accept it","body":"Solved.Tnx a lot @M.Deinum If you put as answer I will be happu to accept it"}],"answers":[{"tags":[],"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1696484277,"creation_date":1696484277,"answer_id":77234486,"question_id":77230450,"body_markdown":"Executing SQL script before/after a test method is supported out-of-the-box by the Spring Test Framework. For this you can use the [`@Sql`][1] annotation. You can place it on the class or method (or a combination of both). Using the `executionPhase` you can specify when to execute the SQL (before or after the method execution). \r\n\r\n```java\r\n@Sql(&quot;classpath:/sql/insertClient.sql&quot;)\r\n```\r\n\r\nWill execute this script for you. \r\n\r\n[1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/context/jdbc/Sql.html","title":"How to correctly retrieve the SQL INSERT code from a .sql file into the @BeforeEach annotated method of a Spring Boot Junit class?","body":"<p>Executing SQL script before/after a test method is supported out-of-the-box by the Spring Test Framework. For this you can use the <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/context/jdbc/Sql.html\" rel=\"nofollow noreferrer\"><code>@Sql</code></a> annotation. You can place it on the class or method (or a combination of both). Using the <code>executionPhase</code> you can specify when to execute the SQL (before or after the method execution).</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Sql(&quot;classpath:/sql/insertClient.sql&quot;)\n</code></pre>\n<p>Will execute this script for you.</p>\n"}],"owner":{"account_id":21806817,"reputation":57,"user_id":16104897,"display_name":"Andrea Nobili"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77234486,"answer_count":1,"score":0,"last_activity_date":1696484277,"creation_date":1696429564,"question_id":77230450,"body_markdown":"I am working on a Spring Boot application and I am finding some difficulties with the following topic:\r\n\r\nI have this JUnit test class testing a service:\r\n\r\npackage com.fivebits.gestionale.service;\r\n\r\n    import static org.junit.jupiter.api.Assertions.assertFalse;\r\n    \r\n    import java.sql.SQLException;\r\n    import java.util.List;\r\n    import org.junit.jupiter.api.AfterEach;\r\n    import org.junit.jupiter.api.BeforeEach;\r\n    import org.junit.jupiter.api.Test;\r\n    \r\n    \r\n    import org.junit.jupiter.api.Test;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.beans.factory.annotation.Value;\r\n    import org.springframework.boot.test.context.SpringBootTest;\r\n    import org.springframework.core.io.ClassPathResource;\r\n    import org.springframework.jdbc.core.JdbcTemplate;\r\n    import org.springframework.jdbc.datasource.init.ScriptException;\r\n    import org.springframework.jdbc.datasource.init.ScriptUtils;\r\n    import org.springframework.test.context.TestPropertySource;\r\n    \r\n    import com.fivebits.gestionale.model.Client;\r\n    \r\n    @TestPropertySource(&quot;/application-test.properties&quot;)\r\n    @SpringBootTest\r\n    public class ClientServiceTest {\r\n    \t\r\n    \t@Autowired\r\n    \tprivate ClientService clientService;\r\n    \t\r\n    \t@Autowired\r\n        private JdbcTemplate jdbc;\r\n    \t\r\n    \t@Value(&quot;${sql.script.create.client}&quot;)\r\n    \tprivate String sqlAddClients;\r\n    \t\r\n    \t@Value(&quot;${sql.script.delete.client}&quot;)\r\n        private String sqlDeleteClient;\r\n    \t\r\n    \t\r\n    \t@BeforeEach\r\n        public void setupDatabase() throws ScriptException, SQLException {\r\n            jdbc.execute(sqlAddClients);\r\n    \t\t\r\n        }\r\n    \t\r\n    \t@Test\r\n    \tvoid getClientsListTest() {\r\n    \t\t\r\n    \t\tList&lt;Client&gt; clientsList = clientService.getClientsList();\r\n    \t\r\n    \t\t// Check that this is not an empty list:\r\n            assertFalse(clientsList.isEmpty());\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \t @AfterEach\r\n    \t    public void setupAfterTransaction() {\r\n    \t        jdbc.execute(sqlDeleteClient);\r\n    \t    }\r\n    \t\r\n    \r\n    }\r\n\r\nIn particular it contains this method that is executed before all the test methods to set up the DB content:\r\n\r\n\t@BeforeEach\r\n\tpublic void setupDatabase() throws ScriptException, SQLException {\r\n\t\tjdbc.execute(sqlAddClients);\r\n\t\t\r\n\t}\r\n\r\nAnd here it is my problem. I am calling this **jdbc.execute(sqlAddClients);** in order to insert demo data into my DB.\r\n\r\nAs you can see this clas referers to this properties file (and I am using the **sql.script.create.client** property in order to retrieve the SQL statment to populate my DB.\r\n\r\n    @TestPropertySource(&quot;/application-test.properties&quot;)\r\n\r\nInto this **application-test.properties** I have something like this:\r\n\r\n    spring.datasource.url=jdbc:postgresql://localhost:5432/gestionale_interno_db\r\n    spring.datasource.username=postgres\r\n    spring.datasource.password=mypswd\r\n    spring.jpa.show-sql=true\r\n    \r\n    ## Hibernate Properties\r\n    # The SQL dialect makes Hibernate generate better SQL for the chosen database\r\n    spring.jpa.properties.hibernate.dialect = org.hibernate.dialect.PostgreSQLDialect\r\n    \r\n    # Hibernate ddl auto (create, create-drop, validate, update)\r\n    spring.jpa.hibernate.ddl-auto = update\r\n    \r\n    server.port=8080\r\n    \r\n    \r\n    sql.script.create.client=classpath:sql/inserClient.sql\r\n    #sql.script.create.client=INSERT INTO client (name, vat_number, address, email) VALUES (&#39;Cliente 1&#39;, &#39;VAT001&#39;, &#39;Indirizzo Cliente 1&#39;, &#39;cliente1@email.com&#39;);\r\n    \r\n    \r\n    sql.script.delete.client=DELETE FROM client\r\n\r\nThe thing that interest me is this line:\r\n\r\n    sql.script.create.client=classpath:sql/inserClient.sql\r\n\r\nNOTE: mocking the SQL insert statement (as done in the following commented line) it works fine. I am trying to avoid to put the SQL statement directly into this property file in order to mantein it clean..so I am trying to retrieve it in the previous way directly from this **sql/inserClient.sql** file. This one:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThis file contains the following SQL insert statement:\r\n\r\n    -- Inserisci il primo cliente\r\n    INSERT INTO client (name, vat_number, address, email)\r\n    VALUES (&#39;Cliente 1&#39;, &#39;VAT001&#39;, &#39;Indirizzo Cliente 1&#39;, &#39;cliente1@email.com&#39;);\r\n    \r\n    -- Inserisci il secondo cliente\r\n    INSERT INTO client (name, vat_number, address, email)\r\n    VALUES (&#39;Cliente 2&#39;, &#39;VAT002&#39;, &#39;Indirizzo Cliente 2&#39;, &#39;cliente2@email.com&#39;);\r\n    \r\n    -- Inserisci il terzo cliente\r\n    INSERT INTO client (name, vat_number, address, email)\r\n    VALUES (&#39;Cliente 3&#39;, &#39;VAT003&#39;, &#39;Indirizzo Cliente 3&#39;, &#39;cliente3@email.com&#39;);\r\n    \r\n    -- Inserisci il quarto cliente\r\n    INSERT INTO client (name, vat_number, address, email)\r\n    VALUES (&#39;Cliente 4&#39;, &#39;VAT004&#39;, &#39;Indirizzo Cliente 4&#39;, &#39;cliente4@email.com&#39;);\r\n    \r\n    -- Inserisci il quinto cliente\r\n    INSERT INTO client (name, vat_number, address, email)\r\n    VALUES (&#39;Cliente 5&#39;, &#39;VAT005&#39;, &#39;Indirizzo Cliente 5&#39;, &#39;cliente5@email.com&#39;);\r\n    \r\n    -- Inserisci il sesto cliente\r\n    INSERT INTO client (name, vat_number, address, email)\r\n    VALUES (&#39;Cliente 6&#39;, &#39;VAT006&#39;, &#39;Indirizzo Cliente 6&#39;, &#39;cliente6@email.com&#39;);\r\n    \r\n    -- Inserisci il settimo cliente\r\n    INSERT INTO client (name, vat_number, address, email)\r\n    VALUES (&#39;Cliente 7&#39;, &#39;VAT007&#39;, &#39;Indirizzo Cliente 7&#39;, &#39;cliente7@email.com&#39;);\r\n    \r\n    -- Inserisci l&#39;ottavo cliente\r\n    INSERT INTO client (name, vat_number, address, email)\r\n    VALUES (&#39;Cliente 8&#39;, &#39;VAT008&#39;, &#39;Indirizzo Cliente 8&#39;, &#39;cliente8@email.com&#39;);\r\n    \r\n    -- Inserisci il nono cliente\r\n    INSERT INTO client (name, vat_number, address, email)\r\n    VALUES (&#39;Cliente 9&#39;, &#39;VAT009&#39;, &#39;Indirizzo Cliente 9&#39;, &#39;cliente9@email.com&#39;);\r\n    \r\n    -- Inserisci il decimo cliente\r\n    INSERT INTO client (name, vat_number, address, email)\r\n    VALUES (&#39;Cliente 10&#39;, &#39;VAT010&#39;, &#39;Indirizzo Cliente 10&#39;, &#39;cliente10@email.com&#39;);\r\n\r\nthe problem is that running my JUnit test class, it is going into error when this method is performed:\r\n\r\n\t@BeforeEach\r\n    public void setupDatabase() throws ScriptException, SQLException {\r\n        jdbc.execute(sqlAddClients);\r\n\t\t\r\n    }\r\n\r\n**NOTE:** using the debugger I can see that the content of the **sqlAddClients** is this string: **classpath:sql/inserClient.sql** \r\nSo it is not containing all the SQL statment into my **inserClient.sql** file.\r\n\r\nThis is the exception obtained when I try to execute this line **jdbc.execute(sqlAddClients);**:\r\n\r\n\r\n\torg.springframework.jdbc.BadSqlGrammarException: StatementCallback; bad SQL grammar [classpath:sql/inserClient.sql]\r\n\t\tat org.springframework.jdbc.support.SQLStateSQLExceptionTranslator.doTranslate(SQLStateSQLExceptionTranslator.java:104)\r\n\t\tat org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73)\r\n\t\tat org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:82)\r\n\t\tat org.springframework.jdbc.core.JdbcTemplate.translateException(JdbcTemplate.java:1572)\r\n\t\tat org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:398)\r\n\t\tat org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:434)\r\n\t\tat com.fivebits.gestionale.service.ClientServiceTest.setupDatabase(ClientServiceTest.java:43)\r\n\t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\t\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\t\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\t\tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)\r\n\t\tat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n\t\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n\t\tat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)\r\n\t\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptLifecycleMethod(TimeoutExtension.java:128)\r\n\t\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptBeforeEachMethod(TimeoutExtension.java:78)\r\n\t\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\r\n\t\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\r\n\t\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n\t\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n\t\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n\t\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n\t\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\r\n\t\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)\r\n\t\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeMethodInExtensionContext(ClassBasedTestDescriptor.java:520)\r\n\t\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$synthesizeBeforeEachMethodAdapter$23(ClassBasedTestDescriptor.java:505)\r\n\t\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachMethods$3(TestMethodTestDescriptor.java:174)\r\n\t\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:202)\r\n\t\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\t\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:202)\r\n\t\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachMethods(TestMethodTestDescriptor.java:171)\r\n\t\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:134)\r\n\t\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\r\n\t\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\t\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\t\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\t\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\t\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\t\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\t\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\t\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\t\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\t\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\t\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\t\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\t\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\t\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n\t\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\t\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n\t\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\r\n\t\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\r\n\t\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\r\n\t\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)\r\n\t\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)\r\n\t\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)\r\n\t\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n\t\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:95)\r\n\t\tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:91)\r\n\t\tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:60)\r\n\t\tat org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:98)\r\n\t\tat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)\r\n\t\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:529)\r\n\t\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:756)\r\n\t\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:452)\r\n\t\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210)\r\n\tCaused by: org.postgresql.util.PSQLException: ERROR: syntax error at or near &quot;classpath&quot;\r\n\t  Posizione: 1\r\n\t\tat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713)\r\n\t\tat org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401)\r\n\t\tat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368)\r\n\t\tat org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)\r\n\t\tat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)\r\n\t\tat org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:335)\r\n\t\tat org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:321)\r\n\t\tat org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297)\r\n\t\tat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292)\r\n\t\tat com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)\r\n\t\tat com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)\r\n\t\tat org.springframework.jdbc.core.JdbcTemplate$1ExecuteStatementCallback.doInStatement(JdbcTemplate.java:425)\r\n\t\tat org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:383)\r\n\t\t... 76 more\r\n\r\nWhat is wrong in my approach? How can I try to solve this issue?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pNFj6.png\r\n","title":"How to correctly retrieve the SQL INSERT code from a .sql file into the @BeforeEach annotated method of a Spring Boot Junit class?","body":"<p>I am working on a Spring Boot application and I am finding some difficulties with the following topic:</p>\n<p>I have this JUnit test class testing a service:</p>\n<p>package com.fivebits.gestionale.service;</p>\n<pre><code>import static org.junit.jupiter.api.Assertions.assertFalse;\n\nimport java.sql.SQLException;\nimport java.util.List;\nimport org.junit.jupiter.api.AfterEach;\nimport org.junit.jupiter.api.BeforeEach;\nimport org.junit.jupiter.api.Test;\n\n\nimport org.junit.jupiter.api.Test;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.boot.test.context.SpringBootTest;\nimport org.springframework.core.io.ClassPathResource;\nimport org.springframework.jdbc.core.JdbcTemplate;\nimport org.springframework.jdbc.datasource.init.ScriptException;\nimport org.springframework.jdbc.datasource.init.ScriptUtils;\nimport org.springframework.test.context.TestPropertySource;\n\nimport com.fivebits.gestionale.model.Client;\n\n@TestPropertySource(&quot;/application-test.properties&quot;)\n@SpringBootTest\npublic class ClientServiceTest {\n    \n    @Autowired\n    private ClientService clientService;\n    \n    @Autowired\n    private JdbcTemplate jdbc;\n    \n    @Value(&quot;${sql.script.create.client}&quot;)\n    private String sqlAddClients;\n    \n    @Value(&quot;${sql.script.delete.client}&quot;)\n    private String sqlDeleteClient;\n    \n    \n    @BeforeEach\n    public void setupDatabase() throws ScriptException, SQLException {\n        jdbc.execute(sqlAddClients);\n        \n    }\n    \n    @Test\n    void getClientsListTest() {\n        \n        List&lt;Client&gt; clientsList = clientService.getClientsList();\n    \n        // Check that this is not an empty list:\n        assertFalse(clientsList.isEmpty());\n        \n    }\n    \n     @AfterEach\n        public void setupAfterTransaction() {\n            jdbc.execute(sqlDeleteClient);\n        }\n    \n\n}\n</code></pre>\n<p>In particular it contains this method that is executed before all the test methods to set up the DB content:</p>\n<pre><code>@BeforeEach\npublic void setupDatabase() throws ScriptException, SQLException {\n    jdbc.execute(sqlAddClients);\n    \n}\n</code></pre>\n<p>And here it is my problem. I am calling this <strong>jdbc.execute(sqlAddClients);</strong> in order to insert demo data into my DB.</p>\n<p>As you can see this clas referers to this properties file (and I am using the <strong>sql.script.create.client</strong> property in order to retrieve the SQL statment to populate my DB.</p>\n<pre><code>@TestPropertySource(&quot;/application-test.properties&quot;)\n</code></pre>\n<p>Into this <strong>application-test.properties</strong> I have something like this:</p>\n<pre><code>spring.datasource.url=jdbc:postgresql://localhost:5432/gestionale_interno_db\nspring.datasource.username=postgres\nspring.datasource.password=mypswd\nspring.jpa.show-sql=true\n\n## Hibernate Properties\n# The SQL dialect makes Hibernate generate better SQL for the chosen database\nspring.jpa.properties.hibernate.dialect = org.hibernate.dialect.PostgreSQLDialect\n\n# Hibernate ddl auto (create, create-drop, validate, update)\nspring.jpa.hibernate.ddl-auto = update\n\nserver.port=8080\n\n\nsql.script.create.client=classpath:sql/inserClient.sql\n#sql.script.create.client=INSERT INTO client (name, vat_number, address, email) VALUES ('Cliente 1', 'VAT001', 'Indirizzo Cliente 1', 'cliente1@email.com');\n\n\nsql.script.delete.client=DELETE FROM client\n</code></pre>\n<p>The thing that interest me is this line:</p>\n<pre><code>sql.script.create.client=classpath:sql/inserClient.sql\n</code></pre>\n<p>NOTE: mocking the SQL insert statement (as done in the following commented line) it works fine. I am trying to avoid to put the SQL statement directly into this property file in order to mantein it clean..so I am trying to retrieve it in the previous way directly from this <strong>sql/inserClient.sql</strong> file. This one:</p>\n<p><a href=\"https://i.stack.imgur.com/pNFj6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pNFj6.png\" alt=\"enter image description here\" /></a></p>\n<p>This file contains the following SQL insert statement:</p>\n<pre><code>-- Inserisci il primo cliente\nINSERT INTO client (name, vat_number, address, email)\nVALUES ('Cliente 1', 'VAT001', 'Indirizzo Cliente 1', 'cliente1@email.com');\n\n-- Inserisci il secondo cliente\nINSERT INTO client (name, vat_number, address, email)\nVALUES ('Cliente 2', 'VAT002', 'Indirizzo Cliente 2', 'cliente2@email.com');\n\n-- Inserisci il terzo cliente\nINSERT INTO client (name, vat_number, address, email)\nVALUES ('Cliente 3', 'VAT003', 'Indirizzo Cliente 3', 'cliente3@email.com');\n\n-- Inserisci il quarto cliente\nINSERT INTO client (name, vat_number, address, email)\nVALUES ('Cliente 4', 'VAT004', 'Indirizzo Cliente 4', 'cliente4@email.com');\n\n-- Inserisci il quinto cliente\nINSERT INTO client (name, vat_number, address, email)\nVALUES ('Cliente 5', 'VAT005', 'Indirizzo Cliente 5', 'cliente5@email.com');\n\n-- Inserisci il sesto cliente\nINSERT INTO client (name, vat_number, address, email)\nVALUES ('Cliente 6', 'VAT006', 'Indirizzo Cliente 6', 'cliente6@email.com');\n\n-- Inserisci il settimo cliente\nINSERT INTO client (name, vat_number, address, email)\nVALUES ('Cliente 7', 'VAT007', 'Indirizzo Cliente 7', 'cliente7@email.com');\n\n-- Inserisci l'ottavo cliente\nINSERT INTO client (name, vat_number, address, email)\nVALUES ('Cliente 8', 'VAT008', 'Indirizzo Cliente 8', 'cliente8@email.com');\n\n-- Inserisci il nono cliente\nINSERT INTO client (name, vat_number, address, email)\nVALUES ('Cliente 9', 'VAT009', 'Indirizzo Cliente 9', 'cliente9@email.com');\n\n-- Inserisci il decimo cliente\nINSERT INTO client (name, vat_number, address, email)\nVALUES ('Cliente 10', 'VAT010', 'Indirizzo Cliente 10', 'cliente10@email.com');\n</code></pre>\n<p>the problem is that running my JUnit test class, it is going into error when this method is performed:</p>\n<pre><code>@BeforeEach\npublic void setupDatabase() throws ScriptException, SQLException {\n    jdbc.execute(sqlAddClients);\n    \n}\n</code></pre>\n<p><strong>NOTE:</strong> using the debugger I can see that the content of the <strong>sqlAddClients</strong> is this string: <strong>classpath:sql/inserClient.sql</strong>\nSo it is not containing all the SQL statment into my <strong>inserClient.sql</strong> file.</p>\n<p>This is the exception obtained when I try to execute this line <strong>jdbc.execute(sqlAddClients);</strong>:</p>\n<pre><code>org.springframework.jdbc.BadSqlGrammarException: StatementCallback; bad SQL grammar [classpath:sql/inserClient.sql]\n    at org.springframework.jdbc.support.SQLStateSQLExceptionTranslator.doTranslate(SQLStateSQLExceptionTranslator.java:104)\n    at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73)\n    at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:82)\n    at org.springframework.jdbc.core.JdbcTemplate.translateException(JdbcTemplate.java:1572)\n    at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:398)\n    at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:434)\n    at com.fivebits.gestionale.service.ClientServiceTest.setupDatabase(ClientServiceTest.java:43)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)\n    at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptLifecycleMethod(TimeoutExtension.java:128)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptBeforeEachMethod(TimeoutExtension.java:78)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeMethodInExtensionContext(ClassBasedTestDescriptor.java:520)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$synthesizeBeforeEachMethodAdapter$23(ClassBasedTestDescriptor.java:505)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachMethods$3(TestMethodTestDescriptor.java:174)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:202)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:202)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachMethods(TestMethodTestDescriptor.java:171)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:134)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:95)\n    at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:91)\n    at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:60)\n    at org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:98)\n    at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:529)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:756)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:452)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210)\nCaused by: org.postgresql.util.PSQLException: ERROR: syntax error at or near &quot;classpath&quot;\n  Posizione: 1\n    at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713)\n    at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401)\n    at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368)\n    at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)\n    at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)\n    at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:335)\n    at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:321)\n    at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297)\n    at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292)\n    at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)\n    at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)\n    at org.springframework.jdbc.core.JdbcTemplate$1ExecuteStatementCallback.doInStatement(JdbcTemplate.java:425)\n    at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:383)\n    ... 76 more\n</code></pre>\n<p>What is wrong in my approach? How can I try to solve this issue?</p>\n"},{"tags":["java","mysql","spring-boot","datasource","hikaricp"],"comments":[{"owner":{"account_id":12503014,"reputation":130,"user_id":9100818,"display_name":"Kafarson"},"score":1,"creation_date":1696426503,"post_id":77230039,"comment_id":136151339,"body_markdown":"check this similar problem: https://stackoverflow.com/questions/52804228/failed-to-load-driver-class-com-mysql-jdbc-driver","body":"check this similar problem: <a href=\"https://stackoverflow.com/questions/52804228/failed-to-load-driver-class-com-mysql-jdbc-driver\" title=\"failed to load driver class com mysql jdbc driver\">stackoverflow.com/questions/52804228/&hellip;</a>"},{"owner":{"account_id":4688171,"reputation":11056,"user_id":3795036,"accept_rate":88,"display_name":"K.Nicholas"},"score":0,"creation_date":1696426628,"post_id":77230039,"comment_id":136151373,"body_markdown":"Check the line that says ERROR .\n\n&quot;2023-10-04 21:24:11.821 ERROR 24832 --- [  restartedMain] com.zaxxer.hikari.HikariConfig           : Failed to load driver class com.mysql.cj.jdbc.Driver from HikariConfig class classloader jdk.internal.loader.ClassLoaders$AppClassLoader@c387f44&quot;","body":"Check the line that says ERROR .  &quot;2023-10-04 21:24:11.821 ERROR 24832 --- [  restartedMain] com.zaxxer.hikari.HikariConfig           : Failed to load driver class com.mysql.cj.jdbc.Driver from HikariConfig class classloader jdk.internal.loader.ClassLoaders$AppClassLoader@c387f44&quot;"}],"answers":[{"tags":[],"owner":{"account_id":8216877,"reputation":1,"user_id":6182866,"display_name":"Alejandro Lafourcade Despaigne"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696439994,"creation_date":1696439994,"answer_id":77231714,"question_id":77230039,"body_markdown":"Check this steps\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;","title":"Java Springboot isn&#39;t working as expected. What&#39;s wrong with my code","body":"<p>Check this steps</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;mysql&lt;/groupId&gt;\n    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21849828,"reputation":364,"user_id":16142058,"display_name":"The Dark Knight"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696483582,"creation_date":1696483233,"answer_id":77234422,"question_id":77230039,"body_markdown":"You can miss:\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\nand `spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver` in `application.properties`\r\n\r\nMake sure every files, folders as sub package of `parent` package","title":"Java Springboot isn&#39;t working as expected. What&#39;s wrong with my code","body":"<p>You can miss:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>and <code>spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver</code> in <code>application.properties</code></p>\n<p>Make sure every files, folders as sub package of <code>parent</code> package</p>\n"}],"owner":{"account_id":23420476,"reputation":19,"user_id":17480767,"display_name":"Daniel Gilbert Dela Pe&#241;a"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1696483582,"creation_date":1696426318,"question_id":77230039,"body_markdown":"We have just started with springboot. I did all of the steps my professor has shown, but it does not seem to be creating a database.\r\n\r\n\r\n```\r\n**Application**\r\nspring.datasource.url = jdbc:mysql://localhost:3306/dbLastNameDemo\r\n\r\nspring.datasource.username = root\r\nspring.datasource.password = password\r\n\r\nspring.jpa.database-platform = org.hibernate.dialect.MySQL5InnoDBDialect\r\nspring.jpa.hibernate.ddl-auto = update\r\n\r\nspring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQL5InnoDBDialect\r\n\r\nserver.error.include.stacktrace=never\r\n\r\n```\r\n\r\n\r\n```\r\n**Console**\r\n2023-10-04 21:24:10.672  INFO 24832 --- [  restartedMain] c.c.delapena.DelapenaApplication         : Starting DelapenaApplication using Java 19.0.1 on Daesut with PID 24832 (C:\\Users\\Daesut\\Downloads\\delapena\\delapena\\target\\classes started by Daesut in C:\\Users\\Daesut\\Downloads\\delapena\\delapena)\r\n2023-10-04 21:24:10.673  INFO 24832 --- [  restartedMain] c.c.delapena.DelapenaApplication         : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n2023-10-04 21:24:10.717  INFO 24832 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set &#39;spring.devtools.add-properties&#39; to &#39;false&#39; to disable\r\n2023-10-04 21:24:10.717  INFO 24832 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the &#39;logging.level.web&#39; property to &#39;DEBUG&#39;\r\n2023-10-04 21:24:11.134  INFO 24832 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n2023-10-04 21:24:11.145  INFO 24832 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 4 ms. Found 0 JPA repository interfaces.\r\n2023-10-04 21:24:11.702  INFO 24832 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n2023-10-04 21:24:11.714  INFO 24832 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n2023-10-04 21:24:11.714  INFO 24832 --- [  restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.80]\r\n2023-10-04 21:24:11.774  INFO 24832 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n2023-10-04 21:24:11.774  INFO 24832 --- [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1057 ms\r\n2023-10-04 21:24:11.821 ERROR 24832 --- [  restartedMain] com.zaxxer.hikari.HikariConfig           : Failed to load driver class com.mysql.cj.jdbc.Driver from HikariConfig class classloader jdk.internal.loader.ClassLoaders$AppClassLoader@c387f44\r\n2023-10-04 21:24:11.823  WARN 24832 --- [  restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;dataSourceScriptDatabaseInitializer&#39; defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Unsatisfied dependency expressed through method &#39;dataSourceScriptDatabaseInitializer&#39; parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;dataSource&#39; defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method &#39;dataSource&#39; threw exception; nested exception is java.lang.RuntimeException: Failed to load driver class com.mysql.cj.jdbc.Driver in either of HikariConfig class loader or Thread context classloader\r\n2023-10-04 21:24:11.825  INFO 24832 --- [  restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\r\n2023-10-04 21:24:11.835  INFO 24832 --- [  restartedMain] ConditionEvaluationReportLoggingListener : \r\n\r\n```\r\nThese were in the console log. \r\n\r\n\r\nWe were supposed to create a table for our workbench","title":"Java Springboot isn&#39;t working as expected. What&#39;s wrong with my code","body":"<p>We have just started with springboot. I did all of the steps my professor has shown, but it does not seem to be creating a database.</p>\n<pre><code>**Application**\nspring.datasource.url = jdbc:mysql://localhost:3306/dbLastNameDemo\n\nspring.datasource.username = root\nspring.datasource.password = password\n\nspring.jpa.database-platform = org.hibernate.dialect.MySQL5InnoDBDialect\nspring.jpa.hibernate.ddl-auto = update\n\nspring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQL5InnoDBDialect\n\nserver.error.include.stacktrace=never\n\n</code></pre>\n<pre><code>**Console**\n2023-10-04 21:24:10.672  INFO 24832 --- [  restartedMain] c.c.delapena.DelapenaApplication         : Starting DelapenaApplication using Java 19.0.1 on Daesut with PID 24832 (C:\\Users\\Daesut\\Downloads\\delapena\\delapena\\target\\classes started by Daesut in C:\\Users\\Daesut\\Downloads\\delapena\\delapena)\n2023-10-04 21:24:10.673  INFO 24832 --- [  restartedMain] c.c.delapena.DelapenaApplication         : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2023-10-04 21:24:10.717  INFO 24832 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable\n2023-10-04 21:24:10.717  INFO 24832 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'\n2023-10-04 21:24:11.134  INFO 24832 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n2023-10-04 21:24:11.145  INFO 24832 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 4 ms. Found 0 JPA repository interfaces.\n2023-10-04 21:24:11.702  INFO 24832 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\n2023-10-04 21:24:11.714  INFO 24832 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2023-10-04 21:24:11.714  INFO 24832 --- [  restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.80]\n2023-10-04 21:24:11.774  INFO 24832 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2023-10-04 21:24:11.774  INFO 24832 --- [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1057 ms\n2023-10-04 21:24:11.821 ERROR 24832 --- [  restartedMain] com.zaxxer.hikari.HikariConfig           : Failed to load driver class com.mysql.cj.jdbc.Driver from HikariConfig class classloader jdk.internal.loader.ClassLoaders$AppClassLoader@c387f44\n2023-10-04 21:24:11.823  WARN 24832 --- [  restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Unsatisfied dependency expressed through method 'dataSourceScriptDatabaseInitializer' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource' defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method 'dataSource' threw exception; nested exception is java.lang.RuntimeException: Failed to load driver class com.mysql.cj.jdbc.Driver in either of HikariConfig class loader or Thread context classloader\n2023-10-04 21:24:11.825  INFO 24832 --- [  restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\n2023-10-04 21:24:11.835  INFO 24832 --- [  restartedMain] ConditionEvaluationReportLoggingListener : \n\n</code></pre>\n<p>These were in the console log.</p>\n<p>We were supposed to create a table for our workbench</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1696484668,"post_id":77234364,"comment_id":136159321,"body_markdown":"What is a &quot;SJF&quot;? What is a &quot;TimeQuantum&quot;?","body":"What is a &quot;SJF&quot;? What is a &quot;TimeQuantum&quot;?"},{"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1696484698,"post_id":77234364,"comment_id":136159326,"body_markdown":"Your code needs formatting.","body":"Your code needs formatting."},{"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1696484769,"post_id":77234364,"comment_id":136159335,"body_markdown":"Seems like you want us to finish your school work assignment. That is not the purpose of this site. Here you need to ask a specific question focused on a particular programming problem or technique.","body":"Seems like you want us to finish your school work assignment. That is not the purpose of this site. Here you need to ask a specific question focused on a particular programming problem or technique."}],"owner":{"account_id":29601785,"reputation":1,"user_id":22687032,"display_name":"Forlan Beckham"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696482247,"creation_date":1696482247,"question_id":77234364,"body_markdown":"You have an array name, Process name, second array Process arrival time, and third Process burst time. And a variable time quantum. Write a Java program That has the shortest burst time. Subtract one from his burst time. Before subtracting, you must check every that the process has come or arrived; if not, then Subtraction cannot be done. If it comes, then you can subtract one from its burst time. Do this until all the burst times are zero. And if multiple Processes have equal burst times and they arrived, then minus time quantum from those equal processors&#39; burst times. Print the process whose burst time is being subtracted. Do step by step.\r\n\r\nSample input: (&quot;P1&quot;, 4, 5),(&quot;P2&quot;, 1, 6),(&quot;P3&quot;, 1, 6),(&quot;P4&quot;, 2, 4),(&quot;P5&quot;, 3, 3)\r\nSample output: P2 execute 2 unit, p3 execute 2, p5 execute 1, p5 execute 1, p5 execute 1,P2 execute 2 unit, p3 execute 2,P4 execute 2 unit, p2 execute 2,P3 execute 2 unit, p4 execute 2,p1 execute 1,p1 execute 1,p1 execute 1,p1 execute 1,p1 execute 1.\r\n\r\nimport java.util.*;\r\n\r\npublic class ShortestJobFirst {\r\n\r\n    public static void main(String[] args) {\r\n        Scanner sc = new Scanner(System.in);\r\n\r\n        // Get the number of processes\r\n        int n = sc.nextInt();\r\n\r\n        // Create arrays to store the process names, arrival times, and burst times\r\n        String[] name = new String[n];\r\n        int[] arrivalTime = new int[n];\r\n        int[] burstTime = new int[n];\r\n\r\n        // Get the process names, arrival times, and burst times\r\n        for (int i = 0; i &lt; n; i++) {\r\n            name[i] = sc.next();\r\n            arrivalTime[i] = sc.nextInt();\r\n            burstTime[i] = sc.nextInt();\r\n        }\r\n\r\n        // Get the time quantum\r\n        int timeQuantum = sc.nextInt();\r\n\r\n        // Sort the processes by arrival time\r\n        Arrays.sort(arrivalTime);\r\n\r\n        // Create a queue to store the processes\r\n        Queue&lt;Integer&gt; queue = new LinkedList&lt;&gt;();\r\n\r\n        // Initialize the current time to zero\r\n        int currentTime = 0;\r\n\r\n        // While there are still processes in the queue or not all processes have finished executing\r\n        while (!queue.isEmpty() || Arrays.stream(burstTime).anyMatch(x -&gt; x &gt; 0)) {\r\n            // If the queue is empty, add the first process to the queue\r\n            if (queue.isEmpty()) {\r\n                queue.add(0);\r\n            }\r\n\r\n            // Get the current process\r\n            int currentProcess = queue.poll();\r\n\r\n            // If the current process has arrived\r\n            if (arrivalTime[currentProcess] &lt;= currentTime) {\r\n                // If the burst time of the current process is less than or equal to the time quantum\r\n                if (burstTime[currentProcess] &lt;= timeQuantum) {\r\n                    // Subtract the burst time of the current process from the current time\r\n                    currentTime += burstTime[currentProcess];\r\n\r\n                    // Set the burst time of the current process to zero\r\n                    burstTime[currentProcess] = 0;\r\n\r\n                    // Print the process whose burst time was subtracted\r\n                    System.out.println(name[currentProcess] + &quot; execute &quot; + burstTime[currentProcess] + &quot; unit&quot;);\r\n\r\n                } else {\r\n                    // Subtract the time quantum from the burst time of the current process\r\n                    burstTime[currentProcess] -= timeQuantum;\r\n\r\n                    // Print the process whose burst time was subtracted\r\n                    System.out.println(name[currentProcess] + &quot; execute &quot; + timeQuantum + &quot; unit&quot;);\r\n\r\n                    // Add\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\nI am expecting this output but not getting\r\nSample output: P2 execute 2 unit, p3 execute 2, p5 execute 1, p5 execute 1, p5 execute 1,P2 execute 2 unit, p3 execute 2,P4 execute 2 unit, p2 execute 2,P3 execute 2 unit, p4 execute 2,p1 execute 1,p1 execute 1,p1 execute 1,p1 execute 1,p1 execute 1.","title":"pre-emptive SJF With TimeQuantum","body":"<p>You have an array name, Process name, second array Process arrival time, and third Process burst time. And a variable time quantum. Write a Java program That has the shortest burst time. Subtract one from his burst time. Before subtracting, you must check every that the process has come or arrived; if not, then Subtraction cannot be done. If it comes, then you can subtract one from its burst time. Do this until all the burst times are zero. And if multiple Processes have equal burst times and they arrived, then minus time quantum from those equal processors' burst times. Print the process whose burst time is being subtracted. Do step by step.</p>\n<p>Sample input: (&quot;P1&quot;, 4, 5),(&quot;P2&quot;, 1, 6),(&quot;P3&quot;, 1, 6),(&quot;P4&quot;, 2, 4),(&quot;P5&quot;, 3, 3)\nSample output: P2 execute 2 unit, p3 execute 2, p5 execute 1, p5 execute 1, p5 execute 1,P2 execute 2 unit, p3 execute 2,P4 execute 2 unit, p2 execute 2,P3 execute 2 unit, p4 execute 2,p1 execute 1,p1 execute 1,p1 execute 1,p1 execute 1,p1 execute 1.</p>\n<p>import java.util.*;</p>\n<p>public class ShortestJobFirst {</p>\n<pre><code>public static void main(String[] args) {\n    Scanner sc = new Scanner(System.in);\n\n    // Get the number of processes\n    int n = sc.nextInt();\n\n    // Create arrays to store the process names, arrival times, and burst times\n    String[] name = new String[n];\n    int[] arrivalTime = new int[n];\n    int[] burstTime = new int[n];\n\n    // Get the process names, arrival times, and burst times\n    for (int i = 0; i &lt; n; i++) {\n        name[i] = sc.next();\n        arrivalTime[i] = sc.nextInt();\n        burstTime[i] = sc.nextInt();\n    }\n\n    // Get the time quantum\n    int timeQuantum = sc.nextInt();\n\n    // Sort the processes by arrival time\n    Arrays.sort(arrivalTime);\n\n    // Create a queue to store the processes\n    Queue&lt;Integer&gt; queue = new LinkedList&lt;&gt;();\n\n    // Initialize the current time to zero\n    int currentTime = 0;\n\n    // While there are still processes in the queue or not all processes have finished executing\n    while (!queue.isEmpty() || Arrays.stream(burstTime).anyMatch(x -&gt; x &gt; 0)) {\n        // If the queue is empty, add the first process to the queue\n        if (queue.isEmpty()) {\n            queue.add(0);\n        }\n\n        // Get the current process\n        int currentProcess = queue.poll();\n\n        // If the current process has arrived\n        if (arrivalTime[currentProcess] &lt;= currentTime) {\n            // If the burst time of the current process is less than or equal to the time quantum\n            if (burstTime[currentProcess] &lt;= timeQuantum) {\n                // Subtract the burst time of the current process from the current time\n                currentTime += burstTime[currentProcess];\n\n                // Set the burst time of the current process to zero\n                burstTime[currentProcess] = 0;\n\n                // Print the process whose burst time was subtracted\n                System.out.println(name[currentProcess] + &quot; execute &quot; + burstTime[currentProcess] + &quot; unit&quot;);\n\n            } else {\n                // Subtract the time quantum from the burst time of the current process\n                burstTime[currentProcess] -= timeQuantum;\n\n                // Print the process whose burst time was subtracted\n                System.out.println(name[currentProcess] + &quot; execute &quot; + timeQuantum + &quot; unit&quot;);\n\n                // Add\n            }\n        }\n    }\n}\n</code></pre>\n<p>}\nI am expecting this output but not getting\nSample output: P2 execute 2 unit, p3 execute 2, p5 execute 1, p5 execute 1, p5 execute 1,P2 execute 2 unit, p3 execute 2,P4 execute 2 unit, p2 execute 2,P3 execute 2 unit, p4 execute 2,p1 execute 1,p1 execute 1,p1 execute 1,p1 execute 1,p1 execute 1.</p>\n"},{"tags":["java","android","android-fragments","android-recyclerview","drag-and-drop"],"comments":[{"owner":{"account_id":5475525,"reputation":1633,"user_id":4353635,"accept_rate":50,"display_name":"Arslan Sohail"},"score":1,"creation_date":1513337859,"post_id":37659123,"comment_id":82625891,"body_markdown":"@maratus i wanted to use the same functionality did u find any solution to it?","body":"@maratus i wanted to use the same functionality did u find any solution to it?"},{"owner":{"account_id":8800547,"reputation":2118,"user_id":6576875,"accept_rate":87,"display_name":"Martin De Simone"},"score":0,"creation_date":1520794511,"post_id":37659123,"comment_id":85451080,"body_markdown":"What did you end up doing?","body":"What did you end up doing?"},{"owner":{"account_id":10618129,"reputation":224,"user_id":7819995,"display_name":"Mitsakos"},"score":0,"creation_date":1521111112,"post_id":37659123,"comment_id":85596826,"body_markdown":"Since RecyclerView provides the `OnItemTouchListener` to handle touch events, what you would need to achieve in theory, is to create an identical item to the new recycler view and remove it from the previous one, by coding for the desired motion event. It&#39;s probably not exactly what you want, but it&#39;s the same functionalitiy in principle.","body":"Since RecyclerView provides the <code>OnItemTouchListener</code> to handle touch events, what you would need to achieve in theory, is to create an identical item to the new recycler view and remove it from the previous one, by coding for the desired motion event. It&#39;s probably not exactly what you want, but it&#39;s the same functionalitiy in principle."},{"owner":{"account_id":7612618,"reputation":15612,"user_id":5773037,"display_name":"Nikunj Paradva"},"score":0,"creation_date":1523872760,"post_id":37659123,"comment_id":86723413,"body_markdown":"i am also stuck in that ,you got your solution?","body":"i am also stuck in that ,you got your solution?"},{"owner":{"account_id":3133508,"reputation":254,"user_id":2650584,"accept_rate":70,"display_name":"user1"},"score":0,"creation_date":1525600338,"post_id":37659123,"comment_id":87413445,"body_markdown":"did you check [this](https://stackoverflow.com/questions/29690522/drag-and-drop-between-two-recyclerview), it&#39;s an old question, but seems to be the same problem!","body":"did you check <a href=\"https://stackoverflow.com/questions/29690522/drag-and-drop-between-two-recyclerview\">this</a>, it&#39;s an old question, but seems to be the same problem!"},{"owner":{"account_id":2599209,"reputation":42697,"user_id":2252113,"accept_rate":57,"display_name":"Hitesh Sahu"},"score":0,"creation_date":1525677019,"post_id":37659123,"comment_id":87434423,"body_markdown":"Possible duplicate of [Drag and Drop between two RecyclerView](https://stackoverflow.com/questions/29690522/drag-and-drop-between-two-recyclerview)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/29690522/drag-and-drop-between-two-recyclerview\">Drag and Drop between two RecyclerView</a>"}],"answers":[{"tags":[],"owner":{"account_id":1545985,"reputation":17166,"user_id":1439522,"accept_rate":40,"display_name":"prom85"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1611733650,"creation_date":1526370159,"answer_id":50344856,"question_id":37659123,"body_markdown":"Old question, but no answer yet, so I provide a short one...\r\n\r\nFor dragging something from one view to another you can use the `DragShadowBuilder`. The `ItemTouchHelper` is only meant for moving items within the `RecyclerView`, you need a custom implementation for what you want.\r\n\r\nCheck out this documentation: https://developer.android.com/guide/topics/ui/drag-drop (so yes, for what you want you should is this classic drag&amp;drop framework as you called it)\r\n\r\nIt shows you how to create the shadow, how to move it (done automatically) and how to react to the drag event in the second view.\r\n\r\nThe workflow is following:\r\n\r\n1. Create the drag shadow when e.g. long pressing an item in `RecyclerView` 1 (it&#39;s a copy of the item, drawn over the app)\r\n2. The shadow can be moved around, handled by the framework already; this will call drag enter/exits and drag events on the views it is draggede over\r\n3. add a `View.OnDragListener` on the second `RecyclerView` and handle the events (e.g. add the data in the second `RecyclerView` if the user drops it over it and remove it from the first `RecyclerView`)\r\n\r\nWith the help of `DragShadowBuilder` you can find tutorials on this, like e.g. the one here: http://www.vogella.com/tutorials/AndroidDragAndDrop/article.html\r\n\r\n","title":"Is it possible to drag an item outside of RecyclerView?","body":"<p>Old question, but no answer yet, so I provide a short one...</p>\n<p>For dragging something from one view to another you can use the <code>DragShadowBuilder</code>. The <code>ItemTouchHelper</code> is only meant for moving items within the <code>RecyclerView</code>, you need a custom implementation for what you want.</p>\n<p>Check out this documentation: <a href=\"https://developer.android.com/guide/topics/ui/drag-drop\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/topics/ui/drag-drop</a> (so yes, for what you want you should is this classic drag&amp;drop framework as you called it)</p>\n<p>It shows you how to create the shadow, how to move it (done automatically) and how to react to the drag event in the second view.</p>\n<p>The workflow is following:</p>\n<ol>\n<li>Create the drag shadow when e.g. long pressing an item in <code>RecyclerView</code> 1 (it's a copy of the item, drawn over the app)</li>\n<li>The shadow can be moved around, handled by the framework already; this will call drag enter/exits and drag events on the views it is draggede over</li>\n<li>add a <code>View.OnDragListener</code> on the second <code>RecyclerView</code> and handle the events (e.g. add the data in the second <code>RecyclerView</code> if the user drops it over it and remove it from the first <code>RecyclerView</code>)</li>\n</ol>\n<p>With the help of <code>DragShadowBuilder</code> you can find tutorials on this, like e.g. the one here: <a href=\"http://www.vogella.com/tutorials/AndroidDragAndDrop/article.html\" rel=\"nofollow noreferrer\">http://www.vogella.com/tutorials/AndroidDragAndDrop/article.html</a></p>\n"},{"tags":[],"owner":{"account_id":14624465,"reputation":21,"user_id":10562191,"display_name":"Tom"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696481744,"creation_date":1696481744,"answer_id":77234331,"question_id":37659123,"body_markdown":"I have done it by using ItemTouchHelper and OnItemTouchListener\r\n\r\n            var selectedViewHolder: RecyclerView.ViewHolder? = null\r\n\r\n        val itemTouchHelper = ItemTouchHelper(object : ItemTouchHelper.SimpleCallback(\r\n            ItemTouchHelper.UP or ItemTouchHelper.DOWN or ItemTouchHelper.ACTION_STATE_DRAG, 0\r\n        ) {\r\n            override fun onMove(\r\n                recyclerView: RecyclerView,\r\n                source: RecyclerView.ViewHolder,\r\n                target: RecyclerView.ViewHolder\r\n            ): Boolean {\r\n                val sourcePosition = source.adapterPosition\r\n                val targetPosition = target.adapterPosition\r\n                if (selectedViewHolder == null) {\r\n                    selectedViewHolder =\r\n                        recyclerView.findViewHolderForAdapterPosition(sourcePosition)\r\n                    Collections.swap(customerList, sourcePosition, targetPosition)\r\n                    custAdapter.notifyItemMoved(sourcePosition, targetPosition)\r\n                    return true\r\n                }\r\n                return false\r\n\r\n            }\r\n            override fun onSwiped(viewHolder: RecyclerView.ViewHolder, direction: Int) {\r\n            }\r\n        })\r\n        itemTouchHelper.attachToRecyclerView(binding.rvCustomerList)\r\n\r\n        binding.rvCustomerList.addOnItemTouchListener(object : RecyclerView.OnItemTouchListener {\r\n            val gestureDetector = GestureDetector(\r\n                requireContext(),\r\n                object : GestureDetector.SimpleOnGestureListener() {\r\n                    override fun onLongPress(e: MotionEvent) {\r\n                        val childView = binding.rvCustomerList.findChildViewUnder(e!!.x,e!!.y)\r\n                        motionEvent = MotionEvent.obtain(e)\r\n                        when (e?.action) {\r\n                            MotionEvent.ACTION_DOWN -&gt; {\r\n                                val data = ClipData.newPlainText(&quot;&quot;, &quot;&quot;)\r\n                                val shadowBuilder = DragShadowBuilder(\r\n                                    childView\r\n                                )\r\n                                childView!!.startDrag(data, shadowBuilder, view, 0)\r\n                                motionEvent = MotionEvent.obtain(e)\r\n                              \r\n                            }\r\n                            MotionEvent.ACTION_MOVE -&gt; {\r\n                                childView!!.x = e.x\r\n                                childView!!.y = e.y\r\n                            }\r\n                            else -&gt; {\r\n                            }\r\n                        }\r\n                    }\r\n                })\r\n\r\n            override fun onInterceptTouchEvent(rv: RecyclerView, e: MotionEvent): Boolean {\r\n                gestureDetector.onTouchEvent(e)\r\n                return false\r\n            }\r\n\r\n            override fun onTouchEvent(rv: RecyclerView, e: MotionEvent) {}\r\n\r\n            override fun onRequestDisallowInterceptTouchEvent(disallowIntercept: Boolean) {}\r\n        })\r\n\r\n\r\nIn this rvCustomerList is the recyclerview.\r\nNow I can move the selected item from recyclrview anywhere in the screen.\r\n\r\nHope this is helpful.","title":"Is it possible to drag an item outside of RecyclerView?","body":"<p>I have done it by using ItemTouchHelper and OnItemTouchListener</p>\n<pre><code>        var selectedViewHolder: RecyclerView.ViewHolder? = null\n\n    val itemTouchHelper = ItemTouchHelper(object : ItemTouchHelper.SimpleCallback(\n        ItemTouchHelper.UP or ItemTouchHelper.DOWN or ItemTouchHelper.ACTION_STATE_DRAG, 0\n    ) {\n        override fun onMove(\n            recyclerView: RecyclerView,\n            source: RecyclerView.ViewHolder,\n            target: RecyclerView.ViewHolder\n        ): Boolean {\n            val sourcePosition = source.adapterPosition\n            val targetPosition = target.adapterPosition\n            if (selectedViewHolder == null) {\n                selectedViewHolder =\n                    recyclerView.findViewHolderForAdapterPosition(sourcePosition)\n                Collections.swap(customerList, sourcePosition, targetPosition)\n                custAdapter.notifyItemMoved(sourcePosition, targetPosition)\n                return true\n            }\n            return false\n\n        }\n        override fun onSwiped(viewHolder: RecyclerView.ViewHolder, direction: Int) {\n        }\n    })\n    itemTouchHelper.attachToRecyclerView(binding.rvCustomerList)\n\n    binding.rvCustomerList.addOnItemTouchListener(object : RecyclerView.OnItemTouchListener {\n        val gestureDetector = GestureDetector(\n            requireContext(),\n            object : GestureDetector.SimpleOnGestureListener() {\n                override fun onLongPress(e: MotionEvent) {\n                    val childView = binding.rvCustomerList.findChildViewUnder(e!!.x,e!!.y)\n                    motionEvent = MotionEvent.obtain(e)\n                    when (e?.action) {\n                        MotionEvent.ACTION_DOWN -&gt; {\n                            val data = ClipData.newPlainText(&quot;&quot;, &quot;&quot;)\n                            val shadowBuilder = DragShadowBuilder(\n                                childView\n                            )\n                            childView!!.startDrag(data, shadowBuilder, view, 0)\n                            motionEvent = MotionEvent.obtain(e)\n                          \n                        }\n                        MotionEvent.ACTION_MOVE -&gt; {\n                            childView!!.x = e.x\n                            childView!!.y = e.y\n                        }\n                        else -&gt; {\n                        }\n                    }\n                }\n            })\n\n        override fun onInterceptTouchEvent(rv: RecyclerView, e: MotionEvent): Boolean {\n            gestureDetector.onTouchEvent(e)\n            return false\n        }\n\n        override fun onTouchEvent(rv: RecyclerView, e: MotionEvent) {}\n\n        override fun onRequestDisallowInterceptTouchEvent(disallowIntercept: Boolean) {}\n    })\n</code></pre>\n<p>In this rvCustomerList is the recyclerview.\nNow I can move the selected item from recyclrview anywhere in the screen.</p>\n<p>Hope this is helpful.</p>\n"}],"owner":{"account_id":4092951,"reputation":312,"user_id":4614800,"display_name":"martaus"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4273,"favorite_count":0,"down_vote_count":0,"up_vote_count":24,"answer_count":2,"score":24,"last_activity_date":1696481744,"creation_date":1465220687,"question_id":37659123,"body_markdown":"I need to somehow notify `RecyclerView` when I drag and drop an item from another `RecyclerView` onto it.\r\n \r\n* Is it possible? \r\n* Or should I use classic [Drag and drop framework][1]?\r\n\r\n[![Drag and drop an item to another RecyclerView][2]][2]\r\n\r\n`RecyclerView` with blue items is in one fragment and `RecyclerView` with red items is in another fragment.\r\n\r\nI also tried using [ItemTouchHelper][3] but it&#39;s [onMove()][4] method from [ItemTouchHelper.Callback][5] is not called while moving with item outside\r\nfrom `RecyclerView`.\r\n\r\n&lt;!-- language-all: java --&gt;\r\n\r\n    private class CustomItemTouchCallback extends Callback {\r\n\r\n        @Override\r\n        public int getMovementFlags(RecyclerView recyclerView, RecyclerView.ViewHolder viewHolder) {\r\n            return makeMovementFlags(UP|DOWN|START|END, 0);\r\n        }\r\n\r\n        @Override\r\n        public boolean onMove(RecyclerView recyclerView, RecyclerView.ViewHolder viewHolder, RecyclerView.ViewHolder target) {\r\n            android.util.Log.d(TAG, &quot;Move item  from:&quot; + viewHolder.getAdapterPosition() + &quot; to: &quot; + target.getAdapterPosition());\r\n            return true;\r\n        }\r\n\r\n        @Override\r\n        public void onMoved(RecyclerView recyclerView, RecyclerView.ViewHolder viewHolder, int fromPos, RecyclerView.ViewHolder target, int toPos, int x, int y) {\r\n            android.util.Log.d(TAG, &quot;Moved item  from:&quot; + fromPos + &quot; to: &quot; + toPos + &quot; x: &quot; + x + &quot; y: &quot; + y);\r\n            super.onMoved(recyclerView, viewHolder, fromPos, target, toPos, x, y);\r\n        }\r\n\r\n        @Override\r\n        public void onSwiped(RecyclerView.ViewHolder viewHolder, int direction) {\r\n\r\n        }\r\n\r\n        @Override\r\n        public boolean isLongPressDragEnabled() {\r\n            return true;\r\n        }\r\n\r\n        @Override\r\n        public boolean isItemViewSwipeEnabled() {\r\n            return false;\r\n        }\r\n    }\r\n\r\nI also find this [question][6], but it doesn&#39;t solve my problem.\r\n\r\n\r\n  [1]: https://developer.android.com/guide/topics/ui/drag-drop.html\r\n  [2]: http://i.stack.imgur.com/NZUfB.png\r\n  [3]: https://developer.android.com/reference/android/support/v7/widget/helper/ItemTouchHelper.html#onChildViewDetachedFromWindow(android.view.View)\r\n  [4]: https://developer.android.com/reference/android/support/v7/widget/helper/ItemTouchHelper.Callback.html#onMove(android.support.v7.widget.RecyclerView,%20android.support.v7.widget.RecyclerView.ViewHolder,%20android.support.v7.widget.RecyclerView.ViewHolder)\r\n  [5]: https://developer.android.com/reference/android/support/v7/widget/helper/ItemTouchHelper.Callback.html\r\n  [6]: https://stackoverflow.com/questions/37583571/drag-and-drop-an-item-from-one-recyclerview-listview-into-another-recyclerview","title":"Is it possible to drag an item outside of RecyclerView?","body":"<p>I need to somehow notify <code>RecyclerView</code> when I drag and drop an item from another <code>RecyclerView</code> onto it.</p>\n\n<ul>\n<li>Is it possible? </li>\n<li>Or should I use classic <a href=\"https://developer.android.com/guide/topics/ui/drag-drop.html\" rel=\"noreferrer\">Drag and drop framework</a>?</li>\n</ul>\n\n<p><a href=\"https://i.stack.imgur.com/NZUfB.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/NZUfB.png\" alt=\"Drag and drop an item to another RecyclerView\"></a></p>\n\n<p><code>RecyclerView</code> with blue items is in one fragment and <code>RecyclerView</code> with red items is in another fragment.</p>\n\n<p>I also tried using <a href=\"https://developer.android.com/reference/android/support/v7/widget/helper/ItemTouchHelper.html#onChildViewDetachedFromWindow(android.view.View)\" rel=\"noreferrer\">ItemTouchHelper</a> but it's <a href=\"https://developer.android.com/reference/android/support/v7/widget/helper/ItemTouchHelper.Callback.html#onMove(android.support.v7.widget.RecyclerView,%20android.support.v7.widget.RecyclerView.ViewHolder,%20android.support.v7.widget.RecyclerView.ViewHolder)\" rel=\"noreferrer\">onMove()</a> method from <a href=\"https://developer.android.com/reference/android/support/v7/widget/helper/ItemTouchHelper.Callback.html\" rel=\"noreferrer\">ItemTouchHelper.Callback</a> is not called while moving with item outside\nfrom <code>RecyclerView</code>.</p>\n\n\n\n<pre class=\"lang-java prettyprint-override\"><code>private class CustomItemTouchCallback extends Callback {\n\n    @Override\n    public int getMovementFlags(RecyclerView recyclerView, RecyclerView.ViewHolder viewHolder) {\n        return makeMovementFlags(UP|DOWN|START|END, 0);\n    }\n\n    @Override\n    public boolean onMove(RecyclerView recyclerView, RecyclerView.ViewHolder viewHolder, RecyclerView.ViewHolder target) {\n        android.util.Log.d(TAG, \"Move item  from:\" + viewHolder.getAdapterPosition() + \" to: \" + target.getAdapterPosition());\n        return true;\n    }\n\n    @Override\n    public void onMoved(RecyclerView recyclerView, RecyclerView.ViewHolder viewHolder, int fromPos, RecyclerView.ViewHolder target, int toPos, int x, int y) {\n        android.util.Log.d(TAG, \"Moved item  from:\" + fromPos + \" to: \" + toPos + \" x: \" + x + \" y: \" + y);\n        super.onMoved(recyclerView, viewHolder, fromPos, target, toPos, x, y);\n    }\n\n    @Override\n    public void onSwiped(RecyclerView.ViewHolder viewHolder, int direction) {\n\n    }\n\n    @Override\n    public boolean isLongPressDragEnabled() {\n        return true;\n    }\n\n    @Override\n    public boolean isItemViewSwipeEnabled() {\n        return false;\n    }\n}\n</code></pre>\n\n<p>I also find this <a href=\"https://stackoverflow.com/questions/37583571/drag-and-drop-an-item-from-one-recyclerview-listview-into-another-recyclerview\">question</a>, but it doesn't solve my problem.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1696480479,"post_id":77234218,"comment_id":136158961,"body_markdown":"The error indicates you have a `module-info.java` file (i.e., your code is modular) but you&#39;re missing a `requires java.desktop;` directive. I&#39;m surprised it compiles in the first place (though maybe that has to do with ECJ vs javac). Anyway, try adding that aforementioned requires directive, or making your code non-modular by deleting the `module-info` file.","body":"The error indicates you have a <code>module-info.java</code> file (i.e., your code is modular) but you&#39;re missing a <code>requires java.desktop;</code> directive. I&#39;m surprised it compiles in the first place (though maybe that has to do with ECJ vs javac). Anyway, try adding that aforementioned requires directive, or making your code non-modular by deleting the <code>module-info</code> file."},{"owner":{"account_id":29601559,"reputation":1,"user_id":22686860,"display_name":"2deezy"},"score":0,"creation_date":1696531664,"post_id":77234218,"comment_id":136168794,"body_markdown":"This worked, thank you very much!","body":"This worked, thank you very much!"}],"answers":[{"tags":[],"owner":{"account_id":23881045,"reputation":87,"user_id":17881743,"display_name":"Techie_Taks"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696480120,"creation_date":1696480120,"answer_id":77234260,"question_id":77234218,"body_markdown":"Did you try to rebuild the project or clean it?\r\n\r\nYou can also follow below two links which had similar issue:\r\n\r\nhttps://stackoverflow.com/questions/58149911/java-awt-package-not-accessible-in-eclipse\r\n\r\nhttps://stackoverflow.com/questions/51503140/the-import-java-awt-cannot-be-resolved","title":"How do I fix this illegal access error I am getting when running my code in Eclipse?","body":"<p>Did you try to rebuild the project or clean it?</p>\n<p>You can also follow below two links which had similar issue:</p>\n<p><a href=\"https://stackoverflow.com/questions/58149911/java-awt-package-not-accessible-in-eclipse\">Java AWT package &quot;not accessible&quot; in eclipse</a></p>\n<p><a href=\"https://stackoverflow.com/questions/51503140/the-import-java-awt-cannot-be-resolved\">The import java.awt cannot be resolved</a></p>\n"}],"owner":{"account_id":29601559,"reputation":1,"user_id":22686860,"display_name":"2deezy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696480370,"creation_date":1696479372,"question_id":77234218,"body_markdown":"I&#39;ve just started coding in Java using Eclipse and this is the code that is causing the error:\r\n\r\n```\r\npackage notes;\r\n\r\nimport java.util.Random;\r\nimport java.awt.Rectangle;\r\n/**\r\n * \r\n */\r\npublic class practice {\r\n\r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tRectangle box1 = new Rectangle(100, 100, 50, 50);\r\n                System.out.println(box1.width);\r\n\t\t\r\n\t}\r\n}\r\n```\r\n\r\nAfter running this, I get this error:\r\n\r\n```none\r\nException in thread &quot;main&quot; java.lang.IllegalAccessError: class notes.practice (in module notes) cannot access class java.awt.Rectangle (in module java.desktop) because module notes does not read module java.desktop\r\n\tat notes/notes.practice.main(practice.java:18)\r\n```\r\n\r\nI was running into a lot of errors before this such as &quot;error occurred during initialization of boot layer&quot; and &quot;#include errors detected. Update your include path.&quot; and fixed those by adding libraries to the build path. However, I can&#39;t seem to find the reason for this error. The libraries I added were JavaSE-11 and CDC-1.0/Foundation-1.0.","title":"How do I fix this illegal access error I am getting when running my code in Eclipse?","body":"<p>I've just started coding in Java using Eclipse and this is the code that is causing the error:</p>\n<pre><code>package notes;\n\nimport java.util.Random;\nimport java.awt.Rectangle;\n/**\n * \n */\npublic class practice {\n\n\n    public static void main(String[] args) {\n\n        Rectangle box1 = new Rectangle(100, 100, 50, 50);\n                System.out.println(box1.width);\n        \n    }\n}\n</code></pre>\n<p>After running this, I get this error:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Exception in thread &quot;main&quot; java.lang.IllegalAccessError: class notes.practice (in module notes) cannot access class java.awt.Rectangle (in module java.desktop) because module notes does not read module java.desktop\n    at notes/notes.practice.main(practice.java:18)\n</code></pre>\n<p>I was running into a lot of errors before this such as &quot;error occurred during initialization of boot layer&quot; and &quot;#include errors detected. Update your include path.&quot; and fixed those by adding libraries to the build path. However, I can't seem to find the reason for this error. The libraries I added were JavaSE-11 and CDC-1.0/Foundation-1.0.</p>\n"},{"tags":["java","spring-boot","spring-data-jpa","checkmarx"],"comments":[{"owner":{"account_id":12570978,"reputation":1684,"user_id":9145082,"display_name":"Ravi"},"score":0,"creation_date":1661845941,"post_id":72001344,"comment_id":129861870,"body_markdown":"@Wooodchuck, Have you solved this issue?. I&#39;m also getting same issue with Spring Data JPA.","body":"@Wooodchuck, Have you solved this issue?. I&#39;m also getting same issue with Spring Data JPA."},{"owner":{"account_id":4104221,"reputation":3989,"user_id":3368818,"accept_rate":75,"display_name":"Woodchuck"},"score":1,"creation_date":1661880072,"post_id":72001344,"comment_id":129875353,"body_markdown":"@RaviKumarB, I concur with Stanislav below that this is a false positive. So my resolution was to switch off the Checkmarx preset that flags these. I&#39;ve run into other of their presets, too, (e.g., Unsafe Object Binding) where Checkmarx flags issues in code that uses Spring which appear to be false positives.","body":"@RaviKumarB, I concur with Stanislav below that this is a false positive. So my resolution was to switch off the Checkmarx preset that flags these. I&#39;ve run into other of their presets, too, (e.g., Unsafe Object Binding) where Checkmarx flags issues in code that uses Spring which appear to be false positives."}],"answers":[{"tags":[],"owner":{"account_id":476019,"reputation":14699,"user_id":886697,"accept_rate":92,"display_name":"Stanislav Bashkyrtsev"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1650898163,"creation_date":1650898163,"answer_id":72001451,"question_id":72001344,"body_markdown":"This is a false positive, you need to contact the vendor and notify them about this case. When Hibernate generates SQL, it uses PreparedStatement. All the Entity fields that you change will be sent separately from the query - there won&#39;t be any concatenation.\r\n\r\nSpring Data doesn&#39;t change the way Hibernate works with entities. So either this is a false positive, or you&#39;re looking at the wrong line of code.","title":"SQL Injection Prevention in Spring Boot","body":"<p>This is a false positive, you need to contact the vendor and notify them about this case. When Hibernate generates SQL, it uses PreparedStatement. All the Entity fields that you change will be sent separately from the query - there won't be any concatenation.</p>\n<p>Spring Data doesn't change the way Hibernate works with entities. So either this is a false positive, or you're looking at the wrong line of code.</p>\n"},{"tags":[],"owner":{"account_id":21140030,"reputation":11,"user_id":15542640,"display_name":"J jenika"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696480248,"creation_date":1696480248,"answer_id":77234267,"question_id":72001344,"body_markdown":"JPA repository is against SQL injection you don&#39;t need to add intentionally. JPA features already avoid injection","title":"SQL Injection Prevention in Spring Boot","body":"<p>JPA repository is against SQL injection you don't need to add intentionally. JPA features already avoid injection</p>\n"}],"owner":{"account_id":4104221,"reputation":3989,"user_id":3368818,"accept_rate":75,"display_name":"Woodchuck"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4733,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72001451,"answer_count":2,"score":2,"last_activity_date":1696480248,"creation_date":1650897675,"question_id":72001344,"body_markdown":"My Checkmarx report flags this method in my Spring Boot app as as a **High** severity **Second Order SQL Injection**:\r\n\r\n    public void updateEmployees(int storeId) {\r\n      List&lt;Employee&gt; employees = employeeRepo.findByStoreId(storeId);\r\n      employees.stream().forEach(e-&gt;{\r\n        e.setActive(&#39;Y&#39;);\r\n        employeeRepo.save(s);\r\n      });\r\n    }\r\n\r\nPer Checkmarx:\r\n\r\n&gt; ... The application constructs this SQL query by embedding an untrusted string into the query without proper sanitization. The concatenated string is submitted to the database, where it is parsed and executed accordingly.\r\n\r\nThe setActive(‘Y’) line appears to be the issue. \r\n\r\nThe guidance I find on data sanitization for Spring Data JPA usage suggests using a TypedQuery, created from an entityManager instance. Something like:\r\n\r\n    String jql = &quot;from Employee where storeId = :storeId&quot;;\r\n    TypedQuery&lt;Account&gt; q = em.createQuery(jql, Employee.class)\r\n      .setParameter(&quot;storeId&quot;, storeId);\r\n\r\nIn my app, however, the EntityManager is implicitly created by Spring Boot. \r\n\r\nSo in order to implement &quot;proper sanitization&quot; here, do I need to explicitly create the EntityManager instance (to access its createQuery method)? Or is there a more straightforward way to implement this that does not requiree explicit EntityManager instantiation?\r\n\r\n","title":"SQL Injection Prevention in Spring Boot","body":"<p>My Checkmarx report flags this method in my Spring Boot app as as a <strong>High</strong> severity <strong>Second Order SQL Injection</strong>:</p>\n<pre><code>public void updateEmployees(int storeId) {\n  List&lt;Employee&gt; employees = employeeRepo.findByStoreId(storeId);\n  employees.stream().forEach(e-&gt;{\n    e.setActive('Y');\n    employeeRepo.save(s);\n  });\n}\n</code></pre>\n<p>Per Checkmarx:</p>\n<blockquote>\n<p>... The application constructs this SQL query by embedding an untrusted string into the query without proper sanitization. The concatenated string is submitted to the database, where it is parsed and executed accordingly.</p>\n</blockquote>\n<p>The setActive(‘Y’) line appears to be the issue.</p>\n<p>The guidance I find on data sanitization for Spring Data JPA usage suggests using a TypedQuery, created from an entityManager instance. Something like:</p>\n<pre><code>String jql = &quot;from Employee where storeId = :storeId&quot;;\nTypedQuery&lt;Account&gt; q = em.createQuery(jql, Employee.class)\n  .setParameter(&quot;storeId&quot;, storeId);\n</code></pre>\n<p>In my app, however, the EntityManager is implicitly created by Spring Boot.</p>\n<p>So in order to implement &quot;proper sanitization&quot; here, do I need to explicitly create the EntityManager instance (to access its createQuery method)? Or is there a more straightforward way to implement this that does not requiree explicit EntityManager instantiation?</p>\n"},{"tags":["java","selenium-webdriver","cucumber","selenium-java"],"comments":[{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":0,"creation_date":1696480087,"post_id":77234219,"comment_id":136158939,"body_markdown":"Need more information. What type of SSO you are having?","body":"Need more information. What type of SSO you are having?"},{"owner":{"account_id":23881045,"reputation":87,"user_id":17881743,"display_name":"Techie_Taks"},"score":0,"creation_date":1696481428,"post_id":77234219,"comment_id":136159020,"body_markdown":"AzureAD SSO for Windchill web application. We are automating the test cases for windchill. Recently our WIndchill is configured with SSO. So need to configure selenium with SSO for accessing Windchill","body":"AzureAD SSO for Windchill web application. We are automating the test cases for windchill. Recently our WIndchill is configured with SSO. So need to configure selenium with SSO for accessing Windchill"}],"owner":{"account_id":23881045,"reputation":87,"user_id":17881743,"display_name":"Techie_Taks"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696479376,"creation_date":1696479376,"question_id":77234219,"body_markdown":"How to handle SSO in Selenium Java with cucumber framework. Can anybody tells me what is the process of doing it?","title":"How to handle SSO in Selenium Java with cucumber framework","body":"<p>How to handle SSO in Selenium Java with cucumber framework. Can anybody tells me what is the process of doing it?</p>\n"},{"tags":["java","eval","scriptengine","java-17"],"answers":[{"tags":[],"owner":{"account_id":9847991,"reputation":56906,"user_id":7294900,"accept_rate":94,"display_name":"Ori Marko"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1680974371,"creation_date":1647344450,"answer_id":71481633,"question_id":71481562,"body_markdown":"The [Nashorn JavaScript Engine][1] has been removed from Java. [Deprecated in Java 11][2], [removed in Java 15][3].\r\n\r\n\r\nSo you need to use different script engine, as [GraalVM][4].\r\n\r\n&gt;switch to the GraalVM JavaScript engine. First, add the required dependencies to your project.\r\n\r\n&gt;     &lt;dependency&gt;\r\n&gt;       &lt;groupId&gt;org.graalvm.js&lt;/groupId&gt;\r\n&gt;       &lt;artifactId&gt;js&lt;/artifactId&gt;\r\n&gt;       &lt;version&gt;22.0.0&lt;/version&gt;\r\n&gt;     &lt;/dependency&gt;  \r\n&gt;     &lt;dependency&gt;\r\n&gt;       &lt;groupId&gt;org.graalvm.js&lt;/groupId&gt;\r\n&gt;       &lt;artifactId&gt;js-scriptengine&lt;/artifactId&gt;\r\n&gt;       &lt;version&gt;22.0.0&lt;/version&gt;\r\n&gt;     &lt;/dependency&gt;\r\n\r\n\r\n&gt; Then change the engine name to graal.js.\r\n\r\n&gt;     // Graal\r\n&gt;     ScriptEngine graalEngine = new ScriptEngineManager().getEngineByName(&quot;graal.js&quot;);\r\n&gt;     graalEngine.eval(&quot;print(&#39;Hello World!&#39;);&quot;);\r\n\r\nYou can check which engines available using \r\n\r\n    new ScriptEngineManager().getEngineFactories();\r\n\r\nOr add different script engines to your project as velocity, jexl, groovy,... \r\n\r\n\r\n  [1]:https://golb.hplar.ch/2020/04/java-javascript-engine.html\r\n  [2]: https://openjdk.org/jeps/335\r\n  [3]: https://openjdk.org/jeps/372\r\n  [4]: https://en.wikipedia.org/wiki/GraalVM","title":"Use Javascript scripting engine in Java 17","body":"<p>The <a href=\"https://golb.hplar.ch/2020/04/java-javascript-engine.html\" rel=\"noreferrer\">Nashorn JavaScript Engine</a> has been removed from Java. <a href=\"https://openjdk.org/jeps/335\" rel=\"noreferrer\">Deprecated in Java 11</a>, <a href=\"https://openjdk.org/jeps/372\" rel=\"noreferrer\">removed in Java 15</a>.</p>\n<p>So you need to use different script engine, as <a href=\"https://en.wikipedia.org/wiki/GraalVM\" rel=\"noreferrer\">GraalVM</a>.</p>\n<blockquote>\n<p>switch to the GraalVM JavaScript engine. First, add the required dependencies to your project.</p>\n</blockquote>\n<blockquote>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.graalvm.js&lt;/groupId&gt;\n  &lt;artifactId&gt;js&lt;/artifactId&gt;\n  &lt;version&gt;22.0.0&lt;/version&gt;\n&lt;/dependency&gt;  \n&lt;dependency&gt;\n  &lt;groupId&gt;org.graalvm.js&lt;/groupId&gt;\n  &lt;artifactId&gt;js-scriptengine&lt;/artifactId&gt;\n  &lt;version&gt;22.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n</blockquote>\n<blockquote>\n<p>Then change the engine name to graal.js.</p>\n</blockquote>\n<blockquote>\n<pre><code>// Graal\nScriptEngine graalEngine = new ScriptEngineManager().getEngineByName(&quot;graal.js&quot;);\ngraalEngine.eval(&quot;print('Hello World!');&quot;);\n</code></pre>\n</blockquote>\n<p>You can check which engines available using</p>\n<pre><code>new ScriptEngineManager().getEngineFactories();\n</code></pre>\n<p>Or add different script engines to your project as velocity, jexl, groovy,...</p>\n"},{"tags":[],"owner":{"account_id":3848680,"reputation":4287,"user_id":3189360,"display_name":"A. Sundararajan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696475595,"creation_date":1696475595,"answer_id":77234050,"question_id":71481562,"body_markdown":"Nashorn script engine is maintained as a separate standalone project now\r\n\r\nhttps://github.com/openjdk/nashorn\r\n\r\nMaven artifact from this project is available as well:\r\n\r\nhttps://mvnrepository.com/artifact/org.openjdk.nashorn","title":"Use Javascript scripting engine in Java 17","body":"<p>Nashorn script engine is maintained as a separate standalone project now</p>\n<p><a href=\"https://github.com/openjdk/nashorn\" rel=\"nofollow noreferrer\">https://github.com/openjdk/nashorn</a></p>\n<p>Maven artifact from this project is available as well:</p>\n<p><a href=\"https://mvnrepository.com/artifact/org.openjdk.nashorn\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.openjdk.nashorn</a></p>\n"}],"owner":{"account_id":6795423,"reputation":383,"user_id":5230928,"accept_rate":83,"display_name":"JustMe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16689,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"answer_count":2,"score":16,"last_activity_date":1696475595,"creation_date":1647344057,"question_id":71481562,"body_markdown":"I have to move a project from Java 8 to Java 17. \r\n\r\nI could solve most issues, but it contains a method, in which I use the ScriptEngineManager to evaluate a mathematical term.\r\n     \r\n     ScriptEngineManager mgr = new ScriptEngineManager();\r\n     ScriptEngine e = mgr.getEngineByName(&quot;JavaScript&quot;);\r\n     \r\n     String t = &quot;5*7&quot;;\r\n     if (isMathTerm(t)) {\r\n        System.out.println(e.eval(t).toString());\r\n     }\r\n\r\nIn Java 8 it works as required, but in Java 17 `e` is always null.\r\n\r\nAccording to google, the JavaScript Engine is no longer supported in Java 17.\r\n\r\nDue to project constraints, I am not allowed to use third party libraries.\r\n\r\nIs there a proper way to handle this in Java 17?","title":"Use Javascript scripting engine in Java 17","body":"<p>I have to move a project from Java 8 to Java 17.</p>\n<p>I could solve most issues, but it contains a method, in which I use the ScriptEngineManager to evaluate a mathematical term.</p>\n<pre><code> ScriptEngineManager mgr = new ScriptEngineManager();\n ScriptEngine e = mgr.getEngineByName(&quot;JavaScript&quot;);\n \n String t = &quot;5*7&quot;;\n if (isMathTerm(t)) {\n    System.out.println(e.eval(t).toString());\n }\n</code></pre>\n<p>In Java 8 it works as required, but in Java 17 <code>e</code> is always null.</p>\n<p>According to google, the JavaScript Engine is no longer supported in Java 17.</p>\n<p>Due to project constraints, I am not allowed to use third party libraries.</p>\n<p>Is there a proper way to handle this in Java 17?</p>\n"},{"tags":["java","c++","type-systems"],"answers":[{"tags":[],"owner":{"account_id":875002,"reputation":6703,"user_id":924820,"display_name":"BigMike"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1319533117,"creation_date":1319532174,"answer_id":7886761,"question_id":7886719,"body_markdown":"In java there&#39;s nothing like this, I would add a third element implementing the two interfaces and use it as a parameter. And this will makes perfect sense to me, because the third object is neither an IF1 nor an IF2, is just an IF3.\r\n\r\n\r\n    interface a {\r\n      int foo();\r\n    }\r\n    \r\n    \r\n    interface b {\r\n      long foo2();\r\n    }\r\n    \r\n    interface c extends a, b {\r\n      long daaa();\r\n    }\r\n    \r\n    public class TestInterface {\r\n    \r\n      void someMethod (c theThird) {\r\n        return;\r\n      }\r\n    }\r\n\r\n\r\nthis makes sense to me.\r\n\r\n\r\nEDIT: \r\nWasn&#39;t aware of\r\n\r\n    public &lt;I extends a &amp; b&gt; void methodName(I i){\r\n    \r\n    }\r\n\r\nHowever I found it confusing. If an object needs to implement two different Interfaces I prefer to have a third one. IMHO it&#39;s cleaner.","title":"Merging interfaces, without merging","body":"<p>In java there's nothing like this, I would add a third element implementing the two interfaces and use it as a parameter. And this will makes perfect sense to me, because the third object is neither an IF1 nor an IF2, is just an IF3.</p>\n\n<pre><code>interface a {\n  int foo();\n}\n\n\ninterface b {\n  long foo2();\n}\n\ninterface c extends a, b {\n  long daaa();\n}\n\npublic class TestInterface {\n\n  void someMethod (c theThird) {\n    return;\n  }\n}\n</code></pre>\n\n<p>this makes sense to me.</p>\n\n<p>EDIT: \nWasn't aware of</p>\n\n<pre><code>public &lt;I extends a &amp; b&gt; void methodName(I i){\n\n}\n</code></pre>\n\n<p>However I found it confusing. If an object needs to implement two different Interfaces I prefer to have a third one. IMHO it's cleaner.</p>\n"},{"tags":[],"owner":{"account_id":15175,"reputation":11992,"user_id":31782,"accept_rate":67,"display_name":"n0rd"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1319532268,"creation_date":1319532268,"answer_id":7886777,"question_id":7886719,"body_markdown":"in C++ you can do something like that:\r\n\r\n    template &lt;typename T&gt;\r\n    void f(T &amp;o)\r\n    {\r\n        IF1 &amp;i1 = o;\r\n        IF2 &amp;i2 = o;\r\n\r\n        //function body\r\n    }\r\n\r\nlines with interface pointer are needed to ensure that T implements both interfaces (it will cause compiler error if it is not).","title":"Merging interfaces, without merging","body":"<p>in C++ you can do something like that:</p>\n\n<pre><code>template &lt;typename T&gt;\nvoid f(T &amp;o)\n{\n    IF1 &amp;i1 = o;\n    IF2 &amp;i2 = o;\n\n    //function body\n}\n</code></pre>\n\n<p>lines with interface pointer are needed to ensure that T implements both interfaces (it will cause compiler error if it is not).</p>\n"},{"tags":[],"owner":{"account_id":949148,"reputation":6284,"user_id":975700,"display_name":"Francisco Paulo"},"down_vote_count":0,"up_vote_count":28,"is_accepted":true,"score":28,"last_activity_date":1696475553,"creation_date":1319532286,"answer_id":7886779,"question_id":7886719,"body_markdown":"You can do this in Java:\r\n\r\n    public &lt;I extends IF1 &amp; IF2&gt; void methodName(I i){\r\n  \r\n    ....\r\n\t\r\n    }\r\n\r\nThis way, you force `I` to implement your two interfaces, otherwise it won&#39;t even compile.\r\n","title":"Merging interfaces, without merging","body":"<p>You can do this in Java:</p>\n<pre><code>public &lt;I extends IF1 &amp; IF2&gt; void methodName(I i){\n\n....\n\n}\n</code></pre>\n<p>This way, you force <code>I</code> to implement your two interfaces, otherwise it won't even compile.</p>\n"},{"tags":[],"owner":{"account_id":242612,"reputation":68519,"user_id":514235,"accept_rate":80,"display_name":"iammilind"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1319855378,"creation_date":1319532365,"answer_id":7886793,"question_id":7886719,"body_markdown":"In C++, we can use `std::is_base_of&lt;IF1, Derived&gt;`. This has to be used with the actual derived and base type and will be easy to use with the help of `tempalte`s.\r\n\r\n    template&lt;typename T&gt;\r\n    void f (T obj)\r\n    {\r\n      static_assert(is_base_of&lt;IF1,T&gt;::value &amp;&amp; is_base_of&lt;IF2,T&gt;::value,\r\n      &quot;Error: Not implementing proper interfaces.&quot;);\r\n      ...\r\n    }\r\nIf `T` (a derived `class`) is not implementing `IF1` and `IF2`, then the assertion will fail at compile time.","title":"Merging interfaces, without merging","body":"<p>In C++, we can use <code>std::is_base_of&lt;IF1, Derived&gt;</code>. This has to be used with the actual derived and base type and will be easy to use with the help of <code>tempalte</code>s.</p>\n\n<pre><code>template&lt;typename T&gt;\nvoid f (T obj)\n{\n  static_assert(is_base_of&lt;IF1,T&gt;::value &amp;&amp; is_base_of&lt;IF2,T&gt;::value,\n  \"Error: Not implementing proper interfaces.\");\n  ...\n}\n</code></pre>\n\n<p>If <code>T</code> (a derived <code>class</code>) is not implementing <code>IF1</code> and <code>IF2</code>, then the assertion will fail at compile time.</p>\n"},{"tags":[],"owner":{"account_id":15130,"reputation":16848,"user_id":31640,"accept_rate":83,"display_name":"Beno&#238;t"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1319533085,"creation_date":1319533085,"answer_id":7886923,"question_id":7886719,"body_markdown":"Using boost libraries ([type_traits][1], [enable_if][2], [and_][3]), you can do something quite elaborate.\r\n\r\n    template &lt;typename T&gt;\r\n    typename boost::enable_if&lt;           // Check whether\r\n        boost::mpl::and_&lt;                // Both of the following conditions are met\r\n            boost::is_base_of&lt;IF1, T&gt;,   // T derives from IF1\r\n            boost::is_base_of&lt;IF2, T&gt;    // T derives from IF2\r\n            &gt;\r\n        &gt;\r\n    &gt;::type\r\n    function(T&amp; t)\r\n    {\r\n      // ...\r\n    }\r\n\r\nThere may be a few quirks here and there in my code, but you get the idea.\r\n\r\n\r\n  [1]: http://www.boost.org/doc/libs/1_47_0/libs/type_traits/doc/html/index.html\r\n  [2]: http://www.boost.org/doc/libs/1_47_0/libs/utility/enable_if.html\r\n  [3]: http://www.boost.org/doc/libs/1_47_0/libs/mpl/doc/refmanual/and.html","title":"Merging interfaces, without merging","body":"<p>Using boost libraries (<a href=\"http://www.boost.org/doc/libs/1_47_0/libs/type_traits/doc/html/index.html\" rel=\"nofollow\">type_traits</a>, <a href=\"http://www.boost.org/doc/libs/1_47_0/libs/utility/enable_if.html\" rel=\"nofollow\">enable_if</a>, <a href=\"http://www.boost.org/doc/libs/1_47_0/libs/mpl/doc/refmanual/and.html\" rel=\"nofollow\">and_</a>), you can do something quite elaborate.</p>\n\n<pre><code>template &lt;typename T&gt;\ntypename boost::enable_if&lt;           // Check whether\n    boost::mpl::and_&lt;                // Both of the following conditions are met\n        boost::is_base_of&lt;IF1, T&gt;,   // T derives from IF1\n        boost::is_base_of&lt;IF2, T&gt;    // T derives from IF2\n        &gt;\n    &gt;\n&gt;::type\nfunction(T&amp; t)\n{\n  // ...\n}\n</code></pre>\n\n<p>There may be a few quirks here and there in my code, but you get the idea.</p>\n"},{"tags":[],"owner":{"account_id":446124,"reputation":17924,"user_id":838975,"accept_rate":100,"display_name":"Nicola Musatti"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1319535763,"creation_date":1319535763,"answer_id":7887391,"question_id":7886719,"body_markdown":"What&#39;s wrong with:\r\n\r\n    interface IF1IF2 extends IF1, IF2 {}\r\n    \r\n    void f(IF1IF2 o) {\r\n    }\r\n\r\nWhy overcomplicate things?\r\n","title":"Merging interfaces, without merging","body":"<p>What's wrong with:</p>\n\n<pre><code>interface IF1IF2 extends IF1, IF2 {}\n\nvoid f(IF1IF2 o) {\n}\n</code></pre>\n\n<p>Why overcomplicate things?</p>\n"}],"owner":{"account_id":390248,"reputation":9974,"user_id":750186,"accept_rate":94,"display_name":"Martin Kristiansen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2599,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":7886779,"answer_count":6,"score":16,"last_activity_date":1696475553,"creation_date":1319531911,"question_id":7886719,"body_markdown":"I was thinking, does C++ or Java have a way to do something like this\r\n\r\n    Interface IF1{\r\n        ....\r\n    };\r\n\r\n    Interface IF2{\r\n        ....\r\n    };\r\n\r\n\r\n    function f(Object o : Implements IF1, IF2){\r\n        ...\r\n    }\r\n\r\n\r\nmeaning a typesystem that allows you to require implementation of interfaces.\r\n","title":"Merging interfaces, without merging","body":"<p>I was thinking, does C++ or Java have a way to do something like this</p>\n\n<pre><code>Interface IF1{\n    ....\n};\n\nInterface IF2{\n    ....\n};\n\n\nfunction f(Object o : Implements IF1, IF2){\n    ...\n}\n</code></pre>\n\n<p>meaning a typesystem that allows you to require implementation of interfaces.</p>\n"},{"tags":["java","jco"],"comments":[{"owner":{"account_id":76469,"reputation":18423,"user_id":218890,"accept_rate":64,"display_name":"vwegert"},"score":0,"creation_date":1411471426,"post_id":25993401,"comment_id":40705921,"body_markdown":"Could you please add the full stack trace, not a cut-off version?","body":"Could you please add the full stack trace, not a cut-off version?"},{"owner":{"account_id":2753868,"reputation":51,"user_id":2372543,"display_name":"user2372543"},"score":0,"creation_date":1411482252,"post_id":25993401,"comment_id":40712992,"body_markdown":"i haved add the complete error message from my log","body":"i haved add the complete error message from my log"}],"answers":[{"tags":[],"owner":{"account_id":174031,"reputation":7580,"user_id":403132,"display_name":"Kurt Du Bois"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1411471967,"creation_date":1411471967,"answer_id":25994018,"question_id":25993401,"body_markdown":"The jar-file containing the `com.sap.conn.jco.JCo` is not on the classpath. Are you sure that you have correctly set it as a JVM parameter? Adding it to the PATH-variable is not going to work since your JVM does not read that variable.","title":"SAP JCo JAVA Could not initialize class com.sap.conn.jco.JCo","body":"<p>The jar-file containing the <code>com.sap.conn.jco.JCo</code> is not on the classpath. Are you sure that you have correctly set it as a JVM parameter? Adding it to the PATH-variable is not going to work since your JVM does not read that variable.</p>\n"},{"tags":[],"owner":{"account_id":20725,"reputation":4287,"user_id":49804,"display_name":"PATRY Guillaume"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1411633016,"creation_date":1411633016,"answer_id":26033708,"question_id":25993401,"body_markdown":"As it is said, the JCo jar file is not accessible during execution.   \r\nI think that you you can put the jar (and dll) under the webinf/lib directory of your webapp, or put them in the common lib directory of Tomcat if several app can use the lib.","title":"SAP JCo JAVA Could not initialize class com.sap.conn.jco.JCo","body":"<p>As it is said, the JCo jar file is not accessible during execution.<br>\nI think that you you can put the jar (and dll) under the webinf/lib directory of your webapp, or put them in the common lib directory of Tomcat if several app can use the lib.</p>\n"},{"tags":[],"owner":{"account_id":6228011,"reputation":1121,"user_id":4845660,"display_name":"Loic Mouchard"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1526033633,"creation_date":1525097272,"answer_id":50102238,"question_id":25993401,"body_markdown":"For JCO 2, we paste the JCO dll file under c:\\Windows\\System32 ","title":"SAP JCo JAVA Could not initialize class com.sap.conn.jco.JCo","body":"<p>For JCO 2, we paste the JCO dll file under c:\\Windows\\System32 </p>\n"}],"owner":{"account_id":2753868,"reputation":51,"user_id":2372543,"display_name":"user2372543"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28140,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":3,"score":5,"last_activity_date":1696475501,"creation_date":1411470134,"question_id":25993401,"body_markdown":"I want to use SAP JCo to select user data for my Java program.\r\n\r\nBut all I got is: \r\n&gt; ```\r\n&gt; Sep 23, 2014 1:34:28 PM org.apache.catalina.core.StandardWrapperValve invoke\r\n&gt; SEVERE: Servlet.service() for servlet [StepByStepClient] in context with path [/Formularmanager-test]\r\n&gt; threw exception [Servlet execution threw an exception] with root cause\r\n&gt; java.lang.NoClassDefFoundError: Could not initialize class com.sap.conn.jco.JCo\r\n&gt; \tat com.sap.conn.jco.JCoDestinationManager.getDestination(JCoDestinationManager.java:61)\r\n&gt; \tat com.pferd.itdienste.sap.StepByStepClient.step1Connect(StepByStepClient.java:125)\r\n&gt; \tat com.pferd.itdienste.sap.StepByStepClient.processRequest(StepByStepClient.java:356)\r\n&gt; \tat com.pferd.itdienste.sap.StepByStepClient.doGet(StepByStepClient.java:70)\r\n&gt; \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:621)\r\n&gt; \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:728)\r\n&gt; \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:305)\r\n&gt; \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)\r\n&gt; \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:222)\r\n&gt; \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:123)\r\n&gt; \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:502)\r\n&gt; \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171)\r\n&gt; \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:99)\r\n&gt; \tat org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:953)\r\n&gt; \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)\r\n&gt; \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:408)\r\n&gt; \tat org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1023)\r\n&gt; \tat org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:589)\r\n&gt; \tat org.apache.tomcat.util.net.AprEndpoint$SocketProcessor.run(AprEndpoint.java:1852)\r\n&gt; \tat java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\r\n&gt; \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\r\n&gt; \tat java.lang.Thread.run(Unknown Source)\r\n&gt; ```\r\n\r\nFor a test I use the example script `StepByStepClient` and I have modified this only, so I can use it as a Web servlet.\r\n\r\nAll files from SAP JCo are on `C:\\sapjco30P_11-10005326` and I have this folder registered in the system pfad variable.\r\n\r\nAt this moment I don&#39;t know where my error is! So I need help, please!\r\n\r\nSAP Java Connector\r\n- Java Runtime\r\n- Operating System: Windows Server 2012 6.2 for amd64\r\n- Java VM: 1.7.0_60 Oracle Corporation\r\n- Default charset: windows-1252\r\n\r\nVersions\r\n\r\n- JCo API: 3.0.11 (2014-04-15)  \r\n- JCo middleware: JavaRfc 2.2.12\r\n- JCo library: 720.612\r\n\r\n\r\nLibrary Paths\r\n\r\n- Path to JCo archive: `C:\\sapjco30P_11-10005326\\sapjco3.jar `\r\n- Path to JCo library: `C:\\sapjco30P_11-10005326\\sapjco3.dll`\r\n\r\nEclipse Juno\r\nXAMPP Tomcat 7\r\n\r\n    package com.pferd.itdienste.sap;\r\n    \r\n    import java.io.File;\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    import java.util.Properties;\r\n    import java.util.concurrent.CountDownLatch;\r\n    \r\n    import javax.servlet.ServletException;\r\n    import javax.servlet.annotation.WebServlet;\r\n    import javax.servlet.http.HttpServlet;\r\n    import javax.servlet.http.HttpServletRequest;\r\n    import javax.servlet.http.HttpServletResponse;\r\n    \r\n    import com.sap.conn.jco.AbapException;\r\n    import com.sap.conn.jco.JCoContext;\r\n    import com.sap.conn.jco.JCoDestination;\r\n    import com.sap.conn.jco.JCoDestinationManager;\r\n    import com.sap.conn.jco.JCoException;\r\n    import com.sap.conn.jco.JCoField;\r\n    import com.sap.conn.jco.JCoFunction;\r\n    import com.sap.conn.jco.JCoFunctionTemplate;\r\n    import com.sap.conn.jco.JCoStructure;\r\n    import com.sap.conn.jco.JCoTable;\r\n    import com.sap.conn.jco.ext.DestinationDataProvider;\r\n    \r\n    @WebServlet(name = &quot;StepByStepClient&quot;, urlPatterns = {&quot;/StepByStepClient&quot;})\r\n    public class StepByStepClient extends HttpServlet\r\n    {\r\n        static String ABAP_AS = &quot;ABAP_AS_WITHOUT_POOL&quot;;\r\n        static String ABAP_AS_POOLED = &quot;ABAP_AS_WITH_POOL&quot;;\r\n        static String ABAP_MS = &quot;ABAP_MS_WITHOUT_POOL&quot;;    \r\n        static\r\n        {\r\n            Properties connectProperties = new Properties();\r\n            connectProperties.setProperty(DestinationDataProvider.JCO_ASHOST, &quot;HOST&quot;);\r\n            connectProperties.setProperty(DestinationDataProvider.JCO_SYSNR,  &quot;01&quot;);\r\n            connectProperties.setProperty(DestinationDataProvider.JCO_CLIENT, &quot;200&quot;);\r\n            connectProperties.setProperty(DestinationDataProvider.JCO_USER,   &quot;USER&quot;);\r\n            connectProperties.setProperty(DestinationDataProvider.JCO_PASSWD, &quot;PASSWORD&quot;);\r\n            connectProperties.setProperty(DestinationDataProvider.JCO_LANG,   &quot;en&quot;);\r\n            createDataFile(ABAP_AS, &quot;jcoDestination&quot;, connectProperties);\r\n    \r\n            connectProperties.setProperty(DestinationDataProvider.JCO_POOL_CAPACITY, &quot;3&quot;);\r\n            connectProperties.setProperty(DestinationDataProvider.JCO_PEAK_LIMIT,    &quot;10&quot;);\r\n            createDataFile(ABAP_AS_POOLED, &quot;jcoDestination&quot;, connectProperties);\r\n    \r\n            connectProperties.clear();\r\n            connectProperties.setProperty(DestinationDataProvider.JCO_MSHOST, &quot;HOST&quot;);\r\n            connectProperties.setProperty(DestinationDataProvider.JCO_R3NAME,  &quot;SID&quot;);\r\n            connectProperties.setProperty(DestinationDataProvider.JCO_CLIENT, &quot;200&quot;);\r\n            connectProperties.setProperty(DestinationDataProvider.JCO_USER,   &quot;USER&quot;);\r\n            connectProperties.setProperty(DestinationDataProvider.JCO_PASSWD, &quot;PASSWORD&quot;);\r\n            connectProperties.setProperty(DestinationDataProvider.JCO_GROUP, &quot;GROUP&quot;);\r\n            connectProperties.setProperty(DestinationDataProvider.JCO_LANG,   &quot;en&quot;);\r\n            createDataFile(ABAP_MS, &quot;jcoDestination&quot;, connectProperties);\r\n        }\r\n       \r\n        /** \r\n         * Handles the HTTP &lt;code&gt;GET&lt;/code&gt; method.\r\n         * @param request servlet request\r\n         * @param response servlet response\r\n         * @throws ServletException if a servlet-specific error occurs\r\n         * @throws IOException if an I/O error occurs\r\n         */\r\n        @Override\r\n        protected void doGet(HttpServletRequest request, HttpServletResponse response)\r\n                throws ServletException, IOException {\r\n            try {\r\n    \t\t\tprocessRequest(request, response);\r\n    \t\t} catch (JCoException e) {\r\n    \t\t\t// TODO Auto-generated catch block\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n        }\r\n    \r\n        /** \r\n         * Handles the HTTP &lt;code&gt;POST&lt;/code&gt; method.\r\n         * @param request servlet request\r\n         * @param response servlet response\r\n         * @throws ServletException if a servlet-specific error occurs\r\n         * @throws IOException if an I/O error occurs\r\n         */\r\n        @Override\r\n        protected void doPost(HttpServletRequest request, HttpServletResponse response)\r\n                throws ServletException, IOException {\r\n            try {\r\n    \t\t\tprocessRequest(request, response);\r\n    \t\t} catch (JCoException e) {\r\n    \t\t\t// TODO Auto-generated catch block\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n        }\r\n    \r\n        /** \r\n         * Returns a short description of the servlet.\r\n         * @return a String containing servlet description\r\n         */\r\n        @Override\r\n        public String getServletInfo() {\r\n            return &quot;Short description&quot;;\r\n        }// &lt;/editor-fold&gt;    \r\n        \r\n        static void createDataFile(String name, String suffix, Properties properties)\r\n        {\r\n            File cfg = new File(name+&quot;.&quot;+suffix);\r\n            if(!cfg.exists())\r\n            {\r\n                try\r\n                {\r\n                    FileOutputStream fos = new FileOutputStream(cfg, false);\r\n                    properties.store(fos, &quot;for tests only !&quot;);\r\n                    fos.close();\r\n                }\r\n                catch (Exception e)\r\n                {\r\n                    throw new RuntimeException(&quot;Unable to create the destination file &quot; + cfg.getName(), e);\r\n                }\r\n            }\r\n        }\r\n        \r\n        \r\n        public static void step1Connect() throws JCoException\r\n        {\r\n            JCoDestination destination = JCoDestinationManager.getDestination(ABAP_AS);\r\n            System.out.println(&quot;Attributes:&quot;);\r\n            System.out.println(destination.getAttributes());\r\n            System.out.println();\r\n    \r\n            destination = JCoDestinationManager.getDestination(ABAP_MS);\r\n            System.out.println(&quot;Attributes:&quot;);\r\n            System.out.println(destination.getAttributes());\r\n            System.out.println();\r\n        }\r\n        \r\n        public static void step2ConnectUsingPool() throws JCoException\r\n        {\r\n            JCoDestination destination = JCoDestinationManager.getDestination(ABAP_AS_POOLED);\r\n            destination.ping();\r\n            System.out.println(&quot;Attributes:&quot;);\r\n            System.out.println(destination.getAttributes());\r\n            System.out.println();\r\n        }\r\n        \r\n        public static void step3SimpleCall() throws JCoException\r\n        {\r\n            JCoDestination destination = JCoDestinationManager.getDestination(ABAP_AS_POOLED);\r\n            JCoFunction function = destination.getRepository().getFunction(&quot;STFC_CONNECTION&quot;);\r\n            if(function == null)\r\n                throw new RuntimeException(&quot;BAPI_COMPANYCODE_GETLIST not found in SAP.&quot;);\r\n    \r\n            function.getImportParameterList().setValue(&quot;REQUTEXT&quot;, &quot;Hello SAP&quot;);\r\n            \r\n            try\r\n            {\r\n                function.execute(destination);\r\n            }\r\n            catch(AbapException e)\r\n            {\r\n                System.out.println(e.toString());\r\n                return;\r\n            }\r\n            \r\n            System.out.println(&quot;STFC_CONNECTION finished:&quot;);\r\n            System.out.println(&quot; Echo: &quot; + function.getExportParameterList().getString(&quot;ECHOTEXT&quot;));\r\n            System.out.println(&quot; Response: &quot; + function.getExportParameterList().getString(&quot;RESPTEXT&quot;));\r\n            System.out.println();\r\n        }\r\n        \r\n        public static void step3WorkWithStructure() throws JCoException\r\n        {\r\n            JCoDestination destination = JCoDestinationManager.getDestination(ABAP_AS_POOLED);\r\n            JCoFunction function = destination.getRepository().getFunction(&quot;RFC_SYSTEM_INFO&quot;);\r\n            if(function == null)\r\n                throw new RuntimeException(&quot;RFC_SYSTEM_INFO not found in SAP.&quot;);\r\n    \r\n            try\r\n            {\r\n                function.execute(destination);\r\n            }\r\n            catch(AbapException e)\r\n            {\r\n                System.out.println(e.toString());\r\n                return;\r\n            }\r\n            \r\n            JCoStructure exportStructure = function.getExportParameterList().getStructure(&quot;RFCSI_EXPORT&quot;);\r\n            System.out.println(&quot;System info for &quot; + destination.getAttributes().getSystemID() + &quot;:\\n&quot;);\r\n            for(int i = 0; i &lt; exportStructure.getMetaData().getFieldCount(); i++) \r\n            {\r\n                System.out.println(exportStructure.getMetaData().getName(i) + &quot;:\\t&quot; + exportStructure.getString(i));\r\n            }\r\n            System.out.println();\r\n            \r\n            //JCo still supports the JCoFields, but direct access via getXX is more efficient as field iterator\r\n            System.out.println(&quot;The same using field iterator: \\nSystem info for &quot; + destination.getAttributes().getSystemID() + &quot;:\\n&quot;);\r\n            for(JCoField field : exportStructure)\r\n            {\r\n                System.out.println(field.getName() + &quot;:\\t&quot; + field.getString());\r\n            }\r\n            System.out.println();\r\n        }\r\n    \r\n        public static void step4WorkWithTable() throws JCoException\r\n        {\r\n            JCoDestination destination = JCoDestinationManager.getDestination(ABAP_AS_POOLED);\r\n            JCoFunction function = destination.getRepository().getFunction(&quot;BAPI_COMPANYCODE_GETLIST&quot;);\r\n            if(function == null)\r\n                throw new RuntimeException(&quot;BAPI_COMPANYCODE_GETLIST not found in SAP.&quot;);\r\n    \r\n            try\r\n            {\r\n                function.execute(destination);\r\n            }\r\n            catch(AbapException e)\r\n            {\r\n                System.out.println(e.toString());\r\n                return;\r\n            }\r\n            \r\n            JCoStructure returnStructure = function.getExportParameterList().getStructure(&quot;RETURN&quot;);\r\n            if (! (returnStructure.getString(&quot;TYPE&quot;).equals(&quot;&quot;)||returnStructure.getString(&quot;TYPE&quot;).equals(&quot;S&quot;))  )   \r\n            {\r\n               throw new RuntimeException(returnStructure.getString(&quot;MESSAGE&quot;));\r\n            }\r\n            \r\n            JCoTable codes = function.getTableParameterList().getTable(&quot;COMPANYCODE_LIST&quot;);\r\n            for (int i = 0; i &lt; codes.getNumRows(); i++) \r\n            {\r\n                codes.setRow(i);\r\n                System.out.println(codes.getString(&quot;COMP_CODE&quot;) + &#39;\\t&#39; + codes.getString(&quot;COMP_NAME&quot;));\r\n            }\r\n    \r\n            codes.firstRow();\r\n            for (int i = 0; i &lt; codes.getNumRows(); i++, codes.nextRow()) \r\n            {\r\n                function = destination.getRepository().getFunction(&quot;BAPI_COMPANYCODE_GETDETAIL&quot;);\r\n                if (function == null) \r\n                    throw new RuntimeException(&quot;BAPI_COMPANYCODE_GETDETAIL not found in SAP.&quot;);\r\n    \r\n                function.getImportParameterList().setValue(&quot;COMPANYCODEID&quot;, codes.getString(&quot;COMP_CODE&quot;));\r\n                function.getExportParameterList().setActive(&quot;COMPANYCODE_ADDRESS&quot;,false);\r\n                \r\n                try\r\n                {\r\n                    function.execute(destination);\r\n                }\r\n                catch (AbapException e)\r\n                {\r\n                    System.out.println(e.toString());\r\n                    return;\r\n                }\r\n    \r\n                returnStructure = function.getExportParameterList().getStructure(&quot;RETURN&quot;);\r\n                if (! (returnStructure.getString(&quot;TYPE&quot;).equals(&quot;&quot;) ||\r\n                       returnStructure.getString(&quot;TYPE&quot;).equals(&quot;S&quot;) ||\r\n                       returnStructure.getString(&quot;TYPE&quot;).equals(&quot;W&quot;)) ) \r\n                {\r\n                    throw new RuntimeException(returnStructure.getString(&quot;MESSAGE&quot;));\r\n                }\r\n                \r\n                JCoStructure detail = function.getExportParameterList().getStructure(&quot;COMPANYCODE_DETAIL&quot;);\r\n                \r\n                System.out.println(detail.getString(&quot;COMP_CODE&quot;) + &#39;\\t&#39; +\r\n                                   detail.getString(&quot;COUNTRY&quot;) + &#39;\\t&#39; +\r\n                                   detail.getString(&quot;CITY&quot;));\r\n            }//for\r\n        }\r\n        \r\n        /**\r\n         * this example shows the &quot;simple&quot; stateful call sequence. Since all calls belonging to one\r\n         * session are executed within the same thread, the application does not need\r\n         * to take care about the SessionReferenceProvider. MultithreadedExample.java \r\n         * illustrates the more complex scenario, where the calls belonging to one session are \r\n         * executed from different threads.\r\n         * \r\n         * Note: this example uses Z_GET_COUNTER and Z_INCREMENT_COUNTER. The most ABAP systems\r\n         * contain function modules GET_COUNTER and INCREMENT_COUNTER, that are not remote enabled.\r\n         * Copy these functions to Z_GET_COUNTER and Z_INCREMENT_COUNTER (or implement as wrapper)\r\n         * and mark they remote enabled \r\n         * @throws JCoException\r\n         */\r\n        public static void step4SimpleStatefulCalls() throws JCoException\r\n        {\r\n            final JCoFunctionTemplate incrementCounterTemplate, getCounterTemplate;\r\n    \r\n            JCoDestination destination = JCoDestinationManager.getDestination(ABAP_MS);\r\n            incrementCounterTemplate = destination.getRepository().getFunctionTemplate(&quot;Z_INCREMENT_COUNTER&quot;);\r\n            getCounterTemplate = destination.getRepository().getFunctionTemplate(&quot;Z_GET_COUNTER&quot;);\r\n            if(incrementCounterTemplate == null || getCounterTemplate == null)\r\n                throw new RuntimeException(&quot;This example cannot run without Z_INCREMENT_COUNTER and Z_GET_COUNTER functions&quot;);\r\n            \r\n            final int threadCount = 5;\r\n            final int loops = 5;\r\n            final CountDownLatch startSignal = new CountDownLatch(threadCount);\r\n            final CountDownLatch doneSignal = new CountDownLatch(threadCount);\r\n            \r\n            Runnable worker = new Runnable()\r\n            {\r\n                public void run()\r\n                {\r\n                    startSignal.countDown();\r\n                    try\r\n                    {\r\n                        //wait for other threads\r\n                        startSignal.await();\r\n    \r\n                        JCoDestination dest = JCoDestinationManager.getDestination(ABAP_MS);\r\n                        JCoContext.begin(dest);\r\n                        try\r\n                        {\r\n                            for(int i=0; i &lt; loops; i++)\r\n                            {\r\n                                JCoFunction incrementCounter = incrementCounterTemplate.getFunction();\r\n                                incrementCounter.execute(dest);\r\n                            }\r\n                            JCoFunction getCounter = getCounterTemplate.getFunction();\r\n                            getCounter.execute(dest);\r\n                            \r\n                            int remoteCounter = getCounter.getExportParameterList().getInt(&quot;GET_VALUE&quot;);\r\n                            System.out.println(&quot;Thread-&quot; + Thread.currentThread().getId() + \r\n                                    &quot; finished. Remote counter has &quot; + (loops==remoteCounter?&quot;correct&quot;:&quot;wrong&quot;) + \r\n                                    &quot; value [&quot; + remoteCounter + &quot;]&quot;);\r\n                        }\r\n                        finally\r\n                        {\r\n                            JCoContext.end(dest);                    \r\n                        }\r\n                    }\r\n                    catch(Exception e)\r\n                    {\r\n                        System.out.println(&quot;Thread-&quot; + Thread.currentThread().getId() + &quot; ends with exception &quot; + e.toString());\r\n                    }\r\n                    \r\n                    doneSignal.countDown();\r\n                }\r\n            };\r\n            \r\n            for(int i = 0; i &lt; threadCount; i++)\r\n            {\r\n                new Thread(worker).start();\r\n            }\r\n            \r\n            try\r\n            {\r\n                doneSignal.await();\r\n            }\r\n            catch(Exception e)\r\n            {\r\n            }\r\n            \r\n        }\r\n        \r\n        protected void processRequest(HttpServletRequest request, HttpServletResponse response) throws JCoException\r\n        {\r\n            step1Connect();\r\n            step2ConnectUsingPool();\r\n            step3SimpleCall();\r\n            step4WorkWithTable();\r\n            step4SimpleStatefulCalls();\r\n        }\r\n    }\r\n\r\n\r\n","title":"SAP JCo JAVA Could not initialize class com.sap.conn.jco.JCo","body":"<p>I want to use SAP JCo to select user data for my Java program.</p>\n<p>But all I got is:</p>\n<blockquote>\n<pre><code>Sep 23, 2014 1:34:28 PM org.apache.catalina.core.StandardWrapperValve invoke\nSEVERE: Servlet.service() for servlet [StepByStepClient] in context with path [/Formularmanager-test]\nthrew exception [Servlet execution threw an exception] with root cause\njava.lang.NoClassDefFoundError: Could not initialize class com.sap.conn.jco.JCo\n  at com.sap.conn.jco.JCoDestinationManager.getDestination(JCoDestinationManager.java:61)\n  at com.pferd.itdienste.sap.StepByStepClient.step1Connect(StepByStepClient.java:125)\n  at com.pferd.itdienste.sap.StepByStepClient.processRequest(StepByStepClient.java:356)\n  at com.pferd.itdienste.sap.StepByStepClient.doGet(StepByStepClient.java:70)\n  at javax.servlet.http.HttpServlet.service(HttpServlet.java:621)\n  at javax.servlet.http.HttpServlet.service(HttpServlet.java:728)\n  at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:305)\n  at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)\n  at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:222)\n  at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:123)\n  at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:502)\n  at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171)\n  at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:99)\n  at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:953)\n  at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)\n  at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:408)\n  at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1023)\n  at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:589)\n  at org.apache.tomcat.util.net.AprEndpoint$SocketProcessor.run(AprEndpoint.java:1852)\n  at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\n  at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\n  at java.lang.Thread.run(Unknown Source)\n</code></pre>\n</blockquote>\n<p>For a test I use the example script <code>StepByStepClient</code> and I have modified this only, so I can use it as a Web servlet.</p>\n<p>All files from SAP JCo are on <code>C:\\sapjco30P_11-10005326</code> and I have this folder registered in the system pfad variable.</p>\n<p>At this moment I don't know where my error is! So I need help, please!</p>\n<p>SAP Java Connector</p>\n<ul>\n<li>Java Runtime</li>\n<li>Operating System: Windows Server 2012 6.2 for amd64</li>\n<li>Java VM: 1.7.0_60 Oracle Corporation</li>\n<li>Default charset: windows-1252</li>\n</ul>\n<p>Versions</p>\n<ul>\n<li>JCo API: 3.0.11 (2014-04-15)</li>\n<li>JCo middleware: JavaRfc 2.2.12</li>\n<li>JCo library: 720.612</li>\n</ul>\n<p>Library Paths</p>\n<ul>\n<li>Path to JCo archive: <code>C:\\sapjco30P_11-10005326\\sapjco3.jar </code></li>\n<li>Path to JCo library: <code>C:\\sapjco30P_11-10005326\\sapjco3.dll</code></li>\n</ul>\n<p>Eclipse Juno\nXAMPP Tomcat 7</p>\n<pre><code>package com.pferd.itdienste.sap;\n\nimport java.io.File;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.util.Properties;\nimport java.util.concurrent.CountDownLatch;\n\nimport javax.servlet.ServletException;\nimport javax.servlet.annotation.WebServlet;\nimport javax.servlet.http.HttpServlet;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\n\nimport com.sap.conn.jco.AbapException;\nimport com.sap.conn.jco.JCoContext;\nimport com.sap.conn.jco.JCoDestination;\nimport com.sap.conn.jco.JCoDestinationManager;\nimport com.sap.conn.jco.JCoException;\nimport com.sap.conn.jco.JCoField;\nimport com.sap.conn.jco.JCoFunction;\nimport com.sap.conn.jco.JCoFunctionTemplate;\nimport com.sap.conn.jco.JCoStructure;\nimport com.sap.conn.jco.JCoTable;\nimport com.sap.conn.jco.ext.DestinationDataProvider;\n\n@WebServlet(name = &quot;StepByStepClient&quot;, urlPatterns = {&quot;/StepByStepClient&quot;})\npublic class StepByStepClient extends HttpServlet\n{\n    static String ABAP_AS = &quot;ABAP_AS_WITHOUT_POOL&quot;;\n    static String ABAP_AS_POOLED = &quot;ABAP_AS_WITH_POOL&quot;;\n    static String ABAP_MS = &quot;ABAP_MS_WITHOUT_POOL&quot;;    \n    static\n    {\n        Properties connectProperties = new Properties();\n        connectProperties.setProperty(DestinationDataProvider.JCO_ASHOST, &quot;HOST&quot;);\n        connectProperties.setProperty(DestinationDataProvider.JCO_SYSNR,  &quot;01&quot;);\n        connectProperties.setProperty(DestinationDataProvider.JCO_CLIENT, &quot;200&quot;);\n        connectProperties.setProperty(DestinationDataProvider.JCO_USER,   &quot;USER&quot;);\n        connectProperties.setProperty(DestinationDataProvider.JCO_PASSWD, &quot;PASSWORD&quot;);\n        connectProperties.setProperty(DestinationDataProvider.JCO_LANG,   &quot;en&quot;);\n        createDataFile(ABAP_AS, &quot;jcoDestination&quot;, connectProperties);\n\n        connectProperties.setProperty(DestinationDataProvider.JCO_POOL_CAPACITY, &quot;3&quot;);\n        connectProperties.setProperty(DestinationDataProvider.JCO_PEAK_LIMIT,    &quot;10&quot;);\n        createDataFile(ABAP_AS_POOLED, &quot;jcoDestination&quot;, connectProperties);\n\n        connectProperties.clear();\n        connectProperties.setProperty(DestinationDataProvider.JCO_MSHOST, &quot;HOST&quot;);\n        connectProperties.setProperty(DestinationDataProvider.JCO_R3NAME,  &quot;SID&quot;);\n        connectProperties.setProperty(DestinationDataProvider.JCO_CLIENT, &quot;200&quot;);\n        connectProperties.setProperty(DestinationDataProvider.JCO_USER,   &quot;USER&quot;);\n        connectProperties.setProperty(DestinationDataProvider.JCO_PASSWD, &quot;PASSWORD&quot;);\n        connectProperties.setProperty(DestinationDataProvider.JCO_GROUP, &quot;GROUP&quot;);\n        connectProperties.setProperty(DestinationDataProvider.JCO_LANG,   &quot;en&quot;);\n        createDataFile(ABAP_MS, &quot;jcoDestination&quot;, connectProperties);\n    }\n   \n    /** \n     * Handles the HTTP &lt;code&gt;GET&lt;/code&gt; method.\n     * @param request servlet request\n     * @param response servlet response\n     * @throws ServletException if a servlet-specific error occurs\n     * @throws IOException if an I/O error occurs\n     */\n    @Override\n    protected void doGet(HttpServletRequest request, HttpServletResponse response)\n            throws ServletException, IOException {\n        try {\n            processRequest(request, response);\n        } catch (JCoException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n    }\n\n    /** \n     * Handles the HTTP &lt;code&gt;POST&lt;/code&gt; method.\n     * @param request servlet request\n     * @param response servlet response\n     * @throws ServletException if a servlet-specific error occurs\n     * @throws IOException if an I/O error occurs\n     */\n    @Override\n    protected void doPost(HttpServletRequest request, HttpServletResponse response)\n            throws ServletException, IOException {\n        try {\n            processRequest(request, response);\n        } catch (JCoException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n    }\n\n    /** \n     * Returns a short description of the servlet.\n     * @return a String containing servlet description\n     */\n    @Override\n    public String getServletInfo() {\n        return &quot;Short description&quot;;\n    }// &lt;/editor-fold&gt;    \n    \n    static void createDataFile(String name, String suffix, Properties properties)\n    {\n        File cfg = new File(name+&quot;.&quot;+suffix);\n        if(!cfg.exists())\n        {\n            try\n            {\n                FileOutputStream fos = new FileOutputStream(cfg, false);\n                properties.store(fos, &quot;for tests only !&quot;);\n                fos.close();\n            }\n            catch (Exception e)\n            {\n                throw new RuntimeException(&quot;Unable to create the destination file &quot; + cfg.getName(), e);\n            }\n        }\n    }\n    \n    \n    public static void step1Connect() throws JCoException\n    {\n        JCoDestination destination = JCoDestinationManager.getDestination(ABAP_AS);\n        System.out.println(&quot;Attributes:&quot;);\n        System.out.println(destination.getAttributes());\n        System.out.println();\n\n        destination = JCoDestinationManager.getDestination(ABAP_MS);\n        System.out.println(&quot;Attributes:&quot;);\n        System.out.println(destination.getAttributes());\n        System.out.println();\n    }\n    \n    public static void step2ConnectUsingPool() throws JCoException\n    {\n        JCoDestination destination = JCoDestinationManager.getDestination(ABAP_AS_POOLED);\n        destination.ping();\n        System.out.println(&quot;Attributes:&quot;);\n        System.out.println(destination.getAttributes());\n        System.out.println();\n    }\n    \n    public static void step3SimpleCall() throws JCoException\n    {\n        JCoDestination destination = JCoDestinationManager.getDestination(ABAP_AS_POOLED);\n        JCoFunction function = destination.getRepository().getFunction(&quot;STFC_CONNECTION&quot;);\n        if(function == null)\n            throw new RuntimeException(&quot;BAPI_COMPANYCODE_GETLIST not found in SAP.&quot;);\n\n        function.getImportParameterList().setValue(&quot;REQUTEXT&quot;, &quot;Hello SAP&quot;);\n        \n        try\n        {\n            function.execute(destination);\n        }\n        catch(AbapException e)\n        {\n            System.out.println(e.toString());\n            return;\n        }\n        \n        System.out.println(&quot;STFC_CONNECTION finished:&quot;);\n        System.out.println(&quot; Echo: &quot; + function.getExportParameterList().getString(&quot;ECHOTEXT&quot;));\n        System.out.println(&quot; Response: &quot; + function.getExportParameterList().getString(&quot;RESPTEXT&quot;));\n        System.out.println();\n    }\n    \n    public static void step3WorkWithStructure() throws JCoException\n    {\n        JCoDestination destination = JCoDestinationManager.getDestination(ABAP_AS_POOLED);\n        JCoFunction function = destination.getRepository().getFunction(&quot;RFC_SYSTEM_INFO&quot;);\n        if(function == null)\n            throw new RuntimeException(&quot;RFC_SYSTEM_INFO not found in SAP.&quot;);\n\n        try\n        {\n            function.execute(destination);\n        }\n        catch(AbapException e)\n        {\n            System.out.println(e.toString());\n            return;\n        }\n        \n        JCoStructure exportStructure = function.getExportParameterList().getStructure(&quot;RFCSI_EXPORT&quot;);\n        System.out.println(&quot;System info for &quot; + destination.getAttributes().getSystemID() + &quot;:\\n&quot;);\n        for(int i = 0; i &lt; exportStructure.getMetaData().getFieldCount(); i++) \n        {\n            System.out.println(exportStructure.getMetaData().getName(i) + &quot;:\\t&quot; + exportStructure.getString(i));\n        }\n        System.out.println();\n        \n        //JCo still supports the JCoFields, but direct access via getXX is more efficient as field iterator\n        System.out.println(&quot;The same using field iterator: \\nSystem info for &quot; + destination.getAttributes().getSystemID() + &quot;:\\n&quot;);\n        for(JCoField field : exportStructure)\n        {\n            System.out.println(field.getName() + &quot;:\\t&quot; + field.getString());\n        }\n        System.out.println();\n    }\n\n    public static void step4WorkWithTable() throws JCoException\n    {\n        JCoDestination destination = JCoDestinationManager.getDestination(ABAP_AS_POOLED);\n        JCoFunction function = destination.getRepository().getFunction(&quot;BAPI_COMPANYCODE_GETLIST&quot;);\n        if(function == null)\n            throw new RuntimeException(&quot;BAPI_COMPANYCODE_GETLIST not found in SAP.&quot;);\n\n        try\n        {\n            function.execute(destination);\n        }\n        catch(AbapException e)\n        {\n            System.out.println(e.toString());\n            return;\n        }\n        \n        JCoStructure returnStructure = function.getExportParameterList().getStructure(&quot;RETURN&quot;);\n        if (! (returnStructure.getString(&quot;TYPE&quot;).equals(&quot;&quot;)||returnStructure.getString(&quot;TYPE&quot;).equals(&quot;S&quot;))  )   \n        {\n           throw new RuntimeException(returnStructure.getString(&quot;MESSAGE&quot;));\n        }\n        \n        JCoTable codes = function.getTableParameterList().getTable(&quot;COMPANYCODE_LIST&quot;);\n        for (int i = 0; i &lt; codes.getNumRows(); i++) \n        {\n            codes.setRow(i);\n            System.out.println(codes.getString(&quot;COMP_CODE&quot;) + '\\t' + codes.getString(&quot;COMP_NAME&quot;));\n        }\n\n        codes.firstRow();\n        for (int i = 0; i &lt; codes.getNumRows(); i++, codes.nextRow()) \n        {\n            function = destination.getRepository().getFunction(&quot;BAPI_COMPANYCODE_GETDETAIL&quot;);\n            if (function == null) \n                throw new RuntimeException(&quot;BAPI_COMPANYCODE_GETDETAIL not found in SAP.&quot;);\n\n            function.getImportParameterList().setValue(&quot;COMPANYCODEID&quot;, codes.getString(&quot;COMP_CODE&quot;));\n            function.getExportParameterList().setActive(&quot;COMPANYCODE_ADDRESS&quot;,false);\n            \n            try\n            {\n                function.execute(destination);\n            }\n            catch (AbapException e)\n            {\n                System.out.println(e.toString());\n                return;\n            }\n\n            returnStructure = function.getExportParameterList().getStructure(&quot;RETURN&quot;);\n            if (! (returnStructure.getString(&quot;TYPE&quot;).equals(&quot;&quot;) ||\n                   returnStructure.getString(&quot;TYPE&quot;).equals(&quot;S&quot;) ||\n                   returnStructure.getString(&quot;TYPE&quot;).equals(&quot;W&quot;)) ) \n            {\n                throw new RuntimeException(returnStructure.getString(&quot;MESSAGE&quot;));\n            }\n            \n            JCoStructure detail = function.getExportParameterList().getStructure(&quot;COMPANYCODE_DETAIL&quot;);\n            \n            System.out.println(detail.getString(&quot;COMP_CODE&quot;) + '\\t' +\n                               detail.getString(&quot;COUNTRY&quot;) + '\\t' +\n                               detail.getString(&quot;CITY&quot;));\n        }//for\n    }\n    \n    /**\n     * this example shows the &quot;simple&quot; stateful call sequence. Since all calls belonging to one\n     * session are executed within the same thread, the application does not need\n     * to take care about the SessionReferenceProvider. MultithreadedExample.java \n     * illustrates the more complex scenario, where the calls belonging to one session are \n     * executed from different threads.\n     * \n     * Note: this example uses Z_GET_COUNTER and Z_INCREMENT_COUNTER. The most ABAP systems\n     * contain function modules GET_COUNTER and INCREMENT_COUNTER, that are not remote enabled.\n     * Copy these functions to Z_GET_COUNTER and Z_INCREMENT_COUNTER (or implement as wrapper)\n     * and mark they remote enabled \n     * @throws JCoException\n     */\n    public static void step4SimpleStatefulCalls() throws JCoException\n    {\n        final JCoFunctionTemplate incrementCounterTemplate, getCounterTemplate;\n\n        JCoDestination destination = JCoDestinationManager.getDestination(ABAP_MS);\n        incrementCounterTemplate = destination.getRepository().getFunctionTemplate(&quot;Z_INCREMENT_COUNTER&quot;);\n        getCounterTemplate = destination.getRepository().getFunctionTemplate(&quot;Z_GET_COUNTER&quot;);\n        if(incrementCounterTemplate == null || getCounterTemplate == null)\n            throw new RuntimeException(&quot;This example cannot run without Z_INCREMENT_COUNTER and Z_GET_COUNTER functions&quot;);\n        \n        final int threadCount = 5;\n        final int loops = 5;\n        final CountDownLatch startSignal = new CountDownLatch(threadCount);\n        final CountDownLatch doneSignal = new CountDownLatch(threadCount);\n        \n        Runnable worker = new Runnable()\n        {\n            public void run()\n            {\n                startSignal.countDown();\n                try\n                {\n                    //wait for other threads\n                    startSignal.await();\n\n                    JCoDestination dest = JCoDestinationManager.getDestination(ABAP_MS);\n                    JCoContext.begin(dest);\n                    try\n                    {\n                        for(int i=0; i &lt; loops; i++)\n                        {\n                            JCoFunction incrementCounter = incrementCounterTemplate.getFunction();\n                            incrementCounter.execute(dest);\n                        }\n                        JCoFunction getCounter = getCounterTemplate.getFunction();\n                        getCounter.execute(dest);\n                        \n                        int remoteCounter = getCounter.getExportParameterList().getInt(&quot;GET_VALUE&quot;);\n                        System.out.println(&quot;Thread-&quot; + Thread.currentThread().getId() + \n                                &quot; finished. Remote counter has &quot; + (loops==remoteCounter?&quot;correct&quot;:&quot;wrong&quot;) + \n                                &quot; value [&quot; + remoteCounter + &quot;]&quot;);\n                    }\n                    finally\n                    {\n                        JCoContext.end(dest);                    \n                    }\n                }\n                catch(Exception e)\n                {\n                    System.out.println(&quot;Thread-&quot; + Thread.currentThread().getId() + &quot; ends with exception &quot; + e.toString());\n                }\n                \n                doneSignal.countDown();\n            }\n        };\n        \n        for(int i = 0; i &lt; threadCount; i++)\n        {\n            new Thread(worker).start();\n        }\n        \n        try\n        {\n            doneSignal.await();\n        }\n        catch(Exception e)\n        {\n        }\n        \n    }\n    \n    protected void processRequest(HttpServletRequest request, HttpServletResponse response) throws JCoException\n    {\n        step1Connect();\n        step2ConnectUsingPool();\n        step3SimpleCall();\n        step4WorkWithTable();\n        step4SimpleStatefulCalls();\n    }\n}\n</code></pre>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":9564031,"reputation":12915,"user_id":7103882,"display_name":"Codemaker2015"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696474469,"creation_date":1696442234,"answer_id":77231956,"question_id":77230867,"body_markdown":"Try the following code snippet to create a CSV file and download it in Android Studio.\r\n\r\n    import android.Manifest;\r\n    import android.content.pm.PackageManager;\r\n    import android.os.Bundle;\r\n    import android.os.Environment;\r\n    import android.view.View;\r\n    import android.widget.Toast;\r\n    import android.app.DownloadManager; \r\n    \r\n    import androidx.annotation.NonNull;\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import androidx.core.app.ActivityCompat;\r\n    import androidx.core.content.ContextCompat;\r\n    \r\n    import java.io.File;\r\n    import java.io.FileWriter;\r\n    import java.io.IOException;\r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        private static final int REQUEST_WRITE_EXTERNAL_STORAGE = 1;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            findViewById(R.id.buttonCsv).setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    if (ContextCompat.checkSelfPermission(MainActivity.this, Manifest.permission.WRITE_EXTERNAL_STORAGE)\r\n                            != PackageManager.PERMISSION_GRANTED) {\r\n                        ActivityCompat.requestPermissions(MainActivity.this,\r\n                                new String[]{Manifest.permission.WRITE_EXTERNAL_STORAGE},\r\n                                REQUEST_WRITE_EXTERNAL_STORAGE);\r\n                    } else {\r\n                        for (Item item : items)\r\n                            downloadCsvFile(item);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    \r\n        @Override\r\n        public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n            super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n            if (requestCode == REQUEST_WRITE_EXTERNAL_STORAGE) {\r\n                if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n                    for (Item item : items) \r\n                        downloadCsvFile(item);\r\n                } else {\r\n                    showToast(&quot;Permission denied. Cannot download CSV files.&quot;);\r\n                }\r\n            }\r\n        }\r\n    \r\n        private void downloadCsvFile(Item item) {\r\n           try {\r\n                String url = item.getURL(); // Ex: https://media.githubusercontent.com/media/datablist/sample-csv-files/main/files/organizations/organizations-100.csv\r\n                manager = (DownloadManager) getSystemService(Context.DOWNLOAD_SERVICE); \r\n                Uri uri = Uri.parse(url); \r\n                DownloadManager.Request request = new DownloadManager.Request(uri); \r\n                request.setNotificationVisibility(DownloadManager.Request.VISIBILITY_VISIBLE); \r\n                long reference = manager.enqueue(request); \r\n                showToast(&quot;CSV file downloaded successfully&quot;);\r\n    \r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n                showToast(&quot;Error creating CSV file&quot;);\r\n            }\r\n        }\r\n    \r\n        private void showToast(String message) {\r\n            Toast.makeText(this, message, Toast.LENGTH_SHORT).show();\r\n        }\r\n    }\r\n\r\nMake sure to add the necessary permissions:\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;","title":"Create csv file and download it in Android Studio","body":"<p>Try the following code snippet to create a CSV file and download it in Android Studio.</p>\n<pre><code>import android.Manifest;\nimport android.content.pm.PackageManager;\nimport android.os.Bundle;\nimport android.os.Environment;\nimport android.view.View;\nimport android.widget.Toast;\nimport android.app.DownloadManager; \n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.core.app.ActivityCompat;\nimport androidx.core.content.ContextCompat;\n\nimport java.io.File;\nimport java.io.FileWriter;\nimport java.io.IOException;\n\npublic class MainActivity extends AppCompatActivity {\n\n    private static final int REQUEST_WRITE_EXTERNAL_STORAGE = 1;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        findViewById(R.id.buttonCsv).setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                if (ContextCompat.checkSelfPermission(MainActivity.this, Manifest.permission.WRITE_EXTERNAL_STORAGE)\n                        != PackageManager.PERMISSION_GRANTED) {\n                    ActivityCompat.requestPermissions(MainActivity.this,\n                            new String[]{Manifest.permission.WRITE_EXTERNAL_STORAGE},\n                            REQUEST_WRITE_EXTERNAL_STORAGE);\n                } else {\n                    for (Item item : items)\n                        downloadCsvFile(item);\n                }\n            }\n        });\n    }\n\n    @Override\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n        if (requestCode == REQUEST_WRITE_EXTERNAL_STORAGE) {\n            if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n                for (Item item : items) \n                    downloadCsvFile(item);\n            } else {\n                showToast(&quot;Permission denied. Cannot download CSV files.&quot;);\n            }\n        }\n    }\n\n    private void downloadCsvFile(Item item) {\n       try {\n            String url = item.getURL(); // Ex: https://media.githubusercontent.com/media/datablist/sample-csv-files/main/files/organizations/organizations-100.csv\n            manager = (DownloadManager) getSystemService(Context.DOWNLOAD_SERVICE); \n            Uri uri = Uri.parse(url); \n            DownloadManager.Request request = new DownloadManager.Request(uri); \n            request.setNotificationVisibility(DownloadManager.Request.VISIBILITY_VISIBLE); \n            long reference = manager.enqueue(request); \n            showToast(&quot;CSV file downloaded successfully&quot;);\n\n        } catch (Exception e) {\n            e.printStackTrace();\n            showToast(&quot;Error creating CSV file&quot;);\n        }\n    }\n\n    private void showToast(String message) {\n        Toast.makeText(this, message, Toast.LENGTH_SHORT).show();\n    }\n}\n</code></pre>\n<p>Make sure to add the necessary permissions:</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\n</code></pre>\n"}],"owner":{"account_id":29597658,"reputation":7,"user_id":22683841,"display_name":"Marco Rossi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":142,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1696474469,"creation_date":1696432854,"question_id":77230867,"body_markdown":"I&#39;m using Android Studio for a project and i have a problem.\r\nI have a list of item, and if i click to a button for each item i called &quot;downloadCsvFile&quot; function and i pass the item.    \r\nI want that this function create a csv file and write the item data in it, and then download the file on the device.\r\nHow can i do it?\r\nThanks! :)\r\n\r\n    findViewById(R.id.buttonCsv).setOnClickListener(new View.OnClickListener() {\r\n    \r\n                @Override\r\n                public void onClick(View v) {\r\n                    for (Item i: items) {\r\n                        downloadCsvFile(i);\r\n                    }\r\n                }\r\n    \r\n    });","title":"Create csv file and download it in Android Studio","body":"<p>I'm using Android Studio for a project and i have a problem.\nI have a list of item, and if i click to a button for each item i called &quot;downloadCsvFile&quot; function and i pass the item.<br />\nI want that this function create a csv file and write the item data in it, and then download the file on the device.\nHow can i do it?\nThanks! :)</p>\n<pre><code>findViewById(R.id.buttonCsv).setOnClickListener(new View.OnClickListener() {\n\n            @Override\n            public void onClick(View v) {\n                for (Item i: items) {\n                    downloadCsvFile(i);\n                }\n            }\n\n});\n</code></pre>\n"},{"tags":["java","spring","amazon-web-services","spring-boot","amazon-s3"],"comments":[{"owner":{"account_id":23128,"reputation":13127,"user_id":57719,"display_name":"Chin Huang"},"score":0,"creation_date":1637090597,"post_id":69994367,"comment_id":123731798,"body_markdown":"Does this answer your question? [Do I need Content-Type: application/octet-stream for file download?](https://stackoverflow.com/questions/20508788/do-i-need-content-type-application-octet-stream-for-file-download)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/20508788/do-i-need-content-type-application-octet-stream-for-file-download\">Do I need Content-Type: application/octet-stream for file download?</a>"},{"owner":{"account_id":12281048,"reputation":83,"user_id":8962623,"display_name":"Kea501"},"score":0,"creation_date":1637092196,"post_id":69994367,"comment_id":123732337,"body_markdown":"Unfortunately, this did not solve my issue. Thanks for the suggestion though.","body":"Unfortunately, this did not solve my issue. Thanks for the suggestion though."},{"owner":{"account_id":100740,"reputation":73217,"user_id":271415,"accept_rate":91,"display_name":"jarmod"},"score":0,"creation_date":1637181861,"post_id":69994367,"comment_id":123760823,"body_markdown":"HTTP header names are case-insensitive but it would probably still be a good idea to be consistent. You have 3 headers with 3 different forms of capitalization. Also, when you tested with an appropriate Content-Type e.g. image/png or application/pdf, did it make a difference?","body":"HTTP header names are case-insensitive but it would probably still be a good idea to be consistent. You have 3 headers with 3 different forms of capitalization. Also, when you tested with an appropriate Content-Type e.g. image/png or application/pdf, did it make a difference?"}],"answers":[{"tags":[],"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637091913,"creation_date":1637091349,"answer_id":69995089,"question_id":69994367,"body_markdown":"See this AWS tutorial located in the [AWS Code Example Github Repo][1]. It discusses this exact use case and shows you how to download an image located in an Amazon S3 bucket to your web browser using a Spring BOOT app. For example, this image shows downloading an image named **lake.png**. \r\n\r\n[![enter image description here][2]][2]\r\n\r\nThis app uses the AWS SDK for Java V2. See: \r\n\r\n[Creating a dynamic web application that analyzes photos using the AWS SDK for Java][3]\r\n\r\nThis example uses the Sync Java Client. If you prefer using the Java Async client, see: \r\n\r\n[Creating a dynamic web application that asynchronously analyzes photos using the AWS SDK for Java][4]\r\n\r\n\r\n  [1]: https://github.com/awsdocs/aws-doc-sdk-examples\r\n  [2]: https://i.stack.imgur.com/VOJBD.png\r\n  [3]: https://github.com/awsdocs/aws-doc-sdk-examples/tree/main/javav2/usecases/creating_photo_analyzer_app\r\n  [4]: https://github.com/awsdocs/aws-doc-sdk-examples/tree/main/javav2/usecases/creating_photo_analyzer_async","title":"Downloading images from Amazon S3 using java spring boot","body":"<p>See this AWS tutorial located in the <a href=\"https://github.com/awsdocs/aws-doc-sdk-examples\" rel=\"nofollow noreferrer\">AWS Code Example Github Repo</a>. It discusses this exact use case and shows you how to download an image located in an Amazon S3 bucket to your web browser using a Spring BOOT app. For example, this image shows downloading an image named <strong>lake.png</strong>.</p>\n<p><a href=\"https://i.stack.imgur.com/VOJBD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VOJBD.png\" alt=\"enter image description here\" /></a></p>\n<p>This app uses the AWS SDK for Java V2. See:</p>\n<p><a href=\"https://github.com/awsdocs/aws-doc-sdk-examples/tree/main/javav2/usecases/creating_photo_analyzer_app\" rel=\"nofollow noreferrer\">Creating a dynamic web application that analyzes photos using the AWS SDK for Java</a></p>\n<p>This example uses the Sync Java Client. If you prefer using the Java Async client, see:</p>\n<p><a href=\"https://github.com/awsdocs/aws-doc-sdk-examples/tree/main/javav2/usecases/creating_photo_analyzer_async\" rel=\"nofollow noreferrer\">Creating a dynamic web application that asynchronously analyzes photos using the AWS SDK for Java</a></p>\n"},{"tags":[],"owner":{"account_id":17347431,"reputation":89,"user_id":12566715,"display_name":"Janardhan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1637158931,"creation_date":1637158931,"answer_id":70006086,"question_id":69994367,"body_markdown":"I tested this code, works perfectly fine downloading images from S3. \r\n\r\nonly difference is, can you cross check how you are supplying \r\n\r\n&gt; fileName\r\n\r\npath variable ? \r\n\r\nAlso, have you tried downloading the file using a standalone program ? just to rule out is ","title":"Downloading images from Amazon S3 using java spring boot","body":"<p>I tested this code, works perfectly fine downloading images from S3.</p>\n<p>only difference is, can you cross check how you are supplying</p>\n<blockquote>\n<p>fileName</p>\n</blockquote>\n<p>path variable ?</p>\n<p>Also, have you tried downloading the file using a standalone program ? just to rule out is</p>\n"},{"tags":[],"owner":{"account_id":22453361,"reputation":97,"user_id":16656366,"display_name":"LongDev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696473845,"creation_date":1696473845,"answer_id":77233979,"question_id":69994367,"body_markdown":"if you need to access the object url you need to make bucket policy public \r\n\r\nat permissions tab -&gt; scroll to bucket policy and add this\r\n\r\n\r\n```\r\n\r\n\r\n{\r\n\t&quot;Version&quot;: &quot;2012-10-17&quot;,\r\n\t&quot;Statement&quot;: [\r\n\t\t{\r\n\t\t\t&quot;Sid&quot;: &quot;PublicReadGetObject&quot;,\r\n\t\t\t&quot;Effect&quot;: &quot;Allow&quot;,\r\n\t\t\t&quot;Principal&quot;: &quot;*&quot;,\r\n\t\t\t&quot;Action&quot;: &quot;s3:GetObject&quot;,\r\n\t\t\t&quot;Resource&quot;: &quot;arn:aws:s3:::bucketname/*&quot;\r\n\t\t}\r\n\t]\r\n}\r\n\r\n```","title":"Downloading images from Amazon S3 using java spring boot","body":"<p>if you need to access the object url you need to make bucket policy public</p>\n<p>at permissions tab -&gt; scroll to bucket policy and add this</p>\n<pre><code>\n\n{\n    &quot;Version&quot;: &quot;2012-10-17&quot;,\n    &quot;Statement&quot;: [\n        {\n            &quot;Sid&quot;: &quot;PublicReadGetObject&quot;,\n            &quot;Effect&quot;: &quot;Allow&quot;,\n            &quot;Principal&quot;: &quot;*&quot;,\n            &quot;Action&quot;: &quot;s3:GetObject&quot;,\n            &quot;Resource&quot;: &quot;arn:aws:s3:::bucketname/*&quot;\n        }\n    ]\n}\n\n</code></pre>\n"}],"owner":{"account_id":12281048,"reputation":83,"user_id":8962623,"display_name":"Kea501"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2946,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":70006086,"answer_count":3,"score":3,"last_activity_date":1696473845,"creation_date":1637087362,"question_id":69994367,"body_markdown":"I am new to AWS development and I am trying to download objects that are images from my Amazon S3 bucket. I am able to download objects however they are stored like the image below. \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CRslC.png\r\n\r\nI am using spring boot APIs and my code is here below: \r\n\r\nstorageService.java \r\n\r\n```\r\npackage com.fiado.S3.service;\r\n\r\n\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Service;\r\nimport com.amazonaws.AmazonClientException;\r\nimport com.amazonaws.AmazonServiceException;\r\nimport com.amazonaws.services.s3.AmazonS3;\r\nimport com.amazonaws.services.s3.model.S3Object;\r\nimport com.amazonaws.services.s3.model.S3ObjectInputStream;\r\nimport com.amazonaws.util.IOUtils;\r\n\r\n@Service\r\npublic class storageService {\r\n\t\r\n\tprivate String bucketName = &quot;fiadoapp&quot;;\r\n\r\n\t@Autowired \r\n\tprivate AmazonS3 s3Client;\r\n\t\r\n\t public byte[] downloadFile(String fileName) {\r\n\t\t try {\r\n\t\t\t  byte[] content;\r\n\t            final S3Object s3Object = s3Client.getObject(bucketName, fileName);\r\n\t            final S3ObjectInputStream stream = s3Object.getObjectContent();\r\n\t            content = IOUtils.toByteArray(stream);\r\n\t            s3Object.close();\r\n\t            return content;\r\n\t        } catch (IOException ioException) {\r\n\t        \tioException.printStackTrace();\r\n\t        } catch (AmazonServiceException serviceException) {\r\n\t        \tserviceException.printStackTrace();\r\n\t        } catch (AmazonClientException clientException) {\r\n\t        \tclientException.printStackTrace();\r\n\t        }\r\n\r\n\t        return null;\r\n\t    }\r\n}\r\n\r\n```\r\nstorageController.java\r\n\r\n```\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.core.io.ByteArrayResource;\r\nimport org.springframework.http.ResponseEntity;\r\n\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.PathVariable;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport com.fiado.S3.service.storageService;\r\n\r\n@RestController\r\n@RequestMapping(&quot;/file&quot;)\r\npublic class storageController {\r\n\t\r\n\t@Autowired\r\n\tprivate storageService service;\r\n\t\r\n\t@GetMapping(&quot;/download/{fileName}&quot;)\r\n\tpublic ResponseEntity&lt;ByteArrayResource&gt; downloadFile(@PathVariable String fileName) {\r\n\t\tbyte[] data = service.downloadFile(fileName);\r\n\t\t\r\n\t\tByteArrayResource resource = new ByteArrayResource(data);\r\n\t\t\r\n\t\treturn ResponseEntity\r\n\t\t\t\t.ok()\r\n\t\t\t\t.contentLength(data.length)\r\n\t\t\t\t.header(&quot;Content-type&quot;,&quot;application/octet-stream&quot;)\r\n\t\t\t\t.header(&quot;content-disposition&quot;,&quot;attachment; filename=\\&quot;&quot; + fileName + &quot;\\&quot;&quot;)\r\n\t\t\t\t.header(&quot;Cache-Control&quot;, &quot;no-cache&quot;)\r\n\t\t\t\t.body(resource);\r\n\t\t\r\n\t}\r\n\t\r\n\t\r\n}\r\n\r\n```\r\n\r\nCan anyone tell me how I can get my files to be downloaded as images?","title":"Downloading images from Amazon S3 using java spring boot","body":"<p>I am new to AWS development and I am trying to download objects that are images from my Amazon S3 bucket. I am able to download objects however they are stored like the image below.</p>\n<p><a href=\"https://i.stack.imgur.com/CRslC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CRslC.png\" alt=\"enter image description here\" /></a></p>\n<p>I am using spring boot APIs and my code is here below:</p>\n<p>storageService.java</p>\n<pre><code>package com.fiado.S3.service;\n\n\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\nimport com.amazonaws.AmazonClientException;\nimport com.amazonaws.AmazonServiceException;\nimport com.amazonaws.services.s3.AmazonS3;\nimport com.amazonaws.services.s3.model.S3Object;\nimport com.amazonaws.services.s3.model.S3ObjectInputStream;\nimport com.amazonaws.util.IOUtils;\n\n@Service\npublic class storageService {\n    \n    private String bucketName = &quot;fiadoapp&quot;;\n\n    @Autowired \n    private AmazonS3 s3Client;\n    \n     public byte[] downloadFile(String fileName) {\n         try {\n              byte[] content;\n                final S3Object s3Object = s3Client.getObject(bucketName, fileName);\n                final S3ObjectInputStream stream = s3Object.getObjectContent();\n                content = IOUtils.toByteArray(stream);\n                s3Object.close();\n                return content;\n            } catch (IOException ioException) {\n                ioException.printStackTrace();\n            } catch (AmazonServiceException serviceException) {\n                serviceException.printStackTrace();\n            } catch (AmazonClientException clientException) {\n                clientException.printStackTrace();\n            }\n\n            return null;\n        }\n}\n\n</code></pre>\n<p>storageController.java</p>\n<pre><code>import org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.core.io.ByteArrayResource;\nimport org.springframework.http.ResponseEntity;\n\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport com.fiado.S3.service.storageService;\n\n@RestController\n@RequestMapping(&quot;/file&quot;)\npublic class storageController {\n    \n    @Autowired\n    private storageService service;\n    \n    @GetMapping(&quot;/download/{fileName}&quot;)\n    public ResponseEntity&lt;ByteArrayResource&gt; downloadFile(@PathVariable String fileName) {\n        byte[] data = service.downloadFile(fileName);\n        \n        ByteArrayResource resource = new ByteArrayResource(data);\n        \n        return ResponseEntity\n                .ok()\n                .contentLength(data.length)\n                .header(&quot;Content-type&quot;,&quot;application/octet-stream&quot;)\n                .header(&quot;content-disposition&quot;,&quot;attachment; filename=\\&quot;&quot; + fileName + &quot;\\&quot;&quot;)\n                .header(&quot;Cache-Control&quot;, &quot;no-cache&quot;)\n                .body(resource);\n        \n    }\n    \n    \n}\n\n</code></pre>\n<p>Can anyone tell me how I can get my files to be downloaded as images?</p>\n"},{"tags":["java","spring-boot","google-bigquery","spring-cloud-gcp-bigquery"],"comments":[{"owner":{"account_id":3755777,"reputation":499,"user_id":3122175,"accept_rate":92,"display_name":"D.T"},"score":0,"creation_date":1696481054,"post_id":77233968,"comment_id":136158991,"body_markdown":"Does this help? https://stackoverflow.com/a/61548938/3122175","body":"Does this help? <a href=\"https://stackoverflow.com/a/61548938/3122175\">stackoverflow.com/a/61548938/3122175</a>"},{"owner":{"account_id":26824155,"reputation":27,"user_id":20413030,"display_name":"Tech_Dev"},"score":0,"creation_date":1696518354,"post_id":77233968,"comment_id":136166168,"body_markdown":"Thanks!!. how would i  insert a pojo object into BQ","body":"Thanks!!. how would i  insert a pojo object into BQ"}],"owner":{"account_id":26824155,"reputation":27,"user_id":20413030,"display_name":"Tech_Dev"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1696473610,"creation_date":1696473610,"question_id":77233968,"body_markdown":"I would like to know if it is possible to map a big query table to a java class like we do for mongo with @document annotation.\r\nI am unable to find one. \r\npom file snippet-\r\n\r\n    &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-cloud-gcp-starter-bigquery&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.2.8.RELEASE&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;","title":"Spring boot integration with bigquery","body":"<p>I would like to know if it is possible to map a big query table to a java class like we do for mongo with @document annotation.\nI am unable to find one.\npom file snippet-</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-gcp-starter-bigquery&lt;/artifactId&gt;\n            &lt;version&gt;1.2.8.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","json","jackson","deserialization"],"answers":[{"tags":[],"owner":{"account_id":102718,"reputation":59065,"user_id":275567,"display_name":"pb2q"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1341415993,"creation_date":1341414450,"answer_id":11331641,"question_id":11331580,"body_markdown":"There is an annotation for this: [`@JsonIgnore`](http://jackson.codehaus.org/1.0.1/javadoc/org/codehaus/jackson/annotate/JsonIgnore.html).\r\n\r\n    @JsonIgnore\r\n    public KeyValue[] getEventKeyValues() {\r\n    ...\r\n\r\nIf you don&#39;t want to use an annotation for this then you&#39;ll need to write a [custom serializer](http://wiki.fasterxml.com/JacksonHowToCustomSerializers).","title":"Jackson deserialization specific getter turning off","body":"<p>There is an annotation for this: <a href=\"http://jackson.codehaus.org/1.0.1/javadoc/org/codehaus/jackson/annotate/JsonIgnore.html\" rel=\"nofollow\"><code>@JsonIgnore</code></a>.</p>\n\n<pre><code>@JsonIgnore\npublic KeyValue[] getEventKeyValues() {\n...\n</code></pre>\n\n<p>If you don't want to use an annotation for this then you'll need to write a <a href=\"http://wiki.fasterxml.com/JacksonHowToCustomSerializers\" rel=\"nofollow\">custom serializer</a>.</p>\n"},{"tags":[],"owner":{"account_id":1093641,"reputation":4759,"user_id":1087718,"accept_rate":84,"display_name":"czupe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696472807,"creation_date":1341415110,"answer_id":11331811,"question_id":11331580,"body_markdown":"I think this almost does it:\r\n\r\n```java\r\nobjectMapper.configure(DeserializationConfig.FAIL_ON_UNKNOWN_PROPERTIES, false);\r\n```","title":"Jackson deserialization specific getter turning off","body":"<p>I think this almost does it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>objectMapper.configure(DeserializationConfig.FAIL_ON_UNKNOWN_PROPERTIES, false);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":390729,"reputation":65307,"user_id":750987,"display_name":"Programmer Bruce"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1341429802,"creation_date":1341429802,"answer_id":11334476,"question_id":11331580,"body_markdown":"&gt; What is the most simple way to tell the Jackson to not serialize a specific getter method\r\n&gt; ...\r\n&gt; without annotation?\r\n\r\nWithout writing a customer serializer...\r\n\r\nIf directly annotating the field/property/getter/setter to be skipped is undesirable, another approach is to make use of [the Jackson Mix-In feature][1].\r\n\r\nYet another approach for serialization only would be to make use of [the Jackson JSON Views feature][2], though this too requires annotations in some capacity.\r\n\r\n  [1]: http://wiki.fasterxml.com/JacksonMixInAnnotations\r\n  [2]: http://wiki.fasterxml.com/JacksonJsonViews","title":"Jackson deserialization specific getter turning off","body":"<blockquote>\n  <p>What is the most simple way to tell the Jackson to not serialize a specific getter method\n  ...\n  without annotation?</p>\n</blockquote>\n\n<p>Without writing a customer serializer...</p>\n\n<p>If directly annotating the field/property/getter/setter to be skipped is undesirable, another approach is to make use of <a href=\"http://wiki.fasterxml.com/JacksonMixInAnnotations\" rel=\"nofollow\">the Jackson Mix-In feature</a>.</p>\n\n<p>Yet another approach for serialization only would be to make use of <a href=\"http://wiki.fasterxml.com/JacksonJsonViews\" rel=\"nofollow\">the Jackson JSON Views feature</a>, though this too requires annotations in some capacity.</p>\n"},{"tags":[],"owner":{"account_id":23674,"reputation":114076,"user_id":59501,"accept_rate":75,"display_name":"StaxMan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1341509714,"creation_date":1341509714,"answer_id":11349545,"question_id":11331580,"body_markdown":"This may depend on Jackson version -- prior to 1.9, getters and setters were handled separately, so not auto-detecting getter would have been enough. But with 1.9 and beyond, setter/getter/field are all combined into logical property, which may allow Jackson to deduce existence of property from setter.\r\n\r\nSo what you probably need to do is to also disable setter detection. Other options already given would work as well, mix-in annotations being a common way to do this.\r\n","title":"Jackson deserialization specific getter turning off","body":"<p>This may depend on Jackson version -- prior to 1.9, getters and setters were handled separately, so not auto-detecting getter would have been enough. But with 1.9 and beyond, setter/getter/field are all combined into logical property, which may allow Jackson to deduce existence of property from setter.</p>\n\n<p>So what you probably need to do is to also disable setter detection. Other options already given would work as well, mix-in annotations being a common way to do this.</p>\n"},{"tags":[],"owner":{"account_id":401495,"reputation":581,"user_id":768085,"display_name":"maziar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696472618,"creation_date":1347553122,"answer_id":12410608,"question_id":11331580,"body_markdown":"```java\r\nobjectMapper.configure(SerializationConfig.Feature.AUTO_DETECT_GETTERS, false);\r\n```","title":"Jackson deserialization specific getter turning off","body":"<pre class=\"lang-java prettyprint-override\"><code>objectMapper.configure(SerializationConfig.Feature.AUTO_DETECT_GETTERS, false);\n</code></pre>\n"}],"owner":{"account_id":1093641,"reputation":4759,"user_id":1087718,"accept_rate":84,"display_name":"czupe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2677,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":11331641,"answer_count":5,"score":1,"last_activity_date":1696472807,"creation_date":1341414255,"question_id":11331580,"body_markdown":"What is the most simple way to tell the Jackson to not serialize a specific getter method? I only want to say explicit to one getter, because I have a custom, complex class, and all setter and getter should function, only one should not:\r\n\r\n    mapper.configure(SerializationConfig.Feature.AUTO_DETECT_GETTERS, true);\r\n\r\nSo this is not the proper way. I need to tell that I don&#39;t want to use the getter in this class:\r\n\r\n    public static class EventRow implements Serializable, Cloneable, GRSerializable {\r\n    \tpublic int x\r\n        public int y\r\n        public double z\r\n        public String eventKeyValuesPacked; \r\n    \r\n        //This getter should not be used, because there is no explicit setter\r\n        //for    this, and also no public... And it is only unpack  \r\n        //EventKeyValuesPacked so it would be multiple data...\r\n        public KeyValue[] getEventKeyValues() {\r\n    \t   KeyValue[] kvs = DA_EventKey.unpackKeyValues(eventKeyValuesPacked);\r\n    \t   return kvs == null ? new KeyValue[0] : kvs;\r\n       }\r\n    }\r\n\r\n\r\nIs there any annotation or `SerializationConfig` option to make invisible the `getEventKeyValues()` getter method?","title":"Jackson deserialization specific getter turning off","body":"<p>What is the most simple way to tell the Jackson to not serialize a specific getter method? I only want to say explicit to one getter, because I have a custom, complex class, and all setter and getter should function, only one should not:</p>\n\n<pre><code>mapper.configure(SerializationConfig.Feature.AUTO_DETECT_GETTERS, true);\n</code></pre>\n\n<p>So this is not the proper way. I need to tell that I don't want to use the getter in this class:</p>\n\n<pre><code>public static class EventRow implements Serializable, Cloneable, GRSerializable {\n    public int x\n    public int y\n    public double z\n    public String eventKeyValuesPacked; \n\n    //This getter should not be used, because there is no explicit setter\n    //for    this, and also no public... And it is only unpack  \n    //EventKeyValuesPacked so it would be multiple data...\n    public KeyValue[] getEventKeyValues() {\n       KeyValue[] kvs = DA_EventKey.unpackKeyValues(eventKeyValuesPacked);\n       return kvs == null ? new KeyValue[0] : kvs;\n   }\n}\n</code></pre>\n\n<p>Is there any annotation or <code>SerializationConfig</code> option to make invisible the <code>getEventKeyValues()</code> getter method?</p>\n"},{"tags":["javascript","java","php","arrays","json"],"comments":[{"owner":{"account_id":61252,"reputation":407488,"user_id":182668,"accept_rate":68,"display_name":"Pointy"},"score":0,"creation_date":1510068048,"post_id":47161419,"comment_id":81272402,"body_markdown":"That doesn&#39;t look like JSON.","body":"That doesn&#39;t look like JSON."},{"owner":{"account_id":1957068,"reputation":22025,"user_id":1759845,"accept_rate":65,"display_name":"BackSlash"},"score":2,"creation_date":1510068078,"post_id":47161419,"comment_id":81272422,"body_markdown":"This is not json. This is just a vardump","body":"This is not json. This is just a vardump"},{"owner":{"account_id":3303731,"reputation":682,"user_id":2779185,"display_name":"Hemant Rajpoot"},"score":0,"creation_date":1510068195,"post_id":47161419,"comment_id":81272506,"body_markdown":"this error means invalid JSON try too stringify you value","body":"this error means invalid JSON try too stringify you value"},{"owner":{"account_id":1354532,"reputation":3147,"user_id":1293222,"accept_rate":100,"display_name":"Withnail"},"score":0,"creation_date":1510068847,"post_id":47161419,"comment_id":81272963,"body_markdown":"You should read the guidance on [how to ask a good question](https://stackoverflow.com/help/how-to-ask) without a set Minimal, Complete, Verifiable Example (MCVE) code to work from, no-one will be able to help with your query.","body":"You should read the guidance on <a href=\"https://stackoverflow.com/help/how-to-ask\">how to ask a good question</a> without a set Minimal, Complete, Verifiable Example (MCVE) code to work from, no-one will be able to help with your query."}],"answers":[{"tags":[],"owner":{"account_id":6744533,"reputation":139,"user_id":5196542,"display_name":"Faisal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1510068404,"creation_date":1510068404,"answer_id":47161574,"question_id":47161419,"body_markdown":"1. This isn&#39;t JSON.\r\n2. The error `Unexpected token A` refers to the word `Array` in your payload. Your JSON parser is looking for a curly brace, which is the first character in a correctly formatted JSON object, but it&#39;s finding the character `A` for `Array` instead.\r\n\r\nDelete the word `Array` and replace your parentheses `( ) ` with curly braces `{ }`.","title":"syntaxError:Unexpected Token A in Json at position 0","body":"<ol>\n<li>This isn't JSON.</li>\n<li>The error <code>Unexpected token A</code> refers to the word <code>Array</code> in your payload. Your JSON parser is looking for a curly brace, which is the first character in a correctly formatted JSON object, but it's finding the character <code>A</code> for <code>Array</code> instead.</li>\n</ol>\n\n<p>Delete the word <code>Array</code> and replace your parentheses <code>( )</code> with curly braces <code>{ }</code>.</p>\n"}],"owner":{"account_id":12194974,"reputation":1,"user_id":8900974,"display_name":"Pinku Bhattacharjee"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":706,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1696471698,"creation_date":1510068006,"question_id":47161419,"body_markdown":"When I am trying to create manual orders from my opencart admin v2.3.0.2 admin panel after adding the product when I am filling the Payment details section in opencart and click next to proceed to add shipping details. this error pops up on my screen. And i am not able to create new orders or edit the old orders. I need immediate help. Thank you in advance. \r\n\r\n![Error screenshot][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dvoyV.png","title":"syntaxError:Unexpected Token A in Json at position 0","body":"<p>When I am trying to create manual orders from my opencart admin v2.3.0.2 admin panel after adding the product when I am filling the Payment details section in opencart and click next to proceed to add shipping details. this error pops up on my screen. And i am not able to create new orders or edit the old orders. I need immediate help. Thank you in advance. </p>\n\n<p><img src=\"https://i.stack.imgur.com/dvoyV.png\" alt=\"Error screenshot\"></p>\n"},{"tags":["java","inheritance","protected"],"comments":[{"owner":{"account_id":9867,"reputation":618181,"user_id":18393,"accept_rate":82,"display_name":"cletus"},"score":13,"creation_date":1243132138,"post_id":902922,"comment_id":710769,"body_markdown":"+1 Frankly I want know why as well. It always struck me as one of the dumbest design decisions in Java.","body":"+1 Frankly I want know why as well. It always struck me as one of the dumbest design decisions in Java."},{"owner":{"account_id":137113,"reputation":11637,"user_id":341091,"accept_rate":75,"display_name":"Martin"},"score":3,"creation_date":1387531110,"post_id":902922,"comment_id":31003259,"body_markdown":"@cletus : So longer I think about it so more I come to the conclusion that “package private” was the not well thought out idea. For “package private” to actual work and offer any kind of real protection, packages would need to be compiled within a single compilation unit. And one should not be able to enhance them later.","body":"@cletus : So longer I think about it so more I come to the conclusion that “package private” was the not well thought out idea. For “package private” to actual work and offer any kind of real protection, packages would need to be compiled within a single compilation unit. And one should not be able to enhance them later."}],"answers":[{"tags":[],"owner":{"account_id":34048,"reputation":860843,"user_id":95810,"accept_rate":80,"display_name":"Alex Martelli"},"down_vote_count":0,"up_vote_count":26,"is_accepted":true,"score":26,"last_activity_date":1243131750,"creation_date":1243131750,"answer_id":902930,"question_id":902922,"body_markdown":"This design is based on the idea that the package is the appropriate unit, maintained and released by one internally consistent team; inheritance relationships have much less to do with who&#39;s maintaining and releasing what when.","title":"Why does the &quot;protected&quot; modifier in Java allow access to other classes in same package?","body":"<p>This design is based on the idea that the package is the appropriate unit, maintained and released by one internally consistent team; inheritance relationships have much less to do with who's maintaining and releasing what when.</p>\n"},{"tags":[],"owner":{"account_id":28947,"reputation":90759,"user_id":77779,"accept_rate":89,"display_name":"Yishai"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1243132916,"creation_date":1243132916,"answer_id":902952,"question_id":902922,"body_markdown":"Basically it has to do with the view of a package as an api controlled unit (hence the recommendation to start your package with your domain name - guaranteed global uniqueness), so visibility grows from private -&gt; package-private -&gt; protected -&gt; public. If protected weren&#39;t an increase over package-private, rather a different type of visibility, there would have to be some way to combine the two types of visibility when needed.","title":"Why does the &quot;protected&quot; modifier in Java allow access to other classes in same package?","body":"<p>Basically it has to do with the view of a package as an api controlled unit (hence the recommendation to start your package with your domain name - guaranteed global uniqueness), so visibility grows from private -> package-private -> protected -> public. If protected weren't an increase over package-private, rather a different type of visibility, there would have to be some way to combine the two types of visibility when needed.</p>\n"},{"tags":[],"owner":{"account_id":5530,"reputation":63236,"user_id":8946,"accept_rate":84,"display_name":"Lawrence Dol"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1243133059,"creation_date":1243133059,"answer_id":902956,"question_id":902922,"body_markdown":"Given progressive levels of access, private, package, protected and public, it would be unnecessarily limiting if it went protected then package since that would force me to allow subclasses access in order to grant other members of the same package.  Yet, intuitively, it should be that other classes in the same package are more trustworthy than other classes &quot;out there&quot;.  So protected is between package and public in that it allows a wider exposure of access.\r\n\r\nI think the basic reason relies on the intuition that there&#39;s a basic level of &quot;trust&quot; between classes in the same package; you can reasonably expect them to do the right thing with each other - in most cases the package will be the responsibility of a single engineer or team so there should be a consistent harmony of design.\r\n","title":"Why does the &quot;protected&quot; modifier in Java allow access to other classes in same package?","body":"<p>Given progressive levels of access, private, package, protected and public, it would be unnecessarily limiting if it went protected then package since that would force me to allow subclasses access in order to grant other members of the same package.  Yet, intuitively, it should be that other classes in the same package are more trustworthy than other classes \"out there\".  So protected is between package and public in that it allows a wider exposure of access.</p>\n\n<p>I think the basic reason relies on the intuition that there's a basic level of \"trust\" between classes in the same package; you can reasonably expect them to do the right thing with each other - in most cases the package will be the responsibility of a single engineer or team so there should be a consistent harmony of design.</p>\n"},{"tags":[],"owner":{"account_id":14461,"reputation":6473,"user_id":29771,"accept_rate":91,"display_name":"Glenn"},"down_vote_count":3,"up_vote_count":28,"is_accepted":false,"score":25,"last_activity_date":1696471474,"creation_date":1243135084,"answer_id":902995,"question_id":902922,"body_markdown":"The modifiers are well-described in [The Java Tutorials][1].  From there, we see this table:\r\n\r\n| Modifier | Class | Package | Subclass | World |\r\n| -------- | ----- | ----- | ----- | ----- |\r\n| `public` | Y | Y | Y | Y |\r\n| `protected` | Y | Y | Y | N |\r\n| *no modifier* | Y | Y | N | N |\r\n| `private` | Y | N | N | N |\r\n\r\nFrom this, the reason for the design decision is obvious: it&#39;s to have a nice symmetric matrix.\r\n\r\n[1]: https://docs.oracle.com/javase/tutorial/java/javaOO/accesscontrol.html\r\n\r\n","title":"Why does the &quot;protected&quot; modifier in Java allow access to other classes in same package?","body":"<p>The modifiers are well-described in <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/accesscontrol.html\" rel=\"nofollow noreferrer\">The Java Tutorials</a>.  From there, we see this table:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Modifier</th>\n<th>Class</th>\n<th>Package</th>\n<th>Subclass</th>\n<th>World</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>public</code></td>\n<td>Y</td>\n<td>Y</td>\n<td>Y</td>\n<td>Y</td>\n</tr>\n<tr>\n<td><code>protected</code></td>\n<td>Y</td>\n<td>Y</td>\n<td>Y</td>\n<td>N</td>\n</tr>\n<tr>\n<td><em>no modifier</em></td>\n<td>Y</td>\n<td>Y</td>\n<td>N</td>\n<td>N</td>\n</tr>\n<tr>\n<td><code>private</code></td>\n<td>Y</td>\n<td>N</td>\n<td>N</td>\n<td>N</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>From this, the reason for the design decision is obvious: it's to have a nice symmetric matrix.</p>\n"},{"tags":[],"owner":{"account_id":3282,"reputation":146286,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1543943878,"creation_date":1243137990,"answer_id":903050,"question_id":902922,"body_markdown":"In Java 1.0 there was a fifth access modifier: `private protected`. This was `protected` without the default access. Apparently it never actually worked properly and was dropped in 1.1. So it looks like claims the `protected` is defined the way it is for total ordering appear to be spurious. (**Edit:** It does appear that at least one of the reasons the fifth access modifier was removed in 1.1 was that the lack of total ordering interfered with the overload selection rules.) The `module` access modifier in Java 7 has a few design questions in this area.\r\n\r\nGiven that it was thought that it would be a good idea for the default access modifier for members to be &quot;package private&quot;, it seems reasonable that `protected` should have be at least this level of access. For my money, `protected` doesn&#39;t pay its way in the language at all.","title":"Why does the &quot;protected&quot; modifier in Java allow access to other classes in same package?","body":"<p>In Java 1.0 there was a fifth access modifier: <code>private protected</code>. This was <code>protected</code> without the default access. Apparently it never actually worked properly and was dropped in 1.1. So it looks like claims the <code>protected</code> is defined the way it is for total ordering appear to be spurious. (<strong>Edit:</strong> It does appear that at least one of the reasons the fifth access modifier was removed in 1.1 was that the lack of total ordering interfered with the overload selection rules.) The <code>module</code> access modifier in Java 7 has a few design questions in this area.</p>\n\n<p>Given that it was thought that it would be a good idea for the default access modifier for members to be \"package private\", it seems reasonable that <code>protected</code> should have be at least this level of access. For my money, <code>protected</code> doesn't pay its way in the language at all.</p>\n"},{"tags":[],"owner":{"account_id":3165600,"reputation":379,"user_id":2675698,"display_name":"jbhardwaj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1410932978,"creation_date":1410932978,"answer_id":25883163,"question_id":902922,"body_markdown":"Java does follow its design principles on itself. What happens when you try to reduce/narrow the scope of public method in a subclass ? one gets an error.\r\nJava scope modifiers  levels follow : private &lt; (default) &lt; protected &lt; public \r\n\r\nAll class in package are supposed to be friendly because they work together. To make a member available in package it is defined in default scope. \r\n\r\nA subclass may reside outside the package, following scope levels again : private &lt; (default) &lt; protected &lt; public - We can not narrow down the scope. Protected is broader scope than default so **Java does not contradicts its own guidelines**. Thus, a protected member will be available in default scope. Also : class &lt; package &lt; Project.\r\n\r\nPlease do not limit modifiers to only visibility, but inheritance, structure are also in work at same time and add them to picture as well. If this was true : private &lt; protected &lt; (default) &lt; public. then all sub classes would have to reside in same package, then why you need to inherit you can access everything as default scope is there at applicable at package level. Default scope would have  lost its value and so does inheritance.\r\n\r\n\r\n\r\n","title":"Why does the &quot;protected&quot; modifier in Java allow access to other classes in same package?","body":"<p>Java does follow its design principles on itself. What happens when you try to reduce/narrow the scope of public method in a subclass ? one gets an error.\nJava scope modifiers  levels follow : private &lt; (default) &lt; protected &lt; public </p>\n\n<p>All class in package are supposed to be friendly because they work together. To make a member available in package it is defined in default scope. </p>\n\n<p>A subclass may reside outside the package, following scope levels again : private &lt; (default) &lt; protected &lt; public - We can not narrow down the scope. Protected is broader scope than default so <strong>Java does not contradicts its own guidelines</strong>. Thus, a protected member will be available in default scope. Also : class &lt; package &lt; Project.</p>\n\n<p>Please do not limit modifiers to only visibility, but inheritance, structure are also in work at same time and add them to picture as well. If this was true : private &lt; protected &lt; (default) &lt; public. then all sub classes would have to reside in same package, then why you need to inherit you can access everything as default scope is there at applicable at package level. Default scope would have  lost its value and so does inheritance.</p>\n"}],"owner":{"account_id":11857,"reputation":88771,"user_id":23072,"accept_rate":74,"display_name":"Uri"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8713,"favorite_count":0,"down_vote_count":1,"up_vote_count":50,"accepted_answer_id":902930,"answer_count":6,"score":49,"last_activity_date":1696471474,"creation_date":1243131538,"question_id":902922,"body_markdown":"What is the reason that in Java, a member with a &quot;protected&quot; modifier can not only be accessed by the same class and by subclasses, but also by everyone in the same package? \r\n\r\nI am wondering about language design reasons, not actual applications (e.g., testing)","title":"Why does the &quot;protected&quot; modifier in Java allow access to other classes in same package?","body":"<p>What is the reason that in Java, a member with a \"protected\" modifier can not only be accessed by the same class and by subclasses, but also by everyone in the same package? </p>\n\n<p>I am wondering about language design reasons, not actual applications (e.g., testing)</p>\n"},{"tags":["java","arrays","deep-copy"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":3,"creation_date":1696467434,"post_id":77233720,"comment_id":136158080,"body_markdown":"Who said you have to?","body":"Who said you have to?"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1696469721,"post_id":77233720,"comment_id":136158229,"body_markdown":"We don&#39;t know what a `Person` Object is. We don&#39;t know if `deepCopy ( )` has been defined for `Person`. Since the return type is `Person` and `data` is an array of `Person`, `return data[j]` should not generate a *compiler error*. But, we don&#39;t have enough information to say that the `deepCopy ()` method should or should not be used.","body":"We don&#39;t know what a <code>Person</code> Object is. We don&#39;t know if <code>deepCopy ( )</code> has been defined for <code>Person</code>. Since the return type is <code>Person</code> and <code>data</code> is an array of <code>Person</code>, <code>return data[j]</code> should not generate a <i>compiler error</i>. But, we don&#39;t have enough information to say that the <code>deepCopy ()</code> method should or should not be used."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1696470926,"post_id":77233720,"comment_id":136158300,"body_markdown":"Typically, returning a copy is meant to prevent modifications to the original object. Whether or not that&#39;s required is entirely up to the design/contract of the code, which is decided by the developer(s) / designer(s). Though if the object is _immutable_, then returning a copy is superfluous.","body":"Typically, returning a copy is meant to prevent modifications to the original object. Whether or not that&#39;s required is entirely up to the design/contract of the code, which is decided by the developer(s) / designer(s). Though if the object is <i>immutable</i>, then returning a copy is superfluous."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1696471183,"post_id":77233720,"comment_id":136158313,"body_markdown":"Also see [What is the difference between a deep copy and a shallow copy?](https://stackoverflow.com/q/184710/6395627).","body":"Also see <a href=\"https://stackoverflow.com/q/184710/6395627\">What is the difference between a deep copy and a shallow copy?</a>."}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696470884,"creation_date":1696470884,"answer_id":77233857,"question_id":77233720,"body_markdown":"&gt; _&quot;... Why do I have to return the deep copy of the object in the fetch method in array structure? Why can&#39;t I simply return the data[j]? ...&quot;_\r\n\r\nIt appears to just be what the _fetch_ method does.\r\n\r\nYou can always create an alternate method, to return the actual object.\r\n\r\nAnd, on that note, it would be more useful to encapsulate a _non deep-copying_ method.\r\n\r\nHere is an example.\r\n\r\n```java\r\npublic Person fetchDeepCopy(String last) {\r\n    return fetch(last).deepCopy();\r\n}\r\n    \r\npublic Person fetch(String last) // find a specific person based on last name\r\n{\r\n    int j=0;\r\n    for(j=0; j&lt;next; j++) // iterate through the loop to find it\r\n    {\r\n        if((data[j].getLast()).equalsIgnoreCase(last)) // compare the entry in the array to the parameter value\r\n            break;\r\n    }\r\n\r\n    if(j==next)\r\n    {\r\n        return null; // person with that last name was not found\r\n    }\r\n    else\r\n    {\r\n        return data[j]; // person is found, so return a deep copy of their node\r\n    }\r\n} // end fetch\r\n```","title":"Why we have to return a deep copy of the object in the fetch method in array structure?","body":"<blockquote>\n<p><em>&quot;... Why do I have to return the deep copy of the object in the fetch method in array structure? Why can't I simply return the data[j]? ...&quot;</em></p>\n</blockquote>\n<p>It appears to just be what the <em>fetch</em> method does.</p>\n<p>You can always create an alternate method, to return the actual object.</p>\n<p>And, on that note, it would be more useful to encapsulate a <em>non deep-copying</em> method.</p>\n<p>Here is an example.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Person fetchDeepCopy(String last) {\n    return fetch(last).deepCopy();\n}\n    \npublic Person fetch(String last) // find a specific person based on last name\n{\n    int j=0;\n    for(j=0; j&lt;next; j++) // iterate through the loop to find it\n    {\n        if((data[j].getLast()).equalsIgnoreCase(last)) // compare the entry in the array to the parameter value\n            break;\n    }\n\n    if(j==next)\n    {\n        return null; // person with that last name was not found\n    }\n    else\n    {\n        return data[j]; // person is found, so return a deep copy of their node\n    }\n} // end fetch\n</code></pre>\n"}],"owner":{"account_id":22346838,"reputation":7,"user_id":16565676,"display_name":"Coderey123"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1696470884,"creation_date":1696466934,"question_id":77233720,"body_markdown":"```\r\nreturn data[j].deepCopy(); \r\n```\r\n\r\nWhy do I have to return the deep copy of the object in the fetch method in array structure? Why can&#39;t I simply return the data[j]?\r\n\r\nI would be very grateful if you also clarify me the concept of deep, shallow and cloning in java. I am beginner level programmer.\r\n\r\n```\r\npackage objectsortapp;\r\n\r\npublic class SortedArray {\r\n    private Person[] data; // reference to array data\r\n    private int next; // place where next item will be inserted\r\n    \r\n    public SortedArray(int max) // constructor\r\n    {\r\n        data = new Person[max]; // create the array with max elements\r\n        next = 0; // array is empty\r\n    } // end constructor\r\n    \r\n    public Person fetch(String last) // find a specific person based on last name\r\n    {\r\n        int j=0;\r\n        for(j=0; j&lt;next; j++) // iterate through the loop to find it\r\n        {\r\n            if((data[j].getLast()).equalsIgnoreCase(last)) // compare the entry in the array to the parameter value\r\n                break;\r\n        }\r\n        \r\n        if(j==next)\r\n        {\r\n            return null; // person with that last name was not found\r\n        }\r\n        else\r\n        {\r\n            return data[j].deepCopy(); // person is found, so return a deep copy of their node\r\n        }\r\n    } // end fetch\r\n}\r\n```\r\n","title":"Why we have to return a deep copy of the object in the fetch method in array structure?","body":"<pre><code>return data[j].deepCopy(); \n</code></pre>\n<p>Why do I have to return the deep copy of the object in the fetch method in array structure? Why can't I simply return the data[j]?</p>\n<p>I would be very grateful if you also clarify me the concept of deep, shallow and cloning in java. I am beginner level programmer.</p>\n<pre><code>package objectsortapp;\n\npublic class SortedArray {\n    private Person[] data; // reference to array data\n    private int next; // place where next item will be inserted\n    \n    public SortedArray(int max) // constructor\n    {\n        data = new Person[max]; // create the array with max elements\n        next = 0; // array is empty\n    } // end constructor\n    \n    public Person fetch(String last) // find a specific person based on last name\n    {\n        int j=0;\n        for(j=0; j&lt;next; j++) // iterate through the loop to find it\n        {\n            if((data[j].getLast()).equalsIgnoreCase(last)) // compare the entry in the array to the parameter value\n                break;\n        }\n        \n        if(j==next)\n        {\n            return null; // person with that last name was not found\n        }\n        else\n        {\n            return data[j].deepCopy(); // person is found, so return a deep copy of their node\n        }\n    } // end fetch\n}\n</code></pre>\n"},{"tags":["java","class","private"],"comments":[{"owner":{"account_id":1853886,"reputation":210597,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"score":7,"creation_date":1360001189,"post_id":14692708,"comment_id":20544625,"body_markdown":"And what would you do with that class?","body":"And what would you do with that class?"},{"owner":{"account_id":114839,"reputation":23525,"user_id":301816,"accept_rate":84,"display_name":"stevebot"},"score":1,"creation_date":1360002514,"post_id":14692708,"comment_id":20545265,"body_markdown":"@OliCharlesworth it would mean that at the next access level above class (the package), access could be modified.","body":"@OliCharlesworth it would mean that at the next access level above class (the package), access could be modified."},{"owner":{"account_id":44195,"reputation":269033,"user_id":129570,"accept_rate":79,"display_name":"Oliver Charlesworth"},"score":0,"creation_date":1360002576,"post_id":14692708,"comment_id":20545297,"body_markdown":"@stevebot: That distinction is public/package, no?","body":"@stevebot: That distinction is public/package, no?"},{"owner":{"account_id":114839,"reputation":23525,"user_id":301816,"accept_rate":84,"display_name":"stevebot"},"score":0,"creation_date":1360002865,"post_id":14692708,"comment_id":20545468,"body_markdown":"@OliCharlesworth yes the distinction in the OP&#39;s question is that an inner class is at the class access level, whereas the top level class is at the package access level.","body":"@OliCharlesworth yes the distinction in the OP&#39;s question is that an inner class is at the class access level, whereas the top level class is at the package access level."},{"owner":{"account_id":20717463,"reputation":190,"user_id":15212573,"display_name":"roudlek"},"score":0,"creation_date":1683885000,"post_id":14692708,"comment_id":134438268,"body_markdown":"it&#39;s like making a party that nobody can attend, literally no body, even the owner, and the bartender","body":"it&#39;s like making a party that nobody can attend, literally no body, even the owner, and the bartender"}],"answers":[{"tags":[],"owner":{"account_id":72575,"reputation":40784,"user_id":209513,"accept_rate":100,"display_name":"Subhrajyoti Majumder"},"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1481313673,"creation_date":1360001244,"answer_id":14692740,"question_id":14692708,"body_markdown":"`private` modifier will make your class inaccessible from outside, so there wouldn&#39;t be any advantage of this and I think that is why it is illegal and only `public`, `abstract` &amp; `final` are permitted. \r\n\r\nNote : Even you can not make it `protected`.","title":"Private class declaration","body":"<p><code>private</code> modifier will make your class inaccessible from outside, so there wouldn't be any advantage of this and I think that is why it is illegal and only <code>public</code>, <code>abstract</code> &amp; <code>final</code> are permitted. </p>\n\n<p>Note : Even you can not make it <code>protected</code>.</p>\n"},{"tags":[],"owner":{"account_id":2175209,"reputation":807,"user_id":1926031,"accept_rate":50,"display_name":"Amit"},"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1696470071,"creation_date":1360001333,"answer_id":14692777,"question_id":14692708,"body_markdown":"Private outer class would be useless as nothing can access it.\r\n\r\n\r\nSee more details:\r\n\r\nhttps://stackoverflow.com/questions/1913863/java-why-can-we-define-a-top-level-class-as-private","title":"Private class declaration","body":"<p>Private outer class would be useless as nothing can access it.</p>\n<p>See more details:</p>\n<p><a href=\"https://stackoverflow.com/questions/1913863/java-why-can-we-define-a-top-level-class-as-private\">Why can&#39;t we define a top level class as private?</a></p>\n"},{"tags":[],"owner":{"account_id":114839,"reputation":23525,"user_id":301816,"accept_rate":84,"display_name":"stevebot"},"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1360003027,"creation_date":1360001393,"answer_id":14692788,"question_id":14692708,"body_markdown":"To answer your question: \r\n \r\n\r\n \r\n\r\n&gt;    If we can have inner private class then why can&#39;t we have outer\r\n&gt; private class...?\r\n\r\nYou can, the distinction is that the inner class is at the &quot;class&quot; access level, whereas the &quot;outer&quot; class is at the &quot;package&quot; access level. From the [Oracle Tutorials][1]: \r\n\r\n&gt; If a class has no modifier (the default, also known as package-private), it is visible only within its own package (packages are named groups of related classes — you will learn about them in a later lesson.) \r\n\r\nThus, package-private (declaring no modifier) is the effect you would expect from declaring an &quot;outer&quot; class private, the syntax is just different.  \r\n\r\n\r\n\r\n\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/java/javaOO/accesscontrol.html\r\n  [2]: http://docs.oracle.com/javase/tutorial/java/javaOO/accesscontrol.html","title":"Private class declaration","body":"<p>To answer your question: </p>\n\n<blockquote>\n  <p>If we can have inner private class then why can't we have outer\n  private class...?</p>\n</blockquote>\n\n<p>You can, the distinction is that the inner class is at the \"class\" access level, whereas the \"outer\" class is at the \"package\" access level. From the <a href=\"http://docs.oracle.com/javase/tutorial/java/javaOO/accesscontrol.html\">Oracle Tutorials</a>: </p>\n\n<blockquote>\n  <p>If a class has no modifier (the default, also known as package-private), it is visible only within its own package (packages are named groups of related classes — you will learn about them in a later lesson.) </p>\n</blockquote>\n\n<p>Thus, package-private (declaring no modifier) is the effect you would expect from declaring an \"outer\" class private, the syntax is just different.  </p>\n"},{"tags":[],"owner":{"account_id":1200939,"reputation":29479,"user_id":1171620,"accept_rate":43,"display_name":"Suzan Cioc"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1360001661,"creation_date":1360001661,"answer_id":14692868,"question_id":14692708,"body_markdown":"You can&#39;t have `private` class but you can have `second` class:\r\n\r\n    public class App14692708 {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tPC pc = new PC();\r\n    \t\tSystem.out.println(pc);\r\n    \t}\r\n    }\r\n    \r\n    class PC {\r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\treturn &quot;I am PC instance &quot; + super.toString();\r\n    \t}\r\n    }\r\n\r\nAlso remember that `static` inner class is indistinguishable of separate class except it&#39;s name is `OuterClass.InnerClass`. So if you don&#39;t want to use &quot;closures&quot;, use static inner class.\r\n\r\n","title":"Private class declaration","body":"<p>You can't have <code>private</code> class but you can have <code>second</code> class:</p>\n\n<pre><code>public class App14692708 {\n    public static void main(String[] args) {\n        PC pc = new PC();\n        System.out.println(pc);\n    }\n}\n\nclass PC {\n    @Override\n    public String toString() {\n        return \"I am PC instance \" + super.toString();\n    }\n}\n</code></pre>\n\n<p>Also remember that <code>static</code> inner class is indistinguishable of separate class except it's name is <code>OuterClass.InnerClass</code>. So if you don't want to use \"closures\", use static inner class.</p>\n"},{"tags":[],"owner":{"account_id":752438,"reputation":113,"user_id":754244,"display_name":"Prabhakar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1360001807,"creation_date":1360001807,"answer_id":14692902,"question_id":14692708,"body_markdown":"  private makes the class accessible only to the class in which it is declared. If we make entire class private no one from outside can access the class and makes it useless. \r\n\r\n   Inner class can be made private because the outer class can access inner class where as it is not the case with if you make outer class private.","title":"Private class declaration","body":"<p>private makes the class accessible only to the class in which it is declared. If we make entire class private no one from outside can access the class and makes it useless. </p>\n\n<p>Inner class can be made private because the outer class can access inner class where as it is not the case with if you make outer class private.</p>\n"},{"tags":[],"owner":{"account_id":775068,"reputation":64803,"user_id":823393,"accept_rate":86,"display_name":"OldCurmudgeon"},"down_vote_count":3,"up_vote_count":7,"is_accepted":false,"score":4,"last_activity_date":1538972230,"creation_date":1360001947,"answer_id":14692929,"question_id":14692708,"body_markdown":"You can.\r\n\r\n    package test;\r\n\r\n    public class Test {\r\n        public static void main(String[] args) {\r\n            B b = new B();\r\n        }\r\n    }\r\n\r\n    class B {\r\n      // Essentially package-private - cannot be accessed anywhere else but inside the `test` package\r\n    }\r\n","title":"Private class declaration","body":"<p>You can.</p>\n\n<pre><code>package test;\n\npublic class Test {\n    public static void main(String[] args) {\n        B b = new B();\n    }\n}\n\nclass B {\n  // Essentially package-private - cannot be accessed anywhere else but inside the `test` package\n}\n</code></pre>\n"}],"owner":{"account_id":2207777,"reputation":393,"user_id":1950528,"display_name":"T__"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":183626,"favorite_count":0,"down_vote_count":0,"up_vote_count":36,"closed_date":1360007456,"answer_count":6,"score":36,"last_activity_date":1696470071,"creation_date":1360001119,"question_id":14692708,"body_markdown":"&gt; **Possible Duplicate:**  \n&gt; [Java: Why can we define a top level class as private?](https://stackoverflow.com/questions/1913863/java-why-can-we-define-a-top-level-class-as-private)  \n\n&lt;!-- End of automatically inserted text --&gt;\n\nWhy can&#39;t we declare a **private** outer class? If we can have inner private class then why can&#39;t we have outer private class...?","title":"Private class declaration","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"https://stackoverflow.com/questions/1913863/java-why-can-we-define-a-top-level-class-as-private\">Java: Why can we define a top level class as private?</a>  </p>\n</blockquote>\n\n\n\n<p>Why can't we declare a <strong>private</strong> outer class? If we can have inner private class then why can't we have outer private class...?</p>\n"},{"tags":["java","arrays","string","arraylist","collections"],"comments":[{"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":4,"creation_date":1532630454,"post_id":4042434,"comment_id":90058875,"body_markdown":"Have [made this answer](https://stackoverflow.com/a/51545546/1746118) with an updated approach with **JDK-11** introducing a new an equally performant API to `toArray(T[])` and similar in syntax to `Stream.toArray`.","body":"Have <a href=\"https://stackoverflow.com/a/51545546/1746118\">made this answer</a> with an updated approach with <b>JDK-11</b> introducing a new an equally performant API to <code>toArray(T[])</code> and similar in syntax to <code>Stream.toArray</code>."}],"answers":[{"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"down_vote_count":1,"up_vote_count":2079,"is_accepted":true,"score":2078,"last_activity_date":1457717310,"creation_date":1288265692,"answer_id":4042464,"question_id":4042434,"body_markdown":"    List&lt;String&gt; list = ..;\r\n    String[] array = list.toArray(new String[0]);\r\n\r\nFor example:\r\n\r\n    List&lt;String&gt; list = new ArrayList&lt;String&gt;();\r\n    //add some stuff\r\n    list.add(&quot;android&quot;);\r\n    list.add(&quot;apple&quot;);\r\n    String[] stringArray = list.toArray(new String[0]);\r\n    \r\n\r\nThe `toArray()` method without passing any argument returns `Object[]`. So you have to pass an array as an argument, which will be filled with the data from the list, and returned. You can pass an empty array as well, but you can also pass an array with the desired size.\r\n\r\n**Important update**: Originally the code above used `new String[list.size()]`. However, [this blogpost][1] reveals that due to JVM optimizations, using `new String[0]` is better now.\r\n\r\n\r\n  [1]: http://shipilev.net/blog/2016/arrays-wisdom-ancients/","title":"Converting &#39;ArrayList&lt;String&gt; to &#39;String[]&#39; in Java","body":"<pre><code>List&lt;String&gt; list = ..;\nString[] array = list.toArray(new String[0]);\n</code></pre>\n\n<p>For example:</p>\n\n<pre><code>List&lt;String&gt; list = new ArrayList&lt;String&gt;();\n//add some stuff\nlist.add(\"android\");\nlist.add(\"apple\");\nString[] stringArray = list.toArray(new String[0]);\n</code></pre>\n\n<p>The <code>toArray()</code> method without passing any argument returns <code>Object[]</code>. So you have to pass an array as an argument, which will be filled with the data from the list, and returned. You can pass an empty array as well, but you can also pass an array with the desired size.</p>\n\n<p><strong>Important update</strong>: Originally the code above used <code>new String[list.size()]</code>. However, <a href=\"http://shipilev.net/blog/2016/arrays-wisdom-ancients/\" rel=\"noreferrer\">this blogpost</a> reveals that due to JVM optimizations, using <code>new String[0]</code> is better now.</p>\n"},{"tags":[],"owner":{"account_id":141450,"reputation":223,"user_id":348479,"display_name":"HZhang"},"down_vote_count":8,"up_vote_count":13,"is_accepted":false,"score":5,"last_activity_date":1288270695,"creation_date":1288270695,"answer_id":4043131,"question_id":4042434,"body_markdown":"    List &lt;String&gt; list = ...\r\n    String[] array = new String[list.size()];\r\n    int i=0;\r\n    for(String s: list){\r\n      array[i++] = s;\r\n    }\r\n    ","title":"Converting &#39;ArrayList&lt;String&gt; to &#39;String[]&#39; in Java","body":"<pre><code>List &lt;String&gt; list = ...\nString[] array = new String[list.size()];\nint i=0;\nfor(String s: list){\n  array[i++] = s;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2710034,"reputation":347,"user_id":2338705,"display_name":"Rajesh Vemula"},"down_vote_count":2,"up_vote_count":35,"is_accepted":false,"score":33,"last_activity_date":1453439709,"creation_date":1367395229,"answer_id":16314659,"question_id":4042434,"body_markdown":"    ArrayList&lt;String&gt; arrayList = new ArrayList&lt;String&gt;();\r\n    Object[] objectList = arrayList.toArray();\r\n    String[] stringArray =  Arrays.copyOf(objectList,objectList.length,String[].class);\r\n\r\nUsing copyOf, ArrayList to arrays might be done also.","title":"Converting &#39;ArrayList&lt;String&gt; to &#39;String[]&#39; in Java","body":"<pre><code>ArrayList&lt;String&gt; arrayList = new ArrayList&lt;String&gt;();\nObject[] objectList = arrayList.toArray();\nString[] stringArray =  Arrays.copyOf(objectList,objectList.length,String[].class);\n</code></pre>\n\n<p>Using copyOf, ArrayList to arrays might be done also.</p>\n"},{"tags":[],"owner":{"account_id":108817,"reputation":111636,"user_id":288671,"display_name":"Vitalii Fedorenko"},"down_vote_count":0,"up_vote_count":258,"is_accepted":false,"score":258,"last_activity_date":1574299239,"creation_date":1431951277,"answer_id":30302969,"question_id":4042434,"body_markdown":"An alternative in Java 8:\r\n\r\n    String[] strings = list.stream().toArray(String[]::new);\r\n\r\nJava 11+:\r\n\r\n    String[] strings = list.toArray(String[]::new);","title":"Converting &#39;ArrayList&lt;String&gt; to &#39;String[]&#39; in Java","body":"<p>An alternative in Java 8:</p>\n\n<pre><code>String[] strings = list.stream().toArray(String[]::new);\n</code></pre>\n\n<p>Java 11+:</p>\n\n<pre><code>String[] strings = list.toArray(String[]::new);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7721153,"reputation":780,"user_id":5847353,"display_name":"codecubed"},"down_vote_count":0,"up_vote_count":49,"is_accepted":false,"score":49,"last_activity_date":1453916468,"creation_date":1453916468,"answer_id":35044382,"question_id":4042434,"body_markdown":"You can use the `toArray()` method for `List`:\r\n\r\n    ArrayList&lt;String&gt; list = new ArrayList&lt;String&gt;();\r\n\r\n    list.add(&quot;apple&quot;);\r\n    list.add(&quot;banana&quot;);\r\n\r\n    String[] array = list.toArray(new String[list.size()]);\r\n\r\nOr you can manually add the elements to an array:\r\n\r\n    ArrayList&lt;String&gt; list = new ArrayList&lt;String&gt;();\r\n    \r\n    list.add(&quot;apple&quot;);\r\n    list.add(&quot;banana&quot;);\r\n    \r\n    String[] array = new String[list.size()];\r\n    \r\n    for (int i = 0; i &lt; list.size(); i++) {\r\n        array[i] = list.get(i);\r\n    }\r\nHope this helps!","title":"Converting &#39;ArrayList&lt;String&gt; to &#39;String[]&#39; in Java","body":"<p>You can use the <code>toArray()</code> method for <code>List</code>:</p>\n\n<pre><code>ArrayList&lt;String&gt; list = new ArrayList&lt;String&gt;();\n\nlist.add(\"apple\");\nlist.add(\"banana\");\n\nString[] array = list.toArray(new String[list.size()]);\n</code></pre>\n\n<p>Or you can manually add the elements to an array:</p>\n\n<pre><code>ArrayList&lt;String&gt; list = new ArrayList&lt;String&gt;();\n\nlist.add(\"apple\");\nlist.add(\"banana\");\n\nString[] array = new String[list.size()];\n\nfor (int i = 0; i &lt; list.size(); i++) {\n    array[i] = list.get(i);\n}\n</code></pre>\n\n<p>Hope this helps!</p>\n"},{"tags":[],"owner":{"account_id":2044891,"reputation":3271,"user_id":4503311,"display_name":"Mike Shauneu"},"down_vote_count":5,"up_vote_count":16,"is_accepted":false,"score":11,"last_activity_date":1454687666,"creation_date":1454687666,"answer_id":35228293,"question_id":4042434,"body_markdown":"In Java 8:\r\n\r\n    String[] strings = list.parallelStream().toArray(String[]::new);","title":"Converting &#39;ArrayList&lt;String&gt; to &#39;String[]&#39; in Java","body":"<p>In Java 8:</p>\n\n<pre><code>String[] strings = list.parallelStream().toArray(String[]::new);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6411785,"reputation":1903,"user_id":4971315,"accept_rate":45,"display_name":"Roberto Attias"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1696469603,"creation_date":1483569420,"answer_id":41474402,"question_id":4042434,"body_markdown":"In case some extra manipulation of the data is desired, for which the user wants a function, this approach is not perfect (as it requires passing the class of the element as second parameter), but works:\r\n\r\n```java\r\nimport java.util.ArrayList;\r\nimport java.lang.reflect.Array;\r\n\r\npublic class Test {\r\n  public static void main(String[] args) {\r\n    ArrayList&lt;Integer&gt; al = new ArrayList&lt;&gt;();\r\n    al.add(1);\r\n    al.add(2);\r\n    Integer[] arr = convert(al, Integer.class);\r\n    for (int i=0; i&lt;arr.length; i++)\r\n      System.out.println(arr[i]);\r\n  }\r\n\r\n  public static &lt;T&gt; T[] convert(ArrayList&lt;T&gt; al, Class clazz) {\r\n    return (T[]) al.toArray((T[])Array.newInstance(clazz, al.size()));\r\n  }\r\n}\r\n```","title":"Converting &#39;ArrayList&lt;String&gt; to &#39;String[]&#39; in Java","body":"<p>In case some extra manipulation of the data is desired, for which the user wants a function, this approach is not perfect (as it requires passing the class of the element as second parameter), but works:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.ArrayList;\nimport java.lang.reflect.Array;\n\npublic class Test {\n  public static void main(String[] args) {\n    ArrayList&lt;Integer&gt; al = new ArrayList&lt;&gt;();\n    al.add(1);\n    al.add(2);\n    Integer[] arr = convert(al, Integer.class);\n    for (int i=0; i&lt;arr.length; i++)\n      System.out.println(arr[i]);\n  }\n\n  public static &lt;T&gt; T[] convert(ArrayList&lt;T&gt; al, Class clazz) {\n    return (T[]) al.toArray((T[])Array.newInstance(clazz, al.size()));\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1342249,"reputation":7921,"user_id":1283715,"accept_rate":74,"display_name":"Khaled Lela"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1522848232,"creation_date":1495114146,"answer_id":44049143,"question_id":4042434,"body_markdown":"**Generics** solution to covert any `List&lt;Type&gt;` to `String []`:\r\n\r\n    public static  &lt;T&gt; String[] listToArray(List&lt;T&gt; list) {\r\n        String [] array = new String[list.size()];\r\n        for (int i = 0; i &lt; array.length; i++)\r\n            array[i] = list.get(i).toString();\r\n        return array;\r\n    }\r\n\r\n**Note** You must `override toString()` method.\r\n\r\n    class Car {\r\n      private String name;\r\n      public Car(String name) {\r\n        this.name = name;\r\n      }\r\n      public String toString() {\r\n        return name;\r\n      }\r\n    }\r\n    final List&lt;Car&gt; carList = new ArrayList&lt;Car&gt;();\r\n    carList.add(new Car(&quot;BMW&quot;))\r\n    carList.add(new Car(&quot;Mercedes&quot;))\r\n    carList.add(new Car(&quot;Skoda&quot;))\r\n    final String[] carArray = listToArray(carList);","title":"Converting &#39;ArrayList&lt;String&gt; to &#39;String[]&#39; in Java","body":"<p><strong>Generics</strong> solution to covert any <code>List&lt;Type&gt;</code> to <code>String []</code>:</p>\n\n<pre><code>public static  &lt;T&gt; String[] listToArray(List&lt;T&gt; list) {\n    String [] array = new String[list.size()];\n    for (int i = 0; i &lt; array.length; i++)\n        array[i] = list.get(i).toString();\n    return array;\n}\n</code></pre>\n\n<p><strong>Note</strong> You must <code>override toString()</code> method.</p>\n\n<pre><code>class Car {\n  private String name;\n  public Car(String name) {\n    this.name = name;\n  }\n  public String toString() {\n    return name;\n  }\n}\nfinal List&lt;Car&gt; carList = new ArrayList&lt;Car&gt;();\ncarList.add(new Car(\"BMW\"))\ncarList.add(new Car(\"Mercedes\"))\ncarList.add(new Car(\"Skoda\"))\nfinal String[] carArray = listToArray(carList);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11237496,"reputation":129,"user_id":8243078,"display_name":"Vatsal Chavda"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1522848172,"creation_date":1503909796,"answer_id":45915002,"question_id":4042434,"body_markdown":"You can use **`Iterator&lt;String&gt;`** to iterate the elements of the `ArrayList&lt;String&gt;`:\r\n\r\n\r\n    ArrayList&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n    String[] array = new String[list.size()];\r\n    int i = 0;\r\n    for (Iterator&lt;String&gt; iterator = list.iterator(); iterator.hasNext(); i++) {\r\n        array[i] = iterator.next();\r\n    }\r\n\r\nNow you can retrive elements from `String[]` using any Loop.","title":"Converting &#39;ArrayList&lt;String&gt; to &#39;String[]&#39; in Java","body":"<p>You can use <strong><code>Iterator&lt;String&gt;</code></strong> to iterate the elements of the <code>ArrayList&lt;String&gt;</code>:</p>\n\n<pre><code>ArrayList&lt;String&gt; list = new ArrayList&lt;&gt;();\nString[] array = new String[list.size()];\nint i = 0;\nfor (Iterator&lt;String&gt; iterator = list.iterator(); iterator.hasNext(); i++) {\n    array[i] = iterator.next();\n}\n</code></pre>\n\n<p>Now you can retrive elements from <code>String[]</code> using any Loop.</p>\n"},{"tags":[],"owner":{"account_id":6301592,"reputation":436,"user_id":5303000,"display_name":"Denis Fedak"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1514366881,"creation_date":1514366881,"answer_id":47989547,"question_id":4042434,"body_markdown":"    private String[] prepareDeliveryArray(List&lt;DeliveryServiceModel&gt; deliveryServices) {\r\n        String[] delivery = new String[deliveryServices.size()];\r\n        for (int i = 0; i &lt; deliveryServices.size(); i++) {\r\n            delivery[i] = deliveryServices.get(i).getName();\r\n        }\r\n        return delivery;\r\n    }","title":"Converting &#39;ArrayList&lt;String&gt; to &#39;String[]&#39; in Java","body":"<pre><code>private String[] prepareDeliveryArray(List&lt;DeliveryServiceModel&gt; deliveryServices) {\n    String[] delivery = new String[deliveryServices.size()];\n    for (int i = 0; i &lt; deliveryServices.size(); i++) {\n        delivery[i] = deliveryServices.get(i).getName();\n    }\n    return delivery;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12145950,"reputation":5001,"user_id":8868289,"display_name":"Yoory N."},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1518614207,"creation_date":1518614207,"answer_id":48788179,"question_id":4042434,"body_markdown":"If your application is already using Apache Commons lib, you can slightly modify the accepted answer to not create a new empty array each time:\r\n\r\n    List&lt;String&gt; list = ..;\r\n    String[] array = list.toArray(ArrayUtils.EMPTY_STRING_ARRAY);\r\n    \r\n    // or if using static import\r\n    String[] array = list.toArray(EMPTY_STRING_ARRAY);\r\n\r\nThere are a few more preallocated empty arrays of different types in `ArrayUtils`.\r\n\r\nAlso we can trick JVM to create en empty array for us this way:\r\n\r\n    String[] array = list.toArray(ArrayUtils.toArray());\r\n    \r\n    // or if using static import\r\n    String[] array = list.toArray(toArray());\r\n\r\nBut there&#39;s really no advantage this way, just a matter of taste, IMO.","title":"Converting &#39;ArrayList&lt;String&gt; to &#39;String[]&#39; in Java","body":"<p>If your application is already using Apache Commons lib, you can slightly modify the accepted answer to not create a new empty array each time:</p>\n\n<pre><code>List&lt;String&gt; list = ..;\nString[] array = list.toArray(ArrayUtils.EMPTY_STRING_ARRAY);\n\n// or if using static import\nString[] array = list.toArray(EMPTY_STRING_ARRAY);\n</code></pre>\n\n<p>There are a few more preallocated empty arrays of different types in <code>ArrayUtils</code>.</p>\n\n<p>Also we can trick JVM to create en empty array for us this way:</p>\n\n<pre><code>String[] array = list.toArray(ArrayUtils.toArray());\n\n// or if using static import\nString[] array = list.toArray(toArray());\n</code></pre>\n\n<p>But there's really no advantage this way, just a matter of taste, IMO.</p>\n"},{"tags":[],"owner":{"account_id":13117405,"reputation":57,"user_id":9476110,"display_name":"Panchal Nilkanth"},"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1530037317,"creation_date":1530035297,"answer_id":51048812,"question_id":4042434,"body_markdown":"You can convert List to String array by using this method:\r\n\r\n     Object[] stringlist=list.toArray();\r\n\r\nThe complete example:\r\n\r\n    ArrayList&lt;String&gt; list=new ArrayList&lt;&gt;();\r\n        list.add(&quot;Abc&quot;);\r\n        list.add(&quot;xyz&quot;);\r\n        \r\n        Object[] stringlist=list.toArray();\r\n        \r\n        for(int i = 0; i &lt; stringlist.length ; i++)\r\n        {\r\n              Log.wtf(&quot;list data:&quot;,(String)stringlist[i]);\r\n        }","title":"Converting &#39;ArrayList&lt;String&gt; to &#39;String[]&#39; in Java","body":"<p>You can convert List to String array by using this method:</p>\n\n<pre><code> Object[] stringlist=list.toArray();\n</code></pre>\n\n<p>The complete example:</p>\n\n<pre><code>ArrayList&lt;String&gt; list=new ArrayList&lt;&gt;();\n    list.add(\"Abc\");\n    list.add(\"xyz\");\n\n    Object[] stringlist=list.toArray();\n\n    for(int i = 0; i &lt; stringlist.length ; i++)\n    {\n          Log.wtf(\"list data:\",(String)stringlist[i]);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"down_vote_count":0,"up_vote_count":55,"is_accepted":false,"score":55,"last_activity_date":1616081997,"creation_date":1532630280,"answer_id":51545546,"question_id":4042434,"body_markdown":"Starting from Java-11, one can use the API **[`Collection.toArray(IntFunction&lt;T[]&gt; generator)`](https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/util/Collection.html#toArray(java.util.function.IntFunction))** to achieve the same as:\r\n\r\n    List&lt;String&gt; list = List.of(&quot;x&quot;,&quot;y&quot;,&quot;z&quot;);\r\n    String[] arrayBeforeJDK11 = list.toArray(new String[0]);\r\n    String[] arrayAfterJDK11 = list.toArray(String[]::new); // similar to Stream.toArray","title":"Converting &#39;ArrayList&lt;String&gt; to &#39;String[]&#39; in Java","body":"<p>Starting from Java-11, one can use the API <strong><a href=\"https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/util/Collection.html#toArray(java.util.function.IntFunction)\" rel=\"noreferrer\"><code>Collection.toArray(IntFunction&lt;T[]&gt; generator)</code></a></strong> to achieve the same as:</p>\n<pre><code>List&lt;String&gt; list = List.of(&quot;x&quot;,&quot;y&quot;,&quot;z&quot;);\nString[] arrayBeforeJDK11 = list.toArray(new String[0]);\nString[] arrayAfterJDK11 = list.toArray(String[]::new); // similar to Stream.toArray\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4911554,"reputation":13237,"user_id":3956731,"accept_rate":95,"display_name":"KayV"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1537361586,"creation_date":1537361586,"answer_id":52406341,"question_id":4042434,"body_markdown":"In Java 8, it can be done using\r\n\r\n    String[] arrayFromList = fromlist.stream().toArray(String[]::new);","title":"Converting &#39;ArrayList&lt;String&gt; to &#39;String[]&#39; in Java","body":"<p>In Java 8, it can be done using</p>\n\n<pre><code>String[] arrayFromList = fromlist.stream().toArray(String[]::new);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":740853,"reputation":5144,"user_id":718515,"display_name":"Rafal Borowiec"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1539803921,"creation_date":1538437511,"answer_id":52600279,"question_id":4042434,"body_markdown":"In Java 11, we can use the `Collection.toArray(generator)` method. The following code will create a new array of strings:\r\n\r\n    List&lt;String&gt; list = List.of(&quot;one&quot;, &quot;two&quot;, &quot;three&quot;);\r\n    String[] array = list.toArray(String[]::new)\r\n\r\nfrom [java.base&#39;s  `java.util.Collection.toArray()`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Collection.html#toArray(java.util.function.IntFunction)).","title":"Converting &#39;ArrayList&lt;String&gt; to &#39;String[]&#39; in Java","body":"<p>In Java 11, we can use the <code>Collection.toArray(generator)</code> method. The following code will create a new array of strings:</p>\n\n<pre><code>List&lt;String&gt; list = List.of(\"one\", \"two\", \"three\");\nString[] array = list.toArray(String[]::new)\n</code></pre>\n\n<p>from <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Collection.html#toArray(java.util.function.IntFunction)\" rel=\"noreferrer\">java.base's  <code>java.util.Collection.toArray()</code></a>.</p>\n"},{"tags":[],"owner":{"account_id":6800611,"reputation":139,"user_id":5234024,"display_name":"nick w."},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1574710095,"creation_date":1550732139,"answer_id":54800959,"question_id":4042434,"body_markdown":"\t    List&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n\t    list.add(&quot;a&quot;);\r\n\t    list.add(&quot;b&quot;);\r\n\t    list.add(&quot;c&quot;);\r\n\t    String [] strArry= list.stream().toArray(size -&gt; new String[size]);\r\n\r\nPer comments, I have added a paragraph to explain how the conversion works. \r\nFirst, List&lt;String&gt; is converted to a String stream. Then it uses Stream.toArray to convert the elements in the stream to an Array. In the last statement above &quot;size -&gt; new String[size]&quot; is actually an IntFunction&lt;String []&gt; function that allocates a String array with the size of the String stream. The statement is identical to\r\n \r\n    IntFunction&lt;String []&gt; allocateFunc = size -&gt; { \r\n    return new String[size];\r\n    };\t \r\n    String [] strArry= list.stream().toArray(allocateFunc);","title":"Converting &#39;ArrayList&lt;String&gt; to &#39;String[]&#39; in Java","body":"<pre><code>    List&lt;String&gt; list = new ArrayList&lt;&gt;();\n    list.add(\"a\");\n    list.add(\"b\");\n    list.add(\"c\");\n    String [] strArry= list.stream().toArray(size -&gt; new String[size]);\n</code></pre>\n\n<p>Per comments, I have added a paragraph to explain how the conversion works. \nFirst, List is converted to a String stream. Then it uses Stream.toArray to convert the elements in the stream to an Array. In the last statement above \"size -> new String[size]\" is actually an IntFunction function that allocates a String array with the size of the String stream. The statement is identical to</p>\n\n<pre><code>IntFunction&lt;String []&gt; allocateFunc = size -&gt; { \nreturn new String[size];\n};   \nString [] strArry= list.stream().toArray(allocateFunc);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2177911,"reputation":966,"user_id":1928149,"accept_rate":67,"display_name":"Prasannjeet Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676773485,"creation_date":1676773485,"answer_id":75497629,"question_id":4042434,"body_markdown":"An alternate one-liner method for primitive types, such as `double`, `int`, etc.:\r\n\r\n```java\r\nList&lt;Double&gt; coordList = List.of(3.141, 2.71);\r\ndouble[] doubleArray = coordList.mapToDouble(Double::doubleValue).toArray();\r\n```\r\n\r\n```java\r\nList&lt;Integer&gt; coordList = List.of(11, 99);\r\nint[] intArray = coordList.mapToInt(Integer::intValue).toArray();\r\n```\r\n\r\nand so on...","title":"Converting &#39;ArrayList&lt;String&gt; to &#39;String[]&#39; in Java","body":"<p>An alternate one-liner method for primitive types, such as <code>double</code>, <code>int</code>, etc.:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Double&gt; coordList = List.of(3.141, 2.71);\ndouble[] doubleArray = coordList.mapToDouble(Double::doubleValue).toArray();\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Integer&gt; coordList = List.of(11, 99);\nint[] intArray = coordList.mapToInt(Integer::intValue).toArray();\n</code></pre>\n<p>and so on...</p>\n"}],"owner":{"account_id":661333,"reputation":16435,"user_id":482568,"accept_rate":53,"display_name":"Alex"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":938357,"favorite_count":0,"down_vote_count":0,"up_vote_count":1271,"accepted_answer_id":4042464,"answer_count":17,"score":1271,"last_activity_date":1696469603,"creation_date":1288265453,"question_id":4042434,"body_markdown":"How might I convert an `ArrayList&lt;String&gt;` object to a `String[]` array in Java?","title":"Converting &#39;ArrayList&lt;String&gt; to &#39;String[]&#39; in Java","body":"<p>How might I convert an <code>ArrayList&lt;String&gt;</code> object to a <code>String[]</code> array in Java?</p>\n"},{"tags":["java","notifications"],"owner":{"account_id":10058523,"reputation":1,"user_id":7436007,"display_name":"zhirong tong"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696469430,"creation_date":1696465819,"question_id":77233675,"body_markdown":"I am using PostgreSQL DB and applying it&#39;s LISTEN/NOTIFY functionality. So my listener is at my application server and I have triggers configured on DB such that when NOTIFY operations are performed a NOTIFY message is sent on java server.\r\nHowever whatever message I notified on db, my application server side always remained quietly.\r\nSo I figured that the LISTEN/NOTIFY goes down under the situation of two distinct db connections(one for the notifier, and another for the listener).\r\n\r\n\r\n\r\n\r\nHere&#39;s my code.\r\n\r\n```\r\nbig_gp_admin=&gt; NOTIFY change_data_capture, &#39;test msg from DB&#39;;\r\nNOTIFY\r\nAsynchronous notification &quot;change_data_capture&quot; with payload &quot;test msg from DB&quot; received from serve\r\n```\r\n\r\n\r\n```\r\n        PGDataSource dataSource = new PGDataSource();\r\n        dataSource.setHost(&quot;host&quot;);\r\n        dataSource.setPort(5432);\r\n        dataSource.setDatabaseName(&quot;dbName&quot;);\r\n        dataSource.setUser(&quot;user&quot;);\r\n        dataSource.setPassword(&quot;pwd&quot;);\r\n        \r\n        try (PGConnection connection = (PGConnection) dataSource.getConnection()) {\r\n\r\n            Statement statement = connection.createStatement();\r\n            statement.execute(&quot;LISTEN change_data_capture&quot;);\r\n\r\n            PGNotificationListener listener = new PGNotificationListener() {\r\n                @Override\r\n                public void notification(int processId, String channelName, String payload) {\r\n                    PGNotificationListener.super.notification(processId, channelName, payload);\r\n                    System.out.println(&quot;Received Notification: &quot; + processId + &quot;, &quot; + channelName + &quot;, &quot; + payload);\r\n\r\n                }\r\n            };\r\n\r\n            connection.addNotificationListener(listener);\r\n            statement.execute(&quot; NOTIFY change_data_capture, &#39;test msg from java code&#39;&quot;);\r\n\r\n            statement.close();\r\n            while (true) {\r\n            }\r\n        } catch (Exception e) {\r\n            System.err.println(e);\r\n        }\r\n\r\n```\r\n\r\n\r\n\r\n\r\nTo do a more specific test in java, I created two distinct connections, one for the notifier\r\n and another for the listener to test if the communication would work across connections and it didn&#39;t.\r\n\r\n```\r\npublic class NotificationTest {\r\n\r\n    public static void main(String args[]) throws Exception {\r\n\r\n        Class.forName(&quot;org.postgresql.Driver&quot;);\r\n        String url = &quot;url&quot;;\r\n\r\n        // Create two distinct connections, one for the notifier\r\n        // and another for the listener to show the communication\r\n        // works across connections although this example would\r\n        // work fine with just one connection.\r\n        Connection lConn = DriverManager.getConnection(url, &quot;user&quot;, &quot;pwd&quot;);\r\n        Connection nConn = DriverManager.getConnection(url, &quot;user&quot;, &quot;pwd&quot;);\r\n\r\n        // Create two threads, one to issue notifications and\r\n        // the other to receive them.\r\n        Notifier notifier = new Notifier(nConn);\r\n        Listener listener = new Listener(lConn);\r\n        listener.start();\r\n        notifier.start();\r\n    }\r\n}\r\n\r\nclass Listener extends Thread {\r\n    private Connection conn;\r\n    private org.postgresql.PGConnection pgconn;\r\n\r\n    Listener(Connection conn) throws SQLException {\r\n        this.conn = conn;\r\n        this.pgconn = conn.unwrap(org.postgresql.PGConnection.class);\r\n        Statement stmt = conn.createStatement();\r\n        stmt.execute(&quot;LISTEN mymessage&quot;);\r\n        stmt.close();\r\n    }\r\n\r\n    public void run() {\r\n        try {\r\n            while (true) {\r\n                org.postgresql.PGNotification notifications[] = pgconn.getNotifications();\r\n\r\n                // If this thread is the only one that uses the connection, a timeout can be used to\r\n                // receive notifications immediately:\r\n                // org.postgresql.PGNotification notifications[] = pgconn.getNotifications(10000);\r\n\r\n                if (notifications != null) {\r\n                    for (int i = 0; i &lt; notifications.length; i++)\r\n                        System.out.println(&quot;Got notification: &quot; + notifications[i].getName());\r\n                }\r\n\r\n                // wait a while before checking again for new\r\n                // notifications\r\n\r\n                Thread.sleep(500);\r\n            }\r\n        } catch (SQLException sqle) {\r\n            sqle.printStackTrace();\r\n        } catch (InterruptedException ie) {\r\n            ie.printStackTrace();\r\n        }\r\n    }\r\n}\r\n\r\nclass Notifier extends Thread {\r\n    private Connection conn;\r\n\r\n    public Notifier(Connection conn) {\r\n        this.conn = conn;\r\n    }\r\n\r\n    public void run() {\r\n        while (true) {\r\n            try {\r\n                Statement stmt = conn.createStatement();\r\n                stmt.execute(&quot;NOTIFY mymessage, &#39;tetsestest&#39;&quot;);\r\n                stmt.close();\r\n                Thread.sleep(2000);\r\n            } catch (SQLException sqle) {\r\n                sqle.printStackTrace();\r\n            } catch (InterruptedException ie) {\r\n                ie.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\nCould you kindly indicate which part of my code is causing the problem? Thanks so much.\r\n","title":"postgresql LISTENER gets no asynchronous notification when NOTIFY is from a different pgconnection in java","body":"<p>I am using PostgreSQL DB and applying it's LISTEN/NOTIFY functionality. So my listener is at my application server and I have triggers configured on DB such that when NOTIFY operations are performed a NOTIFY message is sent on java server.\nHowever whatever message I notified on db, my application server side always remained quietly.\nSo I figured that the LISTEN/NOTIFY goes down under the situation of two distinct db connections(one for the notifier, and another for the listener).</p>\n<p>Here's my code.</p>\n<pre><code>big_gp_admin=&gt; NOTIFY change_data_capture, 'test msg from DB';\nNOTIFY\nAsynchronous notification &quot;change_data_capture&quot; with payload &quot;test msg from DB&quot; received from serve\n</code></pre>\n<pre><code>        PGDataSource dataSource = new PGDataSource();\n        dataSource.setHost(&quot;host&quot;);\n        dataSource.setPort(5432);\n        dataSource.setDatabaseName(&quot;dbName&quot;);\n        dataSource.setUser(&quot;user&quot;);\n        dataSource.setPassword(&quot;pwd&quot;);\n        \n        try (PGConnection connection = (PGConnection) dataSource.getConnection()) {\n\n            Statement statement = connection.createStatement();\n            statement.execute(&quot;LISTEN change_data_capture&quot;);\n\n            PGNotificationListener listener = new PGNotificationListener() {\n                @Override\n                public void notification(int processId, String channelName, String payload) {\n                    PGNotificationListener.super.notification(processId, channelName, payload);\n                    System.out.println(&quot;Received Notification: &quot; + processId + &quot;, &quot; + channelName + &quot;, &quot; + payload);\n\n                }\n            };\n\n            connection.addNotificationListener(listener);\n            statement.execute(&quot; NOTIFY change_data_capture, 'test msg from java code'&quot;);\n\n            statement.close();\n            while (true) {\n            }\n        } catch (Exception e) {\n            System.err.println(e);\n        }\n\n</code></pre>\n<p>To do a more specific test in java, I created two distinct connections, one for the notifier\nand another for the listener to test if the communication would work across connections and it didn't.</p>\n<pre><code>public class NotificationTest {\n\n    public static void main(String args[]) throws Exception {\n\n        Class.forName(&quot;org.postgresql.Driver&quot;);\n        String url = &quot;url&quot;;\n\n        // Create two distinct connections, one for the notifier\n        // and another for the listener to show the communication\n        // works across connections although this example would\n        // work fine with just one connection.\n        Connection lConn = DriverManager.getConnection(url, &quot;user&quot;, &quot;pwd&quot;);\n        Connection nConn = DriverManager.getConnection(url, &quot;user&quot;, &quot;pwd&quot;);\n\n        // Create two threads, one to issue notifications and\n        // the other to receive them.\n        Notifier notifier = new Notifier(nConn);\n        Listener listener = new Listener(lConn);\n        listener.start();\n        notifier.start();\n    }\n}\n\nclass Listener extends Thread {\n    private Connection conn;\n    private org.postgresql.PGConnection pgconn;\n\n    Listener(Connection conn) throws SQLException {\n        this.conn = conn;\n        this.pgconn = conn.unwrap(org.postgresql.PGConnection.class);\n        Statement stmt = conn.createStatement();\n        stmt.execute(&quot;LISTEN mymessage&quot;);\n        stmt.close();\n    }\n\n    public void run() {\n        try {\n            while (true) {\n                org.postgresql.PGNotification notifications[] = pgconn.getNotifications();\n\n                // If this thread is the only one that uses the connection, a timeout can be used to\n                // receive notifications immediately:\n                // org.postgresql.PGNotification notifications[] = pgconn.getNotifications(10000);\n\n                if (notifications != null) {\n                    for (int i = 0; i &lt; notifications.length; i++)\n                        System.out.println(&quot;Got notification: &quot; + notifications[i].getName());\n                }\n\n                // wait a while before checking again for new\n                // notifications\n\n                Thread.sleep(500);\n            }\n        } catch (SQLException sqle) {\n            sqle.printStackTrace();\n        } catch (InterruptedException ie) {\n            ie.printStackTrace();\n        }\n    }\n}\n\nclass Notifier extends Thread {\n    private Connection conn;\n\n    public Notifier(Connection conn) {\n        this.conn = conn;\n    }\n\n    public void run() {\n        while (true) {\n            try {\n                Statement stmt = conn.createStatement();\n                stmt.execute(&quot;NOTIFY mymessage, 'tetsestest'&quot;);\n                stmt.close();\n                Thread.sleep(2000);\n            } catch (SQLException sqle) {\n                sqle.printStackTrace();\n            } catch (InterruptedException ie) {\n                ie.printStackTrace();\n            }\n        }\n    }\n\n}\n</code></pre>\n<p>Could you kindly indicate which part of my code is causing the problem? Thanks so much.</p>\n"},{"tags":["java","spring-boot","rest","hmac","hmacsha256"],"answers":[{"tags":[],"owner":{"account_id":5046108,"reputation":3622,"user_id":6366458,"accept_rate":64,"display_name":"arqam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664429514,"creation_date":1664429514,"answer_id":73890692,"question_id":73069980,"body_markdown":"You should not deserialize if you want to take hash value. Use string or byte for the request. And map it to your pojo later on once you have the hash\r\n\r\nFor ex : \r\n\r\n    public @ResponseBody String controllerMethod(HttpServletRequest httpReq,\r\n            HttpServletResponse httpResponse) {\r\n\r\n            BufferedReader bufferedReader;\r\n            StringBuilder sb;\r\n            sb = new StringBuilder();\r\n            bufferedReader = httpReq.getReader();\r\n            char[] charBuffer = new char[128];\r\n            int bytesRead;\r\n            while ((bytesRead = bufferedReader.read(charBuffer)) != -1) {\r\n                sb.append(charBuffer, 0, bytesRead);\r\n            }\r\n            String reqBody = sb.toString();\r\n     }\r\n\r\nUse `reqBody` to get your hashed value.","title":"HMAC Validation in SpringBoot failing due to rearrangement of JSON","body":"<p>You should not deserialize if you want to take hash value. Use string or byte for the request. And map it to your pojo later on once you have the hash</p>\n<p>For ex :</p>\n<pre><code>public @ResponseBody String controllerMethod(HttpServletRequest httpReq,\n        HttpServletResponse httpResponse) {\n\n        BufferedReader bufferedReader;\n        StringBuilder sb;\n        sb = new StringBuilder();\n        bufferedReader = httpReq.getReader();\n        char[] charBuffer = new char[128];\n        int bytesRead;\n        while ((bytesRead = bufferedReader.read(charBuffer)) != -1) {\n            sb.append(charBuffer, 0, bytesRead);\n        }\n        String reqBody = sb.toString();\n }\n</code></pre>\n<p>Use <code>reqBody</code> to get your hashed value.</p>\n"},{"tags":[],"owner":{"account_id":1290399,"reputation":523,"user_id":5374740,"accept_rate":0,"display_name":"Lex Luthor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696469036,"creation_date":1696469036,"answer_id":77233789,"question_id":73069980,"body_markdown":"You need to verify HMAC using the original payload, that is the text of the UTF-8 payload as an array of bytes. The entire body of the POST request as was received must be used, including line endings.","title":"HMAC Validation in SpringBoot failing due to rearrangement of JSON","body":"<p>You need to verify HMAC using the original payload, that is the text of the UTF-8 payload as an array of bytes. The entire body of the POST request as was received must be used, including line endings.</p>\n"}],"owner":{"account_id":18544129,"reputation":11,"user_id":13511926,"display_name":"vaibhav panchal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":515,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1696469036,"creation_date":1658422329,"question_id":73069980,"body_markdown":"I am trying to have HMAC in springBoot for REST API.\r\nThe request I send from Postman is \r\n\r\n```\r\n{\r\n    &quot;name&quot;:&quot;xyz&quot;,\r\n    &quot;description&quot;:&quot;hello world&quot;,\r\n    &quot;phone&quot;:&quot;123456&quot;,\r\n    &quot;id&quot;:&quot;1&quot;\r\n}\r\n```\r\n\r\nit reached my controller and then to the service where I have a function to validate HMAC.\r\nIn the controller I pass the **signature** as the **header** and **payload** in the **requestBody**\r\n\r\n```\r\n@RestController\r\npublic class UserController {\r\n\t\r\n\t\r\n\t@Autowired\r\n\tUserInterface userInterface;\r\n\t\r\n\t@PostMapping(value = &quot;/&quot; ,consumes = MediaType.APPLICATION_JSON_VALUE, produces = MediaType.APPLICATION_JSON_VALUE)\r\n\tpublic void createUser(@RequestBody User user, @RequestHeader Map&lt;String, String&gt; headers) {\r\n\t\tuserInterface.hmacValidation(user, headers);\r\n\t}\r\n\r\n}\r\n```\r\n\r\n```\r\n@Service\r\npublic class UserService  implements UserInterface {\r\n\tpublic void hmacValidation(User requestBody, Map&lt;String, String&gt; header) {\r\n\t\tvar headerSignature = header.get(&quot;signature&quot;);\r\n\t\tvar payload = getRequestBodyAsString(requestBody);\r\n\t\tString result = Hashing.hmacSha256(&quot;12345&quot;.getBytes(StandardCharsets.UTF_8)).hashString(payload,StandardCharsets.UTF_8).toString();\r\n\t\t\r\n\t}\r\n\t\r\n\tprivate String getRequestBodyAsString(User requestBody) {\r\n\r\n\t\tvar mapper = new ObjectMapper();\r\n\t\tString payload = null;\r\n\t\ttry {\r\n\t\t\tmapper.disable(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES);\r\n\t\t\tpayload = mapper.writeValueAsString(requestBody);\r\n\t\t\t} catch (JsonProcessingException e) {\r\n\t\t}\r\n\t\treturn payload;\r\n\t}\r\n}\r\n```\r\n\r\nhere from the **getRequestBodyAsString(User requestbody)** function the output I get is a shuffled/rearranged JSON request which generates different Signature which then mismatches the signature client is sending.\r\n\r\nthe payload that is converted back from UserObject:\r\n\r\n```\r\n{&quot;name&quot;:&quot;xyz&quot;,&quot;id&quot;:&quot;1&quot;,&quot;description&quot;:&quot;hello world&quot;,&quot;phone&quot;:&quot;123456&quot;}\r\n```\r\n\r\n```\r\npublic class User {\r\n\t\r\n\tprivate String name;\r\n\tprivate String id;\r\n\tprivate String description;\r\n\tprivate String phone;\r\n}\t\r\n```\r\n\r\nThe client can send the request in any order but I have to validate signature regardless of the order the request comes in\r\n\r\nIs there any other way to validate HMAC?\r\n\r\n","title":"HMAC Validation in SpringBoot failing due to rearrangement of JSON","body":"<p>I am trying to have HMAC in springBoot for REST API.\nThe request I send from Postman is</p>\n<pre><code>{\n    &quot;name&quot;:&quot;xyz&quot;,\n    &quot;description&quot;:&quot;hello world&quot;,\n    &quot;phone&quot;:&quot;123456&quot;,\n    &quot;id&quot;:&quot;1&quot;\n}\n</code></pre>\n<p>it reached my controller and then to the service where I have a function to validate HMAC.\nIn the controller I pass the <strong>signature</strong> as the <strong>header</strong> and <strong>payload</strong> in the <strong>requestBody</strong></p>\n<pre><code>@RestController\npublic class UserController {\n    \n    \n    @Autowired\n    UserInterface userInterface;\n    \n    @PostMapping(value = &quot;/&quot; ,consumes = MediaType.APPLICATION_JSON_VALUE, produces = MediaType.APPLICATION_JSON_VALUE)\n    public void createUser(@RequestBody User user, @RequestHeader Map&lt;String, String&gt; headers) {\n        userInterface.hmacValidation(user, headers);\n    }\n\n}\n</code></pre>\n<pre><code>@Service\npublic class UserService  implements UserInterface {\n    public void hmacValidation(User requestBody, Map&lt;String, String&gt; header) {\n        var headerSignature = header.get(&quot;signature&quot;);\n        var payload = getRequestBodyAsString(requestBody);\n        String result = Hashing.hmacSha256(&quot;12345&quot;.getBytes(StandardCharsets.UTF_8)).hashString(payload,StandardCharsets.UTF_8).toString();\n        \n    }\n    \n    private String getRequestBodyAsString(User requestBody) {\n\n        var mapper = new ObjectMapper();\n        String payload = null;\n        try {\n            mapper.disable(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES);\n            payload = mapper.writeValueAsString(requestBody);\n            } catch (JsonProcessingException e) {\n        }\n        return payload;\n    }\n}\n</code></pre>\n<p>here from the <strong>getRequestBodyAsString(User requestbody)</strong> function the output I get is a shuffled/rearranged JSON request which generates different Signature which then mismatches the signature client is sending.</p>\n<p>the payload that is converted back from UserObject:</p>\n<pre><code>{&quot;name&quot;:&quot;xyz&quot;,&quot;id&quot;:&quot;1&quot;,&quot;description&quot;:&quot;hello world&quot;,&quot;phone&quot;:&quot;123456&quot;}\n</code></pre>\n<pre><code>public class User {\n    \n    private String name;\n    private String id;\n    private String description;\n    private String phone;\n}   \n</code></pre>\n<p>The client can send the request in any order but I have to validate signature regardless of the order the request comes in</p>\n<p>Is there any other way to validate HMAC?</p>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1696395806,"post_id":77226787,"comment_id":136145528,"body_markdown":"Please don&#39;t use images of text.","body":"Please don&#39;t use images of text."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1696397171,"post_id":77226787,"comment_id":136145638,"body_markdown":"Have you tried both already?","body":"Have you tried both already?"},{"owner":{"account_id":28610473,"reputation":5,"user_id":21905524,"display_name":"DucK"},"score":0,"creation_date":1696401770,"post_id":77226787,"comment_id":136146296,"body_markdown":"I&#39;ve tried both, but I&#39;m not sure which is the most optimal and safest way","body":"I&#39;ve tried both, but I&#39;m not sure which is the most optimal and safest way"},{"owner":{"account_id":18999437,"reputation":2463,"user_id":13867124,"display_name":"AztecCodes"},"score":0,"creation_date":1696413869,"post_id":77226787,"comment_id":136148725,"body_markdown":"Welcome to Stack Overflow! Thank you for your question. However it seems like you are not familiar with the guide of Stack Overflow to [How To: Ask a good question](https://stackoverflow.com/help/how-to-ask). Please read it and adjust your question accordingly by using the [Edit](https://stackoverflow.com/posts/77068047/edit) option. Happy coding!","body":"Welcome to Stack Overflow! Thank you for your question. However it seems like you are not familiar with the guide of Stack Overflow to <a href=\"https://stackoverflow.com/help/how-to-ask\">How To: Ask a good question</a>. Please read it and adjust your question accordingly by using the <a href=\"https://stackoverflow.com/posts/77068047/edit\">Edit</a> option. Happy coding!"},{"owner":{"account_id":18999437,"reputation":2463,"user_id":13867124,"display_name":"AztecCodes"},"score":0,"creation_date":1696413932,"post_id":77226787,"comment_id":136148752,"body_markdown":"Please don&#39;t use screenshots of code. Always put the code into the question and format it with the formatting tools into code. It is not allowed to post screenshots of code.","body":"Please don&#39;t use screenshots of code. Always put the code into the question and format it with the formatting tools into code. It is not allowed to post screenshots of code."},{"owner":{"account_id":2102822,"reputation":8840,"user_id":1869968,"accept_rate":70,"display_name":"Submersed"},"score":0,"creation_date":1696481508,"post_id":77226787,"comment_id":136159031,"body_markdown":"Does this answer your question? [How do I pass data between Activities in Android application?](https://stackoverflow.com/questions/2091465/how-do-i-pass-data-between-activities-in-android-application)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/2091465/how-do-i-pass-data-between-activities-in-android-application\">How do I pass data between Activities in Android application?</a>"},{"owner":{"account_id":28610473,"reputation":5,"user_id":21905524,"display_name":"DucK"},"score":0,"creation_date":1696496102,"post_id":77226787,"comment_id":136161243,"body_markdown":"Thank you, however I already know how to transmit but want to ask the most optimal way","body":"Thank you, however I already know how to transmit but want to ask the most optimal way"}],"answers":[{"tags":[],"owner":{"account_id":18874793,"reputation":66,"user_id":13768552,"display_name":"Kaung Khant Kyaw"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1696442810,"creation_date":1696442810,"answer_id":77232007,"question_id":77226787,"body_markdown":"Parcelable should be the best practice to pass small amounts of data efficiently. Here is why:\r\n \r\n- Parcelable is an interface that allows you to serialize and deserialize objects for efficient and high-performance passing of data between components, such as activities, services, and fragments.\r\n\r\n- In kotlin, there is @Parcelize annotation to implement Parcelable easily.\r\n\r\n- In API level 33, Google added new method [getParcelableArrayListExtra][1] in `Intent` to use Parcelable without needing to cast class type. Yeah, we know that they &lt;b&gt;deprecated&lt;/b&gt; so much classes and methods if needed but not this one right?\r\n\r\nThere is also androidx support for Parcelable in `IntentCompat` class.\r\n```kotlin\r\nIntentCompat.getParcelableArrayListExtra(intent, name, class)\r\nIntentCompat.getParcelableExtra(intent, name, class)\r\n```\r\n\r\n- Parcelable is faster than alternatives like Serializable because it uses a lower-level approach and is designed and optimized for Android&#39;s IPC (Inter-Process Communication) system.\r\n\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/content/Intent#getParcelableArrayListExtra(java.lang.String,%20java.lang.Class%3C?%20extends%20T%3E)","title":"Pass list object between Activity and Activity","body":"<p>Parcelable should be the best practice to pass small amounts of data efficiently. Here is why:</p>\n<ul>\n<li><p>Parcelable is an interface that allows you to serialize and deserialize objects for efficient and high-performance passing of data between components, such as activities, services, and fragments.</p>\n</li>\n<li><p>In kotlin, there is @Parcelize annotation to implement Parcelable easily.</p>\n</li>\n<li><p>In API level 33, Google added new method <a href=\"https://developer.android.com/reference/android/content/Intent#getParcelableArrayListExtra(java.lang.String,%20java.lang.Class%3C?%20extends%20T%3E)\" rel=\"nofollow noreferrer\">getParcelableArrayListExtra</a> in <code>Intent</code> to use Parcelable without needing to cast class type. Yeah, we know that they <b>deprecated</b> so much classes and methods if needed but not this one right?</p>\n</li>\n</ul>\n<p>There is also androidx support for Parcelable in <code>IntentCompat</code> class.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>IntentCompat.getParcelableArrayListExtra(intent, name, class)\nIntentCompat.getParcelableExtra(intent, name, class)\n</code></pre>\n<ul>\n<li>Parcelable is faster than alternatives like Serializable because it uses a lower-level approach and is designed and optimized for Android's IPC (Inter-Process Communication) system.</li>\n</ul>\n"}],"owner":{"account_id":28610473,"reputation":5,"user_id":21905524,"display_name":"DucK"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77232007,"answer_count":1,"score":0,"last_activity_date":1696468981,"creation_date":1696394277,"question_id":77226787,"body_markdown":"I have a list object, it contains information about 1 photo in 1 album. \r\n\r\n    @Parcelize\r\n    data class MediaFileModel(\r\n        var uri: Uri,\r\n        var name: String,\r\n        var bucketId: Long = 0,\r\n        var bucketName: String = &quot;&quot;,\r\n        var duration: String = &quot;&quot;,\r\n        var length: Double = 0.0,\r\n        var albumId: Long = 0,\r\n        var songAlbum: String = &quot;&quot;,\r\n        var pathFile: String = &quot;&quot;,\r\n        var id: Long = 0\r\n    ) : Parcelable\r\n\r\nHow to transfer it from one Activity to another as optimally as possible? Pass it through Parcelable or create a Singleton class to store it or is there a better way? Thank\r\n\r\nWhen consulting more from ChatGPT, I see that it is also possible to use json to transmit data, but what is the performance between these 3 ways and the possibility of memory leaks?","title":"Pass list object between Activity and Activity","body":"<p>I have a list object, it contains information about 1 photo in 1 album.</p>\n<pre><code>@Parcelize\ndata class MediaFileModel(\n    var uri: Uri,\n    var name: String,\n    var bucketId: Long = 0,\n    var bucketName: String = &quot;&quot;,\n    var duration: String = &quot;&quot;,\n    var length: Double = 0.0,\n    var albumId: Long = 0,\n    var songAlbum: String = &quot;&quot;,\n    var pathFile: String = &quot;&quot;,\n    var id: Long = 0\n) : Parcelable\n</code></pre>\n<p>How to transfer it from one Activity to another as optimally as possible? Pass it through Parcelable or create a Singleton class to store it or is there a better way? Thank</p>\n<p>When consulting more from ChatGPT, I see that it is also possible to use json to transmit data, but what is the performance between these 3 ways and the possibility of memory leaks?</p>\n"},{"tags":["java","linked-list"],"comments":[{"owner":{"account_id":13598,"reputation":102599,"user_id":27439,"accept_rate":100,"display_name":"Vincent Ramdhanie"},"score":0,"creation_date":1362857385,"post_id":15314933,"comment_id":21620608,"body_markdown":"We could only guess! SingleList is probably a singly linked list and ListNode is one node in the list. copy() is a method that makes a copy of an entire list of nodes.","body":"We could only guess! SingleList is probably a singly linked list and ListNode is one node in the list. copy() is a method that makes a copy of an entire list of nodes."},{"owner":{"account_id":2180883,"reputation":21,"user_id":1930413,"display_name":"Abeer"},"score":0,"creation_date":1362857821,"post_id":15314933,"comment_id":21620748,"body_markdown":"ok I got it but how it works!!!","body":"ok I got it but how it works!!!"},{"owner":{"account_id":4102733,"reputation":368,"user_id":3367754,"accept_rate":50,"display_name":"Ramy Sabry"},"score":0,"creation_date":1432643487,"post_id":15314933,"comment_id":48997900,"body_markdown":"it`s adding only objects from list1  that have &#39;head&#39; property not null to new Singlelist","body":"it`s adding only objects from list1  that have &#39;head&#39; property not null to new Singlelist"}],"answers":[{"tags":[],"owner":{"account_id":250529,"reputation":11921,"user_id":527312,"accept_rate":73,"display_name":"ktm5124"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1362857386,"creation_date":1362857386,"answer_id":15314946,"question_id":15314933,"body_markdown":"`ListNode` is a **node** in a **linked list**. `SingleList` is a **linked list**.\r\n\r\nTo draw an analogy - a node is a link in a chain; the linked list is the chain itself.","title":"what is the different between Single List and List Node?","body":"<p><code>ListNode</code> is a <strong>node</strong> in a <strong>linked list</strong>. <code>SingleList</code> is a <strong>linked list</strong>.</p>\n\n<p>To draw an analogy - a node is a link in a chain; the linked list is the chain itself.</p>\n"},{"tags":[],"owner":{"account_id":14919142,"reputation":1,"user_id":10772045,"display_name":"E.F.A"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1582974485,"creation_date":1582965953,"answer_id":60463416,"question_id":15314933,"body_markdown":"ListNode is a node in the linked list and there is some code to better understand the ListNode.\r\n``` \r\npublic class List\r\n {\r\n     // return a linked list based on parameters list and soFar\r\n     public static ListNode process(ListNode list, ListNode soFar)\r\n     {\r\n         if (list == null) {\r\n             return soFar;\r\n         }\r\n         else {\r\n             ListNode temp = list.getNext();\r\n             list.setNext(soFar);\r\n             return process(temp,list);\r\n         }\r\n      }\r\n\r\n      // return a new linked list based on parameter n\r\n\r\n      public static ListNode create(int n)\r\n      {\r\n\t    ListNode list = null;\r\n\t    for(int k=1; k &lt;= n; k++) {\r\n\t        list = new ListNode(new String(&quot;&quot;+k), list);\r\n\t    }\r\n  \t    return list;\r\n      }\r\n\r\n      // print a linked list\r\n\r\n      public static void print(ListNode list)\r\n      {\r\n\t    while (list != null) {\r\n\t        System.out.print(list.getValue()+&quot; &quot;);\r\n\t        list = list.getNext();\r\n\t    }\r\n\t    System.out.println();\r\n      }\r\n }\r\n```","title":"what is the different between Single List and List Node?","body":"<p>ListNode is a node in the linked list and there is some code to better understand the ListNode.</p>\n\n<pre><code>public class List\n {\n     // return a linked list based on parameters list and soFar\n     public static ListNode process(ListNode list, ListNode soFar)\n     {\n         if (list == null) {\n             return soFar;\n         }\n         else {\n             ListNode temp = list.getNext();\n             list.setNext(soFar);\n             return process(temp,list);\n         }\n      }\n\n      // return a new linked list based on parameter n\n\n      public static ListNode create(int n)\n      {\n        ListNode list = null;\n        for(int k=1; k &lt;= n; k++) {\n            list = new ListNode(new String(\"\"+k), list);\n        }\n        return list;\n      }\n\n      // print a linked list\n\n      public static void print(ListNode list)\n      {\n        while (list != null) {\n            System.out.print(list.getValue()+\" \");\n            list = list.getNext();\n        }\n        System.out.println();\n      }\n }\n</code></pre>\n"}],"owner":{"account_id":2180883,"reputation":21,"user_id":1930413,"display_name":"Abeer"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8331,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1696467690,"creation_date":1362857307,"question_id":15314933,"body_markdown":"    public static SingleList copy(SingleList list1){\r\n        SingleList list2 = new SingleList();\r\n        ListNode current=list1.head;\r\n        while (current != null){\r\n            list2.addLast(current.getData());\r\n            current=current.getNext();\r\n        }\r\n        return list2;\r\n    }\r\n\r\nI do not know what the function of this method or even how it work on computer not even know the difference between node and singlelist!!","title":"what is the different between Single List and List Node?","body":"<pre><code>public static SingleList copy(SingleList list1){\n    SingleList list2 = new SingleList();\n    ListNode current=list1.head;\n    while (current != null){\n        list2.addLast(current.getData());\n        current=current.getNext();\n    }\n    return list2;\n}\n</code></pre>\n\n<p>I do not know what the function of this method or even how it work on computer not even know the difference between node and singlelist!!</p>\n"},{"tags":["java","multithreading","caching","compiler-optimization","inlining"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":1,"creation_date":1696457646,"post_id":77232791,"comment_id":136157240,"body_markdown":"I suspect there&#39;s no single &quot;answer&quot; to this question, and it totally depends on the implementers&#39; choices.  Not sure this is really on-topic for SO, which strongly prefers questions that can be answered.","body":"I suspect there&#39;s no single &quot;answer&quot; to this question, and it totally depends on the implementers&#39; choices.  Not sure this is really on-topic for SO, which strongly prefers questions that can be answered."},{"owner":{"account_id":15545149,"reputation":1170,"user_id":11214643,"display_name":"Delark"},"score":0,"creation_date":1696463889,"post_id":77232791,"comment_id":136157815,"body_markdown":"Can I take your answer as: &quot;You cannot rely on what the compiler will or will not cache/hoist, and should always employ reordering barriers&quot;? ...even at the cost of an extreme diminishing in performance??","body":"Can I take your answer as: &quot;You cannot rely on what the compiler will or will not cache/hoist, and should always employ reordering barriers&quot;? ...even at the cost of an extreme diminishing in performance??"},{"owner":{"account_id":78868,"reputation":336965,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":1,"creation_date":1696523176,"post_id":77232791,"comment_id":136167166,"body_markdown":"Why do you think that an opaque load would have any extra cost vs. a plain `int` read that happened not to get optimized away?  It doesn&#39;t take any special instructions to read an `int` atomically on normal CPUs, and you already need that to avoid tearing.   If you the lambda actually access the variable once per print, that possible CPU-cache miss is the cost.","body":"Why do you think that an opaque load would have any extra cost vs. a plain <code>int</code> read that happened not to get optimized away?  It doesn&#39;t take any special instructions to read an <code>int</code> atomically on normal CPUs, and you already need that to avoid tearing.   If you the lambda actually access the variable once per print, that possible CPU-cache miss is the cost."},{"owner":{"account_id":78868,"reputation":336965,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":1,"creation_date":1696523442,"post_id":77232791,"comment_id":136167224,"body_markdown":"(I don&#39;t know if this is an optimization that ever happens in practice, or is allowed by the language standard, but guarding against it shouldn&#39;t have any cost if Opaque works the way I expect. `volatile` would indeed cost unnecessary memory barriers or more strongly-ordered instructions on some ISAs.)","body":"(I don&#39;t know if this is an optimization that ever happens in practice, or is allowed by the language standard, but guarding against it shouldn&#39;t have any cost if Opaque works the way I expect. <code>volatile</code> would indeed cost unnecessary memory barriers or more strongly-ordered instructions on some ISAs.)"},{"owner":{"account_id":15545149,"reputation":1170,"user_id":11214643,"display_name":"Delark"},"score":0,"creation_date":1696524712,"post_id":77232791,"comment_id":136167469,"body_markdown":"Thanks @PeterCordes for the answer.\n&quot;It doesn&#39;t take any special instructions to read&quot;, \nIf this plain is allowed by an Object hoisting (because the compiler hoisted the reference to the top), the Java bytecode generated, antecedes all object accesses by an invoke to an exception thrower ensuring the object is not null.\nThe VarHandle.getOpque will also suffer this invoke on the static method and the parameters being used inside the static method.\nIf the load would not be hoisted anywhere the read would incur in no extra instruction.\nAn Object hoist would allow a &quot;plain&quot; read but ...","body":"Thanks @PeterCordes for the answer. &quot;It doesn&#39;t take any special instructions to read&quot;,  If this plain is allowed by an Object hoisting (because the compiler hoisted the reference to the top), the Java bytecode generated, antecedes all object accesses by an invoke to an exception thrower ensuring the object is not null. The VarHandle.getOpque will also suffer this invoke on the static method and the parameters being used inside the static method. If the load would not be hoisted anywhere the read would incur in no extra instruction. An Object hoist would allow a &quot;plain&quot; read but ..."},{"owner":{"account_id":15545149,"reputation":1170,"user_id":11214643,"display_name":"Delark"},"score":0,"creation_date":1696524719,"post_id":77232791,"comment_id":136167470,"body_markdown":"by dereference with an extra instruction (object ref =&gt; field ref).\nA call to getOpaque static method even more extra instructions.\nA volatile would be the worst offender.\n\nSo...: **no hoist (true plain) &gt; Object hoist (plain by deref) &gt; getOpaque (relaxed) &gt; volatile**.\n\nBTW I know all this will eventually get simplified by the processor, but It&#39;d be nice to have the speed from the get-go.","body":"by dereference with an extra instruction (object ref =&gt; field ref). A call to getOpaque static method even more extra instructions. A volatile would be the worst offender.  So...: <b>no hoist (true plain) &gt; Object hoist (plain by deref) &gt; getOpaque (relaxed) &gt; volatile</b>.  BTW I know all this will eventually get simplified by the processor, but It&#39;d be nice to have the speed from the get-go."},{"owner":{"account_id":78868,"reputation":336965,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":1,"creation_date":1696525170,"post_id":77232791,"comment_id":136167554,"body_markdown":"*get simplified by the processor* - You mean by the JIT compiler?  If the actual machine code the CPU runs has wasted work, that would be inefficient.  IDK if anything in the Java language standard lets you safely avoid getOpaque here if you want to make sure that a load happens in the optimized asm for every run of the lambda.  It&#39;s pretty much unavoidable for Java that only the final JIT-optimized machine code is actually efficient, I think.  Maybe you could save a tiny amount of startup / warmup time every run if your optimization of using plain `int` is guaranteed safe (or happens to work)","body":"<i>get simplified by the processor</i> - You mean by the JIT compiler?  If the actual machine code the CPU runs has wasted work, that would be inefficient.  IDK if anything in the Java language standard lets you safely avoid getOpaque here if you want to make sure that a load happens in the optimized asm for every run of the lambda.  It&#39;s pretty much unavoidable for Java that only the final JIT-optimized machine code is actually efficient, I think.  Maybe you could save a tiny amount of startup / warmup time every run if your optimization of using plain <code>int</code> is guaranteed safe (or happens to work)"},{"owner":{"account_id":15545149,"reputation":1170,"user_id":11214643,"display_name":"Delark"},"score":1,"creation_date":1696525302,"post_id":77232791,"comment_id":136167585,"body_markdown":"Thak you very much. Will be using opaque from now on.","body":"Thak you very much. Will be using opaque from now on."},{"owner":{"account_id":15545149,"reputation":1170,"user_id":11214643,"display_name":"Delark"},"score":0,"creation_date":1696954699,"post_id":77232791,"comment_id":136217488,"body_markdown":"1/4... Hi, @PeterCordes After some research and testing Java&#39;s `getOpaque` seem not that good, the overhead from the casting, the invokeStatic and the runtime instrospection , the times went from 30 - 40 millis(converted from nanos) with `volatile`, to 300+ millis with opaqueness.\n\nThe times with non-volatile begins at 17 millis flat, and with full JIT-opt, they end on 3 - 1 millis.\n\nI&#39;ve tried different processors (LOCK-prefixed (Intel(R) Core(TM) i7-4700HQ)  and LL/SC&#39;d (AMD Ryzen 5 5500U)) which I assume have different flavors of optimization, and NONE seem to fail on the reading ...","body":"1/4... Hi, @PeterCordes After some research and testing Java&#39;s <code>getOpaque</code> seem not that good, the overhead from the casting, the invokeStatic and the runtime instrospection , the times went from 30 - 40 millis(converted from nanos) with <code>volatile</code>, to 300+ millis with opaqueness.  The times with non-volatile begins at 17 millis flat, and with full JIT-opt, they end on 3 - 1 millis.  I&#39;ve tried different processors (LOCK-prefixed (Intel(R) Core(TM) i7-4700HQ)  and LL/SC&#39;d (AMD Ryzen 5 5500U)) which I assume have different flavors of optimization, and NONE seem to fail on the reading ..."},{"owner":{"account_id":15545149,"reputation":1170,"user_id":11214643,"display_name":"Delark"},"score":0,"creation_date":1696954751,"post_id":77232791,"comment_id":136217500,"body_markdown":"2/4 ...of non-volatile non-reified fields, even on the most extreme cases of contention, the **spinning CAS** seem to never load from a cached register.\n\nMy test runs for around 1 minute, in which a full JIT optimization usually kicks in: * with `volatile`: at around the 10th iteration, while *with plain non-volaitle loads: at around the 2nd or 3rd.\nWith getOpaque the times never settle and have a lot more fluctuation... less consistent.\n\nI&#39;ve decided to use `getOpaque` ONLY on double-checking portions of the code, I believe this is the best use of ...","body":"2/4 ...of non-volatile non-reified fields, even on the most extreme cases of contention, the <b>spinning CAS</b> seem to never load from a cached register.  My test runs for around 1 minute, in which a full JIT optimization usually kicks in: * with <code>volatile</code>: at around the 10th iteration, while *with plain non-volaitle loads: at around the 2nd or 3rd. With getOpaque the times never settle and have a lot more fluctuation... less consistent.  I&#39;ve decided to use <code>getOpaque</code> ONLY on double-checking portions of the code, I believe this is the best use of ..."},{"owner":{"account_id":15545149,"reputation":1170,"user_id":11214643,"display_name":"Delark"},"score":0,"creation_date":1696954805,"post_id":77232791,"comment_id":136217509,"body_markdown":"3/4 opqueness since I&#39;ve read some linux kernel documentation in which read_once() is used exactly for double-checking.\n\nAlso, when exposing the field to the outside the non-volatile is delivered via `getOpaue` wihch preventing visibility issues.\n\nAs for the details about how opaqueness differs from `volatile`, I&#39;ve read and watched hours of videos, and no one seem to fully explain what is THAT which makes memory_order_relaxed OR `read_once` less intrusive than `volatile`.\n\nMy guess is that relaxed, makes the JIT-compiler enter a state in which parallel-FULLY-OPTIMIZED-and-reordered...","body":"3/4 opqueness since I&#39;ve read some linux kernel documentation in which read_once() is used exactly for double-checking.  Also, when exposing the field to the outside the non-volatile is delivered via <code>getOpaue</code> wihch preventing visibility issues.  As for the details about how opaqueness differs from <code>volatile</code>, I&#39;ve read and watched hours of videos, and no one seem to fully explain what is THAT which makes memory_order_relaxed OR <code>read_once</code> less intrusive than <code>volatile</code>.  My guess is that relaxed, makes the JIT-compiler enter a state in which parallel-FULLY-OPTIMIZED-and-reordered..."},{"owner":{"account_id":15545149,"reputation":1170,"user_id":11214643,"display_name":"Delark"},"score":0,"creation_date":1696954816,"post_id":77232791,"comment_id":136217514,"body_markdown":"4/4... instructions, are forced to deliver code directly to shared memory instead of writing them to their independent inner caches, so the &quot;relaxed&quot; allows parallel code to be fully reordered, BUT their stores will be &quot;flushed&quot; ASAP, this means that opaqueness on the loading side, may increase writing latency on the Thread writing side.","body":"4/4... instructions, are forced to deliver code directly to shared memory instead of writing them to their independent inner caches, so the &quot;relaxed&quot; allows parallel code to be fully reordered, BUT their stores will be &quot;flushed&quot; ASAP, this means that opaqueness on the loading side, may increase writing latency on the Thread writing side."},{"owner":{"account_id":15545149,"reputation":1170,"user_id":11214643,"display_name":"Delark"},"score":0,"creation_date":1696955365,"post_id":77232791,"comment_id":136217608,"body_markdown":"* &gt;forced to deliver stores (not &quot;code&quot;).","body":"* &gt;forced to deliver stores (not &quot;code&quot;)."},{"owner":{"account_id":78868,"reputation":336965,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":1,"creation_date":1696962464,"post_id":77232791,"comment_id":136218805,"body_markdown":"Your i7 and Ryzen are both x86-64, which doesn&#39;t have LL/SC.  I have no idea why you&#39;d think that Java could be using LL/SC retry loops for atomic RMWs on a Ryzen CPU.  Also, neither of your CPUs support `cldemote` which would make it possible to push a store to L3 cache to reduce latency for reads by other cores.  See [Non-temporal store to bypass L1/L2 but cache in L3 to be read by another core](https://stackoverflow.com/q/65801148) - x86-64 can&#39;t do the thing you&#39;re guessing it did, at least not without inserting `cldemote` instructions, but those would run as a NOP on your CPUs.","body":"Your i7 and Ryzen are both x86-64, which doesn&#39;t have LL/SC.  I have no idea why you&#39;d think that Java could be using LL/SC retry loops for atomic RMWs on a Ryzen CPU.  Also, neither of your CPUs support <code>cldemote</code> which would make it possible to push a store to L3 cache to reduce latency for reads by other cores.  See <a href=\"https://stackoverflow.com/q/65801148\">Non-temporal store to bypass L1/L2 but cache in L3 to be read by another core</a> - x86-64 can&#39;t do the thing you&#39;re guessing it did, at least not without inserting <code>cldemote</code> instructions, but those would run as a NOP on your CPUs."},{"owner":{"account_id":78868,"reputation":336965,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":1,"creation_date":1696962595,"post_id":77232791,"comment_id":136218822,"body_markdown":"NT stores could bypass all levels of cache, but that would mean the reader misses all the way to DRAM, which is probably even slower than L3 cache having to message the core the owns the line to write it back to shared L3.","body":"NT stores could bypass all levels of cache, but that would mean the reader misses all the way to DRAM, which is probably even slower than L3 cache having to message the core the owns the line to write it back to shared L3."},{"owner":{"account_id":78868,"reputation":336965,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":1,"creation_date":1696962763,"post_id":77232791,"comment_id":136218848,"body_markdown":"Maybe `getOpaque` doesn&#39;t optimize as well as I&#39;d hoped, if your results are accurate.  But you&#39;re talking about runtime introspection; could that be slowing things down, at least the introspection itself from having another kind of object?","body":"Maybe <code>getOpaque</code> doesn&#39;t optimize as well as I&#39;d hoped, if your results are accurate.  But you&#39;re talking about runtime introspection; could that be slowing things down, at least the introspection itself from having another kind of object?"},{"owner":{"account_id":78868,"reputation":336965,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":1,"creation_date":1696962960,"post_id":77232791,"comment_id":136218878,"body_markdown":"Java `volatile` is like C++ `std::memory_order_seq_cst`.  On x86, that means pure stores to it are more expensive, but pure loads are the same cost as `memory_order_relaxed`.  I&#39;m not sure if Java `volatile` makes `num++` an atomic RMW (`lock xadd`) or just separately-atomic load and store.  Making a variable `volatile` means all accesses to it are &quot;atomic&quot;, including from functions that only run when it&#39;s not shared.","body":"Java <code>volatile</code> is like C++ <code>std::memory_order_seq_cst</code>.  On x86, that means pure stores to it are more expensive, but pure loads are the same cost as <code>memory_order_relaxed</code>.  I&#39;m not sure if Java <code>volatile</code> makes <code>num++</code> an atomic RMW (<code>lock xadd</code>) or just separately-atomic load and store.  Making a variable <code>volatile</code> means all accesses to it are &quot;atomic&quot;, including from functions that only run when it&#39;s not shared."},{"owner":{"account_id":15545149,"reputation":1170,"user_id":11214643,"display_name":"Delark"},"score":0,"creation_date":1696965165,"post_id":77232791,"comment_id":136219248,"body_markdown":"@PeterCordes &quot;Your i7 and Ryzen are both x86-64&quot;... this is embarrassing... lol.\nI saw some improvement on the Ryzen one after weakCAS, so I guess that made me forget it wasn&#39;t x86, I think I may have done other changes simultaneously that made me believe it was the weakCAS refactor.\nAs for the LL/SC performance VS LOCK-prefixed from what I understand x86 is a beast when dealing with mathematical operations because ADD and INC are a type of atomic update that the processor performs on it&#39;s own, but in cases in which a CAS operation requires more &quot;complexity&quot; like re-capturing instance...","body":"@PeterCordes &quot;Your i7 and Ryzen are both x86-64&quot;... this is embarrassing... lol. I saw some improvement on the Ryzen one after weakCAS, so I guess that made me forget it wasn&#39;t x86, I think I may have done other changes simultaneously that made me believe it was the weakCAS refactor. As for the LL/SC performance VS LOCK-prefixed from what I understand x86 is a beast when dealing with mathematical operations because ADD and INC are a type of atomic update that the processor performs on it&#39;s own, but in cases in which a CAS operation requires more &quot;complexity&quot; like re-capturing instance..."},{"owner":{"account_id":15545149,"reputation":1170,"user_id":11214643,"display_name":"Delark"},"score":0,"creation_date":1696965173,"post_id":77232791,"comment_id":136219250,"body_markdown":"state to recompute the update, then a weakCAS is better since it will not &quot;bubble wait&quot; until acquiring cache exclusivity.","body":"state to recompute the update, then a weakCAS is better since it will not &quot;bubble wait&quot; until acquiring cache exclusivity."},{"owner":{"account_id":78868,"reputation":336965,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":1,"creation_date":1696966198,"post_id":77232791,"comment_id":136219405,"body_markdown":"on x86, CAS_weak compiles exactly the same as CAS_strong, to a single `lock cmpxchg` or `lock cmpxchg16` instruction.  Either way you need to use CAS in a retry loop to emulate `.fetch_or` if you use the return value, for example, or to do an atomic shift (`lock shr` isn&#39;t supported in hardware), or atomic FP add (CAS the bit-pattern after `movq rcx, xmm0`)","body":"on x86, CAS_weak compiles exactly the same as CAS_strong, to a single <code>lock cmpxchg</code> or <code>lock cmpxchg16</code> instruction.  Either way you need to use CAS in a retry loop to emulate <code>.fetch_or</code> if you use the return value, for example, or to do an atomic shift (<code>lock shr</code> isn&#39;t supported in hardware), or atomic FP add (CAS the bit-pattern after <code>movq rcx, xmm0</code>)"},{"owner":{"account_id":15545149,"reputation":1170,"user_id":11214643,"display_name":"Delark"},"score":0,"creation_date":1696966315,"post_id":77232791,"comment_id":136219420,"body_markdown":"As for the L3 cache direct storage, I completely agree there is no way that a semantic could force a direct flush, this goes back to a previous statement on another question were I said &quot;Processors give no way to speed-up or delay their Cache Coherency Protocols&quot; so, NO the language providing such &quot;direct flushing&quot; would not be possible.\nI was watching a C++ keynote speak and the flushing behavior was mentioned, but that&#39;s all... I was just confused.\nAfter more thought I think `memory_order_relaxed` loads... and by extension Java&#39;s `getOpaque` impose a SELF non-reordering ...","body":"As for the L3 cache direct storage, I completely agree there is no way that a semantic could force a direct flush, this goes back to a previous statement on another question were I said &quot;Processors give no way to speed-up or delay their Cache Coherency Protocols&quot; so, NO the language providing such &quot;direct flushing&quot; would not be possible. I was watching a C++ keynote speak and the flushing behavior was mentioned, but that&#39;s all... I was just confused. After more thought I think <code>memory_order_relaxed</code> loads... and by extension Java&#39;s <code>getOpaque</code> impose a SELF non-reordering ..."},{"owner":{"account_id":15545149,"reputation":1170,"user_id":11214643,"display_name":"Delark"},"score":0,"creation_date":1696966324,"post_id":77232791,"comment_id":136219421,"body_markdown":"behavior, while `volatile` loads, enforce non-reordering ON the writes performed by OTHER concurrent sequences of instructions, so that would be the difference...(?)","body":"behavior, while <code>volatile</code> loads, enforce non-reordering ON the writes performed by OTHER concurrent sequences of instructions, so that would be the difference...(?)"}],"owner":{"account_id":15545149,"reputation":1170,"user_id":11214643,"display_name":"Delark"},"comment_count":22,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696465463,"creation_date":1696451539,"question_id":77232791,"body_markdown":"It seems to me OOP compilers may be ruled by different rules when inlining their code before simplification and hoisting.\r\n\r\nAt first, I thought that a full inlining process PLUS the hoisting process would force a hoist before the references enter the thread context.\r\n\r\n    static class Scope {\r\n        private int field = 1;\r\n        ScheduledExecutorService e = Executors.newSingleThreadScheduledExecutor();\r\n        ScheduledExecutorService e2 = Executors.newSingleThreadScheduledExecutor();\r\n        void write() {\r\n            e.execute(\r\n                    () -&gt; {\r\n                        field = field + 3;\r\n                        Printer.out.print(&quot;written...&quot;);\r\n                        e.shutdown();\r\n                    }\r\n            );\r\n        }\r\n        void read() {\r\n            e2.schedule(\r\n                    () -&gt; {\r\n                        Printer.out.print(val() + &quot;...read&quot;);\r\n                        e2.shutdown();\r\n                    }\r\n                    ,\r\n                    5,\r\n                    TimeUnit.MILLISECONDS\r\n            );\r\n        }\r\n\r\n        int val() {\r\n            return field;\r\n        }\r\n    }\r\n    public static void main(String[] args) {\r\n        Printer.setAutoFlush(true); //If you use System you&#39;ll get delays, so use a flushable version.\r\n        Scope scope = new Scope();\r\n        scope.read();\r\n        scope.write();\r\n    }\r\n\r\nI am not particularly fluent in bytecode or processor/assembler instruction, but I will pseudocode what I believe the compiler may do...\r\n\r\nAt one point... a few steps before the code becomes completely inlined the runnable at read() may look like this.\r\n\r\n    () -&gt; {\r\n       Scope self = Scope.this;\r\n       int cacheRead = self.val();\r\n       Printer.out.print(cacheRead + &quot;...read&quot;);\r\n       e.shutdown();\r\n    }\r\n\r\nEventually the Printer class becomes unfolded, the read method itself until everything is inlined on the main() as a single sequence of instructions.\r\n\r\nAt which point, the compiler then begins to do inferences to help reduce interthread latencies, this means that every non-fenced read or write will be reordered and/or simplified.\r\n\r\nThe lines:\r\n\r\n    Scope self = Scope.this;\r\n    int cacheRead = self.field; //simplified to reference directly\r\nCan then be simplified as:\r\n\r\n    int cacheRead = Scope.this.field;\r\n\r\n**This would mean that at this point, such a deep inlining process would make the compiler believe that what we did was a direct integer loading.**\r\n\r\n*(BTW .val() will also be unfolded into bytecode, then C then assembler and processor instructions...\r\nin-between these translations the code crosses 2 reorderings, the JIT compiler reorder and the processor...)*\r\n\r\nThe thing is that, since `int` is not `volatile`, the compiler MAY infer that the integer is NOT PART of any inter-process communication... so, to prevent latency it may hoist the value outside the Runnable instantiation (in this case inside it&#39;s scope...).\r\n\r\n    new Runnable() {\r\n       int cacheRead = Scope.this.field;\r\n       @Override\r\n       public void run() {\r\n          Printer.out.print(cacheRead + &quot;...read&quot;);\r\n          e.shutdown();\r\n       }\r\n    }\r\n\r\nCreating a memory visibility issue.\r\n\r\nNOW... this is why I believe this MAY (WILL) NOT happen...\r\n\r\n**OOP syntax rules**\r\n\r\nIf the inlining OBEYS the syntax and rules of the language... then the hoisting will NOT damage the visibility of the memory... EVEN IF there is an attempt at doing so:\r\n\r\n       new Runnable() {\r\n           Scope cachedScope = Scope.this;\r\n           @Override\r\n           public void run() {\r\n              Printer.out.print(cachedScope.field + &quot;...read&quot;); //This may still be subjected to latency even if a hoisting occured.\r\n              e.shutdown();\r\n           }\r\n        }\r\n\r\nThe implication here is that OOP compilers may not go into a deep inlining before going to the hoisting/caching step... **(assuming all compilers steps are inlining -&gt; simplification -&gt; elimination -&gt; hoisting in that order)**\r\n\r\nSo if the programmer DOES NOT explicitly dereferences the primitive, the thing hoisted is the Object reference, not its separated fields.\r\n\r\nI know that if multiple checks are done on the same non-volatile field... even if done via `this.` then the hoisting of the primitive occurs at the start when the first read is performed (in these cases opqueness/memory_oreder_relaxed is required).\r\n\r\nThe Java language is somewhat explicit in this sense... IF a lambda, captures a **local** value it forces us to make it final and dereference it before entering the lambda... IF the lambda captures a field, IT DOESN&#39;T.\r\n\r\nTHIS to me is a didactic vehicle to help us remember the difference between locals and fields... so as to make EXPLICIT that **fields will always force a shared register reading among all child scopes...**\r\n\r\nOf course... the Java language may have control over what their JIT compilers can do... but what about the processor optimization?\r\n\r\nWe know for a fact that memory latency cannot be influenced whatsoever by any language... this means that a field being non-volatile will never affect its &quot;visibility&quot; as a consequence of latency... all processors are cache coherent, so this is out of the question...\r\n\r\nSo, do fields EVER get hoisted and cached before thread scoping by Memory Models in OOP compilers?\r\n\r\nWhat I know for a fact because of Java documentation is that VarHandle.getOpaque() will prevent a complete inlining... on primitives... the examples never disclose object referencing.\r\n\r\nNot only will it prevent it, but the hoisting and simplification is completely prevented.\r\n\r\nopaqueness according to the docs resemble the &quot;readOnce&quot; or &quot;memory_order_relaxed&quot;... the issue here is that the only thing we need to prevent is even lesser than the things it prevents... we just need to prevent complete hoisting on top, before runnable creation.\r\n\r\nI know that if this code would have a double-check, then the integer... no matter if it is a field or local, would be hoisted on top at the first line inside the runnable (NOT before its creation) making a double check impossible and the compiler would simplify it and erase it, forcing a getOpaque on every read if we really want to allow for a double check.\r\n\r\nBut in this example only ONE read is performed, so no need to make it opaque... IF memory rules apply correctly.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/20554586/11214643","title":"Do fields EVER get Hoisted and cached before thread scoping by Memory Models in OOP compilers?","body":"<p>It seems to me OOP compilers may be ruled by different rules when inlining their code before simplification and hoisting.</p>\n<p>At first, I thought that a full inlining process PLUS the hoisting process would force a hoist before the references enter the thread context.</p>\n<pre><code>static class Scope {\n    private int field = 1;\n    ScheduledExecutorService e = Executors.newSingleThreadScheduledExecutor();\n    ScheduledExecutorService e2 = Executors.newSingleThreadScheduledExecutor();\n    void write() {\n        e.execute(\n                () -&gt; {\n                    field = field + 3;\n                    Printer.out.print(&quot;written...&quot;);\n                    e.shutdown();\n                }\n        );\n    }\n    void read() {\n        e2.schedule(\n                () -&gt; {\n                    Printer.out.print(val() + &quot;...read&quot;);\n                    e2.shutdown();\n                }\n                ,\n                5,\n                TimeUnit.MILLISECONDS\n        );\n    }\n\n    int val() {\n        return field;\n    }\n}\npublic static void main(String[] args) {\n    Printer.setAutoFlush(true); //If you use System you'll get delays, so use a flushable version.\n    Scope scope = new Scope();\n    scope.read();\n    scope.write();\n}\n</code></pre>\n<p>I am not particularly fluent in bytecode or processor/assembler instruction, but I will pseudocode what I believe the compiler may do...</p>\n<p>At one point... a few steps before the code becomes completely inlined the runnable at read() may look like this.</p>\n<pre><code>() -&gt; {\n   Scope self = Scope.this;\n   int cacheRead = self.val();\n   Printer.out.print(cacheRead + &quot;...read&quot;);\n   e.shutdown();\n}\n</code></pre>\n<p>Eventually the Printer class becomes unfolded, the read method itself until everything is inlined on the main() as a single sequence of instructions.</p>\n<p>At which point, the compiler then begins to do inferences to help reduce interthread latencies, this means that every non-fenced read or write will be reordered and/or simplified.</p>\n<p>The lines:</p>\n<pre><code>Scope self = Scope.this;\nint cacheRead = self.field; //simplified to reference directly\n</code></pre>\n<p>Can then be simplified as:</p>\n<pre><code>int cacheRead = Scope.this.field;\n</code></pre>\n<p><strong>This would mean that at this point, such a deep inlining process would make the compiler believe that what we did was a direct integer loading.</strong></p>\n<p><em>(BTW .val() will also be unfolded into bytecode, then C then assembler and processor instructions...\nin-between these translations the code crosses 2 reorderings, the JIT compiler reorder and the processor...)</em></p>\n<p>The thing is that, since <code>int</code> is not <code>volatile</code>, the compiler MAY infer that the integer is NOT PART of any inter-process communication... so, to prevent latency it may hoist the value outside the Runnable instantiation (in this case inside it's scope...).</p>\n<pre><code>new Runnable() {\n   int cacheRead = Scope.this.field;\n   @Override\n   public void run() {\n      Printer.out.print(cacheRead + &quot;...read&quot;);\n      e.shutdown();\n   }\n}\n</code></pre>\n<p>Creating a memory visibility issue.</p>\n<p>NOW... this is why I believe this MAY (WILL) NOT happen...</p>\n<p><strong>OOP syntax rules</strong></p>\n<p>If the inlining OBEYS the syntax and rules of the language... then the hoisting will NOT damage the visibility of the memory... EVEN IF there is an attempt at doing so:</p>\n<pre><code>   new Runnable() {\n       Scope cachedScope = Scope.this;\n       @Override\n       public void run() {\n          Printer.out.print(cachedScope.field + &quot;...read&quot;); //This may still be subjected to latency even if a hoisting occured.\n          e.shutdown();\n       }\n    }\n</code></pre>\n<p>The implication here is that OOP compilers may not go into a deep inlining before going to the hoisting/caching step... <strong>(assuming all compilers steps are inlining -&gt; simplification -&gt; elimination -&gt; hoisting in that order)</strong></p>\n<p>So if the programmer DOES NOT explicitly dereferences the primitive, the thing hoisted is the Object reference, not its separated fields.</p>\n<p>I know that if multiple checks are done on the same non-volatile field... even if done via <code>this.</code> then the hoisting of the primitive occurs at the start when the first read is performed (in these cases opqueness/memory_oreder_relaxed is required).</p>\n<p>The Java language is somewhat explicit in this sense... IF a lambda, captures a <strong>local</strong> value it forces us to make it final and dereference it before entering the lambda... IF the lambda captures a field, IT DOESN'T.</p>\n<p>THIS to me is a didactic vehicle to help us remember the difference between locals and fields... so as to make EXPLICIT that <strong>fields will always force a shared register reading among all child scopes...</strong></p>\n<p>Of course... the Java language may have control over what their JIT compilers can do... but what about the processor optimization?</p>\n<p>We know for a fact that memory latency cannot be influenced whatsoever by any language... this means that a field being non-volatile will never affect its &quot;visibility&quot; as a consequence of latency... all processors are cache coherent, so this is out of the question...</p>\n<p>So, do fields EVER get hoisted and cached before thread scoping by Memory Models in OOP compilers?</p>\n<p>What I know for a fact because of Java documentation is that VarHandle.getOpaque() will prevent a complete inlining... on primitives... the examples never disclose object referencing.</p>\n<p>Not only will it prevent it, but the hoisting and simplification is completely prevented.</p>\n<p>opaqueness according to the docs resemble the &quot;readOnce&quot; or &quot;memory_order_relaxed&quot;... the issue here is that the only thing we need to prevent is even lesser than the things it prevents... we just need to prevent complete hoisting on top, before runnable creation.</p>\n<p>I know that if this code would have a double-check, then the integer... no matter if it is a field or local, would be hoisted on top at the first line inside the runnable (NOT before its creation) making a double check impossible and the compiler would simplify it and erase it, forcing a getOpaque on every read if we really want to allow for a double check.</p>\n<p>But in this example only ONE read is performed, so no need to make it opaque... IF memory rules apply correctly.</p>\n"},{"tags":["java","xml","gradle","classpath"],"comments":[{"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"score":1,"creation_date":1696466329,"post_id":77233642,"comment_id":136158013,"body_markdown":"[con as in &quot;container&quot;](https://stackoverflow.com/a/20692576/2834978)","body":"<a href=\"https://stackoverflow.com/a/20692576/2834978\">con as in &quot;container&quot;</a>"}],"owner":{"account_id":2154881,"reputation":3922,"user_id":1910355,"accept_rate":6,"display_name":"Jim"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1696466078,"answer_count":0,"score":0,"last_activity_date":1696465099,"creation_date":1696465099,"question_id":77233642,"body_markdown":"\r\nI&#39;m trying to understand this `.classpath` file in my java project that builds with gradle, but I&#39;m confused what `kind=&quot;con&quot;` means on the lines 16 and 17 `&lt;classpathentry /&gt;` elements...\r\n\r\n`.classpath`\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;classpath&gt;\r\n\t&lt;classpathentry kind=&quot;src&quot; output=&quot;bin/main&quot;  path=&quot;src/main/java&quot;&gt;\r\n\t\t&lt;attributes&gt;\r\n\t\t\t&lt;attribute name=&quot;gradle_scope&quot; value=&quot;main&quot;/&gt;\r\n\t\t\t&lt;attribute name=&quot;gradle_used_by_scope&quot; value=&quot;main,test&quot;/&gt;\r\n\t\t&lt;attributes/&gt;\r\n\t&lt;/classpathentry&gt;\r\n\t&lt;classpathentry kind=&quot;src&quot; output=&quot;bin/test&quot;  path=&quot;src/test/java&quot;&gt;\r\n\t\t&lt;attributes&gt;\r\n\t\t\t&lt;attribute name=&quot;gradle_scope&quot; value=&quot;test&quot;/&gt;\r\n\t\t\t&lt;attribute name=&quot;gradle_used_by_scope&quot; value=&quot;test&quot;/&gt;\r\n\t\t\t&lt;attribute name=&quot;test&quot; value=&quot;true&quot;/&gt;\r\n\t\t&lt;attributes/&gt;\r\n\t&lt;/classpathentry&gt;\r\n\t&lt;classpathentry kind=&quot;con&quot; path=&quot;org.eclipse.jdt.launching.JRE_CONTAINER/org.eclipse.jdt.internal.debug.ui.launcher.StandardVMType/JavaSE-21/&quot;&gt;\r\n\t&lt;classpathentry kind=&quot;con&quot; path=&quot;org.eclipse.buildship.core.gradleclasspathcontainer&quot;&gt;\r\n&lt;/classpath&gt;\r\n``` ","title":"What does `kind=&quot;con&quot;` mean in java gradle build files?","body":"<p>I'm trying to understand this <code>.classpath</code> file in my java project that builds with gradle, but I'm confused what <code>kind=&quot;con&quot;</code> means on the lines 16 and 17 <code>&lt;classpathentry /&gt;</code> elements...</p>\n<p><code>.classpath</code></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;classpath&gt;\n    &lt;classpathentry kind=&quot;src&quot; output=&quot;bin/main&quot;  path=&quot;src/main/java&quot;&gt;\n        &lt;attributes&gt;\n            &lt;attribute name=&quot;gradle_scope&quot; value=&quot;main&quot;/&gt;\n            &lt;attribute name=&quot;gradle_used_by_scope&quot; value=&quot;main,test&quot;/&gt;\n        &lt;attributes/&gt;\n    &lt;/classpathentry&gt;\n    &lt;classpathentry kind=&quot;src&quot; output=&quot;bin/test&quot;  path=&quot;src/test/java&quot;&gt;\n        &lt;attributes&gt;\n            &lt;attribute name=&quot;gradle_scope&quot; value=&quot;test&quot;/&gt;\n            &lt;attribute name=&quot;gradle_used_by_scope&quot; value=&quot;test&quot;/&gt;\n            &lt;attribute name=&quot;test&quot; value=&quot;true&quot;/&gt;\n        &lt;attributes/&gt;\n    &lt;/classpathentry&gt;\n    &lt;classpathentry kind=&quot;con&quot; path=&quot;org.eclipse.jdt.launching.JRE_CONTAINER/org.eclipse.jdt.internal.debug.ui.launcher.StandardVMType/JavaSE-21/&quot;&gt;\n    &lt;classpathentry kind=&quot;con&quot; path=&quot;org.eclipse.buildship.core.gradleclasspathcontainer&quot;&gt;\n&lt;/classpath&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","jwt","jjwt","illegalaccessexception"],"comments":[{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":3,"creation_date":1696477869,"post_id":77233638,"comment_id":136158771,"body_markdown":"[This appears to be a problem in the 0.12.0 release yesterday](https://github.com/jwtk/jjwt/issues/849) that was [fixed by 0.12.1 a few minutes ago](https://github.com/jwtk/jjwt/releases/tag/0.12.1) (life on the bleeding edge can be dangerous)","body":"<a href=\"https://github.com/jwtk/jjwt/issues/849\" rel=\"nofollow noreferrer\">This appears to be a problem in the 0.12.0 release yesterday</a> that was <a href=\"https://github.com/jwtk/jjwt/releases/tag/0.12.1\" rel=\"nofollow noreferrer\">fixed by 0.12.1 a few minutes ago</a> (life on the bleeding edge can be dangerous)"},{"owner":{"account_id":29600579,"reputation":31,"user_id":22686121,"display_name":"Meow17"},"score":0,"creation_date":1696532678,"post_id":77233638,"comment_id":136168956,"body_markdown":"@dave_thompson_085 Ah yeah I started using jjwt just when 0.12.0 was released. Couldn&#39;t have been better timed to run into that problem XD cheers!","body":"@dave_thompson_085 Ah yeah I started using jjwt just when 0.12.0 was released. Couldn&#39;t have been better timed to run into that problem XD cheers!"}],"owner":{"account_id":29600579,"reputation":31,"user_id":22686121,"display_name":"Meow17"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":387,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1696465044,"creation_date":1696465044,"question_id":77233638,"body_markdown":"As the title says, I&#39;m trying to generate a JWT using jjwt in my spring boot starter web app and I hit this exception when I call compact() on the builder to actually return the JWT. More specifically:\r\n\r\n`class io.jsonwebtoken.impl.lang.OptionalMethodInvoker cannot access class sun.security.util.KeyUtil (in module java.base) because module java.base does not export sun.security.util to unnamed module`\r\n\r\nI&#39;ve just been following the guide on the jjwt GitHub page: https://github.com/jwtk/jjwt\r\n\r\n(Not sure if this is too relevant) but I&#39;m using JDK corretto-20 with gradle 8.3 on Intellij IDEA. My jjwt dependencies in my build.gradle.kts:\r\n\r\n```\r\nimplementation(&quot;io.jsonwebtoken:jjwt-api:0.12.0&quot;)\r\nruntimeOnly(&quot;io.jsonwebtoken:jjwt-impl:0.12.0&quot;)\r\nruntimeOnly(&quot;io.jsonwebtoken:jjwt-jackson:0.12.0&quot;)\r\n```\r\n\r\nand the basic authenticator I&#39;ve made so far which tries to generate the JWT:\r\n\r\n```\r\npackage myproject.utility;\r\n\r\nimport io.jsonwebtoken.Jwts;\r\nimport myproject.model.User;\r\n\r\nimport javax.crypto.SecretKey;\r\n\r\npublic class Authenticator {\r\n  private final static SecretKey secretKey = Jwts.SIG.HS256.key().build();\r\n\r\n  public static String generateJwt(User user) {\r\n    return Jwts.builder().claim(&quot;username&quot;, user.getUsername()).signWith(Authenticator.secretKey).compact();\r\n  }\r\n}\r\n\r\n```\r\n\r\nTo pinpoint which bit was throwing the error I added each part of the JWT build process one at a time and it fails after calling compact() at the final step\r\n\r\nThe error feels pretty self-explanatory but I have no idea how to fix this. Any help would be appreciated","title":"java.lang.IllegalAccessException when trying to generate JWT when calling .compact() in jjwt","body":"<p>As the title says, I'm trying to generate a JWT using jjwt in my spring boot starter web app and I hit this exception when I call compact() on the builder to actually return the JWT. More specifically:</p>\n<p><code>class io.jsonwebtoken.impl.lang.OptionalMethodInvoker cannot access class sun.security.util.KeyUtil (in module java.base) because module java.base does not export sun.security.util to unnamed module</code></p>\n<p>I've just been following the guide on the jjwt GitHub page: <a href=\"https://github.com/jwtk/jjwt\" rel=\"nofollow noreferrer\">https://github.com/jwtk/jjwt</a></p>\n<p>(Not sure if this is too relevant) but I'm using JDK corretto-20 with gradle 8.3 on Intellij IDEA. My jjwt dependencies in my build.gradle.kts:</p>\n<pre><code>implementation(&quot;io.jsonwebtoken:jjwt-api:0.12.0&quot;)\nruntimeOnly(&quot;io.jsonwebtoken:jjwt-impl:0.12.0&quot;)\nruntimeOnly(&quot;io.jsonwebtoken:jjwt-jackson:0.12.0&quot;)\n</code></pre>\n<p>and the basic authenticator I've made so far which tries to generate the JWT:</p>\n<pre><code>package myproject.utility;\n\nimport io.jsonwebtoken.Jwts;\nimport myproject.model.User;\n\nimport javax.crypto.SecretKey;\n\npublic class Authenticator {\n  private final static SecretKey secretKey = Jwts.SIG.HS256.key().build();\n\n  public static String generateJwt(User user) {\n    return Jwts.builder().claim(&quot;username&quot;, user.getUsername()).signWith(Authenticator.secretKey).compact();\n  }\n}\n\n</code></pre>\n<p>To pinpoint which bit was throwing the error I added each part of the JWT build process one at a time and it fails after calling compact() at the final step</p>\n<p>The error feels pretty self-explanatory but I have no idea how to fix this. Any help would be appreciated</p>\n"},{"tags":["java","email","jakarta-mail"],"comments":[{"owner":{"account_id":333607,"reputation":33561,"user_id":1715121,"accept_rate":85,"display_name":"Ele"},"score":1,"creation_date":1447073016,"post_id":33609263,"comment_id":54993221,"body_markdown":"Check your server firewall&#39;s settings.","body":"Check your server firewall&#39;s settings."},{"owner":{"account_id":6941698,"reputation":1659,"user_id":5327791,"accept_rate":20,"display_name":"Protagonist"},"score":0,"creation_date":1447073203,"post_id":33609263,"comment_id":54993310,"body_markdown":"@EleazarEnrique, Firewall is disabled","body":"@EleazarEnrique, Firewall is disabled"}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1447073366,"creation_date":1447073366,"answer_id":33609481,"question_id":33609263,"body_markdown":"In general there are a few possible reasons for a connection timeout, including the server being offline, network link failure and networking routing problems&lt;sup&gt;1&lt;/sup&gt;.\r\n\r\nBut in this case, the most likely explanation is that a firewall is blocking your out-going access to the gmail mail server.  This is often done as a means of monitoring / controlling an organization&#39;s out-going email, or as a way of preventing deliberate SPAMing or SPAMing by compromised machines.\r\n\r\n&gt; Firewall is disabled\r\n\r\nIt is probably not your computer&#39;s firewall or your (home) network&#39;s firewall doing the blocking.  It is likely to be blocked by your organization&#39;s network admins, or your ISP&#39;s admins.\r\n\r\n-------------\r\n\r\n&lt;sup&gt;1 - In general, these things are likely to disrupt all network traffic from your machine to the server, so it is worth doing some probing with &quot;ping&quot;, &quot;traceroute&quot;, &quot;tcptraceroute&quot;, etcetera.&lt;/sup&gt;","title":"Why connection is timed out in Javamail?","body":"<p>In general there are a few possible reasons for a connection timeout, including the server being offline, network link failure and networking routing problems<sup>1</sup>.</p>\n\n<p>But in this case, the most likely explanation is that a firewall is blocking your out-going access to the gmail mail server.  This is often done as a means of monitoring / controlling an organization's out-going email, or as a way of preventing deliberate SPAMing or SPAMing by compromised machines.</p>\n\n<blockquote>\n  <p>Firewall is disabled</p>\n</blockquote>\n\n<p>It is probably not your computer's firewall or your (home) network's firewall doing the blocking.  It is likely to be blocked by your organization's network admins, or your ISP's admins.</p>\n\n<hr>\n\n<p><sup>1 - In general, these things are likely to disrupt all network traffic from your machine to the server, so it is worth doing some probing with \"ping\", \"traceroute\", \"tcptraceroute\", etcetera.</sup></p>\n"},{"tags":[],"owner":{"account_id":333607,"reputation":33561,"user_id":1715121,"accept_rate":85,"display_name":"Ele"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1606915167,"creation_date":1447073719,"answer_id":33609580,"question_id":33609263,"body_markdown":"**Add only these properties:**\r\n\r\n        Properties props = new Properties();\r\n\t\tprops.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\r\n\t\tprops.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\r\n\t\tprops.put(&quot;mail.smtp.host&quot;, &quot;smtp.gmail.com&quot;);\r\n\t\tprops.put(&quot;mail.smtp.port&quot;, &quot;587&quot;);\r\n        props.put(&quot;mail.smtp.socketFactory.class&quot;,\r\n\t\t\t\t&quot;javax.net.ssl.SSLSocketFactory&quot;);\r\n\r\n**Also, check your gmail settings:**\r\n\r\n[Set up 2-Step Verification][1]\r\n\r\n  [1]: https://support.google.com/accounts/answer/185839?hl=en&amp;rd=1","title":"Why connection is timed out in Javamail?","body":"<p><strong>Add only these properties:</strong></p>\n<pre><code>    Properties props = new Properties();\n    props.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\n    props.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\n    props.put(&quot;mail.smtp.host&quot;, &quot;smtp.gmail.com&quot;);\n    props.put(&quot;mail.smtp.port&quot;, &quot;587&quot;);\n    props.put(&quot;mail.smtp.socketFactory.class&quot;,\n            &quot;javax.net.ssl.SSLSocketFactory&quot;);\n</code></pre>\n<p><strong>Also, check your gmail settings:</strong></p>\n<p><a href=\"https://support.google.com/accounts/answer/185839?hl=en&amp;rd=1\" rel=\"nofollow noreferrer\">Set up 2-Step Verification</a></p>\n"}],"owner":{"account_id":6941698,"reputation":1659,"user_id":5327791,"accept_rate":20,"display_name":"Protagonist"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7364,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1696463895,"creation_date":1447072631,"question_id":33609263,"body_markdown":"I&#39;m trying to use javamail in eclipse to send out an email via gmail. Each time I get javax.mail.MessagingException\r\n\r\n**Exception**\r\n\r\n   \r\n\r\n     DEBUG: successfully loaded resource: /META-INF/javamail.default.address.map\r\n        DEBUG: getProvider() returning javax.mail.Provider[TRANSPORT,smtp,com.sun.mail.smtp.SMTPTransport,Sun Microsystems, Inc]\r\n        DEBUG SMTP: useEhlo true, useAuth true\r\n        DEBUG SMTP: useEhlo true, useAuth true\r\n        DEBUG SMTP: trying to connect to host &quot;smtp.gmail.com&quot;, port 587, isSSL false\r\n        javax.mail.MessagingException: Could not connect to SMTP host: \r\n    \r\n    smtp.gmail.com, port: 587;\r\n      nested exception is:\r\n    \tjava.net.ConnectException: Connection timed out: connect\r\n\r\n\r\n**Code**\r\n\r\n    package org.itc.utility;\r\n    \r\n    import java.util.Properties;\r\n    \r\n    import javax.mail.Message;\r\n    import javax.mail.PasswordAuthentication;\r\n    import javax.mail.Session;\r\n    import javax.mail.Transport;\r\n    import javax.mail.internet.InternetAddress;\r\n    import javax.mail.internet.MimeMessage;\r\n    \r\n    import org.itc.model.User;\r\n    \r\n    public class SendEmail {\r\n    \tpublic User sendingEmail(User user)\r\n    \t{\r\n    \t\tProperties props = new Properties();  \r\n            props.put(&quot;mail.smtp.host&quot;, &quot;smtp.gmail.com&quot;);  \r\n            props.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);  \r\n            props.put(&quot;mail.debug&quot;, &quot;true&quot;);  \r\n            props.put(&quot;mail.smtp.port&quot;, 587);  \r\n            props.put(&quot;mail.smtp.socketFactory.port&quot;, 587);  \r\n            props.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\r\n            props.put(&quot;mail.transport.protocol&quot;, &quot;smtp&quot;);\r\n            Session mailSession = null;\r\n    \r\n            mailSession = Session.getInstance(props,  \r\n                    new javax.mail.Authenticator() {  \r\n                protected PasswordAuthentication getPasswordAuthentication() {  \r\n                    return new PasswordAuthentication(&quot;&lt;yogeshvbhat@gmail.com&gt;&quot;, &quot;&lt;zc516z918&gt;&quot;);  \r\n                }  \r\n            });  \r\n    \r\n    \r\n            try {\r\n            \t\r\n            \t\r\n                Transport transport = mailSession.getTransport();\r\n    \r\n                MimeMessage message = new MimeMessage(mailSession);\r\n    \r\n                message.setSubject(&quot;Sample Subject&quot;);\r\n                message.setFrom(new InternetAddress(&quot;yogeshvbhat@gmail.com&quot;));\r\n                String []to = new String[]{&quot;yogeshyvb@gmail.com&quot;};\r\n                message.addRecipient(Message.RecipientType.TO, new InternetAddress(to[0]));\r\n                String body = &quot;Sample text&quot;;\r\n                message.setContent(body,&quot;text/html&quot;);\r\n                transport.connect();\r\n    \r\n                transport.sendMessage(message,message.getRecipients(Message.RecipientType.TO));\r\n                transport.close();\r\n            } catch (Exception exception) {\r\n            \t\tSystem.out.println(exception);\r\n            }\r\n    \t\treturn user;\r\n        }\r\n    }\r\n\r\nEach time it is skipping the try block and I&#39;m getting the exception. Any help on this?\r\n","title":"Why connection is timed out in Javamail?","body":"<p>I'm trying to use javamail in eclipse to send out an email via gmail. Each time I get javax.mail.MessagingException</p>\n\n<p><strong>Exception</strong></p>\n\n<pre><code> DEBUG: successfully loaded resource: /META-INF/javamail.default.address.map\n    DEBUG: getProvider() returning javax.mail.Provider[TRANSPORT,smtp,com.sun.mail.smtp.SMTPTransport,Sun Microsystems, Inc]\n    DEBUG SMTP: useEhlo true, useAuth true\n    DEBUG SMTP: useEhlo true, useAuth true\n    DEBUG SMTP: trying to connect to host \"smtp.gmail.com\", port 587, isSSL false\n    javax.mail.MessagingException: Could not connect to SMTP host: \n\nsmtp.gmail.com, port: 587;\n  nested exception is:\n    java.net.ConnectException: Connection timed out: connect\n</code></pre>\n\n<p><strong>Code</strong></p>\n\n<pre><code>package org.itc.utility;\n\nimport java.util.Properties;\n\nimport javax.mail.Message;\nimport javax.mail.PasswordAuthentication;\nimport javax.mail.Session;\nimport javax.mail.Transport;\nimport javax.mail.internet.InternetAddress;\nimport javax.mail.internet.MimeMessage;\n\nimport org.itc.model.User;\n\npublic class SendEmail {\n    public User sendingEmail(User user)\n    {\n        Properties props = new Properties();  \n        props.put(\"mail.smtp.host\", \"smtp.gmail.com\");  \n        props.put(\"mail.smtp.auth\", \"true\");  \n        props.put(\"mail.debug\", \"true\");  \n        props.put(\"mail.smtp.port\", 587);  \n        props.put(\"mail.smtp.socketFactory.port\", 587);  \n        props.put(\"mail.smtp.starttls.enable\", \"true\");\n        props.put(\"mail.transport.protocol\", \"smtp\");\n        Session mailSession = null;\n\n        mailSession = Session.getInstance(props,  \n                new javax.mail.Authenticator() {  \n            protected PasswordAuthentication getPasswordAuthentication() {  \n                return new PasswordAuthentication(\"&lt;yogeshvbhat@gmail.com&gt;\", \"&lt;zc516z918&gt;\");  \n            }  \n        });  \n\n\n        try {\n\n\n            Transport transport = mailSession.getTransport();\n\n            MimeMessage message = new MimeMessage(mailSession);\n\n            message.setSubject(\"Sample Subject\");\n            message.setFrom(new InternetAddress(\"yogeshvbhat@gmail.com\"));\n            String []to = new String[]{\"yogeshyvb@gmail.com\"};\n            message.addRecipient(Message.RecipientType.TO, new InternetAddress(to[0]));\n            String body = \"Sample text\";\n            message.setContent(body,\"text/html\");\n            transport.connect();\n\n            transport.sendMessage(message,message.getRecipients(Message.RecipientType.TO));\n            transport.close();\n        } catch (Exception exception) {\n                System.out.println(exception);\n        }\n        return user;\n    }\n}\n</code></pre>\n\n<p>Each time it is skipping the try block and I'm getting the exception. Any help on this?</p>\n"},{"tags":["java","javafx","scenebuilder"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1696435017,"post_id":77230890,"comment_id":136153335,"body_markdown":"Please edit your question to include a [mre]. Specifically, include an FXML file that demonstrates the issue, along with the application code to display it.","body":"Please edit your question to include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Specifically, include an FXML file that demonstrates the issue, along with the application code to display it."},{"owner":{"account_id":10759610,"reputation":12628,"user_id":7916438,"display_name":"tevemadar"},"score":3,"creation_date":1696438656,"post_id":77230890,"comment_id":136154065,"body_markdown":"If you try to search for similar questions, there are at least two things come up that your could try: the [documentation](https://openjfx.io/javadoc/13/javafx.graphics/javafx/scene/doc-files/cssref.html#region) says this property is comma-separated (though various other sources say it isn&#39;t), and while the documentation says `none`, some people found `hidden` working instead.","body":"If you try to search for similar questions, there are at least two things come up that your could try: the <a href=\"https://openjfx.io/javadoc/13/javafx.graphics/javafx/scene/doc-files/cssref.html#region\" rel=\"nofollow noreferrer\">documentation</a> says this property is comma-separated (though various other sources say it isn&#39;t), and while the documentation says <code>none</code>, some people found <code>hidden</code> working instead."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":3,"creation_date":1696443817,"post_id":77230890,"comment_id":136155082,"body_markdown":"Both the implementation (doesn&#39;t work correctly if the top border is set to &quot;none&#39;) and the documentation (does not describe sets of four values for four different sides for border-style) appear to have bugs.","body":"Both the implementation (doesn&#39;t work correctly if the top border is set to &quot;none&#39;) and the documentation (does not describe sets of four values for four different sides for border-style) appear to have bugs."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1696474360,"post_id":77230890,"comment_id":136158525,"body_markdown":"@tevemadar Note the documentation says commas are used to separate values for _different borders_ (you can have multiple border e.g., strokes with different styles, widths, colors, etc. on a single region). Though the documentation fails to say anything about allowing four values for a _single border_ (for each side of the border). It&#39;s somewhat inferable from the way `BorderStroke` works and how the other `-fx-border-xxx` properties work, but that&#39;s definitely a bug in the documentation.","body":"@tevemadar Note the documentation says commas are used to separate values for <i>different borders</i> (you can have multiple border e.g., strokes with different styles, widths, colors, etc. on a single region). Though the documentation fails to say anything about allowing four values for a <i>single border</i> (for each side of the border). It&#39;s somewhat inferable from the way <code>BorderStroke</code> works and how the other <code>-fx-border-xxx</code> properties work, but that&#39;s definitely a bug in the documentation."},{"owner":{"account_id":10759610,"reputation":12628,"user_id":7916438,"display_name":"tevemadar"},"score":0,"creation_date":1696497126,"post_id":77230890,"comment_id":136161467,"body_markdown":"@Slaw obviously I haven&#39;t tried any of them, just mentioned what I&#39;ve seen in somewhat similar topics.","body":"@Slaw obviously I haven&#39;t tried any of them, just mentioned what I&#39;ve seen in somewhat similar topics."}],"answers":[{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1696463396,"creation_date":1696452829,"answer_id":77232915,"question_id":77230890,"body_markdown":"**This is a bug in JavaFX 21 CSS border rule processing**\r\n\r\nThis appears to be a bug in CSS border handling in JavaFX 21.  It is not an issue in SceneBuilder or FXML, or the core border logic of JavaFX.\r\n\r\nAs noted by James in comments:\r\n\r\n&gt; Both the implementation (doesn&#39;t work correctly if the top border is set to &quot;none&#39;) and the documentation (does not describe sets of four values for four different sides for border-style) appear to have bugs. \r\n\r\nYou might wish to [file a bug report][1] on this.  If you do so, you can link back to this issue and add a comment to this answer (or edit it) to add a reference to the related bug report.\r\n\r\nThe issue is that, if you specify all four border styles in a CSS rule *and* the first border style is set to `none`, then the border styles do not take effect -&gt; all borders show.\r\n\r\n**Replicating the Issue**\r\n\r\nThe code below replicates the issue (tested on JavaFX 21).\r\n\r\n1. The first box, is rendered incorrectly, showing all four borders when only the right border should show.\r\n\r\n       -fx-border-style: none solid none none;\r\n\r\n2. The second box renders correctly, the top and right borders show and the other borders do not.\r\n\r\n       -fx-border-style: solid solid none none;\r\n\r\n3. The third box renders correctly, only the right border shows.  However, this was implemented in code rather than CSS. As a work-around for your issue you can write your border styles in code rather than using CSS.\r\n\r\n       Border codedBorder = new Border(\r\n               new BorderStroke(\r\n                       Color.BLACK, Color.RED, Color.GREEN, Color.BLUE,\r\n                       BorderStrokeStyle.NONE, BorderStrokeStyle.SOLID, BorderStrokeStyle.NONE, BorderStrokeStyle.NONE,\r\n                       CornerRadii.EMPTY,\r\n                       new BorderWidths(10, 8, 6, 4),\r\n                       Insets.EMPTY\r\n               )\r\n       );\r\n\r\n[![demos][2]][2]\r\n\r\n**Example Code: BrokenBorders.java**\r\n\r\n    import javafx.application.Application;\r\n    import javafx.geometry.Insets;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.Label;\r\n    import javafx.scene.layout.*;\r\n    import javafx.scene.paint.Color;\r\n    import javafx.stage.Stage;\r\n    \r\n    public class BrokenBorders extends Application {\r\n        private static final String CSS = &quot;data:text/css,&quot;;\r\n        private static final String CUSTOM_BORDER_CSS = CSS + // language=CSS\r\n                &quot;&quot;&quot;            \r\n                .broken-border {\r\n                    -fx-border-style: none solid none none;\r\n                    -fx-border-color: black red green blue;\r\n                    -fx-border-width: 10 8 6 4;\r\n                    -fx-background-color: lightgreen;\r\n                }\r\n    \r\n                .working-border {\r\n                    -fx-border-style: solid solid none none;\r\n                    -fx-border-color: black red green blue;\r\n                    -fx-border-width: 10 8 6 4;\r\n                    -fx-background-color: lightblue;\r\n                }\r\n                \r\n                .root {\r\n                    -fx-font-size: 40px;\r\n                }\r\n                &quot;&quot;&quot;;\r\n    \r\n        @Override\r\n        public void start(Stage stage) {\r\n            stage.setScene(new Scene(createLayout()));\r\n            stage.show();\r\n        }\r\n    \r\n        private static VBox createLayout() {\r\n            StackPane brokenBorderedPane = new StackPane(new Label(&quot;1&quot;));\r\n            brokenBorderedPane.getStyleClass().add(&quot;broken-border&quot;);\r\n            brokenBorderedPane.setPrefSize(100, 100);\r\n    \r\n            StackPane workingBorderedPane = new StackPane(new Label(&quot;2&quot;));\r\n            workingBorderedPane.getStyleClass().add(&quot;working-border&quot;);\r\n            workingBorderedPane.setPrefSize(100, 100);\r\n    \r\n            StackPane codedBorderPane = new StackPane(new Label(&quot;3&quot;));\r\n            Border codedBorder = new Border(\r\n                    new BorderStroke(\r\n                            Color.BLACK, Color.RED, Color.GREEN, Color.BLUE,\r\n                            BorderStrokeStyle.NONE, BorderStrokeStyle.SOLID, BorderStrokeStyle.NONE, BorderStrokeStyle.NONE,\r\n                            CornerRadii.EMPTY,\r\n                            new BorderWidths(10, 8, 6, 4),\r\n                            Insets.EMPTY\r\n                    )\r\n            );\r\n            codedBorderPane.setBackground(Background.fill(Color.LIGHTPINK));\r\n            codedBorderPane.setBorder(codedBorder);\r\n            codedBorderPane.setPrefSize(100, 100);\r\n    \r\n            VBox layout = new VBox(\r\n                    10,\r\n                    brokenBorderedPane,\r\n                    workingBorderedPane,\r\n                    codedBorderPane\r\n            );\r\n            layout.getStylesheets().add(CUSTOM_BORDER_CSS);\r\n            layout.setPadding(new Insets(10));\r\n    \r\n            return layout;\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch();\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://wiki.openjdk.org/display/OpenJFX/Submitting+a+Bug+Report\r\n  [2]: https://i.stack.imgur.com/YzfHd.png","title":"Is this mistake of JavaFX SceneBuilder?","body":"<p><strong>This is a bug in JavaFX 21 CSS border rule processing</strong></p>\n<p>This appears to be a bug in CSS border handling in JavaFX 21.  It is not an issue in SceneBuilder or FXML, or the core border logic of JavaFX.</p>\n<p>As noted by James in comments:</p>\n<blockquote>\n<p>Both the implementation (doesn't work correctly if the top border is set to &quot;none') and the documentation (does not describe sets of four values for four different sides for border-style) appear to have bugs.</p>\n</blockquote>\n<p>You might wish to <a href=\"https://wiki.openjdk.org/display/OpenJFX/Submitting+a+Bug+Report\" rel=\"nofollow noreferrer\">file a bug report</a> on this.  If you do so, you can link back to this issue and add a comment to this answer (or edit it) to add a reference to the related bug report.</p>\n<p>The issue is that, if you specify all four border styles in a CSS rule <em>and</em> the first border style is set to <code>none</code>, then the border styles do not take effect -&gt; all borders show.</p>\n<p><strong>Replicating the Issue</strong></p>\n<p>The code below replicates the issue (tested on JavaFX 21).</p>\n<ol>\n<li><p>The first box, is rendered incorrectly, showing all four borders when only the right border should show.</p>\n<pre><code>-fx-border-style: none solid none none;\n</code></pre>\n</li>\n<li><p>The second box renders correctly, the top and right borders show and the other borders do not.</p>\n<pre><code>-fx-border-style: solid solid none none;\n</code></pre>\n</li>\n<li><p>The third box renders correctly, only the right border shows.  However, this was implemented in code rather than CSS. As a work-around for your issue you can write your border styles in code rather than using CSS.</p>\n<pre><code>Border codedBorder = new Border(\n        new BorderStroke(\n                Color.BLACK, Color.RED, Color.GREEN, Color.BLUE,\n                BorderStrokeStyle.NONE, BorderStrokeStyle.SOLID, BorderStrokeStyle.NONE, BorderStrokeStyle.NONE,\n                CornerRadii.EMPTY,\n                new BorderWidths(10, 8, 6, 4),\n                Insets.EMPTY\n        )\n);\n</code></pre>\n</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/YzfHd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YzfHd.png\" alt=\"demos\" /></a></p>\n<p><strong>Example Code: BrokenBorders.java</strong></p>\n<pre><code>import javafx.application.Application;\nimport javafx.geometry.Insets;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Label;\nimport javafx.scene.layout.*;\nimport javafx.scene.paint.Color;\nimport javafx.stage.Stage;\n\npublic class BrokenBorders extends Application {\n    private static final String CSS = &quot;data:text/css,&quot;;\n    private static final String CUSTOM_BORDER_CSS = CSS + // language=CSS\n            &quot;&quot;&quot;            \n            .broken-border {\n                -fx-border-style: none solid none none;\n                -fx-border-color: black red green blue;\n                -fx-border-width: 10 8 6 4;\n                -fx-background-color: lightgreen;\n            }\n\n            .working-border {\n                -fx-border-style: solid solid none none;\n                -fx-border-color: black red green blue;\n                -fx-border-width: 10 8 6 4;\n                -fx-background-color: lightblue;\n            }\n            \n            .root {\n                -fx-font-size: 40px;\n            }\n            &quot;&quot;&quot;;\n\n    @Override\n    public void start(Stage stage) {\n        stage.setScene(new Scene(createLayout()));\n        stage.show();\n    }\n\n    private static VBox createLayout() {\n        StackPane brokenBorderedPane = new StackPane(new Label(&quot;1&quot;));\n        brokenBorderedPane.getStyleClass().add(&quot;broken-border&quot;);\n        brokenBorderedPane.setPrefSize(100, 100);\n\n        StackPane workingBorderedPane = new StackPane(new Label(&quot;2&quot;));\n        workingBorderedPane.getStyleClass().add(&quot;working-border&quot;);\n        workingBorderedPane.setPrefSize(100, 100);\n\n        StackPane codedBorderPane = new StackPane(new Label(&quot;3&quot;));\n        Border codedBorder = new Border(\n                new BorderStroke(\n                        Color.BLACK, Color.RED, Color.GREEN, Color.BLUE,\n                        BorderStrokeStyle.NONE, BorderStrokeStyle.SOLID, BorderStrokeStyle.NONE, BorderStrokeStyle.NONE,\n                        CornerRadii.EMPTY,\n                        new BorderWidths(10, 8, 6, 4),\n                        Insets.EMPTY\n                )\n        );\n        codedBorderPane.setBackground(Background.fill(Color.LIGHTPINK));\n        codedBorderPane.setBorder(codedBorder);\n        codedBorderPane.setPrefSize(100, 100);\n\n        VBox layout = new VBox(\n                10,\n                brokenBorderedPane,\n                workingBorderedPane,\n                codedBorderPane\n        );\n        layout.getStylesheets().add(CUSTOM_BORDER_CSS);\n        layout.setPadding(new Insets(10));\n\n        return layout;\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":29597432,"reputation":53,"user_id":22683657,"display_name":"Jouzef"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":77232915,"answer_count":1,"score":5,"last_activity_date":1696463396,"creation_date":1696433038,"question_id":77230890,"body_markdown":"In JavaFX SceneBuilder I wanted to style border of Pane to be only on the right side, so I put in the JavaFX CSS style box this: -fx-border-style: none solid none none , but it did whole border visible. Then I find out, that if I put &quot;none&quot; as a first value, the border will be allways whole.\r\n\r\nCan someone tell me please , how to fix it, or if there&#39;s some other way to do that?\r\n\r\n[![JavaFX CSS view][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/M16cR.png","title":"Is this mistake of JavaFX SceneBuilder?","body":"<p>In JavaFX SceneBuilder I wanted to style border of Pane to be only on the right side, so I put in the JavaFX CSS style box this: -fx-border-style: none solid none none , but it did whole border visible. Then I find out, that if I put &quot;none&quot; as a first value, the border will be allways whole.</p>\n<p>Can someone tell me please , how to fix it, or if there's some other way to do that?</p>\n<p><a href=\"https://i.stack.imgur.com/M16cR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/M16cR.png\" alt=\"JavaFX CSS view\" /></a></p>\n"},{"tags":["java","spring","command-line"],"answers":[{"tags":[],"owner":{"account_id":11455,"reputation":31,"user_id":22087,"display_name":"Bradley Beddoes"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1222339198,"creation_date":1222339198,"answer_id":132546,"question_id":132231,"body_markdown":"Here is an example to boot strap spring for a Main method, simply grab the passed params as normal then make the function you call on your bean (in the case deployer.execute()) take them as Strings or via any format you feel suitable.\r\n\r\n    public static void main(String[] args) throws IOException, ConfigurationException {\r\n\t\tDeployer deployer = bootstrapSpring();\r\n\t\t\r\n\t\tdeployer.execute();\r\n\t}\r\n\r\n\tprivate static Deployer bootstrapSpring()\r\n\t{\r\n\t\tFileSystemXmlApplicationContext appContext = new FileSystemXmlApplicationContext(&quot;spring/deployerContext.xml&quot;);\r\n\t\t\r\n\t\tDeployer deployer = (Deployer)appContext.getBean(&quot;deployer&quot;);\r\n\t\treturn deployer;\r\n\t}","title":"Dealing with command line arguments and Spring","body":"<p>Here is an example to boot strap spring for a Main method, simply grab the passed params as normal then make the function you call on your bean (in the case deployer.execute()) take them as Strings or via any format you feel suitable.</p>\n\n<pre><code>public static void main(String[] args) throws IOException, ConfigurationException {\n    Deployer deployer = bootstrapSpring();\n\n    deployer.execute();\n}\n\nprivate static Deployer bootstrapSpring()\n{\n    FileSystemXmlApplicationContext appContext = new FileSystemXmlApplicationContext(\"spring/deployerContext.xml\");\n\n    Deployer deployer = (Deployer)appContext.getBean(\"deployer\");\n    return deployer;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7416,"reputation":15463,"user_id":12880,"display_name":"flicken"},"down_vote_count":0,"up_vote_count":40,"is_accepted":true,"score":40,"last_activity_date":1522368958,"creation_date":1222366341,"answer_id":134974,"question_id":132231,"body_markdown":"Two possibilities I can think of.\r\n\r\n1) Set a static reference.  (A static variable, although typically frowned upon, is OK in this case, because there can only be 1 command line invocation). \r\n\r\n    public class MyApp {\r\n      public static String[] ARGS; \r\n      public static void main(String[] args) {\r\n        ARGS = args;\r\n          // create context\r\n      }\r\n    }\r\n\r\n\r\nYou can then reference the command line arguments in Spring via:\r\n\r\n    &lt;util:constant static-field=&quot;MyApp.ARGS&quot;/&gt;\r\n\r\n\r\nAlternatively (if you are completely opposed to static variables), you can:\r\n\r\n2) Programmatically add the args to the application context:\r\n\r\n\r\n     public class MyApp2 {\r\n       public static void main(String[] args) {\r\n         DefaultListableBeanFactory beanFactory = new DefaultListableBeanFactory();\r\n       \r\n            // Define a bean and register it\r\n         BeanDefinition beanDefinition = BeanDefinitionBuilder.\r\n           rootBeanDefinition(Arrays.class, &quot;asList&quot;)\r\n           .addConstructorArgValue(args).getBeanDefinition();\r\n         beanFactory.registerBeanDefinition(&quot;args&quot;, beanDefinition);\r\n         GenericApplicationContext cmdArgCxt = new GenericApplicationContext(beanFactory);\r\n         // Must call refresh to initialize context \r\n         cmdArgCxt.refresh();\r\n         \r\n         // Create application context, passing command line context as parent\r\n         ApplicationContext mainContext = new ClassPathXmlApplicationContext(CONFIG_LOCATIONS, cmdArgCxt);\r\n         \r\n         // See if it&#39;s in the context\r\n         System.out.println(&quot;Args: &quot; + mainContext.getBean(&quot;args&quot;));\r\n       }\r\n       \r\n       private static String[] CONFIG_LOCATIONS = new String[] {\r\n         &quot;applicationContext.xml&quot;\r\n       };\r\n     \r\n     }\r\n\r\n\r\nParsing the command line arguments is left as an exercise to the reader.  ","title":"Dealing with command line arguments and Spring","body":"<p>Two possibilities I can think of.</p>\n\n<p>1) Set a static reference.  (A static variable, although typically frowned upon, is OK in this case, because there can only be 1 command line invocation). </p>\n\n<pre><code>public class MyApp {\n  public static String[] ARGS; \n  public static void main(String[] args) {\n    ARGS = args;\n      // create context\n  }\n}\n</code></pre>\n\n<p>You can then reference the command line arguments in Spring via:</p>\n\n<pre><code>&lt;util:constant static-field=\"MyApp.ARGS\"/&gt;\n</code></pre>\n\n<p>Alternatively (if you are completely opposed to static variables), you can:</p>\n\n<p>2) Programmatically add the args to the application context:</p>\n\n<pre><code> public class MyApp2 {\n   public static void main(String[] args) {\n     DefaultListableBeanFactory beanFactory = new DefaultListableBeanFactory();\n\n        // Define a bean and register it\n     BeanDefinition beanDefinition = BeanDefinitionBuilder.\n       rootBeanDefinition(Arrays.class, \"asList\")\n       .addConstructorArgValue(args).getBeanDefinition();\n     beanFactory.registerBeanDefinition(\"args\", beanDefinition);\n     GenericApplicationContext cmdArgCxt = new GenericApplicationContext(beanFactory);\n     // Must call refresh to initialize context \n     cmdArgCxt.refresh();\n\n     // Create application context, passing command line context as parent\n     ApplicationContext mainContext = new ClassPathXmlApplicationContext(CONFIG_LOCATIONS, cmdArgCxt);\n\n     // See if it's in the context\n     System.out.println(\"Args: \" + mainContext.getBean(\"args\"));\n   }\n\n   private static String[] CONFIG_LOCATIONS = new String[] {\n     \"applicationContext.xml\"\n   };\n\n }\n</code></pre>\n\n<p>Parsing the command line arguments is left as an exercise to the reader.  </p>\n"},{"tags":[],"owner":{"account_id":16836,"reputation":2308,"user_id":37110,"accept_rate":70,"display_name":"BeWarned"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1320169452,"creation_date":1227142626,"answer_id":304026,"question_id":132231,"body_markdown":"You can also pass an Object array as a second parameter to `getBean` which will be used as arguments to the constructor or factory.\r\n\r\n    public static void main(String[] args) {\r\n       Mybean m = (Mybean)context.getBean(&quot;mybean&quot;, new Object[] {args});\r\n    }","title":"Dealing with command line arguments and Spring","body":"<p>You can also pass an Object array as a second parameter to <code>getBean</code> which will be used as arguments to the constructor or factory.</p>\n\n<pre><code>public static void main(String[] args) {\n   Mybean m = (Mybean)context.getBean(\"mybean\", new Object[] {args});\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27075,"reputation":3918,"user_id":71050,"accept_rate":86,"display_name":"Brian Dilley"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1248798567,"creation_date":1248798567,"answer_id":1195240,"question_id":132231,"body_markdown":"Consider the following class:\r\n\r\n    public class ExternalBeanReferneceFactoryBean \r\n    \textends AbstractFactoryBean\r\n    \timplements BeanNameAware {\r\n    \r\n    \tprivate static Map&lt;String, Object&gt; instances = new HashMap&lt;String, Object&gt;();\r\n    \tprivate String beanName;\r\n    \t\r\n    \t/**\r\n    \t * @param instance the instance to set\r\n    \t */\r\n    \tpublic static void setInstance(String beanName, Object instance) {\r\n    \t\tinstances.put(beanName, instance);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tprotected Object createInstance() \r\n    \t\tthrows Exception {\r\n    \t\treturn instances.get(beanName);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic Class&lt;?&gt; getObjectType() {\r\n    \t\treturn instances.get(beanName).getClass();\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void setBeanName(String name) {\r\n    \t\tthis.beanName = name;\r\n    \t}\r\n    \r\n    }\r\n\r\nalong with:\r\n\r\n\t/**\r\n\t * Starts the job server.\r\n\t * @param args command line arguments\r\n\t */\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\t// parse the command line\r\n\t\tCommandLineParser parser = new GnuParser();\r\n\t\tCommandLine cmdLine = null;\r\n\t\ttry {\r\n\t\t\tcmdLine = parser.parse(OPTIONS, args);\r\n\t\t} catch(ParseException pe) {\r\n\t\t\tSystem.err.println(&quot;Error parsing command line: &quot;+pe.getMessage());\r\n\t\t\tnew HelpFormatter().printHelp(&quot;command&quot;, OPTIONS);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\t// create root beanFactory\r\n\t\tDefaultListableBeanFactory beanFactory = new DefaultListableBeanFactory();\r\n\t\t\r\n\t\t// register bean definition for the command line\r\n\t\tExternalBeanReferneceFactoryBean.setInstance(&quot;commandLine&quot;, cmdLine);\r\n\t\tbeanFactory.registerBeanDefinition(&quot;commandLine&quot;, BeanDefinitionBuilder\r\n\t\t\t.rootBeanDefinition(ExternalBeanReferneceFactoryBean.class)\r\n\t\t\t.getBeanDefinition());\r\n\t\t\r\n\t\t// create application context\r\n\t\tGenericApplicationContext rootAppContext = new GenericApplicationContext(beanFactory);\r\n\t\trootAppContext.refresh();\r\n\t\t\r\n\t\t// create the application context\r\n\t\tApplicationContext appContext = new ClassPathXmlApplicationContext(new String[] { \r\n\t\t\t&quot;/commandlineapp/applicationContext.xml&quot;\r\n\t\t}, rootAppContext);\r\n\t\t\r\n\t\tSystem.out.println(appContext.getBean(&quot;commandLine&quot;));\r\n\t\t\r\n\t}","title":"Dealing with command line arguments and Spring","body":"<p>Consider the following class:</p>\n\n<pre><code>public class ExternalBeanReferneceFactoryBean \n    extends AbstractFactoryBean\n    implements BeanNameAware {\n\n    private static Map&lt;String, Object&gt; instances = new HashMap&lt;String, Object&gt;();\n    private String beanName;\n\n    /**\n     * @param instance the instance to set\n     */\n    public static void setInstance(String beanName, Object instance) {\n        instances.put(beanName, instance);\n    }\n\n    @Override\n    protected Object createInstance() \n        throws Exception {\n        return instances.get(beanName);\n    }\n\n    @Override\n    public Class&lt;?&gt; getObjectType() {\n        return instances.get(beanName).getClass();\n    }\n\n    @Override\n    public void setBeanName(String name) {\n        this.beanName = name;\n    }\n\n}\n</code></pre>\n\n<p>along with:</p>\n\n<pre><code>/**\n * Starts the job server.\n * @param args command line arguments\n */\npublic static void main(String[] args) {\n\n    // parse the command line\n    CommandLineParser parser = new GnuParser();\n    CommandLine cmdLine = null;\n    try {\n        cmdLine = parser.parse(OPTIONS, args);\n    } catch(ParseException pe) {\n        System.err.println(\"Error parsing command line: \"+pe.getMessage());\n        new HelpFormatter().printHelp(\"command\", OPTIONS);\n        return;\n    }\n\n    // create root beanFactory\n    DefaultListableBeanFactory beanFactory = new DefaultListableBeanFactory();\n\n    // register bean definition for the command line\n    ExternalBeanReferneceFactoryBean.setInstance(\"commandLine\", cmdLine);\n    beanFactory.registerBeanDefinition(\"commandLine\", BeanDefinitionBuilder\n        .rootBeanDefinition(ExternalBeanReferneceFactoryBean.class)\n        .getBeanDefinition());\n\n    // create application context\n    GenericApplicationContext rootAppContext = new GenericApplicationContext(beanFactory);\n    rootAppContext.refresh();\n\n    // create the application context\n    ApplicationContext appContext = new ClassPathXmlApplicationContext(new String[] { \n        \"/commandlineapp/applicationContext.xml\"\n    }, rootAppContext);\n\n    System.out.println(appContext.getBean(\"commandLine\"));\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23739,"reputation":4125,"user_id":59724,"accept_rate":33,"display_name":"Graham"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1263559298,"creation_date":1263559298,"answer_id":2071474,"question_id":132231,"body_markdown":"Have a look at my Spring-CLI library - at http://github.com/sazzer/spring-cli - as one way of doing this. It gives you a main class that automatically loads spring contexts and has the ability to use Commons-CLI for parsing command line arguments automatically and injecting them into your beans.","title":"Dealing with command line arguments and Spring","body":"<p>Have a look at my Spring-CLI library - at <a href=\"http://github.com/sazzer/spring-cli\" rel=\"noreferrer\">http://github.com/sazzer/spring-cli</a> - as one way of doing this. It gives you a main class that automatically loads spring contexts and has the ability to use Commons-CLI for parsing command line arguments automatically and injecting them into your beans.</p>\n"},{"tags":[],"owner":{"account_id":5953401,"reputation":5248,"user_id":4680812,"accept_rate":77,"display_name":"S. Pauk"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1485504495,"creation_date":1485503204,"answer_id":41889084,"question_id":132231,"body_markdown":"Starting from Spring 3.1 there is no need in any custom code suggested in other answers. Check [CommandLinePropertySource][1], it provides a natural way to inject CL arguments into your context.\n\nAnd if you are a lucky Spring Boot developer you could simplify your code one step forward leveraging the fact that [SpringApplication][2] gives you the following: \n\n&gt; By default class will perform the following steps to bootstrap your\n&gt; application:\n&gt;\n&gt; ...\n&gt;\n&gt; Register a CommandLinePropertySource to expose command line arguments\n&gt; as Spring properties\n\n\nAnd if you are interested in the Spring Boot property resolution order please consult [this page][3].\n\n\n  \n\n\n  [1]: http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/core/env/CommandLinePropertySource.html\n  [2]: http://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/SpringApplication.html\n  [3]: https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html","title":"Dealing with command line arguments and Spring","body":"<p>Starting from Spring 3.1 there is no need in any custom code suggested in other answers. Check <a href=\"http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/core/env/CommandLinePropertySource.html\" rel=\"noreferrer\">CommandLinePropertySource</a>, it provides a natural way to inject CL arguments into your context.</p>\n<p>And if you are a lucky Spring Boot developer you could simplify your code one step forward leveraging the fact that <a href=\"http://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/SpringApplication.html\" rel=\"noreferrer\">SpringApplication</a> gives you the following:</p>\n<blockquote>\n<p>By default class will perform the following steps to bootstrap your\napplication:</p>\n<p>...</p>\n<p>Register a CommandLinePropertySource to expose command line arguments\nas Spring properties</p>\n</blockquote>\n<p>And if you are interested in the Spring Boot property resolution order please consult <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html\" rel=\"noreferrer\">this page</a>.</p>\n"},{"tags":[],"owner":{"account_id":8927637,"reputation":2886,"user_id":6661361,"display_name":"Gerardo Roza"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1568993657,"creation_date":1568993657,"answer_id":58031369,"question_id":132231,"body_markdown":"I&#39;m not sure what you are trying to achieve exactly, maybe you can add some details on what the command and the arguments will look like, and what outcome you expect from your application.\r\n\r\nI think this is not what you need, but it might help other readers: Spring supports receiving properties from the command line using double hyphen (e.g. `java -jar app.jar --my.property=&quot;Property Value&quot;`\r\nHave a look at this documentation for more information:\r\nhttps://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html#boot-features-external-config-command-line-args","title":"Dealing with command line arguments and Spring","body":"<p>I'm not sure what you are trying to achieve exactly, maybe you can add some details on what the command and the arguments will look like, and what outcome you expect from your application.</p>\n\n<p>I think this is not what you need, but it might help other readers: Spring supports receiving properties from the command line using double hyphen (e.g. <code>java -jar app.jar --my.property=\"Property Value\"</code>\nHave a look at this documentation for more information:\n<a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html#boot-features-external-config-command-line-args\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html#boot-features-external-config-command-line-args</a></p>\n"},{"tags":[],"owner":{"account_id":916639,"reputation":553,"user_id":10001916,"display_name":"a5tr0"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696460851,"creation_date":1696460851,"answer_id":77233456,"question_id":132231,"body_markdown":"Inspired by [s. Pauk answer][1] I simply use Spring subclasse of  CommandLinePropertySource : SimpleCommandLinePropertySource.\r\n```\r\n// command line example : c:\\&gt; java.exe com.stackeroverflower.answer.132231.ProjetClientApplication --spring.profiles.active=local response --mysuperdate=2023-09-21T14:21:21.212\r\n```\r\n\r\n```\r\npackage com.stackeroverflower.answer.132231.ProjetClientApplication;\r\n\r\nimport java.util.Arrays;\r\n\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport org.springframework.boot.CommandLineRunner;\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.context.ApplicationContext;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.core.env.SimpleCommandLinePropertySource;\r\n\r\n\r\n@SpringBootApplication\r\npublic class ProjetClientApplication {\r\n\r\n\r\n\tprivate static final Logger logger = LoggerFactory.getLogger(ProjetClientApplication.class);\r\n\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tArrays.stream(args).forEach(logger::info); // display &gt; \r\n\t\t\t\t// &gt; INFO com.stackeroverflower.answer.132231.ProjetClientApplication - --spring.profiles.active=local\r\n\t\t\t\t// &gt; INFO com.stackeroverflower.answer.132231.ProjetClientApplication - response\r\n\t\t\t\t// &gt; INFO com.stackeroverflower.answer.132231.ProjetClientApplication - --respStatsAtDate=2023-09-21T14:21:21.212\r\n\t\t\t\t// &gt; INFO com.stackeroverflower.answer.132231.ProjetClientApplication - -Xms4096M\r\n\t\t\t\t// &gt; INFO com.stackeroverflower.answer.132231.ProjetClientApplication - -Xmx4096M\r\n\t\t\r\n\t\tSpringApplication.run(ProjetClientApplication.class, args);\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic CommandLineRunner commandLineRunner(ApplicationContext ctx) {\r\n\t\treturn args -&gt; {\r\n\t\t\tSimpleCommandLinePropertySource ps = new SimpleCommandLinePropertySource(args);\r\n\t\t\tlogger.info(&quot; mysuperdate value is : {}&quot;, ps.getProperty(&quot;mysuperdate&quot;) ); // display &gt; \r\n\t\t\t\t// INFO  ProjetClientApplication :: lambda$1 &gt;  mysuperdate value is : 2023-09-21T14:21:21.212\r\n\t}\r\n\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/2071474/10001916","title":"Dealing with command line arguments and Spring","body":"<p>Inspired by <a href=\"https://stackoverflow.com/a/2071474/10001916\">s. Pauk answer</a> I simply use Spring subclasse of  CommandLinePropertySource : SimpleCommandLinePropertySource.</p>\n<pre><code>// command line example : c:\\&gt; java.exe com.stackeroverflower.answer.132231.ProjetClientApplication --spring.profiles.active=local response --mysuperdate=2023-09-21T14:21:21.212\n</code></pre>\n<pre><code>package com.stackeroverflower.answer.132231.ProjetClientApplication;\n\nimport java.util.Arrays;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.boot.CommandLineRunner;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.ApplicationContext;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.core.env.SimpleCommandLinePropertySource;\n\n\n@SpringBootApplication\npublic class ProjetClientApplication {\n\n\n    private static final Logger logger = LoggerFactory.getLogger(ProjetClientApplication.class);\n\n    \n    public static void main(String[] args) {\n        Arrays.stream(args).forEach(logger::info); // display &gt; \n                // &gt; INFO com.stackeroverflower.answer.132231.ProjetClientApplication - --spring.profiles.active=local\n                // &gt; INFO com.stackeroverflower.answer.132231.ProjetClientApplication - response\n                // &gt; INFO com.stackeroverflower.answer.132231.ProjetClientApplication - --respStatsAtDate=2023-09-21T14:21:21.212\n                // &gt; INFO com.stackeroverflower.answer.132231.ProjetClientApplication - -Xms4096M\n                // &gt; INFO com.stackeroverflower.answer.132231.ProjetClientApplication - -Xmx4096M\n        \n        SpringApplication.run(ProjetClientApplication.class, args);\n    }\n\n    @Bean\n    public CommandLineRunner commandLineRunner(ApplicationContext ctx) {\n        return args -&gt; {\n            SimpleCommandLinePropertySource ps = new SimpleCommandLinePropertySource(args);\n            logger.info(&quot; mysuperdate value is : {}&quot;, ps.getProperty(&quot;mysuperdate&quot;) ); // display &gt; \n                // INFO  ProjetClientApplication :: lambda$1 &gt;  mysuperdate value is : 2023-09-21T14:21:21.212\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":11444,"reputation":2049,"user_id":22063,"accept_rate":77,"display_name":"lowellk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37598,"favorite_count":0,"down_vote_count":0,"up_vote_count":39,"accepted_answer_id":134974,"answer_count":8,"score":39,"last_activity_date":1696460851,"creation_date":1222333176,"question_id":132231,"body_markdown":"When I&#39;m writing a Spring command line application which parses command line arguments, how do I pass them to Spring? Would I want to have my main() structured so that it first parses the command line args and then inits Spring? Even so, how would it pass the object holding the parsed args to Spring?","title":"Dealing with command line arguments and Spring","body":"<p>When I'm writing a Spring command line application which parses command line arguments, how do I pass them to Spring? Would I want to have my main() structured so that it first parses the command line args and then inits Spring? Even so, how would it pass the object holding the parsed args to Spring?</p>\n"},{"tags":["java","spring-boot-gradle-plugin"],"comments":[{"owner":{"account_id":1581709,"reputation":16841,"user_id":1466970,"accept_rate":73,"display_name":"Richard Chambers"},"score":2,"creation_date":1493298070,"post_id":43656432,"comment_id":74364457,"body_markdown":"looks like what ever address specified in the URL went to a device or server that refused the connection. this would normally be due to several possible issues: (1) there is no server at the address, (2) a firewall prevented the request from reaching the server process, (3) there is a server but due to its settings the server refused the request, (4) there is a server and it is set up to accept the request however the address is incorrect such as wrong port number specified.","body":"looks like what ever address specified in the URL went to a device or server that refused the connection. this would normally be due to several possible issues: (1) there is no server at the address, (2) a firewall prevented the request from reaching the server process, (3) there is a server but due to its settings the server refused the request, (4) there is a server and it is set up to accept the request however the address is incorrect such as wrong port number specified."},{"owner":{"account_id":1581709,"reputation":16841,"user_id":1466970,"accept_rate":73,"display_name":"Richard Chambers"},"score":0,"creation_date":1493298129,"post_id":43656432,"comment_id":74364493,"body_markdown":"without additional information such as a description of the target server along with a sample of the source code, difficult to see the problem is.","body":"without additional information such as a description of the target server along with a sample of the source code, difficult to see the problem is."}],"answers":[{"tags":[],"owner":{"account_id":937886,"reputation":91,"user_id":6187268,"display_name":"Ali Al-Shishani"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1503425319,"creation_date":1503425319,"answer_id":45824315,"question_id":43656432,"body_markdown":"I was facing a similar problem connecting to a spring web service. It on was on localhost:8080, when I changed localhost to an actual IP address it worked.","title":"I/O error on GET request","body":"<p>I was facing a similar problem connecting to a spring web service. It on was on localhost:8080, when I changed localhost to an actual IP address it worked.</p>\n"}],"owner":{"account_id":10778171,"reputation":81,"user_id":7929440,"display_name":"Arpit Mahajan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66484,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1696460372,"creation_date":1493292330,"question_id":43656432,"body_markdown":"I am using gradle for api and got this error :\r\n\r\n    Exception in thread &quot;main&quot; org.springframework.web.client.ResourceAccessException: I/O error on GET request for &quot;http://localhost:8080/SpringBootRestApi/api/user/&quot;:Connection refused: connect; nested exception is java.net.ConnectException: Connection refused: connect\r\n    \tat org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:580)\r\n    \tat org.springframework.web.client.RestTemplate.execute(RestTemplate.java:530)\r\n    \tat org.springframework.web.client.RestTemplate.getForObject(RestTemplate.java:237)\r\n    \tat com.websystique.springboot.SpringBootRestTestClient.listAllUsers(SpringBootRestTestClient.java:21)\r\n    \tat com.websystique.springboot.SpringBootRestTestClient.main(SpringBootRestTestClient.java:74)\r\n    Caused by: java.net.ConnectException: Connection refused: connect\r\n    \tat java.net.DualStackPlainSocketImpl.connect0(Native Method)\r\n    \tat java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:79)\r\n    \tat java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)\r\n    \tat java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)\r\n    \tat java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)\r\n    \tat java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172)\r\n    \tat java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)\r\n    \tat java.net.Socket.connect(Socket.java:589)\r\n    \tat java.net.Socket.connect(Socket.java:538)\r\n    \tat sun.net.NetworkClient.doConnect(NetworkClient.java:180)\r\n    \tat sun.net.www.http.HttpClient.openServer(HttpClient.java:432)\r\n    \tat sun.net.www.http.HttpClient.openServer(HttpClient.java:527)\r\n    \tat sun.net.www.http.HttpClient.&lt;init&gt;(HttpClient.java:211)\r\n    \tat sun.net.www.http.HttpClient.New(HttpClient.java:308)\r\n    \tat sun.net.www.http.HttpClient.New(HttpClient.java:326)\r\n    \tat sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:1202)\r\n    \tat sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1138)\r\n    \tat sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1032)\r\n    \tat sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:966)\r\n    \tat org.springframework.http.client.SimpleBufferingClientHttpRequest.executeInternal(SimpleBufferingClientHttpRequest.java:81)\r\n    \tat org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)\r\n    \tat org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:53)\r\n    \tat org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:569)\r\n    \t... 4 more\r\n\r\n","title":"I/O error on GET request","body":"<p>I am using gradle for api and got this error :</p>\n\n<pre><code>Exception in thread \"main\" org.springframework.web.client.ResourceAccessException: I/O error on GET request for \"http://localhost:8080/SpringBootRestApi/api/user/\":Connection refused: connect; nested exception is java.net.ConnectException: Connection refused: connect\n    at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:580)\n    at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:530)\n    at org.springframework.web.client.RestTemplate.getForObject(RestTemplate.java:237)\n    at com.websystique.springboot.SpringBootRestTestClient.listAllUsers(SpringBootRestTestClient.java:21)\n    at com.websystique.springboot.SpringBootRestTestClient.main(SpringBootRestTestClient.java:74)\nCaused by: java.net.ConnectException: Connection refused: connect\n    at java.net.DualStackPlainSocketImpl.connect0(Native Method)\n    at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:79)\n    at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)\n    at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)\n    at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)\n    at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172)\n    at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)\n    at java.net.Socket.connect(Socket.java:589)\n    at java.net.Socket.connect(Socket.java:538)\n    at sun.net.NetworkClient.doConnect(NetworkClient.java:180)\n    at sun.net.www.http.HttpClient.openServer(HttpClient.java:432)\n    at sun.net.www.http.HttpClient.openServer(HttpClient.java:527)\n    at sun.net.www.http.HttpClient.&lt;init&gt;(HttpClient.java:211)\n    at sun.net.www.http.HttpClient.New(HttpClient.java:308)\n    at sun.net.www.http.HttpClient.New(HttpClient.java:326)\n    at sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:1202)\n    at sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1138)\n    at sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1032)\n    at sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:966)\n    at org.springframework.http.client.SimpleBufferingClientHttpRequest.executeInternal(SimpleBufferingClientHttpRequest.java:81)\n    at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)\n    at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:53)\n    at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:569)\n    ... 4 more\n</code></pre>\n"},{"tags":["java","oop","design-patterns","cmd"],"comments":[{"owner":{"account_id":1455702,"reputation":15662,"user_id":1371329,"accept_rate":64,"display_name":"jaco0646"},"score":0,"creation_date":1696514151,"post_id":77229266,"comment_id":136165154,"body_markdown":"related: [What is the design pattern for processing command line arguments?](https://stackoverflow.com/q/54421/1371329)","body":"related: <a href=\"https://stackoverflow.com/q/54421/1371329\">What is the design pattern for processing command line arguments?</a>"}],"answers":[{"tags":[],"owner":{"account_id":3700031,"reputation":6378,"user_id":3080094,"display_name":"vanOekel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696433468,"creation_date":1696433468,"answer_id":77230951,"question_id":77229266,"body_markdown":"The command pattern has a couple of [uses](https://stackoverflow.com/questions/32597736/why-should-i-use-the-command-design-pattern-while-i-can-easily-call-required-met) but not for a simple terminal command parser as far as I can see. You could consider using one of the many command line parsers [available](https://stackoverflow.com/questions/367706/how-do-i-parse-command-line-arguments-in-java).\r\n\r\nI do agree that the `execute()` command should have no parameters - an important point of the pattern is the decoupling of the command object from other objects. Parameters would introduce coupling.\r\n\r\nOne approach to solve the issue is to look at the [wizards](https://en.wikipedia.org/wiki/Command_pattern) use-case for the command-line pattern. Instead of assuming everything is available from the beginning, build the command object until it is ready to execute.\r\n\r\nFirst, I want to point out that the `commandList` is a hidden `switch` statement. Unless you are sure you are going to need this map (in combination with reflection via `getContructor` etc.), I would not shy away from using a `switch`. See also [YAGNI](https://xkcd.com/974/).\r\n\r\nThe `getDispatchedCommand` can be limited to getting the appropriate command:\r\n```java\r\nCommandInterface getDispatchedCommand(String command) {\r\n  switch (command) {\r\n    &quot;cp&quot;: return new CpCommand();\r\n    // etc.\r\n}\r\n```\r\n`CpCommand` can implement `FileSystemCommandInterface` to set appropriate command values:\r\n```java\r\nFileSystemCommandInterface extends CommandInterface {\r\n  void setFileSystemModel(FileSystemModel fileSystemModel);\r\n  void setCommandArguments(String... args);\r\n}\r\n```\r\nA simple `instanceof` can determine if the returned command object needs the additional values. The help-command can simply only implement `CommandInterface` which does not require a `FileSystemModel` or `CommandArguments` (the latter you indicated, the first I assume). Note, however, that `help mv` could be implemented to give detailed information about the `mv` command (this is a common &quot;help&quot; command line pattern).\r\n\r\nThis is the gist of my idea, where exactly which code goes I&#39;ll leave up to you and what you think fits best with the command pattern.","title":"Simple Terminal Command Parser Design Issue","body":"<p>The command pattern has a couple of <a href=\"https://stackoverflow.com/questions/32597736/why-should-i-use-the-command-design-pattern-while-i-can-easily-call-required-met\">uses</a> but not for a simple terminal command parser as far as I can see. You could consider using one of the many command line parsers <a href=\"https://stackoverflow.com/questions/367706/how-do-i-parse-command-line-arguments-in-java\">available</a>.</p>\n<p>I do agree that the <code>execute()</code> command should have no parameters - an important point of the pattern is the decoupling of the command object from other objects. Parameters would introduce coupling.</p>\n<p>One approach to solve the issue is to look at the <a href=\"https://en.wikipedia.org/wiki/Command_pattern\" rel=\"nofollow noreferrer\">wizards</a> use-case for the command-line pattern. Instead of assuming everything is available from the beginning, build the command object until it is ready to execute.</p>\n<p>First, I want to point out that the <code>commandList</code> is a hidden <code>switch</code> statement. Unless you are sure you are going to need this map (in combination with reflection via <code>getContructor</code> etc.), I would not shy away from using a <code>switch</code>. See also <a href=\"https://xkcd.com/974/\" rel=\"nofollow noreferrer\">YAGNI</a>.</p>\n<p>The <code>getDispatchedCommand</code> can be limited to getting the appropriate command:</p>\n<pre class=\"lang-java prettyprint-override\"><code>CommandInterface getDispatchedCommand(String command) {\n  switch (command) {\n    &quot;cp&quot;: return new CpCommand();\n    // etc.\n}\n</code></pre>\n<p><code>CpCommand</code> can implement <code>FileSystemCommandInterface</code> to set appropriate command values:</p>\n<pre class=\"lang-java prettyprint-override\"><code>FileSystemCommandInterface extends CommandInterface {\n  void setFileSystemModel(FileSystemModel fileSystemModel);\n  void setCommandArguments(String... args);\n}\n</code></pre>\n<p>A simple <code>instanceof</code> can determine if the returned command object needs the additional values. The help-command can simply only implement <code>CommandInterface</code> which does not require a <code>FileSystemModel</code> or <code>CommandArguments</code> (the latter you indicated, the first I assume). Note, however, that <code>help mv</code> could be implemented to give detailed information about the <code>mv</code> command (this is a common &quot;help&quot; command line pattern).</p>\n<p>This is the gist of my idea, where exactly which code goes I'll leave up to you and what you think fits best with the command pattern.</p>\n"},{"tags":[],"owner":{"account_id":29595873,"reputation":11,"user_id":22682391,"display_name":"Celine"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1696460062,"creation_date":1696460062,"answer_id":77233413,"question_id":77229266,"body_markdown":"I am replying to my own thread since I found a &quot;workaround&quot;.\r\n\r\nFirst of all, I created a CommandsInfo annotation:\r\n```java\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Target(ElementType.TYPE)\r\npublic @interface CommandInfo {\r\n    String name();\r\n    int totalArguments();\r\n}\r\n```\r\n\r\nNext, I make sure that all my command classes are annotated with it. For example for `Cd`:\r\n```java\r\n@CommandInfo(name = &quot;cd&quot;, totalArguments = 1)\r\npublic class CdCommand implements CommandInterface {\r\n```\r\n\r\nNow, I use the `Reflections` library. This lets me avoid having to register all the commands manually. Since I have all the necessary classes annotated, I just scan in the current Commands package, find all classes that implement the CommandInterface *and* are annotated with the `CommandInfo`. By doing this I can insert all the command classes with their relative command name in my HashMap. The idea is that all I need to add a new command is creating its class and annotate it.\r\n```java\r\nprivate void initializeAllCommands() {\r\n        // Self notes\r\n        // 1. Scan the current package to find all the classes that implement the CommandInterface AND are annotated with CommandInfo.\r\n        final Package currentPackage = CommandExecutionController.class.getPackage();\r\n        final Reflections reflections = new Reflections(currentPackage.getName());\r\n        final Set&lt;Class&lt;?&gt;&gt; annotatedClasses = reflections.getTypesAnnotatedWith(CommandInfo.class);\r\n\r\n        for (Class&lt;?&gt; annotatedClass : annotatedClasses) {\r\n            // 2. Check if the current class implements the CommandInterface.\r\n            if (CommandInterface.class.isAssignableFrom(annotatedClass)) {\r\n                // 3. Check if there is the CommandInfo annotation for the current command class.\r\n                final CommandInfo annotation = annotatedClass.getAnnotation(CommandInfo.class);\r\n                if (annotation != null) {\r\n                    commandList.put(annotation.name(), annotatedClass.asSubclass(CommandInterface.class));\r\n                }\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\nNext, I call the dispatcher by passing the command name retrieved from the user input and the rest of the arguments.\r\n```java\r\n try {\r\n            final CommandInterface command = commandExecutionController.getDispatchedCommand(commandParts[0],\r\n                    Arrays.copyOfRange(commandParts, 1, commandParts.length));\r\n            return command.execute();\r\n        }\r\n```\r\n\r\nNext, all we need is to verify the syntax of the command. This becomes easier because all the classes are annotated with command name + the number of arguments that it takes:\r\n```java\r\nif (commandList.containsKey(commandName)) {\r\n            final Class&lt;? extends CommandInterface&gt; genericCommand = commandList.get(commandName);\r\n            final CommandInfo annotation = genericCommand.getAnnotation(CommandInfo.class);\r\n\r\n            if (annotation.totalArguments() != arguments.length) {\r\n                throw new IllegalArgumentException(&quot;Wrong number of arguments for command: &quot; + commandName\r\n                + &quot; [Expected: &quot; + annotation.totalArguments() + &quot;, provided: &quot; + arguments.length + &quot;]&quot;);\r\n            }\r\n\r\nreturn genericCommand.getConstructor(FileSystemModel.class, String[].class)\r\n                    .newInstance(fileSystemModel, arguments);\r\n\r\n```\r\n\r\n\r\nAnd finally, each command constructor can still keep the `String...` parameter. Since at the point of constructor we know that the syntax is correct, we can just do something like this as an example:\r\n```java\r\npublic MvCommand(final FileSystemModel receiver, final String... arguments) {\r\n        this.receiver = receiver;\r\n        this.origin = arguments[0];\r\n        this.destination = arguments[1];\r\n    }\r\n```\r\n\r\nIf we have a command that requires no argument, we can just avoid the `String...` parameter whatsoever.\r\n\r\n\r\nThis seems to work fine. It might be overengineered, but hey...\r\n\r\n(I would also like to thank vanOekel for their answer, by the way. I&#39;ve read it too late!!)","title":"Simple Terminal Command Parser Design Issue","body":"<p>I am replying to my own thread since I found a &quot;workaround&quot;.</p>\n<p>First of all, I created a CommandsInfo annotation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Retention(RetentionPolicy.RUNTIME)\n@Target(ElementType.TYPE)\npublic @interface CommandInfo {\n    String name();\n    int totalArguments();\n}\n</code></pre>\n<p>Next, I make sure that all my command classes are annotated with it. For example for <code>Cd</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@CommandInfo(name = &quot;cd&quot;, totalArguments = 1)\npublic class CdCommand implements CommandInterface {\n</code></pre>\n<p>Now, I use the <code>Reflections</code> library. This lets me avoid having to register all the commands manually. Since I have all the necessary classes annotated, I just scan in the current Commands package, find all classes that implement the CommandInterface <em>and</em> are annotated with the <code>CommandInfo</code>. By doing this I can insert all the command classes with their relative command name in my HashMap. The idea is that all I need to add a new command is creating its class and annotate it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private void initializeAllCommands() {\n        // Self notes\n        // 1. Scan the current package to find all the classes that implement the CommandInterface AND are annotated with CommandInfo.\n        final Package currentPackage = CommandExecutionController.class.getPackage();\n        final Reflections reflections = new Reflections(currentPackage.getName());\n        final Set&lt;Class&lt;?&gt;&gt; annotatedClasses = reflections.getTypesAnnotatedWith(CommandInfo.class);\n\n        for (Class&lt;?&gt; annotatedClass : annotatedClasses) {\n            // 2. Check if the current class implements the CommandInterface.\n            if (CommandInterface.class.isAssignableFrom(annotatedClass)) {\n                // 3. Check if there is the CommandInfo annotation for the current command class.\n                final CommandInfo annotation = annotatedClass.getAnnotation(CommandInfo.class);\n                if (annotation != null) {\n                    commandList.put(annotation.name(), annotatedClass.asSubclass(CommandInterface.class));\n                }\n            }\n        }\n    }\n</code></pre>\n<p>Next, I call the dispatcher by passing the command name retrieved from the user input and the rest of the arguments.</p>\n<pre class=\"lang-java prettyprint-override\"><code> try {\n            final CommandInterface command = commandExecutionController.getDispatchedCommand(commandParts[0],\n                    Arrays.copyOfRange(commandParts, 1, commandParts.length));\n            return command.execute();\n        }\n</code></pre>\n<p>Next, all we need is to verify the syntax of the command. This becomes easier because all the classes are annotated with command name + the number of arguments that it takes:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (commandList.containsKey(commandName)) {\n            final Class&lt;? extends CommandInterface&gt; genericCommand = commandList.get(commandName);\n            final CommandInfo annotation = genericCommand.getAnnotation(CommandInfo.class);\n\n            if (annotation.totalArguments() != arguments.length) {\n                throw new IllegalArgumentException(&quot;Wrong number of arguments for command: &quot; + commandName\n                + &quot; [Expected: &quot; + annotation.totalArguments() + &quot;, provided: &quot; + arguments.length + &quot;]&quot;);\n            }\n\nreturn genericCommand.getConstructor(FileSystemModel.class, String[].class)\n                    .newInstance(fileSystemModel, arguments);\n\n</code></pre>\n<p>And finally, each command constructor can still keep the <code>String...</code> parameter. Since at the point of constructor we know that the syntax is correct, we can just do something like this as an example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public MvCommand(final FileSystemModel receiver, final String... arguments) {\n        this.receiver = receiver;\n        this.origin = arguments[0];\n        this.destination = arguments[1];\n    }\n</code></pre>\n<p>If we have a command that requires no argument, we can just avoid the <code>String...</code> parameter whatsoever.</p>\n<p>This seems to work fine. It might be overengineered, but hey...</p>\n<p>(I would also like to thank vanOekel for their answer, by the way. I've read it too late!!)</p>\n"}],"owner":{"account_id":29595873,"reputation":11,"user_id":22682391,"display_name":"Celine"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77233413,"answer_count":2,"score":1,"last_activity_date":1696460062,"creation_date":1696419647,"question_id":77229266,"body_markdown":"**BRIEF EXPLANATION.**\r\n\r\nI am implementing a very simple command parser that requires me to handle a few commands:\r\n`pw path`, `mv source destination`, `help`, and some others.\r\nThe commands always start with the `command name`, and then there are either 0, 1 or 2 strings after that. I do not exclude that the number of strings may change in the future, but the structure is always the same (as it is now).\r\n\r\nI thought I could use the command pattern for this. Everything seems good in [my schema][1]. However, when I attempted to implement it, I realized that there&#39;s a flaw.\r\n\r\n\r\nI currently pass the necessary information to the constructors of each Command (each command has its own class as the design pattern suggests). For example, the `CdCommand` constructor takes the FileSystem and a `String Path`, the `MvCommand` takes the FileSystem and `String source, String dest`, while the `HelpCommand` only takes the FileSystem.\r\nThe issue is that I only know the inputs *after* I have called the constructors. That&#39;s because in my design I initialize the HashMap inside `CommandExecutionController` at the beginning of the program, by hardcoding the command names and passing in the correct command objects.\r\n\r\nI could solve this by mandating that all Command classes have a `String...` parameter in their `execute()` method. But this would also force commands that don&#39;t require any string (such as the `help` command) to have this unneeded parameter.\r\n\r\nI am looking for ways to mitigate this issue in practice. I&#39;ve seen multiple times that the Command Pattern might be a fair solution for this, but haven&#39;t yet found any thread that explains what exactly could be done to solve the issue I&#39;m experiencing.\r\n\r\nIdeally I would want to follow this pattern and avoid `if-else` or `switches` (because they&#39;re not scalable), and especially avoid the `String...` parameter (because not all concrete command classes require it).\r\n\r\n**ACTUAL CODE.**\r\n\r\n`CommandExecutionController`:\r\n```java\r\npublic class CommandExecutionController {\r\n    private final HashMap&lt;String, Class&lt;? extends CommandInterface&gt;&gt; commandList;\r\n    private final FileSystemModel fileSystemModel;\r\n\r\n    public CommandExecutionController(final FileSystemModel fileSystemModel) {\r\n        this.commandList = new HashMap&lt;&gt;();\r\n        this.fileSystemModel = fileSystemModel;\r\n    }\r\n\r\n    public void register(final String commandName, Class&lt;? extends CommandInterface&gt; commandClass) {\r\n        commandList.put(commandName, commandClass);\r\n    }\r\n\r\n    public CommandInterface getDispatchedCommand(final String commandName, final String... arguments)\r\n            throws NoSuchMethodException, InvocationTargetException, InstantiationException, IllegalAccessException\r\n    {\r\n        if (commandList.containsKey(commandName)) {\r\n            Class&lt;? extends CommandInterface&gt; command = commandList.get(commandName);\r\n            return command.getConstructor(FileSystemModel.class, String[].class).newInstance(fileSystemModel, arguments);\r\n        }\r\n        throw new IllegalArgumentException(&quot;Command NOT found: &quot; + commandName);\r\n    }\r\n```\r\n\r\n`CdCommand`:\r\n```java\r\npublic class CdCommand implements CommandInterface {\r\n    private final String path;\r\n    private final FileSystemModel fileSystemModel;\r\n\r\n    public CdCommand(final FileSystemModel fileSystemModel, final String... arguments) {\r\n        this.path = arguments[0];\r\n        this.fileSystemModel = fileSystemModel;\r\n    }\r\n\r\n    @Override\r\n    public String execute() {\r\n       return fileSystemModel.cd(path);\r\n    }\r\n}\r\n```\r\n\r\nHow I&#39;m currently calling it:\r\n```\r\ntext = text.trim();\r\n        final String[] commandParts = text.split(&quot;\\\\s+&quot;);\r\n        final boolean isCommandCorrect = commandParts.length &gt; 0 &amp;&amp; checkCommandExistence(commandParts[0]);\r\n\r\n        // Test dispatching\r\n        if (commandParts.length &gt; 0) {\r\n            try {\r\n                final CommandInterface command = commandExecutionController.getDispatchedCommand(commandParts[0],\r\n                        String.join(&quot; &quot;, Arrays.copyOfRange(commandParts, 1, commandParts.length))\r\n                );\r\n                return command.execute();\r\n            } catch (NoSuchMethodException | InvocationTargetException | InstantiationException |\r\n                     IllegalAccessException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n```\r\n\r\nI&#39;ve looked up other stack overflow threads regarding this question and the command pattern, but found no solutions for my current issue.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KPEsY.png","title":"Simple Terminal Command Parser Design Issue","body":"<p><strong>BRIEF EXPLANATION.</strong></p>\n<p>I am implementing a very simple command parser that requires me to handle a few commands:\n<code>pw path</code>, <code>mv source destination</code>, <code>help</code>, and some others.\nThe commands always start with the <code>command name</code>, and then there are either 0, 1 or 2 strings after that. I do not exclude that the number of strings may change in the future, but the structure is always the same (as it is now).</p>\n<p>I thought I could use the command pattern for this. Everything seems good in <a href=\"https://i.stack.imgur.com/KPEsY.png\" rel=\"nofollow noreferrer\">my schema</a>. However, when I attempted to implement it, I realized that there's a flaw.</p>\n<p>I currently pass the necessary information to the constructors of each Command (each command has its own class as the design pattern suggests). For example, the <code>CdCommand</code> constructor takes the FileSystem and a <code>String Path</code>, the <code>MvCommand</code> takes the FileSystem and <code>String source, String dest</code>, while the <code>HelpCommand</code> only takes the FileSystem.\nThe issue is that I only know the inputs <em>after</em> I have called the constructors. That's because in my design I initialize the HashMap inside <code>CommandExecutionController</code> at the beginning of the program, by hardcoding the command names and passing in the correct command objects.</p>\n<p>I could solve this by mandating that all Command classes have a <code>String...</code> parameter in their <code>execute()</code> method. But this would also force commands that don't require any string (such as the <code>help</code> command) to have this unneeded parameter.</p>\n<p>I am looking for ways to mitigate this issue in practice. I've seen multiple times that the Command Pattern might be a fair solution for this, but haven't yet found any thread that explains what exactly could be done to solve the issue I'm experiencing.</p>\n<p>Ideally I would want to follow this pattern and avoid <code>if-else</code> or <code>switches</code> (because they're not scalable), and especially avoid the <code>String...</code> parameter (because not all concrete command classes require it).</p>\n<p><strong>ACTUAL CODE.</strong></p>\n<p><code>CommandExecutionController</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class CommandExecutionController {\n    private final HashMap&lt;String, Class&lt;? extends CommandInterface&gt;&gt; commandList;\n    private final FileSystemModel fileSystemModel;\n\n    public CommandExecutionController(final FileSystemModel fileSystemModel) {\n        this.commandList = new HashMap&lt;&gt;();\n        this.fileSystemModel = fileSystemModel;\n    }\n\n    public void register(final String commandName, Class&lt;? extends CommandInterface&gt; commandClass) {\n        commandList.put(commandName, commandClass);\n    }\n\n    public CommandInterface getDispatchedCommand(final String commandName, final String... arguments)\n            throws NoSuchMethodException, InvocationTargetException, InstantiationException, IllegalAccessException\n    {\n        if (commandList.containsKey(commandName)) {\n            Class&lt;? extends CommandInterface&gt; command = commandList.get(commandName);\n            return command.getConstructor(FileSystemModel.class, String[].class).newInstance(fileSystemModel, arguments);\n        }\n        throw new IllegalArgumentException(&quot;Command NOT found: &quot; + commandName);\n    }\n</code></pre>\n<p><code>CdCommand</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class CdCommand implements CommandInterface {\n    private final String path;\n    private final FileSystemModel fileSystemModel;\n\n    public CdCommand(final FileSystemModel fileSystemModel, final String... arguments) {\n        this.path = arguments[0];\n        this.fileSystemModel = fileSystemModel;\n    }\n\n    @Override\n    public String execute() {\n       return fileSystemModel.cd(path);\n    }\n}\n</code></pre>\n<p>How I'm currently calling it:</p>\n<pre><code>text = text.trim();\n        final String[] commandParts = text.split(&quot;\\\\s+&quot;);\n        final boolean isCommandCorrect = commandParts.length &gt; 0 &amp;&amp; checkCommandExistence(commandParts[0]);\n\n        // Test dispatching\n        if (commandParts.length &gt; 0) {\n            try {\n                final CommandInterface command = commandExecutionController.getDispatchedCommand(commandParts[0],\n                        String.join(&quot; &quot;, Arrays.copyOfRange(commandParts, 1, commandParts.length))\n                );\n                return command.execute();\n            } catch (NoSuchMethodException | InvocationTargetException | InstantiationException |\n                     IllegalAccessException e) {\n                throw new RuntimeException(e);\n            }\n        }\n</code></pre>\n<p>I've looked up other stack overflow threads regarding this question and the command pattern, but found no solutions for my current issue.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9863,"page":142,"page_size":100}
